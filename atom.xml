<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mrli&#39;s Blog</title>
  
  <subtitle>åˆ«è£…ä½œå¾ˆåŠªåŠ›ï¼Œç»“å±€ä¸ä¼šé™ªä½ æ¼”æˆã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://nymrli.top/"/>
  <updated>2020-03-25T05:53:32.082Z</updated>
  <id>https://nymrli.top/</id>
  
  <author>
    <name>Mrli</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>VsCodeé…ç½®Latex(texLive)ç¯å¢ƒ</title>
    <link href="https://nymrli.top/2020/03/23/VsCode%E9%85%8D%E7%BD%AELatex(texLive)%E7%8E%AF%E5%A2%83/"/>
    <id>https://nymrli.top/2020/03/23/VsCodeé…ç½®Latex(texLive)ç¯å¢ƒ/</id>
    <published>2020-03-23T07:04:53.000Z</published>
    <updated>2020-03-25T05:53:32.082Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å†™åœ¨å‰é¢: é™¤äº†é…ç½®VsCodeä»¥å¤–ï¼Œ æˆ‘è¿˜é…ç½®äº†Sublimeï¼Œä¸€å¼€å§‹æ˜¯ä¸æƒ³ç”¨<a href="https://www.sumatrapdfreader.org/download-free-pdf-viewer.html" target="_blank" rel="noopener">SumatraPDF</a>ï¼Œä»¥ä¸ºèƒ½çœçš„ã€‚äº‹å®ä¸Šï¼ŒVscodeä¹Ÿç¡®å®æä¾›äº†ä¸‰ç§æ–¹æ³•ï¼šåœ¨web browserã€ç¼–è¾‘å™¨tabã€å¤–éƒ¨PDFé˜…è¯»å™¨ï¼Œå…±ä¸‰ç§åŠæ³•ã€‚ä¸ªäººæ„Ÿè§‰tabç•Œé¢å¤ªå°ã€æµè§ˆå™¨æŸ¥çœ‹æ¯•ç«Ÿè¿˜æ˜¯æ²¡æœ‰PDFèˆ’æœï¼Œæœ€åéƒ½ä½“éªŒä¸‹æ¥è¿˜æ˜¯é€‰æ‹©äº†å¤–éƒ¨é˜…è¯»å™¨ï¼Œè€Œä¸”SumatraPDFæ”¯æŒæ­£å‘ã€åå‘æœç´¢ï¼ŒæŒºé¦™çš„ã€‚å½“ç„¶ï¼Œè¿˜æœ‰ç§åšæ³•æ˜¯æŠŠPDFç¼–è¯‘å‡ºæ¥ä»¥åï¼Œå†ç”¨æ—¥å¸¸ä½¿ç”¨çš„é˜…è¯»å™¨æ‰“å¼€PDFé˜…è¯»ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä¸ªäººå¹³æ—¶ç”¨ç¦æ˜•PDFé˜…è¯»å™¨ä¼šå¤šä¸€ç‚¹</p><p>SumatraPDFé˜…è¯»å™¨æ˜¯ä¸ªéå¸¸è½»é‡çº§çš„PDFé˜…è¯»å™¨ï¼Œå¼€æºè½»å·§ï¼Œå…å®‰è£…ï¼Œå…±14.6MBã€‚è¦æƒ³é…å¥—ä½¿ç”¨PDFé˜…è¯»å™¨ï¼Œç½‘ä¸Šæ•™ç¨‹åŸºæœ¬ä¸Šæ¨èçš„éƒ½æ˜¯SumatraPDFï¼Œåº”è¯¥æ˜¯SumatraPDFåœ¨é€‚é…Latexä¸Šåšçš„æ¯”è¾ƒå¥½ã€‚æˆ‘è¯•äº†è¯•æŒ‡å®šç¦æ˜•å¤±è´¥äº†ã€‚</p></blockquote><h1 id="å®‰è£…texlive"><a class="markdownIt-Anchor" href="#å®‰è£…texlive"></a> å®‰è£…Texlive</h1><p>ä¸ŠTexliveçš„å®˜ç½‘ï¼Œ æœ‰<em>åœ¨çº¿å®‰è£…</em>å’Œ<em>DVDå®‰è£…</em>ä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä»¬é€‰æ‹©åè€…ã€‚åœ¨http://mirrors.sjtug.sjtu.edu.cn/ctan/systems/texlive/Images/ä¸­ä¸‹è½½<code>texlive2019.iso</code>çš„é•œåƒï¼Œä¹‹åè§£å‹ï¼Œé€‰æ‹©<code>install-tl-advanced.bat</code>é…ç½®é«˜çº§ç‰ˆ(æœ€å¥½å³é”®<strong>ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</strong>)ã€‚</p><p>å¯ä»¥ç‚¹å‡»â€œAdvancedâ€è¿›å…¥é«˜çº§å®‰è£…æ¥ä¿®æ”¹å®‰è£…ä½ç½®ã€å–æ¶ˆä½ ä¸éœ€è¦å®‰è£…çš„å®åŒ…ã€‚å…¶ä¸­<em>TeXworks å‰ç«¯</em>å°±æ˜¯å®ƒè‡ªå¸¦çš„ç¼–è¾‘å™¨ï¼Œä¸éœ€è¦çš„å¯ä»¥å–æ¶ˆã€‚è¯­è¨€æˆ‘åŸºæœ¬å°±åªé€‰äº†<code>Chinese, Chinese/Janpanse/Korean, English</code></p><p><img src="https://pic4.zhimg.com/80/v2-e4af1253d81437690bea363d923bddeb_hd.jpg" alt=""></p><p>ç‚¹å‡»â€œCustomizeâ€æ¥å–æ¶ˆå‹¾é€‰ä¸éœ€è¦çš„å®åŒ…ã€‚</p><p><img src="https://pic4.zhimg.com/80/v2-f3e77646f2b270dd94ea6463a8c7d2ab_hd.jpg" alt=""></p><p>å¾ˆå¤šå®åŒ…å’ŒåŠŸèƒ½æˆ‘ä¸ªäººå¹¶ä¸éœ€è¦ï¼Œå› æ­¤æˆ‘åœ¨è¿™é‡Œå–æ¶ˆå‹¾é€‰ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®éœ€è¦å‹¾é€‰è‡ªå·±éœ€è¦çš„åŠŸèƒ½ï¼Œå¦‚æœå«Œéº»çƒ¦å…¨éƒ¨å®‰è£…ä¹Ÿå¯ä»¥ï¼Œå¹¶ä¸æ¶ˆè€—å¤šå°‘ç©ºé—´ã€‚</p><p>è®¾ç½®å®Œå®‰è£…è·¯å¾„ç­‰é€‰é¡¹ä¹‹åç‚¹å‡»â€œå®‰è£…â€ï¼Œä¹‹åé™å 20 åˆ†é’Ÿç­‰å¾…å®‰è£…å®Œæˆã€‚</p><h1 id="å®‰è£…vscode"><a class="markdownIt-Anchor" href="#å®‰è£…vscode"></a> å®‰è£…VsCode</h1><p>ç•¥, åŸºæœ¬å®‰è£…å°±è¡Œäº†ã€‚ç”¨äº†å¾ˆä¹…çš„Sublimeï¼Œ çªç„¶é—´æƒ³æ¢ä¸ªæ–°çš„äº†ï¼Œ è€Œä¸”VsCodeç¡®å®ä¹Ÿéå¸¸å¥½çœ‹ã€‚</p><h1 id="å®‰è£…vscodeä¸­latexæ’ä»¶-latex-workshop"><a class="markdownIt-Anchor" href="#å®‰è£…vscodeä¸­latexæ’ä»¶-latex-workshop"></a> å®‰è£…VsCodeä¸­Latexæ’ä»¶â€”â€” LaTeX Workshop</h1><p><img src="https://pic2.zhimg.com/80/v2-9f0a10a9f3fc21f1c67d0a33c9cdfb09_hd.jpg" alt=""></p><p>æ­¤æ—¶å¯¼å…¥Latexå·¥ç¨‹ï¼ŒæŸ¥çœ‹texæ–‡ä»¶å°±å¯ä»¥çœ‹åˆ°å…³é”®å­—é«˜äº®äº†ã€‚</p><h2 id="é…ç½®latex-workshop-æ’ä»¶"><a class="markdownIt-Anchor" href="#é…ç½®latex-workshop-æ’ä»¶"></a> é…ç½®LaTeX Workshop æ’ä»¶</h2><p>èœå•æ &quot;File-&gt;Preference-&gt;Settings&quot;ç„¶åé€‰æ‹©å³ä¸Šè§’ä¸‰ä¸ªæŒ‰é’®ä¸­æœ€å·¦è¾¹çš„(Open settings(JSON)), ç„¶åå°†æ‹¬å·é‡Œçš„å†…å®¹å¡«å……åˆ°å¤§æ‹¬å·é‡Œå°±è¡Œäº†ï¼Œä¸‹é¢å·²ç»æ˜¯æˆ‘JSONé…ç½®çš„å®‰è£…æ–‡ä»¶ï¼Œå¯å¤åˆ¶ç›´æ¥æ›¿æ¢ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "latex-workshop.showContextMenu":true, //å³é”®èœå•</span><br><span class="line">    "latex-workshop.latex.tools": [</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"latexmk"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"latexmk"</span>,</span><br><span class="line">        <span class="attr">"args"</span>: [</span><br><span class="line">        <span class="string">"-synctex=1"</span>,</span><br><span class="line">        <span class="string">"-interaction=nonstopmode"</span>,</span><br><span class="line">        <span class="string">"-file-line-error"</span>,</span><br><span class="line">        <span class="string">"-pdf"</span>,</span><br><span class="line">        <span class="string">"%DOC%"</span></span><br><span class="line">        ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"xelatex"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"xelatex"</span>,</span><br><span class="line">        <span class="attr">"args"</span>: [</span><br><span class="line">        <span class="string">"-synctex=1"</span>,</span><br><span class="line">        <span class="string">"-interaction=nonstopmode"</span>,</span><br><span class="line">        <span class="string">"-file-line-error"</span>,</span><br><span class="line">        <span class="string">"%DOC%"</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,          </span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"pdflatex"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"pdflatex"</span>,</span><br><span class="line">        <span class="attr">"args"</span>: [</span><br><span class="line">        <span class="string">"-synctex=1"</span>,</span><br><span class="line">        <span class="string">"-interaction=nonstopmode"</span>,</span><br><span class="line">        <span class="string">"-file-line-error"</span>,</span><br><span class="line">        <span class="string">"%DOC%"</span></span><br><span class="line">        ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"bibtex"</span>,</span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"bibtex"</span>,</span><br><span class="line">        <span class="attr">"args"</span>: [</span><br><span class="line">        <span class="string">"%DOCFILE%"</span></span><br><span class="line">        ]</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">"latex-workshop.latex.recipes": [</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"xelatex"</span>,</span><br><span class="line">        <span class="attr">"tools"</span>: [</span><br><span class="line">        <span class="string">"xelatex"</span></span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"latexmk"</span>,</span><br><span class="line">        <span class="attr">"tools"</span>: [</span><br><span class="line">        <span class="string">"latexmk"</span></span><br><span class="line">                    ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">        <span class="attr">"name"</span>: <span class="string">"pdflatex -&gt; bibtex -&gt; pdflatex*2"</span>,</span><br><span class="line">        <span class="attr">"tools"</span>: [</span><br><span class="line">        <span class="string">"pdflatex"</span>,</span><br><span class="line">        <span class="string">"bibtex"</span>,</span><br><span class="line">        <span class="string">"pdflatex"</span>,</span><br><span class="line">        <span class="string">"pdflatex"</span></span><br><span class="line">                    ]</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">"latex-workshop.view.pdf.viewer": "browser",  </span><br><span class="line">//"latex-workshop.view.pdf.viewer": "external",</span><br><span class="line">//"latex-workshop.view.pdf.ref.viewer":"external",</span><br><span class="line"></span><br><span class="line">//"latex-workshop.view.pdf.external.viewer.command": "E:\\aå¸¸ç”¨å·¥å…·\\SumatraPDF-3.2-64\\SumatraPDF-3.2-64.exe", // æ³¨æ„ä¿®æ”¹è·¯å¾„</span><br><span class="line">//"latex-workshop.view.pdf.external.synctex": &#123;</span><br><span class="line">//    "command": "E:\\aå¸¸ç”¨å·¥å…·\\SumatraPDF-3.2-64\\SumatraPDF-3.2-64.exe",</span><br><span class="line">//    "args": [</span><br><span class="line">//        "-forward-search",</span><br><span class="line"> //       "%TEX%",</span><br><span class="line">//        "%LINE%",</span><br><span class="line">//        "%PDF%"</span><br><span class="line">//    ]</span><br><span class="line">//&#125;,</span><br><span class="line">"latex-workshop.latex.clean.fileTypes": [</span><br><span class="line">    "*.aux",</span><br><span class="line">    "*.bbl",</span><br><span class="line">    "*.blg",</span><br><span class="line">    "*.idx",</span><br><span class="line">    "*.ind",</span><br><span class="line">    "*.lof",</span><br><span class="line">    "*.lot",</span><br><span class="line">    "*.out",</span><br><span class="line">    "*.toc",</span><br><span class="line">    "*.acn",</span><br><span class="line">    "*.acr",</span><br><span class="line">    "*.alg",</span><br><span class="line">    "*.glg",</span><br><span class="line">    "*.glo",</span><br><span class="line">    "*.gls",</span><br><span class="line">    "*.ist",</span><br><span class="line">    "*.fls",</span><br><span class="line">    "*.log",</span><br><span class="line">    <span class="string">"*.fdb_latexmk"</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–²ä¿å­˜åï¼Œä¸€å®šè¦é‡å¯VsCodeï¼Œä¸ç„¶æ— æ³•ç”Ÿæ•ˆã€‚æˆ‘å½“æ—¶å°±æ˜¯ç›´æ¥å»ç¼–è¯‘äº†ï¼ŒæŠ¥äº†<code>Recipe terminated with fatal error: spawn pdflatex ENOENT.</code>çš„é”™è¯¯æç¤ºã€‚</p><p>å…¶ä¸­éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼š<code>&quot;latex-workshop.view.pdf.viewer&quot;: &quot;browser&quot;,</code>è®¾ç½®çš„æ˜¯é»˜è®¤é˜…è§ˆPDFçš„æ–¹å¼ï¼Œä¸€å…±æœ‰3ç§ï¼šweb browserã€ç¼–è¾‘å™¨tabã€å¤–éƒ¨PDFé˜…è¯»å™¨ã€‚æˆ‘æ³¨é‡Šæ‰çš„æ˜¯è®¾ç½®SumatraPDFçš„æ–¹å¼ã€‚è¿™ä¸ªè®¾ç½®å¥½åï¼Œå†åœ¨Vscodeä¸­é€‰æ‹©<code>View Latex PDF</code>æ—¶å°±ä¼šæ ¹æ®è¿™ä¸ªé…ç½®æ‰“å¼€é»˜è®¤é˜…è¯»PDFçš„æ–¹å¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç‚¹å¼€<code>View Latex PDF</code>çš„ä¸‹æ‹‰é€‰é¡¹ï¼Œè¿›è¡ŒæŒ‡å®šæ–¹å¼çš„æŸ¥é˜…ã€‚</p><h4 id="æ­£å‘æœç´¢"><a class="markdownIt-Anchor" href="#æ­£å‘æœç´¢"></a> æ­£å‘æœç´¢</h4><blockquote><p>æŸ¥çœ‹codeä¸­é€‰ä¸­çš„å†…å®¹åœ¨PDFä¸­ä»€ä¹ˆä½ç½®ã€‚</p></blockquote><p>é€‰æ‹©å¤–éƒ¨é˜…è¯»å™¨åï¼Œå¯ä»¥é€šè¿‡åŠ å…¥ä¸‹åˆ—å®ç°æ­£å‘æœç´¢åŠŸèƒ½ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">"latex-workshop.view.pdf.external.synctex": &#123;</span><br><span class="line">    "command": "E:/Programs/SumatraPDF/SumatraPDF.exe",// ä¿®æ”¹SumatraPDFè·¯å¾„</span><br><span class="line">    "args": [</span><br><span class="line">        "-forward-search",</span><br><span class="line">        "%TEX%",</span><br><span class="line">        "%LINE%",</span><br><span class="line">        <span class="string">"%PDF%"</span></span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><strong>æ­£å‘æœç´¢çš„ä½¿ç”¨</strong>ï¼šå°†å…‰æ ‡ç§»åŠ¨åˆ°TeXæ–‡ä»¶çš„æ­£æ–‡ã€‚<code>ctrl+alt+x</code>ï¼Œæ‰¾åˆ°&quot;navigator,select and edit&quot;ï¼Œç‚¹å‡»ç¬¬ä¸€é¡¹<code>syncTeX from cursor</code>(æˆ–å³é”®é€‰æ‹©ï¼Œæˆ–<strong>å¿«æ·é”®</strong><code>ctrl+alt+j</code>)ï¼Œä¼šåˆ‡æ¢åˆ°PDFæ–‡ä»¶çš„ç›¸åº”ä½ç½®ã€‚â€”â€”è®¾ç½®â€œLatexå³é”®èœå•â€åä¹Ÿå¯ä»¥å³é”®é€‰æ‹©<code>syncTeX from cursor</code></p><h4 id="åå‘æœç´¢"><a class="markdownIt-Anchor" href="#åå‘æœç´¢"></a> åå‘æœç´¢</h4><blockquote><p>æŸ¥çœ‹PDFä¸­é€‰ä¸­çš„å†…å®¹åœ¨codeä¸­ä»€ä¹ˆä½ç½®ã€‚</p></blockquote><p>é€‰æ‹©&quot;è®¾ç½®-&gt;é€‰é¡¹&quot;</p><p><img src="/2020/03/23/VsCodeé…ç½®Latex(texLive)ç¯å¢ƒ/E:%5Chexo%5Csource_posts%5CVsCode%E9%85%8D%E7%BD%AELatex(texLive)%E7%8E%AF%E5%A2%83%5C1.jpg" alt="1"></p><p><img src="https://pic1.zhimg.com/80/v2-2df9b5aacaeb4a26e216a951f98b893c_hd.jpg" alt=""></p><p>å°†ä¸‹åˆ—å†…å®¹å¡«å…¥ç®­å¤´æ‰€æŒ‡ä½ç½®ï¼Œè·¯å¾„ä¿®æ”¹ä¸‹å³å¯ï¼ˆä¸ºä¸€è¡Œå†…å®¹ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;C:\Users\Marvey\AppData\Local\Programs\Microsoft VS Code\Code.exe&quot; &quot;C:\Users\Marvey\AppData\Local\Programs\Microsoft VS Code\resources\app\out\cli.js&quot; -g &quot;%f&quot;:&quot;%l&quot;</span><br></pre></td></tr></table></figure><p>æ„Ÿè°¢ <a href="https://www.zhihu.com/people/f5b398ec143be394e91c762ed6cda2f9" target="_blank" rel="noopener">@Macrofuns</a>æŒ‡å‡ºï¼Œå¦‚æœä¸åŠ åŒå¼•å·ï¼Œåœ¨æ–‡ä»¶è·¯å¾„æœ‰ç©ºæ ¼çš„æƒ…å†µä¸‹ä¼šå¯¼è‡´æ— æ³•åå‘æœç´¢ï¼‰</p><h4 id="å…¶ä»–è®¾ç½®"><a class="markdownIt-Anchor" href="#å…¶ä»–è®¾ç½®"></a> å…¶ä»–è®¾ç½®</h4><ul><li>LaTeX Workshop é»˜è®¤ä¿å­˜çš„æ—¶å€™è‡ªåŠ¨ç¼–è¯‘ï¼Œå¦‚æœä¸å–œæ¬¢è¿™ä¸ªè®¾ç½®ï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹ä»£ç è¿›å…¥è®¾ç½®åŒºï¼š</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"latex-workshop.showContextMenu":true, //å³é”®èœå• </span><br><span class="line">"latex-workshop.intellisense.package.enabled": true, //æ ¹æ®åŠ è½½çš„åŒ…ï¼Œè‡ªåŠ¨å®Œæˆå‘½ä»¤æˆ–åŒ… </span><br><span class="line">"latex-workshop.latex.autoBuild.run": "never", //ç¦æ­¢ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨build</span><br></pre></td></tr></table></figure><p>å€Ÿé‰´Fromï¼š <a href="https://www.liangzl.com/get-article-detail-136508.html" target="_blank" rel="noopener">ä½¿ç”¨VSCodeç¼–å†™LaTeX(latex+vscode+SumatraPDF)</a></p><p>æœ€åæ¨èä¸¤ä¸ªé…ç½®è§†é¢‘ï¼š</p><ul><li><a href="https://www.bilibili.com/video/BV1Et411f7GV?t=581" target="_blank" rel="noopener">ä½¿ç”¨ Sublime Text +TexLive æ­å»º LaTeX ç¼–å†™ç¯å¢ƒ</a>â€”â€”ç”¨sublimeçœ‹è¿™ä¸ªè§†é¢‘åŸºæœ¬å°±å¤Ÿäº†</li><li><a href="https://www.bilibili.com/video/BV1JE411K7ij" target="_blank" rel="noopener">ä¸ºVSCodeé…ç½®LaTexç¼–è¯‘ç¯å¢ƒ(TeXLive)</a></li></ul><hr><h1 id="vscodeå…¶ä»–é…ç½®"><a class="markdownIt-Anchor" href="#vscodeå…¶ä»–é…ç½®"></a> VsCodeå…¶ä»–é…ç½®</h1><blockquote><p>ä¸å‡†å¤‡å•ç‹¬å†å¼€ä¸€ç¯‡æ–‡ç« ä»‹ç»æˆ‘æ€ä¹ˆé…ç½®çš„äº†ï¼Œ å°±åœ¨æ­¤ç¯‡æ–‡ç« é‡Œç•¥å¾®æåŠä¸‹æŠŠã€‚</p></blockquote><p>é¦–å…ˆæ˜¯æ’ä»¶ä»‹ç»ï¼š</p><ul><li>Code run</li></ul><blockquote><p>èƒ½å¤Ÿè®©ä½ çš„IDEåŸºæœ¬ä¸Šè¿è¡Œå¤§å¤šæ•°ä»£ç ï¼Œåªå¥½å®‰è£…ç¼–ç¨‹è¯­è¨€æ—¶Pathè®¾ç½®æ­£ç¡®ï¼Œé»˜è®¤é…ç½®å°±å¯ä»¥ç›´æ¥è¿è¡Œã€‚</p><p>é»˜è®¤ç¼–è¯‘è¿è¡Œçš„å¿«æ·é”®æ˜¯<code>ctrl + Alt + N</code>ï¼Œç”±äºä¹‹å‰ç”¨çš„éƒ½æ˜¯Sublimeï¼Œ é‡Œé¢ç¼–è¯‘æ˜¯<code>Ctrl+B</code>ï¼Œ å› æ­¤ç”¨ä¹ æƒ¯åæœ‰ç‚¹ä¸æƒ³æ”¹å°±ç›´æ¥ä¿®æ”¹æ‰äº†ã€‚æ–¹æ³•ä¸ºï¼š<code>Ctrl + Shift + P</code>æ‰“å¼€è¾“å…¥æ¡†ï¼Œè¾“å…¥<code>Keyboard Shortcuts</code>, å°±ä¼šå¼¹å‡ºç›®å‰æ‰€æœ‰çš„å¿«æ·é”®ï¼Œç„¶åå†å°†åŸæ¥çš„<code>Ctrl +B</code>çš„å¿«æ·é”®å–æ¶ˆ(ç›´æ¥è¾“å…¥<code>Ctrl +B</code>å°±èƒ½æ‰¾åˆ°ç›®å‰è°çš„å¿«æ·é”®æ˜¯<code>Ctrl +B</code>)ï¼Œç„¶åå†è¾“å…¥<code>Code run</code>ï¼Œå°†å…¶å¿«æ·é”®è®¾ç½®ä¸º<code>Ctrl +B</code>å³å¯ã€‚</p></blockquote><p>åœ¨è¿è¡ŒPythonä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œä¸€ç›´æŠ¥é”™: <code>The environment variable 'Path' seems to have some paths containing the '&quot;' character. The existence of such a character is known to have caused the Python extension to not load. If the extension fails to load please modify your paths to remove this '&quot;' character.</code>åæ¥åœ¨æ‰¾åˆ°<a href="https://blog.csdn.net/liao1049164366/article/details/102988435" target="_blank" rel="noopener">è§£å†³æ–¹æ¡ˆ</a>ğŸ˜—* æ˜¯å› ä¸ºä½ åœ¨æ·»åŠ å…¶ä»–ç¯å¢ƒå˜é‡æ—¶ï¼ŒåŠ äº†; åˆ†å·â€”&gt;åˆ æ‰å°±å¥½äº†**</p><ul><li>open in browser</li></ul><blockquote><p>ç¼–å†™htmlé¡µé¢è°ƒè¯•æ—¶æ¯”è¾ƒæ–¹ä¾¿</p></blockquote><ul><li>koroFileHeader</li></ul><blockquote><p>è‡ªåŠ¨ç”Ÿæˆå¤´éƒ¨æ³¨é‡Šå’Œå‡½æ•°æ³¨é‡Šçš„ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ï¼Œé™¤äº†htmlä»¥å¤–åŸºæœ¬ä¸Šéƒ½èƒ½ç”¨ï¼ŒæŒºå¥½ä½¿çš„ã€‚</p></blockquote><p>å¦‚æœä¸æ»¡æ„é»˜è®¤é…ç½®ï¼Œ å¯ä»¥è‡ªå·±å†ç¨å¾®è°ƒä¸€è°ƒï¼Œå±•ç¤ºä¸‹æˆ‘çš„è®¾ç½®ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    /**</span><br><span class="line">     * @description: Latexç›¸å…³é…ç½®</span><br><span class="line">     */    </span><br><span class="line">    "latex-workshop.showContextMenu":true, //å³é”®èœå•</span><br><span class="line">    // ...Latexçš„å¤ªå¤šäº†, å°±ä¸ä¸€ä¸€å±•ç¤ºäº†.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @description: koroFileHeaderç›¸å…³é…ç½®</span><br><span class="line">     * ctrl+alt+i,æ·»åŠ æ–‡ä»¶å¤´æ³¨é‡Š, ctrl+alt+t,æ·»åŠ å‡½æ•°æ³¨é‡Š</span><br><span class="line">     * "Do not edit"çš„å†…å®¹ä¼šè‡ªåŠ¨æ·»åŠ </span><br><span class="line">     */</span><br><span class="line">    "fileheader.customMade": &#123;         //æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š</span><br><span class="line">        "Author": "Mrli",</span><br><span class="line">        "Date": "Do not edit",              // æ–‡ä»¶åˆ›å»ºäº‹ä»¶</span><br><span class="line">        "LastEditTime": "Do not edit",      // æ–‡ä»¶æœ€åç¼–è¾‘æ—¶é—´</span><br><span class="line">        "Description": "",</span><br><span class="line">    &#125;,</span><br><span class="line">    "fileheader.cursorMode": &#123;          // å‡½æ•°æ³¨é‡Š </span><br><span class="line">        "Author": "Mrli",</span><br><span class="line">        "Date": "Do not edit",              // å½“å‰æ—¶é—´, å‡½æ•°çš„å¼€å§‹ç¼–å†™ã€å®Œæˆç¼–å†™æ—¶é—´</span><br><span class="line">        "Description": "",</span><br><span class="line">        "param": "",</span><br><span class="line">        "return": "",</span><br><span class="line">    &#125;,</span><br><span class="line">    "editor.fontFamily": "Monaco, 'Courier New', monospace"</span><br><span class="line">&#125;// å¥½ç”¨æ’ä»¶æ¨è https://blog.csdn.net/qq_41139830/article/details/85221330</span><br></pre></td></tr></table></figure><p>ç”¨æˆ·å¯¹æ’ä»¶çš„è‡ªå®šä¹‰é…ç½®åŸºæœ¬ä¸Šéƒ½æ˜¯å†™åœ¨è¿™ä¸ªsettings.jsonä¸‹ã€‚å½“ç„¶ï¼Œå¯ä»¥å¯¹æŸä¸ªé¡¹ç›®å•ç‹¬è®¾ç½®é…ç½®ï¼Œå³ä¼šåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆ<code>.vscode</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¼šæœ‰ä¸ª<code>settings.json</code>æ¥è¿›è¡Œé…ç½®.</p><ul><li>Bracket Pair Colorizer</li></ul><blockquote><p>ç¼–å†™JSä»£ç æ—¶æˆ‘æ˜¯æ„Ÿè§‰çœŸçš„å¥½ç”¨ï¼ŒJSé‡Œå¤§æ‹¬å·å’Œæ‹¬å·æœ‰æ—¶çœŸçš„å¾ˆéš¾è®°å¾—åŒ¹é…æ¬¡åºã€‚</p></blockquote><ul><li>Anaconda Extension Pack</li></ul><blockquote><p>å°±å›¾ä»–çš„å…³é”®å­—æé†’è¡¥å…¨ã€‚</p></blockquote><p>æ’ä»¶æ¯”è¾ƒå¤§ï¼Œ å®‰è£…äº†æŒºä¹…çš„ï¼Œå¥½åƒè¿˜è‡ªå¸¦ä¸€ä¸ªPython Extensionæ’ä»¶ã€‚</p><ul><li>Autopep8</li></ul><p>æµ‹è¯•è‡ªåŠ¨è§„èŒƒä»£ç (<code>Alt + Shift + F</code>)æ—¶ï¼Œæç¤ºè¦å®‰è£…Autopep8ï¼Œé‚£å°±å®‰è£…å’¯ã€‚ä½†è¿™ä¸ªåº”è¯¥åªèƒ½ç®—Pythonçš„æ’ä»¶ï¼Œ<code>python.exe -m pip install -U autopep8 --user</code></p><ul><li><h3 id="path-autocomplete"><a class="markdownIt-Anchor" href="#path-autocomplete"></a> Path Autocomplete</h3></li></ul><blockquote><p>æœ‰æ—¶å€™ç¨‹åºéœ€è¦è¯»å–æ–‡ä»¶ï¼Œè‡ªå·±æ‰‹åŠ¨å»å¤åˆ¶æ–‡ä»¶è·¯å¾„è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œä¸è¿‡æœ‰äº†è¿™ä¸ªæ’ä»¶å°±æ–¹ä¾¿å¤šäº†ï¼Œå®ƒèƒ½è‡ªåŠ¨æ„ŸçŸ¥å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œåªéœ€è¦ä½ è‡ªå·±é€‰æ‹©å°±å¥½äº†ã€‚</p></blockquote><ul><li>windows opacity</li></ul><blockquote><p>è®¾ç½®çª—å£é€æ˜åº¦çš„ï¼Œä¸€å¼€å§‹ä»¥ä¸ºæŒºå¥½ç”¨ï¼Œ ç”¨äº†åå‘ç°è‡ªå·±è¿˜æƒ³ä¸å¤ªå–œæ¬¢ï¼Œ çœŸçš„æ˜¯å¤ªé€æ˜äº†ï¼Œå¯ä»¥è®¾ç½®0-255ï¼Œ 240æˆ‘ç”¨ç€å·®ä¸å¤šã€‚ï¼ˆ0çš„è¯ä¼šæ¶ˆå¤±çš„ï¼‰</p></blockquote><p>è¿˜æœ‰äº›å¯ä»¥ç½‘ä¸Šå†æ‰¾æ‰¾ï¼Œæ¨ä¸ªæŒºä¸é”™çš„åšå®¢ï¼š <a href="https://blog.csdn.net/hnshhshjq/article/details/80140401" target="_blank" rel="noopener">https://blog.csdn.net/hnshhshjq/article/details/80140401</a></p><hr><p>å¿«æ·é”®: <a href="https://www.cnblogs.com/schut/p/10461840.html" target="_blank" rel="noopener">https://www.cnblogs.com/schut/p/10461840.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å†™åœ¨å‰é¢: é™¤äº†é…ç½®VsCodeä»¥å¤–ï¼Œ æˆ‘è¿˜é…ç½®äº†Sublimeï¼Œä¸€å¼€å§‹æ˜¯ä¸æƒ³ç”¨&lt;a href=&quot;https://www.sumatrapdfreader.org/download-free-pdf-viewer.html&quot; target=&quot;_bl
      
    
    </summary>
    
    
      <category term="ç¯å¢ƒé…ç½®" scheme="https://nymrli.top/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•ç¬”è®°Codeupé¢˜è§£</title>
    <link href="https://nymrli.top/2020/03/04/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0Codeup%E9%A2%98%E8%A7%A3/"/>
    <id>https://nymrli.top/2020/03/04/ç®—æ³•ç¬”è®°Codeupé¢˜è§£/</id>
    <published>2020-03-04T06:21:49.000Z</published>
    <updated>2020-03-04T14:22:59.262Z</updated>
    
    <content type="html"><![CDATA[<h2 id="100000612-ç®—æ³•ç¬”è®°93å°èŠ‚æ•°æ®ç»“æ„ä¸“é¢˜2-æ ‘çš„éå†"><a class="markdownIt-Anchor" href="#100000612-ç®—æ³•ç¬”è®°93å°èŠ‚æ•°æ®ç»“æ„ä¸“é¢˜2-æ ‘çš„éå†"></a> <a href="http://codeup.cn/contest.php?cid=100000612" target="_blank" rel="noopener">100000612 - ã€Šç®—æ³•ç¬”è®°ã€‹9.3å°èŠ‚â€”â€”æ•°æ®ç»“æ„ä¸“é¢˜(2)-&gt;æ ‘çš„éå†</a></h2><h3 id="é—®é¢˜-a-æ ‘æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#é—®é¢˜-a-æ ‘æŸ¥æ‰¾"></a> é—®é¢˜ A: æ ‘æŸ¥æ‰¾</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> arr[MAXN];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">fast_pow</span><span class="params">(<span class="keyword">int</span> d, <span class="keyword">int</span> base)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = d;</span><br><span class="line">    ll res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>( n &amp; <span class="number">1</span>) res = res*base;</span><br><span class="line">        base = base * base;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, d;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt;n &amp;&amp; n)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">           <span class="built_in">cin</span> &gt;&gt; arr[i]; </span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt;d;</span><br><span class="line">        <span class="keyword">if</span> ( n &lt; fast_pow(d, <span class="number">2</span>) )&#123;      <span class="comment">// då±‚æ²¡æœ‰èŠ‚ç‚¹</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"EMPTY"</span>&lt;&lt;<span class="built_in">endl</span>; </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> beginn = fast_pow(d<span class="number">-1</span>, <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">int</span> endn = fast_pow(d, <span class="number">2</span>);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; beginn;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = beginn+ <span class="number">1</span>; i &lt; n &amp;&amp; i&lt; endn; ++i)</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt; <span class="string">" "</span> &lt;&lt; i ;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é—®é¢˜-b-æ ‘çš„é«˜åº¦"><a class="markdownIt-Anchor" href="#é—®é¢˜-b-æ ‘çš„é«˜åº¦"></a> é—®é¢˜ B: æ ‘çš„é«˜åº¦</h3><blockquote><p>é¢˜ç›®è¦æ±‚æˆ‘ä»¬ç»ƒä¹ æ ‘çš„é™æ€å†™æ³•ã€‚ä½†å…¶å®è¿™é“é¢˜ç›´æ¥è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„é«˜åº¦å°±è¡Œäº†ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> height;  </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; child;</span><br><span class="line">&#125;Nodearr[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getHeight</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(Nodearr[i].height &gt; m)</span><br><span class="line">            m = Nodearr[i].height;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">int</span> a, b;</span><br><span class="line">    Nodearr[<span class="number">1</span>].height = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;a,&amp;b)!=EOF)&#123;</span><br><span class="line">        <span class="comment">// Nodearr[a].child.push_back(b);</span></span><br><span class="line">        Nodearr[b].height = Nodearr[a].height +<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; getHeight() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­£è§„å†™æ³•ï¼šå…ˆæ„å»ºæ ‘ï¼Œ ç„¶åå†å±‚æ¬¡éå†è®¡ç®—é«˜åº¦</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> m=<span class="number">10010</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> layer;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; child;</span><br><span class="line">&#125;tree[m];</span><br><span class="line"><span class="keyword">int</span> MaxHigh;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ‘çš„é™æ€å†™æ³•çš„å±‚æ¬¡éå†</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> root)</span></span>&#123;</span><br><span class="line">MaxHigh=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">tree[root].layer =<span class="number">1</span>;</span><br><span class="line">q.push(root);</span><br><span class="line"><span class="keyword">if</span>(tree[root].layer&gt;MaxHigh) MaxHigh=tree[root].layer;</span><br><span class="line"><span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line"><span class="keyword">int</span> front=q.front() ;</span><br><span class="line">q.pop();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tree[front].child.size();i++)&#123;</span><br><span class="line"><span class="keyword">int</span> child=tree[front].child[i];</span><br><span class="line">tree[child].layer =tree[front].layer +<span class="number">1</span>;</span><br><span class="line">q.push(child);</span><br><span class="line"><span class="keyword">if</span>(tree[child].layer&gt;MaxHigh) MaxHigh=tree[child].layer;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n,a,b;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;a,&amp;b)!=EOF)&#123;</span><br><span class="line">tree[a].child.push_back(b);</span><br><span class="line">&#125;</span><br><span class="line">BFS(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,MaxHigh);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="100000613-ç®—æ³•ç¬”è®°94å°èŠ‚æ•°æ®ç»“æ„ä¸“é¢˜2-äºŒå‰æŸ¥æ‰¾æ ‘bst"><a class="markdownIt-Anchor" href="#100000613-ç®—æ³•ç¬”è®°94å°èŠ‚æ•°æ®ç»“æ„ä¸“é¢˜2-äºŒå‰æŸ¥æ‰¾æ ‘bst"></a> 100000613 - ã€Šç®—æ³•ç¬”è®°ã€‹9.4å°èŠ‚â€”â€”æ•°æ®ç»“æ„ä¸“é¢˜(2)-&gt;äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰</h2><h3 id="é—®é¢˜-a-äºŒå‰æ’åºæ ‘"><a class="markdownIt-Anchor" href="#é—®é¢˜-a-äºŒå‰æ’åºæ ‘"></a> é—®é¢˜ A: äºŒå‰æ’åºæ ‘</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> data[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    Node *lc, *rc;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Node* <span class="title">newNode</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    Node *now = <span class="keyword">new</span> Node;</span><br><span class="line">    now-&gt;v = x;</span><br><span class="line">    now-&gt;lc = now-&gt;rc = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> now;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Node* &amp;root, <span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>)&#123;   </span><br><span class="line">        root = newNode(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root-&gt;v == x) <span class="keyword">return</span>; <span class="comment">// å·²å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; root-&gt;v ) insert(root-&gt;lc, x);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; root-&gt;v ) insert(root-&gt;rc, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">createTree</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Node *root = <span class="literal">NULL</span>;  <span class="comment">// â–²æ³¨æ„æ­¤å¤„æ˜¯NULLï¼Œ è€Œä¸æ˜¯new Node</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        insert(root, data[i]);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node *root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span> ) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    preOrder(root-&gt;lc);</span><br><span class="line">    preOrder(root-&gt;rc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(Node *root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span> ) <span class="keyword">return</span>;</span><br><span class="line">    inOrder(root-&gt;lc);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    inOrder(root-&gt;rc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(Node *root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span> ) <span class="keyword">return</span>;</span><br><span class="line">    postOrder(root-&gt;lc);</span><br><span class="line">    postOrder(root-&gt;rc);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; data[i];</span><br><span class="line">        Node* root = createTree();</span><br><span class="line">        preOrder(root);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        inOrder(root);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        postOrder(root);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é—®é¢˜-b-äºŒå‰æœç´¢æ ‘"><a class="markdownIt-Anchor" href="#é—®é¢˜-b-äºŒå‰æœç´¢æ ‘"></a> é—®é¢˜ B: äºŒå‰æœç´¢æ ‘</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> data[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> v;</span><br><span class="line">    Node *lc, *rc;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Node* <span class="title">newNode</span><span class="params">(<span class="keyword">char</span> x)</span></span>&#123;</span><br><span class="line">    Node *now = <span class="keyword">new</span> Node;</span><br><span class="line">    now-&gt;v = x;</span><br><span class="line">    now-&gt;lc = now-&gt;rc = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> now;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Node* &amp;root, <span class="keyword">char</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        root = newNode(x);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x == root-&gt;v ) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; root-&gt;v ) insert(root-&gt;lc, x);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; root-&gt;v ) insert(root-&gt;rc, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node* <span class="title">createTree</span><span class="params">(<span class="built_in">string</span> s)</span></span>&#123;</span><br><span class="line">    Node *root = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.size(); ++i)&#123;</span><br><span class="line">        insert(root, s[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node *root, <span class="built_in">string</span> &amp;s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span> ) <span class="keyword">return</span>;</span><br><span class="line">    s += root-&gt;v;</span><br><span class="line">    preOrder(root-&gt;lc, s);</span><br><span class="line">    preOrder(root-&gt;rc, s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(Node *root, <span class="built_in">string</span> &amp;s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span> ) <span class="keyword">return</span>;</span><br><span class="line">    inOrder(root-&gt;lc, s);</span><br><span class="line">    s += root-&gt;v;</span><br><span class="line">    inOrder(root-&gt;rc, s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(Node *root, <span class="built_in">string</span> &amp;s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span> ) <span class="keyword">return</span>;</span><br><span class="line">    postOrder(root-&gt;lc, s);</span><br><span class="line">    postOrder(root-&gt;rc, s);</span><br><span class="line">    s += root-&gt;v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)&#123;</span><br><span class="line">        <span class="built_in">string</span> target;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; target;</span><br><span class="line">        <span class="built_in">string</span> preans, postans;</span><br><span class="line">        Node *ans = createTree(target);</span><br><span class="line">        preOrder(ans, preans);</span><br><span class="line">        postOrder(ans, postans);</span><br><span class="line">        <span class="comment">// inOrder(root, in);     // ç”±äºä¸­åºéå†çš„ç»“æœå°±æ˜¯æ’åºçš„ç»“æœ, å› æ­¤éƒ½ä¸€æ ·</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="built_in">string</span> s;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">            <span class="built_in">string</span> in, pre, post;</span><br><span class="line">            Node *root = createTree(s);</span><br><span class="line">            preOrder(root, pre);</span><br><span class="line">            <span class="keyword">if</span> (pre == preans)&#123;</span><br><span class="line">                postOrder(root, post);</span><br><span class="line">                <span class="keyword">if</span> (post == postans) <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">else</span>  <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>  <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">         &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;100000612-ç®—æ³•ç¬”è®°93å°èŠ‚æ•°æ®ç»“æ„ä¸“é¢˜2-æ ‘çš„éå†&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#100000612-ç®—æ³•ç¬”è®°93å°èŠ‚æ•°æ®ç»“æ„ä¸“é¢˜2-æ ‘çš„éå†&quot;&gt;&lt;/a&gt; &lt;a href=&quot;http://codeup.cn/c
      
    
    </summary>
    
    
      <category term="C++" scheme="https://nymrli.top/tags/C/"/>
    
      <category term="Algorithm" scheme="https://nymrli.top/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>å­¦ä¼šæŠ•èµ„â€”â€”åšä¸€ä¸ªå°å°çš„è‚¡æ°‘</title>
    <link href="https://nymrli.top/2020/02/03/%E5%AD%A6%E4%BC%9A%E6%8A%95%E8%B5%84%E2%80%94%E2%80%94%E5%81%9A%E4%B8%80%E4%B8%AA%E5%B0%8F%E5%B0%8F%E7%9A%84%E8%82%A1%E6%B0%91/"/>
    <id>https://nymrli.top/2020/02/03/å­¦ä¼šæŠ•èµ„â€”â€”åšä¸€ä¸ªå°å°çš„è‚¡æ°‘/</id>
    <published>2020-02-03T09:03:38.000Z</published>
    <updated>2020-02-04T10:54:19.602Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¿™ä¸€å­¦æœŸä»»é€‰è¯¾é€‰çš„æ˜¯æŠ•èµ„ç†è´¢ï¼Œæœ¬ä¹Ÿæœ‰æ„æ¥è§¦æŠ•èµ„è¿™ä¸€æ–¹é¢ï¼Œå› æ­¤åœ¨å¼€å­¦åä¸æ–­æ¥è§¦è‚¡ç¥¨ç›¸å…³çŸ¥è¯†ï¼Œä¸æ–­åœ¨æ¨¡æ‹Ÿç›˜å°è¯•ã€‚åœ¨2019å¹´11æœˆ6æ—¥æ­£å¼å…³æ³¨è‚¡ç¥¨ï¼Œå¼€å§‹å®ç›˜ç‚’è‚¡ã€‚</p><p>ç”±äºå¾ˆå¤šæ¦‚å¿µç‚¹æŒæ¡çš„ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œæ‰€ä»¥å†³å®šæŠŠæ‰€æœ‰ç›¸å…³æ¦‚å¿µå…¨éƒ½æœæŸ¥ç¡®è®¤ä¸€éï¼ŒåŒæ—¶è®°å½•ä¸‹æ¥ï¼Œæœ‰ç›Šä»–äººå…¥é—¨ã€‚</p></blockquote><h1 id="å…¥é—¨æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#å…¥é—¨æ¦‚å¿µ"></a> å…¥é—¨æ¦‚å¿µ</h1><h2 id="kçº¿"><a class="markdownIt-Anchor" href="#kçº¿"></a> Kçº¿</h2><p><img src="https://bkimg.cdn.bcebos.com/pic/d4628535e5dde7117f5feca7a7efce1b9c1661d6?x-bce-process=image/watermark,g_7,image_d2F0ZXIvYmFpa2U4MA==,xp_5,yp_5" alt="Kçº¿"></p><h3 id="é˜»åŠ›ä½å’Œæ”¯æ’‘ä½"><a class="markdownIt-Anchor" href="#é˜»åŠ›ä½å’Œæ”¯æ’‘ä½"></a> é˜»åŠ›ä½å’Œæ”¯æ’‘ä½</h3><p>æˆ‘ä»¬æŠŠâ€œå‘ä¸Šåå¼¹çš„åº•ç‚¹â€ç§°ä¸ºæ”¯æ’‘ä½ã€‚ç”¨æŸä¸ªä»·æ ¼æ°´å¹³æˆ–å›¾è¡¨ä¸ŠæŸä¸ªåŒºåŸŸæ¥è¡¨ç¤ºã€‚åœ¨è¿™ä¸ªç‚¹ä½ä¸‹æ–¹,ä¹°æ–¹å…´è¶£å¼ºå¤§,è¶³ä»¥æŠ—æ‹’å–æ–¹å½¢æˆçš„å¼ºå¤§å‹åŠ›ã€‚ç»“æœä»·æ ¼åœ¨è¿™é‡Œåœæ­¢ä¸‹è·Œ,å›å¤´å‘ä¸Šåå¼¹ã€‚é€šå¸¸,å½“å‰ä¸€ä¸ªå‘ä¸Šåå¼¹çš„åº•ç‚¹å½¢æˆå,å°±å¯ä»¥ç¡®å®šä¸€ä¸ªæ”¯æ’‘ä½äº†ã€‚åä¹‹åˆ™ä¸ºé˜»åŠ›ä½.â€”â€”æ”¯æ’‘ä½è¡¨æ˜äº†ï¼Œè¿™åªè‚¡ç¥¨åˆç†çš„ä»·æ ¼åŒºé—´ï¼Œä¸€èˆ¬åœ¨è‚¡ä»·ä¸Šå‡ä¹‹åéƒ½ä¼šæœ‰å›è°ƒè¿‡ç¨‹ï¼ˆå³ä¸»åŠ›éªŒè¯æŸä¸€ä¸ªä»·ä½çš„æ”¯æ’‘ç¡®å®æœ‰æ•ˆï¼Œè€Œä¸»åŠ¨ä¸‹è·Œåˆ°æŸä¸ªä»·ä½ï¼‰</p><p><img src="http://www.net767.com/book/UploadFiles_8829/200903/2009030719351531.bmp" alt=""></p><h4 id="ç®±ä½“æ”¯æ’‘"><a class="markdownIt-Anchor" href="#ç®±ä½“æ”¯æ’‘"></a> ç®±ä½“æ”¯æ’‘</h4><p><img src="http://www.net767.com/book/UploadFiles_8829/201004/2010041414000675.gif" alt=""></p><h3 id="è¾¨åˆ«é˜»åŠ›ä½"><a class="markdownIt-Anchor" href="#è¾¨åˆ«é˜»åŠ›ä½"></a> è¾¨åˆ«é˜»åŠ›ä½</h3><p>å½“è‚¡ä»·åœ¨ä¸€ä¸ªä»·æ ¼åŒºåŸŸæ³¢åŠ¨æ—¶åˆ»è¶Šä¹…ï¼Œè¡¨æ˜åœ¨è¿™ä¸ªåŒºåŸŸä¹°è¿›çš„å‡ºèµ„äººè¶Šå¤šï¼Œè‚¡ä»·è·Œç ´è¿™ä¸€åŒºåŸŸï¼Œä¹°è¿›çš„å‡ºèµ„äººè¢«å¥—ï¼Œè·Ÿç€æ—¶åˆ»çš„æ¨ç§»ï¼Œä¾¥å¹¸å¿ƒç†å‰Šå‡ã€‚å½“è‚¡ä»·ä»å¤´å›åˆ°è¯¥åŒºåŸŸï¼Œå¤§å¤šæ•°å‡ºèµ„è€…ä¼šé€‰æ‹©å–å‡ºè§£å¥—ï¼Œå‰Šå‡ä¸¢å¤±ã€‚åœ¨è¿™ä¸ªåŒºåŸŸä¹Ÿå°±å½¢æˆäº†é˜»åŠ›ä½ã€‚</p><p>ä»å¿ƒç†çš„è§†ç‚¹æ¥è®²ï¼Œå½“è‚¡ä»·ä¸Šæ¶¨è‡³ä¸€ä¸ªé«˜ç‚¹å›è½ä¹‹åï¼Œè‹¥è‚¡ä»·å†æ¬¡ä¸Šæ¶¨ï¼Œè®¸å¤šå‡ºèµ„äººå°±ä¼šå¼€ç«¯çŒœæƒ³è¿™æ³¢è¡Œæƒ…çš„æ‹ç‚¹ã€‚å½“ä»·æ ¼æŒ¨è¿‘å‰æœŸé«˜ç‚¹æ—¶ï¼Œä¸ºäº†æ±‚ç¨³ï¼Œä¾¿ä¼šæŠ›å‡ºæ‰€æŒè‚¡ç¥¨ï¼Œå‰é«˜ä¹Ÿå°±æˆä¸ºäº†é˜»åŠ›ä½ã€‚</p><p>æˆ‘ä»¬ç»è¿‡å†å²æ¥åˆ¤åˆ«çš„æ‰€è°“æ”¯æ’‘ä¸é˜»åŠ›æ˜¯ä¸å¯é çš„ã€‚å¦‚æœåœ¨ä¸€äº›è®²åº§å¬åˆ°ä¸“å®¶åªèƒ½è·Ÿç€è¡Œæƒ…çš„å±è‚¡æ¥å®šæ‰€è°“é˜»åŠ›ä¸æ”¯æ’‘ï¼Œè€Œåº•å­ä¸çŸ¥é“è¿™ä¸ªé˜»ä½æ˜¯å¦çœŸçš„èƒ½é˜»ä½ï¼Œè¿™ä¸ªæ”¯æ’‘æ˜¯å¦èƒ½çœŸçš„æ’‘ä½ã€‚è¿™äº›è§‚å¿µå°±æ˜¯è¿‡é”™çš„ï¼Œæˆ‘ä»¬ä¸è¦è½»ä¿¡ï¼Œæˆ‘ä»¬æœ€å¥½èƒ½å¤Ÿä¾æ®è‡ªå·±çš„ç»å†æ¥è¾¨è®¤é˜»åŠ›ä½ï¼Œå®ƒå¯¹å„ä½çš„å‡ºèµ„å®ä¸šè¿˜æ˜¯å¾ˆæœ‰å«ä¹‰çš„ã€‚</p><h2 id="è‚¡ç¥¨æˆäº¤åŸå› "><a class="markdownIt-Anchor" href="#è‚¡ç¥¨æˆäº¤åŸå› "></a> è‚¡ç¥¨æˆäº¤åŸå› </h2><p>è‚¡ç¥¨ä»·æ ¼èƒ½å¤Ÿæˆäº¤çš„åŸå› æ˜¯å› ä¸ºåˆ†æ­§ï¼ŒAè§‰å¾—å½“å‰ä»·æ ¼é«˜ä¼°äº†æ‰€ä»¥æ„¿æ„å–å‡ºï¼ŒBè§‰å¾—å½“å‰ä»·æ ¼ä½ä¼°äº†æ‰€ä»¥æ„¿æ„ä¹°å…¥ï¼Œäº’ç›¸éƒ½è®¤ä¸ºè‡ªå·±åˆ¤æ–­æ­£ç¡®ï¼Œå¯¹æ–¹åˆ¤æ–­é”™è¯¯ï¼Œæ‰€ä»¥éƒ½æ¥æ”¶å¯¹æ–¹çš„å‡ºä»·ï¼Œå½“å‰ä»·æ ¼æ‰èƒ½å¤Ÿæˆäº¤ã€‚</p><h2 id="æˆäº¤é‡"><a class="markdownIt-Anchor" href="#æˆäº¤é‡"></a> æˆäº¤é‡</h2><h3 id="æ”¾é‡-æ”¾å¤§æˆäº¤é‡"><a class="markdownIt-Anchor" href="#æ”¾é‡-æ”¾å¤§æˆäº¤é‡"></a> æ”¾é‡-æ”¾å¤§æˆäº¤é‡</h3><p>æ”¾é‡ï¼Œå°±æ˜¯â€”â€”æ”¾å¤§æˆäº¤é‡çš„æ„æ€ã€‚æˆäº¤æ”¾é‡çš„ç°è±¡ï¼Œè¡¨ç¤ºåœ¨è¿™ä¸ªä½ç½®åˆ†æ­§æ›´å¤§ï¼Œæ›´å¤šäººå–å‡ºï¼Œä¹Ÿæœ‰æ›´å¤šäººä¹°å…¥ï¼Œæœ€ç»ˆä¹°å…¥çš„å¤§äºå–å‡ºçš„ï¼Œè¿˜æœ‰åœ¨å½“å‰ä»·æ ¼æ²¡ä¹°åˆ°è‚¡ç¥¨çš„äººï¼Œåªæœ‰æé«˜ä»·æ ¼å»ä¹°å…¥äº†ï¼Œäºæ˜¯ä»·æ ¼å°±å†²è¿‡é˜»åŠ›ä½äº†ã€‚â€”â€”æˆäº¤å³ä¸ºæ¢æ‰‹ï¼Œå› æ­¤è·Ÿæ¢æ‰‹ç‡ç›¸å…³ã€‚</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">æ¢</mi><mi mathvariant="normal">æ‰‹</mi><mi mathvariant="normal">ç‡</mi><mo>=</mo><mfrac><mrow><mi mathvariant="normal">æˆ</mi><mi mathvariant="normal">äº¤</mi><mi mathvariant="normal">é‡</mi></mrow><mrow><mi mathvariant="normal">å‘</mi><mi mathvariant="normal">è¡Œ</mi><mi mathvariant="normal">æ€»</mi><mi mathvariant="normal">è‚¡</mi><mi mathvariant="normal">æ•°</mi><mo stretchy="false">(</mo><mi mathvariant="normal">æ‰‹</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">æ¢æ‰‹ç‡ = \frac{æˆäº¤é‡}{å‘è¡Œæ€»è‚¡æ•° (æ‰‹)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mord cjk_fallback">æ¢</span><span class="mord cjk_fallback">æ‰‹</span><span class="mord cjk_fallback">ç‡</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.613em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.677em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">å‘</span><span class="mord cjk_fallback">è¡Œ</span><span class="mord cjk_fallback">æ€»</span><span class="mord cjk_fallback">è‚¡</span><span class="mord cjk_fallback">æ•°</span><span class="mopen">(</span><span class="mord cjk_fallback">æ‰‹</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">æˆ</span><span class="mord cjk_fallback">äº¤</span><span class="mord cjk_fallback">é‡</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h3 id="è‚¡å¸‚æ”¾é‡çš„åŸå› "><a class="markdownIt-Anchor" href="#è‚¡å¸‚æ”¾é‡çš„åŸå› "></a> è‚¡å¸‚æ”¾é‡çš„åŸå› ï¼š</h3><p>æœ‰æ—¶å±äºä¸»åŠ›å‡ºè´§,æœ‰æ—¶å±äºä¸»åŠ›æ¢åº„</p><p><strong>ä¸»åŠ›å‡ºè´§ï¼š</strong></p><p>ä¸ªè‚¡åœ¨ä½ä½è¿è¡Œä¸­ï¼Œçªç„¶å¼€å§‹æ€¥é€Ÿæ‹‰å‡ï¼Œä¼´éšæˆäº¤é‡å¤§å¹…æ”¾é‡ï¼Œè¯´æ˜ä¸»åŠ›åœ¨è¶æœº<strong>å¸ç­¹</strong>ï¼Œæ‹‰é«˜çš„ç›®åœ°æ˜¯ç»™æ•£æˆ·ä¸€ç‚¹<strong>åˆ©æ¶¦ï¼Œä½¿ä»–ä»¬å‡ºå±€</strong>ï¼Œä¸»åŠ›è¶æœºå¸æ”¶ç­¹ç ã€‚<br>ä¸ªè‚¡æœ‰å¯èƒ½ä¼šä»æ­¤å¼€å§‹é€æ­¥æ‹‰å‡ï¼Œä½¿æ•£æˆ·ä¸æ•¢å†è¿½é«˜ï¼Œçœ¼çççœ‹ç€ä¸ªè‚¡ç»å°˜è€Œå»ï¼Œä»¥è‡³äºåˆ°æœ€åè¢«è¿«è¿½é«˜ï¼Œä¸»åŠ›è¶æœºå‡ºè´§ã€‚ä¹Ÿå¯èƒ½ä¸ªè‚¡è¿˜è¦ç›˜æ•´ä¸€æ®µæ—¶é—´ï¼Œç»§ç»­æŠ˜ç£¨æ•£æˆ·çš„è€æ€§ï¼Œä½¿ä»–ä»¬è¯¯è®¤ä¸ºå‰æ¬¡çš„æ‹‰é«˜æ˜¯ä¸»åŠ›åœ¨å‡ºè´§ï¼Œè¿«ä½¿æ•£æˆ·ä¸§å¤±ä¿¡å¿ƒï¼Œäº¤å‡ºç­¹ç ã€‚</p><h3 id="æˆäº¤é‡æ•°å€¼çš„æ„ä¹‰"><a class="markdownIt-Anchor" href="#æˆäº¤é‡æ•°å€¼çš„æ„ä¹‰"></a> æˆäº¤é‡æ•°å€¼çš„æ„ä¹‰:</h3><p>è‚¡ç¥¨ä»·æ ¼å‘ä¸Šçªç ´é˜»åŠ›ä½ç½®ï¼Œæ¯”å¦‚çªç ´é‡å­æ²™ç›˜æç¤ºçš„ç©ºå¤´é˜²çº¿Dæˆ–Eï¼Œ<strong>çªç ´å‘ä¸Š</strong>ï¼Œå°±<strong>éœ€è¦æœ‰æ¯”å¹³æ—¶å¤šçš„æˆäº¤é‡</strong>ï¼Œæ‰èƒ½å†²è¿‡Dæˆ–Eç»§ç»­å‘ä¸Šã€‚</p><p>è€Œå‘ä¸‹è·Œç ´å¤šå¤´é˜²çº¿Cä¸éœ€è¦è¿‡å¤šæˆäº¤é‡ï¼Œå¤šå¤´åªè¦æ”¾å¼ƒé˜²å®ˆï¼Œ<strong>æ²¡æœ‰ä¹°å…¥çš„åŠ¨ä½œå’ŒåŠ›é‡ï¼Œä»·æ ¼å°±ä¼šè·Œè½</strong>ï¼Œè¿™æ—¶å€™æˆäº¤é‡å¯ä»¥ä¸æ”¾å¤§ã€‚</p><h3 id="æ”¾é‡æ‹‰é«˜-æ‰“å‹æ´—ç›˜"><a class="markdownIt-Anchor" href="#æ”¾é‡æ‹‰é«˜-æ‰“å‹æ´—ç›˜"></a> æ”¾é‡æ‹‰é«˜ã€æ‰“å‹æ´—ç›˜</h3><p>æ”¾é‡ï¼šå°†ç­¹ç æ‰”å‡ºæ’’å‘å¸‚åœºï¼Œä¿ƒè¿›è‚¡ç¥¨äº¤æ˜“è¿˜æ‰‹ï¼Œä¸ºäº†èƒ½æŠ›å‡ºè¿™ä¹ˆå¤šï¼Œå› æ­¤è‚¡ä»·ä¼šä¸Šå‡ï¼›</p><p>ç¼©é‡ï¼šå›è´­å…¥ç­¹ç ï¼Œç”±äºéœ€è¦ä¹°å…¥å¤§é‡ï¼Œæ‰€ä»¥ä¼šä½¿è‚¡ä»·ä¸‹é™</p><p>ref: <a href="https://zhuanlan.zhihu.com/p/103226043" target="_blank" rel="noopener">ä¸»åŠ›æ“ç›˜æ‰‹æ³•è§£é‡Š</a></p><h2 id="å›è¸©å’Œå›è½"><a class="markdownIt-Anchor" href="#å›è¸©å’Œå›è½"></a> å›è¸©å’Œå›è½</h2><p><strong>è‚¡ç¥¨å›è¸©</strong>å°±æ˜¯è‚¡ç¥¨è¦ä¸Šæ¶¨ä¹‹å‰ï¼Œä¸»åŠ›ä¸ºäº†éªŒè¯æŸä¸€ä¸ªä»·ä½çš„æ”¯æ’‘ç¡®å®æœ‰æ•ˆï¼Œä¸»åŠ¨ä¸‹è·Œåˆ°é‚£ä¸ªåœ°æ–¹é‡æ–°éªŒè¯æ˜¯å¦æ”¯æ’‘æœ‰æ•ˆã€‚å›è¸©çš„ç›®çš„å°±æ˜¯ä¸ºäº†ä»¥åä¸Šæ¶¨å¯ä»¥æ”¾å¿ƒï¼Œå³ä½¿ç¢°åˆ°å¤§ç›˜å¤§å¹…å›è°ƒï¼Œè€Œé‚£ä¸ªä½ç½®çš„æ”¯æ’‘ä¹Ÿä¸ä¼šå†å›åˆ°ã€‚å›è¸©æ—¶æ˜¯ç¼©é‡ï¼Œä¸”é˜´çº¿å¾ˆå°ä½†å¾ˆé›†ä¸­ã€‚</p><p>å›è½å’Œå›è¸©éƒ½æ˜¯æŒ‡çš„è‚¡ç¥¨ä¸‹è·Œè¿™ä¸€åŠ¨ä½œï¼Œä½†å›è½å¾€å¾€ç”¨äº<strong>è‚¡ä»·çš„å•çº¯ä¸‹è·Œ</strong>ï¼Œå³è‚¡ä»·è¾¾åˆ°ä¸€ä¸ªä»·æ ¼åï¼Œå¼€å§‹é€æ­¥ä¸‹é™ï¼›å›è¸©åˆ™æ˜¯æŒ‡è‚¡ä»·è¾¾åˆ°ä¸€ä¸ªä»·ä½åï¼Œå¼€å§‹é€æ­¥ä¸‹é™ï¼Œé™åˆ°ä¸€ä¸ªä»·æ ¼åŒºé—´åï¼Œåˆå¼€å§‹ç»§ç»­ä¸Šæ¶¨ã€‚å›è¸©ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯å¯¹ä¸Šæ¶¨è¶‹åŠ¿çš„ç¡®è®¤ã€‚</p><p>refï¼š<a href="https://zhuanlan.zhihu.com/p/103212473" target="_blank" rel="noopener">å›è¸©æœ‰æ•ˆæ”¯æ’‘ä¹°å…¥æ³•ï¼ŒåšçŸ­çº¿çš„æœ‹å‹å¯ä»¥æ”¶è—ï¼</a></p><h2 id="æ¸¸èµ„"><a class="markdownIt-Anchor" href="#æ¸¸èµ„"></a> æ¸¸èµ„</h2><p>çƒ­é’±ï¼ˆHot Moneyï¼‰ï¼Œæ˜¯æŒ‡<a href="https://baike.baidu.com/item/%E6%B8%B8%E8%B5%84/2950921" target="_blank" rel="noopener">æ¸¸èµ„</a>ï¼Œæˆ–å«æŠ•æœºæ€§çŸ­æœŸèµ„é‡‘ï¼Œåœ¨å•†ä¸šè¯å…¸ä¸­çƒ­é’±çš„å®šä¹‰ä¸ºï¼šâ€œè¿…é€Ÿç§»å‘èƒ½æä¾›æ›´å¥½å›æŠ¥çš„ä»»ä½•å›½å®¶çš„æµåŠ¨æ€§æé«˜çš„çŸ­æœŸèµ„æœ¬ [1] ã€‚è€Œä¸Šæµ·è¯åˆ¸ç ”å‘ä¸­å¿ƒè®¤ä¸ºï¼Œä¼ ç»Ÿæ„ä¹‰ä¸Šçš„çƒ­é’±ä¸»è¦æŒ‡å›½é™…çŸ­æœŸèµ„æœ¬ï¼Œä½†æ˜¯æ ¹æ®ä¸­å›½å›½æƒ…çƒ­é’±æ—¢åŒ…æ‹¬å›½é™…çŸ­æœŸèµ„æœ¬ï¼Œä¹ŸåŒ…æ‹¬ä¸­é•¿æœŸèµ„æœ¬ã€‚ [1]</p><p>çƒ­é’±çš„ç›®çš„åœ¨äºç”¨å°½é‡å°‘çš„æ—¶é—´ä»¥é’±ç”Ÿé’±ï¼Œæ˜¯åªä¸ºè¿½æ±‚é«˜å›æŠ¥è€Œåœ¨å¸‚åœºä¸Šè¿…é€ŸæµåŠ¨çš„çŸ­æœŸæŠ•æœºæ€§èµ„é‡‘ï¼Œçº¯ç²¹ä»¥æŠ•æœºç›ˆåˆ©ï¼Œè€Œä¸æ˜¯åˆ¶é€ å°±ä¸šã€å•†å“æˆ–æœåŠ¡ã€‚2011å¹´10æœˆæ–°å¢å¤–æ±‡å æ¬¾è¿‘å››å¹´æ¥é¦–åº¦å‡ºç°<a href="https://baike.baidu.com/item/%E8%B4%9F%E5%A2%9E%E9%95%BF/7106652" target="_blank" rel="noopener">è´Ÿå¢é•¿</a>ï¼Œæµ·å¤–çƒ­é’±æ’¤ç¦»ä¸­å›½ã€‚å¯¹ä¸­å›½ç»æµé€ æˆä¸åŒç¨‹åº¦çš„å½±å“ã€‚</p><p>â–²çƒ­é’±ä¸æ­£å½“æŠ•èµ„çš„æœ€å¤§åˆ†åˆ«æ˜¯çƒ­é’±çš„æ ¹æœ¬ç›®çš„åœ¨äºæŠ•æœºç›ˆåˆ©ï¼Œè€Œä¸æ˜¯åˆ¶é€ å°±ä¸šã€å•†å“æˆ–æœåŠ¡ã€‚</p><h1 id="å®ç›˜æ“ä½œ"><a class="markdownIt-Anchor" href="#å®ç›˜æ“ä½œ"></a> å®ç›˜æ“ä½œ</h1><h2 id="t0æ“ä½œæ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#t0æ“ä½œæ³¨æ„äº‹é¡¹"></a> <a href="http://www.360doc.com/content/19/0910/07/56121542_860144046.shtml" target="_blank" rel="noopener">T+0æ“ä½œæ³¨æ„äº‹é¡¹</a></h2><p><strong>ä»åšTæ–¹å¼åˆ†ç±»ï¼š</strong></p><p>åŠä»“æ»šåŠ¨åšTï¼šæ¯æ¬¡åŠä»“ä½ä½ä¹°å…¥ç›¸åŒä»“ä½ï¼Œç„¶åé«˜ç‚¹Tå‡ºï¼Œæˆ–é«˜ç‚¹Tå‡ºåå†ä½ä½ä¹°å›ç›¸åŒä»“ä½ï¼ˆæœ€å¸¸ç”¨å’Œæœ€ç®€å•æ“ä½œæ–¹å¼ï¼‰</p><p>ä¸‰æˆåº•ä»“æ»šåŠ¨åšTï¼šä¸‰æˆåº•ä»“ï¼Œä½ä½ä¹°ä¸‰æˆä»“ä½ï¼Œé€¢é«˜Tå‡ºä¸‰æˆä»“ï¼Œå†é€¢ä½ä¹°å›ä¸‰æˆä»“ï¼Œç¬¬äºŒå¤©é€¢é«˜Tå‡ºä¸‰æˆä»“ï¼Œä½ä½è§†æƒ…å†µä¹°å›ä¸‰æˆä»“ï¼Œå†²é«˜å†Tå‡ºä¸‰æˆä»“ï¼Œç„¶åè§†æƒ…å†µé€¢ä½ä¹°å›ä¸‰æˆä»“ï¼Œå¾ªç¯æ»šåŠ¨ï¼Œè§†åˆ†æ—¶ä¸Šå‡æˆ–ä¸‹é™è¶‹åŠ¿æ­£Tæˆ–å€’Tæ“ä½œï¼ˆç†Šå¸‚æ›´é€‚ç”¨ï¼Œè¾ƒå¤æ‚ï¼Œéœ€ç»“åˆ1å’Œ5åˆ†é’ŸMACDç­‰è¾…åŠ©åˆ¤æ–­ï¼‰</p><p>7æˆåº•ä»“æ»šåŠ¨åšTï¼š7æˆåº•ä»“ï¼Œé€¢é«˜Tå‡ºä¸‰æˆä»“ä½ï¼Œé€¢ä½ä¹°å›ä¸‰æˆä»“ï¼Œå¦‚æœå°¾ç›˜å†è·Œï¼Œå†å–å‡ºå››æˆåº•ä»“ï¼Œç¬¬äºŒå¤©é€¢ä½ä¹°å›å››æˆä»“ï¼Œé€¢é«˜Tå‡ºä¸‰æˆä»“ï¼Œé€¢ä½ä¹°å›ä¸‰æˆä»“ï¼Œå¾ªç¯æ»šåŠ¨ï¼Œè§†åˆ†æ—¶ä¸Šå‡æˆ–ä¸‹é™è¶‹åŠ¿æ­£Tæˆ–å€’Tæ“ä½œï¼ˆç‰›å¸‚æ›´é€‚ç”¨ï¼Œè¾ƒå¤æ‚ï¼Œéœ€ç»“æŸ1å’Œ5åˆ†é’ŸMACDç­‰è¾…åŠ©åˆ¤æ–­ï¼‰</p><p><strong>åšTçš„æ³¨æ„äº‹é¡¹ï¼š</strong></p><p>1ã€ç«‹å³åˆ°è¯åˆ¸å…¬å¸æ‰¾ä½ çš„ç†è´¢ç»ç†è°ƒä½ä½ çš„äº¤æ˜“ä½£é‡‘ï¼Œè¶Šä½è¶Šå¥½ï¼Œç›®å‰ä¸‡ä¸‰æ˜¯å¤šæ•°äººå¯ä»¥è°ƒåˆ°çš„ï¼›æ“ä½œæˆæœ¬çš„é™ä½æ„å‘³ç€æ¯æ¬¡è¿›å‡ºæ“ä½œçš„åˆ©æ¶¦ç•™ä¸‹å°±å˜å¤šäº†ï¼Œè¿™æ˜¯åšTçš„å‰ææ¡ä»¶â€”é™æˆæœ¬ã€‚<br>2ã€é«˜ä»·è‚¡æ›´é€‚åˆåšTï¼Œå› ä¸ºçŸ­çº¿ä¹°å–ç‚¹éå¸¸çŸ­æš‚ï¼Œè¦æ±‚ç«‹å³æˆäº¤ï¼Œå¤šæ•°æ˜¯æŒ‚å§”äºŒ-å§”äº”ç«‹å³æˆäº¤çš„ï¼Œè¿™æ ·ï¼ŒåŠ¿å¿…ä¼šæŒ‚ä½å‡ ä¸ªä»·ä½ã€‚5å…ƒè‚¡å–ä½5åˆ†é’±å°±æ˜¯1%ï¼Œ50å…ƒè‚¡å–ä½5åˆ†é’±æ‰0.1%â€”ä¸€é™æˆæœ¬ã€‚<br>3ã€æ·±å¸‚çš„è‚¡ç¥¨æ›´é€‚åˆåšTï¼Œå› ä¸ºæ²¡æœ‰åŠ æ”¶çš„è¿‡æˆ·è´¹â€”â€”é™æˆæœ¬ã€‚<br>4ã€ç»©ä¼˜è‚¡åŠä¸­ç›˜ä»¥ä¸Šè‚¡æ›´é€‚åˆåšTï¼Œç»©ä¼˜è‚¡å¯ä»¥ç¡®ä¿è‚¡ä»·ä¸ä¼šå¿«é€Ÿåç”µæ¢¯ï¼Œä¸­ç›˜ä»¥ä¸Šè‚¡ä¸å®¹æ˜“åœ¨æš´è·Œæ—¶ä¸§å¤±æµåŠ¨æ€§ï¼Œä»è€Œå¤±å»åšTæœºä¼šâ€”â€”æå‡æˆåŠŸç‡ã€‚<br>5ã€å¤§ç›˜éœ‡è¡å¸‚ã€ç›˜æ•´å¸‚æ—¶æ›´å®¹æ˜“åšTï¼Œå¤§ç›˜æˆ–ä¸ªè‚¡å•è¾¹ä¸Šæ‰¬æ—¶åšTè¦è¿…é€Ÿï¼Œä¸€èˆ¬åœ¨10~15åˆ†é’Ÿå®Œæˆä¸€ä¸ªä¹°å…¥å–å‡ºçš„å®Œæ•´Tæ“ä½œï¼Œé˜²æ­¢Té£â€”â€”æå‡æˆåŠŸç‡ã€‚<br>6ã€è¦å…³æ³¨å¤§ç›˜èµ°åŠ¿ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§ç›˜è¿ç»­ä¸‹è·Œé˜¶æ®µâ€”â€”æå‡æˆåŠŸç‡ã€‚<br>7ã€è¦è®¡ç®—ä¸ªè‚¡ä¸Šæ¶¨å’Œè°ƒæ•´çš„å¹…åº¦ï¼ˆç»Ÿè®¡å¹³å‡çš„éœ‡å¹…åŒºé—´ï¼‰â€”â€”æå‡æˆåŠŸç‡ã€‚<br>8ã€åšTä¸åº”åˆ»æ„è¿½æ±‚2%ä»¥ä¸Šçš„ä»·å·®ï¼Œè¶Šè´ªå¿ƒè¶Šå®¹æ˜“ä¸¢ç¥¨ï¼›â€”â€”æå‡æˆåŠŸç‡ã€‚<br>9ã€æœ€å¥½åšè‡ªå·±éå¸¸ç†Ÿæ‚‰çš„è‚¡ç¥¨ï¼Œåå¤çœ‹ä¸ªè‚¡æ¯å¤©çš„åˆ†æ—¶å›¾ï¼Œå¤ç›˜æ¯æ—¥çš„ä¹°å…¥å–å‡ºåšTç‚¹ä½ï¼Œçœ‹å®Œ1000ä¸ªåˆ†æ—¶å›¾ï¼Œè‡ªç„¶ç†Ÿèƒ½ç”Ÿå·§â€”â€”æå‡æˆåŠŸç‡ã€‚</p><p><strong>T+0æ“ä½œâ€œç§˜ç¬ˆâ€</strong><br>T+0æ“ä½œâ€œç§˜ç¬ˆâ€ä¸€ï¼šæ­£å‘ã€è¿½æ¶¨T+0&quot;<br>T+0æ“ä½œâ€œç§˜ç¬ˆâ€äºŒï¼šâ€œæ­£å‘ã€æŠ„åº•T+0â€<br>T+0æ“ä½œâ€œç§˜ç¬ˆâ€ä¸‰ï¼šâ€œé€†å‘ã€è¿½æ€T+0&quot;</p><p><strong>ã€æ³¨æ„äº‹é¡¹ã€‘ï¼š</strong><br>1ã€T+0æœ€å¥½ç›˜ä¸­å¿…é¡»å®Œæˆï¼Œåƒä¸‡åˆ«åšæˆåŠ ä»“åŠ¨ä½œï¼Œå°¤å…¶æ˜¯å¤§ç›˜éœ‡è¡ã€æ–¹å‘ä¸æ˜çš„æ—¶å€™ï¼›<br>2ã€T+Oæ˜¯å¤šå‡ºæ¥çš„å¥—åˆ©ï¼Œä¸åšä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥åˆ«è´ªï¼Œç»“åˆå¤§ç›˜å’Œä¸ªè‚¡ï¼Œä¸ªäººç»éªŒä»¥ç›ˆåˆ©2%<br>ä¸ºç›®æ ‡ï¼Œä¸è¡Œ1%ä¹Ÿèµ°ï¼›<br>3ã€åªæœ‰å¤šç ”ç©¶åˆ†æ—¶èµ°åŠ¿ï¼Œå¤šå¤šè¯•éªŒï¼Œæ‰èƒ½ä¸æ–­æé«˜æˆåŠŸåŠŸç‡ã€‚<br>4ã€è°¨æ…å‡çªç ´</p><p>æ­¢æŸæ˜¯äº¤æ˜“ä¸­ä¿æŠ¤è‡ªå·±çš„é‡è¦æ‰‹æ®µï¼ŒçŠ¹å¦‚æ±½è½¦ä¸­çš„åˆ¹è½¦è£…ç½®ï¼Œé‡åˆ°çªå‘æƒ…å†µå–„äºâ€œåˆ¹è½¦â€ï¼Œæ‰èƒ½ç¡®ä¿å®‰å…¨ã€‚æ­¢æŸçš„æœ€ç»ˆç›®çš„æ˜¯ä¿å­˜å®åŠ›ï¼Œæé«˜èµ„é‡‘åˆ©ç”¨ç‡å’Œæ•ˆç‡ï¼Œé¿å…å°é”™é“¸æˆå¤§é”™ã€ç”šè‡³å¯¼è‡´å…¨å†›è¦†æ²¡ã€‚æ­¢æŸä¸èƒ½è§„é¿é£é™©ï¼Œä½†å¯ä»¥é¿å…é­åˆ°æ›´å¤§çš„æ„å¤–é£é™©ã€‚</p><h2 id="çŸ­çº¿æ“ä½œ"><a class="markdownIt-Anchor" href="#çŸ­çº¿æ“ä½œ"></a> çŸ­çº¿æ“ä½œ</h2><p><a href="https://www.55188.com/thread-9067174-1-1.html" target="_blank" rel="noopener"><strong>æ¸¸èµ„â€œä¹”å¸®ä¸»â€æ˜¯è°ï¼Ÿæ›¾ç»11ä¸‡äºåˆ°3ä¸‡çš„å°æ•£ï¼Œå¶é‡é«˜æ‰‹ä»–è½¬å˜äº†</strong></a></p><p>çŸ­çº¿æ“ä½œæœ‰ä¸¤ç§ä¸»æµæ¨¡å¼ï¼Œä¸€ç§æ˜¯è¿½æ¶¨ï¼Œå¦å¤–ä¸€ç§æ˜¯ä½å¸ã€‚è€Œåœ¨è¿™ä¸ªè‚¡å¸‚åœˆå†…ï¼Œæˆ–è€…è¯´æ¸¸èµ„åœˆå†…ï¼Œä½å¸æ¨¡å¼æ“ä½œæœ€æœ‰åçš„è‡ªç„¶å°±æ˜¯â€œä¹”å¸®ä¸»â€äº†ã€‚ä»–å¸ˆæ‰¿ç‹¬è‚¡ä¸€ç®­ï¼Œå…¶å®å°±æ˜¯æ— æ„ä¸­å‘ç°äº†ç‹¬è‚¡ä¸€ç®­çš„å®ç›˜å¸–ï¼Œå¼€å§‹ç ”ç©¶å…¶äº¤æ˜“ç‰¹ç‚¹ï¼Œæœ€ç»ˆè‡ªå·±æ‚Ÿå‡ºæ¥çš„ã€‚</p><h2 id="å›è¸©æŠ„åº•æ“ä½œ"><a class="markdownIt-Anchor" href="#å›è¸©æŠ„åº•æ“ä½œ"></a> å›è¸©æŠ„åº•æ“ä½œ</h2><p><a href="https://baijiahao.baidu.com/s?id=1652406936105237978&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">ä¸€æ—¦è‚¡ä»·å›è¸©ï¼ŒæŒæ¡â€œé˜´çº¿â€ç­–ç•¥ï¼Œè‚¡ä»·åå¼¹åœ¨å³ï¼Œåº„å®¶ç‘Ÿç‘Ÿå‘æŠ–ï¼</a></p><ul><li>æ”¯æ’‘çº¿ä¸Šé˜´çº¿</li><li>åº•éƒ¨å·¨é‡çŸ­çº¿æœºä¼š</li><li>é‡‘å±‹è—å¨‡</li></ul><h2 id="å°¾ç›˜æ“ä½œ"><a class="markdownIt-Anchor" href="#å°¾ç›˜æ“ä½œ"></a> å°¾ç›˜æ“ä½œ</h2><blockquote><p>æœ‰ç»éªŒçš„è€è‚¡æ°‘ï¼Œå¯èƒ½ä¼šåœ¨ä¸‹åˆå°¾ç›˜2ç‚¹åŠä¹‹åæ‰é€‰è‚¡æ“ä½œï¼Œå› ä¸ºæ¥è¿‘æ”¶ç›˜ï¼Œé£é™©æ¯”è¾ƒä½ï¼Œå°¾ç›˜ä¹°å…¥çš„è‚¡ç¥¨åœ¨æ¬¡æ—¥ä¸Šåˆå†²é«˜å‡ºè´§å°±å¯ä»¥è·å–åˆ©æ¶¦ï¼Œå®‰å…¨ã€åˆºæ¿€ã€æ²¡æœ‰åé¡¾ä¹‹å¿§ã€‚</p></blockquote><p>â–²ç›®å‰ä¸ªäººçš„æ“ä½œæ¨¡å¼ä¸ºï¼šæ—©ä¸Šæ‰¾é«˜å‡ºè´§ï¼Œ å°¾ç›˜æ‰¾åˆé€‚ä»·ä½åˆ‡å…¥ã€‚</p><p><strong>ç ¸å°¾ç›˜</strong></p><p>å°¾ç›˜ä¸‹è·Œï¼Œä¹Ÿå¯ä»¥åˆ†ä¸ºä¸¤ç‚¹åŠå¼€å§‹ä¸‹è·Œå’Œä¸´æ”¶ç›˜ä¸‹è·Œã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°¾ç›˜ä¸‹è·Œæœ‰å¯èƒ½æ˜¯ä¸»åŠ›åˆ©ç”¨å°¾å¸‚çš„çªå‡ºå»æ‰“å‹å‡ºè´§ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸»åŠ›æ‰“å‹æ´—ç›˜ï¼Œä¸ç®¡å“ªç§æƒ…å†µï¼ŒæŠ•èµ„è€…éƒ½ä¸è¦ç»™äºˆå‚ä¸ï¼Œå› ä¸ºåŸºæœ¬éƒ½æ˜¯ä¸»åŠ›åœ¨æ‰“å‹æ´—ç›˜ï¼Œ<u>ç¬¬äºŒä¸ªäº¤æ˜“æ—¥å¾€å¾€è¿˜æ˜¯ä½å¼€</u>ã€‚</p><p><strong>å°¾ç›˜è·³ç©ºçªç ´é€‰è‚¡æ³•</strong></p><p>é€‰è‚¡æ–¹æ³•ï¼šæ¯å¤©9.25-9.30<strong>å¼€ç›˜ä»·å‡ºç°æ—¶å€™æ‰¾è‚¡ç¥¨</strong>!<br>æ‰“å¼€60æ’è¡Œæ¦œï¼ŒæŠŠä¸Šå‡2-6ä¸ªç‚¹çš„è‚¡ç¥¨éƒ½æ·»åŠ åˆ°æ¿å—è‚¡ä¸­ï¼Œä»é‡Œé¢æŒ¨ä¸ªè¿›è¡Œç­›é€‰!<br>é¦–å…ˆç­›é€‰è¦çªç ´ä¸‹é™è¶‹åŠ¿çº¿ï¼Œå¹¶ä¸”æ˜¯ç¬¬ä¸€ä¸ªè°ƒæ§ç¼ºå£çš„è‚¡ç¥¨!<br>æ¯å¤©åŸºæœ¬æœ‰1-3ä¸ªç¬¦åˆï¼Œå¼€ç›˜åçœ‹å¼€ç›˜çš„é‡èƒ½ï¼Œç­›é€‰å‡ºæ¥çš„<strong>è‚¡ç¥¨é‡</strong>èƒ½å¦‚ä½•?ä¸Šæ¶¨æ”¾é‡ï¼Œä¸‹è·Œç¼©é‡!<br>è‚¡ç¥¨çš„<strong>ä¹°ç‚¹ä¸€èˆ¬åœ¨å°¾ç›˜ä¹°å…¥</strong>!</p><p>â˜…ï¼š<strong>å°¾ç›˜æ‰“æ¿</strong></p><p>çœ‹çœ‹åˆ†æ—¶å›¾ï¼Œå…¥è‚¡æ­¤æ—¶åˆ†æ—¶ç™½çº¿æ˜¯å›è¸©é»„çº¿ä¸ç ´å¹¶å¤„äºä¸Šå‡è¶‹åŠ¿ï¼Œè€Œä¸”æŒç»­æœ‰å¤§å•ä¹°å…¥ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦åœ¨å°¾ç›˜ä¹°è¿›çš„å¼ºåŠ¿ä¸ªè‚¡ï¼Œæ¬¡æ—¥å†²é«˜è·åˆ©é«˜æŠ›å³å¯ã€‚æ­¤æ–¹æ³•ä¸ä½†å®‰å…¨ï¼Œè€Œä¸”æ”¶ç›Šç¨³å¥ï¼Œæ˜¯ä¸Šç­æ—å’ŒçŸ­çº¿æ“ä½œè€…çš„æœ€ä½³åˆ©å™¨ï¼Œå¦‚æœå¤§å®¶éƒ½èƒ½å­¦æ‡‚å¹¶ç†è§£ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ä½ çš„æ”¶ç›Šå°†ä¼šå‡ºç°ä¸€å€çš„å¢é•¿ä»¥ä¸Šã€‚</p><h1 id="é™„å½•"><a class="markdownIt-Anchor" href="#é™„å½•"></a> é™„å½•</h1><h2 id="å†³æˆ˜ç‰›å¸‚ä¹‹ç»å…¸è¶‹åŠ¿æ“ç›˜æœ¯"><a class="markdownIt-Anchor" href="#å†³æˆ˜ç‰›å¸‚ä¹‹ç»å…¸è¶‹åŠ¿æ“ç›˜æœ¯"></a> <a href="http://www.wbfou.com/qtkc/557.html" target="_blank" rel="noopener">å†³æˆ˜ç‰›å¸‚ä¹‹ã€Šç»å…¸è¶‹åŠ¿æ“ç›˜æœ¯ã€‹</a></h2><p>ç¬¬ä¸€ä¸ªæŒ‡æ ‡ï¼šè¿™åªä¸ªè‚¡åœ¨è¶‹åŠ¿ä¸Šå¿…é¡»æ‘†è„±ç†Šå¸‚çš„å‹åŠ›è¿›å…¥äº†æŠ€æœ¯ç‰›å¸‚ã€‚æˆ‘ä»¬è¦é…ä¸Šçš„æŠ€æœ¯æŒ‡æ ‡å°±æ˜¯10å‘¨ä¸30å‘¨é•¿æœŸå‡çº¿ã€‚å¦‚æœè¯´ä¸€åªè‚¡ç¥¨è¿˜å¤„äºæŠ€æœ¯æ€§ç†Šå¸‚ä¸­ï¼Œè¯´æ˜ä¸ªè‚¡è¿˜ä¸å…·å¤‡èµ°ç‰›çš„è¶‹åŠ¿ï¼Œåªèƒ½æœ‰åå¼¹ã€‚</p><p>ç¬¬äºŒä¸ªæŒ‡æ ‡ï¼šä¸€åªè‚¡ç¥¨å¥½ä¸å¥½ï¼Œè‡³å°‘å®ƒçš„èµ°åŠ¿ä¸€å®šè¦å¼ºäºå¤§ç›˜ï¼Œå¦‚æœè¿å¤§ç›˜éƒ½ä¸å¦‚ï¼Œå“ªæœ‰å¼ºåŠ¿å¯è¨€ã€‚è¦é…ä¸Šçš„ç¬¬äºŒä¸ªæŒ‡æ ‡æ˜¯RSï¼Œç”¨äºå¯¹æ¯”ä¸ªè‚¡ä¸æŒ‡æ•°èµ°åŠ¿çš„å¼ºåº¦ã€‚</p><p>ç¬¬ä¸‰ä¸ªæŒ‡æ ‡ï¼Œä¸ªè‚¡çš„å›¾å½¢ä¸€å®šè¦æ¼‚äº®ï¼Œè¦è§‚å¯Ÿä¸ªè‚¡ä½ç½®å¤„äºä»€ä¹ˆé˜¶æ®µï¼Œæ˜¯å¦çªç ´äº†é‡è¦å‹åŠ›ä½ï¼Œæ˜¯å¦åˆ›é€ äº†æ–°é«˜ï¼Œå¦‚æœä¸ªè‚¡ä¸èƒ½çªç ´ä¸‹è·Œé€šé“æˆ–å†å²å¹³å°ä½ï¼Œå°±ä¸èƒ½è¯´å·²ç»å…·æœ‰èµ°åœ¨ä¸Šæ¶¨è¶‹åŠ¿çš„åŠ¿å¤´ï¼Œä¸Šæ¶¨ç©ºé—´ä¸å¯èƒ½æ‰“å¼€ã€‚è¦åŠ å…¥çš„ç¬¬ä¸‰ä¸ªæŒ‡æ ‡å°±æ˜¯è¶‹åŠ¿é€šé“å¹³å°æŠ€æœ¯å’Œé•¿çŸ­æœŸå›¾å½¢è¯†åˆ«æŠ€æœ¯ã€‚</p><p>ç¬¬å››ä¸ªæŒ‡æ ‡ï¼Œä¸€åªè‚¡ç¥¨æ‘†è„±äº†å¯¹ç†Šå¸‚çš„æŠ€æœ¯å‹åŠ›ï¼Œä¹Ÿå¼ºäºå¤§ç›˜ï¼Œä»å†å²é‡è¦å¹³å°å¼€å§‹çªå›´ã€‚ä¹°ç‚¹æ˜¯å¦å‡ºç°ï¼Œåªæœ‰å†…éƒ¨ç­¹ç çš„åšå¼ˆå·²ç»ç¨³å®šå¹¶å¤„äºå¼ºåŠ¿ä¸­ï¼Œæ‰èƒ½å†³å®šä¸ªè‚¡å¤šæ–¹æ˜¯å¦åœ¨åæ”»ï¼Œæ‰èƒ½äº§ç”Ÿä¹°å–ç‚¹ã€‚è¦åŒ¹é…çš„ä¹Ÿæ˜¯æœ€é‡è¦çš„äº¤æ˜“ä¿¡å·æŒ‡æ ‡æ˜¯RSIï¼Œå†ç»“åˆ20æ—¥å‡çº¿ä¸æˆäº¤é‡è¿›è¡Œåˆ¤æ–­ã€‚</p><p>ç¬¬äº”ä¸ªæŒ‡æ ‡ï¼Œå‰å››ä¸ªæŒ‡æ ‡å·²ç»æ»¡è¶³ï¼Œè¯´æ˜ä¸ªè‚¡å·²ç»è“„åŠ¿å¯åŠ¨ï¼Œè¿™ä¸ªå¯åŠ¨å¤Ÿä¸å¤Ÿå¼ºï¼Œæœ‰æ²¡æœ‰æŒç»­æ€§ï¼Œå°±è¦çœ‹é‡ä»·å…³ç³»ã€‚</p><p>ç¬¬å…­ä¸ªæŒ‡æ ‡ï¼Œä¸ªè‚¡åˆ†æçš„æœ€åä¸€æ­¥æ‰æ˜¯åŸºæœ¬é¢çš„ç ”ç©¶ï¼Œè¯¦ç»†æŒæ¡è¿™åªè‚¡çš„åŸºæœ¬é¢æƒ…å†µã€‚ç†è§£åœ¨åŸºæœ¬é¢æ–¹é¢é©±åŠ¨ä¸ªè‚¡ä¸Šæ¶¨çš„å› ç´ æ˜¯é‚£ä¸€ç§ã€‚</p><h2 id="è‚¡ç¥¨å°ç™½å…¥é—¨ç¯‡_çŸ¥ä¹"><a class="markdownIt-Anchor" href="#è‚¡ç¥¨å°ç™½å…¥é—¨ç¯‡_çŸ¥ä¹"></a> <a href="https://zhuanlan.zhihu.com/p/90930638" target="_blank" rel="noopener">è‚¡ç¥¨å°ç™½å…¥é—¨ç¯‡_çŸ¥ä¹</a></h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;è¿™ä¸€å­¦æœŸä»»é€‰è¯¾é€‰çš„æ˜¯æŠ•èµ„ç†è´¢ï¼Œæœ¬ä¹Ÿæœ‰æ„æ¥è§¦æŠ•èµ„è¿™ä¸€æ–¹é¢ï¼Œå› æ­¤åœ¨å¼€å­¦åä¸æ–­æ¥è§¦è‚¡ç¥¨ç›¸å…³çŸ¥è¯†ï¼Œä¸æ–­åœ¨æ¨¡æ‹Ÿç›˜å°è¯•ã€‚åœ¨2019å¹´11æœˆ6æ—¥æ­£å¼å…³æ³¨è‚¡ç¥¨ï¼Œå¼€å§‹å®ç›˜ç‚’è‚¡ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºå¾ˆå¤šæ¦‚å¿µç‚¹æŒæ¡çš„ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œæ‰€ä»¥å†³å®šæŠŠæ‰€æœ‰ç›¸å…³æ¦‚å¿µå…¨éƒ½æœæŸ¥ç¡®è®¤ä¸€éï¼ŒåŒ
      
    
    </summary>
    
    
      <category term="ç¦åˆ©" scheme="https://nymrli.top/tags/%E7%A6%8F%E5%88%A9/"/>
    
  </entry>
  
  <entry>
    <title>PATå†²å†²å†²â€”â€”ä¹™çº§</title>
    <link href="https://nymrli.top/2020/02/02/PAT%E5%86%B2%E5%86%B2%E5%86%B2%E2%80%94%E2%80%94%E4%B9%99%E7%BA%A7/"/>
    <id>https://nymrli.top/2020/02/02/PATå†²å†²å†²â€”â€”ä¹™çº§/</id>
    <published>2020-02-02T08:26:41.000Z</published>
    <updated>2020-02-21T12:24:17.416Z</updated>
    
    <content type="html"><![CDATA[<h1 id="patå†²å†²å†²ä¹™çº§"><a class="markdownIt-Anchor" href="#patå†²å†²å†²ä¹™çº§"></a> PATå†²å†²å†²â€”â€”ä¹™çº§</h1><blockquote><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/type/7?page=1" target="_blank" rel="noopener">PATç”²çº§ç»ƒä¹ é¢˜ â€”â€”PAT (Advanced Level) Practice </a><br><a href="https://www.nowcoder.com/pat/5/problems?page=1" target="_blank" rel="noopener">PATç”²çº§(Advanced Level)çœŸé¢˜</a><br><a href="https://www.liuchuo.net/archives/8091" target="_blank" rel="noopener">æŸ³å©¼ ã® blogç»éªŒ</a><br><a href="https://saquarius.com/2019/08/pat%E6%80%BB%E7%BB%93/" target="_blank" rel="noopener">saquariusâ€™s blog</a></p><p><a href="https://blog.csdn.net/a617976080/article/details/89676670" target="_blank" rel="noopener">PATç”²çº§é¢˜ç›®åŠåˆ†ç±»æ€»ç»“</a><br><a href="https://blog.csdn.net/richenyunqi/article/details/79958195" target="_blank" rel="noopener">patç”²çº§é¢˜è§£ç›®å½•</a></p></blockquote><p>â–²æŠ¥åè´¹256ï¼Œå¯ä»¥åˆ·<a href="https://www.nowcoder.com/pat" target="_blank" rel="noopener">ç‰›å®¢ç½‘</a>çš„é¢˜æ¥è·å¾—-50çš„ä¼˜æƒ åˆ¸ï¼Œè¯¥ç»ƒä¹ åœºä¸‹çš„æ‰€æœ‰é¢˜ç›®åªè¦é€šè¿‡éƒ½ç®—</p><h2 id="ä¹™çº§ç»ƒä¹ é¢˜"><a class="markdownIt-Anchor" href="#ä¹™çº§ç»ƒä¹ é¢˜"></a> ä¹™çº§ç»ƒä¹ é¢˜</h2><h3 id="nowcoderæ•°åˆ—"><a class="markdownIt-Anchor" href="#nowcoderæ•°åˆ—"></a> <a href="https://www.nowcoder.com/pat/2/problem/250" target="_blank" rel="noopener">NowCoderæ•°åˆ—</a></h3><blockquote><p>æ²¡æƒ³åˆ°ç¬¬äºŒé¢˜å°±æ˜¯è€ƒäº†ä¸ªæ•°æ®èŒƒå›´ï¼Œç”±äº0â‰¤nâ‰¤1000000ï¼Œæ‰€ä»¥F(n)å¿…ç„¶æ¯”long longå¤§ï¼Œè€Œåˆ¤æ–­3çš„å€æ•°å¯è¡¨ç¤ºä¸º===&gt; F(n) % 3 â€”&gt; (F(n-1)%3 + F(n-2)%3) % 3</p><p>æ±‚ä½™è¿ç®—æ€§è´¨ï¼ša = b+c --&gt;  a%d = (b%d+c%d) % d</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> f[<span class="number">1000000</span>+<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,i;</span><br><span class="line">    f[<span class="number">0</span>]=<span class="number">7</span>;</span><br><span class="line">    f[<span class="number">1</span>]=<span class="number">11</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;=<span class="number">1000000</span>;i++)&#123;</span><br><span class="line">        f[i]=(f[i<span class="number">-1</span>]%<span class="number">3</span>+f[i<span class="number">-2</span>]%<span class="number">3</span>)%<span class="number">3</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)&#123;</span><br><span class="line">        <span class="keyword">if</span>(f[n]!=<span class="number">0</span>)</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">"No\n"</span>);</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">"Yes\n"</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…»å…”å­"><a class="markdownIt-Anchor" href="#å…»å…”å­"></a> <a href="https://www.nowcoder.com/pat/2/problem/251" target="_blank" rel="noopener">å…»å…”å­</a></h3><blockquote><p>éå¸¸ç»å…¸çš„æ–æ³¢é‚£å¥‘æ•°åˆ—é¢˜</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 90+5</span></span><br><span class="line">ll arr[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    arr[<span class="number">1</span>] = <span class="number">1</span>; arr[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        arr[i] = arr[i<span class="number">-1</span>] + arr[i<span class="number">-2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; arr[n] &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®¢ä¼¼äº‘æ¥"><a class="markdownIt-Anchor" href="#å®¢ä¼¼äº‘æ¥"></a> <a href="https://www.nowcoder.com/pat/2/problem/252" target="_blank" rel="noopener">å®¢ä¼¼äº‘æ¥</a></h3><blockquote><p>æ–æ³¢é‚£å¥‘æ•°åˆ—çš„æ‹“å±•é¢˜ï¼Œå°†å…¶ä¸­æŸä¸ªåŒºé—´çš„å€¼ç´¯åŠ è¾“å‡ºï¼ˆéœ€è¦ç‰¹åˆ¤æ˜¯å¦ä¸ºæŸä¸ªç‚¹ï¼‰</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 80+5</span></span><br><span class="line">ll arr[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> from, to;</span><br><span class="line"></span><br><span class="line">    arr[<span class="number">1</span>] = <span class="number">1</span>; arr[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        arr[i] = arr[i<span class="number">-1</span>] + arr[i<span class="number">-2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; from &gt;&gt; to)&#123;</span><br><span class="line">        ll tmp = <span class="number">0</span> ;</span><br><span class="line">        <span class="comment">// æ³¨æ„éœ€è¦ç‰¹åˆ¤æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line">        <span class="keyword">if</span> (from == to) tmp = arr[from];</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=from; i&lt;= to;i++)&#123;</span><br><span class="line">                tmp += arr[i] ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; tmp &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–æ³¢é‚£å¥‘å‡¤å°¾"><a class="markdownIt-Anchor" href="#æ–æ³¢é‚£å¥‘å‡¤å°¾"></a> <a href="https://www.nowcoder.com/pat/2/problem/253" target="_blank" rel="noopener">æ–æ³¢é‚£å¥‘å‡¤å°¾</a></h3><blockquote><p>ä¸€éè¿˜æŒºéš¾è¿‡çš„ï¼Œæœ‰ä¸å°‘çš„å‘ç‚¹</p><p>1.è™½ç„¶ä¹Ÿæ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä½†æ˜¯ä¸€å®šè¦æ³¨æ„å‰ä¸¤é¡¹çš„å–å€¼<br>2.è¾“å‡ºæœ«å°¾çš„6ä½ï¼Œé‚£ä¹ˆå°±æ˜¯%1e6ï¼Œä½†æ˜¯å¦‚æœæœ‰å‰ç½®0ï¼Œéœ€è¦è¡¥é›¶ï¼Œæˆ‘æ˜¯ä½¿ç”¨iomanipä¸­çš„setwå’Œsetfillå®ç°çš„<br>3.æ€ä¹ˆåˆ¤æ–­è¶…è¿‡6ä½ï¼šæ‰¾å‡ºè¶…è¿‡6ä½çš„nåº”è¯¥ç®—æ¯”è¾ƒç®€å•çš„æ–¹æ³•äº†å§</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100000 + 5</span></span><br><span class="line">ll arr[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">    arr[<span class="number">1</span>] = <span class="number">1</span>; arr[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        ç”¨æ¥æ‰¾åˆ°è¶…è¿‡1e6çš„n</span></span><br><span class="line"><span class="comment">        arr[i] = (arr[i-1] + arr[i-2]);</span></span><br><span class="line"><span class="comment">        if (arr[i] &gt; 1000000)&#123;</span></span><br><span class="line"><span class="comment">             cout &lt;&lt; i &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">             break;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        arr[i] = (arr[i<span class="number">-1</span>]%<span class="number">1000000</span> + arr[i<span class="number">-2</span>]%<span class="number">1000000</span>)%<span class="number">1000000</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">if</span> (n&gt;= <span class="number">30</span>)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; setw(<span class="number">6</span>)&lt;&lt;setfill(<span class="string">'0'</span>) &lt;&lt; arr[n] &lt;&lt;<span class="built_in">endl</span>;    </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; arr[n] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Poä¸ªCçš„ä»£ç ï¼Œä½¿ç”¨printfçš„æ ¼å¼åŒ–è¾“å‡ºçš„ç‰¹æ€§</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt; </span></span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    a[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    a[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=<span class="number">100000</span>;i++)</span><br><span class="line">      a[i]=(a[i<span class="number">-1</span>]+a[i<span class="number">-2</span>])%<span class="number">1000000</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n&gt;=<span class="number">30</span>)</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">"%06d\n"</span>,a[n]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a[n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="æ˜Ÿé™…å¯†ç "><a class="markdownIt-Anchor" href="#æ˜Ÿé™…å¯†ç "></a> <a href="https://www.nowcoder.com/pat/2/problem/254" target="_blank" rel="noopener"> æ˜Ÿé™…å¯†ç </a></h3><blockquote><p>è¯´å®è¯ï¼Œä¸€å¼€å§‹æ²¡çœ‹æ‡‚é¢˜ï¼Œå› ä¸ºè¾“å…¥çš„nè·Ÿé¢˜ç›®é‡Œæåˆ°çš„nä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼šçŸ©é˜µXä¸º[[1 1],[0 1]]ï¼Œé¢˜ç›®ä¸­çš„næ˜¯æŒ‡å¤šå°‘æ¬¡å¹‚ï¼›è€Œè¾“å…¥é‡Œçš„næ˜¯æŒ‡æœ‰å¤šå°‘ä¸ªå¯†ç ï¼ŒçœŸæ­£çš„nå…¶å®æ˜¯ç¬¬äºŒè¡Œçš„è¾“å…¥Xi</p><p>é‚£ä¹ˆåˆ†æä¸‹æ€è·¯ï¼ŒXi=1æ—¶<mark>1ï¼ŒXi=2æ—¶</mark>2ï¼ŒXi=3æ—¶==3</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100000 + 5</span></span><br><span class="line">ll arr[N];</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initFib</span><span class="params">()</span></span>&#123;</span><br><span class="line">    arr[<span class="number">1</span>] = <span class="number">1</span>; arr[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        arr[i] = (arr[i<span class="number">-1</span>]%<span class="number">10000</span> + arr[i<span class="number">-2</span>]%<span class="number">10000</span>)%<span class="number">10000</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> input[<span class="number">100</span>+<span class="number">5</span>];</span><br><span class="line">    initFib();</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmp;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; tmp;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; setw(<span class="number">4</span>)&lt;&lt;setfill(<span class="string">'0'</span>) &lt;&lt; arr[tmp] ;    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2020/02/02/PATå†²å†²å†²â€”â€”ä¹™çº§/E:%5Chexo%5Csource_posts%5CPAT%E5%86%B2%E5%86%B2%E5%86%B2%5CFib.jpg" alt="Fib"></p><h3 id="æ¯ç‰›çš„æ•…äº‹"><a class="markdownIt-Anchor" href="#æ¯ç‰›çš„æ•…äº‹"></a> <a href="https://www.nowcoder.com/pat/2/problem/255" target="_blank" rel="noopener"> æ¯ç‰›çš„æ•…äº‹</a></h3><blockquote><p>å˜å½¢çš„Fibï¼Œå…¬å¼æ›´æ–°ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n) = f(n-1) + f(n-3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span></p><p>æœ€ä¸»è¦çš„å°±æ˜¯ç¡®å®šå‰å‡ é¡¹ï¼Œæ¯”è¾ƒå¥½çš„æ˜¯æ ·ä¾‹éƒ½ç»™å‡ºäº†2==&gt;2,4==&gt;4,5==&gt;6ï¼Œè¿™æ ·å°±æ¯”è¾ƒå¥½ç¡®å®š<strong>æ¯å¤´å°æ¯ç‰›ä»ç¬¬å››ä¸ªå¹´å¤´å¼€å§‹ï¼Œæ¯å¹´å¹´åˆä¹Ÿç”Ÿä¸€å¤´å°æ¯ç‰›</strong>åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€äº†</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100000 + 5</span></span><br><span class="line">ll arr[N];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initFib</span><span class="params">()</span></span>&#123;</span><br><span class="line">    arr[<span class="number">1</span>] = <span class="number">1</span>; arr[<span class="number">2</span>] = <span class="number">2</span>;arr[<span class="number">3</span>]=<span class="number">3</span>;arr[<span class="number">4</span>]=<span class="number">4</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">5</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        arr[i] = arr[i<span class="number">-1</span>] + arr[i<span class="number">-3</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    initFib();</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; arr[n]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç«¥å¹´ç”Ÿæ´»äºŒä¸‰äº‹"><a class="markdownIt-Anchor" href="#ç«¥å¹´ç”Ÿæ´»äºŒä¸‰äº‹"></a> <a href="https://www.nowcoder.com/pat/2/problem/256" target="_blank" rel="noopener">ç«¥å¹´ç”Ÿæ´»äºŒä¸‰äº‹</a></h3><blockquote><p>Fibæ•°åˆ—çš„æ¿å­é¢˜ï¼Œåªä¸è¿‡éœ€è¦ç†è§£ä¸€ä¸‹</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 90 + 5</span></span><br><span class="line">ll arr[N];</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initFib</span><span class="params">()</span></span>&#123;</span><br><span class="line">    arr[<span class="number">1</span>] = <span class="number">1</span>; arr[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        arr[i] = arr[i<span class="number">-1</span>] + arr[i<span class="number">-2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    initFib();</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; arr[n]  &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="èœœèœ‚å¯»è·¯"><a class="markdownIt-Anchor" href="#èœœèœ‚å¯»è·¯"></a> <a href="https://www.nowcoder.com/pat/2/problem/257" target="_blank" rel="noopener">èœœèœ‚å¯»è·¯</a></h3><blockquote><p>å¦‚æœå›ºå®šèµ·ç‚¹ä¸º1ï¼Œè®¡ç®—åˆ°æŸä¸ªä½ç½®çš„èµ°æ³•æ•°çš„è¯ï¼Œè·Ÿèµ°é˜¶æ¢¯å…¶å®æ˜¯ä¸€ç§æ€è·¯ï¼Œå°±æ˜¯f(n) = f(n-1) + f(n-2)ï¼Œå³ç¬¬nä¸ªä½ç½®çš„èµ°æ³•æ•°=ç¬¬n-1ä½ç½®èµ°æ³•æ•° + ç¬¬n-2ä½ç½®èµ°æ³•æ•°</p></blockquote><table><thead><tr><th>1-&gt;2</th><th>1</th><th>2-&gt;3</th><th>1</th><th>3-&gt;4</th><th>1</th></tr></thead><tbody><tr><td>1-&gt;3</td><td>2</td><td>2-&gt;4</td><td>2</td><td>3-&gt;5</td><td>2</td></tr><tr><td>1-&gt;4</td><td>3</td><td>2-&gt;5</td><td>3</td><td>3-&gt;6</td><td>3</td></tr><tr><td>1-&gt;5</td><td>5</td><td>2-&gt;6</td><td>5</td><td>3-&gt;7</td><td>5</td></tr><tr><td>1-&gt;6</td><td>8</td><td>2-&gt;7</td><td>8</td><td>3-&gt;8</td><td>8</td></tr></tbody></table><p>å¯ä»¥å‘ç°å…¶ä¸­çš„è§„å¾‹ï¼šèµ°æ³•æ•°ä¸€ç›´æ˜¯Fibæ•°åˆ—ï¼Œè€Œå€¼ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>i</mi><mi>b</mi><mo stretchy="false">(</mo><msub><mi>N</mi><mrow><mi>t</mi><mi>o</mi></mrow></msub><mo>âˆ’</mo><msub><mi>N</mi><mrow><mi>f</mi><mi>r</mi><mi>o</mi><mi>m</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">fib(N_{to} - N_{from})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>â–²ä½†è¿™é¢˜è¿˜æœ‰ä¸€ä¸ªéš¾ç‚¹åœ¨äºç”¨ä¾‹çš„èŒƒå›´(0 &lt; a &lt; b &lt; 2<sup>31)ï¼Œå³b-a~=2</sup>32-1ï¼Œä¸ºintæœ€å¤§èŒƒå›´ï¼Œä¼šå¯¼è‡´çš„é—®é¢˜æœ‰ä¸¤ä¸ª</p><ol><li><p>fibæ•°åˆ—é€šå¸¸ä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨ï¼Œä½†æ˜¯æ— æ³•å¼€ä¸ª2^32å¤§å°çš„æ•°ç»„</p><p>==&gt;æ»šåŠ¨æ•°ç»„ã€é€’æ¨ï¼ˆä¸ç”¨æ•°ç»„ï¼‰</p></li><li><p>è¾“å‡ºçš„Fib(n)å°±è¿œè¿œè¶…è¿‡long longäº†ï¼Œå› æ­¤è¦ä¹ˆæ¨¡æ‹Ÿå¤§æ•°ç›¸åŠ ï¼Œé‚£ä¹ˆå¦å¯»ä»–æ³•ã€‚</p><p>==&gt;â–³è¿˜éœ€è¦æ³¨æ„åˆ°çš„ä¸€ç‚¹æ˜¯,<strong>è¾“å‡ºæ•°æ®ç»“æœèŒƒå›´æ˜¯ [0, 2^63)</strong>ï¼Œé‚£ä¹ˆæ„æ€æ˜¯é¢˜ç›®è¦æ±‚çš„è¾“å‡ºå…¶å®æ˜¯åœ¨long long èŒƒå›´å†…çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥è€ƒè™‘æˆªå–è¾“å‡ºäº†</p></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="comment">// ll credit = 9.2e18;å¼€çš„è¶³å¤Ÿå¤§èƒ½è¿‡æ ·ä¾‹å°±è¡Œ</span></span><br><span class="line">ll credit;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¹‚è®¡ç®—</span></span><br><span class="line"><span class="comment"> * @author mrli 2019-10-27</span></span><br><span class="line"><span class="comment"> * @param  n [less than 63]</span></span><br><span class="line"><span class="comment"> * @return   [long long type]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">ll <span class="title">pow</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        ans *= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">Fib</span><span class="params">(<span class="keyword">int</span> del)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (del == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(del == <span class="number">2</span>)  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        ll f1 = <span class="number">1</span>; ll f2=<span class="number">2</span>;</span><br><span class="line">        ll ans;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>;i&lt;=del;i++)&#123;</span><br><span class="line"><span class="comment">// ans = f1 + f2 ;ä¹Ÿè¿‡äº†</span></span><br><span class="line">            ans = ( f1%(credit) + f2%(credit) )%credit;</span><br><span class="line">            f1 = f2;</span><br><span class="line">            f2 = ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    credit = <span class="built_in">pow</span>(<span class="number">63</span>)<span class="number">-1</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">while</span>( n-- )&#123;</span><br><span class="line">        <span class="keyword">int</span> from, to;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; from &gt;&gt; to;</span><br><span class="line">        ll ans;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; Fib(to-from) &lt;&lt; <span class="built_in">endl</span>;    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹äº†åˆ«äººçš„é¢˜è§£å,å‘ç°æƒ³å¤šäº†ã€‚é¢˜ç›®çš„æ„æ€æ˜¯<strong>å¾—åˆ†ç‚¹çš„è¾“å‡ºå€¼éƒ½åœ¨long long èŒƒå›´å†…ï¼Œè€Œä¸æ˜¯éœ€è¦ä½ æŠŠè¾“å‡ºå€¼å‹ç¼©åœ¨long longèŒƒå›´å†…</strong>ï¼Œæœç„¶å»æ‰ %è¿ç®—ä¹Ÿè¿‡äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//èœœèœ‚å¯»è·¯</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(x, n) memset(x,n,sizeof(x));</span></span><br><span class="line"><span class="keyword">typedef</span>  <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> LL maxn = <span class="number">2147483648</span>+<span class="number">5</span>;</span><br><span class="line"> </span><br><span class="line">LL dp[<span class="number">3</span>]; <span class="comment">//æ»šåŠ¨æ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> n, a, b;</span><br><span class="line"><span class="function">LL <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(dp, <span class="number">0</span>);</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>, dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; b-a+<span class="number">1</span>; i++)</span><br><span class="line">        dp[i%<span class="number">3</span>] = dp[<span class="number">0</span>]+dp[<span class="number">1</span>]+dp[<span class="number">2</span>]-dp[i%<span class="number">3</span>]; <span class="comment">//å³dp[i]=dp[i-1]+dp][i-2]</span></span><br><span class="line"> </span><br><span class="line">    LL ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">        ans = max(dp[i], ans);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">while</span>(n--)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; solve() &lt;&lt; <span class="built_in">endl</span>; <span class="comment">//ä»1åˆ°4å’Œä»2åˆ°5ç­”æ¡ˆæ˜¯ä¸€æ ·çš„</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ†æ•°è¿ç®—"><a class="markdownIt-Anchor" href="#åˆ†æ•°è¿ç®—"></a> <a href="https://www.nowcoder.com/pat/2/problem/261" target="_blank" rel="noopener"> åˆ†æ•°è¿ç®—</a></h3><blockquote><p>ç‰›å®¢ç½‘å‘¨èµ›åšåˆ°è¿‡ä¸€æ¬¡ï¼Œæ„Ÿè§‰å½“æ—¶å†™çš„æ¯”ç°åœ¨çš„ç®€å•ã€‚éš¾ç‚¹åœ¨<strong>ä½¿ç”¨GCDè¿›è¡Œçº¦åˆ†</strong></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¾—è½¬ç›¸é™¤æ³•,æ±‚æœ€å¤§å…¬çº¦æ•°</span></span><br><span class="line"><span class="comment"> * @author mrli 2019-10-28</span></span><br><span class="line"><span class="comment"> * @param  a [description]</span></span><br><span class="line"><span class="comment"> * @param  b [description]</span></span><br><span class="line"><span class="comment"> * @return   [description]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b==<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b,a%b);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a1,a2,b1,b2;</span><br><span class="line">    <span class="keyword">char</span> op3;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">scanf</span>(<span class="string">"%d/%d %d/%d %c"</span>, &amp;a1, &amp;a2, &amp;b1, &amp;b2, &amp;op3) != EOF)&#123;</span><br><span class="line">        <span class="keyword">int</span> fenmu;</span><br><span class="line">        <span class="keyword">int</span> fenzi;</span><br><span class="line">        <span class="keyword">if</span> (op3 == <span class="string">'+'</span>)&#123;</span><br><span class="line">            fenmu = a2*b2;</span><br><span class="line">            fenzi = a1*b2+a2*b1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op3 == <span class="string">'-'</span>)&#123;</span><br><span class="line">            fenmu = a2*b2;</span><br><span class="line">            fenzi = a1*b2-a2*b1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (op3 == <span class="string">'*'</span>)&#123;</span><br><span class="line">            fenmu = a2*b2;</span><br><span class="line">            fenzi = a1*b1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123; <span class="comment">//if (op3 == '*')&#123;</span></span><br><span class="line">            fenmu = a2*b1;</span><br><span class="line">            fenzi = a1*b2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‰¾å‡ºæœ€å¤§å…¬å› å­,çº¦åˆ†</span></span><br><span class="line">        <span class="keyword">int</span> common = gcd(fenmu,fenzi);</span><br><span class="line">        <span class="keyword">int</span> res_zi = fenzi/common;</span><br><span class="line">        <span class="keyword">int</span> res_mu = fenmu/common;</span><br><span class="line">        <span class="keyword">if</span> ( res_mu * res_zi &gt; <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">abs</span>(fenzi/common) &lt;&lt; <span class="string">'/'</span> &lt;&lt; <span class="built_in">abs</span>(fenmu/common) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">'-'</span> &lt;&lt;<span class="built_in">abs</span>(fenzi/common) &lt;&lt; <span class="string">'/'</span> &lt;&lt; <span class="built_in">abs</span>(fenmu/common) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ†è§£å› æ•°"><a class="markdownIt-Anchor" href="#åˆ†è§£å› æ•°"></a> <a href="https://www.nowcoder.com/pat/2/problem/262" target="_blank" rel="noopener"> åˆ†è§£å› æ•°</a></h3><blockquote><p>ä½¿ç”¨å°å­¦çš„çŸ­é™¤æ³•ï¼Œæˆ‘ä»¬å¾ˆæ¸…æ¥šçš„çŸ¥é“ï¼Œè¦æƒ³æ±‚å‡ºå®ƒçš„æ¯ä¸€ä¸ªè´¨å› æ•°ï¼Œæˆ‘ä»¬éœ€è¦ç”¨è´¨æ•°å»è¯•é™¤ã€‚<code>90</code>èƒ½è¢«<code>2</code>æ•´é™¤ï¼Œé‚£å°±æ‹¿å•†ç»§ç»­é™¤ä»¥<code>2</code>ï¼Œé™¤ä¸å°½å°±æ¢<code>3</code>ï¼Œä¸€ç›´åˆ°é™¤åˆ°è´¨æ•°ä¸ºæ­¢ã€‚åŸºç¡€ä»£ç æ¡†æ¶ç±»ä¼¼åˆ¤æ–­è´¨æ•°ï¼Œåªæ˜¯è¢«åˆ¤æ–­çš„æ•°å­—åœ¨è¿‡ç¨‹ä¸­ä¸æ–­è¢«é™¤ï¼Œæœ€ç»ˆå¾ªç¯ç»“æŸçš„æ—¶å€™ï¼Œé‚£ä¸ªè¢«å¤„ç†è¿‡çš„æ•°å­—ï¼Œå°±æ˜¯æœ€åä¸€ä¸ªè´¨å› æ•°ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">bool</span> first = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">int</span> tmpn = n;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="string">" = "</span> ;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= <span class="built_in">sqrt</span>(n); ++i)&#123;</span><br><span class="line">            <span class="keyword">while</span> ( tmpn%i == <span class="number">0</span> &amp;&amp; tmpn != i)&#123;</span><br><span class="line">                tmpn /= i;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">" * "</span>; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; tmpn &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘çš„ç¬¬ä¸€æ¬¡åšæ³•ï¼š</p><blockquote><p>ä¸€ç›´TLEï¼Œä¼°è®¡è¿™ç§çš„è¯ï¼Œå¿…é¡»å¾—çº¿æ€§ç­›ï¼Œæˆ‘æœäº†å‡ ä¸ªé¢˜è§£çš„ç»“æœä¹Ÿè¯æ˜é™¤äº†ä¸Šè¿°é¢˜è§£ï¼Œå…¶ä»–çš„éƒ½æ˜¯çº¿æ€§ç­›ï¼Œä¸Šé¢çš„å°±æ¯”è¾ƒå·§å¦™</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">bool</span> <span class="title">isPrime</span><span class="params">( <span class="keyword">int</span> num )</span></span>&#123;</span><br><span class="line">     <span class="comment">//ä¸¤ä¸ªè¾ƒå°æ•°å¦å¤–å¤„ç†</span></span><br><span class="line">     <span class="keyword">if</span> (num==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     <span class="keyword">if</span>(num ==<span class="number">2</span>|| num==<span class="number">3</span> )</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">true</span> ;</span><br><span class="line">     <span class="comment">//ä¸åœ¨6çš„å€æ•°ä¸¤ä¾§çš„ä¸€å®šä¸æ˜¯è´¨æ•°</span></span><br><span class="line">     <span class="keyword">if</span>(num %<span class="number">6</span>!= <span class="number">1</span>&amp;&amp;num %<span class="number">6</span>!= <span class="number">5</span>)</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     <span class="comment">//åœ¨6çš„å€æ•°ä¸¤ä¾§çš„ä¹Ÿå¯èƒ½ä¸æ˜¯è´¨æ•°</span></span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i= <span class="number">5</span>;i &lt;= <span class="built_in">sqrt</span>( num); i+=<span class="number">6</span> )</span><br><span class="line">         <span class="keyword">if</span>(num %i== <span class="number">0</span>||num %(i+ <span class="number">2</span>)==<span class="number">0</span> )</span><br><span class="line">             <span class="keyword">return</span> <span class="literal">false</span> ;</span><br><span class="line">     <span class="comment">//æ’é™¤æ‰€æœ‰ï¼Œå‰©ä½™çš„æ˜¯è´¨æ•°</span></span><br><span class="line">     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">bool</span> first = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="string">" = "</span> ;</span><br><span class="line">        <span class="keyword">int</span> tmpn = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=tmpn;i++)&#123;</span><br><span class="line">            <span class="keyword">while</span> ( isPrime(i) &amp;&amp; n%i == <span class="number">0</span>)&#123;</span><br><span class="line">                n /= i;</span><br><span class="line">                <span class="keyword">if</span> (first) &#123;</span><br><span class="line">                    first = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; i ; </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt;  <span class="string">" * "</span> &lt;&lt; i ; </span><br><span class="line">                <span class="keyword">if</span> (n==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å› å­ä¸ªæ•°"><a class="markdownIt-Anchor" href="#å› å­ä¸ªæ•°"></a> <a href="https://www.nowcoder.com/pat/2/problem/264" target="_blank" rel="noopener">å› å­ä¸ªæ•°</a></h3><blockquote><p>ç”¨åˆ°äº†ä¸Šé¢˜çš„ç»“è®ºï¼Œ<strong>ä¸€ä¸ªæ­£æ•´æ•°æ€»å¯ä»¥åˆ†è§£æˆä¸€ä¸ªæˆ–å¤šä¸ªç´ æ•°çš„ç§¯</strong>ï¼Œä¸€å¼€å§‹ç†è§£é”™é¢˜ç›®äº†ï¼Œä»¥ä¸ºæ˜¯æ‰€æœ‰å› æ•°çš„ä¸ªæ•°ï¼Œå…¶å®æ˜¯<strong>å› æ•°çš„ç§æ•°</strong>ï¼Œæ¯”å¦‚20-&gt;2æ˜¯å› ä¸º2ï¼Œ2ï¼Œ5ï¼›30-&gt;3æ˜¯å› ä¸º2ï¼Œ3ï¼Œ5ã€‚</p><p>å› æ­¤è¿™è¾¹è¿˜æ˜¯éœ€è¦ç´ æ•°åˆ¤åˆ«ï¼Œå¡çš„ç‚¹ä¹Ÿåœ¨è¿™ï¼Œè¦ç”¨çº¿æ€§ç­›ï¼Œå…¶å®å°±æ˜¯ä¸Šé¢˜çš„å›ç­”æ–¹å¼ä¸åŒç½¢äº†</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tmp = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">            <span class="keyword">bool</span> first = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">while</span> (tmp%i==<span class="number">0</span>)&#123;</span><br><span class="line">                tmp/=i;</span><br><span class="line">                <span class="keyword">if</span> (first)&#123;</span><br><span class="line">                    first = !first;</span><br><span class="line">                    ans ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iomanip&gt;</span><br><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n;</span><br><span class="line">    while( cin &gt;&gt; n)&#123;</span><br><span class="line">        int ans=0;</span><br><span class="line">        int tmp = n;</span><br><span class="line"></span><br><span class="line">        for (int i = 2; i &lt;= sqrt(n); ++i)&#123;</span><br><span class="line">            // bool first = true;</span><br><span class="line">            if (tmp%i==0)&#123;</span><br><span class="line">                while (tmp%i==0)&#123;</span><br><span class="line">                   tmp/=i;</span><br><span class="line">                &#125;</span><br><span class="line">                ans++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (tmp!=1) ans++;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="skewæ•°"><a class="markdownIt-Anchor" href="#skewæ•°"></a> <a href="https://www.nowcoder.com/pat/2/problem/266" target="_blank" rel="noopener"> skewæ•°</a></h3><blockquote><p>æ¨¡æ‹Ÿé¢˜ã€å®ç°ä¸€ä¸ªå¹‚è¿ç®—</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pow2</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        ans *= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; s )&#123;</span><br><span class="line">        <span class="keyword">int</span> size = s.size();</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i)&#123;</span><br><span class="line">            <span class="comment">/* code */</span></span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">'2'</span>)&#123;</span><br><span class="line">                ans += <span class="number">2</span>*(pow2(size-i)<span class="number">-1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ans += (s[i]-<span class="string">'0'</span>)*(pow2(size-i)<span class="number">-1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸€çš„ä¸ªæ•°"><a class="markdownIt-Anchor" href="#ä¸€çš„ä¸ªæ•°"></a> <a href="https://www.nowcoder.com/pat/2/problem/267" target="_blank" rel="noopener"> ä¸€çš„ä¸ªæ•°</a></h3><blockquote><p>éå¸¸åŸºç¡€çš„ä¸€é“é¢˜ï¼šrè¿›åˆ¶è¡¨ç¤º</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, r;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; r)&#123;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n)&#123;</span><br><span class="line">            <span class="keyword">if</span> (n%r==<span class="number">1</span>) &#123;</span><br><span class="line">                ans++;</span><br><span class="line">            &#125;</span><br><span class="line">            n /= r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤–æ˜Ÿäººçš„è¯­è¨€"><a class="markdownIt-Anchor" href="#å¤–æ˜Ÿäººçš„è¯­è¨€"></a> <a href="https://www.nowcoder.com/pat/2/problem/268" target="_blank" rel="noopener"> å¤–æ˜Ÿäººçš„è¯­è¨€</a></h3><blockquote><p>rè¿›åˆ¶çš„æ‹“å±•ï¼Œéœ€è¦å°†å„ä½è¾“å‡ºå‡ºæ¥ï¼Œç”±äºæ˜¯é€†åºçš„ï¼Œæ‰€ä»¥éœ€è¦ä¸€1.ä¸ªæ ˆæ¥åè½¬ä¸€ä¸‹ã€æˆ–æ˜¯2.ä½¿ç”¨stringçš„åè½¬åŠŸèƒ½</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, r;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; s;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; r)&#123;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n)&#123;</span><br><span class="line">            <span class="comment">// 0-9</span></span><br><span class="line">            <span class="keyword">char</span> c = n%r+<span class="number">48</span>;</span><br><span class="line">            <span class="keyword">if</span> (n%r&gt;=<span class="number">10</span>) &#123;</span><br><span class="line">                <span class="comment">// A-F</span></span><br><span class="line">                c = n%r<span class="number">-10</span>+<span class="number">65</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            n /= r;</span><br><span class="line">            <span class="comment">// ä¸ç›´æ¥coutï¼Œè€Œæ˜¯å­˜æ ˆ</span></span><br><span class="line">            s.push(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!s.empty())&#123;</span><br><span class="line">            <span class="comment">// å–å‡ºæ ˆé‡Œçš„å†…å®¹</span></span><br><span class="line">            <span class="keyword">char</span> c = s.top();</span><br><span class="line">            s.pop();</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°ä½å’Œ"><a class="markdownIt-Anchor" href="#æ•°ä½å’Œ"></a> <a href="https://www.nowcoder.com/pat/2/problem/270" target="_blank" rel="noopener"> æ•°ä½å’Œ</a></h3><blockquote><p>ä»£ç ä¸º<a href="#%E4%B8%80%E7%9A%84%E4%B8%AA%E6%95%B0">ä¸€çš„ä¸ªæ•°</a>+<a href="#%E5%A4%96%E6%98%9F%E4%BA%BA%E7%9A%84%E8%AF%AD%E8%A8%80">å¤–æ˜Ÿäººçš„è¯­è¨€</a>çš„ç»“åˆç‰ˆã€‚</p><p>é¢˜ç›®è¦æ±‚ï¼Œå°†æ•°nï¼Œå…ˆè¡¨ç¤ºæˆrè¿›åˆ¶çš„å½¢å¼ï¼Œç„¶åå†è®¡ç®—rè¿›åˆ¶ä¸‹nçš„ä½æ•°å’Œï¼Œç„¶åå†ç”¨rè¿›åˆ¶æ¥è¡¨ç¤ºä½æ•°å’Œçš„ç»“æœ</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// ACMæ¯”èµ›ä¸­cin,çš„ä½¿ç”¨æ¯”è¾ƒè€—æ—¶,å› ä¸ºé»˜è®¤çš„æ—¶å€™ï¼Œcinä¸stdinæ€»æ˜¯ä¿æŒåŒæ­¥çš„ï¼Œä½¿ç”¨è¿™å¥å¯ä»¥ä½¿cinè¾¾åˆ°å’Œscanfç›¸å·®æ— å‡ çš„è¾“å…¥æ•ˆç‡ã€‚</span></span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">int</span> n, r;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; r)&#123;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n)&#123;</span><br><span class="line">            ans += n%r;</span><br><span class="line">            n /= r;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">stack</span> &lt;<span class="keyword">char</span>&gt; s;</span><br><span class="line">        <span class="keyword">while</span>(ans)&#123;</span><br><span class="line">            <span class="comment">// 0-9</span></span><br><span class="line">            <span class="keyword">char</span> c = ans%r+<span class="number">48</span>;</span><br><span class="line">            <span class="keyword">if</span> (ans%r&gt;=<span class="number">10</span>) &#123;</span><br><span class="line">                <span class="comment">// A-F</span></span><br><span class="line">                c = ans%r<span class="number">-10</span>+<span class="number">65</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ans /= r;</span><br><span class="line">            <span class="comment">// ä¸ç›´æ¥coutï¼Œè€Œæ˜¯å­˜æ ˆ</span></span><br><span class="line">            s.push(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!s.empty())&#123;</span><br><span class="line">            <span class="comment">// å–å‡ºæ ˆé‡Œçš„å†…å®¹</span></span><br><span class="line">            <span class="keyword">char</span> c = s.top();</span><br><span class="line">            s.pop();</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿›åˆ¶å›æ–‡æ•°"><a class="markdownIt-Anchor" href="#è¿›åˆ¶å›æ–‡æ•°"></a> <a href="https://www.nowcoder.com/pat/2/problem/272" target="_blank" rel="noopener">è¿›åˆ¶å›æ–‡æ•°</a></h3><blockquote><p>è¿˜æ˜¯rè¿›åˆ¶çš„æ‹“å±•ï¼Œ</p><p>1.réœ€è¦ç”¨ä¸ª2-16çš„å¾ªç¯<br>2.åˆ¤æ–­å­—ç¬¦ä¸²çš„é•œåƒå¯¹ç§°s[i] != s[ssize-i-1]<br>3.è¸©äº†ä¸ªå‘,næ¯æ¬¡éƒ½ä¼šè¢«é™¤åˆ°å¾ˆå°,å› æ­¤éœ€è¦ç”¨ä¸ªä¸´æ—¶å˜é‡æ¥å¤„ç†</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; N)&#123;</span><br><span class="line">        <span class="keyword">bool</span> yes=<span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">2</span>; r &lt;= <span class="number">16</span>; ++r)&#123;</span><br><span class="line">            <span class="built_in">string</span> s;</span><br><span class="line">            <span class="keyword">int</span> n = N;</span><br><span class="line">            <span class="keyword">while</span>(n)&#123;</span><br><span class="line">                <span class="keyword">char</span> c = n%r+<span class="number">48</span>;</span><br><span class="line">                <span class="keyword">if</span> (n%r&gt;=<span class="number">10</span>) &#123;</span><br><span class="line">                    c = n%r<span class="number">-10</span>+<span class="number">65</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                n /= r;</span><br><span class="line">                s += c;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ£€æµ‹å‡ºrè¿›åˆ¶å˜æ¢æ—¶,nå·²ç»è¢«é™¤çš„å¾ˆå°äº†,å› æ­¤éœ€è¦ç”¨ä¸ªä¸´æ—¶å˜é‡</span></span><br><span class="line">            <span class="comment">// cout &lt;&lt; r &lt;&lt; "è¿›åˆ¶ï¼š" &lt;&lt; endl;</span></span><br><span class="line">            <span class="comment">// for (int i = 0; i &lt; s.size(); ++i)</span></span><br><span class="line">            <span class="comment">// &#123;</span></span><br><span class="line">            <span class="comment">//     cout &lt;&lt; s[i] &lt;&lt; endl;</span></span><br><span class="line">            <span class="comment">//     /* code */</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            <span class="keyword">bool</span> mirror = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">int</span> ssize = s.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= ssize/<span class="number">2</span>; ++i)&#123;</span><br><span class="line">                <span class="keyword">if</span> (s[i] != s[ssize-i<span class="number">-1</span>])&#123;</span><br><span class="line">                    mirror = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (mirror)&#123;</span><br><span class="line">                 yes=<span class="literal">true</span>;</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (yes) <span class="built_in">cout</span> &lt;&lt; <span class="string">"Yes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"No"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‘é‚®ä»¶"><a class="markdownIt-Anchor" href="#å‘é‚®ä»¶"></a> <a href="https://www.nowcoder.com/pat/2/problem/274" target="_blank" rel="noopener"> å‘é‚®ä»¶</a></h3><blockquote><p>ä¸€é“æ•°å­¦é¢˜ï¼Œé€’æ¨å…¬å¼ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>âˆ—</mo><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f(n) = (n-1)*[f(n-1)+f(n-2)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span></p><p>å‘ç‚¹:è¶…å‡ºäº†intï¼Œéœ€è¦ç”¨longlong</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">email</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n==<span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">3</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (n<span class="number">-1</span>)*(email(n<span class="number">-1</span>)+email(n<span class="number">-2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; n )&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; email(n) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¯´åè¯-20"><a class="markdownIt-Anchor" href="#è¯´åè¯-20"></a> <a href="https://www.nowcoder.com/pat/2/problem/4075" target="_blank" rel="noopener"> è¯´åè¯ (20)</a></h3><blockquote><p>è€ƒæŸ¥äº†ï¼šå¯¹è¡Œçš„è¯»å–ã€å­—ç¬¦ä¸²çš„åˆ‡å‰²ã€‚</p><p>æœ¬æ¥è¿˜ä»¥ä¸ºè€ƒäº†ä¸ªstringçš„åè½¬ï¼Œç»“æœæ¯”æƒ³è±¡ä¸­çš„æ›´ç®€å•ä¸€ç‚¹</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>( getline(<span class="built_in">cin</span>, s) )&#123;</span><br><span class="line">        <span class="built_in">stringstream</span> strings;</span><br><span class="line">        <span class="built_in">string</span> tmps;</span><br><span class="line">        strings &lt;&lt; s;</span><br><span class="line">        <span class="keyword">while</span>( getline(strings, tmps, <span class="string">' '</span>) )&#123;</span><br><span class="line">            ss.push(tmps);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!ss.empty())&#123;</span><br><span class="line">            <span class="built_in">string</span> couts = ss.top();</span><br><span class="line">            ss.pop();</span><br><span class="line">            <span class="keyword">if</span> (!ss.empty())</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; couts &lt;&lt;<span class="string">' '</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; couts ;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¡¥å……stringçš„åè½¬"><a class="markdownIt-Anchor" href="#è¡¥å……stringçš„åè½¬"></a> è¡¥å……â€”â€”stringçš„åè½¬ï¼š</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ³•ä¸€:ä½¿ç”¨string::reverse_iteratorè¿­ä»£å™¨,ç›´æ¥ç”¨iteratorä¼šæŠ¥é”™*/</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">string</span>::reverse_iterator it=couts.rbegin(); it != couts.rend() ; ++it)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *it;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ³•äºŒ:ä½¿ç”¨algorithmç®—æ³•ä¸­çš„reverseå‡½æ•°*/</span></span><br><span class="line"><span class="comment">// ä¼šä¿®æ”¹strä¸­çš„å†…å®¹</span></span><br><span class="line">reverse(str.begin(),str.end());</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ³•ä¸‰:ä½¿ç”¨ä½¿ç”¨string.hä¸­çš„strrevå‡½æ•°</span></span><br><span class="line"><span class="comment">â–³åªèƒ½å¤„ç†char[],ä¸æ”¯æŒstringç±»å‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">char</span> s[]=<span class="string">"hello"</span>;</span><br><span class="line">strrev(s);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;s&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ³•å››:è‡ªå·±ç¼–å†™*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Reverse</span><span class="params">(<span class="keyword">char</span> *s,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>,j=n<span class="number">-1</span>;i&lt;j;i++,j--)&#123;</span><br><span class="line">        <span class="keyword">char</span> c=s[i];</span><br><span class="line">        s[i]=s[j];</span><br><span class="line">        s[j]=c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸€å…ƒå¤šé¡¹å¼æ±‚å¯¼-25"><a class="markdownIt-Anchor" href="#ä¸€å…ƒå¤šé¡¹å¼æ±‚å¯¼-25"></a> <a href="https://www.nowcoder.com/pat/2/problem/4076" target="_blank" rel="noopener">ä¸€å…ƒå¤šé¡¹å¼æ±‚å¯¼ (25)</a></h3><blockquote><p>è¢«è¯»å–æ–¹å¼å¡äº†ä¼š</p><p>è¿™è¾¹æœ‰ä¸ªå‘ç‚¹: å¿½ç•¥äº†å¸¸æ•°é¡¹çš„é—®é¢˜<br>æ¯”å¦‚ è¾“å…¥ 2 0<br>åº”è¯¥è¾“å‡º 0 0</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;  </span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">exp</span>,coe;</span><br><span class="line"><span class="keyword">bool</span> flag=<span class="literal">false</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;coe,&amp;<span class="built_in">exp</span>)!=EOF)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">exp</span>!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(flag) <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d"</span>,coe*<span class="built_in">exp</span>,<span class="built_in">exp</span><span class="number">-1</span>);</span><br><span class="line">flag=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag==<span class="literal">false</span>) <span class="built_in">printf</span>(<span class="string">"0 0\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ«äººçš„å¤„ç†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">poly</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> coef;</span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line">&#125;<span class="keyword">typedef</span> poly;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> coef;</span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">queue</span>&lt;poly&gt; q;</span><br><span class="line">    <span class="comment">// scanfå’Œgetcharåˆç”¨æ¯”è¾ƒæ–¹ä¾¿,cinå†ç”¨getcharæ— æ•ˆ</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;coef, &amp;index) != EOF)&#123;</span><br><span class="line">        <span class="keyword">if</span> (index!=<span class="number">0</span>)&#123;</span><br><span class="line">            poly *p = <span class="keyword">new</span> poly();</span><br><span class="line">            p-&gt;coef = coef*index;</span><br><span class="line">            p-&gt;index = index<span class="number">-1</span> ;</span><br><span class="line">            q.push(*p);    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ”¾æœ€åèƒ½è¿‡,æ”¾æœ€åˆçš„æ—¶å€™æœ‰äº›è¿‡ä¸äº†</span></span><br><span class="line">        <span class="keyword">if</span> (getchar()==<span class="string">'\n'</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (q.size()==<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"0 0\n"</span>);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">            poly p = q.front();</span><br><span class="line">            q.pop();</span><br><span class="line">            <span class="keyword">if</span> (p.coef != <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span> (q.empty())</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"%d %d"</span>, p.coef, p.index );</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"%d %d "</span>, p.coef, p.index );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ·å®Œäº†ç‰›å®¢ç½‘PATä¹™çº§ç»ƒä¹ é¢˜çš„ç¬¬ä¸€ã€ç¬¬ä¸‰é¡µã€‚å¤§å¤šéƒ½æ˜¯äº›æ¨¡æ‹Ÿé¢˜ã€ç®€å•é¢˜ï¼Œç›¸å½“äºå¼±ä¸€ç‚¹çš„è“æ¡¥æ¯çœèµ›ã€‚ç”±äºæŠ¥åè€ƒçš„æ˜¯ç”²çº§ï¼Œæ‰€ä»¥å°±æ²¡ç»§ç»­åšä¸‹å»äº†â€¦</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;patå†²å†²å†²ä¹™çº§&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#patå†²å†²å†²ä¹™çº§&quot;&gt;&lt;/a&gt; PATå†²å†²å†²â€”â€”ä¹™çº§&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://pintia.cn/problem-sets
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>sshpassâ€”â€”shellè„šæœ¬å®ç°SSHè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤</title>
    <link href="https://nymrli.top/2019/12/25/sshpass%E2%80%94%E2%80%94shell%E8%84%9A%E6%9C%AC%E5%AE%9E%E7%8E%B0SSH%E8%BF%9E%E6%8E%A5%E5%85%B6%E4%BB%96%E4%B8%BB%E6%9C%BA%E5%B9%B6%E6%89%A7%E8%A1%8C%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4/"/>
    <id>https://nymrli.top/2019/12/25/sshpassâ€”â€”shellè„šæœ¬å®ç°SSHè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤/</id>
    <published>2019-12-25T09:29:08.000Z</published>
    <updated>2019-12-25T10:16:16.390Z</updated>
    
    <content type="html"><![CDATA[<h1 id="sshpass"><a class="markdownIt-Anchor" href="#sshpass"></a> sshpass</h1><blockquote><p>sshç™»é™†ä¸èƒ½åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šå¯†ç ã€‚sshpassçš„å‡ºç°ï¼Œè§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚å³sshpasså¯ä»¥ç”¨äºéäº¤äº’SSHçš„å¯†ç éªŒè¯ï¼Œ<strong>ä¸€èˆ¬ç”¨åœ¨shè„šæœ¬ä¸­ï¼Œæ— é¡»å†æ¬¡è¾“å…¥å¯†ç </strong>ã€‚</p></blockquote><p>sshpasså…è®¸ç”¨<code>-p</code>å‚æ•°æŒ‡å®šæ˜æ–‡å¯†ç ï¼Œç„¶åç›´æ¥ç™»å½•è¿œç¨‹æœåŠ¡å™¨ã€‚(æ”¯æŒå¯†ç ä»å‘½ä»¤è¡Œã€æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ä¸­è¯»å–)</p><p>1.å®‰è£…<code>sudo apt install sshpass</code></p><p>2.ä½¿ç”¨è¯´æ˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -p ç›´æ¥æŒ‡å®šå¯†ç </span></span><br><span class="line">sshpass -p '123456' ssh user_name@host_ip</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> -f: -f filename <span class="comment">#åè·Ÿä¿å­˜å¯†ç çš„æ–‡ä»¶åï¼Œå¯†ç æ˜¯æ–‡ä»¶å†…å®¹çš„ç¬¬ä¸€è¡Œã€‚</span></span></span><br><span class="line">[root@zhu ~]# cat 1.txt</span><br><span class="line">123456</span><br><span class="line">[root@zhu ~]# sshpass -f 1.txt  ssh root@192.168.56.102</span><br><span class="line">Last login: Fri Apr 18 13:48:20 2014 from 192.168.56.101</span><br><span class="line">[root@jiang ~]# exit</span><br><span class="line">logout</span><br><span class="line">Connection to 192.168.56.102 closed.</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> -e <span class="comment">#å°†ç¯å¢ƒå˜é‡SSHPASSä½œä¸ºå¯†ç </span></span></span><br><span class="line">[root@zhu ~]# export SSHPASS=123456</span><br><span class="line">[root@zhu ~]# sshpass -e  ssh root@192.168.56.102</span><br><span class="line">Last login: Fri Apr 18 13:51:45 2014 from 192.168.56.101</span><br><span class="line">[root@jiang ~]# exit</span><br><span class="line">logout</span><br><span class="line">Connection to 192.168.56.102 closed.</span><br></pre></td></tr></table></figure><h1 id="shellè„šæœ¬å®ç°sshè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤"><a class="markdownIt-Anchor" href="#shellè„šæœ¬å®ç°sshè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤"></a> shellè„šæœ¬å®ç°SSHè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">command</span> -v &lt;the_command&gt; æ£€æµ‹å‘½ä»¤æ˜¯å¦å­˜åœ¨è¿”å›å‘½ä»¤æ‰€åœ¨è·¯å¾„,ç­‰ä»·äº<span class="built_in">which</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">if</span> [ -x file ] å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œ</span></span><br><span class="line">if ! [ -x "$(command -v sshpass)" ]; then</span><br><span class="line">  sudo apt-get install sshpass</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">port=20005</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span> -e ä¼šè¿›è¡Œè½¬ä¹‰</span></span><br><span class="line">echo -e "\nè¯·è¾“å…¥ç”¨æˆ·åï¼\n"</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">read</span>-å°†äº¤äº’è¾“å…¥ä¿å­˜åœ¨å˜é‡ä¸­</span></span><br><span class="line">read name</span><br><span class="line"><span class="meta">#</span><span class="bash"> è·å¾—å½“å‰è„šæœ¬çš„å·¥ä½œè·¯å¾„</span></span><br><span class="line">dir=$(cd $(dirname $0);pwd)</span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ†å‰²-&gt;è·å¾—æ–‡ä»¶å</span></span><br><span class="line">file_name="$&#123;dir##*/&#125;"</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¼ è¾“æ–‡ä»¶</span></span><br><span class="line">echo -e "\n[å¼€å§‹ä¼ è¾“æ–‡ä»¶]\n"</span><br><span class="line">sshpass -p "$key" scp -r -P  $port $dir username@IP_address:/data/cluster/$name</span><br><span class="line">if [ $pool -eq 1 ]||[ $pool -eq 2 ]||[ $pool -eq 3 ]</span><br><span class="line">then </span><br><span class="line">    # remotesshä¸ºæ ‡è®°ç¬¦,ä¸‹é¢çš„å†…å®¹å…¨éƒ¨é‡å®šå‘åˆ°sshè¿æ¥çš„ç»ˆç«¯ä¸­, ä¸€å®šè¦ä¿è¯ä¸‹é¢çš„å…¨æ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼</span><br><span class="line">    # ç”±äºshellä¼šè¿›è¡Œé¢„è½¬æ¢,æ‰€ä»¥shellç‰¹æ®Šçš„é‡éœ€è¦é¢å¤–æ³¨æ„,å¦åˆ™ç»“æœå°†åªä¼šæ˜¯å½“å‰ä¸»æœºçš„ã€‚å› æ­¤éœ€è¦åŠ \</span><br><span class="line">    # man sshpassä¸­æç¤º:å¤šä¸ª-té€‰é¡¹å¼ºåˆ¶åˆ†é…ttyï¼Œå³ä½¿sshæ²¡æœ‰æœ¬åœ°tty,æ‰€ä»¥ä½¿ç”¨-ttå‚æ•°æ¥å¼ºåˆ¶ä¼ªç»ˆç«¯åˆ†é…(è¡¨ç¤ºä¸ºè¿™ä¸ªè¿æ¥åˆ†é…TTY)ï¼Œå³ä½¿æ ‡å‡†è¾“å…¥ä¸æ˜¯ç»ˆç«¯ï¼Œå¦åˆ™é€€å‡ºåä¼šæç¤º`Pseudo-terminal will not be allocated because stdin is not a terminalçš„é”™`ã€‚ å³æŒ‡æ˜æ˜¯æ¥è‡ªè„šæœ¬çš„è°ƒç”¨</span><br><span class="line">    # æ§åˆ¶ç»ˆç«¯ï¼ˆ/dev/ttyï¼‰å°±æ˜¯å½“å‰è¿›ç¨‹çš„æ§åˆ¶ç»ˆç«¯çš„è®¾å¤‡ç‰¹æ®Šæ–‡ä»¶ï¼Œå¯ä»¥è¿›è¡Œå†™å…¥å†™å‡º</span><br><span class="line">    sshpass -p "$key" ssh -tt -p $(($port+$pool)) username@IP_address &lt;&lt; remotessh</span><br><span class="line">Condor_number=\`condor_q | grep jobs | awk '&#123;print \$1&#125;'\`</span><br><span class="line">if [ \$Condor_number -le 1 ]</span><br><span class="line">then echo -e "\nåˆ›å»ºä»»åŠ¡å¤±è´¥ï¼\n"</span><br><span class="line">else echo -e "\nåˆ›å»ºä»»åŠ¡æˆåŠŸï¼\n"</span><br><span class="line">fi</span><br><span class="line">exit</span><br><span class="line">remotessh</span><br><span class="line">else</span><br><span class="line">echo -e "æ²¡æœ‰è¯¥èµ„æºæ± \n"</span><br><span class="line">exit</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p><code>man sshpass</code>ä¸­å…³äº-tå‚æ•°çš„è¯´æ˜</p><blockquote><p>Force pseudo-terminal allocation.  This can be used to execute arbitrary screen-based programs on a remote machine, which can be very useful, e.g. when implementing menu services.  Multiple -t options force tty allocation, even if ssh has no local tty.</p></blockquote><h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“ï¼š</h1><p>æ‰€ä»¥å®ç°çš„æ–¹æ³•ä¸»è¦æ˜¯:</p><ul><li>SSHpasséäº¤äº’å¼ç™»å½•</li><li>SSHç»ˆç«¯æ‰§è¡Œå¤šæ¡å‘½ä»¤</li></ul><h1 id="é™„å½•"><a class="markdownIt-Anchor" href="#é™„å½•"></a> é™„å½•</h1><p><a href="https://blog.csdn.net/wyl9527/article/details/72770455" target="_blank" rel="noopener">ssh@host:sshåˆ‡æ¢åˆ°å…¶ä»–æœºå™¨ä¸Šæ‰§è¡Œå¤šæ¡å‘½ä»¤</a><br><a href="https://blog.csdn.net/qq_39584315/article/details/87189114" target="_blank" rel="noopener">Shellè¡¨è¾¾å¼ï¼Œ${file##*/} å–åç¼€</a><br><a href="https://blog.csdn.net/liyyzz33/article/details/84836255" target="_blank" rel="noopener">shell-ifè¡¨è¾¾å¼ï¼ˆ-f,-d,-s,-r,-w,-x,-eq,-ne,-ge,-gt,-le,-lt ï¼‰</a><br><a href="https://majing.io/posts/10000009411212" target="_blank" rel="noopener">Linuxæ£€æµ‹å‘½ä»¤æ˜¯å¦å­˜åœ¨</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;sshpass&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#sshpass&quot;&gt;&lt;/a&gt; sshpass&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;sshç™»é™†ä¸èƒ½åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šå¯†ç ã€‚sshpassçš„å‡ºç°ï¼Œè§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚å³sshpass
      
    
    </summary>
    
    
      <category term="è¿ç»´" scheme="https://nymrli.top/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="Linux" scheme="https://nymrli.top/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>æ ‘è“æ´¾åˆå§‹åŒ–æ“ä½œ</title>
    <link href="https://nymrli.top/2019/12/12/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%88%9D%E5%A7%8B%E5%8C%96%E6%93%8D%E4%BD%9C/"/>
    <id>https://nymrli.top/2019/12/12/æ ‘è“æ´¾åˆå§‹åŒ–æ“ä½œ/</id>
    <published>2019-12-12T10:59:06.000Z</published>
    <updated>2019-12-12T11:21:49.504Z</updated>
    
    <content type="html"><![CDATA[<p>å®‰è£…ç³»ç»Ÿé•œåƒ:</p><p><a href="https://www.raspberrypi.org/downloads/" target="_blank" rel="noopener">å®˜ç½‘ä¸‹è½½é•œåƒ</a>ï¼Œè§£å‹ä¸‹è½½å¥½çš„Zipæ–‡ä»¶ä¼šå¾—åˆ°.imgé•œåƒæ–‡ä»¶ã€‚ä¸‹è½½win32DiskImage</p><p>æ–¹å¼:</p><ul><li>SSH</li><li>VNC</li><li>Xrdp</li></ul><p>ç³»ç»Ÿè®¾ç½®:</p><p>$ sudo raspi-reconfig</p><p>1.å®‰è£…å­—ä½“</p><blockquote><p>é»˜è®¤å®‰è£…çš„æ˜¯è‹±æ–‡å­—ä½“ï¼Œå¦‚æœæ—¶åŒºé€‰æ‹©ä¸­æ–‡ï¼Œå°†ä¼šä¹±ç ï¼Œå› æ­¤éœ€è¦å®‰è£…ä¸­æ–‡å­—ä½“è¿›è¡Œæ±‰åŒ–ã€‚</p></blockquote><p><code>sudo apt-get install ttf-wqy-zenhei</code></p><p>2.å®‰è£…ä¸­æ–‡è¾“å…¥å‘</p><p>3.ä¿®æ”¹é”®ç›˜å¸ƒå±€</p><blockquote><p>é”®ç›˜å¸ƒå±€é»˜è®¤æ˜¯è‹±æ ‡çš„ï¼Œéœ€è¦å°†å…¶æ”¹æˆç¾æ ‡</p></blockquote><p>è¾“å…¥<code>sudo dpkg-reconfigure keyboard-configuration</code>åé€‰æ‹©é€šç”¨çš„104é”®PCé”®ç›˜(Generic 104 Key PC),åœ¨Layoutä¸­é€‰æ‹©Ohter,ç„¶ååœ¨é€‰é¡¹ä¸­é€‰æ‹©English(US)ï¼Œç„¶åä¸æ–­é€‰æ‹©OKé€€å‡ºå³å¯</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å®‰è£…ç³»ç»Ÿé•œåƒ:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.raspberrypi.org/downloads/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®˜ç½‘ä¸‹è½½é•œåƒ&lt;/a&gt;ï¼Œè§£å‹ä¸‹è½½å¥½çš„Zipæ–‡ä»¶ä¼šå¾—åˆ°.imgé•œåƒæ–‡ä»¶ã€‚ä¸‹è½½win32D
      
    
    </summary>
    
    
      <category term="åµŒå…¥å¼" scheme="https://nymrli.top/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>ACM-ç½‘ç»œæµ</title>
    <link href="https://nymrli.top/2019/12/08/ACM-%E7%BD%91%E7%BB%9C%E6%B5%81/"/>
    <id>https://nymrli.top/2019/12/08/ACM-ç½‘ç»œæµ/</id>
    <published>2019-12-08T11:03:34.000Z</published>
    <updated>2019-12-08T11:48:50.230Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æœ€å¤§æµ"><a class="markdownIt-Anchor" href="#æœ€å¤§æµ"></a> æœ€å¤§æµ</h1><h2 id="ffç®—æ³•"><a class="markdownIt-Anchor" href="#ffç®—æ³•"></a> FFç®—æ³•</h2><blockquote><p>æœ€åŸºæœ¬æ‰¾å¢—å¹¿è·¯çš„ç®—æ³•</p></blockquote><h3 id="dinicå®ç°åŸºç¡€çš„ffç®—æ³•"><a class="markdownIt-Anchor" href="#dinicå®ç°åŸºç¡€çš„ffç®—æ³•"></a> dinicå®ç°(åŸºç¡€çš„FFç®—æ³•)</h3><blockquote><p><strong>åè¾¹</strong>ï¼šæˆ‘ä»¬çŸ¥é“ï¼Œå½“æˆ‘ä»¬åœ¨å¯»æ‰¾å¢å¹¿è·¯çš„æ—¶å€™ï¼Œåœ¨å‰é¢æ‰¾å‡ºçš„ä¸ä¸€å®šæ˜¯æœ€ä¼˜è§£ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å‡å»æ®‹é‡ç½‘ç»œä¸­æ­£å‘è¾¹çš„åŒæ—¶å°†ç›¸å¯¹åº”çš„åå‘è¾¹åŠ ä¸Šå¯¹åº”çš„å€¼ï¼Œæˆ‘ä»¬å°±ç›¸å½“äºå¯ä»¥åæ‚”ä»è¿™æ¡è¾¹æµè¿‡ã€‚</p></blockquote><p>æŠ€å·§ï¼šflow[u]æ­£è¾¹ï¼Œflow[u^1]åè¾¹<br>å»ºè¾¹çš„æ—¶å€™æ˜¯åŒæ—¶å»ºçš„ï¼Œæ¯”å¦‚1çš„åè¾¹ä¸º2ï¼Œ2çš„åè¾¹ä¸º1ï¼Œâ–²è¾¹ä¸èƒ½ä»0å¼€å§‹</p><p>ä¸»è¦æ€è·¯ï¼š</p><ul><li>æ±‚å¢å¹¿è·¯</li><li>åˆ†å±‚å›¾</li></ul><h4 id="dinicçš„ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#dinicçš„ä¼˜åŒ–"></a> dinicçš„ä¼˜åŒ–</h4><ul><li><p>å½“å‰å¼§ä¼˜åŒ–(ä½œç”¨ä¸æ˜æ˜¾)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ€åŸå§‹</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> now,<span class="keyword">int</span> fl)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(now==aim)<span class="keyword">return</span> fl;</span><br><span class="line">    <span class="keyword">int</span> f=e;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> u=fir[now];u &amp;&amp; fl;u=nxt[u])&#123;</span><br><span class="line">        <span class="keyword">if</span>(flow[uj&amp;&amp;deep[to[u]]==deep[now]+<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> x=dfs(to[u],min(fl,flow[u]));</span><br><span class="line">            flow[u]-=x;flow[u^<span class="number">1</span>]+=x;fl-=x;f+=x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(lf)deep[now]=<span class="number">-2</span>;</span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å½“å‰å¼§ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> now,<span class="keyword">int</span> fl)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(now==aim) <span class="keyword">return</span> fl;</span><br><span class="line">    <span class="keyword">int</span> f=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ä¿®æ”¹ä¸ºcurfir[now]</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> u=curfir[now];u&amp;&amp;fl;u=nxt[u])&#123;</span><br><span class="line">        curfir=u;<span class="comment">// åŠ äº†æ­¤å¤„</span></span><br><span class="line">        <span class="keyword">if</span>(flow[u]&amp;&amp;deep[to[u]]==deep[now]+<span class="number">1</span>)&#123;</span><br><span class="line">            int dfs(to[u],min(fl,flow[u]));</span><br><span class="line">            flow[u]-=x;flow[u^<span class="number">1</span>]+=x;fl-=x;f+=x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!f)deep[now]=<span class="number">-2</span>;<span class="comment">// ç‚¸ç‚¹ä¼˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¤šè·¯å¢å¹¿</p></li><li><p>ç‚¸ç‚¹</p></li></ul><p><strong>æœ€å¤§æµæœ€å°å‰²å®šç†</strong>ï¼šæœ€å°å‰²æ€»å’Œçš„æƒå€¼==æœ€å¤§æµçš„å€¼ï¼Œå¯¹äºæ¯å¼ å›¾éƒ½æ˜¯æˆç«‹çš„ã€‚ï¼ˆç½‘ç»œæµçš„å¯¹ç§°å½¢å¼ï¼‰</p><p>å…·ä½“ä»£ç :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxflow</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span></span>&#123;<span class="comment">// å¤–å±‚å¾ªç¯</span></span><br><span class="line">aim = T;<span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(bfs(s, t))&#123;</span><br><span class="line">ret += dfs(s, <span class="number">1</span>&lt;&lt;<span class="number">30</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span></span>&#123;<span class="comment">// å»ºç«‹åˆ†å±‚å›¾</span></span><br><span class="line"><span class="built_in">memset</span>(deep,<span class="number">0</span>,(tot+<span class="number">2</span>)&lt;&lt;<span class="number">2</span>);</span><br><span class="line">    deep[S]=<span class="number">1</span>;d1[<span class="number">1</span>]=S;<span class="keyword">int</span> head=<span class="number">0</span>,tail=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(head!=tail)&#123;</span><br><span class="line">    <span class="keyword">int</span> v=dl[++head];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> u=fir[v];u;u=nxt[u])&#123;</span><br><span class="line">            <span class="keyword">if</span>(flow[u]&amp;&amp;!deep[to[u]])&#123;</span><br><span class="line">            deep[to[u]]=deep[v]+<span class="number">1</span>;</span><br><span class="line">            d1[++tail]=to[u];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> deep[T];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> now,<span class="keyword">int</span> fl)</span></span>&#123;<span class="comment">// dfsæ‰¾å¢—å¹¿è·¯</span></span><br><span class="line">    <span class="keyword">if</span>(now==aim) <span class="keyword">return</span> fl;</span><br><span class="line">    <span class="keyword">int</span> f=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">// // å½“å‰å¼§ä¼˜åŒ–,ä¿®æ”¹ä¸ºcurfir[now]</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> u=curfir[now];u&amp;&amp;fl;u=nxt[u])&#123;</span><br><span class="line">        curfir=u;<span class="comment">// åŠ äº†æ­¤å¤„</span></span><br><span class="line">        <span class="keyword">if</span>(flow[u]&amp;&amp;deep[to[u]]==deep[now]+<span class="number">1</span>)&#123;</span><br><span class="line">            int dfs(to[u],min(fl,flow[u]));</span><br><span class="line">            flow[u]-=x;flow[u^<span class="number">1</span>]+=x;fl-=x;f+=x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!f)deep[now]=<span class="number">-2</span>;<span class="comment">// ç‚¸ç‚¹ä¼˜åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ekç®—æ³•"><a class="markdownIt-Anchor" href="#ekç®—æ³•"></a> EKç®—æ³•</h2><blockquote><p>å¼•å…¥äº†åç›¸è¾¹ï¼šåœ¨åŸæœ‰çš„æœ‰å‘å›¾ä¸Šå¼•å…¥äº†åå‘çš„è¾¹ï¼Œä¸”å®¹é‡ç›¸ç­‰</p></blockquote><p><strong>æ‰§è¡Œè¿‡ç¨‹ï¼š</strong><br>BFSæ‰¾å¢—å¹¿è·¯</p><ul><li>æ‰¾åˆ°çš„è¯ï¼Œæ›´æ–°æœ€å¤§æµã€æ®‹ä½™ç½‘è·¯</li><li>æ‰¾ä¸åˆ°åˆ™èµ°å®Œäº†</li></ul><p>ä¸¤è€…çš„æ€æƒ³éƒ½æ˜¯ï¼šæ‰¾å¢—å¹¿è·¯ï¼Œæ‰¾åˆ°æ‰¾ä¸åˆ°ä¸ºæ­¢</p><p>å‚è€ƒ:</p><p><a href="https://www.bilibili.com/video/av18567992?p=1" target="_blank" rel="noopener">æœ€å¤§æµï¼ˆæœ€å°å‰²ï¼‰çš„EKç®—æ³•</a></p><h1 id="æœ€å°è´¹ç”¨æœ€å¤§æµ"><a class="markdownIt-Anchor" href="#æœ€å°è´¹ç”¨æœ€å¤§æµ"></a> æœ€å°è´¹ç”¨æœ€å¤§æµ</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æœ€å¤§æµ&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æœ€å¤§æµ&quot;&gt;&lt;/a&gt; æœ€å¤§æµ&lt;/h1&gt;
&lt;h2 id=&quot;ffç®—æ³•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ffç®—æ³•&quot;&gt;&lt;/a&gt; FFç®—æ³•&lt;/h2&gt;
&lt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘</title>
    <link href="https://nymrli.top/2019/12/07/ACM-%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E5%92%8C%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    <id>https://nymrli.top/2019/12/07/ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘/</id>
    <published>2019-12-07T05:04:53.000Z</published>
    <updated>2019-12-08T11:44:32.293Z</updated>
    
    <content type="html"><![CDATA[<p><strong>é«˜æ€§èƒ½é—®é¢˜ï¼š</strong><br>Qï¼šéœ€æ±‚ï¼šï¼ˆè€æ¿ç»™ä½ åˆ†äº†å°2GHzå•æ ¸ï¼Œå†…å­˜500Mçš„æœåŠ¡å™¨ç„¶åè®©ä½ å†™ç¨‹åºï¼‰ç¨‹åºæ¯ç§’ä¼šæ”¶åˆ°ä¸€ç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®åŒ…å«10ä¸‡æ¡å‘½ä»¤ï¼Œæ€»å…±ä¼šæœ‰100ä¸‡ä¸ªä»“åº“ï¼Œæ¯ä¸ªä»“åº“åº“å­˜æ²¡æœ‰ä¸Šé™ä¸”å¯ä¸ºè´Ÿï¼Œåº“å­˜åˆå§‹ä¸º0ã€‚<strong>ä½ éœ€è¦åœ¨ä¸€ç§’å†…å®Œæˆå…¨éƒ¨çš„å‘½ä»¤</strong>ï¼Œç„¶åå°†æŸ¥è¯¢ç»“æœæŒ‰é¡ºåºå¾—å‡ºåä¼ å›ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><ul><li><code>Add i j</code>ï¼Œiå’Œjä¸ºæ­£æ•´æ•°ï¼Œè¡¨ç¤ºç¬¬iä¸ªä»“åº“å¢åŠ jä¸ªåº“å­˜ï¼ˆjä¸è¶…è¿‡220ï¼‰</li><li><code>Sub i j</code>ï¼Œiå’Œjä¸ºæ­£æ•´æ•°ï¼Œè¡¨ç¤ºç¬¬iä¸ªä»“åº“å‡å°‘ä¸ªåº“å­˜ï¼ˆjä¸è¶…è¿‡220ï¼‰</li><li><code>Query i j</code>ï¼Œiå’Œjä¸ºæ­£æ•´æ•°ï¼Œi&lt;=jï¼Œè¡¨ç¤ºè¯¢é—®ç¬¬iåˆ°ç¬¬ä¸ªä»“åº“çš„æ€»åº“å­˜ï¼›End è¡¨ç¤ºç»“æŸï¼Œè¿™æ¡å‘½ä»¤åœ¨æ¯ç»„æ•°æ®æœ€åå‡ºç°ï¼›</li></ul><p>æ€è·¯ä¸€ï¼šç”¨arrayå»å­˜å‚¨æ¯ä¸ªä»“åº“çš„å®¹é‡ï¼Œåœ¨æŸ¥è¯¢æ—¶ç”¨å¾ªç¯å–å‡º(L,R)çš„æ€»å®¹é‡ã€‚æ­¤æ—¶Updateä¸ºO(1)ï¼ŒQueryä¸ºO(N)</p><p>æ€è·¯äºŒï¼š<strong>å‰ç¼€æ•°ç»„å’Œ</strong>ï¼šåœ¨array1å‚¨å­˜æ¯ä¸ªä»“åº“å®¹é‡çš„åŒæ—¶ç»´æŠ¤array2æ¥è®°å½•å‰nä¸ªä»“åº“çš„æ€»å®¹é‡ï¼Œå½“è®¡ç®—æŸä¸ªåŒºé—´çš„å®¹é‡(L,R)å¯ä»¥é€šè¿‡s[R]-s[L-1]æ±‚å‡ºã€‚æ­¤æ—¶Queryä¸ºO(1)ï¼Œä½†Updateä¸ºO(N)</p><p>æ€è·¯ä¸‰ï¼šæ ‘çŠ¶æ•°ç»„ï¼šUpdateå’ŒQueryçš„æ—¶é—´å¤æ‚åº¦è¿›è¡ŒæŠ˜ä¸­åéƒ½ä¸ºO(logN)</p><h1 id="æ ‘çŠ¶æ•°ç»„"><a class="markdownIt-Anchor" href="#æ ‘çŠ¶æ•°ç»„"></a> æ ‘çŠ¶æ•°ç»„</h1><blockquote><p>åˆå«äºŒå‰ç´¢å¼•æ ‘ï¼Œæœ€æ—©æ˜¯ä¸ºäº†è§£å†³æ•°æ®å‹ç¼©é‡Œçš„ç´¯ç§¯é¢‘ç‡é—®é¢˜ï¼Œç°å¤šç”¨æ¥è§£å†³æ•°ç»„åŒºé—´æŸ¥è¯¢é—®é¢˜çš„æ•°æ®ç»“æ„ï¼Œå³é«˜æ•ˆè§£å†³æ•°åˆ—çš„<strong>å‰ç¼€å’Œ</strong>ã€<strong>åŒºé—´å’Œ</strong>é—®é¢˜ã€‚</p></blockquote><h2 id="low-bitç®—æ³•"><a class="markdownIt-Anchor" href="#low-bitç®—æ³•"></a> low bitç®—æ³•</h2><blockquote><p>æ ¸å¿ƒï¼šå°†ä¸€ä¸ªæ•°æ‹†åˆ†æˆè‹¥å¹²ä¸ªäºŒè¿›åˆ¶æ•°ç›¸åŠ ï¼ŒåŸç†ï¼šæ¯ä¸€ä¸ªæ•°éƒ½æœ‰äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå³æ‰€æœ‰æ•°éƒ½å¯ä»¥è¡¨ç¤ºæˆxä¸ªä¸åŒçš„2çš„å¹‚ä¹‹å’Œã€‚</p><p>åšæ³•ï¼šæ‰¾åˆ°äºŒè¿›åˆ¶æœ€åä½ä¸€ä½1è¡¨ç¤ºçš„æ•°ã€‚<br>ä»£ç ï¼šé€šè¿‡è®¡ç®—<code>n&amp;-n</code>æ‰¾åˆ°næœ€å³è¾¹çš„1ã€‚</p></blockquote><p>ä¸¾ä¸ªæ —å­ï¼š<br>Qï¼š 6å¯ä»¥æ€ä¹ˆè®¡ç®—å¾—åˆ°å‘¢ï¼Ÿ<br>Aï¼š 6==0110ï¼Œi=110ï¼Œé€šè¿‡lowbitå¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªæ•°100+010=110</p><p>å› æ­¤æ ‘çŠ¶æ•°ç»„çš„ç»´æŠ¤æ›´æ–°è¿‡ç¨‹å¦‚ä¸‹ï¼šå·²çŸ¥i=6<br>â‘ S+= C[6]<br>â‘¡æ‰¾åˆ°<strong>i</strong>æœ€å³è¾¹çš„1ï¼Œå³å¾—åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><mi>w</mi><mi>b</mi><mi>i</mi><mi>t</mi><mo>=</mo><mo stretchy="false">(</mo><mn>10</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mn>2</mn><msub><mo stretchy="false">)</mo><mn>10</mn></msub></mrow><annotation encoding="application/x-tex">lowbit=(10)_{2}=(2)_{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><br>â‘¢æ›´æ–°i:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>i</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>i</mi><mo>âˆ’</mo><mi>l</mi><mi>o</mi><mi>w</mi><mi>b</mi><mi>i</mi><mi>t</mi><mo>=</mo><mo stretchy="false">(</mo><mn>0110</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>âˆ’</mo><mo stretchy="false">(</mo><mn>0010</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mn>0100</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">i&#x27;= i - lowbit = (0110)_{2}-(0010)_{2}=(0100)_{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>i</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mn>6</mn><mo>âˆ’</mo><mn>2</mn><mo>=</mo><mo stretchy="false">(</mo><mn>4</mn><msub><mo stretchy="false">)</mo><mn>10</mn></msub></mrow><annotation encoding="application/x-tex">i&#x27;=6-2=(4)_{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼›<br>â‘£S+= C[4]<br>â‘¤å†ç»§ç»­æ‰¾<strong>i</strong>æœ€å³è¾¹çš„1ï¼Œå³å¾—åˆ°äº†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>o</mi><mi>w</mi><mi>b</mi><mi>i</mi><mi>t</mi><mo>=</mo><mo stretchy="false">(</mo><mn>100</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mn>4</mn><msub><mo stretchy="false">)</mo><mn>10</mn></msub></mrow><annotation encoding="application/x-tex">lowbit=(100)_{2}=(4)_{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œ<br>â‘¥æ›´æ–°i:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>i</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>i</mi><mo>âˆ’</mo><mi>l</mi><mi>o</mi><mi>w</mi><mi>b</mi><mi>i</mi><mi>t</mi><mo>=</mo><mo stretchy="false">(</mo><mn>0100</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>âˆ’</mo><mo stretchy="false">(</mo><mn>0100</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mn>0000</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">i&#x27;= i - lowbit =(0100)_{2}-(0100)_{2}=(0000)_{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œ<br>â‘¦æ­¤æ—¶iæœ€å³è¾¹æ— 1(å³å…¨é›¶ä¸º0)ï¼Œç®—æ³•ç»“æŸï¼Œå³æœ€ç»ˆC[6]=C[4] + C[2]</p><h2 id="è®¡ç®—æ­¥éª¤"><a class="markdownIt-Anchor" href="#è®¡ç®—æ­¥éª¤"></a> è®¡ç®—æ­¥éª¤ï¼š</h2><ol><li>æ‰¾åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(n)_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æœ€å³è¾¹çš„1çš„æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mn>1</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(n1)_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li><li>æ›´æ–°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mo stretchy="false">(</mo><mi>n</mi><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>âˆ’</mo><mo stretchy="false">(</mo><mi>n</mi><mn>1</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">n&#x27;=(n)_2 - (n1)_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li><li>å¦‚æœ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msup><mi>n</mi><mo mathvariant="normal">â€²</mo></msup><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(n&#x27;)_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>è¿˜èƒ½æ‰¾åˆ°1ï¼Œé‚£ä¹ˆé‡å¤1-2</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">N = <span class="number">1e6</span> + <span class="number">5</span></span><br><span class="line">arr = [<span class="number">0</span>] * N</span><br><span class="line"><span class="comment"># è‡ªåº•å‘ä¸Šå»ºæ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(i, j)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    ä¿®æ”¹ç¬¬iä»“åº“Ciã€‚ä½†æ³¨æ„æ‰§è¡ŒæŸä¸ªä»“åº“çš„updateæ“ä½œï¼Œåé¢æ‰€æœ‰ä»“åº“éƒ½å¾—æ›´æ–°</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= N:</span><br><span class="line">        arr[i] += j </span><br><span class="line">        <span class="comment"># åŠ ä¸Šlow bitä½</span></span><br><span class="line">        i += i&amp;-i</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sub</span><span class="params">(i, j)</span>:</span></span><br><span class="line">    add(i, -j)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(i)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    é€šè¿‡Ciæ±‚å‡º1-iä»“åº“çš„æ€»åº“å­˜</span></span><br><span class="line"><span class="string">    S[6] = C[6] + C[4], æ¨å¯¼å¦‚ä¸‹:</span></span><br><span class="line"><span class="string">    å¦‚æœi=6,é‚£ä¹ˆ</span></span><br><span class="line"><span class="string">    ans += c[6] , i &lt;- i-2 = 6-2 = 4,</span></span><br><span class="line"><span class="string">    ans += c[4] , i &lt;- i-4 = 4-4 = 0</span></span><br><span class="line"><span class="string">    âˆ´ans = c[6] + c[4] = A[6]+A[5]+A[4]+A[3]+A[2]+A[1]</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &gt; <span class="number">0</span>:</span><br><span class="line">        ans += arr[i]</span><br><span class="line">        i -= i&amp;(-i)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def query(i, j);</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">æŸ¥è¯¢æŸä¸ªåŒºé—´çš„æ€»åº“å­˜ï¼Œsum(i, j) = S(R) - S(L-1)</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">return</span> sum(j) - sum(i<span class="number">-1</span>)</span><br></pre></td></tr></table></figure><p>ç¬¦å·è¯´æ˜ï¼š</p><ol><li><p>Aiï¼šç¬¬iä¸ªä»“åº“çš„åº“å­˜æ•°</p></li><li><p>Ciï¼šæ‰€æ„å»ºçš„æ•°çš„ç¬¬iä¸ªèŠ‚ç‚¹çš„å€¼ï¼ŒC[i] = A[i-lowbit(i)+1] + â€¦+A[i]</p></li><li><p>Siï¼šç¬¬1ä¸ªä»“åº“åˆ°ç¬¬iä¸ªä»“åº“åº“å­˜æ•°ä¹‹å’Œ</p></li><li><p>Ansï¼ˆiï¼Œjï¼‰ï¼šæ˜¾ç„¶å°±ç­‰äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mi>R</mi></msub><mo>âˆ’</mo><msub><mi>S</mi><mrow><mi>L</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">S_{R}-S_{L-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">L</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></p></li></ol><h2 id="å½¢å¼"><a class="markdownIt-Anchor" href="#å½¢å¼"></a> å½¢å¼</h2><p>ä¸€.ä»åŸæ•°ç»„A[],ç»´æŠ¤æ ‘çŠ¶æ•°ç»„C[]</p><p>â–²lowbitåˆå«å­å¶æ•°ï¼Œè¡¨ç¤ºäº†æœ‰å¤šå°‘ä¸ªA[]ç›¸åŠ ï¼ŒC[i]è¡¨ç¤ºä»C[i] = A[i-lowbit(i)+1] + â€¦+A[i] (&lt;===&gt;C[i] = A[i-2^x+1] + â€¦ + A[i])ï¼Œ</p><p>For Exampleï¼š i=6</p><p><img src="/2019/12/07/ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘/t2.jpg" alt="t2"></p><p><img src="/2019/12/07/ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘/t.jpg" alt="t"></p><h2 id="å‚è€ƒ"><a class="markdownIt-Anchor" href="#å‚è€ƒ"></a> å‚è€ƒï¼š</h2><p><a href="https://www.bilibili.com/video/av26371798/?spm_id_from=333.788.videocard.1" target="_blank" rel="noopener">æ ‘çŠ¶æ•°ç»„</a>â€”â€”é»‘æ¿è®²è§£,NICE</p><p><a href="https://www.bilibili.com/video/av54027849/?spm_id_from=333.788.videocard.9" target="_blank" rel="noopener">æ ‘çŠ¶æ•°ç»„ç®—æ³•</a>â€”â€”åˆæ­¥äº†è§£ï¼Œæœ‰äº›ç‚¹è®²çš„å¹¶ä¸é‚£ä¹ˆçº¤ç»†</p><p><img src="/2019/12/07/ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘/t3.jpg" alt="t3"></p><p>æ´›è°·:<a href="https://www.luogu.com.cn/problem/P3374" target="_blank" rel="noopener"> P3374 ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„ 1</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 500000 + 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> c[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index = i;</span><br><span class="line">    <span class="keyword">while</span> (index&lt;=N)&#123;</span><br><span class="line">        c[index] += k;</span><br><span class="line">        index += index&amp;(-index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index = n;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (index)&#123;</span><br><span class="line">        ans += c[index];</span><br><span class="line">        index -= index&amp;(-index);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sum(r) - sum(l<span class="number">-1</span>);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; val;</span><br><span class="line">        add(i, val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> op;</span><br><span class="line">        <span class="keyword">int</span> x, k;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; op &gt;&gt; x &gt;&gt; k;</span><br><span class="line">        <span class="keyword">if</span> (op==<span class="number">1</span>) add(x, k);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; query(x, k) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="çº¿æ®µæ ‘"><a class="markdownIt-Anchor" href="#çº¿æ®µæ ‘"></a> çº¿æ®µæ ‘</h1><p>åœ¨æ±‚è§£å‰ç¼€å’Œã€åŒºé—´å’Œé—®é¢˜ä¸Šï¼Œä¸¤è€…æ˜¯æ²¡æœ‰å·®åˆ«çš„ï¼Œå¹¶ä¸”æ ‘çŠ¶æ•°ç»„çš„ç©ºé—´å¤æ‚åº¦æ›´ä½ã€‚ä½†æ˜¯çº¿æ®µæ ‘è¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ±‚å–åŒºé—´æœ€å¤§å€¼ã€‚</p><blockquote><p>å®Œæ»¡äºŒå‰æ ‘(Full Binary Tree)<br>æ ¹æ®å…ƒç´ çš„ä¸‹æ ‡è¿›è¡Œåˆ’åˆ†<br>ä¸€ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªåŒºé—´çš„ä¿¡æ¯</p></blockquote><h2 id="ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#ç‰¹ç‚¹"></a> ç‰¹ç‚¹ï¼š</h2><ul><li>æ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªé—­åŒºé—´<a href="1%3C=r">1,r</a>çš„ä¿¡æ¯ã€‚</li><li>æ ¹èŠ‚ç‚¹è¡¨ç¤º[1,n]çš„ä¿¡æ¯ã€‚å¦‚æœ1=ré‚£å°±æ˜¯å¶å­ç»“ç‚¹.</li><li>å¦‚æœ1&lt;ré‚£å°±æ˜¯å†…éƒ¨èŠ‚ç‚¹,å®ƒæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹[1,(1+r)/2]ï¼Œ[(1+r)/2+1,r].</li></ul><h2 id="ä»£ç å®ç°"><a class="markdownIt-Anchor" href="#ä»£ç å®ç°"></a> ä»£ç å®ç°</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç”¨1è¡¨ç¤ºæ ¹èŠ‚ç‚¹ã€‚</span></span><br><span class="line"><span class="comment">ä¸‹æ ‡ä¸ºxçš„ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸‹æ ‡ä¸º2xï¼Œå³å­èŠ‚ç‚¹2x+1ã€‚</span></span><br><span class="line"><span class="comment">ç”¨sum[x]è¡¨ç¤ºxä»£è¡¨çš„åŒºé—´é‡Œæ‰€æœ‰æ•°çš„å’Œã€‚</span></span><br><span class="line"><span class="comment">å¯¹äºå¶å­ç»“ç‚¹xï¼Œå®ƒä»£è¡¨[1ï¼Œr]ï¼ˆ1=rï¼‰ï¼Œsum[x]=a[1]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°æŸä¸ªèŠ‚ç‚¹Xçš„å€¼</span></span><br><span class="line">sum[x]= sum[x*<span class="number">2</span>] + sum[x*<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„å»º, è‡ªé¡¶å‘ä¸‹</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å¯¹äºå­˜å‚¨åœ¨iå·ä½ç½®çš„èŠ‚ç‚¹ï¼Œå®ƒçš„å·¦å­©å­å­˜åœ¨2iå·ä½ç½®ï¼Œå³å­©å­2i+1å·ä½ç½®ã€‚</span></span><br><span class="line"><span class="comment">åŒæ—¶æˆ‘ä»¬ä¹Ÿä¸éœ€è¦è®°å½•æ¯ä¸ªä½ç½®å¯¹åº”çš„åŒºé—´ï¼Œåªè¦åœ¨é€’å½’çš„æ‰¾è¿™ä¸ªç‚¹çš„æ—¶å€™è¾¹æ‰¾è¾¹ä¿®æ”¹å³å¯ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> <span class="number">1</span>,<span class="keyword">int</span> r,<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;<span class="comment">//å¶å­ç»“ç‚¹</span></span><br><span class="line">        sum[x]=a[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(<span class="number">1</span>+r)&gt;ã€‰<span class="number">1</span>;</span><br><span class="line">    build(<span class="number">1</span>,mid,x*<span class="number">2</span>);</span><br><span class="line">    build(mid+<span class="number">1</span>,r,x*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">    update(x);<span class="comment">//æ›´æ–°ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å‡è®¾è¯¢é—®åŒºé—´æ˜¯[A,B],ç°åœ¨æ‰€åœ¨çš„èŠ‚ç‚¹è¡¨ç¤ºçš„åŒºé—´ä¸º[1,r]- è®¡ç®—mid=(1+r)/2,å·¦å­èŠ‚ç‚¹çš„åŒºé—´ä¸º[1,mid],å³å­èŠ‚ç‚¹çš„åŒºé—´ä¸º[mid+1,r].</span></span><br><span class="line"><span class="comment">å¦‚æœA&lt;=mid,å³è¯¢é—®åŒºé—´ä¸å·¦å­èŠ‚ç‚¹æœ‰é‡åˆ,éœ€è¦é€’å½’åˆ°å·¦å­èŠ‚ç‚¹ã€‚</span></span><br><span class="line"><span class="comment">å¦‚æœB&gt;=mid+1,å³è¯¢é—®åŒºé—´ä¸å³å­èŠ‚ç‚¹æœ‰é‡åˆ,éœ€è¦é€’å½’åˆ°å³å­èŠ‚ç‚¹ã€‚</span></span><br><span class="line"><span class="comment">é€’å½’å®Œä¹‹å,éœ€è¦æŠŠä¸¤ä¸ªå­©å­è¯¢é—®çš„ç»“æœåŠ èµ·æ¥ä½œä¸ºè¿”å›å€¼ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> A,<span class="keyword">int</span> B,<span class="keyword">int</span> <span class="number">1</span>,<span class="keyword">int</span> r,<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(A&lt;=<span class="number">1</span>&amp;&amp;r&lt;=B)</span><br><span class="line">    <span class="keyword">return</span> sum[x];</span><br><span class="line">    <span class="keyword">int</span> mid=(<span class="number">1</span>+r)&gt;&gt;<span class="number">1</span>,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(A&lt;=mid)</span><br><span class="line">    ans+=query(A,B,<span class="number">1</span>,mid,x*<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span>(mid&lt;B)</span><br><span class="line">    ans+=query(A,B,mid+<span class="number">1</span>,r,x*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¿®æ”¹</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç”±äºä¿®æ”¹æ˜¯å¯¹å•ä¸ªå…ƒç´ è¿›è¡Œä¿®æ”¹ã€‚</span></span><br><span class="line"><span class="comment">æ¯”å¦‚ä¿®æ”¹ç¬¬iä¸ªå…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment">æˆ‘ä»¬å…ˆæ‰¾åˆ°[iï¼Œi]æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œç„¶åä¿®æ”¹å®ƒçš„sumï¼Œç„¶åä¸€è·¯å‘ä¸Šæ›´æ–°æ¯ä¸ªç¥–å…ˆçš„sumå³å¯ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> v,<span class="keyword">int</span> <span class="number">1</span>,<span class="keyword">int</span> r,<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( l==r)&#123; <span class="comment">//æ‰¾åˆ°äº†è¦ä¿®æ”¹çš„å¶å­ç»“ç‚¹</span></span><br><span class="line">            sum[x]=v;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=(<span class="number">1</span>+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(pos&lt;=mid)<span class="comment">//posåœ¨å·¦å­èŠ‚ç‚¹</span></span><br><span class="line">        change(pos,v,<span class="number">1</span>,mid,x*<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        change(pos,v,mid+<span class="number">1</span>,r,x*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">        update(x);<span class="comment">//ä¸€å®šè¦åŠ ï¼å› ä¸ºè¿™æ¡è·¯ä¸Šçš„sumå€¼å‘ç”Ÿäº†æ”¹å˜</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€§è´¨"><a class="markdownIt-Anchor" href="#æ€§è´¨"></a> æ€§è´¨</h2><ul><li>èŠ‚ç‚¹æ•°ï¼šå‡è®¾çº¿æ®µæ ‘å¤„ç†çš„æ•°åˆ—é•¿åº¦ä¸ºnï¼Œå³æ ¹èŠ‚ç‚¹çš„åŒºé—´ä¸º[1ï¼Œn].é‚£ä¹ˆç»“ç‚¹æ•°ä¸è¶…è¿‡2nä¸ª.å› æ­¤çº¿æ®µæ ‘çš„ç©ºé—´å¤æ‚åº¦æ˜¯0ï¼ˆnï¼‰ã€‚æ˜¯å®Œæ»¡äºŒå‰æ ‘(Full Binary Tree)ï¼Œä½†ä¸€èˆ¬ç”³è¯·4*nçš„ç©ºé—´å¤§å°</li><li>æ·±åº¦ï¼šå¯ä»¥çœ‹ä½œæ»¡äºŒå‰æ ‘ï¼Œæ·±åº¦ä¸è¶…è¿‡log2(n-1)+1</li><li>çº¿æ®µæ ‘èƒ½æŠŠåŒºé—´ä¸Šçš„ä»»æ„ä¸€æ¡é•¿åº¦ä¸ºLçš„çº¿æ®µéƒ½åˆ†æˆä¸è¶…è¿‡2*log(L)æ¡çº¿æ®µã€‚</li></ul><p>æ³¨æ„ï¼š</p><ul><li>ç”±äºé“¾è¡¨è¡¨ç¤ºçš„å†…å­˜æ˜¯ä¸è¿ç»­çš„ï¼Œä¸”ç”³è¯·æŒ‡é’ˆæ¯”è¾ƒè´¹æ—¶é—´ï¼Œæ‰€ä»¥é‡‡ç”¨æ•°ç»„çŸ©é˜µçš„å½¢å¼å­˜å‚¨ã€‚</li><li>æ•°ç»„å­˜å‚¨ä¹Ÿæœ‰ä¸€ç‚¹ä¸å¥½ï¼Œå› ä¸ºçº¿æ®µæ ‘å¹¶ä¸æ˜¯çœŸæ­£çš„å®Œå…¨äºŒå‰æ ‘ã€‚<br>æœ€åä¸€å±‚å¯èƒ½å¾ˆç©ºã€‚ä¸”ç©ºèŠ‚ç‚¹çš„æ•°é‡å¯ä»¥è¾¾åˆ°2nä¸ªã€‚<br>å› æ­¤ç»´æŠ¤é•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œç”¨æ•°ç»„å­˜çº¿æ®µæ ‘çš„è¯ï¼Œæœ€å¥½è¦å¼€åˆ°4*nçš„é•¿åº¦ï¼Œæ‰èƒ½ä¿è¯æ•°ç»„ä¸è¶Šç•Œã€‚</li></ul><h2 id="å½¢å¼-2"><a class="markdownIt-Anchor" href="#å½¢å¼-2"></a> å½¢å¼</h2><p><img src="/2019/12/07/ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘/%E7%BA%BF%E6%AE%B5%E6%A0%91.jpg" alt="çº¿æ®µæ ‘"></p><p>ä¾‹é¢˜ï¼š</p><p>Qï¼šå¯¹äºç¬¬iä¸ªæ•°ï¼Œæˆ‘ä»¬è¦ç»Ÿè®¡å‰é¢æœ‰å¤šå°‘ä¸ªæ•°å¤§äºa[i]ã€‚<br>å¯¹æ¯ä¸ªæ•°éƒ½ç»Ÿè®¡ä¸€éåŠ èµ·æ¥å³æ˜¯ç­”æ¡ˆã€‚<br>å‡è®¾æˆ‘ä»¬å¯ä»¥å¯¹[0ï¼Œ109]å»ºä¸€ä¸ªçº¿æ®µæ ‘ï¼ˆå®é™…ä¸Šå¤ªå¤§äº†ï¼‰æ¯æ¬¡å…ˆæŸ¥è¯¢[a[i]+1ï¼Œ109]çš„åŒºé—´å’Œï¼ŒåŠ å…¥ç­”æ¡ˆã€‚</p><p>e.g.å¦‚æœä¸€ä¸ªå€¼ä¸º1ï¼Œä¸€ä¸ªå€¼ä¸º10<sup>8ï¼Œé‚£ä¹ˆè¦å¼€10</sup>8å¤§å°</p><p>Solve: 10^9èŒƒå›´å¤ªå¤§äº†ï¼Œå› æ­¤æˆ‘ä»¬å…ˆè¦å¯¹nä¸ªæ•°è¿›è¡Œ<strong>ç¦»æ•£åŒ–</strong>ã€‚ç¦»æ•£åŒ–çš„è¿‡ç¨‹ï¼Œå°±æ˜¯å¯¹nä¸ªæ•°è¿›è¡Œæ’åºï¼Œ<strong>æœ€å°çš„æ•°èµ‹å€¼ä¸º1</strong>ï¼Œ<strong>ç¬¬äºŒå°çš„èµ‹å€¼ä¸º2</strong>ï¼Œä»¥æ­¤ç±»æ¨ï¼Œè¿™æ ·nä¸ªæ•°çš„å–å€¼èŒƒå›´å°±åœ¨[1ï¼Œn]ä¸­äº†ã€‚</p><p>e.g.ä¸Šé¢çš„æƒ…å†µï¼Œå°†ä¼šæŠŠ1â€“&gt;1,10^8â€“&gt;2,é‚£ä¹ˆåªè¦å¼€é•¿åº¦ä¸º2çš„çº¿æ®µæ ‘å°±å¤Ÿäº†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¦»æ•£åŒ–ä»£ç ï¼Œå‡è®¾å¯¹a[1,2...,n]è¿›è¡Œç¦»æ•£åŒ–</span></span><br><span class="line"><span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i ++)</span><br><span class="line">    <span class="comment">// å¦å¤–çš„æ•°ç»„å­˜å‚¨</span></span><br><span class="line">bin[++cnt]=a[i];</span><br><span class="line">sort(bin+<span class="number">1</span>,bin+n+<span class="number">1</span>);</span><br><span class="line"><span class="comment">// æ¶ˆé‡</span></span><br><span class="line">cnt=unique(bin+<span class="number">1</span>,bin+cnt+<span class="number">1</span>)-bin<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(inti=<span class="number">1</span>;i&lt;=n;i ++)</span><br><span class="line">a[i]=lower_bound(bin+<span class="number">1</span>,bin+cnt+<span class="number">1</span>,a[i])-bin;</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><p><a href="https://www.bilibili.com/video/av37087480?p=2" target="_blank" rel="noopener">é«˜ä¸­ä¿¡æ¯å­¦ç«èµ›çº¿æ®µæ ‘ä¸æ ‘çŠ¶æ•°ç»„</a>â€”â€”ä¸‡é—¨æ•™è‚²</p><p><a href="https://www.bilibili.com/video/av9350697?from=search&amp;seid=15345495634828896152" target="_blank" rel="noopener">SWPU-ACMæ¯å‘¨ç®—æ³•è®²å ‚-çº¿æ®µæ ‘å…¥é—¨ï¼ˆä¸€ï¼‰</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;é«˜æ€§èƒ½é—®é¢˜ï¼š&lt;/strong&gt;&lt;br&gt;
Qï¼šéœ€æ±‚ï¼šï¼ˆè€æ¿ç»™ä½ åˆ†äº†å°2GHzå•æ ¸ï¼Œå†…å­˜500Mçš„æœåŠ¡å™¨ç„¶åè®©ä½ å†™ç¨‹åºï¼‰ç¨‹åºæ¯ç§’ä¼šæ”¶åˆ°ä¸€ç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®åŒ…å«10ä¸‡æ¡å‘½ä»¤ï¼Œæ€»å…±ä¼šæœ‰100ä¸‡ä¸ªä»“åº“ï¼Œæ¯ä¸ªä»“åº“åº“å­˜æ²¡æœ‰ä¸Šé™ä¸”å¯ä¸ºè´Ÿï¼Œåº“å­˜åˆå§‹ä¸º0ã€‚&lt;strong&gt;ä½ éœ€è¦åœ¨
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>KM(Kuhn-Munkres)ç®—æ³•</title>
    <link href="https://nymrli.top/2019/12/05/KM-Kuhn-Munkres-%E7%AE%97%E6%B3%95/"/>
    <id>https://nymrli.top/2019/12/05/KM-Kuhn-Munkres-ç®—æ³•/</id>
    <published>2019-12-05T13:52:58.000Z</published>
    <updated>2019-12-10T14:15:29.634Z</updated>
    
    <content type="html"><![CDATA[<h1 id="kmkuhn-munkresç®—æ³•"><a class="markdownIt-Anchor" href="#kmkuhn-munkresç®—æ³•"></a> KM(Kuhn-Munkres)ç®—æ³•</h1><blockquote><p>å¸¦æƒäºŒåˆ†å›¾æœ€ä½³å®Œç¾åŒ¹é…ï¼ŒO(n^3)ï¼Œï¼ˆè¿ç”¨åŒˆç‰™åˆ©ç®—æ³•è¾…åŠ©æ±‚è§£ï¼‰ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å®Œå¤‡åŒ¹é…</p></blockquote><ol><li>åªé€‚ç”¨äºå¸¦æƒæœ€å¤§åŒ¹é…ä¸€å®šæ˜¯å®Œå¤‡åŒ¹é…çš„æƒ…å†µï¼Œå®è·µä¸­å»ºè®®ç”¨è´¹ç”¨æµæ¥è§£å†³ã€‚</li><li>å®Œå…¨äºŒåˆ†å›¾ä¸€å®šæ˜¯å¶æ•°ä¸ªç‚¹</li><li><strong>å¯è¡Œé¡¶æ ‡</strong>ï¼ˆFeasible Labelingï¼‰ï¼šç»“ç‚¹å‡½æ•°ï¼ˆxï¼‰ï¼Œä»»æ„è¾¹ï¼ˆxï¼Œyï¼‰ï¼š1ï¼ˆxï¼‰+lï¼ˆyï¼‰â‰¥wï¼ˆxiyï¼‰ã€‚</li><li><strong>ç›¸ç­‰å­å›¾</strong>ï¼šGçš„ç”Ÿæˆå­å›¾ï¼ŒåŒ…å«æ‰€æœ‰ç‚¹ä»¥åŠæ»¡è¶³lï¼ˆxï¼‰+Iï¼ˆyï¼‰=wï¼ˆxï¼Œyï¼‰çš„è¾¹ï¼ˆxï¼Œyï¼‰</li><li>å¦‚æœELæœ‰å®Œç¾åŒ¹é…ä¸ºPMï¼Œåˆ™è¯¥Mæ˜¯åŸå›¾çš„æœ€å¤§æƒåŒ¹é…ï¼š<ul><li>PMçš„æƒå’Œç­‰äºæ‰€æœ‰ç‚¹çš„é¡¶æ ‡ä¹‹å’ŒSVã€‚</li><li>Gçš„ä»»ä¸€ä¸ªæœ€å¤§æƒåŒ¹é…Mï¼Œè¾¹æ»¡è¶³wï¼ˆxyï¼‰â‰¤lï¼ˆxï¼‰+ï¼ˆyï¼‰â†’Mè¾¹æƒå’Œâ‰¤SV=PMè¾¹æƒå’Œ</li><li>å…³é”®å°±æ˜¯å¯»æ‰¾å¥½çš„å¯è¡Œé¡¶æ ‡ï¼Œä½¿ç›¸ç­‰å­å›¾æœ‰å®Œç¾åŒ¹é…ã€‚</li></ul></li></ol><p>==&gt;æ‰¾åˆ°åŸå›¾çš„å®Œç¾åŒ¹é…â€“åªè¦â€“&gt;æ‰¾åˆ°ç›¸ç­‰å­å›¾çš„å®Œç¾åŒ¹é…å³å¯</p><p>â–²KMå®Œæˆä¹‹åæ‰€æœ‰çš„l(x)ä¹‹å’Œæœ€å°</p><h2 id="æ‰§è¡Œè¿‡ç¨‹"><a class="markdownIt-Anchor" href="#æ‰§è¡Œè¿‡ç¨‹"></a> æ‰§è¡Œè¿‡ç¨‹</h2><p>ä¸€èˆ¬å¯¹KMç®—æ³•çš„æè¿°ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ¦‚æ‹¬æˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š<br><strong>1.ç”¨é‚»æ¥çŸ©é˜µï¼ˆæˆ–å…¶ä»–æ–¹æ³•ä¹Ÿè¡Œå•¦ï¼‰æ¥å‚¨å­˜å›¾ã€‚</strong><br><strong>2.è¿ç”¨è´ªå¿ƒç®—æ³•åˆå§‹åŒ–æ ‡æ†ã€‚</strong><br><strong>3.è¿ç”¨åŒˆç‰™åˆ©ç®—æ³•æ‰¾åˆ°å®Œå¤‡åŒ¹é…ã€‚</strong><br><strong>4.å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™é€šè¿‡ä¿®æ”¹æ ‡æ†ï¼Œå¢åŠ ä¸€äº›è¾¹ã€‚</strong><br><strong>5.é‡å¤3ï¼Œ4çš„æ­¥éª¤ï¼Œç›´åˆ°å®Œå…¨åŒ¹é…æ—¶å¯ç»“æŸã€‚</strong></p><p>äºŒåˆ†å›¾åŒ¹é…é‡Œé¢æˆ‘ä»¬æ‰¾æœ€å¤§è¾¹è¿›è¡Œè¿è¾¹!ä½†æ˜¯é‡åˆ°æŸä¸ªç‚¹è¢«åŒ¹é…äº†ä¸¤æ¬¡æ€ä¹ˆåŠï¼Ÿ<br>é‚£å°±ç”¨åŒˆç‰™åˆ©ç®—æ³•è¿›è¡Œ<strong>æ›´æ”¹åŒ¹é…</strong>ï¼</p><p>è¿™å°±æ˜¯KMç®—æ³•çš„æ€è·¯äº†ï¼š<strong>å°½é‡æ‰¾æœ€å¤§çš„è¾¹è¿›è¡Œè¿è¾¹ï¼Œå¦‚æœä¸èƒ½åˆ™æ¢ä¸€æ¡è¾ƒå¤§çš„</strong>ã€‚</p><h2 id="æ‰¾å¯¹è±¡ä¾‹å­ç†è§£é‡ç‚¹"><a class="markdownIt-Anchor" href="#æ‰¾å¯¹è±¡ä¾‹å­ç†è§£é‡ç‚¹"></a> æ‰¾å¯¹è±¡ä¾‹å­ç†è§£é‡ç‚¹ï¼š</h2><ol><li>å¥³ç”Ÿçš„æ¯è½®é€‰æ‹©éƒ½æ˜¯ä»ç¬¬ä¸€ä¸ªç”·ç”Ÿå¼€å§‹å¾€åé€‰æ‹©ä¸€ä¸ªç”·ç”Ÿï¼Œä½¿ç”·å¥³ä¸¤äººçš„<strong>æœŸæœ›å’Œè¦ç­‰äºä¸¤äººä¹‹é—´çš„å¥½æ„Ÿåº¦</strong>ã€‚</li><li>æ³¨æ„ï¼šæ¯ä¸€è½®åŒ¹é…ï¼Œ<strong>æ¯ä¸ªç”·ç”Ÿåªä¼šè¢«å°è¯•åŒ¹é…ä¸€æ¬¡ï¼</strong></li><li>å¦‚æœæ‰¾å¯¹è±¡å¤±è´¥ï¼Œé‚£ä¹ˆæ­¤æ—¶å‚ä¸åŒ¹é…è¿‡çš„å¥³ç”ŸæœŸæœ›å€¼éƒ½é™ä½dï¼Œæœ¬è½®è¢«é€‰æ‹©çš„ç”·ç”ŸæœŸæœ›å€¼éƒ½å¢åŠ dï¼šdä¸º<u>ä»»æ„ä¸€ä¸ª</u><strong>è¿™è½®å‚ä¸è¿‡åŒ¹é…çš„å¥³ç”Ÿ</strong>èƒ½<em><strong>æ¢åˆ°***<u>ä»»æ„ä¸€ä¸ª</u><strong>è¿™è½®æ²¡æœ‰è¢«é€‰æ‹©è¿‡çš„ç”·ç”Ÿ</strong>æ‰€éœ€è¦</strong>é™ä½çš„æœ€å°å€¼</em>*ï¼ˆéå†å·¦è¾¹å·²é…å¯¹çš„Xï¼Œæ ‡æ†å€¼Lxï¼Œä¸å³è¾¹<strong>è¿™ä¸€è½®</strong>æ²¡è¢«é€‰æ‹©è¿‡çš„ç”·ç”ŸYï¼Œæ ‡æ†å€¼Lyï¼ŒæŒ‘å‡ºéœ€è¦é™ä½çš„æœ€å°å€¼ï¼Œå³ d=min(Lx+Ly-W, d) ï¼‰</li></ol><h2 id="å¤æ‚åº¦"><a class="markdownIt-Anchor" href="#å¤æ‚åº¦"></a> å¤æ‚åº¦</h2><p>æœ´ç´ çš„å®ç°æ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n4)â€”â€”éœ€è¦æ‰¾O(n)æ¬¡å¢å¹¿è·¯ï¼Œæ¯æ¬¡å¢å¹¿æœ€å¤šéœ€è¦ä¿®æ”¹O(n)æ¬¡é¡¶æ ‡ï¼Œæ¯æ¬¡ä¿®æ”¹é¡¶æ ‡æ—¶ç”±äºè¦æšä¸¾è¾¹æ¥æ±‚då€¼ï¼Œå¤æ‚åº¦ä¸ºO(n2)ã€‚</p><p>å®é™…ä¸ŠKMç®—æ³•çš„å¤æ‚åº¦æ˜¯å¯ä»¥åšåˆ°O(n3) çš„ã€‚æˆ‘ä»¬ç»™æ¯ä¸ªYé¡¶ç‚¹ä¸€ä¸ªâ€œæ¾å¼›é‡â€å‡½æ•°slackï¼Œæ¯æ¬¡å¼€å§‹æ‰¾å¢å¹¿è·¯æ—¶åˆå§‹åŒ–ä¸ºæ— ç©·å¤§ã€‚åœ¨å¯»æ‰¾å¢å¹¿è·¯çš„è¿‡ç¨‹ä¸­ï¼Œæ£€æŸ¥è¾¹(i,j)æ—¶ï¼Œå¦‚æœå®ƒä¸åœ¨ç›¸ç­‰å­å›¾ä¸­ï¼Œåˆ™è®©slack[j]å˜æˆåŸå€¼ä¸A[i]+B[j]-w[i,j]çš„è¾ƒå°å€¼ã€‚è¿™æ ·ï¼Œåœ¨ä¿®æ”¹é¡¶æ ‡æ—¶ï¼Œå–æ‰€æœ‰ä¸åœ¨äº¤é”™æ ‘ä¸­çš„Yé¡¶ç‚¹çš„slackå€¼ä¸­çš„æœ€å°å€¼ä½œä¸ºdå€¼å³å¯ã€‚ä½†è¿˜è¦æ³¨æ„ä¸€ç‚¹ï¼šä¿®æ”¹é¡¶æ ‡åï¼Œè¦æŠŠæ‰€æœ‰çš„slackå€¼éƒ½å‡å»dã€‚ï¼ˆå³ç”¨åœ¨æ‰§è¡ŒåŒˆç‰™åˆ©ç®—æ³•çš„æ—¶å€™ï¼Œè¿›è¡Œå¯¹slackçš„æ›´æ–°ï¼Œä»è€Œå‡å°‘ä¸€å±‚æ‰¾åˆ°æœ€å°dçš„å¾ªç¯ï¼‰</p><h2 id="ä¸¾ä¸ªæ —å­"><a class="markdownIt-Anchor" href="#ä¸¾ä¸ªæ —å­"></a> ä¸¾ä¸ªæ —å­:</h2><h3 id="å°‘æ—å†³èƒœgolden-tiger-clawuva11383"><a class="markdownIt-Anchor" href="#å°‘æ—å†³èƒœgolden-tiger-clawuva11383"></a> <strong>å°‘æ—å†³èƒœ(Golden Tiger Clawï¼ŒUVa11383)</strong></h3><p>ç»™å®šä¸€ä¸ªN*NçŸ©é˜µï¼Œæ¯ä¸ªæ ¼å­é‡Œéƒ½æœ‰ä¸€ä¸ªæ­£æ•´æ•°w(i,j)ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç»™æ¯è¡Œç¡®å®šä¸€ä¸ªæ•´æ•°row(i)ï¼Œæ¯åˆ—ä¹Ÿç¡®å®šä¸€ä¸ªæ•´æ•°col(i)ï¼Œä½¿å¾—å¯¹äºä»»æ„æ ¼å­(i, j)ï¼Œw(i, j)â‰¤row(i)+colj)ã€‚æ‰€æœ‰row(i)å’Œcol(i)ä¹‹å’Œåº”å°½é‡å°ã€‚</p><p>ã€åˆ†æã€‘<br>1.è¡Œçœ‹ä½œäºŒåˆ†å›¾Xç‚¹ï¼Œåˆ—çœ‹ä½œäºŒåˆ†å›¾Yç‚¹ã€‚<br>2.å’Œæœ€ä½³åŒ¹é…æ²¡æœ‰ä»»ä½•å…³ç³»ï¼ŒKMç®—æ³•å‰¯äº§å“ã€‚<br>3.KMä¸­ç®—æ³•ç­‰å¼lï¼ˆxï¼‰+lï¼ˆyï¼‰â‰¥wï¼ˆxï¼Œyï¼‰ã€‚è¡ŒXï¼Œåˆ—Yã€‚<br>4.KMè¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰é¡¶æ ‡ä¸æ–­å‡å°ï¼Œç®—æ³•ç»“æŸåï¼Œæ‰€æœ‰é¡¶æ ‡ä¹‹å’Œæ˜¯æœ€å°çš„ã€‚</p><h3 id="èš‚èšantsneerc2008la4043"><a class="markdownIt-Anchor" href="#èš‚èšantsneerc2008la4043"></a> <strong>èš‚èšï¼ˆAntsï¼ŒNEERC2008ï¼ŒLA4043ï¼‰</strong></h3><p>ç»™å‡ºnä¸ªç™½ç‚¹å’Œnä¸ªé»‘ç‚¹çš„åæ ‡ï¼Œè¦æ±‚ç”¨næ¡ä¸ç›¸äº¤çš„çº¿æ®µæŠŠå®ƒä»¬è¿æ¥èµ·æ¥ï¼Œå…¶ä¸­æ¯æ¡çº¿æ®µæ°å¥½è¿æ¥ä¸€ä¸ªç™½ç‚¹å’Œä¸€ä¸ªé»‘ç‚¹ï¼Œæ¯ä¸ªç‚¹æ°å¥½è¿æ¥åˆ°ä¸€æ¡çº¿æ®µï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p>ã€åˆ†æã€‘</p><ol><li>ç‚¹æœ‰é»‘ç™½ä¸¤è‰²ï¼Œæ„é€ äºŒåˆ†å›¾ï¼Œç™½Xé»‘Yã€‚æ¯ä¸ªé»‘ç‚¹å’Œæ¯ä¸ªç™½ç‚¹ç›¸è¿ï¼Œæƒå€¼ç­‰äºæ¬§æ°è·ç¦»ã€‚</li><li>è¿æ¥æ–¹æ¡ˆå®é™…ä¸Šæ˜¯è®¡ç®—ä¸€ä¸ªå®Œç¾åŒ¹é…ï¼ŒåŒ¹é…ä¸­å‡è®¾al-b1ä¸a2-b2ç›¸äº¤ï¼Œé‚£ä¹ˆ<code>dist(a1ï¼Œb1)+dist(a2ï¼Œb2)&gt;dist(alï¼Œb2)+dist(a2ï¼Œb1)</code>ï¼Œè¿™ä¸¤æ¡çº¿æ®µæ”¹æˆal-b2å’Œa2-b1åæ€»é•¿åº¦ä¼šå˜å°‘ã€‚</li><li>æ‰€ä»¥æœ€å°åŒ¹é…ä¸­ä¸ä¼šå‡ºç°çº¿æ®µç›¸äº¤ã€‚</li><li>å¥—KMç®—æ³•å³å¯è®¡ç®—æœ€å°å®Œç¾åŒ¹é…å³å¯ã€‚</li></ol><h2 id="é™„å½•"><a class="markdownIt-Anchor" href="#é™„å½•"></a> é™„å½•</h2><h3 id="on3ä»£ç "><a class="markdownIt-Anchor" href="#on3ä»£ç "></a> O(n^3)ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">305</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Xä¸ºå¥³ç”ŸèŠ‚ç‚¹ï¼Œ Yä¸ºç”·ç”ŸèŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">int</span> love[MAXN][MAXN];   <span class="comment">// è®°å½•æ¯ä¸ªå¦¹å­å’Œæ¯ä¸ªç”·ç”Ÿçš„å¥½æ„Ÿåº¦</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ex_girl[MAXN];      <span class="comment">// æ¯ä¸ªå¦¹å­çš„æœŸæœ›å€¼</span></span><br><span class="line"><span class="keyword">int</span> ex_boy[MAXN];       <span class="comment">// æ¯ä¸ªç”·ç”Ÿçš„æœŸæœ›å€¼</span></span><br><span class="line"><span class="keyword">bool</span> vis_girl[MAXN];    <span class="comment">// è®°å½•æ¯ä¸€è½®åŒ¹é…åŒ¹é…è¿‡çš„å¥³ç”Ÿ</span></span><br><span class="line"><span class="keyword">bool</span> vis_boy[MAXN];     <span class="comment">// è®°å½•æ¯ä¸€è½®åŒ¹é…åŒ¹é…è¿‡çš„ç”·ç”Ÿ</span></span><br><span class="line"><span class="keyword">int</span> match[MAXN];        <span class="comment">// è®°å½•æ¯ä¸ªç”·ç”ŸåŒ¹é…åˆ°çš„å¦¹å­ å¦‚æœæ²¡æœ‰åˆ™ä¸º-1</span></span><br><span class="line"><span class="keyword">int</span> slack[MAXN];        <span class="comment">// è®°å½•æ¯ä¸ªæ±‰å­å¦‚æœèƒ½è¢«å¦¹å­å€¾å¿ƒæœ€å°‘è¿˜éœ€è¦å¤šå°‘æœŸæœ›å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> girl)</span></span>&#123;</span><br><span class="line">    vis_girl[girl] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> boy = <span class="number">0</span>; boy &lt; N; ++boy) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (vis_boy[boy]) <span class="keyword">continue</span>; <span class="comment">// æ¯ä¸€è½®åŒ¹é… æ¯ä¸ªç”·ç”Ÿåªå°è¯•ä¸€æ¬¡</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> gap = ex_girl[girl] + ex_boy[boy] - love[girl][boy];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (gap == <span class="number">0</span>) &#123;  <span class="comment">// å¦‚æœç¬¦åˆè¦æ±‚</span></span><br><span class="line">            vis_boy[boy] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (match[boy] == <span class="number">-1</span> || dfs( match[boy] )) &#123;    <span class="comment">// æ‰¾åˆ°ä¸€ä¸ªæ²¡æœ‰åŒ¹é…çš„ç”·ç”Ÿ æˆ–è€…è¯¥ç”·ç”Ÿçš„å¦¹å­å¯ä»¥æ‰¾åˆ°å…¶ä»–äºº</span></span><br><span class="line">                match[boy] = girl;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            slack[boy] = min(slack[boy], gap);  <span class="comment">// slack å¯ä»¥ç†è§£ä¸ºè¯¥ç”·ç”Ÿè¦å¾—åˆ°å¥³ç”Ÿçš„å€¾å¿ƒ è¿˜éœ€å¤šå°‘æœŸæœ›å€¼ å–æœ€å°å€¼ å¤‡èƒçš„æ ·å­ã€æ‚è„¸</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">KM</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// â–²åˆå§‹åŒ–æœ‰å…³è¢«é€‰æ‹©çš„ç”·ç”Ÿçš„é‡1-2 [é€‰æ‹©ä»–çš„å¥³ç”Ÿã€ç”·ç”Ÿæ–¹æ ‡æ†]</span></span><br><span class="line">    <span class="built_in">memset</span>(match, <span class="number">-1</span>, <span class="keyword">sizeof</span> match);    <span class="comment">// åˆå§‹æ¯ä¸ªç”·ç”Ÿéƒ½æ²¡æœ‰åŒ¹é…çš„å¥³ç”Ÿ</span></span><br><span class="line">    <span class="built_in">memset</span>(ex_boy, <span class="number">0</span>, <span class="keyword">sizeof</span> ex_boy);   <span class="comment">// åˆå§‹æ¯ä¸ªç”·ç”Ÿçš„æœŸæœ›å€¼ä¸º0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// â–²åˆå§‹åŒ–3 [å¥³ç”Ÿæ–¹çš„æ ‡æ†]</span></span><br><span class="line">    <span class="comment">// æ¯ä¸ªå¥³ç”Ÿçš„åˆå§‹æœŸæœ›å€¼æ˜¯ä¸å¥¹ç›¸è¿çš„ç”·ç”Ÿæœ€å¤§çš„å¥½æ„Ÿåº¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">        ex_girl[i] = love[i][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; N; ++j) &#123;</span><br><span class="line">            ex_girl[i] = max(ex_girl[i], love[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°è¯•ä¸ºæ¯ä¸€ä¸ªå¥³ç”Ÿè§£å†³å½’å®¿é—®é¢˜</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// â–²åˆå§‹åŒ–4 [slack-æ‰¾åˆ°æœ€å°çš„d]</span></span><br><span class="line">        fill(slack, slack + N, INF);    <span class="comment">// å› ä¸ºè¦å–æœ€å°å€¼ åˆå§‹åŒ–ä¸ºæ— ç©·å¤§</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// ä¸ºæ¯ä¸ªå¥³ç”Ÿè§£å†³å½’å®¿é—®é¢˜çš„æ–¹æ³•æ˜¯ ï¼šå¦‚æœæ‰¾ä¸åˆ°å°±é™ä½æœŸæœ›å€¼ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–5-6 [è¯¥è½®ä¸­é‚£äº›å¥³ç”Ÿå·²ç»å°è¯•åŒ¹é…è¿‡ï¼Œè¯¥è½®ä¸­é‚£äº›ç”·ç”Ÿè¢«é€‰æ‹©è¿‡]</span></span><br><span class="line">            <span class="comment">// è®°å½•æ¯è½®åŒ¹é…ä¸­ç”·ç”Ÿå¥³ç”Ÿæ˜¯å¦è¢«å°è¯•åŒ¹é…è¿‡</span></span><br><span class="line">            <span class="built_in">memset</span>(vis_girl, <span class="literal">false</span>, <span class="keyword">sizeof</span> vis_girl);</span><br><span class="line">            <span class="built_in">memset</span>(vis_boy, <span class="literal">false</span>, <span class="keyword">sizeof</span> vis_boy);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (dfs(i)) <span class="keyword">break</span>;  <span class="comment">// æ‰¾åˆ°å½’å®¿ é€€å‡º</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœä¸èƒ½æ‰¾åˆ° å°±é™ä½æœŸæœ›å€¼</span></span><br><span class="line">            <span class="comment">// æœ€å°å¯é™ä½çš„æœŸæœ›å€¼</span></span><br><span class="line">            <span class="keyword">int</span> d = INF;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j)</span><br><span class="line">                <span class="keyword">if</span> (!vis_boy[j]) d = min(d, slack[j]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">                <span class="comment">// æ‰€æœ‰è®¿é—®è¿‡çš„å¥³ç”Ÿé™ä½æœŸæœ›å€¼</span></span><br><span class="line">                <span class="keyword">if</span> (vis_girl[j]) ex_girl[j] -= d;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æ‰€æœ‰è®¿é—®è¿‡çš„ç”·ç”Ÿå¢åŠ æœŸæœ›å€¼</span></span><br><span class="line">                <span class="keyword">if</span> (vis_boy[j]) ex_boy[j] += d;</span><br><span class="line">                <span class="comment">// æ²¡æœ‰è®¿é—®è¿‡çš„boy å› ä¸ºgirlä»¬çš„æœŸæœ›å€¼é™ä½ï¼Œè·ç¦»å¾—åˆ°å¥³ç”Ÿå€¾å¿ƒåˆè¿›äº†ä¸€æ­¥ï¼</span></span><br><span class="line">                <span class="keyword">else</span> slack[j] -= d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŒ¹é…å®Œæˆ æ±‚å‡ºæ‰€æœ‰é…å¯¹çš„å¥½æ„Ÿåº¦çš„å’Œ</span></span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">        res += love[ match[i] ][i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N)) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j)</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;love[i][j]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, KM());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è£¸é¢˜:<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2255" target="_blank" rel="noopener">HDU2255 å¥”å°åº·èµšå¤§é’±</a><br>è¾“å…¥æ•°æ®åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œè¾“å…¥n,è¡¨ç¤ºæˆ¿å­çš„æ•°é‡(ä¹Ÿæ˜¯è€ç™¾å§“å®¶çš„æ•°é‡)ï¼Œæ¥ä¸‹æ¥æœ‰nè¡Œ,æ¯è¡Œnä¸ªæ•°è¡¨ç¤ºç¬¬iä¸ªæ‘åå¯¹ç¬¬jé—´æˆ¿å‡ºçš„ä»·æ ¼(n&lt;=300)ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">2// ä¸€å…±æœ‰ä¸¤ä¸ªæˆ¿å­</span><br><span class="line">100 10// æ‘æ°‘1å¯¹ç¬¬ä¸€é—´å‡ºä»·100, ç¬¬äºŒé—´10</span><br><span class="line">15 23   // æ‘æ°‘1å¯¹ç¬¬ä¸€é—´å‡ºä»·15, ç¬¬äºŒé—´23</span><br><span class="line">Sample Output</span><br><span class="line">123// ç¬¬ä¸€é—´ç»™1,ç¬¬äºŒé—´ç»™2</span><br></pre></td></tr></table></figure><p>è·å¾—å…¶ä»–æ•°æ®ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    N = <span class="number">3</span>;</span><br><span class="line">    srand(time(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = rand() % <span class="number">3</span>*N + <span class="number">1</span>;</span><br><span class="line">            love[i][j] = tmp;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span>, love[i][j] );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, KM());</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d-&gt;%d\n"</span>, match[i], i);</span><br><span class="line">        sum += love[match[i]][i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"å’Œæœ€å¤§ï¼š%d\n"</span>, sum);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j)&#123;</span><br><span class="line">            love[i][j] = -love[i][j] ;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span>, love[i][j] );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"å’Œæœ€å°ï¼š%d\n"</span>, -KM());</span><br><span class="line">    sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d-&gt;%d\n"</span>, match[i], i);</span><br><span class="line">        sum += love[match[i]][i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">4 1 7 </span></span><br><span class="line"><span class="comment">1 4 7 </span></span><br><span class="line"><span class="comment">1 7 4 </span></span><br><span class="line"><span class="comment">18</span></span><br><span class="line"><span class="comment">0-&gt;0</span></span><br><span class="line"><span class="comment">2-&gt;1</span></span><br><span class="line"><span class="comment">1-&gt;2</span></span><br><span class="line"><span class="comment">18</span></span><br><span class="line"><span class="comment">-4 -1 -7 </span></span><br><span class="line"><span class="comment">-1 -4 -7 </span></span><br><span class="line"><span class="comment">-1 -7 -4 </span></span><br><span class="line"><span class="comment">6</span></span><br><span class="line"><span class="comment">1-&gt;0</span></span><br><span class="line"><span class="comment">0-&gt;1</span></span><br><span class="line"><span class="comment">2-&gt;2</span></span><br><span class="line"><span class="comment">-6</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™ï¼š</h2><p><a href="https://www.cnblogs.com/Lanly/p/6291214.html" target="_blank" rel="noopener">äºŒåˆ†å›¾åŒ¹é…ä¹‹æœ€ä½³åŒ¹é…â€”â€”KMç®—æ³•</a></p><p><a href="https://blog.csdn.net/chenshibo17/article/details/79933191" target="_blank" rel="noopener">KMç®—æ³•è¯¦è§£+æ¨¡æ¿</a>â€”â€”ç”·å¥³ç›¸äº²åŒ¹é…</p><p><a href="https://blog.csdn.net/NIeson2012/article/details/94472313" target="_blank" rel="noopener">å¸¦ä½ å…¥é—¨å¤šç›®æ ‡è·Ÿè¸ªï¼ˆä¸‰ï¼‰åŒˆç‰™åˆ©ç®—æ³•&amp;KMç®—æ³•</a>â€”â€”ä»¥å›¾åƒç›®æ ‡è·Ÿè¸ªè·ç¦»</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;kmkuhn-munkresç®—æ³•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#kmkuhn-munkresç®—æ³•&quot;&gt;&lt;/a&gt; KM(Kuhn-Munkres)ç®—æ³•&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;å¸¦æƒäºŒåˆ†å›¾æœ€ä½³å®Œç¾åŒ¹é…ï¼ŒO(n
      
    
    </summary>
    
    
      <category term="Algorithm" scheme="https://nymrli.top/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>ACM-äºŒåˆ†å›¾</title>
    <link href="https://nymrli.top/2019/12/05/ACM-%E4%BA%8C%E5%88%86%E5%9B%BE/"/>
    <id>https://nymrli.top/2019/12/05/ACM-äºŒåˆ†å›¾/</id>
    <published>2019-12-05T09:45:57.000Z</published>
    <updated>2019-12-08T14:21:09.471Z</updated>
    
    <content type="html"><![CDATA[<h1 id="äºŒåˆ†å›¾çš„åˆ¤å®š"><a class="markdownIt-Anchor" href="#äºŒåˆ†å›¾çš„åˆ¤å®š"></a> äºŒåˆ†å›¾çš„åˆ¤å®šï¼š</h1><p>æŸ“è‰²æ³•1ï¼šå‡è®¾DFSåˆå§‹ç‚¹Aæ¶‚é»‘è‰²ï¼Œä¸å®ƒç›¸é‚»çš„ç‚¹å°±æ¶‚ç™½è‰²ã€‚å¦‚æœæœåˆ°æŸä¸€ä¸ªç‚¹uçš„ç›¸é‚»ç‚¹vå·²ç»æ¶‚è‰²å¹¶ä¸”ä¸uåŒè‰²ï¼Œå°±ä¸å¯èƒ½æ˜¯äºŒåˆ†å›¾å•¦~</p><p>æŸ“è‰²æ³•2ï¼šå°±æ˜¯ç»™æ¯ä¸ªç‚¹è¿›è¡Œæ ‡å·ï¼Œæ ‡ä¸º-1ï¼Œ1å¦‚æœå­˜åœ¨ä¸€æ¡è¾¹è¿æ¥çš„ä¸¤ä¸ªç‚¹æ ‡å·ç›¸åŒï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ä¸€ä¸ªå¥‡æ•°ç¯â€¦</p><p>çƒ­èº«é¢˜ï¼š</p><h2 id="åˆ¤æ–­æ— å‘å›¾æ˜¯å¦æœ‰ç¯"><a class="markdownIt-Anchor" href="#åˆ¤æ–­æ— å‘å›¾æ˜¯å¦æœ‰ç¯"></a> åˆ¤æ–­æ— å‘å›¾æ˜¯å¦æœ‰ç¯</h2><blockquote><p>ç”¨DFSéå†å›¾gï¼Œå¦‚æœè®¿é—®åˆ°å·²ç»è®¿é—®è¿‡çš„é¡¶ç‚¹ï¼Œé‚£ä¹ˆæœ‰ç¯</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIZE 100+5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èµ·ç‚¹ç¼–å·ä»0å¼€å§‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">graph</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> en;                 <span class="comment">// è¾¹æ•°</span></span><br><span class="line">    <span class="keyword">int</span> vn;                 <span class="comment">// é¡¶ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">map</span>[SIZE][SIZE];    <span class="comment">// é‚»æ¥çŸ©é˜µ</span></span><br><span class="line">    <span class="keyword">int</span> vis[SIZE];          <span class="comment">// è®°å½•çŸ©é˜µ</span></span><br><span class="line">    <span class="keyword">bool</span> huan = <span class="literal">false</span>;      <span class="comment">// æ˜¯å¦æœ‰ç¯</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">u: å½“å‰èŠ‚ç‚¹èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">prev: è®°å½•ä¸Šä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">g: å›¾æŒ‡é’ˆ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> prev, graph *g)</span></span>&#123;</span><br><span class="line">    <span class="comment">// éå†å›¾</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; g-&gt;vn; ++v)&#123;    <span class="comment">// vä¸ºä¸‹ä¸€ä¸ªå¯è¾¾çš„èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// è‡ªå·±åˆ°è‡ªå·±ä¸º0, æ˜¯æ²¡æœ‰è¾¹çš„</span></span><br><span class="line">        <span class="keyword">if</span> (v == prev) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> ( g-&gt;vis[v] != <span class="number">2</span> &amp;&amp; g-&gt;<span class="built_in">map</span>[u][v] )&#123;</span><br><span class="line">            g-&gt;vis[v] = <span class="number">1</span>;</span><br><span class="line">            dfs(v, u, g);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(g-&gt;vis[v] == <span class="number">2</span> &amp;&amp; g-&gt;<span class="built_in">map</span>[u][v] )&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"now: %d %d\n"</span>,u ,v );</span><br><span class="line">             g-&gt;huan = <span class="literal">true</span>;</span><br><span class="line">             <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showGraph</span><span class="params">(<span class="keyword">const</span> graph *g)</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\t"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vn; ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vn; ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"v:%d\t"</span>, i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vn; ++j)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span>, g-&gt;<span class="built_in">map</span>[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    graph *g = <span class="keyword">new</span> graph();</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;g-&gt;vn, &amp;g-&gt;en);</span><br><span class="line">    <span class="built_in">memset</span>(g-&gt;<span class="built_in">map</span>, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>)*g-&gt;en*g-&gt;vn);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;en; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> u, v;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">        g-&gt;<span class="built_in">map</span>[u][v] = g-&gt;<span class="built_in">map</span>[v][u] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    showGraph(g);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vn; ++i)&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœèŠ‚ç‚¹iæ²¡è¢«è®¿é—®è¿‡</span></span><br><span class="line">        <span class="keyword">if</span> (g-&gt;vis[i] == <span class="number">0</span> &amp;&amp; g-&gt;huan == <span class="literal">false</span>)&#123;</span><br><span class="line">            g-&gt;vis[i] = <span class="number">2</span>;</span><br><span class="line">            dfs(i, <span class="number">-1</span>, g);</span><br><span class="line">            g-&gt;vis[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(g-&gt;huan == <span class="literal">true</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (g-&gt;huan) <span class="built_in">printf</span>(<span class="string">"æœ‰ç¯\n"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"æ— ç¯\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ¤æ–­ä¸€ä¸ªç¯æ˜¯å¦ä¸ºå¥‡æ•°ç¯"><a class="markdownIt-Anchor" href="#åˆ¤æ–­ä¸€ä¸ªç¯æ˜¯å¦ä¸ºå¥‡æ•°ç¯"></a> <a href="https://www.cnblogs.com/ziyi--caolu/p/3632644.html" target="_blank" rel="noopener">åˆ¤æ–­ä¸€ä¸ªç¯æ˜¯å¦ä¸ºå¥‡æ•°ç¯</a></h2><p><a href="http://acm.csu.edu.cn/csuoj/problemset/problem?pid=1356" target="_blank" rel="noopener">1356: Catch</a></p><p>é¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªèµ·å§‹ç‚¹ï¼Œä¸€äº›è¾¹ï¼Œæœ‰äººä»è¿™ä¸ªèµ·å§‹ç‚¹å¼€å§‹éšæ„èµ°ï¼Œé—®åœ¨æŸä¸€ä¸ªæ—¶å€™ï¼Œå®ƒæ˜¯å¦å¯ä»¥å¤„äºä»»æ„ä½ç½®ã€‚</p><p>æ€è·¯ï¼šæ€è€ƒä¸‹ï¼Œå°±å¯ä»¥æ˜ç™½ï¼Œåªè¦æ˜¯ä¸€ä¸ªè”é€šå›¾ï¼Œå¹¶ä¸”å­˜åœ¨å¥‡æ•°ç‚¹å½¢æˆçš„ç¯ï¼Œé‚£ä¹ˆåœ¨æŸä¸€ä¸ªæ—¶å€™å°±å¯ä»¥å¤„äºä»»æ„ä½ç½®ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æœ€å¤§åŒ¹é…æ•°åŒˆç‰™åˆ©ç®—æ³•"><a class="markdownIt-Anchor" href="#æœ€å¤§åŒ¹é…æ•°åŒˆç‰™åˆ©ç®—æ³•"></a> æœ€å¤§åŒ¹é…æ•°â€”â€”åŒˆç‰™åˆ©ç®—æ³•</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">150</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> line[maxn][maxn]; <span class="comment">// é‚»æ¥çŸ©é˜µ,è¡¨ç¤ºç”·ç”Ÿæ˜¯å¦æœ‰å¥½æ„Ÿ(å¯è¾¾)</span></span><br><span class="line"><span class="keyword">int</span> used[maxn];       <span class="comment">// åœ¨ä½ç”·ç”ŸiåŒ¹é…çš„é‚£è½®ä¸­,å¥³ç”Ÿiæ˜¯å¦è¢«å°è¯•è¿‡åŒ¹é…</span></span><br><span class="line"><span class="keyword">int</span> nxt[maxn];        <span class="comment">// å¦‚æœåŒ¹é…åˆ°äº†çš„è¯,é‚£ä¹ˆç”·ç”Ÿæ˜¯è°,å¥³ç”Ÿiçš„å¯¹è±¡ä¸ºnxt[i]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> m, n, t;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸ºç”·ç”ŸxåŒ¹é…åˆ°ä¸€ä¸ªå¥³ç”Ÿi,å¦‚æœåŒ¹é…åˆ°çš„å¥³ç”Ÿæœ‰ä¸»,é‚£ä¹ˆè®©å·²é…å¯¹å¥³ç”Ÿçš„å¯¹è±¡(ç”·)ä¿®æ”¹åŒ¹é…å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * @author mrli 2019-12-08</span></span><br><span class="line"><span class="comment"> * @param  x ç”·ç”Ÿ</span></span><br><span class="line"><span class="comment"> * @return   ç”·ç”Ÿxæ˜¯å¦èƒ½åŒ¹é…åˆ°å¥³ç”Ÿ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="comment">// éå†æ‰€æœ‰å¦¹å­YèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœç”·ç”Ÿå¯¹å¥³ç”Ÿäº’æœ‰å¥½æ„Ÿ(å³è¾¹å¯è¾¾) ä¸” å¦¹å­æ²¡æœ‰åŒ¹é…è¿‡</span></span><br><span class="line">        <span class="keyword">if</span> (line[x][i] &amp;&amp; !used[i])&#123;</span><br><span class="line">            <span class="comment">// åœ¨ç”·ç”Ÿè¯¥è½®,å°†è¯¥å¥³ç”Ÿiæ ‡è®°ä¸ºå·²ç»è¢«å°è¯•åŒ¹é…è¿‡</span></span><br><span class="line">            used[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//  å¦‚æœå¦¹å­æ²¡æœ‰å¯¹è±¡  æˆ–è€…  å·²åŒ¹é…åˆ°çš„ç”·ç”Ÿæ˜¯å¯ä»¥è½¬ç§»å¯¹è±¡çš„</span></span><br><span class="line">            <span class="keyword">if</span> ( nxt[i]==<span class="number">0</span> || Find( nxt[i]) )&#123;</span><br><span class="line">                <span class="comment">// å°†å¥³ç”Ÿçš„å·²é…å¯¹å¯¹è±¡æ”¹ä¸ºx</span></span><br><span class="line">                nxt[i] = x;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸ºæ‰€æœ‰ç”·ç”Ÿè¿›è¡ŒåŒ¹é…</span></span><br><span class="line"><span class="comment"> * @author mrli 2019-12-08</span></span><br><span class="line"><span class="comment"> * @return æœ€å¤§åŒ¹é…æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">match</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// æœ€å¤§åŒ¹é…æ•°</span></span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// éå†æ‰€æœ‰ç”·ç”ŸXèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="comment">// åœ¨ç”·ç”Ÿiè¯¥è½®,æ‰€æœ‰å¥³ç”Ÿéƒ½æ²¡æœ‰è¢«ä¿®æ”¹è¿‡åŒ¹é…</span></span><br><span class="line">        <span class="built_in">memset</span>(used, <span class="number">0</span>, <span class="keyword">sizeof</span>(used));</span><br><span class="line">        <span class="comment">// å¦‚æœå½“å‰ç”·ç”Ÿèƒ½æ‰¾åˆ°åŒ¹é…å¥³ç”Ÿ,é‚£ä¹ˆæœ€å¤§åŒ¹é…æ•°++</span></span><br><span class="line">        <span class="keyword">if</span> (Find(i)) sum++;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u, v;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="comment">// XYèŠ‚ç‚¹æ•°</span></span><br><span class="line">    n = m = <span class="number">4</span>;</span><br><span class="line">    <span class="built_in">memset</span>(line, <span class="number">0</span>, <span class="keyword">sizeof</span>(line));</span><br><span class="line">    <span class="built_in">memset</span>(nxt, <span class="number">0</span>, <span class="keyword">sizeof</span>(nxt));</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        line[u][v] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; match();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">input:</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">1 1</span></span><br><span class="line"><span class="comment">1 2</span></span><br><span class="line"><span class="comment">2 2</span></span><br><span class="line"><span class="comment">2 3</span></span><br><span class="line"><span class="comment">3 1</span></span><br><span class="line"><span class="comment">3 2</span></span><br><span class="line"><span class="comment">4 3</span></span><br><span class="line"><span class="comment">output:</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>æ‹“å±•é¢˜:<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2236" target="_blank" rel="noopener">æ— é¢˜II HDU2236</a></p><blockquote><p><strong>äºŒåˆ†å›¾</strong>ï¼šä¸ºä»€ä¹ˆä¼šæƒ³åˆ°ç”¨äºŒåˆ†å›¾å‘¢ï¼Ÿ<strong>ä¸åŒè¡Œä¸åŒåˆ—</strong>ï¼Œä»”ç»†æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæŸç‚¹ï¼ˆx,yï¼‰ï¼Œè¢«é€‰ä¸­ï¼Œé‚£ä¹ˆæ¨ªåæ ‡ä¸Šxçš„å€¼ä¸èƒ½å†é€‰ï¼Œçºµåæ ‡ä¸Šçš„yå€¼ä¹Ÿä¸èƒ½å†é€‰ï¼Œè¿™ç›¸å½“äºäºŒç»´ä¸Šæœ‰å¾ˆå¤šå€¼ï¼Œä½†æ˜¯æ¯ä¸ªå€¼éƒ½åªèƒ½ç”¨ä¸€æ¬¡ï¼Œè¿™å°±å¯ä»¥æƒ³åˆ°ç”¨äºŒåˆ†å›¾åŒ¹é…æ±‚å®Œç¾åŒ¹é…äº†ã€‚</p><p><strong>äºŒåˆ†ç­”æ¡ˆ</strong>ï¼šæ±‚nä¸ªæ•°çš„æœ€å¤§æœ€å°çš„å·®å€¼æœ€å°ï¼Œé¦–å…ˆè¿™ä¸ªå·®å€¼ä¸€å®šæ˜¯**0-(maxv-minv)**åŒºé—´çš„ï¼Œç„¶åæˆ‘ä»¬äºŒåˆ†å·®å€¼ä¸ºå¤–å¾ªç¯ï¼Œæšä¸¾ä¸‹ç•Œä¸ºå†…å¾ªç¯ï¼Œå¾—åˆ°ä¸€ä¸ªåŒºé—´ã€‚åšæ³•ï¼šä¿®æ”¹äºŒåˆ†å›¾åŒ¹é…æ¨¡æ¿ï¼šå¦‚æœè¿™ä¸ªäºŒåˆ†å›¾çš„åŒ¹é…ç‚¹æ˜¯åœ¨è¿™ä¸ªåŒºé—´é‡Œçš„å‰å»åŒ¹é…ï¼Œhungry()å‡½æ•°ä¸­è¿”å›æ˜¯å¦ä¸ºå®Œç¾åŒ¹é…ï¼Œ<u>å¯¹äºæ¯ä¸€ä¸ªäºŒåˆ†çš„å·®å€¼ï¼Œåªè¦å®ƒèƒ½æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³åŒºé—´æ¡ä»¶çš„å®Œç¾åŒ¹é…ï¼Œå°±è®°å½•ä¸€ä¸‹ç­”æ¡ˆã€‚</u></p></blockquote><p>Qï¼šé¦–å…ˆæ˜ç™½åœ¨æ±‚ä»€ä¹ˆ</p><p>Aï¼š é¦–å…ˆéœ€è¦æ˜ç™½ï¼šå›¾ä¸­æ¯ä¸ªæ•°å€¼X + æœ€å¤§å·®å€¼ &lt;= æœ€å¤§å€¼</p><p>æˆ‘å¯¹ä¸Šé¢çš„ç†è§£ï¼š</p><p>1.æœ€å¤§çš„å·®å€¼æ˜¯ä¸ªå…·ä½“çš„æ•°å€¼Î´ï¼Œæœ€åˆå¯ä»¥ç¡®å®šçš„èŒƒå›´åœ¨[0, maxv - minv] ä¹‹é—´ï¼Œå› æ­¤å¯ä»¥é€šè¿‡äºŒåˆ†æœç´¢çš„æ–¹å¼æ¥æ‰¾åˆ°è¿™ä¸ªå€¼==&gt;äºŒåˆ†æœç´¢</p><p>2.é‚£æ€ä¹ˆè¿›è¡ŒäºŒåˆ†æ¥ç¼©å°è¿™ä¸ªåŒºé—´èŒƒå›´å‘¢?Ansï¼šå¦‚æœç¬¦åˆ<strong>æœ€å¤§å·®å€¼</strong>çš„æ¡ä»¶(è¡¨ä¸­æ‰€æœ‰æ•°éƒ½æ»¡è¶³ ï¼šæ•°å€¼x+å·®å€¼ &lt;= æœ€å¤§å€¼)ï¼Œå³æ‰€æœ‰ç‚¹éƒ½èƒ½å®ŒæˆåŒ¹é…ï¼Œé‚£ä¹ˆè¯æ˜æœ€å¤§å·®å€¼åœ¨è¿™ä¸ªåŒºé—´ä¸­----&gt;å®Œç¾åŒ¹é…==&gt;åŒˆç‰™åˆ©ç®—æ³•</p><p>â–²æ‰€ä»¥ç®—æ³•å˜æˆäº†ï¼Œä¸æ–­ç¼©å°<u>æœ€å¤§å·®å€¼</u>å¯ä»¥å–å€¼çš„åŒºé—´ï¼Œæ ¸å¿ƒï¼š åˆ¤æ–­æ‰€æœ‰æ•°æ˜¯å¦åœ¨[p, p+å·®å€¼]åŒºé—´å†…</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">150</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> line[maxn][maxn]; <span class="comment">// é‚»æ¥çŸ©é˜µ,è¡¨ç¤ºç”·ç”Ÿæ˜¯å¦æœ‰å¥½æ„Ÿ(å¯è¾¾)</span></span><br><span class="line"><span class="keyword">int</span> used[maxn];       <span class="comment">// åœ¨ä½ç”·ç”ŸiåŒ¹é…çš„é‚£è½®ä¸­,å¥³ç”Ÿiæ˜¯å¦è¢«å°è¯•è¿‡åŒ¹é…</span></span><br><span class="line"><span class="keyword">int</span> nxt[maxn];        <span class="comment">// å¦‚æœåŒ¹é…åˆ°äº†çš„è¯,é‚£ä¹ˆç”·ç”Ÿæ˜¯è°,å¥³ç”Ÿiçš„å¯¹è±¡ä¸ºnxt[i]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> m, n, t, maxv, minv;</span><br><span class="line"><span class="keyword">int</span> l, r, mid;</span><br><span class="line"><span class="keyword">int</span> p;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">input:</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">1 1 1 1</span></span><br><span class="line"><span class="comment">2 2 2 2</span></span><br><span class="line"><span class="comment">3 3 3 3</span></span><br><span class="line"><span class="comment">4 4 4 4</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)&#123;</span><br><span class="line">        <span class="comment">// ä¿®æ”¹æ¨¡æ¿ï¼šå¢åŠ ç•Œå®šäºŒåˆ†[p, p+mid]çš„åŒºé—´</span></span><br><span class="line">        <span class="comment">// åˆ¤æ–­è¾¹xæ˜¯å¦è¿˜åœ¨[minv, minv+å·®å€¼]ä¹‹é—´</span></span><br><span class="line">        <span class="comment">/*ifæ¡ä»¶è§£é‡Š:æ‰§è¡Œè¿‡ç¨‹åˆ†æ</span></span><br><span class="line"><span class="comment">        å¦‚é¢˜,l=0, r=4,</span></span><br><span class="line"><span class="comment">        ç¬¬ä¸€æ¬¡mid=2,p=1, æ­¤æ—¶å¹¶ä¸æ˜¯æ‰€æœ‰ç‚¹éƒ½åœ¨[1, 1+2]ä¹‹é—´,æ‰€ä»¥åŒ¹é…å¤±è´¥</span></span><br><span class="line"><span class="comment">        å› ä¸º1+2&lt;=4(maxv),æ‰€ä»¥p++åå†è¿›å…¥,æ­¤æ—¶mid=2,p=2,æ­¤æ—¶ä»ç„¶ä¸æ˜¯æ‰€æœ‰ç‚¹åœ¨è¿™ä¸ªèŒƒå›´[2,2+2]å†…,æ‰€ä»¥å¤±è´¥,ç¬¬ä¸€æ¬¡äºŒåˆ†å¤±è´¥,åŒºé—´ä¸åœ¨[l,mid]å³[0,2]ä¹‹é—´</span></span><br><span class="line"><span class="comment">  ç¬¬äºŒæ¬¡æ›´æ–°l=mid+1=2+1=3,mid=(3+4)/2=3</span></span><br><span class="line"><span class="comment">  p=1æ—¶,åˆ¤æ–­æ˜¯å¦æ‰€æœ‰ç‚¹éƒ½åœ¨[1,1+3]èŒƒå›´,==&gt;ç»“æœæ˜¯çš„,hungarianè¿”å›true,äºŒåˆ†ç¡®å®šåœ¨[mid, r]å³[3,4]ä¹‹é—´,æ›´æ–°r=mid-1=3,mid=(l+r)/2=3,æ­¤æ—¶æœ‰l=r=3æ‰€ä»¥æ‰¾åˆ°äº†æœ€å¤§å·®å€¼mid</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">if</span>(p &lt;= line[x][i] &amp;&amp; line[x][i]&lt;= p+mid &amp;&amp; !used[i])&#123;</span><br><span class="line">            used[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> ( nxt[i]==<span class="number">0</span> || Find( nxt[i]) )&#123;</span><br><span class="line">                nxt[i] = x;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hungarian</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// è¿™è¾¹æ”¹äº†ï¼Œæ¯æ¬¡éƒ½æ˜¯æ–°æƒ…å†µ</span></span><br><span class="line">    <span class="built_in">memset</span>(nxt, <span class="number">0</span>, <span class="keyword">sizeof</span>(nxt));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(used, <span class="number">0</span>, <span class="keyword">sizeof</span>(used));</span><br><span class="line">        <span class="keyword">if</span> (Find(i)) sum++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¿®æ”¹æ¨¡æ¿</span></span><br><span class="line">    <span class="keyword">return</span> sum==n?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; size;</span><br><span class="line">    m = n = size;</span><br><span class="line">        maxv = -inf;</span><br><span class="line">        minv = inf;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= size; ++i)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= size; ++j)&#123;</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; line[i][j];</span><br><span class="line">                maxv = max(maxv, line[i][j]);</span><br><span class="line">                minv = min(minv, line[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        l = <span class="number">0</span>;</span><br><span class="line">        r = maxv - minv;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// äºŒåˆ†æœç´¢ï¼Œä¸æ–­ç¼©å°åŒºé—´</span></span><br><span class="line">        <span class="keyword">while</span>( l &lt;= r)&#123;</span><br><span class="line">            <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">            mid = (l+r) &gt;&gt; <span class="number">1</span>;<span class="comment">// midä¸ºå·®å€¼</span></span><br><span class="line">            <span class="comment">// éå†ä¸‹ç•Œçš„æœç´¢,æšä¸¾æœ€å°å€¼ï¼Œæ£€æŸ¥å½“å‰å·®å€¼æ˜¯å¦å¯ä»¥åŒ¹é…æˆåŠŸ,æ¡ä»¶æ˜¯â€œæœ€å°å€¼+å·®å€¼&lt;=æœ€å¤§å€¼â€</span></span><br><span class="line">            <span class="comment">// æ ¸å¿ƒï¼š åˆ¤æ–­æ‰€æœ‰æ•°æ˜¯å¦åœ¨[p, p+å·®å€¼]åŒºé—´å†…</span></span><br><span class="line">            <span class="keyword">for</span> (p = minv; p+mid &lt;= maxv; ++p)&#123;</span><br><span class="line">                <span class="keyword">if</span> (hungarian())&#123;</span><br><span class="line">                <span class="comment">// è¿™å¥ç±»ä¼¼äºŒåˆ†æœç´¢é‡Œçš„ifä¸€æ—¦æ‰¾åˆ°å“ªä¸ªåŒºé—´ï¼Œå°±ç›´æ¥åœ¨è¿™ä¸ªåŒºé—´é‡Œç»§ç»­äºŒåˆ†ï¼Œ</span></span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å› ä¸ºæ˜¯ä»[min,min+mid]~[max-mid, max]çš„æœç´¢,åŒºé—´å¤§å°ä¸ºmid,å¦‚æœtrue,æ„æ€æ˜¯æœ€å¤§å·®å€¼midå°±åœ¨[l, mid]ä¹‹é—´</span></span><br><span class="line">            <span class="keyword">if</span> (flag) ans = mid,r = mid<span class="number">-1</span>;</span><br><span class="line">            <span class="comment">// å¦‚æœå…¨ä¸ç¬¦åˆ,é‚£ä¹ˆåŒºé—´å°äº†,midå¾—å¤§ç‚¹,æ‰€ä»¥midèŒƒå›´å˜ä¸º[mid, r]</span></span><br><span class="line">            <span class="keyword">else</span> l = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">// äºŒåˆ†æœç´¢ä¸­å¦‚æœl==rï¼Œé‚£ä¹ˆæœç´¢æ•°xçš„ç´¢å¼•å°±æ˜¯æœ€åçš„mid</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æœ€ä½³åŒ¹é…kmç®—æ³•"><a class="markdownIt-Anchor" href="#æœ€ä½³åŒ¹é…kmç®—æ³•"></a> æœ€ä½³åŒ¹é…â€”â€”KMç®—æ³•</h1><blockquote><p>è§£å†³æœ‰æƒçš„å®Œç¾åŒ¹é…é—®é¢˜ï¼Œæˆä¸ºæœ€ä½³åŒ¹é…ï¼Œåˆç§°ä¸ºæœ‰æƒå®Œç¾åŒ¹é…ã€‚æœ€ä½³åŒ¹é…åŒæ—¶ä¹Ÿæ˜¯å®Œå¤‡åŒ¹é…</p></blockquote><p><a href="https://www.cnblogs.com/wenruo/p/5264235.html" target="_blank" rel="noopener">KMç®—æ³•è¯¦è§£+æ¨¡æ¿</a>â€”â€”å«å›¾è®²è§£</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;äºŒåˆ†å›¾çš„åˆ¤å®š&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#äºŒåˆ†å›¾çš„åˆ¤å®š&quot;&gt;&lt;/a&gt; äºŒåˆ†å›¾çš„åˆ¤å®šï¼š&lt;/h1&gt;
&lt;p&gt;æŸ“è‰²æ³•1ï¼šå‡è®¾DFSåˆå§‹ç‚¹Aæ¶‚é»‘è‰²ï¼Œä¸å®ƒç›¸é‚»çš„ç‚¹å°±æ¶‚ç™½è‰²ã€‚å¦‚æœæœåˆ°æŸä¸€ä¸ªç‚¹uçš„ç›¸é‚»ç‚¹vå·²ç»æ¶‚è‰²å¹¶ä¸”ä¸uåŒè‰²ï¼Œå°±ä¸å¯èƒ½æ˜¯
      
    
    </summary>
    
    
      <category term="ACM" scheme="https://nymrli.top/tags/ACM/"/>
    
  </entry>
  
  <entry>
    <title>Hungarian algorithmåŒˆç‰™åˆ©ç®—æ³•</title>
    <link href="https://nymrli.top/2019/12/05/Hungarian-algorithm%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95/"/>
    <id>https://nymrli.top/2019/12/05/Hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•/</id>
    <published>2019-12-05T05:08:11.000Z</published>
    <updated>2019-12-22T13:50:20.336Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•"><a class="markdownIt-Anchor" href="#hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•"></a> Hungarian algorithmåŒˆç‰™åˆ©ç®—æ³•</h1><blockquote><p>ä¸»è¦ç”¨æ¥è§£å†³ä¸å¸¦æƒçš„åˆ†é…é—®é¢˜ï¼ŒO(V*E)</p></blockquote><p>é¦–å…ˆï¼Œéœ€è¦æ˜ç™½äºŒåˆ†å›¾ï¼ˆåˆåäºŒéƒ¨å›¾ï¼‰çš„æ¦‚å¿µ</p><h2 id="äºŒåˆ†å›¾bipartite-graph"><a class="markdownIt-Anchor" href="#äºŒåˆ†å›¾bipartite-graph"></a> äºŒåˆ†å›¾Bipartite Graph</h2><p>äºŒåˆ†å›¾æ˜¯å›¾è®ºä¸­ä¸€ç§ç‰¹æ®Šæ¨¡å‹ã€‚è®¾G=(V,E)æ˜¯ä¸€ä¸ª<strong>æ— å‘å›¾</strong>(å½“ä¸”ä»…å½“å›¾ä¸­ä¸å­˜åœ¨é•¿åº¦ä¸ºå¥‡æ•°çš„ç¯ã€‚)ï¼Œå¦‚æœé¡¶ç‚¹Vå¯åˆ†å‰²ä¸º<strong>ä¸¤ä¸ªäº’ä¸ç›¸äº¤</strong>çš„å­é›†(A,B)ï¼Œå¹¶ä¸”å›¾ä¸­çš„æ¯æ¡è¾¹ï¼ˆiï¼Œjï¼‰æ‰€å…³è”çš„ä¸¤ä¸ªé¡¶ç‚¹iå’Œj<strong>åˆ†åˆ«å±äºè¿™ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹é›†</strong>(i in A,j in B)ï¼Œåˆ™ç§°å›¾Gä¸ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚</p><p>æ³¨æ„ï¼šå¦‚æœä¸€å›¾æ˜¯äºŒåˆ†å›¾ï¼Œé‚£ä¹ˆå®ƒ<strong>ä¸€å®šæ²¡æœ‰å¥‡ç¯</strong>ã€‚å¦‚æœä¸€å›¾æ²¡æœ‰å¥‡ç¯çš„è¯ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æ˜¯äºŒåˆ†å›¾ã€‚(æ²¡æœ‰å¥‡ç¯æ˜¯äºŒåˆ†å›¾çš„å¿…è¦æ¡ä»¶)</p><p>â–²é€šå¸¸è¢«ç”¨æ¥è§£å†³åˆ†é…ã€åŒ¹é…é—®é¢˜ï¼Œå¦‚èµ„æºåˆ†é…ã€å·¥ä½œå®‰æ’ã€ä»»åŠ¡è°ƒåº¦â€¦â€¦ä»»åŠ¡çš„æ ¸å¿ƒæœ¬è´¨æ˜¯æ±‚é…å¯¹å…³ç³»ï¼Œæˆ–è€…ç»™é¡¶ç‚¹å’Œè¾¹èµ‹æƒï¼Œæ±‚æŸç§æ¡ä»¶ä¸‹çš„æœ€ä¼˜åˆ†é…é—®é¢˜ã€‚</p><p>â–³åŒ¹é…é—®é¢˜å¯ä»¥ç”¨ç½‘ç»œæµè§£å†³ï¼Œæˆ–è€…KMç®—æ³•ï¼ˆKMç®—æ³•æ˜¯ä¸€ç§è®¡ç®—æœºç®—æ³•ï¼ŒåŠŸèƒ½æ˜¯æ±‚å®Œå¤‡åŒ¹é…ä¸‹çš„æœ€å¤§æƒåŒ¹é…ï¼‰ï¼Œä½†æ˜¯å¢å¹¿è·¯ç®—æ³•æ›´åŠ ç®€æ´ã€‚</p><h3 id="äºŒåˆ†å›¾çš„åˆ¤å®š"><a class="markdownIt-Anchor" href="#äºŒåˆ†å›¾çš„åˆ¤å®š"></a> äºŒåˆ†å›¾çš„åˆ¤å®šï¼š</h3><p>æŸ“è‰²æ³•1ï¼šå‡è®¾DFSåˆå§‹ç‚¹Aæ¶‚é»‘è‰²ï¼Œä¸å®ƒç›¸é‚»çš„ç‚¹å°±æ¶‚ç™½è‰²ã€‚å¦‚æœæœåˆ°æŸä¸€ä¸ªç‚¹uçš„ç›¸é‚»ç‚¹vå·²ç»æ¶‚è‰²å¹¶ä¸”ä¸uåŒè‰²ï¼Œå°±ä¸å¯èƒ½æ˜¯äºŒåˆ†å›¾å•¦~</p><p>æŸ“è‰²æ³•2ï¼šå°±æ˜¯ç»™æ¯ä¸ªç‚¹è¿›è¡Œæ ‡å·ï¼Œæ ‡ä¸º-1ï¼Œ1å¦‚æœå­˜åœ¨ä¸€æ¡è¾¹è¿æ¥çš„ä¸¤ä¸ªç‚¹æ ‡å·ç›¸åŒï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ä¸€ä¸ªå¥‡æ•°ç¯â€¦</p><h3 id="äºŒåˆ†å›¾çš„åŒ¹é…"><a class="markdownIt-Anchor" href="#äºŒåˆ†å›¾çš„åŒ¹é…"></a> äºŒåˆ†å›¾çš„åŒ¹é…</h3><ul><li><strong>åŒ¹é…</strong>ï¼šå°†Eçš„å­é›†Mç§°ä½œä¸€ä¸ª<strong>åŒ¹é…</strong>(å­é›†Mä¸­çš„ä»»æ„ä¸¤æ¡è¾¹éƒ½æ²¡æœ‰å…¬å…±ç«¯ç‚¹)</li><li><strong>æœ€å¤§åŒ¹é…</strong>ï¼šè¾¹æ•°æœ€å¤šçš„åŒ¹é…ç§°ä½œæœ€å¤§åŒ¹é…â€”â€”maximal matching</li><li><strong>X(Y)å®Œå…¨åŒ¹é…</strong>ï¼šå¦‚æœXï¼ˆYï¼‰ä¸­çš„æ‰€æœ‰çš„é¡¶ç‚¹éƒ½å‡ºç°åœ¨åŒ¹é…Mä¸­ï¼Œåˆ™ç§°Mæ˜¯X(Y)å®Œå…¨åŒ¹é…â€”â€”perfect matching</li><li><strong>Må®Œå…¨åŒ¹é…</strong>ï¼šå¦‚æœMæ—¢æ˜¯X-å®Œå…¨åŒ¹é…ï¼Œåˆæ˜¯Y-å®Œå…¨åŒ¹é…ï¼Œç§°Mæ˜¯å®Œå…¨åŒ¹é…ã€‚æ­¤æ—¶<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>=</mo><mi mathvariant="normal">âˆ£</mi><mi>Y</mi><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|X| = |Y|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mord">âˆ£</span></span></span></span>ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªåŒ¹é…é‡Œçš„æ‰€æœ‰è¾¹åˆšå¥½ç»è¿‡æ‰€æœ‰ç‚¹ä¸€æ¬¡ã€‚</li></ul><h3 id="æœ€å¤§åŒ¹é…å’Œå®Œå…¨åŒ¹é…çš„åº”ç”¨"><a class="markdownIt-Anchor" href="#æœ€å¤§åŒ¹é…å’Œå®Œå…¨åŒ¹é…çš„åº”ç”¨"></a> æœ€å¤§åŒ¹é…å’Œå®Œå…¨åŒ¹é…çš„åº”ç”¨ï¼š</h3><p>Qï¼šæ•™å¸ˆ-è¯¾ç¨‹å®‰æ’ï¼ŒG=&lt;U,E,V&gt;ï¼ŒUä¸ºæ•™å¸ˆé›†åˆï¼ŒVä¸ºè¯¾ç¨‹é›†åˆï¼ŒEä¸­çš„è¾¹&lt;u,v&gt;è¡¨ç¤ºæŸä½æ•™å¸ˆuå¯ä»¥ä¸Šè¯¾ç¨‹vã€‚éœ€è¦æ±‚<strong>æœ€å¤§åŒ¹é…</strong>ï¼Œä½¿å¾—æ¯é—¨è¯¾ç¨‹æœ‰äººæ•™ï¼Œæ¯äººéƒ½æœ‰è¯¾ä¸Šã€‚</p><p>A:åŒˆç‰™åˆ©ç®—æ³•</p><h2 id="åŒˆç‰™åˆ©ç®—æ³•"><a class="markdownIt-Anchor" href="#åŒˆç‰™åˆ©ç®—æ³•"></a> åŒˆç‰™åˆ©ç®—æ³•</h2><h3 id="æ‰§è¡Œè¿‡ç¨‹"><a class="markdownIt-Anchor" href="#æ‰§è¡Œè¿‡ç¨‹"></a> æ‰§è¡Œè¿‡ç¨‹</h3><p>â‘ ä»»æ„å–ä¸€ä¸ªåŒ¹é…Mï¼ˆå¯ä»¥æ˜¯ç©ºé›†æˆ–åªæœ‰ä¸€æ¡è¾¹ï¼‰<br>â‘¡ä»¤Sæ˜¯éé¥±å’Œç‚¹ï¼ˆå°šæœªåŒ¹é…çš„ç‚¹ï¼‰çš„é›†åˆè‡ªå¦‚æœS=0ï¼Œåˆ™Må·²ç»æ˜¯æœ€å¤§åŒ¹é…<br>â‘£ä»Sä¸­å–å‡ºä¸€ä¸ªéé¥±å’Œç‚¹å±±ä½œä¸ºèµ·ç‚¹ï¼Œä»æ­¤èµ·ç‚¹èµ°äº¤é”™è·¯ï¼ˆäº¤æ›¿å±äºMå’ŒéMçš„è¾¹æ„æˆçš„æå¤§æ— é‡å¤ç‚¹é€šè·¯æˆ–å›è·¯ï¼‰P<br>â‘¢å¦‚æœPæ˜¯ä¸€ä¸ªå¢å¹¿è·¯ï¼ˆPçš„ç»ˆç‚¹ä¹Ÿæ˜¯éé¥±å’Œç‚¹ï¼‰ï¼Œåˆ™ä»¤M=MeP=ï¼ˆM-Pï¼‰Uï¼ˆP-Mï¼‰<br>â‘¥å¦‚æœPéƒ½ä¸æ˜¯å¢å¹¿è·¯ï¼Œåˆ™ä»Sä¸­å»æ‰uoï¼Œè½¬åˆ°step3</p><p>â–².é¡¶ç‚¹æ•°ä¸åŒï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">â‰ </mi><mi mathvariant="normal">âˆ£</mi><mi>Y</mi><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|X| \neq |Y|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mord">âˆ£</span></span></span></span>çš„äºŒåˆ†å›¾ä¸€å®šæ²¡æœ‰å®Œå…¨åŒ¹é…</p><p>â–²æ­£åˆ™çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">â‰ </mi><mi mathvariant="normal">âˆ£</mi><mi>Y</mi><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|X| \neq |Y|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mord">âˆ£</span></span></span></span>çš„äºŒåˆ†å›¾ä¸€å®šæœ‰å®Œå…¨åŒ¹é…(æ­£åˆ™:æ¯ä¸ªé¡¶ç‚¹çš„åº¦æ•°éƒ½ç›¸åŒ)</p><p>æ ¸å¿ƒæ€æƒ³ï¼šä¸æ–­æŒª</p><h4 id="å¢—å¹¿è·¯å®šç†"><a class="markdownIt-Anchor" href="#å¢—å¹¿è·¯å®šç†"></a> å¢—å¹¿è·¯å®šç†ï¼š</h4><blockquote><p>ä»»æ„ä¸€ä¸ªéæœ€å¤§åŒ¹é…çš„åŒ¹é…ä¸€å®šå­˜åœ¨å¢å¹¿è·¯ã€‚</p></blockquote><ol><li>ä»ä¸€ä¸ªæœªåŒ¹é…ç‚¹ï¼ˆæœªç›–ç‚¹ï¼‰å‡ºå‘ï¼Œ<strong>ä¾æ¬¡</strong>ç»è¿‡<u>éåŒ¹é…è¾¹</u>ã€<u>åŒ¹é…è¾¹</u>ã€<u>éåŒ¹é…è¾¹</u>â€¦å½¢æˆçš„è·¯å¾„å«<strong>äº¤æ›¿è·¯</strong>ã€‚</li><li>ä¸¤ä¸ªç«¯ç‚¹éƒ½æ˜¯æœªç›–ç‚¹â†’å¢å¹¿è·¯ï¼ˆAugmenting Pathï¼ŒAPï¼‰<ul><li>æ¯”å¦‚ï¼š8â†’4â†’7â†’1â†’5â†’2ï¼Œå›¾ä¸­çº¢è‰²æ˜¯åŒ¹é…è¾¹ã€‚</li><li>ç‰¹æ®Šçš„ï¼š3-6ä¹Ÿæ˜¯å¢å¹¿è·¯ã€‚</li></ul></li><li>æŠŠAPä¸Šçš„åŒ¹é…è¾¹å’ŒéåŒ¹é…è¾¹äº’æ¢ï¼Œå¾—åˆ°çš„åŒ¹é…æ¯”åˆšæ‰å¤šä¸€æ¡è¾¹ã€‚</li><li>åŒ¹é…ç‚¹åªè¿ä¸€æ¡åŒ¹é…è¾¹ï¼ˆï¼Ÿï¼‰ï¼Œè¿™æ ·åšä¸ä¼šç ´ååŒ¹é…çš„æ€§è´¨ã€‚</li><li>å¢å¹¿è·¯å®šç†ï¼šå³ä¸€ä¸ªåŒ¹é…æ˜¯æœ€å¤§åŒ¹é…ç­‰ä»·äºä¸å­˜åœ¨å¢å¹¿è·¯ã€‚<ul><li>åŒˆç‰™åˆ©ç®—æ³•çš„æ ¸å¿ƒåŸç†ï¼šå°±æ˜¯ä¸æ–­æ‰¾å¢—å¹¿è·¯ï¼ˆä¾æ®æ€§è´¨3ï¼‰ï¼Œç›´è‡³æ— æ³•æ‰¾åˆ°æ–°çš„å¢—å¹¿è·¯ï¼Œå³ä¸ºæœ€å¤§åŒ¹é…ã€‚â€”â€”ä½¿ç”¨é€’å½’ï¼ˆ<strong>ä¸€ç›´æ‰¾å¢å¹¿è·¯ï¼Œä¸æ–­äº¤æ¢åŒ¹é…</strong>ï¼‰</li></ul></li><li>å¢å¹¿è·¯å¯ä»¥ç”¨æ¥æ”¹è¿›åŒ¹é…ï¼Œæœ€å¤§åŒ¹é…å¯ä»¥é€šè¿‡åå¤æ‰¾å¢å¹¿è·¯æ¥æ±‚è§£ã€‚</li><li><strong>å·²ç»åŒ¹é…çš„ç‚¹æ°¸è¿œä¸ä¼šé€€å‡ºåŒ¹é…ï¼Œåªä¼šæ›´æ¢åŒ¹é…</strong></li></ol><p>æ³¨ï¼šï¼ˆåŒ¹é…ç‚¹åˆå«åšç›–ç‚¹ï¼ŒéåŒ¹é…ç‚¹å«åšæœªç›–ç‚¹ï¼ˆæ‰€è°“â€œç›–â€æŒ‡çš„æ˜¯è¢«ä¸€æ¡è¾¹ç›–ä½ï¼‰</p><p><img src="/2019/12/05/Hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•/E:%5Chexo%5Csource_posts%5CHungarian-algorithm%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95%5C%E5%A2%97%E5%B9%BF%E8%B7%AF.jpg" alt="å¢—å¹¿è·¯"></p><h3 id="å®ç°çš„ç»†èŠ‚"><a class="markdownIt-Anchor" href="#å®ç°çš„ç»†èŠ‚"></a> å®ç°çš„ç»†èŠ‚ï¼š</h3><p><img src="/2019/12/05/Hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•/E:%5Chexo%5Csource_posts%5CHungarian-algorithm%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95%5Czgl2.jpg" alt="zgl2"></p><p>æ¯æ¬¡é€‰ä¸€ä¸ªæœªç›–ç‚¹uè¿›è¡ŒDFSã€‚å¦‚æœæ‰¾ä¸åˆ°<strong>uå¼€å¤´</strong>çš„å¢å¹¿è·¯ï¼Œåˆ™æ¢ä¸€ä¸ªæœªç›–ç‚¹è¿›è¡ŒDFSï¼Œä¸”ä»¥å<strong>å†ä¹Ÿä¸ä»uå‡ºå‘æ‰¾å¢å¹¿è·¯</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BPM</span>&#123;</span><span class="comment">//äºŒåˆ†å›¾æœ€å¤§åŸºæ•°åŒ¹é…ï¼Œé‚»æ¥çŸ©é˜µå†™æ³•</span></span><br><span class="line">    <span class="keyword">int</span> nï¼Œmï¼ŒG[maxn][maxn];<span class="comment">//å·¦å³é¡¶ç‚¹ä¸ªæ•°ï¼ŒG[x][y]=1ï¼Œè¾¹x-y</span></span><br><span class="line">    <span class="keyword">int</span> left[maxn];<span class="comment">//1eft[i]ä¸ºå³è¾¹ç¬¬iä¸ªç‚¹çš„åŒ¹é…ç‚¹ç¼–å·ï¼Œ-1è¡¨ç¤ºä¸å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">bool</span> T[maxn];<span class="comment">//T[i]ä¸ºå³è¾¹ç¬¬iä¸ªç‚¹æ˜¯å¦å·²æ ‡è®°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> nï¼Œ<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;n=nï¼Œ<span class="keyword">this</span>-&gt;m=m;_zero(G);</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">match</span><span class="params">(<span class="keyword">int</span> u)</span></span>&#123;<span class="comment">// é€’å½’è¿›è¡ŒæŒª</span></span><br><span class="line"><span class="keyword">for</span>(intv=e;v&lt;m;v++)</span><br><span class="line">        <span class="keyword">if</span>(G[u][v]&amp;&amp;ï¼T[v])&#123;</span><br><span class="line">            T[v]=<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(left[v]==<span class="number">-1</span> || match(left[v]))&#123;</span><br><span class="line">            <span class="comment">//left[v]ï¼=-1ï¼Œ1eft[v]-væ˜¯åŒ¹é…è¾¹</span></span><br><span class="line">            left[v]=u;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">int</span> solveï¼ˆ)&#123; <span class="comment">//æ±‚æœ€å¤§åŒ¹é…</span></span><br><span class="line">    <span class="built_in">memset</span>(leftï¼Œ<span class="number">-1</span>ï¼Œ<span class="keyword">sizeof</span>(left));</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> u=e;u&lt;n;u++)&#123;<span class="comment">//ä»å·¦è¾¹ç»“ç‚¹uå¼€å§‹å¢å¹¿</span></span><br><span class="line">        _zero(T); </span><br><span class="line">        <span class="keyword">if</span>(match(u)) ans++;<span class="comment">//uæ˜¯æœªç›–ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…·ä½“å®ç°ä»£ç è§æ–‡ç« ï¼šã€ŠACM-äºŒåˆ†å›¾ã€‹</p><h3 id="å…¶ä»–ç›¸å…³æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#å…¶ä»–ç›¸å…³æ¦‚å¿µ"></a> å…¶ä»–ç›¸å…³æ¦‚å¿µï¼š</h3><h4 id="æœ€å°é¡¶ç‚¹è¦†ç›–"><a class="markdownIt-Anchor" href="#æœ€å°é¡¶ç‚¹è¦†ç›–"></a> æœ€å°é¡¶ç‚¹è¦†ç›–ï¼š</h4><p>æ˜¯æŒ‡æœ€å°‘çš„é¡¶ç‚¹æ•°ä½¿å¾—äºŒåˆ†å›¾Gä¸­çš„æ¯æ¡è¾¹éƒ½è‡³å°‘ä¸å…¶ä¸­ä¸€ä¸ªç‚¹ç›¸è¿<br>&amp;äºŒåˆ†å›¾çš„æœ€å°é¡¶ç‚¹è¦†ç›–æ•°=äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°</p><h4 id="dagæœ€å°ä¸ç›¸äº¤è·¯å¾„è¦†ç›–"><a class="markdownIt-Anchor" href="#dagæœ€å°ä¸ç›¸äº¤è·¯å¾„è¦†ç›–"></a> DAGæœ€å°ä¸ç›¸äº¤è·¯å¾„è¦†ç›–</h4><p>ä¹Ÿç§°ä¸ºæœ€å°è¾¹è¦†ç›–ï¼Œæ˜¯æŒ‡ç”¨å°½é‡å°‘çš„é¡¶ç‚¹<strong>ä¸ç›¸äº¤</strong>ï¼ˆåªç»è¿‡ä¸€æ¬¡ï¼‰çš„ç®€å•è·¯å¾„è¦†ç›–äºŒåˆ†å›¾ä¸­çš„æ‰€æœ‰é¡¶ç‚¹<br>è·¯å¾„é•¿åº¦å¯ä»¥ä¸º0<br>&amp;äºŒåˆ†å›¾çš„æœ€å°è·¯å¾„è¦†ç›–æ•°=|V|-äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°<br>*æœ€å°å¯ç›¸äº¤è·¯å¾„è¦†ç›–</p><h4 id="æœ€å¤§ç‹¬ç«‹é›†"><a class="markdownIt-Anchor" href="#æœ€å¤§ç‹¬ç«‹é›†"></a> æœ€å¤§ç‹¬ç«‹é›†</h4><p>æœ€å¤§ç‹¬ç«‹é›†æ˜¯æŒ‡å¯»æ‰¾ä¸€ä¸ªç‚¹é›†ï¼Œä½¿å¾—å…¶ä¸­ä»»æ„ä¸¤ç‚¹åœ¨å›¾ä¸­æ— å¯¹åº”è¾¹ã€‚<br>å¯¹äºä¸€èˆ¬å›¾æ¥è¯´ï¼Œæœ€å¤§ç‹¬ç«‹é›†æ˜¯ä¸€ä¸ªNPå®Œå…¨é—®é¢˜ï¼Œå¯¹äºäºŒåˆ†å›¾æ¥è¯´æœ€å¤§ç‹¬ç«‹é›†<br>=|V| - äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°</p><h2 id="kmkuhn-munkresç®—æ³•"><a class="markdownIt-Anchor" href="#kmkuhn-munkresç®—æ³•"></a> KM(Kuhn-Munkres)ç®—æ³•</h2><blockquote><p>å¸¦æƒäºŒåˆ†å›¾æœ€ä½³å®Œç¾åŒ¹é…ï¼ŒO(n^3)ï¼Œï¼ˆè¿ç”¨åŒˆç‰™åˆ©ç®—æ³•è¾…åŠ©æ±‚è§£ï¼‰</p></blockquote><ol><li>åªé€‚ç”¨äºå¸¦æƒæœ€å¤§åŒ¹é…ä¸€å®šæ˜¯å®Œå¤‡åŒ¹é…çš„æƒ…å†µï¼Œå®è·µä¸­å»ºè®®ç”¨è´¹ç”¨æµæ¥è§£å†³ã€‚</li><li>å®Œå…¨äºŒåˆ†å›¾ä¸€å®šæ˜¯å¶æ•°ä¸ªç‚¹</li><li><strong>å¯è¡Œé¡¶æ ‡</strong>ï¼ˆFeasible Labelingï¼‰ï¼šç»“ç‚¹å‡½æ•°ï¼ˆxï¼‰ï¼Œä»»æ„è¾¹ï¼ˆxï¼Œyï¼‰ï¼š1ï¼ˆxï¼‰+lï¼ˆyï¼‰â‰¥wï¼ˆxiyï¼‰ã€‚</li><li><strong>ç›¸ç­‰å­å›¾</strong>ï¼šGçš„ç”Ÿæˆå­å›¾ï¼ŒåŒ…å«æ‰€æœ‰ç‚¹ä»¥åŠæ»¡è¶³lï¼ˆxï¼‰+Iï¼ˆyï¼‰=wï¼ˆxï¼Œyï¼‰çš„è¾¹ï¼ˆxï¼Œyï¼‰</li><li>å¦‚æœELæœ‰å®Œç¾åŒ¹é…ä¸ºPMï¼Œåˆ™è¯¥Mæ˜¯åŸå›¾çš„æœ€å¤§æƒåŒ¹é…ï¼š<ul><li>PMçš„æƒå’Œç­‰äºæ‰€æœ‰ç‚¹çš„é¡¶æ ‡ä¹‹å’ŒSVã€‚</li><li>Gçš„ä»»ä¸€ä¸ªæœ€å¤§æƒåŒ¹é…Mï¼Œè¾¹æ»¡è¶³wï¼ˆxyï¼‰â‰¤lï¼ˆxï¼‰+ï¼ˆyï¼‰â†’Mè¾¹æƒå’Œâ‰¤SV=PMè¾¹æƒå’Œ</li><li>å…³é”®å°±æ˜¯å¯»æ‰¾å¥½çš„å¯è¡Œé¡¶æ ‡ï¼Œä½¿ç›¸ç­‰å­å›¾æœ‰å®Œç¾åŒ¹é…ã€‚</li></ul></li></ol><p>==&gt;æ‰¾åˆ°åŸå›¾çš„å®Œç¾åŒ¹é…â€“åªè¦â€“&gt;æ‰¾åˆ°ç›¸ç­‰å­å›¾çš„å®Œç¾åŒ¹é…å³å¯</p><p>â–²KMå®Œæˆä¹‹åæ‰€æœ‰çš„l(x)ä¹‹å’Œæœ€å°</p><h3 id="ä¸¾ä¸ªæ —å­"><a class="markdownIt-Anchor" href="#ä¸¾ä¸ªæ —å­"></a> ä¸¾ä¸ªæ —å­:</h3><h4 id="å°‘æ—å†³èƒœgolden-tiger-clawuva11383"><a class="markdownIt-Anchor" href="#å°‘æ—å†³èƒœgolden-tiger-clawuva11383"></a> <strong>å°‘æ—å†³èƒœ(Golden Tiger Clawï¼ŒUVa11383)</strong></h4><p>ç»™å®šä¸€ä¸ªN*NçŸ©é˜µï¼Œæ¯ä¸ªæ ¼å­é‡Œéƒ½æœ‰ä¸€ä¸ªæ­£æ•´æ•°w(i,j)ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç»™æ¯è¡Œç¡®å®šä¸€ä¸ªæ•´æ•°row(i)ï¼Œæ¯åˆ—ä¹Ÿç¡®å®šä¸€ä¸ªæ•´æ•°col(i)ï¼Œä½¿å¾—å¯¹äºä»»æ„æ ¼å­(i, j)ï¼Œw(i, j)â‰¤row(i)+colj)ã€‚æ‰€æœ‰row(i)å’Œcol(i)ä¹‹å’Œåº”å°½é‡å°ã€‚</p><p>ã€åˆ†æã€‘<br>1.è¡Œçœ‹ä½œäºŒåˆ†å›¾Xç‚¹ï¼Œåˆ—çœ‹ä½œäºŒåˆ†å›¾Yç‚¹ã€‚<br>2.å’Œæœ€ä½³åŒ¹é…æ²¡æœ‰ä»»ä½•å…³ç³»ï¼ŒKMç®—æ³•å‰¯äº§å“ã€‚<br>3.KMä¸­ç®—æ³•ç­‰å¼lï¼ˆxï¼‰+lï¼ˆyï¼‰â‰¥wï¼ˆxï¼Œyï¼‰ã€‚è¡ŒXï¼Œåˆ—Yã€‚<br>4.KMè¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰é¡¶æ ‡ä¸æ–­å‡å°ï¼Œç®—æ³•ç»“æŸåï¼Œæ‰€æœ‰é¡¶æ ‡ä¹‹å’Œæ˜¯æœ€å°çš„ã€‚</p><h4 id="èš‚èšantsneerc2008la4043"><a class="markdownIt-Anchor" href="#èš‚èšantsneerc2008la4043"></a> <strong>èš‚èšï¼ˆAntsï¼ŒNEERC2008ï¼ŒLA4043ï¼‰</strong></h4><p>ç»™å‡ºnä¸ªç™½ç‚¹å’Œnä¸ªé»‘ç‚¹çš„åæ ‡ï¼Œè¦æ±‚ç”¨næ¡ä¸ç›¸äº¤çš„çº¿æ®µæŠŠå®ƒä»¬è¿æ¥èµ·æ¥ï¼Œå…¶ä¸­æ¯æ¡çº¿æ®µæ°å¥½è¿æ¥ä¸€ä¸ªç™½ç‚¹å’Œä¸€ä¸ªé»‘ç‚¹ï¼Œæ¯ä¸ªç‚¹æ°å¥½è¿æ¥åˆ°ä¸€æ¡çº¿æ®µï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p>ã€åˆ†æã€‘</p><ol><li>ç‚¹æœ‰é»‘ç™½ä¸¤è‰²ï¼Œæ„é€ äºŒåˆ†å›¾ï¼Œç™½Xé»‘Yã€‚æ¯ä¸ªé»‘ç‚¹å’Œæ¯ä¸ªç™½ç‚¹ç›¸è¿ï¼Œæƒå€¼ç­‰äºæ¬§æ°è·ç¦»ã€‚</li><li>è¿æ¥æ–¹æ¡ˆå®é™…ä¸Šæ˜¯è®¡ç®—ä¸€ä¸ªå®Œç¾åŒ¹é…ï¼ŒåŒ¹é…ä¸­å‡è®¾al-b1ä¸a2-b2ç›¸äº¤ï¼Œé‚£ä¹ˆdist(a1ï¼Œb1)+dist(a2ï¼Œb2)&gt;dist(alï¼Œb2)+dist(a2ï¼Œb1)ï¼Œè¿™ä¸¤æ¡çº¿æ®µæ”¹æˆal-b2å’Œa2-b1åæ€»é•¿åº¦ä¼šå˜å°‘ã€‚</li><li>æ‰€ä»¥æœ€å°åŒ¹é…ä¸­ä¸ä¼šå‡ºç°çº¿æ®µç›¸äº¤ã€‚</li><li>å¥—KMç®—æ³•å³å¯è®¡ç®—æœ€å°å®Œç¾åŒ¹é…å³å¯ã€‚</li></ol><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™ï¼š</h2><p><a href="https://www.bilibili.com/video/av14223723?from=search&amp;seid=7889448616401707001" target="_blank" rel="noopener">ç¦»æ•£æ•°å­¦ï¼šå›¾è®ºï¼šäºŒåˆ†å›¾çš„åŒ¹é…</a>â€”â€”é™ˆæ–Œ åŒ—äº¬å¤§å­¦åœ°çƒä¸ç©ºé—´ç§‘å­¦å­¦é™¢</p><p><a href="https://blog.csdn.net/D5__J9/article/details/80754657" target="_blank" rel="noopener">äºŒåˆ†åŒ¹é…â€”â€”åŒˆç‰™åˆ©ç®—æ³•å’ŒKMç®—æ³•</a>â€”â€”é‡Œé¢æ¨èçš„æ–‡ç« æ›´å€¼å¾—ä¸€çœ‹</p><p><a href="https://blog.csdn.net/NIeson2012/article/details/94472313" target="_blank" rel="noopener">å¸¦ä½ å…¥é—¨å¤šç›®æ ‡è·Ÿè¸ªï¼ˆä¸‰ï¼‰åŒˆç‰™åˆ©ç®—æ³•&amp;KMç®—æ³•</a>â€”â€”ä»¥å›¾åƒç›®æ ‡è·Ÿè¸ªè·ç¦»</p><p><a href="https://skywt.cn/posts/bipartite-matching" target="_blank" rel="noopener">äºŒåˆ†å›¾åŒ¹é…é—®é¢˜ä¸åŒˆç‰™åˆ©ç®—æ³•</a>â€”â€”é‡Œé¢åŒ…å«æ¦‚å¿µæŒºå…¨çš„</p><p><a href="https://blog.csdn.net/ling_wang/article/details/79830980?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">äºŒåˆ†å›¾å¤§åˆé›†â€”â€”äºŒåˆ†å›¾æœ€å¤§åŒ¹é…ï¼ˆæœ€å°è¦†ç›–æ•°ï¼‰ï¼Œå®Œç¾åŒ¹é…ä»¥åŠæœ€ä¼˜åŒ¹é…ï¼ˆå¸¦æƒæœ€å¤§åŒ¹é…ï¼‰</a>â€”â€”å¯¹æ¦‚å¿µçš„ä»‹ç»æ¯”ä¸Šä¸ªæ›´å‡†ç¡®ç‚¹ï¼Œæ¨è</p><p><a href="https://www.bilibili.com/video/av70803534/?spm_id_from=333.788.videocard.1" target="_blank" rel="noopener">äºŒåˆ†å›¾æœ€å¤§åŒ¹é…ä»¥åŠå¸¸è§æ¨¡å‹â€”â€”ACMè§’åº¦</a></p><p><a href="https://www.cnblogs.com/dwdxdy/p/3261742.html" target="_blank" rel="noopener">ä»»åŠ¡åˆ†é…é—®é¢˜â€”åŒˆç‰™åˆ©ç®—æ³•</a>â€”â€”å«Gungaryç®—æ³•æ‰§è¡Œè¿‡ç¨‹ä¼ªä»£ç </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•&quot;&gt;&lt;/a&gt; Hungarian algorithmåŒˆç‰™åˆ©ç®—æ³•&lt;/h1&gt;
&lt;blockquo
      
    
    </summary>
    
    
      <category term="Algorithm" scheme="https://nymrli.top/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>PILçš„Imageç¬”è®°</title>
    <link href="https://nymrli.top/2019/11/26/PIL%E7%9A%84Image%E7%AC%94%E8%AE%B0/"/>
    <id>https://nymrli.top/2019/11/26/PILçš„Imageç¬”è®°/</id>
    <published>2019-11-26T10:06:58.000Z</published>
    <updated>2019-11-26T10:07:16.139Z</updated>
    
    <content type="html"><![CDATA[<h1 id="pilçš„imageå­¦ä¹ "><a class="markdownIt-Anchor" href="#pilçš„imageå­¦ä¹ "></a> PILçš„Imageå­¦ä¹ </h1><h2 id="transposeå’Œrotate"><a class="markdownIt-Anchor" href="#transposeå’Œrotate"></a> transposeå’Œrotate</h2><ul><li>transpose</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">img = getCaptcha()</span><br><span class="line"><span class="comment"># å¯¹ç§°åè½¬</span></span><br><span class="line">img.transpose(Image.FLIP_LEFT_RIGHT)</span><br></pre></td></tr></table></figure><ul><li>rotate</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">img = getCaptcha()</span><br><span class="line"><span class="comment"># expandé»˜è®¤ä¸ºFalseæ—¶,è¶…å‡ºåŸæœ‰å°ºå¯¸çš„éƒ¨åˆ†å°†ç”¨é»‘è‰²å¡«å……,ä¸ä¼šæ‹“å±•å°ºå¯¸</span></span><br><span class="line">img = img.rotate(<span class="number">45</span>)</span><br><span class="line"><span class="comment"># expandä¸ºTrueæ—¶,ä¼šæ ¹æ®å›¾ç‰‡å¤§å°,æ‹“å±•å°ºå¯¸</span></span><br><span class="line">img = img.rotate(<span class="number">45</span>,expand=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure><p><a href="https://pillow.readthedocs.io/en/3.1.x/reference/Image.html#PIL.Image.Image.transpose" target="_blank" rel="noopener">Pillowå®˜ç½‘ä»‹ç»</a></p><p><a href="https://blog.csdn.net/chenriwei2/article/details/42071517" target="_blank" rel="noopener">ã€å›¾åƒå¤„ç†ã€‘Python-Image åŸºæœ¬çš„å›¾åƒå¤„ç†</a></p><h2 id="convertå‡½æ•°"><a class="markdownIt-Anchor" href="#convertå‡½æ•°"></a> convertå‡½æ•°</h2><p>å‚æ•°ä¸ºmode(å›¾åƒæ¨¡å¼)ã€‚è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å®šå›¾åƒä½¿ç”¨çš„åƒç´ æ ¼å¼ã€‚å…¸å‹å€¼ä¸ºâ€œ1â€ï¼Œâ€œLâ€ï¼Œâ€œRGBâ€æˆ–â€œCMYKâ€ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img = img.convert(<span class="string">"1"</span>)</span><br></pre></td></tr></table></figure><ul><li><code>1</code> (1-bit pixels, black and white, stored with one pixel per byte)</li><li><code>L</code> (8-bit pixels, black and white)</li><li><code>P</code> (8-bit pixels, mapped to any other mode using a color palette)</li><li><code>RGB</code> (3x8-bit pixels, true color)</li><li><code>RGBA</code> (4x8-bit pixels, true color with transparency mask)</li><li><code>CMYK</code> (4x8-bit pixels, color separation)</li><li><code>YCbCr</code> (3x8-bit pixels, color video format)</li><li><code>LAB</code> (3x8-bit pixels, the L<em>a</em>b color space)</li><li><code>HSV</code> (3x8-bit pixels, Hue, Saturation, Value color space)</li><li><code>I</code> (32-bit signed integer pixels)</li><li><code>F</code> (32-bit floating point pixels)</li></ul><h2 id="pil-imageä¸nparrayäº’è½¬"><a class="markdownIt-Anchor" href="#pil-imageä¸nparrayäº’è½¬"></a> PIL imageä¸np.arrayäº’è½¬</h2><h3 id="1-pil-imageè½¬æ¢æˆarray"><a class="markdownIt-Anchor" href="#1-pil-imageè½¬æ¢æˆarray"></a> 1. PIL imageè½¬æ¢æˆarray</h3><p><code>img = np.asarray(image)</code>æˆ–<code>img=np.array(image)</code></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå‡ºç°read-onlyé”™è¯¯ï¼Œå¹¶ä¸æ˜¯è½¬æ¢çš„é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯ä½ è¯»å–çš„å›¾ç‰‡çš„æ—¶å€™ï¼Œé»˜è®¤é€‰æ‹©çš„æ˜¯&quot;r&quot;,&quot;rb&quot;æ¨¡å¼æœ‰å…³ã€‚</p><p>ä¿®æ­£çš„åŠæ³•:ã€€æ‰‹åŠ¨ä¿®æ”¹å›¾ç‰‡çš„è¯»å–çŠ¶æ€<br>img.flags.writeable = True # å°†æ•°ç»„æ”¹ä¸ºè¯»å†™æ¨¡å¼</p><h3 id="2-arrayè½¬æ¢æˆimage"><a class="markdownIt-Anchor" href="#2-arrayè½¬æ¢æˆimage"></a> 2. arrayè½¬æ¢æˆimage</h3><p><strong>æ–¹æ³•1</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">Image.fromarray(np.uint8(img))</span><br></pre></td></tr></table></figure><p><strong>æ–¹æ³•2</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line">cv2.imwrite(<span class="string">"output.png"</span>, out)</span><br><span class="line"><span class="comment"># outå¯ä»¥æ˜¯uint16ç±»å‹æ•°æ®</span></span><br><span class="line"><span class="comment"># 16ä½æ·±åº¦å›¾åƒè½¬8ä½ç°åº¦</span></span><br></pre></td></tr></table></figure><p><strong>æ–¹æ³•3</strong></p><p>matlab</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img=imread(<span class="string">'output.png'</span>)</span><br><span class="line">img1=im2uint8(img)</span><br><span class="line">imwrite(img1,<span class="string">'result.jpg'</span>)</span><br></pre></td></tr></table></figure><p><strong>Numpyå°†äºŒç»´æ•°ç»„æ·»åŠ åˆ°ç©ºæ•°ç»„</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a=np.empty(shape=[<span class="number">0</span>,<span class="number">3</span>], dtype=np.int32)</span><br><span class="line">b = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">c=[[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]</span><br><span class="line"> </span><br><span class="line">print(a.shape)</span><br><span class="line">print(b.shape)</span><br><span class="line"> </span><br><span class="line">a = np.append(a, b, axis=<span class="number">0</span>)</span><br><span class="line">a = np.append(a, c, axis=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># å½“axisä¸º0æ—¶ï¼Œæ•°ç»„æ˜¯åŠ åœ¨ä¸‹é¢ï¼ˆåˆ—æ•°è¦ç›¸åŒï¼‰ï¼š</span></span><br><span class="line"><span class="comment"># å½“axisä¸º1æ—¶ï¼Œæ•°ç»„æ˜¯åŠ åœ¨å³è¾¹ï¼ˆè¡Œæ•°è¦ç›¸åŒï¼‰ï¼š</span></span><br><span class="line">print(a.shape)</span><br><span class="line">print(b.shape)</span><br></pre></td></tr></table></figure><p>reshapeå‡½æ•°æ˜¯numpyä¸­ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„å‡½æ•°ï¼Œä½œç”¨æ˜¯åœ¨ä¸æ”¹å˜çŸ©é˜µçš„æ•°å€¼çš„å‰æä¸‹ä¿®æ”¹çŸ©é˜µçš„å½¢çŠ¶ã€‚</p><p>1.ç®€å•ä½¿ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">y = np.reshape([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]],(<span class="number">1</span>,<span class="number">4</span>))</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">array([[1, 2, 3, 4]])</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure><p>2.ä½¿ç”¨ç¼ºçœå€¼-1</p><p>ç¼ºçœå€¼-1ä»£è¡¨æˆ‘ä¸çŸ¥é“è¦ç»™è¡Œï¼ˆæˆ–è€…åˆ—ï¼‰è®¾ç½®ä¸ºå‡ ï¼Œreshapeå‡½æ•°ä¼šæ ¹æ®åŸçŸ©é˜µçš„å½¢çŠ¶è‡ªåŠ¨è°ƒæ•´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">y = np.reshape([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]],(<span class="number">4</span>,<span class="number">-1</span>))</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">array([[1],</span></span><br><span class="line"><span class="string">       [2],</span></span><br><span class="line"><span class="string">       [3],</span></span><br><span class="line"><span class="string">       [4]])</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> PIL.Image <span class="keyword">as</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"> </span><br><span class="line">IMAGES_PATH = <span class="string">'E:\picture\æ–°å£ç»“è¡£\\'</span>  <span class="comment"># å›¾ç‰‡é›†åœ°å€</span></span><br><span class="line">IMAGES_FORMAT = [<span class="string">'.jpg'</span>, <span class="string">'.JPG'</span>]  <span class="comment"># å›¾ç‰‡æ ¼å¼</span></span><br><span class="line">IMAGE_SIZE = <span class="number">256</span>  <span class="comment"># æ¯å¼ å°å›¾ç‰‡çš„å¤§å°</span></span><br><span class="line">IMAGE_ROW = <span class="number">4</span>  <span class="comment"># å›¾ç‰‡é—´éš”ï¼Œä¹Ÿå°±æ˜¯åˆå¹¶æˆä¸€å¼ å›¾åï¼Œä¸€å…±æœ‰å‡ è¡Œ</span></span><br><span class="line">IMAGE_COLUMN = <span class="number">4</span>  <span class="comment"># å›¾ç‰‡é—´éš”ï¼Œä¹Ÿå°±æ˜¯åˆå¹¶æˆä¸€å¼ å›¾åï¼Œä¸€å…±æœ‰å‡ åˆ—</span></span><br><span class="line">IMAGE_SAVE_PATH = <span class="string">'E:\\picture\\æ–°å£ç»“è¡£\\final.jpg'</span>  <span class="comment"># å›¾ç‰‡è½¬æ¢åçš„åœ°å€</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># è·å–å›¾ç‰‡é›†åœ°å€ä¸‹çš„æ‰€æœ‰å›¾ç‰‡åç§°</span></span><br><span class="line">image_names = [name <span class="keyword">for</span> name <span class="keyword">in</span> os.listdir(IMAGES_PATH) <span class="keyword">for</span> item <span class="keyword">in</span> IMAGES_FORMAT <span class="keyword">if</span></span><br><span class="line">               os.path.splitext(name)[<span class="number">1</span>] == item]</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ç®€å•çš„å¯¹äºå‚æ•°çš„è®¾å®šå’Œå®é™…å›¾ç‰‡é›†çš„å¤§å°è¿›è¡Œæ•°é‡åˆ¤æ–­</span></span><br><span class="line"><span class="keyword">if</span> len(image_names) != IMAGE_ROW * IMAGE_COLUMN:</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">"åˆæˆå›¾ç‰‡çš„å‚æ•°å’Œè¦æ±‚çš„æ•°é‡ä¸èƒ½åŒ¹é…ï¼"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®šä¹‰å›¾åƒæ‹¼æ¥å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">image_compose</span><span class="params">()</span>:</span></span><br><span class="line">    to_image = Image.new(<span class="string">'RGB'</span>, (IMAGE_COLUMN * IMAGE_SIZE, IMAGE_ROW * IMAGE_SIZE)) <span class="comment">#åˆ›å»ºä¸€ä¸ªæ–°å›¾</span></span><br><span class="line">    <span class="comment"># å¾ªç¯éå†ï¼ŒæŠŠæ¯å¼ å›¾ç‰‡æŒ‰é¡ºåºç²˜è´´åˆ°å¯¹åº”ä½ç½®ä¸Š</span></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">1</span>, IMAGE_ROW + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, IMAGE_COLUMN + <span class="number">1</span>):</span><br><span class="line">            from_image = Image.open(IMAGES_PATH + image_names[IMAGE_COLUMN * (y - <span class="number">1</span>) + x - <span class="number">1</span>]).resize(</span><br><span class="line">                (IMAGE_SIZE, IMAGE_SIZE),Image.ANTIALIAS)</span><br><span class="line">            to_image.paste(from_image, ((x - <span class="number">1</span>) * IMAGE_SIZE, (y - <span class="number">1</span>) * IMAGE_SIZE))</span><br><span class="line">    <span class="keyword">return</span> to_image.save(IMAGE_SAVE_PATH) <span class="comment"># ä¿å­˜æ–°å›¾</span></span><br><span class="line">image_compose() <span class="comment">#è°ƒç”¨å‡½æ•°</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;pilçš„imageå­¦ä¹ &quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#pilçš„imageå­¦ä¹ &quot;&gt;&lt;/a&gt; PILçš„Imageå­¦ä¹ &lt;/h1&gt;
&lt;h2 id=&quot;transposeå’Œrotate&quot;&gt;&lt;a class=&quot;markdownIt-A
      
    
    </summary>
    
    
      <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://nymrli.top/tags/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
      <category term="Python" scheme="https://nymrli.top/tags/Python/"/>
    
      <category term="ç§‘å­¦è®¡ç®—" scheme="https://nymrli.top/tags/%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97/"/>
    
  </entry>
  
  <entry>
    <title>2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°</title>
    <link href="https://nymrli.top/2019/11/26/2019%E5%B9%B48%E6%9C%8823%E5%8F%B7%E8%BF%90%E7%BB%B4%E7%AC%94%E8%AE%B0/"/>
    <id>https://nymrli.top/2019/11/26/2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°/</id>
    <published>2019-11-26T07:50:55.000Z</published>
    <updated>2019-11-26T07:51:12.893Z</updated>
    
    <content type="html"><![CDATA[<h1 id="2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°"><a class="markdownIt-Anchor" href="#2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°"></a> 2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°</h1><h2 id="docker"><a class="markdownIt-Anchor" href="#docker"></a> docker</h2><h3 id="docker-stop-containeridä»¥åå†é‡æ–°å¯åŠ¨æ—¶æŠ¥é”™"><a class="markdownIt-Anchor" href="#docker-stop-containeridä»¥åå†é‡æ–°å¯åŠ¨æ—¶æŠ¥é”™"></a> docker stop containerIDï¼Œä»¥åå†é‡æ–°å¯åŠ¨æ—¶æŠ¥é”™</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error response from daemon: driver failed programming external connectivity on endpoint app (3c0c01ac6b42b7a420644fc2b4debfbbcc0e1d2e74e6294155c28aca82f794c4):  (iptables failed: iptables --<span class="built_in">wait</span> -t nat -A DOCKER -p tcp -d 0/0 --dport 12345 -j DNAT --to-destination 172.17.0.2:80 ! -i docker0: iptables: No chain/target/match by that name.</span><br></pre></td></tr></table></figure><p>A: é‡å¯dockerå³å¯ï¼š<code>systemctl restart docker</code></p><p>å†å¼€å¯ä½ çš„å®¹å™¨ï¼š <code>docker run xxxx</code>æˆ–<code>docker start xxx</code></p><p>æŸ¥çœ‹dockerå®¹å™¨çš„è¿è¡Œæ—¥å¿—</p><p><code>docker logs containerID</code></p><h3 id="dockerç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºåå¤–ç½‘ä»æ— æ³•è®¿é—®å®¹å™¨çš„web"><a class="markdownIt-Anchor" href="#dockerç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºåå¤–ç½‘ä»æ— æ³•è®¿é—®å®¹å™¨çš„web"></a> dockerç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºåå¤–ç½‘ä»æ— æ³•è®¿é—®å®¹å™¨çš„web</h3><p>Aï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£å†³åŠæ³•ï¼š</span></span><br><span class="line">$ sudo vi /etc/sysctl.conf</span><br><span class="line">æˆ–è€…</span><br><span class="line">$ sudo  vi /usr/lib/sysctl.d/00-system.conf</span><br><span class="line"><span class="comment"># æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</span></span><br><span class="line">net.ipv4.ip_forward=1</span><br><span class="line"></span><br><span class="line">é‡å¯networkæœåŠ¡</span><br><span class="line">$ sudo systemctl restart network</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸ</span><br><span class="line">$ sudo sysctl net.ipv4.ip_forward</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœè¿”å›ä¸ºâ€œnet.ipv4.ip_forward = 1â€åˆ™è¡¨ç¤ºæˆåŠŸäº†</span></span><br></pre></td></tr></table></figure><h2 id="nginx"><a class="markdownIt-Anchor" href="#nginx"></a> nginx</h2><h3 id="æŸ¥çœ‹nginxå®‰è£…è·¯å¾„"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹nginxå®‰è£…è·¯å¾„"></a> æŸ¥çœ‹nginxå®‰è£…è·¯å¾„</h3><p><code>ps -ef | grep nginx</code></p><h2 id="æŸ¥çœ‹nginxæ—¥å¿—"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹nginxæ—¥å¿—"></a> æŸ¥çœ‹nginxæ—¥å¿—</h2><p><code>systemctl status nginx.service</code></p><p><code>journalctl -xe</code></p><h3 id="æŒ‡å®šè¿è¡Œé…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æŒ‡å®šè¿è¡Œé…ç½®æ–‡ä»¶"></a> æŒ‡å®šè¿è¡Œé…ç½®æ–‡ä»¶</h3><p>ç›´æ¥è¿è¡Œnginxå¯æ‰§è¡Œæ–‡ä»¶å³å¯å¯åŠ¨ï¼Œnginxä¼šè‡ªåŠ¨è¯»å–é…ç½®æ–‡ä»¶ç›®å½•ä¸‹çš„â€œnginx.confâ€é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨åé¢æ¥â€œ-câ€å‚æ•°æ¥æŒ‡å®šé…ç½®æ–‡ä»¶ï¼š</p><p><code>/usr/sbin/nginx -c /etc/nginx/sites-enabled/nginx.conf</code></p><h2 id="æ ¡éªŒé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®"><a class="markdownIt-Anchor" href="#æ ¡éªŒé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®"></a> æ ¡éªŒé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®</h2><p>ç”±äºnginxçš„é…ç½®æ–‡ä»¶æ¯”è¾ƒå¤æ‚å®¹æ˜“å‡ºé”™ï¼Œä¿®æ”¹é…ç½®åå¯ä»¥ç”¨â€œ-tâ€å‚æ•°æ¥æ ¡éªŒé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx -t    # æ ¡éªŒé»˜è®¤çš„é…ç½®æ–‡ä»¶</span><br><span class="line">nginx -t -c /path/to/configfile    # æ ¡éªŒæŒ‡å®šé…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure><h2 id="äº†è§£æ—¥å¿—ç®¡ç†"><a class="markdownIt-Anchor" href="#äº†è§£æ—¥å¿—ç®¡ç†"></a> äº†è§£æ—¥å¿—ç®¡ç†</h2><p>æˆ‘ä»¬æŸ¥çœ‹nginxå®‰è£…ç›®å½•ä¸‹ï¼ˆ<code>/var/log/nginx</code>ï¼‰æœ‰ä¸ªlogsï¼ŒåŒ…å«äº†ä¸‰ä¸ªæ–‡ä»¶ â€œ<strong>access.log</strong> ã€<strong>error.log</strong>ã€<strong>nginx.pid</strong>â€ã€‚</p><p>å½“ç„¶ï¼Œæ—¥å¿—é…ç½®è‚¯å®šä¹Ÿæ˜¯é€šè¿‡nginx.confé…ç½®æ–‡ä»¶æ¥è¿›è¡Œé…ç½®çš„ ï¼Œé‚£æˆ‘å…ˆæ¥çœ‹é…ç½®æ–‡ä»¶æ˜¯æ€ä¹ˆå†™çš„ã€‚</p><ul><li><code>access_log logs/access.log main</code>è¿™ä¸ªæ˜¯æŒ‡access.logæ—¥å¿—ç”¨mainæ ¼å¼æ¥æ˜¾ç¤ºã€‚</li><li><code>error_log logs/error.log error</code></li></ul><p>mainæ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿmianæ ¼å¼æ˜¯æˆ‘ä»¬å·²ç»å®šä¹‰å¥½äº†çš„ä¸€ç§å„ç§ï¼Œå¹¶å–ä¸ªåå­—ä¾¿äºå¼•ç”¨ã€‚</p><p>é»˜è®¤çš„mainæ ¼å¼ä¸­å…·ä½“ç”¨äº†å“ªäº›é€‰é¡¹æ¥è®°å½•æ—¥å¿—å‘¢ï¼Ÿ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$remote_addr, $http_x_forwarded_for è®°å½•å®¢æˆ·ç«¯IPåœ°å€</span><br><span class="line">$remote_user è®°å½•å®¢æˆ·ç«¯ç”¨æˆ·åç§°</span><br><span class="line">$request è®°å½•è¯·æ±‚çš„URLå’ŒHTTPåè®®</span><br><span class="line">$status è®°å½•è¯·æ±‚çŠ¶æ€</span><br><span class="line">$body_bytes_sent å‘é€ç»™å®¢æˆ·ç«¯çš„å­—èŠ‚æ•°ï¼Œä¸åŒ…æ‹¬å“åº”å¤´çš„å¤§å°ï¼› è¯¥å˜é‡ä¸Apacheæ¨¡å—mod_log_configé‡Œçš„â€œ%Bâ€å‚æ•°å…¼å®¹ã€‚</span><br><span class="line">$bytes_sent å‘é€ç»™å®¢æˆ·ç«¯çš„æ€»å­—èŠ‚æ•°ã€‚</span><br><span class="line">$connection è¿æ¥çš„åºåˆ—å·ã€‚</span><br><span class="line">$connection_requests å½“å‰é€šè¿‡ä¸€ä¸ªè¿æ¥è·å¾—çš„è¯·æ±‚æ•°é‡ã€‚</span><br><span class="line">$msec æ—¥å¿—å†™å…¥æ—¶é—´ã€‚å•ä½ä¸ºç§’ï¼Œç²¾åº¦æ˜¯æ¯«ç§’ã€‚</span><br><span class="line">$pipe å¦‚æœè¯·æ±‚æ˜¯é€šè¿‡HTTPæµæ°´çº¿(pipelined)å‘é€ï¼Œpipeå€¼ä¸ºâ€œpâ€ï¼Œå¦åˆ™ä¸ºâ€œ.â€ã€‚</span><br><span class="line">$http_referer è®°å½•ä»å“ªä¸ªé¡µé¢é“¾æ¥è®¿é—®è¿‡æ¥çš„</span><br><span class="line">$http_user_agent è®°å½•å®¢æˆ·ç«¯æµè§ˆå™¨ç›¸å…³ä¿¡æ¯</span><br><span class="line">$request_length è¯·æ±‚çš„é•¿åº¦ï¼ˆåŒ…æ‹¬è¯·æ±‚è¡Œï¼Œè¯·æ±‚å¤´å’Œè¯·æ±‚æ­£æ–‡ï¼‰ã€‚</span><br><span class="line">$request_time è¯·æ±‚å¤„ç†æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œç²¾åº¦æ¯«ç§’ï¼› ä»è¯»å…¥å®¢æˆ·ç«¯çš„ç¬¬ä¸€ä¸ªå­—èŠ‚å¼€å§‹ï¼Œç›´åˆ°æŠŠæœ€åä¸€ä¸ªå­—ç¬¦å‘é€ç»™å®¢æˆ·ç«¯åè¿›è¡Œæ—¥å¿—å†™å…¥ä¸ºæ­¢ã€‚</span><br><span class="line">$time_iso8601 ISO8601æ ‡å‡†æ ¼å¼ä¸‹çš„æœ¬åœ°æ—¶é—´ã€‚</span><br><span class="line">$time_local é€šç”¨æ—¥å¿—æ ¼å¼ä¸‹çš„æœ¬åœ°æ—¶é—´ã€‚</span><br></pre></td></tr></table></figure><p>nginx.conf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//è¯¥æ–‡ä»¶æ˜¯å­˜æ”¾åˆ°nginxå®‰è£…ç›®å½•ä¸‹confæ–‡ä»¶å¤¹ä¸­</span><br><span class="line"> </span><br><span class="line">//å…¨å±€åŒº</span><br><span class="line"> </span><br><span class="line">//ä»£è¡¨ç€å½“å‰æœ‰ä¸€ä¸ªå·¥ä½œçš„å­è¿›ç¨‹ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼Œä½†æ˜¯å¤ªå¤šäº†æ— ç›Šå› ä¸ºä¼šäº‰å¤ºcpuèµ„æºã€‚ä¸€èˆ¬æœ€å¤šè®¾ç½®æˆcpuæ•°*æ ¸æ•°</span><br><span class="line">worker_processes  1;</span><br><span class="line"> </span><br><span class="line">//ä¸€èˆ¬é…ç½®nginxçš„è¿æ¥ç‰¹æ€§</span><br><span class="line">events &#123;</span><br><span class="line">    //è¿™é‡Œæ˜¯æŒ‡ä¸€ä¸ªå­è¿›ç¨‹æœ€å¤§å…è®¸è¿æ¥1024ä¸ªè¿æ¥</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">//è¿™é‡Œæ˜¯é…ç½®httpæœåŠ¡å™¨çš„ä¸»è¦æ®µ</span><br><span class="line">http &#123;</span><br><span class="line">    </span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    //è¿™é‡Œé…ç½®çš„æ˜¯æ—¥å¿—çš„æ˜¾ç¤ºæ ¼å¼</span><br><span class="line">    #log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">    #                 &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">    #                 &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class="line">    </span><br><span class="line">    //è¿™é‡Œè°ƒç”¨æŒ‡å®šæ—¥å¿—æ˜¾ç¤ºçš„æ ¼å¼</span><br><span class="line">    #access_log  logs/access.log  main;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    //è¿™é‡Œæ˜¯é…ç½®è™šæ‹Ÿä¸»æœºæ®µ</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;//ç›‘å¬çš„ç«¯å£</span><br><span class="line">        server_name  localhost;//ç›‘å¬è®¿é—®åœ°å€</span><br><span class="line"> </span><br><span class="line">        #charset koi8-r;</span><br><span class="line"> </span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"> </span><br><span class="line">        //å®šä½ï¼ŒæŠŠç‰¹æ®Šçš„æ–‡ä»¶æˆ–è€…è·¯å¾„å†æ¬¡å®šä½</span><br><span class="line">        location / &#123;</span><br><span class="line">            root   html;//å®šä½çš„ç›®å½•ï¼Œé»˜è®¤æ˜¯ngxinå®‰è£…ç›®å½•ä¸‹çš„htmlæ–‡ä»¶å¤¹ä¸­</span><br><span class="line">            index  index.html index.htm;//å®šä½çš„å…·ä½“æ–‡ä»¶</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h2 id="nginxæ—¥å¿—åˆ†æ"><a class="markdownIt-Anchor" href="#nginxæ—¥å¿—åˆ†æ"></a> nginxæ—¥å¿—åˆ†æ</h2><p>åˆ†ææˆªæ­¢ç›®å‰ä¸ºæ­¢è®¿é—®é‡æœ€é«˜çš„IPæ’20åã€‚</p><p><code>awk'{print $1}' /usr/local/nginx/logs/access.log |sort | uniq-c I|sort -nr</code></p><p>åˆ†æä»æ—©ä¸Š9ç‚¹è‡³ä¸­åˆ12ç‚¹æ€»çš„è®¿é—®é‡ã€‚</p><p><code>sed-n&quot;/2016:09:00/,/2016:12:00/&quot; paccess_20161121.log</code></p><p>åˆ†æä¸Šä¸€ç§’çš„è®¿é—®è¯·æ±‚æ•°ã€‚</p><p><code>sed -n&quot;/2016ï¼š09ï¼š00ï¼š00/&quot; paccess_20161121.log</code></p><p>httpsç­¾åï¼š<a href="https://www.jianshu.com/p/0d455c7a9326" target="_blank" rel="noopener">https://www.jianshu.com/p/0d455c7a9326</a></p><h2 id="qnginxå’ŒuwsgiåŒºåˆ«"><a class="markdownIt-Anchor" href="#qnginxå’ŒuwsgiåŒºåˆ«"></a> Qï¼šnginxå’ŒuwsgiåŒºåˆ«</h2><p>nginxçš„ä½œç”¨ï¼š<br>1.åå‘ä»£ç†ï¼Œå¯ä»¥æ‹¦æˆªä¸€äº›webæ”»å‡»ï¼Œä¿æŠ¤åç«¯çš„webæœåŠ¡å™¨<br>2.è´Ÿè½½å‡è¡¡ï¼Œæ ¹æ®è½®è¯¢ç®—æ³•ï¼Œåˆ†é…è¯·æ±‚åˆ°å¤šèŠ‚ç‚¹webæœåŠ¡å™¨<br>3.ç¼“å­˜é™æ€èµ„æºï¼ŒåŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œé‡Šæ”¾webæœåŠ¡å™¨çš„å†…å­˜å ç”¨ï¼Œä¸“é¡¹ä¸“ç”¨</p><p>uWSGIçš„é€‚ç”¨ï¼š<br>1.å•èŠ‚ç‚¹æœåŠ¡å™¨çš„ç®€æ˜“éƒ¨ç½²<br>2.è½»é‡çº§ï¼Œå¥½éƒ¨ç½²</p><p>Qï¼šå·²çŸ¥ä¸€ä¸ªä½¿ç”¨nginxé…ç½®çš„webæœåŠ¡å™¨çš„åŸŸåä¸ºwww.my.comç›‘å¬80ç«¯å£,å‡è®¾åœ¨æœåŠ¡å™¨çš„/var/www/htmlè¿™ä¸ªç›®å½•ä¸‹é¢æœ‰é™æ€æ–‡ä»¶index.html,é‚£ä¹ˆåœ¨é…ç½®æ–‡ä»¶å…¶å®ƒéƒ¨åˆ†ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œåˆ†åˆ«ä½¿ç”¨ä¸‹é¢ä¸¤ç§é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Location /abc &#123;</span><br><span class="line">    root /var/www/html; </span><br><span class="line">    index index.html; </span><br><span class="line">&#125;</span><br><span class="line">location/abc &#123; </span><br><span class="line">    alias /var/ww/html/; </span><br><span class="line">    index index.html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¿é—®http://www.my.com/abcåˆ†åˆ«ä¼šæœ‰ä»€ä¹ˆç»“æœï¼Ÿ</p><p>Aï¼š</p><ul><li>root çš„ä¸º<code>/var/www/html/abc/index.html</code></li><li>aliasçš„ä¸º<code>/var/www/html/index.html</code></li></ul><p>Qï¼šæ‰€ä»¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®çš„è¯è¿™ä¸¤ç§é…ç½®ä¼šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p>Aï¼šrootçš„ä¸º404ï¼Œaliasçš„ä¸º200.</p><p>æ³¨ï¼šå¦‚æœé€šè¿‡ä¸¤ä¸ªè·¯å¾„éƒ½èƒ½è®¿é—®åˆ°çš„è¯ï¼Œé‚£æ— è®ºå“ªä¸ªé…ç½®éƒ½æ˜¯200</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°&quot;&gt;&lt;/a&gt; 2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°&lt;/h1&gt;
&lt;h2 id=&quot;docker&quot;&gt;&lt;a class=&quot;markdownIt-An
      
    
    </summary>
    
    
      <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://nymrli.top/tags/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
      <category term="è¿ç»´" scheme="https://nymrli.top/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>appæµ‹è¯•</title>
    <link href="https://nymrli.top/2019/11/26/app%E6%B5%8B%E8%AF%95/"/>
    <id>https://nymrli.top/2019/11/26/appæµ‹è¯•/</id>
    <published>2019-11-26T07:49:58.000Z</published>
    <updated>2019-11-26T07:50:10.506Z</updated>
    
    <content type="html"><![CDATA[<h1 id="appæµ‹è¯•"><a class="markdownIt-Anchor" href="#appæµ‹è¯•"></a> appæµ‹è¯•</h1><h2 id="å‘½ä»¤"><a class="markdownIt-Anchor" href="#å‘½ä»¤"></a> å‘½ä»¤</h2><p><code>adb shell monkey 500</code>éšæœºæ‰§è¡Œ500æ¬¡</p><p><code>adb shell pm list packages -3</code> æŸ¥çœ‹ç¬¬ä¸‰æ–¹åŒ…</p><p><code>adb shell monkey -p tv.danmaku.bili</code>æŒ‡å®šåœ¨æŸä¸ªè½¯ä»¶ä¸­éšæœºå‹åŠ›æµ‹è¯•</p><p><code>adb shell monkey -p tv.danmaku.bili -p com.umaman.laiyifen 500</code>ä¼šå…ˆæ‰§è¡Œæ¥ä¼Šä»½</p><p>â–².åœ¨æµ‹è¯•åº”ç”¨ç¨‹åºæŸäº›é€‰é¡¹çš„åŒæ—¶ï¼Œä¹Ÿä¼šè¿›è¡Œç³»ç»Ÿçº§åŠŸèƒ½çš„æµ‹è¯•ï¼Œå¦‚æˆªå›¾ã€è°ƒéŸ³é‡ç­‰</p><p><code>adb shell monkey [-options] times</code></p><h3 id="å‚æ•°è¯´æ˜"><a class="markdownIt-Anchor" href="#å‚æ•°è¯´æ˜"></a> å‚æ•°è¯´æ˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-s seedç§å­å€¼ï¼šç§å­ç›¸åŒæ—¶ï¼Œå°±èƒ½äº§ç”Ÿä¸€æ ·çš„ä¼ªéšæœºæ“ä½œåºåˆ—</span><br><span class="line">-p packageæŒ‡å®šåŒ…åï¼šå‹åŠ›æµ‹è¯•æ‰§è¡Œåœ¨æŸä¸ªè½¯ä»¶å†…</span><br><span class="line">--pct-touch percentageï¼šæŒ‡å®šè§¦æ‘¸çš„æ¯”ä¾‹</span><br><span class="line">--throttle MILLSEC ï¼šè®¾ç½®æ¯ä¸ªæ“ä½œä¹‹é—´çš„é—´éš”ä¸ºxxæ¯«ç§’</span><br><span class="line"></span><br><span class="line">-v [-v [-v]]ï¼šè¾“å‡ºæ—¥å¿—ï¼Œvè¶Šå¤šè¶Šè¯¦ç»†</span><br><span class="line">--ignore-crashes ï¼šä¸ç®¡ç¨‹åºæœ‰æ— å´©æºƒï¼Œéƒ½æ‰§è¡Œå®Œæ‰€æœ‰æ“ä½œ</span><br></pre></td></tr></table></figure><h2 id="å„äº‹ä»¶æ¯”ä¾‹event-percentages"><a class="markdownIt-Anchor" href="#å„äº‹ä»¶æ¯”ä¾‹event-percentages"></a> å„äº‹ä»¶æ¯”ä¾‹ï¼ˆEvent percentages:ï¼‰</h2><ul><li>0: 50.0%      -pct-touch  è§¦æ‘¸æ“ä½œ</li><li>1: 5.8823533%-pct-motion ç§»åŠ¨æ“ä½œ</li><li>2: 1.1764706%-pct-pinchzoom ç¼©æ”¾æ“ä½œ</li><li>3: 8.82353%-pct-traceball æ»šåŠ¨æ“ä½œ</li></ul><h2 id="å¼‚å¸¸"><a class="markdownIt-Anchor" href="#å¼‚å¸¸"></a> å¼‚å¸¸</h2><p>event injectedæ•°é‡ä¸å¯¹</p><p>crashé—ªé€€</p><p>ANRæ²¡æœ‰å“åº”</p><h2 id="å‡ºç°å¼‚å¸¸åéœ€è¦æä¾›ç»™å¼€å‘çš„ä¸œè¥¿"><a class="markdownIt-Anchor" href="#å‡ºç°å¼‚å¸¸åéœ€è¦æä¾›ç»™å¼€å‘çš„ä¸œè¥¿"></a> å‡ºç°å¼‚å¸¸åï¼Œéœ€è¦æä¾›ç»™å¼€å‘çš„ä¸œè¥¿</h2><p>l.è¢«æµ‹æ‰‹æœºè¯¦ç»†ä¿¡æ¯<br>2.monkeyæµ‹è¯•æ—¥å¿—<br>3.æ‰‹æœºè¿è¡Œæˆªå›¾<br>4.monkeyè¿è¡Œå°„æ‰‹æœºæ—¥å¿—</p><h1 id="æµ‹è¯•ç”¨ä¾‹"><a class="markdownIt-Anchor" href="#æµ‹è¯•ç”¨ä¾‹"></a> æµ‹è¯•ç”¨ä¾‹</h1><h2 id="æµ‹è¯•ç”¨ä¾‹è®¾è®¡ä¸‰éƒ¨æ›²"><a class="markdownIt-Anchor" href="#æµ‹è¯•ç”¨ä¾‹è®¾è®¡ä¸‰éƒ¨æ›²"></a> æµ‹è¯•ç”¨ä¾‹è®¾è®¡ä¸‰éƒ¨æ›²</h2><ul><li>è¦æµ‹è¯•ä»€ä¹ˆ  -ä¸šåŠ¡</li><li>æ€ä¹ˆçº æ ·æµ‹è¯•           -æµ‹è¯•ç¯å¢ƒæ­å»º</li><li>å¦‚ä½•åˆ¤æ–°æ­£ç¡®ä¸å¦    -éœ€æ±‚</li></ul><h2 id="æµ‹è¯•è®¡åˆ’"><a class="markdownIt-Anchor" href="#æµ‹è¯•è®¡åˆ’"></a> æµ‹è¯•è®¡åˆ’</h2><p>ä¸åŒçš„ç¯å¢ƒä¸‹ï¼ˆå…¼å®¹æ€§ï¼‰<br>æ­£å¸¸å®‰è£…</p><p>ç©ºé—´ä¸è¶³-&gt;éªŒè¯æ¾å‹¤å®‰å“APPåœ¨HWXç©ºé—´ä¸è¶³çš„æ¡ä»¶ä¸‹çš„å®‰è£…è¡Œä¸º</p><ul><li>âˆšæ­£å¸¸è¡Œä¸ºï¼šæç¤ºç©ºé—´ä¸å¤Ÿ</li><li>xæ­»æœº</li><li>æç¤ºé”™è¯¯ä»£ç ï¼Œemor code201</li></ul><p>å®‰è£…è¿‡ç¨‹æ²¡ç”µ-é‡æ–°å®‰è£…</p><p>æ–­ç½‘-ç½‘ç»œFiddler</p><h2 id="å¸¸ç”¨åŠŸèƒ½æµ‹è¯•ç‚¹"><a class="markdownIt-Anchor" href="#å¸¸ç”¨åŠŸèƒ½æµ‹è¯•ç‚¹"></a> å¸¸ç”¨åŠŸèƒ½æµ‹è¯•ç‚¹</h2><p>å¸¸ç”¨çš„åŠŸèƒ½æµ‹è¯•æ–¹æ³•æœ‰â€œç•Œé¢æµ‹è¯•æ–¹æ³•â€å’Œâ€œé»‘ç›’æµ‹è¯•æŠ€æœ¯â€ï¼Œå…·ä½“å¯å‚è§æµ‹è¯•ç»„é…ç½®åº“ä¸­çš„ç›¸åº”æ–‡æ¡£ã€‚ä¸‹é¢åˆ—ä¸¾äº†ä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½æµ‹è¯•ç‚¹ï¼š<br>1.é¡µé¢é“¾æ¥æ£€æŸ¥æ¯ä¸€ä¸ªé“¾æ¥æ˜¯å¦éƒ½æœ‰å¯¹åº”çš„é¡µé¢ï¼Œå¹¶ä¸”é¡µé¢ä¹‹é—´åˆ‡æ¢æ­£ç¡®ã€‚<br>2.ç›¸å…³æ€§æ£€æŸ¥ï¼šåˆ é™¤/å¢åŠ ä¸€é¡¹ä¼šä¸ä¼šå¯¹å…¶ä»–é¡¹äº§ç”Ÿå½±å“ï¼Œå¦‚æœäº§ç”Ÿå½±å“ï¼Œè¿™äº›å½±å“æ˜¯å¦éƒ½æ­£ç¡®ã€‚<br>3.æ£€æŸ¥æŒ‰é’®çš„åŠŸèƒ½æ˜¯å¦æ­£ç¡®ï¼šå¦‚æ–°å¢ã€ä¿®æ”¹ã€å–æ¶ˆã€åˆ é™¤ã€ä¿å­˜ç­‰åŠŸèƒ½æ˜¯å¦æ­£ç¡®ã€‚<br>4.å­—ç¬¦ä¸²é•¿åº¦æ£€æŸ¥ï¼šè¾“å…¥è¶…å‡ºéœ€æ±‚è§„å®šçš„å­—ç¬¦ä¸²é•¿åº¦çš„å†…å®¹ï¼Œçœ‹ç³»ç»Ÿæ˜¯å¦æ£€æŸ¥å­—ç¬¦ä¸²é•¿åº¦ï¼Œä¼šä¸ä¼šæœ‰æç¤ºçª—å£ã€‚<br>5.å­—ç¬¦ç±»å‹æ£€æŸ¥ï¼šåœ¨åº”è¯¥è¾“å…¥æŒ‡å®šç±»å‹çš„å†…å®¹çš„åœ°æ–¹è¾“å…¥å…¶ä»–ç±»å‹çš„å†…å®¹ï¼ˆå¦‚åœ¨åº”è¯¥è¾“å…¥æ•´å‹çš„åœ°æ–¹è¾“å…¥å…¶ä»–å­—ç¬¦ç±»å‹ï¼‰ï¼Œçœ‹ç³»ç»Ÿæ˜¯å¦æ£€æŸ¥å­—ç¬¦ç±»å‹ï¼Œæ˜¯å¦ä¼šæœ‰æç¤ºçª—å£ã€‚<br>6.æ ‡ç‚¹ç¬¦å·æ£€æŸ¥ï¼šè¾“å…¥å†…å®¹åŒ…æ‹¬å„ç§æ ‡ç‚¹ç¬¦å·ï¼Œç‰¹åˆ«æ˜¯ç©ºæ ¼ï¼Œå„ç§å¼•å·ï¼Œå›è½¦é”®ï¼Œçœ‹ç³»ç»Ÿæ˜¯å¦ä¼šæœ‰å¼‚å¸¸é”™è¯¯ã€‚<br>7.ä¿¡æ¯é‡å¤ï¼šåœ¨ä¸€äº›éœ€è¦å‘½åï¼Œä¸”åå­—åº”è¯¥å”¯ä¸€çš„åœ°æ–¹è¾“å…¥é‡å¤çš„åå­—æˆ–IDï¼Œçœ‹ç³»ç»Ÿæ€ä¹ˆå¤„ç†ï¼Œæ˜¯å¦æŠ¥é”™ï¼›é‡åæ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œä»¥åŠåœ¨è¾“å…¥å†…å®¹çš„å‰åè¾“å…¥ç©ºæ ¼ï¼Œç³»ç»Ÿæ˜¯å¦ä½œå‡ºæ­£ç¡®å¤„ç†ã€‚<br>8.æ£€æŸ¥åˆ é™¤åŠŸèƒ½ï¼šåœ¨ä¸€äº›å¯ä»¥ä¸€æ¬¡åˆ é™¤å¤šä¸ªä¿¡æ¯çš„åœ°æ–¹ï¼Œä¸é€‰æ‹©ä»»ä½•ä¿¡æ¯ï¼Œè¿›è¡Œåˆ é™¤ï¼Œçœ‹ç³»ç»Ÿå¦‚ä½•å¤„ç†ï¼Œæ˜¯å¦å‡ºé”™ï¼›é€‰æ‹©ä¸€ä¸ªå’Œå¤šä¸ªä¿¡æ¯ï¼Œè¿›è¡Œåˆ é™¤ï¼Œçœ‹æ˜¯å¦æ­£ç¡®å¤„ç†ã€‚<br>9.æ£€æŸ¥æ·»åŠ å’Œä¿®æ”¹æ˜¯å¦ä¸€è‡´ï¼šæ£€æŸ¥æ·»åŠ å’Œä¿®æ”¹ä¿¡æ¯çš„è¦æ±‚æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æ·»åŠ è¦æ±‚å¿…å¡«çš„é¡¹ï¼Œä¿®æ”¹ä¹Ÿåº”è¯¥å¿…å¡«ï¼›æ·»åŠ è§„å®šä¸ºæ•´å‹çš„é¡¹ï¼Œä¿®æ”¹ä¹Ÿå¿…é¡»ä¸ºæ•´å‹ã€‚<br>10.æ£€æŸ¥ä¿®æ”¹é‡åï¼šä¿®æ”¹æ—¶æŠŠä¸èƒ½é‡åçš„é¡¹æ”¹ä¸ºå·²å­˜åœ¨çš„å†…å®¹ï¼Œçœ‹ç³»ç»Ÿæ˜¯å¦å¤„ç†ï¼ŒæŠ¥é‡åçš„é”™ã€‚<br>11.é‡å¤æäº¤è¡¨å•ï¼šä¸€æ¡å·²ç»æˆåŠŸæäº¤çš„çºªå½•ï¼Œé€€å‡ºåå†æäº¤ï¼Œçœ‹çœ‹ç³»ç»Ÿæ˜¯å¦ä¼šåšä»€ä¹ˆå¤„ç†ã€‚<br>12.æŸ¥è¯¢åŠŸèƒ½ï¼šåœ¨æœ‰æŸ¥è¯¢åŠŸèƒ½çš„åœ°æ–¹è¾“å…¥ç³»ç»Ÿå­˜åœ¨å’Œä¸å­˜åœ¨çš„å†…å®¹ï¼Œç»“æœæ˜¯å¦æ­£ç¡®ï¼›å¦‚æœå¯ä»¥è¾“å…¥å¤šä¸ªæŸ¥è¯¢æ¡ä»¶ï¼ŒåŒæ—¶æ·»åŠ åˆç†å’Œä¸åˆç†çš„æ¡ä»¶ï¼Œçœ‹ç³»ç»Ÿå¤„ç†æ˜¯å¦æ­£ç¡®ã€‚<br>13.è¾“å…¥ä¿¡æ¯ä½ç½®ï¼šæ³¨æ„åœ¨å…‰æ ‡åœç•™çš„åœ°æ–¹è¾“å…¥ä¿¡æ¯æ—¶ï¼Œå…‰æ ‡å’Œæ‰€è¾“å…¥çš„ä¿¡æ¯æ˜¯å¦è·³åˆ°åˆ«çš„åœ°æ–¹ã€‚<br>14.ä¸Šä¼ ä¸‹è½½æ–‡ä»¶æ£€æŸ¥ï¼šä¸Šä¼ ä¸‹è½½æ–‡ä»¶çš„åŠŸèƒ½æ˜¯å¦å®ç°ï¼Œä¸Šä¼ æ–‡ä»¶æ˜¯å¦èƒ½æ‰“å¼€ã€‚å¯¹ä¸Šä¼ æ–‡ä»¶çš„æ ¼å¼æœ‰ä½•è§„å®šï¼Œç³»ç»Ÿæ˜¯å¦æœ‰æç¤ºä¿¡æ¯ã€‚<br>15.å¿…å¡«é¡¹æ£€æŸ¥ï¼šåº”è¯¥å¡«å†™çš„é¡¹æ²¡æœ‰å¡«å†™æ—¶ç³»ç»Ÿæ˜¯å¦éƒ½åšäº†å¤„ç†ï¼Œå¯¹å¿…å¡«é¡¹æ˜¯å¦æœ‰æç¤ºä¿¡æ¯ï¼Œå¦‚åœ¨å¿…å¡«é¡¹æ”¾åŠ *ã€‚<br>16.å¿«æ·é”®æ£€æŸ¥ï¼šæ˜¯å¦æ”¯æŒå¸¸ç”¨å¿«æ·é”®ï¼Œå¦‚Ctl+C Ctrl+V Backspaceç­‰ï¼Œå¯¹ä¸€äº›ä¸å…è®¸è¾“å…¥ä¿¡æ¯çš„å­—æ®µï¼Œå¦‚é€‰äººï¼Œé€‰æ—¥æœŸæ˜¯å¦ä¹Ÿæœ‰å¿«æ·é”®ã€‚<br>17.å›è½¦é”®æ£€æŸ¥ï¼šåœ¨è¾“å…¥ç»“æŸåç›´æ¥æŒ‰å›è½¦é”®ï¼Œçœ‹ç³»ç»Ÿå¤„ç†å¦‚ä½•ï¼Œä¼šå¦æŠ¥é”™ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;appæµ‹è¯•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#appæµ‹è¯•&quot;&gt;&lt;/a&gt; appæµ‹è¯•&lt;/h1&gt;
&lt;h2 id=&quot;å‘½ä»¤&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å‘½ä»¤&quot;&gt;&lt;/a&gt; å‘½ä»¤&lt;/h2&gt;
&lt;
      
    
    </summary>
    
    
      <category term="æµ‹è¯•" scheme="https://nymrli.top/tags/%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>2019-9æœˆ7å·C++ç¼–ç¨‹ç¬”è®°</title>
    <link href="https://nymrli.top/2019/11/26/2019-9%E6%9C%887%E5%8F%B7C-%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    <id>https://nymrli.top/2019/11/26/2019-9æœˆ7å·C-ç¼–ç¨‹ç¬”è®°/</id>
    <published>2019-11-26T07:47:55.000Z</published>
    <updated>2019-11-26T07:48:23.861Z</updated>
    
    <content type="html"><![CDATA[<h1 id="2019-9æœˆ7å·cç¼–ç¨‹ç¬”è®°"><a class="markdownIt-Anchor" href="#2019-9æœˆ7å·cç¼–ç¨‹ç¬”è®°"></a> 2019-9æœˆ7å·C++ç¼–ç¨‹ç¬”è®°</h1><h2 id="auto"><a class="markdownIt-Anchor" href="#auto"></a> auto</h2><p>å®šä¹‰å˜é‡æ—¶æ”¾åœ¨å˜é‡å‰ï¼Œæ— éœ€çŸ¥é“å…·ä½“å˜é‡ç±»å‹ï¼Œç³»ç»Ÿå¯è‡ªè¡Œ<strong>æ¨æ–­ç±»å‹</strong>ï¼Œå‡å°‘ç¼–ç¨‹å·¥ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨<strong>æ¨¡æ¿ä½¿ç”¨æ—¶ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> a=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">auto</span> b=<span class="string">'a'</span>;</span><br><span class="line"><span class="keyword">auto</span> s=<span class="string">"abdc"</span>;</span><br><span class="line"><span class="keyword">auto</span> c;<span class="comment">//è¿™æ ·ä½¿ç”¨æ—¶é”™è¯¯çš„ï¼Œç³»ç»Ÿæ— æ³•è‡ªåŠ¨æ¨æ–­å‡ºå˜é‡ç±»å‹</span></span><br><span class="line"><span class="comment">//ä¸‹é¢ä¸ºè¿­ä»£æŒ‡é’ˆä½¿ç”¨ï¼Œå¾ˆæ–¹ä¾¿</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec;</span><br><span class="line"><span class="keyword">auto</span> it=vec.begin();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">æ¨¡æ¿ä½¿ç”¨æ¡ˆä¾‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> InputIterator&gt;</span><br><span class="line">    <span class="function">TreeNode *<span class="title">creatTree</span><span class="params">(InputIterator in_beg,InputIterator in_end...)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">       .....</span><br><span class="line">        <span class="keyword">auto</span> inRootPos=find(in_beg,in_end,val);</span><br><span class="line">       ......</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="stdnext"><a class="markdownIt-Anchor" href="#stdnext"></a> <strong>std::next</strong></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Defined in header &lt;iterator&gt;</span></span><br><span class="line"><span class="keyword">template</span>&lt; <span class="class"><span class="keyword">class</span> <span class="title">ForwardIt</span> &gt;</span></span><br><span class="line"><span class="class"><span class="title">ForwardIt</span> <span class="title">next</span>( <span class="title">ForwardIt</span> <span class="title">it</span>, <span class="title">typename</span> <span class="title">std</span>:</span>:iterator_traits&lt;ForwardIt&gt;::difference_type n = <span class="number">1</span> );</span><br></pre></td></tr></table></figure><ul><li><h3 id="parameters"><a class="markdownIt-Anchor" href="#parameters"></a> Parameters:</h3><ul><li>it  â€“ è¿­ä»£æŒ‡é’ˆ</li><li>n  â€“ å‘å‰è¿›çš„å…ƒç´ ä¸ªæ•°ï¼Œç¼ºçœé»˜è®¤ä¸º1</li></ul></li><li><p><strong>Return value</strong></p><p>The nth successor of iterator it.ï¼ˆè¿”å›itçš„ç¬¬nä¸ªåç»§è¿­ä»£æŒ‡é’ˆï¼‰</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vals.size(); ++i) &#123;</span><br><span class="line"><span class="comment">// *std::next(vals.cbegin(), i)éå†setçš„æ‰€æœ‰å€¼ï¼Œæ¯æ¬¡å–å‡ºä¸€ä¸ªval</span></span><br><span class="line"><span class="comment">// countä¸ºè®¡ç®—valuesä¸­åŒ…å«valçš„ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">int</span> count = <span class="built_in">std</span>::count(values.cbegin(), values.cend(), *<span class="built_in">std</span>::next(vals.cbegin(), i));</span><br></pre></td></tr></table></figure><h2 id="stdprev"><a class="markdownIt-Anchor" href="#stdprev"></a> <strong>std::prev</strong></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨æ–¹æ³•ä¸nextç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯prevè¿”å›çš„æ˜¯itçš„ç¬¬nä¸ªå‰é©±è¿­ä»£æŒ‡é’ˆ,å³è¿”å›æŒ‡é’ˆæ˜¯begin()å’Œrbegin()åŒºåˆ«</span></span><br><span class="line"><span class="keyword">template</span>&lt; <span class="class"><span class="keyword">class</span> <span class="title">BidirIt</span> &gt;</span></span><br><span class="line"><span class="class"><span class="title">BidirIt</span> <span class="title">prev</span>( <span class="title">BidirIt</span> <span class="title">it</span>, <span class="title">typename</span> <span class="title">std</span>:</span>:iterator_traits&lt;BidirIt&gt;::difference_type n = <span class="number">1</span> );</span><br></pre></td></tr></table></figure><h2 id="stdadvance"><a class="markdownIt-Anchor" href="#stdadvance"></a> std::advance</h2><blockquote><p><strong>æ–¹æ³•ä¸prevå’Œnextç›¸ä¼¼ï¼Œåªæ˜¯æ— è¿”å›æŒ‡é’ˆ</strong></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">ForwardIt</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">ForwardIt</span> <span class="title">next</span>(<span class="title">ForwardIt</span> <span class="title">it</span>, <span class="title">typename</span> <span class="title">std</span>:</span>:iterator_traits&lt;ForwardIt&gt;::difference_type n = <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="built_in">std</span>::advance(it, n);</span><br><span class="line">    <span class="keyword">return</span> it;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="const_cast"><a class="markdownIt-Anchor" href="#const_cast"></a> const_cast</h2><ul><li><p><strong>å»æ‰constå±æ€§</strong>ï¼š<code>const_cast&lt;int*&gt; (&amp;num)</code>ï¼Œå¸¸ç”¨ï¼Œå› ä¸ºä¸èƒ½æŠŠä¸€ä¸ªconstå˜é‡ç›´æ¥èµ‹ç»™ä¸€ä¸ªéconstå˜é‡ï¼Œå¿…é¡»è¦è½¬æ¢ã€‚</p></li><li><p><strong>åŠ ä¸Šconstå±æ€§</strong>ï¼š<code>const int* k = const_cast&lt;const int*&gt;(j)</code>ï¼Œä¸€èˆ¬å¾ˆå°‘ç”¨ï¼Œå› ä¸ºå¯ä»¥æŠŠä¸€ä¸ªéconstå˜é‡ç›´æ¥èµ‹ç»™ä¸€ä¸ªconstå˜é‡ï¼Œæ¯”å¦‚ï¼šconst int* k = j;</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binary_tree* tmp = <span class="keyword">const_cast</span>&lt;binary_tree*&gt;(node);</span><br></pre></td></tr></table></figure><h2 id="c11å¯¹vectoræˆå‘˜å‡½æ•°çš„æ‰©å±•"><a class="markdownIt-Anchor" href="#c11å¯¹vectoræˆå‘˜å‡½æ•°çš„æ‰©å±•"></a> C++11å¯¹vectoræˆå‘˜å‡½æ•°çš„æ‰©å±•</h2><h3 id="emplace_back"><a class="markdownIt-Anchor" href="#emplace_back"></a> emplace_back</h3><h3 id="stdvectorcbeginå’Œstdvectorcend"><a class="markdownIt-Anchor" href="#stdvectorcbeginå’Œstdvectorcend"></a> <strong>std::vector::cbeginå’Œstd::vector::cend</strong></h3><p>è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯ä¸std::vector::beginå’Œstd::vector::endç›¸å¯¹åº”çš„ï¼Œä»å­—é¢å°±èƒ½çœ‹å‡ºæ¥ï¼Œå¤šäº†ä¸€ä¸ªâ€™câ€™ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯constçš„æ„æ€ã€‚åŒç†ï¼Œ<strong>std::vector::crbeginå’Œstd::vector::crend</strong></p><h3 id="stdvectoremplace"><a class="markdownIt-Anchor" href="#stdvectoremplace"></a> <strong>std::vector::emplace</strong></h3><p>ä¹‹å‰å·²ç»å¯¹emplace_backè¿›è¡Œäº†è®¨è®ºï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å«emplaceã€‚<br>æˆ‘æƒ³è¯´çš„å°±æ˜¯ï¼Œemplaceä¹‹äºemplace_backå°±åƒinsertä¹‹äºpush_backã€‚å¦‚ä¸‹ä½¿ç”¨</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;code <span class="class"><span class="keyword">class</span>="<span class="title">hljs</span> <span class="title">cpp</span>"&gt;</span></span><br><span class="line"><span class="class">#<span class="title">include</span> &lt;iostream&gt;</span></span><br><span class="line"><span class="class">#<span class="title">include</span> &lt;vector&gt;</span></span><br><span class="line"><span class="class"> </span></span><br><span class="line"><span class="class"><span class="title">int</span> <span class="title">main</span> ()</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; myvector = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>&#125;;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">auto</span> it = myvector.emplace ( myvector.begin()+<span class="number">1</span>, <span class="number">100</span> );</span><br><span class="line">  myvector.emplace ( it, <span class="number">200</span> );</span><br><span class="line">  myvector.emplace ( myvector.end(), <span class="number">300</span> );</span><br><span class="line"> </span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"myvector contains:"</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; x: myvector)</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; x;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">myvector contains: 10 200 100 20 30 300&lt;/int&gt;&lt;/vector&gt;&lt;/iostream&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure><h3 id="stdvectordata"><a class="markdownIt-Anchor" href="#stdvectordata"></a> <strong>std::vector::data</strong></h3><p>Returns a direct pointer to the memory array used internally by the vector to store its owned elements.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;code <span class="class"><span class="keyword">class</span>="<span class="title">hljs</span> <span class="title">cpp</span>"&gt;#<span class="title">include</span> &lt;iostream&gt;</span></span><br><span class="line"><span class="class">#<span class="title">include</span> &lt;vector&gt;</span></span><br><span class="line"><span class="class"> </span></span><br><span class="line"><span class="class"><span class="title">int</span> <span class="title">main</span> ()</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; myvector (<span class="number">5</span>);</span><br><span class="line">  <span class="keyword">int</span>* p = myvector.data();</span><br><span class="line">  *p = <span class="number">10</span>;</span><br><span class="line">  ++p;</span><br><span class="line">  *p = <span class="number">20</span>;</span><br><span class="line">  p[<span class="number">2</span>] = <span class="number">100</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"myvector contains:"</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">unsigned</span> i=<span class="number">0</span>; i&lt;myvector.size(); ++i)</span><br><span class="line">     <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; myvector[i] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">      =<span class="string">""</span> output:=<span class="string">""</span> myvector=<span class="string">""</span> contains:=<span class="string">""</span> <span class="number">10</span>=<span class="string">""</span> <span class="number">20</span>=<span class="string">""</span> <span class="number">0</span>=<span class="string">""</span> <span class="number">100</span>=<span class="string">""</span> <span class="number">0</span>&lt;/<span class="keyword">int</span>&gt;&lt;/<span class="built_in">vector</span>&gt;&lt;/iostream&gt;&lt;/code&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;2019-9æœˆ7å·cç¼–ç¨‹ç¬”è®°&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#2019-9æœˆ7å·cç¼–ç¨‹ç¬”è®°&quot;&gt;&lt;/a&gt; 2019-9æœˆ7å·C++ç¼–ç¨‹ç¬”è®°&lt;/h1&gt;
&lt;h2 id=&quot;auto&quot;&gt;&lt;a class=&quot;markdownIt-An
      
    
    </summary>
    
    
      <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://nymrli.top/tags/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>MinMax-æå°æå¤§ç®—æ³•â€”â€”2048</title>
    <link href="https://nymrli.top/2019/11/26/MinMax-%E6%9E%81%E5%B0%8F%E6%9E%81%E5%A4%A7%E7%AE%97%E6%B3%95%E2%80%94%E2%80%942048/"/>
    <id>https://nymrli.top/2019/11/26/MinMax-æå°æå¤§ç®—æ³•â€”â€”2048/</id>
    <published>2019-11-26T07:46:41.000Z</published>
    <updated>2020-02-04T03:45:53.681Z</updated>
    
    <content type="html"><![CDATA[<h1 id="minmax-æå°æå¤§ç®—æ³•2048"><a class="markdownIt-Anchor" href="#minmax-æå°æå¤§ç®—æ³•2048"></a> MinMax-æå°æå¤§ç®—æ³•â€”â€”2048</h1><h2 id="ç®—æ³•ä»‹ç»"><a class="markdownIt-Anchor" href="#ç®—æ³•ä»‹ç»"></a> ç®—æ³•ä»‹ç»</h2><h3 id="minmax"><a class="markdownIt-Anchor" href="#minmax"></a> MinMax</h3><blockquote><p>å¤§å®¶åœ¨ç¼–ç¨‹çš„æ—¶å€™åº”è¯¥æˆ–å¤šæˆ–å°‘éƒ½æ¥è§¦åˆ°è¿‡è¿™æ ·çš„å†™æ³•:<code>min(max(xxx,yyy))</code>ï¼ŒMinMaxç®—æ³•çš„è¡¨è¾¾å½¢å¼å°±æ˜¯å¦‚æ­¤ï¼Œä¸è¿‡å…¶ä¸­çš„Minå’ŒMaxéƒ½æ˜¯å…·æœ‰å¯¹åº”å«ä¹‰çš„ã€‚</p></blockquote><p>ä¸€èˆ¬è§£å†³<strong>åšå¼ˆç±»é—®é¢˜</strong>çš„è‡ªç„¶æƒ³æ³•æ˜¯å°†æ ¼å±€ç»„ç»‡æˆä¸€æ£µï¼‰ï¼Œæ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ç§æ ¼å±€ï¼Œè€Œçˆ¶å­å…³ç³»è¡¨ç¤ºç”±çˆ¶æ ¼å±€ç»è¿‡ä¸€æ­¥å¯ä»¥åˆ°è¾¾å­æ ¼å±€ã€‚Minimaxä¹Ÿä¸ä¾‹å¤–ï¼Œå®ƒé€šè¿‡å¯¹ä»¥å½“å‰æ ¼å±€ä¸ºæ ¹çš„æ ¼å±€æ ‘æœç´¢æ¥ç¡®å®šä¸‹ä¸€æ­¥çš„é€‰æ‹©ã€‚è€Œä¸€åˆ‡æ ¼å±€æ ‘æœç´¢ç®—æ³•çš„æ ¸å¿ƒéƒ½æ˜¯<strong>å¯¹æ¯ä¸ªæ ¼å±€ä»·å€¼çš„è¯„ä»·</strong>ã€‚Minimaxç®—æ³•åŸºäºä»¥ä¸‹æœ´ç´ æ€æƒ³ç¡®å®šæ ¼å±€ä»·å€¼ï¼š</p><ul><li>Minimaxæ˜¯ä¸€ç§<strong>æ‚²è§‚ç®—æ³•</strong>ï¼Œå³å‡è®¾å¯¹æ‰‹æ¯ä¸€æ­¥éƒ½ä¼šå°†æˆ‘æ–¹å¼•å…¥ä»å½“å‰çœ‹ç†è®ºä¸Šä»·å€¼æœ€å°çš„æ ¼å±€æ–¹å‘ï¼Œå³<strong>å¯¹æ‰‹å…·æœ‰å®Œç¾å†³ç­–èƒ½åŠ›</strong>ã€‚å› æ­¤æˆ‘æ–¹çš„ç­–ç•¥åº”è¯¥æ˜¯é€‰æ‹©é‚£äº›å¯¹æ–¹æ‰€èƒ½è¾¾åˆ°çš„è®©æˆ‘æ–¹æœ€å·®æƒ…å†µä¸­æœ€å¥½çš„ï¼Œä¹Ÿå°±æ˜¯è®©<u>å¯¹æ–¹åœ¨å®Œç¾å†³ç­–</u>ä¸‹æ‰€<u>å¯¹æˆ‘é€ æˆçš„æŸå¤±æœ€å°</u>ã€‚</li><li>Minimax<strong>ä¸</strong>æ‰¾<strong>ç†è®ºæœ€ä¼˜è§£</strong>ï¼Œå› ä¸ºç†è®ºæœ€ä¼˜è§£å¾€å¾€ä¾èµ–äºå¯¹æ‰‹æ˜¯å¦è¶³å¤Ÿæ„šè ¢ï¼ŒMinimaxä¸­æˆ‘æ–¹å®Œå…¨æŒæ¡ä¸»åŠ¨ï¼Œå¦‚æœå¯¹æ–¹æ¯ä¸€æ­¥å†³ç­–éƒ½æ˜¯å®Œç¾çš„ï¼Œåˆ™æˆ‘æ–¹å¯ä»¥è¾¾åˆ°é¢„è®¡çš„æœ€å°æŸå¤±æ ¼å±€ï¼Œå¦‚æœå¯¹æ–¹æ²¡æœ‰èµ°å‡ºå®Œç¾å†³ç­–ï¼Œåˆ™æˆ‘æ–¹å¯èƒ½è¾¾åˆ°æ¯”é¢„è®¡çš„æœ€æ‚²è§‚æƒ…å†µæ›´å¥½çš„ç»“å±€ã€‚æ€»ä¹‹æˆ‘æ–¹å°±æ˜¯è¦åœ¨<u>æœ€åæƒ…å†µä¸­é€‰æ‹©æœ€å¥½çš„</u>ã€‚</li></ul><p>ä¸¾ä¾‹For Exampleï¼š</p><p>ç°åœ¨è€ƒè™‘è¿™æ ·ä¸€ä¸ªæ¸¸æˆï¼šæœ‰ä¸‰ä¸ªç›˜å­Aã€Bå’ŒCï¼Œæ¯ä¸ªç›˜å­åˆ†åˆ«æ”¾æœ‰ä¸‰å¼ çº¸å¸ã€‚Aæ”¾çš„æ˜¯1ã€20ã€50ï¼›Bæ”¾çš„æ˜¯5ã€10ã€100ï¼›Cæ”¾çš„æ˜¯1ã€5ã€20ã€‚å•ä½å‡ä¸ºâ€œå…ƒâ€ã€‚æœ‰ç”²ã€ä¹™ä¸¤äººï¼Œä¸¤äººå‡å¯¹ä¸‰ä¸ªç›˜å­å’Œä¸Šé¢æ”¾ç½®çš„çº¸å¸æœ‰å¯ä»¥ä»»æ„æŸ¥çœ‹ã€‚æ¸¸æˆåˆ†ä¸‰æ­¥ï¼š</p><ol><li>ç”²ä»ä¸‰ä¸ªç›˜å­ä¸­é€‰å–ä¸€ä¸ªã€‚</li><li>ä¹™ä»ç”²é€‰å–çš„ç›˜å­ä¸­æ‹¿å‡ºä¸¤å¼ çº¸å¸äº¤ç»™ç”²ã€‚</li><li>ç”²ä»ä¹™æ‰€ç»™çš„ä¸¤å¼ çº¸å¸ä¸­é€‰å–ä¸€å¼ ï¼Œæ‹¿èµ°ã€‚</li></ol><p>å…¶ä¸­ç”²çš„ç›®æ ‡æ˜¯æœ€åæ‹¿åˆ°çš„çº¸å¸é¢å€¼å°½é‡å¤§ï¼Œä¹™çš„ç›®æ ‡æ˜¯è®©ç”²æœ€åæ‹¿åˆ°çš„çº¸å¸é¢å€¼å°½é‡å°ã€‚</p><p>åˆ†æè¿‡ç¨‹å¯çœ‹ <a href="https://nymrli.top/2019/11/26/MinMax%E5%92%8CAlpha-beta%E5%89%AA%E6%9E%9D%E5%88%86%E6%9E%90-%E8%BD%AC/">MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ[è½¬]</a></p><h3 id="alpha-betaå‰ªæ"><a class="markdownIt-Anchor" href="#alpha-betaå‰ªæ"></a> Alpha-betaå‰ªæ</h3><blockquote><p>æ˜¯åœ¨Minmaxçš„åŸºç¡€ä¸Šé€šè¿‡å¯¹<strong>æ¯ä¸ªç»“ç‚¹ä¸‹ç•Œalphaå’Œä¸Šç•Œbetaå€¼çš„ç»´æŠ¤</strong>è¿›è¡Œäº†å‰ªæ</p></blockquote><p>å¶æ•°å±‚ä¸ºMaxå±‚ï¼ˆå·±æ–¹ï¼‰ï¼Œå¥‡æ•°å±‚ä¸ºMinå±‚ï¼ˆå¯¹æ‰‹ï¼‰ï¼Œå…¶ä¸­rootä¸ºå½“å‰å½¢åŠ¿ã€‚</p><h4 id="æ‰§è¡Œè¿‡ç¨‹"><a class="markdownIt-Anchor" href="#æ‰§è¡Œè¿‡ç¨‹"></a> æ‰§è¡Œè¿‡ç¨‹</h4><p>åœ¨rootå±‚ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Î±</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>N</mi><mn>1</mn></msub><mi mathvariant="normal">.</mi><mi>Î²</mi><mo separator="true">,</mo><msub><mi>N</mi><mn>2</mn></msub><mi mathvariant="normal">.</mi><mi>Î²</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>Î²</mi><mo stretchy="false">)</mo><mo>=</mo><mo>=</mo><mo stretchy="false">(</mo><mi>s</mi><mi>e</mi><mi>l</mi><mi>f</mi><mi mathvariant="normal">.</mi><mi>Î²</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>Î²</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha&#x27; = max(N_1.\beta, N_2.\beta,...,N_i.\beta)==(self.\beta,N_i.\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mclose">)</span></span></span></span></p><p>åœ¨Maxå±‚</p><ul><li><p>åˆå§‹ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Î±</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mo>âˆ’</mo><mi mathvariant="normal">âˆ</mi><mo separator="true">,</mo><mi>N</mi><mi mathvariant="normal">.</mi><mi>Î²</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha&#x27;=max(-\infty, N.\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">âˆ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mclose">)</span></span></span></span></p></li><li><p>éå¶å­èŠ‚ç‚¹æ›´æ–°(åŒ…æ‹¬æ ¹èŠ‚ç‚¹), <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Î±</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>Î±</mi><mo separator="true">,</mo><msub><mi>N</mi><mn>1</mn></msub><mi mathvariant="normal">.</mi><mi>Î²</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>Î²</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha&#x27;=max(\alpha,N_1.\beta,...,N_i.\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mclose">)</span></span></span></span></p></li><li><p>å¶å­èŠ‚ç‚¹æ›´æ–°, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Î±</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mi>e</mi><mi>l</mi><mi>f</mi><mi mathvariant="normal">.</mi><mi>Î±</mi><mo separator="true">,</mo><msub><mi>N</mi><mn>1</mn></msub><mi mathvariant="normal">.</mi><mi>v</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha&#x27;=max(self.\alpha, N_1.v,...,N_i.v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span></p></li><li><p>æ ¹èŠ‚ç‚¹æ›´æ–°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Î±</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>Î±</mi><mo separator="true">,</mo><msub><mi>N</mi><mn>1</mn></msub><mi mathvariant="normal">.</mi><mi>Î²</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>Î²</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha&#x27;=max(\alpha,N_1.\beta,...,N_i.\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mclose">)</span></span></span></span></p><p>â–²æ›´æ–°åå‘ç°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>e</mi><mi>l</mi><mi>f</mi><mi mathvariant="normal">.</mi><msup><mi>Î±</mi><mo mathvariant="normal">â€²</mo></msup><mo>&gt;</mo><mi>s</mi><mi>e</mi><mi>l</mi><mi>f</mi><mi mathvariant="normal">.</mi><mi>Î²</mi></mrow><annotation encoding="application/x-tex">self.\alpha&#x27;&gt;self.\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span></span></span></span>åˆ™å‰ªæï¼Œä¸å†æœç´¢</p></li></ul><p>åœ¨Minå±‚,</p><ul><li><p>åˆå§‹ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Î²</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ</mi><mo separator="true">,</mo><mi>N</mi><mi mathvariant="normal">.</mi><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\beta&#x27;=min(\infty, N.v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord">âˆ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span></p></li><li><p>å¶å­èŠ‚ç‚¹æ›´æ–°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Î²</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mi>N</mi><mn>1</mn></msub><mi mathvariant="normal">.</mi><mi>v</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\beta&#x27;=min(N_1.v,...,N_i.v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span></p></li><li><p>éå¶å­èŠ‚ç‚¹æ›´æ–°, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Î²</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>s</mi><mi>e</mi><mi>l</mi><mi>f</mi><mi mathvariant="normal">.</mi><mi>Î²</mi><mo separator="true">,</mo><msub><mi>N</mi><mn>1</mn></msub><mi mathvariant="normal">.</mi><mi>Î±</mi><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi><mi>Î±</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\beta&#x27;=min(self.\beta,N_1.\alpha,...,N_i.\alpha)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span></span></span></span></p><p>â–²æ›´æ–°åå‘ç°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>e</mi><mi>l</mi><mi>f</mi><mi mathvariant="normal">.</mi><msup><mi>Î²</mi><mo mathvariant="normal">â€²</mo></msup><mo>&lt;</mo><mi>s</mi><mi>e</mi><mi>l</mi><mi>f</mi><mi mathvariant="normal">.</mi><mi>Î±</mi></mrow><annotation encoding="application/x-tex">self.\beta&#x27;&lt;self.\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span></span></span></span>åˆ™å‰ªæï¼Œä¸å†æœç´¢</p></li></ul><p>â–³å…¶ä¸­Nä¸ºå­èŠ‚ç‚¹; self.Î±è¡¨ç¤ºå½“å‰èŠ‚ç‚¹å·²æ›´æ–°çš„Î±å€¼</p><h4 id="ä¼ªä»£ç "><a class="markdownIt-Anchor" href="#ä¼ªä»£ç "></a> ä¼ªä»£ç </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function alphabeta(node, depth, Î±, Î², Player)</span><br><span class="line">    //è¾¾åˆ°æœ€æ·±æœç´¢æ·±åº¦æˆ–èƒœè´Ÿå·²åˆ†         </span><br><span class="line">    if  depth = 0 or node is a terminal node</span><br><span class="line">        return the heuristic value of node</span><br><span class="line">    if  Player = MaxPlayer // æå¤§èŠ‚ç‚¹</span><br><span class="line">        for each child of node // å­èŠ‚ç‚¹æ˜¯æå°èŠ‚ç‚¹</span><br><span class="line">            Î± := max(Î±, alphabeta(child, depth-1, Î±, Î², not(Player) ))   </span><br><span class="line">            if Î² â‰¤ Î± </span><br><span class="line">            // è¯¥æå¤§èŠ‚ç‚¹çš„å€¼&gt;=Î±&gt;=Î²ï¼Œè¯¥æå¤§èŠ‚ç‚¹åé¢çš„æœç´¢åˆ°çš„å€¼è‚¯å®šä¼šå¤§äºÎ²ï¼Œå› æ­¤ä¸ä¼šè¢«å…¶ä¸Šå±‚çš„æå°èŠ‚ç‚¹æ‰€é€‰ç”¨äº†ã€‚å¯¹äºæ ¹èŠ‚ç‚¹ï¼ŒÎ²ä¸ºæ­£æ— ç©·</span><br><span class="line">                 break //betaå‰ªæ                        </span><br><span class="line">        return Î±</span><br><span class="line">    else // æå°èŠ‚ç‚¹</span><br><span class="line">        for each child of node //å­èŠ‚ç‚¹æ˜¯æå¤§èŠ‚ç‚¹</span><br><span class="line">            Î² := min(Î², alphabeta(child, depth-1, Î±, Î², not(Player) )) // æå°èŠ‚ç‚¹</span><br><span class="line">            if Î² â‰¤ Î± // è¯¥æå¤§èŠ‚ç‚¹çš„å€¼&lt;=Î²&lt;=Î±ï¼Œè¯¥æå°èŠ‚ç‚¹åé¢çš„æœç´¢åˆ°çš„å€¼è‚¯å®šä¼šå°äºÎ±ï¼Œå› æ­¤ä¸ä¼šè¢«å…¶ä¸Šå±‚çš„æå¤§èŠ‚ç‚¹æ‰€é€‰ç”¨äº†ã€‚å¯¹äºæ ¹èŠ‚ç‚¹ï¼ŒÎ±ä¸ºè´Ÿæ— ç©·</span><br><span class="line">                break //alphaå‰ªæ</span><br><span class="line">        return Î²</span><br></pre></td></tr></table></figure><h2 id="2048aiä»‹ç»"><a class="markdownIt-Anchor" href="#2048aiä»‹ç»"></a> 2048AIä»‹ç»</h2><p>æ¸¸æˆè§„åˆ™:</p><p>2048æ¸¸æˆå…±æœ‰16ä¸ªæ ¼å­ï¼Œåˆå§‹æ—¶åˆå§‹æ•°å­—ç”±2æˆ–è€…4æ„æˆï¼Œä¹‹åæ¯æ¬¡ç§»åŠ¨ç”Ÿæˆ2çš„æ¦‚ç‡ä¸º0.9ï¼Œç”Ÿæˆ4çš„æ¦‚ç‡ä¸º0.1ï¼Œè§<a href="#2048%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90%E6%96%B0%E6%95%B0%E5%AD%97%E6%BA%90%E7%A0%81">2048éšæœºç”Ÿæˆæ–°æ•°å­—æºç </a>ã€‚</p><blockquote><p>1ã€æ‰‹æŒ‡å‘ä¸€ä¸ªæ–¹å‘æ»‘åŠ¨ï¼Œæ‰€æœ‰æ ¼å­ä¼šå‘é‚£ä¸ªæ–¹å‘è¿åŠ¨ã€‚<br>2ã€ç›¸åŒæ•°å­—çš„ä¸¤ä¸ªæ ¼å­ï¼Œç›¸æ’æ—¶æ•°å­—ä¼šç›¸åŠ ã€‚<br>3ã€æ¯æ¬¡æ»‘åŠ¨æ—¶ï¼Œç©ºç™½å¤„ä¼šéšæœºåˆ·æ–°å‡ºä¸€ä¸ªæ•°å­—çš„æ ¼å­ã€‚<br>4ã€å½“ç•Œé¢ä¸å¯è¿åŠ¨æ—¶ï¼ˆå½“ç•Œé¢å…¨éƒ¨è¢«æ•°å­—å¡«æ»¡æ—¶ï¼‰ï¼Œæ¸¸æˆç»“æŸï¼›å½“ç•Œé¢ä¸­æœ€å¤§æ•°å­—æ˜¯2048æ—¶ï¼Œæ¸¸æˆèƒœåˆ©ã€‚</p></blockquote><h3 id="å»ºæ¨¡"><a class="markdownIt-Anchor" href="#å»ºæ¨¡"></a> <em><strong>å»ºæ¨¡:</strong></em></h3><p>ä¹‹å‰çš„å¯¹å¼ˆç±»æ¸¸æˆ, åšå¼ˆåŒæ–¹çš„åœ°ä½éƒ½æ˜¯å¯¹ç­‰çš„. ä½†è¿™è¾¹åªæœ‰æ¸¸æˆè€…ä¸€äºº, å¯¹æ‰‹åœ¨å“ªé‡Œ?<br>ã€€ã€€è®©äººè„‘æ´å¤§å¼€çš„æ˜¯, 2048æ¸¸æˆAIçš„è®¾è®¡è€…, åˆ›é€ æ€§æŠŠ<strong>æ£‹å±€ç¯å¢ƒæœ¬èº«åšä¸ºäº†åšå¼ˆçš„å¦ä¸€æ–¹</strong>.<br>ã€€ã€€å½“ç„¶åŒæ–¹è¿½æ±‚çš„èƒœåˆ©ç›®æ ‡ä¸ä¸€æ ·:<br>ã€€ã€€â€¢ æˆ‘æ–¹ï¼š<strong>æ¸¸æˆè€…(AI)ï¼Œ è¿½æ±‚2048åŠ2048ä»¥ä¸Šçš„æ–¹å—å‡ºç°</strong><br>ã€€ã€€â€¢ å¯¹æ–¹ï¼š<strong>è®¡ç®—æœº(æ£‹å±€ç¯å¢ƒ)ï¼Œ å¡«æ»¡æ£‹å±€æ ¼å­, ä½¿å¾—4ä¸ªæ–¹å‘çš†ä¸èƒ½ç§»åŠ¨</strong><br>â€¢ èƒœåˆ©æ¡ä»¶ï¼šå‡ºç°æŸä¸ªæ–¹å—çš„æ•°å€¼ä¸ºâ€œ2048â€ã€‚<br>â€¢å¤±è´¥æ¡ä»¶ï¼šæ ¼å­å…¨æ»¡ï¼Œä¸”æ— æ³•å‘å››ä¸ªæ–¹å‘ä¸­ä»»ä½•ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼ˆå‡ä¸èƒ½è§¦å‘åˆå¹¶ï¼‰ã€‚<br>ã€€ã€€â–².æ¸¸æˆæ¨¡å‹å°±è¢«å»ºæ¨¡æˆäº†ä¿¡æ¯å®Œå¤‡çš„åŒäººå¯¹å¼ˆé—®é¢˜. è€Œä¼ ç»Ÿåšå¼ˆæ ‘å’ŒæŠ€å·§å°±è‡ªç„¶æœ‰äº†ç”¨æ­¦ä¹‹åœ°.</p><h3 id="è¯„ä¼°å‡½æ•°"><a class="markdownIt-Anchor" href="#è¯„ä¼°å‡½æ•°"></a> <em><strong>è¯„ä¼°å‡½æ•°:</strong></em></h3><blockquote><p><strong>è¯„ä¼°å‡½æ•°</strong>æ˜¯ç®—æ³•çš„æ ¸å¿ƒï¼Œå¦‚ä½•è¯„ä»·å½“å‰æ ¼å±€çš„ä»·å€¼æ˜¯é‡ä¸­ä¹‹é‡ã€‚ä¾æ®æ¸¸æˆç»éªŒ, ä½œè€…é€‰ç”¨äº†å¦‚ä¸‹è¯„ä¼°å› ç´ :<br>ã€€ã€€(1) <strong>å•è°ƒæ€§</strong>: æŒ‡æ–¹å—ä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹å‡éµä»é€’å¢æˆ–é€’å‡.<br>ã€€ã€€(2) <strong>å¹³æ»‘æ€§</strong>: æŒ‡æ¯ä¸ªæ–¹å—ä¸å…¶ç›´æ¥ç›¸é‚»æ–¹å—æ•°å€¼çš„å·®ï¼Œå…¶ä¸­å·®è¶Šå°è¶Šå¹³æ»‘.<br>ã€€ã€€(3) <strong>ç©ºæ ¼æ•°</strong>: å±€é¢çš„ç©ºæ ¼æ€»æ•°.<br>ã€€ã€€(4) <strong>æœ€å¤§æ•°</strong>: å½“å‰å±€é¢çš„æœ€å¤§æ•°å­—, è¯¥ç‰¹å¾ä¸ºç§¯æå› å­.</p></blockquote><p>é‡‡ç”¨çº¿æ€§å‡½æ•°, å¹¶æ·»åŠ æƒé‡ç³»æ•°:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// static evaluation function</span></span><br><span class="line">AI.prototype.eval = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> emptyCells = <span class="keyword">this</span>.grid.availableCells().length;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">var</span> smoothWeight = <span class="number">0.1</span>,</span><br><span class="line">      <span class="comment">//monoWeight   = 0.0,</span></span><br><span class="line">      <span class="comment">//islandWeight = 0.0,</span></span><br><span class="line">      mono2Weight  = <span class="number">1.0</span>,</span><br><span class="line">      emptyWeight  = <span class="number">2.7</span>,</span><br><span class="line">      maxWeight    = <span class="number">1.0</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.grid.smoothness() * smoothWeight</span><br><span class="line">       <span class="comment">//+ this.grid.monotonicity() * monoWeight</span></span><br><span class="line">       <span class="comment">//- this.grid.islands() * islandWeight</span></span><br><span class="line">       + <span class="keyword">this</span>.grid.monotonicity2() * mono2Weight</span><br><span class="line">       + <span class="built_in">Math</span>.log(emptyCells) * emptyWeight</span><br><span class="line">       + <span class="keyword">this</span>.grid.maxValue() * maxWeight;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åˆ†æï¼š<strong>å‰3é¡¹èƒ½è¡¡é‡ä¸€ä¸ªå±€é¢çš„å¥½å</strong>, è€Œ<strong>æœ€å¤§æ•°è¯¥é¡¹, åˆ™è®©æ¸¸æˆAIå¤šäº†ä¸€ç‚¹ç§¯æå’Œ&quot;å†’é™©&quot;</strong></p><h3 id="æ‰§è¡Œè¿‡ç¨‹-2"><a class="markdownIt-Anchor" href="#æ‰§è¡Œè¿‡ç¨‹-2"></a> æ‰§è¡Œè¿‡ç¨‹</h3><p>æ¸¸æˆAIçš„å†³ç­–è¿‡ç¨‹, æ˜¯æ ‡å‡†çš„maxmin searchå’Œalpha+beta pruningçš„å®ç°. æ‰€æœ‰çš„æ–¹å‘(ä¸Šä¸‹å·¦å³)éƒ½ä¼šå»å°è¯•.</p><h4 id="alphabeta-pruning-worst-consideration-pruning"><a class="markdownIt-Anchor" href="#alphabeta-pruning-worst-consideration-pruning"></a> Alpha+beta pruning + worst consideration pruning</h4><p>ç„¶è€Œåœ¨æ¸¸æˆæœ¬èº«åšå†³ç­–æ—¶, åœ¨MinèŠ‚ç‚¹è¿˜é‡‡ç”¨äº†å¦ä¸€ç§å‰ªæï¼Œå³åªè€ƒè™‘å¯¹æ–¹èµ°å‡ºè®©æ ¼å±€æœ€å·®çš„é‚£ä¸€æ­¥ï¼ˆè€Œå®é™…2048ä¸­è®¡ç®—æœºçš„é€‰æ‹©æ˜¯éšæœºçš„ï¼‰ï¼Œåšä¸ºæœç´¢åˆ†æ”¯çš„å‰ªææ¡ä»¶ï¼Œå³ä¸æ˜¯æ¯ä¸ªç©ºæ ¼éƒ½å»å°è¯•å¡«{2, 4}ã€‚</p><p>è¿™ç§å‡å®š<strong>ç¯å¢ƒç”Ÿæˆäº†æœ€åçš„å±€é¢</strong>çš„å‰ªæåšæ³•ï¼Œå¯ä»¥å¾ˆå¥½åœ°æé«˜æœç´¢æ•ˆç‡ï¼Œå¹¶ä¸”è·å¾—æ›´å¼ºçš„ç”Ÿå­˜èƒ½åŠ›ã€‚å¦‚æœå…¨éƒ¨æœç´¢çš„è¯ï¼Œå¯¹æ–¹æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©å°±ä¸ºå˜æˆäº†â€œç©ºæ ¼æ•°Ã—2â€ç§ï¼Œä½¿å¾—æœç´¢æ•ˆç‡å¾ˆä½ï¼Œä¸¥é‡é™åˆ¶æœç´¢æ·±åº¦ã€‚è€Œè¿™ç§é€‰æ‹©æ€§åœ°ä¸¢æ‰äº†å¾ˆå¤šæœç´¢åˆ†æ”¯ï¼Œèƒ½å¤Ÿå¤§å¤§åœ°æé«˜æœç´¢æ•ˆç‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try a 2 and 4 in each cell and measure how annoying it is</span></span><br><span class="line"><span class="comment">// with metrics from eval</span></span><br><span class="line"><span class="keyword">var</span> candidates = [];</span><br><span class="line"><span class="keyword">var</span> cells = <span class="keyword">this</span>.grid.availableCells();</span><br><span class="line"><span class="keyword">var</span> scores = &#123; <span class="number">2</span>: [], <span class="number">4</span>: [] &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> value <span class="keyword">in</span> scores) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> cells) &#123;</span><br><span class="line">    scores[value].push(<span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">var</span> cell = cells[i];</span><br><span class="line">    <span class="keyword">var</span> tile = <span class="keyword">new</span> Tile(cell, <span class="built_in">parseInt</span>(value, <span class="number">10</span>));</span><br><span class="line">    <span class="keyword">this</span>.grid.insertTile(tile);</span><br><span class="line">    scores[value][i] = -<span class="keyword">this</span>.grid.smoothness() + <span class="keyword">this</span>.grid.islands();</span><br><span class="line">    <span class="keyword">this</span>.grid.removeTile(cell);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// now just pick out the most annoying moves</span></span><br><span class="line"><span class="keyword">var</span> maxScore = <span class="built_in">Math</span>.max(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, scores[<span class="number">2</span>]), <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, scores[<span class="number">4</span>]));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> value <span class="keyword">in</span> scores) &#123; <span class="comment">// 2 and 4</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;scores[value].length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (scores[value][i] == maxScore) &#123;</span><br><span class="line">      candidates.push( &#123; <span class="attr">position</span>: cells[i], <span class="attr">value</span>: <span class="built_in">parseInt</span>(value, <span class="number">10</span>) &#125; );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ†æï¼šå¯¹äº<strong>é€‰æ‹©æ€§å¿½ç•¥æœç´¢èŠ‚ç‚¹</strong>, å…¶å®å¾ˆæœ‰äº‰è®®. åœ¨æŸäº›æƒ…å†µä¸‹, ä¼šå¤±å»è·å–æœ€ä¼˜è§£çš„æœºä¼š. ä¸è¿‡ç æ‰äº†å¾ˆå¤šåˆ†æ”¯å, å…¶æœç´¢æ·±åº¦å¤§å¤§åŠ å¼º. <strong>ç”Ÿå­˜èƒ½åŠ›æ›´å¼ºå¤§</strong>.</p><h3 id="é™æ—¶çš„è¿­ä»£æ·±æœ"><a class="markdownIt-Anchor" href="#é™æ—¶çš„è¿­ä»£æ·±æœ"></a> é™æ—¶çš„è¿­ä»£æ·±æœ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// performs iterative deepening over the alpha-beta search</span></span><br><span class="line">AI.prototype.iterativeDeep = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> start = (<span class="keyword">new</span> <span class="built_in">Date</span>()).getTime();</span><br><span class="line">  <span class="keyword">var</span> depth = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> best;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> newBest = <span class="keyword">this</span>.search(depth, <span class="number">-10000</span>, <span class="number">10000</span>, <span class="number">0</span> ,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (newBest.move == <span class="number">-1</span>) &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      best = newBest;</span><br><span class="line">    &#125;</span><br><span class="line">    depth++;</span><br><span class="line">  &#125; <span class="keyword">while</span> ( (<span class="keyword">new</span> <span class="built_in">Date</span>()).getTime() - start &lt; minSearchTime);</span><br><span class="line">  <span class="keyword">return</span> best</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥ä»£ç æ²¡æœ‰é™åˆ¶æœç´¢çš„æ·±åº¦ï¼Œä½†æ˜¯é™åˆ¶äº†æ¯æ¬¡â€œæ€è€ƒâ€çš„æ—¶é—´ï¼š<strong>è¶…æ—¶åˆ¤æ–­åœ¨æ¯ä¸ªæ·±åº¦æ¢ç´¢ç»“æŸåè¿›è¡Œ</strong>, è¿™<strong>æœªå¿…ä¼šç²¾ç¡®, ç”šè‡³è¯¯å·®å¾ˆå¤§</strong>. æˆ‘è¿˜æ˜¯<strong>æ¨å´‡å‰æ–‡è°ˆåˆ°è¿‡çš„å®ç°æ–¹å¼</strong>.ä½†ä¸ç®¡æ€æ ·, ä½œè€…åŸºæœ¬è¾¾åˆ°äº†å…¶æ¯100mså†³ç­–ä¸€æ­¥çš„è¦æ±‚.</p><h3 id="pythonå®ç°æ ¸å¿ƒä»£ç "><a class="markdownIt-Anchor" href="#pythonå®ç°æ ¸å¿ƒä»£ç "></a> Pythonå®ç°æ ¸å¿ƒä»£ç :</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é™„å½•"><a class="markdownIt-Anchor" href="#é™„å½•"></a> é™„å½•</h2><h3 id="æå¤§æå°ç®—æ³•æœ‰äº›ä¸æ˜ç™½"><a class="markdownIt-Anchor" href="#æå¤§æå°ç®—æ³•æœ‰äº›ä¸æ˜ç™½"></a> æå¤§æå°ç®—æ³•æœ‰äº›ä¸æ˜ç™½ ?</h3><p>æå°æå¤§ç®—æ³•ä¸»è¦åº”ç”¨äºä»€ä¹ˆæ ·çš„æ¸¸æˆï¼š</p><ul><li>é›¶å’Œæ¸¸æˆï¼ˆZero-sum Gameï¼‰</li><li>å®Œå…¨ä¿¡æ¯ï¼ˆPerfect Informationï¼‰â€”â€”Maxä»£è¡¨ä½ è‡ªå·±ï¼ŒMinä»£è¡¨ä½ çš„å¯¹æ‰‹</li></ul><h3 id="å¯¹å¼ˆç±»æ¸¸æˆçš„äººå·¥æ™ºèƒ½52048æ¸¸æˆaiçš„è§£è¯»"><a class="markdownIt-Anchor" href="#å¯¹å¼ˆç±»æ¸¸æˆçš„äººå·¥æ™ºèƒ½52048æ¸¸æˆaiçš„è§£è¯»"></a> <a href="https://www.cnblogs.com/mumuxinfei/p/4415352.html" target="_blank" rel="noopener">å¯¹å¼ˆç±»æ¸¸æˆçš„äººå·¥æ™ºèƒ½(5)â€“2048æ¸¸æˆAIçš„è§£è¯»</a></h3><ul><li><strong>æŠŠç¯å¢ƒæ‹ŸäººåŒ–çš„å¯¹å¼ˆæ¨¡å‹, ä¹Ÿæ˜¯é¢å¯¹åé¦ˆç±»åœºæ™¯çš„ä¸€ç§å¾ˆå¥½çš„è¯„ä¼°å†³ç­–æ€è·¯.</strong></li></ul><h3 id="2048-aiç¨‹åºç®—æ³•åˆ†æ"><a class="markdownIt-Anchor" href="#2048-aiç¨‹åºç®—æ³•åˆ†æ"></a> <a href="http://blog.codinglabs.org/articles/2048-ai-analysis.html" target="_blank" rel="noopener">2048-AIç¨‹åºç®—æ³•åˆ†æ</a>â€”â€”Javaå®ç°</h3><h3 id="ä¸€å›¾æµè§£é‡Š-alpha-beta-å‰ªæalpha-beta-pruning"><a class="markdownIt-Anchor" href="#ä¸€å›¾æµè§£é‡Š-alpha-beta-å‰ªæalpha-beta-pruning"></a> <a href="https://www.7forz.com/3211/" target="_blank" rel="noopener">ä¸€å›¾æµè§£é‡Š Alpha-Beta å‰ªæ(Alpha-Beta Pruning)</a></h3><h3 id="2048é«˜åˆ†æŠ€å·§"><a class="markdownIt-Anchor" href="#2048é«˜åˆ†æŠ€å·§"></a> <strong>2048é«˜åˆ†æŠ€å·§</strong></h3><p>1ã€æœ€å¤§æ•°å°½å¯èƒ½æ”¾åœ¨è§’è½ã€‚<br>2ã€æ•°å­—æŒ‰é¡ºåºç´§é‚»æ’åˆ—ã€‚<br>3ã€é¦–å…ˆæ»¡è¶³æœ€å¤§æ•°å’Œæ¬¡å¤§æ•°åœ¨çš„é‚£ä¸€åˆ—/è¡Œæ˜¯æ»¡çš„ã€‚<br>4ã€æ—¶åˆ»æ³¨æ„æ´»åŠ¨è¾ƒå¤§æ•°ï¼ˆ32ä»¥ä¸Šï¼‰æ—è¾¹è¦æœ‰ç›¸è¿‘çš„æ•°ã€‚<br>5ã€ä»¥å¤§æ•°æ‰€åœ¨çš„ä¸€è¡Œä¸ºä¸»è¦ç§»åŠ¨æ–¹å‘<br>6ã€ä¸è¦æ€¥äºâ€œæ¸…ç†æ¡Œé¢â€ã€‚</p><h3 id="2048éšæœºç”Ÿæˆæ–°æ•°å­—æºç "><a class="markdownIt-Anchor" href="#2048éšæœºç”Ÿæˆæ–°æ•°å­—æºç "></a> 2048éšæœºç”Ÿæˆæ–°æ•°å­—æºç </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Adds a tile in a random position</span></span><br><span class="line">Grid.prototype.addRandomTile = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.cellsAvailable()) &#123;</span><br><span class="line">    <span class="keyword">var</span> value = <span class="built_in">Math</span>.random() &lt; <span class="number">0.9</span> ? <span class="number">2</span> : <span class="number">4</span>;</span><br><span class="line">    <span class="comment">//var value = Math.random() &lt; 0.9 ? 256 : 512;</span></span><br><span class="line">    <span class="keyword">var</span> tile = <span class="keyword">new</span> Tile(<span class="keyword">this</span>.randomAvailableCell(), value);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.insertTile(tile);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>â–²éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ2çš„å‡ ç‡æ˜¯0.9ï¼Œ4çš„å‡ ç‡æ˜¯0.1ï¼Œä½†æ˜¯é™¤äº†å¼€å±€ä¼šéšæœºå‡ºç°1æˆ–è€…2ä¸ªæ–¹å—ï¼Œè€Œåœ¨æ­£å¸¸æ¸¸æˆä¸­æ¯æ¬¡ç§»åŠ¨ååªå‡ºç°ä¸€ä¸ªéšæœºæ–¹å—ã€‚â€”â€”æˆ‘å½“æ—¶è‡ªå·±å†™çš„æ˜¯éšæœº1-2ä¸ªï¼Œå¯¼è‡´æˆ‘çš„åˆ†æ•°æŒºä½çš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;minmax-æå°æå¤§ç®—æ³•2048&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#minmax-æå°æå¤§ç®—æ³•2048&quot;&gt;&lt;/a&gt; MinMax-æå°æå¤§ç®—æ³•â€”â€”2048&lt;/h1&gt;
&lt;h2 id=&quot;ç®—æ³•ä»‹ç»&quot;&gt;&lt;a class=&quot;mark
      
    
    </summary>
    
    
      <category term="Algorithm" scheme="https://nymrli.top/tags/Algorithm/"/>
    
      <category term="RL" scheme="https://nymrli.top/tags/RL/"/>
    
  </entry>
  
  <entry>
    <title>MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ[è½¬]</title>
    <link href="https://nymrli.top/2019/11/26/MinMax%E5%92%8CAlpha-beta%E5%89%AA%E6%9E%9D%E5%88%86%E6%9E%90-%E8%BD%AC/"/>
    <id>https://nymrli.top/2019/11/26/MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ-è½¬/</id>
    <published>2019-11-26T07:45:45.000Z</published>
    <updated>2019-11-26T07:46:23.931Z</updated>
    
    <content type="html"><![CDATA[<h1 id="minmaxå’Œalpha-betaå‰ªæåˆ†æè½¬"><a class="markdownIt-Anchor" href="#minmaxå’Œalpha-betaå‰ªæåˆ†æè½¬"></a> MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ<a href="http://blog.codinglabs.org/articles/2048-ai-analysis.html" target="_blank" rel="noopener">[è½¬]</a></h1><ul><li>ä¸€èˆ¬è§£å†³<strong>åšå¼ˆç±»é—®é¢˜</strong>çš„è‡ªç„¶æƒ³æ³•æ˜¯å°†æ ¼å±€ç»„ç»‡æˆä¸€æ£µï¼‰ï¼Œæ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ç§æ ¼å±€ï¼Œè€Œçˆ¶å­å…³ç³»è¡¨ç¤ºç”±çˆ¶æ ¼å±€ç»è¿‡ä¸€æ­¥å¯ä»¥åˆ°è¾¾å­æ ¼å±€ã€‚Minimaxä¹Ÿä¸ä¾‹å¤–ï¼Œå®ƒé€šè¿‡å¯¹ä»¥å½“å‰æ ¼å±€ä¸ºæ ¹çš„æ ¼å±€æ ‘æœç´¢æ¥ç¡®å®šä¸‹ä¸€æ­¥çš„é€‰æ‹©ã€‚è€Œä¸€åˆ‡æ ¼å±€æ ‘æœç´¢ç®—æ³•çš„æ ¸å¿ƒéƒ½æ˜¯<strong>å¯¹æ¯ä¸ªæ ¼å±€ä»·å€¼çš„è¯„ä»·</strong>ã€‚Minimaxç®—æ³•åŸºäºä»¥ä¸‹æœ´ç´ æ€æƒ³ç¡®å®šæ ¼å±€ä»·å€¼ï¼š<ul><li>Minimaxæ˜¯ä¸€ç§<strong>æ‚²è§‚ç®—æ³•</strong>ï¼Œå³å‡è®¾å¯¹æ‰‹æ¯ä¸€æ­¥éƒ½ä¼šå°†æˆ‘æ–¹å¼•å…¥ä»å½“å‰çœ‹ç†è®ºä¸Šä»·å€¼æœ€å°çš„æ ¼å±€æ–¹å‘ï¼Œå³<strong>å¯¹æ‰‹å…·æœ‰å®Œç¾å†³ç­–èƒ½åŠ›</strong>ã€‚å› æ­¤æˆ‘æ–¹çš„ç­–ç•¥åº”è¯¥æ˜¯é€‰æ‹©é‚£äº›å¯¹æ–¹æ‰€èƒ½è¾¾åˆ°çš„è®©æˆ‘æ–¹æœ€å·®æƒ…å†µä¸­æœ€å¥½çš„ï¼Œä¹Ÿå°±æ˜¯è®©<u>å¯¹æ–¹åœ¨å®Œç¾å†³ç­–</u>ä¸‹æ‰€<u>å¯¹æˆ‘é€ æˆçš„æŸå¤±æœ€å°</u>ã€‚</li><li>Minimax<strong>ä¸</strong>æ‰¾<strong>ç†è®ºæœ€ä¼˜è§£</strong>ï¼Œå› ä¸ºç†è®ºæœ€ä¼˜è§£å¾€å¾€ä¾èµ–äºå¯¹æ‰‹æ˜¯å¦è¶³å¤Ÿæ„šè ¢ï¼ŒMinimaxä¸­æˆ‘æ–¹å®Œå…¨æŒæ¡ä¸»åŠ¨ï¼Œå¦‚æœå¯¹æ–¹æ¯ä¸€æ­¥å†³ç­–éƒ½æ˜¯å®Œç¾çš„ï¼Œåˆ™æˆ‘æ–¹å¯ä»¥è¾¾åˆ°é¢„è®¡çš„æœ€å°æŸå¤±æ ¼å±€ï¼Œå¦‚æœå¯¹æ–¹æ²¡æœ‰èµ°å‡ºå®Œç¾å†³ç­–ï¼Œåˆ™æˆ‘æ–¹å¯èƒ½è¾¾åˆ°æ¯”é¢„è®¡çš„æœ€æ‚²è§‚æƒ…å†µæ›´å¥½çš„ç»“å±€ã€‚æ€»ä¹‹æˆ‘æ–¹å°±æ˜¯è¦åœ¨<u>æœ€åæƒ…å†µä¸­é€‰æ‹©æœ€å¥½çš„</u>ã€‚</li></ul></li></ul><h2 id="å®é™…ä¸¾ä¾‹"><a class="markdownIt-Anchor" href="#å®é™…ä¸¾ä¾‹"></a> å®é™…ä¸¾ä¾‹:</h2><p>ç°åœ¨è€ƒè™‘è¿™æ ·ä¸€ä¸ªæ¸¸æˆï¼šæœ‰ä¸‰ä¸ªç›˜å­Aã€Bå’ŒCï¼Œæ¯ä¸ªç›˜å­åˆ†åˆ«æ”¾æœ‰ä¸‰å¼ çº¸å¸ã€‚Aæ”¾çš„æ˜¯1ã€20ã€50ï¼›Bæ”¾çš„æ˜¯5ã€10ã€100ï¼›Cæ”¾çš„æ˜¯1ã€5ã€20ã€‚å•ä½å‡ä¸ºâ€œå…ƒâ€ã€‚æœ‰ç”²ã€ä¹™ä¸¤äººï¼Œä¸¤äººå‡å¯¹ä¸‰ä¸ªç›˜å­å’Œä¸Šé¢æ”¾ç½®çš„çº¸å¸æœ‰å¯ä»¥ä»»æ„æŸ¥çœ‹ã€‚æ¸¸æˆåˆ†ä¸‰æ­¥ï¼š</p><ol><li>ç”²ä»ä¸‰ä¸ªç›˜å­ä¸­é€‰å–ä¸€ä¸ªã€‚</li><li>ä¹™ä»ç”²é€‰å–çš„ç›˜å­ä¸­æ‹¿å‡ºä¸¤å¼ çº¸å¸äº¤ç»™ç”²ã€‚</li><li>ç”²ä»ä¹™æ‰€ç»™çš„ä¸¤å¼ çº¸å¸ä¸­é€‰å–ä¸€å¼ ï¼Œæ‹¿èµ°ã€‚</li></ol><p>å…¶ä¸­ç”²çš„ç›®æ ‡æ˜¯æœ€åæ‹¿åˆ°çš„çº¸å¸é¢å€¼å°½é‡å¤§ï¼Œä¹™çš„ç›®æ ‡æ˜¯è®©ç”²æœ€åæ‹¿åˆ°çš„çº¸å¸é¢å€¼å°½é‡å°ã€‚</p><p>ä¸‹é¢ç”¨Minimaxç®—æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h2 id="è§£é¢˜"><a class="markdownIt-Anchor" href="#è§£é¢˜"></a> è§£é¢˜ï¼š</h2><h3 id="å»ºæ ‘"><a class="markdownIt-Anchor" href="#å»ºæ ‘"></a> å»ºæ ‘</h3><p>ä¸‹å›¾æ˜¯ä¸Šè¿°ç¤ºä¾‹é—®é¢˜çš„æ ¼å±€æ ‘ï¼š</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/01.png" alt="img"></p><p>æ³¨æ„ï¼Œç”±äºç¤ºä¾‹é—®é¢˜æ ¼å±€æ•°éå¸¸å°‘ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºå®Œæ•´çš„æ ¼å±€æ ‘ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘å¯ä»¥æ‰¾åˆ°Minimaxç®—æ³•çš„å…¨å±€æœ€ä¼˜è§£ã€‚è€Œ<u>çœŸå®æƒ…å†µä¸­ï¼Œæ ¼å±€æ ‘éå¸¸åºå¤§ï¼Œå³ä½¿æ˜¯è®¡ç®—æœºä¹Ÿä¸å¯èƒ½ç»™å‡ºå®Œæ•´çš„æ ‘</u>ï¼Œå› æ­¤æˆ‘ä»¬å¾€å¾€<u>åªæœç´¢ä¸€å®šæ·±åº¦</u>ï¼Œè¿™æ—¶åªèƒ½æ‰¾åˆ°<u>å±€éƒ¨æœ€ä¼˜è§£</u>ã€‚</p><p>æˆ‘ä»¬ä»ç”²çš„è§’åº¦è€ƒè™‘ã€‚å…¶ä¸­æ­£æ–¹å½¢èŠ‚ç‚¹è¡¨ç¤ºè½®åˆ°æˆ‘æ–¹ï¼ˆç”²ï¼‰ï¼Œè€Œä¸‰è§’å½¢è¡¨ç¤ºè½®åˆ°å¯¹æ–¹ï¼ˆä¹™ï¼‰ã€‚ç»è¿‡ä¸‰è½®å¯¹å¼ˆåï¼ˆæˆ‘æ–¹-å¯¹æ–¹-æˆ‘æ–¹ï¼‰ï¼Œå°†è¿›å…¥ç»ˆå±€ã€‚é»„è‰²å¶ç»“ç‚¹è¡¨ç¤ºæ‰€æœ‰å¯èƒ½çš„ç»“å±€ã€‚ä»ç”²æ–¹çœ‹ï¼Œç”±äºæœ€ç»ˆçš„æ”¶ç›Šå¯ä»¥é€šè¿‡çº¸å¸çš„é¢å€¼è¯„ä»·ï¼Œæˆ‘ä»¬è‡ªç„¶å¯ä»¥ç”¨ç»“å±€ä¸­ç”²æ–¹æ‹¿åˆ°çš„çº¸å¸é¢å€¼è¡¨ç¤ºç»ˆæ ¼å±€çš„ä»·å€¼ã€‚</p><p>ä¸‹é¢è€ƒè™‘å€’æ•°ç¬¬äºŒå±‚èŠ‚ç‚¹ï¼Œåœ¨è¿™äº›èŠ‚ç‚¹ä¸Šï¼Œè½®åˆ°æˆ‘æ–¹é€‰æ‹©ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥å¼•å…¥å¯é€‰æ‹©çš„æœ€å¤§ä»·å€¼æ ¼å±€ï¼Œå› æ­¤æ¯ä¸ªèŠ‚ç‚¹çš„ä»·å€¼ä¸ºå…¶å­èŠ‚ç‚¹çš„æœ€å¤§å€¼ï¼š</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/02.png" alt="img"></p><p>è¿™äº›è½®åˆ°æˆ‘æ–¹çš„èŠ‚ç‚¹å«åšmaxèŠ‚ç‚¹ï¼ŒmaxèŠ‚ç‚¹çš„å€¼æ˜¯å…¶å­èŠ‚ç‚¹æœ€å¤§å€¼ã€‚</p><p>å€’æ•°ç¬¬ä¸‰å±‚è½®åˆ°å¯¹æ–¹é€‰æ‹©ï¼Œå‡è®¾å¯¹æ–¹ä¼šå°½åŠ›å°†å±€åŠ¿å¼•å…¥è®©æˆ‘æ–¹ä»·å€¼æœ€å°çš„æ ¼å±€ï¼Œå› æ­¤è¿™äº›èŠ‚ç‚¹çš„ä»·å€¼å–å†³äºå­èŠ‚ç‚¹çš„æœ€å°å€¼ã€‚è¿™äº›è½®åˆ°å¯¹æ–¹çš„èŠ‚ç‚¹å«åšminèŠ‚ç‚¹ã€‚</p><p>æœ€åï¼Œæ ¹èŠ‚ç‚¹æ˜¯maxèŠ‚ç‚¹ï¼Œå› æ­¤ä»·å€¼å–å†³äºå¶å­èŠ‚ç‚¹çš„æœ€å¤§å€¼ã€‚æœ€ç»ˆå®Œæ•´èµ‹å€¼çš„æ ¼å±€æ ‘å¦‚ä¸‹ï¼š</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/03.png" alt="img"></p><p>æ€»ç»“ä¸€ä¸‹Minimaxç®—æ³•çš„æ­¥éª¤ï¼š</p><ol><li>é¦–å…ˆç¡®å®šæœ€å¤§æœç´¢æ·±åº¦Dï¼ŒDå¯èƒ½è¾¾åˆ°ç»ˆå±€ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªä¸­é—´æ ¼å±€ã€‚</li><li>åœ¨æœ€å¤§æ·±åº¦ä¸ºDçš„æ ¼å±€æ ‘å¶å­èŠ‚ç‚¹ä¸Šï¼Œä½¿ç”¨é¢„å®šä¹‰çš„ä»·å€¼è¯„ä»·å‡½æ•°å¯¹å¶å­èŠ‚ç‚¹ä»·å€¼è¿›è¡Œè¯„ä»·ã€‚</li><li>è‡ªåº•å‘ä¸Šä¸ºéå¶å­èŠ‚ç‚¹èµ‹å€¼ã€‚å…¶ä¸­maxèŠ‚ç‚¹å–å­èŠ‚ç‚¹æœ€å¤§å€¼ï¼ŒminèŠ‚ç‚¹å–å­èŠ‚ç‚¹æœ€å°å€¼ã€‚</li><li>æ¯æ¬¡è½®åˆ°æˆ‘æ–¹æ—¶ï¼ˆæ­¤æ—¶å¿…å¤„åœ¨æ ¼å±€æ ‘çš„æŸä¸ªmaxèŠ‚ç‚¹ï¼‰ï¼Œé€‰æ‹©ä»·å€¼ç­‰äºæ­¤maxèŠ‚ç‚¹ä»·å€¼çš„é‚£ä¸ªå­èŠ‚ç‚¹è·¯å¾„ã€‚</li></ol><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„ä»·å€¼ä¸º20ï¼Œè¡¨ç¤ºå¦‚æœå¯¹æ–¹æ¯ä¸€æ­¥éƒ½å®Œç¾å†³ç­–ï¼Œåˆ™æˆ‘æ–¹æŒ‰ç…§ä¸Šè¿°ç®—æ³•å¯æœ€ç»ˆæ‹¿åˆ°20å…ƒï¼Œè¿™æ˜¯æˆ‘æ–¹åœ¨Minimaxç®—æ³•ä¸‹æœ€å¥½çš„å†³ç­–ã€‚æ ¼å±€è½¬æ¢è·¯å¾„å¦‚ä¸‹å›¾çº¢è‰²è·¯å¾„æ‰€ç¤ºï¼š</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/04.png" alt="img"></p><p>å¯¹äºçœŸå®é—®é¢˜ä¸­çš„Minimaxï¼Œå†æ¬¡å¼ºè°ƒå‡ ç‚¹ï¼š</p><ul><li>çœŸå®é—®é¢˜ä¸€èˆ¬æ— æ³•æ„é€ å‡ºå®Œæ•´çš„æ ¼å±€æ ‘ï¼Œæ‰€ä»¥éœ€è¦ç¡®å®šä¸€ä¸ªæœ€å¤§æ·±åº¦Dï¼Œæ¯æ¬¡æœ€å¤šä»å½“å‰æ ¼å±€å‘ä¸‹è®¡ç®—Då±‚ã€‚</li><li>å› ä¸ºä¸Šè¿°åŸå› ï¼ŒMinimaxä¸€èˆ¬æ˜¯å¯»æ‰¾ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£è€Œä¸æ˜¯å…¨å±€æœ€ä¼˜è§£ï¼Œæœç´¢æ·±åº¦è¶Šå¤§è¶Šå¯èƒ½æ‰¾åˆ°æ›´å¥½çš„è§£ï¼Œä½†è®¡ç®—è€—æ—¶ä¼šå‘ˆæŒ‡æ•°çº§è†¨èƒ€ã€‚</li><li>ä¹Ÿæ˜¯å› ä¸ºæ— æ³•ä¸€æ¬¡æ„é€ å‡ºå®Œæ•´çš„æ ¼å±€æ ‘ï¼Œæ‰€ä»¥çœŸå®é—®é¢˜ä¸­Minimaxä¸€èˆ¬æ˜¯è¾¹å¯¹å¼ˆè¾¹è®¡ç®—å±€éƒ¨æ ¼å±€æ ‘ï¼Œè€Œä¸æ˜¯åªè®¡ç®—ä¸€æ¬¡ï¼Œä½†å·²è®¡ç®—çš„ä¸­é—´ç»“æœå¯ä»¥ç¼“å­˜ã€‚</li></ul><h3 id="alpha-betaå‰ªæ"><a class="markdownIt-Anchor" href="#alpha-betaå‰ªæ"></a> Alpha-betaå‰ªæ</h3><p>ç®€å•çš„Minimaxç®—æ³•æœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜å°±æ˜¯è®¡ç®—å¤æ‚æ€§ã€‚ç”±äºæ‰€éœ€æœç´¢çš„èŠ‚ç‚¹æ•°éšæœ€å¤§æ·±åº¦å‘ˆæŒ‡æ•°è†¨èƒ€ï¼Œè€Œç®—æ³•çš„æ•ˆæœå¾€å¾€å’Œæ·±åº¦ç›¸å…³ï¼Œå› æ­¤è¿™æå¤§é™åˆ¶äº†ç®—æ³•çš„æ•ˆæœã€‚</p><p>Alpha-betaå‰ªææ˜¯å¯¹Minimaxçš„è¡¥å……å’Œæ”¹è¿›ã€‚é‡‡ç”¨Alpha-betaå‰ªæåï¼Œæˆ‘ä»¬å¯ä¸å¿…æ„é€ å’Œæœç´¢æœ€å¤§æ·±åº¦Då†…çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œåœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°å½“å‰æ ¼å±€å†å¾€ä¸‹ä¸èƒ½æ‰¾åˆ°æ›´å¥½çš„è§£ï¼Œæˆ‘ä»¬å°±åœæ­¢åœ¨è¿™ä¸ªæ ¼å±€åŠä»¥ä¸‹çš„æœç´¢ï¼Œä¹Ÿå°±æ˜¯å‰ªæã€‚</p><p>Alpha-betaåŸºäºè¿™æ ·ä¸€ç§æœ´ç´ çš„æ€æƒ³ï¼šæ—¶æ—¶åˆ»åˆ»è®°å¾—å½“å‰å·²ç»çŸ¥é“çš„æœ€å¥½é€‰æ‹©ï¼Œå¦‚æœä»å½“å‰æ ¼å±€æœç´¢ä¸‹å»ï¼Œä¸å¯èƒ½æ‰¾åˆ°æ¯”å·²çŸ¥æœ€ä¼˜è§£æ›´å¥½çš„è§£ï¼Œåˆ™åœæ­¢è¿™ä¸ªæ ¼å±€åˆ†æ”¯çš„æœç´¢ï¼ˆå‰ªæï¼‰ï¼Œå›æº¯åˆ°çˆ¶èŠ‚ç‚¹ç»§ç»­æœç´¢ã€‚</p><p>Alpha-betaç®—æ³•å¯ä»¥çœ‹æˆå˜ç§çš„Minimaxï¼ŒåŸºæœ¬æ–¹æ³•æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹é‡‡ç”¨æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼æ„é€ æ ¼å±€æ ‘ï¼Œåœ¨æ„é€ æ¯ä¸ªèŠ‚ç‚¹æ—¶ï¼Œéƒ½ä¼šè¯»å–æ­¤èŠ‚ç‚¹çš„alphaå’Œbetaä¸¤ä¸ªå€¼ï¼Œå…¶ä¸­alphaè¡¨ç¤ºæœç´¢åˆ°å½“å‰èŠ‚ç‚¹æ—¶å·²çŸ¥çš„æœ€å¥½é€‰æ‹©çš„ä¸‹ç•Œï¼Œè€Œbetaè¡¨ç¤ºä»è¿™ä¸ªèŠ‚ç‚¹å¾€ä¸‹æœç´¢æœ€åç»“å±€çš„ä¸Šç•Œã€‚ç”±äºæˆ‘ä»¬å‡è®¾å¯¹æ‰‹ä¼šå°†å±€åŠ¿å¼•å…¥æœ€åç»“å±€ä¹‹ä¸€ï¼Œå› æ­¤å½“betaå°äºalphaæ—¶ï¼Œè¡¨ç¤ºä»æ­¤å¤„å¼€å§‹ä¸è®ºæœ€ç»ˆç»“å±€æ˜¯å“ªä¸€ä¸ªï¼Œå…¶ä¸Šé™ä»·å€¼ä¹Ÿè¦ä½äºå·²çŸ¥çš„æœ€ä¼˜è§£ï¼Œä¹Ÿå°±æ˜¯è¯´å·²ç»ä¸å¯èƒ½æ­¤å¤„å‘ä¸‹æ‰¾åˆ°æ›´å¥½çš„è§£ï¼Œæ‰€ä»¥å°±ä¼šå‰ªæã€‚</p><p>ä¸‹é¢åŒæ ·ä»¥ä¸Šè¿°ç¤ºä¾‹ä»‹ç»Alpha-betaå‰ªæç®—æ³•çš„å·¥ä½œåŸç†ã€‚æˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè¯¦è¿°ä½¿ç”¨Alpha-betaçš„æ¯ä¸€ä¸ªæ­¥éª¤ï¼š</p><ol><li><p>æ ¹èŠ‚ç‚¹çš„alphaå’Œbetaåˆ†åˆ«è¢«åˆå§‹åŒ–ä¸ºâˆ’âˆâˆ’âˆï¼Œå’Œ+âˆ+âˆã€‚</p></li><li><p>æ·±åº¦ä¼˜å…ˆæœç´¢ç¬¬ä¸€ä¸ªå­©å­ï¼Œä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥alphaå’Œbetaç»§æ‰¿è‡ªçˆ¶èŠ‚ç‚¹ï¼Œåˆ†åˆ«ä¸ºâˆ’âˆâˆ’âˆï¼Œå’Œ+âˆ+âˆ</p></li><li><p>æœç´¢ç¬¬ä¸‰å±‚çš„ç¬¬ä¸€ä¸ªå­©å­ï¼ŒåŒä¸Šã€‚</p></li><li><p>æœç´¢ç¬¬å››å±‚ï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œé‡‡ç”¨è¯„ä»·å‡½æ•°å¾—åˆ°æ­¤èŠ‚ç‚¹çš„è¯„ä»·å€¼ä¸º1ã€‚</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/05.png" alt="img"></p></li><li><p>æ­¤å¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºmaxèŠ‚ç‚¹ï¼Œå› æ­¤æ›´æ–°å…¶alphaå€¼ä¸º1ï¼Œè¡¨ç¤ºæ­¤èŠ‚ç‚¹å–å€¼çš„ä¸‹ç•Œä¸º1ã€‚</p></li><li><p>å†çœ‹å¦å¤–ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå€¼ä¸º20ï¼Œå¤§äºå½“å‰alphaå€¼ï¼Œå› æ­¤å°†alphaå€¼æ›´æ–°ä¸º20ã€‚</p></li><li><p>æ­¤æ—¶ç¬¬ä¸‰å±‚æœ€å·¦èŠ‚ç‚¹æ‰€æœ‰å­æ ‘æœç´¢å®Œæ¯•ï¼Œä½œä¸ºmaxèŠ‚ç‚¹ï¼Œæ›´æ–°å…¶çœŸå®å€¼ä¸ºå½“å‰alphaå€¼ï¼š20ã€‚</p></li><li><p>ç”±äºå…¶çˆ¶èŠ‚ç‚¹ï¼ˆç¬¬äºŒå±‚æœ€å·¦èŠ‚ç‚¹ï¼‰ä¸ºminèŠ‚ç‚¹ï¼Œå› æ­¤æ›´æ–°å…¶çˆ¶èŠ‚ç‚¹betaå€¼ä¸º20ï¼Œè¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹å–å€¼æœ€å¤šä¸º20ã€‚</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/06.png" alt="img"></p></li><li><p>æœç´¢ç¬¬äºŒå±‚æœ€å·¦èŠ‚ç‚¹çš„ç¬¬äºŒä¸ªå­©å­åŠå…¶å­æ ‘ï¼ŒæŒ‰ä¸Šè¿°é€»è¾‘ï¼Œå¾—åˆ°å€¼ä¸º50ï¼ˆæ³¨æ„ç¬¬äºŒå±‚æœ€å·¦èŠ‚ç‚¹çš„betaå€¼è¦ä¼ é€’ç»™å­©å­ï¼‰ã€‚ç”±äº50å¤§äº20ï¼Œä¸æ›´æ–°minèŠ‚ç‚¹çš„betaå€¼ã€‚</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/07.png" alt="img"></p></li><li><p>æœç´¢ç¬¬äºŒå±‚æœ€å·¦èŠ‚ç‚¹çš„ç¬¬ä¸‰ä¸ªå­©å­ã€‚å½“çœ‹å®Œç¬¬ä¸€ä¸ªå¶å­èŠ‚ç‚¹åï¼Œå‘ç°ç¬¬ä¸‰ä¸ªå­©å­çš„alpha=betaï¼Œæ­¤æ—¶è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹ä¸‹ä¸ä¼šå†æœ‰æ›´å¥½è§£ï¼Œäºæ˜¯å‰ªæã€‚</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/08.png" alt="img"></p></li><li><p>ç»§ç»­æœç´¢Båˆ†æ”¯ï¼Œå½“æœç´¢å®ŒBåˆ†æ”¯çš„ç¬¬ä¸€ä¸ªå­©å­åï¼Œå‘ç°æ­¤æ—¶Båˆ†æ”¯çš„alphaä¸º20ï¼Œbetaä¸º10ã€‚è¿™è¡¨ç¤ºBåˆ†æ”¯èŠ‚ç‚¹çš„æœ€å¤§å–å€¼ä¸ä¼šè¶…è¿‡10ï¼Œè€Œæˆ‘ä»¬å·²ç»åœ¨Aåˆ†æ”¯å–åˆ°20ï¼Œæ­¤æ—¶æ»¡è¶³alphaå¤§äºç­‰äºbetaçš„å‰ªææ¡ä»¶ï¼Œå› æ­¤å°†Bå‰ªæã€‚å¹¶å°†Båˆ†æ”¯çš„èŠ‚ç‚¹å€¼è®¾ä¸º10ï¼Œæ³¨æ„ï¼Œè¿™ä¸ª10ä¸ä¸€å®šæ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„çœŸå®å€¼ï¼Œè€Œåªæ˜¯ä¸Šçº¿ï¼ŒBèŠ‚ç‚¹çš„çœŸå®å€¼å¯èƒ½æ˜¯5ï¼Œå¯èƒ½æ˜¯1ï¼Œå¯èƒ½æ˜¯ä»»ä½•å°äº10çš„å€¼ã€‚ä½†æ˜¯å·²ç»æ— æ‰€è°“äº†ï¼Œåæ­£æˆ‘ä»¬çŸ¥é“è¿™ä¸ªåˆ†æ”¯ä¸ä¼šå¥½è¿‡Aåˆ†æ”¯ï¼Œå› æ­¤å¯ä»¥æ”¾å¼ƒäº†ã€‚</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/09.png" alt="img"></p></li><li><p>åœ¨Cåˆ†æ”¯æœç´¢æ—¶é‡åˆ°äº†ä¸Båˆ†æ”¯ç›¸åŒçš„æƒ…å†µã€‚å› æ­¤è®²Cåˆ†æ”¯å‰ªæã€‚</p><p><img src="http://blog.codinglabs.org/uploads/pictures/2048-ai-analysis/10.png" alt="img"></p></li></ol><p>æ­¤æ—¶æœç´¢å…¨éƒ¨å®Œæ¯•ï¼Œè€Œæˆ‘ä»¬ä¹Ÿå¾—åˆ°äº†è¿™ä¸€æ­¥çš„ç­–ç•¥ï¼šåº”è¯¥èµ°Aåˆ†æ”¯ã€‚</p><p>å¯ä»¥çœ‹åˆ°ç›¸æ¯”æ™®é€šMinimaxè¦æœç´¢18ä¸ªå¶å­èŠ‚ç‚¹ç›¸æ¯”ï¼Œè¿™é‡Œåªæœç´¢äº†9ä¸ªã€‚é‡‡ç”¨Alpha-betaå‰ªæï¼Œå¯ä»¥åœ¨ç›¸åŒæ—¶é—´å†…åŠ å¤§Minimaxçš„æœç´¢æ·±åº¦ï¼Œå› æ­¤å¯ä»¥è·å¾—æ›´å¥½çš„æ•ˆæœã€‚å¹¶ä¸”Alpha-betaçš„è§£å’Œæ™®é€šMinimaxçš„è§£æ˜¯ä¸€è‡´çš„ã€‚</p><p>æ–‡ç« æ‘˜è‡ª<a href="http://blog.codinglabs.org/articles/2048-ai-analysis.html" target="_blank" rel="noopener">2048-AIç¨‹åºç®—æ³•åˆ†æ</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;minmaxå’Œalpha-betaå‰ªæåˆ†æè½¬&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#minmaxå’Œalpha-betaå‰ªæåˆ†æè½¬&quot;&gt;&lt;/a&gt; MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ&lt;a href=&quot;http://blog.c
      
    
    </summary>
    
    
      <category term="Algorithm" scheme="https://nymrli.top/tags/Algorithm/"/>
    
      <category term="RL" scheme="https://nymrli.top/tags/RL/"/>
    
  </entry>
  
  <entry>
    <title>Pythonç½‘ç»œç¼–ç¨‹Websocket</title>
    <link href="https://nymrli.top/2019/11/24/Python%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8BWebsocket/"/>
    <id>https://nymrli.top/2019/11/24/Pythonç½‘ç»œç¼–ç¨‹Websocket/</id>
    <published>2019-11-24T02:17:11.000Z</published>
    <updated>2019-11-28T12:00:00.222Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç½‘ç»œçŸ¥è¯†websocket"><a class="markdownIt-Anchor" href="#ç½‘ç»œçŸ¥è¯†websocket"></a> ç½‘ç»œçŸ¥è¯†â€”â€”Websocket</h1><ul><li><p>TCP ï¼šé¢å‘è¿æ¥â€”&gt; æ‰“ç”µè¯(ç›¸äº’å›å¤,ä¸€æ¥ä¸€å›)ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯ æ‹¨å· , ä¸‰æ¬¡æ¡æ‰‹ ,</p></li><li><p>UDP : é¢å‘æ— è¿æ¥ --&gt; å¯„å¿«é€’(å¯„å‡ºå»å°±ä¸ç®¡äº†) e.g.ç›´æ’­</p></li></ul><p><strong>UDPå››å±‚ç»“æ„</strong></p><ul><li>ç½‘ç»œè®¿é—®å±‚(é“¾è·¯å±‚):  ç‰©ç†è¿æ¥è®¾å¤‡(ç½‘çº¿)ã€MACåœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰</li><li>äº’è”ç½‘å±‚ï¼š IPåœ°å€ï¼ˆå®šä½è®¾å¤‡ï¼‰</li><li>ä¼ è¾“å±‚ï¼š port (ç«¯å£å·) : è¡¨ç¤ºé€šä¿¡è¿›ç¨‹,å°†æ•°æ®äº¤ç»™å“ªä¸ªåº”ç”¨å¤„ç†</li><li>åº”ç”¨å±‚ï¼š è‡ªå·±å®šä¹‰çš„åè®®ï¼ˆå¤„ç†å­—ç¬¦ä¸²æ¶ˆæ¯çš„æ–¹æ³•ï¼‰</li></ul><p>å¥—æ¥å­—(socket) ï¼š ç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶ ï¼Œ å†™ç½‘ç»œåº”ç”¨ç¨‹åºçš„æ¥å£ï¼Œå†™å…¥åå°±æ˜¯å‘é€ï¼Œæ¥æ”¶å°±æ˜¯è¯»å–ã€‚ ç±»ä¼¼äº esp8266å§â€¦</p><p><strong>åŸºæœ¬çš„socketæ“ä½œ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line">s = socket.socket(socket.AF_INET,socket.SOCK_DGRAM) </span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">å‚æ•°è¯´æ˜:</span></span><br><span class="line"><span class="string">AF_INET IPv4</span></span><br><span class="line"><span class="string">----</span></span><br><span class="line"><span class="string">STREAM TCP</span></span><br><span class="line"><span class="string">SOCK_DGRAM UDP,æ— listenã€accpet</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">server_addr = (<span class="string">'127.0.0.1'</span>,<span class="number">8888</span>)    <span class="comment"># æœ¬åœ°å›ç¯åœ°å€ , ç«¯å£</span></span><br><span class="line">s.bind(server_addr)                                    <span class="comment"># ç»‘å®šã€ä¼ å…¥ä¿¡æ¯</span></span><br><span class="line">data, cilent_addr = s.recvfrom(<span class="number">1024</span>)        <span class="comment"># BUF_SIZEæŒ‡å®šæ¥æ”¶æ•°æ®é•¿åº¦ , (æ•°æ®å†…å®¹,å®¢æˆ·ç«¯åœ°å€)</span></span><br><span class="line">s.sendto(data,cilent_addr)                        <span class="comment"># ç»™å®¢æˆ·ç«¯å‘é€æ•°æ®</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">buf = <span class="number">1024</span></span><br><span class="line">ADDR = (<span class="string">"127.0.0.1"</span>, <span class="number">8999</span>)</span><br><span class="line">tcpSock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">tcpSock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br><span class="line">tcpSock.bind(ADDR)</span><br><span class="line">tcpSock.listen(<span class="number">5</span>)</span><br><span class="line">conn, addr = tcpSock.accept()</span><br></pre></td></tr></table></figure><h3 id="ä»€ä¹ˆæ˜¯webscoket"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯webscoket"></a> ä»€ä¹ˆæ˜¯webscoketï¼Ÿ</h3><p>WebSocket æ˜¯ HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œ<strong>å…¨åŒå·¥é€šè®¯</strong>çš„åè®®ã€‚HTML5 WebSocket è®¾è®¡å‡ºæ¥çš„ç›®çš„å°±æ˜¯è¦<strong>å–ä»£è½®è¯¢</strong>å’Œ Comet æŠ€æœ¯ï¼Œä½¿å®¢æˆ·ç«¯æµè§ˆå™¨å…·å¤‡åƒ C/S æ¶æ„ä¸‹æ¡Œé¢ç³»ç»Ÿçš„å®æ—¶é€šè®¯èƒ½åŠ›ã€‚</p><p>WebSocket ä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å˜å¾—æ›´åŠ ç®€å•ï¼Œå…è®¸æœåŠ¡ç«¯<strong>ä¸»åŠ¨</strong>å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚åœ¨WebSocket API ä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆ<strong>ä¸€æ¬¡æ¡æ‰‹</strong>ï¼Œä¸¤è€…ä¹‹é—´å°±ç›´æ¥å¯ä»¥åˆ›å»ºæŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ï¼Œå…¶æœ¬è´¨æ˜¯ä¿æŒTCPè¿æ¥ã€‚</p><ul><li>å®¢æˆ·ç«¯ : å‘é€æ•°æ®ã€æ¥æ”¶è¿”å›æ•°æ®ç«¯</li><li>æœåŠ¡ç«¯: å¤„ç†æ•°æ®ç«¯</li></ul><p><strong>æœåŠ¡ç«¯</strong></p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket,base64,hashlib</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_headers</span><span class="params">(data)</span>:</span></span><br><span class="line">    <span class="string">'''æå–è¯·æ±‚å¤´,å°†è¯·æ±‚å¤´è½¬æ¢ä¸ºå­—å…¸'''</span></span><br><span class="line">    header_dict = &#123;&#125;</span><br><span class="line">    data = str(data,encoding=<span class="string">"utf-8"</span>)</span><br><span class="line"></span><br><span class="line">    header,body = data.split(<span class="string">"\r\n\r\n"</span>,<span class="number">1</span>)</span><br><span class="line">    header_list = header.split(<span class="string">"\r\n"</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len(header_list)):</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> len(header_list[<span class="number">0</span>].split(<span class="string">" "</span>)) == <span class="number">3</span>:</span><br><span class="line">                header_dict[<span class="string">'method'</span>],header_dict[<span class="string">'url'</span>],header_dict[<span class="string">'protocol'</span>] = header_list[<span class="number">0</span>].split(<span class="string">" "</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            k,v=header_list[i].split(<span class="string">":"</span>,<span class="number">1</span>)</span><br><span class="line">            header_dict[k]=v.strip()</span><br><span class="line">    <span class="keyword">return</span> header_dict</span><br><span class="line"></span><br><span class="line">sock = socket.socket()</span><br><span class="line">sock.setsockopt(socket.SOL_SOCKET,socket.SO_REUSEADDR,<span class="number">1</span>)</span><br><span class="line"><span class="comment"># æŒ‡å®šIPå’Œä¾¦å¬ç«¯å£Port</span></span><br><span class="line">sock.bind((<span class="string">"127.0.0.1"</span>,<span class="number">8888</span>))</span><br><span class="line">sock.listen(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç­‰å¾…ç”¨æˆ·è¿æ¥</span></span><br><span class="line">conn,addr = sock.accept()</span><br><span class="line">print(<span class="string">"conn from "</span>,conn,addr)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è·å–æ¡æ‰‹æ¶ˆæ¯ï¼Œmagic string ,sha1åŠ å¯†</span></span><br><span class="line"><span class="comment">#å‘é€ç»™å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="comment">#æ¡æ‰‹æ¶ˆæ¯</span></span><br><span class="line">data = conn.recv(<span class="number">8096</span>)</span><br><span class="line">headers = get_headers(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹è¯·æ±‚å¤´ä¸­çš„sec-websocket-keyè¿›è¡ŒåŠ å¯†,éœ€è¦è¿”å›çš„å¤´</span></span><br><span class="line">response_tpl = <span class="string">"HTTP/1.1 101 Switching Protocols\r\n"</span> \</span><br><span class="line">      <span class="string">"Upgrade:websocket\r\n"</span> \</span><br><span class="line">      <span class="string">"Connection: Upgrade\r\n"</span> \</span><br><span class="line">      <span class="string">"Sec-WebSocket-Accept: %s\r\n"</span> \</span><br><span class="line">      <span class="string">"WebSocket-Location: ws://%s%s\r\n\r\n"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># magic_stringä¸ºä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²</span></span><br><span class="line">magic_string = <span class="string">'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ å¯†</span></span><br><span class="line">value = headers[<span class="string">'Sec-WebSocket-Key'</span>] + magic_string</span><br><span class="line">ac = base64.b64encode(hashlib.sha1(value.encode(<span class="string">'utf-8'</span>)).digest())</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›çš„ä¿¡æ¯</span></span><br><span class="line">response_str = response_tpl % (ac.decode(<span class="string">'utf-8'</span>), headers[<span class="string">'Host'</span>], headers[<span class="string">'url'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># å“åº”ã€æ¡æ‰‹ã€‘ä¿¡æ¯</span></span><br><span class="line">conn.send(bytes(response_str, encoding=<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="comment">#å¤åˆ¶ä»£ç </span></span><br></pre></td></tr></table></figure><p><strong>å®¢æˆ·ç«¯</strong></p><p><em>Python</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">import</span> thread</span><br><span class="line"><span class="keyword">except</span> ImportError:</span><br><span class="line">    <span class="keyword">import</span> _thread <span class="keyword">as</span> thread</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># import websocket</span></span><br><span class="line"><span class="keyword">import</span> websocket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ws = websocket.WebSocket()</span></span><br><span class="line">ws = websocket.create_connection(<span class="string">"ws://127.0.0.1:8999/"</span>)</span><br><span class="line"><span class="comment"># ws.connect("ws://127.0.0.1:8999/")</span></span><br><span class="line">data = &#123;<span class="string">"body"</span>:&#123;<span class="string">"address"</span>:<span class="string">"é™•è¥¿çœ"</span>&#125;&#125;</span><br><span class="line">ws.send(json.dumps(data))   <span class="comment">#jsonè½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå¿…é¡»è½¬åŒ–</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    data = ws.recv()</span><br><span class="line">    print(data)</span><br></pre></td></tr></table></figure><p><strong>Java Script</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        ws =<span class="keyword">new</span> WebSocket(<span class="string">"ws://127.0.0.1:8888"</span>);</span></span><br><span class="line"><span class="actionscript">        ws.onopen = <span class="function"><span class="keyword">function</span> <span class="params">(ev)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//è‹¥æ˜¯è¿æ¥æˆåŠŸï¼Œonopenå‡½æ•°ä¼šæ‰§è¡Œ</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(ev)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="actionscript">        ws.onmessage = <span class="function"><span class="keyword">function</span> <span class="params">(ev)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//è‹¥æ˜¯è¿æ¥æˆåŠŸï¼Œonopenå‡½æ•°ä¼šæ‰§è¡Œ</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(ev)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å¤§ç«¯å’Œå°ç«¯æ¨¡å¼</strong></p><p>ç½‘ç»œé€šä¿¡æ—¶ é€šå¸¸ä½¿ç”¨å¤§ç«¯</p><h3 id="è§£æwebsocketåè®®"><a class="markdownIt-Anchor" href="#è§£æwebsocketåè®®"></a> è§£æwebsocketåè®®</h3><p><strong>ä½¿ç”¨ã€åˆ›å»ºdemoï¼š</strong></p><p>é•¿è¿æ¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> websocket</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">import</span> thread</span><br><span class="line"><span class="keyword">except</span> ImportError:</span><br><span class="line">    <span class="keyword">import</span> _thread <span class="keyword">as</span> thread</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_message</span><span class="params">(ws, message)</span>:</span></span><br><span class="line">    print(message)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_error</span><span class="params">(ws, error)</span>:</span></span><br><span class="line">    print(error)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_close</span><span class="params">(ws)</span>:</span></span><br><span class="line">    print(<span class="string">"### closed ###"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">on_open</span><span class="params">(ws)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(*args)</span>:</span></span><br><span class="line">        ws.send(<span class="string">"hello1"</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        ws.close()</span><br><span class="line">    thread.start_new_thread(run,())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    websocket.enableTrace(<span class="keyword">True</span>)</span><br><span class="line">    ws = websocket.WebSocketApp(<span class="string">"ws://echo.websocket.org/"</span>,</span><br><span class="line">                              on_message = on_message,</span><br><span class="line">                              on_error = on_error,</span><br><span class="line">                              on_close = on_close)</span><br><span class="line">    ws.on_open = on_open</span><br><span class="line">    ws.run_forever(ping_interval=<span class="number">60</span>,ping_timeout=<span class="number">5</span>)</span><br></pre></td></tr></table></figure><p>â–² Pythonçš„websocketä»£ç æ˜¯ä»¿js websocketå†™æ³•çš„ï¼Œé‡æ–°å†™äº†ä¸€éè„šæœ¬ï¼Œæµç•…æ¥å—æ¶ˆæ¯ï¼Œè‡ªåŠ¨é‡è¿å‘é€æŒ‡ä»¤ï¼Œè¿æ¥æ—¶é—´æ˜æ˜¾å‡å°‘ï¼ŒåŸºæœ¬åšåˆ°æ— é—æ¼æ•°æ®ï¼Œä¸ç½‘ç«™jsçš„wsè¿æ¥å®ç°ä¸€æ ·ã€‚</p><p>çŸ­é“¾æ¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> websocket <span class="keyword">import</span> create_connection</span><br><span class="line">ws = create_connection(<span class="string">"ws://echo.websocket.org/"</span>)</span><br><span class="line">print(<span class="string">"Sending 'Hello, World'..."</span>)</span><br><span class="line">ws.send(json.dumps(&#123;<span class="string">"op"</span>:<span class="string">"unconfirmed_sub"</span>&#125;)) <span class="comment"># ä¸èƒ½ä½¿ç”¨str()ï¼Œè¦ä»¥jsonæ ¼å¼è¾“å‡º</span></span><br><span class="line">ws.send(<span class="string">"Hello, World"</span>)</span><br><span class="line">print(<span class="string">"Sent"</span>)</span><br><span class="line">print(<span class="string">"Receiving..."</span>)</span><br><span class="line">result =  ws.recv()</span><br><span class="line">print(<span class="string">"Received '%s'"</span> % result)</span><br><span class="line">ws.close()</span><br></pre></td></tr></table></figure><h4 id="ä¸€æ­¥ä¸€æ­¥åˆ†æè¯·æ±‚è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#ä¸€æ­¥ä¸€æ­¥åˆ†æè¯·æ±‚è¿‡ç¨‹"></a> ä¸€æ­¥ä¸€æ­¥åˆ†æè¯·æ±‚è¿‡ç¨‹ï¼ï¼</h4><blockquote><ul><li><p>æœåŠ¡ç«¯ï¼ˆsocketæœåŠ¡ç«¯ï¼‰<br>*1.æœåŠ¡ç«¯å¼€å¯socketæœåŠ¡ç›‘å¬IPå’Œç«¯å£<br>*3.å…è®¸è¿æ¥<br>*5.æœåŠ¡ç«¯æ¥æ”¶åˆ°ç‰¹æ®Šå€¼ã€åŠ å¯†sha1ï¼Œç‰¹æ®Šå€¼ï¼Œmigic string=â€œ258EAFA5-E914-47DA-95CA-C5AB0DC85B11â€ã€‘<br>*6.åŠ å¯†åçš„å€¼å‘é€ç»™å®¢æˆ·ç«¯</p></li><li><p>å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰</p></li></ul><p>*2.å®¢æˆ·ç«¯å‘èµ·è¿æ¥è¯·æ±‚ï¼ˆIPå’Œç«¯å£ï¼‰<br>*4.å®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ªxxxï¼Œã€åŠ å¯†sha1ï¼Œç‰¹æ®Šå€¼ï¼Œmigic string=â€œ258EAFA5-E914-47DA-95CA-C5AB0DC85B11â€ã€‘ï¼Œå‘æœåŠ¡ç«¯å‘é€ä¸€æ®µç‰¹æ®Šå€¼<br>*7.å®¢æˆ·ç«¯æ¥æ”¶åˆ°åŠ å¯†çš„å€¼</p></blockquote><h5 id="1-å¯åŠ¨æœåŠ¡ç«¯"><a class="markdownIt-Anchor" href="#1-å¯åŠ¨æœåŠ¡ç«¯"></a> 1. å¯åŠ¨æœåŠ¡ç«¯</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line">sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br><span class="line">sock.bind((<span class="string">'127.0.0.1'</span>, <span class="number">8002</span>))</span><br><span class="line">sock.listen(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># ç­‰å¾…ç”¨æˆ·è¿æ¥</span></span><br><span class="line">conn, address = sock.accept()</span><br></pre></td></tr></table></figure><h5 id="2-å®¢æˆ·ç«¯è¿æ¥"><a class="markdownIt-Anchor" href="#2-å®¢æˆ·ç«¯è¿æ¥"></a> 2. å®¢æˆ·ç«¯è¿æ¥</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> socket = <span class="keyword">new</span> WebSocket(<span class="string">"ws://127.0.0.1:8002/xxoo"</span>);</span></span><br><span class="line"><span class="undefined">    ...</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="3-å»ºç«‹è¿æ¥æ¡æ‰‹"><a class="markdownIt-Anchor" href="#3-å»ºç«‹è¿æ¥æ¡æ‰‹"></a> 3. å»ºç«‹è¿æ¥ã€æ¡æ‰‹ã€‘</h5><h6 id="è·å–è¯·æ±‚ä¿¡æ¯"><a class="markdownIt-Anchor" href="#è·å–è¯·æ±‚ä¿¡æ¯"></a> è·å–è¯·æ±‚ä¿¡æ¯</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"> </span><br><span class="line">sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br><span class="line">sock.bind((<span class="string">'127.0.0.1'</span>, <span class="number">8002</span>))</span><br><span class="line">sock.listen(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># è·å–å®¢æˆ·ç«¯socketå¯¹è±¡</span></span><br><span class="line">conn, address = sock.accept()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å®¢æˆ·ç«¯çš„ã€æ¡æ‰‹ã€‘ä¿¡æ¯</span></span><br><span class="line">data = conn.recv(<span class="number">1024</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">b'''</span></span><br><span class="line"><span class="string">GET /chatsocket HTTP/1.1</span></span><br><span class="line"><span class="string">Host: 127.0.0.1:8002</span></span><br><span class="line"><span class="string">Connection: Upgrade</span></span><br><span class="line"><span class="string">Pragma: no-cache</span></span><br><span class="line"><span class="string">Cache-Control: no-cache</span></span><br><span class="line"><span class="string">Upgrade: websocket</span></span><br><span class="line"><span class="string">Origin: http://localhost:63342</span></span><br><span class="line"><span class="string">Sec-WebSocket-Version: 13</span></span><br><span class="line"><span class="string">Sec-WebSocket-Key: mnwFxiOlctXFN/DeMt1Amg==</span></span><br><span class="line"><span class="string">Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure><p>è¯·æ±‚å’Œå“åº”çš„ã€æ¡æ‰‹ã€‘ä¿¡æ¯éœ€è¦éµå¾ªè§„åˆ™ï¼š</p><ul><li>ä»è¯·æ±‚ã€æ¡æ‰‹ã€‘ä¿¡æ¯ä¸­æå– Sec-WebSocket-Key</li><li>åˆ©ç”¨magic_string å’Œ Sec-WebSocket-Key è¿›è¡Œhmac1åŠ å¯†ï¼Œå†è¿›è¡Œbase64åŠ å¯†</li><li>å°†åŠ å¯†ç»“æœå“åº”ç»™å®¢æˆ·ç«¯</li></ul><p><em>æ³¨ï¼šmagic stringä¸ºï¼š258EAFA5-E914-47DA-95CA-C5AB0DC85B11</em></p><h6 id="æå–sec-websocket-keyå€¼å¹¶åŠ å¯†"><a class="markdownIt-Anchor" href="#æå–sec-websocket-keyå€¼å¹¶åŠ å¯†"></a> æå–Sec-WebSocket-Keyå€¼å¹¶åŠ å¯†ï¼š</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_headers</span><span class="params">(data)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å°†è¯·æ±‚å¤´æ ¼å¼åŒ–æˆå­—å…¸</span></span><br><span class="line"><span class="string">    :param data:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    header_dict = &#123;&#125;</span><br><span class="line">    data = str(data, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> data.split(<span class="string">'\r\n'</span>):</span><br><span class="line">        print(i)</span><br><span class="line">    header, body = data.split(<span class="string">'\r\n\r\n'</span>, <span class="number">1</span>)</span><br><span class="line">    header_list = header.split(<span class="string">'\r\n'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(header_list)):</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> len(header_list[i].split(<span class="string">' '</span>)) == <span class="number">3</span>:</span><br><span class="line">                header_dict[<span class="string">'method'</span>], header_dict[<span class="string">'url'</span>], header_dict[<span class="string">'protocol'</span>] = header_list[i].split(<span class="string">' '</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            k, v = header_list[i].split(<span class="string">':'</span>, <span class="number">1</span>)</span><br><span class="line">            header_dict[k] = v.strip()</span><br><span class="line">    <span class="keyword">return</span> header_dict</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br><span class="line">sock.bind((<span class="string">'127.0.0.1'</span>, <span class="number">8002</span>))</span><br><span class="line">sock.listen(<span class="number">5</span>)</span><br><span class="line"> </span><br><span class="line">conn, address = sock.accept()</span><br><span class="line">data = conn.recv(<span class="number">1024</span>)</span><br><span class="line">headers = get_headers(data) <span class="comment"># æå–è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># å¯¹è¯·æ±‚å¤´ä¸­çš„sec-websocket-keyè¿›è¡ŒåŠ å¯†</span></span><br><span class="line">response_tpl = <span class="string">"HTTP/1.1 101 Switching Protocols\r\n"</span> \</span><br><span class="line">      <span class="string">"Upgrade:websocket\r\n"</span> \</span><br><span class="line">      <span class="string">"Connection: Upgrade\r\n"</span> \</span><br><span class="line">      <span class="string">"Sec-WebSocket-Accept: %s\r\n"</span> \</span><br><span class="line">      <span class="string">"WebSocket-Location: ws://%s%s\r\n\r\n"</span></span><br><span class="line">magic_string = <span class="string">'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'</span></span><br><span class="line">value = headers[<span class="string">'Sec-WebSocket-Key'</span>] + magic_string</span><br><span class="line">ac = base64.b64encode(hashlib.sha1(value.encode(<span class="string">'utf-8'</span>)).digest())</span><br><span class="line">response_str = response_tpl % (ac.decode(<span class="string">'utf-8'</span>), headers[<span class="string">'Host'</span>], headers[<span class="string">'url'</span>])</span><br><span class="line"><span class="comment"># å“åº”ã€æ¡æ‰‹ã€‘ä¿¡æ¯</span></span><br><span class="line">conn.send(bytes(response_str, encoding=<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure><p>åªæœ‰åœ¨æœåŠ¡ç«¯åˆå‘å›&quot;å“åº”&quot;çš„æ¡æ‰‹ä¿¡æ¯åï¼Œæ‰ç®—å»ºç«‹äº†é“¾æ¥ã€‚æ¡æ‰‹çš„ä½œç”¨æ˜¯<strong>ä¿è¯é€šä¿¡åŒæ–¹ä½¿ç”¨çš„åè®®ç›¸åŒ</strong></p><h5 id="4å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ”¶å‘æ•°æ®"><a class="markdownIt-Anchor" href="#4å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ”¶å‘æ•°æ®"></a> 4.å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ”¶å‘æ•°æ®</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®æŠ¥å†…å®¹ï¼Œç¬¬ä¸€è¡Œä¸ºå­—èŠ‚ï¼Œç¬¬äºŒè¡Œä¸ºç›¸åº”çš„æ¯ä¸€ä½ã€‚</span><br><span class="line">0                   1                   2                   3</span><br><span class="line"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class="line">+-+-+-+-+-------+-+-------------+-------------------------------+</span><br><span class="line">|F|R|R|R| opcode|M| Payload len |    Extended payload length    |</span><br><span class="line">|I|S|S|S|  (4)  |A|     (7)     |             (16/64)           |</span><br><span class="line">|N|V|V|V|       |S|             |   (if payload len==126/127)   |</span><br><span class="line">| |1|2|3|       |K|             |                               |</span><br><span class="line">+-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +</span><br><span class="line">|     Extended payload length continued, if payload len == 127  |</span><br><span class="line">+ - - - - - - - - - - - - - - - +-------------------------------+</span><br><span class="line">|                               |Masking-key, if MASK set to 1  |</span><br><span class="line">+-------------------------------+-------------------------------+</span><br><span class="line">| Masking-key (continued)       |          Payload Data         |</span><br><span class="line">+-------------------------------- - - - - - - - - - - - - - - - +</span><br><span class="line">:                     Payload Data continued ...                :</span><br><span class="line">+ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +</span><br><span class="line">|                     Payload Data continued ...                |</span><br><span class="line">+---------------------------------------------------------------+</span><br></pre></td></tr></table></figure><p>å®˜ç½‘ç»™å‡ºçš„è§£æè§„åˆ™</p><blockquote><p>The MASK bit simply tells whether the message is encoded. Messages from the client must be masked, so your server should expect this to be 1. (In fact, <a href="http://tools.ietf.org/html/rfc6455#section-5.1" target="_blank" rel="noopener">section 5.1 of the spec</a> says that your server must disconnect from a client if that client sends an unmasked message.) When sending a frame back to the client, do not mask it and do not set the mask bit. Weâ€™ll explain masking later. *Note: You have to mask messages even when using a secure socket.*RSV1-3 can be ignored, they are for extensions.</p><p>The opcode field defines how to interpret the payload data: 0x0 for continuation, <code>0x1</code> for text (which is always encoded in UTF-8), <code>0x2</code> for binary, and other so-called â€œcontrol codesâ€ that will be discussed later. In this version of WebSockets, <code>0x3</code> to <code>0x7</code> and <code>0xB</code> to <code>0xF</code> have no meaning.</p><p>The FIN bit tells whether this is the last message in a series. If itâ€™s 0, then the server will keep listening for more parts of the message; otherwise, the server should consider the message delivered. More on this later.</p><p><strong>Decoding Payload Length</strong></p><p>To read the payload data, you must know when to stop reading. Thatâ€™s why the payload length is important to know. Unfortunately, this is somewhat complicated. To read it, follow these steps:</p><ol><li>Read bits 9-15 (inclusive) and interpret that as an unsigned integer. If itâ€™s 125 or less, then thatâ€™s the length; youâ€™re <strong>done</strong>. If itâ€™s 126, go to step 2. If itâ€™s 127, go to step 3.</li><li>Read the next 16 bits and interpret those as an unsigned integer. Youâ€™re <strong>done</strong>.</li><li>Read the next 64 bits and interpret those as an unsigned integer (The most significant bit MUST be 0). Youâ€™re <strong>done</strong>.</li></ol><p><strong>Reading and Unmasking the Data</strong></p><p>If the MASK bit was set (and it should be, for client-to-server messages), read the next 4 octets (32 bits); this is the masking key. Once the payload length and masking key is decoded, you can go ahead and read that number of bytes from the socket. Letâ€™s call the data <strong>ENCODED</strong>, and the key <strong>MASK</strong>. To get <strong>DECODED</strong>, loop through the octets (bytes a.k.a. characters for text data) of <strong>ENCODED</strong> and XOR the octet with the (i modulo 4)th octet of MASK. In pseudo-code (that happens to be valid JavaScript):</p><p>var DECODED = â€œâ€;<br>for (var i = 0; i &lt; ENCODED.length; i++) {<br>DECODED[i] = ENCODED[i] ^ MASK[i % 4];<br>}</p><p>Now you can figure out what <strong>DECODED</strong> means depending on your application.</p></blockquote><h6 id="è·å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®è§£åŒ…"><a class="markdownIt-Anchor" href="#è·å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®è§£åŒ…"></a> è·å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ã€è§£åŒ…ã€‘</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">analyze_info</span><span class="params">(info)</span>:</span></span><br><span class="line">    <span class="comment"># å¤„ç†æ•°æ®å¤´</span></span><br><span class="line">    <span class="comment"># maskå 4ä¸ªå­—èŠ‚ï¼Œåœ¨ç¡®å®šæ•°æ®å¤´çš„é¦–éƒ¨éœ€è¦å å¤šå°‘å­—èŠ‚åï¼Œå†å‘åæ¨4ä¸ªå­—èŠ‚</span></span><br><span class="line">    <span class="comment"># maskä¹‹åçš„å°±æ˜¯æ•°æ®çš„çœŸæ­£å†…å®¹ï¼Œä½†éœ€è¦æ ¹æ®è§„åˆ™è¿›è¡Œè§£æ</span></span><br><span class="line">    payload_len = info[<span class="number">1</span>] &amp; <span class="number">127</span></span><br><span class="line">    <span class="keyword">if</span> payload_len == <span class="number">126</span>:</span><br><span class="line">        <span class="comment"># payload_len==126é¦–éƒ¨ä¿¡æ¯è¿˜è¦æ‹“å±•2ä¸ªå­—èŠ‚(16 bits)</span></span><br><span class="line">        <span class="comment"># è§ä¸Šæ–‡çš„ Decoding Payload Length-2</span></span><br><span class="line">        extend_payload_len = info[<span class="number">2</span>:<span class="number">4</span>]</span><br><span class="line">        mask = info[<span class="number">4</span>:<span class="number">8</span>]</span><br><span class="line">        decoded = info[<span class="number">8</span>:]</span><br><span class="line">    <span class="keyword">elif</span> payload_len == <span class="number">127</span>:</span><br><span class="line">        <span class="comment"># payload_len==127é‚£ä¹ˆéœ€è¦å†æ‹“å±•8ä¸ªå­—èŠ‚(64 bits)</span></span><br><span class="line">        <span class="comment"># è§ä¸Šæ–‡çš„ Decoding Payload Length-3</span></span><br><span class="line">        extend_payload_len = info[<span class="number">2</span>:<span class="number">10</span>]</span><br><span class="line">        mask = info[<span class="number">10</span>:<span class="number">14</span>]</span><br><span class="line">        decoded = info[<span class="number">14</span>:]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        extend_payload_len = <span class="keyword">None</span></span><br><span class="line">        mask = info[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line">        decoded = info[<span class="number">6</span>:]</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">var DECODED = "";</span></span><br><span class="line"><span class="string">    for (var i = 0; i &lt; ENCODED.length; i++) &#123;</span></span><br><span class="line"><span class="string">        DECODED[i] = ENCODED[i] ^ MASK[i % 4];</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">    bytes_list = bytearray()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(decoded)):</span><br><span class="line">        chunk = decoded[i] ^ mask[i % <span class="number">4</span>]</span><br><span class="line">        bytes_list.append(chunk)</span><br><span class="line">    content = str(bytes_list, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    <span class="keyword">return</span> content</span><br></pre></td></tr></table></figure><h6 id="å‘å®¢æˆ·ç«¯å‘é€æ•°æ®å°åŒ…"><a class="markdownIt-Anchor" href="#å‘å®¢æˆ·ç«¯å‘é€æ•°æ®å°åŒ…"></a> å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€å°åŒ…ã€‘</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_msg</span><span class="params">(conn, msg_bytes)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    WebSocketæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯</span></span><br><span class="line"><span class="string">    :param conn: å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ç«¯çš„socketå¯¹è±¡,å³ï¼š conn,address = socket.accept()</span></span><br><span class="line"><span class="string">    :param msg_bytes: å‘å®¢æˆ·ç«¯å‘é€çš„å­—èŠ‚</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">import</span> struct</span><br><span class="line"> </span><br><span class="line">    token = <span class="string">b"\x81"</span></span><br><span class="line">    length = len(msg_bytes)</span><br><span class="line">    <span class="keyword">if</span> length &lt; <span class="number">126</span>:</span><br><span class="line">        token += struct.pack(<span class="string">"B"</span>, length)</span><br><span class="line">    <span class="keyword">elif</span> length &lt;= <span class="number">0xFFFF</span>:</span><br><span class="line">        token += struct.pack(<span class="string">"!BH"</span>, <span class="number">126</span>, length)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        token += struct.pack(<span class="string">"!BQ"</span>, <span class="number">127</span>, length)</span><br><span class="line"> </span><br><span class="line">    msg = token + msg_bytes</span><br><span class="line">    conn.send(msg)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure><p>è½¬è‡ª<a href="https://home.cnblogs.com/u/wupeiqi/" target="_blank" rel="noopener">æ­¦æ²›é½</a>çš„<a href="https://www.cnblogs.com/wupeiqi/p/6558766.html" target="_blank" rel="noopener">ä½ çœŸçš„äº†è§£WebSocketå—ï¼Ÿ</a></p><h4 id="å®Œæ•´demo"><a class="markdownIt-Anchor" href="#å®Œæ•´demo"></a> å®Œæ•´DEMOï¼š</h4><h5 id="pythonæœåŠ¡ç«¯ä»£ç "><a class="markdownIt-Anchor" href="#pythonæœåŠ¡ç«¯ä»£ç "></a> PythonæœåŠ¡ç«¯ä»£ç </h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_headers</span><span class="params">(data)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å°†è¯·æ±‚å¤´æ ¼å¼åŒ–æˆå­—å…¸</span></span><br><span class="line"><span class="string">    :param data:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    header_dict = &#123;&#125;</span><br><span class="line">    data = str(data, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"> </span><br><span class="line">    header, body = data.split(<span class="string">'\r\n\r\n'</span>, <span class="number">1</span>)</span><br><span class="line">    header_list = header.split(<span class="string">'\r\n'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(header_list)):</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> len(header_list[i].split(<span class="string">' '</span>)) == <span class="number">3</span>:</span><br><span class="line">                header_dict[<span class="string">'method'</span>], header_dict[<span class="string">'url'</span>], header_dict[<span class="string">'protocol'</span>] = header_list[i].split(<span class="string">' '</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            k, v = header_list[i].split(<span class="string">':'</span>, <span class="number">1</span>)</span><br><span class="line">            header_dict[k] = v.strip()</span><br><span class="line">    <span class="keyword">return</span> header_dict</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_msg</span><span class="params">(conn, msg_bytes)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    WebSocketæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯</span></span><br><span class="line"><span class="string">    :param conn: å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ç«¯çš„socketå¯¹è±¡,å³ï¼š conn,address = socket.accept()</span></span><br><span class="line"><span class="string">    :param msg_bytes: å‘å®¢æˆ·ç«¯å‘é€çš„å­—èŠ‚</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">import</span> struct</span><br><span class="line"> </span><br><span class="line">    token = <span class="string">b"\x81"</span></span><br><span class="line">    length = len(msg_bytes)</span><br><span class="line">    <span class="keyword">if</span> length &lt; <span class="number">126</span>:</span><br><span class="line">        token += struct.pack(<span class="string">"B"</span>, length)</span><br><span class="line">    <span class="keyword">elif</span> length &lt;= <span class="number">0xFFFF</span>:</span><br><span class="line">        token += struct.pack(<span class="string">"!BH"</span>, <span class="number">126</span>, length)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        token += struct.pack(<span class="string">"!BQ"</span>, <span class="number">127</span>, length)</span><br><span class="line"> </span><br><span class="line">    msg = token + msg_bytes</span><br><span class="line">    conn.send(msg)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init_socket</span><span class="params">()</span>:</span></span><br><span class="line">    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">    sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br><span class="line">    sock.bind((<span class="string">'127.0.0.1'</span>, <span class="number">8003</span>))</span><br><span class="line">    sock.listen(<span class="number">5</span>)</span><br><span class="line"> </span><br><span class="line">    conn, address = sock.accept()</span><br><span class="line">    data = conn.recv(<span class="number">1024</span>)</span><br><span class="line">    headers = get_headers(data)</span><br><span class="line">    response_tpl = <span class="string">"HTTP/1.1 101 Switching Protocols\r\n"</span> \</span><br><span class="line">                   <span class="string">"Upgrade:websocket\r\n"</span> \</span><br><span class="line">                   <span class="string">"Connection:Upgrade\r\n"</span> \</span><br><span class="line">                   <span class="string">"Sec-WebSocket-Accept:%s\r\n"</span> \</span><br><span class="line">                   <span class="string">"WebSocket-Location:ws://%s%s\r\n\r\n"</span></span><br><span class="line"> </span><br><span class="line">    value = headers[<span class="string">'Sec-WebSocket-Key'</span>] + <span class="string">'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'</span></span><br><span class="line">    ac = base64.b64encode(hashlib.sha1(value.encode(<span class="string">'utf-8'</span>)).digest())</span><br><span class="line">    response_str = response_tpl % (ac.decode(<span class="string">'utf-8'</span>), headers[<span class="string">'Host'</span>], headers[<span class="string">'url'</span>])</span><br><span class="line">    conn.send(bytes(response_str, encoding=<span class="string">'utf-8'</span>))</span><br><span class="line">    <span class="keyword">return</span> conn, sock</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">analyze_info</span><span class="params">(info)</span>:</span></span><br><span class="line">    payload_len = info[<span class="number">1</span>] &amp; <span class="number">127</span></span><br><span class="line">    <span class="keyword">if</span> payload_len == <span class="number">126</span>:</span><br><span class="line">        extend_payload_len = info[<span class="number">2</span>:<span class="number">4</span>]</span><br><span class="line">        mask = info[<span class="number">4</span>:<span class="number">8</span>]</span><br><span class="line">        decoded = info[<span class="number">8</span>:]</span><br><span class="line">    <span class="keyword">elif</span> payload_len == <span class="number">127</span>:</span><br><span class="line">        extend_payload_len = info[<span class="number">2</span>:<span class="number">10</span>]</span><br><span class="line">        mask = info[<span class="number">10</span>:<span class="number">14</span>]</span><br><span class="line">        decoded = info[<span class="number">14</span>:]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        extend_payload_len = <span class="keyword">None</span></span><br><span class="line">        mask = info[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line">        decoded = info[<span class="number">6</span>:]</span><br><span class="line"></span><br><span class="line">    bytes_list = bytearray()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(decoded)):</span><br><span class="line">        chunk = decoded[i] ^ mask[i % <span class="number">4</span>]</span><br><span class="line">        bytes_list.append(chunk)</span><br><span class="line">    content = str(bytes_list, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    <span class="keyword">return</span> content</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    conn, sock = init_socket()</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            info = conn.recv(<span class="number">8096</span>)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            info = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> info:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        content = analyze_info(info)</span><br><span class="line">        send_msg(conn, content.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">    sock.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    run()</span><br></pre></td></tr></table></figure><h5 id="htmlçš„å®¢æˆ·ç«¯ä»£ç "><a class="markdownIt-Anchor" href="#htmlçš„å®¢æˆ·ç«¯ä»£ç "></a> htmlçš„å®¢æˆ·ç«¯ä»£ç </h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"txt"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">value</span>=<span class="string">"æäº¤"</span> <span class="attr">onclick</span>=<span class="string">"sendMsg();"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"close"</span> <span class="attr">value</span>=<span class="string">"å…³é—­è¿æ¥"</span> <span class="attr">onclick</span>=<span class="string">"closeConn();"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> socket = <span class="keyword">new</span> WebSocket(<span class="string">"ws://127.0.0.1:8003/chatsocket"</span>);</span></span><br><span class="line"><span class="undefined">         </span></span><br><span class="line"><span class="actionscript">            socket.onopen = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">/* ä¸æœåŠ¡å™¨ç«¯è¿æ¥æˆåŠŸåï¼Œè‡ªåŠ¨æ‰§è¡Œ */</span></span></span><br><span class="line"><span class="undefined">         </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTag = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">                newTag.innerHTML = <span class="string">"ã€è¿æ¥æˆåŠŸã€‘"</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).appendChild(newTag);</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">         </span></span><br><span class="line"><span class="actionscript">            socket.onmessage = <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">/* æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å‘é€æ•°æ®æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ */</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> response = event.data;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTag = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="undefined">                newTag.innerHTML = response;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).appendChild(newTag);</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">         </span></span><br><span class="line"><span class="actionscript">            socket.onclose = <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">/* æœåŠ¡å™¨ç«¯ä¸»åŠ¨æ–­å¼€è¿æ¥æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTag = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">                newTag.innerHTML = <span class="string">"ã€å…³é—­è¿æ¥ã€‘"</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).appendChild(newTag);</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">         </span></span><br><span class="line"><span class="actionscript">            <span class="function"><span class="keyword">function</span> <span class="title">sendMsg</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> txt = <span class="built_in">document</span>.getElementById(<span class="string">'txt'</span>);</span></span><br><span class="line"><span class="undefined">                socket.send(txt.value);</span></span><br><span class="line"><span class="actionscript">                txt.value = <span class="string">""</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="actionscript">            <span class="function"><span class="keyword">function</span> <span class="title">closeConn</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">                socket.close();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTag = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="actionscript">                newTag.innerHTML = <span class="string">"ã€å…³é—­è¿æ¥ã€‘"</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).appendChild(newTag);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">         </span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="tornadoåˆæ¢"><a class="markdownIt-Anchor" href="#tornadoåˆæ¢"></a> tornadoåˆæ¢</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ws = websocket.WebSocketApp(<span class="string">"ws://echo.websocket.org/"</span>,</span><br><span class="line">    on_message = on_message,</span><br><span class="line">    on_error = on_error,</span><br><span class="line">    on_close = on_close)</span><br><span class="line">ws.on_open = on_open</span><br><span class="line">ws.run_forever()</span><br></pre></td></tr></table></figure><p><strong>é•¿è¿æ¥ï¼Œå‚æ•°ä»‹ç»ï¼š</strong></p><p>ï¼ˆ1ï¼‰url: websocketçš„åœ°å€ã€‚</p><p>ï¼ˆ2ï¼‰header: å®¢æˆ·å‘é€websocketæ¡æ‰‹è¯·æ±‚çš„è¯·æ±‚å¤´ï¼Œ{â€˜head1:value1â€™,â€˜head2:value2â€™}ã€‚</p><p>ï¼ˆ3ï¼‰on_openï¼šåœ¨å»ºç«‹Websocketæ¡æ‰‹æ—¶è°ƒç”¨çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯è¯¥ç±»æœ¬èº«ã€‚</p><p>ï¼ˆ4ï¼‰on_messageï¼šè¿™ä¸ªå¯¹è±¡åœ¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„æ¶ˆæ¯æ—¶è°ƒç”¨ã€‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯è¯¥ç±»æœ¬èº«ï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬ä»æœåŠ¡å™¨è·å–çš„å­—ç¬¦ä¸²ï¼ˆutf-8æ ¼å¼ï¼‰ã€‚</p><p>ï¼ˆ5ï¼‰on_errorï¼šè¿™ä¸ªå¯¹è±¡åœ¨é‡åˆ°é”™è¯¯æ—¶è°ƒç”¨ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è¯¥ç±»æœ¬èº«ï¼Œç¬¬äºŒä¸ªæ˜¯å¼‚å¸¸å¯¹è±¡ã€‚</p><p>ï¼ˆ6ï¼‰on_closeï¼šåœ¨é‡åˆ°è¿æ¥å…³é—­çš„æƒ…å†µæ—¶è°ƒç”¨ï¼Œå‚æ•°åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯è¯¥ç±»æœ¬èº«ã€‚</p><p>ï¼ˆ7ï¼‰on_cont_messageï¼šè¿™ä¸ªå¯¹è±¡åœ¨æ¥æ”¶åˆ°è¿ç»­å¸§æ•°æ®æ—¶è¢«è°ƒç”¨ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼šç±»æœ¬èº«ï¼Œä»æœåŠ¡å™¨æ¥å—çš„å­—ç¬¦ä¸²ï¼ˆutf-8ï¼‰ï¼Œè¿ç»­æ ‡å¿—ã€‚</p><p>ï¼ˆ8ï¼‰on_dataï¼šå½“ä»æœåŠ¡å™¨æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶è¢«è°ƒç”¨ï¼Œæœ‰å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼šè¯¥ç±»æœ¬èº«ï¼Œæ¥æ”¶åˆ°çš„å­—ç¬¦ä¸²ï¼ˆutf-8ï¼‰ï¼Œæ•°æ®ç±»å‹ï¼Œè¿ç»­æ ‡å¿—ã€‚</p><p>ï¼ˆ9ï¼‰keep_runningï¼šä¸€ä¸ªäºŒè¿›åˆ¶çš„æ ‡å¿—ä½ï¼Œå¦‚æœä¸ºTrueï¼Œè¿™ä¸ªappçš„ä¸»å¾ªç¯å°†æŒç»­è¿è¡Œï¼Œé»˜è®¤å€¼ä¸ºTrueã€‚</p><p>ï¼ˆ10ï¼‰get_mask_keyï¼šç”¨äºäº§ç”Ÿä¸€ä¸ªæ©ç ã€‚</p><p>ï¼ˆ11ï¼‰subprotocolsï¼šä¸€ç»„å¯ç”¨çš„å­åè®®ï¼Œé»˜è®¤ä¸ºç©ºã€‚</p><h4 id="tornadohello_world"><a class="markdownIt-Anchor" href="#tornadohello_world"></a> tornado.hello_world</h4><ul><li><strong>Http</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tornado.ioloop</span><br><span class="line"><span class="keyword">import</span> tornado.web</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IndexHandler</span><span class="params">(RequestHandler)</span>:</span></span><br><span class="line">    <span class="comment"># æ­£å¸¸1ï¼ŒæŠ›é”™1ã€5</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_default_headers</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"è°ƒç”¨äº†set_default_headers()"</span> </span><br><span class="line"><span class="comment"># æ­£å¸¸2ï¼ŒæŠ›é”™2</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"è°ƒç”¨äº†initialize()"</span></span><br><span class="line"> <span class="comment"># æ­£å¸¸3ï¼ŒæŠ›é”™3</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prepare</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"è°ƒç”¨äº†prepare()"</span></span><br><span class="line"> <span class="comment"># æ­£å¸¸4ï¼ŒæŠ›é”™4</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"è°ƒç”¨äº†get()"</span></span><br><span class="line"> <span class="comment"># æ­£å¸¸4ï¼ŒæŠ›é”™4</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"è°ƒç”¨äº†post()"</span></span><br><span class="line">        self.send_error(<span class="number">200</span>)  <span class="comment"># æ³¨æ„æ­¤å‡ºæŠ›å‡ºäº†é”™è¯¯</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ­£å¸¸æ— ã€æŠ›é”™6</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">write_error</span><span class="params">(self, status_code, **kwargs)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"è°ƒç”¨äº†write_error()"</span>    </span><br><span class="line">        </span><br><span class="line"> <span class="comment"># æ­£å¸¸5ã€æŠ›é”™7</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_finish</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"è°ƒç”¨äº†on_finish()"</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># å®šä¹‰Httpå¤„ç†ç±»å‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainHandler</span><span class="params">(tornado.web.RequestHandler)</span>:</span></span><br><span class="line">    <span class="comment"># å¤„ç†è·¯ç”±å‚æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(self, subject)</span>:</span></span><br><span class="line">        self.subject = subject</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ ä¸€ä¸ªå¤„ç†getè¯·æ±‚æ–¹å¼çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># writeæ–¹æ³•æ˜¯å†™åˆ°ç¼“å†²åŒºçš„</span></span><br><span class="line">        self.write(<span class="string">"Hello, world"</span>)</span><br><span class="line">        <span class="comment"># writeä¼šè‡ªåŠ¨æ£€æµ‹jsonç±»å‹ï¼Œè¿›è¡ŒåŒ…è£…ï¼Œå¹¶è®¾Content-Typeè®¾ç½®ä¸ºapplication/json; charset=UTF-8ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_app</span><span class="params">()</span>:</span></span><br><span class="line">    settings = &#123;</span><br><span class="line">        <span class="string">'template_path'</span>: <span class="string">'templates'</span>,</span><br><span class="line">        <span class="string">'static_path'</span>: <span class="string">'static'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tornado.web.Application([</span><br><span class="line">        (<span class="string">r"/main"</span>, MainHandler, &#123;<span class="string">"subject"</span>:<span class="string">"c++"</span>&#125;),<span class="comment"># æŒ‡å®šè·¯ç”±ä¿¡æ¯,è·¯ç”±å‚æ•°ä¼šä¼ å…¥initialize()ä¸­</span></span><br><span class="line">        (<span class="string">r"/"</span>, IndexHandler),</span><br><span class="line">    ], debug=<span class="keyword">True</span>, **settings)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># debug=Trueæ—¶ï¼Œæœ‰è‡ªåŠ¨é‡å¯ã€æä¾›è¿½è¸ªä¿¡æ¯ç­‰åŠŸèƒ½</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    app = make_app()  <span class="comment"># åˆ›å»ºä¸€ä¸ªåº”ç”¨å¯¹è±¡,å¾—è¿”å›Applicationå¯¹è±¡</span></span><br><span class="line">    app.listen(<span class="number">8888</span>)  <span class="comment"># è®¾ç½®ç«¯å£</span></span><br><span class="line">    tornado.ioloop.IOLoop.current().start()  <span class="comment"># å¯åŠ¨webç¨‹åºï¼Œå¼€å§‹ç›‘å¬ç«¯å£çš„è¿æ¥</span></span><br></pre></td></tr></table></figure><ul><li><strong>Websocket</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># â–²ç»§æ‰¿çš„ç±»ä¸ºWebSocketHandler</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChatHandler</span><span class="params">(tornado.websocket.WebSocketHandler)</span>:</span></span><br><span class="line">    <span class="comment"># ç”¨æˆ·å­˜å‚¨å½“å‰èŠå¤©å®¤ç”¨æˆ·</span></span><br><span class="line">    waiters = set()</span><br><span class="line">    <span class="comment"># ç”¨äºå­˜å‚¨å†æ—¶æ¶ˆæ¯</span></span><br><span class="line">    messages = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">open</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å®¢æˆ·ç«¯è¿æ¥æˆåŠŸæ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line"><span class="string">        :return: </span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        ChatHandler.waiters.add(self)</span><br><span class="line">        uid = str(uuid.uuid4())</span><br><span class="line">        self.write_message(uid)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> msg <span class="keyword">in</span> ChatHandler.messages:</span><br><span class="line">            content = self.render_string(<span class="string">'message.html'</span>, **msg)</span><br><span class="line">            self.write_message(content)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_message</span><span class="params">(self, message)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å®¢æˆ·ç«¯è¿å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line"><span class="string">        :param message: </span></span><br><span class="line"><span class="string">        :return: </span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        msg = json.loads(message)</span><br><span class="line">        ChatHandler.messages.append(message)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> client <span class="keyword">in</span> ChatHandler.waiters:</span><br><span class="line">            content = client.render_string(<span class="string">'message.html'</span>, **msg)</span><br><span class="line">            client.write_message(content)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_close</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶ï¼Œï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line"><span class="string">        :return: </span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        ChatHandler.waiters.remove(self)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    settings = &#123;</span><br><span class="line">        <span class="string">'template_path'</span>: <span class="string">'templates'</span>,</span><br><span class="line">        <span class="string">'static_path'</span>: <span class="string">'static'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    application = tornado.web.Application([</span><br><span class="line">        (<span class="string">r"/"</span>, IndexHandler),</span><br><span class="line">        (<span class="string">r"/chat"</span>, ChatHandler),</span><br><span class="line">    ], **settings)</span><br><span class="line">    application.listen(<span class="number">8888</span>)</span><br><span class="line">    tornado.ioloop.IOLoop.instance().start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    run()</span><br></pre></td></tr></table></figure><h4 id="åŸºäºtornadoèŠå¤©å®¤"><a class="markdownIt-Anchor" href="#åŸºäºtornadoèŠå¤©å®¤"></a> <a href="https://www.cnblogs.com/ssyfj/p/9245150.html" target="_blank" rel="noopener">åŸºäºTornadoâ€”â€”èŠå¤©å®¤</a></h4><p>é¡¹ç›®ç»“æ„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">â”‚   app.py</span><br><span class="line">â”‚</span><br><span class="line">â”œâ”€â”€â”€static</span><br><span class="line">â”‚       jquery-2.1.4.min.js</span><br><span class="line">â”‚</span><br><span class="line">â””â”€â”€â”€templates</span><br><span class="line">        index.html</span><br><span class="line">        message.html</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># app.py</span></span><br><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> tornado.ioloop</span><br><span class="line"><span class="keyword">import</span> tornado.web</span><br><span class="line"><span class="keyword">import</span> tornado.websocket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IndexHandler</span><span class="params">(tornado.web.RequestHandler)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.render(<span class="string">'index.html'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChatHandler</span><span class="params">(tornado.websocket.WebSocketHandler)</span>:</span></span><br><span class="line">    <span class="comment"># ç”¨æˆ·å­˜å‚¨å½“å‰èŠå¤©å®¤ç”¨æˆ·</span></span><br><span class="line">    waiters = set()</span><br><span class="line">    <span class="comment"># ç”¨äºå­˜å‚¨å†æ—¶æ¶ˆæ¯</span></span><br><span class="line">    messages = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">open</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å®¢æˆ·ç«¯è¿æ¥æˆåŠŸæ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line"><span class="string">        :return: </span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        ChatHandler.waiters.add(self)</span><br><span class="line">        uid = str(uuid.uuid4())</span><br><span class="line">        self.write_message(uid)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> msg <span class="keyword">in</span> ChatHandler.messages:</span><br><span class="line">            content = self.render_string(<span class="string">'message.html'</span>, **msg)</span><br><span class="line">            self.write_message(content)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_message</span><span class="params">(self, message)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å®¢æˆ·ç«¯è¿å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line"><span class="string">        :param message: </span></span><br><span class="line"><span class="string">        :return: </span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        msg = json.loads(message)</span><br><span class="line">        ChatHandler.messages.append(message)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å‘å½“å‰åœ¨çº¿çš„æ¯ä¸ªç”¨æˆ·å‘é€æœ€æ–°çš„æ¶ˆæ¯ç•Œé¢</span></span><br><span class="line">        <span class="keyword">for</span> client <span class="keyword">in</span> ChatHandler.waiters:</span><br><span class="line">            content = client.render_string(<span class="string">'message.html'</span>, **msg)</span><br><span class="line">            client.write_message(content)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_close</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶ï¼Œï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line"><span class="string">        :return: </span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        ChatHandler.waiters.remove(self)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    settings = &#123;</span><br><span class="line">        <span class="string">'template_path'</span>: <span class="string">'templates'</span>,</span><br><span class="line">        <span class="string">'static_path'</span>: <span class="string">'static'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    application = tornado.web.Application([</span><br><span class="line">        (<span class="string">r"/"</span>, IndexHandler),</span><br><span class="line">        (<span class="string">r"/chat"</span>, ChatHandler),</span><br><span class="line">    ], **settings)</span><br><span class="line">    application.listen(<span class="number">8888</span>)</span><br><span class="line">    tornado.ioloop.IOLoop.instance().start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    run()</span><br></pre></td></tr></table></figure><p>index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>PythonèŠå¤©å®¤<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"txt"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">value</span>=<span class="string">"æäº¤"</span> <span class="attr">onclick</span>=<span class="string">"sendMsg();"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"close"</span> <span class="attr">value</span>=<span class="string">"å…³é—­è¿æ¥"</span> <span class="attr">onclick</span>=<span class="string">"closeConn();"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span> <span class="attr">style</span>=<span class="string">"border: 1px solid #dddddd;margin: 20px;min-height: 500px;"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/static/jquery-2.1.4.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">            wsUpdater.start();</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> wsUpdater = &#123;</span></span><br><span class="line"><span class="actionscript">            socket: <span class="literal">null</span>,</span></span><br><span class="line"><span class="actionscript">            uid: <span class="literal">null</span>,</span></span><br><span class="line"><span class="actionscript">            start: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> url = <span class="string">"ws://127.0.0.1:8888/chat"</span>;</span></span><br><span class="line"><span class="actionscript">                wsUpdater.socket = <span class="keyword">new</span> WebSocket(url);</span></span><br><span class="line"><span class="actionscript">                wsUpdater.socket.onmessage = <span class="function"><span class="keyword">function</span><span class="params">(event)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(event);</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">if</span>(wsUpdater.uid)&#123;</span></span><br><span class="line"><span class="undefined">                        wsUpdater.showMessage(event.data);</span></span><br><span class="line"><span class="actionscript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="undefined">                        wsUpdater.uid = event.data;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="actionscript">            showMessage: <span class="function"><span class="keyword">function</span><span class="params">(content)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#container'</span>).append(content);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// æŒ‰ä¸‹æäº¤æŒ‰é’®åï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ä¿¡æ¯ï¼ŒæœåŠ¡ç«¯å†å°†æ•°æ®ç»™message.htmlæ¸²æŸ“</span></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">sendMsg</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> msg = &#123;</span></span><br><span class="line"><span class="undefined">                uid: wsUpdater.uid,</span></span><br><span class="line"><span class="javascript">                message: $(<span class="string">"#txt"</span>).val()</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(msg));</span></span><br><span class="line"><span class="javascript">            wsUpdater.socket.send(<span class="built_in">JSON</span>.stringify(msg));</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>message.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"border: 1px solid #dddddd;margin: 10px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>æ¸¸å®¢&#123;&#123;uid&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin-left: 20px;"</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â–²  æ•´ä¸ªæ‰§è¡Œæµç¨‹ï¼š</p><ol><li>æŒ‰ä¸‹æäº¤åè°ƒç”¨html.sendMsgâ€“&gt;</li><li>æ•°æ®messageâ€“&gt;åœ¨åè‡ªåŠ¨è°ƒç”¨on_messageï¼Œä¼šå°†messageä¼ ç»™massage.htmlæ¸²æŸ“ï¼Œå°†æ¸²æŸ“ç»“æœ(<strong>å­—ç¬¦ä¸²</strong>)è¿”å›ç»™ç”¨æˆ·(write_message)â€“&gt;</li><li>å®¢æˆ·ç«¯æ”¶åˆ°æ¶ˆæ¯åè‡ªåŠ¨æ‰§è¡Œhtml.on_messageä¼šè°ƒç”¨html.showMessageï¼ŒæŠŠcontentå³<strong>å­—ç¬¦ä¸²</strong>(event.data)ç”¨jqueryè¿½åŠ æ˜¾ç¤ºindex.htmlé¡µé¢ä¸Š<code>$('#container').append(content);</code></li></ol><h2 id="é™„å½•æ–‡çŒ®"><a class="markdownIt-Anchor" href="#é™„å½•æ–‡çŒ®"></a> é™„å½•æ–‡çŒ®:</h2><h3 id="websocketè·å–å®æ—¶æ•°æ®çš„å‡ ç§å¸¸è§é“¾æ¥æ–¹å¼"><a class="markdownIt-Anchor" href="#websocketè·å–å®æ—¶æ•°æ®çš„å‡ ç§å¸¸è§é“¾æ¥æ–¹å¼"></a> <a href="https://blog.csdn.net/Darkman_EX/article/details/82592118?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">websocketè·å–å®æ—¶æ•°æ®çš„å‡ ç§å¸¸è§é“¾æ¥æ–¹å¼</a></h3><h3 id="pythonä½¿ç”¨websocketçš„å‡ ç§æ–¹å¼"><a class="markdownIt-Anchor" href="#pythonä½¿ç”¨websocketçš„å‡ ç§æ–¹å¼"></a> <a href="https://jingniao.github.io/2016/04/10/python-websocket/?tdsourcetag=s_pctim_aiomsg" target="_blank" rel="noopener">pythonä½¿ç”¨websocketçš„å‡ ç§æ–¹å¼</a></h3><h3 id="python-web-æ¡†æ¶tornadoåˆæ¢"><a class="markdownIt-Anchor" href="#python-web-æ¡†æ¶tornadoåˆæ¢"></a> <a href="https://blog.csdn.net/xc_zhou/article/details/80637714" target="_blank" rel="noopener">Python Web æ¡†æ¶ï¼šTornadoåˆæ¢</a></h3><h3 id="pythonå­¦ä¹ ç¬”è®°tornadoæ·±å…¥"><a class="markdownIt-Anchor" href="#pythonå­¦ä¹ ç¬”è®°tornadoæ·±å…¥"></a> <a href="https://blog.csdn.net/tichimi3375/article/details/82109679" target="_blank" rel="noopener">â–²Pythonå­¦ä¹ ç¬”è®°â€”â€”Tornadoæ·±å…¥</a></h3><h3 id="å®Œæ•´çš„websocketä½¿ç”¨èŠå¤©å®¤"><a class="markdownIt-Anchor" href="#å®Œæ•´çš„websocketä½¿ç”¨èŠå¤©å®¤"></a> <a href="https://www.cnblogs.com/ssyfj/p/9245150.html" target="_blank" rel="noopener">å®Œæ•´çš„websocketä½¿ç”¨â€”â€”èŠå¤©å®¤</a></h3><h2 id="å‘ç‚¹è®°å½•"><a class="markdownIt-Anchor" href="#å‘ç‚¹è®°å½•"></a> å‘ç‚¹è®°å½•ï¼š</h2><h3 id="1create_connectionå¯¼å…¥å¤±è´¥"><a class="markdownIt-Anchor" href="#1create_connectionå¯¼å…¥å¤±è´¥"></a> 1.create_connectionå¯¼å…¥å¤±è´¥</h3><p>Q:<code>ImportError: cannot import name 'create_connection' from 'websocket' (unknown location)</code></p><ul><li>A:åœ¨ä½¿ç”¨create_connectionä¹‹å‰è¦å®‰è£…<code>websocket_client</code> ,å³ <code>pip install websocket-client</code></li></ul><h3 id="ä¸ªäººçš„htmlå®¢æˆ·ç«¯ä»£ç "><a class="markdownIt-Anchor" href="#ä¸ªäººçš„htmlå®¢æˆ·ç«¯ä»£ç "></a> ä¸ªäººçš„HTMLå®¢æˆ·ç«¯ä»£ç </h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>2048å®¢æˆ·ç«¯<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"â†‘"</span> <span class="attr">name</span>=<span class="string">"â†‘"</span> <span class="attr">onclick</span>=<span class="string">"up()"</span> <span class="attr">style</span>=<span class="string">"height:50px; width:50px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"â†“"</span> <span class="attr">name</span>=<span class="string">"â†“"</span> <span class="attr">onclick</span>=<span class="string">"down()"</span> <span class="attr">style</span>=<span class="string">"height:50px; width:50px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"â†"</span> <span class="attr">name</span>=<span class="string">"â†"</span> <span class="attr">onclick</span>=<span class="string">"left()"</span> <span class="attr">style</span>=<span class="string">"height:50px; width:50px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"â†’"</span> <span class="attr">name</span>=<span class="string">"â†’"</span> <span class="attr">onclick</span>=<span class="string">"right()"</span> <span class="attr">style</span>=<span class="string">"height:50px; width:50px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://code.jquery.com/jquery-3.1.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">            wsUpdater.start();</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> wsUpdater = &#123;</span></span><br><span class="line"><span class="actionscript">            socket: <span class="literal">null</span>,</span></span><br><span class="line"><span class="actionscript">            uid: <span class="literal">null</span>,</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">            start: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> url = <span class="string">"ws://127.0.0.1:8888/game"</span>;</span></span><br><span class="line"><span class="actionscript">                wsUpdater.socket = <span class="keyword">new</span> WebSocket(url);</span></span><br><span class="line"><span class="actionscript">                wsUpdater.socket.onmessage = <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="actionscript">                wsUpdater.socket.onopen = <span class="function"><span class="keyword">function</span> <span class="params">(ev)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">//è‹¥æ˜¯è¿æ¥æˆåŠŸï¼Œonopenå‡½æ•°ä¼šæ‰§è¡Œ</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(ev);</span></span><br><span class="line"><span class="actionscript">                    msg = <span class="string">'success'</span>;</span></span><br><span class="line"><span class="javascript">                    wsUpdater.socket.send(<span class="built_in">JSON</span>.stringify(msg));</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="actionscript">                wsUpdater.socket.onclose = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">"Clientæ–­å¼€è¿æ¥!"</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">up</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">            wsUpdater.socket.send(0);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">down</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">            wsUpdater.socket.send(1);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">left</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">            wsUpdater.socket.send(2);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">right</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="undefined">            wsUpdater.socket.send(3);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="jså®¢æˆ·ç«¯"><a class="markdownIt-Anchor" href="#jså®¢æˆ·ç«¯"></a> jså®¢æˆ·ç«¯</h3><p>å…ˆç”¨<code>npm install ws</code>ï¼Œå†è¾“å…¥<code>node doit.js</code>è¿è¡Œä»£ç </p><p>doit.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> WebSocket = <span class="built_in">require</span>(<span class="string">'ws'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line"><span class="keyword">var</span> wsUpdater = &#123;</span><br><span class="line">    socket: <span class="literal">null</span>,</span><br><span class="line">    uid: <span class="literal">null</span>,</span><br><span class="line"></span><br><span class="line">    start: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> url = <span class="string">"ws://127.0.0.1:8888/game"</span>;</span><br><span class="line">        wsUpdater.socket = <span class="keyword">new</span> WebSocket(url);</span><br><span class="line">        wsUpdater.socket.onmessage = <span class="function"><span class="keyword">function</span> (<span class="params">ev</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(ev);</span><br><span class="line">            game = <span class="built_in">JSON</span>.parse(ev.data);</span><br><span class="line">            <span class="built_in">console</span>.log(game);</span><br><span class="line">        &#125;;</span><br><span class="line">        wsUpdater.socket.onopen = <span class="function"><span class="keyword">function</span> (<span class="params">ev</span>) </span>&#123;</span><br><span class="line">            <span class="comment">//è‹¥æ˜¯è¿æ¥æˆåŠŸï¼Œonopenå‡½æ•°ä¼šæ‰§è¡Œ</span></span><br><span class="line">            <span class="built_in">console</span>.log(ev);</span><br><span class="line">            msg = <span class="string">'success'</span>;</span><br><span class="line">            wsUpdater.socket.send(<span class="built_in">JSON</span>.stringify(msg));</span><br><span class="line">        &#125;;</span><br><span class="line">        wsUpdater.socket.onclose = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"Clientæ–­å¼€è¿æ¥!"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">wsUpdater.start();</span><br></pre></td></tr></table></figure><p>Pythonä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> ws4py.client.threadedclient <span class="keyword">import</span> WebSocketClient</span><br><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">from</span> core <span class="keyword">import</span> Game</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GamePlayer</span><span class="params">(WebSocketClient)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">opened</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># req = '&#123;"event":"subscribe", "channel":"eth_usdt.deep"&#125;'</span></span><br><span class="line">        <span class="comment"># self.send(req)</span></span><br><span class="line">        print(<span class="string">"è¿æ¥æˆåŠŸ"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closed</span><span class="params">(self, code, reason=None)</span>:</span></span><br><span class="line">        <span class="comment"># print("Closed down:", code, reason)</span></span><br><span class="line">        print(<span class="string">"è¿æ¥ä¸­æ–­"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">received_message</span><span class="params">(self, resp)</span>:</span></span><br><span class="line">        resp = json.loads(str(resp))</span><br><span class="line">        print(resp)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># in_pipe, out_pipe = multiprocessing.Pipe(True)</span></span><br><span class="line">    ws = <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        ws = GamePlayer(<span class="string">'ws://127.0.0.1:23456/game'</span>)</span><br><span class="line">        ws.connect()</span><br><span class="line">        ws.run_forever()</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        ws.close()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç½‘ç»œçŸ¥è¯†websocket&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç½‘ç»œçŸ¥è¯†websocket&quot;&gt;&lt;/a&gt; ç½‘ç»œçŸ¥è¯†â€”â€”Websocket&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TCP ï¼šé¢å‘è¿æ¥â€”&amp;gt; æ‰“ç”µè¯(ç›¸äº’å›å¤,ä¸€æ¥ä¸€
      
    
    </summary>
    
    
      <category term="Python" scheme="https://nymrli.top/tags/Python/"/>
    
      <category term="ç½‘ç»œçŸ¥è¯†" scheme="https://nymrli.top/tags/%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€å—äº¬é‚®ç”µå¤§å­¦åœ¨çº¿æµ‹è¯„ç³»ç»Ÿç¨‹åºè®¾è®¡é‚€è¯·èµ›--</title>
    <link href="https://nymrli.top/2019/11/17/%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%85%AB%E5%B1%8A%E2%80%9C%E5%92%8C%E5%B7%A8%E8%80%80%E9%80%9A%E6%9D%AF%E2%80%9DNOJ%E9%82%80%E8%AF%B7%E8%B5%9B/"/>
    <id>https://nymrli.top/2019/11/17/ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€NOJé‚€è¯·èµ›/</id>
    <published>2019-11-17T09:43:56.000Z</published>
    <updated>2019-11-17T09:58:12.998Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬äºŒåå…«å±Šå’Œå·¨è€€é€šæ¯nojé‚€è¯·èµ›"><a class="markdownIt-Anchor" href="#ç¬¬äºŒåå…«å±Šå’Œå·¨è€€é€šæ¯nojé‚€è¯·èµ›"></a> ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€NOJé‚€è¯·èµ›</h1><blockquote><p>ä¸‰äººå›¢é˜Ÿèµ›ï¼Œ æ­£å¥½æœ€è¿‘åœ¨åˆ·PTAï¼Œ äºæ˜¯ä¸€ä¸ªäººæŠ¥åå°è¯•äº†ä¸€ä¸‹ã€‚</p><p>ä¸€å…±ACäº†ä¸‰é¢˜ï¼Œ Rank28</p></blockquote><h2 id="c-battle-game"><a class="markdownIt-Anchor" href="#c-battle-game"></a> <a href="https://acm.njupt.edu.cn/contest/109/board/challenge/C" target="_blank" rel="noopener">C. Battle game</a></h2><blockquote><p>ç­¾åˆ°é¢˜</p></blockquote><p><strong>Description:</strong></p><p>You are playing a game which you will battle with an enemy. As you donâ€™t want to lose, your total power canâ€™t be lower than your enemyâ€™s. Your power is simply added by the power of your soldiers, and all of your soldiersâ€™ power is exactly aa. Now you have known that your enemyâ€™s total power is bb. You want to know how many soldiers you need in order not to lose the battle.</p><p><strong>Input:</strong></p><p>A line with two integers a,ba,b, (1â‰¤a,bâ‰¤109)(1â‰¤a,bâ‰¤109).</p><p><strong>Output:</strong></p><p>A line with one integer, denotes the minimum number of soldiers you need.</p><p><strong>Sample Input:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123 456</span><br></pre></td></tr></table></figure><p><strong>Sample Output:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure><h3 id="acä»£ç "><a class="markdownIt-Anchor" href="#acä»£ç "></a> ACä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a, b;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; a&gt;&gt; b)&#123;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> ( b%a != <span class="number">0</span>)</span><br><span class="line">            ans= b/a+<span class="number">1</span>;</span><br><span class="line"><span class="comment">//            cout &lt;&lt; b/a+1&lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ans = b/a;</span><br><span class="line"><span class="comment">//            cout &lt;&lt; b/a &lt;&lt; endl;</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="d-gomoku"><a class="markdownIt-Anchor" href="#d-gomoku"></a> <a href="https://acm.njupt.edu.cn/contest/109/board/challenge/D" target="_blank" rel="noopener">D. Gomoku</a></h2><p><strong>Description:</strong></p><p>Alice and Bob are playing a game called <em>Gomoku</em> (a.k.a. <em>Five in a Row</em>). Alice is sente(black, moves first) and Bob is gote(white, moves second). Alice wants to know whether she can win(have five or more consecutive stones of the same color in a diagonal, vertical, or horizontal row) in one step, and now is Aliceâ€™s turn. It is guranteed that neither Alice or Bob wins currently. Prohibitions are not considered in this problem.</p><p><strong>Input:</strong></p><p>The first line contains one integer nn, which denotes the size of the board is nÃ—nnÃ—n.</p><p>Next nn lines each has a string of length nn, use <code>@</code> to represent black, <code>O</code> to represent white, <code>+</code> to represent thereâ€™s no stone at that position.</p><p><strong>Output:</strong></p><p>If Alice can win in one step, output <code>YES</code>, otherwise output <code>NO</code>.</p><p><strong>Sample Input:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">+++O+++</span><br><span class="line">+@+@+++</span><br><span class="line">+O@@@++</span><br><span class="line">+++@+++</span><br><span class="line">+++O@++</span><br><span class="line">++OOOO+</span><br><span class="line">+++++++</span><br></pre></td></tr></table></figure><p><strong>Sample Output:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br></pre></td></tr></table></figure><h3 id="acä»£ç -2"><a class="markdownIt-Anchor" href="#acä»£ç -2"></a> ACä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span>  maxn = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">+++O+++</span></span><br><span class="line"><span class="comment">+@+@+++</span></span><br><span class="line"><span class="comment">+O@@@++</span></span><br><span class="line"><span class="comment">+++@+++</span></span><br><span class="line"><span class="comment">+++O@++</span></span><br><span class="line"><span class="comment">++OOOO+</span></span><br><span class="line"><span class="comment">+++++++</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> maze[maxn][maxn];</span><br><span class="line"><span class="keyword">bool</span> can=<span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dirnum = <span class="number">8</span>;</span><br><span class="line"><span class="comment">// -&gt; , 2, &lt;- , 8,</span></span><br><span class="line"><span class="keyword">int</span> xdir[dirnum] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> ydir[dirnum] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> depth, <span class="keyword">int</span> dir, <span class="keyword">int</span> plustime)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (depth == <span class="number">5</span>)&#123;</span><br><span class="line">        can = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//        cout &lt;&lt; x &lt;&lt; y &lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (plustime == <span class="number">2</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (maze[x][y] == <span class="string">'O'</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (!maze[x][y]) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (can == <span class="literal">false</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> xt = xdir[dir] + x;</span><br><span class="line">        <span class="keyword">int</span> yt = ydir[dir] + y;</span><br><span class="line"><span class="comment">//        cout &lt;&lt; "      x:" &lt;&lt; xt &lt;&lt; " y:"&lt;&lt; yt &lt;&lt;  " " &lt;&lt;  maze[xt][yt] &lt;&lt; "plustime:"&lt;&lt; plustime&lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">if</span> (maze[xt][yt] == <span class="string">'+'</span> &amp;&amp; plustime==<span class="number">0</span>)&#123;</span><br><span class="line">            maze[xt][yt] = <span class="string">'@'</span>;</span><br><span class="line">            dfs(xt, yt, depth+<span class="number">1</span>, dir, plustime+<span class="number">1</span>);</span><br><span class="line">            maze[xt][yt] = <span class="string">'+'</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(maze[xt][yt] == <span class="string">'@'</span> )&#123;</span><br><span class="line">            dfs(xt, yt, depth+<span class="number">1</span>, dir, plustime);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 5- 1e3</span></span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt;maze[i][j];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    for(int i=1;i&lt;=n;i++)&#123;</span></span><br><span class="line"><span class="comment">//        for(int j=1;j&lt;=n;j++)</span></span><br><span class="line"><span class="comment">//            cout &lt;&lt; maze[i][j];</span></span><br><span class="line"><span class="comment">//        cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (maze[i][j]== <span class="string">'@'</span>)&#123;</span><br><span class="line"><span class="comment">//                cout &lt;&lt; "test" &lt;&lt; "x:" &lt;&lt; i &lt;&lt; " y:"&lt;&lt; j &lt;&lt; " "&lt;&lt;  maze[i][j]&lt;&lt; endl;</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;dirnum; k++)&#123;</span><br><span class="line">                    <span class="keyword">int</span> xt = xdir[k] + i;</span><br><span class="line">                    <span class="keyword">int</span> yt = ydir[k] + j;</span><br><span class="line">                    <span class="keyword">if</span> (maze[xt][yt]==<span class="string">'@'</span>)</span><br><span class="line"><span class="comment">//                    cout &lt;&lt; "  in " &lt;&lt; "x:" &lt;&lt; xt &lt;&lt; " y:"&lt;&lt; yt &lt;&lt; " "&lt;&lt;  maze[xt][yt]&lt;&lt; endl;</span></span><br><span class="line">                        dfs(xt, yt, <span class="number">2</span>, k, <span class="number">0</span>);</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (maze[xt][yt] == <span class="string">'+'</span>)</span><br><span class="line">                        dfs(xt, yt, <span class="number">2</span>, k, <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            else cout &lt;&lt; "new" &lt;&lt; "x:" &lt;&lt; i &lt;&lt; " y:"&lt;&lt; j &lt;&lt; " "&lt;&lt;  maze[i][j]&lt;&lt; endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (can) <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="g-number"><a class="markdownIt-Anchor" href="#g-number"></a> <a href="https://acm.njupt.edu.cn/contest/109/board/challenge/G" target="_blank" rel="noopener">G. Number</a></h2><blockquote><p>è§„å¾‹é¢˜</p></blockquote><p><strong>Description:</strong></p><p>0xfaner just learned the factorial today, and the factorial is defined as follows:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">!</mo><mo>=</mo><mn>1</mn><mo>Ã—</mo><mn>2</mn><mo>Ã—</mo><mo>â‹¯</mo><mo>Ã—</mo><mi>x</mi><mi>x</mi><mo stretchy="false">!</mo><mo>=</mo><mn>1</mn><mo>Ã—</mo><mn>2</mn><mo>Ã—</mo><mo>â‹¯</mo><mo>Ã—</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">x!=1Ã—2Ã—â‹¯Ã—xx!=1Ã—2Ã—â‹¯Ã—x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault">x</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span></p><p>He found that $10!=362880010!=3628800 $ï¼Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>20</mn><mo stretchy="false">!</mo><mo>=</mo><mn>2432902008176640000</mn></mrow><annotation encoding="application/x-tex">20!=2432902008176640000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">4</span><span class="mord">3</span><span class="mord">2</span><span class="mord">9</span><span class="mord">0</span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">8</span><span class="mord">1</span><span class="mord">7</span><span class="mord">6</span><span class="mord">6</span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> , the number of trailing zeros is increasing.</p><p>Now 0xfaner wants to know the the number of trailing zeros of n!n!to each given nn .</p><p><strong>Input:</strong></p><p>The only line contains one integer nn ( 1â‰¤nâ‰¤1091â‰¤nâ‰¤109 ).</p><p><strong>Output:</strong></p><p>Print the number of trailing zeros of n!n! .</p><p><strong>Sample Input:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">25</span><br></pre></td></tr></table></figure><p><strong>Sample Output:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure><p>AC</p><blockquote><p>è§„å¾‹é¢˜</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">BigInteger res =  <span class="keyword">new</span> BigInteger(<span class="string">"1"</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">BigInteger tmp =  <span class="keyword">new</span> BigInteger(String.valueOf(i));</span><br><span class="line">res = res.multiply(tmp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//System.out.printf("%s\n",res.bitCount());</span></span><br><span class="line"><span class="comment">//System.out.printf("%s\n",res.bitLength());</span></span><br><span class="line"><span class="comment">//System.out.printf("%d\n",res.byteValue());</span></span><br><span class="line">String s = res.toString();</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=s.length()-<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line"><span class="keyword">if</span> (s.charAt(j)==<span class="string">'0'</span>) ans ++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"><span class="keyword">int</span> n = scanner.nextInt();</span><br><span class="line">System.out.printf(<span class="string">"%d"</span>,solve(n));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåä¸€ç›´TLEï¼Œäºæ˜¯çŒœæµ‹æ˜¯å¦æœ‰è§„å¾‹</p><h3 id="acä»£ç -3"><a class="markdownIt-Anchor" href="#acä»£ç -3"></a> ACä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    ll n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n)&#123;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n)&#123;</span><br><span class="line">            ans += n/<span class="number">5</span>;</span><br><span class="line">            n /= <span class="number">5</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç¬¬äºŒåå…«å±Šå’Œå·¨è€€é€šæ¯nojé‚€è¯·èµ›&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç¬¬äºŒåå…«å±Šå’Œå·¨è€€é€šæ¯nojé‚€è¯·èµ›&quot;&gt;&lt;/a&gt; ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€NOJé‚€è¯·èµ›&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‰äººå›¢é˜Ÿèµ›ï¼Œ æ­£å¥½æœ€è¿‘åœ¨åˆ·PT
      
    
    </summary>
    
    
      <category term="ACM" scheme="https://nymrli.top/tags/ACM/"/>
    
      <category term="C++" scheme="https://nymrli.top/tags/C/"/>
    
      <category term="Algorithm" scheme="https://nymrli.top/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>PATå†²å†²å†²â€”â€”ç”²çº§</title>
    <link href="https://nymrli.top/2019/10/24/PAT%E5%86%B2%E5%86%B2%E5%86%B2%E2%80%94%E2%80%94%E7%94%B2%E7%BA%A7/"/>
    <id>https://nymrli.top/2019/10/24/PATå†²å†²å†²â€”â€”ç”²çº§/</id>
    <published>2019-10-24T10:30:45.000Z</published>
    <updated>2020-03-04T14:23:51.869Z</updated>
    
    <content type="html"><![CDATA[<h1 id="patå†²å†²å†²ç”²çº§"><a class="markdownIt-Anchor" href="#patå†²å†²å†²ç”²çº§"></a> PATå†²å†²å†²â€”â€”ç”²çº§</h1><blockquote><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/type/7?page=1" target="_blank" rel="noopener">PATç”²çº§ç»ƒä¹ é¢˜ â€”â€”PAT (Advanced Level) Practice </a><br><a href="https://www.nowcoder.com/pat/5/problems?page=1" target="_blank" rel="noopener">PATç”²çº§(Advanced Level)çœŸé¢˜</a><br><a href="https://www.liuchuo.net/archives/8091" target="_blank" rel="noopener">æŸ³å©¼ ã® blogç»éªŒ</a><br><a href="https://saquarius.com/2019/08/pat%E6%80%BB%E7%BB%93/" target="_blank" rel="noopener">saquariusâ€™s blog</a></p><p><a href="https://blog.csdn.net/a617976080/article/details/89676670" target="_blank" rel="noopener">PATç”²çº§é¢˜ç›®åŠåˆ†ç±»æ€»ç»“</a><br><a href="https://blog.csdn.net/richenyunqi/article/details/84981078" target="_blank" rel="noopener">patç”²çº§é¢˜è§£ç›®å½•</a></p><ul><li><a href="https://blog.csdn.net/a845717607/article/details/88084747" target="_blank" rel="noopener">PATè€ƒè¯•ç»éªŒæ€»ç»“ï¼ˆç”²ä¹™çº§å‡é€‚ç”¨ï¼‰<s>æƒ³æ»¡åˆ†çš„è¯·çœ‹è¿™é‡Œï¼</s></a>â€”â€”å‰äººç»éªŒ</li></ul></blockquote><p>â–²æŠ¥åè´¹256ï¼Œå¯ä»¥åˆ·<a href="https://www.nowcoder.com/pat" target="_blank" rel="noopener">ç‰›å®¢ç½‘</a>çš„é¢˜æ¥è·å¾—-50çš„ä¼˜æƒ åˆ¸ï¼Œè¯¥ç»ƒä¹ åœºä¸‹çš„æ‰€æœ‰é¢˜ç›®åªè¦é€šè¿‡éƒ½ç®—</p><h2 id="ç”²çº§ç»ƒä¹ é¢˜"><a class="markdownIt-Anchor" href="#ç”²çº§ç»ƒä¹ é¢˜"></a> ç”²çº§ç»ƒä¹ é¢˜</h2><blockquote><p>ç”±äºç”²çº§é¢˜ç›®è¾ƒå¤šï¼Œä¹Ÿè¾ƒéš¾ï¼Œå› æ­¤å†³å®šè¿˜æ˜¯å°†ä¸¤è€…åˆ†å¼€å†™ä¸¤ç¯‡æ–‡ç« äº†ã€‚</p></blockquote><h3 id=""><a class="markdownIt-Anchor" href="#"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805528788582400" target="_blank" rel="noopener">  <strong>1001</strong> <strong>A+B Format</strong> <strong>(20</strong> <strong>åˆ†</strong>**)** </a></h3><blockquote><p>çœ‹ä¼¼å¾ˆç®€å•çš„ä¸€é“é¢˜ï¼Œä½†å‘ç‚¹ç¡®å®ä¸å°‘ï¼Œä¸€éè¿‡æŒºéš¾çš„</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll m, n;</span><br><span class="line">    <span class="comment">// è€ƒè™‘åˆ°æ¯æ¬¡éƒ½æ˜¯å–åä¸‰ä½ï¼Œæ‰€ä»¥éœ€è¦ç”¨æ ˆæ¥é€†åºè¾“å‡º</span></span><br><span class="line">    <span class="built_in">stack</span>&lt;ll&gt; s;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;m,&amp;n) != EOF)&#123;</span><br><span class="line">        ll res_ans = m + n;</span><br><span class="line">        <span class="comment">// è¿™è¾¹0å¾—ç‰¹åˆ¤</span></span><br><span class="line">        <span class="keyword">if</span> (res_ans==<span class="number">0</span>)<span class="built_in">printf</span>(<span class="string">"0"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (res_ans&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"-"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> ;</span><br><span class="line">        ll ans = <span class="built_in">abs</span>(res_ans);</span><br><span class="line">        <span class="keyword">while</span>( ans )&#123;</span><br><span class="line">            ll three = ans%<span class="number">1000</span>;</span><br><span class="line">            s.push(three);</span><br><span class="line">            ans /= <span class="number">1000</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> first = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// é€†åºè¾“å‡º</span></span><br><span class="line">        <span class="keyword">while</span>(!s.empty())&#123;</span><br><span class="line">            ll n = s.top();</span><br><span class="line">            s.pop();  </span><br><span class="line">            <span class="comment">// é¦–ä¸ªä¸‰ä½ä¸éœ€è¦è¡¥é›¶ï¼Œå…¶ä»–çš„éƒ½éœ€è¦è¡¥é›¶</span></span><br><span class="line">            <span class="keyword">if</span> (first) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld"</span>, n);</span><br><span class="line">                first = !first;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%03lld"</span>, n);</span><br><span class="line">            <span class="keyword">if</span> (!s.empty()) <span class="built_in">printf</span>(<span class="string">","</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1002-ab-for-polynomials"><a class="markdownIt-Anchor" href="#1002-ab-for-polynomials"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805526272000000" target="_blank" rel="noopener">1002  A+B for Polynomials</a></h3><blockquote><p>æ¨¡æ‹Ÿé¢˜ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œåˆé‡æ–°æ¸©ä¹ äº†éMapçš„ä½¿ç”¨ã€‚</p><p>è¯¥é¢˜å°±ä¸€ä¸ªå‘ç‚¹ï¼šç³»æ•°ä¸º0çš„é¡¹ä¸éœ€è¦æ˜¾ç¤ºã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">float</span>&gt; mp;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">float</span>&gt;::iterator i;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="keyword">float</span> coef;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">exp</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %f"</span>, &amp;<span class="built_in">exp</span>, &amp;coef);</span><br><span class="line">        mp[<span class="built_in">exp</span>] = coef;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j)&#123;</span><br><span class="line">        <span class="comment">// ä¸¤ä¸ªä¸´æ—¶å˜é‡</span></span><br><span class="line">        <span class="keyword">float</span> coef;</span><br><span class="line">        <span class="keyword">int</span> <span class="built_in">exp</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %f"</span>, &amp;<span class="built_in">exp</span>, &amp;coef);</span><br><span class="line">        i = mp.find(<span class="built_in">exp</span>);</span><br><span class="line">        <span class="keyword">if</span> ( i != mp.end() )&#123;</span><br><span class="line">            <span class="keyword">float</span> sum = i-&gt;second + coef;</span><br><span class="line">            <span class="keyword">if</span> ( <span class="built_in">abs</span>( sum - <span class="number">0</span>) &lt; <span class="number">1e-6</span> )&#123;</span><br><span class="line">                <span class="comment">// â–³å‘ç‚¹:å¦‚æœç³»æ•°ä¸º0,ä¸æ˜¾ç¤º</span></span><br><span class="line">                mp.erase(<span class="built_in">exp</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> mp[<span class="built_in">exp</span>] = sum;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           mp[<span class="built_in">exp</span>] = coef; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä»å°åˆ°å¤§è¾“å‡º</span></span><br><span class="line">    <span class="comment">// for ( i = mp.begin(); i != mp.end(); ++i)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>, mp.size());</span><br><span class="line">    <span class="comment">// ä½¿ç”¨åå‘è¿­ä»£å™¨-&gt;ä»å¤§åˆ°å°è¾“å‡º</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">float</span>&gt;::reverse_iterator i = mp.rbegin(); i != mp.rend(); ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" %d %.1f"</span>, i-&gt;first, i-&gt;second);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1003-emergency"><a class="markdownIt-Anchor" href="#1003-emergency"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805523835109376" target="_blank" rel="noopener"> 1003  Emergency</a></h3><p>ä½œä¸ºä¸€ä¸ªåŸå¸‚ç´§æ€¥æ´æ•‘é˜Ÿçš„æŒ‡æŒ¥è€…ï¼Œä½ å¾—åˆ°äº†ä¸€ä¸ªå›½å®¶çš„ç‰¹æ®Šåœ°å›¾ã€‚åœ°å›¾ä¸Šåˆ†æ•£ç€å‡ åº§åŸå¸‚ï¼ŒåŸå¸‚é—´ç”¨é“è·¯è¿æ¥ç€ã€‚æ¯ä¸ªåŸå¸‚æ´æ•‘é˜Ÿçš„æ•°é‡ä»¥åŠä¸¤åº§åŸå¸‚ä¹‹é—´æ¯æ¡é“è·¯çš„é•¿åº¦å·²ç»åœ¨åœ°å›¾ä¸Šæ ‡å‡ºã€‚å½“æŸäº›åŸå¸‚å‘ç”Ÿäº†çªå‘äº‹ä»¶ï¼Œéœ€è¦ä½ çš„å¸®åŠ©æ—¶ï¼Œä½ çš„å·¥ä½œæ˜¯å¸¦é¢†ä½ çš„é˜Ÿä¼å°½å¿«çš„èµ¶åˆ°äº‹å‘ç°åœºï¼Œä¸æ­¤åŒæ—¶ï¼Œå¬é›†å°½å¯èƒ½å¤šçš„åœ¨è·¯ä¸Šçš„é˜Ÿä¼ã€‚</p><p><strong>è¾“å…¥</strong></p><p>æ¯ä¸ªè¾“å…¥æ–‡ä»¶åŒ…å«ä¸€ä¸ªæµ‹è¯•å®ä¾‹ã€‚æ¯ä¸ªå®ä¾‹çš„ç¬¬ä¸€è¡Œæœ‰å››ä¸ªæ­£æ•´æ•°ï¼šN(&lt;= 500)æ˜¯åŸå¸‚çš„ä¸ªæ•°ï¼ˆåŸå¸‚çš„ç¼–å·ä»0åˆ°N-1ï¼‰ï¼ŒMæ˜¯é“è·¯çš„ä¸ªæ•°ï¼ŒC1å’ŒC2åˆ†åˆ«æ˜¯ä½ ç°åœ¨æ‰€åœ¨çš„åŸå¸‚ä»¥åŠä½ å¿…é¡»å»æ•‘æ´çš„åŸå¸‚ã€‚ä¸‹ä¸€è¡Œæœ‰Nä¸ªæ•´æ•°ï¼Œç¬¬iä¸ªæ•´æ•°æ˜¯ç¬¬iä¸ªåŸå¸‚ä¸­æ•‘æ´é˜Ÿçš„æ•°é‡ã€‚ç„¶åä¸‹é¢æœ‰Mè¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€æ¡é“è·¯ã€‚æ¯ä¸€è¡Œæœ‰ä¸‰ä¸ªæ•´æ•°c1,c2å’ŒLï¼Œåˆ†åˆ«è¡¨ç¤ºé“è·¯è¿æ¥çš„ä¸¤ä¸ªåŸå¸‚ä»¥åŠé“è·¯çš„é•¿åº¦ã€‚ä¿è¯C1åˆ°C2ä¹‹é—´å­˜åœ¨è‡³å°‘ä¸€æ¡è·¯å¾„ã€‚</p><p><strong>è¾“å‡º</strong></p><p>å¯¹äºæ¯ä¸ªæµ‹è¯•å®ä¾‹ï¼Œåœ¨ä¸€è¡Œä¸­è¾“å‡ºä¸¤ä¸ªæ•°å­—ï¼šC1å’ŒC2ä¹‹é—´ä¸åŒçš„æœ€çŸ­è·¯å¾„çš„ä¸ªæ•°ï¼Œä½ èƒ½èšé›†èµ·æ¥çš„æœ€å¤šçš„æ•‘æ´é˜Ÿæ•°é‡ã€‚</p><p>ä¸€è¡Œä¸­çš„æ‰€æœ‰æ•°å­—å¿…é¡»è¢«ä¸€ä¸ªç©ºæ ¼åˆ†éš”å¼€ï¼Œåœ¨æ¯è¡Œçš„ç»“å°¾ä¸å…è®¸å‡ºç°ç©ºæ ¼ã€‚</p><blockquote><p>æ€è·¯ï¼šæœ¬é¢˜æ˜¯æ±‚èµ·ç‚¹åˆ°ç›®æ ‡ç‚¹çš„æœ€çŸ­è·¯å¾„çš„æ•°ç›®ï¼Œä»¥åŠæ‰€æœ‰æœ€çŸ­è·¯å¾„ä¸­ç‚¹æƒçš„æœ€å¤§å€¼ï¼Œå¯ç”¨dijkstraç®—æ³•</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, s, d;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">500</span>+<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å…³äºèµ·ç‚¹ä¸ºsçš„è·¯å¾„çš„å˜é‡(è®°å½•çš„éƒ½æ˜¯ä»¥ èµ·ç‚¹s ä¸ºä¸­å¿ƒçš„é‡)ï¼š</span></span><br><span class="line"><span class="comment">pathl(path_lengthç¼©å†™)å­˜å‚¨ä»èµ·ç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯å¾„çš„è¾¹æƒ(æœ¬ä¾‹ä¸ºèµ·ç‚¹åŸå¸‚åˆ°æ‰€æœ‰åŸå¸‚çš„æœ€çŸ­è·¯å¾„çš„è·ç¦») â€”â€”â€”â€”æœ€çŸ­è·¯</span></span><br><span class="line"><span class="comment">maxv(max_handsç¼©å†™)å­˜å‚¨ä»èµ·ç‚¹åˆ°å…¶ä»–ç‚¹çš„å…¨éƒ¨æœ€çŸ­è·¯å¾„ä¸­çš„ç‚¹æƒæœ€å¤§å€¼(æœ¬ä¾‹ä¸ºèµ·ç‚¹åŸå¸‚åˆ°å…¶ä»–åŸå¸‚çš„æ‰€æœ‰æœ€çŸ­è·¯å¾„ä¸­ å³äººæ‰‹æœ€å¤šçš„é‚£æ¡è·¯å¾„çš„äººæ‰‹æ•°)  â€”â€”â€”â€” æœ€çŸ­è·¯ä¸­èƒ½è·å¾—æœ€å¤§æƒå€¼çš„èŠ‚ç‚¹æƒå€¼e.g.maxv[3]å³s-&gt;3èƒ½è·å¾—çš„æœ€å¤§æƒå€¼</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">â–²æ ¸å¿ƒæ€æƒ³æ˜¯æ ¹æ®è·¯å¾„æœ€çŸ­æ¥æ›´æ–°çš„,æ‰€ä»¥å³ä½¿v' &lt; v, ä½†åªè¦l' &lt; l,é‚£ä¹ˆä¹Ÿä¼šæ›´æ–°ã€‚å³@77ä»£ç å¤„</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">pathc(path_countç¼©å†™)å­˜å‚¨ä»èµ·ç‚¹åˆ°å…¶ä»–ç‚¹çš„æœ€çŸ­è·¯å¾„çš„æ•°ç›®ï¼› </span></span><br><span class="line"><span class="comment">â–³æ ¹æ®é¢˜æ„,é¢å¤–éœ€è¦ç»´æŠ¤çš„å€¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">int</span> pathc[maxn];</span><br><span class="line"><span class="keyword">int</span> pathl[maxn];</span><br><span class="line"><span class="keyword">int</span> maxv[maxn];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å›¾ä¿¡æ¯çš„å˜é‡ */</span></span><br><span class="line"><span class="comment">// e(edges):ç‚¹é—´çš„è¾¹å…³ç³», åˆå§‹åŒ–é»˜è®¤ä¸º0</span></span><br><span class="line"><span class="comment">// visited:åˆ¤æ–­væ˜¯å¦è¢«è®¿é—®è¿‡</span></span><br><span class="line"><span class="comment">// å­˜æ”¾èŠ‚ç‚¹væƒå€¼çš„é‡, node_value</span></span><br><span class="line"><span class="keyword">int</span> e[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> visited[maxn];</span><br><span class="line"><span class="keyword">int</span> value[maxn];</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [dijkstra description]</span></span><br><span class="line"><span class="comment"> * dijkstraæ±‚æœ€çŸ­è·¯å¾„çš„ç‰¹ç‚¹æ˜¯æ¢ç´¢å½“å‰èŠ‚ç‚¹-&gt;ä¸‹ä¸ªèŠ‚ç‚¹,è¾¹æƒå€¼æœ€å°çš„å°†è¢«å½“åšä¸‹ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment"> * æœ€ç»ˆå¯ä»¥æ‰¾å‡ºèŠ‚ç‚¹såˆ°æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„</span></span><br><span class="line"><span class="comment"> * åŸç†:æ ¹æ®åˆå§‹ç‚¹ï¼ŒæŒ¨ä¸ªçš„æŠŠç¦»åˆå§‹ç‚¹æœ€è¿‘çš„ç‚¹ä¸€ä¸ªä¸€ä¸ªæ‰¾åˆ°å¹¶åŠ å…¥é›†åˆ,é›†åˆä¸­æ‰€æœ‰çš„ç‚¹çš„d[i]éƒ½æ˜¯è¯¥ç‚¹åˆ°åˆå§‹ç‚¹æœ€çŸ­è·¯å¾„é•¿åº¦</span></span><br><span class="line"><span class="comment"> * @author mrli 2019-11-09</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    è¿™ä»½dijkstraçš„æ€è·¯ä¸º:</span></span><br><span class="line"><span class="comment">        ç¬¬ä¸€æ¬¡, for1å…ˆéå†é€‰ä¸­ä¸€ä¸ªèŠ‚ç‚¹v, ç„¶åä½¿ç”¨for2æ‰¾åˆ°éå†, æ‰¾åˆ°ä¸vè·¯å¾„æœ€çŸ­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹v', thenæ›´æ–°</span></span><br><span class="line"><span class="comment">        ç¬¬äºŒæ¬¡, for1é‚£ä¹ˆæ ¹æ®ä¸ä¸‹ä¸ªèŠ‚ç‚¹è·¯å¾„æœ€çŸ­çš„è§„åˆ™,è¿˜æ˜¯ä¼šæ‰¾åˆ°v', å› æ­¤minI=v', ç„¶åå†æ‰¾v''</span></span><br><span class="line"><span class="comment">    ç¬¬äºŒç§:</span></span><br><span class="line"><span class="comment">        å…ˆå®‰æ’èŠ‚ç‚¹s, è®¾ä¸ªwhile(1) ä»¥å¤–çš„èŠ‚ç‚¹, ä¿å­˜å½“å‰èŠ‚ç‚¹vç¼–å·, ç„¶åéå†,tmpvä¸ºéœ€è¦æ›´æ–°çš„èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class="line"><span class="comment">        åŒºåˆ«åœ¨äº </span></span><br><span class="line"><span class="comment">        æ³•ä¸€:å½“å‰çš„væœªè®¿é—®è¿‡,æ‰€ä»¥è®¾ç½®visited[v]=1,ç„¶åæ‰¾ä¸‹ä¸€ä¸ªtmpv,åœ¨ä¸‹æ¬¡çš„whileå¾ªç¯çš„æ—¶å€™å†è®¾ç½®visited</span></span><br><span class="line"><span class="comment">        æ³•äºŒ:å½“å‰çš„vå·²ç»æ˜¯visited==1, åœ¨æ‰¾åˆ°tmpvåç›´æ¥è®¾ç½®visited[tmpv]=1,</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">    fill(pathl, pathl+ maxn, INF);</span><br><span class="line">    pathc[s] = <span class="number">1</span>;</span><br><span class="line">    pathl[s] = <span class="number">0</span>;</span><br><span class="line">    maxv[s] = value[s];</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">/*æ‰¾å‡ºæœ¬è½®å°šæœªç¡®å®šæœ€çŸ­è·¯å¾„çš„åŸå¸‚ä¸­ï¼Œèµ·ç‚¹åˆ°å‰©ä½™åŸå¸‚ä¸­ï¼Œè·ç¦»æœ€å°minlçš„é‚£ä¸ªåŸå¸‚minIã€‚</span></span><br><span class="line"><span class="comment">        å¦‚æœminlæ˜¯æ— ç©·å¤§ï¼Œè¯æ˜èµ·ç‚¹åŸå¸‚ä¸å‰©ä½™åŸå¸‚å‡ä¸å¯è¾¾ï¼Œå³ä¸è¿é€šï¼›</span></span><br><span class="line"><span class="comment">        å¦‚æœminIå°±æ˜¯ç›®æ ‡åŸå¸‚dï¼Œåˆ™è¡¨æ˜å·²ç»ç¡®å®šèµ·ç‚¹åŸå¸‚åˆ°ç›®æ ‡åŸå¸‚çš„æœ€çŸ­è·¯å¾„ï¼Œæå‰ç»“æŸå¯»æ‰¾ã€‚</span></span><br><span class="line"><span class="comment">        å¦åˆ™ï¼Œå°†æœ¬è½®èƒ½ç¡®å®šæœ€çŸ­è·¯å¾„çš„åŸå¸‚minIè®¾ä¸ºå·²ç»å¤„ç†å¥½,v[minI]=1ï¼›</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">int</span> minl = INF, minI = <span class="number">-1</span>;</span><br><span class="line">        <span class="comment">// ä»¥sèŠ‚ç‚¹ä¸ºä¾‹, å…ˆéå†è¾¹å…¶ä»–æœªè®¿é—®è¿‡çš„èŠ‚ç‚¹,æ‰¾åˆ°å…¶ä¸­è¾¹æƒå€¼æœ€å°çš„ä½œä¸ºä¸‹ä¸€ä¸ªè®¿é—®èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// é¦–å…ˆç¬¬ä¸€ä¸ªè®¿é—®çš„è‚¯å®šæ˜¯sèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i] == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (pathl[i] &lt; minl)&#123;</span><br><span class="line">                minl = pathl[i];</span><br><span class="line">                minI = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç»ˆæ­¢æ¡ä»¶:</span></span><br><span class="line">        <span class="comment">// 1.åœ¨ dijkstra ç®—æ³•é‡Œ, å¦‚æœèŠ‚ç‚¹å·²ç»åˆ¤æ–­åˆ°ç»ˆç‚¹äº†, é‚£ä¹ˆåˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„å°±å·²ç»è¢«è®¡ç®—å‡ºæ¥äº†,æ­¤æ—¶å¯ä»¥ç»“æŸ</span></span><br><span class="line">        <span class="comment">// 2.å½“å‰å¾ªç¯å…¨æ˜¯Visited == 1çš„èŠ‚ç‚¹,æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«éå†è¿‡äº†, å¾ªç¯ç»“æŸ</span></span><br><span class="line">        <span class="keyword">if</span> (minI == d || minl== INF) <span class="keyword">break</span>;</span><br><span class="line">        visited[minI] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// minIèŠ‚ç‚¹-&gt;ä¸‹ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="comment">// åœ¨æœªè¾¾ã€ä¸”å¯è¾¾çš„èŠ‚ç‚¹ä¸­è€ƒè™‘ï¼Œå¦åˆ™continue</span></span><br><span class="line">            <span class="keyword">if</span>( visited[i] == <span class="number">1</span> || e[minI][i] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// å½“èŠ‚ç‚¹minIçš„æœ€çŸ­è·¯å¾„ + å½“å‰minI-&gt;ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„è¾¹æƒå€¼</span></span><br><span class="line">            <span class="keyword">int</span> tmpl = pathl[minI] + e[minI][i];</span><br><span class="line">            <span class="keyword">int</span> tmpv = value[i] + maxv[minI];</span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯å¦è¦æ›´æ–°, å¦‚æœå½“å‰è·¯å¾„lå°äºä¹‹å‰çš„è¯,é‚£ä¹ˆæ›´æ–°</span></span><br><span class="line">            <span class="keyword">if</span>(tmpl &lt; pathl[i])&#123;</span><br><span class="line">                pathl[i] = tmpl;</span><br><span class="line">                maxv[i] = tmpv;</span><br><span class="line">                pathc[i] = pathc[minI];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœé•¿åº¦æ˜¯ç›¸ç­‰çš„,é‚£ä¹ˆæœ€å¤§åŒ–Value</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (tmpl == pathl[i])&#123;</span><br><span class="line">                pathc[i] += pathc[minI];</span><br><span class="line">                <span class="keyword">if</span> (tmpv &gt; maxv[i]) maxv[i] = tmpv;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>, &amp;n, &amp;m, &amp;s, &amp;d);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;value[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> v1, v2, l;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;v1, &amp;v2, &amp;l);</span><br><span class="line">        e[v1][v2] = l;</span><br><span class="line">        e[v2][v1] = l;</span><br><span class="line">    &#125;</span><br><span class="line">    dijkstra();</span><br><span class="line">    <span class="comment">// æœ€çŸ­çš„è·¯å¾„, æœ€å¤§çš„æƒå€¼</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, pathc[d], maxv[d]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/yeziand01/article/details/80716688" target="_blank" rel="noopener">å¤§ä½¬çš„ä»£ç (å¸¦æ³¨é‡Š)</a></p><h3 id="1004-counting-leaves"><a class="markdownIt-Anchor" href="#1004-counting-leaves"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805521431773184" target="_blank" rel="noopener"> 1004 Counting Leaves</a></h3><p>ä¸€ä¸ªå®¶åº­çš„å±‚çº§ç»“æ„ç»å¸¸è¢«è¡¨ç°ä¸ºä¸€ä¸ªå®¶è°±æ ‘ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç»Ÿè®¡è¿™äº›å®¶åº­æˆå‘˜ä¸­è°æ²¡æœ‰å­©å­ã€‚</p><p><strong>è¾“å…¥</strong></p><p>æ¯ä¸ªè¾“å…¥æ–‡ä»¶åŒ…å«ä¸€ä¸ªæµ‹è¯•å®ä¾‹ã€‚æ¯ä¸ªå®ä¾‹å¼€å§‹çš„ä¸€è¡ŒåŒ…å«Nå’ŒMï¼ŒNæŒ‡æ ‘ä¸­çš„ç»“ç‚¹ä¸ªæ•°ï¼ˆ0&lt;N&lt;100ï¼‰ï¼ŒMæŒ‡éå¶ç»“ç‚¹çš„ä¸ªæ•°ã€‚ç„¶åä¸‹é¢æœ‰Mè¡Œï¼Œæ¯è¡Œçš„æ ¼å¼å¦‚ä¸‹ï¼š</p><p>ID K ID[1] ID[2] â€¦ID[K]</p><p>IDæ˜¯ä¸€ä¸ªä¸¤ä½æ•°çš„æ•°å­—ï¼Œè¡¨ç¤ºä¸€ä¸ªéå¶ç»“ç‚¹ã€‚Kè¡¨ç¤ºå…¶å­©å­çš„æ•°é‡ã€‚éšåæ˜¯ä¸€ä¸ªåºåˆ—ï¼Œåºåˆ—ä¸­æ˜¯è¯¥ç»“ç‚¹çš„å­©å­ç»“ç‚¹çš„ä¸¤ä½æ•°IDã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬æŠŠæ ¹ç»“ç‚¹çš„IDå›ºå®šä¸º01ã€‚</p><p><strong>è¾“å‡º</strong></p><p>å¯¹äºæ¯ä¸ªæµ‹è¯•å®ä¾‹ï¼Œä½ åº”è¯¥è®¡ç®—ä»æ ¹ç»“ç‚¹å¼€å§‹çš„æ¯ä¸€å±‚ä¸­æ²¡æœ‰å­©å­çš„å®¶åº­æˆå‘˜çš„ä¸ªæ•°ã€‚æ•°å­—å¿…é¡»åœ¨ä¸€è¡Œå†…è¾“å‡ºï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œåœ¨æ¯è¡Œç»“å°¾ä¸èƒ½æœ‰å¤šä½™çš„ç©ºæ ¼ã€‚</p><p>æµ‹è¯•æ ·ä¾‹è¡¨ç¤ºäº†ä¸€ä¸ªåªæœ‰ä¸¤ä¸ªç»“ç‚¹çš„æ ‘ï¼Œ01æ˜¯æ ¹ç»“ç‚¹ï¼Œ02æ˜¯å®ƒä»…æœ‰çš„å­©å­ã€‚å› æ­¤åœ¨æ ¹ç»“ç‚¹01å±‚çº§ï¼Œæ²¡æœ‰å¶èŠ‚ç‚¹ã€‚å†ä¸‹ä¸€å±‚çº§ï¼Œæœ‰ä¸€ä¸ªå¶ç»“ç‚¹ã€‚ç„¶åæˆ‘ä»¬åº”è¯¥åœ¨ä¸€è¡Œå†…è¾“å‡ºâ€œ0 1â€ã€‚</p><blockquote><p>èŠ‚ç‚¹å¸¦æœ‰å­©å­çš„ä¿¡æ¯ç”¨vectoræ¥æ¨¡æ‹Ÿå›¾ä¸­çš„é‚»æ¥è¡¨å†™æ³•ï¼Œç„¶åç”¨BFSæ¥å®ç°éå†</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100</span>+<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»ä¼¼é‚»æ¥è¡¨çš„å†™æ³•è®°å½•èŠ‚ç‚¹</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v[MAXN];</span><br><span class="line"><span class="comment">// ç”¨æ¥è®°å½•æ¯ä¸€å±‚çš„å¶å­èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="keyword">int</span> cnt[MAXN];</span><br><span class="line"><span class="comment">// æ¥è®¡ç®—å±‚æ•°</span></span><br><span class="line"><span class="comment">// levelè®°å½•å½“å‰èŠ‚ç‚¹pçš„æ‰€åœ¨å±‚æ•°</span></span><br><span class="line"><span class="keyword">int</span> level[MAXN];</span><br><span class="line"><span class="comment">// maxlevelè®°å½•æ·±åº¦0-N</span></span><br><span class="line"><span class="keyword">int</span> maxlevel;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    <span class="comment">// è®¾ç½®èµ·ç‚¹ï¼Œroot==01èŠ‚ç‚¹</span></span><br><span class="line">    q.push(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">        <span class="keyword">int</span> p = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="comment">// è‡ªå·±æ˜¯ä¸ªå¶å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span>(v[p].size() == <span class="number">0</span>)&#123;</span><br><span class="line">            cnt[level[p]] ++;</span><br><span class="line">            maxlevel = max(level[p], maxlevel);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹pä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œ åˆ™ç»§ç»­å‘å…¶å¶å­èŠ‚ç‚¹æ‰©å±•</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v[p].size() ; ++i)&#123;</span><br><span class="line">                q.push(v[p][i]);</span><br><span class="line">                <span class="comment">// pèŠ‚ç‚¹çš„å¶å­èŠ‚ç‚¹çš„å±‚æ•°ä¸ºpèŠ‚ç‚¹å±‚æ•°+1</span></span><br><span class="line">                level[v[p][i]] = level[p] + <span class="number">1</span>;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N, M;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="keyword">while</span>(M--)&#123;</span><br><span class="line">        <span class="keyword">int</span> parent, num;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; parent &gt;&gt; num;</span><br><span class="line">        <span class="comment">// ç±»ä¼¼é‚»æ¥è¡¨ï¼Œ parentè®°å½•äº†å…¶å­©å­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmp;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; tmp;</span><br><span class="line">            v[parent].emplace_back(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    bfs();</span><br><span class="line">    <span class="comment">// 0ä¸ºç¬¬ä¸€å±‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= maxlevel; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">0</span>) <span class="built_in">cout</span> &lt;&lt; cnt[i];</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; cnt[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1005-spell-it-right"><a class="markdownIt-Anchor" href="#1005-spell-it-right"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805519074574336" target="_blank" rel="noopener">1005 Spell It Right</a></h3><blockquote><p>æ„Ÿè§‰çªç„¶æ¥äº†ä¸€é“æ”¾æ°´é¢˜ï¼Œå°±çº¯æ¨¡æ‹Ÿ</p><p>å‘ç‚¹ï¼šå…¨0çš„æ—¶å€™ç‰¹åˆ¤ä¸ºzero</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 100 + 5</span></span><br><span class="line"><span class="keyword">int</span> arr[maxn];</span><br><span class="line"><span class="built_in">string</span> num[<span class="number">10</span>] = &#123;<span class="string">"zero"</span> ,<span class="string">"one"</span> ,<span class="string">"two"</span> ,<span class="string">"three"</span>, <span class="string">"four"</span> ,<span class="string">"five"</span>, <span class="string">"six"</span>, <span class="string">"seven"</span>, <span class="string">"eight"</span>, <span class="string">"nine"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> ch = getchar();</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>( ch != <span class="string">'\n'</span> )&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = ch - <span class="string">'0'</span>;</span><br><span class="line">        sum += tmp;</span><br><span class="line">        ch = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‘ç‚¹,éœ€è¦ç‰¹åˆ¤0</span></span><br><span class="line">    <span class="keyword">if</span>(sum==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"zero\n"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(sum)&#123;</span><br><span class="line">            <span class="keyword">int</span> ge = sum %<span class="number">10</span>;</span><br><span class="line">            sum /= <span class="number">10</span>;</span><br><span class="line">            s.push(ge);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> first = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(!s.empty())&#123;</span><br><span class="line">            <span class="keyword">int</span> ans = s.top();</span><br><span class="line">            s.pop();</span><br><span class="line">            <span class="keyword">if</span> (first)  &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s"</span>, num[ans].c_str());</span><br><span class="line">                first = !first;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" %s"</span>, num[ans].c_str());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–²å°ç»“ä¸€ä¸‹: æ¯æ¬¡ç”¨whileæ¥å–ä½çš„æ—¶å€™ï¼Œå¿…é¡»å…ˆåˆ¤æ–­while(xxx)ä¸­çš„xxxæ˜¯å¦åˆå§‹å°±ä¸º0</p><h3 id="1006-sign-in-and-sign-out-25-åˆ†"><a class="markdownIt-Anchor" href="#1006-sign-in-and-sign-out-25-åˆ†"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805516654460928" target="_blank" rel="noopener">1006 Sign In and Sign Out (25 åˆ†)</a></h3><blockquote><p>æ›´åŠ ç®€å•çš„æ¨¡æ‹Ÿé¢˜ï¼Œç”±äºstringçš„æ¯”è¾ƒç‰¹æ€§å¯ä»¥ç›´æ¥ç”¨æ¥æ¯”è¾ƒæ—¶é—´ï¼Œæ‰€ä»¥å¤„ç†å¾ˆæ–¹ä¾¿</p><p>â–³å­¦ä¼šä½¿ç”¨algorithmé‡Œçš„sortèƒ½çœå¾ˆå¤šæ—¶é—´</p><p>â–²æ¯”è¾ƒè¿ç®—ç¬¦&lt;é‡è½½ã€æˆ–æ˜¯ç¼–å†™å¤–éƒ¨æ¯”è¾ƒå‡½æ•°ï¼Œéƒ½ä¼šæŒ‰ç…§returné‡Œä¸ºtrueçš„é€»è¾‘æ’åº,<a href="http://xn--first-gv5i.xxx" target="_blank" rel="noopener">å¦‚first.xxx</a> &lt; second.xxxé‚£ä¹ˆå°±æ˜¯ä»å°åˆ°å¤§</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">record</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> id;</span><br><span class="line">    <span class="built_in">string</span> intime;</span><br><span class="line">    <span class="built_in">string</span> outtime;</span><br><span class="line">&#125;<span class="keyword">typedef</span> rc;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰ç…§è¿›å…¥çš„æ—¶é—´æ’åº, ä»å°åˆ°å¤§</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpin</span><span class="params">(<span class="keyword">const</span> rc&amp; f, <span class="keyword">const</span> rc&amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f.intime &lt; s.intime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰ç…§å‡ºå»çš„æ—¶é—´æ’åº, ä»å¤§åˆ°å°</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpout</span><span class="params">(<span class="keyword">const</span> rc&amp; f, <span class="keyword">const</span> rc&amp; s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f.outtime &gt; s.outtime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;rc&gt; v;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;rc&gt;::iterator it;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        rc* p = <span class="keyword">new</span> rc();</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; p-&gt;id &gt;&gt; p-&gt;intime &gt;&gt; p-&gt;outtime;</span><br><span class="line">        v.emplace_back(*p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(v.begin(), v.end(), cmpin);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.begin()-&gt;id &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">    sort(v.begin(), v.end(), cmpout);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v.begin()-&gt;id &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// for(it = v.begin(); it!= v.end(); it++)&#123;</span></span><br><span class="line">    <span class="comment">//     cout &lt;&lt; it-&gt;id &lt;&lt; " "&lt;&lt;  it-&gt;intime &lt;&lt;" "&lt;&lt; it-&gt;outtime &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/erd8888/article/details/88795843" target="_blank" rel="noopener">C++ä¸­sortçš„æ¯”è¾ƒå‡½æ•°å†™æ³•</a></p><p>æ³¨æ„ï¼šæ¯”è¾ƒå‡½æ•°å¿…é¡»å†™åœ¨ç±»å¤–éƒ¨ï¼ˆå…¨å±€åŒºåŸŸï¼‰æˆ–å£°æ˜ä¸ºé™æ€å‡½æ•°</p><h3 id="1007-maximum-subsequence-sum"><a class="markdownIt-Anchor" href="#1007-maximum-subsequence-sum"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805514284679168" target="_blank" rel="noopener"> 1007  Maximum Subsequence Sum</a></h3><blockquote><p>Dp, æœ€å¤§å…¬å…±å­ä¸²</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1008-elevator"><a class="markdownIt-Anchor" href="#1008-elevator"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805511923286016" target="_blank" rel="noopener"> 1008  Elevator</a></h3><blockquote><p>æ¨¡æ‹Ÿ</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> order[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    <span class="comment">// æ‰€æœ‰ç”¨æ—¶</span></span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ä¸Šä¸€ä¸ªä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span> ptr=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;N; i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; order[i];        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;N; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> res = order[i] - ptr;</span><br><span class="line">        ptr = order[i];</span><br><span class="line">        <span class="keyword">if</span>(res&gt;<span class="number">0</span>) t+= <span class="number">6</span>*res + <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">else</span> t += <span class="number">4</span>*<span class="built_in">abs</span>(res) + <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; t &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1009-product-of-polynomials"><a class="markdownIt-Anchor" href="#1009-product-of-polynomials"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805509540921344" target="_blank" rel="noopener"> 1009  Product of Polynomials</a></h3><blockquote><p>æ¨¡æ‹Ÿé¢˜</p></blockquote><h3 id="1010-radix"><a class="markdownIt-Anchor" href="#1010-radix"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805507225665536" target="_blank" rel="noopener"> 1010 Radix</a></h3><blockquote><p>æ¨¡æ‹Ÿé¢˜</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> order[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N1, N2, tag, radix;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;<span class="string">"Impossible"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1011-world-cup-betting"><a class="markdownIt-Anchor" href="#1011-world-cup-betting"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805504927186944" target="_blank" rel="noopener"> 1011  World Cup Betting</a></h3><blockquote><p>æ¨¡æ‹Ÿé¢˜</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">games</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> one, two, three;</span><br><span class="line">&#125;<span class="keyword">typedef</span> Gm;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">double</span> win=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="keyword">double</span> arr[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">int</span> maxi = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf"</span>,&amp;arr[<span class="number">0</span>], &amp;arr[<span class="number">1</span>], &amp;arr[<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">3</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; arr[maxi])&#123;</span><br><span class="line">                maxi = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        v.emplace_back(maxi);</span><br><span class="line">        win *= arr[maxi];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(it= v.begin(); it!= v.end(); it++)&#123;</span><br><span class="line">        <span class="keyword">switch</span>(*it)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"W "</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"T "</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"L "</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>, (win*<span class="number">0.65</span> - <span class="number">1</span>)*<span class="number">2</span> );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1012-the-best-rank"><a class="markdownIt-Anchor" href="#1012-the-best-rank"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805502658068480" target="_blank" rel="noopener"> 1012  The Best Rank</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="comment">// c m e a</span></span><br><span class="line">    <span class="keyword">int</span> g[<span class="number">4</span>], r[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">char</span> c[<span class="number">4</span>] = &#123;<span class="string">'A'</span>, <span class="string">'C'</span>, <span class="string">'M'</span>, <span class="string">'E'</span>&#125;;</span><br><span class="line">&#125;<span class="keyword">typedef</span> stu;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;stu&gt; v;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(stu &amp;f1 , stu &amp;f2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f1.g[num] &gt; f2.g[num];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getRank</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j)&#123;</span><br><span class="line">        sort(v.begin(), v.end(), cmp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">            v.at(i).r[num] = i+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        num++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">maxRank</span><span class="params">(<span class="keyword">const</span> stu *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> best_rank = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;<span class="number">4</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s-&gt;r[i] &lt; s-&gt;r[best_rank]) best_rank = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s-&gt;r[best_rank] &lt;&lt; <span class="string">" "</span> &lt;&lt; s-&gt;c[best_rank] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt;M;</span><br><span class="line">    <span class="comment">// scanf("%d%d", &amp;N, &amp;M);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        stu *s = <span class="keyword">new</span> stu();</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; s-&gt;id &gt;&gt; s-&gt;g[<span class="number">1</span>] &gt;&gt; s-&gt;g[<span class="number">2</span>] &gt;&gt; s-&gt;g[<span class="number">3</span>]; </span><br><span class="line">        s-&gt;g[<span class="number">0</span>] = (s-&gt;g[<span class="number">1</span>] + s-&gt;g[<span class="number">2</span>]+ s-&gt;g[<span class="number">3</span>])/<span class="number">3</span>; </span><br><span class="line">        v.emplace_back(*s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    getRank();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmpid;</span><br><span class="line">        <span class="keyword">bool</span> find=<span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; tmpid;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span> ( v.at(i).id == tmpid) &#123;</span><br><span class="line">                maxRank(&amp;v.at(i));</span><br><span class="line">                find=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!find) <span class="built_in">cout</span> &lt;&lt; <span class="string">"N/A"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1013-battle-over-cities"><a class="markdownIt-Anchor" href="#1013-battle-over-cities"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805500414115840" target="_blank" rel="noopener"> 1013  Battle Over Cities</a></h3><p>In:ç»™å‡ºnä¸ªåŸå¸‚ï¼ŒåŸå¸‚é—´æœ‰mæ¡è·¯ï¼Œkä¸ªè¦æ£€æŸ¥çš„åŸå¸‚</p><p>Out:å‡å¦‚è¢«æ£€æŸ¥çš„åŸå¸‚kiè¢«æ”»å ï¼Œåˆ™æ‰€æœ‰ä¸Kiç›¸å…³çš„è·¯çº¿å…¨éƒ¨ç˜«ç—ªï¼Œè¦ä½¿å…¶ä»–åŸå¸‚ä¿æŒè¿é€šï¼Œè‡³å°‘éœ€è¦ä¿®ç¼®å¤šå°‘æ¡è·¯?å³ <strong>åˆ é™¤å›¾çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ˜¯å…¶ä»–èŠ‚ç‚¹æˆä¸ºè¿é€šå›¾ï¼Œè‡³å°‘éœ€è¦æ·»åŠ å¤šå°‘æ¡çº¿</strong></p><p>è§£æ³•ä¸€:<a href="https://blog.csdn.net/whl_program/article/details/77627856" target="_blank" rel="noopener">å›¾çš„éå†:DFSè®¡ç®—è¿é€šåˆ†é‡æ•°ç›®</a>==&gt; è®¡ç®—å‡ºè¿é€šåˆ†é‡æ•°Nã€‚å¦‚æœæƒ³è¦æ„æˆè¿é€šå›¾ï¼Œé‚£ä¹ˆéœ€è¦æ·»åŠ <strong>res=N-1</strong>æ¡çº¿ï¼Œå³æœ€å°‘éœ€è¦N-1æ¡çº¿ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIZE 1001</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> p[SIZE][SIZE];</span><br><span class="line"><span class="keyword">bool</span> visit[SIZE];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;  <span class="comment">// é¡¶ç‚¹æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾åˆ°nodeä¸‹çš„æ‰€æœ‰è¿é€šèŠ‚ç‚¹,æŠŠå…¶æ ‡è®°ä¸ºtrue</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> node)</span></span>&#123;</span><br><span class="line">    visit[node] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span> ( visit[i] == <span class="literal">false</span> &amp;&amp; p[node][i] == <span class="number">1</span>)&#123;</span><br><span class="line">            dfs(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// è¾¹æ•°å’Œcaseæ•°</span></span><br><span class="line">    <span class="keyword">int</span> m ,k;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> u, v;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        p[u][v] = p[v][u] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// case K</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tmp;</span><br><span class="line">        <span class="comment">// æ¯æ¬¡éƒ½å¾—é‡ç½®visit å³æ‰€æœ‰åŸå¸‚æœªè¢«éå†</span></span><br><span class="line">        fill(visit, visit+SIZE, <span class="literal">false</span>);</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; tmp;</span><br><span class="line">        visit[tmp] = <span class="literal">true</span>;<span class="comment">// ä¸è®©tmpè¿›å…¥è€ƒè™‘</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)&#123;</span><br><span class="line">            <span class="keyword">if</span> (visit[j] == <span class="literal">false</span>)&#123;</span><br><span class="line">                dfs(j); </span><br><span class="line">                cnt ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; cnt<span class="number">-1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§£æ³•äºŒ:æ— å‘å›¾çš„è¿é€šæ€§ï¼Œå¯ä»¥è€ƒè™‘<a href="https://blog.csdn.net/titi2018815/article/details/90313319" target="_blank" rel="noopener">å¹¶æŸ¥é›†</a>==&gt; ä½†æ˜¯éœ€è¦æ³¨æ„æœ€åç»“æœçš„å¤„ç†ï¼Œå¹¶æŸ¥é›†åå¯ä»¥çŸ¥é“ç°åœ¨çš„å›¾åˆ†æˆäº†å‡ å—ï¼Œä½†æ˜¯æœ‰ä¸€å—è‚¯å®šæ˜¯è¢«å é¢†çš„é‚£ä¸€ä¸ªåŸå¸‚ï¼Œæ‰€ä»¥ç»“æœè®°å¾—å‡å»è¿™ä¸€å—ï¼Œè¿˜æœ‰ï¼Œä¸¤å—åœ°å›¾è”é€šåªéœ€è¦ä¿®å»ºä¸€æ¡é“è·¯ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œ<strong>res=å›¾çš„å—æ•°-2</strong>ï¼›</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1010</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> f[N];   <span class="comment">//å­˜å‚¨bossï¼›ç”¨æ¥è®¡ç®—æœ‰å‡ ä¸ªè¿é€šåˆ†é‡çš„</span></span><br><span class="line"><span class="keyword">int</span> c;</span><br><span class="line"><span class="keyword">int</span> n,m,k;</span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt;a;<span class="comment">//å­˜å‚¨åŸå¸‚ä¹‹é—´çš„è¿æ¥(è¾¹)ï¼›</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getf</span><span class="params">(<span class="keyword">int</span> v)</span><span class="comment">//é€’å½’æŸ¥æ‰¾bossï¼›</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(f[v]==v)</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> f[v]=getf(f[v]);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span><span class="comment">//åˆå¹¶ï¼›</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t1=getf(u);</span><br><span class="line">    <span class="keyword">int</span> t2=getf(v);</span><br><span class="line">    <span class="keyword">if</span>(t1!=t2)<span class="comment">//bossèŠ‚ç‚¹ä¸åŒå°±åˆå¹¶ï¼›</span></span><br><span class="line">    &#123;</span><br><span class="line">        f[t2]=t1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span><span class="comment">//åˆå§‹åŒ–ï¼›</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        f[i]=i;<span class="comment">//è‡ªå·±çš„bossæ˜¯è‡ªå·±ï¼›</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">// å›¾è¢«åˆ†æˆäº†2éƒ¨åˆ†:</span></span><br><span class="line"><span class="comment">// 1.ä¸åŸå¸‚Xç›¸è¿çš„ç‚¹(ä¸ä¼šè¿›è¡Œmerge)ã€ XåŸå¸‚æœ¬èº« (sumçš„ä¸¤ä¸ªç»„æˆéƒ¨åˆ†)</span></span><br><span class="line"><span class="comment">// 2.ä¸Xä¸ç›¸è¿çš„(ä¼šè¿›è¡Œmerge)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pan</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="comment">// xä¸ºè¢«å é¢†çš„åŸå¸‚</span></span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;a.size(); i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>((a[i].first!=x) &amp;&amp; (a[i].second!=x))<span class="comment">//å’ŒåŸå¸‚xç›¸è¿çš„è·¯å…¨éƒ¨æ–­æ‰ï¼›</span></span><br><span class="line">            merge(a[i].first,a[i].second);<span class="comment">//ä¸æ˜¯å’ŒåŸå¸‚xç›¸è¿çš„å°±åˆå¹¶ï¼›</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŸ¥çœ‹æ•´ä¸ªå›¾åˆ†æˆäº†å‡ å—ï¼›</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(f[i]==i)</span><br><span class="line">            sum++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  ç»“æœè®°å¾—å¤„ç†ï¼› </span></span><br><span class="line"><span class="comment">     *  nä¸ªèŠ‚ç‚¹,éœ€è¦n-1æ¡è¾¹æ‰èƒ½æ„æˆè¿é€šåˆ†é‡;</span></span><br><span class="line"><span class="comment">     *  â–³è¿˜æœ‰èŠ‚ç‚¹xè‡ªå·±å¾—å»æ‰,è¿™ä¹Ÿæ˜¯è·Ÿ1çš„åŒºåˆ«(ä¼šå¤šæ•°ä¸ªæœ¬èº«);</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">return</span> sum<span class="number">-2</span>;</span><br><span class="line">&#125;<span class="comment">//é™¤å»è¢«å é¢†çš„åŸå¸‚ï¼Œä¸¤ä¸ªåŸå¸‚ä¹‹é—´åªéœ€è¦ä¸€æ¡è·¯è¿æ¥ï¼›</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line">    a.resize(m);<span class="comment">//è®¾ç½®å®¹å™¨çš„å¤§å°ï¼›</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> aa,bb;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;aa,&amp;bb);</span><br><span class="line">        <span class="comment">// a[i]=make_pair(aa,bb);</span></span><br><span class="line">        a.push_back(make_pair(aa,bb));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=k; i++)&#123;</span><br><span class="line">        <span class="comment">// cä¸ºè¢«å é¢†çš„åŸå¸‚</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;c);</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">int</span> res= pan(c);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1014-waiting-in-line"><a class="markdownIt-Anchor" href="#1014-waiting-in-line"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805498207911936" target="_blank" rel="noopener"> 1014  Waiting in Line</a></h3><blockquote><p>é˜Ÿåˆ—queueçš„æ¨¡æ‹Ÿæ“ä½œï¼Œåˆ†ä¸¤éƒ¨åˆ†è§£å†³ï¼Œä¸€éƒ¨åˆ†æ˜¯åœ¨é»„çº¿ä¸­çš„M*Nä¸ªäººï¼Œç›´æ¥è¿›è¡Œæ“ä½œï¼Œå¦ä¸€éƒ¨åˆ†é»„çº¿å¤–çš„äººéœ€è¦ä¸€ä¸ªä¸ªåˆ¤æ–­ï¼Œå“ªä¸ªçª—å£ç›®å‰æ˜¯æœ€å°‘çš„ï¼Œç„¶åå¯¹è¯¥çª—å£è¿›è¡Œæ›´æ–°</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">windows</span>&#123;</span></span><br><span class="line">    <span class="comment">// å‰è€…ä¸ºé˜Ÿé¦–é¡¾å®¢å‡ºé˜Ÿæ—¶é—´ï¼šä¸ºäº†è®¡ç®—è®©é»„çº¿å¤–çš„äººå¯ä»¥è®¡ç®—å‡ºå“ªä¸€ä¸ªé˜Ÿåˆ—å…ˆç©ºå‡ºäººæ¥</span></span><br><span class="line">    <span class="comment">// åè€…ä¸ºé˜Ÿå°¾é¡¾å®¢å‡ºé˜Ÿæ—¶é—´ï¼šä¸ºäº†è®¡ç®—å…¥é˜ŸååŠ ä¸Šè‡ªå·±æœ¬èº«çš„taketimeå¯ä»¥è®¡ç®—å‡ºè‡ªå·±ä½•æ—¶æ‰èƒ½è¢«æœåŠ¡å®Œæ¯•</span></span><br><span class="line">    <span class="comment">//     ä»¥åŠå¾—çŸ¥è‡ªå·±æ˜¯ä¸æ˜¯éœ€è¦è¢«Sorry(å¦‚æœå‰ä¸€ä¸ªäººæœåŠ¡ç»“æŸæ—¶é—´è¶…è¿‡17:00ï¼Œè‡ªå·±å½“å‰å…¥é˜Ÿçš„äººå°±æ˜¯sorry)</span></span><br><span class="line">    <span class="keyword">int</span> start_pop_time, end_pop_time;</span><br><span class="line">    <span class="comment">// è¯¥çª—å£æ’é˜Ÿçš„äºº</span></span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">&#125;<span class="keyword">typedef</span> win;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// nä¸ªçª—å£ï¼Œ mä¸ªé»„çº¿å†…é¡¾å®¢ï¼Œ æ€»å…±kä¸ªé¡¾å®¢ï¼Œ æ±‚è§£qä¸ªè¯¢é—®</span></span><br><span class="line">    <span class="keyword">int</span> n, m, k, q;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;n, &amp;m, &amp;k, &amp;q);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; taketime(k+<span class="number">1</span>);           <span class="comment">// æ¯ä¸ªcoséœ€è¦çš„å¤„ç†æ—¶é—´</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; quiz(k+<span class="number">1</span>);               <span class="comment">// æµ‹éªŒ</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; sorry(k+<span class="number">1</span>, <span class="literal">false</span>);      <span class="comment">// æ˜¯å¦èƒ½è¢«æœåŠ¡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;win&gt; window(n+<span class="number">1</span>);             <span class="comment">// çª—å£</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;taketime[i]);</span><br><span class="line">    <span class="comment">// è§£ç­”</span></span><br><span class="line">    <span class="comment">// æŒ‡é’ˆï¼Œå½“å‰æ–°è¢«å¤„ç†çš„äººï¼Œ ä»1å·é¡¾å®¢å¼€å§‹</span></span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœæ€»äººæ•°æ­£å¥½åœ¨m*nèŒƒå›´å†…</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)&#123;</span><br><span class="line">            <span class="keyword">if</span> (index &lt;= k)&#123;</span><br><span class="line">                window[j].q.push(taketime[index]);</span><br><span class="line">                <span class="comment">// å¦‚æœè¯¥çª—å£å¤„ç†å½“å‰é»„çº¿å†…æ’é˜Ÿçš„äººå·²ç»æœ‰å¤§äº540çš„äº†ï¼Œé‚£ä¹ˆæ–°åŠ å…¥çš„å¿…sorry</span></span><br><span class="line">                <span class="keyword">if</span> (window[j].end_pop_time&gt;=(<span class="number">17</span><span class="number">-8</span>)*<span class="number">60</span>) sorry[index] = <span class="literal">true</span>;</span><br><span class="line">                <span class="comment">// å½“å‰çª—å£çš„ç»“æŸæ—¶é—´æ›´æ–°è§„åˆ™ä¸ºï¼š å·²æœ‰çš„ç»“æŸæ—¶é—´ + å½“å‰é¡¾å®¢indexçš„æœåŠ¡æ—¶é—´</span></span><br><span class="line">                window[j].end_pop_time += taketime[index];</span><br><span class="line">                <span class="comment">// ç¬¬ä¸€ä¸ªpopçš„æ—¶é—´éœ€è¦ç‰¹æ®Šå¤„ç†ä¸€ä¸‹</span></span><br><span class="line">                <span class="keyword">if</span> (i==<span class="number">1</span>) window[j].start_pop_time = window[j].end_pop_time;</span><br><span class="line">                <span class="comment">// åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ é¡¾å®¢çš„ç»“æŸæ—¶é—´å°±æ˜¯è¯¥çª—å£çš„end_time</span></span><br><span class="line">                quiz[index] = window[j].end_pop_time;</span><br><span class="line">                <span class="comment">// å¤„ç†ä¸‹ä¸€ä¸ªé¡¾å®¢</span></span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœk&gt;m*nï¼Œé‚£ä¹ˆåœ¨è¿™è¾¹å¤„ç† å‰©ä¸‹çš„index~kä½é¡¾å®¢ï¼Œæ­¤æ—¶éœ€è¦ä¸æ–­æ›´æ–°windowå®‰æ’é¡¾å®¢è¿›æ ˆ</span></span><br><span class="line">    <span class="keyword">while</span>( index &lt;= k)&#123;</span><br><span class="line">        <span class="keyword">int</span> min_time = window[<span class="number">1</span>].start_pop_time, min_win = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// é»„çº¿å¤–é¡¾å®¢è¦æ‰¾åˆ°ä¸€ä¸ªå¯¹ä»–æ¥è¯´æœ€çŸ­çš„çª—å£ï¼Œ ç¼–å·å°çš„ä¼˜å…ˆ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span> ( window[i].start_pop_time &lt;= min_time)&#123;</span><br><span class="line">                min_time = window[i].start_pop_time;</span><br><span class="line">                min_win = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†æœ€çŸ­çª—å£çš„é˜Ÿé¦–é¡¾å®¢å‡ºé˜Ÿ</span></span><br><span class="line">        window[min_win].q.pop();</span><br><span class="line">        <span class="comment">// é»„çº¿å¤–ç¬¬ä¸€ä¸ªé¡¾å®¢å…¥é˜Ÿ</span></span><br><span class="line">        window[min_win].q.push(taketime[index]);</span><br><span class="line">        <span class="comment">// æ›´æ–°é˜Ÿé¦–çš„é¡¾å®¢ç»“æŸæ—¶é—´</span></span><br><span class="line">        window[min_win].start_pop_time += window[min_win].q.front();</span><br><span class="line">        <span class="comment">// å¦‚æœè¯¥çª—å£å¤„ç†å½“å‰é»„çº¿å†…æ’é˜Ÿçš„äººå·²ç»æœ‰å¤§äº540çš„äº†ï¼Œé‚£ä¹ˆæ–°åŠ å…¥çš„å¿…sorry</span></span><br><span class="line">        <span class="keyword">if</span> (window[min_win].end_pop_time&gt;=(<span class="number">17</span><span class="number">-8</span>)*<span class="number">60</span>) sorry[index] = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// å½“å‰çª—å£çš„ç»“æŸæ—¶é—´æ›´æ–°ä¸ºï¼š å·²æœ‰çš„æ—¶é—´ + æ–°è¿›å…¥çš„é¡¾å®¢çš„å¤„ç†æ—¶é—´</span></span><br><span class="line">        window[min_win].end_pop_time += taketime[index];</span><br><span class="line">        <span class="comment">// åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ é¡¾å®¢çš„ç»“æŸæ—¶é—´å°±æ˜¯è¯¥çª—å£çš„end_pop_time</span></span><br><span class="line">        quiz[index] = window[min_win].end_pop_time;</span><br><span class="line">        <span class="comment">// å¤„ç†ä¸‹ä¸€ä¸ªé¡¾å®¢</span></span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å›ç­”é—®é¢˜</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= q; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> query, ans;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;query);</span><br><span class="line">        ans = quiz[query];</span><br><span class="line">        <span class="comment">// å…ˆåˆ¤æ–­æ˜¯å¦sorryï¼Œ å¦‚æœésorryï¼Œ é‚£ä¹ˆå°±æœ‰æœåŠ¡ç»“æŸæ—¶é—´</span></span><br><span class="line">        <span class="keyword">if</span>(sorry[query] == <span class="literal">true</span>) <span class="built_in">printf</span>(<span class="string">"Sorry\n"</span>);</span><br><span class="line">        <span class="comment">// è§„èŒƒè¾“å‡ºç»“æœ</span></span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%02d:%02d\n"</span>,(ans + <span class="number">8</span>*<span class="number">60</span>) / <span class="number">60</span>, (ans + <span class="number">8</span>*<span class="number">60</span>) % <span class="number">60</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1016-phone-bills"><a class="markdownIt-Anchor" href="#1016-phone-bills"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805493648703488" target="_blank" rel="noopener">1016 Phone Bills</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line">    <span class="built_in">string</span> date;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; date;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *s = date.data();</span><br><span class="line">    <span class="keyword">int</span> month, day, hour, minute;</span><br><span class="line">    <span class="built_in">sscanf</span>(s, <span class="string">"%d:%d:%d:%d"</span>, &amp;month, &amp;day, &amp;hour, &amp;minute);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; month &lt;&lt; <span class="string">"\t"</span>&lt;&lt;day&lt;&lt;<span class="string">"\t"</span>&lt;&lt;hour&lt;&lt;<span class="string">"\t"</span>&lt;&lt;minute&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line">    <span class="built_in">string</span> date;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; date;</span><br><span class="line">    <span class="function"><span class="built_in">stringstream</span> <span class="title">ss</span><span class="params">(date)</span></span>;</span><br><span class="line">    <span class="built_in">string</span> month, day, hour, minute;</span><br><span class="line">    getline(ss, month, <span class="string">':'</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; month&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    getline(ss, day, <span class="string">':'</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; day&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    getline(ss, hour, <span class="string">':'</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; hour&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    getline(ss, minute, <span class="string">':'</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; minute&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1017-queueing-at-bank"><a class="markdownIt-Anchor" href="#1017-queueing-at-bank"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805491530579968" target="_blank" rel="noopener">1017 Queueing at Bank</a></h3><blockquote><ol><li>å°†è¾¾åˆ°æ—¶é—´æ¢ç®—æˆç§’ï¼ˆè¿™æ ·å¯ä»¥é¿å…å°æ•°ï¼‰ï¼Œæˆ‘è¿™é‡Œå°†åˆ°è¾¾æ—¶é—´ä»¥å¼€é—¨æ—¶é—´ï¼ˆ8ç‚¹ï¼‰ä¸º0å€¼ï¼Œæ¥æ—©çš„å³ä¸ºè´Ÿæ•°ï¼ˆç»å¯¹å€¼ä¸ºç­‰å¾…æ—¶é—´ï¼‰ï¼Œç„¶åè¿›è¡Œæ’åºã€‚</li><li>åˆ¤æ–­æœ‰æ•ˆäººæ•°æ˜¯å¦å¤§äº0ï¼Œä¸æ˜¯åˆ™æå‰è¾“å‡º0.0ï¼ˆä¿ç•™ä¸€ä½å°æ•°ï¼ï¼ï¼‰</li><li>è®¾ç½®windows[k]ä¸ºçª—å£å¯ä»¥å¤„ç†ä¸‹ä¸€ä¸ªå®¢æˆ·çš„æ—¶é—´ï¼Œé»˜è®¤å€¼ä¸º0</li></ol></blockquote><h3 id="1018-public-bike-management"><a class="markdownIt-Anchor" href="#1018-public-bike-management"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805489282433024" target="_blank" rel="noopener"> 1018  Public Bike Management</a></h3><h3 id="1019-general-palindromic-number"><a class="markdownIt-Anchor" href="#1019-general-palindromic-number"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805487143337984" target="_blank" rel="noopener"> 1019  General Palindromic Number</a></h3><h3 id="1020-tree-traversals"><a class="markdownIt-Anchor" href="#1020-tree-traversals"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805485033603072" target="_blank" rel="noopener"> 1020  Tree Traversals</a></h3><blockquote><p>è€ƒå¯Ÿæ ‘çš„éå†ã€‚äºŒå‰æ ‘çš„å‰åºã€ä¸­åºã€ååºéå†éœ€è¦ç”¨åˆ°æ ˆï¼ˆ<strong>é€’å½’</strong>çš„è¿‡ç¨‹ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ ˆï¼‰(DFS)ï¼Œå±‚æ¬¡éå†éœ€è¦å€ŸåŠ©<strong>é˜Ÿåˆ—</strong>è¿™ä¸ªæ•°æ®ç»“æ„==&gt;(BFS)ã€‚</p><p>ä¸­åºçš„ç»“æ„çš„ç‰¹ç‚¹æ˜¯ï¼š<strong>å·¦å­æ ‘+æ ¹ç»“ç‚¹+å³å­æ ‘</strong>ã€‚<br>è€Œååºç»“æ„çš„ç‰¹ç‚¹æ˜¯ï¼š<strong>å·¦å­æ ‘+å³å­æ ‘+æ ¹ç»“ç‚¹</strong>ã€‚</p><p>è§£é¢˜æ€è·¯:ååº(postOrder)å’Œå…ˆåº(preOrder)éå†æä¾›<strong>æ ¹èŠ‚ç‚¹ä½ç½®</strong>ï¼Œç„¶åå†ä¸­åº(inOrder)åºåˆ—ä¸­åŒºåˆ†å‡º<strong>å·¦å­æ ‘å’Œå³å­æ ‘</strong>ï¼Œé€’å½’å»ºæ ‘ï¼Œç„¶åBFSå±‚åºéå†ã€‚</p></blockquote><p><a href="https://blog.csdn.net/CV_Jason/article/details/81394447" target="_blank" rel="noopener">æŸ³å©¼Code</a></p><blockquote><p>äºŒå‰æ ‘åˆ©ç”¨æ•°ç»„æ¥å®Œæˆ, æœªä½¿ç”¨ç»“æ„ä½“</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; post, in, level(<span class="number">100000</span>, <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pre</span><span class="params">(<span class="keyword">int</span> root, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"root = "</span>&lt;&lt;root&lt;&lt;<span class="string">" start"</span>&lt;&lt;start&lt;&lt;<span class="string">" end="</span>&lt;&lt;end&lt;&lt;<span class="string">" index="</span>&lt;&lt;index&lt;&lt;<span class="built_in">endl</span>; </span><br><span class="line">    <span class="keyword">if</span>(start &gt; end) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> i = start;</span><br><span class="line">    <span class="comment">// é€šè¿‡ååºæ ¹èŠ‚ç‚¹æ‰¾åˆ°ä¸­åºæ ¹èŠ‚ç‚¹çš„ç´¢å¼• </span></span><br><span class="line">    <span class="keyword">while</span>(i &lt; end &amp;&amp; in[i] != post[root]) i++;</span><br><span class="line">    <span class="comment">// å¯¹äºååºéå†ï¼Œæœ€åä¸€ä¸ªç»“ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ </span></span><br><span class="line">    level[index] = post[root];</span><br><span class="line">    <span class="comment">// ã€è¿™æ®µé€’å½’æ˜¯æœ¬ä»£ç çš„äº®ç‚¹æ‰€åœ¨ã€‘</span></span><br><span class="line"><span class="comment">// (root -(end - i + 1)) ååºrootåœ°å€ - (ä¸­åºå·¦å­æ ‘é•¿åº¦)ï¼Œå¾—åˆ°ä¸‹ä¸€æ¬¡çš„å·¦å­æ ‘çš„ååºrootåœ°å€ </span></span><br><span class="line">    pre(root - (end - i + <span class="number">1</span>), start, i - <span class="number">1</span>, <span class="number">2</span> * index + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// root - 1 ååºrootåœ°å€ å·¦é‚»æ¥ç‚¹å³å­æ ‘çš„æ ¹ </span></span><br><span class="line">    pre(root - <span class="number">1</span>, i + <span class="number">1</span>, end, <span class="number">2</span> * index + <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="comment">// é¢„ç½®nä¸ªç»“ç‚¹ </span></span><br><span class="line">    post.resize(n);</span><br><span class="line">    in.resize(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;post[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;in[i]);</span><br><span class="line">    pre(n<span class="number">-1</span>, <span class="number">0</span>, n<span class="number">-1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level.size(); i++) &#123;</span><br><span class="line">    <span class="comment">//  </span></span><br><span class="line">        <span class="keyword">if</span> (level[i] != <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cnt != <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d"</span>, level[i]);</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cnt == n) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>My</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> post[MAXN], in[MAXN];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> num;    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    Node *lchild;</span><br><span class="line">    Node *rchild;</span><br><span class="line">&#125;<span class="keyword">typedef</span> Node;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [æ ¹æ®ä¸­åºå’Œå…ˆåºéå†æ„å»ºæ ‘, å‚æ•°å…¨ä¸ºç´¢å¼•]</span></span><br><span class="line"><span class="comment"> * @author mrli 2020-01-28</span></span><br><span class="line"><span class="comment"> * @param  postl [ååºå·¦è¾¹ç•Œ]</span></span><br><span class="line"><span class="comment"> * @param  postr [ååºå³è¾¹ç•Œ]</span></span><br><span class="line"><span class="comment"> * @param  inl   [ä¸­åºå·¦è¾¹ç•Œ]</span></span><br><span class="line"><span class="comment"> * @param  inr   [ä¸­åºå³è¾¹ç•Œ]</span></span><br><span class="line"><span class="comment"> * @return       [èŠ‚ç‚¹]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">Node *<span class="title">createTree</span><span class="params">(<span class="keyword">int</span> postl, <span class="keyword">int</span> postr, <span class="keyword">int</span> inl, <span class="keyword">int</span> inr)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å…ˆåºå·¦æŒ‡é’ˆ&gt;å³æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (postl&gt;postr) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°æ ¹èŠ‚ç‚¹ååºçš„ç´¢å¼•å€¼</span></span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt;= inr; ++k)</span><br><span class="line">        <span class="keyword">if</span> (in[k] == post[postr]) <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">// åˆ†ç•Œçº¿</span></span><br><span class="line">    <span class="keyword">int</span> numLeft = k - inl;</span><br><span class="line">    Node* root = <span class="keyword">new</span> Node();</span><br><span class="line">    root-&gt;v = post[postr];</span><br><span class="line">    root-&gt;lchild = createTree(postl, postl+numLeft<span class="number">-1</span>, inl, k<span class="number">-1</span>);</span><br><span class="line">    root-&gt;rchild = createTree(postl+numLeft, postr<span class="number">-1</span>, k+<span class="number">1</span>, inr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹numLeftå®šä¹‰è¿›è¡Œäº†ä¿®æ”¹</span></span><br><span class="line"><span class="function">Node *<span class="title">createTree</span><span class="params">(<span class="keyword">int</span> postl, <span class="keyword">int</span> postr, <span class="keyword">int</span> inl, <span class="keyword">int</span> inr)</span></span>&#123;</span><br><span class="line">    <span class="comment">// å…ˆåºå·¦æŒ‡é’ˆ&gt;å³æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (postl&gt;postr) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°æ ¹èŠ‚ç‚¹ä¸­åºçš„ç´¢å¼•å€¼: ååºéå†çš„æœ€åä¸€ä¸ªä¸ºæ ¹èŠ‚ç‚¹,ç”±äºéƒ½æ˜¯ä¸åŒçš„æ•°,æ‰€ä»¥æ‰¾åˆ°å€¼ç›¸ç­‰çš„,</span></span><br><span class="line">    <span class="comment">// æ­¤æ—¶kå³ä¸ºä¸­åºéå†ä¸­æ ¹çš„ç´¢å¼•å€¼</span></span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt;= inr; ++k)</span><br><span class="line">        <span class="keyword">if</span> (in[k] == post[postr]) <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">// è®¡ç®—å·¦å­æ ‘èŠ‚ç‚¹ä¸ªæ•°X ==&gt; æ‰¾åˆ°åˆ†ç•Œçº¿, postl+numLeft-1ä¸ºååºçš„å·¦å­æ ‘, post+numLeftä¸ºååºå³å­æ ‘.</span></span><br><span class="line">    <span class="comment">// çœŸæ­£æ„ä¹‰ä¸Šçš„å·¦å­æ ‘èŠ‚ç‚¹ä¸ªæ•°numLeft = k - inl - 1</span></span><br><span class="line">    <span class="keyword">int</span> numLeft = k - inl <span class="number">-1</span>;</span><br><span class="line">    Node* root = <span class="keyword">new</span> Node();</span><br><span class="line">    root-&gt;v = post[postr];</span><br><span class="line">    <span class="comment">// ååºéå†è®¿é—®å·¦å­æ ‘æ—¶,å·¦è¾¹ç•Œä¸å˜è®¤ä¸ºpostl, å³è¾¹ç•Œå˜ä¸ºpostr+numLeft-1,è®¿é—®å³å­æ ‘æ—¶,å·¦è¾¹ç•Œä¸ºpostl+numLeft, å³è¾¹ç•Œä¸ºpostr-1(å»æ‰äº†æ­¤è½®çš„æ ¹èŠ‚ç‚¹)</span></span><br><span class="line">    <span class="comment">// postl + numleft ä¹Ÿä¸ºç¬¬äºŒä¸ªæ ¹èŠ‚ç‚¹ç´¢å¼•å€¼</span></span><br><span class="line">    <span class="comment">// kä¸ºä¸­åºéå†èŠ‚ç‚¹çš„æ ¹, æ‰€ä»¥è®¿é—®å·¦å­æ ‘æ—¶å·¦è¾¹ç•Œæ”¹ä¸ºk-1, å³è¾¹ç•Œä¸ºk+1;è®¿é—®å³å­æ ‘æ—¶å·¦è¾¹ç•Œä¸ºk+1,å³è¾¹ç•Œä¸ºinr</span></span><br><span class="line">    root-&gt;lchild = createTree(postl, postl+numLeft, inl, k<span class="number">-1</span>);</span><br><span class="line">    root-&gt;rchild = createTree(postl+numLeft+<span class="number">1</span>, postr<span class="number">-1</span>, k+<span class="number">1</span>, inr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(Node* tree)</span></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;Node*&gt; q;</span><br><span class="line">    q.push(tree);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">        Node* now = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; now-&gt;v;</span><br><span class="line">        num ++;</span><br><span class="line">        <span class="keyword">if</span> (num &lt; n) <span class="built_in">cout</span> &lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        <span class="keyword">if</span> (now-&gt;lchild != <span class="literal">NULL</span>) q.push(now-&gt;lchild);</span><br><span class="line">        <span class="keyword">if</span> (now-&gt;rchild != <span class="literal">NULL</span>) q.push(now-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; post[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; in[i];</span><br><span class="line">    Node* tree = createTree(<span class="number">0</span>, n<span class="number">-1</span>, <span class="number">0</span>, n<span class="number">-1</span>);</span><br><span class="line">    BFS(tree);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="codeupé—®é¢˜-a-å¤åŸäºŒå‰æ ‘"><a class="markdownIt-Anchor" href="#codeupé—®é¢˜-a-å¤åŸäºŒå‰æ ‘"></a> <a href="http://codeup.cn/problem.php?cid=100000611&amp;pid=0" target="_blank" rel="noopener">Codeupé—®é¢˜ A: å¤åŸäºŒå‰æ ‘</a></h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="built_in">string</span> pre;</span><br><span class="line"><span class="built_in">string</span> in;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> v;</span><br><span class="line">    Node* lc, *rc;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">createTree</span><span class="params">(<span class="keyword">int</span> preL, <span class="keyword">int</span> preR, <span class="keyword">int</span> inL, <span class="keyword">int</span> inR)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (preL &gt; preR) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    Node *root = <span class="keyword">new</span> Node();</span><br><span class="line">    root-&gt;v = pre[preL];        <span class="comment">// å…ˆåºæ‰¾åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="keyword">for</span> (k = inL; k &lt; inR; ++k)&#123;</span><br><span class="line">        <span class="keyword">if</span> (in[k] == pre[preL])   <span class="comment">// æ‰¾åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> numLeft = k-inL;    <span class="comment">// ç”±äºä¸åŒ…æ‹¬K, æ‰€ä»¥ä¸éœ€è¦+1</span></span><br><span class="line">    <span class="comment">// å·¦å­æ ‘ç»§ç»­</span></span><br><span class="line">    root-&gt;lc = createTree(preL+<span class="number">1</span>, preL+ numLeft, inL, k<span class="number">-1</span>);</span><br><span class="line">    <span class="comment">// å³å­æ ‘</span></span><br><span class="line">    root-&gt;rc = createTree(preL+numLeft+<span class="number">1</span>, preR, k+<span class="number">1</span>, inR);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(Node *root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>) <span class="keyword">return</span> ;</span><br><span class="line"></span><br><span class="line">    postOrder(root-&gt;lc);</span><br><span class="line">    postOrder(root-&gt;rc);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; pre &gt;&gt; in)&#123;</span><br><span class="line">        Node *root = createTree(<span class="number">0</span>, pre.size()<span class="number">-1</span>, <span class="number">0</span>, in.size()<span class="number">-1</span>);</span><br><span class="line">        postOrder(root);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–²å‰æéƒ½æ˜¯ä¸åŒå…ƒç´ ï¼</p><h4 id="codeupé—®é¢˜-b-äºŒå‰æ ‘"><a class="markdownIt-Anchor" href="#codeupé—®é¢˜-b-äºŒå‰æ ‘"></a> <a href="http://codeup.cn/problem.php?cid=100000611&amp;pid=1" target="_blank" rel="noopener">Codeupé—®é¢˜ B: äºŒå‰æ ‘</a></h4><p>æ ¹æ®å®Œå…¨äºŒå‰æ ‘çš„æ€§è´¨ï¼šå·¦å­©å­çš„ç¼–å·ä¸€å®šæ˜¯2<em>mï¼Œ å³å­©å­ä¸€å®šæ˜¯2</em>m+1ã€‚å¯ä»¥å†™å‡ºæš´åŠ›é€’å½’çš„å†™æ³•ï¼Œ ä½†æ˜¯ä¼šè¶…æ—¶ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> m, n;   <span class="comment">// æ±‚è§£ï¼Œ æ€»å…±èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cnt</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(v &gt; n) <span class="keyword">return</span>;</span><br><span class="line">    cnt(<span class="number">2</span>*v);</span><br><span class="line">    cnt(<span class="number">2</span>*v+<span class="number">1</span>);</span><br><span class="line">    ans ++ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; m &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">if</span> ( m == <span class="number">0</span> &amp;&amp; n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        ans = <span class="number">0</span>;</span><br><span class="line">        cnt(m);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¹ç”¨é€’æ¨å†™æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, n;   <span class="comment">// æ±‚è§£ï¼Œ æ€»å…±èŠ‚ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">cin</span> &gt;&gt; m &gt;&gt; n &amp;&amp; n &amp;&amp; m)&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> l= <span class="number">2</span>*m, r = <span class="number">2</span>*m+<span class="number">1</span>; </span><br><span class="line">        <span class="keyword">while</span>(r &lt;= n)&#123;          <span class="comment">// å¦‚æœå½“å‰è¡Œçš„èŠ‚ç‚¹æ•°æ˜¯å…¨çš„ï¼ˆä¸æ˜¯æœ€åä¸€è¡Œæ®‹ç¼ºè¡Œï¼‰</span></span><br><span class="line">            ans += r - l + <span class="number">1</span>;<span class="comment">// åŠ ä¸Šè¯¥è¡Œæ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">            l = l*<span class="number">2</span>, r = r*<span class="number">2</span> + <span class="number">1</span>;<span class="comment">// ç»§ç»­å‘ä¸‹</span></span><br><span class="line">        &#125;<span class="comment">// å½“æ‰¾åˆ°æœ€åä¸€è¡Œæ—¶è·³å‡º</span></span><br><span class="line">        <span class="keyword">if</span> ( l &lt;= n )&#123;<span class="comment">// åˆ¤æ–­æœ€åä¸€è¡Œæ˜¯å¦æœ‰èŠ‚ç‚¹</span></span><br><span class="line">            ans += n - l + <span class="number">1</span>;<span class="comment">// æœ‰çš„è¯åŠ ä¸Š</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="codeup-é—®é¢˜-d-äºŒå‰æ ‘éå†"><a class="markdownIt-Anchor" href="#codeup-é—®é¢˜-d-äºŒå‰æ ‘éå†"></a> <a href="http://codeup.cn/problem.php?cid=100000611&amp;pid=3" target="_blank" rel="noopener">Codeup é—®é¢˜ D: äºŒå‰æ ‘éå†</a></h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> n;  <span class="comment">// æ€»å…±çš„èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"><span class="keyword">int</span> depth=<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> v;</span><br><span class="line">    Node *lc, *rc;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Node *<span class="title">createTree</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Node *root = <span class="keyword">new</span> Node;</span><br><span class="line">    depth ++;        </span><br><span class="line">    <span class="keyword">if</span>(str[depth] == <span class="string">'#'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    root-&gt;v = str[depth];</span><br><span class="line">    root-&gt;lc = createTree();</span><br><span class="line">    root-&gt;rc = createTree();</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(Node *root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>) <span class="keyword">return</span>;</span><br><span class="line">    inOrder(root-&gt;lc);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;v &lt;&lt;<span class="string">" "</span> ;</span><br><span class="line">    inOrder(root-&gt;rc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; str)&#123;</span><br><span class="line">        depth = <span class="number">-1</span>;</span><br><span class="line">        Node *root= createTree();</span><br><span class="line">        inOrder(root);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ›´å¤šCodeupçš„ä¸“é¢˜è®­ç»ƒæ”¾åœ¨ã€Šç®—æ³•ç¬”è®°Codeupé¢˜è§£ã€‹ä¸­äº†ã€‚</p><h3 id="1021-deepest-root"><a class="markdownIt-Anchor" href="#1021-deepest-root"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805482919673856" target="_blank" rel="noopener"> 1021  Deepest Root</a></h3><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805474338127872" target="_blank" rel="noopener">1025 PAT Ranking</a></p><blockquote><p>é€šè¿‡ç‡ä¸º0.27, é¢˜æ„è¾ƒç®€å•, ä½†æ˜¯å¤„ç†èµ·æ¥ä¼šæœ‰å‘ï¼Œä¹Ÿç®—å­¦ä¹ åˆ°äº†å§ã€‚</p><ol><li>vectorçš„æ‹¼æ¥ï¼š <code>v.insert(v.begin(), va.begin(), va.end())</code></li><li>sortè‡ªå®šä¹‰å‡½æ•°ï¼šåœ¨åµŒå¥—æ¯”è¾ƒæ—¶æ³¨æ„ifçš„æ¡ä»¶ï¼Œ<code>return true</code>çš„å°†ä¼šè¢«æ”¾åœ¨å‰é¢</li><li>æ’åçš„å¤„ç†: æ’åç›¸åŒçš„ä¸€è‡´ï¼Œä¸åŒçš„åœ¨å…¶æ’åºç´¢å¼•ä¸Š+1</li></ol></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rc</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> ID;      <span class="comment">//è®°å½•ID</span></span><br><span class="line">    <span class="keyword">int</span> grade;      <span class="comment">//æˆç»©</span></span><br><span class="line">    <span class="keyword">int</span> local_num;  <span class="comment">//åœºæ¬¡</span></span><br><span class="line">    <span class="keyword">int</span> local_rank; <span class="comment">//è¯¥åœºæ¬¡çš„æ’å</span></span><br><span class="line">&#125;<span class="keyword">typedef</span> rc;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(rc &amp;a, rc &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.grade != b.grade)</span><br><span class="line">        <span class="keyword">return</span> a.grade&gt;b.grade;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> (a.ID&lt;b.ID);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**æˆ–è€…å†™æˆ</span></span><br><span class="line"><span class="comment">bool cmp(const node &amp;a, const node &amp;b)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    return a.score==b.score ? a.id&lt;b.id : a.score&gt;b.score;</span></span><br><span class="line"><span class="comment">    // å¦‚æœå¾—åˆ†ç›¸ç­‰,IDå°çš„åœ¨å‰,å¦‚æœå¾—åˆ†ä¸ç­‰,é‚£ä¹ˆå¾—åˆ†å¤§çš„åœ¨å‰</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;rc&gt; vall;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N; ++j)&#123;</span><br><span class="line">        <span class="keyword">int</span> K;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; K;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;rc&gt; v;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; ++i)&#123;</span><br><span class="line">            rc r;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; r.ID &gt;&gt; r.grade;</span><br><span class="line">            r.local_num = j;            </span><br><span class="line">            v.push_back(r);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(v.begin(), v.end(), cmp);  <span class="comment">// å…ˆå°†å½“å±€æ’åç®—å‡º</span></span><br><span class="line">        <span class="keyword">int</span> rank = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> rankv = v[<span class="number">0</span>].grade;</span><br><span class="line"></span><br><span class="line">        v[<span class="number">0</span>].local_rank = rank;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; v.size(); ++i)&#123;</span><br><span class="line">            <span class="comment">// æ€è·¯</span></span><br><span class="line">            <span class="comment">// if(rankv == v[i].grade)&#123;</span></span><br><span class="line">            <span class="comment">//     v[i].local_rank = rank;</span></span><br><span class="line">            <span class="comment">// &#125;else&#123;</span></span><br><span class="line">            <span class="comment">//     rank = i+1;</span></span><br><span class="line">            <span class="comment">//     v[i].local_rank = rank;</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            <span class="comment">/* ç®€æ´å†™æ³• */</span></span><br><span class="line">            <span class="keyword">if</span>(rankv != v[i].grade)&#123;</span><br><span class="line">                rank = i+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            v[i].local_rank = rank;</span><br><span class="line">            rankv = v[i].grade;         </span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        vall.insert(vall.end(), v.begin(), v.end());    <span class="comment">// å°†æ¯ä¸ªåœºæ¬¡çš„ç»“æœæ‹¼èµ·æ¥</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(vall.begin(), vall.end(), cmp);                <span class="comment">// å¯¹æ€»ç»“æœè¿›è¡Œæ’åºç®—å‡ºfinalRank</span></span><br><span class="line">    <span class="keyword">int</span> Ssize =  vall.size();</span><br><span class="line">    <span class="built_in">cout</span>  &lt;&lt; Ssize &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">int</span> finalRank = <span class="number">1</span>;          <span class="comment">// ç”¨æ¥å¤„ç†æ’åç›¸åŒçš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">int</span> rankv = vall[<span class="number">0</span>].grade;  <span class="comment">// ç”¨æ¥ç¡®å®šä½•æ—¶æ’åç›¸åŒ</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; vall.at(<span class="number">0</span>).ID &lt;&lt; <span class="string">" "</span>&lt;&lt;finalRank &lt;&lt; <span class="string">" "</span>&lt;&lt;vall.at(<span class="number">0</span>).local_num &lt;&lt; <span class="string">" "</span>&lt;&lt;vall.at(<span class="number">0</span>).local_rank &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; Ssize; ++i)&#123;</span><br><span class="line">        <span class="comment">// è¿™æ ·çœ‹æ€è·¯æ›´æ¸…æ™°ä¸€ç‚¹</span></span><br><span class="line">        <span class="comment">// if(rankv == vall[i].grade)&#123;</span></span><br><span class="line">        <span class="comment">//     cout &lt;&lt; vall.at(i).ID &lt;&lt;" "&lt;&lt; finalRank &lt;&lt;" "&lt;&lt; vall.at(i).local_num &lt;&lt;" "&lt;&lt; vall.at(i).local_rank &lt;&lt; endl;</span></span><br><span class="line">        <span class="comment">// &#125;else&#123;</span></span><br><span class="line">        <span class="comment">//     finalRank = i+1;</span></span><br><span class="line">        <span class="comment">//     cout &lt;&lt; vall.at(i).ID &lt;&lt;" "&lt;&lt; finalRank &lt;&lt;" "&lt;&lt; vall.at(i).local_num &lt;&lt;" "&lt;&lt; vall.at(i).local_rank &lt;&lt; endl;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">/* ç®€æ´å†™æ³• */</span></span><br><span class="line">        <span class="keyword">if</span>(rankv != vall[i].grade)&#123;</span><br><span class="line">            finalRank = i+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; vall.at(i).ID &lt;&lt;<span class="string">" "</span>&lt;&lt; finalRank &lt;&lt;<span class="string">" "</span>&lt;&lt; vall.at(i).local_num &lt;&lt;<span class="string">" "</span>&lt;&lt; vall.at(i).local_rank &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        rankv = vall[i].grade;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–²æˆ‘è¿™è¾¹åˆ¤æ–­ä¸¤ä¸ªrcæ˜¯å¦ç›¸åŒï¼Œæ˜¯ç”¨rankvå’Œfinalrankæ¥è®°å½•ä¸Šä¸€æ¬¡çš„ç»“æœçš„ï¼Œå…¶å®è¿˜èƒ½åœ¨foré‡Œé¢åˆ¤æ–­v.[i].grade == v[i-1].grade</p><h3 id="1027-colors-in-mars"><a class="markdownIt-Anchor" href="#1027-colors-in-mars"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805470349344768" target="_blank" rel="noopener"> 1027 Colors in Mars</a></h3><blockquote><p>è€ƒå¯Ÿç‚¹ï¼š è¿›åˆ¶çš„è½¬æ¢</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">int2string</span><span class="params">(<span class="keyword">int</span> ans)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(ans)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"A"</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"B"</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"C"</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> to_string(ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">decimal2radix</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">13</span>) <span class="keyword">return</span> <span class="string">"0"</span>+int2string(n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> tmp = n;</span><br><span class="line">    <span class="built_in">string</span> res;</span><br><span class="line">    <span class="keyword">while</span>(tmp&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        res.insert(<span class="number">0</span>, int2string(tmp%<span class="number">13</span>));</span><br><span class="line">        tmp /= <span class="number">13</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> r, g, b;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; r &gt;&gt; g &gt;&gt; b ;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"#"</span> &lt;&lt; decimal2radix(r) &lt;&lt; decimal2radix(g) &lt;&lt; decimal2radix(b) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805456881434624" target="_blank" rel="noopener">1034 Head of a Gang</a></p><blockquote><p>é¢˜ç›®å¾ˆéš¾ç†è§£ã€‚é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯æœ¬é¢˜ä¸ºæ— å‘å›¾ã€‚</p><p>æ¶‰åŠä¸€ä¸ªç‚¹æƒçš„ç»´æŠ¤ï¼Œ åœ¨å¢åŠ ä¸€æ¡è¾¹çš„æ—¶å€™ï¼ŒæŠŠè¿™ä¸ªè¾¹çš„ä¸¤ç«¯ç‚¹éƒ½åŠ ä¸Šç›¸åº”çš„æƒå€¼ã€‚<br>éœ€è¦åšçš„æ˜¯ï¼š DFSéå†æ¯ä¸ªè¿é€šå—ï¼Œ è·å¾—ç‚¹æƒæœ€å¤§çš„ç‚¹ã€ æˆå‘˜ä¸ªæ•°ï¼ˆ&gt;2)ã€ æ€»è¾¹æƒï¼ˆ&gt;K)</p><p>æœ¬é¢˜ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†è§£å†³ã€‚åœ¨ä½¿ç”¨å¹¶æŸ¥é›†æ—¶ï¼Œåªè¦æ³¨æ„åˆå¹¶å‡½æ•°ä¸­éœ€è¦æ€»æ˜¯ä¿æŒç‚¹æƒæ›´å¤§çš„ç»“ç‚¹ä¸ºé›†åˆçš„æ ¹ç»“ç‚¹ï¼ˆåŸå…ˆçš„åˆå¹¶å‡½æ•°æ˜¯éšæ„æŒ‡å®šå…¶ä¸­ä¸€ä¸ªæ ¹ç»“ç‚¹ä¸ºåˆå¹¶åé›†åˆçš„æ ¹ç»“ç‚¹ï¼‰ï¼Œå°±èƒ½ç¬¦åˆé¢˜ç›®çš„è¦æ±‚ã€‚è€Œä¸ºäº†è¾¾åˆ°é¢˜ç›®å¯¹æ€»è¾¹æƒä¸æˆå‘˜äººæ•°çš„è¦æ±‚ï¼Œéœ€è¦å®šä¹‰ä¸¤ä¸ªæ•°ç»„ï¼šä¸€ä¸ªæ•°ç»„ç”¨æ¥å­˜æ”¾ä»¥å½“å‰ç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹çš„é›†åˆçš„æ€»è¾¹æƒï¼›å¦ä¸€ä¸ªæ•°ç»„ç”¨æ¥å­˜æ”¾ä»¥å½“å‰ç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹çš„é›†åˆä¸­çš„æˆå‘˜äººæ•°ã€‚è¿™æ ·å½“æ‰€æœ‰é€šè¯è®°å½•åˆå¹¶å¤„ç†å®Œæ¯•åï¼Œè¿™ä¸¤ä¸ªæ•°ç»„å°±è‡ªåŠ¨å­˜æ”¾äº†æ¯ä¸ªé›†åˆçš„æ€»è¾¹æƒå’Œæˆå‘˜äººæ•°ï¼Œå†æ ¹æ®é¢˜æ„è¿›è¡Œç­›é€‰å³å¯</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">2e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// map&lt;stirng, int&gt;å¯ä»¥ç›´æ¥æŒ‰å­—å…¸åºæ’åºï¼› å¦‚æœè¦è‡ªå·±å®šä¹‰ç»“æ„ä½“ï¼Œ å¾—å®ç°æ’åºåŠŸèƒ½</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; gang;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">string</span>&gt; int2string;<span class="comment">// é€šè¿‡éå†åæ‰¾åˆ°çš„èŠ‚ç‚¹ç¼–å·IDæ¥åç€æ‰¾åˆ°å­—ç¬¦ä¸²ID</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; string2int;<span class="comment">// ç”¨æ¥æ£€ç´¢å½“å‰å­—ç¬¦ä¸²IDæ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="keyword">int</span> G[MAXN][MAXN];                  <span class="comment">// é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">int</span> ts[MAXN] = &#123;<span class="number">0</span>&#125;;                 <span class="comment">// æƒå€¼æ•°ç»„, è®°å½•æ¯ä¸ªç‚¹çš„ç‚¹æƒ</span></span><br><span class="line"><span class="keyword">bool</span> visited[MAXN] = &#123;<span class="literal">false</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> numPerson = <span class="number">0</span>;                  <span class="comment">// ç»“ç‚¹ç¼–å·, æœ€ç»ˆä¸ºä¸€å…±æœ‰çš„èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="keyword">int</span> N, K;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> &amp;head, <span class="keyword">int</span> &amp;numMember, <span class="keyword">int</span> &amp;totalValue)</span></span>&#123;</span><br><span class="line">    visited[u] = <span class="literal">true</span>;</span><br><span class="line">    numMember ++;</span><br><span class="line">    <span class="keyword">if</span> ( ts[u] &gt; ts[head] )&#123;    <span class="comment">//  å¦‚æœå½“å‰è®¿é—®èŠ‚ç‚¹çš„ç‚¹æƒå¤§äºheadçš„ç‚¹æƒï¼Œåˆ™æ›´æ¢å¤´ç›®</span></span><br><span class="line">        head = u;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; numPerson; ++v)&#123;</span><br><span class="line">        <span class="keyword">if</span>(G[u][v] &gt; <span class="number">0</span>)&#123;        <span class="comment">// å­˜åœ¨è¾¹å¯è¾¾</span></span><br><span class="line">            totalValue += G[u][v]; <span class="comment">// è¿é€šå—çš„æ€»è¾¹æƒå¢åŠ è¯¥è¾¹æƒ</span></span><br><span class="line">            G[u][v] = G[v][u] = <span class="number">0</span>; <span class="comment">// åˆ é™¤æ­¤è¾¹é˜²æ­¢å›å¤´</span></span><br><span class="line">            <span class="keyword">if</span>(visited[v] == <span class="literal">false</span>)&#123;</span><br><span class="line">                dfs(v, head, numMember, totalValue);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfsTravel</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numPerson; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[i] == <span class="literal">false</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> head = i, numMember = <span class="number">0</span>, totalValue = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            dfs(i, head, numMember, totalValue);</span><br><span class="line">            <span class="keyword">if</span>(numMember &gt; <span class="number">2</span> &amp;&amp; totalValue &gt; K)&#123;</span><br><span class="line">                gang[int2string[head]] = numMember;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†è¾“å…¥çš„å­—ç¬¦ç¼–å·è½¬æ¢ä¸ºæ•°å­—ç¼–å·</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">change</span><span class="params">(<span class="built_in">string</span> tmp)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ( string2int.find(tmp) != string2int.end() )&#123;        <span class="comment">// å¦‚æœå­˜åœ¨</span></span><br><span class="line">        <span class="keyword">return</span> string2int[tmp];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">// å¦‚æœä¸å­˜åœ¨</span></span><br><span class="line">        string2int[tmp] = numPerson;</span><br><span class="line">        int2string[numPerson] = tmp;</span><br><span class="line">        <span class="keyword">return</span> numPerson++;<span class="comment">// æ”¾å›ç¼–å·</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt;K;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="built_in">string</span> a, b;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; t;</span><br><span class="line">        <span class="keyword">int</span> id1 = change(a);             <span class="comment">// å°†ç»“ç‚¹å­—ç¬¦è½¬æ¢ä¸ºæ•°å­—ç¼–å·</span></span><br><span class="line">        <span class="keyword">int</span> id2 = change(b);</span><br><span class="line">        ts[id1] += t;</span><br><span class="line">        ts[id2] += t;</span><br><span class="line">        G[id1][id2] += t;</span><br><span class="line">        G[id2][id1] += t;<span class="comment">// ç”¨vector(int) G[MAXN]ä¸è¡Œ-&gt;vectoræ²¡åˆå§‹åŒ–ä¸å…è®¸ç›¸åŠ </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dfsTravel();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; gang.size() &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::iterator i = gang.begin(); i != gang.end(); ++i)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i-&gt;first &lt;&lt;<span class="string">" "</span> &lt;&lt; i-&gt;second &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–². map&lt;type1ï¼Œtype2&gt;æ˜¯è‡ªåŠ¨æŒ‰ç…§ type1ä»å°åˆ°å¤§è¿›è¡Œæ’åºçš„ï¼Œå› æ­¤ä½¿ç”¨map&lt;stringï¼Œint&gt;å»ºç«‹å¤´ç›®å§“åä¸æˆå‘˜äººæ•°çš„å…³ç³»ä¾¿äºè¾“å‡ºç»“æœã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»“æ„ä½“æ¥å­˜æ”¾å¤´ç›®å§“åä¸æˆå‘˜äººæ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Gang</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> head;</span><br><span class="line">    <span class="keyword">int</span> numMember;</span><br><span class="line">&#125;Gangarr[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰å­—å…¸åºæ’åºï¼Œ mapæœ‰è¿™ä¸ªåŠŸèƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Gang &amp;a, Gang &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.head &lt; b.head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¡¥å……ï¼š vectoråˆå§‹åŒ–</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸€ä½åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">// æŒ‡å®šåˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v = &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="comment">// 5ä¸ª0</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v(<span class="number">5</span>);</span><br><span class="line"><span class="comment">// 5ä¸ª2</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v(<span class="number">5</span>, <span class="number">2</span>);</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// äºŒç»´åˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v[MAXN]= &#123;&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>&#125;, &#123;<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>&#125;&#125;;</span><br></pre></td></tr></table></figure><h3 id="1036-boys-vs-girls"><a class="markdownIt-Anchor" href="#1036-boys-vs-girls"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805453203030016" target="_blank" rel="noopener">1036 Boys vs Girls</a></h3><blockquote><p>è€ƒç‚¹: ç»“æ„ä½“ï¼› sortæ¯”è¾ƒå‡½æ•°</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> sex;</span><br><span class="line">    <span class="built_in">string</span> subject;</span><br><span class="line">    <span class="keyword">int</span> grade;</span><br><span class="line">&#125;<span class="keyword">typedef</span> rc;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(rc &amp;r1, rc &amp;r2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(r1.sex == <span class="string">"M"</span> &amp;&amp; r2.sex == <span class="string">"F"</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(r1.sex == <span class="string">"F"</span> &amp;&amp; r2.sex == <span class="string">"M"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> r1.grade &lt; r2.grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;rc&gt; v(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        rc r;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; r.name &gt;&gt; r.sex &gt;&gt; r.subject &gt;&gt; r.grade;</span><br><span class="line">        v[i] = r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(v.begin(), v.end(), cmp);</span><br><span class="line">    <span class="comment">// for (std::vector&lt;rc&gt;::iterator i = v.begin(); i != v.end(); ++i)</span></span><br><span class="line">    <span class="comment">//     cout &lt;&lt; i-&gt;name &lt;&lt; " " &lt;&lt; i-&gt;sex &lt;&lt; " " &lt;&lt; i-&gt;subject &lt;&lt; " " &lt;&lt; i-&gt;grade &lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;rc&gt;::iterator boy = v.begin();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;rc&gt;::iterator girl = v.end()<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">bool</span> absent = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(girl-&gt;sex == <span class="string">"F"</span>)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; girl-&gt;name &lt;&lt; <span class="string">" "</span> &lt;&lt; girl-&gt;subject &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Absent"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        absent = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(boy-&gt;sex == <span class="string">"M"</span>)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; boy-&gt;name &lt;&lt; <span class="string">" "</span> &lt;&lt; boy-&gt;subject &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Absent"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        absent = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!absent)&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; girl-&gt;grade - boy-&gt;grade &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"NA"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1041-be-unique"><a class="markdownIt-Anchor" href="#1041-be-unique"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805444361437184" target="_blank" rel="noopener"> 1041 Be Unique</a></h3><blockquote><p>æ¨¡æ‹Ÿé¢˜ï¼Œéš¾ç‚¹åœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªã€‚æ­¤å¤„çš„<code>table</code>ä¸ºintå‹æ•°ç»„çš„å“ˆå¸Œè¡¨â€“&gt;å¯ä»¥ä½¿ç”¨STLä¸­çš„mapä»£æ›¿</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> table[MAXN];</span><br><span class="line"><span class="keyword">int</span> a[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="comment">// a[i]æ¥è®°å½•ä¸åŒæ•°å­—å‡ºç°çš„é¡ºåº</span></span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">        <span class="comment">// tableè®°å½•å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">        table[a[i]] ++ ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="comment">// æŒ‰ç…§å‡ºç°çš„é¡ºåºéå†, æŸ¥çœ‹æ˜¯å¦æœ‰æ•°å‡ºç°çš„æ¬¡æ•°ä¸º1</span></span><br><span class="line">        <span class="keyword">if</span> ( table[a[i]] == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ‰¾åˆ°å‡ºç°æ¬¡æ•°ä¸º1çš„å°±è¾“å‡º</span></span><br><span class="line">            ans = a[i];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ans == <span class="number">-1</span>) <span class="built_in">cout</span> &lt;&lt;<span class="string">"None"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt;ans &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1050-string-subtraction"><a class="markdownIt-Anchor" href="#1050-string-subtraction"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805429018673152" target="_blank" rel="noopener">1050 String Subtraction</a></h3><blockquote><p>é¢˜æ„:å°†S1ä¸­å‡ºç°çš„S2å­—ç¬¦å…¨éƒ¨åˆ é™¤ã€‚</p><p>è§£é¢˜ï¼šåˆ ä¸€ä¸ªæ”¹ä¸€ä¸ªï¼Œä½†æ˜¯è€ƒè™‘åˆ°å­—ç¬¦ä¸²å¯ä»¥ç†è§£ä¸ºæ•°ç»„ï¼Œæ‰€ä»¥ä¿®æ”¹å¿…ç„¶è¦ç‰µæ‰¯åˆ°ç§»ä½ã€‚æ­¤æ—¶æœ‰ä¸ªç»†èŠ‚ï¼Œåˆ°åº•æ˜¯ä»å¤´å¾€åéå†è¿˜æ˜¯ä»åå¾€å‰éå†ã€‚ä»å‰å¾€åä¿®æ”¹å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼Œ<strong>å¦‚æœæ˜¯åˆ¤æ–­ç›¸ç­‰åç«‹é©¬ä¿®æ”¹,åˆ™åé¢çš„ç´¢å¼•å€¼ä¼šé”™ä½(å› ä¸ºåˆ é™¤ååé¢çš„å­—ç¬¦ä¸²å¾€å‰è°ƒæ•´,è€ŒæŒ‡é’ˆå´+1,æ‰€ä»¥ä¼šç•¥è¿‡ä¸€ä¸ªå­—ç¬¦)</strong></p><p>çªç„¶å‘ç°è¿™ä¸ªç§»ä½çš„åŠŸèƒ½ä¸éœ€è¦è‡ªå·±å†™ï¼Œstringæœ‰æä¾›eraseå‡½æ•°ï¼ï¼š<a href="http://c.biancheng.net/view/1449.html" target="_blank" rel="noopener">C++ stringå­—ç¬¦ä¸²ä¿®æ”¹å’Œæ›¿æ¢æ–¹æ³•è¯¦è§£</a></p><p>ï¼ˆ1ï¼‰erase(pos,n); åˆ é™¤ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚erase(0,1)å°±æ˜¯åˆ é™¤ç¬¬ä¸€ä¸ªå­—ç¬¦<br>ï¼ˆ2ï¼‰erase(position);åˆ é™¤positionå¤„çš„ä¸€ä¸ªå­—ç¬¦(positionæ˜¯ä¸ªstringç±»å‹çš„<strong>è¿­ä»£å™¨</strong>),å¦‚æœæ˜¯æ•°å­—ä¼šæˆªæ–­ç´¢å¼•å€¼ä¸ºpositionåå­—ç¬¦ä¸²<br>ï¼ˆ3ï¼‰erase(first,last);åˆ é™¤ä»firståˆ°lastä¹‹é—´çš„å­—ç¬¦ï¼ˆfirstå’Œlastéƒ½æ˜¯è¿­ä»£å™¨ï¼‰</p><p>â–³å› æ­¤ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ä»åå¾€å‰ç”¨eraseå‡½æ•°è¿›è¡Œåˆ é™¤ï¼›è¯»å–è¡Œå†…å®¹ä½¿ç”¨getline</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> origin;</span><br><span class="line">    <span class="built_in">string</span> out;</span><br><span class="line">    getline(<span class="built_in">cin</span>, origin);</span><br><span class="line">    getline(<span class="built_in">cin</span>, out);</span><br><span class="line">    <span class="keyword">int</span> Lorigin = origin.size();</span><br><span class="line">    <span class="keyword">int</span> Lout = out.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = Lorigin<span class="number">-1</span>; j &gt;= <span class="number">0</span>; --j)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Lout; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(origin[j] == out[i])&#123;</span><br><span class="line">                origin.erase(j,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; origin &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1056-mice-and-rice"><a class="markdownIt-Anchor" href="#1056-mice-and-rice"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805419468242944" target="_blank" rel="noopener">1056 Mice and Rice</a></h3><blockquote><p>é¢˜ç›®æœ‰ç‚¹é•¿ï¼Œçœ‹äº†é¢˜è§£çš„è§£é‡Šæ‰æ‡‚ã€‚åœ¨æ­¤å¤è¿°ä¸€éï¼šç»™ä½ NPä¸ªè€é¼ ä»¥åŠä»–ä»¬çš„é‡é‡Wï¼Œæ¯NGä¸ªè€é¼ åˆ†ä¸ºä¸€ç»„ï¼Œä¸å¤ŸNGä¸ªæ•°çš„å•ç‹¬ç®—ä¸€ä¸ªç»„ï¼Œæ¯”è¾ƒä»–ä»¬æ¯ä¸ªç»„çš„æœ€å¤§å€¼ï¼Œå°†<strong>æœ€å¤§å€¼</strong>è¿›å…¥ä¸‹ä¸€è½®çš„æ¯”è¾ƒï¼ŒåŒç»„å…¶ä½™è€é¼ çš†ä¸ºæ·˜æ±°ï¼Œå¹¶ä¸å…¶ä»–ç»„åŒæ—¶è¢«æ·˜æ±°çš„è€é¼ æ’åä¸€è‡´ï¼Œæœ€åæ±‚æ‰€æœ‰è€é¼ çš„<strong>æ’å</strong>ã€‚</p><p>è¾“å…¥è§£é‡Šï¼šç¬¬ä¸€è¡Œåˆ†åˆ«ä¸ºNPå’ŒNGï¼Œç¬¬äºŒè¡Œæ˜¯æ¯ä¸ªè€é¼ çš„ä½“é‡ï¼Œç¬¬ä¸‰è¡Œæ˜¯æ¯ä¸ªè€é¼ çš„ç¼–å·ã€‚ç¬¬ä¸‰è¡Œçš„éœ€è¦ç‰¹è¡¨è¯´æ˜ï¼Œå¦‚è¾“å…¥æ ·ä¾‹ï¼š6 0 8 7 10 5 9 1 4 2 3ï¼Œ æ„æ€æ˜¯æ ‡å·6ã€0ã€8ä¸ºä¸€ç»„ï¼Œ7ã€10ã€5ä¸ºä¸€ç»„ï¼Œä¸€æ¬¡å¾€åï¼Œå³è¿™è¡Œè¯´æ˜çš„æ˜¯åˆ†ç»„é¡ºåº</p><p><strong>è§£é¢˜æ€è·¯ï¼š</strong> è¿™é“é¢˜çš„éš¾ç‚¹åœ¨äºå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæ¯”è¾ƒå¹¶è¿›è¡Œæ’åï¼Œå…¶ä¸­ï¼Œ<strong>è€é¼ çš„æ’å==è¯¥è½®æ¯”èµ›åˆ†ç»„ä¸ªæ•°+1</strong>â€”â€”æœ¬è½®æ¯”è¾ƒåˆ†groupä¸ªç»„ï¼Œæ„å‘³ç€æœ‰groupä¸ªä¼˜èƒœè€…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä½™æ‰€æœ‰è¢«æ·˜æ±°çš„éƒ½åœ¨è¿™groupä¹‹åï¼Œå³group+1.æ‰€ä»¥æˆ‘ä»¬ç›´æ¥æ¯è½®çš„åˆ†ç»„æ•°å³å¯ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10e3</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mice</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> weight;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">int</span> init;</span><br><span class="line">    <span class="keyword">int</span> rank;</span><br><span class="line">&#125;<span class="keyword">typedef</span> mice;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> NP, NG;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; NP &gt;&gt; NG;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;mice&gt; v(NP);    </span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;   <span class="comment">// å­˜å‚¨ä¸‹æ ‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NP; ++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; v.at(i).weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NP; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; tmp;</span><br><span class="line">        q.push(tmp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">int</span> turnP;</span><br><span class="line">   <span class="keyword">while</span>(q.size() &gt; <span class="number">1</span>)&#123;</span><br><span class="line">       <span class="keyword">int</span> turnP = q.size();    <span class="comment">// è®°å½•æ¯è½®çš„æ‰€æœ‰äººæ•°ï¼Œq.size()ä¸ºæ€»äººæ•°ï¼Œ+1æ˜¯ç»“æŸå€¼</span></span><br><span class="line">       <span class="keyword">int</span> turnG = (turnP%NG==<span class="number">0</span>) ? turnP/NG : turnP/NG + <span class="number">1</span>; <span class="comment">// è¯¥è½®åˆ†ç»„ä¸ªæ•°</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; turnG; ++j)&#123;      <span class="comment">// å¾ªç¯ç»“æŸä¸ºä¸€è½®</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cmp;                <span class="comment">// æ‰¾å‡ºè¯¥groupä¸­çš„æœ€å¤§æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NG; ++i)&#123;       <span class="comment">// å°†å…ƒç´ åŠ å…¥cmpä¸­</span></span><br><span class="line">            <span class="comment">// j:0-3, NG=3, i=0-2</span></span><br><span class="line">            <span class="keyword">if</span>( j * NG + i == turnP) <span class="keyword">break</span>;   <span class="comment">// å½“è¶…å‡ºå«æœ‰æ•°é‡æ—¶ç»“æŸ</span></span><br><span class="line">            <span class="comment">// æ ·ä¾‹è¾“å…¥NP=11ï¼Œ0-10,åˆ°11æ—¶æ— æ•ˆ</span></span><br><span class="line">            cmp.push_back(q.front());</span><br><span class="line">            q.pop();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">          <span class="comment">/**</span></span><br><span class="line"><span class="comment">          è°ƒè¯•éƒ¨åˆ†</span></span><br><span class="line"><span class="comment">          */</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">" cmp.size():"</span>&lt;&lt; cmp.size()&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cmp.size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; cmp[i] &lt;&lt; <span class="string">"\t"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> maxV = v.at(cmp[<span class="number">0</span>]).weight;      <span class="comment">// å½“å‰ç»„ä¸­çš„ä½“é‡æœ€å¤§å€¼</span></span><br><span class="line">        <span class="keyword">int</span> maxI = <span class="number">0</span>;                        <span class="comment">// å½“å‰ç»„ä¸­æœ€å¤§å€¼çš„ç´¢å¼•</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆå§‹æœ€å¤§å€¼:"</span> &lt;&lt; maxV &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cmp.size(); ++i)&#123;<span class="comment">// å¦‚æœæ­£å¥½èƒ½å…¨éƒ¨åˆ†å®Œ</span></span><br><span class="line">             <span class="keyword">int</span> w = v.at(cmp[i]).weight;</span><br><span class="line">             <span class="keyword">if</span> ( w &gt; maxV)&#123;</span><br><span class="line">                maxV = w;</span><br><span class="line">                maxI = i;</span><br><span class="line">            &#125;</span><br><span class="line">             <span class="comment">// &#125;else&#123; // è¢«æ·˜æ±°çš„,æ’åä¸ºè¯¥è½®åˆ†ç»„æ•°+1</span></span><br><span class="line">             <span class="comment">//    v.at(cmp[i]).rank = turnG + 1;</span></span><br><span class="line">             <span class="comment">// &#125;</span></span><br><span class="line">                v.at(cmp[i]).rank = turnG + <span class="number">1</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"æ›´æ–°rankï¼š"</span> &lt;&lt; cmp[i] &lt;&lt; <span class="string">"ä¸º"</span> &lt;&lt; turnG + <span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line">          <span class="built_in">cout</span> &lt;&lt; <span class="string">"æœ€å¤§å€¼ï¼š"</span> &lt;&lt; maxV &lt;&lt; <span class="string">"ç´¢å¼•å€¼"</span> &lt;&lt; cmp[maxI] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">          <span class="comment">// å°†èƒœå‡ºçš„é‡æ–°åŠ å¦‚</span></span><br><span class="line">          q.push(cmp[maxI]);</span><br><span class="line">          <span class="built_in">cout</span> &lt;&lt; <span class="string">"æœ¬gourpåŠ å…¥"</span> &lt;&lt; cmp[maxI] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">          <span class="built_in">cout</span> &lt;&lt; <span class="string">"q.size()"</span> &lt;&lt; q.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        cmp.clear();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;<span class="comment">// end while when q.size == 1</span></span><br><span class="line">   <span class="keyword">int</span> campionIndex = q.front();</span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="string">"campionIndex"</span> &lt;&lt; campionIndex &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">   v[campionIndex].rank = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="string">"ç»“æœï¼š"</span> ; </span><br><span class="line">   <span class="comment">// æŒ‰æ ¼å¼è¾“å‡ºç»“æœ</span></span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; v[<span class="number">0</span>].rank;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; NP; ++i) <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; v[i].rank;</span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–²çœŸçš„æŒºéš¾çš„ä¸€é¢˜ï¼Œé¦–å…ˆæ˜¯é¢˜ç›®æ¯”è¾ƒéš¾ç†è§£ï¼Œå…¶æ¬¡éœ€è¦æ‰¾åˆ°å¦‚æœç¡®å®šæ¯ä¸ªplayerçš„æ’åè§„å¾‹ï¼Œæœ€åå†æ˜¯æ¯è½®ä¸­å¤„ç†ä¸æ»¡ä¸€ç»„çš„æƒ…å†µã€‚</p><p><img src="/2019/10/24/PATå†²å†²å†²â€”â€”ç”²çº§/1056.jpg" alt="1056"></p><h3 id="1062-talent-and-virtue"><a class="markdownIt-Anchor" href="#1062-talent-and-virtue"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805410555346944" target="_blank" rel="noopener">1062 Talent and Virtue</a></h3><blockquote><p>é¢˜æ„ç†è§£: å°†è¾“å…¥çš„äººåˆ†ä¸ºä¸‰ç±»ï¼Œåœ£äººsageï¼Œå›å­noblemanï¼Œæ„šäººfoolmanå’Œå°äººsmall manã€‚è¾“å‡ºä»–ä»¬çš„æ’åï¼Œè§„åˆ™å¦‚ä¸‹ï¼Œåˆ—å‡ºNè¡Œæ•°æ®ï¼ŒLæœ€ä½çº¿ï¼ŒHæœ€é«˜é™ã€‚sageä¸ºvirtueå“å¾·å’Œtalentæ‰èƒ½åˆ†æ•°éƒ½é«˜äºHï¼Œä»–ä»¬ä¹‹é—´çš„æ’åé€šè¿‡ä¸¤è€…æ€»åˆ†æ¥åŒºåˆ†ï¼›noblemanä¸ºtalentæ‰èƒ½ä½äºHï¼Œä½†æ˜¯virtueé«˜äºHçš„ï¼ŒåŒæ ·ä¹Ÿé€šè¿‡æ€»åˆ†æ¥åŒºåˆ†ï¼Œä½†æ˜¯ä»–ä»¬æ’åœ¨sageä¹‹åï¼›å¦‚æœä¸¤é¡¹å¾—åˆ†éƒ½ä½äºHï¼Œå¹¶ä¸”virtueä¸ä½äºtalentçš„ä¸ºfoolmanï¼Œä»–ä»¬æ’åœ¨noblemanä¹‹åï¼›å‰©ä¸‹è¿‡äº†Lçº¿çš„äººéƒ½æ’åœ¨foolmanä¹‹åã€‚ï¼ˆå¿…é¡»ä¸¤ä¸ªåˆ†æ•°éƒ½é«˜äºLæ‰èƒ½è¢«æ˜¾ç¤ºï¼‰</p></blockquote><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805389634158592" target="_blank" rel="noopener"> 1078 Hashing</a></p><blockquote><p>Hashé¢˜ï¼Œä¸€å¼€å§‹å®¡é¢˜é”™è¯¯ï¼Œæ˜¯å¹³æ–¹æ¢æµ‹æ³•ã€‚</p><p>ä¸ç®—éš¾ï¼Œè½¬åŒ–å¤§å°å¾ˆç®€å•ï¼Œä¸»è¦åœ¨è¿™ä¸ªå¹³æ–¹æ¢æµ‹ä¸Šé¢ã€‚ <strong>æ˜¯(key + step * step) % size è€Œä¸æ˜¯(key % size + step * step)</strong>ï¼Œ çŸ¥é“äº†è¿™ä¸ªï¼Œå°±æ¯”è¾ƒå¥½åŠäº†ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10e6</span>;</span><br><span class="line"><span class="keyword">int</span> M, N;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; in;    <span class="comment">// è®°å½•è¾“å…¥, æŸ¥è¯¢ç›¸åº”ä½ç½®æ˜¯å¦æœ‰æ•°</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;     <span class="comment">// ç”¨æ¥è®°å½•ç›¸åº”æ•°çš„ç´¢å¼•ä½ç½®, è¾“å‡ºå€¼: v[0]å°±æ˜¯ç¬¬ä¸€ä¸ªæ•°çš„hashå€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isprime</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ( n== <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> ( n == <span class="number">2</span> || n == <span class="number">3</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> ( (n%<span class="number">6</span>!= <span class="number">1</span>) &amp;&amp; (n%<span class="number">6</span>!= <span class="number">5</span>)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">int</span> tmp = <span class="built_in">sqrt</span>(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">5</span>; i &lt;= tmp; i+=<span class="number">6</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> ( n % i ==<span class="number">0</span> || n%(i+<span class="number">2</span>) == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; M &gt;&gt; N;</span><br><span class="line">    <span class="keyword">while</span>(!isprime(M)) M++;<span class="comment">// â–²å°†æ•°æ‰©å¤§åˆ°æœ€å°è´¨æ•°</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; "æœ€å°çš„è´¨æ•°ä¸º:" &lt;&lt; M &lt;&lt; endl;</span></span><br><span class="line">    v.resize(N);</span><br><span class="line">    in.resize(M);   <span class="comment">// è¿™å¥å¾ˆé‡è¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; tmp;</span><br><span class="line">        <span class="keyword">bool</span> yes = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j)&#123;</span><br><span class="line">            <span class="keyword">int</span> index = (tmp+j*j)%M;</span><br><span class="line">            <span class="keyword">if</span> ( in[index] == <span class="number">0</span>)&#123;</span><br><span class="line">                v[i] = index;</span><br><span class="line">                in[index] = tmp;</span><br><span class="line">                yes = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;        </span><br><span class="line">        <span class="keyword">if</span> (!yes) v[i] = <span class="number">-1</span>;</span><br><span class="line">        <span class="comment">/** ä¸ºäºŒæ¬¡å†æ•£åˆ—æ³•*/</span></span><br><span class="line">        <span class="comment">// if(in[index] == 0)&#123; // å¦‚æœæ²¡æœ‰å†²çª, åˆ™å®‰æ”¾</span></span><br><span class="line">        <span class="comment">//     v[i] = index;</span></span><br><span class="line">        <span class="comment">//     in[index] = tmp;</span></span><br><span class="line">        <span class="comment">//     // cout &lt;&lt; "yes" &lt;&lt;endl;</span></span><br><span class="line">        <span class="comment">// &#125;else&#123;</span></span><br><span class="line">        <span class="comment">//     // cout &lt;&lt; "no" &lt;&lt;endl;</span></span><br><span class="line">        <span class="comment">//     // äºŒæ¬¡</span></span><br><span class="line">        <span class="comment">//     int new_index = index%M;</span></span><br><span class="line">        <span class="comment">//     if (in[new_index] ==0)&#123;</span></span><br><span class="line">        <span class="comment">//         v[i] = new_index;</span></span><br><span class="line">        <span class="comment">//         in[new_index] = tmp;</span></span><br><span class="line">        <span class="comment">//     &#125;else&#123;</span></span><br><span class="line">        <span class="comment">//         v[i] = -1;</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡ºå¤„ç†</span></span><br><span class="line">    <span class="keyword">if</span>(v[<span class="number">0</span>] == <span class="number">-1</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">"-"</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; v[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i] == <span class="number">-1</span>) <span class="built_in">cout</span> &lt;&lt; <span class="string">" -"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; v[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1076-forwards-on-weibo"><a class="markdownIt-Anchor" href="#1076-forwards-on-weibo"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805392092020736" target="_blank" rel="noopener">1076 Forwards on Weibo</a></h3><blockquote><p>ä¸€é“å›¾çš„åŸºç¡€éå†é¢˜ã€‚è‹±æ–‡é¢˜ç›®æœ‰ç‚¹éš¾æ‡‚ã€‚æ„æ€æ˜¯Nä¸ªç‚¹ï¼ŒLå±‚æ·±åº¦æœ€å¤šèƒ½éå†åˆ°å‡ ä¸ªç‚¹ã€‚ç”±äºæœ‰å…³æ³¨å’Œè¢«å…³æ³¨çš„å…³ç³»ï¼Œæ‰€ä»¥æ˜¯æœ‰å‘å›¾ã€‚æ¥ä¸‹æ¥æœ‰Nè¡Œï¼Œåˆ†åˆ«è¡¨ç¤ºç”¨æˆ·iæœ‰M[i]ä¸ªå…³æ³¨ï¼Œå› æ­¤M[i]ä¸ªuser[j]è½¬å‘çš„æ–‡ç« å¯ä»¥è¢«ç”¨æˆ·iå†æ¬¡è½¬å‘ã€‚æœ€åä¸€è¡Œæ˜¯å›ç­”Kä¸ªé—®é¢˜ï¼Œåˆ†åˆ«æ˜¯K[i]å‘æ–‡ç« åœ¨Lçš„é™åˆ¶å†…æœ€å¤šè¢«å‡ ä¸ªäººè½¬å‘</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10e4</span> + <span class="number">5</span>; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> id;         <span class="comment">// å½“å‰èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class="line">    <span class="keyword">int</span> layer;      <span class="comment">// å½“å‰çš„å±‚æ•°</span></span><br><span class="line">&#125;<span class="keyword">typedef</span> Node;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Node&gt; G[MAXN];</span><br><span class="line"><span class="keyword">bool</span> visited[MAXN] = &#123;<span class="literal">false</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [BFS description]</span></span><br><span class="line"><span class="comment"> * @author mrli 2020-02-21</span></span><br><span class="line"><span class="comment"> * @param  s [èµ·ç‚¹]</span></span><br><span class="line"><span class="comment"> * @param  L [æœ€å¤§æ·±åº¦]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> L)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;Node&gt; q;</span><br><span class="line"></span><br><span class="line">    Node tmp;</span><br><span class="line">    tmp.id = s;</span><br><span class="line">    tmp.layer = <span class="number">0</span>;</span><br><span class="line">    q.push(tmp);        <span class="comment">// å°†èµ·ç‚¹å‹å…¥é˜Ÿåˆ—</span></span><br><span class="line">    visited[s] = <span class="literal">true</span>;  <span class="comment">// è®°å¾—å¯¹èµ·ç‚¹åšè®¾ç½®</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">        tmp = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = tmp.id;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; G[u].size(); ++v)&#123;  <span class="comment">// BFSå±‚æ¬¡éå†è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰ç»“ç‚¹</span></span><br><span class="line">            Node next = G[u][v];</span><br><span class="line">            next.layer = tmp.layer + <span class="number">1</span>;<span class="comment">// ç”¨BFSçš„å½¢å¼æ¥ç»´æŠ¤æ·±åº¦</span></span><br><span class="line">            <span class="keyword">if</span>( visited[next.id] == <span class="literal">false</span> &amp;&amp; next.layer &lt;= L )&#123;   <span class="comment">// å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¢«è®¿é—®, ä¸”åœ¨Læ·±åº¦å†…, åˆ™ç­”æ¡ˆ++</span></span><br><span class="line">                q.push(next);    </span><br><span class="line">                visited[next.id] = <span class="literal">true</span>;<span class="comment">// â–³å¯¹è®¿é—®è¿‡çš„è®¾ç½®ä¸èƒ½å¿˜è®°</span></span><br><span class="line">                ans ++ ;</span><br><span class="line">                <span class="comment">// cout &lt;&lt; "next.id: " &lt;&lt; next.id &lt;&lt;'\t';</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N, L;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; L;</span><br><span class="line">    Node user;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i)&#123;    <span class="comment">// ç¼–å·ä»1å¼€å§‹-&gt;æ ¹æ®é¢˜ç›®Ké—®é¢˜çš„å½¢å¼ç¡®å®š </span></span><br><span class="line">        user.id = i;</span><br><span class="line">        <span class="keyword">int</span> follownum;  <span class="comment">// è·Ÿéšjçš„ç”¨æˆ·äººæ•°</span></span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; follownum;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; follownum; ++j)&#123;</span><br><span class="line">            <span class="keyword">int</span> follow;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; follow;</span><br><span class="line">            G[follow].push_back(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// answer to the question</span></span><br><span class="line">    <span class="keyword">int</span> numQuery, s;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; numQuery;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numQuery; ++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">        <span class="built_in">memset</span>(visited, <span class="literal">false</span>, <span class="keyword">sizeof</span>(visited));</span><br><span class="line">        <span class="keyword">int</span> ans = BFS(s, L);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1081-rational-sum"><a class="markdownIt-Anchor" href="#1081-rational-sum"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805386161274880" target="_blank" rel="noopener">1081  Rational Sum</a></h3><blockquote><p>åˆ†æ•°è®¡ç®—çš„åŠ å¼ºç‰ˆï¼Œå¤šä¸ªåˆ†æ•°ç›¸åŠ ã€‚æˆ‘é‡‡ç”¨äº†ä¸€æ¬¡æ€§è®¡ç®—ï¼Œå…¶å®å¯ä»¥ç›´æ¥ç”¨ä¹™çº§çš„åšæ³•ï¼Œä¸¤ä¸ªä¸¤ä¸ªä¾æ¬¡è®¡ç®—ã€‚</p><p>â–²ç‰›å®¢ç½‘å’ŒPTAçš„æ ·ä¾‹ç‚¹çœŸçš„ä¸ä¸€æ ·ï¼ŒPTAä¸Šæˆ‘æœ‰ä¸€ä¸ªç‚¹è¿‡ä¸äº†ï¼Œä½†ç‰›å®¢çš„éƒ½èƒ½è¿‡</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Fenshu</span>&#123;</span></span><br><span class="line">    ll fenmu;</span><br><span class="line">    ll fenzi;</span><br><span class="line">&#125;<span class="keyword">typedef</span> Fenshu;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾åˆ°åˆ†å­å’Œåˆ†æ¯çš„æœ€å¤§å…¬å› æ•°</span></span><br><span class="line"><span class="function">ll <span class="title">biggestNum</span><span class="params">(ll a, ll b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b==<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> biggestNum(b,a%b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾åˆ°åˆ†å­å’Œåˆ†æ¯çš„æœ€å°å…¬å€æ•°</span></span><br><span class="line"><span class="function">ll <span class="title">smallestNum</span><span class="params">(ll a,ll b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a*b/biggestNum(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Fenshu&gt; v;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) != EOF)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            Fenshu *fs = <span class="keyword">new</span> Fenshu();</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld/%lld"</span>,&amp;fs-&gt;fenzi,&amp;fs-&gt;fenmu);</span><br><span class="line">            v.emplace_back(*fs);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°æ‰€æœ‰åˆ†æ¯çš„æœ€å°å…¬å€æ•°</span></span><br><span class="line">        ll mul = v.begin()-&gt;fenmu;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Fenshu&gt;::iterator i = v.begin(); i != v.end(); ++i)&#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Fenshu&gt;::iterator nx = <span class="built_in">std</span>::next(i,<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (nx != v.end())&#123;</span><br><span class="line">                mul = smallestNum(mul, nx-&gt;fenmu);</span><br><span class="line">                <span class="comment">// printf("i-&gt;fenmu:%lld, nx-&gt;fenmu:%lld, tmp_mul:%lld\n", i-&gt;fenmu, nx-&gt;fenmu, tmp_mul);</span></span><br><span class="line"><span class="comment">// é”™è¯¯å°è¯•å†™æ³•ï¼šæ€è·¯é”™äº†:å˜æˆäº†æ‰¾åˆ°ä¸¤ä¸ªåˆ†æ¯æœ€å°å…¬å€æ•°ä¸­æœ€å¤§çš„</span></span><br><span class="line">                <span class="comment">// if (mul &lt; tmp_mul) &#123;</span></span><br><span class="line">                    <span class="comment">// printf("tmp_biggest:%lld\n", tmp_biggest);</span></span><br><span class="line">                    <span class="comment">// mul = tmp_mul;</span></span><br><span class="line">                <span class="comment">// &#125;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç›¸åŠ å†çº¦åˆ†</span></span><br><span class="line">        ll sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Fenshu&gt;::iterator i = v.begin(); i != v.end(); ++i)&#123;</span><br><span class="line">            <span class="comment">// printf("%lld,%lld\n",i-&gt;fenzi, i-&gt;fenmu );</span></span><br><span class="line">            sum +=  i-&gt;fenzi*mul/(i-&gt;fenmu);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (sum == <span class="number">0</span>)&#123;  <span class="comment">// é‡‡å‘1:é™¤0é—®é¢˜</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"0\n"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// ç”±äºè¯»å–çš„è®¾å®š,æ‰€ä»¥å…¶å®åªæœ‰åˆ†å­ä¼šæ˜¯è´Ÿæ•°, yueä¹Ÿå¯èƒ½æ˜¯è´Ÿæ•°</span></span><br><span class="line">            ll yue = <span class="built_in">abs</span>(biggestNum(sum, mul));</span><br><span class="line">            ll res_fenzi = sum/yue;</span><br><span class="line">            ll res_fenmu = mul/yue;</span><br><span class="line">            <span class="comment">// printf("sum:%lld\n", sum);</span></span><br><span class="line">            <span class="comment">// printf("%lld,%lld/%lld\n", yue, res_fenzi, res_fenmu);</span></span><br><span class="line">            <span class="comment">// printf("biggest:%lld\n", mul);</span></span><br><span class="line">            <span class="comment">// éœ€è¦åŒ–æˆçœŸåˆ†æ•°--&gt;é‡‡å‘2:åˆ†å­å’Œä¸ºè´Ÿæ•°</span></span><br><span class="line">            <span class="keyword">if</span> ( <span class="built_in">abs</span>(res_fenzi) &gt; res_fenmu) &#123;</span><br><span class="line">                <span class="keyword">if</span> (res_fenzi%res_fenmu == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, res_fenzi/res_fenmu);</span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%lld %lld/%lld\n"</span>, res_fenzi/res_fenmu, res_fenzi%res_fenmu, res_fenmu);</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld/%lld\n"</span>, res_fenzi, res_fenmu);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        v.clear();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â–²åˆ¤æ–­è¿­ä»£å™¨æ˜¯å¦ä¸ºç©º:å°±æ˜¯æ‹¿è¿”å›çš„è¿­ä»£å™¨ä¸.end()ä½œæ¯”è¾ƒã€‚</p><p>è¸©å‘è®°å½•ï¼š</p><ul><li>è´Ÿæ•°æ±‚ä½™ä»æ˜¯è´Ÿæ•°,0æ±‚ä½™ä»»ä½•æ•°ä¸º0</li><li>åˆ†å­ä¸ºè´Ÿæ•°ã€0ã€æ­£æ•°çš„æ—¶å€™éƒ½å¾—åˆ†åˆ«è€ƒè™‘</li><li>æ‰¾åˆ°æ‰€æœ‰åˆ†æ¯çš„æœ€å°å…¬å€æ•°==&gt;å†™æˆäº†æ‰¾åˆ°ä¸¤ä¸ªåˆ†æ¯æœ€å°å…¬å€æ•°ä¸­æœ€å¤§çš„</li></ul><p><strong>æµ®ç‚¹é”™è¯¯çš„æ„æ€-PAT ã€OJ</strong></p><ul><li>æ˜¯å¦å¯èƒ½å‡ºç°äº†ä¸€ä¸ªæ•°é™¤ä»¥0çš„æƒ…å†µ</li><li>æ˜¯å¦å¯èƒ½å‡ºç°äº†ä¸€ä¸ªæ•°å–ä½™0çš„æƒ…å†µ</li><li>æ˜¯å¦å‘ç”Ÿäº†æ•°æ®æº¢å‡ºè€Œå¯¼è‡´çš„é™¤ä»¥0æˆ–è€…å–ä½™0çš„æƒ…å†µ</li></ul><h3 id="1083-list-grades-25"><a class="markdownIt-Anchor" href="#1083-list-grades-25"></a> <a href="https://www.nowcoder.com/pat/1/problem/4313" target="_blank" rel="noopener">1083 List Grades (25)</a></h3><blockquote><p>æ¨¡æ‹Ÿé¢˜</p><p>è€ƒäº†è¾“å…¥è¾“å‡º+æ’åºï¼š åˆ‡å‰²æ•°æ®ã€æ“ä½œç¬¦é‡è½½</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> N</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 1000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> id;</span><br><span class="line">    <span class="keyword">int</span>  grade;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ“ä½œç¬¦é‡è½½</span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> Record &amp;that) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> grade &gt; that.grade;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">typedef</span> Record;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">string</span> row;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Record&gt; v;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="comment">// è·å¾—è¡Œä¿¡æ¯</span></span><br><span class="line">        getline(<span class="built_in">cin</span>, row);</span><br><span class="line">        <span class="function"><span class="built_in">stringstream</span> <span class="title">ss</span><span class="params">(row)</span></span>;</span><br><span class="line"><span class="comment">// åˆ†å‰²å‡ºname</span></span><br><span class="line">        <span class="built_in">string</span> name;</span><br><span class="line">        getline(ss, name, <span class="string">' '</span>);</span><br><span class="line"><span class="comment">// åˆ†å‰²å‡ºid</span></span><br><span class="line">        <span class="built_in">string</span> id;</span><br><span class="line">        getline(ss, id, <span class="string">' '</span>);</span><br><span class="line"><span class="comment">// é€šè¿‡stringstreamåˆ†å‰²å‡ºgrade: int</span></span><br><span class="line">        <span class="keyword">int</span> grade;</span><br><span class="line">        ss &gt;&gt; grade;</span><br><span class="line"><span class="comment">// å­˜åˆ°vectorä¸­</span></span><br><span class="line">        Record* r = <span class="keyword">new</span> Record();</span><br><span class="line">        r-&gt;name = name;</span><br><span class="line">        r-&gt;id = id;</span><br><span class="line">        r-&gt;grade = grade;</span><br><span class="line">        v.emplace_back(*r);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// æ ¹æ®gradeè¿›è¡Œä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">    sort(v.begin(), v.end());</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">    <span class="keyword">bool</span> none = <span class="literal">true</span>; <span class="comment">// æ˜¯å¦æœ‰åœ¨åŒºé—´ä¸­äºº</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span> (v[i].grade &gt;= a &amp;&amp; v[i].grade &lt;= b)&#123;</span><br><span class="line">            none = <span class="literal">false</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; v[i].name &lt;&lt; <span class="string">" "</span> &lt;&lt; v[i].id &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„äºº</span></span><br><span class="line">    <span class="keyword">if</span> (none) <span class="built_in">cout</span> &lt;&lt; <span class="string">"NONE"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤å·©å›ºå¤ä¹ ä¸€ä¸‹&quot;æ“ä½œç¬¦é‡è½½çš„çŸ¥è¯†&quot;:</p><blockquote><p>1.ä¸ºäº†å®ç°å¯¹è‡ªå®šä¹‰ç±»å‹çš„åŠ å‡æ“ä½œã€‚</p><ol start="2"><li>å®ç°ä¸€ä¸ªæ“ä½œç¬¦é‡è½½çš„æ–¹å¼é€šå¸¸åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</li></ol><ul><li><p>å°†æ“ä½œç¬¦é‡è½½å®ç°ä¸ºç±»çš„æˆå‘˜å‡½æ•°ï¼›</p><ul><li>ä½¿ç”¨<code>O.operator#();</code></li></ul></li><li><p>æ“ä½œç¬¦é‡è½½å®ç°ä¸ºéç±»çš„æˆå‘˜å‡½æ•°ï¼ˆå³å…¨å±€å‡½æ•°ï¼‰ã€‚</p><ul><li>ä½¿ç”¨ <code>operator#(O);</code></li></ul><p>åŒºåˆ«åœ¨äºï¼Œæˆå‘˜å‡½æ•°é»˜è®¤æœ‰thisæŒ‡é’ˆï¼›åè€…éœ€è¦ä¸ºæ¯æ¬¡æ“ä½œä¼ é€’ä¸¤ä¸ªå‚æ•°</p></li></ul></blockquote><p>â–³å¤§å¤šæ•°æ“ä½œç¬¦éƒ½èƒ½é‡è½½ï¼Œä¸èƒ½çš„ä¸ºå¦‚ä¸‹å‡ ä¸ªï¼š<code>ï¼š</code>ã€<code>::</code>ã€<code>.*</code>ã€<code>?:</code>ã€<code>sizeof</code></p><p>â–²é‡è½½è¿ç®—ç¬¦å‡½æ•°å¯ä»¥å¯¹è¿ç®—ç¬¦ä½œå‡ºæ–°çš„è§£é‡Šï¼Œä½†åŸæœ‰åŸºæœ¬è¯­ä¹‰ä¸å˜ï¼š</p><blockquote><p>ä¸æ”¹å˜è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§<br>ä¸æ”¹å˜è¿ç®—ç¬¦çš„ç»“åˆæ€§<br>ä¸æ”¹å˜è¿ç®—ç¬¦æ‰€éœ€è¦çš„æ“ä½œæ•°<br>ä¸èƒ½åˆ›å»ºæ–°çš„è¿ç®—ç¬¦</p></blockquote><p>â–³ä¸€ä¸ªè¿ç®—ç¬¦è¢«é‡è½½åï¼ŒåŸæœ‰æ„ä¹‰æ²¡æœ‰å¤±å»ï¼Œåªæ˜¯å®šä¹‰äº†ç›¸å¯¹ä¸€ç‰¹å®šç±»çš„ä¸€ä¸ªæ–°è¿ç®—ç¬¦</p><p>++å‰ç¼€ã€åç¼€</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Time</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line"><span class="comment">// é‡è½½å‰ç¼€é€’å¢è¿ç®—ç¬¦ï¼ˆ ++ ï¼‰ï¼š ä¸ä¼ å‚</span></span><br><span class="line">      Time <span class="keyword">operator</span>++ ()  </span><br><span class="line">      &#123;</span><br><span class="line">         ++minutes;          <span class="comment">// å¯¹è±¡åŠ  1</span></span><br><span class="line">         <span class="keyword">if</span>(minutes &gt;= <span class="number">60</span>)  </span><br><span class="line">         &#123;</span><br><span class="line">            ++hours;</span><br><span class="line">            minutes -= <span class="number">60</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> Time(hours, minutes);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// é‡è½½åç¼€é€’å¢è¿ç®—ç¬¦ï¼ˆ ++ ï¼‰: ä¼ å‚</span></span><br><span class="line">      Time <span class="keyword">operator</span>++( <span class="keyword">int</span> )         </span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// ä¿å­˜åŸå§‹å€¼</span></span><br><span class="line">         <span class="function">Time <span class="title">T</span><span class="params">(hours, minutes)</span></span>;</span><br><span class="line">         <span class="comment">// å¯¹è±¡åŠ  1</span></span><br><span class="line">         ++minutes;                    </span><br><span class="line">         <span class="keyword">if</span>(minutes &gt;= <span class="number">60</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            ++hours;</span><br><span class="line">            minutes -= <span class="number">60</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// è¿”å›æ—§çš„åŸå§‹å€¼</span></span><br><span class="line">         <span class="keyword">return</span> T; </span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ioæ“ä½œç¬¦ï¼š</p><blockquote><p>â–²<code>&lt;&lt;</code>æ“ä½œç¬¦åªèƒ½é€šè¿‡å‹å…ƒæ¥å®ç°</p><p>Aï¼š å¦‚æœè¦é‡è½½&lt;&lt;æ“ä½œç¬¦è¾“å‡ºç»“æœï¼Œä¸€èˆ¬çš„å†™æ³•æ˜¯cout&lt;&lt;s;ä¹Ÿå³æ˜¯è¯´å·¦ä¾§ä¸æ˜¯<strong>æˆå‘˜å‡½æ•°</strong>æˆ–<strong>ç±»å¯ä»¥é€šè¿‡thisæŒ‡é’ˆè°ƒç”¨çš„é‡</strong>ï¼Œè¿™å°±é€ æˆå¿…é¡»ä½¿ç”¨ä¸¤ä¸ªå‚æ•°çš„æˆå‘˜æ“ä½œç¬¦é‡è½½ï¼ŒæŠŠç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º&lt;&lt;å·¦ä¾§å‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°åšä¸º&lt;&lt;å³ä¾§å‚æ•°è¾“å…¥ï¼Œç„¶è€Œä¼šå‘ç°å¦‚ï¼š <code>ostream&amp; operator&lt;&lt;(ostream&amp; out, MyString&amp; s);*//æŠ¥é”™ï¼Œerror:æ­¤è¿ç®—ç¬¦çš„å‚æ•°å¤ªå¤š*</code></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">xxx</span>&#123;</span></span><br><span class="line">    <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;out, <span class="keyword">const</span> Complax &amp;c1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;out, <span class="keyword">const</span> Complax &amp;c1)&#123;</span><br><span class="line">    out &lt;&lt; <span class="string">"c1.a = "</span> &lt;&lt; c1.a &lt;&lt; <span class="string">"\t c1.b = "</span> &lt;&lt; c1.b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-2"><a class="markdownIt-Anchor" href="#-2"></a> </h3><h3 id="1084-broken-keyboard"><a class="markdownIt-Anchor" href="#1084-broken-keyboard"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805382902300672" target="_blank" rel="noopener">1084 Broken Keyboard</a></h3><blockquote><p>æ€è·¯æ˜¯éå†ä¸‹é¢çš„çŸ­çš„å­—ç¬¦ä¸²ï¼Œç„¶åç”¨æŒ‡é’ˆå†éå†é•¿çš„ï¼Œç”¨indexæŒ‡é’ˆæ¥æ‰‹åŠ¨æ§åˆ¶ï¼›è¾¹éå†è¾¹è¾“å‡ºï¼Œå°±å¯ä»¥è§£å†³å…ˆåé—®é¢˜ï¼Œå¦åˆ™ç”¨setä¼šæ’åºï¼›ç”¨setè®°å½•æ˜¯å¦å·²ç»è¾“å‡ºè¿‡ï¼›</p><p>è¸©çš„å‘ç‚¹ï¼š <code>set.find() == set.end()</code>è¡¨ç¤ºä¸å­˜åœ¨ï¼Œå†™IFæ¡ä»¶çš„æ—¶å€™æƒ³åäº†ï¼Œæ£€æŸ¥äº†åŠå¤©ï¼›å¦‚æœé•¿çš„å·²ç»æŠŠçŸ­çš„æ‰€æœ‰éƒ½è·‘éåï¼Œä¹‹åè¿˜æœ‰éœ€è¦å§indexç»§ç»­è·‘å®Œslen-inlençš„é•¿åº¦</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100</span>+<span class="number">5</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">set</span>&lt;<span class="keyword">char</span>&gt; cS;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">    <span class="built_in">string</span> in;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; in;</span><br><span class="line">    <span class="keyword">int</span> slen = s.length();</span><br><span class="line">    <span class="keyword">int</span> inlen = in.length();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">0</span>;<span class="comment">// è®°å½•å½“å‰éå†åˆ°çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; inlen; ++i)&#123;</span><br><span class="line">        <span class="keyword">while</span>(  s[index] != in[i] )&#123;</span><br><span class="line">                <span class="keyword">char</span> now = <span class="built_in">toupper</span>( s[index] );</span><br><span class="line">                <span class="keyword">if</span>( cS.find(now) == cS.end())&#123;   </span><br><span class="line">                    cS.insert(now);</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; now;</span><br><span class="line">                &#125;</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(index != slen)&#123;</span><br><span class="line">            <span class="keyword">char</span> now = <span class="built_in">toupper</span>( s[index] );</span><br><span class="line">            <span class="keyword">if</span>( cS.find(now) == cS.end())&#123;   </span><br><span class="line">                cS.insert(now);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; now;</span><br><span class="line">            &#125;</span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1091-speech-patterns"><a class="markdownIt-Anchor" href="#1091-speech-patterns"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805398257647616" target="_blank" rel="noopener">1091 Speech Patterns</a></h3><blockquote><p>é¢˜ç›®ä¸éš¾ï¼Œ ä¸»è¦æ˜¯åº“å‡½æ•°çš„åº”ç”¨<code>isdigit()</code>ã€<code>isalpha</code>ä»¥åŠ<code>isalnum</code>ï¼Œè¿˜æœ‰mapçš„åº”ç”¨</p><p>å‘ç‚¹æ¯”è¾ƒå¤šï¼š 1.â€œâ€ï¼ˆå³ç©ºä¼šè¢«è®°å…¥mapè®¡ç®—ï¼‰ï¼›2.å½“å·²ç»æ˜¯æœ€åä¸€ä¸ªå­—æ¯æ—¶è¦æŠŠæœ€åä¸€ä¸ªå•è¯è®°å…¥ï¼ˆæƒ³äº†å¾ˆä¹…æ²¡è¿‡æœ€åä¸€ä¸ªæµ‹è¯•ç‚¹ï¼‰</p><p>æœ¬æ¥ä»¥ä¸ºè¦ç»Ÿè®¡çš„æ˜¯&quot;&quot;å†…çš„å†…å®¹ï¼Œç»“æœå¥½åƒä¸éœ€è¦</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1000000007</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; smap;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    getline(<span class="built_in">cin</span>, s);</span><br><span class="line">    <span class="keyword">int</span> slen = s.length();</span><br><span class="line">    <span class="built_in">string</span> nows;</span><br><span class="line">    <span class="comment">// bool start = false;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; slen; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> now = s[i];</span><br><span class="line">        <span class="comment">// if (now == '"') start = !start;</span></span><br><span class="line">        <span class="comment">// if (start)&#123;</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isalnum</span>(now))&#123;</span><br><span class="line">                nows += <span class="built_in">tolower</span>(now);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ( !<span class="built_in">isalnum</span>(now) || i == slen<span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!nows.empty())&#123;<span class="comment">// nows.size()ä¼šæ›´å¥½</span></span><br><span class="line">                    smap[nows] += <span class="number">1</span>;</span><br><span class="line">                    nows.clear();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> maxn = -MAXN;</span><br><span class="line">    <span class="built_in">string</span> ans;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;::iterator i = smap.begin(); i != smap.end(); ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span> (  i-&gt;second &gt; maxn)&#123;</span><br><span class="line">            maxn = i-&gt;second;</span><br><span class="line">            ans = i-&gt;first;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">" "</span> &lt;&lt;  maxn &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1093-count-pats"><a class="markdownIt-Anchor" href="#1093-count-pats"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805373582557184" target="_blank" rel="noopener">1093 Count PATâ€™s</a></h3><blockquote><p>å¡æ—¶é™ï¼Œæ™®é€šæ€è·¯ä¼šè¶…æ—¶ï¼Œ é¢˜è§£ç»™çš„æ€è·¯æ˜¯æ‰¾Aç„¶åè®¡ç®—å‰Pçš„ä¸ªæ•°Nï¼ŒåTçš„ä¸ªæ•°Mï¼Œç„¶åå¾—å‡ºM*Nä¸ªï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n2)</p></blockquote><p>ä¸ªäººçš„æ€è·¯(è¿‡2ä¸ªç‚¹ï¼Œè¿˜æœ‰3ä¸ªè¶…æ—¶)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1000000007</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; P;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; A;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; T;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    l = s.length();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; l; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i]==<span class="string">'P'</span>) P.push_back(i);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i]==<span class="string">'A'</span>) A.push_back(i);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i]==<span class="string">'T'</span>) T.push_back(i);</span><br><span class="line">        <span class="keyword">else</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> pl = P.size();</span><br><span class="line">    <span class="keyword">int</span> al = A.size();</span><br><span class="line">    <span class="keyword">int</span> tl = T.size();</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pl; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; al; ++j)&#123;</span><br><span class="line">            <span class="keyword">if</span> (P.at(i)&lt;A.at(j))&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; tl; ++k)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (A.at(j) &lt; T.at(k))&#123;</span><br><span class="line">                        ans = (ans+<span class="number">1</span>) %MOD;</span><br><span class="line">                        <span class="comment">// break;</span></span><br><span class="line">                    &#125;        </span><br><span class="line">                &#125;    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;ans&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1099-build-a-binary-search-tree"><a class="markdownIt-Anchor" href="#1099-build-a-binary-search-tree"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805367987355648" target="_blank" rel="noopener"> 1099  Build A Binary Search Tree</a></h3><h3 id="1113-integer-set-partition"><a class="markdownIt-Anchor" href="#1113-integer-set-partition"></a> <a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805357258326016" target="_blank" rel="noopener">1113 Integer Set Partition</a></h3><blockquote><p>å¤§æ°´é¢˜</p><p>å°†è¾“å…¥çš„æ•°åˆ†æˆä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆï¼Œåœ¨æ»¡è¶³ä¸ªæ•°å·®æœ€å°çš„æ¡ä»¶ä¸‹ï¼Œæ‰¾ä¸¤ä¸ªé›†åˆæ‰€æœ‰å…ƒç´ å’Œå·®æœ€å¤§å€¼ã€‚<br>å…¶å®æ˜¯é“æ‰¾è§„å¾‹é¢˜ï¼šå°†æ•°è¿›è¡Œä»å°åˆ°å¤§æ’åºï¼Œç„¶åä¸€åˆ†ä¸ºäºŒï¼Œæ ¹æ®å¥‡å¶æ•°çš„ä¸åŒï¼Œnä¹‹å·®ç›´æœ‰1å’Œ0ä¸¤ç§å¯èƒ½ï¼Œå·®å€¼æœ€å¤§çš„æƒ…å†µä¾¿æ˜¯å¤§æ•°-å°æ•°</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> SIZE = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> arr[SIZE];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    sort(arr, arr+n);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> s1 = <span class="number">0</span>, s2 = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">if</span>( n % <span class="number">2</span> == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (n<span class="number">-1</span>)/<span class="number">2</span>; ++i)</span><br><span class="line">            s1 += arr[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = (n<span class="number">-1</span>)/<span class="number">2</span>; i &lt; n; ++i)</span><br><span class="line">            s2 += arr[i];</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; s2 -s1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n/<span class="number">2</span>; ++i)</span><br><span class="line">            s1 += arr[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n/<span class="number">2</span>; i &lt; n; ++i)</span><br><span class="line">            s2 += arr[i];</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; s2 -s1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805352925609984" target="_blank" rel="noopener">1120 Friend Numbers</a></p><blockquote><p>æˆ‘ä½¿ç”¨çš„æ˜¯Mapï¼Œä½†setæ•ˆæœæ›´å¥½</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> SIZE = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> arr[SIZE];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; <span class="built_in">map</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tmp = arr[i];</span><br><span class="line">        <span class="keyword">while</span>(tmp&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            sum += tmp%<span class="number">10</span>;</span><br><span class="line">            tmp /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">map</span>[sum] ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">map</span>.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator i = <span class="built_in">map</span>.begin(); i != <span class="built_in">map</span>.end(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// end()-1å¥½åƒä¸è¡Œ</span></span><br><span class="line">        <span class="comment">// std::map&lt;int, int&gt;::iterator e = map.end()-1;</span></span><br><span class="line">        <span class="comment">// if(i != e)</span></span><br><span class="line">            <span class="comment">// cout &lt;&lt; i-&gt;first &lt;&lt; ' ';</span></span><br><span class="line">        <span class="comment">// else</span></span><br><span class="line">            <span class="comment">// cout &lt;&lt; i-&gt;first &lt;&lt; endl;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ç¬¬äºŒç§å†™æ³•</span></span><br><span class="line">        <span class="comment">// std::map&lt;int, int&gt;::iterator e = map.end()-1;</span></span><br><span class="line">        <span class="comment">// if(i != map.begin())</span></span><br><span class="line">            <span class="comment">// cout &lt;&lt; ' ';</span></span><br><span class="line">        <span class="comment">// else</span></span><br><span class="line">            <span class="comment">// cout &lt;&lt; i-&gt;first &lt;&lt; endl;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç¬¬ä¸‰ç§åŠæ³•</span></span><br><span class="line">        <span class="comment">// ä½¿ç”¨flagè®°å½•</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*ç¬¬å››ç§</span></span><br><span class="line"><span class="comment">        if(it==out.begin())</span></span><br><span class="line"><span class="comment">            cout&lt;&lt;*it;</span></span><br><span class="line"><span class="comment">        else</span></span><br><span class="line"><span class="comment">            cout&lt;&lt;" "&lt;&lt;*it;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æˆ‘çš„ç¬¨åŠæ³•</span></span><br><span class="line">        v.push_back(i-&gt;first);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(i!=v.size()<span class="number">-1</span>) <span class="built_in">cout</span> &lt;&lt; v[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; v[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™„å½•"><a class="markdownIt-Anchor" href="#é™„å½•"></a> é™„å½•</h2><p><a href="https://blog.csdn.net/zxc1364787928/article/details/85757131" target="_blank" rel="noopener">åˆ·PATå¥½ç”¨åˆ°å“­çš„å‡½æ•°</a></p><p><strong>å¥½ç”¨çš„å‡½æ•°</strong></p><p>string-&gt;int</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³•ä¸€</span></span><br><span class="line"><span class="keyword">int</span> grade;</span><br><span class="line"><span class="built_in">string</span> s = <span class="string">"123"</span>;</span><br><span class="line"><span class="built_in">stringstream</span> ss;</span><br><span class="line">ss &gt;&gt; grade;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³•äºŒ</span></span><br><span class="line">stoi() <span class="comment">// åœ¨cstringä¸­</span></span><br></pre></td></tr></table></figure><p>int-&gt;string</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³•ä¸€</span></span><br><span class="line">to_string()<span class="comment">// C++11ä¹‹åæ‰æ”¯æŒ</span></span><br><span class="line"><span class="comment">// æ³•äºŒ</span></span><br><span class="line">itos()   <span class="comment">// cstringä¸­</span></span><br></pre></td></tr></table></figure><p>sortä¸­cmpå‡½æ•°ç¼–å†™</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(rc &amp;a, rc &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.grade &gt; b.grade;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(rc &amp;a, rc &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.grade &lt; b.grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœä¸ºMåˆ™æ’å‰ï¼ŒFæ’åï¼› å¦‚æœå­—ç¬¦ç›¸åŒï¼Œå°±æ¯”æˆç»©</span></span><br><span class="line"><span class="comment">// -&gt;æ’å‰çš„return true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(rc &amp;r1, rc &amp;r2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(r1.sex == <span class="string">"M"</span> &amp;&amp; r2.sex == <span class="string">"F"</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(r1.sex == <span class="string">"F"</span> &amp;&amp; r2.sex == <span class="string">"M"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> r1.grade &lt; r2.grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€èˆ¬æƒ…å†µä¸‹,å¯¹ç›¸ç­‰çš„æƒ…å†µä¸éœ€è¦ç‰¹æ®Šå¤„ç†,å› æ­¤&lt;/&gt;ä¹Ÿå¯ä»¥å¤„ç†ç›¸ç­‰çš„æƒ…å†µ,</span></span><br><span class="line"><span class="comment">// ä½†æ˜¯ä¸€æ—¦é¢˜ç›®è¦æ±‚å¤„ç†ç›¸ç­‰æƒ…å†µ, é‚£ä¹ˆå°±éœ€è¦é¢å¤–æ‹å‡ºåˆ¤æ–­, è§1025 PAT Ranking</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(rc &amp;a, rc &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.grade != b.grade)</span><br><span class="line">        <span class="keyword">return</span> a.grade&gt;b.grade;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> (a.ID&lt;b.ID);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;patå†²å†²å†²ç”²çº§&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#patå†²å†²å†²ç”²çº§&quot;&gt;&lt;/a&gt; PATå†²å†²å†²â€”â€”ç”²çº§&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://pintia.cn/problem-sets
      
    
    </summary>
    
    
      <category term="ACM" scheme="https://nymrli.top/tags/ACM/"/>
    
      <category term="C++" scheme="https://nymrli.top/tags/C/"/>
    
      <category term="Algorithm" scheme="https://nymrli.top/tags/Algorithm/"/>
    
  </entry>
  
</feed>

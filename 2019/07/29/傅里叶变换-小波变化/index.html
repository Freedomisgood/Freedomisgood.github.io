<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="author" content="Mrli"><meta name="renderer" content="webkit"><meta name="copyright" content="Mrli"><meta name="keywords" content="Mrli's Blog"><meta name="description" content="想和你讲，说了会心动 ，缄默会心安。"><meta name="Cache-Control" content="no-cache"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>傅里叶变换-&gt;小波变化 · Mr.li's Blog</title><link rel="stylesheet" href="/css/style.css?v=2018.7.9"><link rel="stylesheet" href="/css/animation.css?v=2018.7.9"><link rel="icon" href="/img/assets/favicon.ico"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><!-- scripts--><script>(function( w ){
  "use strict";
  // rel=preload support test
  if( !w.loadCSS ){
    w.loadCSS = function(){};
  }
  // define on the loadCSS obj
  var rp = loadCSS.relpreload = {};
  // rel=preload feature support test
  // runs once and returns a function for compat purposes
  rp.support = (function(){
    var ret;
    try {
      ret = w.document.createElement( "link" ).relList.supports( "preload" );
    } catch (e) {
      ret = false;
    }
    return function(){
      return ret;
    };
  })();

  // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
  // then change that media back to its intended value on load
  rp.bindMediaToggle = function( link ){
    // remember existing media attr for ultimate state, or default to 'all'
    var finalMedia = link.media || "all";

    function enableStylesheet(){
      link.media = finalMedia;
    }

    // bind load handlers to enable media
    if( link.addEventListener ){
      link.addEventListener( "load", enableStylesheet );
    } else if( link.attachEvent ){
      link.attachEvent( "onload", enableStylesheet );
    }

    // Set rel and non-applicable media type to start an async request
    // note: timeout allows this to happen async to let rendering continue in IE
    setTimeout(function(){
      link.rel = "stylesheet";
      link.media = "only x";
    });
    // also enable media after 3 seconds,
    // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
    setTimeout( enableStylesheet, 3000 );
  };

  // loop through link elements in DOM
  rp.poly = function(){
    // double check this to prevent external calls from running
    if( rp.support() ){
      return;
    }
    var links = w.document.getElementsByTagName( "link" );
    for( var i = 0; i < links.length; i++ ){
      var link = links[ i ];
      // qualify links to those with rel=preload and as=style attrs
      if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
        // prevent rerunning on link
        link.setAttribute( "data-loadcss", true );
        // bind listeners to toggle media back
        rp.bindMediaToggle( link );
      }
    }
  };

  // if unsupported, run the polyfill
  if( !rp.support() ){
    // run once at least
    rp.poly();

    // rerun poly on an interval until onload
    var run = w.setInterval( rp.poly, 500 );
    if( w.addEventListener ){
      w.addEventListener( "load", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    } else if( w.attachEvent ){
      w.attachEvent( "onload", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    }
  }


  // commonjs
  if( typeof exports !== "undefined" ){
    exports.loadCSS = loadCSS;
  }
  else {
    w.loadCSS = loadCSS;
  }
}( typeof global !== "undefined" ? global : this ) );</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script><script src="/js/main.js?v=2018.7.9" defer></script><!-- fancybox--><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script><!-- busuanzi--><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></head><body><section class="profile-close" id="cxo-profile"><div class="profile-avatar"><i class="fa fa-caret-left"></i><img src="https://avatars1.githubusercontent.com/u/31088082?s=400&amp;u=7a99ff83916afb3f4c5312bd78a1be17fe0e34ed&amp;v=4"></div><!--.profile-saying
  i.fa.fa-comment
  .saying--><div class="cxo-profile-inner"><div class="profile-name">Mrli</div><div class="profile-signature">别装作很努力,<br>因为结局不会陪你演戏。</div><div class="contacts"><div>Contacts:</div><span><a href="http://sighttp.qq.com/msgrd?v=1&amp;uin=1063052964" target="_black">QQ</a></span><span><a href="https://www.cnblogs.com/nymrli/" target="_black">博客园</a></span></div><div class="read-progress"></div></div></section><header id="cxo-intro" style="height: 60vh;background-image: url(/img/intro/index-bg.png);"><nav id="cxo-intro-nav"><section><div class="intro-nav-title"><a href="/">Mr.li's Blog</a></div><div class="intro-nav-label-box"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div><i class="fa fa-bars intro-nav-menu"><div class="intro-nav-drop"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div></i><div class="clear"></div></section></nav><h1 class="post-title">傅里叶变换-&gt;小波变化</h1><div class="post-intros"><div class="post-intro-meta"><span class="post-intro-time"><i class="post-intro-calendar fa fa-edit"></i><span>2019/07/30</span></span><span class="busuanzi-pv" id="busuanzi_container_page_pv"><i class="post-intro-calendar fa fa-user-o"></i><span id="busuanzi_value_page_pv"></span></span><span class="post-intro-tags"><a class="intro-tag fa fa-tag" href="javascript:void(0)" date-tags="信号处理"> 信号处理</a></span></div><div class="post-intro-read"><span> Word count: <span class="post-count">13,830</span> | Reading time: <span class="post-count">52</span>min</span></div></div></header><article class="cxo-up" id="cxo-content-outer"><section id="cxo-content-inner"><article class="article-entry" id="post"><h1 id="傅里叶变换-小波变化"><a class="markdownIt-Anchor" href="#傅里叶变换-小波变化"></a> 傅里叶变换-&gt;小波变化</h1>
<blockquote>
<p>声明:文中大多数内容来自(<a href="https://www.zhihu.com/people/zhi-yuan-ya-77" target="_blank" rel="noopener">知乎1335</a>)[<a href="https://www.zhihu.com/people/zhi-yuan-ya-77" target="_blank" rel="noopener">https://www.zhihu.com/people/zhi-yuan-ya-77</a>],matlab源代码:<a href="https://link.zhihu.com/?target=https%3A//github.com/1368069096/From_FT_to_WT_examples-" target="_blank" rel="noopener">1368069096/From_FT_to_WT_examples-</a>,部分为个人理解阐明</p>
</blockquote>
<h2 id="一傅里叶变换ft"><a class="markdownIt-Anchor" href="#一傅里叶变换ft"></a> 一.傅里叶变换FT</h2>
<h3 id="基础知识"><a class="markdownIt-Anchor" href="#基础知识"></a> 基础知识</h3>
<blockquote>
<p>（FOURIER TRANSFORM，简称FT）</p>
</blockquote>
<h3 id="为什么傅里叶变换可以把一个信号从时域变换到频域"><a class="markdownIt-Anchor" href="#为什么傅里叶变换可以把一个信号从时域变换到频域"></a> 为什么傅里叶变换可以把一个信号从时域变换到频域?</h3>
<p>先给出公式，傅里叶变换的形式为：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi>w</mi><mi>t</mi></mrow></msup><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">X(w)=\int_{-\infty}^{+\infty} x(t) e^{-j w t} d t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.827331em;"></span><span class="strut bottom" style="height:1.2417820000000002em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span></span></p>
<p>PS：傅里叶变换还存在系数，有的文章写的是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mn>1</mn></mrow><mrow><mn>2</mn><mi>π</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{2 \pi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.845108em;"></span><span class="strut bottom" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span> ，有的文章写的是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mfrac><mrow><mn>1</mn></mrow><mrow><mn>2</mn><mi>π</mi></mrow></mfrac></msqrt></mrow><annotation encoding="application/x-tex">\sqrt\frac{1}{2 \pi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.235064em;"></span><span class="strut bottom" style="height:1.84002em;vertical-align:-0.604956em;"></span><span class="base textstyle uncramped"><span class="sqrt mord"><span class="sqrt-sign" style="top:-0.04506399999999999em;"><span class="style-wrap reset-textstyle textstyle uncramped"><span class="delimsizing size2">√</span></span></span><span class="vlist"><span style="top:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span><span class="mord reset-textstyle textstyle cramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span><span style="top:-1.1550639999999999em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span><span class="reset-textstyle textstyle uncramped sqrt-line"></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:1em;">​</span></span>​</span></span></span></span></span></span> ，两个系数只要满足正变换系数乘上逆变换系数等于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mn>1</mn></mrow><mrow><mn>2</mn><mi>π</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{2 \pi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.845108em;"></span><span class="strut bottom" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span> 即可。这是为了保证经过一次正变换和反变换之后，得到的信号与原信号幅值相同，与我们接下来的讨论关系不大。</p>
<h3 id="1理解变换公式"><a class="markdownIt-Anchor" href="#1理解变换公式"></a> 1.理解变换公式</h3>
<p>我们知道，根据欧拉公式，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi>w</mi><mi>t</mi></mrow></msup><mo>=</mo><mi>cos</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mo>−</mo><mi>j</mi><mi>sin</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">e^{-j w t}=\cos (w t)-j \sin (w t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.824664em;"></span><span class="strut bottom" style="height:1.0746639999999998em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span>。也就是说，傅里叶变换的本质就是：将原始信号乘上一组<strong>三角函数</strong>（正余弦），之后<strong>在整个时间域上积分</strong>。就这么简单！</p>
<h4 id="ysin3t图"><a class="markdownIt-Anchor" href="#ysin3t图"></a> y=sin(3t)图</h4>
<p>我们来看一个信号：y = sin(3t)，如下图：</p>
<p><img src="https://pic2.zhimg.com/80/v2-0cd28b5014a967f161a3327a44793ba5_hd.jpg" alt="img"></p>
<p>很好的周期性质，且每个周期的积分值都是0。如果对这个函数在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span>积分，那就是基本是0，因为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span>包含了无数个周期。</p>
<p>PS：虽然这个积分在高数上不可积，但是你应该明白这里我要表达的意思：<strong>因为良好的周期性，且每个周期积分值是0，那么最后在很长的一段时间区间上积分，得到的还是一个很小的数，近似为0。</strong></p>
<p>我们来用一段较长的时间区间计算一下，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mn>0</mn></mrow><mrow><mn>5</mn><mn>0</mn></mrow></msubsup><mi>sin</mi><mo>(</mo><mn>3</mn><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi><mo>=</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>1</mn><mn>0</mn><mn>0</mn><mn>2</mn></mrow><annotation encoding="application/x-tex">\int_{0}^{50} \sin (3 t) d t=0.1002</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.870108em;"></span><span class="strut bottom" style="height:1.2262279999999999em;vertical-align:-0.35612em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">5</span><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">3</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">1</span><span class="mord mathrm">0</span><span class="mord mathrm">0</span><span class="mord mathrm">2</span></span></span></span>，结果符合我们的预计。</p>
<h4 id="ysin4tsin3t图"><a class="markdownIt-Anchor" href="#ysin4tsin3t图"></a> y=sin(4t)sin(3t)图</h4>
<p>现在，我们来将这个信号乘上一个sin(4t) ，则信号变为y1 = sin(3t)*sin(4t)，如下图：</p>
<p><img src="https://pic3.zhimg.com/80/v2-5f0c8596fe05899d0cb5a1acaec70cfe_hd.jpg" alt="img"></p>
<p>具有一个较短的小幅震动的周期和一个较长的主体周期，对吧？且每个主体周期的积分值都是0。同以上讨论，如果对这个函数在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span>积分，<strong>基本还接近于0</strong>，因为  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span>包含了无数个主体周期。</p>
<h4 id="ysin31tsin3t图"><a class="markdownIt-Anchor" href="#ysin31tsin3t图"></a> y=sin(3.1t)sin(3t)图</h4>
<p>之后呢，我们来将这个信号乘上一个sin(3.1t) ，则信号变为y2 = sin(3t)*sin(3.1t)，如下图：</p>
<p><img src="https://pic3.zhimg.com/80/v2-5af405c36d2d0ef48ab9f91ac7fb1672_hd.jpg" alt="img"></p>
<p>同样是有一个较短的小幅震动的周期和一个较长的主体周期，对吧？可以判断，每个主体周期的积分值都是0（虽然（0，50）这个区间没有完整地展示主题周期）。那么，依然同以上讨论，如果对这个函数在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 积分，基本还接近于0，因为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span>包含了无数个主体周期。</p>
<p>我们来用之前的时间区间计算一下， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mn>0</mn></mrow><mrow><mn>5</mn><mn>0</mn></mrow></msubsup><mi>sin</mi><mo>(</mo><mn>3</mn><mi>t</mi><mo>)</mo><mo>∗</mo><mi>sin</mi><mo>(</mo><mn>3</mn><mi mathvariant="normal">.</mi><mn>1</mn><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi><mo>=</mo><mo>−</mo><mn>4</mn><mi mathvariant="normal">.</mi><mn>7</mn><mn>7</mn><mn>3</mn><mn>1</mn></mrow><annotation encoding="application/x-tex">\int_{0}^{50} \sin (3 t) * \sin (3.1 t) d t=-4.7731</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.870108em;"></span><span class="strut bottom" style="height:1.2262279999999999em;vertical-align:-0.35612em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">5</span><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">3</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">3</span><span class="mord mathrm">.</span><span class="mord mathrm">1</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span><span class="mrel">=</span><span class="mord">−</span><span class="mord mathrm">4</span><span class="mord mathrm">.</span><span class="mord mathrm">7</span><span class="mord mathrm">7</span><span class="mord mathrm">3</span><span class="mord mathrm">1</span></span></span></span> 。</p>
<p>咦？这一次怎么距离0这么远了呢？</p>
<p>原因就是：<strong>对于sin(3t)*sin(4t)，它的主体周期较短</strong>，（0，50）是包含了好几个主体周期的，也就是说（0，50）在某种程度上是类似于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 的。但是，<strong>对于sin(3t)*sin(3.1t)，它的主体周期很长</strong>，（0，50）连它的一个完整的主体周期都没有包含，那么（0，50）是不能类似于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 的，积分值自然就比较大。</p>
<p>我们此时可以这样小小总结一下，对于信号y = sin(3t)，它的频率是3rad/s，（如果你喜欢用HZ，那就除以<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span></span></span></span> ，就是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mn>3</mn></mrow><mrow><mn>2</mn><mi>π</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{2\pi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.845108em;"></span><span class="strut bottom" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">3</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span>HZ，这里使用rad/s，是为了与前面的傅里叶变换的公式中的w一致），而sin(4t)的频率是4rad/s，sin(3.1t)的频率是3.1rad/s。</p>
<p>如果在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 积分，那么y1 = sin(3t)*sin(4t)，y2 = sin(3t)*sin(3.1t)的积分值都是0，也就是说，sin(4t)和sin(3.1t)在这里是没差别的。</p>
<p>但是！！！<strong>如果在一个<u>有限区间内</u>积分，由于sin(3.1t)的频率3.1rad/s，距离原信号y = sin(3t)的频率3rad/s更近，那么sin(3.1t)和sin(3t)的乘积，也就是y2 = sin(3t)*sin(3.1t)的积分的绝对值会更大，也就是会离0更远。这里已经显示出一定的频率选择性了。</strong></p>
<p>最后，让我们请出我们今天的主角，将这个信号乘上一个自己同频率的sin(3t) ，则信号变为y3 = sin(3t)*sin(3t)，如图：</p>
<p><img src="https://pic2.zhimg.com/80/v2-639fbf1ab8e20ee318da83b21c641da1_hd.jpg" alt="img"></p>
<p>Amazing！！！发现了什么？良好的周期性？还有呢？**由于乘上了自己，任何时间的幅值都大于等于0了！不再满足周期内积分值为0这个条件了！**那么，此时，我们对这个信号在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 积分，就会得到一个非常非常大的数字。<strong>这个很大很大的数字就告诉你，这个信号和你乘的信号是同频率的！这就是可以知道信号中具有哪些频率部分了，不是吗？</strong></p>
<p>我们还是来用之前的时间区间计算一下， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mn>0</mn></mrow><mrow><mn>5</mn><mn>0</mn></mrow></msubsup><mi>sin</mi><mo>(</mo><mn>3</mn><mi>t</mi><mo>)</mo><mo>∗</mo><mi>sin</mi><mo>(</mo><mn>3</mn><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi><mo>=</mo><mn>2</mn><mn>5</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>8</mn><mn>3</mn><mn>3</mn></mrow><annotation encoding="application/x-tex">\int_{0}^{50} \sin (3 t) * \sin (3 t) d t=25.0833</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.870108em;"></span><span class="strut bottom" style="height:1.2262279999999999em;vertical-align:-0.35612em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">5</span><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">3</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">3</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span><span class="mrel">=</span><span class="mord mathrm">2</span><span class="mord mathrm">5</span><span class="mord mathrm">.</span><span class="mord mathrm">0</span><span class="mord mathrm">8</span><span class="mord mathrm">3</span><span class="mord mathrm">3</span></span></span></span>。<strong>是不是比其他的积分值都大了好多？</strong></p>
<p>好了，我们已经知道，<strong>▲.将一个信号乘上一个特定频率的sin函数，在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 上积分，可以将信号中与sin函数同频率的部分筛选出来。那么，原则上讲，只要乘上所有频率的sin函数，并积分，不就知道原始信号中的所有频率部分了吗？</strong></p>
<p>**但是这样做需要把所有频率乘进去，做无数次计算哈！**算不出来的。所以，<strong>我们将所乘的sin函数的频率作为符号变量w，来进行积分，即：</strong></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mi>sin</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">X(w)=\int_{-\infty}^{+\infty} x(t) \sin (w t) d t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.827331em;"></span><span class="strut bottom" style="height:1.2417820000000002em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span></span></p>
<p>注意：这里的w只是一个符号变量，这样的话，<strong>就只需要做一次积分，可以计算了。</strong></p>
<p><strong>计算出来X(w)之后，想知道特定的频率w0对应的积分值，直接将w0带入X(w)就立马得到积分值。</strong>，如想知道是否含有w0=3rad/s分量,那么久计算X(3)看结果是否为0，这样就能知道原信号中是否含有这一频率的部分了。</p>
<p>好了，我们推导的这个式子，是不是与傅里叶变换的式子：</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi>w</mi><mi>t</mi></mrow></msup><mi>d</mi><mi>t</mi><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>(</mo><mi>cos</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mo>−</mo><mi>j</mi><mi>sin</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mo>)</mo><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">X(w)=\int_{-\infty}^{+\infty} x(t) e^{-j w t} d t=\int_{-\infty}^{+\infty} x(t)(\cos (w t)-j \sin (w t)) d t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.827331em;"></span><span class="strut bottom" style="height:1.2417820000000002em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">d</span><span class="mord mathit">t</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mopen">(</span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span></span></p>
<p>很像了呢？</p>
<p><strong>这就是傅里叶变换的原理！乘上带有符号变量的sin、cos函数，并积分，就知道原始信号中的所有频率部分啦！</strong></p>
<h3 id="2-傅里叶变换ft的正交性"><a class="markdownIt-Anchor" href="#2-傅里叶变换ft的正交性"></a> <strong>2、傅里叶变换（FT）的正交性</strong></h3>
<p>傅里叶变换是一种变换。在变换中，我们<strong>将原始信号乘上的变化信号称为基函数</strong>。</p>
<p>在傅里叶变换中，一系列不同频率的sin、cos等函数称为这个变换的基函数。至于为什么需要既使用sin，又使用cos，这涉及到一点点正交函数的概念。傅里叶变换中的不同频率的<strong>sin、cos等函数是正交函数</strong>，使用正交函数组成的基函数会带给变换一些方便。</p>
<h4 id="什么是正交性"><a class="markdownIt-Anchor" href="#什么是正交性"></a> 什么是正交性?</h4>
<h5 id="向量正交"><a class="markdownIt-Anchor" href="#向量正交"></a> 向量正交:</h5>
<p>我们都知道，向量 <img src="https://www.zhihu.com/equation?tex=a%2Cb" alt="[公式]"> 的内积为<img src="https://www.zhihu.com/equation?tex=a%5Ccdot+b" alt="[公式]"> 。<strong>正交的定义为内积为0</strong>，即<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>⋅</mo><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a \cdot b=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">a</span><span class="mbin">⋅</span><span class="mord mathit">b</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span>。如<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>=</mo><mo>(</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">a=(1,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">a</span><span class="mrel">=</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mpunct">,</span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span> 表示x轴，$b=(0,1) $表示y轴，则 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>⋅</mo><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a \cdot b=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.69444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">a</span><span class="mbin">⋅</span><span class="mord mathit">b</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span>即意味着x轴与y轴正交。</p>
<p>假设有一个向量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>x</mi><mrow><mn>0</mn></mrow></msub><mo separator="true">,</mo><msub><mi>y</mi><mrow><mn>0</mn></mrow></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">v=\left(x_{0}, y_{0}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="mrel">=</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">x</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span></span></span></span>， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">x</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">0</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 在x轴上定位v，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">y_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">0</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 在y轴上定位v。<strong>当x轴与y轴正交时，意味着x坐标和y坐标表示的信息是彼此独立的，两坐标可以完全定位v。</strong></p>
<p>那么，当我们已知向量v，已知x轴a与y轴b，如果知道v的坐标呢？答案就是，<strong>投影/内积</strong>。</p>
<p>将v向x轴a做投影/内积： <img src="https://www.zhihu.com/equation?tex=x_0+%3D+v%5Ccdot+a" alt="[公式]"> ，可以得到<img src="https://www.zhihu.com/equation?tex=x_0" alt="[公式]">；将v向y轴b做投影/内积： <img src="https://www.zhihu.com/equation?tex=y_0+%3D+v%5Ccdot+b" alt="[公式]">，可以得到<img src="https://www.zhihu.com/equation?tex=y_0" alt="[公式]">。</p>
<h5 id="正交基"><a class="markdownIt-Anchor" href="#正交基"></a> 正交基</h5>
<p>类似的，函数$  f_{1}(x), f_{2}(x)  的内积定义如下：\int_{-\infty}^{+\infty} f_{1}(x) f_{2}(x) d x$。<strong>函数正交的定义同样为内积为0</strong>，即 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><msub><mi>f</mi><mrow><mn>1</mn></mrow></msub><mo>(</mo><mi>x</mi><mo>)</mo><msub><mi>f</mi><mrow><mn>2</mn></mrow></msub><mo>(</mo><mi>x</mi><mo>)</mo><mi>d</mi><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\int_{-\infty}^{+\infty} f_{1}(x) f_{2}(x) d x=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.827331em;"></span><span class="strut bottom" style="height:1.2417820000000002em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10764em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord mathit">x</span><span class="mclose">)</span><span class="mord"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10764em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord mathit">x</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">x</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span> 。PS：对于周期函数，定义中的积分区间为一个周期T。</p>
<p>我们来看，</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mn>0</mn></mrow><mrow><mi>T</mi></mrow></msubsup><mi>sin</mi><mrow><mo fence="true">(</mo><msub><mi>w</mi><mrow><mn>1</mn></mrow></msub><mi>x</mi><mo fence="true">)</mo></mrow><mi>cos</mi><mrow><mo fence="true">(</mo><msub><mi>w</mi><mrow><mn>2</mn></mrow></msub><mi>x</mi><mo fence="true">)</mo></mrow><mi>d</mi><mi>x</mi><mo>=</mo><mn>0</mn><mo>(</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">\int_{0}^{T} \sin \left(w_{1} x\right) \cos \left(w_{2} x\right) d x=0   (1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.897331em;"></span><span class="strut bottom" style="height:1.253451em;vertical-align:-0.35612em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mop">sin</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mop">cos</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mord mathit">d</span><span class="mord mathit">x</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mclose">)</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mn>0</mn></mrow><mrow><mi>T</mi></mrow></msubsup><mi>sin</mi><mrow><mo fence="true">(</mo><msub><mi>w</mi><mrow><mn>1</mn></mrow></msub><mi>x</mi><mo fence="true">)</mo></mrow><mi>sin</mi><mrow><mo fence="true">(</mo><msub><mi>w</mi><mrow><mn>2</mn></mrow></msub><mi>x</mi><mo fence="true">)</mo></mrow><mi>d</mi><mi>x</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>w</mi><mrow><mn>1</mn></mrow></msub><mo>≠</mo><msub><mi>w</mi><mrow><mn>2</mn></mrow></msub><mo>(</mo><mn>2</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">\int_{0}^{T} \sin \left(w_{1} x\right) \sin \left(w_{2} x\right) d x=0, w_{1} \neq w_{2}(2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.897331em;"></span><span class="strut bottom" style="height:1.253451em;vertical-align:-0.35612em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mop">sin</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mop">sin</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mord mathit">d</span><span class="mord mathit">x</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">≠</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord mathrm">2</span><span class="mclose">)</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mn>0</mn></mrow><mrow><mi>T</mi></mrow></msubsup><mi>cos</mi><mrow><mo fence="true">(</mo><msub><mi>w</mi><mrow><mn>1</mn></mrow></msub><mi>x</mi><mo fence="true">)</mo></mrow><mi>cos</mi><mrow><mo fence="true">(</mo><msub><mi>w</mi><mrow><mn>2</mn></mrow></msub><mi>x</mi><mo fence="true">)</mo></mrow><mi>d</mi><mi>x</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>w</mi><mrow><mn>1</mn></mrow></msub><mo>≠</mo><msub><mi>w</mi><mrow><mn>2</mn></mrow></msub><mo>(</mo><mn>3</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">\int_{0}^{T} \cos \left(w_{1} x\right) \cos \left(w_{2} x\right) d x=0, w_{1} \neq w_{2}(3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.897331em;"></span><span class="strut bottom" style="height:1.253451em;vertical-align:-0.35612em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mop">cos</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mop">cos</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mord mathit">d</span><span class="mord mathit">x</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">≠</span><span class="mord"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.02691em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord mathrm">3</span><span class="mclose">)</span></span></span></span></p>
<p>▲.因此，傅里叶变换中的不同频率的sin、cos等函数都是正交函数。我们<strong>将cos想象为一个轴，将sin想象为一个轴</strong> ，这两个轴，就张了一个<strong>函数空间</strong>。</p>
<p>我们已经知道，x(t)的傅里叶变换为：</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>(</mo><mi>cos</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mo>−</mo><mi>j</mi><mi>sin</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mo>)</mo><mi>d</mi><mi>t</mi><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mi>cos</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi><mo>−</mo><mi>j</mi><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mi>sin</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">X(w)=\int_{-\infty}^{+\infty} x(t)(\cos (w t)-j \sin (w t)) d t=\int_{-\infty}^{+\infty} x(t) \cos (w t) d t-j \int_{-\infty}^{+\infty} x(t) \sin (w t) d t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.827331em;"></span><span class="strut bottom" style="height:1.2417820000000002em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mopen">(</span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span></span></p>
<p>我们来看，实部 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mi>cos</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\int_{-\infty}^{+\infty} x(t) \cos (w t) d t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.827331em;"></span><span class="strut bottom" style="height:1.2417820000000002em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span></span> 即相当于将x(t)与cos做内积，即向cos轴投影，得到的是在这个<strong>函数空间</strong>内的cos坐标，也就是与cos的相似度；虚部<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mi>sin</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\int_{-\infty}^{+\infty} x(t) \sin (w t) d t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.827331em;"></span><span class="strut bottom" style="height:1.2417820000000002em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span></span> 即相当于将x(t)与sin做内积，即向sin轴投影，得到的是在这个函数空间内的sin坐标，也就是与sin的相似度。cos坐标和sin坐标都确定后，该信号就确定了。</p>
<p>因此，傅里叶变换之后，<strong>实部是与cos的相似度，虚部是与sin的相似度</strong>，傅里叶变换也就是与cos的相似度和与sin的相似度的总和，也就表示了相应的频率信息。</p>
<p>相似度的理解：通过相似度，可以将跟本身频率相似的频率挑选出来</p>
<p><strong>3、小例子</strong></p>
<p>最后，我们对于y=sin(3t)做傅里叶变换（这里画图用的matlab的FFT，是FT的离散快速算法，不是积分出来的，但是原理是相同的，仅做展示使用），变换后的图像如下：</p>
<p><img src="https://pic4.zhimg.com/80/v2-ffb3a17723fa1ef528dfc2350a36bd6f_hd.jpg" alt="img"></p>
<p>可以看到，与我们的预期相同，变换之后，在  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ω</mi><mo>=</mo><mn>3</mn><mi>r</mi><mi>a</mi><mi>d</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\omega=3 rad/ s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">ω</span><span class="mrel">=</span><span class="mord mathrm">3</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathrm">/</span><span class="mord mathit">s</span></span></span></span>  处，出现了峰值，即表示该信号中包含了 的  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ω</mi><mo>=</mo><mn>3</mn><mi>r</mi><mi>a</mi><mi>d</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\omega=3 rad/ s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">ω</span><span class="mrel">=</span><span class="mord mathrm">3</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathrm">/</span><span class="mord mathit">s</span></span></span></span> 频率成分。</p>
<h3 id="这里需要说明三点"><a class="markdownIt-Anchor" href="#这里需要说明三点"></a> 这里需要说明三点：</h3>
<p>1、这边的作图结果不是理想FT，如果是理想的FT，即在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 上积分，那么除了   <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ω</mi><mo>=</mo><mn>3</mn><mi>r</mi><mi>a</mi><mi>d</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\omega=3 rad/ s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">ω</span><span class="mrel">=</span><span class="mord mathrm">3</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathrm">/</span><span class="mord mathit">s</span></span></span></span> 的积分值将是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">+\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.58333em;"></span><span class="strut bottom" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span> 之外，其他任意频率处的值都应该是0，得到的将是一个冲激函数。但是，这里我用的是离散傅里叶变换（详见我的下一篇文章），可以暂时理解为<strong>类似于我们讨论过的有限区间</strong>，当频率靠近3rad/s时（如之前提到的3.1rad/s的例子），也会积分出来一个较大的数值，所以这里不是一个冲击函数，而是一个山峰状的函数；</p>
<p>2、傅里叶变换之后是具有<strong>实部和虚部的</strong>，实部是与cos的相似度，虚部是与sin的相似度。我们要频率信息的时候，不管是与某一频率w的cos的相似还是与某一频率w的sin的相似，都是这一频率w嘛，不需要区分。因此，这里画图取了模，就不存在实部和虚部了。</p>
<p>3、在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ω</mi><mo>=</mo><mn>3</mn><mi>r</mi><mi>a</mi><mi>d</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\omega=3 r a d / s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">ω</span><span class="mrel">=</span><span class="mord mathrm">3</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">d</span><span class="mord mathrm">/</span><span class="mord mathit">s</span></span></span></span>处之所以没有出现我们讨论的很大很大很大的值，是因为画图之前对于变换之后的幅值统一除以了信号取样点的个数，统一压缩了一定的倍数。</p>
<h3 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h3>
<p>1.由于sin和cos是一对正交基，所以所有的信号都可以分解成正弦信号与余弦信号的线性叠加。</p>
<p>2.除了与乘以本身频率w的正余弦相同信号再在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span>范围上积分的结果会是非0以外，乘以其他频率信号的结果都是0.通过这个特性可以将是否含有w频率信号鉴别出</p>
<p>2.傅里叶变化的基函数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mrow><mi>j</mi><mi>w</mi><mi>t</mi></mrow></msup></mrow><annotation encoding="application/x-tex">e^{jwt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.824664em;"></span><span class="strut bottom" style="height:0.824664em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>由欧拉公式可分解为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi>w</mi><mi>t</mi></mrow></msup><mo>=</mo><mi>cos</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mo>−</mo><mi>j</mi><mi>sin</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">e^{-j w t}=\cos (w t)-j \sin (w t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.824664em;"></span><span class="strut bottom" style="height:1.0746639999999998em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span>,所以根据公式:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mi>cos</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi><mo>−</mo><mi>j</mi><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mi>sin</mi><mo>(</mo><mi>w</mi><mi>t</mi><mo>)</mo><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">X(w)=\int_{-\infty}^{+\infty} x(t) \cos (w t) d t-j \int_{-\infty}^{+\infty} x(t) \sin (w t) d t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.827331em;"></span><span class="strut bottom" style="height:1.2417820000000002em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span><span class="mbin">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span></span>，前部分乘以cos(wt)能挑出cos成分中的信号频率，后部分乘以的sin(wt)能挑出sin成分中的信号频率。再将挑出的各信号频率线性叠加的结果就是分解信号总的含有各谐波分量的频率</p>
<hr>
<h2 id="二傅里叶变换ft的缺点与短时傅里叶变换stft"><a class="markdownIt-Anchor" href="#二傅里叶变换ft的缺点与短时傅里叶变换stft"></a> 二.傅里叶变换（FT）的缺点与短时傅里叶变换（STFT）</h2>
<h3 id="离散傅里叶变换dft"><a class="markdownIt-Anchor" href="#离散傅里叶变换dft"></a> 离散傅里叶变换（DFT）</h3>
<p>在本文正式开始之前，我们需要明确一下实际信号进行的FT的一些特殊之处。实际采集的信号往往是这样的：</p>
<p><img src="https://pic4.zhimg.com/80/v2-fb5df4498e5bd43450ec0476c56129f3_hd.jpg" alt="img"></p>
<p>实际的信号往往具有两个特点：</p>
<p>1、<strong>离散性</strong>，就是采集数据不连续，很容易理解，采集信号肯定是一个一个数据采集的；</p>
<p>2、<strong>有限性</strong>，虽然理想的傅里叶变换是从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 进行积分，但是实际信号往往实在一个区间内(a,b)的。</p>
<p>所以，我们要用到离散傅里叶变换（DISCRETE FOURIER TRANSFORM，简称DFT），DFT与FT相比，就是多了两个特征：<strong>1、离散型，2、有限性</strong>。</p>
<p>我们来一起试一试如何推导DFT公式。首先设采集了N个信号点，其时刻为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><mrow><mn>0</mn></mrow></msub><mo separator="true">,</mo><msub><mi>t</mi><mrow><mn>1</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>t</mi><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">t_{0}, t_{1}, \ldots t_{N-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.8234109999999999em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="minner">…</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>，对应时刻采集到的信号值为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mn>0</mn></mrow></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mo>…</mo><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">x\left(t_{0}\right), x\left(t_{1}\right), \ldots x\left(t_{N-1}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mpunct">,</span><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mpunct">,</span><span class="minner">…</span><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span></span></span></span> 。很自然的，原来信号连续，是积分，现在数据离散了，那就是把积分变成累加。于是我们得到： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mi>i</mi></mrow></msub><mo fence="true">)</mo></mrow><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi>w</mi><msub><mi>t</mi><mrow><mi>i</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">X(w)=\sum_{i=0}^{N-1} x\left(t_{i}\right) e^{-j w t_{i}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.881462em;"></span><span class="strut bottom" style="height:1.158326em;vertical-align:-0.276864em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="top:-0.0000050000000000050004em;">∑</span><span class="vlist"><span style="top:0.276864em;margin-left:0em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.403131em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord scriptscriptstyle cramped"><span class="mord mathit">i</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span></p>
<p>这么一来，我们发现，原信号有N个数据点，DFT变换后的信号却变成连续的了，我们将之称为<strong>离散时间傅里叶变换（<strong>DISCRETE TIME FOURIER TRANSFORM，简称</strong>DTFT）</strong>。</p>
<p>DTFT有两个缺点，第一， <img src="https://www.zhihu.com/equation?tex=w+%5Cin+%28-%5Cinfty%2C%2B%5Cinfty%29" alt="[公式]"> 且连续，需要进行无数次计算，计算机无法计算；第二，在进行计算的时候，我们需要已知：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><mrow><mn>0</mn></mrow></msub><mo separator="true">,</mo><msub><mi>t</mi><mrow><mn>1</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>t</mi><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">t_{0}, t_{1}, \ldots t_{N-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.8234109999999999em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="minner">…</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mn>0</mn></mrow></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mo>…</mo><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">x\left(t_{0}\right), x\left(t_{1}\right), \ldots x\left(t_{N-1}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mpunct">,</span><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mpunct">,</span><span class="minner">…</span><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span></span></span></span> ，但是调用过FFT函数的同学都知道，FFT只需要已知<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mn>0</mn></mrow></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mo>…</mo><mi>x</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">x\left(t_{0}\right), x\left(t_{1}\right), \ldots x\left(t_{N-1}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mpunct">,</span><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mpunct">,</span><span class="minner">…</span><span class="mord mathit">x</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span></span></span></span>就可以进行。</p>
<p>这是怎么回事呢？</p>
<p>首先，我们**使用相对采样时间 <img src="https://www.zhihu.com/equation?tex=n+%3D+0%2C1%2C...N-1" alt="[公式]"> 代替真实采样时间 <img src="https://www.zhihu.com/equation?tex=t_0%2Ct_1%2C...t_%7BN-1%7D" alt="[公式]"> ，**可以得到： <img src="https://www.zhihu.com/equation?tex=X%28w%29+%3D+%5Csum_%7Bn%3D0%7D%5E%7BN-1%7Dx%28n%29+e%5E%7B-jwn%7D" alt="[公式]"> 。</p>
<p>此时我们发现， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">X(w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span> 变成了以 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span></span></span></span>为周期的函数，即 <img src="https://www.zhihu.com/equation?tex=X%28w%2B2%5Cpi%29+%3D+%5Csum_%7Bn%3D0%7D%5E%7BN-1%7Dx%28n%29+e%5E%7B-j%28w%2B2%5Cpi%29n%7D+%3D++%5Csum_%7Bn%3D0%7D%5E%7BN-1%7Dx%28n%29+e%5E%7B-jwn%7De%5E%7B-j2%5Cpi+n%7D+%3D++%5Csum_%7Bn%3D0%7D%5E%7BN-1%7Dx%28n%29+e%5E%7B-jwn%7D+%3D+X%28w%29" alt="[公式]"></p>
<p>那么，我们只需要计算 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo>∈</mo><mo>(</mo><mn>0</mn><mo separator="true">,</mo><mn>2</mn><mi>π</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">w \in(0,2 \pi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mrel">∈</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span><span class="mclose">)</span></span></span></span> 区间的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">X(w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span> ，就可以得到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo>∈</mo><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">w \in(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mrel">∈</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 区间的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>w</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">X(w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span>了。也就是说，通过使用相对采样时间 <img src="https://www.zhihu.com/equation?tex=n+%3D+0%2C1%2C...N-1" alt="[公式]"> 代替真实采样时间<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><mrow><mn>0</mn></mrow></msub><mo separator="true">,</mo><msub><mi>t</mi><mrow><mn>1</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>t</mi><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">t_{0}, t_{1}, \ldots t_{N-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.8234109999999999em;vertical-align:-0.208331em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="minner">…</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>，我们将 <img src="https://www.zhihu.com/equation?tex=w" alt="[公式]"> 的范围从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 缩小到了(0,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span></span></span></span>).</p>
<p>自然地，我们希望将(0,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span></span></span></span>)离散化称为N个点，这样计算机就可以计算了！则取<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo>=</mo><mfrac><mrow><mn>2</mn><mi>π</mi><mi>k</mi></mrow><mrow><mi>N</mi></mrow></mfrac><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">w=\frac{2 \pi k}{N}, k=0,1, \ldots N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8801079999999999em;"></span><span class="strut bottom" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span><span class="mord mathit" style="margin-right:0.03148em;">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mord mathrm">1</span><span class="mpunct">,</span><span class="minner">…</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span>，则有： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>(</mo><mi>k</mi><mo>)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mi>x</mi><mo>(</mo><mi>n</mi><mo>)</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mfrac><mrow><mn>2</mn><mi>π</mi><mi>k</mi></mrow><mrow><mi>N</mi></mrow></mfrac><mi>n</mi></mrow></msup><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo>…</mo><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">X(k)=\sum_{n=0}^{N-1} x(n) e^{-j \frac{2 \pi k}{N} n}, k=0,1 \ldots N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.9860199999999999em;"></span><span class="strut bottom" style="height:1.2523279999999999em;vertical-align:-0.266308em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="top:-0.0000050000000000050004em;">∑</span><span class="vlist"><span style="top:0.266308em;margin-left:0em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">n</span><span class="mrel">=</span><span class="mord mathrm">0</span></span></span></span><span style="top:-0.403131em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mclose">)</span><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mord reset-scriptstyle scriptstyle uncramped"><span class="sizing reset-size5 size5 reset-scriptstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord scriptscriptstyle cramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-0.22142857142857142em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle uncramped"><span class="mord scriptscriptstyle uncramped"><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.03588em;">π</span><span class="mord mathit" style="margin-right:0.03148em;">k</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-scriptstyle textstyle uncramped nulldelimiter"></span></span><span class="mord mathit">n</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mord mathrm">1</span><span class="minner">…</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mbin">−</span><span class="mord mathrm">1</span></span></span></span></p>
<p>好了，这就是<strong>离散傅里叶变换DFT</strong>了！</p>
<p>接下来，来看DFT的两个性质：</p>
<ul>
<li>
<p>第一， <img src="https://www.zhihu.com/equation?tex=X%280%29+%3D+%5Csum_%7Bn%3D0%7D%5E%7BN-1%7Dx%28n%29" alt="[公式]"> ，即 <img src="https://www.zhihu.com/equation?tex=X%280%29" alt="[公式]"> 是所有元素的和，通常会比其他的元素大几个数量级。</p>
</li>
<li>
<p>第二， <img src="https://www.zhihu.com/equation?tex=X%281%29+%3D+%5Csum_%7Bn%3D0%7D%5E%7BN-1%7Dx%28n%29+e%5E%7B-j+2%5Cpi%5Cfrac%7B1%7D%7BN%7D+n%7D" alt="[公式]"> ，<img src="https://www.zhihu.com/equation?tex=X%28N-1%29+%3D+%5Csum_%7Bn%3D0%7D%5E%7BN-1%7Dx%28n%29+e%5E%7B-j+2%5Cpi%5Cfrac%7BN-1%7D%7BN%7D+n%7D" alt="[公式]"> ， <img src="https://www.zhihu.com/equation?tex=X%281%29+%3D+%5Ctilde%7BX%28N-1%29%7D" alt="[公式]"> ，即第二个元素和最后一个元素共轭，同理有<img src="https://www.zhihu.com/equation?tex=X%282%29+%3D+%5Ctilde%7BX%28N-2%29%7D" alt="[公式]"> 等等。</p>
</li>
</ul>
<p>如下图所示，DFT之后的N 个元素中，第一个为均值；之后的 N-1个元素，只有一半元素是独立的。</p>
<p><img src="https://pic3.zhimg.com/80/v2-7779743b0ad81ce875fe42c0f69adbc2_hd.jpg" alt="img"></p>
<p>需要说明，这里 <img src="https://www.zhihu.com/equation?tex=k" alt="[公式]"> 是一种相对频率，独立元素中，最小相对频域为1，最大相对频率为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>N</mi></mrow><mrow><mn>2</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{N}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.872331em;"></span><span class="strut bottom" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span> 。<strong>要想把</strong> <img src="https://www.zhihu.com/equation?tex=k" alt="[公式]"> <strong>还原到真实的频率</strong> <img src="https://www.zhihu.com/equation?tex=w" alt="[公式]"> <strong>，只需要 <img src="https://www.zhihu.com/equation?tex=w+%3D+%5Cfrac%7Bk-1%7D%7BN%7DFs" alt="[公式]"> ，将</strong> <img src="https://www.zhihu.com/equation?tex=k%3D1%2C2...%5Cfrac%7BN%7D%7B2%7D" alt="[公式]"> <strong>映射到</strong> <img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B2%7D%29" alt="[公式]"> <strong>即可</strong>， <img src="https://www.zhihu.com/equation?tex=Fs" alt="[公式]"> <strong>为采样频率。</strong></p>
<p>PS：简单说一下，根据香农采样定理，当采样频率为 <img src="https://www.zhihu.com/equation?tex=Fs" alt="[公式]"> 时，能采到的最大信号频率为<img src="https://www.zhihu.com/equation?tex=%5Cfrac%7BFs%7D%7B2%7D" alt="[公式]">。因此，将相对频率 <img src="https://www.zhihu.com/equation?tex=k%3D1%2C2...%5Cfrac%7BN%7D%7B2%7D" alt="[公式]"> 通过公式 <img src="https://www.zhihu.com/equation?tex=w+%3D+%5Cfrac%7Bk-1%7D%7BN%7DFs" alt="[公式]"> ，得到的 <img src="https://www.zhihu.com/equation?tex=w" alt="[公式]"> 就在区间<img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B2%7D%29" alt="[公式]">内，也就是真实频率的区间了。</p>
<p>所以DFT公式为： <img src="https://www.zhihu.com/equation?tex=X%28k%29+%3D+%5Csum_%7Bn%3D0%7D%5E%7BN-1%7Dx%28n%29+e%5E%7B-j%5Cfrac%7B2%5Cpi+k%7D%7BN%7Dn%7D%2C+k+%3D+0%2C1...N-1" alt="[公式]"></p>
<p>PS：DFT公式的形式很多，有的是从时域到频域，有的是从空间域到频域，但是本质都是一样的，抓住<strong>离散性</strong>和<strong>有限性</strong>两个特点即可。<strong>离散性是指积分变成了累加，有限性是指积分/累加区间不是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(-\infty,+\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord">−</span><span class="mord mathrm">∞</span><span class="mpunct">,</span><span class="mord">+</span><span class="mord mathrm">∞</span><span class="mclose">)</span></span></span></span> 了，而是一个有限区间了。</strong></p>
<h3 id="傅里叶变换ft的缺点"><a class="markdownIt-Anchor" href="#傅里叶变换ft的缺点"></a> <strong>傅里叶变换（FT）的缺点</strong></h3>
<p>应该说明，虽然本小节的题目是FT的缺点，但是FT和DFT的本质是相同的。由于信号都是有限长度的、离散的，所以接下来进行的都是DFT，不过在某些部分为了方便理解，还是写了FT的公式。在看本文的时候，你不需要刻意区分这两个概念。</p>
<p>我们现在来看两个信号，如下图：</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mn>1</mn><mo>=</mo><mi>sin</mi><mo>(</mo><mn>5</mn><mi>t</mi><mo>)</mo><mo>∗</mo><mo>(</mo><mn>0</mn><mo>&lt;</mo><mi>t</mi><mo>&lt;</mo><mn>2</mn><mn>5</mn><mo>)</mo><mo>+</mo><mi>sin</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>∗</mo><mo>(</mo><mn>2</mn><mn>5</mn><mo>&lt;</mo><mi>t</mi><mo>&lt;</mo><mn>5</mn><mn>0</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">y 1=\sin (5 t) *(0&lt;t&lt;25)+\sin (t) *(25&lt;t&lt;50)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mord mathrm">1</span><span class="mrel">=</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">5</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mrel">&lt;</span><span class="mord mathit">t</span><span class="mrel">&lt;</span><span class="mord mathrm">2</span><span class="mord mathrm">5</span><span class="mclose">)</span><span class="mbin">+</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mopen">(</span><span class="mord mathrm">2</span><span class="mord mathrm">5</span><span class="mrel">&lt;</span><span class="mord mathit">t</span><span class="mrel">&lt;</span><span class="mord mathrm">5</span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span><br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mn>2</mn><mo>=</mo><mi>sin</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>∗</mo><mo>(</mo><mn>0</mn><mo>&lt;</mo><mi>t</mi><mo>&lt;</mo><mn>2</mn><mn>5</mn><mo>)</mo><mo>+</mo><mi>sin</mi><mo>(</mo><mn>5</mn><mi>t</mi><mo>)</mo><mo>∗</mo><mo>(</mo><mn>2</mn><mn>5</mn><mo>&lt;</mo><mi>t</mi><mo>&lt;</mo><mn>5</mn><mn>0</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">y 2=\sin (t) *(0&lt;t&lt;25)+\sin (5 t) *(25&lt;t&lt;50)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mord mathrm">2</span><span class="mrel">=</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mrel">&lt;</span><span class="mord mathit">t</span><span class="mrel">&lt;</span><span class="mord mathrm">2</span><span class="mord mathrm">5</span><span class="mclose">)</span><span class="mbin">+</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">5</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mopen">(</span><span class="mord mathrm">2</span><span class="mord mathrm">5</span><span class="mrel">&lt;</span><span class="mord mathit">t</span><span class="mrel">&lt;</span><span class="mord mathrm">5</span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span></p>
<p><img src="https://pic3.zhimg.com/80/v2-023a9ca6d0985e9dc271a08a199269de_hd.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-4ea09915e3f6f18391df410eab709da4_hd.jpg" alt="img"></p>
<p>这两个信号都是由sin(t)和sin(5t)组成的，y1是先出现了sin(5t)，再出现了sin(t)，y2是先出现了sin(t)，再出现了sin(5t)。</p>
<p>我们对它们进行FT，看看他们包含怎么样的频率，如下图：</p>
<p><img src="https://pic3.zhimg.com/80/v2-8a1cd705a0354cb0cbeb067e1f7ce992_hd.jpg" alt="img">																	y1,FT</p>
<p><img src="https://pic1.zhimg.com/80/v2-c95d1c9d11a72b51447425f5fbd0e0c8_hd.jpg" alt="img">																		y2,FT</p>
<p>Amazing！发现了什么？<strong>变换后的结果是一模一样的，都在w=1rad/s和w=5rad/s出现了峰值！这就可以说明FT的缺点了——FT只能提供频域信息，而完全丢失了时域信息！！！</strong></p>
<p><strong>不管某一频率的信号出现的时间是早还是晚，FT都是将它一视同仁地乘上sin和cos(FT的变换基函数)，然后在整个时间区间加和。因此，它不能提供某一频率信号出现的时间。</strong></p>
<p>比如，对于上面两个信号，FT只能告诉我们，它们都有1rad/s和5rad/s的频率，而不能告诉我们1rad/s和5rad/s分别出现在哪个时间段。</p>
<p>所以，怎么办呢？？？</p>
<p><strong>那就是把信号分成左右两半啊！左边进行一次FT，右边进行一次FT，很简单吧！好了，这就是短时傅里叶变换（STFT）的基本原理。</strong></p>
<p>所以，接下来我们要正式开始步入——短时傅里叶变换（STFT），看看它是如何解决这个问题的。</p>
<h3 id="短时傅里叶变换stft"><a class="markdownIt-Anchor" href="#短时傅里叶变换stft"></a> <strong>短时傅里叶变换（STFT）</strong></h3>
<p>如上所述，我们将信号从中间截断，左边进行一次FT，右边进行一次FT，分别来看看。</p>
<p><img src="https://pic4.zhimg.com/80/v2-43e0b0a1d3e8758f32fc784a35b00183_hd.jpg" alt="img">y1左</p>
<p><img src="https://pic3.zhimg.com/80/v2-6ccbe7a93f390033d4444a949bcd356e_hd.jpg" alt="img">y1右</p>
<p><img src="https://pic2.zhimg.com/80/v2-271124958efcef10cd9a370d3f5061b9_hd.jpg" alt="img">y2左</p>
<p><img src="https://pic4.zhimg.com/80/v2-417fda7319483f84086bc73b299c5b03_hd.jpg" alt="img">y2右</p>
<p>可以看出，y1的左半部分是5rad/s，右半部分是1rad/s，y2恰好相反。这就说明，在y1中，(0, 25)的信号是5rad/s的频率，(25, 50)的信号是5rad/s的频率，y2恰好相反。<strong>这就是短时傅里叶变换的基本原理。</strong></p>
<p>但是数学嘛，能用一个公式表达的，就别用一段话表达，截断、切开这些语句太不专业了。<strong>截断、切开的操作，更专业的讲叫作分窗，其实是可以通过数学上的处理变成DFT变换的基函数的一部分的。接下来我们来看一看。</strong></p>
<p>首先，你可以想象一下，有一个窗子在这个信号上从左向右滑动，每次你都只能看到这个信号的一部分，<strong>所以我们把这个长度叫作窗长width。</strong></p>
<p>现在我们来定义一个方窗函数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mrow><mtext><mi mathvariant="normal">w</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">d</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mtext></mrow></msub><mo>=</mo><mn>1</mn><mo>∗</mo><mo>(</mo><mo>−</mo><mtext><mi mathvariant="normal">w</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">d</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">h</mi></mtext><mi mathvariant="normal">/</mi><mn>2</mn><mo>&lt;</mo><mi>t</mi><mo>&lt;</mo><mtext><mi mathvariant="normal">w</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">d</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">h</mi></mtext><mi mathvariant="normal">/</mi><mn>2</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">y_{\text {window}}=1 *(-\text {width} / 2&lt;t&lt;\text {width} / 2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="text mord scriptstyle cramped"><span class="mord mathrm" style="margin-right:0.01389em;">w</span><span class="mord mathrm">i</span><span class="mord mathrm">n</span><span class="mord mathrm">d</span><span class="mord mathrm">o</span><span class="mord mathrm" style="margin-right:0.01389em;">w</span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="mord mathrm">1</span><span class="mbin">∗</span><span class="mopen">(</span><span class="mord">−</span><span class="text mord textstyle uncramped"><span class="mord mathrm" style="margin-right:0.01389em;">w</span><span class="mord mathrm">i</span><span class="mord mathrm">d</span><span class="mord mathrm">t</span><span class="mord mathrm">h</span></span><span class="mord mathrm">/</span><span class="mord mathrm">2</span><span class="mrel">&lt;</span><span class="mord mathit">t</span><span class="mrel">&lt;</span><span class="text mord textstyle uncramped"><span class="mord mathrm" style="margin-right:0.01389em;">w</span><span class="mord mathrm">i</span><span class="mord mathrm">d</span><span class="mord mathrm">t</span><span class="mord mathrm">h</span></span><span class="mord mathrm">/</span><span class="mord mathrm">2</span><span class="mclose">)</span></span></span></span> ，如下图，即是width = 10 的一个方窗函数：</p>
<p><img src="https://pic2.zhimg.com/80/v2-bd998377f53a5dffc8546cf019d119a1_hd.jpg" alt="img"></p>
<p>定义了方窗函数之后，我们<strong>只需要对方窗函数进行平移，再与原信号作乘，就相当于原来的截断、切开的操作，因此这种操作更专业地叫作分窗。</strong></p>
<p>那么，<strong>将方窗函数向右平移了 <img src="https://www.zhihu.com/equation?tex=t_s" alt="[公式]">（s可能是sliding的意思吧），再与原信号相乘，由于方窗函数除了中心的width部分是1外，其他部分都是0，这就相当于提取出了原信号在</strong><img src="https://www.zhihu.com/equation?tex=t+%3D+t_s" alt="[公式]"><strong>处，宽度为width的部分</strong>，这个信号分窗这个操作就可以写成： <img src="https://www.zhihu.com/equation?tex=y_%7Bwindow%7D%28t+-+t_s%29++y%28t%29" alt="[公式]"> 。</p>
<p>如下两图所示，将 <img src="https://www.zhihu.com/equation?tex=y%28t%29%3Dsin%285t%29" alt="[公式]"> 与 <img src="https://www.zhihu.com/equation?tex=y_%7Bwindow%7D%28t+-+25%29" alt="[公式]"> 相乘，就相当于取出来了 <img src="https://www.zhihu.com/equation?tex=y%28t%29%3Dsin%285t%29" alt="[公式]"> 中的(20,30)中的一段。</p>
<p>那么，我们对原信号中被提取出来的这一部分进行FT，就可以写成： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mrow><mo fence="true">(</mo><mi>w</mi><mo separator="true">,</mo><msub><mi>t</mi><mrow><mi>s</mi></mrow></msub><mo fence="true">)</mo></mrow><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><msub><mi>y</mi><mrow><mi>w</mi><mi>i</mi><mi>n</mi><mi>d</mi><mi>o</mi><mi>w</mi></mrow></msub><mrow><mo fence="true">(</mo><mi>t</mi><mo>−</mo><msub><mi>t</mi><mrow><mi>s</mi></mrow></msub><mo fence="true">)</mo></mrow><mi>y</mi><mo>(</mo><mi>t</mi><mo>)</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi>w</mi><mrow><mo fence="true">(</mo><mi>t</mi><mo>−</mo><msub><mi>t</mi><mrow><mi>s</mi></mrow></msub><mo fence="true">)</mo></mrow></mrow></msup><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">X\left(w, t_{s}\right)=\int_{-\infty}^{+\infty} y_{w i n d o w}\left(t-t_{s}\right) y(t) e^{-j w\left(t-t_{s}\right)} d t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8879999999999999em;"></span><span class="strut bottom" style="height:1.302451em;vertical-align:-0.414451em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07847em;">X</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">s</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mrel">=</span><span class="mop"><span class="op-symbol small-op mop" style="margin-right:0.19445em;top:-0.0005599999999999772em;">∫</span><span class="vlist"><span style="top:0.35612em;margin-left:-0.19445em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord">−</span><span class="mord mathrm">∞</span></span></span></span><span style="top:-0.41900000000000004em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">+</span><span class="mord mathrm">∞</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mord mathit">d</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.02691em;">w</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">(</span><span class="mord mathit">t</span><span class="mbin">−</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">s</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">)</span></span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathit">e</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0.7em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord">−</span><span class="mord mathit" style="margin-right:0.05724em;">j</span><span class="mord mathit" style="margin-right:0.02691em;">w</span><span class="minner scriptstyle uncramped"><span class="style-wrap reset-scriptstyle scriptstyle uncramped" style="top:0em;">(</span><span class="mord mathit">t</span><span class="mbin">−</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord scriptscriptstyle cramped"><span class="mord mathit">s</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-scriptstyle scriptstyle uncramped" style="top:0em;">)</span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0.7em;">​</span></span>​</span></span></span><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span></span></p>
<p>PS：这里之所以 <img src="https://www.zhihu.com/equation?tex=e%5E%7B-jwt%7D" alt="[公式]"> 要变成 <img src="https://www.zhihu.com/equation?tex=e%5E%7B-jw%28t-t_s%29%7D" alt="[公式]"> ，是为了保证做FT的时候相乘的基函数具有统一性。</p>
<p>如此，变换后的<img src="https://www.zhihu.com/equation?tex=X%28w%2Ct_s%29" alt="[公式]">代表<strong>原信号在</strong><img src="https://www.zhihu.com/equation?tex=t+%3D+t_s" alt="[公式]"><strong>处、宽度为width的部分的傅里叶变换</strong>，也就可以提取出来<strong>原信号在</strong><img src="https://www.zhihu.com/equation?tex=t+%3D+t_s" alt="[公式]"><strong>处、宽度为width的部分，包含各个频率部分的多少！带入不同的</strong> <img src="https://www.zhihu.com/equation?tex=t_s" alt="[公式]"> <strong>，也就是随着窗子的滑动，就可以知道不同的时间段内频率的成分。</strong></p>
<p>我们采用width为10的方窗函数对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mn>3</mn><mo>=</mo><mi>sin</mi><mo>(</mo><mn>2</mn><mn>0</mn><mi>t</mi><mo>)</mo><mo>∗</mo><mo>(</mo><mn>0</mn><mo>&lt;</mo><mi>t</mi><mo>&lt;</mo><mn>2</mn><mn>5</mn><mo>)</mo><mo>+</mo><mi>sin</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>∗</mo><mo>(</mo><mn>2</mn><mn>5</mn><mo>&lt;</mo><mi>t</mi><mo>&lt;</mo><mn>5</mn><mn>0</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">y 3=\sin (20 t) *(0&lt;t&lt;25)+\sin (t) *(25&lt;t&lt;50)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mord mathrm">3</span><span class="mrel">=</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathrm">2</span><span class="mord mathrm">0</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mrel">&lt;</span><span class="mord mathit">t</span><span class="mrel">&lt;</span><span class="mord mathrm">2</span><span class="mord mathrm">5</span><span class="mclose">)</span><span class="mbin">+</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">∗</span><span class="mopen">(</span><span class="mord mathrm">2</span><span class="mord mathrm">5</span><span class="mrel">&lt;</span><span class="mord mathit">t</span><span class="mrel">&lt;</span><span class="mord mathrm">5</span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span>进行STFT，如下：</p>
<p>首先，方窗函数位于 <img src="https://www.zhihu.com/equation?tex=t+%3D+5s" alt="[公式]"> 处，与原始信号相乘，选择出(0,10)的信号。</p>
<p><img src="https://pic4.zhimg.com/80/v2-9c184aa29068c665f5ead3439d42cd0b_hd.jpg" alt="img"></p>
<p>对选择出来的信号进行FT。可以看到，当t=5s时，选择的时间区间为(0,10)，这一部分只包含了 <img src="https://www.zhihu.com/equation?tex=w+%3D+20rad%2Fs" alt="[公式]"> 的频率成分。</p>
<p><img src="https://pic4.zhimg.com/80/v2-ec4cc9c93dc4d7b763ac5843fd02be8b_hd.jpg" alt="img"></p>
<p>之后，方窗函数向右移动，与原始信号相乘，选择出不同时间区间的信号，进行FT。这里选择t=25s进行展示。</p>
<p><img src="https://pic1.zhimg.com/80/v2-6df4bbf241bd086b20e7db05a31cf7d0_hd.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-3bd9b031d41ce1e3349d762e74b850fa_hd.jpg" alt="img"></p>
<p>可以看到，当t=25s时，选择的时间区间为(20,30)，这一部分即包含了 <img src="https://www.zhihu.com/equation?tex=w+%3D+20rad%2Fs" alt="[公式]"> 的频率成分，也包含了 <img src="https://www.zhihu.com/equation?tex=w+%3D+1rad%2Fs" alt="[公式]"> 的频率成分。</p>
<p>重复以上过程，我们可以<strong>将方窗函数选择的不同时间区间的信号的FT的结果拼合起来，形成一张三维图</strong>。由此，我们即可知道，<strong>在 <img src="https://www.zhihu.com/equation?tex=%28t_s-width%2F2%2C+t_s%2Bwidth%2F2%29" alt="[公式]"> 的时间区间内，信号具有怎么样的频率成分。</strong></p>
<p><img src="https://pic4.zhimg.com/80/v2-389958865460686e1d15a0b2f9ddb277_hd.jpg" alt="img"></p>
<p>通过width = 10的方窗的STFT结果，我们可以知道，对于信号：<img src="https://www.zhihu.com/equation?tex=y3%3Dsin%2820t%29%2A%280%3Ct%3C25%29%2Bsin%28t%29%2A%2825%3Ct%3C50%29" alt="[公式]"> ，在(0,10)、(10,20)时间区间内，具有20rad/s的频率成分；在(20,30)时间区间内，具有1rad/s和20rad/s的频率成分；在(30,40)、(40,50)时间区间内，具有1rad/s的频率成分。</p>
<p>最后，进行三点重要的讨论。</p>
<p>第一点，<strong>变换之后的</strong> <img src="https://www.zhihu.com/equation?tex=X%28w%2Ct_s%29" alt="[公式]"> <strong>是一个三维函数，它有两个自变量，</strong> <img src="https://www.zhihu.com/equation?tex=t_s" alt="[公式]"> <strong>和w。</strong><img src="https://www.zhihu.com/equation?tex=t_s" alt="[公式]"> 指的是<strong>原信号在</strong><img src="https://www.zhihu.com/equation?tex=t+%3D+t_s" alt="[公式]">**处，**w上一篇文章我们已经讨论过了，就是频率。所以，STFT提取出来的信息就是：<strong>原信号在</strong><img src="https://www.zhihu.com/equation?tex=t+%3D+t_s" alt="[公式]"><strong>处、宽度为width的部分，包含的频率信息。</strong></p>
<p><strong>原则上讲，可以得到任一<img src="https://www.zhihu.com/equation?tex=+t_s" alt="[公式]">对应的频率成分，如下图。</strong></p>
<p><img src="https://pic2.zhimg.com/80/v2-dccf7c6b239c4777b934a1c871f86aed_hd.jpg" alt="img"></p>
<p><strong>但是</strong> <strong><img src="https://www.zhihu.com/equation?tex=t_s" alt="[公式]"> 是连续的，并不意味着你知道了每个时刻的频率成分，你知道的还只是 <img src="https://www.zhihu.com/equation?tex=%28t_s-width%2F2%2C+t_s%2Bwidth%2F2%29" alt="[公式]">这一段区间内的频率信息。所以一般不需要计算所有的</strong> <img src="https://www.zhihu.com/equation?tex=t_s" alt="[公式]"><strong>，每隔width计算一次即可。</strong></p>
<p>你或许会想，我**把width缩小一些，不就可以知道更精确的时间范围内的频率了吗？**是的，你的猜想很对！但是，**如此做也会带来一些频域分辨率的问题。**这一点涉及到一些时域分辨率和频域分辨率的知识，我们下一篇文章会着重讲。</p>
<h4 id="本质变化"><a class="markdownIt-Anchor" href="#本质变化"></a> 本质变化:</h4>
<p>第二点，<strong>方窗函数是可以包含入变换基函数内部的，这组成了新的基函数，同时反映了STFT的本质。</strong></p>
<p>我们来看， 如果定义 <img src="https://www.zhihu.com/equation?tex=%5Cphi+%28t%29+%3D+e%5E%7B-jwt%7D+y_%7Bwindow%7D%28t%29" alt="[公式]"> ，那么<img src="https://www.zhihu.com/equation?tex=%5Cphi+%28t+-+t_s%29+%3D+e%5E%7B-jw%28t-+t_s%29%7D+y_%7Bwindow%7D%28t-+t_s%29" alt="[公式]"></p>
<p>那么，STFT的公式： <img src="https://www.zhihu.com/equation?tex=X%28w%2Ct_s%29+%3D++%5Cint_%7B-%5Cinfty%7D%5E%7B%2B%5Cinfty%7Dy_%7Bwindow%7D%28t+-+t_s%29++y%28t%29e%5E%7B-jw%28t-+t_s%29%7Ddt" alt="[公式]"> 就可以写成： <img src="https://www.zhihu.com/equation?tex=X%28w%2C+t_s%29++%3D++%5Cint_%7B-%5Cinfty%7D%5E%7B%2B%5Cinfty%7Dy%28t%29%5Cphi%28t+-+t_s%29+dt" alt="[公式]"></p>
<p>我们在上一篇文章里说过，<strong>变换就是将原信号乘上一个基函数，再积分的过程，那么，SDFT的基函数就是 <img src="https://www.zhihu.com/equation?tex=%5Cphi%28t%29+%3D+e%5E%7B-jwt%7D+y_%7Bwindow%7D%28t%29" alt="[公式]"> ！</strong></p>
<p>Amazing！所以，STFT的本质是什么呢？</p>
<p>**STFT的本质就是将FT的基函数 <img src="https://www.zhihu.com/equation?tex=e%5E%7B-jwt%7D" alt="[公式]"> 乘上一个方窗函数，形成了一个新的基函数<img src="https://www.zhihu.com/equation?tex=%5Cphi%28t%29+%3D+e%5E%7B-jwt%7D+y_%7Bwindow%7D%28t%29" alt="[公式]"> ！**前面说的分窗、截断之类的都是表象，<strong>STFT的本质是基函数的改变！</strong></p>
<p>那么，为什么STFT的基函数可以用于分窗，而FT的基函数不行呢？我们来看，我用正弦函数sin(5t)表示原来的基函数<img src="https://www.zhihu.com/equation?tex=e%5E%7B-jwt%7D" alt="[公式]"> ，那么FT基函数和STFT基函数如下：</p>
<p><img src="https://pic4.zhimg.com/80/v2-9fb003e0c1ca9b79cba81b58a6d06003_hd.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-02cb52f656bb597ba81ea90af534044b_hd.jpg" alt="img"></p>
<p>原因就是：FT的基函数是在时域无限延伸的，因此，无论怎么平移，都是任分布在整个时域的，起不到分窗的作用。<strong>而STFT的基函数只在时域一段不为0，在剩下的时域都是0，因此，STFT的基函数的平移，就相当于自动加了窗子啦！</strong></p>
<h4 id="紧支撑性"><a class="markdownIt-Anchor" href="#紧支撑性"></a> 紧支撑性:</h4>
<p><strong>这种只在时域一段不为0，在剩下的时域都是0的性质被称为“紧支撑性”（compactly supported），具有这种性质的函数，平移之后与一个信号相乘，就相当于分窗操作。这一点很重要，我们之后讲小波变换的基函数的时候还会讲。</strong></p>
<p>第三点，<strong>我们前面对于分窗操作使用的函数一直称为“方窗函数”</strong>，这是一种最理想的窗函数。<strong>还有一些其他的窗函数，比如，汉宁窗、海明窗、高斯窗等</strong>。窗函数本质都是一个窗子而已，原理是一模一样的，上面所有的讨论也都成立，只是这些窗子会让信号稍稍变形一丢丢而已。你就想像方窗函数就是一面平面镜，其他的窗函数就是哈哈镜就行了。</p>
<h3 id="总结-2"><a class="markdownIt-Anchor" href="#总结-2"></a> 总结:</h3>
<p>Q:为什么要用相对采样时间代替真实采样时间?</p>
<p>A:原来做傅立叶变换，既需要知道真实采样时间，也需要知道采样数据，用相对采样时间替代真实采样时间之后，只需要知道采样数据。这极大地拓展了傅立叶变换的使用范围。比如，并不是所有傅立叶变换的对象都可以具有真实采样时间。一副图像也是可以傅立叶变换的，但是在图像里，并没有采样时间这个概念，只有0123456这些像素索引值，对图像做傅立叶变换，就是把索引值作为相对采样时间。</p>
<hr>
<h2 id="三短时傅里叶变换stft的缺点与连续小波变换cwt"><a class="markdownIt-Anchor" href="#三短时傅里叶变换stft的缺点与连续小波变换cwt"></a> 三.短时傅里叶变换（STFT）的缺点与连续小波变换（CWT）</h2>
<p><strong>三、短时傅里叶变换（STFT）的缺点与连续小波变换（CWT）</strong></p>
<p><strong>1、分辨率问题</strong></p>
<p>首先，我们需要了解一下海德堡测不准原理： <img src="https://www.zhihu.com/equation?tex=%5CDelta+t%5CDelta+f+%3E+C" alt="\Delta t\Delta f &gt; C"> ， <img src="https://www.zhihu.com/equation?tex=%5CDelta+t" alt="\Delta t"> 为信号的时间不确定度， <img src="https://www.zhihu.com/equation?tex=%5CDelta+f" alt="\Delta f"> 为信号的频率不确定度。即，我们永远<strong>无法同时确定一个信号的确切时间和确切频率。</strong></p>
<p>原因比较简单，频率其实就是时域周期性。如果我只给你一个数据点，问你这个数据点的频率是多少，这肯定是做不到的。<strong>要确定频率，就需要一个时域区间（包含几个时域周期）的信号。</strong></p>
<p>时域区间越宽，信号的时间定位越不准，时间不确定度 <img src="https://www.zhihu.com/equation?tex=%5CDelta+t" alt="\Delta t"> 越大，但是得到的频率越准，频率不确定度<img src="https://www.zhihu.com/equation?tex=%5CDelta+f+" alt="\Delta f "> 越小；我们称之为：<strong>低的时域分辨率，高的频域分辨率。</strong></p>
<p>时域区间越窄，信号的时间定位越准，时间不确定度 <img src="https://www.zhihu.com/equation?tex=%5CDelta+t" alt="\Delta t"> 越小，但是得到的频率越不准，频率不确定度 <img src="https://www.zhihu.com/equation?tex=%5CDelta+f+" alt="\Delta f "> 越大；我们称之为：<strong>高的时域分辨率，低的频域分辨率。</strong></p>
<p><img src="https://pic4.zhimg.com/80/v2-a6610ab6df91401343647ba4b27363db_hd.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-36716e2b22423bae8d2ff5bcbf796324_hd.jpg" alt="img"></p>
<p>如上两图，对于第一个图中 <img src="https://www.zhihu.com/equation?tex=sin%280.5t%29" alt="sin(0.5t)"> 的信号，要确定频率，即使把 <img src="https://www.zhihu.com/equation?tex=%280%2C20%29" alt="(0,20)"> 都拿来，还是不太准，因为只包含了一个周期；对于第二个图中 <img src="https://www.zhihu.com/equation?tex=sin%285t%29" alt="sin(5t)"> 的信号，要确定频率，取个 <img src="https://www.zhihu.com/equation?tex=%280%2C5%29" alt="(0,5)"> 就差不多了，因为已经包含了好几个周期了。</p>
<p>我们来总结一下。</p>
<p>对于低频信号，为了更好地确定频率，我们希望，时域区间宽一些，即时间不确定度 <img src="https://www.zhihu.com/equation?tex=%5CDelta+t" alt="\Delta t"> 大一些，根据海德堡测不准原理，频率不确定度<img src="https://www.zhihu.com/equation?tex=%5CDelta+f+" alt="\Delta f "> 自然小一些；即<strong>低频信号，我们希望：宽窗子，低的时域分辨率，高的频域分辨率。</strong></p>
<p>对于高频信号，为了更好地在时域定位，我们希望，时域区间窄一些，即时间不确定度 <img src="https://www.zhihu.com/equation?tex=%5CDelta+t" alt="\Delta t"> 小一些，根据海德堡测不准原理，频率不确定度<img src="https://www.zhihu.com/equation?tex=%5CDelta+f+" alt="\Delta f "> 自然大一些；即<strong>高频信号，我们希望：窄窗子，高的时域分辨率，低的频域分辨率。</strong></p>
<p><img src="https://pic2.zhimg.com/80/v2-21c6a20541f75b7789039730c3ba9691_hd.jpg" alt="img"></p>
<p>上图所示是我们希望的动态分辨率。图中每个小矩形的 <img src="https://www.zhihu.com/equation?tex=Time" alt="Time"> 轴方向的宽度是时间区间大小， <img src="https://www.zhihu.com/equation?tex=Frequency" alt="Frequency"> 轴方向的宽度是频率区间大小。注意，每个小矩形的面积是相等的，这保证了时域分辨率乘上频域分辨率是定值，最大程度满足海德堡测不准原理。通过图可以看出，我们希望，<strong>对于低频信号：低的时域分辨率，高的频域分辨率；对于高频信号：高的时域分辨率，低的频域分辨率。</strong></p>
<p>对于整体低频、局部高频的信号，这种动态调整分辨率的规则特别有用。在实际信号中，频率非常高的高频信号往往是一种噪声，只在局部出现，基本都满足整体低频、局部高频这一条件。</p>
<p>最后，我们再来看两张分辨率图来强化一下对于分辨率的理解。</p>
<p><img src="https://pic2.zhimg.com/80/v2-5fcb8ea67c4dd7d0cd8af79cb5cdc561_hd.jpg" alt="img"></p>
<p>上图是一张采集信号的分辨率图。每个小矩形的 <img src="https://www.zhihu.com/equation?tex=Time" alt="Time"> 轴方向的宽度是很小， <img src="https://www.zhihu.com/equation?tex=Frequency" alt="Frequency">轴方向的宽度很大。也就是说，<strong>其时域分辨率很好，可以确切地确定每个信号采样点的时间，但是其频域分辨率很差，或者说完全不具有频域分辨率。</strong></p>
<p><img src="https://pic3.zhimg.com/80/v2-dfa64287fea73b71b2fde5acf491b1be_hd.jpg" alt="img"></p>
<p>上图是一张傅里叶变换（FT）的分辨率图。每个小矩形的 <img src="https://www.zhihu.com/equation?tex=Time" alt="Time"> 轴方向的宽度是很大， <img src="https://www.zhihu.com/equation?tex=Frequency" alt="Frequency"> 轴方向的宽度很小。也就是说，<strong>其频域分辨率很好，可以比较精确地确定信号中的频率成分，但是其时域分辨率很差，或者说完全丢失了时域分辨率。</strong></p>
<p>傅里叶变换的这一特性，这一点我在上一篇文章里讲过，这也是我们转而使用短时傅里叶变换（STFT）的原因。</p>
<p><strong>2、短时傅里叶变换（STFT）的缺点</strong></p>
<p>我们来回忆一下STFT（详见：<a href="https://zhuanlan.zhihu.com/p/66246381" target="_blank" rel="noopener">1335：从傅里叶变换进阶到小波变换（二）</a>），STFT的窗长是固定的，即时域分辨率是固定的，根据海德堡测不准原理，其频域分辨率也是固定的。其分辨率图如下：</p>
<p><img src="https://pic3.zhimg.com/80/v2-65ff13878c7d01a12deb42e2f3fd0ce6_hd.jpg" alt="img"></p>
<p>每个小矩形的 <img src="https://www.zhihu.com/equation?tex=Time" alt="Time"> 轴方向的宽度和<img src="https://www.zhihu.com/equation?tex=Frequency" alt="Frequency"> 轴方向的宽度是恒定的！也就是说，不论高频低频，其时域和频域分辨率都不可调，这与我们之前讨论的“对于低频信号：低的时域分辨率，高的频域分辨率；对于高频信号：高的时域分辨率，低的频域分辨率”这一原则不符合。</p>
<p>这种不符合会带来什么后果呢？</p>
<p>如图所示正弦信号，0<sub>250ms：300HZ，250</sub>500ms：200HZ ，500~750ms：100HZ ， 750~1000ms：50HZ。</p>
<p><img src="https://pic4.zhimg.com/80/v2-318f8c13aaeb3d6a2cd468ab8501f99f_hd.jpg" alt="img">)</p>
<p>选择一个较窄的窗子<img src="https://www.zhihu.com/equation?tex=width+%3D+0.02" alt="width = 0.02"> 做STFT，结果如下：</p>
<p><img src="https://pic1.zhimg.com/80/v2-69b82763a3aee3f97d70b53c42737734_hd.jpg" alt="img"></p>
<p>当窗子较窄的时候，STFT的时域分辨率还行，但是频域分辨率不佳。</p>
<p>我们选择一个宽一些的窗子 <img src="https://www.zhihu.com/equation?tex=width+%3D+0.1" alt="width = 0.1"> 做STFT，结果如下：</p>
<p><img src="https://pic1.zhimg.com/80/v2-8c698423bfab908971ca6604643ff4f8_hd.jpg" alt="img"></p>
<p>当窗子较宽的时候，STFT的频域分辨率很好，基本可以确定频率，但是时间轴上开始出现交叠了，也就是时域分辨率下降了。</p>
<p>我们选择一个更宽的窗子 <img src="https://www.zhihu.com/equation?tex=width+%3D+0.3" alt="width = 0.3"> 做STFT，结果如下：</p>
<p><img src="https://pic4.zhimg.com/80/v2-acaf61759eb23c708094463a6060f667_hd.jpg" alt="img"></p>
<p>当窗子更宽的时候，STFT的频域分辨率非常好了，但是时域分辨率已经很差了，时间轴上出现了大规模的交叠现象。</p>
<p>我们来总结一下，对于STFT，如果窗子的宽度选择合适，是可以得到时域和频域分辨率都“还可以”的结果的（由于STFT的分辨率固定，只能说“还可以”，不能说“满意”，因为我们最想要的是动态分辨率）。但是，在变换之前，我们也不知道选择多宽的窗子是合适的。</p>
<p>这就是STFT的缺点：<strong>1、时间和频率分辨率都固定，不能随着频率的高低实现动态可调；2、选择一个合适的窗宽十分困难。</strong></p>
<p><strong>3、连续小波变换（CWT）</strong></p>
<p>为了实现动态分辨率，我们引入了小波母函数。</p>
<p>需要说明，小波母函数并不是一个特定的函数，而是一种函数的集合，满足了一定条件的函数均可以作为小波母函数。小波母函数 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28t%29" alt="\psi(t)"> 需要满足的有：</p>
<p>条件1，紧支撑性： <img src="https://www.zhihu.com/equation?tex=%5Cexists+a+%3E0+%2C+%5Cforall+%7Ct%7C%3Ea%2C+%5Cpsi%28t%29+%3D+0" alt="\exists a &gt;0 , \forall |t|&gt;a, \psi(t) = 0"> ，即<strong>仅在一小部分定义域里不为0</strong>，剩下部分均为0。这个性质带来的便利我们在前一篇文章讲过了，就是<strong>具有紧支撑性的基函数，在原信号的时间轴上平移，就相当于对于原信号就行了加窗操作。</strong></p>
<p>条件2，波动性： <img src="https://www.zhihu.com/equation?tex=%5Cint_%7B-%5Cinfty%7D%5E%7B%2B%5Cinfty%7D%5Cpsi%28t%29+dt+%3D+0" alt="\int_{-\infty}^{+\infty}\psi(t) dt = 0"> ，即在所有定义域内积分值为0，这说明小波母函数是一个波。</p>
<p>条件3，容许条件： <img src="https://www.zhihu.com/equation?tex=c_%5Cpsi+%3D+2%5Cpi+%5Cint_%7B-%5Cinfty%7D%5E%7B%5Cinfty%7D+%5Cfrac%7B%7C%5Ctilde%7B%5Cpsi%28f%29%7D%7C%5E2%7D%7B%7Cf%7C%7Ddf+%3C+%2B%5Cinfty" alt="c_\psi = 2\pi \int_{-\infty}^{\infty} \frac{|\tilde{\psi(f)}|^2}{|f|}df &lt; +\infty"> ，这个条件使变换可逆。其中， <img src="https://www.zhihu.com/equation?tex=%5Ctilde%7B%5Cpsi%28f%29+%7D" alt="\tilde{\psi(f) }"> 是小波函数傅里叶变换的共轭。由3可知 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28f%29%7C_%7Bf+%3D+0%7D+%3D+0" alt="\psi(f)|_{f = 0} = 0"> ，也就是条件2。</p>
<p>条件4，正交性：这个条件也是为了使变换可逆。</p>
<p>PS：条件3、4的数学证明比较复杂，所以仅仅提了一下他们的作用，就是使得变换可逆。</p>
<p><img src="https://pic1.zhimg.com/80/v2-6df078be94ca2129af2bba0298599c88_hd.jpg" alt="img"></p>
<p>上图就是一个小波母函数的例子，我们看到了：</p>
<p>1、紧支撑性：<strong>仅在一小部分定义域里不为0</strong>，剩下部分均为0；2、波动性： 在所有定义域内积分值为0。这两个条件是满足的。</p>
<p>小波母函数既然是一个波，那么就具有频率。根据我们第一篇文章讲的内容（<a href="https://zhuanlan.zhihu.com/p/66189212" target="_blank" rel="noopener">1335：从傅里叶变换进阶到小波变换（一）</a>），将小波母函数作为基函数，与采集到的信号相乘并积分，可以筛选出：<strong>信号在小波母函数非0部分，频率与小波母函数相近的成分。</strong></p>
<p>需要说明，不同于FT的基函数 <img src="https://www.zhihu.com/equation?tex=sin%2Ccos" alt="sin,cos"> ，小波母函数不具有特定的某一频率，而是具有一个范围内的频率，因此筛选的是一定范围的频率，类似于一个带通滤波器。</p>
<p>接下来我们讲一讲，小波母函数的变换，变换公式如下：</p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cpsi%5E%2A%28%5Ctau%2C%F0%9D%91%A0%29%3D++%5Cfrac%7B1%7D%7B%5Csqrt%7B%F0%9D%91%A0%7D%7D+%5Cpsi%28%5Cfrac%7B%F0%9D%91%A1%7D%7B%7B%F0%9D%91%A0%7D%7D%E2%88%92%5Ctau%29" alt="\psi^*(\tau,𝑠)=  \frac{1}{\sqrt{𝑠}} \psi(\frac{𝑡}−\tau)"></p>
<p>一是平移，用上式中的 <img src="https://www.zhihu.com/equation?tex=%5Ctau" alt="\tau"> 控制，<img src="https://www.zhihu.com/equation?tex=%5Ctau" alt="\tau">改变，就相当于 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28t%29" alt="\psi(t)"> 在时间轴上不断的平移。</p>
<p>二是缩放，用上式中的 <img src="https://www.zhihu.com/equation?tex=s" alt="s"> 控制。</p>
<p>变换后的函数 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%5E%2A%28%5Ctau%2C%F0%9D%91%A0%29" alt="\psi^*(\tau,𝑠)"> 称为小波函数。</p>
<p>如下图，<strong>中间的图，<img src="https://www.zhihu.com/equation?tex=s" alt="s">较小，相当于挤压；右侧的图，</strong> <img src="https://www.zhihu.com/equation?tex=s" alt="s"> **较大，相当于拉伸。**变换公式前的<img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B1%7D%7B%5Csqrt+s%7D" alt="\frac{1}{\sqrt s}">是为了能量守恒，没有特别目的。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="948" height="234">)</svg></p>
<p>我们再来仔细观察一下上图。<strong>中间的图，</strong><img src="https://www.zhihu.com/equation?tex=s" alt="s"><strong>较小，相当于挤压，是不是频率提高了？右侧的图，</strong><img src="https://www.zhihu.com/equation?tex=s" alt="s">**较大，相当于拉伸，是不是频率降低了？**咦？有点意思了吧？缩放就是改变频率！另外，<strong>一定记住， <img src="https://www.zhihu.com/equation?tex=s" alt="s"> 越大，频率 <img src="https://www.zhihu.com/equation?tex=f" alt="f"> 越低， <img src="https://www.zhihu.com/equation?tex=s%2Cf" alt="s,f"> 是倒数关系。</strong></p>
<p>我们再来更仔细地观察一下上图。回忆一下上一篇文章，具有紧支撑性的基函数，滑动相当于分窗。那么，这个窗长有多大呢？是不是就是基函数不为零的长度呢？那么，<strong>中间的图，</strong><img src="https://www.zhihu.com/equation?tex=s" alt="s"><strong>较小，相当于挤压，频率提高了，窗长是不是变小了？右侧的图，</strong><img src="https://www.zhihu.com/equation?tex=s" alt="s"><strong>较大，相当于拉伸，频率降低了，窗长是不是变大了？</strong></p>
<p>这不正是我们需要的**“低频，宽窗，差的时间分辨率，好的频域分辨率；高频，窄窗，好的时间分辨率，差的频域分辨率”吗？**</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="474" height="386">)</svg></p>
<p>和上图对一下，是不是一模一样了呢？这就是动态调分辨率，得来全不费工夫啊！</p>
<p>接下来我们对一个信号就行一次连续小波变换（CWT）。下图中蓝色部分为小波函数（但原图没画成波的形式，只是表示小波函数的时间轴位置和不为0的部分的宽度），黄色部分为信号。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="586" height="496">)图源：THE WAVELET TUTORIAL</svg></p>
<p>如上图，选择较小的<img src="https://www.zhihu.com/equation?tex=s" alt="s"> 对小波母函数进行缩放，此时小波函数频率较高，窗子较窄（小波函数不为0的部分窄），用来筛选高频部分。小波函数在时间轴上平移，每一次平移就先相乘，再积分，筛选出信号中与自己频率相近的部分。</p>
<p>此时，窗子较窄（小波函数不为0的部分窄），时间分辨率好，频率分辨率差。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="587" height="489">)图源：THE WAVELET TUTORIAL</svg></p>
<p>如上图，将<img src="https://www.zhihu.com/equation?tex=s" alt="s"> 增大，对小波母函数进行缩放，此时小波函数频率降低，窗子变宽（小波函数不为0的部分变宽），用来筛选中频部分。小波函数在时间轴上平移，每一次平移就先相乘，再积分，筛选出信号中与自己频率相近的部分。</p>
<p>此时，窗子变宽了（小波函数不为0的部分变宽），时间分辨率变差，频率分辨率变好。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="587" height="486">)图源：THE WAVELET TUTORIAL</svg></p>
<p>如上图，将<img src="https://www.zhihu.com/equation?tex=s" alt="s"> 进一步增大，对小波母函数进行缩放，此时小波函数频率再次降低，窗子更宽（小波函数不为0的部分更宽），用来筛选低频部分。小波函数在时间轴上平移，每一次平移就先相乘，再积分，筛选出信号中与自己频率相近的部分。</p>
<p>此时，窗子很宽（小波函数不为0的部分很宽），时间分辨率差，频率分辨率很好。</p>
<p><strong>这就是连续小波变换CWT啦！</strong></p>
<p>将上述CWT的过程写成公式就是： <img src="https://www.zhihu.com/equation?tex=CWT_x%5E%5Cpsi+%28%5Ctau%2Cs%29+%3D+%5Cfrac%7B1%7D%7B%5Csqrt%7Bs%7D%7D+%5Cint_%7B-%5Cinfty%7D%5E%7B%2B%5Cinfty%7Dx%28t%29%5Cpsi%28%5Cfrac%7Bt%7D%7Bs%7D-%5Ctau%29+dt" alt="CWT_x^\psi (\tau,s) = \frac{1}{\sqrt{s}} \int_{-\infty}^{+\infty}x(t)\psi(\frac{t}{s}-\tau) dt"></p>
<p>注意：上图中我们只列举了三种 <img src="https://www.zhihu.com/equation?tex=s" alt="s"> （即三次缩放）和4种 <img src="https://www.zhihu.com/equation?tex=%5Ctau" alt="\tau"> （每种缩放对应四个时间位置，但是事实上， <img src="https://www.zhihu.com/equation?tex=s%2C%5Ctau" alt="s,\tau"> 是连续的，无穷多个的。</p>
<p>还是这个正弦信号，0<sub>250ms：300HZ，250</sub>500ms：200HZ ，500~750ms：100HZ ， 750~1000ms：50HZ。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="450">)</svg></p>
<p>其小波变换如下图所示（忽略图中坐标，原图如此，坐标不太对，还得映射一下，有空了我自己再画一张改一改）：</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="582" height="448">)图源：THE WAVELET TUTORIAL</svg></p>
<p>我们来看，绿色的小峰，对应小的 <img src="https://www.zhihu.com/equation?tex=s%28scale%29" alt="s(scale)"> ，也就是高的频率。他们的<strong>时间分辨率很好</strong>， <img src="https://www.zhihu.com/equation?tex=s" alt="s"> 的区间很小，根据<img src="https://www.zhihu.com/equation?tex=s%2Cf" alt="s,f"> 的倒数关系，对应的 <img src="https://www.zhihu.com/equation?tex=f" alt="f"> 的区间就很大，因此<strong>频率分辨率不好</strong>。</p>
<p>粉色的高峰，对应高的<img src="https://www.zhihu.com/equation?tex=s%28scale%29" alt="s(scale)"> ，也就是低的频率， <img src="https://www.zhihu.com/equation?tex=s" alt="s"> 的区间很大，根据<img src="https://www.zhihu.com/equation?tex=s%2Cf" alt="s,f"> 的倒数关系，对应的 <img src="https://www.zhihu.com/equation?tex=f" alt="f"> 的区间就很小，因此<strong>频率分辨率很好，时间分辨率不好（有混叠）。</strong></p>
<p>这也就再一次说明了CWT是动态分辨率的，这也是CWT相对于STFT的优势所在。</p>
<p><strong>4、FT、STFT、CWT基函数对比</strong></p>
<p>最后，再来看看，FT、STFT、CWT的基函数之间的不同，以便加深理解。</p>
<p>![img](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="508" height="529">)图源：百度图片</svg></p>
<p>FT的基函数，是分布在 <img src="https://www.zhihu.com/equation?tex=%28-%5Cinfty%2C%2B%5Cinfty%29" alt="(-\infty,+\infty)"> 的 <img src="https://www.zhihu.com/equation?tex=sin%2Ccos" alt="sin,cos">，不具有紧支撑性，只能筛选频率，使得FT完全丧失了时间信息，不具有时间分辨率。</p>
<p>STFT的基函数，是用窗函数截断的<img src="https://www.zhihu.com/equation?tex=sin%2Ccos" alt="sin,cos"> （图中是被高斯窗截断的），具有了紧支撑性，时域平移等同于分窗，使得STFT既能筛选频率，也能筛选时间。但是STFT基函数是：先确定频率，再与窗函数相乘构成的。因此不同的频率，具有同样的时间和频率分辨率。另外，窗函数的长短也比较难以确定。</p>
<p>CWT的基函数，是小波函数，具有紧支撑性，时域平移等同于分窗，使得CWT既能筛选频率，也能筛选时间。小波函数在改变频率的时候，是通过**“缩放”**实现的，**这使得小波函数在改变频率的同时，改变了窗长。**因此不同的频率，具有不同的时间和频率分辨率，实现了分辨率动态可调。</p>
<p>最后，再说一下，有很多类型的小波母函数，比如haar小波，db系列小波，sym系列小波，coif系列小波等等等等。具体哪一个小波适应哪种情况，估计都能写一本书了，我也没深入钻研过。我在利用小波变换做肌电信号识别的时候就是读一读有关肌电信号识别的论文，看看别人试过哪些小波，是一种上手比较快的方法。</p>
<hr>
<h2 id="连续小波变换cwt的缺点与离散小波变换dwt"><a class="markdownIt-Anchor" href="#连续小波变换cwt的缺点与离散小波变换dwt"></a> 连续小波变换（CWT）的缺点与离散小波变换（DWT）</h2>
<p><strong>四、连续小波变换（CWT）的缺点与离散小波变换（DWT）</strong></p>
<p><strong>1、连续小波变换（CWT）的缺点</strong></p>
<p>在上一篇文章（<a href="https://zhuanlan.zhihu.com/p/68323379%EF%BC%89%E4%B8%AD%E6%88%91%E4%BB%AC%E8%AE%B2%E8%A7%A3%E4%BA%86" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/68323379）中我们讲解了</a> CWT可以实现动态分辨率的时频分析。CWT公式为：<img src="https://www.zhihu.com/equation?tex=CWT_x%5E%5Cpsi+%28%5Ctau%2Cs%29+%3D+%5Cfrac%7B1%7D%7B%5Csqrt%7Bs%7D%7D+%5Cint_%7B-%5Cinfty%7D%5E%7B%2B%5Cinfty%7Dx%28t%29%5Cpsi%28%5Cfrac%7Bt-%5Ctau%7D%7Bs%7D%29+dt" alt="[公式]">， <img src="https://www.zhihu.com/equation?tex=x%28t%29" alt="[公式]"> 表示原始信号。你可能已经注意到了，这里的 <img src="https://www.zhihu.com/equation?tex=x%28t%29" alt="[公式]"> 是一个<strong>连续函数</strong>。</p>
<p>但是在第二篇文章（<a href="https://zhuanlan.zhihu.com/p/66246381%EF%BC%89%E4%B8%AD%E6%88%91%E4%BB%AC%E8%AE%B2%E8%BF%87%EF%BC%8C%E5%AE%9E%E9%99%85%E9%87%87%E6%A0%B7%E4%BF%A1%E5%8F%B7%E5%BE%80%E5%BE%80%E5%85%B7%E6%9C%89%E4%B8%A4%E4%B8%AA%E7%89%B9%E7%82%B9%EF%BC%9A1%E3%80%81" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/66246381）中我们讲过，实际采样信号往往具有两个特点：1、</a><strong>离散性</strong>，就是采集数据不连续，很容易理解，采集信号肯定是一个一个数据采集的；2、<strong>有限性</strong>，虽然理想的CWT是从 <img src="https://www.zhihu.com/equation?tex=%28-%5Cinfty%2C%2B%5Cinfty%29" alt="[公式]"> 进行积分的，但是实际信号往往实在一个区间内 <img src="https://www.zhihu.com/equation?tex=%28a%2Cb%29" alt="[公式]"> 的。如下图所示。</p>
<p>所以，由于CWT需要一个连续信号，但是实际采样信号往往是离散的，我们无法直接对实际信号进行CWT。</p>
<p>或许你想，我们对实际采样信号进行插值连续化不就可以使得其连续了吗？</p>
<p>是的。将实际采样信号插值连续化之后，我们——人，是可对它进行CWT的。</p>
<p>但是，我们也都知道，<strong>我们的帮手——计算机，是无法处理连续问题的</strong>。计算机只能处理离散问题。如果计算机要进行CWT，就意味着需要计算机做无穷次运算，计算机计算能力再强也是做不到的。</p>
<p>因此，为了使得计算机可以进行小波变换，我们需要引入离散小波变换（DWT）。</p>
<p><strong>2、离散小波变换（DWT）的Wallet算法</strong></p>
<p>DWT有很多种实现方式，我们在这里介绍Wallet算法，它是DWT的以一种经典的快速算法，也比较易懂。</p>
<p>我们首先来回顾一下上一篇文章讲过的动态分辨率图：<strong>高频部分，窄窗，高的时域分辨率，低的频域分辨率；低频部分，宽窗，低的时域分辨率，高的频域分辨率。</strong></p>
<p>我们是利用小波母函数的挤压和拉伸来实现动态分辨率的：</p>
<p><strong>当小波母函数被挤压的时候，频率就高，此时窗子窄，时域分辨率就好，根据海森堡测不准原理，频域分辨率就差；</strong></p>
<p><strong>当小波母函数被拉伸的时候，频率就低，此时窗子宽，时域分辨率就差，根据海森堡测不准原理，频域分辨率就好。</strong></p>
<p>也就是说，我们<strong>控制的是不同频率对应的窗长（即时域分辨率），频率分辨率是通过海森堡测不准原理得到的，从而达到了动态分辨率</strong>。</p>
<p>那么，如果我们这次不控制窗长（即时域分辨率），转而控制频域分辨率，能否达到动态分辨率呢？</p>
<p>答案是可以，这就是Wallet算法要解决的问题。</p>
<p><strong>半子带滤波</strong></p>
<p>我们知道，小波母函数本质上是一种带通滤波器。那么，假设可以通过小波母函数构造得到两个滤波器（至于怎么得到后续会介绍一下），包括<strong>一个高通滤波器和一个低通滤波器</strong>。</p>
<p>假设信号中的最高频率为 <img src="https://www.zhihu.com/equation?tex=Fs" alt="[公式]"> 。那么，高通滤波器的作用就是得到 <img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B2%7D%2CFs%29" alt="[公式]"> 的部分，低通滤波器的作用就是得到 <img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B2%7D%29" alt="[公式]"> 的部分。如下图所示：</p>
<p>我们将这个过程称为一次<strong>半子带滤波</strong>。</p>
<p><strong>下采样与上采样</strong></p>
<p>我们定义一个N倍下采样过程：<strong>将采样点N倍稀释</strong>。如下，就是一个2倍下采样过程，将采样点稀释2倍，即：每2个点采样数据点，就去除一个点。</p>
<p>N倍上采样过程：<strong>将采样点数量增加N倍</strong>。一般通过补0，或者插值的方法实现上采样。</p>
<p><strong>离散小波分解</strong></p>
<p>我们将一次半子带滤波+一次2倍下采样称为一层小波分解。如下图所示，图中的“箭头+2”表示一次2倍下采样。</p>
<p>假设原采样信号有 N 个点，信号最高频率为 <img src="https://www.zhihu.com/equation?tex=F_s" alt="[公式]"> （根据采样定律， <img src="https://www.zhihu.com/equation?tex=F_s" alt="[公式]"> 为采样频率的一半）。</p>
<p>经过一次高通滤波后，得到了 <img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B2%7D%2CFs%29" alt="[公式]"> 的部分，也是 N 个点，再经过一次2倍下采样，变成了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>N</mi></mrow><mrow><mn>2</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{N}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.872331em;"></span><span class="strut bottom" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span> 个点，我们将这<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>N</mi></mrow><mrow><mn>2</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{N}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.872331em;"></span><span class="strut bottom" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span>个点称为<strong>小波分解的高频系数</strong>（为什么叫作系数会在后面解释）。</p>
<p>经过一次低通滤波后，得到了 <img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B2%7D%29" alt="[公式]"> 的部分，也是 N 个点，再经过一次2倍下采样，变成了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>N</mi></mrow><mrow><mn>2</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{N}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.872331em;"></span><span class="strut bottom" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span> 个点，我们将这<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>N</mi></mrow><mrow><mn>2</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{N}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.872331em;"></span><span class="strut bottom" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="base textstyle uncramped"><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.10903em;">N</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span>个点称为<strong>小波分解的低频系数</strong>。</p>
<p>也就是说，<strong>经过一层小波分解的信号，它的总长度加起来，还是</strong> N ，<strong>是不变的</strong>。</p>
<p>现在，我们已经对 <img src="https://www.zhihu.com/equation?tex=%280%2CFs%29%2CN" alt="[公式]"> 个点的原信号进行了第一层小波分解，得到了<img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B2%7D%2CFs%29%2C%5Cfrac%7BN%7D%7B2%7D" alt="[公式]">个点的高频系数和<img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B2%7D%29%2C%5Cfrac%7BN%7D%7B2%7D" alt="[公式]"> 个点的低频系数。</p>
<p>那么，我们<strong>保持 <img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B2%7D%2CFs%29%2C%5Cfrac%7BN%7D%7B2%7D" alt="[公式]"> 个点的高频系数不变</strong>，把<img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B2%7D%29%2C%5Cfrac%7BN%7D%7B2%7D" alt="[公式]"> 个点的低频系数作为信号，再进行一次小波分解。于是可以得到 <img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B4%7D%2C%5Cfrac%7BFs%7D%7B2%7D%29%2C%5Cfrac%7BN%7D%7B4%7D" alt="[公式]"> 个点的高频系数和 <img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B4%7D%29%2C%5Cfrac%7BN%7D%7B4%7D" alt="[公式]">个点的低频系数。</p>
<p>这个过程被称为**第2层小波分解。**我们验证一下，经过2层小波分解的信号，它的总长度加起来，还是N ，是不变的。</p>
<p>依此类推，我们可以进行第三层，第四层小波分解，如图所示，直到第 <img src="https://www.zhihu.com/equation?tex=log_2N" alt="[公式]"> 层小波分解。在第 <img src="https://www.zhihu.com/equation?tex=log_2N" alt="[公式]"> 层小波分解，由于不断的下采样，低频系数和高频系数都只剩1个数了，小波分解无法进行下去了。</p>
<p>因此，小波分解的原始信号个数一般也需要是<strong>2的幂次</strong>。不过，在各种数学计算软件里，如果输入不是2的幂次，它会自动帮你补零到2的幂次。</p>
<p>我们取4层小波分解的结果来看一下。</p>
<p>在频域上，我们得到的是 <img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B2%7D%2CFs%29" alt="[公式]"> ，<img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B4%7D%2C%5Cfrac%7BFs%7D%7B2%7D%29" alt="[公式]">，<img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B8%7D%2C%5Cfrac%7BFs%7D%7B4%7D%29" alt="[公式]">，<img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B16%7D%2C%5Cfrac%7BFs%7D%7B8%7D%29" alt="[公式]">，<img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B16%7D%29" alt="[公式]">频域区间的系数。</p>
<p>在时域上，由于不断的2倍下采样，不断地丢弃数据，所以最后一层分解得到的<img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B16%7D%2C%5Cfrac%7BFs%7D%7B8%7D%29" alt="[公式]">，<img src="https://www.zhihu.com/equation?tex=%280%2C%5Cfrac%7BFs%7D%7B16%7D%29" alt="[公式]">的时域分辨率最差，第一层分解保留的<img src="https://www.zhihu.com/equation?tex=%28%5Cfrac%7BFs%7D%7B2%7D%2CFs%29" alt="[公式]"> 时域分辨率最好。</p>
<p>那么，我们得到的分辨率就是这样子的：</p>
<p>这，不就是上一篇文章我们讲过的小波变换得到的动态分辨率吗？</p>
<p>是的！这就是离散小波变换的快速算法之一——Wallet算法，<strong>通过不断的半子带滤波和下采样，控制不同频率成分的频域分辨率，进而达到动态分辨率。</strong></p>
<p>最后，用一张比较经典的图，再来演示一下小波分解的过程。 <img src="https://www.zhihu.com/equation?tex=%5Cpi" alt="[公式]"> 为采样信号的最高频率。 <img src="https://www.zhihu.com/equation?tex=g%28n%29" alt="[公式]">代表高通滤波器， <img src="https://www.zhihu.com/equation?tex=h%28n%29" alt="[公式]"> 代表低通滤波器，“箭头+2”表示2倍下采样。</p>
<p>图源：THE WAVELET TUTORIAL</p>
<p>再来举个例子形象地说明一下DWT的使用吧。</p>
<p>希望对于一个采样率为1000HZ的非稳态信号进行小波分解，下图为包含了256个采样点（即256ms）的原始采样信号。</p>
<p>1、首先，选择小波分解的层次。</p>
<p>可以根据<strong>对最低频率区间的要求</strong>来选择小波分解的层数。比如，我之前做项目的时候，采样率为1000HZ，那么信号的最高频率为 <img src="https://www.zhihu.com/equation?tex=F_s+%3D+500HZ" alt="[公式]"> 。我认为对于频率低于20HZ的成分，不需要再进一步区分了。因此，我选择５层小波分解，得到的最低一层的频率区间为 <img src="https://www.zhihu.com/equation?tex=%280%2CF_S%2F2%5E5%29" alt="[公式]"> ，即为 <img src="https://www.zhihu.com/equation?tex=%280%2C16%29HZ" alt="[公式]"> ，这就够用了。</p>
<p>2、接下来，进行5层小波分解，得到小波分解系数。</p>
<p>如下图中，图1依然是原始采样信号 ，图2到图6为第1层到第5层小波分解的高频系数，图7为第5层小波分解的低频系数。如图所示，这些小波分解系数对应着不同的频率区间。</p>
<p>这就是DWT了，又称为小波分解。</p>
<p>这里提一下，小波分解是可逆的，即可以通过不同频率区间的小波分解系数进行重构，得到不同频率区间的<strong>重构信号</strong>。</p>
<p>3、所以，最后，进行小波重构，得到重构信号。</p>
<p>如下图中，图1依然是原始采样信号，图2到图7为通过不同频率区间的小波系数进行重构，得到的重构信号。将图2到图7加起来就可以得到重构原始信号，其和原始采样信号的误差称为重构误差。</p>
<p><strong>3、Wallet算法背后的数学原理简介</strong></p>
<p>这一部分主要是为了解答上一部分中的两个问题。</p>
<p>1、在上一部分，我们“假设可以通过小波母函数构造得到两个滤波器”，那么，怎么得到刚好可以具有以上特性的滤波器呢？</p>
<p>2、在上一部分，我们将小波分解之后的结果称为“系数”，那么，为什么称为系数呢？</p>
<p>先说一下，这部分我不是弄得非常懂，毕竟我只是个做工程的本科生，不是做数学的大佬。我凭自己的理解写一写大概，并推荐了两篇个人觉得讲得很好的回答。</p>
<p>我们用Haar小波做例子。</p>
<p>首先，介绍一个Haar尺度函数（又称为父小波），记为 <img src="https://www.zhihu.com/equation?tex=%5Cphi%28x%29" alt="[公式]"> ， <img src="https://www.zhihu.com/equation?tex=%5Cphi%28x%29+%3D+1%2A+%280+%5Cleq+x%3C1%29+" alt="[公式]">，如下图。</p>
<p>通过Haar尺度函数 <img src="https://www.zhihu.com/equation?tex=%5Cphi%28x%29" alt="[公式]"> ，可以得到Haar母小波 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x%29" alt="[公式]"> ， <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x%29+%3D+%5Cphi%282x%29+-+%5Cphi%282x-1%29" alt="[公式]">，如下图。</p>
<p>现在，对于一个 N 点的原始采样信号，如果我们可以用 N 个<strong>做了时域平移</strong>的Haar尺度函数和 N 个<strong>做了时域平移</strong>的Haar母小波，来逼近原信号，就可以得到用 N 个Haar尺度函数的系数和 N 个Haar母小波的系数。</p>
<p>从直观上看，Haar尺度函数只是一条线，而Haar母小波则是一个波。所以，Haar母小波所能表示出来的信息应该更加细致。因此，N 个Haar母小波组合起来，应该代表的是原始信号的细节部分，也就是高频部分；N 个Haar尺度函数组合起来，代表的是原始信号的粗略部分，也就是低频部分。</p>
<p>我们将N 个Haar母小波的系数称为高频系数，将N 个Haar尺度函数的系数称为低频系数。</p>
<p>所以，<strong>DWT的滤波功能，是通过利用尺度函数和母小波重构信号，获取重构系数来获得的</strong>，这已经定性地解决了本部分提出的问题。</p>
<p>关于DWT背后的数学原理，推荐两篇回答：</p>
<p><a href="https://zhuanlan.zhihu.com/p/28575472" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/28575472</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/44217268" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/44217268</a></p>
<p>最后，由于DWT分解得到的是高频系数和低频系数，也就是用尺度函数以及母小波表示原信号的时候的一些重构系数，所以通过重构系数可以重构该信号，这被称为**小波分解的重构。**这也说明了小波分解是可逆的。</p>
</article><!-- lincense--><div class="license-wrapper"><p> <span>Author:  </span><a href="https://nymrli.top">Mrli</a></p><p> <span>Link:  </span><a href="https://nymrli.top/2019/07/29/傅里叶变换-小波变化/">https://nymrli.top/2019/07/29/傅里叶变换-小波变化/</a></p><p> <span>Copyright:  </span><span>All articles in this blog are licensed under <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/3.0">CC BY-NC-SA 3.0</a> unless stating additionally.</span></p></div><div class="post-paginator"><a class="prevSlogan" href="/2019/07/29/基础知识补充——白噪声、高斯白噪声/" title="基础知识补充——白噪声、高斯白噪声"><span>< PreviousPost</span><br><span class="prevTitle">基础知识补充——白噪声、高斯白噪声</span></a><a class="nextSlogan" href="/2019/07/26/Vim记忆/" title="Vim记忆"><span>NextPost ></span><br><span class="nextTitle">Vim记忆</span></a><div class="clear"></div></div><div id="comment"><div id="container"></div><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script><script>var gitment = new Gitment({
  id: '傅里叶变换->小波变化',
  owner: 'Freedomisgood',
  repo: 'Freedomisgood.github.io',
  oauth: {
    client_id: 'bc5a81fe36017dcd8b63',
    client_secret: '949cec3a1b91742c6249c47259791e4b80a6fa69',
  },
})
gitment.render('container')</script></div></section></article><footer id="cxo-footer-outer"><div id="cxo-footer-inner"><p class="footer-container"><span>Site by </span><a href="http://hexo.io"><span>Hexo</span></a><span> | theme </span><a href="https://github.com/Longlongyu/hexo-theme-Cxo"><span>Cxo</span></a></p><i class="fa fa-user"> </i><span id="busuanzi_value_site_uv"></span><span> | </span><i class="fa fa-eye"> </i><span id="busuanzi_value_site_pv"></span></div></footer><!-- catelog--><div class="toc-wrapper" style="top: 60vh;"><div class="toc-catalog"><i class="fa fa-list"> </i><span>CATALOG</span></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#傅里叶变换-小波变化"><span class="toc-number">1.</span> <span class="toc-text"> 傅里叶变换-&gt;小波变化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一傅里叶变换ft"><span class="toc-number">1.1.</span> <span class="toc-text"> 一.傅里叶变换FT</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基础知识"><span class="toc-number">1.1.1.</span> <span class="toc-text"> 基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么傅里叶变换可以把一个信号从时域变换到频域"><span class="toc-number">1.1.2.</span> <span class="toc-text"> 为什么傅里叶变换可以把一个信号从时域变换到频域?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1理解变换公式"><span class="toc-number">1.1.3.</span> <span class="toc-text"> 1.理解变换公式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ysin3t图"><span class="toc-number">1.1.3.1.</span> <span class="toc-text"> y=sin(3t)图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ysin4tsin3t图"><span class="toc-number">1.1.3.2.</span> <span class="toc-text"> y=sin(4t)sin(3t)图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ysin31tsin3t图"><span class="toc-number">1.1.3.3.</span> <span class="toc-text"> y=sin(3.1t)sin(3t)图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-傅里叶变换ft的正交性"><span class="toc-number">1.1.4.</span> <span class="toc-text"> 2、傅里叶变换（FT）的正交性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是正交性"><span class="toc-number">1.1.4.1.</span> <span class="toc-text"> 什么是正交性?</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#向量正交"><span class="toc-number">1.1.4.1.1.</span> <span class="toc-text"> 向量正交:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#正交基"><span class="toc-number">1.1.4.1.2.</span> <span class="toc-text"> 正交基</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#这里需要说明三点"><span class="toc-number">1.1.5.</span> <span class="toc-text"> 这里需要说明三点：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">1.1.6.</span> <span class="toc-text"> 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二傅里叶变换ft的缺点与短时傅里叶变换stft"><span class="toc-number">1.2.</span> <span class="toc-text"> 二.傅里叶变换（FT）的缺点与短时傅里叶变换（STFT）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#离散傅里叶变换dft"><span class="toc-number">1.2.1.</span> <span class="toc-text"> 离散傅里叶变换（DFT）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#傅里叶变换ft的缺点"><span class="toc-number">1.2.2.</span> <span class="toc-text"> 傅里叶变换（FT）的缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#短时傅里叶变换stft"><span class="toc-number">1.2.3.</span> <span class="toc-text"> 短时傅里叶变换（STFT）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#本质变化"><span class="toc-number">1.2.3.1.</span> <span class="toc-text"> 本质变化:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#紧支撑性"><span class="toc-number">1.2.3.2.</span> <span class="toc-text"> 紧支撑性:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结-2"><span class="toc-number">1.2.4.</span> <span class="toc-text"> 总结:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三短时傅里叶变换stft的缺点与连续小波变换cwt"><span class="toc-number">1.3.</span> <span class="toc-text"> 三.短时傅里叶变换（STFT）的缺点与连续小波变换（CWT）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#连续小波变换cwt的缺点与离散小波变换dwt"><span class="toc-number">1.4.</span> <span class="toc-text"> 连续小波变换（CWT）的缺点与离散小波变换（DWT）</span></a></li></ol></li></ol></div><!-- top--><i class="fa fa-arrow-up close" id="go-up" aria-hidden="true"></i></body></html>
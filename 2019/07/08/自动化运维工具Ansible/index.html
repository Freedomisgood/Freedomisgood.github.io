<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>自动化运维工具Ansible | 果粒橙的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="自动化运维工具Ansible笔记  简介 ​        ansible是新出现的自动化运维工具，基于Python开发，集合了众多运维工具（puppet、chef、func、fabric）的优点，实现了批量系统配置、批量程序部署、批量运行命令等功能。 　　ansible是基于 paramiko 开发的,并且基于模块化工作，本身没有批量部署的能力。真正具有批量部署的是ansible所运行的模块，">
<meta name="keywords" content="Python,运维">
<meta property="og:type" content="article">
<meta property="og:title" content="自动化运维工具Ansible">
<meta property="og:url" content="https://nymrli.top/2019/07/08/自动化运维工具Ansible/index.html">
<meta property="og:site_name" content="果粒橙的博客">
<meta property="og:description" content="自动化运维工具Ansible笔记  简介 ​        ansible是新出现的自动化运维工具，基于Python开发，集合了众多运维工具（puppet、chef、func、fabric）的优点，实现了批量系统配置、批量程序部署、批量运行命令等功能。 　　ansible是基于 paramiko 开发的,并且基于模块化工作，本身没有批量部署的能力。真正具有批量部署的是ansible所运行的模块，">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://images2017.cnblogs.com/blog/1204916/201712/1204916-20171205163000628-69838828.png">
<meta property="og:updated_time" content="2019-08-22T12:47:19.524Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="自动化运维工具Ansible">
<meta name="twitter:description" content="自动化运维工具Ansible笔记  简介 ​        ansible是新出现的自动化运维工具，基于Python开发，集合了众多运维工具（puppet、chef、func、fabric）的优点，实现了批量系统配置、批量程序部署、批量运行命令等功能。 　　ansible是基于 paramiko 开发的,并且基于模块化工作，本身没有批量部署的能力。真正具有批量部署的是ansible所运行的模块，">
<meta name="twitter:image" content="https://images2017.cnblogs.com/blog/1204916/201712/1204916-20171205163000628-69838828.png">
  
    <link rel="alternate" href="/atom.xml" title="果粒橙的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">

  <link href="https://cdn.bootcss.com/KaTeX/0.7.1/katex.min.css" rel="stylesheet">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">果粒橙的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">别装作很努力，结局不会陪你演戏。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://nymrli.top"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="p-自动化运维工具Ansible" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/08/自动化运维工具Ansible/" class="article-date">
  <time datetime="2019-07-08T06:45:45.000Z" itemprop="datePublished">2019-07-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      自动化运维工具Ansible
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="自动化运维工具ansible笔记"><a class="markdownIt-Anchor" href="#自动化运维工具ansible笔记"></a> 自动化运维工具Ansible笔记</h1>
<h2 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h2>
<p>​        ansible是新出现的自动化运维工具，基于Python开发，集合了众多运维工具（puppet、chef、func、fabric）的优点，实现了批量系统配置、批量程序部署、批量运行命令等功能。<br>
　　ansible是基于 paramiko 开发的,并且基于模块化工作，本身没有批量部署的能力。真正具有批量部署的是ansible所运行的模块，ansible只是提供一种框架。ansible不需要在远程主机上安装client/agents，因为它们是基于ssh来和远程主机通讯的。ansible目前已经已经被红帽官方收购，是自动化运维工具中大家认可度最高的，并且上手容易，学习简单。是每位运维工程师必须掌握的技能之一。</p>
<h2 id="ansible-特点"><a class="markdownIt-Anchor" href="#ansible-特点"></a> ansible 特点</h2>
<ol>
<li>部署简单，只需在主控端部署Ansible环境，被控端无需做任何操作；</li>
<li>默认使用<strong>SSH协议</strong>对设备进行管理；</li>
<li>有大量常规运维操作模块，可实现日常绝大部分操作；</li>
<li>配置简单、功能强大、扩展性强；</li>
<li>支持API及自定义模块，<strong>可通过Python轻松扩展</strong>；</li>
<li>通过Playbooks来定制强大的配置、状态管理；</li>
<li>轻量级，<strong>无需在客户端安装agent(代理)</strong>，更新时，只需在操作机上进行一次更新即可；</li>
<li>提供一个功能强大、操作性强的<strong>Web管理界面和REST API接口</strong>——AWX平台。</li>
<li>Ansible适用于中小型应用环境；SaltStack适合大型（Ansible由于不需要代理,只是通过ssh,因此只能性能不如Saltstack高）</li>
</ol>
<h2 id="ansible安装"><a class="markdownIt-Anchor" href="#ansible安装"></a> Ansible安装</h2>
<p>法1.在已有<code>python-pip</code>的情况下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pip install ansible</span></span><br></pre></td></tr></table></figure>
<p>法2:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install software-properties-common</span><br><span class="line">sudo apt-add-repository ppa:ansible/ansible</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ansible</span><br></pre></td></tr></table></figure>
<p>如果安装失败请换源<code>sudo sed -i -re 's/\w+\.archive\.ubuntu\.com/archive.ubuntu.com/g' /etc/apt/sources.list</code>,更新安装库<code>sudo apt-get update</code></p>
<h2 id="ansible-架构图"><a class="markdownIt-Anchor" href="#ansible-架构图"></a> ansible 架构图</h2>
<p><img src="https://images2017.cnblogs.com/blog/1204916/201712/1204916-20171205163000628-69838828.png" alt="img"><br>
　　上图中我们看到的主要模块如下：</p>
<blockquote>
<p><code>Ansible</code>：Ansible核心程序。<br>
<code>HostInventory</code>：<strong>主机清单</strong> , 记录由Ansible管理的主机信息，包括端口、密码、ip等。<br>
<code>Playbooks</code>：“剧本”YAML格式文件，多个任务定义在一个文件中，定义主机需要调用哪些模块来完成的功能。<br>
<code>CoreModules</code>：<strong>核心模块</strong>，主要操作是通过调用核心模块来完成管理任务。<br>
<code>CustomModules</code>：自定义模块，完成核心模块无法完成的功能，支持多种语言。<br>
<code>ConnectionPlugins</code>：连接插件，Ansible和Host通信使用</p>
</blockquote>
<h2 id="ansible配置文件查找顺序"><a class="markdownIt-Anchor" href="#ansible配置文件查找顺序"></a> ansible配置文件查找顺序</h2>
<ol>
<li>检查环境变量<code>ANSIBLE_CONFIG</code>指向的路径文件(export ANSIBLE_CONFIG=/etc/ansible.cfg)；</li>
<li>HOME目录下的配置文件<code>~/.ansible.cfg</code></li>
<li>检查当前目录下的ansible.cfg配置文件；</li>
<li><code>/etc/ansible.cfg</code>检查etc目录的配置文件。</li>
</ol>
<h2 id="使用特性"><a class="markdownIt-Anchor" href="#使用特性"></a> 使用特性</h2>
<ul>
<li>模块化：调用特定的模块，完成特定任务</li>
<li>有Paramiko，PyYAML，Jinja2（模板语言）三个关键模块支持自定义模块</li>
<li>基于Python语言实现</li>
<li>部署简单，基于python和SSH（默认已安装），agentless安全，基于OpenSSH支持playbook编排任务</li>
<li><strong>幂等性</strong>：一个任务执行1遍和执行n遍效果一样，不因重复执行带来意外情况</li>
<li>无需代理不依赖PKI（无需ssl）可使用任何编程语言写模块</li>
<li>YAML格式，编排任务，支持丰富的数据结构</li>
<li>较强大的多层解决方案</li>
</ul>
<h2 id="管理方式"><a class="markdownIt-Anchor" href="#管理方式"></a> 管理方式:</h2>
<ul>
<li>Ad-Hoc，及Ansible命令，主要用于临时命令使用场景</li>
<li>Ansible-Playbook，脚本，用于长期规划好，大型项目的场景，需要有提前的规划</li>
</ul>
<p>Ansible-playbook（剧本）执行过程：</p>
<ul>
<li>将已有编排好的任务集写入Ansible-Playbook</li>
<li>通过ansible-playbook命令分拆任务集至逐条ansible命令，按预定规则逐条执行</li>
</ul>
<h2 id="相关文件"><a class="markdownIt-Anchor" href="#相关文件"></a> 相关文件</h2>
<h3 id="配置文件"><a class="markdownIt-Anchor" href="#配置文件"></a> 配置文件</h3>
<p>/etc/ansible/ansible.cfg 主配置文件，配置ansible工作特性<br>
/etc/ansible/hosts 主机清单<br>
/etc/ansible/roles/存放角色的目录</p>
<h3 id="程序"><a class="markdownIt-Anchor" href="#程序"></a> 程序</h3>
<p>/usr/bin/ansible 主程序，临时命令执行工具<br>
/usr/bin/ansible-doc 查看配置文档，模块功能查看工具<br>
/usr/bin/ansible-galaxy 下载/上传优秀代码或Roles模块的官网平台<br>
/usr/bin/ansible-playbook定制自动化任务，编排剧本工具/usr/bin/ansible-pull远程执行命令的工具<br>
/usr/bin/ansible-vault 文件加密工具<br>
/usr/bin/ansible-console 基于console界面与用户交互的执行工具</p>
<p>1.设置被管理的主机清单<code>vim /etc/ansible/hosts</code></p>
<p>2.1口令验证方式.<code>ansible 192.168.30.101 -m ping -k</code>用账号密码去确认受控端的身份</p>
<p>▲如果出现了这样的情况,需要先安装sshpass , <code>sudo apt install sshpass</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">192.168.100.180 | FAILED! =&gt; &#123;</span><br><span class="line">    "failed": true, </span><br><span class="line">    "msg": "ERROR! to use the 'ssh' connection type with passwords, you must install the sshpass program"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.2基于key验证</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ssh-keygen</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ssh-copy-id 192.168.30.101</span></span><br><span class="line"></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/xxxxxx/): </span><br><span class="line">Enter passphrase (empty for no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved in xxxxxxxxx.</span><br><span class="line">Your public key has been saved in xxxxx.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:xxxxxxxxxxxxxx</span><br><span class="line">The key's randomart image is:</span><br></pre></td></tr></table></figure>
<p>如果设置了passphrase,那么链接时需要输入passphrase,如果是ad-hoc就相当麻烦,而playbooks中有解决方法</p>
<h2 id="ad-hoc使用"><a class="markdownIt-Anchor" href="#ad-hoc使用"></a> ad-hoc使用</h2>
<p>将<code>host_key_checking</code>取消注释,否则链接对象必须在known_hosts中</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo vim /etc/ansible/ansible.cfg</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> uncomment this to <span class="built_in">disable</span> SSH key host checking</span></span><br><span class="line"><span class="meta">#</span><span class="bash">host_key_checking = False</span></span><br></pre></td></tr></table></figure>
<p>显示日志,取消注释<code>log_path = /var/log/ansible.log</code></p>
<p>△.ansible不是长期执行的服务,不长期执行,因此修改配置后不需要重启服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ansible &lt;host-pattern&gt;[-m module_name][-a args]</span><br><span class="line"></span><br><span class="line">ansible dbsrvs -m command -a 'ls /root'-u wang-k -b-K</span><br><span class="line"><span class="meta">#</span><span class="bash"> -u 以wang的身份登录,-b将wang切换成root,-K 输入root密码.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -m 指定模块名,-a指定模块参数</span></span><br></pre></td></tr></table></figure>
<h2 id="ansible的host-pattern即匹配主机的列表"><a class="markdownIt-Anchor" href="#ansible的host-pattern即匹配主机的列表"></a> ansible的Host-pattern即匹配主机的列表</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">All：表示所有Inventory中的所有主机</span><br><span class="line">ansible all-m ping</span><br><span class="line">：通配符</span><br><span class="line">ansible&quot;&quot;-m ping</span><br><span class="line">ansible 192.168.1.-m ping</span><br><span class="line">ansible&quot;srvs&quot;-m ping</span><br><span class="line">或关系</span><br><span class="line">ansible&quot;websrvsiappsrvs&quot;-m ping</span><br><span class="line">ansible&quot;192.168.1.10：192.168.1.20&quot;-m ping</span><br></pre></td></tr></table></figure>
<p>逻辑与<br>
<code>ansible&quot;websrvs:&amp;dbsrvs&quot;-m ping</code>在websrvs组并且在dbsrvs组中的主机,单引号、双引号都行</p>
<p>逻辑非<br>
<code>ansible websrvs:ldbsrvs'-m ping</code>在websrvs组，但不在dbsrvs组中的主机<br>
注意：<strong>此处为单引号</strong></p>
<p>综合逻辑<br>
<code>ansible‘websrvs:dbsrvs:&amp;appsrvs:lftpsrvs'-m ping</code></p>
<p>正则表达式<br>
<code>ansible&quot;websrvs:&amp;dbsrvs&quot;-m ping</code></p>
<p><code>ansible&quot;~（webldb）.*\.magedu\.com&quot;-m ping</code></p>
<h2 id="ansible-command"><a class="markdownIt-Anchor" href="#ansible-command"></a> ansible command</h2>
<ul>
<li>creates=
<ul>
<li>存在,不执行</li>
</ul>
</li>
<li>removes=
<ul>
<li>不存在,不执行</li>
</ul>
</li>
<li>chdir=
<ul>
<li>切换目录后执行</li>
</ul>
</li>
</ul>
<h2 id="常用模块"><a class="markdownIt-Anchor" href="#常用模块"></a> 常用模块</h2>
<ul>
<li>command</li>
<li>shell
<ul>
<li><code>ansible all -m shel1-a 'getenforce'</code></li>
</ul>
</li>
<li>script</li>
<li>copy
<ul>
<li><code>ansible all -m copy -a'src=/root/ansible/selinux dest=/etc/selinux/config backup=yes'</code></li>
<li><code>ansible all -m copy-a 'src=/etc/shadow dest=/data/mode=000 owner=wang'</code></li>
</ul>
</li>
<li>fetch
<ul>
<li><code>ansible srv-m fetch -a 'src=/root/a. sh dest=/data/scripts'</code></li>
</ul>
</li>
<li>file
<ul>
<li>文件操作,删除、创建</li>
</ul>
</li>
<li>unachieve、achieve
<ul>
<li>压缩解压</li>
</ul>
</li>
<li>cron
<ul>
<li>开启<code>ansible all-m cron -a 'minute=* weekday=1,3,5 jcb=&quot;/usr/bin/wall FBI warning&quot; name=warningcron'</code></li>
<li>禁用<code>ansible all -m cron -a 'disabled=true job=&quot;/usr/bin/wall FBI warning&quot;name=warningcron'</code>、启用<code>ansible all -m cron -a 'disabled=falsejob=&quot;/usr/bin/wall FBI warning&quot;name=warningcron'</code></li>
<li>删除<code>ansible all -m cron -a 'job=&quot;/usr/bin/wall FBI warning&quot;name=warningcron state=absent'</code></li>
</ul>
</li>
<li>apt、yum</li>
<li>user</li>
<li>group</li>
<li>service
<ul>
<li><code>service:name=httpd state=started enabled=yes</code></li>
</ul>
</li>
<li>setup
<ul>
<li><code>ansible websrvs -m setup -a 'filter=*address*'</code></li>
</ul>
</li>
<li>template(不能放在ad-hoc)中,只能在playbook中使用</li>
</ul>
<p>command模块在针对<strong>管道</strong>、*<em>重定向有</em>…**有问题==&gt;使用shell模块</p>
<p><a href="https://www.cnblogs.com/ExzaiTin/p/7918415.html" target="_blank" rel="noopener">常用模块介绍</a></p>
<h2 id="系列命令"><a class="markdownIt-Anchor" href="#系列命令"></a> 系列命令</h2>
<h3 id="galaxy"><a class="markdownIt-Anchor" href="#galaxy"></a> galaxy</h3>
<p><code>ansible-galaxy install geerlingguy.nginx</code>	其中<code>geerlingguy</code>为角色在<code>./ansible/roles/</code></p>
<h3 id="playbooks"><a class="markdownIt-Anchor" href="#playbooks"></a> playbooks</h3>
<blockquote>
<p>Yaml</p>
<p>YAML Ain’t Markup Language，即YAML不是XML。不过，在开发的这种语言时，YAML的意思其实是：“Yet Another Markup Language”（仍是一种标记语言）</p>
</blockquote>
<h4 id="核心元素"><a class="markdownIt-Anchor" href="#核心元素"></a> 核心元素</h4>
<ul>
<li>Hosts 执行的远程主机列表</li>
<li>Tasks 任务集</li>
<li>Varniables 内置变量或自定义变量在playbook中调用Templates 模板，可替换模板文件中的变量并实现一些简单逻辑的文件Handlers 和notity结合使用，由特定条件触发的操作，满足条件方才执行，否则不执行</li>
<li>tags 标签指定某条任务执行，用于选择运行playbook中的部分代码。
<ul>
<li>ansible具有幂等性，因此会自动跳过没有变化的部分，即便如此，有些代码为测试其确实没有发生变化的时间依然会非常地长。此时，如果确信其没有变化，就可以通过tags跳过此些代码片断<br>
ansible-playbook-t tagsname useradd.yml</li>
</ul>
</li>
</ul>
<h3 id="加密"><a class="markdownIt-Anchor" href="#加密"></a> 加密</h3>
<p>加密<code>ansible-vault encrypt hello.yml</code></p>
<p>解密查看<code>ansible-vault view hello.yml</code></p>
<p>重新制定口令<code>ansible-vault rekey hello.yml</code></p>
<h2 id="基础组件"><a class="markdownIt-Anchor" href="#基础组件"></a> 基础组件</h2>
<p>如果命令或脚本的退出码不为零，可以使用如下方式替代</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tasks:</span></span><br><span class="line"><span class="attr">  - name:</span><span class="string">run</span> <span class="string">this</span> <span class="string">command</span> <span class="string">and</span> <span class="string">ignore</span> <span class="string">the</span> <span class="string">result</span></span><br><span class="line"><span class="attr">    shell:</span><span class="string">/usr/bin/somecommand</span> <span class="string">||/bin/true</span></span><br></pre></td></tr></table></figure>
<p>或者使用ignore_errors来忽略错误信息：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">tasks：</span></span><br><span class="line"><span class="attr">  - name:</span><span class="string">run</span> <span class="string">this</span> <span class="string">command</span> <span class="string">and</span> <span class="string">ignore</span> <span class="string">the</span> <span class="string">result</span></span><br><span class="line"><span class="attr">    shell:</span><span class="string">/usr/bin/somecommand</span></span><br><span class="line"><span class="attr">ignore_errors:</span><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h2 id="运行playbook的方式"><a class="markdownIt-Anchor" href="#运行playbook的方式"></a> 运行playbook的方式</h2>
<p><code>ansible-playbook &lt;filename.yml&gt;..[options]</code><br>
常见选项<br>
<code>-check(-C)</code>只检测可能会发生的改变，但不真正执行操作<br>
<code>--list-hosts</code>列出运行任务的主机<br>
<code>--limit</code>主机列表只针对主机列表中的主机执行<br>
<code>-V</code>显示过程-vw-vwv更详细</p>
<h2 id="handlers和notify"><a class="markdownIt-Anchor" href="#handlers和notify"></a> handlers和notify</h2>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tasks:</span></span><br><span class="line"><span class="attr">  - name:</span><span class="string">instal1</span> <span class="string">httpd</span> <span class="string">package</span> </span><br><span class="line"><span class="attr">    yum:</span><span class="string">name=httpd</span> </span><br><span class="line"><span class="attr">  - name:</span><span class="string">copy</span> <span class="string">conf</span> <span class="string">file</span> <span class="attr">copy:src=files/httpd.conf</span> <span class="string">dest=/etc/httpd/conf/backup=yes</span> </span><br><span class="line"><span class="attr">    notify:</span><span class="string">restart</span> <span class="string">service</span> </span><br><span class="line"><span class="attr">  - name:</span><span class="string">start</span> <span class="string">service</span></span><br><span class="line"><span class="attr">    service:</span><span class="string">name=httpd</span> <span class="string">state=started</span> <span class="string">enabled=yes</span> </span><br><span class="line"><span class="attr">  handlers:</span></span><br><span class="line"><span class="attr">    - name:</span><span class="string">restart</span> <span class="string">service</span> </span><br><span class="line"><span class="attr">      service:</span><span class="string">name=httpd</span> <span class="string">state=restarted</span></span><br></pre></td></tr></table></figure>
<p>标签</p>
<blockquote>
<p>指定标签来执行指定任务</p>
</blockquote>
<p><code>ansible-playbook -t rshttp,xxxx httpd.yml</code></p>
<h2 id="变量使用"><a class="markdownIt-Anchor" href="#变量使用"></a> 变量使用</h2>
<p>jinjia2语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; var &#125;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>法一：ansible setup facts 远程主机的所有变量都可直接调用</li>
<li>法二：在<code>/etc/ansible/hosts</code>中定义普通变量：主机组中主机单独定义，优先级高于公共变量公共（组）变量：针对主机组中所有主机定义统一变量</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[websrvs]</span><br><span class="line">192.168.30.101 http_port=81</span><br><span class="line">192.168.30.102 http_port=82</span><br><span class="line">[websrvs:vars]</span><br><span class="line">nodename=www </span><br><span class="line">domainname=magedu.com</span><br></pre></td></tr></table></figure>
<ul>
<li>法三：<code>ansible-playbook -e 'var=xxx' app.html</code>，优先级比法二高</li>
<li>法四:</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">- hosts:</span> </span><br><span class="line"><span class="attr">  remote_user:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">  vars:</span> </span><br><span class="line"><span class="attr">    - var:</span> <span class="string">xxx</span></span><br><span class="line"><span class="attr">  tasks:</span></span><br><span class="line"><span class="attr">    - name:</span> </span><br><span class="line"><span class="attr">       yum:</span> <span class="string">...</span></span><br></pre></td></tr></table></figure>
<h2 id="迭代机制"><a class="markdownIt-Anchor" href="#迭代机制"></a> 迭代机制</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tasks:</span><br><span class="line">  - name:</span><br><span class="line">    file: name=/data/&#123;&#123; item &#125;&#125;</span><br><span class="line">    with_items: </span><br><span class="line">      - file1</span><br><span class="line">      - file2</span><br><span class="line">      - file3</span><br></pre></td></tr></table></figure>
<h3 id="迭代嵌套自变量"><a class="markdownIt-Anchor" href="#迭代嵌套自变量"></a> 迭代嵌套自变量</h3>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">- hosts:</span> <span class="string">websrvs</span> </span><br><span class="line"><span class="attr">  remote_user:</span> <span class="string">root</span> </span><br><span class="line"><span class="attr">  tasks:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">add</span> <span class="string">some</span> <span class="string">groups</span> </span><br><span class="line"><span class="attr">    group:</span> <span class="string">name=&#123;&#123;</span> <span class="string">item</span> <span class="string">]&#125;</span> <span class="string">state=present</span> </span><br><span class="line"><span class="attr">    with_items:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">group1</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">group2</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">group3</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">add</span> <span class="string">some</span> <span class="string">users</span> </span><br><span class="line"><span class="attr">      user:</span> <span class="string">name=&#123;&#123;</span> <span class="string">item.</span> <span class="string">name</span> <span class="string">]&#125;</span> <span class="string">group=&#123;&#123;</span> <span class="string">item.</span> <span class="string">group</span> <span class="string">)&#125;</span> <span class="string">state=present</span> </span><br><span class="line">      <span class="string">with</span> <span class="attr">items:</span></span><br><span class="line"><span class="bullet">        -</span><span class="string">&#123;</span> <span class="attr">name:</span> <span class="string">user1,</span> <span class="attr">group:'</span> <span class="string">group1'&#125;</span></span><br><span class="line"><span class="bullet">        -</span><span class="string">&#123;</span> <span class="attr">name:</span> <span class="string">'user2, group:'</span> <span class="string">group2'&#125;</span></span><br><span class="line"><span class="bullet">        -</span><span class="string">&#123;</span> <span class="attr">name:</span> <span class="string">'user3'</span><span class="string">,</span> <span class="attr">group:'</span> <span class="string">group3'&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for vhost in nginx_vhosts%&#125;</span><br><span class="line">server&#123;</span><br><span class="line">listen&#123;&#123; vhost &#125;&#125;</span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">- hosts:</span><span class="string">websrvs</span> </span><br><span class="line"><span class="attr">  remote_user:</span><span class="string">root</span></span><br><span class="line"><span class="attr">  vars:</span></span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="attr">      - listen_port:</span><span class="number">81</span></span><br><span class="line"><span class="attr">      - listen_port:</span><span class="number">82</span></span><br><span class="line"><span class="attr">      - listen_port:</span><span class="number">83</span></span><br><span class="line"><span class="attr">  tasks:</span></span><br><span class="line"><span class="attr">  - name:</span><span class="string">copy</span> <span class="string">conf</span> </span><br><span class="line"><span class="attr">    template:</span><span class="string">src=forl.conf.j2</span> <span class="string">dest=/data/for1.conf</span></span><br></pre></td></tr></table></figure>
<h2 id="roles"><a class="markdownIt-Anchor" href="#roles"></a> roles</h2>
<blockquote>
<p>ansilbe自1.2版本引入的新特性，用于层次性、结构化地组织playbook。roles能够根据层次型结构自动装载变量文件、tasks以及handlers等。要使用roles只需要在playbook中使用<strong>include</strong>指令即可。简单来讲，roles就是通过分别将<strong>变量</strong>、<strong>文件</strong>、<strong>任务</strong>、<strong>模板</strong>及处理器放置于单独的目录中，并可以便捷地include它们的一种机制。角色一般用于基于主机构建服务的场景中，但也可以是用于构建守护进程等场景中</p>
</blockquote>
<p>复杂场景：建议使用roles，代码复用度高</p>
<ul>
<li>变更指定主机或主机组</li>
<li>如命名不规范维护和传承成本大</li>
<li>某些功能需多个Playbook，通过Includes即可实现</li>
</ul>
<p>roles目录结构：<br>
playbook.yml<br>
roles/<br>
project/<br>
tasks/<br>
files/<br>
vars/不常用<br>
default/不常用<br>
templates/<br>
handlers/<br>
meta/不常用</p>
<h2 id="附录"><a class="markdownIt-Anchor" href="#附录"></a> 附录</h2>
<h3 id="ansible-配置ssh公钥认证"><a class="markdownIt-Anchor" href="#ansible-配置ssh公钥认证"></a> Ansible 配置SSH公钥认证</h3>
<p>安装好Ansible之后，要开始工作，还需要创建一个被控制主机列表清单.默认读取/etc/ansible/hosts,如果该文件不存在，则要收到进行创建.</p>
<p>也可以通过环境变量 <strong>ANSIBLE_INVENTORY</strong> 来设置默认清单文件,1.9版本之前用 <strong>ANSIBLE_HOSTS</strong><code>export ANSIBLE_INVENTORY=~/ansible_hosts</code></p>
<p><strong>创建SSH认证文件</strong></p>
<blockquote>
<p>该操作是在控制主机中进行。</p>
</blockquote>
<p>SSH认证文件创建成功之后，将控制主机的公钥文件 id_rsa.pub 添加到被控制主机的~/.ssh/authorized_keys。</p>
<p><code>\# ~</code>指的是控制主机和被控制主机通信的用户家目录。</p>
<p><code>\# id_rsa</code> 是控制主机的私钥文件，要严格保管。</p>
<p><code>\# id_rsa.pub</code>是控制主机的公钥文件，可随意分发。</p>
<p>法一:<code>ansible all -m shell -a &quot;cat /tmp/authorized_keys &gt;&gt; /root/.ssh/authorized_keys&quot; -k</code></p>
<p>▲注意</p>
<blockquote>
<p><strong>如果被控制主机中用户家目录中不存在.ssh目录，就创建。</strong></p>
<p><strong>然后将上传的公钥文件追加到用户的authorized_keys文件中</strong></p>
</blockquote>
<p>法二:</p>
<p>通过authorized_key模块来进行添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ansible para -i /tmp/inventory.txt -m authorized_key -a <span class="string">"user=root key='&#123;&#123; lookup('file','/root/.ssh/id_rsa.pub') &#125;&#125;'"</span> -k</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>lookup('file','/root/.ssh/id_rsa.pub')</code> 是读取/root/.ssh/id_rsa.pub的内容</p>
</blockquote>
<p>一键挂载NFS:</p>
<p><code>ansible full -m mount -a &quot;name=/data src=192.168.100.179:/data fstype=nfs state=mounted&quot; -b -K</code></p>
<p>挂载需要用SUDO权限,所以-K必不可少.同时,在这之前已经使用过ssh进行了配对因此不需要输入登录用户密码.</p>
<p><code>ss -ntl | grep 80</code></p>
<p><code>vim /etc/sysconfig/network-scripts/ifcfg-eth0</code>建议可以使用Alias</p>
<p><code>service network restart</code>重启网络服务</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2019/07/08/自动化运维工具Ansible/" data-id="cjzyy2kmz00fsk829cfocb0cx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/运维/">运维</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/07/13/通过XDRP实现Windows远程访问ubuntu桌面/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          通过XDRP实现Windows远程访问ubuntu桌面
        
      </div>
    </a>
  
  
    <a href="/2019/07/07/staticmethod和classmethod区别/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">staticmethod和classmethod区别</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM/">ACM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM竞赛入门/">ACM竞赛入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/">Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Au/">Au</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DP/">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/">Django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English-Speaking/">English Speaking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Latex/">Latex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Matlab/">Matlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NJUPT/">NJUPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postman/">Postman</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pythton/">Pythton</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sublime-Text/">Sublime Text</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WAMP/">WAMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Window10/">Window10</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lua/">lua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/信号处理/">信号处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图像处理/">图像处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图论/">图论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多媒体/">多媒体</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学业/">学业</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安利/">安利</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实验作业/">实验作业</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信小程序/">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学建模/">数学建模</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学知识/">数学知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模拟操作/">模拟操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境部署/">环境部署</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境配置/">环境配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活小记/">生活小记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活福利/">生活福利</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程序开发经验/">程序开发经验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程序设计/">程序设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线性筛/">线性筛</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络知识/">网络知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自动化运维/">自动化运维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机基础知识/">计算机基础知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机知识/">计算机知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机网络知识/">计算机网络知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪心/">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/运维/">运维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邮件/">邮件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/配置环境/">配置环境</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ACM/" style="font-size: 17.86px;">ACM</a> <a href="/tags/ACM竞赛入门/" style="font-size: 12.14px;">ACM竞赛入门</a> <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/Algorithm/" style="font-size: 10.71px;">Algorithm</a> <a href="/tags/Au/" style="font-size: 10px;">Au</a> <a href="/tags/C/" style="font-size: 12.86px;">C</a> <a href="/tags/C/" style="font-size: 17.86px;">C++</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/DP/" style="font-size: 10px;">DP</a> <a href="/tags/Django/" style="font-size: 11.43px;">Django</a> <a href="/tags/English-Speaking/" style="font-size: 10px;">English Speaking</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Latex/" style="font-size: 10px;">Latex</a> <a href="/tags/Linux/" style="font-size: 13.57px;">Linux</a> <a href="/tags/Matlab/" style="font-size: 10px;">Matlab</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NJUPT/" style="font-size: 17.14px;">NJUPT</a> <a href="/tags/Postman/" style="font-size: 10px;">Postman</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/Pythton/" style="font-size: 10px;">Pythton</a> <a href="/tags/Shell/" style="font-size: 10.71px;">Shell</a> <a href="/tags/Sublime-Text/" style="font-size: 11.43px;">Sublime Text</a> <a href="/tags/Ubuntu/" style="font-size: 11.43px;">Ubuntu</a> <a href="/tags/WAMP/" style="font-size: 10px;">WAMP</a> <a href="/tags/Web/" style="font-size: 10.71px;">Web</a> <a href="/tags/Window10/" style="font-size: 10px;">Window10</a> <a href="/tags/flask/" style="font-size: 14.29px;">flask</a> <a href="/tags/git/" style="font-size: 11.43px;">git</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/java/" style="font-size: 16.43px;">java</a> <a href="/tags/linux/" style="font-size: 12.86px;">linux</a> <a href="/tags/lua/" style="font-size: 10px;">lua</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/信号处理/" style="font-size: 10.71px;">信号处理</a> <a href="/tags/前端/" style="font-size: 14.29px;">前端</a> <a href="/tags/后端/" style="font-size: 15.71px;">后端</a> <a href="/tags/图像处理/" style="font-size: 10.71px;">图像处理</a> <a href="/tags/图论/" style="font-size: 10.71px;">图论</a> <a href="/tags/多媒体/" style="font-size: 10px;">多媒体</a> <a href="/tags/学业/" style="font-size: 11.43px;">学业</a> <a href="/tags/安利/" style="font-size: 10px;">安利</a> <a href="/tags/实验作业/" style="font-size: 10px;">实验作业</a> <a href="/tags/微信小程序/" style="font-size: 12.14px;">微信小程序</a> <a href="/tags/数学建模/" style="font-size: 10px;">数学建模</a> <a href="/tags/数学知识/" style="font-size: 10px;">数学知识</a> <a href="/tags/数据库/" style="font-size: 11.43px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 14.29px;">数据结构</a> <a href="/tags/服务器/" style="font-size: 11.43px;">服务器</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/模拟操作/" style="font-size: 10px;">模拟操作</a> <a href="/tags/深度学习/" style="font-size: 10px;">深度学习</a> <a href="/tags/爬虫/" style="font-size: 18.57px;">爬虫</a> <a href="/tags/环境部署/" style="font-size: 14.29px;">环境部署</a> <a href="/tags/环境配置/" style="font-size: 19.29px;">环境配置</a> <a href="/tags/生活小记/" style="font-size: 11.43px;">生活小记</a> <a href="/tags/生活福利/" style="font-size: 12.86px;">生活福利</a> <a href="/tags/程序开发经验/" style="font-size: 10px;">程序开发经验</a> <a href="/tags/程序设计/" style="font-size: 10px;">程序设计</a> <a href="/tags/笔记/" style="font-size: 10px;">笔记</a> <a href="/tags/线性筛/" style="font-size: 10px;">线性筛</a> <a href="/tags/网络知识/" style="font-size: 10px;">网络知识</a> <a href="/tags/自动化运维/" style="font-size: 12.86px;">自动化运维</a> <a href="/tags/计算机基础知识/" style="font-size: 17.14px;">计算机基础知识</a> <a href="/tags/计算机知识/" style="font-size: 10px;">计算机知识</a> <a href="/tags/计算机网络知识/" style="font-size: 16.43px;">计算机网络知识</a> <a href="/tags/贪心/" style="font-size: 10px;">贪心</a> <a href="/tags/运维/" style="font-size: 10.71px;">运维</a> <a href="/tags/邮件/" style="font-size: 10px;">邮件</a> <a href="/tags/配置环境/" style="font-size: 10px;">配置环境</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/30/机器学习——决策树/">机器学习——决策树</a>
          </li>
        
          <li>
            <a href="/2019/08/30/Sklearn——决策树/">Sklearn——决策树</a>
          </li>
        
          <li>
            <a href="/2019/08/30/ACM-博弈论/">ACM-博弈论</a>
          </li>
        
          <li>
            <a href="/2019/08/30/Linux三剑客/">Linux三剑客</a>
          </li>
        
          <li>
            <a href="/2019/08/30/2019-6月编程笔记/">2019_6月编程笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 果粒橙<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>
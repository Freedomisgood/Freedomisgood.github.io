<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Keras使用——图像增强 | 果粒橙的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Keras使用——图像增强  使用Keras进行深度学习的图像增强（Image Augmentation）  Keras是一个高层神经网络API，Keras由纯Python编写而成并基Tensorflow、Theano以及CNTK后端。 Keras为支持快速实验而生，能够把你的idea迅速转换为结果，如果你有如下需求，请选择Keras：  简易和快速的原型设计（keras具有高度模块化，极简，和">
<meta name="keywords" content="图像处理,深度学习">
<meta property="og:type" content="article">
<meta property="og:title" content="Keras使用——图像增强">
<meta property="og:url" content="https://nymrli.top/2019/05/27/Keras使用——图像增强/index.html">
<meta property="og:site_name" content="果粒橙的博客">
<meta property="og:description" content="Keras使用——图像增强  使用Keras进行深度学习的图像增强（Image Augmentation）  Keras是一个高层神经网络API，Keras由纯Python编写而成并基Tensorflow、Theano以及CNTK后端。 Keras为支持快速实验而生，能够把你的idea迅速转换为结果，如果你有如下需求，请选择Keras：  简易和快速的原型设计（keras具有高度模块化，极简，和">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-05-27T13:52:52.924Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Keras使用——图像增强">
<meta name="twitter:description" content="Keras使用——图像增强  使用Keras进行深度学习的图像增强（Image Augmentation）  Keras是一个高层神经网络API，Keras由纯Python编写而成并基Tensorflow、Theano以及CNTK后端。 Keras为支持快速实验而生，能够把你的idea迅速转换为结果，如果你有如下需求，请选择Keras：  简易和快速的原型设计（keras具有高度模块化，极简，和">
  
    <link rel="alternate" href="/atom.xml" title="果粒橙的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">

  <link href="https://cdn.bootcss.com/KaTeX/0.7.1/katex.min.css" rel="stylesheet">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">果粒橙的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">别装作很努力，结局不会陪你演戏。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://nymrli.top"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="p-Keras使用——图像增强" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/27/Keras使用——图像增强/" class="article-date">
  <time datetime="2019-05-27T13:52:14.000Z" itemprop="datePublished">2019-05-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Keras使用——图像增强
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="keras使用图像增强"><a class="markdownIt-Anchor" href="#keras使用图像增强"></a> Keras使用——图像增强</h1>
<h2 id="使用keras进行深度学习的图像增强image-augmentation"><a class="markdownIt-Anchor" href="#使用keras进行深度学习的图像增强image-augmentation"></a> 使用Keras进行深度学习的图像增强（Image Augmentation）</h2>
<blockquote>
<p>Keras是一个高层神经网络API，Keras由纯Python编写而成并基Tensorflow、Theano以及CNTK后端。<br>
Keras为支持快速实验而生，能够把你的idea迅速转换为结果，如果你有如下需求，请选择Keras：</p>
<ul>
<li>简易和快速的原型设计（keras具有高度模块化，极简，和可扩充特性）</li>
<li>支持CNN和RNN，或二者的结合</li>
<li>无缝CPU和GPU切换</li>
</ul>
</blockquote>
<h3 id="imagedatagenerator"><a class="markdownIt-Anchor" href="#imagedatagenerator"></a> ImageDataGenerator</h3>
<p>Keras提供了ImageDataGenerator类，定义关于图片准备和增强的配置。包括以下功能：样本级的标准化特征级的标准化ZCA白化.随机旋转、转换、剪切、翻转维度重排.将增强的图片保存在本地.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.preprocessing.image <span class="keyword">import</span> ImageDataGenerator, array_to_img, img_to_array, load_img</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">Datagen = ImageDataGenerator(rotation_range=<span class="number">20</span>,</span><br><span class="line">        shear_range=<span class="number">0.2</span>,</span><br><span class="line">        zoom_range=<span class="number">0.2</span>,</span><br><span class="line">        horizontal_flip=<span class="keyword">True</span>,</span><br><span class="line">        vertical_flip = <span class="keyword">True</span>,</span><br><span class="line">        fill_mode=<span class="string">'nearest'</span>)</span><br><span class="line"><span class="keyword">for</span> file_name <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>):</span><br><span class="line">    <span class="keyword">if</span> file_name ==<span class="string">'.config'</span> <span class="keyword">or</span> file_name == <span class="string">'sample_data'</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    img = load_img(file_name)</span><br><span class="line">    x_img = img_to_array(img)</span><br><span class="line">    x_img = x_img.reshape((<span class="number">1</span>,)+ x_img.shape)</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> img_batch <span class="keyword">in</span> Datagen.flow(x_img,</span><br><span class="line">                  batch_size=<span class="number">32</span>,</span><br><span class="line">                  save_to_dir=<span class="string">'.'</span>,</span><br><span class="line">                  save_prefix=<span class="string">'candy'</span>,</span><br><span class="line">                  save_format=<span class="string">'jpg'</span>):</span><br><span class="line">        i +=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> i &gt; <span class="number">10</span>:</span><br><span class="line">           <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<h4 id="imagedatagenerator参数详解及用法实例"><a class="markdownIt-Anchor" href="#imagedatagenerator参数详解及用法实例"></a> ImageDataGenerator参数详解及用法实例</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">keras.preprocessing.image.ImageDataGenerator(featurewise_center=<span class="keyword">False</span>,</span><br><span class="line">    samplewise_center=<span class="keyword">False</span>,</span><br><span class="line">    featurewise_std_normalization=<span class="keyword">False</span>,</span><br><span class="line">    samplewise_std_normalization=<span class="keyword">False</span>,</span><br><span class="line">    zca_whitening=<span class="keyword">False</span>,</span><br><span class="line">    zca_epsilon=<span class="number">1e-6</span>,</span><br><span class="line">    rotation_range=<span class="number">0.</span>,</span><br><span class="line">    width_shift_range=<span class="number">0.</span>,</span><br><span class="line">    height_shift_range=<span class="number">0.</span>,</span><br><span class="line">    shear_range=<span class="number">0.</span>,</span><br><span class="line">    zoom_range=<span class="number">0.</span>,</span><br><span class="line">    channel_shift_range=<span class="number">0.</span>,</span><br><span class="line">    fill_mode=<span class="string">'nearest'</span>,</span><br><span class="line">    cval=<span class="number">0.</span>,</span><br><span class="line">    horizontal_flip=<span class="keyword">False</span>,</span><br><span class="line">    vertical_flip=<span class="keyword">False</span>,</span><br><span class="line">    rescale=<span class="keyword">None</span>,</span><br><span class="line">    preprocessing_function=<span class="keyword">None</span>,</span><br><span class="line">    data_format=K.image_data_format())</span><br></pre></td></tr></table></figure>
<p>▲用以生成一个batch的图像数据，支持实时数据提升。训练时该函数会无限生成数据，直到达到规定的epoch次数为止。</p>
<blockquote>
<ul>
<li>featurewise_center：布尔值，使输入数据集去中心化（均值为0）, 按feature执行</li>
<li>samplewise_center：布尔值，使输入数据的每个样本均值为0</li>
<li>featurewise_std_normalization：布尔值，将输入除以数据集的标准差以完成标准化, 按feature执行</li>
<li>samplewise_std_normalization：布尔值，将输入的每个样本除以其自身的标准差</li>
<li>zca_whitening：布尔值，对输入数据施加ZCA白化</li>
<li>zca_epsilon: ZCA使用的eposilon，默认1e-6</li>
<li>rotation_range：整数，数据提升时图片随机转动的角度</li>
<li>width_shift_range：浮点数，图片宽度的某个比例，数据提升时图片水平偏移的幅度</li>
<li>height_shift_range：浮点数，图片高度的某个比例，数据提升时图片竖直偏移的幅度</li>
<li>shear_range：浮点数，剪切强度（逆时针方向的剪切变换角度）</li>
<li>zoom_range：浮点数或形如[lower,upper]的列表，随机缩放的幅度，若为浮点数，则相当于[lower,upper] = [1 - zoom_range, 1+zoom_range]</li>
<li>channel_shift_range：浮点数，随机通道偏移的幅度</li>
<li>fill_mode：；‘constant’，‘nearest’，‘reflect’或‘wrap’之一，当进行变换时超出边界的点将根据本参数给定的方法进行处理</li>
<li>cval：浮点数或整数，当fill_mode=constant时，指定要向超出边界的点填充的值</li>
<li>horizontal_flip：布尔值，进行随机水平翻转</li>
<li>vertical_flip：布尔值，进行随机竖直翻转</li>
<li>rescale: 重放缩因子,默认为None. 如果为None或0则不进行放缩,否则会将该数值乘到数据上(在应用其他变换之前)</li>
<li>preprocessing_function: 将被应用于每个输入的函数。该函数将在图片缩放和数据提升之后运行。该函数接受一个参数，为一张图片（秩为3的numpy array），并且输出一个具有相同shape的numpy array</li>
<li>data_format：字符串，“channel_first”或“channel_last”之一，代表图像的通道维的位置。该参数是Keras 1.x中的image_dim_ordering，“channel_last”对应原本的“tf”，“channel_first”对应原本的“th”。以128x128的RGB图像为例，“channel_first”应将数据组织为（3,128,128），而“channel_last”应将数据组织为（128,128,3）。该参数的默认值是~/.keras/keras.json中设置的值，若从未设置过，则为“channel_last”</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.preprocessing.image <span class="keyword">import</span> ImageDataGenerator, array_to_img, img_to_array, load_img</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">Datagen = ImageDataGenerator(</span><br><span class="line">        rotation_range=<span class="number">5</span>,<span class="comment">#图片随机翻转的角度</span></span><br><span class="line">        width_shift_range=[<span class="number">0</span>,<span class="number">0.15</span>],</span><br><span class="line">        height_shift_range=[<span class="number">0</span>,<span class="number">0.2</span>],</span><br><span class="line">        zoom_range=[<span class="number">0.8</span>,<span class="number">1.5</span>], <span class="comment">#随机放大</span></span><br><span class="line">        zca_whitening=<span class="keyword">True</span>,</span><br><span class="line">        brightness_range=[<span class="number">0.1</span>, <span class="number">1.5</span>] ,    </span><br><span class="line">        fill_mode=<span class="string">'nearest'</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">IMG_PATH = <span class="string">'./images'</span></span><br><span class="line">OUT_PATH = <span class="string">'./add'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for i in os.listdir(OUT_PATH):</span></span><br><span class="line"><span class="comment">#     if i.startswith('N'):</span></span><br><span class="line"><span class="comment">#         os.remove(os.path.join(OUT_PATH,i) )</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> file_name <span class="keyword">in</span> os.listdir(IMG_PATH):</span><br><span class="line">    img = load_img( os.path.join(IMG_PATH,file_name) )</span><br><span class="line">    x_img = img_to_array(img)</span><br><span class="line">    x_img = x_img.reshape( (<span class="number">1</span>,)+ x_img.shape )</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span>( <span class="keyword">not</span> os.path.exists( os.path.join( OUT_PATH,file_name ) ) ):</span><br><span class="line">        os.mkdir( os.path.join( OUT_PATH,file_name ))</span><br><span class="line">    <span class="keyword">for</span> img_batch <span class="keyword">in</span> Datagen.flow(x_img,</span><br><span class="line">                  batch_size=<span class="number">2</span>, <span class="comment">#batch_size一次增强的图片个数</span></span><br><span class="line">                  save_to_dir= os.path.join(OUT_PATH,file_name),</span><br><span class="line">                  save_prefix=<span class="string">'N'</span>,</span><br><span class="line">                  save_format=<span class="string">'jpg'</span>):</span><br><span class="line">        i +=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">80</span>:</span><br><span class="line">           <span class="keyword">break</span></span><br><span class="line">print(<span class="string">'done'</span>)</span><br></pre></td></tr></table></figure>
<p>参考资料：</p>
<p><a href="https://blog.csdn.net/jacke121/article/details/79245732#commentBox" target="_blank" rel="noopener">参数说明</a></p>
<p><a href="https://keras.io/zh/preprocessing/image/" target="_blank" rel="noopener">keras中文手册</a></p>
<p><a href="https://www.cnblogs.com/hutao722/p/10075150.html" target="_blank" rel="noopener">https://www.cnblogs.com/hutao722/p/10075150.html</a></p>
<p><a href="https://www.cnblogs.com/hutao722/p/10075150.html" target="_blank" rel="noopener">https://www.cnblogs.com/hutao722/p/10075150.html</a></p>
<h3 id="flow_from_directory实现从文件夹中提取图片和进行简单归一化处理"><a class="markdownIt-Anchor" href="#flow_from_directory实现从文件夹中提取图片和进行简单归一化处理"></a> flow_from_directory实现从文件夹中提取图片和进行简单归一化处理</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">flow_from_directory(self, directory,</span><br><span class="line">                            target_size=(<span class="number">256</span>, <span class="number">256</span>), color_mode=<span class="string">'rgb'</span>,</span><br><span class="line">                            classes=<span class="keyword">None</span>, class_mode=<span class="string">'categorical'</span>,</span><br><span class="line">                            batch_size=<span class="number">32</span>, shuffle=<span class="keyword">True</span>, seed=<span class="keyword">None</span>,</span><br><span class="line">                            save_to_dir=<span class="keyword">None</span>,</span><br><span class="line">                            save_prefix=<span class="string">''</span>,</span><br><span class="line">                            save_format=<span class="string">'jpeg'</span>,</span><br><span class="line">                            follow_links=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<p>最值得注意的是directory这个参数：</p>
<blockquote>
<p>directory: path to the target directory. It should contain one subdirectory per class. Any PNG, JPG, BMP, PPM or TIF images inside each of the subdirectories directory tree will be included in the generator.</p>
</blockquote>
<p>这是官方文档的定义，它的目录格式一定要注意是包含一个子目录下的所有图片这种格式，driectoty路径只要写到标签路径上面的那个路径即可。</p>
<ul>
<li>target_size：可是实现对图片的尺寸转换，是预处理中比较常用的方法</li>
<li>save_to_dir: 可以设置保存处理后图片的路径。</li>
<li>save_prefix: 可以对处理后图片设置前缀。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span>  plt</span><br><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> keras.preprocessing <span class="keyword">import</span> image</span><br><span class="line"> </span><br><span class="line">path = <span class="string">'train/'</span></span><br><span class="line">gen_path = <span class="string">'result/'</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_result</span><span class="params">(path)</span>:</span></span><br><span class="line">    name_list = glob.glob(path)</span><br><span class="line">    fig = plt.figure()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">9</span>):</span><br><span class="line">        img = Image.open(name_list[i])</span><br><span class="line">        <span class="comment"># add_subplot(331) 参数一：子图总行数，参数二：子图总列数，参数三：子图位置</span></span><br><span class="line">        sub_img = fig.add_subplot(<span class="number">331</span> + i)</span><br><span class="line">        sub_img.imshow(img)</span><br><span class="line">    plt.show()</span><br><span class="line">    <span class="keyword">return</span> fig</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 打印图片列表</span></span><br><span class="line">name_list = glob.glob(path + <span class="string">'*/*'</span>)</span><br><span class="line">print(name_list)</span><br><span class="line"><span class="comment"># ['train\\00a366d4b4a9bbb6c8a63126697b7656.jpg', 'train\\00f34ac0a16ef43e6fd1de49a26081ce.jpg', 'train\\0a5f744c5077ad8f8d580081ba599ff5.jpg', 'train\\0a70f64352edfef4c82c22015f0e3a20.jpg', 'train\\0a783538d5f3aaf017b435ddf14cc5c2.jpg', 'train\\0a896d2b3af617df543787b571e439d8.jpg', 'train\\0abdda879bb143b19e3c480279541915.jpg', 'train\\0ac12f840df2b15d46622e244501a88c.jpg', 'train\\0b6c5bc46b7a0e29cddfa45b0b786d09.jpg']</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 打印图片</span></span><br><span class="line">fig = print_result(path + <span class="string">'*/*'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 保存图片</span></span><br><span class="line">fig.savefig(gen_path + <span class="string">'/original_0.png'</span>, dpi=<span class="number">200</span>, papertype=<span class="string">'a5'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 原图</span></span><br><span class="line">datagen = image.ImageDataGenerator()</span><br><span class="line">gen_data = datagen.flow_from_directory(path, batch_size=<span class="number">1</span>, shuffle=<span class="keyword">False</span>, save_to_dir=gen_path ,</span><br><span class="line">                                       save_prefix=<span class="string">'dog_gen'</span>, target_size=(<span class="number">224</span>, <span class="number">224</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">9</span>):</span><br><span class="line">    gen_data.next()</span><br><span class="line"> </span><br><span class="line">fig = print_result(gen_path + <span class="string">'/*'</span>)</span><br><span class="line">fig.savefig(gen_path + <span class="string">'/original_1.png'</span>, dpi=<span class="number">200</span>, papertype=<span class="string">'a5'</span>)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2019/05/27/Keras使用——图像增强/" data-id="cjzyy2kmd00evk82992zyhh4b" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/图像处理/">图像处理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/深度学习/">深度学习</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/05/27/Google-Colab使用/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Google Colab使用
        
      </div>
    </a>
  
  
    <a href="/2019/05/27/Python机器学习及实践——从零开始通往Kaggle竞赛之路/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Python机器学习及实践——从零开始通往Kaggle竞赛之路</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM/">ACM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM竞赛入门/">ACM竞赛入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/">Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Au/">Au</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DP/">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/">Django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English-Speaking/">English Speaking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Latex/">Latex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Matlab/">Matlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NJUPT/">NJUPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postman/">Postman</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pythton/">Pythton</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sublime-Text/">Sublime Text</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WAMP/">WAMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Window10/">Window10</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lua/">lua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/信号处理/">信号处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图像处理/">图像处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图论/">图论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多媒体/">多媒体</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学业/">学业</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安利/">安利</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实验作业/">实验作业</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信小程序/">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学建模/">数学建模</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学知识/">数学知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模拟操作/">模拟操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境部署/">环境部署</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境配置/">环境配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活小记/">生活小记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活福利/">生活福利</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程序开发经验/">程序开发经验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程序设计/">程序设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线性筛/">线性筛</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络知识/">网络知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自动化运维/">自动化运维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机基础知识/">计算机基础知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机知识/">计算机知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机网络知识/">计算机网络知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪心/">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/运维/">运维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邮件/">邮件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/配置环境/">配置环境</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ACM/" style="font-size: 17.86px;">ACM</a> <a href="/tags/ACM竞赛入门/" style="font-size: 12.14px;">ACM竞赛入门</a> <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/Algorithm/" style="font-size: 10.71px;">Algorithm</a> <a href="/tags/Au/" style="font-size: 10px;">Au</a> <a href="/tags/C/" style="font-size: 12.86px;">C</a> <a href="/tags/C/" style="font-size: 17.86px;">C++</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/DP/" style="font-size: 10px;">DP</a> <a href="/tags/Django/" style="font-size: 11.43px;">Django</a> <a href="/tags/English-Speaking/" style="font-size: 10px;">English Speaking</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Latex/" style="font-size: 10px;">Latex</a> <a href="/tags/Linux/" style="font-size: 13.57px;">Linux</a> <a href="/tags/Matlab/" style="font-size: 10px;">Matlab</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NJUPT/" style="font-size: 17.14px;">NJUPT</a> <a href="/tags/Postman/" style="font-size: 10px;">Postman</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/Pythton/" style="font-size: 10px;">Pythton</a> <a href="/tags/Shell/" style="font-size: 10.71px;">Shell</a> <a href="/tags/Sublime-Text/" style="font-size: 11.43px;">Sublime Text</a> <a href="/tags/Ubuntu/" style="font-size: 11.43px;">Ubuntu</a> <a href="/tags/WAMP/" style="font-size: 10px;">WAMP</a> <a href="/tags/Web/" style="font-size: 10.71px;">Web</a> <a href="/tags/Window10/" style="font-size: 10px;">Window10</a> <a href="/tags/flask/" style="font-size: 14.29px;">flask</a> <a href="/tags/git/" style="font-size: 11.43px;">git</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/java/" style="font-size: 16.43px;">java</a> <a href="/tags/linux/" style="font-size: 12.86px;">linux</a> <a href="/tags/lua/" style="font-size: 10px;">lua</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/信号处理/" style="font-size: 10.71px;">信号处理</a> <a href="/tags/前端/" style="font-size: 14.29px;">前端</a> <a href="/tags/后端/" style="font-size: 15.71px;">后端</a> <a href="/tags/图像处理/" style="font-size: 10.71px;">图像处理</a> <a href="/tags/图论/" style="font-size: 10.71px;">图论</a> <a href="/tags/多媒体/" style="font-size: 10px;">多媒体</a> <a href="/tags/学业/" style="font-size: 11.43px;">学业</a> <a href="/tags/安利/" style="font-size: 10px;">安利</a> <a href="/tags/实验作业/" style="font-size: 10px;">实验作业</a> <a href="/tags/微信小程序/" style="font-size: 12.14px;">微信小程序</a> <a href="/tags/数学建模/" style="font-size: 10px;">数学建模</a> <a href="/tags/数学知识/" style="font-size: 10px;">数学知识</a> <a href="/tags/数据库/" style="font-size: 11.43px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 14.29px;">数据结构</a> <a href="/tags/服务器/" style="font-size: 11.43px;">服务器</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/模拟操作/" style="font-size: 10px;">模拟操作</a> <a href="/tags/深度学习/" style="font-size: 10px;">深度学习</a> <a href="/tags/爬虫/" style="font-size: 18.57px;">爬虫</a> <a href="/tags/环境部署/" style="font-size: 14.29px;">环境部署</a> <a href="/tags/环境配置/" style="font-size: 19.29px;">环境配置</a> <a href="/tags/生活小记/" style="font-size: 11.43px;">生活小记</a> <a href="/tags/生活福利/" style="font-size: 12.86px;">生活福利</a> <a href="/tags/程序开发经验/" style="font-size: 10px;">程序开发经验</a> <a href="/tags/程序设计/" style="font-size: 10px;">程序设计</a> <a href="/tags/笔记/" style="font-size: 10px;">笔记</a> <a href="/tags/线性筛/" style="font-size: 10px;">线性筛</a> <a href="/tags/网络知识/" style="font-size: 10px;">网络知识</a> <a href="/tags/自动化运维/" style="font-size: 12.86px;">自动化运维</a> <a href="/tags/计算机基础知识/" style="font-size: 17.14px;">计算机基础知识</a> <a href="/tags/计算机知识/" style="font-size: 10px;">计算机知识</a> <a href="/tags/计算机网络知识/" style="font-size: 16.43px;">计算机网络知识</a> <a href="/tags/贪心/" style="font-size: 10px;">贪心</a> <a href="/tags/运维/" style="font-size: 10.71px;">运维</a> <a href="/tags/邮件/" style="font-size: 10px;">邮件</a> <a href="/tags/配置环境/" style="font-size: 10px;">配置环境</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/30/机器学习——决策树/">机器学习——决策树</a>
          </li>
        
          <li>
            <a href="/2019/08/30/Sklearn——决策树/">Sklearn——决策树</a>
          </li>
        
          <li>
            <a href="/2019/08/30/ACM-博弈论/">ACM-博弈论</a>
          </li>
        
          <li>
            <a href="/2019/08/30/Linux三剑客/">Linux三剑客</a>
          </li>
        
          <li>
            <a href="/2019/08/30/2019-6月编程笔记/">2019_6月编程笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 果粒橙<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>
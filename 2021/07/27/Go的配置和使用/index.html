<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="author" content="Mrli"><meta name="renderer" content="webkit"><meta name="copyright" content="Mrli"><meta name="keywords" content="Mrli's Blog"><meta name="description" content="想和你讲，说了会心动 ，缄默会心安。"><meta name="Cache-Control" content="no-cache"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Go的配置和使用 · Mr.li's Blog</title><link rel="stylesheet" href="/css/style.css?v=2018.7.9"><link rel="stylesheet" href="/css/animation.css?v=2018.7.9"><link rel="icon" href="/img/assets/favicon.ico"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><!-- scripts--><script>(function( w ){
  "use strict";
  // rel=preload support test
  if( !w.loadCSS ){
    w.loadCSS = function(){};
  }
  // define on the loadCSS obj
  var rp = loadCSS.relpreload = {};
  // rel=preload feature support test
  // runs once and returns a function for compat purposes
  rp.support = (function(){
    var ret;
    try {
      ret = w.document.createElement( "link" ).relList.supports( "preload" );
    } catch (e) {
      ret = false;
    }
    return function(){
      return ret;
    };
  })();

  // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
  // then change that media back to its intended value on load
  rp.bindMediaToggle = function( link ){
    // remember existing media attr for ultimate state, or default to 'all'
    var finalMedia = link.media || "all";

    function enableStylesheet(){
      link.media = finalMedia;
    }

    // bind load handlers to enable media
    if( link.addEventListener ){
      link.addEventListener( "load", enableStylesheet );
    } else if( link.attachEvent ){
      link.attachEvent( "onload", enableStylesheet );
    }

    // Set rel and non-applicable media type to start an async request
    // note: timeout allows this to happen async to let rendering continue in IE
    setTimeout(function(){
      link.rel = "stylesheet";
      link.media = "only x";
    });
    // also enable media after 3 seconds,
    // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
    setTimeout( enableStylesheet, 3000 );
  };

  // loop through link elements in DOM
  rp.poly = function(){
    // double check this to prevent external calls from running
    if( rp.support() ){
      return;
    }
    var links = w.document.getElementsByTagName( "link" );
    for( var i = 0; i < links.length; i++ ){
      var link = links[ i ];
      // qualify links to those with rel=preload and as=style attrs
      if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
        // prevent rerunning on link
        link.setAttribute( "data-loadcss", true );
        // bind listeners to toggle media back
        rp.bindMediaToggle( link );
      }
    }
  };

  // if unsupported, run the polyfill
  if( !rp.support() ){
    // run once at least
    rp.poly();

    // rerun poly on an interval until onload
    var run = w.setInterval( rp.poly, 500 );
    if( w.addEventListener ){
      w.addEventListener( "load", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    } else if( w.attachEvent ){
      w.attachEvent( "onload", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    }
  }


  // commonjs
  if( typeof exports !== "undefined" ){
    exports.loadCSS = loadCSS;
  }
  else {
    w.loadCSS = loadCSS;
  }
}( typeof global !== "undefined" ? global : this ) );</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script><script src="/js/main.js?v=2018.7.9" defer></script><!-- fancybox--><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script><!-- busuanzi--><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></head><body><section class="profile-close" id="cxo-profile"><div class="profile-avatar"><i class="fa fa-caret-left"></i><img src="https://avatars1.githubusercontent.com/u/31088082?s=400&amp;u=7a99ff83916afb3f4c5312bd78a1be17fe0e34ed&amp;v=4"></div><!--.profile-saying
  i.fa.fa-comment
  .saying--><div class="cxo-profile-inner"><div class="profile-name">Mrli</div><div class="profile-signature">别装作很努力,<br>因为结局不会陪你演戏。</div><div class="contacts"><div>Contacts:</div><span><a href="http://sighttp.qq.com/msgrd?v=1&amp;uin=1063052964" target="_black">QQ</a></span><span><a href="https://www.cnblogs.com/nymrli/" target="_black">博客园</a></span></div><div class="read-progress"></div></div></section><header id="cxo-intro" style="height: 60vh;background-image: url(/img/intro/index-bg.png);"><nav id="cxo-intro-nav"><section><div class="intro-nav-title"><a href="/">Mr.li's Blog</a></div><div class="intro-nav-label-box"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div><i class="fa fa-bars intro-nav-menu"><div class="intro-nav-drop"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div></i><div class="clear"></div></section></nav><h1 class="post-title">Go的配置和使用</h1><div class="post-intros"><div class="post-intro-meta"><span class="post-intro-time"><i class="post-intro-calendar fa fa-edit"></i><span>2021/10/22</span></span><span class="busuanzi-pv" id="busuanzi_container_page_pv"><i class="post-intro-calendar fa fa-user-o"></i><span id="busuanzi_value_page_pv"></span></span><span class="post-intro-tags"><a class="intro-tag fa fa-tag" href="javascript:void(0)" date-tags="环境配置"> 环境配置</a><a class="intro-tag fa fa-tag" href="javascript:void(0)" date-tags="Go"> Go</a></span></div><div class="post-intro-read"><span> Word count: <span class="post-count">2,705</span> | Reading time: <span class="post-count">11</span>min</span></div></div></header><article class="cxo-up" id="cxo-content-outer"><section id="cxo-content-inner"><article class="article-entry" id="post"><h2 id="Go语法学习"><a href="#Go语法学习" class="headerlink" title="Go语法学习"></a>Go语法学习</h2><blockquote>
<p>Go 语言被设计成一门应用于搭载 <strong>Web 服务器</strong>，<strong>存储集群</strong>或类似用途的巨型中央服务器的系统编程语言。</p>
<p>对于高性能分布式系统领域而言，Go 语言无疑比大多数其它语言有着更高的开发效率。它提供了海量<strong>并行</strong>的支持，这对于游戏服务端的开发而言是再好不过了。</p>
</blockquote>
<h3 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h3><blockquote>
<p>变量来源于数学，是计算机语言中能储存计算结果或能表示值抽象概念。变量可以通过变量名访问。</p>
</blockquote>
<p>声明变量的一般形式是使用 var 关键字：</p>
<ul>
<li>第一种，指定变量类型，如果没有初始化，则变量默认为零值: <code>var identifier1, identifier2 type</code>==&gt;bool零值为false，int为0</li>
<li>第二种，根据值自行判定变量类型: <code>var v_name = value</code>, <code>var flag = true</code></li>
<li>使用<code>:=</code>,  := 是一个声明语句 —&gt; <strong>intVal := 1</strong> 相等于：<code>var intVal int</code>和<code>intVal =1</code></li>
</ul>
<p>注：<strong>如果变量已经使用 var 声明过了，再使用 \</strong>:=*<em> 声明变量，就产生编译错误*</em></p>
<h3 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function_name</span><span class="params">( [parameter list] )</span> [<span class="title">return_types</span>]</span> &#123;</span><br><span class="line">   函数体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>func：函数由 func 开始声明</li>
<li>function_name：函数名称，参数列表和返回值类型构成了函数签名。</li>
<li>parameter list：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数。</li>
<li>return_types：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。</li>
<li>函数体：函数定义的代码集合。</li>
</ul>
<p>注：Go的函数跟python一样能够返回多个返回值</p>
<h3 id="Go-语言接口"><a href="#Go-语言接口" class="headerlink" title="Go 语言接口"></a>Go 语言接口</h3><blockquote>
<p>Go 语言提供了另外一种数据类型即接口，它把所有的具有共性的方法定义在一起，<strong>任何其他类型只要实现了这些方法就是实现了这个接口</strong>(并不需要指定实现的是哪个接口的方法)。</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 定义接口 */</span></span><br><span class="line"><span class="keyword">type</span> interface_name <span class="keyword">interface</span> &#123;</span><br><span class="line">   method_name1 [return_type]</span><br><span class="line">   method_name2 [return_type]</span><br><span class="line">   method_name3 [return_type]</span><br><span class="line">   ...</span><br><span class="line">   method_namen [return_type]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 定义结构体 */</span></span><br><span class="line"><span class="keyword">type</span> struct_name <span class="keyword">struct</span> &#123;</span><br><span class="line">   <span class="comment">/* variables */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 实现接口方法 */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(struct_name_variable struct_name)</span> <span class="title">method_name1</span><span class="params">()</span> [<span class="title">return_type</span>]</span> &#123;</span><br><span class="line">   <span class="comment">/* 方法实现 */</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(struct_name_variable struct_name)</span> <span class="title">method_namen</span><span class="params">()</span> [<span class="title">return_type</span>]</span> &#123;</span><br><span class="line">   <span class="comment">/* 方法实现*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注：</p>
<ul>
<li><p>Go语言中不允许有没有使用的变量（函数可以）</p>
</li>
<li><p>if和for后面必须有大括号，即使只有一句也得有大括号</p>
</li>
<li><p>slice即切片，也是一种<strong>数据结构</strong>，它是数组的抽象， 通过<code>var identifier []type</code>声明或者<code>slice1 := make([]type, len)</code>创建，如<strong><code>s :=[] int {1,2,3 }</code></strong></p>
<ul>
<li>区分于数组：<code>var balance [10] float32</code>、<code>var balance = [5]float32{1000.0, 2.0, 3.4, 7.0, 50.0}</code>、<code>balance := [5]float32{1000.0, 2.0, 3.4, 7.0, 50.0}</code>、<strong><code>balance := [...]float32{1000.0, 2.0, 3.4, 7.0, 50.0}</code></strong></li>
</ul>
</li>
<li><p>map使用：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种</span></span><br><span class="line"><span class="keyword">var</span> countryCapitalMap <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span> <span class="comment">/*创建集合 */</span></span><br><span class="line">countryCapitalMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line"><span class="comment">// 第二种</span></span><br><span class="line">map_variable := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>go build</code>和<code>go install</code>区别</p>
<ul>
<li>go build 不能生成包文件, go install 可以生成包文件</li>
<li>go build 生成可执行文件在当前目录下； go install 生成可执行文件在bin目录下（<code>$GOPATH/bin</code>），如果环境变量指定了GOPATH，则可直接在cmd里输入文件，如<code>go install mycode.go</code>， 则编译好后可以直接在cmd里输入<code>mycode -fpath=..</code>, (fpath为flag要读取的参数)<ul>
<li>区别大致与<code>mvn package</code>和<code>mvn install</code>相同，都会把工程打包成jar文件，但package的位置在root/target下面,install会安装到mvn库下</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="切片与数组"><a href="#切片与数组" class="headerlink" title="切片与数组"></a>切片与数组</h2><p>定义</p>
<ul>
<li>数组是类型相同的元素的集合。例如，整数 5, 8, 9, 79, 76 的集合就构成了一个数组。Go不允许在数组中混合使用不同类型的元素（比如整数和字符串）。</li>
<li>切片（slice）是<u>建立在数组之上</u>的更方便，更灵活，更强大的数据结构。切片并不存储任何元素而只是<strong>对现有数组的引用</strong>。</li>
</ul>
<p>声明：</p>
<ul>
<li><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> variable_name [SIZE] variable_type		<span class="comment">// 声明了一个长度为 3 的整型数组。数组中的所有元素都被自动赋值为元素类型的 0 值</span></span><br><span class="line">a := [<span class="number">3</span>]<span class="keyword">int</span>&#123;<span class="number">12</span>, <span class="number">78</span>, <span class="number">50</span>&#125; <span class="comment">// shorthand declaration(速记声明) to create array</span></span><br><span class="line">a := [<span class="number">3</span>]<span class="keyword">int</span>&#123;<span class="number">12</span>&#125; 	<span class="comment">//	声明了一个长度为 3 的数组，但是只提供了一个初值 12。剩下的两个元素被自动赋值为 0</span></span><br><span class="line"> a := [...]<span class="keyword">int</span>&#123;<span class="number">12</span>, <span class="number">78</span>, <span class="number">50</span>&#125; <span class="comment">// ... makes the compiler determine the length自动推导</span></span><br></pre></td></tr></table></figure>
</li>
<li><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a := [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>&#125;</span><br><span class="line"><span class="keyword">var</span> b []<span class="keyword">int</span> = a[<span class="number">1</span>:<span class="number">4</span>] <span class="comment">//  创建了一个从 a[1] 到 a[3] 的切片</span></span><br><span class="line"></span><br><span class="line">c := []<span class="keyword">int</span>&#123;<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125; <span class="comment">// 创建了一个长度为 3 的 int 数组，并返回一个切片给 c。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 内置函数 func make([]T, len, cap) []T 可以用来创建切片，该函数接受长度和容量作参数，返回切片。容量是可选的，默认与长度相同。使用 make 函数将会创建一个数组并返回它的切片。</span></span><br><span class="line">i := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">5</span>, <span class="number">5</span>)		<span class="comment">// 用 make 创建的长度和容量为5的数组并返回其切片，元素值默认为 0 值</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>元素类型为 <code>T</code> 的切片表示为： <code>[]T</code>。</p>
</li>
</ul>
<p>注：</p>
<ul>
<li><strong>数组是值类型</strong>：<ul>
<li>在 Go 中数组是值类型而不是引用类型。这意味着当数组变量被赋值时，将会获得原数组（<em>译者注：也就是等号右面的数组</em>）的拷贝。新数组中元素的改变不会影响原数组中元素的值。</li>
<li>如果将数组作为参数传递给函数，仍然是值传递，在函数中对（作为参数传入的）数组的修改不会造成原数组的改变</li>
</ul>
</li>
<li>切片本身不包含任何数据。它仅仅是底层数组的一个上层表示。对切片进行的任何修改都将反映在底层数组中。</li>
<li>想修改数组内容的时候，函数中传递数组的切片：当将一个切片作为参数传递给一个函数时，虽然是值传递，但是指针始终指向同一个数组。因此将切片作为参数传给函数时，函数对该切片的修改在函数外部也可以看到。</li>
</ul>
<h2 id="make"><a href="#make" class="headerlink" title="make"></a>make</h2><blockquote>
<p>golang 分配内存主要有内置函数new和make，make只能为slice, map, channel分配内存，并返回一个初始化的值。</p>
</blockquote>
<p>首先来看下make有以下几种不同的用法：</p>
<ol>
<li><p>make(map[string]string)</p>
<p>缺少长度的参数，只传类型，这种用法只能用在类型为map或chan的场景，例如make([]int)是会报错的。这样返回的空间长度都是默认为0的。</p>
</li>
<li><p>make([]int, 2)</p>
<p>指定了长度，例如make([]int, 2)返回的是一个长度为2的slice</p>
</li>
<li><p>make([]int, 2, 4)</p>
<p>第二参数指定的是切片的长度，第三个参数是用来指定预留的空间长度，例如a := make([]int, 2, 4), 这里值得注意的是返回的切片a的总长度是4，预留的意思并不是另外多出来4的长度，其实是包含了前面2个已经切片的个数的。所以举个例子当你这样用的时候 a := make([]int, 4, 2)，就会报语法错误。(当我们为slice分配内存的时候，应当尽量预估到slice可能的最大长度，通过给make传第三个参数的方式来给slice预留好内存空间，这样可以避免二次分配内存带来的开销，大大提高程序的性能。)</p>
</li>
<li><p>通道</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)                 <span class="comment">// 创建一个整型类型的通道</span></span><br><span class="line">ch2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">interface</span>&#123;&#125;)         <span class="comment">// 创建一个空接口类型的通道, 可以存放任意格式</span></span><br><span class="line"><span class="keyword">type</span> Equip <span class="keyword">struct</span>&#123; <span class="comment">/* 一些字段 */</span> &#125;</span><br><span class="line">ch2 := <span class="built_in">make</span>(<span class="keyword">chan</span> *Equip)             <span class="comment">// 创建Equip指针类型的通道, 可以存放*Equip</span></span><br><span class="line"></span><br><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> &lt;- <span class="keyword">int</span>, <span class="number">2</span>)			<span class="comment">// 创建一个只接收的通道，且缓冲大小为2</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Vscode中配置Go"><a href="#Vscode中配置Go" class="headerlink" title="Vscode中配置Go"></a>Vscode中配置Go</h2><h3 id="1-首先安装好Go"><a href="#1-首先安装好Go" class="headerlink" title="1.首先安装好Go"></a>1.首先<a href="https://gomirrors.org/" target="_blank" rel="noopener">安装好Go</a></h3><h3 id="2-vscode中下载Go环境插件"><a href="#2-vscode中下载Go环境插件" class="headerlink" title="2.vscode中下载Go环境插件"></a>2.vscode中下载Go环境插件</h3><p><img src="https://i.loli.net/2021/07/27/K8MeLk2fh7O5wAR.png" alt=""></p>
<h3 id="3-安装Go程序插件"><a href="#3-安装Go程序插件" class="headerlink" title="3.安装Go程序插件"></a>3.安装Go程序插件</h3><blockquote>
<p>Go语言开发的时候为我们提供诸如代码提示、代码自动补全等功能。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 打开输入框</span></span><br><span class="line">ctrl + shift + p </span><br><span class="line"><span class="meta">#</span><span class="bash"> 输入</span></span><br><span class="line">Go:Install/Update Tools</span><br></pre></td></tr></table></figure>
<p>▲由于网络问题会无法安装插件，网上老版的方法是在Go目录下从github手动下载好文件，但亲测无效，转而采用新方法如下。</p>
<h4 id="先设置GOPROXY"><a href="#先设置GOPROXY" class="headerlink" title="先设置GOPROXY"></a>先设置<code>GOPROXY</code></h4><ul>
<li>打开终端执行以下命令：<code>go env -w GOPROXY=https://goproxy.cn,direct</code></li>
<li>环境配置中按照<a href="https://goproxy.io/zh/中写的配置Goproxy" target="_blank" rel="noopener">https://goproxy.io/zh/中写的配置Goproxy</a></li>
</ul>
<h4 id="重试下载插件"><a href="#重试下载插件" class="headerlink" title="重试下载插件"></a>重试下载插件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 打开输入框</span></span><br><span class="line">ctrl + shift + p </span><br><span class="line"><span class="meta">#</span><span class="bash"> 输入</span></span><br><span class="line">Go:Install/Update Tools</span><br></pre></td></tr></table></figure>
<h4 id="设置插件配置"><a href="#设置插件配置" class="headerlink" title="设置插件配置"></a>设置插件配置</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">"go.goroot": "",</span><br><span class="line">"go.gopath": "",</span><br><span class="line">"go.inferGopath": true,</span><br><span class="line">"go.autocompleteUnimportedPackages": true,</span><br><span class="line">"go.gocodePackageLookupMode": "go",</span><br><span class="line">"go.gotoSymbol.includeImports": true,</span><br><span class="line">"go.useCodeSnippetsOnFunctionSuggest": true,</span><br><span class="line">"go.useCodeSnippetsOnFunctionSuggestWithoutType": true,</span><br><span class="line">"go.docsTool": "gogetdoc",</span><br></pre></td></tr></table></figure>
<h3 id="配置Go代码片段快捷键"><a href="#配置Go代码片段快捷键" class="headerlink" title="配置Go代码片段快捷键"></a>配置Go代码片段快捷键</h3><p>还是按<code>Ctrl/Command+Shift+P</code>,按下图输入<code>&gt;snippets</code>，选择回车，然后在弹出的窗口点击选择<code>go</code>选项：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"println"</span>:&#123;</span><br><span class="line">		<span class="attr">"prefix"</span>: <span class="string">"pln"</span>,</span><br><span class="line">		<span class="attr">"body"</span>:<span class="string">"fmt.Println($0)"</span>,</span><br><span class="line">		<span class="attr">"description"</span>: <span class="string">"println"</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">"printf"</span>:&#123;</span><br><span class="line">		<span class="attr">"prefix"</span>: <span class="string">"plf"</span>,</span><br><span class="line">		<span class="attr">"body"</span>: <span class="string">"fmt.Printf(\"$0\")"</span>,</span><br><span class="line">		<span class="attr">"description"</span>: <span class="string">"printf"</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">"m"</span>:&#123;</span><br><span class="line">		<span class="attr">"prefix"</span>: <span class="string">"main"</span>,</span><br><span class="line">		<span class="attr">"body"</span>: [</span><br><span class="line">			<span class="string">"package main"</span>,</span><br><span class="line">			<span class="string">"import (\"fmt\")"</span>,</span><br><span class="line">			<span class="string">"func main() &#123;"</span>,</span><br><span class="line">			<span class="string">"$0"</span>,</span><br><span class="line">			<span class="string">"&#125;"</span></span><br><span class="line">		],</span><br><span class="line">		<span class="attr">"description"</span>: <span class="string">"main"</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="VScode配置终端"><a href="#VScode配置终端" class="headerlink" title="VScode配置终端"></a>VScode配置终端</h2><p>在settings.json中设置</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 终端设置为cmder</span><br><span class="line">"terminal.integrated.shell.windows": "cmd.exe",</span><br><span class="line">"terminal.integrated.env.windows": &#123;"CMDER_ROOT": "E:\\cmder"&#125;,</span><br><span class="line">"terminal.integrated.shellArgs.windows": ["/k", "E:\\cmder\\vendor\\init.bat"],</span><br></pre></td></tr></table></figure>
<p>from : <a href="https://www.jianshu.com/p/c3b162df3b57" target="_blank" rel="noopener">https://www.jianshu.com/p/c3b162df3b57</a></p>
<h2 id="go-module模块管理"><a href="#go-module模块管理" class="headerlink" title="go module模块管理"></a>go module模块管理</h2><p><code>go module</code>是Go1.11版本之后官方推出的版本管理工具，并且从<code>Go1.13</code>版本开始，<code>go module</code>将是Go语言默认的依赖管理工具。到今天<code>Go1.14</code>版本推出之后<code>Go modules</code> 功能已经被正式推荐在生产环境下使用了。</p>
<p>一共两种情况</p>
<ul>
<li><p>在同一个模块下</p>
<ul>
<li>各个go文件根据go.mod下定义的模块名导入即可</li>
</ul>
</li>
<li><p>不在同一个模块下</p>
<ul>
<li>将无法找到的绝对引用路径在mod中进行require重定向</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">├── p1</span><br><span class="line">│   ├── <span class="keyword">go</span>.mod</span><br><span class="line">│   └── main.<span class="keyword">go</span></span><br><span class="line">└── p2</span><br><span class="line">    ├── <span class="keyword">go</span>.mod</span><br><span class="line">    └── p2.<span class="keyword">go</span></span><br><span class="line"><span class="comment">// p2/go.mod</span></span><br><span class="line">module liwenzhou.com/q1mi/p2</span><br><span class="line"><span class="keyword">go</span> <span class="number">1.14</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// p1/main.go按如下方式导入p2内容</span></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"liwenzhou.com/q1mi/p2"</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p2.New()</span><br><span class="line">	fmt.Println(<span class="string">"main"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>p1/main.go</code>中想要导入<code>p2.go</code>中定义的函数。需要在<code>moduledemo/go.mod</code>中进行<code>replace</code>设置才能在moduledemo模块中使用mypackage的内容</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// p1/go.mod</span></span><br><span class="line">module github.com/q1mi/p1	<span class="comment">// 当前模块名</span></span><br><span class="line"><span class="keyword">go</span> <span class="number">1.14</span>						<span class="comment">// go版本</span></span><br><span class="line">require <span class="string">"liwenzhou.com/q1mi/p2"</span> v0<span class="number">.0</span><span class="number">.0</span>		<span class="comment">// 指定版本</span></span><br><span class="line">replace <span class="string">"liwenzhou.com/q1mi/p2"</span> =&gt; <span class="string">"../p2"</span>	<span class="comment">// 重定向模块路径，右边为文件的相对路径</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a href="https://www.liwenzhou.com/posts/Go/import_local_package_in_go_module/" target="_blank" rel="noopener">https://www.liwenzhou.com/posts/Go/import_local_package_in_go_module/</a></p>
</article><!-- lincense--><div class="license-wrapper"><p> <span>Author:  </span><a href="https://nymrli.top">Mrli</a></p><p> <span>Link:  </span><a href="https://nymrli.top/2021/07/27/Go的配置和使用/">https://nymrli.top/2021/07/27/Go的配置和使用/</a></p><p> <span>Copyright:  </span><span>All articles in this blog are licensed under <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/3.0">CC BY-NC-SA 3.0</a> unless stating additionally.</span></p></div><div class="post-paginator"><a class="prevSlogan" href="/2021/08/11/Shiro使用学习/" title="Shiro使用学习"><span>< PreviousPost</span><br><span class="prevTitle">Shiro使用学习</span></a><a class="nextSlogan" href="/2021/03/03/天猫秒杀插件-Chrome插件编写/" title="Chrome插件编写-天猫秒杀插件"><span>NextPost ></span><br><span class="nextTitle">Chrome插件编写-天猫秒杀插件</span></a><div class="clear"></div></div><div id="comment"><div id="container"></div><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script><script>var gitment = new Gitment({
  id: 'Go的配置和使用',
  owner: 'Freedomisgood',
  repo: 'Freedomisgood.github.io',
  oauth: {
    client_id: 'bc5a81fe36017dcd8b63',
    client_secret: '949cec3a1b91742c6249c47259791e4b80a6fa69',
  },
})
gitment.render('container')</script></div></section></article><footer id="cxo-footer-outer"><div id="cxo-footer-inner"><p class="footer-container"><span>Site by </span><a href="http://hexo.io"><span>Hexo</span></a><span> | theme </span><a href="https://github.com/Longlongyu/hexo-theme-Cxo"><span>Cxo</span></a></p><p class="beian"><span>备案号:苏ICP备18015439号</span></p><i class="fa fa-user"> </i><span id="busuanzi_value_site_uv"></span><span> | </span><i class="fa fa-eye"> </i><span id="busuanzi_value_site_pv"></span></div></footer><!-- catelog--><div class="toc-wrapper" style="top: 60vh;"><div class="toc-catalog"><i class="fa fa-list"> </i><span>CATALOG</span></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Go语法学习"><span class="toc-number">1.</span> <span class="toc-text">Go语法学习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#变量声明"><span class="toc-number">1.1.</span> <span class="toc-text">变量声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数定义"><span class="toc-number">1.2.</span> <span class="toc-text">函数定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Go-语言接口"><span class="toc-number">1.3.</span> <span class="toc-text">Go 语言接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#切片与数组"><span class="toc-number">2.</span> <span class="toc-text">切片与数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#make"><span class="toc-number">3.</span> <span class="toc-text">make</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vscode中配置Go"><span class="toc-number">4.</span> <span class="toc-text">Vscode中配置Go</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-首先安装好Go"><span class="toc-number">4.1.</span> <span class="toc-text">1.首先安装好Go</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-vscode中下载Go环境插件"><span class="toc-number">4.2.</span> <span class="toc-text">2.vscode中下载Go环境插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-安装Go程序插件"><span class="toc-number">4.3.</span> <span class="toc-text">3.安装Go程序插件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#先设置GOPROXY"><span class="toc-number">4.3.1.</span> <span class="toc-text">先设置GOPROXY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#重试下载插件"><span class="toc-number">4.3.2.</span> <span class="toc-text">重试下载插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#设置插件配置"><span class="toc-number">4.3.3.</span> <span class="toc-text">设置插件配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置Go代码片段快捷键"><span class="toc-number">4.4.</span> <span class="toc-text">配置Go代码片段快捷键</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VScode配置终端"><span class="toc-number">5.</span> <span class="toc-text">VScode配置终端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#go-module模块管理"><span class="toc-number">6.</span> <span class="toc-text">go module模块管理</span></a></li></ol></div><!-- top--><i class="fa fa-arrow-up close" id="go-up" aria-hidden="true"></i></body></html>
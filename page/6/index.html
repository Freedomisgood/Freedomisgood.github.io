<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>果粒橙的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="想和你讲，说了会心动 ，缄默会心安。">
<meta name="keywords" content="程序猿">
<meta property="og:type" content="website">
<meta property="og:title" content="果粒橙的博客">
<meta property="og:url" content="https://nymrli.top/page/6/index.html">
<meta property="og:site_name" content="果粒橙的博客">
<meta property="og:description" content="想和你讲，说了会心动 ，缄默会心安。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="果粒橙的博客">
<meta name="twitter:description" content="想和你讲，说了会心动 ，缄默会心安。">
  
    <link rel="alternate" href="/atom.xml" title="果粒橙的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">

  <link href="https://cdn.bootcss.com/KaTeX/0.7.1/katex.min.css" rel="stylesheet">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">果粒橙的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">别装作很努力，结局不会陪你演戏。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://nymrli.top"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="p-数据结构——图" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/16/数据结构——图/" class="article-date">
  <time datetime="2018-12-16T03:41:46.000Z" itemprop="datePublished">2018-12-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/16/数据结构——图/">数据结构——图</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="数据结构图"><a class="markdownIt-Anchor" href="#数据结构图"></a> 数据结构——图</h1>
<h2 id="连通图"><a class="markdownIt-Anchor" href="#连通图"></a> 连通图</h2>
<ul>
<li>无向图
<ul>
<li><strong>连通图</strong> : 图中任意两点都连通</li>
<li><strong>连通</strong>:如果从v到w存在一条(无向)路径,则称v和w是连通的</li>
<li>**路径:**V到w的路径是一系列顶点{V,v1,V2，vn,w}的集合,其中任一对相邻的顶点间都有图中的边。路径的长度是路径中的边数(如果带权,则是所有边的权重和)。如果v到w之间的所有顶点都不同,则称简单路径
<ul>
<li>▲路径是边的超集,一条路径中可以有多条边</li>
</ul>
</li>
<li><strong>回路</strong>:起点等于终点的路径 ==&gt; 有回路的路径为非简单路径</li>
</ul>
</li>
<li>有向图:
<ul>
<li><strong>强连通</strong> : 有向图中顶点v和W之间存在双向路径,则称v和w是强连通的强连通图</li>
<li><strong>强连通图</strong> : 有向图中任意两顶点均强连通强连通分量:有向图的极大强连通子图</li>
<li><strong>弱连通图</strong> : 将有向图中边的方向擦去,能变成连通图的图叫 <strong>弱连通图</strong></li>
</ul>
</li>
</ul>
<h2 id="图不连通咋办"><a class="markdownIt-Anchor" href="#图不连通咋办"></a> 图不连通咋办?</h2>
<ul>
<li>非连通图
<ul>
<li>无向图
<ul>
<li>连通分量: 无向图的极大连通子图
<ul>
<li>极大顶点数 : 再加1个顶点就不连通了</li>
<li>极大边数 : 包含子图中所有顶点相连的所有边</li>
</ul>
</li>
</ul>
</li>
<li></li>
</ul>
</li>
</ul>
<p>图的边可以是具有<u>某种属性的对象</u>: 007案例中的岸边</p>
<h2 id="最小代价生成树"><a class="markdownIt-Anchor" href="#最小代价生成树"></a> 最小代价生成树</h2>
<h3 id="基础概念"><a class="markdownIt-Anchor" href="#基础概念"></a> 基础概念</h3>
<blockquote>
<p>最小生成树问题 : 村村通—&gt; 使图连通的( 最少的边 \ 花销最小的 )</p>
</blockquote>
<ul>
<li>树
<ul>
<li>连通的</li>
<li>无回路</li>
<li>V个顶点 , v-1条边</li>
</ul>
</li>
<li>生成
<ul>
<li>包含所有的顶点</li>
<li>V-1条边都在图里</li>
<li>任意加一条边都会构成回路</li>
</ul>
</li>
<li>最小
<ul>
<li>边的权重和最小</li>
</ul>
</li>
</ul>
<p><strong>▲ 最小代价生成树不存在 &lt;----&gt; 图不连通</strong></p>
<h4 id="贪心算法"><a class="markdownIt-Anchor" href="#贪心算法"></a> 贪心算法:</h4>
<ul>
<li>
<p>贪: 每一步是最好的</p>
</li>
<li>
<p>好: 权重是最小的</p>
</li>
<li>
<p>约束:</p>
<ul>
<li>只能用图里有的边</li>
<li>正好用掉 v-1条边</li>
<li>不能有回路</li>
</ul>
</li>
</ul>
<h3 id="算法实现"><a class="markdownIt-Anchor" href="#算法实现"></a> 算法实现:</h3>
<h4 id="prim算法让小树成长"><a class="markdownIt-Anchor" href="#prim算法让小树成长"></a> Prim算法——让小树成长：</h4>
<p><img src="/2018/12/16/数据结构——图/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%9B%BE%5Cprim.jpg" alt="prim"></p>
<h4 id="kruskal将森林合并成树"><a class="markdownIt-Anchor" href="#kruskal将森林合并成树"></a> kruskal——将森林合并成树:</h4>
<blockquote>
<p>更贪心,直接将权重最小的边收进来</p>
</blockquote>
<p><img src="/2018/12/16/数据结构——图/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%9B%BE%5Ckru.jpg" alt="kru"></p>
<h3 id="拓补排序"><a class="markdownIt-Anchor" href="#拓补排序"></a> 拓补排序</h3>
<h4 id="aov"><a class="markdownIt-Anchor" href="#aov"></a> AOV</h4>
<blockquote>
<p>以顶点来表示活动。 一个活动是另一个活动的先决条件</p>
</blockquote>
<blockquote>
<p>不断抹去 <strong>没有前驱顶点(入度为0)</strong> 的顶点</p>
</blockquote>
<p><img src="/2018/12/16/数据结构——图/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%9B%BE%5Ctobo.jpg" alt="tobo"></p>
<h5 id="提倡的做法-将入度为0的顶点放到容器中"><a class="markdownIt-Anchor" href="#提倡的做法-将入度为0的顶点放到容器中"></a> 提倡的做法: 将入度为0的顶点放到容器中</h5>
<p><img src="/2018/12/16/数据结构——图/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%9B%BE%5Ctobo2.jpg" alt="tobo2"></p>
<p>▲.这种方法还可以用来检测是不是有向无环图(DAG)</p>
<h3 id="关键路径"><a class="markdownIt-Anchor" href="#关键路径"></a> 关键路径</h3>
<h4 id="aoe"><a class="markdownIt-Anchor" href="#aoe"></a> AOE:</h4>
<blockquote>
<p>一般用于安排项目的工序</p>
<p>由绝不允许延误的活动组成的路径</p>
</blockquote>
<p><img src="/2018/12/16/数据结构——图/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E5%9B%BE%5C%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84.jpg" alt="关键路径"></p>
<p><strong>关键路径长度</strong>: <code>earliest(n)</code></p>
<p><strong>没有机动时间的路径为关键路径</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/16/数据结构——图/" data-id="cjzyy2kgw007rk829hgj18yr2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/图论/">图论</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据结构/">数据结构</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-win自带邮件使用" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/16/win自带邮件使用/" class="article-date">
  <time datetime="2018-12-16T02:48:27.000Z" itemprop="datePublished">2018-12-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/16/win自带邮件使用/">win自带邮件使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="windows10-自带邮箱"><a class="markdownIt-Anchor" href="#windows10-自带邮箱"></a> Windows10 自带邮箱</h1>
<blockquote>
<p>创意大赛忘记提交附件的经历，让我决定这几天把邮箱的问题彻底解决了。</p>
</blockquote>
<h3 id="一打开windows自带的邮件"><a class="markdownIt-Anchor" href="#一打开windows自带的邮件"></a> 一.打开Windows自带的邮件</h3>
<h4 id="1附件栏里"><a class="markdownIt-Anchor" href="#1附件栏里"></a> 1.附件栏里</h4>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C1.jpg" alt="1"></p>
<h4 id="2直接搜索邮件"><a class="markdownIt-Anchor" href="#2直接搜索邮件"></a> 2.直接搜索&quot;邮件&quot;</h4>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C2.jpg" alt="2"></p>
<h3 id="二添加账号"><a class="markdownIt-Anchor" href="#二添加账号"></a> 二.添加账号</h3>
<h5 id="打开后界面是这样的左边是我已经添加好的账号"><a class="markdownIt-Anchor" href="#打开后界面是这样的左边是我已经添加好的账号"></a> 打开后界面是这样的,左边是我已经添加好的账号</h5>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C3.jpg" alt="3"></p>
<h4 id="1点击下面的齿轮"><a class="markdownIt-Anchor" href="#1点击下面的齿轮"></a> 1.点击下面的&quot;齿轮&quot;</h4>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C4.jpg" alt="4"></p>
<h4 id="2点击管理账号"><a class="markdownIt-Anchor" href="#2点击管理账号"></a> 2.点击&quot;管理账号&quot;</h4>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C5.jpg" alt="5"></p>
<h4 id="3点击添加账户"><a class="markdownIt-Anchor" href="#3点击添加账户"></a> 3.点击&quot;添加账户&quot;</h4>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C6.jpg" alt="6"></p>
<h5 id="将信息按规则填好后需要注意的是在按登录之前需要翻墙否则会出现如图u我们无法找到你的设置u"><a class="markdownIt-Anchor" href="#将信息按规则填好后需要注意的是在按登录之前需要翻墙否则会出现如图u我们无法找到你的设置u"></a> 将信息按规则填好后.需要注意的是▲.在按登录之前需要<strong>翻墙</strong>,否则会出现如图&quot;<u>我们无法找到你的设置</u>&quot;.</h5>
<h5 id="其次要注意的是密码为imap或者pop-smtp的密码授权码查询如下"><a class="markdownIt-Anchor" href="#其次要注意的是密码为imap或者pop-smtp的密码授权码查询如下"></a> 其次要注意的是,密码为IMAP或者POP、SMTP的密码，授权码查询如下</h5>
<h6 id="网易"><a class="markdownIt-Anchor" href="#网易"></a> 网易：</h6>
<p>图一</p>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C7.jpg" alt="7"></p>
<p>图二：</p>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C8.jpg" alt="8"></p>
<p>图三：</p>
<p>此步他会要求你设置自己的<u>授权码</u></p>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C9.jpg" alt="9"></p>
<h6 id="qq邮箱"><a class="markdownIt-Anchor" href="#qq邮箱"></a> QQ邮箱：</h6>
<p>图一：</p>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C10.jpg" alt="10"></p>
<p>图二：</p>
<p>此步他会要求你发送“配置邮箱客户端”到某个号码上，然后会生成授权码。<strong>这个不是自己设置的</strong></p>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C11.jpg" alt="11"></p>
<hr>
<p>翻墙成功，在确保密码也正确的情况下就可以按“登录”了。</p>
<h4 id="附录"><a class="markdownIt-Anchor" href="#附录"></a> 附录：</h4>
<h5 id="添加账号"><a class="markdownIt-Anchor" href="#添加账号"></a> 添加账号：</h5>
<h6 id="从开始中打开"><a class="markdownIt-Anchor" href="#从开始中打开"></a> 从“开始“中打开</h6>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C12.jpg" alt="12"></p>
<p><img src="/2018/12/16/win自带邮件使用/E:%5Chexo%5Csource_posts%5Cwin%E8%87%AA%E5%B8%A6%E9%82%AE%E4%BB%B6%E4%BD%BF%E7%94%A8%5C13.jpg" alt="13"></p>
<h5 id="附件自动下载"><a class="markdownIt-Anchor" href="#附件自动下载"></a> 附件自动下载:</h5>
<p>下载的附件一般在<code>C:\Users\账户名\AppData\Local\Packages\microsoft.windowscommunicationsapps_邮箱代码\LocalState\Files\S0\1055（我的在1055里）</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/16/win自带邮件使用/" data-id="cjzyy2kf20050k829dl2d6y5o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Window10/">Window10</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/邮件/">邮件</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-2018-12-15小记" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/15/2018-12-15小记/" class="article-date">
  <time datetime="2018-12-15T14:22:25.000Z" itemprop="datePublished">2018-12-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/15/2018-12-15小记/">2018-12-15小记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>数据结构上机,由于最近烦心事也比较多,没有任何准备,在机房想要自己把代码敲出来也是不现实的。于是，就搜吧。无意中搜到了<a href="https://me.csdn.net/Wonz5130" target="_blank" rel="noopener">学长的博客</a>,大二转计科，看了他努力的点滴，也颇有感触，于是下笔，略述己见。</p>
</blockquote>
<blockquote>
<p>之前一直在博客里都是发的技术性的文章，有时想说点话，也找不到合适的人。发条说说，不懂的人不知所措，懂的人也无从安慰，于是也只好作罢。也曾想过在博客里写，太又感觉未免太过矫情，今日所感，还是决定记录些情感、回忆。</p>
</blockquote>
<pre><code>大一上报了院科协与校科协，入大学前已经略有琢磨过C语言学习的我自然没有再接着学C，于是趁着Python的大热，也正是听说了Python的简洁、可以做爬虫、网站、人工智能等有趣的时就决定学了这门语言。于是加入了Python组，碰到了李林伟与王宇学长，李林伟学长很负责，大一的课几乎都是由他授的，当初还有事嫌他讲的不够好，现在自己当了讲师后才发现根本无暇准备。大一的时光很多都泡在了图书馆，一个学期下来已经借了20+本书了，整个学年下来一共借了40+本书，虽然没有全部看完，都明显的感觉到自己的努力。大二一般都是在看视频，图书馆很少去了，书也借的少了。

大一还学了单片机，说来也可惜，第一次院级比赛优之杰做了个所有授课内容如 蜂鸣器、LCD1602、跑马灯、矩阵按键 的作品已经很了不起了，就没有再深入学些什么，不知那些更优秀的人已经开始准备电赛、飞思卡尔了。很遗憾吧，最终在下学期的4月份“海善达杯”结束后就再也没碰过单片机，所有学过的单片机代码也逐渐忘却。

大二，一直呆在学科楼220，但没有怎么忙Apollo的项目，说来也比较惭愧。这半个学期也已经过了，感觉自己一直在忙些奇奇怪怪的事，学了前端HTML、CSS、JS；还学了微信小程序，为的就是想参加一些比赛，但到如今却都凉了。为了天翼杯做了个物联网的猫粮，但是天翼杯初赛就被刷；参加创意大赛，结果自己忘记提交附件了；同时，学长的不看好，让我也对完成点子的作品产生了怀疑：这种没技术含量的作品真的能获奖吗？无论如何，最近也得不到答案了。这让我对开发产生了一种厌恶与疲倦，下学期想好好弄弄算法或是机器学习了，静下心来弄点真技术。

有的时候真的会比较迷茫吧？考研还是工作的问题，每隔一段时间都会思考。昨天的分光计无疑让我又一次受挫。准备了3天的物理实验，结果最后誊错数据，同时也是最后几个离开实验室的。确实，分光计真的很简单，但有模糊的地方、以及平时没解决放过的地方在你最薄弱的时候就可能一下子要了你的命。无法确定是否要修正、无法确定是否要算θ0……导致没有一开始就画表，导致了最后的誊错，感觉像是命中注定，就如同创意大赛的没有提交。最近过的很背，期望能够有个水逆退散、柳暗花明。</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/15/2018-12-15小记/" data-id="cjzyy2k8w0003k829hw196ehd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/生活小记/">生活小记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-Python中邮件的发送" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/12/Python中邮件的发送/" class="article-date">
  <time datetime="2018-12-12T14:17:38.000Z" itemprop="datePublished">2018-12-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/12/Python中邮件的发送/">Python中邮件的发送</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="python普通的邮件发送"><a class="markdownIt-Anchor" href="#python普通的邮件发送"></a> Python普通的邮件发送</h2>
<p>需要一个安全的连接，例如SSL，因此接下来我们会使用SSL的方式去登录，但是在那之前，我们需要做一些准备，打开qq邮箱，点击设置-&gt;账户，找到<strong>POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务</strong>，开启IMAP/SMTP服务，然后根据要求使用手机发送到指定号码，获取授权码，这个<strong>授权码就是你接下来登录要使用的密码</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">from email.mime.text import MIMEText</span><br><span class="line">import smtplib</span><br><span class="line"></span><br><span class="line">_user = &apos;1063052964@qq.com&apos;</span><br><span class="line">_pwd = &apos;pykhotuhghdjbeci&apos;</span><br><span class="line">_to = &apos;2035420834@qq.com&apos;</span><br><span class="line">msg = MIMEText(mail_body)		//MIMEText中_subtype默认为plain,html格式,只需改这个参数</span><br><span class="line">msg[&quot;Subject&quot;] = &apos;来自[不吐不快]网站的网友意见&apos;</span><br><span class="line">msg[&quot;From&quot;] = _user</span><br><span class="line">msg[&quot;To&quot;] = _to</span><br><span class="line">try:</span><br><span class="line">    s = smtplib.SMTP_SSL(&quot;smtp.qq.com&quot;, 465)  //或是使用s = smtplib.SMTP(&quot;smtp.qq.com&quot;,25)</span><br><span class="line">    s.login(_user, _pwd)</span><br><span class="line">    s.sendmail(_user, _to, msg.as_string())</span><br><span class="line">    s.quit()</span><br><span class="line">    message = &apos;感谢你的来信&apos;</span><br><span class="line">except:</span><br><span class="line">    message = &apos;发送失败&apos;</span><br></pre></td></tr></table></figure>
<p>▲smtplib.SMTP_SSL([host[, port[, local_hostname[, keyfile[, certfile[, timeout]]]]]])</p>
<p>这是一个派生自SMTP的子类，通过SSL加密的套接字连接（使用此类，您需要使用SSL支持编译的套接字模块）。如果未指定主机，则使用“（本地主机）”。如果省略端口，则使用标准的SMTP-over-SSL端口（465）</p>
<p>本机已安装了支持 SMTP 的服务，如：sendmail:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import smtplib</span><br><span class="line">from email.mime.text import MIMEText</span><br><span class="line">from email.header import Header</span><br><span class="line"></span><br><span class="line">message[&apos;From&apos;] = Header(&quot;菜鸟教程&quot;, &apos;utf-8&apos;)</span><br></pre></td></tr></table></figure>
<p>第三方SMTP发送邮件:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import smtplib</span><br><span class="line">from email.mime.text import MIMEText</span><br><span class="line">from email.utils import formataddr</span><br><span class="line"></span><br><span class="line">msg[&apos;From&apos;]=formataddr([&quot;FromRunoob&quot;,my_sender])  # 括号里的对应发件人邮箱昵称、发件人邮箱账号</span><br><span class="line">msg[&apos;To&apos;]=formataddr([&quot;FK&quot;,my_user])              # 括号里的对应收件人邮箱昵称、收件人邮箱账号</span><br><span class="line">*没有formataddr的昵称默认为账号*</span><br></pre></td></tr></table></figure>
<h4 id="python-发送带附件的邮件"><a class="markdownIt-Anchor" href="#python-发送带附件的邮件"></a> Python 发送带附件的邮件:</h4>
<blockquote>
<p>发送带附件的邮件，首先要创建MIMEMultipart()实例，然后构造附件，如果有多个附件，可依次构造，最后利用smtplib.smtp发送。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"> </span><br><span class="line">import smtplib</span><br><span class="line">from email.mime.text import MIMEText</span><br><span class="line">from email.mime.multipart import MIMEMultipart</span><br><span class="line">from email.header import Header</span><br><span class="line"> </span><br><span class="line">sender = &apos;from@runoob.com&apos;</span><br><span class="line">receivers = [&apos;429240967@qq.com&apos;]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱</span><br><span class="line"> </span><br><span class="line">#创建一个带附件的实例</span><br><span class="line">message = MIMEMultipart()</span><br><span class="line">message[&apos;From&apos;] = Header(&quot;菜鸟教程&quot;, &apos;utf-8&apos;)</span><br><span class="line">message[&apos;To&apos;] =  Header(&quot;测试&quot;, &apos;utf-8&apos;)</span><br><span class="line">subject = &apos;Python SMTP 邮件测试&apos;</span><br><span class="line">message[&apos;Subject&apos;] = Header(subject, &apos;utf-8&apos;)</span><br><span class="line"> </span><br><span class="line">#邮件正文内容</span><br><span class="line">message.attach(MIMEText(&apos;这是菜鸟教程Python 邮件发送测试……&apos;, &apos;plain&apos;, &apos;utf-8&apos;))</span><br><span class="line"> </span><br><span class="line"># 构造附件1，传送当前目录下的 test.txt 文件</span><br><span class="line">att1 = MIMEText(open(&apos;test.txt&apos;, &apos;rb&apos;).read(), &apos;base64&apos;, &apos;utf-8&apos;)</span><br><span class="line">att1[&quot;Content-Type&quot;] = &apos;application/octet-stream&apos;</span><br><span class="line"># 这里的filename可以任意写，写什么名字，邮件中显示什么名字</span><br><span class="line">att1[&quot;Content-Disposition&quot;] = &apos;attachment; filename=&quot;test.txt&quot;&apos;</span><br><span class="line">message.attach(att1)</span><br><span class="line"> </span><br><span class="line"># 构造附件2，传送当前目录下的 runoob.txt 文件</span><br><span class="line">att2 = MIMEText(open(&apos;runoob.txt&apos;, &apos;rb&apos;).read(), &apos;base64&apos;, &apos;utf-8&apos;)</span><br><span class="line">att2[&quot;Content-Type&quot;] = &apos;application/octet-stream&apos;</span><br><span class="line">att2[&quot;Content-Disposition&quot;] = &apos;attachment; filename=&quot;runoob.txt&quot;&apos;</span><br><span class="line">message.attach(att2)</span><br><span class="line"> </span><br><span class="line">try:</span><br><span class="line">    smtpObj = smtplib.SMTP(&apos;localhost&apos;)</span><br><span class="line">    smtpObj.sendmail(sender, receivers, message.as_string())</span><br><span class="line">    print &quot;邮件发送成功&quot;</span><br><span class="line">except smtplib.SMTPException:</span><br><span class="line">    print &quot;Error: 无法发送邮件&quot;</span><br></pre></td></tr></table></figure>
<h4 id="在-html-文本中添加图片"><a class="markdownIt-Anchor" href="#在-html-文本中添加图片"></a> 在 HTML 文本中添加图片</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"> </span><br><span class="line">import smtplib</span><br><span class="line">from email.mime.image import MIMEImage</span><br><span class="line">from email.mime.multipart import MIMEMultipart</span><br><span class="line">from email.mime.text import MIMEText</span><br><span class="line">from email.header import Header</span><br><span class="line"> </span><br><span class="line">sender = &apos;from@runoob.com&apos;</span><br><span class="line">receivers = [&apos;429240967@qq.com&apos;]  # 接收邮件，可设置为你的QQ邮箱或者其他邮箱</span><br><span class="line"> </span><br><span class="line">msgRoot = MIMEMultipart(&apos;related&apos;)				//创建MIMEMultipart()实例</span><br><span class="line">msgRoot[&apos;From&apos;] = Header(&quot;菜鸟教程&quot;, &apos;utf-8&apos;)</span><br><span class="line">msgRoot[&apos;To&apos;] =  Header(&quot;测试&quot;, &apos;utf-8&apos;)</span><br><span class="line">subject = &apos;Python SMTP 邮件测试&apos;</span><br><span class="line">msgRoot[&apos;Subject&apos;] = Header(subject, &apos;utf-8&apos;)</span><br><span class="line"> </span><br><span class="line">msgAlternative = MIMEMultipart(&apos;alternative&apos;)</span><br><span class="line">msgRoot.attach(msgAlternative)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">mail_msg = &quot;&quot;&quot;</span><br><span class="line">&lt;p&gt;Python 邮件发送测试...&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;a href=&quot;http://www.runoob.com&quot;&gt;菜鸟教程链接&lt;/a&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;图片演示：&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;img src=&quot;cid:image1&quot;&gt;&lt;/p&gt;</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">msgAlternative.attach(MIMEText(mail_msg, &apos;html&apos;, &apos;utf-8&apos;))	//内容</span><br><span class="line"> </span><br><span class="line"># 指定图片为当前目录</span><br><span class="line">fp = open(&apos;test.png&apos;, &apos;rb&apos;)</span><br><span class="line">msgImage = MIMEImage(fp.read())</span><br><span class="line">fp.close()</span><br><span class="line"> </span><br><span class="line"># 定义图片 ID，在 HTML 文本中引用</span><br><span class="line">msgImage.add_header(&apos;Content-ID&apos;, &apos;&lt;image1&gt;&apos;)</span><br><span class="line">msgRoot.attach(msgImage)								//附件</span><br><span class="line"> </span><br><span class="line">try:</span><br><span class="line">    smtpObj = smtplib.SMTP(&apos;localhost&apos;)</span><br><span class="line">    smtpObj.sendmail(sender, receivers, msgRoot.as_string())</span><br><span class="line">    print &quot;邮件发送成功&quot;</span><br><span class="line">except smtplib.SMTPException:</span><br><span class="line">    print &quot;Error: 无法发送邮件&quot;</span><br></pre></td></tr></table></figure>
<p><a href="http://www.runoob.com/python/python-email.html" target="_blank" rel="noopener">Python SMTP发送邮件</a></p>
<hr>
<h2 id="flask-email"><a class="markdownIt-Anchor" href="#flask-email"></a> flask-email</h2>
<p><a href="https://pythonhosted.org/Flask-Mail/" target="_blank" rel="noopener">官方文档</a></p>
<h4 id="阻塞发送"><a class="markdownIt-Anchor" href="#阻塞发送"></a> 阻塞发送</h4>
<h5 id="最简单的调用"><a class="markdownIt-Anchor" href="#最简单的调用"></a> 最简单的调用</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask_mail <span class="keyword">import</span> Mail,Message</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config[<span class="string">'MAIL_SERVER'</span>] = <span class="string">'smtp.qq.com'</span></span><br><span class="line">app.config[<span class="string">'MAIL_PORT'</span>] = <span class="number">587</span></span><br><span class="line">app.config[<span class="string">'MAIL_USE_TLS'</span>] = <span class="keyword">True</span></span><br><span class="line">app.config[<span class="string">'MAIL_USERNAME'</span>] = <span class="string">'1063052964@qq.com'</span></span><br><span class="line">app.config[<span class="string">'MAIL_PASSWORD'</span>] = <span class="string">'#'</span></span><br><span class="line"></span><br><span class="line">mail = Mail(app)</span><br><span class="line"></span><br><span class="line">msg = Message(<span class="string">'邮件主题'</span>, sender=<span class="string">'1063052964@qq.com'</span>, recipients=[<span class="string">'2035420834@qq.com'</span>])</span><br><span class="line">msg.body = <span class="string">'邮件内容'</span></span><br><span class="line">msg.html = <span class="string">"&lt;h1&gt;邮件的html模板&lt;h1&gt; body"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> app.app_context():</span><br><span class="line">    mail.send(msg)</span><br></pre></td></tr></table></figure>
<h5 id="读取配置视图函数中调用"><a class="markdownIt-Anchor" href="#读取配置视图函数中调用"></a> 读取配置+视图函数中调用</h5>
<p>[<a href="http://config.py" target="_blank" rel="noopener">config.py</a>]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置邮箱信息</span></span><br><span class="line">MAIL_SERVER = <span class="string">'smtp.qq.com'</span></span><br><span class="line">MAIL_PORT = <span class="number">465</span></span><br><span class="line">MAIL_USE_TLS = <span class="keyword">False</span></span><br><span class="line">MAIL_USE_SSL = <span class="keyword">True</span></span><br><span class="line"><span class="comment"># 注意此处，很多人配置发不出去和这个是有关系的</span></span><br><span class="line">MAIL_PASSWORD = <span class="string">'**********'</span></span><br><span class="line">MAIL_USERNAME = <span class="string">'********@qq.com'</span></span><br><span class="line"><span class="comment"># qq郵箱默認走ssl，所以創建的smtp對象必須要支持加密傳輸，且需要指定port=465</span></span><br></pre></td></tr></table></figure>
<p><a href="http://app.py" target="_blank" rel="noopener">app.py</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask_mail <span class="keyword">import</span> Message,Mail</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">import</span> config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config.from_object(config)</span><br><span class="line">mail = Mail(app)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendMail</span><span class="params">()</span>:</span></span><br><span class="line">    msg = Message(<span class="string">'test'</span>, sender = <span class="string">'1063052964@qq.com'</span>, recipients=[<span class="string">"2035420834@qq.com"</span>])</span><br><span class="line">    <span class="comment"># recipients是个列表，包含所有收件人</span></span><br><span class="line">    <span class="comment"># 此处的test是邮箱的主题，sender和config中的MAIL_USERNAME要一致哦</span></span><br><span class="line">    msg.body = <span class="string">'123'</span></span><br><span class="line">    msg.html = <span class="string">'&lt;b&gt;test&lt;/b&gt;body'</span></span><br><span class="line">    mail.send(msg)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span><span class="params">()</span>:</span></span><br><span class="line">    sendMail()</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello World!'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(debug=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>tips:tip：具体工程中，配置可以写在单独一个文件如”.env”，然后利用python-envcfg来读取配置，如：<br>
app.config.from_object(‘envcfg.raw’)</p>
</blockquote>
<h4 id="异步发送"><a class="markdownIt-Anchor" href="#异步发送"></a> 异步发送</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> flask_mail <span class="keyword">import</span> Message,Mail</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">import</span> config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config.from_object(config)</span><br><span class="line">mail = Mail(app)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_async_email</span><span class="params">(app,msg)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> app.app_context():</span><br><span class="line">        mail.send(message=msg)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SendMail</span><span class="params">()</span>:</span></span><br><span class="line">    msg = Message(<span class="string">'test'</span>,sender=<span class="string">'106305964@qq.com'</span>,\</span><br><span class="line">                        recipients=[<span class="string">"870545361@qq.com"</span>])</span><br><span class="line">    <span class="comment"># recipients是个列表，包含所有收件人</span></span><br><span class="line">    <span class="comment"># 此处的test是邮箱的主题，sender和config中的MAIL_USERNAME要一致哦</span></span><br><span class="line">    msg.body = <span class="string">'testbody'</span></span><br><span class="line">    msg.html = <span class="string">'&lt;b&gt;test&lt;/b&gt;body'</span></span><br><span class="line">    <span class="comment"># 邮件发送给目标，可以有文本，两种方式呈现，你能看见怎样的取决于你的客户端</span></span><br><span class="line">    thr = Thread(target=send_async_email,args=[app,msg])</span><br><span class="line">    <span class="comment"># 使用多线程，在实际开发中，若是不使用异步、多线程等方式，网页会卡住</span></span><br><span class="line">    thr.start()</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'ok'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello World!'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(debug=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<p>▲. 许多Flask的扩展都是假定自己运行在一个活动的应用和请求上下文中，Flask-Mail的send函数使用到current_app 这个上下文了，所以当 mail.send()函数在一个线程中执行的时候需要人为的创建一个上下文。在示例 send_async_email 中使用了 app.app_context() 来创建一个上下文。</p>
<p>既然异步的邮件发送功能已经实现了，如果将来我们需要实现其它异步的函数，还有什么需要改进的吗？我们需要为每一个实现异步功能的函数拷贝多线程的代码吗？这并不好。</p>
<p>我们可以通过实现一个 <a href="http://www.python.org/dev/peps/pep-0318/" target="_blank" rel="noopener">装饰器</a> 来解决这个问题。有了装饰器，上面的代码可以修改为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from .decorators import async</span><br><span class="line"></span><br><span class="line">@async</span><br><span class="line">def send_async_email(app, msg):</span><br><span class="line">    with app.app_context():</span><br><span class="line">        mail.send(msg)</span><br><span class="line"></span><br><span class="line">def send_email(subject, sender, recipients, text_body, html_body):</span><br><span class="line">    msg = Message(subject, sender=sender, recipients=recipients)</span><br><span class="line">    msg.body = text_body</span><br><span class="line">    msg.html = html_body</span><br><span class="line">    send_async_email(app, msg)</span><br></pre></td></tr></table></figure>
<p>好的多了吧，对不对？</p>
<p>这个神奇的代码其实很简单。我们把它放入一个新文件(文件 <em>app/decorators.py</em>):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from threading import Thread</span><br><span class="line"></span><br><span class="line">def async(f):</span><br><span class="line">    def wrapper(*args, **kwargs):</span><br><span class="line">        thr = Thread(target = f, args = args, kwargs = kwargs)</span><br><span class="line">        thr.start()</span><br><span class="line">    return wrapper</span><br></pre></td></tr></table></figure>
<p>作为一个练习，大家可以考虑考虑如何用 <code>*multiprocessing*</code> 模块来实现上面的功能。</p>
<p>摘自<a href="http://www.pythondoc.com/flask-mega-tutorial/email.html" target="_blank" rel="noopener">flask文档</a></p>
<hr>
<h2 id="djangocoremail邮件"><a class="markdownIt-Anchor" href="#djangocoremail邮件"></a> django.core.mail邮件</h2>
<p>EmailMessage: 标题. 内容.发件人.收件人</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from django.core.mail import send_mail</span><br><span class="line"></span><br><span class="line">send_mail(u&apos;邮件标题&apos;, u&apos;邮件内容&apos;, &apos;from@example.com&apos;,</span><br><span class="line">    [&apos;to@example.com&apos;], fail_silently=False)</span><br></pre></td></tr></table></figure>
<h3 id="send_mail"><a class="markdownIt-Anchor" href="#send_mail"></a> send_mail()</h3>
<blockquote>
<p><code>subject</code>, <code>message</code>, <code>from_email</code> and <code>recipient_list</code> 这四个参数是必须的。</p>
<ul>
<li><code>subject</code>: 字符串，表示邮件标题。</li>
<li><code>message</code>: 字符串，表示邮件内容。</li>
<li><code>from_email</code>: 字符串，表示发件邮箱。</li>
<li><code>recipient_list</code>: 字符串列表，列表中每个成员都是一个邮箱地址，而且每个收件人都会在 “收件人/To:” 栏看到出现在 <code>recipient_list</code> 中的其他收件人。</li>
<li><code>fail_silently</code>: （可选）布尔值。为 <code>False</code> 时， <code>send_mail</code> 会抛出 <a href="https://docs.python.org/2.7/library/smtplib.html#smtplib.SMTPException" target="_blank" rel="noopener"><code>smtplib.SMTPException</code></a> 异常。 <a href="https://docs.python.org/2.7/library/smtplib.html#module-smtplib" target="_blank" rel="noopener"><code>smtplib</code></a> 文档列出了所有可能的异常。 这些异常都是 <a href="https://docs.python.org/2.7/library/smtplib.html#smtplib.SMTPException" target="_blank" rel="noopener"><code>SMTPException</code></a> 的子类。</li>
<li><code>auth_user</code>: （可选）SMTP服务器的认证用户名。没提供该参数的情况下，Django会使用 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/ref/settings.html#std:setting-EMAIL_HOST_USER" target="_blank" rel="noopener"><code>EMAIL_HOST_USER</code></a> 配置项的设置。</li>
<li><code>auth_password</code>: （可选）SMTP服务器的认证密码，没提供该参数的情况下，Django会使用 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/ref/settings.html#std:setting-EMAIL_HOST_PASSWORD" target="_blank" rel="noopener"><code>EMAIL_HOST_PASSWORD</code></a>配置项的设置。</li>
<li><code>connection</code>: （可选）发送邮件的后端。没提供该参数的情况下，Django会使用默认后端的实例。可查看 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#topic-email-backends" target="_blank" rel="noopener">Email backends</a> 了解更多细节。</li>
</ul>
</blockquote>
<p><a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.send_mass_mail" target="_blank" rel="noopener"><code>send_mass_mail()</code></a> 和 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.send_mail" target="_blank" rel="noopener"><code>send_mail()</code></a> 的区别在于： <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.send_mail" target="_blank" rel="noopener"><code>send_mail()</code></a> 每发送一封邮件就会打开一次邮件服务器链接，而<a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.send_mass_mail" target="_blank" rel="noopener"><code>send_mass_mail()</code></a> 则是打开一次链接，发送所有的邮件。 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.send_mass_mail" target="_blank" rel="noopener"><code>send_mass_mail()</code></a> 明显更高效。</p>
<h3 id="main_admins"><a class="markdownIt-Anchor" href="#main_admins"></a> main_admins()</h3>
<p><code>mail_admins</code>(<em>subject</em>, <em>message</em>, <em>fail_silently=False</em>, <em>connection=None</em>, <em>html_message=None</em>)</p>
<p><code>django.core.mail.mail_admins()</code> 是一个给网站后台管理员(admin)发邮件的快捷方法，管理员设置放在 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/ref/settings.html#std:setting-ADMINS" target="_blank" rel="noopener"><code>ADMINS</code></a> 配置项。</p>
<p><code>mail_admins()</code> 使用 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/ref/settings.html#std:setting-EMAIL_SUBJECT_PREFIX" target="_blank" rel="noopener"><code>EMAIL_SUBJECT_PREFIX</code></a> 配置项的值做为邮件标题的前缀，默认情况下是 <code>&quot;[Django] &quot;</code> 。</p>
<h3 id="mail_managers"><a class="markdownIt-Anchor" href="#mail_managers"></a> mail_managers()</h3>
<p>mail_managers`(<em>subject</em>, <em>message</em>, <em>fail_silently=False</em>, <em>connection=None</em>, <em>html_message=None</em>)</p>
<p>mail_managers<code>(*subject*, *message*, *fail_silently=False*, *connection=None*, *html_message=None*)</code>django.core.mail.mail_managers()<code>is just like</code>mail_admins()<code>，不同之处在于该方法的邮件接收人是网站负责人(manager)， 可以在 [</code>MANAGERS`]配置项设置网站负责人</p>
<h4 id="emailmessage-对象"><a class="markdownIt-Anchor" href="#emailmessage-对象"></a> EmailMessage 对象</h4>
<ul>
<li>*class *<code>EmailMessage</code></li>
</ul>
<p><a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.EmailMessage" target="_blank" rel="noopener"><code>EmailMessage</code></a> 类使用下列参数初始化（除非使用位置参数，否则默认顺序如下）。所有参数均可选，均可在调用 <code>send()</code>方法之前的任何时间对其赋值。</p>
<p>加入了 <code>cc</code> 参数（cc是抄送）</p>
<ul>
<li>
<p><code>subject</code>: 邮件的标题行</p>
</li>
<li>
<p><code>body</code>: 邮件的主体内容文本，须是纯文本信息。</p>
</li>
<li>
<p><code>from_email</code>: 发送者的地址。 <code>fred@example.com</code> 或 <code>Fred &lt;fred@example.com&gt;</code> 格式都是合法的。如果忽略该参数，Django就会使用 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/ref/settings.html#std:setting-DEFAULT_FROM_EMAIL" target="_blank" rel="noopener"><code>DEFAULT_FROM_EMAIL</code></a> 配置项。</p>
</li>
<li>
<p><code>to</code>: 收件人地址列表或元组。</p>
</li>
<li>
<p><code>bcc</code>: 发送邮件时用于”Bcc”头信息的一组列表或元组，也就是暗送的收件人。</p>
</li>
<li>
<p><code>connection</code>: 一个邮件后端实例。用同一个链接发送多封邮件就要用到该参数。忽略该参数时，会在调用 <code>send()</code> 时自动创建一个新链接。</p>
</li>
<li>
<p><code>attachments</code>: 置于邮件报文内的附件列表。列表元素可以是　<code>email.MIMEBase.MIMEBase</code> 实例，也可以是 <code>(filename, content, mimetype)</code> 三部分构成的元组。</p>
</li>
<li>
<p><code>headers</code>: 置于邮件报文内的其他头信息(header)的字典。字典的key是头信息的名称，字典的value是头信息的值。 这样做能确保头信息的名称和对应值会以正确的格式保存于邮件报文中。</p>
</li>
<li>
<p><code>cc</code>: 发送邮件时放于”Cc”头信息的一系列列表或元组。</p>
<p>例如:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">email = EmailMessage(&apos;Hello&apos;, &apos;Body goes here&apos;, &apos;from@example.com&apos;,</span><br><span class="line">            [&apos;to1@example.com&apos;, &apos;to2@example.com&apos;], [&apos;bcc@example.com&apos;],</span><br><span class="line">            headers = &#123;&apos;Reply-To&apos;: &apos;another@example.com&apos;&#125;)</span><br></pre></td></tr></table></figure>
<p>该类方法如下:</p>
<ul>
<li>
<p><code>send(fail_silently=False)</code> 发送邮件报文。如果在构造邮件时如果指定了某个链接(connection)，就会使用该链接发邮件。 否则，就会使用默认后端的实例发邮件。如果关键字参数 <code>fail_silently</code> 为 <code>True</code> ，就会忽略邮件发送时抛出的异常。</p>
</li>
<li>
<p><code>message()</code> 构造了一个 <code>django.core.mail.SafeMIMEText</code> 对象 (Python的 <code>email.MIMEText.MIMEText</code> 类的子类) 或是 <code>django.core.mail.SafeMIMEMultipart</code> 对象（该对象保存即将发送出去邮件报文）。如需扩展 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.EmailMessage" target="_blank" rel="noopener"><code>EmailMessage</code></a>类，一般情况下要覆写该方法，将你所需的内容添加到MIME对象中。</p>
</li>
<li>
<p><code>recipients()</code> 返回邮件中所有收件人的列表，不管收件人是在 <code>to</code> 还是 <code>bcc</code> 属性中。这是另一个经常被继承覆写的方法， 因为SMTP服务器在发送邮件报文时，要接收完整的收件人列表。即使你自己的类使用其他方式来指定收件人，也仍然需要使用该方法返回收件人列表。</p>
</li>
<li>
<p><code>attach()</code> 创建一个新的文件附件，并把它添加到邮件报文中。 有两种方法调用 <code>attach()</code>:</p>
<ul>
<li>
<p>传递一个单独的 <code>email.MIMEBase.MIMEBase</code> 实例做为参数。该实例会直接添加到最终的邮件报文中。</p>
</li>
<li>
<p>或者，给 <code>attach()</code> 传递三个参数: <code>filename</code>, <code>content</code> 和 <code>mimetype</code>. <code>filename</code> 是出现在邮件中的附件文件的名称， <code>content</code> 是附件的内容，而 <code>mimetype</code> 是附件所使用的MIME类型。 如果忽略 <code>mimetype</code>, Django会自动根据附件文件名来推测MIME内容类型。</p>
<p>例如:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">message.attach(&apos;design.png&apos;, img_data, &apos;image/png&apos;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>attach_file()</code> 使用当前文件系统下的某个文件做为附件。调用时，传入某个文件的完整路径，以及该附件的MIME类型(可选的)。 忽略MIME类型的话，Django会自动根据附件文件名来推测MIME类型。最简单的用法如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">message.attach_file(&apos;/images/weather_map.png&apos;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="发送多用途邮件"><a class="markdownIt-Anchor" href="#发送多用途邮件"></a> 发送多用途邮件</h4>
<p>在同一封邮件中包含多种版本的内容是非常有用的；典型的例子就是发送既有纯文本版本内容又有HTML版本内容的邮件。 在Django的邮件库中，可以使用 <code>EmailMultiAlternatives</code> 类来达到该目的。 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.EmailMessage" target="_blank" rel="noopener"><code>EmailMessage</code></a> 的子类有一个<code>attach_alternative()</code> 方法用来包含其他版本的邮件主体内容。所有其他方法(包括类的初始化方法)都直接继承自 <a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.EmailMessage" target="_blank" rel="noopener"><code>EmailMessage</code></a> 。</p>
<p>发送一封文本/HTML混合邮件，代码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from django.core.mail import EmailMultiAlternatives</span><br><span class="line"></span><br><span class="line">subject, from_email, to = &apos;hello&apos;, &apos;from@example.com&apos;, &apos;to@example.com&apos;</span><br><span class="line">text_content = &apos;This is an important message.&apos;</span><br><span class="line">html_content = &apos;&lt;p&gt;This is an &lt;strong&gt;important&lt;/strong&gt; message.&lt;/p&gt;&apos;</span><br><span class="line">msg = EmailMultiAlternatives(subject, text_content, from_email, [to])</span><br><span class="line">msg.attach_alternative(html_content, &quot;text/html&quot;)</span><br><span class="line">msg.send()</span><br></pre></td></tr></table></figure>
<p>默认情况下，<a href="https://django-chinese-docs-14.readthedocs.io/en/latest/topics/email.html#django.core.mail.EmailMessage" target="_blank" rel="noopener"><code>EmailMessage</code></a> 类中的 <code>body</code> 参数的MIME类型是 <code>&quot;text/plain&quot;</code> 。 大多数情况下，没必要更改该MIME，因为这样能保证每个收件人能够阅读该邮件，而不论他们使用的是什么邮件客户端。 不过，在能确保收件人能处理多用途邮件的情况下，可以使用:class:~django.core.mail.EmailMessage 类的 <code>content_subtype</code> 属性 来更改邮件内容类型。主类型总是 <code>&quot;text&quot;</code> ，子类型可以设置为别的版本(比如html)，例如:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msg = EmailMessage(subject, html_content, from_email, [to])</span><br><span class="line">msg.content_subtype = &quot;html&quot;  # 主内体现在变成 text/html</span><br><span class="line">msg.send()</span><br></pre></td></tr></table></figure>
<h4 id="获取邮件发送后端的实例"><a class="markdownIt-Anchor" href="#获取邮件发送后端的实例"></a> 获取邮件发送后端的实例</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">django.core.mail 的 get_connection() 函式返回你当前使用的邮件后端的实例。</span><br><span class="line"></span><br><span class="line">get_connection(backend=None, fail_silently=False, *args, **kwargs)</span><br></pre></td></tr></table></figure>
<ul>
<li>
<h4 id="smtp-backend-默认的后端"><a class="markdownIt-Anchor" href="#smtp-backend-默认的后端"></a> SMTP backend	--默认的后端</h4>
</li>
<li>
<h4 id="console-backend"><a class="markdownIt-Anchor" href="#console-backend"></a> Console backend</h4>
</li>
<li>
<h4 id="file-backend-该后端并不建议在生产环境下使用它仅仅是为开发提供方便"><a class="markdownIt-Anchor" href="#file-backend-该后端并不建议在生产环境下使用它仅仅是为开发提供方便"></a> File backend --该后端并不建议在生产环境下使用–它仅仅是为开发提供方便</h4>
</li>
<li>
<h4 id="in-memory-backend内存后端"><a class="markdownIt-Anchor" href="#in-memory-backend内存后端"></a> In-memory backend(内存后端)</h4>
</li>
<li>
<h4 id="dummy-backend空后端"><a class="markdownIt-Anchor" href="#dummy-backend空后端"></a> Dummy backend(空后端)</h4>
</li>
</ul>
<h4 id="需要在-settingspy中设置的东西"><a class="markdownIt-Anchor" href="#需要在-settingspy中设置的东西"></a> 需要在 settings.py中设置的东西:</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EMAIL_BACKEND = &apos;django.core.mail.backends.smtp.EmailBackend&apos;</span><br><span class="line">EMAIL_USE_SSL = True</span><br><span class="line">EMAIL_HOST = &apos;smtp.gmail.com&apos;</span><br><span class="line">EMAIL_PORT = 587</span><br><span class="line">EMAIL_HOST_USER = &apos;urusername@gmail.com&apos;</span><br><span class="line">EMAIL_HOST_PASSWORD = &apos;password&apos;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/12/Python中邮件的发送/" data-id="cjzyy2knx00ghk829mfsog1jo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flask/">flask</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-使用Cerbot申请免费证书升级-http到https" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/08/使用Cerbot申请免费证书升级-http到https/" class="article-date">
  <time datetime="2018-12-08T08:10:03.000Z" itemprop="datePublished">2018-12-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/08/使用Cerbot申请免费证书升级-http到https/">使用Cerbot申请免费证书升级 http到https</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="使用-cerbot-免费证书-简单-升级-http-到-https"><a class="markdownIt-Anchor" href="#使用-cerbot-免费证书-简单-升级-http-到-https"></a> <a href="https://www.cnblogs.com/kiscall/p/5564448.html" target="_blank" rel="noopener">使用 Cerbot 免费证书 简单 升级 http 到 https</a></h1>
<p>1、安装 <em>cerbot</em>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/letsencrypt/letsencrypt</span><br><span class="line">cd letsencrypt</span><br></pre></td></tr></table></figure>
<p><em>要求</em>：</p>
<ul>
<li><em>Python</em> 2.7</li>
<li>Git环境</li>
<li>连接外网</li>
</ul>
<p>2、运行:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 根据自己的需求调整代码</span><br><span class="line">./certbot-auto certonly --standalone --email admin@example.com -d example.com -d www.example.com -d other.example.net</span><br></pre></td></tr></table></figure>
<p>成功提示:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">IMPORTANT NOTES:</span><br><span class="line">Congratulations! Your certificate and chain have been saved at:</span><br><span class="line">   /etc/letsencrypt/live/sast.nymrli.top/fullchain.pem</span><br><span class="line">   Your key file has been saved at:</span><br><span class="line">   /etc/letsencrypt/live/sast.nymrli.top/privkey.pem</span><br><span class="line">   Your cert will expire on 2019-02-08. To obtain a new or tweaked</span><br><span class="line">   version of this certificate in the future, simply run certbot-auto</span><br><span class="line">   again. To non-interactively renew *all* of your certificates, run</span><br><span class="line">   &quot;certbot-auto renew&quot;</span><br><span class="line"> - If you like Certbot, please consider supporting our work by:</span><br></pre></td></tr></table></figure>
<p>3、配置<em>Nginx</em>:</p>
<p>server 不再监听80端口，因为TLS要使用的是443端口，然后引入证书和key</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    server_name sast.nymrli.top;     //这里是你的域名</span><br><span class="line">    index index_page.html;</span><br><span class="line">    root /var/www/homework_submission-master/;        //网站目录</span><br><span class="line">    ssl_certificate   /etc/letsencrypt/live/sast.nymrli.top/fullchain.pem;    //前面生成的证书，改一下里面的域名就行，不建议更换路径</span><br><span class="line">    ssl_certificate_key /etc/letsencrypt/live/sast.nymrli.top/privkey.pem;   //前面生成的密钥，改一下里面的域名就行，不建议更换路径</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>重启<em>Nginx</em>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service nginx restart</span><br></pre></td></tr></table></figure>
<p>OK!</p>
<hr>
<h5 id="问题解决"><a class="markdownIt-Anchor" href="#问题解决"></a> 问题解决:</h5>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Problem binding to port 80: Could not bind to IPv4 or IPv6.</span><br></pre></td></tr></table></figure>
<p>原因是 nginx 占用了80端口，输入<code>service nginx stop</code>。然后再次执行证书安装命令，即可顺利安装。安装完毕后，输入<code>service nginx start</code>，重启 nginx 服务。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/08/使用Cerbot申请免费证书升级-http到https/" data-id="cjzyy2kff005mk829tqfbko1a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/后端/">后端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/环境部署/">环境部署</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-pipenv-新款Python虚拟环境工具详解-转" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/08/pipenv-新款Python虚拟环境工具详解-转/" class="article-date">
  <time datetime="2018-12-08T08:08:23.000Z" itemprop="datePublished">2018-12-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/08/pipenv-新款Python虚拟环境工具详解-转/">pipenv 新款Python虚拟环境工具详解[转]</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="pipenv-新款python虚拟环境工具详解转"><a class="markdownIt-Anchor" href="#pipenv-新款python虚拟环境工具详解转"></a> pipenv 新款Python虚拟环境工具详解[转]</h1>
<p>pipenv是requests库作者Kenneth Reitz编写的一个用于创建和管理Python虚拟环境的工具。</p>
<p>Pipenv是Python官方机构推荐的Python包工具。</p>
<p>我们知道，为了管理Python虚拟环境，通常用得比较多的是virtualenv和pyenv。但是有人觉得它们还不够好用，不够偷懒。这个人是谁，就是上面的那位。于是他开发了一个pipenv，结合了pip及virtualenv的功能和优点，集成出了pipenv这个工具。其目的是替代virtualenv和pyenv，将pip及virtualenv的功能集于一身。</p>
<h2 id="一-安装pipenv"><a class="markdownIt-Anchor" href="#一-安装pipenv"></a> 一、安装pipenv</h2>
<p>windows下很简单：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pipenv</span><br></pre></td></tr></table></figure>
<p>Linux下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install pipenv</span><br></pre></td></tr></table></figure>
<p>在苹果操作系统下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install pipenv</span><br></pre></td></tr></table></figure>
<p>也就是说，无法用pip管理的包，pipenv同样无法使用。</p>
<p>pipenv依赖：psutil, virtualenv-clone, pew, certifi, urllib3, chardet, requests, mccabe, pyflakes, pycodestyle, flake8等第三方模块。</p>
<p>pipenv有很漂亮的彩色终端界面。</p>
<h2 id="二-简单使用"><a class="markdownIt-Anchor" href="#二-简单使用"></a> 二、简单使用</h2>
<p>进入你的Python项目文件夹：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd your_project</span><br><span class="line">pipenv install</span><br></pre></td></tr></table></figure>
<p>windows操作系统中，虚拟环境创建过程如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">D:\test\test_pipenv&gt;pipenv install</span><br><span class="line">Creating a virtualenv for this project…</span><br><span class="line">Using base prefix &apos;c:\\python36&apos;</span><br><span class="line">New python executable in C:\Users\Administrator\.virtualenvs\test_pipenv-XHxuOsj</span><br><span class="line">n\Scripts\python.exe</span><br><span class="line">Installing setuptools, pip, wheel...done.</span><br><span class="line"></span><br><span class="line">Virtualenv location: C:\Users\Administrator\.virtualenvs\test_pipenv-XHxuOsjn</span><br><span class="line">Creating a Pipfile for this project…</span><br><span class="line">Pipfile.lock not found, creating…</span><br><span class="line">Locking [dev-packages] dependencies…</span><br><span class="line">Locking [packages] dependencies…</span><br><span class="line">Updated Pipfile.lock (c23e27)!</span><br><span class="line">Installing dependencies from Pipfile.lock (c23e27)…</span><br><span class="line">  ================================ 0/0 - 00:00:00</span><br><span class="line">To activate this project&apos;s virtualenv, run the following:</span><br><span class="line"> $ pipenv shell</span><br></pre></td></tr></table></figure>
<p>如果你给命令添加–two或–three参数，它将分别使用Python2或3来初始化你的虚拟环境，否则将使用默认的Python版本。</p>
<p>注意：pipenv默认把虚拟环境的真实文件全都放在了<code>C:\Users\Administrator\.virtualenvs\test_pipenv-XHxuOsjn\Scripts\python.exe</code>中，而在实际的项目文件夹内只创建了两个新文件Pipfile和Pipfile.lock。这可能造成C盘存有大量的文件，不是个好的做法。（但好像无法修改这一路径…）</p>
<p>看一下Pipfile中的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[[source]]</span><br><span class="line"></span><br><span class="line">url = &quot;https://pypi.python.org/simple&quot;</span><br><span class="line">verify_ssl = true</span><br><span class="line">name = &quot;pypi&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[packages]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[dev-packages]</span><br></pre></td></tr></table></figure>
<p>最关键的是定义了安装第三方库使用的源，默认为官方的pypi。</p>
<p>而Pipfile.lock文件内容呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;_meta&quot;: &#123;</span><br><span class="line">        &quot;hash&quot;: &#123;</span><br><span class="line">            &quot;sha256&quot;: &quot;5f0257fe8c7a73db1c8de519faa92c658282a01087eb2bfafba7962704c23e27&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;host-environment-markers&quot;: &#123;</span><br><span class="line">            &quot;implementation_name&quot;: &quot;cpython&quot;,</span><br><span class="line">            &quot;implementation_version&quot;: &quot;3.6.4&quot;,</span><br><span class="line">            &quot;os_name&quot;: &quot;nt&quot;,</span><br><span class="line">            &quot;platform_machine&quot;: &quot;AMD64&quot;,</span><br><span class="line">            &quot;platform_python_implementation&quot;: &quot;CPython&quot;,</span><br><span class="line">            &quot;platform_release&quot;: &quot;7&quot;,</span><br><span class="line">            &quot;platform_system&quot;: &quot;Windows&quot;,</span><br><span class="line">            &quot;platform_version&quot;: &quot;6.1.7601&quot;,</span><br><span class="line">            &quot;python_full_version&quot;: &quot;3.6.4&quot;,</span><br><span class="line">            &quot;python_version&quot;: &quot;3.6&quot;,</span><br><span class="line">            &quot;sys_platform&quot;: &quot;win32&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;pipfile-spec&quot;: 6,</span><br><span class="line">        &quot;requires&quot;: &#123;&#125;,</span><br><span class="line">        &quot;sources&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;name&quot;: &quot;pypi&quot;,</span><br><span class="line">                &quot;url&quot;: &quot;https://pypi.python.org/simple&quot;,</span><br><span class="line">                &quot;verify_ssl&quot;: true</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;default&quot;: &#123;&#125;,</span><br><span class="line">    &quot;develop&quot;: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>初始情况下，文件里只包含一些操作系统的基本信息。</p>
<p>Pipfile和Pipfile.lock两个文件互相配合，完成虚拟环境的管理工作。</p>
<h2 id="三-安装第三方模块"><a class="markdownIt-Anchor" href="#三-安装第三方模块"></a> 三、安装第三方模块</h2>
<p>Pipfile包含关于项目的依赖包的信息，并取代通常在Python项目中使用的requirements.txt文件。 如果你在具有requirements.txt文件的项目中启动了Pipenv，则在把它从项目中删除之前，应该使用Pipenv安装该requirements中列出的所有依赖包。</p>
<p>使用pipenv创建虚拟环境后，<strong>进入pipfile所在目录</strong>，使用install命令安装第三方库。 例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv install django</span><br></pre></td></tr></table></figure>
<p>这个时候，你其实把pipenv当作pip来使用。无需像virtualenv那样需要额外的先启动虚拟环境。pipenv区分你是在给哪个虚拟环境工作，依赖的是Pipfile文件的位置。</p>
<p>要卸载某个第三方库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv uninstall beautifulsoup4</span><br></pre></td></tr></table></figure>
<h2 id="四-冻结pipfile"><a class="markdownIt-Anchor" href="#四-冻结pipfile"></a> 四、冻结Pipfile</h2>
<p>冻结就相当于将项目所使用的第三方库列表进行打包输出，类似于virtualenv中生成requirements.txt文件。</p>
<p>通过更新Pipfile.lock来冻结库名称及其版本，以及其依赖关系的列表。需要使用lock参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv lock</span><br></pre></td></tr></table></figure>
<p>如果另一个用户拷贝了你的项目，他们只需要安装Pipenv，然后：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv install</span><br></pre></td></tr></table></figure>
<p>Pipenv会在项目文件夹下自动寻找Pipfile和Pipfile.lock文件，创建一个新的虚拟环境并安装必要的软件包。</p>
<p>也就是说pipenv install的时候有三种逻辑：</p>
<ul>
<li>如果目录下没有Pipfile和Pipfile.lock文件，表示创建一个新的虚拟环境；</li>
<li>如果有，表示使用已有的Pipfile和Pipfile.lock文件中的配置创建一个虚拟环境；</li>
<li>如果后面带诸如django这一类库名，表示为当前虚拟环境安装第三方库。</li>
</ul>
<h2 id="五-管理开发环境"><a class="markdownIt-Anchor" href="#五-管理开发环境"></a> 五、管理开发环境</h2>
<p>通常有一些Python包只在你的开发环境中需要，而不是在生产环境中，例如单元测试包。 Pipenv使用–dev标志区分两个环境。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv install --dev django</span><br></pre></td></tr></table></figure>
<p>django库现在将只在开发虚拟环境中使用。如果你要在你的生产环境中安装你的项目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv install</span><br></pre></td></tr></table></figure>
<p>这不会安装django包。</p>
<p>但是，如果有一个开发人员将你的项目克隆到自己的开发环境中，他们可以使用–dev标志，将django也安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv install --dev</span><br></pre></td></tr></table></figure>
<p>也就是说一个–dev参数，帮你在同一个虚拟环境中又区分出了开发和非开发环境。</p>
<h2 id="六-在虚拟环境中运行命令"><a class="markdownIt-Anchor" href="#六-在虚拟环境中运行命令"></a> 六、在虚拟环境中运行命令</h2>
<p>使用run参数，提供要运行的命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv run python manage.py runserver</span><br></pre></td></tr></table></figure>
<p>这将使用当前虚拟环境关联的Python解释器，执行命令。</p>
<p>或者简单的执行脚本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv run python your_script.py</span><br></pre></td></tr></table></figure>
<p>如果你不想每次运行Python时都输入这么多字符，可以在shell中设置一个别名，例如，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias prp=&quot;pipenv run python&quot;</span><br></pre></td></tr></table></figure>
<h2 id="七-pipenv选项解释"><a class="markdownIt-Anchor" href="#七-pipenv选项解释"></a> 七、pipenv选项解释</h2>
<p>pipenv 具有下列的选项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv</span><br><span class="line">Usage: pipenv [OPTIONS] COMMAND [ARGS]...</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  --update         更新Pipenv &amp; pip</span><br><span class="line">  --where          显示项目文件所在路径</span><br><span class="line">  --venv           显示虚拟环境实际文件所在路径</span><br><span class="line">  --py             显示虚拟环境Python解释器所在路径</span><br><span class="line">  --envs           显示虚拟环境的选项变量</span><br><span class="line">  --rm             删除虚拟环境</span><br><span class="line">  --bare           最小化输出</span><br><span class="line">  --completion     完整输出</span><br><span class="line">  --man            显示帮助页面</span><br><span class="line">  --three / --two  使用Python 3/2创建虚拟环境（注意本机已安装的Python版本）</span><br><span class="line">  --python TEXT    指定某个Python版本作为虚拟环境的安装源</span><br><span class="line">  --site-packages  附带安装原Python解释器中的第三方库</span><br><span class="line">  --jumbotron      不知道啥玩意....</span><br><span class="line">  --version        版本信息</span><br><span class="line">  -h, --help       帮助信息</span><br></pre></td></tr></table></figure>
<p>pipenv 可使用的命令参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Commands:</span><br><span class="line">  check      检查安全漏洞</span><br><span class="line">  graph      显示当前依赖关系图信息</span><br><span class="line">  install    安装虚拟环境或者第三方库</span><br><span class="line">  lock       锁定并生成Pipfile.lock文件</span><br><span class="line">  open       在编辑器中查看一个库</span><br><span class="line">  run        在虚拟环境中运行命令</span><br><span class="line">  shell      进入虚拟环境</span><br><span class="line">  uninstall  卸载一个库</span><br><span class="line">  update     卸载当前所有的包，并安装它们的最新版本</span><br></pre></td></tr></table></figure>
<p>一些使用例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Usage Examples:</span><br><span class="line">   使用Python 3.6创建虚拟环境:</span><br><span class="line">   $ pipenv --python 3.6</span><br><span class="line"></span><br><span class="line">   安装包括开发环境中的第三方库:</span><br><span class="line">   $ pipenv install --dev</span><br><span class="line"></span><br><span class="line">   锁定pipfile:</span><br><span class="line">   $ pipenv lock --pre</span><br><span class="line"></span><br><span class="line">   Install a local setup.py into your virtual environment/Pipfile:</span><br><span class="line">   $ pipenv install -e .</span><br></pre></td></tr></table></figure>
<h2 id="八-一些使用过程展示"><a class="markdownIt-Anchor" href="#八-一些使用过程展示"></a> 八、一些使用过程展示</h2>
<p>定位项目路径:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv --where</span><br><span class="line">/Users/kennethreitz/Library/Mobile Documents/com~apple~CloudDocs/repos/kr/pipenv/test</span><br></pre></td></tr></table></figure>
<p>定位虚拟环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv --venv</span><br><span class="line">/Users/kennethreitz/.local/share/virtualenvs/test-Skyy4vre</span><br></pre></td></tr></table></figure>
<p>定位Python解释器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv --py</span><br><span class="line">/Users/kennethreitz/.local/share/virtualenvs/test-Skyy4vre/bin/python</span><br></pre></td></tr></table></figure>
<p>安装包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv install</span><br><span class="line">Creating a virtualenv for this project...</span><br><span class="line">...</span><br><span class="line">No package provided, installing all dependencies.</span><br><span class="line">Virtualenv location: /Users/kennethreitz/.local/share/virtualenvs/test-EJkjoYts</span><br><span class="line">Installing dependencies from Pipfile.lock...</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">To activate this project&apos;s virtualenv, run the following:</span><br><span class="line">$ pipenv shell</span><br></pre></td></tr></table></figure>
<p>安装一个开发环境中才使用的包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv install pytest --dev</span><br><span class="line">Installing pytest...</span><br><span class="line">...</span><br><span class="line">Adding pytest to Pipfile&apos;s [dev-packages]...</span><br></pre></td></tr></table></figure>
<p>显示依赖关系：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv graph</span><br><span class="line">requests==2.18.4</span><br><span class="line">  - certifi [required: &gt;=2017.4.17, installed: 2017.7.27.1]</span><br><span class="line">  - chardet [required: &gt;=3.0.2,&lt;3.1.0, installed: 3.0.4]</span><br><span class="line">  - idna [required: &gt;=2.5,&lt;2.7, installed: 2.6]</span><br><span class="line">  - urllib3 [required: &lt;1.23,&gt;=1.21.1, installed: 1.22]</span><br></pre></td></tr></table></figure>
<p>生成lock文件:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv lock</span><br><span class="line">Assuring all dependencies from Pipfile are installed...</span><br><span class="line">Locking [dev-packages] dependencies...</span><br><span class="line">Locking [packages] dependencies...</span><br><span class="line">Note: your project now has only default [packages] installed.</span><br><span class="line">To install [dev-packages], run: $ pipenv install --dev</span><br></pre></td></tr></table></figure>
<p>安装开发环境依赖：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv install --dev</span><br><span class="line">Pipfile found at /Users/kennethreitz/repos/kr/pip2/test/Pipfile. Considering this to be the project home.</span><br><span class="line">Pipfile.lock out of date, updating...</span><br><span class="line">Assuring all dependencies from Pipfile are installed...</span><br><span class="line">Locking [dev-packages] dependencies...</span><br><span class="line">Locking [packages] dependencies...</span><br></pre></td></tr></table></figure>
<p>卸载所有的包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv uninstall --all</span><br><span class="line">No package provided, un-installing all dependencies.</span><br><span class="line">Found 25 installed package(s), purging...</span><br><span class="line">...</span><br><span class="line">Environment now purged and fresh!</span><br></pre></td></tr></table></figure>
<p>使用虚拟环境的shell。exit退出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pipenv shell</span><br><span class="line">Loading .env environment variables…</span><br><span class="line">Launching subshell in virtual environment. Type &apos;exit&apos; or &apos;Ctrl+D&apos; to return.</span><br></pre></td></tr></table></figure>
<p>本文来自刘江的博客和教程网站http://www.liujiangblog.com/blog/</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/08/pipenv-新款Python虚拟环境工具详解-转/" data-id="cjzyy2kmo00fak829kmjn4osv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-ifdef、-ifndef、-endif" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/08/ifdef、-ifndef、-endif/" class="article-date">
  <time datetime="2018-12-08T08:07:37.000Z" itemprop="datePublished">2018-12-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/08/ifdef、-ifndef、-endif/">#ifdef、#ifndef、#endif</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ifdef-ifndef-endif使用说明"><a class="markdownIt-Anchor" href="#ifdef-ifndef-endif使用说明"></a> #ifdef、#ifndef、#endif使用说明</h1>
<h3 id="目的防止头文件重复include"><a class="markdownIt-Anchor" href="#目的防止头文件重复include"></a> 目的:防止头文件重复include</h3>
<h4 id="示例说明"><a class="markdownIt-Anchor" href="#示例说明"></a> 示例说明:</h4>
<h5 id="ah"><a class="markdownIt-Anchor" href="#ah"></a> a.h</h5>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &quot;b.h&quot;</span><br></pre></td></tr></table></figure>
<h5 id="bh"><a class="markdownIt-Anchor" href="#bh"></a> b.h</h5>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;a.h&quot;</span><br></pre></td></tr></table></figure>
<h5 id="cc"><a class="markdownIt-Anchor" href="#cc"></a> c.c</h5>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;a.h&quot;</span><br><span class="line">#include &quot;b.h&quot;</span><br><span class="line">int main()&#123;</span><br><span class="line">    printf(&quot;Hello!&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果你程序是这样写的话，编译器就会出现Error #include nested too deeply的错误。<br>
因为这里 b.h 和 a.h 都互相include，c.c文件在include的时候重复include了a.h，我们希望c.c文件中执行#include &quot;b.h&quot;的时候 b.h 能进行判断，如果没有#include &quot;a.h&quot;则include，如果已经include了，则不再重复定义。</p>
<p>可以将<strong>b.h</strong>修改为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _A_H</span><br><span class="line">#define _A_H </span><br><span class="line">#include &quot;a.h&quot;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<p>原因是: &gt; <code>c.c</code>中先include了<code>a.h</code>文件，其中<code>a.h</code>中又包括了<code>b.h</code>，所以会定义宏<code>_A_H</code>，当<code>c,c</code>中又include<code>b,h</code>时判断<code>_A_H</code>是否已经被定义了,如果被定义了,则不再include<code>a.h</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/08/ifdef、-ifndef、-endif/" data-id="cjzyy2ket004mk8296sllufui" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-小程序——高德地图API调用" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/06/小程序——高德地图API调用/" class="article-date">
  <time datetime="2018-12-06T09:11:14.000Z" itemprop="datePublished">2018-12-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/06/小程序——高德地图API调用/">小程序——高德地图API调用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="小程序高德地图api调用"><a class="markdownIt-Anchor" href="#小程序高德地图api调用"></a> 小程序——高德地图API调用</h2>
<h3 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h3>
<p>将压缩包解压至使用的小程序目录下，创建libs文件夹，包含<code>amap-wx.js</code></p>
<p><img src="/2018/12/06/小程序——高德地图API调用/E:%5Chexo%5Csource_posts%5C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E2%80%94%E2%80%94%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E8%B0%83%E7%94%A8%5C1.jpg" alt="1"></p>
<h3 id="导入使用"><a class="markdownIt-Anchor" href="#导入使用"></a> 导入使用</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> amapFile = <span class="built_in">require</span>(<span class="string">'..­/../../../libs/amap-wx.js'</span>);</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    src: <span class="string">''</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> myAmapFun = <span class="keyword">new</span> amapFile.AMapWX(&#123; <span class="attr">key</span>: <span class="string">"	dbb8be907441c2650218bdfd78848cf6"</span> &#125;);</span><br><span class="line">    wx.getSystemInfo(&#123;</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;			<span class="comment">//获得手机屏幕的高度宽度</span></span><br><span class="line">        <span class="keyword">var</span> height = data.windowHeight;</span><br><span class="line">        <span class="keyword">var</span> width = data.windowWidth;</span><br><span class="line">        <span class="keyword">var</span> size = width + <span class="string">"*"</span> + height;</span><br><span class="line">        myAmapFun.getStaticmap(&#123;</span><br><span class="line">          location: <span class="string">"118.9301,32.109"</span>,		<span class="comment">//地图中心</span></span><br><span class="line">          zoom: <span class="number">15</span>,							<span class="comment">//缩放比例</span></span><br><span class="line">          size: size,						<span class="comment">//尺寸大小</span></span><br><span class="line">          scale: <span class="number">2</span>,							<span class="comment">//像素,普通图、高清图</span></span><br><span class="line">          markers: 							<span class="comment">//标记	</span></span><br><span class="line"> <span class="string">"large,0xFF0000,A:118.9301,32.109|mid,0xFF0000,B:118.9301,32.110"</span>,</span><br><span class="line">          success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            that.setData(&#123;</span><br><span class="line">              src: data.url</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;,</span><br><span class="line">          fail: <span class="function"><span class="keyword">function</span> (<span class="params">info</span>) </span>&#123;</span><br><span class="line">            wx.showModal(&#123; <span class="attr">title</span>: info.errMsg &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  onReady: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  onShow: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  onHide: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  onUnload: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  onPullDownRefresh: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  onReachBottom: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  onShareAppMessage: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="api使用说明"><a class="markdownIt-Anchor" href="#api使用说明"></a> API使用说明</h3>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>含义</th>
<th>规则说明</th>
<th>是否必填</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>用户唯一标识</td>
<td>用户在高德地图官网申请</td>
<td>必填</td>
<td>无</td>
</tr>
<tr>
<td>location</td>
<td>地图中心点</td>
<td>中心点坐标。规则：经度和纬度用&quot;,&quot;分隔 经纬度小数点后不得超过6位。</td>
<td>部分条件必填</td>
<td>无</td>
</tr>
<tr>
<td>zoom</td>
<td>地图级别</td>
<td>地图缩放级别:[1,17]</td>
<td>可选</td>
<td>无</td>
</tr>
<tr>
<td>size</td>
<td>地图大小</td>
<td>图片宽度<em>图片高度。最大值为1024</em>1024</td>
<td>可选</td>
<td>400*400</td>
</tr>
<tr>
<td>scale</td>
<td>普通/高清</td>
<td>1:返回普通图；2:调用高清图，图片高度和宽度都增加一倍，zoom也增加一倍（当zoom为最大值时，zoom不再改变）。</td>
<td>可选</td>
<td>1</td>
</tr>
<tr>
<td>markers</td>
<td>标注</td>
<td>使用规则见markers详细说明，标注最大数10个</td>
<td>可选</td>
<td>无</td>
</tr>
<tr>
<td>labels</td>
<td>标签</td>
<td>使用规则见labels详细说明，标签最大数10个</td>
<td>可选</td>
<td>无</td>
</tr>
<tr>
<td>paths</td>
<td>折线</td>
<td>使用规则见paths详细说明，折线和多边形最大数4个</td>
<td>可选</td>
<td>无</td>
</tr>
<tr>
<td>traffic</td>
<td>交通路况标识</td>
<td>底图是否展现实时路况。 可选值： 0，不展现；1，展现。</td>
<td>可选</td>
<td>0</td>
</tr>
<tr>
<td>sig</td>
<td>数字签名</td>
<td>数字签名认证用户必填</td>
<td>可选</td>
<td>无</td>
</tr>
</tbody>
</table>
<h4 id="markers"><a class="markdownIt-Anchor" href="#markers"></a> markers:</h4>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">markers:<span class="string">"large,0xFF0000,A:118.9301,32.109|mid,0xFF0000,B:118.9301,32.110"</span>,</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">markers:<span class="string">"large,0xFF0000,A:118.9301,32.109;B:118.9301,32.110"</span>,</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>说明</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>size</td>
<td>可选值： small,mid,large</td>
<td>small</td>
</tr>
<tr>
<td>color</td>
<td>选值范围：[0x000000, 0xffffff]例如：0x000000 black,0x008000 green,0x800080 purple,0xFFFF00 yellow,0x0000FF blue,0x808080 gray,0xffa500 orange,0xFF0000 red,0xFFFFFF white</td>
<td>0xFC6054</td>
</tr>
<tr>
<td>label</td>
<td>[0-9]、[A-Z]、[单个中文字] 当size为small时，图片不展现标注名。</td>
<td>无</td>
</tr>
</tbody>
</table>
<p><code>label，font ,bold, fontSize，fontColor，background</code></p>
<h5 id="自定义markersstyle-1url0"><a class="markdownIt-Anchor" href="#自定义markersstyle-1url0"></a> 自定义markersStyle:  -1，url，0。</h5>
<p>-1表示为自定义图片，URL为图片的网址。自定义图片只支持<strong>PNG</strong>格式。</p>
<p><code>https://restapi.amap.com/v3/staticmap?markers=-1,http://ico.ooopic.com/ajax/iconpng/?id=158688.png,0:116.37359,39.92437&amp;key=您的key</code></p>
<h4 id="labels"><a class="markdownIt-Anchor" href="#labels"></a> labels</h4>
<p><code>labels=labelsStyle1:location1;location2|labelsStyle2:location3;location4..|labelsStyleN:locationN;locationM</code></p>
<p><em>labelsStyle</em>：<code>label, font, bold, fontSize, fontColor, backgroun</code>d。 各参数使用&quot;,&quot;分隔，如有默认值则可为空。</p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>说明</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>content</td>
<td>标签内容，字符最大数目为15</td>
<td>无</td>
</tr>
<tr>
<td>font</td>
<td>0：微软雅黑；1：宋体；2：Times New Roman;3：Helvetica</td>
<td>0</td>
</tr>
<tr>
<td>bold</td>
<td>0：非粗体；1：粗体</td>
<td>0</td>
</tr>
<tr>
<td>fontSize</td>
<td>字体大小，可选值[1,72]</td>
<td>10</td>
</tr>
<tr>
<td>fontColor</td>
<td>字体颜色，取值范围：[0x000000, 0xffffff]</td>
<td>0xFFFFFF</td>
</tr>
<tr>
<td>background</td>
<td>背景色，取值范围：[0x000000, 0xffffff]</td>
<td>0x5288d8</td>
</tr>
</tbody>
</table>
<h4 id="paths"><a class="markdownIt-Anchor" href="#paths"></a> paths</h4>
<p><code>paths=pathsStyle1:location1;location2..|pathsStyle2:location3;location4..|pathsStyleN:locationN;locationM..</code></p>
<blockquote>
<p>▲.LocationN :  <code>118.9301,32.109</code>先经度后维度</p>
</blockquote>
<p><em>pathsStyle</em>：<code>weight, color, transparency, fillcolor, fillTransparency</code></p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>说明</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>weight</td>
<td>线条粗细。可选值： [2,15]</td>
<td>5</td>
</tr>
<tr>
<td>color</td>
<td>折线颜色。 选值范围：[0x000000, 0xffffff]例如：0x000000 black,0x008000 green,0x800080 purple,0xFFFF00 yellow,0x0000FF blue,0x808080 gray,0xffa500 orange,0xFF0000 red,0xFFFFFF white</td>
<td>0x0000FF</td>
</tr>
<tr>
<td>transparency</td>
<td>透明度。可选值[0,1]，小数后最多2位，0表示完全透明，1表示完全不透明。</td>
<td>1</td>
</tr>
<tr>
<td>fillcolor</td>
<td>多边形的填充颜色，<strong>此值不为空时折线封闭成多边形</strong>。取值规则同color</td>
<td>无</td>
</tr>
<tr>
<td>fillTransparency</td>
<td>填充面透明度。可选值[0,1]，小数后最多2位，0表示完全透明，1表示完全不透明。</td>
<td>0.5</td>
</tr>
</tbody>
</table>
<p>折线示例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paths: &apos;10,0x0000ff,1,,:116.31604,39.96491;116.320816,39.966606;116.321785,39.966827;116.32361,39.966957&apos;,</span><br></pre></td></tr></table></figure>
<p>区域示例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paths: &quot;10,0x0000ff,0.1,0x0000ff,0.7:116.31604,39.96491;116.320816,39.966606;116.321785,39.966827;116.32361,39.966957;116.39361,39.966957;116.39361,39.936957&quot;,</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/06/小程序——高德地图API调用/" data-id="cjzyy2kgh0072k829s4ybp8k8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/微信小程序/">微信小程序</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-HTML和CSS学习" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/06/HTML和CSS学习/" class="article-date">
  <time datetime="2018-12-06T02:57:32.000Z" itemprop="datePublished">2018-12-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/06/HTML和CSS学习/">HTML和CSS学习</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="html学习"><a class="markdownIt-Anchor" href="#html学习"></a> HTML学习</h1>
<h2 id="head中的meta标签"><a class="markdownIt-Anchor" href="#head中的meta标签"></a> <code>&lt;head&gt;</code>中的<code>&lt;meta&gt;</code>标签</h2>
<table>
<thead>
<tr>
<th>属性</th>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.w3school.com.cn/tags/tag_meta.asp#meta_prop_http-equiv" target="_blank" rel="noopener">http-equiv</a></td>
<td>content-typeexpiresrefreshset-cookie</td>
<td>把 content 属性关联到 HTTP 头部。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/tags/tag_meta.asp#meta_prop_name" target="_blank" rel="noopener">name</a></td>
<td>authordescriptionkeywordsgeneratorrevisedothers</td>
<td>把 content 属性关联到一个名称。</td>
</tr>
<tr>
<td><a href="http://www.w3school.com.cn/tags/tag_meta.asp#meta_prop_scheme" target="_blank" rel="noopener">scheme</a></td>
<td>some_text</td>
<td>定义用于翻译 content 属性值的格式。</td>
</tr>
</tbody>
</table>
<h3 id="name-属性"><a class="markdownIt-Anchor" href="#name-属性"></a> name 属性</h3>
<blockquote>
<p>name 属性提供了名称/值对中的名称。</p>
</blockquote>
<p>“keywords” 是一个经常被用到的名称。它为文档定义了一组关键字。某些搜索引擎在遇到这些关键字时，会用这些关键字对文档进行分类。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;keywords&quot; content=&quot;HTML,ASP,PHP,SQL&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>▲如果没有提供 name 属性，那么名称/值对中的名称会采用 http-equiv 属性的值。</p>
<h3 id="http-equiv-属性"><a class="markdownIt-Anchor" href="#http-equiv-属性"></a> http-equiv 属性</h3>
<p>http-equiv 属性为名称/值对提供了名称。并指示服务器在发送实际的文档之前先在要传送给浏览器的 MIME 文档头部包含名称/值对。</p>
<p>使用带有 http-equiv 属性的 <meta> 标签时，服务器将把名称/值对添加到发送给浏览器的内容头部。例如，添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=&quot;charset&quot; content=&quot;iso-8859-1&quot;&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;expires&quot; content=&quot;31 Dec 2008&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>这样发送到浏览器的头部就应该包含：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">content-type: text/html</span><br><span class="line">charset:iso-8859-1</span><br><span class="line">expires:31 Dec 2008</span><br></pre></td></tr></table></figure>
<h3 id="content-属性"><a class="markdownIt-Anchor" href="#content-属性"></a> content 属性</h3>
<p>content 属性提供了名称/值对中的值。该值可以是任何有效的字符串。</p>
<p>content 属性始终要和 name 属性或 http-equiv 属性一起使用。</p>
<h2 id="标签"><a class="markdownIt-Anchor" href="#标签"></a> 标签</h2>
<ul>
<li>
<p><code>&lt;em&gt;</code>和<code>&lt;strong&gt;</code>标签是为了<strong>强调</strong>一段话中的关键字时使用，它们的语义是<strong>强调。</strong></p>
</li>
<li>
<p><code>&lt;span&gt;</code>标签是没有语义的，它的作用就是为了设置单独的样式用的。</p>
</li>
<li>
<p><code>&lt;q&gt;</code>引用文本<code>&lt;/q&gt;</code>,注意要引用的文本不用加<strong>双引号</strong>，浏览器会对q标签自动添加双引号。</p>
</li>
<li>
<p><code>&lt;blockquote&gt;</code>引用长文本<code>&lt;/blockquote&gt;</code></p>
</li>
<li>
<p>使用<code>&lt;br&gt;</code>标签分行显示文本</p>
</li>
<li>
<p>空格<code>&amp;nbsp;</code></p>
</li>
<li>
<p>认识<code>&lt;hr /&gt;</code>标签，添加水平横线</p>
</li>
<li>
<p><code>&lt;address&gt;</code>标签，为网页加入地址信息</p>
</li>
<li>
<p><code>&lt;code&gt;var i=i+300;&lt;/code&gt;</code>一行代码</p>
</li>
<li>
<p><code>&lt;pre&gt;</code>语言代码段<code>&lt;/pre&gt;</code>大段代码</p>
</li>
<li>
<p>使用<code>&lt;ul&gt;</code>，添加新闻信息列表</p>
</li>
<li>
<p>创建表格<code>table</code>的四个元素：</p>
<ul>
<li><code>tbody</code>：如果不加<code>&lt;thead&gt;&lt;tbody&gt;&lt;tfooter&gt;</code> , table表格加载完后才显示。加上这些表格结构， <code>tbody</code>包含行的内容下载完优先显示，不必等待表格结束后在显示，同时如果表格很长，用<code>tbody</code>分段，可以一部分一部分地显示。</li>
<li><code>tr</code>表格的一行，所以有几对tr 表格就有几行。</li>
<li><code>th</code><strong>表格表头。</strong></li>
<li><code>td</code>一行中数据单元格的个数。</li>
<li><code>&lt;caption&gt;</code>标题文本<code>&lt;/caption&gt;</code></li>
<li><code>&lt;table summary=&quot;表格简介文本&quot;&gt;</code>摘要</li>
</ul>
</li>
</ul>
<h1 id="css学习"><a class="markdownIt-Anchor" href="#css学习"></a> CSS学习</h1>
<h3 id="qcss样式可以写在哪些地方呢"><a class="markdownIt-Anchor" href="#qcss样式可以写在哪些地方呢"></a> Q:CSS样式可以写在哪些地方呢？</h3>
<p>A:</p>
<ul>
<li>
<p><u>内联式</u> : 把css代码直接写在现有的HTML标签中</p>
<ul>
<li><code>&lt;p style=&quot;color:red&quot;&gt;这里文字是红色。&lt;/p&gt;</code></li>
</ul>
</li>
<li>
<p><u>嵌入式</u> : 把css样式代码写在<code>&lt;style type=&quot;text/css&quot;&gt;&lt;/style</code>标签之间，一般情况下嵌入式css样式写在<code>&lt;head&gt;&lt;/head&gt;</code>之间</p>
<ul>
<li>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">span&#123;</span><br><span class="line">color:red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><u>外部式</u> : 把css代码写一个单独的外部文件中,这个css样式文件以“<code>.css</code>”为扩展名</p>
<ul>
<li><code>&lt;link href=&quot;base.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</code></li>
</ul>
</li>
</ul>
<p>▲.三种方法的优先级</p>
<blockquote>
<p>内联式 &gt; 嵌入式 &gt; 外部式</p>
<p><strong>嵌入式&gt;外部式</strong>有一个<strong>前提</strong>：嵌入式css样式的位置一定在外部式的后面</p>
<p>==&gt;其实总结来说，就是<code>--就近原则（离被设置元素越近优先级别越高）</code>。</p>
</blockquote>
<h3 id="权值"><a class="markdownIt-Anchor" href="#权值"></a> 权值:</h3>
<p><strong>标签的权值为1，类选择符的权值为10，ID选择符的权值最高为100</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p&#123;color:red;&#125; /*权值为1*/</span><br><span class="line">p span&#123;color:green;&#125; /*权值为1+1=2*/</span><br><span class="line">.warning&#123;color:white;&#125; /*权值为10*/</span><br><span class="line">p span.warning&#123;color:purple;&#125; /*权值为1+1+10=12*/</span><br><span class="line">#footer .note p&#123;color:yellow;&#125; /*权值为100+10+1=111*/</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>还有一个权值比较特殊–继承也有权值但很低，有的文献提出它只有0.1，所以可以理解为继承的权值最低。</strong></p>
</blockquote>
<h3 id="根据权值和层叠的想法"><a class="markdownIt-Anchor" href="#根据权值和层叠的想法"></a> ==&gt;根据<strong>权值</strong>和层叠的想法:</h3>
<p><strong>内联样式表（标签内部）&gt; 嵌入样式表（当前文件中）&gt; 外部样式表（外部文件中）</strong>。</p>
<h3 id="提高权值的方法重要性"><a class="markdownIt-Anchor" href="#提高权值的方法重要性"></a> 提高权值的方法:重要性</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p&#123;color:red!important;&#125;</span><br><span class="line">p.first&#123;color:green;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="css格式化排版"><a class="markdownIt-Anchor" href="#css格式化排版"></a> CSS格式化排版</h2>
<h3 id="字体"><a class="markdownIt-Anchor" href="#字体"></a> 字体</h3>
<ul>
<li>
<h4 id="font-family-字体"><a class="markdownIt-Anchor" href="#font-family-字体"></a> font-family: 字体</h4>
<ul>
<li><code>body{font-family:&quot;宋体&quot;;}</code></li>
</ul>
</li>
<li>
<h4 id="font-size字号"><a class="markdownIt-Anchor" href="#font-size字号"></a> font-size:字号</h4>
<ul>
<li><code>body{font-size:12px;color:#666}</code></li>
</ul>
</li>
<li>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p span&#123;font-weight:bold;&#125;		//粗体</span><br><span class="line">p a&#123;font-style:italic;&#125;			//斜体</span><br><span class="line">p a&#123;text-decoration:underline;&#125; //下划线</span><br><span class="line">.oldPrice&#123;text-decoration:line-through;&#125;	//删除线</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="段落排版"><a class="markdownIt-Anchor" href="#段落排版"></a> 段落排版</h3>
<ul>
<li>
<h4 id="text-indent段落缩进"><a class="markdownIt-Anchor" href="#text-indent段落缩进"></a> text-indent:段落缩进</h4>
<ul>
<li><code>p{ text-indent:2em;}</code></li>
</ul>
</li>
<li>
<h4 id="行间距行高"><a class="markdownIt-Anchor" href="#行间距行高"></a> 行间距（行高）</h4>
<ul>
<li><code>p{ line-height:1.5em;}</code></li>
</ul>
</li>
<li>
<h4 id="中文字间距-字母间距"><a class="markdownIt-Anchor" href="#中文字间距-字母间距"></a> 中文字间距、字母间距</h4>
<ul>
<li><code>h1{ word-spacing:50px;}</code></li>
</ul>
</li>
<li>
<h4 id="为块状元素中的文本-图片设置居中样式"><a class="markdownIt-Anchor" href="#为块状元素中的文本-图片设置居中样式"></a> 为<strong>块状元素</strong>中的文本、图片设置居中样式</h4>
<ul>
<li><code>h1{ text-align:center;}</code></li>
</ul>
</li>
</ul>
<h3 id="元素分类"><a class="markdownIt-Anchor" href="#元素分类"></a> 元素分类</h3>
<h4 id="块状元素block"><a class="markdownIt-Anchor" href="#块状元素block"></a> <strong>块状元素</strong>(block)</h4>
<ul>
<li>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;、&lt;p&gt;、&lt;h1&gt;...&lt;h6&gt;、&lt;ol&gt;、&lt;ul&gt;、&lt;dl&gt;、&lt;table&gt;、&lt;address&gt;、&lt;blockquote&gt; 、&lt;form&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>1、每个块级元素都从<strong>新的一行开始</strong>，并且其后的元素也另起一行。（真霸道，一个块级元素独占一行）</p>
<p>2、元素的高度、宽度、行高以及顶和底边距都可设置。</p>
<p>3、元素<strong>宽度</strong>在不设置的情况下，是它本身父容器的<strong>100%</strong>（和父元素的宽度一致），除非设定一个宽度。</p>
</blockquote>
<h4 id="内联元素又叫行内元素inline"><a class="markdownIt-Anchor" href="#内联元素又叫行内元素inline"></a> <strong>内联元素(又叫行内元素)</strong>:inline</h4>
<ul>
<li>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a&gt;、&lt;span&gt;、&lt;br&gt;、&lt;i&gt;、&lt;em&gt;、&lt;strong&gt;、&lt;label&gt;、&lt;q&gt;、&lt;var&gt;、&lt;cite&gt;、&lt;code&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>1、和其他元素都在一行上；</p>
<p>2、元素的高度、宽度及顶部和底部边距<strong>不可</strong>设置；</p>
<p>3、<u>元素的<strong>宽度</strong>就是它包含的文字或图片的<strong>宽度</strong>，不可改变。</u></p>
</blockquote>
<h4 id="内联块状元素inline-block"><a class="markdownIt-Anchor" href="#内联块状元素inline-block"></a> 内联块状元素(inline-block）</h4>
<ul>
<li>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img&gt;、&lt;input&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>1、和其他元素都在一行上；</p>
<p>2、元素的高度、宽度、行高以及顶和底边距都可设置。</p>
</blockquote>
<h3 id="盒子模型"><a class="markdownIt-Anchor" href="#盒子模型"></a> 盒子模型</h3>
<blockquote>
<p>块级元素都具有盒子模型的特征</p>
</blockquote>
<p>外边距 : <code>marigin</code></p>
<p>内边距 : <code>padding</code></p>
<p>边框 : <code>border</code></p>
<h4 id="盒模型宽度和高度"><a class="markdownIt-Anchor" href="#盒模型宽度和高度"></a> 盒模型–宽度和高度</h4>
<p>元素的实际高度为 : <code>自身height+ padding-top +padding-bottom</code></p>
<p>元素的实际宽度为 : <code>自身width+ padding-left +padding-right</code></p>
<p>▲ 一个元素实际宽度（盒子的宽度）=左边界+左边框+左填充+内容宽度+右填充+右边框+右边界。</p>
<h5 id="总宽度计算"><a class="markdownIt-Anchor" href="#总宽度计算"></a> 总宽度计算:</h5>
<p><img src="/2018/12/06/HTML和CSS学习/HTML%E5%92%8CCSS%E5%AD%A6%E4%B9%A0%5C%E7%9B%92%E6%A8%A1%E5%9E%8B-%E9%AB%98%E5%BA%A6%E5%92%8C%E5%AE%BD%E5%BA%A6.jpg" alt="盒模型-高度和宽度"></p>
<h5 id="开发工具查看"><a class="markdownIt-Anchor" href="#开发工具查看"></a> 开发工具查看:</h5>
<p><img src="/2018/12/06/HTML和CSS学习/HTML%E5%92%8CCSS%E5%AD%A6%E4%B9%A0%5C%E7%9B%92%E6%A8%A1%E5%9E%8B-%E9%AB%98%E5%BA%A6%E5%92%8C%E5%AE%BD%E5%BA%A6%E5%AE%9E%E5%9B%BE.jpg" alt="盒模型-高度和宽度实图"></p>
<h4 id="边框"><a class="markdownIt-Anchor" href="#边框"></a> 边框:</h4>
<ul>
<li>border-style（边框样式）常见样式有：</li>
</ul>
<p><code>dashed（虚线）| dotted（点线）| solid（实线）</code></p>
<ul>
<li>border-color（边框颜色）中的颜色可设置为十六进制颜色，如:</li>
</ul>
<p><code>border-color:#888;//前面的井号不要忘掉。</code></p>
<ul>
<li>border-width（边框宽度）中的宽度也可以设置为：</li>
</ul>
<p><code>thin | medium | thick（但不是很常用），最常还是用像素（px）。</code></p>
<h2 id="css布局模型"><a class="markdownIt-Anchor" href="#css布局模型"></a> css布局模型</h2>
<p>1、流动模型（Flow）<br>
2、浮动模型 (Float)<br>
3、层模型（Layer）</p>
<h3 id="流动模型flow"><a class="markdownIt-Anchor" href="#流动模型flow"></a> 流动模型（Flow）</h3>
<p>流动（Flow）是默认的网页布局模式.</p>
<p>2个比较典型的特征：</p>
<ul>
<li>
<p>第一点，<strong>块状元素</strong>都会在所处的<strong>包含元素内</strong><u>自上而下</u>按顺序<u>垂直延伸</u>分布，因为在默认状态下，块状元素的宽度都为<strong>100%</strong>。实际上，块状元素都会以行的形式占据位置。</p>
</li>
<li>
<p>第二点，在流动模型下，<strong>内联元素</strong>都会在所处的包含元素内<u>从左到右</u><u>水平分布</u>显示。（内联元素可不像块状元素这么霸道独占一行）</p>
</li>
</ul>
<h3 id="浮动模型-float"><a class="markdownIt-Anchor" href="#浮动模型-float"></a> 浮动模型 (Float)</h3>
<blockquote>
<p>想让两个块状元素并排显示…任何元素在默认情况下是不能浮动的，但可以用 CSS 定义为浮动，</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*实现两个 div 元素一行显示。*/</span></span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">2px</span> red solid;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="层模型layer"><a class="markdownIt-Anchor" href="#层模型layer"></a> 层模型（Layer）</h3>
<blockquote>
<p>如何让html元素在网页中精确定位，就像图像软件PhotoShop中的图层一样可以对每个图层能够精确定位操作</p>
</blockquote>
<h4 id="1-绝对定位position-absolute"><a class="markdownIt-Anchor" href="#1-绝对定位position-absolute"></a> 1、<strong>绝对定位</strong>(position: absolute)</h4>
<blockquote>
<p>将元素从文档流中拖出来，然后使用left(距离左)、right、top、bottom属性相对于其<strong>最接近</strong>的一个具有<strong>定位属性</strong>的<strong>父包含块</strong>进行绝对定位。如果不存在这样的包含块，则相对于<strong>body元素</strong>，即相对于<strong>浏览器窗口</strong></p>
</blockquote>
<h4 id="2-相对定位position-relative"><a class="markdownIt-Anchor" href="#2-相对定位position-relative"></a> 2、<strong>相对定位</strong>(position: relative)</h4>
<blockquote>
<p>相对定位完成的过程是首先按static(float)方式生成一个元素(并且元素像层一样浮动了起来)，然后相对于**以前的位置移动，**移动的方向和幅度由left、right、top、bottom属性确定，偏移前的位置保留不动。</p>
</blockquote>
<p>Q:什么叫做“偏移前的位置保留不动”</p>
<p>A: 虽然div元素相对于以前的位置产生了偏移，但是div元素以前的位置还是保留着，所以后面的span元素是显示在了div元素以前位置的后面。</p>
<p>===&gt; 所占的位置不变,但是显示的位置发生了变化.</p>
<h4 id="3-固定定位position-fixed"><a class="markdownIt-Anchor" href="#3-固定定位position-fixed"></a> 3、<strong>固定定位</strong>(position: fixed)</h4>
<blockquote>
<p>与absolute定位类型类似，但它的相对移动的坐标是视图（<strong>屏幕内的网页窗口</strong>）本身.</p>
<p>由于视图本身是固定的，它不会随浏览器窗口的滚动条滚动而变化，除非你在屏幕中移动浏览器窗口的屏幕位置，或改变浏览器窗口的显示大小，因此固定定位的元素会始终位于浏览器窗口内视图的某个位置，不会受文档流动影响，</p>
</blockquote>
<p><em>用途</em> : 可以实现相对于<strong>浏览器视图</strong>向右移动100px，向下移动50px。并且<strong>拖动滚动条时位置固定不变。</strong></p>
<h2 id="水平居中设置"><a class="markdownIt-Anchor" href="#水平居中设置"></a> 水平居中设置</h2>
<h4 id="行内元素"><a class="markdownIt-Anchor" href="#行内元素"></a> 行内元素</h4>
<ul>
<li>如果被设置元素为文本、图片等行内元素时，水平居中是通过给<strong>父元素</strong>设置 <code>text-align:center</code> 来实现的</li>
</ul>
<h4 id="块状元素"><a class="markdownIt-Anchor" href="#块状元素"></a> 块状元素</h4>
<ul>
<li>
<p>定宽~ : 宽度width为固定值</p>
<ul>
<li>通过设置“左右margin”值为“<code>auto</code>”来实现居中的</li>
</ul>
</li>
<li>
<p>不定宽~</p>
<ul>
<li>
<p>加入 <a href="http://www.imooc.com/code/292" target="_blank" rel="noopener">table</a> 标签</p>
<ul>
<li>
<p><code>table</code>长度自适应性,其长度根据其内文本长度决定</p>
<ul>
<li>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是第一行文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是第二行文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>我是第三行文本<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>css代码：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-tag">table</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>▲补充代码实现右侧中的 class 为 wrap 的 div 水平居中显示（要注意是这个 div元素 居中，而不是里面的文本居中啊）。</p>
</li>
</ul>
</li>
<li>
<p>设置 <a href="http://www.imooc.com/code/2049" target="_blank" rel="noopener">display: inline</a> 方法：与第一种类似，显示类型设为 行内元素，进行不定宽元素的属性设置</p>
<ul>
<li>
<p>改变块级元素的 display 为 inline 类型（设置为 <a href="http://www.imooc.com/code/2049" target="_blank" rel="noopener">行内元素</a> 显示），然后使用 <code>text-align:center</code> 来实现居中效果。如下例子：</p>
</li>
<li>
<p>html代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>css代码：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* margin:0;padding:0（消除文本与div边框之间的间隙）*/</span></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">list-style</span>:none;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>:inline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* margin-right:8px（设置li文本之间的间隔）*/</span></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">display</span>:inline;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>▲ 改变块级元素的 display 为 inline 类型（设置为 <a href="http://www.imooc.com/code/2049" target="_blank" rel="noopener">行内元素</a> 显示），然后使用 <code>text-align:center</code> 来实现居中效果。如下例子：</p>
</li>
</ul>
</li>
<li>
<p>父元素设置 <a href="http://www.imooc.com/code/2074" target="_blank" rel="noopener">position:relative</a> 和 left:50%，子元素设置 position:relative 和 left: -50% 来实现水平居中。：利用 相对定位 的方式，将元素向左偏移 50% ，即达到居中的目的</p>
<ul>
<li>
<p>代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>css代码：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">50%</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">list-style</span>:none;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">left</span>:-<span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">li</span>&#123;<span class="attribute">float</span>:left;<span class="attribute">display</span>:inline;<span class="attribute">margin-right</span>:<span class="number">8px</span>;&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="垂直居中"><a class="markdownIt-Anchor" href="#垂直居中"></a> 垂直居中</h2>
<h4 id="父元素高度确定的单行文本"><a class="markdownIt-Anchor" href="#父元素高度确定的单行文本"></a> 父元素高度确定的单行文本</h4>
<ul>
<li>通过设置父元素的 height 和<a href="http://www.imooc.com/code/2083" target="_blank" rel="noopener"> line-height </a>高度一致来实现的。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.container&#123;</span><br><span class="line">    height:100px;</span><br><span class="line">    line-height:100px;</span><br><span class="line">    background:#999;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h4 id="父元素高度确定的多行文本-图片"><a class="markdownIt-Anchor" href="#父元素高度确定的多行文本-图片"></a> 父元素高度确定的多行文本、图片</h4>
<ul>
<li>
<p>使用插入 <a href="http://www.imooc.com/code/292" target="_blank" rel="noopener">table</a>  (包括tbody、tr、td)标签，同时设置 vertical-align：middle。</p>
<ul>
<li>
<p>html代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>看我是否可以居中。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>css代码：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ccc</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*因为 td 标签默认情况下就默认设置了 vertical-align 为 middle，所以我们不需要显式地设置了。*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>在 chrome、firefox 及 IE8 以上的浏览器下可以设置块级元素的<code>display</code>为 <code>table-cell</code>（设置为表格单元显示），激活 vertical-align 属性</p>
<ul>
<li>
<p>html代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>看我是否可以居中。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>看我是否可以居中。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>看我是否可以居中。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>css代码：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">display</span>:table-cell;<span class="comment">/*IE8以上及Chrome、Firefox*/</span></span><br><span class="line">    <span class="attribute">vertical-align</span>:middle;<span class="comment">/*IE8以上及Chrome、Firefox*/</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="隐性改变display类型"><a class="markdownIt-Anchor" href="#隐性改变display类型"></a> 隐性改变display类型</h2>
<ol>
<li>
<p><a href="http://www.imooc.com/code/2073" target="_blank" rel="noopener">position : absolute</a></p>
</li>
<li>
<p>float : left 或 <a href="http://www.imooc.com/code/2071" target="_blank" rel="noopener">float:right</a></p>
</li>
</ol>
<p>只要html代码中出现以上两句之一，元素的display显示类型就会自动变为以 display:inline-block（<a href="http://www.imooc.com/code/2048" target="_blank" rel="noopener">块状元素</a>）的方式显示，当然就可以设置元素的 width 和 height 了，且默认宽度不占满父元素。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/06/HTML和CSS学习/" data-id="cjzyy2klu00eqk829uj88zsgg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-Pyinstaller使用" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/03/Pyinstaller使用/" class="article-date">
  <time datetime="2018-12-03T03:54:22.000Z" itemprop="datePublished">2018-12-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/03/Pyinstaller使用/">Pyinstaller使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="pyinstaller使用"><a class="markdownIt-Anchor" href="#pyinstaller使用"></a> pyinstaller使用</h2>
<h3 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h3>
<h4 id="1-安装pywin32pyinstaller依赖于"><a class="markdownIt-Anchor" href="#1-安装pywin32pyinstaller依赖于"></a> 1、安装pywin32==&gt;pyinstaller依赖于</h4>
<ul>
<li>
<p>下载安装文件：查找到跟自己适用的python版本及window系统版本匹配的<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#pip" target="_blank" rel="noopener">pywin32</a>，下载后安装</p>
</li>
<li>
<p>使用pip命令安装：<code>pip install pywin32</code></p>
</li>
</ul>
<h4 id="2-安装pyinstaller"><a class="markdownIt-Anchor" href="#2-安装pyinstaller"></a> 2、安装Pyinstaller</h4>
<ul>
<li>
<p>下载安装文件安装：<a href="http://www.pyinstaller.org/" target="_blank" rel="noopener">官网</a></p>
</li>
<li>
<p>使用pip命令安装：<code>pip install PyInstaller</code></p>
</li>
</ul>
<p>使用<code>Pycharm</code>直接搜索<code>pyinstaller</code>会自动安装依赖库<code>pywin32</code></p>
<hr>
<h3 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h3>
<h4 id="1-使用下载安装的方式安装的pyinstaller打包方式"><a class="markdownIt-Anchor" href="#1-使用下载安装的方式安装的pyinstaller打包方式"></a> 1、使用下载安装的方式安装的Pyinstaller打包方式</h4>
<p>将需要打包的文件放在解压得到的Pyinstaller文件夹中，打开cmd窗口，把路径切换到当前路径打开命令提示行，输入以下内容（最后的是文件名）==&gt;<code>调用pyinstaller.py文件打包</code>：</p>
<ul>
<li><code>python pyinstaller.py -F myfile.py</code></li>
</ul>
<h4 id="2-使用pip方式安装的pyinstaller打包方式"><a class="markdownIt-Anchor" href="#2-使用pip方式安装的pyinstaller打包方式"></a> 2、使用pip方式安装的Pyinstaller打包方式</h4>
<p>打开cmd窗口，把路径切换到文件所在路径(文件随便放在哪里都行)打开命令提示行，输入以下内容（最后的是文件名）：</p>
<ul>
<li><code>pyinstaller -F myfile.py</code></li>
</ul>
<h4 id="使用实例"><a class="markdownIt-Anchor" href="#使用实例"></a> 使用实例</h4>
<p><code>pyinstaller -F test.py -i src\logo.ico</code></p>
<blockquote>
<ul>
<li>
<h5 id="-f-表示生成单个可执行文件"><a class="markdownIt-Anchor" href="#-f-表示生成单个可执行文件"></a> -F 表示生成单个可执行文件</h5>
</li>
<li>
<h5 id="-w-表示去掉控制台窗口这在gui界面时非常有用-不过如果是命令行程序的话那就把这个选项删除吧"><a class="markdownIt-Anchor" href="#-w-表示去掉控制台窗口这在gui界面时非常有用-不过如果是命令行程序的话那就把这个选项删除吧"></a> -w 表示去掉控制台窗口，这在GUI界面时非常有用。不过如果是命令行程序的话那就把这个选项删除吧！</h5>
</li>
<li>
<h5 id="-p-表示你自己自定义需要加载的库路径一般情况下用不到"><a class="markdownIt-Anchor" href="#-p-表示你自己自定义需要加载的库路径一般情况下用不到"></a> -p 表示你自己自定义需要加载的库路径，一般情况下用不到</h5>
</li>
<li>
<h5 id="-i-表示可执行文件的图标"><a class="markdownIt-Anchor" href="#-i-表示可执行文件的图标"></a> -i 表示可执行文件的图标</h5>
</li>
</ul>
</blockquote>
<p>▲. <code>-i</code>的参数为<code>.ico</code>格式,其他格式的图片会报错</p>
<h3 id="文件中使用了第三方库的打包方式"><a class="markdownIt-Anchor" href="#文件中使用了第三方库的打包方式"></a> 文件中使用了第三方库的打包方式</h3>
<p>在打包之前务必找到第三方库的包，把包复制到到跟<code>myfile.py</code>同目录下，然后再使用以上2种方式打包，否则会打包失败或者即使打包成功，程序也会闪退。</p>
<h3 id="pyqt5打包出现错误"><a class="markdownIt-Anchor" href="#pyqt5打包出现错误"></a> pyqt5打包出现错误</h3>
<p>一 、当写这篇文章的时候，pyinstaller官网版本对pyqt5打包可能会遇到<code>Could not find QtWebEngineProcess.exe.</code>的错误。解决方法为：安装最新的<code>pyinstaller</code></p>
<blockquote>
<p>1.在<a href="https://github.com/pyinstaller/pyinstaller" target="_blank" rel="noopener">github</a>下载新版本的开发包。<br>
2.打开解压后的文件夹，shift+鼠标右键，点击“在此处打开命令窗口”。之后依次运行如下命令:</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip uninstall pyinstaller</span><br><span class="line">python setup.py build</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure>
<p>二 、如果有报错：<code>“could not find or load the Qt platform plugin &quot;windows&quot; ”</code>。原因之一可能是你把打包后的文件放在了中文目录下。只需要将打包后的文件放在<strong>英文目录</strong>下，就可以解决。</p>
<h3 id="多文件打包"><a class="markdownIt-Anchor" href="#多文件打包"></a> 多文件打包</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller [主文件] -p [其他文件1] -p [其他文件2] </span><br><span class="line">--hidden-import [自建模块1] </span><br><span class="line">--hidden-import [自建模块2]</span><br><span class="line"># 以上为一整条命令</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller main.py -p mysql.py -p other.py --hidden-import mysql --hidden-import other</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/12/03/Pyinstaller使用/" data-id="cjzyy2kco001xk82911za1fbl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-pyqt与QT5" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/26/pyqt与QT5/" class="article-date">
  <time datetime="2018-11-26T04:11:52.000Z" itemprop="datePublished">2018-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/26/pyqt与QT5/">pyqt5与QT5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>添加<code>QT Designer</code>、<code>PyUIc</code>、<code>Pyrcc</code></p>
<h3 id="1添加外部工具extenal-tools"><a class="markdownIt-Anchor" href="#1添加外部工具extenal-tools"></a> 1.添加外部工具(Extenal Tools)</h3>
<h4 id="qt-designer"><a class="markdownIt-Anchor" href="#qt-designer"></a> QT Designer</h4>
<blockquote>
<p>File–&gt;Settings–&gt;Tools–&gt;Extenal Tools --&gt; ‘’+’’ &gt; 添加具体细节,如图一图二</p>
</blockquote>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5C2.jpg" alt="2"></p>
<p>​												图一</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5C1.jpg" alt="1"></p>
<p>​													图二</p>
<p>修改<code>Name</code>为<code>QT Designer</code>,<code>Program</code>为<code>QT</code>目录下<code>designer.exe</code>文件,不需要参数,<code>Work directory</code>为<code>D:\QT\{QT version}\msvc2015_64\bin</code></p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Cdesigner_pro.jpg" alt="designer_pro"></p>
<p>添加后就可以在菜单栏的<code>Tools</code>中找到…点击后,就可以直接打开<code>QT Designer</code>设计窗口</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5CQTdesigner_finish.jpg" alt="QTdesigner_finish"></p>
<p>QT Designer</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5C5.jpg" alt="5"></p>
<hr>
<h4 id="qt-uic"><a class="markdownIt-Anchor" href="#qt-uic"></a> QT UIC</h4>
<h5 id="1program设置为当前虚拟环境的python解释器pythonexe一旦设置好后每次新建虚拟环境pycharm会自动帮你修改选择的解释器"><a class="markdownIt-Anchor" href="#1program设置为当前虚拟环境的python解释器pythonexe一旦设置好后每次新建虚拟环境pycharm会自动帮你修改选择的解释器"></a> 1.<code>Program</code>设置为当前虚拟环境的python解释器<code>python.exe</code>,(一旦设置好后,每次新建虚拟环境,pycharm会自动帮你修改选择的解释器)</h5>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5CpyUIC.jpg" alt="pyUIC"></p>
<p><strong>2.▲.<code>Arguments</code>参数设置为:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-m</span><br><span class="line">PyQt5.uic.pyuic</span><br><span class="line">$FileName$</span><br><span class="line">-o</span><br><span class="line">$FileNameWithoutExtension$.py</span><br></pre></td></tr></table></figure>
<p>这个参数主要是用<code>uic</code>这个工具需要指定的参数</p>
<h5 id="3working-directory设置为filedir当前文件目录含义是根据ui生成的py窗口文件的位置"><a class="markdownIt-Anchor" href="#3working-directory设置为filedir当前文件目录含义是根据ui生成的py窗口文件的位置"></a> 3.<code>working directory</code>设置为<code>$FileDir$</code>(当前文件目录)===&gt;含义是:根据<code>.UI</code>生成的<code>py</code>窗口文件的位置</h5>
<p>完成后,效果如图…一开始是没有<code>window.py</code></p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Cui.jpg" alt="ui"></p>
<p>将光标选择<code>window.ui</code>文件,然后选择<code>Tools</code>里面的<code>PyUIC</code>就可以自动生成一个<code>window.py</code>文件直接使用了.</p>
<p><strong>控制台输出内容:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">G:\PyGui\venv\Scripts\python.exe -m PyQt5.uic.pyuic window.ui -o window.py</span><br><span class="line"><span class="comment">#点击PyUIC就相当于输出了在setting里面写好的代码,$FileName$为我们光标选择的文件名,输出的名字为$FileNameWithoutExtension$.py,输出的路径为当前文件目录$FileDir$</span></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Cui1.jpg" alt="ui1"></p>
<h4 id="qt-rcc"><a class="markdownIt-Anchor" href="#qt-rcc"></a> QT Rcc</h4>
<h5 id="1将program设置为qt目录下的rccexe文件"><a class="markdownIt-Anchor" href="#1将program设置为qt目录下的rccexe文件"></a> 1.将<code>program</code>设置为<code>QT</code>目录下的<code>rcc.exe</code>文件</h5>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Crcc_setting1.jpg" alt="rcc_setting1"></p>
<h5 id="2设置arguments为"><a class="markdownIt-Anchor" href="#2设置arguments为"></a> 2.设置<code>Arguments</code>为</h5>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$FileName$</span><br><span class="line">-o</span><br><span class="line">$FileNameWithoutExtension$.py</span><br></pre></td></tr></table></figure>
<p>道理同上<code>-o 是输出的意思</code></p>
<h5 id="3work-directory设置为filedir"><a class="markdownIt-Anchor" href="#3work-directory设置为filedir"></a> 3.<code>work directory</code>设置为<code>$FileDir$</code></h5>
<h5 id="4新建qrc资源文件"><a class="markdownIt-Anchor" href="#4新建qrc资源文件"></a> 4.新建<code>.qrc</code>资源文件</h5>
<p>打开<code>QT Designer</code>选择下面的<strong>资源管理器</strong>,单击铅笔,如图操作</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Cqrc%E5%BB%BA%E7%AB%8B.jpg" alt="qrc建立"></p>
<p>单击左边蓝色的存储后,意思是指定<code>.qrc</code>文件存储位置</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Cqrc.jpg" alt="qrc"></p>
<p>选择好以后,再操作右边的选择卡,填好<strong>前缀</strong>,然后点击蓝色的按键,选择要添加的资源文件(如图片什么的)</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Cqrc%E5%8A%A0%E8%BD%BD.jpg" alt="qrc加载"></p>
<p>此时打开<code>.qrc</code>文件就可以看到他指定了哪些资源文件</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Cqrc_finish.jpg" alt="qrc_finish"></p>
<p>上述步骤完成后就可以使用<code>rcc</code>工具将<code>.qrc</code>文件转换成<code>.py的资源文件</code>使用了</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Crcc.jpg" alt="rcc"></p>
<p>光标选择<code>.qrc资源</code>后,选择<code>Pyrcc</code>后就会生成相应的<code>py</code>文件</p>
<p><img src="/2018/11/26/pyqt与QT5/E:%5Chexo%5Csource_posts%5Cpyqt%E4%B8%8EQT5%5Crcc_finish.jpg" alt="rcc_finish"></p>
<p>需要用到图片时,直接导入图片的<code>.py</code>文件即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mainwindow.py]</span><br><span class="line">import picture</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[main.py]</span><br><span class="line"><span class="comment">#显示加载界面</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    splash = QSplashScreen(QPixmap(<span class="string">':/load/loading.jpg'</span>))</span><br><span class="line">    splash.show()</span><br><span class="line">    splash.showMessage(<span class="string">'正在加载请稍等..'</span>)</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    app.processEvents()</span><br><span class="line">    ui = caofunction.MyWindow()</span><br><span class="line">    ui.show()</span><br><span class="line">    splash.finish(ui)</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>
<h4 id=""><a class="markdownIt-Anchor" href="#"></a> </h4>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/26/pyqt与QT5/" data-id="cjzyy2kf0004vk829rzu9m18a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/环境配置/">环境配置</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-机器学习——数学概念" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/24/机器学习——数学概念/" class="article-date">
  <time datetime="2018-11-24T05:00:34.000Z" itemprop="datePublished">2018-11-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/24/机器学习——数学概念/">机器学习——数学概念</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="箱线图"><a class="markdownIt-Anchor" href="#箱线图"></a> 箱线图</h2>
<p>箱线图（Box plot）也称箱须图（Box-whisker Plot）、箱线图、盒图，<strong>可以用来反映一组或多组连续型定量数据分布的中心位置和散布范围</strong>，因形状如箱子而得名。</p>
<p><strong>- 连续型数据</strong>：在一定区间内可以任意取值的变量叫连续变量，其数值是连续不断的。例如，生产零件的规格尺寸，人体测量的身高、体重等，其数值只能用测量或计量的方法取得。可视化这类数据的图表主要有箱形图和直方图。</p>
<p><strong>- 离散型数据</strong>：数值只能用自然数或整数单位计算的则为离散变量。例如，企业个数，职工人数，设备台数等，只能按计量单位数计数，数值一般用计数方法取得。大多数图表可视化的都是这类数据，比如柱状图、折线图等。</p>
<h2 id=""><a class="markdownIt-Anchor" href="#"></a> </h2>
<h3 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> <em>优点:</em></h3>
<p>箱形图最大的优点就是<strong>不受异常值的影响</strong>，能够准确稳定地描绘出数据的<strong>离散分布情况</strong>，同时也利于数据的清洗。</p>
<h3 id="箱子上的线"><a class="markdownIt-Anchor" href="#箱子上的线"></a> 箱子上的线</h3>
<h4 id="四分位数"><a class="markdownIt-Anchor" href="#四分位数"></a> <strong>四分位数</strong></h4>
<p>Q1:第一四分位数(下四分位数)</p>
<p>Q2:中位数</p>
<p>Q3:第三四分位数(上四分位数)</p>
<p>一组数据按照从小到大顺序排列后，把该组数据四等分的数，称为四分位数。第一四分位数 (Q1)、第二四分位数 (Q2，也叫“<strong>中位数</strong>”)和第三四分位数 (Q3)分别等于该样本中所有数值由小到大排列后第25%、第50%和第75%的数字。第三四分位数与第一四分位数的差距又称四分位距（interquartile range, IQR）。</p>
<p>**箱子的高度在一定程度上反映了数据的波动程度</p>
<h4 id="上下线"><a class="markdownIt-Anchor" href="#上下线"></a> 上下线</h4>
<p>上下边缘则代表了该组数据的最大值和最小值</p>
<p><strong>上限</strong> :上限是非异常范围内的最大值。</p>
<p><strong>下限</strong>:下限是非异常范围内的最小值。</p>
<p>有时候箱子外部会有一些点，可以理解为数据中的“<strong>异常值</strong>”。</p>
<h3 id="偏态"><a class="markdownIt-Anchor" href="#偏态"></a> <strong>偏态</strong></h3>
<p>与正态分布相对，指的是非对称分布的偏斜状态。在统计学上，众数和平均数之差可作为分配偏态的指标之一：如平均数大于众数，称为正偏态（或右偏态）；相反，则称为负偏态（或左偏态）。</p>
<p>偏态表示偏离程度，异常值集中在较小值一侧，则分布呈左偏态；异常值集中在较大值一侧，则分布呈右偏态。</p>
<h2 id="confusion_martrix混淆矩阵"><a class="markdownIt-Anchor" href="#confusion_martrix混淆矩阵"></a> Confusion_martrix(混淆矩阵)</h2>
<p>混淆矩阵: 一种特定的矩阵用来呈现算法性能的可视化效果，通常是监督学习（非监督学习，通常用匹配矩阵：matching matrix）</p>
<blockquote>
<p>其每一列代表预测值，每一行代表的是实际的类别。这个名字来源于它可以非常容易的表明多个类别是否有混淆（也就是一个class被预测成另一个class）。</p>
</blockquote>
<h4 id="example样例说明"><a class="markdownIt-Anchor" href="#example样例说明"></a> Example样例说明:</h4>
<p>假设有一个用来对<code>猫（cats）、狗（dogs）、兔子（rabbits）</code>进行分类的系统，混淆矩阵就是为了进一步分析性能而对该算法测试结果做出的总结。假设总共有 <strong>27</strong> 只动物：8只猫， 6条狗， 13只兔子。结果的混淆矩阵如下图：</p>
<p><img src="/2018/11/24/机器学习——数学概念/E:%5Chexo%5Csource_posts%5C%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94%E6%95%B0%E5%AD%A6%E6%A6%82%E5%BF%B5%5Cconfusion_matrix.png" alt="confusion_matrix"></p>
<p>在这个混淆矩阵中，实际有 8只猫，但是系统将其中3只预测成了狗；对于 6条狗，其中有 1条被预测成了兔子，2条被预测成了猫。从混淆矩阵中我们可以看出系统对于区分猫和狗存在一些问题，但是<strong>区分兔子和其他动物的效果还是不错的</strong>。<strong><u>所有正确的预测结果都在对角线上</u></strong>，所以从混淆矩阵中可以很方便直观的看出哪里有错误，因为他们呈现在对角线外面。</p>
<h2 id="table-of-confusion混淆表格"><a class="markdownIt-Anchor" href="#table-of-confusion混淆表格"></a> Table of confusion(混淆表格)</h2>
<p>有时也称混淆矩阵.</p>
<p>由<code>false positives</code>，<code>false negatives</code>，<code>true positives</code>和<code>true negatives</code>组成的两行两列的表格。它允许我们做出更多的分析，而不仅仅是局限在正确率.。 它允许我们做出更多的分析，而不仅仅是局限在正确率。准确率对于分类器的性能分析来说，并不是一个很好地衡量指标，因为如果数据集<u>不平衡</u>（每一类的数据样本数量相差太大），很可能会出现误导性的结果。例如，如果在一个数据集中有95只猫，但是只有5条狗，那么某些分类器很可能偏向于将所有的样本预测成猫。整体准确率为95%，<u>但是实际上该分类器对猫的识别率是100%，而对狗的识别率是0%。</u></p>
<p>对于上面的说明样例，其对应的对猫这个类别的混淆表格如下：</p>
<p><img src="/2018/11/24/机器学习——数学概念/E:%5Chexo%5Csource_posts%5C%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94%E6%95%B0%E5%AD%A6%E6%A6%82%E5%BF%B5%5C%E6%B7%B7%E6%B7%86%E8%A1%A8%E6%A0%BC.png" alt="混淆表格"></p>
<p>假定一个实验有 P个positive实例，在某些条件下有 N 个negative实例。那么上面这四个输出可以用下面的偶然性表格（或混淆矩阵）来表示：</p>
<p><img src="/2018/11/24/机器学习——数学概念/E:%5Chexo%5Csource_posts%5C%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94%E6%95%B0%E5%AD%A6%E6%A6%82%E5%BF%B5%5C%E5%81%B6%E7%84%B6%E6%80%A7%E8%A1%A8%E6%A0%BC.png" alt="偶然性表格"></p>
<p>更多详情见博客</p>
<p>摘自博客 :  <a href="https://blog.csdn.net/vesper305/article/details/44927047" target="_blank" rel="noopener">https://blog.csdn.net/vesper305/article/details/44927047</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/24/机器学习——数学概念/" data-id="cjzyy2kh0007wk82968mck42u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数学知识/">数学知识</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/机器学习/">机器学习</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-机器学习——Python实践-笔记" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/23/机器学习——Python实践-笔记/" class="article-date">
  <time datetime="2018-11-23T13:20:18.000Z" itemprop="datePublished">2018-11-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/23/机器学习——Python实践-笔记/">机器学习——python实践.笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="机器学习python实践"><a class="markdownIt-Anchor" href="#机器学习python实践"></a> 机器学习——Python实践</h1>
<ul>
<li>Numpy:
<ul>
<li>python开源数值计算拓展,用来存储和处理大型矩阵,提供了许多高级的数值编程工具,如 矩阵数据类型、矢量处理、精密的运算库
<ul>
<li>利用Numpy数组来准备机器学习算法的数据</li>
</ul>
</li>
</ul>
</li>
<li>matplotlib:
<ul>
<li>python中最著名的2D绘图库,适合交互式的进行制图;也可作为绘图空间,嵌入GUI应用程序中
<ul>
<li>创建图表,展示数据</li>
</ul>
</li>
</ul>
</li>
<li>Pandas:
<ul>
<li>基于Numpy的工具,为了解决数据分析任务而创建的.~纳入了大量库和标准的数据模型,提供了操作大型数据集的工具,和快速便捷处理数据的函数和方法
<ul>
<li>导入、展示数据，以便挣钱对数据的理解和数据清洗、转换等工作</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id=""><a class="markdownIt-Anchor" href="#"></a> </h5>
<p><strong>预测模型所需的六个步骤:</strong></p>
<p><img src="/2018/11/23/机器学习——Python实践-笔记/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Python%E5%AE%9E%E8%B7%B5-%E7%AC%94%E8%AE%B0%5C%E9%A2%84%E6%B5%8B%E6%A8%A1%E5%9E%8B%E6%89%80%E9%9C%80%E7%9A%84%E5%85%AD%E4%B8%AA%E6%AD%A5%E9%AA%A4.jpg" alt="预测模型所需的六个步骤"></p>
<hr>
<h2 id="第一章"><a class="markdownIt-Anchor" href="#第一章"></a> 第一章：</h2>
<h3 id="鸢尾花iris-flower"><a class="markdownIt-Anchor" href="#鸢尾花iris-flower"></a> 鸢尾花(Iris Flower)</h3>
<blockquote>
<ul>
<li>
<p>所有特征数据都是数字,不需要考虑如何导入和处理数据—&gt;有的图表有标题等的,需要处理-</p>
</li>
<li>
<p>分类问题===&gt;监督学习算法</p>
</li>
<li>
<p>多分类问题,可能需要一些特殊处理</p>
</li>
<li>
<p>所有特征的数值采用相同单位,不需要进行尺度转换</p>
</li>
</ul>
</blockquote>
<p>步骤:</p>
<p><img src="/2018/11/23/机器学习——Python实践-笔记/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Python%E5%AE%9E%E8%B7%B5-%E7%AC%94%E8%AE%B0%5C%E9%A1%B9%E7%9B%AE%E5%85%B7%E4%BD%93%E6%AD%A5%E9%AA%A4.jpg" alt="项目具体步骤"></p>
<h5 id="1导入数据集"><a class="markdownIt-Anchor" href="#1导入数据集"></a> 1.导入数据集</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> read_csv</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"></span><br><span class="line">filename = <span class="string">'iris.data.csv'</span></span><br><span class="line">names = [<span class="string">'separ-length'</span>,<span class="string">'separ-width'</span>,<span class="string">'petal-length'</span>,<span class="string">'petal-width'</span>,<span class="string">'class'</span>]</span><br><span class="line"><span class="comment"># 花萼长度+宽度 , 花瓣长度+宽度</span></span><br><span class="line">dataset = read_csv(filename,names = names)</span><br><span class="line">print(dataset)  <span class="comment"># 150 * 5</span></span><br></pre></td></tr></table></figure>
<h5 id="2概述数据"><a class="markdownIt-Anchor" href="#2概述数据"></a> 2.概述数据</h5>
<blockquote>
<p>从下列角度审查数据:</p>
<ul>
<li>
<p>数据的维度</p>
</li>
<li>
<p>查看数据的自身</p>
</li>
<li>
<p>统计描述所有的数据特征</p>
</li>
<li>
<p>数据分类的分布情况</p>
</li>
</ul>
</blockquote>
<h6 id="1数据的维度"><a class="markdownIt-Anchor" href="#1数据的维度"></a> 1.数据的维度</h6>
<p>了解数据集中有多少行数据,数据有几个属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'数据的维度: 行 %s , 列 %s'</span> % (dataset.shape))</span><br><span class="line"><span class="comment">#&gt;&gt;&gt;数据的维度: 行 150 , 列 5</span></span><br></pre></td></tr></table></figure>
<h6 id="2参看数据本身"><a class="markdownIt-Anchor" href="#2参看数据本身"></a> 2.参看数据本身</h6>
<p>直观的看到数据的特征,数据的类型,以及大概的数据分布范围</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print(dataset.head(<span class="number">5</span>))</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">   separ-length  separ-width     ...       petal-width        <span class="class"><span class="keyword">class</span></span></span><br><span class="line"><span class="class">0           5.1          3.5     ...               0.2  <span class="title">Iris</span>-<span class="title">setosa</span></span></span><br><span class="line"><span class="class">1           4.9          3.0     ...               0.2  <span class="title">Iris</span>-<span class="title">setosa</span></span></span><br><span class="line"><span class="class">2           4.7          3.2     ...               0.2  <span class="title">Iris</span>-<span class="title">setosa</span></span></span><br><span class="line"><span class="class">3           4.6          3.1     ...               0.2  <span class="title">Iris</span>-<span class="title">setosa</span></span></span><br><span class="line"><span class="class">4           5.0          3.6     ...               0.2  <span class="title">Iris</span>-<span class="title">setosa</span></span></span><br></pre></td></tr></table></figure>
<h6 id="3统计描述数据"><a class="markdownIt-Anchor" href="#3统计描述数据"></a> 3.统计描述数据</h6>
<p>数据特征的统计描述信息包括数据的<code>行数</code>、<code>中位值</code>、<code>最大值</code>、<code>最小值</code>、<code>均值</code>、<code>四分位值</code>等统计数据信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">print(dataset.describe())</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">       separ-length  separ-width  petal-length  petal-width</span><br><span class="line">count    <span class="number">150.000000</span>   <span class="number">150.000000</span>    <span class="number">150.000000</span>   <span class="number">150.000000</span></span><br><span class="line">mean       <span class="number">5.843333</span>     <span class="number">3.054000</span>      <span class="number">3.758667</span>     <span class="number">1.198667</span></span><br><span class="line">std        <span class="number">0.828066</span>     <span class="number">0.433594</span>      <span class="number">1.764420</span>     <span class="number">0.763161</span></span><br><span class="line">min        <span class="number">4.300000</span>     <span class="number">2.000000</span>      <span class="number">1.000000</span>     <span class="number">0.100000</span></span><br><span class="line"><span class="number">25</span>%        <span class="number">5.100000</span>     <span class="number">2.800000</span>      <span class="number">1.600000</span>     <span class="number">0.300000</span></span><br><span class="line"><span class="number">50</span>%        <span class="number">5.800000</span>     <span class="number">3.000000</span>      <span class="number">4.350000</span>     <span class="number">1.300000</span></span><br><span class="line"><span class="number">75</span>%        <span class="number">6.400000</span>     <span class="number">3.300000</span>      <span class="number">5.100000</span>     <span class="number">1.800000</span></span><br><span class="line">max        <span class="number">7.900000</span>     <span class="number">4.400000</span>      <span class="number">6.900000</span>     <span class="number">2.500000</span></span><br></pre></td></tr></table></figure>
<h6 id="4数据分类分布"><a class="markdownIt-Anchor" href="#4数据分类分布"></a> 4.数据分类分布</h6>
<p>了解数据在不同分类的分布情况…==&gt;每个分类数据量的绝对数值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(dataset.groupby(<span class="string">'class'</span>).size())</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span></span></span><br><span class="line"><span class="class"><span class="title">Iris</span>-<span class="title">setosa</span>        50</span></span><br><span class="line"><span class="class"><span class="title">Iris</span>-<span class="title">versicolor</span>    50</span></span><br><span class="line"><span class="class"><span class="title">Iris</span>-<span class="title">virginica</span>     50</span></span><br><span class="line"><span class="class"><span class="title">dtype</span>:</span> int64</span><br></pre></td></tr></table></figure>
<p>▲ 如果数据分布不平衡,可能会影响到模型的准确性,…==&gt;不平衡时,需要对数据进行调整,方法有:</p>
<ul>
<li>扩大数据样本
<ul>
<li>通常容易被忽略的选择…但往往找到更大的数据集就有可能挖掘出更平衡的方面提高算法准确度</li>
</ul>
</li>
<li>数据的重新抽样
<ul>
<li>过抽样(复制少数类样本)…数据少时考虑</li>
<li>欠抽样(删除多数类样本)…数据多时考虑</li>
</ul>
</li>
<li>尝试生成人工样本
<ul>
<li>从少数类的实例中随机抽样特征属性,生成更多数据</li>
</ul>
</li>
<li>异常检测和变化检测
<ul>
<li>尝试从不同观点思考,异常检测是对罕见事件的检测,将小类作为异常值类</li>
</ul>
</li>
</ul>
<h4 id="3数据可视化"><a class="markdownIt-Anchor" href="#3数据可视化"></a> 3.数据可视化</h4>
<blockquote>
<p>单变量图表: 理解每一个特征属性</p>
<p>多变量图表: 理解不同特征属性之间的关系</p>
</blockquote>
<h5 id="单变量图"><a class="markdownIt-Anchor" href="#单变量图"></a> 单变量图:</h5>
<blockquote>
<p>箱线图: 一种用作显示一组数据分散情况资料的统计图。因形状如箱子而得名。</p>
<p>主要用于反映原始数据分布的特征，还可以进行多组数据分布特征的比 较。箱线图的绘制方法是：先找出一组数据的最大值、最小值、中位数和两个四分位数；然后， 连接两个四分位数画出箱子；再将最大值和最小值与箱子相连接，中位数在箱子中间。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#箱线图 , 因为每个特征属性都是数字 , 所以 用箱线图展示 属性与中位值的离散程度</span></span><br><span class="line">dataset.plot(kind=<span class="string">'box'</span>,subplots = <span class="keyword">True</span>,layout = (<span class="number">2</span>,<span class="number">2</span>) , sharex = <span class="keyword">False</span> , sharey = <span class="keyword">False</span>)</span><br><span class="line"><span class="comment"># 参数说明 : box箱线 , subplots 允许多个子图, layout 布局为2*2 , sharex.sharey 不共享x,y</span></span><br><span class="line">pyplot.show()</span><br><span class="line"><span class="comment">#---</span></span><br><span class="line"><span class="comment">#直方图 , x轴为值 , y轴为数量</span></span><br><span class="line">dataset.hist()</span><br><span class="line">pyplot.show()</span><br></pre></td></tr></table></figure>
<h5 id="多变量图"><a class="markdownIt-Anchor" href="#多变量图"></a> 多变量图:</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas.plotting <span class="keyword">import</span> scatter_matrix</span><br><span class="line"><span class="comment">#散点矩阵图</span></span><br><span class="line">scatter_matrix(dataset)</span><br><span class="line">pyplot.show()</span><br><span class="line"><span class="comment">#pyplot.savefig("scatter_matrix.png")</span></span><br></pre></td></tr></table></figure>
<p><img src="/2018/11/23/机器学习——Python实践-笔记/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Python%E5%AE%9E%E8%B7%B5-%E7%AC%94%E8%AE%B0%5Cscatter_matrix.png" alt="scatter_matrix"></p>
<h4 id="4评估算法"><a class="markdownIt-Anchor" href="#4评估算法"></a> 4.评估算法</h4>
<blockquote>
<ul>
<li>分离出评估数据集</li>
<li>采用<strong>10折交叉验证</strong>来评估算法模型</li>
<li>生成6个不同的模型来预测新数据</li>
<li>选择最优模型</li>
</ul>
</blockquote>
<h5 id="1分离出评估数据集"><a class="markdownIt-Anchor" href="#1分离出评估数据集"></a> 1.分离出评估数据集</h5>
<p>❤️要想知道算法模型对真是数据的准确度,所以保留一部分数据来评估算法模型.</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">array = dataset.values</span><br><span class="line">X = array[:,<span class="number">0</span>:<span class="number">4</span>]    <span class="comment">#除了最后的class类别</span></span><br><span class="line">Y = array[:,<span class="number">4</span>]      <span class="comment">#类别,目标</span></span><br><span class="line">validation_size = <span class="number">0.2</span>   <span class="comment">#验证比例</span></span><br><span class="line">seed = <span class="number">7</span>                <span class="comment">#随机种子</span></span><br><span class="line">X_train , X_validation , Y_train , Y_validation = \</span><br><span class="line">    train_test_split(X,Y,test_size=validation_size,random_state=seed)</span><br></pre></td></tr></table></figure>
<h5 id="2评估模式"><a class="markdownIt-Anchor" href="#2评估模式"></a> 2.评估模式</h5>
<p>采用10折交叉验证来分离训练数据集 :</p>
<blockquote>
<p>随机将数据分成10份,9份用来训练模型,1份用来评估算法</p>
</blockquote>
<h5 id="3创建模型"><a class="markdownIt-Anchor" href="#3创建模型"></a> 3.创建模型</h5>
<p><strong>线性</strong></p>
<ul>
<li>线性回归(LR)</li>
<li>线性判别分析(LDA)</li>
</ul>
<p><strong>非线性</strong></p>
<ul>
<li>K近邻(KNN)</li>
<li>分类与回归树(CART)</li>
<li>贝叶斯分类器(NB)</li>
<li>支持向量机(SVM)</li>
</ul>
<p>▲ 在每次对算法进行评估前都会重新设置随机数种子,以保证每次对算法的评估都是用相同的数据集</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression,LinearRegression <span class="comment">#LR</span></span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier                      <span class="comment">#CART</span></span><br><span class="line"><span class="keyword">from</span> sklearn.discriminant_analysis <span class="keyword">import</span> LinearDiscriminantAnalysis <span class="comment">#LDA</span></span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB                           <span class="comment">#NB</span></span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier                   <span class="comment">#KNN</span></span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC                                          <span class="comment">#SVM</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> KFold,cross_val_score</span><br><span class="line">models = &#123;&#125;</span><br><span class="line">models[<span class="string">'LR'</span>] = LogisticRegression()</span><br><span class="line">models[<span class="string">'LDA'</span>] = LinearDiscriminantAnalysis()</span><br><span class="line">models[<span class="string">'CART'</span>] = DecisionTreeClassifier()</span><br><span class="line">models[<span class="string">'NB'</span>] = GaussianNB()</span><br><span class="line">models[<span class="string">'KNN'</span>] = KNeighborsClassifier()</span><br><span class="line">models[<span class="string">'SVM'</span>] = SVC()</span><br><span class="line"><span class="comment">#评估算法</span></span><br><span class="line">resutls  = []</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> models:</span><br><span class="line">    kfold = KFold(n_splits=<span class="number">10</span>,random_state=seed)</span><br><span class="line">    cv_result  = cross_val_score(models[key],X_train,Y_train,cv = kfold , scoring = <span class="string">'accuracy'</span>)</span><br><span class="line">    <span class="comment">#cross_val_score将交叉验证的整个过程连接起来，不用再进行手动的分割数据, cv参数用于规定将原始数据分成多少份</span></span><br><span class="line">    resutls.append(cv_result)</span><br><span class="line">    print(<span class="string">"%s: %f (%f)"</span> % (key,cv_result.mean(),cv_result.std()))	<span class="comment">#均值,标准差</span></span><br></pre></td></tr></table></figure>
<h5 id="4选择最优模型"><a class="markdownIt-Anchor" href="#4选择最优模型"></a> 4.选择最优模型</h5>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt;</span></span><br><span class="line">LR: 0.966667 (0.040825)</span><br><span class="line">LDA: 0.975000 (0.038188)</span><br><span class="line">CART: 0.966667 (0.040825)</span><br><span class="line">NB: 0.975000 (0.053359)</span><br><span class="line">KNN: 0.983333 (0.033333)</span><br><span class="line">SVM: 0.991667 (0.025000)</span><br></pre></td></tr></table></figure>
<h5 id="为什么使用-10折交叉验证"><a class="markdownIt-Anchor" href="#为什么使用-10折交叉验证"></a> 为什么使用 10折交叉验证?</h5>
<p>进行模型验证的一个重要目的是要选出一个最合适的模型，对于监督学习而言，我们希望模型对于未知数据的<u>泛化能力</u>强，所以就需要模型验证这一过程来体现不同的模型对于未知数据的表现效果。</p>
<h6 id="训练准确度测试准确度"><a class="markdownIt-Anchor" href="#训练准确度测试准确度"></a> 训练准确度==&gt;测试准确度</h6>
<p>最先我们用<strong>训练准确度</strong>（用全部数据进行训练和测试）来衡量模型的表现，这种方法会导致模型<u>过拟合(方差大)</u>；===&gt;&gt;为了解决这一问题，我们将所有数据分成训练集和测试集两部分，我们用<code>训练集</code>进行模型训练，得到的模型再用<code>测试集</code>来衡量模型的预测表现能力，这种度量方式叫<strong>测试准确度</strong>，这种方式可以有效避免过拟合。</p>
<h6 id="测试准确度10折交叉验证"><a class="markdownIt-Anchor" href="#测试准确度10折交叉验证"></a> 测试准确度==&gt;10折交叉验证</h6>
<p><strong>测试准确度的一个缺点</strong>是其样本准确度是一个<strong>高方差估计</strong>（high variance estimate）, 所以该样本准确度会依赖不同的测试集，其表现效果不尽相同。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1</span>,<span class="number">5</span>):</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"random_state is "</span>, i,<span class="string">", and accuracy score is:"</span></span><br><span class="line">    X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=i)</span><br><span class="line"></span><br><span class="line">    knn = KNeighborsClassifier(n_neighbors=<span class="number">5</span>)</span><br><span class="line">    knn.fit(X_train, y_train)</span><br><span class="line">    y_pred = knn.predict(X_test)</span><br><span class="line">    <span class="keyword">print</span> metrics.accuracy_score(y_test, y_pred)</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">random_state <span class="keyword">is</span>  <span class="number">1</span> , <span class="keyword">and</span> accuracy score <span class="keyword">is</span>:<span class="number">1.0</span></span><br><span class="line">random_state <span class="keyword">is</span>  <span class="number">2</span> , <span class="keyword">and</span> accuracy score <span class="keyword">is</span>:<span class="number">1.0</span></span><br><span class="line">random_state <span class="keyword">is</span>  <span class="number">3</span> , <span class="keyword">and</span> accuracy score <span class="keyword">is</span>:<span class="number">0.947368421053</span></span><br><span class="line">random_state <span class="keyword">is</span>  <span class="number">4</span> , <span class="keyword">and</span> accuracy score <span class="keyword">is</span>:<span class="number">0.973684210526</span></span><br></pre></td></tr></table></figure>
<p>上面的测试准确率可以看出，<u>不同的训练集、测试集分割的方法</u>导致其准确率不同，而交叉验证的基本思想是：<u>1.将数据集进行一系列分割，生成一组不同的训练测试集</u>，<u>2.然后分别训练模型并计算测试准确率</u>，<u>3.最后对结果进行<strong>平均处理</strong></u>。这样来有效降低测试准确率的差异。</p>
<h5 id="k折交叉验证"><a class="markdownIt-Anchor" href="#k折交叉验证"></a> K折交叉验证:</h5>
<ol>
<li>将数据集平均分割成K个等份子集</li>
<li>使用1份数据(子集)作为测试数据，其余(K-1)份作为训练数据</li>
<li>计算测试准确率</li>
<li>使用不同的测试集，重复2、3步骤</li>
<li>对测试准确率做<strong>平均</strong>，作为对未知数据预测准确率的估计  ==&gt; <code>cross_val_score.mean()</code></li>
</ol>
<blockquote>
<p>不同的训练集、测试集分割的方法导致其准确率不同，而交叉验证的基本思想是：将数据集进行一系列分割，生成一组不同的训练测试集，然后分别训练模型并计算测试准确率，最后对结果进行平均处理。这样来有效降低测试准确率的差异。</p>
</blockquote>
<p><img src="/2018/11/23/机器学习——Python实践-笔记/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Python%E5%AE%9E%E8%B7%B5-%E7%AC%94%E8%AE%B0%5C%E6%95%B0%E5%AD%A6%E6%A6%82%E5%BF%B5%5CKFold.png" alt="KFold"></p>
<p>来自周志华&lt;&lt;机器学习&gt;&gt;:</p>
<p><img src="/2018/11/23/机器学习——Python实践-笔记/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Python%E5%AE%9E%E8%B7%B5-%E7%AC%94%E8%AE%B0%5C%E6%95%B0%E5%AD%A6%E6%A6%82%E5%BF%B5%5CK%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81%E6%B3%95.jpg" alt="K交叉验证法"></p>
<h6 id="分割方法"><a class="markdownIt-Anchor" href="#分割方法"></a> 分割方法</h6>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下面代码演示了K-fold交叉验证是如何进行数据分割的</span></span><br><span class="line"><span class="comment"># simulate splitting a dataset of 25 observations into 5 folds</span></span><br><span class="line"><span class="keyword">from</span> sklearn.cross_validation <span class="keyword">import</span> KFold</span><br><span class="line">kf = KFold(<span class="number">25</span>, n_folds=<span class="number">5</span>, shuffle=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv_result  = cross_val_score(models[key],X_train,Y_train,cv = <span class="number">10</span> , scoring = <span class="string">'accuracy'</span>)</span><br><span class="line"><span class="comment">#cross_val_score将交叉验证的整个过程连接起来，不用再进行手动的分割数据, cv参数用于规定将原始数据分成多少份</span></span><br></pre></td></tr></table></figure>
<h5 id="5实施预测"><a class="markdownIt-Anchor" href="#5实施预测"></a> 5.实施预测</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用评估数据集评估算法</span></span><br><span class="line">svm = SVC()</span><br><span class="line">svm.fit(X = X_train ,y = Y_train)		<span class="comment">#参数为 X , y</span></span><br><span class="line">predictions = svm.predict(X_validation)</span><br><span class="line">print(accuracy_score(Y_validation,predictions))		<span class="comment">#测试集结果 与 预测结果 相比</span></span><br><span class="line">print(confusion_matrix(Y_validation,predictions))</span><br><span class="line">print(classification_report(Y_validation,predictions))</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="number">0.9333333333333333</span></span><br><span class="line">[[ <span class="number">7</span>  <span class="number">0</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">0</span> <span class="number">10</span>  <span class="number">2</span>]		<span class="comment">#混淆矩阵只出现了两个错误,2</span></span><br><span class="line"> [ <span class="number">0</span>  <span class="number">0</span> <span class="number">11</span>]]</span><br><span class="line">                 precision(精确度)    recall(召回率)  f1-score(F1值)   support(总和)</span><br><span class="line"></span><br><span class="line">    Iris-setosa       <span class="number">1.00</span>      	<span class="number">1.00</span>      		<span class="number">1.00</span>         	<span class="number">7</span></span><br><span class="line">Iris-versicolor       <span class="number">1.00</span>      	<span class="number">0.83</span>      		<span class="number">0.91</span>        	<span class="number">12</span></span><br><span class="line"> Iris-virginica       <span class="number">0.85</span>      	<span class="number">1.00</span>      		<span class="number">0.92</span>        	<span class="number">11</span></span><br><span class="line"></span><br><span class="line">    avg / total       <span class="number">0.94</span>      	<span class="number">0.93</span>      		<span class="number">0.93</span>        	<span class="number">30</span></span><br></pre></td></tr></table></figure>
<h6 id="召回率recall-rate也叫查全率"><a class="markdownIt-Anchor" href="#召回率recall-rate也叫查全率"></a> 召回率(Recall Rate,也叫<a href="https://baike.baidu.com/item/%E6%9F%A5%E5%85%A8%E7%8E%87" target="_blank" rel="noopener">查全率</a>)</h6>
<blockquote>
<p>是<u>检索出的<strong>相关文档数</strong></u>和<u>文档库中所有的<strong>相关</strong>文档数</u>的比率，衡量的是检索系统的<a href="https://baike.baidu.com/item/%E6%9F%A5%E5%85%A8%E7%8E%87" target="_blank" rel="noopener">查全率</a>；</p>
</blockquote>
<h6 id="精度precise"><a class="markdownIt-Anchor" href="#精度precise"></a> 精度(Precise)</h6>
<blockquote>
<p>是<u>检索出的<strong>相关文档数</strong></u>与<u>检索出的文档<strong>总数</strong></u>的比率，衡量的是<a href="https://baike.baidu.com/item/%E6%A3%80%E7%B4%A2%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener">检索系统</a>的<a href="https://baike.baidu.com/item/%E6%9F%A5%E5%87%86%E7%8E%87" target="_blank" rel="noopener">查准率</a>。</p>
</blockquote>
<ul>
<li>
<p>TP: 预测为正，实际为正		(第一个是实际T或F,第二个是预测P或N)</p>
</li>
<li>
<p>FP: 预测为正，实际为负</p>
</li>
<li>
<p>TN:预测为负，实际为负</p>
</li>
<li>
<p>FN: 预测为负，实际为正</p>
</li>
</ul>
<p>精确率、准确率：<code>Accuracy=(TP+TN)/(TP+TN+FN+FP)</code></p>
<p>//精准率、查准率：<code>P = TP/ (TP+FP)</code></p>
<p>召回率、查全率：<code>R = TP/ (TP+FN)</code></p>
<p><code>F1-score</code>: <code>2*TP/(2*TP + FP + FN)</code></p>
<p>◆. 精确度是“搜索结果有多大用处”，而召回是“结果如何完整”。</p>
<hr>
<h6 id="f1分数"><a class="markdownIt-Anchor" href="#f1分数"></a> F1分数:</h6>
<blockquote>
<p>概述 : 统计学中用来衡量<strong>二分类模型精确度</strong>的一种指标。它同时兼顾了分类模型的<a href="https://baike.baidu.com/item/%E5%87%86%E7%A1%AE%E7%8E%87/5165407" target="_blank" rel="noopener">准确率</a>和<a href="https://baike.baidu.com/item/%E5%8F%AC%E5%9B%9E%E7%8E%87/560642" target="_blank" rel="noopener">召回率</a>。F1分数可以看作是模型<a href="https://baike.baidu.com/item/%E5%87%86%E7%A1%AE%E7%8E%87/5165407" target="_blank" rel="noopener">准确率</a>和<a href="https://baike.baidu.com/item/%E5%8F%AC%E5%9B%9E%E7%8E%87/560642" target="_blank" rel="noopener">召回率</a>的一种加权平均，它的最大值是1，最小值是0。</p>
</blockquote>
<p>人们通常使用准确率和召回率这两个指标，来评价<strong>二分类模型</strong>的分析效果。</p>
<p>但是当这两个指标发生冲突时，我们很难在模型之间进行比较。比如，我们有如下两个模型A、B，A模型的召回率高于B模型，但是B模型的准确率高于A模型，A和B这两个模型的综合性能，哪一个更优呢？</p>
<table>
<thead>
<tr>
<th></th>
<th>准确率</th>
<th>召回率</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>80%</td>
<td>90%</td>
</tr>
<tr>
<td>B</td>
<td>90%</td>
<td>80%</td>
</tr>
</tbody>
</table>
<p>为了解决这个问题，人们提出了<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>β</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{\beta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05278em;">β</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 分数。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>β</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{\beta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05278em;">β</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>的物理意义就是将准确率和召回率这两个分值合并为一个分值，在合并的过程中，召回率的权重是准确率的  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05278em;">β</span></span></span></span>倍。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>分数认为召回率和准确率<strong>同等重要</strong>， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 分数认为<strong>召回率的重要程度是准确率的2倍</strong>，而分<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mn>0</mn><mi mathvariant="normal">.</mi><mn>5</mn></mrow></msub></mrow><annotation encoding="application/x-tex">F_{0.5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">5</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>数认为<strong>召回率的重要程度是准确率的一半</strong>。</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>β</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">(</mo><mn>1</mn><mo>+</mo><msup><mi>β</mi><mrow><mn>2</mn></mrow></msup><mo fence="true">)</mo></mrow><mo>⋅</mo><mfrac><mrow><mtext><mtext> </mtext><mi mathvariant="normal">p</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi><mtext> </mtext><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">l</mi></mtext></mrow><mrow><mrow><mo fence="true">(</mo><msup><mi>β</mi><mrow><mn>2</mn></mrow></msup><mo>⋅</mo><mtext><mtext> </mtext><mi mathvariant="normal">p</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi><mtext> </mtext></mtext><mo fence="true">)</mo></mrow><mo>+</mo><mtext><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">l</mi></mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">F _ { \beta } = \left( 1 + \beta ^ { 2 } \right) \cdot \frac { \text { precision recall} } { \left( \beta ^ { 2 } \cdot \text { precision } \right) + \text {recall} }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.9322159999999999em;"></span><span class="strut bottom" style="height:1.452216em;vertical-align:-0.52em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.13889em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit" style="margin-right:0.05278em;">β</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mrel">=</span><span class="minner textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord mathrm">1</span><span class="mbin">+</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mbin">⋅</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.34500000000000003em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0.7em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="minner scriptstyle cramped"><span class="style-wrap reset-scriptstyle scriptstyle uncramped" style="top:0em;">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="vlist"><span style="top:-0.289em;margin-right:0.07142857142857144em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord scriptscriptstyle cramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mbin">⋅</span><span class="text mord scriptstyle cramped"><span class="mord mspace"> </span><span class="mord mathrm">p</span><span class="mord mathrm">r</span><span class="mord mathrm">e</span><span class="mord mathrm">c</span><span class="mord mathrm">i</span><span class="mord mathrm">s</span><span class="mord mathrm">i</span><span class="mord mathrm">o</span><span class="mord mathrm">n</span><span class="mord mspace"> </span></span><span class="style-wrap reset-scriptstyle scriptstyle uncramped" style="top:0em;">)</span></span><span class="mbin">+</span><span class="text mord scriptstyle cramped"><span class="mord mathrm">r</span><span class="mord mathrm">e</span><span class="mord mathrm">c</span><span class="mord mathrm">a</span><span class="mord mathrm">l</span><span class="mord mathrm">l</span></span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0.7em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.44610799999999995em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0.7em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="text mord scriptstyle uncramped"><span class="mord mspace"> </span><span class="mord mathrm">p</span><span class="mord mathrm">r</span><span class="mord mathrm">e</span><span class="mord mathrm">c</span><span class="mord mathrm">i</span><span class="mord mathrm">s</span><span class="mord mathrm">i</span><span class="mord mathrm">o</span><span class="mord mathrm">n</span><span class="mord mspace"> </span><span class="mord mathrm">r</span><span class="mord mathrm">e</span><span class="mord mathrm">c</span><span class="mord mathrm">a</span><span class="mord mathrm">l</span><span class="mord mathrm">l</span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0.7em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi><mo>=</mo><mfrac><mrow><mtext><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">l</mi><mtext> </mtext><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi></mtext></mrow><mrow><mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">y</mi><mtext> </mtext><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi></mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\beta = \frac { \text {recall rate} } { \text {accuracy rate} }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8801079999999999em;"></span><span class="strut bottom" style="height:1.3612159999999998em;vertical-align:-0.481108em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.05278em;">β</span><span class="mrel">=</span><span class="mord reset-textstyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.345em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="text mord scriptstyle cramped"><span class="mord mathrm">a</span><span class="mord mathrm">c</span><span class="mord mathrm">c</span><span class="mord mathrm">u</span><span class="mord mathrm">r</span><span class="mord mathrm">a</span><span class="mord mathrm">c</span><span class="mord mathrm" style="margin-right:0.01389em;">y</span><span class="mord mspace"> </span><span class="mord mathrm">r</span><span class="mord mathrm">a</span><span class="mord mathrm">t</span><span class="mord mathrm">e</span></span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.394em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="text mord scriptstyle uncramped"><span class="mord mathrm">r</span><span class="mord mathrm">e</span><span class="mord mathrm">c</span><span class="mord mathrm">a</span><span class="mord mathrm">l</span><span class="mord mathrm">l</span><span class="mord mspace"> </span><span class="mord mathrm">r</span><span class="mord mathrm">a</span><span class="mord mathrm">t</span><span class="mord mathrm">e</span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span></span></span></span></p>
<p>▲ 如何计算<code>Precise</code>、<code>Recall</code>、<code>F1-score</code>见博客https://blog.csdn.net/akadiao/article/details/78788864</p>
<hr>
<h3 id="confusion_martrix混淆矩阵"><a class="markdownIt-Anchor" href="#confusion_martrix混淆矩阵"></a> Confusion_martrix(混淆矩阵)</h3>
<p>混淆矩阵: 一种特定的矩阵用来呈现算法性能的可视化效果，通常是监督学习（非监督学习，通常用匹配矩阵：matching matrix）</p>
<blockquote>
<p>其每一列代表预测值，每一行代表的是实际的类别。这个名字来源于它可以非常容易的表明多个类别是否有混淆（也就是一个class被预测成另一个class）。</p>
</blockquote>
<h4 id="example样例说明"><a class="markdownIt-Anchor" href="#example样例说明"></a> Example样例说明:</h4>
<p>假设有一个用来对<code>猫（cats）、狗（dogs）、兔子（rabbits）</code>进行分类的系统，混淆矩阵就是为了进一步分析性能而对该算法测试结果做出的总结。假设总共有 <strong>27</strong> 只动物：8只猫， 6条狗， 13只兔子。结果的混淆矩阵如下图：</p>
<p><img src="/2018/11/23/机器学习——Python实践-笔记/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Python%E5%AE%9E%E8%B7%B5-%E7%AC%94%E8%AE%B0%5C%E6%95%B0%E5%AD%A6%E6%A6%82%E5%BF%B5%5Cconfusion_matrix.png" alt="confusion_matrix"></p>
<p>在这个混淆矩阵中，实际有 8只猫，但是系统将其中3只预测成了狗；对于 6条狗，其中有 1条被预测成了兔子，2条被预测成了猫。从混淆矩阵中我们可以看出系统对于区分猫和狗存在一些问题，但是<strong>区分兔子和其他动物的效果还是不错的</strong>。<strong><u>所有正确的预测结果都在对角线上</u></strong>，所以从混淆矩阵中可以很方便直观的看出哪里有错误，因为他们呈现在对角线外面。****</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/23/机器学习——Python实践-笔记/" data-id="cjzyy2kok00gnk829i9vfu2dp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/机器学习/">机器学习</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-Pycharm里无法查看Sqlite数据表" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/23/Pycharm里无法查看Sqlite数据表/" class="article-date">
  <time datetime="2018-11-23T07:27:38.000Z" itemprop="datePublished">2018-11-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/23/Pycharm里无法查看Sqlite数据表/">Pycharm里无法查看Sqlite数据表</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="pycharm里无法查看sqlite数据表"><a class="markdownIt-Anchor" href="#pycharm里无法查看sqlite数据表"></a> Pycharm里无法查看Sqlite数据表</h3>
<p>听说Pycharm可以直接看数据库,于是试了试,发现无法读取sqlite数据库的内容…于是发现下载相应的驱动.如图</p>
<p><img src="/2018/11/23/Pycharm里无法查看Sqlite数据表/E:%5Chexo%5Csource_posts%5CPycharm%E9%87%8C%E6%97%A0%E6%B3%95%E6%9F%A5%E7%9C%8BSqlite%E6%95%B0%E6%8D%AE%E8%A1%A8%5Cfail.jpg" alt="fail"></p>
<h4 id="解决方法"><a class="markdownIt-Anchor" href="#解决方法"></a> 解决方法:</h4>
<h5 id="一打开右侧的database选项卡选择data-source的sqlite"><a class="markdownIt-Anchor" href="#一打开右侧的database选项卡选择data-source的sqlite"></a> 一.打开右侧的<code>Database</code>选项卡,选择<code>Data Source</code>的Sqlite</h5>
<p><img src="/2018/11/23/Pycharm里无法查看Sqlite数据表/Pycharm%E9%87%8C%E6%97%A0%E6%B3%95%E6%9F%A5%E7%9C%8BSqlite%E6%95%B0%E6%8D%AE%E8%A1%A8%5Chowto.jpg" alt="howto"></p>
<h5 id="二点击黄色三角download下载相应的驱动软件"><a class="markdownIt-Anchor" href="#二点击黄色三角download下载相应的驱动软件"></a> 二.点击黄色三角<code>Download</code>下载相应的驱动软件</h5>
<p><img src="/2018/11/23/Pycharm里无法查看Sqlite数据表/E:%5Chexo%5Csource_posts%5CPycharm%E9%87%8C%E6%97%A0%E6%B3%95%E6%9F%A5%E7%9C%8BSqlite%E6%95%B0%E6%8D%AE%E8%A1%A8%5Cissue.jpg" alt="issue"></p>
<h5 id="三安装完成正常使用"><a class="markdownIt-Anchor" href="#三安装完成正常使用"></a> 三.安装完成,正常使用</h5>
<p><img src="/2018/11/23/Pycharm里无法查看Sqlite数据表/Pycharm%E9%87%8C%E6%97%A0%E6%B3%95%E6%9F%A5%E7%9C%8BSqlite%E6%95%B0%E6%8D%AE%E8%A1%A8%5Csuccess.jpg" alt="success"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/23/Pycharm里无法查看Sqlite数据表/" data-id="cjzyy2kcm001vk829pinsq4cl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-flask-sqlalchemy使用与sqlalchemy对比" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/23/flask-sqlalchemy使用与sqlalchemy对比/" class="article-date">
  <time datetime="2018-11-23T07:22:48.000Z" itemprop="datePublished">2018-11-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/23/flask-sqlalchemy使用与sqlalchemy对比/">flask-sqlalchemy使用与sqlalchemy对比</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="flask-sqlalchemy使用与sqlalchemy对比"><a class="markdownIt-Anchor" href="#flask-sqlalchemy使用与sqlalchemy对比"></a> flask-sqlalchemy使用与sqlalchemy对比</h3>
<h4 id="flask-sqlalchemy"><a class="markdownIt-Anchor" href="#flask-sqlalchemy"></a> flask-sqlalchemy</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> exts <span class="keyword">import</span> db</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MGroup</span><span class="params">(db.Model)</span>:</span></span><br><span class="line">    __tablename__ = <span class="string">'Group'</span></span><br><span class="line">    id = db.Column(db.Integer, primary_key=<span class="keyword">True</span>, autoincrement=<span class="keyword">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">50</span>),nullable=<span class="keyword">False</span>,unique = <span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MUserinfo</span><span class="params">(db.Model)</span>:</span></span><br><span class="line">    __tablename__ = <span class="string">'Userinfo'</span></span><br><span class="line">    id = db.Column(db.Integer,primary_key=<span class="keyword">True</span>,autoincrement=<span class="keyword">True</span>)</span><br><span class="line">    stuid = db.Column(db.String(<span class="number">15</span>),unique = <span class="keyword">True</span> ,nullable=<span class="keyword">False</span>)</span><br><span class="line">    subject = db.Column(db.String(<span class="number">50</span>), nullable=<span class="keyword">False</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">10</span>), nullable=<span class="keyword">False</span>)</span><br><span class="line">    qq = db.Column(db.Integer,nullable = <span class="keyword">False</span>)</span><br><span class="line">    dirction = db.Column(db.String(<span class="number">20</span>),db.ForeignKey(<span class="string">'Group.name'</span>),default=<span class="string">'3D仿真组'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mmessage</span><span class="params">(db.Model)</span>:</span></span><br><span class="line">    __tablename__ = <span class="string">'Contact'</span></span><br><span class="line">    id = db.Column(db.Integer,primary_key=<span class="keyword">True</span>,autoincrement=<span class="keyword">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">10</span>), nullable=<span class="keyword">False</span>)</span><br><span class="line">    email = db.Column(db.String(<span class="number">20</span>), nullable=<span class="keyword">False</span>)</span><br><span class="line">    subject = db.Column(db.String(<span class="number">20</span>), nullable=<span class="keyword">False</span>)</span><br><span class="line">    message = db.Column(db.Text, nullable=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<h3 id="sqlalchemy"><a class="markdownIt-Anchor" href="#sqlalchemy"></a> sqlalchemy</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sqlalchemy</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.ext.declarative <span class="keyword">import</span> declarative_base    </span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(sqlalchemy.__version__)</span><br><span class="line">engine = create_engine(<span class="string">'sqlite:///test.db'</span>,echo = <span class="keyword">True</span>)    <span class="comment">#将数据库执行的语句打印出来</span></span><br><span class="line"></span><br><span class="line">Base = declarative_base()	 <span class="comment">#声明一个基类实例</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span><span class="params">(Base)</span>:</span></span><br><span class="line">    __tablename__ = <span class="string">'User'</span>	<span class="comment">#表的名称</span></span><br><span class="line">    <span class="comment">#类的属性,而不是在析构函数中定义的原因是,Base类中有构造函数</span></span><br><span class="line">    Uid = sqlalchemy.Column(sqlalchemy.Integer,autoincrement=<span class="keyword">True</span>,primary_key=<span class="keyword">True</span>)</span><br><span class="line">    name = sqlalchemy.Column(sqlalchemy.String(<span class="number">20</span>),nullable=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&lt;Uid&gt;:&#123;&#125;,&lt;name&gt;:&#123;&#125;"</span>.format(self.Uid,self.name)</span><br><span class="line"></span><br><span class="line">Base.metadata.create_all(engine)    <span class="comment">#创建数据库表,sqlalchemy会自动覆盖已存在的表</span></span><br></pre></td></tr></table></figure>
<hr>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center">flask-sqlalchemy</th>
<th>sqlalchemy</th>
</tr>
</thead>
<tbody>
<tr>
<td>表继承的类</td>
<td style="text-align:center">db = SQLAlchemy(app),db.Model</td>
<td>Base = declarative_base()</td>
</tr>
<tr>
<td></td>
<td style="text-align:center">都是从工厂函数中声明的一个实例类,作为声明性类基类</td>
<td></td>
</tr>
<tr>
<td>链接数据库函数</td>
<td style="text-align:center"></td>
<td>create_engine()</td>
</tr>
<tr>
<td>创建表函数</td>
<td style="text-align:center">db.create_all()</td>
<td>Base.metadata.create_all(engine)</td>
</tr>
<tr>
<td>表单字段</td>
<td style="text-align:center">db.Column()</td>
<td>sqlalchemy.Column()</td>
</tr>
<tr>
<td>字段类型</td>
<td style="text-align:center">db.Integer</td>
<td>sqlalchemy.Integer</td>
</tr>
<tr>
<td>插入数据</td>
<td style="text-align:center">msg =  Mmessage(name=data.get(‘name’),email=data.get(‘email’),                 subject=data.get(‘subject’),message=data.get(‘message’)) db.session.add(msg) db.session.commit()</td>
<td>user = User(name=‘mrli’) Session = sessionmaker(bind=engine) session = Session() session.add(user) session.commit()</td>
</tr>
<tr>
<td>查询</td>
<td style="text-align:center"><code>Item.query.filter(Item.table == json_data.get('table')).first()</code></td>
<td><code>user = session.query(User).filter_by(name='mrli').first()</code></td>
</tr>
<tr>
<td>backref</td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td>文本输出</td>
<td style="text-align:center"></td>
<td><code>def __repr__(self):</code> （与django的<code>__str__</code>不同）</td>
</tr>
</tbody>
</table>
<h4 id="sqlalchemy-2"><a class="markdownIt-Anchor" href="#sqlalchemy-2"></a> sqlalchemy:</h4>
<p>查:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">user = session.query(User).all()</span><br><span class="line">user = session.query(User).filter_by(name=<span class="string">'mrli'</span>).first()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 排序</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> user = session.query(User).order_by(User.id):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># in_</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> session.query(User).filter(User.name.in_([<span class="string">'nymrli'</span>,<span class="string">'cl'</span>])):</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&lt;Uid&gt;:<span class="number">1</span>,&lt;name&gt;:mrli</span><br><span class="line">&gt;&gt;&gt;&gt; &lt;Uid&gt;:<span class="number">3</span>,&lt;name&gt;:qsy</span><br><span class="line">        </span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> session.query(~User.name.in_([<span class="string">'nymrli'</span>,<span class="string">'cl'</span>])):</span><br><span class="line">    print(row)</span><br><span class="line">    </span><br><span class="line">&gt;&gt;&gt;(<span class="keyword">True</span>,)</span><br><span class="line">&gt;&gt;&gt;(<span class="keyword">False</span>,)</span><br><span class="line">&gt;&gt;&gt;(<span class="keyword">True</span>,)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ~ in	</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> session.query(User).filter(~User.name.in_([<span class="string">'nymrli'</span>,<span class="string">'cl'</span>])):</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#计数</span></span><br><span class="line">user = session.query(User).filter(User.name==<span class="string">'mrli'</span>).count()</span><br><span class="line"><span class="comment">#▲.注意filter()的==与filter_by()的=的使用区别</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># and_  or_</span></span><br></pre></td></tr></table></figure>
<h4 id="sqlalchemy-core-核心层更接近sql语句"><a class="markdownIt-Anchor" href="#sqlalchemy-core-核心层更接近sql语句"></a> sqlalchemy core (核心层,更接近SQL语句)</h4>
<blockquote>
<p>代码很接近、形似SQL原生语句,可以写sqlalchemy的SQL方言(dialect)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sqlalchemy</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> Table,MetaData</span><br><span class="line"></span><br><span class="line">print(sqlalchemy.__version__)</span><br><span class="line">engine = create_engine(<span class="string">'sqlite:///test.db'</span>,echo = <span class="keyword">True</span>)    <span class="comment">#将数据库执行的语句打印出来</span></span><br><span class="line"></span><br><span class="line">metadata = MetaData()</span><br><span class="line"></span><br><span class="line">users = Table( <span class="string">'users'</span>,metadata,</span><br><span class="line">    sqlalchemy.Column(<span class="string">'id'</span>,sqlalchemy.Integer,primary_key=<span class="keyword">True</span>),</span><br><span class="line">    sqlalchemy.Column(<span class="string">'name'</span>,sqlalchemy.String)</span><br><span class="line">)</span><br><span class="line">addresses = Table( <span class="string">'addresses'</span> , metadata,</span><br><span class="line">   sqlalchemy.Column(<span class="string">'id'</span>, sqlalchemy.Integer, primary_key=<span class="keyword">True</span>),</span><br><span class="line">   sqlalchemy.Column(<span class="string">'user_id'</span>, <span class="keyword">None</span>,primary_key(<span class="string">'users.isd'</span>)),</span><br><span class="line">   sqlalchemy.Column(<span class="string">'email_address'</span>, sqlalchemy.String, nullable=<span class="keyword">False</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">metadata.create_all(engine)</span><br><span class="line"></span><br><span class="line">users = Table( <span class="string">'users'</span>,metadata,</span><br><span class="line">    sqlalchemy.Column(<span class="string">'id'</span>,sqlalchemy.Integer,primary_key=<span class="keyword">True</span>),</span><br><span class="line">    sqlalchemy.Column(<span class="string">'name'</span>,sqlalchemy.String)</span><br><span class="line">)</span><br><span class="line">addresses = Table( <span class="string">'addresses'</span> , metadata,</span><br><span class="line">   sqlalchemy.Column(<span class="string">'id'</span>, sqlalchemy.Integer, primary_key=<span class="keyword">True</span>),</span><br><span class="line">   sqlalchemy.Column(<span class="string">'user_id'</span>, <span class="keyword">None</span>,primary_key(<span class="string">'users.id'</span>)),</span><br><span class="line">   sqlalchemy.Column(<span class="string">'email_address'</span>, sqlalchemy.String, nullable=<span class="keyword">False</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">metadata.create_all(engine)</span><br><span class="line">conn = engine.connect()</span><br><span class="line"></span><br><span class="line">conn.execute(users.insert(),[</span><br><span class="line">    dict(name=<span class="string">'nymrli'</span>),</span><br><span class="line">    dict(name=<span class="string">'cl'</span>)</span><br><span class="line">])</span><br><span class="line">conn.execute(users.insert(),[</span><br><span class="line">    dict(user_id=<span class="number">1</span>,email_address=<span class="string">'1063052964@qq.com'</span>),</span><br><span class="line">    dict(user_id=<span class="number">1</span>,email_address=<span class="string">'2042423232@qq.com'</span>),</span><br><span class="line">    dict(user_id=<span class="number">2</span>, email_address=<span class="string">'1063052923@qq.com'</span>),</span><br><span class="line">    dict(user_id=<span class="number">2</span>, email_address=<span class="string">'2042423232@qq.com'</span>),</span><br><span class="line">])</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.sql <span class="keyword">import</span> select</span><br><span class="line">s = select([users])</span><br><span class="line">result = conn.execute(s)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> result:</span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># s = select([users.addresses]).where(users.c.id == addresses.c.user_id)</span></span><br><span class="line"><span class="keyword">from</span> sqlalchemy.sql <span class="keyword">import</span> text</span><br><span class="line">s = text(</span><br><span class="line">    <span class="string">"SELECT user.name || ',' || addresses.email_address AS title "</span> </span><br><span class="line">        <span class="string">"FROM users.addresses "</span></span><br><span class="line">        <span class="string">"WHERE users.id == addresses.user_id "</span> </span><br><span class="line">        <span class="string">"AND users.name BETWEEN :x AND :y "</span> </span><br><span class="line">        <span class="string">"AND (addresses.email_address LIKE :e1 "</span> </span><br><span class="line">        <span class="string">"OR addresses.email_address LIKE :e2)"</span></span><br><span class="line">)</span><br><span class="line">print(conn.execute(s,x=<span class="string">'m'</span>,y=<span class="string">'z'</span>,e1=<span class="string">"%@aoq.com"</span>,e2=<span class="string">'@qwe.com'</span>).fetchall())</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意下最后text()里面写的内容&quot;&quot;引号最后要有空格,与下面的语句分割开</p>
</blockquote>
<h6 id="无空格的样子"><a class="markdownIt-Anchor" href="#无空格的样子"></a> 无空格的样子:</h6>
<p><img src="/2018/11/23/flask-sqlalchemy使用与sqlalchemy对比/E:%5Chexo%5Csource_posts%5C%C2%96flask-sqlalchemy%E4%BD%BF%E7%94%A8%E4%B8%8Esqlalchemy%E5%AF%B9%E6%AF%94%5Cfail.jpg" alt="fail"></p>
<h6 id="有空格的样子"><a class="markdownIt-Anchor" href="#有空格的样子"></a> 有空格的样子</h6>
<p><img src="/2018/11/23/flask-sqlalchemy使用与sqlalchemy对比/E:%5Chexo%5Csource_posts%5C%C2%96flask-sqlalchemy%E4%BD%BF%E7%94%A8%E4%B8%8Esqlalchemy%E5%AF%B9%E6%AF%94%5Csuccess.jpg" alt="success"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/23/flask-sqlalchemy使用与sqlalchemy对比/" data-id="cjzyy2kf70057k8291u22ukjm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-Flask系列–将应用部署在Heroku上" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/21/Flask系列–将应用部署在Heroku上/" class="article-date">
  <time datetime="2018-11-21T07:54:01.000Z" itemprop="datePublished">2018-11-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/21/Flask系列–将应用部署在Heroku上/">Flask系列–将应用部署在Heroku上</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="flask补充系列将应用部署在heroku上"><a class="markdownIt-Anchor" href="#flask补充系列将应用部署在heroku上"></a> Flask补充系列–将应用部署在Heroku上</h1>
<p>之前曾经介绍过如何<a href="http://www.bjhee.com/flask-ad8.html" target="_blank" rel="noopener">将Flask应用部署在自己的服务器上</a>，对于手头并不宽裕的程序员来说，购置一台托管服务器还是一笔不小的开销。即便现在有公有云服务器可以买，不过如果你只是以学习为目的，这笔开销还是能省则省了。另外，如果你的应用中需要访问国外被河蟹掉的资源，在服务器上翻墙也是件麻烦事，所以这里我们补充一篇如何将Flask应用部署在Heroku上。</p>
<h3 id="环境准备"><a class="markdownIt-Anchor" href="#环境准备"></a> 环境准备</h3>
<p><a href="https://www.heroku.com/" target="_blank" rel="noopener">Heroku</a>是一个<a href="http://www.bjhee.com/cloud.html" target="_blank" rel="noopener">PaaS服务</a>提供商，使用前，你需要先<a href="https://signup.heroku.com/" target="_blank" rel="noopener">注册一个Heroku帐号</a>，注册帐号是免费的。</p>
<p>此外你本地必须要有Python 2.7的开发环境，并且装好了Pip, Setuptools, Virtualenv等工具。对于Python开发者来说，这些都是必备的吧。此外Git客户端也是必须的，因为Heroku的代码管理用的是Git。</p>
<p>Heroku提供了一个非常方便的<a href="https://devcenter.heroku.com/start" target="_blank" rel="noopener">Getting Start</a>教程，每种开发环境都有，我们可以打开Python的Getting Start，然后参照其说明创建一个Python Web应用。懒得看英文的朋友们，可以看我下面写的步骤。</p>
<p>在开始创建应用之前，你还需要安装<a href="https://toolbelt.heroku.com/" target="_blank" rel="noopener">Heroku的客户端工具</a>，你可以根据你本地的操作系统选择安装包下载。这是一个命令行工具，基于Ruby实现，所以使用起来每个操作系统都一样。安装完成后，你可以打开命令行，输入下面的命令来验证安装是否成功：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku --version</span><br></pre></td></tr></table></figure>
<p>如果安装成功，就在本地命令行里登录Heroku，执行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku login</span><br></pre></td></tr></table></figure>
<p>并输入你注册号的Heroku帐号及密码即可。</p>
<h3 id="创建应用"><a class="markdownIt-Anchor" href="#创建应用"></a> 创建应用</h3>
<h5 id="网页创建应用"><a class="markdownIt-Anchor" href="#网页创建应用"></a> 网页创建应用</h5>
<p>环境准备就绪了，我们开始创建一个应用。浏览器打开<a href="https://dashboard.heroku.com/apps" target="_blank" rel="noopener">Heroku应用控制台</a>，点击右上角的”+”号，并选择”Create new app”。<br>
<img src="http://www.bjhee.com/wp-content/uploads/2016/05/create-app.png" alt="Create App"></p>
<p>在创建页面中，输入你的应用名称，比如”flask-bjhee”，如果名称没有被占用，则会跳出绿色提示”flask-bjhee is available”。运行环境默认在美国，也可以选择欧洲。信息填完后，点击下方的”Create App”按钮，应用就创建完成了。<br>
<img src="http://www.bjhee.com/wp-content/uploads/2016/05/fill-appinfo.png" alt="Fill App Info"></p>
<p>接下来打开命令行，我们要初始化本地及远程代码库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /home/bjhee/flask-bjhee      # 创建本地代码工作目录</span><br><span class="line">$ cd /home/bjhee/flask-bjhee         # 切换到本地代码工作目录</span><br><span class="line">$ git init                           # 创建本地代码库</span><br><span class="line">$ heroku git:remote -a flask-bjhee   # 连接远程Heroku的flask-bjhee代码库</span><br></pre></td></tr></table></figure>
<p>现在，我们就可以编写应用代码，并提交到Heroku上去了。</p>
<p>命令行创建应用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ heroku create (xxx)		#省略会自动默认</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;yyy&quot;</span><br><span class="line">$ heroku git:remote -a flask-bjhee</span><br></pre></td></tr></table></figure>
<h3 id="部署应用"><a class="markdownIt-Anchor" href="#部署应用"></a> 部署应用</h3>
<p>既然主要是在讲部署，那代码逻辑就简单些，Hello World吧。我们写一个Flask Web程序”<a href="http://run.py" target="_blank" rel="noopener">run.py</a>”，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"> </span><br><span class="line">@app.route(&apos;/&apos;)</span><br><span class="line">def index():</span><br><span class="line">    return &apos;Hello World!&apos;</span><br><span class="line"> </span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    app.run(host=&apos;0.0.0.0&apos;, debug=True)</span><br></pre></td></tr></table></figure>
<p>然后，我们就写个”requirements.txt”文件，应用部署时Heroku远程环境会自动执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install -r requirements.txt</span><br></pre></td></tr></table></figure>
<p>来安装应用依赖的库。我们的”requirements.txt”文件如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Flask==0.10.1</span><br><span class="line">gunicorn==19.4.5</span><br></pre></td></tr></table></figure>
<p>项目依赖Flask很好理解，为什么还要依赖gunicorn呢？因为我们不能靠Flask自带的Web服务器来运行Flask程序，所以gunicorn是个很好的选择。还记得如何<a href="http://www.bjhee.com/flask-ad8.html" target="_blank" rel="noopener">通过Gunicorn运行Flask应用</a>吗？对于上面的代码，我们只需执行”gunicorn run:app”即可。现在我们要告诉Heroku，应该使用这个命令来运行我们的应用。怎么做呢，就是在项目根目录里创建一个”Procfile”文件，然后写上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">web: gunicorn run:app --log-file -</span><br></pre></td></tr></table></figure>
<p>这就告诉Heroku，启动Web时，要执行”gunicorn run:app –log-file -“。后面的”–log-file -“参数，是为了让日志只打印到标准输出stdout上，因为Heroku不提供我们写本地磁盘的功能。</p>
<p>再接下来，我们要写一个app.json来描述项目信息，”app.json”内容大致如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;Flask sample on Heroku&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;An example of deploying Flask web app to Heroku.&quot;,</span><br><span class="line">  &quot;image&quot;: &quot;heroku/python&quot;,</span><br><span class="line">  &quot;repository&quot;: &quot;https://git.heroku.com/flask-bjhee&quot;,</span><br><span class="line">  &quot;keywords&quot;: [&quot;python&quot;, &quot;flask&quot; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>另外根据习惯，我们应该写一个”<a href="http://README.md" target="_blank" rel="noopener">README.md</a>”来给用户看，”.gitignore”描述哪些文件类型不需要提交到代码库中去。好了，现在我们的目录结构如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">flask-bjhee/</span><br><span class="line">  ├ .gitignore</span><br><span class="line">  ├ app.json</span><br><span class="line">  ├ Procfile</span><br><span class="line">  ├ README.md</span><br><span class="line">  ├ requirements.txt</span><br><span class="line">  └ run.py</span><br></pre></td></tr></table></figure>
<p>让我们执行git提交命令，来部署到远程Heroku上去吧：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;Initialize Project&quot;</span><br><span class="line">$ git push heroku master               # 提交到远程master分支</span><br></pre></td></tr></table></figure>
<p>想看看效果，命令行里输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku open</span><br></pre></td></tr></table></figure>
<p>就会启动浏览器，并打开地址”<a href="https://flask-bjhee.herokuapp.com/%E2%80%9D%EF%BC%8C%E5%BD%93%E7%84%B6%E4%BD%A0%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%BF%E9%97%AE%E8%BF%99%E4%B8%AA%E5%9C%B0%E5%9D%80%E3%80%82%E6%9C%89%E6%B2%A1%E6%9C%89%E7%9C%8B%E5%88%B0%E2%80%9DHello" target="_blank" rel="noopener">https://flask-bjhee.herokuapp.com/”，当然你也可以直接浏览器访问这个地址。有没有看到”Hello</a> World!”？</p>
<p>本篇的示例代码可以在<a href="http://www.bjhee.com/downloads/201605/flask-heroku.tar.gz" target="_blank" rel="noopener">这里下载</a>。</p>
<p>部分转自: <a href="http://www.bjhee.com/flask-heroku.html" target="_blank" rel="noopener">思诚之道</a></p>
<p>▲ 注意部署的时候有两个文件不能少,分别是<code>Procfile</code>和<code>requestments.txt(名字必须完全一样,我就是拼错了一次和少了个s)</code>,失败的报错情况如图</p>
<p><img src="/2018/11/21/Flask系列–将应用部署在Heroku上/E:%5Chexo%5Csource_posts%5CFlask%E7%B3%BB%E5%88%97%E2%80%93%E5%B0%86%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2%E5%9C%A8Heroku%E4%B8%8A%5C1.jpg" alt="1"></p>
<p>完成后是这样的.heorku会自动根据你提供的<code>requestments.txt</code>安装相应的依赖库</p>
<p><img src="/2018/11/21/Flask系列–将应用部署在Heroku上/E:%5Chexo%5Csource_posts%5CFlask%E7%B3%BB%E5%88%97%E2%80%93%E5%B0%86%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2%E5%9C%A8Heroku%E4%B8%8A%5C3.jpg" alt="3"></p>
<hr>
<h3 id="配置数据库环境-迁移文件-表"><a class="markdownIt-Anchor" href="#配置数据库环境-迁移文件-表"></a> 配置数据库环境、迁移文件、表</h3>
<p>heroku提供了自己的控制台,打开的命令为<code>heroku run bash</code>,之后就可以像在linux的终端下一样操作了</p>
<p>除了这种方法还可以指明使用heroku命令,需要做的是加上前缀<code>heroku run</code>,如<code>heroku run python manage.py db init</code></p>
<p>官方介绍为:(如图</p>
<p><img src="/2018/11/21/Flask系列–将应用部署在Heroku上/E:%5Chexo%5Csource_posts%5CFlask%E7%B3%BB%E5%88%97%E2%80%93%E5%B0%86%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2%E5%9C%A8Heroku%E4%B8%8A%5C4.jpg" alt="4"></p>
<hr>
<h3 id="自定义域名"><a class="markdownIt-Anchor" href="#自定义域名"></a> 自定义域名</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku domains:add apollo.nymrli.top</span><br></pre></td></tr></table></figure>
<p>▲.注意需要认证账户,否则会出现下图结果</p>
<p><img src="/2018/11/21/Flask系列–将应用部署在Heroku上/E:%5Chexo%5Csource_posts%5CFlask%E7%B3%BB%E5%88%97%E2%80%93%E5%B0%86%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2%E5%9C%A8Heroku%E4%B8%8A%5Cvertify.jpg" alt="vertify"></p>
<p>待认证好后,还需要用DNS解析,我用的是阿里云的万网解析,将<code>heroku domains:add apollo.nymrli.top</code>后<code>heroku</code>的值用CHAME记录解析.等个几秒后就可以用<code>apollo.nymrli.top</code>访问<code>heroku</code>上面的应用程序了</p>
<p>还有一个做法呢,是直接在heroku相应app的设置里面设置自定义域名,但是由于显示问题,容易复制错,导致无法被解析的问题…如果设置好CHAME解析30秒后还是无法用自定义域名打开的话,看看是不是值复制错了.</p>
<p>所以还是比较建议用命令<code>heroku domains:add xxx</code>来绑定</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/21/Flask系列–将应用部署在Heroku上/" data-id="cjzyy2kc10013k829b0f8gq5u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/后端/">后端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/环境部署/">环境部署</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-二分搜索降低时间复杂度" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/10/二分搜索降低时间复杂度/" class="article-date">
  <time datetime="2018-11-10T13:36:01.000Z" itemprop="datePublished">2018-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/10/二分搜索降低时间复杂度/">二分搜索降低时间复杂度</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="二分搜索降低时间复杂度"><a class="markdownIt-Anchor" href="#二分搜索降低时间复杂度"></a> 二分搜索降低时间复杂度</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++) <span class="built_in">cin</span> &gt;&gt; s[i];</span><br><span class="line">    canFit();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2018/11/10/二分搜索降低时间复杂度/Typora/%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2%E9%99%8D%E4%BD%8E%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/draw_lots.jpg" alt="draw_lots"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 150</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m,s[MAXN];</span><br><span class="line"><span class="keyword">int</span> ss[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canFit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;n;k++)</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> l=<span class="number">0</span>;l&lt;n;l++)</span><br><span class="line">        <span class="keyword">if</span>( s[i] + s[j] + s[l] + s[k] == m) flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(flag) <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES"</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>时间复杂度为O(n^4),只能在n较小的情况下,若n较大,则TLE…</strong></p>
<p><strong>时间复杂度为O(n^3log2(n))的做法:一层二分搜索</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 150</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m,s[MAXN];</span><br><span class="line"><span class="keyword">int</span> ss[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">binSearch</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> r=n,l=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(l &lt;= r)&#123;</span><br><span class="line">        <span class="keyword">int</span> i = (r+l)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> ( s[i] == k) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( s[i] &lt; k) l = i+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> r= i<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canFit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">        <span class="keyword">if</span>( binSearch(m-s[i] - s[j] - s[k]) flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(flag) <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES"</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>O(n^2log2(n))做法: 排序<code>O(n^2log2(n))</code>,循环<code>O(n^2log2(n))</code>,总共也是<code>O(n^2log2(n))</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 150</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m,s[MAXN];</span><br><span class="line"><span class="keyword">int</span> ss[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">binSearch</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> l=<span class="number">0</span>,r=n*n;</span><br><span class="line">    <span class="keyword">while</span>(l &lt;= r)&#123;</span><br><span class="line">        <span class="keyword">int</span> i = (r+l)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> ( s[i] == k) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( s[i] &lt; k) l = i+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> r= i<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enumeration</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">        ss[i*n+j] = s[i] + s[j];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canFit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    enumeration();</span><br><span class="line">    sort(ss,ss+n*n);        <span class="comment">//二分搜索的前提是有序</span></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">        <span class="keyword">if</span>( binSearch(m- s[i] - s[j] )) flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(flag) <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES"</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>▲需要注意的是,<code>ss[n*n]</code>的数组需要先排序才能使用二分搜索</p>
<p>----出自:&lt;&lt;挑战程序设计竞赛&gt;&gt;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/10/二分搜索降低时间复杂度/" data-id="cjzyy2kfe005kk8299wchvxqw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ACM/">ACM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-matplotlib-pyplot使用" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/10/matplotlib-pyplot使用/" class="article-date">
  <time datetime="2018-11-10T04:58:51.000Z" itemprop="datePublished">2018-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/10/matplotlib-pyplot使用/">matplotlib.pyplot使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="matplotlibpyplot使用"><a class="markdownIt-Anchor" href="#matplotlibpyplot使用"></a> matplotlib.pyplot使用</h1>
<h2 id="注释"><a class="markdownIt-Anchor" href="#注释"></a> 注释</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 方法一</span></span><br><span class="line"><span class="comment">####################</span></span><br><span class="line"><span class="keyword">for</span> x_value,y_value <span class="keyword">in</span> zip(x,y):</span><br><span class="line">    plt.text(x_value,y_value,y_value,fontsize= <span class="number">15</span>)	<span class="comment">#文字标注(x,y,值)</span></span><br><span class="line"><span class="comment">####################</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 方法二</span></span><br><span class="line"><span class="comment">####################</span></span><br><span class="line"><span class="keyword">for</span> xy <span class="keyword">in</span> zip(x, y):</span><br><span class="line">    plt.annotate(<span class="string">"(%s,%s)"</span> % xy, xy=xy, xytext=(<span class="number">-20</span>, <span class="number">10</span>), textcoords=<span class="string">'offset points'</span>)</span><br><span class="line">    </span><br><span class="line">x0 = <span class="number">1</span></span><br><span class="line">y0 = <span class="number">2</span>* x0</span><br><span class="line">plt.annotate(<span class="string">r'$&#123;&#125;+&#123;&#125;=&#123;&#125;$'</span>.format(x0,x0,y0),xy=(x0,y0),xycoords=<span class="string">'data'</span>,xytext=(+<span class="number">30</span>,<span class="number">-30</span>),textcoords = <span class="string">'offset points'</span>,</span><br><span class="line">             fontsize=<span class="number">16</span>,arrowprops=dict(</span><br><span class="line">    arrowstyle=<span class="string">'-&gt;'</span>,</span><br><span class="line">    connectionstyle=<span class="string">'arc3,rad=.2'</span></span><br><span class="line">    ))</span><br><span class="line"><span class="comment">####################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加注释(annotate),参数说明</span></span><br><span class="line">plt.annotate(<span class="string">r'$2x+1=&#123;&#125;$'</span>.format(y),xy=(x,y),xycoords=<span class="string">'data'</span>,xytext=(+<span class="number">30</span>,<span class="number">-30</span>),textcoords = <span class="string">'offset points'</span>,fontsize=<span class="number">16</span>,</span><br><span class="line">    arrowprops=dict(</span><br><span class="line">    arrowstyle=<span class="string">'-&gt;'</span>,</span><br><span class="line">    connectionstyle=<span class="string">'arc3,rad=.2'</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一个参数是注释的内容</span></span><br><span class="line"><span class="comment"># xy设置箭头尖的坐标</span></span><br><span class="line"><span class="comment"># xytext设置注释内容显示的起始位置</span></span><br><span class="line"><span class="comment"># arrowprops 用来设置箭头</span></span><br><span class="line"><span class="comment"># facecolor 设置箭头的颜色</span></span><br><span class="line"><span class="comment"># headlength 箭头的头的长度</span></span><br><span class="line"><span class="comment"># headwidth 箭头的宽度</span></span><br><span class="line"><span class="comment"># width 箭身的宽度</span></span><br></pre></td></tr></table></figure>
<h2 id="坐标轴转移"><a class="markdownIt-Anchor" href="#坐标轴转移"></a> 坐标轴转移</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[&apos;right&apos;].set_color(&apos;none&apos;)</span><br><span class="line">ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)</span><br><span class="line">ax.xaxis.set_ticks_position(&apos;bottom&apos;)</span><br><span class="line">ax.spines[&apos;bottom&apos;].set_position((&apos;data&apos;,0))</span><br><span class="line">ax.yaxis.set_ticks_position(&apos;left&apos;)</span><br><span class="line">ax.spines[&apos;left&apos;].set_position((&apos;data&apos;,0))</span><br></pre></td></tr></table></figure>
<h2 id="图形类型"><a class="markdownIt-Anchor" href="#图形类型"></a> 图形类型</h2>
<ul>
<li>散列图 <code>ax1.scatter(x,y,c = 'r',marker = 'o')</code></li>
<li>折线图<code>plt.plot()</code></li>
<li>直方图<code>plt.hist()</code></li>
<li>条形图<code>plt.bar(left=index,height=y,color='green',width=0.5)</code></li>
<li>饼状图:<code>plt.pie(x=fracs,labels=labels,autopct='%.0f%%',explode=explode)#autopct显示百分比</code></li>
<li>箱形图<code>plt.boxplot(data,labels=labels)</code></li>
<li>等高线 <code>plt.contourf(X,Y,f(X,Y),8,alpha = .75,cmap = plt.cm.hot)</code></li>
</ul>
<p><a href="https://blog.csdn.net/qiu931110/article/details/68130199" target="_blank" rel="noopener">scatter基本的用法</a></p>
<h3 id="条形图"><a class="markdownIt-Anchor" href="#条形图"></a> 条形图</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(dpi=256, figsize=(10, 8))</span><br><span class="line">plt.plot(U,I,&apos;r*&apos;)</span><br><span class="line">plt.xlabel(&apos;U(V)&apos;,fontsize=10)</span><br><span class="line">plt.ylabel(&apos;I(10e-9A)&apos;,fontsize=10)</span><br><span class="line">plt.title(&apos;The line chart of the relation between U and I&apos;,fontsize=15)</span><br><span class="line">plt.ylim(0,max(I)+0.5)</span><br><span class="line"></span><br><span class="line">x = np.linspace(0,max(I)+0.5,40)</span><br><span class="line">plt.yticks(x,fontsize=6)</span><br></pre></td></tr></table></figure>
<h4 id="线条选项"><a class="markdownIt-Anchor" href="#线条选项"></a> 线条选项</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,y,&apos;r*&apos;) # 默认为蓝色</span><br><span class="line"># 等价于plt.plot(x,y,color= &apos;r&apos;, marker =&apos;*&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="散点图"><a class="markdownIt-Anchor" href="#散点图"></a> 散点图</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">n =100</span><br><span class="line">X = np.random.normal(0,10,n)</span><br><span class="line">Y = np.random.normal(0,10,n)</span><br><span class="line">T = np.arctan2(Y,X)</span><br><span class="line">plt.scatter(X,Y,c= T,s=6)</span><br><span class="line">plt.xticks(())</span><br><span class="line">plt.yticks(())</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="柱状图"><a class="markdownIt-Anchor" href="#柱状图"></a> 柱状图</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">n=<span class="number">12</span></span><br><span class="line">X=np.arange(n)</span><br><span class="line">Y1=(<span class="number">1</span>-X/float(n))*np.random.uniform(<span class="number">0.5</span>,<span class="number">1.0</span>,n)</span><br><span class="line">Y2=(<span class="number">1</span>-X/float(n))*np.random.uniform(<span class="number">0.5</span>,<span class="number">1.0</span>,n)</span><br><span class="line">plt.bar(X,+Y1,facecolor=<span class="string">'#9999ff'</span>,edgecolor=<span class="string">'white'</span>)</span><br><span class="line">plt.bar(X,-Y2,facecolor=<span class="string">'#ff9999'</span>,edgecolor=<span class="string">'white'</span>)</span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> zip(X,Y1):</span><br><span class="line">    plt.text(x+<span class="number">0</span>,y+<span class="number">0.05</span>,<span class="string">"%.2f"</span> %y,ha=<span class="string">'center'</span>,va=<span class="string">'bottom'</span>)</span><br><span class="line">    <span class="comment"># horizontal alignment , vertical alignment</span></span><br><span class="line">plt.xlim(<span class="number">-.5</span>,n)</span><br><span class="line">plt.xticks(())</span><br><span class="line">plt.ylim(<span class="number">-1.25</span>,<span class="number">1.25</span>)</span><br><span class="line">plt.yticks(())</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="等高线"><a class="markdownIt-Anchor" href="#等高线"></a> 等高线</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def f(x,y):</span><br><span class="line">    # return 1 + 1/x**3 + y**5</span><br><span class="line">    return (1-x/2+x**5+y**3)*np.exp(-x**2-y**2)</span><br><span class="line"></span><br><span class="line">n = 256</span><br><span class="line">x = np.linspace(-3,3,n)</span><br><span class="line">y = np.linspace(-3,3,n)</span><br><span class="line">X,Y = np.meshgrid(x,y)</span><br><span class="line"></span><br><span class="line">plt.contourf(X,Y,f(X,Y),8,alpha = .75 , cmap = plt.cm.hot)</span><br><span class="line">C = plt.contour(X,Y,f(X,Y),8,colors = &apos;black&apos;)</span><br><span class="line">plt.clabel(C,inline = True,fontsize = 10)</span><br></pre></td></tr></table></figure>
<h2 id="图例"><a class="markdownIt-Anchor" href="#图例"></a> 图例</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l1 , = plt.plot(x,y,linestyle= <span class="string">'--'</span>,color = <span class="string">'red'</span>,linewidth=<span class="number">2.0</span>)</span><br><span class="line"><span class="comment"># 返回值为一个元组</span></span><br><span class="line">plt.legend(handles=[l1],labels = [<span class="string">'les'</span>],loc=<span class="string">'best'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="3d图形"><a class="markdownIt-Anchor" href="#3d图形"></a> 3D图形</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line">x = np.linspace(<span class="number">-4</span>,<span class="number">4</span>,<span class="number">50</span>)</span><br><span class="line">y = np.linspace(<span class="number">-4</span>,<span class="number">4</span>,<span class="number">50</span>)</span><br><span class="line">X,Y = np.meshgrid(x,y)</span><br><span class="line">R = np.sqrt(X**<span class="number">2</span> + Y**<span class="number">2</span>)</span><br><span class="line">Z = np.sin(R)</span><br><span class="line">ax.plot_surface(X,Y,Z,rstride=<span class="number">1</span>,cstride=<span class="number">1</span>,cmap = plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line">ax.contour(X,Y,Z,zdir=<span class="string">'x'</span>,offset = <span class="number">-5</span>)<span class="comment">#画等高线图,往哪个(x)轴压缩,到x=-5位置</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id=""><a class="markdownIt-Anchor" href="#"></a> </h3>
<h2 id="分格画子图"><a class="markdownIt-Anchor" href="#分格画子图"></a> 分格画子图</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># method 1: subplot2grid</span></span><br><span class="line"><span class="comment">##########################</span></span><br><span class="line">plt.figure()</span><br><span class="line">axl=plt. subplot2grid((<span class="number">3</span>,<span class="number">3</span>),(<span class="number">0</span>,<span class="number">0</span>), colspan=<span class="number">3</span>, rowspan=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 三行三列, 从源点(0,0)开始画,第一张图占一行三列</span></span><br><span class="line">axl.plot([<span class="number">1</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line">ax1.set_title(<span class="string">'xxx'</span>)</span><br><span class="line"><span class="comment"># 原来plt.title()设置的方法,现在都变成了ax?.set_xxx,多了前缀set_</span></span><br><span class="line">ax2=plt. subplot2grid((<span class="number">3</span>,<span class="number">3</span>),(<span class="number">1</span>,<span class="number">0</span>), colspan=<span class="number">2</span>,)</span><br><span class="line">ax3=plt. subplot2grid((<span class="number">3</span>,<span class="number">3</span>),(<span class="number">1</span>,<span class="number">2</span>), rowspan=<span class="number">2</span>)</span><br><span class="line">ax4=plt. subplot2grid((<span class="number">3</span>,<span class="number">3</span>),(<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line">                      </span><br><span class="line"><span class="comment">#method 2 :gridspec                      </span></span><br><span class="line"><span class="keyword">import</span> matplotlib.gridspec <span class="keyword">as</span> gridspecc</span><br><span class="line">plt.figure()</span><br><span class="line">gs=gridspec.GridSpec(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">ax1=plt.subplot(gs[<span class="number">0</span>, :])</span><br><span class="line">ax2=plt.subplot(gs[<span class="number">1</span>, :<span class="number">2</span>])</span><br><span class="line">ax3=plt.subplot(gs[<span class="number">1</span>: ,<span class="number">2</span>])</span><br><span class="line">ax4=plt.subplot(gs[<span class="number">-1</span>,<span class="number">0</span>])</span><br><span class="line">ax5=plt.subplot(gs[<span class="number">-1</span>,<span class="number">-2</span>])</span><br></pre></td></tr></table></figure>
<h2 id="附录"><a class="markdownIt-Anchor" href="#附录"></a> 附录:</h2>
<h3 id="温习源自weibospider"><a class="markdownIt-Anchor" href="#温习源自weibospider"></a> 温习源自WeiboSpider</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cgraph</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.db = db</span><br><span class="line">        self.create_dir()</span><br><span class="line">        self.Start_timestmp = time.mktime(time.strptime(<span class="string">'2018-7-5 00:00'</span>,<span class="string">'%Y-%m-%d %H:%M'</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">judge_over</span><span class="params">(self, _time)</span>:</span>  <span class="comment"># start_time is timestamp</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        判断时间是否已经超过预设时间</span></span><br><span class="line"><span class="string">        :param Start_timestmp:</span></span><br><span class="line"><span class="string">        :param _time:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        timestamp = time.mktime(time.strptime(_time, <span class="string">'%Y-%m-%d %H:%M'</span>))</span><br><span class="line">        <span class="comment"># Start_timestamp = time.mktime(time.strptime(Start_time,'%Y-%m-%d %H:%M'))</span></span><br><span class="line">        <span class="keyword">if</span> timestamp - self.Start_timestmp &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create_dir</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(<span class="string">'.\\graph'</span>):</span><br><span class="line">            os.makedirs(<span class="string">'.\\graph'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">(self,lists)</span>:</span></span><br><span class="line">        exist_dict = OrderedDict()</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> lists:</span><br><span class="line">            <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> exist_dict:</span><br><span class="line">                exist_dict[x] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                exist_dict[x] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> dict(sorted(exist_dict.items(),key=<span class="keyword">lambda</span> x:x[<span class="number">0</span>]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">unify_time</span><span class="params">(self,_time)</span>:</span></span><br><span class="line">        c = _time.split(<span class="string">'-'</span>)</span><br><span class="line">        _time = <span class="string">'-'</span>.join([<span class="string">'0'</span> + x <span class="keyword">if</span> len(x.strip()) == <span class="number">1</span> <span class="keyword">else</span> x <span class="keyword">for</span> x <span class="keyword">in</span> c])</span><br><span class="line">        <span class="keyword">if</span> _time[:<span class="number">4</span>] == <span class="string">'2018'</span>:</span><br><span class="line">            _time = _time[<span class="number">5</span>:<span class="number">10</span>]</span><br><span class="line">        <span class="keyword">return</span> _time[:<span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Draw</span><span class="params">(self)</span>:</span></span><br><span class="line">        timelist = []</span><br><span class="line">        <span class="keyword">for</span> alls <span class="keyword">in</span> self.db.find():</span><br><span class="line">            <span class="keyword">if</span> alls.get(<span class="string">'time'</span>):</span><br><span class="line">                print(alls.get(<span class="string">'time'</span>))</span><br><span class="line">                timelist.append(self.unify_time(alls.get(<span class="string">'time'</span>)))</span><br><span class="line">                </span><br><span class="line">        infodict = self.count(timelist[::<span class="number">-1</span>])</span><br><span class="line">        plt.figure(figsize=(<span class="number">40</span>, <span class="number">18</span>))	<span class="comment">#设置图片大小</span></span><br><span class="line">        <span class="comment"># plt.rcParams['figure.figsize'] = (40.0, 12.0)   设置图片大小的另外一种方法</span></span><br><span class="line">        <span class="comment"># plt.rcParams['figure.dpi'] = 400</span></span><br><span class="line">        x = list(infodict.keys())</span><br><span class="line">        y = list(infodict.values())</span><br><span class="line">        plt.plot(x,y,linewidth=<span class="number">2</span>,color=<span class="string">'r'</span>,marker=<span class="string">'o'</span>,markersize=<span class="number">8</span>)</span><br><span class="line">        <span class="keyword">for</span> x_value,y_value <span class="keyword">in</span> zip(x,y):</span><br><span class="line">            plt.text(x_value,y_value,y_value,fontsize= <span class="number">15</span>)	<span class="comment">#文字标注(x,y,值)</span></span><br><span class="line">        plt.ylim((<span class="number">0</span>, max(y)))								<span class="comment">#纵坐标y的上下限</span></span><br><span class="line">        plt.yticks([x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>,max(y)+<span class="number">10</span>,<span class="number">10</span>)])		<span class="comment">#y的比例尺</span></span><br><span class="line">        plt.xlabel(<span class="string">'Time'</span>)</span><br><span class="line">        plt.ylabel(<span class="string">'Keyword times'</span>)							<span class="comment">#y轴的标签</span></span><br><span class="line">        plt.title(<span class="string">'Weibo Keyword\'s Trendency'</span>)				<span class="comment">#图的标题</span></span><br><span class="line">        plt.savefig(<span class="string">'.\\graph\\&#123;&#125;.jpg'</span>.format(TABLE))		<span class="comment">#保存图片</span></span><br><span class="line">        plt.clf()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    graph = Cgraph()</span><br><span class="line">    graph.Draw()</span><br><span class="line">    print(<span class="string">'完成'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="使用大物实验画折线图"><a class="markdownIt-Anchor" href="#使用大物实验画折线图"></a> 使用:大物实验画折线图</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">I = []</span><br><span class="line">U = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extractFromCsv</span><span class="params">(filename)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(filename,<span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        reader = csv.reader(f)</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">            <span class="keyword">if</span> reader.line_num == <span class="number">1</span>:        <span class="comment">#跳过表头</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            U.append(float(row[<span class="number">0</span>]))</span><br><span class="line">            I.append((float(row[<span class="number">1</span>])))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">drawPic</span><span class="params">(filename)</span>:</span></span><br><span class="line">    fig = plt.figure(dpi=<span class="number">256</span>, figsize=(<span class="number">10</span>, <span class="number">8</span>))</span><br><span class="line">    plt.plot(U,I,<span class="string">'r*'</span>)</span><br><span class="line">    plt.xlabel(<span class="string">'U(V)'</span>,fontsize=<span class="number">10</span>)</span><br><span class="line">    plt.ylabel(<span class="string">'I(10e-9A)'</span>,fontsize=<span class="number">10</span>)</span><br><span class="line">    plt.title(<span class="string">'The line chart of the relation between U and I'</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">    plt.ylim(<span class="number">0</span>,max(I)+<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">    x = np.linspace(<span class="number">0</span>,max(I)+<span class="number">0.5</span>,<span class="number">40</span>)</span><br><span class="line">    plt.yticks(x,fontsize=<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">".\\graph"</span>):</span><br><span class="line">        os.mkdir(<span class="string">'.\\graph'</span>)</span><br><span class="line">    plt.savefig(<span class="string">'.\\graph\\&#123;&#125;.jpg'</span>.format(filename))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    filename=<span class="string">'phy.csv'</span></span><br><span class="line">    extractFromCsv(filename)</span><br><span class="line">    drawPic(filename)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/10/matplotlib-pyplot使用/" data-id="cjzyy2kmp00fck829k9kze4a7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-apt代理的设置" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/10/apt代理的设置/" class="article-date">
  <time datetime="2018-11-10T04:56:53.000Z" itemprop="datePublished">2018-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/10/apt代理的设置/">apt代理的设置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>原因是在apt-get update时遇到了Unable to connect to 代理，（由于<code>apt-get update</code>一直显示无法连接<code>172.17.18.141</code>百度后发现并不是个特殊的IP,）于是想到是否使用了代理。</p>
</blockquote>
<h3 id="apt代理的设置"><a class="markdownIt-Anchor" href="#apt代理的设置"></a> apt代理的设置：</h3>
<h4 id="临时方法"><a class="markdownIt-Anchor" href="#临时方法"></a> 临时方法</h4>
<p><code>export http_proxy=http://10.3.0.1:80</code></p>
<h4 id="长久方法"><a class="markdownIt-Anchor" href="#长久方法"></a> 长久方法</h4>
<p>(1) 需要在/etc/apt/apt.conf中添加以下代码： (如果您希望apt-get(而不是其他应用程序)一直使用http代理,您可以使用这种方式。)</p>
<p><code>Acquire::http::proxy &quot;http://用户名:密码@地址:端口&quot;;</code></p>
<p><code>Acquire::ftp::proxy &quot;http://用户名:密码@地址:端口&quot;;</code></p>
<p><code>Acquire::https::proxy &quot;http://用户名:密码@地址:端口&quot;;</code></p>
<p>保存apt.conf文件。</p>
<p>(2)新建一个代理配置文件,在apt-get 时使用配置,15.10可用(针对需要下载的单个不同文件)</p>
<p>建立文件  <code>vim proxyfile</code></p>
<p><code>Acquire::http::proxy &quot;http://10.3.0.1:80&quot;;</code></p>
<p><code>Acquire::ftp::proxy &quot;http://10.3.0.1:80&quot;;</code></p>
<p><code>Acquire::https::proxy &quot;http://10.3.0.1:80&quot;;</code></p>
<p>使用时<code>sudo apt-get install xxx -c proxyfile</code></p>
<p>(2)在主目录下的.bashrc文件中添加两行。(如果您希望apt-get和其他应用程序如wget等都使用http代理,您可以使用这种方式。 )</p>
<p>在您的.bashrc文件末尾添加如下内容<br>
<code>export http_proxy=http://用户名:密码@地址:端口/</code><br>
<code>export https_proxy=http://用户名:密码@地址:端口/</code></p>
<p><code>export ftp_proxy=http://用户名:密码@地址:端口/</code></p>
<p><a href="https://blog.csdn.net/qq3399013670/article/details/81300497" target="_blank" rel="noopener">https://blog.csdn.net/qq3399013670/article/details/81300497</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/10/apt代理的设置/" data-id="cjzyy2keb0040k8293rkpwdib" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/计算机基础知识/">计算机基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="p-Ubuntu更改nginx默认端口" class="article article-type-p" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/10/Ubuntu更改nginx默认端口/" class="article-date">
  <time datetime="2018-11-10T04:55:13.000Z" itemprop="datePublished">2018-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/10/Ubuntu更改nginx默认端口/">Ubuntu更改nginx默认端口</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ubuntu更改nginx默认端口"><a class="markdownIt-Anchor" href="#ubuntu更改nginx默认端口"></a> Ubuntu更改nginx默认端口</h1>
<blockquote>
<p>nginx 默认使用80端口，有时候我们希望nginx运行在其他端口，就需要更改nginx配置</p>
</blockquote>
<p><strong>nginx配置文件在/etc/nginx目录下的nginx.conf。(可以修改处理器数量、日志路径、pid文件路径等，默认的日志。)</strong></p>
<ul>
<li><code>错误日志 /var/log/nginx/error.log</code><br>
<code>访问日志 /var/log/nginx/access.log</code></li>
</ul>
<p><strong>在nginx.conf-&gt;http选项末尾有引入两个目录下的文件分别为：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[/etc/nginx/nginx.conf]</span><br><span class="line">http &#123;</span><br><span class="line">        #   省略部分内容    </span><br><span class="line">        include /etc/nginx/conf.d/*.conf;		#意思是把用户自己的配置放到conf.d/*</span><br><span class="line">        include /etc/nginx/sites-enabled/*;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>查看/etc/nginx/sites-enabled/目录，会找到一个default文件，在server选项下前两行就可以找到使用的80端口号：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[/etc/nginx/sites-enabled/default]</span><br><span class="line">server &#123;</span><br><span class="line">        listen 80 default_server;</span><br><span class="line">        listen [::]:80 default_server;</span><br></pre></td></tr></table></figure>
<p><strong>将80端口号改为想使用的端口号，保存文件，如果没有启动nginx，启动即可。如果nginx已经在运行，重新加载即可。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx start #运行nginx</span><br><span class="line">sudo nginx -s reload #重启nginx</span><br></pre></td></tr></table></figure>
<p>**如果遇到nginx报以下错误：<code>nginx: [error] open() &quot;/run/nginx.pid&quot; failed (2: No such file or directory)</code>则<code>sudo nginx -c path/*.conf #指定nginx配置*.conf的位置**</code></p>
<p>**查看nginx运行的端口<code>sudo netstat -anp | grep nginx**</code></p>
<p>▲如果启用防火墙，则需开启对应端口，使用AWS服务器需要更改服务器安全组，添加响应入站规则，开启对应端口。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nymrli.top/2018/11/10/Ubuntu更改nginx默认端口/" data-id="cjzyy2kdv003kk829ej6t2fjw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/7/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM/">ACM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM竞赛入门/">ACM竞赛入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/">Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Au/">Au</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DP/">DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/">Django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English-Speaking/">English Speaking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Latex/">Latex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Matlab/">Matlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NJUPT/">NJUPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postman/">Postman</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pythton/">Pythton</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sublime-Text/">Sublime Text</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WAMP/">WAMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Window10/">Window10</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lua/">lua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/信号处理/">信号处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图像处理/">图像处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图论/">图论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多媒体/">多媒体</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学业/">学业</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安利/">安利</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实验作业/">实验作业</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信小程序/">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学建模/">数学建模</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学知识/">数学知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模拟操作/">模拟操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境部署/">环境部署</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境配置/">环境配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活小记/">生活小记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活福利/">生活福利</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程序开发经验/">程序开发经验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程序设计/">程序设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线性筛/">线性筛</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络知识/">网络知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自动化运维/">自动化运维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机基础知识/">计算机基础知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机知识/">计算机知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机网络知识/">计算机网络知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪心/">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/运维/">运维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邮件/">邮件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/配置环境/">配置环境</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ACM/" style="font-size: 17.86px;">ACM</a> <a href="/tags/ACM竞赛入门/" style="font-size: 12.14px;">ACM竞赛入门</a> <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/Algorithm/" style="font-size: 10.71px;">Algorithm</a> <a href="/tags/Au/" style="font-size: 10px;">Au</a> <a href="/tags/C/" style="font-size: 12.86px;">C</a> <a href="/tags/C/" style="font-size: 17.86px;">C++</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/DP/" style="font-size: 10px;">DP</a> <a href="/tags/Django/" style="font-size: 11.43px;">Django</a> <a href="/tags/English-Speaking/" style="font-size: 10px;">English Speaking</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Latex/" style="font-size: 10px;">Latex</a> <a href="/tags/Linux/" style="font-size: 13.57px;">Linux</a> <a href="/tags/Matlab/" style="font-size: 10px;">Matlab</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NJUPT/" style="font-size: 17.14px;">NJUPT</a> <a href="/tags/Postman/" style="font-size: 10px;">Postman</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/Pythton/" style="font-size: 10px;">Pythton</a> <a href="/tags/Shell/" style="font-size: 10.71px;">Shell</a> <a href="/tags/Sublime-Text/" style="font-size: 11.43px;">Sublime Text</a> <a href="/tags/Ubuntu/" style="font-size: 11.43px;">Ubuntu</a> <a href="/tags/WAMP/" style="font-size: 10px;">WAMP</a> <a href="/tags/Web/" style="font-size: 10.71px;">Web</a> <a href="/tags/Window10/" style="font-size: 10px;">Window10</a> <a href="/tags/flask/" style="font-size: 14.29px;">flask</a> <a href="/tags/git/" style="font-size: 11.43px;">git</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/java/" style="font-size: 16.43px;">java</a> <a href="/tags/linux/" style="font-size: 12.86px;">linux</a> <a href="/tags/lua/" style="font-size: 10px;">lua</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/信号处理/" style="font-size: 10.71px;">信号处理</a> <a href="/tags/前端/" style="font-size: 14.29px;">前端</a> <a href="/tags/后端/" style="font-size: 15.71px;">后端</a> <a href="/tags/图像处理/" style="font-size: 10.71px;">图像处理</a> <a href="/tags/图论/" style="font-size: 10.71px;">图论</a> <a href="/tags/多媒体/" style="font-size: 10px;">多媒体</a> <a href="/tags/学业/" style="font-size: 11.43px;">学业</a> <a href="/tags/安利/" style="font-size: 10px;">安利</a> <a href="/tags/实验作业/" style="font-size: 10px;">实验作业</a> <a href="/tags/微信小程序/" style="font-size: 12.14px;">微信小程序</a> <a href="/tags/数学建模/" style="font-size: 10px;">数学建模</a> <a href="/tags/数学知识/" style="font-size: 10px;">数学知识</a> <a href="/tags/数据库/" style="font-size: 11.43px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 14.29px;">数据结构</a> <a href="/tags/服务器/" style="font-size: 11.43px;">服务器</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/模拟操作/" style="font-size: 10px;">模拟操作</a> <a href="/tags/深度学习/" style="font-size: 10px;">深度学习</a> <a href="/tags/爬虫/" style="font-size: 18.57px;">爬虫</a> <a href="/tags/环境部署/" style="font-size: 14.29px;">环境部署</a> <a href="/tags/环境配置/" style="font-size: 19.29px;">环境配置</a> <a href="/tags/生活小记/" style="font-size: 11.43px;">生活小记</a> <a href="/tags/生活福利/" style="font-size: 12.86px;">生活福利</a> <a href="/tags/程序开发经验/" style="font-size: 10px;">程序开发经验</a> <a href="/tags/程序设计/" style="font-size: 10px;">程序设计</a> <a href="/tags/笔记/" style="font-size: 10px;">笔记</a> <a href="/tags/线性筛/" style="font-size: 10px;">线性筛</a> <a href="/tags/网络知识/" style="font-size: 10px;">网络知识</a> <a href="/tags/自动化运维/" style="font-size: 12.86px;">自动化运维</a> <a href="/tags/计算机基础知识/" style="font-size: 17.14px;">计算机基础知识</a> <a href="/tags/计算机知识/" style="font-size: 10px;">计算机知识</a> <a href="/tags/计算机网络知识/" style="font-size: 16.43px;">计算机网络知识</a> <a href="/tags/贪心/" style="font-size: 10px;">贪心</a> <a href="/tags/运维/" style="font-size: 10.71px;">运维</a> <a href="/tags/邮件/" style="font-size: 10px;">邮件</a> <a href="/tags/配置环境/" style="font-size: 10px;">配置环境</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/30/机器学习——决策树/">机器学习——决策树</a>
          </li>
        
          <li>
            <a href="/2019/08/30/Sklearn——决策树/">Sklearn——决策树</a>
          </li>
        
          <li>
            <a href="/2019/08/30/ACM-博弈论/">ACM-博弈论</a>
          </li>
        
          <li>
            <a href="/2019/08/30/Linux三剑客/">Linux三剑客</a>
          </li>
        
          <li>
            <a href="/2019/08/30/2019-6月编程笔记/">2019_6月编程笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 果粒橙<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>
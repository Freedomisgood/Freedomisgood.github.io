<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="author" content="Mrli"><meta name="renderer" content="webkit"><meta name="copyright" content="Mrli"><meta name="keywords" content="Mrli's Blog"><meta name="description" content="想和你讲，说了会心动 ，缄默会心安。"><meta name="Cache-Control" content="no-cache"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Js-ShortCode · Mr.li's Blog</title><link rel="stylesheet" href="/css/style.css?v=2018.7.9"><link rel="stylesheet" href="/css/animation.css?v=2018.7.9"><link rel="icon" href="/img/assets/favicon.ico"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><!-- scripts--><script>(function( w ){
  "use strict";
  // rel=preload support test
  if( !w.loadCSS ){
    w.loadCSS = function(){};
  }
  // define on the loadCSS obj
  var rp = loadCSS.relpreload = {};
  // rel=preload feature support test
  // runs once and returns a function for compat purposes
  rp.support = (function(){
    var ret;
    try {
      ret = w.document.createElement( "link" ).relList.supports( "preload" );
    } catch (e) {
      ret = false;
    }
    return function(){
      return ret;
    };
  })();

  // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
  // then change that media back to its intended value on load
  rp.bindMediaToggle = function( link ){
    // remember existing media attr for ultimate state, or default to 'all'
    var finalMedia = link.media || "all";

    function enableStylesheet(){
      link.media = finalMedia;
    }

    // bind load handlers to enable media
    if( link.addEventListener ){
      link.addEventListener( "load", enableStylesheet );
    } else if( link.attachEvent ){
      link.attachEvent( "onload", enableStylesheet );
    }

    // Set rel and non-applicable media type to start an async request
    // note: timeout allows this to happen async to let rendering continue in IE
    setTimeout(function(){
      link.rel = "stylesheet";
      link.media = "only x";
    });
    // also enable media after 3 seconds,
    // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
    setTimeout( enableStylesheet, 3000 );
  };

  // loop through link elements in DOM
  rp.poly = function(){
    // double check this to prevent external calls from running
    if( rp.support() ){
      return;
    }
    var links = w.document.getElementsByTagName( "link" );
    for( var i = 0; i < links.length; i++ ){
      var link = links[ i ];
      // qualify links to those with rel=preload and as=style attrs
      if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
        // prevent rerunning on link
        link.setAttribute( "data-loadcss", true );
        // bind listeners to toggle media back
        rp.bindMediaToggle( link );
      }
    }
  };

  // if unsupported, run the polyfill
  if( !rp.support() ){
    // run once at least
    rp.poly();

    // rerun poly on an interval until onload
    var run = w.setInterval( rp.poly, 500 );
    if( w.addEventListener ){
      w.addEventListener( "load", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    } else if( w.attachEvent ){
      w.attachEvent( "onload", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    }
  }


  // commonjs
  if( typeof exports !== "undefined" ){
    exports.loadCSS = loadCSS;
  }
  else {
    w.loadCSS = loadCSS;
  }
}( typeof global !== "undefined" ? global : this ) );</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script><script src="/js/main.js?v=2018.7.9" defer></script><!-- fancybox--><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script><!-- busuanzi--><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></head><body><section class="profile-close" id="cxo-profile"><div class="profile-avatar"><i class="fa fa-caret-left"></i><img src="https://avatars1.githubusercontent.com/u/31088082?s=400&amp;u=7a99ff83916afb3f4c5312bd78a1be17fe0e34ed&amp;v=4"></div><!--.profile-saying
  i.fa.fa-comment
  .saying--><div class="cxo-profile-inner"><div class="profile-name">Mrli</div><div class="profile-signature">别装作很努力,<br>因为结局不会陪你演戏。</div><div class="contacts"><div>Contacts:</div><span><a href="http://sighttp.qq.com/msgrd?v=1&amp;uin=1063052964" target="_black">QQ</a></span><span><a href="https://www.cnblogs.com/nymrli/" target="_black">博客园</a></span></div><div class="read-progress"></div></div></section><header id="cxo-intro" style="height: 60vh;background-image: url(/img/intro/index-bg.png);"><nav id="cxo-intro-nav"><section><div class="intro-nav-title"><a href="/">Mr.li's Blog</a></div><div class="intro-nav-label-box"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div><i class="fa fa-bars intro-nav-menu"><div class="intro-nav-drop"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div></i><div class="clear"></div></section></nav><h1 class="post-title">Js-ShortCode</h1><div class="post-intros"><div class="post-intro-meta"><span class="post-intro-time"><i class="post-intro-calendar fa fa-edit"></i><span>2021/12/07</span></span><span class="busuanzi-pv" id="busuanzi_container_page_pv"><i class="post-intro-calendar fa fa-user-o"></i><span id="busuanzi_value_page_pv"></span></span><span class="post-intro-tags"><a class="intro-tag fa fa-tag" href="javascript:void(0)" date-tags="js"> js</a></span></div><div class="post-intro-read"><span> Word count: <span class="post-count">2,597</span> | Reading time: <span class="post-count">12</span>min</span></div></div></header><article class="cxo-up" id="cxo-content-outer"><section id="cxo-content-inner"><article class="article-entry" id="post"><h2 id="js判断字符串是否为空"><a class="markdownIt-Anchor" href="#js判断字符串是否为空"></a> js判断字符串是否为空</h2>
<blockquote>
<p>最近写了点前端代码，记录一下常用的shortCode</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法一：直接使用条件语句if判断</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmpty</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> str== <span class="literal">null</span> || str== <span class="string">""</span> || str== <span class="string">"undefined"</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 方法二：根据字符串的length来判断</span></span><br><span class="line"><span class="keyword">var</span> strings = <span class="string">''</span>; </span><br><span class="line"><span class="keyword">if</span> (string.length == <span class="number">0</span>) &#123; </span><br><span class="line">alert(<span class="string">'不能为空'</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="js中"><a class="markdownIt-Anchor" href="#js中"></a> <a href="https://www.cnblogs.com/nelson-hu/p/7922731.html" target="_blank" rel="noopener">js中<mark>和</mark>=区别</a></h2>
<blockquote>
<p>简单来说： == 代表相同， ===代表严格相同, 为啥这么说呢，</p>
<p>这么理解： 当进行双等号比较时候： 先检查两个操作数数据类型，如果相同， 则进行<code>===</code>比较， 如果不同， 则自动进行一次类型转换， 转换成相同类型后再进行比较， 而<code>===</code>比较时， 如果类型不同，直接就是false.</p>
</blockquote>
<p>双等号==：</p>
<ol>
<li>如果两个值类型相同，再进行三个等号(===)的比较</li>
<li>如果两个值类型不同，也有可能相等，需根据以下规则进行类型转换在比较：
<ol>
<li>如果一个是null，一个是undefined，那么相等</li>
<li>如果一个是字符串，一个是数值，把字符串转换成数值之后再进行比较</li>
</ol>
</li>
</ol>
<p>三等号===:</p>
<ol>
<li>如果类型不同，就一定不相等</li>
<li>如果两个都是<strong>数值</strong>，并且是同一个值，那么相等；如果其中至少一个是NaN，那么不相等。（判断一个值是否是NaN，只能使用isNaN( ) 来判断）</li>
<li>如果两个都是<strong>字符串</strong>，每个位置的字符都一样，那么相等，否则不相等。</li>
<li>如果两个值都是<strong>true</strong>，或是false，那么相等</li>
<li>如果两个值都<strong>引用</strong>同一个对象或是函数，那么相等，否则不相等</li>
<li>如果两个值<strong>都是</strong>null，或是undefined，那么相等</li>
</ol>
<h2 id="拷贝"><a class="markdownIt-Anchor" href="#拷贝"></a> 拷贝</h2>
<p><strong>1. 浅拷贝</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 法一：将父对象的属性，通过赋值拷贝给子对象。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copy</span>(<span class="params">origin</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> target = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> origin) &#123;</span><br><span class="line">    target[i] = origin[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 法二：Objece.assign(): 方法用于对象的合并，将源对象的所有可枚举属性，复制到新的目标对象。</span></span><br><span class="line"><span class="keyword">let</span> target = <span class="built_in">Object</span>.assign(&#123;&#125;, origin);</span><br><span class="line"><span class="comment">// 法三：扩展运算符: ES2018 中将...扩展运算符引入了对象。于是实现浅拷贝的语法更为简单。</span></span><br><span class="line"><span class="keyword">let</span> target = &#123; ...origin &#125;;</span><br></pre></td></tr></table></figure>
<p>more: 包含[原型属性]一起拷贝: <a href="https://zhuanlan.zhihu.com/p/45249918" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/45249918</a></p>
<p><strong>2.深拷贝</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 法一:JSON.parse:这是一种很古老的方法，通过将对象转化为 JSON，再转化为对象来实现拷贝，具体的做法是这样的,这样虽然简单，但有但有两个缺点：一是不支持Function、Date等数据类型；二是不支持循环引用。</span></span><br><span class="line"><span class="keyword">let</span> target = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(origin));</span><br><span class="line"><span class="comment">// 法二: 递归遍历:与浅拷贝的基本相同，也需要通过遍历对象属性。只是在遇到一个 Object属性时，需要再次调用拷贝函数。</span></span><br><span class="line"><span class="comment">// 定义一个深拷贝函数  接收目标target参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 定义一个变量</span></span><br><span class="line">    <span class="keyword">let</span> result;</span><br><span class="line">    <span class="comment">// 如果当前需要深拷贝的是一个对象的话</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">'object'</span>) &#123;</span><br><span class="line">        <span class="comment">// 如果是一个数组的话</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(target)) &#123;</span><br><span class="line">            result = []; <span class="comment">// 将result赋值为一个数组，并且执行遍历</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> target) &#123;</span><br><span class="line">                <span class="comment">// 递归克隆数组中的每一项</span></span><br><span class="line">                result.push(deepClone(target[i]))</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 判断如果当前的值是null的话；直接赋值为null</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target === <span class="literal">null</span>) &#123;</span><br><span class="line">            result = <span class="literal">null</span>;</span><br><span class="line">            <span class="comment">// 判断如果当前的值是一个RegExp对象的话，直接赋值    </span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target.constructor === <span class="built_in">RegExp</span>) &#123;</span><br><span class="line">            result = target;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 否则是普通对象，直接for in循环，递归赋值对象的所有值</span></span><br><span class="line">            result = &#123;&#125;;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> target) &#123;</span><br><span class="line">                result[i] = deepClone(target[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 如果不是对象的话，就是基本数据类型，那么直接赋值</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result = target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 返回最终结果</span></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 法三: 结构化拷贝</span></span><br><span class="line"><span class="comment">// 法四：Lodash一个实用的第三方 JavaScript 工具库。 嫌自己写方法麻烦的话，就直接去用它的defaultsdeep方法吧。</span></span><br></pre></td></tr></table></figure>
<p>见： <a href="https://zhuanlan.zhihu.com/p/45249918" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/45249918</a></p>
<h2 id="在foreach循环里头使用splice遇到的坑"><a class="markdownIt-Anchor" href="#在foreach循环里头使用splice遇到的坑"></a> 在forEach循环里头使用splice()遇到的坑</h2>
<blockquote>
<p>forEach自带索引的增加规则，但是splice后数组的索引都会改变，导致有元素会被跳过，因此需要自定义索引的增加规则</p>
</blockquote>
<p>应用如下： 递归去掉Array中<code>obj.hide==true</code>的元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 过滤掉routes中hide为true的路由</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterNavs</span>(<span class="params">ary</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; ary.length)&#123;</span><br><span class="line">        <span class="keyword">if</span> ( ary[i].children )&#123;</span><br><span class="line">            filterNavs(ary[i].children)</span><br><span class="line">            i++</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> ( <span class="keyword">typeof</span>(ary[i], <span class="built_in">Number</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span> ( ary[i].hide == <span class="literal">true</span> )&#123;</span><br><span class="line">                ary.splice(i, <span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                i ++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ary</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="javascript-数组list添加删除的实现"><a class="markdownIt-Anchor" href="#javascript-数组list添加删除的实现"></a> javascript 数组(list)添加/删除的实现</h2>
<p>javascript 数组Array（list）添加/删除</p>
<ul>
<li>unshift：将参数添加到原数组开头，并返回数组的长度</li>
<li>pop：删除原数组最后一项，并返回删除元素的值；如果数组为空则返回undefined</li>
<li>push：将参数添加到原数组末尾，并返回数组的长度</li>
<li>concat：用于连接两个或多个数组。不会更改现有数组，而是返回一个新数组，其中包含已连接数组的值。</li>
<li>splice(start,deleteCount,val1,val2,…)：从start位置开始删除deleteCount项，并从该位置起插入val1,val2,…splice() 方法<strong>会改变原始数组</strong>。==&gt;more: <a href="http://c.biancheng.net/view/5668.html" target="_blank" rel="noopener">http://c.biancheng.net/view/5668.html</a></li>
<li>reverse：将数组反序</li>
<li>sort(orderfunction)：按指定的参数对数组进行排序</li>
<li>slice(start,end)：返回从原数组中指定开始下标到结束下标之间的项组成的新数组</li>
</ul>
<p>6、数组的拷贝</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arrayObj.slice(0); //返回数组的拷贝数组，注意是一个新的数组，不是指向</span><br><span class="line">arrayObj.concat(); //返回数组的拷贝数组，注意是一个新的数组，不是指向</span><br></pre></td></tr></table></figure>
<p>7、数组元素的排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arrayObj.reverse(); //反转元素（最前的排到最后、最后的排到最前），返回数组地址</span><br><span class="line">arrayObj.sort(); //对数组元素排序，返回数组地址</span><br></pre></td></tr></table></figure>
<p>8、数组元素的字符串化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arrayObj.join(separator); //返回字符串，这个字符串将数组的每一个元素值连接在一起，中间用 separator 隔开。</span><br></pre></td></tr></table></figure>
<p>from: <a href="https://www.jb51.net/article/202307.htm" target="_blank" rel="noopener">https://www.jb51.net/article/202307.htm</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Splice示例:</span></span><br><span class="line">	<span class="comment">// 添加: 如果不执行删除操作，第 2 个参数值应该设置为 0，但是不能够空缺，否则该方法无效。 </span></span><br><span class="line"><span class="keyword">const</span> months = [<span class="string">'Jan'</span>, <span class="string">'March'</span>, <span class="string">'April'</span>, <span class="string">'June'</span>];</span><br><span class="line">months.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">'Feb'</span>);</span><br><span class="line"><span class="comment">// inserts at index 1</span></span><br><span class="line"><span class="built_in">console</span>.log(months);</span><br><span class="line"><span class="comment">// expected output: Array ["Jan", "Feb", "March", "April", "June"]</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 边删除边添加:  splice() 方法的删除和插入操作是同时进行的，且是在原数组基础上执行操作。</span></span><br><span class="line">months.splice(<span class="number">4</span>, <span class="number">1</span>, <span class="string">'May'</span>);</span><br><span class="line"><span class="comment">// replaces 1 element at index 4</span></span><br><span class="line"><span class="built_in">console</span>.log(months);</span><br><span class="line"><span class="comment">// expected output: Array ["Jan", "Feb", "March", "April", "May"]</span></span><br></pre></td></tr></table></figure>
<p>from：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice</a></p>
<h2 id="js删除对象中的某一属性"><a class="markdownIt-Anchor" href="#js删除对象中的某一属性"></a> JS删除对象中的某一属性</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">	name: <span class="string">'zhagnsan'</span>,</span><br><span class="line">	age: <span class="number">19</span> </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span> obj.name <span class="comment">//true</span></span><br><span class="line"><span class="keyword">typeof</span> obj.name <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p><strong>数组中使用delete</strong></p>
<blockquote>
<p>在数组中，与普通的旧对象不同，使用delete在表单中留下垃圾，null在数组中创建一个“洞”, 而且length不变</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">delete</span> array[<span class="number">2</span>];</span><br><span class="line"><span class="comment">/* Expected result --&gt; [1, 2, 4]</span></span><br><span class="line"><span class="comment"> * Actual result   --&gt; [1, 2, null, 4]</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<h2 id="js遍历对象的几种方法"><a class="markdownIt-Anchor" href="#js遍历对象的几种方法"></a> <a href="https://www.cnblogs.com/wangdashi/p/9606182.html" target="_blank" rel="noopener">js遍历对象的几种方法</a></h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种： for......in</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">            id:<span class="number">1</span>,</span><br><span class="line">            name:<span class="string">'zhangsan'</span>,</span><br><span class="line">            age:<span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">let</span> key  <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(key + <span class="string">'---'</span> + obj[key])</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">第二种：</span></span><br><span class="line"><span class="comment">1）、Object.keys（obj）</span></span><br><span class="line"><span class="comment">2）、Object.values（obj）</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj))		<span class="comment">// ['id','name','age']</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(obj))		<span class="comment">// ['1','zhangsan','18']</span></span><br><span class="line"><span class="built_in">Object</span>.keys(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(key,obj[key]);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 第三种：使用Object.getOwnPropertyNames(obj)</span></span><br><span class="line"><span class="comment">/**返回一个数组，包含对象自身的所有属性（包含不可枚举属性）</span></span><br><span class="line"><span class="comment">遍历可以获取key和value*/</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key+ <span class="string">'---'</span>+obj[key])</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 4、使用Reflect.ownKeys(obj)遍历</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="string">'0'</span>:<span class="string">'a'</span>,<span class="string">'1'</span>:<span class="string">'b'</span>,<span class="string">'2'</span>:<span class="string">'c'</span>&#125;;</span><br><span class="line"><span class="built_in">Reflect</span>.ownKeys(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(key,obj[key]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="javascript遍历数组总结"><a class="markdownIt-Anchor" href="#javascript遍历数组总结"></a> <strong>javaScript遍历数组总结</strong></h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、使用forEach遍历</span></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">val, index</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(val, index);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 2、使用for..in..遍历</span></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="string">"张三"</span>,<span class="string">"李四"</span>,<span class="string">"王五"</span>,<span class="string">"赵六"</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> arr)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(i,<span class="string">":"</span>,arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">3、使用for-of遍历</span></span><br><span class="line"><span class="comment">     不仅支持数组，还支持大多数类数组对象，例如DOM NodeList对象.</span></span><br><span class="line"><span class="comment">     也支持字符串遍历，它将字符串视为一系列的Unicode字符来进行遍历.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> value <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="将对象转成url-params"><a class="markdownIt-Anchor" href="#将对象转成url-params"></a> 将对象转成URL-Params</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> _parse2Params = <span class="function"><span class="keyword">function</span>(<span class="params">data, isPrefix = false</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> prefix = isPrefix ? <span class="string">'?'</span> : <span class="string">''</span></span><br><span class="line">    <span class="keyword">let</span> _result = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">        <span class="keyword">let</span> value = data[key]</span><br><span class="line">        <span class="comment">// 去掉为空的参数</span></span><br><span class="line">        <span class="keyword">if</span> ([<span class="string">''</span>, <span class="literal">undefined</span>, <span class="literal">null</span>].includes(value)) &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (value.constructor === <span class="built_in">Array</span>) &#123;</span><br><span class="line">            value.forEach(<span class="function"><span class="params">_value</span> =&gt;</span> &#123;</span><br><span class="line">                _result.push(<span class="built_in">encodeURIComponent</span>(key) + <span class="string">'[]='</span> + <span class="built_in">encodeURIComponent</span>(_value))</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            _result.push(<span class="built_in">encodeURIComponent</span>(key) + <span class="string">'='</span> + <span class="built_in">encodeURIComponent</span>(value))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> _result.length ? prefix + _result.join(<span class="string">'&amp;'</span>) : <span class="string">''</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> combileURLandParams = <span class="function"><span class="keyword">function</span>(<span class="params">url, params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.getOwnPropertyNames(params).length != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> url + <span class="string">"?"</span> + _parse2Params(params)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> url</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="根据json数据动态生成表单"><a class="markdownIt-Anchor" href="#根据json数据动态生成表单"></a> 根据Json数据动态生成表单</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; $route.params.template &#125;&#125; &lt;/h1&gt;</span><br><span class="line">    &lt;div class=&quot;form-table-div&quot;&gt;</span><br><span class="line">        &lt;n-form style=&quot;width: 500px;&quot; :model=&quot;configData.data&quot; :label-width=&quot;120&quot; ref=&quot;formRef&quot;&gt;</span><br><span class="line">            &lt;!-- config为每一个配置项 --&gt;</span><br><span class="line">            &lt;template v-for=&quot;(val, key, i) in configData.data&quot; :key=key&gt;</span><br><span class="line">                &lt;n-form-item size=&apos;large&apos; :label=&quot;key&quot;&gt;</span><br><span class="line">                    &lt;n-input v-model:value=&quot;configData.data[key]&quot; :placeholder=&quot;val&quot; /&gt;</span><br><span class="line">                &lt;/n-form-item&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/n-form&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div style=&quot;display: flex; justify-content: center;&quot;&gt;</span><br><span class="line">        &lt;n-button round type=&quot;primary&quot; @click=&quot;generate&quot;&gt;</span><br><span class="line">            生成</span><br><span class="line">        &lt;/n-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import &#123;</span><br><span class="line">        defineComponent,</span><br><span class="line">        ref,</span><br><span class="line">        onMounted,</span><br><span class="line">        reactive,</span><br><span class="line">        computed</span><br><span class="line">    &#125; from &apos;vue&apos;</span><br><span class="line">    import &#123;</span><br><span class="line">        useRoute</span><br><span class="line">    &#125; from &quot;vue-router&quot;</span><br><span class="line"></span><br><span class="line">    import &#123;</span><br><span class="line">        getOption,</span><br><span class="line">        doGenerte</span><br><span class="line">    &#125; from &quot;../api/index.js&quot;</span><br><span class="line"></span><br><span class="line">    import &#123;</span><br><span class="line">        combileURLandParams</span><br><span class="line">    &#125; from &quot;../utils/index.js&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    function simplyData(params, str) &#123;</span><br><span class="line">        const res = &#123;&#125;</span><br><span class="line">        for (let key in params) &#123;</span><br><span class="line">            if (!key.includes(str)) &#123;</span><br><span class="line">                res[key] = params[key]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return res</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    export default defineComponent(</span><br><span class="line">        setup() &#123;</span><br><span class="line">            const route = useRoute()</span><br><span class="line">            const template = ref(route.params.template)</span><br><span class="line">            </span><br><span class="line">            const formRef = ref(null)</span><br><span class="line">            const message = useMessage()</span><br><span class="line">            const configData = reactive(&#123;</span><br><span class="line">                data: &#123;&#125;</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">            onMounted(</span><br><span class="line">                getConfigData()</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            async function getConfigData() &#123;</span><br><span class="line">                let result = await getOption(template.value);</span><br><span class="line">                if (result.status === 200) &#123;</span><br><span class="line">                    let d = result.data.data</span><br><span class="line">                    if (d.length == 1) &#123;</span><br><span class="line">                        configData.data = simplyData(d[0], &quot;slug&quot;)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            async function generate() &#123;</span><br><span class="line">                var a = document.createElement(&apos;a&apos;);</span><br><span class="line">                let params = &#123; ...configData.data &#125; </span><br><span class="line">                params.template = template.value</span><br><span class="line">                </span><br><span class="line">                var url = combileURLandParams(&quot;http://127.0.0.1:5501/api/v1/generate&quot;, params)</span><br><span class="line">                a.href = url;</span><br><span class="line">                a.click();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return &#123;</span><br><span class="line">                formRef,</span><br><span class="line">                configData,</span><br><span class="line">                generate</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="js中的stringformat"><a class="markdownIt-Anchor" href="#js中的stringformat"></a> js中的string.format</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span>(ids) &#123;</span><br><span class="line">    <span class="keyword">return</span> Axios(<span class="string">`/bus/cloudRoleTeam/<span class="subst">$&#123;ids&#125;</span>`</span>, &#123;</span><br><span class="line">        method: <span class="string">'delete'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</article><!-- lincense--><div class="license-wrapper"><p> <span>Author:  </span><a href="https://nymrli.top">Mrli</a></p><p> <span>Link:  </span><a href="https://nymrli.top/2021/12/07/Js-ShortCode/">https://nymrli.top/2021/12/07/Js-ShortCode/</a></p><p> <span>Copyright:  </span><span>All articles in this blog are licensed under <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/3.0">CC BY-NC-SA 3.0</a> unless stating additionally.</span></p></div><div class="post-paginator"><a class="prevSlogan" href="/2021/12/08/NodeJS包管理工具/" title="NodeJS包管理工具"><span>< PreviousPost</span><br><span class="prevTitle">NodeJS包管理工具</span></a><a class="nextSlogan" href="/2021/12/05/前后端-实现上传和下载/" title="前后端-实现上传和下载"><span>NextPost ></span><br><span class="nextTitle">前后端-实现上传和下载</span></a><div class="clear"></div></div><div id="comment"><div id="container"></div><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script><script>var gitment = new Gitment({
  id: 'Js-ShortCode',
  owner: 'Freedomisgood',
  repo: 'Freedomisgood.github.io',
  oauth: {
    client_id: 'bc5a81fe36017dcd8b63',
    client_secret: '949cec3a1b91742c6249c47259791e4b80a6fa69',
  },
})
gitment.render('container')</script></div></section></article><footer id="cxo-footer-outer"><div id="cxo-footer-inner"><p class="footer-container"><span>Site by </span><a href="http://hexo.io"><span>Hexo</span></a><span> | theme </span><a href="https://github.com/Longlongyu/hexo-theme-Cxo"><span>Cxo</span></a></p><p class="beian"><span>备案号:苏ICP备18015439号</span></p><i class="fa fa-user"> </i><span id="busuanzi_value_site_uv"></span><span> | </span><i class="fa fa-eye"> </i><span id="busuanzi_value_site_pv"></span></div></footer><!-- catelog--><div class="toc-wrapper" style="top: 60vh;"><div class="toc-catalog"><i class="fa fa-list"> </i><span>CATALOG</span></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#js判断字符串是否为空"><span class="toc-number">1.</span> <span class="toc-text"> js判断字符串是否为空</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js中"><span class="toc-number">2.</span> <span class="toc-text"> js中和=区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#拷贝"><span class="toc-number">3.</span> <span class="toc-text"> 拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在foreach循环里头使用splice遇到的坑"><span class="toc-number">4.</span> <span class="toc-text"> 在forEach循环里头使用splice()遇到的坑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#javascript-数组list添加删除的实现"><span class="toc-number">5.</span> <span class="toc-text"> javascript 数组(list)添加/删除的实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js删除对象中的某一属性"><span class="toc-number">6.</span> <span class="toc-text"> JS删除对象中的某一属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js遍历对象的几种方法"><span class="toc-number">7.</span> <span class="toc-text"> js遍历对象的几种方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#javascript遍历数组总结"><span class="toc-number">8.</span> <span class="toc-text"> javaScript遍历数组总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#将对象转成url-params"><span class="toc-number">9.</span> <span class="toc-text"> 将对象转成URL-Params</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#根据json数据动态生成表单"><span class="toc-number">10.</span> <span class="toc-text"> 根据Json数据动态生成表单</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js中的stringformat"><span class="toc-number">11.</span> <span class="toc-text"> js中的string.format</span></a></li></ol></div><!-- top--><i class="fa fa-arrow-up close" id="go-up" aria-hidden="true"></i></body></html>
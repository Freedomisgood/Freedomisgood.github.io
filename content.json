{"meta":{"title":"Mrli's Blog","subtitle":"åˆ«è£…ä½œå¾ˆåŠªåŠ›ï¼Œç»“å±€ä¸ä¼šé™ªä½ æ¼”æˆã€‚","description":"æƒ³å’Œä½ è®²ï¼Œè¯´äº†ä¼šå¿ƒåŠ¨ ï¼Œç¼„é»˜ä¼šå¿ƒå®‰ã€‚","author":"Mrli","url":"https://nymrli.top"},"pages":[{"title":"","date":"2020-07-25T12:19:59.503Z","updated":"2018-12-21T09:57:11.353Z","comments":true,"path":"google6b632f121e4f7422.html","permalink":"https://nymrli.top/google6b632f121e4f7422.html","excerpt":"","text":"google-site-verification: google6b632f121e4f7422.html"},{"title":"å…³äºæˆ‘","date":"2018-08-31T07:56:42.000Z","updated":"2022-03-29T11:40:52.837Z","comments":true,"path":"about/index.html","permalink":"https://nymrli.top/about/index.html","excerpt":"","text":"æœ¬äººå—é‚®è‡ªåŠ¨åŒ–æœ¬ç§‘å­¦ç”Ÿä¸€æš.çƒ­çˆ±æ£é¼“è®¡ç®—æœº,æ¶‰åŠPythonã€Cã€Javaç­‰è¯­è¨€.å‚åŠ Robocup,ACM,æœªæ¥æ‰“ç®—å¼„æœºå™¨å­¦ä¹ ã€æ•°æ®æŒ–æ˜æ–¹é¢"},{"title":"css","date":"2018-08-31T11:13:48.000Z","updated":"2018-08-31T11:19:21.810Z","comments":false,"path":"tags/index.html","permalink":"https://nymrli.top/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"å¼€æºé¡¹ç›®ä»£ç é˜…è¯»è®°å½•","slug":"å¼€æºé¡¹ç›®ä»£ç é˜…è¯»è®°å½•","date":"2022-03-29T09:54:46.000Z","updated":"2022-04-02T15:56:34.396Z","comments":true,"path":"2022/03/29/å¼€æºé¡¹ç›®ä»£ç é˜…è¯»è®°å½•/","link":"","permalink":"https://nymrli.top/2022/03/29/å¼€æºé¡¹ç›®ä»£ç é˜…è¯»è®°å½•/","excerpt":"","text":"taobao_seckill æ·˜å®ç§’æ€ç‰©å“ï¼šåˆ†ä¸ºseleniumç‰ˆå’Œrequestç½‘ç»œè¯·æ±‚ç‰ˆï¼Œå¾®å°çš„åŒºåˆ«åœ¨äºï¼Œapiå…ˆè¯·æ±‚çš„æ˜¯è´­ç‰©è½¦çš„ç‰©å“ä¿¡æ¯ï¼Œseleniumåˆ™æ˜¯å‹¾é€‰é€‰æ‹©æ¡†ã€‚ æµç¨‹å¤§è‡´éƒ½ç›¸åŒï¼šâ‘ keep_waitç­‰å¾…ä¸´è¿‘æŠ¢è´­æ—¶é—´-----&gt;â‘¡å°†éœ€è¦çš„ä¿¡æ¯ç¼“å­˜ä½ï¼Œä¸å†åˆ·æ–°ï¼ˆæ¯”å¦‚è¦æŠ¢è´­çš„ç‰©å“ä¿¡æ¯ã€cookiesâ€¦ï¼‰-----&gt;â‘¢è¿›è¡Œç»“ç®—(/ç‚¹å‡»æŒ‰é’®)-----&gt;â‘£æäº¤è®¢å•(/ç‚¹å‡»æŒ‰é’®)-----&gt;â‘¤æ”¯ä»˜è®¢å•(/ç‚¹å‡»æŒ‰é’®)ï¼› ä½¿ç”¨browsercookieæ¥ç®¡ç†æµè§ˆå™¨cookiesâ€”â€”ä»æµè§ˆå™¨æå–ä¿å­˜çš„cookiesçš„å·¥å…·ã€‚å®ƒæ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„çˆ¬è™«å·¥å…·ï¼Œé€šè¿‡åŠ è½½ä½ æµè§ˆå™¨çš„cookiesåˆ°ä¸€ä¸ªcookiejarå¯¹è±¡é‡Œé¢ï¼Œè®©ä½ è½»æ¾ä¸‹è½½éœ€è¦ç™»å½•çš„ç½‘é¡µå†…å®¹ã€‚ 12&gt;&gt;&gt; cj = browsercookie.chrome() # browsercookie.load() åœ¨ä¸çŸ¥é“æˆ–è€…ä¸å…³å¿ƒæµè§ˆå™¨æ—¶ä½¿ç”¨&gt;&gt;&gt; r = requests.get(url, cookies=cj) ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½œä¸ºå¼€å‘è€…çš„æˆ‘ä»¬éƒ½æ˜¯å°†cookiesæ‰‹åŠ¨å†™å…¥æˆ–è€…æ˜¯ä¼ å…¥ç¨‹åºçš„ï¼Œè€Œbrowsercookieç”¨é€”ï¼Œæˆ‘æƒ³å¯ä»¥æ˜¯å°†éœ€è¦ä¼ å…¥cookiesçš„ç¨‹åºæ‰“åŒ…ç»™ä¸ä¼šæå–Cookiesçš„ç”¨æˆ·ä½¿ç”¨ã€‚ï¼ˆç±»ä¼¼é€šè¿‡seleniumç™»é™†åï¼Œæ‹¿å–cookieså†å‘é€ç½‘ç»œè¯·æ±‚ï¼Œè¿™è¾¹æ˜¯è®©/å€ŸåŠ©ç”¨æˆ·è‡ªå·±çš„æµè§ˆå™¨æ¥æ‹¿å–cookiesï¼‰ ä½¿ç”¨tkinteræ­å»ºç®€å•çš„GUIï¼šç‚¹å‡»â€œå¼€å§‹â€çš„æŒ‰é’®åä¼šå°†å¯†ç æ¡†å’ŒæŠ¢è´­è®¾ç½®æ—¶é—´æ¡†çš„å†…å®¹ä¼ å…¥ï¼Œä½œä¸ºå®ä¾‹åŒ–ChromeDriverSpiderçš„å‚æ•°ï¼Œå¹¶è¿è¡Œå®ä¾‹çš„sec_killæ–¹æ³•å¼€å§‹æ‰§è¡ŒæŠ¢è´­ é…ç½®chromeDriverå¯åŠ¨é…ç½®é¡¹ 1234567891011121314def build_chrome_options(self): \"\"\"é…ç½®å¯åŠ¨é¡¹\"\"\" chrome_options = webdriver.ChromeOptions() chrome_options.accept_untrusted_certs = True chrome_options.assume_untrusted_cert_issuer = True arguments = ['--no-sandbox', '--disable-impl-side-painting', '--disable-setuid-sandbox', '--disable-seccomp-filter-sandbox', '--disable-breakpad', '--disable-client-side-phishing-detection', '--disable-cast', '--disable-cast-streaming-hw-encoding', '--disable-cloud-import', '--disable-popup-blocking', '--ignore-certificate-errors', '--disable-session-crashed-bubble', '--disable-ipv6', '--allow-http-screen-capture', '--start-maximized'] for arg in arguments: chrome_options.add_argument(arg) chrome_options.add_argument(f'--user-agent=&#123;choice(get_useragent_data())&#125;') return chrome_options taobao_api seleniumå’Œapiç»“åˆï¼šç™»é™†é€»è¾‘ä½¿ç”¨äº†seleniumï¼Œåˆ·æ–°è´­ç‰©è½¦å’Œä¸‹å•è°ƒç”¨äº†æ‰‹æœºæ·˜å®taobao_apiï¼Œè‡ªåŠ¨ä»˜æ¬¾ä¹Ÿä½¿ç”¨äº†seleniumï¼Œèƒ½è‡ªåŠ¨æ¨¡æ‹Ÿè§¦æ‘¸è¾“å…¥å¯†ç ä»˜æ¬¾ï¼Œæ¥å£ç­¾åsignç”Ÿæˆæ–¹æ³•å‚è€ƒget_sign_valã€‚ åŒæ­¥é˜¿é‡Œäº‘æ—¶é—´æœåŠ¡å™¨ 12345#ä¸€æ¬¡æ€§è®¾ç½®sudo sntp -sS ntp.aliyun.com#æ°¸ä¹…è®¾ç½®sudo systemsetup -setnetworktimeserver ntp.aliyun.comsudo systemsetup -setusingnetworktime on å±•ç¤ºQRCode 123456789101112131415161718192021 # æ‰¾åˆ°äºŒç»´ç å›¾ç‰‡çš„é“¾æ¥ img = WebDriverWait(browser, 2, 0.1).until( EC.presence_of_element_located((By.XPATH, \"//div[@id='J_QRCodeImg']/img\"))).get_attribute('src') # è·å¾—å›¾ç‰‡å­—èŠ‚æµå†…å®¹ img_content = requests.get(img, timeout=5).content # ä¿å­˜åˆ°æœ¬åœ°å›¾ç‰‡ä¸­ file_name = 'taobao_qrcode.png' fp = open(file_name, 'wb') fp.write(img_content) fp.close()# å°†å…¶è§£ç æˆé“¾æ¥ï¼Œ pyzbarä¸ºäºŒç»´ç å’Œæ¡å½¢ç åº“ ==&gt; ä¸ªäººè§‰å¾—ä¿å­˜åå¯ä»¥ç›´æ¥è½¬æˆPILçš„Imageç„¶åimg.show() from pyzbar.pyzbar import decode barcode_url = '' barcodes = decode(Image.open(file_name)) for barcode in barcodes: # è§£æè·å¾—äºŒç»´ç åçš„å†…å®¹ï¼›å¦‚æœæ˜¯æ¡å½¢ç ï¼Œåˆ™è¿”å›æ¡å½¢ç æ•° barcode_url = barcode.data.decode(\"utf-8\")# ç”ŸæˆäºŒç»´ç å¹¶é€šè¿‡æ§åˆ¶å°æ‰“å° qr = qrcode.QRCode() qr.add_data(barcode_url) qr.print_ascii(invert=True) æ³¨ï¼šZBaræ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶å¥—ä»¶ï¼Œç”¨äºä»å„ç§æ¥æºï¼ˆå¦‚è§†é¢‘æµã€å›¾åƒæ–‡ä»¶å’ŒåŸå§‹å¼ºåº¦ä¼ æ„Ÿå™¨ï¼‰è¯»å–æ¡å½¢ç ï¼›pyzbar æ˜¯é€šè¿‡ Python2å’Œ3æ¥å£ï¼Œä½¿ç”¨ ZBar åº“è¯»å–ä¸€ç»´æ¡å½¢ç å’ŒQRç  ã€‚=&gt;è¯»å–æ¡å½¢ç ã€è¯»å–äºŒç»´ç  jd_seckill é¢„çº¦å•†å“ ç§’æ€æŠ¢è´­å•†å“: â‘ è®¿é—®å•†å“çš„æŠ¢è´­é“¾æ¥ï¼ˆç”¨äºè®¾ç½®cookieç­‰â€”&gt;â‘¡è®¿é—®æŠ¢è´­è®¢å•ç»“ç®—é¡µé¢----&gt;â‘¢æäº¤æŠ¢è´­ï¼ˆç§’æ€ï¼‰è®¢å• [_get_seckill_order_dataç”Ÿæˆæäº¤æŠ¢è´­è®¢å•æ‰€éœ€çš„è¯·æ±‚ä½“å‚æ•°ã€è·å–ç§’æ€åˆå§‹åŒ–ä¿¡æ¯ï¼ˆåŒ…æ‹¬ï¼šåœ°å€ï¼Œå‘ç¥¨ï¼Œtokenï¼‰] ä»UAListä¸­é€šè¿‡random.choice(USER_AGENTS)éšæœºUA ä½¿ç”¨å†…ç½®configparseræ¨¡å—è§£æconfig.ini RawConfigParseræ˜¯æœ€åŸºç¡€çš„INIæ–‡ä»¶è¯»å–ç±»ï¼›ConfigParserã€SafeConfigParseræ”¯æŒå¯¹%(value)så˜é‡çš„è§£æï¼ŒSafeConfigParserç±»å®ç°äº†ConfigParserç›¸åŒçš„æ¥å£ï¼Œæ–°å¢å¦‚ä¸‹æ–¹æ³•ï¼šsetå­˜åœ¨ä¿å­˜çš„æ–¹æ³• sectionä¸‹çš„option(key)å¯ä»¥ä¸å¡«valueå€¼ï¼Œå³ä¸ºç©ºã€‚ from: pythonä¸­RawConfigParserç±»ã€ConfigParserç±»ã€SafeConfigParserç±»ä¸­å‡½æ•°ä»‹ç»ã€ å¤šè¿›ç¨‹æ± ï¼š 12345from concurrent.futures import ProcessPoolExecutorwith ProcessPoolExecutor(work_count) as pool: for i in range(work_count): pool.submit(self.seckill) ç§’æ€æ—¶é—´æ¯”è¾ƒ 12345678buy_time = datetime.strptime(global_config.getRaw('config','buy_time'), \"%Y-%m-%d %H:%M:%S.%f\"now_time = datetime.nowwhile True: if now_time() &gt;= buy_time: logger.info('æ—¶é—´åˆ°è¾¾ï¼Œå¼€å§‹æ‰§è¡Œâ€¦â€¦') break else: time.sleep(self.sleep_interval) è·å–äº¬ä¸œæœåŠ¡å™¨æ—¶é—´ï¼šhttps://api.m.jd.com/client.action?functionId=queryMaterialProducts&amp;client=wh5 jd-assistantâ˜… æ˜¯jd_seckillçš„ä¼˜åŒ–è¿›é˜¶ç‰ˆæœ¬ æ™®é€šå•†å“è´­ä¹°ä¸»è¦æµç¨‹ï¼š(1)æ¸…ç©ºè´­ç‰©è½¦ --&gt; (2)æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ --&gt; (3)æäº¤è®¢å• é¢„çº¦æŠ¢è´­å•†å“ç‰¹ç‚¹ï¼š éœ€è¦æå‰ç‚¹å‡»é¢„çº¦ å¤§éƒ¨åˆ†æ­¤ç±»å•†å“åœ¨é¢„çº¦åè‡ªåŠ¨åŠ å…¥è´­ç‰©è½¦ï¼Œä½†æ˜¯æ— æ³•å‹¾é€‰âœ“ï¼Œä¹Ÿæ— æ³•ï¸è¿›å…¥åˆ°ç»“ç®—é¡µé¢ åˆ°äº†æŠ¢è´­çš„æ—¶é—´ç‚¹åå°†å•†å“åŠ å…¥è´­ç‰©è½¦ï¼Œæ­¤æ—¶æ‰èƒ½å‹¾é€‰å¹¶ä¸‹å• æ™®é€šå•†å“ï¼šèƒ½åŠ å…¥è´­ç‰©è½¦ğŸ›’ï¼Œç„¶åè¿›å…¥è´­ç‰©è½¦ç»“ç®—ä¸‹å•. æŠ¢è´­å•†å“ï¼šéœ€ææå‰é¢„çº¦ï¼Œå¼€å§‹æŠ¢è´­æ—¶æœ‰â€œç«‹å³æŠ¢è´­â€æŒ‰é’®ğŸ”˜ï¼Œç‚¹å‡»æŒ‰é’®åå•†å“åŠ å…¥è´­ç‰©è½¦ï¼Œç„¶åç»“ç®—ä¸‹å•. â­ï¸æŠ¢è´­å—å¤šç§å› ç´ å½±å“ï¼šç½‘é€Ÿã€è´¦å·è´¨é‡ã€è¿æ°”ç­‰ç­‰ï¼Œä»…ä¾›å¨±ä¹ï¼Œè®¤çœŸå°±è¾“äº†. deprecatedã€check_loginè£…é¥°å™¨ï¼šä¼ å…¥äº†selfå‚æ•°ï¼Œå¹¶é€šè¿‡selfå®ä¾‹è°ƒç”¨äº†ç±»çš„å…¶ä»–æˆå‘˜æ–¹æ³• 123456789def check_login(func): \"\"\"ç”¨æˆ·ç™»é™†æ€æ ¡éªŒè£…é¥°å™¨ã€‚è‹¥ç”¨æˆ·æœªç™»é™†ï¼Œåˆ™è°ƒç”¨æ‰«ç ç™»é™†\"\"\" @functools.wraps(func) def new_func(self, *args, **kwargs): if not self.is_login: logger.info(\"&#123;0&#125; éœ€ç™»é™†åè°ƒç”¨ï¼Œå¼€å§‹æ‰«ç ç™»é™†\".format(func.__name__)) self.login_by_QRcode() return func(self, *args, **kwargs) return new_func å¯†ç åŠ å¯†â€”â€”pycryptodome 12345678from Crypto.PublicKey import RSAfrom Crypto.Cipher import PKCS1_v1_5 as Cipher_pkcs1_v1_5def encrypt_pwd(password, public_key=RSA_PUBLIC_KEY): rsa_key = RSA.importKey(public_key) encryptor = Cipher_pkcs1_v1_5.new(rsa_key) cipher = b64encode(encryptor.encrypt(password.encode('utf-8'))) return cipher.decode('utf-8') æä¾›JSè„šæœ¬æ–‡ä»¶æ¥è·å–å•†å“çš„ä¿¡æ¯ 123456// ä»¥ä¸‹ä»£ç åœ¨è®¢å•ç»“ç®—é¡µé¢çš„å¼€å‘è€…å·¥å…·Consoleä¸­æ‰§è¡Œï¼Œç”¨äºè·å–å¿…è¦çš„å‚æ•°var eid = $('#eid').val();var fp = $('#fp').val();var trackId = getTakId();var riskControl = $('#riskControl').val();console.log(`eid = $&#123;eid&#125;\\nfp = $&#123;fp&#125;\\ntrack_id = $&#123;trackId&#125;\\nrisk_control = $&#123;riskControl&#125;`); cookieséªŒè¯-é€šè¿‡è¯»å–æœ¬åœ°ä¿å­˜çš„cookiesæ—¶è¦å…ˆéªŒè¯ä¸‹cookiesæ˜¯å¦æœ‰æ•ˆï¼šrequestsåº“çš„ä½¿ç”¨æ–¹å¼ 123456789101112131415161718def _validate_cookies(self): \"\"\"éªŒè¯cookiesæ˜¯å¦æœ‰æ•ˆï¼ˆæ˜¯å¦ç™»é™†ï¼‰ é€šè¿‡è®¿é—®ç”¨æˆ·è®¢å•åˆ—è¡¨é¡µè¿›è¡Œåˆ¤æ–­ï¼šè‹¥æœªç™»å½•ï¼Œå°†ä¼šé‡å®šå‘åˆ°ç™»é™†é¡µé¢ã€‚ :return: cookiesæ˜¯å¦æœ‰æ•ˆ True/False \"\"\" url = 'https://order.jd.com/center/list.action' payload = &#123; 'rid': str(int(time.time() * 1000)), &#125; try: resp = self.sess.get(url=url, params=payload, allow_redirects=False) if resp.status_code == requests.codes.OK: return True except Exception as e: logger.error(e) # åˆ›å»ºæ–°çš„session self.sess = requests.session() return False äºŒç»´ç ç™»å½•ï¼šä¸‹è½½äºŒç»´ç _get_QRcodeâ€“&gt;è¯¢é—®è·å–äºŒç»´ç æ‰«æçŠ¶æ€_get_QRcode_ticketâ€”&gt;éªŒè¯äºŒç»´ç ä¿¡æ¯(_validate_QRcode_ticket)â€“&gt;è®¾ç½®is_login=Trueå’Œsave_cookiesï¼ˆäºŒç»´ç æœ‰æ•ˆæœŸçº¦120sï¼Œæµè§ˆå™¨å¤§çº¦2så‘é€ä¸€ä¸ªè¯·æ±‚è¯¢é—®æ‰«æçŠ¶æ€ï¼‰â€”â€”çœ‹ä»£ç æ˜¯assistantå‚è€ƒäº†2018å¹´çš„**jd-autobuy** æ‰«æäºŒç»´ç ï¼šå†™å…¥å›¾ç‰‡å’Œæ‰“å¼€å›¾ç‰‡ 1234567891011121314151617def save_image(resp, image_file): with open(image_file, 'wb') as f: # ä»ç½‘ç»œè¯·æ±‚ä¸­ä¸‹è½½å†…å®¹ for chunk in resp.iter_content(chunk_size=1024): f.write(chunk)def open_image(image_file): if os.name == \"nt\": os.system('start ' + image_file) # for Windows else: if os.uname()[0] == \"Linux\": if \"deepin\" in os.uname()[2]: os.system(\"deepin-image-viewer \" + image_file) # for deepin else: os.system(\"eog \" + image_file) # for Linux else: os.system(\"open \" + image_file) # for Mac æ³¨ï¼šåˆ¤æ–­æ“ä½œç³»ç»Ÿè¿˜å¯ä»¥å€ŸåŠ©å†…ç½®çš„platformåº“platform.system().lower()å¾—åˆ°[linuxã€windowsã€mac] â–²cookieså’ŒäºŒç»´ç ç»“åˆä½¿ç”¨ï¼š å¦‚æœç™»é™†æˆåŠŸåˆ™å§cookiesæŒä¹…åŒ– ä½¿ç”¨äºŒç»´ç ç™»é™†å‰ï¼Œå…ˆåŠ è½½éªŒè¯ä¹‹å‰æŒä¹…åŒ–çš„cookiesæ˜¯å¦æœ‰æ•ˆï¼Œå¦‚æœæœ‰æ•ˆåˆ™æ— éœ€å†æ¬¡æ‰«ç ç™»é™†(åœ¨QRCode_loginçš„èµ·å§‹ä½ç½®åˆ¤æ–­validationä¸­ä¿®æ”¹çš„is_loginæ˜¯å¦ä¸ºTrue) jd-seckill-maotai ä¸»è¦åŠŸèƒ½ ç™»é™†äº¬ä¸œå•†åŸï¼ˆwww.jd.comï¼‰ ç”¨äº¬ä¸œAPPæ‰«ç ç»™å‡ºçš„äºŒç»´ç  é¢„çº¦èŒ…å° å®šæ—¶è‡ªåŠ¨é¢„çº¦ ç§’æ€é¢„çº¦åç­‰å¾…æŠ¢è´­ å®šæ—¶å¼€å§‹è‡ªåŠ¨æŠ¢è´­ ç‰¹åˆ«å£°æ˜ï¼š æœ¬ä»“åº“å‘å¸ƒçš„jd_seckill_maotaié¡¹ç›®ä¸­æ¶‰åŠçš„ä»»ä½•è„šæœ¬ï¼Œä»…ç”¨äºæµ‹è¯•å’Œå­¦ä¹ ç ”ç©¶ï¼Œç¦æ­¢ç”¨äºå•†ä¸šç”¨é€”ï¼Œä¸èƒ½ä¿è¯å…¶åˆæ³•æ€§ï¼Œå‡†ç¡®æ€§ï¼Œå®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ï¼Œè¯·æ ¹æ®æƒ…å†µè‡ªè¡Œåˆ¤æ–­ã€‚ æœ¬é¡¹ç›®å†…æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œç¦æ­¢ä»»ä½•å…¬ä¼—å·ã€è‡ªåª’ä½“è¿›è¡Œä»»ä½•å½¢å¼çš„è½¬è½½ã€å‘å¸ƒã€‚ ChinaVolvocars å¯¹ä»»ä½•è„šæœ¬é—®é¢˜æ¦‚ä¸è´Ÿè´£ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç”±ä»»ä½•è„šæœ¬é”™è¯¯å¯¼è‡´çš„ä»»ä½•æŸå¤±æˆ–æŸå®³. è¯·å‹¿å°†jd_seckill_maotaié¡¹ç›®çš„ä»»ä½•å†…å®¹ç”¨äºå•†ä¸šæˆ–éæ³•ç›®çš„ï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚ å¦‚æœä»»ä½•å•ä½æˆ–ä¸ªäººè®¤ä¸ºè¯¥é¡¹ç›®çš„è„šæœ¬å¯èƒ½æ¶‰å«Œä¾µçŠ¯å…¶æƒåˆ©ï¼Œåˆ™åº”åŠæ—¶é€šçŸ¥å¹¶æä¾›èº«ä»½è¯æ˜ï¼Œæ‰€æœ‰æƒè¯æ˜ï¼Œæˆ‘ä»¬å°†åœ¨æ”¶åˆ°è®¤è¯æ–‡ä»¶ååˆ é™¤ç›¸å…³è„šæœ¬ã€‚ æ‚¨å¿…é¡»åœ¨ä¸‹è½½åçš„24å°æ—¶å†…ä»è®¡ç®—æœºæˆ–æ‰‹æœºä¸­å®Œå…¨åˆ é™¤ä»¥ä¸Šå†…å®¹ã€‚ æœ¬é¡¹ç›®éµå¾ªGPL-3.0 Licenseåè®®ï¼Œå¦‚æœæœ¬ç‰¹åˆ«å£°æ˜ä¸GPL-3.0 Licenseåè®®æœ‰å†²çªä¹‹å¤„ï¼Œä»¥æœ¬ç‰¹åˆ«å£°æ˜ä¸ºå‡†ã€‚ æ‚¨ä½¿ç”¨æˆ–è€…å¤åˆ¶äº†æœ¬ä»“åº“ä¸”æœ¬äººåˆ¶ä½œçš„ä»»ä½•ä»£ç æˆ–é¡¹ç›®ï¼Œåˆ™è§†ä¸ºå·²æ¥å—æ­¤å£°æ˜ï¼Œè¯·ä»”ç»†é˜…è¯» æ‚¨åœ¨æœ¬å£°æ˜æœªå‘å‡ºä¹‹æ—¶ç‚¹ä½¿ç”¨æˆ–è€…å¤åˆ¶äº†æœ¬ä»“åº“ä¸”æœ¬äººåˆ¶ä½œçš„ä»»ä½•ä»£ç æˆ–é¡¹ç›®ä¸”æ­¤æ—¶è¿˜åœ¨ä½¿ç”¨ï¼Œåˆ™è§†ä¸ºå·²æ¥å—æ­¤å£°æ˜ï¼Œè¯·ä»”ç»†é˜…è¯» æ ¹æ®12æœˆ14æ—¥ä»¥æ¥æŠ¢èŒ…å°çš„æ—¥å¿—åˆ†æï¼Œå¤§èƒ†æ¨æ–­å†æ¥å†å‰è¿”å›Jsonæ¶ˆæ¯ä¸­resultCodeä¸å°ç™½ä¿¡ç”¨çš„å…³ç³»ã€‚ è¿™é‡Œä¸»è¦åˆ†æå‡ºç°é¢‘ç‡æœ€é«˜çš„90016å’Œ90008ã€‚ æ¡ˆä¾‹ å°ç™½ä¿¡ç”¨ 90016 90008 æŠ¢åˆ°è€—æ—¶ å¼ ä¸‰ 63.8 59.63% 40.37% æš‚æœªæŠ¢åˆ° æå›› 92.9 72.05% 27.94% 4å¤© ç‹äº” 99.6 75.70% 24.29% æš‚æœªæŠ¢åˆ° èµµå…­ 103.4 91.02% 8.9% 2å¤© é£æ§æ”¾è¡Œåæ‰ä¼šè¿›è¡ŒæŠ¢è´­ï¼Œè¿™æ—¶å€™ç”¨çš„åº”è¯¥æ˜¯æ°´åº“è®¡æ•°æ¨¡å‹ï¼Œå‡è®¾æ— æ³•ä¸€æ¬¡æ€§æ‹¿åˆ°æ‰€æœ‰æ•°æ®çš„æƒ…å†µä¸‹æ¥å°½é‡çš„åšåˆ°æŠ¢è´­æˆåŠŸç”¨æˆ·çš„å‡åŒ€åˆ†å¸ƒï¼Œè¿™æ ·å°±å’Œæ¦‚ç‡ç›¸å…³äº†ã€‚ æŠ¢è´­ç»“æœç¡®è®¤ æŠ¢è´­æ˜¯å¦æˆåŠŸé€šå¸¸åœ¨ç¨‹åºå¼€å§‹çš„ä¸€åˆ†é’Ÿå†…å¯è§åˆ†æ™“ï¼ æœç´¢æ—¥å¿—ï¼Œå‡ºç°â€œæŠ¢è´­æˆåŠŸï¼Œè®¢å•å·xxxxx&quot;ï¼Œä»£è¡¨æˆåŠŸæŠ¢åˆ°äº†ï¼ŒåŠ¡å¿…åŠå°æ—¶å†…æ”¯ä»˜è®¢å•ï¼ç¨‹åºæš‚æ—¶ä¸æ”¯æŒè‡ªåŠ¨åœæ­¢ï¼Œéœ€è¦æ‰‹åŠ¨STOPï¼ è‹¥ä¸¤åˆ†é’Ÿè¿˜æœªæŠ¢è´­æˆåŠŸï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯æ²¡æŠ¢åˆ°ï¼ç¨‹åºæš‚æ—¶ä¸æ”¯æŒè‡ªåŠ¨åœæ­¢ï¼Œéœ€è¦æ‰‹åŠ¨STOPï¼ åœ¨ç¨‹åºå¼€å§‹è¿è¡Œåï¼Œä¼šæ£€æµ‹æœ¬åœ°æ—¶é—´ä¸äº¬ä¸œæœåŠ¡å™¨æ—¶é—´ï¼Œè¾“å‡ºçš„å·®å€¼ä¸ºã€æœ¬åœ°æ—¶é—´-äº¬ä¸œæœåŠ¡å™¨æ—¶é—´ã€‘ï¼Œå³-50ä¸ºæœ¬åœ°æ—¶é—´æ¯”äº¬ä¸œæœåŠ¡å™¨æ—¶é—´æ…¢50msã€‚ æœ¬ä»£ç çš„æ‰§è¡Œçš„æŠ¢è´­æ—¶é—´ä»¥æœ¬åœ°ç”µè„‘/æœåŠ¡å™¨æ—¶é—´ä¸ºå‡† 1234567891011def __init__(self, ...): # åˆå§‹åŒ–è¯¯å·® self.diff_time = self.local_time() - self.jd_time()# ....while True: # æœ¬åœ°æ—¶é—´å‡å»ä¸äº¬ä¸œçš„æ—¶é—´å·®(ms)ï¼Œèƒ½å¤Ÿå°†æ—¶é—´è¯¯å·®æå‡åˆ°0.1ç§’é™„è¿‘, å…·ä½“ç²¾åº¦ä¾èµ–è·å–äº¬ä¸œæœåŠ¡å™¨æ—¶é—´çš„ç½‘ç»œæ—¶é—´æŸè€— if self.local_time() - self.diff_time &gt;= self.buy_time_ms: logger.info('æ—¶é—´åˆ°è¾¾ï¼Œå¼€å§‹æ‰§è¡Œâ€¦â€¦') break else: time.sleep(self.sleep_interval) è¡¥å……ï¼šPythonçš„æ—¶é—´æˆ³é»˜è®¤éƒ½æ˜¯ç§’çº§åˆ«çš„ï¼Œå¦‚æœè¦msçº§åˆ«çš„ï¼Œåˆ™è¦ä¹˜ä»¥1000 12345678910111213141516171819\"\"\"é€šè¿‡timeï¼Œä»¥å…ƒç»„ï¼ˆstruct_timeï¼‰ä¸ºæ ¸å¿ƒå®ç°æ—¶é—´æˆ³å’Œæ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²çš„ç›¸äº’è½¬æ¢ã€‚\"\"\"# è·å¾—10ä½ç§’çº§æ—¶é—´æˆ³seconds = time.time()# è·å¾—13ä½æ¯«ç§’çº§æ—¶é—´æˆ³==&gt;javaé»˜è®¤13ä½millis = int(round(time.time() * 1000))# åŒæ ·ï¼Œtimeä¸‹çš„mktimeä¹Ÿéœ€è¦*1000time.mktime(self.buy_time.timetuple()) * 1000.0\"\"\"é€šè¿‡datetimeï¼Œä»¥datetimeç±»å®ä¾‹å¯¹è±¡ä¸ºæ ¸å¿ƒå®ç°æ—¶é—´æˆ³å’Œæ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²çš„ç›¸äº’è½¬æ¢ã€‚\"\"\"from datetime import datetime# è·å¾—å½“å‰æ—¶é—´now = datetime.now()timestamp = datetime.timestamp(now)print(\"æ—¶é—´æˆ³ =\", timestamp)# ä¹Ÿæ˜¯10ä½sçº§&gt;&gt;&gt; 1648622589.624272 jd_mask æ­¤toolåªå•ç‹¬æ”¯æŒé¢„çº¦-æŠ¢è´­-æˆåŠŸåç›´æ¥æäº¤è®¢å•çš„å•†å“ï¼Œå¦‚[å£ç½©]ï¼Œåªæä¾›å­¦ä¹ å‚è€ƒç”¨é€”. â“‚ï¸é˜…è¯»äº†å¤šä»½äº¬ä¸œæŠ¢è´­çš„ä»£ç åï¼Œå‘ç°åŸºæœ¬éƒ½æ˜¯ä»ä¸€ä¸ªæ¨¡æ¿é‡Œä¸æ–­ä¼˜åŒ–å‘å±•å‡ºæ¥çš„ï¼Œååº”äº†å¼€æºçš„æ„ä¹‰ï¼Œä¹Ÿååº”äº†äº¬ä¸œéƒ¨åˆ†ç»†èŠ‚çš„ä¿®æ”¹ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¾—åˆ°ä¸€ä¸ªå‘Šç¤ºï¼šåœ¨å®ç°ç›¸åŒåŠŸèƒ½å‰ï¼Œä¸å¦¨å¤šçœ‹çœ‹ã€å€Ÿé‰´ä¸‹ä»¥å¾€å¯è¡Œçš„ä»£ç ã€‚ Automatic_ticket_purchase å¤§éº¦ç½‘æŠ¢è´­æµç¨‹ï¼š 1234567891011121314graph LRA[å¼€å§‹] --&gt; B(ç™»é™†) B --&gt; C&#123;æ˜¯å¦åˆ©ç”¨cookiesç™»é™†&#125; C --&gt; |å¦| D[é¡µé¢ç™»é™†] C --&gt; |æ˜¯| E[ç™»é™†éªŒè¯] D --&gt; E E --&gt; G&#123;æ˜¯å¦ç™»é™†æˆåŠŸ&#125; G --&gt; |æ˜¯| F[è·å–è´­ç¥¨å¿…è¦ä¿¡æ¯] G --&gt; |å¦|ED F --&gt; L[æ£€æµ‹æŠ¢ç¥¨ç°åœ¨è´­ç¥¨çŠ¶æ€] L --&gt; M&#123;ç›®æ ‡ç¥¨å¯è¿›è¡ŒæŠ¢è´­&#125; M --&gt; |å³å°†å¼€æŠ¢|L M --&gt; |ç¼ºè´§ç™»è®°|ED((ç»“æŸ)) M --&gt; |ç«‹åˆ»è´­ä¹°|N&#123;æŠ¢è´­&#125; è·Ÿé™æ—¶ã€å®šæ—¶ç§’æ€ä¸åŒçš„æ˜¯ï¼Œå¤§éº¦ç½‘çš„æŠ¢è´­ä¿¡æ¯æ˜¯é ä¸æ–­åˆ·æ–°çš„ï¼Œéœ€è¦é€šè¿‡ä¸æ–­æ£€æµ‹é¡µé¢å†…å®¹ï¼Œåˆ¤æ–­ç›®å‰ç¥¨çš„å¯å¦è´­ä¹°æƒ…å†µã€‚å¦‚æœåˆ·æ–°ä¸ºå¯è´­ä¹°åˆ™è¿›è¡ŒæŠ¢è´­è´­ä¹°ã€‚ ç‚¹å‡»è´­ä¹°æ˜¯å¯¹æŒ‡å®šæ¥å£å‘é€è¯·æ±‚ï¼Œå¹¶æ›´æ–°cookies(cookieså«Œå°‘ä¸å«Œå¤š)ï¼šstep2_click_buy_now æäº¤è®¢å•ï¼šstep3_submit_order 12345678910response = self.session.post('https://buy.damai.cn/multi/trans/createOrder', headers=headers, params=params, data=submit_order_info, cookies=self.login_cookies)buy_status = json.loads(response.text)if buy_status.get('success') is True and buy_status.get('module').get('alipayOrderId'): print('-' * 10, 'æŠ¢ç¥¨æˆåŠŸ, è¯·å‰å¾€ å¤§éº¦ç½‘-&gt;æˆ‘çš„å¤§éº¦-&gt;äº¤æ˜“ä¸­å¿ƒ-&gt;è®¢å•ç®¡ç† ç¡®è®¤è®¢å•', '-' * 10) print('alipayOrderId: ', buy_status.get('module').get('alipayOrderId')) print('æ”¯ä»˜å®æ”¯ä»˜é“¾æ¥: ', buy_status.get('module').get('alipayWapCashierUrl')) NikeRobot pdbè°ƒè¯•æ–­ç‚¹ï¼š==&gt;å®é™…ä¸ŠPycharmçš„è°ƒè¯•æ›´åŠ å¥½ç”¨ 12if DEBUG: pdb.set_trace() å°†ç±»æˆå‘˜å±æ€§è½¬æˆå­—å…¸å½¢å¼: NikeLoginParam().__dict__ è‡ªå·±ç®¡ç†çº¿ç¨‹ï¼šåˆ›å»ºç»§æ‰¿Threadçš„æ‰§è¡Œç±»ï¼Œé‡å†™runæ–¹æ³•ï¼Œåœ¨mainä¸­è¿›è¡Œåˆ›å»ºå¤šä¸ªå®ä¾‹MyThread().start()ï¼Œå¹¶joinä½ã€‚ hpv4g æ˜¯å¦ä½¿ç”¨ä»£ç†ï¼šinit_ip_proxy_pool å¤šçº¿ç¨‹å‚æ•°è®¾ç½®: python3.8ä¸­ThreadPoolExecutorçš„é»˜è®¤workerï¼šmax_workers = min(32, os.cpu_count() + 4) çº¿ç¨‹æ± ï¼šThreadPoolExecutor 123456789101112from concurrent.futures import ThreadPoolExecutor, wait, FIRST_COMPLETEDwith ThreadPoolExecutor(max_workers=max_workers) as t: fs = [t.submit(sec_kill_task, miao_miao, params[i % _params_len], None if not _ip_proxys_len else &#123; 'http': None if (index := i % _ip_proxys_len) == 0 else ip_proxys[index]&#125;) for i in range(max_workers + 5)] # 120Såç»“æŸä»»åŠ¡, æœ‰ä¸€ä¸ªå®Œæˆåˆ™å®Œæˆ wait(fs, 120, return_when=FIRST_COMPLETED) global KILL_FLAG KILL_FLAG = True print('&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;æœ¬è½®æœªæˆåŠŸç§’æ€åˆ°ç–«è‹—&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;') ç¼“å­˜é…ç½®â€”â€”éé»˜è®¤å‚æ•°çš„è£…é¥°å™¨ï¼šè€ƒè™‘æå‰ç¼“å­˜ç–«è‹—åˆ—è¡¨ ç§’æ€å¼€å§‹åè·³è¿‡æŸ¥è¯¢åˆ—è¡¨ç­‰æ“ä½œ ç›´æ¥è°ƒç”¨ç§’æ€æ¥å£ è·å–æœåŠ¡å™¨å½“å‰æ—¶é—´æˆ³ è®¾ç½®log 123456789import logging# è®¾ç½®é…ç½®logging.basicConfig(handlers=[logging.FileHandler(filename=LOG_NAME, encoding='utf-8', mode='a+')], format='%(asctime)s %(message)s', level=getattr(logging, args.log))# ä½¿ç”¨logging.info(\"xxx\")logging.debug(\"yyy\") argueparserä½¿ç”¨ï¼š actionå‚æ•°: parser.add_argument('-reload_cache', action='store_true', help='åˆ·æ–°--region_codeç–«è‹—åˆ—è¡¨æœ¬åœ°ç¼“å­˜')ï¼Œå‡ºç°reload_cacheå‚æ•°åˆ™ä¸ºtrueï¼Œæ‰€ä»¥é»˜è®¤ä¸ºfalse parser.add_argument('--log', default='WARNING', choices=['DEBUG', 'INFO', 'WARNING', 'ERROR'],help='æ—¥å¿—çº§åˆ« é»˜è®¤WARNING') requestsä½¿ç”¨ï¼š raise_for_statusçŠ¶æ€ç éæˆåŠŸæ—¶æŠ›å‡ºå¼‚å¸¸ è‡ªå®šä¹‰_get(url, params=None, error_exit=True, **kwargs)æ–¹æ³•ï¼Œæ·»åŠ å‚æ•°ï¼šerror_exit:è¿”å›4XX 5XXé”™è¯¯æ—¶ æ˜¯å¦é€€å‡º cookiesé™¤äº†æ”¾åœ¨requests.get(cookies=xxxCookieDict)ï¼Œè¿˜å¯ä»¥ä½œä¸ºå­—ç¬¦ä¸²è®¾ç½®åœ¨header[â€œcookieâ€]ä¸­ï¼ˆæ— sï¼‰ï¼Œå¦‚self._headers[&quot;cookie&quot;]=&quot;k1=v1;_xxhm_=%7B%2x%7D;k3=wxapptoken:v3&quot;ï¼Œé€šè¿‡;æ¥åˆ†å‰² 12# disable ssl warningsrequests.packages.urllib3.disable_warnings() æŠ¢è´­å‹ä»£ç æ€»ç»“ï¼š å®ç°ä¸»è¦åˆ†ä¸ºselenium(è‡ªåŠ¨æµ‹è¯•å·¥å…·)æ¨¡æ‹Ÿç‚¹å‡»ï¼›apiæ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ ç™»é™†ä¹‹åä¼šå¯¹cookiesè¿›è¡ŒæŒä¹…åŒ–ï¼Œä½¿ç”¨pickleçš„å¥½å¤„æ˜¯æ— æ³•æ˜æ–‡çœ‹æ‡‚ã€å¤åˆ¶ å¯ä»¥é€šè¿‡æŒä¹…åŒ–çš„cookiesæ¥ç™»é™†ï¼Œä½†ä¼šæ£€æµ‹cookiesæ˜¯å¦ä»ç„¶æœ‰æ•ˆ å®šæ—¶æŠ¢è´­ä¼šç­‰å¾…sleepåˆ°ä¸´è¿‘æ—¶é—´(while True+sleep(time)çš„æ–¹å¼ or sleepUntil+while try)ï¼Œç„¶åå†è¿›è¡Œå¤šæ¬¡æŠ¢è´­è¯·æ±‚ï¼ˆå¦‚æœæŠ¢è´­çš„2åˆ†é’Ÿå†…æ²¡æŠ¢åˆ°ï¼Œå¤§å¤šæ²¡å¸Œæœ›äº†ï¼Œåªå¥½ç­‰å¾…ä¸‹æ¬¡ï¼‰ï¼›å¦‚æœæ˜¯ç­‰å¾…é¡µé¢åˆ·æ–°çš„ï¼Œåˆ™ä¸æ–­è¯·æ±‚é¡µé¢ï¼Œç­‰åˆ°ç»“æœæ”¹å˜ã€‚ æ³¨æ„ï¼šç­‰å¾…é—´éš”ä¸è¦è¶…è¿‡æ—¶é—´é˜ˆå€¼ï¼Œå¦‚180så‰æ£€æŸ¥ï¼Œå¦‚æœä¸ç¬¦åˆä¸èƒ½è®©å…¶ç­‰å¾…190s æ¨é€å·¥å…·ï¼šæä¾›ä¸€ä¸ªè‡ªå·±å†™çš„ config.ini 1234567891011121314[pusher]pusher_type = pushplus[serverchan]# https://sct.ftqq.com/sec_key =[dingding]access_token =secret =[pushplus]# http://www.pushplus.plus/pushplus_token = fedcf6b08f6f4aaeb2948b7d7010eb93 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180 pusher.py ```python import base64 import hashlib import hmac import os.path import time import urllib.parse from datetime import date from functools import reduce import requests CONFIG_INI_FILENAME = &quot;config.ini&quot; REMIND_MSG = &quot;&quot;&quot; [pusher] pusher_type = pushplus [serverchan] sec_key = [dingding] access_token = secret = [pushplus] pushplus_token = &quot;&quot;&quot; class PusherException(Exception): def __init__(self, message) -&gt; None: super().__init__(message) class IPushUtil: def push(self, title: str = &quot;&quot;, content: str = &quot;&quot;) -&gt; bool: pass class PushplusPush(IPushUtil): def __init__(self, options: dict): self.pushplus_token = options.get(&quot;pushplus_token&quot;) def push(self, title: str = &quot;&quot;, content: str = &quot;&quot;) -&gt; bool: d = &#123; &quot;token&quot;: self.pushplus_token, &quot;template&quot;: &quot;markdown&quot;, &quot;title&quot;: &quot;&#123;date&#125;.&#123;title&#125;&quot;.format(date=date.today(), title=title), &quot;content&quot;: content &#125; res = requests.post(&quot;http://www.pushplus.plus/send&quot;, data=d) if not (200 &lt;= res.json().get(&quot;code&quot;) &lt; 300): print(res.json()) return 200 &lt;= res.json().get(&quot;code&quot;) &lt; 300 class ServerChanPush(IPushUtil): def __init__(self, options: dict): self.sec_key = options.get(&quot;sec_key&quot;) def push(self, title: str = &quot;&quot;, content: str = &quot;&quot;) -&gt; bool: data = &#123; &apos;text&apos;: &quot;&#123;date&#125;.&#123;title&#125;&quot;.format(date=date.today(), title=title), &apos;desp&apos;: content &#125; res = requests.post(url=&apos;https://sc.ftqq.com/&#123;&#125;.send&apos;.format(self.sec_key), data=data) if not (res.json().get(&quot;errmsg&quot;) == &quot;success&quot;): print(res.json()) return res.json().get(&quot;errmsg&quot;) == &quot;success&quot; class DingDingPush(IPushUtil): URL = &quot;https://oapi.dingtalk.com/robot/send&quot; def __init__(self, options: dict): self.access_token = options.get(&quot;access_token&quot;) self.secret = options.get(&quot;secret&quot;) self.target_url = self.get_url() def get_url(self): timestamp = round(time.time() * 1000) secret_enc = bytes(self.secret, encoding=&quot;utf-8&quot;) string_to_sign = &quot;&#123;&#125;\\n&#123;&#125;&quot;.format(timestamp, self.secret) string_to_sign_enc = bytes(string_to_sign, encoding=&quot;utf-8&quot;) hmac_code = hmac.new( secret_enc, string_to_sign_enc, digestmod=hashlib.sha256 ).digest() sign = urllib.parse.quote_plus(base64.b64encode(hmac_code)) return self.URL + &quot;?access_token=&#123;access_token&#125;&amp;timestamp=&#123;timestamp&#125;&amp;sign=&#123;sign&#125;&quot;.format( access_token=self.access_token, timestamp=timestamp, sign=sign) def push(self, title: str = &quot;&quot;, content: str = &quot;&quot;) -&gt; bool: msg = self.gen_markdown_msg(title, content) return self.send(msg) def send(self, message): resp = requests.post(self.target_url, json=message) return resp.json() @staticmethod def gen_text_msg(content, at=None, at_all=False): if at is None: at = [] return &#123; &quot;msgtype&quot;: &quot;text&quot;, &quot;text&quot;: &#123;&quot;content&quot;: content&#125;, &quot;at&quot;: &#123;&quot;atMobiles&quot;: at, &quot;isAtAll&quot;: at_all&#125;, &#125; @staticmethod def gen_markdown_msg(title, text, at=None, at_all=False): def generateText(): res = &quot;&quot; # æœ€é¡¶è¡Œæ˜¾ç¤ºæ ‡é¢˜ res += &quot;# &quot; + title + &quot;\\n&quot; # å†…å®¹ res += text # atå¯¹è±¡ res += reduce(lambda x, y: x + &quot;@&quot; + y, at, &quot;&quot;) return res return &#123; &quot;msgtype&quot;: &quot;markdown&quot;, &quot;markdown&quot;: &#123; &quot;title&quot;: title, &quot;text&quot;: generateText() &#125;, &quot;at&quot;: &#123;&quot;atMobiles&quot;: at, &quot;isAtAll&quot;: at_all&#125;, &#125; class Pusher: def __init__(self): self.pusher = self.init() def init(self): &quot;&quot;&quot; å®ä¾‹åŒ–pusher :return: &quot;&quot;&quot; from configparser import RawConfigParser cp = RawConfigParser() if not os.path.exists(CONFIG_INI_FILENAME): raise PusherException(f&quot;è¯·åˆ›å»ºconfig.inié…ç½®æ–‡ä»¶\\npusheré…ç½®ä¿¡æ¯å¦‚ä¸‹:\\n&#123;REMIND_MSG&#125;&quot;) cp.read(CONFIG_INI_FILENAME, encoding=&quot;utf8&quot;) pusher_type = cp.get(&quot;pusher&quot;, &quot;pusher_type&quot;).lower() generator_info = dict(cp.items(pusher_type)) # æ£€æŸ¥pusheré…ç½® if not pusher_type or not self._valid(generator_info): raise PusherException(&quot;&#123;&#125;_pusheré…ç½®é”™è¯¯ï¼Œä¸èƒ½ä¸ºç©º~&quot;.format(pusher_type)) if pusher_type == &quot;serverchan&quot;: return ServerChanPush(generator_info) elif pusher_type == &quot;dingding&quot;: return DingDingPush(generator_info) elif pusher_type == &quot;pushplus&quot;: return PushplusPush(generator_info) else: raise PusherException(&quot;ä¸å¯çŸ¥pusherç±»å‹~&quot;) def _valid(self, config_dict: dict): &quot;&quot;&quot; åˆ¤æ–­å­—å…¸å€¼æ˜¯å¦ä¸ºç©º :param dict: :return: &quot;&quot;&quot; for v in config_dict.values(): if not v: return False return True def push(self, title=&quot;&quot;, content=&quot;&quot;) -&gt; bool: return self.pusher.push(title, content) # å¦‚æœéœ€è¦pushåŠŸèƒ½ï¼Œåˆ™é…ç½®å®Œæˆåæ‰“å¼€æ³¨é‡Šï¼Œåœ¨åˆ«çš„æ–‡ä»¶ä¸­å°†på¼•å…¥ # p = Pusher() proxy_pool çˆ¬è™«ä»£ç†IPæ± é¡¹ç›®,ä¸»è¦åŠŸèƒ½ä¸ºå®šæ—¶é‡‡é›†ç½‘ä¸Šå‘å¸ƒçš„å…è´¹ä»£ç†éªŒè¯å…¥åº“ï¼Œå®šæ—¶éªŒè¯å…¥åº“çš„ä»£ç†ä¿è¯ä»£ç†çš„å¯ç”¨æ€§ï¼Œæä¾›APIå’ŒCLIä¸¤ç§ä½¿ç”¨æ–¹å¼ã€‚åŒæ—¶ä½ ä¹Ÿå¯ä»¥æ‰©å±•ä»£ç†æºä»¥å¢åŠ ä»£ç†æ± IPçš„è´¨é‡å’Œæ•°é‡ã€‚ @LazyPropertyæ‡’åŠ è½½å±æ€§çš„è£…é¥°å™¨ï¼š åªæœ‰ç”¨åˆ°æ—¶æ‰ä¼šåŠ è½½å¹¶å°†å€¼æ³¨å…¥åˆ°__dict__ã€åŠ è½½ä¸€æ¬¡åå€¼å°±ä¸å†å˜åŒ–ã€ï¼›è®²è§£å¯è§ï¼šhttps://www.jianshu.com/p/708dc26f9b92â€”â€”æè¿°ç¬¦orä¿®é¥°ç¬¦å®ç° 12345678910111213141516class LazyProperty(object): # åœ¨è¢«æ³¨è§£ç±»è¢«è§£é‡Šå™¨è¿è¡Œçš„æ—¶å€™å°±ä¼šåˆ›å»ºLazyPropertyå®ä¾‹ï¼Œå¹¶è¿›è¡Œåˆå§‹åŒ–init def __init__(self, func): self.func = func \"\"\"é€šè¿‡pythonæè¿°ç¬¦æ¥å®ç°\"\"\" def __get__(self, instance, owner): if instance is None: return self else: value = self.func(instance) setattr(instance, self.func.__name__, value) return valueclass ConfigHandler(withMetaclass(Singleton)): @LazyProperty def serverHost(self): return os.environ.get(\"HOST\", setting.HOST) __get__åªæœ‰è®¿é—®ç±»å±æ€§çš„æ—¶å€™æ‰ä¼šç”Ÿæ•ˆï¼Œè¿™è¾¹æ˜¯é€šè¿‡setattrå°†serverHostè®¾ç½®æˆäº†ConfigHandlerçš„ç±»å±æ€§","categories":[],"tags":[{"name":"ä»£ç é˜…è¯»","slug":"ä»£ç é˜…è¯»","permalink":"https://nymrli.top/tags/ä»£ç é˜…è¯»/"}]},{"title":"Pythonè¿›é˜¶","slug":"Pythonè¿›é˜¶","date":"2022-03-27T14:30:39.000Z","updated":"2022-04-02T15:56:33.229Z","comments":true,"path":"2022/03/27/Pythonè¿›é˜¶/","link":"","permalink":"https://nymrli.top/2022/03/27/Pythonè¿›é˜¶/","excerpt":"","text":"xxxatrrå®¶æ— hasattr() ç”¨äºåˆ¤æ–­å¯¹è±¡æ˜¯å¦åŒ…å«å¯¹åº”çš„å±æ€§ã€‚ hasattr è¯­æ³•ï¼šhasattr(object, name) setattr() setattr() å‡½æ•°å¯¹åº”å‡½æ•° getattr()ï¼Œç”¨äºè®¾ç½®å±æ€§å€¼ï¼Œè¯¥å±æ€§ä¸ä¸€å®šæ˜¯å­˜åœ¨çš„ã€‚å¦‚æœå±æ€§ä¸å­˜åœ¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡å±æ€§ï¼Œå¹¶å¯¹å±æ€§è¿›è¡Œèµ‹å€¼ã€‚ setattr() è¯­æ³•ï¼šsetattr(object, name, value) getattr() getattr() å‡½æ•°ç”¨äºè¿”å›ä¸€ä¸ªå¯¹è±¡å±æ€§å€¼ã€‚ getattr(object, name[, default]) object â€“ å¯¹è±¡ã€‚ name â€“ å­—ç¬¦ä¸²ï¼Œå¯¹è±¡å±æ€§ã€‚ default â€“ é»˜è®¤è¿”å›å€¼ï¼Œå¦‚æœä¸æä¾›è¯¥å‚æ•°ï¼Œåœ¨æ²¡æœ‰å¯¹åº”å±æ€§æ—¶ï¼Œå°†è§¦å‘ AttributeErrorã€‚ __get__,__getattr__,__getattribute__åŠåŒºåˆ« 1.object.__getattribute__(self, name) æ— æ¡ä»¶è¢«è°ƒç”¨ï¼Œé€šè¿‡å®ä¾‹è®¿é—®å±æ€§ã€å‡½æ•°ï¼ˆç‚¹å’Œgetattrå‡½æ•°éƒ½ä¼šè§¦å‘ï¼‰ã€‚å¦‚æœclassä¸­å®šä¹‰äº†__getattribute__()å’Œ__getattr__()ï¼Œåˆ™åªæœ‰åœ¨æ˜¾å¼è°ƒç”¨æˆ–å¼•å‘AttributeErrorå¼‚å¸¸æ‰ä¼šè°ƒç”¨__getattr__() æ³¨ï¼š åªè¦å®šä¹‰äº†__getattribute__æ–¹æ³•ï¼Œä¸ç®¡ä½ è®¿é—®ä¸€ä¸ªå­˜åœ¨çš„è¿˜æ˜¯ä¸å­˜åœ¨çš„å±æ€§ï¼Œéƒ½ç”±è¿™ä¸ªæ–¹æ³•è¿”å›ï¼Œæ¯”å¦‚è®¿é—®t.aï¼Œè™½ç„¶aå­˜åœ¨ï¼Œä½†æ˜¯åªè¦å®šä¹‰äº†è¿™ä¸ªè®¿é—®ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯è®¿é—®æœ€å¼€å§‹çš„aäº† å¦‚æœ__getattribute__æŠ›å‡ºäº†AttributeErrorå¼‚å¸¸ï¼Œå¹¶ä¸”å®šäº†äº†getattrå‡½æ•°ï¼Œé‚£ä¹ˆä¼šè°ƒç”¨getattrè¿™ä¸ªå‡½æ•°å¹¶è¿”å›getattrå‡½æ•°çš„è¿”å›å€¼ å±æ€§è®¿é—®çš„ä¸€ä¸ªå¤§è‡´ä¼˜å…ˆçº§æ˜¯ï¼š__getattribute__ &gt; __getattr__ &gt; __dict__ 2.object.__getattr__(self, name) ä¸ºå†…ç½®æ–¹æ³•ï¼Œå½“ä½¿ç”¨ç‚¹å·è·å–å®ä¾‹å±æ€§æ—¶ï¼Œå¦‚æœå±æ€§ä¸å­˜åœ¨(æ‰¾ä¸åˆ°attribute)çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨__getattr__ï¼Œè¿”å›ä¸€ä¸ªå€¼æˆ–AttributeErrorå¼‚å¸¸ã€‚ 1234567class p(): s = 2 def __getattr__(self, item): return \"hello\"d = p()print(d.s) # ==&gt; 2print(d.p) # ==&gt; hello æ³¨ï¼šå¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œåˆ™ä¸ç®¡æ˜¯å¦æœ‰__getattribute__ï¼Œéƒ½ä¼šè°ƒç”¨__getattr__ 3.object.__get__(self, instance, owner) Python å†…ç½®çš„ property å‡½æ•°å¯ä»¥è¯´æ˜¯æœ€è‘—åçš„æè¿°å™¨ä¹‹ä¸€ï¼Œå‡ ä¹æ‰€æœ‰è®²è¿°æè¿°å™¨çš„æ–‡ç« éƒ½ä¼šæ‹¿å®ƒåšä¾‹å­ã€‚è€Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°__set__ã€__get__ã€__delete__æ¥å®ç°è‡ªå·±çš„æè¿°å™¨ã€‚ æè¿°å™¨åªå¯¹æ–°å¼ç±»èµ·ä½œç”¨ï¼› æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°instanceæ˜¯å®é™…æ‹¥æœ‰è€…çš„descriptorå®ä¾‹ï¼Œå¦‚æœæ˜¯Descriptorç±»(å®šä¹‰äº†æè¿°å™¨åè®®çš„æè¿°å™¨ç±»)åˆ™ä¸ºNoneï¼Œç¬¬äºŒä¸ªå‚æ•°owneræ˜¯å®é™…æ‰€å±çš„ç±»æœ¬èº«(æ‰€æœ‰è€…ç±»)ã€‚ ä¸€ä¸ªç±»åªè¦å®ç°äº†__get__ã€ __set__,__delete__ä¸­ä»»æ„ä¸€ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥å«å®ƒæè¿°å™¨ï¼ˆdescriptorï¼‰ï¼Œä»–æ˜¯ä¸€ä¸ªå¯ä»¥æè¿°ä¸€ä¸ªå±æ€§æ“ä½œçš„å¯¹è±¡ã€‚å¦‚æœåªå®šä¹‰äº†__get__æˆ‘ä»¬å«éèµ„æ–™æè¿°å™¨ï¼ˆnon-data descriptorï¼‰ï¼Œå¦‚æœ__set__ã€ __delete__ï¼šä»»æ„ä¸€ä¸ªæˆ–è€…åŒæ—¶å‡ºç°ï¼Œå«èµ„æ–™æè¿°å™¨ï¼ˆdata descriptorï¼‰ã€‚ é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œæ‹¥æœ‰__get__çš„ç±»ï¼Œåº”è¯¥**ï¼ˆä¹Ÿå¯ä»¥è¯´æ˜¯å¿…é¡»ï¼‰äº§ç”Ÿä¸€ä¸ªå®ä¾‹**ï¼Œå¹¶ä¸”è¿™ä¸ªå®ä¾‹æ˜¯å¦å¤–ä¸€ä¸ªç±»çš„ç±»å±æ€§ï¼ˆæ³¨æ„ä¸€å®šæ˜¯ç±»å±æ€§ï¼Œé€šè¿‡selfçš„æ–¹å¼äº§ç”Ÿå°±ä¸å±äº__get__èŒƒç•´äº†ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´æ‹¥æœ‰è¿™ä¸ªæ–¹æ³•çš„ç±»ï¼Œé‚£ä¹ˆå®ƒçš„å®ä¾‹åº”è¯¥å±äºå¦å¤–ä¸€ä¸ªç±»/å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ã€‚ owneræ˜¯æ‰€æœ‰è€…çš„ç±»ï¼Œinstanceæ˜¯è®¿é—®descriptorçš„å®ä¾‹ï¼Œå¦‚æœä¸æ˜¯é€šè¿‡å®ä¾‹è®¿é—®ï¼Œè€Œæ˜¯é€šè¿‡ç±»è®¿é—®çš„è¯ï¼Œinstanceåˆ™ä¸ºNoneã€‚ï¼ˆdescriptorçš„å®ä¾‹è‡ªå·±è®¿é—®è‡ªå·±æ˜¯ä¸ä¼šè§¦å‘__get__ï¼Œè€Œä¼šè§¦å‘__call__ï¼Œåªæœ‰descriptorä½œä¸ºå…¶å®ƒç±»çš„å±æ€§æ‰æœ‰æ„ä¹‰ã€‚ï¼‰ï¼ˆæ‰€ä»¥ä¸‹æ–‡çš„dæ˜¯ä½œä¸ºC2çš„ä¸€ä¸ªå±æ€§è¢«è°ƒç”¨ï¼‰ å°†æè¿°å™¨ä½œä¸ºä¸€ä¸ªç‹¬ç«‹å¯¹è±¡ï¼Œå¹¶ä¸èƒ½å±•ç°å‡ºæè¿°å™¨çš„é­”åŠ›ï¼Œåªæœ‰åœ¨æè¿°å™¨ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§çš„æ—¶å€™ï¼Œæè¿°å™¨çš„é­”åŠ›æ‰èƒ½çœŸæ­£å±•ç°å‡ºæ¥ã€‚ 1234567891011121314class TestDes: def __get__(self, instance, owner): print(instance, owner) return 'TestDes:__get__' class TestMain: des = TestDes() if __name__ == '__main__': t = TestMain() # desè™½ç„¶è¢«å®šä¹‰æˆç±»å˜é‡ï¼Œä½†t.desè¿˜æ˜¯è·Ÿå®ä¾‹ç›¸å…³çš„ï¼Œå¯¹å…¶å¢åˆ æ”¹éƒ½ä¼šèµ°åˆ°å…¶æè¿°å™¨å¯¹è±¡çš„__get__ã€__set__ã€__delete__ä¸­å¤„ç† print(t.des) print(TestMain.des)# å…¶ä¸­TestDeså®šä¹‰äº†__get__æ–¹æ³•ï¼Œåœ¨TestMainä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªç±»å±æ€§desï¼Œæ˜¯TestDesçš„ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬è®¿é—®t.desæˆ–è€…TestMain.desçš„æ—¶å€™è®¿é—®çš„å°±æ˜¯è®¿é—®äº†TestDesçš„__get__æ–¹æ³•ã€‚ â–²æè¿°å™¨å¾€å¾€ä»¥è£…é¥°å™¨çš„æ–¹å¼è¢«ä½¿ç”¨ï¼Œå¯¼è‡´äºŒè€…å¸¸è¢«æ··æ·†ã€‚æè¿°å™¨ç±»å’Œä¸å¸¦å‚æ•°çš„è£…é¥°å™¨ç±»ä¸€æ ·ï¼Œéƒ½ä¼ å…¥å‡½æ•°å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç±»å®ä¾‹ï¼Œæ‰€ä¸åŒçš„æ˜¯ï¼Œè£…é¥°å™¨ç±»è¿”å› callable çš„å®ä¾‹ï¼Œæè¿°å™¨åˆ™è¿”å›æè¿°å™¨å®ä¾‹ã€‚ Q:å¦‚æœå®ä¾‹ä¸­æœ‰å’Œæè¿°å™¨é‡åçš„å±æ€§ x æ€ä¹ˆåŠï¼Ÿ A:èµ„æ–™å’Œéèµ„æ–™æè¿°å™¨çš„åŒºåˆ«åœ¨äºï¼Œç›¸å¯¹äºå®ä¾‹å­—å…¸çš„ä¼˜å…ˆçº§ä¸åŒã€‚å½“æè¿°å™¨å’Œå®ä¾‹å­—å…¸ä¸­çš„æŸä¸ªå±æ€§é‡åï¼ŒæŒ‰è®¿é—®ä¼˜å…ˆçº§ï¼Œèµ„æ–™æè¿°å™¨ &gt; åŒåå®ä¾‹å­—å…¸ä¸­çš„å±æ€§ &gt; éèµ„æ–™æè¿°å™¨ or (æ•°æ®æè¿°ç¬¦ &gt; å®ä¾‹å˜é‡ &gt; éæ•°æ®æè¿°ç¬¦)ï¼Œä¼˜å…ˆçº§å°çš„ä¼šè¢«å¤§çš„è¦†ç›–ã€‚==&gt;ç±»çš„æ–¹æ³•å®é™…å°±æ˜¯ä¸€ä¸ªä»…å®ç°äº† __get__() çš„éèµ„æ–™æè¿°å™¨ï¼Œæ‰€ä»¥å¦‚æœå®ä¾‹ c ä¸­åŒæ—¶å®šä¹‰äº†åä¸º foo çš„æ–¹æ³•å’Œå±æ€§ï¼Œé‚£ä¹ˆ c.foo è®¿é—®çš„æ˜¯å±æ€§è€Œéæ–¹æ³•ã€‚ æè¿°å™¨moreï¼šPython æè¿°å™¨è§£æ é’ˆå¯¹æè¿°å™¨çš„è¯´æ˜ï¼š æè¿°å™¨æ˜¯è¢«__getattribute__è°ƒç”¨çš„ï¼Œå¦‚æœé‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œå°†ä¼šé˜»æ­¢è‡ªåŠ¨è°ƒç”¨æè¿°å™¨ï¼Œèµ„æ–™æè¿°å™¨æ€»æ˜¯è¦†ç›–äº†å®ä¾‹çš„__dict__ï¼Œ éèµ„æ–™æè¿°å™¨å¯èƒ½è¦†ç›–å®ä¾‹çš„__dict__ã€‚ å°ç»“ï¼šè®¿é—®å­˜åœ¨çš„å±æ€§ï¼Œå¦‚æœæ˜¯æè¿°å™¨ï¼Œæè¿°å™¨ç”Ÿæ•ˆ 12345678910111213class TestDes: # æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®é™…æ‹¥æœ‰è€…çš„å®ä¾‹ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸ºNoneï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å®é™…æ‰€å±çš„ç±»ã€‚ def __get__(self, instance, owner): print(instance, owner) return 'TestDes:__get__' class TestMain: des = TestDes() if __name__ == '__main__': t = TestMain() print(t.des) print(TestMain.des) # è°ƒç”¨æ—¶instanceè¾“å‡ºNone éèµ„æ–™æè¿°å™¨ï¼Œä¹Ÿå°±æ˜¯åªæœ‰__get__ï¼Œä¸ç®¡æ˜¯ç±»è¿˜æ˜¯å®ä¾‹å»è®¿é—®ï¼Œé»˜è®¤éƒ½è·å¾—çš„æ˜¯__get__çš„è¿”å›å€¼ï¼Œä½†æ˜¯ï¼Œå¦‚æœä¸­é—´æœ‰ä»»ä½•ä¸€æ¬¡é‡æ–°èµ‹å€¼(t.des = 1)ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªå®ä¾‹è·å¾—çš„æ˜¯æ–°çš„å€¼(å¯¹è±¡)ï¼Œå·²ç»å’ŒåŸæ¥çš„æè¿°å™¨å®Œå…¨è„±ç¦»äº†å…³ç³»(æè¿°å™¨__get__å‡½æ•°å¤±æ•ˆ) èµ„æ–™æè¿°å™¨ï¼Œæ¯”å¦‚æœ‰__set__æ–¹æ³•ï¼ŒåæœŸé€šè¿‡å®ä¾‹å¯¹æè¿°å™¨è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆè®¿é—®çš„æ˜¯__set__ï¼Œå¹¶ä¸”æ°¸è¿œå…³è”èµ·æ¥==&gt;é’ˆå¯¹ä¸Šè¿°é—®é¢˜çš„ä¿®å¤ã€‚ä½†æ˜¯å¦‚æœé€šè¿‡ä¿®æ”¹ç±»å±æ€§çš„æ–¹å¼å¤åˆ¶(TestMain.des = 1)ï¼Œé‚£ä¹ˆä¹Ÿä¼šè¢«é‡æ–°è·å–æ–°çš„å€¼(å¯¹è±¡)ï¼Œå³__set__å‡½æ•°å¤±æ•ˆã€‚ æ€»ç»“ï¼š å¯ä»¥çœ‹å‡ºï¼Œæ¯æ¬¡é€šè¿‡å®ä¾‹è®¿é—®å±æ€§ï¼Œéƒ½ä¼šç»è¿‡__getattribute__å‡½æ•°ã€‚è€Œå½“å±æ€§ä¸å­˜åœ¨æ—¶ï¼Œä»ç„¶éœ€è¦è®¿é—®__getattribute__ï¼Œä¸è¿‡æ¥ç€è¦è®¿é—®__getattr__ï¼Œå°±å¥½åƒæ˜¯ä¸€ä¸ªå¼‚å¸¸å¤„ç†å‡½æ•°ã€‚ æ¯æ¬¡è®¿é—®descriptorï¼ˆå³å®ç°äº†__get__çš„ç±»ï¼‰ï¼Œéƒ½ä¼šå…ˆç»è¿‡__get__å‡½æ•°ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨ç±»è®¿é—®ä¸å­˜åœ¨çš„å˜é‡æ˜¯ï¼Œä¸ä¼šç»è¿‡__getattr__å‡½æ•°ã€‚è€Œdescriptorä¸å­˜åœ¨æ­¤é—®é¢˜ï¼Œåªæ˜¯æŠŠinstanceæ ‡è¯†ä¸ºnoneè€Œå·²ã€‚ è‡³äºä¸‰è€…åŒºåˆ«ï¼Œé¦–å…ˆå…³æ³¨ï¼ša.xæ—¶å‘ç”Ÿäº†ä»€ä¹ˆ?=&gt;å±æ€§çš„lookupé¡ºåºå¦‚ä¸‹: å¦‚æœé‡è½½äº†__getattribute__,åˆ™è°ƒç”¨. a.__dict__, å®ä¾‹ä¸­æ˜¯ä¸å…è®¸æœ‰descriptorçš„,æ‰€ä»¥ä¸ä¼šé‡åˆ°descriptor A.__dict__, ä¹Ÿå³a.__class__.__dict__.å¦‚æœé‡åˆ°äº†descriptor,ä¼˜å…ˆè°ƒç”¨descriptor. æ²¿ç€ç»§æ‰¿é“¾æœç´¢çˆ¶ç±».æœç´¢a.__class__.__bases__ä¸­çš„æ‰€æœ‰__dict__. å¦‚æœæœ‰å¤šé‡ç»§æ‰¿ä¸”æ˜¯è±å½¢ç»§æ‰¿çš„æƒ…å†µ,æŒ‰MRO(Method Resolution Order)é¡ºåºæœç´¢. å‚è€ƒï¼š pythonçš„__get__æ–¹æ³•çœ‹è¿™ä¸€ç¯‡å°±è¶³å¤Ÿäº† moreï¼šPythonè¿›é˜¶-----æè¿°ç¬¦(get(),set(),delete()) __dict__ Pythonä¸­å¤§å¤šä»¥å¯¹è±¡çš„å½¢å¼å­˜åœ¨ï¼Œè€Œå¯¹è±¡çš„å±æ€§åˆ™æ˜¯å­˜åœ¨__dict__å±æ€§ä¸­ ç±»çš„é™æ€å‡½æ•°ã€ç±»å‡½æ•°ã€æ™®é€šå‡½æ•°ã€å…¨å±€å˜é‡ä»¥åŠä¸€äº›å†…ç½®çš„å±æ€§éƒ½æ˜¯æ”¾åœ¨**ç±»__dict__**é‡Œçš„ å¯¹è±¡çš„__dict__ä¸­å­˜å‚¨äº†ä¸€äº›self.xxxçš„ä¸€äº›ä¸œè¥¿ æ³¨æ„ å†…ç½®çš„æ•°æ®ç±»å‹æ²¡æœ‰__dict__å±æ€§ï¼Œå¦‚listã€dictã€int æ¯ä¸ªç±»æœ‰è‡ªå·±çš„__dict__å±æ€§ï¼Œå°±ç®—å­˜ç€ç»§æ‰¿å…³ç³»ï¼Œçˆ¶ç±»çš„__dict__ å¹¶ä¸ä¼šå½±å“å­ç±»çš„__dict__ å¯¹è±¡ä¹Ÿæœ‰è‡ªå·±çš„__dict__å±æ€§ï¼Œ å­˜å‚¨self.xxx ä¿¡æ¯ï¼Œçˆ¶å­ç±»å¯¹è±¡å…¬ç”¨__dict__ å¯¹è±¡çš„__dict__ä¼˜å…ˆäºç±»çš„__dict__è°ƒç”¨ï¼Œå¦‚self.__dict__['a']=1ï¼Œè€ŒClass.__dict__['a']=&quot;func&quot;ï¼Œåˆ™c.aè¾“å‡ºçš„æ˜¯1ï¼Œè€Œä¸æ˜¯func å¯å˜å‚æ•°ä¸unpack å‡½æ•°çš„å¯å˜å‚æ•° å½“å‡½æ•°çš„å‚æ•°å‰é¢æœ‰ä¸€ä¸ªæ˜Ÿå·*çš„æ—¶å€™è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¯å˜çš„ä½ç½®å‚æ•°ï¼Œä¸¤ä¸ªæ˜Ÿå·**è¡¨ç¤ºæ˜¯å¯å˜çš„å…³é”®å­—å‚æ•°ã€‚ 123456def saySomething(word, *args, **kwargs): pass# wordä¼šè¢«èµ‹å€¼æˆhello word, # mrliå’Œmrduè¢«æ‰“åŒ…è¿›argsæ•°ç»„ä¸­# size=15; color=whiteä¼šè¢«ä½œä¸ºkvä¼ åˆ°kwargsçš„å­—å…¸ä¸­saySomething(\"hello word\", \"mrli\", \"mrdu\", size=15, color=\"white\") unpackå‚æ•° æ˜Ÿå·*æŠŠåºåˆ—/é›†åˆè§£åŒ…ï¼ˆunpackï¼‰æˆä½ç½®å‚æ•°ï¼Œä¸¤ä¸ªæ˜Ÿå·**æŠŠå­—å…¸è§£åŒ…æˆå…³é”®å­—å‚æ•°ã€‚ 1234567891011121314151617181920212223txtOptions = &#123; \"fontSize\": 15, \"color\": \"white\"&#125;addtional_text = (\"mrli\", \"mrdu\")# unpackçš„å½¢å¼ä¼ å‚æ•°saySomething(\"hello word\", *addtional_text, **txtOptions)# ä¸¤å¥è¯æ˜¯ç­‰ä»·çš„saySomething(\"hello word\", \"mrli\", \"mrdu\", size=15, color=\"white\")# æ‹“å±•-æˆ‘ä»¬ç»å¸¸åœ¨å¼€æºåº“çš„docä¸­çœ‹åˆ°æŸä¸ªå‡½æ•°èƒ½æ¥æ”¶xxxå‚æ•°ï¼Œä½†æ˜¯ç‚¹è¿›å»ä¸€çœ‹ï¼Œæœ€åº•å±‚çš„å‚æ•°ä¼ çš„æ˜¯**kwargsã€‚æŒ‰é“ç†æˆ‘ä»¬æ˜¯ä»€ä¹ˆå‚æ•°éƒ½å¯ä»¥ä¼ çš„ï¼Œå¤§ä¸äº†å‡½æ•°ä¸è§£æè¿™äº›æ— ç”¨å‚æ•°ç½¢äº†ï¼Œä½†æ˜¯å®é™…ä¸Šå½“æˆ‘ä»¬ä¼ APIä¸­æ²¡æœ‰å†™åˆ°çš„å‚æ•°æ—¶ä¼šæŠ¥é”™ã€‚ ==&gt; è¿™ä¸ªæ˜¯ç”±äºkwargsèƒ½ä¼ é€’çš„å‚æ•°å—é™äºæœ€åº•å±‚çš„å‚æ•°éœ€æ±‚ï¼Œä»¥requests.getä¸ºä¾‹# requests.pydef get(url, params=None, **kwargs): return request('get', url, params=params, **kwargs)def request(method, url, **kwargs): return session.request(method=method, url=url, **kwargs)# getä¸­èƒ½ä¼ çš„**å…³é”®å­—å‚æ•°**å®é™…ä¸Šåªèƒ½æ˜¯è¿™äº›å…³é”®å­—å‚æ•°def request(self, method, url, params=None, data=None, headers=None, cookies=None, files=None, auth=None, timeout=None, allow_redirects=True, proxies=None, hooks=None, stream=None, verify=None, cert=None, json=None):# Pythonä¹Ÿæ˜¯é€šè¿‡è¿™ä¸¤ä¸ªç‰¹æ€§ä»è€Œå®ç°äº†**é‡å†™overrided** è‡³äºæ˜Ÿå·(*)è¿˜æœ‰ä¸€ä¸ªç”¨é€”æ˜¯æ¥æ˜ç¡®å†™æ˜ä½ç½®å‚æ•°çš„æˆªæ–­ä½ç½®ï¼Œ*åçš„å‚æ•°ä¹Ÿä¸èƒ½å†ä»¥ä½ç½®å‚æ•°çš„å½¢å¼ç»™å‡ºï¼Œå¿…é¡»ä»¥å…³é”®å­—å‚æ•°çš„å½¢å¼ç»™å‡ºâ€”â€”è§Python3 å‡½æ•°å‚æ•°åˆ—è¡¨å•ç‹¬ä¸€ä¸ªæ˜Ÿå· * çš„ä½œç”¨ ç±»æ¯”Goä¸­çš„...è¯­æ³• è£…é¥°å™¨ è£…é¥°å™¨(Decorators)æ˜¯ Python çš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ï¼Œé€šè¿‡ä»–ä»¬å¯ä»¥åœ¨ä¸ç”¨æ›´æ”¹åŸå‡½æ•°çš„ä»£ç å‰æä¸‹ï¼Œä¿®æ”¹ã€æ‹“å±•å…¶ä»–å‡½æ•°çš„åŠŸèƒ½çš„å‡½æ•°ï¼Œä»–ä»¬æœ‰åŠ©äºè®©æˆ‘ä»¬çš„ä»£ç æ›´ç®€æ´ã€‚==&gt;åˆ‡é¢ç¼–ç¨‹çš„æ–¹å¼ é—­åŒ… PythonæŸ¥æ‰¾å˜é‡ä¼šä¸€å±‚å±‚åœ°å‘å¤–å±‚æŸ¥æ‰¾ï¼Œç›´åˆ°globalå…¨å±€ä¹Ÿæ²¡æœ‰æ—¶raise NameError: name 'xxx' is not defined åœ¨è£…é¥°å™¨ä¸­è¿ç”¨åˆ°äº†é—­åŒ…çš„æ€æƒ³ã€‚é—­åŒ…ï¼Œä¸€å¥è¯è¯´å°±æ˜¯ï¼Œåœ¨å‡½æ•°ä¸­å†åµŒå¥—ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªé—­åŒ…äº†ã€‚(ä»è€Œä½¿å¾—å†…éƒ¨å‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆlexical environmentï¼Œè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·) æ‰§è¡Œé—­åŒ…åï¼Œé—­åŒ…å®ä¾‹å°†ä¼šç»´æŒäº†ä¸€ä¸ªè¯æ³•ç¯å¢ƒï¼Œå…¶ä¸­åŒ…å«å¯¹å±€éƒ¨å˜é‡çš„å¼•ç”¨ï¼Œä½¿å¾—åŸæœ¬å°±åº”è¯¥å¤±æ•ˆçš„å±€éƒ¨å˜é‡ä»ç„¶å­˜æ´»ã€‚ é—­åŒ…çš„åº”ç”¨ 1234567891011function makeAdder(x) &#123; return function(y) &#123; return x + y; &#125;;&#125;var add5 = makeAdder(5);var add10 = makeAdder(10);console.log(add5(2)); // 7console.log(add10(2)); // 12 ä»æœ¬è´¨ä¸Šè®²ï¼ŒmakeAdder æ˜¯ä¸€ä¸ªå‡½æ•°å·¥å‚ â€” ä»–åˆ›å»ºäº†å°†æŒ‡å®šçš„å€¼å’Œå®ƒçš„å‚æ•°ç›¸åŠ æ±‚å’Œçš„å‡½æ•°ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•°å·¥å‚åˆ›å»ºäº†ä¸¤ä¸ªæ–°å‡½æ•° â€” ä¸€ä¸ªå°†å…¶å‚æ•°å’Œ 5 æ±‚å’Œï¼Œå¦ä¸€ä¸ªå’Œ 10 æ±‚å’Œã€‚ add5 å’Œ add10 éƒ½æ˜¯é—­åŒ…ã€‚å®ƒä»¬å…±äº«ç›¸åŒçš„å‡½æ•°å®šä¹‰ï¼Œä½†æ˜¯ä¿å­˜äº†ä¸åŒçš„è¯æ³•ç¯å¢ƒã€‚åœ¨ add5 çš„ç¯å¢ƒä¸­ï¼Œx ä¸º 5ã€‚è€Œåœ¨ add10 ä¸­ï¼Œx åˆ™ä¸º 10ã€‚ moreï¼š 5å¥å£è¯€ç†è§£è®°å¿†Pythoné—­åŒ…å’Œè£…é¥°å™¨ [è£…é¥°å™¨ç±»å‹](9.5 å¯è‡ªå®šä¹‰å±æ€§çš„è£…é¥°å™¨ â€” python3-cookbook 3.0.0 æ–‡æ¡£) é—­åŒ…å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸å°†å‡½æ•°ä¸å…¶æ‰€æ“ä½œçš„æŸäº›æ•°æ®ï¼ˆç¯å¢ƒï¼‰å…³è”èµ·æ¥ã€‚å¤–éƒ¨å‡½æ•°ç›¸å½“äºç»™å†…éƒ¨å‡½æ•°æä¾›äº†ä¸€ä¸ªé¢å¤–æ•°æ®çš„æ‰§è¡Œç¯å¢ƒï¼Œä½¿å¾—å†…éƒ¨å‡½æ•°ï¼ˆè¢«è£…é¥°å‡½æ•°ï¼‰æ‹¥æœ‰äº†è·å¾—å¤–å±‚å‡½æ•°çš„æ•°æ®oræ‰§è¡Œäº†å¤–å±‚å‡½æ•°ã€‚æ ¹æ®å‚æ•°[æˆ–æ˜¯å«ç¯å¢ƒä¸åŒ]ï¼Œå¯ä»¥åˆ†æˆå¦‚ä¸‹å‡ ç§è£…é¥°å™¨ï¼š æ— å‚æ•° å¸¸è§çš„æœ‰è¾“å‡ºæ—¥å¿— 1234567891011121314151617from functools import wrapsdef do_log(func): @wraps(func) def wrapper(*args, **kwargs): print(\"do before\") func(*args, **kwargs) print(\"do after\") return wrapper@do_logdef say(word): print(word)say(\"hello world\")# ç­‰ä»·äºä¸‹é¢ä¸¤å±€# say = do_log(say)# say(\"hello world\") ===&gt; do_log(say)(\"hello world\") è¿™ä¸ªå¯ä»¥ç±»æ¯”JS 123456789function say(word)&#123; console.log(word);&#125;play = function(w)&#123; console.log(\"æˆ‘è¦å¼€å§‹ç¬‘å•¦\"); say(w); console.log(\"æˆ‘ä¸ç¬‘äº†\");&#125;// playç›¸å½“äºè£…é¥°äº†ä¸€å±‚say, åŒæ¯”ä¸Šé¢çš„do_logä¹Ÿæ˜¯ã€‚åœ¨ä¹‹åçš„æ‰§è¡Œä¸­playå’Œdo_logæ‰æ˜¯çœŸæ­£çš„æ‰§è¡Œå‡½æ•°, åªä¸è¿‡Pythonè¯­æ³•ç³–@ï¼Œè®©do_logåˆèµ‹å€¼ç»™äº†say, æ‰€ä»¥æˆ‘ä»¬åˆå¯ä»¥ç›´æ¥ä½¿ç”¨sayï¼Œä»è€Œå¢åŠ äº†å‡½æ•°åŸæœ¬çš„åŠŸèƒ½ @è¯­æ³•ç³–ï¼šå®ƒæ”¾åœ¨å‡½æ•°å¼€å§‹å®šä¹‰çš„åœ°æ–¹ï¼Œè¿™æ ·å°±å¯ä»¥çœç•¥æœ€åä¸€æ­¥å†æ¬¡èµ‹å€¼çš„æ“ä½œ é»˜è®¤å‚æ•° 123456789101112131415161718192021222324252627282930def createLogger(): logger = logging.getLogger(\"decorate\") formatter = logging.Formatter('%(asctime)s-%(name)s-%(levelname)s-%(message)s') sh = logging.StreamHandler() sh.setLevel(logging.DEBUG) sh.setFormatter(formatter) logger.addHandler(sh) return loggerlogger = createLogger()logger.warning(\"hello\")def log_by_level(level): # åˆ›å»ºæ–°ç¯å¢ƒï¼šå¤šæä¾›äº†ä¸€ä¸ªlevelå˜é‡ def do_log(func): @wraps(func) def wrapper(*args, **kwargs): getattr(logger, level)(\"do before\") func(*args, **kwargs) getattr(logger, level)(\"do after\") return wrapper return do_log@log_by_level(\"warning\")def say(word): print(word)# ç­‰ä»·äºdo_log = log_by_level(\"warning\") # ä½œç”¨æ˜¯æä¾›äº†ä¸€ä¸ªlevel=warningçš„ç¯å¢ƒsay = do_log(say)say(\"hello\") å¯è‡ªå®šä¹‰å±æ€§çš„è£…é¥°å™¨ï¼š å…è®¸ç”¨æˆ·æä¾›å‚æ•°åœ¨è¿è¡Œæ—¶æ§åˆ¶è£…é¥°å™¨è¡Œä¸ºã€‚æ¯”å¦‚å‰ç«¯è®¾ç½®ä¸€ä¸ªå•é€‰ï¼Œå¯ä»¥æ§åˆ¶æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œæ­¤æ—¶åˆ™éœ€è¦åœ¨è¿è¡Œæ—¶ä¿®æ”¹è£…é¥°å™¨è¡Œä¸º å¯é€‰å‚æ•° æ—¢å¯ä»¥ä¸ä¼ å‚æ•°ç»™å®ƒï¼Œæ¯”å¦‚ @decorator ï¼Œ ä¹Ÿå¯ä»¥ä¼ é€’å¯é€‰å‚æ•°ç»™å®ƒï¼Œæ¯”å¦‚ @decorator(x,y,z) ã€‚ å®ç°è§ï¼š9.6 å¸¦å¯é€‰å‚æ•°çš„è£…é¥°å™¨ â€” python3-cookbook 3.0.0 æ–‡æ¡£ ç±»è£…é¥°å™¨ï¼š ä½¿ç”¨ä¸€ä¸ªè£…é¥°å™¨å»åŒ…è£…å‡½æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå¯è°ƒç”¨çš„å®ä¾‹ ç±»è£…é¥°å™¨ä¸»è¦ä¾é ç±»çš„__call__æ–¹æ³• 123456789101112class ClassDecorator: def __init__(func): self.func = func def __call__(self): print(\"enter\") self.func() print(\"end\")@ClassDecoratordef bar(): print ('bar')# bar = ClassDecorator(bar)# bar() ==&gt; ClassDecorator(bar)() è°ƒç”¨å®ä¾‹==&gt;å³è§¦å‘__call__æ–¹æ³• ç±»ä¸­è£…é¥°å™¨: åœ¨ç±»ä¸­å®šä¹‰è£…é¥°å™¨ï¼Œå¹¶å°†å…¶ä½œç”¨åœ¨å…¶ä»–å‡½æ•°æˆ–æ–¹æ³•ä¸Š è·Ÿæ— å‚æ•°çš„è£…é¥°å™¨ä¸€æ ·å†™æ³•ï¼Œåªä¸è¿‡å®šä¹‰åœ¨ç±»ä¸­ï¼›å¹¶ä¸”åœ¨ä½¿ç”¨çš„æ—¶å€™æ˜¯ä»¥@Decorator.decortaeçš„å½¢å¼ ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•è£…é¥°å™¨ï¼šè·Ÿæ— å‚æ•°çš„è£…é¥°å™¨ä¸€æ ·å†™æ³•ï¼Œä½†æ˜¯éœ€è¦åœ¨@staticmethodã€@classmethodä¹‹å‰æ ‡æ³¨ â–²æ³¨æ„ï¼š è£…é¥°å™¨åªä¼šåœ¨å‡½æ•°å®šä¹‰æ—¶è¢«è°ƒç”¨ä¸€æ¬¡ å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œåœ¨è£…é¥°å™¨ä»£ç ä¸­æ€»æœ‰ä¸€è¡Œ@wraps(func)çš„ä»£ç ï¼Œå…¶ç›®çš„ï¼šæ˜¯ä½ å†™äº†ä¸€ä¸ªè£…é¥°å™¨ä½œç”¨åœ¨æŸä¸ªå‡½æ•°ä¸Šï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°çš„é‡è¦çš„å…ƒä¿¡æ¯æ¯”å¦‚åå­—ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€æ³¨è§£å’Œå‚æ•°ç­¾åéƒ½ä¸¢å¤±äº†----&gt;ä»»ä½•æ—¶å€™ä½ å®šä¹‰è£…é¥°å™¨çš„æ—¶å€™ï¼Œéƒ½åº”è¯¥ä½¿ç”¨functoolsåº“ä¸­çš„@wrapsè£…é¥°å™¨æ¥æ³¨è§£åº•å±‚åŒ…è£…å‡½æ•° è£…é¥°å™¨çš„æ‰§è¡Œæ˜¯ä¾æ¬¡çš„ï¼Œç¦»å‡½æ•°ç­¾åè¶Šè¿‘ï¼Œåˆ™è¶Šå…ˆè¢«å®šä¹‰ 123456@a@b@cdef f (): pass# ç­‰ä»·äº f = a(b(c(f))) æ€»ç»“ï¼š ç†è§£è£…é¥°å™¨åº”è¯¥ä»â‘ @è¯­æ³•ç³–åˆ°åº•åšäº†ä»€ä¹ˆï¼›â‘¡é—­åŒ…æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼›â‘¢è£…é¥°å™¨å¦‚ä½•ç­‰ä»·è¡¨ç¤ºï¼›æ¥ç†è§£ æ‡’åŠ è½½å±æ€§ æè¿°ç¬¦+ç±»è£…é¥°å™¨å®ç° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647class LazyProperty(object): def __init__(self, func): # åˆå§‹åŒ–funcä¸ºserverHostå‡½æ•° self.func = func def __get__(self, instance, owner): if instance is None: return self else: value = self.func(instance) # ä¼šå°†ç»“æœå€¼é€šè¿‡setattræ–¹æ³•å­˜å…¥åˆ°instanceå®ä¾‹çš„__dict__ä¸­ setattr(instance, self.func.__name__, value) return valueclass ConfigHandler: def __init__(self): pass # è¿”å›ä¸€ä¸ªLazyPropertyå®ä¾‹ @LazyProperty def serverHost(self): return os.environ.get(\"HOST\", setting.HOST)setting = namedtuple(\"setting\", [\"HOST\"])setting.HOST = \"g\"# æµ‹è¯•ä¸€a = ConfigHandler()print(a.__dict__)# 1. æ³¨è§£å…ˆæ˜¯åˆ›å»ºäº†LazyProperty(serverHost)çš„å®ä¾‹# 2. å†æ˜¯è¯­æ³•ç³–è¿›è¡Œäº†èµ‹å€¼serverHost = LazyProperty(serverHost)# 3. å½“ç¬¬ä¸€æ¬¡è¿›è¡Œè°ƒç”¨çš„æ—¶å€™, instance = configHandler**å®ä¾‹**, self.func(instanceå®ä¾‹) == è°ƒç”¨serverHost(instanceå®ä¾‹)ä»è€Œè·å¾—äº†çœŸæ­£å€¼valueã€‚è€Œä¹‹åçš„ setattrå¤„å°†selfå®ä¾‹çš„__dict__ä¸­æ·»åŠ äº†serverHost-valueï¼Œå†æ¬¡è®¿é—®self.serverHostæ—¶, å·²ç»ä¸å†æ˜¯å‡½æ•°, è€Œæ˜¯valueå€¼(serverHostä¸å†ä»ConfigHandler.__dict__ä¸­å–, è€Œæ˜¯å®ä¾‹a.__dict__ä¸­å–)print(a.serverHost)print(\"say\")print(a.__dict__)# æµ‹è¯•äºŒ# å¦‚æœå…ˆæ‰§è¡Œç±»çš„__dict__èƒ½çœ‹åˆ°ç±»çš„serverHostæ˜¯ä¸€ä¸ª**æè¿°å™¨å¯¹è±¡å®ä¾‹**=&gt; 'serverHost': &lt;__main__.LazyProperty object at 0x0000020A1AEB7FD0&gt;print(ConfigHandler.__dict__)# é€šè¿‡__dir__èƒ½è§åˆ°serverHostä¸ºå®ä¾‹çš„ä¸€ä¸ªæ–¹æ³•print(a.__dir__())# æ­¤æ—¶a.__dict__ä¸ºç©ºprint(a.serverHost)# ç­‰åˆ°è°ƒç”¨è¿‡a.serverHoståå¯ä»¥å‘ç°a.__dict__ä¸­å¤šäº†serverHostprint(a.__dict__)# ç”±äºå®ä¾‹__dict__ä¼šä¼˜å…ˆäºç±»çš„__dict__ä½¿ç”¨ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›äº†valueå€¼ é‡ç‚¹ï¼š è·Ÿ[print(t.des)](#3.object.__get__(self, instance, owner))ä¼šè§¦å‘t.desæŒ‡å‘çš„descriptorå®ä¾‹çš„__get__ä¸€æ ·ï¼Œé€šè¿‡ç±»__dict__[&quot;serverHost&quot;]ï¼Œå…¶ä¹Ÿæ˜¯ä¸ªæè¿°å™¨å®ä¾‹ï¼Œå› æ­¤ä¹Ÿä¼šè§¦å‘LazyProperty objectçš„__get__ å®ä¾‹__dict__ä¼šä¼˜å…ˆäºç±»çš„__dict__ä½¿ç”¨ï¼Œå¦‚æœå®ä¾‹__dict__æ‰¾ä¸åˆ°ï¼Œä¼šå¾€ä¸Šç±»__dict__æ‰¾ ä¿®é¥°ç¬¦(æ–¹æ³•è£…é¥°å™¨) 1234567891011121314151617181920212223242526272829303132def lazy_property(func): # åˆ›å»ºprotectedå±æ€§ attr_name = \"_lazy_\" + func.__name__ @property def _lazy_property(self): # print(\"done\") if not hasattr(self, attr_name): # print(\"set\") setattr(self, attr_name, func(self)) return getattr(self, attr_name) return _lazy_propertyclass Circle(object): def __init__(self, radius): self.radius = radius @lazy_property def area(self): return 3.14 * self.radius ** 2# å½“è§£æCircleç±»ã€å®šä¹‰areaæ–¹æ³•çš„æ—¶å€™ï¼Œä¼šå°†Circle.area = @propertyä¿®é¥°çš„_lazy_propertyå‡½æ•°c = Circle(4)print('before calculate area')print(c.__dict__)# å½“è°ƒç”¨c.areaæ—¶ï¼Œä¼šè¾“å‡ºdone, æ­¤æ—¶ä¼šæ‰§è¡Œ_lazy_propertyå†…çš„å…·ä½“å‡½æ•°, æ­¤æ¬¡ä¼šè¿›è¡Œsetattrprint(c.area)# æ­¤æ¬¡ä¸ä¼šè°ƒç”¨setattrprint(c.area)print('after calculate area')print(c.__dict__)c.radius = 5 å€Ÿé‰´ï¼šPythonä¸­çš„lazy property __new__ __new__() æ˜¯ä¸€ç§è´Ÿè´£åˆ›å»ºç±»å®ä¾‹çš„é™æ€æ–¹æ³•ï¼Œå®ƒæ— éœ€ä½¿ç”¨ staticmethod è£…é¥°å™¨ä¿®é¥°ï¼Œä¸”è¯¥æ–¹æ³•ä¼šä¼˜å…ˆ __init__() åˆå§‹åŒ–æ–¹æ³•è¢«è°ƒç”¨ã€‚ __new__()é€šå¸¸ä¼šè¿”å›è¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œä½†æœ‰æ—¶ä¹Ÿå¯èƒ½ä¼šè¿”å›å…¶ä»–ç±»çš„å®ä¾‹ï¼Œå…¶super().__new__(cls)ä¸­ä¼šè°ƒç”¨__init__ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹å†™å­ç±»çš„__new__æ·»åŠ ä¸€äº›é€»è¾‘æ¥æ§åˆ¶å®ä¾‹çš„äº§ç”Ÿï¼Œç„¶åé€šè¿‡super().__new__(cls)æ¥ç”Ÿæˆä¸€ä¸ªinstanceå¹¶è¿”å›ã€‚ 1234567891011121314151617181920212223class demoClass: instances_created = 0 def __new__(cls, *args, **kwargs): # __new__(): &lt;class '__main__.demoClass'&gt; ('abc',) &#123;&#125; print(\"__new__():\", cls, args, kwargs) # 1. é€šè¿‡çˆ¶ç±»__new__ç”Ÿæˆä¸€ä¸ªå®ä¾‹ # åœ¨super().__new__(cls)ä¸­ä¼šè°ƒç”¨__init__å¹¶ç”Ÿæˆå®ä¾‹ instance = super().__new__(cls) # 2. è‡ªå·±é‡å†™è¦å®ç°çš„é€»è¾‘ instance.number = cls.instances_created cls.instances_created += 1 # 3. å°†çˆ¶ç±»ç”Ÿæˆçš„å®ä¾‹è¿”å› return instance def __init__(self, attribute): # __init__(): &lt;__main__.demoClass object at 0x00000185A6466EB0&gt; abc print(\"__init__():\", self, attribute) self.attribute = attributetest1 = demoClass(\"abc\")test2 = demoClass(\"xyz\")print(test1.number, test1.instances_created)print(test2.number, test2.instances_created) Q:ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨__new__()å‘¢ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼Œåœ¨__init__()ä¸å¤Ÿç”¨çš„æ—¶å€™ã€‚ __new__()é€šå¸¸ä¼šè¿”å›è¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œä½†æœ‰æ—¶ä¹Ÿå¯èƒ½ä¼šè¿”å›å…¶ä»–ç±»çš„å®ä¾‹ï¼Œå¦‚æœå‘ç”Ÿäº†è¿™ç§æƒ…å†µï¼Œåˆ™ä¼šè·³è¿‡å¯¹ __init__()æ–¹æ³•çš„è°ƒç”¨ã€‚è€Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆæ¯”å¦‚éœ€è¦ä¿®æ”¹ä¸å¯å˜ç±»å®ä¾‹ï¼ˆPython çš„æŸäº›å†…ç½®ç±»å‹ï¼‰çš„åˆ›å»ºè¡Œä¸ºï¼‰ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ä¼šäº‹åŠåŠŸå€ã€‚æ¯”å¦‚ï¼šhttp://c.biancheng.net/view/5484.htmlï¼Œå¯¹ Python ä¸å¯å˜çš„å†…ç½®ç±»å‹ï¼ˆå¦‚ intã€strã€float ç­‰ï¼‰è¿›è¡Œäº†å­ç±»åŒ–ï¼Œè¿™æ˜¯å› ä¸ºä¸€æ—¦åˆ›å»ºäº†è¿™æ ·ä¸å¯å˜çš„å¯¹è±¡å®ä¾‹ï¼Œå°±æ— æ³•åœ¨__init__()æ–¹æ³•ä¸­å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚ æ³¨ï¼šç”±äº __new__() ä¸é™äºè¿”å›åŒä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è¢«æ»¥ç”¨ï¼Œä¸è´Ÿè´£ä»»åœ°ä½¿ç”¨è¿™ç§æ–¹æ³•å¯èƒ½ä¼šå¯¹ä»£ç æœ‰å®³ï¼Œæ‰€ä»¥è¦è°¨æ…ä½¿ç”¨ã€‚ MetaClasså…ƒç±» æ‰¿æ¥ä¸Šæ–‡__new__ï¼ŒPythonä¸­å¤§é‡ä½¿ç”¨__new__()æ–¹æ³•ä¸”åˆç†çš„ï¼Œå°±æ˜¯ MetaClass å…ƒç±»ã€‚ MetaClasså…ƒç±»ï¼Œæœ¬è´¨ä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œä½†å’Œæ™®é€šç±»çš„ç”¨æ³•ä¸åŒï¼Œå®ƒå¯ä»¥å¯¹ç±»å†…éƒ¨çš„å®šä¹‰ï¼ˆåŒ…æ‹¬ç±»å±æ€§å’Œç±»æ–¹æ³•ï¼‰è¿›è¡ŒåŠ¨æ€çš„ä¿®æ”¹ã€‚å¯ä»¥è¿™ä¹ˆè¯´ï¼Œä½¿ç”¨å…ƒç±»çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¸ºäº†å®ç°åœ¨åˆ›å»ºç±»æ—¶ï¼Œèƒ½å¤ŸåŠ¨æ€åœ°æ”¹å˜ç±»ä¸­å®šä¹‰çš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæ ¹æ®å®é™…åœºæ™¯çš„éœ€è¦ï¼Œæˆ‘ä»¬è¦ä¸ºå¤šä¸ªç±»æ·»åŠ ä¸€ä¸ª name å±æ€§å’Œä¸€ä¸ª say() æ–¹æ³•ã€‚æ˜¾ç„¶æœ‰å¤šç§æ–¹æ³•å¯ä»¥å®ç°ï¼Œä½†å…¶ä¸­ä¸€ç§æ–¹æ³•å°±æ˜¯ä½¿ç”¨ MetaClass å…ƒç±»ã€‚ 12345678910111213141516171819#å®šä¹‰ä¸€ä¸ªå…ƒç±»class FirstMetaClass(type): # clsä»£è¡¨åŠ¨æ€ä¿®æ”¹çš„ç±» # nameä»£è¡¨åŠ¨æ€ä¿®æ”¹çš„ç±»å # basesä»£è¡¨è¢«åŠ¨æ€ä¿®æ”¹çš„ç±»çš„æ‰€æœ‰çˆ¶ç±» # atträ»£è¡¨è¢«åŠ¨æ€ä¿®æ”¹çš„ç±»çš„æ‰€æœ‰å±æ€§ã€æ–¹æ³•ç»„æˆçš„å­—å…¸ def __new__(cls, name, bases, attrs): # åŠ¨æ€ä¸ºè¯¥ç±»æ·»åŠ ä¸€ä¸ªnameå±æ€§ attrs['name'] = \"Cè¯­è¨€ä¸­æ–‡ç½‘\" attrs['say'] = lambda self: print(\"è°ƒç”¨ say() å®ä¾‹æ–¹æ³•\") return super().__new__(cls,name,bases,attrs) #å®šä¹‰ç±»æ—¶ï¼ŒæŒ‡å®šå…ƒç±»class CLanguage(object,metaclass=FirstMetaClass): passclangs = CLanguage()print(clangs.name)clangs.say() å¯ä»¥çœ‹åˆ°ï¼Œåœ¨åˆ›å»ºç±»æ—¶ï¼Œé€šè¿‡åœ¨æ ‡æ³¨çˆ¶ç±»çš„åŒæ—¶æŒ‡å®šå…ƒç±»ï¼ˆæ ¼å¼ä¸ºmetaclass=å…ƒç±»åï¼‰ï¼Œåˆ™å½“ Python è§£é‡Šå™¨åœ¨åˆ›å»ºè¿™è¯¥ç±»æ—¶ï¼ŒFirstMetaClass å…ƒç±»ä¸­çš„__new__æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼Œä»è€Œå®ç°åŠ¨æ€ä¿®æ”¹ç±»å±æ€§æˆ–è€…ç±»æ–¹æ³•çš„ç›®çš„ã€‚ 123456789101112131415161718192021222324252627class TestMeta3(type): def __new__(cls, name, bases, attrs): print(cls) # å½“å‰ç±» print(\"name\", name) # å¦‚æœæ˜¯é€šè¿‡metaclassè§¦å‘çš„ï¼Œæ­¤å¤„ä¸ºè°ƒç”¨metaclassçš„ç±»çš„ç±»å‹ print(\"bases\", bases) # å¦‚æœæ˜¯é€šè¿‡metaclassè§¦å‘çš„ï¼Œæ­¤å¤„ä¸ºè°ƒç”¨metaclassçš„ç±»çš„çˆ¶ç±» print(\"attrs\", attrs) # å¦‚æœæ˜¯é€šè¿‡metaclassè§¦å‘çš„ï¼Œæ­¤å¤„ä¸ºè°ƒç”¨metaclassçš„ç±»çš„å±æ€§ return type.__new__(cls, name, bases, attrs)class Pa3: pass# python3ä¸­å¯ä»¥ç›´æ¥é€šè¿‡metaclasså…³é”®å­—å‚æ•°æ¥æŒ‡å®šç±»çš„å…ƒç±»class Eg3(Pa3, metaclass=TestMeta3): @classmethod def get(self): kkk = [] kkk.append(self.__skiless__) return kkk def acc2(self): return 'a2'\"\"\"è¾“å‡º&lt;class '__main__.TestMeta3'&gt;name Eg3bases (&lt;class '__main__.Pa3'&gt;,)attrs &#123;'__module__': '__main__', '__qualname__': 'Eg3', 'get': &lt;classmethod object at 0x00000263511C6FA0&gt;, 'acc2': &lt;function Eg3.acc2 at 0x00000263511C5310&gt;&#125;\"\"\" åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œå‘ç°ç«Ÿç„¶æœ‰è¾“å‡ºã€‚å› ä¸ºå®šä¹‰çš„æ—¶å€™ï¼Œpythonè§£é‡Šå™¨ä¼šåœ¨å½“å‰ç±»ä¸­æŸ¥æ‰¾metaclass[3]ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œå°±ä½¿ç”¨è¯¥metaclassåˆ›å»ºEg3ç±»ã€‚æ‰€ä»¥æ‰“å°å‡ºæ¥çš„nameã€basesã€attrséƒ½å’ŒEg3æœ‰å…³ã€‚ å…ƒç±»å’Œçˆ¶ç±»çš„åŒºåˆ«ï¼š åœ¨å®šä¹‰å­ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šâ‘ æ˜¯ä¼ éœ€è¦ç»§æ‰¿çš„çˆ¶ç±»ï¼›â‘¡è‡ªå®šä¹‰çš„å…ƒç±»ã€‚ çˆ¶ç±»æ˜¯å­ç±»çš„æ¨¡æ¿ï¼Œå­ç±»çš„åŠŸèƒ½æ˜¯è·Ÿçˆ¶ç±»ç´§è€¦åˆçš„ï¼Œå­ç±»å’Œçˆ¶ç±»ä¸€èˆ¬æ˜¯ä¸€ä¸€å¯¹åº”çš„ å…ƒç±»æ˜¯å­ç±»çš„ä¿®é¥°å™¨ï¼Œå¯ä»¥ä¸ºè¯¥å­ç±»å’Œå…¶ä»–å­ç±»éƒ½æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸åœ¨ç»§æ‰¿å…³ç³»ä¸­(Class.__mro__æŸ¥çœ‹)ï¼Œå­ç±»å’Œå…ƒç±»æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚å…ƒç±»å¹¶ä¸æ˜¯ç‰¹åœ°ä¸ºæŸä¸ªå­ç±»æœåŠ¡çš„ with_metaclass ç”±äºpython2å’Œpython3ä¸­å…ƒç±»ä½¿ç”¨æ–¹æ³•çš„ä¸åŒï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ç§å…¼å®¹çš„æ–¹å¼[1]ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112def withMetaclass(meta, *bases): \"\"\"Create a base class with a metaclass.\"\"\" # This requires a bit of explanation: the basic idea is to make a dummy # metaclass for one level of class instantiation that replaces itself with # the actual metaclass. class MetaClass(meta): def __new__(cls, name, this_bases, d): return meta(name, bases, d) return type.__new__(MetaClass, 'temporary_class', (), &#123;&#125;) with_metaclassè¿”å›çš„ä¸´æ—¶ç±»ä¸­ï¼Œæœ¬èº«æ— ä»»ä½•å±æ€§ï¼Œä½†åŒ…å«äº†å…ƒç±»å’ŒåŸºç±»çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶åœ¨ä¸‹ä¸€æ­¥å®šä¹‰ç±»æ—¶å°†æ‰€æœ‰ä¿¡æ¯è§£åŒ…å‡ºæ¥[1]ã€‚ è§ï¼šPython å…ƒç±»åŠwith_metaclass __type__åŠ¨æ€åˆ›å»ºç±» type() å‡½æ•°å±äº Python å†…ç½®å‡½æ•°ï¼Œé€šå¸¸ç”¨æ¥æŸ¥çœ‹æŸä¸ªå˜é‡çš„å…·ä½“ç±»å‹ã€‚ type(obj) å…¶å®ï¼Œtype() å‡½æ•°è¿˜æœ‰ä¸€ä¸ªæ›´é«˜çº§çš„ç”¨æ³•ï¼Œå³åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹ï¼ˆä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªç±»ï¼‰ã€‚ type(name, bases, dict)ï¼šå…¶ä¸­ name è¡¨ç¤ºç±»çš„åç§°ï¼›bases è¡¨ç¤ºä¸€ä¸ªå…ƒç»„ï¼Œå…¶ä¸­å­˜å‚¨çš„æ˜¯è¯¥ç±»çš„çˆ¶ç±»ï¼›dict è¡¨ç¤ºä¸€ä¸ªå­—å…¸ï¼Œç”¨äºè¡¨ç¤ºç±»å†…å®šä¹‰çš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚ å®é™…ä¸Štype(name, bases, dict)æ˜¯è°ƒç”¨äº†typeç±»çš„type.__init__(cls, what, bases=None, dict=None)æ–¹æ³•ï¼Œåˆ›å»ºäº†ä¸€ä¸ªtypeçš„å®ä¾‹ï¼ˆç±»ç±»å‹å°±æ˜¯ä¸€ä¸ªtypeå®ä¾‹ï¼‰ï¼Œç±»å‹æ˜¯&lt;class 'type'&gt; æ­¤å¤–typeè¿˜æœ‰__new__(*args, **kwargs)ï¼Œå…¶ä½œç”¨æ˜¯Create and return a new object.ï¼Œå¯ä»¥å†™æˆtype.__new__(ClassTpye, name, base, dicts)ï¼Œä½†ClassTypeå¿…é¡»æ˜¯typeçš„å­ç±»ã€‚ä¼šè¿”å›ä¸€ä¸ªClassTypeçš„instanceï¼Œæ­¤ç±»ä¸ºClassTpyeçš„å®ä¾‹ï¼Œselfå±æ€§æœ‰dictsä¸­çš„å€¼ æ­¤å¤–è¡¥å……ä¸€ä¸‹: &lt;class â€˜typeâ€™&gt;æ˜¯æ‰€æœ‰ç±»å‹çš„ç±»å‹ã€‚&lt;class â€˜objectâ€™&gt;ä¹Ÿæ˜¯æ‰€æœ‰å¯¹è±¡çš„è¶…ç±»ï¼ˆé™¤äº†å®ƒè‡ªå·±ï¼ŒåŒ…æ‹¬typeï¼‰ é€šè¿‡å…ƒç±»åˆ›å»ºå•ä¾‹ç±» 1234567891011121314151617181920212223242526272829303132333435363738# æ³¨æ„è¿™è¾¹ç»§æ‰¿äº†type, æ‰€ä»¥ä¸‹é¢çš„__call__æ˜¯é‡å†™typeçš„__call__ï¼Œå³åˆ›å»ºå®ä¾‹çš„æ–¹æ³•class Singleton(type): \"\"\" Singleton Metaclass \"\"\" _inst = &#123;&#125; def __call__(cls, *args, **kwargs): if cls not in cls._inst: cls._inst[cls] = super(Singleton, cls).__call__(*args, **kwargs) return cls._inst[cls]def withMetaclass(meta, *bases): \"\"\"Create a base class with a metaclass.\"\"\" # è¿™éœ€è¦ä¸€ç‚¹è§£é‡Šï¼šåŸºæœ¬æ€æƒ³æ˜¯ä¸ºä¸€ä¸ªçº§åˆ«çš„ç±»å®ä¾‹åŒ–åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿå…ƒç±»ï¼Œç”¨å®é™…çš„å…ƒç±»æ›¿æ¢å®ƒè‡ªå·±ã€‚ # KeyPoint1. ç»§æ‰¿metaç±» class MetaClass(meta): # å®é™…ä¸Šä¸‹é¢çš„__new__ä¸å½±å“ def __new__(cls, name, this_bases, d): # clsä¸ºwithMetaclass; nameä¸ºä½¿ç”¨è€…çš„ç±»å‹; this_basesä¸ºä½¿ç”¨è€…çš„çˆ¶ç±»ä»¬; dä¸ºä½¿ç”¨è€…çš„å±æ€§ return meta(name, bases, d) # KeyPoint2. type.__new__åˆ›å»ºä¸€ä¸ªåç§°å«temporary_classï¼Œç±»å‹ä¸ºMetaClassçš„ç±» # â–²æ³¨æ„type.__new__ä¸­çš„ç±»ç±»å‹å¿…é¡»æ˜¯typeçš„å­ç±» return type.__new__(MetaClass, 'temporary_class', (), &#123;&#125;)class ConfigHandler(withMetaclass(Singleton)): def __init__(self): print(\"__init__\") pass @LazyProperty def serverHost(self): return os.environ.get(\"HOST\", setting.HOST)# res=withMetaclass(Singleton)çš„ç±»å‹ä¸º&lt;class 'util.six.withMetaclass.&lt;locals&gt;.MetaClass'&gt;# å°†å…¶ä¼ ç»™ConfigHandlerä½œä¸ºçˆ¶ç±»ï¼Œåœ¨å®šä¹‰ ConfigHandler æ—¶ä¼šè§¦å‘MetaClass.__new__, äºæ˜¯è°ƒç”¨meta(name, bases, d)ï¼Œæ­¤å¤„çš„metaä¸ºSingletonï¼Œè€Œnameä¸ºConfigHandlerç±», basesä¸ºç©º, dä¸ºConfigHandlerçš„å±æ€§å’Œæ–¹æ³•ã€‚# print(type(ConfigHandler)) ==&gt; &lt;class 'util.singleton.Singleton'&gt;# å› æ­¤ c = ConfigHandler() ==&gt; Singletonçš„__call__æ–¹æ³•ï¼Œå½“c = ConfigHandler()æ—¶ä¼šå› ä¸ºtype.__new__(MetaClass, 'temporary_class', (), &#123;&#125;)å»æ‰¾MetaClassçš„__call__è¿›è¡Œè°ƒç”¨ï¼ŒMetaClassæ²¡æœ‰__call__åˆ™æ‰¾åˆ°äº†å…¶çˆ¶ç±»meta(Singleton)çš„__call__ æ³¨ï¼šç±»ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ˜¯å…ƒç±»çš„å¯¹è±¡ï¼Œå³æˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ªç±»æ—¶ï¼Œè°ƒç”¨å…¶å…ƒç±»çš„__call__(cls, *args, **kwargs)æ–¹æ³•è¿›è¡Œåˆ›å»ºå¯¹è±¡ã€‚ __call__ ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„å®ä¾‹æ–¹æ³•ï¼Œå³__call__()ã€‚è¯¥æ–¹æ³•çš„åŠŸèƒ½ç±»ä¼¼äºåœ¨ç±»ä¸­é‡è½½ () è¿ç®—ç¬¦ï¼Œä½¿å¾—ç±»å®ä¾‹å¯¹è±¡å¯ä»¥åƒè°ƒç”¨æ™®é€šå‡½æ•°é‚£æ ·ï¼Œä»¥â€œå¯¹è±¡å()â€çš„å½¢å¼ä½¿ç”¨ã€‚ å®é™…ä¸Šï¼Œå¦‚æœä¸é‡å†™__call__çš„è¯ï¼ŒClass.__call__(*args, **kwargs)è¿˜æ‰¿æ‹…ç€äº§ç”Ÿç±»å®ä¾‹çš„åŠŸèƒ½ 12345678910111213141516171819202122232425262728293031# é»˜è®¤ç»§æ‰¿çš„æ˜¯object, è€Œä¸æ˜¯typeclass Meta: def __init__(self, name): print(\"init\") self.name = name def __call__(self, *args, **kwargs): print(\"call\")# å½“æ²¡æœ‰é‡å†™__call__æ—¶res = Meta.__call__(\"asd\")print(res, type(res))res = Meta(\"asd\")print(res, type(res))\"\"\"init&lt;__main__.Meta object at 0x0000014FB5115EE0&gt; &lt;class '__main__.Meta'&gt;init&lt;__main__.Meta object at 0x0000014FB5115A90&gt; &lt;class '__main__.Meta'&gt;ä¸Šè¿°ä¸¤ç§éƒ½èƒ½åˆ›å»ºå¯¹è±¡\"\"\"# å½“é‡å†™__call__ä»¥å, __call__()è¿”å›å®ä¾‹çš„æ•ˆæœå°±å¤±æ•ˆäº†\"\"\"callNone &lt;class 'NoneType'&gt;init&lt;__main__.Meta object at 0x0000016CC2745EE0&gt; &lt;class '__main__.Meta'&gt;\"\"\"# å½“ç»§æ‰¿typeæ—¶ï¼Œæ‰€æœ‰éƒ½å¤±æ•ˆäº†ï¼Œæ²¡åŠæ³•å†ä»¥__call__å’ŒMeta()æ¥åˆ›å»ºå®ä¾‹äº†\"\"\" res = Meta(\"asd\")TypeError: type.__new__() takes exactly 3 arguments (1 given)\"\"\" Q:æˆ‘ä»¬åœ¨å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™f = Foo(1, y=2)ï¼Œå¯ä»¥å‘ç°åœ¨__init__()ä¸­å¹¶æ²¡æœ‰è¿”å›å®ä¾‹ï¼Œä½†è°ƒç”¨Foo(1, y=2)ç¡®å®è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸”ï¼Œ__init__é¢„æœŸä¸€ä¸ªselfå‚æ•°ï¼Œä½†æ˜¯å½“æˆ‘ä»¬è°ƒç”¨Foo(1, y=2)æ—¶è¿™é‡Œå¹¶æ²¡æœ‰è¿™ä¸ªå‚æ•°ã€‚é‚£ä¹ˆç±»å®ä¾‹åŒ–çš„è¿‡ç¨‹åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿ A:æ„é€ é¡ºåºâ€”â€”ç†è§£pythonçš„ç±»å®ä¾‹åŒ– é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼ŒPythonä¸­çš„ç±»ä¹Ÿæ˜¯å¯¹è±¡ï¼ç±»ã€å‡½æ•°ã€æ–¹æ³•ä»¥åŠå®ä¾‹éƒ½æ˜¯å¯¹è±¡â€”â€”typeçš„å¯¹è±¡ï¼Œå¹¶ä¸”æ— è®ºä½•æ—¶ä½ å°†ä¸€å¯¹æ‹¬å·æ”¾åœ¨å®ƒä»¬çš„åå­—åé¢æ—¶ï¼Œå°±ä¼šè°ƒç”¨å®ƒä»¬çš„__call__æ–¹æ³•ã€‚æ‰€ä»¥Foo(1, y=2)æ˜¯ç­‰ä»·äºFoo.__call__(1, y=2)çš„ã€‚__call__æ–¹æ³•æ˜¯å®šä¹‰åœ¨Fooçš„ç±»ä¸­çš„ã€‚Fooçš„ç±»æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ 12&gt;&gt;&gt; Foo.__class__&lt;class 'type'&gt; æ‰€ä»¥Fooæ˜¯ç±»å‹typeçš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”è°ƒç”¨typeç±»çš„__call__(self, *args, **kwargs)è¿”å›ä¸€ä¸ªFooç±»çš„å¯¹è±¡ã€‚è®©æˆ‘ä»¬çœ‹ä¸‹typeä¸­çš„__call__æ–¹æ³•æ˜¯ä»€ä¹ˆæ ·çš„ã€‚è¿™ä¸ªæ–¹æ³•ç›¸å½“çš„å¤æ‚ï¼Œä½†æ˜¯æˆ‘ä»¬å°è¯•å°½é‡ç®€åŒ–å®ƒã€‚ 12345678910# è¿™è¾¹çš„obj_typeè·Ÿclsä¸€æ ·def __call__(obj_type, *args, **kwargs): # é€šè¿‡__new__åˆ›å»ºä¸€ä¸ªç©ºçš„ç±»å®ä¾‹ï¼Œå¦‚æœobj_typeæ²¡æœ‰__new__åˆ™ä½¿ç”¨type.__new__ obj = obj_type.__new__(*args, **kwargs) # è¿›è¡Œç±»å‹æ£€æŸ¥ if obj is not None and issubclass(obj, obj_type): # å¯¹ç±»è¿›è¡Œ__init__åˆå§‹åŒ– obj.__init__(*args, **kwargs) # è¿”å›ç±»å®ä¾‹ return obj å¯è§__new__æ–¹æ³•ä¸ºå¯¹è±¡åˆ†é…äº†å†…å­˜ç©ºé—´ï¼Œæ„å»ºå®ƒä¸ºä¸€ä¸ªâ€œç©º&quot;å¯¹è±¡ç„¶å__init__æ–¹æ³•è¢«è°ƒç”¨æ¥åˆå§‹åŒ–å®ƒã€‚ æ€»çš„æ¥è¯´ï¼š Foo(*args, **kwargs)ç­‰ä»·äºFoo.__call__(*args, **kwargs) æ—¢ç„¶Fooæ˜¯ä¸€ä¸ªtypeçš„å®ä¾‹ï¼ŒFoo.__call__(*args, **kwargs)å®é™…è°ƒç”¨çš„æ˜¯type.__call__(Foo, *args, **kwargs) type.__call__(Foo, *args, **kwargs)è°ƒç”¨obj_type.__new__(*args, **kwargs)ä¹Ÿå°±æ˜¯type.__new__(Foo, *args, **kwargs)ï¼Œç„¶åè¿”å›ä¸€ä¸ªå¯¹è±¡å®ä¾‹objã€‚ objéšåé€šè¿‡è°ƒç”¨obj.__init__(*args, **kwargs)è¢«åˆå§‹åŒ–ã€‚ objè¢«type.__call__ä¸­è¿”å›ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­£æ˜¯å› ä¸ºéƒ½ç”¨åˆ°äº†åŸå‹typeä¸­çš„__call__ï¼Œå¦‚æœç±»å¯¹__call__è¿›è¡Œäº†å®šä¹‰(æ³¨æ„ä¸æ˜¯é‡å†™ï¼Œprint(dir(Class))æ—¶èƒ½çœ‹åˆ°__call__å¹¶ä¸åœ¨å…¶ä¸­)ï¼Œæ¯”å¦‚ Foo å®šä¹‰äº†ä¸€ä¸ª __call__æ–¹æ³•ï¼ŒFoo.__call__(*args, **kwargs)ä¸å†ç­‰äºFoo(*args, **kwargs) ï¼Œå› ä¸ºå…¶Foo.__call__å®šä¹‰ä¸­æ˜ç¡®æŒ‡å‡ºéœ€è¦ä¸€ä¸ªselfå˜é‡===&gt; å®é™…ä¸Šä¸ç®¡æ˜¯ä¸æ˜¯å®šä¹‰äº†__call__ï¼Œè¿›è¡ŒFoo(*args, **kwargs)åˆ›å»ºå®ä¾‹æ—¶éƒ½è¿›è¡Œäº†type.__call__çš„é€»è¾‘ 1234567891011121314151617181920212223242526class A(type): def __init__(self): print(&quot;init&quot;) def __new__(cls, *args, **kwargs): print(&quot;end&quot;) def __call__(self, *args, **kwargs): print(&quot;A call&quot;) return selfclass Meta(A): passres = type.__new__(Meta, &quot;instance&quot;, (), &#123;&#125;)# å½“Aæœ‰__call__æ—¶ï¼Œres.__call__()å’Œres()éƒ½ä¼šæ‰§è¡Œ__call__é‡Œçš„é€»è¾‘print(res, type(res))print(res.__call__())print(type(res()))&quot;&quot;&quot;&lt;class &apos;__main__.instance&apos;&gt; &lt;class &apos;__main__.Meta&apos;&gt;&lt;class &apos;__main__.instance&apos;&gt;&lt;class &apos;__main__.Meta&apos;&gt;&quot;&quot;&quot;# å½“æ²¡æœ‰__call__æ—¶ï¼Œå°†ä¼šè°ƒç”¨type.__call__åˆ›å»ºä¸€ä¸ªå®ä¾‹&lt;class &apos;__main__.instance&apos;&gt; &lt;class &apos;__main__.Meta&apos;&gt;&lt;__main__.instance object at 0x0000027186E65B20&gt;&lt;class &apos;__main__.instance&apos;&gt;","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"JSé€†å‘-webpackæ‰“åŒ…ç½‘ç«™å®æˆ˜","slug":"JSé€†å‘-webpackæ‰“åŒ…ç½‘ç«™å®æˆ˜","date":"2022-03-23T08:21:50.000Z","updated":"2022-04-03T09:25:42.237Z","comments":true,"path":"2022/03/23/JSé€†å‘-webpackæ‰“åŒ…ç½‘ç«™å®æˆ˜/","link":"","permalink":"https://nymrli.top/2022/03/23/JSé€†å‘-webpackæ‰“åŒ…ç½‘ç«™å®æˆ˜/","excerpt":"","text":"Webpacké€†å‘ webpackæ‰“åŒ…æ˜¯å‰ç«¯jsæ¨¡å—åŒ–å‹ç¼©æ‰“åŒ…å¸¸ç”¨çš„æ‰‹æ®µï¼Œç‰¹å¾æ˜æ˜¾ï¼Œæ¯”å¦‚ä¸‹æ–¹çš„å½¢å¼çš„ä»£ç å°±æ˜¯webpackåˆ†å‘å™¨ 123456// åˆ†å‘å™¨!function(x)&#123; function xx(n)&#123; return ..call(**.exports, ***, ***.exports, xx) &#125;&#125;() åˆæˆ–è€…æ›´ç›´è§‚çš„è¡¨ç°n[â€œxxxâ€]è¿™ç§ï¼Œä½ å¯ä»¥å¤§æ¦‚çŸ¥é“äº†è¿™æ˜¯è°ƒç”¨äº†webpackæ‰“åŒ…çš„jsæ¨¡å—ä»£ç ã€‚ webpackæ‰“åŒ…åJSä¾èµ–æ¨¡å—ä»£ç çš„å›ºå®šç»“æ„ï¼š 12345678(this[\"webpackJsonpzsgk-pc\"] = this[\"webpackJsonpzsgk-pc\"] || []).push([[15], [function(e, t, n) &#123; \"use strict\"; e.exports = n(693)&#125;// å‚æ•°å›ºå®šä¸ºe, t, n, function(e, t, n) &#123; e.exports = n(697)()&#125; è¯´ä¸ªé€†å‘webpackçš„é€šç”¨æ–¹æ³•ï¼š å…ˆå»æ‰¾åŠ å¯†ç½‘ç«™çš„åŠ å¯†å…¥å£ã€‚è¿™åº”è¯¥æ˜¯åŠ å¯†ç½‘ç«™éƒ½å¿…é¡»è¦åšçš„==&gt; ç›´æ¥æ ¹æ®å‚æ•°åæœç´¢å‚æ•° æ‰¾åˆ°åˆ†å‘å™¨çš„ä½ç½®ï¼Œæˆ–è€…è¯´æ˜¯åŠ è½½å™¨ï¼Œn[â€œxxxâ€]è¿™ç§çš„nå°±æ˜¯åˆ†å‘å™¨ï¼Œå°±æ¯”å¦‚ä¸‹æ–¹ä¸­çš„exportsçš„ä½ç½®ï¼Œæœ€åæ‰§è¡Œäº†då‡½æ•°==&gt;ä¸€èˆ¬æ˜¯runtimexxx.jsä¸­(æä¾›ç¯å¢ƒ)ï¼›ä¸€èˆ¬ä»¥! function(e) {çš„å½¢å¼å‡ºç° å¯»æ‰¾åˆ†å‘ç¼–å·ã€åŠ å¯†ä½¿ç”¨æ¨¡å—ï¼ˆç”¨åˆ°äº†å“ªäº›æ¨¡å—å°±å¯¼å…¥å“ªäº›æ¨¡å—ï¼‰==&gt;ä¸€èˆ¬åœ¨chunk-lib.jsï¼Œä»¥(window.webpackJsonp = window.webpackJsonp || []).push([çš„å½¢å¼å‡ºç° å°†å‡½æ•°å…¥å£çš„åœ°æ–¹è¿”å›å…¨å±€å˜é‡ï¼Œæœ€ç»ˆè¿”å›: var sign; var window = global;!function(){... sign = d}ï¼Œ èµ‹å€¼ä¸ºåˆ†å‘å™¨è¿”å›çš„d ä½¿ç”¨è‡ªå®šä¹‰çš„signä»£æ›¿webpackä»£ç ä¸­çš„nè¿›è¡ŒåŠ å¯† from: https://blog.csdn.httpsğŸ˜•/blog.csdn.net/weixin_41586984/article/details/116268341net/weixin_41586984/article/details/116268341 è°ƒè¯•æŠ€å·§ å®šä½è¯·æ±‚å‚æ•° æ‰“å¼€å¼€å‘è€…å·¥å…·åï¼ŒF5åˆ·æ–°åCtrl + Shift + Fæœç´¢å‚æ•°åï¼Œå¦‚signdataï¼Œä¼šæ˜¾ç¤ºå¤šä¸ªJSæ–‡ä»¶ï¼Œé€‰æ‹©åä»”ç»†æŸ¥çœ‹(ç‚¹å‡»å·¦ä¸‹è§’{}ç¾è§‚æ ¼å¼åŒ–æŒ‰é’®)ã€‚ moreï¼š å¦‚æœæ–‡ä»¶å¤ªå¤šï¼Œåˆ™ç›´æ¥é€šè¿‡è¯·æ±‚çš„é“¾æ¥å»æ‰¾ï¼Œæ¯”å¦‚user/login Networkæ‰¾åˆ°æ–°å‘å‡ºçš„xhræ¡ç›®åï¼ŒæŸ¥çœ‹Initiatoré‡Œçš„è°ƒç”¨æ ˆä¿¡æ¯ï¼Œå¦‚Loginï¼› æ³¨ï¼š å¦‚æœåŠ å¯†å‚æ•°åç§°æ¯”è¾ƒç®€å•å¦‚sï¼Œæ¯”è¾ƒéš¾å®šä½çš„è¯ï¼Œå¯ä»¥å€ŸåŠ©è¯·æ±‚çš„å…¶ä»–å‚æ•°æ¥æŸ¥æ‰¾ï¼Œæ¯”å¦‚verificationCode è°ƒè¯•å·¥å…· æ–­ç‚¹è°ƒè¯•breakpoints XHRæ–­ç‚¹ï¼š XHR/fetch breakpoints é™„å½•-Jsè®°å½• æ—¶é—´æˆ³: (new Date).getTime() var a = (f1(), f2(), f3())åï¼Œf1ã€f2ã€f3å‡½æ•°éƒ½ä¼šæ‰§è¡Œï¼Œè€Œaæœ€åçš„ç»“æœä¸ºf3çš„è¿”å›å€¼ javascript:void(0): void æ˜¯ JavaScript ä¸­éå¸¸é‡è¦çš„å…³é”®å­—ï¼Œè¯¥æ“ä½œç¬¦æŒ‡å®šè¦è®¡ç®—ä¸€ä¸ªè¡¨è¾¾å¼ä½†æ˜¯ä¸è¿”å›å€¼ã€‚ TypeError: window.btoa is not a function btoa-atob æ¨¡å—æ²¡æœ‰è¾“å‡ºä¸€ä¸ªç¼–ç¨‹æ¥å£ï¼Œå®ƒåªæä¾›å‘½ä»¤è¡Œå·¥å…·ã€‚ å¦‚æœä½ éœ€è¦è½¬æ¢ä¸ºBase64ï¼Œä½ å¯ä»¥ç”¨Bufferæ¥å®Œæˆã€‚ 1console.log(Buffer.from('Hello World!').toString('base64')); ç›¸åçš„ï¼Œå‡è®¾ä½ è¦è§£ç çš„å†…å®¹æ˜¯ä¸€ä¸ªbase64ç¼–ç è¿‡çš„å­—ç¬¦ä¸²ã€‚ 1console.log(Buffer.from(b64Encoded, 'base64').toString()); åšé¢˜è®°å½• n[â€œstrâ€]é¢˜å‹ï¼š å¤©å®‰è´¢é™© var m = this.newEncrypt(JSON.stringify(h)); éœ€è¦å¯¹this.privaKeyçš„å€¼ç»†åŒ–ä¸‹ï¼Œä¼ å…¥æ‹¿åˆ°å›ºå®šçš„str 123456789101112// , p = t(\"NFKh\") , s = t(\"cg2h\")l.prototype.newEncrypt = function(l) &#123; var n = p.enc.Utf8.parse(this.privaKey) , t = p.enc.Utf8.parse(this.privaKey) , e = p.enc.Utf8.parse(l) , a = p.AES.encrypt(e, n, &#123; iv: t, mode: p.mode.CBC, padding: p.pad.Pkcs7 &#125;); return p.enc.Base64.stringify(a.ciphertext) &#125; è´¢æ–°ç½‘ password: this.encode(this.encrypt(this.form.password)), c = a(&quot;3452&quot;)ã€n = a.n(c)ï¼Œçœ‹åˆ°éœ€è¦ä¾èµ–3452åç«‹é©¬Ctrl+shift+Få…¨å±€æœ3452ï¼Œç„¶åæŠŠæ•´ä¸ªwebpackæ¨¡å—æ‰’ä¸‹æ¥ ä¸­è¿œæµ·è¿ n(â€œMuMZâ€)ä¸­åˆæœ‰r = n(&quot;XBrZ&quot;);ï¼Œåœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œmoduleéœ€è¦æ”¾ä¸¤ä¸ª å¤©ç¿¼äº‘ï¼š var t = encodeURIComponent(c[&quot;c&quot;].Des.encrypt(this.form.email, this.form.pwd)), webpackå®ç° c = (mycode(&quot;ac6a&quot;), mycode(&quot;b3ae&quot;)) åˆ†å‘å™¨å’Œac6aæ¨¡å—åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ã€è€Œac6aæ¨¡å—ä¾èµ–æ¨¡å—åœ¨å¦ä¸€ä¸ªæ–‡ä»¶å†…ï¼› åˆ†å‘å™¨()({})ï¼Œæ— æ„Ÿå¹å· åˆ†å‘å™¨()({})å¤§æ‹¬å·ä¸­è‡ªå¸¦è¾ƒå¤šä¾èµ–æ¨¡å— è‡ªå·±å®ç°ï¼šç›´æ¥æ‰’ä¸‹æ¥encryptåŠ å¯†çš„JSå†…å®¹ çœ‹å‡†ç½‘ åˆ†å‘å™¨n(â€œxxxâ€)å®šä½åè·Ÿä¸€èˆ¬çš„å›ºå®šæ ¼å¼è¿”å›aã€nã€rä¸åŒï¼Œå†™çš„æ˜¯ä¸ªå‡½æ•°==&gt;è¿˜æ˜¯å¯ä»¥æ ¹æ®obj.Funcæ¥èµ‹å€¼mycode = obj; JSé€†å‘å®æˆ˜åˆ†æâ€“çœ‹å‡†ç½‘webpackåŠ è§£å¯†åˆ†æâ€”â€”Pythonä¸­ä½¿ç”¨execjsç¤ºèŒƒ ä¼åç‰‡ u = i(&quot;x4Ab&quot;) return e.encrypt_data &amp;&amp; (e.data = Object(u.a)(e.encrypt_data)), x4Abæ¨¡å—ä¾èµ–aqBwï¼ŒaqBwåˆä¾èµ–YuTiã€yLpjï¼Œå› æ­¤ä¾èµ–é¡¹ä¸­æ”¾&quot;x4Ab&quot;ã€â€œaqBwâ€ã€â€œYuTiâ€ã€&quot;yLpj&quot;å‡½æ•°å®šä¹‰ æ¨¡æ‹Ÿè§£æå‡½æ•° 123function encrypt(data)&#123; return data &amp;&amp; (Object(u.a)(data))&#125; n[num]é¢˜å‹ï¼š å¤§éº¦ åˆ é™¤åˆ†å‘å™¨å¤šä½™ä»£ç  var navigator = {} æŒä¸Šé«˜è€ƒï¼š åˆ†å‘å™¨åœ¨htmlæ–‡ä»¶å†… o = (u=a(42), a.n(u))ï¼Œä½¿ç”¨åˆ°äº†a.n(u)å³ç‚¹nå‡½æ•° ä¾èµ–å‡½æ•°çš„ç»™å‡ºæ˜¯ä»¥æ•°ç»„çš„å½¢å¼ï¼Œè€Œä¸æ˜¯å­—å…¸çš„å½¢å¼ æ¨¡å—ä¸­ä¾èµ–æ›´å¤šæ¨¡å—==&gt;å¼•å…¥æ•´ä¸ªæ¨¡å—æ–‡ä»¶ï¼Œä½†æ˜¯è·Ÿ&quot;xxx&quot;æ¨¡å¼ä¸åŒçš„æ˜¯ï¼Œç”±äºæ²¡æœ‰ç”¨å­—å…¸{&quot;xxx&quot;: function()}çš„å½¢å¼ï¼Œå› æ­¤ç›´æ¥requireä¹Ÿæ²¡ç”¨TypeError: Cannot read property '42' of undefinedï¼Œè€Œæ˜¯å°†ä¾èµ–æ¨¡å—æ•°ç»„ä½œä¸ºå‚æ•°å†™å…¥åˆ°åˆ†å‘å™¨ä¾èµ–å‡½æ•°ä¸­!function(e){}([...])å³æ–¹æ‹¬å·ä¸­ï¼Œä»è€Œæ‰èƒ½æ‰¾åˆ°42å‡½æ•° é…·æˆ‘ t.data.reqId = n, ç›´æ¥é€šè¿‡n(109)å®šä½å¯èƒ½ä¸é‚£ä¹ˆå‡†ç¡®(åŒå‡»åå®šä½çš„å‡½æ•°)ï¼Œå¯ä»¥è¯•ç€ç›´æ¥åœ¨åˆ†å‘å™¨ä½ç½®è¿›è¡Œæ–­ç‚¹ï¼Œç„¶åconsoleè¾“å‡ºe[â€œ109â€] åªè¦åˆ†å‘å™¨å®šä¹‰éƒ¨åˆ†(å…¶ä»–çš„åˆ äº†ï¼Œå› ä¸ºåªç”¨äº†l=n(109)ã€c=n.n(l))+ä¾èµ–æ¨¡å—ä¸­å®šä¹‰109å‡½æ•°(æ•´ä¸ªfunctionè€Œä¸æ˜¯t.exports)ï¼Œä»¥åŠè§‚å¯Ÿå…¶ä¸­è¿˜ä¾èµ–ä»€ä¹ˆå¦‚n(202)ã€n(203)å°±è¡¥å……æ‹¿ä»€ä¹ˆ n.n(l)æ˜¯ä¼ å…¥ä»€ä¹ˆå°±è¿”å›ä»€ä¹ˆ:https://www.bilibili.com/video/BV1gq4y1D781?from=search&amp;seid=7720105602891609746&amp;spm_id_from=333.337.0.0 12345678910// å¦‚æœä¸åˆ åˆ†å‘å™¨ä¸­å…¶ä»–éƒ¨åˆ†l = mycode(109)c = mycode.n(l) // ==&gt;å¾—åˆ°lvar r = c()();console.log(r)// ç”±äºåªç”¨åˆ°äº†n.n(l)ï¼Œæ‰€ä»¥å¯ä»¥åˆ åˆ†å‘å™¨å¤§ä»£ç ä¸­å…¶ä»–éƒ¨åˆ†, åœ¨ä½¿ç”¨æ—¶ç›´æ¥è®©c=ll = mycode(109)c = l();console.log(c) // ç­‰ä»·äº r = l(); console(r) æ–‡ç« : https://blog.csdn.net/weixin_43189702/article/details/119860838 æ³¨æ„ï¼š requireæ¨¡å—å†…å®¹å¯ä»¥æ”¾åœ¨é€†å‘JSæ–‡ä»¶é‡Œä¸€èµ·ï¼Œè€Œä¸æ˜¯ä¸€å®šå¾—åˆ›å»ºæ–°çš„JSæ–‡ä»¶å¯¼å…¥ å…ˆç™»å½•ç„¶åæ‰¾åˆ°åŠ å¯†å¤„åŠ æ–­ç‚¹ï¼Œè¿™ä¸ªæ–­ç‚¹ä¼šåœ¨å‘èµ·ç™»å½•è¯·æ±‚æ—¶æ‰è§¦å‘ï¼›å¾€ä¸Šæ‰¾åˆ†å‘å™¨ï¼ŒåŠ ä¸Šæ–­ç‚¹ï¼Œåˆ†å‘å™¨ä½ç½®çš„æ–­ç‚¹æ˜¯åœ¨é¡µé¢åˆ·æ–°æ—¶è§¦å‘ï¼Œå› æ­¤è¦è§¦å‘è¿™ä¸ªæ–­ç‚¹éœ€è¦åˆ·æ–°é¡µé¢ æ‰¾åŠ å¯†å‡½æ•°c[&quot;c&quot;].Des.encrypt(this.form.email, this.form.pwd)çš„æ—¶å€™ï¼Œæ‰¾å®Œæ•´çš„å‡½æ•°å¦‚c[â€œcâ€].Des.encryptï¼Œè€Œä¸æ˜¯ç›´æ¥æ‰¾c n(42), æˆ–è€…n(â€œxxxâ€)ï¼Œå¯ä»¥ç›´æ¥æœxxxï¼Œä¹Ÿå¯ä»¥åœ¨consoleé‡Œé¢è¾“å‡ºåæ‰¾åˆ°å¯¹åº”çš„FunctionLocationæ¥å¿«é€Ÿå®šä½ å¦‚æœä¾èµ–æ¨¡å—æ˜¯å­—å…¸çš„å½¢å¼ï¼Œåˆ™åˆ†å‘å™¨ä¾èµ–ä¸­å†™å­—å…¸ï¼Œå¦‚!function(e){..}({ 32:function(){...}})ï¼ˆä¸€èˆ¬æƒ…å†µn(32)ã€n(&quot;ABCD&quot;)ï¼‰ï¼Œ å¦‚æœä¸æ˜¯åˆ™éœ€è¦ä¼ å‡½æ•°æ•°ç»„ï¼Œå¦‚n(42)ï¼Œæ­¤å¤„42è¡¨ç¤ºçš„æ˜¯ç¬¬42ä¸ªå‡½æ•°ï¼Œè§æŒä¸Šé«˜è€ƒã€‚ var mycode;åèµ‹å€¼çš„ä½ç½®ç›´æ¥åœ¨åˆ†å‘å™¨çš„ä¸‹æ–¹å³å¯ï¼Œä¸ç”¨åœ¨æœ€åé¢ æç¤ºç¼ºå°‘windowæ—¶ï¼Œå®šä¹‰å…¨å±€å˜é‡var window = global;ï¼Œï¼ˆJSé€†å‘æ–‡ä»¶ã€ä¾èµ–æ–‡ä»¶ï¼‰ windowè¡¨ç¤ºæµè§ˆå™¨æ‰“å¼€çš„çª—å£ï¼Œåœ¨å®¢æˆ·ç«¯JavaScriptä¸­windowå¯¹è±¡æ˜¯å…¨å±€çš„å¯¹è±¡ï¼Œæ‰€æœ‰ JavaScript å…¨å±€å¯¹è±¡ã€å‡½æ•°ä»¥åŠå˜é‡å‡è‡ªåŠ¨æˆä¸º window å¯¹è±¡çš„æˆå‘˜ã€‚ä½†åœ¨nodejsä¸­ç›´æ¥è°ƒç”¨windowæ˜¯ä¸å­˜åœ¨çš„ï¼Œè€Œä»£æ›¿çš„æ˜¯globalï¼Œæ‰€ä»¥è¦ç”¨nodejsè¿è¡Œæ—¶ï¼Œå¾—ç”¨var window = global; var navigator = thisç­‰ä»·äºvar navigator = {}ï¼Œå› ä¸ºåœ¨NodeJSæ–‡ä»¶ä¸­è¿è¡Œè¾“å‡ºthisåå¯ä»¥å‘ç°this={}ï¼Œè€Œåœ¨æµè§ˆå™¨ä¸­thisé»˜è®¤ä¸ºwindowï¼ˆå‡½æ•°æˆ–ç±»ä½œç”¨åŸŸå†…ä¸ºå‡½æ•°æˆ–è€…ç±»å®ä¾‹ï¼‰ fromï¼šJSä¸­documentå’Œwindowçš„åŒºåˆ« å¿ƒå¾— â‘ æ‰€æœ‰webpackæ‰“åŒ…çš„çš„jséƒ½è¦å…ˆçœ‹æ‡‚æ‰“åŒ…åä»£ç è¿è¡Œçš„é¡ºåºï¼Œæ‰¾åˆ°åŠ å¯†å¤„ï¼›â‘¡æ‰¾åˆ°webpackå¯¹è±¡ï¼Œä¸€èˆ¬æ˜¯ n(æ•°å­—) è°ƒç”¨â‘¢ç¡®å®šåˆ†å‘å™¨ã€‚â‘£æ‰¾ä¾èµ–æ¨¡å—ï¼Œæœ‰æ—¶å€™å„åŒ…çš„ä¾èµ–å…³ç³»å¤ªå¤šï¼Œå¯ä»¥ç›´æ¥æŠŠæ–‡ä»¶çˆ¬ä¸‹æ¥å¼•å…¥ï¼Œå¦‚æœå„ä¸ªåŒ…çš„ä¾èµ–å…³ç³»ä¸å¤šï¼Œå°±å¯ä»¥åªæŠŠè°ƒç”¨åˆ°çš„å‡½æ•°æ‰¾å‡ºæ¥æ”¾åˆ°ä¾èµ–ä¸­ã€‚â‘¤æœ€åå‰©ä¸‹çš„å°±æ˜¯æ‰¾åˆ°ä½ è¦çš„ä»£ç ï¼Œæ…¢æ…¢å¤ç°è°ƒç”¨åŠ å¯†/è§£å¯†å‡½æ•°å°±å¥½äº†ã€‚ åšé¢˜æ¡ˆä¾‹å­¦ä¹ è§†é¢‘ webpackå¸ˆæ‰¿ï¼šçˆ¬å–webpackæµç¨‹-è§†é¢‘â€”â€”å¤§å¤šéƒ½æ˜¯n(â€œXvmdâ€) è€Œå¦‚æœnä¸­è°ƒç”¨çš„ä¸æ˜¯å­—å…¸çš„å½¢å¼ï¼Œè€Œæ˜¯åˆ—è¡¨çš„å½¢å¼ï¼Œåˆ™çœ‹jsé€†å‘å®‰å…¨æŒ‡å—ï¼ˆ3ï¼‰-- webpackè§£åŒ…æŒ‡å—ã€ä½¿ç”¨ webpack çš„ js åŠ å¯†å‚æ•°çš„åˆ†æâ€”â€”é…·æˆ‘ è¿›é˜¶èµ„æ–™ 9-çˆ¬è™«é«˜çº§å®æˆ˜ã€jsé€†å‘ã€‘ JSé€†å‘å­¦ä¹ ç¬”è®° - æŒç»­æ›´æ–°ä¸­ webpackè¡¥å……ä¾èµ–é¡¹åšæ³•ï¼š https://www.jianshu.com/p/5c42730a4e84 webpack4ä¹‹ã€Šæ¨¡å—è¿è¡Œæœºåˆ¶åŸç†ã€‹ JSé€†å‘è§†é¢‘ çˆ¬è™«å·¥ç¨‹å¸ˆè¿›é˜¶å¿…ä¼šä¹‹JSé€†å‘(åçˆ¬) é‡åˆ°ç½‘ç«™åŠ å¯†çˆ¬ä¸äº†ï¼Ÿï¼Ÿè¿™å‡ ä¸ªè§†é¢‘æ•™ä½ å¦‚ä½•å­¦ä¼šçˆ¬è™«é«˜é˜¶å†…å®¹jsé€†å‘ï¼Œå…¥ç‹±å¿…å­¦ï¼ æŒä¸Šé«˜è€ƒè§£å¯†è¿‡ç¨‹ è§£æå“åº”data.text ç›¸åº”çš„data.textæ˜¯åŠ å¯†çš„ï¼Œé¡µé¢é€šè¿‡JSè§£å¯†åæ¸²æŸ“ ç¡®å®šåŠ å¯†ä½ç½® 12345return null != l &amp;&amp; null !== (a = l.data) &amp;&amp; void 0 !== a &amp;&amp; a.text &amp;&amp; (l.data = (n = (e = &#123; iv: u.uri, text: l.data.text, SIGN: h &#125;).iv, ç¡®å®šåˆ†å‘å™¨ä½ç½®ï¼Œåœ¨htmlå†… é€šè¿‡æ‰“æ–­o = (u=a(42), a.n(u)) // ç­‰ä»·äº o = a(42) ç¡®å®šä¾èµ–æ¨¡å—ï¼šç»™return e[a].call(c.exports, c, c.exports, r),æ‰“æ–­ç‚¹åconsoleè¾“å‡ºe[&quot;42&quot;]æŸ¥çœ‹a(42)ä½ç½®ï¼š 12345678function(e, t, n) &#123; e.exports = (e = n(21), n(201), n(825), ... n(847), e)&#125; å¯ä»¥çœ‹åˆ°éœ€è¦ä¾èµ–å¤šä¸ªï¼Œå› æ­¤ç›´æ¥æŠŠæ•´ä¸ªæ–‡ä»¶å¼•å…¥ æ‰£è§£å¯†å‡½æ•°ï¼šæ³¨æ„returnè¡¨è¾¾å¼åæ˜¯é€—å·çš„æƒ…å†µï¼šä¼šä»å·¦åˆ°å³æ‰§è¡Œæ‰§è¡Œï¼Œå¹¶è¿”å›æœ€åä¸€ä¸ªã€‚æ³¨æ„ï¼šJSå‡½æ•°å¹¶ä¸èƒ½è¿”å›å¤šä¸ªè¿”å›å€¼ 12345678910111213141516171819202122232425262728293031323334then((function(l) &#123;var e, a, t, b, n;return null != l &amp;&amp; null !== (a = l.data) &amp;&amp; void 0 !== a &amp;&amp; a.text &amp;&amp; (l.data = (n = (e = &#123; iv: u.uri, text: l.data.text, SIGN: h &#125;).iv, a = e.text, e = e.SIGN, e = o.a.PBKDF2(e, \"secret\", &#123; keySize: 8, iterations: 1e3, hasher: o.a.algo.SHA256 &#125;).toString(), n = o.a.PBKDF2(n, \"secret\", &#123; keySize: 4, iterations: 1e3, hasher: o.a.algo.SHA256 &#125;).toString(), a = o.a.lib.CipherParams.create(&#123; ciphertext: o.a.enc.Hex.parse(a) &#125;), n = o.a.AES.decrypt(a, o.a.enc.Hex.parse(e), &#123; iv: o.a.enc.Hex.parse(n) &#125;), // data.textè§£æç»“æœ JSON.parse(n.toString(o.a.enc.Utf8)))), v &amp;&amp; (t = r, b = l, null !== (n = window.apiConfig) &amp;&amp; void 0 !== n &amp;&amp; null !== (n = n.filterCacheList) &amp;&amp; void 0 !== n &amp;&amp; n.length ? window.apiConfig.filterCacheList.forEach((function(l) &#123; new RegExp(l).test(t) || d.set(t, b) &#125;)) : d.set(t, b)), l&#125; éš¾ç‚¹ï¼š è·Ÿ&quot;xxx&quot;æ¨¡å¼ä¸åŒçš„æ˜¯ï¼Œç”±äºæ²¡æœ‰ç”¨å­—å…¸{&quot;xxx&quot;: function()}çš„å½¢å¼ï¼Œå› æ­¤ç›´æ¥requireä¹Ÿæ²¡ç”¨TypeError: Cannot read property '42' of undefinedï¼Œè€Œæ˜¯å°†ä¾èµ–æ¨¡å—å‡½æ•°æ•°ç»„ä½œä¸ºå‚æ•°å†™å…¥åˆ°åˆ†å‘å™¨ä¾èµ–å‡½æ•°ä¸­!function(e){}([...])å³æ–¹æ‹¬å·ä¸­ï¼Œä»è€Œæ‰èƒ½æ‰¾åˆ°42å‡½æ•° æŒ‘é€‰pushåç¬¬äºŒä¸ª[]ä¸­çš„å‡½æ•°æ•°ç»„ 1234567(this[\"webpackJsonpzsgk-pc\"] = this[\"webpackJsonpzsgk-pc\"] || []).push([[15], [function(e, t, n) &#123; \"use strict\"; e.exports = n(693)&#125;, ... &#125;]]); // ç¬¬ä¸€ä¸ª] ç†è§£äº†a.nçš„å«ä¹‰åï¼Œå¯ä»¥ç›´æ¥æŠŠo = (u=a(42), a.n(u))è½¬åŒ–ä¸ºo=a(42) è·å¾—åŠ å¯†å‚æ•°signsafe å¤§è‡´æµç¨‹è·Ÿdata.textå·®ä¸å¤šï¼Œä½†æ˜¯p = c()(g)æ‰§è¡Œæ—¶ï¼Œä¼šæŠ¥é”™ 12345678&gt; Md5.prototype.update = function(e) &#123;&gt; if (!this.finalized) &#123;&gt; var t, n = typeof e;&gt; if (\"string\" != n) &#123;&gt; if (\"object\" != n)&gt; throw ERROR;&gt; if (null === e)&gt; æ ¹æ®ä¸€æ­¥æ­¥è°ƒè¯•ä¹‹åå‘ç°ï¼Œè¿˜æ˜¯c = (u=a(291),a.n(u))ç›´æ¥æ›¿æ¢å‡ºçš„é—®é¢˜ Ctrl + shift + Få®šä½å‚æ•° 12345678910g = void 0, g = (t = &#123; SIGN: h, str: f.replace(/^\\/|https?:\\/\\/\\/?/, \"\")&#125;).SIGN, t = t.str, g = o.a.HmacSHA1(o.a.enc.Utf8.parse(t), g), g = o.a.enc.Base64.stringify(g).toString(), p = c()(g), u.signsafe = p, å¾€ä¸Šæ‰¾cå’Œo.a: o = (u = a(42),a.n(u)), c = (u = a(291),a.n(u)) æ‰¾åˆ°åˆ†å‘å™¨æ‰£å‡º==&gt;è¿™æ¬¡ä¸èƒ½åˆ é™¤åˆ†å‘å™¨ä¸­å¤šä½™çš„å‡½æ•°ï¼Œæ¯”å¦‚r.aã€r.dã€r.nå› ä¸ºåé¢å¾—ç”¨ å°†ä¾èµ–æ¨¡å—è·Ÿdata.textä¸€æ ·ï¼Œæ”¾å…¥åˆ†å‘å™¨ä¾èµ–æ¨¡å—ä¸­ æ‰£åŠ å¯†å‡½æ•° ç½‘é¡µä¸Šæ˜¯returnåå¤šæ®µå†…å®¹ï¼Œä»¥åŠgå˜é‡ä¸æ–­è¢«ä¿®æ”¹ï¼Œå› æ­¤é€šè¿‡ä¸€æ­¥æ­¥è°ƒè¯•ç¡®å®šå…¥å‚ï¼Œä»¥åŠåˆ†è§£returnæŠ½ç¦»å‡ºçœŸæ­£çš„åŠ å¯†å‚æ•°signsafe 123456789101112131415161718192021222324252627h = \"D23ABC@#56\"var o = &#123;&#125;o.a = mycode(42)// â–²c = (u = mycode(291), mycode.n(u))/** * å¯¹urlè¿›è¡ŒåŠ å¯† */function encrypt(f) &#123; g = (t = &#123; SIGN: h, str: f.replace(/^\\/|https?:\\/\\/\\/?/, \"\") &#125;).SIGN, t = t.str; // console.log(t, g); g = o.a.HmacSHA1(o.a.enc.Utf8.parse(t), g); // console.log(g) g = o.a.enc.Base64.stringify(g).toString(); // console.log(g) p = c()(g); return p;&#125;res = encrypt(\"https://api.eol.cn/web/api/counter?cid=1&amp;did=263\")console.log(res) å¯ä»¥çœ‹åˆ°o.aå’Œcçš„èµ‹å€¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œè™½ç„¶è¯´å¤§å¤šæ•°æƒ…å†µx = a.n(u)ç­‰ä»·äºx=uï¼Œä½†éš¾å…æœ‰æ—¶ä¼šæœ‰ä¸ä¸€æ ·ï¼Œå› æ­¤è°¨æ…æœŸé—´ï¼Œè¿˜æ˜¯è¿˜åŸåˆ°åº•æœ€å¥½ã€‚ Pythonè°ƒç”¨ 123456789import execjsdef get_signsafe_by_javascript(url): # ä¸¤ä¸ª JavaScript è„šæœ¬ï¼Œä¸¤ç§æ–¹æ³•å‡å¯ with open('gk_signsafe.js', 'r', encoding='utf-8') as f: exec_js = f.read() signsafe = execjs.compile(exec_js).call('encrypt', url) return signsafesignsafe = get_encrypted_password_by_javascript(\"https://api.eol.cn/web/api/counter?cid=1&amp;did=263\")print(signsafe) RSAçš„åŠ å¯†æ­¥éª¤ è·å–å…¬é’¥ å®ä¾‹åŒ– ===&gt; æ‰£å‡ºç½‘ç«™RSAå®ä¾‹åŒ–å¯¹è±¡çš„ä»£ç  è®¾ç½®å…¬é’¥ å¯¹æ–‡æœ¬è¿›è¡ŒåŠ å¯† ==&gt; æ‰£å‡ºå¤ç°RSAåŠ å¯†çš„é€»è¾‘ä»£ç  æ³¨ï¼š var window=globalã€var navigator={} Bç«™RSAï¼š 1234567// window.JSEncrypt is not a constructor åœ¨æŠ å‡ºæ¥çš„JS Encryptä»£ç ä¸­åŠ ä¸Šwindow.JSEncrpt = ze// ç½‘é¡µä¸­ä½var n = new JSEncrypt ==&gt; JSEncrypt is not definedvar n = new window.JSEncrypt;n.setPublicKey...var a = n.encrypt(t.data.hash + password);console.log(a) ç½‘æ˜“äº‘çˆ¬è¯„è®ºï¼špythoné€šè¿‡execjsæ¥è°ƒç”¨JSä»£ç ï¼Œä»£ç ä¸­ç”¨åˆ°äº†CryptoJSåº“ï¼Œ éœ€è¦os.environ[&quot;NODE_PATH&quot;]=&quot;F:/..../node_modules&quot;æŠŠåº“å¯¼å…¥ JSé€†å‘å®æˆ˜åˆ†æâ€“æŸé“ç½‘åˆ†æï¼šdocumentè¿”å›ç±»å‹ï¼Œinitiatoræ˜¯ä¸€æ¡æ¡æ–‡æœ¬(Other)ï¼Œå› ä¸ºå…¶æ²¡æœ‰ç”¨ajax(XHR)ï¼Œè€Œæ˜¯é€šè¿‡åŸç”Ÿçš„ç½‘é¡µè¡¨å•æäº¤ 12loginForm.password.value = encryptByDES(loginForm.password.value), loginForm.publickey.value);loginForm.submit(); ç›´æ¥requireå¯¼å…¥CryptoJSæ¨¡å— orç›´æ¥æ‰£encryptByDESçš„åŠ å¯†å‡½æ•°==&gt;å‡ºç°cannot read property 'createEncryptor' of undefined MD5åŠ å¯†ï¼š JS: const crypto = require(&quot;CryptoJS&quot;); crypto.MD5('å¾…åŠ å¯†å­—ç¬¦ä¸²').toString() Python: https://blog.csdn.net/weixin_44799217/article/details/112486097 12345678# æ³•ä¸€ï¼šåˆ›å»ºmd5å¯¹è±¡hl = hashlib.md5()# Tips# æ­¤å¤„å¿…é¡»å£°æ˜encodeï¼Œè‹¥å†™æ³•ä¸ºhl.update(str) æŠ¥é”™ä¸ºï¼š Unicode-objects must be encoded before hashinghl.update(str.encode(encoding='utf-8'))# æ³•äºŒï¼šstr_md5 = hashlib.md5(str.encode(encoding='utf-8')).hexdigest() base64ç¼–ç  JS: CryptoJS.enc.Base64.parse(&quot;å¾…è§£å¯†å­—ç¬¦ä¸²&quot;).toString(CryptoJS.enc.Utf8) Python 12345678910# å­—ç¬¦ä¸²encode_str = base64.encodebytes(test_str.encode('utf8')) # b'aGVsbG8gd29ybGQh\\n'print(encode_str.decode()) # é»˜è®¤ä»¥utf8è§£ç ï¼Œç»“æœ aGVsbG8gd29ybGQh# å›¾ç‰‡with open(\"D:\\\\redis.png\", 'rb') as f: encode_img = base64.b64encode(f.read()) file_ext = os.path.splitext(\"D:\\\\redis.png\")[1] print('data:image/&#123;&#125;;base64,&#123;&#125;'.format(file_ext[1:], encode_img.decode())) f.close() åŠ å¯†ã€æ‘˜è¦ç®—æ³•ç»“æœç‰¹å¾ urlencode urlencodeæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯å°†å­—ç¬¦ä¸²ä»¥URLç¼–ç ï¼Œç”¨äºç¼–ç å¤„ç†ã€‚ URLç¼–ç (URL encoding)ï¼Œä¹Ÿç§°ä½œç™¾åˆ†å·ç¼–ç (Percent-encoding)ï¼Œ æ˜¯ç‰¹å®šä¸Šä¸‹æ–‡çš„ç»Ÿä¸€èµ„æºå®šä½ç¬¦ (URL)çš„ç¼–ç æœºåˆ¶ã€‚ Base64ç‰¹å¾ æœ€å¸¸è§çš„ç”¨äºä¼ è¾“8Bitå­—èŠ‚ç çš„ç¼–ç æ–¹å¼ä¹‹ä¸€ ç›¸åŒå†…å®¹ï¼Œç»“æœæ˜¯ç›¸åŒçš„ a-zA-Z,0-9,+/å…±64ä¸ªå­—ç¬¦è¿›è¡Œç¼–ç ï¼›æ¯3ä¸ªå­—èŠ‚ç¼–ç æˆ4ä¸ªå­—èŠ‚ï¼Œä¸è¶³çš„åœ¨ç»“å°¾æœ‰æ— æ„ä¹‰çš„**=**æ¥å¡«è¡¥ ä¸€èˆ¬æƒ…å†µä¸‹ç»“å°¾éƒ½ä¼šæœ‰1ä¸ªæˆ–è€…2ä¸ªç­‰å·ï¼Œæ˜æ–‡é•¿åº¦æ˜¯3çš„å€æ•°æ—¶æ²¡æœ‰=ï¼› å†…å®¹è¶Šé•¿ï¼Œç»“æœè¶Šé•¿ æ³¨ï¼šè·Ÿä¸‹é¢çš„ç®—æ³•åŒºåˆ†ä¸€ä¸‹ï¼Œbase64æ˜¯ç¼–ç æ–¹å¼ï¼Œå¹¶ä¸èƒ½ç®—åŠ å¯†ç®—æ³•ã€‚åº”ç”¨åœºæ™¯è¿˜æœ‰ä¼ è¾“å›¾ç‰‡:data:image/jpg;base64,/9j/4QMZRXhpZgAASUk... md5ç‰¹å¾ æ¶ˆæ¯æ‘˜è¦ç®—æ³• ç¡®å®šå”¯ä¸€æ€§ï¼šç›¸åŒå†…å®¹ï¼Œç»“æœæ˜¯ç›¸åŒçš„ï¼›ä½†ä¸€èˆ¬ä¼šæœ‰æ—¶é—´æˆ³ç­‰å‚æ•°ï¼Œæ‰€ä»¥å¯¼è‡´äº†æ¯æ¬¡ä¸åŒ ä¸å¯é€†æ€§ï¼šæœ‰æŸçš„åŠ å¯†è¿‡ç¨‹ï¼Œç†è®ºä¸Šæ— æ³•è§£å¯†ï¼ˆé€†å‘æ¨å‡ºï¼‰ï¼Œé™¤éæš´åŠ›ç ´è§£ã€‚å®‰å…¨ï¼Œè¿™ä¹Ÿæ˜¯å…¶æˆä¸ºæ ¡éªŒæ˜¯å¦è¢«ä¿®æ”¹çš„æœ€å…³é”®çš„æ€§è´¨ ç¢°æ’æ€§ï¼šåŸå§‹æ•°æ®ä¸å…¶MD5å€¼å¹¶ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæœ‰å¯èƒ½å¤šä¸ªåŸå§‹æ•°æ®è®¡ç®—å‡ºæ¥çš„MD5å€¼æ˜¯ä¸€æ ·çš„ï¼Œè¿™å°±æ˜¯ç¢°æ’ã€‚ ä¸€èˆ¬MD5å€¼æ˜¯32ä½ï¼Œç”±æ•°å­—â€œ0-9â€å’Œå­—æ¯â€œa-fâ€æ‰€ç»„æˆçš„å­—ç¬¦ä¸²ï¼›å­—æ¯å¯ä»¥æ˜¯å…¨å¤§å†™æˆ–è€…å…¨å°å†™ å¯†æ–‡ä¸€èˆ¬ä¸º 16 ä½æˆ–è€… 32 ä½ï¼Œå…¶ä¸­ 16 ä½æ˜¯å–çš„ 32 ä½ç¬¬ 9~25 ä½çš„å€¼ï¼› é•¿åº¦ï¼š32ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸² (128ä½) RSAç‰¹å¾ ç›¸åŒå†…å®¹ï¼Œç»“æœä¹Ÿæ˜¯ä¸åŒçš„ æ˜æ–‡é•¿åº¦éœ€è¦å°äºå¯†é’¥é•¿åº¦ï¼Œè€Œå¯†æ–‡é•¿åº¦åˆ™ç­‰äºå¯†é’¥é•¿åº¦ã€‚ä¸€èˆ¬ä¸º1024ã€2048ã€3072ã€4096æˆ–512ï¼ˆä½äº1024çš„å®‰å…¨ä¸å»ºè®®ï¼‰ é€šè¿‡å…¬é’¥åŠ å¯†ç»“æœï¼Œå¿…é¡»ç§é’¥è§£å¯†ã€‚ åŒæ ·ç§é’¥åŠ å¯†ç»“æœï¼Œå…¬é’¥å¯ä»¥è§£å¯† æ³¨ï¼šRSAåŠ è§£å¯†ä¸­å¿…é¡»è€ƒè™‘åˆ°çš„å¯†é’¥é•¿åº¦ã€æ˜æ–‡é•¿åº¦å’Œå¯†æ–‡é•¿åº¦é—®é¢˜ï¼› â–².ä¸€èˆ¬ä¼šä½¿ç”¨ JSEncrypt åº“ï¼Œä¼šæœ‰ new ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„æ“ä½œï¼› SHA ç³»åˆ— SHA æ˜¯æ¯” MD5 æ›´å®‰å…¨ä¸€ç‚¹çš„æ‘˜è¦ç®—æ³•ï¼ŒSHA é€šå¸¸æŒ‡ SHA å®¶æ—ç®—æ³•ï¼Œ sha1 å­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆ å¯†æ–‡ç‰¹å¾è·ŸMD5å·®ä¸å¤šï¼Œåªä¸è¿‡æ•°å­—æ˜¯40ä½ï¼Œbitä½æ•°ï¼ˆ160ï¼‰==&gt;4ä½åå…­è¿›åˆ¶è¡¨ç¤ºä¸€ä¸ªæ•° Sha256 å­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆ å¯¹äºä»»æ„é•¿åº¦çš„æ¶ˆæ¯ï¼ŒSHA256éƒ½ä¼šäº§ç”Ÿä¸€ä¸ª256ä½çš„å“ˆå¸Œå€¼ï¼Œå³64ä½åå…­è¿›åˆ¶æ•°ï¼Œç§°ä½œæ¶ˆæ¯æ‘˜è¦ã€‚ HMAC åœ¨md5å’Œsha1åŠ å¯†çš„åŸºç¡€ä¸Šå¼•å…¥äº†ç§˜é’¥ï¼Œè€Œç§˜é’¥åˆåªæœ‰ä¼ è¾“åŒæ–¹æ‰çŸ¥é“ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šæ˜¯ç ´è§£ä¸äº†çš„ï¼Œå¸¸ç”¨äºæ¥å£ç­¾åéªŒè¯ AESã€DESã€3DESã€RC4ã€Rabbit ç­‰ AESã€DESã€3DESã€RC4ã€Rabbit ç­‰åŠ å¯†ç®—æ³•çš„å¯†æ–‡é€šå¸¸æ²¡æœ‰å›ºå®šçš„é•¿åº¦ï¼Œä»–ä»¬é€šå¸¸ä½¿ç”¨crypto-jsåº“æ¥å®ç° å‚è€ƒï¼šhttps://juejin.cn/post/7052978567390429215","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"}]},{"title":"2022å¹´3æœˆ19~20æ—¥-çˆ¬è™«é¡¹ç›®è®°å½•","slug":"2022å¹´3æœˆ19æ—¥-20æ—¥çˆ¬è™«é¡¹ç›®è®°å½•","date":"2022-03-19T11:06:06.000Z","updated":"2022-04-03T09:25:24.549Z","comments":true,"path":"2022/03/19/2022å¹´3æœˆ19æ—¥-20æ—¥çˆ¬è™«é¡¹ç›®è®°å½•/","link":"","permalink":"https://nymrli.top/2022/03/19/2022å¹´3æœˆ19æ—¥-20æ—¥çˆ¬è™«é¡¹ç›®è®°å½•/","excerpt":"","text":"2022å¹´3æœˆ20æ—¥â€”â€”å…¬å‘Šå­˜ç½‘ç«™é¡µé¢åˆ°æ•°æ®åº“ æ–‡ä»¶å­˜å‚¨ æ–‡ä»¶å¤¹ä¸å…è®¸å‡ºç°/\\:*?|&lt;&gt;&quot; aæ ‡ç­¾ä¸­hrefä¸èƒ½æœ‰, å› ä¸ºé€šè¿‡etree.tostringä¼šè¢«è½¬ä¹‰æˆ%5C===&gt;è¿›è¡Œäº†str.replace(&quot;\\&quot;, â€œ/â€) windowsä¸‹è·¯å¾„åˆ†éš”ç¬¦æ˜¯\\\\, æ‰€ä»¥save_pathä¸­ä¼šæœ‰\\\\, å› æ­¤ä½¿ç”¨save_path.replace(&quot;\\\\&quot;, &quot;/&quot;)å¯ä»¥è§£å†³ å¤šçº§åˆ›å»ºæ–‡ä»¶å¤¹os.makedirs()ã€å•å±‚åˆ›å»ºos.mkdir() 5æ–‡ä»¶åç§°é—®é¢˜: ä¹±ç å¤ªé•¿æŠ¥é”™, å°†å…¶å–aæ ‡ç­¾ä¸­å†…å®¹è§£å†³ 12345# ä¹±ç å¤ªé•¿æŠ¥é”™s = \".\\\\attaches\\\\11963218-2021å¹´09æœˆ22æ—¥åèƒ½èƒ½æºäº¤é€šäº§ä¸šæ§è‚¡æœ‰é™å…¬å¸é›†å›¢ç‰©èµ„ä¾›åº”ä¸­å¿ƒï¼ˆç”˜è‚ƒåŒºåŸŸï¼‰07æœˆä»½é›†ä¸­ç‰©èµ„ä¾›åº”--å…«é›¶ä¸‰ç”µå‚é˜€é—¨è¯¢ä»·é‡‡è´­ï¼ˆåŒ…093ï¼‰è¯¢ä»·ä¹¦è¯¢ä»·å…¬å‘Š\\\\ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½07ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½--ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½093ï¿½ï¿½ï¿½.wps\"with open(s, \"wb\") as f: f.write(b\"ggg\") æ•°æ®åº“è¡¨ varcharèƒ½å­˜å¤šå°‘æ±‰å­—ã€æ•°å­—ï¼Ÿ å…·ä½“è¿˜æ˜¯è¦çœ‹ç‰ˆæœ¬çš„ï¼Œä¸€ä¸ªå­—ç¬¦å ç”¨3ä¸ªå­—èŠ‚ ï¼Œä¸€ä¸ªæ±‰å­—ï¼ˆåŒ…æ‹¬æ•°å­—ï¼‰å ç”¨3ä¸ªå­—èŠ‚=ä¸€ä¸ªå­—ç¬¦ 4.0ç‰ˆæœ¬ä»¥ä¸‹ï¼Œvarchar(100)ï¼ŒæŒ‡çš„æ˜¯100å­—èŠ‚ï¼Œå¦‚æœå­˜æ”¾UTF8æ±‰å­—æ—¶ï¼Œåªèƒ½å­˜33ä¸ªï¼ˆæ¯ä¸ªæ±‰å­—3å­—èŠ‚ï¼‰ 5.0ç‰ˆæœ¬ä»¥ä¸Š**ï¼Œvarchar(100)ï¼ŒæŒ‡çš„æ˜¯100å­—ç¬¦ï¼Œâ­ï¸æ— è®ºå­˜æ”¾çš„æ˜¯æ•°å­—ã€å­—æ¯è¿˜æ˜¯UTF8æ±‰å­—ï¼ˆæ¯ä¸ªæ±‰å­—3å­—èŠ‚ï¼‰ï¼Œéƒ½å¯ä»¥å­˜æ”¾100ä¸ªã€‚ UTF8ç¼–ç ä¸­ä¸€ä¸ªæ±‰å­—ï¼ˆåŒ…æ‹¬æ•°å­—ï¼‰å ç”¨3ä¸ªå­—èŠ‚ GBKç¼–ç ä¸­ä¸€ä¸ªæ±‰å­—ï¼ˆåŒ…æ‹¬æ•°å­—ï¼‰å ç”¨2ä¸ªå­—èŠ‚* varcharçš„æœ€å¤§é•¿åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿ mysqlçš„vacharå­—æ®µçš„ç±»å‹è™½ç„¶æœ€å¤§é•¿åº¦æ˜¯65535ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯èƒ½å­˜è¿™ä¹ˆå¤šæ•°æ®ï¼Œæœ€å¤§å¯ä»¥åˆ°65533ï¼Œå…¶ä¸­éœ€è¦1åˆ°2ä¸ªå­—èŠ‚æ¥å­˜å‚¨æ•°æ®é•¿åº¦ï¼ˆå¦‚æœåˆ—å£°æ˜çš„é•¿åº¦è¶…è¿‡255ï¼Œåˆ™ä½¿ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥å­˜å‚¨é•¿åº¦ï¼Œå¦åˆ™1ä¸ªï¼‰å­—èŠ‚ï¼Œå½“ä¸å…è®¸éç©ºå­—æ®µçš„æ—¶å€™ï¼ˆå› ä¸ºè¦ç”¨ä¸€ä¸ªå­—èŠ‚æ¥å­˜å‚¨ä¸å¯ä¸ºç©ºçš„æ ‡è¯†ï¼‰ï¼Œå½“å…è®¸éç©ºå­—æ®µçš„æ—¶å€™åªèƒ½åˆ°65532(çœä¸‹äº†å­˜å‚¨éç©ºçš„é‚£ä¸ªå­—èŠ‚)ã€‚ mysqlå­—æ®µç±»å‹å­˜å‚¨éœ€è¦å¤šå°‘å­—èŠ‚ï¼Ÿ æ•°å­—ç±»å‹ åˆ—ç±»å‹ éœ€è¦çš„å­˜å‚¨é‡ TINYINT 1 å­—èŠ‚ SMALLINT 2 ä¸ªå­—èŠ‚ MEDIUMINT 3 ä¸ªå­—èŠ‚ INT 4 ä¸ªå­—èŠ‚ INTEGER 4 ä¸ªå­—èŠ‚ BIGINT 8 ä¸ªå­—èŠ‚ FLOAT(X) 4 å¦‚æœ X &lt; = 24 æˆ– 8 å¦‚æœ 25 &lt; = X &lt; = 53 FLOAT 4 ä¸ªå­—èŠ‚ DOUBLE 8 ä¸ªå­—èŠ‚ DOUBLE PRECISION 8 ä¸ªå­—èŠ‚ REAL 8 ä¸ªå­—èŠ‚ DECIMAL(M,D) Må­—èŠ‚(D+2 , å¦‚æœM &lt; D) NUMERIC(M,D) Må­—èŠ‚(D+2 , å¦‚æœM &lt; D) æ—¥æœŸå’Œæ—¶é—´ç±»å‹ åˆ—ç±»å‹ éœ€è¦çš„å­˜å‚¨é‡ DATE 3 ä¸ªå­—èŠ‚ DATETIME 8 ä¸ªå­—èŠ‚ TIMESTAMP 4 ä¸ªå­—èŠ‚ TIME 3 ä¸ªå­—èŠ‚ YEAR 1 å­—èŠ‚ ä¸²ç±»å‹ åˆ—ç±»å‹ éœ€è¦çš„å­˜å‚¨é‡ CHAR(M) Må­—èŠ‚ï¼Œ1 &lt;= M &lt;= 255 VARCHAR(M) L+1 å­—èŠ‚, åœ¨æ­¤L &lt;= Må’Œ1 &lt;= M &lt;= 255 TINYBLOB, TINYTEXT L+1 å­—èŠ‚, åœ¨æ­¤L&lt; 2 ^ 8 BLOB, TEXT L+2 å­—èŠ‚, åœ¨æ­¤L&lt; 2 ^ 16 MEDIUMBLOB, MEDIUMTEXT L+3 å­—èŠ‚, åœ¨æ­¤L&lt; 2 ^ 24 LONGBLOB, LONGTEXT L+4 å­—èŠ‚, åœ¨æ­¤L&lt; 2 ^ 32 ENUM(â€˜value1â€™,â€˜value2â€™,â€¦) 1 æˆ– 2 ä¸ªå­—èŠ‚, å–å†³äºæšä¸¾å€¼çš„æ•°ç›®(æœ€å¤§å€¼65535ï¼‰ SET(â€˜value1â€™,â€˜value2â€™,â€¦) 1ï¼Œ2ï¼Œ3ï¼Œ4æˆ–8ä¸ªå­—èŠ‚, å–å†³äºé›†åˆæˆå‘˜çš„æ•°é‡(æœ€å¤š64ä¸ªæˆå‘˜ï¼‰ MySQLä¸­ç±»å‹åé¢çš„æ•°å­—å«ä¹‰ å½¢å¼ï¼šç±»å‹(m) æ•´æ•°å‹çš„æ•°å€¼ç±»å‹å·²ç»é™åˆ¶äº†å–å€¼èŒƒå›´ï¼Œæœ‰ç¬¦å·æ•´å‹å’Œæ— ç¬¦å·æ•´å‹éƒ½æœ‰ï¼Œè€ŒMå€¼å¹¶ä¸ä»£è¡¨å¯ä»¥å­˜å‚¨çš„æ•°å€¼å­—ç¬¦é•¿åº¦ï¼Œå®ƒä»£è¡¨çš„æ˜¯æ•°æ®åœ¨æ˜¾ç¤ºæ—¶æ˜¾ç¤ºçš„æœ€å°é•¿åº¦ï¼Œå½“å­˜å‚¨çš„å­—ç¬¦é•¿åº¦è¶…è¿‡Må€¼æ—¶ï¼Œæ²¡æœ‰ä»»ä½•çš„å½±å“ï¼Œåªè¦ä¸è¶…è¿‡æ•°å€¼ç±»å‹é™åˆ¶çš„èŒƒå›´ã€‚å½“å­˜å‚¨çš„å­—ç¬¦é•¿åº¦å°äºMå€¼æ—¶ï¼Œåªæœ‰åœ¨è®¾ç½®äº†zerofillç”¨0æ¥å¡«å……ï¼Œæ‰èƒ½å¤Ÿçœ‹åˆ°æ•ˆæœï¼Œæ¢å¥è¯å°±æ˜¯è¯´ï¼Œæ²¡æœ‰zerofillï¼ŒMå€¼å°±æ˜¯æ— ç”¨çš„ã€‚ å­—ç¬¦å‹å¦‚varchar(50) å¯ä»¥å‚¨å­˜50ä¸ªå­—ç¬¦ï¼Œè¡¨ç¤ºçš„æ˜¯å¯å˜ä¸å®šé•¿çš„ã€‚ mySQLé»˜è®¤å­—ç¬¦é›† MySQLå¯¹äºå­—ç¬¦é›†çš„æŒ‡å®šå¯ä»¥ç»†åŒ–åˆ°ä¸€ä¸ªæ•°æ®åº“ï¼Œä¸€å¼ è¡¨ï¼Œä¸€åˆ—ï¼Œåº”è¯¥ç”¨ä»€ä¹ˆå­—ç¬¦é›†ã€‚ ä½†æ˜¯ï¼Œä¼ ç»Ÿçš„ç¨‹åºåœ¨åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨æ—¶å¹¶æ²¡æœ‰ä½¿ç”¨é‚£ä¹ˆå¤æ‚çš„é…ç½®ï¼Œå®ƒä»¬ç”¨çš„æ˜¯é»˜è®¤çš„é…ç½®ï¼Œé‚£ä¹ˆï¼Œé»˜è®¤çš„é…ç½®ä»ä½•è€Œæ¥å‘¢ï¼Ÿ ç¼–è¯‘MySQL æ—¶ï¼ŒæŒ‡å®šäº†ä¸€ä¸ªé»˜è®¤çš„å­—ç¬¦é›†ï¼Œè¿™ä¸ªå­—ç¬¦é›†æ˜¯ latin1ï¼› å®‰è£…MySQL æ—¶ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ (my.ini) ä¸­æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„çš„å­—ç¬¦é›†ï¼Œå¦‚æœæ²¡æŒ‡å®šï¼Œè¿™ä¸ªå€¼ç»§æ‰¿è‡ªç¼–è¯‘æ—¶æŒ‡å®šçš„ï¼› å¯åŠ¨mysqld æ—¶ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œå‚æ•°ä¸­æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„çš„å­—ç¬¦é›†ï¼Œå¦‚æœæ²¡æŒ‡å®šï¼Œè¿™ä¸ªå€¼ç»§æ‰¿è‡ªé…ç½®æ–‡ä»¶ä¸­çš„é…ç½®,æ­¤æ—¶ character_set_server è¢«è®¾å®šä¸ºè¿™ä¸ªé»˜è®¤çš„å­—ç¬¦é›†ï¼› å½“åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“æ—¶ï¼Œé™¤éæ˜ç¡®æŒ‡å®šï¼Œè¿™ä¸ªæ•°æ®åº“çš„å­—ç¬¦é›†è¢«ç¼ºçœè®¾å®šä¸ºcharacter_set_serverï¼› å½“é€‰å®šäº†ä¸€ä¸ªæ•°æ®åº“æ—¶ï¼Œcharacter_set_databaseè¢«è®¾å®šä¸ºè¿™ä¸ªæ•°æ®åº“é»˜è®¤çš„å­—ç¬¦é›†ï¼› åœ¨è¿™ä¸ªæ•°æ®åº“é‡Œåˆ›å»ºä¸€å¼ è¡¨æ—¶ï¼Œè¡¨é»˜è®¤çš„å­—ç¬¦é›†è¢«è®¾å®šä¸º character_set_databaseï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ•°æ®åº“é»˜è®¤çš„å­—ç¬¦é›†ï¼› å½“åœ¨è¡¨å†…è®¾ç½®ä¸€æ æ—¶ï¼Œé™¤éæ˜ç¡®æŒ‡å®šï¼Œå¦åˆ™æ­¤æ ç¼ºçœçš„å­—ç¬¦é›†å°±æ˜¯è¡¨é»˜è®¤çš„å­—ç¬¦é›†ï¼› æœ€ç»ˆcreate.sqlæ–‡ä»¶ 12345678910111213141516171819202122SET NAMES utf8mb4;SET FOREIGN_KEY_CHECKS = 0;CREATE DATABASE if not EXISTS `huaneng` ;use `huaneng`;-- ------------------------------ Table structure for quotation_inone-- ----------------------------DROP TABLE IF EXISTS `quotation_inone`;CREATE TABLE `quotation_inone` ( `id` int(11) NOT NULL AUTO_INCREMENT, `title` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `date` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `content` LONGTEXT NULL DEFAULT NULL, `proclamation_url` VARCHAR(512) NULL DEFAULT NULL, UNIQUE INDEX (`proclamation_url`), PRIMARY KEY (`id`) USING BTREE) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;SET FOREIGN_KEY_CHECKS = 1; 2022å¹´3æœˆ20æ—¥-æŠ¤å£«é¢˜ç›®ä¸‹è½½å­˜Word ç´¢å¼•æŠ¥é”™ MySQL æ·»åŠ ç´¢å¼•æŠ¥é”™ï¼šBLOB/TEXT column used in key specification without a key length å½“æˆ‘ä»¬å¯¹ä¸€ä¸ªåç§°ä¸ºplatformçš„å­—æ®µï¼Œç±»å‹ä¸º text æ·»åŠ uniqueå”¯ä¸€æ€§çº¦æŸå’Œç´¢å¼•çº¦æŸæ—¶ï¼Œä¼šæŠ¥é”™ã€‚ åŸå› ï¼šMySQLåªèƒ½å°†BLOB/TEXTç±»å‹å­—æ®µè®¾ç½®ç´¢å¼•æ•°æ®çš„å‰Nä¸ªå­—ç¬¦ï¼Œå› æ­¤ï¼Œåªéœ€è¦é€šè¿‡sqlåœ¨å¢åŠ ç´¢å¼•æ—¶æŒ‡å®šå¯¹åº”å­—æ®µçš„é•¿åº¦å³å¯ï¼Œå¦‚ï¼š ALTER TABLE hello_world ADD INDEX key1(platform(250), platform2(250), type);, å…¶ä¸­ï¼Œplatform å’Œ platform2 å°±æ˜¯ text ç±»å‹çš„æ•°æ® more: https://www.cnblogs.com/wqbin/p/11903878.html æ ¹æœ¬åŸå› ï¼š é”™è¯¯å‘ç”Ÿçš„åŸå› æ˜¯å› ä¸ºMySQLåªèƒ½å°†BLOB/TEXTç±»å‹å­—æ®µè®¾ç½®ç´¢å¼•ä¸ºBLOB/TEXTæ•°æ®çš„å‰Nä¸ªå­—ç¬¦ï¼Œå› æ­¤é”™è¯¯å¸¸å¸¸å‘ç”Ÿåœ¨å­—æ®µè¢«å®šä¹‰ä¸ºTEXT/BLOBç±»å‹æˆ–è€…å’ŒTEXT/BLOBåŒè´¨çš„æ•°æ®ç±»å‹ï¼Œå¦‚TINYTEXT,MEDIUMTEXT,LONGTEXT ,TINYBLOB,MEDIUMBLOB å’ŒLONGBLOBï¼Œå¹¶ä¸”å½“å‰æ“ä½œæ˜¯å°†è¿™ä¸ªå­—æ®µè®¾ç½®æˆä¸»é”®æˆ–è€…æ˜¯ç´¢å¼•çš„æ“ä½œã€‚åœ¨æœªæŒ‡å®šTEXT/BLOBâ€˜é”®é•¿â€™çš„æƒ…å†µä¸‹ï¼Œå­—æ®µæ˜¯å˜åŠ¨çš„å¹¶ä¸”æ˜¯åŠ¨æ€çš„å¤§å°æ‰€ä»¥MySQLä¸èƒ½å¤Ÿä¿è¯å­—æ®µçš„å”¯ä¸€æ€§ã€‚å› æ­¤å½“ä½¿ç”¨TEXT/BLOBç±»å‹å­—æ®µåšä¸ºç´¢å¼•æ—¶ï¼ŒNçš„å€¼å¿…é¡»æä¾›å‡ºæ¥æ‰å¯ä»¥è®©MySQLå†³å®šé”®é•¿ï¼Œä½†æ˜¯MySQLä¸æ”¯æŒåœ¨TEXT/BLOBé™åˆ¶ï¼ŒTEXT(88)æ˜¯ä¸è¡Œçš„ã€‚ è§£å†³æ–¹æ¡ˆæ˜¯å°†uniqueé™åˆ¶å’Œç´¢å¼•ä»TEXT/BLOBå­—æ®µä¸­ç§»é™¤ï¼Œæˆ–è€…æ˜¯è®¾ç½®å¦ä¸€ä¸ªå­—æ®µä¸ºä¸»é”®ï¼Œå¦‚æœä½ ä¸æ„¿æ„è¿™æ ·åšå¹¶ä¸”æƒ³åœ¨TEXT/BLOBä¸ŠåŠ é™åˆ¶ï¼Œé‚£ä¹ˆä½ å¯ä»¥å°è¯•å°†è¿™ä¸ªå­—æ®µæ›´æ”¹ä¸ºVARCHARç±»å‹ï¼ŒåŒæ—¶ç»™ä»–ä¸€ä¸ªé™åˆ¶é•¿åº¦ï¼Œé»˜è®¤VARCHARæœ€å¤šå¯ä»¥é™å®šåœ¨255ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”é™åˆ¶è¦åœ¨å£°æ˜ç±»å‹çš„å³è¾¹æŒ‡æ˜ï¼Œå¦‚VARCHAR(200)å°†ä¼šé™åˆ¶ä»…ä»…200ä¸ªå­—ç¬¦.(æ³¨: ä½†æ˜¯mysqlä¸æ”¯æŒå¯¹TEXT/BLOBé•¿åº¦çš„é™åˆ¶ã€‚) https://blog.csdn.net/u012069924/article/details/28858337 â–². åœ¨ varchar å­—æ®µä¸Šå»ºç«‹ç´¢å¼•æ—¶ï¼Œå¿…é¡»æŒ‡å®šç´¢å¼•é•¿åº¦ï¼Œæ²¡å¿…è¦å¯¹å…¨å­—æ®µå»ºç«‹ç´¢å¼•ï¼Œæ ¹æ® å®é™…æ–‡æœ¬åŒºåˆ†åº¦å†³å®šç´¢å¼•é•¿åº¦å³å¯ã€‚Java å¼€å‘æ‰‹å†Œ 33/44 è¯´æ˜ï¼šç´¢å¼•çš„é•¿åº¦ä¸åŒºåˆ†åº¦æ˜¯ä¸€å¯¹çŸ›ç›¾ä½“ï¼Œä¸€èˆ¬å¯¹å­—ç¬¦ä¸²ç±»å‹æ•°æ®ï¼Œé•¿åº¦ä¸º 20 çš„ç´¢å¼•ï¼ŒåŒºåˆ†åº¦ä¼šé«˜è¾¾ 90%ä»¥ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ count(distinct left(åˆ—å, ç´¢å¼•é•¿åº¦))/count(*)çš„åŒºåˆ†åº¦æ¥ç¡®å®šã€‚ æ•°æ®åº“æ’å…¥æ•°æ® 123-- \\\\è¡¨ç¤ºä¸€ä¸ª\\use xian_nurse;insert into `question` (`path`) VALUES ('ä¹¦ç±\\\\C-ã€Šä¼ æŸ“ç—…æŠ¤ç†å­¦ä¹ æŒ‡å¯¼ä¸ä¹ é¢˜é›†ã€‹-é€‰æ‹©é¢˜'), ('ä¹¦ç±\\\\C-ã€Šä¼ æŸ“ç—…æŠ¤ç†æŠ€æœ¯å­¦ä¹ æŒ‡å¯¼ä¸ä¹ é¢˜é›†ã€‹-é€‰æ‹©é¢˜'), ('ä¹¦ç±\\\\C-ã€Šä¼ æŸ“ç—…æŠ¤ç†æŠ€æœ¯å­¦ä¹ æŒ‡å¯¼ä¸ä¹ é¢˜é›†ã€‹-é¢˜å¹²é¢˜'), ('ä¹¦ç±\\\\C-ã€ŠæˆäººæŠ¤ç†å­¦å­¦ä¹ æŒ‡å¯¼ä¸ä¹ é¢˜é›†-äººæ°‘å«ç”Ÿå‡ºç‰ˆç¤¾ã€‹-é€‰æ‹©é¢˜'), ('ä¹¦ç±\\\\C-ã€ŠæˆäººæŠ¤ç†å­¦å­¦ä¹ æŒ‡å¯¼ä¸ä¹ é¢˜é›†-äººæ°‘å«ç”Ÿå‡ºç‰ˆç¤¾ã€‹-é¢˜å¹²é¢˜'), ('ä¹¦ç±\\\\E -ã€Šå„¿ç§‘æŠ¤ç†å­¦å®è·µä¸å­¦ä¹ æŒ‡å¯¼ï¼ˆåä¸‰äº”ï¼‰ã€‹â€”é€‰æ‹©é¢˜'), ('ä¹¦ç±\\\\E -ã€Šå„¿ç§‘æŠ¤ç†å­¦å®è·µä¸å­¦ä¹ æŒ‡å¯¼ï¼ˆåä¸‰äº”ï¼‰ã€‹â€”é¢˜å¹²é¢˜'); æ“ä½œword ä½¿ç”¨python-docx: python -m pip install python-docxï¼Œ https://python-docx.readthedocs.io/en/latest/ æ·»åŠ 1-9çº§æ ‡é¢˜ 12345678910111213141516from datetime import datetimefrom docx import Document# åˆ›å»ºæ–°çš„docxæ–‡ä»¶document = Document()document.add_heading('1çº§æ ‡é¢˜', 1) # æ·»åŠ 1çº§æ ‡é¢˜document.add_heading('2çº§æ ‡é¢˜', 2) # æ·»åŠ 2çº§æ ‡é¢˜document.add_heading('3çº§æ ‡é¢˜', 3) # æ·»åŠ 3çº§æ ‡é¢˜document.add_heading('4çº§æ ‡é¢˜', 4) # æ·»åŠ 4çº§æ ‡é¢˜document.add_heading('5çº§æ ‡é¢˜', 5) # æ·»åŠ 5çº§æ ‡é¢˜document.add_heading('6çº§æ ‡é¢˜', 6) # æ·»åŠ 6çº§æ ‡é¢˜document.add_heading('7çº§æ ‡é¢˜', 7) # æ·»åŠ 7çº§æ ‡é¢˜document.add_heading('8çº§æ ‡é¢˜', 8) # æ·»åŠ 8çº§æ ‡é¢˜document.add_heading('9çº§æ ‡é¢˜', 9) # æ·»åŠ 9çº§æ ‡é¢˜document.save('&#123;&#125;.docx'.format(datetime.now().strftime('%Y%m%d%H%M%S'))) æ·»åŠ æ®µè½ 123456789101112131415from datetime import datetimefrom docx import Document# åˆ›å»ºæ–°çš„docxæ–‡ä»¶document = Document()paragraph = \"\"\"è¿™æ˜¯ä¸€ä¸ªæ®µè½\"\"\"paragraph2 = \"\"\"è¿™æ˜¯ä¸€ä¸ªæ–°çš„æ®µè½\"\"\"paragraph3 = \"\"\"è¿™æ˜¯ä¸€ä¸ªæ–°çš„æ®µè½ã€‚\"\"\"document.add_paragraph(paragraph)document.add_paragraph(paragraph2)document.add_paragraph(paragraph3)document.save('&#123;&#125;.docx'.format(datetime.now().strftime('%Y%m%d%H%M%S'))) è®¾ç½®å­—ä½“å¤§å°å’Œæ ·å¼ 12345678910111213141516171819202122232425262728293031from datetime import datetimefrom docx import Document# åˆ›å»ºæ–°çš„docxæ–‡ä»¶from docx.shared import Ptdocument = Document()document.add_paragraph(\"è¿™æ˜¯ä¸€ä¸ªæ®µè½\") # æ·»åŠ æ®µè½paragraph = document.add_paragraph(\"è¿™æ˜¯ä¸€ä¸ªæ®µè½,\") # æ·»åŠ æ®µè½run = paragraph.add_run('è®¾ç½®äº†å­—ä½“çš„æ®µè½') # åœ¨åŒä¸€æ®µæ·»åŠ å†…å®¹, å³ä¸ºäº†æ“ä½œæ®µè½æˆ–å•è¯çš„å­å­—ç¬¦ä¸². æ¦‚å¿µä¸Šè®²ï¼Œæ‚¨éœ€è¦ä¸ºæ®µè½/æ–‡æœ¬çš„runæ¯ä¸ªéƒ¨åˆ†åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚\"\"\"Append a run to this paragraph containing *text* and having characterstyle identified by style ID *style*. *text* can contain tab(``\\\\t``) characters, which are converted to the appropriate XML formfor a tab. *text* can also include newline (``\\\\n``) or carriagereturn (``\\\\r``) characters, each of which is converted to a linebreak.å¤§æ¦‚æ„æ€å°±æ˜¯è¿½åŠ ä¸€ä¸ªæ®µè½, åŒ…å«text, ä¸”è®¾ç½®äº†æ ¼å¼, æˆ‘æ„Ÿè§‰æ˜¯è¿™æ ·\"\"\"run.font.name = u'å®‹ä½“' # è®¾ç½®å­—ä½“run.font.size = Pt(20) # è®¾ç½®å­—å·# run.font.color.rgb = RGBColor(255, 0, 0) # è®¾ç½®çº¢è‰²run.font.underline = True # è®¾ç½®ä¸‹åˆ’çº¿run1 = paragraph.add_run('\\tç²—ä½“')run1.bold = Truerun2 = paragraph.add_run('\\tæ–œä½“')run2.italic = True #å›¾ç‰‡å±…ä¸­è®¾ç½®paragraph.alignment = WD_PARAGRAPH_ALIGNMENT.CENTER 12345678910111213Doc = Document() Doc.styles['Normal'].font.name = u'å®‹ä½“'Doc.styles['Normal']._element.rPr.rFonts.set(qn('w:eastAsia'), u'å®‹ä½“')Doc.styles['Normal'].font.size = Pt(10.5)Doc.styles['Normal'].font.color.rgb = RGBColor(0,0,0)Head = Doc.add_heading(\"\",level=1)# è¿™é‡Œä¸å¡«æ ‡é¢˜å†…å®¹run = Head.add_run(\"åˆšæ¥csdnï¼Œè¿™å°±æ˜¯åšå®¢ä¹ˆï¼ŒIäº†\")run.font.name=u'Cambria'run.font.color.rgb = RGBColor(0,0,0)run._element.rPr.rFonts.set(qn('w:eastAsia'), u'Cambria')Doc.add_paragraph(\"Python \")Doc.add_paragraph(\"Python å¯¹wordè¿›è¡Œæ“ä½œ\")Doc.save(\"Python_word.docx\") from : https://www.pythonheidong.com/blog/article/692569/99875f167810b45f17e8/ æœ‰åº(æ— åº)åˆ—è¡¨å’Œå¼•ç”¨ 12345678910# å¢åŠ å¼•ç”¨document.add_paragraph('123', style='Intense Quote')# å¢åŠ æœ‰åºåˆ—è¡¨document.add_paragraph(u'æœ‰åºåˆ—è¡¨å…ƒç´ 1', style='List Number')document.add_paragraph(u'æœ‰åºåˆ—åˆ«å…ƒç´ 2', style='List Number')# å¢åŠ æ— åºåˆ—è¡¨document.add_paragraph(u'æ— åºåˆ—è¡¨å…ƒç´ 1', style='List Bullet')document.add_paragraph(u'æ— åºåˆ—è¡¨å…ƒç´ 2', style='List Bullet') è¡¨æ ¼å’Œåˆ†é¡µ 12345678910111213141516171819202122# å¢åŠ å›¾ç‰‡ï¼ˆæ­¤å¤„ä½¿ç”¨ç›¸å¯¹ä½ç½®ï¼‰# document.add_picture('jdb.jpg', width=Inches(1.25))# å¢åŠ è¡¨æ ¼table = document.add_table(rows=3, cols=3) # 3è¡Œ3åˆ—hdr_cells1 = table.rows[0].cells # ç¬¬ä¸€è¡Œhdr_cells1[0].text = \"ç¬¬ä¸€è¡Œ,ç¬¬ä¸€åˆ—\"hdr_cells1[1].text = \"ç¬¬ä¸€è¡Œ,ç¬¬äºŒåˆ—\"hdr_cells1[2].text = \"ç¬¬ä¸€è¡Œ,ç¬¬ä¸‰åˆ—\"hdr_cells2 = table.rows[1].cells # ç¬¬äºŒè¡Œhdr_cells2[0].text = \"ç¬¬äºŒè¡Œ,ç¬¬ä¸€åˆ—\"hdr_cells2[1].text = \"ç¬¬äºŒè¡Œ,ç¬¬äºŒåˆ—\"hdr_cells2[2].text = \"ç¬¬äºŒè¡Œ,ç¬¬ä¸‰åˆ—\"hdr_cells3 = table.rows[2].cells # ç¬¬ä¸‰è¡Œhdr_cells3[0].text = \"ç¬¬ä¸‰è¡Œ,ç¬¬ä¸€åˆ—\"hdr_cells3[1].text = \"ç¬¬ä¸‰è¡Œ,ç¬¬äºŒåˆ—\"hdr_cells3[2].text = \"ç¬¬ä¸‰è¡Œ,ç¬¬ä¸‰åˆ—\"# å¢åŠ åˆ†é¡µdocument.add_page_break() æå–æ–‡å­— 123456789101112131415from docx import Documentpath = '/media/bobo/è‡ªåŠ¨åŒ–åŠå…¬/wordOperation/wordDemo/test2.docx'doc = Document(path)print(doc.paragraphs)# è¾“å‡ºçš„æ˜¯åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­ä¸€å…±æœ‰4ä»½å†…å®¹# [&lt;docx.text.paragraph.Paragraph object at 0x7fca95f0aba8&gt;,# &lt;docx.text.paragraph.Paragraph object at 0x7fca95f0abe0&gt;,# &lt;docx.text.paragraph.Paragraph object at 0x7fca95f0ab70&gt;, #&lt;docx.text.paragraph.Paragraph object at 0x7fca95f0ac50&gt;,]for paragraph in doc.paragraphs: print(paragraph.text) from : https://www.cnblogs.com/rainbow-tan/p/14981998.html https://www.cnblogs.com/wenshi-jj/p/15388808.html https://www.cnblogs.com/rencm/p/6285304.html https://blog.csdn.net/weixin_44576802/article/details/86552550â€”â€”é¢œè‰² å‚è€ƒï¼šhttps://www.cnblogs.com/wenshi-jj/p/15388808.htmlâ€”â€”é¡µè¾¹è·ã€é¡µçœ‰å’Œé¡µè„šã€åˆ†æ  å…±åŒç‚¹å¤„ç† æ–‡ä»¶ä¿å­˜ ç”±äºæ–‡ä»¶å¤¹ã€æ–‡ä»¶åä¸å…è®¸æœ‰/\\:*?|&lt;&gt;&quot;ï¼Œå› æ­¤éœ€è¦ä¿å­˜æ—¶å¦‚æœå‡ºç°è¿™äº›å­—ç¬¦å¾—ç‰¹åˆ«å¤„ç†ã€‚ é¡¹ç›®ä¸€ï¼šxxxxé˜»å¢å‰‚\\åæ¸—é€é˜»å¢å‰‚\\25KGè¯¢ä»·ä¹¦è¯¢ä»·å…¬å‘Š\\zxc.doc ==&gt; xxxé˜»å¢å‰‚ã€åæ¸—é€é˜»å¢å‰‚ã€25KGè¯¢ä»·ä¹¦è¯¢ä»·å…¬å‘Š\\zxc.docï¼Œå­˜å‚¨åœ¨attaches\\xxxé˜»å¢å‰‚ã€åæ¸—é€é˜»å¢å‰‚ã€25KGè¯¢ä»·ä¹¦è¯¢ä»·å…¬å‘Š\\zxc.doc 12345678910111213141516171819202122@staticmethod def format_name(name: str) -&gt; [bool, str]: \"\"\" æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åè§„èŒƒåŒ– :param name: :return: \"\"\" invalid_char = [\"/\", \"\\\\\", \":\", \"*\", \"?\", \"|\", \"&lt;\", \"&gt;\", \"\\\"\"] rename = name valid = True for ch in invalid_char: if ch in rename: if ch == \"?\": rename = rename.replace(\"?\", \"ï¼Ÿ\") elif ch == \"&lt;\": rename = rename.replace(\"&lt;\", \"[\") elif ch == \"&gt;\": rename = rename.replace(\"&gt;\", \"]\") else: rename = rename.replace(ch, \"ã€\") valid = False return valid, rename é¡¹ç›®äºŒï¼š'.\\\\docx/ä¸“ç§‘é¢˜åº“\\\\å„¿ç§‘\\\\[ä¹¦ç±]\\\\S-ã€Šå®ç”¨ä¸´åºŠæŠ¤ç†ä¸‰åŸº-&quot;åº”çŸ¥åº”ä¼š&quot;ã€‹â€”åè¯è§£é‡Šã€ç®€ç­”(è§„02ï¼‰\\\\something.docx'===&gt;'.\\\\docx/ä¸“ç§‘é¢˜åº“\\\\å„¿ç§‘\\\\[ä¹¦ç±]\\\\S-ã€Šå®ç”¨ä¸´åºŠæŠ¤ç†ä¸‰åŸº-'åº”çŸ¥åº”ä¼š'ã€‹â€”åè¯è§£é‡Šã€ç®€ç­”(è§„02ï¼‰\\\\something.docx' 1234567891011121314151617181920212223242526def format_file_path(path: str) -&gt; [bool, str]: \"\"\" æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åè§„èŒƒåŒ– :param name: :return: \"\"\" invalid_char = [\"/\", \"\\\\\", \":\", \"*\", \"?\", \"|\", \"&lt;\", \"&gt;\", \"\\\"\"] rename = path valid = True for ch in invalid_char: if ch in rename: if ch == \"?\": rename = rename.replace(\"?\", \"ï¼Ÿ\") elif ch == \"&lt;\": rename = rename.replace(\"&lt;\", \"[\") elif ch == \"&gt;\": rename = rename.replace(\"&gt;\", \"]\") elif ch == '\"': rename = rename.replace(\"\\\"\", \"\\'\") elif ch == \"\\\\\" or ch == \"/\": # æ³¨æ„è·Ÿ ä¸Šä¸€ä¸ªçš„åŒºåˆ«ï¼Œ ç”±äºä¸Šä¸€ä¸ªé¡¹ç›®ä¸­çš„/å’Œ\\éƒ½æ˜¯åˆ†éš”ç¬¦ï¼Œè€Œä¸æ˜¯çœŸå®çš„åˆ†éš”ç›®å½•ï¼Œå› æ­¤éœ€è¦æ›¿æ¢ï¼Œä½†æœ¬é¡¹ç›®æ˜¯çœŸå®è·¯å¾„åˆ†éš”ç¬¦ï¼Œæ‰€ä»¥ä¸éœ€è¦è½¬æ¢ pass else: rename = rename.replace(ch, \"ã€\") valid = False return valid, rename é™„å½• lxmlåº“çš„ä½¿ç”¨ æå–Elementä¸­æœ€è¿‘æ ‡ç­¾ä¸­çš„æ–‡æœ¬(ä¸åŒ…å«æ ‡ç­¾æœ¬èº«): ele.xpath('//*[@id=&quot;xxx&quot;]/text()') æå–Elementä¸­æ‰€æœ‰æ ‡ç­¾(æ ‡ç­¾åµŒå¥—)ä¸­çš„æ–‡æœ¬(ä¸åŒ…å«æ ‡ç­¾æœ¬èº«): ele.xpath('//*[@id=&quot;xxx&quot;]/string(.)') æ³¨ï¼šè·Ÿ//text()åŒºåˆ«åœ¨äºï¼Œstring(.)çš„ç»“æœä¸ºåˆå¹¶åçš„strï¼Œ//text()ä¸ºæœªåˆå¹¶çš„list æå–Elementä¸­æ‰€æœ‰å†…å®¹(æ ‡ç­¾æœ¬èº«): etree.tostring(ele, method=&quot;html&quot;) ä¿®æ”¹ElementæŸä¸€å±æ€§: 123456appendixs = html_content.xpath('/html/body/div[4]/div/div[4]/div/div/div[1]/div[4]/p/a')for a in appendixs: href = a.xpath(\"@href\")[0] save_path = self.download_file(ReUtil.extra_announcement_id(detail_article_url), href, title) # htmlä¸­ä¼šå¯¹\\è¿›è¡Œè½¬ä¹‰ a.attrib[\"href\"] = save_path æ³¨: ä¿®æ”¹å­elementçš„æŸå±æ€§åï¼ŒrootèŠ‚ç‚¹tostringçš„ç»“æœä¸­elementä¹Ÿä¼šè¢«ä¿®æ”¹ã€‚(rootæŠ±æœ‰elementçš„å¼•ç”¨) Elementçš„XMLæ ‡è®°åé€šè¿‡å¯¹è±¡çš„å±æ€§è®¿é—® 12345678910a = &apos;&lt;a href=&quot;http://baidu.com&quot;&gt;hh&lt;span&gt;gg&lt;/span&gt;&lt;/a&gt;&apos;res = &#123;_Element: 1&#125; &lt;Element html at 0x1de3a6b9800&gt; attrib = &#123;_Attrib: 0&#125; &#123;&#125; base = &#123;NoneType&#125; None nsmap = &#123;dict: 0&#125; &#123;&#125; prefix = &#123;NoneType&#125; None sourceline = &#123;int&#125; 1 tag = &#123;str&#125; &apos;html&apos; tail = &#123;NoneType&#125; None text = &#123;NoneType&#125; None Elementè¢«ç»„ç»‡åœ¨XMLæ ‘ç»“æ„ä¸­ã€‚å¢åŠ å­Elementå¹¶æŒ‡å®šå®ƒä»¬çš„çˆ¶Elementï¼Œä½¿ç”¨appendæ–¹æ³•ã€‚ 12345# æ³•ä¸€root = etree.Element(\"root\")root.append(etree.Element(\"child1\"))# æ³•äºŒchildNode = etree.SubElement(root, \"child\") åˆ é™¤Elementä¸‹æŸä¸€èŠ‚ç‚¹å†…å®¹ï¼Œä¸æ·»åŠ ç›¸åŒï¼Œä¹Ÿæœ‰å®ä¾‹æ–¹æ³•å’Œå·¥å‚æ–¹æ³•ä¸¤ç§ parentnode.remove(node) etree.strip_elements(html, 'element_name', with_tag=True/False) timeitæ¨¡å—ä½¿ç”¨ 12345spider = HuaNengSpider(ifend=\"in\")# è®°å¾—setupå¯¼å…¥ run_time = timeit.timeit(\"spider.run_parallelly()\", \"from __main__ import spider\", number=1)# è¾“å‡ºçš„å•ä½ä¸ºs print(\"è€—æ—¶: &#123;&#125;s\".format(run_time)) 12run_time = timeit.timeit('HuaNengSpider(ifend=\"notin\", is_in_one=True).run_with_concurrent()', \"from __main__ import HuaNengSpider\", number=1) Pythonä¸­æ“ä½œSQLAlchemy,SQLAlchemyä¸­æ–‡æŠ€æœ¯æ–‡æ¡£ å‚è€ƒï¼šhttps://www.jianshu.com/p/0ad18fdd7eedã€python3 SQLAlchemyæ¨¡å—ä½¿ç”¨ ArgumentParserä½¿ç”¨ parser.add_argument(&quot;-o&quot;, &quot;--is_in_one&quot;, action=&quot;store_true&quot;, help=&quot;æ•°æ®å­˜æ”¾åœ¨ä¸€å¼ è¡¨ä¸­&quot;), å…¶ä¸­actionçš„store_trueè¡¨ç¤ºï¼Œå¦‚æœå‡ºç°â€“is_in_one(action)åˆ™è®¾ç½®æœªtrue, æ‰€ä»¥é»˜è®¤ä¸ºFalse å‚æ•°è®¾ç½®ä¸ºTrueã€Falseçš„æœ€å¥½ä¸ä½¿ç”¨choiceå‚æ•°ï¼šå› ä¸º parser.add_argument(&quot;-o&quot;, &quot;--is_in_one&quot;, choices=[True, False], help=&quot;æ•°æ®å­˜æ”¾åœ¨ä¸€å¼ è¡¨ä¸­&quot;), choiceä¸­ä¸ºTrueã€Falseæ—¶ï¼Œ å¯ä»¥é€‰æ‹©ä¸å¡«ï¼Œæ­¤æ—¶is_in_oneä¸ºNoneï¼Œ å¦‚æœå¿…é¡»è¦è¿™ä¸¤ä¸ªåˆ™é€‰ä¸€ä¸ªåˆ™åŠ ä¸Šrequired=Trueé€‰é¡¹ åŠ ä¸Šrequiredæ•ˆæœ===&gt;çˆ¬è™«è„šæœ¬: error: argument -o/--is_in_one: invalid choice: 'q' (choose from True, False)ï¼Œ ä½†æ˜¯å¦‚æœè¾“å…¥TrueåŒæ ·ä¼šæŠ¥é”™: çˆ¬è™«è„šæœ¬: error: argument -o/â€“is_in_one: invalid choice: â€˜Trueâ€™ (choose from True, False) æ‰€ä»¥åªæœ‰choices=[&quot;True&quot;, &quot;False&quot;]æ‰èƒ½ç”Ÿæ•ˆï¼Œ å¥½åœ¨çš„æ˜¯Pythonä¸­å¯¹trueåˆ¤æ–­æ¯”è¾ƒå®½å®¹ï¼Œä¸‹é¢ä¸‰ç§éƒ½å¯ä»¥ï¼Œå› æ­¤ä½¿å¾—choiceä¼ strç±»å‹çš„Trueä¹Ÿå¯ä»¥æˆåŠŸåˆ¤å®šï¼Œå³èƒ½å®ç°ç›¸åŒæ•ˆæœï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨äº›æ­§ä¹‰çš„ï¼Œå¾—è°¨æ…ä½¿ç”¨ 123456789a = \"true\"b = Truec = \"True\"if a: print(\"a yes\")if b: print(\"b yes\")if c: print(\"c yes\") å…¶ä»–SQLæ–‡ä»¶ 1234567891011121314151617181920212223242526272829CREATE TABLE `auto_bilibili` ( `id` int(11) NOT NULL AUTO_INCREMENT, `userid` int(11) NOT NULL, `name` varchar(255) NOT NULL COMMENT 'åˆ›å»ºçš„ä»»åŠ¡å', `sessdata` longtext NOT NULL, `bili_jct` longtext NOT NULL, `dedeuserid` longtext NOT NULL, `taskIntervalTime` int(11) NOT NULL DEFAULT '10' COMMENT 'ä»»åŠ¡ä¹‹é—´çš„æ‰§è¡Œé—´éš”', `numberOfCoins` int(11) NOT NULL DEFAULT '5' COMMENT 'æ¯æ—¥æŠ•å¸æ•°é‡', `reserveCoins` int(11) NOT NULL DEFAULT '50' COMMENT 'é¢„ç•™çš„ç¡¬å¸æ•°', `selectLike` int(11) NOT NULL DEFAULT '0' COMMENT 'æŠ•å¸æ—¶æ˜¯å¦ç‚¹èµï¼Œé»˜è®¤ 0, 0ï¼šå¦ 1ï¼šæ˜¯', `monthEndAutoCharge` varchar(10) NOT NULL DEFAULT 'true' COMMENT 'å¹´åº¦å¤§ä¼šå‘˜æœˆåº•æ˜¯å¦ç”¨ B å¸åˆ¸ç»™è‡ªå·±å……ç”µï¼Œé»˜è®¤ trueï¼Œå³å……ç”µå¯¹è±¡æ˜¯ä½ æœ¬äººã€‚', `giveGift` varchar(10) NOT NULL DEFAULT 'true' COMMENT 'ç›´æ’­é€å‡ºå³å°†è¿‡æœŸçš„ç¤¼ç‰©ï¼Œé»˜è®¤å¼€å¯', `upLive` varchar(255) NOT NULL DEFAULT '0' COMMENT 'ç›´æ’­é€å‡ºå³å°†è¿‡æœŸçš„ç¤¼ç‰©ï¼ŒæŒ‡å®š up ä¸»ï¼Œä¸º 0 æ—¶åˆ™éšéšæœºé€‰å–ä¸€ä¸ª up ä¸»', `chargeForLove` varchar(255) NOT NULL DEFAULT '0' COMMENT 'ç»™æŒ‡å®š up ä¸»å……ç”µï¼Œå€¼ä¸º 0 æˆ–è€…å……ç”µå¯¹è±¡çš„ uidï¼Œé»˜è®¤ä¸º 0ï¼Œå³ç»™è‡ªå·±å……ç”µ', `devicePlatform` varchar(10) NOT NULL DEFAULT 'ios' COMMENT 'æ‰‹æœºç«¯æ¼«ç”»ç­¾åˆ°æ—¶çš„å¹³å°ï¼Œå»ºè®®é€‰æ‹©ä½ è®¾å¤‡çš„å¹³å° ï¼Œé»˜è®¤ ios', `coinAddPriority` int(11) NOT NULL DEFAULT '1' COMMENT '0ï¼šä¼˜å…ˆç»™çƒ­æ¦œè§†é¢‘æŠ•å¸ï¼Œ1ï¼šä¼˜å…ˆç»™å…³æ³¨çš„ up æŠ•å¸', `userAgent` varchar(255) NOT NULL DEFAULT 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36 Edg/86.0.622.69' COMMENT 'æµè§ˆå™¨ UA', `skipDailyTask` varchar(10) NOT NULL DEFAULT 'false' COMMENT 'æ˜¯å¦è·³è¿‡æ¯æ—¥ä»»åŠ¡', `webhook` varchar(255) DEFAULT NULL COMMENT 'æ¨é€åœ°å€', `enddate` datetime DEFAULT NULL, `match_enable` varchar(10) NOT NULL DEFAULT 'false' COMMENT 'é¢„æµ‹æ˜¯å¦å¼€å¯', `match_predictNumberOfCoins` int(11) NOT NULL DEFAULT '10' COMMENT 'å•æ¬¡é¢„æµ‹æŠ•æ³¨ç¡¬å¸', `match_minimumNumberOfCoins` int(11) NOT NULL DEFAULT '200' COMMENT 'é¢„æµ‹ä¿ç•™ç¡¬å¸', `match_showHandModel` varchar(255) NOT NULL DEFAULT 'false' COMMENT 'æŠ¼æ³¨å½¢å¼', `other` varchar(255) DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE, KEY `userid` (`userid`) USING BTREE) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 ROW_FORMAT=DYNAMIC","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"}]},{"title":"æ·±å…¥å­¦ä¹ ä½¿ç”¨Spring","slug":"æ·±å…¥å­¦ä¹ ä½¿ç”¨Spring","date":"2022-02-27T05:52:08.000Z","updated":"2022-02-27T05:54:23.566Z","comments":true,"path":"2022/02/27/æ·±å…¥å­¦ä¹ ä½¿ç”¨Spring/","link":"","permalink":"https://nymrli.top/2022/02/27/æ·±å…¥å­¦ä¹ ä½¿ç”¨Spring/","excerpt":"","text":"From : https://www.bilibili.com/video/BV1fr4y1Y7UH?p=6 åˆ›å»ºbeançš„æ–¹å¼ï¼š å£°æ˜å¼ &lt;bean&gt;&lt;/bean&gt; &lt;bean&gt;&lt;/bean&gt;ï¼š é€šè¿‡xmlæ¥é…ç½®bean 123456789101112131415161718192021222324252627282930&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\"&gt; &lt;bean id=\"p1\" class=\"top.nymrli.tryboot.po.User\"&gt; &lt;property name=\"name\" value=\"å¼ ä¸‰\"/&gt; &lt;property name=\"age\" value=\"18\"/&gt; &lt;/bean&gt;&lt;/beans&gt; @Test public void testPerson() &#123; ApplicationContext ctx = new ClassPathXmlApplicationContext(\"applicationContext.xml\"); User user = annotationConfigApplicationContext.getBean(\"p1\", User.class); System.out.println(user);&#125; @Bean @Bean: é€šè¿‡æ³¨è§£æ¥æ ‡æ³¨SpringBeanå¯¹è±¡ 12345678910111213141516171819public class Config &#123; @Bean(\"user\") public User getUser()&#123; return new User(\"name\", 20); &#125;&#125; @Test public void testPerson() &#123; AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext(); ctx.register(Config.class); // æˆ–è€… AnnotationConfigApplicationContext annotationConfigApplicationContext = new AnnotationConfigApplicationContext(Config.class); ctx.refresh(); User user = ctx.getBean(\"user\", User.class); System.out.println(user); &#125; AnnotationConfigApplicationContext annotationConfigApplicationContext = new AnnotationConfigApplicationContext(Config.class);ä¸ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);ä¸€æ ·ï¼Œéƒ½æ˜¯æŒ‡å®šbeançš„é…ç½®è·¯å¾„åè§£æï¼Œè·å¾—beançš„é…ç½®ã€‚ @Component @Component: é€šè¿‡æ ‡æ³¨æ¥åˆ›å»ºä¸€ä¸ªç»„ä»¶SpringBeanå¯¹è±¡ï¼Œå¦‚ä¸‹çš„Userã€‚ ==&gt; ç­‰ä»·äºctx.registerBean(User.class)ï¼ŒregisterBeanæ–¹æ³•çš„å®ç°æœ€ç»ˆä¹Ÿæ˜¯è°ƒç”¨äº†registerBeanDefinition è€ŒConfigä¸æ˜¯ä¸€ä¸ªbeanï¼Œä»–çš„ä½œç”¨è·ŸapplicationContext.xmlä¸€æ ·ï¼Œä»–æ˜¯å­˜æ”¾beanå®šä¹‰è·¯å¾„çš„ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œæ˜¯é€šè¿‡ComponentScanè®©Springèƒ½å¤Ÿæ‰¾åˆ°top.nymrli.tryboot.poä¸‹çš„æ‰€æœ‰Beanå¹¶è§£ææˆSpringBean 1234567891011121314151617181920212223@ComponentScan(\"top.nymrli.tryboot.po\")public class Config &#123;&#125;@Data@AllArgsConstructor@NoArgsConstructor@Component // ==&gt; beanNameä¸ºuser, ç±»åå°å†™public class User &#123; private String name; private int age;&#125;@Testpublic void testPerson()&#123; AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext(Config.class); User user = ctx.getBean(User.class); System.out.println(user);&#125; ä¼šè‡ªåŠ¨è°ƒç”¨Userçš„æ— å‚æ„é€ æ–¹å¼æ¥åˆ›å»ºJavaBeanï¼Œ å› æ­¤å¾—åˆ°çš„Useræ˜¯User(name=null, age=0) â–².ä¸Šè¿°ä¸‰ç§åˆ›å»ºæ–¹å¼æœ¬è´¨ä¸Šéƒ½æ˜¯åˆ›å»ºäº†BeanDefinitionï¼Œåªä¸è¿‡Springè¿›è¡Œäº†å°è£…ï¼Œå› æ­¤ä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ç›´è§‚ @Import spring4.2ä¹‹å@Importæ³¨è§£å¯ä»¥å®ä¾‹åŒ–æ™®é€šç±»çš„beanå®ä¾‹ 1234567891011121314151617181920212223@Datapublic class Role &#123; private Long id; private String name;&#125;@Import(Role.class) // @Import(&#123;Role.class, User.class&#125;)@Configurationpublic class MyConfig &#123;&#125;@RequestMapping(\"/\")@RestControllerpublic class TestController &#123; @Autowired private Role role; @GetMapping(\"/test\") public String test() &#123; System.out.println(role); return \"test\"; &#125;&#125; Springåœ¨åˆ›å»ºMyConfigçš„æ—¶å€™ï¼Œä¼šæ ¹æ®@Importå°†Roleä¹Ÿå®ä¾‹åŒ–æˆä¸€ä¸ªBean ç¼–ç¨‹å¼ BeanDefinition é€šè¿‡åˆ›å»ºå¹¶é…ç½® BeanDefinition æ¥åˆ›å»ºä¸€ä¸ªBean Q: ä»€ä¹ˆæ˜¯BeanDefinition? A: BeanDefinitionè¡¨ç¤ºBeançš„å®šä¹‰ä¿¡æ¯ï¼Œ Springä¼šæ ¹æ®BeanDefinitionæ¥åˆ›å»ºBeanå¯¹è±¡ã€‚BeanDefinitionæœ‰å¾ˆå¤šçš„å±æ€§ç”¨æ¥æè¿°Beanï¼Œ BeanDefinitionæ˜¯Springä¸­éå¸¸æ ¸å¿ƒçš„æ¦‚å¿µã€‚ beanClass: è¡¨ç¤ºBeanå¯¹è±¡çš„ç±»ç±»å‹ï¼Œ Springåœ¨åˆ›å»ºBeançš„è¿‡ç¨‹ä¸­æ ¹æ®æ­¤å±æ€§æ¥åˆ¤æ–­å®ä¾‹åŒ–å¯¹è±¡å…·ä½“çš„ç±»ç±»å‹ scopeï¼šä½œç”¨åŸŸï¼Œ[singletonã€prototype]ï¼Œå•ä¾‹æˆ–è€…åŸå‹bean isLazyï¼šæ˜¯å¦éœ€è¦æ‡’åŠ è½½ï¼ŒåŸå‹Beançš„æ‡’åŠ è½½ä¸å¥æ•ˆã€‚æ‡’åŠ è½½çš„å•ä¾‹beanï¼Œä¼šåœ¨ç¬¬ä¸€æ¬¡getBeançš„æ—¶å€™ç”Ÿæˆè¯¥beanï¼Œéæ‡’åŠ è½½çš„å•ä¾‹beanï¼Œåˆ™ä¼šåœ¨Spring.å¯åŠ¨è¿‡ç¨‹ä¸­ç›´æ¥ç”Ÿæˆå¥½ã€‚ dependsOnï¼šè¡¨ç¤ºä¸€ä¸ªbeanåœ¨åˆ›å»ºä¹‹å‰æ‰€ä¾é¢—çš„å…¶ä»–beanï¼Œåœ¨ä¸€ä¸ªbeanåˆ›å»ºä¹‹å‰ï¼Œå®ƒæ‰€ä¾èµ–çš„è¿™äº›beanå¾—å…ˆå…¨éƒ¨åˆ›å»ºå¥½ã€‚ primaryï¼šè¡¨ç¤ºä¸€ä¸ªbeanæ˜¯ä¸»beanï¼Œåœ¨Springä¸­ä¸€ä¸ªç±»å‹å¯ä»¥æœ‰å¤šä¸ªbeanå¯¹è±¡ï¼Œåœ¨è¿›è¡Œä¾èµ–æ³¨å…¥æ—¶ï¼Œå¦‚æœæ ¹æ®ç±»å‹æ‰¾åˆ°äº†å¤šä¸ªbÂ©anï¼Œæ­¤æ—¶ä¼šåˆ¤æ–­è¿™äº›beanä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªä¸»beanï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ç›´æ¥å°†è¿™ä¸ªbeanæ³¨å…¥ç»™å±æ€§ã€‚ initMethodNameï¼š è¡¨ç¤ºä¸€ä¸ªbeançš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä¸€ä¸ªbeançš„ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªæ­¥éª¤å«åˆå§‹åŒ–ï¼ŒSpringä¼šåœ¨è¿™ä¸ªæ­¥éª¤ä¸­å»è°ƒç”¨beançš„åˆå§‹åŒ–æ–¹æ³•ã€‚åˆå§‹åŒ–é€»è¾‘ç”±ç¨‹åºå‘˜è‡ªå·±æ§åˆ¶ï¼Œä½¿å¾—ç¨‹åºå‘˜å¯ä»¥è‡ªå®šä¹‰é€»è¾‘å¯¹beanè¿›è¡ŒåŠ å·¥ã€‚ é€šè¿‡&lt;bean&gt;&lt;/bean&gt;ã€@Beanã€@Componentæ ‡æ³¨çš„ç±»éƒ½ä¼šè§£æä¸ºBeanDefinitionï¼Œä¾›Springåˆ›å»ºï¼ˆå®ä¾‹åŒ–ï¼‰å…·ä½“çš„Beanã€‚ 123456789101112@Testpublic void testPerson()&#123; AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext(Config.class); AbstractBeanDefinition bd = BeanDefinitionBuilder.genericBeanDefinition().getBeanDefinition(); bd.setBeanClass(User.class); // å°†BeanDefinitionæ³¨å†Œåˆ°ä¸Šä¸‹æ–‡ä¸­ ctx.registerBeanDefinition(\"user\", bd); // è·å¾—Beanå¯¹è±¡ User user = (User)ctx.getBean(\"user\"); System.out.println(user);&#125; FactoryBean FactoryBeanæ˜¯Spring.æ‰€æä¾›çš„ä¸€ç§è¾ƒçµæ´»çš„åˆ›å»ºBeançš„æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡å®ç°FactoryBeanï¼šæ¥å£ä¸­çš„getObject()æ–¹æ³•æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æœ€ç»ˆçš„Beanå¯¹è±¡ã€‚ FactoryBeanæ¥å£ä¸­çš„æ–¹æ³• Object getObject()ï¼šè¿”å›çš„æ˜¯Beanå¯¹è±¡ boolean isSingleton()ï¼šè¿”å›çš„æ˜¯å¦æ˜¯å•ä¾‹Beanå¯¹è±¡ Class getObjectType()ï¼šè¿”å›çš„æ˜¯Beanå¯¹è±¡çš„ç±»å‹ 1234567891011121314151617@Component(\"zhouyu\")public class ZhouyuFactoryBean implements FactoryBean &#123; @Override public boolean isSingleton() &#123; return true; &#125; @Override public Object getObject() &#123; return new User(\"cl\", 18); &#125; @Override public Class&lt;?&gt; getObjectType() &#123; return User.class; &#125;&#125; ä¸Šè¿°ä»£ç ï¼Œå®é™…ä¸Šå¯¹åº”äº†ä¸¤ä¸ªBeanå¯¹è±¡ï¼š 1ã€beanNameä¸º&quot;zhouyuâ€™ï¼Œbeanå¯¹è±¡ä¸ºgetObjectæ–¹æ³•æ‰€è¿”å›çš„Userå¯¹è±¡ã€‚=&gt;applicationcontext.getBean(nameï¼š&quot;zhouyu&quot;ï¼ŒZhouyuFactory.class); 2ã€beanNameä¸º&quot;&amp;zhouyuâ€™ï¼Œbeanå¯¹è±¡ä¸ºZhouyuFactoryBeanç±»çš„å®ä¾‹å¯¹è±¡ã€‚=&gt;applicationcontext.getBean(nameï¼š&quot;&amp;zhouyu&quot;ï¼ŒZhouyuFactoryBean.class); ä¸BeanFactoryçš„åŒºåˆ«ï¼š FactoryBeanå¯¹è±¡æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªBeanï¼ŒåŒæ—¶å®ƒç›¸å½“äºä¸€ä¸ªå°å‹å·¥å‚ï¼Œå¯ä»¥ç”Ÿäº§å‡ºå¦å¤–çš„Beanã€‚==ã€‹æŒ‡å®šç±»å‹çš„Beanå¯¹è±¡ FactoryBeanæœºåˆ¶è¢«å¹¿æ³›çš„åº”ç”¨åœ¨Springå†…éƒ¨å’ŒSpring-ä¸ç¬¬ä¸‰æ–¹æ¡†æ¶æˆ–ç»„ä»¶çš„æ•´åˆè¿‡ç¨‹ä¸­ã€‚ BeanFactoryæ˜¯ä¸€ä¸ªSpringå®¹å™¨ï¼Œæ˜¯ä¸€ä¸ªå¤§å‹å·¥å‚ï¼Œå®ƒå¯ä»¥ç”Ÿäº§å‡ºå„ç§å„æ ·çš„Beano Supplier 123456789101112131415161718@Testpublic void testPerson()&#123; AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext(Config.class); ctx.registerBean(User.class, new Supplier&lt;User&gt;() &#123; @Override public User get() &#123; User userx = new User(); userx.setAge(222); userx.setName(\"supplier\"); return userx; &#125; &#125;); User user = (User)ctx.getBean(\"user\"); System.out.println(user); &#125; BeanFactory BeanFactoryæ˜¯ä¸€ç§â€œSpringå®¹å™¨â€ï¼Œ BeanFactoryç¿»è¯‘è¿‡æ¥å°±æ˜¯Beanå·¥å‚ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒå¯ä»¥ç”¨æ¥åˆ›å»ºBeanã€è·å–Beanã€‚ æ¦‚å¿µåŒºåˆ†ï¼š BeanFactoryå°†åˆ©ç”¨BeanDefinitionï¼šæ¥ç”ŸæˆBeanå¯¹è±¡ BeanDefinitionç›¸å½“äºBeanFactoryçš„åŸææ–™ Beanå¯¹è±¡å°±ç›¸å½“äºBeanFactoryï¼‰æ‰€ç”Ÿäº§å‡ºæ¥çš„äº§å“ BeanFactoryçš„æ ¸å¿ƒå­æ¥å£å’Œå®ç°ç±»ï¼š ListableBeanFactory ConfigurableBeanFactory AutowireCapableBeanFactory AbstractBeanFactory DefaultListableBeanFactory Â·Â·Â· Beanç”Ÿå‘½å‘¨æœŸ Beanç”Ÿå‘½å‘¨æœŸæè¿°çš„æ˜¯Springä¸­ä¸€ä¸ªBeanåˆ›å»ºè¿‡ç¨‹å’Œé”€æ¯è¿‡ç¨‹ä¸­æ‰€ç»å†çš„æ­¥éª¤ï¼Œå…¶ä¸­Beanåˆ›å»ºè¿‡ç¨‹æ˜¯é‡ç‚¹ã€‚ç¨‹åºå‘˜å¯ä»¥åˆ©ç”¨Beanç”Ÿå‘½å‘¨æœŸæœºåˆ¶å¯¹Beanè¿›è¡Œè‡ªå®šä¹‰åŠ å·¥ã€‚ Beanå®šä¹‰ï¼šé€šè¿‡xmlæˆ–è€…ç¼–å†™ç±»çš„å½¢å¼æ¥åˆ›å»ºBeanDefinition æ„é€ æ–¹æ³•æ¨æ–­ï¼šä»beançš„å¤šä¸ªæ„é€ æ–¹æ³•ä¸­é€‰å‡ºä¸€ä¸ªæ„é€ æ–¹æ³• å®ä¾‹åŒ–ï¼šé€šè¿‡æ„é€ æ–¹æ³•åå°„è·å¾—å¯¹è±¡ï¼Œåœ¨Springä¸­å¯ä»¥é€šè¿‡BeanPostProcessoræœºåˆ¶å¯¹å®ä¾‹åŒ–è¿›è¡Œå¹²é¢„ å±æ€§å¡«å……(è‡ªåŠ¨æ³¨å…¥ã€ä¾èµ–æ³¨å…¥)ï¼šç»™å±æ€§è¿›è¡Œè‡ªåŠ¨å¡«å……ï¼Œæ¯”å¦‚@Valueï¼Œ@AutoWired åˆå§‹åŒ–ï¼šåœ¨ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å¡«å……ä¹‹åï¼ŒSpringæä¾›äº†åˆå§‹åŒ–æœºåˆ¶ï¼Œè®©ç¨‹åºå‘˜å¯ä»¥å¯¹å…¶ä»–å±æ€§è¿›è¡Œèµ‹å€¼ã€æ ¡éªŒç­‰è‡ªå®šä¹‰åŠ å·¥(åˆ©ç”¨InitializingBeanæ¥å£) åˆå§‹åŒ–åï¼šAopã€ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚å¸¸è¯´çš„Aopæœºåˆ¶å°±æ˜¯åœ¨è¿™ä¸ªæ­¥éª¤ä¸­é€šè¿‡BeanPostProcessoræœºåˆ¶å®ç°çš„ï¼Œè¿™æ­¥ä¹‹åè·å¾—çš„å¯¹è±¡æ‰æ˜¯çœŸæ­£çš„Beanå¯¹è±¡ åˆ›å»ºè¿‡ç¨‹ï¼š ç”Ÿå‘½å‘¨æœŸå›¾ï¼š å±æ€§å¡«å……æ³¨è§£ï¼š@Autowiredã€@Resourceã€@Value @Autowired. è¡¨ç¤ºæŸä¸ªå±æ€§æ˜¯å¦éœ€è¦è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œå¯ä»¥å†™åœ¨å±æ€§å’Œæ–¹æ³•ä¸Šã€‚æ³¨è§£ä¸­çš„requiredå±æ€§é»˜è®¤ä¸ºtureï¼Œè¡¨ç¤ºå¦‚æœæ²¡æœ‰å¯¹è±¡å¯ä»¥æ³¨å…¥ç»™å±æ€§åˆ™æŠ›å¼‚å¸¸ã€‚ @Autowiredï¼šåŠ åœ¨æŸä¸ªå±æ€§ä¸Šï¼ŒSpringåœ¨è¿›è¡ŒBeançš„ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­ï¼Œåœ¨å±æ€§å¡«å……è¿™ä¸€æ­¥ä¼šåŸºäºå®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡ï¼Œå¯¹è¯¥å¯¹è±¡ä¸­åŠ äº†@Autowiredçš„å±æ€§è‡ªåŠ¨ç»™å±æ€§èµ‹å€¼ã€‚å…·ä½“å®ç°ä¸ºï¼š Springä¼šå…ˆæ ¹æ®å±æ€§çš„ç±»å‹å»Springå®¹å™¨ä¸­æ‰¾å‡ºè¯¥ç±»å‹æ‰€æœ‰çš„Beanå¯¹è±¡ï¼Œå¦‚æœæ‰¾å‡ºæ¥å¤šä¸ªï¼Œåˆ™å†æ ¹æ®å±æ€§çš„åå­—ä»å¤šä¸ªä¸­å†ç¡®å®šä¸€ä¸ªã€‚å¦‚æœrequiredå±æ€§ä¸ºtrueï¼Œå¹¶ä¸”æ ¹æ®å±æ€§ä¿¡æ¯æ‰¾ä¸åˆ°å¯¹è±¡ï¼Œåˆ™ç›´æ¥æŠ›å¼‚å¸¸ã€‚ å½“@Autowiredæ³¨è§£å†™åœ¨æŸä¸ªæ–¹æ³•ä¸Šæ—¶ï¼ŒSpringåœ¨B eanç”Ÿå‘½å‘¨æœŸçš„å±æ€§å¡«å……é˜¶æ®µï¼Œä¼šæ ¹æ®æ–¹æ³•çš„å‚æ•°ç±»å‹ã€å‚æ•°åå­—ä»Springå®¹å™¨æ‰¾åˆ°å¯¹è±¡å½“åšæ–¹æ³•å…¥å‚ï¼Œè‡ªåŠ¨åå°„è°ƒç”¨è¯¥æ–¹æ³•ã€‚ @AutowiredåŠ åœ¨æ„é€ æ–¹æ³•ä¸Šæ—¶ï¼ŒSpringä¼šåœ¨æ¨æ–­æ„é€ æ–¹æ³•é˜¶æ®µï¼Œé€‰æ‹©è¯¥æ„é€ æ–¹æ³•æ¥è¿›è¡Œå®ä¾‹åŒ–ï¼Œåœ¨åå°„è°ƒç”¨æ„é€ æ–¹æ³•ä¹‹å‰ï¼Œä¼šå…ˆæ ¹æ®æ„é€ æ–¹æ³•å‚æ•°ç±»å‹ã€å‚æ•°åä»Springå®¹å™¨ä¸­æ‰¾åˆ°Beanå¯¹è±¡ï¼Œå½“åšæ„é€ æ–¹æ³•å…¥å‚ã€‚ @Resource @Resourceæ³¨è§£ä¸@Autowiredç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨æ¥è¿›è¡Œä¾èµ–æ³¨å…¥çš„ï¼Œ@Resourceæ˜¯Javaå±‚é¢æ‰€æä¾›çš„æ³¨è§£ï¼Œ@Autowired.æ˜¯Springæ‰€æä¾›çš„æ³¨è§£ï¼Œå®ƒä»¬ä¾èµ–æ³¨å…¥çš„åº•å±‚å®ç°é€»è¾‘ä¹Ÿä¸åŒã€‚ @Resourceï¼šæ³¨è§£ä¸­æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œé’ˆå¯¹na meå±æ€§æ˜¯å¦æœ‰å€¼ï¼Œ@Resourceçš„ä¾èµ–æ³¨å…¥åº•å±‚æµç¨‹æ˜¯ä¸åŒçš„ã€‚ @Reousrceï¼šå¦‚æœnameå±æ€§æœ‰å€¼ï¼Œé‚£ä¹ˆSpringä¼šç›´æ¥æ ¹æ®æ‰€æŒ‡å®šçš„nameå€¼å»Springå®¹å™¨æ‰¾Beanå¯¹è±¡ï¼Œå¦‚æœæ‰¾åˆ°äº†åˆ™æˆåŠŸï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æŠ¥é”™ã€‚ å¦‚æœ@Resourceä¸­çš„nameå±æ€§æ²¡æœ‰å€¼ï¼Œåˆ™ï¼š å…ˆåˆ¤æ–­è¯¥å±æ€§åå­—åœ¨Springå®¹å™¨ä¸­æ˜¯å¦å­˜åœ¨Beanå¯¹è±¡ã€‚ å¦‚æœå­˜åœ¨ï¼Œåˆ™æˆåŠŸæ‰¾åˆ°Beanå¯¹è±¡è¿›è¡Œæ³¨å…¥ã€‚ å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ ¹æ®å±æ€§ç±»å‹å»Springå®¹å™¨æ‰¾Beanå¯¹è±¡ï¼Œæ‰¾åˆ°ä¸€ä¸ªåˆ™è¿›è¡Œæ³¨å…¥ã€‚ @Value @Valueæ³¨è§£å’Œ@Resourceã€@Autowiredç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨æ¥å¯¹å±æ€§è¿›è¡Œä¾èµ–æ³¨å…¥çš„ï¼Œåªä¸è¿‡@Valueæ˜¯ç”¨æ¥ä»Properties.æ–‡ä»¶ä¸­æ¥è·å–å€¼çš„ï¼Œå¹¶ä¸”@Valueå¯ä»¥è§£æSpELï¼ˆSpringè¡¨è¾¾å¼ï¼‰ã€‚ @Value(&quot;yuzhou&quot;): ç›´æ¥å°†å­—ç¬¦ä¸²â€œzhouyuâ€èµ‹å€¼ç»™å±æ€§ï¼Œå¦‚æœå±æ€§ç±»å‹ä¸æ˜¯Stringï¼Œæˆ–æ— æ³•è¿›è¡Œç±»å‹è½¬åŒ–ï¼Œåˆ™æŠ¥é”™ã€‚ @Value(${&quot;yuzhou&quot;})ï¼š å°†ä¼šæŠŠ${}ä¸­çš„å­—ç¬¦ä¸²å½“åškeyï¼Œä»Propertiesæ–‡ä»¶ä¸­æ‰¾å‡ºå¯¹åº”çš„valueèµ‹å€¼ç»™å±æ€§ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œåˆ™ä¼šæŠŠ${zhouyu}å½“åšæ™®é€šå­—ç¬¦ä¸²æ³¨å…¥ç»™å±æ€§ã€‚ @Value(#{&quot;yuzhou&quot;}):ä¼šå°†#{}ä¸­çš„å­—ç¬¦ä¸²å½“åšSpringè¡¨è¾¾å¼è¿›è¡Œè§£æï¼ŒSpringä¼šæŠŠ&quot;zhouyu&quot;å½“åšbeanNameï¼Œå¹¶ä»Springå®¹å™¨ä¸­æ‰¾å¯¹åº”beanï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿›è¡Œå±æ€§æ³¨å…¥ï¼Œæ²¡æ‰¾åˆ°åˆ™æŠ¥é”™ã€‚ ApplicationContext ApplicationContextæ˜¯æ¯”BeanFactoryæ›´åŠ å¼ºå¤§çš„Springå®¹å™¨ï¼Œå®ƒæ—¢å¯ä»¥åˆ›å»ºbeanã€è·å–beanï¼Œè¿˜æ”¯æŒå›½é™…åŒ–ã€äº‹ä»¶å¹¿æ’­ã€è·å–èµ„æºç­‰BeanFactor yä¸å…·å¤‡çš„åŠŸèƒ½ã€‚ Application Contextï¼Œæ‰€ç»§æ‰¿çš„æ¥å£ EnvironmentCapableï¼šæ‹¥æœ‰è·å–ç¯å¢ƒå˜é‡çš„èƒ½åŠ›ï¼šæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡å’ŒJvmç¯å¢ƒå˜é‡ ListableBeanFactoryï¼šæ‹¥æœ‰äº†è·å–æ‰€æœ‰beanNamesã€åˆ¤æ–­æŸä¸ªbean Nameæ˜¯å¦å­˜åœ¨peanDefinitionå¯¹è±¡ã€ç»Ÿè®¡Be anDefinitionä¸ªæ•°ã€è·å–æŸä¸ªç±»å‹å¯¹åº”çš„æ‰€æœ‰beanNamesç­‰åŠŸèƒ½ã€‚ HierarchicalBeanFactoryï¼šæ‹¥æœ‰äº†è·å–çˆ¶BeanFactoryã€ã€‚åˆ¤æ–­æŸä¸ªnameæ˜¯å¦å­˜åœ¨beanå¯¹è±¡çš„åŠŸèƒ½ã€‚ MessageSourceï¼šæ‹¥æœ‰äº†å›½é™…åŒ–åŠŸèƒ½ï¼Œæ¯”å¦‚å¯ä»¥ç›´æ¥åˆ©ç”¨Messa geSourceå¯¹è±¡è·å–æŸä¸ªå›½é™…åŒ–èµ„æºï¼ˆæ¯”å¦‚ä¸åŒå›½å®¶è¯­è¨€æ‰€å¯¹åº”çš„å­—ç¬¦ï¼‰ ApplicationEventPublisherï¼š æ‹¥æœ‰äº†äº‹ä»¶å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥å‘å¸ƒäº‹ä»¶ï¼Œè¿™æ˜¯Application Contextç›¸å¯¹äºBeanFactoryæ¯”è¾ƒçªå‡ºã€å¸¸ç”¨çš„åŠŸèƒ½ã€‚ ResourcePatternResolver: æ‹¥æœ‰äº†åŠ è½½å¹¶è·å–èµ„æºçš„åŠŸèƒ½ï¼Œè¿™é‡Œçš„èµ„æºå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œå›¾ç‰‡ç­‰æŸä¸ªURLèµ„æºéƒ½å¯ä»¥ã€‚ è·å¾—beançš„æ–¹å¼ï¼š getBean() API æŒ‰åç§°è·å–Bean 123Object lion = context.getBean(\"lion\"); assertEquals(Lion.class, lion.getClass()); æ ¹æ®beanåç§°è·å–beanï¼Œå¦‚æœåœ¨spring icoå®¹å™¨ä¸­å­˜åœ¨å’Œbeanï¼Œåˆ™è¿”å›Object ç±»çš„å®ä¾‹ã€‚å¦åˆ™ï¼ŒæŠ›å‡ºå¦‚ä¸‹å¼‚å¸¸NoSuchBeanDefinitionExceptionã€‚ â–²: ä¸»è¦çš„ç¼ºç‚¹æ˜¯ï¼Œåœ¨è·å–beanä¹‹åï¼Œæˆ‘ä»¬å¿…é¡»å°†å®ƒæŒ‡å®šè½¬æ¢ä¸ºæ‰€éœ€çš„ç±»å‹ã€‚å¦‚æœè¿”å›çš„beançš„ç±»å‹ä¸æˆ‘ä»¬æœŸæœ›çš„ä¸åŒï¼Œåˆ™å¯èƒ½ä¼šäº§ç”Ÿå¼‚å¸¸ã€‚ é€šè¿‡åç§°å’Œç±»å‹è·å–Bean 1234567Lion lion = context.getBean(\"lion\", Lion.class);// ä¸æŒ‰åç§°è·å–Beanç›¸æ¯”ï¼Œæ­¤æ–¹æ³•æ›´å®‰å…¨ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ç¼–è¯‘é˜¶æ®µå°±å‘ç°é”™è¯¯è€Œä¸æ˜¯åœ¨è¿è¡Œé˜¶æ®µã€‚assertThrows(BeanNotOfRequiredTypeException.class, () -&gt; context.getBean(\"lion\", Tiger.class));&#125; æŒ‰ç±»å‹è·å–Bean 1234567// rightLion lion = context.getBean(Lion.class);// æ³¨æ„: åœ¨ä¸‹é¢çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„å¯èƒ½å­˜åœ¨çš„æ­§ä¹‰ï¼šassertThrows(NoUniqueBeanDefinitionException.class, () -&gt; context.getBean(Animal.class));&#125; ç”±äºLionå’ŒTigeréƒ½å®ç°äº†Animalæ¥å£ï¼Œå› æ­¤ä»…æŒ‡å®šç±»å‹ä¸è¶³ä»¥æ˜ç¡®ç¡®å®šç»“æœã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ª*NoUniqueBeanDefinitionException*ã€‚å³åœ¨åŒä¸€ä¸ªIOC å®¹å™¨ä¸­ï¼Œå¦‚æœæœ‰ç›¸åŒç±»å‹çš„å¤šä¸ªbeanï¼Œåˆ™ä¸èƒ½é€šè¿‡ç±»å‹è·å–beanã€‚ æŒ‰åç§°å’Œæ„é€ å‡½æ•°å‚æ•°å¯¹Beanè¿›è¡Œç­›é€‰ 12345Tiger tiger = (Tiger) context.getBean(\"tiger\", \"Siberian\");Tiger secondTiger = (Tiger) context.getBean(\"tiger\", \"Striped\"); assertEquals(\"Siberian\", tiger.getName());assertEquals(\"Striped\", secondTiger.getName()); æŒ‰ç±»å‹å’Œæ„é€ å‡½æ•°å‚æ•°å¯¹Beanè¿›è¡Œç­›é€‰ â–²: è¿™ä¸ªæ–¹æ³•æœ‰ç‚¹ä¸åŒï¼Œå› ä¸ºå®ƒåªé€‚ç”¨äºå…·æœ‰åŸå‹ä½œç”¨åŸŸçš„beanã€‚ 12Tiger tiger = context.getBean(Tiger.class, \"Shere Khan\");assertEquals(\"Shere Khan\", tiger.getName()); BeanPostProcessoræœºåˆ¶ BeanPostProcessoræ˜¯Springæ‰€æä¾›çš„ä¸€ç§æ‰©å±•æœºåˆ¶ï¼Œå¯ä»¥åˆ©ç”¨è¯¥æœºåˆ¶å¯¹Beanè¿›è¡Œå®šåˆ¶åŒ–åŠ å·¥ï¼Œåœ¨Springåº•å±‚æºç å®ç°ä¸­ï¼Œä¹Ÿå¹¿æ³›çš„ç”¨åˆ°äº†è¯¥æœºåˆ¶ï¼ŒBeanPostProcessoré€šå¸¸ä¹Ÿå«åšBeanåç½®å¤„ç†å™¨ã€‚ BeanPostProcessoråœ¨Springä¸­æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåç½®å¤„ç†å™¨ï¼Œå°±æ˜¯æä¾›ä¸€ä¸ªç±»å®ç°è¯¥æ¥å£ï¼Œåœ¨Springä¸­è¿˜å­˜åœ¨ä¸€äº›æ¥å£ç»§æ‰¿äº†BeanPostProcessorï¼Œè¿™äº›å­æ¥å£æ˜¯åœ¨BeanPostProcessorçš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›å…¶ä»–çš„åŠŸèƒ½ã€‚ BeanPostProcessoriä¸­çš„æ–¹æ³• postProcessBeforelnitialization()ï¼šåˆå§‹åŒ–å‰æ–¹æ³•ï¼Œè¡¨ç¤ºå¯ä»¥åˆ©ç”¨è¿™ä¸ªæ–¹æ³•æ¥å¯¹Beanåœ¨åˆå§‹åŒ–å‰è¿›è¡Œè‡ªå®šä¹‰åŠ å·¥ã€‚ postProcessAfterInitialization()ï¼šåˆå§‹åŒ–åæ–¹æ³•ï¼Œè¡¨ç¤ºå¯ä»¥åˆ©ç”¨è¿™ä¸ªæ–¹æ³•æ¥å¯¹Beanåœ¨åˆå§‹åŒ–åè¿›è¡Œè‡ªå®šä¹‰åŠ å·¥ã€‚ InstantiationAwareBeanPostProcessor BeanPostProcessorçš„ä¸€ä¸ªå­æ¥å£ postProcessBeforelnstantiation()ï¼šå®ä¾‹åŒ–å‰ postProcessAfterInstantiation()ï¼šå®ä¾‹åŒ–å postProcessProperties()ï¼šå±æ€§æ³¨å…¥å AOPæ˜¯ä»€ä¹ˆï¼Ÿ AOPå°±æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯ä¸€ç§éå¸¸é€‚åˆåœ¨æ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç çš„å‰æä¸‹ï¼Œå¯¹æŸä¸ªæˆ–æŸäº›ä¸šåŠ¡å¢åŠ ç»Ÿä¸€çš„åŠŸèƒ½ï¼ˆæ¨ªå‘å¢åŠ åŠŸèƒ½ï¼‰ï¼Œæ¯”å¦‚æ—¥å¿—è®°å½•ã€æƒé™æ§åˆ¶ã€äº‹åŠ¡ç®¡ç†ç­‰ï¼Œèƒ½å¾ˆå¥½çš„ä½¿å¾—ä»£ç è§£è€¦ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚","categories":[],"tags":[{"name":"Spring","slug":"Spring","permalink":"https://nymrli.top/tags/Spring/"},{"name":"Web","slug":"Web","permalink":"https://nymrli.top/tags/Web/"}]},{"title":"ç ”ç©¶ç”Ÿworkâ€”â€”åœ°å›¾åŒ¹é…","slug":"ç ”ç©¶ç”Ÿworkâ€”â€”åœ°å›¾åŒ¹é…","date":"2022-02-26T07:24:46.000Z","updated":"2022-03-09T13:33:00.468Z","comments":true,"path":"2022/02/26/ç ”ç©¶ç”Ÿworkâ€”â€”åœ°å›¾åŒ¹é…/","link":"","permalink":"https://nymrli.top/2022/02/26/ç ”ç©¶ç”Ÿworkâ€”â€”åœ°å›¾åŒ¹é…/","excerpt":"","text":"åœ°å›¾åŒ¹é… æ¦‚å¿µï¼š åœ°å›¾åŒ¹é…ï¼ˆMap-Matchingï¼‰æ˜¯å°†è¿è¥è½¦è¾†çš„æœ‰åºçš„GPSä½ç½®å…³è”åˆ°ç”µå­åœ°å›¾çš„è·¯ç½‘ä¸Šï¼Œå°†GPSåæ ‡ä¸‹é‡‡æ ·åºåˆ—è½¬æ¢ä¸ºæ•°å­—è·¯ç½‘åæ ‡åºåˆ—çš„è¿‡ç¨‹ï¼›æœ¬è´¨ä¸Šæ˜¯å¹³é¢çº¿æ®µåºåˆ—çš„æ¨¡å¼åŒ¹é…é—®é¢˜ï¼ˆ Altç­‰ï¼Œ2003ï¼‰ åœ°å›¾åŒ¹é…æ˜¯ä¸€ç§å°†åŸå§‹GPSä½ç½®æ˜ å°„åˆ°è·¯ç½‘ä¸Šçš„è·¯æ®µçš„è¿‡ç¨‹ï¼Œä»¥åˆ›å»ºå¯¹è½¦è¾†æ‰€èµ°è·¯çº¿çš„ä¼°ç®—ã€‚ ä¸¤ä¸ªä¸»è¦çš„åœ°å›¾åŒ¹é…ç”¨ä¾‹ ä¹˜è½¦ç»“æŸæ—¶ï¼Œè®¡ç®—é©¾é©¶å‘˜è¡Œè¿›çš„è·ç¦»ï¼Œä»¥è®¡ç®—ç¥¨ä»·ã€‚â€”â€”è·¯çº¿å›¾åŒ¹é…(EORMM) å®æ—¶ ï¼Œä¸ºETAå›¢é˜Ÿæä¾›å‡†ç¡®çš„ä½ç½®å¹¶åšå‡ºè°ƒåº¦å†³ç­–ï¼Œå¹¶åœ¨rideråº”ç”¨ç¨‹åºä¸Šæ˜¾ç¤ºé©¾é©¶å‘˜çš„æ±½è½¦ã€‚â€”â€”å®æ—¶åœ°å›¾åŒ¹é…(RTMM) ä¸åŒç‚¹åœ¨äºï¼Œå®æ—¶åœ°å›¾åŒ¹é…çš„è¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¿…é¡»ä½å»¶æ—¶ï¼Œå› æ­¤ç›¸æ¯”ä¹‹ä¸‹ï¼Œè·¯çº¿å›¾åŒ¹é…å¯¹ç­‰å¾…æ—¶é—´çš„è¦æ±‚ä¸é‚£ä¹ˆä¸¥æ ¼ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¹˜è½¦çš„å…¨éƒ¨å†å²è®°å½• å‚è€ƒï¼š https://zhuanlan.zhihu.com/p/83039334 Lyftçš„åœ°å›¾åŒ¹é…ç®—æ³•è®ºæ–‡ç¿»è¯‘ åœ°å›¾åŒ¹é…ç®—æ³•çš„æ€§èƒ½å–å†³äºé“è·¯ç½‘ç»œæ•°æ®çš„è´¨é‡ è§£å†³é—®é¢˜çš„ä¸€ç§å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨çŠ¶æ€ç©ºé—´æ¨¡å‹ ã€‚ çŠ¶æ€ç©ºé—´æ¨¡å‹æ˜¯æ—¶é—´åºåˆ—æ¨¡å‹ï¼Œå…¶ä¸­ç³»ç»Ÿå…·æœ‰â€œéšè—â€çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€æ— æ³•ç›´æ¥è§‚å¯Ÿåˆ°ï¼Œä½†ä¼šå¼•èµ·å¯è§çš„è§‚å¯Ÿã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çš„éšè—çŠ¶æ€æ˜¯æˆ‘ä»¬è¦ä¼°ç®—çš„æ±½è½¦åœ¨é“è·¯ç½‘ç»œä¸Šçš„å®é™…ä½ç½®ã€‚ æˆ‘ä»¬ä»…è§‚å¯Ÿåˆ°éšè—çŠ¶æ€çš„ä¿®æ”¹ç‰ˆæœ¬ï¼šè§‚å¯Ÿå€¼(åŸå§‹ä½ç½®æ•°æ®)ã€‚ æˆ‘ä»¬å‡è®¾ç³»ç»Ÿçš„çŠ¶æ€ä»¥ä»…å–å†³äºå½“å‰çŠ¶æ€çš„æ–¹å¼æ¼”åŒ–(é©¬å°”å¯å¤«å‡è®¾)ï¼Œå¹¶è¿›ä¸€æ­¥å®šä¹‰äº†ä»éšè—çŠ¶æ€åˆ°éšè—çŠ¶æ€çš„è½¬ç§»å¯†åº¦å’Œä»éšè—çŠ¶æ€åˆ°è§‚å¯Ÿçš„å¯†åº¦ã€‚ å¸¸ç”¨çš„åœ°å›¾åŒ¹é…çŠ¶æ€ç©ºé—´æ¨¡å‹æ˜¯ç¦»æ•£çŠ¶æ€éšé©¬å°”å¯å¤«æ¨¡å‹ (Newsonï¼†Krumm [2]ï¼ŒDiDiçš„IJCAI-19æ•™ç¨‹[3]ï¼ŒUberçš„Map Matching [4])ã€‚ åœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æŸ¥çœ‹è·¯æ®µä¸Šçš„æœ€è¿‘ç‚¹æ¥ç”Ÿæˆå€™é€‰å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ç»´ç‰¹æ¯”ç®—æ³•æŸ¥æ‰¾æœ€å¯èƒ½çš„éšè—çŠ¶æ€åºåˆ—ã€‚ å¯¹äºä¸åŒçš„å»ºæ¨¡é€‰æ‹©å’Œè¾“å…¥æ•°æ®è€Œè¨€ï¼Œå®ƒç›¸å¯¹ä¸çµæ´» å®ƒç¼©æ”¾ä¸¥é‡(O(NÂ²)ï¼Œå…¶ä¸­Næ˜¯æ¯ä¸ªçŠ¶æ€ä¸‹å¯èƒ½çš„å€™é€‰æ•°) å®ƒä¸èƒ½å¾ˆå¥½åœ°åº”å¯¹é«˜é¢‘è§‚æµ‹(è¯·å‚é˜…Newsonï¼†Krumm [2])ã€‚ GPSå®šä½ä¸åœ°å›¾åŒ¹é…æ–¹æ³•ç ”ç©¶ åœ°å›¾åŒ¹é…ç®—æ³•ä»åŸç†ä¸Šå¯ä»¥è§£é‡Šä¸ºä¸¤ä¸ªç‹¬ç«‹çš„è¿‡ç¨‹ï¼šï¼ˆ1ï¼‰æ‰¾åˆ°è½¦è¾†å½“å‰è¡Œä½¿çš„é“è·¯â€”â€”ç¡®å®šå€™é€‰è·¯æ®µï¼ˆ2ï¼‰å°†å½“å‰GPSå®šä½ç‚¹æŠ•å½±åˆ°è½¦è¾†è¡Œä½¿çš„é“è·¯ä¸Šâ€”â€”å€™é€‰è·¯æ®µåŒ¹é…è§„åˆ™ åœ†å¿ƒæ‹“å±•åŠå¾„æ‰¾åˆ°æœ€è¿‘çš„è·¯æ®µï¼ˆå”¯ä¸€ï¼‰â€”â€”æ„å»ºç¬¬ä¸€æ¡è¾¹çš„ç®—æ³• [1]è‹æ´, å‘¨ä¸œæ–¹, å²³æ˜¥ç”Ÿ. GPSè½¦è¾†å¯¼èˆªä¸­çš„å®æ—¶åœ°å›¾åŒ¹é…ç®—æ³•[J]. æµ‹ç»˜å­¦æŠ¥, 2001, 30(3):5. å¦å¤–ï¼Œä¸ºäº†æé«˜ç®—æ³•çš„é²æ£’æ€§ï¼Œå¯¹äºè¯¯å·®å¼•èµ· çš„é€Ÿåº¦å¼‚å¸¸ï¼Œæˆ‘ä»¬åˆ©ç”¨æ¨æµ‹èˆªä½æ³•å’Œçº¿æ€§æ’å€¼æ¥ è¿›è¡Œ GPSæ•°æ®è¡¥å¿ï¼Œä»¥æ¶ˆé™¤éƒ¨åˆ†GPSæ¥æ”¶å¤–éƒ¨ ç²—å·® [1]ææ¸…æ³‰, é»„ç»ƒ. åŸºäºGPSè½¨è¿¹æ•°æ®çš„åœ°å›¾åŒ¹é…ç®—æ³•[J]. æµ‹ç»˜å­¦æŠ¥, 2010(2):6. é’ˆå¯¹ä¼ ç»Ÿå¯¼èˆªç³»ç»Ÿçš„åœ°å›¾åŒ¹é…æ–¹æ³•çš„ç ”ç©¶è¾ƒå¤šã€‚å…¶ä¸­ç‚¹åˆ°çº¿çš„åŒ¹é…ç”±äºç¼ºä¹å¯¹æ•´ä½“è½¨è¿¹è¶‹åŠ¿çš„è€ƒè™‘ï¼Œåœ¨å¤æ‚çš„é“è·¯ç½‘ç¯å¢ƒä¸‹çš„åŒ¹é…æ˜“å¯¼è‡´è¯¯åŒ¹é…ã€‚ä¹Ÿæœ‰æ–¹æ³•ä½¿ç”¨DRã€å·®åˆ†GPSç­‰è¾…åŠ©è®¾å¤‡ï¼Œé‡‡ç”¨æ»¤æ³¢ã€æ¨¡ç³Šé€»è¾‘ã€è¯æ®ç†è®ºç­‰æ–¹æ³•æé«˜åœ°å›¾åŒ¹é…çš„å‡†ç¡®ç‡ã€‚GPSæµ®åŠ¨è½¦è½¨è¿¹æ•°æ®æä¾›äº†æ•´ä½“æ›²çº¿çš„å˜åŒ–è¶‹åŠ¿ï¼Œå¯ä»¥é‡‡ç”¨å…¨å±€æ•´ä½“åŒ¹é…çš„æ€æƒ³ï¼Œä¿è¯è½¨è¿¹çš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§14ï¼Ÿã€‚åŸºäºæ›²çº¿ç›¸ä¼¼åº¦çš„ç®—æ³•ä¸€èˆ¬ è¾ƒä¸ºå¤æ‚ï¼Œä½†åŒ¹é…ç²¾åº¦é«˜ï¼Œåˆ©äºè½¨è¿¹çš„ç›´æ¥æ¢å¤ï¼Œé€‚åˆè¿›è¡Œæ•°æ®çš„åå¤„ç† ä¸æ•´ä¸ªè½¨è¿¹ç›¸å¯¹ åº”çš„è·¯å¾„å¿…ç„¶æ˜¯è¿é€š çš„è·¯æ®µé›† ï¼Œå¯ä»¥åŸºäºé“è·¯æ‹“æ‰‘ä¸è¿é€šæ€§è®¾è®¡åœ°å›¾åŒ¹é…ç®—æ³• keyï¼šé™¤äº†é“è·¯çš„å‡ ä½•è¿é€šæ€§ï¼Œå®é™…è¡Œè½¦è¿˜ä¼šå—åˆ°äº¤é€šè§„åˆ™çš„é™åˆ¶ï¼Œæœ¬æ–‡åŸºäºé“è·¯ç½‘çš„è¡Œè½¦é™åˆ¶ä¿¡æ¯æå‡ºäº†ä¸€ç§GPSæµ®åŠ¨è½¦è½¨è¿¹æ•°æ®çš„å…¨å±€åœ°å›¾åŒ¹é…ç®—æ³•ï¼Œç»¼åˆè€ƒè™‘å¤‡é€‰è·¯æ®µçš„å‡ ä½•è¿é€šæ€§ä¸äº¤é€šç½‘ç»œæ¡ä»¶çº¦æŸæ„å»ºæ•´ä½“å¤‡é€‰è·¯å¾„ï¼Œç„¶åä½¿ç”¨æ”¹è¿›çš„æ‰«æçº¿æ³•åˆ¤æ–­å…¨å±€è½¨è¿¹æ›²çº¿ä¸å¤‡é€‰è·¯å¾„çš„ç›¸ä¼¼åº¦ï¼Œå®Œæˆåœ°å›¾åŒ¹é… ã€‚ ä¸€å¥è¯æ¦‚æ‹¬ç®—æ³•ï¼šé€šè¿‡è¡Œè½¦é™åˆ¶å°†å€™é€‰çº¿æ®µæ‰¾å‡ºæ¥åï¼Œé€‰æ‹©æ›²çº¿ç›¸ä¼¼åº¦æœ€é«˜çš„ [1]é™ˆæ»¨, ç‹å¹³, æ–½æ–‡ç¶,ç­‰. GPSè½¨è¿¹æ•°æ®çš„ç»¼åˆåœ°å›¾åŒ¹é…ç®—æ³•ç ”ç©¶[J]. ç”µå­ç§‘æŠ€, 2014, 27(12):4. ä»å®é™…çš„åŒ¹é…æ•ˆæœæ¥çœ‹ï¼Œæ­¤åŒ¹é…ç®—æ³•åœ¨äº¤å‰è·¯å£ç­‰è·¯æ®µè¾ƒå¤æ‚çš„åœ°æ–¹å¯æœ‰è¾ƒé«˜åœ°åŒ¹é…å‡†ç¡®ç‡ï¼Œä½†è¯¥æ–¹æ³•ä¾èµ–äºå‰åGPSå®šä½ç‚¹åŒ¹é…å‡†ç¡®åº¦ï¼Œè‹¥å‰ä¸€å®šä½ç‚¹åŒ¹é…é”™è¯¯å°±ä¼šå‡ºç°è¿é”ååº”ï¼Œä»è€Œå¯¼è‡´åé¢ä¸€ç³»åˆ—ç‚¹åŒ¹é…é”™è¯¯ï¼›ä¸”å†å²è½¨è¿¹æ¨ç®—åŒ¹é…æ³•è®¡ç®—é‡è¾ƒå¤§ï¼ŒåŒ¹é…é€Ÿåº¦è¾ƒæ…¢ï¼Œä¸åˆ©äºé«˜é€Ÿå®æ—¶å®šä½ã€‚å› æ­¤ï¼Œéœ€å’Œå…¶ä»–åœ°å›¾åŒ¹é…æ–¹æ³•ç›¸ç»“åˆä½¿ç”¨æ‰èƒ½å–å¾—è¾ƒå¥½çš„åŒ¹é…æ•ˆæœã€‚ æ™ºèƒ½äº¤é€šç³»ç»Ÿä¸­GPSåœ°å›¾åŒ¹é…ç®—æ³•è®¾è®¡ä¸å®ç°_ç½—æ°æ¶› æ¨¡ç³Šé€»è¾‘ï¼š æ•ˆç‡é«˜ï¼Œå®æ—¶æ€§å¥½ï¼Œå¯¹ç»å¤§å¤šæ•°çš„è·¯æ®µçŠ¶å†µéƒ½é€‚ç”¨ã€‚ä¸è¿‡åœ¨è½¦ä¿©æ‹å¼¯å¤„ä»¥åŠè½¦é€Ÿè¾ƒæ…¢çš„æƒ…å†µä¸‹åŒ¹é…æ•ˆæœä¸å°½å¦‚äººæ„ï¼Œä¸”ä¸åŒè·¯æ®µå»ºæ¨¡çš„ç³»æ•°å‡­é ç»éªŒå€¼ï¼Œæ²¡æœ‰ç›¸åº”çš„ç¼ºä¹ç†è®ºä¾æ®ã€‚â€”â€”01ã€06ã€08è®ºæ–‡ é«˜çº§åœ°å›¾åŒ¹é…ç®—æ³•ï¼šç ”ç©¶ç°çŠ¶å’Œè¶‹åŠ¿[2021] ä»å®ç°æŠ€æœ¯æˆ–æ¨¡å‹è§’åº¦å¯¹è¿‘åå¹´æå‡ºçš„ç®—æ³•è¿›è¡Œåˆ†ç±»ï¼Œç®­å¤´æ ‡è®°ç®—æ³•é—´çš„ç»§æ‰¿å…³ç³»ã€‚ä»å›¾2å¯è§ï¼ŒHMMæ¨¡å‹æ˜¯ä¸»æµï¼Œå…¶æ¬¡æ˜¯åŸºäºæœ€å¤§æƒé‡çš„æ¨¡å‹.HMM-News-onã€ST-Matching2 3IVMM3å’ŒHRIS8è¢«å¼•ç”¨å¯¹æ¯”æœ€å¤šï¼Œæ˜¯å…·æœ‰å¼€åˆ›æ€§çš„å·¥ä½œã€‚å¦å¤–ï¼Œä»2019å¹´å¼€å§‹ï¼Œæœ‰ç ”ç©¶é‡‡ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯æ¥è§£å†³åœ°å›¾åŒ¹é…é—®é¢˜ã€‚ Points: å¦å¤–ï¼Œä¸€ä¸ªé‡è¦çš„å®é™…é—®é¢˜æ˜¯ï¼Œå³ä½¿è½¦è¾†å®šä½ç²¾åº¦å¯ä»¥ä¿è¯åœ¨10ç±³ä»¥å†…ï¼Œå½“ç”µå­åœ°å›¾ç¼©æ”¾åˆ°è¾ƒå¤§çš„æ¯”ä¾‹å°ºæ—¶ï¼Œä¹Ÿä¼š å‡ºç°è½¦è¾†åç¦»è¡Œä½¿çš„é“è·¯è€Œé€ æˆçš„è§†è§‰æ··ä¹±ç°è±¡. ç”±äºåŸåŒºå†…åœ°ç‰©ç‰¹å¾å¤æ‚ï¼Œå—å¯†é›†çš„é«˜å¤§å»ºç­‘ç‰©ã€éš§é“ã€ç«‹äº¤æ¡¥ã€æ ‘æœ¨ç­‰åœ°ç‰©çš„åå°„å’Œé®è”½ç­‰å½±å“ï¼Œè½¦æ ½GPSæ¥æ”¶æœºæ¥æ”¶åˆ°çš„å«æ˜Ÿä¿¡å·å­˜åœ¨ä¸¥é‡çš„å¤šå¾„æ•ˆåº”ï¼Œåœ¨æŸäº›åŒºåŸŸå†…ç”šè‡³ä¼šå½¢æˆGPSå®šä½è‚²åŒºï¼Œè§£å†³GPSç›²åŒºé—®é¢˜ï¼Œä¸€ç§æ–¹æ³•æ˜¯é‡‡ç”¨èˆªä½æ¨ç®—æ³•ï¼ˆDR-Dead Reckoningï¼‰ï¼Œè¿™ç§æ–¹æ³•éœ€è¦å°†DRè®¾å¤‡è£…åœ¨è½¦è¾†å‰ç«¯ï¼Œä¸€èˆ¬åœ¨GPSæ¥æ”¶æœºå«æ˜Ÿä¿¡å·å—é˜»æ—¶ä¸€æ ·å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç”¨æˆ·ä½ç½®ï¼Œä½†è¿™ç§æ–¹æ³•éœ€è¦é™„åŠ è®¾å¤‡ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨è®°å¿†æ­£ç¡®GPSä½ç½®ä¿¡æ¯çš„åŸºç¡€ä¸Šåœ¨ä¸€æ®µæ—¶é—´å†…é¢„æµ‹è½¦è¾†ä½ç½®ï¼Œè¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯æ˜“äºå®ç°ï¼Œç¼ºç‚¹æ˜¯ç²¾åº¦ä¸å¤Ÿï¼ˆæ²¡æœ‰ï¼Œä½œè€…ä½¿ç”¨å¡å°”æ›¼æ»¤æ³¢è¿›è¡Œä½ç½®é¢„æµ‹ï¼Œé¢„æµ‹ç»“æœå¦‚å›¾æ‰€ç¤ºã€‚åœ¨è§„åˆ™è¡Œè¿›æ—¶ï¼Œé¢„æµ‹æ•ˆæœè¾ƒå¥½ï¼Œè§å›¾3ã€å›¾4.ä½†æ˜¯å½“è½¦è¾†è½¬å¼¯æ—¶ï¼Œæ•ˆæœå¾ˆå·®ï¼Œè§å›¾5ã€å›¾6 åˆ°æŠ˜çº¿çš„è·ç¦»å®šä¹‰ä¸ºç‚¹åˆ°æŠ˜çº¿ä¸Šæ‰€æœ‰ç›´çº¿æ®µçš„æœ€çŸ­è·ç¦»ï¼šç‚¹åˆ°çº¿æ®µçš„è·ç¦»å®šä¹‰ä¸ºå¦‚æœç‚¹åˆ°ç›´çº¿æ®µæ‰€åœ¨ç›´çº¿çš„æŠ•å½±åœ¨ç›´çº¿æ®µä¸Šï¼Œåˆ™ä¸ºå‚çº¿é•¿åº¦ï¼Œå¦åˆ™ä¸ºå…¶åˆ°ä¸¤ä¸ªç«¯ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚ å®šä½è¯¯å·®ï¼š GPSè¯¯å·®ã€ç”µå­åœ°å›¾åº“è¯¯å·®ã€åæ ‡æŠ•å½±å˜æ¢æŠ•å½± éš¾ç‚¹ï¼š Y-junctioné—®é¢˜â€”â€”ç‚¹åˆ°çº¿çš„åŒ¹é…æ–¹å¼ï¼Œæ²¡æœ‰è€ƒè™‘å…¨å±€åŒ¹é… å¹³è¡ŒåŒçº¿è·¯ MapMatchingå®ç°çš„æ€è·¯ ç¦»æ•£ç‚¹é›†åŒ¹é…ï¼šç›¸å¯¹ç®€å•ï¼Œéšæœºç¦»æ•£ç‚¹æ²¡æœ‰å½¢çŠ¶å’Œæ‹“æ‰‘å…³ç³»ï¼Œç”¨æ¬§æ°è·ç¦»ä½œå¸é™„å³å¯ï¼Œå…¸å‹åº”ç”¨å¦‚ç¦»æ•£çƒ­åŠ›å›¾ã€‚ æ›²çº¿æ‹Ÿåˆï¼š å®é™…ä¸­æ›´æœ‰åº”ç”¨ä»·å€¼çš„æ˜¯æ›²çº¿æ‹ŸåˆåŒ¹é…å…³ç³»ï¼Œæ¯”å¦‚è½¨è¿¹å’Œè·¯ç½‘ï¼ŒGPSåºåˆ—å’Œå¯¼èˆªè·¯çš„ç›¸ä¼¼æ€§ã€‚ MapMatchingç®—æ³•çš„åˆ†ç±»ï¼š ä»¥ä½¿ç”¨åˆ°çš„ä¿¡æ¯æ¥åˆ’åˆ† ç°æœ‰çš„ç®—æ³•å¯è¢«åˆ†æˆå››ç±»ï¼šå‡ ä½•ã€æ‹“æ‰‘ã€æ¦‚ç‡ã€é«˜çº§ã€‚ aï¼‰åŸºäºå‡ ä½•çš„ç®—æ³•è€ƒè™‘GPSç‚¹ä¸é“è·¯çš„å‡ ä½•ä¿¡æ¯ï¼Œå¦‚è·ç¦»ã€è§’åº¦ç­‰ï¼› bï¼‰åŸºäºæ‹“æ‰‘çš„ç®—æ³•ä½¿ç”¨é“è·¯æ‹“æ‰‘ä¿¡æ¯æ¥æ§åˆ¶ï¼› cï¼‰æ¦‚ç‡æ–¹æ³•é€šè¿‡è€ƒè™‘GPSç‚¹çš„æ¦‚ç‡ï¼› dï¼‰é«˜çº§çš„ç®—æ³•å¾€å¾€ç»¼åˆè€ƒè™‘ä½¿ç”¨å…¨é¢ä¿¡æ¯ï¼Œæœ‰å¡å°”æ›¼æ»¤æ³¢ã€æ¨¡ç³Šé€»è¾‘æ¨¡å‹ã€éšå¼é©¬å°”å¯å¤«æ¨¡å‹ç­‰ç­‰ã€‚ 2.2 ä»¥è€ƒè™‘é‡‡æ ·ç‚¹çš„èŒƒå›´æ¥åˆ’åˆ† æ ¹æ®è€ƒè™‘é‡‡æ ·ç‚¹çš„èŒƒå›´ï¼Œå¯åˆ†æˆå±€éƒ¨/å¢é‡ç®—æ³•ã€å…¨å±€ç®—æ³•ã€‚ aï¼‰å±€éƒ¨/å¢é‡ç®—æ³•æ˜¯è´ªå©ªç®—æ³•ï¼Œæ¯æ¬¡ç¡®å®šä¸€ä¸ªåŒ¹é…ç‚¹ï¼Œä¸‹ä¸ªç‚¹ä»å·²ç»ç¡®å®šçš„åŒ¹é…ç‚¹å¼€å§‹ã€‚è¿™äº›æ–¹æ³•æ ¹æ®è·ç¦»å’Œæ–¹å‘ç›¸ä¼¼æ€§æ¥æ‰¾åˆ°å±€éƒ¨æœ€ä¼˜ç‚¹æˆ–è¾¹ã€‚ï¼ˆåœ¨çº¿åŒ¹é…ï¼‰ bï¼‰å…¨å±€ç®—æ³•æ˜¯è¦ä»è·¯ç½‘ä¸­æ‰¾åˆ°ä¸€æ¡ä¸é‡‡æ ·è½¨è¿¹æœ€æ¥è¿‘çš„åŒ¹é…è½¨è¿¹ã€‚ä¸ºäº†æµ‹é‡é‡‡æ ·è½¨è¿¹å’ŒåŒ¹é…è½¨è¿¹çš„ç›¸ä¼¼æ€§ï¼Œå¤§å¤šæ•°ç®—æ³•ä½¿ç”¨â€œFrechetè·ç¦»â€æˆ–è€…æ˜¯â€œå¼±Frechetè·ç¦»â€ã€‚è¿˜æœ‰æ—¶ç©ºåŒ¹é…ç®—æ³•ã€æŠ•ç¥¨ç®—æ³•ç­‰ã€‚ï¼ˆç¦»çº¿åŒ¹é…ï¼‰ ä»¥é‡‡æ ·ç‚¹çš„é¢‘ç‡æ¥åˆ’åˆ† æ ¹æ®è½¨è¿¹æ•°æ®çš„é‡‡æ ·é¢‘ç‡ï¼Œç°æœ‰çš„åœ°å›¾åŒ¹é…ç®—æ³•å¯åˆ†æˆï¼š aï¼‰é«˜é¢‘é‡‡æ ·ç®—æ³•ï¼ˆæ‰€æœ‰å±€éƒ¨ç®—æ³•ã€éƒ¨åˆ†å…¨å±€ç®—æ³•å¦‚Frechetè·ç¦»åˆ¤åˆ«æ³•ç­‰ï¼‰ bï¼‰ä½é¢‘é‡‡æ ·ç®—æ³•ï¼ˆST-matchingç®—æ³•ã€IVVMç®—æ³•ï¼‰ ä¸€èˆ¬è®¤ä¸º30såŠå…¶ä»¥ä¸Šä¸ºä½é¢‘é‡‡æ ·ï¼Œ1sï½10sä¸ºé«˜é¢‘é‡‡æ ·ã€‚ https://www.cnblogs.com/LBSer/p/4612031.html#!comments æ™ºèƒ½äº¤é€šç³»ç»Ÿä¸­GPSåœ°å›¾åŒ¹é…ç®—æ³•è®¾è®¡ä¸å®ç° ç®—æ³•è¯„ä¼°çš„æ ‡å‡† å®æ—¶æ€§ å¯é æ€§(é²æ£’æ€§) åŒ¹é…çš„ç²¾åº¦ æœ´ç´ ç®—æ³•ï¼š å¿«é€ŸåŒ¹é…ç®—æ³•çš„æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š æ­¥1æ¥æ”¶GPSå®šä½æ•°æ®ï¼› æ­¥2åˆ¤æ–­å®šä½æ•°æ®æ˜¯å¦æ— æ•ˆï¼Œè‹¥æ— æ•ˆï¼Œåˆ™æ ¹æ®å†å²å®šä½æ•°æ®è¿›è¡Œæ¨æµ‹åŒ¹é…ï¼Œç„¶åè½¬ï¼ˆ8ï¼‰ï¼› æ­¥3åˆ¤æ–­è½¦è¾†å½“å‰æ˜¯å¦å¤„äºåœæ­¢æˆ–ä½é€Ÿæ»‘è¡ŒçŠ¶æ€ï¼Œè‹¥æ˜¯ï¼Œå¯¹å…¶ä½œç›¸åº”å¤„ç†ï¼Œç„¶åè½¬ï¼ˆ8ï¼‰ï¼› æ­¥4ç”±è½¦è¾†å½“å‰ä½ç½®ç‚¹è®¡ç®—å…¶å¯¹åº”çš„å€™é€‰ç½‘æ ¼ï¼Œè¿›è€Œè·å–å…¶ä¸­çš„è·¯æ®µï¼› æ­¥5å¯¹æ­¥4å¾—åˆ°çš„è·¯æ®µè¿›è¡Œè¿æ¥æ€§æ‹“æ‰‘æ£€æŸ¥ï¼Œå°†é€šè¿‡æ‹“æ‰‘æ£€æŸ¥çš„è·¯æ®µä½œä¸ºåŒ¹é…å€™é€‰è·¯æ®µï¼› æ­¥6åˆ¤æ–­åŒ¹é…å€™é€‰è·¯æ®µæ•°ç›®ï¼Œè‹¥å”¯ä¸€ï¼Œåˆ™ç›´æ¥å°†å…¶ä½œä¸ºåŒ¹é…è·¯æ®µï¼Œå¹¶ç”±å®šä½ç‚¹å‘å…¶ä½œæŠ•å½±ï¼Œç„¶åè½¬ï¼ˆ8ï¼‰ï¼›å¦åˆ™ï¼Œè®¡ç®—æ‰€æœ‰å€™é€‰è·¯æ®µçš„åŒ¹é…åº¦åº¦é‡å€¼fï¼Œï¼ˆi=1,2ï¼Œâ€¦ï¼ŒNï¼‰ï¼Œä»ä¸­é€‰å‡ºæœ€å¤§å€¼fmå’Œæ¬¡å¤§å€¼fmï¼› æ­¥7åˆ¤æ–­æœ€å¤§å€¼fmå’Œæ¬¡å¤§å€¼fmä¹‹å·®æ˜¯å¦å¤§äºé˜ˆå€¼fhï¼Œä¸”æœ€å¤§å€¼fmæ˜¯å¦å¤§äºé˜ˆå€¼fhï¼Œå¦‚æœå¤§äºï¼Œåˆ™å°†è·¯æ®µmä½œä¸ºåŒ¹é…è·¯æ®µï¼Œå¹¶ç”±å®šä½ç‚¹å‘å…¶ä½œæŠ•å½±ï¼›å¦åˆ™ï¼Œæš‚ä¸å¯¹æœ¬æ¬¡å®šä½ç»“æœè¿›è¡ŒåŒ¹é…ï¼Œå¾…åé¢å¯¹å…¶è¿›è¡Œå»¶æ—¶åŒ¹é…å¤„ç†ï¼› æ­¥8ç»“æŸæœ¬æ¬¡åŒ¹é… from : ä¸€ç§é€‚äºè½¦è¾†å¯¼èˆªç³»ç»Ÿçš„å¿«é€Ÿåœ°å›¾åŒ¹é…ç®—æ³•â€”â€”2003 Key: å‡ºè¡Œæ•°æ®ï¼šé‡‡ç”¨GPSå®šä½ï¼Œé‚£ä¹ˆæ˜¯å¦æ˜¯WGS-84æ•°æ®ï¼Œä½†æ˜¯GISéƒ¨é—¨çš„è·¯ç½‘æ•°æ®åæ ‡æ˜¯ä»€ä¹ˆåæ ‡ç³»ä¸‹çš„ åŒçº¿è·¯ï¼š å½“ä¸‹ï¼Œç°åœ¨å¾ˆå¤šç”¨äºMapMatchingçš„æ–¹æ³•ï¼Œå¤§å¤šæ¥è‡ªäºæ¨ç†ã€é¢„æµ‹çš„æ•°å­¦æ–¹æ³•ï¼Œå¦‚éšé©¬å°”å¯å¤«é“¾ã€è´å¶æ–¯æ¨¡å‹ã€ç¥ç»ç½‘ç»œæ¨¡å‹ç­‰ï¼Œä½†åœ¨æ•°æ®ç»“æ„ä¸Šçš„åˆ›æ–°æ¯”è¾ƒå°‘ï¼ŒGISç®—æ³•ï¼Œæ›´å¤šè¦åœ¨è®¡ç®—æœºçš„åŸºç¡€ä¸Šï¼Œç»“åˆæ¯”å¦‚æ—¶ç©ºè§‚å¿µã€æ•°æ®ç‰¹å¾ã€æ‹“æ‰‘å…³ç³»ç­‰å¯¹äºGISç›¸å…³çš„åŸºç¡€ç†è®º è½¯ä»¶ mapinfo: å½“ä»Šä¸–ç•Œä¸Šæµè¡Œçš„æ¡Œé¢åœ°ç†ä¿¡æ¯ç³»ç»Ÿ graphhopper: è·¯å¾„è§„åˆ’åº“ arcgis openstreetmapâ€”â€”å¼€æºåœ°å›¾ï¼Œç®€ç§°ä¸ºOSM çº¿è¦ç´ çš„åŒ¹é…ï¼Œä¸»è¦é€šè¿‡å‡ ä½•ã€æ‹“æ‰‘æˆ–è¯­ä¹‰ç›¸ä¼¼åº¦æ¥è¿›è¡Œè¯†åˆ«ï¼Œå…¶ä¸­é€šè¿‡ç©ºé—´è·ç¦»æ¥è¿›è¡Œè¦ç´ åŒ¹é…çš„å¸¸ç”¨æ–¹å¼æœ‰ï¼š é—µå¯å¤«æ–¯åŸºè·ç¦»(Minkowski Distance) æ¬§æ°è·ç¦»(Euclidean Distance) æ›¼å“ˆé¡¿è·ç¦»(Manhattan Distance) åˆ‡æ¯”é›ªå¤«è·ç¦»(Chebyshev Distance) æ±‰æ˜è·ç¦»(Hamming distance) æ°å¡å¾·ç›¸ä¼¼ç³»æ•°(Jaccard similarity coefficient) è±ªæ–¯å¤šå¤«è·ç¦»(Hausdorff Distance) å¼—é›·æ­‡è·ç¦»(FrÃ©chetè·ç¦») fromï¼šé«˜å¾·åœ°å›¾ï¼šåœ°å›¾æ•°æ®å¤„ç†ä¹‹é“è·¯åŒ¹é…ç¯‡ éšé©¬å°”ç§‘å¤«HMM HMMæœ‰ä¸‰ä¸ªå…¸å‹(canonical)é—®é¢˜: æ¦‚ç‡è®¡ç®—é—®é¢˜ï¼šå·²çŸ¥æ¨¡å‹å‚æ•°ï¼Œè®¡ç®—æŸä¸€ç‰¹å®šè¾“å‡ºåºåˆ—çš„æ¦‚ç‡.é€šå¸¸ä½¿ç”¨**Forwardç®—æ³•**è§£å†³ï¼› é¢„æµ‹é—®é¢˜æˆ–è€…è§£ç ï¼ˆdecodingï¼‰é—®é¢˜ï¼šå·²çŸ¥æ¨¡å‹å‚æ•°ï¼Œå¯»æ‰¾æœ€å¯èƒ½çš„èƒ½äº§ç”ŸæŸä¸€ç‰¹å®šè¾“å‡ºåºåˆ—çš„éšå«çŠ¶æ€çš„åºåˆ—ã€‚é€šå¸¸ä½¿ç”¨**Viterbiç®—æ³•**è§£å†³ï¼› å­¦ä¹ é—®é¢˜ï¼šå·²çŸ¥è¾“å‡ºåºåˆ—ï¼Œå¯»æ‰¾æœ€å¯èƒ½çš„çŠ¶æ€è½¬ç§»ä»¥åŠè¾“å‡ºæ¦‚ç‡ã€‚é€šå¸¸ä½¿ç”¨**Baum-Welchç®—æ³•**ã€‚ HMMçš„å‡ ä¸ªé‡è¦å…ƒç´ ï¼š Ï€(startprob_): éšè—çŠ¶æ€åˆå§‹å‘é‡ Ï€=(Ï€i):Ï€i=P(q1=i),1â‰¤iâ‰¤N\\pi=\\left(\\pi_{i}\\right): \\pi_{i}=P\\left(q_{1}=i\\right), 1 \\leq i \\leq N Ï€=(Ï€iâ€‹):Ï€iâ€‹=P(q1â€‹=i),1â‰¤iâ‰¤N A(transmat_): çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ: A=[aij]NÃ—N, å…¶ä¸­ aij=P(qt+1=jâˆ£qt=i),1â‰¤i,jâ‰¤NA=\\left[a_{i j}\\right]_{N \\times N} \\text {, å…¶ä¸­ } a_{i j}=P\\left(q_{t+1}=j \\mid q_{t}=i\\right), 1 \\leq i, j \\leq N A=[aijâ€‹]NÃ—Nâ€‹, å…¶ä¸­ aijâ€‹=P(qt+1â€‹=jâˆ£qtâ€‹=i),1â‰¤i,jâ‰¤N B(emissionprob_): è§‚æµ‹çŠ¶æ€æ¦‚ç‡çŸ©é˜µ B=[bj(k)]NÃ—Mï¼Œ å…¶ä¸­ bj(k)=P(ot=okâˆ£qt=j),1â‰¤jâ‰¤N,1â‰¤kâ‰¤MB=\\left[b_{j}(k)\\right]_{N \\times M} ï¼Œ \\text { å…¶ä¸­ } b_{j}(k)=P\\left(o_{t}=o_{k} \\mid q_{t}=j\\right), 1 \\leq j \\leq N, 1 \\leq k \\leq M B=[bjâ€‹(k)]NÃ—Mâ€‹ï¼Œ å…¶ä¸­ bjâ€‹(k)=P(otâ€‹=okâ€‹âˆ£qtâ€‹=j),1â‰¤jâ‰¤N,1â‰¤kâ‰¤M HMMçš„çŠ¶æ€å˜é‡æ•°ç›®ï¼šN HMMçš„è§‚å¯Ÿå˜é‡æ•°ç›®ï¼šM å¦‚æœè§‚æµ‹åºåˆ—æ˜¯ä¸€ç»´çš„ï¼Œåˆ™è§‚æµ‹çŠ¶æ€çš„æ¦‚ç‡å¯†åº¦å‡½æ•°æ˜¯ä¸€ç»´çš„æ™®é€šé«˜æ–¯åˆ†å¸ƒã€‚å¦‚æœè§‚æµ‹åºåˆ—æ˜¯Nç»´çš„ï¼Œåˆ™éšè—çŠ¶æ€å¯¹åº”çš„è§‚æµ‹çŠ¶æ€çš„æ¦‚ç‡å¯†åº¦å‡½æ•°æ˜¯Nç»´é«˜æ–¯åˆ†å¸ƒã€‚é«˜æ–¯åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°å‚æ•°å¯ä»¥ç”¨Î¼Î¼è¡¨ç¤ºé«˜æ–¯åˆ†å¸ƒçš„æœŸæœ›å‘é‡ï¼ŒÎ£è¡¨ç¤ºé«˜æ–¯åˆ†å¸ƒçš„åæ–¹å·®çŸ©é˜µã€‚åœ¨GaussianHMMç±»ä¸­ï¼Œâ€œmeansâ€ç”¨æ¥è¡¨ç¤ºå„ä¸ªéšè—çŠ¶æ€å¯¹åº”çš„é«˜æ–¯åˆ†å¸ƒæœŸæœ›å‘é‡Î¼å½¢æˆçš„çŸ©é˜µï¼Œè€Œâ€œcovarsâ€ç”¨æ¥è¡¨ç¤ºå„ä¸ªéšè—çŠ¶æ€å¯¹åº”çš„é«˜æ–¯åˆ†å¸ƒåæ–¹å·®çŸ©é˜µÎ£å½¢æˆçš„ä¸‰ç»´å¼ é‡ã€‚ from :ç”¨hmmlearnå­¦ä¹ éšé©¬å°”ç§‘å¤«æ¨¡å‹HMM MapMatchingä¸Hmm è§‚å¯Ÿå˜é‡ï¼šä»GPSè®¾å¤‡ä¸­å¾—åˆ°çš„ä½ç½®ä¿¡æ¯ï¼ˆç»åº¦ï¼Œçº¬åº¦ï¼‰ éšè—çŠ¶æ€ï¼šæ‹¥æœ‰GPSè®¾å¤‡çš„ç‰©ä½“ï¼ˆè½¦ï¼Œäººç­‰ï¼‰å®é™…æ‰€åœ¨çš„ä½ç½®è·¯æ®µã€‚ è§‚æµ‹æ¦‚ç‡ï¼šä¾‹å¦‚ï¼Œç°æµ‹çš„GPSç‚¹ç¦»æ—è¾¹è·¯æ®µä¸Šçš„ä½ç½®è¶Šè¿‘ï¼Œé‚£ä¹ˆè¿™ä¸ªçœŸå®ç‚¹åœ¨è¿™ä¸ªè·¯æ®µä¸Šçš„æ¦‚ç‡è¶Šå¤§çŠ¶æ€ã€‚ çŠ¶æ€è½¬ç§»æ¦‚ç‡ï¼šä¾‹å¦‚ï¼Œå‰åä¸¤ä¸ªçœŸå®çš„ä½ç½®ç‚¹çš„è·ç¦»è¶Šè¿‘ï¼Œé‚£ä¹ˆçŠ¶æ€è½¬ç§»çš„æ¦‚ç‡è¶Šå¤§ åœ¨ä¸‹é¢ç›¸å…³è®ºæ–‡å·¥ä½œä¸­ä¼šè¯´æ˜åœ¨è¿™å‡ ç¯‡è®ºæ–‡ä¸­å…¶å®åªç”¨åˆ°äº†é¢„æµ‹é—®é¢˜çš„Viterbiç®—æ³•,ä¸‹é¢ä¹Ÿä¼šå¦å¼€ä¸€å°èŠ‚å…·ä½“æè¿°ä¸‹Viterbiç®—æ³•ã€‚ Map-Matchingçš„ä¸¤ä¸ªå˜é‡ï¼š ä»GPSè®¾å¤‡ä¸­å¾—åˆ°çš„ä½ç½®ä¿¡æ¯ï¼ˆç»åº¦ï¼Œçº¬åº¦ï¼‰ï¼šHMMä¸­è§‚å¯Ÿå˜é‡ï¼› æ‹¥æœ‰GPSè®¾å¤‡çš„ç‰©ä½“ï¼ˆè½¦ï¼Œäººç­‰ï¼‰å®é™…æ‰€åœ¨çš„ä½ç½®ï¼šHMMä¸­çš„éšè—çŠ¶æ€å˜é‡ï¼Œå®é™…åœ°å›¾æ˜¯ä¸çŸ¥é“GPSè®¾å¤‡çš„å‡†ç¡®ä½ç½®çš„ã€‚ è¿™æ ·å°±æŠŠMap-Matchingé—®é¢˜ä¸HMMç»“åˆèµ·æ¥äº†ã€‚ä¸‰ä¸ªé—®é¢˜åœ¨Map-Matchingä¸­æœ‰ç”¨çš„æ˜¯ä¸¤ä¸ªé—®é¢˜ï¼šï¼ˆ1ï¼‰é¢„æµ‹é—®é¢˜ï¼›ï¼ˆ2ï¼‰å­¦ä¹ é—®é¢˜ã€‚ åœ¨è®ºæ–‡ä¸­ï¼Œå®šä¹‰çš„è§„åˆ™è¦æ»¡è¶³äººçš„ç›´è§‚ä¸Šçš„æ„Ÿè§‰ï¼Œå³äººçš„å…ˆéªŒçŸ¥è¯†ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š è§‚æµ‹æ¦‚ç‡ï¼šè§‚æµ‹çš„GPSç‚¹ç¦»æ—è¾¹è·¯æ®µä¸Šçš„ä½ç½®è¶Šè¿‘ï¼Œé‚£ä¹ˆè¿™ä¸ªçœŸå®ç‚¹åœ¨è¿™ä¸ªè·¯æ®µä¸Šçš„æ¦‚ç‡è¶Šå¤§ã€‚ çŠ¶æ€è½¬ç§»æ¦‚ç‡ï¼šè¿™é‡Œæœ‰ä¸¤ç§è§£å†³æ€è·¯ï¼šï¼ˆ1ï¼‰å‰åä¸¤ä¸ªçœŸå®çš„ä½ç½®ç‚¹çš„è·ç¦»è¶Šè¿‘ï¼Œé‚£ä¹ˆçŠ¶æ€è½¬ç§»çš„æ¦‚ç‡è¶Šå¤§ï¼›æˆ–è€…ï¼ˆ2ï¼‰çœŸå®è·¯æ®µä¸Šçš„å‰åä¸¤ä¸ªç‚¹çš„è·ç¦»ä¸GPSè§‚æµ‹çš„å‰åä¸¤ä¸ªç‚¹çš„è·ç¦»è¶Šæ¥è¿‘ï¼ŒçŠ¶æ€è½¬ç§»æ¦‚ç‡è¶Šå¤§ã€‚ from: åŸºäºéšé©¬å°”ç§‘å¤«æ¨¡å‹(HMM)çš„åœ°å›¾åŒ¹é…(Map-Matching)ç®—æ³• barefoot è§‚æµ‹æ¦‚ç‡: æµ‹é‡ä½ç½®ä¸å…¶çœŸå®ä½ç½®ä¹‹é—´çš„è·ç¦»ï¼Œç”¨äºå¯¹æµ‹é‡è¯¯å·®è¿›è¡Œå»ºæ¨¡ï¼Œæµ‹é‡è¯¯å·®ç”¨å…·æœ‰ä¸€äº›æ ‡å‡†åå·®Ïƒçš„é«˜æ–¯åˆ†å¸ƒæ¥æè¿°ï¼ˆé»˜è®¤ä¸ºÏƒ = 5 ç±³ï¼‰ã€‚ è½¬ç§»æ¦‚ç‡: ç”¨å„ä¸ªä½ç½®æµ‹é‡ä¹‹é—´çš„è·¯ç”±è·ç¦»å’Œè§†çº¿è·ç¦»çš„å·®å¼‚æ¥é‡åŒ–çš„ã€‚è½¬ç§»æ¦‚ç‡å‘ˆè´ŸæŒ‡æ•°åˆ†å¸ƒï¼Œé€Ÿç‡å‚æ•°Î»ï¼ˆé»˜è®¤ä¸ºÎ» = 0.1ï¼‰æ˜¯å‡å€¼çš„å€’æ•° ==&gt; åºåˆ—æ¦‚ç‡ï¼š å®šä¹‰p(s 0 â€¦ s t |z 0 â€¦ z t )ä¸ºæœ€å¯èƒ½çš„åºåˆ—åˆ°è¾¾åŒ¹é…å€™é€‰s tçš„æ¦‚ç‡ï¼Œç§°ä¸º s t çš„åºåˆ—æ¦‚ç‡ï¼Œ å¯ä»¥é€šè¿‡é€’å½’ç¡®å®š è¿‡æ»¤æ¦‚ç‡ï¼šæˆ‘ä»¬çš„ HMM æ»¤æ³¢å™¨ç¡®å®šå¯¹è±¡å½“å‰ä½ç½®çš„ä¼°è®¡å€¼sÌ… tï¼Œå®ƒæ˜¯æœ€å¯èƒ½åŒ¹é…çš„å€™é€‰å¯¹è±¡stâˆˆSts_t âˆˆ S_tstâ€‹âˆˆStâ€‹ ç»™å®šæµ‹é‡å€¼z0 ... ztï¼Œå…¶å®šä¹‰ä¸ºï¼šsÌ…t = argmax(st âˆˆ St) p(st|z0 ... zt), p(st|z0 ... zt)ç§°ä¸ºsts_tstâ€‹çš„è¿‡æ»¤æ¦‚ç‡***ï¼Œå¯ä»¥é€’å½’ç¡®å®šï¼š p(st|z0...zt) = p(st|zt) Â· Î£(st-1 âˆˆ St-1) p(st|st-1) Â· p(st-1|z0 ... zt-1)ã€‚ from: https://github.com/bmwcarit/barefoot/wiki#stand-alone-servers Coding åœ¨ä¹‹å‰çš„HMMç³»åˆ—ä¸­ï¼Œæˆ‘ä»¬å¯¹éšé©¬å°”ç§‘å¤«æ¨¡å‹HMMçš„åŸç†ä»¥åŠä¸‰ä¸ªé—®é¢˜çš„æ±‚è§£æ–¹æ³•åšäº†æ€»ç»“ã€‚æœ¬æ–‡æˆ‘ä»¬å°±ä»å®è·µçš„è§’åº¦ç”¨Pythonçš„hmmlearnåº“æ¥å­¦ä¹ HMMçš„ä½¿ç”¨ã€‚sklearnåº“ä¸­å°†HMMå¼ƒç”¨äº†ï¼Œæ–°å¼€äº†ä¸€ä¸ªhmmlearnçš„æ–°åº“ï¼Œå®‰è£…å‘½ä»¤ä¸ºï¼špip install hmmlearnï¼Œå…³äºhmmlearnçš„æ›´å¤šèµ„æ–™åœ¨å®˜æ–¹æ–‡æ¡£æœ‰ä»‹ç»ã€‚ hmmlearnå®ç°äº†ä¸‰ç§HMMæ¨¡å‹ç±»ï¼ŒæŒ‰ç…§è§‚æµ‹çŠ¶æ€æ˜¯è¿ç»­çŠ¶æ€è¿˜æ˜¯ç¦»æ•£çŠ¶æ€ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤ç±»ã€‚ GaussianHMM è§‚æµ‹çŠ¶æ€è¿ç»­å‹ä¸”ç¬¦åˆé«˜æ–¯åˆ†å¸ƒ GMMHMM è§‚æµ‹çŠ¶æ€è¿ç»­å‹ä¸”ç¬¦åˆæ··åˆé«˜æ–¯åˆ†å¸ƒ MultinomialHMM è§‚æµ‹çŠ¶æ€ç¦»æ•£å‹ HMMä¸»è¦è§£å†³çš„ä¸‰ä¸ªé—®é¢˜ å‡è®¾éšè—çŠ¶æ€åºåˆ—å’Œè§‚æµ‹çŠ¶æ€åºåˆ—åˆ†åˆ«ä½¿ç”¨Zå’ŒXè¡¨ç¤ºï¼Œåˆ™è§£å†³çš„3ä¸ªé—®é¢˜å¯è¡¨ç¤ºä¸º: 1.è§£ç é—®é¢˜ï¼šå·²çŸ¥æ¨¡å‹å‚æ•°å’ŒXï¼Œä¼°è®¡æœ€å¯èƒ½çš„Zï¼›ç»´ç‰¹æ¯”ç®—æ³• 2.æ¦‚ç‡é—®é¢˜ï¼šå·²çŸ¥æ¨¡å‹å‚æ•°å’ŒXï¼Œä¼°è®¡Xå‡ºç°çš„æ¦‚ç‡ï¼›å‘å‰-å‘åç®—æ³• 3.å­¦ä¹ é—®é¢˜ï¼šä»…ç»™å‡ºXå’Œéšè—å±‚ä¸ªæ•°ï¼Œä¼°è®¡æ¨¡å‹å‚æ•°ã€‚ B-Wç®—æ³•ï¼Œé€šå¸¸æ˜¯ç»è¿‡ä¸€å®šæ•°é‡çš„è®­ç»ƒä»¥åï¼Œå¾—åˆ°æ¨¡å‹ï¼Œç„¶åè§£å†³é—®é¢˜1å’Œ2ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#coding=utf-8'''Created on 2017-12-4è§£ç é—®é¢˜ï¼šæœ¬ä¾‹ä¸ºå¤©æ°”å’Œè¡Œä¸ºçš„å…³ç³»'''import numpy as npimport matplotlib.pyplot as plt# hmmlearnå¯ä»¥åœ¨å®‰è£…numpyä»¥åï¼Œå†ä½¿ç”¨pip install hmmlearnå®‰è£…from hmmlearn import hmmstates = [\"Rainy\", \"Sunny\"]##éšè—çŠ¶æ€n_states = len(states)##éšè—çŠ¶æ€é•¿åº¦observations = [\"walk\", \"shop\", \"clean\"]##å¯è§‚å¯Ÿçš„çŠ¶æ€n_observations = len(observations)##å¯è§‚å¯Ÿåºåˆ—çš„é•¿åº¦start_probability = np.array([0.6, 0.4])##å¼€å§‹è½¬ç§»æ¦‚ç‡ï¼Œå³å¼€å§‹æ˜¯Rainyå’ŒSunnyçš„æ¦‚ç‡##éšè—é—´å¤©æ°”è½¬ç§»æ··æ·†çŸ©é˜µï¼Œå³Rainyå’ŒSunnyä¹‹é—´çš„è½¬æ¢å…³ç³»ï¼Œä¾‹å¦‚[0,0]è¡¨ç¤ºä»Šå¤©Rainyï¼Œæ˜å¤©Rainyçš„æ¦‚ç‡transition_probability = np.array([ [0.7, 0.3], [0.4, 0.6]])##éšè—çŠ¶æ€å¤©æ°”å’Œå¯è§†è¡Œä¸ºæ··æ·†çŸ©é˜µï¼Œä¾‹å¦‚[0,0]è¡¨ç¤ºä»Šå¤©Rainyï¼Œwalkè¡Œä¸ºçš„æ¦‚ç‡ä¸º0.1emission_probability = np.array([ [0.1, 0.4, 0.5], [0.6, 0.3, 0.1]])#æ„å»ºäº†ä¸€ä¸ªMultinomialHMMæ¨¡å‹ï¼Œè¿™æ¨¡å‹åŒ…æ‹¬å¼€å§‹çš„è½¬ç§»æ¦‚ç‡ï¼Œéšè—é—´å¤©æ°”è½¬æ¢æ··æ·†çŸ©é˜µï¼ˆtransmatï¼‰ï¼Œéšè—çŠ¶æ€å¤©æ°”å’Œå¯è§†è¡Œä¸ºæ··æ·†çŸ©é˜µemissionprobï¼Œå¯¹æ¨¡å‹å‚æ•°åˆå§‹åŒ–model = hmm.MultinomialHMM(n_components=n_states)model.startprob_= start_probabilitymodel.transmat_ = transition_probabilitymodel.emissionprob_ = emission_probability#ç»™å‡ºä¸€ä¸ªå¯è§åºåˆ—bob_Actions = np.array([[2, 0, 1, 1, 2, 0]]).T# è§£å†³é—®é¢˜1,è§£ç é—®é¢˜,å·²çŸ¥æ¨¡å‹å‚æ•°å’ŒXï¼Œä¼°è®¡æœ€å¯èƒ½çš„Zï¼› ç»´ç‰¹æ¯”ç®—æ³• logprob, weathers = model.decode(bob_Actions, algorithm=\"viterbi\")print \"Bob Actions:\", \", \".join(map(lambda x: observations[x], bob_Actions))print \"weathers:\", \", \".join(map(lambda x: states[x], weathers))\"\"\"è§£ç é—®é¢˜ï¼š ç›’å­\"\"\"import numpy as npfrom hmmlearn import hmmstates = [\"box 1\", \"box 2\", \"box3\"]n_states = len(states)observations = [\"red\", \"white\"]n_observations = len(observations)start_probability = np.array([0.2, 0.4, 0.4])transition_probability = np.array([ [0.5, 0.2, 0.3], [0.3, 0.5, 0.2], [0.2, 0.3, 0.5]])emission_probability = np.array([ [0.5, 0.5], [0.4, 0.6], [0.7, 0.3]])model = hmm.MultinomialHMM(n_components=n_states)model.startprob_=start_probabilitymodel.transmat_=transition_probabilitymodel.emissionprob_=emission_probabilityseen = np.array([[0,1,0]]).Tlogprob, box = model.decode(seen, algorithm=\"viterbi\")print(\"The ball picked:\", \", \".join(map(lambda x: observations[x], seen)))print(\"The hidden box\", \", \".join(map(lambda x: states[x], box)))('The ball picked:', 'red, white, red')('The hidden box', 'box3, box3, box3') é™åˆ¶ å¯¹äºä¸åŒçš„å»ºæ¨¡é€‰æ‹©å’Œè¾“å…¥æ•°æ®è€Œè¨€ï¼Œå®ƒç›¸å¯¹ä¸çµæ´» å®ƒç¼©æ”¾ä¸¥é‡(O(NÂ²)ï¼Œå…¶ä¸­Næ˜¯æ¯ä¸ªçŠ¶æ€ä¸‹å¯èƒ½çš„å€™é€‰æ•°) å®ƒä¸èƒ½å¾ˆå¥½åœ°åº”å¯¹é«˜é¢‘è§‚æµ‹(è¯·å‚é˜…Newsonï¼†Krumm [2])ã€‚ åŸºäº(æ— å‘³)å¡å°”æ›¼æ»¤æ³¢å™¨çš„æ–°æ¨¡å‹â€”â€”https://blog.csdn.net/weixin_26713521/article/details/108134220 help Code: https://github.com/bmwcarit/barefoot https://github.com/oldrev/mapmatchingkit ç½‘ç»œæ–‡ç«  åœ°å›¾åŒ¹é…å®ä¾‹-å‡ ä½•åŒ¹é…â€”â€”æ•ˆæœå›¾ å®šä½åŒ¹é… æ¨¡æ¿åŒ¹é… åœ°å›¾_ä»€ä¹ˆæ˜¯åœ°å›¾åŒ¹é…ï¼Ÿ å‡ºç§Ÿè½¦è½¨è¿¹ç‚¹åœ°å›¾åŒ¹é…ç ”ç©¶ åœ°å›¾åŒ¹é…å°ç»“ åŸºäºéšé©¬å°”ç§‘å¤«æ¨¡å‹(HMM)çš„åœ°å›¾åŒ¹é…(Map-Matching)ç®—æ³• å·¥ä½œå®‰æ’ ä½ çš„å·¥ä½œä¸»è¦å®Œæˆä»€ä¹ˆï¼ˆæ¦‚æ‹¬è¯´æ˜å°±è¡Œï¼‰ï¼Œåˆ†ä¸ºé‚£å‡ æ­¥ï¼Œæ¯ä¸€æ­¥å®Œæˆä»€ä¹ˆï¼ˆæ¦‚æ‹¬è¯´æ˜å°±è¡Œï¼‰ï¼Œæ¯ä¸€æ­¥çš„å·¥ä½œé‡ï¼ˆé¢„è®¡å®Œæˆè¿™æ­¥å·¥ä½œéœ€è¦å¤šå°‘ä¸ªå°æ—¶ï¼‰ï¼Œæ¯ä¸€æ­¥å·¥ä½œé¢„è®¡åœ¨ä»€ä¹ˆæ—¶å€™å®Œæˆï¼ˆæ¯”å¦‚ 3.5ï¼‰ å·¥ä½œåŒ…å«ï¼šåœ°å›¾åŒ¹é…ï¼Œå°†è½¦è¾†çš„æœ‰åºGPSä½ç½®æ•°æ®å…³è”åˆ°ç”µå­åœ°å›¾çš„è·¯ç½‘ä¸Šï¼Œå°†GPSåæ ‡ä¸‹é‡‡æ ·åºåˆ—è½¬æ¢ä¸ºæ•°å­—è·¯ç½‘è·¯å¾„åºåˆ—çš„è¿‡ç¨‹ã€‚å·¥ä½œå†…å®¹ï¼šè§£æè¿‡æ»¤ç‚¹å¹¶è¿›è¡Œåæ ‡è½¬æ¢-&gt;ç‚¹è¿‡æ»¤(ç‚¹ç¨€ç–)-&gt;åœ°å›¾åŒ¹é…ç®—æ³•-&gt;ç‚¹æ˜ å°„ å†…å®¹ é¢„ä¼°æ—¶é—´ æŸ¥é˜…åœ°å›¾åŒ¹é…ç®—æ³•ç›¸å…³çš„è®ºæ–‡-&gt;æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ(16å°æ—¶) 2022å¹´2æœˆ28æ—¥ å­¦ä¹ éšé©¬å°”ç§‘å¤«æ¨¡å‹ç›¸å…³ç†è®ºçŸ¥è¯† (6å°æ—¶) 2022å¹´3æœˆ2æ—¥ æ‰¾å¯»éšé©¬å°”ç§‘å¤«æ¨¡å‹èµ„æ–™ã€ä»£ç (8å°æ—¶)â€”â€”barefootã€graphhopper 2022å¹´3æœˆ4æ—¥ ç†Ÿæ‚‰é¡¹ç›®ä¸­æœ‰å…³åœ°å›¾å¯¹è±¡çš„ä»£ç ï¼ˆ4å°æ—¶ï¼‰ 2022å¹´3æœˆ5æ—¥ ç§»æ¤éšé©¬å°”ç§‘å¤«æ¨¡å‹åˆ°é¡¹ç›®ä¸­ï¼Œç›®å‰å‚è€ƒï¼šå¼€æºbarefootå®ç°ï¼šç†Ÿæ‚‰ä»£ç (16å°æ—¶)ã€åæ ‡è½¬æ¢ï¼ˆ3å°æ—¶ï¼‰ã€è¾“å…¥è¾“å‡ºæ•°æ®æ ¼å¼æ”¹é€ (10å°æ—¶)ã€é€‚é…ç±»(56å°æ—¶)ã€æ•ˆæœæ£€éªŒï¼ˆ10å°æ—¶ï¼‰ 2022å¹´3æœˆ20æ—¥ ç‚¹è¿‡æ»¤ï¼ˆ24å°æ—¶ï¼‰: æ …æ ¼åŒ–ï¼ˆ16å°æ—¶ï¼‰ + åŒé˜Ÿåˆ—ï¼ˆ8å°æ—¶ï¼‰ 2022å¹´3æœˆ24æ—¥ ç‚¹æ˜ å°„ï¼ˆ6å°æ—¶ï¼‰ 2022å¹´3æœˆ25æ—¥ åº“ï¼š geometryEngine net.sf.geographiclib com.esri.core.geometryâ€”â€”QuadTree graphhopperâ€”â€”org.locationtech.jts.geom ==&gt; Envelope --&gt; findCandidateSnapsInBBox ç®€å•ç‰ˆå®ç°æ€è·¯ æ‰¾åˆ°èµ·å§‹ç‚¹Oå’Œç»ˆç‚¹Dï¼Œä»¥ä¸¤ç‚¹ä¸ºåŠå¾„ç”»åœ†ï¼ŒæŠŠæ‰€æœ‰èŒƒå›´å†…çš„NormalEdgeå…¨éƒ¨åŠ å…¥Listï¼ˆåªè¦èµ·å§‹ç‚¹orç»ˆæ­¢ç‚¹æœ‰ä¸€ä¸ªåœ¨èŒƒå›´å†…ï¼‰ ç¡®å®šç¬¬ä¸€æ¡===&gt; æ‰¾ç¦»ç¬¬ä¸€ä¸ªGPSç‚¹æœ€è¿‘çš„è¾¹ likelyRoute.forEachä»ä¸Šä¸€æ¡çš„lowerNormalEdgeä¸­(ä¿è¯æ‹“æ‰‘å¯è¾¾è¿æ¥)ï¼Œä»ä¸­é€‰æ‹©å¾—åˆ†æœ€é«˜ï¼ˆè·ç¦»å’Œæ–¹å‘ï¼‰çš„è¾¹ä½œä¸ºåç»­è¾¹ ã€‚ å¦‚æœæ²¡æœ‰lowerNormalEdgeï¼ˆå¦‚æœæ‰€æœ‰å‰©ä½™çš„ç‚¹éƒ½èƒ½æ˜ å°„åˆ°æœ€åçš„è¿™æ¡è¾¹ä¸Šï¼Œåˆ™è®¤ä¸ºæ˜¯ç»ˆç‚¹ï¼Œæ­¤æ—¶ä¸åœ¨æ„æ­»è·¯ï¼‰ï¼Œ å¹³å¸¸å¦‚æœæ˜¯æ­»è·¯ï¼Œåˆ™æ”¾å¼ƒè¿™æ¡åºåˆ—è·¯å¾„ã€‚TODOï¼šæ²¡æœ‰åç»­è·¯å¾„æ—¶æ˜¯å¦è¦è€ƒè™‘å¢åŠ å¯èƒ½è¾¹é›†ï¼Ÿ åˆ°è¾¾ç»ˆç‚¹è¾¹ç»“æŸ ä»likelyRouteä¸­é€‰æ‹©å¾—åˆ†æœ€é«˜çš„è·¯å¾„ ç”¨åˆ°çš„ç»“æ„ï¼š likelyRoute: list[list], å­˜æ”¾å¤šæ¡å¯èƒ½","categories":[],"tags":[]},{"title":"ç§æœ‰Gitlabé…ç½®SSHè¿æ¥","slug":"ç§æœ‰Gitlabé…ç½®SSHè¿æ¥","date":"2022-02-25T05:38:19.000Z","updated":"2022-02-25T06:04:05.992Z","comments":true,"path":"2022/02/25/ç§æœ‰Gitlabé…ç½®SSHè¿æ¥/","link":"","permalink":"https://nymrli.top/2022/02/25/ç§æœ‰Gitlabé…ç½®SSHè¿æ¥/","excerpt":"","text":"SSHè¿æ¥å¹¶ä¸æ˜¯åƒhttpè¿æ¥ä¸€æ ·ï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥äº†ã€‚SSHè¿æ¥éœ€è¦ä¸€äº›é¢å¤–çš„é…ç½® ç”ŸæˆSSHç§˜é’¥å’Œå…¬é’¥ æŸ¥è¯¢æœ‰æ•ˆé‚®ç®± é¦–å…ˆè¦ç¡®å®šä½¿ç”¨çš„é‚®ç®±ï¼Œæ˜¯ä¸æ˜¯è‡ªå·±è®¤ä¸ºçš„é‚®ç®±ï¼Œæ¯”å¦‚æˆ‘ä»¥ä¸ºæ˜¯chenli@sucsoft.comç»“æœï¼Œå´å‘ç°æ˜¯399-chenli@sucsoft.comï¼Œé‚£ä¹ˆæŒ‰ç…§è‡ªè®¤ä¸ºçš„é‚®ç®±ç”³è¯·çš„keysé‚£è‡ªç„¶ä¸ä¼šworkã€‚â€”â€”ä¸€èˆ¬æƒ…å†µä¸ä¼šæœ‰æ­§ä¹‰é‚®ç®±å‡ºç°ï¼Œä½†æˆ‘è¿™è¾¹ç¡®å®è·Ÿæƒ³çš„ä¸å¤ªä¸€æ · æŸ¥è¯¢æ–¹æ³•(ä¸€)â€”â€”æ–°å»ºé¡¹ç›® åˆ›å»ºç©ºçš„ä»“åº“ï¼Œæç¤ºä¸­æåŠçš„é‚®ç®±å°±æ˜¯æœ‰æ•ˆé‚®ç®± æŸ¥è¯¢æ–¹æ³•(äºŒ)â€”â€”ä¸ªäººPreference æ‰“å¼€User Settings-&gt;Profileï¼Œå…¶ä¸­æœ‰Emailã€public emailå’Œcommit emailä¸‰ä¸ªé‚®ç®±ï¼Œå…¶ä¸­è·Ÿæˆ‘ä»¬å¼€å‘å‘½ä»¤æ¯”è¾ƒæœ‰å…³çš„å°±æ˜¯è¿™ä¸ªCommit Emailï¼Œä¹‹å‰æˆ‘çš„é»˜è®¤æ˜¯399-chenli@sucsoft.comï¼Œè¿™è¾¹è¦è®¾ç½®è‡ªå·±æƒ³è¦çš„ï¼Œæ¯”å¦‚chenli@sucsoft.com â–²é€‰æ‹©å®Œæˆåï¼Œæ»‘åˆ°æœ€ä¸‹é¢é€‰æ‹©Update profile settings æ‰“å¼€User Settings-&gt;Emailså¯ä»¥çœ‹åˆ°ï¼Œchenli@sucsoft@sucsoft.comçš„æ ‡ç­¾ä¸­æœ‰commit emailï¼Œå³è®¾ç½®æˆåŠŸ Gitlabè®¾ç½®å…¬é’¥ ç¡®ä¿é‚®ç®±æ˜¯æœ‰æ•ˆçš„åå°±å¯ä»¥ç”Ÿæˆç§˜é’¥äº†ã€‚ è®¾ç½®gitä¿¡æ¯ 12345678910111213141516171819202122232425# 1. è®¾ç½®gitä¿¡æ¯git config --global user.name \"chenli\"git config --global user.email \"chenli@sucsoft.com\"# 2. ç”Ÿæˆç§˜é’¥å’Œå…¬é’¥$ ssh-keygen -t rsa -C chenli@sucsoft.comGenerating public/private rsa key pair.Enter file in which to save the key (/c/Users/mrli/.ssh/id_rsa):Enter passphrase (empty for no passphrase):Enter same passphrase again:Your identification has been saved in /c/Users/mrli/.ssh/id_rsaYour public key has been saved in /c/Users/mrli/.ssh/id_rsa.pubThe key fingerprint is:SHA256:zKPeKkm0bNzDqZcHUEDcvvDqPG2znRqDrD30yoBb8MM chenli@sucsoft.comThe key's randomart image is:+---[RSA 3072]----+| ooo || . o || o || + .o ||. + B oS || = .B.O. . ||. E+o*++ || o BB.B=.. ||. ..*B=*+ |+----[SHA256]-----+ æ ¹æ®å‘½ä»¤è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„ç»“æœåœ¨C:\\Users\\mrli\\.sshè·¯å¾„ä¸‹ï¼Œæœ‰id_rsaã€id_rsa.pubï¼Œå…¶ä¸­id_rsa.pubä¸ºå…¬é’¥ã€‚ å°†SSHå…¬é’¥æ·»åŠ åˆ°GitHubè´¦æˆ· å¤åˆ¶æ–‡ä»¶è·¯å¾„å†….pubåç¼€é‡Œçš„å†…å®¹ è¿›å…¥SSH Keysçš„è®¾ç½®é¡µé¢ï¼ˆç™»å½•GitHubï¼Œåœ¨å³ä¸Šè§’å¤´åƒç‚¹å‡»è®¾ç½®ï¼‰ ç²˜è´´åï¼ŒTitleä¼šè‡ªåŠ¨æå–ç”Ÿæˆï¼Œç‚¹å‡»Add keyåˆ™å®Œæˆæ·»åŠ  æµ‹è¯• 12$ ssh -T git@gitlab.sucsoft.comWelcome to GitLab, @chenli! More é…ç½®å¤šä¸ªGitä¿¡æ¯ å°†é»˜è®¤çš„id_rsaå’Œid_rsa.pubæ”¹æˆæŒ‡å®šçš„å¦‚id_rsa_sucsoft.pub .ssh/è·¯å¾„ä¸‹æ·»åŠ configé…ç½®æ–‡ä»¶ï¼Œå¯¹åº”å¡«å†™ 123456789101112Host github.com HostName github.com IdentityFile C:\\\\Users\\\\mrli\\\\.ssh\\\\id_rsa_github PreferredAuthentications publickey User FreedomisgoodHost gitlab.sucsoft.com HostName gitlab.sucsoft.com IdentityFile C:\\\\Users\\\\mrli\\\\.ssh\\\\id_rsa_sucsoft PreferredAuthentications publickey User chenli æ³¨æ„ï¼šHoståå†™çš„å°±æ˜¯ssh -T git@gitlab.sucsoft.comä¸­@åé¢çš„å†…å®¹ï¼Œå¦‚æœå†™çš„æ˜¯sucsoftï¼Œåˆ™å†™æˆssh -T git@sucsoftï¼Œä½†æ˜¯è¿™æ ·å…¶å®è·ŸGitlabé¡µé¢ä¸­ç›´æ¥æä¾›çš„ä¸ä¸€æ ·: git@gitlab.sucsoft.com:suc-frame/xxxx.gitï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯è§„èŒƒçš„å†™gitlab.sucsoft.com â˜…é…ç½®å®Œæˆåæœ€ç»ˆæ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ï¼š æ³¨ï¼š known_hostæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå¦‚æœç¬¬ä¸€æ¬¡SSHè¿æ¥ç½‘ç«™ï¼Œåˆ™ä¼šå°†hostæ·»åŠ åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"}]},{"title":"Golang protocçš„ä½¿ç”¨","slug":"protocçš„ä½¿ç”¨","date":"2022-02-22T04:04:33.000Z","updated":"2022-02-22T06:11:07.536Z","comments":true,"path":"2022/02/22/protocçš„ä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2022/02/22/protocçš„ä½¿ç”¨/","excerpt":"","text":"ä½¿ç”¨Grpcéœ€è¦æœ‰protocçš„æ”¯æŒ, ä½†é»˜è®¤å®‰è£…çš„/Go/binç›®å½•ä¸‹åªæœ‰go.exeã€gofmt.exeä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå› æ­¤è¦ä½¿ç”¨protocçš„è¯ï¼Œéœ€è¦è‡ªå·±å»ä¸‹è½½ åœ¨https://github.com/protocolbuffers/protobuf/releasesä¸­ä¸‹è½½Windows64çš„å‹ç¼©åŒ…ï¼Œä¸º$protoc -go_out=. *.protoä½¿ç”¨åˆ°çš„å‘½ä»¤å¯æ‰§è¡Œæ–‡ä»¶ ç¼–å†™.protoæ–‡ä»¶ï¼Œ å¦‚ä¸‹æ‰€ç¤º 1234567891011121314151617syntax = &quot;proto3&quot;;# æ³¨æ„, è¿™è¾¹ä½¿ç”¨çš„æ˜¯go_package, ç±»ä¼¼çš„è¿˜æœ‰java_package, åé¢çš„å‚æ•°æ˜¯output_pathå’ŒåŒ…åoption go_package = &quot;.;geecachepb&quot;;message Request&#123; string group = 1; string key = 2;&#125;message Response&#123; bytes value = 1;&#125;service GroupCache&#123; rpc Get(Request) returns (Response);&#125; ä½¿ç”¨protoc -go_out=. *.protoå‘½ä»¤ï¼Œå°†.protoè½¬æ¢æˆè¦ä½¿ç”¨çš„goæ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132// Code generated by protoc-gen-go. DO NOT EDIT.// versions:// protoc-gen-go v1.27.1// protoc v3.19.4// source: geecachepb.protopackage geecachepbimport ( protoreflect \"google.golang.org/protobuf/reflect/protoreflect\" protoimpl \"google.golang.org/protobuf/runtime/protoimpl\" reflect \"reflect\" sync \"sync\")const ( // Verify that this generated code is sufficiently up-to-date. _ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion) // Verify that runtime/protoimpl is sufficiently up-to-date. _ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20))type Request struct &#123; state protoimpl.MessageState sizeCache protoimpl.SizeCache unknownFields protoimpl.UnknownFields Group string `protobuf:\"bytes,1,opt,name=group,proto3\" json:\"group,omitempty\"` Key string `protobuf:\"bytes,2,opt,name=key,proto3\" json:\"key,omitempty\"`&#125;// ... çœç•¥æ›´å¤š go get -u github.com/golang/protobuf/protoc-gen-goå®‰è£…ä½¿ç”¨xxxx.pb.goæ–‡ä»¶çš„åº“ åœ¨ä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨ 12345678910111213141516171819202122232425262728293031323334353637383940type PeerGetter interface &#123; Get(in *pb.Request, out *pb.Response) error&#125;func (p *HttpPool) ServeHTTP(w http.ResponseWriter, req *http.Request) &#123; // ... body, err := proto.Marshal(&amp;pb.Response&#123;Value: view.ByteSlice()&#125;) if err != nil &#123; http.Error(w, err.Error(), http.StatusInternalServerError) return &#125; // ...&#125;func (h *httpGetter) Get(in *pb.Request, out *pb.Response) error &#123; u := fmt.Sprintf( \"%v%v/%v\", h.baseURL, url.QueryEscape(in.GetGroup()), url.QueryEscape(in.GetKey()), ) res, err := http.Get(u) if err != nil &#123; return err &#125; defer res.Body.Close() if res.StatusCode != http.StatusOK &#123; return fmt.Errorf(\"server return %v\", res.Status) &#125; bytes, err := ioutil.ReadAll(res.Body) if err != nil &#123; return err &#125; if err = proto.Unmarshal(bytes, out); err != nil &#123; return fmt.Errorf(\"decoding response body: %v\", err) &#125; return nil&#125; æ¨èé£æ ¼ æ–‡ä»¶(Files) æ–‡ä»¶åä½¿ç”¨å°å†™ä¸‹åˆ’çº¿çš„å‘½åé£æ ¼ï¼Œä¾‹å¦‚ lower_snake_case.proto æ¯è¡Œä¸è¶…è¿‡ 80 å­—ç¬¦ ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ç¼©è¿› åŒ…(Packages) åŒ…ååº”è¯¥å’Œç›®å½•ç»“æ„å¯¹åº”ï¼Œä¾‹å¦‚æ–‡ä»¶åœ¨my/package/ç›®å½•ä¸‹ï¼ŒåŒ…ååº”ä¸º my.package æ¶ˆæ¯å’Œå­—æ®µ(Messages &amp; Fields) æ¶ˆæ¯åä½¿ç”¨é¦–å­—æ¯å¤§å†™é©¼å³°é£æ ¼(CamelCase)ï¼Œä¾‹å¦‚message StudentRequest { ... } å­—æ®µåä½¿ç”¨å°å†™ä¸‹åˆ’çº¿çš„é£æ ¼ï¼Œä¾‹å¦‚ string status_code = 1 æšä¸¾ç±»å‹ï¼Œæšä¸¾åä½¿ç”¨é¦–å­—æ¯å¤§å†™é©¼å³°é£æ ¼ï¼Œä¾‹å¦‚ enum FooBarï¼Œæšä¸¾å€¼ä½¿ç”¨å…¨å¤§å†™ä¸‹åˆ’çº¿éš”å¼€çš„é£æ ¼(CAPITALS_WITH_UNDERSCORES )ï¼Œä¾‹å¦‚ FOO_DEFAULT=1 æœåŠ¡(Services) RPC æœåŠ¡åå’Œæ–¹æ³•åï¼Œå‡ä½¿ç”¨é¦–å­—æ¯å¤§å†™é©¼å³°é£æ ¼ï¼Œä¾‹å¦‚service FooService{ rpc GetSomething() }","categories":[],"tags":[{"name":"Go","slug":"Go","permalink":"https://nymrli.top/tags/Go/"}]},{"title":"è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶","slug":"è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶","date":"2022-01-26T14:30:00.000Z","updated":"2022-01-26T14:40:45.998Z","comments":true,"path":"2022/01/26/è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶/","link":"","permalink":"https://nymrli.top/2022/01/26/è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶/","excerpt":"","text":"è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ï¼š ç”¨ä¸€ç»„ç®€å•çš„è§„åˆ™åŠæ¡ä»¶æ¥çº¦æŸç‰ˆæœ¬å·çš„é…ç½®å’Œå¢é•¿ ä½œä¸ºä¸€ä½è´Ÿè´£ä»»çš„å¼€å‘è€…ï¼Œä½ ç†å½“ç¡®ä¿æ¯æ¬¡åŒ…å‡çº§çš„è¿ä½œä¸ç‰ˆæœ¬å·çš„è¡¨è¿°ä¸€è‡´ã€‚ç°å®ä¸–ç•Œæ˜¯å¤æ‚çš„ï¼Œæˆ‘ä»¬é™¤äº†æé«˜è­¦è§‰å¤–èƒ½åšçš„ä¸å¤šã€‚ä½ æ‰€èƒ½åšçš„å°±æ˜¯è®©è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ä¸ºä½ æä¾›ä¸€ä¸ªå¥å…¨çš„æ–¹å¼æ¥å‘è¡Œä»¥åŠå‡çº§åŒ…ï¼Œè€Œæ— éœ€æ¨å‡ºæ–°çš„ä¾èµ–åŒ…ï¼ŒèŠ‚çœä½ çš„æ—¶é—´åŠçƒ¦æ¼ã€‚ å¦‚æœæ²¡æœ‰æŸä¸ªæ­£å¼çš„è§„èŒƒå¯å¾ªï¼Œç‰ˆæœ¬å·å¯¹äºä¾èµ–çš„ç®¡ç†å¹¶æ— å®è´¨æ„ä¹‰ã€‚å°†ä¸Šè¿°çš„æƒ³æ³•å‘½åå¹¶ç»™äºˆæ¸…æ¥šçš„å®šä¹‰ï¼Œè®©ä½ å¯¹è½¯ä»¶ä½¿ç”¨è€…ä¼ è¾¾æ„å‘å˜å¾—å®¹æ˜“ã€‚ä¸€æ—¦è¿™äº›æ„å‘å˜å¾—æ¸…æ¥šï¼Œå¼¹æ€§ï¼ˆä½†åˆä¸ä¼šå¤ªå¼¹æ€§ï¼‰çš„ä¾èµ–è§„èŒƒå°±èƒ½è¾¾æˆã€‚ å¦‚æœä½ å¯¹æ­¤è®¤åŒï¼Œå¸Œæœ›ç«‹å³å¼€å§‹ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼Œä½ åªéœ€å£°æ˜ä½ çš„å‡½æ•°åº“æ­£åœ¨ä½¿ç”¨å®ƒå¹¶éµå¾ªè¿™äº›è§„åˆ™å°±å¯ä»¥äº†ã€‚è¯·åœ¨ä½ çš„ README æ–‡ä»¶ä¸­ä¿ç•™æ­¤é¡µé“¾æ¥ï¼Œè®©åˆ«äººä¹ŸçŸ¥é“è¿™äº›è§„åˆ™å¹¶ä»ä¸­å—ç›Šã€‚ Target: ç‰ˆæœ¬æ ¼å¼ï¼šä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·ï¼Œç‰ˆæœ¬å·é€’å¢è§„åˆ™å¦‚ä¸‹ï¼š ä¸»ç‰ˆæœ¬å·ï¼šå½“ä½ åšäº†ä¸å…¼å®¹çš„ API ä¿®æ”¹ï¼Œ æ¬¡ç‰ˆæœ¬å·ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ï¼Œ ä¿®è®¢å·ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ã€‚ å…ˆè¡Œç‰ˆæœ¬å·åŠç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ä»¥åŠ åˆ°â€œä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·â€çš„åé¢ï¼Œä½œä¸ºå»¶ä¼¸ã€‚ è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è§„èŒƒï¼ˆSemVerï¼‰ ä»¥ä¸‹å…³é”®è¯ MUSTã€MUST NOTã€REQUIREDã€SHALLã€SHALL NOTã€SHOULDã€SHOULD NOTã€ RECOMMENDEDã€MAYã€OPTIONAL ä¾ç…§ RFC 2119 çš„å™è¿°è§£è¯»ã€‚ ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶çš„è½¯ä»¶å¿…é¡»ï¼ˆMUSTï¼‰å®šä¹‰å…¬å…± APIã€‚è¯¥ API å¯ä»¥åœ¨ä»£ç ä¸­è¢«å®šä¹‰æˆ–å‡ºç°äºä¸¥è°¨çš„æ–‡ä»¶å†…ã€‚æ— è®ºä½•ç§å½¢å¼éƒ½åº”è¯¥åŠ›æ±‚ç²¾ç¡®ä¸”å®Œæ•´ã€‚ æ ‡å‡†çš„ç‰ˆæœ¬å·å¿…é¡»ï¼ˆMUSTï¼‰é‡‡ç”¨ X.Y.Z çš„æ ¼å¼ï¼Œå…¶ä¸­ Xã€Y å’Œ Z ä¸ºéè´Ÿçš„æ•´æ•°ï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰åœ¨æ•°å­—å‰æ–¹è¡¥é›¶ã€‚X æ˜¯ä¸»ç‰ˆæœ¬å·ã€Y æ˜¯æ¬¡ç‰ˆæœ¬å·ã€è€Œ Z ä¸ºä¿®è®¢å·ã€‚æ¯ä¸ªå…ƒç´ å¿…é¡»ï¼ˆMUSTï¼‰ä»¥æ•°å€¼æ¥é€’å¢ã€‚ä¾‹å¦‚ï¼š1.9.1 -&gt; 1.10.0 -&gt; 1.11.0ã€‚ æ ‡è®°ç‰ˆæœ¬å·çš„è½¯ä»¶å‘è¡Œåï¼Œç¦æ­¢ï¼ˆMUST NOTï¼‰æ”¹å˜è¯¥ç‰ˆæœ¬è½¯ä»¶çš„å†…å®¹ã€‚ä»»ä½•ä¿®æ”¹éƒ½å¿…é¡»ï¼ˆMUSTï¼‰ä»¥æ–°ç‰ˆæœ¬å‘è¡Œã€‚ ä¸»ç‰ˆæœ¬å·ä¸ºé›¶ï¼ˆ0.y.zï¼‰çš„è½¯ä»¶å¤„äºå¼€å‘åˆå§‹é˜¶æ®µï¼Œä¸€åˆ‡éƒ½å¯èƒ½éšæ—¶è¢«æ”¹å˜ã€‚è¿™æ ·çš„å…¬å…± API ä¸åº”è¯¥è¢«è§†ä¸ºç¨³å®šç‰ˆã€‚ 1.0.0 çš„ç‰ˆæœ¬å·ç”¨äºç•Œå®šå…¬å…± API çš„å½¢æˆã€‚è¿™ä¸€ç‰ˆæœ¬ä¹‹åæ‰€æœ‰çš„ç‰ˆæœ¬å·æ›´æ–°éƒ½åŸºäºå…¬å…± API åŠå…¶ä¿®æ”¹å†…å®¹ã€‚ ä¿®è®¢å· Zï¼ˆx.y.Z | x &gt; 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨åªåšäº†å‘ä¸‹å…¼å®¹çš„ä¿®æ­£æ—¶æ‰é€’å¢ã€‚è¿™é‡Œçš„ä¿®æ­£æŒ‡çš„æ˜¯é’ˆå¯¹ä¸æ­£ç¡®ç»“æœè€Œè¿›è¡Œçš„å†…éƒ¨ä¿®æ”¹ã€‚ æ¬¡ç‰ˆæœ¬å· Yï¼ˆx.Y.z | x &gt; 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨æœ‰å‘ä¸‹å…¼å®¹çš„æ–°åŠŸèƒ½å‡ºç°æ—¶é€’å¢ã€‚åœ¨ä»»ä½•å…¬å…± API çš„åŠŸèƒ½è¢«æ ‡è®°ä¸ºå¼ƒç”¨æ—¶ä¹Ÿå¿…é¡»ï¼ˆMUSTï¼‰é€’å¢ã€‚ä¹Ÿå¯ä»¥ï¼ˆMAYï¼‰åœ¨å†…éƒ¨ç¨‹åºæœ‰å¤§é‡æ–°åŠŸèƒ½æˆ–æ”¹è¿›è¢«åŠ å…¥æ—¶é€’å¢ï¼Œå…¶ä¸­å¯ä»¥ï¼ˆMAYï¼‰åŒ…æ‹¬ä¿®è®¢çº§åˆ«çš„æ”¹å˜ã€‚æ¯å½“æ¬¡ç‰ˆæœ¬å·é€’å¢æ—¶ï¼Œä¿®è®¢å·å¿…é¡»ï¼ˆMUSTï¼‰å½’é›¶ã€‚ ä¸»ç‰ˆæœ¬å· Xï¼ˆX.y.z | X &gt; 0ï¼‰å¿…é¡»ï¼ˆMUSTï¼‰åœ¨æœ‰ä»»ä½•ä¸å…¼å®¹çš„ä¿®æ”¹è¢«åŠ å…¥å…¬å…± API æ—¶é€’å¢ã€‚å…¶ä¸­å¯ä»¥ï¼ˆMAYï¼‰åŒ…æ‹¬æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢çº§åˆ«çš„æ”¹å˜ã€‚æ¯å½“ä¸»ç‰ˆæœ¬å·é€’å¢æ—¶ï¼Œæ¬¡ç‰ˆæœ¬å·å’Œä¿®è®¢å·å¿…é¡»ï¼ˆMUSTï¼‰å½’é›¶ã€‚ å…ˆè¡Œç‰ˆæœ¬å·ï¼šå¯ä»¥ï¼ˆMAYï¼‰è¢«æ ‡æ³¨åœ¨ä¿®è®¢ç‰ˆä¹‹åï¼Œå…ˆåŠ ä¸Šä¸€ä¸ªè¿æ¥å·å†åŠ ä¸Šä¸€è¿ä¸²ä»¥å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥ä¿®é¥°ã€‚æ ‡è¯†ç¬¦å¿…é¡»ï¼ˆMUSTï¼‰ç”± ASCII å­—æ¯æ•°å­—å’Œè¿æ¥å· [0-9A-Za-z-] ç»„æˆï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰ç•™ç™½ã€‚æ•°å­—å‹çš„æ ‡è¯†ç¬¦ç¦æ­¢ï¼ˆMUST NOTï¼‰åœ¨å‰æ–¹è¡¥é›¶ã€‚å…ˆè¡Œç‰ˆçš„ä¼˜å…ˆçº§ä½äºç›¸å…³è”çš„æ ‡å‡†ç‰ˆæœ¬ã€‚è¢«æ ‡ä¸Šå…ˆè¡Œç‰ˆæœ¬å·åˆ™è¡¨ç¤ºè¿™ä¸ªç‰ˆæœ¬å¹¶éç¨³å®šè€Œä¸”å¯èƒ½æ— æ³•æ»¡è¶³é¢„æœŸçš„å…¼å®¹æ€§éœ€æ±‚ã€‚èŒƒä¾‹ï¼š1.0.0-alphaã€1.0.0-alpha.1ã€1.0.0-0.3.7ã€1.0.0-x.7.z.92ã€‚ ç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ä»¥ï¼ˆMAYï¼‰è¢«æ ‡æ³¨åœ¨ä¿®è®¢ç‰ˆæˆ–å…ˆè¡Œç‰ˆæœ¬å·ä¹‹åï¼Œå…ˆåŠ ä¸Šä¸€ä¸ªåŠ å·å†åŠ ä¸Šä¸€è¿ä¸²ä»¥å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥ä¿®é¥°ã€‚æ ‡è¯†ç¬¦å¿…é¡»ï¼ˆMUSTï¼‰ç”± ASCII å­—æ¯æ•°å­—å’Œè¿æ¥å· [0-9A-Za-z-] ç»„æˆï¼Œä¸”ç¦æ­¢ï¼ˆMUST NOTï¼‰ç•™ç™½ã€‚å½“åˆ¤æ–­ç‰ˆæœ¬çš„ä¼˜å…ˆå±‚çº§æ—¶ï¼Œç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯å¯ï¼ˆSHOULDï¼‰è¢«å¿½ç•¥ã€‚å› æ­¤å½“ä¸¤ä¸ªç‰ˆæœ¬åªæœ‰åœ¨ç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯æœ‰å·®åˆ«æ—¶ï¼Œå±äºç›¸åŒçš„ä¼˜å…ˆå±‚çº§ã€‚èŒƒä¾‹ï¼š1.0.0-alpha+001ã€1.0.0+20130313144700ã€1.0.0-beta+exp.sha.5114f85ã€‚ ç‰ˆæœ¬çš„ä¼˜å…ˆå±‚çº§æŒ‡çš„æ˜¯ä¸åŒç‰ˆæœ¬åœ¨æ’åºæ—¶å¦‚ä½•æ¯”è¾ƒã€‚åˆ¤æ–­ä¼˜å…ˆå±‚çº§æ—¶ï¼Œå¿…é¡»ï¼ˆMUSTï¼‰æŠŠç‰ˆæœ¬ä¾åºæ‹†åˆ†ä¸ºä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·ã€ä¿®è®¢å·åŠå…ˆè¡Œç‰ˆæœ¬å·åè¿›è¡Œæ¯”è¾ƒï¼ˆç‰ˆæœ¬ç¼–è¯‘ä¿¡æ¯ä¸åœ¨è¿™ä»½æ¯”è¾ƒçš„åˆ—è¡¨ä¸­ï¼‰ã€‚ç”±å·¦åˆ°å³ä¾åºæ¯”è¾ƒæ¯ä¸ªæ ‡è¯†ç¬¦ï¼Œç¬¬ä¸€ä¸ªå·®å¼‚å€¼ç”¨æ¥å†³å®šä¼˜å…ˆå±‚çº§ï¼šä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·ä»¥æ•°å€¼æ¯”è¾ƒï¼Œä¾‹å¦‚ï¼š1.0.0 &lt; 2.0.0 &lt; 2.1.0 &lt; 2.1.1ã€‚å½“ä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·éƒ½ç›¸åŒæ—¶ï¼Œæ”¹ä»¥ä¼˜å…ˆå±‚çº§æ¯”è¾ƒä½çš„å…ˆè¡Œç‰ˆæœ¬å·å†³å®šã€‚ä¾‹å¦‚ï¼š1.0.0-alpha &lt; 1.0.0ã€‚æœ‰ç›¸åŒä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·åŠä¿®è®¢å·çš„ä¸¤ä¸ªå…ˆè¡Œç‰ˆæœ¬å·ï¼Œå…¶ä¼˜å…ˆå±‚çº§å¿…é¡»ï¼ˆMUSTï¼‰é€è¿‡ç”±å·¦åˆ°å³çš„æ¯ä¸ªè¢«å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥æ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå·®å¼‚å€¼åå†³å®šï¼šåªæœ‰æ•°å­—çš„æ ‡è¯†ç¬¦ä»¥æ•°å€¼é«˜ä½æ¯”è¾ƒï¼Œæœ‰å­—æ¯æˆ–è¿æ¥å·æ—¶åˆ™é€å­—ä»¥ ASCII çš„æ’åºæ¥æ¯”è¾ƒã€‚æ•°å­—çš„æ ‡è¯†ç¬¦æ¯”éæ•°å­—çš„æ ‡è¯†ç¬¦ä¼˜å…ˆå±‚çº§ä½ã€‚è‹¥å¼€å¤´çš„æ ‡è¯†ç¬¦éƒ½ç›¸åŒæ—¶ï¼Œæ ä½æ¯”è¾ƒå¤šçš„å…ˆè¡Œç‰ˆæœ¬å·ä¼˜å…ˆå±‚çº§æ¯”è¾ƒé«˜ã€‚èŒƒä¾‹ï¼š1.0.0-alpha &lt; 1.0.0-alpha.1 &lt; 1.0.0-alpha.beta &lt; 1.0.0-beta &lt; 1.0.0-beta.2 &lt; 1.0.0-beta.11 &lt; 1.0.0-rc.1 &lt; 1.0.0ã€‚ FAQ åœ¨ 0.y.z åˆå§‹å¼€å‘é˜¶æ®µï¼Œæˆ‘è¯¥å¦‚ä½•è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Ÿ æœ€ç®€å•çš„åšæ³•æ˜¯ä»¥ 0.1.0 ä½œä¸ºä½ çš„åˆå§‹åŒ–å¼€å‘ç‰ˆæœ¬ï¼Œå¹¶åœ¨åç»­çš„æ¯æ¬¡å‘è¡Œæ—¶é€’å¢æ¬¡ç‰ˆæœ¬å·ã€‚ å¦‚ä½•åˆ¤æ–­å‘å¸ƒ 1.0.0 ç‰ˆæœ¬çš„æ—¶æœºï¼Ÿ å½“ä½ çš„è½¯ä»¶è¢«ç”¨äºæ­£å¼ç¯å¢ƒï¼Œå®ƒåº”è¯¥å·²ç»è¾¾åˆ°äº† 1.0.0 ç‰ˆã€‚å¦‚æœä½ å·²ç»æœ‰ä¸ªç¨³å®šçš„ API è¢«ä½¿ç”¨è€…ä¾èµ–ï¼Œä¹Ÿä¼šæ˜¯ 1.0.0 ç‰ˆã€‚å¦‚æœä½ å¾ˆæ‹…å¿ƒå‘ä¸‹å…¼å®¹çš„é—®é¢˜ï¼Œä¹Ÿåº”è¯¥ç®—æ˜¯ 1.0.0 ç‰ˆäº†ã€‚ è¿™ä¸ä¼šé˜»ç¢å¿«é€Ÿå¼€å‘å’Œè¿­ä»£å—ï¼Ÿ ä¸»ç‰ˆæœ¬å·ä¸ºé›¶çš„æ—¶å€™å°±æ˜¯ä¸ºäº†åšå¿«é€Ÿå¼€å‘ã€‚å¦‚æœä½ æ¯å¤©éƒ½åœ¨æ”¹å˜ APIï¼Œé‚£ä¹ˆä½ åº”è¯¥ä»åœ¨ä¸»ç‰ˆæœ¬å·ä¸ºé›¶çš„é˜¶æ®µï¼ˆ0.y.zï¼‰ï¼Œæˆ–æ˜¯æ­£åœ¨ä¸‹ä¸ªä¸»ç‰ˆæœ¬çš„ç‹¬ç«‹å¼€å‘åˆ†æ”¯ä¸­ã€‚ å¯¹äºå…¬å…± APIï¼Œè‹¥å³ä½¿æ˜¯æœ€å°ä½†ä¸å‘ä¸‹å…¼å®¹çš„æ”¹å˜éƒ½éœ€è¦äº§ç”Ÿæ–°çš„ä¸»ç‰ˆæœ¬å·ï¼Œå²‚ä¸æ˜¯å¾ˆå¿«å°±è¾¾åˆ° 42.0.0 ç‰ˆï¼Ÿ è¿™æ˜¯å¼€å‘çš„è´£ä»»æ„Ÿå’Œå‰ç»æ€§çš„é—®é¢˜ã€‚ä¸å…¼å®¹çš„æ”¹å˜ä¸åº”è¯¥è½»æ˜“è¢«åŠ å…¥åˆ°æœ‰è®¸å¤šä¾èµ–ä»£ç çš„è½¯ä»¶ä¸­ã€‚å‡çº§æ‰€ä»˜å‡ºçš„ä»£ä»·å¯èƒ½æ˜¯å·¨å¤§çš„ã€‚è¦é€’å¢ä¸»ç‰ˆæœ¬å·æ¥å‘è¡Œä¸å…¼å®¹çš„æ”¹ç‰ˆï¼Œæ„å‘³ç€ä½ å¿…é¡»ä¸ºè¿™äº›æ”¹å˜æ‰€å¸¦æ¥çš„å½±å“æ·±æ€ç†Ÿè™‘ï¼Œå¹¶ä¸”è¯„ä¼°æ‰€æ¶‰åŠçš„æˆæœ¬åŠæ•ˆç›Šæ¯”ã€‚ ä¸ºæ•´ä¸ªå…¬å…± API å†™æ–‡ä»¶å¤ªè´¹äº‹äº†ï¼ ä¸ºä¾›ä»–äººä½¿ç”¨çš„è½¯ä»¶ç¼–å†™é€‚å½“çš„æ–‡ä»¶ï¼Œæ˜¯ä½ ä½œä¸ºä¸€åä¸“ä¸šå¼€å‘è€…åº”å°½çš„èŒè´£ã€‚ä¿æŒä¸“æ¡ˆé«˜æ•ˆä¸€ä¸ªéå¸¸é‡è¦çš„éƒ¨ä»½æ˜¯æŒæ§è½¯ä»¶çš„å¤æ‚åº¦ï¼Œå¦‚æœæ²¡æœ‰äººçŸ¥é“å¦‚ä½•ä½¿ç”¨ä½ çš„è½¯ä»¶æˆ–ä¸çŸ¥é“å“ªäº›å‡½æ•°çš„è°ƒç”¨æ˜¯å¯é çš„ï¼Œè¦æŒæ§å¤æ‚åº¦ä¼šæ˜¯å›°éš¾çš„ã€‚é•¿è¿œæ¥çœ‹ï¼Œä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ä»¥åŠå¯¹äºå…¬å…± API æœ‰è‰¯å¥½è§„èŒƒçš„åšæŒï¼Œå¯ä»¥è®©æ¯ä¸ªäººåŠæ¯ä»¶äº‹éƒ½è¿è¡Œé¡ºç•…ã€‚ ä¸‡ä¸€ä¸å°å¿ƒæŠŠä¸€ä¸ªä¸å…¼å®¹çš„æ”¹ç‰ˆå½“æˆäº†æ¬¡ç‰ˆæœ¬å·å‘è¡Œäº†è¯¥æ€ä¹ˆåŠï¼Ÿ ä¸€æ—¦å‘ç°è‡ªå·±ç ´åäº†è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶çš„è§„èŒƒï¼Œå°±è¦ä¿®æ­£è¿™ä¸ªé—®é¢˜ï¼Œå¹¶å‘è¡Œä¸€ä¸ªæ–°çš„æ¬¡ç‰ˆæœ¬å·æ¥æ›´æ­£è¿™ä¸ªé—®é¢˜å¹¶ä¸”æ¢å¤å‘ä¸‹å…¼å®¹ã€‚å³ä½¿æ˜¯è¿™ç§æƒ…å†µï¼Œä¹Ÿä¸èƒ½å»ä¿®æ”¹å·²å‘è¡Œçš„ç‰ˆæœ¬ã€‚å¯ä»¥çš„è¯ï¼Œå°†æœ‰é—®é¢˜çš„ç‰ˆæœ¬å·è®°å½•åˆ°æ–‡ä»¶ä¸­ï¼Œå‘Šè¯‰ä½¿ç”¨è€…é—®é¢˜æ‰€åœ¨ï¼Œè®©ä»–ä»¬èƒ½å¤Ÿæ„è¯†åˆ°è¿™æ˜¯æœ‰é—®é¢˜çš„ç‰ˆæœ¬ã€‚ å¦‚æœæˆ‘æ›´æ–°äº†è‡ªå·±çš„ä¾èµ–ä½†æ²¡æœ‰æ”¹å˜å…¬å…± API è¯¥æ€ä¹ˆåŠï¼Ÿ ç”±äºæ²¡æœ‰å½±å“åˆ°å…¬å…± APIï¼Œè¿™å¯ä»¥è¢«è®¤å®šæ˜¯å…¼å®¹çš„ã€‚è‹¥æŸä¸ªè½¯ä»¶å’Œä½ çš„åŒ…æœ‰å…±åŒä¾èµ–ï¼Œåˆ™å®ƒä¼šæœ‰è‡ªå·±çš„ä¾èµ–è§„èŒƒï¼Œä½œè€…ä¹Ÿä¼šå‘ŠçŸ¥å¯èƒ½çš„å†²çªã€‚è¦åˆ¤æ–­æ”¹ç‰ˆæ˜¯å±äºä¿®è®¢ç­‰çº§æˆ–æ˜¯æ¬¡ç‰ˆç­‰çº§ï¼Œæ˜¯ä¾æ®ä½ æ›´æ–°çš„ä¾èµ–å…³ç³»æ˜¯ä¸ºäº†ä¿®å¤é—®é¢˜æˆ–æ˜¯åŠ å…¥æ–°åŠŸèƒ½ã€‚å¯¹äºåè€…ï¼Œæˆ‘ç»å¸¸ä¼šé¢„æœŸä¼´éšç€æ›´å¤šçš„ä»£ç ï¼Œè¿™æ˜¾ç„¶ä¼šæ˜¯ä¸€ä¸ªæ¬¡ç‰ˆæœ¬å·çº§åˆ«çš„é€’å¢ã€‚ å¦‚æœæˆ‘å˜æ›´äº†å…¬å…± API ä½†æ— æ„ä¸­æœªéµå¾ªç‰ˆæœ¬å·çš„æ”¹åŠ¨æ€ä¹ˆåŠå‘¢ï¼Ÿï¼ˆæ„å³åœ¨ä¿®è®¢ç­‰çº§çš„å‘å¸ƒä¸­ï¼Œè¯¯å°†é‡å¤§ä¸”ä¸å…¼å®¹çš„æ”¹å˜åŠ åˆ°ä»£ç ä¹‹ä¸­ï¼‰ è‡ªè¡Œåšæœ€ä½³çš„åˆ¤æ–­ã€‚å¦‚æœä½ æœ‰åºå¤§çš„ä½¿ç”¨è€…ç¾¤åœ¨ä¾ç…§å…¬å…± API çš„æ„å›¾è€Œå˜æ›´è¡Œä¸ºåä¼šå¤§å—å½±å“ï¼Œé‚£ä¹ˆæœ€å¥½åšä¸€æ¬¡ä¸»ç‰ˆæœ¬çš„å‘å¸ƒï¼Œå³ä½¿ä¸¥æ ¼æ¥è¯´è¿™ä¸ªä¿®å¤ä»…æ˜¯ä¿®è®¢ç­‰çº§çš„å‘å¸ƒã€‚è®°ä½ï¼Œ è¯­ä¹‰åŒ–çš„ç‰ˆæœ¬æ§åˆ¶å°±æ˜¯é€è¿‡ç‰ˆæœ¬å·çš„æ”¹å˜æ¥ä¼ è¾¾æ„ä¹‰ã€‚è‹¥è¿™äº›æ”¹å˜å¯¹ä½ çš„ä½¿ç”¨è€…æ˜¯é‡è¦çš„ï¼Œé‚£å°±é€è¿‡ç‰ˆæœ¬å·æ¥å‘ä»–ä»¬è¯´æ˜ã€‚ æˆ‘è¯¥å¦‚ä½•å¤„ç†å³å°†å¼ƒç”¨çš„åŠŸèƒ½ï¼Ÿ å¼ƒç”¨ç°å­˜çš„åŠŸèƒ½æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„å®¶å¸¸ä¾¿é¥­ï¼Œä¹Ÿé€šå¸¸æ˜¯å‘å‰å‘å±•æ‰€å¿…é¡»çš„ã€‚å½“ä½ å¼ƒç”¨éƒ¨ä»½å…¬å…± API æ—¶ï¼Œä½ åº”è¯¥åšä¸¤ä»¶äº‹ï¼šï¼ˆ1ï¼‰æ›´æ–°ä½ çš„æ–‡ä»¶è®©ä½¿ç”¨è€…çŸ¥é“è¿™ä¸ªæ”¹å˜ï¼Œï¼ˆ2ï¼‰åœ¨é€‚å½“çš„æ—¶æœºå°†å¼ƒç”¨çš„åŠŸèƒ½é€è¿‡æ–°çš„æ¬¡ç‰ˆæœ¬å·å‘å¸ƒã€‚åœ¨æ–°çš„ä¸»ç‰ˆæœ¬å®Œå…¨ç§»é™¤å¼ƒç”¨åŠŸèƒ½å‰ï¼Œè‡³å°‘è¦æœ‰ä¸€ä¸ªæ¬¡ç‰ˆæœ¬åŒ…å«è¿™ä¸ªå¼ƒç”¨ä¿¡æ¯ï¼Œè¿™æ ·ä½¿ç”¨è€…æ‰èƒ½å¹³é¡ºåœ°è½¬ç§»åˆ°æ–°ç‰ˆ APIã€‚ è¯­ä¹‰åŒ–ç‰ˆæœ¬å¯¹äºç‰ˆæœ¬çš„å­—ä¸²é•¿åº¦æ˜¯å¦æœ‰é™åˆ¶å‘¢ï¼Ÿ æ²¡æœ‰ï¼Œè¯·è‡ªè¡Œåšé€‚å½“çš„åˆ¤æ–­ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œé•¿åˆ° 255 ä¸ªå­—å…ƒçš„ç‰ˆæœ¬å·²è¿‡åº¦å¤¸å¼ ã€‚å†è€…ï¼Œç‰¹å®šçš„ç³»ç»Ÿå¯¹äºå­—ä¸²é•¿åº¦å¯èƒ½ä¼šæœ‰ä»–ä»¬è‡ªå·±çš„é™åˆ¶ã€‚ ç‰ˆæœ¬ï¼šAlphaã€betaã€RC è¿™äº›å«åšå…ˆè¡Œç‰ˆæœ¬å·ã€‚è¢«æ ‡æ³¨åœ¨ä¿®è®¢ç‰ˆä¹‹åï¼Œå…ˆåŠ ä¸Šä¸€ä¸ªè¿æ¥å·å†åŠ ä¸Šä¸€è¿ä¸²ä»¥å¥ç‚¹åˆ†éš”çš„æ ‡è¯†ç¬¦æ¥ä¿®é¥°ï¼Œå¦‚1.0.0-alphaã€1.0.0-alpha.1ã€1.0.0-0.3.7ã€1.0.0-x.7.z.92 å¸¸è§çš„ RC ç‰ˆæœ¬ï¼Œå…¨ç§°æ˜¯ Release Candidateã€‚å…¶ä¸­ Release æ˜¯å‘è¡Œã€å‘å¸ƒçš„æ„æ€ã€‚Candidate æ˜¯å€™é€‰äººçš„æ„æ€ï¼Œç”¨åœ¨è½¯ä»¶æˆ–è€…æ“ä½œç³»ç»Ÿä¸Šå°±æ˜¯å€™é€‰ç‰ˆæœ¬ã€‚å› æ­¤ Release Candidate å°±æ˜¯å‘è¡Œå€™é€‰ç‰ˆæœ¬ã€‚ ç‰ˆæœ¬åç§° ä»‹ç» è¯´æ˜ Alpha å†…æµ‹ç‰ˆæœ¬ å†…éƒ¨æµ‹è¯•ç‰ˆæœ¬ã€‚ Beta å…¬æµ‹ç‰ˆæœ¬ Beta é˜¶æ®µä¼šä¸€ç›´åŠ å…¥æ–°çš„åŠŸèƒ½ã€‚ RC å€™é€‰ç‰ˆæœ¬ å‡ ä¹å°±ä¸ä¼šåŠ å…¥æ–°çš„åŠŸèƒ½äº†ï¼Œè€Œä¸»è¦ç€é‡äºé™¤é”™ã€‚ Release æ­£å¼ç‰ˆæœ¬ ç¨³å®šç‰ˆæœ¬ã€‚ RC ç‰ˆæœ¬å’Œ Beta ç‰ˆæœ€å¤§çš„å·®åˆ«åœ¨äº Beta é˜¶æ®µä¼šä¸€ç›´åŠ å…¥æ–°çš„åŠŸèƒ½ï¼Œä½†æ˜¯åˆ°äº† RC é˜¶æ®µï¼Œå‡ ä¹å°±ä¸ä¼šåŠ å…¥æ–°çš„åŠŸèƒ½äº†ï¼Œè€Œä¸»è¦ç€é‡äºé™¤é”™ã€‚ RC ç‰ˆæœ¬ï¼Œå®ƒä¸æ˜¯æœ€ç»ˆçš„ç‰ˆæœ¬ï¼Œè€Œæ˜¯æœ€ç»ˆç‰ˆï¼ˆRTMï¼ŒRelease To Manufactureï¼‰ä¹‹å‰çš„æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚å¹¿ä¹‰ä¸Šå¯¹æµ‹è¯•æœ‰ä¸‰ä¸ªä¼ ç»Ÿçš„ç§°å‘¼ï¼šAlphaï¼ˆÎ±ï¼‰ã€Betaï¼ˆÎ²ï¼‰ã€Gammaï¼ˆÎ³ï¼‰ï¼Œç”¨æ¥æ ‡è¯†æµ‹è¯•çš„é˜¶æ®µå’ŒèŒƒå›´ã€‚Alpha æ˜¯æŒ‡å†…æµ‹ï¼Œå³ç°åœ¨è¯´çš„ CBï¼ŒæŒ‡å¼€å‘å›¢é˜Ÿå†…éƒ¨æµ‹è¯•çš„ç‰ˆæœ¬æˆ–è€…æœ‰é™ç”¨æˆ·ä½“éªŒæµ‹è¯•ç‰ˆæœ¬ã€‚Beta æ˜¯æŒ‡å…¬æµ‹ï¼Œå³é’ˆå¯¹æ‰€æœ‰ç”¨æˆ·å…¬å¼€çš„æµ‹è¯•ç‰ˆæœ¬ã€‚ç„¶ååšè¿‡ä¸€äº›ä¿®æ”¹ï¼Œæˆä¸ºæ­£å¼å‘å¸ƒçš„å€™é€‰ç‰ˆæœ¬æ—¶å«åš Gammaï¼Œç°åœ¨å«åš RCã€‚","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"Springboot-Kotlin-Mockito","slug":"Springboot-Kotlin-Mockito","date":"2022-01-03T09:19:10.000Z","updated":"2022-01-03T10:50:45.305Z","comments":true,"path":"2022/01/03/Springboot-Kotlin-Mockito/","link":"","permalink":"https://nymrli.top/2022/01/03/Springboot-Kotlin-Mockito/","excerpt":"","text":"åˆè¯† Mockito è¿™ä¸ªæµ‹è¯•æ¡†æ¶åï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ Mock çš„å±æ€§åˆ›å»ºä¸€ä¸ªè¢«æµ‹è¯•ç±»å®ä¾‹æ—¶ï¼Œå¤§æ¦‚ä¼šä¸‹é¢è¿™ä¹ˆçº¯æ‰‹å·¥æ¥æ‰“é€ ã€‚ æ‰‹å·¥è¿‡ç¨‹è§: https://www.jianshu.com/p/bb705a56f620 å¦‚æœæ‰€æœ‰çš„ Mock å¯¹è±¡å…¨éƒ¨é€šè¿‡æ‰‹å·¥æ¥åˆ›å»ºï¼Œé‚£å°±ä¸å®¹æ˜“ä½“ç°å‡º Mockito çš„ä¼˜è¶Šæ€§å‡ºæ¥ã€‚å› æ­¤å¯¹äºè¢«æµ‹è¯•å¯¹è±¡çš„åˆ›å»ºï¼ŒMock å±æ€§çš„æ³¨å…¥åº”è¯¥è®© @Mock å’Œ @InjectMocksè¿™ä¸¤ä¸ªæ³¨è§£å¤§æ˜¾èº«æ‰‹äº†ã€‚ Mockitoèƒ½åŠ› @Mockï¼šå¯¹å‡½æ•°çš„è°ƒç”¨å‡æ‰§è¡Œmockï¼ˆå³è™šå‡å‡½æ•°ï¼‰ï¼Œä¸æ‰§è¡ŒçœŸæ­£éƒ¨åˆ†ã€‚ @Spyï¼šå¯¹å‡½æ•°çš„è°ƒç”¨å‡æ‰§è¡ŒçœŸæ­£éƒ¨åˆ†ã€‚ @InjectMocksï¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå…¶ä½™ç”¨@Mockï¼ˆæˆ–@Spyï¼‰æ³¨è§£åˆ›å»ºçš„mockå°†è¢«æ³¨å…¥åˆ°ç”¨è¯¥å®ä¾‹ä¸­ã€‚ @Autowird æ–¹å¼æ˜¯åŸºäºSpringbootæ¡†æ¶å¯åŠ¨çš„è‡ªåŠ¨æ³¨å…¥ã€‚åœ¨å•å…ƒæµ‹è¯•ä¸­ï¼Œå¦‚æœæ²¡æœ‰å¯åŠ¨ spring æ¡†æ¶ï¼Œæ­¤æ—¶å°±éœ€è¦é€šè¿‡ @ InjectMockså®Œæˆä¾èµ–æ³¨å…¥ï¼š @InjectMocksä¼šå°†å¸¦æœ‰@Spy å’Œ@Mock æ³¨è§£çš„å¯¹è±¡å°è¯•æ³¨å…¥åˆ°è¢« æµ‹è¯•çš„ç›®æ ‡ç±»ä¸­ã€‚è®°ä½ä¸‹é¢è¿™ä¸¤å¥è¯å³å¯ï¼š Usually when you are unit testing, you shouldnâ€™t initialize Spring context. So remove Autowiring. Usually when you do integration testing, you should use real dependencies. So remove mocking. è¿™è¾¹ä¹Ÿè§£é‡Šäº†ï¼Œ@RunWith(MockitoJUnitRunner::class)çš„å«ä¹‰ï¼Œå…¶å®æ˜¯ç»™ä¸‹é¢Mockitoæ³¨å…¥çš„æˆå‘˜æä¾›ä¸€ä¸ªè¿è¡Œç¯å¢ƒï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨@SpringBootTestçš„åŸå› ä¸»è¦è¿˜æ˜¯å¯åŠ¨å¤ªå¤šï¼Œè¿è¡Œå¤ªé‡çš„è€ƒè™‘ã€‚é‚£ä»€ä¹ˆæ—¶å€™å¾—ç”¨@SpringBootTestå‘¢ï¼Ÿâ€”â€”æœ€ç®€å•çš„æƒ…å†µï¼Œå³è¦æ³¨å…¥controlleråˆè¦æ³¨å…¥serviceï¼ŒåŒæ—¶éœ€è¦@mockå­˜å‚¨å±‚çš„repositoryï¼Œç”±äºcontrollerå’Œserviceéƒ½éœ€è¦æ ‡æ³¨@InjectMocks, ä½†InjectMockså­—æ®µæ˜¯æ— æ³•æ³¨å…¥å…¶ä»–InjectMockså­—æ®µçš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨Springæ¥åšå®¹å™¨ç®¡ç†ã€‚ @Mockå’Œ@MockBeanåŒºåˆ« MockBeançš„ä»‹ç»ï¼š 1234åœ¨åšå•å…ƒæµ‹è¯•æ—¶ï¼Œå¦‚æœæƒ³è¦ mock UserRepository çš„é€»è¾‘ï¼Œåªéœ€è¦å£°æ˜ä¸€ä¸ªå˜é‡å¹¶åœ¨ä¸Šé¢åŠ ä¸Š @MockBean çš„æ³¨é‡Šå³å¯ï¼Œä¹‹åä½¿ç”¨ when().thenReturn() æ¥è®¾å®š mock UserRepository çš„è¡Œä¸ºã€‚åœ¨è¿è¡Œæ—¶ SpringBoot ä¼šæ‰«æåˆ°ä½ æ³¨é‡Šçš„ mock ï¼Œå¹¶è‡ªåŠ¨è£…é…åˆ°è¢«æµ‹è¯•çš„ controller é‡Œé¢ã€‚è¿™ä¹Ÿæ˜¯å’Œ @Mock æ³¨é‡Šä¸åŒçš„åœ°æ–¹ï¼Œåè€…åªèƒ½ç”Ÿæˆä¸€ä¸ª Mock ç±»ï¼Œä½†æ˜¯å¹¶ä¸èƒ½è‡ªåŠ¨è£…é…åˆ°å…¶å®ƒç±»é‡Œé¢ã€‚ å› æ­¤ï¼Œ@Mockæ–¹ä¾¿æ¥åšå•å…ƒæµ‹è¯•ï¼Œ@MockBeanå¤§å¤šç”¨æ¥åšæœ‰ä¾èµ–å…³ç³»çš„é›†æˆæµ‹è¯• vertify éªŒè¯è¡Œä¸ºæ˜¯å¦å‘ç”Ÿ verifyæ–¹æ³•ç”¨äºéªŒè¯ mock bean çš„æ–¹æ³•è°ƒç”¨ï¼Œè¦æ±‚å¿…é¡»æ˜¯mockå¯¹è±¡ Mockito . *verify* (mockBean ).someMethod();è¡¨ç¤ºï¼šsomeMethodæ–¹æ³•è°ƒç”¨äº†ä¸€æ¬¡ï¼Œç›¸å½“äºtimes(1) Mockito . *verify* (mock Bean, Mockito.times(n) ).someMethod();è¡¨ç¤ºï¼šsomeMethodæ–¹æ³•è°ƒç”¨äº†næ¬¡ Mockito . *verify* (mock Bean, Mockito.never() ).someMethod();è¡¨ç¤ºï¼šsomeMethodæ–¹æ³•æœªæ‰§è¡Œ Mockito . *verify* (mock Bean, Mockito. atLeastOnce() ).someMethod();è¡¨ç¤ºï¼šsomeMethodæ–¹æ³•è‡³å°‘æ‰§è¡Œè¿‡ä¸€æ¬¡,ç›¸å½“äºatLeast(1) éœ€è¦æ³¨æ„çš„ï¼šMockito.*verify* (mock Bean, Mockito.only() ).someMethod();è¡¨ç¤ºï¼š ä»…æœ‰someMethodæ–¹æ³•æ‰§è¡Œï¼Œä¸”åªæœ‰ä¸€æ¬¡ï¼Œä¸èƒ½æœ‰å…¶ä»–æ–¹æ³•æ‰§è¡Œ more: https://www.jianshu.com/p/0e6a868b9da0 å¸¸ç”¨çš„ Mockito æ–¹æ³•ï¼š Mockitoçš„ä½¿ç”¨ï¼Œä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§ç»„åˆï¼šå‚è€ƒé“¾æ¥ do/whenï¼šåŒ…æ‹¬doThrow(â€¦).when(â€¦)/doReturn(â€¦).when(â€¦)/doAnswer(â€¦).when(â€¦) given/willï¼šåŒ…æ‹¬given(â€¦).willReturn(â€¦)/given(â€¦).willAnswer(â€¦) when/then: åŒ…æ‹¬when(â€¦).thenReturn(â€¦)/when(â€¦).thenAnswer(â€¦) æ–¹æ³•å æè¿° Mockito.mock(classToMock) æ¨¡æ‹Ÿå¯¹è±¡ Mockito.verify(mock) éªŒè¯è¡Œä¸ºæ˜¯å¦å‘ç”Ÿ Mockito.when(methodCall).thenReturn(value1).thenReturn(value2) è§¦å‘æ—¶ç¬¬ä¸€æ¬¡è¿”å›value1ï¼Œç¬¬næ¬¡éƒ½è¿”å›value2 Mockito.doThrow(toBeThrown).when(mock).[method] æ¨¡æ‹ŸæŠ›å‡ºå¼‚å¸¸ã€‚ Mockito.mock(classToMock,defaultAnswer) ä½¿ç”¨é»˜è®¤Answeræ¨¡æ‹Ÿå¯¹è±¡ Mockito.when(methodCall).thenReturn(value) å‚æ•°åŒ¹é… Mockito.doReturn(toBeReturned).when(mock).[method] å‚æ•°åŒ¹é…ï¼ˆç›´æ¥æ‰§è¡Œä¸åˆ¤æ–­ï¼‰ Mockito.when(methodCall).thenAnswer(answer)) é¢„æœŸå›è°ƒæ¥å£ç”ŸæˆæœŸæœ›å€¼ Mockito.doAnswer(answer).when(methodCall).[method] é¢„æœŸå›è°ƒæ¥å£ç”ŸæˆæœŸæœ›å€¼ï¼ˆç›´æ¥æ‰§è¡Œä¸åˆ¤æ–­ï¼‰ Mockito.spy(Object) ç”¨spyç›‘æ§çœŸå®å¯¹è±¡,è®¾ç½®çœŸå®å¯¹è±¡è¡Œä¸º Mockito.doNothing().when(mock).[method] ä¸åšä»»ä½•è¿”å› Mockito.doCallRealMethod().when(mock).[method] //ç­‰ä»·äºMockito.when(mock.[method]).thenCallRealMethod(); è°ƒç”¨çœŸå®çš„æ–¹æ³• reset(mock) é‡ç½®mock Matchers åŒ¹é…ä»»æ„å‚æ•° Mockito.anyInt() ä»»ä½• int å€¼ ï¼› Mockito.anyLong() ä»»ä½• long å€¼ ï¼› Mockito.anyString() ä»»ä½• String å€¼ ï¼› Mockito.any(XXX.class) ä»»ä½• XXX ç±»å‹çš„å€¼ ç­‰ç­‰ã€‚ 1234567891011121314151617@Testpublic void with_unspecified_arguments()&#123; List list = Mockito.mock(List.class); //åŒ¹é…ä»»æ„å‚æ•° Mockito.when(list.get(Mockito.anyInt())).thenReturn(1); Mockito.when(list.contains(Mockito.argThat(new IsValid()))).thenReturn(true); Assert.assertEquals(1,list.get(1)); Assert.assertEquals(1,list.get(999)); Assert.assertTrue(list.contains(1)); Assert.assertTrue(!list.contains(3));&#125;class IsValid extends ArgumentMatcher&lt;List&gt;&#123; @Override public boolean matches(Object obj) &#123; return obj.equals(1) || obj.equals(2); &#125;&#125; Moreï¼š å‡½æ•°å åŒ¹é…ç±»å‹ any() æ‰€æœ‰å¯¹è±¡ç±»å‹ anyInt() åŸºæœ¬ç±»å‹ intã€é null çš„ Integer ç±»å‹ anyChar() åŸºæœ¬ç±»å‹ charã€é null çš„ Character ç±»å‹ anyShort() åŸºæœ¬ç±»å‹ shortã€é null çš„ Short ç±»å‹ anyBoolean() åŸºæœ¬ç±»å‹ booleanã€é null çš„ Boolean ç±»å‹ anyDouble() åŸºæœ¬ç±»å‹ doubleã€é null çš„ Double ç±»å‹ anyFloat() åŸºæœ¬ç±»å‹ floatã€é null çš„ Float ç±»å‹ anyLong() åŸºæœ¬ç±»å‹ longã€é null çš„ Long ç±»å‹ anyByte() åŸºæœ¬ç±»å‹ byteã€é null çš„ Byte ç±»å‹ anyString() String ç±»å‹(ä¸èƒ½æ˜¯ null) anyList() List ç±»å‹(ä¸èƒ½æ˜¯ null) anyMap() Map&lt;K, V&gt;ç±»å‹(ä¸èƒ½æ˜¯ null) é™„å½• Junitä¸­çš„åŸºæœ¬æ³¨è§£ï¼š @Testï¼šä½¿ç”¨è¯¥æ³¨è§£æ ‡æ³¨çš„public voidæ–¹æ³•ä¼šè¡¨ç¤ºä¸ºä¸€ä¸ªæµ‹è¯•æ–¹æ³•ï¼› @BeforeClassï¼šè¡¨ç¤ºåœ¨ç±»ä¸­çš„ä»»æ„public static voidæ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼› @AfterClassï¼šè¡¨ç¤ºåœ¨ç±»ä¸­çš„ä»»æ„public static voidæ–¹æ³•ä¹‹åæ‰§è¡Œï¼› @Beforeï¼šè¡¨ç¤ºåœ¨ä»»æ„ä½¿ç”¨@Testæ³¨è§£æ ‡æ³¨çš„public voidæ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼› @Afterï¼šè¡¨ç¤ºåœ¨ä»»æ„ä½¿ç”¨@Testæ³¨è§£æ ‡æ³¨çš„public voidæ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼› demoï¼š https://github.com/enesacikoglu/SpringBootKotlinApi/blob/master/src/test/kotlin/com/cengenes/kotlin/api/service/HotelServiceManagerTest.kt","categories":[],"tags":[{"name":"å¼€å‘ç¬”è®°","slug":"å¼€å‘ç¬”è®°","permalink":"https://nymrli.top/tags/å¼€å‘ç¬”è®°/"}]},{"title":"ç†è§£SpringBootæ³¨è§£s","slug":"ç†è§£SpringBootæ³¨è§£s","date":"2021-12-30T12:30:45.000Z","updated":"2021-12-30T14:25:40.982Z","comments":true,"path":"2021/12/30/ç†è§£SpringBootæ³¨è§£s/","link":"","permalink":"https://nymrli.top/2021/12/30/ç†è§£SpringBootæ³¨è§£s/","excerpt":"","text":"@ReuqestBodyå’Œ@RequestParam è¿™ä¸¤ä¸ªæ³¨è§£éƒ½æ˜¯åœ¨ControlleræŸä¸ªMappingå‡½æ•°çš„å½¢å‚å‰åŠ ä¸Šçš„ï¼Œä½†ä¸¤ä¸ªå…·ä½“æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿåœ¨ä½¿ç”¨çš„æ—¶å€™æˆ‘ä»¬è¯¥å¦‚ä½•é€‰æ‹©å‘¢? è¿™è·Ÿæˆ‘ä»¬å¸Œæœ›ç”¨æˆ·ä»¥ä»€ä¹ˆå½¢å¼æ¥è¯·æ±‚æ¥å£æœ‰å…³ã€‚ ä¼—æ‰€å‘¨çŸ¥ï¼Œè¯·æ±‚å¤´çš„Content-typeæœ‰å¤šä¸ªï¼Œå¦‚ å¸¸è§çš„åª’ä½“æ ¼å¼ç±»å‹å¦‚ä¸‹ï¼š text/html ï¼š HTMLæ ¼å¼ text/plain ï¼šçº¯æ–‡æœ¬æ ¼å¼ text/xml ï¼š XMLæ ¼å¼ image/gif ï¼šgifå›¾ç‰‡æ ¼å¼ image/jpeg ï¼šjpgå›¾ç‰‡æ ¼å¼ image/pngï¼špngå›¾ç‰‡æ ¼å¼ ä»¥applicationå¼€å¤´çš„åª’ä½“æ ¼å¼ç±»å‹ï¼š application/xhtml+xml ï¼šXHTMLæ ¼å¼ application/xmlï¼š XMLæ•°æ®æ ¼å¼ application/atom+xml ï¼šAtom XMLèšåˆæ ¼å¼ â­ï¸application/jsonï¼š JSONæ•°æ®æ ¼å¼ application/pdfï¼špdfæ ¼å¼ application/msword ï¼š Wordæ–‡æ¡£æ ¼å¼ application/octet-stream ï¼š äºŒè¿›åˆ¶æµæ•°æ®ï¼ˆå¦‚å¸¸è§çš„æ–‡ä»¶ä¸‹è½½ï¼‰ â­ï¸application/x-www-form-urlencoded ï¼š&lt;form encType=&quot;&quot;&gt;ä¸­é»˜è®¤çš„encTypeï¼Œformè¡¨å•æ•°æ®è¢«ç¼–ç ä¸ºkey/valueæ ¼å¼å‘é€åˆ°æœåŠ¡å™¨ï¼ˆè¡¨å•é»˜è®¤çš„æäº¤æ•°æ®çš„æ ¼å¼ï¼‰ å¦å¤–ä¸€ç§å¸¸è§çš„åª’ä½“æ ¼å¼æ˜¯ä¸Šä¼ æ–‡ä»¶ä¹‹æ—¶ä½¿ç”¨çš„ï¼š multipart/form-data ï¼š éœ€è¦åœ¨è¡¨å•ä¸­è¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨è¯¥æ ¼å¼ å…¶ä¸­ï¼ŒPOSTè¯·æ±‚æœ€å¸¸ç”¨çš„æ˜¯application/x-www-form-urlencoded,æµè§ˆå™¨çš„åŸç”Ÿ form è¡¨å•ï¼Œå¦‚æœä¸è®¾ç½® enctype å±æ€§ï¼Œé‚£ä¹ˆæœ€ç»ˆå°±ä¼šä»¥ application/x-www-form-urlencoded æ–¹å¼æäº¤æ•°æ®ã€‚æ•°æ®æŒ‰ç…§ key1=val1&amp;key2=val2 çš„æ–¹å¼è¿›è¡Œç¼–ç ï¼Œkey å’Œ val éƒ½è¿›è¡Œäº† URL è½¬ç ã€‚è¯·æ±‚ç±»ä¼¼äºä¸‹é¢è¿™æ · æ­¤å¤–ï¼Œapplication/jsonä¹Ÿæ˜¯POSTæ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§å½¢å¼ï¼Œä¹Ÿæ˜¯ç›®å‰æ¯”è¾ƒæ¨èçš„ï¼Œç”¨æ¥å‘Šè¯‰æœåŠ¡ç«¯æ¶ˆæ¯ä¸»ä½“æ˜¯åºåˆ—åŒ–åçš„ JSON å­—ç¬¦ä¸²ã€‚åœ¨è¿™ç§ç¼–ç æ–¹å¼ä¸‹ï¼Œè¯·æ±‚å†…å®¹å¦‚ä¸‹ï¼š å¯ä»¥çœ‹å‡ºï¼Œæ— è®ºæ˜¯å“ªç§ç¼–ç ï¼ŒPOSTåŸºæœ¬ä¸Šéƒ½æ˜¯ä»è¯·æ±‚ä½“ä¸­å–æ•°æ®è§£æçš„ã€‚è€Œ@RequestBodyæ­£æ˜¯å¯¹åº”çš„è¯·æ±‚ä½“ï¼›@RequestParamå‘¢ï¼Œæ¥æ”¶çš„å‚æ•°æ˜¯æ¥è‡ªrequestHeaderä¸­ï¼Œå³è¯·æ±‚å¤´ã€‚é€šå¸¸ç”¨äºGETè¯·æ±‚ï¼ŒåŠŸèƒ½æ˜¯ä»URLä¸­æå–è¯·æ±‚å‚æ•°ã€‚æ¯”å¦‚å¸¸è§çš„urlï¼šhttp://localhost:8081/spring-boot-study/novel/findByAuthorAndType?author=å”å®¶ä¸‰å°‘&amp;type=å·²å®Œç»“ã€‚å¯¹åº”çš„æ¥å£ä¸ºpublic List&lt;NovelEntity&gt; findByAuthorAndType(@RequestParam(value=&quot;author&quot;, required=false,defaultValue=&quot;å¤©èš•åœŸè±†&quot;) String author, @RequestParam(value=&quot;type&quot;) String type) @RequestParamæœ‰ä¸‰ä¸ªé…ç½®å‚æ•°ï¼š required è¡¨ç¤ºæ˜¯å¦å¿…é¡»ï¼Œé»˜è®¤ä¸º trueï¼Œå¿…é¡»ã€‚ defaultValue å¯è®¾ç½®è¯·æ±‚å‚æ•°çš„é»˜è®¤å€¼ã€‚ value ä¸ºæ¥æ”¶urlå‚æ•°çš„å‚æ•°åï¼ˆç›¸å½“äºkeyå€¼ï¼‰ã€‚ @RequestParamç”¨æ¥å¤„ç† Content-Type ä¸º application/x-www-form-urlencoded ç¼–ç çš„å†…å®¹ï¼ŒContent-Typeé»˜è®¤ä¸ºè¯¥å±æ€§ã€‚ @RequestParamä¹Ÿå¯ç”¨äºå…¶å®ƒç±»å‹çš„è¯·æ±‚ï¼Œä¾‹å¦‚ï¼šGETã€POSTã€DELETEç­‰è¯·æ±‚ã€‚æ¯”å¦‚å‘è¡¨ä¸­æ’å…¥å•æ¡æ•°æ®ï¼ŒController å±‚çš„å†™æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä½†æ˜¯ï¼Œè¿™æ ·ä¸æ”¯æŒæ‰¹é‡æ’å…¥æ•°æ®ï¼Œç›¸å¯¹ä¹‹ä¸‹ï¼Œjsonæ¥è¡¨è¾¾çš„ä¼˜åŠ¿å°±å¾ˆæ˜æ˜¾ï¼Œä½†æ˜¯@RequestParamæ²¡åŠæ³•å¤„ç†application/jsonï¼Œç‚¹å‡»å‘é€çš„è¯ï¼Œä¼šæŠ¥é”™åå°æ¥æ”¶ä¸åˆ°å€¼ï¼Œä¸º nullã€‚ æ­¤æ—¶å°±éœ€è¦ä½¿ç”¨å¯¹åº”çš„@RequestBodyï¼Œå®ƒä¸€èˆ¬ç”¨äºå¤„ç†é Content-Type: application/x-www-form-urlencodedç¼–ç æ ¼å¼çš„æ•°æ®ï¼Œæ¯”å¦‚ï¼šapplication/jsonã€application/xmlç­‰ç±»å‹çš„æ•°æ®ã€‚å°±application/jsonç±»å‹çš„æ•°æ®è€Œè¨€ï¼Œä½¿ç”¨æ³¨è§£@RequestBodyå¯ä»¥å°†bodyé‡Œé¢æ‰€æœ‰çš„jsonæ•°æ®ä¼ åˆ°åç«¯ï¼Œåç«¯å†è¿›è¡Œè§£æã€‚å¦‚public Map&lt;String, Boolean&gt; saveBatchNovel(@RequestBody List&lt;NovelEntity&gt; novelEntityList) æ­¤å¤–ï¼Œé’ˆå¯¹å¸Œæœ›ç”¨æˆ·ä¼ å…¥çš„ä¸ºæŒ‡å®šå‚æ•°çš„è¯ï¼Œæœ‰ç›¸åº”çš„Entityï¼Œä½¿ç”¨@RequestBodyä¼šæ ¹æ®è¯·æ±‚ä¸»ä½“ä¸­çš„å‚æ•°åä¸å¯¹è±¡çš„å±æ€§åè¿›è¡ŒåŒ¹é…å¹¶ç»‘å®šå€¼ï¼Œè‡ªåŠ¨å°†å‚æ•°å°è£…æˆè¯¥å¯¹è±¡ï¼Œå¹¶ä¸”è¿˜å¯ä»¥é€šè¿‡@Validæ³¨è§£å¯¹è¯·æ±‚ä¸»ä½“ä¸­çš„å‚æ•°è¿›è¡Œæ ¡éªŒã€‚ æ€»ç»“ï¼š @RequestParamçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ä»URLä¸­æå–è¯·æ±‚å‚æ•°ï¼Œå³æ¥æ”¶çš„å‚æ•°æ˜¯æ¥è‡ªHTTPè¯·æ±‚å¤´çš„QueryStringä¸­ã€‚ @RequestBodyåŠŸèƒ½æ˜¯ä»è¯·æ±‚ä½“é‡æå–å‚æ•°ï¼Œå¹¶å°è£…æˆå¯¹è±¡ é¢å¤–ç»éªŒæ€»ç»“ï¼š æ ‡å‡†åè®®ä¸‹ï¼Œé€šå¸¸è®¤ä¸ºGETè¯·æ±‚æ˜¯æ²¡æœ‰è¯·æ±‚ä½“çš„ï¼Œåªæœ‰POSTè¯·æ±‚æœ‰è¯·æ±‚ä½“ getè¯·æ±‚åªèƒ½ä¼ queryå‚æ•°ï¼Œqueryå‚æ•°éƒ½æ˜¯æ‹¼åœ¨è¯·æ±‚åœ°å€ä¸Šçš„ postå¯ä»¥åŒæ—¶ä¼ bodyå’Œqueryä¸¤ç§å½¢å¼çš„å‚æ•° 123456789101112131415161718192021@RestController@RequestMapping(\"/hello\")public class HelloController &#123; @PostMapping(\"/post/&#123;id&#125;\") public Map&lt;String, String&gt; postHello(@PathVariable Long id, @RequestParam(value = \"name\", required = false, defaultValue = \"CL\") String name, @RequestBody User user ) &#123; System.out.println(user); return new HashMap&lt;String, String&gt;() &#123;&#123; put(\"name\", name); put(\"id\", String.valueOf(id)); &#125;&#125;; &#125;&#125;@Dataclass User&#123; private int id; private int age;&#125; talent-API postman-web é’ˆå¯¹æ¥å£çš„æµ‹è¯•ï¼Œæœ€å¥½è¿˜æ˜¯æ‰‹åŠ¨è®¾ç½®Content-typeæ¯”è¾ƒå¥½ @PathVariable æ‰¿æ¥ä¸Šæ–‡ï¼ŒåŒæ ·ä½œä¸ºå‚æ•°ä¼ å…¥çš„è¿˜æœ‰@PathVariableï¼Œå®ƒå¯ä»¥ä»URLä¸­æå–å˜é‡ @PathVariableæ³¨è§£æ˜¯å°†æ–¹æ³•ä¸­çš„å‚æ•°ç»‘å®šåˆ°è¯·æ±‚URIä¸­çš„æ¨¡æ¿å˜é‡ä¸Šã€‚å¯ä»¥é€šè¿‡@RequestMappingæ³¨è§£æ¥æŒ‡å®šURIçš„æ¨¡æ¿å˜é‡ï¼Œç„¶åä½¿ç”¨@PathVariableæ³¨è§£å°†æ–¹æ³•ä¸­çš„å‚æ•°ç»‘å®šåˆ°æ¨¡æ¿å˜é‡ä¸Šã€‚ç‰¹åˆ«åœ°ï¼Œ@PathVariableæ³¨è§£å…è®¸æˆ‘ä»¬ä½¿ç”¨valueæˆ–nameå±æ€§æ¥ç»™å‚æ•°å–ä¸€ä¸ªåˆ«åã€‚ä¸‹é¢æ˜¯ä½¿ç”¨æ­¤æ³¨è§£çš„ä¸€ä¸ªç¤ºä¾‹ï¼š 1234@GetMapping(\"/users/&#123;id&#125;/roles/&#123;roleId&#125;\")public Role getUserRole(@PathVariable long id, @PathVariable long roleId)&#123;&#125; æ¨¡æ¿å˜é‡åéœ€è¦ä½¿ç”¨{ }è¿›è¡ŒåŒ…è£¹ï¼Œå¦‚æœæ–¹æ³•çš„å‚æ•°åä¸URIæ¨¡æ¿å˜é‡åä¸€è‡´ï¼Œåˆ™åœ¨@PathVariableä¸­å°±å¯ä»¥çœç•¥åˆ«åçš„å®šä¹‰ã€‚","categories":[],"tags":[{"name":"å¼€å‘ç¬”è®°","slug":"å¼€å‘ç¬”è®°","permalink":"https://nymrli.top/tags/å¼€å‘ç¬”è®°/"}]},{"title":"Springä¸­çš„Bean","slug":"Springä¸­çš„Bean","date":"2021-12-30T02:46:34.000Z","updated":"2021-12-30T02:46:35.302Z","comments":true,"path":"2021/12/30/Springä¸­çš„Bean/","link":"","permalink":"https://nymrli.top/2021/12/30/Springä¸­çš„Bean/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"SpringCloudç¬”è®°","slug":"SpringCloudç¬”è®°","date":"2021-12-29T15:14:51.000Z","updated":"2021-12-30T14:29:21.107Z","comments":true,"path":"2021/12/29/SpringCloudç¬”è®°/","link":"","permalink":"https://nymrli.top/2021/12/29/SpringCloudç¬”è®°/","excerpt":"","text":"ç¬”è®°å†…å®¹å¤§å¤šæ¥è‡ªï¼šå°šç¡…è°·SpringCloudæ¡†æ¶å¼€å‘æ•™ç¨‹ è·Ÿåšç¬”è®°ï¼šhttps://blog.csdn.net/MOKEXFDGH/article/details/107209899 è·Ÿåšå·¥ç¨‹ä»£ç ï¼š https://github.com/liusCoding/springcloud-2020ã€https://gitee.com/exclusiver/springcloud2020 MVNé…ç½® æ¯ä¸ªmoduleçš„pomé…ç½®æ–‡ä»¶ä¸­æœ€é‡è¦çš„ä¸‰ä¸ªï¼šGAVå³ groupIdã€artifactIdã€version dependencyManagementå£°æ˜ä¾èµ–çš„ç‰ˆæœ¬ï¼Œå¯ä»¥èµ·åˆ°ä½œç”¨ï¼š çº¦å®šä¾èµ–çš„ç»Ÿä¸€ç‰ˆæœ¬ å­moduleä¸ç”¨å†™groupIdå’Œversion æ³¨ï¼šdependencyManagementåªæ˜¯å£°æ˜äº†ä¾èµ–çš„çº¦å®šï¼Œä½†æ˜¯åœ¨å­æ¨¡å—ä¸­ç¡®å®šè¦ä½¿ç”¨è¿™ä¸ªä¾èµ–æ—¶ï¼Œè¿˜æ˜¯éœ€è¦dependencyæŒ‡å‡ºï¼Œå³dependencyManagementåªæ˜¯å£°æ˜ï¼Œå¹¶æ²¡æœ‰å®é™…å¼•å…¥ã€‚æ­¤å¤–ï¼Œå¦‚æœå­æ¨¡å—æƒ³è¦æ‘†è„±çº¦å®šç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥é€šè¿‡ç‰¹åˆ«åˆ—å‡ºversionä»è€ŒæŒ‡å®šç‰ˆæœ¬ ä¸šåŠ¡å¼€å‘æµç¨‹ å»ºè¡¨SQL Entities Dao Service Controller åˆ›å»ºmysqlæ•°æ®åº“ï¼š é€šè¿‡å›¾å½¢ç•Œé¢â€”â€”å­—ç¬¦é›†é€‰ utf8, æ’åºè§„åˆ™é€‰ utf8_general_ci é€šè¿‡SQL 12CREATE DATABASE `wordpress` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;CREATE DATABASE `wordpress` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci; è¯·æ±‚æ¨¡æ‹Ÿ æµè§ˆå™¨å¯¹POSTæ”¯æŒä¸å¤ªå‹å¥½ï¼Œéœ€è¦ä½¿ç”¨å¦‚PostManç­‰å·¥å…·ï¼šæµè§ˆå™¨è¾“å…¥http://localhost:8001/create?serial=23ï¼Œä¸€æ—¦æˆ´ä¸Šäº†è¿™ä¸ª?xxx=yyyçš„è¯·æ±‚å‚æ•°ï¼Œåˆ™ä¼šè¢«è®¤ä¸ºæ˜¯Getè¯·æ±‚ æ³¨è§£ä½¿ç”¨ @mapperå¯¹åº”@Resource(javax.annotation) @Repositoryå¯¹åº”@Autowired åœ¨Daoå±‚å®šä¹‰æ—¶ï¼Œæ¨èä½¿ç”¨@Mapper(apache.ibatis)ï¼Œè€Œä¸æ˜¯@Repository(org.springframework.stereotype)ï¼Œå› ä¸ºåè€…åœ¨æ’å…¥çš„æ—¶å€™å¯èƒ½ä¼šæœ‰é—®é¢˜ æ·»åŠ çƒ­éƒ¨ç½² æ·»åŠ devtoolsä¾èµ–åˆ°å·¥ç¨‹ 123456&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; åœ¨pomä¸­æŒ‡å®šæ·»åŠ æ’ä»¶ 123456789101112&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;addResources&gt;true&lt;/addResources&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; enabling automatic build ä¿®æ”¹&quot;Updating Registrer&quot; ï¼ˆé€šè¿‡åœ¨pomæ–‡ä»¶ä¸­ctrl+shift+alt+/æŒ‰å‡ºmaintenanceï¼‰==&gt;IDEA2021ä¸­ä¸éœ€è¦è®¾ç½®äº† é‡å¯IDEA æ³¨ï¼šä¸Šè¿°åªæ˜¯é‡å¯ï¼ŒJrebelæ‰æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„çƒ­éƒ¨ç½² RestTemplate Javaä¸­è°ƒç”¨ç¬¬ä¸‰æ–¹çš„æ¥å£APIæ—¶ï¼Œæ˜¯é€šè¿‡HttpClientåº“æ¥åˆ›å»ºè¯·æ±‚çš„ï¼›è€Œå¯¹äºé€šè¿‡åŸºäºHttpçš„Restfulå¾®æœåŠ¡æ¥å£ï¼ŒSpringbootæä¾›äº†ä¸€å¥—æ–¹æ³•: RestTemplate RestTemplatejæä¾›äº†å¤šç§ä¾¿æ·è®¿é—®è¿œç¨‹HttpæœåŠ¡çš„æ–¹æ³•ï¼Œæ˜¯â€”ç§ç®€å•ä¾¿æ·çš„è®¿é—® restfulæœåŠ¡æ¨¡æ¿ç±»ï¼Œæ˜¯ Springæä¾›çš„ç”¨äºè®¿é—®RestæœåŠ¡çš„å®¢æˆ·ç«¯æ¨¡æ¿å·¥å…·é›† 1234567891011121314151617181920212223public class OrderController &#123; public static final String PAYMENT_URL = \"http://localhost:8001\"; @Resource private RestTemplate restTemplate;@GetMapping(\"/consumer/payment/create\") public CommonResult&lt;Payment&gt; create(Payment payment) &#123; return restTemplate.postForObject(PAYMENT_URL + \"/payment/create\", payment, CommonResult.class); &#125; // ..&#125;// ç”±äºpostForObjectä¼šä»¥ application/jsonçš„å½¢å¼å‘é€æ•°æ®, æ‰€ä»¥åœ¨Paymentç³»ç»Ÿçš„æ¥å£ä¸­å¦‚æœä¸åŠ ä¸Š @RequestBody çš„è¯ï¼Œåˆ™æ— æ³•å°è£…æˆç›¸åº”çš„å¯¹è±¡public class PaymentController &#123; @Resource private PaymentService paymentService; @PostMapping(value = \"/create\") public CommonResult&lt;Payment&gt; create(@RequestBody Payment payment) &#123; // åŠ ä¸Š@RequestBodyæ³¨è§£ int result = paymentService.create(payment); // ... &#125; æ³¨å†Œä¸­å¿ƒ æœåŠ¡æ³¨å†Œ:å°†æœåŠ¡ä¿¡æ¯æ³¨å†Œè¿›æ³¨å†Œä¸­å¿ƒ æœåŠ¡å‘ç°:ä»æ³¨å†Œä¸­å¿ƒä¸Šè·å–æœåŠ¡ä¿¡æ¯å®è´¨:å­˜keyæœåŠ¡å‘½å–valueè°ƒç”¨åœ°å€ eurekaç¯å¢ƒæ­å»º æœåŠ¡ç«¯server åˆ›å»ºç›¸åº”çš„å·¥ç¨‹æˆ–è€…module 12345678910&lt;dependencies&gt; &lt;!--eureka-server--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!--eureka-server--&gt;&lt;/dependencies&gt; ç¼–å†™yml 12345678910111213server: port: 7001eureka: instance: hostname: localhost client: # è¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·± register-with-eureka: false # è‡ªå·±å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼ŒèŒè´£å°±æ˜¯ç»´æŠ¤æœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å»æ£€ç´¢æœåŠ¡ fetch-registry: false service-url: defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/ ç»™applicationåŠ ä¸ŠEnableEurekaServerè‡ªåŠ¨æ³¨å…¥çš„æ³¨è§£ï¼Œå¹¶è¡¨æ˜æ˜¯eurekaæœåŠ¡ç«¯ 12345678910111213/** * @author MrLi * @description * @create 2021-12-30 16:46 **/@SpringBootApplication@EnableEurekaServerpublic class EurekaMain7001 &#123; public static void main(String[] args) &#123; SpringApplication.run(EurekaMain7001.class, args); &#125;&#125; å®¢æˆ·ç«¯client è™½ç„¶å«å®¢æˆ·ç«¯ï¼Œä½†å…¶å®æ˜¯ç›¸å¯¹äºeurekaæœåŠ¡è€Œè¨€çš„ï¼Œå¯¹äºæš´éœ²çš„rpcæœåŠ¡æ¥çœ‹ï¼Œä»–æ˜¯æ¥å£æœåŠ¡çš„æœåŠ¡ç«¯ åŠ pom 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-netflix-eureka-client&lt;/artifactId&gt;&lt;/dependency&gt; å¢åŠ ymlé…ç½® 123456789eureka: client: # è¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±, é»˜è®¤ä¸ºtrue register-with-eureka: true # æ˜¯å¦ä»EurekaServeræŠ“å–å·²æœ‰çš„æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueï¼›å•èŠ‚ç‚¹æ— æ‰€è°“ï¼Œé›†ç¾¤å¿…é¡»è®¾ç½®ä¸ºtrueæ‰èƒ½é…åˆribbonä½¿ç”¨è´Ÿè½½å‡è¡¡ fetch-registry: true service-url: # è®¾ç½®äºeurekaServeräº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€ defaultZone: http://localhost:7001/eureka applicaitonä¸ŠåŠ æ³¨è§£ 12345678@SpringBootApplication@EnableEurekaClientpublic class PaymentMain8001 &#123; public static void main(String[] args) &#123; System.out.println(\"æœåŠ¡è¿è¡Œåœ¨ http://localhost:8001/\"); SpringApplication.run(PaymentMain8001.class, args); &#125;&#125; ä¸ºäº†é˜²æ­¢å•ç‚¹æ•…éšœçš„é—®é¢˜ï¼Œè¿™è¾¹å¯ä»¥å¢åŠ ä¸€ä¸ªEurekaServerçš„å®ä¾‹ï¼Œä»è€Œç»„æˆEurekaServeré›†ç¾¤ï¼Œç›¸äº’æ³¨å†Œç›¸äº’å®ˆæœ›ã€‚ é›†ç¾¤æ­å»º å…ˆå¯åŠ¨eurekaæ³¨å†Œä¸­å¿ƒ å¯åŠ¨æœåŠ¡æä¾›è€…: paymentæ”¯ä»˜æœåŠ¡ æ”¯ä»˜æœåŠ¡å¯åŠ¨åä¼šæŠŠè‡ªèº«ä¿¡æ¯(æ¯”æœåŠ¡åœ°å€ä»¥åˆ«åæ–¹å¼æ³¨å†Œè¿›eureka) æ¶ˆè´¹è€…orderæœåŠ¡åœ¨éœ€è¦è°ƒç”¨æ¥å£æ—¶,ä½¿ç”¨æœåŠ¡åˆ«åå»æ³¨å†Œä¸­å¿ƒè·å–å®é™…çš„RPCè¿œç¨‹è°ƒç”¨åœ°å€ æ¶ˆè´¹è€…è·å¾—è°ƒç”¨åœ°å€å,åº•å±‚å®é™…æ˜¯åˆ©ç”¨HttpClientæœ¯å®ç°è¿œç¨‹è°ƒç”¨ æ¶ˆè´¹è€…è·å¾—æœåŠ¡åœ°å€åä¼šç¼“å­˜åœ¨æœ¬åœ°jvmå†…å­˜ä¸­,é»˜è®¤æ¯é—´éš”30ç§’æ›´æ–°ä¸€æ¬¡æœåŠ¡è°ƒç”¨åœ°å€ é—®é¢˜:å¾®æœåŠ¡RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æœ€æ ¸å¿ƒçš„æ˜¯ä»€ä¹ˆï¼Ÿ A: é«˜å¯ç”¨,è¯•æƒ³ä½ çš„æ³¨å†Œä¸­å¿ƒåªæœ‰ä¸€ä¸ªohly one,å®ƒå‡ºæ•…éšœäº†é‚£å°±å‘µå‘µäº†,è¿™ä¼šå¯¼è‡´æ•´ä¸ªä¸ºæœåŠ¡ç¯å¢ƒä¸å¯ç”¨ã€‚ æ‰€ä»¥è§£å†³åŠæ³•:æ­å»ºEurekaæ³¨å†Œä¸­å¿ƒé›†ç¾¤,å®ç°è´Ÿè½½å‡è¡¡+æ•…éšœå®¹é”™ åˆ›å»ºå¤šä¸ªeurekaå®ä¾‹å·¥ç¨‹oræ¨¡å— ä¿®æ”¹hostsæ˜ å°„æ–‡ä»¶: C:\\Windows\\System32\\drivers\\etc\\HOSTS 123127.0.0.1 eureka7001.com127.0.0.1 eureka7002.com è™½ç„¶eureka7001.comå’Œeureka7002.coméƒ½æŒ‡å‘çš„æ˜¯localhostï¼ŒçœŸæ­£åŒºåˆ†æœåŠ¡çš„æ˜¯é€šè¿‡åé¢çš„portã€‚ä½†ä»ç„¶è¿™ä¹ˆåšçš„ç›®çš„æ˜¯æ¨¡æ‹ŸçœŸå®æƒ…å†µï¼Œä¸ç„¶éƒ½æ˜¯localhostçš„è¯å¯¹ç”¨æˆ·è€Œè¨€ä¸å¥½åŒºåˆ†ã€‚ ä¿®æ”¹ymlé…ç½® 1234567891011121314server: port: 7002eureka: instance: hostname: eureka7002.com client: # è¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·± register-with-eureka: false # è‡ªå·±å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼ŒèŒè´£å°±æ˜¯ç»´æŠ¤æœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å»æ£€ç´¢æœåŠ¡ fetch-registry: false service-url: # 7001æŒ‡å‘7002ï¼ˆå³åœ¨7002ä¸­æ³¨å†Œäº†7001çš„åœ°å€ï¼‰ defaultZone: http://eureka7001.com:7001/eureka/ 12345678910111213server: port: 7001eureka: instance: hostname: eureka7001.com client: # è¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·± register-with-eureka: false # è‡ªå·±å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼ŒèŒè´£å°±æ˜¯ç»´æŠ¤æœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å»æ£€ç´¢æœåŠ¡ fetch-registry: false service-url: defaultZone: http://eureka7002.com:7002/eureka/ ä¸¤ä¸ªserverç›¸äº’å­˜äº†å¯¹æ–¹çš„åœ°å€ï¼Œç›¸äº’å®ˆæœ›ä»è€Œå®ç°é«˜å¯ç”¨ åŒæ—¶è¿è¡Œä¸¤ä¸ªapplicationï¼Œç„¶åè¾“å…¥localhost:7001ï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢ä¸­DS Replicasæ˜¾ç¤ºæœ‰7002ï¼Œæ‰“å¼€localhost:7002åŒæ ·èƒ½çœ‹åˆ°7001çš„DS Replicaså³é•œåƒ æœåŠ¡æ¥å…¥é›†ç¾¤ ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸»è¦æ˜¯æŠŠé›†ç¾¤ä¸­çš„åœ°å€å…¨éƒ¨å¡«ä¸Š 12345678eureka: client: # è¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±, é»˜è®¤ä¸ºtrue register-with-eureka: true # æ˜¯å¦ä»EurekaServeræŠ“å–å·²æœ‰çš„æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueï¼›å•èŠ‚ç‚¹æ— æ‰€è°“ï¼Œé›†ç¾¤å¿…é¡»è®¾ç½®ä¸ºtrueæ‰èƒ½é…åˆribbonä½¿ç”¨è´Ÿè½½å‡è¡¡ fetch-registry: true service-url: defaultZone: http://eureka7001.com:7001/eureka, http://eureka7002.com:7002/eureka æœåŠ¡è´Ÿè½½å‡è¡¡","categories":[],"tags":[{"name":"å¼€å‘ç¬”è®°","slug":"å¼€å‘ç¬”è®°","permalink":"https://nymrli.top/tags/å¼€å‘ç¬”è®°/"}]},{"title":"ä½¿ç”¨ä¸ƒç‰›äº‘ä½œå›¾åºŠ+PicGo","slug":"ä½¿ç”¨ä¸ƒç‰›äº‘ä½œå›¾åºŠ-PicGo","date":"2021-12-29T13:48:37.000Z","updated":"2021-12-29T14:12:11.451Z","comments":true,"path":"2021/12/29/ä½¿ç”¨ä¸ƒç‰›äº‘ä½œå›¾åºŠ-PicGo/","link":"","permalink":"https://nymrli.top/2021/12/29/ä½¿ç”¨ä¸ƒç‰›äº‘ä½œå›¾åºŠ-PicGo/","excerpt":"","text":"è‡ªå·±åœ¨å†™åšå®¢çš„æ—¶å€™ï¼Œé€šè¿‡å›¾ç‰‡æ¥è¡¨è¾¾è‡ªå·±çš„æ€è·¯æ— ç–‘æ˜¯ç§éå¸¸æœ‰æ•ˆçš„æ–¹æ³•ï¼Œå¹³å¸¸æˆ‘çš„ç¬”è®°éƒ½æ˜¯é€šè¿‡hexoç”Ÿæˆçš„ï¼Œå› æ­¤ä¿å­˜åœ¨æœ¬åœ°è·¯å¾„å³å¯ã€‚ä½†æ˜¯å¦‚æœæƒ³æŠŠæ–‡ç« å‘è¡¨åœ¨ç¬¬ä¸‰æ–¹çš„å¹³å°ä¸Šï¼Œé‚£ä¹ˆè¿™äº›ç›¸å¯¹è·¯å¾„çš„å›¾ç‰‡åœ¨ä¸Šä¼ è¿‡ç¨‹ä¸­å°±æ— æ³•è¢«æ£€ç´¢ï¼Œå› æ­¤å¦‚æœèƒ½åœ¨ä¸€ä¸ªå¤§å®¶éƒ½èƒ½è®¿é—®åˆ°çš„åœ°æ–¹å­˜æ”¾è¿™äº›å›¾ç‰‡ï¼Œå†ç»™å‡ºè¿™äº›åœ°æ–¹çš„é“¾æ¥æ—¶é‚£å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚è¦è¾¾åˆ°è¿™ä¸ªéœ€æ±‚ï¼Œåˆ™å°±éœ€è¦ä½¿ç”¨OSSå¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚ è¿™è¾¹æˆ‘æ¨èçš„æ˜¯ä¸ƒç‰›äº‘ã€‚ä¸ƒç‰›äº‘åœ¨æ³¨å†Œè®¤è¯åæœ‰10Gæ°¸ä¹…å…è´¹ç©ºé—´ï¼Œæ¯æœˆ10Gå›½å†…å’Œ10Gå›½å¤–æµé‡ï¼Œé€Ÿåº¦ç›¸å½“å¿«ï¼Œä¸ƒç‰›äº‘æ˜¯å›½å†…ä¸“ä¸šCDNæœåŠ¡å•†ï¼Œæ’ä»¶æ”¯æŒæ¯”è¾ƒå¤šï¼Œæœ‰å…è´¹SSLè¯ä¹¦ï¼Œä½†httpsæµé‡æ”¶è´¹ã€‚åŒæ—¶ä¸ƒç‰›äº‘è¿˜ä¼šæä¾›30å¤©çš„æµ‹è¯•åŸŸåï¼Œä¸è¿‡è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œä¸ƒç‰›äº‘30å¤©åä¼šå›æ”¶æµ‹è¯•åŸŸåï¼Œå¹¶ä¸”é€šè¿‡æµ‹è¯•åŸŸåå­˜å‚¨çš„æ–‡ä»¶ä¼šåœ¨30å¤©åä¸€èµ·è¢«æ€å‡ºï¼Œå› æ­¤æœ€å¥½è¿˜æ˜¯è¦ç»‘å®šè‡ªå·±çš„å·²å¤‡æ¡ˆçš„åŸŸåã€‚ ä¸ƒç‰›äº‘åˆ›å»ºä¸é…ç½® åˆ›å»ºç©ºé—´ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥æ–°å»ºè‡ªå·±çš„å­˜å‚¨ç©ºé—´ï¼Œç‚¹å‡»ã€æ–°å»ºç©ºé—´ã€‘ï¼Œå¯¹ç©ºé—´è¿›è¡Œé…ç½®ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œä»¥ä¸‹å‡ ç‚¹ï¼š å­˜å‚¨ç©ºé—´åç§°ä¸èƒ½é‡å¤ï¼Œæˆ‘è¿™é‡Œä¹Ÿæ–°å»ºä¸€ä¸ªåç§°ä¸ºï¼šonestar-blog-img å­˜å‚¨åŒºåŸŸé€‰æ‹©ä¸€ä¸ªç¦»ä½ è¿‘ç‚¹çš„ï¼Œæˆ‘é€‰çš„æ˜¯åä¸œï¼Œæ¯ä¸ªåœ°ç‚¹æœ‰ä¸ªç¼–å·çš„ï¼Œåé¢è¦ç”¨æ¥é…ç½®PicGoï¼Œè¿™é‡Œå…ˆè¯´ä¸€ä¸‹åŒºåŸŸå¯¹åº”ç¼–å·: åä¸œï¼šz0ï¼›ååŒ—ï¼šz1ï¼›åå—ï¼šz2ï¼šåŒ—ç¾ï¼šna0ï¼šä¸œå—äºšï¼šas0 è®¿é—®æ§åˆ¶é€‰æ‹©å…¬å¼€ï¼Œå› ä¸ºè¦ä½œä¸ºå¤–é“¾è¿›è¡Œè®¿é—® é…ç½®åŸŸåå¹¶ç»‘å®š ç‚¹å‡»&quot;+ç»‘å®šåŸŸå&quot;æŒ‰é’® 2.å°±ä¼šè¿›å…¥å¦‚ä¸‹çš„æ·»åŠ åŸŸåé¡µé¢ï¼Œéœ€è¦åšçš„å°±æ˜¯å¡«å…¥ä¸€ä¸ªä¸‰çº§åŸŸåï¼Œå¦‚æˆ‘ç”³è¯·çš„äºŒçº§åŸŸåä¸ºnymrli.topï¼Œé‚£ä¹ˆè¿™è¾¹æˆ‘å¯ä»¥å†™xxx.nymrli.topï¼Œè¿™ä¸ªxxxå°±æ˜¯nymrli.topä¸‹çš„å­åŸŸåï¼Œä½†æ˜¯è¿™ä¸ªæ¯•ç«Ÿæ˜¯æˆ‘ä»¬ä¸´æ—¶æƒ³å‡ºæ¥çš„ï¼Œå› æ­¤è¦è®©ä»–ç”Ÿæ•ˆçš„è¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨DNSæœåŠ¡å•†é‚£è¾¹è¿›è¡Œé…ç½®ã€‚ æ¥ä¸‹æ¥å¼€å§‹é…ç½®CNAMEè§£æï¼Œç”±äºæˆ‘çš„åŸŸåè§£ææ˜¯åœ¨é˜¿é‡Œäº‘åšçš„ï¼Œå› æ­¤éœ€è¦åˆ°é˜¿é‡Œäº‘çš„åŸŸåç®¡ç†æ§åˆ¶å°æ·»åŠ è¿™ä¸ªCNAMEçš„è§£æ æ·»åŠ å¥½CNAMEè®°å½•åç­‰å¾…ä¸€ä¼šè®©å…¶ç”Ÿæ•ˆåï¼Œå°±èƒ½åˆ°ä¸ƒç‰›äº‘çš„â€œåŸŸåç®¡ç†â€é¡µé¢æŸ¥çœ‹çŠ¶æ€å•¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œè¿™è¾¹çš„â€œçŠ¶æ€â€æ˜¾ç¤ºæˆåŠŸäº† Picgoå›¾åºŠè½¯ä»¶é…ç½® è‡ªå¸¦å…è´¹çš„SM.MSå›¾åºŠé…ç½®ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ä½†æ˜¯ç”¨åˆ«äººçš„é…ç½®ï¼Œå åˆ«äººçš„èµ„æºæ¯•ç«Ÿä¸å¤ªå¥½ï¼Œå®¹æ˜“è¶…é¢ï¼Œè€Œä¸”å®‰å…¨æ€§ä¹Ÿä¸é«˜ã€‚å› æ­¤é…ç½®è‡ªå·±çš„å­˜å‚¨APIï¼Œè¿™è¾¹ä½¿ç”¨ä¸Šè¿°é…ç½®å¥½çš„ä¸ƒç‰›äº‘ã€‚ accessKeyå’ŒSecretKeyå¯ä»¥ç‚¹å‡»å¤´åƒåˆ°â€œä¸ªäººä¸­å¿ƒâ€å»æŸ¥çœ‹å¹¶å¤åˆ¶è¿›å» å­˜å‚¨ç©ºé—´åå°±æ˜¯ä¸€å¼€å§‹åˆ›å»ºç©ºé—´çš„åå­— ç½‘å€çš„è¯å°±æ˜¯è‡ªå·±ç»‘å®šçš„ä¸‰çº§åŸŸå è¿™è¾¹æ¯”è¾ƒå®¹æ˜“å¡«é”™çš„æ˜¯å­˜å‚¨åŒºåŸŸï¼Œå¯¹åº”çš„å…¶å®æ˜¯åå—ã€åä¸œâ€¦â€¦ä½†éœ€è¦å¡«ç¼–å·ï¼Œè¿™è¾¹ç¼–å·å…³ç³»å¦‚ä¸‹ï¼š z0ï¼›ååŒ—ï¼šz1ï¼›åå—ï¼šz2ï¼šåŒ—ç¾ï¼šna0ï¼šä¸œå—äºšï¼šas0","categories":[],"tags":[]},{"title":"Goçš„è¿›é˜¶å­¦ä¹ ","slug":"Goçš„è¿›é˜¶å­¦ä¹ ","date":"2021-12-29T08:15:07.000Z","updated":"2021-12-29T15:53:41.639Z","comments":true,"path":"2021/12/29/Goçš„è¿›é˜¶å­¦ä¹ /","link":"","permalink":"https://nymrli.top/2021/12/29/Goçš„è¿›é˜¶å­¦ä¹ /","excerpt":"","text":"GOä¸­é€šè¿‡ç»„åˆæ–¹å¼å®ç°çš„ä¼ªç»§æ‰¿ è¯´åˆ°ç»§æ‰¿æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¹Ÿå¯ä»¥äº†è§£åˆ°åœ¨Goä¸­æ˜¯æ²¡æœ‰extendså…³é”®å­—çš„ï¼Œä¹Ÿå°±æ„å‘³ç€Goå¹¶æ²¡æœ‰åŸç”Ÿçº§åˆ«çš„ç»§æ‰¿æ”¯æŒã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç”¨äº†ä¼ªç»§æ‰¿è¿™ä¸ªè¯ã€‚æœ¬è´¨ä¸Šï¼ŒGoä½¿ç”¨interfaceå®ç°çš„åŠŸèƒ½å«ç»„åˆï¼ŒGoæ˜¯é€šè¿‡ç»„åˆ(+åŒ¿åå­—æ®µçš„æŠ€æœ¯)æ¥å®ç°çš„ç»§æ‰¿ï¼Œè¯´çš„æ›´ç²¾ç¡®ä¸€ç‚¹ï¼Œæ˜¯ä½¿ç”¨ç»„åˆæ¥ä»£æ›¿ç»§æ‰¿ æˆ‘ä»¬ç”¨å¾ˆå®¹æ˜“ç†è§£çš„åŠ¨ç‰©-çŒ«æ¥ä¸¾ä¾‹å­ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹ä»£ç ã€‚ 12345678910111213141516171819type Animal struct &#123; Name string&#125;func (a *Animal) Eat() &#123; fmt.Printf(\"%v is eating\", a.Name) fmt.Println()&#125;type Cat struct &#123; *Animal&#125;cat := &amp;Cat&#123; Animal: &amp;Animal&#123; Name: \"cat\", &#125;,&#125;cat.Eat() // cat is eating ä»£ç åˆ†æ é¦–å…ˆï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªAnimalçš„ç»“æ„ä½“ï¼Œä»£è¡¨åŠ¨ç‰©ç±»ã€‚å¹¶å£°æ˜äº†Nameå­—æ®µï¼Œç”¨äºæè¿°åŠ¨ç‰©çš„åå­—ã€‚ç„¶åï¼Œå®ç°äº†ä¸€ä¸ªä»¥Animalä¸ºreceiverçš„Eatæ–¹æ³•ï¼Œæ¥æè¿°åŠ¨ç‰©è¿›é£Ÿçš„è¡Œä¸ºã€‚æœ€åï¼Œå£°æ˜äº†ä¸€ä¸ªCatç»“æ„ä½“ï¼Œç»„åˆäº†Catå­—æ®µã€‚å†å®ä¾‹åŒ–ä¸€ä¸ªçŒ«ï¼Œè°ƒç”¨Eatæ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°ä¼šæ­£å¸¸çš„è¾“å‡ºã€‚ å¯ä»¥çœ‹åˆ°ï¼ŒCatç»“æ„ä½“æœ¬èº«æ²¡æœ‰Nameå­—æ®µï¼Œä¹Ÿæ²¡æœ‰å»å®ç°Eatæ–¹æ³•ã€‚å”¯ä¸€æœ‰çš„å°±æ˜¯ç»„åˆäº†Animalçˆ¶ç±»ï¼Œè‡³æ­¤ï¼Œæˆ‘ä»¬å°±è¯æ˜äº†å·²ç»é€šè¿‡ç»„åˆå®ç°äº†ç»§æ‰¿ã€‚ å°†æ¥å£ä¼˜é›…ç®€æ˜åŒ– æ¥å£ç”¨äºæè¿°æŸä¸ªç±»çš„è¡Œä¸ºã€‚å¯¹äºä¸€ä¸ªæ¥å£çš„ä½¿ç”¨è€…è€Œè¨€ï¼Œæˆ‘éœ€è¦åœ¨æ‹¿åˆ°è¿™ä¸ªæ¥å£çš„åŒæ—¶èƒ½ä¸€ç›®äº†ç„¶çš„çŸ¥é“è¿™ä¸ªç±»å¹²äº†ä»€ä¹ˆï¼Œæœ‰å“ªäº›æ–¹æ³•å¯ä»¥è°ƒç”¨ï¼Œå› æ­¤ä¸Šé¢çš„å†™æ³•æˆ‘ä»¬å¹¶ä¸èƒ½ä»ä¸­çœ‹å‡ºAnimalå…·ä½“æœ‰å“ªäº›åŠŸèƒ½ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªè¯´æ˜å®ƒåŠŸèƒ½æ–¹æ³•çš„çˆ¶æ¥å£ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å³å°†è¦æŠ½è±¡çš„åŠ¨ç‰©æ¥å£å°±ä¼šæè¿°ä½œä¸ºä¸€ä¸ªåŠ¨ç‰©ï¼Œå…·æœ‰å“ªäº›è¡Œä¸ºã€‚å¸¸è¯†å‘Šè¯‰æˆ‘ä»¬ï¼ŒåŠ¨ç‰©å¯ä»¥è¿›é£Ÿï¼ˆEatï¼‰ï¼Œå¯ä»¥å‘å‡ºå£°éŸ³ï¼ˆbarkï¼‰ï¼Œå¯ä»¥ç§»åŠ¨ï¼ˆmoveï¼‰ç­‰ç­‰ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç±»æ¯”ã€‚ 123456789101112131415161718192021222324252627282930313233343536// æ¨¡æ‹ŸåŠ¨ç‰©è¡Œä¸ºçš„æ¥å£type IAnimal interface &#123; Eat() // æè¿°åƒçš„è¡Œä¸º&#125;// åŠ¨ç‰© æ‰€æœ‰åŠ¨ç‰©çš„çˆ¶ç±»type Animal struct &#123; Name string&#125;// åŠ¨ç‰©å»å®ç°IAnimalä¸­æè¿°çš„åƒçš„æ¥å£func (a *Animal) Eat() &#123; fmt.Printf(\"%v is eating\\n\", a.Name)&#125;// åŠ¨ç‰©çš„æ„é€ å‡½æ•°func newAnimal(name string) *Animal &#123; return &amp;Animal&#123; Name: name, &#125;&#125;// çŒ«çš„ç»“æ„ä½“ ç»„åˆäº†animaltype Cat struct &#123; *Animal&#125;// å®ç°çŒ«çš„æ„é€ å‡½æ•° åˆå§‹åŒ–animalç»“æ„ä½“func newCat(name string) *Cat &#123; return &amp;Cat&#123; Animal: newAnimal(name), &#125;&#125;cat := newCat(\"cat\")cat.Eat() // cat is eating å‡½æ•°å½¢å‚é—®é¢˜ 1234567func (engine *Engine) ServeHTTP(w http.ResponseWriter, req *http.Request) &#123; // ... c := newContext(w, req) c.handlers = middlewares c.engine = engine engine.router.handle(c)&#125; è¿™é‡Œå’Œ http ServerHTTP å‡½æ•°åŸå§‹çš„ä¸¤ä¸ªå‚æ•°å¯¹åº” req å’Œ writerã€‚req æ˜¯ç»“æ„ä½“ï¼Œç”¨æŒ‡é’ˆå¯ä»¥èŠ‚çœå†…å­˜ï¼ŒWriter æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œä¸èƒ½ç”¨æŒ‡é’ˆã€‚","categories":[],"tags":[]},{"title":"å¼€å‘æ–¹å‘-æŠ€æœ¯æ ˆ","slug":"å¼€å‘æ–¹å‘-æŠ€æœ¯æ ˆ","date":"2021-12-28T13:02:43.000Z","updated":"2021-12-28T16:10:43.781Z","comments":true,"path":"2021/12/28/å¼€å‘æ–¹å‘-æŠ€æœ¯æ ˆ/","link":"","permalink":"https://nymrli.top/2021/12/28/å¼€å‘æ–¹å‘-æŠ€æœ¯æ ˆ/","excerpt":"","text":"Cloud å¾®æœåŠ¡å…¨å®¶æ¡¶ å¾®æœåŠ¡å¼€å‘çš„ä¸»æµæŠ€æœ¯æ ˆ æœåŠ¡æ³¨å†Œä¸­å¿ƒ :error:eureka åœæ­¢æ›´æ–° âŒconsul zookeeper â­ï¸nacos æœåŠ¡è´Ÿè½½ä¸è°ƒç”¨ âŒ netflix oss ribbon ==&gt; spring cloud loadbalance netflix feign ==&gt; Spring cloud OpenFeign å®¹é‡é™æµ(ç†”æ–­) âŒhystrix: æœ€å…ˆçš„è€å¤§å“¥ resilience4jï¼šå›½å¤–ä½¿ç”¨è¾ƒå¤š â­ï¸spring cloud alibaba sentinel é…ç½®ä¸­å¿ƒ âŒspring cloud config æºç¨‹: apollo spring cloud alibaba nacos æœåŠ¡å¼€å‘ spring boot æµé‡ç›‘æ§ æœåŠ¡æ€»çº¿: âŒspring cloud bus spring cloud alibaba nacos æœåŠ¡æ²»ç† é“¾è·¯è¿½è¸ª spring cloud sleuth æœåŠ¡ç½‘å…³ âŒ(netflix) zuul zuul2: èƒæ­»è…¹ä¸­ â­ï¸spring cloud gateway matricsï¼ˆæŒ‡æ ‡ï¼‰ç›‘æ§ï¼š kairosDB æ—¥å¿—ç›‘æ§ï¼š ELK å¥åº·æ£€æŸ¥å’Œå‘Šè­¦ï¼š zalando zmon","categories":[],"tags":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://nymrli.top/tags/å¼€å‘/"}]},{"title":"Kotliné›†åˆã€æµå¼æ“ä½œ","slug":"Kotliné›†åˆã€æµå¼æ“ä½œ","date":"2021-12-27T03:14:40.000Z","updated":"2022-01-03T13:36:36.222Z","comments":true,"path":"2021/12/27/Kotliné›†åˆã€æµå¼æ“ä½œ/","link":"","permalink":"https://nymrli.top/2021/12/27/Kotliné›†åˆã€æµå¼æ“ä½œ/","excerpt":"","text":"é™¤äº†æœ€é€šç”¨çš„Arrayä»¥å¤–ï¼Œkotlinä¸­è¿˜æœ‰ä¸€ç±»å®¹å™¨ç»Ÿç§°ä¸ºColletion(é›†åˆ)ï¼Œä»–ä»¬æœ‰ List Listï¼šç»§æ‰¿Collectionã€‚ä¸€ä¸ªèŒƒæ€§æœ‰åºçš„åªè¯»é›†åˆã€‚å› ä¸ºæœ‰åºï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨get(position)ç­‰æŸ¥è¯¢çš„æ–¹æ³• MutableListï¼šç»§æ‰¿Listï¼ŒMutableCollectionã€‚ä¸€ä¸ªæœ‰åºé›†åˆã€‚å¹¶é¢å¤–æä¾›äº†add/removeå…ƒç´ çš„æ–¹æ³• Set Setï¼šç»§æ‰¿Collectionã€‚ä¸€ä¸ªæ— åºå¹¶ä¸æ”¯æŒé‡å¤å…ƒç´ çš„é›†åˆ MutableSetï¼šç»§æ‰¿Setï¼ŒMutableCollectionï¼Œä¸€ä¸ªæ— åºçš„é›†åˆå¹¶ä¸”ä¸æ”¯æŒé‡å¤å…ƒç´ ã€‚ä½†æ˜¯ï¼Œæ”¯æŒadd/removeå…ƒç´  Map Mapï¼šä¸€ä¸ªkey-valueçš„åªè¯»é›†åˆã€‚å¹¶ä¸”keyå”¯ä¸€ã€‚ MutableMapï¼šç»§æ‰¿Mapã€‚æ”¯æŒput/removeå…ƒç´  List anyï¼šå¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ ä¸åˆ¤æ–­æ¡ä»¶ç›¸ç¬¦ï¼Œåˆ™ è¿”å›true allï¼šå¦‚æœå…¨éƒ¨å…ƒç´ ä¸åˆ¤æ–­æ¡ä»¶ç›¸ç¬¦ï¼Œåˆ™ è¿”å›true component1,â€¦,component5ï¼šè¿”å›é›†åˆçš„ç¬¬nä¸ªå…ƒç´ ï¼Œè¶Šç•Œè¿”å›ArrayIndexOutOfBoundsException containï¼šå¦‚æœæŒ‡å®šå…ƒç´ å¯ä»¥åœ¨é›†åˆæ‰¾åˆ°ï¼Œåˆ™ è¿”å›true containsAllï¼šå¦‚æœæŒ‡å®šé›†åˆæ‰€æœ‰å…ƒç´ éƒ½å¯ä»¥åœ¨ç›®æ ‡é›†åˆæ‰¾åˆ°ï¼Œåˆ™ è¿”å›true countï¼šè¿”å›ä¸åˆ¤æ–­æ¡ä»¶ç›¸ç¬¦çš„å…ƒç´ ä¸ªæ•° distinctï¼šè¿”å›ä¸€ä¸ªåªåŒ…å«ä¸åŒå…ƒç´ çš„æ•°ç»„ï¼Œå³å¯¹åˆ—è¡¨å†…å…ƒç´ å»é‡ distinctByï¼šè¿”å›é›†åˆå…ƒç´ æ‰§è¡ŒæŒ‡å®šæ¡ä»¶åï¼Œä¸åŒå…ƒç´ çš„æ•°ç»„ï¼ˆåŸå§‹æ•°ç»„å…ƒç´ ï¼‰ 12val list = listOf(1, 4, 2, 2)assertEquals(listOf(1,4),list.distinctBy &#123; it%2 == 0&#125;) dropï¼šè¿”å›æ‰€æœ‰å…ƒç´ çš„åˆ—è¡¨ï¼Œä½†ä¸åŒ…å«å‰nä¸ªå…ƒç´  12val list = listOf(1,2,3,4)assertEquals(listOf(3,4),list.drop(2)) dropLastï¼šè¿”å›æ‰€æœ‰å…ƒç´ çš„åˆ—è¡¨ï¼Œä½†ä¸åŒ…å«æœ€ånä¸ªå…ƒç´  12val list = listOf(1,2,3,4)assertEquals(listOf(1,2),list.dropLast(2)) dropWhileï¼šè¿”å›æ‰€æœ‰å…ƒç´ çš„åˆ—è¡¨ï¼Œä½†ä¸åŒ…å«æ»¡è¶³åˆ¤æ–­æ¡ä»¶çš„å…ƒç´  1234val list = listOf(4,1,2,3,4)assertEquals(listOf(4,1,2,3,4),list.dropWhile&#123;it &lt;3&#125;)val list = listOf(1,2,3,4)assertEquals(listOf(3,4),list.dropWhile&#123;it &lt;3&#125;) elementAtï¼šè¿”å›æŒ‡å®šç´¢å¼•çš„å…ƒç´ ï¼Œå¦‚æœç´¢å¼•è¶Šç•Œï¼Œåˆ™æŠ›å‡ºArrayIndexOutOfBoundsException 12345678val list = listOf(1,2,3,4)assertEquals(4,list.elementAt(3))// elementAtOrElseï¼šè¿”å›æŒ‡å®šç´¢å¼•çš„å…ƒç´ ï¼Œå¦‚æœç´¢å¼•è¶Šç•Œï¼Œåˆ™è¿”å›æŒ‡å®šçš„é»˜è®¤å€¼val list = listOf(1,2,3,4)assertEquals(18,list.elementAtOrElse(6,&#123;it *3&#125;))// elementAtOrNull: è¿”å›æŒ‡å®šç´¢å¼•çš„å…ƒç´ ï¼Œå¦‚æœç´¢å¼•è¶Šç•Œï¼Œåˆ™è¿”å›nullval list = listOf(1,2,3,4)assertEquals(null,list.elementAtOrNull(6)) filter:ç­›é€‰å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´  12345678910111213val list = listOf(1,2,3,4)assertEquals(listOf(2,3),list.filter&#123; it in 2..3 &#125;)filterIndexed// filterIndexedç­›é€‰å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼ˆæ¡ä»¶å¤šäº†ä¸€ä¸ªç´¢å¼•å‚æ•°ï¼‰val list = listOf(1, 4, 2, 2)assertEquals(listOf(4),list.filterIndexed &#123; index, it -&gt; index&gt;0 &amp;&amp; it &gt;2&#125; )// filterNot: ç­›é€‰å‡ºæ‰€æœ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ val list = listOf(1,2,3,4)assertEquals(listOf(1,4),list.filterNot&#123; it in 2..3 &#125;)filterNotNull// filterNotNull: ç­›é€‰å‡ºæ‰€æœ‰ä¸ä¸ºnullçš„å…ƒç´ val list = listOf(1,2,3,null,4)assertEquals(listOf(1,2,3,4),list.filterNotNull()) first è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ,æ²¡æœ‰åˆ™æŠ›å‡ºNoSuchElementException 12345678910111213141516171819202122val list = listOf(1,2,3,4)assertEquals(2,list.first &#123; it &gt; 1 &#125;)// firstOrNull: è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œæ²¡æœ‰ï¼Œåˆ™ è¿”å›Nullval list = listOf(1, 2, 3, 4)assertEquals(null, list.firstOrNull &#123; it &gt; 5 &#125;)// find :åŒfirstOrNullã€‚è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œæ²¡æœ‰ï¼Œåˆ™ è¿”å›Nullval list = listOf(1,2,3,4)assertEquals(2,list.find &#123; it &gt; 1 &#125;)// findLast: è¿”å›æœ€åä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œæ²¡æœ‰ï¼Œåˆ™ è¿”å›Nullval list = listOf(1,2,3,4)assertEquals(4,list.findLast &#123; it &gt; 1 &#125;)// last: è¿”å›ç¬¦åˆç»™å®šå‡½æ•°æ¡ä»¶çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¸å­˜åœ¨åˆ™æŠ›å‡ºNoSuchElementExceptionval list = listOf(1, 2, 2, 4)assertEquals(4, list.last &#123; it % 2 == 0 &#125;)// lastIndexOf: è¿”å›æŒ‡å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ä½ç½®ï¼Œä¸å­˜åœ¨è¿”å›-1val list = listOf(1, 2, 2, 4)assertEquals(2, list.lastIndexOf(2) )// lastOrNull: è¿”å›ç¬¦åˆç»™å®šå‡½æ•°æ¡ä»¶çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¸å­˜åœ¨è¿”å›nullval list = listOf(1, 2, 2, 4)assertNull( list.lastOrNull&#123; it &gt;5&#125;) single: è¿”å›ç¬¦åˆæŒ‡å®šå‡½æ•°æ¡ä»¶çš„å•ä¸ªå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæˆ–è€…è¶…è¿‡ä¸€ä¸ªï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚\\ 123456val list = listOf(1, 2, 2, 4)assertEquals(4, list.single &#123; it == 4 &#125;)// singleOrNull: è¿”å›ç¬¦åˆæŒ‡å®šå‡½æ•°æ¡ä»¶çš„å•ä¸ªå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæˆ–è€…è¶…è¿‡ä¸€ä¸ªï¼Œåˆ™è¿”å›nullval list = listOf(1, 2, 2, 4)assertEquals(null, list.singleOrNull &#123; it == 2 &#125;) flatMap: éå†æ‰€æœ‰çš„å…ƒç´ ï¼Œä¸ºæ¯ä¸€ä¸ªå…ƒç´ åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œæœ€åæŠŠæ‰€æœ‰çš„é›†åˆæ”¾åœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚ 12val list = listOf(1, 2)assertEquals(listOf(1,2,2,4),list.flatMap &#123; it -&gt; listOf(it,it*2) &#125;) flatten: éå†ä¸€ä¸ªå•ç‹¬çš„é›†åˆï¼ŒåŒ…å«ç»™å®šåµŒå¥—é›†åˆé‡Œé¢çš„æ‰€æœ‰å…ƒç´ ã€‚ 12val list = listOf(listOf(1,2), listOf(4,2), listOf(3), listOf(4))assertEquals(listOf(1,2,4,2,3,4), list.flatten()) foldï¼š å°†å¯¹é›†åˆä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œ 123456//è¿™é‡Œæ˜¯è¿›è¡Œä¹˜æ³•æ“ä½œval list = listOf(1, 2, 3, 4)assertEquals(48, list.fold(2) &#123; total, next -&gt; total * next &#125;)// foldRight: è·Ÿfoldæ“ä½œä¸€æ ·ï¼Œä¸è¿‡æ˜¯ä»æœ€åä¸€ä¸ªåˆ°åˆ°ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œval list = listOf(1, 2, 3, 4)assertEquals(48, list.foldRight(2) &#123; total, next -&gt; total * next &#125;) reduceï¼š ä¸foldåŠŸèƒ½ä¸€æ ·ã€‚ä½†æ˜¯ï¼Œæ²¡æœ‰åˆå§‹å€¼ã€‚æŠŠé›†åˆä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªï¼ŒæŒ‰æŒ‡å®šæ¡ä»¶è¿›è¡Œæ“ä½œ 12val list = listOf(1, 2, 2, 4)assertEquals(-7, list.reduce &#123; total, next -&gt; total -next &#125;) get:è·å–ç´¢å¼•æ‰€åœ¨çš„å…ƒç´ ï¼Œæ²¡æœ‰åˆ™è¿”å›ArrayIndexOutOfBoundsException 12345678// getOrElse: è·å–ç´¢å¼•æ‰€åœ¨çš„å…ƒç´ ï¼Œæ²¡æœ‰å°±è¿”å›é»˜è®¤å€¼val list = listOf(1, 2, 4, 2, 3, 4)assertEquals(10, list.getOrElse(8, &#123; _ -&gt; 10 &#125;))assertEquals(2, list.getOrElse(1, &#123; _ -&gt; 10 &#125;))// getOrNull: è·å–ç´¢å¼•æ‰€åœ¨çš„å…ƒç´ ï¼Œæ²¡æœ‰å°±è¿”å›nulval list = listOf(1, 2, 4, 2, 3, 4)assertEquals(null, list.getOrNull(8))assertEquals(4, list.getOrNull(2)) mapï¼š è¿”å›ä¸€ä¸ªæ¯ä¸ªå…ƒç´ éƒ½æ ¹æ®ç»™å®šå‡½æ•°æ¡ä»¶è½¬æ¢çš„æ•°ç»„ 12345678val list = listOf(1, 2, 2, 4)assertEquals(listOf(2, 4, 4, 8), list.map&#123; it*2&#125; )// mapIndexed: åŠŸèƒ½åŒmapï¼Œæ¯”mapå¤šäº†ä¸€ä¸ªç´¢å¼•val list = listOf(1, 2, 2, 4)assertEquals(listOf(0, 2, 4, 4), list.mapIndexed &#123; index, it -&gt; if (index % 2 == 0) index * it else it &#125;)// mapNotNull: åŒmapã€‚ä½†æ˜¯ï¼Œå…ƒç´ è½¬æ¢ä¸åŒ…å«Nullval list = listOf(1, 2,null, 2, 4)assertEquals(listOf(2, 4, 4, 8), list.mapNotNull &#123; it?.times(2) &#125;) max: è¿”å›é›†åˆæœ€å¤§å…ƒç´ ã€‚ä¸å­˜åœ¨è¿”å›null 1234567891011121314val list = listOf(1, 2, 2, 4)assertEquals(4, list.max())val list = emptyList&lt;Int&gt;()assertEquals(null, list.max())// maxBy:è¿”å›æ ¹æ®æŒ‡å®šå‡½æ•°è½¬æ¢åï¼Œäº§ç”Ÿçš„æœ€å¤§å€¼çš„åŸå§‹å…ƒç´ ï¼ˆè¿”å›çš„è¿˜æ˜¯åŸå§‹å…ƒç´ ï¼‰ã€‚å¦‚æœæ²¡æœ‰å…ƒç´ ï¼Œåˆ™è¿”å›nullã€‚val list = listOf(1, 2, 2, 4)assertEquals(1, list.maxBy &#123; -it &#125;)// min:è¿”å›é›†åˆæœ€å°å…ƒç´ ï¼Œä¸å­˜åœ¨è¿”å›nullval list = listOf(1, 2, 2, 4)assertEquals(1, list.min())// minBy: è¿”å›æ ¹æ®æŒ‡å®šå‡½æ•°è½¬æ¢åï¼Œäº§ç”Ÿçš„æœ€å°å€¼çš„åŸå§‹å…ƒç´ ï¼ˆè¿”å›çš„è¿˜æ˜¯åŸå§‹å…ƒç´ ï¼‰ã€‚å¦‚æœæ²¡æœ‰å…ƒç´ ï¼Œåˆ™è¿”å›nullã€‚val list = listOf(1, 2, 2, 4)assertEquals(4, list.minBy &#123; -it &#125;) noneï¼š å¦‚æœæ²¡æœ‰ä»»ä½•å…ƒç´ ä¸æŒ‡å®šçš„å‡½æ•°æ¡ä»¶åŒ¹é…ï¼Œåˆ™è¿”å›trueã€‚ 12val list = mutableListOf(1, 2, 2, 4)assertTrue(list.none &#123; it &gt; 4 &#125;) orEmptyï¼š å¦‚æœæ²¡æœ‰ä»»ä½•å…ƒç´ ä¸æŒ‡å®šçš„å‡½æ•°æ¡ä»¶åŒ¹é…ï¼Œåˆ™è¿”å›trueã€‚ 12val list = mutableListOf(1, 2, 2, 4)assertTrue(list.none &#123; it &gt; 4 &#125;) sortedï¼šè¿”å›æ‰€æœ‰å…ƒç´ åˆ†ç±»æ’åºåˆ—è¡¨ã€‚ 1234567891011121314val list = listOf(1, 4, 2, 2)assertEquals(listOf(1, 2, 2, 4), list.sorted())// sortBy:è¿”å›æ‰€æœ‰å…ƒç´ åˆ†ç±»æ’åºåˆ—è¡¨ã€‚é¡ºåºæŒ‰ç…§æŒ‡å®šå‡½æ•°æ¡ä»¶æ’åˆ—val list = listOf(1, 4, 2, 2)assertEquals(listOf(4,2,2,1), list.sortedBy &#123; -it &#125;)// sortDescending:è¿”å›æ‰€æœ‰å…ƒç´ åˆ†ç±»æ’åºåˆ—è¡¨ã€‚é¡ºåºæŒ‰é™åºæ’åˆ—val list = listOf(1, 4, 2, 2)assertEquals(listOf(4,2,2,1), list.sortedDescending())// sortedByDescending:è¿”å›æ‰€æœ‰å…ƒç´ åˆ†ç±»æ’åºåˆ—è¡¨ã€‚é¡ºåºæŒ‰æŒ‡å®šå‡½æ•°æ¡ä»¶çš„é™åºæ’åˆ—val list = listOf(1, 4, 2, 2)assertEquals(listOf(1,2,2,4), list.sortedByDescending&#123; -it &#125;) slice: è¿”å›ä¸€ä¸ªlistä¸­æŒ‡å®šindexçš„å…ƒç´ ã€‚ 123val list = listOf(1, 4, 2, 2)assertEquals(listOf(4,2,2), list.slice(1..3))assertEquals(listOf(1,4), list.slice(listOf(0,1))) take: è¿”å›ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹çš„nä¸ªå…ƒç´ ã€‚ 12val list = listOf(1, 4, 2, 2)assertEquals(listOf(1,4), list.take(2)) zip: è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨ç”±ä¸¤ä¸ªé›†åˆä¸­ç›¸åŒç´¢å¼•å…ƒç´ å»ºç«‹çš„å…ƒç´ å¯¹ã€‚è¿™ä¸ªåˆ—è¡¨é•¿åº¦ä¸ºæœ€çŸ­é›†åˆçš„é•¿åº¦ã€‚ 12val list = listOf(1, 4, 2, 2)assertEquals(listOf(Pair(1,10),Pair(4,20),Pair(2,30)), list.zip(listOf(10,20,30))) groupBy è¿”å›ä¸€ä¸ªæ ¹æ®ç»™å®šå‡½æ•°åˆ†ç»„åçš„mapï¼Œ valueä¸ºlist 12val list = listOf(1, 2, 2, 4)assertEquals(mapOf(\"error\" to listOf(1), \"right\" to listOf(2, 2, 4)), list.groupBy &#123; if (it % 2 == 0) \"right\" else \"error\" &#125;) associateBy é€šè¿‡æŒ‡å®šçš„æ¡ä»¶ï¼ŒæŠŠlistè½¬æ¢æˆmapï¼Œvalueä¸ºå•å…ƒç´  2ç§ï¼Œç¬¬ä¸€åªè½¬æ¢mapçš„key;ç¬¬äºŒmapçš„key-valueéƒ½è½¬æ¢ 123val list = listOf(1, 4, 2, 2)assertEquals(hashMapOf(\"key1\" to 1, \"key4\" to 4, \"key2\" to 2), list.associateBy &#123; it -&gt; \"key\" + it &#125;)assertEquals(hashMapOf(\"key1\" to \"value1\", \"key4\" to \"value4\", \"key2\" to \"value2\"), list.associateBy(&#123; it -&gt; \"key\" + it &#125;, &#123; it -&gt; \"value\" + it &#125;)) associateByå’ŒgroupByåŒºåˆ« å‡½æ•°associateByå’ŒgroupByæ„å»ºæ¥è‡ªç”±æŒ‡å®šé”®ç´¢å¼•çš„é›†åˆçš„å…ƒç´ çš„æ˜ å°„ã€‚keyåœ¨keySelectorå‚æ•°ä¸­å®šä¹‰ã€‚ è¿˜å¯ä»¥æŒ‡å®šå¯é€‰çš„valueSelectoræ¥å†é€‰æ‹©å®šä¹‰å°†å­˜å‚¨åœ¨mapå…ƒç´ å€¼ä¸­çš„å†…å®¹ã€‚ åŒºåˆ« associateByå’ŒgroupByä¹‹é—´çš„åŒºåˆ«åœ¨äºå®ƒä»¬å¦‚ä½•ä½¿ç”¨ç›¸åŒçš„é”®å¤„ç†å¯¹è±¡ï¼š associateByä½¿ç”¨æœ€åä¸€ä¸ªåˆé€‚çš„å…ƒç´ ä½œä¸ºå€¼ã€‚ groupByæ„å»ºæ‰€æœ‰åˆé€‚å…ƒç´ çš„åˆ—è¡¨å¹¶å°†å…¶æ”¾å…¥å€¼ä¸­ã€‚ 12345678910111213141516171819data class StreamPractise( val id: Int, val name: String, val age: Int)fun main() &#123; val l = listOf(StreamPractise(1, \"hello\", 19), StreamPractise(1, \"cl\", 31)) var res = l.associateBy &#123; it.id &#125; println(res)&#125;// &#123;1=StreamPractise(id=1, name=cl, age=31)&#125;fun main() &#123; val l = listOf(StreamPractise(1, \"hello\", 19), StreamPractise(1, \"cl\", 31)) var res = l.groupBy &#123; it.id &#125; println(res)&#125;// &#123;1=[StreamPractise(id=1, name=hello, age=19), StreamPractise(id=1, name=cl, age=31)]&#125; Map getOrElse() ä¸ list çš„å·¥ä½œæ–¹å¼ç›¸åŒï¼šå¯¹äºä¸å­˜åœ¨çš„é”®ï¼Œå…¶å€¼ç”±ç»™å®šçš„ lambda è¡¨è¾¾å¼è¿”å›ã€‚ getOrDefault() å¦‚æœæ‰¾ä¸åˆ°é”®ï¼Œåˆ™è¿”å›æŒ‡å®šçš„é»˜è®¤å€¼ã€‚ filter: å¯ä»¥ä½¿ç”¨ filter() å‡½æ•°æ¥è¿‡æ»¤ map æˆ–å…¶ä»–é›†åˆã€‚ å¯¹ map ä½¿ç”¨ filter() å‡½æ•°æ—¶ï¼Œ Pair å°†ä½œä¸ºå‚æ•°çš„è°“è¯ä¼ é€’ç»™å®ƒã€‚ å®ƒå°†ä½¿ç”¨è°“è¯åŒæ—¶è¿‡æ»¤å…¶ä¸­çš„é”®å’Œå€¼ã€‚ 123val numbersMap = mapOf(\"key1\" to 1, \"key2\" to 2, \"key3\" to 3, \"key11\" to 11)val filteredMap = numbersMap.filter &#123; (key, value) -&gt; key.endsWith(\"1\") &amp;&amp; value &gt; 10&#125;println(filteredMap) put()æ·»åŠ æ–°çš„kv putAll()è¦ä¸€æ¬¡æ·»åŠ å¤šä¸ªæ¡ç›®ï¼Œè¯·ä½¿ç”¨ putAll() ã€‚å®ƒçš„å‚æ•°å¯ä»¥æ˜¯ Map æˆ–ä¸€ç»„ Pair ï¼š Iterable ã€ Sequenceæˆ– Array ã€‚ 123val numbersMap = mutableMapOf(\"one\" to 1, \"two\" to 2, \"three\" to 3)numbersMap.putAll(setOf(\"four\" to 4, \"five\" to 5))println(numbersMap) remove: è¦ä»å¯å˜ Map ä¸­åˆ é™¤æ¡ç›®ï¼Œè¯·ä½¿ç”¨ remove() å‡½æ•°ã€‚ è°ƒç”¨ remove() æ—¶ï¼Œå¯ä»¥ä¼ é€’é”®æˆ–æ•´ä¸ªé”®å€¼å¯¹ã€‚ å¦‚æœåŒæ—¶æŒ‡å®šé”®å’Œå€¼ï¼Œåˆ™ä»…å½“é”®å€¼éƒ½åŒ¹é…æ—¶ï¼Œæ‰ä¼šåˆ é™¤æ­¤çš„å…ƒç´ ã€‚ 12345val numbersMap = mutableMapOf(\"one\" to 1, \"two\" to 2, \"three\" to 3)numbersMap.remove(\"one\")println(numbersMap)numbersMap.remove(\"three\", 4) //ä¸ä¼šåˆ é™¤ä»»ä½•æ¡ç›®println(numbersMap) plus ä¸ minus æ“ä½œ ç”±äºéœ€è¦è®¿é—®å…ƒç´ çš„é”®ï¼Œplusï¼ˆ+ï¼‰ä¸ minusï¼ˆ-ï¼‰è¿ç®—ç¬¦å¯¹ map çš„ä½œç”¨ä¸å…¶ä»–é›†åˆä¸åŒã€‚ plus è¿”å›åŒ…å«ä¸¤ä¸ªæ“ä½œæ•°å…ƒç´ çš„ Map ï¼šå·¦ä¾§çš„ Map ä¸å³ä¾§çš„ Pair æˆ–å¦ä¸€ä¸ª Map ã€‚ å½“å³ä¾§æ“ä½œæ•°ä¸­æœ‰å·¦ä¾§ Map ä¸­å·²å­˜åœ¨çš„é”®æ—¶ï¼Œè¯¥æ¡ç›®å°†ä½¿ç”¨å³ä¾§çš„å€¼ï¼ˆè¦†ç›–ï¼‰ã€‚ 1234val numbersMap = mapOf(\"one\" to 1, \"two\" to 2, \"three\" to 3)println(numbersMap + Pair(\"four\", 4))println(numbersMap + Pair(\"one\", 10))println(numbersMap + mapOf(\"five\" to 5, \"one\" to 11)) minus å°†æ ¹æ®å·¦ä¾§ Map æ¡ç›®åˆ›å»ºä¸€ä¸ªæ–° Map ï¼Œå³ä¾§æ“ä½œæ•°å¸¦æœ‰é”®çš„æ¡ç›®å°†è¢«å‰”é™¤ã€‚ å› æ­¤ï¼Œå³ä¾§æ“ä½œæ•°å¯ä»¥æ˜¯å•ä¸ªé”®æˆ–é”®çš„é›†åˆï¼š list ã€ set ç­‰ã€‚ 123val numbersMap = mapOf(\"one\" to 1, \"two\" to 2, \"three\" to 3)println(numbersMap - \"one\")println(numbersMap - listOf(\"two\", \"four\")) containsKey, containsValue isNotEmpty sort map:æ ¹æ®é”®æˆ–è€…å€¼æ’åº 1234567val mmp = mapOf(1 to \"aone\", 3 to \"three\", 2 to \"two\", 4 to \"four\")val sortedMap: SortedMap&lt;Int, String&gt; = mmp.toSortedMap(Comparator &#123; o1, o2 -&gt; println(\"o1=$o1,o2=$o2\") if (o1 &gt; o2) 1 else if (o1 &lt; o2) -1 else 0&#125;) println(sortedMap) // &#123;1=aone, 2=two, 3=three, 4=four&#125; â­ï¸Convert Map to List 12345678val keyList = ArrayList(mmp.keys)val valueList = ArrayList(mmp.values)println(\"Key List: $keyList\") // Key List: [1, 3, 2, 4]println(\"Value List: $valueList\") // Value List: [aone, three, two, four]val list = mmp.toList().map &#123; \"$&#123;it.first&#125;_$&#123;it.second&#125;\" &#125;println(\"list=$list\") // list=[1_aone, 3_three, 2_two, 4_four] â­ï¸Converting a List to Map in Kotlin 12345678910 val user1 = User(\"John\", 18, listOf(\"Hiking\", \"Running\", \"Reading\")) val user2 = User(\"Sara\", 25, listOf(\"Chess\", \"Music\")) val user3 = User(\"Dave\", 34, listOf(\"Games\", \"Programming\")) val myList = listOf(user1, user2, user3) val myMap = myList.map &#123; it.name to it &#125;.toMap() println(myMap) // &#123;John=User(name=John, age=18, hobbit=[Hiking, Running, Reading]), Sara=User(name=Sara, age=25, hobbit=[Chess, Music]), Dave=User(name=Dave, age=34, hobbit=[Games, Programming])&#125; val amap = myList.associateBy &#123; it.age &#125; println(amap) // &#123;18=User(name=John, age=18, hobbit=[Hiking, Running, Reading]), 25=User(name=Sara, age=25, hobbit=[Chess, Music]), 34=User(name=Dave, age=34, hobbit=[Games, Programming])&#125;","categories":[],"tags":[]},{"title":"å¼€å‘è¿‡ç¨‹ä¸­Mysql APIè®°å½•","slug":"å¼€å‘è¿‡ç¨‹ä¸­Mysql-APIè®°å½•","date":"2021-12-26T12:52:57.000Z","updated":"2021-12-26T13:27:57.967Z","comments":true,"path":"2021/12/26/å¼€å‘è¿‡ç¨‹ä¸­Mysql-APIè®°å½•/","link":"","permalink":"https://nymrli.top/2021/12/26/å¼€å‘è¿‡ç¨‹ä¸­Mysql-APIè®°å½•/","excerpt":"","text":"æ—¶é—´æ“ä½œ TIME_TO_SEC MySQL TIME_TO_SEC(time) å‡½æ•°è¿”å›å°†å‚æ•° time è½¬æ¢ä¸ºç§’æ•°çš„æ—¶é—´å€¼ï¼Œè½¬æ¢å…¬å¼ä¸ºâ€œå°æ—¶ Ã—3600+ åˆ†é’Ÿ Ã—60+ ç§’â€ã€‚ 12345678910111213mysql&gt; SELECT TIME_TO_SEC(&apos;15:15:15&apos;);+-------------------------+| TIME_TO_SEC(&apos;15:15:15&apos;) |+-------------------------+| 54915 |+-------------------------+1 row in set (0.00 sec)mysql&gt; select TIME_TO_SEC(&quot;2021-02-02 04:04:04&quot;); -- åªä¼šè€ƒè™‘æ—¶åˆ†ç§’ï¼Œä¸ä¼šè€ƒè™‘å¹´æœˆæ—¥+-------------------------+| TIME_TO_SEC(&quot;2021-02-02 04:04:04&quot;) |+-------------------------+| 14644 |+-------------------------+ å…·ä½“å®ä¾‹ï¼š 12SELECT SEC_TO_TIME(TIME_TO_SEC(æ—¶é—´å­—æ®µ)- TIME_TO_SEC(æ—¶é—´å­—æ®µ)%(15*60)) as intervals from tablenamegroup by intervals SEC_TO_TIME è¿”å›å°†å‚æ•° seconds è½¬æ¢ä¸ºå°æ—¶ã€åˆ†é’Ÿå’Œç§’æ•°çš„æ—¶é—´å€¼ã€‚ 1234567mysql&gt; SELECT SEC_TO_TIME(&apos;54925&apos;);+----------------------+| SEC_TO_TIME(&apos;54925&apos;) |+----------------------+| 15:15:25 |+----------------------+1 row in set (0.00 sec) DATE_FORMAT ç”¨äºä»¥ä¸åŒçš„æ ¼å¼æ˜¾ç¤ºæ—¥æœŸ/æ—¶é—´æ•°æ®: DATE_FORMAT(date, format) 123456789DATE_FORMAT(NOW(),&apos;%b %d %Y %h:%i %p&apos;)DATE_FORMAT(NOW(),&apos;%m-%d-%Y&apos;)DATE_FORMAT(NOW(),&apos;%d %b %y&apos;)DATE_FORMAT(NOW(),&apos;%d %b %Y %T:%f&apos;)Dec 29 2008 11:45 PM12-29-200829 Dec 0829 Dec 2008 16:25:46.635","categories":[],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://nymrli.top/tags/Mysql/"},{"name":"å¼€å‘è®°å½•","slug":"å¼€å‘è®°å½•","permalink":"https://nymrli.top/tags/å¼€å‘è®°å½•/"}]},{"title":"Pythonç§‘å­¦è®¡ç®—å¸¸ç”¨APIè®°å½•","slug":"Pythonç§‘å­¦è®¡ç®—å¸¸ç”¨APIè®°å½•","date":"2021-12-26T09:44:24.000Z","updated":"2021-12-28T11:57:10.265Z","comments":true,"path":"2021/12/26/Pythonç§‘å­¦è®¡ç®—å¸¸ç”¨APIè®°å½•/","link":"","permalink":"https://nymrli.top/2021/12/26/Pythonç§‘å­¦è®¡ç®—å¸¸ç”¨APIè®°å½•/","excerpt":"","text":"pandas to_numericï¼šç±»åˆ«ç¦»æ•£åŒ– å‚æ•° æè¿° arg scalar, list, tuple, 1-d array, or Series errors {â€˜ignoreâ€™, â€˜raiseâ€™, â€˜coerceâ€™}, default â€˜raiseâ€™ downcast {â€˜integerâ€™, â€˜signedâ€™, â€˜unsignedâ€™, â€˜floatâ€™} , default None,æŒ‡å®šè½¬æ¢çš„ç±»å‹,é»˜è®¤è¿”å›float64æˆ–int64 1234567891011121314151617181920212223242526272829&gt;&gt;&gt; s = pd.Series(['1.0', '2', -3])&gt;&gt;&gt; pd.to_numeric(s)0 1.01 2.02 -3.0dtype: float64&gt;&gt;&gt; pd.to_numeric(s, downcast='float')0 1.01 2.02 -3.0dtype: float32&gt;&gt;&gt; pd.to_numeric(s, downcast='signed')0 11 22 -3dtype: int8&gt;&gt;&gt; s = pd.Series(['apple', '1.0', '2', -3])&gt;&gt;&gt; pd.to_numeric(s, errors='ignore')0 apple1 1.02 23 -3dtype: object&gt;&gt;&gt; pd.to_numeric(s, errors='coerce')0 NaN1 1.02 2.03 -3.0dtype: float64 æ€»ç»“ï¼š errorsä¸€èˆ¬é‡‡ç”¨&quot;ignore&quot;æˆ–è€…&quot;coerce&quot;ï¼›downcastæŒ‰ç…§éœ€æ±‚æ¥å¡«å†™ ç¼ºå¤±å€¼(ç©ºå€¼)å¤„ç† ç›¸å…³å‡½æ•° df.dropna() df.fillna() df.isnull() df.isna() ç›¸å…³æ¦‚å¿µ ç©ºå€¼ï¼šåœ¨pandasä¸­çš„ç©ºå€¼æ˜¯&quot;&quot; ç¼ºå¤±å€¼ï¼šåœ¨dataframeä¸­ä¸ºnanæˆ–è€…naTï¼ˆç¼ºå¤±æ—¶é—´ï¼‰ï¼Œåœ¨seriesä¸­ä¸ºnoneæˆ–è€…nanå³å¯ dropnaåˆ é™¤ç¼ºå¤±æ•°æ® DataFrame.dropna(axis=0, how='any', thresh=None, subset=None, inplace=False), å‡½æ•°ä½œç”¨ï¼šåˆ é™¤å«æœ‰ç©ºå€¼çš„è¡Œæˆ–åˆ— how:&quot;all&quot;è¡¨ç¤ºè¿™ä¸€è¡Œæˆ–åˆ—ä¸­çš„å…ƒç´ å…¨éƒ¨ç¼ºå¤±ï¼ˆä¸ºnanï¼‰æ‰åˆ é™¤è¿™ä¸€è¡Œæˆ–åˆ—ï¼Œ&quot;any&quot;è¡¨ç¤ºè¿™ä¸€è¡Œæˆ–åˆ—ä¸­åªè¦æœ‰å…ƒç´ ç¼ºå¤±ï¼Œå°±åˆ é™¤è¿™ä¸€è¡Œæˆ–åˆ— thresh:ä¸€è¡Œæˆ–ä¸€åˆ—ä¸­è‡³å°‘å‡ºç°äº†threshä¸ªæ‰åˆ é™¤ã€‚ subsetï¼šåœ¨æŸäº›åˆ—çš„å­é›†ä¸­é€‰æ‹©å‡ºç°äº†ç¼ºå¤±å€¼çš„åˆ—åˆ é™¤ï¼Œä¸åœ¨å­é›†ä¸­çš„å«æœ‰ç¼ºå¤±å€¼å¾—åˆ—æˆ–è¡Œä¸ä¼šåˆ é™¤ï¼ˆæœ‰axiså†³å®šæ˜¯è¡Œè¿˜æ˜¯åˆ—ï¼‰ inplaceï¼šåˆ·é€‰è¿‡ç¼ºå¤±å€¼å¾—æ–°æ•°æ®æ˜¯å­˜ä¸ºå‰¯æœ¬è¿˜æ˜¯ç›´æ¥åœ¨åŸæ•°æ®ä¸Šè¿›è¡Œä¿®æ”¹ã€‚ é»˜è®¤å‚æ•°ï¼šåˆ é™¤è¡Œï¼Œåªè¦æœ‰ç©ºå€¼å°±ä¼šåˆ é™¤ï¼Œä¸æ›¿æ¢ã€‚ Fillnaå¡«å……ç¼ºå¤±æ•°æ® å¤„ç†Serieså¯¹è±¡ 1234567import pandas as pdfrom numpy import nan as NaNs = [1, NaN, 2, 3, NaN]df = pd.Series(s)df = df.fillna(5)print(df) å¤„ç†DataFrameå¯¹è±¡ ä¸ºæ‰€æœ‰çš„NaNçš„ä½ç½®å¡«å……ä¸€ä¸ªç¡®å®šå€¼ 1234567891011121314151617import pandas as pdfrom numpy import nan as NaNdf = pd.DataFrame([[1, NaN, 2, 3, NaN], [1, 2, NaN, 3, NaN]])print(df)print(\"-\"*10)df = df.fillna(5)print(df)\"\"\" 0 1 2 3 40 1 NaN 2.0 3 NaN1 1 2.0 NaN 3 NaN---------- 0 1 2 3 40 1 5.0 2.0 3 5.01 1 2.0 5.0 3 5.0\"\"\" é€šè¿‡å­—å…¸ä¸ºä¸åŒçš„åˆ—å¡«å……ä¸åŒçš„å¸¸æ•° 1234567891011121314df = pd.DataFrame([[1, NaN, 2, 3, NaN], [1, 2, NaN, 3, NaN]], columns=[\"1st\", \"2nd\", \"3rd\", \"4th\", \"5th\"])print(df)print(\"-\"*10)df = df.fillna(&#123;\"5th\": 100&#125;)print(df)\"\"\" 1st 2nd 3rd 4th 5th0 1 NaN 2.0 3 NaN1 1 2.0 NaN 3 NaN---------- 1st 2nd 3rd 4th 5th0 1 NaN 2.0 3 100.01 1 2.0 NaN 3 100.0\"\"\" methodå‚æ•°ï¼šæ”¹å˜æ›¿ä»£å€¼çš„æ–¹å¼ï¼Œå½“ä¸ºâ€™ffillâ€™ï¼Œè¡¨ç¤ºç”¨å‰é¢çš„å€¼å¡«å……ï¼Œå½“â€™bfillâ€™è¡¨ç¤ºç”¨åé¢çš„å€¼å¡«å……ã€‚ 1234567891011121314151617181920212223242526272829df = pd.DataFrame([[1, NaN, 2, 3, NaN], [1, 2, NaN, 3, NaN]], columns=[\"1st\", \"2nd\", \"3rd\", \"4th\", \"5th\"])print(df)print(\"-\"*10)df = df.fillna(method=\"ffill\") # bfillprint(df)\"\"\" 1st 2nd 3rd 4th 5th0 1 NaN 2.0 3 NaN1 1 2.0 NaN 3 NaN---------- 1st 2nd 3rd 4th 5th0 1 NaN 2.0 3 NaN1 1 2.0 2.0 3 NaN\"\"\"df = pd.DataFrame([[1, NaN, 2, 3, NaN], [1, 2, NaN, 3, NaN]], columns=[\"1st\", \"2nd\", \"3rd\", \"4th\", \"5th\"])print(df)print(\"-\"*10)df = df.fillna(method=\"bfill\") # bfillprint(df)\"\"\" 1st 2nd 3rd 4th 5th0 1 NaN 2.0 3 NaN1 1 2.0 NaN 3 NaN---------- 1st 2nd 3rd 4th 5th0 1 2.0 2.0 3 NaN1 1 2.0 NaN 3 NaN\"\"\" å‚æ•°ï¼š methodï¼šFillnaOptionsï¼Œffill/forwardfill:ç”¨ç¼ºå¤±å€¼å‰é¢çš„ä¸€ä¸ªå€¼ä»£æ›¿ç¼ºå¤±å€¼ï¼›bfill/backfillï¼Œç¼ºå¤±å€¼åé¢çš„ä¸€ä¸ªå€¼ä»£æ›¿å‰é¢çš„ç¼ºå¤±å€¼ã€‚æ³¨æ„è¿™ä¸ªå‚æ•°ä¸èƒ½ä¸valueåŒæ—¶å‡ºç°ï¼ˆvalue:éœ€è¦ç”¨ä»€ä¹ˆå€¼å»å¡«å……ç¼ºå¤±å€¼ï¼‰ axisï¼šå‚æ•°é»˜è®¤ä¸º0ï¼Œå³æ²¿ç€è¡Œå¡«å……ï¼Œä¸º1åˆ™æ²¿ç€åˆ—å¡«å…… limitï¼šä¼ å…¥limité™åˆ¶å¡«å……ä¸ªæ•° inplaceï¼šä¼ å…¥inplaceå‚æ•°:æ˜¯å¦åœ¨åŸæ¥çš„æ•°æ®ä¸Šæ“ä½œï¼Œé»˜è®¤ä¸ºFalseï¼Œè¡¨ç¤ºé‡æ–°æ‹·è´äº†ä¸€ä»½æ•°æ®ï¼Œç„¶ååœ¨æ‹·è´çš„æ•°æ®ä¸Šæ“ä½œã€‚ DateFrameæ“ä½œ æ·»åŠ è¡Œ **æ·»åŠ ä¸€è¡Œï¼š**é‡‡ç”¨loc[]æ–¹æ³• 123456# æ„é€ ä¸€ä¸ªç©ºçš„dataframeimport pandas as pddf = pd.DataFrame(columns=['name','number'])# é‡‡ç”¨.locçš„æ–¹æ³•è¿›è¡Œdf.loc[0]=['cat', 3] # å…¶ä¸­loc[]ä¸­éœ€è¦åŠ å…¥çš„æ˜¯æ’å…¥åœ°æ–¹dataframeçš„ç´¢å¼•ï¼Œé»˜è®¤æ˜¯æ•´æ•°å‹# ä¹Ÿå¯é‡‡ç”¨è¯¸å¦‚df.loc['a'] = ['123',30]çš„å½¢å¼ æ·»åŠ å¤šè¡Œ==&gt;(åˆå¹¶å¦ä¸€ä¸ªdateframe)ï¼š 1234567891011# 1. é‡‡ç”¨appendæ–¹æ³•åˆå¹¶ä¸¤ä¸ªdataframe# æ„é€ ä¸¤ä¸ªdataframedf = pd.DataFrame([[1, 2], [3, 4]], columns=list('AB'))df2 = pd.DataFrame([[5, 6], [7, 8]], columns=list('AB'))# åˆå¹¶ ignore_indexè®¾ç½®ä¸º Trueå¯ä»¥é‡æ–°æ’åˆ—ç´¢å¼•df.append(df2, ignore_index=True) A B0 1 21 3 42 5 63 7 8 æ·»åŠ åˆ— é‡‡ç”¨df[]æ–¹æ³•ç›´æ¥åœ¨åˆ—ä¸Šæ“ä½œ 12345678910111213141516# æ–°å»ºä¸€ä¸ªdataframedf = pd.DataFrame(columns=['name','number'], data=[['cat',3]])\"\"\"df name number0 cat 3\"\"\"# æ·»åŠ ä¸€åˆ—ï¼Œè®¡ç®—æœ‰å¤šå°‘æ¡è…¿df['leg'] = df['number'] * 4# æ·»åŠ ä¸€åˆ—ï¼Œç›´æ¥èµ‹å€¼æœ‰å‡ ä¸ªå¤´df['head'] = 1\"\"\"df name number leg head0 cat 3 12 1\"\"\" é‡‡ç”¨insert()æ–¹æ³•(è¿‡æ—¶deprecated) 123456# ä½¿ç”¨æ–¹æ³•æ˜¯DataFrame.insert(loc, column, value, allow_duplicates=False)# å³df.insert(æ·»åŠ åˆ—ä½ç½®ç´¢å¼•åºå·ï¼Œæ·»åŠ åˆ—åï¼Œæ•°å€¼ï¼Œæ˜¯å¦å…è®¸åˆ—åé‡å¤)df.insert(1, 'tail', 1, allow_duplicates=False)df name tail number leg head0 cat 1 3 12 1 åˆå¹¶å¤šä¸ªDataFrame https://blog.csdn.net/milton2017/article/details/54406482/ è·å¾—æ»¡è¶³æ¡ä»¶çš„è¡Œæˆ–è€…åˆ— 123456# è·å–DataFrameä¸­numTeståˆ—çš„å€¼å¤§äº2çš„è¡Œå†…å®¹arr1 = arr[arr['numTest']&gt;2]print(arr1)# è·å–å“ªå‡ è¡Œç¬¦åˆæ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯è·å–ç¬¦åˆæ¡ä»¶çš„è¡Œçš„ç´¢å¼•å€¼result = arr[arr['numTest']&gt;2].index.tolist()print(result) ç›´æ¥ç­›é€‰ ç›´æ¥ä½¿ç”¨åˆ—éœ€è¦æ»¡è¶³çš„æ¡ä»¶ï¼Œå¦‚æœéœ€è¦å¤šä¸ªåˆ—åŒæ—¶æ»¡è¶³æ¡ä»¶ï¼Œä½¿ç”¨â€™&amp;â€˜ç¬¦å·è¿æ¥å³å¯ï¼›å¦‚æœåªéœ€è¦æŸä¸€åˆ—æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä½¿ç”¨â€™|'è¿æ¥å¤šä¸ªåˆ—çš„æ¡ä»¶ã€‚ 12345678some = all_data[(all_data['User_id'] == 1439408) &amp; (all_data['Date'].isna())]print(some)# å¾—åˆ°äº†User_id=1439408å’ŒDateä¸ºç©ºçš„æ•°æ®é¡¹ User_id Merchant_id Coupon_id Discount_rate Distance Date_received Date1 1439408 4663 11002.0 150:20 1.0 20160528.0 NaN2 1439408 2632 8591.0 20:1 0.0 20160217.0 NaN3 1439408 2632 1078.0 20:1 0.0 20160319.0 NaN4 1439408 2632 8591.0 20:1 0.0 20160613.0 NaN åŸºäºmapç­›é€‰ 1234567891011user_requried = all_data['User_id'].map(lambda x : x==1439408)date_requried = all_data['Date'].map(lambda x : np.isnan(x))some = all_data[user_requried &amp; date_requried]print(some) # ç»“æœï¼šå…¶ä¸­mapè¿”å›çš„å€¼å¿…é¡»æ˜¯boolç±»å‹ï¼Œå³æŸä¸€ä¸ªæ¡ä»¶ã€‚ç„¶åä½¿ç”¨ç›´æ¥ç­›é€‰çš„æ–¹å¼ï¼ŒæŠŠæ¡ä»¶åˆå¹¶ï¼Œæœ€ç»ˆå¾—å‡ºç­›é€‰çš„ç»“æœã€‚æˆ‘è®¤ä¸ºä½¿ç”¨æ­¤ç§ç±»å‹çš„æ–¹æ³•æ›´åŠ çš„ä¼˜ç¾ã€‚ User_id Merchant_id Coupon_id Discount_rate Distance Date_received Date1 1439408 4663 11002.0 150:20 1.0 20160528.0 NaN2 1439408 2632 8591.0 20:1 0.0 20160217.0 NaN3 1439408 2632 1078.0 20:1 0.0 20160319.0 NaN4 1439408 2632 8591.0 20:1 0.0 20160613.0 NaN åŸºäºqueryæ–¹æ³•ç­›é€‰ ç›´æ¥å†™è¡¨è¾¾å¼ï¼Œå¾—å‡ºæƒ³è¦ç­›é€‰çš„ç»“æœã€‚ 123some = all_data.query('(User_id == 1439408)')print(some)#ç»“æœï¼šç›´æ¥å†™è¡¨è¾¾å¼å®¹æ˜“è§¦å‘ä¸€äº›ä¸å¿…è¦çš„é—®é¢˜ï¼ˆå€¼çš„ç±»å‹å®¹æ˜“å‡ºé”™ï¼Œä¸€äº›ç‰¹æ®Šå€¼çš„è¡¨è¾¾å›°éš¾ç­‰ï¼‰ï¼Œæ‰€ä»¥å¹¶ä¸å»ºè®®ä½¿ç”¨è¿™æ ·çš„æ–¹æ³•ã€‚ æ€»ç»“ï¼š ç¡®å®šä¸€ä¸ªæ¡ä»¶â€“&gt; df[â€˜moneyâ€™]&gt;10000) ç¡®å®šæ»¡è¶³æ¡ä»¶çš„è¡Œâ€“&gt; df[(df[â€˜moneyâ€™]&gt;10000)] ç¡®å®šè¿™äº›è¡Œçš„indexâ€“&gt; df[(df[â€˜moneyâ€™]&gt;10000)].index.tolist()ï¼Œ è¿”å›çš„æ˜¯ä¸€ä¸ªlist é€‰å–æŒ‡å®šåˆ—å±•ç¤º 12#é€‰å–æŒ‡å®šçš„åˆ—, ä¸­é—´å†™çš„æ˜¯æ¡ä»¶ï¼Œ ç±»æ¯” df = df[ df[\"sale\"] &gt; 50 ]df = df[ [\"sku\",\"ebayno\",\"sale\"] ] Jieba æ–‡æœ¬ç±»çš„æ•°æ®åˆ†æï¼Œä¸€èˆ¬éƒ½æ˜¯åˆ†è¯+è¯äº‘å±•ç¤º 1234567import jiebadata = pd.read_csv(data_path)all_content = ''for i in range(0, len(data['è¯„è®ºæ ‡é¢˜'])):all_content = all_content + data['è¯„è®ºæ ‡é¢˜'][i]cut_text = \" \".join(jieba.cut(all_content)) WordCloud å°†æ•°æ®ä¿å­˜åå°±è¦è¿›è¡Œå¯è§†åŒ–å±•ç¤ºï¼Œä¸€èˆ¬æ–‡æœ¬ç±»çš„éƒ½ä¼šé‡‡ç”¨è¯äº‘ 12345678910111213from wordcloud import WordCloudwordcloud = WordCloud(font_path=ciyunfont_path, mask=background_image, background_color='white').generate(cut_text)plt.figure(figsize=(8, 8))if not os.path.exists(result_path): os.makedirs(result_path)# ä¿å­˜ç”Ÿæˆå›¾ç‰‡plt.savefig(f'&#123;result_path&#125;/ciyun.png')# æŒ‡å®šè¯äº‘å›¾ä¸ºå¾…æ˜¾ç¤ºçš„å›¾ç‰‡plt.imshow(wordcloud, interpolation=\"bilinear\")plt.axis(\"off\")# æ˜¾ç¤ºå›¾ç‰‡plt.show()","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Pythonä¸­å…³äºå›¾ç‰‡çš„æ“ä½œ","slug":"Pythonä¸­å…³äºå›¾ç‰‡çš„è¯»å–","date":"2021-12-26T08:16:29.000Z","updated":"2021-12-26T08:32:11.523Z","comments":true,"path":"2021/12/26/Pythonä¸­å…³äºå›¾ç‰‡çš„è¯»å–/","link":"","permalink":"https://nymrli.top/2021/12/26/Pythonä¸­å…³äºå›¾ç‰‡çš„è¯»å–/","excerpt":"","text":"å†™ä»£ç çš„æ—¶å€™ä¸€ç›´è®°é”™åº“ä¸‹å¯¹åº”çš„å›¾ç‰‡æ“ä½œå‡½æ•°åä»¥åŠä»–ä»¬çš„è¿”å›å€¼ç±»å‹ï¼Œå¹²è„†å†™ä¸ªç¬”è®°è®°å½•ä¸‹ã€‚ å›¾ç‰‡è¯»å–ç›¸å…³çš„åŒ…ï¼š matplotlib PIL/ cv2 numpy è¯»å– matplotlib.pyplot / pylab 12345678import pylab as plt# from matplotlib import pyplot as pltimport numpy as npimg = plt.imread('examples.png')print(type(img), img.dtype, np.min(img), np.max(img))[out](&lt;type 'numpy.ndarray'&gt;, dtype('float32'), 0.0, 1.0) # matplotlibè¯»å–è¿›æ¥çš„å›¾ç‰‡æ˜¯floatï¼Œ0-1 æ³¨ï¼špylabå’ŒpyplotåŒºåˆ«ï¼šå‰è€…å°†numpyã€ä»¥åŠå„ä¸ªåŠŸèƒ½å‡½æ•°å¯¼å…¥äº†å…¶å‘½åç©ºé—´ä¸­ã€‚è¿™æ ·ä¼šä½¿pylabè¡¨ç°çš„å’Œmatlabæ›´åŠ ç›¸ä¼¼ã€‚ç°åœ¨æ¥è¯´æˆ‘ä»¬ç»å¸¸ä½¿ç”¨pyplotï¼Œå› ä¸ºpyplotç›¸æ¯”pylabæ›´åŠ çº¯ç²¹ã€‚ PIL.image.open 12345678910from PIL import Imageimport numpy as npimg = Image.open('examples.png')print(type(img), np.min(img), np.max(img))img = np.array(img) # å°†PILæ ¼å¼å›¾ç‰‡è½¬ä¸ºnumpyæ ¼å¼print(type(img), img.dtype, np.min(img), np.max(img))[out](&lt;class 'PIL.PngImagePlugin.PngImageFile'&gt;, 0, 255) # æ³¨æ„ï¼ŒPILæ˜¯æœ‰è‡ªå·±çš„æ•°æ®ç»“æ„çš„ï¼Œä½†æ˜¯å¯ä»¥è½¬æ¢æˆnumpyæ•°ç»„(&lt;type 'numpy.ndarray'&gt;, dtype('uint8'), 0, 255) # å’Œç”¨matplotlibè¯»å–ä¸åŒï¼ŒPILå’Œmatlabç›¸åŒï¼Œè¯»è¿›æ¥å›¾ç‰‡å’Œå…¶å­˜å‚¨åœ¨ç¡¬ç›˜çš„æ ·å­æ˜¯ä¸€æ ·çš„ï¼Œuint8ï¼Œ0-255 PILè¯»å–çš„ç»“æœæ˜¯Imageæ ¼å¼çš„ï¼Œéœ€è¦å†é¢å¤–è½¬æ¢æˆnp.arrayçš„å½¢å¼ cv2.imread 123456789101112import cv2import numpy as npimg = cv2.imread('examples.png') # é»˜è®¤æ˜¯è¯»å…¥ä¸ºå½©è‰²å›¾ï¼Œå³ä½¿åŸå›¾æ˜¯ç°åº¦å›¾ä¹Ÿä¼šå¤åˆ¶æˆä¸‰ä¸ªç›¸åŒçš„é€šé“å˜æˆå½©è‰²å›¾img_gray = cv2.imread('examples.png', 0) # ç¬¬äºŒä¸ªå‚æ•°ä¸º0çš„æ—¶å€™è¯»å…¥ä¸ºç°åº¦å›¾ï¼Œå³ä½¿åŸå›¾æ˜¯å½©è‰²å›¾ä¹Ÿä¼šè½¬æˆç°åº¦å›¾print(type(img), img.dtype, np.min(img), np.max(img))print(img.shape)print(img_gray.shape)[out](&lt;type 'numpy.ndarray'&gt;, dtype('uint8'), 0, 255) # opencvè¯»è¿›æ¥çš„æ˜¯numpyæ•°ç»„ï¼Œç±»å‹æ˜¯uint8ï¼Œ0-255(824, 987, 3) # å½©è‰²å›¾3é€šé“(824, 987) # ç°åº¦å›¾å•é€šé“ æ³¨æ„ï¼Œpylab.imreadå’ŒPIL.Image.openè¯»å…¥çš„éƒ½æ˜¯RBGé¡ºåºï¼Œè€Œcv2.imreadè¯»å…¥çš„æ˜¯BGRé¡ºåºï¼Œæ··åˆä½¿ç”¨çš„æ—¶å€™è¦ç‰¹å¤‡æ³¨æ„ ä¿å­˜ plt.savefig() savefig()æ–¹æ³•ç”¨äºä¿å­˜ç»˜åˆ¶æ•°æ®ååˆ›å»ºçš„å›¾å½¢ã€‚ä½¿ç”¨æ­¤æ–¹æ³•å¯ä»¥å°†åˆ›å»ºçš„å›¾å½¢ä¿å­˜åˆ°æˆ‘ä»¬çš„æœ¬åœ°è®¡ç®—æœºä¸­ã€‚ 12345678wordcloud = WordCloud(font_path=ciyunfont_path, mask=background_image, background_color='white').generate(cut_text)plt.figure(figsize=(8, 8))if not os.path.exists(result_path): os.makedirs(result_path) # ä¿å­˜ç”Ÿæˆå›¾ç‰‡ plt.savefig(f'&#123;result_path&#125;/ciyun.png') # æŒ‡å®šè¯äº‘å›¾ä¸ºå¾…æ˜¾ç¤ºçš„å›¾ç‰‡ plt.imshow(wordcloud, interpolation=\"bilinear\") æ³¨æ„ï¼Œ ä½¿ç”¨savefigçš„è¯å¾—æ³¨æ„ä¸plt.show()çš„ä½ç½®ï¼Œå¦‚æœå…ˆplt.show()äº†åˆ™ä¿å­˜çš„æ˜¯ç©ºç™½å›¾ç‰‡ã€‚ PIL.image - ä¿å­˜PILæ ¼å¼çš„å›¾ç‰‡ 12345from PIL import Imageimg = Image.open('examples.png')img.save('examples2.png')img_gray = img.convert('L')img_gray.save('examples_gray.png') # ä¸ç®¡æ˜¯ç°åº¦è¿˜æ˜¯å½©è‰²ï¼Œç›´æ¥ç”¨saveå‡½æ•°ä¿å­˜å°±å¯ä»¥ï¼Œä½†æ³¨æ„ï¼Œåªæœ‰PILæ ¼å¼çš„å›¾ç‰‡èƒ½å¤Ÿç”¨saveå‡½æ•° cv2.imwrite 12345import cv2img = cv2.imread('examples.png') # è¿™æ˜¯BGRå›¾ç‰‡cv2.imwrite('examples2.png', img) # è¿™é‡Œä¹Ÿåº”è¯¥ç”¨BGRå›¾ç‰‡ä¿å­˜ï¼Œè¿™é‡Œè¦éå¸¸æ³¨æ„ï¼Œå› ä¸ºç”¨pylabæˆ–PILè¯»å…¥çš„å›¾ç‰‡éƒ½æ˜¯RGBçš„ï¼Œå¦‚æœè¦ç”¨opencvå­˜å›¾ç‰‡å°±å¿…é¡»åšä¸€ä¸ªè½¬æ¢img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)cv2.imwrite('examples_gray.png', img_gray) ç°åº¦å›¾-RGBå›¾ç›¸äº’è½¬æ¢ 1 PIL.Image 123456789101112from PIL import Imageimg = Image.open('examples.png')img_gray = img.convert('L') # RGBè½¬æ¢æˆç°åº¦å›¾åƒimg_rgb = img_gray.convert('RGB') # ç°åº¦è½¬RGBprint(img)print(img_gray)print(img_rgb)[out]&lt;PIL.PngImagePlugin.PngImageFile image mode=RGB size=987x824 at 0x7FC2CCAE04D0&gt;&lt;PIL.Image.Image image mode=L size=987x824 at 0x7FC2CCAE0990&gt;&lt;PIL.Image.Image image mode=RGB size=987x824 at 0x7FC2CCAE0250&gt; 2 cv2ï¼ˆæ³¨æ„ï¼Œopencvåœ¨è¯»å…¥å›¾ç‰‡çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡å‚æ•°å®ç°é¢œè‰²é€šé“çš„è½¬æ¢ï¼Œä¸‹é¢æ˜¯ç”¨åˆ«çš„æ–¹å¼å®ç°ï¼‰ 123456import cv2import pylab as pltimg = cv2.imread('examples.png')img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY) # BGRè½¬ç°åº¦img_bgr = cv2.cvtColor(img_gray, cv2.COLOR_GRAY2BGR) # ç°åº¦è½¬BRGimg_rgb = cv2.cvtColor(img_gray, cv2.COLOR_GRAY2RGB) # ä¹Ÿå¯ä»¥ç°åº¦è½¬RGB from: numpyã€cv2ç­‰æ“ä½œå›¾ç‰‡åŸºæœ¬æ“ä½œ","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Unityæ¸¸æˆå¼€å‘å­¦ä¹ ","slug":"Unityæ¸¸æˆå¼€å‘å­¦ä¹ ","date":"2021-12-16T08:23:47.000Z","updated":"2021-12-25T09:43:21.309Z","comments":true,"path":"2021/12/16/Unityæ¸¸æˆå¼€å‘å­¦ä¹ /","link":"","permalink":"https://nymrli.top/2021/12/16/Unityæ¸¸æˆå¼€å‘å­¦ä¹ /","excerpt":"","text":"ç»„ä»¶ RigidBody åˆšä½“ï¼Œä¼šç»™ç‰©ä½“å¢åŠ é‡åŠ› spring jointï¼š å¼¹ç°§å…³èŠ‚ï¼Œå¯ä»¥è¿æ¥ä¸¤ä¸ªåˆšä½“ï¼Œä½¿å¾—ä¸¤ä¸ªç‰©ä½“èƒ½å¤Ÿåƒå¼¹ç°§ä¸€æ ·è¿åŠ¨ã€‚ Box Collision å¢åŠ ç¢°æ’æ£€æµ‹ å›¾ç‰‡æ¸²æŸ“å™¨ Spriteç²¾çµï¼Œæ¸¸æˆå¼€å‘ä¸­æŒ‡ä¸€å¼ å›¾ç‰‡ Sprite Render å›¾ç‰‡æ¸²æŸ“å™¨ï¼Œæ˜¯ç”¨æ¥æ¸²æŸ“å›¾ç‰‡çš„ç»„ä»¶ 1234567891011// éšæœºç”Ÿæˆæ€ªç‰©å¤´åƒvoid createMonster()&#123; float x = Random.Range(-2, 2); float y = 5; GameObject monster = Instantiate(MonsterPrefab); monster.transform.position = new Vector3(x, y, 0); int index = Random.Range(0, images.Length); SpriteRender render = monster.GetComponent&lt;SpriteRender&gt;(); render.sprite = this.images[index]&#125; æ‰€ä»¥å›¾ç‰‡å¯¹è±¡å…¶å®æ˜¯, Empty Gameobject+Sprite Renderç»„ä»¶æ„æˆçš„ æ³¨ï¼šUIä¸‹çš„Imageä¸æ˜¯Sprite APIï¼š Transform Translate() æ ¹æ® translation çš„æ–¹å‘å’Œè·ç¦»ç§»åŠ¨å˜æ¢ã€‚å¦‚æœ relativeTo è¢«çœç•¥æˆ–è®¾ç½®ä¸º Space.Selfï¼Œåˆ™ä¼šç›¸å¯¹äºå˜æ¢çš„æœ¬åœ°è½´æ¥åº”ç”¨è¯¥ç§»åŠ¨ã€‚ï¼ˆåœ¨åœºæ™¯è§†å›¾ä¸­é€‰æ‹©å¯¹è±¡æ—¶æ˜¾ç¤ºçš„ Xã€Y å’Œ Z è½´ã€‚ï¼‰ å¦‚æœ relativeTo ä¸º Space.Worldï¼Œåˆ™ç›¸å¯¹äºä¸–ç•Œåæ ‡ç³»åº”ç”¨è¯¥ç§»åŠ¨ã€‚ Rotate ä½¿ç”¨ Transform.Rotate ä»¥å„ç§æ–¹å¼æ—‹è½¬ GameObjectsã€‚é€šå¸¸ä»¥æ¬§æ‹‰è§’è€Œä¸æ˜¯å››å…ƒæ•°æä¾›æ—‹è½¬ã€‚ è·å¾—é”®é¼ æ“ä½œ è·å–é¼ æ ‡ï¼š 1234Input.GetMouseButton(int)int = 0æ—¶ï¼Œè·å–é¼ æ ‡å·¦é”®int = 1æ—¶ï¼Œè·å–é¼ æ ‡å³é”®int = 2æ—¶ï¼Œè·å–é¼ æ ‡ä¸­é”® è·å–æ–¹å‘é”®ç›˜ï¼š 1234Input.Getkey(KeyCode.UPArrow) ä¸Šé”®Input.GetKey(KeyCode.DownArrow) ä¸‹é”®Input.GetKey(KeyCode.LeftArrow) å·¦é”®Input.GetKey(KeyCode.RightArrow) å³é”® è·å¾—å¯¹è±¡ä¸Šçš„ç»„ä»¶ æ¯ä¸ªç»„ä»¶ä¸Šéƒ½æœ‰transformç»„ä»¶ï¼Œå› æ­¤åœ¨scriptsè„šæœ¬ä¸­å¯ä»¥é€šè¿‡transform.positionå’Œtransform.rotationæ¥è·å¾—ä½ç½®å’Œæœå‘ã€‚ è·å¾—å¯¹è±¡ä¸‹çš„åˆšä½“ç»„ä»¶ï¼š Rigidbody rd = bullet.GetComponent&lt;Rigidbody&gt;(); é•œå¤´è·Ÿéšâ€”â€”ç§»åŠ¨æ‘„åƒå¤´ä½ç½® Camera.main.transform.position = Vector3.Lerp( Camera.main.transform.position, new Vector3(Mathf.Clamp(posX, 0, 15), Camera.main.transform.position.y, Camera.main.transform.position.y,), smooth* Time.deltaTime) æ³¨ï¼šè¢«æŒ‚è½½çš„è„šæœ¬ä¹Ÿç®—ä¸ªç»„ä»¶ï¼Œå…¶åç§°ä¸ºè„šæœ¬åç§°ï¼Œå¦‚ä¸‹GetComponent&lt;Bird&gt;çš„Birdä¸ºæŒ‚è½½çš„Bird.csè„šæœ¬ 1collision.transform.GetComponent&lt;Bird&gt;().Hurt(); è·å¾—è„šæœ¬æŒ‚è½½çš„å¯¹è±¡ä»¥åŠä¸Šçº§å¯¹è±¡ 123456789// åœ¨è„šæœ¬ä¸­transformä¸ºè„šæœ¬æŒ‚è½½å¯¹è±¡çš„transformç»„ä»¶transform// å¦‚æœè¦è·å¾— è„šæœ¬æŒ‚è½½å¯¹è±¡ çš„ä¸Šçº§å¯¹è±¡çš„transformï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰transform.parenttransform.root // å¦‚æœè¦è¿›ä¸€æ­¥è·å¾—gameObjectçš„è¯ï¼Œé€šè¿‡ transform.parent.gameObjectæ¥è·å¾—// è·å¾—çˆ¶çº§å¯¹è±¡åè¿›ä¸€æ­¥transform.parent.getComponent&lt;Text&gt;() æœ‰è·å¾—çˆ¶å¯¹è±¡å°±æœ‰è·å¾—å­å¯¹è±¡ 123for (int i = 0; i &lt; transform.childCount; i ++ )&#123; transform.GetChild(i).GetComponent&lt;Collider2D&gt;().enabled = false;&#125; è„šæœ¬è·å¾—å¯¹è±¡ï¼š public Text TimeTextå°†å¯¹è±¡é€šè¿‡publicæš´éœ²ï¼Œç„¶åæ‰‹åŠ¨æ‹–æ‹½æŒ‡å®š private Text TimeTextæŒ‡å®šä¸ºprivateï¼Œç„¶åAware()ä¸­TimeText = GameObject.Find(&quot;TimeText&quot;).GetComponent&lt;Text&gt;(); 1.æ— æ³•æŸ¥æ‰¾éšè—å¯¹è±¡ éšè—å¯¹è±¡åŒ…æ‹¬æŸ¥æ‰¾è·¯å¾„çš„ä»»ä½•ä¸€ä¸ªçˆ¶èŠ‚ç‚¹éšè—(active=false) â–²ï¼šè§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å…ˆè®©å®ƒè®¾ç½®ä¸ºactive=trueï¼Œç„¶ååœ¨startä¸­æ‰¾åˆ°åè®¾ç½®ä¸ºactive=falseï¼Œå†åœ¨ç”¨çš„æ—¶å€™è®¾ç½®ä¸ºtrue 2.å¦‚æœæŸ¥æ‰¾ä¸åœ¨æœ€ä¸Šå±‚ï¼Œå»ºè®®åˆç†ä½¿ç”¨è·¯å¾„æŸ¥æ‰¾ï¼Œè·¯å¾„æŸ¥æ‰¾æ˜¯æŠŠåŒåˆƒå‰‘ **ä¼˜ç‚¹1:**è§£å†³æŸ¥æ‰¾ä¸­å¯èƒ½å‡ºç°çš„é‡åé—®é¢˜ã€‚ **ä¼˜ç‚¹2:**å¦‚æœæœ‰å®Œå…¨çš„è·¯å¾„ï¼Œå‡å°‘æŸ¥æ‰¾èŒƒå›´ï¼Œå‡å°‘æŸ¥æ‰¾æ—¶é—´ã€‚ æ³¨ï¼šä¸GameObject.Findç›¸ä¼¼çš„apiè¿˜æœ‰GameObject.FindWithTag Transform.Find 1.å¯ä»¥æŸ¥æ‰¾éšè—å¯¹è±¡ 2.æ”¯æŒè·¯å¾„æŸ¥æ‰¾ 3.æŸ¥æ‰¾éšè—å¯¹è±¡çš„å‰ææ˜¯transformæ‰€åœ¨çš„æ ¹èŠ‚ç‚¹å¿…é¡»å¯è§ï¼Œå³active=true å®é™…å¼€å‘ä¸­ä¼šå°†åŠŸèƒ½é¢„åˆ¶ä½“æ”¾åˆ°ä¸€ä¸ªå¯è§çš„GameObjectç›®å½•ä¸‹ï¼Œå°†è¿™ä¸ªGameObjectç›®å½•ä½œä¸ºæŸ¥æ‰¾æ ¹èŠ‚ç‚¹ï¼Œä¸‹é¢çš„æ‰€æœ‰å¯¹è±¡(éšè—ã€ééšè—ï¼‰éƒ½å¯ä»¥æŸ¥æ‰¾åˆ°ã€‚ SetActiveå’ŒenableåŒºåˆ« ç›¸åŒç‚¹ï¼š gameObject.SetActiveå‡½æ•°æ§åˆ¶çš„æ˜¯ä¸Šå›¾å¤é€‰æ¡†1æ˜¯å¦å‹¾é€‰ï¼Œä¸å‹¾é€‰ï¼Œé‚£ä¹ˆéšè—ï¼Œå‹¾é€‰å³æ˜¾ç¤ºï¼› enabledå±æ€§æ§åˆ¶çš„æ˜¯å¤é€‰æ¡†2æ˜¯å¦å‹¾é€‰ï¼Œæ˜¾éšè§„åˆ™åŒä¸Šï¼› ä¸åŒç‚¹ï¼š SetActiveæ˜¯é’ˆå¯¹å…ƒç´ å¯¹è±¡gameObjectçš„ï¼›enabledæ˜¯é’ˆå¯¹gameObjectä¸‹çš„æŸä¸ªcomponentçš„ å¦‚æœUIçš„å¤é€‰æ¡†1é»˜è®¤ä¸å‹¾é€‰, æ— è®ºå¤é€‰æ¡†2æ˜¯å¦å‹¾é€‰, é‚£ä¹ˆå½“UIæ˜¾ç¤ºæ—¶, MyImage.csçš„æ‰€æœ‰å‡½æ•°éƒ½ä¸ä¼šæ‰§è¡Œ, è¿™å°±è¯´æ˜æ²¡æœ‰åŠ è½½æ­¤è„šæœ¬åˆ°å†…å­˜; å¦‚æœUIçš„å¤é€‰æ¡†1é»˜è®¤å‹¾é€‰ï¼Œå¤é€‰æ¡†2é»˜è®¤ä¸å‹¾é€‰ï¼Œé‚£ä¹ˆå½“UIæ˜¾ç¤ºæ—¶, MyImage.csçš„Awakeå‡½æ•°ä¼šæ‰§è¡Œï¼Œå…¶ä»–å‡½æ•°å‡ä¸ä¼šæ‰§è¡Œï¼Œè¿™å°±è¯´æ˜æ­¤è„šæœ¬ä¼šåŠ è½½åˆ°å†…å­˜ä¸­, é™¤äº†æ‰§è¡ŒAwakeå‡½æ•°å¤–ï¼Œå…¶ä»–å‡½æ•°å‡ä¸æ‰§è¡Œ. 123456789101112131415// enable// é€šè¿‡æ‹–æ‹‰åŠ å…¥public List&lt;Bird&gt; birds;birds[i].enabled = true;birds[i].sp.enabled = true;// è¿™è¾¹æ˜¯Image UIpublic GameObject win;public GameObject lose;//è¾“äº†lose.SetActive(true);win.SetActive(true);// UI ==&gt; canvasä¸‹çš„UIå…¶å®ä¹Ÿæ˜¯GameObjectbutton.SetActive(false); æœ¬åœ°æŒä¹…åŒ–ä¿å­˜ä¸è¯»å–çš„ç±» PlayerPrefs: å·¥ä½œåŸç†éå¸¸ç®€å•ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼å°†æ•°æ®ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œç„¶åç¨‹åºå¯ä»¥æ ¹æ®è¿™ä¸ªåç§°å–å‡ºä¸Šæ¬¡ä¿å­˜çš„æ•°å€¼ã€‚ Playerprefsé™æ€æ–¹æ³• SetFloat()ï¼ŒSetInt()ï¼ŒSetString()` å†™å…¥æ•°æ® GetFloat()ï¼ŒGetInt()ï¼ŒGetString() è¯»å–æ•°æ® DeleteKey()ï¼ŒDeleteAll() åˆ é™¤æ•°æ® HasKey(&quot;SS&quot;) æ£€æŸ¥æ•°æ®,æ˜¯å¦æœ‰è¯¥é”® Save() åˆ›å»ºå’Œé”€æ¯prefabå¯¹è±¡ 12345678910111213// é€šè¿‡é¢„åˆ¶ä½“æ¥åŠ¨æ€åˆ›å»ºå®ä¾‹å¯¹è±¡, Instantiateå‚æ•°æœ‰å¾ˆå¤š, å…·ä½“è§apiæ–‡æ¡£GameObject bullet = Instantiate(myPrefab)GameObject go = Instantiate(score, transform.position + new Vector3(0,0.5f,0), Quaternion.identity);bullet.transform.position = transform.position + new Vector3(0, 1f, 0)// é”€æ¯é¢„åˆ¶ä½“ ==&gt; ç»‘å®šåœ¨å­å¼¹prefabä¸Šçš„è„šæœ¬transform.Translate(0, step, 0, Space.Self)Vector3 sp = Camera.main.WorldToScreen(transform.position)if (sp.y &gt; Screen.height)&#123; Destroy(this.gameObject, 1.5f) // å»¶æ—¶1.5så // å³GameObject.Destroy&#125; åœºæ™¯åˆ‡æ¢ Unityæ¸¸æˆå¼€å‘ä¸­ï¼Œå•ä¸ªSceneè§£å†³æ‰€æœ‰é—®é¢˜ä¼¼ä¹ä¸å¯èƒ½ï¼Œé‚£ä¹ˆå¤šä¸ªSceneä¹‹é—´çš„åˆ‡æ¢æ˜¯å¿…ç„¶å­˜åœ¨ã€‚å¦‚æœä»…ä»…æ˜¯åˆ‡æ¢ï¼Œä¼¼ä¹ä»€ä¹ˆéƒ½å¥½è¯´ï¼Œä½†æ˜¯åœ¨åœºæ™¯æ¯”è¾ƒå¤§çš„æ—¶å€™ä¸æƒ³è®©ç©å®¶ç­‰å¾…åŠ è½½æˆ–è€…è¯´åœºæ™¯ä¸åœºæ™¯ä¹‹é—´æƒ³é€šè¿‡ä¸€äº›ç”»é¢ã€åŠ¨ç”»è¡¨ç°å‡ºä¸€äº›è®©ç©å®¶æœŸå¾…çš„ä¸œè¥¿ï¼Œå¤§å®¶å°±è¦å»è®¤çœŸè€ƒè™‘ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»ä¸¤ç§å¢åŠ åˆ‡æ¢ä¸­å¦‚ä½•æ’­æ”¾ç”»é¢æˆ–è€…åŠ¨ç”»ç­‰ç­‰ï¼Œæé«˜ç©å®¶çš„æµ¸å…¥æ„Ÿï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åšæˆæ— ç¼çš„åœºæ™¯ã€‚ 123456789101112// å¼‚æ­¥åˆ‡æ¢åœºæ™¯// AsyncOperation async = Application.LoadLevelAsync(&quot;MyBigLevel&quot;);// åŒæ­¥åˆ‡æ¢// Application.LoadLevel(&quot;Middle&quot;);using UnityEngine.SceneManagement;public void Retry() &#123; Time.timeScale = 1; // å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨çš„æ–¹æ³• UnityEngine.SceneManagement.SceneManager.LoadScene(2);&#125; é‡ç©åŠŸèƒ½ï¼šå¯ä»¥é€šè¿‡åˆ‡æ¢åˆ°å½“å‰åœºæ™¯æ¥å®ç°ï¼Œç”±äºåˆ‡æ¢ä¼šæŠŠåˆ‡ä¹‹å‰çš„å…ƒç´ é”€æ¯æ‰ï¼Œå¹¶é‡æ–°å»ºæ–°çš„å…ƒç´ ï¼Œå› æ­¤ç›¸å½“äºé‡ç© æ¸¸æˆæš‚åœ è®¾ç½®Time.timeScale = 0 å°†ä¼šæš‚åœæ‰€æœ‰å’Œå¸§ç‡æœ‰å…³çš„äº‹æƒ…ã€‚è¿™äº›ä¸»è¦æ˜¯æŒ‡æ‰€æœ‰çš„ç‰©ç†äº‹ä»¶å’Œä¾èµ–æ—¶é—´çš„å‡½æ•°ã€åˆšä½“åŠ›å’Œé€Ÿåº¦ç­‰ï¼Œè€Œä¸”FixedUpdateä¼šå—åˆ°å½±å“ï¼Œä¼šè¢«æš‚åœï¼ˆä¸æ˜¯Updateï¼‰,å³timeScale =0 æ—¶å°†ä¸ä¼šè°ƒç”¨FixedUpdateå‡½æ•°äº†ã€‚ ï¼ˆ1ï¼‰Time.timeScale = 0å¯ä»¥æš‚åœæ¸¸æˆï¼ŒTime.timeScale = 1æ¢å¤æ­£å¸¸ï¼Œä½†è¿™æ˜¯ä½œç”¨äºæ•´ä¸ªæ¸¸æˆçš„è®¾ç½®ï¼Œä¸å•å•æ˜¯å½“å‰åœºæ™¯ï¼Œè®°å¾—åœ¨éœ€è¦çš„æ—¶å€™é‡ç½®å›Time.timeScale = 1ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨Time.timeScaleæ¥åšæ¸¸æˆçš„1å€ã€2å€æ•´ä½“åŠ é€Ÿã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152private void Awake()&#123; // è·å¾— gameObjectè‡ªèº«çš„åŠ¨ç”»ç»„ä»¶ anim = GetComponent&lt;Animator&gt;();&#125;public void Retry() &#123; Time.timeScale = 1; UnityEngine.SceneManagement.SceneManager.LoadScene(2);&#125;/// &lt;summary&gt;/// ç‚¹å‡»äº†pauseæŒ‰é’®/// &lt;/summary&gt;public void Pause()&#123; //1ã€æ’­æ”¾pauseåŠ¨ç”» anim.SetBool(\"isPause\", true); button.SetActive(false); // â–² è¿™è¾¹å¯ä»¥çœ‹åˆ°é™¤äº†è®¾ç½®åŠ¨æ€å’ŒTime.timeScaleä»¥å¤–è¿˜å¯¹å…¶ä»–åšäº†ä¿®æ”¹ if (GameManager._instance.birds.Count &gt; 0) &#123; if (GameManager._instance.birds[0].isReleased == false) &#123; //æ²¡æœ‰é£å‡º GameManager._instance.birds[0].canMove = false; &#125; &#125;&#125; /// &lt;summary&gt;/// ç‚¹å‡»äº†ç»§ç»­æŒ‰é’®/// &lt;/summary&gt;public void Resume() &#123; //1ã€æ’­æ”¾resumeåŠ¨ç”» Time.timeScale = 1; anim.SetBool(\"isPause\", false); if (GameManager._instance.birds.Count &gt; 0) &#123; if (GameManager._instance.birds[0].isReleased == false) &#123; //æ²¡æœ‰é£å‡º GameManager._instance.birds[0].canMove = true; &#125; &#125;&#125;public void Home()&#123; Time.timeScale = 1; UnityEngine.SceneManagement.SceneManager.LoadScene(1);&#125; ç¢°æ’æ£€æµ‹ ç¢°æ’ä½“çš„ç¼–è¾‘ ç‚¹ÎµEdit colliderè¿›è¡Œç¼–è¾‘â€¦ï¼Œè§„å®šå¯ç¢°æ’çš„èŒƒå›´å’Œå½¢çŠ¶ å¸¸è§çš„å½¢çŠ¶ï¼š æ–¹å½¢ Box Collider2D åœ†å½¢ Circle collider2D ä¸è§„åˆ™è¾¹ç¼˜ Edge Collider2D èƒ¶å›Šå½¢çŠ¶ Capsule Collider2D å¸¦æœ‰colliderç»„ä»¶çš„å¯¹è±¡è„šæœ¬ï¼Œå°†ç»„ä»¶çš„IsTriggerå±æ€§å‹¾é€‰ä¸Š 1234567891011121314// å¼€å§‹æ¥è§¦ void OnTriggerEnter(Collider collider) &#123; Debug.Log(\"å¼€å§‹æ¥è§¦\"); &#125; // æ¥è§¦ç»“æŸ void OnTriggerExit(Collider collider) &#123; Debug.Log(\"æ¥è§¦ç»“æŸ\"); &#125; // æ¥è§¦æŒç»­ä¸­ void OnTriggerStay(Collider collider) &#123; Debug.Log(\"æ¥è§¦æŒç»­ä¸­\"); &#125; å¸¦æœ‰colliderç»„ä»¶çš„å¯¹è±¡è„šæœ¬ï¼Œå‘ç”Ÿç¢°æ’æ—¶ä¼šæ‰§è¡Œå¦‚ä¸‹é’©å­å‡½æ•° 123456789101112131415// ç¢°æ’å¼€å§‹void OnCollisionEnter(Collision collision) &#123; // é”€æ¯å½“å‰æ¸¸æˆç‰©ä½“ Destroy(this.gameObject);&#125; // ç¢°æ’ç»“æŸvoid OnCollisionExit(Collision collision) &#123; &#125; // ç¢°æ’æŒç»­ä¸­void OnCollisionStay(Collision collision) &#123; &#125; ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼Œå°†å¯¹è±¡colliderç»„ä»¶çš„isTriigerå±æ€§å‹¾ä¸Šåï¼Œæ¸¸æˆç‰©ä½“å‘ç”Ÿæ¥è§¦çš„æ—¶å€™å°±ä¸ä¼šæœ‰ç¢°æ’çš„æ•ˆæœäº†ï¼Œè€Œæ˜¯ä¼šç›´æ¥ç©¿è¿‡å»ï¼Œå³ç¢°æ’é€»è¾‘éœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹å†™äº†ã€‚ ã€å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè§¦å‘å™¨å›è°ƒçš„è¿™ä¸‰ä¸ªæ–¹æ³•çš„å‚æ•°éƒ½æ˜¯Colliderç±»å‹ï¼Œè¡¨ç¤ºçš„å°±æ˜¯è¢«ç¢°æ’çš„æ¸¸æˆç‰©ä½“çš„è§¦å‘å™¨ç»„ä»¶å¯¹è±¡ã€‚ã€‘ 1234567// è·å¾—è¢«ç¢°æ’ç‰©ä½“çš„namevar name = collision.collider.name;// è·å¾—è¢«ç¢°æ’ç‰©ä½“çš„tagvar tag = collision.collider.tag;// æ„Ÿè§‰æ›´å¥½è®°collision.transform.GetComponent&lt;Bird&gt;().Hurt(); Resources.LoadåŠ¨æ€åŠ è½½èµ„æº ä½¿ç”¨è¿™ç§æ–¹å¼åŠ è½½èµ„æºï¼Œé¦–å…ˆéœ€è¦ä¸‹Assetç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºResourcesçš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªå‘½åæ˜¯U3Dè§„å®šçš„æ–¹å¼ï¼Œç„¶åæŠŠèµ„æºæ–‡ä»¶æ”¾è¿›å»ï¼ŒCubeæ”¾åœ¨Resourceä¸­çš„Prebsä¸­ï¼Œè€ŒSphereæ”¾åœ¨Resourcesè·Ÿç›®å½•ä¸‹ 12345private string cubePath = \"Prebs/MyCubePreb\";private string spherePath = \"MySpherePreb\";Object cubePreb = Resources.Load(cubePath, typeof(GameObject));Object spherePreb = Resources.Load(spherePath, typeof(GameObject)); DontDestroyOnLoad æ–°åœºæ™¯çš„è´Ÿè½½ä¼šç ´åæ‰€æœ‰å½“å‰åœºæ™¯å¯¹è±¡ã€‚è°ƒç”¨Object.DontDestroyOnLoadåœ¨çº§åˆ«åŠ è½½æœŸé—´ä¿å­˜å¯¹è±¡ã€‚å¦‚æœç›®æ ‡å¯¹è±¡æ˜¯ç»„ä»¶æˆ–æ¸¸æˆå¯¹è±¡ï¼ŒUnityè¿˜å°†ä¿ç•™Transformçš„æ‰€æœ‰å­å¯¹è±¡ã€‚å¯¹è±¡.DontDestroyOnLoadä¸è¿”å›å€¼ã€‚ä½¿ç”¨typeofæ“ä½œç¬¦æ›´æ”¹å‚æ•°ç±»å‹ã€‚ å»ºè®®æŠŠéœ€è¦DontDestroyOnLoadçš„æ¸¸æˆå¯¹è±¡æ”¾åˆ°ä¸€ä¸ªåœ¨æ¸¸æˆé€»è¾‘ä¸­ä¸ä¼šè¿”å›çš„ä¸€ä¸ªåœºæ™¯ï¼Œæ¯”å¦‚è¯´æ”¾åˆ°ç™»å½•æ—¶åŠ è½½çš„é‚£ä¸ªåœºæ™¯ï¼Œï¼Œï¼Œæˆ–è€…ä»£ç ä½¿ç”¨ä¸€ä¸ªé™æ€å˜é‡åšæ ‡å¿—ï¼Œï¼ˆstatic bool isHave )æ˜¯å¦DontDestroyOnLoadè¿‡ï¼Œè‹¥DontDestroyOnLoadå°±å°†å…¶èµ‹å€¼ä¸ºTrueï¼Œ æƒ³è¦æ‰¾åˆ°è¿™ä¸ªæ¸¸æˆç‰©ä½“çš„è¯ï¼Œæœç´¢Find æ˜¯å¯ä»¥æ‰¾åˆ°çš„ï¼Œæˆ–è€…ä½¿ç”¨æ ‡ç­¾çš„å½¢å¼FindGameObjectWithTag 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201// ç™»é™†é¡µé¢çš„CanvasæŒ‚è½½çš„å¿…å¯åŠ¨æ–‡ä»¶public class Main : MonoBehaviour &#123; public GameObject ClientSystem; public // Use this for initialization //180,49; void Start () &#123; // åœ¨åœºæ™¯åˆ‡æ¢çš„æ—¶å€™ä¸é”€æ¯ClientSystemå¯¹è±¡ DontDestroyOnLoad(ClientSystem); &#125; // Update is called once per frame void Update () &#123; &#125;&#125;// ClientSystemä¸ŠæŒ‚è½½çš„æœåŠ¡å™¨é€šä¿¡è„šæœ¬using System.Collections;using System.Collections.Generic;using UnityEngine;using System.Net;using System.Net.Sockets;using System.Text;using UnityEngine.UI;using UnityEngine.SceneManagement;using System.Threading;public class Client : MonoBehaviour&#123; public GameObject LoadCavas; public GameObject Ball; public GameObject StartBackGround; public GameObject InputText; float rota = 1.6f; bool isBallRota = false; string HeartBeatMsg = \"Hello\"; string otherNameMsg = \"otherName\"; string HookMsg = \"Hook\"; string ExitMsg = \"exit\"; string SendMsg = \"\"; string RecvMsg = \"\"; const string ip = \"127.0.0.1\"; const int port = 9999; IPEndPoint ipe = new IPEndPoint(IPAddress.Parse(ip), port); Socket socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp); private void Start() &#123; LoadCavas.SetActive(false); &#125; private void Update() &#123; //Loadingçš„çš®å¡ä¸˜åŠ¨ç”» if (isBallRota &amp;&amp; Ball != null) &#123; Ball.transform.Rotate(Vector3.forward, rota); &#125; //å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯ if (RecvMsg != \"\") &#123; MsgHandle(); &#125; //ç”¨SendMsgä¿å­˜è¦å‘é€çš„æ¶ˆæ¯ SendMsg = GetSendMsg(); &#125; void LoadAnimate(bool Start) &#123; if (Start) &#123; LoadCavas.SetActive(true); isBallRota = true; StartBackGround.GetComponent&lt;Image&gt;().sprite = null; StartBackGround.GetComponent&lt;Image&gt;().color = new Color(0, 0, 0, 0); InputText.GetComponent&lt;InputField&gt;().text = \"Matching....\"; &#125; else &#123; if (LoadCavas != null) &#123; LoadCavas.SetActive(false); isBallRota = false; StartBackGround.GetComponent&lt;Image&gt;().sprite = Resources.Load&lt;Sprite&gt;(\"Button\"); StartBackGround.GetComponent&lt;Image&gt;().color = Color.white; InputText.GetComponent&lt;InputField&gt;().text = PlayerPrefs.GetString(\"UserName\"); &#125; &#125; &#125; public void Link() &#123; LoadAnimate(true); socket.Connect(ipe); name = PlayerPrefs.GetString(\"UserName\"); byte[] nameB = Encoding.ASCII.GetBytes(name); socket.Send(nameB); string recvStr = \"\"; byte[] recvBytes = new byte[1024]; int bytes; bytes = socket.Receive(recvBytes, recvBytes.Length, 0);//ä»æœåŠ¡å™¨ç«¯æ¥å—è¿”å›ä¿¡æ¯ recvStr += Encoding.ASCII.GetString(recvBytes, 0, bytes); Debug.Log(\"client get message\" + recvStr); Thread thread = new Thread(Communicate); thread.Start(); &#125; private void OnApplicationQuit() &#123; if (socket.Connected) &#123; socket.Send(Encoding.ASCII.GetBytes(ExitMsg)); byte[] recvBytes = new byte[1024]; int bytes; bytes = socket.Receive(recvBytes, recvBytes.Length, 0); socket.Close(); &#125; &#125; private void Communicate() &#123; while (socket.Connected) &#123; byte[] heartBeatStrB = Encoding.ASCII.GetBytes(SendMsg); socket.Send(heartBeatStrB); string recvStr = \"\"; byte[] recvBytes = new byte[1024]; int bytes; bytes = socket.Receive(recvBytes, recvBytes.Length, 0);//ä»æœåŠ¡å™¨ç«¯æ¥å—è¿”å›ä¿¡æ¯ recvStr += Encoding.ASCII.GetString(recvBytes, 0, bytes); RecvMsg = recvStr; Thread.Sleep(100); &#125; &#125; void MsgHandle() &#123; //å…ˆé‡ç½®æ”¶åˆ°çš„æ¶ˆæ¯ string msg = RecvMsg; RecvMsg = \"\"; if (msg.StartsWith(otherNameMsg)) &#123; LoadAnimate(false); Variable.OtherName = msg.Remove(otherNameMsg.Length); &#125; else if (msg == HookMsg) &#123; Variable.isOtherHookDown = true; &#125; else if (msg == \"Left\") &#123; isBallRota = false; Variable.isSelfLeft = true; SceneManager.LoadScene(\"Game\"); &#125; else if (msg == \"Right\") &#123; isBallRota = false; Variable.isSelfLeft = false; SceneManager.LoadScene(\"Game\"); &#125; else if (msg == \"exit\") &#123; SceneManager.LoadScene(\"Main\"); LoadAnimate(false); InputText.GetComponent&lt;InputField&gt;().text = \"Mathing Failed QAQ\"; &#125; &#125; string GetSendMsg() &#123; string msg = HeartBeatMsg; if (Variable.isExit) &#123; msg = ExitMsg; Variable.isExit = false; &#125; else &#123; if (Variable.isSelfHookDown) &#123; msg = HookMsg; Variable.isSelfHookDown = false; &#125; &#125; return msg; &#125;&#125; é—®é¢˜ï¼š Unityï¼šYou must exit play mode to save the scene A: å‡ºç°ä¸Šè¿°é”™è¯¯æ—¶ï¼Œé€šå¸¸æ˜¯å¤„äºæ¸¸æˆæ¨¡å¼ä¹Ÿå°±æ˜¯play modeçš„çŠ¶æ€ä¸‹è¿›è¡Œä¿å­˜æ“ä½œï¼Œæ­¤æ—¶æ— æ³•å®Œæˆä¿å­˜æŒ‡ä»¤ã€‚ ç‚¹å‡»è¿è¡Œåï¼Œéœ€è¦ç­‰å¾…å‡ ç§’æ‰èƒ½æ­£å¼è¿›å…¥Play Modeï¼Œè¿›å…¥åå¯ä»¥çœ‹åˆ°RunæŒ‰é’®å˜è“ï¼Œè¦é€€å‡ºçš„è¯ä¸æ˜¯ç‚¹å‡»Pauseï¼Œè€Œæ˜¯å†æ¬¡ç‚¹å‡»å˜è“çš„RunæŒ‰é’®ï¼ˆPauseæ˜¯æš‚åœï¼‰ å¯ä»¥åŠ æ·±Play Modeçš„è§‚æ„Ÿâ€”â€”Unityå°æŠ€å·§â€”â€”ç¼–è¾‘æ¨¡å¼Play ModeæŒ‡å®šé¢œè‰²ï¼Œæˆ‘æ˜¯é€‰æ‹©äº†åŠ æ·±ç°è‰²ï¼Œä½¿å¾—æœ‰æ²‰æµ¸æ„Ÿçš„ä½“éªŒã€‚ Visual Studioæ²¡æœ‰Unityçš„ä»£ç æç¤ºâ€”â€”unityè„šæœ¬åœ¨vs2019ä¸­æ‰“å¼€æ²¡æœ‰æ™ºèƒ½æç¤ºå®Œç¾è§£å†³æ–¹æ¡ˆï¼Œå°†VSåŠ ä¸Šâ€œä½¿ç”¨Unityæ¸¸æˆå¼€å‘â€çš„é€‰é¡¹å³å¯ã€‚ æ¸²æŸ“é¡ºåºï¼š ç®€å•æ€»ç»“ä¸€ä¸‹ï¼Œ å†³å®šSprite renderçš„æ¸²æŸ“å…³ç³»çš„å±‚çº§é¡ºåºæ˜¯ï¼š Cameraï¼š ä¸åŒçš„Cameraçš„Depth sorting layerï¼š ç›¸åŒCameraä¸‹çš„ä¸åŒSortingLayer sortingorderï¼š ç›¸åŒSortingLayerä¸‹çš„ä¸åŒZè½´/Order in Layer æ”¹å˜æ§ä»¶ä¹‹é—´çš„å±‚çº§å…³ç³» (1)åŒä¸€canvasä¸‹ï¼š æ”¹å˜æ§ä»¶transformçš„SiblingIndex, transform.GetSiblingIndex(); transform.SetSiblingIndex(int index); //indexå€¼è¶Šå¤§ï¼Œè¶Šåæ¸²æŸ“ï¼Œå±‚çº§è¶Šå¤§ï¼Œè¶Šæ˜¾ç¤ºåœ¨å‰é¢ (2)ä¸åŒCanvasä¸‹ï¼š è®¾ç½®Canvasä¸‹çš„Sort Order //Sort Orderå€¼è¶Šå¤§ï¼Œè¶Šåæ¸²æŸ“ï¼Œå±‚çº§è¶Šå¤§ï¼Œè¶Šæ˜¾ç¤ºåœ¨å‰é¢ Unity3Dçš„UGUIâ€”Canvasçš„æ¸²æŸ“é¡ºåºåŠå±‚æ¬¡å…³ç³»æ€»ç»“ Unityæ¸²æŸ“é¡ºåºæ€»ç»“ å­¦ä¹ å‚è€ƒè§†é¢‘: Bç«™ï¼ŒUnity2021å…¥é—¨æ•™ç¨‹_æ¸¸æˆå¼€å‘100é›†è¯¾ç¨‹(å«å»ºæ¨¡)â€”â€”é—´æ¥æ˜äº†çš„demoå±•ç¤ºï¼Œå†…å«é£æœºå¤§æˆ˜ æ¡ˆä¾‹å­¦ä¹ ç½‘ç«™-sikieduï¼š åŸºç¡€æ¡ˆä¾‹â€”â€”å°çƒå‘å°„ Unityåˆçº§æ¡ˆä¾‹ - æ„¤æ€’çš„å°é¸Ÿ Unityåˆçº§æ¡ˆä¾‹ - ç‚¸å¼¹äºº Unrealåˆçº§æ¡ˆä¾‹ - 3Dåƒè±†äºº Unityåˆçº§æ¡ˆä¾‹ - è´ªåƒè›‡ï¼ˆUnity2017.2.0ï¼‰ ã€æ¸¸æˆå¼€å‘ã€‘unityé¡¹ç›®æ¡ˆä¾‹ã€Šé»„é‡‘çŸ¿å·¥ã€‹ ç»³å­çš„stateé€šè¿‡gameManageræ¥æ§åˆ¶ ç»³å­è‡ªå·±æ²¡æœ‰triggerï¼Œè€Œæ˜¯å†™åœ¨oreä¸Šäº†ï¼Œå½“ç¢°æ’æ—¶è®¾ç½®oreçš„parentä¸ºrope å®˜æ–¹APIæ–‡æ¡£ å…è´¹çš„ç´ æç½‘ç«™ çˆ±ç»™ åƒåº“ç½‘","categories":[],"tags":[{"name":"Unity","slug":"Unity","permalink":"https://nymrli.top/tags/Unity/"}]},{"title":"è½¯ä»¶æ¶æ„è¯¾ç¨‹å­¦ä¹ ç¬”è®°","slug":"è½¯ä»¶æ¶æ„è¯¾ç¨‹å­¦ä¹ ç¬”è®°","date":"2021-12-12T06:44:53.000Z","updated":"2021-12-13T14:51:58.689Z","comments":true,"path":"2021/12/12/è½¯ä»¶æ¶æ„è¯¾ç¨‹å­¦ä¹ ç¬”è®°/","link":"","permalink":"https://nymrli.top/2021/12/12/è½¯ä»¶æ¶æ„è¯¾ç¨‹å­¦ä¹ ç¬”è®°/","excerpt":"","text":"æœ¯è¯­ â€“å¾®æœåŠ¡ â€“äº‘åŒ– â€“åˆ†å¸ƒå¼ â€“é«˜å¹¶å‘ â€“é«˜å¯ç”¨ æ¶æ„è§’è‰² æ¢ç´¢è€… è®¾è®¡å¸ˆ å€¡å¯¼äºº åˆ°åº•å¦‚ä½•åŒºåˆ†ä»€ä¹ˆæ˜¯æ¶æ„ã€æ¡†æ¶ã€æ¨¡å¼å’Œå¹³å° ï¼Ÿ è®¾è®¡æ¨¡å¼&lt;æ¡†æ¶&lt;æ¶æ„&lt;å¹³å°ï¼Œä»å¤ç”¨è§’åº¦è®²ï¼Œè®¾è®¡æ¨¡å¼æ˜¯ä»£ç çº§å¤ç”¨ã€æ¡†æ¶æ˜¯æ¨¡å—çº§å¤ç”¨ã€æ¶æ„æ˜¯ç³»ç»Ÿçº§å¤ç”¨ã€å¹³å°æ˜¯ä¼ä¸šåº”ç”¨çº§å¤ç”¨ã€‚ æ¨¡å¼:åˆ†ä¸ºä»£ç æ¨¡å¼ã€è®¾è®¡æ¨¡å¼ã€æ¡†æ¶æ¨¡å¼è¿™äº› è®¾è®¡æ¨¡å¼æœ‰ä¸åŒçš„åˆ†ç±»ï¼Œå¦‚ä¸‹ åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå¦‚å·¥å‚æ–¹æ³•ï¼ˆFactory Methodï¼‰æ¨¡å¼ã€æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰æ¨¡å¼ã€åŸå‹ï¼ˆPrototypeï¼‰æ¨¡å¼ã€å•ä¾‹ï¼ˆSingletonï¼‰æ¨¡å¼ï¼Œå»ºé€ ï¼ˆBuilderï¼‰æ¨¡å¼ç­‰ ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå¦‚åˆæˆï¼ˆCompositeï¼‰æ¨¡å¼ã€è£…é¥°ï¼ˆDecoratorï¼‰æ¨¡å¼ç­‰ æ¡†æ¶ï¼šä¹Ÿæœ‰å«æ„æ¶çš„ï¼Œä¸€èˆ¬ç­‰åŒäºï¼­ï¼¶ï¼£ã€MVPã€MVVMè¿™ç§ã€‚ ä¸¾ä¸ªæ —å­ï¼Œå†œæ‘è¦ç›–æˆ¿ï¼Œæ¶æ„å°±æ˜¯ï¼šä½ å¾—è€ƒè™‘è‡ªå·±çš„ç»æµå®åŠ›ã€å–œæ¬¢ä»€ä¹ˆæ ·çš„æˆ¿å­ã€æœ‰ä»€ä¹ˆè¦æ±‚ï¼Œé€‰å“ªä¸ªé è°±çš„æ–½å·¥é˜Ÿã€‚é€‰å¥½äº†ä¹‹åï¼Œæ¯”å¦‚è¯´è¦ç›–æ¥¼æˆ¿ï¼Œé‚£ä¹ˆæ¡†æ¶å°±æ˜¯æ–½å·¥é˜Ÿçš„æ¨¡å¼ï¼Œæœ‰çš„æ–½å·¥é˜Ÿå…ˆè¿™æ ·åšå†é‚£æ ·åšï¼Œè€Œæœ‰çš„å´ç›¸åï¼Œåæ­£èƒ½æŠŠæ¥¼ç»™ä½ ç›–èµ·æ¥å°±è¡Œã€‚æ¨¡å¼å°±æ˜¯å±€éƒ¨çš„å…·ä½“å®ç°ï¼Œæ¯”å¦‚è¯´é—¨è¿™æ ·å®‰ã€çª—æˆ·è¿™æ ·ã€‚ ç›®æ ‡ è¾¾åˆ°æœ€ä½³çš„åŠŸèƒ½å’ŒæœåŠ¡è¡¨ç° èµ„æºåˆ©ç”¨ç‡ çµæ´»çš„å¼€å‘ã€éƒ¨ç½²ã€è¿è¡Œã€ç»´æŠ¤å’Œåˆ›æ–° å®‰å…¨æ€§ã€ç¨³å®šæ€§ã€å¯é æ€§ç­‰è´¨é‡å±æ€§ å½±å“ç»“æ„çš„å› ç´  åˆ©ç›Šç›¸å…³è€… å¼€å‘å›¢é˜Ÿ æ¶æ„å¸ˆ ç¯å¢ƒå…¶ä»–å› ç´ ï¼Œæ¯”å¦‚å†²çªï¼Œéšæ€§éœ€æ±‚ Typical Design Trade-offs åŠŸèƒ½å’Œå¯ç”¨æ€§ æ€§èƒ½å’Œå¯ä¿®æ”¹æ€§ æˆæœ¬ä¸é²æ£’æ€§æ•ˆç‡å’Œå¯ç§»æ¤æ€§ å¿«é€Ÿå¼€å‘vs.åŠŸèƒ½æ€§ æˆæœ¬ä¸å¯é‡ç”¨æ€§ å‘åå…¼å®¹æ€§ä¸å¯è¯»æ€§ æ¶æ„ï¼šåšä¸€ä¸ªåŸºå‡†è®©è½¯ä»¶èƒ½å¤Ÿä¸æ–­å®Œå–„ã€‚æ¶æ„æœ¬èº«åœ¨åšçš„äº‹æƒ…å°±æ˜¯è¡”æ¥è½¯ä»¶ä»æ— åºçš„éœ€æ±‚å˜æˆæœ‰ç»„ç»‡ã€æœ‰åºçš„è½¯ä»¶è®¾è®¡å®ç°çš„ä¸­é—´è½¬æ¢ç¯èŠ‚ã€‚==&gt;æ³¨æ„æ¶æ„çš„å¾ˆå¤šå…³æ³¨ç‚¹éƒ½æ˜¯æ¥è‡ªäºæ¶æ„æœ¬èº«é©±åŠ¨çš„å› ç´ å’ŒéåŠŸèƒ½æ€§çš„ç‚¹ï¼ˆarchitectural driverï¼‰ï¼šæ€§èƒ½ã€ä½¿ç”¨ä¸­çš„é«˜å¯ç”¨ã€ è´¨é‡å±æ€§ï¼š æ˜“ç”¨æ€§é«˜â€”â€”ä¸€ä¸ªä¸­ç­‰ä¸šåŠ¡æ°´å¹³çš„å‚¨è“„æ‰€äººå‘˜èƒ½å¤Ÿåœ¨5ä¸ªå·¥ä½œæ—¥å†…ç†Ÿç»ƒæŒæ¡æœ¬ç³»ç»Ÿ80%åŠŸèƒ½ é—®é¢˜ï¼Ÿå¯ä¿®æ”¹æ€§å’Œæ€§èƒ½ï¼Œæ˜¯å¦å¯ä»¥å¯ä»¥åŒæ—¶æ»¡è¶³ï¼Ÿ A: è¿™ä¸¤ä¸ªå¾ˆå®¹æ˜“å†²çª è¿‘å‡ å¹´çš„æ¯•ä¸šè®ºæ–‡â€”â€”æŠŠåŠŸèƒ½å®ç°äº†ï¼Œä½†éåŠŸèƒ½æ€§éœ€æ±‚å°±åªæ˜¯åˆ—äº†å‡ ä¸ªç‚¹ã€‚éåŠŸèƒ½æ€§éœ€æ±‚ååº”äº†è¿™ä¸ªç³»ç»Ÿå…³æ³¨çš„å“ªäº›æŒ‡æ ‡ç‚¹ã€‚åŒæ—¶è¦è€ƒè™‘éåŠŸèƒ½æ€§éœ€æ±‚ä¹‹é—´çš„ä¼˜å…ˆçº§ï¼Œè¦ä½“ç°äº†å“ªä¸ªç›®æ ‡æ˜¯é«˜çš„ï¼Œæ˜¯ä½çš„ã€‚è¿™ç§ä¼˜å…ˆçº§çš„ï¼Œ å•ç‚¹â€“&gt;åˆ†å¸ƒå¼==ã€‹é›†ç¾¤åŒ–çš„ï¼Œé›†ç¾¤åŒ–æœåŠ¡çš„ä¸€äº›ç‚¹å°±æ…¢æ…¢ä¼šå½¢æˆä¸€ä¸ªé«˜å¯ç”¨çš„æ¶æ„ï¼Œæ¯”å¦‚ä¸»å¤‡ã€çƒ­å¤‡ã€æ¸©å¤‡ã€å†·å¤‡ï¼Œè¿˜æœ‰ä¸€äº›é€šè¿‡é›†ç¾¤åŒ–çš„æ–¹å¼æ¥å®ç°çš„é«˜å¯ç”¨ï¼Œæ¯”å¦‚å¤šæ´»ã€ä¸¤åœ°ä¸‰æ€»çº¿ã€‚ å¤šå®ä¾‹åŒ–åº”ç”¨ï¼šæé«˜å†—ä½™æ•°æ®è™½ç„¶æé«˜äº†å¯ç”¨æ€§ä½†æ˜¯å¢åŠ äº†å®‰å…¨æ€§çš„å½±å“ã€åº”ç”¨å±‚ç®¡ç†å®ç°æ–¹å¼ï¼šç»Ÿä¸€èº«ä»½è®¤è¯ï¼ˆç»Ÿä¸€çš„è®¤è¯ä¸­å¿ƒï¼Œé¿å…äº†æ¯ä¸ªç‚¹çš„è®¤è¯ï¼‰ï¼Œæƒé™å±‚ã€è®¤è¯å±‚ã€ç½‘å…³å±‚ ç»„ä»¶é—´ä¿¡æ¯é€šä¿¡æ¥æ¢æ´»ï¼Œä¿è¯ç»„ä»¶çš„å¯ç”¨æ€§ æ€§èƒ½ï¼š ä¼˜å…ˆçº§è°ƒåº¦ï¼Œæœ‰ä¼˜å…ˆèƒ½æ‰§è¡Œ æœ‰è¶³å¤Ÿçš„èµ„æº å®‰å…¨ æ‹¦æˆªè¯·æ±‚ åŠ å¯†ã€è®¤è¯ å¤§å‹å•†ä¸šé“¶è¡Œçš„ä¸»è¦ç‰¹å¾ï¼š 24å°æ—¶ä¸é—´æ–­çš„é«˜æ•ˆæ ¸å¿ƒé“¶è¡Œç³»ç»Ÿ è·¨æ¸ é“ã€è·¨ä¸šåŠ¡çº¿ã€è·¨åŒºåŸŸçš„é›†æˆæœåŠ¡èƒ½åŠ› é›†å›¢ä¸€ä½“åŒ–æ¶æ„æ¨¡å¼ä¸‹çš„å·®å¼‚åŒ–ã€ä¸ªæ€§åŒ–æ”¯æŒèƒ½åŠ› æ¯ä¸€å±‚éƒ½æœ‰ä¸åŒçš„å…³æ³¨ç‚¹ï¼Œæ¯ä¸€ä¸ªå…³æ³¨ç‚¹éƒ½æœ‰å„è‡ªçš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚æ¥å…¥å±‚æœ‰é«˜å¹¶å‘çš„éœ€æ±‚ï¼Œä¸šåŠ¡å¤„ç†å±‚æœ‰å®‰å…¨å¯é çš„å»æ±‚ã€‚å°†å…³æ³¨ç‚¹åˆ†å±‚ä»¥åã€‚ ä¼˜åŠ¿ï¼šæ¯ä¸€ä¸ªå±‚èƒ½çœ‹åœ°æ›´æ¸…æ™°ï¼Œå¹¶ä¸”æ›´å¥½åœ°å…³æ³¨è‡ªèº«åœ°å¤„ç†æ–¹å¼ã€‚ åŠ£åŠ¿ï¼šå±‚æ¬¡å±‚æ¬¡äº¤äº’è¿‡ç¨‹ä¸­åœ°trade-offé—®é¢˜ ä»qualityåœ°è§’åº¦è€ƒè™‘ï¼Œåˆ†å¸ƒå¼æ˜¯åœ¨è§£å†³é«˜å¹¶å‘çš„è®¿é—®ï¼Œå®ç°ç³»ç»Ÿæ›´å¥½çš„åº”ç”¨æ€§ä¸äº¤äº’æ€§ æ ¸å¿ƒé“¶è¡Œç³»ç»Ÿçš„éåŠŸèƒ½æ€§éœ€æ±‚ è§„æ¨¡ æ€§èƒ½ å®‰å…¨æ€§ å¯ç”¨æ€§å’Œå¼¹æ€§ è¿ç»´ç®¡ç† ç”¨æˆ·æ¥å…¥å¹³å°æŠ€æœ¯æ¶æ„ æ‰€æœ‰æ¥å…¥çš„æ¨¡å—éƒ½ä¸æ­¢ä¸€ä¸ªï¼Œä¸ç®¡æ˜¯tcpã€httpã€è¿˜æ˜¯èº«ä»½è®¤è¯çš„è¿˜æ˜¯å¯è§†åŒ–ç®¡ç†çš„ï¼Œéƒ½æ˜¯é€šè¿‡å¢åŠ å¤šä¸ªå®ä¾‹æ¥å®ç°é«˜å¯ç”¨ã€‚==&gt;ä¸»å¤‡ã€å¤šæ´» åº”ç”¨å¹³å°-&gt;åº”ç”¨ç³»ç»Ÿ-&gt;ç³»ç»Ÿè¿›ç¨‹-&gt;æŠ€æœ¯æ¨¡å— å…³é”®æŠ€æœ¯ç»„ä»¶æ¨¡å—ï¼š æ•°æ®è®¿é—®æ¥å£ åå°è¿›ç¨‹è¿è¡Œæ¨¡å‹ å®¹é”™å¹³å°æ¶æ„ æ•°æ®å¯è§†åŒ– å…¬å…±æœåŠ¡æ¡†æ¶ ç›‘æ§ç®¡ç† ç»Ÿä¸€çš„æ•°æ®æ ¼å¼ ç›‘æ§æ•°æ®å®šä¹‰ ç»Ÿä¸€å±•ç¤º æ—¥å¿—ç®¡ç† æ—¶é—´ç®¡ç† æ’®åˆåº”ç”¨æ¡†æ¶ è¡Œæƒ…å¤„ç†åº”ç”¨æ¡†æ¶ äº¤æ˜“æ§åˆ¶æ¶æ„ å¤§å‹ç½‘ç«™ç³»ç»Ÿç‰¹ç‚¹ é«˜å¹¶å‘ï¼Œå¤§æµé‡ é«˜å¯ç”¨ ç”¨æˆ·åˆ†å¸ƒå¹¿æ³› éœ€æ±‚å¿«é€Ÿå˜æ›´ å‘å¸ƒé¢‘ç¹ æµ·é‡æ•°æ® å®‰å…¨ç¯å¢ƒæ¶åŠ£ æ¸è¿›å¼å‘å±•","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"},{"name":"Zju","slug":"Zju","permalink":"https://nymrli.top/tags/Zju/"}]},{"title":"åˆ›å»ºVueå·¥ç¨‹ï¼ˆåŒ…å«Vue2å’ŒVue3ï¼‰","slug":"åˆ›å»ºVueå·¥ç¨‹ï¼ˆåŒ…å«Vue2å’ŒVue3ï¼‰","date":"2021-12-08T08:28:19.000Z","updated":"2021-12-08T08:28:51.443Z","comments":true,"path":"2021/12/08/åˆ›å»ºVueå·¥ç¨‹ï¼ˆåŒ…å«Vue2å’ŒVue3ï¼‰/","link":"","permalink":"https://nymrli.top/2021/12/08/åˆ›å»ºVueå·¥ç¨‹ï¼ˆåŒ…å«Vue2å’ŒVue3ï¼‰/","excerpt":"","text":"@vue/cli-init vue init æ˜¯vue-cli2.xçš„åˆå§‹åŒ–æ–¹å¼ vue init ï¼š éœ€è¦npm i -g @vue/cli-init vue init webpack [project-name], webpackä¸ºæ¨¡æ¿&lt;generate a project from a remote template&gt;ï¼Œç„¶åæŒ‰ç…§äº¤äº’ä¿¡æ¯æç¤ºè¾“å…¥å³å¯å®Œæˆå·¥ç¨‹åˆ›å»º initåˆ›å»ºå·¥ç¨‹æ—¶ï¼Œäº¤äº’ä¿¡æ¯ä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯é€‰æ‹©åŒ…ç®¡ç†å·¥å…·ï¼š npmã€yarnï¼Œä¸¤è€…è§ @vue/cli ä¼šè®©é€‰æ‹©Vue2è¿˜æ˜¯Vue3 vue create router_project: éœ€è¦npm install -g @vue/cli vue uié€šè¿‡UIåˆ›å»ºï¼š éœ€è¦npm install -g @vue/cli vue create [project-name] æ³¨ï¼šç»æµ‹è¯•ï¼ŒVue CLI v4.5.15ä¼šæç¤ºé€‰æ‹©yarnè¿˜æ˜¯npmï¼›@vue/cli 4.5.13æ²¡æç¤º==&gt;åæ¥å‘ç°è²Œä¼¼æ˜¯å¹³å°çš„åŒºåˆ«ï¼Œlinuxä¸Šä¼šæç¤ºé€‰æ‹©ï¼Œwinä¸Šé»˜è®¤æ˜¯yarn Vue CLI çš„åŒ…åç§°ç”±vue-cliå·²ç»æ”¹æˆäº†@vue/cliï¼Œå¦‚æœé€šè¿‡vue-cliæ¥æ„å»ºVue3é¡¹ç›®åˆ™éœ€è¦é€šè¿‡ npm uninstall vue-cli -g æˆ– yarn global remove vue-cli å¸è½½å®ƒï¼Œç„¶åå®‰è£…@vue/cliï¼Œå¹¶ä¸”@vue/cliå®‰è£…å¥½åï¼Œå¦‚æœä¸å®‰è£…yarnï¼Œé‚£ä¹ˆåœ¨vue createåˆ›å»ºçš„æ—¶å€™æŠ¥é”™ERROR Error: spawn yarn ENOENT npm init vite-app hello-vue Vue3åˆšå‘å¸ƒä¸ä¹…ï¼Œå®˜æ–¹æ–‡æ¡£ä¸­æ¨èçš„åˆ›å»ºæ–¹æ³•ä¹‹ä¸€å°±æ˜¯é€šè¿‡è„šæ‰‹æ¶Viteæ¥åˆ›å»ºä¸€ä¸ªvue3é¡¹ç›® éœ€è¦å®‰è£…create-vite-app 123456$ npm init vite-app vue3-vite Scaffolding project in F:\\Documents\\HBuilderProjects\\vue3-vite...Done. Now run:$ cd vue3-vite$ npm install (or `yarn`)$ npm run dev (or `yarn dev`) å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ—¶éœ€è¦è¿›å…¥é¡¹ç›®ç›®å½•åï¼Œé‡Œé¢æ²¡æœ‰package-lockæˆ–è€…yarn.locaï¼Œè€Œæ˜¯éœ€è¦è‡ªå·±ä¸»åŠ¨é€‰æ‹©åŒ…ç®¡ç†å·¥å…·è¿›è¡Œå®‰è£…ä¾èµ–çš„ï¼›vue createå’Œvue initçš„ä¸éœ€è¦å¯ä»¥ç›´æ¥è¿è¡Œ @vitejs/app npm init @vitejs/appç„¶åé€‰æ‹©projectçš„æ¡†æ¶ æ³¨ï¼š2æ—¢å¯ä»¥åˆ›å»ºVue2ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºvue3ï¼›3åªèƒ½åˆ›å»ºvue3ï¼›åœ¨åˆ›å»ºé€Ÿåº¦ä¸Šï¼Œæ³•3æ¯”æ³•2å¿«ä¸Šå¾ˆå¤š","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"Vue","slug":"Vue","permalink":"https://nymrli.top/tags/Vue/"}]},{"title":"NodeJSåŒ…ç®¡ç†å·¥å…·","slug":"NodeJSåŒ…ç®¡ç†å·¥å…·","date":"2021-12-08T08:25:47.000Z","updated":"2021-12-08T08:27:06.008Z","comments":true,"path":"2021/12/08/NodeJSåŒ…ç®¡ç†å·¥å…·/","link":"","permalink":"https://nymrli.top/2021/12/08/NodeJSåŒ…ç®¡ç†å·¥å…·/","excerpt":"","text":"åŒ…ç®¡ç†å·¥å…· npm npm install &lt;package_name&gt; --dev npm initç„¶åæ ¹æ®äº¤äº’ä¿¡æ¯åˆ›å»ºå·¥ç¨‹ npm install æ ¹æ®ç›®å½•ä¸‹package.jsonå®‰è£…ä¾èµ– npm run devæ‰§è¡Œpackage.jsonä¸­å®šä¹‰çš„scripts.devæŒ‡ä»¤ yarn yarn add &lt;package_name&gt; --dev yarn initç„¶åæ ¹æ®äº¤äº’ä¿¡æ¯åˆ›å»ºå·¥ç¨‹ yarn æ ¹æ®ç›®å½•ä¸‹package.jsonå®‰è£…ä¾èµ– yarn run devæ‰§è¡Œpackage.jsonä¸­å®šä¹‰çš„scripts.devæŒ‡ä»¤ å…±åŒç‚¹ï¼š ä¸¤ä¸ªåœ¨initåˆ›å»ºå¥½åï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªé…ç½®æ–‡ä»¶package.json å®‰è£…ä¾èµ–åéƒ½ä¼šç”Ÿæˆä¾èµ–ç®¡ç†æ–‡ä»¶å¤¹ï¼šnode_module/ ä¸åŒç‚¹ï¼šå®‰è£…ä¾èµ–åï¼Œnpmç”Ÿæˆçš„ä¾èµ–ç®¡ç†æ–‡ä»¶ä¸ºpackage-lock.jsonï¼›yarnçš„ä¸ºpackage.lock npmå‚æ•°åŒºåˆ« npm install moduleName å‘½ä»¤ å®‰è£…æ¨¡å—åˆ°é¡¹ç›®node_modulesç›®å½•ä¸‹ã€‚ ä¸ä¼šå°†æ¨¡å—ä¾èµ–å†™å…¥devDependenciesæˆ–dependencies èŠ‚ç‚¹ã€‚ è¿è¡Œ npm install åˆå§‹åŒ–é¡¹ç›®æ—¶ä¸ä¼šä¸‹è½½æ¨¡å—ã€‚ npm install -g moduleName å‘½ä»¤ å®‰è£…æ¨¡å—åˆ°å…¨å±€ï¼Œä¸ä¼šåœ¨é¡¹ç›®node_modulesç›®å½•ä¸­ä¿å­˜æ¨¡å—åŒ…ã€‚ ä¸ä¼šå°†æ¨¡å—ä¾èµ–å†™å…¥devDependenciesæˆ–dependencies èŠ‚ç‚¹ã€‚ è¿è¡Œ npm install åˆå§‹åŒ–é¡¹ç›®æ—¶ä¸ä¼šä¸‹è½½æ¨¡å—ã€‚ npm install --save moduleName å‘½ä»¤ å®‰è£…æ¨¡å—åˆ°é¡¹ç›®node_modulesç›®å½•ä¸‹ã€‚ ä¼šå°†æ¨¡å—ä¾èµ–å†™å…¥dependencies èŠ‚ç‚¹ã€‚ è¿è¡Œ npm install åˆå§‹åŒ–é¡¹ç›®æ—¶ï¼Œä¼šå°†æ¨¡å—ä¸‹è½½åˆ°é¡¹ç›®ç›®å½•ä¸‹ã€‚ è¿è¡Œnpm install --productionæˆ–è€…æ³¨æ˜NODE_ENVå˜é‡å€¼ä¸ºproductionæ—¶ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å—åˆ°node_modulesç›®å½•ä¸­ã€‚ npm install --save-dev moduleName å‘½ä»¤ å®‰è£…æ¨¡å—åˆ°é¡¹ç›®node_modulesç›®å½•ä¸‹ã€‚ ä¼šå°†æ¨¡å—ä¾èµ–å†™å…¥devDependencies èŠ‚ç‚¹ã€‚ è¿è¡Œ npm install åˆå§‹åŒ–é¡¹ç›®æ—¶ï¼Œä¼šå°†æ¨¡å—ä¸‹è½½åˆ°é¡¹ç›®ç›®å½•ä¸‹ã€‚ è¿è¡Œnpm install --productionæˆ–è€…æ³¨æ˜NODE_ENVå˜é‡å€¼ä¸ºproductionæ—¶ï¼Œä¸ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å—åˆ°node_modulesç›®å½•ä¸­ã€‚ æ³¨ï¼š npm install packageName --saveã€yarn add packageName --dev npm ä¸ yarn å‘½ä»¤æ¯”è¾ƒï¼š NPM YARN è¯´æ˜ npm init yarn init åˆå§‹åŒ–æŸä¸ªé¡¹ç›® npm install / link yarn install/link é»˜è®¤çš„å®‰è£…ä¾èµ–æ“ä½œ npm install taco --save yarn add taco å®‰è£…æŸä¸ªä¾èµ–ï¼Œå¹¶ä¸”é»˜è®¤ä¿å­˜åˆ°package npm uninstall taco --save yarn remove taco ç§»é™¤æŸä¸ªä¾èµ–é¡¹ç›® npm install taco --save-dev yarn add taco --dev å®‰è£…æŸä¸ªå¼€å‘æ—¶ä¾èµ–é¡¹ç›® npm update taco --save yarn upgrade taco æ›´æ–°æŸä¸ªä¾èµ–é¡¹ç›® npm install taco --global yarn global add taco å®‰è£…æŸä¸ªå…¨å±€ä¾èµ–é¡¹ç›® npm publish/login/logout yarn publish/login/logout å‘å¸ƒ/ç™»å½•/ç™»å‡ºï¼Œä¸€ç³»åˆ—NPM Registryæ“ä½œ npm run/test yarn run/test è¿è¡ŒæŸä¸ªå‘½ä»¤ Vueä¸­publicå’Œassetsæ–‡ä»¶å¤¹ ä¸¤è€…éƒ½æ˜¯vue-cli3.0çš„æ”¾ç½®é™æ€èµ„æºçš„ç›®å½•ã€‚ publicå¤„äºå·¥ç¨‹æ ¹ç›®å½•ä¸‹ï¼›assetså¤„äºæ ¹ç›®å½•srcä¸‹ï¼Œå³src/assets publicæ”¾ä¸ä¼šæ”¹åŠ¨çš„æ–‡ä»¶ï¼Œè¿™é‡Œé¢çš„å†…å®¹å¯ä»¥ä½¿å¼•ç”¨çš„ï¼Œä¸æ˜¯ç”±è‡ªå·±ç¼–å†™çš„å†…å®¹ï¼ˆå³ç¬¬ä¸‰æ–¹çš„ï¼‰ã€‚åŸºæœ¬ä¸ä¼šæ”¹åŠ¨çš„å†…å®¹ï¼ˆå‚è€ƒvue-cli2.xä¸­çš„staticï¼‰ public/ ç›®å½•ä¸‹çš„æ–‡ä»¶å¹¶ä¸ä¼šè¢«Webpackå¤„ç†ï¼Œå®ƒä»¬ä¼šç›´æ¥è¢«å¤åˆ¶åˆ°æœ€ç»ˆçš„æ‰“åŒ…ç›®å½•ï¼ˆé»˜è®¤æ˜¯dist/staticï¼‰ä¸‹ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„å¼•ç”¨è¿™äº›æ–‡ä»¶ã€‚å½“ç„¶è¿™ä¸ªå–å†³äºä½ vue.config.jsä¸­publicPathçš„é…ç½®ï¼Œé»˜è®¤çš„æ˜¯/ï¼Œï¼ˆä½ å¯ä»¥è‡ªå·±å»vue.config.js ä¸­ä¿®æ”¹ä½ çš„publicPathé…ç½®ï¼Œå»ºè®®ä¸è¦ä¿®æ”¹ã€‚ï¼‰ assetsæ”¾å¯èƒ½ä¼šå˜åŠ¨çš„æ–‡ä»¶ï¼ˆè‡ªå·±çš„é™æ€æ–‡ä»¶jsã€pngï¼Œè‡ªå·±å†™çš„jsæ–‡ä»¶ç­‰ç­‰å¯èƒ½éœ€è¦æ”¹åŠ¨çš„æ–‡ä»¶ï¼‰ assetsç›®å½•ä¸­çš„æ–‡ä»¶ä¼šè¢«webpackå¤„ç†è§£æä¸ºæ¨¡å—ä¾èµ–ï¼Œåªæ”¯æŒç›¸å¯¹è·¯å¾„å½¢å¼ã€‚ nodejsç‰ˆæœ¬ç®¡ç†å·¥å…·â€”â€”nvm https://github.com/nvm-sh/nvm#installing-and-updating 123456# Step1curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash# orwget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash# Step2~/.bashrc å¦‚æœä¸‹è½½ä¸ä¸‹æ¥ï¼Œå¯ä»¥åœ¨windowsä¸Šç”¨dev-sidecarè®¿é—®ç½‘é¡µï¼Œç„¶åctrl+sä¿å­˜å‘ç»™æœåŠ¡å™¨ï¼Œå†./install.shè¿è¡Œï¼ŒæŠŠä»“åº“cloneåˆ°~/.nvmä¸‹ 12345672082 2021-12-08 00:05:30 nvm list2085 2021-12-08 00:06:36 nvm ls-remote# å®‰è£…æœ€æ–°çš„LTSç‰ˆæœ¬Nodejs2086 2021-12-08 00:07:13 nvm install --lts$ node -v$ nvm current$ npm -v [nvmå‘½ä»¤åŠè§£é‡Š](","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"}]},{"title":"Js-ShortCode","slug":"Js-ShortCode","date":"2021-12-07T11:18:50.000Z","updated":"2021-12-07T11:56:46.426Z","comments":true,"path":"2021/12/07/Js-ShortCode/","link":"","permalink":"https://nymrli.top/2021/12/07/Js-ShortCode/","excerpt":"","text":"jsåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º æœ€è¿‘å†™äº†ç‚¹å‰ç«¯ä»£ç ï¼Œè®°å½•ä¸€ä¸‹å¸¸ç”¨çš„shortCode 12345678910111213// æ–¹æ³•ä¸€ï¼šç›´æ¥ä½¿ç”¨æ¡ä»¶è¯­å¥ifåˆ¤æ–­function isEmpty(str) &#123; if(typeof str== null || str== \"\" || str== \"undefined\") &#123; return true; &#125; else &#123; return false; &#125;&#125;// æ–¹æ³•äºŒï¼šæ ¹æ®å­—ç¬¦ä¸²çš„lengthæ¥åˆ¤æ–­var strings = ''; if (string.length == 0) &#123; alert('ä¸èƒ½ä¸ºç©º'); &#125; jsä¸­å’Œ=åŒºåˆ« ç®€å•æ¥è¯´ï¼š == ä»£è¡¨ç›¸åŒï¼Œ ===ä»£è¡¨ä¸¥æ ¼ç›¸åŒ, ä¸ºå•¥è¿™ä¹ˆè¯´å‘¢ï¼Œ è¿™ä¹ˆç†è§£ï¼š å½“è¿›è¡ŒåŒç­‰å·æ¯”è¾ƒæ—¶å€™ï¼š å…ˆæ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°æ•°æ®ç±»å‹ï¼Œå¦‚æœç›¸åŒï¼Œ åˆ™è¿›è¡Œ===æ¯”è¾ƒï¼Œ å¦‚æœä¸åŒï¼Œ åˆ™è‡ªåŠ¨è¿›è¡Œä¸€æ¬¡ç±»å‹è½¬æ¢ï¼Œ è½¬æ¢æˆç›¸åŒç±»å‹åå†è¿›è¡Œæ¯”è¾ƒï¼Œ è€Œ===æ¯”è¾ƒæ—¶ï¼Œ å¦‚æœç±»å‹ä¸åŒï¼Œç›´æ¥å°±æ˜¯false. åŒç­‰å·==ï¼š å¦‚æœä¸¤ä¸ªå€¼ç±»å‹ç›¸åŒï¼Œå†è¿›è¡Œä¸‰ä¸ªç­‰å·(===)çš„æ¯”è¾ƒ å¦‚æœä¸¤ä¸ªå€¼ç±»å‹ä¸åŒï¼Œä¹Ÿæœ‰å¯èƒ½ç›¸ç­‰ï¼Œéœ€æ ¹æ®ä»¥ä¸‹è§„åˆ™è¿›è¡Œç±»å‹è½¬æ¢åœ¨æ¯”è¾ƒï¼š å¦‚æœä¸€ä¸ªæ˜¯nullï¼Œä¸€ä¸ªæ˜¯undefinedï¼Œé‚£ä¹ˆç›¸ç­‰ å¦‚æœä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œä¸€ä¸ªæ˜¯æ•°å€¼ï¼ŒæŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å€¼ä¹‹åå†è¿›è¡Œæ¯”è¾ƒ ä¸‰ç­‰å·===: å¦‚æœç±»å‹ä¸åŒï¼Œå°±ä¸€å®šä¸ç›¸ç­‰ å¦‚æœä¸¤ä¸ªéƒ½æ˜¯æ•°å€¼ï¼Œå¹¶ä¸”æ˜¯åŒä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆç›¸ç­‰ï¼›å¦‚æœå…¶ä¸­è‡³å°‘ä¸€ä¸ªæ˜¯NaNï¼Œé‚£ä¹ˆä¸ç›¸ç­‰ã€‚ï¼ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯NaNï¼Œåªèƒ½ä½¿ç”¨isNaN( ) æ¥åˆ¤æ–­ï¼‰ å¦‚æœä¸¤ä¸ªéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªä½ç½®çš„å­—ç¬¦éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆç›¸ç­‰ï¼Œå¦åˆ™ä¸ç›¸ç­‰ã€‚ å¦‚æœä¸¤ä¸ªå€¼éƒ½æ˜¯trueï¼Œæˆ–æ˜¯falseï¼Œé‚£ä¹ˆç›¸ç­‰ å¦‚æœä¸¤ä¸ªå€¼éƒ½å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡æˆ–æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆç›¸ç­‰ï¼Œå¦åˆ™ä¸ç›¸ç­‰ å¦‚æœä¸¤ä¸ªå€¼éƒ½æ˜¯nullï¼Œæˆ–æ˜¯undefinedï¼Œé‚£ä¹ˆç›¸ç­‰ æ‹·è´ 1. æµ…æ‹·è´ 123456789101112// æ³•ä¸€ï¼šå°†çˆ¶å¯¹è±¡çš„å±æ€§ï¼Œé€šè¿‡èµ‹å€¼æ‹·è´ç»™å­å¯¹è±¡ã€‚function copy(origin) &#123; let target = &#123;&#125;; for (let i in origin) &#123; target[i] = origin[i]; &#125; return target;&#125;// æ³•äºŒï¼šObjece.assign(): æ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°æ–°çš„ç›®æ ‡å¯¹è±¡ã€‚let target = Object.assign(&#123;&#125;, origin);// æ³•ä¸‰ï¼šæ‰©å±•è¿ç®—ç¬¦: ES2018 ä¸­å°†...æ‰©å±•è¿ç®—ç¬¦å¼•å…¥äº†å¯¹è±¡ã€‚äºæ˜¯å®ç°æµ…æ‹·è´çš„è¯­æ³•æ›´ä¸ºç®€å•ã€‚let target = &#123; ...origin &#125;; more: åŒ…å«[åŸå‹å±æ€§]ä¸€èµ·æ‹·è´: https://zhuanlan.zhihu.com/p/45249918 2.æ·±æ‹·è´ 1234567891011121314151617181920212223242526272829303132333435363738// æ³•ä¸€:JSON.parse:è¿™æ˜¯ä¸€ç§å¾ˆå¤è€çš„æ–¹æ³•ï¼Œé€šè¿‡å°†å¯¹è±¡è½¬åŒ–ä¸º JSONï¼Œå†è½¬åŒ–ä¸ºå¯¹è±¡æ¥å®ç°æ‹·è´ï¼Œå…·ä½“çš„åšæ³•æ˜¯è¿™æ ·çš„,è¿™æ ·è™½ç„¶ç®€å•ï¼Œä½†æœ‰ä½†æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼šä¸€æ˜¯ä¸æ”¯æŒFunctionã€Dateç­‰æ•°æ®ç±»å‹ï¼›äºŒæ˜¯ä¸æ”¯æŒå¾ªç¯å¼•ç”¨ã€‚let target = JSON.parse(JSON.stringify(origin));// æ³•äºŒ: é€’å½’éå†:ä¸æµ…æ‹·è´çš„åŸºæœ¬ç›¸åŒï¼Œä¹Ÿéœ€è¦é€šè¿‡éå†å¯¹è±¡å±æ€§ã€‚åªæ˜¯åœ¨é‡åˆ°ä¸€ä¸ª Objectå±æ€§æ—¶ï¼Œéœ€è¦å†æ¬¡è°ƒç”¨æ‹·è´å‡½æ•°ã€‚// å®šä¹‰ä¸€ä¸ªæ·±æ‹·è´å‡½æ•° æ¥æ”¶ç›®æ ‡targetå‚æ•°function deepClone(target) &#123; // å®šä¹‰ä¸€ä¸ªå˜é‡ let result; // å¦‚æœå½“å‰éœ€è¦æ·±æ‹·è´çš„æ˜¯ä¸€ä¸ªå¯¹è±¡çš„è¯ if (typeof target === 'object') &#123; // å¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„çš„è¯ if (Array.isArray(target)) &#123; result = []; // å°†resultèµ‹å€¼ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”æ‰§è¡Œéå† for (let i in target) &#123; // é€’å½’å…‹éš†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ result.push(deepClone(target[i])) &#125; // åˆ¤æ–­å¦‚æœå½“å‰çš„å€¼æ˜¯nullçš„è¯ï¼›ç›´æ¥èµ‹å€¼ä¸ºnull &#125; else if (target === null) &#123; result = null; // åˆ¤æ–­å¦‚æœå½“å‰çš„å€¼æ˜¯ä¸€ä¸ªRegExpå¯¹è±¡çš„è¯ï¼Œç›´æ¥èµ‹å€¼ &#125; else if (target.constructor === RegExp) &#123; result = target; &#125; else &#123; // å¦åˆ™æ˜¯æ™®é€šå¯¹è±¡ï¼Œç›´æ¥for inå¾ªç¯ï¼Œé€’å½’èµ‹å€¼å¯¹è±¡çš„æ‰€æœ‰å€¼ result = &#123;&#125;; for (let i in target) &#123; result[i] = deepClone(target[i]); &#125; &#125; // å¦‚æœä¸æ˜¯å¯¹è±¡çš„è¯ï¼Œå°±æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆç›´æ¥èµ‹å€¼ &#125; else &#123; result = target; &#125; // è¿”å›æœ€ç»ˆç»“æœ return result;&#125;// æ³•ä¸‰: ç»“æ„åŒ–æ‹·è´// æ³•å››ï¼šLodashä¸€ä¸ªå®ç”¨çš„ç¬¬ä¸‰æ–¹ JavaScript å·¥å…·åº“ã€‚ å«Œè‡ªå·±å†™æ–¹æ³•éº»çƒ¦çš„è¯ï¼Œå°±ç›´æ¥å»ç”¨å®ƒçš„defaultsdeepæ–¹æ³•å§ã€‚ è§ï¼š https://zhuanlan.zhihu.com/p/45249918 åœ¨forEachå¾ªç¯é‡Œå¤´ä½¿ç”¨splice()é‡åˆ°çš„å‘ forEachè‡ªå¸¦ç´¢å¼•çš„å¢åŠ è§„åˆ™ï¼Œä½†æ˜¯spliceåæ•°ç»„çš„ç´¢å¼•éƒ½ä¼šæ”¹å˜ï¼Œå¯¼è‡´æœ‰å…ƒç´ ä¼šè¢«è·³è¿‡ï¼Œå› æ­¤éœ€è¦è‡ªå®šä¹‰ç´¢å¼•çš„å¢åŠ è§„åˆ™ åº”ç”¨å¦‚ä¸‹ï¼š é€’å½’å»æ‰Arrayä¸­obj.hide==trueçš„å…ƒç´  1234567891011121314151617// è¿‡æ»¤æ‰routesä¸­hideä¸ºtrueçš„è·¯ç”±function filterNavs(ary) &#123; let i = 0 while (i &lt; ary.length)&#123; if ( ary[i].children )&#123; filterNavs(ary[i].children) i++ &#125;else if ( typeof(ary[i], Number))&#123; if ( ary[i].hide == true )&#123; ary.splice(i, 1); &#125;else&#123; i ++ &#125; &#125; &#125; return ary&#125; javascript æ•°ç»„(list)æ·»åŠ /åˆ é™¤çš„å®ç° javascript æ•°ç»„Arrayï¼ˆlistï¼‰æ·»åŠ /åˆ é™¤ unshiftï¼šå°†å‚æ•°æ·»åŠ åˆ°åŸæ•°ç»„å¼€å¤´ï¼Œå¹¶è¿”å›æ•°ç»„çš„é•¿åº¦ popï¼šåˆ é™¤åŸæ•°ç»„æœ€åä¸€é¡¹ï¼Œå¹¶è¿”å›åˆ é™¤å…ƒç´ çš„å€¼ï¼›å¦‚æœæ•°ç»„ä¸ºç©ºåˆ™è¿”å›undefined pushï¼šå°†å‚æ•°æ·»åŠ åˆ°åŸæ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›æ•°ç»„çš„é•¿åº¦ concatï¼šç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«å·²è¿æ¥æ•°ç»„çš„å€¼ã€‚ splice(start,deleteCount,val1,val2,â€¦)ï¼šä»startä½ç½®å¼€å§‹åˆ é™¤deleteCounté¡¹ï¼Œå¹¶ä»è¯¥ä½ç½®èµ·æ’å…¥val1,val2,â€¦splice() æ–¹æ³•ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚==&gt;more: http://c.biancheng.net/view/5668.html reverseï¼šå°†æ•°ç»„ååº sort(orderfunction)ï¼šæŒ‰æŒ‡å®šçš„å‚æ•°å¯¹æ•°ç»„è¿›è¡Œæ’åº slice(start,end)ï¼šè¿”å›ä»åŸæ•°ç»„ä¸­æŒ‡å®šå¼€å§‹ä¸‹æ ‡åˆ°ç»“æŸä¸‹æ ‡ä¹‹é—´çš„é¡¹ç»„æˆçš„æ–°æ•°ç»„ 6ã€æ•°ç»„çš„æ‹·è´ 12arrayObj.slice(0); //è¿”å›æ•°ç»„çš„æ‹·è´æ•°ç»„ï¼Œæ³¨æ„æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¸æ˜¯æŒ‡å‘arrayObj.concat(); //è¿”å›æ•°ç»„çš„æ‹·è´æ•°ç»„ï¼Œæ³¨æ„æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¸æ˜¯æŒ‡å‘ 7ã€æ•°ç»„å…ƒç´ çš„æ’åº 12arrayObj.reverse(); //åè½¬å…ƒç´ ï¼ˆæœ€å‰çš„æ’åˆ°æœ€åã€æœ€åçš„æ’åˆ°æœ€å‰ï¼‰ï¼Œè¿”å›æ•°ç»„åœ°å€arrayObj.sort(); //å¯¹æ•°ç»„å…ƒç´ æ’åºï¼Œè¿”å›æ•°ç»„åœ°å€ 8ã€æ•°ç»„å…ƒç´ çš„å­—ç¬¦ä¸²åŒ– 1arrayObj.join(separator); //è¿”å›å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å°†æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ å€¼è¿æ¥åœ¨ä¸€èµ·ï¼Œä¸­é—´ç”¨ separator éš”å¼€ã€‚ from: https://www.jb51.net/article/202307.htm 12345678910111213// Spliceç¤ºä¾‹: // æ·»åŠ : å¦‚æœä¸æ‰§è¡Œåˆ é™¤æ“ä½œï¼Œç¬¬ 2 ä¸ªå‚æ•°å€¼åº”è¯¥è®¾ç½®ä¸º 0ï¼Œä½†æ˜¯ä¸èƒ½å¤Ÿç©ºç¼ºï¼Œå¦åˆ™è¯¥æ–¹æ³•æ— æ•ˆã€‚ const months = ['Jan', 'March', 'April', 'June'];months.splice(1, 0, 'Feb');// inserts at index 1console.log(months);// expected output: Array [\"Jan\", \"Feb\", \"March\", \"April\", \"June\"] // è¾¹åˆ é™¤è¾¹æ·»åŠ : splice() æ–¹æ³•çš„åˆ é™¤å’Œæ’å…¥æ“ä½œæ˜¯åŒæ—¶è¿›è¡Œçš„ï¼Œä¸”æ˜¯åœ¨åŸæ•°ç»„åŸºç¡€ä¸Šæ‰§è¡Œæ“ä½œã€‚months.splice(4, 1, 'May');// replaces 1 element at index 4console.log(months);// expected output: Array [\"Jan\", \"Feb\", \"March\", \"April\", \"May\"] fromï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice JSåˆ é™¤å¯¹è±¡ä¸­çš„æŸä¸€å±æ€§ 123456var obj=&#123; name: 'zhagnsan', age: 19 &#125;delete obj.name //truetypeof obj.name //undefined æ•°ç»„ä¸­ä½¿ç”¨delete åœ¨æ•°ç»„ä¸­ï¼Œä¸æ™®é€šçš„æ—§å¯¹è±¡ä¸åŒï¼Œä½¿ç”¨deleteåœ¨è¡¨å•ä¸­ç•™ä¸‹åƒåœ¾ï¼Œnullåœ¨æ•°ç»„ä¸­åˆ›å»ºä¸€ä¸ªâ€œæ´â€, è€Œä¸”lengthä¸å˜ 12345var array = [1, 2, 3, 4];delete array[2];/* Expected result --&gt; [1, 2, 4] * Actual result --&gt; [1, 2, null, 4] */ jséå†å¯¹è±¡çš„å‡ ç§æ–¹æ³• 12345678910111213141516171819202122232425262728293031// ç¬¬ä¸€ç§ï¼š for......inconst obj = &#123; id:1, name:'zhangsan', age:18&#125; for(let key in obj)&#123; console.log(key + '---' + obj[key]) &#125;/**ç¬¬äºŒç§ï¼š1ï¼‰ã€Object.keysï¼ˆobjï¼‰2ï¼‰ã€Object.valuesï¼ˆobjï¼‰*/console.log(Object.keys(obj)) // ['id','name','age']console.log(Object.values(obj)) // ['1','zhangsan','18']Object.keys(obj).forEach(function(key)&#123; console.log(key,obj[key]);&#125;);// ç¬¬ä¸‰ç§ï¼šä½¿ç”¨Object.getOwnPropertyNames(obj)/**è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆåŒ…å«ä¸å¯æšä¸¾å±æ€§ï¼‰éå†å¯ä»¥è·å–keyå’Œvalue*/Object.getOwnPropertyNames(obj).forEach(function(key)&#123; console.log(key+ '---'+obj[key])&#125;)// 4ã€ä½¿ç”¨Reflect.ownKeys(obj)éå†var obj = &#123;'0':'a','1':'b','2':'c'&#125;;Reflect.ownKeys(obj).forEach(function(key)&#123; console.log(key,obj[key]);&#125;); javaScriptéå†æ•°ç»„æ€»ç»“ 123456789101112131415161718// 1ã€ä½¿ç”¨forEachéå†var arr=[1,2,3,4];arr.forEach(function(val, index) &#123; console.log(val, index);&#125;);// 2ã€ä½¿ç”¨for..in..éå†var arr=[\"å¼ ä¸‰\",\"æå››\",\"ç‹äº”\",\"èµµå…­\"];for (var i in arr)&#123; console.log(i,\":\",arr[i]);&#125;/**3ã€ä½¿ç”¨for-oféå† ä¸ä»…æ”¯æŒæ•°ç»„ï¼Œè¿˜æ”¯æŒå¤§å¤šæ•°ç±»æ•°ç»„å¯¹è±¡ï¼Œä¾‹å¦‚DOM NodeListå¯¹è±¡. ä¹Ÿæ”¯æŒå­—ç¬¦ä¸²éå†ï¼Œå®ƒå°†å­—ç¬¦ä¸²è§†ä¸ºä¸€ç³»åˆ—çš„Unicodeå­—ç¬¦æ¥è¿›è¡Œéå†.*/for (var value of arr)&#123; console.log(value);&#125; å°†å¯¹è±¡è½¬æˆURL-Params 1234567891011121314151617181920212223242526272829const _parse2Params = function(data, isPrefix = false) &#123; let prefix = isPrefix ? '?' : '' let _result = [] for (let key in data) &#123; let value = data[key] // å»æ‰ä¸ºç©ºçš„å‚æ•° if (['', undefined, null].includes(value)) &#123; continue &#125; if (value.constructor === Array) &#123; value.forEach(_value =&gt; &#123; _result.push(encodeURIComponent(key) + '[]=' + encodeURIComponent(_value)) &#125;) &#125; else &#123; _result.push(encodeURIComponent(key) + '=' + encodeURIComponent(value)) &#125; &#125; return _result.length ? prefix + _result.join('&amp;') : ''&#125;const combileURLandParams = function(url, params) &#123; if (Object.getOwnPropertyNames(params).length != 0) &#123; return url + \"?\" + _parse2Params(params) &#125; else &#123; return url &#125;&#125; æ ¹æ®Jsonæ•°æ®åŠ¨æ€ç”Ÿæˆè¡¨å• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596&lt;template&gt; &lt;h1&gt;&#123;&#123; $route.params.template &#125;&#125; &lt;/h1&gt; &lt;div class=&quot;form-table-div&quot;&gt; &lt;n-form style=&quot;width: 500px;&quot; :model=&quot;configData.data&quot; :label-width=&quot;120&quot; ref=&quot;formRef&quot;&gt; &lt;!-- configä¸ºæ¯ä¸€ä¸ªé…ç½®é¡¹ --&gt; &lt;template v-for=&quot;(val, key, i) in configData.data&quot; :key=key&gt; &lt;n-form-item size=&apos;large&apos; :label=&quot;key&quot;&gt; &lt;n-input v-model:value=&quot;configData.data[key]&quot; :placeholder=&quot;val&quot; /&gt; &lt;/n-form-item&gt; &lt;/template&gt; &lt;/n-form&gt; &lt;/div&gt; &lt;div style=&quot;display: flex; justify-content: center;&quot;&gt; &lt;n-button round type=&quot;primary&quot; @click=&quot;generate&quot;&gt; ç”Ÿæˆ &lt;/n-button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import &#123; defineComponent, ref, onMounted, reactive, computed &#125; from &apos;vue&apos; import &#123; useRoute &#125; from &quot;vue-router&quot; import &#123; getOption, doGenerte &#125; from &quot;../api/index.js&quot; import &#123; combileURLandParams &#125; from &quot;../utils/index.js&quot; function simplyData(params, str) &#123; const res = &#123;&#125; for (let key in params) &#123; if (!key.includes(str)) &#123; res[key] = params[key] &#125; &#125; return res &#125; export default defineComponent( setup() &#123; const route = useRoute() const template = ref(route.params.template) const formRef = ref(null) const message = useMessage() const configData = reactive(&#123; data: &#123;&#125; &#125;) onMounted( getConfigData() ) async function getConfigData() &#123; let result = await getOption(template.value); if (result.status === 200) &#123; let d = result.data.data if (d.length == 1) &#123; configData.data = simplyData(d[0], &quot;slug&quot;) &#125; &#125; &#125; async function generate() &#123; var a = document.createElement(&apos;a&apos;); let params = &#123; ...configData.data &#125; params.template = template.value var url = combileURLandParams(&quot;http://127.0.0.1:5501/api/v1/generate&quot;, params) a.href = url; a.click(); &#125; return &#123; formRef, configData, generate &#125; &#125; &#125;)&lt;/script&gt; jsä¸­çš„string.format 12345delete(ids) &#123; return Axios(`/bus/cloudRoleTeam/$&#123;ids&#125;`, &#123; method: 'delete' &#125;&#125;","categories":[],"tags":[{"name":"js","slug":"js","permalink":"https://nymrli.top/tags/js/"}]},{"title":"å‰åç«¯-å®ç°ä¸Šä¼ å’Œä¸‹è½½","slug":"å‰åç«¯-å®ç°ä¸Šä¼ å’Œä¸‹è½½","date":"2021-12-05T02:56:46.000Z","updated":"2021-12-05T04:06:54.873Z","comments":true,"path":"2021/12/05/å‰åç«¯-å®ç°ä¸Šä¼ å’Œä¸‹è½½/","link":"","permalink":"https://nymrli.top/2021/12/05/å‰åç«¯-å®ç°ä¸Šä¼ å’Œä¸‹è½½/","excerpt":"","text":"å‰ç«¯ ä¸Šä¼  å‰ç«¯ä¸Šä¼ ä¸»è¦æ˜¯æŠŠæ–‡ä»¶å‘é€è¿‡å»ï¼Œä¸€èˆ¬é‡‡ç”¨è¡¨å•çš„å½¢å¼ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥é’ˆå¯¹ä¸Šä¼ æ¥å£å‘é€è¯·æ±‚ è¡¨å• 123456&lt;form action=\"http://127.0.0.1:5000/\" enctype=\"multipart/form-data\"&gt; &lt;input type=\"file\" name=\"toupdate\"/&gt; # fileçš„inputä¸å…è®¸è®¾ç½®value &lt;input type=\"submit\" value=\"ä¸Šä¼ å’¯\" /&gt; # æŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—&lt;/form&gt;# actionä¸ºè¡¨å•è¦æäº¤åˆ°çš„è·¯å¾„, å¿…é¡»å¡«å†™ï¼Œå¦‚æœçœç•¥åˆ™é»˜è®¤å½“å‰é¡µé¢ é’ˆå¯¹æ¥å£ï¼Œå‘é€ç½‘ç»œè¯·æ±‚ ä¸‹è½½ aæ ‡ç­¾ 1234&lt;div&gt; &lt;h2&gt;æ³•ä¸€: é€šè¿‡`a`æ ‡ç­¾æ¥å®ç°ä¸‹è½½ &lt;/h2&gt; &lt;a href=\"http://127.0.0.1:5000/download\"&gt;ss&lt;/a&gt;&lt;/div&gt; æ­¤å¤–ï¼ŒHTML 5 é‡Œé¢ä¸º &lt;a&gt; æ ‡ç­¾æ·»åŠ äº†ä¸€ä¸ª download çš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“çš„åˆ©ç”¨å®ƒæ¥å®ç°ä¸‹è½½é‡å‘½åçš„åŠŸèƒ½ã€‚ 1234&lt;div&gt; &lt;h2&gt;æ³•ä¸€: é€šè¿‡`a`æ ‡ç­¾æ¥å®ç°ä¸‹è½½ &lt;/h2&gt; &lt;a href=\"http://127.0.0.1:5000/download\" download=\"something.txt\"&gt;ss&lt;/a&gt;&lt;/div&gt; JavaScript æ·»åŠ aå…ƒç´ å¹¶ç‚¹å‡» ç”¨ JavaScript æ¥ä¸‹è½½æ–‡ä»¶ä¹Ÿæ˜¯åˆ©ç”¨è¿™ä¸€ç‰¹æ€§æ¥å®ç°çš„ï¼Œæˆ‘ä»¬çš„ JavaScript ä»£ç ä¸å¤–ä¹å°±æ˜¯ï¼š ç”¨ JavaScript åˆ›å»ºä¸€ä¸ªéšè—çš„ &lt;a&gt; æ ‡ç­¾ è®¾ç½®å®ƒçš„ href å±æ€§ è®¾ç½®å®ƒçš„ download å±æ€§ ç”¨ JavaScript æ¥è§¦å‘è¿™ä¸ªå®ƒçš„ click äº‹ä»¶ ç¿»è¯‘æˆ JavaScript ä»£ç å°±æ˜¯ï¼š 1234567891011methods: &#123; downit()&#123; var a = document.createElement('a'); // å·²ç»çŸ¥é“ä¸‹è½½é“¾æ¥ var url = \"http://127.0.0.1:5000/download\" var filename = 'what-you-want.txt'; a.href = url; a.download = filename; a.click(); &#125;&#125; fetch + blob Blob å…¨ç§°æ˜¯ Binary large objectï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªç±»æ–‡ä»¶å¯¹è±¡ï¼Œå¯ä»¥ç”¨å®ƒæ¥è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶ã€‚æ ¹æ® MDN ä¸Šé¢çš„è¯´æ³•ï¼ŒFile API ä¹Ÿæ˜¯åŸºäº blob æ¥å®ç°çš„ã€‚ æˆ‘ä»¬æ„å»º blob çš„æ–¹å¼å°±æ˜¯é€šè¿‡æœåŠ¡å™¨è¿”å›çš„æ–‡ä»¶æ¥åˆ›å»º blob æ‹‰ï¼è€Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ç”¨ fetch API äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ•´åˆä¸Šé¢çš„ä¾‹å­ï¼š 123456789fetch('http://somehost/somefile.zip').then(res =&gt; res.blob().then(blob =&gt; &#123; var a = document.createElement('a'); var url = window.URL.createObjectURL(blob); var filename = 'myfile.zip'; a.href = url; a.download = filename; a.click(); window.URL.revokeObjectURL(url);&#125;)) å·²çŸ¥ä¸‹è½½æ¥å£URLï¼Œ å¹¶ä¼ å…¥ç›¸åº”çš„å‚æ•° 12345678910111213141516function downLoad(option)&#123; // ä¸‹è½½æ¥å£+è¯·æ±‚å‚æ•° fetch('http://somehost/download', options).then(res =&gt; &#123; if (res.code === 0) &#123; var a = document.createElement('a'); // å¾—åˆ°è¯·æ±‚æ–‡ä»¶å®Œæ•´çš„è¯·æ±‚è·¯å¾„ var url = res.data.url; var filename = 'myfile.zip'; a.href = url; a.download = filename; // w3c: value: filenameâ€”â€”è§„å®šè¢«ä¸‹è½½çš„è¶…é“¾æ¥ç›®æ ‡ã€‚ä»è¿™è¾¹ä¹Ÿå¯ä»¥çœ‹å‡ºå…¶å®å°±æ˜¯æŒ‡å®šæ–‡ä»¶å a.click(); &#125; else &#123; alert('You have no permission to download the file!'); &#125; &#125;);&#125; æµç¨‹ä¸ºï¼šé€šè¿‡åç«¯æœåŠ¡å™¨æ¥è®¡ç®—å‡ºç”¨æˆ·çš„ä¸‹è½½é“¾æ¥ï¼Œç„¶åå†åˆ©ç”¨ä¹‹å‰æåˆ°çš„åŠ¨æ€åˆ›å»º &lt;a&gt; æ ‡ç­¾çš„æ–¹å¼æ¥å®ç°ä¸‹è½½ è·Ÿ: JSå®ç°æ–‡ä»¶ä¸‹è½½çš„ä¸‰ç§æ–¹å¼â€”aæ ‡ç­¾ä¸‹è½½ã€formè¡¨å•ä¸‹è½½ã€blobè½¬æ¢urlä¸‹è½½ä¸­çš„ä¸€æ ·ï¼Œä¹Ÿéƒ½æ˜¯å…ˆè®¡ç®—å‡ºèµ„æºæ‰€åœ¨çœŸå®çš„URLä½ç½®ï¼Œç„¶åå†è¯·æ±‚ 123456789101112131415161718192021function downLoadFile(res)&#123; const ele = document.createElement('a'); ele.setAttribute('href',res.url); //è®¾ç½®ä¸‹è½½æ–‡ä»¶çš„urlåœ°å€ ele.setAttribute('download' , 'download');//ç”¨äºè®¾ç½®ä¸‹è½½æ–‡ä»¶çš„æ–‡ä»¶å ele.click();&#125;window.onload = function()&#123; $.ajax(&#123; url:\"get-file\", type:\"get\", dataType:'JSON' &#125;).then(function(res)&#123; if(res.bizNO &gt; 0 )&#123; downLoadFile(res); &#125;else&#123; alert(res.bizMsg); &#125; &#125;).always(function()&#123; alert(\"è¿æ¥å¼‚å¸¸\")ï¼› &#125;)&#125; ä¸ºä»€ä¹ˆè¦ç”¨ JavaScript ä¸‹è½½æ–‡ä»¶ å¥½æ‹‰ï¼Œè¯´äº†åŠå¤©ï¼Œå…¶å®æˆ‘ä»¬ä¸€ç›´è¯´çš„éƒ½æ˜¯ï¼šã€Œä¸è¦ç”¨ JavaScript ä¸‹è½½æ–‡ä»¶æ‹‰ï¼Œé™åˆ¶å¤šå¤šï¼Œåˆä¸å¥½ç”¨ï¼Œç›´æ¥ç”¨ html å°±å¥½æ‹‰ï¼Œç®€å•æ–¹ä¾¿åˆå¿«æ·ã€è¿™ä¸ªè®ºè°ƒã€‚äº‹å®ä¸Šä¹Ÿç¡®å®å¦‚æ­¤ï¼Œä½†æœ‰äº›æ—¶å€™æˆ‘ä»¬ç¡®å®éœ€è¦é€šè¿‡ JavaScript æ¥åšä¸€äº›é¢„å¤„ç†ï¼Œ å¦‚æƒé™æ ¡éªŒã€‚ ä¸‹è½½æ–‡ä»¶å‰çš„æƒé™æ ¡éªŒ æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸‹è½½åšä¸€äº›é™åˆ¶ï¼Œæœ€å¸¸è§çš„å°±æ˜¯æƒé™æ ¡éªŒäº†ï¼Œå¦‚æ£€æŸ¥è¯¥ç”¨æˆ·æ˜¯å¦æœ‰ä¸‹è½½çš„æƒé™ï¼Œæ˜¯å¦æœ‰é«˜é€Ÿä¸‹è½½çš„æƒé™ç­‰ç­‰ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ JavaScript åšä¸€äº›é¢„å¤„ç†ã€‚å¦‚ï¼š 123456789101112131415161718fetch('http://somehost/check-permission', options).then(res =&gt; &#123; if (res.code === 0) &#123; var a = document.createElement('a'); var url = res.data.url; var filename = 'myfile.zip'; a.href = url; a.download = filename; a.click(); // const ele = document.createElement('a'); // ele.setAttribute('href',res.url); //è®¾ç½®ä¸‹è½½æ–‡ä»¶çš„urlåœ°å€ // ele.setAttribute('download' , 'download');//ç”¨äºè®¾ç½®ä¸‹è½½æ–‡ä»¶çš„æ–‡ä»¶å // ele.click(); &#125; else &#123; alert('You have no permission to download the file!'); &#125;&#125;); å‚è€ƒï¼š https://blog.csdn.net/weixin_41305441/article/details/85003066 https://segmentfault.com/a/1190000005863250 å‰ç«¯æ¥å—åç«¯æ–‡ä»¶æµå¹¶ä¸‹è½½çš„å‡ ç§æ–¹æ³• Python Flaskå®ç°ä¸Šä¼ å’Œä¸‹è½½æ¥å£ ä¸Šä¼  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import osfrom flask import Flask, request, url_for, send_from_directoryfrom werkzeug.utils import secure_filenamefrom flask import send_from_directory, make_response# è®¾ç½®ä¸Šä¼ æ–‡ä»¶å…è®¸ç§ç±»ALLOWED_EXTENSIONS = &#123;'png', 'jpg', 'jpeg', 'gif'&#125;app = Flask(__name__)# è®¾ç½®ä¸Šä¼ è·¯å¾„app.config['UPLOAD_FOLDER'] = os.path.join(os.getcwd(), \"updates\")# è®¾ç½®ä¸Šä¼ æ–‡ä»¶æœ€å¤§å¤§å°app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024html = ''' &lt;!DOCTYPE html&gt; &lt;title&gt;Upload File&lt;/title&gt; &lt;h1&gt;Photo Upload&lt;/h1&gt; &lt;form method=post enctype=multipart/form-data&gt; &lt;input type=file name=file&gt; &lt;input type=submit value=upload&gt; &lt;/form&gt; &lt;div&gt; &lt;a href='http://127.0.0.1:5000/download'&gt;&lt;p&gt;ä¸‹è½½&lt;/p&gt;&lt;/a&gt; &lt;/div&gt; '''def allowed_file(filename): \"\"\" æ˜¯å¦æ˜¯å…è®¸ä¸Šä¼ çš„æ–‡ä»¶ \"\"\" return '.' in filename and \\ filename.rsplit('.', 1)[1] in ALLOWED_EXTENSIONS@app.route('/uploads/&lt;filename&gt;')def uploaded_file(filename): \"\"\" è·å¾—ä¸Šä¼ åçš„é“¾æ¥ \"\"\" return send_from_directory(app.config['UPLOAD_FOLDER'], filename)@app.route('/', methods=['GET', 'POST'])def upload_file(): if request.method == 'POST': file = request.files['file'] # å¯ä»¥é€šè¿‡requests.fileså±æ€§æ‹¿åˆ°multipart/form-dataä¸Šä¼ çš„æ•°æ® if file and allowed_file(file.filename): filename = secure_filename(file.filename) # ä¿å­˜æ–‡ä»¶ file.save(os.path.join(app.config['UPLOAD_FOLDER'], filename)) # è·å¾—ä¿å­˜åçš„å›¾ç‰‡é“¾æ¥ file_url = url_for('uploaded_file', filename=filename) print(file_url) return html + '&lt;br&gt;&lt;img src=' + file_url + '&gt;' return html ä¸‹è½½ 12345@app.route(\"/download\")def index(): # å¯ä»¥çœ‹åˆ°ä¸Šä¼ ä»£ç ä¸­ä¹Ÿç”¨åˆ°äº†send_from_directoryï¼›è¿™è¾¹çš„åŒºåˆ«ä¸»è¦æ˜¯æ·»åŠ äº†as_attachmentå‚æ•°, ä½¿å¾—å¯ä»¥ä¸‹è½½ # return make_response(send_from_directory(\"./\", \"test.txt\", as_attachment=True)) return send_from_directory(\"./\", \"./\", filename=\"test.txt\", as_attachment=True) Javaå®ç°ä¸Šä¼ ä¸‹è½½ ä¸Šä¼  application.properties 123456# ç”¨æ¥æŒ‡å®šæœåŠ¡å™¨ç«¯æ–‡ä»¶å¤§å°çš„é™åˆ¶spring.servlet.multipart.max-file-size=300MB# ç”¨æ¥æŒ‡å®šå®¢æˆ·ç«¯æ–‡ä»¶å¤§å°çš„é™åˆ¶spring.servlet.multipart.max-request-size=300MBfileLocation=static/files FileUploadController.java 12345678910111213141516// è¯»å–é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„ static/files@Value(\"$&#123;fileLocation&#125;\")private String fileLocation;@PostMapping(\"upload\")@ResponseBodypublic void upload(MultipartFile file) throws IOException &#123; // è·å¾— classpath çš„ç»å¯¹è·¯å¾„ String realPath = ResourceUtils.getURL(\"classpath:\").getPath() + fileLocation; File newFile = new File(realPath); // å¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨ã€åˆ™æ–°å»º if (!newFile.exists()) newFile.mkdirs(); // ä¸Šä¼  String fileName = date.getTime() +\"@\" + file.getOriginalFilename(); file.transferTo(new File(newFile, fileName));&#125; ä¸‹è½½ 123456789101112131415161718192021@Value(\"$&#123;fileLocation&#125;\")private String fileLocation;@GetMapping(\"download\")public void download(String fileName, HttpServletResponse response) throws IOException &#123; // è·å¾—å¾…ä¸‹è½½æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ String realPath = ResourceUtils.getURL(\"classpath:\").getPath() + fileLocation; // è·å¾—æ–‡ä»¶è¾“å…¥æµ FileInputStream inputStream = new FileInputStream(new File(realPath, fileName)); // è®¾ç½®å“åº”å¤´ã€ä»¥é™„ä»¶å½¢å¼æ‰“å¼€æ–‡ä»¶ response.setHeader(\"content-disposition\", \"attachment; fileName=\" + fileName); ServletOutputStream outputStream = response.getOutputStream(); int len = 0; byte[] data = new byte[1024]; while ((len = inputStream.read(data)) != -1) &#123; outputStream.write(data, 0, len); &#125; outputStream.close(); inputStream.close();&#125;","categories":[],"tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"}]},{"title":"VBAå­¦ä¹ â€”â€”æ­£åˆ™æå–å•å…ƒæ ¼æŒ‡å®šå†…å®¹å¹¶åŠ ç²—","slug":"VBAå­¦ä¹ â€”â€”æ­£åˆ™æå–å•å…ƒæ ¼æŒ‡å®šå†…å®¹å¹¶åŠ ç²—","date":"2021-12-04T03:15:12.000Z","updated":"2021-12-04T03:37:48.369Z","comments":true,"path":"2021/12/04/VBAå­¦ä¹ â€”â€”æ­£åˆ™æå–å•å…ƒæ ¼æŒ‡å®šå†…å®¹å¹¶åŠ ç²—/","link":"","permalink":"https://nymrli.top/2021/12/04/VBAå­¦ä¹ â€”â€”æ­£åˆ™æå–å•å…ƒæ ¼æŒ‡å®šå†…å®¹å¹¶åŠ ç²—/","excerpt":"","text":"ä»Šå¤©åˆæ˜¯å¥³æœ‹å‹æ‰“å·¥äººçš„ä¸€å¤©ï¼Œå¥³æœ‹å‹æœ‰éœ€æ±‚ï¼Œæ‰“excelæ‰“å°å‡ºæ¥ã€‚ç”±äºå¯¼å‡ºåè¡Œè·å¤ªå°ï¼Œä»¥åŠç­”æ¡ˆä¸æ˜æ˜¾ï¼Œå› æ­¤åšäº†ä¸¤ä¸ªå¤„ç† æ¯ä¸¤è¡Œä¹‹é—´æ’å…¥ä¸€è¡Œ å°†å•å…ƒæ ¼å†…ï¼ˆAã€xxxï¼‰çš„ç­”æ¡ˆè¿›è¡ŒåŠ ç²— Excelä¸­çš„å®æŒ‡çš„æ˜¯ä¸€æ®µæ“ä½œè¿‡ç¨‹ VBA ä¸­ï¼Œè¿‡ç¨‹æ˜¯ä¸€åˆ‡çš„å¼€å§‹ï¼Œå‡ ä¹æ‰€æœ‰çš„ä»£ç ï¼Œéƒ½ä¼šè¢«å†™åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªè¿‡ç¨‹é‡Œã€‚å®é™…å¼€å‘ä¸­ï¼Œé€šå¸¸ä¸€ä¸ªè¿‡ç¨‹ï¼Œå»ºè®®åªå®Œæˆä¸€ä¸ªç‰¹å®šçš„å°ç›®æ ‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„ç¨‹åºå¾€å¾€ä¼šåŒ…å«å¤šä¸ªè¿‡ç¨‹ã€‚è¿™å°±æ˜¯ VBA ä¸­è¿‡ç¨‹æ¦‚å¿µå­˜åœ¨çš„ä¸€ä¸ªåŸå› ã€‚ VBA è¿‡ç¨‹ä»¥ Sub è¯­å¥å¼€å§‹ï¼Œä»¥ End Sub è¯­å¥ç»“æŸï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¯­å¥ï¼Œå®Œæˆä¸€ä¸ªç‰¹å®šçš„ç›®æ ‡ã€‚ æ¥å—å‚æ•°çš„è¿‡ç¨‹åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 123456Sub [è¿‡ç¨‹å]([å˜é‡å1] As [æ•°æ®ç±»å‹1],...[å˜é‡ån] As [æ•°æ®ç±»å‹n]) è¯­å¥1 è¯­å¥2 ... è¯­å¥3End Sub from : VBA è¿‡ç¨‹(Sub) å…¥é—¨æ•™ç¨‹å’Œå®ä¾‹ åŠŸèƒ½å®ç°â€”â€”å°†å•å…ƒæ ¼å†…ï¼ˆAã€xxxï¼‰çš„ç­”æ¡ˆè¿›è¡ŒåŠ ç²— é€‰æ‹©å¯¹åº”çš„sheetæŒ‰ä¸‹alt+F11æ‰“å¼€ 12345678910111213141516171819Sub mocro() 'å®šä¹‰å®å‡½æ•°' Set re = CreateObject(\"VBScript.RegExp\") 'åˆ›å»ºæ­£åˆ™å¯¹è±¡, æˆ–è€…Dim reg As New RegExp' re.Pattern = \"ï¼ˆ.*?ï¼‰\" 'è¡Œå†…å®¹' For Each Rng In Range(\"A1:A5178\") 'å­—ç¬¦' lenstr = Len(Rng) Set ma = re.Execute(Rng) For Each m In ma lenans = Len(m) For i = 1 To (lenstr - lenans + 1) tempString = Mid(Rng, i, lenans) If tempString = m Then Rng.Characters(i, lenans).Font.Bold = True End If Next i Next m Next RngEnd Sub æ³¨ï¼šæ‰§è¡Œä»£ç ä¹‹å‰éœ€è¦å°†å…‰æ ‡ç§»åŠ¨åˆ°è¦æ‰§è¡Œä»£ç çš„Sheetä¸­çš„æŸä¸ªå•å…ƒæ ¼ åŠŸèƒ½å®ç°â€”â€”æ¯ä¸¤è¡Œä¹‹é—´æ’å…¥ä¸€è¡Œ æ·»åŠ å¤šä½™åˆ—ï¼Œå¯¹ç€å·²æœ‰æ•°æ®ä»ç¬¬ä¸€è¡Œå¼€å§‹i=1å¼€å§‹ï¼Œæ¯éš”ä¸€è¡Œè®¾ç½®i+2ï¼ˆå¥‡æ•°ï¼‰ï¼Œæ¯”å¦‚ç¬¬ä¸‰è¡Œä¸º5 è¶…å‡ºæ•°æ®è¡Œæ•°éƒ¨åˆ†å¡«å…¥å¶æ•°ï¼Œå¦‚2ã€4ã€6 é€‰æ‹©è¿™ç»„åŠŸèƒ½åˆ—ï¼Œè¿›è¡Œç­›é€‰â€”â€”å‡åºï¼Œæ‰©å±•é€‰å– ç„¶åå°±å¯ä»¥çœ‹åˆ°æ¯è¡Œä¹‹é—´å°±å¤šå‡ºæ¥ä¸€è¡Œäº† å†é€‰æ‹©å¯¼å‡ºæˆpdfï¼Œæ¯è¡Œä¹‹é—´çš„é—´è·å°±å˜å¤§äº† å‚è€ƒ Excel: é€šè¿‡VBAä¿®æ”¹å•å…ƒæ ¼ä¸­â€œéƒ¨åˆ†â€æ–‡å­—çš„é¢œè‰² excelå¦‚ä½•åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼å¹¶æ ‡è‰² æŸä¸ªå•å…ƒæ ¼çš„éƒ¨åˆ†å­—ç¬¦å˜è‰²ï¼Œå°±è¦åˆ©ç”¨Characters(å¼€å§‹ä½ç½®,ç»“æŸä½ç½®).font.color è¿›è¡Œèµ‹å€¼ 12Cells(i, \"A\").Characters(numB, Len(strA)).Font.Color = vbRed 'å¦‚æœè¦å°†æŸä¸ªå•å…ƒæ ¼çš„éƒ¨åˆ†å­—ç¬¦å˜è‰²ï¼Œå°±è¦åˆ©ç”¨Characters(å¼€å§‹ä½ç½®,ç»“æŸä½ç½®).font.color è¿›è¡Œèµ‹å€¼'ä»ä¸­å¯ä»¥çœ‹å‡ºRange(\"A1:A22\")å–å‡ºæ¥çš„å¯¹è±¡å°±æ˜¯Cellsç±»å‹çš„' VBA Mid()å‡½æ•° æˆªå–å­—ç¬¦ä¸² - VBAå‡½æ•°å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰ 1234'è®¾ç½®æŒ‡å®šcellçš„å±æ€§ï¼Ÿæ¯”å¦‚å­—ä½“é¢œè‰²'Columns(\"A:A\").SelectSelection.Font.Bold = True ç²—ä½“Selection.Font.ColorIndex = 3 é¢œè‰² ã€æ•™ç¨‹ã€‘Excel VBAä»å…¥é—¨åˆ°è¿›é˜¶ï¼ˆè“è‰²å¹»æƒ³ï¼‰â€”â€”å¯ä»¥è¡¥å……ç‚¹åŸºç¡€çŸ¥è¯† å¦‚ä½•åœ¨excelè¡¨ä¸­æ¯éš”ä¸€è¡Œæ’å…¥ä¸€è¡Œç©ºç™½è¡Œï¼Ÿ excelæ‰¹é‡è°ƒæ•´åˆ—å®½å’Œè¡Œé«˜çš„æ–¹æ³•","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"å‰ç«¯è¿›è¡Œç½‘ç»œè¯·æ±‚çš„ä¸‰ç§æ–¹å¼","slug":"å‰ç«¯è¿›è¡Œç½‘ç»œè¯·æ±‚çš„ä¸‰ç§æ–¹å¼","date":"2021-12-02T13:28:06.000Z","updated":"2021-12-05T14:42:57.738Z","comments":true,"path":"2021/12/02/å‰ç«¯è¿›è¡Œç½‘ç»œè¯·æ±‚çš„ä¸‰ç§æ–¹å¼/","link":"","permalink":"https://nymrli.top/2021/12/02/å‰ç«¯è¿›è¡Œç½‘ç»œè¯·æ±‚çš„ä¸‰ç§æ–¹å¼/","excerpt":"","text":"å‰ç«¯è¿›è¡Œç½‘ç»œè¯·æ±‚çš„ä¸‰ç§æ–¹å¼ XHRæŠ€æœ¯ åŸºäºXMLHTTPRequestæŠ€æœ¯å®ç°çš„ï¼Œé€šè¿‡è°ƒç”¨åŸç”Ÿçš„XMLå¯¹è±¡å®ç°çš„ï¼Œéå¸¸çš„å†—ä½™==&gt;ajaxæŠ€æœ¯ ajax Jquery.$ajax 123456789101112131415161718192021222324// æœ‰å‚æ•°ï¼Œåˆ™å¢åŠ dataå­—æ®µï¼Œæœ‰è¯·æ±‚å¤´åˆ™å¢åŠ headerså­—æ®µï¼Œæœ‰é”™è¯¯å¤„ç†å¢åŠ errorå­—æ®µ// é»˜è®¤æ˜¯æŒ‰ç…§è¡¨å•æäº¤postæ–¹æ³•ï¼Œdataä¸­è™½ç„¶æ˜¯jsonä½†æ˜¯æäº¤æ—¶è½¬æˆè¡¨å•$.ajax(&#123; url:\"demo_test.txt\", data:&#123;a:10&#125;, success:function(result)&#123; console.log(result); &#125;, error:function(xhr,status,error)&#123; console.log(error); &#125;&#125;);// dataåœ¨postä¸‹æ˜¯è¡¨å•æ ¼å¼ï¼Œåœ¨getä¸‹æ˜¯querystringæ ¼å¼// é€šè¿‡ä»¥ä¸‹æ–¹æ³•æŒ‡å®šä¸ºjsonæ ¼å¼[jsonæ ¼å¼æœ¬è´¨å°±æ˜¯bodyé‡Œæ˜¯jsonå­—ç¬¦ä¸²ï¼Œå¤´é‡Œæ˜¯application/json]$.ajax(&#123; method: \"POST\", headers: &#123;\"content-type\": \"application/json\"&#125;, data: JSON.stringify(&#123;a: 10&#125;), url: \"http://localhost:9090\" success: function(data)&#123;console.log(data)&#125;&#125;)// JQueryçš„getå’Œpostå¯ä»¥ç®€å†™ï¼š$.get(url,data,callback) // querystringæ ¼å¼$.post(url,data,callback) // x-www-form-urlencodedæ ¼å¼ Get: å‚æ•°æ”¾åˆ°querystringä¸­ Postï¼šå‚æ•°æ”¾åˆ°bodyä¸­ï¼Œ é»˜è®¤application/x-www-form-urlencoded axiosï¼ˆæ¨èï¼‰ 123456// axiosé»˜è®¤æ˜¯jsonç±»å‹çš„æäº¤axios(&#123; url: \"http://localhost:9090\", method: \"POST\", data: &#123;a: 1&#125; // è¿™è¾¹å¯ä»¥ç›´æ¥ä¼ json dataè€Œä¸æ˜¯å­—ç¬¦ä¸²&#125;) POSTé»˜è®¤çš„æäº¤æ ¼å¼ä¸ºjsonï¼Œè€Œä¸æ˜¯è¡¨å•www-form-urlencode 1234567axios(&#123; url: \"http://localhost:9090\", method: \"POST\", headers: &#123;\"content-type\": \"application/www-form-urlencode\"&#125; data: \"a=3&amp;b=3\" // è¿™è¾¹å¯ä»¥ç›´æ¥ä¼ json dataè€Œä¸æ˜¯å­—ç¬¦ä¸²&#125;).then(res=&gt;res.json()) .then(d=&gt;console.log(d)) axiosçš„get/post/put/deleteç­‰ç­‰éƒ½å¯ä»¥ç®€å†™ 1axios.post(url,data).then(callback) fetch ç›®å‰ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒçš„æŠ€æœ¯ï¼Œé™¤äº†IE Networkæ•æ‰åˆ°çš„Typeä¸å†æ˜¯XHRï¼Œè€Œç›´æ¥æ˜¯fetch promiseç‰¹æ€§ 12345678910111213141516fetch(\"http://localhost:9090\", &#123; method: \"POST\", headers: &#123;\"content-type\": \"application/www-form-urlencode\"&#125;, body: \"a=12&amp;b=11\" // è¡¨å•å†™è¿™ç§å½¢å¼ &#125;) .then(res=&gt;res.json()) .then(d=&gt;console.log(d))fetch(\"http://localhost:9090\", &#123; method: \"POST\", headers: &#123;\"content-type\": \"application/json\"&#125;, body: JSON.stringify(&#123;a:11&#125;) // jsonå†™è¿™ç§å½¢å¼ &#125;) .then(res=&gt;res.json()) .then(d=&gt;console.log(d)) .catch(e=&gt;&#123;&#125;) æ³¨æ„ï¼š è·Ÿå…¶ä»–ä¸¤ä¸ªçš„å‚æ•°ä¸º({parmas})ä¸ä¸€æ ·ï¼Œ&lt;&quot;url&quot;, {params}&gt; å‚æ•°ä¸æ˜¯é€šè¿‡dataæäº¤çš„ï¼Œè€Œæ˜¯bodyï¼Œå†™dataæ— æ•ˆ è¯·æ±‚çš„ç»„æˆ è¯·æ±‚å¤´ï¼š url: uri[+query] methodï¼š headerï¼š Http Headeré‡Œçš„Content-Typeä¸€èˆ¬æœ‰è¿™ä¸‰ç§ï¼š application/x-www-form-urlencodedï¼šæ•°æ®è¢«ç¼–ç ä¸ºåç§°/å€¼å¯¹ã€‚è¿™æ˜¯æ ‡å‡†çš„ç¼–ç æ ¼å¼ã€‚(é»˜è®¤çš„) multipart/form-dataï¼š æ•°æ®è¢«ç¼–ç ä¸ºä¸€æ¡æ¶ˆæ¯ï¼Œé¡µä¸Šçš„æ¯ä¸ªæ§ä»¶å¯¹åº”æ¶ˆæ¯ä¸­çš„ä¸€ä¸ªéƒ¨åˆ†ã€‚ text/plainï¼š æ•°æ®ä»¥çº¯æ–‡æœ¬å½¢å¼(text/json/xml/html)è¿›è¡Œç¼–ç ï¼Œå…¶ä¸­ä¸å«ä»»ä½•æ§ä»¶æˆ–æ ¼å¼å­—ç¬¦ã€‚postmanè½¯ä»¶é‡Œæ ‡çš„æ˜¯RAWã€‚ åè®® è¯·æ±‚ä½“body postè¯·æ±‚æ—¶æäº¤çš„æ•°æ® from:ã€ajaxç§‘æ™®ã€‘ã€å‰ç«¯ã€‘fetchã€axiosã€jqueryçš„ajaxç”¨æ³• æ¨¡æ‹ŸæœåŠ¡å™¨æ–‡ä»¶ï¼š é“¾æ¥ï¼šhttps://pan.baidu.com/s/1nMZRcPYY4RIW_4Rvc2mDCw æå–ç ï¼šwxw4 é™„å½• æµ‹è¯•æ‰€ç”¨expressæœåŠ¡å™¨ä»£ç  1234567891011121314151617181920var app = express()// app.use(express.urlencoded(&#123; extended: false &#125;))// é€šè¿‡ express.json() è¿™ä¸ªä¸­é—´ä»¶ï¼Œè§£æè¡¨å•ä¸­çš„ JSON æ ¼å¼çš„æ•°æ®// åœ¨æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨ req.body è¿™ä¸ªå±æ€§ï¼Œæ¥æ¥æ”¶å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ä½“æ•°æ®// é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸é…ç½®è§£æè¡¨å•æ•°æ®ä¸­é—´ä»¶ï¼Œåˆ™ req.body é»˜è®¤ç­‰äº undefinedapp.use(express.json())app.use(\"/\", (req, res) =&gt; &#123; res.header(\"Access-Control-Allow-Origin\", \"*\") res.header(\"Access-Control-Allow-Headers\", \"*\") console.log(\"url: \", req.method, req.url); console.log(\"queryString: \", req.query); console.log(\"headers: \", req.headers); console.log(\"body: \", req.body); res.json(&#123; code: 200, msg: \"OK\" &#125;)&#125;)app.listen(8080) ä¸å†™htmlä»£ç ï¼Œç›´æ¥åœ¨æµè§ˆå™¨é‡Œè¿è¡Œæµ‹è¯•ï¼š åœ°å€æ ä¸­è¾“å…¥ï¼šdata:text/html,åè·Ÿå†…å®¹ï¼Œå¦‚ data:text/html,&lt;h1&gt;hello&lt;/h1&gt;ä¼šæ˜¾ç¤ºå¤§çš„hello data:text/html, &lt;script src=&quot;...&quot;&gt;&lt;/script&gt;","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"}]},{"title":"Mongodbå­¦ä¹ ","slug":"Mongodbå­¦ä¹ ","date":"2021-12-02T03:17:52.000Z","updated":"2021-12-22T06:31:28.864Z","comments":true,"path":"2021/12/02/Mongodbå­¦ä¹ /","link":"","permalink":"https://nymrli.top/2021/12/02/Mongodbå­¦ä¹ /","excerpt":"","text":"Mongodbå­¦ä¹  åˆ›å»ºæ•°æ®åº“-é›†åˆï¼ˆè¡¨ï¼‰ ä½¿ç”¨æŒ‡å®šæ•°æ®åº“ï¼ˆæ²¡æœ‰ä¼šåˆ›å»ºï¼‰: use DATABASE_NAME, å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ•°æ®åº“ï¼Œå¦åˆ™åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“ã€‚ å¦‚: use doubanï¼Œ æ­¤æ—¶dbå°±å˜æˆäº†doubanï¼Œä¹‹ådb.xxxx()éƒ½é»˜è®¤åœ¨è¿™ä¸ªæ•°æ®åº“ä¸‹æ“ä½œ æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨ show dbs åˆ›å»ºé›†åˆï¼šdb.createCollection(name, options) éšæ„åˆ›å»ºé›†åˆï¼Œ db.createCollection(&quot;top250&quot;); options å¯ä»¥æ˜¯å¦‚ä¸‹å‚æ•°ï¼š å­—æ®µ ç±»å‹ æè¿° capped å¸ƒå°” ï¼ˆå¯é€‰ï¼‰å¦‚æœä¸º trueï¼Œåˆ™åˆ›å»ºå›ºå®šé›†åˆã€‚å›ºå®šé›†åˆæ˜¯æŒ‡æœ‰ç€å›ºå®šå¤§å°çš„é›†åˆï¼Œå½“è¾¾åˆ°æœ€å¤§å€¼æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è¦†ç›–æœ€æ—©çš„æ–‡æ¡£ã€‚ å½“è¯¥å€¼ä¸º true æ—¶ï¼Œå¿…é¡»æŒ‡å®š size å‚æ•°ã€‚ autoIndexId å¸ƒå°” 3.2 ä¹‹åä¸å†æ”¯æŒè¯¥å‚æ•°ã€‚ï¼ˆå¯é€‰ï¼‰å¦‚ä¸º trueï¼Œè‡ªåŠ¨åœ¨ _id å­—æ®µåˆ›å»ºç´¢å¼•ã€‚é»˜è®¤ä¸º falseã€‚ size æ•°å€¼ ï¼ˆå¯é€‰ï¼‰ä¸ºå›ºå®šé›†åˆæŒ‡å®šä¸€ä¸ªæœ€å¤§å€¼ï¼Œå³å­—èŠ‚æ•°ã€‚ å¦‚æœ capped ä¸º trueï¼Œä¹Ÿéœ€è¦æŒ‡å®šè¯¥å­—æ®µã€‚ max æ•°å€¼ ï¼ˆå¯é€‰ï¼‰æŒ‡å®šå›ºå®šé›†åˆä¸­åŒ…å«æ–‡æ¡£çš„æœ€å¤§æ•°é‡ã€‚ åˆ›å»ºå›ºå®šé›†åˆ: db.createCollection(&quot;mycol&quot;, { capped : true, autoIndexId : true, size : 6142800, max : 10000 } ) æŸ¥çœ‹å·²æœ‰é›†åˆï¼Œå¯ä»¥ä½¿ç”¨ show collections æˆ– show tables å‘½ä»¤ï¼š æ’å…¥æ–‡æ¡£ db.COLLECTION_NAME.insert(document)æˆ–db.COLLECTION_NAME.save(document) save()ï¼šå¦‚æœ _id ä¸»é”®å­˜åœ¨åˆ™æ›´æ–°æ•°æ®ï¼Œå¦‚æœä¸å­˜åœ¨å°±æ’å…¥æ•°æ®ã€‚è¯¥æ–¹æ³•æ–°ç‰ˆæœ¬ä¸­å·²åºŸå¼ƒï¼Œå¯ä»¥ä½¿ç”¨ db.collection.insertOne() æˆ– db.collection.replaceOne() æ¥ä»£æ›¿ã€‚ insert(): è‹¥æ’å…¥çš„æ•°æ®ä¸»é”®å·²ç»å­˜åœ¨ï¼Œåˆ™ä¼šæŠ› org.springframework.dao.DuplicateKeyException å¼‚å¸¸ï¼Œæç¤ºä¸»é”®é‡å¤ï¼Œä¸ä¿å­˜å½“å‰æ•°æ®ã€‚ 3.2 ç‰ˆæœ¬ä¹‹åæ–°å¢äº† db.collection.insertOne() å’Œ db.collection.insertMany()ã€‚ æŸ¥è¯¢find: åœ¨MongoDBä¸­å¯ä»¥ä½¿ç”¨find0å‡½æ•°æŸ¥è¯¢æ–‡æ¡£ã€‚ è¯­æ³•æ ¼å¼ä¸ºï¼šfind(){æŸ¥è¯¢æ¡ä»¶(å¯é€‰)}ï¼Œ{æŒ‡å®šæŠ•å½±çš„é”®(å¯é€‰)})å¦‚æœæœªç»™å®šå‚æ•°åˆ™è¡¨ç¤ºæŸ¥è¯¢æ‰€æœ‰æ•°æ®ã€‚ å½“æŸ¥è¯¢æ‰€æœ‰ï¼Œè¦åˆ¶å®šæŠ•å½±é”®çš„æ—¶å€™å¾—åˆ—å‡ºå‰é¢çš„å¤§æ‹¬å·ï¼Œå¦‚find({é”®: {æ“ä½œç¬¦: æ¡ä»¶}}, {æŠ•å½±é”®å: 1(æ˜¾ç¤ºè¯¥åˆ—)| 0(ä¸æ˜¾ç¤ºè¯¥åˆ—), ..}), å¦‚æœä¸æƒ³æ˜¾ç¤º_idå¯ä»¥è¿™ä¹ˆå†™: find({},{_id: 0}) prettyOå‡½æ•°å¯ä»¥ä½¿ç”¨æ ¼å¼åŒ–çš„æ–¹å¼æ¥æ˜¾ç¤ºæ‰€æœ‰æ–‡æ¡£ã€‚ $andå’Œ$orè”åˆä½¿ç”¨ æŸ¥è¯¢titleä¸ºtest5å¹¶ä¸”sizeç­‰äº500ï¼Œæˆ–è€…sizeå°äº400çš„æ–‡æ¡£ã€‚ db.dev.find({$or:[{$and:[{title:{$eq:&quot;test5&quot;}},{size:500}]},{size:{$Lt:409}}]}) èšåˆæŸ¥è¯¢aggregate Java Aggregation.match å…³äºAGGREGATION è¯­æ³•å’Œè¡¨è¾¾å¼å¤§å…¨ï¼ˆæœ€æ–°3.4ç‰ˆï¼‰ SQLæ“ä½œå‡½æ•° mongodbèšåˆæ“ä½œ where $match åœ¨$groupbyå‰ä¾§ group $group having $match åœ¨$groupbyåä¾§ select $project order by $sort limit $limit join $lookup 12345// aggregateä¸­ä¸€å®šæ˜¯ä¸ªæ•°ç»„æ ¼å¼db.COLLECTION_NAME.aggregate([&#123;$group:&#123;_id:&quot;$åˆ†ç»„é”®åâ€ï¼Œ$åˆ†ç»„é”®åâ€â€¦â€¦ï¼Œåˆ«åï¼š&#123;èšåˆè¿ç®—ï¼š&quot;$è¿ç®—åˆ—â€&#125;&#125;&#125;ï¼Œ // åˆ†ç»„å¤„ç†&#123;æ¡ä»¶ç­›é€‰ï¼š&#123;é”®åï¼š&#123;è¿ç®—æ¡ä»¶ï¼šè¿ç®—å€¼&#125;&#125;&#125;]) ä¾‹å­ï¼š æ±‚å’Œ æŸ¥è¯¢devé›†åˆä¸­ä¸€å…±æœ‰å¤šå°‘ä¸ªæ–‡æ¡£ã€‚ ç›¸å½“äºsqlè¯­å¥ï¼šSELECT countï¼ˆ*ï¼‰AS count FROM dev db.dev.aggregateï¼ˆ[{$group:{_id:null.count:($sumï¼š1}}}]ï¼‰ $groupï¼šåˆ†ç»„ï¼Œä»£è¡¨èšåˆçš„åˆ†ç»„æ¡ä»¶ _idï¼šåˆ†ç»„çš„å­—æ®µã€‚ç›¸å½“äºSQLåˆ†ç»„è¯­æ³•group by column nameä¸­çš„column nameéƒ¨åˆ†ã€‚ å¦‚æœæ ¹æ®æŸå­—æ®µçš„å€¼åˆ†ç»„ï¼Œåˆ™å®šä¹‰ä¸ºid:â€™$å­—æ®µåâ€™ã€‚æ‰€ä»¥æ­¤æ¡ˆä¾‹ä¸­çš„nullä»£è¡¨ä¸€ä¸ªå›ºå®šçš„å­—é¢å€¼nullï¼Œè¡¨ç¤ºå¯¹æ‰€æœ‰åˆ—å³æ•´è¡¨ã€‚ countï¼šè¿”å›ç»“æœå­—æ®µåã€‚å¯ä»¥è‡ªå®šä¹‰ï¼Œç±»ä¼¼SQLä¸­çš„å­—æ®µåˆ«åã€‚ $sumï¼šæ±‚å’Œè¡¨è¾¾å¼ã€‚ç›¸å½“äºSQLä¸­çš„sumOã€‚ 1ï¼šç´¯åŠ å€¼ã€‚å¦‚æœæ˜¯å¯¹æŸåˆ—å¦‚sizeæ±‚å€¼å’Œï¼Œåˆ™1æ”¹ä¸º&quot;&quot;$size&quot; ç®¡é“ MongoDBçš„èšåˆç®¡é“å°†MongoDBæ–‡æ¡£åœ¨ä¸€ä¸ªç®¡é“å¤„ç†å®Œæ¯•åå°†ç»“æœä¼ é€’ç»™ä¸‹ä¸€ä¸ªç®¡é“å¤„ç†ã€‚ç®¡é“æ“ä½œæ˜¯å¯ä»¥é‡å¤çš„ã€‚ ç®¡é“æ“ä½œç¬¦æ˜¯æŒ‰ç…§ä¹¦å†™çš„é¡ºåºä¾æ¬¡æ‰§è¡Œçš„ï¼Œæ¯ä¸ªæ“ä½œç¬¦éƒ½ä¼šæ¥å—ä¸€è¿ä¸²çš„æ–‡æ¡£ï¼Œå¯¹è¿™äº›æ–‡æ¡£åšä¸€äº›ç±»å‹è½¬æ¢ï¼Œæœ€åå°†è½¬æ¢åçš„æ–‡æ¡£ä½œä¸ºç»“æœä¼ é€’ç»™ä¸‹ä¸€ä¸ªæ“ä½œç¬¦ï¼ˆå¯¹äºæœ€åä¸€ä¸ªç®¡é“æ“ä½œç¬¦ï¼Œæ˜¯å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼‰ï¼Œç§°ä¸ºæµå¼å·¥ä½œæ–¹å¼ã€‚ ç®¡é“æ“ä½œç¬¦ï¼š$matchã€$groupã€$sortã€$limitã€$skipã€$unwindï¼Œ ç®¡é“æ“ä½œç¬¦ï¼Œåªèƒ½ç”¨äºè®¡ç®—å½“å‰èšåˆç®¡é“çš„æ–‡æ¡£ï¼Œä¸èƒ½å¤„ç†å…¶å®ƒçš„æ–‡æ¡£ã€‚ MongoDB çš„ aggregate æ˜¯å¯ä»¥åˆ†ä¸ºå¤šä¸ªé˜¶æ®µçš„ï¼ˆpipelineï¼‰ ç¬¬ä¸€é˜¶æ®µï¼Œ$matchï¼Œè¿™é‡Œå¯ä»¥å‚è€ƒã€ŠMongoDBï¼šæŸ¥è¯¢å’ŒæŠ•å½±æ“ä½œç¬¦ã€‹è¿™ç¯‡æ–‡ç« ï¼Œæ ¹æ®æ¡ä»¶å»æŸ¥æ‰¾ã€‚ ç¬¬äºŒé˜¶æ®µï¼Œ$projectï¼Œè¡¨ç¤ºè¦å“ªä¸ªåŸŸï¼Œä¸è¦å“ªä¸ªåŸŸï¼Œæˆ–è€…æŠ•å½±æˆåˆ«çš„ä¸€ä¸ªåŸŸï¼Œè¿™é‡Œè¡¨ç¤º value åŸŸä¿ç•™ï¼Œstatus åŸŸï¼Œæ ¹æ®æ¡ä»¶æ¥è½¬æ¢æˆ â€œconfirmedâ€ æˆ–è€… â€œunconfirmedâ€ï¼Œ_id ä¸è¦ã€‚ ç¬¬ä¸‰é˜¶æ®µï¼Œgroupï¼ŒidåŸŸç”¨å‰é¢çš„groupï¼Œ_id åŸŸç”¨å‰é¢çš„groupï¼Œiâ€‹dåŸŸç”¨å‰é¢çš„statusæ¥è¡¨ç¤ºï¼Œbalance æ˜¯å¯¹ä¹‹å‰çš„$valueè¿›è¡Œæ±‚å’Œã€‚ å¸¸ç”¨å‘½ä»¤ï¼š $projectï¼šä½¿ç”¨$projectæ“ä½œç¬¦åšèšåˆæŠ•å½±æ“ä½œä»è€Œä¿®æ”¹è¾“å…¥æ–‡æ¡£çš„ç»“æ„ã€‚å¯ä»¥ç”¨æ¥é‡å‘½åã€å¢åŠ æˆ–åˆ é™¤åŸŸï¼Œä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºè®¡ç®—ç»“æœä»¥åŠåµŒå¥—æ–‡æ¡£ã€‚å¦‚db.dev.aggregate([{Sunwind:&quot;Stags&quot;},{Sproject:{id:0,Tags:&quot;$tags&quot;,Title:&quot;$title&quot;}}])ä»è€Œä¸æ˜¾ç¤ºid, å¹¶ä¸”å¯ä»¥å–åˆ«å $matchï¼šç”¨äºè¿‡æ»¤æ•°æ®ï¼Œåªè¾“å‡ºç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ã€‚$matchä½¿ç”¨MongoDBçš„æ ‡å‡†æŸ¥è¯¢æ“ä½œã€‚ $limitï¼šç”¨æ¥é™åˆ¶MongoDBèšåˆç®¡é“è¿”å›çš„æ–‡æ¡£æ•°ã€‚ $skipï¼šåœ¨èšåˆç®¡é“ä¸­è·³è¿‡æŒ‡å®šæ•°é‡çš„æ–‡æ¡£ï¼Œå¹¶è¿”å›ä½™ä¸‹çš„æ–‡æ¡£ã€‚ $lookup // Aggregation.lookup(&quot;student&quot;, &quot;student_id&quot;, &quot;_id&quot;, &quot;student&quot;) å‚æ•°å«ä¹‰å¦‚ä¸‹ LookupOperation lookupOperation=LookupOperation.newLookup(). from(&quot;grade&quot;). //å…³è”ä»è¡¨å localField(&quot;gradeId&quot;). //ä¸»è¡¨å…³è”å­—æ®µ foreignField(&quot;_id&quot;).//ä»è¡¨å…³è”çš„å­—æ®µ as(&quot;GradeAndStu&quot;); //æŸ¥è¯¢ç»“æœå $count unwindï¼šå°†æ–‡æ¡£ä¸­çš„æŸä¸€ä¸ª**æ•°ç»„ç±»å‹å­—æ®µæ‹†åˆ†æˆå¤šæ¡**ï¼Œæ¯æ¡åŒ…å«æ•°ç»„ä¸­çš„ä¸€ä¸ªå€¼ã€‚å¦‚æŸ¥è¯¢devé›†åˆï¼Œå°†å…¶ä¸­æ•°ç»„å†…çš„å†…å®¹æ‹†åˆ†æ˜¾ç¤º(ä¼šç”Ÿæˆå¤šä¸ªidç›¸åŒçš„æŸ¥è¯¢ç»“æœ)ï¼Œ`db.dev.aggregate([{unwind:&quot;$tags&quot;}])` $groupï¼šå°†é›†åˆä¸­çš„æ–‡æ¡£åˆ†ç»„ï¼Œå¯ç”¨äºç»Ÿè®¡ç»“æœã€‚ æ“ä½œå†…åµŒæ–‡æ¡£ MongoDB å†…åµŒæ–‡æ¡£ MongoDB å‡ ç§æŸ¥è¯¢åµŒå¥—æ•°æ®ï¼ˆEmbeddedï¼‰çš„æ–¹å¼ æ“ä½œæ•°ç»„ å¯¹æ•°ç»„æ ¹æ®æ¡ä»¶æŸ¥è¯¢ $allã€$sizeã€$sliceã€$elemMatch $allæŸ¥æ‰¾æ•°ç»„ä¸­åŒ…å«æŒ‡å®šçš„å€¼çš„æ–‡æ¡£ $size æŸ¥æ‰¾æ•°ç»„å¤§å°ç­‰äºæŒ‡å®šå€¼çš„æ–‡æ¡£ sliceâ‹…æŸ¥è¯¢æ•°ç»„ä¸­æŒ‡å®šè¿”å›å…ƒç´ çš„ä¸ªæ•°,â€˜sliceÂ·æŸ¥è¯¢æ•°ç»„ä¸­æŒ‡å®šè¿”å›å…ƒç´ çš„ä¸ªæ•°, `sliceâ‹…æŸ¥è¯¢æ•°ç»„ä¸­æŒ‡å®šè¿”å›å…ƒç´ çš„ä¸ªæ•°,â€˜sliceÂ·å¯ä»¥æŸ¥è¯¢æ•°ç»„ä¸­ç¬¬å‡ ä¸ªåˆ°ç¬¬å‡ ä¸ª å¯¹æ•°ç»„å†…åµŒæ–‡æ¡£æŸ¥è¯¢ $elemMatchæ–‡æ¡£åŒ…å«æœ‰ä¸€ä¸ªå…ƒç´ æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆ$elemMatchå¯ä»¥åŒ¹é…å†…æ•°ç»„å†…çš„å…ƒç´ å¹¶è¿”å›æ–‡æ¡£æ•°æ®db.orders.find({&quot;items&quot;:{$elemMatch:{&quot;quantity&quot;:2}}}) elemMatchå¯ä»¥å¸¦å¤šä¸ªæŸ¥è¯¢æ¡ä»¶`db.orders.find({&quot;items&quot;:{elemMatch:{â€œquantityâ€:4,â€œinoâ€:â€œ002â€}}}) ` $elemMatchåŒæ ·å¯ä»¥ç”¨åœ¨findæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ¥é™åˆ¶è¿”å›æ•°ç»„å†…çš„å…ƒç´ ï¼Œåªè¿”å›æˆ‘ä»¬éœ€è¦çš„æ–‡æ¡£db.orders.find({&quot;onumber&quot;:&quot;001&quot;},{&quot;items&quot;:{$elemMatch:{&quot;quantity&quot;:4,&quot;ino&quot;:&quot;002&quot;}},&quot;cname&quot;:1,&quot;date&quot;:1,&quot;onumber&quot;:1}) from; MongoDBæŸ¥è¯¢ï¼ˆæ•°ç»„ã€å†…åµŒæ–‡æ¡£ï¼‰ï¼ˆäºŒï¼‰ MongoDB å‡ ç§æŸ¥è¯¢åµŒå¥—æ•°æ®ï¼ˆEmbeddedï¼‰çš„æ–¹å¼â€”â€”$ æ˜ å°„æ“ä½œç¬¦ï¼ˆProjection Operatorï¼‰ã€$elemMatch æ˜ å°„æ“ä½œç¬¦ï¼ˆProjection Operatorï¼‰ MongoDBé«˜çº§æŸ¥è¯¢è¯¦ç»† å®Œæ•´demo: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293public JobPositionDetailsVO getJobPositionDetails(String orgId, String jpId) &#123; Organization org = orgService.findByOrgId(orgId); RootOrg root = orgService.getRootOrgInfo(); // æŸ¥è¯¢ç»„ç»‡çš„å²—ä½ä¿¡æ¯è®¾ç½® List&lt;SystemFieldListDTO&gt; systemList; List&lt;Map&lt;String, Object&gt;&gt; values; List&lt;JobPosition&gt; allJobPosition = Lists.newArrayList(); JobPositionDetailsVO result = new JobPositionDetailsVO(); if (org == null &amp;&amp; !orgId.equals(root.getOrgId())) &#123; throw new IllegalArgumentException(\"orgId:\" + orgId + \" å¯¹åº”çš„ç»„ç»‡ä¿¡æ¯ä¸å­˜åœ¨ï¼\"); &#125; else if (orgId.equals(root.getOrgId())) &#123; // æ ¹ç»„ç»‡è¯»å–æ‰€æœ‰èŒåŠ¡ allJobPosition = jobPositionService.list(); // åŒ…è£…æˆList&lt;Map&gt;ç±»å‹ values = getJobInfo(allJobPosition); result.setOrgId(root.getOrgId()); &#125; else &#123; // éæ ¹ç»„ç»‡å–ç³»ç»Ÿå­—æ®µå†…å²—ä½æ•°æ® systemList = org.getSystemFieldList(); // æ ¡éªŒä¸‹æ•°æ® SystemFieldListDTO dto = orgCommonService.getFirstRepeatFieldByCode(FieldConst.JOB_POSITION, systemList); if (dto == null) &#123; throw new RuntimeException(\"ç»„ç»‡å†…å²—ä½ä¿¡æ¯ä¸èƒ½ä¸ºç©ºï¼\"); /*result.setPersonList(Lists.newArrayList()); result.setSettingList(Lists.newArrayList()); return result;*/ &#125; values = dto.getValues(); result.setOrgId(orgId); &#125; // è·å–ç»„ç»‡é…ç½®ä¸­çš„æ‰€æœ‰èŒåŠ¡id Set&lt;String&gt; jpIds = Sets.newHashSet(); // ç”¨æ¥è®°å½•ç»„ç»‡å†…å²—ä½çš„ç¼–åˆ¶æ•°é‡ Map&lt;String, Integer&gt; numMap = Maps.newHashMap(); // ç”¨æ¥è®°å½•ç»„ç»‡å†…å²—ä½çš„æ•°é‡èŒƒå›´ Map&lt;String, Integer&gt; rangeMap = Maps.newHashMap(); for (Map&lt;String, Object&gt; value : values) &#123; String curJpId = (String) ((Map&lt;String, Object&gt;) (value.get(FieldConst.VALUE))).get(FieldConst.JPID); jpIds.add(curJpId); numMap.put(curJpId, (Integer) ((Map&lt;String, Object&gt;)(value.get(FieldConst.VALUE))).get(FieldConst.NUM)); rangeMap.put(curJpId, (Integer) ((Map&lt;String, Object&gt;)(value.get(FieldConst.VALUE))).get(FieldConst.RANGE)); &#125; if (CollectionUtils.isEmpty(jpIds)) &#123; result.setPersonList(Lists.newArrayList()); result.setSettingList(Lists.newArrayList()); return result; &#125; // æŸ¥è¯¢ç›¸å…³çš„æ‰€æœ‰èŒåŠ¡ä¿¡æ¯ List&lt;JobPosition&gt; jobPositionList = jobPositionService.query() .in(JobPosition::getJpId, jpIds).list(); // èŒåŠ¡åˆ—è¡¨æ’åº Collections.sort(jobPositionList); // å¦‚æœå¯¹åº”çš„èŒåŠ¡ä¿¡æ¯å…¨éƒ¨è¢«åˆ é™¤äº†ï¼Œè€Œç»„ç»‡å†…è®¾ç½®çš„èŒåŠ¡éƒ½æ²¡æœ‰å¯¹åº”åˆ é™¤ï¼Œç›´æ¥è¿”å› if (CollectionUtils.isEmpty(jobPositionList)) &#123; result.setPersonList(Lists.newArrayList()); result.setSettingList(Lists.newArrayList()); return result; &#125; // æŸ¥è¯¢åœ¨èŒä¿¡æ¯ä¸­ä¸º orgId çš„äººå‘˜ Criteria criteria = new Criteria(); criteria.andOperator( Criteria.where(\"form.code\").is(FieldConst.JOB_POSITION), Criteria.where(\"form.values.orgId\").is(orgId) ); List&lt;PersonInfo&gt; personInfoList = mongoTemplate.find(Query.query(criteria), PersonInfo.class); //æ’é™¤ç¦»èŒäººå‘˜ Set&lt;String&gt; userIds = personInfoList.stream().map(p -&gt; p.getUserId()).collect(Collectors.toSet()); Set&lt;String&gt; resignUserIds = employmentInfoService.getResignationByUserIds(userIds); personInfoList = personInfoList.stream().filter(p -&gt; !resignUserIds.contains(p.getUserId())).collect(Collectors.toList()); // è·å– key ä¸º èŒåŠ¡id, value ä¸º ç”¨æˆ·id çš„ map Map&lt;String, Set&lt;String&gt;&gt; reverseMap = orgService .reverseMapping(personInfoList, FieldConst.JOB_POSITION, FieldConst.JPID, false, false); // è·å– key ä¸º jpId, value ä¸º è§’è‰²çš„ map Map&lt;String, String&gt; roleMap; if (orgId.equals(root.getOrgId())) &#123; // æ ¹èŠ‚ç‚¹çš„è¯roleMapå–åœ¨èŒè¡¨å†…çš„roleä¿¡æ¯ roleMap = allJobPosition.stream().collect(Collectors.toMap(JobPosition::getJpId, JobPosition::getRole)); &#125; else &#123; // éæ ¹èŠ‚ç‚¹å–ç»„ç»‡è¡¨å†…èŒåŠ¡ä¸­çš„roleä¿¡æ¯ roleMap = orgService.getJobPositionRoleMap(orgId); &#125; List&lt;JobPositionSettingVO&gt; settingList = constructSettingList(jobPositionList, numMap, reverseMap, roleMap, rangeMap); List&lt;JobPositionPersonVO&gt; personList = constructPersonList(jpId, jobPositionList, reverseMap, orgId); result.setSettingList(settingList); result.setPersonList(personList); return result; &#125; ä½¿ç”¨MongoRepositoryå®ŒæˆCURDå’Œå¤æ‚æŸ¥è¯¢ ä¸HibernateRepositoryç±»ä¼¼ï¼Œé€šè¿‡ç»§æ‰¿MongoRepositoryæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®ç°å¯¹ä¸€ä¸ªå¯¹è±¡çš„å¢åˆ æ”¹æŸ¥ï¼Œè¦ä½¿ç”¨Repositoryçš„åŠŸèƒ½ï¼Œå…ˆç»§æ‰¿MongoRepository&lt;T, TD&gt;æ¥å£ï¼Œå…¶ä¸­Tä¸ºä»“åº“ä¿å­˜çš„beanç±»ï¼ŒTDä¸ºè¯¥beançš„å”¯ä¸€æ ‡è¯†çš„ç±»å‹ï¼Œä¸€èˆ¬ä¸ºObjectIdã€‚ä¹‹ååœ¨serviceä¸­æ³¨å…¥è¯¥æ¥å£å°±å¯ä»¥ä½¿ç”¨ï¼Œæ— éœ€å®ç°é‡Œé¢çš„æ–¹æ³•ï¼Œspringä¼šæ ¹æ®å®šä¹‰çš„è§„åˆ™è‡ªåŠ¨ç”Ÿæˆã€‚ 123456public interface PersonRepository extends interface DictionaryInfoDao : MongoRepository&lt;DictionaryInfo?, String?&gt; &#123; fun findByDictTypeCode(name: String): DictionaryInfo? //è¿™é‡Œå¯ä»¥æ·»åŠ éœ€è¦ç”¨åˆ°çš„æŸ¥è¯¢æ–¹æ³•ã€ä»¥åŠè‡ªå®šä¹‰é¢å¤–çš„æŸ¥è¯¢æ–¹æ³• &#125; ä½†æ˜¯MongoRepositoryå®ç°äº†çš„åªæ˜¯æœ€åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½ï¼Œè¦æƒ³å¢åŠ é¢å¤–çš„æŸ¥è¯¢æ–¹æ³•ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹è§„åˆ™å®šä¹‰æ¥å£çš„æ–¹æ³•ã€‚è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•ï¼Œæ ¼å¼ä¸ºfindBy+å­—æ®µå+æ–¹æ³•åç¼€ï¼Œæ–¹æ³•ä¼ è¿›çš„å‚æ•°å³å­—æ®µçš„å€¼ï¼Œæ­¤å¤–è¿˜æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼Œé€šè¿‡ä¼ è¿›ä¸€ä¸ªPageableå¯¹è±¡ï¼Œè¿”å›Pageé›†åˆã€‚ 123456public interface PersonRepository extends MongoRepository&lt;Person, ObjectId&gt;&#123; //æŸ¥è¯¢å¤§äºageçš„æ•°æ® public Page&lt;Product&gt; findByAgeGreaterThan(int age,Pageable page) ; ï½ from : MongoRepositoryåŸºæœ¬æ–¹æ³• å°½ç®¡ä»¥ä¸ŠæŸ¥è¯¢åŠŸèƒ½å·²ç»å¾ˆä¸°å¯Œï¼Œä½†å¦‚æœè¿˜ä¸èƒ½æ»¡è¶³ä½¿ç”¨æƒ…å†µçš„è¯å¯ä»¥ç”¨ä¸€ä¸‹æ–¹æ³•â€”â€”åŸºäºmongodb shellæŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢æ–¹å¼ï¼Œå³åœ¨DAOæ¥å£ä¸­åŠ å…¥ 12@Query(\"&#123; 'name':&#123;'$regex':?2,'$options':'i'&#125;, sales': &#123;'$gte':?1,'$lte':?2&#125;&#125;\") public Page&lt;Product&gt; findByNameAndAgeRange(String name,double ageFrom,double ageTo,Pageable page); æ³¨è§£Queryé‡Œé¢çš„å°±æ˜¯mongodbåŸæ¥çš„æŸ¥è¯¢è¯­æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¼ è¿›æ¥çš„æŸ¥è¯¢å‚æ•°ï¼Œé€šè¿‡åæ ‡å®šä¹‰æ–¹æ³•çš„å‚æ•°ã€‚ è¿˜å¯ä»¥åœ¨åé¢æŒ‡å®šè¦è¿”å›çš„æ•°æ®å­—æ®µï¼Œå¦‚ä¸Šé¢çš„ä¾‹å­ä¿®æ”¹å¦‚ä¸‹ï¼Œåˆ™åªé€šè¿‡personè¡¨é‡Œé¢çš„nameå’Œageå­—æ®µæ„å»ºpersonå¯¹è±¡ã€‚ 12@Query(value=\"&#123; 'name':&#123;'$regex':?2,'$options':'i'&#125;, sales':&#123;'$gte':?1,'$lte':?2&#125;&#125;\",fields=\"&#123; 'name' : 1, 'age' : 1&#125;\") public Page&lt;Product&gt; findByNameAndAgeRange(String name,double ageFrom,double ageTo,Pageable page); å¯¹æ¯”mongotemplateå’ŒmongoRepository 1MongoTemplate MongoTemplate éµå¾ªSpringä¸­çš„æ ‡å‡†æ¨¡æ¿æ¨¡å¼ï¼Œå¹¶ä¸ºåº•å±‚æŒä¹…æ€§å¼•æ“æä¾›å‡†å¤‡å°±ç»ªçš„åŸºæœ¬APIã€‚ 1234567// 1. æ ¡éªŒæ·»åŠ çš„ç‰©èµ„ç±»å‹æ˜¯å¦å­˜åœ¨val exists = mongoTemplate.exists( Query.query( Criteria.where (\"materialTypeCode\").`is`(materialInfo.materialTypeCode) ), DictionaryInfo::class.java) 1234567891011121314val criteria = Criteria().andOperator( Criteria.where(\"parentId\").`is`(materialTypeId), Criteria.where(\"unitId\").`is`(unitId))val query: Query = Query.query(criteria)val list: MutableList&lt;MaterialType&gt; = mongoTemplate.find(query, MaterialType::class.java)val list2: MutableList&lt;MaterialInfo&gt;? = mutableListOf()list.forEach &#123; val query2: Query = Query.query(Criteria.where(\"id\").`is`(it.itemId)) val value = mongoTemplate.findOne(query2, MaterialInfo::class.java) if (value != null) &#123; list2.add(value) &#125;&#125; 2MongoRepository ä»¥Spring Dateä¸ºä¸­å¿ƒçš„æ–¹æ³•ï¼ŒåŸºäºæ‰€æœ‰Springæ•°æ®é¡¹ç›®ä¸­ä¼—æ‰€å‘¨çŸ¥çš„è®¿é—®æ¨¡å¼ï¼Œæä¾›æ›´åŠ çµæ´»å’Œå¤æ‚çš„apiæ“ä½œã€‚ mongoRepositoryï¼ŒMongoTemplate Spring booté›†æˆmongodbä½¿ç”¨MongoRepositoryå®ŒæˆCURDå’Œå¤æ‚æŸ¥è¯¢ Spring Data JPAæ–¹æ³•åå‘½åè§„åˆ™ findByOrderByDictTypeCodeDescAndSortNumDescå¤±è´¥ findAllByOrderByIdDescå’ŒfindByOrderByIdDesc æ•ˆæœä¸€æ · dictionaryInfoDao.findAllByOrderByIdDesc(Sort.by(Sort.Direction.DESC,&quot;sortNum&quot;));åé¢çš„æ’åºæ— æ•ˆ 12345findAllByOrderByIdDescAndOrderBySortNumDesc findAllByOrderByIdDescAndSortNumDesc(Sort sort)dictionaryInfoDao.findAll(Sort.by(&quot;dictTypeCode&quot;), Sort.by(&quot;sortNum&quot;));å¤±æ•ˆ MyBatisä¸JPAçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ JPAæ˜¯JAVAæŒä¹…å±‚APIçš„è§„èŒƒï¼Œ JPAä»…ä»…å®šä¹‰äº†ä¸€äº›æ¥å£ï¼Œè€Œæ¥å£æ˜¯éœ€è¦å®ç°æ‰èƒ½å·¥ä½œçš„ã€‚ æ‰€ä»¥åº•å±‚éœ€è¦æŸç§å®ç°ï¼Œè€ŒHibernateå°±æ˜¯å®ç°äº†JPAæ¥å£çš„ORMæ¡†æ¶ã€‚ Mybatisä¼˜åŠ¿ MyBatiså¯ä»¥è¿›è¡Œæ›´ä¸ºç»†è‡´çš„SQLä¼˜åŒ–ï¼Œå¯ä»¥å‡å°‘æŸ¥è¯¢å­—æ®µã€‚ MyBatiså®¹æ˜“æŒæ¡ï¼Œè€ŒHibernateé—¨æ§›è¾ƒé«˜ã€‚ Hibernateä¼˜åŠ¿ Hibernateçš„DAOå±‚å¼€å‘æ¯”MyBatisç®€å•ï¼ŒMybatiséœ€è¦ç»´æŠ¤SQLå’Œç»“æœæ˜ å°„ã€‚ Hibernateå¯¹å¯¹è±¡çš„ç»´æŠ¤å’Œç¼“å­˜è¦æ¯”MyBatiså¥½ï¼Œå¯¹å¢åˆ æ”¹æŸ¥çš„å¯¹è±¡çš„ç»´æŠ¤è¦æ–¹ä¾¿ã€‚ Hibernateæ•°æ®åº“ç§»æ¤æ€§å¾ˆå¥½ï¼ŒMyBatisçš„æ•°æ®åº“ç§»æ¤æ€§ä¸å¥½ï¼Œä¸åŒçš„æ•°æ®åº“éœ€è¦å†™ä¸åŒSQLã€‚ Hibernateæœ‰æ›´å¥½çš„äºŒçº§ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¼“å­˜ã€‚MyBatisæœ¬èº«æä¾›çš„ç¼“å­˜æœºåˆ¶ä¸ä½³ fun findAllByDictTypeCode(dictTypeCode: String): List&lt;DictionaryInfo&gt; è¿”å›çš„æ˜¯ä¸ªListï¼Œ å¦‚æœæ²¡æœ‰å€¼åˆ™ä¸ºç©ºåˆ—è¡¨ å¦‚æœfindByIdçš„ç»“æœæ˜¯ä¸ªOptionalï¼Œ å¦‚æœè‡ªå®šä¹‰findByXxxxæ–¹æ³•æ—¶ï¼Œè¿”å›å€¼å¯ä»¥å®šä¹‰ä¸ºOptional&lt;XxxxDO&gt;ä¹Ÿå¯ä»¥ç›´æ¥å®šä¹‰æˆ XxxxDO?","categories":[],"tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"}]},{"title":"Gradleå­¦ä¹ ","slug":"Gradleå­¦ä¹ ","date":"2021-12-02T03:16:31.000Z","updated":"2021-12-02T03:16:51.308Z","comments":true,"path":"2021/12/02/Gradleå­¦ä¹ /","link":"","permalink":"https://nymrli.top/2021/12/02/Gradleå­¦ä¹ /","excerpt":"","text":"Gradleå­¦ä¹  åœ¨kotlinä¸­ä½¿ç”¨mapstructå‡ºç°äº†äº›é—®é¢˜ï¼Œ ç½‘ä¸Šæœå¯»åå¾—åˆ°ç»“è®ºï¼šéœ€è¦ä½¿ç”¨kapt(Kotlin annotation processing tool å³kotlinæ³¨è§£å¤„ç†å·¥å…·)ï¼Œ ä½†ç»™å‡ºçš„å¤§å¤šéƒ½æ˜¯é€šè¿‡Gradleæ¥è¿›è¡Œé…ç½®çš„ã€‚å› æ­¤å€Ÿæ­¤æœºä¼šå­¦ä¹ äº†ä¸‹Gradleï¼š pluginså’Œapply plugin: ç”±äºæ–‡æ¡£å†™åˆ°äº†ï¼Œ ç”±äºä¸æ¸…æ¥šè¿™äº›åœ¨å“ªäº›ä½ç½®åŠ å…¥ï¼Œ å› æ­¤æŸ¥çœ‹äº†pluginså’Œapply plugin:çš„åŒºåˆ«ï¼š 1234567891011&gt; æ·»åŠ  kapt æ’ä»¶&gt; apply plugin: &apos;kotlin-kapt&apos;&gt; &gt; ç„¶ååœ¨é¡¹ç›®ä¸­æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š&gt; api(&quot;com.github.pozo:mapstruct-kotlin:1.3.1.2&quot;)&gt; kapt(&quot;com.github.pozo:mapstruct-kotlin-processor:1.3.1.2&quot;)&gt; &gt; å¦å¤–ï¼Œè¿˜éœ€è¦æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š&gt; api(&quot;org.mapstruct:mapstruct:1.4.0.Beta3&quot;)&gt; kapt(&quot;org.mapstruct:mapstruct-processor:1.4.0.Beta3&quot;)&gt; â€œplugins {}â€å—å¯¼å…¥çš„æ˜¯Gradleå®˜æ–¹æ’ä»¶ä»“åº“é‡Œçš„æ’ä»¶ã€‚å¦‚æœä½¿ç”¨â€œbuildscript {}â€å—æŒ‡å®šç¬¬ä¸‰æ–¹åº“ä½œä¸ºGradleæ’ä»¶çš„è¯ï¼ŒæŒ‡å®šæ’ä»¶å°±éœ€è¦ä½¿ç”¨â€œapply pluginâ€äº†ã€‚ åˆšåˆšç¿»äº†ç¿»æ–‡æ¡£ï¼Œâ€œapply pluginâ€æœ¬èº«ä¼¼ä¹è¿˜æœ‰æ›´å¤šçš„ç”¨é€”ï¼Œè€Œâ€œplugins {}â€å—ä¼¼ä¹æ˜¯ä¸€ä¸ªæ–°å¼•å…¥çš„è¿˜ä¸è¶³å¤Ÿç¨³å®šçš„ç‰¹æ€§ã€‚é¢˜ä¸»æƒ³è¦çŸ¥é“æ›´å¤šçš„è¯ç›´æ¥çœ‹çœ‹æ–‡æ¡£å°±è¡Œäº†ã€‚ æœ€ç»ˆçš„Plainé¡¹ç›®çš„ä¾èµ–å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728plugins &#123; id 'java' id 'org.jetbrains.kotlin.jvm' version '1.4.10'&#125;group 'org.example'version '1.0-SNAPSHOT'repositories &#123; mavenCentral()&#125;apply plugin: 'kotlin-kapt'dependencies &#123; implementation \"org.jetbrains.kotlin:kotlin-stdlib\" testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.0' testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine' api(\"com.github.pozo:mapstruct-kotlin:1.3.1.2\") kapt(\"com.github.pozo:mapstruct-kotlin-processor:1.3.1.2\") api(\"org.mapstruct:mapstruct:1.4.0.Beta3\") kapt(\"org.mapstruct:mapstruct-processor:1.4.0.Beta3\")&#125;test &#123; useJUnitPlatform()&#125; mavenä½¿ç”¨kapt åœ¨ kotlin-maven-plugin ä¸­çš„åœ¨compile ä¹‹å‰æ·»åŠ  kapt ç›®æ ‡çš„æ‰§è¡Œï¼š 1234567891011121314151617181920&lt;execution&gt; &lt;id&gt;kapt&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;kapt&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;sourceDirs&gt; &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt; &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt; &lt;/sourceDirs&gt; &lt;annotationProcessorPaths&gt; &lt;!-- åœ¨æ­¤å¤„æŒ‡å®šä½ çš„æ³¨è§£å¤„ç†å™¨ã€‚ --&gt; &lt;annotationProcessorPath&gt; &lt;groupId&gt;com.google.dagger&lt;/groupId&gt; &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt; &lt;version&gt;2.9&lt;/version&gt; &lt;/annotationProcessorPath&gt; &lt;/annotationProcessorPaths&gt; &lt;/configuration&gt;&lt;/execution&gt; è¯·æ³¨æ„ï¼ŒIntelliJ IDEA è‡ªèº«çš„æ„å»ºç³»ç»Ÿç›®å‰è¿˜ä¸æ”¯æŒ kaptã€‚å½“ä½ æƒ³è¦é‡æ–°è¿è¡Œæ³¨è§£å¤„ç†æ—¶ï¼Œè¯·ä»â€œMaven Projectsâ€å·¥å…·æ å¯åŠ¨æ„å»ºã€‚ from: https://www.kancloud.cn/alex_wsc/android_kotlin/1318386#_Maven__110 gradleä¸­apiã€implementationå’Œcompileçš„åŒºåˆ« æˆ‘ä»¬åœ¨gradleä¸­å¼•ç”¨ç¬¬ä¸‰æ–¹mavenåº“æ—¶ï¼Œä¸€èˆ¬é€šè¿‡ä¸‹é¢çš„è¯­å¥å»å¼•ç”¨:compile 'com.android.support:appcompat-v7:26.1.0' , ç„¶åsync projectï¼Œå°±èƒ½æˆåŠŸå¼•ç”¨å¯¹åº”çš„åŒ…åˆ°é¡¹ç›®ä¹‹ä¸­äº†ï¼Œååˆ†æ–¹ä¾¿ã€‚é™¤äº†ä½¿ç”¨compileå…³é”®å­—ï¼Œä½¿ç”¨implementationå’Œapiä¹Ÿèƒ½å°†åŒ…å¼•ç”¨åˆ°é¡¹ç›®ä¸­ apiå’Œcompileå…³é”®å­—ä½œç”¨æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½¿ç”¨æ—¶å¯ä»¥äº’ç›¸æ›¿æ¢ã€‚å®é™…ä¸Šï¼Œapiå…³é”®å­—æ˜¯ç”¨æ¥æ›¿ä»£compileå…³é”®å­—çš„ï¼Œå› ä¸ºcompileå…³é”®å­—å°†æ¥ä¼šè¢«å¼ƒç”¨ã€‚åœ¨é«˜ç‰ˆæœ¬çš„gradleï¼Œä½¿ç”¨compileå…³é”®å­—ä¼šæŠ¥é”™å¹¶æç¤ºä½¿ç”¨apiå…³é”®å­—ä»£æ›¿ã€‚ Qï¼šçœ‹èµ·æ¥è¿™ä¸‰ä¸ªå…³é”®å­—çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆï¼Œä»–ä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ Aï¼šåœ¨åŒä¸€ä¸ªmoduleä¸‹ï¼Œimplementationå’Œcompileçš„ä½¿ç”¨æ•ˆæœç›¸åŒï¼Œä½†æ˜¯åœ¨ä¸åŒmoduleä¸‹ï¼Œå°±ä¼šæœ‰æ‰€åŒºåˆ«äº†ã€‚ apiæˆ–compileå…³é”®å­—å¼•ç”¨çš„åŒ…å¯¹äºå…¶ä»–moduleæ¥è¯´æ˜¯å¯è§çš„ï¼Œè€Œimplementationå…³é”®å­—å¼•ç”¨çš„åŒ…å¯¹äºå…¶ä»–moduleæ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚ Mavenä»“åº“åˆ—è¡¨ ä»“åº“å ç®€ä»‹ å®é™…åœ°å€ ä½¿ç”¨åœ°å€ jcenter JFrogå…¬å¸æä¾›çš„ä»“åº“ http://jcenter.bintray.com https://maven.aliyun.com/repository/jcenter https://maven.aliyun.com/nexus/content/repositories/jcenter mavenLocal æœ¬å°ç”µè„‘ä¸Šçš„ä»“åº“ {USER_HOME}/.m2/repository C:/Users/liyujiang/.m2/repository (Windows) /home/liyujiang/.m2/repository (Linux) mavenCentral Sonatypeå…¬å¸æä¾›çš„ä¸­å¤®åº“ http://central.maven.org/maven2 https://maven.aliyun.com/repository/central https://maven.aliyun.com/nexus/content/repositories/central google Googleå…¬å¸æä¾›çš„ä»“åº“ https://maven.google.com https://maven.aliyun.com/repository/google https://maven.aliyun.com/nexus/content/repositories/google https://dl.google.com/dl/android/maven2 jitpack JitPackæä¾›çš„ä»“åº“ https://jitpack.io https://jitpack.io public jcenterå’ŒmavenCentralçš„èšåˆä»“åº“ https://maven.aliyun.com/repository/public https://maven.aliyun.com/nexus/content/groups/public gradle-plugin Gradleæ’ä»¶ä»“åº“ https://plugins.gradle.org/m2 https://maven.aliyun.com/repository/gradle-plugin https://maven.aliyun.com/nexus/content/repositories/gradle-plugin 1234567repositories &#123; // Use &apos;jcenter&apos; for resolving your dependencies. // You can declare any Maven/Ivy/file repository here. maven&#123; url &apos;http://maven.aliyun.com/nexus/content/groups/public/&apos;&#125; jcenter()&#125; gradleå…¨å±€æ¢æº kotlin-mapstruct https://www.imooc.com/article/309984","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"}]},{"title":"Vue-Routerç»†èŠ‚è®°å½•","slug":"Vue-Routerç»†èŠ‚è®°å½•","date":"2021-11-30T16:05:59.000Z","updated":"2021-11-30T16:08:28.712Z","comments":true,"path":"2021/12/01/Vue-Routerç»†èŠ‚è®°å½•/","link":"","permalink":"https://nymrli.top/2021/12/01/Vue-Routerç»†èŠ‚è®°å½•/","excerpt":"","text":"vue-routerä½¿ç”¨ yarn add vue-router@next --dev, å‚æ•°è¯´æ˜packageName@tagorpackageName@version åˆ›å»ºrouter/index.js 12345678910111213141516171819202122232425262728293031323334353637383940414243import &#123; createRouter, createWebHistory &#125; from \"vue-router\";import ShowList from \"../components/ShowList.vue\"const router = createRouter(&#123; history: createWebHistory(), routes: [ &#123; path: \"/show\", component: ShowList &#125;, &#123; path: \"/login\", name: \"Login\", meta: &#123; title: 'ç™»å½•' &#125;, // æ‡’åŠ è½½ component: () =&gt; import ( /* webpackChunkName: \"login\" */ \"../views/Login.vue\") &#125;,&#123; path: '/user/:id', // å¦‚/user/111, router-link to=\"/user/111\"ä¹Ÿè¡Œã€‚æ³¨idä¸ºparamså‚æ•°, User.vueä¸­é€šè¿‡ &#123;&#123; $route.params.id &#125;&#125; è·å– components: &#123; default: User, sidebar: Sidebar &#125;, /**åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ $route ä¼šä½¿ä¹‹ä¸å…¶å¯¹åº”è·¯ç”±å½¢æˆé«˜åº¦è€¦åˆï¼Œä»è€Œä½¿ç»„ä»¶åªèƒ½åœ¨æŸäº›ç‰¹å®šçš„ URL ä¸Šä½¿ç”¨ï¼Œé™åˆ¶äº†å…¶çµæ´»æ€§ã€‚å¯ä»¥ä½¿ç”¨ props å°†ç»„ä»¶å’Œè·¯ç”±è§£è€¦ï¼šè¿™æ ·ä½ ä¾¿å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨è¯¥ç»„ä»¶ï¼Œä½¿å¾—è¯¥ç»„ä»¶æ›´æ˜“äºé‡ç”¨å’Œæµ‹è¯•ã€‚ */ props: &#123; default: true, sidebar: false &#125; &#125; ]&#125;)router.beforeEach((to, from, next) =&gt; &#123; document.title = `$&#123;to.meta.title&#125; | vue-manage-system`; const role = localStorage.getItem('ms_username'); if (!role &amp;&amp; to.path !== '/login') &#123; next('/login'); &#125; else if (to.meta.permission) &#123; // å¦‚æœæ˜¯ç®¡ç†å‘˜æƒé™åˆ™å¯è¿›å…¥ï¼Œè¿™é‡Œåªæ˜¯ç®€å•çš„æ¨¡æ‹Ÿç®¡ç†å‘˜æƒé™è€Œå·² role === 'admin' ? next() : next('/403'); &#125; else &#123; next(); &#125;&#125;);export default router appä¸‹è¿›è¡Œrouterè·³è½¬ 12345678910111213&lt;template&gt; &lt;div id=\"app\"&gt; &lt;div&gt; // ä¸‹é¢çš„å«å£°æ˜å¼ &lt;router-link to=\"/\"&gt;Home&lt;/router-link&gt; | &lt;router-link to=\"/show\"&gt;show&lt;/router-link&gt;| &lt;router-link to=\"/hello\"&gt;hello&lt;/router-link&gt;| &lt;router-link :to=\"&#123;name: 'antd', params: &#123; id: 2 &#125;&#125;\"&gt;antd&lt;/router-link&gt; &lt;/div&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt; å­vueä¸­ç‚¹å‡»æŒ‰é’®åè¿›è¡Œrouterè·³è½¬ 12345678910111213141516171819202122232425262728293031323334 // vue2å†™æ³• function submitForm(formName) &#123; this.$refs[formName].validate((valid) =&gt; &#123; if (valid) &#123; this.$router.push(&#123;name: \"Mainwithout\", params: &#123;name: this.form.name&#125;&#125;) // å¦‚æœè¦ä¼ å‚ï¼Œåˆ™ä¸ºrouter-nameï¼›å¦‚æœä¸ä¼ å‚ç›´æ¥push(path) sessionStorage.setItem(\"isLogin\", true) this.$store.dispatch(\"asyncUpdateUser\", &#123;name: this.form.name&#125;) console.log(\"enter\", this.$store.state) &#125; else &#123; this.$message.error('é”™äº†å“¦ï¼Œè¿™æ˜¯ä¸€æ¡é”™è¯¯æ¶ˆæ¯'); return false; &#125; &#125;); &#125; // vue3å†™æ³•ï¼šVue-router 4.xä¸ºæ­¤æä¾›äº†useRoute()ï¼šimport &#123;useRouter&#125; from 'vue-router'setup(props,ctx)&#123; //routeræ˜¯å…¨å±€è·¯ç”±å¯¹è±¡ï¼Œroute= userRoute()æ˜¯å½“å‰è·¯ç”±å¯¹è±¡ let router = useRouter(); let start = () =&gt; &#123; // è¿™ä¸ªå«ç¼–ç¨‹å¼ router.push(&#123; //ä¼ é€’å‚æ•°ä½¿ç”¨queryçš„è¯ï¼ŒæŒ‡å®špathæˆ–è€…nameéƒ½è¡Œï¼Œä½†ä½¿ç”¨paramsçš„è¯ï¼Œåªèƒ½ä½¿ç”¨nameæŒ‡å®š path:'/home', query:&#123; num:1 &#125; &#125;) &#125; onMounted(() =&gt; &#123; const id = router.params.id &#125;)&#125; è°ƒç”¨æ–¹å¼ï¼š 123456789101112131415// å­—ç¬¦ä¸²router.push('home')// å¯¹è±¡router.push(&#123; path: 'home' &#125;)// å‘½åçš„è·¯ç”±router.push(&#123; name: 'user', params: &#123; userId: '123' &#125;&#125;)// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=privaterouter.push(&#123; path: 'register', query: &#123; plan: 'private' &#125;&#125;)// â–²æ³¨ï¼šåŒæ ·çš„è§„åˆ™ä¹Ÿé€‚ç”¨äº router-link ç»„ä»¶çš„ to å±æ€§ã€‚router.replace(location, onComplete?, onAbort?)// è·Ÿ router.push å¾ˆåƒï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œå®ƒä¸ä¼šå‘ history æ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯è·Ÿå®ƒçš„æ–¹æ³•åä¸€æ · â€”â€” æ›¿æ¢æ‰å½“å‰çš„ history è®°å½•ã€‚router.go(n)// è¿™ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ„æ€æ˜¯åœ¨ history è®°å½•ä¸­å‘å‰æˆ–è€…åé€€å¤šå°‘æ­¥ï¼Œç±»ä¼¼ window.history.go(n)ã€‚ åŒºåˆ†routerå’Œroute $router : æ˜¯è·¯ç”±æ“ä½œå¯¹è±¡ï¼Œåªå†™å¯¹è±¡ $route : è·¯ç”±ä¿¡æ¯å¯¹è±¡ï¼Œåªè¯»å¯¹è±¡ 123456789101112//æ“ä½œ è·¯ç”±è·³è½¬this.$router.push(&#123; name:'hello', params:&#123; name:'word', age:'11' &#125;&#125;)//è¯»å– è·¯ç”±å‚æ•°æ¥æ”¶this.name = this.$route.params.name;this.age = this.$route.params.age; åŒºåˆ†queryå’Œparams queryä¼ å‚è¦ç”¨pathæ¥å¼•å…¥ï¼Œparamsä¼ å‚è¦ç”¨nameæ¥å¼•å…¥ 1234567891011121314151617181920212223242526272829303132333435363738394041// path+query==&gt; /second?queryId=2222&amp;queryName=query//queryä¼ å‚ï¼Œä½¿ç”¨nameè·³è½¬this.$router.push(&#123; name:'second', query: &#123; queryId:'20180822', queryName: 'query' &#125;&#125;)//queryä¼ å‚ï¼Œä½¿ç”¨pathè·³è½¬this.$router.push(&#123; path:'second', query: &#123; queryId:'20180822', queryName: 'query' &#125;&#125;)//queryä¼ å‚æ¥æ”¶this.queryName = this.$route.query.queryName;this.queryId = this.$route.query.queryId;/** ---------------------- **/// name+params==&gt; /second/20180822/queryï¼Œ æ›´å¤šè§ï¼šhttps://router.vuejs.org/zh/guide/essentials/named-routes.htmlthis.$router.push(&#123; name:'second', params: &#123; id:'20180822', name: 'query' &#125;&#125;)//paramsæ¥æ”¶å‚æ•°ï¼Œ æ˜¯$routethis.id = this.$route.params.id ;this.name = this.$route.params.name ;//è·¯ç”±&#123; path: '/second/:id/:name', name: 'second', component: () =&gt; import('@/view/second')&#125; paramsæ˜¯è·¯ç”±çš„ä¸€éƒ¨åˆ†, å¿…é¡»è¦åœ¨è·¯ç”±åé¢æ·»åŠ å‚æ•°åã€‚queryæ˜¯æ‹¼æ¥åœ¨urlåé¢çš„å‚æ•°ï¼Œæ²¡æœ‰ä¹Ÿæ²¡å…³ç³»ã€‚ paramsä¸€æ—¦è®¾ç½®åœ¨è·¯ç”±ï¼Œparamså°±æ˜¯è·¯ç”±çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœè¿™ä¸ªè·¯ç”±æœ‰paramsä¼ å‚ï¼Œä½†æ˜¯åœ¨è·³è½¬çš„æ—¶å€™æ²¡æœ‰ä¼ è¿™ä¸ªå‚æ•°ï¼Œä¼šå¯¼è‡´è·³è½¬å¤±è´¥æˆ–è€…é¡µé¢ä¼šæ²¡æœ‰å†…å®¹ã€‚ï¼ˆæœ€é‡è¦çš„ä¸€ç‚¹ï¼Œparamsåˆ·æ–°ä¼šæ¶ˆå¤±ã€‚queryåˆ™ä¸ä¼šï¼‰ 12parmasï¼šhttps://blog.csdn.net/xxxquery: https://blog.csdn.net?xxx fromï¼šhttps://router.vuejs.org/zh/guide/essentials/dynamic-matching.html è·³è½¬ä¸è§†å›¾ router-link å®ç°è·¯ç”±ä¹‹é—´çš„è·³è½¬ï¼Œå¦‚ç‚¹å‡»showè¶…é“¾æ¥åˆ™ä¼šè·³è½¬åˆ°http://localhost:8080/show 1234567891011&lt;!-- å­—ç¬¦ä¸² --&gt;&lt;router-link to=\"home\"&gt;Home&lt;/router-link&gt;&lt;!-- æ¸²æŸ“ç»“æœ --&gt;&lt;a href=\"home\"&gt;Home&lt;/a&gt;&lt;!-- åŒä¸Š --&gt;&lt;router-link :to=\"&#123; path: 'home' &#125;\"&gt;Home&lt;/router-link&gt;&lt;!-- å‘½åçš„è·¯ç”± --&gt;&lt;router-link :to=\"&#123; name: 'user', params: &#123; userId: 123 &#125;&#125;\"&gt;User&lt;/router-link&gt;&lt;!-- å¸¦æŸ¥è¯¢å‚æ•°ï¼Œä¸‹é¢çš„ç»“æœä¸º /register?plan=private --&gt;&lt;router-link :to=\"&#123; path: 'register', query: &#123; plan: 'private' &#125;&#125;\"&gt;Register&lt;/router-link&gt; è§†å›¾ï¼šrouter-view å½“è·¯ç”±çš„path ä¸è®¿é—®çš„åœ°å€ç›¸ç¬¦æ—¶ï¼Œä¼šå°†æŒ‡å®šçš„ç»„ä»¶å†…å®¹æ›¿æ¢è¯¥ router-viewï¼Œå¦‚æœä¸ç‚¹å‡»è€Œæ˜¯ç›´æ¥å°†URLæ¢æˆhttp://localhost:8080/showä¹Ÿä¼šæ˜¾ç¤ºShowList.vueçš„å†…å®¹ï¼ˆä¸ºä»€ä¹ˆæ˜¯ShowList.vueï¼Ÿæ˜¯å› ä¸ºrouter/index.jsä¸­å°†path=''/show'ä¸ShowList.vueç»‘å®šäº†ï¼‰ å‘½åè§†å›¾==ã€‹å­˜åœ¨å¤šä¸ªã€å¤šå±‚è§†å›¾ åŠ¨æ€ä¼ å‚è·³è½¬ é‡‡å‘ï¼š 12:to=\"&#123;path:'invest/scattered',query: &#123;productId: list.id&#125;&#125;\"to=\"invest/scattered?productId=1\" // å¦‚æœä¸åŠ å†’å·è®¿é—®åŠ¨æ€å‚æ•°å³to=\"&#123;path:'invest/scattered',query: &#123;productId: list.id&#125;&#125;\"ï¼Œåˆ™ä¼šä¹±ç  å†’å·å¯ä»¥ä¼ åŠ¨æ€çš„å‚æ•°(ä¹Ÿå¯ä»¥ä¼ é™æ€çš„)ï¼›ä¸åŠ å†’å·æ˜¯é™æ€çš„è·¯å¾„ï¼›åŠ¨æ€è·¯ç”±ä¹Ÿå¯ä»¥ä»¥é™æ€è·¯ç”±çš„å½¢å¼å†™ï¼Œå‚æ•°å›ºå®šå¦‚:to=&quot;{name: 'antd', params: { id: 2 }}&quot;==&gt;to=&quot;/antd/2&quot;ï¼›å‚æ•°ä¸ºå˜é‡ï¼š 12&lt;router-link :to=\"&#123;name: 'antd', params: &#123; id: 2 &#125;&#125;\"&gt;antd&lt;/router-link&gt;&lt;router-link :to=\"`/antd/$&#123;uid&#125;`\"&gt;antd&lt;/router-link&gt; æ›´æ¨èæŒ‡å®šurlçš„å†™æ³•ï¼Œå› ä¸ºå°±ä¸ç”¨è€ƒè™‘nameè¿˜æ˜¯pathäº† 123456789101112131415// App.vue&lt;router-link :to=\"`/antd?name=mrli`\"&gt;antd&lt;/router-link&gt;// è¦è·³è½¬çš„ Antd.vue&#123;&#123; $route.query.name &#125;&#125;// App.vue&lt;router-link :to=\"`/antd/3`\"&gt;antd&lt;/router-link&gt;// è¦è·³è½¬çš„ Antd.vue&#123;&#123; $route.params.id &#125;&#125;// è¿˜éœ€è¦router/index.jsä¸­å®šä¹‰, ä¸ç„¶$route.params.idæ— æ³•å°†é‚£ä¸ªå€¼å¯¹åº”åˆ°idä¸Š&#123; path: \"/antd/:id\", name: \"antd\", component: AntdCom&#125;,","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"}]},{"title":"Vueä¸­ä½¿ç”¨axios","slug":"Vueä¸­ä½¿ç”¨axios","date":"2021-11-30T02:31:27.000Z","updated":"2021-12-08T08:27:47.764Z","comments":true,"path":"2021/11/30/Vueä¸­ä½¿ç”¨axios/","link":"","permalink":"https://nymrli.top/2021/11/30/Vueä¸­ä½¿ç”¨axios/","excerpt":"","text":"axiosè¯·æ±‚ å®˜ç½‘ç½‘å€ ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequest ä» node.js å‘å‡º http è¯·æ±‚ æ”¯æŒpromise API æ‹¦æˆªè¯·æ±‚å’Œå“åº” è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ® å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢ JSON æ•°æ® å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ XSRF ç›´æ¥æ¯æ¬¡ä»axiosåº“ä¸­è°ƒç”¨axioså‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;template&gt; &lt;div&gt; &lt;div&gt;mmmm&lt;/div&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;import axios from 'axios' export default &#123; name: \"post\", created() &#123; /* postå¸¸ç”¨çš„è¯·æ±‚æ•°æ®ï¼ˆdataï¼‰æ ¼å¼æœ‰ä¸¤ç§ï¼š ï¼ˆ1ï¼‰applicition/json ï¼ˆ2ï¼‰form-data è¡¨å•æäº¤ï¼ˆå›¾ç‰‡ä¸Šä¼ ï¼Œæ–‡ä»¶ä¸Šä¼ ï¼‰ */ //ç¬¬ä¸€ç§å†™æ³•å«åšpoståˆ«åè¯·æ±‚æ–¹æ³• // http://localhost:8080/static/data.json?id=1 // applicition/json è¯·æ±‚ let data = &#123; id: 1 &#125; axios.post('../../static/data.json', data) .then((res) =&gt; &#123; console.log('æ•°æ®ï¼š', res); &#125;) //ç¬¬äºŒç§å†™æ³• axios(&#123; method: 'post', url: '../../static/data.json', data: data, &#125;).then((res) =&gt; &#123; console.log('æ•°æ®ï¼š', res) &#125;) // form-data è¯·æ±‚ let formData = new FormData() for (let key in data) &#123; formData.append(key, data[key]) &#125; axios.post('../../static/data.json', formData) .then((res) =&gt; &#123; console.log('æ•°æ®ï¼š', res); &#125;) &#125;&#125;&lt;/script&gt; &lt;style scoped&gt;&lt;/style&gt; ç»“åˆ vueä½¿ç”¨vue-axios npm install --save axios vue-axios vue-axiosæ˜¯æŒ‰ç…§vueæ’ä»¶çš„æ–¹å¼å»å†™çš„ã€‚é‚£ä¹ˆç»“åˆvue-axiosï¼Œå°±å¯ä»¥å»ä½¿ç”¨vue.useæ–¹æ³•äº† 123456// é¦–å…ˆåœ¨ä¸»å…¥å£æ–‡ä»¶main.jsä¸­å¼•ç”¨import axios from &apos;axios&apos;import VueAxios from &apos;vue-axios&apos;Vue.use(VueAxios,axios); ä¹‹åå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œåœ¨ç»„ä»¶æ–‡ä»¶ä¸­çš„methodsé‡Œå»ä½¿ç”¨äº† 123456789getNewsList()&#123; this.axios.get('api/getNewsList').then((response)=&gt;&#123; this.newsList=response.data.data; &#125;).catch((response)=&gt;&#123; console.log(response); &#125;)&#125;, axios æ”¹å†™ä¸º Vue çš„åŸå‹å±æ€§ é¦–å…ˆåœ¨ä¸»å…¥å£æ–‡ä»¶main.jsä¸­å¼•ç”¨ï¼Œä¹‹åæŒ‚åœ¨vueçš„åŸå‹é“¾ä¸Š 12import axios from 'axios'Vue.prototype.$axios= axios åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ 12345this.$axios.get('api/getNewsList').then((response)=&gt;&#123; this.newsList=response.data.data; &#125;).catch((response)=&gt;&#123; console.log(response); &#125;) åˆ›å»ºaxioså®ä¾‹ï¼Œå¹¶å°è£…æˆå·¥å…·ç±» 12345678910// utils/requests.jsimport axios from 'axios'// åˆ›å»ºaxioså®ä¾‹const service = axios.create(&#123; baseURL: process.env.BASE_API, // apiçš„base_url timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´&#125;)export default service ç»„ä»¶ä¸­ç›´æ¥import 123456789&lt;script&gt;import maxios import \"./utils/requests.js\"maxios.get('api/getNewsList').then((response)=&gt;&#123; this.newsList=response.data.data; &#125;).catch((response)=&gt;&#123; console.log(response); &#125;)&lt;/script&gt; æ³¨ï¼š å°è£…çš„requestæŒ‡å®šäº†baseURLï¼Œé’ˆå¯¹çš„æ˜¯æ²¡æœ‰åè®®å¤´çš„ç›¸å¯¹URLï¼Œæ¯”å¦‚/apiï¼›å¦‚æœä½¿ç”¨æ—¶åŠ ä¸Šäº†httpåè®®å¤´ï¼Œåˆ™è¿˜æ˜¯ä¼šèµ°å…·ä½“çš„é“¾æ¥ï¼Œå¦‚http://127.0.0.1:5000/api/getword&amp;date=2020-04-01 axiosè¿›é˜¶ç”¨æ³•: ç»“åˆvuexå†å°è£…ä¸€å±‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465import axios from &apos;axios&apos;import &#123; Message &#125; from &apos;element-ui&apos;import store from &apos;@/store&apos;import &#123; getToken &#125; from &apos;@/utils/auth&apos;// åˆ›å»ºaxioså®ä¾‹const service = axios.create(&#123; baseURL: process.env.BASE_API, // apiçš„base_url timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´&#125;)// requestæ‹¦æˆªå™¨service.interceptors.request.use(config =&gt; &#123; // Do something before request is sent if (store.getters.token) &#123; config.headers[&apos;X-Token&apos;] = getToken() // è®©æ¯ä¸ªè¯·æ±‚æºå¸¦token--[&apos;X-Token&apos;]ä¸ºè‡ªå®šä¹‰key è¯·æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹ &#125; return config&#125;, error =&gt; &#123; // Do something with request error console.log(error) // for debug Promise.reject(error)&#125;)// responeæ‹¦æˆªå™¨service.interceptors.response.use( response =&gt; response, /** * ä¸‹é¢çš„æ³¨é‡Šä¸ºé€šè¿‡responseè‡ªå®šä¹‰codeæ¥æ ‡ç¤ºè¯·æ±‚çŠ¶æ€ï¼Œå½“codeè¿”å›å¦‚ä¸‹æƒ…å†µä¸ºæƒé™æœ‰é—®é¢˜ï¼Œç™»å‡ºå¹¶è¿”å›åˆ°ç™»å½•é¡µ * å¦‚é€šè¿‡xmlhttprequest çŠ¶æ€ç æ ‡è¯† é€»è¾‘å¯å†™åœ¨ä¸‹é¢errorä¸­ */ // const res = response.data; // if (res.code !== 20000) &#123; // Message(&#123; // message: res.message, // type: &apos;error&apos;, // duration: 5 * 1000 // &#125;); // // 50008:éæ³•çš„token; 50012:å…¶ä»–å®¢æˆ·ç«¯ç™»å½•äº†; 50014:Token è¿‡æœŸäº†; // if (res.code === 50008 || res.code === 50012 || res.code === 50014) &#123; // MessageBox.confirm(&apos;ä½ å·²è¢«ç™»å‡ºï¼Œå¯ä»¥å–æ¶ˆç»§ç»­ç•™åœ¨è¯¥é¡µé¢ï¼Œæˆ–è€…é‡æ–°ç™»å½•&apos;, &apos;ç¡®å®šç™»å‡º&apos;, &#123; // confirmButtonText: &apos;é‡æ–°ç™»å½•&apos;, // cancelButtonText: &apos;å–æ¶ˆ&apos;, // type: &apos;warning&apos; // &#125;).then(() =&gt; &#123; // store.dispatch(&apos;FedLogOut&apos;).then(() =&gt; &#123; // location.reload();// ä¸ºäº†é‡æ–°å®ä¾‹åŒ–vue-routerå¯¹è±¡ é¿å…bug // &#125;); // &#125;) // &#125; // return Promise.reject(&apos;error&apos;); // &#125; else &#123; // return response.data; // &#125; error =&gt; &#123; console.log(&apos;err&apos; + error)// for debug Message(&#123; message: error.message, type: &apos;error&apos;, duration: 5 * 1000 &#125;) return Promise.reject(error) &#125;)export default service demoç¤ºä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * ä¸¥è‚ƒå£°æ˜ï¼š * å¼€æºç‰ˆæœ¬è¯·åŠ¡å¿…ä¿ç•™æ­¤æ³¨é‡Šå¤´ä¿¡æ¯ï¼Œè‹¥åˆ é™¤æˆ‘æ–¹å°†ä¿ç•™æ‰€æœ‰æ³•å¾‹è´£ä»»è¿½ç©¶ï¼ * æœ¬ç³»ç»Ÿå·²ç”³è¯·è½¯ä»¶è‘—ä½œæƒï¼Œå—å›½å®¶ç‰ˆæƒå±€çŸ¥è¯†äº§æƒä»¥åŠå›½å®¶è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒä¿æŠ¤ï¼ * å¯æ­£å¸¸åˆ†äº«å’Œå­¦ä¹ æºç ï¼Œä¸å¾—ç”¨äºè¿æ³•çŠ¯ç½ªæ´»åŠ¨ï¼Œè¿è€…å¿…ç©¶ï¼ * Copyright (c) 2020 é™ˆå°¼å…‹ all rights reserved. * ç‰ˆæƒæ‰€æœ‰ï¼Œä¾µæƒå¿…ç©¶ï¼ */import axios from 'axios'import &#123; Toast &#125; from 'vant'import router from '../router'axios.defaults.baseURL = process.env.NODE_ENV == 'development' ? '//backend-api-01.newbee.ltd/api/v1' : '//backend-api-01.newbee.ltd/api/v1'axios.defaults.withCredentials = true// å…è®¸æºå¸¦cookieaxios.defaults.withCredentials = true// è¯·æ±‚å¤´ä¿¡æ¯axios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'axios.defaults.headers['token'] = localStorage.getItem('token') || ''// é»˜è®¤ä½¿ç”¨ application/json å½¢å¼axios.defaults.headers.post['Content-Type'] = 'application/json'axios.interceptors.request.use( config =&gt; &#123; return config; &#125;, error =&gt; &#123; console.log(error); return Promise.reject(); &#125;);axios.interceptors.response.use(res =&gt; &#123; if (typeof res.data !== 'object') &#123; Toast.fail('æœåŠ¡ç«¯å¼‚å¸¸ï¼') return Promise.reject(res) &#125; if (res.data.resultCode != 200) &#123; if (res.data.message) Toast.fail(res.data.message) if (res.data.resultCode == 416) &#123; router.push(&#123; path: '/login' &#125;) &#125; return Promise.reject(res.data) &#125; return res.data&#125;)export default axios é’ˆå¯¹åç«¯APIè¯·æ±‚å°è£…æˆServiceçš„é¡¹ç›®ç¤ºä¾‹ https://github.com/lin-xin/vue-manage-system/blob/master/src/api/index.jsâ€”â€”æœ€ç®€å•çš„ç¤ºèŒƒ https://github.com/ibwei/vue3-ts-base","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"Vue","slug":"Vue","permalink":"https://nymrli.top/tags/Vue/"}]},{"title":"GoodCSSè®°å½•","slug":"GoodCSSè®°å½•","date":"2021-11-29T07:03:44.000Z","updated":"2021-12-04T14:53:31.396Z","comments":true,"path":"2021/11/29/GoodCSSè®°å½•/","link":"","permalink":"https://nymrli.top/2021/11/29/GoodCSSè®°å½•/","excerpt":"","text":"GoodCssè®°å½• å›¾æ ‡å››è§’åè½¬ï¼š é€šè¿‡ @keyframes è§„åˆ™ï¼Œæ‚¨èƒ½å¤Ÿåˆ›å»ºåŠ¨ç”»ã€‚ åˆ›å»ºåŠ¨ç”»çš„åŸç†æ˜¯ï¼Œå°†ä¸€å¥— CSS æ ·å¼é€æ¸å˜åŒ–ä¸ºå¦ä¸€å¥—æ ·å¼ã€‚ 12&gt; @keyframes animationname &#123;keyframes-selector &#123;css-styles;&#125;&#125;&gt; animationname å¿…éœ€ã€‚å®šä¹‰åŠ¨ç”»çš„åç§°ã€‚ keyframes-selector å¿…éœ€ã€‚åŠ¨ç”»æ—¶é•¿çš„ç™¾åˆ†æ¯”ã€‚åˆæ³•çš„å€¼ï¼š 0-100% fromï¼ˆä¸ 0% ç›¸åŒï¼‰ toï¼ˆä¸ 100% ç›¸åŒï¼‰ css-styles: å¿…éœ€ã€‚ä¸€ä¸ªæˆ–å¤šä¸ªåˆæ³•çš„ CSS æ ·å¼å±æ€§ã€‚ 12345678910111213141516171819202122232425262728293031@keyframes flip &#123; 0% &#123; transform: rotateY(0); &#125; 25% &#123; transform: rotateY(180deg); &#125; 50% &#123; transform: rotateY(180deg) rotateX(180deg); &#125; 75% &#123; transform: rotateY(360deg) rotateX(180deg); &#125; 100% &#123; transform: rotateY(360deg) rotateX(360deg); &#125;&#125;[v-cloak] .logo &#123; position: relative; width: 3rem; height: 3rem; overflow: hidden; background-color: hsl(241, 99%, 70%); border-radius: 50%; animation: 2s flip infinite;&#125; æ³¨ï¼š é‡‡ç”¨animationéœ€è¦å°†positionè®¾ç½®ä¸ºrelative æ–¹å½¢å˜åœ†å½¢ï¼š 12width: 3rem;height: 3rem;border-radius: 50%; å…ƒç´ åœ¨å®¹å™¨ä¸­æ­£å±…ä¸­â€”â€”Flex 12345678[v-cloak] .placeholder &#123; display: flex; // flexå¸ƒå±€ flex-direction: column; // å…ƒç´ å †å æ–¹å‘, è¿™ä¸ªæ— æ‰€è°“, ä¸»è¦çš„æ˜¯ä¸‹é¢ä¸¤ä¸ª align-items: center; // æ°´å¹³å±…ä¸­ justify-content: center; // å‚ç›´å±…ä¸­ width: 100%; height: 100%;&#125; æ”¾ç½®é¡¹å±…ä¸­ 123456.test&#123; height: 80vh; // æ‰¾åˆ°ä¸ªå±…ä¸­çš„é«˜åº¦ weight: 100%; display: grid; place-items: center center; // æ°´å¹³å±…ä¸­&#125; from: https://www.bilibili.com/video/BV1Zr4y1r7bx é€‰æ‹©å™¨ :after é€‰æ‹©å™¨å‘é€‰å®šå…ƒç´ çš„æœ€åå­å…ƒç´ åé¢æ’å…¥å†…å®¹ã€‚ä½¿ç”¨content å±æ€§æ¥æŒ‡å®šè¦æ’å…¥çš„å†…å®¹ã€‚ ::afteré’ˆå¯¹æ‰€æœ‰å…ƒç´ çš„:after 123456p:after&#123; content:\"- å°è¯\";&#125;&lt;p&gt;&lt;b&gt;æ³¨é‡Šï¼š&lt;/b&gt;å¯¹äºåœ¨ IE8 ä¸­å·¥ä½œçš„ :afterï¼Œå¿…é¡»å£°æ˜ DOCTYPEã€‚&lt;/p&gt; :selectionï¼šé’ˆå¯¹è¢«é€‰æ‹©å 123::selection &#123; background: rgba(var.$color-text, 0.15); // hslä¸ºæ‹¾è‰²å™¨&#125; å¸ƒå±€ BOX ä¼ ç»Ÿå¸ƒå±€åŸºäºç›’çŠ¶æ¨¡å‹ï¼Œä¾èµ– display å±æ€§ + positionå±æ€§ + floatå±æ€§ã€‚ å®ƒå¯¹äºé‚£äº›ç‰¹æ®Šå¸ƒå±€éå¸¸ä¸æ–¹ä¾¿ï¼Œæ¯”å¦‚ï¼Œå‚ç›´å±…ä¸­å°±ä¸å®¹æ˜“å®ç°ã€‚ Flex 2009å¹´ï¼ŒW3C æå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ¡ˆ----Flex å¸ƒå±€ï¼Œå¯ä»¥ç®€ä¾¿ã€å®Œæ•´ã€å“åº”å¼åœ°å®ç°å„ç§é¡µé¢å¸ƒå±€ã€‚ç›®å‰ï¼Œå®ƒå·²ç»å¾—åˆ°äº†æ‰€æœ‰æµè§ˆå™¨çš„æ”¯æŒï¼Œè¿™æ„å‘³ç€ï¼Œç°åœ¨å°±èƒ½å¾ˆå®‰å…¨åœ°ä½¿ç”¨è¿™é¡¹åŠŸèƒ½ã€‚ Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸º&quot;å¼¹æ€§å¸ƒå±€&quot;ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚ é‡‡ç”¨ Flex å¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸º Flex å®¹å™¨ï¼ˆflex containerï¼‰ï¼Œç®€ç§°&quot;å®¹å™¨&quot;ã€‚å®ƒçš„æ‰€æœ‰å­å…ƒç´ è‡ªåŠ¨æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸º Flex é¡¹ç›®ï¼ˆflex itemï¼‰ï¼Œç®€ç§°&quot;é¡¹ç›®&quot;ã€‚ å®¹å™¨çš„å±æ€§: flex-direction: flex-directionå±æ€§å†³å®šä¸»è½´çš„æ–¹å‘ï¼ˆå³é¡¹ç›®çš„æ’åˆ—æ–¹å‘ï¼‰ã€‚ flex-direction: row | row-reverse | column | column-reverse; flex-wrap: é»˜è®¤æƒ…å†µä¸‹ï¼Œé¡¹ç›®éƒ½æ’åœ¨ä¸€æ¡çº¿ï¼ˆåˆç§°&quot;è½´çº¿&quot;ï¼‰ä¸Šã€‚flex-wrapå±æ€§å®šä¹‰ï¼Œå¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œã€‚ nowrap | wrap | wrap-reverse; flex-flow justify-content: å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ã€‚ justify-content: flex-start | flex-end | center | space-between | space-around; space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚ align-items: å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ã€‚ align-items: flex-start | flex-end | center | baseline | stretch; align-content: å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚ align-content: flex-start | flex-end | center | space-between | space-around | stretch; é¡¹ç›®å±æ€§ order: å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚ flex-grow: å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚ flex-shrink: å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚ flex-basis: å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å¤§å°ï¼ˆmain sizeï¼‰ flex: æ˜¯flex-grow, flex-shrink å’Œ flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 auto è¯¥å±æ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼šauto (1 1 auto) å’Œ none (0 0 auto)ã€‚ å»ºè®®ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯å•ç‹¬å†™ä¸‰ä¸ªåˆ†ç¦»çš„å±æ€§ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæ¨ç®—ç›¸å…³å€¼ã€‚ â–²align-self: å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretchã€‚ align-self: auto | flex-start | flex-end | center | baseline | stretch; é¡¹ç›®å¸ƒå±€ç»å…¸æ ·ä¾‹ vueã€Layout å¸ƒå±€ã€Layout å±æ€§äº‹ä»¶ã€vue Layout å…¨éƒ¨å¸ƒå±€ã€vue Layout å…¨éƒ¨å±æ€§äº‹ä»¶ ç»„ä»¶åº“ Vue2 muse-ui Vue3 å¼•å…¥ Antd for Vue3 ç‰ˆæœ¬ç»„ä»¶åº“ Antdv2.xæ˜¯å”é‡‘å·è€å¸ˆï¼ˆæ­å·æ ¡å®åœ¨çº¿ï¼‰ç ”å‘çš„æ–°ä¸€ä»£é€‚é… Vue 3.0 çš„ç»„ä»¶åº“ï¼Œæˆ‘ä»¬æ¥å°å°é²œï¼Œè¿™è¾¹æˆ‘ä»¬é€šè¿‡å¦‚ä¸‹å‘½ä»¤åä¸‹è½½ï¼š elementUIï¼š é¥¿äº†ä¹ˆçš„vueç»„ä»¶åº“-&gt;Vue2 LayoutUI: ä½¿ç”¨jqueryå®ç°çš„ç»„ä»¶åº“ elementPlus: é¥¿äº†ä¹ˆçš„vueç»„ä»¶åº“-&gt;Vue3 Bootstrap-Vue UIç»„ä»¶åº“: Bootstrap-VUEæä¾›äº†åŸºäºvue2çš„Bootstrap V4ç»„ä»¶å’Œç½‘æ ¼ç³»ç»Ÿçš„å®ç° Ant Design Vue UIç»„ä»¶åº“: Ant Design Vueæ˜¯ Ant Design 3.X çš„ Vue å®ç°ï¼Œå¼€å‘å’ŒæœåŠ¡äºä¼ä¸šçº§åå°äº§å“ã€‚ iViewï¼š ä¸€å¥—åŸºäº Vue.js çš„é«˜è´¨é‡UI ç»„ä»¶åº“ Naive UI Radon UIï¼š ä¸€ä¸ªå¸®åŠ©ä½ å¿«é€Ÿå¼€å‘äº§å“çš„Vueç»„ä»¶åº“ï¼Œç®€æ´å¥½ç”¨ï¼Œæ•ˆç‡é«˜ï¼Œè®©ä½ æ‘†è„±å„ç§å®šåˆ¶åŒ–çš„çƒ¦æ¼ã€‚ Vue Antdï¼šè¿™é‡Œæ˜¯ Ant Design çš„ Vue å®ç°ï¼Œå¼€å‘å’ŒæœåŠ¡äºä¼ä¸šçº§åå°äº§å“ã€‚ Vuetify: Vuetifyæ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„æ¡†æ¶ï¼Œè¯•å›¾æ¨åŠ¨å‰ç«¯å¼€å‘å‘å±•åˆ°ä¸€ä¸ªæ–°çš„æ°´å¹³ã€‚Vuetify æ”¯æŒSSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ï¼ŒSPAï¼ˆå•é¡µåº”ç”¨ç¨‹åºï¼‰ï¼ŒPWAï¼ˆæ¸è¿›å¼Webåº”ç”¨ç¨‹åºï¼‰å’Œæ ‡å‡†HTMLé¡µé¢ã€‚ ç§»åŠ¨ç«¯ï¼š Vant UIç»„ä»¶åº“: Vantæ˜¯ä¸€ä¸ªè½»é‡ã€å¯é çš„ç§»åŠ¨ç«¯ Vue ç»„ä»¶åº“ã€‚ Mint UIç»„ä»¶åº“: Mint UIåŸºäº Vue.js çš„ç§»åŠ¨ç«¯ç»„ä»¶åº“ï¼ŒåŒæ ·å‡ºè‡ªé¥¿äº†ä¹ˆå‰ç«¯çš„é¡¹ç›®ã€‚ å°ç¨‹åºï¼š mpvue æ¡†æ¶ iview UI vanz UI Vueç»“åˆTailwindCss(cssæ¡†æ¶) å®‰è£…yarn add tailwindcss@1.4.6 åœ¨ src/assets æ–°å»º css æ–‡ä»¶å¤¹ï¼Œå¹¶æ–°å»º tailwind.css (æ–‡ä»¶åéšä¾¿ï¼Œä¸‹é¢ä¿æŒä¸€è‡´å³å¯) åœ¨ tailwind.css æ–‡ä»¶ä¸­ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹: 123@tailwind base;@tailwind components;@tailwind utilities; main.jså¼•å…¥import â€œ./assets/css/tailwind.cssâ€ 123import \"./assets/css/tailwind.css\"or import \"@/assets/css/tailwind.css\" åˆ›å»º Tailwind é…ç½®æ–‡ä»¶(ä½¿ç”¨é»˜è®¤å³å¯): npx tailwind init or npx tailwind init --full æ–°å»º postcss.config.js æ–‡ä»¶ 1234567891011121314151617181920const purgecss = require('@fullhuman/postcss-purgecss')(&#123; content: [ './src/**/*.html', './src/**/*.vue', './src/**/*.jsx', ], // Include any special characters you're using in this regular expression defaultExtractor: content =&gt; content.match(/[\\w-/:]+(?&lt;!:)/g) || [] &#125;) module.exports = &#123; plugins: [ require('tailwindcss'), require('autoprefixer'), ...process.env.NODE_ENV === 'production' ? [purgecss] : [] ] &#125; é¡¹ç›®å¯¼èˆªæ  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;template&gt; // å…ˆå°†ç»„ä»¶ç”¨ä¸€ä¸ªdivä½œä¸ºå®¹å™¨å›ºå®šèµ·æ¥, å¹¶è®¾ç½®ä¸ºrelative, ä¹‹åå°±å¯ä»¥é€šè¿‡absoluteè¿›è¡Œå®šä½äº† &lt;div class=&quot;container&quot;&gt; &lt;n-layout position=&quot;absolute&quot;&gt; &lt;Header class=&quot;header&quot; :inverted=&quot;inverted&quot; @toggleInverd=&quot;toggleInverd&quot; /&gt; &lt;n-layout has-sider position=&quot;absolute&quot; class=&quot;content&quot;&gt; &lt;Sidebar :inverted=&quot;inverted&quot; /&gt; &lt;n-layout content-style=&quot;padding: 24px;&quot;&gt; &lt;Breadcrumb /&gt; &lt;n-message-provider&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/n-message-provider&gt; &lt;/n-layout&gt; &lt;/n-layout&gt; &lt;/n-layout&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import &#123; defineComponent, ref &#125; from &quot;vue&quot;; import Sidebar from &quot;../components/Sider/index.vue&quot;; import Header from &quot;../components/Header/index.vue&quot;; import Breadcrumb from &quot;./Breadcrumb/index.vue&quot;; export default defineComponent(&#123; name: &quot;App&quot;, components: &#123; Sidebar, Header, Breadcrumb &#125;, setup() &#123; let inverted = ref(false); const toggleInverd = (value) =&gt; &#123; inverted.value = value; &#125;; return &#123; inverted, toggleInverd, &#125;; &#125;, &#125;);&lt;/script&gt;&lt;style lang=&quot;scss&quot;&gt; .container &#123; position: relative; height: 100vh; .header &#123; height: 60px; &#125; .content &#123; min-height: calc(100vh - 56px); top: 56px; bottom: 56px; &#125; &#125;&lt;/style&gt;","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"}]},{"title":"Vue3åˆä½“éªŒ","slug":"Vue3åˆä½“éªŒ","date":"2021-11-28T09:44:53.000Z","updated":"2022-03-29T12:48:01.334Z","comments":true,"path":"2021/11/28/Vue3åˆä½“éªŒ/","link":"","permalink":"https://nymrli.top/2021/11/28/Vue3åˆä½“éªŒ/","excerpt":"","text":"Vue3äº2020å¹´09æœˆ18æ—¥æ­£å¼å‘å¸ƒï¼Œæ˜ å…¥æˆ‘è§†é‡çš„æ–°ä¸œè¥¿é™¤äº†Vue3ä»¥å¤–ï¼Œè¿˜æœ‰yarnå’Œviteã€‚ä»–ä»¬ä¸¤ä¸ªæœ¬èº«çš„åŠŸèƒ½å¹¶ä¸æ˜¯æ–°ä¸œè¥¿ï¼Œyarnå¯¹æ ‡çš„æ˜¯npmåŒ…ç®¡ç†å·¥å…·ï¼Œviteå¯¹æ ‡çš„webpackåŒ…æ‰“åŒ…å·¥å…·ã€‚ ä¸vue2ä¸åŒçš„æ˜¯ï¼Œvue3å·¥ç¨‹ä¸­æ²¡æœ‰ build æ–‡ä»¶ï¼Œ ç›¸åº”çš„build/index.jsçš„é…ç½®æ”¹ç”±äº†é¡¹ç›®æ ¹ç›®å½•ä¸‹vue.config.jsæ‰¿æ‹… Vue3æ–°ç‰¹æ€§ templateæ ‡ç­¾ä¸‹é¢å¯ä»¥æœ‰å¤šä¸ªèŠ‚ç‚¹äº†ï¼Œç»ˆäºä¸ç”¨å…ˆå†™ä¸€ä¸ªDIVäº† setupå‡½æ•°å¯ä»¥ä»£æ›¿ä¹‹å‰çš„dataï¼Œmethodsï¼Œcomputedï¼Œwatchï¼ŒMountedç­‰å¯¹è±¡ï¼Œä½†æ˜¯propså£°æ˜è¿˜æ˜¯åœ¨å¤–é¢ã€‚ ç›¸æ¯”äºVueé‡‡ç”¨çš„OPTIONS APIï¼ŒVue3ä½¿ç”¨çš„ä¸ºComposition-API vue3.0å…è®¸ä¸€ä¸ªç»„ä»¶æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹ åˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼šé€šå¸¸ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨æœ€å¤–å±‚åŒ…è£¹ä¸€å±‚ div æ¥åˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œä½†è¿™ä¸ªdivå…ƒç´ ä¸€èˆ¬æ²¡æœ‰ä»»ä½•ä½¿ç”¨ä»·å€¼ï¼Œå°±åªæ˜¯è®©æ¨¡æ¿ç¬¦åˆå•æ ¹éœ€æ±‚ã€‚ 123456&lt;template&gt; &lt;div&gt; &lt;!--åªæ˜¯æ¥åŒ…è£…ä¸€ä¸‹, å¦‚æœä¸åŠ è¿™ä¸€è¡Œä¼šæŠ¥é”™--&gt; &lt;div&gt;Node 1&lt;/div&gt; &lt;div&gt;Node 2&lt;/div&gt; &lt;/div&gt;&lt;/template&gt; ä½†åœ¨Vue3ä¸­æ”¯æŒå¤šæ ¹å³å¤šä¸ª&lt;div&gt;ã€ ç”šè‡³ä¸å†™divä¹Ÿæ²¡é—®é¢˜ 12345678&lt;template&gt; &lt;div&gt; &#123;&#123; msg1 &#125;&#125; &lt;/div&gt; &lt;div&gt; &#123;&#123; msg2 &#125;&#125; &lt;/div&gt;&lt;/template&gt; åŸå› æ˜¯Vue.js 3.0 æ”¯æŒäº† Fragments çš„è¯­æ³•ï¼Œå…·ä½“åŸç†æ²¡åˆ†æã€‚ Composition-Api setup() å‡½æ•° ä¸€ç»„ä½ä¾µå…¥å¼çš„ã€å‡½æ•°å¼çš„ APIï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿæ›´çµæ´»åœ°ã€Œç»„åˆã€ç»„ä»¶çš„é€»è¾‘ã€‚ åœ¨å­¦ä¹  Composition-Api ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹ setup() å‡½æ•°ã€‚ setup() æ˜¯ Vue3 ä¸­çš„æ–°å¢å†…å®¹ã€‚å®ƒä¸ºåŸºäº Composition API çš„æ–°ç‰¹æ€§æä¾›äº†ç»Ÿä¸€çš„å…¥å£ã€‚ åœ¨Vue3ä¸­ï¼Œå®šä¹‰ methodsã€watchã€computedã€dataæ•°æ® ç­‰éƒ½æ”¾åœ¨äº† setup() å‡½æ•°ä¸­ æ‰§è¡Œæ—¶æœº setup()å‡½æ•°ä¼šåœ¨created()ç”Ÿå‘½å‘¨æœŸä¹‹å‰æ‰§è¡Œã€‚ å‚æ•° setup() å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ props ï¼Œç»„ä»¶æ¥æ”¶çš„ props æ•°æ®å¯ä»¥åœ¨ setup() å‡½æ•°å†…è®¿é—®åˆ°ã€‚ context æ˜¯ setup() çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ context æ¥è®¿é—®Vueçš„å®ä¾‹ this ã€‚ æ³¨æ„ï¼šåœ¨ setup() å‡½æ•°ä¸­è®¿é—®ä¸åˆ°Vueçš„ this å®ä¾‹ï¼Œ éœ€è¦é€šè¿‡contextæ¥å– å…·ä½“å‡½æ•° æ•°æ® åœ¨Vue2.xçš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ data() ä¸­å®šä¹‰ä¸€ä¸ªæ•°æ®å°±èƒ½å°†å®ƒå˜ä¸ºå“åº”å¼æ•°æ®ï¼Œåœ¨ Vue3.0 ä¸­ï¼Œéœ€è¦ç”¨ reactive å‡½æ•°æˆ–è€… ref æ¥åˆ›å»ºå“åº”å¼æ•°æ®ã€‚ reactive() reactive() å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œè¿”å›å‡ºä¸€ä¸ªå“åº”å¼å¯¹è±¡ã€‚ 123456789101112// åœ¨ç»„ä»¶åº“ä¸­å¼•å…¥ reactiveimport &#123; reactive &#125; from '@vue/ composition-api'setup() &#123; // åˆ›å»ºå“åº”å¼å¯¹è±¡ const state = reactive(&#123; count:0 &#125;); // å°†å“åº”å¼å¯¹è±¡returnå‡ºå»ï¼Œæš´éœ²ç»™æ¨¡æ¿ä½¿ç”¨ return state;&#125; ref() ref() å‡½æ•°å¯ä»¥æ ¹æ®ç»™å®šçš„å€¼æ¥åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„æ•°æ®å¯¹è±¡ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸”åªåŒ…å«ä¸€ä¸ª .value å±æ€§ã€‚ 1234567891011// å¼•å…¥ refimport &#123; ref &#125; from '@vue/composition-api'setup() &#123; // åˆ›å»ºå“åº”å¼å¯¹è±¡ const count = ref(0); return &#123; count &#125;&#125; ref çš„æ³¨æ„äº‹é¡¹ åœ¨ setup() å‡½æ•°å†…ï¼Œç”± ref() åˆ›å»ºçš„å“åº”å¼æ•°æ®è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦ç”¨ .value æ¥è®¿é—®ï¼› è€Œåœ¨ setup() å‡½æ•°å¤–éƒ¨åˆ™ä¸éœ€è¦ .value ï¼Œç›´æ¥è®¿é—®å³å¯ã€‚ ==&gt; &lt;template&gt;ä¸­ç›´æ¥ä½¿ç”¨å“åº”å¼æ•°æ®: å“åº”å¼å¯¹è±¡é‡Œé¢å¦‚æœæœ‰refåŒ…è£…çš„å€¼ç±»å‹ã€‚åˆ™Vueä¼šå®ç°è‡ªåŠ¨æ‹†ç®± å¯ä»¥åœ¨ reactive å¯¹è±¡ä¸­è®¿é—® ref() å‡½æ•°åˆ›å»ºçš„å“åº”å¼æ•°æ®ã€‚ æ–°çš„ ref() ä¼šè¦†ç›–æ—§çš„ ref() ã€‚ é€‰æ‹© reactive è¿˜æ˜¯ ref å¦‚ï¼Œ new Date().getMonth()è¿”å›çš„æ˜¯Numberï¼Œ é€šè¿‡const m = ref(new Date().getMonth())å¯ä»¥ç›´æ¥æ‹†åŒ…è·å¾—å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨reactiveã€‚ä½†éœ€è¦ æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨mçš„æ—¶å€™ï¼Œåº”è¯¥ä½¿ç”¨m.value reactiveæ— éœ€.valueæ¥è·å¾—å€¼ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡xx.propè·å–å³å¯ Vue3 â€”â€” åˆ›å»ºå“åº”å¼æ•°æ®ä½¿ç”¨ reactive è¿˜æ˜¯ ref ï¼Ÿï¼ˆæœ¬å‘¨æ›´æ–°ï¼‰ computed() computed() ç”¨æ¥åˆ›å»ºè®¡ç®—å±æ€§ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ª ref() å®ä¾‹ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œä½¿ç”¨å‰éœ€è¦å…ˆå¼•å…¥ã€‚ computedåˆ›å»ºåªè¯»è®¡ç®—å±æ€§ 1234567const count = ref(1)// åˆ›å»ºä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œä½¿å…¶å€¼æ¯” count å¤§ 1const bigCount = computed(() =&gt; count.value + 1) // å³å¦‚æœåªæœ‰ä¸€ä¸ªå‡½æ•°ï¼Œä¸”æ²¡æœ‰å£°æ˜æ˜¯getè¿˜æ˜¯seté»˜è®¤ä¸ºgetåªè¯»console.log(bigCount.value) // è¾“å‡º 2bigCount.value++ // error ä¸å¯å†™ computedåˆ›å»ºå¯è¯»å¯å†™è®¡ç®—å±æ€§ 1234567891011121314151617const count = ref(1)// åˆ›å»ºä¸€ä¸ª computed è®¡ç®—å±æ€§ï¼Œä¼ å…¥ä¸€ä¸ªå¯¹è±¡const bigCount = computed(&#123; // å–å€¼å‡½æ•° get: () =&gt; (count.value + 1), // èµ‹å€¼å‡½æ•° set: val =&gt; &#123; count.value = val - 1 &#125;&#125;)// ç»™è®¡ç®—å±æ€§èµ‹å€¼çš„æ“ä½œï¼Œä¼šè§¦å‘ set å‡½æ•°bigCount.value = 9// è§¦å‘ set å‡½æ•°åï¼Œcount çš„å€¼ä¼šè¢«æ›´æ–°console.log(count.value) // 8 readonly() ä¼ å…¥ä¸€ä¸ªå“åº”å¼å¯¹è±¡ã€æ™®é€šå¯¹è±¡æˆ– ref ï¼Œè¿”å›ä¸€ä¸ªåªè¯»çš„å¯¹è±¡ä»£ç†ã€‚è¿™ä¸ªä»£ç†æ˜¯æ·±å±‚æ¬¡çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„æ•°æ®ä¹Ÿæ˜¯åªè¯»çš„ã€‚ 123const state = reactive(&#123; count: 0 &#125;)const copy = readonly(state) å‡½æ•° ä»¥å‰æ˜¯å†™åœ¨methodså¯¹è±¡ä¸­ï¼Œç°åœ¨æ˜¯å£°æ˜å‡½æ•°åæ”¾å› ä¾¦å¬ watch() composition-api ä¸­çš„ watch å’Œ Vue2.x ä¸­æ˜¯ä¸€æ ·çš„ï¼Œwatch éœ€è¦ä¾¦å¬æ•°æ®ï¼Œå¹¶æ‰§è¡Œå®ƒçš„ä¾¦å¬å›è°ƒã€‚é»˜è®¤æƒ…å†µä¸‹åˆæ¬¡æ¸²æŸ“ä¸æ‰§è¡Œã€‚ åº”ç”¨åœºæ™¯ï¼š ç›‘å¬è·¯ç”±å˜åŒ–ï¼ˆè·¯ç”±å˜åŒ–çš„ç›‘å¬åœ¨Vueç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­å®ç°éƒ½ä¸åˆé€‚ï¼Œæ”¾watchä¸­æ¯”è¾ƒåˆé€‚ï¼‰ 1234567891011121314// ä¾¦å¬ä¸€ä¸ª getterconst state = reactive(&#123; count: 0 &#125;)watch( () =&gt; state.count, (count, prevCount) =&gt; &#123; /* ... */ &#125;)// ç›´æ¥ä¾¦å¬ä¸€ä¸ª refconst count = ref(0)watch(count, (count, prevCount) =&gt; &#123; /* ... */&#125;) watch ä¸ watchEffect çš„ä¸åŒ watch åˆæ¬¡æ¸²æŸ“ä¸æ‰§è¡Œ watch ä¾¦å¬çš„æ›´å…·ä½“ watch å¯ä»¥è®¿é—®ä¾¦å¬æ•°æ®å˜åŒ–å‰åçš„å€¼ from: Vue3 çš„æ–°ç‰¹æ€§(äºŒ) â€”â€” Composition-Api æ€»ç»“: Composition API çš„å…¥å£åœ¨ setup() å‡½æ•°ä¸­ reactive å“åº”å¼å¯¹è±¡ ref æ¥æ”¶ä¸€ä¸ªå‚æ•°å¹¶è¿”å›å“åº”å¼å¯¹è±¡ åŸå…ˆåœ¨ Vue2 ä¸­çš„ methodsï¼Œwatchï¼Œcomponentã€data å‡å†™åœ¨ setup() å‡½æ•°ï¼Œä½¿ç”¨ä¹‹å‰éœ€è¦è‡ªè¡Œå¯¼å…¥ å›å½’äº† function xxx å®šä¹‰å‡½æ•° æ³¨ï¼š OnMounted()ã€watch()ã€computed()ä¸­é—´ä¼ çš„éƒ½æ˜¯åŒ¿åå‡½æ•°ï¼Œè€Œä¸æ˜¯å¯¹è±¡ åœ¨setupä¸­å–å€¼ä¸èƒ½ä½¿ç”¨this, thisåœ¨compositionä¸­æ˜¯undefine. æ‰€ä»¥vue2ä»£ç ç”¨åˆ°vue3ä¸­æ—¶å¾—æŠŠthisåˆ äº†(æ¯”å¦‚function), dataçš„è¯è¿˜å¾—åŠ .value åŒå‘ç»‘å®šçš„å˜é‡åœ¨setupä¸­å®šä¹‰æ—¶è¦åŠ refï¼Œä¿®æ”¹å˜é‡çš„å€¼æ—¶è¦åŠ value Vue2-&gt;Vue3åºŸå¼ƒçš„API filtersè¿‡æ»¤å™¨ï¼šç”±äº 1&lt;p&gt;&#123;&#123; accountBalance | currencyUSD &#125;&#125;&lt;/p&gt; æ‰“ç ´äº†å¤§æ‹¬å·å†…çš„è¡¨è¾¾å¼â€œåªæ˜¯ JavaScriptâ€çš„å‡è®¾ï¼Œè¿™ä¸ä»…æœ‰å­¦ä¹ æˆæœ¬ï¼Œè€Œä¸”æœ‰å®ç°æˆæœ¬ã€‚==&gt;åœ¨ 3.x ä¸­ï¼Œè¿‡æ»¤å™¨å·²ç§»é™¤ï¼Œä¸”ä¸å†æ”¯æŒã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæˆ‘ä»¬å»ºè®®ç”¨æ–¹æ³•è°ƒç”¨æˆ–è®¡ç®—å±æ€§æ¥æ›¿æ¢å®ƒä»¬ã€‚ Vue optionalAPIå¯ä»¥ä½¿ç”¨ this.$store.state 12345678910computed: &#123; isLoginOpen() &#123; return this.$store.state.isLoginOpen; &#125;, &#125;,methods:&#123; close() &#123; this.$store.commit(\"setLoginModal\", false); &#125;,&#125; this.$refs 1this.$refs.emailRef.focus this.$data this.$axios é™„å½• å¯¼å…¥vuexå’Œvue-router vue-routerä½¿ç”¨ yarn add vue-router@next --dev, å‚æ•°è¯´æ˜packageName@tagorpackageName@version åˆ›å»ºrouter/index.js 1234567891011121314151617181920212223242526272829303132333435363738394041424344import &#123; createRouter, createWebHistory &#125; from \"vue-router\";import ShowList from \"../components/ShowList.vue\"const router = createRouter(&#123; history: createWebHistory(), routes: [ &#123; path: \"/show\", component: ShowList &#125;, &#123; path: \"/login\", name: \"Login\", newB: \"yes\", // è¿˜å¯ä»¥è‡ªå®šä¹‰å¯¹è±¡çš„å±æ€§å€¼, æ–¹ä¾¿ä¹‹åè·å–import routes from \"@/router/routes\"; ==&gt; å¦‚naiveçš„èœå•ç»„ä»¶ä¸­æ˜¯è¦è·å¾—keyçš„, è¿™è¾¹å°±å¯ä»¥ç»‘å®šä¸ªkey meta: &#123; title: 'ç™»å½•' &#125;, // æ‡’åŠ è½½ component: () =&gt; import ( /* webpackChunkName: \"login\" */ \"../views/Login.vue\") &#125;,&#123; path: '/user/:id', // å¦‚/user/111, router-link to=\"/user/111\"ä¹Ÿè¡Œã€‚æ³¨idä¸ºparamså‚æ•°, User.vueä¸­é€šè¿‡ &#123;&#123; $route.params.id &#125;&#125; è·å– components: &#123; default: User, sidebar: Sidebar &#125;, /**åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ $route ä¼šä½¿ä¹‹ä¸å…¶å¯¹åº”è·¯ç”±å½¢æˆé«˜åº¦è€¦åˆï¼Œä»è€Œä½¿ç»„ä»¶åªèƒ½åœ¨æŸäº›ç‰¹å®šçš„ URL ä¸Šä½¿ç”¨ï¼Œé™åˆ¶äº†å…¶çµæ´»æ€§ã€‚å¯ä»¥ä½¿ç”¨ props å°†ç»„ä»¶å’Œè·¯ç”±è§£è€¦ï¼šè¿™æ ·ä½ ä¾¿å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨è¯¥ç»„ä»¶ï¼Œä½¿å¾—è¯¥ç»„ä»¶æ›´æ˜“äºé‡ç”¨å’Œæµ‹è¯•ã€‚ */ props: &#123; default: true, sidebar: false &#125; &#125; ]&#125;)router.beforeEach((to, from, next) =&gt; &#123; document.title = `$&#123;to.meta.title&#125; | vue-manage-system`; const role = localStorage.getItem('ms_username'); if (!role &amp;&amp; to.path !== '/login') &#123; next('/login'); &#125; else if (to.meta.permission) &#123; // å¦‚æœæ˜¯ç®¡ç†å‘˜æƒé™åˆ™å¯è¿›å…¥ï¼Œè¿™é‡Œåªæ˜¯ç®€å•çš„æ¨¡æ‹Ÿç®¡ç†å‘˜æƒé™è€Œå·² role === 'admin' ? next() : next('/403'); &#125; else &#123; next(); &#125;&#125;);export default router appä¸‹è¿›è¡Œrouterè·³è½¬ 12345678910111213&lt;template&gt; &lt;div id=\"app\"&gt; &lt;div&gt; // ä¸‹é¢çš„å«å£°æ˜å¼ &lt;router-link to=\"/\"&gt;Home&lt;/router-link&gt; | &lt;router-link to=\"/show\"&gt;show&lt;/router-link&gt;| &lt;router-link to=\"/hello\"&gt;hello&lt;/router-link&gt;| &lt;router-link :to=\"&#123;name: 'antd', params: &#123; id: 2 &#125;&#125;\"&gt;antd&lt;/router-link&gt; &lt;/div&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt; router-link å®ç°è·¯ç”±ä¹‹é—´çš„è·³è½¬ï¼Œå¦‚ç‚¹å‡»showè¶…é“¾æ¥åˆ™ä¼šè·³è½¬åˆ°http://localhost:8080/show 123456789101112&gt; &lt;!-- å­—ç¬¦ä¸² --&gt;&gt; &lt;router-link to=\"home\"&gt;Home&lt;/router-link&gt;&gt; &lt;!-- æ¸²æŸ“ç»“æœ --&gt;&gt; &lt;a href=\"home\"&gt;Home&lt;/a&gt;&gt; &gt; &lt;!-- åŒä¸Š --&gt;&gt; &lt;router-link :to=\"&#123; path: 'home' &#125;\"&gt;Home&lt;/router-link&gt;&gt; &lt;!-- å‘½åçš„è·¯ç”± --&gt;&gt; &lt;router-link :to=\"&#123; name: 'user', params: &#123; userId: 123 &#125;&#125;\"&gt;User&lt;/router-link&gt;&gt; &lt;!-- å¸¦æŸ¥è¯¢å‚æ•°ï¼Œä¸‹é¢çš„ç»“æœä¸º /register?plan=private --&gt;&gt; &lt;router-link :to=\"&#123; path: 'register', query: &#123; plan: 'private' &#125;&#125;\"&gt;Register&lt;/router-link&gt;&gt; è§†å›¾ï¼šrouter-view å½“è·¯ç”±çš„path ä¸è®¿é—®çš„åœ°å€ç›¸ç¬¦æ—¶ï¼Œä¼šå°†æŒ‡å®šçš„ç»„ä»¶å†…å®¹æ›¿æ¢è¯¥ router-viewï¼Œå¦‚æœä¸ç‚¹å‡»è€Œæ˜¯ç›´æ¥å°†URLæ¢æˆhttp://localhost:8080/showä¹Ÿä¼šæ˜¾ç¤ºShowList.vueçš„å†…å®¹ï¼ˆä¸ºä»€ä¹ˆæ˜¯ShowList.vueï¼Ÿæ˜¯å› ä¸ºrouter/index.jsä¸­å°†path=''/show'ä¸ShowList.vueç»‘å®šäº†ï¼‰ å‘½åè§†å›¾ å­vueä¸­ç‚¹å‡»æŒ‰é’®åè¿›è¡Œrouterè·³è½¬ 12345678910111213141516171819202122232425262728293031323334 // vue2å†™æ³• function submitForm(formName) &#123; this.$refs[formName].validate((valid) =&gt; &#123; if (valid) &#123; this.$router.push(&#123;name: \"Mainwithout\", params: &#123;name: this.form.name&#125;&#125;) // å¦‚æœè¦ä¼ å‚ï¼Œåˆ™ä¸ºrouter-nameï¼›å¦‚æœä¸ä¼ å‚ç›´æ¥push(path) sessionStorage.setItem(\"isLogin\", true) this.$store.dispatch(\"asyncUpdateUser\", &#123;name: this.form.name&#125;) console.log(\"enter\", this.$store.state) &#125; else &#123; this.$message.error('é”™äº†å“¦ï¼Œè¿™æ˜¯ä¸€æ¡é”™è¯¯æ¶ˆæ¯'); return false; &#125; &#125;); &#125; // vue3å†™æ³•ï¼šVue-router 4.xä¸ºæ­¤æä¾›äº†useRoute()ï¼šimport &#123;useRouter&#125; from 'vue-router'setup(props,ctx)&#123; //routeræ˜¯å…¨å±€è·¯ç”±å¯¹è±¡ï¼Œroute= userRoute()æ˜¯å½“å‰è·¯ç”±å¯¹è±¡ let router = useRouter(); let start = () =&gt; &#123; // è¿™ä¸ªå«ç¼–ç¨‹å¼ router.push(&#123; //ä¼ é€’å‚æ•°ä½¿ç”¨queryçš„è¯ï¼ŒæŒ‡å®špathæˆ–è€…nameéƒ½è¡Œï¼Œä½†ä½¿ç”¨paramsçš„è¯ï¼Œåªèƒ½ä½¿ç”¨nameæŒ‡å®š path:'/home', query:&#123; num:1 &#125; &#125;) &#125; onMounted(() =&gt; &#123; const id = router.params.id &#125;)&#125; ç¼–ç¨‹å¼è°ƒç”¨æ–¹å¼ï¼š 123456789101112131415// å­—ç¬¦ä¸²router.push('home')// å¯¹è±¡router.push(&#123; path: 'home' &#125;)// å‘½åçš„è·¯ç”±router.push(&#123; name: 'user', params: &#123; userId: '123' &#125;&#125;)// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œå˜æˆ /register?plan=privaterouter.push(&#123; path: 'register', query: &#123; plan: 'private' &#125;&#125;)// â–²æ³¨ï¼šåŒæ ·çš„è§„åˆ™ä¹Ÿé€‚ç”¨äº router-link ç»„ä»¶çš„ to å±æ€§ã€‚router.replace(location, onComplete?, onAbort?)// è·Ÿ router.push å¾ˆåƒï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œå®ƒä¸ä¼šå‘ history æ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯è·Ÿå®ƒçš„æ–¹æ³•åä¸€æ · â€”â€” æ›¿æ¢æ‰å½“å‰çš„ history è®°å½•ã€‚router.go(n)// è¿™ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ„æ€æ˜¯åœ¨ history è®°å½•ä¸­å‘å‰æˆ–è€…åé€€å¤šå°‘æ­¥ï¼Œç±»ä¼¼ window.history.go(n)ã€‚ æ›´å¤š $router : æ˜¯è·¯ç”±æ“ä½œå¯¹è±¡ï¼Œåªå†™å¯¹è±¡ $route : è·¯ç”±ä¿¡æ¯å¯¹è±¡ï¼Œåªè¯»å¯¹è±¡ 123456789101112//æ“ä½œ è·¯ç”±è·³è½¬this.$router.push(&#123; name:'hello', params:&#123; name:'word', age:'11' &#125;&#125;)//è¯»å– è·¯ç”±å‚æ•°æ¥æ”¶this.name = this.$route.params.name;this.age = this.$route.params.age; queryä¼ å‚è¦ç”¨pathæ¥å¼•å…¥ï¼Œparamsä¼ å‚è¦ç”¨nameæ¥å¼•å…¥ 1234567891011121314151617181920212223242526272829303132333435363738394041// path+query==&gt; /second?queryId=2222&amp;queryName=query//queryä¼ å‚ï¼Œä½¿ç”¨nameè·³è½¬this.$router.push(&#123; name:'second', query: &#123; queryId:'20180822', queryName: 'query' &#125;&#125;)//queryä¼ å‚ï¼Œä½¿ç”¨pathè·³è½¬this.$router.push(&#123; path:'second', query: &#123; queryId:'20180822', queryName: 'query' &#125;&#125;)//queryä¼ å‚æ¥æ”¶this.queryName = this.$route.query.queryName;this.queryId = this.$route.query.queryId;/** ---------------------- **/// name+params==&gt; /second/20180822/queryï¼Œ æ›´å¤šè§ï¼šhttps://router.vuejs.org/zh/guide/essentials/named-routes.htmlthis.$router.push(&#123; name:'second', params: &#123; id:'20180822', name: 'query' &#125;&#125;)//paramsæ¥æ”¶å‚æ•°ï¼Œ æ˜¯$routethis.id = this.$route.params.id ;this.name = this.$route.params.name ;//è·¯ç”±&#123; path: '/second/:id/:name', name: 'second', component: () =&gt; import('@/view/second')&#125; paramsæ˜¯è·¯ç”±çš„ä¸€éƒ¨åˆ†, å¿…é¡»è¦åœ¨è·¯ç”±åé¢æ·»åŠ å‚æ•°åã€‚queryæ˜¯æ‹¼æ¥åœ¨urlåé¢çš„å‚æ•°ï¼Œæ²¡æœ‰ä¹Ÿæ²¡å…³ç³»ã€‚ paramsä¸€æ—¦è®¾ç½®åœ¨è·¯ç”±ï¼Œparamså°±æ˜¯è·¯ç”±çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœè¿™ä¸ªè·¯ç”±æœ‰paramsä¼ å‚ï¼Œä½†æ˜¯åœ¨è·³è½¬çš„æ—¶å€™æ²¡æœ‰ä¼ è¿™ä¸ªå‚æ•°ï¼Œä¼šå¯¼è‡´è·³è½¬å¤±è´¥æˆ–è€…é¡µé¢ä¼šæ²¡æœ‰å†…å®¹ã€‚ï¼ˆæœ€é‡è¦çš„ä¸€ç‚¹ï¼Œparamsåˆ·æ–°ä¼šæ¶ˆå¤±ã€‚queryåˆ™ä¸ä¼šï¼‰ 12parmasï¼šhttps://blog.csdn.net/xxxquery: https://blog.csdn.net?xxx fromï¼šhttps://router.vuejs.org/zh/guide/essentials/dynamic-matching.html é‡‡å‘ï¼š 12:to=\"&#123;path:'invest/scattered',query: &#123;productId: list.id&#125;&#125;\"to=\"invest/scattered?productId=1\" // å¦‚æœä¸åŠ å†’å·è®¿é—®åŠ¨æ€å‚æ•°å³to=\"&#123;path:'invest/scattered',query: &#123;productId: list.id&#125;&#125;\"ï¼Œåˆ™ä¼šä¹±ç  å†’å·å¯ä»¥ä¼ åŠ¨æ€çš„å‚æ•°(ä¹Ÿå¯ä»¥ä¼ é™æ€çš„)ï¼›ä¸åŠ å†’å·æ˜¯é™æ€çš„è·¯å¾„ï¼›åŠ¨æ€è·¯ç”±ä¹Ÿå¯ä»¥ä»¥é™æ€è·¯ç”±çš„å½¢å¼å†™ï¼Œå‚æ•°å›ºå®šå¦‚:to=&quot;{name: 'antd', params: { id: 2 } }&quot;==&gt;to=&quot;/antd/2&quot;ï¼›å‚æ•°ä¸ºå˜é‡ï¼š 12&lt;router-link :to=&quot;&#123;name: &apos;antd&apos;, params: &#123; id: 2 &#125;&#125;&quot;&gt;antd&lt;/router-link&gt;&lt;router-link :to=&quot;`/antd/$&#123;uid&#125;`&quot;&gt;antd&lt;/router-link&gt; æ›´æ¨èæŒ‡å®šurlçš„å†™æ³•ï¼Œå› ä¸ºå°±ä¸ç”¨è€ƒè™‘nameè¿˜æ˜¯pathäº† 123456789101112131415// App.vue&lt;router-link :to=\"`/antd?name=mrli`\"&gt;antd&lt;/router-link&gt;// è¦è·³è½¬çš„ Antd.vue&#123;&#123; $route.query.name &#125;&#125;// App.vue&lt;router-link :to=\"`/antd/3`\"&gt;antd&lt;/router-link&gt;// è¦è·³è½¬çš„ Antd.vue&#123;&#123; $route.params.id &#125;&#125;// è¿˜éœ€è¦router/index.jsä¸­å®šä¹‰, ä¸ç„¶$route.params.idæ— æ³•å°†é‚£ä¸ªå€¼å¯¹åº”åˆ°idä¸Š&#123; path: \"/antd/:id\", name: \"antd\", component: AntdCom&#125;, from : Vue3å®æˆ˜ç³»åˆ—ï¼šç»“åˆ Ant-Design-of-Vue å®è·µ Composition API è¸©å‘: åµŒå¥—å­è·¯ç”±æ— æ³•ç›´æ¥é€šè¿‡URLè®¿é—®ï¼šæŠ¥é”™åŸå› æ˜¯GET http://localhost:3000/dashboard/src/main.js net::ERR_ABORTED 404 (Not Found) åç»è¿‡æµ‹è¯•æŸ¥æ˜ï¼ŒcreateWebHashHistoryæ˜¯å¯ä»¥ç›´æ¥è·³è½¬çš„ï¼Œä½†createWebHistoryæ˜¯ä¸èƒ½ç›´æ¥è·³åˆ°åµŒå¥—å­è·¯ç”±çš„ vuex å®‰è£…yarn add vuex@next --dev ç¼–å†™store/index.jsæ–‡ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940import &#123;createStore&#125; from 'vuex'export default createStore(&#123; state: &#123; tagsList: [], collapse: false &#125;, mutations: &#123; closeCurrentTag(state, data) &#123; for (let i = 0, len = state.tagsList.length; i &lt; len; i++) &#123; const item = state.tagsList[i]; if (item.path === data.$route.fullPath) &#123; if (i &lt; len - 1) &#123; data .$router .push(state.tagsList[i + 1].path); &#125; else if (i &gt; 0) &#123; data .$router .push(state.tagsList[i - 1].path); &#125; else &#123; data .$router .push(\"/\"); &#125; state .tagsList .splice(i, 1); break; &#125; &#125; &#125;, // ä¾§è¾¹æ æŠ˜å  handleCollapse(state, data) &#123; state.collapse = data; &#125; &#125;, actions: &#123;&#125;, modules: &#123;&#125;&#125;) åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ 123const collapseChage = () =&gt; &#123; store.commit(\"handleCollapse\", !collapse.value);&#125;; åˆ†æVue3é¡¹ç›® Vue Color Avatar index.js ä¸­çš„ v-cloak æŒ‡ä»¤ é¦–å…ˆyarn devæœ¬åœ°è¿è¡Œåè¿›å…¥é¡µé¢ï¼Œä¼šæœ‰ä¸€ä¸ªLoading, coming soonçš„é¡µé¢åŠ è½½è¿‡ç¨‹ï¼Œä¹‹åå°±ä¼šå–æ¶ˆæ‰ã€‚ç„¶ååœ¨é¡¹ç›®å…¥å£çš„index.htmlä¸­çœ‹åˆ°äº†å®ç°â€”â€”v-cloak åŠŸèƒ½ï¼šä½¿ç”¨ v-cloak æŒ‡ä»¤è®¾ç½®æ ·å¼ï¼Œè¿™äº›æ ·å¼ä¼šåœ¨ Vue å®ä¾‹ç¼–è¯‘ç»“æŸæ—¶ï¼Œä»ç»‘å®šçš„ HTML å…ƒç´ ä¸Šè¢«ç§»é™¤ã€‚ åœºæ™¯ï¼šå½“ç½‘ç»œè¾ƒæ…¢ï¼Œç½‘é¡µè¿˜åœ¨åŠ è½½ Vue.js ï¼Œè€Œå¯¼è‡´ Vue æ¥ä¸åŠæ¸²æŸ“ï¼Œè¿™æ—¶é¡µé¢å°±ä¼šæ˜¾ç¤ºå‡º Vue æºä»£ç (å¦‚ä¸‹å›¾)ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v-cloak æŒ‡ä»¤æ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚ æˆ‘ä»¬ä½¿ç”¨ v-cloak æŒ‡ä»¤æ¥è§£å†³å±å¹•é—ªåŠ¨çš„é—®é¢˜å§O(âˆ©_âˆ©)O~ï¼Œjs ä¸å˜ï¼Œåœ¨ div ä¸­åŠ å…¥ v-cloak æŒ‡ä»¤ã€‚ 1234// html&lt;div id=\"app\" v-cloak&gt; &#123;&#123;context&#125;&#125;&lt;/div&gt; 1234# cssï¼š[v-cloak]&#123; display: none;&#125; ä½¿ç”¨ v-cloak æŒ‡ä»¤ä¹‹åçš„æ•ˆæœï¼ˆdemoï¼‰ï¼š åœ¨ç®€å•é¡¹ç›®ä¸­ï¼Œä½¿ç”¨ v-cloak æŒ‡ä»¤æ˜¯è§£å†³å±å¹•é—ªåŠ¨çš„å¥½æ–¹æ³•ã€‚ä½†åœ¨å¤§å‹ã€å·¥ç¨‹åŒ–çš„é¡¹ç›®ä¸­ï¼ˆwebpackã€vue-routerï¼‰åªæœ‰ä¸€ä¸ªç©ºçš„ div å…ƒç´ ï¼Œå…ƒç´ ä¸­çš„å†…å®¹æ˜¯é€šè¿‡è·¯ç”±æŒ‚è½½æ¥å®ç°çš„ï¼Œè¿™æ—¶æˆ‘ä»¬å°±ä¸éœ€è¦ç”¨åˆ° v-cloak æŒ‡ä»¤å’¯ã€‚ from: https://www.jianshu.com/p/f56cde007210 æ³¨ï¼šindex.htmlä¸­å®šä¹‰çš„å…ƒç´ ï¼Œåœ¨Vueå®ä¾‹åŠ è½½å®Œæˆåï¼Œå°†éƒ½ä¸ä¼šæ˜¾ç¤ºï¼Œå› æ­¤æ¯”è¾ƒé€‚åˆç”¨æ¥åšLoadingé¡µé¢ 123456&lt;div id=\"app\" v-cloak&gt; &lt;div class=\"placeholder\"&gt; &lt;div class=\"logo\"&gt;&lt;/div&gt; &lt;div class=\"text\"&gt;Coming soon...&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; toRefs+è§£åŒ… 12345678910111213141516setup()&#123; const data = reactive(&#123; name: 'å°çš®', age: 18, year: computed(&#123; // è®¾ç½® getter å’Œ setter get: () =&gt; &#123; return 2020 - data.age &#125;, set: val =&gt; &#123; data.age = 2020 - val &#125; &#125;) &#125;) return &#123;...toRefs(data), changeAge, changeYear&#125;&#125; vue 3.0 ç»™input è·å–ç„¦ç‚¹ 123456789101112131415161718// ç»™table å¾ªç¯çš„input ç‚¹å‡»çš„æ—¶å€™è·å–ç„¦ç‚¹// 1ã€ç»™input è®¾ç½®ref å±æ€§&lt;el-input v-else ref=\"refInput\" @blur=\"(scope.row.code = !scope.row.code), changeBlur()\" v-model=\"scope.row[item.prop]\" :placeholder=\"'è¯·è¾“å…¥å†…å®¹' + item.label\"/&gt;// 1ã€ç»™inputçš„refå±æ€§åœ¨setupä¸­ä½¿ç”¨? å«ä»€ä¹ˆæˆ‘ä¸æ¸…æ¥šconst refInput =ref() //è®°å¾—return å‡ºå»//äº‹ä»¶è§¦å‘ è®°å¾—å¼•å…¥ nextTick from vueconst aaaa ()=&gt;&#123; nextTick(()=&gt;&#123; refInput.value.focus() &#125;)&#125; vue2ä¸­çš„å†™æ³•ï¼Œé€šè¿‡this.$ref.xxx.focus()æ¥å®ç° 12345678910111213141516 &lt;div&gt; //è·å–ç„¦ç‚¹ä¸»è¦å°±æ˜¯å®šä¹‰ä¸€ä¸ªref &lt;input v-model=\"inputvalue\" ref=\"inputVal\"/&gt; &lt;button @click=\"addItem\"&gt;æäº¤&lt;/button&gt; &lt;/div&gt; methods:&#123; //äº‹ä»¶è°ƒç”¨ addItem:function()&#123; //ç„¶åè°ƒç”¨focusæ–¹æ³• this.$nextTick(()=&gt;&#123; this.$refs.inputVal.focus() &#125;) &#125; &#125; å…³äºimport é»˜è®¤æƒ…å†µä¸‹ï¼ŒJavaScriptä¸­åœ¨æ¨¡å—å†…çš„æ‰€æœ‰å£°æ˜éƒ½æ˜¯æœ¬åœ°çš„ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ã€‚å¦‚æœéœ€è¦å…¬å¼€æ¨¡å—ä¸­éƒ¨åˆ†å£°æ˜çš„å†…å®¹ï¼Œå¹¶è®©å…¶å®ƒæ¨¡å—åŠ ä»¥ä½¿ç”¨ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å¯¼å‡ºåŠŸèƒ½ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯æ·»åŠ exportå…³é”®å­—å¯¼å‡ºæ¨¡å—ã€‚ é»˜è®¤å¯¼å‡ºå¯¼å…¥ï¼š æ¯ä¸ªæ¨¡å—ä»…æœ‰ä¸€ä¸ªdefaultçš„å¯¼å‡ºï¼Œå¯¼å‡ºå†…å®¹å¯ä»¥æ˜¯ä¸€ä¸ªfunctionã€classï¼Œobjectç­‰ã€‚å› ä¸ºè¿™ç§æ–¹å¼è¢«å½“åšä¸»è¦çš„å¯¼å‡ºå†…å®¹ï¼Œå¯¼å…¥æ–¹å¼æœ€ä¸ºç®€å•ã€‚ â–²æ³¨æ„ï¼šç”±äºä¸€ä¸ªæ¨¡å—ä»…ä»…åªå…è®¸å¯¼å‡ºä¸€ä¸ªdefaultå¯¹è±¡ï¼Œå®é™…å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªdefaultå‘½åçš„å˜é‡ã€‚ å› æ­¤å¯¼å…¥çš„æ—¶å€™importåçš„åå­—, å®é™…ä¸Šæ˜¯ç»™è¿™ä¸ªdefaultå‘½åçš„å¯¼å‡ºæš´éœ²çš„å†…å®¹è¿›è¡Œé‡å‘½åï¼Œæ‰€ä»¥importåå¯ä»¥æ˜¯ä»»æ„å˜é‡åç§°ï¼Œä¸”ä¸éœ€è¦{}ã€‚ namedå¯¼å‡ºå¯¼å…¥exportå‘½ä»¤è§„å®šçš„æ˜¯å¯¹å¤–çš„æ¥å£ï¼Œå¿…é¡»ä¸æ¨¡å—å†…éƒ¨çš„å˜é‡å»ºç«‹ä¸€ä¸€å¯¹åº”å…³ç³»ã€‚ importå‘½ä»¤æ¥å—ä¸€å¯¹å¤§æ‹¬å·ï¼Œé‡Œé¢æŒ‡å®šè¦ä»å…¶ä»–æ¨¡å—å¯¼å…¥çš„å˜é‡åã€‚å¤§æ‹¬å·é‡Œé¢çš„å˜é‡åï¼Œå¿…é¡»ä¸è¢«å¯¼å…¥æ¨¡å—(å³æš´éœ²æ¥å£æ¨¡å—)å¯¹å¤–æ¥å£çš„åç§°ç›¸åŒã€‚ å¦‚æœæƒ³ä¸ºè¾“å…¥çš„å˜é‡é‡æ–°å–ä¸€ä¸ªåå­—ï¼Œimportå‘½ä»¤è¦ä½¿ç”¨aså…³é”®å­—ï¼Œå°†è¾“å…¥çš„å˜é‡é‡å‘½åã€‚ æ€»ç»“ï¼š å¦‚æœæ˜¯é»˜è®¤å¯¼å‡ºexport defaultåˆ™å¯ä»¥çœç•¥èŠ±æ‹¬å·ï¼Œä¸”importçš„æ¨¡å—åæ˜¯éšæ„çš„ å¦‚æœæ˜¯éexport defaultå¯¼å‡ºçš„æ¥å£å†…å®¹ï¼Œåœ¨å¼•ç”¨æ—¶é¡»åŠ èŠ±æ‹¬å·ï¼Œä¸”å¼•ç”¨çš„æ¨¡å—åä¸å¯¼å‡ºæ—¶çš„å‘½åå¿…é¡»ç›¸åŒ æœ¬è´¨æ˜¯å› ä¸ºï¼šä¸€ä¸ªæ¨¡å—ä¸­åªå…è®¸ä¸€ä¸ªé»˜è®¤å¯¼å‡ºexport defaultï¼Œä½†å…è®¸å¤šä¸ªå‘½åå¯¼å‡ºexport; from æ ¼å¼ï¼š Js importçš„å…·ä½“æŸ¥æ‰¾è§„åˆ™ä¸ºï¼š â‘  å¦‚æœXæ˜¯å†…ç½®æ¨¡å—ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥æ¨¡å—ã€‚å¦‚require(â€˜httpâ€™)ã€‚ â‘¡ å¦‚æœXä»¥./ã€/ã€../çš„ç›¸å¯¹è·¯å¾„å¼€å¤´ï¼Œåˆ™ 1. æ ¹æ®Xæ‰€åœ¨çš„çˆ¶æ¨¡å—ï¼Œç¡®å®šXçš„ç»å¯¹è·¯å¾„ã€‚ 2. å°†Xå½“åšæ–‡ä»¶ï¼Œä¾æ¬¡æŸ¥æ‰¾ä¸‹é¢çš„æ–‡ä»¶ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚ 1. X 2. X.js 3. X.json 4. X.node 3. å°†Xå½“åšç›®å½•ï¼Œä¾æ¬¡æŸ¥æ‰¾ä¸‹é¢çš„æ–‡ä»¶ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚ 1. X/package.json(æŸ¥æ‰¾mainå­—æ®µä¸­çš„æ–‡ä»¶ï¼Œè§„åˆ™åŒä¸Š) 2. X/index.js 3. X/index.json 4. X/index.node â‘¢ å¦‚æœXä¸å¸¦è·¯å¾„ï¼š 1. æ ¹æ®Xæ‰€åœ¨çš„çˆ¶æ¨¡å—ï¼Œç¡®å®šXå¯èƒ½çš„å®‰è£…ç›®å½•ã€‚ 2. ä¾æ¬¡åœ¨æ¯ä¸ªç›®å½•ä¸­ï¼Œå°†Xå½“æˆæ–‡ä»¶åæˆ–ç›®å½•ååŠ è½½ã€‚ â‘£ â€œnot foundâ€ å› æ­¤ï¼Œä»¥ä¸‹ä¸‰ç§æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥æˆåŠŸ 123import router from './router/index.js' // ç¬¦åˆ `â‘¡21`import router from './router/index' // ç¬¦åˆ `â‘¡22`import router from './router' // ç¬¦åˆ `â‘¡32` æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£ä¹ˆè‚¯å®šæœ‰å…ˆåé¡ºåºï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åšä¸ªå®éªŒã€‚main.jsä¸ºæ ¹ç›®å½•ä¸‹æœ‰ä¸ªvu.js(ç›®æ ‡ä¸ºâ‘¡22), è¿˜æœ‰ä¸ªvuçš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«ä¸ªindex.js(ç›®æ ‡ä¸ºâ‘¡32)ã€‚ 12345678mrli@VM-4-7-ubuntu:~/import_test$ tree.â”œâ”€â”€ main.jsâ”œâ”€â”€ vuâ”‚ â””â”€â”€ index.jsâ””â”€â”€ vu.js1 directory, 3 files æ³¨æ„ï¼šæœ¬åœ°æµ‹è¯•æ—¶æ˜¯nodeè¿è¡Œï¼Œè€ŒNodeå’Œæµè§ˆå™¨ç«¯æ‰€æ”¯æŒçš„æ¨¡å—è§„èŒƒä¸åŒã€‚ æ¡ç›® Node æµè§ˆå™¨ æ¨¡å—è§„èŒƒ CommonJS ES6 å¯¼å‡º modules.exports export, export default;modules.exports å¼•å…¥ require importï¼›require åœ¨windowsä¸‹ç”¨nodeç¼–å†™çš„æµ‹è¯•æ–‡ä»¶å¦‚ä¸‹ 123456789101112// main.jsa = require(\"./vu\")console.log(a)// vu.jsexports.a = 'root';// module.exports.a = 'root';// vu/index.jsexports.a = 'vu folder';// module.exports.a = 'vu folder'; è¾“å‡ºçš„ç»“æœä¸ºï¼šæ˜¾ç¤ºä¸º åŒçº§ç›®å½•xx.jsä¼˜å…ˆçº§é«˜äºxx/index.js 12mrli@VM-4-7-ubuntu:~/import_test$ node main.js &#123; a: 'root' &#125; å‚è€ƒï¼š è¯¦è°ˆ import è·¯å¾„ exportæŠ¥é”™SyntaxError: Unexpected token export JavaScriptç¬”è®°ï¼ˆCommonJSè§„èŒƒï¼Œä»¥åŠexportsã€module.exportså’Œexportã€export defaultåŒºåˆ«ï¼‰ ç¼–å†™æ³¨æ„ç‚¹ï¼š å¦‚æœæ˜¯åœ¨å‡½æ•°ä½“å†…å†™çš„è¯­å¥æ˜¯ä¸éœ€è¦åˆ†å·åˆ†éš”çš„ï¼Œå¦‚ 12345678910setup()&#123; onMounted(()=&gt;&#123; &#125;) functipon xxx()&#123; &#125; return &#123;&#125;&#125; ä¸ä¹‹å¯¹åº”çš„æ˜¯åœ¨å¯¹è±¡ä½“å†…ï¼Œå¦‚ 1234567891011var app = &#123; data() &#123; // ç­‰ä»·äº data: ()=&gt;&#123;&#125; &#125;, methods:&#123; &#125;, props:&#123; &#125;,&#125; é‡Œé¢ä¼šå‡ºç°é”®å€¼å¯¹å’Œå¿…é¡»è¦é€—å·åˆ†éš”å¼€ axiosè¯·æ±‚ ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequest ä» node.js å‘å‡º http è¯·æ±‚ æ”¯æŒpromise API æ‹¦æˆªè¯·æ±‚å’Œå“åº” è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ® å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢ JSON æ•°æ® å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ XSRF ç›´æ¥æ¯æ¬¡ä»axiosåº“ä¸­è°ƒç”¨axioså‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;template&gt; &lt;div&gt; &lt;div&gt;mmmm&lt;/div&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;import axios from 'axios' export default &#123; name: \"post\", created() &#123; /* postå¸¸ç”¨çš„è¯·æ±‚æ•°æ®ï¼ˆdataï¼‰æ ¼å¼æœ‰ä¸¤ç§ï¼š ï¼ˆ1ï¼‰applicition/json ï¼ˆ2ï¼‰form-data è¡¨å•æäº¤ï¼ˆå›¾ç‰‡ä¸Šä¼ ï¼Œæ–‡ä»¶ä¸Šä¼ ï¼‰ */ //ç¬¬ä¸€ç§å†™æ³•å«åšpoståˆ«åè¯·æ±‚æ–¹æ³• // http://localhost:8080/static/data.json?id=1 // applicition/json è¯·æ±‚ let data = &#123; id: 1 &#125; axios.post('../../static/data.json', data) .then((res) =&gt; &#123; console.log('æ•°æ®ï¼š', res); &#125;) //ç¬¬äºŒç§å†™æ³• axios(&#123; method: 'post', url: '../../static/data.json', data: data, &#125;).then((res) =&gt; &#123; console.log('æ•°æ®ï¼š', res) &#125;) // form-data è¯·æ±‚ let formData = new FormData() for (let key in data) &#123; formData.append(key, data[key]) &#125; axios.post('../../static/data.json', formData) .then((res) =&gt; &#123; console.log('æ•°æ®ï¼š', res); &#125;) &#125;&#125;&lt;/script&gt; &lt;style scoped&gt;&lt;/style&gt; ç»“åˆ vueä½¿ç”¨vue-axios npm install --save axios vue-axios vue-axiosæ˜¯æŒ‰ç…§vueæ’ä»¶çš„æ–¹å¼å»å†™çš„ã€‚é‚£ä¹ˆç»“åˆvue-axiosï¼Œå°±å¯ä»¥å»ä½¿ç”¨vue.useæ–¹æ³•äº† 123456// é¦–å…ˆåœ¨ä¸»å…¥å£æ–‡ä»¶main.jsä¸­å¼•ç”¨import axios from &apos;axios&apos;import VueAxios from &apos;vue-axios&apos;Vue.use(VueAxios,axios); ä¹‹åå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œåœ¨ç»„ä»¶æ–‡ä»¶ä¸­çš„methodsé‡Œå»ä½¿ç”¨äº† 1234567891011getNewsList()&#123; this.axios.get('api/getNewsList').then((response)=&gt;&#123; this.newsList=response.data.data; &#125;).catch((response)=&gt;&#123; console.log(response); &#125;) &#125;, axios æ”¹å†™ä¸º Vue çš„åŸå‹å±æ€§ é¦–å…ˆåœ¨ä¸»å…¥å£æ–‡ä»¶main.jsä¸­å¼•ç”¨ï¼Œä¹‹åæŒ‚åœ¨vueçš„åŸå‹é“¾ä¸Š 12import axios from 'axios'Vue.prototype.$axios= axios åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ 12345this.$axios.get('api/getNewsList').then((response)=&gt;&#123; this.newsList=response.data.data; &#125;).catch((response)=&gt;&#123; console.log(response); &#125;) åˆ›å»ºaxioså®ä¾‹ï¼Œå¹¶å°è£…æˆå·¥å…·ç±» 12345678// utils/requests.jsimport axios from 'axios'// åˆ›å»ºaxioså®ä¾‹const service = axios.create(&#123; baseURL: process.env.BASE_API, // apiçš„base_url timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´&#125;) ç»„ä»¶ä¸­ç›´æ¥import 123456789&lt;script&gt;import &#123; axios &#125; import \"./utils/requests.js\"axios.get('api/getNewsList').then((response)=&gt;&#123; this.newsList=response.data.data; &#125;).catch((response)=&gt;&#123; console.log(response); &#125;)&lt;/script&gt; axiosè¿›é˜¶ç”¨æ³•: ç»“åˆvuexå†å°è£…ä¸€å±‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465import axios from 'axios'import &#123; Message &#125; from 'element-ui'import store from '@/store'import &#123; getToken &#125; from '@/utils/auth'// åˆ›å»ºaxioså®ä¾‹const service = axios.create(&#123; baseURL: process.env.BASE_API, // apiçš„base_url timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´&#125;)// requestæ‹¦æˆªå™¨service.interceptors.request.use(config =&gt; &#123; // Do something before request is sent if (store.getters.token) &#123; config.headers['X-Token'] = getToken() // è®©æ¯ä¸ªè¯·æ±‚æºå¸¦token--['X-Token']ä¸ºè‡ªå®šä¹‰key è¯·æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹ &#125; return config&#125;, error =&gt; &#123; // Do something with request error console.log(error) // for debug Promise.reject(error)&#125;)// responeæ‹¦æˆªå™¨service.interceptors.response.use( response =&gt; response, /** * ä¸‹é¢çš„æ³¨é‡Šä¸ºé€šè¿‡responseè‡ªå®šä¹‰codeæ¥æ ‡ç¤ºè¯·æ±‚çŠ¶æ€ï¼Œå½“codeè¿”å›å¦‚ä¸‹æƒ…å†µä¸ºæƒé™æœ‰é—®é¢˜ï¼Œç™»å‡ºå¹¶è¿”å›åˆ°ç™»å½•é¡µ * å¦‚é€šè¿‡xmlhttprequest çŠ¶æ€ç æ ‡è¯† é€»è¾‘å¯å†™åœ¨ä¸‹é¢errorä¸­ */ // const res = response.data; // if (res.code !== 20000) &#123; // Message(&#123; // message: res.message, // type: 'error', // duration: 5 * 1000 // &#125;); // // 50008:éæ³•çš„token; 50012:å…¶ä»–å®¢æˆ·ç«¯ç™»å½•äº†; 50014:Token è¿‡æœŸäº†; // if (res.code === 50008 || res.code === 50012 || res.code === 50014) &#123; // MessageBox.confirm('ä½ å·²è¢«ç™»å‡ºï¼Œå¯ä»¥å–æ¶ˆç»§ç»­ç•™åœ¨è¯¥é¡µé¢ï¼Œæˆ–è€…é‡æ–°ç™»å½•', 'ç¡®å®šç™»å‡º', &#123; // confirmButtonText: 'é‡æ–°ç™»å½•', // cancelButtonText: 'å–æ¶ˆ', // type: 'warning' // &#125;).then(() =&gt; &#123; // store.dispatch('FedLogOut').then(() =&gt; &#123; // location.reload();// ä¸ºäº†é‡æ–°å®ä¾‹åŒ–vue-routerå¯¹è±¡ é¿å…bug // &#125;); // &#125;) // &#125; // return Promise.reject('error'); // &#125; else &#123; // return response.data; // &#125; error =&gt; &#123; console.log('err' + error)// for debug Message(&#123; message: error.message, type: 'error', duration: 5 * 1000 &#125;) return Promise.reject(error) &#125;)export default service çˆ¶å­ç»„ä»¶é—´é€šä¿¡ props, çˆ¶å‘å­ä¼ é€’æ•°æ® 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// çˆ¶ç»„ä»¶&lt;template&gt; &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt; &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt; // è¿™è¾¹ä¼ ç»™å­ç»„ä»¶ :msg&lt;/template&gt;&lt;script&gt;import HelloWorld from &apos;./components/HelloWorld.vue&apos;export default &#123; name: &apos;App&apos;, components: &#123; HelloWorld &#125;&#125;&lt;/script&gt;// å­ç»„ä»¶&lt;template&gt; &lt;div class=&quot;hello&quot;&gt; &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123;onMounted&#125; from &quot;vue&quot;export default &#123; name: &apos;HelloWorld&apos;, props: &#123; // éœ€è¦æŒ‡æ˜æ¥æ”¶çš„props msg: String // å˜é‡ç±»å‹ &#125;, setup(props)&#123; // ç„¶åè¿™è¾¹ä¼ å…¥ onMounted(()=&gt;&#123; console.log(props) &#125;) &#125;&#125;&lt;/script&gt; &lt;style scoped lang=&quot;scss&quot;&gt; h3 &#123; margin: 40px 0 0;&#125;a &#123; color: $bg;&#125;&lt;/style&gt; provideå’Œinject, ç¥–å‘å­™ä¼ é€’æ•°æ® é€šå¸¸ï¼Œå½“æˆ‘ä»¬éœ€è¦ä»çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ propsã€‚æƒ³è±¡ä¸€ä¸‹è¿™æ ·çš„ç»“æ„ï¼šæœ‰ä¸€äº›æ·±åº¦åµŒå¥—çš„ç»„ä»¶ï¼Œè€Œæ·±å±‚çš„å­ç»„ä»¶åªéœ€è¦çˆ¶ç»„ä»¶çš„éƒ¨åˆ†å†…å®¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä»ç„¶å°† prop æ²¿ç€ç»„ä»¶é“¾é€çº§ä¼ é€’ä¸‹å»ï¼Œå¯èƒ½ä¼šå¾ˆéº»çƒ¦ã€‚ å®˜æ–¹æ–‡æ¡£ çˆ¶ç»„ä»¶é€šè¿‡ provide é€‰é¡¹æ¥æä¾›æ•°æ®ï¼Œ 12345678910// optional apiå†™æ³•provide: &#123; todoLength: this.todos.length // å°†ä¼šå¯¼è‡´é”™è¯¯ `Cannot read property 'length' of undefined`&#125;,// è¦è®¿é—®ç»„ä»¶å®ä¾‹ propertyï¼Œæˆ‘ä»¬éœ€è¦å°† provide è½¬æ¢ä¸º**è¿”å›å¯¹è±¡çš„å‡½æ•°**ï¼šprovide() &#123; return &#123; todoLength: this.todos.length &#125;&#125;, â–².å¤„ç†å“åº”æ€§: Q: é»˜è®¤æƒ…å†µä¸‹ï¼Œprovide/inject ç»‘å®šå¹¶ä¸æ˜¯å“åº”å¼çš„ A: æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª ref property æˆ– reactive å¯¹è±¡ç»™ provide æ¥æ”¹å˜è¿™ç§è¡Œä¸ºã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¯¹ç¥–å…ˆç»„ä»¶ä¸­çš„æ›´æ”¹åšå‡ºå“åº”ï¼Œæˆ‘ä»¬éœ€è¦ä¸º provide çš„ todoLength åˆ†é…ä¸€ä¸ªç»„åˆå¼ API computed propertyï¼š 123456789101112131415app.component('todo-list', &#123; // ... provide() &#123; return &#123; todoLength: Vue.computed(() =&gt; this.todos.length) &#125; &#125;&#125;)app.component('todo-list-statistics', &#123; inject: ['todoLength'], created() &#123; console.log(`Injected property: $&#123;this.todoLength.value&#125;`) // &gt; æ³¨å…¥çš„ property: 5 &#125;&#125;) å­ç»„ä»¶é€šè¿‡ inject é€‰é¡¹æ¥å¼€å§‹ä½¿ç”¨è¿™äº›æ•°æ®ã€‚ å®Œæ•´æ¡ˆä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// çˆ¶ç»„ä»¶&lt;script&gt;import HelloWorld from &apos;./components/HelloWorld.vue&apos;import &#123; ref, provide &#125; from &quot;vue&quot;export default &#123; name: &apos;App&apos;, components: &#123; HelloWorld &#125;, setup()&#123; let a = ref(&quot;&quot;) provide(&apos;a&apos;, a); function show()&#123; console.log(a.value) &#125; return &#123; a, show &#125; &#125;&#125;&lt;/script&gt;// å­ç»„ä»¶&lt;template&gt; &lt;div class=&quot;hello&quot;&gt; &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt; &#123;&#123;a&#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123;onMounted, inject&#125; from &quot;vue&quot;export default &#123; name: &apos;HelloWorld&apos;, props: &#123; msg: String &#125;, // inject: [&apos;a&apos;], ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™, è¿™æ ·åœ¨é€‰é¡¹ä¸­å®šä¹‰äº†çš„è¯å°±ä¸éœ€è¦åœ¨setupä¸­å†™äº† setup()&#123; let a = inject(&quot;a&quot;) return &#123; a &#125; &#125;&#125; optionalå†™æ³•: 1234567891011// çˆ¶ç»„ä»¶, è¦æ‹¿thiså¿…é¡»å†™æˆæ–¹æ³•, ä¸èƒ½å†™provide: &#123;a: \"45\"&#125;äº†provide ()&#123; return &#123; \"a\": this.a &#125;&#125;,data()&#123; return &#123; a: \"45\" &#125;&#125; emitsï¼Œå­å‘çˆ¶ä¼ é€’äº‹ä»¶ emitså‚æ•°æœ‰ä¿©ç§å½¢å¼å¯¹è±¡å’Œæ•°ç»„ï¼Œå¯¹è±¡é‡Œé¢å¯ä»¥é…ç½®å¸¦æ ¡éªŒemitäº‹ä»¶ï¼Œä¸ºnullçš„æ—¶å€™ä»£è¡¨ä¸æ ¡éªŒï¼Œæ ¡éªŒçš„æ—¶å€™ï¼Œä¼šæŠŠemitäº‹ä»¶çš„å‚æ•°ä¼ åˆ°æ ¡éªŒå‡½æ•°çš„å‚æ•°é‡Œé¢ å½“æ ¡éªŒå‡½æ•°ä¸é€šè¿‡çš„æ—¶å€™ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºä¸€ä¸ªè­¦å‘Šï¼Œä½†æ˜¯emitäº‹ä»¶ä¼šç»§ç»­æ‰§è¡Œ è®°å½•ä¸€ä¸ªå‘ï¼šæ¯”å¦‚ä½ emitäº‹ä»¶çš„åç§°æ­£å¥½å’ŒåŸç”Ÿäº‹ä»¶çš„åå­—é‡å¤äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹ä»¶ä¼šæ‰§è¡Œä¿©æ¬¡ï¼Œé‚£ä¹ˆé…ç½®äº†emitsè¿™ä¸ªé€‰é¡¹çš„è¯ï¼Œå°±èƒ½å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ å­ç»„ä»¶Emiter.vue ä½¿ç”¨ emits: åˆ—è¡¨å£°æ˜ä»çˆ¶ç»„ä»¶ç»§æ‰¿æ¥çš„äº‹ä»¶ $emit: æŠ›å‡ºäº‹ä»¶ï¼Œ é€šçŸ¥çˆ¶ç»„ä»¶å¤„ç† åœ¨å­ç»„ä»¶ä¸­ï¼Œé€šè¿‡$emit()æ¥è§¦å‘äº‹ä»¶ åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œé€šè¿‡v-onæ¥ç›‘å¬å­ç»„ä»¶äº‹ä»¶ 1234567891011121314151617181920212223242526272829303132333435363738394041424344// å­ç»„ä»¶&lt;template&gt; &lt;button @click=\"handleClick\"&gt;ç‚¹å‡»emit-clickäº‹ä»¶&lt;/button&gt; &lt;button @click=\"handleOpen\"&gt;ç‚¹å‡»emit-openäº‹ä»¶&lt;/button&gt;&lt;/template&gt;&lt;script lang=\"ts\"&gt;import &#123;defineComponent&#125; from \"vue\";export default defineComponent(&#123; emits: &#123; // ä¸å£°æ˜è¿™ä¸ªä¹Ÿè¡Œ, ä½†ä¼šæœ‰æç¤ºemits event listeners (clickx) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option. clickx: null, //clickäº‹ä»¶æ²¡æœ‰æ£€éªŒ open_show: (value) =&gt; &#123; if (typeof value === \"string\") &#123; return true; &#125; else &#123; return false; &#125; &#125;, &#125;, setup(props, &#123;emit&#125;) &#123; // æ³¨æ„emitä¸æ˜¯ä»vueä¸­importçš„ const handleClick = function() &#123; emit(\"clickx\"); &#125;; const handleOpen = function() &#123; emit(\"open_show\", 1); // 1ä¸ºä¼ é€’çš„å‚æ•° &#125;; return &#123; handleClick, handleOpen, &#125;; &#125;, /** setup(props, context)&#123; const handleClick =function()&#123; context.emit(\"name\") &#125; &#125; **/ data() &#123; return &#123;&#125;; &#125;, methods: &#123;&#125;,&#125;);&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; çˆ¶ç»„ä»¶Emit.vue 12345678910111213141516171819202122232425&lt;template&gt; // 3. æŒ‡å®šä¾¦å¬çš„äº‹ä»¶ä¸ºå­ä¼ ä¸Šæ¥çš„clickxå’Œopen_show, å¹¶ä¸ºå…¶æŒ‡å®šå›è°ƒå‡½æ•° &lt;emiter @clickx=\"onClick\" @open_show=\"onOpen\"&gt;&lt;/emiter&gt;&lt;/template&gt;&lt;script lang=\"ts\"&gt;import &#123;defineComponent&#125; from \"vue\"; // 1. éœ€è¦å¯¼å…¥å­componentimport Emiter from \"@/components/Emiter.vue\";export default defineComponent(&#123; components: &#123; Emiter, // 2.æ³¨å†Œå­componentï¼Œæ‰èƒ½æ‹¿åˆ°emitä¼ ä¸Šæ¥çš„openäº‹ä»¶ &#125;, data() &#123; return &#123;&#125;; &#125;, methods: &#123; onClick() &#123; console.log(\"click me!\"); &#125;, onOpen() &#123; console.log(\"open me!\"); &#125;, &#125;,&#125;);&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; ä¾‹å­ï¼š å…³äºvue3.xä¸­çš„emitsçš„ç”¨æ³• çˆ¶å­ç»„ä»¶é€šä¿¡æ–¹æ³• ä¹‹ props/$emitã€Vueé¢è¯•é¢˜ã€‘ æ³¨æ„ï¼š ä½¿ç”¨compositionAPIä¹Ÿæ˜¯èƒ½æœ‰æ•°æ®æˆå‘˜çš„æ¯”å¦‚props, name, emits è§£å†³yarnå…¨å±€å®‰è£…æ¨¡å—åä½†ä»æç¤ºæ— æ³•æ‰¾åˆ°å‘½ä»¤çš„é—®é¢˜ å¦‚æœä½¿ç”¨yarn global add xxxx å®‰è£…äº†xxxxæ’ä»¶ä¹‹åï¼Œä½†æ˜¯åœ¨cmdçª—å£ä¸­ä»ç„¶æç¤ºç±»ä¼¼å‘½ä»¤æ— æ³•æ‰¾åˆ°ï¼ˆCommand not foundï¼‰çš„é”™è¯¯ï¼ˆå¦‚@vue/cliåè¾“å…¥vue &lt;create&gt;æ²¡æœ‰æç¤ºï¼Œï¼‰ï¼Œä¸€èˆ¬æ˜¯ç”±äºyarnçš„ç¯å¢ƒæ²¡æœ‰é…ç½®å¥½ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„æ–¹æ³•ï¼Œå°†yarnçš„ç¯å¢ƒé…ç½®ç¯å¢ƒä¸­ã€‚ é¦–å…ˆï¼Œå…ˆæŸ¥çœ‹ä¸€ä¸‹yarnçš„binç›®å½•ï¼Œ windowsè¾“å…¥yarn global bin=&gt;C:\\Users\\leon\\AppData\\Local\\Yarn\\binç„¶åå°†è¯¥è·¯å¾„åŠ å…¥åˆ°pathä¸­ï¼Œå¯¹äºwindowsä¸­ç›´æ¥å°†è¯¥ç›®å½•åŠ å…¥åˆ°pathä¸­ã€‚ åœ¨Linuxä¸­which yarnåï¼Œå°†ç»“æœå¡«å…¥åˆ°~/.bashrcä¸­ï¼Œå¦‚ä¸‹æ ¼å¼ï¼šexport PATH=$PATH:/usr/bin/yarn å¯¼å…¥scss å®‰è£…scss/sass,node-sass sass-loader sass å±äºé‡è¦ä¾èµ–ï¼Œæ‰€ä»¥éœ€-Dè€Œä¸æ˜¯-Sï¼› 123npm install node-sass sass-loader sass -D# oryarn add node-sass sass-loader@8.0.2 sass æ ¹è·¯å¾„ä¸‹å»ºç«‹æ–‡ä»¶vue.config.js ä¸‹é¢è¿™ä¸ª(ä¸åŠ ä¹Ÿæ²¡äº‹) 123456789const path = require('path');module.exports = &#123; pluginOptions: &#123; 'style-resources-loader': &#123; preProcessor: 'scss', patterns: [] &#125; &#125;&#125; è¿˜æœ‰äººæä¾›çš„å…¨å±€é…ç½®ï¼Œå®æµ‹å¯ä»¥ 1234567891011module.exports = &#123; css: &#123; loaderOptions: &#123; sass: &#123; prependData: `@import \"./assets/css/test.scss\";` // ç­‰ä»·äºï¼šprependData: `@import \"@/assets/style.scss\";` // å› ä¸º é…ç½®ä¸­å¯¹importä¸­çš„@è¿›è¡Œäº†è®¾ç½®'@': resolve('src'),å³@ ç­‰ä»·äº /src è¿™ä¸ªç›®å½• &#125; &#125; &#125;,&#125; å¦‚æœä¸éœ€è¦å…¨å±€é…ç½®ï¼Œå¯ä»¥ç›´æ¥åœ¨æŸä¸ªç»„ä»¶ä¸‹çš„styleé‡ŒåŠ @import &quot;../assets/style.scss&quot;; è°ƒç”¨test 123456&lt;style lang=\"scss\" scoped&gt;$bg: red;.container &#123; background-color: $bg;&#125;&lt;/style&gt; from : vue 3.x - å®‰è£…scss/sass Syntax Error: TypeError: this.getOptions is not a functionâ€”â€”sass-loaderç‰ˆæœ¬å¤ªé«˜ vue3 vue.config.js é…ç½® ä½¿ç”¨Vue3ç‰¹æ€§çš„å·¥ç¨‹ï¼š â€”â€”è¾ƒä¸ºåŸºç¡€çš„ä½¿ç”¨ â€”â€”ç•¥å¾®å¤æ‚çš„å‰ç«¯å·¥ç¨‹, é‡‡ç”¨vue3 compositionAPI â€”â€”é‡‡ç”¨vue2çš„optionalAPI vue.config.jsæ¨¡æ¿é…ç½®æ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768// vue.config.js é…ç½®è¯´æ˜//å®˜æ–¹vue.config.js å‚è€ƒæ–‡æ¡£ https://cli.vuejs.org/zh/config/#css-loaderoptions// è¿™é‡Œåªåˆ—ä¸€éƒ¨åˆ†ï¼Œå…·ä½“é…ç½®å‚è€ƒæ–‡æ¡£module.exports = &#123;//åˆ«åè®¾ç½®configureWebpack: &#123; resolve: &#123; alias: &#123; 'assets': '@/assets', 'components': '@/components', 'views': '@/views', &#125; &#125; &#125;, // éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒä¸‹çš„URLã€‚ // é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue CLI ä¼šå‡è®¾ä½ çš„åº”ç”¨æ˜¯è¢«éƒ¨ç½²åœ¨ä¸€ä¸ªåŸŸåçš„æ ¹è·¯å¾„ä¸Š //ä¾‹å¦‚ https://www.my-app.com/ã€‚å¦‚æœåº”ç”¨è¢«éƒ¨ç½²åœ¨ä¸€ä¸ªå­è·¯å¾„ä¸Šï¼Œä½ å°±éœ€è¦ç”¨è¿™ä¸ªé€‰é¡¹æŒ‡å®šè¿™ä¸ªå­è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åº”ç”¨è¢«éƒ¨ç½²åœ¨ https://www.my-app.com/my-app/ï¼Œåˆ™è®¾ç½® baseUrl ä¸º /my-app/ã€‚ baseUrl: process.env.NODE_ENV === \"production\" ? \"./\" : \"/\", // outputDir: åœ¨npm run build æˆ– yarn build æ—¶ ï¼Œç”Ÿæˆæ–‡ä»¶çš„ç›®å½•åç§°ï¼ˆè¦å’ŒbaseUrlçš„ç”Ÿäº§ç¯å¢ƒè·¯å¾„ä¸€è‡´ï¼‰ outputDir: \"dist\", //ç”¨äºæ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº (jsã€cssã€imgã€fonts) çš„ï¼›ï¼ˆé¡¹ç›®æ‰“åŒ…ä¹‹åï¼Œé™æ€èµ„æºä¼šæ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼‰ assetsDir: \"assets\", //æŒ‡å®šç”Ÿæˆçš„ index.html çš„è¾“å‡ºè·¯å¾„ (æ‰“åŒ…ä¹‹åï¼Œæ”¹å˜ç³»ç»Ÿé»˜è®¤çš„index.htmlçš„æ–‡ä»¶å) // indexPath: \"myIndex.html\", //é»˜è®¤æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„é™æ€èµ„æºåœ¨å®ƒä»¬çš„æ–‡ä»¶åä¸­åŒ…å«äº† hash ä»¥ä¾¿æ›´å¥½çš„æ§åˆ¶ç¼“å­˜ã€‚ä½ å¯ä»¥é€šè¿‡å°†è¿™ä¸ªé€‰é¡¹è®¾ä¸º false æ¥å…³é—­æ–‡ä»¶åå“ˆå¸Œã€‚(falseçš„æ—¶å€™å°±æ˜¯è®©åŸæ¥çš„æ–‡ä»¶åä¸æ”¹å˜) filenameHashing: false, // lintOnSaveï¼š&#123; type:Boolean default:true &#125; é—®ä½ æ˜¯å¦ä½¿ç”¨eslint lintOnSave: true, //å¦‚æœä½ æƒ³è¦åœ¨ç”Ÿäº§æ„å»ºæ—¶ç¦ç”¨ eslint-loaderï¼Œä½ å¯ä»¥ç”¨å¦‚ä¸‹é…ç½® // lintOnSave: process.env.NODE_ENV !== 'production', //æ˜¯å¦ä½¿ç”¨åŒ…å«è¿è¡Œæ—¶ç¼–è¯‘å™¨çš„ Vue æ„å»ºç‰ˆæœ¬ã€‚è®¾ç½®ä¸º true åä½ å°±å¯ä»¥åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨ template é€‰é¡¹äº†ï¼Œä½†æ˜¯è¿™ä¼šè®©ä½ çš„åº”ç”¨é¢å¤–å¢åŠ  10kb å·¦å³ã€‚(é»˜è®¤false) // runtimeCompiler: false, /** * å¦‚æœä½ ä¸éœ€è¦ç”Ÿäº§ç¯å¢ƒçš„ source mapï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸º false ä»¥åŠ é€Ÿç”Ÿäº§ç¯å¢ƒæ„å»ºã€‚ * æ‰“åŒ…ä¹‹åå‘ç°mapæ–‡ä»¶è¿‡å¤§ï¼Œé¡¹ç›®æ–‡ä»¶ä½“ç§¯å¾ˆå¤§ï¼Œè®¾ç½®ä¸ºfalseå°±å¯ä»¥ä¸è¾“å‡ºmapæ–‡ä»¶ * mapæ–‡ä»¶çš„ä½œç”¨åœ¨äºï¼šé¡¹ç›®æ‰“åŒ…åï¼Œä»£ç éƒ½æ˜¯ç»è¿‡å‹ç¼©åŠ å¯†çš„ï¼Œå¦‚æœè¿è¡Œæ—¶æŠ¥é”™ï¼Œè¾“å‡ºçš„é”™è¯¯ä¿¡æ¯æ— æ³•å‡†ç¡®å¾—çŸ¥æ˜¯å“ªé‡Œçš„ä»£ç æŠ¥é”™ã€‚ * æœ‰äº†mapå°±å¯ä»¥åƒæœªåŠ å¯†çš„ä»£ç ä¸€æ ·ï¼Œå‡†ç¡®çš„è¾“å‡ºæ˜¯å“ªä¸€è¡Œå“ªä¸€åˆ—æœ‰é”™ã€‚ * */ productionSourceMap: false, // å®ƒæ”¯æŒwebPack-dev-serverçš„æ‰€æœ‰é€‰é¡¹ devServer: &#123; host: \"localhost\", //ä¹Ÿå¯ä»¥ç›´æ¥å†™IPåœ°å€è¿™æ ·æ–¹ä¾¿çœŸæœºæµ‹è¯• port: 8080, // ç«¯å£å· https: false, // https:&#123;type:Boolean&#125; open: true, //é…ç½®è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨ // proxy: 'http://localhost:4000' // é…ç½®è·¨åŸŸå¤„ç†,åªæœ‰ä¸€ä¸ªä»£ç† // é…ç½®å¤šä¸ªä»£ç† proxy: &#123; \"/api\": &#123; target: \"&lt;url&gt;\", //å†™åœ°å€ ws: true, // å…è®¸è·¨åŸŸ changeOrigin: true, //å…è®¸è·¨åŸŸ pathRewrite: &#123; \"^/api\": \"\" &#125; &#125;, \"/foo\": &#123; target: \"&lt;other_url&gt;\" &#125; &#125; &#125;&#125;; å‰ç«¯æŠ€æœ¯æ ˆ eslint-plugin-vue eslint-plugin-vue axios å¼ºå¤§çš„å‰ç«¯è¯·æ±‚åº“ fues.js fues.js Fuzzy Search å‰ç«¯æ¨¡ç³Šæœç´¢ echart echart æ•°æ®å¯è§†åŒ– antv antv èš‚èšæ•°æ®å¯è§†åŒ– xlsx xlsx SheetJS jszip jszip ä¼˜ç§€çš„å‰ç«¯å‹ç¼©åº“ mockjs mockjs æ¨¡æ‹Ÿå’Œäº¤äº’æ•°æ® wangeditor wangeditor å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ fullcalendar fullcalendar ä¸°å¯Œçš„æ—¥å†æ’ä»¶ æ–‡ç« ï¼š ä¸Šæ‰‹åæ‰çŸ¥é“ ï¼ŒVue3 çš„ script setup è¯­æ³•ç³–æ˜¯çœŸçš„çˆ½","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"Vue","slug":"Vue","permalink":"https://nymrli.top/tags/Vue/"}]},{"title":"å‰ç«¯-è·¨åŸŸ","slug":"å‰ç«¯-è·¨åŸŸ","date":"2021-11-26T09:17:15.000Z","updated":"2021-12-09T07:22:13.901Z","comments":true,"path":"2021/11/26/å‰ç«¯-è·¨åŸŸ/","link":"","permalink":"https://nymrli.top/2021/11/26/å‰ç«¯-è·¨åŸŸ/","excerpt":"","text":"ä»€ä¹ˆæ˜¯è·¨åŸŸé—®é¢˜ è·¨åŸŸé—®é¢˜çš„å‡ºç°æ˜¯å› ä¸ºæµè§ˆå™¨çš„åŒæºç­–ç•¥é—®é¢˜ï¼Œæ‰€è°“åŒæº:å°±æ˜¯ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„åè®®ï¼ˆprotocolï¼‰ï¼Œä¸»æœºï¼ˆhostï¼‰å’Œç«¯å£å·ï¼ˆportï¼‰ï¼Œå³æŒ‡åè®®ï¼Œç«¯å£ï¼ŒåŸŸåã€‚åªè¦è¿™ä¸ª3ä¸ªä¸­æœ‰ä¸€ä¸ªä¸åŒå°±æ˜¯è·¨åŸŸã€‚å®ƒæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæ˜¯æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œå¦‚æœæ²¡æœ‰åŒæºç­–ç•¥æˆ‘ä»¬çš„æµè§ˆå™¨å°†ä¼šååˆ†çš„ä¸å®‰å…¨ï¼Œéšæ—¶éƒ½å¯èƒ½å—åˆ°æ”»å‡»ã€‚ å½“æˆ‘ä»¬è¯·æ±‚ä¸€ä¸ªæ¥å£çš„æ—¶å€™ï¼Œå‡ºç°å¦‚ï¼šAccess-Control-Allow-Origin å­—çœ¼çš„æ—¶å€™è¯´æ˜è¯·æ±‚è·¨åŸŸäº† å±•ç¤ºè·¨åŸŸé—®é¢˜ å‰ç«¯è¯·æ±‚åç«¯8889ç«¯å£å¼€æ”¾çš„ç«¯å£ 12345678this.$axios(&#123; method:'get', url:'http://localhost:8889/'&#125;).then((response) =&gt;&#123; //è¿™é‡Œä½¿ç”¨äº†ES6çš„è¯­æ³• console.log(response) //è¯·æ±‚æˆåŠŸè¿”å›çš„æ•°æ®&#125;).catch((error) =&gt;&#123; console.log(error) //è¯·æ±‚å¤±è´¥è¿”å›çš„æ•°æ®&#125;) ä¼šå‡ºç°å› ä¸ºè·¨åŸŸï¼Œæ‰€ä»¥è¯·æ±‚å¤±è´¥çš„æ¶ˆæ¯ 1Access to XMLHttpRequest at &apos;http://localhost:8889/&apos; from origin &apos;http://localhost:8080&apos; has been blocked by CORS policy: No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource. å¤„ç†è·¨åŸŸ å‰ç«¯ jsonp 123456789101112// åç«¯æ¥å£app.get(\"/\", function(req, res)&#123; var func = req.query.callback // æ‹¿åˆ°è¯·æ±‚å‚æ•°queryä¸­çš„callbackæ•°æ® res.send(func + \"('ä½ å¥½')\") // æ‹¼æ¥æˆå‡½æ•°è°ƒç”¨çš„å½¢å¼==ã€‹ f(\"ä½ å¥½\")&#125;)// å‰ç«¯è¯·æ±‚&lt;script&gt; function f(msg)&#123; alter(msg) &#125;&lt;/script&gt;&lt;script src=\"http://localhost:8999?callback=f\"&gt;&lt;/script&gt; // è¯·æ±‚è¿™ä¸ªæ¥å£çš„æ—¶å€™ä¼šå¾—åˆ°f(\"ä½ å¥½\")çš„è¿”å›ç»“æœï¼Œä»è€Œè§¦å‘è°ƒç”¨å‡½æ•° Proxy é€šè¿‡ç½‘ç»œä»£ç†ï¼Œé€šè¿‡ä»£ç†æœåŠ¡ä¸å¦ä¸€ä¸ªç½‘ç»œç»ˆç«¯è¿›è¡Œéç›´æ¥çš„è¿æ¥ é€šè¿‡webpackæ­å»ºä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œä½œä¸ºè¯·æ±‚çš„ä»£ç†å¯¹è±¡ï¼Œé€šè¿‡è¯¥æœåŠ¡å™¨è½¬å‘è¯·æ±‚è‡³ç›®æ ‡æœåŠ¡å™¨ã€‚ ä½†å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœwebpackæœåŠ¡å™¨ä¸webæ¥å£æœåŠ¡å™¨ä¸åœ¨ä¸€èµ·ï¼Œä»ç„¶å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚===&gt;ç”±äºç”Ÿäº§ç¯å¢ƒåŸºæœ¬ä¸Šåç«¯æœ‰åç«¯éƒ¨ç½²çš„æœåŠ¡å™¨ã€å‰ç«¯æœ‰å‰ç«¯éƒ¨ç½²çš„æœåŠ¡å™¨ï¼Œå› æ­¤è¿™ä¸ªæ— æ³•åœ¨ç”Ÿäº§ä¸Šä½¿ç”¨ Vue å¼€å‘é˜¶æ®µ: é…ç½®ä»£ç† å¦‚æœä½ æ˜¯ç”¨ Vue CLI åˆ›å»ºçš„é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥å¼€å‘é˜¶æ®µï¼Œé…ç½®ä¸€ä¸‹ webpack çš„ devServerï¼Œå®ƒæœ‰è‡ªå¸¦ä¸€ä¸ª proxy ä»£ç†æœåŠ¡å™¨ã€‚ 123456789101112131415161718// Vue3ä¸­æ˜¯åœ¨vue.config.jsé…ç½®module.exports = &#123; devServer:&#123; host: 'localhost', open: true, // vueé¡¹ç›®å¯åŠ¨æ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ port: 8080, // æœ¬åœ°æœåŠ¡å™¨ä½¿ç”¨çš„ç«¯å£ proxy: &#123; //é…ç½®è·¨åŸŸ '/api': &#123; // `/api`æ˜¯ä»£ç†æ ‡è¯†ï¼Œç”¨äºå‘Šè¯‰nodeï¼Œurlå‰é¢æ˜¯`/api`çš„å°±æ˜¯ä½¿ç”¨ä»£ç†çš„ target: 'http://127.0.0.1:5000/', // ç›®æ ‡åœ°å€ï¼Œåº”è¯¥å†™æä¾›æ¥å£çš„åå°æœåŠ¡å™¨çš„çœŸå®åœ°å€ changOrigin: true, // æ˜¯å¦è·¨åŸŸ pathRewrite: &#123; '^/api': '' // æŠŠå®é™…request URLä¸­çš„`/api`ç”¨``æ¥ä»£æ›¿ /* é‡å†™è·¯å¾„ï¼Œå½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°è¯·æ±‚çš„åœ°å€ä¸ºï¼šhttp://localhost:8080/api/core/getData/userInfo æ—¶, å®é™…ä¸Šè®¿é—®çš„åœ°å€æ˜¯ï¼šhttp://121.121.67.254:8185/core/getData/userInfo */ &#125; &#125;, &#125; &#125;&#125; åç«¯é…ç½® 1234567891011121314151617181920from flask import Flaskfrom flask_cors import cross_origin app = Flask(__name__) @app.route('/')def hello_world(): return 'Hello World!' @app.route('/api')def apix(): return 'Hello api!' @app.route('/do')@cross_origin()def api(): return 'Hello do!' if __name__ == '__main__': app.run() è®¿é—®http://localhost:8080/æ—¶ä¼šå‡ºç°è·¨åŸŸé—®é¢˜ï¼Œhttp://localhost:8080/apiæ—¶æµè§ˆå™¨ç›´æ¥è·³è½¬åˆ°åç«¯å†…å®¹ ç½‘ç»œè¯·æ±‚http://localhost:8080/doç”±äºdoæ¥å£å…è®¸è·¨åŸŸæ‰€ä»¥æˆåŠŸæ‹¿åˆ°æ•°æ®, /apiæˆåŠŸæ‹¿åˆ°Hello Worldå®ç°è·¨åŸŸ ä¸ºä»€ä¹ˆget(&quot;/api&quot;)æ‹¿åˆ°çš„æ˜¯http://localhost:8080/çš„æ•°æ®å‘¢ï¼Ÿé¦–å…ˆæ‹¼æ¥æˆhttp://localhost:8080/, ç„¶åç¬¦åˆä»£ç†è§„åˆ™ï¼Œæ‰€ä»¥æ ¹æ®pathRewriteå§/apiæ›¿æ¢æˆäº†&quot;&quot;ï¼Œäºæ˜¯è¯·æ±‚å˜æˆäº†è®¿é—®http://localhost:8080/ã€‚å†å› ä¸ºvue.config.vueä¸­targetæŒ‡å®šäº†axiosçš„ç›®æ ‡urlï¼Œä¼šæŠŠhttp://localhost:8080ä»£ç†æ‰ï¼Œæ‰€ä»¥å°±ä»£ç†è½¬å‘è®¿é—®äº†http://localhost:5000/ æ³¨ï¼š æ²¡æœ‰æŒ‡å®šaxiosçš„baseURLåˆ™ä¸ºæœ¬èº«, ä¼šè‡ªåŠ¨åŠ ä¸Šhttp://localhost å¯ä»¥æµ‹è¯•æ˜¯ä¸æ˜¯è¿™ä¸ªé€»è¾‘ï¼Œaxios.get(&quot;/do&quot;), æç¤ºhttp://localhost:8080/doä¸å­˜åœ¨, ä¹Ÿä¸ç¬¦åˆä»£ç†è§„åˆ™ axios.get(&quot;/&quot;), è™½ç„¶ä¹Ÿä¸ç¬¦åˆä»£ç†è§„åˆ™ï¼Œä½†å…¶æœ¬èº«http://localhost:8080/æ˜¯æœ‰çš„, æ‰€ä»¥ä¹Ÿèƒ½è¯·æ±‚åˆ°æ•°æ®ï¼Œåªä¸è¿‡è¿™ä¸ªæ˜¯index.htmlçš„æ•°æ® å¦‚æœæŒ‡å®šaxiosçš„baseURL=â€œhttp://baidu.comâ€ï¼Œåˆ™xxx.get(&quot;/api&quot;)ä¼šå˜æˆhttp://baidu.com/api ç”Ÿäº§ç¯å¢ƒ: é…ç½®nginxè½¬å‘ æœåŠ¡å™¨ç«¯ æ ¹æ®CORSçš„å®šä¹‰ï¼Œæ˜¯ä¸å…è®¸æµè§ˆå™¨è°ƒç”¨çš„å‰ç«¯æœåŠ¡ä¸»åŠ¨å»æ‹¿å¦ä¸€ä¸ªåŸŸä¸‹çš„èµ„æºï¼Œé‚£ä¹ˆå°±æ”¹å˜å‰ç«¯æœåŠ¡ç›´æ¥æ‹¿çš„æ–¹å¼ï¼Œè€Œæ˜¯é€šè¿‡è¯·æ±‚ä»£ç†æœåŠ¡å™¨æ•°æ®ä»è€Œé—´æ¥è¯·æ±‚å¦ä¸€ä¸ªåŸŸä¸‹çš„èµ„æºï¼Œä»£ç†æœåŠ¡å™¨å†è¯·æ±‚åˆ°æ•°æ®åï¼Œå†è®©ä»£ç†æŠŠæ•°æ®äº¤ç»™å‰ç«¯å³å®ç°äº†è·¨åŸŸçš„æ•ˆæœã€‚ ==ã€‹å‰ç«¯æœåŠ¡è·Ÿä»£ç†æœåŠ¡å™¨æ˜¯åŒæºçš„ï¼Œè€Œnginxå¯¹æœåŠ¡ç«¯è½¬å‘çš„è¯·æ±‚ä¸ä¼šè§¦å‘æµè§ˆå™¨çš„åŒæºç­–ç•¥ã€‚ nginx åŸºç¡€ä½¿ç”¨-ç®€å•ç‰ˆ 123456789101112131415## é…ç½®åå‘ä»£ç†çš„å‚æ•°server &#123; listen 8080; server_name xx_domain.com ## 1. ç”¨æˆ·è®¿é—® http://xx_domain.com/apiï¼Œåˆ™åå‘ä»£ç†åˆ° https://github.com/api location /api &#123; proxy_pass https://github.com; # ä¸‹é¢çš„ä¸å†™ä¹Ÿæ²¡äº‹ proxy_redirect off; proxy_set_header Host $host; # ä¼ é€’åŸŸå proxy_set_header X-Real-IP $remote_addr; # ä¼ é€’ip proxy_set_header X-Scheme $scheme; # ä¼ é€’åè®® proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; &#125;&#125; è¿™é‡Œæ˜¯èµ·äº†ä¸€ä¸ªå«xx_domainçš„nginxæœåŠ¡å™¨ï¼Œä¾¦å¬8080ç«¯å£(ä¸€èˆ¬æ˜¯localhost)ã€‚ è¿™è¾¹å†™çš„æ˜¯xx_domainï¼Œåˆ™axiosä¸­ä¹Ÿåº”è¯¥è¯·æ±‚è¿™ä¸ªé“¾æ¥(baseURLè®¾ç½®ä¸ºhttp://xx_domain.com) æ›´å¤šæ“ä½œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546# å¦‚ä¸‹çš„æ˜¯é’é¾™çš„è½¬å‘é…ç½®upstream api &#123; server 0.0.0.0:5600;&#125;map $http_upgrade $connection_upgrade &#123; default keep-alive; 'websocket' upgrade;&#125;server &#123; listen 5700; root /ql/dist; ssl_session_timeout 5m; location /api &#123; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://api; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; &#125; location /open &#123; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://api; &#125; gzip on; gzip_static on; gzip_types text/plain application/json application/javascript application/x-javascript text/css application/xml text/javascript; gzip_proxied any; gzip_vary on; gzip_comp_level 6; gzip_buffers 16 8k; gzip_http_version 1.0; location / &#123; index index.html index.htm; try_files $uri $uri/ /index.html; &#125;&#125; åç«¯ ä¿®æ”¹å“åº”å¤´ æ ¹æ®ä¸Šè¿°CORSåé¦ˆçš„æ¶ˆæ¯No 'Access-Control-Allow-Origin' header is present on the requested resource.æ¥çœ‹ï¼Œæ˜¯ç”±äºæ²¡æœ‰è®¾ç½®å“åº”å¤´Access-Control-Allow-Originï¼Œå› æ­¤å…¶ä¸­ä¸€ä¸ªåšæ³•æ˜¯å¯ä»¥ä¿®æ”¹å“åº”å¤´ä¸­çš„Access-Control-Allow-Origin 1234app.get(\"/\", function(req, res)&#123; res.header(\"Access-Control-Allow-Origin\", \"*\") // å…è®¸ä»»ä½•åŸŸçš„è¯·æ±‚ res.send(\"ä½ å¥½\")&#125;) è¿˜åœ¨ç›¸åº”çš„æ¥å£ä¸Šæ·»åŠ @CrossOriginè¡¨ç¤ºå…è®¸è·¨åŸŸè¯·æ±‚ å¯ä»¥çœ‹åšæ˜¯ä¿®æ”¹å“åº”å¤´çš„å˜ç§ 12345678910@RestControllerpublic class InfoController &#123; @CrossOrigin @GetMapping(\"/\") public HashMap&lt;Object, Object&gt; getInfo() &#123; HashMap&lt;Object, Object&gt; hashMap = new HashMap&lt;&gt;(); hashMap.put(\"cl\", 19); return hashMap; &#125;&#125; é™„å½• Bç«™è§†é¢‘ï¼šã€è·¨åŸŸè¯·æ±‚ã€‘ã€å‰ç«¯ã€‘ä»€ä¹ˆæ˜¯CORSï¼Œæ•™ä½ è§£å†³è·¨åŸŸé—®é¢˜ é‡‡å‘è¯´æ˜ï¼š CORSæ˜¯æµè§ˆå™¨çš„é™åˆ¶ï¼Œè€ŒHbuilderXä¸­å†…ç½®çš„æµè§ˆå™¨æ˜¯æ²¡æœ‰è·¨åŸŸé—®é¢˜çš„ï¼Œéœ€è¦æ‰“å¼€å¤–éƒ¨æµè§ˆå™¨æ‰èƒ½çœ‹åˆ°ã€‚","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"}]},{"title":"å…šå‘˜åœ¨çº¿åŸ¹è®­è¯¾ç¨‹~å…é™¤æš‚åœçƒ¦æ¼","slug":"å…šå‘˜åœ¨çº¿åŸ¹è®­è¯¾ç¨‹-å…é™¤æš‚åœçƒ¦æ¼","date":"2021-11-25T02:48:17.000Z","updated":"2021-11-25T03:49:28.883Z","comments":true,"path":"2021/11/25/å…šå‘˜åœ¨çº¿åŸ¹è®­è¯¾ç¨‹-å…é™¤æš‚åœçƒ¦æ¼/","link":"","permalink":"https://nymrli.top/2021/11/25/å…šå‘˜åœ¨çº¿åŸ¹è®­è¯¾ç¨‹-å…é™¤æš‚åœçƒ¦æ¼/","excerpt":"","text":"å…šå‘˜åœ¨çº¿åŸ¹è®­è¯¾ç¨‹~å…é™¤æš‚åœçƒ¦æ¼ å¥³æœ‹å‹åé¦ˆï¼šåˆ·å…šå‘˜åœ¨çº¿åŸ¹è®­è¯¾ç¨‹å¾—ä¸€ç›´æ‰‹åŠ¨çš„è§£å†³æš‚åœé—®é¢˜ï¼Œæ— æ³•å•çº¯çš„æŒ‚æœºåˆ·è§†é¢‘ã€‚ä½œä¸ºä¸€ä¸ªç¨‹åºçŒ¿ï¼Œå½“ç„¶æ˜¯å¸®å¥¹è§£å†³å•¦~ é¦–å…ˆåˆ†æé¡µé¢ä¸­JSæ‰§è¡Œé€»è¾‘ï¼Œå¦‚ä¸‹æ‰€ç¤º 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193vpn_eval((function()&#123; $(\".video_lists\").animate(&#123;scrollTop: $(\".video_red1\").offset().top - 162&#125;, 1000); var loop_flag = \"\"; var timer = \"\"; var flag = false; var video = document.getElementById(\"video\"); // ç»­æ’­å®šæ—¶å™¨ function current_time() &#123; timer = setInterval(function () &#123; $.ajax(&#123; type: \"POST\", cache: false, dataType: \"json\", url: \"/ybdy/lesson/current_time\", data: &#123; rid: \"18612\", time: video.currentTime, _xsrf: $(\":input[name='_xsrf']\").val() &#125;, success: function (data) &#123; if (Number(data.code) == 0) &#123; player.pause(); var msg = \"ç³»ç»Ÿç›‘æµ‹åˆ°æ‚¨æœ‰å¼‚å¸¸å­¦ä¹ è¡Œä¸ºï¼Œæœ¬è§†é¢‘è§‚çœ‹æ— æ•ˆï¼Œè¯·æ‚¨é‡æ–°è¿›è¡Œè¯¥è§†é¢‘å†…å®¹å­¦ä¹ ã€‚\" public_alert(1, [\"æˆ‘çŸ¥é“äº†\"], '&lt;i class=\"iconfont\"&gt;&amp;#xe633;&lt;/i&gt;&lt;p&gt;' + msg + '&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; window.location.reload() &#125;); &#125; &#125; &#125;); &#125;, 30000); &#125; var hlsSupported = Hls.isSupported(); if (hlsSupported) &#123; try &#123; var isP2PSupported = p2pml.core.HybridLoader.isSupported(); &#125; catch (err) &#123; window.location.href = \"/static/browser_error.html?v=b57810c40053fbcd20af772b6b6c48b62499dd0ba8bf87bf775a937ad28d427fd99b65bec35bef2368fd1d5dcdbc7c8ed4478c72bbb8d4e35d58eab0fd40fab7\"; &#125; var engine = isP2PSupported ? new p2pml.hlsjs.Engine() : undefined; var player = new Plyr(video, &#123; captions: &#123; active: true, update: true &#125;, controls: ['play-large', 'play', 'current-time', 'mute', 'volume', 'fullscreen'], seekTime: 0 &#125;); var hls = new Hls(&#123; liveSyncDurationCount: 7, // To have at least 7 segments in queue loader: isP2PSupported ? engine.createLoaderClass() : Hls.DefaultConfig.loader &#125;); if (isP2PSupported) &#123; p2pml.hlsjs.initHlsJsPlayer(hls); &#125; // var videoSrc = 'http://video.dangqipiaopiao.com/m3u8/3cd74e54455e95c04db1e7dc0be2e95b/3cd74e54455e95c04db1e7dc0be2e95b.m3u8'; var videoSrc = '/m3u8/b451260fbb0f72b2e643308e6a6ac95c/b451260fbb0f72b2e643308e6a6ac95c.m3u8'; hls.loadSource(videoSrc); hls.attachMedia(video); layui.use(\"layer\", function () &#123; var layer = layui.layer; layer.load(2, &#123;shade: [0.5, 'grey']&#125;); player.on('loadedmetadata', function (event) &#123; layer.closeAll('loading'); if (\"\" != \"\") &#123; var r_time = parseInt(); hour = 0, minute = 0, second = 0; //æ—¶é—´é»˜è®¤å€¼ hour = Math.floor(r_time / 60 / 60) &lt; 10 ? '0' + Math.floor(r_time / 60 / 60) : Math.floor(r_time / 60 / 60); minute = Math.floor(r_time / 60 % 60) &lt; 10 ? '0' + Math.floor(r_time / 60 % 60) : Math.floor(r_time / 60 % 60); second = Math.floor(r_time % 60) &lt; 10 ? '0' + Math.floor(r_time % 60) : Math.floor(r_time % 60); last_time = hour + \":\" + minute + \":\" + second; public_alert(2, [\"ä»å¤´å¼€å§‹\", \"ç»§ç»­è§‚çœ‹\"], '&lt;p class=\"i_player\"&gt;åŒå­¦ä½ å¥½ï¼è¯¥è¯¾ç¨‹è§†é¢‘ä½ ä¸Šæ¬¡è§‚çœ‹åˆ°ï¼š' + last_time + '&lt;br/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; $(\".public_close\").click(); //æ­¤ä¸ºå…³é—­æ–¹æ³• player.play(); &#125;, function () &#123; $(\".public_close\").click(); //æ­¤ä¸ºå…³é—­æ–¹æ³• player.forward(parseInt()); player.play(); &#125;); &#125; else &#123; public_alert(1, [\"æˆ‘çŸ¥é“äº†\"], '&lt;i class=\"iconfont\"&gt;&amp;#xe633;&lt;/i&gt;&lt;p&gt;æ‚¨éœ€è¦å®Œæ•´è§‚çœ‹ä¸€éè¯¾ç¨‹è§†é¢‘ï¼Œæ‰èƒ½è·å–æœ¬è¯¾å­¦æ—¶ï¼Œçœ‹åˆ°è§†é¢‘æ’­æ”¾å®Œæ¯•æç¤ºæ¡†å³ä¸ºå®Œæˆï¼Œç„¶åè§†é¢‘å¯ä»¥æ‹–åŠ¨æ’­æ”¾ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; $(\".public_close\").click(); //æ­¤ä¸ºå…³é—­æ–¹æ³• player.play(); &#125;); &#125; &#125;); &#125;); &#125; else &#123; window.location.href = \"/static/browser_error.html?v=b57810c40053fbcd20af772b6b6c48b62499dd0ba8bf87bf775a937ad28d427fd99b65bec35bef2368fd1d5dcdbc7c8ed4478c72bbb8d4e35d58eab0fd40fab7\"; &#125; player.on('ended', function (event) &#123; clearInterval(timer); //å®šæ—¶å™¨æ¸…é™¤ï¼› $.ajax(&#123; type: \"POST\", cache: false, dataType: \"json\", url: \"/ybdy/lesson/resource_record\", data: &#123; rid: \"815724\", resource_id: \"18612\", video_id: \"6782\", lesson_id: \"587\", _xsrf: $(\":input[name='_xsrf']\").val() &#125;, success: function (data) &#123; window.clearInterval(loop_flag); window.clearInterval(flag); if (Number(data.code) == 1) &#123; public_alert(1, [\"æˆ‘çŸ¥é“äº†\"], '&lt;i class=\"iconfont\"&gt;&amp;#xe633;&lt;/i&gt;&lt;p&gt;å½“å‰è§†é¢‘æ’­æ”¾å®Œæ¯•ï¼&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; window.location.reload() &#125;); $(\".public_cont\").css(\"left\", \"40%\"); $('.plyr__controls').show(); &#125; else if (Number(data.code) == -1) &#123; var msg = \"ç³»ç»Ÿç›‘æµ‹åˆ°æ‚¨æœ‰å¼‚å¸¸å­¦ä¹ è¡Œä¸ºï¼Œæœ¬è§†é¢‘è§‚çœ‹æ— æ•ˆï¼Œè¯·æ‚¨é‡æ–°è¿›è¡Œè¯¥è§†é¢‘å†…å®¹å­¦ä¹ ã€‚\" public_alert(1, [\"æˆ‘çŸ¥é“äº†\"], '&lt;i class=\"iconfont\"&gt;&amp;#xe633;&lt;/i&gt;&lt;p&gt;' + msg + '&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; window.location.reload() &#125;); &#125; &#125; &#125;); &#125;); // ç›‘å¬æ’­æ”¾äº‹ä»¶ player.on('play', function (event) &#123; current_time(); // studyTime(); loop_flag = setTimeout(\"loop_pause()\", 300000); &#125;); // ç›‘å¬æš‚åœäº‹ä»¶ player.on('pause', function (event) &#123; window.clearTimeout(flag); clearInterval(timer); //å®šæ—¶å™¨æ¸…é™¤ï¼› &#125;); // ç›‘å¬å€é€Ÿæ’­æ”¾ï¼Œå¹¶é‡ç½®ä¸ºæ­£å¸¸å€é€Ÿ player.on('ratechange', function (event) &#123; if (player.media.playbackRate != 1) &#123; player.media.playbackRate = 1; &#125; &#125;); document.oncontextmenu = new Function(\"return false;\"); document.onkeydown = document.onkeyup = document.onkeypress = function (event) &#123; var e = event || window.event || arguments.callee.caller.arguments[0]; if (e &amp;&amp; e.keyCode == 123) &#123; e.returnValue = false; return (false); &#125; &#125; // å®šæœŸæš‚åœæ–¹æ³• function loop_pause() &#123; player.pause(); public_alert(1, [\"ç»§ç»­\"], '&lt;i class=\"iconfont\"&gt;&amp;#xe633;&lt;/i&gt;&lt;p&gt;è§†é¢‘å·²æš‚åœï¼Œç‚¹å‡»æŒ‰é’®åç»§ç»­å­¦ä¹ ï¼&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; $(\".public_close\").click(); //æ­¤ä¸ºå…³é—­æ–¹æ³• player.play(); &#125;); &#125;; document.addEventListener('visibilitychange', function () &#123; //æµè§ˆå™¨åˆ‡æ¢äº‹ä»¶ if (document.visibilityState == 'hidden') &#123; player.pause() &#125; else &#123; player.on('loadedmetadata', function (event) &#123; player.play() &#125;) &#125; &#125;);&#125;).toString().slice(12, -2),\"\"); Ways1ï¼š æ‰‹åŠ¨æ¨¡æ‹Ÿ æš‚åœä¿®æ”¹ å¯ä»¥çœ‹åˆ°å¯¼è‡´ä¸æ–­æš‚åœçš„åŸå› æ˜¯ä¸‹é¢ä¸€æ®µä»£ç ï¼š ç›‘å¬æ’­æ”¾äº‹ä»¶123456789101112131415player.on('play', function (event) &#123; current_time(); // studyTime(); loop_flag = setTimeout(\"loop_pause()\", 300000);&#125;);// å®šæœŸæš‚åœæ–¹æ³•function loop_pause() &#123; player.pause(); public_alert(1, [\"ç»§ç»­\"], '&lt;i class=\"iconfont\"&gt;&amp;#xe633;&lt;/i&gt;&lt;p&gt;è§†é¢‘å·²æš‚åœï¼Œç‚¹å‡»æŒ‰é’®åç»§ç»­å­¦ä¹ ï¼&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; $(\".public_close\").click(); //æ­¤ä¸ºå…³é—­æ–¹æ³• player.play(); &#125;);&#125;; å³ï¼Œç‚¹å‡»æ’­æ”¾å™¨çš„æ’­æ”¾åä¼šå¯åŠ¨ä¸€ä¸ª300sæ‰§è¡Œçš„å®šæ—¶å™¨ï¼Œå¼¹å‡ºçª—å£å¹¶æš‚åœæ’­æ”¾ã€‚ä¸ºæ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡clearTimeout(loop_flag)æ¸…é™¤è¿™ä¸ªå®šæ—¶å™¨ ä¹‹åå°±ä¸ä¼šå¼¹å‡ºæš‚åœå•¦ã€‚ å€é€Ÿä¿®æ”¹ å¯ä»¥ä»JSä»£ç ä¸­çœ‹åˆ°è¿˜ç›‘å¬äº†æ’­æ”¾å™¨playerçš„ratechangeå€é€Ÿäº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡F12æ‰“å¼€å¼€å‘è€…å·¥å…·ç§»é™¤è¿™ä¸ªListener 123456// ç›‘å¬å€é€Ÿæ’­æ”¾ï¼Œå¹¶é‡ç½®ä¸ºæ­£å¸¸å€é€Ÿplayer.on('ratechange', function (event) &#123; if (player.media.playbackRate != 1) &#123; player.media.playbackRate = 1; &#125;&#125;); å€é€Ÿæ’ä»¶æ¨èï¼šVideo speed Controller æ³¨ï¼š ç»è¿‡æµ‹è¯•ï¼Œç›´æ¥é€šè¿‡Video speed Controllerè°ƒæ•´å€é€Ÿä¼¼ä¹ä¸ä¼šè¢«é™åˆ¶ â–²æœ‰æ„æ€çš„æ˜¯ï¼Œå› ä¸ºå®šæ—¶æš‚åœçš„é—´éš”æ˜¯300sï¼Œå› æ­¤å¦‚æœ16å€å€é€Ÿæ’­æ”¾ååŸºæœ¬éƒ½å¯ä»¥åœ¨300å†…å®Œæˆï¼Œè¿™æ ·å°±ä¸éœ€è¦åˆ é™¤æš‚åœäº† é¡µé¢åˆ‡æ¢ä¿®æ”¹ å¯ä»¥ä»JSä»£ç ä¸­çœ‹åˆ°è¿˜ç›‘å¬äº†æµè§ˆå™¨çš„visibilitychangeåˆ‡æ¢äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡F12æ‰“å¼€å¼€å‘è€…å·¥å…·ç§»é™¤è¿™ä¸ªListener 123456789document.addEventListener('visibilitychange', function () &#123; //æµè§ˆå™¨åˆ‡æ¢äº‹ä»¶ if (document.visibilityState == 'hidden') &#123; player.pause() &#125; else &#123; player.on('loadedmetadata', function (event) &#123; player.play() &#125;) &#125;&#125;); æ’­æ”¾è¿›åº¦ä¿®æ”¹ å¤„ç†å®Œæ‚¨éœ€è¦å®Œæ•´è§‚çœ‹ä¸€éè¯¾ç¨‹è§†é¢‘ï¼Œæ‰èƒ½è·å–æœ¬è¯¾å­¦æ—¶ï¼Œçœ‹åˆ°è§†é¢‘æ’­æ”¾å®Œæ¯•æç¤ºæ¡†å³ä¸ºå®Œæˆï¼Œç„¶åè§†é¢‘å¯ä»¥æ‹–åŠ¨æ’­æ”¾ã€‚å¼¹çª—åï¼Œç‚¹å‡»è§†é¢‘æš‚åœã€å†æ’­æ”¾ï¼Œç„¶åé”®ç›˜è¾“å…¥9ï¼Œå°†è§†é¢‘æ’­æ”¾è¿›åº¦æ¨åˆ°90%ï¼Œç„¶åå†å€é€Ÿæ”¾å®Œã€‚ â–².ç»¼ä¸Šï¼š ä¸ªäººé‡‡å–çš„æ˜¯[å€é€Ÿæ’­æ”¾]+[é¡µé¢åˆ‡æ¢]+[æ’­æ”¾è¿›åº¦æ‹–æ‹‰]çš„æ–¹æ¡ˆ TODO Way2ï¼šé€šè¿‡æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼Œç›´æ¥è¿‡æ•™ç¨‹ å¯ä»¥çœ‹åˆ°æ¯ä¸ªè§†é¢‘ç»“æŸåå…¶å®è°ƒç”¨çš„æ˜¯endedäº‹ä»¶æ‰§è¡Œçš„å‡½æ•°ï¼Œä¼šå‘é€ä¸€ä¸ªPOSTè¯·æ±‚ 12345678910111213141516171819202122232425262728293031323334player.on('ended', function (event) &#123; clearInterval(timer); //å®šæ—¶å™¨æ¸…é™¤ï¼› $.ajax(&#123; type: \"POST\", cache: false, dataType: \"json\", url: \"/ybdy/lesson/resource_record\", data: &#123; rid: \"815724\", // different field resource_id: \"18612\", // different field video_id: \"6782\", // different field lesson_id: \"587\", // different field _xsrf: $(\":input[name='_xsrf']\").val() // different field &#125;, success: function (data) &#123; window.clearInterval(loop_flag); window.clearInterval(flag); if (Number(data.code) == 1) &#123; public_alert(1, [\"æˆ‘çŸ¥é“äº†\"], '&lt;i class=\"iconfont\"&gt;&amp;#xe633;&lt;/i&gt;&lt;p&gt;å½“å‰è§†é¢‘æ’­æ”¾å®Œæ¯•ï¼&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; window.location.reload() &#125;); $(\".public_cont\").css(\"left\", \"40%\"); $('.plyr__controls').show(); &#125; else if (Number(data.code) == -1) &#123; var msg = \"ç³»ç»Ÿç›‘æµ‹åˆ°æ‚¨æœ‰å¼‚å¸¸å­¦ä¹ è¡Œä¸ºï¼Œæœ¬è§†é¢‘è§‚çœ‹æ— æ•ˆï¼Œè¯·æ‚¨é‡æ–°è¿›è¡Œè¯¥è§†é¢‘å†…å®¹å­¦ä¹ ã€‚\" public_alert(1, [\"æˆ‘çŸ¥é“äº†\"], '&lt;i class=\"iconfont\"&gt;&amp;#xe633;&lt;/i&gt;&lt;p&gt;' + msg + '&lt;/p&gt;&lt;p&gt;&lt;/p&gt;', 'public_cont1', function () &#123; window.location.reload() &#125;); &#125; &#125; &#125;);&#125;); è¯·æ±‚å¹¶ä¸å¤æ‚ï¼Œ åªä¸è¿‡å› ä¸ºå¥³æœ‹å‹è‡ªå·±å·²ç»çœ‹å®ŒæŒºå¤šäº†ï¼Œå› æ­¤å°±ä¸èŠ±è´¹æ—¶é—´å»å¼„è¿™ä¸ªäº†ã€‚æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç»§ç»­å®Œæˆã€‚ æä¾›æ€è·¯ï¼š è·å–â€œæˆ‘çš„è¯¾ç¨‹â€https://webvpn1.jiangnan.edu.cn/http/xxx/user/lesson`ä¸­æ‰€æœ‰è¯¾ç¨‹å†…å®¹Listï¼Œ (v_idä¸åŒ) å†è¿›å…¥æ¯ä¸€ä¸ªè¯¾ç¨‹å­¦ä¹ ï¼Œæ‰¾åˆ°è¯¥è¯¾ç¨‹å­¦ä¹ ä¸‹çš„å­è¯¾ç¨‹SubListï¼Œ (r_idä¸åŒ) è¿›å…¥æ¯ä¸ªå­è¯¾ç¨‹ï¼Œçˆ¬å–å…·ä½“é¡µé¢https://webvpn1.jiangnan.edu.cn/http/77726476706e69737468656265737421f4e6518c693a6151700f87ad961b2631b52fa041/ybdy/play?v_id=7007&amp;r_id=19757&amp;r=video&amp;pg=#çš„é¡µé¢å†…å®¹ï¼Œæ‰¾åˆ°ä»¥ä¸‹æ•°æ®==&gt;end_data 1234567data: &#123; rid: \"815724\", // different field resource_id: \"18612\", // different field video_id: \"6782\", // different field lesson_id: \"587\", // different field _xsrf: $(\":input[name='_xsrf']\").val() // different field&#125;, é€šè¿‡requestså‘é€POSTæ¨¡æ‹Ÿè¯·æ±‚ï¼Œå‘é€end_dataæ•°æ® é™„ å¼€å‘è€…å·¥å…·ä¿®æ”¹Listener é’ˆå¯¹æŒ‡å®šçš„Listenerç‚¹å‡»ç›¸åº”äº‹ä»¶å³è¾¹çš„RemoveæŒ‰é’®å³å¯ æ³¨ï¼š å¼€å‘è€…å·¥å…·æœ€å¥½ä¸è¦å…³é—­ï¼Œç­‰è¿‡å®Œæ‰€æœ‰è§†é¢‘å†å…³","categories":[],"tags":[]},{"title":"Linux iptableså­¦ä¹ ","slug":"Linux-iptableså­¦ä¹ ","date":"2021-11-04T14:22:24.000Z","updated":"2021-11-08T03:48:53.716Z","comments":true,"path":"2021/11/04/Linux-iptableså­¦ä¹ /","link":"","permalink":"https://nymrli.top/2021/11/04/Linux-iptableså­¦ä¹ /","excerpt":"","text":"iptablesç®€ä»‹ â€‹ netfilter/iptablesï¼ˆç®€ç§°ä¸ºiptablesï¼‰ç»„æˆLinuxå¹³å°ä¸‹çš„åŒ…è¿‡æ»¤é˜²ç«å¢™ï¼Œä¸å¤§å¤šæ•°çš„Linuxè½¯ä»¶ä¸€æ ·ï¼Œè¿™ä¸ªåŒ…è¿‡æ»¤é˜²ç«å¢™æ˜¯å…è´¹çš„ï¼Œå®ƒå¯ä»¥ä»£æ›¿æ˜‚è´µçš„å•†ä¸šé˜²ç«å¢™è§£å†³æ–¹æ¡ˆï¼Œå®Œæˆå°åŒ…è¿‡æ»¤ã€å°åŒ…é‡å®šå‘å’Œç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ç­‰åŠŸèƒ½ã€‚ æ³¨ï¼šIptableså’Œnetfilterçš„å…³ç³»æ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“è®©äººæä¸æ¸…çš„é—®é¢˜ã€‚å¾ˆå¤šçš„çŸ¥é“iptableså´ä¸çŸ¥é“ netfilterã€‚å…¶å®iptablesåªæ˜¯Linuxé˜²ç«å¢™çš„ç®¡ç†å·¥å…·è€Œå·²ï¼Œä½äº/sbin/iptablesã€‚çœŸæ­£å®ç°é˜²ç«å¢™åŠŸèƒ½çš„æ˜¯ netfilterï¼Œå®ƒæ˜¯Linuxå†…æ ¸ä¸­å®ç°åŒ…è¿‡æ»¤çš„å†…éƒ¨ç»“æ„ã€‚ iptablesåŸºç¡€ è§„åˆ™ï¼ˆrulesï¼‰å…¶å®å°±æ˜¯ç½‘ç»œç®¡ç†å‘˜é¢„å®šä¹‰çš„æ¡ä»¶ï¼Œè§„åˆ™ä¸€èˆ¬çš„å®šä¹‰ä¸ºâ€œå¦‚æœæ•°æ®åŒ…å¤´ç¬¦åˆè¿™æ ·çš„æ¡ä»¶ï¼Œå°±è¿™æ ·å¤„ç†è¿™ä¸ªæ•°æ®åŒ…â€ã€‚è§„åˆ™å­˜å‚¨åœ¨å†…æ ¸ç©ºé—´çš„ä¿¡æ¯ åŒ…è¿‡æ»¤è¡¨ä¸­ï¼Œè¿™äº›è§„åˆ™åˆ†åˆ«æŒ‡å®šäº†æºåœ°å€ã€ç›®çš„åœ°å€ã€ä¼ è¾“åè®®ï¼ˆå¦‚TCPã€UDPã€ICMPï¼‰å’ŒæœåŠ¡ç±»å‹ï¼ˆå¦‚HTTPã€FTPå’ŒSMTPï¼‰ç­‰ã€‚å½“æ•°æ®åŒ…ä¸è§„ åˆ™åŒ¹é…æ—¶ï¼Œiptableså°±æ ¹æ®è§„åˆ™æ‰€å®šä¹‰çš„æ–¹æ³•æ¥å¤„ç†è¿™äº›æ•°æ®åŒ…ï¼Œå¦‚**æ”¾è¡Œï¼ˆacceptï¼‰ã€æ‹’ç»ï¼ˆrejectï¼‰å’Œä¸¢å¼ƒï¼ˆdropï¼‰**ç­‰ã€‚é…ç½®é˜²ç«å¢™çš„ ä¸»è¦å·¥ä½œå°±æ˜¯æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤è¿™äº›è§„åˆ™ã€‚ é“¾å’Œè¡¨ Iptablesé‡‡ç”¨â€œè¡¨â€å’Œâ€œé“¾â€çš„åˆ†å±‚ç»“æ„ã€‚åœ¨REHL4ä¸­æ˜¯ä¸‰å¼ è¡¨äº”ä¸ªé“¾ã€‚ç°åœ¨REHL5æˆäº†å››å¼ è¡¨äº”ä¸ªé“¾äº†ï¼Œä¸è¿‡å¤šå‡ºæ¥çš„é‚£ä¸ªè¡¨ç”¨çš„ä¹Ÿä¸å¤ªå¤šï¼Œæ‰€ä»¥åŸºæœ¬è¿˜æ˜¯å’Œä»¥å‰ä¸€æ ·ã€‚ è¡¨ï¼ˆtablesï¼‰ï¼šæä¾›ç‰¹å®šçš„åŠŸèƒ½ï¼Œiptableså†…ç½®äº†4ä¸ªè¡¨ï¼Œå³filterè¡¨ã€natè¡¨ã€mangleè¡¨å’Œrawè¡¨ï¼Œåˆ†åˆ«ç”¨äºå®ç°åŒ…è¿‡æ»¤ï¼Œç½‘ç»œåœ°å€è½¬æ¢ã€åŒ…é‡æ„(ä¿®æ”¹)å’Œæ•°æ®è·Ÿè¸ªå¤„ç†ã€‚ é“¾ï¼ˆchainsï¼‰ï¼šæ˜¯æ•°æ®åŒ…ä¼ æ’­çš„è·¯å¾„ï¼Œæ¯ä¸€æ¡é“¾å…¶å®å°±æ˜¯ä¼—å¤šè§„åˆ™ä¸­çš„ä¸€ä¸ªæ£€æŸ¥æ¸…å•ï¼Œæ¯ä¸€æ¡é“¾ä¸­å¯ä»¥æœ‰ä¸€ æ¡æˆ–æ•°æ¡è§„åˆ™ã€‚å½“ä¸€ä¸ªæ•°æ®åŒ…åˆ°è¾¾ä¸€ä¸ªé“¾æ—¶ï¼Œiptableså°±ä¼šä»é“¾ä¸­ç¬¬ä¸€æ¡è§„åˆ™å¼€å§‹æ£€æŸ¥ï¼Œçœ‹è¯¥æ•°æ®åŒ…æ˜¯å¦æ»¡è¶³è§„åˆ™æ‰€å®šä¹‰çš„æ¡ä»¶ã€‚å¦‚æœæ»¡è¶³ï¼Œç³»ç»Ÿå°±ä¼šæ ¹æ® è¯¥æ¡è§„åˆ™æ‰€å®šä¹‰çš„æ–¹æ³•å¤„ç†è¯¥æ•°æ®åŒ…ï¼›å¦åˆ™iptableså°†ç»§ç»­æ£€æŸ¥ä¸‹ä¸€æ¡è§„åˆ™ï¼Œå¦‚æœè¯¥æ•°æ®åŒ…ä¸ç¬¦åˆé“¾ä¸­ä»»ä¸€æ¡è§„åˆ™ï¼Œiptableså°±ä¼šæ ¹æ®è¯¥é“¾é¢„å…ˆå®š ä¹‰çš„é»˜è®¤ç­–ç•¥æ¥å¤„ç†æ•°æ®åŒ…ã€‚ ä¸‹é¢ç½—åˆ—ä¸€ä¸‹è¿™å››å¼ è¡¨å’Œäº”ä¸ªé“¾ã€‚æ³¨æ„ä¸€å®šè¦æ˜ç™½è¿™äº›è¡¨å’Œé“¾çš„å…³ç³»åŠä½œç”¨ã€‚ è§„åˆ™è¡¨ï¼š filterè¡¨â€”â€”ä¸‰ä¸ªé“¾ï¼šINPUTã€FORWARDã€OUTPUT ä½œç”¨ï¼šè¿‡æ»¤æ•°æ®åŒ… å†…æ ¸æ¨¡å—ï¼šiptables_filter. Natè¡¨â€”â€”ä¸‰ä¸ªé“¾ï¼šPREROUTINGã€POSTROUTINGã€OUTPUT ä½œç”¨ï¼šç”¨äºç½‘ç»œåœ°å€è½¬æ¢ï¼ˆIPã€ç«¯å£ï¼‰ å†…æ ¸æ¨¡å—ï¼šiptable_nat Mangleè¡¨â€”â€”äº”ä¸ªé“¾ï¼šPREROUTINGã€POSTROUTINGã€INPUTã€OUTPUTã€FORWARD ä½œç”¨ï¼šä¿®æ”¹æ•°æ®åŒ…çš„æœåŠ¡ç±»å‹ã€TTLã€å¹¶ä¸”å¯ä»¥é…ç½®è·¯ç”±å®ç°QOSå†…æ ¸æ¨¡å—ï¼šiptable_mangle(åˆ«çœ‹è¿™ä¸ªè¡¨è¿™ä¹ˆéº»çƒ¦ï¼Œå’±ä»¬è®¾ç½®ç­–ç•¥æ—¶å‡ ä¹éƒ½ä¸ä¼šç”¨åˆ°å®ƒ) Rawè¡¨â€”â€”ä¸¤ä¸ªé“¾ï¼šOUTPUTã€PREROUTING ä½œç”¨ï¼šå†³å®šæ•°æ®åŒ…æ˜¯å¦è¢«çŠ¶æ€è·Ÿè¸ªæœºåˆ¶å¤„ç† å†…æ ¸æ¨¡å—ï¼šiptable_raw (è¿™ä¸ªæ˜¯REHL4æ²¡æœ‰çš„ï¼Œä¸è¿‡ä¸ç”¨æ€•ï¼Œç”¨çš„ä¸å¤š) è§„åˆ™é“¾ï¼š INPUTâ€”â€”è¿›æ¥çš„æ•°æ®åŒ…åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ OUTPUTâ€”â€”å¤–å‡ºçš„æ•°æ®åŒ…åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ FORWARDâ€”â€”è½¬å‘æ•°æ®åŒ…æ—¶åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ï¼ˆä¼ é€’æ•°æ®åŒ…åˆ°åç«¯çš„è®¡ç®—æœºä¸­ï¼Œä¸NATçš„tableç›¸å…³æ€§è¾ƒé«˜ï¼‰ PREROUTINGâ€”â€”å¯¹æ•°æ®åŒ…ä½œè·¯ç”±é€‰æ‹©å‰åº”ç”¨æ­¤é“¾ä¸­çš„è§„åˆ™ ï¼ˆè®°ä½ï¼æ‰€æœ‰çš„æ•°æ®åŒ…è¿›æ¥çš„æ—¶ä¾¯éƒ½å…ˆç”±è¿™ä¸ªé“¾å¤„ç†ï¼‰ POSTROUTINGâ€”â€”å¯¹æ•°æ®åŒ…ä½œè·¯ç”±é€‰æ‹©ååº”ç”¨æ­¤é“¾ä¸­çš„è§„åˆ™ ï¼ˆæ‰€æœ‰çš„æ•°æ®åŒ…å‡ºæ¥çš„æ—¶ä¾¯éƒ½å…ˆç”±è¿™ä¸ªé“¾å¤„ç†ï¼‰ iptablesçš„åŸºæœ¬è¯­æ³•æ ¼å¼ iptables [-t è¡¨å] å‘½ä»¤é€‰é¡¹ ï¼»é“¾åï¼½ ï¼»æ¡ä»¶åŒ¹é…ï¼½ ï¼»-j ç›®æ ‡åŠ¨ä½œæˆ–è·³è½¬ï¼½ è¯´æ˜ï¼šè¡¨åã€é“¾åç”¨äºæŒ‡å®š iptableså‘½ä»¤æ‰€æ“ä½œçš„è¡¨å’Œé“¾ï¼›å‘½ä»¤é€‰é¡¹ç”¨äºæŒ‡å®šç®¡ç†iptablesè§„åˆ™çš„æ–¹å¼ï¼ˆæ¯”å¦‚ï¼šæ’å…¥ã€å¢åŠ ã€åˆ é™¤ã€æŸ¥çœ‹ç­‰ï¼›æ¡ä»¶åŒ¹é…ç”¨äºæŒ‡å®šå¯¹ç¬¦åˆä»€ä¹ˆæ · æ¡ä»¶çš„æ•°æ®åŒ…è¿›è¡Œå¤„ç†ï¼›ç›®æ ‡åŠ¨ä½œæˆ–è·³è½¬ç”¨äºæŒ‡å®šæ•°æ®åŒ…çš„å¤„ç†æ–¹å¼ï¼ˆæ¯”å¦‚å…è®¸é€šè¿‡ã€æ‹’ç»ã€ä¸¢å¼ƒã€è·³è½¬ï¼ˆJumpï¼‰ç»™å…¶å®ƒé“¾å¤„ç†ã€‚ é“¾ä¸Šè§„åˆ™å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š é€‰ é¡¹ åŠŸ èƒ½ -A åœ¨é“¾å°¾æ·»åŠ é˜²ç«å¢™è§„åˆ™ -D åˆ é™¤é˜²ç«å¢™è§„åˆ™ï¼Œé»˜è®¤ç¬¬ä¸€æ¡ -I æ’å…¥é˜²ç«å¢™è§„åˆ™ï¼Œé»˜è®¤æ’åœ¨é“¾å¤´ -F æ¸…ç©ºé˜²ç«å¢™è§„åˆ™ -L åˆ—å‡ºæ·»åŠ é˜²ç«å¢™è§„åˆ™ï¼ŒæŒ‰è¡¨åˆ†ç»„ -S åˆ—å‡ºæ·»åŠ é˜²ç«å¢™è§„åˆ™ï¼Œä¸åˆ†ç»„ -R æ›¿æ¢é˜²ç«å¢™è§„åˆ™ -Z æ¸…ç©ºé˜²ç«å¢™æ•°æ®è¡¨ç»Ÿè®¡ä¿¡æ¯ -P è®¾ç½®é“¾é»˜è®¤è§„åˆ™ -V æŸ¥çœ‹ç‰ˆæœ¬(version) -Z å°†æ‰€æœ‰è¡¨çš„æ‰€æœ‰é“¾çš„å­—èŠ‚å’Œæ•°æ®åŒ…è®¡æ•°å™¨æ¸…é›¶ æ³¨ï¼šä½¿ç”¨ -A é€‰é¡¹æ·»åŠ é˜²ç«å¢™è§„åˆ™ä¼šå°†è¯¥è§„åˆ™è¿½åŠ åˆ°æ•´ä¸ªé“¾çš„æœ€åï¼Œè€Œä½¿ç”¨ -I é€‰é¡¹æ·»åŠ çš„é˜²ç«å¢™è§„åˆ™åˆ™ä¼šé»˜è®¤æ’å…¥åˆ°é“¾ä¸­ä½œä¸ºç¬¬ä¸€æ¡è§„åˆ™ã€‚ é“¾æ“ä½œç›¸å…³å‘½ä»¤é€‰é¡¹ é€‰ é¡¹ shortHand åŠŸ èƒ½ â€“new -N åˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰çš„é“¾ â€“delete-chain -X åˆ é™¤ç”¨æˆ·è‡ªå®šä¹‰çš„é“¾ â€“rename-chain -E ä¿®æ”¹é“¾å å…¶ä»–è¾…åŠ©åŠŸèƒ½å‘½ä»¤é€‰é¡¹ é€‰ é¡¹ åŠŸ èƒ½ -V æŸ¥çœ‹ç‰ˆæœ¬(version) -Z å°†æ‰€æœ‰è¡¨çš„æ‰€æœ‰é“¾çš„å­—èŠ‚å’Œæ•°æ®åŒ…è®¡æ•°å™¨æ¸…é›¶ å…·ä½“å¯ä»¥é€šè¿‡iptables --helpæŸ¥çœ‹ iptables å‘½ä»¤å¸¸ç”¨æ¡ä»¶åŒ¹é…å‚æ•° åŠå„è‡ªçš„åŠŸèƒ½å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ å‚æ•° åŠŸèƒ½ [!]-p åŒ¹é…åè®®ï¼Œ! è¡¨ç¤ºå–å [!]-s åŒ¹é…æºåœ°å€ [!]-d åŒ¹é…ç›®æ ‡åœ°å€ [!]-i åŒ¹é…å…¥ç«™ç½‘å¡æ¥å£ [!]-o åŒ¹é…å‡ºç«™ç½‘å¡æ¥å£ [!]â€“sport åŒ¹é…æºç«¯å£ [!]â€“dport åŒ¹é…ç›®æ ‡ç«¯å£ [!]â€“src-range åŒ¹é…æºåœ°å€èŒƒå›´ [!]â€“dst-range åŒ¹é…ç›®æ ‡åœ°å€èŒƒå›´ [!]â€“limit å››é…æ•°æ®è¡¨é€Ÿç‡ [!]â€“mac-source åŒ¹é…æºMACåœ°å€ [!]â€“sports åŒ¹é…æºç«¯å£ [!]â€“dports åŒ¹é…ç›®æ ‡ç«¯å£ [!]â€“stste åŒ¹é…çŠ¶æ€ï¼ˆINVALIDã€ESTABLISHEDã€NEWã€RELATED) [!]â€“string åŒ¹é…åº”ç”¨å±‚å­—ä¸² -m å¢åŠ æ¨¡å—ï¼š-m mac --mac-sourceã€iptables -m tcpï¼šè¡¨ç¤ºä½¿ç”¨TCPæ¨¡å—çš„æ‰©å±•åŠŸèƒ½ï¼ˆtcpæ‰©å±•æ¨¡å—æä¾›äº† --dport, --tcp-flags, --syncç­‰åŠŸèƒ½ï¼‰ -n ä½¿ç”¨æ•°å­—å½¢å¼ï¼ˆnumericï¼‰æ˜¾ç¤ºè¾“å‡ºç»“æœ -v æŸ¥çœ‹è§„åˆ™è¡¨è¯¦ç»†ä¿¡æ¯ï¼ˆverboseï¼‰çš„ä¿¡æ¯ -h è·å–å¸®åŠ©ï¼ˆhelpï¼‰ é˜²ç«å¢™å¤„ç†æ•°æ®åŒ…çš„å››ç§æ–¹å¼(ç›®æ ‡åŠ¨ä½œ) è§¦å‘åŠ¨ä½œ åŠŸ èƒ½ ACCEPT å…è®¸æ•°æ®åŒ…é€šè¿‡ DROP ç›´æ¥ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œä¸ç»™ä»»ä½•å›åº”ä¿¡æ¯ REJECT æ‹’ç»æ•°æ®åŒ…é€šè¿‡ï¼Œå¿…è¦æ—¶ä¼šç»™æ•°æ®å‘é€ç«¯ä¸€ä¸ªå“åº”çš„ä¿¡æ¯ã€‚ LOG åœ¨/var/log/messagesæ–‡ä»¶ä¸­è®°å½•æ—¥å¿—ä¿¡æ¯ï¼Œç„¶åå°†æ•°æ®åŒ…ä¼ é€’ç»™ä¸‹ä¸€æ¡è§„åˆ™ DNAT ç›®æ ‡åœ°å€è½¬æ¢ SNAT æºåœ°å€è½¬æ¢ MASQUERADE åœ°å€æ¬ºéª— REDIRECT é‡å®šå‘ iptablesä¼ è¾“æ•°æ®åŒ…çš„è¿‡ç¨‹ â‘  å½“ä¸€ä¸ªæ•°æ®åŒ…è¿›å…¥ç½‘å¡æ—¶ï¼Œå®ƒé¦–å…ˆè¿›å…¥PREROUTINGé“¾ï¼Œå†…æ ¸æ ¹æ®æ•°æ®åŒ…ç›®çš„IPåˆ¤æ–­æ˜¯å¦éœ€è¦è½¬é€å‡ºå»ã€‚ â‘¡ å¦‚æœæ•°æ®åŒ…å°±æ˜¯è¿›å…¥æœ¬æœºçš„ï¼Œå®ƒå°±ä¼šæ²¿ç€å›¾å‘ä¸‹ç§»åŠ¨ï¼Œåˆ°è¾¾INPUTé“¾ã€‚æ•°æ®åŒ…åˆ°äº†INPUTé“¾åï¼Œä»»ä½•è¿›ç¨‹éƒ½ä¼šæ”¶åˆ°å®ƒã€‚æœ¬æœºä¸Šè¿è¡Œçš„ç¨‹åºå¯ä»¥å‘é€æ•°æ®åŒ…ï¼Œè¿™äº›æ•°æ®åŒ…ä¼šç»è¿‡OUTPUTé“¾ï¼Œç„¶ååˆ°è¾¾POSTROUTINGé“¾è¾“å‡ºã€‚ â‘¢ å¦‚æœæ•°æ®åŒ…æ˜¯è¦è½¬å‘å‡ºå»çš„ï¼Œä¸”å†…æ ¸å…è®¸è½¬å‘ï¼Œæ•°æ®åŒ…å°±ä¼šå¦‚å›¾æ‰€ç¤ºå‘å³ç§»åŠ¨ï¼Œç»è¿‡FORWARDé“¾ï¼Œç„¶ååˆ°è¾¾POSTROUTINGé“¾è¾“å‡ºã€‚ iptablesé˜²ç«å¢™è§„åˆ™çš„ä¿å­˜ä¸æ¢å¤ iptables-saveæŠŠè§„åˆ™ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œå†ç”±ç›®å½•rc.dä¸‹çš„è„šæœ¬ï¼ˆ/etc/rc.d/init.d/iptablesï¼‰è‡ªåŠ¨è£…è½½ ä½¿ç”¨å‘½ä»¤iptables-saveæ¥ä¿å­˜è§„åˆ™ã€‚ä¸€èˆ¬ç”¨: iptables-save &gt; /etc/sysconfig/iptablesç”Ÿæˆä¿å­˜è§„åˆ™çš„æ–‡ä»¶ /etc/sysconfig/iptablesï¼Œä¹Ÿå¯ä»¥ç”¨service iptables saveå®ƒèƒ½æŠŠè§„åˆ™è‡ªåŠ¨ä¿å­˜åœ¨/etc/sysconfig/iptablesä¸­ã€‚ å½“è®¡ç®—æœºå¯åŠ¨æ—¶ï¼Œrc.dä¸‹çš„è„šæœ¬å°†ç”¨å‘½ä»¤iptables-restoreè°ƒç”¨è¿™ä¸ªæ–‡ä»¶ï¼Œä»è€Œå°±è‡ªåŠ¨æ¢å¤äº†è§„åˆ™ã€‚ DNATå’ŒSNAT åŒºåˆ†SNATå’ŒDNAT ä»å®šä¹‰æ¥è®²å®ƒä»¬ä¸€ä¸ªæ˜¯æºåœ°å€è½¬æ¢ï¼Œä¸€ä¸ªæ˜¯ç›®æ ‡åœ°å€è½¬æ¢ã€‚éƒ½æ˜¯åœ°å€è½¬æ¢çš„åŠŸèƒ½ï¼ˆNATï¼‰ï¼Œå°†ç§æœ‰åœ°å€è½¬æ¢ä¸ºå…¬ç½‘åœ°å€ã€‚ è¦åŒºåˆ†è¿™ä¸¤ä¸ªåŠŸèƒ½å¯ä»¥ç®€å•çš„ç”±è¿æ¥å‘èµ·è€…æ˜¯è°æ¥åŒºåˆ†ï¼š å†…éƒ¨åœ°å€è¦è®¿é—®å…¬ç½‘ä¸Šçš„æœåŠ¡æ—¶ï¼ˆå¦‚webè®¿é—®ï¼‰ï¼Œå†…éƒ¨åœ°å€ä¼šä¸»åŠ¨å‘èµ·è¿æ¥ï¼Œç”±è·¯ç”±å™¨æˆ–è€…é˜²ç«å¢™ä¸Šçš„ç½‘å…³å¯¹å†…éƒ¨åœ°å€åšä¸ªåœ°å€è½¬æ¢ï¼Œå°†å†…éƒ¨åœ°å€çš„ç§æœ‰IPè½¬æ¢ä¸ºå…¬ç½‘çš„å…¬æœ‰IPï¼Œç½‘å…³çš„è¿™ä¸ªåœ°å€è½¬æ¢ç§°ä¸ºSNATï¼Œä¸»è¦ç”¨äºå†…éƒ¨å…±äº«IPè®¿é—®å¤–éƒ¨ã€‚ å½“å†…éƒ¨éœ€è¦æä¾›å¯¹å¤–æœåŠ¡æ—¶ï¼ˆå¦‚å¯¹å¤–å‘å¸ƒwebç½‘ç«™ï¼‰ï¼Œå¤–éƒ¨åœ°å€å‘èµ·ä¸»åŠ¨è¿æ¥ï¼Œç”±è·¯ç”±å™¨æˆ–è€…é˜²ç«å¢™ä¸Šçš„ç½‘å…³æ¥æ”¶è¿™ä¸ªè¿æ¥ï¼Œç„¶åå°†è¿æ¥è½¬æ¢åˆ°å†…éƒ¨ï¼Œæ­¤è¿‡ç¨‹æ˜¯ç”±å¸¦æœ‰å…¬ç½‘IPçš„ç½‘å…³æ›¿ä»£å†…éƒ¨æœåŠ¡æ¥æ¥æ”¶å¤–éƒ¨çš„è¿æ¥ï¼Œç„¶ååœ¨å†…éƒ¨åšåœ°å€è½¬æ¢ï¼Œæ­¤è½¬æ¢ç§°ä¸ºDNATï¼Œä¸»è¦ç”¨äºå†…éƒ¨æœåŠ¡å¯¹å¤–å‘å¸ƒï¼Œå¤–ç½‘é€šè¿‡ç»Ÿä¸€æä¾›çš„å¤–ç½‘IPæ¥è®¿é—®å†…ç½‘æœåŠ¡æ—¶ï¼ŒDNATæ‰¾åˆ°å†…ç½‘ä¸­å…·ä½“çš„IPä¸Šçš„å¯¹åº”æœåŠ¡ã€‚ **SNATï¼š**å±€åŸŸç½‘å…±äº«ä¸€ä¸ªå…¬ç½‘IPæ¥å…¥lnternelï¼Œå¥½å¤„å¦‚ä¸‹ ä¿æŠ¤å†…ç½‘ç”¨æˆ·å®‰å…¨ï¼Œå› ä¸ºå…¬ç½‘åœ°å€æ€»æœ‰ä¸€äº›äººæ¶æ„æ‰«æï¼Œè€Œå†…ç½‘åœ°å€åœ¨å…¬ç½‘æ²¡æœ‰è·¯ç”±æ‰€ä»¥æ— æ³•è¢«æ‰«æï¼Œèƒ½è¢«æ‰«æçš„åªæœ‰é˜²ç«å¢™è¿™ä¸€å°ï¼Œè¿™æ ·å°±å‡å°‘äº†è¢«æ”»å‡»çš„å¯èƒ½ã€‚ Ipv4åœ°å€åŒ®ä¹ï¼Œå¾ˆå¤šå…¬å¸åªæœ‰ä¸€ä¸ªipv4åœ°å€ï¼Œä½†æ˜¯å´æœ‰å‡ ç™¾ä¸ªç”¨æˆ·éœ€è¦ä¸Šç½‘ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨SNATã€‚ çœé’±ï¼Œå…¬ç½‘åœ°å€ä»˜è´¹ï¼Œä½¿ç”¨SNATåªéœ€è¦ä¸€ä¸ªå…¬ç½‘ipå°±å¯ä»¥æ»¡è¶³å‡ ç™¾äººåŒæ—¶ä¸Šç½‘ã€‚ **DNATï¼š**å‘internelå‘å¸ƒå†…ç½‘æœåŠ¡å™¨ åœ¨å†…ç½‘ä¸­æœ‰æœåŠ¡å™¨ï¼Œå¦‚æœæƒ³è®©å…¬ç½‘ç”¨æˆ·è®¿é—®æœ‰æœ‰ä¸¤ç§æ–¹æ³•ã€‚ é…ç½®åŒç½‘å¡ï¼Œä¸€ç½‘å¡å¯¹å†…ï¼Œä¸€ç½‘å¡å¯¹å¤–ï¼›ä¸€èˆ¬æ˜¯é«˜è®¿é—®é‡çš„webæœåŠ¡å™¨ï¼Œä¸ºäº†é¿å…å ç”¨ç½‘å…³çš„æµé‡æ‰è¿™æ ·åšï¼Œä½¿ç”¨ä¸æ˜¯å¾ˆå¹¿æ³›ã€‚ å†…ç½‘webæœåŠ¡å™¨ï¼Œæˆ–æ˜¯ftpæœåŠ¡å™¨ï¼Œä¸ºäº†ç”¨æˆ·åœ¨å…¬ç½‘ä¹Ÿå¯ä»¥è®¿é—®ï¼Œæœ‰ä¸æƒ³ä¹°å…¬ç½‘ipåœ°å€ï¼Œé‡‡ç”¨DNATæ–¹æ¡ˆã€‚è§iptablesè¿›è¡ŒDNATï¼ˆç›®æ ‡åœ°å€è½¬æ¢ï¼‰ å‚è€ƒï¼š iptablesè¯¦è§£ Linux iptableså‘½ä»¤è¯¦è§£","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"æµ™æ±Ÿå¤§å­¦æœŸæœ«è€ƒè¯•â€”â€”Goè¯­è¨€","slug":"æµ™æ±Ÿå¤§å­¦æœŸæœ«è€ƒè¯•â€”â€”Goè¯­è¨€","date":"2021-11-02T13:52:53.000Z","updated":"2021-12-30T05:28:27.191Z","comments":true,"path":"2021/11/02/æµ™æ±Ÿå¤§å­¦æœŸæœ«è€ƒè¯•â€”â€”Goè¯­è¨€/","link":"","permalink":"https://nymrli.top/2021/11/02/æµ™æ±Ÿå¤§å­¦æœŸæœ«è€ƒè¯•â€”â€”Goè¯­è¨€/","excerpt":"","text":"æµ™æ±Ÿå¤§å­¦æœŸæœ«è€ƒè¯•â€”â€”Goè¯­è¨€ æœŸæœ«å¤ä¹ å¯¹å­¦ä¹ çŸ¥è¯†çš„å¸®åŠ©æ˜¯å·¨å¤§çš„ï¼Œç›¸æ¯”äºçœ‹è§†é¢‘ï¼Œæœ¬ç¯‡ç‚¹åˆ°ä¸ºæ­¢çš„çŸ¥è¯†ç‚¹å½¢çš„æœŸæœ«å¤ä¹ ç¬”è®°ï¼Œæˆ‘ç›¸ä¿¡æ›´èƒ½è®©äººå­¦ä¼šã€‚æˆ‘ç›¸ä¿¡ï¼Œåªè¦æŠŠæœ¬ç¬”è®°å…¨éƒ¨çœ‹å®Œäº†å¿…ç„¶å°±ä¼šGoäº†ã€‚å¦‚æœä½ åšåˆ°äº†ä½†è¿˜æ²¡æœ‰å­¦ä¼šGoï¼Œé‚£ä½ å¤§å¯æ¥æ‰¾æˆ‘/dogeã€‚ æ¦‚è®º æŒ‡ä»¤ï¼šè®¡ç®—æœºçš„ä¸€ä¸ªæœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œå¦‚å®ç°ä¸€æ¬¡åŠ æ³•è¿ç®—æˆ–å®ç°ä¸€æ¬¡å¤§å°çš„åˆ¤åˆ« è®¡ç®—æœºçš„æŒ‡ä»¤ç³»ç»Ÿï¼šè®¡ç®—æœºæ‰€èƒ½å®ç°çš„æŒ‡ä»¤çš„é›†åˆ ç¨‹åºï¼šä¸€ç³»åˆ—è®¡ç®—æœºæŒ‡ä»¤çš„æœ‰åºç»„åˆ ç®—æ³•ï¼š æ±‚è§£ç‰¹å®šé—®é¢˜çš„ä¸€ç»„æœ‰é™çš„æ“ä½œåºåˆ— ç›®çš„æ€§ï¼šç®—æ³•æœ‰è¿ç®—ç»“æœï¼Œç¨‹åºå¼ºè°ƒè¿‡ç¨‹æ€§ æŠ½è±¡æ€§ï¼šç®—æ³•ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€å’ŒæŒ‡ä»¤ç³»ç»Ÿ ç ”ç©¶æ€§ï¼šç®—æ³•æ˜¯ç†è®ºç ”ç©¶ï¼Œè½½ä½“å¯ä»¥æ˜¯ä¼ªç ï¼Œæ–‡å­—ï¼Œå›¾ç‰‡ç­‰ï¼Œè½½ä½“ä¸ºæŸä¸€ç¼–ç¨‹è¯­è¨€æ—¶å°±æ˜¯ç¨‹åº åŸºæœ¬ç‰¹å¾ï¼š æœ‰é™æ€§ï¼šä¸€ä¸ªç®—æ³•åœ¨æ‰§è¡Œæœ‰é™æ­¥ä¹‹åå¿…é¡»ä¼šç»ˆæ­¢ã€‚ ç¡®å®šæ€§ï¼šä¸€ä¸ªç®—æ³•çš„æ¯ä¸ªæ­¥éª¤éƒ½å¿…é¡»ç²¾ç¡®åœ°å®šä¹‰ï¼Œå¯ä»¥ä¸¥æ ¼åœ°ã€æ— æ­§ä¹‰åœ°æ‰§è¡Œã€‚ è¾“å…¥ï¼šä¸€ä¸ªç®—æ³•åœ¨è¿è¡Œä¹‹å‰èµ‹ç»™å®ƒçš„é‡ï¼Œæˆ–åœ¨è¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åœ°èµ‹ç»™å®ƒçš„é‡ã€‚ è¾“å‡ºï¼šä¸€ä¸ªç®—æ³•è¿è¡Œç»“æŸæ—¶çš„ç»“æœã€‚ æœ‰æ•ˆæ€§ï¼šä¸€ä¸ªç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰è¿ç®—å¿…é¡»æ˜¯å……åˆ†åŸºæœ¬çš„ï¼Œæ˜¯å¯è¡Œçš„ï¼ŒåŸåˆ™ä¸Šäººä»¬å¯ä»¥ç”¨ç¬”å’Œçº¸åœ¨æœ‰é™çš„æ—¶é—´å†…ç²¾ç¡®åœ°å®Œæˆè¿™äº›è¿ç®—ã€‚ ç»“æ„åŒ–ç¨‹åºè®¾è®¡ ç¨‹åº=ç®—æ³•+æ•°æ®ç»“æ„ ----è·å¾—å›¾çµå¥–çš„Pascalä¹‹çˆ¶Nicklaus Wirth å°†å¤æ‚ç¨‹åºåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªç›¸äº’ç‹¬ç«‹çš„æ¨¡å— æ¨¡å—ï¼šä¸€æ¡è¯­å¥ï¼ˆStatementï¼‰ã€ä¸€æ®µç¨‹åºæˆ–ä¸€ä¸ªå‡½æ•°ï¼ˆå­ç¨‹åºï¼‰ç­‰ ç»“æ„åŒ–ç¨‹åºè®¾è®¡ç‰¹ç‚¹ è‡ªé¡¶å‘ä¸‹ æ¨¡å—åŒ–è®¾è®¡ ç»“æ„åŒ–ç¼–ç  OOP å°è£…å’Œæ•°æ®éšè— ç»§æ‰¿å’Œé‡ç”¨ å¤šæ€æ€§ GO ç‰¹æ€§ é™æ€ç¼–è¯‘å‹ è¯­æ³•å¼ºè°ƒå°‘å³æ˜¯å¤š å¼ºè°ƒç»„åˆï¼Œæ›´ç®€æ´çš„OOP Duckæ¨¡å‹çš„éä¾µå…¥å¼æ¥å£ åŸç”Ÿæ”¯æŒå¹¶å‘ç¼–ç¨‹ æ”¯æŒå¤šç§æ“ä½œç³»ç»Ÿå’Œä½“ç³»ç»“æ„çš„äº¤å‰ç¼–è¯‘ å¤§é‡ä½¿ç”¨å†…ç½®å‡½æ•°å’Œæ¥å£æ¥æé«˜ä»£ç å¤ç”¨åº¦ æ”¯æŒå’ŒC è¯­è¨€ç›¸äº’è°ƒç”¨çš„æœºåˆ¶ï¼ˆCGOï¼‰ è¯­è¨€ç¯å¢ƒå˜é‡ $GOROOT GO è¯­è¨€ç¯å¢ƒåœ¨è®¡ç®—æœºçš„å®‰è£…ä½ç½® $GOPATH GO è¯­è¨€å·¥ä½œç›®å½•ï¼Œå¯ä»¥æœ‰å¤šä¸ª Goè¯­è¨€çš„æºç æ–‡ä»¶æœ‰ä¸‰å¤§ç±»ï¼š å‘½ä»¤æºç æ–‡ä»¶ï¼Œå¯æ‰§è¡Œçš„ç¨‹åºçš„å…¥å£ åº“æºç æ–‡ä»¶ï¼Œé›†ä¸­æ”¾ç½®å„ç§å¾…è¢«ä½¿ç”¨çš„ç¨‹åºå®ä½“ æµ‹è¯•æºç æ–‡ä»¶ï¼Œç”¨äºå¯¹å‰ä¸¤ç§æºç æ–‡ä»¶ä¸­çš„ç¨‹åºå®ä½“çš„åŠŸèƒ½å’Œæ€§èƒ½è¿›è¡Œæµ‹è¯• Go Token(æ ‡è®°) å…³é”®å­—ï¼š25ä¸ª æ ‡è¯†ç¬¦ï¼š40ä¸ª åˆ†éš”ç¬¦ å­—é¢é‡ å˜é‡ å˜é‡ä»£è¡¨æŸå—å†…å­˜åŒºåŸŸ å˜é‡çš„ä½¿ç”¨åŒ…æ‹¬ä¸¤ä¸ªåˆ†å¼€çš„æ­¥éª¤ï¼šå˜é‡å£°æ˜ã€å˜é‡èµ‹å€¼ å˜é‡å£°æ˜åä¼šç«‹å³åˆ†é…å­˜å‚¨ç©ºé—´ å˜é‡å£°æ˜åä¼šåˆå§‹åŒ–ä¸ºè¯¥ç±»å‹çš„é›¶å€¼ åŒä¸€ä»£ç å—å†…ä¸èƒ½å¤šæ¬¡å£°æ˜åŒåå˜é‡ å­ä»£ç å—å¯å£°æ˜çˆ¶ä»£ç å—åŒåå˜é‡ï¼Œå­é®ç›–çˆ¶ å˜é‡æœªå£°æ˜ç›´æ¥ä½¿ç”¨ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ å˜é‡åœ¨å‡½æ•°ä¸­å£°æ˜äº†ä½†æœªä½¿ç”¨ä¹Ÿä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ GO æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œç¼–è¯‘å™¨ä¼šç¡®è®¤æ¯ä¸ªå˜é‡åº”æœ‰çš„ç±»å‹ï¼Œé”™è¯¯ä½¿ç”¨å°†å¼•å‘é”™è¯¯ GO æ˜¯é™æ€è¯­è¨€ï¼Œä½†æ”¯æŒç¼–è¯‘æ—¶è‡ªåŠ¨æ¨æ–­ç±»å‹ å˜é‡å£°æ˜åéœ€æŒ‰å¯¹åº”ç±»å‹èµ‹å€¼ å˜é‡å£°æ˜èµ‹å€¼å¯ä»¥åŒæ—¶è¿›è¡Œ å˜é‡å£°æ˜èµ‹å€¼åŒæ—¶è¿›è¡Œå¯ä»¥å¿½ç•¥ç±»å‹ï¼Œç”±ç¼–è¯‘å™¨æ¨æ–­ å¯åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ := è¿›è¡ŒçŸ­ç±»å‹å£°æ˜èµ‹å€¼ æ³¨ï¼š å¤šå˜é‡åŒæ—¶èµ‹å€¼ï¼Œåªèƒ½åœ¨å‡½æ•°ä½“å†…ã€‚a, b = 3, 4 çŸ­ç±»å‹å£°æ˜èµ‹å€¼,åªèƒ½åœ¨å‡½æ•°ä½“å†…ã€‚c := true å…¨å±€å˜é‡å¯ä»¥ä¸è¢«ä½¿ç”¨ 123456789101112131415package mainimport \"fmt\"var a int = 1 //å£°æ˜èµ‹å€¼åŒæ—¶è¿›è¡Œ//a =bool //é”™è¯¯èµ‹å€¼var b = 2 // å£°æ˜æœªåŠ ç±»å‹ï¼Œè‡ªåŠ¨æ¨æ–­ç±»å‹a, b = 3, 4 //å¤šå˜é‡åŒæ—¶èµ‹å€¼ï¼Œåªèƒ½åœ¨å‡½æ•°ä½“å†…//c := true //çŸ­ç±»å‹å£°æ˜èµ‹å€¼,åªèƒ½åœ¨å‡½æ•°ä½“å†…func main() &#123; a, b = 3, 4 //å¤šå˜é‡åŒæ—¶èµ‹å€¼ï¼Œåªèƒ½åœ¨å‡½æ•°ä½“å†… c := true //çŸ­ç±»å‹å£°æ˜èµ‹å€¼,åªèƒ½åœ¨å‡½æ•°ä½“å†… fmt.Printf(\"a address: %v value: %v \\n\", &amp;a, a) fmt.Printf(\"b address: %v value: %v \\n\", &amp;b, b) fmt.Printf(\"c address: %v value: %v \\n\", &amp;c, c)&#125; iotaæšä¸¾ Goé‡Œé¢çš„å…³é”®å­—iotaï¼Œå¯ä»¥åœ¨å£°æ˜enumæ—¶é‡‡ç”¨ï¼Œå®ƒé»˜è®¤å¼€å§‹å€¼æ˜¯0ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡åŠ 1ï¼š 123456789101112const( x = iota // x == 0 y = iota // y == 1 z = iota // z == 2 w // å¸¸é‡å£°æ˜çœç•¥å€¼æ—¶ï¼Œé»˜è®¤å’Œä¹‹å‰ä¸€ä¸ªå€¼çš„å­—é¢ç›¸åŒã€‚è¿™é‡Œéšå¼åœ°è¯´w = iotaï¼Œå› æ­¤w == 3ã€‚å…¶å®ä¸Šé¢yå’Œzå¯åŒæ ·ä¸ç”¨\"= iota\")const v = iota // æ¯é‡åˆ°ä¸€ä¸ªconstå…³é”®å­—ï¼Œiotaå°±ä¼šé‡ç½®ï¼Œæ­¤æ—¶v == 0const ( e, f, g = iota, iota, iota //e=0,f=0,g=0 iotaåœ¨åŒä¸€è¡Œå€¼ç›¸åŒ) é™¤éè¢«æ˜¾å¼è®¾ç½®ä¸ºå…¶å®ƒå€¼æˆ–iotaï¼Œæ¯ä¸ªconståˆ†ç»„çš„ç¬¬ä¸€ä¸ªå¸¸é‡è¢«é»˜è®¤è®¾ç½®ä¸ºå®ƒçš„0å€¼ï¼Œç¬¬äºŒåŠåç»­çš„å¸¸é‡è¢«é»˜è®¤è®¾ç½®ä¸ºå®ƒå‰é¢é‚£ä¸ªå¸¸é‡çš„å€¼ï¼Œå¦‚æœå‰é¢é‚£ä¸ªå¸¸é‡çš„å€¼æ˜¯iotaï¼Œåˆ™å®ƒä¹Ÿè¢«è®¾ç½®ä¸ºiotaã€‚ è¯­æ³• æ¡ä»¶è¯­å¥ if GOä¸æ”¯æŒ ?: ä¸‰å…ƒè¿ç®—ç¬¦ if åé¢çš„æ¡ä»¶ä¸éœ€è¦( ) if å¯å¸¦ä¸€ä¸ªåˆå§‹åŒ–å­è¯­å¥ç”¨;è·Ÿæ¡ä»¶åˆ†å¼€ switch case æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºè¿›è¡Œæ±‚å€¼ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…çš„é¡¹åæ‰§è¡Œå¹¶é€€å‡ºswitchï¼ˆé™¤éä½¿ç”¨fallthroughï¼‰ã€‚å¦‚æœ switch æ²¡æœ‰è¡¨è¾¾å¼ï¼Œåˆ™å¯¹ true è¿›è¡ŒåŒ¹é…ï¼Œå› æ­¤ï¼Œå¯ä»¥å°† if else-if else æ”¹å†™æˆä¸€ä¸ª switchã€‚ switch ä¸€æ ·å¯ä»¥å¸¦åˆå§‹åŒ–å­è¯­å¥ switch æ¡ä»¶è¡¨è¾¾å¼ä¸è¦æ±‚å¿…é¡»ä¸ºæ•´å‹ï¼Œç±»å‹æœ¬èº«ä¹Ÿå¯ä½œæ¡ä»¶åˆ¤æ–­ case åçš„break å¯ä»¥çœç•¥ å¤šä¸ªcaseè¿åœ¨ä¸€èµ·æ˜¯ä¸ºäº†æ»¡è¶³è¿ç»­çš„æ¡ä»¶èŒƒå›´ ä¹Ÿå¯ä»¥ç›´æ¥æŠŠå¤šä¸ªcaseæ¡ä»¶è¿åœ¨ä¸€èµ·ï¼Œåœ¨æœ€åä¸€ä¸ªcaseå†™æ‰§è¡Œè¯­å¥ 12345678910111213141516171819202122var a = \"hello\"switch a &#123;case \"hello\": fmt.Println(1)case \"world\": fmt.Println(2)default: fmt.Println(0)&#125;// secondvar s = \"hello\"switch &#123;case s == \"hello\": fmt.Println(\"hello\") fallthroughcase s != \"world\": fmt.Println(\"world\")&#125;/**helloworld*/ æ³¨ï¼šæ–°ç¼–å†™çš„ä»£ç ï¼Œä¸å»ºè®®ä½¿ç”¨ fallthroughã€‚ å¾ªç¯è¯­å¥ for GO çš„å¾ªç¯è¯­å¥åªæœ‰for ,æ²¡æœ‰while/do while â˜…ï¼šfor è¯­å¥åé¢ä¸èƒ½åŠ ( ) forè¯­å¥çš„ä¸‰ä¸ªéƒ¨åˆ†,çœç•¥ä»»ä½•ä¸€ä¸ªæ—¶ï¼Œåˆ†å·ä¸èƒ½çœç•¥ åªç•™æ¡ä»¶åˆ¤æ–­æ—¶ï¼Œå¯ä»¥ä¸ç”¨åˆ†å· ï¼ˆç›¸å½“äºwhileè¯­å¥ï¼‰ å…¨éƒ¨çœç•¥,å˜ä¸ºæ— é™å¾ªç¯ è½¬ç§»è¯­å¥ breakï¼šè¯­å¥ç”¨äºè·³å‡ºä»£ç å—æˆ–å¾ªç¯, é™¤äº†ç”¨åœ¨switchä¹‹å¤–,è¿˜ç”¨äºç»“æŸæ•´ä¸ªå¾ªç¯ï¼Œä¸å†è¿›è¡Œå¾ªç¯æ¡ä»¶åˆ¤æ–­ continueï¼šè¯­å¥ç”¨äºç«‹å³ç»ˆæ­¢æœ¬è½®å¾ªç¯ï¼Œè¿”å›å¾ªç¯ç»“æ„çš„å¤´éƒ¨ï¼Œå¼€å§‹ä¸‹ä¸€è½®å¾ªç¯ æ ‡ç­¾ å¦‚æœå­˜åœ¨å¤šé‡å¾ªç¯ï¼Œé»˜è®¤æƒ…å†µä¸‹breakè¯­å¥å’Œcontinueè¯­å¥éƒ½åªé’ˆå¯¹æœ€å†…å±‚å¾ªç¯ã€‚ æ‰€ä»¥Goæä¾›äº†æ ‡ç­¾ï¼Œæ ‡ç­¾å…è®¸æŒ‡å®šè·³å‡ºçš„å¾ªç¯ 12345678910111213// ä½¿ç”¨æ ‡ç­¾ flag := falseend: for i := 1; i &lt; 100; i++ &#123; for j := 1; j &lt; 100; j++ &#123; if i*j == 651 &#123; flag = true //ä¸€æ¬¡è·³å‡º break end &#125; &#125; &#125; fmt.Println(flag) æ•°æ®ç±»å‹ åˆ†ç±» å‘½åç±»å‹ï¼š åŸºç¡€æ•°æ®ç±»å‹ï¼ˆæ•´å‹ã€æµ®ç‚¹å‹ç­‰ï¼‰ ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼ˆtypeå…³é”®å­—å®šä¹‰çš„ç»“æ„ã€æ¥å£ç­‰ï¼‰ æœªå‘½åç±»å‹ é›†åˆç±»å‹ï¼ˆæ•°ç»„ã€åˆ‡ç‰‡ã€æ˜ å°„ç­‰ï¼‰ å‡½æ•°ç­‰ Boolç±»å‹ å¸ƒå°”å€¼åŒ…æ‹¬trueã€falseï¼Œç±»å‹é•¿åº¦ä¸º1å­—èŠ‚ å¸ƒå°”ç±»å‹æ— æ³•è¢«å…¶ä»–ç±»å‹èµ‹å€¼ï¼Œä¹Ÿä¸æ”¯æŒç±»å‹è½¬æ¢ å¸ƒå°”ç±»å‹ä¸æ”¯æŒç”¨0å’Œ1è¡¨ç¤ºçœŸå‡ æ³¨ï¼šç”±äº Goè¯­è¨€æ˜¯å¼ºç±»å‹çš„è¯­è¨€ï¼Œå¦‚æœä¸æ»¡è¶³è‡ªåŠ¨è½¬æ¢çš„æ¡ä»¶ï¼Œåˆ™å¿…é¡»è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ï¼ˆC/C++ç­‰è¯­è¨€æœ‰éšå¼ç±»å‹è½¬æ¢ï¼Œgolangä¸­æ²¡æœ‰ï¼Œå³æ— æ³•è‡ªåŠ¨å¼ºè½¬ï¼‰ å­—ç¬¦ç±»å‹ byte ï¼Œå¯¹åº”æ•´å‹é‡Œçš„uint8 ï¼Œä»£è¡¨ ASCII ç ä¸€ä¸ªå­—ç¬¦ runeï¼Œå¯¹åº”æ•´å‹é‡Œçš„int32 ï¼Œä»£è¡¨Unicodeç ä¸€ä¸ªå­—ç¬¦ æ ¼å¼åŒ–è¾“å‡ºæ—¶ï¼Œå¯ç”¨%c è¾“å‡ºå¯¹åº”å€¼ï¼Œå¦‚ 12//æµ™fmt.Printf(\"%c\",27993) å­—ç¬¦ä¸²ç±»å‹ å­—ç¬¦ä¸²ç±»å‹stringï¼Œé‡‡ç”¨UTF-8ç¼–ç æ ¼å¼çš„ä¸å¯æ”¹å˜çš„å­—ç¬¦åºåˆ— å­—ç¬¦ä¸²å•è¡Œç”¨åŒå¼•å· ,å¤šè¡Œå¯ç”¨åå¼•å·`ï¼Œç©ºæ ¼å’Œç¼©è¿›éƒ½ä¼šè¢«ä¿ç•™ å­—ç¬¦ä¸²æ ‡å‡†åº“ï¼š stringsåŒ…æä¾›äº†å¾ˆå¤šæ“ä½œå­—ç¬¦ä¸²çš„ç®€å•å‡½æ•° strconvåŒ…æä¾›äº†åŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²ä¹‹é—´çš„è½¬æ¢ regexpåŒ…æä¾›äº†æ­£åˆ™è¡¨è¾¾å¼åŠŸèƒ½ unicodeåŒ…åŠå…¶å­åŒ… utf8ã€utf16 ä¸­ï¼Œæä¾›äº†å¯¹ Unicode ç›¸å…³ç¼–ç ã€è§£ç çš„æ”¯æŒ stringsåŒ… 1234567891011// å­ä¸² substr åœ¨ s ä¸­ï¼Œè¿”å› truefunc Contains(s, substr string) bool// chars ä¸­ä»»ä½•ä¸€ä¸ª Unicode ä»£ç ç‚¹åœ¨ s ä¸­ï¼Œè¿”å› truefunc ContainsAny(s, chars string) bool// Unicode ä»£ç ç‚¹ r åœ¨ s ä¸­ï¼Œè¿”å› truefunc ContainsRune(s string, r rune) bool/** å­ä¸²å‡ºç°æ¬¡æ•° */func Count(s, sep string) int// å­—ç¬¦ä¸²é‡å¤å‡ æ¬¡ func Repeat(s string, count int) string unicode åŒ…ä¸»è¦åŒ…å«3ä¸ªéƒ¨åˆ†ï¼š unicode ï¼šåŸºæœ¬çš„å­—ç¬¦åˆ¤æ–­å‡½æ•° utf8 ï¼šè´Ÿè´£ rune å’Œ byte ä¹‹é—´çš„è½¬æ¢ utf16 ï¼šè´Ÿè´£ rune å’Œ uint16 æ•°ç»„ä¹‹é—´çš„è½¬æ¢ 12345678910111213141516func IsControl(r rune) bool // æ˜¯å¦æ§åˆ¶å­—ç¬¦func IsDigit(r rune) bool // æ˜¯å¦é˜¿æ‹‰ä¼¯æ•°å­—å­—ç¬¦ï¼Œå³ 0-9func IsGraphic(r rune) bool // æ˜¯å¦å›¾å½¢å­—ç¬¦func IsLetter(r rune) bool // æ˜¯å¦å­—æ¯func IsLower(r rune) bool // æ˜¯å¦å°å†™å­—ç¬¦func IsMark(r rune) bool // æ˜¯å¦ç¬¦å·å­—ç¬¦func IsNumber(r rune) bool // æ˜¯å¦æ•°å­—å­—ç¬¦ï¼Œæ¯”å¦‚ç½—é©¬æ•°å­—â…§ä¹Ÿæ˜¯æ•°å­—å­—ç¬¦func IsOneOf(ranges []*RangeTable, r rune) bool // æ˜¯å¦æ˜¯ RangeTable ä¸­çš„ä¸€ä¸ªfunc IsPrint(r rune) bool // æ˜¯å¦å¯æ‰“å°å­—ç¬¦func IsPunct(r rune) bool // æ˜¯å¦æ ‡ç‚¹ç¬¦å·func IsSpace(r rune) bool // æ˜¯å¦ç©ºæ ¼func IsSymbol(r rune) bool // æ˜¯å¦ç¬¦å·å­—ç¬¦func IsTitle(r rune) bool // æ˜¯å¦ title casefunc IsUpper(r rune) bool // æ˜¯å¦å¤§å†™å­—ç¬¦func Is(rangeTab *RangeTable, r rune) bool // r æ˜¯å¦ä¸º rangeTab ç±»å‹çš„å­—ç¬¦func In(r rune, ranges ...*RangeTable) bool // r æ˜¯å¦ä¸º ranges ä¸­ä»»æ„ä¸€ä¸ªç±»å‹çš„å­—ç¬¦ è¿ç®—ç¬¦ ç®—æœ¯è¿ç®—ç¬¦ è‡ªå¢ã€è‡ªå‡ï¼Œç›´æ”¯æŒa++ï¼Œä¸æ”¯æŒ++a ==&gt; è®¾è®¡æ€æƒ³æ˜¯ä¿è¯åªæœ‰ä¸€ç§å†™æ³• å…³ç³»è¿ç®—ç¬¦ å› ä¸ºboolç±»å‹ä¸èƒ½è½¬ä¸ºæ•´å‹ï¼Œæ‰€ä»¥ä¸æ”¯æŒä¸ç­‰å¼è¿å†™ï¼šæ¯”å¦‚ x&lt;y&lt;z è¿™ç§è¯­æ³•æ˜¯é”™è¯¯çš„ é€»è¾‘è¿ç®—ç¬¦ æ³¨æ„çŸ­è·¯ èµ‹å€¼è¿ç®—ç¬¦ ä½è¿ç®—ç¬¦ æ³¨ï¼šGoä¸­çš„è¿ç®—ä¼˜å…ˆçº§è·ŸCä¸å¤ªä¸€æ ·ï¼Œæ¯”å¦‚Goä¸­ä½ç§»è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ˜¯é«˜äºç®—æ•°è¿ç®—ç¬¦çš„ï¼Œè€ŒCä¸­ç›¸å 12345// c++ --&gt; 2int res = 1 + 4 &gt;&gt; 1;cout &lt;&lt; res &lt;&lt; endl;// go --&gt; 3println( 1 + 4 &gt;&gt; 1) è§ï¼š Goè¯­è¨€è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ C++è¿ç®—ç¬¦ä¼˜å…ˆçº§ é›†åˆæ•°æ®ç±»å‹ æ•°ç»„ï¼ˆArrayï¼‰ æ•°ç»„æ˜¯åŒç±»å…ƒç´ çš„é›†åˆï¼Œå®ƒçš„å…ƒç´ æ’åˆ—åœ¨è¿ç»­çš„ç©ºé—´ä¸­ï¼ŒæŒ‰ä¸‹æ ‡æ¥æ ‡è®°å’Œè®¿é—® æ•°ç»„ç±»å‹å®šä¹‰åŒ…æ‹¬å…ƒç´ ç±»å‹ï¼Œæ•°ç»„é•¿åº¦ï¼ˆå…ƒç´ ä¸ªæ•°ï¼‰ å…ƒç´ ç±»å‹ç›¸åŒçš„ä¸¤ä¸ªæ•°ç»„ï¼Œæ•°ç»„é•¿åº¦ä¸åŒåˆ™ç±»å‹ä¸åŒï¼Œç›¸äº’ä¸èƒ½å¤åˆ¶ æ•°ç»„å˜é‡å£°æ˜åï¼Œå…¶å…ƒç´ ç±»å‹ã€æ•°ç»„é•¿åº¦å‡ä¸å¯å˜ ï¼ˆå®šé•¿æ€§ï¼‰ æ³¨ï¼šæ•°ç»„ä¼ å‚é—®é¢˜â€”â€”å®å‚æ‹·è´ä¸€ä»½ç»™å½¢å‚ï¼ŒäºŒè€…ç›¸äº’ç‹¬ç«‹ï¼Œä¼ é€’å¤§æ•°ç»„æ—¶æ•ˆç‡è¾ƒä½ï¼Œå°½é‡ç”¨æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆæ¥ä¼ å‚ æ•°ç»„å£°æ˜ 12345678910111213141516//åªå£°æ˜æœªèµ‹å€¼//æ•°ç»„å…ƒç´ éƒ½è¢«åˆå§‹åŒ–ä¸ºå¯¹åº”ç±»å‹é›¶å€¼var arr1 [5]int//å£°æ˜3ä¸ªå…ƒç´ çš„æ•´å‹æ•°ç»„//ç›´æ¥èµ‹å€¼arr2 := [3]int&#123;11, 12, 13&#125;//å£°æ˜æ•´å‹æ•°ç»„//ç›´æ¥èµ‹å€¼//æ•°ç»„é•¿åº¦ç”±åˆå§‹åŒ–å€¼çš„æ•°é‡æ¥ç¡®å®šarr3 := [...]int&#123;11, 12, 13, 14, 15&#125; //...ä¸å¯çœç•¥//å£°æ˜4ä¸ªå…ƒç´ çš„æ•´å‹æ•°ç»„//å¯¹ä¸‹æ ‡ä¸º0å’Œ3çš„å…ƒç´ ç›´æ¥èµ‹å€¼//å…¶ä½™å…ƒç´ ä¿æŒé›¶å€¼arr4 := [4]int&#123;0: 99, 3: 100&#125;fmt.Printf(\"%v,%v,%v,%v\", arr1, arr2, arr3, arr4)//[0 0 0 0 0],[11 12 13],[11 12 13 14 15],[99 0 0 100] åˆ‡ç‰‡ï¼ˆ Sliceï¼‰ æ•°ç»„çš„å®šé•¿æ€§å’Œå€¼æ‹·è´é™åˆ¶å…¶ä½¿ç”¨ åˆ‡ç‰‡å°è£…åº•å±‚çš„æ•°ç»„ï¼Œæä¾›é•¿åº¦å¯å˜çš„æ•°ç»„å¼•ç”¨ åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸æ”¯æŒ==è¿ç®—ï¼ˆé™¤äº†nil) åˆ‡ç‰‡åŒ…æ‹¬ä¸‰ä¸ªå˜é‡ åº•å±‚æ•°ç»„æŒ‡é’ˆ åˆ‡ç‰‡å½“å‰é•¿åº¦ åˆ‡ç‰‡å®¹é‡ï¼ˆå°äºç­‰äºåº•å±‚æ•°ç»„é•¿åº¦ï¼Œè¶…è¿‡æ—¶è¦å˜æ›´åº•å±‚æ•°ç»„ï¼‰ åˆ‡ç‰‡ä½¿ç”¨ 123456789101112131415// åˆ›å»ºæŒ‡å®šçš„åº•å±‚æ•°ç»„ï¼Œç„¶ååˆ›å»ºåˆ‡ç‰‡a := [5]int&#123;76, 77, 78, 79, 80&#125;s1 := a[0:4] // from a[0] to a[3]s2 := a[:4] // from a[0] to a[3]//ä¸æŒ‡å®šæ•°ç»„å¤§å°ï¼ŒåŒæ—¶åˆ›å»ºåŒ¿åæ•°ç»„å’Œè¿”å›åˆ‡ç‰‡å¼•ç”¨ d := []int&#123;6, 7, 8&#125; // ç›´æ¥é€šè¿‡makeå‡½æ•°åˆ›å»ºåˆ‡ç‰‡i := make([]int, 5, 5) // ä¸ºä»€ä¹ˆä¸ç”¨æ„é€ å‡½æ•° // åˆ‡ç‰‡åŠ¨æ€å¢åŠ sli = append(sli, 20)// åˆ‡ç‰‡åˆå¹¶ï¼šå†…ç½®å‡½æ•° append() è¿˜æ”¯æŒåˆ‡ç‰‡çš„åˆå¹¶ï¼Œç”¨...è¿ç®—ç¬¦æŠŠå¯¹åº”åˆ‡ç‰‡æ‰€æœ‰å…ƒç´ éƒ½å–å‡ºveggies := []string&#123;\"potatoes\", \"tomatoes\", \"brinjal\"&#125;fruits := []string&#123;\"oranges\", \"apples\"&#125;food := append(veggies, fruits...) //... ä¸å¯å¿½ç•¥ è¯­æ³•ç³–... 1234567891011121314func MySum(p ...int) (sum int)&#123; // ç¬¬ä¸€ä¸ªç”¨æ³•ä¸»è¦æ˜¯ç”¨äºå‡½æ•°æœ‰å¤šä¸ªä¸å®šå‚æ•°çš„æƒ…å†µï¼Œå¯ä»¥æ¥å—å¤šä¸ªä¸ç¡®å®šæ•°é‡çš„å‚æ•°ã€‚ sum = 0 for _, v := range p&#123; sum += v &#125; return &#125; func main() &#123; arr := []int&#123;2,1,3&#125; i := MySum(arr...) // ç¬¬äºŒä¸ªç”¨æ³•æ˜¯å°†sliceæ‰“æ•£è¿›è¡Œä¼ é€’ã€‚ fmt.Printf(\"i: %v\\n\", i) &#125; æ˜ å°„ï¼ˆ Mapï¼‰ æ˜ å°„ç”¨äºå­˜å‚¨ä¸€ç³»åˆ—æ— åºçš„é”®å€¼å¯¹ æ˜ å°„çš„é”®ï¼ˆkeyï¼‰ åªæ”¯æŒå€¼ç±»å‹ï¼ˆå¯ä»¥ä½¿ç”¨==è¿ç®—ç¬¦ä½œæ¯”è¾ƒï¼‰ æ˜ å°„çš„å€¼(value)ä¸é™åˆ¶ï¼Œä½†æ‰€æœ‰å…ƒç´ çš„å€¼ç±»å‹ä¸€è‡´ GO æ˜ å°„çš„åº•å±‚å®ç°æ˜¯å“ˆå¸Œæ•°ç»„é“¾è¡¨ï¼Œä¸æ˜¯ C++çš„çº¢é»‘æ ‘ æ³¨ï¼š åªå£°æ˜ä¸åˆå§‹åŒ–çš„æ˜ å°„ä¸ºnilå€¼ï¼Œæœªåˆ†é…åº•å±‚å­˜å‚¨ç©ºé—´ï¼Œä¸èƒ½æ·»åŠ å…ƒç´  ç”¨å­—é¢é‡æˆ–makeå‡½æ•°è¿›è¡Œåˆå§‹åŒ–åå¯ä»¥æ·»åŠ å…ƒç´  å³ï¼š 1234567891011121314var m1 map[string]intfmt.Println(m1 == nil)//true//m1[\"a\"] = 1 //errorm2 := map[string]int&#123;&#125;fmt.Println(m2 == nil)//falsem2[\"a\"] = 1 //okm3 := make(map[string]int)fmt.Println(m3 == nil)//falsem3[\"a\"] = 1 //ok Mapæ˜ å°„å…ƒç´ æŸ¥æ‰¾ æ˜ å°„å…ƒç´ é€šè¿‡ä¸‹æ ‡ç›´æ¥æŸ¥æ‰¾è®¿é—® å­˜åœ¨å¯¹åº”keyçš„ï¼Œè¿”å›å¯¹åº”value ä¸å­˜åœ¨å¯¹åº”keyçš„ï¼Œè¿”å›value ç±»å‹çš„é›¶å€¼ ==&gt; Q: å¦‚æœè¿”å›é›¶å€¼ï¼Œé‚£å¦‚ä½•åˆ¤æ–­æ˜¯å¦å­˜åœ¨å‘¢ï¼Ÿ A:æ˜ å°„å…ƒç´ é€šè¿‡ä¸‹æ ‡è®¿é—®å…¶å®å¯ä»¥è¿”å›ä¸¤ä¸ªå€¼ å¯¹åº”çš„value å¯¹åº”çš„keyæ˜¯å¦å­˜åœ¨çš„å¸ƒå°”å€¼ æ˜ å°„å…ƒç´ åˆ é™¤ï¼šä½¿ç”¨å†…ç½®å‡½æ•°delete()åˆ é™¤æ˜ å°„å…ƒç´ ï¼Œå¦‚delete(personSalary,&quot;steve&quot;) äºŒç»´æ˜ å°„mapåˆ›å»ºï¼š 12345678910comEmp := map[string] map[string]int &#123; \"IBM\": &#123; \"steve\": 12000, \"jamie\": 15000, &#125;, \"HP\": &#123; \"mike\": 15000, \"joe\": 9000, &#125;,&#125; è‹¥é¡¶çº§ç±»å‹åªæ˜¯ä¸€ä¸ªç±»å‹åï¼Œä½ å¯ä»¥åœ¨æ–‡æ³•çš„å…ƒç´ ä¸­çœç•¥å®ƒã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// demo1package mainimport \"fmt\"type Vertex struct &#123; Lat, Long float64&#125;var m = map[string]Vertex&#123; \"Bell Labs\": &#123;40.68433, -74.39967&#125;, \"Google\": &#123;37.42202, -122.08408&#125;,&#125;func main() &#123; fmt.Println(m)&#125;// demo2.package mainimport \"fmt\"import \"strconv\"type IPAddr [4]byte// TODO: ç»™ IPAddr æ·»åŠ ä¸€ä¸ª \"String() string\" æ–¹æ³•func (f IPAddr) String() string &#123; str := \"\" for _ ,v:= range f&#123; if str !=\"\" &#123; str += \",\" &#125; fmt.Printf(strconv.Itoa(int(v))) str += strconv.Itoa(int(v)) &#125; return str&#125;func main() &#123; hosts := map[string]IPAddr&#123; \"loopback\": &#123;127, 0, 0, 1&#125;, \"googleDNS\": &#123;8, 8, 8, 8&#125;, &#125; for name, ip := range hosts &#123; fmt.Printf(\"%v: %v\\n\", name, ip) &#125;&#125; å‡½æ•° æ¦‚å¿µï¼š å‡½æ•°æ˜¯ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¯­æ³•ç»“æ„ï¼š å‡½æ•°æˆ–æ–¹æ³•ç¼–è¯‘æˆç¨‹åºä½“ä»£ç åŒºçš„ä¸€æ®µæŒ‡ä»¤åºåˆ— è¿›ç¨‹æ‰§è¡Œæ¨¡å‹å¤§å¤šåŸºäºâ€œæ ˆå †â€ å‡½æ•°æŠ½è±¡é€»è¾‘æ¨¡å— é€šè¿‡å‡½æ•°è°ƒç”¨å‡½æ•°,å±‚å±‚å å çš„å‡½æ•°æ„æˆæ ‘ç»“æ„ç»„ç»‡ä»£ç  å‡½æ•°æ•ˆç‡é«˜åˆ™ç¨‹åºæ•ˆç‡é«˜ï¼Œå»ºè®®å¤šç”¨æ ‡å‡†åº“å‡½æ•° å‡½æ•°ä¸ºç¬¬ä¸€ç­‰å…¬æ°‘ï¼ˆä¸å…¶ä»–æ•°æ®ç±»å‹åœ°ä½å¹³ç­‰ï¼‰ èµ‹å€¼ç»™å˜é‡ ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•° ä½œä¸ºå‡½æ•°çš„ç»“æœè¢«è¿”å› æ”¯æŒé—­åŒ… è¯­æ³•æ ¼å¼ï¼š 123func add(a, b int) int &#123; return a + b&#125; å‡½æ•°å¯ä»¥æœ‰å¤šä¸ªè¿”å›å€¼ è¿”å›å€¼å¯ä»¥æœ‰å˜é‡å ä¸æ”¯æŒå‡½æ•°é‡è½½ å‡½æ•°å‚æ•°ï¼š å‚æ•°ä¼ é€’æ–¹å¼éƒ½æ˜¯å€¼æ‹·è´ å½¢å‚ä¸å®å‚æ˜¯å€¼ä¼ é€’æ—¶ï¼Œå½¢å‚çš„å˜åŒ–ä¸å½±å“å®å‚ å½¢å‚ä¸å®å‚ä¼ é€’æŒ‡é’ˆæ—¶ï¼Œå½¢å‚çš„å˜åŒ–æœ‰å¯èƒ½ä¼šå½±å“å®å‚ ===&gt; æ³¨æ„ï¼šå¼•ç”¨ç±»å‹å…¶å®ä¼ çš„å°±æ˜¯æŒ‡é’ˆ ä¸æ”¯æŒé»˜è®¤å€¼å‚æ•° ä¸å®šå‚æ•° ä¸å®šå‚æ•°ï¼Œå½¢å‚æ•°ç›®å¯å˜ã€ä¸ç¡®å®š ä¸å®šå‚æ•°å£°æ˜è¯­æ³•æ ¼å¼ï¼šparam â€¦ type ä¸å®šå‚æ•°ç±»å‹å¿…é¡»ç›¸åŒ ä¸å®šå‚æ•°å¿…é¡»æ˜¯å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•° ä¸å®šå‚æ•°çš„å½¢å‚åœ¨å‡½æ•°å†…æ˜¯åˆ‡ç‰‡ åˆ‡ç‰‡ä¼ é€’ç»™ä¸å®šå‚æ•°æ—¶ï¼Œè¦ç”¨â€¦è¿ç®—ç¬¦å–å‡ºå„å…ƒç´  ==&gt;å¤šäºå‡½æ•°å®šå‚æ•°çš„å‚æ•°å°†ä¼šè¢«æ”¾åˆ°ä¸å®šå‚æ•°ä¸­ 123456789101112131415161718192021222324252627282930//ä¸å®šå‚æ•°å‡½æ•°func sum(items ...int) (sum int) &#123; for _, v := range items &#123; //items ç›¸å½“äºåˆ‡ç‰‡ sum += v &#125; return&#125;//åˆ‡ç‰‡å‚æ•°å‡½æ•°func sumS(items []int) (sum int) &#123; for _, v := range items &#123; sum += v &#125; return&#125;func main() &#123; slice := []int&#123;1, 2, 3, 4, 5&#125; //array := [...]int&#123;1, 2, 3, 4, 5&#125; fmt.Println(sum(1, 2, 3, 4, 5)) fmt.Println(sum(slice...)) //ä¸å®šå‚æ•°å‡½æ•°å‚æ•°ä¸ºåˆ‡ç‰‡æ—¶ï¼Œéœ€ç”¨...è¿ç®—ç¬¦ //fmt.Println(sum(array...)) //æ•°ç»„ä¸æ”¯æŒ...è¿ç®—ç¬¦ fmt.Println(sumS(slice)) //åˆ‡ç‰‡å‚æ•°å‡½æ•°å¯ç›´æ¥ç”¨åˆ‡ç‰‡å˜é‡ï¼Œä¸ç”¨...è¿ç®—ç¬¦ //fmt.Println(sumS(array)) //åˆ‡ç‰‡å‚æ•°å‡½æ•°ä¸èƒ½ç”¨æ•°ç»„ä¼ å‚ fmt.Printf(\"%T\\n\", sum) fmt.Printf(\"%T\\n\", sumS)&#125; å‡½æ•°ç±»å‹ å‡½æ•°ç±»å‹åˆå«å‡½æ•°ç­¾åï¼Œæ˜¾ç¤ºå‡½æ•°ç±»å‹fmt.Printf(&quot;%T\\n&quot;, funcname) å‡½æ•°ç±»å‹åŒ…æ‹¬å½¢å‚åˆ—è¡¨å’Œè¿”å›å€¼åˆ—è¡¨ å½¢å‚åˆ—è¡¨ï¼šå½¢å‚çš„æ¬¡åºã€ä¸ªæ•°å’Œç±»å‹ï¼ˆå½¢å‚åæ— å…³ï¼‰ è¿”å›å€¼åˆ—è¡¨ï¼šè¿”å›å€¼çš„æ¬¡åºã€ä¸ªæ•°å’Œç±»å‹ï¼ˆè¿”å›å€¼åæ— å…³ï¼‰ å¯ä»¥ä½¿ç”¨typeå®šä¹‰å‡½æ•°ç±»å‹ å‡½æ•°ç±»å‹æ˜¯å¼•ç”¨ç±»å‹ï¼Œæœªåˆå§‹åŒ–çš„é›¶å€¼ä¸ºnil æ ‡å‡†å®šä¹‰çš„å‡½æ•°åä¸ºå¸¸é‡ï¼Œä¸å¯ä¿®æ”¹æŒ‡å‘ å‡½æ•°æ˜¯ç¬¬ä¸€å…¬æ°‘ï¼Œå‡½æ•°å˜é‡å¯èµ‹å€¼ã€ä¼ å‚ç­‰ åŒ¿åå‡½æ•° åŒ¿åå‡½æ•°ç›¸å½“äºå‡½æ•°å­—é¢é‡ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°å˜é‡çš„åœ°æ–¹å°±å¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•° 1234567891011121314//åŒ¿åå‡½æ•°ç›´æ¥è°ƒç”¨func(a,b int )int&#123; return a-b&#125;(5,4)//åŒ¿åå‡½æ•°èµ‹å€¼ç»™å‡½æ•°å˜é‡var sum = func(a,b int )int&#123; return a+b&#125;//å‡½æ•°ä½œä¸ºè¿”å›å€¼func getFun(op string) func(a,b int )int &#123; return func(a,b int )int&#123; return a+b &#125;&#125; é—­åŒ… é—­åŒ…=å‡½æ•°+å¼•ç”¨ç¯å¢ƒï¼Œå¸¸è§äºåŒ¿åå‡½æ•°å¼•ç”¨äº†å‡½æ•°å®šä¹‰ç¯å¢ƒçš„å˜é‡ å¦‚æœå‡½æ•°è¿”å›çš„é—­åŒ…å¼•ç”¨äº†è¯¥å‡½æ•°çš„å±€éƒ¨å˜é‡ æ¯æ¬¡è°ƒç”¨å‡½æ•°éƒ½ä¼šä¸ºå±€éƒ¨å˜é‡åˆ†é…å†…å­˜ æ¯æ¬¡ä½¿ç”¨é—­åŒ…éƒ½ä¼šå½±å“å±€éƒ¨å˜é‡ è¿”å›å€¼ å…è®¸è¿”å›æŒ‡å®šå˜é‡å 123456789101112func addT1(a, b int) (int, bool) &#123; //å¤šå€¼è¿”å›ï¼Œè¿”å›å€¼ä¸å‘½å c := a + b d := a &gt; b return c, d //æŒ‰é¡ºåºè¾“å…¥è¿”å›å€¼&#125;func addT2(a, b int) (c int, d bool) &#123; //å¤šå€¼è¿”å›ï¼Œè¿”å›å€¼å‘½å // æ³¨, cï¼Œdå˜é‡çš„ç±»å‹å£°æ˜åœ¨å‡½æ•°ç­¾åä¸­å·²ç»å£°æ˜äº†ï¼Œå› æ­¤ç›´æ¥èµ‹å€¼å³å¯ï¼Œä¸ç”¨:= c = a + b d = a &gt; b return //ç›´æ¥è¿”å›&#125; å‡½æ•°ä½œä¸ºç±»å‹ï¼Œä»¥åŠå‡½æ•°èµ‹å€¼ç»™å˜é‡ 12345678910111213141516func add(a, b int )int&#123; return a + b&#125;func change(f func(a, b int)int )&#123; f = func(a, b int) int &#123; return a - b &#125;&#125;func main() &#123; var f func(a, b int)int = add change(f) // æœªèµ·ä½œç”¨ i := f(1, 2) fmt.Printf(\"i: %v\\n\", i)&#125; defer Go å‡½æ•°æ”¯æŒdeferè¿›è¡Œå»¶è¿Ÿè°ƒç”¨ defer ç±»ä¼¼OOè¯­è¨€å¼‚å¸¸å¤„ç†ä¸­çš„finallyå­å¥ï¼Œå¸¸ç”¨æ¥ä¿è¯ç³»ç»Ÿèµ„æºçš„å›æ”¶å’Œé‡Šæ”¾ åœ¨æ³¨å†Œdeferå‡½æ•°æ—¶ï¼Œä¼šæŠŠå½“æ—¶çš„å®å‚å€¼ä¼ é€’ç»™å½¢å‚ï¼Œåç»­å®å‚çš„å˜åŒ–ä¸å½±å“å‡½æ•°ç»“æœï¼Œå¦‚ 123456a:=5defer fmt.Println(\"deferæ³¨å†Œå‡½æ•°æ—¶çš„aå€¼\",a) // a=5çš„æ—¶å€™ï¼Œè®°å½•äº†defera=10fmt.Println(\"æ™®é€šå‡½æ•°çš„aå€¼\",a) // åç»­å˜åŒ–äº†//æ™®é€šå‡½æ•°çš„aå€¼10//deferæ³¨å†Œå‡½æ•°æ—¶çš„aå€¼5 ä½¿ç”¨å¤šä¸ªdeferæ—¶ï¼Œè¿™äº›defer è°ƒç”¨ ä»¥**å…ˆè¿›åå‡ºï¼ˆFILOï¼‰**é¡ºåºåœ¨å‡½æ•°è¿”å›å‰è¢«æ‰§è¡Œ ç»“æ„ä½“ ç»“æ„æŠŠæœ‰å†…åœ¨è”ç³»çš„ä¸åŒç±»å‹çš„æ•°æ®ç»Ÿä¸€æˆä¸€ä¸ªæ•´ä½“ï¼Œä½¿å®ƒä»¬ç›¸äº’å…³è” ç»“æ„æ˜¯å˜é‡çš„é›†åˆï¼Œä»å¤–éƒ¨çœ‹æ˜¯ä¸€ä¸ªå®ä½“ ç»“æ„æ”¯æŒåµŒå¥— ç»“æ„çš„å­—æ®µç±»å‹ä¸é™ ç»“æ„çš„å­˜å‚¨ç©ºé—´è¿ç»­ï¼ŒæŒ‰å£°æ˜æ—¶çš„é¡ºåºå­˜æ”¾ ä½¿ç”¨ï¼š å‘½åç±»å‹ç»“æ„ 123456789101112type Employee struct &#123; firstName string lastName string age int salary int&#125;type Employee struct &#123; firstName, lastName string age, salary int&#125; åŒ¿åç±»å‹ç»“æ„ï¼ˆç›´æ¥åˆ›å»ºç»“æ„å˜é‡ï¼‰ 1234var myemployee struct &#123; firstName, lastName string age, salary int&#125; å¸¦æ ‡ç­¾çš„ç»“æ„ä½“ æ ‡ç­¾æ˜¯ä¸€ä¸ªé™„å±äºå­—æ®µçš„å­—ç¬¦ä¸²ï¼Œç”¨äºæè¿°å­—æ®µä¿¡æ¯ æ ‡ç­¾è¿˜å¯ä»¥æŒ‰key1:â€œvalue1â€ key2:â€œvalue2â€é”®å€¼å¯¹è¿›è¡Œä¿®é¥°ï¼Œæ¥æä¾›ç¼–ç ã€è§£ç ã€ORMç­‰è½¬åŒ–è¾…åŠ©ï¼Œæ¯”å¦‚JSONã€BSON ç­‰æ ¼å¼åºåˆ—åŒ– ç»“æ„å˜é‡åˆå§‹åŒ– ç”¨å‘½åç±»å‹ç»“æ„æˆ–åŒ¿åç±»å‹ç»“æ„å£°æ˜çš„ç»“æ„å˜é‡ï¼Œå„å­—æ®µåˆå§‹åŒ–ä¸ºç›¸å…³ç±»å‹çš„é›¶å€¼ æŒ‰å­—æ®µååˆå§‹åŒ–ï¼Œä¸ç”¨æŒ‰é¡ºåºï¼ŒæœªæŒ‡å®šçš„å­—æ®µä¸ºé›¶å€¼ 123456emp1 := Employee&#123; firstName: \"Sam\", age: 25, salary: 500, lastName: \"Anderson\", //é€—å·ä¸èƒ½å¿½ç•¥&#125; ç”¨å­—é¢é‡åˆå§‹åŒ–ï¼ŒæŒ‰å­—æ®µç±»å‹å£°æ˜é¡ºåºå¹¶å…¨éƒ¨è®¾ç½®ï¼Œé¡ºåºä¸å¯¹æˆ–é—æ¼å­—æ®µæŠ¥é”™ emp2 := Employee{&quot;Thomas&quot;, &quot;Paul&quot;, 29, 800} è®¿é—®ç»“æ„ä½“æ•°æ® é‡‡ç”¨ ç»“æ„å˜é‡.å­—æ®µ 12emp := Employee&#123;\"Thomas\", \"Paul\", 29, 800&#125;fmt.Println(emp.age) é‡‡ç”¨ï¼ˆ*ç»“æ„å˜é‡æŒ‡é’ˆï¼‰.å­—æ®µ *ä¸ºé—´è®¿ç¬¦ 12emp := &amp;Employee&#123;\"Sam\", \"Anderson\", 55, 6000&#125;fmt.Println(\"First Name:\", (*emp).firstName) é‡‡ç”¨ ç»“æ„å˜é‡æŒ‡é’ˆ.å­—æ®µï¼Œä¸æ”¯æŒ-&gt; 12emp := &amp;Employee&#123;\"Sam\", \"Anderson\", 55, 6000&#125;fmt.Println(\"First Name:\", emp.firstName) åŒ¿åå­—æ®µ:ç»“æ„ä½“å­—æ®µä¹Ÿå¯ä»¥çœç•¥å­—æ®µåï¼Œå­—æ®µåé»˜è®¤ä¸ºå¯¹åº”æ•°æ®ç±»å‹åç§°ï¼ˆæ•°æ®ç±»å‹ä¸èƒ½é‡å¤ï¼‰ 123456type Person struct &#123; string int&#125;p := Person&#123;\"Naveen\", 50&#125;p.int =60 åµŒå¥—ç»“æ„ 12345678910111213141516171819202122type Address struct &#123; city, state string&#125;type Person struct &#123; name string age int address Address&#125;func main() &#123; var p Person p.name = \"Naveen\" p.age = 50 p.address = Address&#123; city: \"Chicago\", state: \"Illinois\", &#125; fmt.Println(\"Name:\", p.name) fmt.Println(\"Age:\", p.age) fmt.Println(\"City:\", p.address.city) fmt.Println(\"State:\", p.address.state)&#125; å­ç»“æ„å­—æ®µæå‡ åŒ¿åå­ç»“æ„çš„å­—æ®µå¯ä»¥åƒçˆ¶ç»“æ„çš„å­—æ®µä¸€æ ·è¢«çˆ¶è®¿é—®ï¼ˆæ²¡æœ‰åŒåçˆ¶ç»“æ„å­—æ®µï¼‰ 123456789101112131415161718192021type Address struct &#123; city, state string&#125;type Person struct &#123; name string age int Address //å­ç»“æ„åŒ¿å&#125;func main() &#123; var p Person p.name = \"Naveen\" p.age = 50 p.Address = Address&#123; city: \"Chicago\", state: \"Illinois\", &#125; fmt.Println(\"Name:\", p.name) fmt.Println(\"Age:\", p.age) fmt.Println(\"City:\", p.city) //city æå‡, å¯ä»¥ç›´æ¥ä»¥çˆ¶.cityçš„å½¢å¼ä½¿ç”¨ fmt.Println(\"State:\", p.state) //state æå‡&#125; æ–¹æ³• æ–¹æ³•æ˜¯å¯¹å…·ä½“ç±»å‹è¡Œä¸ºçš„å°è£…ï¼Œæœ¬è´¨ä¸Šæ˜¯ç»‘å®šåˆ°è¯¥ç±»å‹çš„å‡½æ•° éå‘½åç±»å‹ä¸èƒ½å®šä¹‰æ–¹æ³• OOè¯­è¨€çš„æ–¹æ³•é€šå¸¸æœ‰ä¸ªéšè—çš„thisæˆ–selfæŒ‡é’ˆæ¥æŒ‡å‘å¯¹è±¡ GO æŠŠè¿™ä¸ªéšè—æŒ‡é’ˆæš´éœ²å‡ºæ¥ï¼Œç§°ä¸ºæ¥æ”¶è€…ï¼ˆreceiverï¼‰ æ¥æ”¶è€…å¯è‡ªå®šä¹‰åç§°ï¼Œç±»å‹æœ‰å€¼ç±»å‹å’ŒæŒ‡é’ˆç±»å‹ä¸¤ç§ï¼Œè¯­æ³•æ ¼å¼ï¼š å€¼ç±»å‹ï¼šfunc (t Type) funcName(paramList)(resultList) æŒ‡é’ˆç±»å‹ ï¼šfunc (t *Type) funcName(paramList)(resultList) æ–¹æ³•æ¥æ”¶è€… æ–¹æ³•æ¥æ”¶è€…çš„æœ¬è´¨æ˜¯å½¢å‚ æ–¹æ³•æ¥æ”¶è€…ä¸ºå€¼æ—¶ï¼Œæ–¹æ³•ä¿®æ”¹å¯¹è±¡å±æ€§å°†ä¸èƒ½æˆåŠŸ æ–¹æ³•æ¥æ”¶è€…ä¸ºå€¼æ—¶ï¼Œéœ€è¦åœ¨å†…å­˜å¤åˆ¶ä¸€ä»½å¯¹è±¡ï¼Œæ•ˆç‡ä½ 1234567891011121314151617181920 //æ–¹æ³•æ¥æ”¶è€…æ˜¯å€¼ func (e Employee) changeName(newName string) &#123; e.name = newName fmt.Printf(\"\\nEmployee name in func is: %s\", e.name) &#125; //æ–¹æ³•æ¥æ”¶è€…æ˜¯æŒ‡é’ˆ func (e *Employee) changeAge(newAge int) &#123; e.age = newAge &#125; // å®é™…ä¸Šæ˜¯æ‹·è´äº†ä¸€ä¸ªeå¯¹è±¡ï¼Œç„¶åå§è¿™ä¸ªå¯¹è±¡çš„nameæ”¹æ‰äº† // Print(e.Name)å®é™…ä¸Šè¿˜æ˜¯æ²¡æœ‰ä¿®æ”¹ e.changeName(\"Michael\") // è€Œæ¥æ”¶è€…ä¸ºæŒ‡é’ˆçš„å‡½æ•°å°±èƒ½ä¿®æ”¹ e.changeAge(18) // é™¤äº†ä¸Šè¿°è°ƒç”¨ä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ç±»å‹è°ƒç”¨çš„æ–¹å¼ Employee.changeName(e, 52) //ç±»å‹è°ƒç”¨ (*Employee).changeAge(&amp;e, 52) //ç±»å‹è°ƒç”¨ æ€»ç»“ï¼šGoä¸­çš„æ–¹æ³•å®ç°è·ŸCæ¯”è¾ƒç±»ä¼¼ï¼Œéƒ½æ˜¯åœ¨ä½“å¤–å®Œæˆå¯¹æ–¹æ³•çš„å…·ä½“å®ç°ã€‚Cæ˜¯åœ¨ç±»ä¸­å£°æ˜å‡½æ•°åŸå‹ï¼Œåœ¨ç±»å¤–ä»¥Class::FuncMethod(){ xxx }ä¸­å…·ä½“å®ç°å‡½æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334type Employee struct &#123; name string salary int currency string&#125;//å®šä¹‰æ–¹æ³•func (e Employee) displaySalary() &#123; fmt.Printf(\"Salary of %s is %s%d\", e.name, e.currency, e.salary)&#125;func main() &#123; emp1 := Employee&#123; name: \"Sam Adolf\", salary: 5000, currency: \"$\", &#125; emp1.displaySalary() &#125;// Targetï¼šå®é™…ç­‰ä»·type Employee struct &#123; name string salary int currency string&#125;func displaySalary(e Employee) &#123; fmt.Printf(\"Salary of %s is %s%d\", e.name, e.currency, e.salary)&#125;func main() &#123; emp1 := Employee&#123; name: \"Sam Adolf\", salary: 5000, currency: \"$\", &#125; displaySalary(emp1)&#125; Qï¼šæ–¹æ³•å¯ç”¨ç­‰ä»·å‡½æ•°å®ç°ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æ–¹æ³•ï¼Ÿ GO çš„å‡½æ•°ä¸èƒ½é‡è½½(å³ä¸å‡†å­˜åœ¨åªæ˜¯å‚æ•°ä¸åŒçš„åŒåå‡½æ•°)ï¼Œå¯¼è‡´ä¸åŒç±»å‹ä¸èƒ½ç”¨åŒåå‡½æ•°ï¼Œè€Œä¸åŒç±»å‹çš„æ–¹æ³•å¯ä»¥åŒå GO ä¸æ”¯æŒclass ,ä½¿ç”¨ç»“æ„ä»£æ›¿ç±»ï¼Œç»“æ„å­—æ®µç”¨æ¥å°è£…å¯¹è±¡å±æ€§ï¼Œæ–¹æ³•ç”¨æ¥å°è£…å¯¹è±¡çš„è¡Œä¸º æ–¹æ³•æå‡ åŒ¿åå­ç»“æ„çš„æ–¹æ³•å¯ä»¥åƒçˆ¶ç»“æ„çš„æ–¹æ³•ä¸€æ ·è¢«çˆ¶ä½¿ç”¨ï¼ˆæ²¡æœ‰åŒåçˆ¶ç»“æ„æ–¹æ³•ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142type Address struct &#123; city string state string&#125;type Person struct &#123; firstName ptring lastName string Address&#125;func (a *Address) fullAddress() &#123; //æ¥æ”¶è€…æ˜¯å­ç»“æ„æŒ‡é’ˆ fmt.Printf(\"Full Address: %s, %s\\n\", a.city, a.state)&#125;func main() &#123; p := Person&#123; firstName: \"Elon\", lastName: \"Musk\", Address: Address&#123; city: \"Los Angeles\", state: \"California\", &#125;, &#125; p.Address.fullAddress() //å®Œæ•´è°ƒç”¨æ–¹æ³• p.fullAddress() //çˆ¶ç»“æ„å¯¹è±¡ç›´æ¥è°ƒç”¨å­ç»“æ„æ–¹æ³•&#125;// 1. ä¿®æ”¹åŒ¿åå­—æ®µAddresså˜æˆæŒ‡é’ˆï¼Œåˆ™2type Person struct &#123; firstName string lastName string *Address&#125;func main() &#123; p := &amp;Person&#123; firstName: \"Elon\", lastName: \"Musk\", Address: &amp;Address&#123; // 2. åˆ™è¿™è¾¹ä¼ çš„æ—¶å€™åº”è¯¥æ˜¯ä¼ åœ°å€ city: \"Los Angeles\", state: \"California\", &#125;, &#125;&#125; è‡ªå®šä¹‰ç±»å‹æ‰©å±•æ–¹æ³• æ–¹æ³•å¹¶éç»“æ„ä½“ä¸“æœ‰ï¼Œæ‰€æœ‰è‡ªå®šä¹‰ç±»å‹éƒ½å¯ä»¥å®šä¹‰æ–¹æ³• 123456789type myInt int // å‘½åç±»å‹func (a *myInt) add(b myInt) myInt &#123; return *a + b&#125;num1 := myInt(5)num2 := myInt(10)sum := num1.add(num2) æ–¹æ³•å€¼ æ–¹æ³•æœ¬è´¨ä¸Šè¿˜æ˜¯å‡½æ•°ï¼Œæ‰€ä»¥æ–¹æ³•å¯ä»¥èµ‹å€¼ç»™å‡½æ•°å˜é‡ æ–¹æ³•å€¼æ˜¯å¯¹è±¡å˜é‡åˆå§‹åŒ–åçš„æ–¹æ³• æ–¹æ³•å€¼å…¶å®æ˜¯å¸¦æœ‰é—­åŒ…çš„å‡½æ•°å˜é‡ï¼Œæ¥æ”¶è€…è¢«éšå¼åœ°ä¿å­˜åœ¨é—­åŒ…é‡Œ æ–¹æ³•å€¼èµ‹ç»™å‡½æ•°å˜é‡åï¼Œå‡½æ•°å˜é‡å¯ç›´æ¥è°ƒç”¨ æ–¹æ³•ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ç±»å‹æ¥è°ƒç”¨ï¼ŒæŠŠæ¥æ”¶è€…ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼še.play() &lt;==&gt;Employee.play(e), (*Employee).changeAge(&amp;e, 52) //ç±»å‹è°ƒç”¨ æ¥å£ æ¥å£æ˜¯ç¼–ç¨‹è§„çº¦ï¼Œä¸€ç»„æ–¹æ³•ç­¾åçš„é›†åˆ æ–¹æ³•å£°æ˜çš„ä¸¤ä¸ªç»„ä»¶æ„æˆäº†æ–¹æ³•ç­¾å - æ–¹æ³•çš„åç§°å’Œå‚æ•°ç±»å‹ã€‚ ä¼ ç»ŸOOé‡Œï¼Œæ¥å£é€šå¸¸ç”¨æ¥æŠ½è±¡å®šä¹‰å¯¹è±¡çš„è¡Œä¸ºï¼Œå…·ä½“è¿‡ç¨‹åœ¨ç±»é‡Œå®ç° ï¼Œç±»åœ¨å®šä¹‰æ—¶è¦å£°æ˜å®ç°äº†å“ªäº›æ¥å£ GO æ¥å£é‡‡ç”¨éä¾µå…¥å¼ï¼Œå³å…·ä½“ç±»å‹å®ç°æ¥å£ä¸ç”¨æ˜¾å¼å£°æ˜ï¼Œåªè¦å…¶æ–¹æ³•é›†æ˜¯æ¥å£çš„è¶…é›†ï¼Œç¼–è¯‘æ—¶ä¼šè¿›è¡Œå¯¹åº”æ ¡éªŒ GO æ¥å£åªæœ‰æ–¹æ³•ç­¾åï¼Œæ²¡æœ‰æ•°æ®å­—æ®µï¼Œæ²¡æœ‰å‡½æ•°ä½“ä»£ç  ç±»å‹çš„æ–¹æ³•é›†æ˜¯å¤šä¸ªæ¥å£çš„è¶…é›†ï¼Œåˆ™å®ç°å¤šä¸ªæ¥å£ ç±»å‹å®šä¹‰ï¼š å‘½åæ¥å£ç±»å‹ 1234type interfaceName interface&#123;//æ¥å£ç±»å‹å‘½åé€šå¸¸ä»¥erä¸ºåç¼€ methodName(paramList)(resultList) otherInterfaceName&#125; åŒ¿åæ¥å£ç±»å‹ 1234interface&#123; methodName(paramList)(resultList) interfaceName&#125; ç©ºæ¥å£ ç©ºæ¥å£ interface{} æ˜¯ä¸€ç§åŒ¿åæ¥å£ç±»å‹ ç©ºæ¥å£çš„æ–¹æ³•é›†ä¸ºç©ºï¼Œæ‰€æœ‰ç±»å‹éƒ½å®ç°äº†ç©ºæ¥å£ï¼Œéƒ½å¯ä»¥èµ‹å€¼æˆ–ä¼ é€’ç»™ç©ºæ¥å£ éå‘½åç±»å‹ä¸èƒ½å®šä¹‰è‡ªå·±çš„æ–¹æ³•ï¼Œå…¶æ–¹æ³•é›†ä¸ºç©ºï¼Œåªèƒ½ä¼ é€’ç»™ç©ºæ¥å£==&gt;mapï¼Œslice æ–¹æ³•éœ€è¦æ¥æ”¶ç±»å‹å‚æ•°ï¼Œæ‰€ä»¥éå‘½åç±»å‹ä¸èƒ½å®šä¹‰è‡ªå·±çš„æ–¹æ³• æ¥å£åˆå§‹åŒ– åªå£°æ˜æœªèµ‹å€¼çš„æ¥å£å˜é‡ä¸ºnil æ¥å£å˜é‡åˆå§‹åŒ–éœ€è¦æŠŠæ¥å£ç»‘å®šåˆ°å…·ä½“ç±»å‹å®ä¾‹ æœªåˆå§‹åŒ–çš„æ¥å£å˜é‡ä¸èƒ½è°ƒç”¨å…¶æ–¹æ³• æ–¹æ³•çš„æ¥æ”¶è€…æ‰èƒ½ç»™æ¥å£å˜é‡èµ‹å€¼ æ¥å£å˜é‡çš„å€¼åŒ…æ‹¬åº•å±‚ç±»å‹çš„å€¼å’Œå…·ä½“ç±»å‹ 1234567891011121314type Printer interface &#123; Print()&#125;type S struct&#123;&#125;func (s S) Print() &#123; fmt.Println(\"print\")&#125; var i interface&#123;&#125; = S&#123;&#125;switch v := i.(type) &#123; //é€šè¿‡væ‰èƒ½è°ƒç”¨æ¥å£å‡½æ•° case Printer: v.Print() default: fmt.Printf(\"unknown type\\n\")&#125; åœ¨å†…éƒ¨ï¼Œæ¥å£å€¼å¯ä»¥çœ‹åšåŒ…å«å€¼å’Œå…·ä½“ç±»å‹çš„å…ƒç»„ï¼š(value, type) æ¥å£å€¼ä¿å­˜äº†ä¸€ä¸ªå…·ä½“åº•å±‚ç±»å‹çš„å…·ä½“å€¼ã€‚æ¥å£å€¼è°ƒç”¨æ–¹æ³•æ—¶ä¼šæ‰§è¡Œå…¶åº•å±‚ç±»å‹çš„åŒåæ–¹æ³•ã€‚ 12345678910111213141516171819202122232425262728293031323334353637type I interface &#123; M()&#125;type T struct &#123; S string&#125;func (t *T) M() &#123; fmt.Println(t.S)&#125;type F float64func (f F) M() &#123; fmt.Println(f)&#125;func main() &#123; var i I i = &amp;T&#123;\"Hello\"&#125; describe(i) i.M() i = F(math.Pi) describe(i) i.M()&#125;func describe(i I) &#123; fmt.Printf(\"(%v, %T)\\n\", i, i)&#125;/**(&amp;&#123;Hello&#125;, *main.T)Hello(3.141592653589793, main.F)3.141592653589793*/ GO çš„é¢å‘å¯¹è±¡ Go æ²¡æœ‰ç±»ï¼Œè€Œæ˜¯æ¾è€¦åˆçš„ç±»å‹ã€æ–¹æ³•å¯¹æ¥å£çš„å®ç° å°è£… ç”¨ç»“æ„ä»£æ›¿ç±» ç”¨Newå‡½æ•°ä»£æ›¿æ„é€ å‡½æ•° ç»§æ‰¿ ç”¨ç±»å‹ç»„åˆæ¥å®ç°ç»§æ‰¿ å¤šé‡ç»§æ‰¿é€šè¿‡å†…åµŒå¤šä¸ªç±»å‹å®ç° å¤šæ€ ç±»å‹æ–­è¨€ Goè¯­è¨€é‡Œé¢æœ‰ä¸€ä¸ªè¯­æ³•ï¼Œå¯ä»¥ç›´æ¥åˆ¤æ–­æ˜¯å¦æ˜¯è¯¥ç±»å‹çš„å˜é‡ï¼švalue, ok = element.(T)ï¼Œè¿™é‡Œvalueå°±æ˜¯å˜é‡çš„å€¼ï¼Œokæ˜¯ä¸€ä¸ªboolç±»å‹ï¼Œelementæ˜¯interfaceå˜é‡ï¼ŒTæ˜¯æ–­è¨€çš„ç±»å‹ã€‚ ä¸‹é¢æœ‰ä¸ªä¾‹å­ã€‚åªæœ‰å½“æŸä¸ªinterface{}çš„ç±»å‹ å­˜å‚¨çš„æ˜¯intæ—¶æ‰æ‰“å°å‡ºæ¥ã€‚ 12345678910111213141516171819package mainimport ( \"fmt\" \"math/rand\" \"time\")func main() &#123; var v interface&#123;&#125; r := rand.New(rand.NewSource(time.Now().UnixNano())) for i := 0; i &lt; 10; i++&#123; v = i if (r.Intn(100) % 2) == 0 &#123; v = \"hello\" &#125; if _, ok := v.(int); ok &#123; fmt.Printf(\"%d\\n\", v) &#125; &#125; &#125; ä¸€ä¸ªæ¯”è¾ƒå…¸å‹çš„åº”ç”¨åœºæ™¯å°±æ˜¯ï¼šerrors.(*MyError) åå°„ åå°„å¯ä»¥åœ¨è¿è¡Œæ—¶æ£€æŸ¥å˜é‡çš„ç±»å‹å’Œå€¼ï¼Œæ˜¯å…ƒç¼–ç¨‹çš„ä¸€ç§å½¢å¼ï¼Œåœ¨æ²¡æœ‰æºä»£ç æ—¶å¸®åŠ©è°ƒè¯•ç¨‹åº åå°„åŒ… â€ reflectâ€ é€šè¿‡ç©ºæ¥å£è·å–å˜é‡çš„ç±»å‹å’Œå€¼ ç”¨æ¥å£å®ç°å¤šæ€ å®ä¾‹å¯ä»¥èµ‹ç»™å®ƒæ‰€å®ç°çš„ä»»æ„æ¥å£ç±»å‹çš„å˜é‡ åå°„åŒ… â€ reflectâ€ é€šè¿‡ç©ºæ¥å£è·å–å˜é‡çš„ç±»å‹å’Œå€¼ func TypeOf(i interface{}) Type func ValueOf(i interface{}) Value reflect.Type å’Œ reflect.Value å„æœ‰è®¸å¤šæ–¹æ³•ï¼Œæ¯”å¦‚kindæ–¹æ³•ç”¨äºè¿”å›åº•å±‚ç±»å‹åç§°çš„å¸¸é‡ 123456789101112131415161718192021222324252627282930313233func add(a, b int) int &#123; return a + b&#125;// å°†å‡½æ•°åŒ…è£…ä¸ºåå°„å€¼å¯¹è±¡funcValue := reflect.ValueOf(add)// ç”Ÿæˆå‡½æ•°å‚æ•°, ä¼ å…¥ä¸¤ä¸ªæ•´å‹å€¼paramList := []reflect.Value&#123;reflect.ValueOf(10), reflect.ValueOf(20)&#125;// åå°„è°ƒç”¨å‡½æ•°retList := funcValue.Call(paramList)// è·å–ç¬¬ä¸€ä¸ªè¿”å›å€¼, å–æ•´æ•°å€¼fmt.Println(retList[0].Int())type Money float64func main() &#123; var x Money = 58.9 fmt.Println(\"type:\", reflect.TypeOf(x)) v := reflect.ValueOf(x) fmt.Println(\"value:\", v) fmt.Println(\"type:\", v.Type()) fmt.Println(\"kind:\", v.Kind()) //æŸ¥çœ‹åº•å±‚ç±»å‹ fmt.Println(\"settability of v:\", v.CanSet()) //èƒ½å¦è¢«ä¿®æ”¹ xçš„åœ°å€ä¸èƒ½ä¿®æ”¹ /* type: main.Money value: 58.9 type: main.Money kind: float64 settability of v: false */&#125; é”™è¯¯å¤„ç† ä¼ ç»ŸOOé‡Œï¼Œå¼‚å¸¸æ˜¯ä¸€ç§ç¨‹åºæ§åˆ¶æœºåˆ¶ï¼Œä¾é™„äºæ ˆç»“æ„,å´å¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ªå¼‚å¸¸ç±»å‹ä½œä¸ºç½‘æ•æ¡ä»¶,ä»è€Œä»¥ç±»å‹åŒ¹é…åœ¨æ ˆæœºåˆ¶ä¸­è·³è·ƒå›é¦ˆ GO è¯­è¨€é‡Œæ²¡æœ‰å¼‚å¸¸æœºåˆ¶ï¼Œåªæœ‰é”™è¯¯å¤„ç†ï¼Œé”™è¯¯é€šè¿‡å‡½æ•°çš„å¤šè¿”å›å€¼æ¥å¤„ç† GO è¯­è¨€çš„é”™è¯¯ä¸»è¦æœ‰ï¼š ç¼–è¯‘é”™è¯¯ è¿è¡Œæ—¶é”™è¯¯ é€»è¾‘é”™è¯¯ GOé”™è¯¯å¤„ç†æ–¹å¼ é”™è¯¯å¯å¤„ç†ï¼Œé€šè¿‡å‡½æ•°è¿”å›é”™è¯¯è¿›è¡Œå¤„ç† é”™è¯¯ä¸å¯å¤„ç†ï¼Œé€šè¿‡panicæŠ›å‡ºé”™è¯¯ï¼Œé€€å‡ºç¨‹åº é”™è¯¯å®ç° é€šè¿‡error æ¥å£ å®ç°é”™è¯¯å¤„ç†çš„æ ‡å‡†æ¨¡å¼ï¼Œæ‰“å°é”™è¯¯æ—¶è‡ªåŠ¨è°ƒç”¨Error()å‡½æ•° 1234&gt; type error interface&#123;&gt; Error() string&gt; &#125;&gt; å®é™…ä½¿ç”¨ 1234567891011121314type PathError struct &#123; Op string Path string Err error&#125;func (e *PathError) Error() string &#123; return e.Op + \" \" + e.Path + \": \" + e.Err.Error() &#125;f, err := os.Open(\"/test.txt\")// ç±»å‹æ–­è¨€if perr, ok := err.(*os.PathError); ok &#123; fmt.Println(\"File at path\", perr.Path, \"failed to open\") return&#125;fmt.Println(f.Name(), \"opened successfully\") åˆ›å»ºé”™è¯¯ æ ¹æ®errors åŒ…å¯¹é”™è¯¯çš„åŸºæœ¬å®šä¹‰ 12345678910package errorsfunc New(text string) error &#123; return &amp;errorString&#123;text&#125;&#125;type errorString struct &#123; s string&#125;func (e *errorString) Error() string &#123; return e.s&#125; fmtåŒ…çš„Errorf å‡½æ•° 12345678910111213func circleArea1(radius float64) (float64, error) &#123; if radius &lt; 0 &#123; return 0, errors.New(\"Area calculation failed, radius is less than zero\") &#125; return math.Pi * radius * radius, nil&#125;func circleArea2(radius float64) (float64, error) &#123; if radius &lt; 0 &#123; return 0, fmt.Errorf(\"Area calculation failed, radius %0.2f is less than zero\", radius) &#125; return math.Pi * radius * radius, nil&#125; åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263package mainimport \"fmt\"type areaError struct &#123; err string //error description length float64 //length which caused the error width float64 //width which caused the error&#125;// å®ç°æ¥å£func (e *areaError) Error() string &#123; return e.err&#125;//errorçš„æ–¹æ³•ç”¨æ¥æ˜ç¡®é”™è¯¯åŸå› func (e *areaError) lengthNegative() bool &#123; return e.length &lt; 0&#125;func (e *areaError) widthNegative() bool &#123; return e.width &lt; 0&#125;func rectArea(length, width float64) (float64, error) &#123; err := \"\" if length &lt; 0 &#123; err += \"length is less than zero\" &#125; if width &lt; 0 &#123; if err == \"\" &#123; err = \"width is less than zero\" &#125; else &#123; err += \", width is less than zero\" &#125; &#125; if err != \"\" &#123; // 1. è¿”å›çš„æ˜¯å¯¹è±¡çš„åœ°å€ return 0, &amp;areaError&#123;err, length, width&#125; &#125; //err æ–‡æœ¬ç”¨æ¥ç»™é”™è¯¯æç¤ºä¿¡æ¯ return length * width, nil&#125;func main() &#123; length, width := -5.0, -9.0 // 2. æ‰€ä»¥è¿™è¾¹erræ˜¯æŒ‡é’ˆ area, err := rectArea(length, width) if err != nil &#123; fmt.Print(err) // 3. æ‰€ä»¥è¿™è¾¹ç±»å‹æ–­è¨€å¾—åˆ¤æ–­æ˜¯ä¸æ˜¯areaErrorçš„æŒ‡é’ˆ if err, ok := err.(*areaError); ok &#123; if err.lengthNegative() &#123; fmt.Printf(\"error: length %0.2f is less than zero\\n\", err.length) &#125; if err.widthNegative() &#123; fmt.Printf(\"error: width %0.2f is less than zero\\n\", err.width) &#125; return &#125; &#125; fmt.Println(\"area of rect\", area)&#125; è‡ªå®šä¹‰é”™è¯¯çš„å®ç°é€»è¾‘ï¼š è‡ªå®šä¹‰çš„é”™è¯¯éƒ½ä¼šé‡å†™Error() stringçš„æ–¹æ³•ï¼Œå³å®ç°äº†error æ¥å£ã€‚ åœ¨æŠ›å‡ºè‡ªå®šä¹‰é”™è¯¯çš„å‡½æ•°ä¸­é”™è¯¯çš„è¿”å›å€¼ç±»å‹éƒ½æ˜¯erroræ¥å£ å› æ­¤ï¼Œåœ¨å¤–éƒ¨ä½¿ç”¨çš„æ—¶å€™data, err = Myfunc()ï¼Œè¿™è¾¹å¾—åˆ°çš„erræ˜¯erroræ¥å£ï¼Œè‡³äºæ•æ‰è‡ªå®šä¹‰çš„é”™è¯¯å°±æ˜¯é€šè¿‡å¯¹æ¥å£çš„ç±»å‹æ–­è¨€æ¥åˆ¤æ–­çš„äº†ï¼Œå³è‡ªå®šä¹‰çš„é”™è¯¯éƒ½èƒ½çœ‹åˆ°ä¸‹é¢æœ‰if errObj, ok := err.(*MyError); okçš„ä»£ç  ä½¿ç”¨ goto é›†ä¸­å¤„ç†é”™è¯¯â€”â€”Goç‰¹æ€§ 123456789101112131415161718192021222324252627// å¸¸è§„çš„å†™æ³•err := firstCheckError()if err != nil &#123; fmt.Println(err) exitProcess() return&#125;err = secondCheckError()if err != nil &#123; fmt.Println(err) exitProcess() return&#125;// Goå€ŸåŠ©æ ‡ç­¾ç‰¹æ®Šçš„å†™æ³•err := firstCheckError()if err != nil &#123; goto onExit&#125;err = secondCheckError()if err != nil &#123; goto onExit&#125;// æ­£å¸¸å¤„ç†ä»£ç onExit: fmt.Println(err) exitProcess() panicï¼ˆææ…Œï¼‰ é€šå¸¸æƒ…å†µä¸‹ï¼Œå‘æŠ¥å‘Šé”™è¯¯çŠ¶æ€çš„æ–¹å¼æ˜¯è¿”å›ä¸€ä¸ªé¢å¤–çš„errorç±»å‹å€¼ã€‚ä½†æ˜¯ï¼Œå½“é‡åˆ°ä¸å¯æ¢å¤çš„é”™è¯¯çŠ¶æ€ï¼Œå¯¼è‡´ç¨‹åºä¸èƒ½ç®€å•ç»§ç»­æ‰§è¡Œæ—¶å¼•å‘panic å¼•å‘panicçš„ä¸¤ç§æƒ…å†µ ä¸»åŠ¨è°ƒç”¨panic å‡½æ•°ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ï¼Œè¯¥é”™è¯¯æä¾›RuntimeError() æ–¹æ³•ç”¨äºåŒºåˆ«æ™®é€šé”™è¯¯ ç¨‹åºè¿è¡Œæ—¶å‡ºç°æœªå¤„ç†é”™è¯¯è‡ªåŠ¨è§¦å‘ï¼Œæ¯”å¦‚å½“å‘ç”Ÿåƒæ•°ç»„ä¸‹æ ‡è¶Šç•Œæˆ–ç±»å‹æ–­è¨€å¤±è´¥ç­‰è¿è¡Œæ—¶é”™è¯¯æ—¶ï¼ŒGo è¿è¡Œæ—¶ä¼šè‡ªåŠ¨è§¦å‘panic ä¸åº”é€šè¿‡è°ƒç”¨panic()å‡½æ•°æ¥æŠ¥å‘Šæ™®é€šçš„é”™è¯¯ï¼Œè€Œåº”è¯¥åªæŠŠå®ƒä½œä¸ºæŠ¥å‘Šè‡´å‘½é”™è¯¯çš„ä¸€ç§æ–¹å¼ panickingç»ˆæ­¢è¿‡ç¨‹ panic ç±»ä¼¼å¼‚å¸¸ä¼šé€çº§ä¸Šä¼  åœ¨å¤šå±‚åµŒå¥—çš„å‡½æ•°è°ƒç”¨ä¸­è§¦å‘æˆ–è°ƒç”¨panicï¼Œä¼šé©¬ä¸Šä¸­æ­¢å½“å‰å‡½æ•°çš„æ‰§è¡Œï¼Œé€çº§å†’æ³¡ä¸Šä¼ åˆ°æœ€é¡¶å±‚ï¼Œå¹¶æ‰§è¡Œï¼ˆæ¯å±‚çš„ï¼‰ deferï¼Œåœ¨æ ˆé¡¶å¤„ç¨‹åºå´©æºƒï¼Œå¹¶åœ¨å‘½ä»¤è¡Œä¸­ç”¨ä¼ ç»™ panic çš„å€¼æŠ¥å‘Šé”™è¯¯æƒ…å†µ recover panicä¸€æ—¦è¢«å¼•å‘å°±ä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œä½†æ— æ³•ä¿è¯ç¨‹åºä¸ä¼šå‘ç”Ÿä»»ä½•è¿è¡Œæ—¶é”™è¯¯ã€‚ recoverä¸“ç”¨äºâ€œæ‹¦æˆªâ€è¿è¡Œæ—¶panicï¼Œè®©è¿›å…¥ææ…Œçš„ç¨‹åºæ¢å¤è¿‡æ¥å¹¶é‡æ–°è·å¾—æµç¨‹æ§åˆ¶æƒã€‚ recover å¯ä»¥é˜»æ­¢panicç»§ç»­å‘ä¸Šä¼ é€’ â–².ä¸ºç¡®ä¿æ•è·panicï¼Œ recover å¿…é¡»åœ¨å»¶è¿Ÿå‡½æ•°ï¼ˆdeferï¼‰ä¸­æ‰§è¡Œ æ€»ç»“ï¼š ç¨‹åºå‘ç”Ÿçš„é”™è¯¯å¯¼è‡´ç¨‹åºä¸èƒ½å®¹é”™ç»§ç»­æ‰§è¡Œï¼Œåº”ä¸»åŠ¨è°ƒç”¨panicæˆ–ç”±è¿è¡Œæ—¶æŠ›å‡ºpanic ç¨‹åºå‘ç”Ÿé”™è¯¯ï¼Œä½†èƒ½å®¹é”™ç»§ç»­æ‰§è¡Œçš„ï¼Œæ­£å¸¸æƒ…å†µç”¨é”™è¯¯è¿”å›å€¼ï¼Œè¿è¡Œæ—¶é”™è¯¯éå…³é”®åˆ†æ”¯ç”¨recover æ•è·panic 1234567891011121314151617181920212223242526272829303132333435363738package mainimport ( \"fmt\")func recoverName() &#123; if r := recover(); r != nil &#123; fmt.Println(\"recovered from fullName\", r) &#125;&#125;func recoverMain() &#123; if r := recover(); r != nil &#123; fmt.Println(\"recovered from main\", r) &#125;&#125;func fullName(firstName *string, lastName *string) &#123; defer recoverName() if firstName == nil &#123; panic(\"runtime error: first name cannot be nil\") &#125; if lastName == nil &#123; panic(\"runtime error: last name cannot be nil\") &#125; fmt.Printf(\"%s %s\\n\", *firstName, *lastName) fmt.Println(\"returned normally from fullName\")&#125;func main() &#123; defer recoverMain() defer fmt.Println(\"deferred call in main\") //firstName := \"Elon\" lastName := \"Potter\" //fullName(&amp;firstName, &amp;lastName) fullName(nil, &amp;lastName) fmt.Println(\"returned normally from main\")&#125; åŒ… GOä½¿ç”¨åŒ…æ¥ç»„ç»‡æºä»£ç å’Œä»£ç ç¼–è¯‘ï¼Œå®ç°ä»£ç å¤ç”¨ ä»»ä½•æºä»£ç å¿…é¡»å±äºæŸä¸ªåŒ…ï¼ŒåŒæ—¶æºç æ–‡ä»¶çš„ç¬¬ä¸€è¡Œæœ‰æ•ˆä»£ç å¿…é¡»æ˜¯package pacakge packageName è¯­å¥ï¼Œå£°æ˜è‡ªå·±æ‰€åœ¨çš„åŒ…ã€‚ â–².åŒ…åä¸º main ä¸ºåº”ç”¨ç¨‹åºçš„å…¥å£åŒ…ï¼Œç¼–è¯‘ä¸åŒ…å« main åŒ…çš„æºç æ–‡ä»¶æ—¶ä¸ä¼šå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶ ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æºç æ–‡ä»¶åªèƒ½å±äºåŒä¸€ä¸ªåŒ…ï¼ŒåŒæ ·å±äºåŒä¸€ä¸ªåŒ…çš„æºç æ–‡ä»¶ä¸èƒ½æ”¾åœ¨å¤šä¸ªæ–‡ä»¶å¤¹ä¸‹ åŒ…çš„å¼•ç”¨æ ¼å¼ æ ‡å‡†å¼•ç”¨æ ¼å¼ 12import \"fmt\"fmt.Printf(\"Hello worldï¼\") é€šè¿‡ï¼šåº“/åŒ….funcçš„æ–¹å¼è°ƒç”¨ è‡ªå®šä¹‰åˆ«åå¼•ç”¨æ ¼å¼ 12import F \"fmt\"F.Printf(\"Hello worldï¼\") é€šè¿‡ï¼šå®šä¹‰çš„åç§°ï¼Œå¦‚F.funcçš„æ–¹å¼è°ƒç”¨ çœç•¥å¼•ç”¨æ ¼å¼ 123import . \"fmt\"//ä¸éœ€è¦åŠ å‰ç¼€ fmt.Printf(\"Hello worldï¼\") åŒ¿åå¼•ç”¨æ ¼å¼ å¼•ç”¨åŒ…ï¼Œä½†æ˜¯ä»£ç ä¸­å´æ²¡æœ‰ä½¿ç”¨åŒ…ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ åœ¨å¼•ç”¨æŸä¸ªåŒ…æ—¶ï¼Œå¦‚æœåªæ˜¯å¸Œæœ›æ‰§è¡ŒåŒ…åˆå§‹åŒ–çš„ init å‡½æ•°ï¼Œè€Œä¸ä½¿ç”¨åŒ…å†…éƒ¨çš„æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŒ¿åå¼•ç”¨æ ¼å¼(_) 1import _ \"fmt\" init( ) init( )æ˜¯ç‰¹æ®Šçš„å‡½æ•°ï¼Œä¸èƒ½å¤Ÿè¢«äººä¸ºè°ƒç”¨ï¼Œè€Œæ˜¯åœ¨æ¯ä¸ªåŒ…å®Œæˆåˆå§‹åŒ–åè‡ªåŠ¨æ‰§è¡Œï¼Œå¹¶ä¸”æ‰§è¡Œä¼˜å…ˆçº§æ¯” main å‡½æ•°é«˜ init( )å¸¸ç”¨äºåœ¨å¼€å§‹æ‰§è¡Œç¨‹åºä¹‹å‰å¯¹æ•°æ®è¿›è¡Œæ£€éªŒæˆ–ä¿®å¤ï¼Œæˆ–è€…åœ¨ç¨‹åºå¼€å§‹ä¹‹å‰è°ƒç”¨åå°æ‰§è¡Œçš„ goroutine æ¯ä¸ªæºç å¯ä»¥ä½¿ç”¨ 1 ä¸ª init() å‡½æ•°ï¼Œä¸€ä¸ªåŒ…å¯ä»¥æœ‰å¤šä¸ª init å‡½æ•°ï¼ŒåŒ…åŠ è½½æ—¶ä¼šæ‰§è¡Œå…¨éƒ¨çš„ init å‡½æ•°ï¼Œä½†å¹¶ä¸èƒ½ä¿è¯æ‰§è¡Œé¡ºåº åŒ…åŠ è½½é¡ºåº ç¨‹åºä» main å‡½æ•°å¼•ç”¨çš„åŒ…å¼€å§‹ï¼Œé€çº§æŸ¥æ‰¾åŒ…çš„å¼•ç”¨ï¼Œç›´åˆ°æ‰¾åˆ°æ²¡æœ‰å¼•ç”¨å…¶ä»–åŒ…çš„åŒ…ï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ªåŒ…å¼•ç”¨çš„æœ‰å‘æ— ç¯å›¾ æ¯ä¸ªåŒ…ä¼šå…ˆâ‘ åˆå§‹åŒ–å¸¸é‡ï¼Œç„¶åâ‘¡æ˜¯å…¨å±€å˜é‡ï¼Œâ‘¢æœ€åæ‰§è¡ŒåŒ…çš„ init å‡½æ•° åŒ…å†…æ ‡è¯†ç¬¦å¯¼å‡ºâ€”â€”å‘å¤–æš´éœ² ä¸€ä¸ªåŒ…é‡Œçš„æ ‡è¯†ç¬¦ï¼ˆå¦‚ç±»å‹ã€å˜é‡ã€å¸¸é‡ç­‰ï¼‰è¦è¢«å¤–éƒ¨è®¿é—®ï¼Œéœ€å°†è¦å¯¼å‡ºçš„æ ‡è¯†ç¬¦çš„é¦–å­—æ¯å¤§å†™ 1234var myVar = 100 //å†…éƒ¨å¼•ç”¨const MyConst = \"hello\" //å¯¼å‡ºtype MyStruct struct &#123; //å¯¼å‡º&#125; åœ¨è¢«å¯¼å‡ºçš„ç»“æ„ä½“æˆ–æ¥å£ä¸­ï¼Œå¦‚æœå®ƒä»¬çš„å­—æ®µæˆ–æ–¹æ³•é¦–å­—æ¯æ˜¯å¤§å†™ï¼Œå¤–éƒ¨å¯ä»¥è®¿é—®è¿™äº›å­—æ®µå’Œæ–¹æ³• 12345678type MyStruct struct &#123; //ç»“æ„ä½“è¦è¢«å¯¼å‡º ExportedField int // åŒ…å¤–å¯ä»¥è®¿é—®çš„å­—æ®µ privateField int // ä»…é™åŒ…å†…è®¿é—®çš„å­—æ®µ&#125;type MyInterface interface &#123; //æ¥å£è¦è¢«å¯¼å‡º ExportedMethod() // åŒ…å¤–å¯ä»¥è®¿é—®çš„æ–¹æ³• privateMethod() // ä»…é™åŒ…å†…è®¿é—®çš„æ–¹æ³•&#125; æ€»ç»“ï¼šGoæ²¡æœ‰æä¾›æƒé™æ§åˆ¶ç¬¦ï¼Œè€Œæ˜¯é€šè¿‡äº†é¦–å­—æ¯æ˜¯å¦å¤§å°å†™çš„ç»Ÿä¸€è§„å®šæ¥åŠ ä¸Šæƒé™æ§åˆ¶ï¼Œè¿™ä¸ªè·ŸPythonä¸­ç§æœ‰æƒé™åŠ __ï¼Œä¿æŠ¤æƒé™åŠ _é¢‡ä¸ºç±»ä¼¼ go.mod ä½¿ç”¨GOPATH ä¸å¤ªæ–¹ä¾¿ go.modæ˜¯Go1.11ç‰ˆæœ¬æ–°å¼•å…¥çš„å®˜æ–¹åŒ…ç®¡ç†å·¥å…· åœ¨é¡¹ç›®ç›®å½•ä¸‹ç”¨go.mod æ–‡ä»¶æ¥è®°å½•ä¾èµ–åŒ…å…·ä½“ç‰ˆæœ¬ï¼Œæ–¹ä¾¿ä¾èµ–åŒ…ã€æºä»£ç å’Œç‰ˆæœ¬æ§åˆ¶çš„ç®¡ç†ã€ https://github.com/golang/go/wiki/Modules go.mod æ–‡ä»¶å†…å®¹ moduleï¼šæŒ‡å®šåŒ…çš„åå­— goï¼šç”¨äºæ ‡è¯†å½“å‰æ¨¡å—çš„ Go è¯­è¨€ç‰ˆæœ¬ï¼Œå€¼ä¸ºåˆå§‹åŒ–æ¨¡å—æ—¶çš„ç‰ˆæœ¬ requireï¼šæŒ‡å®šçš„ä¾èµ–é¡¹æ¨¡å— replaceï¼šå¯ä»¥æ›¿æ¢ä¾èµ–é¡¹æ¨¡å— excludeï¼šå¯ä»¥å¿½ç•¥ä¾èµ–é¡¹æ¨¡å— go modå‘½ä»¤ go.sum æ–‡ä»¶ go.sum æ–‡ä»¶ åœ¨æ‰§è¡Œ go get xxxxä¹‹åæˆ–ç›´æ¥ç¼–è¯‘ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„æºä»£ç æ—¶è‡ªåŠ¨ç”Ÿæˆ è¯¦ç»†ç½—åˆ—äº†å½“å‰é¡¹ç›®ç›´æ¥æˆ–é—´æ¥ä¾èµ–çš„æ‰€æœ‰æ¨¡å—ç‰ˆæœ¬ï¼Œå¹¶å†™æ˜äº†é‚£äº›æ¨¡å—ç‰ˆæœ¬çš„ SHA-256 å“ˆå¸Œå€¼ä»¥å¤‡ Go åœ¨ä»Šåçš„æ“ä½œä¸­ä¿è¯é¡¹ç›®æ‰€ä¾èµ–çš„é‚£äº›æ¨¡å—ç‰ˆæœ¬ä¸ä¼šè¢«ç¯¡æ”¹ go.mod ä½¿ç”¨åŸºæœ¬è¿‡ç¨‹ åˆ›å»ºé¡¹ç›®ç›®å½•Dir åœ¨é¡¹ç›®ç›®å½•è¿è¡Œ go mod init projectName,ç”Ÿæˆgo.mod æ–‡ä»¶ åœ¨é¡¹ç›®ç›®å½•æ‰§è¡Œ go get xxxx ä¸‹è½½ç¬¬ä¸‰æ–¹åŒ…ï¼Œ ä¼šç”Ÿæˆgo.sumæ–‡ä»¶ ï¼ˆå¯é€‰ï¼‰ åœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å»ºå­ç›®å½•ï¼Œåˆ›å»ºé¡¹ç›®å­åŒ…ï¼ˆå¯é€‰ï¼Œæ— éœ€å†ç”Ÿæˆgo.mod) å¹¶å‘ å¹¶è¡Œæ˜¯åœ¨ä»»ä¸€ç²’åº¦çš„æ—¶é—´ç¬é—´éƒ½åŒæ—¶æ‰§è¡Œï¼Œæ¯”å¦‚å¤šæœºå¹¶è¡Œ å¹¶å‘æ˜¯åœ¨è§„å®šçš„æ—¶é—´æœŸé™å†…å¤šä¸ªä»»åŠ¡éƒ½åœ¨æ‰§è¡Œï¼Œå®é™…åº•å±‚æ˜¯åˆ†æ—¶æ“ä½œ å¹¶è¡Œå¼ºè°ƒç¬æ—¶æ€§ã€å¹¶å‘å¼ºè°ƒè¿‡ç¨‹æ€§ å¹¶è¡Œå…³é”®åœ¨äºæ‰§è¡Œã€å¹¶å‘å…³é”®åœ¨äºç»“æ„ å•æœºè¿è¡Œæ—¶ï¼Œå¹¶è¡Œé€šè¿‡ä½¿ç”¨å¤šå¤„ç†å™¨ä»¥æé«˜é€Ÿåº¦ï¼Œå¹¶å‘ç¨‹åºå¯ä»¥æ˜¯å¹¶è¡Œçš„ï¼Œä¹Ÿå¯ä»¥ä¸æ˜¯ åº”ç”¨ç¨‹åºå…·å¤‡å¥½çš„å¹¶å‘ç»“æ„ï¼Œæ“ä½œç³»ç»Ÿæ‰èƒ½æ›´å¥½åœ°åˆ©ç”¨ç¡¬ä»¶å¹¶è¡Œæ‰§è¡Œ è¿›ç¨‹( process )ã€çº¿ç¨‹( thread )å’Œåç¨‹( coroutine ) è¿›ç¨‹æ˜¯ç¨‹åºåœ¨å†…å­˜ä¸­è¿è¡Œæ—¶ï¼Œæ“ä½œç³»ç»Ÿå¯¹å…¶è¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹å•ä½ çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œå®ä½“ï¼Œæ˜¯ CPU è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œå®ƒæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ æ¯ä¸ªè¿›ç¨‹è‡³å°‘åŒ…æ‹¬ä¸€ä¸ªçº¿ç¨‹ æ¯ä¸ªè¿›ç¨‹çš„åˆå§‹çº¿ç¨‹è¢«ç§°ä¸ºä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹ç»ˆæ­¢ï¼Œè¿›ç¨‹ç»ˆæ­¢ åç¨‹æ˜¯è½»é‡çº§çš„çº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªåç¨‹ è¿›ç¨‹å’Œçº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿçº§çš„ï¼Œåç¨‹æ˜¯ç¼–è¯‘å™¨çº§çš„ã€‚åç¨‹ä¸è¢«æ“ä½œç³»ç»Ÿå†…æ ¸ç®¡ç†ï¼Œè€Œå®Œå…¨ç”±ç¨‹åºæ§åˆ¶ï¼Œå› æ­¤æ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ã€‚ å’Œå¤šçº¿ç¨‹æ¯”ï¼Œæ•°é‡è¶Šå¤šï¼Œåç¨‹çš„æ€§èƒ½ä¼˜åŠ¿å°±è¶Šæ˜æ˜¾ã€‚åç¨‹çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºå…¶è½»é‡çº§ï¼Œå¯ä»¥è½»æ¾åˆ›å»ºä¸Šä¸‡ä¸ªè€Œä¸ä¼šå¯¼è‡´ç³»ç»Ÿèµ„æºè¡°ç«­ go routine ç‰¹æ€§ å¤šæ•°è¯­è¨€åœ¨è¯­æ³•å±‚ä¸æ”¯æŒåç¨‹ï¼Œè€Œæ˜¯é€šè¿‡åº“æ–¹å¼ï¼Œæ•ˆç‡ä¸é«˜ï¼Œå®¹æ˜“é˜»å¡ Go åœ¨è¯­è¨€çº§åˆ«æ”¯æŒåç¨‹ å‘½åä¸ºgoroutineï¼Œå…³é”®å­—go ç”±Goè¯­è¨€è¿è¡Œæ—¶ç»Ÿä¸€è°ƒåº¦ï¼Œåˆç†åˆ†é…ç»™å„ä¸ªCPU å„goroutineéé˜»å¡ï¼Œä¸ä¼šç­‰å¾… goroutine å¯ä»¥å¹¶è¡Œæ‰§è¡Œ goroutineæ‰§è¡Œçš„å‡½æ•°è¿”å›å€¼è¢«å¿½ç•¥===&gt;å› æ­¤éœ€è¦å¾—åˆ°è¿”å›ç»“æœçš„è¯éœ€è¦é€šè¿‡chan è¿è¡Œæ—¶ä¸ä¿è¯å„goroutineçš„æ‰§è¡Œé¡ºåº goroutineä¹‹é—´è¢«å¹³ç­‰åœ°è°ƒåº¦å’Œæ‰§è¡Œ mainå‡½æ•°ä¼šå•ç‹¬åˆ›å»ºå’Œåˆ†é…ä¸€ä¸ªgo routine åç¨‹é—´çš„é€šä¿¡â€”â€”é€šé“ é€šé“æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼ŒåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ª goroutine è®¿é—®é€šé“è¿›è¡Œå‘é€å’Œè·å–æ•°æ®ã€‚ é€šé“æ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œéµå¾ªå…ˆå…¥å…ˆå‡ºï¼ˆFIFOï¼‰çš„è§„åˆ™ é€šé“é»˜è®¤æ˜¯é˜»å¡çš„ï¼Œä½¿goroutineæœ‰æ•ˆé€šä¿¡ï¼Œä¸éœ€è¦ä½¿ç”¨å…¶ä»–è¯­è¨€çš„æ˜¾å¼é”æˆ–æ¡ä»¶å˜é‡ é€šé“æ˜¯å¼•ç”¨ç±»å‹ï¼Œéœ€è¦ä½¿ç”¨chanå…³é”®å­—å’Œå†…ç½®å‡½æ•°make è¿›è¡Œåˆ›å»º é€šé“å†™å…¥å’Œè¯»å–ä½¿ç”¨ &lt;- è¿ç®—ç¬¦ å†™å…¥ ï¼šé€šé“&lt;-å˜é‡ è¯»å–ï¼š å˜é‡&lt;-é€šé“ é€šé“åŒ…æ‹¬æ— ç¼“å†²é€šé“å’Œæœ‰ç¼“å†²é€šé“ æ— ç¼“å†²é€šé“ make(chan datatype) æœ‰ç¼“å†²é€šé“ make(chan datatypeï¼Œcapacity) æ— ç¼“å†²é€šé“åªèƒ½å­˜å‚¨ä¸€æ¡æ¶ˆæ¯ï¼Œæœ‰ç¼“å†²é€šé“å¯ä»¥æ ¹æ®makeå‡½æ•°çš„capacityå‚æ•°å­˜å‚¨næ¡æ¶ˆæ¯ï¼ŒæŒ‰FIFOè¯»å‡º ç¼“å†²ä¸é˜»å¡ æ— ç¼“å†²é€šé“ï¼Œå†™å…¥ç­‰å¾…è¯»å–ï¼Œè¯»å–ç­‰å¾…å†™å…¥ï¼Œåœ¨åŒæ–¹å‡†å¤‡å¥½ä¹‹å‰æ˜¯é˜»å¡çš„ æœ‰ç¼“å†²é€šé“ï¼Œé€šé“å·²æ»¡æ—¶çš„å†™å…¥ä¼šç­‰å¾…ï¼Œé€šé“å·²ç©ºçš„è¯»å–ä¼šç­‰å¾… å•å‘é€šé“ é€šé“é»˜è®¤ä¸ºåŒå‘çš„ï¼Œå•å‘é€šé“åªèƒ½ç”¨äºå‘é€æˆ–æ¥æ”¶æ•°æ® æ‰€è°“å•å‘é€šé“åªæ˜¯å¯¹é€šé“ä½œä¸ºå‡½æ•°å‚æ•°çš„ä¸€ç§ä½¿ç”¨é™åˆ¶ï¼Œè·ŸCè¯­è¨€ä½¿ç”¨constä¿®é¥°å‡½æ•°å‚æ•°ä¸ºåªè¯»ç±»ä¼¼ é€šå¸¸å…ˆåˆ›å»ºåŒå‘é€šé“ï¼Œåœ¨å‡½æ•°å½¢å‚ä¸­åˆ©ç”¨&lt;-è¿ç®—ç¬¦ä¿®é¥°é€šé“ï¼Œä½¿ä¹‹å˜ä¸ºåªè¯»æˆ–åªå†™é€šé“ func pull(ch &lt;-chan int) //åªè¯» func pump(ch chan&lt;- int) //åªå†™ å…³é—­é€šé“: å…³é—­é€šé“ä½¿ç”¨å†…ç½®å‡½æ•°close(),å®é™…ä¸Šæ˜¯å…³é—­å†™å…¥ï¼Œå³å‘é€è€…å‘Šè¯‰æ¥æ”¶è€…ä¸ä¼šå†æœ‰æ•°æ®å‘å¾€é€šé“ æ¥æ”¶è€…èƒ½å¤Ÿåœ¨é€šé“æ¥æ”¶æ•°æ®çš„åŒæ—¶ï¼Œè·å–é€šé“æ˜¯å¦å·²å…³é—­çš„å‚æ•° v, ok := &lt;-ch for rangeè¯­å¥èƒ½è‡ªåŠ¨åˆ¤æ–­é€šé“æ˜¯å¦å·²å…³é—­ channelåº•å±‚å®ç° src/runtime/chan.go:hchanå®šä¹‰äº†channelçš„æ•°æ®ç»“æ„ ç¼“å†²åŒºæ˜¯ä¸€ä¸ªç¯å½¢é˜Ÿåˆ— ä¸€ä¸ªchannelåªèƒ½ä¼ é€’ä¸€ç§ç±»å‹çš„å€¼ï¼Œç±»å‹ä¿¡æ¯å­˜å‚¨åœ¨hchanæ•°æ®ç»“æ„ 12345678910111213type hchan struct &#123; qcount uint // å½“å‰é˜Ÿåˆ—ä¸­å‰©ä½™å…ƒç´ ä¸ªæ•° dataqsiz uint // ç¯å½¢é˜Ÿåˆ—é•¿åº¦ï¼Œå³å¯ä»¥å­˜æ”¾çš„å…ƒç´ ä¸ªæ•° buf unsafe.Pointer // ç¯å½¢é˜Ÿåˆ—æŒ‡é’ˆ elemsize uint16 // æ¯ä¸ªå…ƒç´ çš„å¤§å° closed uint32 // æ ‡è¯†å…³é—­çŠ¶æ€ elemtype *_type // å…ƒç´ ç±»å‹ sendx uint // é˜Ÿåˆ—ä¸‹æ ‡ï¼ŒæŒ‡ç¤ºå…ƒç´ å†™å…¥æ—¶å­˜æ”¾åˆ°é˜Ÿåˆ—ä¸­çš„ä½ç½® recvx uint // é˜Ÿåˆ—ä¸‹æ ‡ï¼ŒæŒ‡ç¤ºå…ƒç´ ä»é˜Ÿåˆ—çš„è¯¥ä½ç½®è¯»å‡º recvq waitq // ç­‰å¾…è¯»æ¶ˆæ¯çš„goroutineé˜Ÿåˆ—ï¼Œè¯»é˜»å¡çš„goroutineä¼šè¢«å‘channelå†™å…¥æ•°æ®çš„goroutineå”¤é†’ sendq waitq // ç­‰å¾…å†™æ¶ˆæ¯çš„goroutineé˜Ÿåˆ—ï¼Œå†™é˜»å¡çš„goroutineä¼šè¢«ä»channelè¯»æ•°æ®çš„goroutineå”¤é†’ lock mutex // äº’æ–¥é”ï¼Œä¸€ä¸ªchannelåŒæ—¶ä»…å…è®¸è¢«ä¸€ä¸ªgoroutineè¯»å†™&#125; é€šé“åº•å±‚å®ç° å‘channelå†™æ•°æ® å¦‚æœç­‰å¾…æ¥æ”¶é˜Ÿåˆ—recvqä¸ä¸ºç©ºï¼Œè¯´æ˜ç¼“å†²åŒºä¸­æ²¡æœ‰æ•°æ®æˆ–è€…æ²¡æœ‰ç¼“å†²åŒºï¼Œæ­¤æ—¶ç›´æ¥ä»recvqå–å‡ºG,å¹¶æŠŠæ•°æ®å†™å…¥ï¼Œæœ€åæŠŠè¯¥Gå”¤é†’ï¼Œç»“æŸå‘é€è¿‡ç¨‹ï¼› å¦‚æœç¼“å†²åŒºä¸­æœ‰ç©ºä½™ä½ç½®ï¼Œå°†æ•°æ®å†™å…¥ç¼“å†²åŒºï¼Œç»“æŸå‘é€è¿‡ç¨‹ï¼› å¦‚æœç¼“å†²åŒºä¸­æ²¡æœ‰ç©ºä½™ä½ç½®ï¼Œå°†å¾…å‘é€æ•°æ®å†™å…¥Gï¼Œå°†å½“å‰GåŠ å…¥sendqï¼Œè¿›å…¥ç¡çœ ï¼Œç­‰å¾…è¢«è¯»goroutineå”¤é†’ é€šé“åº•å±‚å®ç° ä»channelè¯»æ•°æ® å¦‚æœç­‰å¾…å‘é€é˜Ÿåˆ—sendqä¸ä¸ºç©ºï¼Œä¸”æ²¡æœ‰ç¼“å†²åŒºï¼Œç›´æ¥ä»sendqä¸­å–å‡ºGï¼ŒæŠŠGä¸­æ•°æ®è¯»å‡ºï¼Œæœ€åæŠŠGå”¤é†’ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ï¼› å¦‚æœç­‰å¾…å‘é€é˜Ÿåˆ—sendqä¸ä¸ºç©ºï¼Œæ­¤æ—¶è¯´æ˜ç¼“å†²åŒºå·²æ»¡ï¼Œä»ç¼“å†²åŒºä¸­é¦–éƒ¨è¯»å‡ºæ•°æ®ï¼ŒæŠŠGä¸­æ•°æ®å†™å…¥ç¼“å†²åŒºå°¾éƒ¨ï¼ŒæŠŠGå”¤é†’ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ï¼› å¦‚æœç¼“å†²åŒºä¸­æœ‰æ•°æ®ï¼Œåˆ™ä»ç¼“å†²åŒºå–å‡ºæ•°æ®ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ï¼› å°†å½“å‰goroutineåŠ å…¥recvqï¼Œè¿›å…¥ç¡çœ ï¼Œç­‰å¾…è¢«å†™goroutineå”¤é†’ï¼› å®šæ—¶å™¨ Timer åç¨‹é—´çš„é€šä¿¡éœ€è®¾ç½®è¶…æ—¶ç­‰è¾…åŠ©æœºåˆ¶ ä¸€æ¬¡æ€§å®šæ—¶å™¨ï¼šå®šæ—¶å™¨åªè®¡æ—¶ä¸€æ¬¡ï¼Œç»“æŸä¾¿åœæ­¢ ä¸»è¦æ–¹æ³• 12345func NewTimer(d Duration) *Timer // æŒ‡å®šä¸€ä¸ªæ—¶é—´åˆ›å»ºä¸€ä¸ªTimerï¼ŒTimerä¸€ç»åˆ›å»ºä¾¿å¼€å§‹è®¡æ—¶ï¼Œä¸éœ€è¦é¢å¤–çš„å¯åŠ¨å‘½ä»¤func (t *Timer) Stop() bool // åœæ­¢è®¡æ—¶å™¨ï¼Œè¿”å›å€¼trueï¼šå®šæ—¶å™¨è¶…æ—¶å‰åœæ­¢ï¼Œ false: å®šæ—¶å™¨è¶…æ—¶ååœæ­¢func (t *Timer) Reset(d Duration) bool // åœæ‰å®šæ—¶å™¨ï¼Œå†å¯åŠ¨ï¼Œè¿”å›å€¼åŒä¸Šfunc After(d Duration) &lt;-chan Time // åˆ›å»ºåŒ¿åä¸éœ€æ§åˆ¶çš„è®¡æ—¶å™¨func AfterFunc(d Duration, f func()) *Timer // å»¶è¿Ÿæ–¹æ³•è°ƒç”¨ æ³¨ï¼šTimerä¸€ç»åˆ›å»ºä¾¿å¼€å§‹è®¡æ—¶ï¼Œä¸éœ€è¦é¢å¤–çš„å¯åŠ¨å‘½ä»¤ Ticker å‘¨æœŸæ€§å®šæ—¶å™¨ï¼šå®šæ—¶å™¨å‘¨æœŸæ€§è¿›è¡Œè®¡æ—¶ï¼Œé™¤éä¸»åŠ¨åœæ­¢ï¼Œå¦åˆ™å°†æ°¸ä¹…è¿è¡Œ 12func NewTicker(d Duration) *Ticker // æŒ‡å®šä¸€ä¸ªæ—¶é—´åˆ›å»ºä¸€ä¸ªTicker ï¼Œ Tickerä¸€ç»åˆ›å»ºä¾¿å¼€å§‹è®¡æ—¶ï¼Œä¸éœ€è¦é¢å¤–çš„å¯åŠ¨å‘½ä»¤func (t *Ticker) Stop() // åœæ­¢è®¡æ—¶ï¼Œä½†ç®¡é“ä¸ä¼šè¢«å…³é—­ å¹¶å‘å‡½æ•° WaitGroup WaitGroupæä¾›å¤šä¸ªåç¨‹åŒæ­¥ï¼ˆå¹³çº§ï¼‰çš„æœºåˆ¶ï¼Œç”¨æ¥ç­‰å¾…å¤šä¸ªåç¨‹å®Œæˆ ä¿¡å·é‡ï¼Œ Unixä¸­ä¿æŠ¤å…±äº«èµ„æºçš„æœºåˆ¶ï¼Œç”¨äºé˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®æŸä¸ªèµ„æº ä¿¡å·é‡&gt;0ï¼Œè¡¨ç¤ºèµ„æºå¯ç”¨ï¼Œè·å–ä¿¡å·é‡æ—¶ç³»ç»Ÿè‡ªåŠ¨å°†ä¿¡å·é‡å‡1 ä¿¡å·é‡==0æ—¶ï¼Œè¡¨ç¤ºèµ„æºæš‚ä¸å¯ç”¨ï¼Œè·å–ä¿¡å·é‡æ—¶ï¼Œå½“å‰çº¿ç¨‹ä¼šè¿›å…¥ç¡çœ ï¼Œå½“ä¿¡å·é‡ä¸ºæ­£æ—¶è¢«å”¤é†’ WaitGroup çš„æ–¹æ³• Add(delta int) æ·»åŠ ç­‰å¾…ä¿¡å·é‡ Done() é‡Šæ”¾ç­‰å¾…ä¿¡å·ï¼Œæ¯æ¬¡å‡å°‘1 Wait() é˜»å¡è°ƒç”¨è¯¥æ–¹æ³•çš„åç¨‹ï¼Œç›´åˆ°ç­‰å¾…ä¿¡å·é‡ä¸º0 12345678910111213141516func process(i int, wg *sync.WaitGroup) &#123; fmt.Println(\"started Goroutine \", i) time.Sleep(2 * time.Second) fmt.Printf(\"Goroutine %d ended\\n\", i) wg.Done() //goroutineæ‰§è¡Œç»“æŸåå°†ä¿¡å·é‡å‡1&#125;func main() &#123; var wg sync.WaitGroup for i := 0; i &lt; 3; i++ &#123; wg.Add(1) //å¢åŠ ä¿¡å·é‡ go process(i, &amp;wg) &#125; wg.Wait() //ä¸»goroutineé˜»å¡è°ƒç”¨è¯¥æ–¹æ³•çš„åç¨‹ï¼Œç›´åˆ°ç­‰å¾…ä¿¡å·é‡ä¸º0 fmt.Println(\"All go routines finished executing\")&#125; select å¤šè·¯å¤ç”¨æ˜¯åœ¨ä¸€ä¸ªä¿¡é“ä¸Šä¼ è¾“å¤šè·¯ä¿¡å·æˆ–æ•°æ®æµï¼Œæ¯”å¦‚ç½‘çº¿ select å€Ÿç”¨ç½‘ç»œå¤šè·¯å¤ç”¨çš„æ¦‚å¿µï¼Œç”¨äºç›‘å¬å¤šä¸ªé€šé“ï¼ŒåŒæ—¶å“åº”å¤šä¸ªé€šé“ å¤šä¸ªé€šé“éƒ½æ²¡æœ‰å¯å†™æˆ–å¯è¯»çš„çŠ¶æ€ï¼Œselect ä¼šé˜»å¡ æœ‰ä¸€ä¸ªé€šé“æ˜¯å¯å†™æˆ–å¯è¯»çš„ï¼Œ select ä¼šæ‰§è¡Œè¯¥é€šé“è¯­å¥ æœ‰å¤šä¸ªé€šé“æ˜¯å¯å†™æˆ–å¯è¯»çš„ï¼Œ select ä¼šéšæœºé€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ‰§è¡Œ 123456789101112131415161718192021222324func server1(ch chan string) &#123; time.Sleep(2 * time.Second) //å¯å–æ¶ˆ ch &lt;- \"from server1\"&#125;func server2(ch chan string) &#123; time.Sleep(3 * time.Second) //å¯å–æ¶ˆ ch &lt;- \"from server2\"&#125;func main() &#123; output1 := make(chan string) output2 := make(chan string) go server1(output1) go server2(output2) time.Sleep(1 * time.Second) var reply string select &#123; case reply = &lt;-output1: fmt.Println(reply) case reply = &lt;-output2: fmt.Println(reply) &#125;&#125; context WaitGroupç”¨æ¥æ§åˆ¶å¤šä¸ªå¹³çº§goroutineåŒæ—¶å®Œæˆ goroutineæœ¬èº«æ˜¯å¹³ç­‰çš„ï¼Œä½†é€»è¾‘ä¸Šå¯èƒ½æœ‰çˆ¶å­å…³ç³»ï¼Œcontext è¡¨ç¤ºç¨‹åºä¸Šä¸‹æ–‡ï¼Œæ˜¯ç¨‹åºçš„è¿è¡ŒçŠ¶æ€ï¼Œç”¨æ¥æ§åˆ¶å…·æœ‰é€»è¾‘çˆ¶å­å…³ç³»çš„å¤šä¸ªgoroutine Contextæ¥å£ 12345678910type Context interface &#123; //è¿”å›è¶…æ—¶æ—¶é—´å’Œæ˜¯å¦å·²è®¾ç½®è¶…æ—¶æ—¶é—´ Deadline() (deadline time.Time, ok bool) //è¿”å›ä¿¡é“ï¼Œå½“Contextè¢«æ’¤é”€æˆ–è¿‡æœŸæ—¶ï¼Œè¯¥ä¿¡é“æ˜¯å…³é—­çš„ Done() &lt;-chan struct&#123;&#125; //Doneä¿¡é“å…³é—­åï¼ŒErræ–¹æ³•è¡¨æ˜Contextè¢«æ’¤é”€çš„åŸå›  Err() error //åç¨‹é—´çš„æ•°æ®å…±äº« Value(key interface&#123;&#125;) interface&#123;&#125;&#125; context ä½¿ç”¨ ç”¨contextçš„æ ‘ç»“æ„æ¥ç»™å¹³ç­‰çš„goroutine è®¾ç½®çˆ¶å­é€»è¾‘ contextæ ‘çš„æ ¹èŠ‚ç‚¹é€šå¸¸æ˜¯ä¸€ä¸ªç©ºçš„context ,ç”±ç¬¬ä¸€ä¸ªgoroutineç”¨Background() å‡½æ•°åˆ›å»ºï¼Œè¯¥contextä¸èƒ½è¢«å–æ¶ˆã€æ²¡æœ‰å€¼ã€ä¹Ÿæ²¡æœ‰è¿‡æœŸæ—¶é—´ åˆ›å»ºå­èŠ‚ç‚¹ï¼š 12345678//å°†çˆ¶èŠ‚ç‚¹å¤åˆ¶åˆ°å­èŠ‚ç‚¹ï¼Œè¿”å›ä¸€ä¸ªå¯ä»¥ä¸»åŠ¨æ’¤é”€Contextçš„å‡½æ•°func WithCancel(parent Context) (ctx Context, cancel CancelFunc)//è¿‡æœŸæ—¶é—´ç”±deadlineå’Œparentçš„è¿‡æœŸæ—¶é—´å…±åŒå†³å®šï¼Œparentè¿‡æœŸæ—¶é—´ä¼˜å…ˆfunc WithDeadline(parent Context, deadline time.Time) (Context, CancelFunc)//ä¸WithDeadlineç±»ä¼¼ï¼Œåªä¸è¿‡ä¼ å…¥çš„æ˜¯ä»ç°åœ¨å¼€å§‹Contextå‰©ä½™çš„ç”Ÿå‘½æ—¶é•¿func WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc)//å°†çˆ¶èŠ‚ç‚¹å¤åˆ¶åˆ°å­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹å¯æ‰©å±•æ–°çš„keyå­˜å‚¨çš„å€¼func WithValue(parent Context, key interface&#123;&#125;, val interface&#123;&#125;) Context e.g. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455func HandelRequest(ctx context.Context) &#123; go WriteLog(ctx) go WriteDB(ctx) for &#123; select &#123; case &lt;-ctx.Done(): fmt.Println(\"è¯·æ±‚å¤„ç†å®Œæ¯•\") return default: fmt.Println(\"è¯·æ±‚å¤„ç†ä¸­â€¦â€¦\") time.Sleep(2 * time.Second) &#125; &#125;&#125;func WriteLog(ctx context.Context) &#123; for &#123; select &#123; case &lt;-ctx.Done(): fmt.Println(\"å†™æ—¥å¿—å®Œæˆ\") return default: fmt.Println(\"å†™æ—¥å¿—ä¸­â€¦â€¦\") time.Sleep(2 * time.Second) println(\"æ—¥å¿—ing\") &#125; &#125;&#125;func WriteDB(ctx context.Context) &#123; for &#123; select &#123; case &lt;-ctx.Done(): fmt.Println(\"å†™æ•°æ®åº“å®Œæˆ\") return default: fmt.Println(\"å†™æ•°æ®åº“ä¸­â€¦â€¦\") time.Sleep(2 * time.Second) &#125; &#125;&#125;func main() &#123; //WithCancel ä¸€æ—¦è§¦å‘è¯¥å­contextçš„cancel, é‚£ä¹ˆè¯¥contextç»‘å®šä¸Šçš„å­åç¨‹éƒ½ä¼šè¢«å…³é—­ /* ctx, cancel := context.WithCancel(context.Background()) go HandelRequest(ctx) time.Sleep(5 * time.Second) fmt.Println(\"æ‰€æœ‰å­åç¨‹éƒ½éœ€è¦ç»“æŸ!\") cancel() //Just for test whether sub goroutines exit or not time.Sleep(5 * time.Second) */ //WithTimeout å­contextä¼šåœ¨5såè¿‡æœŸ, æ‰€ä»¥å…¶æ‰§è¡Œçš„åç¨‹æœ€å¤šåªèƒ½è¿è¡Œ5sï¼Œç›¸å½“äºç»‘å®šäº†ä¸€ä¸ªå®šæ—¶å™¨ ctx, _ := context.WithTimeout(context.Background(), 5*time.Second) go HandelRequest(ctx) time.Sleep(10 * time.Second)&#125; æ³¨ï¼š å…³äºcontext.WithValueå’Œcontext.Valueçš„ä½¿ç”¨æ–¹å¼è§ï¼šhttps://blog.csdn.net/u012190809/article/details/107700495 mutex å¤šä¸ªçº¿ç¨‹åŒæ—¶ç«äº‰ä½¿ç”¨æŸä¸ªå˜é‡å¯èƒ½ä¼šå¯¼è‡´ç»“æœå¤±æ§ mutexï¼Œäº’æ–¥é”ï¼Œç”¨æ¥ä¿è¯æŸä¸ªå˜é‡åœ¨ä»»ä¸€æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—® mutex ç”¨Lock()å’ŒUnlock()æ¥åˆ›å»ºèµ„æºçš„ä¸´ç•ŒåŒºï¼Œè¿™ä¸€åŒºé—´å†…çš„ä»£ç æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä»»ä½•ä¸€ä¸ªæ—¶é—´ç‚¹éƒ½åªèƒ½æœ‰ä¸€ä¸ªgoroutineæ‰§è¡Œè¿™æ®µåŒºé—´çš„ä»£ç  mutex ä¹Ÿå¯ä»¥ç”¨é€šé“æ¥ä»£æ›¿ï¼ŒäºŒè€…æ— ä¼˜åŠ£ä¹‹åˆ†ï¼Œé€šå¸¸ä¸æ¶‰åŠçº¿ç¨‹äº¤äº’æ•°æ®çš„ç”¨mutexï¼Œå…¶ä»–ç”¨é€šé“ 1234567891011121314151617181920212223242526func increment(wg *sync.WaitGroup, m *sync.Mutex) &#123; m.Lock() x = x + 1 //é”å®šåè®¿é—®å…¨å±€å˜é‡ m.Unlock() wg.Done()&#125;// ç”¨Mutexå¯ä»¥ç”¨Chanä¸­è‡ªå¸¦çš„Mutexæ¥å®ç°äº’æ–¥func incrementByChan(wg *sync.WaitGroup, ch chan bool) &#123; ch &lt;- true x = x + 1 //é”å®šåè®¿é—®å…¨å±€å˜é‡ &lt;- ch wg.Done()&#125;func main() &#123; var w sync.WaitGroup // var m sync.Mutex ch := make(chan bool, 1) for i := 0; i &lt; 1000; i++ &#123; w.Add(1) // go increment(&amp;w, &amp;m) go incrementByChan(&amp;w, ch) &#125; w.Wait() fmt.Println(\"final value of x\", x) //ç»“æœç¡®å®š&#125; RWMutex RWMutexåœ¨Mutexçš„åŸºç¡€ä¹‹ä¸Šå¢åŠ äº†è¯»ã€å†™çš„ä¿¡å·é‡ï¼Œå¹¶ä½¿ç”¨äº†ç±»ä¼¼å¼•ç”¨è®¡æ•°çš„è¯»é”æ•°é‡ å¯ä»¥åŒæ—¶ç”³è¯·å¤šä¸ªè¯»é” æœ‰è¯»é”æ—¶ç”³è¯·å†™é”å°†é˜»å¡ åªè¦æœ‰å†™é”ï¼Œåç»­ç”³è¯·è¯»é”å’Œå†™é”éƒ½å°†é˜»å¡ ä¸»è¦æ–¹æ³•ï¼š 1234func (rw *RWMutex) Lock() //ç”³è¯·å†™é”func (rw *RWMutex) Unlock() //é‡Šæ”¾å†™é”func (rw *RWMutex) RLock() //ç”³è¯·è¯»é”func (rw *RWMutex) RUnlock()//é‡Šæ”¾è¯»é” e.g. 12345678910111213141516171819202122232425262728func main() &#123; var wg sync.WaitGroup var rm sync.RWMutex wg.Add(2) go func() &#123; time.Sleep(20 * time.Millisecond) for i := 0; i &lt; 1000; i++ &#123; rm.Lock() j++ fmt.Printf(\"Write lock %d\\n\", j) rm.Unlock() &#125; wg.Done() &#125;() go func() &#123; time.Sleep(18 * time.Millisecond) for i := 0; i &lt; 1000; i++ &#123; rm.RLock() k++ //fmt.Printf(\"Read lock %d\\n\", j) fmt.Printf(\"Read lock %d\\n\", k) rm.RUnlock() &#125; wg.Done() &#125;() wg.Wait()&#125; Cond ï¼ˆ condition æ¡ä»¶å˜é‡ï¼‰ äº’æ–¥é”ä¿è¯åœ¨åŒä¸€æ—¶åˆ»ä»…æœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®æŸä¸€ä¸ªå…±äº«æ•°æ® æ¡ä»¶å˜é‡åœ¨å…±äº«æ•°æ®çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé€šçŸ¥å…¶ä»–å› æ­¤è€Œè¢«é˜»å¡çš„çº¿ç¨‹ æ¡ä»¶å˜é‡éœ€è¦ç”¨äº’æ–¥é”æ¥åˆ›å»º ä¸»è¦æ–¹æ³•ï¼š 12345678910// å®ä¾‹åŒ–ä¸€ä¸ªå¸¦æœ‰Lockerçš„Condå˜é‡func NewCond(l Locker) *Cond//Unlock()-&gt;é˜»å¡ç­‰å¾…é€šçŸ¥(ç­‰å¾…Signal()æˆ–Broadcast()çš„é€šçŸ¥)-&gt;æ”¶åˆ°é€šçŸ¥-&gt;Lock()func (c *Cond) Wait()//æ¿€æ´»æ‰§è¡ŒWait()çš„é€šçŸ¥é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªåç¨‹func (c *Cond) Signal()//æ¿€æ´»æ‰§è¡ŒWait()çš„é€šçŸ¥é˜Ÿåˆ—æ‰€æœ‰åç¨‹ func (c *Cond) Broadcast()//ä½¿ç”¨å†…ç½®çš„äº’æ–¥é”cond.L.Lock()å’Œcond.L.Unlock() e.g. 12345678910111213141516171819202122232425var locker = new(sync.Mutex)var cond = sync.NewCond(locker)func main() &#123; for i := 0; i &lt; 5; i++ &#123; go func(x int) &#123; cond.L.Lock() // wait å‰ï¼Œå¿…é¡»è¦å…ˆåŠ é” defer cond.L.Unlock() //ä¿éšœé‡Šæ”¾èµ„æº cond.Wait() fmt.Println(x) time.Sleep(time.Second * 1) &#125;(i) &#125; time.Sleep(time.Second * 1) fmt.Println(\"Signal....\") cond.Signal() // ä¸‹å‘ä¸€ä¸ªé€šçŸ¥ç»™å·²ç»è·å–é”çš„goroutine time.Sleep(time.Second * 3) fmt.Println(\"Signal....\") cond.Signal() // 3 ç§’ä¹‹åï¼Œä¸‹å‘ä¸€ä¸ªé€šçŸ¥ç»™å·²ç»è·å–é”çš„goroutine time.Sleep(time.Second * 3) fmt.Println(\"Broadcast...\") cond.Broadcast() // 3 ç§’ä¹‹åï¼Œä¸‹å‘é€šçŸ¥ç»™æ‰€æœ‰å·²ç»è·å–é”çš„goroutine time.Sleep(time.Second * 3)&#125; é™„ï¼š è¯­è¨€è®¾è®¡æ€æƒ³ ä¿è¯åªæœ‰ä¸€ç§å†™æ³• å°‘å³æ˜¯å¤š GO ä¸æ”¯æŒclass ,ä½¿ç”¨ç»“æ„ä»£æ›¿ç±»ï¼Œç»“æ„å­—æ®µç”¨æ¥å°è£…å¯¹è±¡å±æ€§ï¼Œæ–¹æ³•ç”¨æ¥å°è£…å¯¹è±¡çš„è¡Œä¸º ç”¨ç±»å‹ç»„åˆæ¥å®ç°ç»§æ‰¿ å¤šæ€ï¼šGoä¸­åªè¦ç»“æ„ä½“å®ç°äº†æ¥å£çš„éƒ¨åˆ†æ–¹æ³•ï¼Œå°±å¯ä»¥é€šè¿‡æ¥å£æŒ‡å‘è¯¥ç»“æ„ä½“ï¼Œå¹¶ä¸”ä½¿ç”¨è¢«å®ç°çš„æ–¹æ³•ã€‚å› æ­¤ï¼Œå¯ä»¥çœ‹åˆ°Goçš„ä»£ç ä¸­å‡½æ•°ä¼ å‚å¾ˆå¤šéƒ½æ˜¯æ¥å£ï¼Œä½†çœŸæ­£ä½¿ç”¨çš„æ—¶å€™ä¼ å…¥çš„æ˜¯å®ç°äº†è¯¥æ¥å£çš„structï¼Œè¿™å°±æ˜¯Goä¸­å¤šæ€æç°çš„ä¸€ä¸ªä¾‹å­ã€‚ new å’Œ makeåŒºåˆ« newå’Œmakeæ˜¯å†…å»ºçš„ä¸¤ä¸ªå‡½æ•°ï¼Œä¸»è¦ç”¨æ¥åœ¨å †ä¸Šåˆ›å»ºåˆ†é…ç±»å‹çš„å†…å­˜ newç”¨äºæ™®é€šç±»å‹çš„å†…å­˜åˆ†é…ï¼Œå†…å­˜æ¸…é›¶ï¼Œè¿”å›è¯¥ç±»å‹æŒ‡é’ˆ makeï¼ˆä¸“é—¨ï¼‰ç”¨äºsliceã€mapä»¥åŠchannelçš„åˆå§‹åŒ–ï¼Œè¿”å›å¼•ç”¨ golangä¸­åˆ†ä¸ºå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ å€¼ç±»å‹åˆ†åˆ«æœ‰ï¼šintç³»åˆ—ã€floatç³»åˆ—ã€boolã€stringã€æ•°ç»„å’Œç»“æ„ä½“ å¼•ç”¨ç±»å‹æœ‰ï¼šæŒ‡é’ˆã€sliceåˆ‡ç‰‡ã€ç®¡é“channelã€æ¥å£interfaceã€mapã€å‡½æ•°ç­‰ å€¼ç±»å‹çš„ç‰¹ç‚¹æ˜¯ï¼šå˜é‡ç›´æ¥å­˜å‚¨å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨æ ˆä¸­åˆ†é… å¼•ç”¨ç±»å‹çš„ç‰¹ç‚¹æ˜¯ï¼šå˜é‡å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€å¯¹åº”çš„ç©ºé—´é‡Œæ‰æ˜¯çœŸæ­£å­˜å‚¨çš„å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨å †ä¸­åˆ†é… é—®é¢˜ Goä¸­å¼•ç”¨ç±»å‹æœ‰å“ªäº›ï¼Ÿ åœ¨ Go è¯­è¨€ä¸­ï¼Œå¼•ç”¨ç±»å‹æœ‰ åˆ‡ç‰‡ (slice) ã€ å­—å…¸ (map) ã€ æ¥å£ (interface) ã€ å‡½æ•° (func) ä»¥åŠ é€šé“ (chan) ã€‚ å¼•ç”¨ç±»å‹ä¹‹æ‰€ä»¥å¯ä»¥å¼•ç”¨ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åˆ›å»ºå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œå…¶å®æ˜¯ä¸€ä¸ªæ ‡å¤´å€¼ï¼Œæ ‡å¤´å€¼é‡ŒåŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘åº•å±‚çš„æ•°æ®ç»“æ„ï¼Œå½“æˆ‘ä»¬åœ¨å‡½æ•°ä¸­ä¼ é€’å¼•ç”¨ç±»å‹æ—¶ï¼Œå…¶å®ä¼ é€’çš„æ˜¯è¿™ä¸ªæ ‡å¤´å€¼çš„å‰¯æœ¬ï¼Œå®ƒæ‰€æŒ‡å‘çš„åº•å±‚ç»“æ„å¹¶æ²¡æœ‰è¢«å¤åˆ¶ä¼ é€’ï¼Œè¿™ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹ä¼ é€’é«˜æ•ˆçš„åŸå› ã€‚ æ³¨ï¼šç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ä¸æ˜¯å¼•ç”¨ç±»å‹===&gt;æ‰€ä»¥å‡½æ•°ä¼ å‚çš„æ—¶å€™éƒ½ä¼ çš„æ˜¯åœ°å€ï¼Œå½¢å‚éƒ½æ˜¯æŒ‡é’ˆç±»å‹ã€‚And: å¼•ç”¨ç±»å‹ä¸æ”¯æŒ==è¿ç®—ç¬¦ï¼Œæ— æ³•ç›´æ¥æ¯”è¾ƒ æ€»ç»“ï¼šGoä¸­è§„å®šçš„å¼•ç”¨ç±»å‹å°±5ä¸ªï¼šåˆ‡ç‰‡ (slice) ã€ å­—å…¸ (map) ã€ æ¥å£ (interface) ã€ å‡½æ•° (func) ä»¥åŠ é€šé“ (chan)ï¼Œä½†ä¼ å‚ä¸ºè¿™å‡ ä¸ªç±»å‹çš„æ—¶å€™ï¼Œä¸éœ€è¦ä¼ æŒ‡é’ˆï¼Œç›´æ¥ç”¨ç›¸åº”çš„ç±»å‹å³å¯ã€‚ è¯¾ä¸Šè®­ç»ƒé¢˜ è‡ªå®šä¹‰æ’åº æ ‡å‡†åº“çš„ sort åŒ…é‡‡ç”¨çš„æ˜¯å¿«é€Ÿæ’åº è¯·æ¨¡ä»¿å…¶å®ç°ï¼ŒåŸºäºSorter æ¥å£å®ç°å†’æ³¡æ’åº è¯·æŒ‰å¦‚ä¸‹è¦æ±‚è®¾è®¡åç¨‹äº¤äº’ä»£ç  åç¨‹ä¸€éšæœºç»™å‡º0~100çš„æ•° åç¨‹äºŒçŒœåç¨‹ä¸€çš„æ•°ï¼ŒçŒœä¸­çš„è¯åç¨‹ä¸€è¿”å›ä¿¡å·0ï¼Œç»“æŸç¨‹åºï¼›çŒœå°äº†åç¨‹ä¸€è¿”å›ä¿¡å·-1ï¼ŒçŒœå¤§äº†åç¨‹ä¸€è¿”å›ä¿¡å·1ï¼Œç»§ç»­çŒœ æ‰“å°çŒœæ•°è¿‡ç¨‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package ggimport ( \"fmt\" \"math/rand\" \"time\") var up = 100 var down = 0 var last = -1 func guest(ch chan int)&#123; for &#123; signn := &lt;- ch fmt.Printf(\"åç¨‹å¾—åˆ°çš„sign: %v\\n\", signn) var ths int switch signn&#123; case -1: // down ~ last down = last ths = rand.Intn(up - down) + down fmt.Printf(\"åç¨‹éšæœºåˆ°çš„ths: %v\\n\", ths) ch &lt;- ths last = ths case 1: // last ~ up up = last ths = rand.Intn(up-down) + down fmt.Printf(\"åç¨‹éšæœºåˆ°çš„ths: %v\\n\", ths) ch &lt;- ths last = ths default: break &#125; &#125; &#125; func main() &#123; rand.Seed(time.Now().UnixNano()) num := rand.Intn(100) fmt.Printf(\"éšæœºåˆ°çš„æ•°ä¸º: %v\\n\", num) ch := make(chan int, 1) ch &lt;- -1 var n int go guest(ch) for &#123; n = &lt;- ch fmt.Printf(\"ä¸»çº¿ç¨‹å¾—åˆ°æ•°å€¼ä¸º%v\\n\", n) if ( n == num )&#123; ch &lt;- 0 fmt.Printf(\"åç¨‹çŒœä¸­å•¦, æ•°å€¼ä¸º%v\\n\", n) break &#125;else if (n &lt; num)&#123; ch &lt;- -1 &#125;else if (n&gt; num)&#123; ch &lt;- 1 &#125; &#125; &#125; Goå¤ä¹ é¢˜ç›®ï¼š Go è¯­è¨€ç¬”è¯•é¢è¯•é¢˜(åŸºç¡€è¯­æ³•)â€”â€”åŸºç¡€çŸ¥è¯†é¢˜ â˜…GOè¯­è¨€æµ‹è¯•é¢˜ åŒå­¦æ¨èçš„GoæŒ‡å—â€”â€”å¯ä»¥æ ¹æ®æ¦‚å¿µå®ç°åšç‚¹é¢˜ è€ƒè¯•ä¸­å®¹æ˜“å‡ºçš„å‘é¢˜ï¼š â–²ä¸ C ä¸åŒçš„æ˜¯ï¼ŒGo åœ¨ä¸åŒç±»å‹çš„é¡¹ä¹‹é—´èµ‹å€¼æ—¶éœ€è¦æ˜¾å¼è½¬æ¢ â–²ä¸ C ä¸åŒï¼ŒGo æ²¡æœ‰æŒ‡é’ˆè¿ç®—ã€‚ å®¹æ˜“è¸©çš„å‘ï¼š nil æ˜¯ interfaceã€functionã€pointerã€mapã€slice å’Œ channel ç±»å‹å˜é‡çš„é»˜è®¤åˆå§‹å€¼ã€‚ å…è®¸å¯¹å€¼ä¸º nil çš„ slice æ·»åŠ å…ƒç´ ï¼Œä½†å¯¹å€¼ä¸º nil çš„ mapæ·»åŠ å…ƒç´ åˆ™ä¼šé€ æˆè¿è¡Œæ—¶ panic string ç±»å‹çš„å˜é‡å€¼ä¸èƒ½ä¸º nil ==&gt; string çš„é›¶å€¼ä¸º&quot;&quot; è®¿é—® map ä¸­ä¸å­˜åœ¨çš„ keyï¼ŒGoä¸­è¿”å›çš„æ˜¯é›¶å€¼ï¼Œè€Œä¸æ˜¯æŠ¥é”™ rangeåè¿­ä»£å¯¹è±¡ï¼šæ•°ç»„ã€é€šé“ã€stringã€map æ•°ç»„ï¼šfor i, v := range arrï¼Œiä¸ºç´¢å¼•ï¼Œvä¸ºarr[i]çš„å€¼ é€šé“ï¼šfor data := ch, dataä¸ºæ•°æ® range è¿­ä»£ string å¾—åˆ°çš„å€¼: range å¾—åˆ°çš„ç´¢å¼•æ˜¯å­—ç¬¦å€¼ï¼ˆUnicode point / runeï¼‰ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ä½ç½®ï¼Œä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸åŒï¼Œè¿™ä¸ªç´¢å¼•å¹¶ä¸ç›´æ¥æ˜¯å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ã€‚ æ³¨æ„ä¸€ä¸ªå­—ç¬¦å¯èƒ½å å¤šä¸ª runeï¼Œæ¯”å¦‚æ³•æ–‡å•è¯ cafÃ© ä¸­çš„ Ã©ã€‚æ“ä½œç‰¹æ®Šå­—ç¬¦å¯ä½¿ç”¨norm åŒ…ã€‚ for range è¿­ä»£ä¼šå°è¯•å°† string ç¿»è¯‘ä¸º UTF8 æ–‡æœ¬ï¼Œå¯¹ä»»ä½•æ— æ•ˆçš„ç ç‚¹éƒ½ç›´æ¥ä½¿ç”¨ 0XFFFD runeï¼ˆï¿½ï¼‰UNicode æ›¿ä»£å­—ç¬¦æ¥è¡¨ç¤ºã€‚å¦‚æœ string ä¸­æœ‰ä»»ä½•é UTF8 çš„æ•°æ®ï¼Œåº”å°† string ä¿å­˜ä¸º byte slice å†è¿›è¡Œæ“ä½œã€‚ range è¿­ä»£ map å¦‚æœä½ å¸Œæœ›ä»¥ç‰¹å®šçš„é¡ºåºï¼ˆå¦‚æŒ‰ key æ’åºï¼‰æ¥è¿­ä»£ mapï¼Œè¦æ³¨æ„æ¯æ¬¡è¿­ä»£éƒ½å¯èƒ½äº§ç”Ÿä¸ä¸€æ ·çš„ç»“æœã€‚ Go çš„è¿è¡Œæ—¶æ˜¯æœ‰æ„æ‰“ä¹±è¿­ä»£é¡ºåºçš„ï¼Œæ‰€ä»¥ä½ å¾—åˆ°çš„è¿­ä»£ç»“æœå¯èƒ½ä¸ä¸€è‡´ã€‚ä½†ä¹Ÿå¹¶ä¸æ€»ä¼šæ‰“ä¹±ï¼Œå¾—åˆ°è¿ç»­ç›¸åŒçš„ 5 ä¸ªè¿­ä»£ç»“æœä¹Ÿæ˜¯å¯èƒ½çš„ å¦‚æœä½ å» Go Playground é‡å¤è¿è¡Œä¸Šè¾¹çš„ä»£ç ï¼Œè¾“å‡ºæ˜¯ä¸ä¼šå˜çš„ï¼Œåªæœ‰ä½ æ›´æ–°ä»£ç å®ƒæ‰ä¼šé‡æ–°ç¼–è¯‘ã€‚ string ä¸ byte slice ä¹‹é—´çš„è½¬æ¢ï¼šGo åœ¨ string ä¸ byte slice ç›¸äº’è½¬æ¢ä¸Šä¼˜åŒ–äº†ä¸¤ç‚¹ï¼Œé¿å…äº†é¢å¤–çš„å†…å­˜åˆ†é…ï¼š åœ¨ map[string] ä¸­æŸ¥æ‰¾ key æ—¶ï¼Œä½¿ç”¨äº†å¯¹åº”çš„ []byteï¼Œé¿å…åš m[string(key)] çš„å†…å­˜åˆ†é… ä½¿ç”¨ for range è¿­ä»£ string è½¬æ¢ä¸º []byte çš„è¿­ä»£ï¼šfor i,v := range []byte(str) {â€¦} åœ¨å¤šè¡Œ arrayã€sliceã€map è¯­å¥çš„æœ«å°¾ç¼ºå°‘ , å· switch ä¸­çš„ fallthrough è¯­å¥ï¼šswitch è¯­å¥ä¸­çš„ case ä»£ç å—ä¼šé»˜è®¤å¸¦ä¸Š breakï¼Œä½†å¯ä»¥ä½¿ç”¨ fallthrough æ¥å¼ºåˆ¶æ‰§è¡Œä¸‹ä¸€ä¸ª case ä»£ç å—ã€‚ &lt;=ç­‰ä»·äº=&gt;æ”¹å†™æˆ case ä¸ºå¤šæ¡ä»¶åˆ¤æ–­ï¼š è‡ªå¢å’Œè‡ªå‡è¿ç®—ï¼š Go ç‰¹ç«‹ç‹¬è¡Œï¼Œå»æ‰äº†å‰ç½®æ“ä½œï¼ŒåŒæ—¶ ++ã€-- åªä½œä¸ºè¿ç®—ç¬¦è€Œéè¡¨è¾¾å¼ã€‚ ä¸å¯¼å‡ºçš„ struct å­—æ®µæ— æ³•è¢« encodeã€‚ä»¥å°å†™å­—æ¯å¼€å¤´çš„å­—æ®µæˆå‘˜æ˜¯æ— æ³•è¢«å¤–éƒ¨ç›´æ¥è®¿é—®çš„ï¼Œæ‰€ä»¥ struct åœ¨è¿›è¡Œ jsonã€xmlã€gob ç­‰æ ¼å¼çš„ encode æ“ä½œæ—¶ï¼Œè¿™äº›ç§æœ‰å­—æ®µä¼šè¢«å¿½ç•¥ï¼Œå¯¼å‡ºæ—¶å¾—åˆ°é›¶å€¼ï¼š Goç¨‹åºé»˜è®¤ä¸ç­‰æ‰€æœ‰ goroutine éƒ½æ‰§è¡Œå®Œæ‰é€€å‡º å¸¸ç”¨è§£å†³åŠæ³•ï¼šä½¿ç”¨ â€œWaitGroupâ€ å˜é‡ï¼Œå®ƒä¼šè®©ä¸»ç¨‹åºç­‰å¾…æ‰€æœ‰ goroutine æ‰§è¡Œå®Œæ¯•å†é€€å‡ºã€‚ å‘å·²å…³é—­çš„ channel å‘é€æ•°æ®ä¼šé€ æˆ panic åœ¨ä¸€ä¸ªå€¼ä¸º nil çš„ channel ä¸Šå‘é€å’Œæ¥æ”¶æ•°æ®å°†æ°¸ä¹…é˜»å¡ï¼š â–²è‹¥å‡½æ•° receiver ä¼ å‚æ˜¯ä¼ å€¼æ–¹å¼ï¼Œåˆ™æ— æ³•ä¿®æ”¹å‚æ•°çš„åŸæœ‰å€¼ ä»ä¸€ä¸ªç°æœ‰çš„é interface ç±»å‹åˆ›å»ºæ–°ç±»å‹æ—¶ï¼Œå¹¶ä¸ä¼šç»§æ‰¿åŸæœ‰çš„æ–¹æ³•ï¼š è·³å‡º for-switch å’Œ for-select ä»£ç å—ï¼šæ²¡æœ‰æŒ‡å®šæ ‡ç­¾çš„ break åªä¼šè·³å‡º switch/select è¯­å¥ï¼Œè‹¥ä¸èƒ½ä½¿ç”¨ return è¯­å¥è·³å‡ºçš„è¯ï¼Œå¯ä¸º break è·³å‡ºæ ‡ç­¾æŒ‡å®šçš„ä»£ç å—ï¼š Goé‡Œé¢æœ‰ä¸¤ä¸ªä¿ç•™çš„å‡½æ•°ï¼šinitå‡½æ•°ï¼ˆèƒ½å¤Ÿåº”ç”¨äºæ‰€æœ‰çš„packageï¼‰å’Œmainå‡½æ•°ï¼ˆåªèƒ½åº”ç”¨äºpackage mainï¼‰ å¯¹Sliceä½¿ç”¨appendï¼Œå½“é•¿åº¦è¶…å‡ºæ—¶ä¼šè¿”å›æ–°çš„Sliceï¼Œå› æ­¤æ— æ³•åœ¨é€’å½’çš„æ—¶å€™ä¸èƒ½ç›´æ¥ä¼ å¼•ç”¨å¯¹è±¡ï¼Œè€Œæ˜¯éœ€è¦ä¼ æŒ‡é’ˆ*[]intæŒ‡é’ˆï¼Œå¹¶ä¸”åœ¨appendçš„æ—¶å€™æ”¹æˆ*ans = append(*ans, root.Val) è§Leetcode94æ ‘çš„ä¸­å±‚éå†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445func inorderTraversal(root *TreeNode) []int &#123; if root == nil &#123; return []int&#123;&#125; &#125; ans := []int&#123;&#125; OrderTravel(root, &amp;ans) return ans&#125;/**å¦‚æœansä¸ä¼ æŒ‡é’ˆï¼Œè€Œæ˜¯ç›´æ¥ans []intä¼ å‚ï¼Œå…³æ³¨ansåœ°å€å˜åŒ–ï¼Œè¾“å‡ºåœ°å€å¾—åˆ°ï¼šappendå‰:0xc000004078appendå:0xc000004078appendå‰:0xc0000040c0appendå:0xc0000040c0appendå‰:0xc0000040a8appendå:0xc0000040a8*/func OrderTravel(root *TreeNode, ans *[]int)&#123; if root == nil &#123; return &#125; OrderTravel(root.Left, ans) *ans = append(*ans, root.Val) OrderTravel(root.Right, ans)&#125;/** ä¿®æ”¹æˆä¼ æŒ‡é’ˆåansçš„åœ°å€å°±å§‹ç»ˆæ˜¯ä¸€è‡´çš„äº†appendå‰: 0xc000004078appendå: 0xc000004078appendå‰: 0xc000004078appendå: 0xc000004078appendå‰: 0xc000004078appendå: 0xc000004078*/func main() &#123; root := &amp;TreeNode&#123; Val: 1, Left: nil, Right: &amp;TreeNode&#123; Val: 2, Left: &amp;TreeNode&#123;Val: 3&#125;, &#125;, &#125; res := inorderTraversal(root) fmt.Println(res)&#125; fromï¼šGolangæ–°æ‰‹å¯èƒ½ä¼šè¸©çš„50ä¸ªå‘","categories":[],"tags":[{"name":"Go","slug":"Go","permalink":"https://nymrli.top/tags/Go/"},{"name":"è€ƒè¯•","slug":"è€ƒè¯•","permalink":"https://nymrli.top/tags/è€ƒè¯•/"}]},{"title":"k8sä¹‹kube-proxyæºç åˆ†æ","slug":"k8sä¹‹kube-proxyæºç åˆ†æ","date":"2021-10-26T12:15:52.000Z","updated":"2022-03-29T12:52:47.391Z","comments":true,"path":"2021/10/26/k8sä¹‹kube-proxyæºç åˆ†æ/","link":"","permalink":"https://nymrli.top/2021/10/26/k8sä¹‹kube-proxyæºç åˆ†æ/","excerpt":"","text":"kubernetes ç®€å•ä»‹ç» èƒŒæ™¯ä»‹ç» Kubernetesæœ€åˆæºäºè°·æ­Œå†…éƒ¨çš„Borgï¼Œæä¾›äº†é¢å‘åº”ç”¨çš„å®¹å™¨é›†ç¾¤éƒ¨ç½²å’Œç®¡ç†ç³»ç»Ÿï¼Œç›®å‰ä¸ºä¸»æµçš„å¾®æœåŠ¡åº”ç”¨ç¼–æ’ç®¡ç†å·¥å…·ã€‚ Kubernetesçš„ç›®æ ‡æ—¨åœ¨æ¶ˆé™¤ç¼–æ’ç‰©ç†/è™šæ‹Ÿè®¡ç®—ã€ç½‘ç»œå’Œå­˜å‚¨åŸºç¡€è®¾æ–½çš„è´Ÿæ‹…ï¼Œå¹¶ä½¿åº”ç”¨ç¨‹åºè¿è¥å•†å’Œå¼€å‘äººå‘˜å®Œå…¨å°†é‡ç‚¹æ”¾åœ¨ä»¥å®¹å™¨ä¸ºä¸­å¿ƒçš„åŸç†ä¸Šè¿›è¡Œè‡ªåŠ©è¿è¥ã€‚ Kuberneteså…·å¤‡å®Œå–„çš„é›†ç¾¤ç®¡ç†èƒ½åŠ›ï¼ŒåŒ…æ‹¬å¤šå±‚æ¬¡çš„å®‰å…¨é˜²æŠ¤å’Œå‡†å…¥æœºåˆ¶ã€å¤šç§Ÿæˆ·åº”ç”¨æ”¯æ’‘èƒ½åŠ›ã€é€æ˜çš„æœåŠ¡æ³¨å†Œå’ŒæœåŠ¡å‘ç°æœºåˆ¶ã€å†…å»ºè´Ÿè½½å‡è¡¡å™¨ã€æ•…éšœå‘ç°å’Œè‡ªæˆ‘ä¿®å¤èƒ½åŠ›ã€æœåŠ¡æ»šåŠ¨å‡çº§å’Œåœ¨çº¿æ‰©å®¹ã€å¯æ‰©å±•çš„èµ„æºè‡ªåŠ¨è°ƒåº¦æœºåˆ¶ã€å¤šç²’åº¦çš„èµ„æºé…é¢ç®¡ç†èƒ½åŠ›ã€‚ Borgæ˜¯è°·æ­Œå†…éƒ¨çš„å¤§è§„æ¨¡é›†ç¾¤ç®¡ç†ç³»ç»Ÿï¼Œè´Ÿè´£å¯¹è°·æ­Œå†…éƒ¨å¾ˆå¤šæ ¸å¿ƒæœåŠ¡çš„è°ƒåº¦å’Œç®¡ç†ã€‚Borgçš„ç›®çš„æ˜¯è®©ç”¨æˆ·èƒ½å¤Ÿä¸å¿…æ“å¿ƒèµ„æºç®¡ç†çš„é—®é¢˜ï¼Œä»è€Œæ›´ä¸“æ³¨äºè‡ªå·±çš„æ ¸å¿ƒä¸šåŠ¡ã€‚Borgç”šè‡³èƒ½åšåˆ°è·¨å¤šä¸ªæ•°æ®ä¸­å¿ƒçš„èµ„æºåˆ©ç”¨ç‡æœ€å¤§åŒ–ã€‚ æ¶æ„è®¾è®¡ Kuberneteså±äºä¸»ä»åˆ†å¸ƒå¼æ¶æ„ï¼Œä¸»è¦ç”±Masterå’ŒNodeç»„æˆï¼Œä»¥åŠåŒ…æ‹¬å®¢æˆ·ç«¯å‘½ä»¤è¡Œå·¥å…·kubectlå’Œå…¶å®ƒé™„åŠ é¡¹ã€‚ Masterï¼šä½œä¸ºæ§åˆ¶èŠ‚ç‚¹ï¼Œå¯¹é›†ç¾¤æ‰€æœ‰å·¥ä½œèŠ‚ç‚¹Nodeè¿›è¡Œè°ƒåº¦ç®¡ç†ï¼›ç”±kube-apiServerã€kube-schedulerã€kube-controller-managerå’Œetcdç»„æˆã€‚ Nodeï¼šä½œä¸ºå·¥ä½œèŠ‚ç‚¹ï¼Œè¿è¡Œä¸šåŠ¡åº”ç”¨çš„å®¹å™¨ï¼›ç”±kubeletã€kube-proxyå’Œdockerï¼ˆç›®å‰ä»æ˜¯ä¸»æµçš„è¿è¡Œæ—¶ï¼‰ç»„æˆã€‚ ä»£ç æ•´ä½“åˆ†æ ç›®å½•åˆ†æ é€šè¿‡git cloneä¸‹æ¥æœ€æ–°çš„K8Sä»£ç åï¼Œç›®å‰v1.22.2ç‰ˆæœ¬çš„ä»£ç ç»“æ„é€šè¿‡treeå‘½ä»¤å¯çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516.â”œâ”€â”€ api â”œâ”€â”€ buildâ”œâ”€â”€ CHANGELOGâ”œâ”€â”€ clusterâ”œâ”€â”€ cmdâ”œâ”€â”€ docsâ”œâ”€â”€ hackâ”œâ”€â”€ LICENSESâ”œâ”€â”€ logoâ”œâ”€â”€ pkgâ”œâ”€â”€ pluginâ”œâ”€â”€ stagingâ”œâ”€â”€ testâ”œâ”€â”€ third_partyâ””â”€â”€ vendor k8sçš„ç¨‹åºå…¥å£éƒ½åœ¨cmdç›®å½•ä¸‹é¢ï¼Œæ ¸å¿ƒé€»è¾‘éƒ½åœ¨pkgç›®å½•ä¸‹é¢ã€‚è¿™ä¹ˆåšçš„å¥½å¤„æ˜¯æŠŠç¨‹åºå…¥å£å’Œé€»è¾‘åˆ†å¼€ï¼Œå› ä¸ºç¨‹åºå…¥å£åªåšäº†ä¸€äº›æœ€ç®€å•çš„è°ƒç”¨ï¼Œå…·ä½“é€»è¾‘æ˜¯æ¨¡å—åŒ–çš„ç±»åº“ï¼Œå³å¢å¼ºäº†ç¨‹åºçš„å¯è¯»æ€§ï¼Œä¹Ÿä¾¿äºä¸€äººè´Ÿè´£ä¸€ä¸ªæ¨¡å—å¤šäººäº’ç›¸åä½œï¼Œè¿™ä¸€ç‚¹åœ¨å¤§å‹é¡¹ç›®ä¸­éå¸¸é‡è¦ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°pkgç›®å½•ä¸‹é¢æœ‰å¾ˆå¤šå­ç›®å½•ï¼Œæ¯ä¸€ä¸ªå­ç›®å½•éƒ½åŒ…å«äº†ä¸€ä¸ªé‡è¦çš„ç»„ä»¶ã€‚ proxyæºç ç›®å½•ç»“æ„åˆ†æ è¦å­¦ä¹ ä¸€ä»½é¡¹ç›®ä»£ç ï¼Œé™¤äº†å­¦ä¹ å…¶å®ç°çš„åŸç†å¤–ï¼Œå…¶ä»£ç çš„ç»„ç»‡ç»“æ„ä¹Ÿæ˜¯éå¸¸æœ‰å€Ÿé‰´å’Œå­¦ä¹ ä»·å€¼çš„ï¼Œå¹¶ä¸”å…ˆçœ‹æ˜ç™½ç›®å½•ç»“æ„æ›´æœ‰åŠ©äºæˆ‘ä»¬æ£€ç´¢æƒ³è¦é˜…è¯»çš„ä»£ç æ®µã€‚ cmd/kube-proxyç›®å½•è´Ÿè´£kube-proxyçš„åˆ›å»ºï¼Œæ˜¯å¯åŠ¨çš„å…¥å£ 123456789101112.â”œâ”€â”€ appâ”‚ â”œâ”€â”€ conntrack.go // å…¨å±€sysctlçš„ä¸€ä¸ªæ¥å£, å„ç§sysctlå­—æ®µçš„æè¿°å’Œè¾…åŠ©æ–¹æ³•å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°â”‚ â”œâ”€â”€ init_others.go // åˆ¤æ–­Cliå‚æ•°ä¸­OS, å¹¶æ ¹æ®ç»“æœè¿›è¡Œè®¾ç½®é Win OSé…ç½®å‚æ•°â”‚ â”œâ”€â”€ init_windows.go // åˆ¤æ–­Cliå‚æ•°ä¸­OS, å¹¶æ ¹æ®ç»“æœè¿›è¡Œè®¾ç½®é…ç½®Win OSå‚æ•°â”‚ â”œâ”€â”€ server.go //Optionsã€ProxyServer ç»“æ„å®šä¹‰åŠå…¶åˆ›å»º(NewProxyServerDefault)å’Œè¿è¡Œ(Run)çš„æ–¹æ³•ã€‚â”‚ â”œâ”€â”€ server_others.go // éWin OSä¸‹çš„ NewProxyServerå®ç°ï¼Œåˆ›å»ºå¥½åŒ¹é… ProxyMode çš„ProxyServerâ”‚ â”œâ”€â”€ server_others_test.goâ”‚ â”œâ”€â”€ server_test.goâ”‚ â””â”€â”€ server_windows.go // Win OSä¸‹çš„ NewProxyServer å®ç°ï¼Œåˆ›å»ºå¥½åŒ¹é… ProxyMode çš„ProxyServerâ”œâ”€â”€ OWNERSâ””â”€â”€ proxy.go //kube-proxyçš„å…¥å£æ–‡ä»¶ï¼Œæä¾›mainæ–¹æ³•, é€šè¿‡NewProxyCommand()äº§ç”ŸCobra.Commandå‘½ä»¤ pkg/proxyæ˜¯kube-proxyæ ¸å¿ƒå®ç°çš„ä»£ç ç›®å½•ï¼Œé€šè¿‡tree -L 3å±•ç¤ºå…¶3å±‚æ·±åº¦çš„ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤º 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101.â”œâ”€â”€ apisâ”‚ â”œâ”€â”€ configâ”‚ â”‚ â”œâ”€â”€ doc.goâ”‚ â”‚ â”œâ”€â”€ fuzzerâ”‚ â”‚ â”œâ”€â”€ OWNERSâ”‚ â”‚ â”œâ”€â”€ register.goâ”‚ â”‚ â”œâ”€â”€ register_test.goâ”‚ â”‚ â”œâ”€â”€ schemeâ”‚ â”‚ â”œâ”€â”€ types.goâ”‚ â”‚ â”œâ”€â”€ v1alpha1â”‚ â”‚ â”œâ”€â”€ validationâ”‚ â”‚ â””â”€â”€ zz_generated.deepcopy.goâ”‚ â””â”€â”€ well_known_labels.goâ”œâ”€â”€ configâ”‚ â”œâ”€â”€ api_test.goâ”‚ â”œâ”€â”€ config.go //å®šä¹‰ServiceUpdate,EndpointUpdateç»“æ„ä½“ä»¥åŠServiceConfigHandler,EndpointConfigHandleræ¥å¤„ç†Serviceå’ŒEndpointçš„Updateâ”‚ â”œâ”€â”€ config_test.goâ”‚ â”œâ”€â”€ doc.goâ”‚ â””â”€â”€ OWNERSâ”œâ”€â”€ doc.goâ”œâ”€â”€ endpoints.go // å®šä¹‰äº†åŸºç¡€çš„BaseEndpointsï¼Œ å®ç°äº† endpoints çš„æ›´æ–°ä¸ç»´æŠ¤â”œâ”€â”€ endpointslicecache.go // endpointsç¼“å­˜å®ç°â”œâ”€â”€ endpointslicecache_test.goâ”œâ”€â”€ endpoints_test.goâ”œâ”€â”€ healthcheck // å¥åº·æ£€æŸ¥, è´Ÿè´£service listenerå’Œendpointçš„health checkï¼Œadd/deleteè¯·æ±‚ã€‚â”‚ â”œâ”€â”€ common.goâ”‚ â”œâ”€â”€ doc.goâ”‚ â”œâ”€â”€ healthcheck_test.goâ”‚ â”œâ”€â”€ proxier_health.goâ”‚ â””â”€â”€ service_health.goâ”œâ”€â”€ iptables //proxy modeä¸º iptables çš„å®ç°â”‚ â”œâ”€â”€ OWNERSâ”‚ â”œâ”€â”€ proxier.goâ”‚ â””â”€â”€ proxier_test.goâ”œâ”€â”€ ipvs //proxy modeä¸º ipvs çš„å®ç°â”‚ â”œâ”€â”€ graceful_termination.goâ”‚ â”œâ”€â”€ graceful_termination_test.goâ”‚ â”œâ”€â”€ ipset.goâ”‚ â”œâ”€â”€ ipset_test.goâ”‚ â”œâ”€â”€ netlink.goâ”‚ â”œâ”€â”€ netlink_linux.goâ”‚ â”œâ”€â”€ netlink_unsupported.goâ”‚ â”œâ”€â”€ OWNERSâ”‚ â”œâ”€â”€ proxier.goâ”‚ â”œâ”€â”€ proxier_test.goâ”‚ â”œâ”€â”€ README.mdâ”‚ â”œâ”€â”€ safe_ipset.goâ”‚ â””â”€â”€ testingâ”‚ â”œâ”€â”€ fake.goâ”‚ â”œâ”€â”€ fake_test.goâ”‚ â””â”€â”€ util.goâ”œâ”€â”€ metaproxierâ”‚ â””â”€â”€ meta_proxier.goâ”œâ”€â”€ metricsâ”‚ â””â”€â”€ metrics.goâ”œâ”€â”€ OWNERSâ”œâ”€â”€ service.goâ”œâ”€â”€ service_test.goâ”œâ”€â”€ topology.go // å®ç°å¯¹ Endpoint çš„è·¯ç”±è¿‡æ»¤ï¼šæä¾›FilterLocalEndpointã€FilterEndpointsä¸¤ä¸ªæ–¹æ³•â”œâ”€â”€ topology_test.goâ”œâ”€â”€ types.go // ServicePortã€Endpoint é‡è¦æ¥å£å®šä¹‰â”œâ”€â”€ userspace // proxy modeä¸º userspace çš„å®ç°â”‚ â”œâ”€â”€ loadbalancer.goâ”‚ â”œâ”€â”€ OWNERSâ”‚ â”œâ”€â”€ port_allocator.goâ”‚ â”œâ”€â”€ port_allocator_test.goâ”‚ â”œâ”€â”€ proxier.goâ”‚ â”œâ”€â”€ proxier_test.goâ”‚ â”œâ”€â”€ proxysocket.goâ”‚ â”œâ”€â”€ rlimit.goâ”‚ â”œâ”€â”€ rlimit_windows.goâ”‚ â”œâ”€â”€ roundrobin.goâ”‚ â””â”€â”€ roundrobin_test.goâ”œâ”€â”€ utilâ”‚ â”œâ”€â”€ endpoints.goâ”‚ â”œâ”€â”€ endpoints_test.goâ”‚ â”œâ”€â”€ iptablesâ”‚ â”‚ â”œâ”€â”€ traffic.goâ”‚ â”‚ â””â”€â”€ traffic_test.goâ”‚ â”œâ”€â”€ network.goâ”‚ â”œâ”€â”€ testingâ”‚ â”‚ â””â”€â”€ fake.goâ”‚ â”œâ”€â”€ utils.goâ”‚ â””â”€â”€ utils_test.goâ”œâ”€â”€ winkernel // Win OSä¸‹çš„Kernelå®ç°â”‚ â”œâ”€â”€ hns_test.goâ”‚ â”œâ”€â”€ hnsV1.goâ”‚ â”œâ”€â”€ hnsV2.goâ”‚ â”œâ”€â”€ metrics.goâ”‚ â”œâ”€â”€ OWNERSâ”‚ â”œâ”€â”€ proxier.goâ”‚ â””â”€â”€ proxier_test.goâ””â”€â”€ winuserspace // ç³»ç»Ÿä¸ºwindows OSæ—¶ï¼Œproxy modeä¸º userspace çš„å®ç° â”œâ”€â”€ loadbalancer.go â”œâ”€â”€ proxier.go â”œâ”€â”€ proxier_test.go â”œâ”€â”€ proxysocket.go â”œâ”€â”€ roundrobin.go â”œâ”€â”€ roundrobin_test.go â””â”€â”€ types.go kube-proxyåˆ†æ kube-proxyæ˜¯ç®¡ç†serviceçš„è®¿é—®å…¥å£ï¼Œå®ç°Kubenetes Serviceé€šä¿¡ä¸è´Ÿè½½å‡è¡¡æœºåˆ¶ï¼Œæä¾›äº†é›†ç¾¤å†…Podå¯¹Serviceçš„è®¿é—®å’Œé›†ç¾¤å¤–è®¿é—®serviceçš„æ–¹å¼ã€‚å½“ç”¨æˆ·åˆ›å»º service çš„æ—¶å€™ï¼ŒendpointController ä¼šæ ¹æ®service çš„ selector æ‰¾åˆ°å¯¹åº”çš„ podï¼Œç„¶åç”Ÿæˆ endpoints å¯¹è±¡ä¿å­˜åˆ° etcd ä¸­ã€‚è¿è¡Œåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„Kube-proxyä¼šé€šè¿‡api-server è·å¾—etcd ä¸­ Serviceå’ŒEndpointsçš„å˜åŒ–ä¿¡æ¯ï¼Œå¹¶è°ƒç”¨ kube-proxy é…ç½®çš„ä»£ç†æ¨¡å¼æ¥æ›´æ–°ä¸»æœºä¸Šçš„iptables è½¬å‘è§„åˆ™ï¼Œé€šè¿‡ä¿®æ”¹iptablesè§„åˆ™ä»è€Œæ”¹å˜æŠ¥æ–‡çš„æµå‘ï¼Œè®©é›†ç¾¤ä¸­æœåŠ¡è§£æã€‚ä»è€Œå®ç°äº†å°†ä¸šåŠ¡è¯·æ±‚è¿æ¥åˆ°Serviceåå…·ä½“çš„æ‰§è¡Œç»“ç‚¹ï¼ˆendpointsï¼‰ã€‚ æ¥ä¸‹æ¥æˆ‘å°†ä¼šä»¥iptables ä»£ç†æ¨¡å¼ä¸ºä¾‹,å¯¹proxy çš„åŠŸèƒ½å®ç°è¿›è¡Œåˆ†æã€‚åŸºäºiptablesæ¨¡å¼çš„kube-proxyçš„ä¸»è¦èŒè´£åŒ…æ‹¬ä¸¤å¤§å—ï¼šä¸€æ˜¯ä¾¦å¬serviceæ›´æ–°äº‹ä»¶ï¼Œå¹¶æ›´æ–°serviceç›¸å…³çš„iptablesè§„åˆ™ï¼›äºŒæ˜¯ä¾¦å¬endpointæ›´æ–°äº‹ä»¶ï¼Œæ›´æ–°endpointç›¸å…³çš„iptablesè§„åˆ™ã€‚ åˆ†æç›®æ ‡ å¸¦ç€é—®é¢˜çœ‹ä»£ç èƒ½æ”¶è·çš„å†…å®¹æ›´å¤šï¼Œå› æ­¤åœ¨æ­¤ï¼Œæˆ‘ä»¬åœ¨å¿ƒé‡Œä¿ç•™ä¸¤ä¸ªé—®é¢˜ï¼š kube-proxyå¦‚ä½•è®©é›†ç¾¤å†…èŠ‚ç‚¹æ— æ³•pingé€šclusterIPçš„ï¼Ÿ ä¸ºä»€ä¹ˆé›†ç¾¤å†…èŠ‚ç‚¹å¯ä»¥é€šè¿‡ClusterIP:Portå½¢å¼è®¿é—®æœåŠ¡ï¼›é›†ç¾¤å¤–å¯ä»¥é€šè¿‡NodeIP:NodePortå½¢å¼è®¿é—®åˆ°æœåŠ¡ å¥½äº†ï¼Œæ˜ç¡®äº†ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜åå°±è®©æˆ‘ä»¬æ¥è®©ä»£ç å§ é‡è¦ç»“æ„ä½“è¯´æ˜ kubernetes/cmd/proxy-server/app/server.goä½œä¸ºcmd/kube-proxyå…¥å£çš„çœŸæ­£æ‰§è¡Œæ–‡ä»¶ï¼Œä¸»è¦æ˜¯å›´ç»•ProxyServerå’Œä¸¤ä¸ªç»“æ„ä½“è¿›è¡Œäº†ä¸€ç³»åˆ—åˆå§‹åŒ–èµ‹å€¼çš„æ“ä½œã€‚å› æ­¤ï¼Œé’ˆå¯¹è¿™ä¸¤ä¸ªç»“æ„ä½“ï¼Œæˆ‘ä»¬éœ€è¦è¯¦ç»†äº†è§£ä¸‹æœ‰ä»€ä¹ˆå†…å®¹ ProxyServer ProxyServer ç»“æ„ä½“ä¸­å®šä¹‰çš„å±æ€§ä»£è¡¨äº†kube-proxy server è¿è¡Œæ—¶éœ€è¦çš„æ‰€æœ‰å˜é‡ã€‚kube-proxy server è°ƒç”¨çš„æ–¹æ³•å‡æ¥è¯¥ç»“æ„ä½“å†…å˜é‡æ‹¥æœ‰çš„æ–¹æ³•ã€‚ 12345678910111213141516171819202122232425type ProxyServer struct &#123; Client clientset.Interface EventClient v1core.EventsGetter IptInterface utiliptables.Interface // æ¥å£ä¸­å®šä¹‰äº†æ›´æ–°iptables çš„æ–¹æ³•é›†åˆï¼Œå¦‚DeleteChian,DeleteRule, EnsureChain,EnsureRule IpvsInterface utilipvs.Interface // å®šä¹‰æ“ä½œ ipvs çš„æ–¹æ³•é›† IpsetInterface utilipset.Interface //å®šä¹‰äº†æ“ä½œ ipset çš„æ–¹æ³•é›† execer exec.Interface // å®šä¹‰åŒ…è£…os/execåº“ä¸­Command, Commandcontext, LookPathæ–¹æ³•çš„æ¥å£ Proxier proxy.ProxyProvider //Proxier æœ‰äº”ç§å®ç°æ–¹å¼ï¼Œåˆ†åˆ«å¯¹åº”Linuxç¯å¢ƒä¸­ä¸‰ç§çš„ä»£ç†æ¨¡å¼å’ŒWindowsç¯å¢ƒä¸‹çš„ä¸‰ç§çš„ä»£ç†æ¨¡å¼ Broadcaster record.EventBroadcaster //æ¥å—Eventï¼Œäº¤äºå„ä¸ªå¤„ç†å‡½æ•°è¿›è¡Œå¤„ç† Recorder record.EventRecorder // Event è®°å½•è€… ConntrackConfiguration kubeproxyconfig.KubeProxyConntrackConfiguration Conntracker Conntracker // if nil, ignored ProxyMode string NodeRef *v1.ObjectReference CleanupAndExit bool CleanupIPVS bool MetricsBindAddress string //127.0.0.1:10249 http prometheus metrics port; EnableProfiling bool OOMScoreAdj *int32 //é€šè¿‡ä¸€ä¸ªæ•°å€¼ç”¨æ¥è¡¨å¾è¿›ç¨‹å½“å‘ç”ŸOOMæ—¶ç³»ç»Ÿå¯¹è¯¥è¿›ç¨‹çš„è¡Œä¸º ResourceContainer string ConfigSyncPeriod time.Duration //Default 15m0s ServiceEventHandler config.ServiceHandler // EndpointsEventHandler config.EndpointsHandler // HealthzServer *healthcheck.HealthzServer // 0.0.0.0:10256 http healthz port;&#125; æ ¹æ®æºä»£ç çš„æ³¨é‡Šæé†’ï¼Œä»¥ä¸Šæ•°æ®æˆå‘˜éƒ½æ˜¯å¿…é¡»æœ‰å€¼çš„ã€‚ Options kubeå„ç»„ä»¶ä¸­éƒ½ä»¥Optionsç»“æ„ä½“æä¾›é…ç½®å‚æ•°ï¼Œkube-schedulerä¸­åˆ›å»ºäº†ä¸“é—¨çš„optionsç›®å½•ä»¥åŠoptions.goæ–‡ä»¶ï¼Œkube-proxyä¸­ç›´æ¥å°†å…¶æ”¾åœ¨äº†cmd/app/server.goä¸­ 1234567891011121314151617/** Optionsä¸­è®°å½•äº†åˆ›å»ºå’Œè¿è¡ŒproxyæœåŠ¡å™¨æ‰€éœ€çš„ä¸€åˆ‡ */type Options struct &#123; ConfigFile string // è®°å½•äº†proxyæœåŠ¡å™¨é…ç½®æ–‡ä»¶çš„ä½ç½® WriteConfigTo string // é»˜è®¤é…ç½®å°†è¢«å†™å…¥çš„è·¯å¾„ã€‚ CleanupAndExit bool // å½“CleanupAndExitä¸ºçœŸæ—¶ï¼ŒproxyæœåŠ¡å™¨å°†ä¼šæ¸…ç†iptableså’Œipvsè§„åˆ™ï¼Œç„¶åé€€å‡ºã€‚ WindowsService bool // kube-proxyæ˜¯å¦åœ¨Windowsä¸Šä½œä¸ºä¸€ä¸ªæœåŠ¡è¿è¡Œï¼Œå…¶å¯¹åº”çš„æ ‡å¿—åªåœ¨Windowsæ„å»ºä¸­è¢«æ³¨å†Œ config *kubeproxyconfig.KubeProxyConfiguration // proxyæœåŠ¡å™¨çš„é…ç½®å¯¹è±¡ï¼Œæ–¹ä¾¿è¿è¡Œæ—¶è¯»å–é…ç½® watcher filesystem.FSWatcher // ç”¨äºè§‚å¯ŸConfigFileçš„æ›´æ–°å˜åŒ–ã€‚ proxyServer proxyRun // å¯åŠ¨proxyæœåŠ¡å™¨çš„æ¥å£ errCh chan error // å‘é€é”™è¯¯çš„é€šé“ // ä¸‹é¢çš„å­—æ®µæ˜¯å ä½ç¬¦ï¼Œä¸èƒ½ç›´æ¥æ˜ å°„åˆ° config.KubeProxyConfiguration. // TODO remove these fields once the deprecated flags are removed. master string // masterç”¨äºè¦†ç›–kubeconfigå¯¹apiserverçš„URLã€‚ healthzPort int32 // healthz æœåŠ¡å™¨çš„ç«¯å£ metricsPort int32 // metrics æœåŠ¡å™¨çš„ç«¯å£ hostnameOverride string // å¦‚æœä»å‘½ä»¤è¡Œæ ‡å¿—ä¸­è®¾ç½®è¯¥å€¼ï¼Œåˆ™å°†ä¼˜å…ˆäºé…ç½®æ–‡ä»¶ä¸­çš„`HostnameOverride`å€¼ã€‚&#125; Proxier åœ¨æ¯ä¸€ç§ä»£ç†æ¨¡å¼ä¸‹ï¼Œéƒ½å®šä¹‰äº†è‡ªå·±çš„Proxier ç»“æ„ä½“ï¼Œè¯¥ç»“æ„ä½“åŠæ–¹æ³•å®ç°äº†è¯¥æ¨¡å¼ä¸‹çš„ä»£ç†è§„åˆ™çš„æ›´æ–°æ–¹æ³•ã€‚åœ¨Iptables æ¨¡å¼ä¸‹ï¼Œkubernetes/pkg/proxy/iptables/proxier.goæ–‡ä»¶ä¸­Proxier ç»“æ„ä½“çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š kubernetes/pkg/proxy/iptables/proxier.go 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364type Proxier struct &#123; // the ipfamily on which this proxy is operating on. ipFamily v1.IPFamily //EndpointChangeTrackerä¸­itemså±æ€§ä¸ºä¸€ä¸ªä¸¤çº§map,ç”¨æ¥ä¿å­˜æ‰€æœ‰namespace ä¸‹endpoints çš„å˜åŒ–ä¿¡æ¯ã€‚ //ç¬¬ä¸€çº§mapä»¥ types.NamespacedName ä¸ºé”®ï¼Œvalue å€¼ä¸ºè¯¥namespaceä¸‹æ‰€æœ‰endpoints æ›´æ–°å‰ï¼ˆprevious)ã€å(current)çš„ä¿¡æ¯ï¼šå‰ã€åä¿¡æ¯åˆ†åˆ«ä¸ºä¸€ä¸ªmap ,å³ç¬¬äºŒçº§map: ServiceMapã€‚ //ç¬¬äºŒçº§mapçš„keyä¸ºServicePortName ç»“æ„ï¼Œ[]Endpointä¸ºå€¼, æ ‡è®°endpoints å¯¹åº”çš„serviceï¼Œvalueä¸ºendpointä¿¡æ¯ã€‚ // EndpointChangeTracker ä¸­å®ç°äº†æ›´æ–° endpoint çš„æ–¹æ³• endpointsChanges *proxy.EndpointChangeTracker serviceChanges *proxy.ServiceChangeTracker // åŒç†ï¼ŒServiceChangeTracker ä¸­ä½¿ç”¨ä¸€ä¸ªä¸¤çº§mapä¿å­˜æ‰€æœ‰namespace ä¸‹çš„serviceçš„å˜åŒ–ä¿¡æ¯ï¼Œå¹¶å®šä¹‰äº†æ›´æ–°serviceçš„æ–¹æ³• // äº’æ–¥é”ï¼Œä¿æŠ¤ä¸‹åˆ—å­—æ®µ mu sync.Mutex serviceMap proxy.ServiceMap // åŒserviceChanges çš„ç¬¬äºŒçº§ map ç»“æ„ï¼Œè®°å½•äº†æ‰€æœ‰namespaceä¸‹éœ€è¦æ›´æ–°iptablesè§„åˆ™çš„service endpointsMap proxy.EndpointsMap // åŒendpointsChanges çš„ç¬¬äºŒçº§ map ç»“æ„ï¼Œè®°å½•äº†æ‰€æœ‰namespace éœ€è¦æ›´æ–°iptablesè§„åˆ™çš„endpoints portsMap map[utilproxy.LocalPort]utilproxy.Closeable endpointsSynced bool // Proxier åˆå§‹åŒ–æ—¶ä¸ºFalse servicesSynced bool // Proxier åˆå§‹åŒ–æ—¶ä¸ºFalse initialized int32 syncRunner *async.BoundedFrequencyRunner // async.BoundedFrequencyRunner å…·æœ‰QPSåŠŸèƒ½ï¼Œæ§åˆ¶è¢«æ‰˜ç®¡æ–¹æ³•çš„å‘ç”Ÿé€Ÿç‡ // These are effectively const and do not need the mutex to be held. syncPeriod time.Duration minSyncPeriod time.Duration // Values are CIDR's to exclude when cleaning up IPVS rules. excludeCIDRs []*net.IPNet // Set to true to set sysctls arp_ignore and arp_announce strictARP bool iptables utiliptables.Interface // iptables çš„æ‰§è¡Œå™¨ï¼Œå®šä¹‰äº† Iptables çš„æ“ä½œæ–¹æ³• ipvs utilipvs.Interface // iptables çš„æ‰§è¡Œå™¨ï¼Œå®šä¹‰äº† IPVS çš„æ“ä½œæ–¹æ³• ipset utilipset.Interface exec utilexec.Interface masqueradeAll bool masqueradeMark string localDetector proxyutiliptables.LocalTrafficDetector hostname string nodeIP net.IP portMapper netutils.PortOpener // å·²æ‰“å¼€çš„UDPæˆ–TCPç«¯å£ recorder events.EventRecorder // äº‹ä»¶è®°å½•è€… serviceHealthServer healthcheck.ServiceHealthServer healthzServer healthcheck.ProxierHealthUpdater ipvsScheduler string // Added as a member to the struct to allow injection for testing. ipGetter IPGetter // The following buffers are used to reuse memory and avoid allocations // that are significantly impacting performance. iptablesData *bytes.Buffer filterChainsData *bytes.Buffer natChains *bytes.Buffer filterChains *bytes.Buffer natRules *bytes.Buffer filterRules *bytes.Buffer // Added as a member to the struct to allow injection for testing. netlinkHandle NetLinkHandle // ipsetList is the list of ipsets that ipvs proxier used. ipsetList map[string]*IPSet // Values are as a parameter to select the interfaces which nodeport works. nodePortAddresses []string // networkInterfacer defines an interface for several net library functions. // Inject for test purpose. networkInterfacer utilproxy.NetworkInterfacer gracefuldeleteManager *GracefulTerminationManager&#125; ç¨‹åºå¯åŠ¨è¿‡ç¨‹ ä»CLIå‘½ä»¤æ¥æ”¶å‚æ•°è¾“å…¥çš„å…¥å£åˆ‡å…¥ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªä»åˆå§‹åŒ–åˆ°æœåŠ¡å¯åŠ¨çš„å®Œæ•´çš„æµç¨‹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110// Step1. å‘½ä»¤å…¥å£func NewProxyCommand() *cobra.Command &#123; // åˆ›å»ºç©ºçš„Optionsç»“æ„ä½“å¯¹è±¡ opts := NewOptions() // åˆ›å»ºkube-proxyå‘½ä»¤ï¼Œå¹¶å®šä¹‰æ‰§è¡Œå‡½æ•° cmd := &amp;cobra.Command&#123; Use: \"kube-proxy\", Long: `The Kubernetes network proxy runs on each node. Thisreflects services as defined in the Kubernetes API on each node and can do simpleTCP, UDP, and SCTP stream forwarding or round robin TCP, UDP, and SCTP forwarding across a set of backends.Service cluster IPs and ports are currently found through Docker-links-compatibleenvironment variables specifying ports opened by the service proxy. There is an optionaladdon that provides cluster DNS for these cluster IPs. The user must create a servicewith the apiserver API to configure the proxy.`, Run: func(cmd *cobra.Command, args []string) &#123; verflag.PrintAndExitIfRequested() cliflag.PrintFlags(cmd.Flags()) if err := initForOS(opts.WindowsService); err != nil &#123; klog.ErrorS(err, \"Failed OS init\") // ACTION REQUIRED: Exit code changed from 255 to 1 os.Exit(1) &#125; if err := opts.Complete(); err != nil &#123; klog.ErrorS(err, \"Failed complete\") // ACTION REQUIRED: Exit code changed from 255 to 1 os.Exit(1) &#125; if err := opts.Validate(); err != nil &#123; klog.ErrorS(err, \"Failed validate\") // ACTION REQUIRED: Exit code changed from 255 to 1 os.Exit(1) &#125; // Optionsç»“æ„ä½“åˆå§‹åŒ–å®Œæˆå, æ ¹æ®é…ç½®å¯åŠ¨proxy server if err := opts.Run(); err != nil &#123; klog.ErrorS(err, \"Error running ProxyServer\") os.Exit(1) &#125; &#125;, Args: func(cmd *cobra.Command, args []string) error &#123; for _, arg := range args &#123; if len(arg) &gt; 0 &#123; return fmt.Errorf(\"%q does not take any arguments, got %q\", cmd.CommandPath(), args) &#125; &#125; return nil &#125;, &#125; var err error // ä¸ºoptså¯¹è±¡ä¸­çš„è®°å½•è¿è¡Œæ—¶é…ç½®çš„configå¯¹è±¡è¿›è¡Œé»˜è®¤åˆå§‹åŒ– opts.config, err = opts.ApplyDefaults(opts.config) if err != nil &#123; klog.ErrorS(err, \"Unable to create flag defaults\") // ACTION REQUIRED: Exit code changed from 255 to 1 os.Exit(1) &#125; // æ¥æ”¶å‘½ä»¤FlagSet fs := cmd.Flags() // å¢åŠ Flagå‚æ•° opts.AddFlags(fs) fs.AddGoFlagSet(goflag.CommandLine) // for --boot-id-file and --machine-id-file // å¯¹ä»¥ä¸‹æ–‡ä»¶ç±»å‹è¿›è¡Œå‘½ä»¤è¡¥å…¨æç¤º _ = cmd.MarkFlagFilename(\"config\", \"yaml\", \"yml\", \"json\") return cmd&#125;// Step2. â‘ å®Œå–„Optionsä¸­çš„Configè¿è¡Œæ—¶é…ç½®å¯¹è±¡ï¼›â‘¡å¯åŠ¨å…·ä½“çš„ProxyServer.func (o *Options) Run() error &#123; defer close(o.errCh) if len(o.WriteConfigTo) &gt; 0 &#123; return o.writeConfigFile() &#125; // åˆ›å»ºProxyServer proxyServer, err := NewProxyServer(o) if err != nil &#123; return err &#125; // å¦‚æœå‚æ•°ä¸ºçœŸ, åˆ™æ¸…ç†iptableså’Œipvsè§„åˆ™ï¼Œç„¶åé€€å‡ºã€‚ if o.CleanupAndExit &#123; return proxyServer.CleanupAndExit() &#125; o.proxyServer = proxyServer return o.runLoop()&#125;// Step3. runLoopé˜»å¡å¾ªç¯å°†ä¸æ–­ä¾¦å¬proxy serveré…ç½®æ–‡ä»¶çš„æ›´æ–°å˜åŒ–ã€‚func (o *Options) runLoop() error &#123; // å¦‚æœæœ‰ç›‘å¬å™¨çš„è¯å¯åŠ¨ç›‘å¬å™¨ if o.watcher != nil &#123; o.watcher.Run() &#125; // å¦èµ·åç¨‹è¿è¡Œproxy server go func() &#123; err := o.proxyServer.Run() o.errCh &lt;- err &#125;() // whileå¾ªç¯ç­‰å¾…, å¹¶é€šè¿‡o.errChé˜»å¡ï¼Œå¦‚æœé”™è¯¯é€šé“ä¸­è¯»å–åˆ°å¼‚å¸¸åˆ™é€€å‡ºç¨‹åº for &#123; err := &lt;-o.errCh if err != nil &#123; return err &#125; &#125;&#125; ProxyServeråˆ›å»ºè¿‡ç¨‹ cmd/kube-proxy/app/server_others.goä¸­æ ¹æ®Optionsä¸­å·²åˆå§‹åŒ–å¥½çš„å‚æ•°åˆ›å»ºProxyServerå®ä¾‹ï¼Œå…¶ä¸­ä¼šæ ¹æ®getProxyMode(string(config.Mode), canUseIPVS, iptables.LinuxKernelCompatTester{})æ¥ç¡®å®šå…·ä½“ä½¿ç”¨å“ªä¸ªproxierå®ä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244// åˆ›å»ºProxyServerå¯¹è±¡func NewProxyServer(o *Options) (*ProxyServer, error) &#123; return newProxyServer(o.config, o.CleanupAndExit, o.master)&#125;func newProxyServer( config *proxyconfigapi.KubeProxyConfiguration, cleanupAndExit bool, master string) (*ProxyServer, error) &#123; if config == nil &#123; return nil, errors.New(\"config is required\") &#125; if c, err := configz.New(proxyconfigapi.GroupName); err == nil &#123; c.Set(config) &#125; else &#123; return nil, fmt.Errorf(\"unable to register configz: %s\", err) &#125; var iptInterface utiliptables.Interface var ipvsInterface utilipvs.Interface var kernelHandler ipvs.KernelHandler var ipsetInterface utilipset.Interface // åˆ›å»ºiptableså·¥å…·ï¼ŒåŒ…è£…äº†os/execä¸­çš„command,LookPath,CommandContext æ–¹æ³•ï¼Œç»„è£…ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨çš„å‘½ä»¤å’Œå‚æ•° execer := exec.New() kernelHandler = ipvs.NewLinuxKernelHandler() // å¾—åˆ°æ“ä½œ ipset çš„æ–¹æ³•é›†æ¥å£ ipsetInterface = utilipset.New(execer) // åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨IPVSæ¨¡å¼, IPVSåœ¨ä¸€å®šæ¡ä»¶ä¸‹ä¼šè¢«é€€åŒ–æˆiptables canUseIPVS, err := ipvs.CanUseIPVSProxier(kernelHandler, ipsetInterface, config.IPVS.Scheduler) if string(config.Mode) == proxyModeIPVS &amp;&amp; err != nil &#123; klog.ErrorS(err, \"Can't use the IPVS proxier\") &#125; if canUseIPVS &#123; ipvsInterface = utilipvs.New(execer) &#125; // We omit creation of pretty much everything if we run in cleanup mode if cleanupAndExit &#123; return &amp;ProxyServer&#123; execer: execer, IpvsInterface: ipvsInterface, IpsetInterface: ipsetInterface, &#125;, nil &#125; if len(config.ShowHiddenMetricsForVersion) &gt; 0 &#123; metrics.SetShowHidden() &#125; // ä»è¿è¡Œæ—¶é…ç½®ä¸­å¾—åˆ°hostname hostname, err := utilnode.GetHostname(config.HostnameOverride) if err != nil &#123; return nil, err &#125; // ä»ç»™å®šçš„é…ç½®ä¸­åˆ›å»ºä¸apiserverç›¸åŒ¹é…çš„kubeå®¢æˆ·ç«¯å’Œeventå®¢æˆ·ç«¯ã€‚ client, eventClient, err := createClients(config.ClientConnection, master) if err != nil &#123; return nil, err &#125; // å¾—åˆ°proxy serverä½¿ç”¨çš„NodeIP nodeIP := detectNodeIP(client, hostname, config.BindAddress) klog.InfoS(\"Detected node IP\", \"address\", nodeIP.String()) // Create event recorder //EventBroadcasterä¼šå°†æ”¶åˆ°çš„Eventäº¤äºå„ä¸ªå¤„ç†å‡½æ•°è¿›è¡Œå¤„ç†ã€‚æ¥æ”¶Eventçš„ç¼“å†²é˜Ÿåˆ—é•¿ä¸º1000ï¼Œä¸åœåœ°å–èµ°Eventå¹¶å¹¿æ’­ç»™å„ä¸ªwatcher; //watcheré€šè¿‡recordEvent()æ–¹æ³•å°†Eventå†™å…¥å¯¹åº”çš„EventSinké‡Œï¼Œæœ€å¤§é‡è¯•æ¬¡æ•°ä¸º12æ¬¡ï¼Œé‡è¯•é—´éš”éšæœºç”Ÿæˆ(è§staging/src/k8s.io/client-go/tools/record/event.go); // EnventSink å°†åœ¨ProxyServer.Run() ä¸­è°ƒç”¨s.Broadcaster.StartRecordingToSinkï¼ˆï¼‰ ä¼ è¿›æ¥; // NewBroadcaster() æœ€åä¼šå¯åŠ¨ä¸€ä¸ªgoroutine è¿è¡ŒLoop æ–¹æ³•ï¼ˆstaging/src/k8s.io/apimachinery/pkg/watch/mux.go) eventBroadcaster := events.NewBroadcaster(&amp;events.EventSinkImpl&#123;Interface: client.EventsV1()&#125;) //EventRecorderé€šè¿‡generateEvent()å®é™…ç”Ÿæˆå„ç§Eventï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç›‘è§†é˜Ÿåˆ—ã€‚ recorder := eventBroadcaster.NewRecorder(scheme.Scheme, \"kube-proxy\") // è·å¾—èŠ‚ç‚¹Node nodeRef := &amp;v1.ObjectReference&#123; Kind: \"Node\", Name: hostname, UID: types.UID(hostname), Namespace: \"\", &#125; var healthzServer healthcheck.ProxierHealthUpdater if len(config.HealthzBindAddress) &gt; 0 &#123; //æœåŠ¡å¥åº·æ£€æŸ¥çš„ IP åœ°å€å’Œç«¯å£(IPv4é»˜è®¤ä¸º0.0.0.0:10256ï¼Œå¯¹äºæ‰€æœ‰ IPv6 æ¥å£è®¾ç½®ä¸º ::) healthzServer = healthcheck.NewProxierHealthServer(config.HealthzBindAddress, 2*config.IPTables.SyncPeriod.Duration, recorder, nodeRef) &#125; // å£°æ˜proxieræ¥å£, æ˜¯kube-proxy workçš„çœŸæ­£å®ç°ç±» var proxier proxy.Provider var detectLocalMode proxyconfigapi.LocalMode // å¾—åˆ°ä»£ç†æ¨¡å¼ï¼Œæœ‰ä¸‰ç§: Userspaceã€IPTablesã€IPVS; æ³¨ï¼šIPVSå¯èƒ½ä¼šé€€åŒ–æˆIPTables, IPTablesä¹Ÿå¯èƒ½é€€åŒ–æˆUserspace proxyMode := getProxyMode(string(config.Mode), canUseIPVS, iptables.LinuxKernelCompatTester&#123;&#125;) // é€‰æ‹©CIDRæ¨¡å¼ï¼Œç›®å‰æœ‰ä¸¤ç§: NodeCIDRã€ClusterCIDR detectLocalMode, err = getDetectLocalMode(config) if err != nil &#123; return nil, fmt.Errorf(\"cannot determine detect-local-mode: %v\", err) &#125; // å£°æ˜èŠ‚ç‚¹ä¿¡æ¯ var nodeInfo *v1.Node if detectLocalMode == proxyconfigapi.LocalModeNodeCIDR &#123; klog.InfoS(\"Watching for node, awaiting podCIDR allocation\", \"hostname\", hostname) nodeInfo, err = waitForPodCIDR(client, hostname) if err != nil &#123; return nil, err &#125; klog.InfoS(\"NodeInfo\", \"PodCIDR\", nodeInfo.Spec.PodCIDR, \"PodCIDRs\", nodeInfo.Spec.PodCIDRs) &#125; klog.V(2).InfoS(\"DetectLocalMode\", \"LocalMode\", string(detectLocalMode)) // æ ¹æ®IPåè®®ç¡®å®šåˆé€‚çš„æ›´æ–°iptablesçš„å®ç°ç±» primaryProtocol := utiliptables.ProtocolIPv4 if netutils.IsIPv6(nodeIP) &#123; primaryProtocol = utiliptables.ProtocolIPv6 &#125; //iptInterface èµ‹å€¼ä¸ºrunnerç»“æ„ä½“ï¼Œè¯¥ç»“æ„ä½“å®ç°äº†æ¥å£utiliptables.Interfaceä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œ //å„æ–¹æ³•ä¸­é€šè¿‡runContext()æ–¹æ³•è°ƒç”¨execerçš„å‘½ä»¤åŒ…è£…æ–¹æ³•è¿”å›ä¸€ä¸ªè¢«åŒ…è£…çš„iptables å‘½ä»¤ iptInterface = utiliptables.New(execer, primaryProtocol) var ipt [2]utiliptables.Interface dualStack := true // While we assume that node supports, we do further checks below if proxyMode != proxyModeUserspace &#123; // Create iptables handlers for both families, one is already created // Always ordered as IPv4, IPv6 // ä»¥IPv4-&gt;IPv6çš„é¡ºåºåˆ›å»ºiptableså¤„ç†ç¨‹åº if primaryProtocol == utiliptables.ProtocolIPv4 &#123; ipt[0] = iptInterface ipt[1] = utiliptables.New(execer, utiliptables.ProtocolIPv6) &#125; else &#123; ipt[0] = utiliptables.New(execer, utiliptables.ProtocolIPv4) ipt[1] = iptInterface &#125; // æ£€æŸ¥å†…æ ¸æ˜¯å¦æ”¯æŒiptableæ¥å£ for _, perFamilyIpt := range ipt &#123; if !perFamilyIpt.Present() &#123; klog.V(0).InfoS(\"kube-proxy running in single-stack mode, this ipFamily is not supported\", \"ipFamily\", perFamilyIpt.Protocol()) dualStack = false &#125; &#125; &#125; // å¦‚æœä»£ç†æ¨¡å¼ä¸ºIPTables if proxyMode == proxyModeIPTables &#123; klog.V(0).InfoS(\"Using iptables Proxier\") if config.IPTables.MasqueradeBit == nil &#123; // MasqueradeBit must be specified or defaulted. return nil, fmt.Errorf(\"unable to read IPTables MasqueradeBit from config\") &#125; // æ˜¯å¦æ”¯æŒåŒæ ˆ if dualStack &#123; klog.V(0).InfoS(\"kube-proxy running in dual-stack mode\", \"ipFamily\", iptInterface.Protocol()) klog.V(0).InfoS(\"Creating dualStackProxier for iptables\") // Always ordered to match []ipt var localDetectors [2]proxyutiliptables.LocalTrafficDetector localDetectors, err = getDualStackLocalDetectorTuple(detectLocalMode, config, ipt, nodeInfo) if err != nil &#123; return nil, fmt.Errorf(\"unable to create proxier: %v\", err) &#125; // TODO this has side effects that should only happen when Run() is invoked. proxier, err = iptables.NewDualStackProxier( ipt, utilsysctl.New(), execer, config.IPTables.SyncPeriod.Duration, config.IPTables.MinSyncPeriod.Duration, config.IPTables.MasqueradeAll, int(*config.IPTables.MasqueradeBit), localDetectors, hostname, nodeIPTuple(config.BindAddress), recorder, healthzServer, config.NodePortAddresses, ) &#125; else &#123; // Create a single-stack proxier if and only if the node does not support dual-stack (i.e, no iptables support). var localDetector proxyutiliptables.LocalTrafficDetector localDetector, err = getLocalDetector(detectLocalMode, config, iptInterface, nodeInfo) if err != nil &#123; return nil, fmt.Errorf(\"unable to create proxier: %v\", err) &#125; // TODO this has side effects that should only happen when Run() is invoked. proxier, err = iptables.NewProxier( iptInterface, utilsysctl.New(), execer, config.IPTables.SyncPeriod.Duration, config.IPTables.MinSyncPeriod.Duration, config.IPTables.MasqueradeAll, int(*config.IPTables.MasqueradeBit), localDetector, hostname, nodeIP, recorder, healthzServer, config.NodePortAddresses, ) &#125; if err != nil &#123; return nil, fmt.Errorf(\"unable to create proxier: %v\", err) &#125; // æ³¨å†ŒæŒ‡æ ‡ proxymetrics.RegisterMetrics() &#125; else if proxyMode == proxyModeIPVS &#123; // ... çœç•¥ &#125; else &#123; // ... çœç•¥ &#125; useEndpointSlices := true if proxyMode == proxyModeUserspace &#123; // userspace mode doesn't support endpointslice. useEndpointSlices = false &#125; return &amp;ProxyServer&#123; Client: client, EventClient: eventClient, IptInterface: iptInterface, IpvsInterface: ipvsInterface, IpsetInterface: ipsetInterface, execer: execer, Proxier: proxier, Broadcaster: eventBroadcaster, Recorder: recorder, ConntrackConfiguration: config.Conntrack, Conntracker: &amp;realConntracker&#123;&#125;, ProxyMode: proxyMode, NodeRef: nodeRef, MetricsBindAddress: config.MetricsBindAddress, BindAddressHardFail: config.BindAddressHardFail, EnableProfiling: config.EnableProfiling, OOMScoreAdj: config.OOMScoreAdj, ConfigSyncPeriod: config.ConfigSyncPeriod.Duration, HealthzServer: healthzServer, UseEndpointSlices: useEndpointSlices, &#125;, nil&#125; åˆ›å»ºå®Œæˆåï¼Œå³å¯é€šè¿‡err := o.proxyServer.Run()å¯åŠ¨proxyServerï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä»¥iptablesæ¨¡å¼ä¸ºä¾‹ç»§ç»­åˆ†æã€‚ iptables proxy server ä»£ç ä¸»è¦åœ¨pkg/proxy/iptables/proxier.goä¸­å®ç°ï¼Œé¦–å…ˆä»¥å•æ ˆproxieråˆ†æiptables proxieræ„é€ ç‰¹æ€§è§NewProxierå‡½æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293// åˆ›å»ºä¸€ä¸ªiptables proxierå®ä¾‹, ç”±äºiptablesçš„é€»è¾‘, æˆ‘ä»¬å‡è®¾ä¸€å°æœºå™¨ä¸Šåªæœ‰ä¸€ä¸ªProxieråœ¨å·¥ä½œã€‚å¦‚æœiptablesæœªèƒ½æ›´æ–°æˆ–è·å¾—åˆå§‹é”ï¼Œå°†è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ä¸€æ—¦ä»£ç†æœåŠ¡å™¨è¢«åˆ›å»ºï¼Œå®ƒå°†åœ¨åå°ä¿æŒiptablesçš„æ›´æ–°ï¼Œå¦‚æœæŸä¸ªiptablesè°ƒç”¨å¤±è´¥ï¼Œå®ƒå°†ä¸ä¼šç»ˆæ­¢ã€‚func NewProxier(ipt utiliptables.Interface, sysctl utilsysctl.Interface, exec utilexec.Interface, syncPeriod time.Duration, minSyncPeriod time.Duration, masqueradeAll bool, masqueradeBit int, localDetector proxyutiliptables.LocalTrafficDetector, hostname string, nodeIP net.IP, recorder events.EventRecorder, healthzServer healthcheck.ProxierHealthUpdater, nodePortAddresses []string,) (*Proxier, error) &#123; // kube-proxyè¦æ±‚NODEèŠ‚ç‚¹æ“ä½œç³»ç»Ÿä¸­æœ‰/sys/module/br_netfilteræ¨¡å—ï¼Œè¿˜è¦è®¾ç½®bridge-nf-call-iptables=1ï¼› //å¦‚æœä¸æ»¡è¶³è¦æ±‚ï¼Œkube-proxyåœ¨è¿è¡Œè¿‡ç¨‹ä¸­è®¾ç½®çš„æŸäº›iptablesè§„åˆ™å°±ä¸ä¼šå·¥ä½œã€‚ if err := utilproxy.EnsureSysctl(sysctl, sysctlRouteLocalnet, 1); err != nil &#123; return nil, err &#125; // å½“å®¹å™¨è¿æ¥åˆ°Linuxç½‘æ¡¥ï¼ˆä½†ä¸æ˜¯SDNç½‘æ¡¥ï¼‰æ—¶ï¼Œä»£ç†éœ€è¦br_netfilterå’Œbridge-nf-call-iptables=1ã€‚ åœ¨å¤§å¤šæ•°æ’ä»¶å¤„ç†è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå½“é…ç½®ç¼ºå¤±æ—¶è¦è®°å½•æ—¥å¿— if val, err := sysctl.GetSysctl(sysctlBridgeCallIPTables); err == nil &amp;&amp; val != 1 &#123; klog.InfoS(\"Missing br-netfilter module or unset sysctl br-nf-call-iptables, proxy may not work as intended\") &#125; // ç”Ÿæˆç”¨äºSNATè§„åˆ™çš„markæ ‡è®° masqueradeValue := 1 &lt;&lt; uint(masqueradeBit) masqueradeMark := fmt.Sprintf(\"%#08x\", masqueradeValue) klog.V(2).InfoS(\"Using iptables mark for masquerade\", \"ipFamily\", ipt.Protocol(), \"mark\", masqueradeMark) serviceHealthServer := healthcheck.NewServiceHealthServer(hostname, recorder, nodePortAddresses) ipFamily := v1.IPv4Protocol if ipt.IsIPv6() &#123; ipFamily = v1.IPv6Protocol &#125; ipFamilyMap := utilproxy.MapCIDRsByIPFamily(nodePortAddresses) nodePortAddresses = ipFamilyMap[ipFamily] // Log the IPs not matching the ipFamily if ips, ok := ipFamilyMap[utilproxy.OtherIPFamily(ipFamily)]; ok &amp;&amp; len(ips) &gt; 0 &#123; klog.InfoS(\"Found node IPs of the wrong family\", \"ipFamily\", ipFamily, \"IPs\", strings.Join(ips, \",\")) &#125; proxier := &amp;Proxier&#123; portsMap: make(map[netutils.LocalPort]netutils.Closeable), serviceMap: make(proxy.ServiceMap), serviceChanges: proxy.NewServiceChangeTracker(newServiceInfo, ipFamily, recorder, nil), endpointsMap: make(proxy.EndpointsMap), endpointsChanges: proxy.NewEndpointChangeTracker(hostname, newEndpointInfo, ipFamily, recorder, nil), syncPeriod: syncPeriod, iptables: ipt, masqueradeAll: masqueradeAll, masqueradeMark: masqueradeMark, exec: exec, localDetector: localDetector, hostname: hostname, nodeIP: nodeIP, portMapper: &amp;netutils.ListenPortOpener, recorder: recorder, serviceHealthServer: serviceHealthServer, healthzServer: healthzServer, precomputedProbabilities: make([]string, 0, 1001), iptablesData: bytes.NewBuffer(nil), existingFilterChainsData: bytes.NewBuffer(nil), filterChains: bytes.NewBuffer(nil), filterRules: bytes.NewBuffer(nil), natChains: bytes.NewBuffer(nil), natRules: bytes.NewBuffer(nil), nodePortAddresses: nodePortAddresses, networkInterfacer: utilproxy.RealNetwork&#123;&#125;, &#125; burstSyncs := 2 klog.V(2).InfoS(\"Iptables sync params\", \"ipFamily\", ipt.Protocol(), \"minSyncPeriod\", minSyncPeriod, \"syncPeriod\", syncPeriod, \"burstSyncs\", burstSyncs) // We pass syncPeriod to ipt.Monitor, which will call us only if it needs to. // We need to pass *some* maxInterval to NewBoundedFrequencyRunner anyway though. // time.Hour is arbitrary. proxier.syncRunner = async.NewBoundedFrequencyRunner(\"sync-runner\", proxier.syncProxyRules, minSyncPeriod, time.Hour, burstSyncs) // å¼€å¯iptablesç›‘è§†çš„åç¨‹, ä¸»è¦çš„é€šè¿‡ proxier.syncProxyRules çš„æ–¹æ³•æ¥ç»´æŠ¤iptablesè§„åˆ™å˜åŒ– go ipt.Monitor(kubeProxyCanaryChain, []utiliptables.Table&#123;utiliptables.TableMangle, utiliptables.TableNAT, utiliptables.TableFilter&#125;, proxier.syncProxyRules, syncPeriod, wait.NeverStop) if ipt.HasRandomFully() &#123; klog.V(2).InfoS(\"Iptables supports --random-fully\", \"ipFamily\", ipt.Protocol()) &#125; else &#123; klog.V(2).InfoS(\"Iptables does not support --random-fully\", \"ipFamily\", ipt.Protocol()) &#125; return proxier, nil&#125; ProxyServer.Run() æ˜¯proxyServerçš„å¯åŠ¨å‘½ä»¤ï¼Œåœ¨cmd/kube-proxy/app/server.goä¸­ç»Ÿä¸€å®šä¹‰çš„æ¨¡æ¿æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰è¢«å…·ä½“çš„proxierå®ç°ã€‚å¼€å¯äº†go serviceConfig.Run(wait.NeverStop)ã€go endpointsConfig.Run(wait.NeverStop)orgo endpointSliceConfig.Run(wait.NeverStop)ã€go nodeConfig.Run(wait.NeverStop)ã€go s.Proxier.SyncLoop()å¤šä¸ªåç¨‹ï¼Œè‡ªèº«è¢«errChé€šé“é˜»å¡ï¼Œç­‰å¾…æ¥æ”¶ä»å­åç¨‹æŠ›å‡ºçš„err åœ¨Run() æ–¹æ³•ä¸­ï¼Œå¤§è‡´åšäº†å¦‚ä¸‹å·¥ä½œï¼š å‡†å¤‡å·¥ä½œï¼Œå¦‚è®¾ç½®OOMScoreAdjå¹¶è®¾ç½®è¿æ¥è·Ÿè¸ª æ³¨å†Œservice å’Œendpoints çš„å¤„ç†æ–¹æ³•ï¼Œä½¿ç”¨list-watch æœºåˆ¶å¯¹serviceï¼Œendpointsèµ„æºç›‘å¬ã€‚ æœ€åè¿›å…¥ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œå¯¹serviceä¸endpointsçš„å˜åŒ–è¿›è¡Œiptablesè§„åˆ™çš„åŒæ­¥ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148func (s *ProxyServer) Run() error &#123; // To help debugging, immediately log version klog.InfoS(\"Version info\", \"version\", version.Get()) /** 1.1 è®¾ç½®oomæ•°å€¼ */ // //åœ¨ç”¨æˆ·ç©ºé—´é€šè¿‡å†™oomScoreAdjå‚æ•°åˆ°/proc/self/oom_score_adjæ–‡ä»¶æ¥æ”¹å˜è¿›ç¨‹çš„ oom_adj å†…æ ¸å‚æ•°ï¼› //oom_adjçš„å€¼çš„å¤§å°å†³å®šäº†è¿›ç¨‹è¢« OOM killerï¼Œå–å€¼èŒƒå›´[-1000,1000] é€‰ä¸­æ€æ‰çš„æ¦‚ç‡,å€¼è¶Šä½è¶Šä¸å®¹æ˜“è¢«æ€æ­».æ­¤å¤„é»˜è®¤å€¼æ˜¯-999ã€‚ // TODO(vmarmol): Use container config for this. var oomAdjuster *oom.OOMAdjuster if s.OOMScoreAdj != nil &#123; oomAdjuster = oom.NewOOMAdjuster() if err := oomAdjuster.ApplyOOMScoreAdj(0, int(*s.OOMScoreAdj)); err != nil &#123; klog.V(2).InfoS(\"Failed to apply OOMScore\", \"err\", err) &#125; &#125; /** è®¾ç½®oomæ•°å€¼ */ /** 1.2 è®¾ç½®è¿æ¥è·Ÿè¸ª */ if s.Broadcaster != nil &amp;&amp; s.EventClient != nil &#123; // EventSinkImpl åŒ…è£…äº†å¤„ç†event çš„æ–¹æ³•create ,update, patchs //s.Broadcaster å·²ç»åœ¨ProxyServer åˆå§‹åŒ–ä¸­ä½œä¸ºä¸€ä¸ªgoroutine åœ¨è¿è¡Œã€‚ stopCh := make(chan struct&#123;&#125;) s.Broadcaster.StartRecordingToSink(stopCh) &#125; // TODO(thockin): make it possible for healthz and metrics to be on the same port. var errCh chan error if s.BindAddressHardFail &#123; errCh = make(chan error) &#125; // Start up a healthz server if requested serveHealthz(s.HealthzServer, errCh) // Start up a metrics server if requested serveMetrics(s.MetricsBindAddress, s.ProxyMode, s.EnableProfiling, errCh) // Tune conntrack, if requested // Conntracker is always nil for windows if s.Conntracker != nil &#123; max, err := getConntrackMax(s.ConntrackConfiguration) if err != nil &#123; return err &#125; if max &gt; 0 &#123; err := s.Conntracker.SetMax(max) if err != nil &#123; if err != errReadOnlySysFS &#123; return err &#125; // errReadOnlySysFS is caused by a known docker issue (https://github.com/docker/docker/issues/24000), // the only remediation we know is to restart the docker daemon. // Here we'll send an node event with specific reason and message, the // administrator should decide whether and how to handle this issue, // whether to drain the node and restart docker. Occurs in other container runtimes // as well. // TODO(random-liu): Remove this when the docker bug is fixed. const message = \"CRI error: /sys is read-only: \" + \"cannot modify conntrack limits, problems may arise later (If running Docker, see docker issue #24000)\" s.Recorder.Eventf(s.NodeRef, nil, api.EventTypeWarning, err.Error(), \"StartKubeProxy\", message) &#125; &#125; if s.ConntrackConfiguration.TCPEstablishedTimeout != nil &amp;&amp; s.ConntrackConfiguration.TCPEstablishedTimeout.Duration &gt; 0 &#123; timeout := int(s.ConntrackConfiguration.TCPEstablishedTimeout.Duration / time.Second) if err := s.Conntracker.SetTCPEstablishedTimeout(timeout); err != nil &#123; return err &#125; &#125; if s.ConntrackConfiguration.TCPCloseWaitTimeout != nil &amp;&amp; s.ConntrackConfiguration.TCPCloseWaitTimeout.Duration &gt; 0 &#123; timeout := int(s.ConntrackConfiguration.TCPCloseWaitTimeout.Duration / time.Second) if err := s.Conntracker.SetTCPCloseWaitTimeout(timeout); err != nil &#123; return err &#125; &#125; &#125; /** è®¾ç½®è¿æ¥è·Ÿè¸ª */ noProxyName, err := labels.NewRequirement(apis.LabelServiceProxyName, selection.DoesNotExist, nil) if err != nil &#123; return err &#125; noHeadlessEndpoints, err := labels.NewRequirement(v1.IsHeadlessService, selection.DoesNotExist, nil) if err != nil &#123; return err &#125; labelSelector := labels.NewSelector() labelSelector = labelSelector.Add(*noProxyName, *noHeadlessEndpoints) // åˆ›å»ºinformerï¼Œè¿‡æ»¤å‡ºæœŸæœ›ä»¥éé»˜è®¤service proxyè¿è¡Œçš„å¯¹è±¡ã€‚ informerFactory := informers.NewSharedInformerFactoryWithOptions(s.Client, s.ConfigSyncPeriod, informers.WithTweakListOptions(func(options *metav1.ListOptions) &#123; options.LabelSelector = labelSelector.String() &#125;)) /** 2.åˆ›å»ºé…ç½®è®°å½•å˜é‡, åˆ›å»ºServiceConfigã€endpointsConfig or EndpointSliceConfig ç»“æ„ä½“ï¼Œæ³¨å†ŒinformeråŒ…æ‹¬å›è°ƒå‡½æ•° */ //ServiceConfigç»“æ„ä½“è·Ÿè¸ªè®°å½•Serviceé…ç½®ä¿¡æ¯çš„å˜åŒ– serviceConfig := config.NewServiceConfig(informerFactory.Core().V1().Services(), s.ConfigSyncPeriod) //RegisterEventHandler æ˜¯å°†Serviceçš„å¤„ç†æ–¹æ³•è¿½åŠ åˆ°serviceConfigçš„eventHandlers ä¸­ï¼ŒeventHandlersä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œå…ƒç´ ç±»å‹ServiceHandleræ¥å£ // ServiceHandleræ¥å£å®šä¹‰äº†æ¯ä¸ªhanlder å¤„ç†serviceçš„apiæ–¹æ³•:OnServiceAdd,OnServiceUpdate,OnServiceDelete,OnServiceSynced // æ­¤å¤„ s.ServiceEventHandler ä¸ºproxierï¼Œs.Proxierå®ç°äº† ServiceHandler æ¥å£å®šä¹‰çš„æ–¹æ³• serviceConfig.RegisterEventHandler(s.Proxier) go serviceConfig.Run(wait.NeverStop) // å¦‚æœ s.Proxier çš„ç±»å‹ä¸º EndpointsHandler if endpointsHandler, ok := s.Proxier.(config.EndpointsHandler); ok &amp;&amp; !s.UseEndpointSlices &#123; endpointsConfig := config.NewEndpointsConfig(informerFactory.Core().V1().Endpoints(), s.ConfigSyncPeriod) // æ³¨å†Œäº‹ä»¶å¤„ç†handler endpointsConfig.RegisterEventHandler(endpointsHandler) go endpointsConfig.Run(wait.NeverStop) &#125; else &#123; endpointSliceConfig := config.NewEndpointSliceConfig(informerFactory.Discovery().V1().EndpointSlices(), s.ConfigSyncPeriod) //RegisterEventHandler æ˜¯å°†EndpointSliceHandlerçš„å¤„ç†æ–¹æ³•è¿½åŠ åˆ°EndpointSliceConfigçš„eventHandlers ä¸­ï¼ŒeventHandlersä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œå…ƒç´ ç±»å‹ EndpointSliceHandler æ¥å£ endpointSliceConfig.RegisterEventHandler(s.Proxier) go endpointSliceConfig.Run(wait.NeverStop) &#125; // This has to start after the calls to NewServiceConfig and NewEndpointsConfig because those // functions must configure their shared informer event handlers first. informerFactory.Start(wait.NeverStop) if utilfeature.DefaultFeatureGate.Enabled(features.TopologyAwareHints) &#123; // Make an informer that selects for our nodename. currentNodeInformerFactory := informers.NewSharedInformerFactoryWithOptions(s.Client, s.ConfigSyncPeriod, informers.WithTweakListOptions(func(options *metav1.ListOptions) &#123; options.FieldSelector = fields.OneTermEqualSelector(\"metadata.name\", s.NodeRef.Name).String() &#125;)) nodeConfig := config.NewNodeConfig(currentNodeInformerFactory.Core().V1().Nodes(), s.ConfigSyncPeriod) nodeConfig.RegisterEventHandler(s.Proxier) go nodeConfig.Run(wait.NeverStop) // This has to start after the calls to NewNodeConfig because that must // configure the shared informer event handler first. currentNodeInformerFactory.Start(wait.NeverStop) &#125; /** 2.åˆ›å»ºé…ç½®è®°å½•å˜é‡ */ // Birth Cry after the birth is successful s.birthCry() /** 3.å¼€å¯æ–°åç¨‹è¿›å…¥æ— é™Loopå¾ªç¯è¿›è¡Œå·¥ä½œï¼Œå¯¹serviceä¸endpointsçš„å˜åŒ–è¿›è¡Œiptablesè§„åˆ™çš„åŒæ­¥ã€‚*/ go s.Proxier.SyncLoop() return &lt;-errCh&#125; æ³¨ï¼šXxxxxConfig.RegisterEventHandler(s.Proxier)ä¸­s.Proxieréƒ½æ˜¯å®ç°äº†å¯¹åº”å…¶æ¥å£çš„å®ä½“proxierï¼Œè¯¦ç»†çš„å®ç°å¯ä»¥å»æ‰¾å…·ä½“çš„proxierï¼Œå¦‚iptables/proxier.goæœ‰å¾ˆå¤šOnå¼€å¤´çš„æ–¹æ³• é™„ï¼šServiceå’ŒEndpointã€EndpointSliceèµ„æºç±»ç»“æ„ä½“ï¼Œå¯ä»¥çœ‹åˆ°å…¶ä¸­å…¨éƒ½æœ‰ä¸ªeventHandlersçš„Sliceç»´æŠ¤äº†å¤„ç†Handlerã€‚ 123456789101112131415// ServiceConfig tracks a set of service configurations.type ServiceConfig struct &#123; listerSynced cache.InformerSynced eventHandlers []ServiceHandler&#125;// EndpointsConfig tracks a set of endpoints configurations.type EndpointsConfig struct &#123; listerSynced cache.InformerSynced eventHandlers []EndpointsHandler&#125;// EndpointSliceConfig tracks a set of endpoints configurations.type EndpointSliceConfig struct &#123; listerSynced cache.InformerSynced eventHandlers []EndpointSliceHandler&#125; é‚£ä¹ˆå…·ä½“çš„proxieræ˜¯å¦‚ä½•ä¾¦å¬endpointå’Œserviceçš„å˜åŒ–çš„å‘¢ï¼Ÿè¿™ä¸ªå°±è¦è§ä¸Šè¿°å„èµ„æºçš„æ³¨å†Œè¿‡ç¨‹ä¸­é…ç½®äº†ä»€ä¹ˆï¼Œè§kubernetes/pkg/proxy/config/config.go 123456789101112131415161718192021222324252627282930313233// NewServiceConfig creates a new ServiceConfig.func NewServiceConfig(serviceInformer coreinformers.ServiceInformer, resyncPeriod time.Duration) *ServiceConfig &#123; result := &amp;ServiceConfig&#123; listerSynced: serviceInformer.Informer().HasSynced, &#125; // serviceInformer.Informer() è¿”å›ä¸€ä¸ªsharedIndexInformer å®ä¾‹(staing/src/k8s.io/client-go/tools/cache/shared_informer.go)ï¼Œé€šè¿‡å…¶AddEventHandlerWithResyncPeriod() æ–¹æ³•ï¼Œå°†ResourceEventHandlerå®ä¾‹èµ‹å€¼ç»™processorListenerç»“æ„ä½“çš„handlerå±æ€§ï¼Œä½œä¸ºå…¶äº‹ä»¶å‘ç”Ÿçš„å¤„ç†å‡½æ•° serviceInformer.Informer().AddEventHandlerWithResyncPeriod( //ç»“æ„ä½“cache.ResourceEventHandlerFuncs æ˜¯ä¸€ä¸ªResourceEventHandleræ¥å£ç±»å‹(staing/src/k8s.io/client-go/tools/cache/controller.go)ï¼Œå°†ServicConfig ç»“æ„ä½“çš„handleAddService ç­‰æ–¹æ³•èµ‹äºˆäº†cache.ResourceEventHandlerFuncs,å®ç°ä¸€ä¸ªResourceEventHandlerå®ä¾‹ cache.ResourceEventHandlerFuncs&#123; AddFunc: result.handleAddService, UpdateFunc: result.handleUpdateService, DeleteFunc: result.handleDeleteService, &#125;, resyncPeriod, ) return result&#125;// å¦‚æœå‘ç”Ÿäº†å¢åŠ Serviceäº‹ä»¶func (c *ServiceConfig) handleAddService(obj interface&#123;&#125;) &#123; service, ok := obj.(*v1.Service) if !ok &#123; utilruntime.HandleError(fmt.Errorf(\"unexpected object type: %v\", obj)) return &#125; for i := range c.eventHandlers &#123; klog.V(4).InfoS(\"Calling handler.OnServiceAdd\") // è½¬è€Œè°ƒç”¨ æ³¨å†Œçš„äº‹ä»¶handleræ¥å£,å³proxyServer.Proxier æ¥å¤„ç† c.eventHandlers[i].OnServiceAdd(service) &#125;&#125; ä»(s *ProxyServerproxier)Runçš„æ–¹æ³•ä¸­å¯ä»¥çœ‹åˆ°serviceå¤„ç†æ–¹æ³•çš„è¢«è°ƒç”¨æµç¨‹ï¼šé€šè¿‡serviceConfig.RegisterEventHandler()æ–¹æ³•æ³¨å†ŒæŒ‚è½½äº†proxyServer.Proxierå®ä¾‹ï¼Œç„¶ååœ¨serviceConfigä¸­çš„handleAddService()ç­‰æ–¹æ³•ä¸­ä»¥c.eventHandlers[i].OnServiceAdd(service)çš„å½¢å¼è°ƒç”¨proxierä¸­çš„OnServiceAdd()ç­‰å¯¹åº”çš„æ–¹æ³•ã€‚ å…¶ä¸­ï¼Œå¯ä»¥çœ‹åˆ°proxierçš„å¤„ç†å‡½æ•°éƒ½ä»¥è®¢é˜…è€…çš„æ¨¡å¼è¢«æ³¨å†Œå¥½äº†ç­‰å¾…äº‹ä»¶å‘ç”Ÿè§¦å‘ï¼Œæ­¤æ—¶çš„æ‰§è¡ŒæƒåŠ›éƒ½è½¬äº¤ç»™äº†ä¸Šå±‚ï¼Œé‚£ä¹ˆserviceInformer.Informer().AddEventHandlerWithResyncPeriodå°±æˆäº†æ–°çš„æ‰§è¡Œçš„å…¥å£ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥çœ‹çœ‹å®ƒæ˜¯æ€ä¹ˆworkçš„ï¼Œ\\staging\\src\\k8s.io\\client-go\\tools\\cache\\shared_informer.go 123456789101112131415func (s *sharedIndexInformer) AddEventHandlerWithResyncPeriod(handler ResourceEventHandler, resyncPeriod time.Duration) &#123; //... çœç•¥ // å°†åŠ è½½å¥½çš„handleræ³¨å†Œåˆ°listenerç›‘å¬å™¨ä¸­ listener := newProcessListener(handler, resyncPeriod, determineResyncPeriod(resyncPeriod, s.resyncCheckPeriod), s.clock.Now(), initialBufferSize) if !s.started &#123; s.processor.addListener(listener) return &#125; s.blockDeltas.Lock() defer s.blockDeltas.Unlock() // processorä¸ºsharedProcessorç±»å‹ï¼Œå…¶æœ‰ä¸€ä¸ª processorListener çš„é›†åˆï¼Œå¯ä»¥å‘å…¶ç›‘å¬å™¨åˆ†å‘é€šçŸ¥å¯¹è±¡ã€‚ åˆ†å‘æ“ä½œæœ‰ä¸¤ç§ï¼Œ ä¼šè¢«åŒæ­¥åˆ†å‘åˆ°listenerçš„å­é›†ä¸­ï¼Œï¼ˆaï¼‰åœ¨è¿è¡Œæ—¶å¶å°”è°ƒç”¨shouldResyncæ—¶è¢«é‡æ–°å¾—åˆ°çš„listenerï¼ˆbï¼‰æ¯ä¸ªæœ€åˆè¢«æ”¾å…¥listenerã€‚ s.processor.addListener(listener) çœ‹åˆ°ä¸Šé¢çš„ä»£ç ï¼Œproxier ä¸­OnServiceAdd() ç­‰æ–¹æ³•çš„è°ƒç”¨æµç¨‹å¤§è‡´å°±æœ‰æ•°äº†ï¼šåœ¨ä¸Šè¿°serviceInformer.Informer()è¿”å›ä¹‹å‰ï¼Œè¿˜å°†è°ƒç”¨SharedIndexInformer.InformerFor()æ–¹æ³•ç»™informerFactoryçš„informerså±æ€§èµ‹å€¼f.informers[informerType] = informerï¼Œå¦‚ä¸‹æ‰€ç¤º\\staging\\src\\k8s.io\\apiextensions-apiserver\\examples\\client-go\\pkg\\client\\informers\\externalversions\\factory.go 123456789101112131415161718192021222324// InternalInformerFor returns the SharedIndexInformer for obj using an internal// client.func (f *sharedInformerFactory) InformerFor(obj runtime.Object, newFunc internalinterfaces.NewInformerFunc) cache.SharedIndexInformer &#123; f.lock.Lock() defer f.lock.Unlock() informerType := reflect.TypeOf(obj) // åˆ¤æ–­æ˜¯å¦æœ‰ informerType ç±»å‹çš„informers // f.informersä¸ºmap[reflect.Type]cache.SharedIndexInformer informer, exists := f.informers[informerType] if exists &#123; return informer &#125; resyncPeriod, exists := f.customResync[informerType] if !exists &#123; resyncPeriod = f.defaultResync &#125; informer = newFunc(f.client, resyncPeriod) f.informers[informerType] = informer return informer&#125; æ­¤æ®µä»£ç çš„æ„ä¹‰å¯ç†è§£ä¸ºï¼šä»api server ç›‘å¬åˆ° informerTypeç±»å‹èµ„æºå˜åŒ–çš„å¤„ç†è€…è®°å½•(æ˜ å°„)ä¸ºinformerã€‚æ­¤å¤„çš„èµ„æºç±»å‹å³ä¸ºservice, informer ä¾¿ä¸ºsharedIndexInformerã€‚å…·ä½“çš„è°ƒç”¨æ—¶æœºå’Œæœ€ä¸Šå±‚æ–¹æ³•å…¥å£å°±è¦å»çœ‹informerFactoryè¿™ä¸ªä¸œè¥¿äº†ï¼Œè¿™åˆæ˜¯k8s ä¸­å¦ä¸€ä¸ªæ¯”è¾ƒç³»ç»Ÿçš„å…¬å…±ç»„ä»¶äº†ï¼Œå³å®ƒæ¶‰åŠåˆ°client-goçš„SharedInformerçš„è§¦å‘è§„åˆ™å’Œå®ç°åŸç†äº†ã€‚ è®°å½•èµ„æºå˜åŒ– Proxier å®ç°äº† services å’Œ endpoints äº‹ä»¶å„ç§æœ€ç»ˆçš„è§‚å¯Ÿè€…ï¼Œæœ€ç»ˆçš„äº‹ä»¶è§¦å‘éƒ½ä¼šåœ¨ proxier ä¸­è¿›è¡Œå¤„ç†ã€‚å¯¹äºé€šè¿‡ç›‘å¬ API Server å˜åŒ–çš„ä¿¡æ¯ï¼Œé€šè¿‡è°ƒç”¨ResourceHandlerå°†å˜åŒ–çš„ä¿¡æ¯ä¿å­˜åˆ° endpointsChanges å’Œ serviceChangesã€‚é‚£ä¹ˆä¸€ä¸ªResourceHandleræ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿservice å’Œendpoints çš„å˜åŒ–å¦‚ä½•è®°å½•ä¸ºservriceChanges å’ŒendpointsChangesï¼Ÿå›çœ‹ä¸Šè¾¹æºç ä¸­è¢«æ³¨å†Œçš„å¯¹è±¡s.ServiceEventHandlerï¼Œs.EndpointsEventHandlerçš„å…·ä½“å®ç°ä¾¿å¯æ˜ç™½ã€‚ service å’Œendpoints çš„å¤„ç†åŸåˆ™ç›¸ä¼¼ï¼Œä»¥å¯¹servcie çš„å¤„ç†ä¸ºä¾‹ï¼Œçœ‹ä¸€ä¸‹å¯¹service çš„å¤„ç†æ–¹æ³•ï¼Œpkg/proxy/iptables/proxier.go 12345678910111213141516171819202122232425// å¢åŠ Servicefunc (proxier *Proxier) OnServiceAdd(service *v1.Service) &#123; proxier.OnServiceUpdate(nil, service)&#125; // æ›´æ–°Servicefunc (proxier *Proxier) OnServiceUpdate(oldService, service *v1.Service) &#123; if proxier.serviceChanges.Update(oldService, service) &amp;&amp; proxier.isInitialized() &#123; proxier.syncRunner.Run() // é€šè¿‡channel å‘é€ä¸€ä¸ªä¿¡å·ï¼Œè°ƒç”¨tryRun() &#125;&#125;// åˆ é™¤Serviceæ—¶func (proxier *Proxier) OnServiceDelete(service *v1.Service) &#123; proxier.OnServiceUpdate(service, nil)&#125;// ...// OnServiceUpdate is called whenever modification of an existing// service object is observed.func (proxier *Proxier) OnServiceUpdate(oldService, service *v1.Service) &#123; if proxier.serviceChanges.Update(oldService, service) &amp;&amp; proxier.isInitialized() &#123; proxier.Sync() &#125;&#125; å¯ä»¥çœ‹åˆ°ï¼Œä¸Šè¿°ä¸‰ä¸ªæƒ…å†µï¼šå¢åŠ ã€åˆ é™¤service éƒ½æ˜¯ç»™proxier.OnServiceUpdate() ä¼ å…¥å‚æ•°åï¼Œç”±OnServiceUpdate() æ–¹æ³•å¤„ç†ï¼Œè€Œproxier.OnServiceUpdate() ä¸­åˆæ˜¯é€šè¿‡proxier.serviceChanges.Update(oldService, service)å®ç°çš„ ï¼Œå› æ­¤é‡ç‚¹çœ‹ä¸€ä¸‹serviceChangesçš„Update() æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ã€‚è§pkg/proxy/service.go 1234567891011121314151617181920212223242526272829303132333435// æ ¹æ®&lt;previous, current&gt;æœåŠ¡å¯¹ï¼Œæ›´æ–°ç»™å®šæœåŠ¡çš„å˜åŒ–å›¾ã€‚ å¦‚æœé¡¹ç›®å‘ç”Ÿäº†å˜åŒ–ï¼Œå®ƒè¿”å›trueã€‚// å¦åˆ™è¿”å›falseã€‚ Updateå¯ä»¥ç”¨æ¥æ·»åŠ /æ›´æ–°/åˆ é™¤ServiceChangeMapçš„é¡¹ç›®ã€‚ ä¾‹å¦‚ã€‚// æ·»åŠ é¡¹ç›®// - ä¼ é€’&lt;nil, service&gt;ä½œä¸º&lt;previous, current&gt;å¯¹ã€‚// æ›´æ–°é¡¹ç›®// - ä¼ é€’&lt;oldService, service&gt;ä½œä¸º&lt;previous, current&gt;å¯¹ã€‚// åˆ é™¤é¡¹ç›®// - ä¼ é€’&lt;service, nil&gt;ä½œä¸º&lt;previous, current&gt;å¯¹ã€‚func (sct *ServiceChangeTracker) Update(previous, current *v1.Service) bool &#123; svc := current if svc == nil &#123; svc = previous &#125; // previous == nil &amp;&amp; current == nil is unexpected, we should return false directly. if svc == nil &#123; return false &#125; namespacedName := types.NamespacedName&#123;Namespace: svc.Namespace, Name: svc.Name&#125; sct.lock.Lock() defer sct.lock.Unlock() change, exists := sct.items[namespacedName] if !exists &#123; // åœ¨serviceChanges ä¸­ä¸å­˜åœ¨ä¸€ä¸ªä»¥namespacedName ä¸ºkey çš„èµ„æº change = &amp;serviceChange&#123;&#125; // åˆå§‹åŒ–ä¸€ä¸ªserviceChange change.previous = sct.serviceToServiceMap(previous) sct.items[namespacedName] = change &#125; change.current = sct.serviceToServiceMap(current) // if change.previous equal to change.current, it means no change if reflect.DeepEqual(change.previous, change.current) &#123; // ä»updateä¼ é€’è¿›æ¥çš„èµ„æºæ²¡æœ‰å˜åŒ–ï¼Œåˆ™ä»serviceChangesä¸­åˆ é™¤ã€‚ delete(sct.items, namespacedName) &#125; return len(sct.items) &gt; 0&#125; Update æ–¹æ³•å°±æ˜¯æ ¹æ®`&lt;previous ,current&gt; å‚æ•°å¯¹æ–°ç”Ÿæˆä¸€ä¸ªchange æˆ–è€…ä¿®æ”¹ä¸€ä¸ªå­˜åœ¨çš„changeã€‚å¹¶ä¸”æŠŠæ— å˜åŒ–çš„èµ„æºä»serviceChanges ä¸­åˆ é™¤ã€‚serviceChanges.items ä¼šåœ¨å°†å˜åŒ–ä¿¡æ¯æ›´æ–°åˆ°proxier.serviceMap åæ¸…ç©ºã€‚ IPTablesç›¸å…³ Iptables åˆ›å»ºKUBEè‡ªå®šä¹‰é“¾å’Œè§„åˆ™ ä»‹ç»äº†kube-proxyå…³äºèµ„æºç›‘å¬å’Œè®°å½•çš„å®ç°åï¼Œå†æ¥çœ‹ä¸€ä¸‹kube-proxyæ˜¯å¦‚ä½•å°†èµ„æºçš„å˜åŒ–åé¦ˆåˆ°iptablesè§„åˆ™ä¸­çš„ã€‚åœ¨å…·ä½“proxierçš„åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œä»¥iptablesä¸ºä¾‹ï¼Œæ˜¯åˆ›å»ºäº†iptableç›‘è§†å™¨çš„ï¼Œå…¶ä¼šé€šè¿‡ä¸æ–­è°ƒç”¨proxier.syncProxyRulesæ¥åŒæ­¥æ›´æ–°iptablesè§„åˆ™ã€‚ 12345678910func NewProxier(ipt utiliptables.Interface, // ... )&#123; // ... çœç•¥ // å¼€å¯iptablesç›‘è§†çš„åç¨‹, ä¸»è¦çš„é€šè¿‡ proxier.syncProxyRules çš„æ–¹æ³•æ¥ç»´æŠ¤iptablesè§„åˆ™å˜åŒ– go ipt.Monitor(kubeProxyCanaryChain, []utiliptables.Table&#123;utiliptables.TableMangle, utiliptables.TableNAT, utiliptables.TableFilter&#125;, proxier.syncProxyRules, syncPeriod, wait.NeverStop) &#125; ç»§ç»­ç ”è¯»syncProxyRule()æ–¹æ³•çœ‹çœ‹å…¶å®ä¿®æ”¹iptablesè§„åˆ™çš„ç»†èŠ‚æµç¨‹ï¼Œæˆ‘ä»¬å°†èƒ½æ˜ç™½åœ¨nodeèŠ‚ç‚¹è§‚å¯Ÿåˆ°çš„æ–°é“¾åŠè§„åˆ™äº§ç”Ÿçš„æ–¹å¼åŠç›®çš„ï¼Œè§kubernetes/pkg/proxy/iptables/proxier.goï¼Œæ›´æ–°proxier.endpointsMapï¼Œproxier.servieMapä»¥åŠäº§ç”Ÿå’Œç»´æŠ¤Kubeè‡ªå®šä¹‰é“¾ã€‚ proxier.serviceMapï¼šæŠŠsercvieChanges.current å†™å…¥proxier.serviceMapï¼Œå†æŠŠå­˜åœ¨äºsercvieChanges.previous ä½†ä¸å­˜åœ¨äºsercvieChanges.current çš„service ä» proxier.serviceMapä¸­åˆ é™¤ï¼Œå¹¶ä¸”åˆ é™¤çš„æ—¶å€™ï¼ŒæŠŠä½¿ç”¨UDPåè®®çš„cluster_ip è®°å½•äºUDPStaleClusterIP ã€‚ proxier.endpointsMapï¼šæŠŠendpointsChanges.previous ä»proxier.endpointsMap åˆ é™¤ï¼Œå†æŠŠendpointsChanges.current åŠ å…¥proxier.endpointsMapã€‚æŠŠå­˜åœ¨äºendpointsChanges.previous ä½†ä¸å­˜åœ¨äºendpointsChanges.current çš„endpoint ç»„è£…ä¸ºServiceEndpoint ç»“æ„ï¼ŒæŠŠè¯¥ç»“æ„è®°å½•äºstaleEndpointsã€‚ å…·ä½“ç›¸å…³ä»£ç æµç¨‹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// syncProxyRulesæ˜¯æ‰€æœ‰iptables-save/restoreè°ƒç”¨å‘ç”Ÿçš„åœ°æ–¹ã€‚// å”¯ä¸€çš„å…¶ä»–iptablesè§„åˆ™æ˜¯é‚£äº›åœ¨iptablesInit()ä¸­è®¾ç½®çš„è§„åˆ™ã€‚func (proxier *Proxier) syncProxyRules() &#123; // ...çœç•¥ serviceUpdateResult := proxy.UpdateServiceMap(proxier.serviceMap, proxier.serviceChanges) endpointUpdateResult := proxy.UpdateEndpointsMap(proxier.endpointsMap, proxier.endpointsChanges) staleServices := serviceUpdateResult.UDPStaleClusterIP // åˆ©ç”¨endpointUpdateResult.StaleServiceNamesï¼Œå†æ¬¡æ›´æ–° staleServices for _, svcPortName := range endpointUpdateResult.StaleServiceNames &#123; if svcInfo, ok := proxier.serviceMap[svcPortName]; ok &amp;&amp; svcInfo != nil &amp;&amp; svcInfo.GetProtocol() == v1.ProtocolUDP &#123; klog.V(2).Infof(\"Stale udp service %v -&gt; %s\", svcPortName, svcInfo.ClusterIPString()) staleServices.Insert(svcInfo.ClusterIPString()) &#125; &#125; ...&#125; //kubernetes/pkg/proxy/servcie.gofunc UpdateServiceMap(serviceMap ServiceMap, changes *ServiceChangeTracker) (result UpdateServiceMapResult) &#123; result.UDPStaleClusterIP = sets.NewString() // apply æ–¹æ³•ä¸­ï¼Œç»§ç»­è°ƒç”¨äº†mergeï¼Œfilter, umerge // merge:å°†change.currentçš„servicemap ä¿¡æ¯åˆå…¥proxier.servicemapä¸­ã€‚ // filter:å°†change.previouså’Œchange.currentå…±åŒå­˜åœ¨çš„servicemapä»å°†change.previousåˆ é™¤ // unmerge: å°†change.previous ä¸­ä½¿ç”¨UDP çš„servicemap ä» proxier.serviceMap ä¸­åˆ é™¤ï¼Œå¹¶è®°å½•åˆ é™¤çš„æœåŠ¡IP åˆ°UDPStaleClusterIP //applyä¸­æœ€åé‡ç½®äº†proxy.serviceChanges.items serviceMap.apply(changes, result.UDPStaleClusterIP) //HCServiceNodePorts ä¿å­˜proxier.serviceMap ä¸­æ‰€æœ‰æœåŠ¡çš„å¥åº·æ£€æŸ¥ç«¯å£ result.HCServiceNodePorts = make(map[types.NamespacedName]uint16) for svcPortName, info := range serviceMap &#123; if info.GetHealthCheckNodePort() != 0 &#123; result.HCServiceNodePorts[svcPortName.NamespacedName] = uint16(info.GetHealthCheckNodePort()) &#125; &#125; return result&#125; //kubernetes/pkg/proxy/endpoints.gofunc UpdateEndpointsMap(endpointsMap EndpointsMap, changes *EndpointChangeTracker) (result UpdateEndpointMapResult) &#123; result.StaleEndpoints = make([]ServiceEndpoint, 0) result.StaleServiceNames = make([]ServicePortName, 0) // ä»proixer.endpointsMap ä¸­åˆ é™¤å’Œchange.previous ç›¸åŒçš„elelment. // å°†change.current æ·»åŠ è‡³proixer.endpointsMap // StaleEndpoints ä¿å­˜äº†å­˜åœ¨äºprevious ä½†ä¸å­˜åœ¨currentçš„endpoints // StaleServicenamesä¿å­˜äº†ä¸€ç§ServicePortName,è¿™æ ·çš„ServicePortNameåœ¨change.previousä¸å­˜åœ¨å¯¹åº”çš„endpointsï¼Œåœ¨change.currentå­˜åœ¨endpointsã€‚ // æœ€åé‡ç½®äº†äº†proxy.endpointsChanges.items endpointsMap.apply(changes, &amp;result.StaleEndpoints, &amp;result.StaleServiceNames) // computing this incrementally similarly to endpointsMap. result.HCEndpointsLocalIPSize = make(map[types.NamespacedName]int) localIPs := GetLocalEndpointIPs(endpointsMap) for nsn, ips := range localIPs &#123; result.HCEndpointsLocalIPSize[nsn] = len(ips) &#125; return result&#125; å‡†å¤‡å¥½æ›´æ–°iptableséœ€è¦çš„èµ„æºå˜é‡åï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨iptables å‘½ä»¤å»ºç«‹è‡ªå®šä¹‰é“¾äº†ï¼Œå¹¶åœ¨å¯¹åº”çš„å†…æ ¸é“¾ä¸Šå¼•ç”¨è¿™äº›è‡ªå®šä¹‰é“¾ã€‚è¿™äº›è‡ªå®šä¹‰é“¾åœ¨k8s æœåŠ¡ä¸­æ˜¯å¿…é¡»çš„ï¼Œä¸ä¼šè·Ÿéšèµ„æºå˜åŒ–è€Œå˜åŒ–ï¼Œæ‰€ä»¥åœ¨æ›´æ–°è§„åˆ™ä¹‹å‰ï¼Œæå‰æ— æ¡ä»¶ç”Ÿæˆè¿™äº›é“¾ï¼Œåšå¥½å‡†å¤‡å·¥ä½œï¼Œéšåä¼šåœ¨è¿™äº›è‡ªå®šä¹‰é“¾ä¸Šåˆ›å»ºç›¸åº”çš„è§„åˆ™ã€‚ ç»§ç»­çœ‹kubernetes/pkg/proxy/iptables/proxier.goï¼Œå°±æ˜¯kubeè‡ªå®šä¹‰é“¾çš„åˆ›å»ºè¿‡ç¨‹äº† 1234567891011121314151617181920212223242526272829303132333435363738394041// åˆ›å»ºå¹¶è¿æ¥kubeé“¾for _, jump := range iptablesJumpChains &#123; if _, err := proxier.iptables.EnsureChain(jump.table, jump.dstChain); err != nil &#123; klog.ErrorS(err, \"Failed to ensure chain exists\", \"table\", jump.table, \"chain\", jump.dstChain) return &#125; args := append(jump.extraArgs, \"-m\", \"comment\", \"--comment\", jump.comment, \"-j\", string(jump.dstChain), ) if _, err := proxier.iptables.EnsureRule(utiliptables.Prepend, jump.table, jump.srcChain, args...); err != nil &#123; klog.ErrorS(err, \"Failed to ensure chain jumps\", \"table\", jump.table, \"srcChain\", jump.srcChain, \"dstChain\", jump.dstChain) return &#125;&#125;// ensure KUBE-MARK-DROP chain exist but do not change any rulesfor _, ch := range iptablesEnsureChains &#123; if _, err := proxier.iptables.EnsureChain(ch.table, ch.chain); err != nil &#123; klog.ErrorS(err, \"Failed to ensure chain exists\", \"table\", ch.table, \"chain\", ch.chain) return &#125;&#125;// EnsureChain is part of Interface.func (runner *runner) EnsureChain(table Table, chain Chain) (bool, error) &#123; fullArgs := makeFullArgs(table, chain) runner.mu.Lock() defer runner.mu.Unlock() out, err := runner.run(opCreateChain, fullArgs) if err != nil &#123; if ee, ok := err.(utilexec.ExitError); ok &#123; if ee.Exited() &amp;&amp; ee.ExitStatus() == 1 &#123; return true, nil &#125; &#125; return false, fmt.Errorf(\"error creating chain %q: %v: %s\", chain, err, out) &#125; return false, nil&#125; ç”±äºæ¶‰åŠåˆ°iptableså†…å®¹äº†ï¼Œä»¥ç›®å‰çš„èƒ½åŠ›å†é˜…è¯»ä»£ç å·²ç»æ·±å…¥ä¸è¿›äº†ï¼Œå› æ­¤åªå¥½å€ŸåŠ©ç½‘ä¸Šçš„ä»£ç æ¥åˆ†æå®ç°äº†ã€‚æ®ç½‘ä¸Šèµ„æ–™ï¼Œä¸Šè¾¹ä»£ç å®Œæˆçš„iptableså‘½ä»¤å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728# åœ¨filterè¡¨ä¸­åˆ›å»ºKUBE-EXTERNAL-SERVICESé“¾iptables -w -N KUBE-EXTERNAL-SERVICES -t filter# åœ¨filterè¡¨çš„INPUTé“¾å¤´å¢åŠ è·³è½¬åˆ° è‡ªå®šä¹‰KUBE-EXTERNAL-SERVICES é“¾çš„è§„åˆ™iptables -w -I INPUT -t filter -m conntrack --ctstate NEW -m comment --comment -j KUBE-EXTERNAL-SERVICES kubernetes externally-visible service portals # åœ¨filterè¡¨ä¸­åˆ›å»ºKUBE-SERVICESé“¾iptables -w -N KUBE-SERVICES -t filter # åœ¨filterè¡¨çš„OUTPUTé“¾å¤´å¢åŠ è·³è½¬åˆ° è‡ªå®šä¹‰ KUBE-SERVICES é“¾çš„è§„åˆ™iptables -w -I OUTPUT -t filter -m conntrack --ctstate NEW -m comment --comment -j KUBE-SERVICES kubernetes service portals# åœ¨ nat è¡¨ä¸­åˆ›å»ºKUBE-SERVICESé“¾iptables -w -N KUBE-SERVICES -t nat# åœ¨ nat è¡¨çš„OUTPUTé“¾å¤´å¢åŠ è·³è½¬åˆ° è‡ªå®šä¹‰ KUBE-SERVICES é“¾çš„è§„åˆ™iptables -w -I OUTPUT -t nat -m conntrack --ctstate NEW -m comment --comment -j KUBE-SERVICES kubernetes service portals iptables -w -N KUBE-SERVICES -t nat# åœ¨ nat è¡¨çš„ PREROUTING é“¾å¤´å¢åŠ è·³è½¬åˆ° è‡ªå®šä¹‰ KUBE-SERVICES é“¾çš„è§„åˆ™iptables -w -I PREROUTING -t nat -m conntrack --ctstate NEW -m comment --comment -j KUBE-SERVICES kubernetes service portals # åœ¨ nat è¡¨ä¸­åˆ›å»ºKUBE-POSTROUTING é“¾iptables -w -N KUBE-POSTROUTING -t nat# åœ¨ nat è¡¨çš„ PREROUTING é“¾å¤´å¢åŠ è·³è½¬åˆ° è‡ªå®šä¹‰ KUBE-POSTROUTING é“¾çš„è§„åˆ™iptables -w -I POSTROUTING -t nat -m conntrack --ctstate NEW -m comment --comment -j KUBE-POSTROUTING kubernetes postrouting rules # åœ¨ filter è¡¨ä¸­åˆ›å»º KUBE-FORWARD é“¾iptables -w -N KUBE-FORWARD -t filter# åœ¨ filter è¡¨çš„ FORWARD é“¾å¤´å¢åŠ è·³è½¬åˆ° è‡ªå®šä¹‰ KUBE-FORWARD é“¾çš„è§„åˆ™iptables -w -I FORWARD -t filter -m conntrack --ctstate NEW -m comment --comment -j KUBE-FORWARD kubernetes forwarding rules å¯è§çš„æ˜¯ï¼Œåœ¨IPTablesåšäº†ä»¥ä¸‹ä¿®æ”¹ï¼š filterè¡¨ï¼š åˆ›å»º KUBE-EXTERNAL-SERVICES é“¾ åˆ›å»º KUBE-SERVICES é“¾ åˆ›å»º KUBE-FORWARD é“¾ nat è¡¨ï¼šåˆ›å»ºKUBE-SERVICESé“¾ åˆ›å»º KUBE-SERVICES é“¾ åˆ›å»º KUBE-POSTROUTING é“¾ å¹¶ä¸”åœ¨natå’Œfilterè¡¨ä¸ŠåŸæœ‰çš„å›ºå®šé“¾å‰éƒ½å¢åŠ äº†è·³è½¬åˆ°Kubeè‡ªå®šä¹‰é“¾çš„è½¬å‘è§„åˆ™ï¼Œä»è€Œä½¿å¾—æ‰€æœ‰è¿›å…¥å›ºå®šé“¾çš„æµåŒ…åœ¨natæˆ–filter æ—¶ï¼Œéƒ½ä¼šå¯¼å…¥è‡ªå®šä¹‰é“¾ä¸­ã€‚ å¯è§é€šè¿‡ä¸Šè¿°çš„åˆ›å»ºï¼Œåœ¨å†…æ ¸å›ºå®šé“¾ä¸­å¼•ç”¨ K8S çš„é“¾æ—¶ï¼Œè¿™äº›æ–°é“¾éƒ½æ˜¯ä½œä¸ºå†…æ ¸å›ºå®šé“¾åœ¨natè¡¨æˆ–filterè¡¨ä¸­çš„ç¬¬ä¸€æ¡è§„åˆ™ã€‚è¿™æ ·ï¼Œæ‰€æœ‰è¿›å…¥å›ºå®šé“¾çš„æµåŒ…åœ¨natæˆ–filter æ—¶ï¼Œéƒ½ä¼šå¯¼å…¥è‡ªå®šä¹‰é“¾ä¸­ã€‚ç‰¹åˆ«åœ°ï¼ŒPREROUTING å’ŒOUTPUT çš„é¦–æ¡NATè§„åˆ™éƒ½å…ˆå°†æ‰€æœ‰æµé‡å¯¼å…¥KUBE-SERVICE é“¾ä¸­ï¼Œè¿™æ ·å°±æˆªè·äº†æ‰€æœ‰çš„å…¥æµé‡å’Œå‡ºæµé‡ï¼Œè¿›è€Œå¯ä»¥å¯¹k8s ç›¸å…³æµé‡è¿›è¡Œé‡å®šå‘å¤„ç†ã€‚ ç»§ç»­æ²¿ç€syncProxyRuleså‡½æ•°çœ‹ä¸‹å»ï¼š 1234567891011121314151617for _, chainName := range []utiliptables.Chain&#123;kubeServicesChain, kubeExternalServicesChain, kubeForwardChain, kubeNodePortsChain&#125; &#123; if chain, ok := existingFilterChains[chainName]; ok &#123; proxier.filterChains.WriteBytes(chain) &#125; else &#123; proxier.filterChains.Write(utiliptables.MakeChainLine(chainName)) &#125;&#125;// è¿™è¾¹æ–°å‡ºæ¥äº†ä¸‰æ¡chainï¼škubeNodePortsChainã€KubeMarkMasqChainfor _, chainName := range []utiliptables.Chain&#123;kubeServicesChain, kubeNodePortsChain, kubePostroutingChain, KubeMarkMasqChain&#125; &#123; if chain, ok := existingNATChains[chainName]; ok &#123; proxier.natChains.WriteBytes(chain) &#125; else &#123; //KUBE-NODEPORTSï¼ŒKUBE-MARK-MASQ ä¹‹å‰å¹¶æœªè¢«åˆ›å»ºï¼Œç°åœ¨åˆ›å»º proxier.natChains.Write(utiliptables.MakeChainLine(chainName)) &#125;&#125; è‡³æ­¤ï¼Œiptables/proxier.goä¸­å®šä¹‰çš„8ä¸ªchainæˆ‘ä»¬å·²ç»è§åˆ°äº†6ä¸ªäº†ï¼Œå‰©ä¸‹çš„ä¸¤ä¸ªåˆ†åˆ«æ˜¯KUBE-MARK-DROPã€KUBE-PROXY-CANARYï¼Œè¿™ä¸¤ä¸ªå¯¹æˆ‘ä»¬èµ°è¯»æ‰§è¡Œé€»è¾‘å°±æ²¡æœ‰å¤ªå¤šå…³è”äº†ï¼Œå› æ­¤å°±ä¸ç»§ç»­åˆ†æè¿™ä¸¤ä¸ªé“¾äº†ã€‚ 123456789101112131415161718const ( // the services chain kubeServicesChain utiliptables.Chain = \"KUBE-SERVICES\" // the external services chain kubeExternalServicesChain utiliptables.Chain = \"KUBE-EXTERNAL-SERVICES\" // the nodeports chain kubeNodePortsChain utiliptables.Chain = \"KUBE-NODEPORTS\" // the kubernetes postrouting chain kubePostroutingChain utiliptables.Chain = \"KUBE-POSTROUTING\" // KubeMarkMasqChain is the mark-for-masquerade chain KubeMarkMasqChain utiliptables.Chain = \"KUBE-MARK-MASQ\" // KubeMarkDropChain is the mark-for-drop chain KubeMarkDropChain utiliptables.Chain = \"KUBE-MARK-DROP\" // the kubernetes forward chain kubeForwardChain utiliptables.Chain = \"KUBE-FORWARD\" // kube proxy canary chain is used for monitoring rule reload kubeProxyCanaryChain utiliptables.Chain = \"KUBE-PROXY-CANARY\") KUBE-MARK-DROPå’ŒKUBE-MARK-MASQæœ¬è´¨ä¸Šå°±æ˜¯ä½¿ç”¨äº†iptablesçš„MARKå‘½ä»¤: å¯¹äºKUBE-MARK-MASQé“¾ä¸­æ‰€æœ‰è§„åˆ™è®¾ç½®äº†kubernetesç‹¬æœ‰MARKæ ‡è®°ï¼Œåœ¨KUBE-POSTROUTINGé“¾ä¸­å¯¹NODEèŠ‚ç‚¹ä¸ŠåŒ¹é…kubernetesç‹¬æœ‰MARKæ ‡è®°çš„æ•°æ®åŒ…ï¼Œå½“æŠ¥æ–‡ç¦»å¼€nodeèŠ‚ç‚¹æ—¶è¿›è¡ŒSNATï¼ŒMASQUERADEæºIP è€Œå¯¹äºKUBE-MARK-DROPè®¾ç½®æ ‡è®°çš„æŠ¥æ–‡åˆ™ä¼šåœ¨KUBE_FIREWALLä¸­å…¨éƒ¨ä¸¢å¼ƒ Serviceç±»å‹åˆ†æ ç»§ç»­å¾€ä¸‹çœ‹ï¼Œç»ˆäºåˆ°äº†é‡ç‚¹çš„åœ°æ–¹ï¼šproxyå¦‚æœé€šè¿‡serviceæ‰¾åˆ°å¯¹åº”çš„EndPoints 12345678910111213func (proxier *Proxier) syncProxyRules() &#123; // ... // Build rules for each service. for svcName, svc := range proxier.serviceMap &#123; svcInfo, ok := svc.(*serviceInfo) // ... allEndpoints := proxier.endpointsMap[svcName] // å¯¹æ‹“æ‰‘æ„ŸçŸ¥ç«¯ç‚¹è¿›è¡Œè¿‡æ»¤ã€‚è¯¥å‡½æ•°ä»…åœ¨é€‚å½“çš„åŠŸèƒ½gatesè¢«å¯ç”¨ï¼Œå¹¶ä¸”è¯¥æœåŠ¡æ²¡æœ‰å†²çªçš„é…ç½®ï¼ˆå¦‚externalTrafficPolicy=Localï¼‰æ—¶æ‰ä¼šè¿‡æ»¤ç«¯ç‚¹ã€‚ allEndpoints = proxy.FilterEndpoints(allEndpoints, svcInfo, proxier.nodeLabels) // svcChainé€šè¿‡utiliptables.Chain(\"KUBE-SVC-\" + portProtoHash(servicePortName, protocol))åˆ›å»ºçš„chain svcChain := svcInfo.servicePortChainName // ... clusterIP 123456789101112131415161718192021222324252627282930 /*** Capture the clusterIP. ***/if hasEndpoints &#123; // å¡«å……è½¬å‘é€‰é¡¹-då’Œ--dport args = append(args[:0], \"-m\", \"comment\", \"--comment\", fmt.Sprintf(`\"%s cluster IP\"`, svcNameString), \"-m\", protocol, \"-p\", protocol, \"-d\", utilproxy.ToCIDR(svcInfo.ClusterIP()), \"--dport\", strconv.Itoa(svcInfo.Port()), ) if proxier.masqueradeAll &#123; // ç”Ÿæˆç»“æœ-A KUBE-SERVICES ...--comment $&#123;svc-port-name&#125; cluster IP ... -d $&#123;cluster_ip&#125;/32 -dport xxx -j KUBE-MARK-MASQ args := prepend(args, \"-A\", string(svcChain)) args = append(args, \"-j\", string(KubeMarkMasqChain)) proxier.natRules.Write(args...) &#125; else if proxier.localDetector.IsImplemented() &#123; // ç”Ÿæˆç»“æœ -A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; cluster IP ... -d $&#123;cluster_ip&#125;/32 -dport XXX ! -s $&#123;cluster_cidr&#125; -j KUBE-MARK-MASQ args := prepend(args, \"-A\", string(svcChain)) args = proxier.localDetector.JumpIfNotLocal(args, string(KubeMarkMasqChain)) proxier.natRules.Write(args...) &#125; args = prepend(args, \"-A\", string(kubeServicesChain)) // æ€»æ˜¯å°†å°†ç›®çš„åœ°å€æ˜¯&#123;cluster_ip:port&#125; çš„æµé‡å¯¼å…¥åˆ°KUBE-SVC-XXXï¼Œ å³-A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; cluster IP ... -d $&#123;cluster_ip&#125;/32 -dport xxx -j KUBE-SVC-XXX args = append(args, \"-j\", string(svcChain)) proxier.natRules.Write(args...)&#125; else &#123; // No endpoints. // å¦‚æœæœåŠ¡æ²¡æœ‰endpoints, åœ¨KUBE-SERVICESé“¾ä¸Šå»ºç«‹filter è§„åˆ™ï¼ˆï¼ˆå°†è§„åˆ™å†™å…¥proxier.filterRules ï¼Œä¸‹åŒï¼‰ï¼Œè¡¨ç¤ºæ”¾å¼ƒè®¿é—®ç›®çš„åœ°å€&#123;cluster_ip:port&#125;çš„åŒ…ã€‚ çœç•¥ // ç”Ÿæˆç»“æœï¼š-A KUBE-SERVICES ...--comment &#123;svc-port-name&#125; has no endpoints ... -d $&#123;cluster_ip&#125;/32 -dport xxx -j REJECT &#125; /*** Capture the clusterIP. ***/ externalIPs 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667 /*** Capture externalIPs. ***/for _, externalIP := range svcInfo.ExternalIPStrings() &#123; // å¦‚æœ \"å¤–éƒ¨ \"IPæ°å¥½æ˜¯æœ¬æœºçš„IPï¼Œåˆ™ä¿æŒæœ¬æœºç«¯å£å¼€æ”¾ï¼Œè¿™æ ·å°±æ²¡æœ‰å…¶ä»–è¿›ç¨‹å¯ä»¥æ‰“å¼€å®ƒï¼ˆå› ä¸ºå¥—æ¥å­—å¯èƒ½ä¼šæ‰“å¼€ï¼Œä½†å®ƒæ°¸è¿œä¸ä¼šå·¥ä½œï¼‰ã€‚ if (svcInfo.Protocol() != v1.ProtocolSCTP) &amp;&amp; localAddrSet.Has(netutils.ParseIPSloppy(externalIP)) &#123; lp := netutils.LocalPort&#123; Description: \"externalIP for \" + svcNameString, IP: externalIP, IPFamily: localPortIPFamily, Port: svcInfo.Port(), Protocol: netutils.Protocol(svcInfo.Protocol()), &#125; if proxier.portsMap[lp] != nil &#123; klog.V(4).InfoS(\"Port was open before and is still needed\", \"port\", lp) replacementPortsMap[lp] = proxier.portsMap[lp] &#125; else &#123; socket, err := proxier.portMapper.OpenLocalPort(&amp;lp) if err != nil &#123; msg := fmt.Sprintf(\"can't open port %s, skipping it\", lp.String()) proxier.recorder.Eventf( &amp;v1.ObjectReference&#123; Kind: \"Node\", Name: proxier.hostname, UID: types.UID(proxier.hostname), Namespace: \"\", &#125;, nil, v1.EventTypeWarning, err.Error(), \"SyncProxyRules\", msg) klog.ErrorS(err, \"Can't open port, skipping it\", \"port\", lp) continue &#125; klog.V(2).InfoS(\"Opened local port\", \"port\", lp) replacementPortsMap[lp] = socket &#125; &#125; if hasEndpoints &#123; args = append(args[:0], \"-m\", \"comment\", \"--comment\", fmt.Sprintf(`\"%s external IP\"`, svcNameString), \"-m\", protocol, \"-p\", protocol, \"-d\", utilproxy.ToCIDR(netutils.ParseIPSloppy(externalIP)), \"--dport\", strconv.Itoa(svcInfo.Port()), ) destChain := svcXlbChain if !svcInfo.NodeLocalExternal() &#123; destChain = svcChain args := prepend(args, \"-A\", string(svcChain)) // This masquerades off-cluster traffic to a External IP. // -A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; external IP ... -d $&#123;external_ip&#125;/32 -dport xxx -m physdev ! --physdev-is-in -m addrtype ! --src-type LOCAL -j KUBE-SVC-xxx if proxier.localDetector.IsImplemented() &#123; proxier.natRules.Write( proxier.localDetector.JumpIfNotLocal(args, string(KubeMarkMasqChain))...) &#125; else &#123; proxier.natRules.Write( append(args, \"-j\", string(KubeMarkMasqChain))...) &#125; &#125; // Send traffic bound for external IPs to the service chain. // -A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; external IP ... -d $&#123;external_ip&#125;/32 -dport xxx -m addrtype --dst-type LOCAL -j KUBE-SVC-xxx args = prepend(args, \"-A\", string(kubeServicesChain)) proxier.natRules.Write( append(args, \"-j\", string(destChain))...) &#125; else &#123; // No endpoints. // -A KUBE-EXTERNAL-SERVICES ...--comment $&#123;svc-port-name&#125; has no endpoints ... -d $&#123;external_ip&#125;/32 -dport xxx -j REJECT &#125;&#125; /*** Capture externalIPs. ***/ load-balancer 1// ... Capture load-balancer ingress. çœç•¥ NodePort. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788 /*** Capture NodePort. ***/ // å¦‚æœæˆ‘ä»¬æœ‰2æ¡ä»¥ä¸Šçš„è§„åˆ™ï¼Œä¹Ÿè®¸å€¼å¾—ä¸ºèŠ‚ç‚¹ç«¯å£è§„åˆ™åšä¸€ä¸ªæ–°çš„æ¯ä¸ªæœåŠ¡é“¾ï¼Œä½†åªæœ‰2æ¡è§„åˆ™ï¼Œæœ€ç»ˆæ˜¯ä¸€ç§æµªè´¹å’Œè®¤çŸ¥ä¸Šçš„è´Ÿæ‹…ã€‚if svcInfo.NodePort() != 0 &#123; // ä¿æŒæœ¬åœ°ç«¯å£çš„å¼€æ”¾ï¼Œå› æ­¤æ²¡æœ‰å…¶ä»–è¿›ç¨‹å¯ä»¥æ‰“å¼€å®ƒï¼ˆå› ä¸ºå¥—æ¥å­—å¯èƒ½ä¼šæ‰“å¼€ï¼Œä½†å®ƒæ°¸è¿œä¸ä¼šå·¥ä½œï¼‰ã€‚ if len(nodeAddresses) == 0 &#123; continue &#125; lps := make([]netutils.LocalPort, 0) for address := range nodeAddresses &#123; lp := netutils.LocalPort&#123; Description: \"nodePort for \" + svcNameString, IP: address, IPFamily: localPortIPFamily, Port: svcInfo.NodePort(), Protocol: netutils.Protocol(svcInfo.Protocol()), &#125; if utilproxy.IsZeroCIDR(address) &#123; // Empty IP address means all lp.IP = \"\" lps = append(lps, lp) // If we encounter a zero CIDR, then there is no point in processing the rest of the addresses. break &#125; lps = append(lps, lp) &#125; // For ports on node IPs, open the actual port and hold it. for _, lp := range lps &#123; if proxier.portsMap[lp] != nil &#123; klog.V(4).InfoS(\"Port was open before and is still needed\", \"port\", lp) replacementPortsMap[lp] = proxier.portsMap[lp] &#125; else if svcInfo.Protocol() != v1.ProtocolSCTP &#123; socket, err := proxier.portMapper.OpenLocalPort(&amp;lp) if err != nil &#123; msg := fmt.Sprintf(\"can't open port %s, skipping it\", lp.String()) proxier.recorder.Eventf( &amp;v1.ObjectReference&#123; Kind: \"Node\", Name: proxier.hostname, UID: types.UID(proxier.hostname), Namespace: \"\", &#125;, nil, v1.EventTypeWarning, err.Error(), \"SyncProxyRules\", msg) klog.ErrorS(err, \"Can't open port, skipping it\", \"port\", lp) continue &#125; klog.V(2).InfoS(\"Opened local port\", \"port\", lp) replacementPortsMap[lp] = socket &#125; &#125; /*** Capture externalIPs. ***/ if hasEndpoints &#123; args = append(args[:0], \"-m\", \"comment\", \"--comment\", svcNameString, \"-m\", protocol, \"-p\", protocol, \"--dport\", strconv.Itoa(svcInfo.NodePort()), ) //if hasEndpoints &amp;&amp; if !svcInfo.NodeLocalExternal, åœ¨NATè¡¨å†™å…¥ï¼š-A KUBE-NODEPORTS ... --comment $&#123;svc-port-name&#125; --dport &#123;nodeport&#125; -j KUBE-MARK-MASQã€ -A KUBE-NODEPORTS ... --comment $&#123;svc-port-name&#125; --dport $&#123;nodeport&#125; -j KUBE-SVC-xxx if !svcInfo.NodeLocalExternal() &#123; // Nodeports need SNAT, unless they're local. proxier.natRules.Write( append(prepend(args, \"-A\", string(svcChain)), \"-j\", string(KubeMarkMasqChain))...) // Jump to the service chain. proxier.natRules.Write( append(prepend(args, \"-A\", string(kubeNodePortsChain)), \"-j\", string(svcChain))...) &#125; else &#123; // å¦åˆ™-A KUBE-NODEPORTS ... --comment $&#123;svc-port-name&#125; --dport $&#123;nodeport&#125; -s 127.0.0.0/8 -j KUBE-SVC-xxxã€ -A KUBE-NODEPORTS ... --comment $&#123;svc-port-name&#125; --dport $&#123;nodeport&#125; -j KUBE-XLB-xxx // Fix localhost martian source error loopback := \"127.0.0.0/8\" if isIPv6 &#123; loopback = \"::1/128\" &#125; args = prepend(args, \"-A\", string(kubeNodePortsChain)) proxier.natRules.Write( append(args, \"-s\", loopback, \"-j\", string(KubeMarkMasqChain))...) proxier.natRules.Write( append(args, \"-j\", string(svcXlbChain))...) &#125; &#125; else &#123; // No endpoints. // å¢åŠ REJECTè§„åˆ™æ‹’ç»è¯¥æµé‡, çœç•¥ // -A KUBE-EXTERNAL-SERVICES ... -m addrtype --dst-type LOCAL ... --dport $&#123;nodeport&#125; -j REJECT &#125;&#125; /*** Capture NodePort. ***/ ä¸Šè¿°ä»£ç ä¸»è¦é’ˆå¯¹å››ç§æƒ…å†µåšäº†è§„åˆ™å¤„ç†ï¼š ä¸ºcluster_ip è®¾ç½®è®¿é—®è§„åˆ™ ä¸ºæœ‰endpints çš„æœåŠ¡åœ¨KUBE-SERVICES é“¾ä¸Šå»ºç«‹natè¡¨è§„åˆ™ï¼ˆå°†è§„åˆ™å†™å…¥proxier.natRules ï¼Œä¸‹åŒï¼‰ï¼š å¦‚æœè®¾ç½®äº†proxier.masqueradeAll , kube-proxy ä¼šå¯¹æ‰€æœ‰ç›®çš„åœ°å€æ˜¯{cluster_ip:port}çš„åŒ…æ‰“æ ‡ç­¾ï¼Œè¿› è€ŒåšSNATï¼›æˆ–è€…å¦‚æœæŒ‡å®šäº†â€“clusterâ€“cidr , kube-proxy ä¼šå¯¹ç›®çš„åœ°å€æ˜¯{cluster_ip:port} çš„é›†ç¾¤å¤–éƒ¨ï¼ˆ! -s ${cluster_cidr}ï¼‰æµé‡åŒ…æ‰“æ ‡ç­¾ï¼Œè¿›è€ŒåšSNATï¼›ï¼ˆä»¥ä¸Šè§„åˆ™äºŒé€‰ä¸€ï¼‰ æ€»æ˜¯å°†å°†ç›®çš„åœ°å€æ˜¯{cluster_ip:port} çš„æµé‡å¯¼å…¥åˆ°KUBE-SVC-XXX å¦‚æœæœåŠ¡æ²¡æœ‰endpoints, åœ¨KUBE-SERVICESé“¾ä¸Šå»ºç«‹filter è§„åˆ™ï¼Œè¡¨ç¤ºæ”¾å¼ƒè®¿é—®ç›®çš„åœ°å€{cluster_ip:port}çš„åŒ…ã€‚ å¾—åˆ°çš„iptableå‘½ä»¤å¦‚ä¸‹ï¼š 12345-A KUBE-SERVICES ...--comment $&#123;svc-port-name&#125; cluster IP ... -d $&#123;cluster_ip&#125;/32 -dport xxx -j KUBE-MARK-MASQ # if proxier.masqueradeAll =True-A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; cluster IP ... -d $&#123;cluster_ip&#125;/32 -dport XXX ! -s $&#123;cluster_cidr&#125; -j KUBE-MARK-MASQ # else if len(proxier.clusterCIDR) &gt; 0-A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; cluster IP ... -d $&#123;cluster_ip&#125;/32 -dport xxx -j KUBE-SVC-XXX # æœ‰endpoints æ—¶æ€»æ˜¯æ·»åŠ æ­¤è§„åˆ™-A KUBE-SERVICES ...--comment &#123;svc-port-name&#125; has no endpoints ... -d $&#123;cluster_ip&#125;/32 -dport xxx -j REJECT // æ²¡æœ‰endpointæ—¶ï¼Œç›´æ¥å°†å‘å¾€æ­¤IPï¼šPortçš„åŒ…ä¸¢å¼ƒ ä¸ºexternalIP ç±»å‹æœåŠ¡å»ºç«‹è§„åˆ™ å¦‚æœexternal IP æ˜¯æœ¬æœºIPï¼Œå¹¶ä¸”æœåŠ¡ä½¿ç”¨çš„åè®®ä¸æ˜¯SCTP, ç”Ÿæˆç»“æ„ä½“LocalPort ä»¥è®°å½•è¿™æ ·çš„æœåŠ¡çš„external IP , port ,åè®®ï¼Œä»¥åŠæè¿°ä¿¡æ¯ã€‚ ç¡®è®¤åœ¨æœ¬æœºä¸Šæ‰“å¼€æœåŠ¡ç«¯å£(å¯ä»¥æŠŠè¿™ä¸ªsocketç†è§£ä¸ºâ€œå ä½ç¬¦â€ï¼Œä»¥ä¾¿è®©æ“ä½œç³»ç»Ÿä¸ºæœ¬æœºå…¶ä»–åº”ç”¨ç¨‹åºåˆ†é…ç«¯å£æ—¶è®©å¼€è¯¥ç«¯å£ï¼‰ï¼Œå¹¶ä¸”æ·»åŠ {LocalPort ï¼šsocket} åˆ°replacementPortsMapã€‚ å¦‚æœè¯¥æœåŠ¡æœ‰endpoints ï¼Œåœ¨KUBE-SERVICES é“¾æ·»åŠ  nat è¡¨è§„åˆ™ å¯¹äºåˆ°external_ip:port çš„åŒ…æ‰“æ ‡ç­¾ï¼› å¯¹äºä»é›†ç¾¤å¤–å‘é€çš„ç›®çš„åœ°å€æ˜¯extenralIP çš„åŒ…å»ºç«‹è§„åˆ™ å¯¹äºç›®çš„åœ°å€å’Œnode åœ°å€ç›¸åŒçš„åŒ…å»ºç«‹è§„åˆ™ å¦‚æœè¯¥æœåŠ¡æ²¡æœ‰endpoints ï¼Œåœ¨KUBE-EXTERNAL-SERVICES æ·»åŠ  filter è§„åˆ™ï¼Œè¡¨ç¤ºæ”¾å¼ƒç›®çš„åœ°å€æ˜¯{ {external_ip:xxx}çš„åŒ… å¾—åˆ°çš„iptableå‘½ä»¤å¦‚ä¸‹ï¼š 1234567-A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; external IP ... -d $&#123;external_ip&#125;/32 -dport xxx -j KUBE-MARK-MASQ-A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; external IP ... -d $&#123;external_ip&#125;/32 -dport xxx -m physdev ! --physdev-is-in -m addrtype ! --src-type LOCAL -j KUBE-SVC-xxx-A KUBE-SERVICES ... --comment $&#123;svc-port-name&#125; external IP ... -d $&#123;external_ip&#125;/32 -dport xxx -m addrtype --dst-type LOCAL -j KUBE-SVC-xxx-A KUBE-EXTERNAL-SERVICES ...--comment $&#123;svc-port-name&#125; has no endpoints ... -d $&#123;external_ip&#125;/32 -dport xxx -j REJECT æœåŠ¡ç±»å‹ä¸ºLoadBalanceræ—¶ï¼Œè®¾ç½®å¤–éƒ¨è´Ÿè½½å‡è¡¡ç›¸å…³è§„åˆ™ ä¸ºNodePort ç±»å‹æœåŠ¡è§„åˆ™å»ºç«‹ï¼š å¾—åˆ°çš„iptableå‘½ä»¤å¦‚ä¸‹ï¼š 123456789101112replacementPortsMap[lp] = proxier.portsMap[lp] ,å¹¶ä¸”æ‰“å¼€ç«¯å£//if hasEndpoints &amp;&amp; if !svcInfo.OnlyNodeLocalEndpoints, åœ¨NATè¡¨å†™å…¥ï¼š-A KUBE-NODEPORTS ... --comment $&#123;svc-port-name&#125; --dport &#123;nodeport&#125; -j KUBE-MARK-MASQ-A KUBE-NODEPORTS ... --comment $&#123;svc-port-name&#125; --dport $&#123;nodeport&#125; -j KUBE-SVC-xxx//if hasEndpoints &amp;&amp; if svcInfo.OnlyNodeLocalEndpointsï¼Œåœ¨NATè¡¨å†™å…¥ï¼š-A KUBE-NODEPORTS ... --comment $&#123;svc-port-name&#125; --dport $&#123;nodeport&#125; -s 127.0.0.0/8 -j KUBE-SVC-xxx-A KUBE-NODEPORTS ... --comment $&#123;svc-port-name&#125; --dport $&#123;nodeport&#125; -j KUBE-XLB-xxx// !if hasEndpoints ,åœ¨Filterè¡¨å†™å…¥ï¼š-A KUBE-EXTERNAL-SERVICES ... -m addrtype --dst-type LOCAL ... --dport $&#123;nodeport&#125; -j REJECT ä»¥ä¸Šè®²è§£äº†IPTablesæ¨¡å¼ä¸‹å°†æµé‡è½¬å‘åˆ°ç›¸åº”çš„å…·ä½“çš„KUBE-SERVICE-XXXä¸Šï¼Œè€Œä¹‹åè¿˜éœ€è¦è§£å†³çš„æ˜¯å°†serviceçš„æµé‡å‘ç»™å…·ä½“çš„EndPointå³æ‰§è¡ŒPodâ€”â€”å»ºç«‹ endpoints ç›¸å…³çš„é“¾å’Œè§„åˆ™ ä¸ºåŒä¸€ä¸ªservice çš„æ‰€æœ‰endpoints åœ¨nat è¡¨å»ºç«‹é“¾ KUBE-SEP-XXX : KUBE-SEP-XXX -[0:0]ï¼Œå¹¶ä¸”è®°å½• activeNATChains[endpointChain] = trueï¼ŒendpointChainä¸ºendpointChain := epInfo.endpointChain(svcNameString, protocol)ä¸­åˆ›å»ºçš„KUBE-SEP-XXX å¦‚æœæœåŠ¡è®¾ç½®äº†â€clientIPâ€œ äº²å’Œæ€§ï¼Œ åˆ™ä¸ºè¯¥æœåŠ¡çš„æ¯ä¸€ä¸ªendpoint è®¾ç½®ä¼šè¯äº²å’Œæ€§-A KUBE-SVC-XXX -m recent --name KUBE-SEP-XXX --rcheck --seconds xxx --reap -j KUBE-SEP-XXX //å¤šä¸ªendpoints,åˆ™æœ‰å¤šæ¡ç±»ä¼¼è§„åˆ™ åœ¨endpointsChain é“¾ä¸Šå»ºç«‹NATè§„åˆ™ å¯¹äºå¤šä¸ªendpoints (n &gt;1) ,åˆ©ç”¨iptables çš„éšæœºå’Œæ¦‚ç‡è½¬å‘çš„åŠŸèƒ½ï¼Œå¾ªç¯å»ºç«‹è§„åˆ™ã€‚æ¦‚ç‡è®¡ç®—æ˜¯é€šè¿‡æŸ¥è¡¨ï¼ˆprecomputeProbabilities å­—ç¬¦ä¸²æ•°ç»„ï¼‰æˆ–è€…ç°åœºè®¡ç®—ï¼ˆn&gt;= len(precomputeProbabilities) çš„æ–¹å¼å®Œæˆã€‚ 123456789/** æ¦‚ç‡æ˜¯é€šè¿‡1.0/float64(n-i)è®¡ç®—å‡ºæ¥çš„ï¼Œn ä»£è¡¨endpointsçš„ä¸ªæ•° */// å‰n-1ä¸ªendpointsä½¿ç”¨æ­¤è§„åˆ™-A KUBE-SVC-XXX -m static --mode random --probability xxx -j KUBE-SEP-XXX // ç¬¬nä¸ªendpoint å»ºç«‹æ­¤è§„åˆ™-A KUBE-SVC-XXX -j KUBE-SEP-XXX -A KUBE-SEP-XXX -s $&#123;endpoint_ip&#125;/32 -j KUBE-MARK-MASQ-A KUBE-SEP-XXX -m recent --name KUBE-SEP-XXX --set -j DNAT --to-destination xxx // å¦‚æœè®¾ç½®äº†ä¼šè¯äº²å’Œæ€§ï¼Œå†™å…¥è¯¥æ¡è§„åˆ™-A KUBE-SEP-XXX -j DNAT --to-destination xxx //å¦‚æœæ²¡æœ‰è®¾ç½®ä¼šè¯äº²å’Œæ€§ï¼Œå†™å…¥è¯¥æ¡è§„åˆ™ åœ¨KUBE-SEP-XXXé“¾ä¸Šé€šè¿‡DNATè§„åˆ™ï¼ŒçœŸæ­£æŠŠæµé‡äº¤åˆ°äº†å¯¹åº”PODçš„æœåŠ¡ä¸Šã€‚ å¦‚æœæœåŠ¡è¿˜å…·æœ‰OnlyNodeLocalEndpoints å±æ€§ï¼Œè¡¨ç¤ºåªå°†æµé‡å¯¼å…¥åˆ°æœ¬æœºä¸Šçš„åç«¯podä¸Šã€‚æŒ‘é€‰å‡ºå’Œproxy åœ¨ç›¸åŒæœºå™¨è¿è¡Œçš„endpointsï¼Œåœ¨nat è¡¨å»ºç«‹å¦‚ä¸‹è§„åˆ™ 12345678910-A KUBE-XLB-XXX ... -s $&#123;cluster-ip&#125; -j KUBE-SVC-XXX // è®¾ç½®äº†clusterCIDR//å¦‚æœæ²¡æœ‰Local POD-A KUBE-XLB-XXX ... --comment $&#123;svc-port-name&#125; has no local endpoints -j KUBE-MARK-DROP//å¦‚æœæœ‰Local POD -A KUBE-XLB-XXX ... -m recent --name KUBE-SEP-XXX -rchenck --seconds xxx -j KUBE-SEP-XXX //è®¾ç½®äº†äº²å’Œæ€§//å¦‚æœæœ‰å¤šä¸ªpods,è®¾ç½®-A KUBE-XLB-XXX ... -m static --mode --probability xxx -j KUBE-SEP-XXX-A KUBE-XLB-XXX ... -m static --mode --probability xxx -j KUBE-SEP-XXX è‡³æ­¤ï¼Œæˆ‘ä»¬çœ‹å®Œäº†func (proxier *Proxier) syncProxyRules()ä¸­çš„æ ¸å¿ƒå†…å®¹ï¼šéå†å®Œæˆäº†å¯¹serviceMap ä¸­æ‰€æœ‰æœåŠ¡åŠå¯¹åº”çš„endpoints å»ºç«‹è§„åˆ™ã€‚é’ˆå¯¹Serviceçš„ä¸åŒç±»å‹ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“äº†ä¸ºä»€ä¹ˆå¯ä»¥Workã€‚ä¹ŸçŸ¥é“äº†ä¸ºä»€ä¹ˆæœ¬åœ°æœåŠ¡å¯ä»¥é€šè¿‡ClusterIP:Portçš„æ–¹å¼æ‰¾åˆ°æœåŠ¡ï¼Œå¤–ç½‘çš„è¯·æ±‚å¯ä»¥é€šè¿‡NodeIP:NodePortçš„æ–¹å¼æ‰¾åˆ°æœåŠ¡ã€‚è‡³äºå¦‚ä½•æ‰¾åˆ°ç›¸åº”Podçš„å†è¯¦ç»†è¯´æ˜å¯ä»¥è§ç½‘ä¸Šçš„æ ·ä¾‹åˆ†æï¼škuberneteså…¥é—¨ä¹‹kube-proxyå®ç°åŸç† æ€»ç»“å›¾ æœ€åçš„æœ€åï¼Œæ”¾å¼ æˆ‘è‡ªå·±ç”»çš„CLIå¯åŠ¨ProxyServer Run()çš„é¡ºåºå›¾ï¼Œå’Œå¤§ä½¬æ€»ç»“çš„èµ„æºæ›´æ–°ç¤ºæ„å›¾ä»¥åŠé“¾ã€è§„åˆ™å»ºç«‹é¡ºåºå›¾å§ã€‚ Reference: spf13/cobra flagâ€“å‘½ä»¤è¡Œå‚æ•°è§£æä¹‹StringVar ã€kubernetes/k8sæ¦‚å¿µã€‘kube-proxyå¯åŠ¨å‚æ•° k8sæºç åˆ†æâ€”â€”kube-proxy æºç åˆ†æâ€”â€”æ¢³ç†äº†æ•´ä½“çš„æ‰§è¡Œè¿‡ç¨‹ kuberneteså…¥é—¨ä¹‹kube-proxyå®ç°åŸç†â€”â€”åˆ†æäº†å¤–ç½‘å¦‚ä½•é€šè¿‡NodePortæ‰¾åˆ°ç›¸åº”EndPointçš„æ¡ˆä¾‹ ç†è§£kubernetesç¯å¢ƒçš„iptablesâ€”â€”å¯¹é“¾ä¸Šå…³ç³»åˆ†æçš„æ¯”è¾ƒå¥½","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"},{"name":"æºç è§£æ","slug":"æºç è§£æ","permalink":"https://nymrli.top/tags/æºç è§£æ/"}]},{"title":"CICD-Jenkinsä¸Travis","slug":"CICD-Jenkinsä¸Travis","date":"2021-10-25T05:39:46.000Z","updated":"2022-01-13T05:32:47.364Z","comments":true,"path":"2021/10/25/CICD-Jenkinsä¸Travis/","link":"","permalink":"https://nymrli.top/2021/10/25/CICD-Jenkinsä¸Travis/","excerpt":"","text":"Jenkinsä¸travisä½¿ç”¨ Jenkinsä¸Travisä¸ºCIã€CDå·¥å…·ï¼Œå…¶ä¸ºDevopsæ¨¡å¼ä¸‹çš„å¹³å°ç»„ä»¶ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬æ›´å¥½åœ°è¿›è¡Œå¼€å‘æµ‹è¯•ä¸äº¤ä»˜ã€‚ç”±äºæœ€è¿‘äº‘åŸç”Ÿçš„è¯¾ä¸Šåœ¨ä»‹ç»DevOpså’Œäº‘ç›‘æ§ï¼Œæ‰€ä»¥æ­£å¥½è¶è¿™ä¸ªæœºä¼šä½“éªŒä¸‹Devopsçš„äº¤ä»˜æµç¨‹ï¼Œä¹‹å‰ä¹Ÿæœ‰ä½¿ç”¨è¿‡Github Actionä½œä¸ºCICDå·¥å…·ï¼Œä½†é™¤äº†å¼€æºé¡¹ç›®ä»¥å¤–ï¼ŒGithubä½¿ç”¨æ¯”è¾ƒå°‘ã€‚è¿™æ¬¡å‘¢å°±å¯ä»¥å†ç†Ÿæ‚‰ä¸‹ä¸šå†…å¸¸ç”¨çš„CICDç»„ä»¶äº†ï¼šJenkins or Travis DevOpså‘å±•èƒŒæ™¯ ä¼ ç»Ÿäº¤ä»˜æ¨¡å¼çš„ä¸²è¡ŒåŠéš”ç¦»åŒ–å½¢æˆäº†éƒ¨é—¨å£å’ï¼Œé™ä½äº†å·¥ä½œæ•ˆç‡ é€šè¿‡â€œåœ¨äº‘ä¸Šåˆ›å»ºèµ„æºâ€-&gt;å®ç°â€œäº‘æœåŠ¡å™¨è‡ªåŠ¨åŒ–ç®¡ç†â€-&gt;â€œåº”ç”¨æ— çŠ¶æ€ä¸Šäº‘â€åå³å¯å®ç°åº”ç”¨çš„æŒç»­éƒ¨ç½²ã€æŒç»­äº¤ä»˜ï¼Œå®Œæˆä¸€æ¬¡æ„å»ºã€åˆ°å¤„è¿è¡Œçš„æ•ˆæœ ä½œä¸ºä¸€ç§æ–°å¼çš„å¼€å‘æ¨¡å¼ï¼ŒDevOpsæ¨¡å¼æ˜¯åœ¨äº’è”ç½‘åº”ç”¨å¿«é€Ÿè¿­ä»£çš„éœ€è¦ä¸‹ï¼Œç»“åˆäº†å¼€å‘ä¸è¿ç»´ä»¥åŠæµ‹è¯•æµç¨‹çš„ä¸€ç§æ¨¡å¼ï¼Œè§£å†³äº†æµ‹è¯•èµ„æºåŒ®ä¹ã€æ‰‹å·¥éƒ¨ç½²å·¥ä½œé‡å¤§ã€å‘¨æœŸé•¿ï¼Œç¯å¢ƒä¸ç»Ÿä¸€ã€èµ„æºéš¾ç®¡ç†çš„é—®é¢˜ã€‚ å®ç°çš„åŠŸèƒ½ DevOpså¹³å°å…¸å‹æµç¨‹ åŸºäºé•œåƒå®¹å™¨æ„ç­‘å…·å¤‡å®Œå…¨ä¸€è‡´æ€§çš„å¼€å‘æµ‹è¯•ç¯å¢ƒ ä¼ä¸šä¸­Devopsçš„è§£å†³æ–¹æ¡ˆ å»ºè®¾æˆæœ Jenkinsä½¿ç”¨ Jenkinsè·ŸGitlabä¸€æ ·ï¼Œæ˜¯å‘å¸ƒäº†æœåŠ¡åŒ…çš„ï¼Œä¸ºäº†æ›´å¥½çš„ç®¡ç†å’Œä½¿ç”¨ï¼Œæˆ‘è¿™è¾¹æ˜¯ç›´æ¥ä½¿ç”¨çš„Jenkins Dockeré•œåƒ æ‹‰å–Jenkinsé•œåƒå¹¶è¿è¡Œ docker run -p 8080:8080 -p 50000:50000 --restart=always --name jenkins -v jenkins_home:/var/jenkins_home -v /var/run/docker.sock:/var/run/docker.sock -v $(which docker):$(which docker) jenkins/jenkins:lts --restart=always:èƒ½å¤Ÿä½¿æˆ‘ä»¬åœ¨é‡å¯dockeræ—¶ï¼Œè‡ªåŠ¨å¯åŠ¨ç›¸å…³å®¹å™¨ --name jenkins: å°†å¯åŠ¨çš„å®¹å™¨åå–ä½œjenkins -v jenkins_home:/var/jenkins_homeï¼š æŒ‚è½½æŒä¹…åŒ–å· -v /var/run/docker.sock:/var/run/docker.sockï¼šä¸ºäº†å®ç°pipelineåœ¨å¦ä¸€ä¸ªå®¹å™¨ä¸­è¿è¡Œï¼Œä¾¦å¬docker.sockå¥—æ¥å­—ï¼Œå¹¶æ‰§è¡ŒæŒ‚è½½ -v $(which docker):$(which docker)ï¼š-v ä¹‹åä½¿ç”¨$()è¡¨ç¤ºæ‰§è¡Œå‘½ä»¤ï¼Œè¿™é‡Œè¡¨ç¤ºå¦‚æœåœ¨å®¹å™¨ä¸Šè¿è¡Œwhich dockerï¼Œ Dockerä¹Ÿä¼šåœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œâ€œ which container&quot;å¹¶å°†æ‰§è¡Œç»“æœè¿”å›ç»™å®¹å™¨ï¼Œä»è€Œèƒ½åœ¨Jenkinså®¹å™¨ä¸­æ‹¿åˆ°å¦ä¸€ä¸ªå®¹å™¨çš„containerID æœ€åçš„jenkins/jenkins:ltsï¼šè¡¨ç¤ºè¦æ‹‰å–çš„é•œåƒä»¥åŠé•œåƒç‰ˆæœ¬ å°†å®¹å™¨è·‘èµ·æ¥åéœ€è¦è¿›å…¥å®¹å™¨ï¼Œç»™docker.sockæˆæƒ: 123docker exec -it --user=root jenkins bashchmod 666 /var/run/docker.sockls -ltr /var/run ä»¥ä¸Šè¿‡åå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šç™»å½•Jenkinsäº†ï¼Œè¿™è¾¹ç™»å½•localhost:50000åä¼šæœ‰ä¸€ç³»åˆ—åˆå§‹åŒ–æ­¥éª¤å¦‚ä¸‹ å®‰è£…å»ºè®®çš„æ’ä»¶ åˆ›å»ºç¬¬ä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ· Jenkinså®ä¾‹é…ç½® å¼€å§‹ä½¿ç”¨ Jenkins ç›‘å¬Githubä»“åº“å˜åŒ– é€‰æ‹©â€œæ–°å»ºä»»åŠ¡â€-&gt;â€œæµæ°´çº¿â€-&gt;å‹¾é€‰Githubé¡¹ç›®å¹¶è¾“å…¥https://github.com/Freedomisgood/iotrfid.git/-&gt;æ„å»ºè§¦å‘å™¨ä¸­é€‰æ‹©â€œGitHub hook trigger for GITScm pollingâ€-&gt;æµæ°´çº¿é€‰æ‹©â€œPipeline scriptâ€è¾“å…¥ï¼š 1234567891011121314151617pipeline &#123; agent &#123; docker &#123; image 'alpine' &#125; &#125; stages &#123; stage('pull project') &#123; // agent &#123; docker 'openjdk:8-jre' &#125; steps &#123; // echo 'Hello, JDK' git credentialsId: 'GithubAccount', url: 'https://github.com/Freedomisgood/iotrfid.git/' sh 'pwd' &#125; &#125; &#125;&#125; ç„¶åä¿å­˜ï¼Œä¹‹åè¿è¡Œå°±å¯ä»¥ç­‰å¾…è§¦å‘å•¦ï¼Œæˆ–è€…ç‚¹å‡»å·¦ä¾§çš„â€œç«‹å³æ„å»ºâ€ æ³¨ï¼šå¯ä»¥çœ‹åˆ°scriptä¸­æœ‰ä½¿ç”¨åˆ°dockerï¼Œè¿™è¾¹éœ€è¦é¢å¤–å®‰è£…Dockerçš„æ’ä»¶Docker Pipelineã€Docker pluginï¼ˆå»ºè®®å®‰è£…çš„æ’ä»¶ä¸­æ²¡æœ‰ï¼‰ï¼Œå¦‚æœä¸å®‰è£…ä¼šæ‰§è¡Œå¤±è´¥ æ³¨ï¼šå¦‚æœè¦ç›‘å¬Githubä»“åº“çš„å˜åŒ–ï¼Œåˆ™éœ€è¦å¢åŠ Githubçš„å‡­æ®ï¼šé€‰æ‹©â€œDashboardâ€åˆ°é¦–é¡µ-&gt;ç³»ç»Ÿç®¡ç†-&gt;Manage Credendials-&gt;Jenkins-&gt;å…¨å±€å‡­æ®-&gt;å·¦ä¾§çš„æ·»åŠ å‡­æ®ï¼Œè¾“å…¥Githubç”¨æˆ·å’Œå¯†ç åï¼Œç•™ä¸€ä¸ªä¹‹åè¦ä½¿ç”¨çš„Credendials ID å‚è€ƒï¼šæ€æ ·ç”¨ Jenkins Docker å’Œ CICD æ„å»ºæ— æœåŠ¡å™¨åº”ç”¨ç¨‹åº Travisä½¿ç”¨ Travis+Docker[+é˜¿é‡Œäº‘å®¹å™¨é•œåƒã€dockerhub] travisä¸»è¦æ˜¯å…³æ³¨åœ¨CIæŒç»­é›†æˆä¸Šï¼ŒåŒæ—¶ä¸Githubå…³è”æ­é…åšçš„æ¯”è¾ƒå·ï¼Œä¹Ÿèƒ½å®ŒæˆæŒç»­äº¤ä»˜(æŒç»­é›†æˆçš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ‰“åŒ…æ„å»ºå½¢æˆäº§ç‰©)çš„å·¥ä½œã€‚å› æ­¤æœ¬æ¬¡å°±ä»¥travis+dockeræ¥å®Œæˆè¿™ä¹ˆä¸€ä¸ªæŒç»­é›†æˆä¸æŒç»­äº¤ä»˜çš„æ­¥éª¤ï¼š æ­¥éª¤å¦‚ä¸‹ï¼š å»traviså®˜ç½‘ç»‘å®štraviså’Œgithub Dockerhubåˆ›å»ºé•œåƒä»“åº“ or é˜¿é‡Œäº‘å¼€é€šå®¹å™¨é•œåƒæœåŠ¡ é¡¹ç›®ä¸­æ·»åŠ .travis.ymlå’ŒDockerfileæ–‡ä»¶ 1234567FROM python:3.9.1-alpineMAINTAINER Mrli 1063052964qq.comRUN tar -zcf app.tar.gz .ADD app.tar.gz /appWORKDIR /appRUN pip install -r local_requiements.txtENTRYPOINT python app/main.py 123456789101112131415161718192021222324252627language: python# sudo: enabled or requiredpython: - \"3.9.1\"branches: only: - masterinstall: - pip install -r local_requirements.txtbefore_script: - flake8 app tests - docker login -u $DOCKERHUB_USERNAME -p $DOCKERHUB_PASSWORD # dockerfileä¸­éœ€è¦æ‹‰å– python-3.9.1:alipineçš„é•œåƒ, æ‰€ä»¥éœ€è¦å…ˆdocker loginscript: - python app/main.py - docker build -t nymrli/python:v2 .after_success: - docker login -u $username -p $password # è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥æ§åˆ¶ï¼Œé¿å…å†™æ­»ã€‚ç¯å¢ƒå˜é‡ï¼Œåœ¨travisçš„åå°settingsé‡Œé¢æ·»åŠ  - docker push - echo \"success\"services: # éœ€è¦æä¾›dockeræ‰èƒ½åœ¨é‡Œé¢ä½¿ç”¨dockerå‘½ä»¤ - docker git pushæäº¤ä»£ç ï¼Œtravisä¼šä¾¦å¬githubä»“åº“å˜åŒ–è§¦å‘githookä»è€Œæ‰§è¡Œä»»åŠ¡ ç™»å½•è¦è¿è¡Œappçš„æœåŠ¡å™¨ï¼Œdocker-compose upå°†é•œåƒå¯åŠ¨ 1234567891011121314151617181920212223242526272829303132333435version: '2'services: mysql: container_name: mysql1 image: mysql:5.7 environment: MYSQL_ROOT_PASSWORD: æ•°æ®åº“å¯†ç  ports: - \"3306:3306\" volumes: - /usr/local/docker/mysql/data:/var/lib/mysql - /usr/local/docker/mysql/conf:/etc/mysql - /usr/local/docker/mysql/logs:/var/log/mysql web: container_name: jafir_nginx1 image: registry.cn-hangzhou.aliyuncs.com/jafir_docker_images/web:latest ports: - 8080:80 restart: always depends_on: - java volumes: - /mydockerdata/nginx/etc/nginx.conf:/etc/nginx/nginx.conf - /mydockerdata/nginx/log/:/var/log/nginx java: container_name: jafir_gps1 image: registry.cn-hangzhou.aliyuncs.com/jafir_docker_images/jafir-images:latest restart: always depends_on: - mysql ports: - 9090:9090 volumes: - /mydockerdata/java/gps/upload:/Users/jafir/Downloads/upload - /mydockerdata/arme/out/*.nofoo.cn/*.nofoo.cn.pfx:/Users/jafir/Downloads/upload/cert/*.nofoo.cn.pfx æ³¨ï¼šå¦‚æœéœ€è¦travisçš„æ„å»ºè¿‡ç¨‹ä¸­åœ¨æœåŠ¡å™¨æ‰§è¡Œä¸€äº›å‘½ä»¤ï¼ˆå¦‚å°†ä»£ç éƒ¨ç½²å‘åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼‰ï¼Œè¿˜éœ€è¦é…ç½®ç”Ÿæˆå…¬é’¥å’Œç§åŒ™ï¼Œå‚çœ‹ï¼š https://juejin.cn/post/6931980888267816974 https://www.jianshu.com/p/ce648e120727 https://github.com/gopl/ci Travis CI+Coveralls é…ç½®Travis ç¼–å†™.travis.yml ä½¿ç”¨ GitHub è´¦å·ç™»é™† Travis CIï¼ŒOauthç™»å½•æˆæƒï¼Œè·å¾—ç»„ç»‡è®¿é—®æƒé™ è®¾ç½® Build Statusï¼šæ‰“å¼€æŒ‡å®šä»“åº“çš„ç›‘å¬çŠ¶æ€é€‰é¡¹ é…ç½® Coveralls åœ¨.travis.ymlä¸­æ·»åŠ coverallså†…å®¹ï¼Œå¦‚goçš„åº“å«goveralls ï¼Œpythonçš„åº“å« 123456789101112# GObefore_install: - go get github.com/mattn/goverallsscript: - goveralls -service=travis-ci# Pythoninstall: - pip install coverallsscript: - nosetests --with-coverage --cover-package=fanpyafter_success: - coveralls ä½¿ç”¨ GitHub è´¦å·ç™»é™† Coverallshttps://travis-ci.org/)ï¼ŒOauthç™»å½•æˆæƒï¼Œè·å¾—ç»„ç»‡è®¿é—®æƒé™ è®¾ç½®Coverage Status: æ‰“å¼€æŒ‡å®šä»“åº“çš„ç›‘å¬çŠ¶æ€é€‰é¡¹ è‡ªåŠ¨éƒ¨ç½² é€šè¿‡é…åˆTravisçš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å¦‚ä¸‹çš„æ•ˆæœï¼š æµ‹è¯•éƒ¨ç½²ï¼šæ¯æ¬¡pushä»£ç åˆ°devåˆ†æ”¯ï¼ŒTravisä¼šè‡ªåŠ¨è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œç„¶åè‡ªåŠ¨çš„é€šè¿‡SSHå°†ä»£ç éƒ¨ç½²åˆ°å¯¹åº”çš„å¼€å‘æœºå™¨ä¸Šå¹¶é‡å¯æœåŠ¡ï¼Œä»¥ä¿æŒå¼€å‘æœºä¸Šå§‹ç»ˆæ˜¯æœ€æ–°çš„ç‰ˆæœ¬ã€‚ æ­£å¼éƒ¨ç½²ï¼šå†³å®šä¸Šçº¿çš„æ—¶å€™å¯ä»¥å°†ä»£ç pushä»£ç åˆ°deployåˆ†æ”¯ä¸Šï¼ŒTravisä¼šè‡ªåŠ¨å°†ä»£ç éƒ¨ç½²åˆ°æ­£å¼çš„å¼€å‘ç¯å¢ƒã€‚ æ­¥å…¥æ­£é¢˜ï¼Œè¦å®Œæˆè‡ªåŠ¨éƒ¨ç½²ï¼Œé¦–å…ˆTravisè¦èƒ½ç›‘å¬Gitçš„å˜åŒ–ï¼Œç„¶åTravisè¿˜éœ€è¦æœ‰æƒé™ç™»å½•åˆ°æˆ‘ä»¬çš„SSHæœåŠ¡å™¨è¿›è¡Œéƒ¨ç½²ï¼š é…ç½®Travisï¼Œè®©Travisèƒ½ç›‘å¬Gitçš„æŸä¸ªåˆ†æ”¯ã€‚ GitæŸä¸ªåˆ†æ”¯æäº¤ä¹‹åï¼ŒTravisèƒ½è‡ªåŠ¨å‘ç°æäº¤å¹¶è¿›è¡Œç¼–è¯‘ã€‚ Traviså°†ç¼–è¯‘åçš„äº§ç‰©é€šè¿‡SSHéƒ¨ç½²åˆ°ç»™æˆ‘ä»¬æŒ‡å®šçš„æœºå™¨ã€‚ Travisæ·»åŠ SSHå¯†é’¥ é€šå¸¸æˆ‘ä»¬æ˜¯é€šè¿‡sshå‘½ä»¤åŠ ä¸Šç”¨æˆ·åå’Œå¯†ç è®¿é—®æœåŠ¡å™¨çš„ï¼Œè™½ç„¶ç†è®ºä¸Šæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨travisçš„å‘½ä»¤ä¸­å†™ä¸Šè¯¸å¦‚ssh mofei@zhuwenlong.com -p abcçš„è„šæœ¬ï¼Œä½†æ˜¯è¿™æ ·çš„ä»£ç å¦‚æœæäº¤åˆ°äº†å…¬å¼€çš„ä»“åº“ä¸­ä¼šæœ‰å¾ˆå¤§çš„æ³„éœ²æœåŠ¡å™¨å¯†ç çš„é£é™©ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåˆ«äººæ— æ³•çªƒå–å¯†ç æˆ–è€…å¯†é’¥çš„æ–¹å¼è®©Travisç™»å½•æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚ é€šå¸¸çš„å…å¯†ç™»å½•æ˜¯åŸºäºSSHä¿¡ä»»å…³ç³»çš„ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬èƒ½æŠŠå¯†é’¥ä»¥åŠ å¯†çš„å½¢å¼ä¿æŒåœ¨Travisçš„æœåŠ¡å™¨ä¸­ï¼ŒTraviså°±èƒ½ç™»å½•æˆ‘ä»¬çš„æœåŠ¡å™¨äº†ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Travisçš„æ–‡ä»¶åŠ å¯†åŠŸèƒ½ï¼ŒæŠŠæˆ‘ä»¬çš„å¯†é’¥è¿›è¡ŒåŠ å¯†ä¿å­˜ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„å¯†é’¥é¦–å…ˆä¼šè¢«è¢«TravisåŠ å¯†ï¼Œè§£å¯†çš„å¯†é’¥è¢«å­˜å‚¨åœ¨Travisä¸­ï¼Œå°±æ˜¯è¯´åªæœ‰Traviså¯ä»¥è¿›è¡Œè§£å¯†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¤§èƒ†çš„æŠŠè¿™ä¸ªåŠ å¯†åçš„æ–‡ä»¶ä¸Šä¼ åˆ°githubä¸­ï¼Œä¸ç”¨æ‹…å¿ƒå…¶ä»–äººç›—ç”¨æˆ‘ä»¬çš„å¯†é’¥ã€‚ â–². æ—¢ç„¶æˆ‘ä»¬æƒ³è¦ä½¿ç”¨TravisåŠ å¯†æ–‡ä»¶ï¼Œç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯åœ¨æœ¬åœ°å®‰è£…Travisã€‚ å› ä¸ºtravisæ˜¯ç”¨rubyå†™çš„ï¼Œé¦–å…ˆå¾—æŸ¥çœ‹æ˜¯å¦æœ‰rubyï¼Œruby -V ç»™rubyæ¢æºï¼Œgem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/ å®‰è£…travis: sudo gem install travis å®‰è£…å¥½Travisä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­ç™»å½•Travis: travis login --proï¼ŒproæŒ‡å®šçš„æ˜¯APIç½‘ç«™Travis CI Pro æ³¨æ„ Travis ç›®å‰æœ‰ä¸¤ä¸ªå®˜ç½‘ï¼štravis-ci.com å’Œ travis-ci.org. å®˜æ–¹é€šçŸ¥åè€…å³å°†å…³é—­ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å‰è€…å‚æ•°ä¸ºâ€“proï¼Œåè€…å‚æ•°ä¸ºâ€“orgã€‚ 12345678Shell completion not installed. Would you like to install it now? |y| yWe need your GitHub login to identify you.This information will not be sent to Travis CI, only to api.github.com.The password will not be displayed.Try running with --github-token or --auto if you don&apos;t want to enter your password anyway.Username: æˆ–è€…ç›´æ¥:travis login --github-token token --pro, github-tokenæ‰“å¼€githubåç‚¹å‡»ä¸ªäººå¤´åƒGithub&gt;settings&gt;Personal access tokens&gt; Generate new token &gt; Generate token&gt; Copy Token 12(env38) mrli@VM-4-7-ubuntu:~/remap/cook$ travis login --pro --github-token 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Successfully logged in as Freedomisgood! ç”Ÿæˆå¹¶åŠ å¯†SSHå¯†é’¥ 12# åœ¨å½“å‰ç›®å½•ç”Ÿæˆå¯†é’¥: è¿™æ®µä»£ç æ‰§è¡Œå®Œæˆä¹‹åï¼Œä¼šåœ¨ç›®å½•ä¸­ç”Ÿæˆ2ä¸ªæ–‡ä»¶ï¼Œç§é’¥deploy_rsaå’Œå…¬é’¥deploy_rsa.pubï¼Œå‰è€…æ˜¯ç”¨æ¥å…å¯†ç™»å½•æœåŠ¡å™¨æ—¶å€™ä½¿ç”¨çš„ï¼Œåè€…æœåŠ¡å™¨ç”¨æ¥é‰´å®šç§é’¥çš„æœ‰æ•ˆæ€§çš„ã€‚ssh-keygen -t rsa -b 4096 -C 'build@travis-ci.org' -f ./deploy_rsa ä¸‹é¢çš„æ“ä½œå¾—åœ¨Githubä»“åº“ä¸‹ 12345678# ä½¿ç”¨TravisåŠ å¯†, æ³¨æ„åŠ ä¸Š--pro æŒ‡å®šapi, æ‰§è¡Œå®Œå‘½ä»¤ï¼Œä¼šç”ŸæˆåŠ å¯†æ–‡ä»¶ id_rsa.encï¼Œ.travis.yml ä¸­ä¼šè¢«å†™å…¥è§£å¯†å‘½ä»¤ï¼šè¿™å‡ è¡Œè¢«è‡ªåŠ¨æ·»åŠ çš„ä»£ç çš„æ„æ€æ˜¯ï¼Œåœ¨`install`ä¹‹å‰æ‰§è¡Œè§£å¼€`deploy_rsa.enc`æ–‡ä»¶çš„å‘½ä»¤å¹¶æ”¾ç½®åˆ°`deploy_rsa`ä»¥ä¾›ä½¿ç”¨ï¼Œå…¶ä¸­è¿™é‡Œçš„`$encrypted_137f45644142_key`å’Œ`$encrypted_137f45644142_iv`æ˜¯è§£å¼€è¿™ä¸ªæ–‡ä»¶çš„ä¸¤ä¸ªå˜é‡è¢«å­˜å‚¨åœ¨äº†`Travis`çš„æœåŠ¡å™¨ä¸Šã€‚travis encrypt-file deploy_rsa --add --pro# æ·»åŠ ä¿¡ä»»å…³ç³»: è¿™å¥è¯çš„æ„æ€æ˜¯å‘ç›®æ ‡æœåŠ¡å™¨(&lt;ssh-user&gt;@&lt;deploy-host&gt;è¿™é‡Œçš„userå’Œhostéœ€è¦æ›¿æ¢æˆè‡ªå·±æœåŠ¡å™¨çš„ç”¨æˆ·åå’Œåœ°å€)æ·»åŠ å…¬é’¥ï¼Œæ·»åŠ æˆåŠŸä¹‹åï¼Œæ‰€æœ‰ç”¨è¯¥å…¬é’¥å¯¹åº”çš„ç§é’¥è®¿é—®æœåŠ¡å™¨éƒ½ä¼šç›´æ¥è¢«è®¤è¯é€šè¿‡ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœTravisä¿æŒäº†ç§é’¥çš„è¯ï¼Œå°±å¯ä»¥å…å¯†çš„é€šè¿‡sshç™»å½•æˆ‘ä»¬çš„æœåŠ¡å™¨äº†ã€‚ssh-copy-id -i deploy_rsa.pub &lt;ssh-user&gt;@&lt;deploy-host&gt; # # åˆ é™¤æ•æ„Ÿæ–‡ä»¶: ç§é’¥deploy_rsaå’Œå…¬é’¥deploy_rsa.pubå·²ç»å®Œæˆäº†ä»–ä»¬çš„ä½¿å‘½ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒåˆ é™¤ä»¥å…è¢«å…¶ä»–äººæ¶æ„ä½¿ç”¨ï¼Œå¹¶æŠŠç”Ÿæˆçš„åŠ å¯†æ–‡ä»¶deploy_rsa.encå’Œä¿®æ”¹åçš„.travis.ymlæ·»åŠ åˆ°gitä¸­ã€‚rm -f deploy_rsa deploy_rsa.pub# å°†ä¿®æ”¹æ·»åŠ åˆ°gitä¸­git add deploy_rsa.enc .travis.yml ç”Ÿæˆçš„.travis.ymlæ–‡ä»¶å†…å®¹ 123before_install: # å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªå˜é‡: encrypted_f217180e22ee_key, encrypted_f217180e22ee_iv - openssl aes-256-cbc -K $encrypted_f217180e22ee_key -iv $encrypted_f217180e22ee_iv -in id_rsa.enc -out id_rsa -d -in è¡¨ç¤ºè¾“å…¥æ–‡ä»¶ï¼Œå³æˆ‘ä»¬è¦è§£å¯†çš„æ–‡ä»¶ -out è¡¨ç¤ºè§£å¯†åçš„æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å°†è·¯å¾„ä¿®æ”¹ä¸º ~/.ssh/id_rsa â–².åŒæ—¶travisä»“åº“ä¸­ä¹Ÿå‡ºç°äº†encrypted_f217180e22ee_key, encrypted_f217180e22ee_ivè¿™ä¸¤ä¸ªå˜é‡ æ‰€æœ‰çš„ä¸€åˆ‡éƒ½å‡†å¤‡å¥½ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¿®æ”¹.travis.ymlæ–‡ä»¶è®©travisæ¥è¿›è¡Œéƒ¨ç½²äº†ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨éƒ¨ç½²ä¹‹å‰è§£å¯†ç§é’¥ï¼Œå¹¶ä½¿å…¶ç”Ÿæ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 123456789101112131415161718before_install: # ä¸€è¡Œæ˜¯è§£å¯†sshæ–‡ä»¶ï¼Œåé¢çš„3è¡Œæ˜¯ä½¿sshå¯†é’¥ç”Ÿæ•ˆ # æŠŠé¡¹ç›®ä¸‹çš„deploy_rsa.encåŠ å¯†æ–‡ä»¶ï¼Œè§£å¯†è¾“å‡ºåˆ°/tmp/deploy_rsaä¸­, ä¸€èˆ¬æ˜¯~/.ssh/id_rsa, ä¸è¿‡ä¹Ÿè·Ÿå¦‚ä½•ssh-keygenæœ‰å…³ - openssl aes-256-cbc -K $encrypted_137f45644142_key -iv $encrypted_137f45644142_iv -in deploy_rsa.enc -out /tmp/deploy_rsa -d # å¼€å¯ ssh-agentï¼Œå³å…è®¸ä½¿ç”¨ ssh å‘½ä»¤ - eval \"$(ssh-agent -s)\" # ç»™äºˆ id_rsa æ–‡ä»¶æƒé™ï¼Œé¿å…è­¦å‘Š - chmod 600 /tmp/deploy_rsa # å°†ç§é’¥æ·»åŠ åˆ°ssh(çœ‹å…¶ä»–æ•™ç¨‹è¿™ä¸€æ­¥è²Œä¼¼ä¸éœ€è¦) - ssh-add /tmp/deploy_rsa after_success: # ä¸‹é¢å°±æ˜¯ä¸€äº›éœ€è¦è¿œç¨‹ç™»é™†çš„å‘½ä»¤å•¦: scp, ssh, - scp -o stricthostkeychecking=no -r target/wx-java-miniapp-0.0.1-SNAPSHOT.jar &lt;ssh-user&gt;@&lt;deploy-host&gt;:/www/wwwroot/travis-app/wx-java-miniapp - ssh &lt;ssh-user&gt;@&lt;deploy-host&gt; -o stricthostkeychecking=no \"mkdir travis_deploy_success\" - rsync -az --delete ./dist/* &lt;USERNAME&gt;@&lt;HOST&gt;:&lt;TARGET-PATH&gt; ä¸Šä¼ è§¦å‘æµ‹è¯•, git commit -m &quot;xxx&quot; &amp;&amp; git push 123456789101112131415161718192021222324252627282930language: node_jsnode_js: - lts/*branches: only: - main - masterinstall: - npm install yarnbefore_script: # æŠŠé¡¹ç›®ä¸‹çš„deploy_rsa.encåŠ å¯†æ–‡ä»¶ï¼Œè§£å¯†è¾“å‡ºåˆ°/tmp/deploy_rsaä¸­ - openssl aes-256-cbc -K $encrypted_db2095f63ba3_key -iv $encrypted_db2095f63ba3_iv -in deploy_rsa.enc -out /tmp/deploy_rsa -d - eval \"$(ssh-agent -s)\" # ç»™äºˆ id_rsa æ–‡ä»¶æƒé™ï¼Œé¿å…è­¦å‘Š - chmod 600 /tmp/deploy_rsa # å°†ç§é’¥æ·»åŠ åˆ° ssh - ssh-add /tmp/deploy_rsascript: - yarn buildafter_success: - echo \"success!\"services: - dockeraddons: ssh_known_hosts: - 49.235.118.244after_success: # éäº¤äº’æ–¹å¼ç™»å½• StrictHostKeyChecking=no - ssh mrli@49.235.118.244 -o stricthostkeychecking=no \"docker run -d --name cgf -p 3000:80 nymrli/sucsoft-inititializer-front\" å‚è€ƒï¼š æ•™ç¨‹ï¼šhttps://juejin.cn/post/6844903780819927053â€”â€”æ–‡ç« æ˜¯2017å¹´çš„ï¼Œä½†æ€è·¯æ˜¯å¯¹çš„ ç¤ºä¾‹é¡¹ç›®ï¼šhttps://github.com/gongsir0630/wx-java-miniappâ€”â€”æ–‡ä»¶æ˜¯2021å¹´æ¯”è¾ƒæ–°ï¼Œä½†åŸºæœ¬æ²¡è®²è§£ï¼Œåªæ˜¯è·‘é€šäº† ä½¿ç”¨Travis CIéƒ¨ç½²é¡¹ç›®åˆ°æœåŠ¡å™¨â€”â€”åˆ›å»ºä¸“é—¨ç»™travisä½¿ç”¨çš„è´¦æˆ·ã€å§traviså®‰è£…åœ¨dockerä¸­ é™„å½•ï¼š CICDæ¦‚å¿µ æŒç»­é›†æˆï¼šä»¥å‰æ˜¯å¤šä¸ªå¼€å‘æµ‹è¯•å®Œæ¯•åï¼Œæ‰æŠŠä»£ç å¾€ä¸»åˆ†æ”¯ä¸Šåˆå¹¶ï¼Œå¯èƒ½äº¤å‰ã€å†²çªï¼Œåˆå¹¶ä¹‹åè¿˜å¯èƒ½äº§ç”Ÿæ–°çš„é—®é¢˜ã€‚è€ŒæŒç»­é›†æˆï¼Œå°±æ˜¯ç»å¸¸æäº¤ä»£ç åˆ°ä¸»åˆ†æ”¯ï¼Œä¸€å¤©å¯èƒ½å¥½å‡ æ¬¡ã€‚å¹¶ä¸”ï¼Œè‡ªåŠ¨åŒ–åœ°è¿›è¡Œå•å…ƒæµ‹è¯•å¹¶æä¾›æµ‹è¯•æŠ¥å‘Šç­‰ï¼Œè¿™æ ·çš„è¯å°±èƒ½æ‹†åˆ†ç»†åº¦é¢—ç²’ï¼Œä¿è¯äº§å“èƒ½å¤Ÿä¸€æ­¥ä¸€æ­¥åœ°å®‰å…¨å¯é åœ°è¿­ä»£ã€‚å¾ˆå¤šä»¥æµ‹è¯•é©±åŠ¨å¼€å‘çš„å…¬å¸å°±æ˜¯è¿™æ ·åšçš„ã€‚ æŒç»­äº¤ä»˜ï¼šæŒç»­é›†æˆçš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ‰“åŒ…æ„å»ºå½¢æˆäº§ç‰©ã€‚ æŒç»­éƒ¨ç½²ï¼šæŒç»­äº¤ä»˜çš„åŸºç¡€ä¸Šï¼Œå¢åŠ éƒ¨ç½²åˆ°ç›¸åº”çš„çº¿ä¸Šç¯å¢ƒã€‚ æ€»è€Œè¨€ä¹‹ï¼Œè¿™äº›æŒç»­åšçš„äº‹æƒ…ï¼Œå°±æ˜¯ä¸ºäº†ç»å¸¸æäº¤ä»£ç è‡ªåŠ¨åŒ–æµ‹è¯•ã€è¿è¡Œã€éƒ¨ç½²ï¼Œåé¦ˆé—®é¢˜ï¼Œè§£å†³é—®é¢˜ï¼Œå†æµ‹è¯•ã€è¿è¡Œã€éƒ¨ç½²ä¾æ¬¡å¾ªç¯ã€‚æŒç»­éƒ¨ç½²è¿˜æœ‰ä¸ªå¥½å¤„ï¼Œå¯¹æˆ‘ä»¬ä¸ªäººç½‘ç«™æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æäº¤ä»£ç ï¼Œåç»­ä¸€ç³»åˆ—è¿‡ç¨‹éƒ½æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œå°±ä¸ç”¨ç®¡äº†ï¼Œå®ƒè‡ªå·±è‡ªåŠ¨éƒ¨ç½²å‘å¸ƒã€‚ æ¡ˆä¾‹ 1234567891011121314151617181920212223242526272829303132333435language: javaos: linuxdist: xenialjdk:- openjdk8env: global: - COMMIT=$&#123;TRAVIS_COMMIT::7&#125;addons: ssh_known_hosts: - 39.106.230.88services:- dockerscript: mvn clean package -Dmaven.test.skip=trueafter_success:- echo \"$DOCKER_PASSWORD\" | docker login -u \"$DOCKER_USERNAME\" --password-stdin- export TAG=`if [ \"$TRAVIS_BRANCH\" == \"main\" ]; then echo \"latest\"; else echo $TRAVIS_BRANCH;fi`- export IMAGE_NAME=gongsir0630/wx-java-miniapp- docker build -t $IMAGE_NAME:$COMMIT .- docker tag $IMAGE_NAME:$COMMIT $IMAGE_NAME:$TAG- docker push $IMAGE_NAME:$TAG- scp -o stricthostkeychecking=no -r target/wx-java-miniapp-0.0.1-SNAPSHOT.jar travis@yzhelp.top:/www/wwwroot/travis-app/wx-java-miniapp- ssh travis@yzhelp.top -o stricthostkeychecking=no \"sh /www/wwwroot/travis-app/wx-java-miniapp/restart.sh\"branches: only: - mainnotifications: email: - gongsir0630@gmail.combefore_install: - openssl aes-256-cbc -K $encrypted_f217180e22ee_key -iv $encrypted_f217180e22ee_iv -in id_rsa.enc -out ~/.ssh/id_rsa -d - chmod 600 ~/.ssh/id_rsa - echo -e \"Host yzhelp.top\\n\\tStrictHostKeyChecking no\\n\" &gt;&gt; ~/.ssh/config My demo: 1234567891011121314151617181920212223242526272829303132333435363738394041424344language: node_jsnode_js: - lts/*branches: only: - main - masterinstall: - npm install yarnaddons: ssh_known_hosts: - 49.235.118.244env: global: - IMAGE_NAME=nymrli/sucsoft-inititializer-front - IMAGE_TAG=latest - CONTAINER_NAME=cgfbefore_script: - docker login -u $DOCKERHUB_USERNAME -p $DOCKERHUB_PASSWORD # æŠŠé¡¹ç›®ä¸‹çš„deploy_rsa.encåŠ å¯†æ–‡ä»¶ï¼Œè§£å¯†è¾“å‡ºåˆ°/tmp/deploy_rsaä¸­ - openssl aes-256-cbc -K $encrypted_db2095f63ba3_key -iv $encrypted_db2095f63ba3_iv -in deploy_rsa.enc -out /tmp/deploy_rsa -d - eval \"$(ssh-agent -s)\" # ç»™äºˆ id_rsa æ–‡ä»¶æƒé™ï¼Œé¿å…è­¦å‘Š - chmod 600 /tmp/deploy_rsa # å°†ç§é’¥æ·»åŠ åˆ° ssh - ssh-add /tmp/deploy_rsascript: - yarn buildafter_success: - docker build -t $&#123;IMAGE_NAME&#125;:$&#123;IMAGE_TAG&#125; . - docker push $&#123;IMAGE_NAME&#125;:$&#123;IMAGE_TAG&#125; # åœæ­¢å’Œåˆ é™¤å·²æœ‰å®¹å™¨ï¼Œåˆ é™¤å·²æœ‰é•œåƒå¹¶è¿è¡Œæ–°é•œåƒ - ssh mrli@49.235.118.244 -o stricthostkeychecking=no \"docker stop $&#123;CONTAINER_NAME&#125;; docker rm $&#123;CONTAINER_NAME&#125; ;docker rmi $(docker images -q $&#123;IMAGE_NAME&#125;:$&#123;IMAGE_TAG&#125;);docker run -d --name $&#123;CONTAINER_NAME&#125; -p 3000:80 $&#123;IMAGE_NAME&#125;:$&#123;IMAGE_TAG&#125;\" - echo \"success!\" services: - docker travis.ymlä¸­çš„å®å˜é‡ 123456- $TRAVIS_BRANCH- $GH_TOKENï¼ˆç”Ÿæˆçš„ Personal access tokensï¼‰ $GIT_NAMEï¼ˆéƒ¨ç½²æ—¶çš„æäº¤è€…åç§°ï¼‰ $GIT_EMAILï¼ˆéƒ¨ç½²æ—¶çš„æäº¤è€…é‚®ç®±ï¼‰ $CUSTOM_DOMAINï¼ˆè‡ªå®šä¹‰åŸŸåï¼‰ $CUSTOM_PATHï¼ˆè‡ªå®šä¹‰è¾“å‡ºç›®å½•ï¼‰ ç¯å¢ƒå˜é‡å’Œéå…¬å¼€ç¯å¢ƒå˜é‡ .travis.ymlçš„envå­—æ®µå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚ 1234env: - DB=postgres - SH=bash - PACKAGE_VERSION=&quot;1.0.*&quot; ç„¶åï¼Œè„šæœ¬å†…éƒ¨å°±ä½¿ç”¨è¿™äº›å˜é‡äº†ã€‚ è€Œæœ‰äº›ç¯å¢ƒå˜é‡ï¼ˆæ¯”å¦‚ç”¨æˆ·åå’Œå¯†ç ï¼‰ä¸èƒ½å…¬å¼€ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡ Travis ç½‘ç«™ï¼Œå†™åœ¨æ¯ä¸ªä»“åº“çš„è®¾ç½®é¡µé‡Œé¢ï¼ŒTravis ä¼šè‡ªåŠ¨æŠŠå®ƒä»¬åŠ å…¥ç¯å¢ƒå˜é‡ã€‚è¿™æ ·ä¸€æ¥ï¼Œè„šæœ¬å†…éƒ¨ä¾ç„¶å¯ä»¥ä½¿ç”¨è¿™äº›ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯åªæœ‰ç®¡ç†å‘˜æ‰èƒ½çœ‹åˆ°å˜é‡çš„å€¼ã€‚å…·ä½“æ“ä½œè¯·çœ‹å®˜æ–¹æ–‡æ¡£ã€‚","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"}]},{"title":"Java Logger","slug":"Java-Logger","date":"2021-10-20T09:15:14.000Z","updated":"2021-10-25T08:32:07.610Z","comments":true,"path":"2021/10/20/Java-Logger/","link":"","permalink":"https://nymrli.top/2021/10/20/Java-Logger/","excerpt":"","text":"Java Loggerâ€”â€”Javaçš„æ—¥å¿—ä½“ç³» åœ¨JDK 1.3åŠä»¥å‰ï¼ŒJavaæ‰“æ—¥å¿—ä¾èµ–System.out.println(), System.err.println()æˆ–è€…e.printStackTrace()ï¼ŒDebugæ—¥å¿—è¢«å†™åˆ°STDOUTæµï¼Œé”™è¯¯æ—¥å¿—è¢«å†™åˆ°STDERRæµã€‚è¿™æ ·æ‰“æ—¥å¿—æœ‰ä¸€ä¸ªéå¸¸å¤§çš„ç¼ºé™·ï¼Œå³æ— æ³•å®šåˆ¶åŒ–ï¼Œä¸”æ—¥å¿—ç²’åº¦ä¸å¤Ÿç»†ã€‚ äºæ˜¯ï¼Œ GÃ¼lcÃ¼ äº2001å¹´å‘å¸ƒäº†Log4jï¼Œåæ¥æˆä¸ºApache åŸºé‡‘ä¼šçš„é¡¶çº§é¡¹ç›®ã€‚Log4j åœ¨è®¾è®¡ä¸Šéå¸¸ä¼˜ç§€ï¼Œå¯¹åç»­çš„ Java Log æ¡†æ¶æœ‰é•¿ä¹…è€Œæ·±è¿œçš„å½±å“ï¼Œå®ƒå®šä¹‰çš„Loggerã€Appenderã€Levelç­‰æ¦‚å¿µå¦‚ä»Šå·²ç»è¢«å¹¿æ³›ä½¿ç”¨ã€‚Log4j çš„çŸ­æ¿åœ¨äºæ€§èƒ½ï¼Œåœ¨Logback å’Œ Log4j2 å‡ºæ¥ä¹‹åï¼ŒLog4jçš„ä½¿ç”¨ä¹Ÿå‡å°‘äº†ã€‚ æ•´ä¸ªåˆ†ç±»å’Œå‘å±•å†ç¨‹å¦‚ä¸‹ï¼š ![Java Logging](./Java-Logger/Java Logging.png) å…¶ä¸­ï¼Œç›®å‰æ¯”è¾ƒä¸»æµçš„ä½¿ç”¨æ–¹æ³•å’Œæ€§èƒ½è¾ƒé«˜çš„ç»„åˆæ˜¯ï¼ŒSLF4J + Logback SLF4J-Simple Logging Facade for Java çœ‹è‹±æ–‡å…¨å†™å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸ªä¸œä¸œæ˜¯Javaä¸­æ—¥å¿—å®ç°çš„ä¸€ä¸ªç®€å•æ¥å£ï¼Œæ˜¯å¯¹å¤šç§æ—¥å¿—loggingæ¡†æ¶çš„ä¸€ä¸ªæŠ½è±¡ï¼Œå¦‚jul:java.util.loggingã€logbackã€log4j å¤§å®¶åœ¨è‡ªå·±å†™é¡¹ç›®çš„æ—¶å€™éƒ½ä¼šç”¨åˆ°æ—¥å¿—è®°å½•çš„åŠŸèƒ½ï¼Œè€Œé€šå¸¸ä¸‹æ¥ï¼Œæˆ‘ä»¬åªè®°å¾—æƒ³ç”¨çš„æ—¶å€™åœ¨ç±»å†…åå•†var logger: Log = LogFactory.getLog(VerticalAlgorithm::class.java)--Koltinorprivate Log logger = LogFactory.getLog(VerticalAlgorithm.class)--Javaï¼Œè€Œç­‰åˆ°è‡ªå·±å†™ä¾èµ–çš„æ—¶å€™å´ä¸çŸ¥é“æ˜¯å’‹å›äº‹ï¼ŒåªçŸ¥é“Javaçš„æ—¥å¿—ç³»ç»Ÿè²Œä¼¼æŒºå¤æ‚çš„ã€‚å®é™…ä¸Šï¼Œä¸Šé¢çš„ä»£ç æ˜¯ä½¿ç”¨äº†SLF4Jçš„è§„èŒƒï¼Œå¦‚æœä¸æ­£ç¡®å¼•å…¥ä¾èµ–çš„è¯è¿è¡Œæ—¶ä¼šæŠ¥å¦‚ä¸‹çš„é”™è¯¯ï¼š SLF4J: No SLF4J providers were found ç„¶è€Œæ£€æŸ¥ä¾èµ–æ—¶ï¼Œä¼šå‘ç°å·²ç»å¼•å…¥slf4j-apiäº†ï¼Œç„¶è€Œè¿˜æ˜¯æŠ¥é”™äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…¶åŸå› æ˜¯ï¼ŒSLF4Jæœ¬èº«ä¸æ˜¯ä¸€ä¸ªæ—¥å¿—åº“ï¼Œè€Œæ˜¯ä¸€ä¸ªæ—¥å¿—åº“çš„æŠ½è±¡å±‚ï¼Œå®ƒå¿…é¡»ä¾èµ–åº•å±‚çš„æ—¥å¿—åº“ã€‚ è¯¦æƒ…è§SLF4Jå®˜ç½‘æä¾›çš„å›¾ï¼š ä¸¤å±‚: æŠ½è±¡å±‚+å®ç°å±‚ ä»å›¾ä¸­å¯çŸ¥ï¼ŒSLF4Jå¿…é¡»å’Œå…¶ä»–æ—¥å¿—åº“é…åˆæ‰èƒ½æ­£å¸¸è¿è¡Œã€‚å› æ­¤ä¸€èˆ¬æ¥è¯´ï¼Œéœ€è¦å°†æŠ½è±¡å±‚ï¼ˆä¾‹å¦‚slf4j-api-xx.jarï¼‰+ä¸­é—´å±‚ï¼ˆä¾‹å¦‚slf4j-log4j12ï¼‰+å®ç°å±‚ï¼ˆä¾‹å¦‚log4jï¼‰è¿™ä¸‰å±‚éƒ½é…ç½®å¥½æ‰èƒ½ä¿è¯SLF4Jæ­£å¸¸è¿è¡Œã€‚ å¦å¤–ï¼Œæœ‰çš„æ—¥å¿—åº“å¯ä»¥å»æ‰ä¸­é—´å±‚ï¼Œä¾‹å¦‚slf4j-apiå’Œslf4j-simpleå°±å¯ä»¥ç›´æ¥é…åˆã€‚ 123456789101112&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;1.8.0-beta0&lt;/version&gt;&lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt; &lt;version&gt;1.8.0-beta0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- --&gt;æ³¨ä¸¤ä¸ªç‰ˆæœ¬æ˜¯ä¸€è‡´çš„&lt;!-- --&gt; è¿™ç§æ–¹å¼å°±æ˜¯æŠ½è±¡å±‚+å®ç°å±‚çš„ç»„åˆã€‚ä½¿ç”¨è¿™ç§æ–¹å¼åªéœ€è¦ä¸¤ä¸ªjaråŒ… ä¸‰å±‚ï¼š æŠ½è±¡å±‚+å®ç°å±‚ æŒ‰ç…§å›¾ç‰‡æ‰€å±•ç¤ºçš„ï¼Œä¹Ÿæœ‰æŠ½è±¡å±‚+ä¸­é—´å±‚+å®ç°å±‚ä¸‰å±‚çš„å®ç°æ–¹å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;1.8.0-beta0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;1.8.0-beta0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt; ç„¶è€Œï¼Œç›´æ¥ä½¿ç”¨çš„è¯è¿˜æ˜¯ä¼šå‡ºç°ä¸€ç‚¹é—®é¢˜ï¼šNo appenders could be found for logger(log4j)? è¿™å…¶å®æ˜¯è¦æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶log4j.propertieså£°æ˜appendersï¼Œå†…å®¹å¦‚ä¸‹ï¼ˆå†…å®¹å¯ä»¥è‡ªå®šä¹‰ï¼‰ï¼š 123456789# Set root logger level to DEBUG and its only appender to A1.log4j.rootLogger=DEBUG, A1 # A1 is set to be a ConsoleAppender.log4j.appender.A1=org.apache.log4j.ConsoleAppender # A1 uses PatternLayout.log4j.appender.A1.layout=org.apache.log4j.PatternLayoutlog4j.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n æœ€ä½³å®è·µ æ¨èä½¿ç”¨ SLF4J + Logbackã€‚mavenä¾èµ–å¦‚ä¸‹ï¼Œå…¶ä¸­versionå­—æ®µç”¨å ä½ç¬¦ä»£æ›¿ï¼Œåº”è¯¥æ ¹æ®é¡¹ç›®çš„å®é™…æƒ…å†µé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ï¼š 123456789101112131415161718&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;1.6.4&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-core&lt;/artifactId&gt; &lt;version&gt;1.0.6&lt;/version&gt; &lt;/dependency&gt;--&gt;&lt;!-- è¯¥ä¾èµ–åŒ…æ‹¬äº†ä¸Šé¢ä¸¤ä¸ªä¾èµ–ï¼Œæ‰€ä»¥åªè¦å¼•å…¥è¯¥ä¾èµ–å³å¯ --&gt;&lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.0.6&lt;/version&gt;&lt;/dependency&gt; SLF4Jé€‚é… å› ä¸ºå½“æ—¶Javaçš„æ—¥å¿—ç»„ä»¶æ¯”è¾ƒæ··ä¹±ç¹æ‚ï¼ŒCeki GÃ¼lcÃ¼æ¨å‡ºslf4jåï¼Œä¹Ÿç›¸åº”ä¸ºè¡Œä¸šä¸­å„ä¸ªä¸»æµæ—¥å¿—ç»„ä»¶æ¨å‡ºäº†slf4jçš„é€‚é…ã€‚å› æ­¤slf4jæ”¯æŒå„ç§é€‚é…ï¼Œæ— è®ºä½ ç°åœ¨æ˜¯ç”¨å“ªç§æ—¥å¿—ç»„ä»¶ï¼Œä½ éƒ½å¯ä»¥é€šè¿‡slf4jçš„é€‚é…å™¨æ¥ä½¿ç”¨ä¸Šslf4jã€‚åªè¦ä½ åˆ‡æ¢åˆ°äº†slf4jï¼Œé‚£ä¹ˆå†é€šè¿‡slf4jç”¨ä¸Šå®ç°ç»„ä»¶ã€‚ç»™å¤§å®¶ä¸€ä¸ªæ•´ä½“çš„ä¾èµ–å›¾ï¼ˆç½‘ä¸Šçœ‹åˆ°çš„ï¼‰ Logback åœ¨ä»£ç ä¸­ä½¿ç”¨æ–¹å¼ä¸»è¦å‚è€ƒSLF4J APIå¦‚ä½•ä½¿ç”¨å³å¯ï¼ŒLogbackç›¸å…³çš„ä¸»è¦æ˜¯å…¶é…ç½®æ–‡ä»¶logback.xmlã€‚ é¦–å…ˆï¼Œå¦‚æœä¾èµ–äº†logbackï¼Œä½†åœ¨resourcesä¸­æ²¡æœ‰åˆ›å»ºlogback.xmlçš„é…ç½®æ–‡ä»¶ï¼Œåˆ™é»˜è®¤è¾“å‡ºåˆ°æ§åˆ¶å°ä¸”è¾“å‡ºçº§åˆ«ä¸ºtraceä»¥ä¸Šã€‚ 12314:59:54,588 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]14:59:54,589 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]14:59:54,589 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/F:/JavaCode/plainJava/target/classes/logback.xml] å¦‚æœè¦è‡ªå®šä¹‰é…ç½®ï¼Œåˆ™å¯ä»¥åƒå¦‚ä¸‹å®šä¹‰ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;configuration xmlns=\"http://ch.qos.logback/xml/ns/logback\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://ch.qos.logback/xml/ns/logback https://raw.githubusercontent.com/enricopulatzo/logback-XSD/master/src/main/xsd/logback.xsd\"&gt; &lt;property name=\"LOG_HOME\" value=\"tp/log\"/&gt; &lt;!-- è¾“å‡ºåˆ°æ§åˆ¶å° --&gt; &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\" &gt; &lt;!-- è¾“å‡ºçš„æ ¼å¼ --&gt; &lt;encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125;: %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.FileAppender\"&gt; &lt;file&gt;F:\\JavaCode\\plainJava\\src\\main\\resources\\\\test1.log&lt;/file&gt; &lt;encoder&gt; &lt;pattern&gt;%date&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;35&#125; - %msg %n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;appender name=\"RollAppender\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt; &lt;!-- é…ç½®æ»šåŠ¨çš„ç­–ç•¥ --&gt; &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt; &lt;!-- æ—¥å¿—åç§°çš„æ ¼å¼ --&gt; &lt;fileNamePattern&gt;$&#123;LOG_HOME&#125;/logback.log.%d&#123;yyyy-MM-dd&#125;&lt;/fileNamePattern&gt; &lt;!-- ä¿å­˜çš„æœ€é•¿æ—¶é—´ï¼šå¤©æ•° --&gt; &lt;MaxHistory&gt;1&lt;/MaxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125;: %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- æ³¨æ„ï¼š levelå±æ€§ä¹Ÿå¯ä»¥ç›´æ¥å†™åœ¨loggerä¸Šï¼Œå¦‚ï¼š &lt;logger name=\"ws.log.logback.LogbackTest\" additivity=\"false\" level=\"INFO\"&gt; &lt;appender-ref ref=\"STDOUT\" /&gt; &lt;/logger&gt; --&gt; &lt;logger name=\"ws.log.logback.LogbackTest\" additivity=\"false\"&gt; &lt;level value=\"INFO\" /&gt; &lt;appender-ref ref=\"STDOUT\" /&gt; &lt;/logger&gt; &lt;!-- ç›¸å½“äºloggerå…ƒç´ ï¼Œåªæ˜¯nameå€¼å·²ç»ç¡®å®šä¸ºrootäº† --&gt; &lt;root level=\"warn\"&gt; &lt;appender-ref ref=\"STDOUT\" /&gt; &lt;/root&gt;&lt;/configuration&gt; è®²è§£ä¸‹RollingFileAppenderï¼Œ è¿™ä¸ªæ˜¯æˆ‘ä»¬åœ¨æ—¥å¸¸æ—¥å¿—ç³»ç»Ÿé‡Œç»å¸¸èƒ½çœ‹åˆ°çš„æ¨¡å¼ã€‚ç”±äºæ—¥å¿—æ•°é‡ä¼šè¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥å¦‚æœéƒ½æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å†…çš„è¯ï¼Œä¼šå¯¼è‡´æ–‡ä»¶å¤§å°å˜å¾—å¾ˆå¤§ï¼Œå› æ­¤é€šè¿‡æ—¶é—´é—´éš”åˆ†å‰²å°†èƒ½æ›´å¥½åœ°åˆ†å‰²æ—¥å¿—æ–‡ä»¶ï¼Œä¹Ÿæœ‰åŠ©äºä¹‹åæ—¥å¸¸åœ°æŸ¥è¯¢ã€‚å…³äºRollingFileAppenderå…¶ä¸­Fileå±æ€§çš„è®¾å®šå¦‚ä¸‹ï¼š è®¾ç½®Fileå±æ€§ ç³»ç»Ÿä¼šå°†æ—¥å¿—å†…å®¹å…¨éƒ¨å†™å…¥log/check.logä¸­ã€‚ åœ¨2019-06-05å‡Œæ™¨ï¼Œcheck.logä¼šè¢«é‡å‘½åä¸ºlog/check.2019-06-04.logã€‚ ç„¶åå†ç”Ÿæˆæ–°çš„check.logæ–‡ä»¶ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ç”Ÿæˆlog/check.2019-06-05.logã€log/check.2019-06-06.logç­‰æ—¥å¿—ã€‚ å¿½ç•¥Fileå±æ€§ ç³»ç»Ÿä¼šå°†æ—¥å¿—å†…å®¹ç›´æ¥å†™å…¥log/check.2019-06-04.logä¸­ã€‚ åœ¨2019-06-05å‡Œæ™¨ï¼Œç³»ç»Ÿä¼šå°†æ—¥å¿—å†…å®¹ç›´æ¥å†™å…¥log/check.2019-06-04.logã€‚ å³ä»¥2019-06-04ä¸ºä¾‹ï¼Œå¦‚æœä½ è®¾ç½®äº†Fileå±æ€§ï¼Œå½“å¤©ä½ åªèƒ½çœ‹åˆ°check.logæ—¥å¿—æ–‡ä»¶ï¼Œ2019-06-05æ‰ä¼šçœ‹åˆ°check.201-06-04.logæ–‡ä»¶ã€‚ä½†æ˜¯å¦‚æœä½ å¿½ç•¥äº†ï¼Œä½ å½“å¤©å°±èƒ½çœ‹åˆ°check.2019-06-04.logæ–‡ä»¶ï¼Œä½†ä½ å§‹ç»ˆçœ‹ä¸åˆ°check.logæ–‡ä»¶ã€‚ 12345678910111213141516&lt;appender name=\"emergencyLog\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt; &lt;!-- å†™å…¥æ—¥å¿—å†…å®¹çš„æ–‡ä»¶åç§°ï¼ˆç›®å½•ï¼‰ --&gt; &lt;File&gt;log/check.log&lt;/File&gt; &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt; &lt;!-- æ´»åŠ¨æ–‡ä»¶çš„åå­—ä¼šæ ¹æ®fileNamePatternçš„å€¼ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´æ”¹å˜ä¸€æ¬¡ --&gt; &lt;fileNamePattern&gt;log/check.%d&#123;yyyy-MM-dd&#125;.log&lt;/fileNamePattern&gt; &lt;!-- æ¯äº§ç”Ÿä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œè¯¥æ—¥å¿—æ–‡ä»¶çš„ä¿å­˜æœŸé™ä¸º30å¤© --&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;!-- patternèŠ‚ç‚¹ï¼Œç”¨æ¥è®¾ç½®æ—¥å¿—çš„è¾“å…¥æ ¼å¼ --&gt; &lt;pattern&gt;%d&#123;yyyy-MM-dd HH:mm:ss&#125; %-5level %logger [%msg]%n&lt;/pattern&gt; &lt;!-- è®°å½•æ—¥å¿—çš„ç¼–ç :æ­¤å¤„è®¾ç½®å­—ç¬¦é›† - --&gt; &lt;charset&gt;UTF-8&lt;/charset&gt; &lt;/encoder&gt;&lt;/appender&gt; ä»¥ä¸Šè¿°é…ç½®æ‰§è¡Œçš„è¯ï¼Œä¼šåœ¨å·¥ç¨‹æ ¹ç›®å½•å³srcã€.ideaé‚£å±‚ç”Ÿæˆlogæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«æ—¥å¿—logã€‚å³ç›¸å¯¹è·¯å¾„æ˜¯ä»¥æ ¹ç›®å½•ä¸ºèµ·ç‚¹çš„ é™„å½• (J)CLä½¿ç”¨æ–¹å¼ 123456import org.apache.commons.logging.Logimport org.apache.commons.logging.object VerticalAlgorithm : RemappingAlgorithm &#123; var logger: Log = LogFactory.getLog(VerticalAlgorithm::class.java)&#125; slf4jä½¿ç”¨æ–¹å¼ 12345678910import org.slf4j.Logger;import org.slf4j.LoggerFactory;public class LogTest &#123; public static void main(String[] args) &#123; Logger logger = LoggerFactory.getLogger(LogTest.class); logger.info(\"ues\"); &#125;&#125;// æˆ–è€…ä½¿ç”¨lombokçš„@Slf4jæ ‡æ³¨ç±»ä¸ŠåŠŸèƒ½æ—¶ä¸€æ ·çš„ å†æå‡ ç‚¹æœ€ä½³å®è·µæŒ‡å¯¼åŸåˆ™ï¼š æ€»æ˜¯ä½¿ç”¨ Log Facadeï¼Œè€Œä¸æ˜¯å…·ä½“çš„ Log Implementation åªæ·»åŠ ä¸€ä¸ª Log Implementation ä¾èµ– å…·ä½“çš„æ—¥å¿—ä¾èµ–åº”è¯¥è®¾ç½®ä¸º optionalï¼Œå¹¶ä½¿ç”¨ runtime scope â€‹ è®¾ä¸ºoptionalï¼Œä¾èµ–ä¸ä¼šä¼ é€’ï¼Œè¿™æ ·å¦‚æœä½ æ˜¯ä¸ªlibé¡¹ç›®ï¼Œç„¶ååˆ«çš„é¡¹ç›®ä½¿ç”¨äº†ä½ è¿™ä¸ªlibï¼Œä¸ä¼šè¢«å¼•å…¥ä¸æƒ³è¦çš„Log Implementation ä¾èµ–ï¼› Scopeè®¾ç½®ä¸ºruntimeï¼Œæ˜¯ä¸ºäº†é˜²æ­¢å¼€å‘äººå‘˜åœ¨é¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨Log Implementationä¸­çš„ç±»ï¼Œè€Œä¸ä½¿ç”¨Log Facadeä¸­çš„ç±»ã€‚ å¦‚æœæœ‰å¿…è¦, æ’é™¤ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ä¸­çš„Log Impementationä¾èµ– â€‹ è¿™æ˜¯å¾ˆå¸¸è§çš„ä¸€ä¸ªé—®é¢˜ï¼Œç¬¬ä¸‰æ–¹åº“çš„å¼€å‘è€…æœªå¿…ä¼šæŠŠå…·ä½“çš„æ—¥å¿—å®ç°æˆ–è€…æ¡¥æ¥å™¨çš„ä¾èµ–è®¾ç½®ä¸ºoptionalï¼Œç„¶åä½ çš„é¡¹ç›®ç»§æ‰¿äº†è¿™äº›ä¾èµ–â€”â€”å…·ä½“çš„æ—¥å¿—å®ç°æœªå¿…æ˜¯ä½ æƒ³ä½¿ç”¨çš„ï¼Œæ¯”å¦‚ä»–ä¾èµ–äº†Log4jï¼Œä½ æƒ³ä½¿ç”¨Logbackï¼Œè¿™æ—¶å°±å¾ˆå°´å°¬ã€‚å¦å¤–ï¼Œå¦‚æœä¸åŒçš„ç¬¬ä¸‰æ–¹ä¾èµ–ä½¿ç”¨äº†ä¸åŒçš„æ¡¥æ¥å™¨å’ŒLogå®ç°ï¼Œä¹Ÿæå®¹æ˜“å½¢æˆç¯ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨èçš„å¤„ç†æ–¹æ³•ï¼Œæ˜¯ä½¿ç”¨excludeæ¥æ’é™¤æ‰€æœ‰çš„è¿™äº›Logå®ç°å’Œæ¡¥æ¥å™¨çš„ä¾èµ–ï¼Œåªä¿ç•™ç¬¬ä¸‰æ–¹åº“é‡Œé¢å¯¹Log Facadeçš„ä¾èµ–ã€‚ é˜¿é‡Œæ—¥å¿—è§„èŒƒ é˜¿é‡Œå¯¹æ­¤çš„ä»£ç è§„èŒƒï¼š ã€å¼ºåˆ¶ã€‘åº”ç”¨ä¸­ä¸å¯ç›´æ¥ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿï¼ˆLog4jã€Logbackï¼‰ä¸­çš„ APIï¼Œè€Œåº”ä¾èµ–ä½¿ç”¨æ—¥å¿—æ¡†æ¶ SLF4J ä¸­çš„ APIï¼Œä½¿ç”¨é—¨é¢æ¨¡å¼çš„æ—¥å¿—æ¡†æ¶ï¼Œæœ‰åˆ©äºç»´æŠ¤å’Œå„ä¸ªç±»çš„æ—¥å¿—å¤„ç†æ–¹å¼ç»Ÿä¸€ã€‚import org.slf4j.Logger; import org.slf4j.LoggerFactory; private static final Logger logger = LoggerFactory.getLogger(Abc.class); è®©Springç»Ÿä¸€è¾“å‡º è¿™å°±æ˜¯ä¸ºäº†å¯¹slf4jçš„é€‚é…åšä¸€ä¸ªä¾‹å­è¯´æ˜ã€‚Springæ˜¯ç”¨JCLä½œä¸ºæ—¥å¿—é—¨é¢çš„ï¼Œé‚£æˆ‘ä»¬çš„åº”ç”¨æ˜¯slf4j + logbackï¼Œæ€ä¹ˆè®©Springä¹Ÿç”¨åˆ°logbackä½œä¸ºæ—¥å¿—è¾“å‡ºå‘¢ï¼Ÿè¿™æ ·çš„å¥½å¤„å°±æ˜¯æˆ‘ä»¬å¯ä»¥ç»Ÿä¸€é¡¹ç›®å†…çš„å…¶ä»–æ¨¡å—ã€æ¡†æ¶çš„æ—¥å¿—è¾“å‡ºï¼ˆæ—¥å¿—æ ¼å¼ï¼Œæ—¥å¿—æ–‡ä»¶ï¼Œå­˜æ”¾è·¯å¾„ç­‰ï¼Œä»¥åŠå…¶ä»–slf4jæ”¯æŒçš„åŠŸèƒ½ï¼‰ å¾ˆç®€å•ï¼Œå°±æ˜¯åŠ å…¥jcl-over-slf4j.jarå°±å¥½äº†ã€‚ æ—¥å¿—é…ç½®å¯åŠ¨è¿‡ç¨‹ 12345678910111213141516171819202122232414:59:54,588 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]14:59:54,589 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]â˜…14:59:54,589 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/F:/JavaCode/plainJava/target/classes/logback.xml]14:59:54,835 |-INFO in ch.qos.logback.core.joran.action.ImplicitModelAction - Assuming default class name [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for tag [encoder]14:59:54,836 |-INFO in ch.qos.logback.core.joran.action.ImplicitModelAction - Assuming default class name [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for tag [encoder]14:59:54,952 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [STDOUT]14:59:54,952 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]â˜…â˜…14:59:55,111 |-ERROR in ch.qos.logback.core.pattern.parser.Compiler@737996a0 - There is no conversion class registered for conversion word [thead]â˜…â˜…14:59:55,111 |-ERROR in ch.qos.logback.core.pattern.parser.Compiler@737996a0 - [thead] is not a valid conversion word14:59:55,220 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [FILE]14:59:55,220 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.FileAppender]â˜…â˜…14:59:55,224 |-ERROR in ch.qos.logback.core.pattern.parser.Compiler@61dc03ce - There is no conversion class registered for conversion word [thead]â˜…â˜…14:59:55,224 |-ERROR in ch.qos.logback.core.pattern.parser.Compiler@61dc03ce - [thead] is not a valid conversion word14:59:55,224 |-INFO in ch.qos.logback.core.FileAppender[FILE] - File property is set to [./test.log]â˜…14:59:55,226 |-INFO in ch.qos.logback.classic.model.processor.RootLoggerModelHandler - Setting level of ROOT logger to WARNâ˜…14:59:55,228 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [STDOUT] to Logger[ROOT]â˜…14:59:55,228 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [FILE] to Logger[ROOT] []","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"}]},{"title":"javadocâ€”â€”è®©å¤§å®¶æ›´å¥½å†™javaé¡¹ç›®","slug":"javadocâ€”â€”è®©å¤§å®¶æ›´å¥½å†™javaé¡¹ç›®","date":"2021-10-17T13:57:14.000Z","updated":"2022-03-09T02:08:02.048Z","comments":true,"path":"2021/10/17/javadocâ€”â€”è®©å¤§å®¶æ›´å¥½å†™javaé¡¹ç›®/","link":"","permalink":"https://nymrli.top/2021/10/17/javadocâ€”â€”è®©å¤§å®¶æ›´å¥½å†™javaé¡¹ç›®/","excerpt":"","text":"è¿‘æœŸåœ¨Githubä¸Šçœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„é¡¹ç›®ï¼Œæ˜¯å„ä¸ªæŠ€èƒ½æ ‘çš„æŒ‘æˆ˜ï¼Œå¹¶ä¸”èµ·äº†ä¸ªå†’é™©å²›çš„æ•…äº‹â€”â€”å­—èŠ‚ä¼ è¯´:å‹‡å£«å°†æ— æƒ§æŒ‘æˆ˜ã€‚å…¶ä¸­é™¤äº†æäº¤Prçš„æ•™ç¨‹ï¼ˆæŒ‘æˆ˜ï¼‰å¤–ï¼Œè¿˜æœ‰ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯Javadocï¼Œæƒ³æƒ³ä¹‹å‰æ²¡ä¸“é—¨å†™è¿‡ï¼Œäºæ˜¯æœ¬å‹‡å£«æœ¬æ¬¡å°±æ¯…ç„¶æ¥æ”¶äº†Javadocçš„æŒ‘æˆ˜ã€‚ Javadoc å¾ˆå¤šç¨‹åºå¯¹Javadocéƒ½ä¸é‡è§†ï¼Œè®¤è¯†ä¸åˆ°Javadocçš„ä½œç”¨ï¼Œå¾ˆå¤šäººéƒ½æ˜¯è¿™æ ·è®¤ä¸ºçš„ï¼šâ€œæˆ‘åªè¦å†™å¥½åŠŸèƒ½å°±å¤Ÿäº†ï¼Œå†™Javadocå¤ªæµªè´¹æ—¶é—´ï¼Œä¹Ÿæ²¡å•¥ä½œç”¨ï¼Œè¿˜ä¸å¦‚ç”¨å†™Javadocçš„æ—¶é—´å†å¤šäº›ä¸ªåŠŸèƒ½å‘¢ï¼â€ï¼Œæˆ‘ä»¬çŸ¥é“æ³¨é‡Šæ˜¯ä¸ºäº†è§£é‡Šä»£ç çš„ä½œç”¨çš„ï¼Œæ˜¯ä¸ºäº†å°†æ¥ç»™è‡ªå·±æˆ–è€…åˆ«äººå¿«é€Ÿäº†è§£ä»£ç çš„ï¼Œåœ¨æ–¹æ³•å†…ä¸€èˆ¬ç”¨è¡Œæ³¨é‡Š//çš„æ¯”è¾ƒå¤šï¼Œæ˜¯é’ˆå¯¹ä¸€å°å—ä»£ç åšå‡ºè§£é‡Šçš„ï¼Œè€ŒJavadocçš„ä½œç”¨æ˜¯é’ˆå¯¹æ•´ä¸ªæ–¹æ³•æˆ–è€…æ•´ä¸ªç±»åšä¸€ä¸ªç®€è¦çš„æ¦‚è¿°çš„ï¼Œä½¿å¾—åˆ«äººä¸é€šè¿‡çœ‹å…·ä½“æ–¹æ³•ä»£ç å°±èƒ½çŸ¥é“æŸä¸ªæ–¹æ³•æˆ–è€…æŸä¸ªç±»çš„ä½œç”¨å’ŒåŠŸèƒ½ã€‚å†™äº†Javadocçš„åœ¨åˆ«äººä½¿ç”¨åˆ°ç±»æ—¶ï¼Œå°†é¼ æ ‡æ‚¬åœåˆ°ç±»ä¸Šæˆ–è€…æ–¹æ³•ä¸Šï¼Œjavadocä¼šä»¥æç¤ºä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™æ ·å¼€å‘è€…åœ¨è·³è¿›æºä»£ç ä¸­å°±èƒ½çŸ¥é“ç±»æˆ–è€…æ–¹æ³•çš„ä½œç”¨ï¼Œä½¿å¾—å¯ä»¥ç¼–åœ¨ç æ—¶çœ‹æ–‡æ¡£ï¼Œæ•ˆæœæœ€æ˜æ˜¾çš„å°±æ˜¯Spingbootçš„Javadocèƒ½åœ¨ä¸çŸ¥é“ä¸€ä¸ªæ¥å£çš„ä½œç”¨ã€å‚æ•°æ—¶ï¼Œç›´æ¥çœ‹åˆ°è¯´æ˜ã€‚ 1234567/** * &lt;æ¦‚è¦æè¿°&gt; * * &lt;è¯¦ç»†æè¿°&gt; * * &lt;Javadocæ–‡æ¡£æ ‡è®° æ ‡è®°è¯´æ˜&gt; * / æ³¨æ„ç‚¹ï¼šâ‘ Javadocä»¥/**å¼€å¤´ï¼Œ*/æ”¶å°¾ï¼›â‘¡æ–‡æ¡£æ ‡è®°åä¸èƒ½è·Ÿå†’å·:ï¼Œå¦‚@param filePathä¸­é—´ç”¨ç©ºæ ¼åˆ†å¼€å³å¯ï¼Œä¸èƒ½åŠ : ç¬¬ä¸€æ®µï¼šæ¦‚è¦æè¿°ï¼Œé€šå¸¸ç”¨ä¸€å¥æˆ–è€…ä¸€æ®µè¯ç®€è¦æè¿°è¯¥ç±»æˆ–è€…æ–¹æ³•çš„ä½œç”¨ ç¬¬äºŒæ®µï¼šè¯¦ç»†æè¿°ï¼Œé€šå¸¸ç”¨ä¸€æ®µæˆ–è€…å¤šæ®µè¯æ¥è¯¦ç»†æè¿°è¯¥ç±»æˆ–è€…æ–¹æ³•çš„ä½œç”¨ ç¬¬ä¸‰æ®µï¼šæ–‡æ¡£æ ‡æ³¨ï¼Œç”¨äºæ ‡æ³¨ä½œè€…ã€åˆ›å»ºæ—¶é—´ã€å‚é˜…ç±»ã€å‚æ•°ç­‰ä¿¡æ¯ å¸¸è§Javadocæ–‡æ¡£æ ‡è®° JDKé¢„å®šä¹‰å¥½çš„æ–‡æ¡£æ ‡è®°æœ‰ï¼Œ@authorã€@versionã€@sinceã€@seeã€@linkã€@codeã€@paramã€@returnã€@exceptionã€@throwsç­‰ã€‚ @linkï¼š {@link åŒ…å.ç±»å#æ–¹æ³•å(å‚æ•°ç±»å‹)}ç”¨äºå¿«é€Ÿé“¾æ¥åˆ°ç›¸å…³ä»£ç  @linkçš„ä½¿ç”¨è¯­æ³•{@link åŒ…å.ç±»å#æ–¹æ³•å(å‚æ•°ç±»å‹)}ï¼Œå…¶ä¸­å½“åŒ…ååœ¨å½“å‰ç±»ä¸­å·²ç»å¯¼å…¥äº†åŒ…åå¯ä»¥çœç•¥ï¼Œå¯ä»¥åªæ˜¯ä¸€ä¸ªç±»åï¼Œä¹Ÿå¯ä»¥æ˜¯ä»…ä»…æ˜¯ä¸€ä¸ªæ–¹æ³•åï¼Œä¹Ÿå¯ä»¥æ˜¯ç±»å.æ–¹æ³•åï¼Œä½¿ç”¨æ­¤æ–‡æ¡£æ ‡è®°çš„ç±»æˆ–è€…æ–¹æ³•ï¼Œå¯ç”¨é€šè¿‡ æŒ‰ä½Ctrlé”®+å•å‡» å¯ä»¥å¿«é€Ÿè·³åˆ°ç›¸åº”çš„ç±»æˆ–è€…æ–¹æ³•ä¸Šï¼Œè§£ææˆhtmlå…¶å®å°±æ˜¯ä½¿ç”¨&lt; code&gt; åŒ…å.ç±»å#æ–¹æ³•å(å‚æ•°ç±»å‹)&lt; /code&gt; 1234567891011// å®Œå…¨é™å®šçš„ç±»å&#123;@link java.lang.Character&#125;// çœç•¥åŒ…å&#123;@link String&#125;// çœç•¥ç±»åï¼Œè¡¨ç¤ºæŒ‡å‘å½“å‰çš„æŸä¸ªæ–¹æ³•&#123;@link #length()&#125;// åŒ…å.ç±»å.æ–¹æ³•å(å‚æ•°ç±»å‹)&#123;@link java.lang.String#charAt(int)&#125; @codeï¼š {@code text} å°†æ–‡æœ¬æ ‡è®°ä¸ºcode {@code text} ä¼šè¢«è§£ææˆ&lt;code&gt; text &lt;/code&gt;ã€‚å°†æ–‡æœ¬æ ‡è®°ä¸ºä»£ç æ ·å¼çš„æ–‡æœ¬ï¼Œåœ¨codeå†…éƒ¨å¯ä»¥ä½¿ç”¨ &lt; ã€&gt; ç­‰ä¸ä¼šè¢«è§£é‡Šæˆhtmlæ ‡ç­¾, codeæ ‡ç­¾æœ‰è‡ªå·±çš„æ ·å¼ï¼Œä¸€èˆ¬åœ¨Javadocä¸­åªè¦æ¶‰åŠåˆ°ç±»åæˆ–è€…æ–¹æ³•åï¼Œéƒ½éœ€è¦ä½¿ç”¨@codeè¿›è¡Œæ ‡è®°ã€‚ @see å¦è¯·å‚é˜…ï¼Œä¸€èˆ¬ç”¨äºæ ‡è®°è¯¥ç±»ç›¸å…³è”çš„ç±»ï¼ˆæ–¹æ³•ï¼‰ã€ç›¸ä¼¼çš„ç±»ï¼ˆæ–¹æ³•ï¼‰ @seeå³å¯ä»¥ç”¨åœ¨ç±»ä¸Šï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨æ–¹æ³•ä¸Šã€‚ 1234567/** * @see IntStream * @see LongStream * @see DoubleStream * @see &lt;a href=\"package-summary.html\"&gt;java.util.stream&lt;/a&gt; * /public interface Stream&lt;T&gt; extends BaseStream&lt;T, Stream&lt;T&gt;&gt; &#123;&#125; @throws åé¢è·Ÿ å¼‚å¸¸ç±»å‹ å¼‚å¸¸æè¿° , ç”¨äºæè¿°æ–¹æ³•å†…éƒ¨å¯èƒ½æŠ›å‡º(äº§ç”Ÿ)çš„å¼‚å¸¸ 1234/*** @param str the &#123;@code CharSequence&#125; to check (may be &#123;@code null&#125;)*/public static boolean containsWhitespace(@Nullable CharSequence str) &#123;&#125; @exception ç”¨äºæè¿°æ–¹æ³•ç­¾åæ˜ç¡®ä¼šthrowsçš„å¼‚å¸¸ 1234/*** @exception IllegalArgumentException if &lt;code&gt;key&lt;/code&gt; is null.*/public static Object get(String key) throws IllegalArgumentException &#123;&#125; @value ç”¨äºæ ‡æ³¨åœ¨å¸¸é‡ä¸Šï¼Œ{@value} ç”¨äºè¡¨ç¤ºå¸¸é‡çš„å€¼ 12/** é»˜è®¤æ•°é‡ &#123;@value&#125; */private static final Integer QUANTITY = 1; @inheritDoc @inheritDocç”¨äºæ³¨è§£åœ¨é‡å†™æ–¹æ³•æˆ–è€…å­ç±»ä¸Šï¼Œç”¨äºç»§æ‰¿çˆ¶ç±»ä¸­çš„Javadoc åŸºç±»çš„æ–‡æ¡£æ³¨é‡Šè¢«ç»§æ‰¿åˆ°äº†å­ç±» å­ç±»å¯ä»¥å†åŠ å…¥è‡ªå·±çš„æ³¨é‡Šï¼ˆç‰¹æ®ŠåŒ–æ‰©å±•ï¼‰ @return @param @throws ä¹Ÿä¼šè¢«ç»§æ‰¿ @version @version ç”¨äºæ ‡è®°å½“å‰ç‰ˆæœ¬ï¼Œé»˜è®¤ä¸º1.0 12345package com.sun.org.apache.xml.internal.resolver; /** * @version 1.0 */public class Resolver extends Catalog &#123;&#125; @since @since ä¸€èˆ¬ç”¨äºæ ‡è®°æ–‡ä»¶åˆ›å»ºæ—¶é¡¹ç›®å½“æ—¶å¯¹åº”çš„ç‰ˆæœ¬ï¼Œä¸€èˆ¬åé¢è·Ÿç‰ˆæœ¬å·ï¼Œä¹Ÿå¯ä»¥è·Ÿæ˜¯ä¸€ä¸ªæ—¶é—´ï¼Œè¡¨ç¤ºæ–‡ä»¶å½“å‰åˆ›å»ºçš„æ—¶é—´ @return è¿”å›å€¼çš„æè¿° @param åé¢è·Ÿå‚æ•°åï¼Œå†è·Ÿå‚æ•°æè¿° å®Œæ•´ç¤ºä¾‹ spring-coreä¸­çš„StringUtils ç¤ºä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243package org.springframework.util;/** * Miscellaneous &#123;@link String&#125; utility methods. * * &lt;p&gt;Mainly for internal use within the framework; consider * &lt;a href=\"http://commons.apache.org/proper/commons-lang/\"&gt;Apache's Commons Lang&lt;/a&gt; * for a more comprehensive suite of &#123;@code String&#125; utilities. * * &lt;p&gt;This class delivers some simple functionality that should really be * provided by the core Java &#123;@link String&#125; and &#123;@link StringBuilder&#125; * classes. It also provides easy-to-use methods to convert between * delimited strings, such as CSV strings, and collections and arrays. * * @author Rod Johnson * @author Juergen Hoeller * @author Keith Donald * @author Rob Harrop * @author Rick Evans * @author Arjen Poutsma * @author Sam Brannen * @author Brian Clozel * @since 16 April 2001 */public abstract class StringUtils &#123; /** * Decode the given encoded URI component value. Based on the following rules: * &lt;ul&gt; * &lt;li&gt;Alphanumeric characters &#123;@code \"a\"&#125; through &#123;@code \"z\"&#125;, &#123;@code \"A\"&#125; through &#123;@code \"Z\"&#125;, * and &#123;@code \"0\"&#125; through &#123;@code \"9\"&#125; stay the same.&lt;/li&gt; * &lt;li&gt;Special characters &#123;@code \"-\"&#125;, &#123;@code \"_\"&#125;, &#123;@code \".\"&#125;, and &#123;@code \"*\"&#125; stay the same.&lt;/li&gt; * &lt;li&gt;A sequence \"&#123;@code %&lt;i&gt;xy&lt;/i&gt;&#125;\" is interpreted as a hexadecimal representation of the character.&lt;/li&gt; * &lt;/ul&gt; * * @param source the encoded String * @param charset the character set * @return the decoded value * @throws IllegalArgumentException when the given source contains invalid encoded sequences * @since 5.0 * @see java.net.URLDecoder#decode(String, String) */ public static String uriDecode(String source, Charset charset) &#123;&#125; å¯¼å‡ºJavaDoc å‘½ä»¤è¡Œå¯¼å‡º javadoc.exe -private -splitindex -author -charset UTF-8 -encoding UTF-8 -windowtitle æŸ³å·äº¤é€šä»¿çœŸDoc -d F:\\TODO\\sucsoft\\code\\lzjt-simulation\\javadoc @G:\\os_tmp\\javadoc_args -windowtitle : é¡µé¢çš„header-title -d: è¾“å‡ºç›®å½• -charsetã€-encodingï¼šä¸­æ–‡ä¹±ç è§£å†³æ–¹æ³• -overview &lt;æ–‡ä»¶&gt; è¯»å– HTML æ–‡ä»¶çš„æ¦‚è¿°æ–‡æ¡£ -public ä»…æ˜¾ç¤ºå…¬å…±ç±»å’Œæˆå‘˜ -protected æ˜¾ç¤ºå—ä¿æŠ¤/å…¬å…±ç±»å’Œæˆå‘˜ï¼ˆé»˜è®¤ï¼‰ -package æ˜¾ç¤ºè½¯ä»¶åŒ…/å—ä¿æŠ¤/å…¬å…±ç±»å’Œæˆå‘˜ -private æ˜¾ç¤ºæ‰€æœ‰ç±»å’Œæˆå‘˜ -help æ˜¾ç¤ºå‘½ä»¤è¡Œé€‰é¡¹å¹¶é€€å‡º -doclet &lt;ç±»&gt; é€šè¿‡æ›¿ä»£ doclet ç”Ÿæˆè¾“å‡º -docletpath &lt;è·¯å¾„&gt; æŒ‡å®šæŸ¥æ‰¾ doclet ç±»æ–‡ä»¶çš„ä½ç½® -sourcepath &lt;è·¯å¾„åˆ—è¡¨&gt; æŒ‡å®šæŸ¥æ‰¾æºæ–‡ä»¶çš„ä½ç½® -classpath &lt;è·¯å¾„åˆ—è¡¨&gt; æŒ‡å®šæŸ¥æ‰¾ç”¨æˆ·ç±»æ–‡ä»¶çš„ä½ç½® -exclude &lt;è½¯ä»¶åŒ…åˆ—è¡¨&gt; æŒ‡å®šè¦æ’é™¤çš„è½¯ä»¶åŒ…çš„åˆ—è¡¨ -subpackages &lt;å­è½¯ä»¶åŒ…åˆ—è¡¨&gt; æŒ‡å®šè¦é€’å½’è£…å…¥çš„å­è½¯ä»¶åŒ… -breakiterator ä½¿ç”¨ BreakIterator è®¡ç®—ç¬¬ 1 å¥ -bootclasspath &lt;è·¯å¾„åˆ—è¡¨&gt; è¦†ç›–å¼•å¯¼ç±»åŠ è½½å™¨æ‰€è£…å…¥çš„ç±»æ–‡ä»¶çš„ä½ç½® -source &lt;ç‰ˆæœ¬&gt; æä¾›ä¸æŒ‡å®šç‰ˆæœ¬çš„æºå…¼å®¹æ€§ -extdirs &lt;ç›®å½•åˆ—è¡¨&gt; è¦†ç›–å®‰è£…çš„æ‰©å±•ç›®å½•çš„ä½ç½® -verbose è¾“å‡ºæœ‰å…³ Javadoc æ­£åœ¨æ‰§è¡Œçš„æ“ä½œçš„æ¶ˆæ¯ -locale &lt;åç§°&gt; è¦ä½¿ç”¨çš„è¯­è¨€ç¯å¢ƒï¼Œä¾‹å¦‚ en_US æˆ– en_US_WINã€ZN_CN -encoding &lt;åç§°&gt; æºæ–‡ä»¶ç¼–ç åç§° -quiet ä¸æ˜¾ç¤ºçŠ¶æ€æ¶ˆæ¯ -J&lt;æ ‡å¿—&gt; ç›´æ¥å°† &lt;æ ‡å¿—&gt; ä¼ é€’ç»™è¿è¡Œæ—¶ç³»ç»Ÿ -X è¾“å‡ºéæ ‡å‡†é€‰é¡¹çš„æè¦ æ ‡å‡†docleté€‰é¡¹ è¯´æ˜ -d &lt;directory&gt;è¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡ç›®å½• -useåˆ›å»ºç±»å’Œç¨‹åºåŒ…ç”¨æ³•é¡µé¢ -versionåŒ…å« @version æ®µ -authoråŒ…å« @author æ®µ -docfilessubdirs é€’å½’å¤åˆ¶æ–‡æ¡£æ–‡ä»¶å­ç›®å½• -splitindexå°†ç´¢å¼•åˆ†ä¸ºæ¯ä¸ªå­—æ¯å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ -windowtitle &lt;text&gt;æ–‡æ¡£çš„æµè§ˆå™¨çª—å£æ ‡é¢˜ -doctitle &lt;html-code&gt;åŒ…å«æ¦‚è§ˆé¡µé¢çš„æ ‡é¢˜ -header &lt;html-code&gt;åŒ…å«æ¯ä¸ªé¡µé¢çš„é¡µçœ‰æ–‡æœ¬ -footer &lt;html-code&gt;åŒ…å«æ¯ä¸ªé¡µé¢çš„é¡µè„šæ–‡æœ¬ -top &lt;html-code&gt;åŒ…å«æ¯ä¸ªé¡µé¢çš„é¡¶éƒ¨æ–‡æœ¬ -bottom &lt;html-code&gt;åŒ…å«æ¯ä¸ªé¡µé¢çš„åº•éƒ¨æ–‡æœ¬ -link åˆ›å»ºæŒ‡å‘ä½äº&lt;url&gt;çš„ javadoc è¾“å‡ºçš„é“¾æ¥ from:javaåŸºç¡€(4)â€“javadocæ–‡æ¡£ä¸å‘½ä»¤ IDEAå¯¼å‡º é™„å½•ï¼š ä½¿ç”¨HTMLæ ‡ç­¾å†™è¯¦ç»†æ–‡æ¡£ï¼š ç¬¬äºŒæ®µï¼šè¯¦ç»†æè¿° è¯¦ç»†æè¿°ä¸€èˆ¬ç”¨ä¸€æ®µæˆ–è€…å‡ ä¸ªé”»ç‚¼æ¥è¯¦ç»†æè¿°ç±»çš„ä½œç”¨ï¼Œè¯¦ç»†æè¿°ä¸­å¯ä»¥ä½¿ç”¨htmlæ ‡ç­¾ï¼Œå¦‚&lt;p&gt;ã€&lt;pre&gt;ã€&lt;a&gt;ã€&lt;ul&gt;ã€&lt;i&gt;ç­‰æ ‡ç­¾ï¼Œ é€šå¸¸è¯¦ç»†æè¿°éƒ½ä»¥æ®µè½pæ ‡ç­¾å¼€å§‹ã€‚ è¯¦ç»†æè¿°å’Œæ¦‚è¦æè¿°ä¸­é—´é€šå¸¸æœ‰ä¸€ä¸ªç©ºè¡Œæ¥åˆ†å‰² 12345678910111213141516package org.springframework.util;/** * Miscellaneous &#123;@link String&#125; utility methods. * * &lt;p&gt;Mainly for internal use within the framework; consider * &lt;a href=\"http://commons.apache.org/proper/commons-lang/\"&gt;Apache's Commons Lang&lt;/a&gt; * for a more comprehensive suite of &#123;@code String&#125; utilities. * * &lt;p&gt;This class delivers some simple functionality that should really be * provided by the core Java &#123;@link String&#125; and &#123;@link StringBuilder&#125; * classes. It also provides easy-to-use methods to convert between * delimited strings, such as CSV strings, and collections and arrays. * */public abstract class StringUtils &#123; ä¸€èˆ¬æ®µè½éƒ½ç”¨pæ ‡ç­¾æ¥æ ‡è®°ï¼Œå‡¡æ¶‰åŠåˆ°ç±»åå’Œæ–¹æ³•åéƒ½ç”¨@codeæ ‡è®°ï¼Œå‡¡æ¶‰åŠåˆ°ç»„ç»‡çš„ï¼Œä¸€èˆ¬ç”¨aæ ‡ç­¾æä¾›å‡ºæ¥é“¾æ¥åœ°å€ã€‚ package-info.java åŒ…çº§æ³¨é‡Š 123// package-info.java@Deprecated // åŠ ä¸Šäº†åï¼Œè¯¥åŒ…ä¸‹çš„æ‰€æœ‰æ–¹æ³•éƒ½ä¼šæä¾› è¿‡æœŸpackage top.nymrli.test;","categories":[],"tags":[{"name":"æŠ€èƒ½ç³–","slug":"æŠ€èƒ½ç³–","permalink":"https://nymrli.top/tags/æŠ€èƒ½ç³–/"}]},{"title":"ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”è®¡ç®—æœºç½‘ç»œå¤ä¹ ","slug":"ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”è®¡ç®—æœºç½‘ç»œå¤ä¹ ","date":"2021-10-15T12:06:53.000Z","updated":"2021-10-25T08:52:57.113Z","comments":true,"path":"2021/10/15/ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”è®¡ç®—æœºç½‘ç»œå¤ä¹ /","link":"","permalink":"https://nymrli.top/2021/10/15/ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”è®¡ç®—æœºç½‘ç»œå¤ä¹ /","excerpt":"","text":"è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒï¼š ä¸»æœº é€šä¿¡é“¾è·¯ äº¤æ¢ç½‘ç»œ åè®® å¤šè·¯å¤ç”¨ é¢‘åˆ†å¤šè·¯å¤ç”¨ æ—¶åˆ†å¤šè·¯å¤ç”¨ ç åˆ†å¤šè·¯å¤ç”¨ æ³¢åˆ†å¤šè·¯å¤ç”¨ æ•°æ®äº¤æ¢ ç”µè·¯äº¤æ¢ï¼ˆFDM,WDM,TDM,CDMï¼‰ æŠ¥æ–‡äº¤æ¢ï¼ˆè¢«åºŸå¼ƒäº†ï¼‰ åˆ†ç»„äº¤æ¢ï¼ˆç»Ÿè®¡å¤šè·¯å¤ç”¨ï¼‰ åˆ†ç»„ï¼šæŠ¥æ–‡åˆ†æ‹†å‡ºæ¥çš„ä¸€ç³»åˆ—ç›¸å¯¹è¾ƒå°çš„æ•°æ®åŒ… åˆ†ç»„äº¤æ¢éœ€è¦æŠ¥æ–‡çš„æ‹†åˆ†ä¸é‡ç»„ ç»Ÿè®¡å¤šè·¯å¤ç”¨ å·¥ä½œæ–¹å¼ï¼šå­˜å‚¨ä¸è½¬å‘ï¼š æŠ¥æ–‡äº¤æ¢ä¸åˆ†ç»„äº¤æ¢å‡é‡‡ç”¨å­˜å‚¨-è½¬å‘äº¤æ¢æ–¹å¼ åŒºåˆ«ï¼š æŠ¥æ–‡äº¤æ¢ä»¥å®Œæ•´æŠ¥æ–‡è¿›è¡Œâ€œå­˜å‚¨-è½¬å‘â€ åˆ†ç»„äº¤æ¢ä»¥è¾ƒå°çš„åˆ†ç»„è¿›è¡Œâ€œå­˜å‚¨-è½¬å‘â€ æŠ¥æ–‡ï¼šM bts é“¾è·¯å¸¦å®½ï¼ˆæ•°æ®ä¼ è¾“ é€Ÿç‡ï¼‰ï¼šR bps åˆ†ç»„é•¿åº¦ï¼ˆå¤§å°ï¼‰ï¼šLbits è·³æ­¥æ•°ï¼šh è·¯ç”±å™¨æ•°ï¼šn åˆ†ç»„äº¤æ¢å…è®¸æ›´å¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨ç½‘ç»œï¼â€”â€”ç½‘ç»œèµ„æºå……åˆ†å…±äº« ç½‘ç»œæ€§èƒ½ï¼š é€Ÿç‡å³æ•°æ®ç‡ï¼ˆ data rateï¼‰æˆ–ç§°æ•°æ®ä¼ è¾“é€Ÿç‡æˆ–æ¯”ç‰¹ç‡ï¼ˆ bit rateï¼‰ å•ä½æ—¶é—´ï¼ˆç§’ï¼‰ä¼ è¾“ä¿¡æ¯ï¼ˆæ¯”ç‰¹ï¼‰é‡ è®¡ç®—æœºç½‘ç»œä¸­æœ€é‡è¦çš„ä¸€ä¸ªæ€§èƒ½æŒ‡æ ‡ å•ä½ï¼šb/sï¼ˆæˆ–bpsï¼‰ã€kb/sã€Mb/sã€Gb/s k=103ã€M=106ã€G=109 å¸¦å®½â€ï¼ˆ bandwidthï¼‰åŸæœ¬æŒ‡ä¿¡å·å…·æœ‰çš„é¢‘å¸¦å®½åº¦ï¼Œå³æœ€é«˜é¢‘ç‡ä¸æœ€ä½é¢‘ç‡ä¹‹å·®ï¼Œå•ä½æ˜¯èµ«å…¹ï¼ˆHzï¼‰ ç½‘ç»œçš„â€œå¸¦å®½â€é€šå¸¸æ˜¯æ•°å­—ä¿¡é“æ‰€èƒ½ä¼ é€çš„â€œæœ€é«˜æ•°æ®ç‡â€ï¼Œå•ä½ï¼šb/sï¼ˆbpsï¼‰ å¸¸ç”¨çš„å¸¦å®½å•ä½ kb/s ï¼ˆ103 b/sï¼‰ Mb/s ï¼ˆ106 b/sï¼‰ Gb/s ï¼ˆ109 b/sï¼‰ Tb/sï¼ˆ1012b/sï¼‰ Qï¼šåˆ†ç»„äº¤æ¢ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿä¸¢åŒ…å’Œæ—¶å»¶ï¼Ÿ Aï¼šåˆ†ç»„åœ¨è·¯ç”±å™¨ç¼“å­˜ä¸­æ’é˜Ÿ ä»¤åˆ†ç»„åˆ°è¾¾é€Ÿç‡è¶…å‡ºè¾“å‡ºé“¾è·¯å®¹é‡æ—¶ å››ç§åˆ†ç»„å»¶è¿Ÿ ç»“ç‚¹å¤„ç†å»¶è¿Ÿ æ’é˜Ÿå»¶è¿Ÿ ä¼ è¾“å»¶è¿Ÿ ä¼ æ’­å»¶è¿Ÿï¼ˆå…‰çº¤å½±å“çš„æ˜¯è¿™ä¸ªæ—¶é—´ï¼‰ è½¦é˜Ÿä¾‹å­ï¼šhttps://www.icourse163.org/learn/HIT-154005?tid=1463162470#/learn/content?type=detail&amp;id=1240421270&amp;cid=1261896474 æ—¶å»¶å¸¦å®½ç§¯ï¼šä¼ æ’­æ—¶å»¶Ã—å¸¦å®½ï¼Œé“¾è·¯çš„æ—¶å»¶å¸¦å®½ç§¯åˆç§°ä¸ºä»¥æ¯”ç‰¹ä¸ºå•ä½çš„é“¾è·¯é•¿åº¦ åˆ†ç»„ä¸¢åŒ…ï¼š é˜Ÿåˆ—ç¼“å­˜å®¹é‡æœ‰é™ åˆ†ç»„åˆ°è¾¾å·²æ»¡é˜Ÿåˆ—å°†è¢«ä¸¢å¼ƒï¼ˆå³ä¸¢åŒ…ï¼‰ ä¸¢å¼ƒåˆ†ç»„å¯èƒ½ç”±å‰åºç»“ç‚¹æˆ–æºé‡å‘ï¼ˆä¹Ÿå¯èƒ½ä¸é‡å‘ï¼‰ ååé‡è¡¨ç¤ºåœ¨å‘é€ç«¯ä¸æ¥æ”¶ç«¯ä¹‹é—´ä¼ é€æ•°æ®é€Ÿç‡ï¼ˆb/sï¼‰ å³æ—¶ååé‡ï¼šç»™å®šæ—¶åˆ»çš„é€Ÿç‡ å¹³å‡ååé‡ã€‚ä¸€æ®µæ—¶é—´çš„å¹³å‡é€Ÿç‡ è®¡ç®—æœºç½‘ç»œæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„ç³»ç»Ÿï¼Œæ¶‰åŠè®¸å¤šç»„æˆéƒ¨åˆ† ä¸»æœºï¼ˆ hostsï¼‰ è·¯ç”±å™¨ï¼ˆ routersï¼‰ å„ç§é“¾è·¯ï¼ˆinksï¼‰ åº”ç”¨ï¼ˆ applicationsï¼‰ åè®®ï¼ˆ protocolsï¼‰ ç¡¬ä»¶ã€è½¯ä»¶ è®¡ç®—æœºç½‘ç»œç»“æ„ Q:æ˜¯å¦å­˜åœ¨ä¸€ç§ç³»ç»Ÿç»“æ„æœ‰æ•ˆæè¿°ç½‘ç»œï¼Ÿ Q:åˆ©ç”¨ä»€ä¹ˆæ ·çš„ç»“æ„ï¼Ÿ Q:è‡³å°‘ç”¨äºè®¨è®ºç½‘ç»œï¼Ÿ Aï¼šåˆ†å±‚ç»“æ„ï¼Œ æ¯æ¬¡æ¯å±‚å®Œæˆä¸€ç§ï¼ˆç±»ï¼‰ç‰¹å®šæœåŠ¡/åŠŸèƒ½ï¼šæ¯å±‚ä¾èµ–åº•å±‚æä¾›çš„æœåŠ¡ï¼Œé€šè¿‡å±‚å†…åŠ¨ä½œå®Œæˆç›¸åº”åŠŸèƒ½ ç½‘ç»œä½“ç³»ç»“æ„æ˜¯ä»åŠŸèƒ½ä¸Šæè¿°è®¡ç®—æœºç½‘ç»œç»“æ„ è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„ç®€ç§°ç½‘ç»œä½“ç³»ç»“æ„ï¼ˆ network architectureï¼‰æ˜¯åˆ†å±‚ç»“æ„ æ¯å±‚éµå¾ªæŸä¸ª/äº›ç½‘ç»œåè®®å®Œæˆæœ¬å±‚åŠŸèƒ½ è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„æ˜¯è®¡ç®—æœºç½‘ç»œçš„å„å±‚åŠå…¶åè®®çš„é›†åˆ ä½“ç³»ç»“æ„æ˜¯ä¸€ä¸ªè®¡ç®—æœºç½‘ç»œçš„åŠŸèƒ½å±‚æ¬¡åŠå…¶å…³ç³»çš„å®šä¹‰ ä½“ç³»ç»“æ„æ˜¯æŠ½è±¡çš„ Q:ä¸ºä»€ä¹ˆé‡‡ç”¨åˆ†å±‚ç»“æ„ ç»“æ„æ¸…æ™°ï¼Œæœ‰åˆ©äºè¯†åˆ«å¤æ‚ç³»ç»Ÿçš„éƒ¨ä»¶åŠå…¶å…³ç³» æ¨¡å—åŒ–çš„åˆ†å±‚æ˜“äºç³»ç»Ÿæ›´æ–°ã€ç»´æŠ¤ ä»»ä½•ä¸€å±‚æœåŠ¡å®ç°çš„æ”¹å˜å¯¹äºç³»ç»Ÿå…¶å®ƒå±‚éƒ½æ˜¯é€æ˜çš„ã€‚ä¾‹å¦‚ï¼Œç™»æœºè¿‡ç¨‹çš„æ”¹å˜å¹¶ä¸å½±å“èˆªç©ºç³»ç»Ÿçš„å…¶å®ƒéƒ¨åˆ†ï¼ˆå±‚ï¼‰ æœ‰åˆ©äºæ ‡å‡†åŒ– åŸºæœ¬æ¦‚å¿µï¼š ç‰©ç†å±‚ï¼š æ¯”ç‰¹ç¼–ç  æ•°æ®ç‡ æ¯”ç‰¹åŒæ­¥ï¼šæ—¶é’ŸåŒæ­¥ ä¼ è¾“æ¨¡å¼ æ•°æ®é“¾è·¯å±‚åŠŸèƒ½ æµé‡æ§åˆ¶ï¼ˆ Flow controlï¼‰ é¿å…æ·¹æ²¡æ¥æ”¶ç«¯ å·®é”™æ§åˆ¶ï¼ˆ Error controlï¼‰ æ£€æµ‹å¹¶é‡ä¼ æŸåæˆ–ä¸¢å¤±å¸§ï¼Œå¹¶é¿å…é‡å¤å¸§ è®¿é—®ï¼ˆæ¥å…¥ï¼‰æ§åˆ¶ï¼ˆ Access control ç½‘ç»œå±‚ï¼š è´Ÿè´£æºä¸»æœºåˆ°ç›®çš„ä¸»æœºæ•°æ®åˆ†ç»„ï¼ˆ packetï¼‰äº¤ä»˜ å¯èƒ½ç©¿è¶Šå¤šä¸ªç½‘ç»œ é€»è¾‘å¯»å€ï¼ˆ Logical addressingï¼‰ å…¨å±€å”¯ä¸€é€»è¾‘åœ°å€ï¼Œç¡®ä¿æ•°æ®åˆ†ç»„è¢«é€è¾¾ç›®çš„ä¸»æœºï¼Œå¦‚ Påœ°å€ è·¯ç”±ï¼ˆ Routingï¼‰ è·¯ç”±å™¨ï¼ˆæˆ–ç½‘å…³ï¼‰äº’è¿ç½‘ç»œï¼Œå¹¶è·¯ç”±åˆ†ç»„è‡³æœ€ç»ˆç›®çš„ä¸»æœº è·¯å¾„é€‰æ‹© åˆ†ç»„è½¬å‘ ä¼ è¾“å±‚åŠŸèƒ½ åˆ†æ®µä¸é‡ç»„ SAPå¯»å€ è¿æ¥æ§åˆ¶ æµé‡æ§åˆ¶ å·®é”™æ§åˆ¶ ä¼šè¯å±‚åŠŸèƒ½ å¯¹è¯æ§åˆ¶ åŒæ­¥ï¼ˆ synchronizationï¼‰ è¡¨ç¤ºå±‚ æ•°æ®è¡¨ç¤ºè½¬åŒ– åŠ å¯†/è§£å¯† å‹ç¼©è§£å‹ç¼© é™„å½• é‡‡ç”¨åˆ†ç»„è½¬å‘çš„ä¼˜ç¼ºç‚¹ï¼š åŠ é€Ÿäº†æ•°æ®åœ¨ç½‘ç»œä¸­çš„ä¼ è¾“ã€‚å› ä¸ºåˆ†ç»„æ˜¯é€ä¸ªä¼ è¾“ï¼Œå¯ä»¥ä½¿åä¸€ä¸ªåˆ†ç»„çš„å­˜å‚¨æ“ä½œä¸å‰ä¸€ä¸ªåˆ†ç»„çš„è½¬å‘æ“ä½œå¹¶è¡Œï¼Œè¿™ç§æµæ°´çº¿å¼ä¼ è¾“æ–¹å¼å‡å°‘äº†æŠ¥æ–‡çš„ä¼ è¾“æ—¶é—´ã€‚æ­¤å¤–ï¼Œä¼ è¾“ä¸€ä¸ªåˆ†ç»„æ‰€éœ€çš„ç¼“å†²åŒºæ¯”ä¼ è¾“ä¸€ä»½æŠ¥æ–‡æ‰€éœ€çš„ç¼“å†²åŒºå°å¾—å¤šï¼Œè¿™æ ·å› ç¼“å†²åŒºä¸è¶³è€Œç­‰å¾…å‘é€çš„æœºç‡åŠç­‰å¾…çš„æ—¶é—´ä¹Ÿå¿…ç„¶å°‘å¾—å¤šã€‚ ç®€åŒ–äº†å­˜å‚¨ç®¡ç†ã€‚å› ä¸ºåˆ†ç»„çš„é•¿åº¦å›ºå®šï¼Œç›¸åº”çš„ç¼“å†²åŒºçš„å¤§å°ä¹Ÿå›ºå®šï¼Œåœ¨äº¤æ¢ç»“ç‚¹ä¸­å­˜å‚¨å™¨çš„ç®¡ç†é€šå¸¸è¢«ç®€åŒ–ä¸ºå¯¹ç¼“å†²åŒºçš„ç®¡ç†ï¼Œç›¸å¯¹æ¯”è¾ƒå®¹æ˜“ã€‚ å‡å°‘äº†å‡ºé”™æœºç‡å’Œé‡å‘æ•°æ®é‡ã€‚å› ä¸ºåˆ†ç»„è¾ƒçŸ­ï¼Œå…¶å‡ºé”™æœºç‡å¿…ç„¶å‡å°‘ï¼Œæ¯æ¬¡é‡å‘çš„æ•°æ®é‡ä¹Ÿå°±å¤§å¤§å‡å°‘ï¼Œè¿™æ ·ä¸ä»…æé«˜äº†å¯é æ€§ï¼Œä¹Ÿå‡å°‘äº†ä¼ è¾“æ—¶å»¶ã€‚ ç”±äºåˆ†ç»„çŸ­å°ï¼Œæ›´é€‚ç”¨äºé‡‡ç”¨ä¼˜å…ˆçº§ç­–ç•¥ï¼Œä¾¿äºåŠæ—¶ä¼ é€ä¸€äº›ç´§æ€¥æ•°æ®ï¼Œå› æ­¤å¯¹äºè®¡ç®—æœºä¹‹é—´çš„çªå‘å¼çš„æ•°æ®é€šä¿¡ï¼Œåˆ†ç»„äº¤æ¢æ˜¾ç„¶æ›´ä¸ºåˆé€‚äº›ã€‚ ç¼ºç‚¹ï¼š å°½ç®¡åˆ†ç»„äº¤æ¢æ¯”æŠ¥æ–‡äº¤æ¢çš„ä¼ è¾“æ—¶å»¶å°‘ï¼Œä½†ä»å­˜åœ¨å­˜å‚¨è½¬å‘æ—¶å»¶ï¼Œè€Œä¸”å…¶ç»“ç‚¹äº¤æ¢æœºå¿…é¡»å…·æœ‰æ›´å¼ºçš„å¤„ç†èƒ½åŠ›ã€‚ åˆ†ç»„äº¤æ¢ä¸æŠ¥æ–‡äº¤æ¢ä¸€æ ·ï¼Œæ¯ä¸ªåˆ†ç»„éƒ½è¦åŠ ä¸Šæºã€ç›®çš„åœ°å€å’Œåˆ†ç»„ç¼–å·ç­‰ä¿¡æ¯ï¼Œä½¿ä¼ é€çš„ä¿¡æ¯é‡å¤§çº¦å¢å¤§5%ï½10%ï¼Œä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†é€šä¿¡æ•ˆç‡ï¼Œå¢åŠ äº†å¤„ç†çš„æ—¶é—´ï¼Œä½¿æ§åˆ¶å¤æ‚ï¼Œæ—¶å»¶å¢åŠ ã€‚ å½“åˆ†ç»„äº¤æ¢é‡‡ç”¨æ•°æ®æŠ¥æœåŠ¡æ—¶ï¼Œå¯èƒ½å‡ºç°å¤±åºã€ä¸¢å¤±æˆ–é‡å¤åˆ†ç»„ï¼Œåˆ†ç»„åˆ°è¾¾ç›®çš„ç»“ç‚¹æ—¶ï¼Œè¦å¯¹åˆ†ç»„æŒ‰ç¼–å·è¿›è¡Œæ’åºç­‰å·¥ä½œï¼Œå¢åŠ äº†éº»çƒ¦ã€‚è‹¥é‡‡ç”¨è™šç”µè·¯æœåŠ¡ï¼Œè™½æ— å¤±åºé—®é¢˜ï¼Œä½†æœ‰å‘¼å«å»ºç«‹ã€æ•°æ®ä¼ è¾“å’Œè™šç”µè·¯é‡Šæ”¾ä¸‰ä¸ªè¿‡ç¨‹ã€‚ Q:SMTP æ˜¯ä¸€ç§TCPåè®®æ”¯æŒçš„æä¾›å¯é ä¸”æœ‰æ•ˆ ç”µå­é‚®ä»¶ ä¼ è¾“çš„ åº”ç”¨å±‚ åè®®ã€‚ Q:è®¡ç®—æœºç½‘ç»œæ‹“æ‰‘ç»“æ„å–å†³é€šä¿¡å­ç½‘ã€‚ Qï¼šå…³äºIpé¦–éƒ¨æœ€å¤§é•¿åº¦ï¼ˆ60ï¼‰å’Œæœ€å°é•¿åº¦ï¼ˆ20ï¼‰","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”æ•°æ®åº“æ¦‚è®ºå¤ä¹ ","slug":"ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”æ•°æ®åº“æ¦‚è®ºå¤ä¹ ","date":"2021-10-12T08:16:24.000Z","updated":"2022-03-19T11:10:08.489Z","comments":true,"path":"2021/10/12/ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”æ•°æ®åº“æ¦‚è®ºå¤ä¹ /","link":"","permalink":"https://nymrli.top/2021/10/12/ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”æ•°æ®åº“æ¦‚è®ºå¤ä¹ /","excerpt":"","text":"æ•°æ®åº“æ¦‚è®º æ•°æ®åº“çš„4ä¸ªåŸºæœ¬æ¦‚å¿µ æ•°æ®ï¼ˆDataï¼‰ å®šä¹‰ï¼šæè¿°äº‹ç‰©çš„ç¬¦å·è®°å½•ã€‚ æ•°æ®çš„å«ä¹‰ç§°ä¸ºæ•°æ®çš„è¯­ä¹‰ï¼Œæ•°æ®çš„è¯­ä¹‰æ˜¯æŒ‡å¯¹å…·ä½“æ•°å€¼è¿›è¡Œçš„è§£é‡Šè¯´æ˜ã€‚æ•°æ®ä¸å…¶è¯­ä¹‰æ˜¯ä¸å¯åˆ†çš„ã€‚ æ•°æ®æ˜¯æ•°æ®åº“ä¸­å­˜å‚¨çš„åŸºæœ¬å¯¹è±¡ã€‚ æ•°æ®åº“ï¼ˆDatabaseï¼ŒDBï¼‰ å®šä¹‰ï¼šæ•°æ®åº“æ˜¯é•¿æœŸå‚¨å­˜åœ¨è®¡ç®—æœºå†…ã€æœ‰ç»„ç»‡çš„ã€å¯å…±äº«çš„å¤§é‡æ•°æ®çš„é›†åˆã€‚ æ•°æ®åçš„åŸºæœ¬ç‰¹å¾ æ•°æ®æŒ‰ä¸€å®šçš„æ•°æ®æ¨¡å‹ç»„ç»‡ã€æè¿°å’Œå‚¨å­˜ å¯ä¸ºå„ç§ç”¨æˆ·å…±äº«ã€å†—ä½™åº¦è¾ƒå°ã€æ˜“æ‰©å±• æ•°æ®ç‹¬ç«‹æ€§è¾ƒé«˜ æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDataBase Management Systemï¼ŒDBMS) ä½äºç”¨æˆ·åº”ç”¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸€å±‚æ•°æ®ç®¡ç†è½¯ä»¶ï¼› è·Ÿæ“ä½œç³»ç»Ÿä¸€æ ·æ˜¯è®¡ç®—æœºçš„åŸºç¡€è½¯ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¤§å‹å¤æ‚çš„è½¯ä»¶ç³»ç»Ÿã€‚ ä¸»è¦åŠŸèƒ½ï¼š æ•°æ®å®šä¹‰åŠŸèƒ½ï¼šæä¾›æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰ï¼›å®šä¹‰æ•°æ®åº“ä¸­çš„æ•°æ®å¯¹è±¡ï¼› æ•°æ®ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†ï¼šåˆ†ç±»ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†å„ç§æ•°æ®ï¼›ç¡®å®šæ•°æ®åœ¨å­˜å‚¨çº§åˆ«ä¸Šçš„ç»“æ„å’Œå­˜å‚¨æ–¹å¼ï¼›å®ç°æ•°æ®ä¹‹é—´çš„ç»ƒä¹ ï¼›æä¾›å¤šç§å­˜å–æ–¹æ³•æé«˜å­˜å–æ•ˆç‡ï¼› æ•°æ®æ“çºµåŠŸèƒ½ï¼šæä¾›æ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼‰ï¼›å®ç°å¯¹æ•°æ®åº“çš„åŸºæœ¬æ“ä½œï¼ˆæŸ¥è¯¢ã€æ’å…¥ã€åˆ é™¤å’Œä¿®æ”¹ï¼‰ï¼› æ•°æ®åº“çš„äº‹åŠ¡ç®¡ç†å’Œè¿è¡Œç®¡ç†ï¼šæ•°æ®çš„å®‰å…¨æ€§ã€å®Œæ•´æ€§ã€å¤šç§å¯¹ç”¨æˆ·æ•°æ®çš„å¹¶å‘ä½¿ç”¨ï¼›å‘ç”Ÿæ•…éšœåçš„ç³»ç»Ÿæ¢å¤æ•°æ®åº“ï¼› æ•°æ®åº“çš„å»ºç«‹å’Œç»´æŠ¤åŠŸèƒ½ï¼šæä¾›å®ç”¨ç¨‹åºå·¥å…·ï¼Œå®Œæˆæ•°æ®åº“æ•°æ®æ‰¹é‡è£…è½½ï¼Œæ•°æ®åº“è½¬å‚¨ï¼Œä»‹è´¨æ•…éšœæ¢å¤ï¼Œæ•°æ®åº“çš„é‡ç»„ç»‡å’Œæ€§èƒ½ç›‘è§†ç­‰ã€‚ æ•°æ®åº“ç³»ç»Ÿï¼ˆDataBase Systemï¼ŒDBSï¼‰ æ˜¯ç”±æ•°æ®åº“ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆåŠå…¶åº”ç”¨å¼€å‘å·¥å…·ï¼‰ã€åº”ç”¨ç¨‹åºå’Œ**æ•°æ®åº“ç®¡ç†å‘˜ï¼ˆDBAï¼‰**ç»„æˆçš„å­˜å‚¨ã€ç®¡ç†ã€å¤„ç†å’Œç»´æŠ¤æ•°æ®çš„ç³»ç»Ÿã€‚ Q: ä»€ä¹ˆæ˜¯æ•°æ®åº“ç³»ç»Ÿï¼Ÿ æ˜¯æŒ‡åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­å¼•å…¥æ•°æ®åº“åçš„ç³»ç»Ÿæ„æˆï¼› åœ¨ä¸å¼•èµ·æ··æ·†çš„æƒ…å†µä¸‹å¸¸å¸¸æŠŠæ•°æ®åº“ç³»ç»Ÿç®€ç§°ä¸ºæ•°æ®åº“ã€‚ æ•°æ®åº“ç³»ç»Ÿçš„ç‰¹ç‚¹ï¼Ÿ æ•°æ®ç»“æ„åŒ–ï¼› æ•°æ®çš„å…±äº«æ€§é«˜ï¼Œå†—ä½™åº¦å°ä¸”æ˜“æ‰©å……ï¼› æ•°æ®ç‹¬ç«‹æ€§é«˜ï¼› æ•°æ®ç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç»Ÿä¸€ç®¡ç†å’Œæ§åˆ¶ï¼› æ•°æ®åº“çš„å‘å±•é˜¶æ®µ äººå·¥ç®¡ç†é˜¶æ®µï¼šæ•°æ®ä¸ä¿å­˜ã€ä¸å…±äº«ï¼Œä¸å…·æœ‰ç‹¬ç«‹æ€§ã€‚ æ–‡ä»¶ç³»ç»Ÿé˜¶æ®µï¼šå¯ä¿å­˜ï¼Œä½†å…±äº«æ€§å·®ï¼Œå†—ä½™åº¦å¤§ï¼Œç‹¬ç«‹æ€§å·® æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼šæ•°æ®åº“ç³»ç»Ÿçš„å‡ºç°ä½¿ä¿¡æ¯ç³»ç»Ÿä»ä»¥ åŠ å·¥æ•°æ®çš„ç¨‹åº ä¸ºä¸­å¿ƒè½¬å‘å›´ç»• å…±äº«çš„æ•°æ®åº“ ä¸ºä¸­å¿ƒçš„æ–°é˜¶æ®µ æ•°æ®çš„å…±äº«æ€§é«˜ã€å†—ä½™åº¦ä½ä¸”æ˜“æ‰©å……ï¼šæ•°æ®å…±äº«å¯ä»¥å¤§å¤§å‡å°‘æ•°æ®å†—ä½™ï¼ŒèŠ‚çº¦å­˜å‚¨ç©ºé—´æ•°æ®ç‹¬ç«‹æ€§é«˜ ç‰©ç†ç‹¬ç«‹æ€§ï¼šæ˜¯æŒ‡ç”¨æˆ·çš„åº”ç”¨ç¨‹åºä¸æ•°æ®åº“ä¸­æ•°æ®çš„ç‰©ç†å­˜å‚¨æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ é€»è¾‘ç‹¬ç«‹æ€§ï¼šæ˜¯æŒ‡ç”¨æˆ·çš„åº”ç”¨ç¨‹åºä¸æ•°æ®åº“çš„é€»è¾‘ç»“æ„æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ æ•°æ®æ¨¡å‹ æ•°æ®æ¨¡å‹æ˜¯å¯¹ç°å®ä¸–ç•Œæ•°æ®ç‰¹å¾çš„æŠ½è±¡ã€‚ æ•°æ®æ¨¡å‹åˆ†ä¸ºä¸¤ç±»ï¼ˆä¸¤ä¸ªä¸åŒçš„å±‚æ¬¡ï¼‰ æ¦‚å¿µæ¨¡å‹ï¼Œä¹Ÿç§°ä¿¡æ¯æ¨¡å‹ï¼› å®ƒæ˜¯æŒ‰ç”¨æˆ·çš„è§‚ç‚¹æ¥å¯¹æ•°æ®å’Œä¿¡æ¯å»ºæ¨¡ï¼Œç”¨äºæ•°æ®åº“è®¾è®¡ å®ä½“Entityï¼šå®¢è§‚å­˜åœ¨å¹¶ç›¸äº’åŒºåˆ«çš„äº‹ç‰©ç§°ä¸ºå®ä½“ã€‚ å±æ€§ï¼šå®ä½“æ‰€å…·æœ‰çš„æŸä¸€ç‰¹æ€§ç§°ä¸ºå±æ€§ã€‚ä¸€ä¸ªå®ä½“å¯ä»¥ç”±è‹¥å¹²ä¸ªå±æ€§æ¥åˆ»ç”»ã€‚ ç ï¼šå”¯ä¸€æ ‡è¯†å®ä½“çš„å±æ€§é›†ç§°ä¸ºç ã€‚ å®ä½“å‹ï¼šç”¨å®ä½“ååŠå…¶å±æ€§åé›†åˆæ¥æŠ½è±¡å’Œåˆ»ç”»åŒç±»å®ä½“ç§°ä¸ºå®ä½“å‹ã€‚ å®ä½“é›†ï¼šåŒä¸€ç±»å‹å®ä½“çš„é›†åˆç§°ä¸ºå®ä½“é›† è”ç³»Relationï¼šç°å®ä¸–ç•Œä¸­äº‹ç‰©å†…éƒ¨ä»¥åŠäº‹ç‰©ä¹‹é—´çš„è”ç³»åœ¨ä¿¡æ¯ä¸–ç•Œä¸­åæ˜ ä¸ºå®ä½“ï¼ˆå‹ï¼‰å†…éƒ¨çš„è”ç³»å’Œå®ä½“ï¼ˆå‹ï¼‰ä¹‹é—´çš„è”ç³»ï¼› å®ä½“å†…éƒ¨çš„è”ç³»ï¼šæ˜¯æŒ‡ç»„æˆå®ä½“çš„å„å±æ€§ä¹‹é—´çš„è”ç³»ï¼› å®ä½“ä¹‹é—´çš„è”ç³»ï¼šé€šå¸¸æ˜¯æŒ‡ä¸åŒå®ä½“é›†ä¹‹é—´çš„è”ç³»ï¼›å®ä½“ä¹‹é—´çš„è”ç³»æœ‰ä¸€å¯¹ä¸€ï¼ˆ1ï¼š1ï¼‰ï¼Œä¸€å¯¹å¤šï¼ˆ1ï¼šnï¼‰ï¼Œå¤šå¯¹å¤šï¼ˆmï¼šnï¼‰ã€‚ é€»è¾‘æ¨¡å‹å’Œç‰©ç†æ¨¡å‹ã€‚ é€»è¾‘æ¨¡å‹âˆ¶å®ƒæ˜¯æŒ‰è®¡ç®—æœºç³»çµ±çš„è§‚ç‚¹å¯¹æ•°æ®å»ºæ¨¡ï¼Œä¸»è¦ç”¨äºæ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„å®ç°ã€‚ä¸»è¦åŒ…æ‹¬ç½‘çŠ¶æ¨¡å‹ã€å±‚æ¬¡æ¨¡å‹ã€å…³ç³»æ¨¡å‹ã€é¢å‘å¯¹è±¡æ•°æ®æ¨¡å‹ã€å¯¹è±¡å…³ç³»æ•°æ®æ¨¡å‹ã€åŠç»“æ„åŒ–æ•°æ®æ¨¡å‹ç­‰ æŒ‰è®¡ç®—æœºç³»ç»Ÿçš„è§‚ç‚¹å¯¹æ•°æ®å»ºæ¨¡ï¼Œç”¨äºDBMSå®ç°ã€‚ ç‰©ç†æ¨¡å‹ï¼šæ˜¯å¯¹æ•°æ®æœ€åº•å±‚çš„æŠ½è±¡ï¼Œå®ƒæè¿°æ•°æ®åœ¨ç³»ç»Ÿå…§éƒ¨çš„è¡¨ç¤ºæ–¹æ³•å’Œå­˜å–æ–¹æ³•ï¼Œæˆ–åœ¨ç£ç›˜æˆ–ç£å¸¦ä¸Šçš„å­˜å‚¨æ–¹å¼å’Œå­˜å–æ–¹æ³•ï¼Œæ˜¯é¢å‘è®¡ç®—æœºç³»ç»Ÿçš„ã€‚ æ•°æ®æ¨¡å‹ç”±ä¸‰éƒ¨åˆ†ç»„æˆ: æ•°æ®ç»“æ„â€“æè¿°ç³»ç»Ÿçš„é™æ€ç‰¹å¾ï¼› æ•°æ®æ“ä½œâ€“æè¿°ç³»ç»Ÿçš„åŠ¨æ€ç‰¹å¾ï¼› å®Œæ•´æ€§çº¦æŸã€‚ å®Œæ•´æ€§è§„åˆ™ï¼šç»™å®šçš„æ•°æ®æ¨¡å‹ä¸­æ•°æ®åŠå…¶è”ç³»æ‰€å…·æœ‰çš„åˆ¶çº¦å’Œä¾å­˜è§„åˆ™ã€‚ å±‚æ¬¡æ¨¡å‹ï¼Œç½‘çŠ¶æ¨¡å‹ å¸¸ç”¨çš„æ•°æ®æ¨¡å‹ï¼š æ ¼å¼åŒ–æ¨¡å‹ï¼šå±‚æ¬¡æ¨¡å‹ï¼Œç½‘çŠ¶æ¨¡å‹ã€‚ å…³ç³»æ¨¡å‹ï¼šæœ€å¸¸ç”¨çš„æ¨¡å‹ã€‚ å¯¹è±¡æ¨¡å‹ï¼šé¢å‘å¯¹è±¡æ•°æ®æ¨¡å‹ï¼Œå¯¹è±¡å…³ç³»æ•°æ®æ¨¡å‹ã€‚ å±‚æ¬¡æ¨¡å‹ ç”¨æ ‘å½¢ç»“æ„æ¥è¡¨ç¤ºå„ç±»å®ä½“ä»¥åŠå®ä½“é—´çš„è”ç³»ã€‚ è¡¨ç¤ºæ–¹å¼ï¼š å®ä½“å‹ï¼šç”¨è®°å½•ç±»å‹æè¿°æ¯ä¸ªç»“ç‚¹è¡¨ç¤ºä¸€ä¸ªè®°å½•ç±»å‹ï¼ˆå®ä½“ï¼‰ï¼› å±æ€§ï¼šç”¨å­—æ®µæè¿°æ¯ä¸ªè®°å½•ç±»å‹å¯åŒ…å«è‹¥å¹²ä¸ªå­—æ®µï¼› è”ç³»ï¼šç”¨ç»“ç‚¹ä¹‹é—´çš„è¿çº¿è¡¨ç¤ºè®°å½•ç±»å‹ä¹‹é—´çš„ä¸€å¯¹å¤šçš„çˆ¶å­è”ç³» å±‚æ¬¡æ¨¡å‹çš„ä¼˜ç¼ºç‚¹ 1ï¼‰ä¼˜ç‚¹ å±‚æ¬¡æ¨¡å‹çš„æ•°æ®ç»“æ„æ¯”è¾ƒç®€å•æ¸…æ™°ï¼› æŸ¥è¯¢æ•ˆç‡é«˜ï¼Œæ€§èƒ½ä¼˜äºå…³ç³»æ¨¡å‹ï¼Œä¸ä½äºç½‘çŠ¶æ¨¡å‹ï¼› å±‚æ¬¡æ•°æ®æ¨¡å‹æä¾›äº†è‰¯å¥½çš„å®Œæ•´æ€§æ”¯æŒï¼› 2ï¼‰ç¼ºç‚¹ ç»“ç‚¹ä¹‹é—´çš„å¤šå¯¹å¤šè”ç³»è¡¨ç¤ºä¸è‡ªç„¶ï¼› å¯¹æ’å…¥å’Œåˆ é™¤æ“ä½œçš„é™åˆ¶å¤šï¼Œåº”ç”¨ç¨‹åºçš„ç¼–å†™æ¯”è¾ƒå¤æ‚ï¼› æŸ¥è¯¢å­å¥³ç»“ç‚¹å¿…é¡»é€šè¿‡åŒäº²ç»“ç‚¹ï¼› å±‚æ¬¡æ•°æ®åº“çš„å‘½ä»¤è¶‹äºç¨‹åºåŒ–ã€‚ å…³ç³»æ¨¡å‹ åœ¨ç”¨æˆ·çš„è§‚ç‚¹ä¸‹ï¼Œå…³ç³»æ¨¡å‹ä¸­æ•°æ®çš„é€»è¾‘ç»“æ„æ˜¯ä¸€å¼ äºŒç»´è¡¨ã€‚ å…³ç³»å¿…é¡»æ˜¯è§„èŒƒåŒ–çš„ï¼Œæ»¡è¶³ä¸€å®šçš„è§„èŒƒæ¡ä»¶ã€‚ æœ€åŸºæœ¬çš„è§„èŒƒæ¡ä»¶æ˜¯å…³ç³»çš„æ¯ä¸€ä¸ªåˆ†é‡å¿…é¡»æ˜¯ä¸€ä¸ªä¸å¯å†åˆ†çš„æ•°æ®é¡¹ï¼Œä¸å…è®¸è¡¨ä¸­è¿˜æœ‰è¡¨ã€‚ æ³¨ï¼šå…³ç³»æ•°æ®æ¨¡å‹æ˜¯ç›®å‰æœ€é‡è¦çš„ä¸€ç§æ•°æ®æ¨¡å‹ï¼Œå®ƒçš„ä¸‰ä¸ªè¦ç´ åˆ†åˆ«æ˜¯æ•°æ®ç»“æ„ã€å…³ç³»æ“ä½œã€å®Œæ•´æ€§çº¦æŸ æ•°æ®ç»“æ„ å…³ç³»ï¼šä¸€ä¸ªå…³ç³»å¯¹åº”é€šå¸¸è¯´çš„ä¸€å¼ è¡¨ã€‚ å…ƒç»„ï¼šè¡¨ä¸­çš„ä¸€è¡Œã€‚ å±æ€§ï¼šè¡¨ä¸­çš„ä¸€åˆ—ã€‚ ç ï¼šä¹Ÿç§°ç é”®ï¼Œè¡¨ä¸­çš„æŸä¸ªå±æ€§ç»„ åŸŸï¼šæ˜¯ä¸€ç»„å…·æœ‰ç›¸åŒæ•°æ®ç±»å‹çš„å€¼çš„é›†åˆï¼šå­¦ç”Ÿå¹´é¾„å±æ€§çš„åŸŸï¼ˆ15-45å²ï¼‰ã€æ€§åˆ«çš„åŸŸï¼ˆç”·ã€å¥³ï¼‰ åˆ†é‡ï¼šå…ƒç»„ä¸­çš„ä¸€ä¸ªå±æ€§ã€‚ å…³ç³»æ¨¡å¼ï¼šå¯¹å…³ç³»çš„æè¿° æ³¨ï¼š**å…³ç³»æ•°æ®æ¨¡å‹çš„åŸºæœ¬æ•°æ®ç»“æ„æ˜¯ï¼Ÿ**A:å…³ç³» å…³ç³»å¿…é¡»æ˜¯è§„èŒƒåŒ–çš„ï¼Œæ»¡è¶³ä¸€å®šçš„è§„èŒƒæ¡ä»¶ã€‚æœ€åŸºæœ¬çš„è§„èŒƒæ¡ä»¶ï¼šå…³ç³»çš„æ¯ä¸€ä¸ª åˆ†é‡å¿…é¡»æ˜¯ä¸€ä¸ªä¸å¯åˆ†çš„æ•°æ®é¡¹ï¼Œä¸å…è®¸è¡¨ä¸­è¿˜æœ‰è¡¨ã€‚ å…³ç³»æ¨¡å‹çš„æ“çºµä¸å®Œæ•´æ€§çº¦æŸ ï¼ˆ1ï¼‰æ•°æ®ç»“æ„æ˜¯é›†åˆæ“ä½œé›†åˆæ“ä½œï¼Œæ“ä½œå¯¹è±¡å’Œæ“ä½œç»“æœéƒ½æ˜¯å…³ç³»ã€‚ ï¼ˆ2ï¼‰æé«˜äº†æ•°æ®çš„ç‹¬ç«‹æ€§ï¼Œæé«˜äº†ç”¨æˆ·ç”Ÿäº§ç‡ã€‚ ï¼ˆ3ï¼‰å…³ç³»çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ï¼Ÿ å®ä½“å®Œæ•´æ€§ï¼Œå‚ç…§å®Œæ•´æ€§ï¼›ï¼ˆå‰ä¸¤è€…ä¸ºå…³ç³»çš„ä¸¤ä¸ªä¸å˜æ€§ï¼‰ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§ã€‚ å…³ç³»æ¨¡å‹çš„ä¼˜ç¼ºç‚¹ ï¼ˆ1ï¼‰ä¼˜ç‚¹ å»ºç«‹åœ¨ä¸¥æ ¼çš„æ•°å­¦æ¦‚å¿µçš„åŸºç¡€ä¸Šï¼› æ¦‚å¿µå•ä¸€ï¼› å®ä½“å’Œå„ç±»è”ç³»éƒ½ç”¨å…³ç³»æ¥è¡¨ç¤º å¯¹æ•°æ®çš„æ£€ç´¢ç»“æœä¹Ÿæ˜¯å…³ç³» å…³ç³»æ¨¡å‹çš„å­˜å–è·¯å¾„å¯¹ç”¨æˆ·é€æ˜ï¼› å…·æœ‰æ›´é«˜çš„æ•°æ®ç‹¬ç«‹æ€§ï¼Œæ›´å¥½çš„å®‰å…¨ä¿å¯†æ€§ ç®€åŒ–äº†ç¨‹åºå‘˜çš„å·¥ä½œå’Œæ•°æ®åº“å¼€å‘å»ºç«‹çš„å·¥ä½œ ï¼ˆ2ï¼‰ç¼ºç‚¹ å­˜å–è·¯å¾„å¯¹ç”¨æˆ·é€æ˜ï¼ŒæŸ¥è¯¢æ•ˆç‡å¾€å¾€ä¸å¦‚æ ¼å¼åŒ–æ•°æ®æ¨¡å‹ï¼› ä¸ºæé«˜æ€§èƒ½ï¼Œå¿…é¡»å¯¹ç”¨æˆ·çš„æŸ¥è¯¢è¯·æ±‚è¿›è¡Œä¼˜åŒ–ï¼Œå¢åŠ äº†å¼€å‘æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚ æ•°æ®åº“ç³»ç»Ÿçš„ç»“æ„ ä»æ•°æ®åº“åº”ç”¨å¼€å‘äººå‘˜è§’åº¦çœ‹ï¼šæ•°æ®åº“ç³»ç»Ÿé‡‡ç”¨ä¸‰çº§æ¨¡å¼ç»“æ„ï¼Œæ˜¯æ•°æ®åº“ç³»ç»Ÿå†…éƒ¨çš„ç³»ç»Ÿç»“æ„ ä»æ•°æ®åº“æœ€ç»ˆç”¨æˆ·è§’åº¦çœ‹ï¼šæ•°æ®åº“ç³»ç»Ÿçš„ç»“æ„æœ‰ï¼š å•ç”¨æˆ·ç»“æ„ ä¸»ä»å¼ç»“æ„ åˆ†å¸ƒå¼ç»“æ„ å®¢æˆ·-æœåŠ¡å™¨ æµè§ˆå™¨-åº”ç”¨æœåŠ¡å™¨/æ•°æ®æœåŠ¡å™¨ ä¸‰çº§æ¨¡å¼-äºŒçº§æ˜ åƒ æ¨¡å¼(Schema): æ˜¯å¯¹æ•°æ®åº“é€»è¾‘ç»“æ„å’Œç‰¹å¾çš„æè¿° æ˜¯å‹çš„æè¿°ï¼Œä¸æ¶‰åŠå…·ä½“å€¼ æ¨¡å¼æ˜¯ç›¸å¯¹ç¨³å®šçš„ å®ä¾‹ï¼ˆInstanceï¼‰ æ•°æ®åº“æŸä¸€æ—¶åˆ»çš„çŠ¶æ€â€”â€”æ¨¡å¼çš„ä¸€ä¸ªå…·ä½“å€¼ åŒä¸€ä¸ªæ¨¡å¼å¯ä»¥æœ‰å¾ˆå¤šå®ä¾‹ å®ä¾‹éšæ•°æ®åº“ä¸­çš„æ•°æ®çš„æ›´æ–°è€Œå˜åŠ¨ ä¸‰çº§æ¨¡å¼ï¼š å¤–æ¨¡å¼ï¼ˆå­æ¨¡å¼orç”¨æˆ·æ¨¡å¼ï¼‰ æ•°æ®åº“ç”¨æˆ·ä½¿ç”¨çš„å±€éƒ¨æ•°æ®çš„é€»è¾‘ç»“æ„å’Œç‰¹å¾çš„æè¿° æ•°æ®åº“ç”¨æˆ·çš„æ•°æ®è§†å›¾ï¼Œæ˜¯ä¸æŸä¸€åº”ç”¨æœ‰å…³çš„æ•°æ®çš„é€»è¾‘è¡¨ç¤º æ¨¡å¼ï¼ˆé€»è¾‘æ¨¡å¼ï¼‰ æ•°æ®åº“ä¸­å…¨ä½“æ•°æ®çš„é€»è¾‘ç»“æ„å’Œç‰¹å¾çš„æè¿° æ‰€æœ‰ç”¨æˆ·çš„å…¬å…±æ•°æ®è§†å›¾ å†…æ¨¡å¼ï¼ˆå­˜å‚¨æ¨¡å¼ï¼‰ æ˜¯æ•°æ®ç‰©ç†ç»“æ„å’Œå­˜å‚¨æ–¹å¼çš„æè¿° æ˜¯æ•°æ®åœ¨æ•°æ®åº“å†…éƒ¨çš„è¡¨ç¤ºæ–¹å¼ äºŒçº§æ˜ å°„ å¤–æ¨¡å¼/æ¨¡å¼ æ˜ å°„ï¼šä¿è¯æ•°æ®çš„é€»è¾‘ç‹¬ç«‹æ€§ å½“æ¨¡å¼æ”¹å˜æ—¶ï¼Œæ•°æ®åº“ç®¡ç†å‘˜å¯¹å¤–æ¨¡å¼/æ¨¡å¼æ˜ åƒä½œç›¸åº”æ”¹å˜ï¼Œä½¿å¤–æ¨¡å¼ä¿æŒä¸å˜ åº”ç”¨ç¨‹åºæ˜¯ä¾æ®æ•°æ®çš„å¤–æ¨¡å¼ç¼–å†™çš„ï¼Œåº”ç”¨ç¨‹åºä¸å¿…ä¿®ï¼Œä¿è¯äº†æ•°æ®ä¸ç¨‹åºçš„é€»è¾‘ç‹¬ç«‹æ€§ï¼Œç®€ç§°æ•°æ®çš„é€»è¾‘ç‹¬ç«‹æ€§ æ¨¡å¼/å†…æ¨¡å¼ æ˜ å°„ï¼šä¿è¯æ•°æ®çš„ç‰©ç†ç‹¬ç«‹æ€§ å®šä¹‰äº†æ•°æ®å…¨å±€é€»è¾‘ç»“æ„ä¸å­˜å‚¨ç»“æ„ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚ å¦‚ï¼Œè¯´æ˜æŸä¸ªé€»è¾‘è®°å½•å¯¹åº”ä½•ç§å­˜å‚¨ç»“æ„ã€‚ æ•°æ®åº“ä¸­æ¨¡å¼/å†…æ¨¡å¼æ˜ è±¡æ˜¯å”¯ä¸€çš„ã€‚ ä¿è¯æ•°æ®çš„ç‰©ç†ç‹¬ç«‹æ€§ å½“æ•°æ®åº“çš„å­˜å‚¨ç»“æ„æ”¹å˜äº†ï¼ˆä¾‹å¦‚é€‰ç”¨äº†å¦ä¸€ç§å­˜å‚¨ç»“æ„ï¼‰ï¼Œæ•°æ®åº“ç®¡ç†å‘˜ä¿®æ”¹æ¨¡å¼/å†…æ¨¡å¼æ˜ è±¡ï¼Œä½¿æ¨¡å¼ä¿æŒä¸å˜ã€‚ æ¨¡å¼ä¸å˜ï¼Œåˆ™åº”ç”¨ç¨‹åºä¸å˜ã€‚ä¿è¯äº†æ•°æ®ä¸ç¨‹åºçš„ç‰©ç†ç‹¬ç«‹æ€§ï¼Œç®€ç§°æ•°æ®çš„ç‰©ç†ç‹¬ç«‹æ€§ã€‚ ç  å€™é€‰ç ï¼ˆè¶…çº§ç ï¼‰å°±å°±æ˜¯å¯ä»¥åŒºåˆ«ä¸€ä¸ªå…ƒç»„ï¼ˆå³è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®ï¼‰çš„å±æ€§æˆ–å±æ€§çš„é›†åˆã€‚å€™é€‰ç æ˜¯æœ€å°çš„è¶…ç  å¦‚ä½•é€‰å‡ºå€™é€‰ç ï¼Ÿ åªå‡ºç°åœ¨å·¦è¾¹çš„ä¸€å®šæ˜¯å€™é€‰ç  åªå‡ºç°åœ¨å³è¾¹çš„ä¸€å®šä¸æ˜¯å€™é€‰ç  å·¦å³éƒ½å‡ºç°çš„ä¸ä¸€å®š å·¦å³éƒ½ä¸å‡ºç°çš„ä¸€å®šæ˜¯å€™é€‰ç  å†æ±‚ç¡®å®šçš„å€™é€‰ç çš„é—­åŒ…ï¼Œå¦‚æœå¯ä»¥æ¨å‡ºå…¨éƒ¨ï¼Œé‚£ä¹ˆå½“å‰ç¡®å®šçš„å°±æ˜¯å€™é€ç ï¼Œå¦åˆ™ä½ è¦å§æ¯ä¸€ä¸ªå¯èƒ½çš„å€¼æ”¾è¿›å½“å‰ç¡®å®šçš„å€™é€‰ç é‡Œé¢è¿›è¡Œæ±‚é—­åŒ… ä¸»ç ï¼šä»å€™é€‰ç é‡Œé¢ä»»æ„è·³å‡ºä¸€ä¸ªä½œä¸ºä¸»ç  ä¸»å±æ€§ï¼šåŒ…å«åœ¨æ‰€æœ‰å€™é€‰ç çš„å±æ€§æ¯”å¦‚ ABCDE éä¸»å±æ€§ï¼šä¸åŒ…å«åœ¨å€™é€‰ç ä¸­çš„å±æ€§ï¼Œä¸Šé¢˜ä¸ºG å…¨ç ï¼šæ‰€æœ‰çš„å±æ€§éƒ½æ˜¯ä¸»ç  èŒƒå¼ Q:ä¸ºä»€ä¹ˆè¦å¼•å…¥èŒƒå¼ï¼Ÿ 1æ•°æ®å†—ä½™ 2æ›´æ–°å¼‚å¸¸ 3æ’å…¥å¼‚å¸¸ 4åˆ é™¤å¼‚å¸¸ A: è®¾è®¡å…³ç³»æ•°æ®åº“æ—¶ï¼Œéµä»ä¸åŒçš„è§„èŒƒè¦æ±‚ï¼Œè¿™äº›ä¸åŒçš„è§„èŒƒè¦æ±‚è¢«ç§°ä¸ºä¸åŒçš„èŒƒå¼ï¼Œå„ç§èŒƒå¼å‘ˆé€’æ¬¡è§„èŒƒï¼Œè¶Šé«˜çš„èŒƒå¼æ•°æ®åº“å†—ä½™è¶Šå°ã€‚ ç›®å‰å…³ç³»æ•°æ®åº“æœ‰å…­ç§èŒƒå¼ï¼šç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ã€ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ã€ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ã€å·´æ–¯-ç§‘å¾·èŒƒå¼ï¼ˆBCNFï¼‰ã€ç¬¬å››èŒƒå¼ï¼ˆ4NFï¼‰å’Œç¬¬äº”èŒƒå¼ï¼ˆ5NFï¼Œåˆç§°å®Œç¾èŒƒå¼ï¼‰ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®åº“åªéœ€æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰å°±è¡Œäº†ã€‚ 1NF:æ‰€æœ‰å­—æ®µå€¼éƒ½æ˜¯ä¸å¯åˆ†è§£çš„åŸå­å€¼ 2NF:ä¸åŒ…å«éä¸»å±æ€§å¯¹ç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼šä¸€ä¸ªè¡¨ä¸­åªèƒ½ä¿å­˜ä¸€ç§æ•°æ®ï¼Œä¸å¯ä»¥æŠŠå¤šç§æ•°æ®ä¿å­˜åœ¨åŒä¸€å¼ æ•°æ®åº“è¡¨ä¸­ 3NF:ä¸åŒ…å«éä¸»å±æ€§å¯¹ç çš„ä¼ é€’å‡½æ•°ä¾èµ–ç¡®ä¿æ•°æ®è¡¨ä¸­çš„æ¯ä¸€åˆ—æ•°æ®éƒ½å’Œä¸»é”®ç›´æ¥ç›¸å…³ï¼Œè€Œä¸èƒ½é—´æ¥ç›¸å…³ã€‚ BCNF:æ¶ˆé™¤æ¯ä¸€å±æ€§å¯¹å€™é€‰é”®çš„ä¼ é€’ä¾èµ–ï¼ŒBCNFæ˜¯ä¿®æ­£çš„ç¬¬ä¸‰èŒƒå¼ å‡½æ•°ä¾èµ–ç®€å•ç‚¹è¯´å°±æ˜¯ï¼šæŸä¸ªå±æ€§é›†å†³å®šå¦ä¸€ä¸ªå±æ€§é›†æ—¶ï¼Œç§°å¦ä¸€å±æ€§é›†ä¾èµ–äºè¯¥å±æ€§é›†ã€‚ å…¬ç†ç³»ç»Ÿ Armstrongå…¬ç†ç³»ç»Ÿï¼ˆ Armstrongs axiomï¼‰è®¾Uä¸ºå±æ€§é›†æ€»ä½“ï¼ŒFæ˜¯Uä¸Šçš„ä¸€ç»„å‡½æ•°ä¾èµ–ï¼Œäºæ˜¯æœ‰å…³ç³»æ¨¡å¼R(U,F)ï¼Œå¯¹R&lt;U,F&gt;æ¥è¯´æœ‰ä»¥ä¸‹çš„æ¨ç†è§„åˆ™ A1è‡ªåå¾‹ï¼ˆ reflexivity ruleï¼‰ï¼šè‹¥ YâˆˆXâˆˆUï¼Œåˆ™Xâ†’Yä¸ºFæ‰€è•´æ¶µã€‚ A2å¢å¹¿å¾‹ï¼ˆ augmentation ruleï¼‰ï¼šè‹¥Xâ†’yä¸ºFæ‰€è•´æ¶µï¼Œä¸”ZâˆˆUï¼Œåˆ™XZâ†’Yzä¸ºFæ‰€è•´æ¶µã€‚ A3ä¼ é€’å¾‹ï¼ˆ transitivity ruleï¼‰ï¼šè‹¥Xâ†’YåŠPâ†’zä¸ºFæ‰€è•´æ¶µï¼Œåˆ™Xâ†’Zä¸ºFæ‰€è•´æ¶µ æ ¹æ®A1ã€A2ã€A3è¿™ä¸‰æ¡æ¨ç†è§„åˆ™å¯ä»¥å¾—åˆ°ä¸‹é¢ä¸‰æ¡å¾ˆæœ‰ç”¨çš„æ¨ç†è§„åˆ™ã€‚ åˆå¹¶è§„åˆ™ï¼ˆ union ruleï¼‰ï¼šç”±Xâ†’Y,Xâ†’Zï¼Œæœ‰Xâ†’YZ ä¼ªä¼ é€’è§„åˆ™ï¼ˆ pseudo transitivity ruleï¼‰ï¼šç”±Xâ†’Y,WYâ†’Zï¼Œæœ‰Xâ†’ä¹™ åˆ†è§£è§„åˆ™ï¼ˆ decomposition ruleï¼‰ï¼šç”±Xâ†’YåŠZâˆˆYï¼Œæœ‰Xâ†’Zã€‚ ä¾èµ– Qï¼šä»€ä¹ˆæ˜¯ä¾èµ–ï¼Ÿ Aï¼šä¾èµ–æ˜¯æŒ‡å…³ç³»ä¸­ä¸€ä¸ªæˆ–ä¸€ç»„å±æ€§çš„å€¼å¯ä»¥å†³å®šå…¶å®ƒå±æ€§çš„å€¼æ¯”å¦‚Aâ†’&gt;Bè¿™å°±æ˜¯ä¸€ä¸ªä¾èµ– Q: å¦‚ä½•æ±‚æœ€å°ä¾èµ–é›†ï¼Ÿ 1ï¼‰æ‹†å³è¾¹ä¸ºå¤šä¸ªå…ƒç´ çš„æ¯”å¦‚A-&gt;BCHæ‹†ä¸ºA&gt;Bå’ŒA-&gt;C 2ï¼‰å‡ºå»å½“å‰å…ƒç´ ï¼Œæ±‚å®ƒçš„é—­åŒ…ï¼ŒæŠŠé›†åˆé‡Œé¢æ‰€æœ‰å…ƒç´ éƒ½å¼„å®Œ 3ï¼‰å·¦è¾¹æœ€å°åŒ–ï¼ˆé€šè¿‡é®ä½å…ƒç´ æ¥çœ‹èƒ½ä¸èƒ½é€€å²€å…¶ä»–å…ƒç´ ï¼‰æ¯”å¦‚BCDï¼Œé®ä½Bçœ‹èƒ½é€€å‡ºCDå—ï¼Œé®ä½Cèƒ½é€€å‡ºBDå—é®ä½Dçœ‹èƒ½é€€å‡ºBCå— å…³ç³»å‹æ•°æ®åº“ å…³ç³»æ¨¡å‹ å…³ç³»æ•°æ®ç»“æ„ å…³ç³»æ¨¡å¼ï¼ˆ Relation Schemaï¼‰æ˜¯å‹ï¼›å…³ç³»æ˜¯å€¼ å…³ç³»æ¨¡å¼æ˜¯å¯¹å…³ç³»çš„æè¿° å…ƒç»„é›†åˆçš„ç»“æ„ â—å±æ€§æ„æˆ â—å±æ€§æ¥è‡ªçš„åŸŸ â—å±æ€§ä¸åŸŸä¹‹é—´çš„æ˜ è±¡å…³ç³» å®Œæ•´æ€§çº¦æŸæ¡ä»¶ å…³ç³»æ¨¡å¼å¯ä»¥å½¢å¼åŒ–åœ°è¡¨ç¤ºä¸ºï¼šRï¼ˆU, D, DOM, Fï¼‰ R å…³ç³»å U ç»„æˆè¯¥å…³ç³»çš„å±æ€§åé›†åˆ D Uä¸­å±æ€§æ‰€æ¥è‡ªçš„åŸŸ DOM å±æ€§å‘åŸŸçš„æ˜ è±¡é›†åˆ F å±æ€§é—´æ•°æ®çš„ä¾èµ–å…³ç³»çš„é›†åˆ å…³ç³»æ¨¡å¼ â– å¯¹å…³ç³»çš„æè¿° â– é™æ€çš„ã€ç¨³å®šçš„ å…³ç³» â– å…³ç³»æ¨¡å¼åœ¨æŸä¸€æ—¶åˆ»çš„çŠ¶æ€æˆ–å†…å®¹ â– åŠ¨æ€çš„ã€éšæ—¶é—´ä¸æ–­å˜åŒ–çš„ å…³ç³»å®Œæ•´æ€§çº¦æŸ å®ä½“å®Œæ•´æ€§å’Œå‚ç…§å®Œæ•´æ€§ å…³ç³»æ¨¡å‹å¿…é¡»æ»¡è¶³çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ç§°ä¸ºå…³ç³»çš„ä¸¤ä¸ªä¸å˜æ€§ï¼Œåº”è¯¥ç”±å…³ç³»ç³»ç»Ÿè‡ªåŠ¨æ”¯æŒ å®ä½“å®Œæ•´æ€§ï¼ˆ Entity Integrityï¼‰ å…³ç³»çš„ä¸»å±æ€§ä¸èƒ½å–ç©ºå€¼ å‚ç…§å®Œæ•´æ€§ï¼š è‹¥å±æ€§ï¼ˆæˆ–å±æ€§ç»„ï¼‰Fæ˜¯åŸºæœ¬å…³ç³»Rçš„å¤–ç ï¼Œä»–ä¸åŸºæœ¬å…³ç³»Sçš„ä¸»ç Kç›¸å¯¹åº”ï¼ˆåŸºæœ¬å…³ç³»Rå’ŒSä¹Ÿå¯ä»¥æ˜¯åŒä¸€ä¸ªå…³ç³»ï¼‰ï¼Œåˆ™å¯¹äºRä¸­æ¯ä¸ªå…ƒç»„åœ¨Fä¸Šçš„å–å€¼å¿…é¡»ä¸ºï¼šæˆ–å–ç©ºå€¼ï¼ˆFçš„æ¯ä¸ªå±æ€§å€¼å‡ä¸ºç©ºå€¼ï¼‰ï¼›æˆ–è€…ç­‰äºSä¸­æŸä¸ªå…ƒç»„çš„ä¸»ç å€¼ã€‚ æ¡ˆä¾‹ 1:å­¦ç”Ÿ(å­¦å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼Œç³»å·) 2:ç³»(ç³»å·ï¼Œç³»åï¼Œç³»ä¸»ä»») å­¦ç”Ÿå…³ç³»çš„å±æ€§â€œç³»å·â€ä¸ç³»å…³ç³»çš„ä¸»ç â€œç³»å·â€ç›¸å¯¹åº”ï¼Œå› æ­¤ï¼Œâ€œç³»å·â€å±æ€§æ˜¯å­¦ç”Ÿ å…³ç³»çš„å¤–ç ã€‚è¿™é‡Œç³»å…³ç³»æ˜¯è¢«å‚ç…§å…³ç³»ï¼Œå­¦ç”Ÿå…³ç³»ä¸ºå‚ç…§å…³ç³»ï¼›å­¦ç”Ÿå…³ç³»ä¸­çš„æ¯ä¸ªå…ƒç»„çš„â€œç³»å·â€å±æ€§åªèƒ½å–ä¸‹é¢ä¸¤ç±»å€¼ï¼šç©ºå€¼æˆ–ç³»å…³ç³»ä¸­â€œç³»å·â€å·²ç»å­˜åœ¨çš„å€¼ã€‚ 1.å­¦ç”Ÿ(å­¦å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼Œç³»å·ï¼Œç­é•¿å­¦å·) å­¦ç”Ÿå…³ç³»çš„â€œç­é•¿å­¦å·â€ä¸å…¶ä¸»ç â€œå­¦å·â€å½¢æˆå‚ç…§å’Œè¢«å‚ç…§çš„è‡ªèº«å‚ç…§å…³ç³»ï¼Œå³â€œç­ é•¿å­¦å·â€ä¸ºå­¦ç”Ÿå…³ç³»çš„å¤–ç ã€‚å­¦ç”Ÿå…³ç³»ä¸­çš„æ¯ä¸ªç»„çš„â€œç­é•¿å­¦å·â€å±æ€§åªèƒ½å–ä¸‹é¢ä¸¤ç±»å€¼ï¼š ç©ºå€¼æˆ–å­¦ç”Ÿå…³ç³»ä¸­â€œå­¦å·â€å·²ç»å­˜åœ¨çš„å€¼ã€‚ ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§ åº”ç”¨é¢†åŸŸéœ€è¦éµå¾ªçš„çº¦æŸæ¡ä»¶ï¼Œä½“ç°äº†å…·ä½“é¢†åŸŸä¸­çš„è¯­ä¹‰çº¦æŸ ç”¨æˆ·å¯¹æ•°æ®è‡ªå®šä¹‰çš„åŸŸçº¦æŸå€¼ï¼Œå¦‚â€œå­¦åˆ†â€å±æ€§åªèƒ½å–å€¼{1,2,3,4} åŸŸâ€“&gt;ç¬›å¡å°”ç§¯ æ‰€æœ‰åŸŸçš„æ‰€æœ‰å–å€¼çš„ä»»æ„ç»„åˆ ç¬›å¡å°”ç§¯å¯ä»¥çœ‹ç€æ˜¯å…³ç³»çš„â€œåŸŸâ€ã€‚ ç¬›å¡å°”ç§¯çš„è¡¨ç¤ºæ–¹æ³• ç¬›å¡å°”ç§¯å¯è¡¨ç¤ºä¸ºä¸€å¼ äºŒç»´è¡¨ è¡¨ä¸­çš„æ¯è¡Œå¯¹åº”ä¸€ä¸ªå…ƒç»„ï¼Œè¡¨ä¸­çš„æ¯åˆ—å¯¹åº”ä¸€ä¸ªåŸŸ å…³ç³»ä»£æ•° å…³ç³»ä»£æ•°è¯­è¨€:ç”¨å¯¹å…³ç³»çš„è¿ç®—æ¥è¡¨è¾¾æŸ¥è¯¢è¦æ±‚ å…³ç³»æ¼”ç®—è¯­è¨€ï¼šç”¨è°“è¯æ¥è¡¨è¾¾æŸ¥è¯¢è¦æ±‚ å…ƒç»„å…³ç³»æ¼”ç®—è¯­è¨€ â—è°“è¯å˜å…ƒçš„åŸºæœ¬å¯¹è±¡æ˜¯å…ƒç»„å˜é‡ â—ä»£è¡¨ï¼šAPLHA,QUEL åŸŸå…³ç³»æ¼”ç®—è¯­è¨€ â—è°“è¯å˜å…ƒçš„åŸºæœ¬å¯¹è±¡æ˜¯åŸŸå˜é‡ â—ä»£è¡¨ï¼šQBE å…·æœ‰å…³ç³»ä»£æ•°å’Œå…³ç³»æ¼”ç®—åŒé‡ç‰¹ç‚¹çš„è¯­è¨€ â– ä»£è¡¨ï¼šSQLï¼ˆ Structured Query Languageï¼‰ å…³ç³»ä»£æ•°æ˜¯ä¸€ç§æŠ½è±¡çš„æŸ¥è¯¢è¯­è¨€ï¼Œå®ƒç”¨å¯¹å…³ç³»çš„è¿ç®—æ¥è¡¨è¾¾æŸ¥è¯¢ è¿ç®—å¯¹è±¡æ˜¯å…³ç³» è¿ç®—ç»“æœäº¦ä¸ºå…³ç³» å…³ç³»ä»£æ•°çš„è¿ç®—ç¬¦æœ‰ä¸¤ç±»ï¼šé›†åˆè¿ç®—ç¬¦å’Œä¸“é—¨çš„å…³ç³» è¿ç®—ç¬¦ å…³ç³»æ“ä½œ(å…³ç³»ä»£æ•°è¿ç®—) æ’å…¥ã€æŸ¥è¯¢ã€åˆ é™¤ã€ä¿®æ”¹ å…¶ä¸­æŸ¥è¯¢æ“ä½œåˆ†ä¸ºï¼šé€‰æ‹©ã€æŠ•å½±ã€è¿æ¥ã€é™¤æ³•ã€å¹¶ã€å·®ã€äº¤ã€ç¬›å¡å°”ç§¯ äº”ç§åŸºæœ¬å…³ç³»ä»£æ•°è¿ç®—ï¼šé€‰æ‹©ã€æŠ•å½±ã€å¹¶ã€å·®ã€ç¬›å¡å°”ç§¯ âˆª âˆ© ä»¥ä¸Šä¸‰ä¸ªéƒ½éœ€è¦å…·æœ‰ç›¸åŒçš„å±æ€§ï¼ˆç›¸åŒç›®ï¼‰ï¼Œç»“æœçš„å±æ€§ä¹Ÿæ˜¯ä¸€æ ·çš„ ç¬›å¡å°”ç§¯ ä¸¤ä¸ªåˆ†åˆ«ä¸ºnç›®å’Œmç›®çš„å…³ç³»Rå’ŒSçš„ç¬›å¡å°”ç§¯æ˜¯ä¸€ä¸ªï¼ˆn + mï¼‰åˆ—çš„å…ƒç»„çš„é›†åˆã€‚è‹¥Ræœ‰k1ä¸ªå…ƒç»„ï¼ŒSæœ‰k2ä¸ªå…ƒç»„ï¼Œåˆ™Rå’ŒSçš„ç¬›å¡å°”ç§¯æœ‰k1 * k2ä¸ªå…ƒç»„ã€‚ é€‰æ‹©å’ŒæŠ•å½±çš„åŒºåˆ« é€‰æ‹©çš„æ˜¯ä¸€è¡Œè®°å½•ï¼ŒæŠ•å½±æ˜¯ä½ æ‰€éœ€çš„æŸä¸ªå­—æ®µï¼Œä¸¤è€…ç›¸ç»“åˆä¸ºæœ€ç»ˆç»“æœ. é€‰æ‹©æ˜¯ä»è¡Œçš„è§’åº¦è¿›è¡Œçš„è¿ç®—ï¼›æŠ•å½±æ“ä½œæ˜¯ä»åˆ—çš„è§’åº¦è¿›è¡Œçš„è¿ç®—ã€‚é€‰æ‹©æ˜¯åœ¨å…³ç³»Rä¸­é€‰æ‹©æ»¡è¶³ç»™å®šæ¡ä»¶çš„è¯¸å…ƒç»„ï¼ŒæŠ•å½±æ˜¯ä»Rä¸­é€‰æ‹©å‡ºè‹¥å¹²å±æ€§åˆ—ç»„æˆæ–°çš„å…³ç³»ã€‚ è¿æ¥ï¼š è‡ªç„¶è¿æ¥ï¼šæŠŠå…±åŒçš„å±æ€§è¿›è¡Œç­‰å€¼è¿æ¥ã€‚ â˜…å…ˆæŠŠæ‰€æœ‰å±æ€§å»é‡åˆ—å‡ºæ¥ï¼Œå°†ç­‰å€¼çš„å…±åŒå±æ€§å¡«å…¥åï¼Œè¡¥å……å…¶ä»–å±æ€§å€¼ æ‚¬æµ®å…ƒç»„ï¼ˆ Dangling tupleï¼‰ï¼šä¸¤ä¸ªå…³ç³»Rå’ŒSåœ¨åšè‡ªç„¶è¿æ¥æ—¶ï¼Œå…³ç³»Rä¸­æŸäº›å…ƒç»„æœ‰å¯èƒ½åœ¨Sä¸­ä¸å­˜åœ¨å…¬å…±å±æ€§ä¸Šå€¼ç›¸ç­‰çš„å…ƒç»„ï¼Œä»è€Œé€ æˆRä¸­è¿™äº›å…ƒç»„åœ¨æ“ä½œæ—¶è¢«èˆå¼ƒäº†ï¼Œè¿™äº›è¢«èˆå¼ƒçš„å…ƒç»„ç§°ä¸ºæ‚¬æµ®å…ƒç»„ã€‚ å¤–è¿æ¥ï¼ˆ Outer Joinï¼‰ï¼šå¦‚æœæŠŠæ‚¬æµ®å…ƒç»„ä¹Ÿä¿å­˜åœ¨ç»“æœå…³ç³»ä¸­ï¼Œè€Œåœ¨å…¶ä»–å±æ€§ä¸Šå¡«ç©ºå€¼ï¼ˆNu1Uï¼‰ï¼Œå°±å«åšå¤–è¿æ¥ å·¦å¤–è¿æ¥ï¼ˆ LEFT OUTER J0INæˆ– LEFT J0INï¼‰ï¼šåªä¿ç•™å·¦è¾¹å…³ç³»Rä¸­çš„æ‚¬æµ®å…ƒç»„ å³å¤–è¿æ¥ï¼ˆ RIGHT0 DUTER J0INæˆ– RIGHT J0INï¼‰ï¼šåªä¿ç•™å³è¾¹å…³ç³»Sä¸­çš„æ‚¬æµ®å…ƒç»„ é™¤ ä¿ç•™Rä¸­æ»¡è¶³Sçš„ï¼Œè€Œä¸”Rä¸­åˆ—è¦å»æ‰Sçš„åˆ— æ³¨ï¼š å…³ç³»ä¸­ï¼Œå±æ€§ä¸ªæ•°ç§°ä¸ºã€Œåº¦ã€æˆ–ã€Œç›®ã€ï¼Œ3åº¦è¡¨ç¤ºè¿™ä¸ªè¡¨æœ‰3åˆ—ã€‚ å…³ç³»ä¸­å…ƒç»„çš„ä¸ªæ•°ç§°ä¸ºã€ŒåŸºæ•°ã€ã€‚ å…³ç³»å®Œæ•´æ€§ å®ä½“å®Œæ•´æ€§ï¼šä¸»ç å”¯ä¸€ä¸”éç©º å‚ç…§å®Œæ•´æ€§ï¼šå¤–ç è¦ä¹ˆä¸ºç©ºï¼Œè¦ä¹ˆå¯¹åº”å¦ä¸€è¡¨çš„ä¸»ç  ç”¨æˆ·å®šä¹‰å®Œæ•´æ€§ï¼šä½ è‡ªå·±å†™çš„è¦å®Œæ•´æ¯”å¦‚å­¦å·å¤šå°‘å§“åç­çº§ä¸“ä¸šä¹‹ç±» å…³ç³»ä»£æ•° æ˜¯ä¸€ç§æŠ½è±¡çš„æŸ¥è¯¢è¯­è¨€ï¼Œå®ƒç”¨å¯¹å…³ç³»çš„è¿ç®—æ¥è¡¨è¾¾æŸ¥è¯¢ã€‚ ä¸‰å¤§è¦ç´ ï¼šè¿ç®—å¯¹è±¡ï¼ˆå…³ç³»ï¼‰ã€è¿ç®—ç¬¦ï¼ˆé›†åˆè¿ç®—ç¬¦å’Œä¸“é—¨çš„å…³ç³»è¿ç®—ç¬¦ï¼‰å’Œè¿ç®—ç»“æœï¼ˆå…³ç³»ï¼‰ SQLè¯­è¨€ Structure Query Languageï¼Œç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œ æ•°æ®å®šä¹‰è¯­è¨€DDLï¼ˆ Data Ddefinition Languageï¼‰sQLæ•°æ®å®šä¹‰è¯­è¨€ä¸»è¦ç”¨æ¥å®šä¹‰é€»è¾‘ç»“æ„ï¼ŒåŒ…æ‹¬å®šä¹‰åŸºè¡¨ï¼Œè§†å›¾å’Œç´¢å¼•ã€‚ åˆ é™¤è¡¨ã€å®šä¹‰è¡¨ã€ä¿®æ”¹è¡¨ æ•°æ®æŸ¥è¯¢è¯­è¨€DQLï¼ˆ Data Query Languageï¼‰ï¼šs0Lçš„æ•°æ®æŸ¥è¯¢è¯­è¨€ä¸»è¦ç”¨æ¥å¯¹æ•°æ®åº“ä¸­çš„å„ç§æ•°æ®å¯¹è±¡è¿›è¡ŒæŸ¥è¯¢ã€‚ æ•°æ®æ“çºµè¯­è¨€DMLï¼ˆ Data Manipulation Languageï¼‰ï¼šs0Lçš„æ•°æ®æ“çºµè¯­è¨€ï¼Œç”¨äºæ”¹å˜æ•°æ®åº“ä¸­çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ’å…¥ï¼Œåˆ é™¤ï¼Œä¿®æ”¹ æ•°æ®æ§åˆ¶åŠŸèƒ½DCLï¼ˆ Data Control Languageï¼‰ï¼šs0Lçš„æ•°æ®æ§åˆ¶è¯­è¨€ï¼Œå¯¹è¡¨å’Œè§†å›¾çš„æˆæƒï¼Œå®Œæ•´æ€§è§„åˆ™çš„æè¿°ä»¥åŠäº‹åŠ¡å¼€å§‹å’Œç»“æŸç­‰æ§åˆ¶è¯­å¥ã€‚ SQLè¯­è¨€ç‰¹ç‚¹ ç»¼åˆç»Ÿä¸€ï¼ˆç‹¬ç«‹å®Œæˆæ•°æ®åº“ç”Ÿå‘½å‘¨æœŸä¸­çš„å…¨éƒ¨æ´»åŠ¨ï¼ŒåŒ…æ‹¬å®šä¹‰å…³ç³»æ¨¡å¼ã€å½•å…¥æ•°æ®ã€å»ºç«‹æ•°æ®åº“ã€æŸ»è¯¢ã€æ›´æ–°ã€ç»´æŠ¤ã€æ•°æ®åº“é‡æ„ã€æ•°æ®åº“å®‰å…¨ï¼‰ é«˜åº¦éè¿‡ç¨‹åŒ–ï¼ˆç”¨æˆ·åªéœ€æå‡ºâ€œåšä»€ä¹ˆâ€ï¼Œè€Œä¸å¿…æŒ‡æ˜â€œæ€ä¹ˆåšâ€ã€‚ï¼‰ éå…³ç³»æ•°æ®æ¨¡å‹çš„æ•°æ®æ“çºµè¯­è¨€â€œé¢å‘è¿‡ç¨‹â€ï¼Œå¿…é¡»æŒ‡å®šå­˜å–è·¯å¾„ã€‚ SQLåªè¦æå‡ºâ€œåšä»€ä¹ˆâ€ï¼Œæ— é¡»äº†è§£å­˜å–è·¯å¾„ å­˜å–è·¯å¾„çš„é€‰æ‹©ä»¥åŠSQLçš„æ“ä½œè¿‡ç¨‹ç”±ç³»ç»Ÿè‡ªåŠ¨å®Œæˆ é¢å‘é›†åˆçš„æ“ä½œæ–¹å¼ï¼ˆSQLé‡‡ç”¨é›†åˆæ“ä½œæ–¹å¼ï¼‰ éå…³ç³»æ•°æ®æ¨¡å‹é‡‡ç”¨é¢å‘è®°å½•çš„æ“ä½œæ–¹å¼ï¼Œæ“ä½œå¯¹è±¡æ˜¯ä¸€æ¡è®°å½• SQLé‡‡ç”¨é›†åˆæ“ä½œæ–¹å¼ æ“ä½œå¯¹è±¡ã€æŸ¥æ‰¾ç»“æœå¯ä»¥æ˜¯å…ƒç»„çš„é›†åˆ ä¸€æ¬¡æ’å…¥ã€åˆ é™¤ã€æ›´æ–°æ“ä½œçš„å¯¹è±¡å¯ä»¥æ˜¯å…ƒç»„çš„é›†åˆ ä»¥åŒä¸€ç§è¯­æ³•ç»“æ„æä¾›ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼ˆS0Læ—¢æ˜¯è‡ªå«å¼ï¼ˆç‹¬ç«‹çš„ï¼‰è¯­è¨€ï¼Œåˆæ˜¯åµŒå…¥å¼è¯­è¨€ã€‚SQè¯­å¥èƒ½å¤ŸåµŒå…¥åˆ°é«˜çº§è¯­è¨€ç¨‹åºä¸­ï¼Œï¼‰ è¯­è¨€ç®€æ´ï¼Œæ˜“å­¦æ˜“ç”¨ï¼ˆs0Lè¯­è¨€è¯­æ³•ç®€å•ï¼Œæ¥è¿‘è‹±è¯­å£è¯­ï¼Œå› æ­¤å®¹æ˜“å­¦ä¹ ï¼Œä¹Ÿå®¹æ˜“ä½¿ç”¨ã€‚ï¼‰ SQLåŠŸèƒ½æ€§æå¼ºï¼Œå®Œæˆæ ¸å¿ƒåŠŸèƒ½åªç”¨äº†9ä¸ªåŠ¨è¯ï¼šSELECTï¼ˆæ•°æ®æŸ¥è¯¢ï¼‰ï¼›CREATEã€ALERTã€INSERTï¼ˆæ•°æ®å®šä¹‰ï¼‰ï¼›DROPã€UPDATEã€DELETEï¼ˆæ•°æ®æ“çºµï¼‰ï¼›GRANTã€REVOKE(æ•°æ®æ§åˆ¶) SQLçš„åŸºæœ¬æ¦‚å¿µ åŸºæœ¬è¡¨ æœ¬èº«ç‹¬ç«‹å­˜åœ¨çš„è¡¨ SQLä¸­ä¸€ä¸ªå…³ç³»å°±å¯¹åº”ä¸€ä¸ªåŸºæœ¬è¡¨ ä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰åŸºæœ¨è¡¨å¯¹åº”ä¸€ä¸ªå­˜å‚¨æ–‡ä»¶ ä¸€ä¸ªè¡¨å¯ä»¥å¸¦è‹¥å¹²ç´¢å¼• è§†å›¾ æ¦‚å¿µ ä»ä¸€ä¸ªæˆ–å‡ ä¸ªåŸºæœ¬è¡¨å¯¼å‡ºçš„è¡¨ æ•°æ®åº“ä¸­åªå­˜æ”¾è§†å›¾çš„å®šä¹‰è€Œä¸å­˜æ”¾è§†å›¾å¯¹åº”çš„æ•°æ® è§†å›¾æ˜¯ä¸€ä¸ªè™šè¡¨ ç”¨æˆ·å¯ä»¥åœ¨è§†å›¾ä¸Šå†å®šä¹‰è§†å›¾ æ•°æ®åº“å®‰å…¨æ€§ æ•°æ®åº“çš„ä¸å®‰å…¨å› ç´  éæˆæƒç”¨æˆ·å¯¹æ•°æ®åº“çš„æ¶æ„å­˜å–å’Œç ´å ä¸€äº›é»‘å®¢ï¼ˆ Hackerï¼‰å’ŒçŠ¯ç½ªåˆ†å­åœ¨ç”¨æˆ·å­˜å–æ•°æ®åº“æ—¶çŒå–ç”¨æˆ·åå’Œç”¨æˆ·å£ä»¤ï¼Œç„¶åå‡å†’åˆæ³•ç”¨æˆ·å·å–ã€ä¿®æ”¹ç”šè‡³ç ´åç”¨æˆ·æ•°æ®ã€‚ æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæä¾›çš„å®‰å…¨æªæ–½ä¸»è¦åŒ…æ‹¬ç”¨æˆ·èº«ä»½é‰´åˆ«ã€å­˜å–æ§åˆ¶å’Œè§†å›¾ç­‰æŠ€æœ¯ã€‚ æ•°æ®åº“ä¸­é‡è¦æˆ–æ•æ„Ÿçš„æ•°æ®è¢«æ³„éœ² é»‘å®¢å’Œæ•Œå¯¹åˆ†å­åƒæ–¹ç™¾è®¡ç›—çªƒæ•°æ®åº“ä¸­çš„é‡è¦æ•°æ®ï¼Œäº›æœºå¯†ä¿¡æ¯è¢«æš´éœ² æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæä¾›çš„ä¸»è¦æŠ€æœ¯æœ‰å¼ºåˆ¶å­˜å–æ§åˆ¶ã€æ•°æ®åŠ å¯†å­˜å‚¨å’ŒåŠ å¯†ä¼ è¾“ç­‰ã€‚ å®¡è®¡æ—¥å¿—åˆ†æ å®‰å…¨ç¯å¢ƒçš„è„†å¼±æ€§ å®‰å…¨æ€§æ§åˆ¶ ç”¨æˆ·èº«ä»½é‰´åˆ« é™æ€å£ä»¤ åŠ¨æ€å£ä»¤ æ™ºèƒ½å¡é‰´åˆ« ç”Ÿç‰©ç‰¹å¾é‰´åˆ« å­˜å–æ§åˆ¶ æœºåˆ¶ç»„æˆ å®šä¹‰ç”¨æˆ·æƒé™ åˆæ³•æƒé™æ£€æŸ¥ è‡ªä¸»å­˜å–æ§åˆ¶ï¼ˆDACï¼‰ï¼š ç”¨æˆ·å¯¹ä¸åŒçš„æ•°æ®å¯¹è±¡æœ‰ä¸åŒçš„å­˜å–æƒé™ ä¸åŒçš„ç”¨æˆ·å¯¹åŒä¸€å¯¹è±¡ä¹Ÿæœ‰ä¸åŒçš„æƒé™ ç”¨æˆ·è¿˜å¯å°†å…¶æ‹¥æœ‰çš„å­˜å–æƒé™è½¬æˆç»™å…¶ä»–ç”¨æˆ· é€šè¿‡SQLçš„ GRANTè¯­å¥ï¼ˆæƒé™æˆäºˆï¼‰å’Œ REVOKEè¯­å¥ï¼ˆæƒé™å›æ”¶ï¼‰å®ç° 123456789101112131415161718GRANTè¯­å¥çš„ä¸€èˆ¬æ ¼å¼GRANT&lt;æƒé™&gt;[&lt;æƒé™&gt;]ON&lt;å¯¹è±¡ç±»å‹&gt;&lt;å¯¹è±¡å&gt;&lt;å¯¹è±¡ç±»å‹&gt;&lt;å¯¹è±¡åTo&lt;ç”¨æˆ·&gt;,ã€&lt;ç”¨æˆ·&gt;ã€‘ã€WITH GRANT OPTIONã€‘ï¼› /** æŒ‡å®šè¯¥è¯­å¥è¡¨ç¤ºå¯ä»¥å†è½¬æˆæƒé™*/GRANT ALL PRIVILEGESON TABLE Student CourseTO U2. U3REVOKEè¯­å¥çš„ä¸€èˆ¬æ ¼å¼ä¸ºï¼šREVOKE&lt;æƒé™&gt;[,&lt;æƒé™&gt;]ON&lt;å¯¹è±¡ç±»å‹&gt;&lt;å¯¹è±¡å&gt;ã€&lt;å¯¹è±¡ç±»å‹&gt;&lt;å¯¹è±¡å&gt;ã€‘FROM&lt;ç”¨æˆ·&gt;ã€&lt;ç”¨æˆ·&gt;ã€‘. [CASCADE| RESTRICT]ï¼› REVOKE UPDATEï¼ˆSnoï¼‰ON TABLE StudentFROM U4 æ•°æ®åº“è§’è‰²ï¼šè¢«å‘½åçš„ä¸€ç»„ä¸æ•°æ®åº“æ“ä½œç›¸å…³çš„æƒé™ è§’è‰²æ˜¯æƒé™çš„é›†åˆ å¯ä»¥ä¸ºä¸€ç»„å…·æœ‰ç›¸åŒæƒé™çš„ç”¨æˆ·åˆ›å»ºä¸€ä¸ªè§’è‰² ç®€åŒ–æˆæƒçš„è¿‡ç¨‹ ä½¿ç”¨è§’è‰²ç®¡ç†æ•°æ®åº“æƒé™ 1234567891011121314/** S1.è§’è‰²åˆ›å»º*/CREATE ROLE &lt;è§’è‰²å&gt;/** S2.å¯¹è§’è‰²æˆæƒ*/GRANT&lt;æƒé™&gt;[&lt;æƒé™&gt;]ON&lt;å¯¹è±¡ç±»å‹&gt;å¯¹è±¡åTo&lt;è§’è‰²&gt;ã€&lt;è§’è‰²&gt;ã€‘/** å°†ä¸€ä¸ªè§’è‰²æˆäºˆå…¶ä»–çš„è§’è‰²æˆ–ç”¨æˆ·*/GRANT&lt;è§’è‰²1&gt;[&lt;è§’è‰²2&gt;]To&lt;è§’è‰²3&gt;ã€&lt;ç”¨æˆ·1&gt;]&lt;WITH ADMIN OPTION]/** è§’è‰²æƒé™çš„æ”¶å›*/REVOKE&lt;æƒé™&gt;&lt;æƒé™ä¹ ONâ‰¤å¯¹è±¡ç±»å‹&gt;&lt;å¯¹è±¡åFROM&lt;è§’è‰²&lt;è§’è‰²&gt; å­˜åœ¨çš„ç¼ºç‚¹ï¼šå¯èƒ½å­˜åœ¨æ•°æ®çš„æ— æ„æ³„éœ²ï¼šè‡ªä¸»å­˜å–æ§åˆ¶ä»…ä»…é€šè¿‡å¯¹æ•°æ®çš„å­˜å–æƒé™æ¥è¿›è¡Œå®‰å…¨æ§åˆ¶ï¼Œè€Œæ•°æ®æœ¬èº«å¹¶æ— å®‰å…¨æ€§æ ‡è®° å¼ºåˆ¶å­˜å–æ§åˆ¶ï¼ˆMACï¼‰ï¼š ä¿è¯æ›´é«˜ç¨‹åº¦çš„å®‰å…¨æ€§ ç”¨æˆ·ä¸èƒ½ç›´æ¥æ„ŸçŸ¥æˆ–è¿›è¡Œæ§åˆ¶ é€‚ç”¨äºå¯¹æ•°æ®æœ‰ä¸¥æ ¼è€Œå›ºå®šå¯†çº§åˆ†ç±»çš„éƒ¨é—¨ å†›äº‹éƒ¨é—¨ æ”¿åºœéƒ¨é—¨ åœ¨å¼ºåˆ¶å­˜å–æ§åˆ¶ä¸­ï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰€ç®¡ç†çš„å…¨éƒ¨å®ä½“è¢«åˆ†ä¸ºä¸»ä½“å’Œå®¢ä½“ä¸¤å¤§ç±» ä¸»ä½“æ˜¯ç³»ç»Ÿä¸­çš„æ´»åŠ¨å®ä½“ â– æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰€ç®¡ç†çš„å®é™…ç”¨æˆ· â– ä»£è¡¨ç”¨æˆ·çš„å„è¿›ç¨‹ å®¢ä½“æ˜¯ç³»ç»Ÿä¸­çš„è¢«åŠ¨å®ä½“ï¼Œå—ä¸»ä½“æ“çºµ â– æ–‡ä»¶ã€åŸºæœ¬è¡¨ã€ç´¢å¼•ã€è§†å›¾ æ•æ„Ÿåº¦æ ‡è®°ï¼ˆ Labelï¼‰ â– å¯¹äºä¸»ä½“å’Œå®¢ä½“ï¼ŒDBMSä¸ºå®ƒä»¬æ¯ä¸ªå®ä¾‹ï¼ˆå€¼ï¼‰æŒ‡æ´¾ä¸€ä¸ªæ•æ„Ÿåº¦æ ‡è®°ï¼ˆLabeï¼‰ â– æ•æ„Ÿåº¦æ ‡è®°åˆ†æˆè‹¥å¹²çº§åˆ« â—ç»å¯†ï¼ˆ Top Secret,Tsï¼‰ â—æœºå¯†ï¼ˆ Secret,Sï¼‰ â—å¯ä¿¡ï¼ˆ Confidential,Cï¼‰ â—å…¬å¼€ï¼ˆ Public,Pï¼‰ â—Ts&gt;=S&gt;=C&gt;=P æ•°æ®åº“å®‰å…¨æ€§æœºåˆ¶â€”â€”è§†å›¾æœºåˆ¶ æˆäºˆç”¨æˆ·æŸ¥è¯¢æŸäº›è¡Œçš„æƒé™ï¼Ÿ éœ€è¦ç”¨å­˜å–è°“è¯æ¥å®šä¹‰ç”¨æˆ·æƒé™ æ— æ³•ç›´æ¥ç”¨ GRANTè¯­å¥å®ç° å¯ä»¥ç”¨è§†å›¾æœºåˆ¶é—´æ¥åœ°å®ç° 123456789/** æˆäºˆç”¨æˆ·æŸ¥è¯¢æ•´ä¸ªè¡¨çš„æƒé™ */GRANT SELECTON TABLE StudentTO U1/** æˆäºˆç”¨æˆ·æŸ¥è¯¢æŸäº›åˆ—çš„æƒé™ */GRANT SELECTï¼ˆSno, Snameï¼‰ON TABLE StudentTO U2 ä½¿ç”¨è§†å›¾ 12345678910111213141516/** Step1. ä»åŸºæœ¬è¡¨ä¸Šå¯¼å‡ºæ•°æ®å»ºç«‹è§†å›¾ */å…ˆå»ºç«‹è®¡ç®—æœºç³»å­¦ç”Ÿçš„è§†å›¾ Cs StudentCREATE VIEW CS_StudentASSELECTFROM StudentWHERE Sdept='CS'GRANT SELECT ON CS_STUDENT TO U1/** Step2. åœ¨è§†å›¾ä¸Šè¿›ä¸€æ­¥å®šä¹‰å­˜å–æƒé™ */GRANT SELECToN CS_StudentTo ç‹å¹³GRANT ALL PRIVILIGES oN CS StudentToå¼ æ˜ï¼› å®¡è®¡ ç”¨ä¸€ä¸ªä¸“ç”¨çš„å®¡è®¡æ—¥å¿—ï¼ˆ Audit Logï¼‰ å°†ç”¨æˆ·å¯¹æ•°æ®åº“çš„æ‰€æœ‰æ“ä½œè®°å½•åœ¨ä¸Šé¢ å®¡è®¡å‘˜åˆ©ç”¨å®¡è®¡æ—¥å¿— ç›‘æ§æ•°æ®åº“ä¸­çš„å„ç§è¡Œä¸º å‘ç°éæ³•å­˜å–ï¼Œå‘ç°æ½œåœ¨å¨èƒ C2ä»¥ä¸Šå®‰å…¨çº§åˆ«çš„DBMSå¿…é¡»å…·æœ‰å®¡è®¡åŠŸèƒ½ å¯ä»¥è¢«å®¡è®¡çš„äº‹ä»¶ï¼š æœåŠ¡å™¨äº‹ä»¶ ç³»ç»Ÿæƒé™ å¯¹ç³»ç»Ÿæ‹¥æœ‰çš„ç»“æ„æˆ–æ¨¡å¼å¯¹è±¡è¿›è¡Œæ“ä½œçš„å®¡è®¡ è¦æ±‚è¯¥æ“ä½œçš„æƒé™æ˜¯é€šè¿‡ç³»ç»Ÿæƒé™è·å¾—çš„ è¯­å¥äº‹ä»¶ â—å¯¹SQLè¯­å¥ï¼Œå¦‚DDLã€DMLã€DQLåŠDCLè¯­å¥çš„å®¡è®¡ æ¨¡å¼å¯¹è±¡äº‹ä»¶ â—å¯¹ç‰¹å®šæ¨¡å¼å¯¹è±¡ä¸Šè¿›è¡Œçš„ SELECTæˆ–DMLæ“ä½œçš„å®¡è®¡ å®¡è®¡åŠŸèƒ½çš„å¯é€‰æ€§ â– å®¡è®¡å¾ˆè´¹æ—¶é—´å’Œç©ºé—´ â– DBAå¯ä»¥æ ¹æ®åº”ç”¨å¯¹å®‰å…¨æ€§çš„è¦æ±‚ï¼Œçµæ´»åœ°æ‰“å¼€æˆ–å…³ é—­å®¡è®¡åŠŸèƒ½ â– å®¡è®¡åŠŸèƒ½ä¸»è¦ç”¨äºå®‰å…¨æ€§è¦æ±‚è¾ƒé«˜çš„éƒ¨é—¨ demo 123456// å¯¹ä¿®æ”¹SCè¡¨ç»“æ„æˆ–ä¿®æ”¹SCè¡¨æ•°æ®çš„æ“ä½œè¿›è¡Œå®¡è®¡AUDIT ALTER, UPDATEON SC// å–æ¶ˆå¯¹SCè¡¨çš„ä¸€åˆ‡å®¡è®¡NOAUDIT ALTER, UPDATEON SCï¼š æ•°æ®åŠ å¯† åŠ å¯†æ–¹æ³• å­˜å‚¨åŠ å¯† é€æ˜å­˜å‚¨åŠ å¯†ï¼š å†…æ ¸çº§åŠ å¯†ä¿æŠ¤æ–¹å¼ï¼ˆæ€§èƒ½å¥½ï¼Œå®‰å…¨å®Œå¤‡æ€§é«˜ï¼‰ï¼Œå¯¹ç”¨æˆ·å®Œå…¨é€æ˜ éé€æ˜å­˜å‚¨åŠ å¯†ï¼šé€šè¿‡å¤šä¸ªåŠ å¯†å‡½æ•°å®ç° ä¼ è¾“åŠ å¯† é“¾è·¯åŠ å¯†ï¼šæŠ¥æ–‡ã€æŠ¥å¤´éƒ½åŠ å¯† ç«¯åˆ°ç«¯åŠ å¯†ï¼šåªåŠ å¯†æŠ¥æ–‡ å…¶ä»–å®‰å…¨æ€§ä¿æŠ¤ æ¨ç†æ§åˆ¶ã€ éšè”½ä¿¡é“ æ•°æ®å®šä¹‰ å®šä¹‰æ•°æ®åº“çš„å„ç§â€œå¯¹è±¡â€ æ¨¡å¼å®šä¹‰ å®šä¹‰æ¨¡å¼å®é™…ä¸Šå®šä¹‰äº†ä¸€ä¸ªå‘½åç©ºé—´ï¼ˆæˆ–è€…è¯´ç›®å½•ï¼‰ åœ¨è¿™ä¸ªç©ºé—´ä¸­å¯ä»¥å®šä¹‰è¯¥æ¨¡å¼åŒ…å«çš„æ•°æ®åº“å¯¹è±¡ï¼Œä¾‹å¦‚åŸºæœ¬è¡¨ã€è§†å›¾ã€ç´¢å¼•ç­‰ã€‚ åœ¨ CREATE SCHEMAä¸­å¯ä»¥æ¥å— CREATE TABLEï¼ŒCREATE VIEWå’Œ GRANTå­å¥ã€‚ åˆ›å»ºï¼šCREATE SCHEMA&lt;æ¨¡å¼å&gt; AUTHORIZATION&lt;ç”¨æˆ·å&gt;ã€&lt;è¡¨å®šä¹‰å­å¥&gt;|&lt;è§†å›¾å®šä¹‰å­å¥&gt;|&lt;æˆæƒå®šä¹‰å­å¥&gt; åˆ é™¤ï¼šDROP SCHEMA&lt;æ¨¡å¼å&gt;&lt; CASCADE | RESTRICT&gt; â–  CASCADEï¼ˆçº§è”ï¼‰ åˆ é™¤æ¨¡å¼çš„åŒæ—¶æŠŠè¯¥æ¨¡å¼ä¸­æ‰€æœ‰çš„æ•°æ®åº“å¯¹è±¡å…¨éƒ¨åˆ é™¤ â–  RESTRICTï¼ˆé™åˆ¶ï¼‰ å¦‚æœè¯¥æ¨¡å¼ä¸­å®šä¹‰äº†ä¸‹å±çš„æ•°æ®åº“å¯¹è±¡ï¼ˆå¦‚è¡¨ã€è§†å›¾ç­‰ï¼‰ï¼Œåˆ™æ‹’ç»è¯¥åˆ é™¤è¯­å¥çš„æ‰§è¡Œã€‚ ä»…å½“è¯¥æ¨¡å¼ä¸­æ²¡æœ‰ä»»ä½•ä¸‹å±çš„å¯¹è±¡æ—¶æ‰èƒ½æ‰§è¡Œã€‚ è¡¨å®šä¹‰ 12345CREATE TABLE&lt;è¡¨å&gt; /*åŸºæœ¬è¡¨çš„åç§°*/(&lt;åˆ—å&gt;&lt;æ•°æ®ç±»å‹&gt;ã€&lt;åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt;ã€‘/*ç»„æˆè¯¥è¡¨çš„åˆ—*/ã€ï¼Œ&lt;åˆ—å&gt;&lt;æ•°æ®ç±»å‹ã€&lt;åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶ã€‘ã€‘...ã€ï¼Œ&lt;è¡¨çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt;ã€‘) &lt;åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt;ï¼šæ¶‰åŠç›¸åº”å±æ€§åˆ—çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ &lt;è¡¨çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt;ï¼šæ¶‰åŠä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§åˆ—çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ å¦‚æœå®Œæ•´æ€§çº¦æŸæ¡ä»¶æ¶‰åŠåˆ°è¯¥è¡¨çš„å¤šä¸ªå±æ€§åˆ—ï¼Œåˆ™å¿…é¡»å®šä¹‰åœ¨è¡¨çº§ä¸Šã€‚ è§†å›¾å®šä¹‰ ç´¢å¼•å®šä¹‰ å»ºç«‹ç´¢å¼•çš„ç›®çš„ï¼šåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­å¸¸è§ç´¢å¼• é¡ºåºæ–‡ä»¶ä¸Šçš„ç´¢å¼• B+æ ‘ç´¢å¼•ï¼ˆå‚è§çˆ±è¯¾ç¨‹ç½‘3.2èŠ‚åŠ¨ç”»ã€ŠB+æ ‘çš„å¢åˆ æ”¹ã€‹ï¼‰ æ•£åˆ—ï¼ˆhashï¼‰ç´¢å¼• ä½å›¾ç´¢å¼• ç‰¹ç‚¹ B+æ ‘ç´¢å¼•å…·æœ‰åŠ¨æ€å¹³è¡¡çš„ä¼˜ç‚¹ HASHç´¢å¼•å…·æœ‰æŸ¥æ‰¾é€Ÿåº¦å¿«çš„ç‰¹ç‚¹ å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç´¢å¼•ä½œä¸ºå­˜å–è·¯å¾„ï¼Œç”¨æˆ·ä¸å¿…ä¹Ÿä¸èƒ½æ˜¾å¼åœ°é€‰æ‹©ç´¢å¼• CREATE[UNIQUE] |[CLUSTER] INDEX &lt;ç´¢å¼•å&gt; ON &lt;è¡¨å&gt;ï¼ˆ&lt;åˆ—å&gt;ã€&lt;æ¬¡åº&gt;ã€‘ã€åˆ—å&gt;ã€&lt;æ¬¡åºã€‘ã€‘ï¼‰ &lt;è¡¨å&gt;ï¼šè¦å»ºç´¢å¼•çš„åŸºæœ¬è¡¨çš„åå­— ç´¢å¼•ï¼šå¯ä»¥å»ºç«‹åœ¨è¯¥è¡¨çš„ä¸€åˆ—æˆ–å¤šåˆ—ä¸Šï¼Œå„åˆ—åä¹‹é—´ç”¨é€—å·åˆ†éš” æ¬¡åº&gt;ï¼šæŒ‡å®šç´¢å¼•å€¼çš„æ’åˆ—æ¬¡åºï¼Œå‡åºï¼šASCï¼Œé™åºï¼šDESCã€‚ç¼ºçœå€¼ï¼šAsC UNIQUEï¼šæ­¤ç´¢å¼•çš„æ¯ä¸€ä¸ªç´¢å¼•å€¼åªå¯¹åº”å”¯ä¸€çš„æ•°æ®è®°å½• CLUSTERï¼šè¡¨ç¤ºè¦å»ºç«‹çš„ç´¢å¼•æ˜¯èšç°‡ç´¢å¼• ALTER INDEX&lt;æ—§ç´¢å¼•å&gt; RENAME TO&lt;æ–°ç´¢å¼•å&gt; æ•°æ®å­—å…¸ æ•°æ®å­—å…¸æ˜¯å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå†…éƒ¨çš„ä¸€ç»„ç³»ç»Ÿè¡¨ï¼Œå®ƒè®°å½•äº†æ•°æ®åº“ä¸­æ‰€æœ‰å¯¹è±¡çš„å®šä¹‰ä¿¡æ¯ä»¥åŠä¸€äº›ç»Ÿè®¡ä¿¡æ¯ å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿåœ¨æ‰§è¡ŒSQLçš„æ•°æ®å®šä¹‰è¯­å¥æ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨æ›´æ–°æ•°æ®å­—å…¸è¡¨ä¸­çš„ç›¸åº”ä¿¡æ¯ã€‚ æ•°æ®åº“çš„å®Œæ•´æ€§ å®ä½“å®Œæ•´æ€§ å‚ç…§å®Œæ•´æ€§ ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§ å®Œæ•´æ€§çº¦æŸå‘½åå­—å¥ CONSTRAINT&lt;å®Œæ•´æ€§çº¦æŸæ¡ä»¶å&gt;&lt;å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt; &lt;å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt;åŒ…æ‹¬ NOT NULLã€ UNIQUEã€PRIMARY KEYçŸ­è¯­ã€ FOREIGN KEYçŸ­è¯­ã€ CHECKçŸ­è¯­ç­‰ åˆ é™¤ï¼šALTER TABLE Student DROP CONSTRAINT C1 å¢åŠ :ALTER TABLE Student ADD CONSTRAINT C1 CHECKï¼ˆSno BETWEEN 900000 AND 999999 åŸŸä¸­çš„å®Œæ•´æ€§é™åˆ¶ æ–­è¨€ sQLä¸­ï¼Œå¯ä»¥ä½¿ç”¨ CREATE ASSERTIONè¯­å¥ï¼Œé€šè¿‡å£°æ˜æ€§æ–­è¨€æ¥æŒ‡å®šæ›´å…·ä¸€èˆ¬æ€§çš„çº¦æŸã€‚ å¯ä»¥å®šä¹‰æ¶‰åŠå¤šä¸ªè¡¨çš„æˆ–èšé›†æ“ä½œçš„æ¯”è¾ƒå¤æ‚çš„å®Œæ•´æ€§çº¦æŸã€‚ æ–­è¨€åˆ›å»ºä»¥åï¼Œä»»ä½•å¯¹æ–­è¨€ä¸­æ‰€æ¶‰åŠçš„å…³ç³»çš„æ“ä½œéƒ½ä¼šè§¦å‘å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå¯¹æ–­è¨€çš„æ£€æŸ¥ï¼Œä»»ä½•ä½¿æ–­è¨€ä¸ä¸ºçœŸå€¼çš„æ“ä½œéƒ½ä¼šè¢«æ‹’ç»æ‰§è¡Œ CREATE ASSERTION&lt;æ–­è¨€å&gt;&lt; CHECKå­å¥&gt; è§¦å‘å™¨ æ˜¯ç”¨æˆ·å®šä¹‰åœ¨å…³ç³»è¡¨ä¸Šçš„ä¸€ç±»ç”±äº‹ä»¶é©±åŠ¨çš„ç‰¹æ®Šè¿‡ç¨‹ ä»»ä½•ç”¨æˆ·å¯¹è¡¨çš„å¢ã€åˆ ã€æ”¹æ“ä½œå‡ç”±æœåŠ¡å™¨è‡ªåŠ¨æ¿€æ´»ç›¸åº”çš„è§¦å‘å™¨ è§¦å‘å™¨å¯ä»¥å®æ–½æ›´ä¸ºå¤æ‚çš„æ£€æŸ¥å’Œæ“ä½œï¼Œå…·æœ‰æ›´ç²¾ç»†å’Œæ›´å¼ºå¤§çš„æ•°æ®æ§åˆ¶èƒ½åŠ› å®šä¹‰ï¼š å½“ç‰¹å®šçš„ç³»ç»Ÿäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå¯¹è§„åˆ™çš„æ¡ä»¶è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœæ¡ä»¶æˆç«‹åˆ™æ‰§è¡Œè§„åˆ™ä¸­çš„åŠ¨ä½œï¼Œå¦åˆ™ä¸æ‰§è¡Œè¯¥åŠ¨ä½œã€‚è§„åˆ™ä¸­çš„åŠ¨ä½œä½“å¯ä»¥å¾ˆå¤æ‚ï¼Œé€šå¸¸æ˜¯ä¸€æ®µSQLå­˜å‚¨è¿‡ç¨‹ã€‚ è§¦å‘å™¨åˆå«åšäº‹ä»¶-æ¡ä»¶-åŠ¨ä½œï¼ˆ event-condition-actionï¼‰è§„åˆ™ 1234CREATE TRIGGER&lt;è§¦å‘å™¨å&gt; &#123;BEFORE| AFTER&#125; &lt;è§¦å‘äº‹ä»¶&gt;ON&lt;è¡¨å&gt;REFERENCING NEW|OLD ROW AS&lt;å˜é‡&gt;FOR EACH &#123;ROW | STATEMENT&#125; /** è§¦å‘å™¨ç±»å‹ï¼šè¡Œçº§ã€è¯­å¥çº§ */[WHEN&lt;è§¦å‘æ¡ä»¶&gt;] &lt;è§¦å‘åŠ¨ä½œä½“&gt; åªæœ‰è¡¨çš„æ‹¥æœ‰è€…æ‰èƒ½åœ¨è¡¨ä¸Šåˆ›å»ºè§¦å‘å™¨ è§¦å‘äº‹ä»¶ï¼šINSERTã€UPDATEã€DELETEï¼› æˆ–è€…ä»¥ä¸Šæ“ä½œçš„ç»„åˆï¼› UPDATE OF&lt;è§¦å‘åˆ—&gt; è§¦å‘å™¨ç±»å‹ è¡Œçº§è§¦å‘å™¨ï¼ˆ FOR EACH ROWï¼‰ è¯­å¥çº§è§¦å‘å™¨ï¼ˆ FOR EACH STATEMENTï¼‰ ä¾‹å­ï¼šUPDATE TEACHER SET Deptno=5ï¼Œå‡è®¾è¡¨ TEACHERæœ‰1000è¡Œã€‚å¦‚æœæ˜¯è¯­å¥çº§è§¦å‘å™¨ï¼Œé‚£ä¹ˆæ‰§è¡Œå®Œè¯¥è¯­å¥åï¼Œè§¦å‘åŠ¨ä½œåªå‘ç”Ÿä¸€æ¬¡ï¼›å¦‚æœæ˜¯è¡Œçº§è§¦å‘å™¨ï¼Œè§¦å‘åŠ¨ä½œå°†æ‰§è¡Œ1000æ¬¡ è§¦å‘æ¡ä»¶ï¼š è§¦å‘å™¨è¢«æ¿€æ´»æ—¶ï¼Œåªæœ‰å½“è§¦å‘æ¡ä»¶ä¸ºçœŸæ—¶è§¦å‘åŠ¨ä½œä½“æ‰æ‰§è¡Œï¼›å¦åˆ™è§¦å‘åŠ¨ä½œä½“ä¸æ‰§è¡Œã€‚ å¦‚æœçœç•¥WHENè§¦å‘æ¡ä»¶ï¼Œåˆ™è§¦å‘åŠ¨ä½œä½“åœ¨è§¦å‘å™¨æ¿€æ´»åç«‹å³æ— æ¡ä»¶æ‰§è¡Œã€‘ã€ è§¦å‘åŠ¨ä½œä½“ï¼š è§¦å‘åŠ¨ä½œä½“å¯ä»¥æ˜¯ä¸€ä¸ªåŒ¿å PL/SQLè¿‡ç¨‹å—ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹å·²åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„è°ƒç”¨ å¦‚æœæ˜¯è¡Œçº§è§¦å‘å™¨ï¼Œç”¨æˆ·éƒ½å¯ä»¥åœ¨è¿‡ç¨‹ä½“ä¸­ä½¿ç”¨NEWå’ŒOLDå¼•ç”¨äº‹ä»¶ä¹‹åçš„æ–°å€¼å’Œäº‹ä»¶ä¹‹å‰çš„æ—§å€¼å¦‚æœæ˜¯è¯­å¥çº§è§¦å‘å™¨ï¼Œåˆ™ä¸èƒ½åœ¨è§¦å‘åŠ¨ä½œä½“ä¸­ä½¿ç”¨NEWæˆ–OLDè¿›è¡Œå¼•ç”¨ å¦‚æœè§¦å‘åŠ¨ä½œä½“æ‰§è¡Œå¤±è´¥ï¼Œæ¿€æ´»è§¦å‘å™¨çš„äº‹ä»¶å°±ä¼šç»ˆæ­¢æ‰§è¡Œï¼Œè§¦å‘å™¨çš„ç›®æ ‡è¡¨æˆ–è§¦å‘å™¨å¯èƒ½å½±å“çš„å…¶ä»–å¯¹è±¡ä¸å‘ç”Ÿä»»ä½•å˜åŒ– Demo Code: 1234567891011121314151617/** å½“å¯¹è¡¨Scçš„ Gradeå±æ€§è¿›è¡Œä¿®æ”¹æ—¶ï¼Œè‹¥åˆ†æ•°å¢åŠ äº†10%åˆ™å°†æ­¤æ¬¡æ“ä½œè®°å½•åˆ°ä¸‹é¢è¡¨ä¸­ï¼š*/CREATE TRIGGER SC TAFTER UPDATE OF Grade ON SCREFERENCING OLD row As OldTuple NEW row As NewTupleFOR EACH ROW WHENï¼ˆNewTuple Grade &gt;=1.1*Old Tuple Grade)INSERT INTo Sc_Uï¼ˆSno, Cno, OldGrade, NewGradeï¼‰ VALUESï¼ˆOIdTuple.Sno, OldTuple.Cno, oldTuple.Grade, NewTuple.Grade)/**ã€ä¾‹522ã€‘å°†æ¯æ¬¡å¯¹è¡¨ Studentçš„æ’å…¥æ“ä½œæ‰€å¢åŠ çš„å­¦ç”Ÿä¸ªæ•°è®°å½•åˆ°è¡¨ StudentInsertLogä¸­ã€‚*/CREATE TRIGGER Student Count AETER INSERT ON StudentREFERENCING NEW TABLE AS DELTA FOR EACH STATEMENTINSERT INTO StudentinsertLogï¼ˆNumbersï¼‰ SELECT COUNT(*) FROM DELTA æ•°æ®æŸ¥è¯¢è¯­å¥ è¿æ¥ è‡ªç„¶è¿æ¥çš„ç»“æœï¼šæ˜¯é‡‡ç”¨SELECTå»æ‰é‡å¤å­—æ®µçš„æ–¹å¼å®æ–½çš„ åµŒå¥—å¾ªç¯æ³•ï¼š æ’åºåˆå¹¶æ³•ï¼š ç´¢å¼•è¿æ¥ï¼ˆåµŒå¥—å¾ªç¯çš„ä¸€ä¸ªå˜ç§ï¼‰ å¤–è¿æ¥ä¸æ™®é€šè¿æ¥çš„åŒºåˆ« æ™®é€šè¿æ¥æ“ä½œåªè¾“å‡ºæ»¡è¶³è¿æ¥æ¡ä»¶çš„å…ƒç»„ å¤–è¿æ¥æ“ä½œä»¥æŒ‡å®šè¡¨ä¸ºè¿æ¥ä¸»ä½“ï¼Œå°†ä¸»ä½“è¡¨ä¸­ä¸æ»¡è¶³è¿æ¥æ¡ä»¶çš„å…ƒç»„ä¸€å¹¶è¾“å‡º å·¦å¤–è¿æ¥ â—åˆ—å‡ºå·¦è¾¹å…³ç³»ä¸­æ‰€æœ‰çš„å…ƒç»„ å³å¤–è¿æ¥ â—åˆ—å‡ºå³è¾¹å…³ç³»ä¸­æ‰€æœ‰çš„å…ƒç»„ åµŒå¥—æŸ¥è¯¢ ä¸€ä¸ª SELECT-FROM-WHEREè¯­å¥ç§°ä¸ºä¸€ä¸ªæŸ¥è¯¢å— å°†ä¸€ä¸ªæŸ¥è¯¢å—åµŒå¥—åœ¨å¦ä¸€ä¸ªæŸ¥è¯¢å—çš„ WHEREå­å¥æˆ– HAVINGçŸ­è¯­çš„æ¡ä»¶ä¸­çš„æŸ¥è¯¢ç§°ä¸ºåµŒå¥—æŸ¥è¯¢ å­æŸ¥è¯¢çš„é™åˆ¶ â—ä¸èƒ½ä½¿ç”¨ ORDER BYå­å¥ åµŒå¥—æŸ¥è¯¢æ±‚è§£æ–¹æ³•ï¼š ä¸ç›¸å…³å­æŸ¥è¯¢ï¼šå­æŸ¥è¯¢çš„æŸ¥è¯¢æ¡ä»¶ä¸ä¾èµ–äºçˆ¶æŸ¥è¯¢ ç”±é‡Œå‘å¤–é€å±‚å¤„ç†ã€‚å³æ¯ä¸ªå­æŸ¥è¯¢åœ¨ä¸Šä¸€çº§æŸ¥è¯¢å¤„ç†ä¹‹å‰æ±‚è§£ï¼Œå­æŸ¥è¯¢çš„ç»“æœç”¨äºå»ºç«‹å…¶çˆ¶æŸ¥è¯¢çš„æŸ¥æ‰¾æ¡ä»¶ ç›¸å…³å­æŸ¥è¯¢ï¼šå­æŸ¥è¯¢çš„æŸ¥è¯¢æ¡ä»¶ä¾èµ–äºçˆ¶æŸ¥è¯¢ ï¼ˆåµŒå¥—å¾ªç¯ä¾æ¬¡ä»å¤–è§£å†³ï¼‰ï¼šdemoè®²è§£ é¦–å…ˆå–å¤–å±‚æŸ¥è¯¢ä¸­è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç»„ï¼Œæ ¹æ®å®ƒä¸å†…å±‚æŸ¥è¯¢ç›¸å…³çš„å±æ€§å€¼å¤„ç†å†…å±‚æŸ»è¯¢ï¼Œè‹¥ WHEREå­å¥è¿”å›å€¼ä¸ºçœŸï¼Œåˆ™å–æ­¤å…ƒç»„æ”¾å…¥ç»“æœè¡¨ ç„¶åå†å–å¤–å±‚è¡¨çš„ä¸‹ä¸€ä¸ªå…ƒç»„ é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´è‡³å¤–å±‚è¡¨å…¨éƒ¨æ£€æŸ¥å®Œä¸ºæ­¢ å¸¦æœ‰Nè°“è¯çš„å­æŸ¥è¯¢ å¸¦æœ‰æ¯”è¾ƒè¿ç®—ç¬¦çš„å­æŸ¥è¯¢ å¸¦æœ‰ANYæˆ–ALLè°“è¯çš„å­æŸ¥è¯¢ å¸¦æœ‰ EXISTSè°“è¯çš„å­æŸ¥è¯¢ æ•°æ®æ›´æ–°è¯­å¥ æ’å…¥ : INSERT INTO &lt;Table_name&gt;[&lt;å±æ€§å&gt;, &lt;å±æ€§å&gt;â€¦] VALUES(&lt;å¸¸é‡1&gt;, â€¦) æŒ‡å®šè¦æ’å…¥æ•°æ®çš„è¡¨ååŠå±æ€§åˆ— å±æ€§åˆ—çš„é¡ºåºå¯ä¸è¡¨å®šä¹‰ä¸­çš„é¡ºåºä¸ä¸€è‡´ æ²¡æœ‰æŒ‡å®šå±æ€§åˆ—ï¼šè¡¨ç¤ºè¦æ’å…¥çš„æ˜¯ä¸€æ¡å®Œæ•´çš„å…ƒç»„ï¼Œä¸”å±æ€§åˆ—å±æ€§ä¸è¡¨å®šä¹‰ä¸­çš„é¡ºåºä¸€è‡´ åªæŒ‡å®šéƒ¨åˆ†å±æ€§åˆ—ï¼šæ’å…¥çš„å…ƒç»„åœ¨å…¶ä½™å±æ€§åˆ—ä¸Šå–ç©ºå€¼ æ›´æ–°ï¼šUPDATE&lt;è¡¨å&gt;SET&lt;åˆ—å&gt;=&lt;è¡¨è¾¾å¼&gt;ã€&lt;åˆ—å&gt;=&lt;è¡¨è¾¾å¼&gt;ã€‘ ã€WHERE&lt;æ¡ä»¶ä¹ ã€‘ï¼› â– ä¿®æ”¹æŒ‡å®šè¡¨ä¸­æ»¡è¶³ WHEREå­å¥æ¡ä»¶çš„å…ƒç»„ â– SETå­å¥ç»™å‡º&lt;è¡¨è¾¾å¼&gt;çš„å€¼ç”¨äºå–ä»£ç›¸åº”çš„å±æ€§åˆ— â– å¦‚æœçœç•¥ WHEREå­å¥ï¼Œè¡¨ç¤ºè¦ä¿®æ”¹è¡¨ä¸­çš„æ‰€æœ‰å…ƒç»„ å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿåœ¨æ‰§è¡Œä¿®æ”¹è¯­å¥æ—¶ä¼šæ£€æŸ¥ä¿®æ”¹æ“ä½œæ˜¯å¦ç ´åè¡¨ä¸Šå·²å®šä¹‰çš„å®Œæ•´æ€§è§„åˆ™ â– å®ä½“å®Œæ•´æ€§ â– ä¸»ç ä¸å…è®¸ä¿®æ”¹ â– ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§ NOT NULLçº¦æŸ UNIQUEçº¦æŸ å€¼åŸŸçº¦æŸ åˆ é™¤: DELETE FROM &lt;è¡¨å&gt; [WHERE&lt;æ¡ä»¶&gt;]ï¼› â– åˆ é™¤æŒ‡å®šè¡¨ä¸­æ»¡è¶³ WHEREå­å¥æ¡ä»¶çš„å…ƒç»„WHEREå­å¥ â– æŒ‡å®šè¦åˆ é™¤çš„å…ƒç»„ â– æ— è¯¥å­å¥å°†ä¼šåˆ é™¤è¡¨ä¸­çš„å…¨éƒ¨å…ƒç»„ é™„å½• HAVINGçŸ­è¯­ä¸ WHEREå­å¥çš„åŒºåˆ«ï¼š ä½œç”¨å¯¹è±¡ä¸åŒ WHEREå­å¥ä½œç”¨äºåŸºè¡¨æˆ–è§†å›¾ï¼Œä»ä¸­é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„å…ƒç»„ HAVINGçŸ­è¯­ä½œç”¨äºç»„ï¼Œä»ä¸­é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„ç»„ã€‚ã€ Q:æ€ä¹ˆç†è§£â€œè‡ªç„¶è¿æ¥â€ï¼Œå®ƒä¸ç­‰å€¼è¿æ¥æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ 1ã€è‡ªç„¶è¿æ¥ä¸€å®šæ˜¯ç­‰å€¼è¿æ¥ï¼Œä½†ç­‰å€¼è¿æ¥ä¸ä¸€å®šæ˜¯è‡ªç„¶è¿æ¥ã€‚ 2ã€ç­‰å€¼è¿æ¥è¦æ±‚ç›¸ç­‰çš„åˆ†é‡ï¼Œä¸ä¸€å®šæ˜¯å…¬å…±å±æ€§ï¼›è€Œè‡ªç„¶è¿æ¥è¦æ±‚ç›¸ç­‰çš„åˆ†é‡å¿…é¡»æ˜¯å…¬å…±å±æ€§ã€‚ 3ã€ç­‰å€¼è¿æ¥ä¸æŠŠé‡å¤çš„å±æ€§é™¤å»ï¼›è€Œè‡ªç„¶è¿æ¥è¦æŠŠé‡å¤çš„å±æ€§é™¤å»ã€‚ Q:åµŒå¥—æŸ¥è¯¢ç‘å’Œè½¬æ¢ä¸ºè¿æ¥æŸ¥è¯¢ï¼Ÿ ä¸ç›¸å…³å­æŸ¥è¯¢ï¼Œå†…æŸ¥è¯¢ä¸ä¾èµ–äºå¤–å±‚ã€‚æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆæ‰§è¡Œå†…æŸ¥è¯¢ï¼Œå†…æŸ¥è¯¢å¾—åˆ°ç»“æœä¸è¢«æ˜¾ç¤ºå‡ºæ¥ï¼Œè€Œæ˜¯ä¼ é€’ç»™å¤–å±‚æŸ¥è¯¢ä½œä¸ºå¤–å±‚æŸ¥è¯¢çš„æ¡ä»¶æ¥ä½¿ç”¨ï¼Œç„¶åæ‰§è¡Œå¤–å±‚æŸ¥è¯¢ï¼Œå¹¶æ˜¾ç¤ºæŸ¥è¯¢ç»“æœã€‚ è½¬ä¸ºè¿æ¥æŸ¥è¯¢å°±æ˜¯æŠŠå­æŸ¥è¯¢å†…è¡¨å’Œå¤–éƒ¨è¡¨è¿æ¥ã€‚ Q:ä¸¤ä¸ªæŸ¥è¯¢åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥è‡ªè¡ŒUNIONæ“ä½œï¼Ÿ UNION å†…éƒ¨çš„ SELECT è¯­å¥å¿…é¡»æ‹¥æœ‰ç›¸åŒæ•°é‡çš„åˆ—ã€‚åˆ—ä¹Ÿå¿…é¡»æ‹¥æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹ã€‚åŒæ—¶ï¼Œæ¯æ¡ SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒã€‚ è¯¥å‘½ä»¤è¿æ¥çš„ç»“æœé›†ä¸­æœ‰é‡å¤çš„å€¼ä¸ä¼šè¢«æ˜¾ç¤ºã€‚æƒ³å¿½ç•¥é‡å¤å€¼ï¼Œå¯ä»¥ä½¿ç”¨ union all Q:â€å…³ç³»Rä¸­èƒ½å”¯ä¸€æ ‡è¯†ä¸€ä¸ªå…ƒç»„çš„æ˜¯å®ƒçš„ A.ä¸»ç  B.å€™é€‰ç  D.å…¨ç  Qâ€:å®ä½“å®Œæ•´æ€§è§„åˆ™æ£€æŸ¥çš„å†…å®¹åŒ…æ‹¬ æ£€æŸ¥ä¸»ç çš„å„ä¸ªå±æ€§å€¼æ˜¯å¦ä¸ºç©ºï¼Œåªè¦æœ‰ä¸€ä¸ªä¸ºç©ºå°±æ‹’ç»æ’å…¥æˆ–ä¿®æ”¹ æ£€æŸ¥ä¸»ç å€¼æ˜¯å¦å”¯ä¸€ï¼Œå¦‚æœä¸å”¯ä¸€å°±æ‹’ç»æ’å…¥æˆ–ä¿®æ”¹ åœ¨å…³ç³»æ•°æ®åº“ä¸­ï¼Œæ¨¡å¼å¯¹åº”çš„æ˜¯___C___ã€‚ A.è§†å›¾å’Œæ‰€æœ‰åŸºæœ¬è¡¨ B.è§†å›¾å’Œéƒ¨åˆ†åŸºæœ¬è¡¨ C.åŸºæœ¬è¡¨ D.ç´¢å¼• 7 åœ¨æ•°æ® æ•°æ®åº“å¸¸è§çš„å››ç§æ•…éšœ (1) äº‹åŠ¡å†…éƒ¨çš„æ•…éšœï¼šäº‹åŠ¡å†…éƒ¨æ•…éšœå¯åˆ†ä¸ºé¢„æœŸçš„å’Œéé¢„æœŸçš„ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†çš„æ•…éšœéƒ½æ˜¯éé¢„æœŸçš„ã€‚é¢„æœŸçš„äº‹åŠ¡å†…éƒ¨æ•…éšœæ˜¯æŒ‡å¯ä»¥é€šè¿‡äº‹åŠ¡ç¨‹åºæœ¬èº«å‘ç°çš„äº‹åŠ¡å†…éƒ¨æ•…éšœ; éé¢„æœŸçš„äº‹åŠ¡å†…éƒ¨æ•…éšœæ˜¯ä¸èƒ½ç”±äº‹åŠ¡ç¨‹åºå¤„ç†çš„ï¼Œå¦‚è¿ç®—æº¢å‡ºæ•…éšœã€å¹¶å‘äº‹åŠ¡æ­»é”æ•…éšœã€è¿åäº†æŸäº›å®Œæ•´æ€§é™åˆ¶è€Œå¯¼è‡´çš„æ•…éšœç­‰ã€‚ (2) ç³»ç»Ÿæ•…éšœï¼šç³»ç»Ÿæ•…éšœä¹Ÿç§°ä¸ºè½¯æ•…éšœï¼Œæ˜¯æŒ‡æ•°æ®åº“åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºç¡¬ä»¶æ•…éšœã€æ•°æ®åº“è½¯ä»¶åŠæ“ä½œç³»ç»Ÿçš„æ¼æ´ã€çªç„¶åœç”µç¯æƒ…å†µï¼Œå¯¼è‡´ç³»ç»Ÿåœæ­¢è¿è½¬ï¼Œæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„äº‹åŠ¡ä»¥éæ­£å¸¸æ–¹å¼ç»ˆæ­¢ï¼Œéœ€è¦ç³»ç»Ÿé‡æ–°å¯åŠ¨çš„ä¸€ç±»æ•…éšœã€‚è¿™ç±»äº‹åŠ¡ä¸ç ´åæ•°æ®åº“ï¼Œä½†æ˜¯å½±å“æ­£åœ¨è¿è¡Œçš„æ‰€æœ‰äº‹åŠ¡ã€‚ (3) ä»‹è´¨æ•…éšœï¼šä»‹è´¨æ•…éšœä¹Ÿç§°ä¸ºç¡¬æ•…éšœï¼Œä¸»è¦æŒ‡æ•°æ®åº“åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºç£å¤´ç¢°æ’ã€ç£ç›˜æŸåã€å¼ºç£å¹²æ‰°ã€å¤©ç¾äººç¥¸ç­‰æƒ…å†µï¼Œä½¿å¾—æ•°æ®åº“ä¸­çš„æ•°æ®éƒ¨åˆ†æˆ–å…¨éƒ¨ä¸¢å¤±çš„ä¸€ç±»æ•…éšœã€‚ (4) è®¡ç®—æœºç—…æ¯’æ•…éšœï¼šè®¡ç®—æœºç—…æ¯’æ•…éšœæ˜¯ä¸€ç§æ¶æ„çš„è®¡ç®—æœºç¨‹åºï¼Œå®ƒå¯ä»¥åƒç—…æ¯’ä¸€æ ·ç¹æ®–å’Œä¼ æ’­ï¼Œåœ¨å¯¹è®¡ç®—æœºç³»ç»Ÿé€ æˆç ´åçš„åŒæ—¶ä¹Ÿå¯èƒ½å¯¹æ•°æ®åº“ç³»ç»Ÿé€ æˆç ´å(ç ´åæ–¹å¼ä»¥æ•°æ®åº“æ–‡ä»¶ä¸ºä¸») ã€‚ Q:è¦å®ç°è®°å½•çš„ç‰©ç†é¡ºåºä¸ç´¢å¼•é¡¹æ¬¡åºä¸€è‡´ï¼Œåº”é€‰æ‹©çš„ç´¢å¼•ç±»å‹æ˜¯ï¼ˆï¼‰ã€‚ A.HASH ç´¢å¼• B.èšç°‡ç´¢å¼• C.B+æ ‘ç´¢å¼• D.å•ä¸€ç´¢å¼• æ•°æ®åº“ç¼–ç é—®é¢˜ 1234567891011121ã€æŸ¥çœ‹ MySQL æ•°æ®åº“æœåŠ¡å™¨å’Œæ•°æ®åº“å­—ç¬¦é›† show variables like&apos;%char%&apos;;2ã€æŸ¥çœ‹ MySQL æ•°æ®åº“æœåŠ¡å™¨å’Œæ•°æ®åº“æ ¸å¯¹æ’åºæ–¹å¼ï¼ˆæ ¡å¯¹è§„åˆ™ï¼‰ SHOW VARIABLES LIKE &apos;COLLATION&apos;;3ã€æŸ¥çœ‹å½“å‰å®‰è£…çš„ MySQL æ‰€æ”¯æŒçš„å­—ç¬¦é›†ã€‚ show charset;4ã€æŸ¥çœ‹å½“å‰æ•°æ®åº“ç¼–ç ï¼š SHOW CREATE DATABASE db_name;5ã€æŸ¥çœ‹è¡¨ç¼–ç ï¼š SHOW CREATE TABLE tbl_name;6ã€æŸ¥çœ‹å­—æ®µç¼–ç ï¼š SHOW FULL COLUMNS FROM tbl_name; ä¿®æ”¹æ•°æ®åº“é»˜è®¤çš„å­—ç¬¦é›† é€šè¿‡å‘½ä»¤ 123456789set character_set_client=&quot;utf8&quot;; //å®¢æˆ·ç«¯å­—ç¬¦é›†set character_set_connection=&quot;utf8&quot;; //é“¾æ¥å­—ç¬¦é›†set character_set_database=&quot;utf8&quot;; //æ•°æ®åº“å­—ç¬¦é›†set character_set_results=&quot;utf8&quot;; //ç»“æœå­—ç¬¦é›†set character_set_server=&quot;utf8&quot;; //æœåŠ¡å™¨å­—ç¬¦é›†set character_set_system=&quot;utf8&quot;; //ç³»ç»Ÿå­—ç¬¦é›†set collation_connection=&quot;utf8&quot;; //é“¾æ¥æ ¡å¯¹set collation_database=&quot;utf8&quot;; //æ•°æ®åº“æ ¡å¯¹set collation_server=&quot;utf8&quot;; //æœåŠ¡å™¨æ ¡å¯¹ ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š LINUX ä¿®æ”¹vi/etc/my.cnf; WINDOWS my.ini ä¿®æ”¹æ•°æ®åº“çš„å­—ç¬¦é›† ` mysql&gt;use mydb`` `` mysql&gt;ALTER DATABASE mydb CHARACTER SET utf-8(utf8) COLLATE utf8_general_ci` 123456789101ã€‹mysql&gt; set names gbk;Query OK, 0 rows affected ( 0.00 sec)å®ƒç›¸å½“äºä¸‹é¢çš„ä¸‰å¥æŒ‡ä»¤ï¼šSET character_set_client = gbk;SET character_set_results = gbk;SET character_set_connection = gbk;å› æ­¤ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥è§£å†³æ‰€æœ‰å­—ç¬¦ç¼–ç è®¾ç½®ä¸ºgbkï¼Œè€Œæ§åˆ¶å°æ˜¾ç¤ºä¸­æ–‡ä¹±ç çš„é—®é¢˜ã€‚åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/qq_27231343/article/details/52334831 MySQLä¸­çš„å­—ç¬¦é›†è½¬æ¢è¿‡ç¨‹ 1. MySQL Serveræ”¶åˆ°è¯·æ±‚æ—¶å°†è¯·æ±‚æ•°æ®ä»character_set_clientè½¬æ¢ä¸ºcharacter_set_connection; 2. è¿›è¡Œå†…éƒ¨æ“ä½œå‰å°†è¯·æ±‚æ•°æ®ä»character_set_connectionè½¬æ¢ä¸ºå†…éƒ¨æ“ä½œå­—ç¬¦é›†ï¼Œå…¶ç¡®å®šæ–¹æ³•å¦‚ä¸‹ï¼š ä½¿ç”¨æ¯ä¸ªæ•°æ®å­—æ®µçš„CHARACTER SETè®¾å®šå€¼; è‹¥ä¸Šè¿°å€¼ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨å¯¹åº”æ•°æ®è¡¨çš„DEFAULT CHARACTER SETè®¾å®šå€¼(MySQLæ‰©å±•ï¼ŒéSQLæ ‡å‡†); è‹¥ä¸Šè¿°å€¼ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨character_set_serverè®¾å®šå€¼ã€‚ 3. å°†æ“ä½œç»“æœä»å†…éƒ¨æ“ä½œå­—ç¬¦é›†è½¬æ¢ä¸ºcharacter_set_resultsã€‚ MySQLé»˜è®¤å­—ç¬¦é›† MySQLå¯¹äºå­—ç¬¦é›†çš„æŒ‡å®šå¯ä»¥ç»†åŒ–åˆ°ä¸€ä¸ªæ•°æ®åº“ï¼Œä¸€å¼ è¡¨ï¼Œä¸€åˆ—ï¼Œåº”è¯¥ç”¨ä»€ä¹ˆå­—ç¬¦é›†ã€‚ ä½†æ˜¯ï¼Œä¼ ç»Ÿçš„ç¨‹åºåœ¨åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨æ—¶å¹¶æ²¡æœ‰ä½¿ç”¨é‚£ä¹ˆå¤æ‚çš„é…ç½®ï¼Œå®ƒä»¬ç”¨çš„æ˜¯é»˜è®¤çš„é…ç½®ï¼Œé‚£ä¹ˆï¼Œé»˜è®¤çš„é…ç½®ä»ä½•è€Œæ¥å‘¢ï¼Ÿ ç¼–è¯‘MySQL æ—¶ï¼ŒæŒ‡å®šäº†ä¸€ä¸ªé»˜è®¤çš„å­—ç¬¦é›†ï¼Œè¿™ä¸ªå­—ç¬¦é›†æ˜¯ latin1ï¼› å®‰è£…MySQL æ—¶ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ (my.ini) ä¸­æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„çš„å­—ç¬¦é›†ï¼Œå¦‚æœæ²¡æŒ‡å®šï¼Œè¿™ä¸ªå€¼ç»§æ‰¿è‡ªç¼–è¯‘æ—¶æŒ‡å®šçš„ï¼› å¯åŠ¨mysqld æ—¶ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œå‚æ•°ä¸­æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„çš„å­—ç¬¦é›†ï¼Œå¦‚æœæ²¡æŒ‡å®šï¼Œè¿™ä¸ªå€¼ç»§æ‰¿è‡ªé…ç½®æ–‡ä»¶ä¸­çš„é…ç½®,æ­¤æ—¶ character_set_server è¢«è®¾å®šä¸ºè¿™ä¸ªé»˜è®¤çš„å­—ç¬¦é›†ï¼› å½“åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“æ—¶ï¼Œé™¤éæ˜ç¡®æŒ‡å®šï¼Œè¿™ä¸ªæ•°æ®åº“çš„å­—ç¬¦é›†è¢«ç¼ºçœè®¾å®šä¸ºcharacter_set_serverï¼› å½“é€‰å®šäº†ä¸€ä¸ªæ•°æ®åº“æ—¶ï¼Œcharacter_set_databaseè¢«è®¾å®šä¸ºè¿™ä¸ªæ•°æ®åº“é»˜è®¤çš„å­—ç¬¦é›†ï¼› åœ¨è¿™ä¸ªæ•°æ®åº“é‡Œåˆ›å»ºä¸€å¼ è¡¨æ—¶ï¼Œè¡¨é»˜è®¤çš„å­—ç¬¦é›†è¢«è®¾å®šä¸º character_set_databaseï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ•°æ®åº“é»˜è®¤çš„å­—ç¬¦é›†ï¼› å½“åœ¨è¡¨å†…è®¾ç½®ä¸€æ æ—¶ï¼Œé™¤éæ˜ç¡®æŒ‡å®šï¼Œå¦åˆ™æ­¤æ ç¼ºçœçš„å­—ç¬¦é›†å°±æ˜¯è¡¨é»˜è®¤çš„å­—ç¬¦é›†ï¼› utf8mb4 MySQLçš„â€œutf8â€å®é™…ä¸Šä¸æ˜¯çœŸæ­£çš„UTF-8: MYSQLä¸­çš„â€œutf8â€å­—ç¬¦é›†åªæ”¯æŒæ¯ä¸ªå­—ç¬¦æœ€å¤šä¸‰ä¸ªå­—èŠ‚ï¼Œè€ŒçœŸæ­£çš„UTF-8æ˜¯æ¯ä¸ªå­—ç¬¦æœ€å¤šå››ä¸ªå­—èŠ‚ã€‚(MySQLä¸€ç›´æ²¡æœ‰ä¿®å¤è¿™ä¸ªbugï¼Œä»–ä»¬åœ¨2010å¹´(mysql 5.5.3)å‘å¸ƒäº†ä¸€ä¸ªå«ä½œâ€œutf8mb4â€çš„å­—ç¬¦é›†(Most byte 4ç”¨æ¥å…¼å®¹4å­—èŠ‚çš„ä¸‡å›½ç )ï¼Œç»•è¿‡äº†è¿™ä¸ªé—®é¢˜ã€‚) åŸæ¥mysqlæ”¯æŒçš„ utf8 ç¼–ç æœ€å¤§å­—ç¬¦é•¿åº¦ä¸º 3 å­—èŠ‚ï¼Œå¦‚æœé‡åˆ° 4 å­—èŠ‚çš„å®½å­—ç¬¦å°±ä¼šæ’å…¥å¼‚å¸¸äº†ã€‚ä¸‰ä¸ªå­—èŠ‚çš„ UTF-8 æœ€å¤§èƒ½ç¼–ç çš„ Unicode å­—ç¬¦æ˜¯ 0xffffï¼Œä¹Ÿå°±æ˜¯ Unicode ä¸­çš„åŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ˆBMPï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•ä¸åœ¨åŸºæœ¬å¤šæ–‡æœ¬å¹³é¢çš„ Unicodeå­—ç¬¦ï¼Œéƒ½æ— æ³•ä½¿ç”¨ Mysql çš„ utf8 å­—ç¬¦é›†å­˜å‚¨ã€‚åŒ…æ‹¬ Emoji è¡¨æƒ…ï¼ˆEmoji æ˜¯ä¸€ç§ç‰¹æ®Šçš„ Unicode ç¼–ç ï¼Œå¸¸è§äº ios å’Œ android æ‰‹æœºä¸Šï¼‰ï¼Œå’Œå¾ˆå¤šä¸å¸¸ç”¨çš„æ±‰å­—ï¼Œä»¥åŠä»»ä½•æ–°å¢çš„ Unicode å­—ç¬¦ç­‰ç­‰ã€‚ ç„¶è€Œå¯¹äºæ–°å­—ç¬¦é›†utf8mb4çš„å‡ºç°ï¼Œä»–ä»¬å¹¶æ²¡æœ‰å¹¿è€Œå‘Šä¹‹ï¼ˆå¯èƒ½æ˜¯å› ä¸ºè¿™ä¸ªbugè®©ä»–ä»¬è§‰å¾—å¾ˆå°´å°¬ï¼‰ï¼Œä»¥è‡´äºç°åœ¨ç½‘ç»œä¸Šä»ç„¶åœ¨å»ºè®®å¼€å‘è€…ä½¿ç”¨â€œutf8â€ï¼Œä½†è¿™äº›å»ºè®®éƒ½æ˜¯é”™è¯¯çš„ï¼Œå½“ç„¶çœŸæ­£åšå¼€å‘çš„äººæ˜¯çŸ¥é“çš„ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šsqlæ–‡ä»¶ä¸­çœ‹åˆ°å»ºåº“å»ºè¡¨éƒ½å‡ºç°äº†utf8mb4çš„åŸå› ã€‚ å®˜æ–¹æ‰‹å†Œ https://dev.mysql.com/doc/refman/5.6/en/charset-unicode-utf8mb4.html çš„è¯´æ˜ï¼š 12345The character set named utf8 uses a maximum of three bytes per character and contains only BMP characters. The utf8mb4 character set uses a maximum of four bytes per character supports supplementary characters:- For a BMP character, utf8 and utf8mb4 have identical storage characteristics: same code values, same encoding, same length.- For a supplementary character, utf8 cannot store the character at all, whereas utf8mb4 requires four bytes to store it. Because utf8 cannot store the character at all, you have no supplementary characters in utf8 columns and need not worry about converting characters or losing data when upgrading utf8 data from older versions of MySQL.1234 MySQLåœ¨ 5.5.3 ä¹‹åå¢åŠ äº† utf8mb4 å­—ç¬¦ç¼–ç ï¼Œmb4å³ most bytes 4ã€‚ç®€å•è¯´ utf8mb4 æ˜¯ utf8 çš„è¶…é›†å¹¶å®Œå…¨å…¼å®¹utf8ï¼Œèƒ½å¤Ÿç”¨å››ä¸ªå­—èŠ‚å­˜å‚¨æ›´å¤šçš„å­—ç¬¦ã€‚ ä½†æŠ›å¼€æ•°æ®åº“ï¼Œæ ‡å‡†çš„ UTF-8 å­—ç¬¦é›†ç¼–ç æ˜¯å¯ä»¥ç”¨ 1~4 ä¸ªå­—èŠ‚å»ç¼–ç 21ä½å­—ç¬¦ï¼Œè¿™å‡ ä¹åŒ…å«äº†æ˜¯ä¸–ç•Œä¸Šæ‰€æœ‰èƒ½çœ‹è§çš„è¯­è¨€äº†ã€‚ç„¶è€Œåœ¨MySQLé‡Œå®ç°çš„utf8æœ€é•¿ä½¿ç”¨3ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯åªæ”¯æŒåˆ°äº† Unicode ä¸­çš„ åŸºæœ¬å¤šæ–‡æœ¬å¹³é¢ï¼ˆU 0000è‡³U FFFFï¼‰ï¼ŒåŒ…å«äº†æ§åˆ¶ç¬¦ã€æ‹‰ä¸æ–‡ï¼Œä¸­ã€æ—¥ã€éŸ©ç­‰ç»å¤§å¤šæ•°å›½é™…å­—ç¬¦ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰ï¼Œæœ€å¸¸è§çš„å°±ç®—ç°åœ¨æ‰‹æœºç«¯å¸¸ç”¨çš„è¡¨æƒ…å­—ç¬¦ emojiå’Œä¸€äº›ä¸å¸¸ç”¨çš„æ±‰å­—ï¼Œå¦‚ â€œå¢…â€ ï¼Œè¿™äº›éœ€è¦å››ä¸ªå­—èŠ‚æ‰èƒ½ç¼–ç å‡ºæ¥ã€‚ æ³¨ï¼šQQé‡Œé¢çš„å†…ç½®çš„è¡¨æƒ…ä¸ç®—ï¼Œå®ƒæ˜¯é€šè¿‡ç‰¹æ®Šæ˜ å°„åˆ°çš„ä¸€ä¸ªgifå›¾ç‰‡ã€‚ä¸€èˆ¬è¾“å…¥æ³•è‡ªå¸¦çš„å°±æ˜¯ã€‚ ä¹Ÿå°±æ˜¯å½“ä½ çš„æ•°æ®åº“é‡Œè¦æ±‚èƒ½å¤Ÿå­˜å…¥è¿™äº›è¡¨æƒ…æˆ–å®½å­—ç¬¦æ—¶ï¼Œå¯ä»¥æŠŠå­—æ®µå®šä¹‰ä¸º utf8mb4ï¼ŒåŒæ—¶è¦æ³¨æ„è¿æ¥å­—ç¬¦é›†ä¹Ÿè¦è®¾ç½®ä¸ºutf8mb4ï¼Œå¦åˆ™åœ¨ ä¸¥æ ¼æ¨¡å¼ ä¸‹ä¼šå‡ºç° Incorrect string value: /xF0/xA1/x8B/xBE/xE5/xA2â€¦ for column 'name'è¿™æ ·çš„é”™è¯¯ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹æ­¤åçš„æ•°æ®ä¼šè¢«æˆªæ–­ã€‚ æç¤ºï¼šå¦å¤–ä¸€ç§èƒ½å¤Ÿå­˜å‚¨emojiçš„æ–¹å¼æ˜¯ï¼Œä¸å…³å¿ƒæ•°æ®åº“è¡¨å­—ç¬¦é›†ï¼Œåªè¦è¿æ¥å­—ç¬¦é›†ä½¿ç”¨ latin1ï¼Œä½†ç›¸ä¿¡æˆ‘ï¼Œä½ ç»å¯¹ä¸æƒ³è¿™ä¸ªå¹²ï¼Œä¸€æ˜¯è¿™ç§å­—ç¬¦é›†æ··ç”¨ç®¡ç†æä¸è§„èŒƒï¼ŒäºŒæ˜¯å­˜å‚¨ç©ºé—´è¢«æ”¾å¤§ï¼ˆè¯»è€…å¯ä»¥æƒ³ä¸‹ä¸ºä»€ä¹ˆï¼‰ã€‚ æ€»ç»“åçš„ç»“è®ºï¼š MySQLçš„â€œutf8mb4â€æ˜¯çœŸæ­£çš„â€œUTF-8â€ã€‚ MySQLçš„â€œutf8â€æ˜¯ä¸€ç§â€œä¸“å±çš„ç¼–ç â€ï¼Œå®ƒèƒ½å¤Ÿç¼–ç çš„Unicodeå­—ç¬¦å¹¶ä¸å¤šã€‚ from: utf8ç¼–ç å’Œutf8mb4ç¼–ç ï¼ˆå…¶å®ƒç¼–ç ç®€ä»‹ï¼‰ è®°ä½ï¼Œæ°¸è¿œä¸è¦åœ¨MySQLä¸­ä½¿ç”¨â€œutf8â€ utf8mb4_general_ci å­—ç¬¦é™¤äº†éœ€è¦å­˜å‚¨ï¼Œè¿˜éœ€è¦æ’åºæˆ–æ¯”è¾ƒå¤§å°ï¼Œæ¶‰åŠåˆ°ä¸ç¼–ç å­—ç¬¦é›†å¯¹åº”çš„ æ’åºå­—ç¬¦é›†ï¼ˆcollationï¼‰ã€‚ut8mb4å¯¹åº”çš„æ’åºå­—ç¬¦é›†å¸¸ç”¨çš„æœ‰ utf8mb4_unicode_ciã€utf8mb4_general_ciï¼Œåˆ°åº•é‡‡ç”¨å“ªä¸ªåœ¨ stackoverflow ä¸Šæœ‰ä¸ªè®¨è®ºï¼ŒWhatâ€™s the difference between utf8_general_ci and utf8_unicode_ci ä¸»è¦ä»æ’åºå‡†ç¡®æ€§å’Œæ€§èƒ½ä¸¤æ–¹é¢çœ‹ï¼š å‡†ç¡®æ€§ utf8mb4_unicode_ci æ˜¯åŸºäºæ ‡å‡†çš„Unicodeæ¥æ’åºå’Œæ¯”è¾ƒï¼Œèƒ½å¤Ÿåœ¨å„ç§è¯­è¨€ä¹‹é—´ç²¾ç¡®æ’åº utf8mb4_general_ci æ²¡æœ‰å®ç°Unicodeæ’åºè§„åˆ™ï¼Œåœ¨é‡åˆ°æŸäº›ç‰¹æ®Šè¯­è¨€æˆ–å­—ç¬¦æ˜¯ï¼Œæ’åºç»“æœå¯èƒ½ä¸æ˜¯æ‰€æœŸæœ›çš„ã€‚ ä½†æ˜¯åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ç§ç‰¹æ®Šå­—ç¬¦çš„é¡ºåºä¸€å®šè¦é‚£ä¹ˆç²¾ç¡®å—ã€‚æ¯”å¦‚UnicodeæŠŠÃŸã€Å’å½“æˆsså’ŒOEæ¥çœ‹ï¼›è€Œgeneralä¼šæŠŠå®ƒä»¬å½“æˆsã€eï¼Œå†å¦‚Ã€ÃÃ…Ã¥ÄÄƒå„è‡ªéƒ½ä¸ A ç›¸ç­‰ã€‚ æ€§èƒ½ utf8mb4_general_ci åœ¨æ¯”è¾ƒå’Œæ’åºçš„æ—¶å€™æ›´å¿« utf8mb4_unicode_ci åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼ŒUnicodeæ’åºè§„åˆ™ä¸ºäº†èƒ½å¤Ÿå¤„ç†ç‰¹æ®Šå­—ç¬¦çš„æƒ…å†µï¼Œå®ç°äº†ç•¥å¾®å¤æ‚çš„æ’åºç®—æ³•ã€‚ ä½†æ˜¯åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸ä¼šå‘ç”Ÿæ­¤ç±»å¤æ‚æ¯”è¾ƒã€‚generalç†è®ºä¸Šæ¯”Unicodeå¯èƒ½å¿«äº›ï¼Œä½†ç›¸æ¯”ç°åœ¨çš„CPUæ¥è¯´ï¼Œå®ƒè¿œè¿œä¸è¶³ä»¥æˆä¸ºè€ƒè™‘æ€§èƒ½çš„å› ç´ ï¼Œç´¢å¼•æ¶‰åŠã€SQLè®¾è®¡æ‰æ˜¯ã€‚ æˆ‘ä¸ªäººæ¨èæ˜¯ utf8mb4_unicode_ciï¼Œå°†æ¥ 8.0 é‡Œä¹Ÿææœ‰å¯èƒ½ä½¿ç”¨å˜ä¸ºé»˜è®¤çš„è§„åˆ™ã€‚ç›¸æ¯”é€‰æ‹©å“ªä¸€ç§collationï¼Œä½¿ç”¨è€…åº”è¯¥æ›´å…³å¿ƒå­—ç¬¦é›†ä¸æ’åºè§„åˆ™åœ¨dbé‡Œè¦ç»Ÿä¸€å°±å¥½ã€‚ è¿™ä¹Ÿä»å¦ä¸€ä¸ªè§’åº¦å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸è¦å¯èƒ½äº§ç”Ÿä¹±ç çš„å­—æ®µä½œä¸ºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•ã€‚æˆ‘é‡åˆ°è¿‡ä¸€ä¾‹ï¼Œä»¥ url æ¥ä½œä¸ºå”¯ä¸€ç´¢å¼•ï¼Œä½†æ˜¯å®ƒè®°å½•çš„æœ‰å¯èƒ½æ˜¯ä¹±ç ï¼Œå¯¼è‡´åæ¥æƒ³æŠŠå®ƒä»¬ä¿®å¤å°±ç‰¹åˆ«éº»çƒ¦ã€‚ from: mysqlä½¿ç”¨utf8mb4ç»éªŒåè¡€æ€»ç»“ MySQLå¤§è¡¨ä¼˜åŒ–æ–¹æ¡ˆ Mysqlçš„row_format(fixedä¸dynamic) å·²æœ‰å»ºåº“SQLï¼š autoplan 12345678910111213141516171819202122232425262728293031323334353637383940414243SET NAMES utf8mb4;SET FOREIGN_KEY_CHECKS = 0;-- ------------------------------ Table structure for auto_bilibili-- ----------------------------DROP TABLE IF EXISTS `auto_bilibili`;CREATE TABLE `auto_bilibili`( `id` int NOT NULL AUTO_INCREMENT, `userid` int NOT NULL, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'åˆ›å»ºçš„ä»»åŠ¡å', `sessdata` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `bili_jct` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `dedeuserid` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `taskIntervalTime` int NOT NULL DEFAULT 10 COMMENT 'ä»»åŠ¡ä¹‹é—´çš„æ‰§è¡Œé—´éš”', `numberOfCoins` int NOT NULL DEFAULT 5 COMMENT 'æ¯æ—¥æŠ•å¸æ•°é‡', `reserveCoins` int NOT NULL DEFAULT 50 COMMENT 'é¢„ç•™çš„ç¡¬å¸æ•°', `selectLike` int NOT NULL DEFAULT 0 COMMENT 'æŠ•å¸æ—¶æ˜¯å¦ç‚¹èµï¼Œé»˜è®¤ 0, 0ï¼šå¦ 1ï¼šæ˜¯', `monthEndAutoCharge` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'true' COMMENT 'å¹´åº¦å¤§ä¼šå‘˜æœˆåº•æ˜¯å¦ç”¨ B å¸åˆ¸ç»™è‡ªå·±å……ç”µï¼Œé»˜è®¤ trueï¼Œå³å……ç”µå¯¹è±¡æ˜¯ä½ æœ¬äººã€‚', `giveGift` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'true' COMMENT 'ç›´æ’­é€å‡ºå³å°†è¿‡æœŸçš„ç¤¼ç‰©ï¼Œé»˜è®¤å¼€å¯', `upLive` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '0' COMMENT 'ç›´æ’­é€å‡ºå³å°†è¿‡æœŸçš„ç¤¼ç‰©ï¼ŒæŒ‡å®š up ä¸»ï¼Œä¸º 0 æ—¶åˆ™éšéšæœºé€‰å–ä¸€ä¸ª up ä¸»', `chargeForLove` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT '0' COMMENT 'ç»™æŒ‡å®š up ä¸»å……ç”µï¼Œå€¼ä¸º 0 æˆ–è€…å……ç”µå¯¹è±¡çš„ uidï¼Œé»˜è®¤ä¸º 0ï¼Œå³ç»™è‡ªå·±å……ç”µ', `devicePlatform` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'ios' COMMENT 'æ‰‹æœºç«¯æ¼«ç”»ç­¾åˆ°æ—¶çš„å¹³å°ï¼Œå»ºè®®é€‰æ‹©ä½ è®¾å¤‡çš„å¹³å° ï¼Œé»˜è®¤ ios', `coinAddPriority` int NOT NULL DEFAULT 1 COMMENT '0ï¼šä¼˜å…ˆç»™çƒ­æ¦œè§†é¢‘æŠ•å¸ï¼Œ1ï¼šä¼˜å…ˆç»™å…³æ³¨çš„ up æŠ•å¸', `userAgent` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36 Edg/86.0.622.69' COMMENT 'æµè§ˆå™¨ UA', `skipDailyTask` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'false' COMMENT 'æ˜¯å¦è·³è¿‡æ¯æ—¥ä»»åŠ¡', `webhook` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'æ¨é€åœ°å€', `enddate` datetime NULL DEFAULT NULL, `match_enable` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'false' COMMENT 'é¢„æµ‹æ˜¯å¦å¼€å¯', `match_predictNumberOfCoins` int NOT NULL DEFAULT 10 COMMENT 'å•æ¬¡é¢„æµ‹æŠ•æ³¨ç¡¬å¸', `match_minimumNumberOfCoins` int NOT NULL DEFAULT 200 COMMENT 'é¢„æµ‹ä¿ç•™ç¡¬å¸', `match_showHandModel` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'false' COMMENT 'æŠ¼æ³¨å½¢å¼', `other` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE, INDEX `userid` (`userid`) USING BTREE, CONSTRAINT `auto_bilibili_ibfk_1` FOREIGN KEY (`userid`) REFERENCES `sys_user` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = DYNAMIC; å»ºè¡¨æœ«å°¾çš„AUTO_INCREMENTï¼šæŒ‡å®šä¸€ä¸ªè‡ªå¢çš„åˆå§‹å€¼ï¼Œ æ¯”å¦‚AUTO_INCREMENT = 7åˆ™æ˜¯è¦æ±‚IDä»7å¼€å§‹è‡ªå¢ï¼ˆåˆå§‹å€¼ä¸º7) Mysql Row_Format å‚æ•°è®²è§£ åœ¨MYSQLä¸­ï¼Œ è‹¥ä¸€å¼ è¡¨é‡Œé¢ä¸å­˜åœ¨varcharã€textä»¥åŠå…¶å˜å½¢ã€blobä»¥åŠå…¶å˜å½¢çš„å­—æ®µçš„è¯ï¼Œé‚£ä¹ˆå¼ è¿™ä¸ªè¡¨å…¶å®ä¹Ÿå«é™æ€è¡¨ï¼Œå³è¯¥è¡¨çš„row_formatæ˜¯fixedï¼Œå°±æ˜¯è¯´æ¯æ¡è®°å½•æ‰€å ç”¨çš„å­—èŠ‚ä¸€æ ·ã€‚å…¶ä¼˜ç‚¹è¯»å–å¿«ï¼Œç¼ºç‚¹æµªè´¹é¢å¤–ä¸€éƒ¨åˆ†ç©ºé—´ã€‚ ä¹ˆå®é™…å¼€å‘ä¸­,è¿™ç§è¡¨å¾ˆå°‘,å¤§éƒ¨åˆ†è¡¨çš„å­—æ®µç±»å‹éƒ½æ˜¯æœ‰å¾ˆå¤šç§çš„,é‚£ä¹ˆè¿™ç§è¡¨å°±å«åš:dynamic :åŠ¨æ€è¡¨ ,ä¼˜ç‚¹æ˜¯èŠ‚çœç©ºé—´,ç¼ºç‚¹æ˜¯è¯»å–çš„æ—¶é—´çš„å¼€é”€ ROW_FORMAT çš„å€¼å¦‚ä¸‹:DEFAULTã€FIXEDã€DYNAMICã€COMPRESSEDã€REDUNDANTã€COMPACT lottery 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155/*SQLyog Ultimate v11.24 (32 bit)MySQL - 5.5.46-0ubuntu0.14.04.2 : Database - testbbs**********************************************************************//*!40101 SET NAMES utf8 */;/*!40101 SET SQL_MODE=''*/;/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;CREATE DATABASE /*!32312 IF NOT EXISTS*/`lottery` /*!40100 DEFAULT CHARACTER SET utf8 */;USE `lottery`;/*Table structure for table `lt_blackip` */DROP TABLE IF EXISTS `lt_blackip`;CREATE TABLE `lt_blackip` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `ip` varchar(50) NOT NULL DEFAULT '' COMMENT 'IPåœ°å€', `blacktime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'é»‘åå•é™åˆ¶åˆ°æœŸæ—¶é—´', `sys_created` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´', `sys_updated` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'ä¿®æ”¹æ—¶é—´', PRIMARY KEY (`id`), UNIQUE KEY `ip` (`ip`)) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;/*Data for the table `lt_blackip` */insert into `lt_blackip`(`id`,`ip`,`blacktime`,`sys_created`,`sys_updated`) values (1,'127.0.0.1',0,0,1532606350);/*Table structure for table `lt_code` */DROP TABLE IF EXISTS `lt_code`;CREATE TABLE `lt_code` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `gift_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'å¥–å“IDï¼Œå…³è”lt_giftè¡¨', `code` varchar(255) NOT NULL DEFAULT '' COMMENT 'è™šæ‹Ÿåˆ¸ç¼–ç ', `sys_created` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´', `sys_updated` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'æ›´æ–°æ—¶é—´', `sys_status` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT 'çŠ¶æ€ï¼Œ0æ­£å¸¸ï¼Œ1ä½œåºŸï¼Œ2å·²å‘æ”¾', PRIMARY KEY (`id`), UNIQUE KEY `code` (`code`), KEY `gift_id` (`gift_id`)) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;/*Data for the table `lt_code` */insert into `lt_code`(`id`,`gift_id`,`code`,`sys_created`,`sys_updated`,`sys_status`) values (1,4,'abc\\r',1532602694,0,0),(2,4,'aa\\r',1532602694,0,0),(3,4,'cs',1532602694,0,0),(4,4,'332',1532602970,0,2);/*Table structure for table `lt_gift` */DROP TABLE IF EXISTS `lt_gift`;CREATE TABLE `lt_gift` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `title` varchar(255) NOT NULL DEFAULT '' COMMENT 'å¥–å“åç§°', `prize_num` int(11) NOT NULL DEFAULT '-1' COMMENT 'å¥–å“æ•°é‡ï¼Œ0 æ— é™é‡ï¼Œ&gt;0é™é‡ï¼Œ&lt;0æ— å¥–å“', `left_num` int(11) NOT NULL DEFAULT '0' COMMENT 'å‰©ä½™æ•°é‡', `prize_code` varchar(50) NOT NULL DEFAULT '' COMMENT '0-9999è¡¨ç¤º100%ï¼Œ0-0è¡¨ç¤ºä¸‡åˆ†ä¹‹ä¸€çš„ä¸­å¥–æ¦‚ç‡', `prize_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'å‘å¥–å‘¨æœŸï¼ŒDå¤©', `img` varchar(255) NOT NULL DEFAULT '' COMMENT 'å¥–å“å›¾ç‰‡', `displayorder` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'ä½ç½®åºå·ï¼Œå°çš„æ’åœ¨å‰é¢', `gtype` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'å¥–å“ç±»å‹ï¼Œ0 è™šæ‹Ÿå¸ï¼Œ1 è™šæ‹Ÿåˆ¸ï¼Œ2 å®ç‰©-å°å¥–ï¼Œ3 å®ç‰©-å¤§å¥–', `gdata` varchar(255) NOT NULL DEFAULT '' COMMENT 'æ‰©å±•æ•°æ®ï¼Œå¦‚ï¼šè™šæ‹Ÿå¸æ•°é‡', `time_begin` int(11) NOT NULL DEFAULT '0' COMMENT 'å¼€å§‹æ—¶é—´', `time_end` int(11) NOT NULL DEFAULT '0' COMMENT 'ç»“æŸæ—¶é—´', `prize_data` mediumtext COMMENT 'å‘å¥–è®¡åˆ’ï¼Œ[[æ—¶é—´1,æ•°é‡1],[æ—¶é—´2,æ•°é‡2]]', `prize_begin` int(11) NOT NULL DEFAULT '0' COMMENT 'å‘å¥–è®¡åˆ’å‘¨æœŸçš„å¼€å§‹', `prize_end` int(11) NOT NULL DEFAULT '0' COMMENT 'å‘å¥–è®¡åˆ’å‘¨æœŸçš„ç»“æŸ', `sys_status` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT 'çŠ¶æ€ï¼Œ0 æ­£å¸¸ï¼Œ1 åˆ é™¤', `sys_created` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´', `sys_updated` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'ä¿®æ”¹æ—¶é—´', `sys_ip` varchar(50) NOT NULL DEFAULT '' COMMENT 'æ“ä½œäººIP', PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;/*Data for the table `lt_gift` */insert into `lt_gift`(`id`,`title`,`prize_num`,`prize_code`,`prize_time`,`img`,`displayorder`,`gtype`,`gdata`,`time_begin`,`time_end`,`prize_data`,`sys_status`,`sys_created`,`sys_updated`,`sys_ip`) values (1,'Tæ¤',10,'1-100',30,'https://p0.ssl.qhmsg.com/t016c44d161c478cfe0.png',1,2,'',1532592420,1564128420,'',0,1532592429,1532593773,'::1'),(2,'360æ‰‹æœºN7',1,'0-0',30,'https://p0.ssl.qhmsg.com/t016ff98b934914aca6.png',0,3,'',1532592420,1564128420,'',0,1532592474,0,''),(3,'æ‰‹æœºå……ç”µå™¨',10,'200-1000',30,'https://p0.ssl.qhmsg.com/t01ec4648d396ad46bf.png',3,2,'',1532592420,1564128420,'',0,1532592558,1532593828,'::1'),(4,'ä¼˜æƒ åˆ¸',100,'2000-5000',1,'https://p0.ssl.qhmsg.com/t01f84f00d294279957.png',4,1,'',1532592420,1564128420,'',0,1532599140,0,'::1');/*Table structure for table `lt_result` */DROP TABLE IF EXISTS `lt_result`;CREATE TABLE `lt_result` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `gift_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'å¥–å“IDï¼Œå…³è”lt_giftè¡¨', `gift_name` varchar(255) NOT NULL DEFAULT '' COMMENT 'å¥–å“åç§°', `gift_type` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'å¥–å“ç±»å‹ï¼ŒåŒlt_gift. gtype', `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'ç”¨æˆ·ID', `username` varchar(50) NOT NULL DEFAULT '' COMMENT 'ç”¨æˆ·å', `prize_code` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'æŠ½å¥–ç¼–å·ï¼ˆ4ä½çš„éšæœºæ•°ï¼‰', `gift_data` varchar(255) NOT NULL DEFAULT '' COMMENT 'è·å¥–ä¿¡æ¯', `sys_created` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´', `sys_ip` varchar(50) NOT NULL DEFAULT '' COMMENT 'ç”¨æˆ·æŠ½å¥–çš„IP', `sys_status` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT 'çŠ¶æ€ï¼Œ0 æ­£å¸¸ï¼Œ1åˆ é™¤ï¼Œ2ä½œå¼Š', PRIMARY KEY (`id`), KEY `uid` (`uid`), KEY `gift_id` (`gift_id`)) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;/*Data for the table `lt_result` */insert into `lt_result`(`id`,`gift_id`,`gift_name`,`gift_type`,`uid`,`username`,`prize_code`,`gift_data`,`sys_created`,`sys_ip`,`sys_status`) values (1,1,'Tæ¤',2,1,'yifan',1,'',0,'',0);/*Table structure for table `lt_user` */DROP TABLE IF EXISTS `lt_user`;CREATE TABLE `lt_user` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `username` varchar(50) NOT NULL DEFAULT '' COMMENT 'ç”¨æˆ·å', `blacktime` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'é»‘åå•é™åˆ¶åˆ°æœŸæ—¶é—´', `realname` varchar(50) NOT NULL DEFAULT '' COMMENT 'è”ç³»äºº', `mobile` varchar(50) NOT NULL DEFAULT '' COMMENT 'æ‰‹æœºå·', `address` varchar(255) NOT NULL DEFAULT '' COMMENT 'è”ç³»åœ°å€', `sys_created` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´', `sys_updated` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'ä¿®æ”¹æ—¶é—´', `sys_ip` varchar(50) NOT NULL DEFAULT '' COMMENT 'IPåœ°å€', PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;/*Data for the table `lt_user` */insert into `lt_user`(`id`,`username`,`blacktime`,`realname`,`mobile`,`address`,`sys_created`,`sys_updated`,`sys_ip`) values (1,'wangyi',0,'ä¸€å‡¡Sir','11111111111','abcdefg',0,1532595094,'');/*Table structure for table `lt_userday` */DROP TABLE IF EXISTS `lt_userday`;CREATE TABLE `lt_userday` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `uid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'ç”¨æˆ·ID', `day` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'æ—¥æœŸï¼Œå¦‚ï¼š20180725', `num` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'æ¬¡æ•°', `sys_created` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'åˆ›å»ºæ—¶é—´', `sys_updated` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'ä¿®æ”¹æ—¶é—´', PRIMARY KEY (`id`), UNIQUE KEY `uid_day` (`uid`,`day`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;/*Data for the table `lt_userday` *//*!40101 SET SQL_MODE=@OLD_SQL_MODE */;/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"XMLè¯­æ³•è§„åˆ™ç¬”è®°","slug":"XMLè¯­æ³•è§„åˆ™ç¬”è®°","date":"2021-10-09T11:37:54.000Z","updated":"2021-10-09T13:04:17.528Z","comments":true,"path":"2021/10/09/XMLè¯­æ³•è§„åˆ™ç¬”è®°/","link":"","permalink":"https://nymrli.top/2021/10/09/XMLè¯­æ³•è§„åˆ™ç¬”è®°/","excerpt":"","text":"ç®€ä»‹ï¼š XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆEXtensible Markup Languageï¼‰ã€‚ XML æ˜¯ä¸€ç§å¾ˆåƒHTMLçš„æ ‡è®°è¯­è¨€ã€‚ XML çš„è®¾è®¡å®—æ—¨æ˜¯ä¼ è¾“æ•°æ®ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºæ•°æ®ã€‚ XML æ ‡ç­¾æ²¡æœ‰è¢«é¢„å®šä¹‰ã€‚æ‚¨éœ€è¦è‡ªè¡Œå®šä¹‰æ ‡ç­¾ã€‚ XML è¢«è®¾è®¡ä¸ºå…·æœ‰è‡ªæˆ‘æè¿°æ€§ã€‚ XML æ˜¯ W3C çš„æ¨èæ ‡å‡†ã€‚ ç‰¹ç‚¹ï¼š æ‰€æœ‰ XML å…ƒç´ éƒ½é¡»æœ‰å…³é—­æ ‡ç­¾ XML æ ‡ç­¾å¯¹å¤§å°å†™æ•æ„Ÿ XML æ–‡æ¡£å¿…é¡»æœ‰æ ¹å…ƒç´  XML çš„å±æ€§å€¼é¡»åŠ å¼•å·ï¼ŒåŒå¼•å·ã€å•å¼•å·éƒ½å¯ä»¥ å®ä½“å¼•ç”¨ï¼š&amp;lt;, &amp;gt;, &amp;amp, &amp;apos, &amp;quot åœ¨ XML ä¸­ï¼Œç©ºæ ¼ä¼šè¢«ä¿ç•™ï¼Œ ä½†å¤šä½™çš„ç©ºæ ¼ä¼šè¢«åˆå¹¶æˆä¸€ä¸ª XML ä»¥ LF å­˜å‚¨æ¢è¡Œ ç”¨é€”ï¼š XML æŠŠæ•°æ®ä» HTML åˆ†ç¦»ï¼š æ”¹å˜æ•°æ®æ—¶ä¸éœ€è¦å¯¹HTMLè¿›è¡Œæ”¹å˜ XML ç®€åŒ–æ•°æ®å…±äº« XML ç®€åŒ–æ•°æ®ä¼ è¾“ï¼šé€šè¿‡ XMLï¼Œå¯ä»¥åœ¨ä¸å…¼å®¹çš„ç³»ç»Ÿä¹‹é—´è½»æ¾åœ°äº¤æ¢æ•°æ®ã€‚ XML ç®€åŒ–å¹³å°çš„å˜æ›´ XML ä½¿æ‚¨çš„æ•°æ®æ›´æœ‰ç”¨ XML å…ƒç´  æŒ‡çš„æ˜¯ä»ï¼ˆä¸”åŒ…æ‹¬ï¼‰å¼€å§‹æ ‡ç­¾ç›´åˆ°ï¼ˆä¸”åŒ…æ‹¬ï¼‰ç»“æŸæ ‡ç­¾çš„éƒ¨åˆ†ã€‚ å…ƒç´ å¯åŒ…å«å…¶ä»–å…ƒç´ ã€æ–‡æœ¬æˆ–è€…ä¸¤è€…çš„æ··åˆç‰©ã€‚å…ƒç´ ä¹Ÿå¯ä»¥æ‹¥æœ‰å±æ€§ã€‚ XML å‘½åè§„åˆ™ XML å…ƒç´ å¿…é¡»éµå¾ªä»¥ä¸‹å‘½åè§„åˆ™ï¼š åç§°å¯ä»¥å«å­—æ¯ã€æ•°å­—ä»¥åŠå…¶ä»–çš„å­—ç¬¦ åç§°ä¸èƒ½ä»¥æ•°å­—æˆ–è€…æ ‡ç‚¹ç¬¦å·å¼€å§‹ åç§°ä¸èƒ½ä»¥å­—ç¬¦ â€œxmlâ€ï¼ˆæˆ–è€… XMLã€Xmlï¼‰å¼€å§‹ åç§°ä¸èƒ½åŒ…å«ç©ºæ ¼ å¯ä½¿ç”¨ä»»ä½•åç§°ï¼Œæ²¡æœ‰ä¿ç•™çš„å­—è¯ã€‚ æœ€ä½³å‘½åä¹ æƒ¯ ä½¿åç§°å…·æœ‰æè¿°æ€§ã€‚ä½¿ç”¨ä¸‹åˆ’çº¿çš„åç§°ä¹Ÿå¾ˆä¸é”™ã€‚ åç§°åº”å½“æ¯”è¾ƒç®€çŸ­ï¼Œæ¯”å¦‚ï¼š&lt;book_title&gt;ï¼Œè€Œä¸æ˜¯ï¼š&lt;the_title_of_the_book&gt;ã€‚ é¿å… â€œ-â€ å­—ç¬¦ã€‚å¦‚æœæ‚¨æŒ‰ç…§è¿™æ ·çš„æ–¹å¼è¿›è¡Œå‘½åï¼šâ€œfirst-nameâ€ï¼Œä¸€äº›è½¯ä»¶ä¼šè®¤ä¸ºä½ éœ€è¦æå–ç¬¬ä¸€ä¸ªå•è¯ã€‚ é¿å… â€œ.â€ å­—ç¬¦ã€‚å¦‚æœæ‚¨æŒ‰ç…§è¿™æ ·çš„æ–¹å¼è¿›è¡Œå‘½åï¼šâ€œfirst.nameâ€ï¼Œä¸€äº›è½¯ä»¶ä¼šè®¤ä¸º â€œnameâ€ æ˜¯å¯¹è±¡ â€œfirstâ€ çš„å±æ€§ã€‚ é¿å… â€œ:â€ å­—ç¬¦ã€‚å†’å·ä¼šè¢«è½¬æ¢ä¸ºå‘½åç©ºé—´æ¥ä½¿ç”¨ã€‚ XML å‘½åç©ºé—´ï¼ˆXML Namespacesï¼‰ åœ¨ XML ä¸­ï¼Œå…ƒç´ åç§°æ˜¯ç”±å¼€å‘è€…å®šä¹‰çš„ï¼Œå½“ä¸¤ä¸ªä¸åŒçš„æ–‡æ¡£ä½¿ç”¨ç›¸åŒçš„å…ƒç´ åæ—¶ï¼Œå°±ä¼šå‘ç”Ÿå‘½åå†²çªã€‚ ä½¿ç”¨å‘½åç©ºé—´æ¡ˆä¾‹ï¼š 12345678910&lt;rtdBusConfig xmlns=\"http://com.cgs/rtd-bus.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://com.cgs/rtd-bus.xsd rtd-bus.xsd\" id=\"producer\" persistentPath=\"./rtdcache/producer\" &gt; ...&lt;/rtdBusConfig&gt; w3cæ¡ˆä¾‹: https://www.w3school.com.cn/xml/xml_namespaces.asp 12345&lt;f:table xmlns:f=\"http://www.w3school.com.cn/furniture\"&gt; &lt;f:name&gt;African Coffee Table&lt;/f:name&gt; &lt;f:width&gt;80&lt;/f:width&gt; &lt;f:length&gt;120&lt;/f:length&gt;&lt;/f:table&gt; æˆ‘ä»¬åœ¨æ ¹æ ‡ç­¾ä¸­æ·»åŠ äº†ä¸€ä¸ª xmlns:f å±æ€§ï¼Œxmlns ä»£è¡¨çš„æ˜¯ xml namespaceï¼Œfæ˜¯æˆ‘ä»¬å£°æ˜çš„å‘½åç©ºé—´å‰ç¼€ï¼Œfæœ¬èº«å¹¶æ²¡æœ‰æ„ä¹‰ï¼Œå¯ä»¥å°†å®ƒç†è§£ä¸ºæ˜¯ http://www.atguigu.com/xml/b çš„ä¸€ä¸ªåˆ«åï¼Œæˆ‘ä»¬åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨ fï¼Œå°±ç›¸å½“äºä½¿ç”¨è¿™ä¸ª uri åœ°å€ã€‚ä¸€æ—¦ä½¿ç”¨äº†f è¿™ä¸ªå‰ç¼€ï¼Œå°±ä»£è¡¨è¿™ä¸ªæ ‡ç­¾æ˜¯å±äº http://www.atguigu.com/xml/b è¿™ä¸ªå”¯ä¸€æ ‡è¯†å‘½åç©ºé—´ä¸‹çš„å…ƒç´ ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­å®šä¹‰å¤šä¸ªå‘½åç©ºé—´ï¼Œå¦‚ä¸‹çš„è¯­æ³•ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼š 12&lt;b:book xmlns:b=\"http://www.atguigu.com/xml/b\" xmlns:a=\"http://www.atguigu.com/xml/a\"&gt; more: https://www.cnblogs.com/xiaomaomao/p/13968976.html XML Namespace (xmlns) å±æ€§ XML å‘½åç©ºé—´å±æ€§è¢«æ”¾ç½®äºå…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¹‹ä¸­ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹çš„è¯­æ³•ï¼šxmlns&lt;:namespace-prefix&gt;=&quot;namespaceURI&quot; å½“å‘½åç©ºé—´è¢«å®šä¹‰åœ¨å…ƒç´ çš„å¼€å§‹æ ‡ç­¾ä¸­æ—¶ï¼Œæ‰€æœ‰å¸¦æœ‰ç›¸åŒå‰ç¼€çš„å­å…ƒç´ éƒ½ä¼šä¸åŒä¸€ä¸ªå‘½åç©ºé—´ç›¸å…³è”ã€‚ å¦‚æœæ²¡æœ‰:namespace-prefixï¼Œä¸ºxmlns=&quot;namespaceURI&quot;ï¼Œåˆ™é‡‡ç”¨çš„æ˜¯é»˜è®¤çš„å‘½åç©ºé—´ï¼ˆDefault Namespacesï¼‰ å‘½åç©ºé—´çš„å®é™…åº”ç”¨ å½“å¼€å§‹ä½¿ç”¨ XSL æ—¶ï¼Œæ‚¨ä¸ä¹…å°±ä¼šçœ‹åˆ°å®é™…ä½¿ç”¨ä¸­çš„å‘½åç©ºé—´ã€‚XSL æ ·å¼è¡¨ç”¨äºå°† XML æ–‡æ¡£è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼ï¼Œæ¯”å¦‚ HTMLã€‚ å¦‚æœæ‚¨ä»”ç»†è§‚å¯Ÿä¸‹é¢çš„è¿™ä¸ª XSL æ–‡æ¡£ï¼Œå°±ä¼šçœ‹åˆ°å¤§å¤šæ•°çš„æ ‡ç­¾æ˜¯HTMLæ ‡ç­¾ã€‚é HTML çš„æ ‡ç­¾éƒ½æœ‰å‰ç¼€ xslï¼Œå¹¶ç”±æ­¤å‘½åç©ºé—´æ ‡ç¤ºï¼šâ€œhttp://www.w3.org/1999/XSL/Transformâ€ï¼š 12345678910111213141516171819202122232425&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;&lt;xsl:template match=\"/\"&gt;&lt;html&gt;&lt;body&gt; &lt;h2&gt;My CD Collection&lt;/h2&gt; &lt;table border=\"1\"&gt; &lt;tr&gt; &lt;th align=\"left\"&gt;Title&lt;/th&gt; &lt;th align=\"left\"&gt;Artist&lt;/th&gt; &lt;/tr&gt; &lt;xsl:for-each select=\"catalog/cd\"&gt; &lt;tr&gt; &lt;td&gt;&lt;xsl:value-of select=\"title\"/&gt;&lt;/td&gt; &lt;td&gt;&lt;xsl:value-of select=\"artist\"/&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/xsl:for-each&gt; &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt; XMLè¯­æ³•ï¼å¤„ç†æŒ‡ä»¤ å¤„ç†æŒ‡ä»¤ï¼Œç®€ç§°PI ï¼ˆprocessing instructionï¼‰ã€‚å¤„ç†æŒ‡ä»¤ç”¨æ¥æŒ‡æŒ¥è§£æå¼•æ“å¦‚ä½•è§£æXMLæ–‡æ¡£å†…å®¹ã€‚ä¾‹å¦‚ï¼Œåœ¨XMLæ–‡æ¡£ä¸­å¯ä»¥ä½¿ç”¨xml-stylesheetæŒ‡ä»¤ï¼Œé€šçŸ¥XMLè§£æå¼•æ“ï¼Œåº”ç”¨cssæ–‡ä»¶æ˜¾ç¤ºxmlæ–‡æ¡£å†…å®¹ï¼Œæ ‡ç­¾åä¸ºä¸­æ–‡æ—¶ï¼Œcssä¸èµ·ä½œç”¨ã€‚ å¦‚&lt;?xml-stylesheet type=&quot;text/css&quot; href=&quot;cssæ–‡ä»¶å.css&quot;?&gt;* å¤„ç†æŒ‡ä»¤å¿…é¡»ä»¥&quot;&lt;?&quot;ä½œä¸ºå¼€å¤´ï¼Œä»¥&quot;?&gt;&quot;ä½œä¸ºç»“å°¾ï¼ŒXMLå£°æ˜è¯­å¥(&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;)å°±æ˜¯æœ€å¸¸è§çš„ä¸€ç§å¤„ç†æŒ‡ä»¤ã€‚ XMLæŠ¥æ–‡å¤´ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; ç¬¬ä¸€ä¸ªæ˜¯XMLçš„å£°æ˜ï¼Œå…¶ä¸­versionå±æ€§æ˜¯å¿…é¡»å†™çš„ã€‚ encodingå±æ€§çš„å€¼è¡¨ç¤ºç”¨äºè¯»å–æ–‡æ¡£çš„å­—ç¬¦é›†ï¼Œç¬¬äºŒä¸ªæ˜¯ä¸€ä¸ªæ–‡æ¡£å®šä¹‰çš„æè¿°ã€‚ XML CDATA ç”±äºæ‰€æœ‰ XML æ–‡æ¡£ä¸­çš„æ–‡æœ¬å‡ä¼šè¢«è§£æå™¨è§£æï¼Œè€Œ**åªæœ‰ CDATA åŒºæ®µï¼ˆCDATA sectionï¼‰ä¸­çš„æ–‡æœ¬ä¼šè¢«è§£æå™¨å¿½ç•¥ã€‚**å› æ­¤å¯¹æŸäº›ä¸å¸Œæœ›è¢«è§£æçš„æ–‡æœ¬æ—¶ï¼Œéœ€è¦ç”¨CDATAåµŒå¥—èµ·æ¥ã€‚å¯¹äºCDATAåŒºåŸŸå†…çš„å†…å®¹ï¼ŒXMLè§£æç¨‹åºä¸ä¼šå¤„ç†ï¼Œè€Œæ˜¯ç›´æ¥åŸå°ä¸åŠ¨çš„è¾“å‡º æœ¯è¯­ CDATA æŒ‡çš„æ˜¯ä¸åº”ç”± XML è§£æå™¨è¿›è¡Œè§£æçš„æ–‡æœ¬æ•°æ®ï¼ˆUnparsed Character Dataï¼‰ã€‚ CDATA éƒ¨åˆ†ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«è§£æå™¨å¿½ç•¥ã€‚ CDATA éƒ¨åˆ†ç”±&quot;&lt;![CDATA[&quot; å¼€å§‹ï¼Œç”±&quot;]]&gt;&quot;ç»“æŸï¼š åœ¨ XML å…ƒç´ ä¸­ï¼Œ&quot;&lt;&quot; å’Œ â€œ&amp;â€ æ˜¯éæ³•çš„ã€‚ â€œ&lt;â€ ä¼šäº§ç”Ÿé”™è¯¯ï¼Œå› ä¸ºè§£æå™¨ä¼šæŠŠè¯¥å­—ç¬¦è§£é‡Šä¸ºæ–°å…ƒç´ çš„å¼€å§‹ã€‚ â€œ&amp;â€ ä¹Ÿä¼šäº§ç”Ÿé”™è¯¯ï¼Œå› ä¸ºè§£æå™¨ä¼šæŠŠè¯¥å­—ç¬¦è§£é‡Šä¸ºå­—ç¬¦å®ä½“çš„å¼€å§‹ã€‚ æŸäº›æ–‡æœ¬ï¼Œæ¯”å¦‚ JavaScript ä»£ç ï¼ŒåŒ…å«å¤§é‡ â€œ&lt;â€ æˆ– â€œ&amp;â€ å­—ç¬¦ã€‚ä¸ºäº†é¿å…é”™è¯¯ï¼Œå¯ä»¥å°†è„šæœ¬ä»£ç å®šä¹‰ä¸º CDATAã€‚ 123456789101112131415&lt;script&gt;&lt;![CDATA[function matchwo(a,b)&#123;if (a &lt; b &amp;&amp; a &lt; 0) then &#123; return 1; &#125;else &#123; return 0; &#125;&#125;]]&gt;&lt;/script&gt; XML DOM DOM æŠŠ XML æ–‡æ¡£è§†ä¸ºä¸€ç§æ ‘ç»“æ„ã€‚é€šè¿‡è¿™ä¸ª DOM æ ‘ï¼Œå¯ä»¥è®¿é—®æ‰€æœ‰çš„å…ƒç´ ã€‚å¯ä»¥ä¿®æ”¹å®ƒä»¬çš„å†…å®¹ï¼ˆæ–‡æœ¬ä»¥åŠå±æ€§ï¼‰ï¼Œè€Œä¸”å¯ä»¥åˆ›å»ºæ–°çš„å…ƒç´ ã€‚å…ƒç´ ï¼Œä»¥åŠå®ƒä»¬çš„æ–‡æœ¬å’Œå±æ€§ï¼Œå‡è¢«è§†ä¸ºèŠ‚ç‚¹ã€‚ xmlnsã€xmlns:xsiå’Œxsi:schemaLocation POM æ–‡ä»¶å¤´ç¤ºä¾‹ 123&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt; åˆå­¦è€…çœ‹åˆ°å¦‚ä¸Šçš„å†…å®¹åº”å½“æœ‰å¦‚ä¸‹å›°æƒ‘ç‚¹ï¼š xmlns:xsi , xmlns, xsi:schmeLocation è¿™äº›çœ‹ä¸Šå»ç›¸è¿‘çš„å±æ€§æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Œ ä¸ºä»€ä¹ˆä»–ä»¬çš„å€¼æ˜¯ä¸ä¸€æ ·çš„ URL è¿™äº› URL æ˜¯å¦å¯¹åº”ä¸€äº›å¯ä»¥è®¿é—®çš„èµ„æºï¼Œå¯¹äºè¯¥æ–‡ä»¶çš„è§£ææ˜¯å¦ä¼šéœ€è¦ä¸‹è½½è¿™äº› URL å¯¹åº”çš„èµ„æº xmlns:xsiæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ æŒ‰å‘½åç©ºé—´çš„æ¦‚å¿µæ¥è¯´ï¼Œxmlns:xsiå°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªå‘½åç©ºé—´å‰ç¼€ xsi ï¼Œå…¶å¯¹åº”çš„å”¯ä¸€å­—ç¬¦ä¸²ä¸º http://www.w3.org/2001/XMLSchema-instanceã€‚ ä½†æ˜¯è¯»è€…ä¼šå‘ç°ï¼Œ è¿™ä¸ª xmlns:xsi åœ¨ä¸åŒçš„ xml æ–‡æ¡£ä¸­ä¼¼ä¹éƒ½ä¼šå‡ºç°ã€‚ è¿™æ˜¯å› ä¸ºï¼Œ xsi å·²ç»æˆä¸ºäº†ä¸€ä¸ªä¸šç•Œé»˜è®¤çš„ç”¨äº XSD(ï¼ˆXML Schema Definition) æ–‡ä»¶çš„å‘½åç©ºé—´ã€‚ è€Œ XSD æ–‡ä»¶ï¼ˆä¹Ÿå¸¸å¸¸ç§°ä¸º Schema æ–‡ä»¶ï¼‰æ˜¯ç”¨æ¥å®šä¹‰ xml æ–‡æ¡£ç»“æ„çš„ã€‚ æ³¨è§£ï¼š XML è§£æå™¨å¯ä»¥æ ¹æ® ä¸€ä¸ª XSD æ–‡ä»¶çš„å†…å®¹æ¥è§£æå¦ä¸€ä¸ª XML æ–‡ä»¶ï¼Œ åˆ¤æ–­è¯¥æ–‡ä»¶çš„ç»“æ„æ˜¯å¦å’Œ XSD æ–‡ä»¶ä¸­å®šä¹‰çš„ä¸€è‡´ã€‚ XSD æ–‡ä»¶ å¯ä»¥ç†è§£ä¸º XML æ–‡æ¡£å¯ä»¥è‡ªå®šä¹‰çš„è¯­æ³•æˆ–æ ¼å¼æ£€æŸ¥å™¨ã€‚ xsi:schemaLocationæœ‰ä½•ä½œç”¨ï¼Ÿ xsi:schemaLocationå…¶å®æ˜¯Namespaceä¸ºhttp://www.w3.org/2001/XMLSchema-instanceé‡Œçš„schemaLocationå±æ€§ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€å¼€å§‹å£°æ˜äº†xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;ï¼Œç„¶åå†çœ‹xsi:schemaLocationçš„ä½¿ç”¨ï¼šxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;,ä¸Šé¢è¿™è¡Œçš„è¯­æ³•å…¶å®æ˜¯xsi:schemaLocation = &quot;é”®&quot; &quot;å€¼&quot; å³ xsi å‘½åç©ºé—´ä¸‹ schemaLocation å…ƒç´ çš„å€¼ä¸ºä¸€ä¸ªç”±ç©ºæ ¼åˆ†å¼€çš„é”®å€¼å¯¹ã€‚ è¿™é‡Œçš„xsi:schemaLocationï¼ˆå½“ç„¶ä¸€èˆ¬éƒ½ä½¿ç”¨è¿™ä¸ªå‰ç¼€ï¼‰ã€‚å®ƒå®šä¹‰äº†XML Namespaceå’Œå¯¹åº”çš„XSDï¼ˆXml Schema Definitionï¼‰æ–‡æ¡£çš„ä½ç½®çš„å…³ç³»ï¼Œä»–ä»¬æ€»æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œé€šå¸¸ä¸ºä¸¤ä¸ªURIå¼•ç”¨å¯¹ç»„æˆï¼Œä¸¤ä¸ªURIä¹‹é—´ä»¥ç©ºç™½ç¬¦åˆ†éš”ï¼ˆç©ºæ ¼å’Œæ¢è¡Œå‡å¯ï¼‰ã€‚ å‰ä¸€ä¸ªâ€œé”®â€ http://maven.apache.org/POM/4.0.0 æŒ‡ä»£ ã€å‘½åç©ºé—´ã€‘ï¼Œ åªæ˜¯ä¸€ä¸ªå…¨å±€å”¯ä¸€å­—ç¬¦ä¸²è€Œå·² åä¸€ä¸ªå€¼æŒ‡ä»£ ã€XSD location URIã€‘ , è¿™ä¸ªå€¼æŒ‡ç¤ºäº†å‰ä¸€ä¸ªå‘½åç©ºé—´æ‰€å¯¹åº”çš„ XSD æ–‡ä»¶çš„ä½ç½®ï¼Œ XML Schema Parserå¤„ç†å™¨å¯ä»¥åˆ©ç”¨è¿™ä¸ªä¿¡æ¯è·å–åˆ° XSD æ–‡ä»¶ï¼Œ ä»è€Œé€šè¿‡ XSD æ–‡ä»¶å¯¹æ‰€æœ‰å±äº å‘½åç©ºé—´ http://maven.apache.org/POM/4.0.0 çš„å…ƒç´ ç»“æ„è¿›è¡Œæ ¡éªŒï¼Œ å› æ­¤è¿™ä¸ªå€¼å¿…ç„¶æ˜¯å¯ä»¥è®¿é—®çš„ï¼Œ ä¸”è®¿é—®åˆ°çš„å†…å®¹æ˜¯ä¸€ä¸ª XSD æ–‡ä»¶çš„å†…å®¹ ç°åœ¨æ¦‚å¿µæ‡‚äº†ï¼Œæ¥çœ‹ä¸ªspringçš„xmlä¾‹å­æŠŠ å‚è€ƒï¼š æˆ‘æ¥è¯´è¯´XMLæ–‡ä»¶ä¸­çš„xmlnsã€xmlns:xsiå’Œxsi:schemaLocationã€dtdæ–‡ä»¶çš„å…·ä½“å«ä¹‰ è¯¦è§£ xml æ–‡ä»¶å¤´éƒ¨çš„ xmlns:xsi","categories":[],"tags":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://nymrli.top/tags/å­¦ä¹ ç¬”è®°/"}]},{"title":"Makefileä½¿ç”¨è®°å½•","slug":"makefileä½¿ç”¨è®°å½•","date":"2021-09-30T04:16:04.000Z","updated":"2021-10-26T12:44:31.686Z","comments":true,"path":"2021/09/30/makefileä½¿ç”¨è®°å½•/","link":"","permalink":"https://nymrli.top/2021/09/30/makefileä½¿ç”¨è®°å½•/","excerpt":"","text":"Makefileä½¿ç”¨è®°å½• Makefile æ–‡ä»¶æè¿°äº† Linux ç³»ç»Ÿä¸‹ C/C++ å·¥ç¨‹çš„ç¼–è¯‘è§„åˆ™ï¼Œå®ƒç”¨æ¥è‡ªåŠ¨åŒ–ç¼–è¯‘ C/C++ é¡¹ç›®ã€‚ä¸€æ—¦å†™ç¼–å†™å¥½ Makefile æ–‡ä»¶ï¼Œåªéœ€è¦ä¸€ä¸ª make å‘½ä»¤ï¼Œæ•´ä¸ªå·¥ç¨‹å°±å¼€å§‹è‡ªåŠ¨ç¼–è¯‘ï¼Œä¸å†éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ GCC å‘½ä»¤ã€‚===&gt;æ­¤å¤–æ‹“å±•åŠŸèƒ½ä¸è‡³äºC++ï¼Œå…¶ç›¸å½“äºç»„åˆä¸€ç³»åˆ—Linuxå‘½ä»¤ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ç”¨æ¥ç¼–è¯‘å…¶ä»–å·¥ç¨‹ã€‚ ä»€ä¹ˆæ˜¯Makefileï¼Ÿ Windows ä¸‹çš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰å·²ç»å†…ç½®äº† Makefileï¼Œæˆ–è€…è¯´ä¼šè‡ªåŠ¨ç”Ÿæˆ Makefileï¼Œå› æ­¤windowsä¸‹ä¸ç”¨å»æ‰‹åŠ¨ç¼–å†™makefileã€‚ä½†æ˜¯åœ¨ Linux ä¸‹çš„Cè¯­è¨€å¼€å‘ä¼šç¢°åˆ° Sï¼šç¼–è¯‘çš„æ—¶å€™éœ€è¦é“¾æ¥åº“çš„çš„é—®é¢˜â€”â€”ç¼–è¯‘çš„æ—¶å€™ gcc åªä¼šé»˜è®¤é“¾æ¥ä¸€äº›åŸºæœ¬çš„Cè¯­è¨€æ ‡å‡†åº“ï¼Œå¾ˆå¤šæºæ–‡ä»¶ä¾èµ–çš„æ ‡å‡†åº“éƒ½éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é“¾æ¥ï¼Œå› ä¸ºæœ‰å¾ˆå¤šçš„æ–‡ä»¶ï¼Œè¿˜è¦å»é“¾æ¥å¾ˆå¤šçš„ç¬¬ä¸‰æ–¹åº“ã€‚æ‰€ä»¥åœ¨ç¼–è¯‘çš„æ—¶å€™å‘½ä»¤ä¼šå¾ˆé•¿ï¼Œå¹¶ä¸”åœ¨ç¼–è¯‘çš„æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šæ¶‰åŠåˆ°æ–‡ä»¶é“¾æ¥çš„é¡ºåºé—®é¢˜ï¼Œæ‰€ä»¥æ‰‹åŠ¨ç¼–è¯‘ä¼šå¾ˆéº»çƒ¦ã€‚ A:æŠŠè¦é“¾æ¥çš„åº“æ–‡ä»¶æ”¾åœ¨ Makefile ä¸­ï¼Œåˆ¶å®šç›¸åº”çš„è§„åˆ™å’Œå¯¹åº”çš„é“¾æ¥é¡ºåºã€‚è¿™æ ·åªéœ€è¦æ‰§è¡Œ make å‘½ä»¤ï¼Œå·¥ç¨‹å°±ä¼šè‡ªåŠ¨ç¼–è¯‘ã€‚æ¯æ¬¡æƒ³è¦ç¼–è¯‘å·¥ç¨‹çš„æ—¶å€™å°±æ‰§è¡Œ make ï¼Œçœç•¥æ‰æ‰‹åŠ¨ç¼–è¯‘ä¸­çš„å‚æ•°é€‰é¡¹å’Œå‘½ä»¤ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚ Sï¼šç¼–è¯‘å¤§çš„å·¥ç¨‹ä¼šèŠ±è´¹å¾ˆé•¿çš„æ—¶é—´ Makefile æ”¯æŒå¤šçº¿ç¨‹å¹¶å‘æ“ä½œï¼Œä¼šæå¤§çš„ç¼©çŸ­æˆ‘ä»¬çš„ç¼–è¯‘æ—¶é—´ï¼Œå¹¶ä¸”å½“æˆ‘ä»¬ä¿®æ”¹äº†æºæ–‡ä»¶ä¹‹åï¼Œç¼–è¯‘æ•´ä¸ªå·¥ç¨‹çš„æ—¶å€™ï¼Œmake å‘½ä»¤åªä¼šç¼–è¯‘æˆ‘ä»¬ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œæ²¡æœ‰ä¿®æ”¹çš„æ–‡ä»¶ä¸ç”¨é‡æ–°ç¼–è¯‘ï¼Œä¹Ÿæå¤§çš„è§£å†³äº†æˆ‘ä»¬è€—è´¹æ—¶é—´çš„é—®é¢˜ã€‚ ä½¿ç”¨ Makefile çš„æ–¹å¼ï¼šé¦–å…ˆéœ€è¦ç¼–å†™å¥½ Makefile æ–‡ä»¶ï¼Œç„¶ååœ¨ shell ä¸­æ‰§è¡Œ make å‘½ä»¤ï¼Œç¨‹åºå°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œå¾—åˆ°æœ€ç»ˆçš„ç›®æ ‡æ–‡ä»¶ã€‚ makefileè§„åˆ™æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ è§„åˆ™ä¸»è¦æ˜¯ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ä¾èµ–çš„å…³ç³»å’Œæ‰§è¡Œçš„å‘½ä»¤ï¼Œå…¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š 123456targets: prerequisites command# example:test: test.c&lt;tab&gt; gcc -o test test.c# ç¼–è¯‘ test.c æ–‡ä»¶: test æ˜¯çš„ç›®æ ‡æ–‡ä»¶ï¼Œä¹Ÿæ˜¯æœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ä¾èµ–æ–‡ä»¶å°±æ˜¯ test.c æºæ–‡ä»¶ï¼Œé‡å»ºç›®æ ‡æ–‡ä»¶éœ€è¦æ‰§è¡Œçš„æ“ä½œæ˜¯gcc -o test test.cã€‚è¿™å°±æ˜¯ Makefile çš„åŸºæœ¬çš„è¯­æ³•è§„åˆ™çš„ä½¿ç”¨ã€‚ targetsï¼šè§„åˆ™çš„ç›®æ ‡ï¼Œå¯ä»¥æ˜¯ Object Fileï¼ˆä¸€èˆ¬ç§°å®ƒä¸ºä¸­é—´æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼› prerequisitesï¼šæ˜¯æˆ‘ä»¬çš„ä¾èµ–æ–‡ä»¶ï¼Œè¦ç”Ÿæˆ targets éœ€è¦çš„æ–‡ä»¶æˆ–è€…æ˜¯ç›®æ ‡ã€‚å¯ä»¥æ˜¯å¤šä¸ªï¼Œä¹Ÿå¯ä»¥æ˜¯æ²¡æœ‰ï¼› commandï¼šmake éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆä»»æ„çš„ shell å‘½ä»¤ï¼‰ã€‚å¯ä»¥æœ‰å¤šæ¡å‘½ä»¤ï¼Œæ¯ä¸€æ¡å‘½ä»¤å ä¸€è¡Œã€‚ makfileæ‰§è¡Œæµç¨‹ åœ¨æˆ‘ä»¬ç¼–è¯‘é¡¹ç›®æ–‡ä»¶çš„æ—¶å€™ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œmake æ‰§è¡Œçš„æ˜¯ Makefile ä¸­çš„ç¬¬ä¸€è§„åˆ™ï¼ˆMakefile ä¸­å‡ºç°çš„ç¬¬ä¸€ä¸ªä¾èµ–å…³ç³»ï¼‰ï¼Œæ­¤è§„åˆ™çš„ç¬¬ä¸€ç›®æ ‡ç§°ä¹‹ä¸ºâ€œæœ€ç»ˆç›®æ ‡â€æˆ–è€…æ˜¯â€œç»ˆæç›®æ ‡â€ã€‚ æ¡ˆä¾‹åˆ†æï¼š 123456789main:main.o test1.o test2.o gcc main.o test1.o test2.o -o mainmain.o: main.c test.h gcc -c main.c -o main.otest1.o: test1.c test.h gcc -c test1.c -o test1.otest2.o: test2.c test.h gcc -c test2.c -o test2.o# é€šè¿‡ Makefile æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œç›®æ ‡ main\"åœ¨ Makefile ä¸­æ˜¯ç¬¬ä¸€ä¸ªç›®æ ‡ï¼Œå› æ­¤å®ƒå°±æ˜¯ make çš„ç»ˆæç›®æ ‡ å®ƒçš„å…·ä½“å·¥ä½œé¡ºåºæ˜¯ï¼šå½“åœ¨ shell æç¤ºç¬¦ä¸‹è¾“å…¥ make å‘½ä»¤ä»¥åã€‚ make è¯»å–å½“å‰ç›®å½•ä¸‹çš„ Makefile æ–‡ä»¶ï¼Œå¹¶å°† Makefile æ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªç›®æ ‡ä½œä¸ºå…¶æ‰§è¡Œçš„â€œç»ˆæç›®æ ‡â€ï¼Œå¼€å§‹å¤„ç†ç¬¬ä¸€ä¸ªè§„åˆ™ï¼ˆç»ˆæç›®æ ‡æ‰€åœ¨çš„è§„åˆ™ï¼‰ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œç¬¬ä¸€ä¸ªè§„åˆ™å°±æ˜¯ç›®æ ‡ â€œmainâ€ æ‰€åœ¨çš„è§„åˆ™ã€‚è§„åˆ™æè¿°äº† â€œmainâ€ çš„ä¾èµ–å…³ç³»ï¼Œå¹¶å®šä¹‰äº†é“¾æ¥ â€œ.oâ€ æ–‡ä»¶ç”Ÿæˆç›®æ ‡ â€œmainâ€ çš„å‘½ä»¤ï¼›make åœ¨æ‰§è¡Œè¿™ä¸ªè§„åˆ™æ‰€å®šä¹‰çš„å‘½ä»¤ä¹‹å‰ï¼Œé¦–å…ˆå¤„ç†ç›®æ ‡ â€œmainâ€ çš„æ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶ï¼ˆä¾‹å­ä¸­çš„é‚£äº› â€œ.oâ€ æ–‡ä»¶ï¼‰çš„æ›´æ–°è§„åˆ™ï¼ˆä»¥è¿™äº› â€œ.oâ€ æ–‡ä»¶ä¸ºç›®æ ‡çš„è§„åˆ™ï¼‰ã€‚ å¯¹è¿™äº› â€œ.oâ€ æ–‡ä»¶ä¸ºç›®æ ‡çš„è§„åˆ™å¤„ç†æœ‰ä¸‹åˆ—ä¸‰ç§æƒ…å†µï¼š ç›®æ ‡ â€œ.oâ€ æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨å…¶æè¿°è§„åˆ™åˆ›å»ºå®ƒï¼› ç›®æ ‡ â€œ.oâ€ æ–‡ä»¶å­˜åœ¨ï¼Œç›®æ ‡ â€œ.oâ€ æ–‡ä»¶æ‰€ä¾èµ–çš„ â€œ.câ€ æºæ–‡ä»¶å’Œ â€œ.hâ€ æ–‡ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ¯”ç›®æ ‡ â€œ.oâ€ æ–‡ä»¶**â€œæ›´æ–°â€**ï¼ˆä¾èµ–çš„.hã€.cåœ¨ä¸Šä¸€æ¬¡ make ä¹‹åè¢«ä¿®æ”¹ï¼‰ã€‚åˆ™æ ¹æ®è§„åˆ™é‡æ–°ç¼–è¯‘ç”Ÿæˆå®ƒï¼› ç›®æ ‡ â€œ.oâ€ æ–‡ä»¶å­˜åœ¨ï¼Œç›®æ ‡ â€œ.oâ€ æ–‡ä»¶æ¯”å®ƒçš„ä»»ä½•ä¸€ä¸ªä¾èµ–æ–‡ä»¶ï¼ˆ&quot;.c&quot; æºæ–‡ä»¶ã€&quot;.h&quot; æ–‡ä»¶ï¼‰â€œæ›´æ–°â€ï¼ˆå®ƒçš„ä¾èµ–æ–‡ä»¶.hã€.cåœ¨ä¸Šä¸€æ¬¡ make ä¹‹åæ²¡æœ‰è¢«ä¿®æ”¹ï¼‰ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšã€‚ é€šè¿‡ä¸Šé¢çš„æ›´æ–°è§„åˆ™æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ä¸­é—´æ–‡ä»¶çš„ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯ç¼–è¯‘æ—¶ç”Ÿæˆçš„ â€œ.oâ€ æ–‡ä»¶ã€‚ä½œç”¨æ˜¯æ£€æŸ¥æŸä¸ªæºæ–‡ä»¶æ˜¯ä¸æ˜¯è¿›è¡Œè¿‡ä¿®æ”¹ï¼Œæœ€ç»ˆç›®æ ‡æ–‡ä»¶æ˜¯ä¸æ˜¯éœ€è¦é‡å»ºã€‚æˆ‘ä»¬æ‰§è¡Œ make å‘½ä»¤æ—¶ï¼Œåªæœ‰ä¿®æ”¹è¿‡çš„æºæ–‡ä»¶æˆ–è€…æ˜¯ä¸å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶ä¼šè¿›è¡Œé‡å»ºï¼Œè€Œé‚£äº›æ²¡æœ‰æ”¹å˜çš„æ–‡ä»¶ä¸ç”¨é‡æ–°ç¼–è¯‘ï¼Œè¿™æ ·åœ¨å¾ˆå¤§ç¨‹åº¦ä¸ŠèŠ‚çœæ—¶é—´ï¼Œæé«˜ç¼–ç¨‹æ•ˆç‡ã€‚å°çš„å·¥ç¨‹é¡¹ç›®å¯èƒ½ä½“ä¼šä¸åˆ°ï¼Œé¡¹ç›®å·¥ç¨‹æ–‡ä»¶è¶Šå¤§ï¼Œæ•ˆæœæ‰è¶Šæ˜æ˜¾ã€‚ å˜é‡ å®šä¹‰å˜é‡çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼šå˜é‡çš„åç§°=å€¼åˆ—è¡¨ è°ƒç”¨å˜é‡çš„æ—¶å€™å¯ä»¥ç”¨ &quot;$(VALUE_LIST)&quot;æˆ–è€…æ˜¯&quot;${VALUE_LIST}&quot;æ¥æ›¿æ¢ï¼Œè¿™å°±æ˜¯å˜é‡çš„å¼•ç”¨ã€‚ çŸ¥é“äº†å¦‚ä½•å®šä¹‰ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ Makefile çš„å˜é‡çš„å››ç§åŸºæœ¬èµ‹å€¼æ–¹å¼ï¼š ç®€å•èµ‹å€¼ ( := ) ç¼–ç¨‹è¯­è¨€ä¸­å¸¸è§„ç†è§£çš„èµ‹å€¼æ–¹å¼ï¼Œåªå¯¹å½“å‰è¯­å¥çš„å˜é‡æœ‰æ•ˆã€‚ é€’å½’èµ‹å€¼ ( = ) èµ‹å€¼è¯­å¥å¯èƒ½å½±å“å¤šä¸ªå˜é‡ï¼Œæ‰€æœ‰ç›®æ ‡å˜é‡ç›¸å…³çš„å…¶ä»–å˜é‡éƒ½å—å½±å“ã€‚ æ¡ä»¶èµ‹å€¼ ( ?= ) å¦‚æœå˜é‡æœªå®šä¹‰ï¼Œåˆ™ä½¿ç”¨ç¬¦å·ä¸­çš„å€¼å®šä¹‰å˜é‡ã€‚å¦‚æœè¯¥å˜é‡å·²ç»èµ‹å€¼ï¼Œåˆ™è¯¥èµ‹å€¼è¯­å¥æ— æ•ˆã€‚ è¿½åŠ èµ‹å€¼ ( += ) åŸå˜é‡ç”¨ç©ºæ ¼éš”å¼€çš„æ–¹å¼è¿½åŠ ä¸€ä¸ªæ–°å€¼ã€‚ æ¡ä»¶åˆ¤æ–­ ifeq å’Œ ifneq 12345ifeq (ARG1, ARG2)ifeq &apos;ARG1&apos; &apos;ARG2&apos;ifeq &quot;ARG1&quot; &quot;ARG2&quot;ifeq &quot;ARG1&quot; &apos;ARG2&apos;ifeq &apos;ARG1&apos; &quot;ARG2&quot; ifdef å’Œ ifndef 1ifdef VARIABLE-NAME ä¼ªç›®æ ‡ å¹¶ä¸ä¼šåˆ›å»ºç›®æ ‡æ–‡ä»¶ï¼Œåªæ˜¯æƒ³å»æ‰§è¡Œè¿™ä¸ªç›®æ ‡ä¸‹é¢çš„å‘½ä»¤ã€‚ ä¼ªç›®æ ‡çš„å­˜åœ¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°å‘½ä»¤å¹¶æ‰§è¡Œã€‚ ä½¿ç”¨ä¼ªç›®æ ‡æœ‰ä¸¤ç‚¹åŸå› ï¼š é¿å…æˆ‘ä»¬çš„ Makefile ä¸­å®šä¹‰çš„åªæ‰§è¡Œçš„å‘½ä»¤çš„ç›®æ ‡å’Œå·¥ä½œç›®å½•ä¸‹çš„å®é™…æ–‡ä»¶å‡ºç°åå­—å†²çªã€‚ æé«˜æ‰§è¡Œ make æ—¶çš„æ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¸€ä¸ªå¤§å‹çš„å·¥ç¨‹æ¥è¯´ï¼Œæé«˜ç¼–è¯‘çš„æ•ˆç‡ä¹Ÿæ˜¯æˆ‘ä»¬æ‰€å¿…éœ€çš„ã€‚ 12clean: rm -rf *.o test è§„åˆ™ä¸­ rm å‘½ä»¤ä¸æ˜¯åˆ›å»ºæ–‡ä»¶ clean çš„å‘½ä»¤ï¼Œè€Œæ˜¯æ‰§è¡Œåˆ é™¤ä»»åŠ¡ï¼Œåˆ é™¤å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰çš„ .o ç»“å°¾å’Œæ–‡ä»¶åä¸º test çš„æ–‡ä»¶ã€‚ å½“å·¥ä½œç›®å½•ä¸‹ä¸å­˜åœ¨ä»¥ clean å‘½ä»¤çš„æ–‡ä»¶æ—¶ï¼Œåœ¨ shell ä¸­è¾“å…¥ make clean å‘½ä»¤ï¼Œå‘½ä»¤ rm -rf *.o test æ€»ä¼šè¢«æ‰§è¡Œ ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æœã€‚ å¦‚æœå½“å‰ç›®å½•ä¸‹å­˜åœ¨æ–‡ä»¶åä¸º clean çš„æ–‡ä»¶æ—¶æƒ…å†µå°±ä¼šä¸ä¸€æ ·äº†ï¼Œå½“æˆ‘ä»¬åœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ make cleanï¼Œç”±äºè¿™ä¸ªè§„åˆ™æ²¡æœ‰ä¾èµ–æ–‡ä»¶ï¼Œæ‰€ä»¥ç›®æ ‡è¢«è®¤ä¸ºæ˜¯æœ€æ–°çš„è€Œä¸å»æ‰§è¡Œè§„åˆ™æ‰€å®šä¹‰çš„å‘½ä»¤ã€‚å› æ­¤å‘½ä»¤ rm å°†ä¸ä¼šè¢«æ‰§è¡Œã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆ é™¤ clean æ–‡ä»¶æˆ–è€…æ˜¯åœ¨ Makefile ä¸­å°†ç›®æ ‡ clean å£°æ˜ä¸ºä¼ªç›®æ ‡ã€‚å°†ä¸€ä¸ªç›®æ ‡å£°æ˜ç§°ä¼ªç›®æ ‡çš„æ–¹æ³•æ˜¯å°†å®ƒä½œä¸ºç‰¹æ®Šçš„ç›®æ ‡.PHONYçš„ä¾èµ–ï¼Œå¦‚ä¸‹ï¼š .PHONY:clean è¿™æ · clean å°±è¢«å£°æ˜æˆä¸€ä¸ªä¼ªç›®æ ‡ï¼Œæ— è®ºå½“å‰ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨ clean è¿™ä¸ªæ–‡ä»¶ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ make clean å rm éƒ½ä¼šè¢«æ‰§è¡Œã€‚è€Œä¸”å½“ä¸€ä¸ªç›®æ ‡è¢«å£°æ˜ä¸ºä¼ªç›®æ ‡ä¹‹åï¼Œmake åœ¨æ‰§è¡Œæ­¤è§„åˆ™æ—¶ä¸ä¼šå»è¯•å›¾å»æŸ¥æ‰¾éšå«çš„å…³ç³»å»åˆ›å»ºå®ƒã€‚è¿™æ ·åŒæ ·æé«˜äº† make çš„æ‰§è¡Œæ•ˆç‡ï¼ŒåŒæ—¶ä¹Ÿä¸ç”¨æ‹…å¿ƒç›®æ ‡å’Œæ–‡ä»¶åé‡åè€Œä½¿æˆ‘ä»¬çš„ç¼–è¯‘å¤±è´¥ã€‚ ä¼ªç›®æ ‡å®ç°å¤šæ–‡ä»¶ç¼–è¾‘ å¦‚æœåœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œæƒ³è¦åŒæ—¶ç”Ÿæˆå¤šä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¼ªç›®æ ‡æ¥å®ç°ã€‚ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š 1.PHONY:allall:test1 test2 test3test1:test1.o gcc -o $@ $^test2:test2.o gcc -o $@ $^test3:test3.o gcc -o $@ $^ æˆ‘ä»¬åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºäº†ä¸‰ä¸ªæºæ–‡ä»¶ï¼Œç›®çš„æ˜¯æŠŠè¿™ä¸‰ä¸ªæºæ–‡ä»¶ç¼–è¯‘æˆä¸ºä¸‰ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚å°†é‡å»ºçš„è§„åˆ™æ”¾åˆ° Makefile ä¸­ï¼Œçº¦å®šä½¿ç”¨ â€œallâ€ çš„ä¼ªç›®æ ‡æ¥ä½œä¸ºæœ€ç»ˆç›®æ ‡ï¼Œå®ƒçš„ä¾èµ–æ–‡ä»¶å°±æ˜¯è¦ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚è¿™æ ·çš„è¯åªéœ€è¦ä¸€ä¸ª make å‘½ä»¤ï¼Œå°±ä¼šåŒæ—¶ç”Ÿæˆä¸‰ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚ ä¹‹æ‰€ä»¥è¿™æ ·å†™ï¼Œæ˜¯å› ä¸ºä¼ªç›®æ ‡çš„ç‰¹æ€§ï¼Œå®ƒæ€»ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥å®ƒä¾èµ–çš„ä¸‰ä¸ªæ–‡ä»¶çš„ç›®æ ‡å°±ä¸å¦‚ â€œallâ€ è¿™ä¸ªç›®æ ‡æ–°ï¼Œæ‰€ä»¥ï¼Œå…¶ä»–çš„ä¸‰ä¸ªç›®æ ‡çš„è§„åˆ™æ€»æ˜¯è¢«æ‰§è¡Œï¼Œè¿™ä¹Ÿå°±è¾¾åˆ°äº†æˆ‘ä»¬ä¸€å£æ°”ç”Ÿæˆå¤šä¸ªç›®æ ‡çš„ç›®çš„ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å®ç°å•ç‹¬çš„ç¼–è¯‘è¿™ä¸‰ä¸ªä¸­çš„ä»»æ„ä¸€ä¸ªæºæ–‡ä»¶ï¼ˆæˆ‘ä»¬æƒ³å»é‡å»º test1ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œå‘½ä»¤make test1 æ¥å®ç° ï¼‰ã€‚ -lå‚æ•°å’Œ-Lå‚æ•° **-l**å‚æ•°å°±æ˜¯ç”¨æ¥æŒ‡å®šç¨‹åºè¦é“¾æ¥çš„åº“ï¼Œ-lå‚æ•°ç´§æ¥ç€å°±æ˜¯åº“å(-l&lt;packageName&gt;)ï¼Œé‚£ä¹ˆåº“åè·ŸçœŸæ­£çš„åº“æ–‡ ä»¶åæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼ŸA: å°±æ‹¿æ•°å­¦åº“æ¥è¯´ï¼Œä»–çš„åº“åæ˜¯mï¼Œä»–çš„åº“æ–‡ä»¶åæ˜¯libm.soï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºï¼ŒæŠŠåº“æ–‡ä»¶åçš„ å¤´libå’Œå°¾.soå»æ‰å°±æ˜¯åº“åäº†ã€‚ å¥½äº†ç°åœ¨æˆ‘ä»¬çŸ¥é“æ€ä¹ˆå¾—åˆ°åº“åäº†ï¼Œæ¯”å¦‚æˆ‘ä»¬è‡ªå·²è¦ç”¨åˆ°ä¸€ä¸ªç¬¬ä¸‰æ–¹æä¾›çš„åº“åå­—å«libtest.soï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦â‘ æŠŠ libtest.soæ‹·è´åˆ°/usr/lib é‡Œï¼Œâ‘¡ç¼–è¯‘æ—¶åŠ ä¸Š-ltestå‚æ•°ï¼Œæˆ‘ä»¬å°±èƒ½ç”¨ä¸Šlibtest.soåº“äº†ï¼ˆå½“ç„¶è¦ç”¨libtest.soåº“é‡Œçš„å‡½æ•°ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸libtest.soé…å¥—çš„å¤´æ–‡ä»¶ï¼‰ã€‚ æ³¨ï¼šæ”¾åœ¨ /lib å’Œ /usr/lib å’Œ /usr/local/lib é‡Œçš„åº“ç›´æ¥ç”¨-lå‚æ•°å°±èƒ½é“¾æ¥äº†ï¼Œä½†å¦‚æœåº“æ–‡ä»¶å¦‚æœæ²¡æœ‰æ”¾åœ¨è¿™ä¸‰ä¸ªç›®å½•é‡Œï¼Œè€Œæ˜¯æ”¾åœ¨å…¶ä»–ç›®å½•é‡Œï¼Œè¿™æ—¶æˆ‘ä»¬åªç”¨-lå‚æ•°çš„è¯ï¼Œé“¾æ¥è¿˜æ˜¯ä¼šå‡ºé”™ï¼Œå‡ºé”™ä¿¡æ¯å¤§æ¦‚æ˜¯ï¼šâ€œ/usr/bin/ld: cannot find -lxxxâ€ï¼Œä¹Ÿå°±æ˜¯æé†’å¼€å‘äººå‘˜ï¼šé“¾æ¥ç¨‹åºldåœ¨é‚£3ä¸ªç›®å½•é‡Œæ‰¾ä¸åˆ°libxxx.soã€‚ è¿™æ—¶å¦å¤–ä¸€ä¸ªå‚æ•°**-L**å°±æ´¾ä¸Šç”¨åœºäº†ï¼Œæ¯”å¦‚å¸¸ç”¨çš„X11çš„åº“ï¼Œå®ƒæ”¾åœ¨/usr/X11R 6/libç›®å½•ä¸‹ï¼Œæˆ‘ä»¬ç¼–è¯‘æ—¶å°±è¦ç”¨-L/usr/X11R6/lib - lX11å‚æ•°ï¼Œ-Lå‚æ•°è·Ÿç€çš„æ˜¯åº“æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•å(-L &lt;packagePath&gt;)ã€‚æ¯”å¦‚æˆ‘ä»¬æŠŠlibtest.soåœ¨/aaa/bb b/cccç›®å½•ä¸‹ï¼Œé‚£é“¾æ¥å‚æ•°å°±æ˜¯-L /aaa/bbb/ccc -ltestï¼Œ æ³¨æ„éœ€è¦åŠ ä¸Š-ltestï¼ˆRFIDå·¥ç¨‹ä»£ç ä¸­çš„makefileå°±æ˜¯å› ä¸ºæ²¡æœ‰åŠ ä¸Šè¿™ä¸ªå¯¼è‡´çš„ï¼‰ é™„å½• é€šç”¨èŒƒå¼ æ¸…é™¤å·¥ä½œç›®å½•ä¸­çš„è¿‡ç¨‹æ–‡ä»¶ æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ä¼šäº§ç”Ÿä¸­é—´æ–‡ä»¶ä¼šè®©æ•´ä¸ªæ–‡ä»¶çœ‹èµ·æ¥å¾ˆä¹±ï¼Œæ‰€ä»¥åœ¨ç¼–å†™ Makefile æ–‡ä»¶çš„æ—¶å€™ä¼šåœ¨æœ«å°¾åŠ ä¸Šè¿™æ ·çš„è§„åˆ™è¯­å¥æ¥æ¸…é™¤å·¥ä½œç›®å½•ä¸­çš„è¿‡ç¨‹æ–‡ä»¶ï¼š 1234.PHONY:cleanclean: rm -rf *.o test# å…¶ä¸­ \"*.o\" æ˜¯æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸­é—´æ–‡ä»¶ï¼Œ\"test\" æ˜¯æœ€ç»ˆç”Ÿæˆçš„æ‰§è¡Œæ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ° clean æ˜¯ç‹¬ç«‹çš„ï¼Œå®ƒåªæ˜¯ä¸€ä¸ª*ä¼ªç›®æ ‡*ï¼Œä¸æ˜¯å…·ä½“çš„æ–‡ä»¶ã€‚ä¸ä¼šä¸ç¬¬ä¸€ä¸ªç›®æ ‡æ–‡ä»¶ç›¸å…³è”ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ‰§è¡Œ make çš„æ—¶å€™ä¹Ÿä¸ä¼šæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚åœ¨shell ä¸­æ‰§è¡Œ \"make clean\" å‘½ä»¤ï¼Œç¼–è¯‘æ—¶çš„ä¸­é—´æ–‡ä»¶å’Œç”Ÿæˆçš„æœ€ç»ˆç›®æ ‡æ–‡ä»¶éƒ½ä¼šè¢«æ¸…é™¤ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä¸‹æ¬¡çš„ä½¿ç”¨ã€‚ å®Œæ•´èŒƒå¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152OBJS = base64.o faceSearch.o camera.o CRC.o cQueue.o myQueue.o myUart.o info.o mcuio.o global.o print.o myMQTT.o rfid.o serialscreen.o sscreenupdate.o hmiFSM.o main.oINCLUDES = -I ./include/ # æŒ‡å®šå¤´æ–‡ä»¶CC = arm-linux-gcc # æŒ‡å®šgccç¼–è¯‘æœŸCXX = arm-linux-g++ # æŒ‡å®šg++ç¼–è¯‘æœŸCFLAGS = -g -Wall -c $(INCLUDES) # æŒ‡å®šCç¼–è¯‘å‚æ•°LIBS = -L ./lib -L./org.eclipse.mosquitto/lib -L /usr/local/arm/4.4.3/arm-none-linux-gnueabi/sys-root/lib/ #arm-linux-gcc test.c -I./org.eclipse.mosquitto/lib/ -L./org.eclipse.mosquitto/lib -lmosquitto -lpthread -lrtmes:clean $(OBJS) $(CXX) -o mes $(OBJS) $(LIBS) -lpthread -lsqlite3 -lrt -lmosquitto -lcjson -lstdc++ -lcurlmain.o : main.c $(CC) $(CFLAGS) main.c hmiFSM.o : hmiFSM.c $(CXX) $(CFLAGS) hmiFSM.c serialscreen.o : serialscreen.c $(CC) $(CFLAGS) serialscreen.c sscreenupdate.o : $(CC) $(CFLAGS) sscreenupdate.crfid.o : rfid.c $(CC) $(CFLAGS) rfid.c myMQTT.o : myMQTT.c $(CC) $(CFLAGS) myMQTT.c myQueue.o : myQueue.c $(CC) $(CFLAGS) myQueue.c cQueue.o : cQueue.c $(CC) $(CFLAGS) cQueue.c myUart.o : myUart.c $(CC) $(CFLAGS) myUart.cmyUart485.o : myUart485.c $(CC) $(CFLAGS) myUart485.cCRC.o : CRC.c $(CC) $(CFLAGS) CRC.cinfo.o : info.c $(CC) $(CFLAGS) info.cmcuio.o : mcuio.c $(CC) $(CFLAGS) mcuio.cglobal.o : global.c $(CC) $(CFLAGS) global.cprint.o : print.c $(CC) $(CFLAGS) print.cfaceSearch.o : faceSearch.cpp $(CXX) $(CFLAGS) -c faceSearch.cpp -o faceSearch.obase64.o : base64.c $(CC) $(CFLAGS) -c base64.c -o base64.omonitor: $(CC) $(CFLAGS) smartlibdaemon.c -o monitor1 clean : rm $(OBJS) mes monitor -rfupdate: scp ./smartlib root@10.82.80.234:/var/www/smartlibrary-update/ Gcc CFLAGs -I: (include)åŒ…å«.hå¤´æ–‡ä»¶ -oï¼š(output) æŒ‡å®šè¾“å‡ºæ–‡ä»¶å gcc -o app test.cå°†ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºexe -c: (compile) åªç¼–è¯‘ä¸é“¾æ¥ï¼šäº§ç”Ÿ.oæ–‡ä»¶ï¼Œå°±æ˜¯objæ–‡ä»¶ï¼Œä¸äº§ç”Ÿæ‰§è¡Œæ–‡ä»¶ gcc -c test.cå°†ç”Ÿæˆtest.oçš„ç›®æ ‡æ–‡ä»¶ â–².gcc -c a.c -o a.oè¡¨ç¤ºæŠŠæºæ–‡ä»¶a.cç¼–è¯‘æˆæŒ‡å®šæ–‡ä»¶åa.oçš„ä¸­é—´ç›®æ ‡æ–‡ä»¶(å…¶å®åœ¨è¿™é‡Œï¼ŒæŠŠ-o a.oçœæ‰ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºä¸­é—´æ–‡ä»¶é»˜è®¤ä¸æºæ–‡ä»¶åŒåï¼Œåªæ˜¯åç¼€å˜åŒ–)ã€‚ å¦‚æœGCCä¸å¸¦-Cå‚æ•°ï¼Œç¼–è¯‘ä¸€ä¸ªæºä»£ç æ–‡ä»¶ï¼ˆtest.c)ã€‚é‚£ä¹ˆä¼šè‡ªåŠ¨å°†ç¼–è¯‘å’Œé“¾æ¥ä¸€æ­¥å®Œæˆï¼Œå¹¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚å¯æ‰§è¡Œæ–‡ä»¶å¯ä»¥æœ‰-oå‚æ•°æŒ‡å®šï¼ˆtest.o) å¦‚æœæ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œåˆ™éœ€è¦å…ˆç¼–è¯‘æˆä¸­é—´ç›®æ ‡æ–‡ä»¶(ä¸€èˆ¬æ˜¯.oæ–‡ä»¶ï¼‰ï¼Œåœ¨é“¾æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸€èˆ¬ä¹ æƒ¯ç›®æ ‡æ–‡ä»¶éƒ½æ˜¯ä»¥.oåç¼€ï¼Œä¹Ÿæ²¡æœ‰ç¡¬æ€§è§„å®šå¯æ‰§è¡Œæ–‡ä»¶ä¸èƒ½ç”¨.oæ–‡ä»¶ã€‚ åµŒå…¥å¼ç¼–ç¨‹ï¼š å…¨å±€å˜é‡ å¦‚æœæ˜¯mainä¸­å£°æ˜çš„å…¨å±€å˜é‡ï¼Œå·¥ç¨‹ä¸­çš„å…¶ä»–æ–‡ä»¶éƒ½ä¸éœ€è¦å¼•å…¥&quot;main.c&quot; or &quot;main.h&quot;å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ å¦‚æœä¸æ˜¯ï¼Œåˆ™æœ€å¥½çš„æ–¹å¼è¿˜æ˜¯ç”¨ä¸€ä¸ªæºæ–‡ä»¶é‡Œï¼ˆå¦‚global.cï¼‰å£°æ˜å…¨å±€å˜é‡ï¼Œå…¶ä»–cppè‹¥ä½¿ç”¨æŸä¸ªå…¨å±€å˜é‡ï¼Œåœ¨ç›¸åº”çš„å¤´æ–‡ä»¶ä¸­åŒ…å«è¯¥å¤´æ–‡ä»¶(global.h)å³å¯ã€‚ Q: ä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨global.hå¤´æ–‡ä»¶é‡Œå®šä¹‰å…¨å±€å˜é‡ï¼Ÿ A: ç”±äºå…¨å±€å˜é‡çš„å®šä¹‰æœ‰ä¸”åªèƒ½æœ‰ä¸€æ¬¡ï¼Œå¦‚æœæ˜¯åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰äº†ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´é‡å¤å®šä¹‰ã€‚===&gt;å› æ­¤å¤´æ–‡ä»¶åªèƒ½ç”¨æ¥å£°æ˜ï¼Œä¸èƒ½ç”¨æ¥å®šä¹‰ã€‚ å£°æ˜ä¸å®šä¹‰ å‡½æ•°æˆ–å˜é‡åœ¨å£°æ˜æ—¶ï¼Œå¹¶æ²¡æœ‰ç»™å®ƒå®é™…çš„ç‰©ç†å†…å­˜ç©ºé—´ï¼Œå®ƒæœ‰æ—¶å€™å¯ä¿è¯ä½ çš„ç¨‹åºç¼–è¯‘é€šè¿‡ï¼› å‡½æ•°æˆ–å˜é‡åœ¨å®šä¹‰æ—¶ï¼Œå®ƒå°±åœ¨å†…å­˜ä¸­æœ‰äº†å®é™…çš„ç‰©ç†ç©ºé—´ã€‚ å¦‚æœä½ åœ¨ç¼–è¯‘å•å…ƒä¸­å¼•ç”¨çš„å¤–éƒ¨å˜é‡æ²¡æœ‰åœ¨æ•´ä¸ªå·¥ç¨‹ä¸­ä»»ä½•ä¸€ä¸ªåœ°æ–¹å®šä¹‰çš„è¯ï¼Œé‚£ä¹ˆå³ä½¿å®ƒåœ¨ç¼–è¯‘æ—¶å¯ä»¥é€šè¿‡ï¼Œåœ¨è¿æ¥æ—¶ä¹Ÿä¼šæŠ¥é”™ï¼Œå› ä¸ºç¨‹åºåœ¨å†…å­˜ä¸­æ‰¾ä¸åˆ°è¿™ä¸ªå˜é‡ã€‚ å‡½æ•°æˆ–å˜é‡å¯ä»¥å£°æ˜å¤šæ¬¡ï¼Œä½†å®šä¹‰æœ‰ä¸”åªèƒ½æœ‰ä¸€æ¬¡ã€‚ sprintf Cå‡½æ•°ï¼šå°†æ ¼å¼åŒ–çš„æ•°æ®å†™å…¥å­—ç¬¦ä¸²ï¼Œ åŸå‹ä¸ºï¼š`int sprintf(char *dest_str, char * format [, argument, â€¦]); 123456// sprintf()æœ€å¸¸è§çš„åº”ç”¨ä¹‹ä¸€è«è¿‡äºæŠŠæ•´æ•°æ‰“å°åˆ°å­—ç¬¦ä¸²ä¸­ï¼Œå¦‚ï¼šsprintf(s, \"%d\", 123); //æŠŠæ•´æ•°123æ‰“å°æˆä¸€ä¸ªå­—ç¬¦ä¸²ä¿å­˜åœ¨sä¸­sprintf(s, \"%8x\", 4567); //å°å†™16è¿›åˆ¶ï¼Œå®½åº¦å 8ä¸ªä½ç½®ï¼Œå³å¯¹é½// æ‹“å±•demosprintf(mr-&gt;taskId, \"%s\", cJSON_GetObjectItem(root, \"taskId\")-&gt;valuestring);sprintf(mr-&gt;printData, \"%s\", cJSON_GetObjectItem(root, \"data\")-&gt;valuestring); sscanf C åº“å‡½æ•° : ä»å­—ç¬¦ä¸²è¯»å–æ ¼å¼åŒ–è¾“å…¥ã€‚åŸå‹ä¸ºï¼šint sscanf(const char *str, const char *format, ...) 1234567// example: 1sscanf(buf,\"#####%d+%[a-zA-Z]+%d#####\",&amp;sid,cmdid,&amp;id);// example: 2if(cJSON_GetObjectItem(root, \"status\") != NULL) &#123; sscanf( cJSON_GetObjectItem(root, \"status\")-&gt;valuestring,\"%d\",&amp;(mr-&gt;status));&#125;sprintf((mr-&gt;sequence), \"%s\", cJSON_GetObjectItem(root, \"sequence\")-&gt;valuestring); memcpy C åº“å‡½æ•°: ä»å­˜å‚¨åŒº str2 å¤åˆ¶ n ä¸ªå­—èŠ‚åˆ°å­˜å‚¨åŒº str1ã€‚åŸå‹ä¸ºï¼švoid memcpy(void str1, const void str2, size_t n) 123int getUser(char *cmd,char *user)&#123; memcpy(user,cmd+POS_USER,iv-POS_USER );&#125; memset() C åº“å‡½æ•°ï¼šå¤åˆ¶å­—ç¬¦ cï¼ˆä¸€ä¸ªæ— ç¬¦å·å­—ç¬¦ï¼‰åˆ°å‚æ•° str æ‰€æŒ‡å‘çš„å­—ç¬¦ä¸²çš„å‰ n ä¸ªå­—ç¬¦ã€‚åŸå‹ä¸ºï¼švoid *memset(void *str, int c, size_t n) strcpy() C åº“å‡½æ•°ï¼šæŠŠ src æ‰€æŒ‡å‘çš„å­—ç¬¦ä¸²å¤åˆ¶åˆ° destã€‚åŸå‹:char *strcpy(char *dest, const char *src)","categories":[],"tags":[{"name":"é…ç½®","slug":"é…ç½®","permalink":"https://nymrli.top/tags/é…ç½®/"}]},{"title":"ç‰©è”ç½‘åŸºç¡€ä¸åº”ç”¨-è¯¾ç¨‹ç¬”è®°","slug":"ç‰©è”ç½‘åŸºç¡€ä¸åº”ç”¨-è¯¾ç¨‹ç¬”è®°","date":"2021-09-27T15:44:21.000Z","updated":"2021-10-11T13:04:37.104Z","comments":true,"path":"2021/09/27/ç‰©è”ç½‘åŸºç¡€ä¸åº”ç”¨-è¯¾ç¨‹ç¬”è®°/","link":"","permalink":"https://nymrli.top/2021/09/27/ç‰©è”ç½‘åŸºç¡€ä¸åº”ç”¨-è¯¾ç¨‹ç¬”è®°/","excerpt":"","text":"IOTè¯¾ä¸Šå®éªŒ äº¤å‰ç¼–è¯‘ç¯å¢ƒ ä»€ä¹ˆæ˜¯äº¤å‰ç¼–è¯‘ç¯å¢ƒï¼Ÿ äº¤å‰ç¼–è¯‘å…¶å®æ˜¯ç›¸å¯¹äºæœ¬åœ°ç¼–è¯‘(native build)æ¥è¯´çš„ï¼Œå¤§å®¶æœ€å¼€å§‹å­¦ä¹  C/C++ è¿™äº›è¯­è¨€çš„æ—¶å€™ï¼Œéƒ½æ˜¯åœ¨è‡ªå·±çš„ç¬”è®°æœ¬ä¸Šå†™ç¨‹åºï¼Œç„¶ååœ¨ç›´æ¥åœ¨ç”µè„‘ä¸Šç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæœ€ååœ¨ç”µè„‘ä¸Šè¿è¡Œã€‚æ•´ä¸ªæµç¨‹ä¸ºï¼šç¨‹åºçš„ç¼–è¾‘-&gt;ç¼–è¯‘-&gt;è¿è¡Œï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯åœ¨ä¸€å° X86 ç”µè„‘ä¸Šã€‚ å½“æˆ‘ä»¬å¼€å§‹æ¥è§¦åµŒå…¥å¼å¼€å‘åï¼Œäº‹æƒ…å˜çš„ä¸ä¸€æ ·äº†ã€‚ä½ åœ¨ç”µè„‘ä¸Šå†™ç¨‹åºï¼Œåœ¨ç”µè„‘ä¸Šç¼–è¯‘å‡ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæœ€åè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶éœ€è¦ä¸‹è½½åˆ°ä½ çš„å¼€å‘æ¿ä¸Šè¿è¡Œã€‚ç¨‹åºæœ€åè¿è¡Œçš„ç¯å¢ƒå˜äº†ï¼Œæ¯”å¦‚ä½ çš„å¼€å‘æ¿æ˜¯åŸºäº Arm çš„â€”â€”ç¨‹åºåœ¨ X86 ä¸Šç¼–è¾‘ï¼Œç¼–è¯‘ï¼Œæœ€ç»ˆè¿è¡Œåœ¨å¦ä¸€ä¸ªå’Œ X86 å®Œå…¨ä¸åŒçš„æ¶æ„çš„ Arm èŠ¯ç‰‡ä¸Šã€‚ ä¹‹æ‰€ä»¥æ•´ä¸ªæµç¨‹å˜æˆäº†è¿™ä¸ªæ ·å­ï¼Œè¿™æ˜¯ç”±åµŒå…¥å¼ç³»ç»Ÿçš„ç‰¹æ€§å†³å®šçš„ï¼šä¸€èˆ¬åµŒå…¥å¼ç³»ç»Ÿé‡Œé¢ä½¿ç”¨çš„èŠ¯ç‰‡æ€§èƒ½éƒ½æ¯”è¾ƒå¼±ï¼Œè€Œä¸”ç»å¤§éƒ¨åˆ†éƒ½ä¸èƒ½åƒ X86 ä¸€æ ·è¿è¡Œ Windows/Ubuntu æ¡Œé¢ç³»ç»Ÿï¼Œå³ä½¿èƒ½è¿è¡Œï¼Œæ€§èƒ½ä¹Ÿå¾ˆå¼±ï¼Œåœ¨å¼€å‘æ¿ä¸Šå¾ˆéš¾æä¾›å†™ä»£ç ã€ç¼–è¯‘ä»£ç çš„ç¯å¢ƒã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯ç¦»ä¸å¼€ X86 ç”µè„‘å¼ºå¤§é«˜æ•ˆçš„æ¡Œé¢ç¯å¢ƒè¿›è¡Œè½¯ä»¶å¼€å‘ã€‚ æ€»ç»“ï¼š åœ¨æ€§èƒ½å¼ºå¤§çš„ä¸ªäººç”µè„‘ä¸Šç¼–å†™æºç å’Œç¼–è¯‘ç¨‹åºï¼Œå°†å¯æ‰§è¡Œæ–‡ä»¶è¿è¡Œåœ¨å¼€å‘æ¿ä¸Šã€‚ æ­å»ºäº¤å‰ç¼–è¯‘ç¯å¢ƒ æ“ä½œç³»ç»Ÿå¼ºçƒˆæ¨èä½¿ç”¨ ubuntu-12.04 ä»¥ä¸Šç‰ˆæœ¬çš„ 64 ä½å‘è¡Œç‰ˆï¼Œ windowsä¸Šä¸è¡Œ é¢„å®‰è£…ï¼šåœ¨å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·ä¹‹å‰éœ€è¦å…ˆå®‰è£… 32 ä½çš„å…¼å®¹åº“å’Œ libncurses5-dev åº“ï¼Œå®‰è£…å…¼å®¹åº“ éœ€è¦ä» ubuntu çš„æºåº“ä¸­ä¸‹è½½ã€‚å¦‚æœä¸»æœºæ²¡æœ‰å®‰è£… 32 ä½å…¼å®¹åº“ï¼Œåœ¨ä½¿ç”¨äº¤å‰ç¼–è¯‘å·¥å…·çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼š-bash: ./arm-fsl-linux-gnueabi-gcc: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•å› æ­¤éœ€è¦å…ˆsudo apt-get install ia32-libså®‰è£…32ä½å…¼å®¹åº“ï¼Œç„¶åsudo apt-get install libncurses5-devå®‰è£… libncurses5-devï¼Œå¦‚æœæ²¡æœ‰å®‰è£…libncurses5-devï¼Œåœ¨ä½¿ç”¨ make menucofig æ—¶ä¼šå¦‚æ‰€ç¤ºçš„é”™è¯¯'make menuconfig' requires the ncurses libraries å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼šéœ€è¦ root æƒé™ã€‚åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ï¼š$ sudo tar â€“zxvf gcc-4.6.2-glibc-2.13-linaro-multilib-2011.12.tar.gz -C /opt/ï¼Œ äº¤å‰ç¼–è¯‘å·¥å…·é“¾å°†ä¼šè¢«å®‰è£…åˆ°/opt/ gcc-4.6.2-glibc-2.13-linaro-multilib-2011.12ç›®å½•ä¸‹ï¼ˆæ³¨æ„è§£å‹æ—¶-Cä¸ºæ”¹å˜è§£å‹ç›®å½•ï¼ŒæŒ‡å®šä¸º /opt/ ç›®å½•ï¼‰ï¼Œäº¤å‰ç¼–è¯‘å™¨çš„å…·ä½“ç›®å½•æ˜¯ /opt/gcc-4.6.2-glibc-2.13-linaro-multilib-2011.12/fsl-linaro-toolchain/bin/binã€‚ ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œè¿˜éœ€å°†äº¤å‰ç¼–è¯‘å™¨è·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ä¸­ï¼šä¿®æ”¹~/.bashrc æ–‡ä»¶ï¼Œåœ¨ PATH å˜é‡ä¸­å¢åŠ äº¤å‰ç¼–è¯‘å·¥å…·é“¾çš„ å®‰è£…è·¯å¾„ï¼Œç„¶åè¿è¡Œ~/.bashrc æ–‡ä»¶ï¼Œä½¿è®¾ç½®ç”Ÿæ•ˆã€‚åœ¨~/.bashrc æ–‡ä»¶æœ«å°¾å¢åŠ ä¸€è¡Œï¼š export PATH=$PATH:/opt/gcc-4.6.2-glibc-2.13-linaro-multilib-2011.12/fsl-linaro-toolchain/bin/ æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼šåœ¨ç»ˆç«¯è¾“å…¥ arm-fsl-linux-gnueabi-å¹¶æŒ‰ TAB é”®ï¼Œå¦‚æœèƒ½å¤Ÿçœ‹åˆ°å¾ˆå¤š arm-fsl-linux-gnueabiå‰ç¼€çš„å‘½ä»¤ï¼Œåˆ™åŸºæœ¬å¯ä»¥ç¡®å®šäº¤å‰ç¼–è¯‘å™¨å®‰è£…æ­£ç¡®ã€‚ æ³¨ï¼šä»ubuntu 13.10å·²ç»åºŸå¼ƒäº†ia32-libsï¼Œå› æ­¤å¦‚æœåœ¨Ubuntu16.04çš„æœºå­ä¸Šå®‰è£…ï¼Œä¼šå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼š 123456789101112mrli@welcome:~/iot$ sudo apt-get install ia32-libssudo: unable to resolve host welcome[sudo] password for mrli: Reading package lists... DoneBuilding dependency tree Reading state information... DonePackage ia32-libs is not available, but is referred to by another package.This may mean that the package is missing, has been obsoleted, oris only available from another sourceHowever the following packages replace it: lib32ncurses5 lib32z1E: Package 'ia32-libs' has no installation candidate ç¼–è¯‘ä»£ç  ç”±äºä¸€ç›´æŠ¥é”™ï¼š/home /mrli/iot/gcc-46.2-glibc-213-linaro-multillb-201112/fsl-linaro-toolchain/bin/ã€‚/lib/gcc/arm-fsl-linux-gnueabi/4.6.2/ã€‚.//ã€‚/arm-fsl-linux-gnueabi/bin/ld:warning:libcrypto so 1.1ï¼Œ needed by ./lib/libcurl. so, not foundï¼ˆtry using -rpath or -rpath-linkï¼‰ï¼Œ åŸå› æ˜¯LIBåæ²¡æœ‰å¸¦ç¼–è¯‘é“¾æ¥é€‰é¡¹-lcurl, -lcrypto, -lssl MQTT MQTTï¼ˆMessage Queuing Telemetry Transportï¼Œæ¶ˆæ¯é˜Ÿåˆ—é¥æµ‹ä¼ è¾“åè®®ï¼‰ï¼Œæ˜¯ä¸€ç§åŸºäºå‘å¸ƒ/è®¢é˜…ï¼ˆpublish/subscribeï¼‰æ¨¡å¼çš„&quot;è½»é‡çº§&quot;é€šè®¯åè®®ï¼Œè¯¥åè®®æ„å»ºäºTCP/IPåè®®ä¸Šï¼Œç”±IBMåœ¨1999å¹´å‘å¸ƒã€‚MQTTæœ€å¤§ä¼˜ç‚¹åœ¨äºï¼Œå¯ä»¥ä»¥æå°‘çš„ä»£ç å’Œæœ‰é™çš„å¸¦å®½ï¼Œä¸ºè¿æ¥è¿œç¨‹è®¾å¤‡æä¾›å®æ—¶å¯é çš„æ¶ˆæ¯æœåŠ¡ã€‚ä½œä¸ºä¸€ç§ä½å¼€é”€ã€ä½å¸¦å®½å ç”¨çš„å³æ—¶é€šè®¯åè®®ï¼Œä½¿å…¶åœ¨ç‰©è”ç½‘ã€å°å‹è®¾å¤‡ã€ç§»åŠ¨åº”ç”¨ç­‰æ–¹é¢æœ‰è¾ƒå¹¿æ³›çš„åº”ç”¨ã€‚ MQTTåè®®å®ç°æ–¹å¼ å®ç°MQTTåè®®éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯é€šè®¯å®Œæˆï¼Œåœ¨é€šè®¯è¿‡ç¨‹ä¸­ï¼ŒMQTTåè®®ä¸­æœ‰ä¸‰ç§èº«ä»½ï¼šå‘å¸ƒè€…ï¼ˆPublishï¼‰ã€ä»£ç†ï¼ˆBrokerï¼‰ï¼ˆæœåŠ¡å™¨ï¼‰ã€è®¢é˜…è€…ï¼ˆSubscribeï¼‰ã€‚å…¶ä¸­ï¼Œæ¶ˆæ¯çš„å‘å¸ƒè€…å’Œè®¢é˜…è€…éƒ½æ˜¯å®¢æˆ·ç«¯ï¼Œæ¶ˆæ¯ä»£ç†æ˜¯æœåŠ¡å™¨ï¼Œæ¶ˆæ¯å‘å¸ƒè€…å¯ä»¥åŒæ—¶æ˜¯è®¢é˜…è€…ã€‚ MQTTä¼ è¾“çš„æ¶ˆæ¯åˆ†ä¸ºï¼šä¸»é¢˜ï¼ˆTopicï¼‰å’Œè´Ÿè½½ï¼ˆpayloadï¼‰ä¸¤éƒ¨åˆ†ï¼š ï¼ˆ1ï¼‰Topicï¼Œå¯ä»¥ç†è§£ä¸ºæ¶ˆæ¯çš„ç±»å‹ï¼Œè®¢é˜…è€…è®¢é˜…ï¼ˆSubscribeï¼‰åï¼Œå°±ä¼šæ”¶åˆ°è¯¥ä¸»é¢˜çš„æ¶ˆæ¯å†…å®¹ï¼ˆpayloadï¼‰ï¼› ï¼ˆ2ï¼‰payloadï¼Œå¯ä»¥ç†è§£ä¸ºæ¶ˆæ¯çš„å†…å®¹ï¼Œæ˜¯æŒ‡è®¢é˜…è€…å…·ä½“è¦ä½¿ç”¨çš„å†…å®¹ã€‚ MQTTå…¥é—¨ä»‹ç»â€”â€”èœé¸Ÿæ•™ç¨‹ mosquittoä½¿ç”¨ åº“å‡½æ•°APIä»‹ç»ï¼šmosquittoåº“å‡½æ•°è¯¦è§£ 12 MQTTè®¾è®¡äº†ä¸€å¥—ä¿è¯æ¶ˆæ¯ç¨³å®šä¼ è¾“çš„æœºåˆ¶ï¼ŒåŒ…æ‹¬æ¶ˆæ¯åº”ç­”ã€å­˜å‚¨å’Œé‡ä¼ ã€‚åœ¨è¿™å¥—æœºåˆ¶ä¸‹ï¼Œæä¾›äº†ä¸‰ç§ä¸åŒå±‚æ¬¡QoSï¼ˆQuality of Serviceï¼‰ï¼š QoS0ï¼ŒAt most onceï¼Œè‡³å¤šä¸€æ¬¡ï¼› QoS1ï¼ŒAt least onceï¼Œè‡³å°‘ä¸€æ¬¡ï¼› QoS2ï¼ŒExactly onceï¼Œç¡®ä¿åªæœ‰ä¸€æ¬¡ã€‚ å®¢æˆ·ç«¯å¯ä»¥ä¸»åŠ¨é€‰æ‹©æ€§åœ°å¾€æŸä¸€ä¸»é¢˜æ¨é€ä¿¡æ¯ï¼Œè¿™ä¸ªä¸éœ€è¦æå‰è®¾å®šï¼›ä½†åœ¨æ¥æ”¶ä¿¡æ¯æ–¹é¢ï¼Œéœ€è¦å®¢æˆ·ç«¯æå‰è®¢é˜…ä¸»é¢˜ï¼Œæ³¨ï¼šå®¢æˆ·ç«¯åŒæ—¶å¯ä»¥è®¢é˜…å¤šä¸ªä¸»é¢˜ï¼Œä¸”MQTTåè®®çš„ä¸»é¢˜è§£ææœ‰è§„åˆ™ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š Springboot_MQTT: https://blog.csdn.net/yl_hahha/article/details/99246679 https://blog.csdn.net/qq_41018959/article/details/81076055?utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.no_search_link&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.no_search_link pthreadåº“ä½¿ç”¨ åº“å‡½æ•°APIä»‹ç»ï¼šçº¿ç¨‹ä»¥åŠpthreadåº“çš„ä½¿ç”¨","categories":[],"tags":[{"name":"ZJU","slug":"ZJU","permalink":"https://nymrli.top/tags/ZJU/"},{"name":"åµŒå…¥å¼å¼€å‘","slug":"åµŒå…¥å¼å¼€å‘","permalink":"https://nymrli.top/tags/åµŒå…¥å¼å¼€å‘/"}]},{"title":"å­¦ç‚¹Gradle","slug":"å­¦ç‚¹Gradle","date":"2021-09-26T05:37:07.000Z","updated":"2021-09-27T00:37:42.792Z","comments":true,"path":"2021/09/26/å­¦ç‚¹Gradle/","link":"","permalink":"https://nymrli.top/2021/09/26/å­¦ç‚¹Gradle/","excerpt":"","text":"Gradleå­¦ä¹  åœ¨kotlinä¸­ä½¿ç”¨mapstructå‡ºç°äº†äº›é—®é¢˜ï¼Œ ç½‘ä¸Šæœå¯»åå¾—åˆ°ç»“è®ºï¼šéœ€è¦ä½¿ç”¨kapt(Kotlin annotation processing tool å³kotlinæ³¨è§£å¤„ç†å·¥å…·)ï¼Œ ä½†ç»™å‡ºçš„å¤§å¤šéƒ½æ˜¯é€šè¿‡Gradleæ¥è¿›è¡Œé…ç½®çš„ã€‚å› æ­¤å€Ÿæ­¤æœºä¼šå­¦ä¹ äº†ä¸‹Gradleï¼š pluginså’Œapply plugin: ç”±äºæ–‡æ¡£å†™åˆ°äº†ï¼Œ ç”±äºä¸æ¸…æ¥šè¿™äº›åœ¨å“ªäº›ä½ç½®åŠ å…¥ï¼Œ å› æ­¤æŸ¥çœ‹äº†pluginså’Œapply plugin:çš„åŒºåˆ«ï¼š 1234567891011&gt; æ·»åŠ  kapt æ’ä»¶&gt; apply plugin: &apos;kotlin-kapt&apos;&gt; &gt; ç„¶ååœ¨é¡¹ç›®ä¸­æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š&gt; api(&quot;com.github.pozo:mapstruct-kotlin:1.3.1.2&quot;)&gt; kapt(&quot;com.github.pozo:mapstruct-kotlin-processor:1.3.1.2&quot;)&gt; &gt; å¦å¤–ï¼Œè¿˜éœ€è¦æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š&gt; api(&quot;org.mapstruct:mapstruct:1.4.0.Beta3&quot;)&gt; kapt(&quot;org.mapstruct:mapstruct-processor:1.4.0.Beta3&quot;)&gt; â€œplugins {}â€å—å¯¼å…¥çš„æ˜¯Gradleå®˜æ–¹æ’ä»¶ä»“åº“é‡Œçš„æ’ä»¶ã€‚å¦‚æœä½¿ç”¨â€œbuildscript {}â€å—æŒ‡å®šç¬¬ä¸‰æ–¹åº“ä½œä¸ºGradleæ’ä»¶çš„è¯ï¼ŒæŒ‡å®šæ’ä»¶å°±éœ€è¦ä½¿ç”¨â€œapply pluginâ€äº†ã€‚ åˆšåˆšç¿»äº†ç¿»æ–‡æ¡£ï¼Œâ€œapply pluginâ€æœ¬èº«ä¼¼ä¹è¿˜æœ‰æ›´å¤šçš„ç”¨é€”ï¼Œè€Œâ€œplugins {}â€å—ä¼¼ä¹æ˜¯ä¸€ä¸ªæ–°å¼•å…¥çš„è¿˜ä¸è¶³å¤Ÿç¨³å®šçš„ç‰¹æ€§ã€‚é¢˜ä¸»æƒ³è¦çŸ¥é“æ›´å¤šçš„è¯ç›´æ¥çœ‹çœ‹æ–‡æ¡£å°±è¡Œäº†ã€‚ æœ€ç»ˆçš„Plainé¡¹ç›®çš„ä¾èµ–å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728plugins &#123; id 'java' id 'org.jetbrains.kotlin.jvm' version '1.4.10'&#125;group 'org.example'version '1.0-SNAPSHOT'repositories &#123; mavenCentral()&#125;apply plugin: 'kotlin-kapt'dependencies &#123; implementation \"org.jetbrains.kotlin:kotlin-stdlib\" testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.0' testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine' api(\"com.github.pozo:mapstruct-kotlin:1.3.1.2\") kapt(\"com.github.pozo:mapstruct-kotlin-processor:1.3.1.2\") api(\"org.mapstruct:mapstruct:1.4.0.Beta3\") kapt(\"org.mapstruct:mapstruct-processor:1.4.0.Beta3\")&#125;test &#123; useJUnitPlatform()&#125; mavenä½¿ç”¨kapt åœ¨ kotlin-maven-plugin ä¸­çš„åœ¨compile ä¹‹å‰æ·»åŠ  kapt ç›®æ ‡çš„æ‰§è¡Œï¼š 1234567891011121314151617181920&lt;execution&gt; &lt;id&gt;kapt&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;kapt&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;sourceDirs&gt; &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt; &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt; &lt;/sourceDirs&gt; &lt;annotationProcessorPaths&gt; &lt;!-- åœ¨æ­¤å¤„æŒ‡å®šä½ çš„æ³¨è§£å¤„ç†å™¨ã€‚ --&gt; &lt;annotationProcessorPath&gt; &lt;groupId&gt;com.google.dagger&lt;/groupId&gt; &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt; &lt;version&gt;2.9&lt;/version&gt; &lt;/annotationProcessorPath&gt; &lt;/annotationProcessorPaths&gt; &lt;/configuration&gt;&lt;/execution&gt; è¯·æ³¨æ„ï¼ŒIntelliJ IDEA è‡ªèº«çš„æ„å»ºç³»ç»Ÿç›®å‰è¿˜ä¸æ”¯æŒ kaptã€‚å½“ä½ æƒ³è¦é‡æ–°è¿è¡Œæ³¨è§£å¤„ç†æ—¶ï¼Œè¯·ä»â€œMaven Projectsâ€å·¥å…·æ å¯åŠ¨æ„å»ºã€‚ from: https://www.kancloud.cn/alex_wsc/android_kotlin/1318386#_Maven__110 å„ç§ä¾èµ–æ–¹å¼è¯´æ˜ implementation è¿™ä¸ªæŒ‡ä»¤çš„ç‰¹ç‚¹å°±æ˜¯ï¼Œå¯¹äºä½¿ç”¨äº†è¯¥å‘½ä»¤ç¼–è¯‘çš„ä¾èµ–ï¼Œå¯¹è¯¥é¡¹ç›®æœ‰ä¾èµ–çš„é¡¹ç›®å°†æ— æ³•è®¿é—®åˆ°ä½¿ç”¨è¯¥å‘½ä»¤ç¼–è¯‘çš„ä¾èµ–ä¸­çš„ä»»ä½•ç¨‹åºï¼Œä¹Ÿå°±æ˜¯å°†è¯¥ä¾èµ–éšè—åœ¨å†…éƒ¨ï¼Œè€Œä¸å¯¹å¤–éƒ¨å…¬å¼€ã€‚ api å®Œå…¨ç­‰åŒäºcompileæŒ‡ä»¤ã€‚ compile è¿™ç§æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œä½¿ç”¨è¯¥æ–¹å¼ä¾èµ–çš„åº“å°†ä¼šå‚ä¸ç¼–è¯‘å’Œæ‰“åŒ…ã€‚ testCompile testCompile åªåœ¨å•å…ƒæµ‹è¯•ä»£ç çš„ç¼–è¯‘ä»¥åŠæœ€ç»ˆæ‰“åŒ…æµ‹è¯•apkæ—¶æœ‰æ•ˆã€‚ debugCompile debugCompile åªåœ¨debugæ¨¡å¼çš„ç¼–è¯‘å’Œæœ€ç»ˆçš„debug apkæ‰“åŒ…æ—¶æœ‰æ•ˆã€‚ releaseCompile releaseCompile ä»…ä»…é’ˆå¯¹Releaseæ¨¡å¼çš„ç¼–è¯‘å’Œæœ€ç»ˆçš„Release apkæ‰“åŒ…ã€‚è¿™é‡Œæ¯”å¦‚ gradleä¸­apiã€implementationå’Œcompileçš„åŒºåˆ« æˆ‘ä»¬åœ¨gradleä¸­å¼•ç”¨ç¬¬ä¸‰æ–¹mavenåº“æ—¶ï¼Œä¸€èˆ¬é€šè¿‡ä¸‹é¢çš„è¯­å¥å»å¼•ç”¨:compile 'com.android.support:appcompat-v7:26.1.0' , ç„¶åsync projectï¼Œå°±èƒ½æˆåŠŸå¼•ç”¨å¯¹åº”çš„åŒ…åˆ°é¡¹ç›®ä¹‹ä¸­äº†ï¼Œååˆ†æ–¹ä¾¿ã€‚é™¤äº†ä½¿ç”¨compileå…³é”®å­—ï¼Œä½¿ç”¨implementationå’Œapiä¹Ÿèƒ½å°†åŒ…å¼•ç”¨åˆ°é¡¹ç›®ä¸­ apiå’Œcompileå…³é”®å­—ä½œç”¨æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½¿ç”¨æ—¶å¯ä»¥äº’ç›¸æ›¿æ¢ã€‚å®é™…ä¸Šï¼Œapiå…³é”®å­—æ˜¯ç”¨æ¥æ›¿ä»£compileå…³é”®å­—çš„ï¼Œå› ä¸ºcompileå…³é”®å­—å°†æ¥ä¼šè¢«å¼ƒç”¨ã€‚åœ¨é«˜ç‰ˆæœ¬çš„gradleï¼Œä½¿ç”¨compileå…³é”®å­—ä¼šæŠ¥é”™å¹¶æç¤ºä½¿ç”¨apiå…³é”®å­—ä»£æ›¿ã€‚ Qï¼šçœ‹èµ·æ¥è¿™ä¸‰ä¸ªå…³é”®å­—çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆï¼Œä»–ä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ Aï¼šåœ¨åŒä¸€ä¸ªmoduleä¸‹ï¼Œimplementationå’Œcompileçš„ä½¿ç”¨æ•ˆæœç›¸åŒï¼Œä½†æ˜¯åœ¨ä¸åŒmoduleä¸‹ï¼Œå°±ä¼šæœ‰æ‰€åŒºåˆ«äº†ã€‚ apiæˆ–compileå…³é”®å­—å¼•ç”¨çš„åŒ…å¯¹äºå…¶ä»–moduleæ¥è¯´æ˜¯å¯è§çš„ï¼Œè€Œimplementationå…³é”®å­—å¼•ç”¨çš„åŒ…å¯¹äºå…¶ä»–moduleæ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚ Mavenä»“åº“åˆ—è¡¨ ä»“åº“å ç®€ä»‹ å®é™…åœ°å€ ä½¿ç”¨åœ°å€ jcenter JFrogå…¬å¸æä¾›çš„ä»“åº“ http://jcenter.bintray.com https://maven.aliyun.com/repository/jcenter https://maven.aliyun.com/nexus/content/repositories/jcenter mavenLocal æœ¬å°ç”µè„‘ä¸Šçš„ä»“åº“ {USER_HOME}/.m2/repository C:/Users/liyujiang/.m2/repository (Windows) /home/liyujiang/.m2/repository (Linux) mavenCentral Sonatypeå…¬å¸æä¾›çš„ä¸­å¤®åº“ http://central.maven.org/maven2 https://maven.aliyun.com/repository/central https://maven.aliyun.com/nexus/content/repositories/central google Googleå…¬å¸æä¾›çš„ä»“åº“ https://maven.google.com https://maven.aliyun.com/repository/google https://maven.aliyun.com/nexus/content/repositories/google https://dl.google.com/dl/android/maven2 jitpack JitPackæä¾›çš„ä»“åº“ https://jitpack.io https://jitpack.io public jcenterå’ŒmavenCentralçš„èšåˆä»“åº“ https://maven.aliyun.com/repository/public https://maven.aliyun.com/nexus/content/groups/public gradle-plugin Gradleæ’ä»¶ä»“åº“ https://plugins.gradle.org/m2 https://maven.aliyun.com/repository/gradle-plugin https://maven.aliyun.com/nexus/content/repositories/gradle-plugin 12345repositories &#123; maven&#123; url &apos;https://maven.aliyun.com/nexus/content/groups/public/&apos;&#125; maven&#123; url &apos;https://maven.aliyun.com/nexus/content/repositories/jcenter&apos;&#125; mavenCentral()&#125; gradleå…¨å±€æ¢æº åœ¨C:\\Users\\mrli\\.gradleæ–‡ä»¶å¤¹ä¸‹ä¿®æ”¹init.gradleæ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰åˆ™æ–°å»ºï¼‰ï¼Œå†™ä¸‹å¦‚ä¸‹å†…å®¹: 12345678910111213141516171819202122232425262728293031323334allprojects&#123; repositories &#123; def ALIYUN_REPOSITORY_URL = 'https://maven.aliyun.com/repository/public/' def ALIYUN_JCENTER_URL = 'https://maven.aliyun.com/repository/jcenter/' def ALIYUN_GOOGLE_URL = 'https://maven.aliyun.com/repository/google/' def ALIYUN_GRADLE_PLUGIN_URL = 'https://maven.aliyun.com/repository/gradle-plugin/' all &#123; ArtifactRepository repo -&gt; if(repo instanceof MavenArtifactRepository)&#123; def url = repo.url.toString() if (url.startsWith('https://repo1.maven.org/maven2/')) &#123; project.logger.lifecycle \"Repository $&#123;repo.url&#125; replaced by $ALIYUN_REPOSITORY_URL.\" remove repo &#125; if (url.startsWith('https://jcenter.bintray.com/')) &#123; project.logger.lifecycle \"Repository $&#123;repo.url&#125; replaced by $ALIYUN_JCENTER_URL.\" remove repo &#125; if (url.startsWith('https://dl.google.com/dl/android/maven2/')) &#123; project.logger.lifecycle \"Repository $&#123;repo.url&#125; replaced by $ALIYUN_GOOGLE_URL.\" remove repo &#125; if (url.startsWith('https://plugins.gradle.org/m2/')) &#123; project.logger.lifecycle \"Repository $&#123;repo.url&#125; replaced by $ALIYUN_GRADLE_PLUGIN_URL.\" remove repo &#125; &#125; &#125; maven &#123; url ALIYUN_REPOSITORY_URL &#125; maven &#123; url ALIYUN_JCENTER_URL &#125; maven &#123; url ALIYUN_GOOGLE_URL &#125; maven &#123; url ALIYUN_GRADLE_PLUGIN_URL &#125; &#125;&#125; æ³¨æ„ï¼šé˜¿é‡Œæºçš„URLä½¿ç”¨httpsè€Œä¸æ˜¯httpï¼Œå¦åˆ™ä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™:GradleæŠ¥é”™Could not resolve all dependencies for configuration â€˜:detachedConfiguration7â€˜. å‚è€ƒï¼š https://blog.csdn.net/qq_41053520/article/details/118244668 https://www.cnblogs.com/huiyi0521/p/10997152.htmlâ€”â€”gradleä¸­æ‰§è¡Œå‡½æ•° https://blog.csdn.net/qq32933432/article/details/108906687â€”â€”work buildscript buildscriptä¸­çš„å£°æ˜æ˜¯gradleè„šæœ¬è‡ªèº«éœ€è¦ä½¿ç”¨çš„èµ„æº 123456789101112131415161718192021222324252627apply plugin: &apos;java&apos; // javaé¡¹ç›®apply plugin: &apos;eclipse&apos; // eclipseå¼€å‘ç¯å¢ƒæ„å»ºï¼Œç”Ÿæˆæ‰€éœ€è¦çš„.project,.classpathç­‰æ–‡ä»¶apply plugin: &apos;org.springframework.boot&apos;jar &#123; baseName = &apos;shop-supplier&apos; version = &apos;1.0.0-SNAPSHOT&apos;&#125;version = &apos;1.0.0-SNAPSHOT&apos;sourceCompatibility = 1.8targetCompatibility = 1.8repositories &#123; // mavenä»“åº“åœ°å€ maven&#123;url &apos;ç§æœåœ°å€&apos;&#125; mavenCentral()&#125;dependencies &#123; // ä¾èµ–é¡¹ // web thymeleaf compile(&apos;org.springframework.boot:spring-boot-starter-web&apos;) compile(&apos;org.springframework.boot:spring-boot-starter-thymeleaf&apos;) // test testCompile(&apos;org.springframework.boot:spring-boot-starter-test&apos;) //æ·»åŠ  googleäºŒç»´ç  compile &apos;com.google.zxing:core:3.2.0&apos;&#125; gradle å·¥ç¨‹ä½¿ç”¨mybatis æ­£å¸¸æƒ…å†µä¸‹æ˜¯åœ¨src/main/java/**/xxx.xml æ–‡ä»¶æ˜¯ä¸ä¼šè¢«æ‰“åŒ…çš„ï¼Œéœ€è¦æˆ‘ä»¬é˜Ÿgradleåšä¸€äº›ç‰¹åˆ«çš„é…ç½® â‘ ï¼Œbuild.gradle 1sourceSets.main.resources.srcDirs = [\"src/main/java\",\"src/main/resources\"] â‘¡ï¼ŒæŒ‡å®šmapper.xml æ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼Œè¿™é‡Œæˆ‘ç”¨çš„æ˜¯mp 1mybatis-plus.mapper-locations=com/mp/test/mapper/xml/*Mapper.xml â‘¢ï¼ŒæŒ‡å®šmapperæ¥å£æ‰€åœ¨è·¯å¾„ 1@MapperScan(\"com.mp.test.mapper\") gradleä¸­ä½¿ç”¨docker","categories":[],"tags":[]},{"title":"ZJUäº‘åŸç”ŸæŠ€æœ¯åŠåº”ç”¨-è¯¾ç¨‹ç¬”è®°","slug":"ZJUäº‘åŸç”ŸæŠ€æœ¯åŠåº”ç”¨-è¯¾ç¨‹ç¬”è®°","date":"2021-09-25T14:48:36.000Z","updated":"2022-03-15T15:00:13.802Z","comments":true,"path":"2021/09/25/ZJUäº‘åŸç”ŸæŠ€æœ¯åŠåº”ç”¨-è¯¾ç¨‹ç¬”è®°/","link":"","permalink":"https://nymrli.top/2021/09/25/ZJUäº‘åŸç”ŸæŠ€æœ¯åŠåº”ç”¨-è¯¾ç¨‹ç¬”è®°/","excerpt":"","text":"ZJUè¦æ±‚ è¯¾ç¨‹å†…å®¹ äº‘è®¡ç®—åŸºæœ¬æ¦‚å¿µå’ŒDockerå®¹å™¨åŸç†ï¼ˆ4è¯¾æ—¶ï¼‰ Kubernetesæ ¸å¿ƒåŸç†ä¸å…³é”®ç»„ä»¶ ï¼ˆ8è¯¾æ—¶ï¼‰ å¾®æœåŠ¡æŠ€æœ¯åŸç†ä¸æ²»ç† ï¼ˆ4è¯¾æ—¶ï¼‰ å®¹å™¨ç›‘æ§ä¸åˆ†æ ï¼ˆ4è¯¾æ—¶ï¼‰ äº‘åŸç”Ÿè¾¹ç¼˜è®¡ç®—æŠ€æœ¯ï¼ˆ4è¯¾æ—¶ï¼‰ IBMè®²åº§-æ··åˆäº‘æ¶æ„ï¼ˆ4è¯¾æ—¶ï¼‰ äº‘åŸç”Ÿåº”ç”¨å®è·µä¸æ¡ˆä¾‹åˆ†æï¼ˆ4è¯¾æ—¶ï¼‰ è€ƒæ ¸æ–¹å¼ å¹³æ—¶ï¼ˆ20%ï¼‰+ è¯¾ç¨‹è®¾è®¡ï¼ˆ80%ï¼Œå«æŠ¥å‘Šï¼‰ è¯¾ç¨‹è®¾è®¡ï¼ˆä¸‰é€‰ä¸€ï¼‰ äº‘åŸç”ŸæŠ€æœ¯ç ”ç©¶æŠ¥å‘Šæˆ–ç»¼è¿° å›´ç»•äº‘åŸç”Ÿå…³é”®æŠ€æœ¯ç‚¹ï¼Œå¦‚å®¹å™¨å®‰å…¨ã€å¤šé›†ç¾¤ç®¡ç†ã€äº‘è¾¹ååŒå’Œè¾¹ç¼˜æ™ºèƒ½ç­‰ï¼Œç»¼è¿°å½“å‰æŠ€æœ¯ç°çŠ¶å¹¶è¿›è¡Œå¿…è¦çš„åˆ†æ æºä»£ç åˆ†ææŠ¥å‘Š åˆ†æKubernetesæˆ–è€…KubeEdgeç­‰äº‘åŸç”Ÿé¡¹ç›®ç›¸å…³æºä»£ç ï¼Œæ’°å†™ä»£ç åˆ†ææŠ¥å‘Šï¼ˆè¡Œçº§ä»£ç æ ‡æ³¨+å·¥ä½œæµåˆ†æï¼‰ï¼Œä¸å°‘äº10é¡µï¼ŒåŸåˆ›ã€‚ å¼€æºè´¡çŒ® ä¿®æ”¹Kubernetes/KubeEdge/Dockeræäº¤PRï¼Œæ ¹æ®ä»£ç è¡Œæ•°æŠ˜ç®—ï¼ˆ100è¡Œæºä»£ç æˆ–è€…5ä¸ªcommitï¼‰ æœªèƒ½é€šè¿‡ç¤¾åŒºå®¡æ ¸ï¼Œé€šè¿‡æµ‹è¯•éªŒè¯çš„ä»£ç å¯ä»¥ä½œä¸ºå‚è€ƒè¯„åˆ† äº‘åŸç”Ÿ DockeræŠ€æœ¯åŸç†ä¸å®è·µ Dockeræ˜¯Dockerå…¬å¸å¼€æºçš„ä¸€ä¸ªåŸºäºè½»é‡çº§è™šæ‹ŸåŒ–æŠ€æœ¯çš„å®¹å™¨å¼•æ“é¡¹ç›®,æ•´ä¸ªé¡¹ç›®åŸºäºGoè¯­è¨€å¼€å‘ï¼Œå¹¶éµä»Apache 2.0åè®® ç›®å‰ï¼ŒDockerå¯ä»¥åœ¨å®¹å™¨å†…éƒ¨å¿«é€Ÿè‡ªåŠ¨åŒ–éƒ¨ç½²åº”ç”¨ï¼Œå¹¶å¯ä»¥é€šè¿‡å†…æ ¸è™šæ‹ŸåŒ–æŠ€æœ¯ (namespacesåŠcgroupsç­‰)æ¥æä¾›å®¹å™¨çš„èµ„æºéš”ç¦»ä¸å®‰å…¨ä¿éšœç­‰ã€‚ ç”±äºDockeré€šè¿‡æ“ä½œç³»ç»Ÿå±‚çš„è™šæ‹ŸåŒ–å®ç°éš”ç¦»ï¼Œæ‰€ä»¥Dockerå®¹å™¨åœ¨è¿è¡Œæ—¶ï¼Œä¸éœ€è¦ç±» ä¼¼è™šæ‹Ÿæœº(VM)é¢å¤–çš„æ“ä½œç³»ç»Ÿå¼€é”€ï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡ï¼Œå¹¶ä¸”æå‡è¯¸å¦‚IOç­‰æ–¹é¢çš„æ€§èƒ½ã€‚ dockeræœ¬è´¨å°±æ˜¯è¿›ç¨‹ï¼Ÿ A: ç†è§£è¿™å¥è¯å¾—å…·å¤‡linuxçš„åŸºç¡€çŸ¥è¯†ï¼Œä»åŸºç¡€çŸ¥è¯†è§’åº¦æ¥è¿›è¡Œç†è§£ã€‚é¦–å…ˆdockerçš„ä¸¤å¤§å…³é”®æŠ€æœ¯æ˜¯Namespaceå’Œcgroupï¼šNamespaceæŠ€æœ¯æ”¹å˜äº†å®¹å™¨çš„è§†å›¾ï¼Œè®©å®¹å™¨ä»¥ä¸ºè‡ªå·±åœ¨ä¸€ä¸ªæˆ¿é—´é‡Œï¼Œèµ·åˆ°äº†éš”ç¦»ä½œç”¨ï¼›cgroup(Linux Control Group)èµ·åˆ°å¯¹å®¹å™¨èµ„æºçš„é™åˆ¶ä½œç”¨ namespaceå’Œcgroupå…±åŒä¸ºåˆ›é€ äº†ä¸€ä¸ªå®¹å™¨æ²™ç›’ã€‚ ==&gt;å®¹å™¨æ˜¯ä¸ªè¿›ç¨‹ï¼Œé€šè¿‡namespaceä½œä¸ºéšœçœ¼æ³•è¿›è¡Œå±è”½ï¼Œç»“åˆcgroupè¿›è¡Œèµ„æºé™åˆ¶ï¼Œå¹¶ä»¥å®¹å™¨é•œåƒçš„æ–¹å¼æ‰“åŒ…çš„ä¸€ä¸ªæ²™ç›’ Dockeråº”ç”¨åœºæ™¯ webåº”ç”¨çš„è‡ªåŠ¨åŒ–æ‰“åŒ…å’Œå‘å¸ƒ è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­é›†æˆã€ å‘å¸ƒ åœ¨æœåŠ¡å‹ç¯å¢ƒä¸­éƒ¨ç½²å’Œè°ƒæ•´æ•°æ®åº“æˆ–å…¶ä»–çš„åå°åº”ç”¨ ä»å¤´ç¼–è¯‘æˆ–è€…æ‰©å±•ç°æœ‰çš„OpenShiftæˆ–Cloud Foundryå¹³å°æ¥æ­å»ºè‡ªå·±çš„PaaSç¯å¢ƒã€‚ Dockerä¼˜åŠ¿ æ›´ä½çš„èµ„æºæŸè€— æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦ æ›´å¥½çš„åº”ç”¨è€¦åˆ æ›´å¼ºçš„å¼¹æ€§ä¼¸ç¼© Dockeræ¶æ„ åŸºæœ¬è¦ç´  Docker Imagesæ˜¯ä¸€ä¸ªåªè¯»æ¨¡æ¿ï¼Œç”¨æ¥è¿è¡ŒDockerå®¹å™¨ Docker Containersè´Ÿè´£åº”ç”¨ç¨‹åºçš„è¿è¡Œï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿã€ç”¨æˆ·æ·»åŠ çš„æ–‡ä»¶ä»¥åŠå…ƒæ•°æ®ã€‚ DockerFileæ˜¯æ–‡ä»¶æŒ‡ä»¤é›†ï¼Œç”¨æ¥è¯´æ˜å¦‚ä½•è‡ªåŠ¨åˆ›å»ºDockeré•œåƒã€‚ æ ¸å¿ƒç»„ä»¶ å®¹å™¨å’Œé•œåƒçš„å…³ç³» å¥½æ¯”é™æ€çš„æºç å’Œè¿è¡Œæ—¶çš„ç¨‹åºï¼Œä½¿ç”¨æ‰§è¡Œæºç å³å¯å¾—åˆ°æƒ³è¦åŠŸèƒ½çš„ç¨‹åºï¼ŒåŒæ ·çš„ä¾æ®é•œåƒä»è€Œèƒ½å¤Ÿæ„å»ºé€šè¿‡é•œåƒåˆ¶å®šçš„å®¹å™¨ã€‚ é•œåƒç‰¹ç‚¹ï¼š layerï¼š åˆ†å±‚ è¯»å†™å±‚ initå±‚ åªè¯»å±‚ based on another image ï¼š åŸºäºå…¶ä»–é•œåƒ a read-only templateï¼šæ˜¯åªè¯»çš„æ¨¡æ¿ copy-on-writeï¼š ä¸‹å±‚åªè¯»ï¼Œä¸Šå±‚å¯å†™ union filesystemï¼šæœ‰ç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿ DockerFile or docker commitï¼šé€šè¿‡dockerfileæˆ–è€…docker commitç”Ÿæˆ æ•°æ®å·ï¼š â–²å½“ä¸€ä¸ªå®¹å™¨è¢«åˆ é™¤æ—¶ï¼Œä»»ä½•å†™å…¥è¯¥å®¹å™¨çš„ã€æ²¡æœ‰å­˜å‚¨åœ¨æ•°æ®å·ä¸­çš„æ•°æ®éƒ½ä¼šå’Œè¯¥å®¹å™¨ä¸€èµ·è¢«åˆ é™¤ã€‚==&gt;å› æ­¤éœ€è¦ä¸ªå¯ä»¥ç‹¬ç«‹äºå®¹å™¨å­˜å‚¨çš„å¤–å­˜ã€‚ æ•°æ®å·ä¸å—å­˜å‚¨é©±åŠ¨å™¨çš„æ§åˆ¶ã€‚ ä½ å¯ä»¥æŠŠä»»ä½•æ•°é‡çš„æ•°æ®å·è£…å…¥ä¸€ä¸ªå®¹å™¨ã€‚ å¤šä¸ªå®¹å™¨ä¹Ÿå¯ä»¥å…±äº«ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å· docker CLI docker pullè¿‡ç¨‹ docker runè¿‡ç¨‹ DockerfileæŒ‡ä»¤è¯´æ˜ FROMï¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ„å»ºé˜¶æ®µï¼Œå¹¶ä¸ºåç»­æŒ‡ä»¤è®¾ç½®åŸºç¡€é•œåƒ ENVï¼šä¸ºä½ çš„å®¹å™¨å®‰è£…çš„è½¯ä»¶æ›´æ–°PATHç¯å¢ƒå˜é‡ã€‚ RUNï¼š åœ¨å®¹å™¨æ„å»ºè¿‡ç¨‹ä¸­è¿è¡Œçš„å‘½ä»¤ï¼Œå¦‚aptã€‚ä¸ºäº†ä½¿ä½ çš„Dockeræ–‡ä»¶æ›´æ˜“è¯»ã€æ˜“æ‡‚ã€æ˜“ç»´æŠ¤ï¼Œè¯·å°†é•¿çš„æˆ–å¤æ‚çš„RUNè¯­å¥åˆ†æˆå¤šè¡Œï¼Œç”¨åæ–œçº¿åˆ†å¼€ COPY and ADD: å¤åˆ¶æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„ï¼ŒADDç›¸æ¯”ä¹‹ä¸‹å¤šä¸ªç±»ä¼¼tarè§£å‹çš„åŠŸèƒ½ EXPOSEï¼š å®¹å™¨å°†ç›‘å¬è¿æ¥çš„ç«¯å£ WORKDIRï¼š æŒ‡å®šå·¥ä½œç›®å½•ï¼Œå¹¶ä»¥ç»å¯¹è·¯å¾„çš„å½¢å¼ç»™å‡º CMDï¼šå®¹å™¨æ„å»ºå®Œæˆåæ‰§è¡Œå‘½ä»¤ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºæ‰§è¡Œä¸­çš„å®¹å™¨æä¾›é»˜è®¤å€¼ã€‚è¿™äº›é»˜è®¤å€¼å¯ä»¥åŒ…æ‹¬ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥çœç•¥å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»åŒæ—¶æŒ‡å®šä¸€ä¸ªENTRYPOINTæŒ‡ä»¤ã€‚ä¸€ä¸ªDockeræ–‡ä»¶ä¸­åªèƒ½æœ‰ä¸€æ¡CMDæŒ‡ä»¤ã€‚å¦‚æœæœ‰å¤šä¸ªCMDï¼Œé‚£ä¹ˆåªæœ‰æœ€åä¸€ä¸ªCMDæ‰ä¼šç”Ÿæ•ˆã€‚ ENTRYPOINTï¼šå…è®¸ä½ é…ç½®ä¸€ä¸ªå°†ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶è¿è¡Œçš„å®¹å™¨ã€‚ docker run &lt;image&gt;çš„å‘½ä»¤è¡Œå‚æ•°å°†è¢«é™„åŠ åœ¨execå½¢å¼çš„ENTRYPOINTçš„æ‰€æœ‰å…ƒç´ ä¹‹åï¼Œå¹¶å°†è¦†ç›–æ‰€æœ‰ä½¿ç”¨CMDæŒ‡å®šçš„å…ƒç´ ã€‚è¿™å…è®¸å°†å‚æ•°ä¼ é€’ç»™å…¥å£ç‚¹ï¼Œä¾‹å¦‚ï¼Œdocker run -då°†æŠŠ-då‚æ•°ä¼ é€’ç»™å…¥å£ç‚¹ã€‚ä½ å¯ä»¥ä½¿ç”¨docker run --entrypointæ ‡å¿—æ¥è¦†ç›–ENTRYPOINTæŒ‡ä»¤ã€‚ åªæœ‰Dockeræ–‡ä»¶ä¸­çš„æœ€åä¸€æ¡ENTRYPOINTæŒ‡ä»¤æ‰ä¼šæœ‰æ•ˆæœã€‚ Q:å¦‚ä½•ä½¿å¾—é•œåƒè½»é‡ï¼Ÿ A:ä»ä¸€ä¸ªåˆé€‚çš„åŸºç¡€é•œåƒå¼€å§‹ï¼›ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºï¼›å¦‚æœä½ æœ‰å¤šä¸ªæœ‰å¾ˆå¤šå…±åŒç‚¹çš„é•œåƒï¼Œè€ƒè™‘ç”¨å…±äº«çš„ç»„ä»¶åˆ›å»ºä½ è‡ªå·±çš„åŸºç¡€é•œåƒï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šåˆ›å»ºä½ çš„ç‹¬ç‰¹é•œåƒï¼›ä¸ºäº†ä¿æŒä½ çš„ç”Ÿäº§å›¾åƒçš„ç²¾ç®€ï¼Œä½†å…è®¸è°ƒè¯•ï¼Œè€ƒè™‘ä½¿ç”¨ç”Ÿäº§å›¾åƒä½œä¸ºè°ƒè¯•å›¾åƒçš„åŸºç¡€å›¾åƒï¼›å½“å»ºç«‹å›¾åƒæ—¶ï¼Œæ€»æ˜¯ç”¨æœ‰ç”¨çš„tagsæ¥æ ‡è®°å®ƒä»¬ äº‘è®¡ç®—æŠ€æœ¯åŸºæœ¬åŸç† Kubernetesæ ¸å¿ƒåŸç†ä¸å…³é”®ç»„ä»¶ äº‘è®¡ç®—å®šä¹‰ï¼šäº‘è®¡ç®—æ˜¯ä¸€ç§åŠ¨æ€æ‰©å±•çš„è®¡ç®—æ¨¡å¼ï¼Œé€šè¿‡ç½‘ç»œå°†è™šæ‹ŸåŒ–çš„èµ„æºä½œä¸ºæœåŠ¡æä¾› äº‘æ¶æ„å›¾ Cloud Foundryäº‘å¹³å° Cloud Foundryæ˜¯VMwareäºæ¨å‡ºçš„ä¸šç•Œç¬¬ä¸€ä¸ªå¼€æºPaaSäº‘å¹³å°ï¼Œä¸“ä¸ºç§æœ‰äº‘è®¡ç®—ç¯å¢ƒã€ä¼ä¸šçº§æ•°æ®ä¸­å¿ƒå’Œå…¬æœ‰äº‘æœåŠ¡æä¾›å•†æ‰€æ‰“é€ ï¼Œå¯ä»¥ç®€åŒ–ç°ä»£åº”ç”¨ç¨‹åºçš„å¼€å‘ã€äº¤ä»˜å’Œè¿è¡Œè¿‡ç¨‹ï¼Œå®ƒæ”¯æŒå¤šç§æ¡†æ¶ã€è¯­è¨€ã€è¿è¡Œæ—¶ç¯å¢ƒã€äº‘å¹³å°åŠåº”ç”¨æœåŠ¡ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨å‡ ç§’é’Ÿå†…è¿›è¡Œåº”ç”¨ç¨‹åºçš„éƒ¨ç½²å’Œæ‰©å±•ï¼Œæ— éœ€æ‹…å¿ƒä»»ä½•åŸºç¡€æ¶æ„çš„é—®é¢˜ã€‚ Router Routeræ˜¯æ•´ä¸ªå¹³å°çš„æµé‡å…¥å£ï¼Œè´Ÿè´£åˆ†å‘æ‰€æœ‰çš„è¯·æ±‚åˆ°å¯¹åº”çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬æ¥è‡ªå¤–éƒ¨ç”¨æˆ·å¯¹appçš„è¯·æ±‚å’Œå¹³å°å†…éƒ¨çš„ç®¡ç†è¯·æ±‚ã€‚ Routeræ˜¯PaaSå¹³å°ä¸­è‡³å…³é‡è¦çš„ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒåœ¨å†…å­˜ä¸­ç»´æŠ¤äº†ä¸€å¼ è·¯ç”±è¡¨ï¼Œè®°å½•äº†åŸŸåä¸å®ä¾‹çš„å¯¹åº”å…³ç³»ï¼Œæ‰€è°“çš„å®ä¾‹è‡ªåŠ¨è¿ç§»ï¼Œé å¾—å°±æ˜¯è¿™å¼ è·¯ç”±è¡¨ï¼ŒæŸå®ä¾‹å®•æ‰äº†ï¼Œå°±ä»è·¯ç”±è¡¨ä¸­å‰”é™¤ï¼Œæ–°å®ä¾‹åˆ›å»ºäº†ï¼Œå°±åŠ å…¥è·¯ç”±è¡¨ã€‚ çŠ¶æ€æœåŠ¡ æ— çŠ¶æ€æœåŠ¡åœ¨å®¹å™¨åŒ–çš„ä¸–ç•Œé‡Œå¾ˆå—æ¬¢è¿ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œè€Œä¸”å¾ˆå®¹æ˜“ç”¨å®¹å™¨é•œåƒé‡æ–°åˆ›å»ºã€‚ é™¤äº†åƒWebæœåŠ¡å™¨è¿™æ ·çš„æ— çŠ¶æ€æœåŠ¡ï¼Œç”¨æˆ·è¶Šæ¥è¶Šå¤šåœ°ä½¿ç”¨å®¹å™¨æ¥éƒ¨ç½²æœ‰çŠ¶æ€æœåŠ¡ï¼Œä»¥å—ç›Šäº â€œä¸€æ¬¡æ„å»ºï¼Œéšåœ°è¿è¡Œâ€ï¼Œå¹¶æé«˜è£¸æœºæ•ˆç‡/åˆ©ç”¨ç‡ã€‚ è¿™äº› &quot;å® ç‰© &quot;ï¼ˆéœ€è¦æ»¡è¶³çš„éœ€æ±‚ï¼‰å¸¦æ¥äº†æ–°çš„è¦æ±‚ï¼ŒåŒ…æ‹¬æ›´é•¿çš„ç”Ÿå‘½å‘¨æœŸã€é…ç½®ä¾èµ–æ€§å’Œæœ‰çŠ¶æ€çš„æ•…éšœè½¬ç§»ã€‚å®¹å™¨ç¼–æ’å¿…é¡»è§£å†³è¿™äº›éœ€æ±‚ï¼Œä»¥æˆåŠŸéƒ¨ç½²å’Œæ‰©å±•åº”ç”¨ç¨‹åºã€‚ K8så‘½ä»¤ K8sè®¾è®¡åŸåˆ™ å£°æ˜å¼ çŠ¶æ€é©±åŠ¨ ç”¨æˆ·é€šè¿‡å£°æ˜å¼çš„é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ YAML æ–‡ä»¶ï¼‰å‘ Kubernetes å‘Šç™½è‡ªå·±å¸Œæœ›è¾¾åˆ°çš„ç³»ç»ŸçŠ¶æ€ï¼ˆä¾‹å¦‚ï¼šè¿è¡Œæ‹¥æœ‰ 5 ä¸ªå‰¯æœ¬çš„ nginx æœåŠ¡ï¼‰ã€‚ è¡ŒåŠ¨ï¼ˆReactï¼‰ Kubernetes çš„æ§åˆ¶ç»„ä»¶è´Ÿè´£å…·ä½“æ‰§è¡Œè¿™äº›æŒ‡ä»¤ï¼Œä½¿å¾—ç”¨æˆ·å£°æ˜çš„ç³»ç»ŸçŠ¶æ€å¾—ä»¥å®ç°ï¼›åœ¨æ­¤è¿‡ç¨‹ä¸­ä¸éœ€è¦ä»»ä½•äººå·¥çš„å‚ä¸ã€‚ è§‚æµ‹ï¼ˆObserveï¼‰ï¼š Kubernetesä¼šè§‚æµ‹åˆ°æ–°çš„ç”¨æˆ·å£°æ˜ï¼Œå¹¶è‡ªåŠ¨åˆ†æå‡ºéœ€è¦æ‰§è¡Œçš„æ“ä½œä»¥è¾¾åˆ°ç”¨æˆ·å£°æ˜çš„ç³»ç»ŸçŠ¶æ€ï¼ˆä¾‹å¦‚åœ¨é›†ç¾¤ä¸­é€‰å–5ä¸ªåˆé€‚çš„èŠ‚ç‚¹ï¼Œå¹¶åœ¨è¿™ 5 ä¸ªèŠ‚ç‚¹ä¸Šä¸‹è½½åˆé€‚çš„ nginx é•œåƒå¹¶å¯åŠ¨å®¹å™¨ï¼Œä»¥åŠé…ç½®ç›¸åº”çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ç­‰ï¼‰ã€‚ K8sæ¶æ„ Kubernetesä¸»è¦ç»„ä»¶æœ‰ï¼šAPI Serverã€Controller Managerã€Schedulerã€kubeletã€kube-proxyï¼Œå…¶ä¸­å‰ä¸‰è€…è¿è¡Œäºé›†ç¾¤çš„MasterèŠ‚ç‚¹ï¼Œåä¸¤è€…è¿è¡Œäºé›†ç¾¤çš„WorkerèŠ‚ç‚¹ã€‚ Master é›†ç¾¤æ§åˆ¶èŠ‚ç‚¹ï¼Œè´Ÿè´£é›†ç¾¤ç®¡ç†ä¸æ§åˆ¶ï¼Œé€šå¸¸è¿è¡Œåœ¨ç‹¬ç«‹ç‰©ç†èŠ‚ç‚¹æˆ–è€…è™šæ‹Ÿæœº è¿è¡Œå„ç±»å…³é”®è¿›ç¨‹ API Server ï¼ˆkube-apiserverï¼‰ï¼šæä¾›RESTæ¥å£çš„å…³é”®æœåŠ¡è¿›ç¨‹ é›†ç¾¤ç®¡ç†çš„APIå…¥å£ èµ„æºé…é¢æ§åˆ¶çš„å…¥å£ æä¾›äº†å®Œå¤‡çš„é›†ç¾¤å®‰å…¨æœºåˆ¶ Controller Managerï¼ˆkube-controller-manager)ï¼šæ‰€æœ‰èµ„æºçš„è‡ªåŠ¨åŒ–æ§åˆ¶ä¸­å¿ƒ ResourceQuota Controller Namespace Controller Endpoints Controller Schedulerï¼ˆKube-schedulerï¼‰ï¼šè´Ÿè´£Podèµ„æºè°ƒåº¦ Etcd Serverï¼šæ‰€æœ‰èµ„æºå¯¹è±¡çš„æ•°æ®å…¨éƒ¨ä¿å­˜åœ¨etcdä¸­ Node Kubernetesé›†ç¾¤ä¸­é™¤Masterå¤–çš„èŠ‚ç‚¹ï¼Œåˆå«Minionï¼ŒåŒæ ·å¯ä»¥æ˜¯ç‰©ç†ä¸»æœºæˆ–è€…è™šæ‹Ÿæœº ä½œä¸ºé›†ç¾¤ä¸­çš„å·¥ä½œè´Ÿè½½èŠ‚ç‚¹ï¼Œæ‰¿æ‹…Masteråˆ†é…çš„å·¥ä½œè´Ÿè½½ Nodeå¯ä»¥åŠ¨æ€å¢å‡ï¼Œæ–°å¢nodeä¼šè‡ªåŠ¨åˆ°masterèŠ‚ç‚¹æ³¨å†Œ Nodeè¿è¡Œçš„è¿›ç¨‹ï¼š kubeletï¼špodå¯åœåŠä¸masterèŠ‚ç‚¹åä½œ Ã˜èŠ‚ç‚¹ç®¡ç† Ã˜Podç®¡ç† Ã˜å®¹å™¨å¥åº·æ£€æŸ¥ Ã˜èµ„æºç›‘æ§ kube-proxyï¼šå®ç°Kubenetes Serviceé€šä¿¡ä¸è´Ÿè½½å‡è¡¡æœºåˆ¶ Docker Engineï¼šè´Ÿè´£æœ¬æœºå®¹å™¨çš„åˆ›å»ºå’Œç®¡ç†å·¥ä½œ Podï¼š Podæ˜¯ä¸€ç»„ç´§å¯†å…³è”çš„å®¹å™¨é›†åˆï¼Œæ˜¯Kubernetes è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œä¸å¯åˆ†å‰²ã€‚ ä¸€ä¸ªPodé‡Œçš„å¤šä¸ªå®¹å™¨å¯ä»¥å…±äº«å­˜å‚¨å’Œç½‘ç»œï¼Œå¯ä»¥çœ‹ä½œä¸€ä¸ªé€»è¾‘çš„ä¸»æœºã€‚å…±äº«çš„å¦‚ namespace,cgroupsæˆ–è€…å…¶ä»–çš„éš”ç¦»èµ„æºã€‚ åˆ›å»ºPodæ—¶çš„å¤§æ¦‚æµç¨‹ï¼š 1ï¼škubectl å‘K8s APIå‘é€ä¸€ä¸ªREST HTTPè¯·æ±‚ 2ï¼šè°ƒåº¦å™¨å°†å…¶è°ƒåº¦åˆ°ä¸€ä¸ªå·¥ä½œèŠ‚ç‚¹ä¸Š 3ï¼šè¢«è°ƒåº¦çš„å·¥ä½œèŠ‚ç‚¹ä¸Šçš„kubeletä¼šå‘ŠçŸ¥NodeèŠ‚ç‚¹ä¸Šçš„Docker engineæ‹‰å–é•œåƒï¼Œä¸‹è½½åè¿è¡Œå®¹å™¨ã€‚ åˆ›å»ºpod åˆ›å»ºPodå¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡å‘½ä»¤è¡ŒåŠ å„ç§å‘½ä»¤è¡Œå‚æ•°çš„æ–¹å¼ï¼Œå¦ä¸€ç§æ˜¯æ–‡ä»¶æ–¹å¼åˆ›å»ºï¼ˆæ¨èï¼‰ é€šè¿‡å‘½ä»¤è¡Œç›´æ¥åˆ›å»º: kubectl run ${name} --image=${imageName} --port=${port} (å®é™…æ˜¯è¿è¡Œäº†ä¸€ä¸ªdeploymentï¼Œè®©deploymentè‡ªåŠ¨åˆ›å»ºå¹¶ç»´æŠ¤pod) é€šè¿‡ymlæ–‡ä»¶åˆ›å»ºï¼Œ æ–‡ä»¶å¯ä»¥ä¸ºymlæˆ–è€…json: kubectl apply -f ${fiileName} åˆ é™¤Pods 1234567891011121314151617181920212223242526272829303132333435363738394041Examples: # Delete a pod using the type and name specified in pod.json. kubectl delete -f ./pod.json # Delete resources from a directory containing kustomization.yaml - e.g. dir/kustomization.yaml. kubectl delete -k dir # Delete a pod based on the type and name in the JSON passed into stdin. cat pod.json | kubectl delete -f - # Delete pods and services with same names &quot;baz&quot; and &quot;foo&quot; kubectl delete pod,service baz foo # Delete pods and services with label name=myLabel. kubectl delete pods,services -l name=myLabel # Delete a pod with minimal delay kubectl delete pod foo --now # Force delete a pod on a dead node kubectl delete pod foo --grace-period=0 --force # Delete all pods kubectl delete pods --allOptions: --all=false: Delete all resources, including uninitialized ones, in the namespace of the specified resource types. -A, --all-namespaces=false: If present, list the requested object(s) across all namespaces. Namespace in current context is ignored even if specified with --namespace. --cascade=true: If true, cascade the deletion of the resources managed by this resource (e.g. Pods created by a ReplicationController). Default true. --field-selector=&apos;&apos;: Selector (field query) to filter on, supports &apos;=&apos;, &apos;==&apos;, and &apos;!=&apos;.(e.g. --field-selector key1=value1,key2=value2). The server only supports a limited number of field queries per type. -f, --filename=[]: containing the resource to delete. --force=false: Only used when grace-period=0. If true, immediately remove resources from API and bypass graceful deletion. Note that immediate deletion of some resources may result in inconsistency or data loss and requires confirmation. --grace-period=-1: Period of time in seconds given to the resource to terminate gracefully. Ignored if negative. Set to 1 for immediate shutdown. Can only be set to 0 when --force is true (force deletion). --ignore-not-found=false: Treat &quot;resource not found&quot; as a successful delete. Defaults to &quot;true&quot; when --all is specified. -k, --kustomize=&apos;&apos;: Process a kustomization directory. This flag can&apos;t be used together with -f or -R. --now=false: If true, resources are signaled for immediate shutdown (same as --grace-period=1). -o, --output=&apos;&apos;: Output mode. Use &quot;-o name&quot; for shorter output (resource/name). -R, --recursive=false: Process the directory used in -f, --filename recursively. Useful when you want to manage related manifests organized within the same directory. -l, --selector=&apos;&apos;: Selector (label query) to filter on, not including uninitialized ones. --timeout=0s: The length of time to wait before giving up on a delete, zero means determine a timeout from the size of the object --wait=true: If true, wait for resources to be gone before returning. This waits for finalizers. Pod API å¯¹è±¡çš„åŸºæœ¬æ„æˆåŠä¹¦å†™æ ¼å¼ Podå„ç”Ÿå‘½å‘¨æœŸè¯´æ˜ Pendingï¼šæŒ‚èµ·ï¼ŒPodå·²è¢«Kubernetesç³»ç»Ÿæ¥å—ï¼Œä½†æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨é•œåƒå°šæœªåˆ›å»ºã€‚ ç­‰å¾…æ—¶é—´åŒ…æ‹¬Podè¢«è°ƒåº¦çš„æ—¶é—´å’Œé€šè¿‡ç½‘ç»œä¸‹è½½é•œåƒçš„æ—¶é—´ Runningï¼šè¿è¡Œä¸­ï¼Œè¯¥Podå·²ç»ç»‘å®šåˆ°äº†ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼ŒPodä¸­æ‰€æœ‰çš„å®¹å™¨éƒ½å·²è¢«åˆ›å»ºã€‚è‡³ å°‘æœ‰ä¸€ä¸ªå®¹å™¨æ­£åœ¨è¿è¡Œï¼Œæˆ–è€…æ­£å¤„äºå¯åŠ¨æˆ–é‡å¯çŠ¶æ€ Succeededï¼šPodä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½è¢«æˆåŠŸç»ˆæ­¢ Failedï¼šå¤±è´¥ï¼ŒPodä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å·²ç»ˆæ­¢äº†ï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨æ˜¯å› ä¸ºå¤±è´¥ç»ˆæ­¢ã€‚ä¹Ÿ å°±æ˜¯è¯´ï¼Œå®¹å™¨ä»¥é0çŠ¶æ€é€€å‡ºæˆ–è€…è¢«ç³»ç»Ÿç»ˆæ­¢ Unknownï¼šå› ä¸ºæŸäº›åŸå› æ— æ³•å–å¾—Podçš„çŠ¶æ€ï¼Œé€šå¸¸æ˜¯å› ä¸ºä¸Podæ‰€åœ¨ä¸»æœºé€šä¿¡å¤±è´¥ CrashLoopBackoffï¼šPodå¾ªç¯é‡å¯å´©æºƒï¼Œé€šå¸¸æ˜¯å®¹å™¨ä¸­çš„åº”ç”¨å´©æºƒé€ æˆ podé…ç½® ImagePullPolicy Alwaysï¼šä¸ç®¡é•œåƒæ˜¯å¦å­˜åœ¨éƒ½ä¼šè¿›è¡Œä¸€æ¬¡æ‹‰å– Neverï¼šä¸ç®¡é•œåƒæ˜¯å¦å­˜åœ¨éƒ½ä¸ä¼šè¿›è¡Œæ‹‰å– IfNotPresentï¼šåªæœ‰é•œåƒä¸å­˜åœ¨æ—¶ï¼Œæ‰ä¼šè¿›è¡Œé•œåƒæ‹‰å– RestartPolicy åœ¨Podä¸­çš„å®¹å™¨å¯èƒ½ä¼šç”±äºå¼‚å¸¸ç­‰åŸå› å¯¼è‡´å…¶ç»ˆæ­¢é€€å‡ºï¼ŒKubernetesæä¾›äº†é‡ å¯ç­–ç•¥ä»¥é‡å¯å®¹å™¨ã€‚é‡å¯ç­–ç•¥å¯¹åŒä¸€ä¸ªPodçš„æ‰€æœ‰å®¹å™¨èµ·ä½œç”¨ï¼Œå®¹å™¨çš„é‡å¯ç”± Nodeä¸Šçš„kubeletæ‰§è¡Œã€‚ Alwaysï¼šåªè¦é€€å‡ºå°±é‡å¯ OnFailureï¼šå¤±è´¥é€€å‡ºï¼ˆexit codeä¸ç­‰äº0ï¼‰æ—¶é‡å¯ Neverï¼šåªè¦é€€å‡ºå°±ä¸å†é‡å¯ æ³¨æ„ï¼Œè¿™é‡Œçš„é‡å¯æ˜¯æŒ‡åœ¨Podæ‰€åœ¨Nodeä¸Šé¢æœ¬åœ°é‡å¯ï¼Œå¹¶ä¸ä¼šè°ƒåº¦åˆ°å…¶ä»–Nodeä¸Šå»ã€‚ resources 123456789101112131415apiVersion: v1kind: Podmetadata: name: tomcatspec: containers: - name: tomcat image: tomcat:8.2.59 resources: requests: memory: \"500Mi\" cpu: \"500m\" limits: memory: \"1G\" cpu: \"1\" å¥åº·æ£€æŸ¥ ä¸ºäº†ç¡®ä¿å®¹å™¨åœ¨éƒ¨ç½²åç¡®å®å¤„åœ¨æ­£å¸¸è¿è¡ŒçŠ¶æ€ï¼ŒKubernetesæä¾›äº†ä¸¤ç§æ¢é’ˆï¼ˆProbeï¼‰æ¢æµ‹çŠ¶æ€ï¼š LivenessProbeï¼šæ¢æµ‹åº”ç”¨æ˜¯å¦å¤„äºå¥åº·çŠ¶æ€ï¼Œå¦‚æœä¸å¥åº·åˆ™åˆ é™¤å¹¶é‡å¯å®¹å™¨ ReadinessProbeï¼šæ¢æµ‹åº”ç”¨æ˜¯å¦å¯åŠ¨å®Œæˆå¹¶ä¸”å¤„äºæ­£å¸¸æœåŠ¡çŠ¶æ€ï¼Œå¦‚æœä¸æ­£å¸¸åˆ™ä¸ä¼šæ¥æ”¶æ¥è‡ªKubernetes Serviceçš„æµé‡ Kubernetesæ”¯æŒä¸‰ç§æ–¹å¼æ¥æ‰§è¡Œæ¢é’ˆï¼š execï¼šåœ¨å®¹å™¨ä¸­æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¦‚æœå‘½ä»¤é€€å‡ºç è¿”å›0åˆ™è¡¨ç¤ºæ¢æµ‹æˆåŠŸï¼Œå¦åˆ™è¡¨ç¤ºå¤±è´¥ tcpSocketï¼šå¯¹æŒ‡å®šçš„å®¹å™¨IPåŠç«¯å£æ‰§è¡Œä¸€ä¸ªTCPæ£€æŸ¥ï¼Œå¦‚æœç«¯å£æ˜¯å¼€æ”¾çš„åˆ™è¡¨ç¤ºæ¢æµ‹æˆåŠŸï¼Œå¦åˆ™è¡¨ç¤ºå¤±è´¥ httpGetï¼šå¯¹æŒ‡å®šçš„å®¹å™¨IPã€ç«¯å£åŠè·¯å¾„æ‰§è¡Œä¸€ä¸ªHTTP Getè¯·æ±‚ï¼Œå¦‚æœè¿”å›çš„çŠ¶æ€ç åœ¨[200,400)ä¹‹é—´åˆ™è¡¨ç¤ºæ¢ æµ‹æˆåŠŸï¼Œå¦åˆ™è¡¨ç¤ºå¤±è´¥ 123456789livenessProbe: httpGet: path: / port: 8080 httpHeaders: - name: X-Custom-Header value: Awesome initialDelaySeconds: 3 periodSeconds: 3 Probeçš„ç²¾ç¡®é…ç½®: initialDelaySecondsï¼šå®¹å™¨å¯åŠ¨åç¬¬ä¸€æ¬¡æ‰§è¡Œæ¢æµ‹æ˜¯éœ€è¦ç­‰å¾…å¤šå°‘ç§’ periodSecondsï¼šæ‰§è¡Œæ¢æµ‹çš„é¢‘ç‡ã€‚é»˜è®¤æ˜¯10ç§’ï¼Œæœ€å°1ç§’ timeoutSecondsï¼šæ¢æµ‹è¶…æ—¶æ—¶é—´ã€‚é»˜è®¤1ç§’ï¼Œæœ€å°1ç§’ successThresholdï¼šæ¢æµ‹å¤±è´¥åï¼Œæœ€å°‘è¿ç»­æ¢æµ‹æˆåŠŸå¤šå°‘æ¬¡æ‰è¢«è®¤å®šä¸ºæˆåŠŸã€‚é»˜è®¤æ˜¯1 å¯¹äºlivenesså¿…é¡»æ˜¯1ï¼Œæœ€å°å€¼æ˜¯1 failureThresholdï¼šæ¢æµ‹æˆåŠŸåï¼Œæœ€å°‘è¿ç»­æ¢æµ‹å¤±è´¥å¤šå°‘æ¬¡æ‰è¢«è®¤å®šä¸ºå¤±è´¥ã€‚é»˜è®¤æ˜¯3 æœ€å°å€¼æ˜¯1 Labelå’ŒLabel Selector Label å®šä¹‰labelï¼š kubectl label ${sourceType} ${name} key=value æŸ¥çœ‹labelï¼š kubectl get ${type} --show-labels åˆ é™¤labelï¼š kubectl label ${type} ${name} key- Labels Selectorï¼š é€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆLabels Selectorsï¼‰ï¼Œè¿›è¡ŒæŸ¥è¯¢å’Œç­›é€‰æ‹¥æœ‰ç‰¹å®šLabelçš„èµ„æºå¯¹è±¡ ç›®å‰æ”¯æŒä¸¤ç§é€‰æ‹©å™¨ï¼šequality-basedï¼ˆåŸºäºå¹³ç­‰ï¼‰å’Œset-basedï¼ˆåŸºäºé›†åˆï¼‰çš„ Equality-basedï¼šåŸºäºç›¸ç­‰çš„æˆ–è€…ä¸ç›¸ç­‰çš„æ¡ä»¶å…è®¸ç”¨æ ‡ç­¾çš„keyså’Œvaluesè¿›è¡Œè¿‡æ»¤ã€‚åŒ¹é… çš„å¯¹è±¡å¿…é¡»æ»¡è¶³æ‰€æœ‰æŒ‡å®šçš„æ ‡ç­¾çº¦æŸï¼Œå°½ç®¡ä»–ä»¬å¯èƒ½ä¹Ÿæœ‰é¢å¤–çš„æ ‡ç­¾ã€‚æœ‰ä¸‰ç§è¿ç®—ç¬¦æ˜¯å… è®¸çš„ï¼Œâ€œ=â€ï¼Œâ€œ==â€å’Œâ€œ!=â€ã€‚å‰ä¸¤ç§ä»£è¡¨ç›¸ç­‰æ€§ï¼ˆä»–ä»¬æ˜¯åŒä¹‰è¿ç®—ç¬¦ï¼‰ï¼Œåä¸€ç§ä»£è¡¨ éç›¸ç­‰æ€§ï¼Œå¤šä¸ªå¯ç”¨é€—å·éš”å¼€å¦‚ï¼Œéç”Ÿäº§nginxï¼šenvironment!=production,app=nginx Set-basedï¼šç”¨ä¸€ç»„valueæ¥è¿‡æ»¤keyã€‚æ”¯æŒä¸‰ç§æ“ä½œç¬¦: In ï¼ŒNotInï¼ŒExistsï¼ŒDoesNotExistsï¼Œ å‰ä¸¤ä¸ªvalueä¸èƒ½ä¸ºç©ºï¼Œåä¸¤ä¸ªä»…é’ˆå¯¹äºkeyï¼Œæ²¡æœ‰value labelsï¼Œselectoræ“ä½œ Controller controller manager æ˜¯å„ç§controllerçš„ç®¡ç†è€…,æ˜¯é›†ç¾¤å†…éƒ¨çš„ç®¡ç†æ§åˆ¶ä¸­å¿ƒã€‚ åœ¨K8S æ‹¥æœ‰å¾ˆå¤šcontroller ä»–ä»¬çš„èŒè´£æ˜¯ä¿è¯é›†ç¾¤ä¸­å„ç§èµ„æºçš„çŠ¶æ€å’Œç”¨æˆ·å®šä¹‰(yaml)çš„çŠ¶æ€ä¸€è‡´, ç¡®ä¿ä»»ä½•æ—¶å€™éƒ½åœ¨è¿è¡ŒæŒ‡å®šæ•°é‡çš„Podå‰¯æœ¬ã€‚ æ¢å¥è¯è¯´,Controllerç¡®ä¿ä¸€ä¸ªå®¹å™¨æˆ–ä¸€ç»„ç›¸åŒçš„å®¹å™¨å§‹ç»ˆå¤„äºå¯ç”¨çŠ¶æ€ã€‚ ReplicationController ReplicaSet Deployments DaemonSet StatefulSets Deployment Deploymenté¢å‘çš„æ˜¯éƒ¨ç½²æ— çŠ¶æ€åº”ç”¨ï¼Œ statefulset : éƒ¨ç½²æœ‰çŠ¶æ€åº”ç”¨ Deploymentçš„å…¸å‹åº”ç”¨åœºæ™¯ å®šä¹‰Deploymentæ¥åˆ›å»ºPodå’ŒReplicaSet æ»šåŠ¨å‡çº§å’Œå›æ»šåº”ç”¨ `â€¢kubectl rollout undo deployment/nginx-deployment â€¢deployment â€œnginx-deploymentâ€ rolled back` æ‰©å®¹å’Œç¼©å®¹ æš‚åœå’Œç»§ç»­ Kubernetesä¸Šæœ‰çŠ¶æ€æœåŠ¡ Volume Persistent Volume demoï¼šåˆ›å»ºåŒ…å«3ä¸ªnginxåº”ç”¨podçš„deployment 12345678910111213141516apiVersion: extensions/v1beta1 kind: Deploymentmetadata: name: nginx-deploymentspec: replicas: 3 template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.7.9 ports: - containerPort: 80 æ‚¨å¯ä»¥å†³å®šè¿è¡Œ Podï¼Œä½†å½“å®ƒä»¬æ­»å»æ—¶ï¼Œå®ƒä»¬å°±ä¼šæ­»å»ã€‚ éƒ¨ç½²å°†ä½¿æ‚¨çš„ pod èƒ½å¤Ÿè¿ç»­è¿è¡Œã€‚ éƒ¨ç½²å…è®¸æ‚¨åœ¨ä¸åœæœºçš„æƒ…å†µä¸‹æ›´æ–°æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ éƒ¨ç½²è¿˜æŒ‡å®šäº†åœ¨ Pod æ­»äº¡æ—¶é‡å¯ Pod çš„ç­–ç•¥ replicaSets Deployment è¿˜å¯ä»¥åˆ›å»º ReplicaSet ReplicaSet å¯ç¡®ä¿æ‚¨çš„åº”ç”¨æ‹¥æœ‰æ‰€éœ€æ•°é‡çš„ Pod ReplicaSets å°†åŸºäº Deployment åˆ›å»ºå’Œæ‰©å±• Pods Deploymentsã€ReplicaSetsã€Pods ä¸æ˜¯ç‹¬å çš„ï¼Œä½†å¯ä»¥æ˜¯ deamonSets DaemonSets ç”¨äºè¿ç»­è¿›ç¨‹ ä»–ä»¬æ¯ä¸ªèŠ‚ç‚¹è¿è¡Œä¸€ä¸ª Podã€‚ æ¯ä¸ªæ·»åŠ åˆ°é›†ç¾¤çš„æ–°èŠ‚ç‚¹éƒ½ä¼šå¯åŠ¨ä¸€ä¸ª pod ç”¨äºç›‘æ§å’Œæ—¥å¿—æ”¶é›†ç­‰åå°ä»»åŠ¡ StatefulSets æ‚¨çš„åº”ç”¨ç¨‹åºæ˜¯å¦è¦æ±‚æ‚¨ä¿ç•™æœ‰å…³å…¶çŠ¶æ€çš„ä¿¡æ¯ï¼Ÿ æ•°æ®åº“éœ€è¦çŠ¶æ€ StatefulSet çš„ Pod ä¸å¯äº’æ¢ã€‚ æ¯ä¸ª Pod éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ã€æŒä¹…çš„æ ‡è¯†ç¬¦ï¼Œæ§åˆ¶å™¨åœ¨ä»»ä½•é‡æ–°è°ƒåº¦æ—¶éƒ½ä¼šç»´æŠ¤è¯¥æ ‡è¯†ç¬¦ã€‚ Serviceè¯¦è§£ï¼š Kubernetesä¸­æœ€æ ¸å¿ƒçš„èµ„æºå¯¹è±¡ä¹‹ä¸€ï¼ŒPodã€RCç­‰å…¶å®éƒ½æ˜¯Service Serviceæ˜¯å¯¹ä¸€ç»„æä¾›ç›¸åŒåŠŸèƒ½çš„Podsçš„æŠ½è±¡ï¼Œå¹¶ä¸ºå®ƒä»¬æä¾›ä¸€ä¸ªç»Ÿä¸€çš„å…¥å£ï¼Œç®€å•æ¥è¯´ï¼Œå¯ä»¥æŠŠserviceç†è§£ä¸ºä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨ã€‚å€ŸåŠ©Serviceï¼Œåº”ç”¨å¯ä»¥æ–¹ä¾¿çš„å®ç° æœåŠ¡å‘ç°ä¸è´Ÿè½½å‡è¡¡ï¼Œå¹¶å®ç°åº”ç”¨çš„ç¨³å®šå‡çº§ã€‚Serviceé€šè¿‡æ ‡ç­¾æ¥é€‰å–æœåŠ¡åç«¯ï¼Œä¸€èˆ¬é…åˆReplication Controlleræˆ–è€…Deploymentæ¥ä¿è¯åç«¯å®¹å™¨çš„æ­£å¸¸è¿è¡Œã€‚è¿™äº›åŒ¹é…æ ‡ç­¾çš„Pod IPå’Œç«¯å£åˆ—è¡¨ç»„æˆendpointsï¼Œç”± kube-proxyè´Ÿè´£å°†æœåŠ¡IPè´Ÿè½½å‡è¡¡åˆ°è¿™äº›endpointsä¸Šã€‚ å®ƒå®šä¹‰äº†ä¸€ç»„Podçš„é€»è¾‘é›†åˆå’Œä¸€ä¸ªç”¨äºè®¿é—®å®ƒä»¬çš„ç­–ç•¥ï¼Œå…¶å®è¿™ä¸ªæ¦‚å¿µå’Œå¾®æœåŠ¡éå¸¸ç±»ä¼¼ã€‚ä¸€ä¸ªSerivceä¸‹é¢åŒ…å«çš„Podé›†åˆä¸€èˆ¬æ˜¯ç”±Label Selectoræ¥å†³å®šçš„ã€‚ Serviceé»˜è®¤æœ‰è‡ªå·±çš„ipå’Œç«¯å£çš„å«cluster-ipå’Œportæ„æˆäº†endpointï¼Œå†…éƒ¨å¯ä»¥ç›´æ¥é€šè¿‡è¿™ä¸ªendpointå»è®¿é—®åº”ç”¨ã€‚ ä¸è¿‡æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œè¿™ä¸ªcluster-ipæ˜¯ä¸ªVirtual IPï¼Œå®ƒæ˜¯pingä¸é€šçš„ï¼Œåº•å±‚è½¬å‘æ˜¯é€šè¿‡nodeèŠ‚ç‚¹ä¸Šçš„kube-proxyè°ƒç”¨iptablesç”Ÿæˆå¯¹åº”çš„è½¬å‘è§„åˆ™ã€‚ ClusterIPï¼šé»˜è®¤ç±»å‹ï¼Œè‡ªåŠ¨åˆ†é…ä¸€ä¸ªä»…clusterå†…éƒ¨å¯ä»¥è®¿é—®çš„è™šæ‹ŸIP NodePortï¼šåœ¨ClusterIPåŸºç¡€ä¸Šä¸ºServiceåœ¨æ¯å°æœºå™¨ä¸Šç»‘å®šä¸€ä¸ªç«¯å£ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡&lt;NodeIP&gt;:NodePortæ¥ è®¿é—®è¯¥æœåŠ¡ LoadBalancerï¼šåœ¨NodePortçš„åŸºç¡€ä¸Šï¼Œå€ŸåŠ©cloud provideråˆ›å»ºä¸€ä¸ªå¤–éƒ¨çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œå¹¶å°†è¯·æ±‚è½¬å‘åˆ° Serviceæœ‰å››ç§ç±»å‹ï¼š ClusterIP NodePort LoadBalancer ExternalName Serviceå®šä¹‰ Serviceçš„å®šä¹‰ä¹Ÿæ˜¯é€šè¿‡yamlæˆ–jsonï¼Œæ¯” å¦‚ä¸‹é¢å®šä¹‰äº†ä¸€ä¸ªåä¸ºnginxçš„æœåŠ¡ï¼Œ å°† æœ åŠ¡ çš„ 80 ç«¯ å£ è½¬ å‘ åˆ° default namespaceä¸­å¸¦æœ‰æ ‡ç­¾run=nginxçš„Pod çš„80ç«¯å£ 12345678910111213141516apiVersion: v1 kind: Service metadata: labels: run: nginx name: nginx namespace: default spec: ports: - port: 80 # k8s é›†ç¾¤å†…éƒ¨è®¿é—®serviceç«¯å£ï¼Œ é€šè¿‡cluster_ip:port è¯·æ±‚æŸä¸ªservice protocol: TCP targetPort: 80 selector: run: nginx sessionAffinity: None type: ClusterIP Q: å¦‚ä½•è®¿é—®æœåŠ¡? æ¯ä¸ªPodéƒ½æä¾›ç‹¬ç«‹çš„EndPointï¼ˆPod IP + Container Portï¼‰ï¼Œè®¿é—®è¯·æ±‚å¦‚ä½•æ˜ å°„åˆ°å…·ä½“çš„Podï¼Ÿ A: å¼€å¯è´Ÿè½½å‡è¡¡å™¨kube-proxyï¼Œå®¢æˆ·ç«¯é€šè¿‡è´Ÿè½½å‡è¡¡å™¨è°ƒåº¦åˆ°ç›¸åº”çš„podï¼Œæ¯ä¸ªServiceåˆ†é…ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„è™šæ‹ŸIPåœ°å€ï¼ˆCluster IPï¼‰ï¼ŒPodçš„Endpointåœ°å€ä¼šéšç€podçš„é”€æ¯å’Œåˆ›æ–°åˆ›å»ºè€Œæ”¹å˜ï¼Œä½†æ˜¯cluster ipåœ¨Serviceç”Ÿå‘½å‘¨æœŸå†…ä¸ä¼šæ”¹å˜ï¼Œå› æ­¤ç”¨servcie nameå’Œcluster ipä½œä¸ºDNSåŸŸåï¼Œå°±å¯ä»¥è§£å†³æœåŠ¡è®¿é—®é—®é¢˜ å¤–éƒ¨ç³»ç»Ÿè®¿é—®Service: Node IPï¼š èŠ‚ç‚¹IPåœ°å€ï¼ŒçœŸå®ç½‘ç»œç½‘å¡çš„IP Pod IPï¼šPodçš„IPåœ°å€ï¼Œæ ¹æ®docker0ç½‘æ¡¥çš„IPæ®µè¿›è¡Œåˆ†é…ï¼Œè™šæ‹ŸäºŒå±‚ç½‘ç»œï¼Œå®ç°Podä¹‹é—´çš„é€šä¿¡ Cluster IP: Service IPåœ°å€ ä»…æœåŠ¡Kubernetes Serviceå¯¹è±¡ æ²¡æœ‰å¯¹åº”çš„å®ä½“ç½‘ç»œï¼Œæ— æ³•ç›´æ¥pingé€š åªèƒ½ç»“åˆService Portç»„æˆå…·ä½“é€šä¿¡ç«¯å£ï¼Œé›†ç¾¤ä¹‹å¤–æ— æ³•è®¿é—® é›†ç¾¤å†…å¯ä»¥ä½¿ç”¨å†…éƒ¨è·¯ç”±è§„åˆ™è¿›è¡Œé€šä¿¡ï¼Œå¦‚ä½•åœ¨å¤–éƒ¨è®¿é—®ï¼ŸNodePort IPå’ŒPort è§ï¼š https://zhuanlan.zhihu.com/p/358916098 å„portä¹‹é—´çš„åŒºåˆ«ï¼š portï¼šk8sé›†ç¾¤å†…éƒ¨æœåŠ¡ä¹‹é—´è®¿é—®serviceçš„å…¥å£ï¼ˆClusterIP:Portï¼‰ targetPortï¼šå®¹å™¨åº”ç”¨è¿è¡Œç«¯å£ï¼ˆæœ€ç»ˆçš„æµé‡ç«¯å£ï¼‰ï¼Œå¦‚nginxæ˜¯80ã€mysqlæ˜¯3306 nodePortï¼šå¤–éƒ¨æµé‡è®¿é—®k8sé›†ç¾¤ä¸­serviceå…¥å£çš„ä¸€ç§æ–¹å¼(NodeIP:NodePort) å¦‚ä½•å°†æœåŠ¡æš´éœ²ç»™å¤–éƒ¨å®¢æˆ·ç«¯ï¼Ÿ å°†æœåŠ¡çš„ç±»å‹è®¾ç½®æˆNodePort æ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹éƒ½ä¼šåœ¨èŠ‚ç‚¹ä¸Šæ‰“å¼€ä¸€ä¸ªç«¯å£ï¼Œå¯¹äºNodePortæœåŠ¡ï¼Œæ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹åœ¨èŠ‚ç‚¹æœ¬èº«ä¸Šæ‰“å¼€ä¸€ä¸ªç«¯å£ï¼Œå¹¶å°†åœ¨è¯¥ç«¯å£ä¸Šæ¥æ”¶åˆ°çš„æµé‡é‡å®šå‘åˆ°åŸºç¡€æœåŠ¡ã€‚æ‰€ä»¥è¯¥æœåŠ¡ä»…åœ¨å†…éƒ¨é›†ç¾¤IP å’Œç«¯å£ä¸Šæ‰å¯è®¿é—® 123456789101112apiVersion: v1 kind: Servicemetadata: name: my-servicespec: type: NodePort #ä¸ºNodePortè®¾ç½®æœåŠ¡ç±»å‹ ports: - port: 80 # k8s é›†ç¾¤å†…éƒ¨è®¿é—®serviceç«¯å£[æœåŠ¡é›†ç¾¤IP (service cluster IP)çš„ç«¯å£å·]ï¼Œ é€šè¿‡clusterip:port è¯·æ±‚æŸä¸ªservice targetPort: 8080 # èƒŒåPodçš„ç›®æ ‡ç«¯å£å· nodePort: 30123 # é€šè¿‡é›†ç¾¤èŠ‚ç‚¹çš„30123ç«¯å£å¯ä»¥è®¿é—®è¯¥æœåŠ¡ selector: app: nginx ä¿å­˜å¥½yamlæ–‡ä»¶å¯ç”¨é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºå¹¶ä¸”æŸ¥çœ‹ç›®æ ‡æœåŠ¡, $ kubectl apply â€“f service.yaml, $ kubectl get svc my-service PORT(S)åˆ—æ˜¾ç¤ºé›†ç¾¤IP (80) çš„å†…éƒ¨ç«¯å£å’ŒèŠ‚ç‚¹ç«¯å£(30123) å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®è¯¥æœåŠ¡ï¼š10.11.254.223:80 æœåŠ¡æš´éœ²åœ¨ä¸¤ä¸ªé›†ç¾¤èŠ‚ç‚¹çš„ç«¯å£30123ä¸Šï¼Œå®ƒåˆ°è¾¾ä»»ä½•ä¸€ä¸ªç«¯å£çš„ä¼ å…¥è¿æ¥å°†éƒ½è¢«é‡å®šå‘åˆ°ä¸€ä¸ªéšæœºé€‰æ‹©çš„pod, è¯¥podæ˜¯å¦ä½äºæ¥æ”¶åˆ°è¿æ¥çš„èŠ‚ç‚¹ä¸Šæ˜¯ä¸ç¡®å®šçš„ã€‚ åœ¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ç«¯å£30123æ”¶åˆ°çš„è¿æ¥ï¼Œ å¯ä»¥è¢«é‡å®šå‘åˆ°ç¬¬ä¸€èŠ‚ç‚¹ä¸ªä¸Šè¿è¡Œçš„ pod, ä¹Ÿå¯èƒ½æ˜¯ç¬¬äºŒä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œçš„pod æ‰€ä»¥åœ¨é€šè¿‡èŠ‚ç‚¹ç«¯å£è®¿é—´æœåŠ¡ä¹‹å‰ï¼Œ æœ‰æ—¶éœ€è¦é…ç½®é˜²ç«å¢™ï¼Œ æ¥å…è®¸å¤–éƒ¨è¿æ¥åˆ°è¯¥ç«¯å£ä¸Šçš„èŠ‚ç‚¹ã€‚ å°†æœåŠ¡çš„ç±»å‹è®¾ç½®æˆLoadBalanceï¼ˆè´Ÿè½½å‡è¡¡å™¨ï¼‰ è´Ÿè½½å‡è¡¡å™¨æ‹¥æœ‰è‡ªå·±ç‹¬ä¸€æ— äºŒçš„å¯å…¬å¼€è®¿é—®çš„ IP åœ°å€ï¼Œ å¹¶å°†æ‰€æœ‰è¿æ¥é‡å®šå‘åˆ°æœåŠ¡ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è´Ÿè½½å‡è¡¡å™¨çš„ IP åœ°å€è®¿é—®æœåŠ¡ã€‚ å¦‚æœKubernetesåœ¨ä¸æ”¯æŒLoad BalanceræœåŠ¡çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œ åˆ™ä¸ä¼šè°ƒé…è´Ÿè½½å¹³è¡¡å™¨ï¼Œ ä½†è¯¥æœåŠ¡ä»å°†è¡¨ç°å¾—åƒä¸€ä¸ªNodePortæœåŠ¡ã€‚ è¿™æ˜¯å› ä¸ºLoad BalanceræœåŠ¡æ˜¯NodePortæœåŠ¡çš„æ‰©å±•ã€‚ 1234567891011apiVersion: v1 kind: Servicemetadata: name: loadbalancer-servicespec: type: LoadBalancer # ä¸ºLoadBalanceè®¾ç½®æœåŠ¡ç±»å‹ ports: - port: 80 # æœåŠ¡é›†ç¾¤IPçš„ç«¯å£å· targetPort: 8080 # èƒŒåPodçš„ç›®æ ‡ç«¯å£å· selector: app: redis PORT(S)åˆ—æ˜¾ç¤ºé›†ç¾¤IP (80) çš„å†…éƒ¨ç«¯å£å’ŒèŠ‚ç‚¹ç«¯å£(31698) å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®è¯¥æœåŠ¡ï¼š10.99.34.164:80 åˆ›å»ºä¸€ä¸ªIngressèµ„æº ä¸ºä»€ä¹ˆéœ€è¦ Ingress ï¼Ÿ ä¸€ä¸ªé‡è¦çš„åŸå› æ˜¯æ¯ä¸ª LoadBalancer æœåŠ¡éƒ½éœ€è¦è‡ªå·±çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œ ä»¥åŠç‹¬æœ‰çš„å…¬æœ‰IP åœ°å€ï¼Œè€Œ Ingress åªéœ€è¦ä¸€ä¸ªå…¬ç½‘ IP å°±èƒ½ä¸ºè®¸å¤šæœåŠ¡æä¾›è®¿é—®ã€‚ å½“å®¢æˆ·ç«¯å‘ Ingress å‘é€ HTTPè¯·æ±‚æ—¶ï¼ŒIngress ä¼šæ ¹æ®è¯·æ±‚çš„ä¸»æœºåå’Œè·¯å¾„å†³å®šè¯·æ±‚è½¬å‘åˆ°çš„æœåŠ¡ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839# å•è§„åˆ™çš„ IngressapiVersion: extensions/v1beta1 kind: Ingressmetadata:name: test-ingress spec: backend: # serviceName: test # å°†æ‰€æœ‰çš„è¯·æ±‚å‘é€åˆ°testæœåŠ¡çš„80ç«¯å£ servicePort: 80 # # æ ¹æ®ä¸åŒè·¯å¾„è½¬å‘åˆ°ä¸åŒæœåŠ¡å™¨â€¦spec: rules: - host: website.com http: paths: - path: /web backend: serviceName: s1 servicePort: 80 - path: /api backend: serviceName: s2 servicePort: 8081# æ ¹æ®ä¸åŒçš„ä¸»æœºï¼ˆhost) æš´éœ²å‡ºå¤šç§æœåŠ¡spec: rules: - host: foo.bar.com http: paths: - backend: serviceName: s1 servicePort: 80 - host: bar.foo.com http: paths: - backend: serviceName: s2 servicePort: 80 serviceä¸deploymentåŒºåˆ« podï¼š pod æ˜¯ kubernetes ä¸­æœ€å°çš„ç¼–æ’å•ä½ï¼Œé€šå¸¸ç”±ä¸€ä¸ªå®¹å™¨ç»„æˆ (æœ‰æ—¶å€™ä¼šæœ‰å¤šä¸ªå®¹å™¨ç»„æˆ) serviceï¼š ä¸€ä¸ªç½‘ç»œä¸‹çš„podé›†åˆã€‚service ä½¿ç”¨labelsæ ‡ç­¾æ¥é€‰æ‹©ä»£ç†çš„podã€‚ Deploymentï¼šä¸ºäº†åœ¨ k8s ä¸­ç¼–æ’åº”ç”¨å¯ä»¥æ›´å¥½åœ°åšå¼¹æ€§æ‰©å®¹ï¼Œè´Ÿè½½å‡è¡¡ï¼Œdeployment ä½œç”¨äºä¸€ç»„podsçš„åˆ›å»ºå’Œè¿è¡Œ â–²æ‰€ä»¥service å’Œdeploymentçš„åŒºåˆ«ï¼Œå°±æ˜¯ä¸€ä¸ªæ˜¯ä»ç½‘ç»œè§’åº¦çš„æŠ½è±¡æ¦‚å¿µserviceï¼Œç±»å‹nginxåšè´Ÿè½½å‡è¡¡æä¾›çš„ç»Ÿä¸€ç½‘ç»œå…¥å£ã€‚è€Œpodæ˜¯æœ€ç»ˆçš„åº”ç”¨éƒ¨ç½²å®ä½“ã€‚ deoplyment è´Ÿè´£åˆ›å»ºå’Œä¿æŒpodè¿è¡ŒçŠ¶æ€ service å¯ä»¥ç‹¬ç«‹äºdeploymentå·¥ä½œï¼Œä½†æ˜¯éœ€è¦ä¸€ä¸ªä¸ªå»åˆ›å»ºpodï¼Œè€Œä¸æ˜¯åƒdeploymenté‚£æ ·ä¸€æ¬¡æ€§åˆ›å»ºã€‚deploymentä¹Ÿå¯ä»¥ç‹¬ç«‹äºserviceå·¥ä½œã€‚è™½ç„¶serviceå’Œdeploymentæ˜¯æœ‰åŒºåˆ«çš„ï¼Œä½†ä¸å½±å“ä»–ä»¬ä¸€åŒååŒå·¥ä½œ ConfigMap ConfigMapç”¨äºä¿å­˜é…ç½®æ•°æ®çš„é”®å€¼å¯¹ï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜å•ä¸ªå±æ€§ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥ä¿å­˜é…ç½®æ–‡ä»¶ã€‚ å¯ä»¥ä½¿ç”¨kubectl create configmapä»æ–‡ä»¶ã€ç›®å½•æˆ–è€…key-valueå­—ç¬¦ä¸²åˆ›å»ºç­‰åˆ›å»º ConfigMapã€‚ä¹Ÿå¯ä»¥é€šè¿‡kubectl create -f fileåˆ›å»ºã€‚ HPA(Horizontal Pod Autoscaler) Kubernetesèµ„æºå¯¹è±¡ï¼Œæ”¯æŒPodæ¨ªå‘è‡ªåŠ¨æ‰©å®¹ Podè´Ÿè½½åº¦é‡æŒ‡æ ‡ï¼š CPU utilizaiton â€” Pod CPUåˆ©ç”¨ç‡å‡å€¼ TPS or Qps å®¹å™¨åŒ–æ”¹é€ è¿‡ç¨‹ ç¬¬ä¸€æ­¥ï¼šç®€å•å®¹å™¨åŒ–ï¼Œåº”ç”¨æ— æ”¹é€ â€”&gt;æ•ˆæœï¼šè‡ªåŠ¨åŒ–åº”ç”¨ä¸Šçº¿ã€å‡çº§ã€ç‰ˆæœ¬å›æ»šã€ç›‘æ§ã€æŠ¥è­¦ ç¬¬äºŒæ­¥ï¼šåº”ç”¨å»çŠ¶æ€â€”&gt; æ•ˆæœï¼šè‡ªåŠ¨åŒ–æ•…éšœæ¢å¤ã€é«˜å¯ç”¨ ç¬¬ä¸‰æ­¥ï¼šå¾®æœåŠ¡ï¼Œå¯é‡ç”¨ ä¼ ç»Ÿå•ä½“æ¶æ„ç¼ºç‚¹ï¼š åŠ è½½ã€ç¼–è¯‘è€—æ—¶é•¿ ä»£ç ç®¡ç†å¤æ‚ æ¨ªå‘æ‰©å±•éš¾ å„æ¨¡å—ä¹‹é—´è€¦åˆåº¦é«˜ æ¨¡å—é—®é¢˜æ’æŸ¥å›°éš¾ å¾®æœåŠ¡æ¶æ„ä¼˜ç‚¹ï¼š å…è®¸ä¸åŒè¯­è¨€ç¼–å†™ï¼Œæ˜“äºå¼•å…¥æ–°æŠ€æœ¯ å¾®æœåŠ¡å•†åº—æ¨¡å¼ï¼Œå¿«é€Ÿç»„åˆä¸é‡æ„ æ¨¡å—è§£è€¦ï¼Œä¸åŒçš„SLAä¿éšœè®¡åˆ’ æ›´é«˜çš„æ‰©å±•æ€§å’Œå¯ç”¨æ€§ Kubernetesç½‘ç»œåŸç† Kubernetesç½‘ç»œè®¾è®¡ä¸»è¦è€ƒè™‘äº†å‡ ç§é€šä¿¡åœºæ™¯ åŒä¸€ä¸ªPodå†…å®¹å™¨é—´äº’é€š åŒä¸€ä¸ªNodeä¸ŠPodé—´äº’é€š Pod1ä¸Pod2éƒ½æ˜¯é€šè¿‡è™šæ‹Ÿç½‘ç»œè®¾å¤‡Vethï¼Œ è¿æ¥åˆ°åŒä¸€ä¸ªdocker0 bridgeçš„ï¼Œè¿™ä¸¤ä¸ª Podçš„IPåœ°å€ä¹Ÿæ˜¯é€šè¿‡docker0ç½‘æ®µåŠ¨æ€åˆ†é… çš„ï¼Œä¸docker0 bridgeå±äºåŒä¸€ä¸ªç½‘æ®µã€‚ Podçš„é»˜è®¤è·¯ç”±éƒ½æ˜¯docker0 bridgeçš„åœ°å€ï¼Œ æ‰€æœ‰éæœ¬åœ°åœ°å€çš„ç½‘ç»œæ•°æ®ï¼Œé»˜è®¤éƒ½ä¼šå‘é€ åˆ°docker0ç½‘æ¡¥ä¸Šï¼Œç”±docker0ç½‘æ¡¥ä¸­è½¬ Podä¸docker0ä¹‹é—´æ˜¯Vethè®¾å¤‡å¯¹è¿æ¥çš„ï¼Œè€Œ docker0 bridgeä¸Nodeçš„eth0æ˜¯è·¯ç”±è½¬å‘çš„ï¼Œ Docker0ä¸Šé»˜è®¤ç½‘å…³å°±æ˜¯Nodeçš„eth0 ä¸åŒNodeä¸ŠPodé—´çš„äº’é€š Serviceä¸Podä¹‹é—´çš„é€šä¿¡ å®ç°æ–¹å¼ä¸ºkube-proxy: ä»¥æš´éœ²NodePortçš„Serviceä¸ºä¾‹ï¼ŒNodePortçš„å·¥ä½œåŸç†ä¸ClusterIPå¤§è‡´ç›¸åŒï¼Œå‘é€åˆ°æŸä¸ª NodeIP:NodePortçš„è¯·æ±‚ï¼Œé€šè¿‡iptablesé‡å®šå‘åˆ°kube-proxyå¯¹åº”çš„ç«¯å£(Nodeä¸Šçš„éšæœºç«¯å£)ä¸Šï¼Œç„¶ åç”±kube-proxyå†å°†è¯·æ±‚å‘é€åˆ°å…¶ä¸­çš„ä¸€ä¸ªPod:TargetPort ä¸‰ç§proxyModeï¼š Userspace Modeï¼šv1.0åŠä¹‹å‰ç‰ˆæœ¬çš„é»˜è®¤æ¨¡å¼ Iptables Modeï¼šv1.1å¼€å§‹å¢åŠ æ”¯æŒï¼Œv1.2æ­£å¼æˆä¸ºé»˜è®¤æ¨¡å¼ IPVS Modeï¼šv1.8å¼€å§‹å¢åŠ æ”¯æŒï¼Œv1.11æ­£å¼æˆä¸ºé»˜è®¤æ¨¡å¼ K8sé›†ç¾¤å†…å¤–ç»„ä»¶é—´é€šä¿¡ è°ƒç”¨K8SæœåŠ¡çš„è¿‡ç¨‹ å½“å¤–éƒ¨clientè®¿é—®æœåŠ¡å™¨æ—¶ï¼Œé¦–å…ˆè®¿é—®æœåŠ¡å™¨ä¸€è‡´å¯¹å¤–æä¾›çš„æ¥å£ï¼Œé€šè¿‡è¿™ä¸€æ¥å£å†å°†è¯·æ±‚workloadåˆ°æ¯å°ä¸»æœºä¸Šï¼ˆæ¯å°ä¸»æœºä¸Šéƒ½æœ‰ç›¸å¯¹åº”çš„NodePortç«¯å£å³notePortçš„Serviceæ¥æ¥å—è¿™ä¸€è¯·æ±‚ï¼‰ï¼Œæ¯ä¸ªserviceæœåŠ¡ä¸Šéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ClusterIP,é€šè¿‡ClusterIPå’Œæ¯å°ä¸»æœºä¸Šçš„IPTablesè¡¨ä»¥åŠlabelç­›é€‰ï¼Œserviceå°±å¯ä»¥å°†è¯·æ±‚workloadåˆ°å…·ä½“çš„æ¯ä¸ªpodä¸Šï¼ˆendpointï¼‰ã€‚ é™„å½•ï¼š Vscodeç¯å¢ƒé…ç½® dockeræ’ä»¶ä¸‹è½½ï¼š k8sæ’ä»¶ä¸‹è½½: icepanel Kubernetes Tools","categories":[],"tags":[{"name":"ZJUè¯¾ç¨‹","slug":"ZJUè¯¾ç¨‹","permalink":"https://nymrli.top/tags/ZJUè¯¾ç¨‹/"},{"name":"äº‘åŸç”Ÿ","slug":"äº‘åŸç”Ÿ","permalink":"https://nymrli.top/tags/äº‘åŸç”Ÿ/"}]},{"title":"dockeréƒ¨ç½²springbooté¡¹ç›®","slug":"dockeréƒ¨ç½²springbooté¡¹ç›®","date":"2021-09-21T03:34:05.000Z","updated":"2021-10-25T08:32:49.334Z","comments":true,"path":"2021/09/21/dockeréƒ¨ç½²springbooté¡¹ç›®/","link":"","permalink":"https://nymrli.top/2021/09/21/dockeréƒ¨ç½²springbooté¡¹ç›®/","excerpt":"","text":"ç”±äºæœ€è¿‘åœ¨å­¦äº‘åŸç”Ÿçš„è¯¾ä¼šæ¥è§¦åˆ°dockerå’Œk8sï¼Œå› æ­¤è¯•éªŒäº†å¦‚ä½•é€šè¿‡dockeræ¥éƒ¨ç½²springbootã€‚ ç”±äºdockerçš„å®ç°ä¾èµ–äºlinuxå†…æ ¸æä¾›çš„cgroupså’ŒnamespaceåŠŸèƒ½ï¼Œè€Œwindowsæ”¯æŒè¿˜æ²¡æ‰¾åˆ°éå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤åœ¨åŠŸèƒ½ä¸Šwindows dockerè¿˜æ˜¯æœ‰ç¼ºé™·ã€‚æˆ‘å°è¯•è¿‡å®‰è£…docker desktop for windowsä½†æ˜¯åœ¨WSL2çš„å®‰è£…ä¸Šå¤±è´¥äº†ï¼ˆ2021å¹´9æœˆ21æ—¥ï¼‰ï¼Œè¯•äº†äºŒååˆ†é’Ÿæ— æœåæ”¾å¼ƒï¼Œå†³å®šè¿˜æ˜¯åœ¨linuxä¸Šæ„å»ºã€‚ æœåŠ¡å™¨ä¸Šæ­å»ºJavaç¯å¢ƒå’Œdockerç¯å¢ƒ ç”±äºå°†dockerçš„æ„å»ºæ”¾åˆ°äº†æœåŠ¡å™¨ä¸Šï¼Œå› æ­¤è¿™éƒ¨åˆ†å¯ä»¥ç†è§£ä¸ºæ˜¯æ„å»ºæ‰“åŒ…ç¯å¢ƒ æ„å»ºæ‰“åŒ…ç¯å¢ƒ JDKå®‰è£… 1234567891011121314151617# 1. ç™»å½•ç½‘å€ï¼šhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.htmlï¼Œ é€‰æ‹©å¯¹åº”jdkç‰ˆæœ¬ä¸‹è½½# 2. è§£å‹, æ³¨æ–‡ä»¶åè·Ÿä¸‹è½½çš„jdkç‰ˆæœ¬æœ‰å…³tar -zxvf jdk-8u144-linux-x64.tar.gz#ã€ç„¶åå°†æ–‡ä»¶å¤¹jdk1.8.0_144ç§»åŠ¨åˆ°ç›®å½•/optä¸‹sudo mv jdk1.8.0_144 /usr/local# 4ã€ä¿®æ”¹ç¯å¢ƒå˜é‡sudo vi ~/.bashrc# åœ¨~/.bashrcä¸­æ·»åŠ export JAVA_HOME=/usr/local/jdk1.8.0_144export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/libexport PATH=$&#123;JAVA_HOME&#125;/bin:$PATH# 5ã€ä¿å­˜å¹¶é€€å‡ºï¼Œä½¿ç”¨sourceå‘½ä»¤ä½¿ä¹‹ç”Ÿæ•ˆsource ~/.bashrc# 6ã€æŸ¥çœ‹å®‰è£…æƒ…å†µjava -version mvnå®‰è£… 1234567891011121314151617181920212223# 1.ç™»é™†é•œåƒæºhttps://mirrors.bfsu.edu.cn/apache/maven/ï¼Œ é€‰æ‹©åˆé€‚çš„mvnç‰ˆæœ¬ä¸‹è½½wget https:``//mirrors.bfsu.edu.cn/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz# è§£å‹tar -zxvf apache-maven-3.6.3-bin.tar.gz# å®‰è£…sudo mv apache-maven-3.6.3 /usr/local/# é…ç½®ç¯å¢ƒå˜é‡sudo vim /etc/profileexport M2_HOME=/usr/local/apache-maven-3.6.3export PATH=$&#123;M2_HOME&#125;/bin:$PATH# ç”Ÿæ•ˆç¯å¢ƒå˜é‡ï¼Œ æˆ–è€…source /etc/profilesource !$# æµ‹è¯•æ•ˆæœmvn -v# æ¢mvnæºsudo vim /usr/local/apache-maven-3.6.3/conf/settings.xml# åœ¨&lt;mirrors&gt;&lt;/mirrors&gt;ä¸­å¢åŠ ä¸‹åˆ—ä¿¡æ¯åä¿å­˜é€€å‡º&lt;mirror&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;&lt;/mirror&gt; dockerå®‰è£… é•œåƒbuild åˆ›å»ºspringboot webå·¥ç¨‹ ç„¶ååˆ›å»ºä¸ªæœ€åŸºç¡€çš„controller, æ·»åŠ å®Œæ¯•åå¯åŠ¨é¡¹ç›®ï¼Œå¯åŠ¨æˆåŠŸåæµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080/å¦‚æœæ˜¾ç¤ºæ­£å¸¸åˆ™è¯´æ˜springbooté…ç½®æ­£å¸¸ springbooté¡¹ç›®å¢åŠ dockeræ”¯æŒ pom.xmlä¸­æ·»åŠ  123456789101112131415161718192021222324252627282930&lt;properties&gt; &lt;docker.image.prefix&gt;springboot&lt;/docker.image.prefix&gt;&lt;/properties&gt;&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;!-- Docker maven plugin --&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt; &lt;configuration&gt; &lt;imageName&gt;$&#123;docker.image.prefix&#125;/$&#123;project.artifactId&#125;&lt;/imageName&gt; &lt;dockerDirectory&gt;src/main/docker&lt;/dockerDirectory&gt; &lt;resources&gt; &lt;resource&gt; &lt;targetPath&gt;/&lt;/targetPath&gt; &lt;directory&gt;$&#123;project.build.directory&#125;&lt;/directory&gt; &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;/include&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;!-- Docker maven plugin --&gt; &lt;/plugins&gt;&lt;/build&gt; åœ¨ç›®å½•src/main/dockerä¸‹åˆ›å»º Dockerfile æ–‡ä»¶ï¼ŒDockerfile æ–‡ä»¶ç”¨æ¥è¯´æ˜å¦‚ä½•æ¥æ„å»ºé•œåƒã€‚ 12345FROM openjdk:8-jdk-alpineVOLUME /tmp# æ³¨ï¼šspring-boot-docker-1.0.jaræ˜¯éœ€è¦æ ¹æ®è‡ªå·±é¡¹ç›®mvn packageç”Ÿæˆçš„å‹ç¼©åŒ…åæ¥å†™çš„ADD spring-boot-docker-1.0.jar app.jarENTRYPOINT [\"java\",\"-Djava.security.egd=file:/dev/./urandom\",\"-jar\",\"/app.jar\"] è¿™ä¸ª Dockerfile æ–‡ä»¶å¾ˆç®€å•ï¼Œæ„å»º Jdk åŸºç¡€ç¯å¢ƒï¼Œæ·»åŠ  Spring Boot Jar åˆ°é•œåƒä¸­ï¼Œç®€å•è§£é‡Šä¸€ä¸‹: FROM ï¼Œè¡¨ç¤ºä½¿ç”¨ Jdk8 ç¯å¢ƒ ä¸ºåŸºç¡€é•œåƒï¼Œå¦‚æœé•œåƒä¸æ˜¯æœ¬åœ°çš„ä¼šä» DockerHub è¿›è¡Œä¸‹è½½ VOLUME ï¼ŒVOLUME æŒ‡å‘äº†ä¸€ä¸ª/tmpçš„ç›®å½•ï¼Œç”±äº Spring Boot ä½¿ç”¨å†…ç½®çš„Tomcatå®¹å™¨ï¼ŒTomcat é»˜è®¤ä½¿ç”¨/tmpä½œä¸ºå·¥ä½œç›®å½•ã€‚è¿™ä¸ªå‘½ä»¤çš„æ•ˆæœæ˜¯ï¼šåœ¨å®¿ä¸»æœºçš„/var/lib/dockerç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¹¶æŠŠå®ƒé“¾æ¥åˆ°å®¹å™¨ä¸­çš„/tmpç›®å½• ADD ï¼Œæ‹·è´æ–‡ä»¶å¹¶ä¸”é‡å‘½å ENTRYPOINT ï¼Œä¸ºäº†ç¼©çŸ­ Tomcat çš„å¯åŠ¨æ—¶é—´ï¼Œæ·»åŠ java.security.egdçš„ç³»ç»Ÿå±æ€§æŒ‡å‘/dev/urandomä½œä¸º ENTRYPOINT è¿™æ · Spring Boot é¡¹ç›®æ·»åŠ  Docker ä¾èµ–å°±å®Œæˆäº†ã€‚ ä½¿ç”¨ Docker éƒ¨ç½² Spring Boot é¡¹ç›® å°†é¡¹ç›® spring-boot-docker æ‹·è´æœåŠ¡å™¨ä¸­ï¼Œè¿›å…¥é¡¹ç›®è·¯å¾„ä¸‹è¿›è¡Œæ‰“åŒ…æµ‹è¯•ã€‚ 1234567891011121314151617181920212223# æ‰“åŒ…mvn package# å¯åŠ¨java -jar target/spring-boot-docker-1.0.jar# çœ‹åˆ° Spring Boot çš„å¯åŠ¨æ—¥å¿—åè¡¨æ˜ç¯å¢ƒé…ç½®æ²¡æœ‰é—®é¢˜ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ DockerFile æ„å»ºé•œåƒã€‚# æ³¨ï¼š åœ¨æ‰“åŒ…å‰å…ˆç¡®ä¿dockerå¯åŠ¨ï¼šsystemctl start dockermvn package docker:build# ç¬¬ä¸€æ¬¡æ„å»ºå¯èƒ½æœ‰ç‚¹æ…¢ï¼Œå½“çœ‹åˆ°ä»¥ä¸‹å†…å®¹çš„æ—¶å€™è¡¨æ˜æ„å»ºæˆåŠŸï¼š...Step 1 : FROM openjdk:8-jdk-alpine ---&gt; 224765a6bdbeStep 2 : VOLUME /tmp ---&gt; Using cache ---&gt; b4e86cc8654eStep 3 : ADD spring-boot-docker-1.0.jar app.jar ---&gt; a20fe75963ab ... [INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 54.346 s[INFO] Finished at: 2018-03-13T16:20:15+08:00[INFO] Final Memory: 42M/182M[INFO] ------------------------------------------------------------------------ ä½¿ç”¨docker imageså‘½ä»¤æŸ¥çœ‹æ„å»ºå¥½çš„é•œåƒï¼š 123docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEspringboot/spring-boot-docker latest 99ce9468da74 6 seconds ago 117.5 MB springboot/spring-boot-docker å°±æ˜¯æˆ‘ä»¬æ„å»ºå¥½çš„é•œåƒï¼Œä¸‹ä¸€æ­¥å°±æ˜¯è¿è¡Œè¯¥é•œåƒ 1docker run -p 8080:8080 -t springboot/spring-boot-docker å¯åŠ¨å®Œæˆä¹‹åæˆ‘ä»¬ä½¿ç”¨docker psæŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„é•œåƒï¼š 123docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES049570da86a9 springboot/spring-boot-docker &quot;java -Djava.security&quot; 30 seconds ago Up 27 seconds 0.0.0.0:8080-&gt;8080/tcp determined_mahavira å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ„å»ºçš„å®¹å™¨æ­£åœ¨åœ¨è¿è¡Œï¼Œè®¿é—®æµè§ˆå™¨ï¼šhttp://192.168.0.x:8080/,è¿”å› 1Hello Docker! è¯´æ˜ä½¿ç”¨ Docker éƒ¨ç½² Spring Boot é¡¹ç›®æˆåŠŸï¼ è¸©å‘ï¼š ç”¨æˆ·æƒé™ åœ¨æ‰§è¡Œmvn package docker:buildå‡ºç°com.spotify.docker.client.shaded.javax.ws.rs.ProcessingException: java.io.IOException: Permission deniedéœ€è¦æŸ¥çœ‹ä¸‹dockeræ˜¯å¦å®‰è£…æ­£å¸¸ï¼Œdockeræ˜¯å¦æ‰“å¼€ï¼Œå½“å‰ç”¨æˆ·æ˜¯å¦å…·æœ‰æ‰§è¡Œdockerå‘½ä»¤çš„æƒé™ï¼ˆæˆ‘çš„ä¸ªäººè´¦å·mrliå°±æ²¡æœ‰æƒé™ï¼Œéœ€è¦å°†å…¶åŠ å…¥dockerç”¨æˆ·ç»„ï¼Œå¦åˆ™å¾—åŠ sudoï¼‰ 123sudo groupadd docker #æ·»åŠ dockerç”¨æˆ·ç»„sudo gpasswd -a $USER docker #å°†ç™»é™†ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­newgrp docker #æ›´æ–°ç”¨æˆ·ç»„ å‚è€ƒï¼šhttp://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html è¿›é˜¶ä½¿ç”¨Dockerï¼š nginx+springBoot+mysql+docker-compose Docker-Compose æ˜¯ Docker çš„ä¸€ç§ç¼–æ’æœåŠ¡ï¼Œæ˜¯ä¸€ä¸ªç”¨äºåœ¨ Docker ä¸Šå®šä¹‰å¹¶è¿è¡Œå¤æ‚åº”ç”¨çš„å·¥å…·ï¼Œå¯ä»¥è®©ç”¨æˆ·åœ¨é›†ç¾¤ä¸­éƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨ã€‚ å‰ä¸¤ç¯‡æ–‡ç« æˆ‘ä»¬ä»‹ç»äº† Dockerfile çš„ä½¿ç”¨Docker(äºŒ)ï¼šDockerfile ä½¿ç”¨ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“ä½¿ç”¨ä¸€ä¸ª Dockerfile æ¨¡æ¿æ–‡ä»¶å¯ä»¥å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨å®¹å™¨ï¼Œå¦‚æœéœ€è¦å®šä¹‰å¤šä¸ªå®¹å™¨å°±éœ€è¦æœåŠ¡ç¼–æ’ã€‚æœåŠ¡ç¼–æ’æœ‰å¾ˆå¤šç§æŠ€æœ¯æ–¹æ¡ˆï¼Œä»Šå¤©ç»™å¤§å®¶ä»‹ç» Docker å®˜æ–¹äº§å“ Docker Compose ã€‚ Dockerfile å¯ä»¥è®©ç”¨æˆ·ç®¡ç†ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨å®¹å™¨ï¼›è€Œ Compose åˆ™å…è®¸ç”¨æˆ·åœ¨ä¸€ä¸ªæ¨¡æ¿ï¼ˆYAML æ ¼å¼ï¼‰ä¸­å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ï¼ˆè¢«ç§°ä¸ºä¸€ä¸ª projectï¼Œå³é¡¹ç›®ï¼‰ï¼Œä¾‹å¦‚ä¸€ä¸ª Web æœåŠ¡å®¹å™¨å†åŠ ä¸Šåç«¯çš„æ•°æ®åº“æœåŠ¡å®¹å™¨ç­‰ã€‚ Compose é¡¹ç›®ç”± Python ç¼–å†™ï¼Œå®ç°ä¸Šè°ƒç”¨äº† Docker æœåŠ¡æä¾›çš„ API æ¥å¯¹å®¹å™¨è¿›è¡Œç®¡ç†ã€‚å› æ­¤ï¼Œåªè¦æ‰€æ“ä½œçš„å¹³å°æ”¯æŒ Docker APIï¼Œå°±å¯ä»¥åœ¨å…¶ä¸Šåˆ©ç”¨ Compose æ¥è¿›è¡Œç¼–æ’ç®¡ç†ã€‚ Q: Spring Boot + Nginx + Mysql æ˜¯å®é™…å·¥ä½œä¸­æœ€å¸¸ç”¨çš„ä¸€ä¸ªç»„åˆï¼Œæœ€å‰ç«¯ä½¿ç”¨ Nginx ä»£ç†è¯·æ±‚è½¬å‘åˆ°åç«¯ Spring Boot å†…åµŒçš„ Tomcat æœåŠ¡ï¼ŒMysql è´Ÿè´£ä¸šåŠ¡ä¸­æ•°æ®ç›¸å…³çš„äº¤äº’ï¼Œé‚£ä¹ˆåœ¨æ²¡æœ‰ docker ä¹‹å‰ï¼Œæˆ‘ä»¬æ˜¯å¦‚ä½•æ¥æå®šè¿™äº›ç¯å¢ƒçš„å‘¢ï¼Ÿ 1ã€å®‰è£… Nginxï¼Œé…ç½® Nginx ç›¸å…³ä¿¡æ¯ï¼Œé‡å¯ã€‚ 2ã€å®‰è£… Mysql ï¼Œé…ç½®å­—ç¬¦é›†æ—¶åŒºç­‰ä¿¡æ¯ï¼Œé‡å¯ï¼Œæœ€ååˆå§‹åŒ–è„šæœ¬ã€‚ 3ã€å¯åŠ¨ Spring Boot é¡¹ç›®ï¼Œæ•´ä½“è¿›è¡Œè”è°ƒæµ‹è¯•ã€‚ å¤§å®¶çœ‹æˆ‘åªå†™äº†ä¸‰è¡Œï¼Œä½†å…¶å®æ­å»ºè¿™äº›ç¯å¢ƒçš„æ—¶å€™è¿˜æŒºè´¹äº‹çš„ï¼Œä½†è¿™è¿˜ä¸æ˜¯ç»“å±€ï¼Œåœ¨ç”¨äº†ä¸€æ®µæ—¶é—´æ—¶å€™éœ€è¦è¿ç§»åˆ°å¦å¤–ä¸€ä¸ªç¯å¢ƒï¼Œæ€ä¹ˆåŠåˆéœ€è¦é‡æ–°æä¸€æ¬¡ï¼Ÿæ­£å¸¸æƒ…å†µä¸‹ï¼Œæµ‹è¯•ç¯å¢ƒã€SIT ç¯å¢ƒã€UAT ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒï¼æˆ‘ä»¬éœ€è¦é‡å¤æ­å»ºå››æ¬¡ã€‚æœ‰äººè¯´ä¸å°±æ˜¯æ­å»ºå››æ¬¡å—ï¼Ÿä¹Ÿæ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œé‚£ä¹ˆæˆ‘æƒ³å‘Šè¯‰ä½ ï¼ŒToo yong ,Too Simple ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹ä»¥ä¸‹å‡ ä¸ªå› ç´ ï¼š ç¬¬ä¸€ï¼Œè¿™åªæ˜¯ä¸€ä¸ªæœ€ç®€å•çš„æ¡ˆä¾‹ï¼Œå¦‚æœé¡¹ç›®æ¶‰åŠåˆ° MongoDBã€Redisã€ES â€¦ ä¸€äº›åˆ—çš„ç¯å¢ƒå‘¢ï¼Ÿ ç¬¬äºŒï¼Œå¦‚æœä½ ç»å¸¸æ­å»ºç¯å¢ƒæˆ–è€…è°ƒè¯•ç¨‹åºï¼Œä½ å°±ä¼šçŸ¥é“ä»€ä¹ˆæ˜¯ç¯å¢ƒé—®é¢˜ï¼Ÿæœ‰çš„æ—¶å€™æ˜æ˜æ˜¯ä¸€æ¨¡ä¸€æ ·çš„é…ç½®ï¼Œä½†æ˜¯åˆ°äº†å¦å¤–ä¸€ä¸ªç¯å¢ƒå°±æ˜¯è·‘ä¸èµ·æ¥ã€‚äºæ˜¯ä½ èŠ±è´¹å¾ˆå¤šæ—¶é—´æ¥æŸ¥æ‰¾ï¼Œæœ€åæ‰å‘ç°æ˜¯å°‘äº†ä¸€ä¸ªå‚æ•°æˆ–è€…é€—å·çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ä¸ä¸€è‡´ã€æˆ–è€…ä½ æœ€åä¹Ÿæ²¡ææ‡‚æ˜¯ä¸ºä»€ä¹ˆï¼åªèƒ½å†æ¢å¦å¤–ä¸€å°æœåŠ¡å™¨ï¼Œé‚£ä¹ˆä½¿ç”¨ Docker å‘¢å°±å¯ä»¥å®Œç¾çš„é¿å¼€è¿™äº›å‘ã€‚ ä¼˜ç‚¹æ€»ç»“å¦‚ä¸‹ï¼š æ¶‰åŠå¤šä¸ªç¯å¢ƒçš„æ—¶å€™ï¼Œä¸€æ¬¡å®šä¹‰åˆ°å¤„ä½¿ç”¨ ä¾¿äºå®ç°ç¯å¢ƒåœ°å¿«é€Ÿè¿ç§» ä¿è¯å¤šæ¬¡é…ç½®çš„é…ç½®ä¸€æ¬¡æ€§ï¼Œä»¥åŠåœ¨ä¸åŒæœºå™¨ä¸Šçš„é…ç½®ç»Ÿä¸€æ€§ ä¸€é”®åŒ–åœ°å®ç°å¤šä¸ªæœåŠ¡çš„ä¸Šçº¿å’Œä¸‹é™ A: é€šè¿‡dockeræ¥æä¾›è™šæ‹ŸåŒ–éš”ç¦»çš„è¿è¡Œç¯å¢ƒ Docker Compose å®‰è£… Docker Compose æ˜¯ Docker çš„ç‹¬ç«‹äº§å“ï¼Œå› æ­¤éœ€è¦å®‰è£… Docker ä¹‹ååœ¨å•ç‹¬å®‰è£… Docker Compose . 123456#ä¸‹è½½sudo curl -L https://github.com/docker/compose/releases/download/1.20.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose#å®‰è£…chmod +x /usr/local/bin/docker-compose#æŸ¥çœ‹ç‰ˆæœ¬docker-compose version åŒæ ·ï¼Œå¦‚æœå‡ºç°äº†ç›´æ¥docker-compose versionæ— æ•ˆè€Œsudo docker-compose versionæœ‰æ•ˆçš„æƒ…å†µï¼Œ é‡å¯æœåŠ¡åŠ ä¸Šç”¨æˆ·æƒé™å’Œåˆ·æ–°ç”¨æˆ·ç»„åå†æ¬¡å°è¯• 123456789101112#åˆ›å»ºdockerç»„vagrant@ubuntu18:~$ sudo groupadd docker# &gt;&gt;&gt; groupadd: group â€˜dockerâ€˜ already exists#å°†å½“å‰ç”¨æˆ·åŠ å…¥dockerç»„vagrant@ubuntu18:~$ sudo gpasswd -a $&#123;USER&#125; docker# &gt;&gt;&gt; Adding user weiyj to group docker#é‡å¯dockeræœåŠ¡vagrant@ubuntu18:~$ sudo service docker restart#åˆ·æ–°dockerç»„æˆå‘˜vagrant@ubuntu18:~$ newgrp docker#å†è¯•è¯•å‘½ä»¤^_^vagrant@ubuntu18:~$ docker-compose version å®‰è£…è¡¥å…¨å·¥å…·(å¯é€‰) ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬è¾“å…¥å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥å®‰è£… Docker çš„è¡¥å…¨æç¤ºå·¥å…·å¸®å¿™æˆ‘ä»¬å¿«é€Ÿè¾“å…¥å‘½ä»¤ 12345#å®‰è£…yum install bash-completion#ä¸‹è½½docker-composeè„šæœ¬curl -L https://raw.githubusercontent.com/docker/compose/$(docker-compose version --short)/contrib/completion/bash/docker-compose &gt; /etc/bash_completion.d/docker-compose å·¥ç¨‹æ­å»º é¡¹ç›®ç»“æ„ 1234567891011121314151617181920212223242526272829303132333435363738394041.â”œâ”€â”€ appâ”‚ â”œâ”€â”€ HELP.mdâ”‚ â”œâ”€â”€ mvnwâ”‚ â”œâ”€â”€ mvnw.cmdâ”‚ â”œâ”€â”€ pom.xmlâ”‚ â”œâ”€â”€ srcâ”‚ â”‚ â”œâ”€â”€ mainâ”‚ â”‚ â”‚ â”œâ”€â”€ dockerâ”‚ â”‚ â”‚ â”‚ â””â”€â”€ Dockerfileâ”‚ â”‚ â”‚ â”œâ”€â”€ javaâ”‚ â”‚ â”‚ â”‚ â””â”€â”€ topâ”‚ â”‚ â”‚ â”‚ â””â”€â”€ nymrliâ”‚ â”‚ â”‚ â”‚ â””â”€â”€ testdockerâ”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ controllerâ”‚ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ HelloController.javaâ”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€ VisitorController.javaâ”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ modelâ”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€ Visitor.javaâ”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ repositoryâ”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€ VisitorRepository.javaâ”‚ â”‚ â”‚ â”‚ â””â”€â”€ TestdockerApplication.javaâ”‚ â”‚ â”‚ â””â”€â”€ resourcesâ”‚ â”‚ â”‚ â”œâ”€â”€ application-dev.propertiesâ”‚ â”‚ â”‚ â”œâ”€â”€ application-docker.propertiesâ”‚ â”‚ â”‚ â”œâ”€â”€ application.propertiesâ”‚ â”‚ â”‚ â”œâ”€â”€ application-test.propertiesâ”‚ â”‚ â”‚ â”œâ”€â”€ staticâ”‚ â”‚ â”‚ â”œâ”€â”€ templatesâ”‚ â”‚ â”‚ â””â”€â”€ visiitor.sqlâ”‚ â”‚ â””â”€â”€ testâ”‚ â”‚ â””â”€â”€ javaâ”‚ â”‚ â””â”€â”€ topâ”‚ â”‚ â””â”€â”€ nymrliâ”‚ â”‚ â””â”€â”€ testdockerâ”‚ â”‚ â””â”€â”€ TestdockerApplicationTests.javaâ”‚ â””â”€â”€ testdocker.imlâ”œâ”€â”€ docker-compose.ymlâ””â”€â”€ nginx â””â”€â”€ conf.d â””â”€â”€ app.conf å…¶ä¸­æœ€æ ¸å¿ƒçš„å‡ ä¸ªé…ç½®æ–‡ä»¶ï¼š docker-compose.yamlï¼šdocker-compose çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œæè¿°å¦‚ä½•æ„å»ºæ•´ä¸ªæœåŠ¡ nginxï¼šæœ‰å…³ nginx çš„é…ç½® appï¼šSpring Boot é¡¹ç›®åœ°å€ Dockerfileï¼šappä¸­çš„dockerfileé•œåƒæ„å»ºæ–‡ä»¶ å¦‚æœæˆ‘ä»¬éœ€è¦å¯¹ Mysql æœ‰ç‰¹æ®Šçš„å®šåˆ¶ï¼Œä¹Ÿå¯ä»¥åœ¨æœ€å¤–å±‚åˆ›å»º mysql æ–‡ä»¶å¤¹ï¼Œåœ¨æ­¤ç›®å½•ä¸‹è¿›è¡Œé…ç½®ã€‚ Nginx æ–‡ä»¶è§£è¯» nginx åœ¨ç›®å½•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶ app.confï¼Œä¸»è¦é…ç½®äº†æœåŠ¡è½¬å‘ä¿¡æ¯ 123456789101112131415161718192021server &#123; listen 80; # ä¾¦å¬80ç«¯å£ charset utf-8; access_log off; location / &#123; proxy_pass http://app:8080; # å°†80ç«¯å£çš„httpè¯·æ±‚è½¬å‘åˆ°æœåŠ¡ app çš„8080ç«¯å£å¤„ç† # â–²æ³¨ï¼šè¿™é‡Œä½¿ç”¨æ˜¯appè€Œä¸æ˜¯localhostï¼Œæ˜¯å› ä¸ºä»–ä»¬æ²¡æœ‰åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œåœ¨ä¸€ç»„ compose çš„æœåŠ¡é€šè®¯éœ€è¦ä½¿ç”¨ services çš„åç§°è¿›è¡Œè®¿é—®ã€‚ proxy_set_header Host $host:$server_port; proxy_set_header X-Forwarded-Host $server_name; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; &#125; # é™æ€æ–‡ä»¶å¤„ç† location /static &#123; access_log off; expires 30d; alias /app/static; &#125;&#125; Dockerfileé…ç½® 1FROM maven:3.5-jdk-8 application-docker.properties 12345spring.datasource.url=jdbc:mysql://mysql:3306/test# æ³¨ï¼šæ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ç”±jdbc:mysql://localhost:3306/testæ”¹ä¸ºjdbc:mysql://mysql:3306/test, åŸå› è·Ÿnginxé…ç½®ä¸€æ ·, URIåœ¨docker-composeä¸­éœ€è¦é€šè¿‡servicesé€šä¿¡spring.datasource.username=rootspring.datasource.password=rootspring.datasource.driver-class-name=com.mysql.jdbc.Driver docker-compose.yml 12345678910111213141516171819202122232425262728293031323334353637version: '3' # è¡¨ç¤ºä½¿ç”¨ç¬¬ä¸‰ä»£è¯­æ³•æ¥æ„å»º docker-compose.yaml æ–‡ä»¶ã€‚services: # ç”¨æ¥è¡¨ç¤º compose éœ€è¦å¯åŠ¨çš„æœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ­¤æ–‡ä»¶ä¸­æœ‰ä¸‰ä¸ªæœåŠ¡åˆ†åˆ«ä¸ºï¼šnginxã€mysqlã€appã€‚ nginx: container_name: v-nginx # å®¹å™¨åç§° image: nginx:1.13 restart: always ports: - 8088:80 - 443:443 volumes: - ./nginx/conf.d:/etc/nginx/conf.d mysql: container_name: v-mysql image: mysql/mysql-server:5.7 environment: # æ­¤èŠ‚ç‚¹ä¸‹çš„ä¿¡æ¯ä¼šå½“ä½œç¯å¢ƒå˜é‡ä¼ å…¥å®¹å™¨ï¼Œæ­¤ç¤ºä¾‹ä¸­ mysql æœåŠ¡é…ç½®äº†æ•°æ®åº“ã€å¯†ç å’Œæƒé™ä¿¡æ¯ã€‚ MYSQL_DATABASE: test MYSQL_ROOT_PASSWORD: root MYSQL_ROOT_HOST: '%' ports: # è¡¨ç¤ºå¯¹å¤–å¼€æ”¾çš„ç«¯å£ - \"3306:3306\" restart: always # è¡¨ç¤ºå¦‚æœæœåŠ¡å¯åŠ¨ä¸æˆåŠŸä¼šä¸€ç›´å°è¯•ã€‚ app: restart: always build: ./app/src/main/docker # åŸºäºDockerfileï¼ŒæŒ‡å®šDockerfileæ‰€åœ¨è·¯å¾„,Composeä¼šåˆ©ç”¨å®ƒè‡ªåŠ¨æ„å»ºé•œåƒï¼Œç„¶åå¯åŠ¨æœåŠ¡å®¹å™¨ working_dir: /app volumes: # åŠ è½½æœ¬åœ°ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶åˆ°å®¹å™¨ç›®æ ‡åœ°å€ä¸‹ - ./app:/app - ~/.m2:/root/.m2 expose: - \"8080\" depends_on: # å¯ä»¥é…ç½®ä¾èµ–æœåŠ¡ï¼Œè¡¨ç¤ºéœ€è¦å…ˆå¯åŠ¨ depends_on ä¸‹é¢çš„æœåŠ¡åï¼Œå†å¯åŠ¨æœ¬æœåŠ¡ã€‚ - nginx - mysql command: mvn clean spring-boot:run -Dspring-boot.run.profiles=docker # è¡¨ç¤ºä»¥è¿™ä¸ªå‘½ä»¤æ¥å¯åŠ¨é¡¹ç›®ï¼Œ-Dspring-boot.run.profiles=dockerè¡¨ç¤ºä½¿ç”¨ application-docker.propertiesæ–‡ä»¶é…ç½®ä¿¡æ¯è¿›è¡Œå¯åŠ¨ã€‚ æ³¨ï¼š ç”±äºæœåŠ¡å™¨çš„80ç«¯å£è·‘çš„æ˜¯è£¸æœºè¿è¡Œçš„webç¨‹åºï¼Œå› æ­¤æ— æ³•ç”¨nginxä¾¦å¬80ç«¯å£ï¼Œå› æ­¤åœ¨compose.ymlä¸­nginxçš„portæ˜ å°„å†™çš„æ˜¯8088ï¼Œè¿™ä¸ªæ˜¯webåº”ç”¨çœŸæ­£æƒ³è¦è¾“å‡ºçš„webç«¯å£ï¼ˆæ³¨æ„éœ€è¦åœ¨é˜¿é‡Œäº‘ä¸Šæ‰“å¼€è¯¥ç«¯å£çš„é˜²ç«å¢™ï¼‰ï¼Œè€Œ8088æ˜ å°„åˆ°å®¹å™¨çš„80ç«¯å£ååˆä¼šç”±nginx.confè½¬å‘åˆ°8080ç«¯å£å³çœŸæ­£çš„web appçš„è¿è¡Œç«¯å£ä¸Šã€‚ VisitorController.java 123456789101112131415161718192021222324package top.nymrli.testdocker.controller;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import top.nymrli.testdocker.model.Visitor;import top.nymrli.testdocker.repository.VisitorRepository;@RestControllerpublic class VisitorController &#123; @Autowired private VisitorRepository repository; @RequestMapping(\"/hello\") public String say() &#123; return \"Hello\"; &#125; @RequestMapping(\"/get\") public Long get() &#123; Visitor visitor = repository.findByIp(\"192.184.4.4\"); return visitor.getTimes(); &#125;&#125; å…¶ä¸­æ•°æ®åº“mysqlé•œåƒè™½ç„¶åˆ›å»ºè¿æ¥å¥½äº†ï¼Œä½†æ˜¯åº“å’Œè¡¨éƒ½æ²¡æœ‰åˆ›å»ºï¼Œdocker-compose pså¯ä»¥çœ‹è§é€šè¿‡docker-composeåˆ›å»ºçš„å®¹å™¨ï¼Œä½†æ˜¯composeæœ¬èº«é™¤äº†æä¾›æœåŠ¡ç¼–æ’çš„ç»Ÿä¸€å¯åŠ¨å’Œåœæ­¢å¤–ï¼Œå¹¶æ²¡æœ‰æä¾›å¯¹å•ä¸€å®¹å™¨çš„ç®¡ç†ï¼Œå› æ­¤éœ€è¦é€šè¿‡dockerè¿›è¡Œå•ç‹¬ç®¡ç†ï¼Œå¦‚docker exec -it b07acb7f4e6d /bin/bashè¿›è¡Œå®¹å™¨ï¼Œmysql -u root -p rootè¿›è¡Œåˆ›è¡¨ visitor.sql 123456789create DATABASE if not EXISTS `test`;use `test`;CREATE table if not EXISTS `visitor` ( `id` bigint(20) not null COMMENT \"ä¸»é”®\", `times` bigint(10) not null COMMENT \"è®¿é—®æ¬¡æ•°\", `ip` varchar(32) not null COMMENT \"ipåœ°å€\", PRIMARY KEY (`id`))ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC; ;INSERT INTO `visitor` VALUES(1, 1, \"192.168.0.1\"); é…ç½®å®Œæˆåï¼Œ docker-compose upå³å¯å¯åŠ¨ï¼Œç™»é™†æœåŠ¡å™¨IP:nginxç«¯å£å³å¯è®¿é—®webåº”ç”¨ã€‚ å‚è€ƒï¼šhttp://www.ityouknow.com/springboot/2018/03/28/dockercompose-springboot-mysql-nginx.html ä»£ç ï¼šhttps://github.com/ityouknow/spring-boot-examples/tree/master/dockercompose-springboot-mysql-nginx é™„å½•ï¼š SpringBootæ‰“åŒ… è½¬è½½ï¼š SpringBootç®€å•æ‰“åŒ…éƒ¨ç½²(é™„å·¥ç¨‹) é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œè¯¥é¡¹ç›®æ‰“åŒ…çš„å½¢æ€æ˜¯å¯æ‰§è¡Œçš„jaråŒ…ï¼Œè¿˜æ˜¯åœ¨tomcatä¸‹è¿è¡Œçš„waråŒ…ã€‚ Mavenæ‰“åŒ… å¦‚æœæ˜¯jaråŒ… éœ€åœ¨pom.xmlæŒ‡å®šæ‰“æˆçš„åŒ…ä¸ºï¼š 1&lt;packaging&gt;jar&lt;/packaging&gt; å¦‚æœæ˜¯waråŒ…ã€‚ éœ€åœ¨pom.xmlæŒ‡å®šæ‰“æˆçš„åŒ…ä¸ºï¼š 1&lt;packaging&gt;war&lt;/packaging&gt; å¹¶é€šè¿‡&lt;scope&gt;æ ‡ç­¾åœ¨æ‰“åŒ…çš„æ—¶å€™æ’é™¤tomcatä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; SpringBootè‡ªå¸¦çš„æ‰“åŒ…æ–¹å¼ 12345678910111213141516171819202122&lt;build&gt; &lt;defaultGoal&gt;compile&lt;/defaultGoal&gt; &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt; &lt;finalName&gt;springboot-package&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin &lt;/artifactId&gt; &lt;configuration&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;mainClass&gt;com.pancm.App&lt;/mainClass&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;repackage&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build SpringBootéƒ¨ç½² å¦‚æœæ˜¯jaré¡¹ç›® Windowsç³»ç»Ÿåœ¨é¡¹ç›®åŒçº§ç›®å½•ä¸‹è¾“å…¥: 1java -jar springboot-package ä¹Ÿå¯ä»¥å†™ä¸€ä¸ªbatæ–‡ä»¶è¿›è¡Œè¿è¡Œã€‚ ç¤ºä¾‹: 123@echo offtitle \"springboot-package\"java -jar springboot-package.jar Linuxç³»ç»Ÿåœ¨é¡¹ç›®åŒçº§ç›®å½•ä¸‹è¾“å…¥: 1nohup java -jar springboot-package &amp; å³å¯å¯åŠ¨ã€‚ å…³é—­è¾“å…¥: 1kill -9 pidï¼ˆjarçš„è¿›ç¨‹idï¼‰ ä¹Ÿå¯ä»¥åœ¨init.dæ³¨å†Œä¸€ä¸ªæœåŠ¡ ç¤ºä¾‹: 12ln -s /home/jars/app/springboot-package.jar /etc/init.d/springboot-packagechmod +x /etc/init.d/springboot-package ç„¶åè¾“å…¥: 1service springboot-package start|stop|restart è¿›è¡Œå¯åŠ¨æˆ–è€…åœæ­¢ã€‚ IDEAçš„Dockeræ’ä»¶å®æˆ˜(Dockerfileç¯‡) DaoCloudä¸Šéƒ¨ç½² daocloudæ˜¯ä¸ªäº‘åŸç”Ÿåº”ç”¨äº‘å¹³å°ï¼Œä»–èƒ½å¤Ÿä¾¦å¬æˆ‘ä»¬Githubä»£ç ä»“åº“çš„ä¿®æ”¹å˜åŠ¨ï¼Œå¦‚pushåè§¦å‘CICDï¼Œå› æ­¤æˆ‘ä»¬é‡‡ç”¨å…¶æ¥å®Œæˆé¡¹ç›®çš„CICDåŠŸèƒ½ è®¾ç½®æ­¥éª¤ é›†ç¾¤ç®¡ç†: æ·»åŠ ä¸»æœº-&gt;é€‰æ‹©ä¸»æœºç³»ç»Ÿ-&gt;åœ¨ä¸»æœºä¸Šå®‰è£…ä¸»æœºç›‘æ§ç¨‹åºåç­‰å¾…è¿æ¥æˆåŠŸ é¡¹ç›®ï¼šåˆ›å»ºæ–°é¡¹ç›®-&gt;è®¾ç½®ä»£ç æºï¼Œå¦‚æœæ˜¯æ–°pushçš„é¡¹ç›®ç‚¹å‡»å³ä¸Šè§’çš„åŒæ­¥ä»£ç -&gt;å¼€å§‹åˆ›å»º åº”ç”¨ï¼šåˆ›å»ºåº”ç”¨-&gt;é€‰æ‹©åˆšåˆšè¿è¡Œå®Œçš„é¡¹ç›®iot_experiment_rfidç‚¹å‡»å³ä¾§çš„&quot;éƒ¨ç½²æœ€æ–°ç‰ˆæœ¬&quot;ï¼Œè®¾ç½®åº”ç”¨åå’Œè¿è¡Œç¯å¢ƒä¸­çš„ä¸»æœºé€‰æ‹©Step1é…ç½®çš„ä¸»æœºï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œé…ç½®å®¹å™¨æš´éœ²ç«¯å£ï¼Œç”±äºtomcatåº”ç”¨é»˜è®¤8080ç«¯å£ï¼Œå› æ­¤å¦‚æœapplication.ymlæ²¡åšserver.portä¿®æ”¹çš„è¯ï¼Œå®¹å™¨ç«¯å£å¡«8080å³å¯ï¼Œä¸»æœºç«¯å£å¯ä»¥é€‰æ‹©é»˜è®¤çš„åŠ¨æ€ç«¯å£ï¼Œè¿™ä¸ªä¼šä»ä¸»æœºä¸­æ‰¾ä¸ªé—²ç½®ç«¯å£æ¥åšæ˜ å°„ï¼Œå¦‚æˆ‘è¿™æ¬¡åˆ†é…çš„å°±æ˜¯32768ã€‚æ¥ç€æ˜¯å·æŒ‚è½½ï¼Œå¦‚æœæ²¡æœ‰æŒ‚è½½å·Volumeåˆ™ç›´æ¥ç«‹å³éƒ¨ç½²å³å¯ï¼Œéƒ¨ç½²æˆåŠŸæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š é›†ç¾¤ç®¡ç†æ•ˆæœå›¾ï¼šå¯ä»¥çœ‹åˆ°åº”ç”¨è¿è¡Œå®¹å™¨æ˜¾ç¤ºäº†3ä¸ªé“¾æ¥ï¼Œå‰ä¸¤ä¸ªæ˜¯å±€åŸŸç½‘é“¾æ¥ï¼Œç¬¬3ä¸ªæ˜¯å…¬ç½‘IP:ä¸»æœºç«¯å£ï¼Œè¿™ä¸ªéœ€è¦åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨çš„é˜²ç«å¢™æ‰“å¼€äº†è¿™ä¸ªç«¯å£æ‰èƒ½æ˜¾ç¤ºä¸è®¿é—®ã€‚æ‰€ä»¥å¦‚æœä¸»æœºç«¯å£é€‰æ‹©äº†åŠ¨æ€ç«¯å£çš„è¯ä¸€å®šè¦å†å»é˜¿é‡Œäº‘è®¾ç½®é˜²ç«å¢™å¼€æ”¾ç«¯å£ã€‚ é¡¹ç›®: æµç¨‹å®šä¹‰-&gt; â€œå‘å¸ƒé˜¶æ®µâ€-&gt;æ·»åŠ å¹¶è¡Œä»»åŠ¡-&gt;å‘å¸ƒæ ‡ç­¾ä¸‹çš„&quot;å‘å¸ƒåˆ°è‡ªç”±ä¸»æœº&quot;ï¼Œ ç„¶ååœ¨&quot;åº”ç”¨&quot;çš„ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©åˆšåˆšé…ç½®å¥½çš„åº”ç”¨RFID_appï¼Œç‚¹å‡»&quot;åˆ›å»ºä»»åŠ¡&quot;æŒ‰é’®ï¼Œå®Œæˆé…ç½® ï¼ˆå¯é€‰ï¼‰åˆ›å»ºäº‘éš§é“ï¼šå¼€å‘è€…çš„å®‰å…¨äº‘éš§é“ï¼Œè·¨ç½‘ç»œçš„å®¹å™¨äº‘åœ°å€ï¼Œè®©æ‚¨åœ¨æœ¬åœ°ä¹Ÿèƒ½éƒ¨ç½²å…¬ç½‘æœåŠ¡å™¨ã€‚å®é™…å°±æ˜¯æŠŠå¯èƒ½å¤„äºå†…ç½‘çš„æœåŠ¡å™¨é€šè¿‡å†…ç½‘ç©¿é€çš„æ–¹å¼å°†å…¶ç»‘å®šåˆ°äº†daocloudåˆ†é…çš„åŸŸåä¸Šï¼Œæœ€ç»ˆé€šè¿‡DNSè§£æå®ç°äº†åŸŸåè®¿é—®åº”ç”¨çš„æ•ˆæœã€‚æä¾›çš„éƒ½æ˜¯http://rfidapp.daocloudapp.comè¿™ç§daocloudappä¸‹çš„ä¸‰çº§åŸŸåï¼Œ2021å¹´9æœˆ27æ—¥æµ‹è¯•çš„æ—¶å€™è²Œä¼¼daocloudappåŸŸåæœªå¤‡æ¡ˆï¼Œè¿™ä¸ªåŠŸèƒ½å°±æš‚æ—¶å¤±æ•ˆäº†ã€‚å¦‚æœæœ‰å…¬ç½‘IPçš„è¯ï¼Œè¿˜æ˜¯å¯ä»¥é€šè¿‡å…¬ç½‘IP:ä¸»æœºportæ¥è®¿é—®Webåº”ç”¨çš„ Dockerfileå†…å®¹ ç¼–å†™å¥½springbootå·¥ç¨‹å†…å®¹åï¼Œç¼–å†™dockerfileï¼š 1234567891011121314151617# è‡ªå·±æ‰‹åŠ¨åœ¨äº‘æœåŠ¡å™¨ä¸Šé€šè¿‡mvn package docker:buildå‘½ä»¤æ¥è¿è¡Œå®¹å™¨çš„Dockerfileå†…å®¹# FROM openjdk:8-jdk-alpine# VOLUME /tmp## æ³¨ï¼šspring-boot-docker-1.0.jaræ˜¯éœ€è¦æ ¹æ®è‡ªå·±é¡¹ç›®mvn packageç”Ÿæˆçš„å‹ç¼©åŒ…åæ¥å†™çš„# ADD spring-boot-docker-1.0.jar app.jar# ENTRYPOINT [\"java\",\"-Djava.security.egd=file:/dev/./urandom\",\"-jar\",\"/app.jar\"]# Daocloudä¸Šçš„Dockerfileç¼–å†™å†…å®¹FROM maven:3 as bdWORKDIR /code # æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤æ‰€åœ¨ç›®å½•COPY ./ /code # å°†å½“å‰å·¥ç¨‹ä»£ç å¤åˆ¶åˆ°/codeç›®å½•ä¸‹COPY settings-docker.xml /usr/share/maven/conf/settings.xml # â˜…æŒ‡å®šæ¢æºRUN mvn package -Dmaven.test.skip=true # æ‰“åŒ…å·¥ç¨‹FROM java:8 COPY --from=bd /code/target/*.jar /app.jar # å¤åˆ¶mvné•œåƒä¸­/code/target/*.jarçš„ç»“æœåˆ°è¯¥å±‚é•œåƒçš„å·¥ä½œç›®å½•ä¸‹ï¼Œå–åä¸ºarr.jarCMD java -jar /app.jar # è¿è¡Œjava -jarå‘½ä»¤ ä¸¤è€…çš„åŒºåˆ«åœ¨äºç¬¬ä¸€ä¸ªæ˜¯å·²ç»é€šè¿‡mvn packageæŠŠé¡¹ç›®åº”ç”¨çš„jaråŒ…ç»™æ‰“å‡ºæ¥äº†ï¼Œè€Œåœ¨Daocloudä¸­ç”±äºå…¨éƒ¨çš„CICDéƒ½æ˜¯åœ¨å®¹å™¨ä¸­è¿›è¡Œçš„ï¼Œå› æ­¤éœ€è¦æ‹‰å–mavençš„é•œåƒï¼Œç„¶åæ‰“åŒ…ï¼Œè€Œä¹‹åä¸ºä»€ä¹ˆä¸ç”¨mvn package docker:buildä¹Ÿæ˜¯å› ä¸ºå·²ç»åœ¨å®¹å™¨ä¸­ï¼Œå†ä½¿ç”¨çš„è¯ï¼Œç›¸å½“äºæ˜¯å®¹å™¨ä¸­åˆ›å»ºå®¹å™¨æ˜¯ä¸åˆé€‚çš„ã€‚æ‰€ä»¥ç›´æ¥è¿è¡Œjava -jar xxx.jarå³å¯","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"}]},{"title":"å­¦ç‚¹Kotlin","slug":"å­¦ç‚¹Kotlin","date":"2021-09-13T09:18:17.000Z","updated":"2021-12-02T03:17:32.619Z","comments":true,"path":"2021/09/13/å­¦ç‚¹Kotlin/","link":"","permalink":"https://nymrli.top/2021/09/13/å­¦ç‚¹Kotlin/","excerpt":"","text":"Kotlin åŸºç¡€è¯­æ³• Kotlin æ–‡ä»¶ä»¥ .kt ä¸ºåç¼€ã€‚ å‡½æ•°å®šä¹‰ å‡½æ•°å®šä¹‰ä½¿ç”¨å…³é”®å­— funï¼Œå‚æ•°æ ¼å¼ä¸ºï¼šå‚æ•° : ç±»å‹ 123fun sum(a: Int, b: Int): Int &#123; // Int å‚æ•°ï¼Œè¿”å›å€¼ Int return a + b&#125; è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°ä½“ï¼Œè¿”å›ç±»å‹è‡ªåŠ¨æ¨æ–­ï¼š 123fun sum(a: Int, b: Int) = a + bpublic fun sum(a: Int, b: Int): Int = a + b // public æ–¹æ³•åˆ™å¿…é¡»æ˜ç¡®å†™å‡ºè¿”å›ç±»å‹ æ— è¿”å›å€¼çš„å‡½æ•°(ç±»ä¼¼Javaä¸­çš„void)ï¼š 123456789fun printSum(a: Int, b: Int): Unit &#123; print(a + b)&#125;// å¦‚æœæ˜¯è¿”å› Unitç±»å‹ï¼Œåˆ™å¯ä»¥çœç•¥(å¯¹äºpublicæ–¹æ³•ä¹Ÿæ˜¯è¿™æ ·)ï¼špublic fun printSum(a: Int, b: Int) &#123; print(a + b)&#125; å¯å˜é•¿å‚æ•°å‡½æ•° å‡½æ•°çš„å˜é•¿å‚æ•°å¯ä»¥ç”¨ vararg å…³é”®å­—è¿›è¡Œæ ‡è¯†ï¼š 12345678910fun vars(vararg v:Int)&#123; for(vt in v)&#123; print(vt) &#125;&#125;// æµ‹è¯•fun main(args: Array&lt;String&gt;) &#123; vars(1,2,3,4,5) // è¾“å‡º12345&#125; lambda(åŒ¿åå‡½æ•°) lambdaè¡¨è¾¾å¼ä½¿ç”¨å®ä¾‹ï¼š 12345// æµ‹è¯•fun main(args: Array&lt;String&gt;) &#123; val sumLambda: (Int, Int) -&gt; Int = &#123;x,y -&gt; x+y&#125; println(sumLambda(1,2)) // è¾“å‡º 3&#125; NULLæ£€æŸ¥æœºåˆ¶ Kotlinçš„ç©ºå®‰å…¨è®¾è®¡å¯¹äºå£°æ˜å¯ä¸ºç©ºçš„å‚æ•°ï¼Œåœ¨ä½¿ç”¨æ—¶è¦è¿›è¡Œç©ºåˆ¤æ–­å¤„ç†ï¼Œæœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼Œå­—æ®µååŠ !!åƒJavaä¸€æ ·æŠ›å‡ºç©ºå¼‚å¸¸ï¼Œå¦ä¸€ç§å­—æ®µååŠ ?å¯ä¸åšå¤„ç†è¿”å›å€¼ä¸º nullæˆ–é…åˆ?:åšç©ºåˆ¤æ–­å¤„ç† 12345678//ç±»å‹åé¢åŠ ?è¡¨ç¤ºå¯ä¸ºç©ºvar age: String? = \"23\" // ä¸èƒ½ä¸ºç©ºï¼Œå¦åˆ™æŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸val ages = age!!.toInt()//ä¸åšå¤„ç†è¿”å› nullval ages1 = age?.toInt()//ageä¸ºç©ºè¿”å›-1val ages2 = age?.toInt() ?: -1 å½“ä¸€ä¸ªå¼•ç”¨å¯èƒ½ä¸º null å€¼æ—¶, å¯¹åº”çš„ç±»å‹å£°æ˜å¿…é¡»æ˜ç¡®åœ°æ ‡è®°ä¸ºå¯ä¸º nullã€‚ å½“ str ä¸­çš„å­—ç¬¦ä¸²å†…å®¹ä¸æ˜¯ä¸€ä¸ªæ•´æ•°æ—¶, è¿”å› null: 123fun parseInt(str: String): Int? &#123; // ...&#125; Kotlin åŸºæœ¬æ•°æ®ç±»å‹ Kotlin çš„åŸºæœ¬æ•°å€¼ç±»å‹åŒ…æ‹¬ Byteã€Shortã€Intã€Longã€Floatã€Double ç­‰ã€‚ä¸åŒäº Java çš„æ˜¯ï¼Œå­—ç¬¦ä¸å±äºæ•°å€¼ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®ç±»å‹ã€‚ Kotlin ä¸­æ²¡æœ‰åŸºç¡€æ•°æ®ç±»å‹ï¼Œåªæœ‰å°è£…çš„æ•°å­—ç±»å‹ã€‚ä½ æ¯å®šä¹‰çš„ä¸€ä¸ªå˜é‡ï¼Œå…¶å® Kotlin å¸®ä½ å°è£…äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä¸ä¼šå‡ºç°ç©ºæŒ‡é’ˆã€‚æ•°å­—ç±»å‹ä¹Ÿä¸€æ ·ï¼Œæ‰€ä»¥åœ¨æ¯”è¾ƒä¸¤ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œå°±æœ‰æ¯”è¾ƒæ•°æ®å¤§å°å’Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒçš„åŒºåˆ«äº†ã€‚ åœ¨ Kotlin ä¸­ï¼Œä¸‰ä¸ªç­‰å· === è¡¨ç¤ºæ¯”è¾ƒå¯¹è±¡åœ°å€ï¼Œä¸¤ä¸ª == è¡¨ç¤ºæ¯”è¾ƒä¸¤ä¸ªå€¼å¤§å°ã€‚ var x = 1..16: [1,16] var x = 1 until 16: [1, 16) å˜é‡å’Œå¸¸é‡ å¯å˜å˜é‡å®šä¹‰ï¼švar å…³é”®å­— 12var &lt;æ ‡è¯†ç¬¦&gt; : &lt;ç±»å‹&gt; = &lt;åˆå§‹åŒ–å€¼&gt;val &lt;æ ‡è¯†ç¬¦&gt; : &lt;ç±»å‹&gt; = &lt;åˆå§‹åŒ–å€¼&gt; å­—ç¬¦ä¸²æ¨¡æ¿ $ è¡¨ç¤ºä¸€ä¸ªå˜é‡åæˆ–è€…å˜é‡å€¼ $varNameè¡¨ç¤ºå˜é‡å€¼ ${varName.fun()}è¡¨ç¤ºå˜é‡çš„æ–¹æ³•è¿”å›å€¼: 1var a = 1// æ¨¡æ¿ä¸­çš„ç®€å•åç§°ï¼šval s1 = \"a is $a\" a = 2// æ¨¡æ¿ä¸­çš„ä»»æ„è¡¨è¾¾å¼ï¼šval s2 = \"$&#123;s1.replace(\"is\", \"was\")&#125;, but now is $a\" Kotlin æ¡ä»¶æ§åˆ¶ Kotlin å¾ªç¯æ§åˆ¶ 1// å¯¹ä»»ä½•æä¾›è¿­ä»£å™¨ï¼ˆiteratorï¼‰çš„**å¯¹è±¡**è¿›è¡Œéå†for (item in collection) print(item)// é€šè¿‡**ç´¢å¼•**éå†ä¸€ä¸ªæ•°ç»„æˆ–è€…ä¸€ä¸ª listfor (i in array.indices) &#123; print(array[i])&#125;// ç´¢å¼•+å€¼ï¼Œç›¸å½“äºPythonä¸­çš„enumeratefor ((index, value) in array.withIndex()) &#123; println(\"the element at $index is $value\")&#125; 1// whileå¾ªç¯while( å¸ƒå°”è¡¨è¾¾å¼ ) &#123; //å¾ªç¯å†…å®¹&#125;// doå¾ªç¯do &#123; //ä»£ç è¯­å¥&#125;while(å¸ƒå°”è¡¨è¾¾å¼); è¿”å›å’Œè·³è½¬ Kotlin æœ‰ä¸‰ç§ç»“æ„åŒ–è·³è½¬è¡¨è¾¾å¼ï¼š returnã€‚é»˜è®¤ä»æœ€ç›´æ¥åŒ…å›´å®ƒçš„å‡½æ•°æˆ–è€…åŒ¿åå‡½æ•°è¿”å›ã€‚ breakã€‚ç»ˆæ­¢æœ€ç›´æ¥åŒ…å›´å®ƒçš„å¾ªç¯ã€‚ continueã€‚ç»§ç»­ä¸‹ä¸€æ¬¡æœ€ç›´æ¥åŒ…å›´å®ƒçš„å¾ªç¯ã€‚ Break å’Œ Continue çš„è·³è½¬æ ‡ç­¾ åœ¨ Kotlin ä¸­ä»»ä½•è¡¨è¾¾å¼éƒ½å¯ä»¥ç”¨æ ‡ç­¾ï¼ˆlabelï¼‰æ¥æ ‡è®°ã€‚ æ ‡ç­¾çš„æ ¼å¼ä¸ºæ ‡è¯†ç¬¦+è·Ÿ @ï¼Œä¾‹å¦‚ï¼šabc@ã€fooBar@éƒ½æ˜¯æœ‰æ•ˆçš„æ ‡ç­¾ã€‚ è¦ä¸ºä¸€ä¸ªè¡¨è¾¾å¼åŠ æ ‡ç­¾ï¼Œæˆ‘ä»¬åªè¦åœ¨å…¶å‰åŠ æ ‡ç­¾å³å¯ 1loop@ for (i in 1..100) &#123; for (j in 1..100) &#123; if (â€¦â€¦) break@loop &#125;&#125; æ ‡ç­¾é™åˆ¶ä½¿å¾— break è·³è½¬åˆ°åˆšå¥½ä½äºè¯¥æ ‡ç­¾æŒ‡å®šå¾ªç¯çš„åé¢æ‰§è¡Œç‚¹ã€‚ continue ç»§ç»­æ ‡ç­¾æŒ‡å®šçš„å¾ªç¯çš„ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚ æ ‡ç­¾å¤„è¿”å› Kotlin æœ‰å‡½æ•°å­—é¢é‡ã€å±€éƒ¨å‡½æ•°å’Œå¯¹è±¡è¡¨è¾¾å¼ã€‚å› æ­¤ Kotlin çš„å‡½æ•°å¯ä»¥è¢«åµŒå¥—ã€‚ æ ‡ç­¾é™åˆ¶çš„ return å…è®¸æˆ‘ä»¬ä»å¤–å±‚å‡½æ•°è¿”å›ã€‚ æ ‡ç­¾å¤„è¿”å›çš„æœ€é‡è¦çš„ä¸€ä¸ªç”¨é€”å°±æ˜¯ä» lambda è¡¨è¾¾å¼ä¸­è¿”å›ã€‚å›æƒ³ä¸€ä¸‹æˆ‘ä»¬è¿™ä¹ˆå†™çš„æ—¶å€™ï¼š 1fun foo() &#123; ints.forEach &#123; if (it == 0) return print(it) &#125;&#125; è¿™ä¸ª return è¡¨è¾¾å¼ä»æœ€ç›´æ¥åŒ…å›´å®ƒçš„å‡½æ•°å³ foo ä¸­è¿”å›ã€‚ ï¼ˆæ³¨æ„ï¼Œè¿™ç§éå±€éƒ¨çš„è¿”å›åªæ”¯æŒä¼ ç»™å†…è”å‡½æ•°çš„ lambda è¡¨è¾¾å¼ã€‚ï¼‰ å¦‚æœæˆ‘ä»¬éœ€è¦ä» lambda è¡¨è¾¾å¼ä¸­è¿”å›ï¼Œæˆ‘ä»¬å¿…é¡»ç»™å®ƒåŠ æ ‡ç­¾å¹¶ç”¨ä»¥é™åˆ¶ returnã€‚ 1fun foo() &#123; ints.forEach lit@ &#123; if (it == 0) return@lit print(it) &#125;&#125; ç°åœ¨ï¼Œå®ƒåªä¼šä» lambda è¡¨è¾¾å¼ä¸­è¿”å›ã€‚é€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨éšå¼æ ‡ç­¾æ›´æ–¹ä¾¿ã€‚ è¯¥æ ‡ç­¾ä¸æ¥å—è¯¥ lambda çš„å‡½æ•°åŒåã€‚ 1fun foo() &#123; ints.forEach &#123; if (it == 0) return@forEach print(it) &#125;&#125; æˆ–è€…ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¿åå‡½æ•°æ›¿ä»£ lambda è¡¨è¾¾å¼ã€‚ åŒ¿åå‡½æ•°å†…éƒ¨çš„ return è¯­å¥å°†ä»è¯¥åŒ¿åå‡½æ•°è‡ªèº«è¿”å› 1fun foo() &#123; ints.forEach(fun(value: Int) &#123; if (value == 0) return print(value) &#125;)&#125; å½“è¦è¿”ä¸€ä¸ªå›å€¼çš„æ—¶å€™ï¼Œè§£æå™¨ä¼˜å…ˆé€‰ç”¨æ ‡ç­¾é™åˆ¶çš„ returnï¼Œå³ 1return@a 1 æ„ä¸º&quot;ä»æ ‡ç­¾ @a è¿”å› 1&quot;ï¼Œè€Œä¸æ˜¯&quot;è¿”å›ä¸€ä¸ªæ ‡ç­¾æ ‡æ³¨çš„è¡¨è¾¾å¼ (@a 1)&quot;ã€‚ Kotlin ç±»å’Œå¯¹è±¡ ç±»çš„å®šä¹‰ 1class Runoob constructor(name: String) &#123; fun foo() &#123; print(\"Foo\") &#125; // æˆå‘˜å‡½æ•° var url: String = â€¦â€¦ // æ¬¡æ„é€ å‡½æ•° constructor (name: String, alexa: Int) : this(name) &#123; println(\"Alexa æ’å $alexa\") &#125; var lastName: String = \"zhang\" get() = field.toUpperCase() // å°†å˜é‡èµ‹å€¼åè½¬æ¢ä¸ºå¤§å†™ set var no: Int = 100 get() = field // åç«¯å˜é‡ set(value) &#123; if (value &lt; 10) &#123; // å¦‚æœä¼ å…¥çš„å€¼å°äº 10 è¿”å›è¯¥å€¼ field = value &#125; else &#123; field = -1 // å¦‚æœä¼ å…¥çš„å€¼å¤§äºç­‰äº 10 è¿”å› -1 &#125; &#125; var heiht: Float = 145.4f private set &#125; å¯¹è±¡çš„å£°æ˜ 1val site = Runoob() // Kotlin ä¸­æ²¡æœ‰ new å…³é”®å­—site.name // ä½¿ç”¨ . å·æ¥å¼•ç”¨site.url æ„é€ å‡½æ•° Koltin ä¸­çš„ç±»å¯ä»¥æœ‰ä¸€ä¸ª ä¸»æ„é€ å™¨ï¼Œä»¥åŠä¸€ä¸ªæˆ–å¤šä¸ªæ¬¡æ„é€ å™¨ï¼Œä¸»æ„é€ å™¨æ˜¯ç±»å¤´éƒ¨çš„ä¸€éƒ¨åˆ†ï¼Œä½äºç±»åç§°ä¹‹å: 1class Person constructor(firstName: String) &#123; init &#123; println(\"FirstName is $firstName\") &#125;&#125; å¦‚æœä¸»æ„é€ å™¨æ²¡æœ‰ä»»ä½•æ³¨è§£ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å¯è§åº¦ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆconstructorå…³é”®å­—å¯ä»¥çœç•¥ã€‚ 1class Person(firstName: String) &#123;&#125; æ¬¡æ„é€ å‡½æ•° ç±»ä¹Ÿå¯ä»¥æœ‰äºŒçº§æ„é€ å‡½æ•°ï¼Œéœ€è¦åŠ å‰ç¼€ constructor: 1class Person &#123; constructor(parent: Person) &#123; parent.children.add(this) &#125;&#125; å¦‚æœç±»æœ‰ä¸»æ„é€ å‡½æ•°ï¼Œæ¯ä¸ªæ¬¡æ„é€ å‡½æ•°éƒ½è¦ï¼Œæˆ–ç›´æ¥æˆ–é—´æ¥é€šè¿‡å¦ä¸€ä¸ªæ¬¡æ„é€ å‡½æ•°ä»£ç†ä¸»æ„é€ å‡½æ•°ã€‚åœ¨åŒä¸€ä¸ªç±»ä¸­ä»£ç†å¦ä¸€ä¸ªæ„é€ å‡½æ•°ä½¿ç”¨ this å…³é”®å­—ï¼š 1class Person(val name: String) &#123; constructor (name: String, age:Int) : this(name) &#123; // åˆå§‹åŒ–... &#125;&#125; å¦‚æœä¸€ä¸ªéæŠ½è±¡ç±»æ²¡æœ‰å£°æ˜æ„é€ å‡½æ•°(ä¸»æ„é€ å‡½æ•°æˆ–æ¬¡æ„é€ å‡½æ•°)ï¼Œå®ƒä¼šäº§ç”Ÿä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„æ„é€ å‡½æ•°ã€‚æ„é€ å‡½æ•°æ˜¯ public ã€‚å¦‚æœä½ ä¸æƒ³ä½ çš„ç±»æœ‰å…¬å…±çš„æ„é€ å‡½æ•°ï¼Œä½ å°±å¾—å£°æ˜ä¸€ä¸ªç©ºçš„ä¸»æ„é€ å‡½æ•°ï¼š 1class DontCreateMe private constructor () &#123;&#125; getter å’Œ setter 1var &lt;propertyName&gt;[: &lt;PropertyType&gt;] [= &lt;property_initializer&gt;] [&lt;getter&gt;] [&lt;setter&gt;]// varå˜é‡å¯è®¾ç½®getter å’Œ setter, éƒ½æ˜¯å¯é€‰// å¦‚æœå±æ€§ç±»å‹å¯ä»¥ä»åˆå§‹åŒ–è¯­å¥æˆ–è€…ç±»çš„æˆå‘˜å‡½æ•°ä¸­æ¨æ–­å‡ºæ¥ï¼Œé‚£å°±å¯ä»¥çœå»ç±»å‹ï¼Œvalä¸å…è®¸è®¾ç½®setterå‡½æ•°ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»çš„ã€‚var allByDefault: Int? // é”™è¯¯: éœ€è¦ä¸€ä¸ªåˆå§‹åŒ–è¯­å¥, é»˜è®¤å®ç°äº† getter å’Œ setter æ–¹æ³•var initialized = 1 // ç±»å‹ä¸º Int, é»˜è®¤å®ç°äº† getter å’Œ setterval simple: Int? // ç±»å‹ä¸º Int ï¼Œé»˜è®¤å®ç° getter ï¼Œä½†å¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–val inferredType = 1 // ç±»å‹ä¸º Int ç±»å‹,é»˜è®¤å®ç° getter æŠ½è±¡ç±» æŠ½è±¡æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç‰¹å¾ä¹‹ä¸€ï¼Œç±»æœ¬èº«ï¼Œæˆ–ç±»ä¸­çš„éƒ¨åˆ†æˆå‘˜ï¼Œéƒ½å¯ä»¥å£°æ˜ä¸ºabstractçš„ã€‚æŠ½è±¡æˆå‘˜åœ¨ç±»ä¸­ä¸å­˜åœ¨å…·ä½“çš„å®ç°ã€‚ æ³¨æ„ï¼šæ— éœ€å¯¹æŠ½è±¡ç±»æˆ–æŠ½è±¡æˆå‘˜æ ‡æ³¨openæ³¨è§£ã€‚ 1open class Base &#123; open fun f() &#123;&#125;&#125;abstract class Derived : Base() &#123; override abstract fun f()&#125; åµŒå¥—ç±» æˆ‘ä»¬å¯ä»¥æŠŠç±»åµŒå¥—åœ¨å…¶ä»–ç±»ä¸­ï¼Œçœ‹ä»¥ä¸‹å®ä¾‹ï¼š 1class Outer &#123; // å¤–éƒ¨ç±» private val bar: Int = 1 class Nested &#123; // åµŒå¥—ç±» fun foo() = 2 &#125;&#125; å†…éƒ¨ç±» å†…éƒ¨ç±»ä½¿ç”¨ inner å…³é”®å­—æ¥è¡¨ç¤ºã€‚ å†…éƒ¨ç±»ä¼šå¸¦æœ‰ä¸€ä¸ªå¯¹å¤–éƒ¨ç±»çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥å†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»æˆå‘˜å±æ€§å’Œæˆå‘˜å‡½æ•°ã€‚ 1class Outer &#123; private val bar: Int = 1 var v = \"æˆå‘˜å±æ€§\" /**åµŒå¥—å†…éƒ¨ç±»**/ inner class Inner &#123; fun foo() = bar // è®¿é—®å¤–éƒ¨ç±»æˆå‘˜ fun innerTest() &#123; var o = this@Outer //è·å–å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡ println(\"å†…éƒ¨ç±»å¯ä»¥å¼•ç”¨å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œä¾‹å¦‚ï¼š\" + o.v) &#125; &#125;&#125; åŒ¿åå†…éƒ¨ç±» ä½¿ç”¨å¯¹è±¡è¡¨è¾¾å¼æ¥åˆ›å»ºåŒ¿åå†…éƒ¨ç±»ï¼š 1class Test &#123; var v = \"æˆå‘˜å±æ€§\" fun setInterFace(test: TestInterFace) &#123; test.test() &#125;&#125;/** * å®šä¹‰æ¥å£ */interface TestInterFace &#123; fun test()&#125;fun main(args: Array&lt;String&gt;) &#123; var test = Test() /** * é‡‡ç”¨å¯¹è±¡è¡¨è¾¾å¼æ¥åˆ›å»ºæ¥å£å¯¹è±¡ï¼Œå³åŒ¿åå†…éƒ¨ç±»çš„å®ä¾‹ã€‚ */ test.setInterFace(object : TestInterFace &#123; override fun test() &#123; println(\"å¯¹è±¡è¡¨è¾¾å¼åˆ›å»ºåŒ¿åå†…éƒ¨ç±»çš„å®ä¾‹\") &#125; &#125;)&#125; ç±»çš„ä¿®é¥°ç¬¦ ç±»çš„ä¿®é¥°ç¬¦åŒ…æ‹¬ classModifier å’Œ_accessModifier_: classModifier: ç±»å±æ€§ä¿®é¥°ç¬¦ï¼Œæ ‡ç¤ºç±»æœ¬èº«ç‰¹æ€§ã€‚ 1abstract // æŠ½è±¡ç±» final // ç±»ä¸å¯ç»§æ‰¿ï¼Œé»˜è®¤å±æ€§enum // æšä¸¾ç±»open // ç±»å¯ç»§æ‰¿ï¼Œç±»é»˜è®¤æ˜¯finalçš„annotation // æ³¨è§£ç±» accessModifier: è®¿é—®æƒé™ä¿®é¥°ç¬¦ 1private // ä»…åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­å¯è§protected // åŒä¸€ä¸ªæ–‡ä»¶ä¸­æˆ–å­ç±»å¯è§public // æ‰€æœ‰è°ƒç”¨çš„åœ°æ–¹éƒ½å¯è§internal // åŒä¸€ä¸ªæ¨¡å—ä¸­å¯è§ Kotlin ç»§æ‰¿ Kotlin ä¸­æ‰€æœ‰ç±»éƒ½ç»§æ‰¿è¯¥ Any ç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰ç±»çš„è¶…ç±»ï¼Œå¯¹äºæ²¡æœ‰è¶…ç±»å‹å£°æ˜çš„ç±»æ˜¯é»˜è®¤è¶…ç±»ï¼š Any é»˜è®¤æä¾›äº†ä¸‰ä¸ªå‡½æ•°ï¼š equals() hashCode() toString() æ³¨æ„ï¼šAny ä¸æ˜¯ java.lang.Objectã€‚ å¦‚æœä¸€ä¸ªç±»è¦è¢«ç»§æ‰¿ï¼Œå¯ä»¥ä½¿ç”¨ open å…³é”®å­—è¿›è¡Œä¿®é¥°ã€‚ 1open class Base(p: Int) // å®šä¹‰åŸºç±»class Derived(p: Int) : Base(p) æ„é€ å‡½æ•° å­ç±»æœ‰ä¸»æ„é€ å‡½æ•° å¦‚æœå­ç±»æœ‰ä¸»æ„é€ å‡½æ•°ï¼Œ åˆ™åŸºç±»å¿…é¡»åœ¨ä¸»æ„é€ å‡½æ•°ä¸­ç«‹å³åˆå§‹åŒ–ã€‚ 1open class Person(var name : String, var age : Int)&#123;// åŸºç±»&#125;class Student(name : String, age : Int, var no : String, var score : Int) : Person(name, age) &#123;&#125;// æµ‹è¯•fun main(args: Array&lt;String&gt;) &#123; val s = Student(&quot;Runoob&quot;, 18, &quot;S12346&quot;, 89) println(&quot;å­¦ç”Ÿåï¼š $&#123;s.name&#125;&quot;) println(&quot;å¹´é¾„ï¼š $&#123;s.age&#125;&quot;) println(&quot;å­¦ç”Ÿå·ï¼š $&#123;s.no&#125;&quot;) println(&quot;æˆç»©ï¼š $&#123;s.score&#125;&quot;)&#125; è¾“å‡ºç»“æœï¼š 1å­¦ç”Ÿåï¼š Runoobå¹´é¾„ï¼š 18å­¦ç”Ÿå·ï¼š S12346æˆç»©ï¼š 89 å­ç±»æ²¡æœ‰ä¸»æ„é€ å‡½æ•° å¦‚æœå­ç±»æ²¡æœ‰ä¸»æ„é€ å‡½æ•°ï¼Œåˆ™å¿…é¡»åœ¨æ¯ä¸€ä¸ªäºŒçº§æ„é€ å‡½æ•°ä¸­ç”¨ super å…³é”®å­—åˆå§‹åŒ–åŸºç±»ï¼Œæˆ–è€…åœ¨ä»£ç†å¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚åˆå§‹åŒ–åŸºç±»æ—¶ï¼Œå¯ä»¥è°ƒç”¨åŸºç±»çš„ä¸åŒæ„é€ æ–¹æ³•ã€‚ 1class Student : Person &#123; constructor(ctx: Context) : super(ctx) &#123; &#125; constructor(ctx: Context, attrs: AttributeSet) : super(ctx,attrs) &#123; &#125;&#125; é‡å†™ åœ¨åŸºç±»ä¸­ï¼Œä½¿ç”¨funå£°æ˜å‡½æ•°æ—¶ï¼Œæ­¤å‡½æ•°é»˜è®¤ä¸ºfinalä¿®é¥°ï¼Œä¸èƒ½è¢«å­ç±»é‡å†™ã€‚å¦‚æœå…è®¸å­ç±»é‡å†™è¯¥å‡½æ•°ï¼Œé‚£ä¹ˆå°±è¦æ‰‹åŠ¨æ·»åŠ  open ä¿®é¥°å®ƒ, å­ç±»é‡å†™æ–¹æ³•ä½¿ç”¨ override å…³é”®è¯ï¼š 1/**ç”¨æˆ·åŸºç±»**/open class Person&#123; open fun study()&#123; // å…è®¸å­ç±»é‡å†™ println(\"æˆ‘æ¯•ä¸šäº†\") &#125;&#125;/**å­ç±»ç»§æ‰¿ Person ç±»**/class Student : Person() &#123; override fun study()&#123; // é‡å†™æ–¹æ³• println(\"æˆ‘åœ¨è¯»å¤§å­¦\") &#125;&#125;fun main(args: Array&lt;String&gt;) &#123; val s = Student() s.study();&#125; å¦‚æœæœ‰å¤šä¸ªç›¸åŒçš„æ–¹æ³•ï¼ˆç»§æ‰¿æˆ–è€…å®ç°è‡ªå…¶ä»–ç±»ï¼Œå¦‚Aã€Bç±»ï¼‰ï¼Œåˆ™å¿…é¡»è¦é‡å†™è¯¥æ–¹æ³•ï¼Œä½¿ç”¨superèŒƒå‹å»é€‰æ‹©æ€§åœ°è°ƒç”¨çˆ¶ç±»çš„å®ç°ã€‚ 1open class A &#123; open fun f () &#123; print(&quot;A&quot;) &#125; fun a() &#123; print(&quot;a&quot;) &#125;&#125;interface B &#123; fun f() &#123; print(&quot;B&quot;) &#125; //æ¥å£çš„æˆå‘˜å˜é‡é»˜è®¤æ˜¯ open çš„ fun b() &#123; print(&quot;b&quot;) &#125;&#125;class C() : A() , B&#123; override fun f() &#123; super&lt;A&gt;.f()//è°ƒç”¨ A.f() super&lt;B&gt;.f()//è°ƒç”¨ B.f() &#125;&#125;fun main(args: Array&lt;String&gt;) &#123; val c = C() c.f();&#125; C ç»§æ‰¿è‡ª a() æˆ– b(), C ä¸ä»…å¯ä»¥ä» A æˆ–åˆ™ B ä¸­ç»§æ‰¿å‡½æ•°ï¼Œè€Œä¸” C å¯ä»¥ç»§æ‰¿ A()ã€B() ä¸­å…±æœ‰çš„å‡½æ•°ã€‚æ­¤æ—¶è¯¥å‡½æ•°åœ¨ä¸­åªæœ‰ä¸€ä¸ªå®ç°ï¼Œä¸ºäº†æ¶ˆé™¤æ­§ä¹‰ï¼Œè¯¥å‡½æ•°å¿…é¡»è°ƒç”¨A()å’ŒB()ä¸­è¯¥å‡½æ•°çš„å®ç°ï¼Œå¹¶æä¾›è‡ªå·±çš„å®ç°ã€‚ è¾“å‡ºç»“æœä¸º: 1AB å±æ€§é‡å†™ å±æ€§é‡å†™ä½¿ç”¨ override å…³é”®å­—ï¼Œå±æ€§å¿…é¡»å…·æœ‰å…¼å®¹ç±»å‹ï¼Œæ¯ä¸€ä¸ªå£°æ˜çš„å±æ€§éƒ½å¯ä»¥é€šè¿‡åˆå§‹åŒ–ç¨‹åºæˆ–è€…getteræ–¹æ³•è¢«é‡å†™ï¼š 1open class Foo &#123; open val x: Int get &#123; â€¦â€¦ &#125;&#125;class Bar1 : Foo() &#123; override val x: Int = â€¦â€¦&#125; æ³¨ï¼šå¯ä»¥ç”¨ä¸€ä¸ªvarå±æ€§é‡å†™ä¸€ä¸ªvalå±æ€§ï¼Œä½†æ˜¯åè¿‡æ¥ä¸è¡Œã€‚ Kotlin æ¥å£ æ¥å£å®šä¹‰ Kotlin æ¥å£ä¸ Java 8 ç±»ä¼¼ï¼Œä½¿ç”¨ interface å…³é”®å­—å®šä¹‰æ¥å£ï¼Œå…è®¸æ–¹æ³•æœ‰é»˜è®¤å®ç°ï¼š 1interface MyInterface &#123; fun bar() // æœªå®ç° fun foo() &#123; //å·²å®ç° // å¯é€‰çš„æ–¹æ³•ä½“ println(\"foo\") &#125; // æ¥å£ä¸­çš„å±æ€§åªèƒ½æ˜¯æŠ½è±¡çš„ï¼Œä¸å…è®¸åˆå§‹åŒ–å€¼ï¼Œæ¥å£ä¸ä¼šä¿å­˜å±æ€§å€¼ï¼Œå®ç°æ¥å£æ—¶ï¼Œå¿…é¡»é‡å†™å±æ€§ï¼š var name:String //name å±æ€§, æŠ½è±¡çš„&#125; å®ç°æ¥å£ ä¸€ä¸ªç±»æˆ–è€…å¯¹è±¡å¯ä»¥å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚ 1class Child : MyInterface &#123; override fun bar() &#123; // æ–¹æ³•ä½“ &#125;&#125; Kotlin æ‰©å±• Kotlin å¯ä»¥å¯¹ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œä¸”ä¸éœ€è¦ç»§æ‰¿æˆ–ä½¿ç”¨ Decorator æ¨¡å¼ã€‚ æ‰©å±•æ˜¯ä¸€ç§é™æ€è¡Œä¸ºï¼Œå¯¹è¢«æ‰©å±•çš„ç±»ä»£ç æœ¬èº«ä¸ä¼šé€ æˆä»»ä½•å½±å“ã€‚ å°†å‡½æ•°æ‰©å±• æ‰©å±•å‡½æ•°å¯ä»¥åœ¨å·²æœ‰ç±»ä¸­æ·»åŠ æ–°çš„æ–¹æ³•ï¼Œä¸ä¼šå¯¹åŸç±»åšä¿®æ”¹ï¼Œæ‰©å±•å‡½æ•°å®šä¹‰å½¢å¼ï¼š receiverTypeï¼šè¡¨ç¤ºå‡½æ•°çš„æ¥æ”¶è€…ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°æ‰©å±•çš„å¯¹è±¡ functionNameï¼šæ‰©å±•å‡½æ•°çš„åç§° paramsï¼šæ‰©å±•å‡½æ•°çš„å‚æ•°ï¼Œå¯ä»¥ä¸ºNULL 1// å‡½æ•°æ‰©å±•åŸå‹fun receiverType.functionName(params)&#123; body&#125;class User(var name:String)/**æ‰©å±•å‡½æ•°**/fun User.Print()&#123; print(\"ç”¨æˆ·å $name\")&#125; æ‰©å±•å‡½æ•°æ˜¯é™æ€è§£æçš„ æ‰©å±•å‡½æ•°æ˜¯é™æ€è§£æçš„ï¼Œå¹¶ä¸æ˜¯æ¥æ”¶è€…ç±»å‹çš„è™šæ‹Ÿæˆå‘˜ï¼Œåœ¨è°ƒç”¨æ‰©å±•å‡½æ•°æ—¶ï¼Œå…·ä½“è¢«è°ƒç”¨çš„çš„æ˜¯å“ªä¸€ä¸ªå‡½æ•°ï¼Œç”±è°ƒç”¨å‡½æ•°çš„çš„å¯¹è±¡è¡¨è¾¾å¼æ¥å†³å®šçš„ï¼Œè€Œä¸æ˜¯åŠ¨æ€çš„ç±»å‹å†³å®šçš„: 1open class Cclass D: C()fun C.foo() = \"c\" // æ‰©å±•å‡½æ•° foofun D.foo() = \"d\" // æ‰©å±•å‡½æ•° foofun printFoo(c: C) &#123; println(c.foo()) // ç±»å‹æ˜¯ C ç±»&#125;fun main(arg:Array&lt;String&gt;)&#123; printFoo(D())&#125;// è¾“å‡ºc è‹¥æ‰©å±•å‡½æ•°å’Œæˆå‘˜å‡½æ•°ä¸€è‡´ï¼Œåˆ™ä½¿ç”¨è¯¥å‡½æ•°æ—¶ï¼Œä¼šä¼˜å…ˆä½¿ç”¨æˆå‘˜å‡½æ•°ã€‚ æ‰©å±•ä¸€ä¸ªç©ºå¯¹è±¡ åœ¨æ‰©å±•å‡½æ•°å†…ï¼Œ å¯ä»¥é€šè¿‡ this æ¥åˆ¤æ–­æ¥æ”¶è€…æ˜¯å¦ä¸º NULL,è¿™æ ·ï¼Œå³ä½¿æ¥æ”¶è€…ä¸º NULL,ä¹Ÿå¯ä»¥è°ƒç”¨æ‰©å±•å‡½æ•°ã€‚ä¾‹å¦‚: 1fun Any?.toString(): String &#123; if (this == null) return &quot;null&quot; // ç©ºæ£€æµ‹ä¹‹åï¼Œâ€œthisâ€ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºéç©ºç±»å‹ï¼Œæ‰€ä»¥ä¸‹é¢çš„ toString() // è§£æä¸º Any ç±»çš„æˆå‘˜å‡½æ•° return toString()&#125;fun main(arg:Array&lt;String&gt;)&#123; var t = null println(t.toString())&#125; å®ä¾‹æ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š 1null æ‰©å±•å±æ€§å…è®¸å®šä¹‰åœ¨ç±»æˆ–è€…kotlinæ–‡ä»¶ä¸­ï¼Œä¸å…è®¸å®šä¹‰åœ¨å‡½æ•°ä¸­ã€‚åˆå§‹åŒ–å±æ€§å› ä¸ºå±æ€§æ²¡æœ‰åç«¯å­—æ®µï¼ˆbacking fieldï¼‰ï¼Œæ‰€ä»¥ä¸å…è®¸è¢«åˆå§‹åŒ–ï¼Œåªèƒ½ç”±æ˜¾å¼æä¾›çš„ getter/setter å®šä¹‰ã€‚ 1val Foo.bar = 1 // é”™è¯¯ï¼šæ‰©å±•å±æ€§ä¸èƒ½æœ‰åˆå§‹åŒ–å™¨ æ‰©å±•å±æ€§åªèƒ½è¢«å£°æ˜ä¸º valã€‚ ä¼´ç”Ÿå¯¹è±¡çš„æ‰©å±• ä¼´ç”Ÿå¯¹è±¡å†…çš„æˆå‘˜ç›¸å½“äº Java ä¸­çš„é™æ€æˆå‘˜ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸä¼´éšç±»å§‹ç»ˆï¼Œåœ¨ä¼´ç”Ÿå¯¹è±¡å†…éƒ¨å¯ä»¥å®šä¹‰å˜é‡å’Œå‡½æ•°ï¼Œè¿™äº›å˜é‡å’Œå‡½æ•°å¯ä»¥ç›´æ¥ç”¨ç±»åå¼•ç”¨ã€‚ å¦‚æœä¸€ä¸ªç±»å®šä¹‰æœ‰ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ºä¼´ç”Ÿå¯¹è±¡å®šä¹‰æ‰©å±•å‡½æ•°å’Œå±æ€§ã€‚ ä¼´ç”Ÿå¯¹è±¡é€šè¿‡&quot;ç±»å.&quot;å½¢å¼è°ƒç”¨ä¼´ç”Ÿå¯¹è±¡ï¼Œä¼´ç”Ÿå¯¹è±¡å£°æ˜çš„æ‰©å±•å‡½æ•°ï¼Œé€šè¿‡ç”¨ç±»åé™å®šç¬¦æ¥è°ƒç”¨ï¼š 1class MyClass &#123; companion object &#123; &#125; // å°†è¢«ç§°ä¸º &quot;Companion&quot;&#125;fun MyClass.Companion.foo() &#123; println(&quot;ä¼´éšå¯¹è±¡çš„æ‰©å±•å‡½æ•°&quot;)&#125;val MyClass.Companion.no: Int get() = 10fun main(args: Array&lt;String&gt;) &#123; println(&quot;no:$&#123;MyClass.no&#125;&quot;) MyClass.foo()&#125; å®ä¾‹æ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š 1no:10ä¼´éšå¯¹è±¡çš„æ‰©å±•å‡½æ•° æ³¨ï¼šå¯¹äºä¼´ç”Ÿå¯¹è±¡æ‰©å±•å‡½æ•°ï¼Œæœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯åœ¨ç±»å†…æ‰©å±•ï¼Œä¸€ç§æ˜¯åœ¨ç±»å¤–æ‰©å±•ï¼Œè¿™ä¸¤ç§å½¢å¼æ‰©å±•åçš„å‡½æ•°äº’ä¸å½±å“ï¼ˆç”šè‡³åç§°éƒ½å¯ä»¥ç›¸åŒï¼‰ï¼Œå³ä½¿åç§°ç›¸åŒï¼Œå®ƒä»¬ä¹Ÿå®Œå…¨æ˜¯ä¸¤ä¸ªä¸åŒçš„å‡½æ•°ï¼Œå¹¶ä¸”æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š ï¼ˆ1ï¼‰ç±»å†…æ‰©å±•çš„ä¼´éšå¯¹è±¡å‡½æ•°å’Œç±»å¤–æ‰©å±•çš„ä¼´éšå¯¹è±¡å¯ä»¥åŒåï¼Œå®ƒä»¬æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å‡½æ•°ï¼Œäº’ä¸å½±å“ï¼› ï¼ˆ2ï¼‰å½“ç±»å†…æ‰©å±•çš„ä¼´éšå¯¹è±¡å‡½æ•°å’Œç±»å¤–æ‰©å±•çš„ä¼´éšå¯¹è±¡åŒåæ—¶ï¼Œç±»å†…çš„å…¶å®ƒå‡½æ•°ä¼˜å…ˆå¼•ç”¨ç±»å†…æ‰©å±•çš„ä¼´éšå¯¹è±¡å‡½æ•°ï¼Œå³å¯¹äºç±»å†…å…¶å®ƒæˆå‘˜å‡½æ•°æ¥è¯´ï¼Œç±»å†…æ‰©å±•å±è”½ç±»å¤–æ‰©å±•ï¼› ï¼ˆ3ï¼‰ç±»å†…æ‰©å±•çš„ä¼´éšå¯¹è±¡å‡½æ•°åªèƒ½è¢«ç±»å†…çš„å‡½æ•°å¼•ç”¨ï¼Œä¸èƒ½è¢«ç±»å¤–çš„å‡½æ•°å’Œä¼´éšå¯¹è±¡å†…çš„å‡½æ•°å¼•ç”¨ï¼› ï¼ˆ4ï¼‰ç±»å¤–æ‰©å±•çš„ä¼´éšå¯¹è±¡å‡½æ•°å¯ä»¥è¢«ä¼´éšå¯¹è±¡å†…çš„å‡½æ•°å¼•ç”¨ï¼Œï¼› Kotlin å¯¹è±¡è¡¨è¾¾å¼å’Œå¯¹è±¡å£°æ˜ å¯¹è±¡è¡¨è¾¾å¼ é€šè¿‡å¯¹è±¡è¡¨è¾¾å¼å®ç°ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»çš„å¯¹è±¡ç”¨äºæ–¹æ³•çš„å‚æ•°ä¸­ï¼š 1window.addMouseListener(object : MouseAdapter() &#123; override fun mouseClicked(e: MouseEvent) &#123; // ... &#125; override fun mouseEntered(e: MouseEvent) &#123; // ... &#125;&#125;) å¯¹è±¡å£°æ˜ Kotlin ä½¿ç”¨ object å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå¯¹è±¡ã€‚ Kotlin ä¸­æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„é€šè¿‡å¯¹è±¡objectå£°æ˜æ¥è·å¾—ä¸€ä¸ªå•ä¾‹ã€‚ å½“å¯¹è±¡å£°æ˜åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å¹¶ä¸èƒ½é€šè¿‡å¤–éƒ¨ç±»çš„å®ä¾‹è®¿é—®åˆ°è¯¥å¯¹è±¡ï¼Œè€Œåªèƒ½é€šè¿‡ç±»åæ¥è®¿é—®ï¼ŒåŒæ ·è¯¥å¯¹è±¡ä¹Ÿä¸èƒ½ç›´æ¥è®¿é—®åˆ°å¤–éƒ¨ç±»çš„æ–¹æ³•å’Œå˜é‡ã€‚ 1class Site &#123; var name = \"èœé¸Ÿæ•™ç¨‹\" object DeskTop&#123; var url = \"www.runoob.com\" fun showName()&#123; print&#123;\"desk legs $name\"&#125; // é”™è¯¯ï¼Œä¸èƒ½è®¿é—®åˆ°å¤–éƒ¨ç±»çš„æ–¹æ³•å’Œå˜é‡ &#125; &#125;&#125;fun main(args: Array&lt;String&gt;) &#123; var site = Site() site.DeskTop.url // é”™è¯¯ï¼Œä¸èƒ½é€šè¿‡å¤–éƒ¨ç±»çš„å®ä¾‹è®¿é—®åˆ°è¯¥å¯¹è±¡ Site.DeskTop.url // æ­£ç¡®, ç±»ä¼¼é™æ€å†…éƒ¨ç±»ï¼Œè¿™ä¸ªç±»æ˜¯å±äºå¤–éƒ¨ç±»çš„ï¼Œè€Œä¸æ˜¯æŸä¸ªå®ä¾‹&#125; ä¼´ç”Ÿå¯¹è±¡ ç±»å†…éƒ¨çš„å¯¹è±¡å£°æ˜å¯ä»¥ç”¨ companion å…³é”®å­—æ ‡è®°ï¼Œè¿™æ ·å®ƒå°±ä¸å¤–éƒ¨ç±»å…³è”åœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥é€šè¿‡å¤–éƒ¨ç±»è®¿é—®åˆ°å¯¹è±¡çš„å†…éƒ¨å…ƒç´ ã€‚ å¯¹è±¡è¡¨è¾¾å¼å’Œå¯¹è±¡å£°æ˜ä¹‹é—´çš„è¯­ä¹‰å·®å¼‚ å¯¹è±¡è¡¨è¾¾å¼å’Œå¯¹è±¡å£°æ˜ä¹‹é—´æœ‰ä¸€ä¸ªé‡è¦çš„è¯­ä¹‰å·®åˆ«ï¼š å¯¹è±¡è¡¨è¾¾å¼æ˜¯åœ¨ä½¿ç”¨ä»–ä»¬çš„åœ°æ–¹ç«‹å³æ‰§è¡Œçš„ å¯¹è±¡å£°æ˜æ˜¯åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®åˆ°æ—¶å»¶è¿Ÿåˆå§‹åŒ–çš„ ä¼´ç”Ÿå¯¹è±¡çš„åˆå§‹åŒ–æ˜¯åœ¨ç›¸åº”çš„ç±»è¢«åŠ è½½ï¼ˆè§£æï¼‰æ—¶ï¼Œä¸ Java é™æ€åˆå§‹åŒ–å™¨çš„è¯­ä¹‰ç›¸åŒ¹é… kotlin å§”æ‰˜ å§”æ‰˜æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼ä¸­çš„ä¸€é¡¹åŸºæœ¬æŠ€å·§ã€‚åœ¨å§”æ‰˜æ¨¡å¼ä¸­ï¼Œæœ‰ä¸¤ä¸ªå¯¹è±¡å‚ä¸å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œæ¥å—è¯·æ±‚çš„å¯¹è±¡å°†è¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡æ¥å¤„ç†ã€‚ Kotlin ç›´æ¥æ”¯æŒå§”æ‰˜æ¨¡å¼ï¼Œæ›´åŠ ä¼˜é›…ï¼Œç®€æ´ã€‚Kotlin é€šè¿‡å…³é”®å­— by å®ç°å§”æ‰˜ã€‚ ç±»å§”æ‰˜ 1// åˆ›å»ºæ¥å£interface Base &#123; fun print()&#125;// å®ç°æ­¤æ¥å£çš„è¢«å§”æ‰˜çš„ç±»class BaseImpl(val x: Int) : Base &#123; override fun print() &#123; print(x) &#125;&#125;// é€šè¿‡å…³é”®å­— by å»ºç«‹å§”æ‰˜ç±»class Derived(b: Base) : Base by bfun main(args: Array&lt;String&gt;) &#123; val b = BaseImpl(10) Derived(b).print() // è¾“å‡º 10&#125; åœ¨ Derived å£°æ˜ä¸­ï¼Œby å­å¥è¡¨ç¤ºï¼Œå°† b ä¿å­˜åœ¨ Derived çš„å¯¹è±¡å®ä¾‹å†…éƒ¨ï¼Œè€Œä¸”ç¼–è¯‘å™¨å°†ä¼šç”Ÿæˆç»§æ‰¿è‡ª Base æ¥å£çš„æ‰€æœ‰æ–¹æ³•, å¹¶å°†è°ƒç”¨è½¬å‘ç»™ bã€‚ å±æ€§å§”æ‰˜ å±æ€§å§”æ‰˜æŒ‡çš„æ˜¯ä¸€ä¸ªç±»çš„æŸä¸ªå±æ€§å€¼ä¸æ˜¯åœ¨ç±»ä¸­ç›´æ¥è¿›è¡Œå®šä¹‰ï¼Œè€Œæ˜¯å°†å…¶æ‰˜ä»˜ç»™ä¸€ä¸ªä»£ç†ç±»ï¼Œä»è€Œå®ç°å¯¹è¯¥ç±»çš„å±æ€§ç»Ÿä¸€ç®¡ç†ã€‚ 1import kotlin.reflect.KProperty// å®šä¹‰åŒ…å«å±æ€§å§”æ‰˜çš„ç±»class Example &#123; var p: String by Delegate() // val/var &lt;å±æ€§å&gt;: &lt;ç±»å‹&gt; by &lt;è¡¨è¾¾å¼&gt;&#125;// å§”æ‰˜çš„ç±»class Delegate &#123; operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String &#123; return \"$thisRef, è¿™é‡Œå§”æ‰˜äº† $&#123;property.name&#125; å±æ€§\" &#125; operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) &#123; println(\"$thisRef çš„ $&#123;property.name&#125; å±æ€§èµ‹å€¼ä¸º $value\") &#125;&#125;fun main(args: Array&lt;String&gt;) &#123; val e = Example() println(e.p) // è®¿é—®è¯¥å±æ€§ï¼Œè°ƒç”¨ getValue() å‡½æ•° e.p = \"Runoob\" // è°ƒç”¨ setValue() å‡½æ•° println(e.p)&#125; æ ‡å‡†å§”æ‰˜ Kotlin çš„æ ‡å‡†åº“ä¸­å·²ç»å†…ç½®äº†å¾ˆå¤šå·¥å‚æ–¹æ³•æ¥å®ç°å±æ€§çš„å§”æ‰˜ã€‚ å»¶è¿Ÿå±æ€§ Lazy 1val lazyValue: String by lazy &#123; println(\"computed!\") // ç¬¬ä¸€æ¬¡è°ƒç”¨è¾“å‡ºï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ä¸æ‰§è¡Œ \"Hello\"&#125;fun main(args: Array&lt;String&gt;) &#123; println(lazyValue) // ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œæ‰§è¡Œä¸¤æ¬¡è¾“å‡ºè¡¨è¾¾å¼ println(lazyValue) // ç¬¬äºŒæ¬¡æ‰§è¡Œï¼Œåªè¾“å‡ºè¿”å›å€¼&#125;/*computed!HelloHello*/ å¯è§‚å¯Ÿå±æ€§ Observable observable å¯ä»¥ç”¨äºå®ç°è§‚å¯Ÿè€…æ¨¡å¼ã€‚ Delegates.observable() å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°: ç¬¬ä¸€ä¸ªæ˜¯åˆå§‹åŒ–å€¼, ç¬¬äºŒä¸ªæ˜¯å±æ€§å€¼å˜åŒ–äº‹ä»¶çš„å“åº”å™¨(handler)ã€‚ åœ¨å±æ€§èµ‹å€¼åä¼šæ‰§è¡Œäº‹ä»¶çš„å“åº”å™¨(handler)ï¼Œå®ƒæœ‰ä¸‰ä¸ªå‚æ•°ï¼šè¢«èµ‹å€¼çš„å±æ€§ã€æ—§å€¼å’Œæ–°å€¼ï¼š 1import kotlin.properties.Delegatesclass User &#123; var name: String by Delegates.observable(\"åˆå§‹å€¼\") &#123; prop, old, new -&gt; println(\"æ—§å€¼ï¼š$old -&gt; æ–°å€¼ï¼š$new\") &#125;&#125;fun main(args: Array&lt;String&gt;) &#123; val user = User() user.name = \"ç¬¬ä¸€æ¬¡èµ‹å€¼\" user.name = \"ç¬¬äºŒæ¬¡èµ‹å€¼\"&#125;/*æ—§å€¼ï¼šåˆå§‹å€¼ -&gt; æ–°å€¼ï¼šç¬¬ä¸€æ¬¡èµ‹å€¼æ—§å€¼ï¼šç¬¬ä¸€æ¬¡èµ‹å€¼ -&gt; æ–°å€¼ï¼šç¬¬äºŒæ¬¡èµ‹å€¼*/ æŠŠå±æ€§å‚¨å­˜åœ¨æ˜ å°„ä¸­ Not Null notNull é€‚ç”¨äºé‚£äº›æ— æ³•åœ¨åˆå§‹åŒ–é˜¶æ®µå°±ç¡®å®šå±æ€§å€¼çš„åœºåˆã€‚ 1class Foo &#123; var notNullBar: String by Delegates.notNull&lt;String&gt;()&#125;foo.notNullBar = &quot;bar&quot;println(foo.notNullBar) éœ€è¦æ³¨æ„ï¼Œå¦‚æœå±æ€§åœ¨èµ‹å€¼å‰å°±è¢«è®¿é—®çš„è¯åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ å±€éƒ¨å§”æ‰˜å±æ€§ ä½ å¯ä»¥å°†å±€éƒ¨å˜é‡å£°æ˜ä¸ºå§”æ‰˜å±æ€§ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ä¸€ä¸ªå±€éƒ¨å˜é‡æƒ°æ€§åˆå§‹åŒ–ï¼š 1fun example(computeFoo: () -&gt; Foo) &#123; val memoizedFoo by lazy(computeFoo) if (someCondition &amp;&amp; memoizedFoo.isValid()) &#123; memoizedFoo.doSomething() &#125;&#125; memoizedFoo å˜é‡åªä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—®æ—¶è®¡ç®—ã€‚ å¦‚æœ someCondition å¤±è´¥ï¼Œé‚£ä¹ˆè¯¥å˜é‡æ ¹æœ¬ä¸ä¼šè®¡ç®—ã€‚ å±æ€§å§”æ‰˜è¦æ±‚ å¯¹äºåªè¯»å±æ€§(ä¹Ÿå°±æ˜¯è¯´valå±æ€§), å®ƒçš„å§”æ‰˜å¿…é¡»æä¾›ä¸€ä¸ªåä¸ºgetValue()çš„å‡½æ•°ã€‚è¯¥å‡½æ•°æ¥å—ä»¥ä¸‹å‚æ•°ï¼š thisRef â€”â€” å¿…é¡»ä¸å±æ€§æ‰€æœ‰è€…ç±»å‹ï¼ˆå¯¹äºæ‰©å±•å±æ€§â€”â€”æŒ‡è¢«æ‰©å±•çš„ç±»å‹ï¼‰ç›¸åŒæˆ–è€…æ˜¯å®ƒçš„è¶…ç±»å‹ property â€”â€” å¿…é¡»æ˜¯ç±»å‹ KProperty&lt;*&gt; æˆ–å…¶è¶…ç±»å‹ è¿™ä¸ªå‡½æ•°å¿…é¡»è¿”å›ä¸å±æ€§ç›¸åŒçš„ç±»å‹ï¼ˆæˆ–å…¶å­ç±»å‹ï¼‰ã€‚ å¯¹äºä¸€ä¸ªå€¼å¯å˜(mutable)å±æ€§(ä¹Ÿå°±æ˜¯è¯´,var å±æ€§),é™¤ getValue()å‡½æ•°ä¹‹å¤–,å®ƒçš„å§”æ‰˜è¿˜å¿…é¡» å¦å¤–å†æä¾›ä¸€ä¸ªåä¸ºsetValue()çš„å‡½æ•°, è¿™ä¸ªå‡½æ•°æ¥å—ä»¥ä¸‹å‚æ•°: property â€”â€” å¿…é¡»æ˜¯ç±»å‹ KProperty&lt;*&gt; æˆ–å…¶è¶…ç±»å‹new value â€”â€” å¿…é¡»å’Œå±æ€§åŒç±»å‹æˆ–è€…æ˜¯å®ƒçš„è¶…ç±»å‹ã€‚ æä¾›å§”æ‰˜ é™„ï¼š Kotlin æ„é€ å‡½æ•° Kotlin ä¸­æ„é€ å‡½æ•°åˆ†ä¸ºä¸»æ„é€ å‡½æ•°å’Œ**æ¬¡æ„é€ å‡½æ•°ï¼Œ**ä¸»æ„é€ å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªï¼Œæ¬¡æ„é€ å‡½æ•°ä¸ªæ•°ä¸é™åˆ¶ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªã€‚ ä¸»æ„é€ å‡½æ•°å°±æ˜¯ç±»åçš„å°æ‹¬å·ä¸­å®šä¹‰çš„ï¼Œä¼šå®šä¹‰ç±»æœ‰å“ªäº›æ•°æ®æˆå‘˜å¹¶åˆå§‹åŒ–ã€‚â€”â€”ç„¶è€Œé‚£ä¸€äº›åˆå§‹åŒ–çš„æ–¹æ³•è¯¥æ€ä¹ˆè°ƒç”¨å‘¢==&gt; åœ¨init{}ä¸­ç¼–å†™éœ€è¦åœ¨ä¸»æ„é€ å‡½æ•°ä¸­å®Œæˆçš„ä¸šåŠ¡ è€Œæ¬¡æ„é€ å‡½æ•°éœ€è¦ç”¨constructorå…³é”®å­—æ¥å£°æ˜ã€‚ åŸºç¡€æ¦‚å¿µï¼š Kotlin æ„é€ å‡½æ•°ã€ç»§æ‰¿ è¿›é˜¶ï¼š kotlinçš„ä¸»æ„é€ å‡½æ•°, æ¬¡æ„é€ å‡½æ•°, initä»£ç å—, ä¼´ç”Ÿå¯¹è±¡çš„æ‰§è¡Œé¡ºåº, ç‰¹ç‚¹, ä½¿ç”¨åœºæ™¯, åŠè·Ÿjavaçš„æ¯”è¾ƒ 123456789101112131415161718192021222324252627282930313233class Person(var name: String, var age: Int) &#123; // æ¬¡æ„é€ å‡½æ•°ä¸­ä¼ å…¥äº†ä¸»æ„é€ å‡½æ•°ä¸­æ²¡æœ‰çš„æ•°æ®æˆå‘˜çš„æ—¶å€™ï¼Œéœ€è¦åœ¨è¿™é‡Œå®šä¹‰ var sex: Boolean?=null; init &#123; println(\"main constructor init $&#123;name&#125;\") &#125; constructor(name:String, age: Int, sexy: Boolean): this(name, age)&#123; println(\"constructor\") this.sex = sexy println(this.sex) &#125;&#125;class DataClassTest &#123; @Test fun test2()&#123; val person = Person(name = \"a\", age = 12) println(person.age) println(\"________________________\") val person2 = Person(name = \"b\", age = 14, sexy = false) println(person2.age) &#125;&#125;/**main constructor init a12________________________main constructor init bconstructor12*/ é»˜è®¤æƒ…å†µä¸‹classæ˜¯æœ‰ä¸å¸¦å‚æ•°çš„ä¸»æ„é€ å‡½æ•°ï¼Œ å½“classå…·æœ‰æœ‰å‚çš„æ„é€ å‡½æ•°æ—¶ï¼Œ æ— å‚çš„å°±ä¼šå¤±æ•ˆï¼Œ é™¤éå‚æ•°å…¨æœ‰é»˜è®¤å€¼ã€‚å¦‚æœåœ¨å®šä¹‰äº†ä¸Šè¿°æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œ è¾“å…¥Person(), ideaä¼šæç¤ºæŠ¥é”™ï¼Œå¹¶æç¤ºå¦‚ä¸‹Personç±»æœ‰å¦‚ä¸‹æ„é€ å‡½æ•°ã€‚ ä½†å¦‚æœå°†ä¸»æ„é€ å‡½æ•°çš„å‚æ•°å…¨éƒ¨è®¾ç½®ä¸ºnullï¼Œå³class Person(var name: String? =null, var age: Int? = null)ï¼Œ é‚£ä¹ˆå°±å¯ä»¥ç›´æ¥åˆ›å»ºä¸å¸¦å‚æ•°çš„å¯¹è±¡äº†, var person0 = Person(); ä¸»æ„é€ å‡½æ•°çš„å‚æ•°å¦‚æœä½¿ç”¨äº†varæˆ–valä¿®é¥°ç¬¦ï¼Œå°±ç›¸å½“äºåœ¨ç±»ä¸­å£°æ˜äº†å¯¹åº”åç§°çš„å±æ€§ã€‚ Kotlin ä¸­è§„å®šï¼Œå½“ä¸€ä¸ªç±»æ—¢æœ‰ä¸»æ„é€ å‡½æ•°åˆæœ‰æ¬¡æ„é€ å‡½æ•°æ—¶ï¼Œæ‰€æœ‰æ¬¡æ„é€ å‡½æ•°éƒ½å¿…é¡»ä½¿ç”¨thiså…³é”®å­—ç›´æ¥æˆ–é—´æ¥çš„è°ƒç”¨ä¸»æ„é€ å‡½æ•°ï¼ˆé—´æ¥æŒ‡å¤šå±‚è°ƒç”¨æ¬¡æ„é€ å‡½æ•°ï¼‰ï¼š è°ƒç”¨é¡ºåº: ( ä¼´ç”Ÿå¯¹è±¡æˆå‘˜å˜é‡åˆå§‹åŒ– -&gt; ä¼´ç”Ÿå¯¹è±¡çš„init )-&gt; ( ä¸»æ„é€ å‡½æ•°çš„å‚æ•°èµ‹å€¼ -&gt; init ä»£ç å— ) -&gt; æ¬¡æ„é€ å‡½æ•°ä»£ç å— Throwable kotlin demo: 1234567public open class Throwable(open val message: String?, open val cause: Throwable?) &#123; constructor(message: String?) : this(message, null) constructor(cause: Throwable?) : this(cause?.toString(), cause) constructor() : this(null, null)&#125; data classæ•°æ®ç±» åœ¨ Kotlin ä¸­ï¼Œä¸éœ€è¦è‡ªå·±åŠ¨æ‰‹å»å†™ä¸€ä¸ª JavaBeanï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ DataClassï¼Œä½¿ç”¨ DataClass ç¼–è¯‘å™¨ä¼šé»˜é»˜åœ°å¸®æˆ‘ä»¬ç”Ÿæˆä»¥ä¸‹å‡½æ•° equals() hashCode() toString() componentN() copy() å®šä¹‰ä¸€ä¸ªï¼š dataclassCountry(var id: Int,var name: String,var continent: String) å¦‚ä½•ç”³æ˜ä¸€ä¸ªç®€å•çš„æ•°æ®ç±»ï¼Ÿ æœ‰ä¸€ä¸‹å‡ ç‚¹è¦æ±‚ï¼š ä¸»æ„é€ å‡½æ•°å¿…é¡»è¦è‡³å°‘æœ‰ä¸€ä¸ªå‚æ•° åœ¨ä¸»æ„é€ å‡½æ•°ä¸­çš„æ‰€æœ‰å‚æ•°å¿…é¡»è¢«æ ‡è®°ä¸ºvalæˆ–è€…var ï¼ˆvarå°±è¡¨ç¤ºå¯è¯»å†™ï¼Œvalå°±è¡¨ç¤ºåªè¯»ï¼‰ æ•°æ®ç±»ä¸èƒ½æœ‰ä»¥ä¸‹ä¿®é¥°ç¬¦ï¼šabstractï¼Œinner ,open, sealed ==ã€‹ æ•°æ®ç±»æœ¬èº«æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„ final data classåªèƒ½å®ç°æ¥å£ï¼ˆKotlin1.1ä»¥å‰çš„è§„åˆ™ï¼‰ï¼Œç°åœ¨ä¹Ÿå¯ä»¥ç»§æ‰¿å…¶å®ƒç±» 1234567891011121314151617181920212223@Document(\"daf_FiledDetail\")@ApiModel(\"å­—æ®µç±»å‹è¡¨\")data class FiledDetail( @ApiModelProperty(\"å­—æ®µåç§°\") val name: String, @ApiModelProperty(\"å­—æ®µç±»å‹\") val type: FieldTypeEnum, @ApiModelProperty(\"é€‰é¡¹\") val choices: String, @ApiModelProperty(\"å­—æ®µåˆ†ç»„\") val fieldGroup: String): MongoTableBean()class DataClassTest &#123; @Test fun test()&#123; val filedDetail = FiledDetail(\"name\", FieldTypeEnum.ADMINISTRATIVE, \"YES\", \"NO\") println(filedDetail) &#125;&#125; åºåˆ—åŒ– åºåˆ—åŒ–å’Œååºåˆ—åŒ–å…¶å®å°±æ˜¯æ–¹ä¾¿ä¼ è¾“å¯¹è±¡. è¿™é‡Œæ˜¯éœ€è¦åœ¨å‡ ä¸ªç³»ç»Ÿ Service é‡Œé€šè¿‡ Bundle ä¼ é€’æ•°æ®. Parcelable å…¨éƒ¨éƒ½åœ¨å†…å­˜,æ•ˆç‡é«˜,éœ€è¦å®ç°éƒ¨åˆ†å¤š,ä½¿ç”¨ç¹ç.(åœ¨ kotlin ä¸æˆç«‹) Serializable å®ç°ç®€å•,ä½†æ˜¯æ˜¯åŸºäºåå°„å®ç°çš„,æ•…æœ‰æ€§èƒ½æŸå¤±,ä½†æ˜¯æ˜¯æœ€é€šç”¨çš„. Kotlin ä¸­classã€data classã€objectã€companion objectåŒºåˆ« data classï¼š kotlinä¸­çš„æ•°æ®ç±»ï¼Œåªä¿å­˜ä¸€äº›æ•°æ®å­—æ®µï¼Œç±»ä¼¼äºjava beanï¼Œocä¸­çš„modelã€‚ 12345data class yourClassName( // è¿™è¾¹æ˜¯å°æ‹¬å· val name: String, val age: Int, val sex: Boolean) objectï¼š kotlinä¸­ä½¿ç”¨&quot;object&quot;ä¿®é¥°é™æ€ç±»ï¼Œå¯ç”¨äºutilå·¥å…·ç±»ä¸­ã€‚ å¯¹è±¡å£°æ˜ï¼ˆobject declarationï¼‰ å°†ç±»çš„å£°æ˜å’Œå®šä¹‰è¯¥ç±»çš„å•ä¾‹å¯¹è±¡ç»“åˆåœ¨ä¸€èµ·ï¼ˆå³é€šè¿‡objectå°±å®ç°äº†å•ä¾‹æ¨¡å¼ï¼‰ å¯¹è±¡å£°æ˜ä¸­ä¸èƒ½åŒ…å«æ„é€ å™¨ï¼ˆåŒ…æ‹¬ä¸»æ„é€ å™¨å’Œæ¬¡çº§æ„é€ å™¨ï¼‰ ä¼´ç”Ÿå¯¹è±¡ï¼ˆcompanion objectï¼‰ å¯¹è±¡è¡¨è¾¾å¼ï¼ˆobject expressionï¼‰ 123456object UserUtil &#123; val guoji = \"ä¸­å›½\" fun getName(): String &#123; return \"å°çº¢\" &#125;&#125; ä¼´ç”Ÿå¯¹è±¡ï¼ˆcompanion objectï¼‰ å› ä¸ºåœ¨kotlinä¸­æ˜¯æ²¡æœ‰staticå…³é”®å­—çš„ï¼Œä¹Ÿå°±æ„å‘³ç€æ²¡æœ‰é™æ€æ–¹æ³•å’Œé™æ€æˆå‘˜ã€‚é‚£ä¹ˆåœ¨kotlinä¸­å¦‚æœæƒ³è¦è¡¨è¾¾è¿™ç§æ¦‚å¿µï¼Œå¯ä»¥ä½¿ç”¨åŒ…çº§åˆ«å‡½æ•°ï¼ˆpackage-level funcationï¼‰å’Œä¼´ç”Ÿå¯¹è±¡ï¼ˆcompanion objectï¼‰ã€‚ ä¼´ç”Ÿå¯¹è±¡è¯­æ³•å½¢å¼ 123456class ClassName &#123; // ä¼´ç”Ÿå¯¹è±¡åå¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸ºCompanion companion object ä¼´ç”Ÿå¯¹è±¡å &#123; // define field and method &#125;&#125; from ï¼š Kotlinï¼šobjectå…³é”®å­—æ€»ç»“ ç›¸åº”ç»“æœå°è£…ç±»ï¼š 12345678910111213141516171819202122232425262728293031323334353637package com.sucsoft.dispatch.utilsimport com.sucsoft.daf.enums.OperationEnum/** * @Author: Mrli * @Description: ç»“æœè¿”å›å°è£…ç±» * @Date: 2021/8/6 13:43 * @Version: 1.0 */class Result(var data: Any? = null, var code: Int? = null, var message: String? =null) &#123; companion object&#123; fun of(data: Any, code: Int, message: String): Result &#123; return Result(data, code, message) &#125; fun make(data: Any?, op: OperationEnum): Result &#123; return if (null == data) this.err(op.cn) else this.ok(data) &#125; fun ok(data: Any): Result &#123; return of(data, 200, OperationEnum.SUCCESS.cn) &#125; fun err(msg: String): Result &#123; return of(&#123;&#125;, 500, msg) &#125; fun badRequest(): Result &#123; return of(&#123;&#125;, 400, OperationEnum.PARAM_ERROR.cn) &#125; fun serverError(): Result &#123; return of(&#123;&#125;, 500, OperationEnum.SERVER_ERROR.cn) &#125; &#125;&#125; è¸©å‘ï¼š swaggeré‡Œé¢ä¸å¡«æ—¶ï¼Œå¯¹åº”ä¼ çš„å€¼ä¸ºç©ºï¼Œ å› æ­¤éœ€è¦å¯¹åº”æ¥å£çš„å‚æ•°ç±»å‹ä¸Šæ˜¯å¦èƒ½æ¥å—ç©º?, ï¼ˆå³æ¯”åœ¨å†™swaggerï¼ˆrequiredï¼‰ä¸Šæ¯”javaå¯¹å†™ä¸ªå¯¹ç±»å‹çš„é™åˆ¶ï¼‰ï¼Œ data class ä¸­å­—æ®µçš„å®šä¹‰ï¼Œ å¦‚æœéœ€è¦é»˜è®¤å€¼åˆ™sortNum : Int = 0, è€Œå¯¹äºStringçš„è¯ï¼Œå¦‚æœæ˜¯ä¸å¯ä¸ºç©ºå†™æˆ id :String,å³å¯ï¼Œå¦‚æœä¸ºç©ºåˆ™å®šä¹‰ä¸ºid: String?ï¼Œ è‡³äºä¹‹åçš„é»˜è®¤å€¼è¿˜æ˜¯æ ¹æ®éœ€æ±‚æ¥çœ‹ã€‚ ?. å’Œ?:çš„åŒºåˆ† code1?.code2 ç¿»è¯‘ä¸º ï¼šif code1 Not Null æ‰§è¡Œ code2; code1?:code2 ç¿»è¯‘ä¸ºï¼šif code1 Null æ‰§è¡Œ code2; ?. ç¿»è¯‘ä¸ºï¼š If Not Null ?: ç¿»è¯‘ä¸ºï¼š If Null æ³¨æ„ç‚¹ï¼š ã€?.ã€‘åé¢çš„æ–¹æ³•æ˜¯å‰è€…çš„ç›¸å…³è°ƒç”¨ ã€?:ã€‘åé¢çš„æ–¹æ³•ä¸å‰è€…çš„æ— å…³è°ƒç”¨ ?.è¡¨ç¤ºå½“å‰å¯¹è±¡å¦‚æœä¸ºç©ºåˆ™ä¸æ‰§è¡Œï¼Œ !!.è¡¨ç¤ºå½“å‰å¯¹è±¡å¦‚æœä¸ºç©ºä¹Ÿæ‰§è¡Œï¼Œç„¶åä¼šæŠ›å‡ºç©ºå¼‚å¸¸ open åœ¨ Java ä¸­ï¼Œä¸€ä¸ªç±»é™¤äº†è¢«æ‰‹åŠ¨åŠ ä¸Š final å…³é”®å­—ä»¥å¤–ï¼Œå®ƒæ€»èƒ½èƒ½è¢«ä»»æ„ä¸€ä¸ªç±»ç»§æ‰¿å¹¶é‡å†™å®ƒçš„é final æ–¹æ³•ï¼Œè¿™å°±å¯èƒ½ä¼šå¯¼è‡´æŸäº›å­ç±»å‡ºç°ä¸ç¬¦åˆå…¶çˆ¶ç±»çš„è®¾è®¡åˆè¡·ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šäººåä½œçš„å¼€å‘ç¯å¢ƒä¸‹ã€‚ è¿™ç±»é—®é¢˜è¢« Kotlin è¯­è¨€è®¾è®¡è€…æ³¨æ„åˆ°äº†å¹¶åˆ‡å¼•èµ·äº†ä»–ä»¬çš„é‡è§†ï¼Œå› æ­¤ï¼Œåœ¨ Kotlin ä¸­çš„ç±»å’Œæ–¹æ³•é»˜è®¤éƒ½æ˜¯ final çš„ï¼Œå¦‚æœè¦ç»§æ‰¿æˆ–è€…é‡å†™ä¸€ä¸ªç±»å’Œå…¶æ–¹æ³•æ—¶ï¼Œå¿…é¡»å°†ä»–ä»¬éƒ½æ˜¾å¼åœ°å£°æ˜ä¸º open , æˆå‘˜å˜é‡ä¸éœ€è¦ï¼Œä¼šè‡ªåŠ¨è®¤ä¸ºæ˜¯open çš„ã€‚ 123456789101112open class Person2&#123; var name : String = \"\" constructor(name: String)&#123; this.name = name &#125; constructor()&#123; &#125; open fun saySomething()&#123; println(\"yes\") &#125;&#125; æŠ›å¼ƒ Java æ”¹ç”¨ Kotlin çš„å…­ä¸ªæœˆåï¼Œæˆ‘åæ‚”äº†â€”â€”Kotlinç‰¹æ€§æœ‰å“ªäº›ï¼Ÿ","categories":[],"tags":[{"name":"Kotlin","slug":"Kotlin","permalink":"https://nymrli.top/tags/Kotlin/"}]},{"title":"ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”æ“ä½œç³»ç»Ÿå¤ä¹ ","slug":"ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”æ“ä½œç³»ç»Ÿå¤ä¹ ","date":"2021-09-09T06:21:21.000Z","updated":"2022-02-27T15:59:16.996Z","comments":true,"path":"2021/09/09/ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”æ“ä½œç³»ç»Ÿå¤ä¹ /","link":"","permalink":"https://nymrli.top/2021/09/09/ZJUå¼€å­¦æ‘¸åº•è€ƒè¯•â€”â€”æ“ä½œç³»ç»Ÿå¤ä¹ /","excerpt":"","text":"æ“ä½œç³»ç»Ÿ ç‰¹æ€§ï¼š å¹¶å‘ï¼š â–²ç†è§£å¹¶å‘å’Œå¹¶è¡Œçš„åŒºåˆ« å…±äº« äº’æ–¥å…±äº«æ–¹å¼ï¼ˆæ‘„åƒå¤´è®¾å¤‡çš„å…±äº«ä½¿ç”¨ï¼‰ åŒæ—¶å…±äº«æ–¹å¼ï¼ˆç¡¬ç›˜è®¿é—®ï¼‰â€”â€”å®è§‚çš„åŒæ—¶ï¼Œå¾®è§‚ä¸Šè¿›ç¨‹è¿˜æ˜¯äº¤æ›¿è®¿é—®çš„ï¼ˆåˆ†æ—¶å…±äº«ï¼‰ è™šæ‹Ÿï¼š è™šæ‹Ÿå­˜å‚¨å™¨ï¼š ç©ºåˆ†å¤ç”¨ è™šæ‹Ÿå¤„ç†å™¨ï¼š æ—¶åˆ†å¤ç”¨ å¼‚æ­¥ åªæœ‰ç³»ç»Ÿå…·æœ‰å¹¶å‘æ€§ï¼Œæ‰å¯èƒ½å¯¼è‡´å¼‚æ­¥æ€§ æ³¨ï¼š å¹¶å‘ä¸å…±äº«äº’ä¸ºå­˜åœ¨æ¡ä»¶ æ“ä½œç³»ç»Ÿå‘å±• å•é“æ‰¹å¤„ç†ç³»ç»Ÿ ä¸»è¦ä¼˜ç‚¹ï¼šç¼“è§£äº†ä¸€å®šç¨‹åº¦çš„äººæœºé€Ÿåº¦çŸ›ç›¾ï¼Œèµ„æºåˆ©ç”¨ç‡æœ‰æ‰€æå‡ã€‚ ä¸»è¦ç¼ºç‚¹ï¼šå†…å­˜ä¸­ä»…èƒ½æœ‰ä¸€é“ç¨‹åºè¿è¡Œï¼Œåªæœ‰è¯¥ç¨‹åºè¿è¡Œç»“æŸä¹‹åæ‰èƒ½è°ƒå…¥ä¸‹ä¸€é“ç¨‹åºã€‚CPUæœ‰å¤§é‡çš„æ—¶é—´æ˜¯åœ¨ç©ºé—²ç­‰å¾…/0å®Œæˆã€‚èµ„æºåˆ©ç”¨ç‡ä¾ç„¶å¾ˆä½ã€‚ å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿï¼š ä¸»è¦ä¼˜ç‚¹ï¼šå¤šé“ç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œå…±äº«è®¡ç®—æœºèµ„æºã€‚èµ„æºåˆ©ç”¨ç‡å¤§å¹…æå‡ï¼ŒCPUå’Œå…¶ä»–èµ„æºä¿æŒâ€œå¿™ç¢Œâ€çŠ¶æ€ï¼Œç³»ç»Ÿååé‡å¢å¤§ã€‚ ä¸»è¦ç¼ºç‚¹ï¼šç”¨æˆ·å“åº”æ—¶é—´é•¿ï¼Œæ²¡æœ‰äººæœºäº¤äº’åŠŸèƒ½ï¼ˆç”¨æˆ·æäº¤è‡ªå·±çš„ä½œä¸šä¹‹åå°±åªèƒ½ç­‰å¾…è®¡ç®—æœºå¤„ç†å®Œæˆï¼Œä¸­é—´ä¸èƒ½æ§åˆ¶è‡ªå·±çš„ä½œä¸šæ‰§è¡Œï¼‰ åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼š è®¡ç®—æœºä»¥æ—¶é—´ç‰‡ä¸ºå•ä½è½®æµä¸ºå„ä¸ªç”¨æˆ·/ä½œä¸šæœåŠ¡ï¼Œå„ä¸ªç”¨æˆ·å¯é€šè¿‡ç»ˆç«¯ä¸è®¡ç®—æœºè¿›è¡Œäº¤äº’ã€‚ ä¸»è¦ä¼˜ç‚¹ï¼šç”¨æˆ·è¯·æ±‚å¯ä»¥è¢«å³æ—¶å“åº”ï¼Œè§£å†³äº†äººæœºäº¤äº’é—®é¢˜ã€‚å…è®¸å¤šä¸ªç”¨æˆ·åŒæ—¶ä½¿ç”¨ä¸€å°è®¡ç®—æœºï¼Œå¹¶ä¸”ç”¨æˆ·å¯¹è®¡ç®—æœºçš„æ“ä½œç›¸äº’ç‹¬ç«‹ï¼Œæ„Ÿå—ä¸åˆ°åˆ«äººçš„å­˜åœ¨ã€‚ ä¸»è¦ç¼ºç‚¹ï¼šä¸èƒ½ä¼˜å…ˆå¤„ç†ä¸€äº›ç´§æ€¥ä»»åŠ¡ã€‚æ“ä½œç³»ç»Ÿå¯¹å„ä¸ªç”¨æˆ·/ä½œä¸šéƒ½æ˜¯å®Œå…¨å…¬å¹³çš„ï¼Œå¾ªç¯åœ°ä¸ºæ¯ä¸ªç”¨æˆ·/ä½œä¸šæœåŠ¡ä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œä¸åŒºåˆ†ä»»åŠ¡çš„ç´§æ€¥æ€§ã€‚ å®æ—¶æ“ä½œç³»ç»Ÿï¼š ä¸»è¦ä¼˜ç‚¹ï¼šèƒ½å¤Ÿä¼˜å…ˆå“åº”ä¸€äº›ç´§æ€¥ä»»åŠ¡ï¼ŒæŸäº›ç´§æ€¥ä»»åŠ¡ä¸éœ€æ—¶é—´ç‰‡æ’é˜Ÿã€‚ åœ¨å®æ—¶æ“ä½œç³»ç»Ÿçš„æ§åˆ¶ä¸‹ï¼Œè®¡ç®—æœºç³»ç»Ÿæ¥æ”¶åˆ°å¤–éƒ¨ä¿¡å·ååŠæ—¶è¿›è¡Œå¤„ç†ï¼Œå¹¶ä¸”è¦åœ¨ä¸¥æ ¼çš„æ—¶é™å†…å¤„ç†å®Œäº‹ä»¶ã€‚å®æ—¶æ“ä½œç³»ç»Ÿçš„ä¸»è¦ç‰¹ç‚¹æ˜¯åŠæ—¶æ€§å’Œå¯é æ€§ OSçš„è¿è¡Œæœºåˆ¶å’Œä½“ç³»ç»“æ„ è¿è¡Œæœºåˆ¶ï¼š æŒ‡ä»¤ï¼šâ€œæŒ‡ä»¤â€å°±æ˜¯å¤„ç†å™¨ï¼ˆCPUï¼‰èƒ½è¯†åˆ«ã€æ‰§è¡Œçš„æœ€åŸºæœ¬å‘½ä»¤ã€‚è€ŒOSè¿è¡Œè¿‡ç¨‹å°±æ˜¯CPUä¸æ–­æ‰§è¡ŒæŒ‡ä»¤çš„è¿‡ç¨‹ ç‰¹æƒæŒ‡ä»¤ï¼š å†…å­˜æ¸…é›¶æŒ‡ä»¤ éç‰¹æƒæŒ‡ä»¤ï¼šæ™®é€šåŠ å‡ä¹˜é™¤æŒ‡ä»¤ å¤„ç†å™¨çŠ¶æ€ï¼š å†…æ ¸æ€ï¼ˆç®¡æ€ï¼‰ï¼šæ—¢å¯ä»¥æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ä¹Ÿå¯æ‰§è¡Œéç‰¹æƒæŒ‡ä»¤ ç”¨æˆ·æ€ï¼ˆç›®æ€ï¼‰ï¼šæ­¤æ—¶CPUåªèƒ½æ‰§è¡Œéç‰¹æƒæŒ‡ä»¤ â–²ï¼šâ€œç”¨æˆ·æ€-&gt;æ ¸å¿ƒæ€â€æ˜¯é€šè¿‡ä¸­æ–­å®ç°çš„å¹¶ä¸”ä¸­æ–­æ˜¯å”¯ä¸€é€”å¾„ã€‚è€Œâ€œæ ¸å¿ƒæ€-&gt;ç”¨æˆ·æ€â€çš„åˆ‡æ¢æ˜¯é€šè¿‡æ‰§è¡Œä¸€ä¸ªç‰¹æƒæŒ‡ä»¤ï¼Œå°†ç¨‹åºçŠ¶æ€å­—ï¼ˆPSWï¼‰çš„æ ‡å¿—ä½è®¾ç½®ä¸ºâ€œç”¨æˆ·æ€â€ å†…æ ¸ï¼š å†…æ ¸æ˜¯è®¡ç®—æœºä¸Šé…ç½®çš„åº•å±‚è½¯ä»¶ï¼Œæ˜¯æ“ä½œç³»ç»Ÿæœ€åŸºæœ¬ã€æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚ å®ç°æ“ä½œç³»ç»Ÿå†…æ ¸åŠŸèƒ½çš„é‚£äº›ç¨‹åºå°±æ˜¯å†…æ ¸ç¨‹åºã€‚ ä½“ç³»ç»“æ„ ä¸­æ–­ï¼š ä¸ºäº†è§£å†³æœ€åˆå„ä¸ªç¨‹åºåªèƒ½ä¸²è¡Œæ‰§è¡Œï¼Œäººä»¬å‘æ˜äº†æ“ä½œç³»ç»Ÿï¼ˆä½œä¸ºè®¡ç®—æœºçš„ç®¡ç†è€…ï¼‰ï¼Œå¼•å…¥ä¸­æ–­æœºåˆ¶ï¼Œä»è€Œå®ç°äº†å¤šé“ç¨‹åºå¹¶å‘æ‰§è¡Œ æœ¬è´¨ï¼šå‘ç”Ÿä¸­æ–­å°±æ„å‘³ç€éœ€è¦æ“ä½œç³»ç»Ÿä»‹å…¥ï¼Œå¼€å±•ç®¡ç†å·¥ä½œ â–²ï¼šâ€œç”¨æˆ·æ€-&gt;æ ¸å¿ƒæ€â€æ˜¯é€šè¿‡ä¸­æ–­å®ç°çš„å¹¶ä¸”ä¸­æ–­æ˜¯å”¯ä¸€é€”å¾„ã€‚è€Œâ€œæ ¸å¿ƒæ€-&gt;ç”¨æˆ·æ€â€çš„åˆ‡æ¢æ˜¯é€šè¿‡æ‰§è¡Œä¸€ä¸ªç‰¹æƒæŒ‡ä»¤ï¼Œå°†ç¨‹åºçŠ¶æ€å­—ï¼ˆPSWï¼‰çš„æ ‡å¿—ä½è®¾ç½®ä¸ºâ€œç”¨æˆ·æ€â€ ä¸­æ–­åˆ†ç±»ï¼š å†…ä¸­æ–­ï¼ˆä¸CPUå½“å‰æ‰§è¡ŒæŒ‡ä»¤æœ‰å…³ï¼‰ è‡ªæ„¿ä¸­æ–­â€”â€”æŒ‡ä»¤ä¸­æ–­ å¼ºè¿«ä¸­æ–­â€”â€”ç¡¬ä»¶æ•…éšœï¼ˆç¼ºé¡µï¼‰ã€è½¯ä»¶ä¸­æ–­ï¼ˆé™¤é›¶ï¼‰ å¤–ä¸­æ–­ï¼ˆä¸CPUå½“å‰æ‰§è¡ŒæŒ‡ä»¤æ— å…³ï¼‰ å¤–è®¾è¯·æ±‚ï¼ˆIOæ“ä½œå®Œæˆå‘å‡ºä¸­æ–­ä¿¡å·ï¼‰ äººå·¥å¹²æ¶‰ï¼ˆç”¨æˆ·å¼ºè¡Œå…³é—­è¿›ç¨‹ï¼‰ ç³»ç»Ÿè°ƒç”¨ æ“ä½œç³»ç»Ÿä½œä¸ºç”¨æˆ·å’Œè®¡ç®—æœºç¡¬ä»¶ä¹‹é—´çš„æ¥å£ï¼Œéœ€è¦å‘ä¸Šæä¾›ä¸€äº›ç®€å•æ˜“ç”¨çš„æœåŠ¡ã€‚ä¸»è¦åŒ…æ‹¬å‘½ä»¤æ¥å£å’Œç¨‹åºæ¥å£ã€‚å…¶ä¸­ï¼Œç¨‹åºæ¥å£ç”±ä¸€ç»„ç³»ç»Ÿè°ƒç”¨ç»„æˆã€‚ â€œç³»ç»Ÿè°ƒç”¨â€æ˜¯æ“ä½œç³»ç»Ÿæä¾›ç»™åº”ç”¨ç¨‹åºï¼ˆç¨‹åºå‘˜/ç¼–ç¨‹äººå‘˜ï¼‰ä½¿ç”¨çš„æ¥å£ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ç§å¯ä¾›åº”ç”¨ç¨‹åºè°ƒç”¨çš„ç‰¹æ®Šå‡½æ•°ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥å‘å‡ºç³»ç»Ÿè°ƒç”¨è¯·æ±‚æ¥è·å¾—æ“ä½œç³»ç»Ÿçš„æœåŠ¡ã€‚ è¿›ç¨‹ å®šä¹‰ ç¨‹åºæ®µã€æ•°æ®æ®µã€PCBä¸‰éƒ¨åˆ†ç»„æˆäº†è¿›ç¨‹å®ä½“ï¼ˆè¿›ç¨‹æ˜ åƒï¼‰ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æŠŠè¿›ç¨‹å®ä½“å°±ç®€ç§°ä¸ºè¿›ç¨‹ï¼Œä¾‹å¦‚ï¼Œæ‰€è°“åˆ›å»ºè¿›ç¨‹ï¼Œå®è´¨ä¸Šæ˜¯åˆ›å»ºè¿›ç¨‹å®ä½“ä¸­çš„PCBï¼›è€Œæ’¤é”€è¿›ç¨‹ï¼Œå®è´¨ä¸Šæ˜¯æ’¤é”€è¿›ç¨‹å®ä½“ä¸­çš„PCBã€‚ æ³¨æ„ï¼šPCBæ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼ ä»ä¸åŒçš„è§’åº¦ï¼Œè¿›ç¨‹å¯ä»¥æœ‰ä¸åŒçš„å®šä¹‰ï¼Œæ¯”è¾ƒä¼ ç»Ÿå…¸å‹çš„å®šä¹‰æœ‰ï¼š 1.è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ã€‚ 2.è¿›ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºåŠå…¶æ•°æ®åœ¨å¤„ç†æœºä¸Šé¡ºåºæ‰§è¡Œæ—¶æ‰€å‘ç”Ÿçš„æ´»åŠ¨ã€‚ 3.è¿›ç¨‹æ˜¯å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨æ•°æ®é›†åˆä¸Šè¿è¡Œçš„è¿‡ç¨‹ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ â–²å®ƒæ˜¯ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹ã€‚ å¼•å…¥è¿›ç¨‹å®ä½“çš„æ¦‚å¿µåï¼Œå¯æŠŠè¿›ç¨‹å®šä¹‰ä¸ºï¼šè¿›ç¨‹æ˜¯è¿›ç¨‹å®ä½“çš„**è¿è¡Œè¿‡ç¨‹ï¼Œ**æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚ æ³¨ï¼šä¸¥æ ¼æ¥è¯´ï¼Œè¿›ç¨‹å®ä½“å’Œè¿›ç¨‹å¹¶ä¸ä¸€æ ·ï¼Œè¿›ç¨‹å®ä½“æ˜¯é™æ€çš„ï¼Œè¿›ç¨‹åˆ™æ˜¯åŠ¨æ€çš„ã€‚ä¸è¿‡ï¼Œé™¤éé¢˜ç›®ä¸“é—¨è€ƒå¯ŸäºŒè€…åŒºåˆ«ï¼Œå¦åˆ™å¯ä»¥è®¤ä¸ºé¿ç¨‹å®ä½“å°±æ˜¯è¿›ç¨‹ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯´â€œè¿›ç¨‹ç”±ç¨‹åºæ®µã€æ•°æ®æ®µã€PCBä¸‰éƒ¨åˆ†ç»„æˆâ€ ç»„ç»‡å½¢å¼ é“¾æ¥æ–¹å¼ï¼šæŒ‰ç…§è¿›ç¨‹çŠ¶æ€å°†PCBåˆ†æˆå¤šä¸ªé˜Ÿåˆ—ï¼Œæ“ä½œç³»ç»ŸæŒæœ‰æŒ‡å‘å„ä¸ªé˜Ÿåˆ—çš„æŒ‡é’ˆ ç´¢å¼•æ–¹å¼ï¼šæ ¹æ®è¿›ç¨‹çŠ¶æ€ä¸åŒå»ºç«‹å¤šå¼ ç´¢å¼•è¡¨ï¼Œæ“ä½œç³»ç»ŸæŒæœ‰æŒ‡å‘å„ä¸ªç´¢å¼•è¡¨çš„æŒ‡é’ˆ è¿›ç¨‹ç‰¹æ€§ è¿›ç¨‹çŠ¶æ€ï¼š åˆ›å»ºæ€ï¼šè¿›ç¨‹æ­£åœ¨è¢«åˆ›å»ºï¼Œæ“ä½œç³»ç»Ÿä¸ºè¿›ç¨‹åˆ†é…èµ„æºã€åˆå§‹åŒ–PCB è¿è¡Œæ€ é˜»å¡æ€ å°±ç»ªæ€ ç»ˆæ­¢æ€ï¼š è¿›ç¨‹ä»ç³»ç»Ÿä¸­æ’¤é”€ï¼Œæ“ä½œç³»ç»Ÿå›æ”¶è¿›ç¨‹æ‹¥æœ‰çš„èµ„æºã€æ’¤é”€PCB è¿›ç¨‹æ§åˆ¶ï¼š ç”¨åŸè¯­å®ç°è¿›ç¨‹æ§åˆ¶ã€‚åŸè¯­çš„ç‰¹ç‚¹æ˜¯æ‰§è¡ŒæœŸé—´ä¸å…è®¸ä¸­æ–­ï¼Œåªèƒ½ä¸€æ°”å‘µæˆã€‚ è¿™ç§ä¸å¯è¢«ä¸­æ–­çš„æ“ä½œå³åŸå­æ“ä½œ åŸè¯­é‡‡ç”¨â€œå…³ä¸­æ–­æŒ‡ä»¤â€å’Œâ€œå¼€ä¸­æ–­æŒ‡ä»¤â€å®ç° æ³¨ï¼šæ˜¾ç„¶ï¼Œå…³/å¼€ä¸­æ–­æŒ‡ä»¤çš„æƒé™éå¸¸å¤§ï¼Œå¿…ç„¶æ˜¯åªå…è®¸åœ¨æ ¸å¿ƒæ€ä¸‹æ‰§è¡Œçš„ç‰¹æƒæŒ‡ä»¤ åˆ›å»ºåŸè¯­ï¼šæ— -&gt;åˆ›å»ºæ€-&gt;å°±ç»ªæ€ ç”³è¯·ç©ºç™½PcB ä¸ºæ–°è¿›ç¨‹åˆ†é…æ‰€éœ€èµ„æº åˆå§‹åŒ–PCB å°†PcBæ’å…¥å°±ç»ªé˜Ÿåˆ— æ’¤é”€åŸè¯­ï¼šå°±ç»ªæ€/é˜»å¡æ€/è¿è¡Œæ€â†’ç»ˆæ­¢æ€â†’æ—  ä»PcBé›†åˆä¸­æ‰¾åˆ°ç»ˆæ­¢è¿›ç¨‹çš„PCB è‹¥è¿›ç¨‹æ­£åœ¨è¿è¡Œï¼Œç«‹å³å‰¥å¤ºCPUï¼Œå°†CPUåˆ†é…ç»™å…¶ä»–è¿›ç¨‹ ç»ˆæ­¢å…¶æ‰€æœ‰å­è¿›ç¨‹ å°†è¯¥è¿›ç¨‹æ‹¥æœ‰çš„æ‰€æœ‰èµ„æºå½’è¿˜ç»™çˆ¶è¿›ç¨‹æˆ–æ“ä½œç³»ç»Ÿ åˆ é™¤PcB é˜»å¡åŸè¯­ï¼š æ‰¾åˆ°è¦é˜»å¡çš„è¿›ç¨‹å¯¹åº”çš„PcB ä¿æŠ¤è¿›ç¨‹è¿è¡Œç°åœºï¼Œå°†PcBçŠ¶æ€ä¿¡æ¯è®¾ç½®ä¸ºé˜»å¡æ€&quot;ï¼Œæš‚æ—¶åœæ­¢è¿›ç¨‹è¿è¡Œ å°†PcBæ’å…¥ç›¸åº”äº‹ä»¶çš„ç­‰å¾…é˜Ÿåˆ— å”¤é†’åŸè¯­ï¼š åœ¨äº‹ä»¶ç­‰å¾…é˜Ÿåˆ—ä¸­æ‰¾åˆ°PcB å°†PcBä»ç­‰å¾…é˜Ÿåˆ—ç§»é™¤ï¼Œè®¾ç½®è¿›ç¨‹ä¸ºå°±ç»ªæ€ å°†pcBæ’å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…è¢«è°ƒåº¦ é€šä¿¡ å„è¿›ç¨‹æ‹¥æœ‰çš„å†…å­˜åœ°å€ç©ºé—´ç›¸äº’ç‹¬ç«‹ æ–¹å¼ï¼š éƒ½éœ€è¦äº’æ–¥ å…±äº«å­˜å‚¨ åŸºäºæ•°æ®ç»“æ„ï¼šé€Ÿåº¦æ…¢ï¼Œæ˜¯ä¸€ç§ä½çº§çš„é€šä¿¡æ–¹å¼ åŸºäºå­˜å‚¨åŒº:å­˜æ”¾ä½ç½®éƒ½ç”±è¿›ç¨‹æ§åˆ¶ï¼Œè€Œä¸æ˜¯æ“ä½œç³»ç»Ÿã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¿™ç§å…±äº«æ–¹å¼é€Ÿåº¦æ›´å¿«ï¼Œæ˜¯ä¸€ç§é«˜çº§é€šä¿¡æ–¹å¼ ç®¡é“é€šä¿¡ â€œç®¡é“â€æ˜¯æŒ‡ç”¨äºè¿æ¥è¯»å†™è¿›ç¨‹çš„ä¸€ä¸ªå…±äº«æ–‡ä»¶ï¼Œåˆåpipeæ–‡ä»¶ã€‚å…¶å®å°±æ˜¯åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªå¤§å°å›ºå®šçš„ç¼“å†²åŒº æ•°æ®ä»¥å­—ç¬¦æµçš„å½¢å¼å†™å…¥ç®¡é“ï¼Œå½“ç®¡é“å†™æ»¡æ—¶ï¼Œå†™è¿›ç¨‹çš„writeï¼ˆï¼‰ç³»ç»Ÿè°ƒç”¨å°†è¢«é˜»å¡ï¼Œç­‰å¾…è¯»è¿›ç¨‹å°†æ•°æ®å–èµ°ã€‚å½“è¯»è¿›ç¨‹å°†æ•°æ®å…¨éƒ¨å–èµ°åï¼Œç®¡é“å˜ç©ºï¼Œæ­¤æ—¶è¯»è¿›ç¨‹çš„readï¼ˆï¼‰ç³»ç»Ÿè°ƒç”¨å°†è¢«é˜»å¡ã€‚ åŠåŒå·¥ç®¡é“ï¼Œå¦‚æœå…¨åŒå·¥éœ€è¦è®¾ç½®ä¸¤ä¸ªç®¡é“ éœ€è¦äº’æ–¥è®¿é—® è¯»è¿›ç¨‹æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªâ€”â€”å¦åˆ™å¯èƒ½æœ‰è¯»é”™æ•°æ®çš„æƒ…å†µ æ¶ˆæ¯ä¼ é€’ è¿›ç¨‹é—´çš„æ•°æ®äº¤æ¢ä»¥æ ¼å¼åŒ–çš„æ¶ˆæ¯ï¼ˆMessageï¼‰ä¸ºå•ä½ã€‚è¿›ç¨‹é€šè¿‡æ“ä½œç³»ç»Ÿæä¾›çš„â€œå‘é€æ¶ˆæ¯/æ¥æ”¶æ¶ˆæ¯â€ä¸¤ä¸ªåŸè¯­è¿›è¡Œæ•°æ®äº¤æ¢ã€‚ ç›´æ¥é€šä¿¡æ–¹å¼: æ¶ˆæ¯ç›´æ¥æŒ‚åˆ°æ¥æ”¶è¿›ç¨‹çš„æ¶ˆæ¯ç¼“å†²é˜Ÿåˆ—ä¸Š é—´æ¥é€šä¿¡æ–¹å¼ï¼šæ¶ˆæ¯å…ˆå‘é€åˆ°ä¸­é—´å®ä½“ï¼ˆä¿¡ç®±ï¼‰ä¸­ï¼Œå› æ­¤ä¹Ÿæˆä¸ºä¿¡ç®±é€šä¿¡æ–¹å¼ è¿›ç¨‹äº’æ–¥åŸåˆ™ï¼š ä¸ºäº†å®ç°å¯¹ä¸´ç•Œèµ„æºçš„äº’æ–¥è®¿é—®ï¼ŒåŒæ—¶ä¿è¯ç³»ç»Ÿæ•´ä½“æ€§èƒ½ï¼Œéœ€è¦éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š 1.ç©ºé—²è®©è¿›ã€‚ä¸´ç•ŒåŒºç©ºé—²æ—¶ï¼Œå¯ä»¥å…è®¸ä¸€ä¸ªè¯·æ±‚è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ç«‹å³è¿›å…¥ä¸´ç•ŒåŒº 2.å¿™åˆ™ç­‰å¾…ã€‚å½“å·²æœ‰è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œå…¶ä»–è¯•å›¾è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼› 3.æœ‰é™ç­‰å¾…ã€‚å¯¹è¯·æ±‚è®¿é—®çš„è¿›ç¨‹ï¼Œåº”ä¿è¯èƒ½åœ¨æœ‰é™æ—¶é—´å†…è¿›å…¥ä¸´ç•ŒåŒºï¼ˆä¿è¯ä¸ä¼šé¥¥é¥¿ï¼‰ï¼› 4.è®©æƒç­‰å¾…ã€‚å½“è¿›ç¨‹ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œåº”ç«‹å³é‡Šæ”¾å¤„ç†æœºï¼Œé˜²æ­¢è¿›ç¨‹å¿™ç­‰å¾…ã€‚ è¿›ç¨‹äº’æ–¥è½¯ä»¶å®ç°ï¼š å•æ ‡å¿—æ³•ï¼šç®—æ³•æ€æƒ³ï¼šä¸¤ä¸ªè¿›ç¨‹åœ¨è®¿é—®å®Œä¸´ç•ŒåŒºåä¼šæŠŠä½¿ç”¨ä¸´ç•ŒåŒºçš„æƒé™è½¬äº¤ç»™å¦ä¸€ä¸ªè¿›ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºçš„æƒé™åªèƒ½è¢«å¦ä¸€ä¸ªè¿›ç¨‹èµ‹äºˆ å•æ ‡å¿—æ³•å­˜åœ¨çš„ä¸»è¦é—®é¢˜æ˜¯ï¼šè¿èƒŒâ€œç©ºé—²è®©è¿›â€åŸåˆ™ã€‚ åŒæ ‡å¿—å…ˆæ£€æŸ¥ï¼šç®—æ³•æ€æƒ³ï¼šè®¾ç½®ä¸€ä¸ªå¸ƒå°”å‹æ•°ç»„flagå›—ï¼Œæ•°ç»„ä¸­å„ä¸ªå…ƒç´ ç”¨æ¥æ ‡è®°å„è¿›ç¨‹æƒ³è¿›å…¥ä¸´ç•ŒåŒºçš„æ„æ„¿ï¼Œæ¯”å¦‚flag=tureâ€æ„å‘³ç€0å·è¿›ç¨‹P0ç°åœ¨æƒ³è¦è¿›å…¥ä¸´ç•ŒåŒºã€‚æ¯ä¸ªè¿›ç¨‹åœ¨è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰å…ˆæ£€æŸ»å½“å‰æœ‰æ²¡æœ‰åˆ«çš„è¿›ç¨‹æƒ³è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™æŠŠè‡ªèº«å¯¹åº”çš„æ ‡å¿—faã€‘è®¾ä¸ºtrueï¼Œä¹‹åå¼€å§‹è®¿é—®ä¸´ç•ŒåŒºã€‚ åŒæ ‡å¿—å…ˆæ£€æŸ¥æ³•çš„ä¸»è¦é—®é¢˜æ˜¯ï¼šè¿åâ€œå¿™åˆ™ç­‰å¾…â€åŸåˆ™ã€‚ åŒæ ‡å¿—åæ£€æŸ¥:ç®—æ³•æ€æƒ³ï¼šåŒæ ‡å¿—å…ˆæ£€æŸ»æ³•çš„æ”¹ç‰ˆã€‚å‰ä¸€ä¸ªç®—æ³•çš„é—®é¢˜æ˜¯å…ˆâ€œæ£€æŸ»â€åâ€œä¸Šé”â€ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ“ä½œåˆæ— æ³•ä¸€æ°”å‘µæˆï¼Œå› æ­¤å¯¼è‡´äº†ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒºçš„é—®é¢˜ã€‚å› æ­¤ï¼Œäººä»¬åˆæƒ³åˆ°å…ˆâ€œä¸Šé”â€åâ€œæ£€æŸ¥â€çš„æ–¹æ³•ï¼Œæ¥é¿å…ä¸Šè¿°é—®é¢˜ã€‚ åŒæ ‡å¿—åæ£€æŸ»æ³•è™½ç„¶è§£å†³äº†â€œå¿™åˆ™ç­‰å¾…â€çš„é—®é¢˜ï¼Œä½†æ˜¯åˆè¿èƒŒäº†â€œç©ºé—²è®©è¿›â€å’Œâ€œæœ‰é™ç­‰å¾…â€åŸåˆ™ï¼Œä¼šå› å„è¿›ç¨‹éƒ½é•¿æœŸæ— æ³•è®¿é—®ä¸´ç•Œèµ„æºè€Œäº§ç”Ÿâ€œé¥¥é¥¿â€ç°è±¡ã€‚ Petersonç®—æ³•â€”â€”ä¸‰æ ‡å¿—ï¼šç®—æ³•æ€æƒ³ï¼šåŒæ ‡å¿—åæ£€æŸ»æ³•ä¸­ï¼Œä¸¤ä¸ªè¿›ç¨‹éƒ½äº‰ç€æƒ³è¿›å…¥ä¸´ç•ŒåŒºï¼Œä½†æ˜¯è°ä¹Ÿä¸è®©è°ï¼Œæœ€åè°éƒ½æ— æ³•è¿›å…¥ä¸´ç•ŒåŒºã€‚ Gary L. Petersonæƒ³åˆ°äº†ä¸€ç§æ–¹æ³•ï¼Œå¦‚æœåŒæ–¹éƒ½äº‰ç€æƒ³è¿›å…¥ä¸´ç•ŒåŒºï¼Œé‚£å¯ä»¥è®©è¿›ç¨‹å°è¯•â€œå­”èè®©æ¢¨â€ï¼Œä¸»åŠ¨è®©å¯¹æ–¹å…ˆä½¿ç”¨ä¸´ç•ŒåŒºã€‚ Petersonç®—æ³•ç”¨è½¯ä»¶æ–¹æ³•è§£å†³äº†è¿›ç¨‹äº’æ–¥é—®é¢˜ï¼Œéµå¾ªäº†ç©ºé—²è®©è¿›ã€å¿™åˆ™ç­‰å¾…ã€æœ‰é™ç­‰å¾…ä¸‰ä¸ªåŸåˆ™ï¼Œä½†æ˜¯ä¾ç„¶æœªéµå¾ªè®©æƒç­‰å¾…çš„åŸåˆ™ã€‚ è¿›ç¨‹äº’æ–¥ç¡¬ä»¶å®ç°ï¼š ä¸­æ–­å±è”½æ–¹æ³• TestAndSet SwapæŒ‡ä»¤ ä¿¡å·é‡ ç”¨æˆ·è¿›ç¨‹å¯ä»¥é€šè¿‡ä½¿ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„ä¸€å¯¹åŸè¯­æ¥å¯¹ä¿¡å·é‡è¿›è¡Œæ“ä½œï¼Œä»è€Œå¾ˆæ–¹ä¾¿çš„å®ç°äº†è¿›ç¨‹äº’æ–¥ã€è¿›ç¨‹åŒæ­¥ ä¿¡å·é‡å…¶å®å°±æ˜¯ä¸€ä¸ªå˜é‡ï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯æ›´å¤æ‚çš„è®°å½•å‹å˜é‡ï¼‰ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªä¿¡å·é‡æ¥è¡¨ç¤ºç³»ç»Ÿä¸­æŸç§èµ„æºçš„æ•°é‡ï¼Œæ¯”å¦‚ï¼šç³»ç»Ÿä¸­åªæœ‰ä¸€å°æ‰“å°æœºï¼Œå°±å¯ä»¥è®¾ç½®ä¸€ä¸ªåˆå€¼ä¸º1çš„ä¿¡å·é‡ã€‚ waitã€ signalåŸè¯­å¸¸ç®€ç§°ä¸ºÏã€Væ“ä½œï¼ˆæ¥è‡ªè·å…°è¯­ proberenå’Œ verhogenï¼‰ã€‚å› æ­¤ï¼Œåšé¢˜çš„æ—¶å€™å¸¸æŠŠWaitï¼ˆSï¼‰ã€ sIgna|ï¼ˆSï¼‰ä¸¤ä¸ªæ“ä½œåˆ†åˆ«å†™ä¸ºPï¼ˆSï¼‰ã€Vï¼ˆSï¼‰ æ•´å½¢ä¿¡å·é‡ï¼šç”¨ä¸€ä¸ªæ•´æ•°å‹çš„å˜é‡ä½œä¸ºä¿¡å·é‡ï¼Œç”¨æ¥è¡¨ç¤ºç³»ç»Ÿä¸­æŸç§èµ„æºçš„æ•°é‡ å­˜åœ¨çš„é—®é¢˜ï¼šä¸æ»¡è¶³â€œè®©æƒç­‰å¾…â€åŸåˆ™ï¼Œä¼šå‘ç”Ÿâ€œå¿™ç­‰â€ æ•´å‹ä¿¡å·é‡çš„ç¼ºé™·æ˜¯å­˜åœ¨â€œå¿™ç­‰â€é—®é¢˜ï¼Œå› æ­¤äººä»¬åˆæå²€äº†â€œè®°å½•å‹ä¿¡å·é‡â€ï¼Œå³ç”¨è®°å½•å‹æ•°æ®ç»“æ„è¡¨ç¤ºçš„ä¿¡å·é‡ã€‚ æ“ä½œæ–¹å¼ï¼š S valueçš„åˆå€¼è¡¨ç¤ºç³»ç»Ÿä¸­æŸç§èµ„æºçš„æ•°ç›® å¯¹ä¿¡å·é‡Sçš„ä¸€æ¬¡Pæ“ä½œæ„å‘³ç€è¿›ç¨‹è¯·æ±‚ä¸€ä¸ªå•ä½çš„è¯¥ç±»èµ„æºï¼Œå› æ­¤éœ€è¦æ‰§è¡Œva|ue-ï¼Œè¡¨ç¤ºèµ„æºæ•°å‡1ï¼Œå½“S value&lt;0æ—¶è¡¨ç¤ºè¯¥ç±»èµ„æºå·²åˆ†é…å®Œæ¯•ï¼Œå› æ­¤è¿›ç¨‹åº”è°ƒç”¨ blockåŸè¯­è¿›è¡Œè‡ªæˆ‘é˜»å¡ï¼ˆå½“å‰è¿è¡Œçš„è¿›ç¨‹ä»è¿è¡Œæ€â†’é˜»å¡æ€ï¼‰ï¼Œä¸»åŠ¨æ”¾å¼ƒå¤„ç†æœºï¼Œå¹¶æ’å…¥è¯¥ç±»èµ„æºçš„ç­‰å¾…é˜Ÿåˆ—SLä¸­ã€‚å¯è§ï¼Œè¯¥æœºåˆ¶éµå¾ªäº†â€œè®©æƒç­‰å¾…â€åŸåˆ™ï¼Œä¸ä¼šå‡ºç°â€œå¿™ç­‰â€ç°è±¡ã€‚ å¯¹ä¿¡å·é‡Sçš„ä¸€æ¬¡âˆ¨æ“ä½œæ„å‘³ç€è¿›ç¨‹é‡Šæ”¾ä¸€ä¸ªå•ä½çš„è¯¥ç±»èµ„æºï¼Œå› æ­¤éœ€è¦æ‰§è¡Œ S value++ï¼Œè¡¨ç¤ºèµ„æºæ•°åŠ 1ï¼Œè‹¥åŠ 1åä»æ˜¯ S value&lt;=0ï¼Œè¡¨ç¤ºä¾ç„¶æœ‰è¿›ç¨‹åœ¨ç­‰å¾…è¯¥ç±»èµ„æºï¼Œå› æ­¤åº”è°ƒç”¨ wakeupåŸè¯­å”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸ªè¿›ç¨‹ï¼ˆè¢«å”¤é†’è¿›ç¨‹ä»é˜»å¡æ€â†’å°±ç»ªæ€ï¼‰ã€‚ æŠ€å·§æ€»ç»“ï¼š åŸºç¡€ äº’æ–¥é—®é¢˜ï¼Œå°†ä¿¡å·é‡åˆå€¼è®¾ç½®ä¸º1 åŒæ­¥é—®é¢˜ï¼Œå°†ä¿¡å·é‡åˆå€¼è®¾ç½®ä¸º0â€”â€”ä¸€å‰ä¸€åé—®é¢˜ï¼Œè¿›ç¨‹æ‰§è¡Œæœ‰å…ˆåé¡ºåºéœ€è¦åŒæ­¥åè°ƒ é™¤äº†äº’æ–¥ã€åŒæ­¥é—®é¢˜å¤–è¿˜ä¼šè€ƒå¯Ÿæœ‰å¤šä¸ªèµ„æºçš„é—®é¢˜ï¼Œæœ‰å¤šå°‘èµ„æºå°±æŠŠä¿¡å·é‡åˆå€¼è®¾ä¸ºå¤šå°‘ã€‚ç”³è¯·èµ„æºæ—¶è¿›è¡ŒPæ“ä½œï¼Œé‡Šæ”¾èµ„æºæ—¶è¿›è¡ŒVæ“ä½œå³å¯ è®¾ç½®ä¸€ä¸ªä¿¡å·é‡ï¼Œåˆå§‹å€¼å³ä¸ºèµ„æºçš„æ•°é‡ï¼ˆæœ¬è´¨ä¸Šä¹Ÿå±äºâ€œåŒæ­¥é—®é¢˜â€ï¼Œè‹¥æ— ç©ºé—²èµ„æºï¼Œåˆ™ç”³è¯·èµ„æºçš„è¿›ç¨‹éœ€è¦ç­‰å¾…åˆ«çš„è¿›ç¨‹é‡Šæ”¾èµ„æºåæ‰èƒ½ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼‰ è¿›é˜¶ å®ç°äº’æ–¥æ˜¯åœ¨åŒä¸€è¿›ç¨‹ä¸­è¿›è¡Œä¸€å¯¹PVæ“ä½œ å®ç°ä¸¤è¿›ç¨‹çš„åŒæ­¥å…³ç³»ï¼Œæ˜¯åœ¨å…¶ä¸­ä¸ªè¿›ç¨‹ä¸­æ‰§è¡ŒPï¼Œå¦è¿›ç¨‹ä¸­æ‰§è¡ŒV **å®ç°äº’æ–¥çš„Pæ“ä½œä¸€å®šè¦åœ¨å®ç°åŒæ­¥çš„Pæ“ä½œä¹‹åã€‚**Væ“ä½œä¸ä¼šå¯¼è‡´è¿›ç¨‹é˜»å¡ï¼Œå› æ­¤ä¸¤ä¸ªVæ“ä½œé¡ºåºå¯ä»¥äº¤æ¢ã€‚ ç”Ÿäº§æ¶ˆè´¹è€…é—®é¢˜ è¯»è€…å’Œå†™è€…é—®é¢˜ æœ‰è¯»è€…å’Œå†™è€…ä¸¤ç»„å¹¶å‘è¿›ç¨‹ï¼Œå…±äº«ä¸€ä¸ªæ–‡ä»¶ï¼Œå½“ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¯»è¿›ç¨‹åŒæ—¶è®¿é—®å…±äº«æ•°æ®æ—¶ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œä½†è‹¥æŸä¸ªå†™è¿›ç¨‹å’Œå…¶ä»–è¿›ç¨‹ï¼ˆè¯»è¿›ç¨‹æˆ–å†™è¿›ç¨‹ï¼‰åŒæ—¶è®¿é—®å…±äº«æ•°æ®æ—¶åˆ™å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„é”™è¯¯ã€‚å› æ­¤è¦æ±‚ï¼š å…è®¸å¤šä¸ªè¯»è€…å¯ä»¥åŒæ—¶å¯¹æ–‡ä»¶æ‰§è¡Œè¯»æ“ä½œï¼› åªå…è®¸ä¸€ä¸ªå†™è€…å¾€æ–‡ä»¶ä¸­å†™ä¿¡æ¯ï¼› ä»»ä¸€å†™è€…åœ¨å®Œæˆå†™æ“ä½œä¹‹å‰ä¸å…è®¸å…¶ä»–è¯»è€…æˆ–å†™è€…å·¥ä½œï¼› å†™è€…æ‰§è¡Œå†™æ“ä½œå‰ï¼Œåº”è®¡å£æœ‰çš„è¯»è€…å’Œå†™è€…å…¨éƒ¨é€€å‡º ç®¡ç¨‹ï¼šä¿¡å·é‡æœºåˆ¶å­˜åœ¨çš„é—®é¢˜ï¼šç¼–å†™ç¨‹åºå›°éš¾ã€æ˜“å‡ºé”™ï¼Œèƒ½ä¸èƒ½è®¾è®¡ä¸€ç§æœºåˆ¶ï¼Œè®©ç¨‹åºå‘˜å†™ç¨‹åºæ—¶ä¸éœ€è¦å†å…³æ³¨å¤æ‚çš„PVæ“ä½œï¼Œè®©å†™ä»£ç æ›´è½»æ¾å‘¢ï¼Ÿâ€”â€”ç®¡ç¨‹ï¼Œä¸€ç§é«˜çº§åŒæ­¥æœºåˆ¶ ç®¡ç¨‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„è½¯ä»¶æ¨¡å—ï¼Œæœ‰è¿™äº›éƒ¨åˆ†ç»„æˆï¼š 1.å±€éƒ¨äºç®¡ç¨‹çš„å…±äº«æ•°æ®ç»“æ„è¯´æ˜ 2.å¯¹è¯¥æ•°æ®ç»“æ„è¿›è¡Œæ“ä½œçš„1ç»„è¿‡ç¨‹ï¼ˆå‡½æ•°ï¼‰ï¼› 3.å¯¹å±€éƒ¨äºç®¡ç¨‹çš„å…±äº«æ•°æ®è®¾ç½®åˆå§‹å€¼çš„è¯­å¥ï¼› 4.ç®¡ç¨‹æœ‰ä¸€ä¸ªåå­—ã€‚ ç®¡ç¨‹çš„åŸºæœ¬ç‰¹å¾ï¼š 1.å±€éƒ¨äºç®¡ç¨‹çš„æ•°æ®åªèƒ½è¢«å±€éƒ¨äºç®¡ç¨‹çš„è¿‡ç¨‹æ‰€è®¿é—®ï¼› 2.ä¸€ä¸ªè¿›ç¨‹åªæœ‰é€šè¿‡è°ƒç”¨ç®¡ç¨‹å†…çš„è¿‡ç¨‹æ‰èƒ½è¿›å…¥ç®¡ç¨‹è®¿é—®å…±äº«æ•°æ®ï¼› 3.æ¯æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹å†…æ‰§è¡ŒæŸä¸ªå†…éƒ¨è¿‡ç¨‹ã€‚ æ­»é” ä»€ä¹ˆæ˜¯æ­»é” è¿›ç¨‹æ­»é”ã€é¥¥é¥¿ã€æ­»å¾ªç¯çš„åŒºåˆ« æ­»é”ï¼šå„è¿›ç¨‹äº’ç›¸ç­‰å¾…å¯¹æ–¹æ‰‹é‡Œçš„èµ„æºï¼Œå¯¼è‡´å„è¿›ç¨‹éƒ½é˜»å¡ï¼Œæ— æ³•å‘å‰æ¨è¿›çš„ç°è±¡ã€‚ é¥¥é¥¿ï¼šç”±äºé•¿æœŸå¾—ä¸åˆ°æƒ³è¦çš„èµ„æºï¼ŒæŸè¿›ç¨‹æ— æ³•å‘å‰æ¨è¿›çš„ç°è±¡ã€‚æ¯”å¦‚ï¼šåœ¨çŸ­è¿›ç¨‹ä¼˜å…ˆï¼ˆsPFï¼‰ç®—æ³• ä¸­ï¼Œè‹¥æœ‰æºæºä¸æ–­çš„çŸ­è¿›ç¨‹åˆ°æ¥ï¼Œåˆ™é•¿è¿›ç¨‹å°†ä¸€ç›´å¾—ä¸åˆ°å¤„ç†æœºï¼Œä»è€Œå‘ç”Ÿé•¿è¿›ç¨‹â€œé¥¥é¥¿â€ æ­»å¾ªç¯ï¼šæŸè¿›ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸€ç›´è·³ä¸å‡ºæŸä¸ªå¾ªç¯çš„ç°è±¡ã€‚æœ‰æ—¶æ˜¯å› ä¸ºç¨‹åºé€»è¾‘bugå¯¼è‡´çš„ï¼Œæœ‰æ—¶æ˜¯ ç¨‹åºå‘˜æ•…æ„è®¾è®¡çš„ã€‚ æ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶ äº’æ–¥æ¡ä»¶ï¼šåªæœ‰å¯¹å¿…é¡»äº’æ–¥ä½¿ç”¨çš„èµ„æºçš„äº‰æŠ¢æ‰ä¼šå¯¼è‡´æ­»é”ï¼ˆå¦‚å“²å­¦å®¶çš„ç­·å­ã€æ‰“å°æœºè®¾å¤‡ï¼‰ã€‚åƒå†…å­˜ã€æ‰¬å£°å™¨è¿™æ ·å¯ä»¥åŒæ—¶è®©å¤šä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºæ˜¯ä¸ä¼šå¯¼è‡´æ­»é”çš„ï¼ˆå› ä¸ºè¿›ç¨‹ä¸ç”¨é˜»å¡ç­‰å¾…è¿™ç§èµ„æºï¼‰ã€‚ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹æ‰€è·å¾—çš„èµ„æºåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½ç”±å…¶ä»–è¿›ç¨‹å¼ºè¡Œå¤ºèµ°ï¼Œåªèƒ½ä¸»åŠ¨é‡Šæ”¾ã€‚ è¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼šè¿›ç¨‹å·²ç»ä¿æŒäº†è‡³å°‘ä¸€ä¸ªèµ„æºï¼Œä½†åˆæå‡ºäº†æ–°çš„èµ„æºè¯·æ±‚ï¼Œè€Œè¯¥èµ„æºåˆè¢«å…¶ä»–è¿›ç¨‹å æœ‰ï¼Œæ­¤æ—¶è¯·æ±‚è¿›ç¨‹è¢«é˜»å¡ï¼Œä½†åˆå¯¹è‡ªå·±å·²æœ‰çš„èµ„æºä¿æŒä¸æ”¾ã€‚ å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šå­˜åœ¨ä¸€ç§è¿›ç¨‹èµ„æºçš„å¾ªç¯ç­‰å¾…é“¾ï¼Œé“¾ä¸­çš„æ¯ä¸€ä¸ªè¿›ç¨‹å·²è·å¾—çš„èµ„æºåŒæ—¶è¢«ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€è¯·æ±‚ã€‚ ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿæ­»é” å¯¹ç³»ç»Ÿèµ„æºçš„ç«äº‰ã€‚å„è¿›ç¨‹å¯¹ä¸å¯å‰¥å¤ºçš„èµ„æºï¼ˆå¦‚æ‰“å°æœºï¼‰çš„ç«äº‰å¯èƒ½å¼•èµ·æ­»é”ï¼Œå¯¹å¯å‰¥å¤ºçš„èµ„æºï¼ˆCPUï¼‰çš„ç«äº‰æ˜¯ä¸ä¼šå¼•èµ·æ­»é”çš„ è¿›ç¨‹æ¨è¿›é¡ºåºéæ³•ã€‚è¯·æ±‚å’Œé‡Šæ”¾èµ„æºçš„é¡ºåºä¸å½“ï¼Œä¹ŸåŒæ ·ä¼šå¯¼è‡´æ­»é”ã€‚ä¾‹å¦‚ï¼Œå¹¶å‘æ‰§è¡Œçš„è¿›ç¨‹P1ã€ åˆ†åˆ«ç”³è¯·å¹¶å æœ‰äº†èµ„æºR1ã€R2ï¼Œä¹‹åè¿›ç¨‹P1åˆç´§æ¥ç€ç”³è¯·èµ„æºR2ï¼Œè€Œè¿›ç¨‹P2åˆç”³è¯·èµ„æºR1ï¼Œä¸¤è€…ä¼šå› ä¸ºç”³è¯·çš„èµ„æºè¢«å¯¹æ–¹å æœ‰è€Œé˜»å¡ï¼Œä»è€Œå‘ç”Ÿæ­»é” ä¿¡å·é‡çš„ä½¿ç”¨ä¸å½“ä¹Ÿä¼šé€ æˆæ­»é”ã€‚å¦‚ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ä¸­ï¼Œå¦‚æœå®ç°äº’æ–¥çš„Pæ“ä½œåœ¨å®ç°åŒæ­¥çš„æ“ä½œä¹‹å‰ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´æ­»é”ã€‚ï¼ˆå¯ä»¥æŠŠäº’æ–¥ä¿¡å·é‡ã€åŒæ­¥ä¿¡å·é‡ä¹Ÿçœ‹åšæ˜¯ä¸€ç§æŠ½è±¡çš„ç³»ç»Ÿèµ„æºï¼‰ æ­»é”çš„å¤„ç†ç­–ç•¥ æ­»é”å¿½ç•¥ é¢„é˜²æ­»é”ã€‚ç ´åæ­»é”äº§ç”Ÿçš„å››ä»¤å¿…è¦æ¡ä»¶ä¸­çš„ä¸€ä¸ªæˆ–å‡ ä¸ªã€‚ é¿å…æ­»é”ã€‚ç”¨æŸç§æ–¹æ³•é˜²æ­¢ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œä»è€Œé¿å…æ­»é”ï¼ˆé“¶è¡Œå®¶ç®—æ³•ï¼‰ æ­»é”çš„æ£€æµ‹å’Œè§£é™¤ã€‚å…è®¸æ­»é”çš„å‘ç”Ÿï¼Œä¸è¿‡æ“ä½œç³»ç»Ÿä¼šè´Ÿè´£æ£€æµ‹å‡ºæ­»é”çš„å‘ç”Ÿï¼Œç„¶åé‡‡å–æŸç§æªæ–½è§£é™¤æ­»é”ã€‚ æ£€æµ‹ èµ„æºåˆ†é…å›¾ æ­»é”æ£€æµ‹ç®—æ³• æ¥è§¦ï¼š èµ„æºå‰¥å¤ºæ³•ï¼š æ’¤é”€ï¼ˆç»ˆæ­¢ï¼‰è¿›ç¨‹æ³•ï¼š è¿›ç¨‹å›é€€æ³•ï¼š çº¿ç¨‹ åœ¨æ²¡æœ‰å¼•å…¥è¿›ç¨‹ä¹‹å‰ï¼Œç¨‹åºéƒ½æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ã€‚å¼•å…¥è¿›ç¨‹åè®¡ç®—æœºå¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªç¨‹åºï¼Œä½†è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œï¼Œæ¯”å¦‚QQæ‹¥æœ‰è§†é¢‘ã€å‘ä¸§å›¾ç‰‡ç­‰åŠŸèƒ½ï¼Œç¨‹åºçš„å¤šä¸ªåŠŸèƒ½æ˜¯ä¸å¯èƒ½é¡ºåºæ‰§è¡Œå°±å®ç°çš„ï¼Œå› æ­¤å¼•å‡ºäº†çº¿ç¨‹ã€‚ä¸ºæ­¤ï¼Œå¼•å…¥äº†çº¿ç¨‹æ¥å¢åŠ å¹¶å‘æ€§ â–²ä¼ ç»Ÿçš„è¿›ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•ä½ ===&gt; å¼•å…¥çº¿ç¨‹åï¼Œçº¿ç¨‹æˆäº†ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•ä½ ==&gt; å¯ä»¥å§çº¿ç¨‹ç†è§£ä¸ºè½»é‡çº§è¿›ç¨‹ çº¿ç¨‹æ˜¯ä¸€ä¸ªåŸºæœ¬çš„CPUæ‰§è¡Œå•å…ƒä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•ä½ã€‚ å¼•å…¥çº¿ç¨‹ä¹‹åï¼Œä¸ä»…æ˜¯è¿›ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘ï¼Œè¿›ç¨‹å†…çš„å„çº¿ç¨‹ä¹‹é—´ä¹Ÿå¯ä»¥å¹¶å‘ï¼Œä»è€Œè¿›ä¸€æ­¥æå‡äº†ç³»ç»Ÿçš„å¹¶å‘åº¦ï¼Œä½¿å¾—ä¸€ä¸ªè¿›ç¨‹å†…ä¹Ÿå¯ä»¥å¹¶å‘å¤„ç†å„ç§ä»»åŠ¡ï¼ˆå¦‚QQè§†é¢‘ã€æ–‡å­—èŠå¤©ã€ä¼ æ–‡ä»¶ï¼‰ å¼•å…¥çº¿ç¨‹åï¼Œè¿›ç¨‹åªä½œä¸ºé™¤CPUä¹‹å¤–çš„ç³»ç»Ÿèµ„æºçš„åˆ†é…å•å…ƒï¼ˆå¦‚æ‰“å°æœºã€å†…å­˜åœ°å€ç©ºé—´ç­‰éƒ½æ˜¯åˆ†é…ç»™è¿›ç¨‹çš„ï¼‰==&gt; å¼•å…¥çº¿ç¨‹åï¼Œè¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯è°ƒåº¦çš„åŸºæœ¬å•ä½ ç†è§£ç±»æ¯”ï¼š å¼•äººçº¿ç¨‹åï¼Œå¹¶åŠæ‰€å¸¦æ¥çš„ç³»ç»Ÿå¼€é”€ï¼Œæ¯”å¦‚å»å›¾ä¹¦é¦†çœ‹ä¹¦ã€‚ åˆ‡æ¢è¿›ç¨‹è¿è¡Œç¯å¢ƒ=æœ‰ä¸€ä¸ªä¸è®¤è¯†çš„äººè¦ç”¨æ¡Œå­ï¼Œä½ éœ€è¦ä½ çš„ä¹¦æ”¶èµ°ï¼Œä»–æŠŠè‡ªå·±çš„ä¹¦æ”¾åˆ°æ¡Œä¸Š åŒä¸€è¿›ç¨‹å†…çš„çº¿ç¨‹åˆ‡æ¢=ä½ çš„èˆå‹è¦ç”¨è¿™å¼ ä¹¦æ¡Œï¼Œå¯ä»¥ä¸æŠŠæ¡Œå­ä¸Šçš„ä¹¦æ”¶èµ° ç”¨æˆ·çº§çº¿ç¨‹(ULT: User-Level Thread) ç”¨æˆ·çº§çº¿ç¨‹ç”±åº”ç”¨ç¨‹åºé€šè¿‡çº¿ç¨‹åº“å®ç°ã€‚ æ‰€æœ‰çš„çº¿ç¨‹ç®¡ç†å·¥ä½œéƒ½ç”±åº”ç”¨ç¨‹åºè´Ÿè´£ï¼ˆåŒ…æ‹¬çº¿ç¨‹åˆ‡æ¢ï¼‰ ç”¨æˆ·çº§çº¿ç¨‹ä¸­ï¼Œçº¿ç¨‹åˆ‡æ¢å¯ä»¥åœ¨ç”¨æˆ·æ€ä¸‹å³å¯å®Œæˆï¼Œæ— éœ€æ“ä½œç³»ç»Ÿå¹²é¢„ã€‚ åœ¨ç”¨æˆ·çœ‹æ¥ï¼Œæ˜¯æœ‰å¤šä¸ªçº¿ç¨‹ã€‚ä½†æ˜¯åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸çœ‹æ¥ï¼Œå¹¶æ„è¯†ä¸åˆ°çº¿ç¨‹çš„å­˜åœ¨ã€‚ï¼ˆç”¨æˆ·çº§çº¿ç¨‹å¯¹ç”¨æˆ·ä¸é€æ˜ï¼Œå¯¹æ“ä½œç³»ç»Ÿé€æ˜ï¼‰ ==&gt; ç”¨æˆ·çº¿ç¨‹å°±æ˜¯ä»ç”¨æˆ·è§†è§’èƒ½çœ‹åˆ°çš„çº¿ç¨‹ å†…æ ¸çº§çº¿ç¨‹(KLT: Kernel-Level Thread) å†…æ ¸çº§çº¿ç¨‹çš„ç®¡ç†å·¥ä½œç”±æ“ä½œç³»ç»Ÿå†…æ ¸å®Œæˆã€‚ çº¿ç¨‹è°ƒåº¦ã€åˆ‡æ¢ç­‰å·¥ä½œéƒ½ç”±å†…æ ¸è´Ÿè´£ï¼Œå› æ­¤å†…æ ¸çº§çº¿ç¨‹çš„åˆ‡æ¢å¿…ç„¶éœ€è¦åœ¨æ ¸å¿ƒæ€ä¸‹æ‰èƒ½å®Œæˆã€‚ ==&gt; å¯ä»¥è¿™æ ·ç†è§£ï¼Œâ€œå†…æ ¸çº§çº¿ç¨‹â€å°±æ˜¯â€œä»æ“ä½œç³»ç»Ÿå†…æ ¸è§†è§’çœ‹èƒ½çœ‹åˆ°çš„çº¿ç¨‹â€ ç»„åˆæ–¹å¼ï¼š KLT(mä¸ª)ä¸ULTæ··åˆ(nä¸ª)å…±åŒä½¿ç”¨ï¼Œ n&gt;=m å¤šçº¿ç¨‹æ¨¡å‹ï¼š å¤šå¯¹ä¸€æ¨¡å‹ï¼šå¤šä¸ªç”¨æˆ·åŠçº¿ç¨‹æ˜ å°„åˆ°ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ã€‚æ¯ä¸ªç”¨æˆ·è¿›ç¨‹åªå¯¹åº”ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ã€‚ ä¼˜ç‚¹ï¼šç”¨æˆ·çº§çº¿ç¨‹çš„åˆ‡æ¢åœ¨ç”¨æˆ·ç©ºé—´å³å¯å®Œæˆï¼Œä¸éœ€è¦åˆ‡æ¢åˆ°æ ¸å¿ƒæ€ï¼Œçº¿ç¨‹ç®¡ç†çš„ç³»ç»Ÿå¼€é”€å°ï¼Œæ•ˆç‡é«˜ ç¼ºç‚¹ï¼šå½“ä¸€ä¸ªç”¨æˆ·çº§çº¿ç¨‹è¢«é˜»å¡åï¼Œæ•´ä¸ªè¿›ç¨‹éƒ½ä¼šè¢«é˜»å¡ï¼Œå¹¶å‘åº¦ä¸é«˜ã€‚å¤šä¸ªçº¿ç¨‹ä¸å¯åœ¨å¤šæ ¸å¤„ç†æœºä¸Šå¹¶è¡Œè¿è¡Œ ä¸€å¯¹ä¸€æ¨¡å‹ï¼šä¸€ä¸ªç”¨æˆ·åŠçº¿ç¨‹æ˜ å°„åˆ°ä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ã€‚æ¯ä¸ªç”¨æˆ·è¿›ç¨‹æœ‰ä¸ç”¨æˆ·çº§çº¿ç¨‹åŒæ•°é‡çš„å†…æ ¸çº§çº¿ç¨‹ ä¼˜ç‚¹ï¼šå½“ä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡åï¼Œåˆ«çš„çº¿ç¨‹è¿˜å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œå¹¶å‘èƒ½åŠ›å¼ºã€‚å¤šçº¿ç¨‹å¯åœ¨å¤šæ ¸å¤„ç†æœºä¸Šå¹¶è¡Œæ‰§è¡Œã€‚ ç¼ºç‚¹ï¼šä¸€ä¸ªç”¨æˆ·è¿›ç¨‹ä¼šå ç”¨å¤šä¸ªå†…æ ¸çº§çº¿ç¨‹ï¼Œçº¿ç¨‹åˆ‡æ¢ç”±æ“ä½œç³»ç»Ÿå†…æ ¸å®Œæˆï¼Œéœ€è¦åˆ‡æ¢åˆ°æ ¸å¿ƒæ€ï¼Œå› æ­¤çº¿ç¨‹ç®¡ç†çš„æˆæœ¬é«˜ï¼Œå¼€é”€å¤§ã€‚ â˜…å¤šå¯¹å¤šæ¨¡å‹ï¼šç”¨æˆ·åŠçº¿ç¨‹æ˜ å°„åˆ°mä¸ªå†…æ ¸çº§çº¿ç¨‹ï¼ˆn&gt;=mï¼‰ã€‚æ¯ä¸ªç”¨æˆ·è¿›ç¨‹å¯¹åº”mä¸ªå†…æ ¸çº§çº¿ç¨‹ã€‚ å…‹æœäº†å¤šå¯¹ä¸€æ¨¡å‹å¹¶å‘åº¦ä¸é«˜çš„ç¼ºç‚¹ï¼Œåˆå…‹æœäº†ä¸€å¯¹ä¸€æ¨¡å‹ä¸­ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹å ç”¨å¤ªå¤šå†…æ ¸çº§çº¿ç¨‹ï¼Œå¼€é”€å¤ªå¤§çš„ç¼ºç‚¹ã€‚ å¤„ç†æœºè°ƒåº¦ è°ƒåº¦ï¼šå½“æœ‰ä¸€å †ä»¼åŠ¡è¦å¤„ç†ï¼Œä½†ç”±äºèµ„æºæœ‰é™ï¼Œè¿™äº›äº‹æƒ…æ²¡æ³•åŒæ—¶å¤„ç†ã€‚è¿™å°±éœ€è¦ç¡®å®šæŸç§è§„åˆ™æ¥å†³å®šå¤„ç†è¿™äº›ä»»åŠ¡çš„é¡ºåº(æŒ‰æŸç§ç®—æ³•é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹å°†å¤„ç†æœºåˆ†é…ç»™å®ƒ)ï¼Œè¿™å°±æ˜¯â€œè°ƒåº¦â€ç ”ç©¶çš„é—®é¢˜ã€‚ ä¸‰ä¸ªå±‚æ¬¡ï¼š ä½œä¸šè°ƒåº¦ï¼ˆé«˜çº§è°ƒåº¦ï¼‰ é«˜çº§è°ƒåº¦æ˜¯è¾…å­˜ï¼ˆå¤–å­˜ï¼‰ä¸å†…å­˜ä¹‹é—´çš„è°ƒåº¦ã€‚æ¯ä¸ªä½œä¸šåªè°ƒå…¥ä¸€æ¬¡ï¼Œè°ƒå‡ºä¸€æ¬¡ã€‚ä½œä¸šè°ƒå…¥æ—¶ä¼šå»ºç«‹ç›¸åº”çš„PCBï¼Œä½œä¸šè°ƒå‡ºæ—¶æ‰æ’¤é”€PCBã€‚ é«˜çº§è°ƒåº¦ä¸»è¦æ˜¯æŒ‡è°ƒå…¥çš„é—®é¢˜ï¼Œå› ä¸ºåªæœ‰è°ƒå…¥çš„æ—¶æœºéœ€è¦æ“ä½œç³»ç»Ÿæ¥ç¡®å®šï¼Œä½†è°ƒå‡ºçš„æ—¶æœºå¿…ç„¶æ˜¯ä½œä¸šè¿è¡Œç»“æŸæ‰è°ƒå‡ºã€‚ å†…å­˜è°ƒåº¦ï¼ˆä¸­çº§è°ƒåº¦ï¼‰â€”â€”æ¯”ä½œä¸šè°ƒåº¦å¤šäº†æŒ‚èµ·é˜Ÿåˆ— å¼•å…¥äº†è™šæ‹Ÿå­˜å‚¨æŠ€æœ¯ä¹‹åï¼Œå¯å°†æš‚æ—¶ä¸èƒ½è¿è¡Œçš„è¿›ç¨‹è°ƒè‡³å¤–å­˜ç­‰å¾…ã€‚ç­‰å®ƒé‡æ–°å…·å¤‡äº†è¿è¡Œæ¡ä»¶ä¸”å†…å­˜åˆç¨æœ‰ç©ºé—²æ—¶ï¼Œå†é‡æ–°è°ƒå…¥å†…å­˜ã€‚==&gt;ä»è€Œæé«˜äº†å†…å­˜åˆ©ç”¨ç‡å’Œç³»ç»Ÿååé‡ ä¸­çº§è°ƒåº¦ï¼ˆå†…å­˜è°ƒåº¦ï¼‰ï¼Œå°±æ˜¯è¦å†³å®šå°†å“ªä¸ªå¤„äºæŒ‚èµ·çŠ¶æ€çš„è¿›ç¨‹é‡æ–°è°ƒå…¥å†…å­˜ã€‚ è¿›ç¨‹è°ƒåº¦ï¼ˆä½çº§è°ƒåº¦ï¼‰ ä¸»è¦ä»»åŠ¡æ˜¯æŒ‰ç…§æŸç§æ–¹æ³•å’Œç­–ç•¥ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰å–ä¸€ä¸ªè¿›ç¨‹ï¼Œå°†å¤„ç†æœºåˆ†é…ç»™å®ƒã€‚ è¿›ç¨‹è°ƒåº¦æ˜¯æ“ä½œç³»ç»Ÿä¸­æœ€åŸºæœ¬çš„ä¸€ç§è°ƒåº¦ï¼Œåœ¨ä¸€èˆ¬çš„æ“ä½œç³»ç»Ÿä¸­éƒ½å¿…é¡»é…ç½®è¿›ç¨‹è°ƒåº¦ã€‚ ä¸èƒ½è¿›è¡Œè¿›ç¨‹åˆ‡æ¢çš„æƒ…å†µï¼š åœ¨å¤„ç†ä¸­æ–­çš„è¿‡ç¨‹ä¸­ã€‚ä¸­æ–­å¤„ç†è¿‡ç¨‹å¤æ‚ï¼Œä¸ç¡¬ä»¶å¯†åˆ‡ç›¸å…³ï¼Œå¾ˆéš¾åšåˆ°åœ¨ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­è¿›è¡Œè¿›ç¨‹åˆ‡æ¢ã€‚ è¿›ç¨‹åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ç¨‹åºä¸´ç•ŒåŒºä¸­ è¿›ç¨‹åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ç¨‹åºä¸´ç•ŒåŒºä¸­ä¸èƒ½è¿›è¡Œè°ƒåº¦ä¸åˆ‡æ¢ âˆš ï¼ˆ2012å¹´è”è€ƒçœŸé¢˜ï¼‰è¿›ç¨‹å¤„äºä¸´ç•ŒåŒºæ—¶ä¸èƒ½è¿›è¡Œå¤„ç†æœºè°ƒåº¦ï¼ˆX ä¸´ç•Œèµ„æºï¼šä¸€ä¸ªæ—¶é—´æ®µå†…åªå…è®¸ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºã€‚å„è¿›ç¨‹éœ€è¦äº’æ–¥åœ°è®¿é—®ä¸´ç•Œèµ„æºã€‚ ä¸´ç•ŒåŒºï¼šè®¿é—®ä¸´ç•Œèµ„æºçš„é‚£æ®µä»£ç ã€‚ å†…æ ¸ç¨‹åºä¸´ç•ŒåŒºä¸€èˆ¬æ˜¯ç”¨æ¥è®¿é—®æŸç§å†…æ ¸æ•°æ®ç»“æ„çš„ï¼Œæ¯”å¦‚è¿›ç¨‹çš„å°±ç»ªé˜Ÿåˆ—ï¼ˆç”±å„å°±ç»ªè¿›ç¨‹çš„PcBç»„æˆï¼‰ åœ¨åŸå­æ“ä½œè¿‡ç¨‹ä¸­ï¼ˆåŸè¯­ï¼‰ã€‚åŸå­æ“ä½œä¸å¯ä¸­æ–­ï¼Œè¦ä¸€æ°”å‘µæˆï¼ˆå¦‚ä¹‹å‰è®²è¿‡çš„ä¿®æ”¹PCBä¸­è¿›ç¨‹çŠ¶æ€æ ‡å¿—ï¼Œå¹¶æŠŠPCBæ”¾åˆ°ç›¸åº”é˜Ÿåˆ—ï¼‰ è°ƒåº¦ç®—æ³•è¯„ä»·æŒ‡æ ‡ CPUåˆ©ç”¨ç‡ï¼šæŒ‡CPUâ€œå¿™ç¢Œâ€çš„æ—¶é—´å æ€»æ—¶é—´çš„æ¯”ä¾‹ã€‚ ç³»ç»Ÿååé‡ï¼šå•ä½æ—¶é—´å†…å®Œæˆä½œä¸šçš„æ•°é‡ å‘¨è½¬æ—¶é—´ï¼šæ˜¯æŒ‡ä»ä½œä¸šè¢«æäº¤ç»™ç³»ç»Ÿå¼€å§‹ï¼Œåˆ°ä½œä¸šå®Œæˆä¸ºæ­¢çš„è¿™æ®µæ—¶é—´é—´éš”ã€‚ å®ƒåŒ…æ‹¬å››ä¸ªéƒ¨åˆ†ï¼šä½œä¸šåœ¨å¤–å­˜åå¤‡é˜Ÿåˆ—ä¸Šç­‰å¾…ä½œä¸šè°ƒåº¦ï¼ˆé«˜çº§è°ƒåº¦ï¼‰çš„æ—¶é—´ã€è¿›ç¨‹åœ¨å°±ç»ªé˜Ÿåˆ—ä¸Šç­‰ å¾…è¿›ç¨‹è°ƒåº¦ï¼ˆä½çº§è°ƒåº¦ï¼‰çš„æ—¶é—´ã€è¿›ç¨‹åœ¨CPUä¸Šæ‰§è¡Œçš„æ—¶é—´ã€è¿›ç¨‹ç­‰å¾…Oæ“ä½œå®Œæˆçš„æ—¶é—´ã€‚åä¸‰é¡¹ åœ¨ä¸€ä¸ªä½œä¸šçš„æ•´ä¸ªå¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å‘ç”Ÿå¤šæ¬¡ã€‚ ç­‰å¾…æ—¶é—´ï¼šè¿›ç¨‹ä½œä¸šç­‰å¾…è¢«æœåŠ¡çš„æ—¶é—´ä¹‹å’Œ å“åº”æ—¶é—´ï¼šæŒ‡ä»ç”¨æˆ·æäº¤è¯·æ±‚åˆ°é¦–æ¬¡äº§ç”Ÿå“åº”æ‰€ç”¨çš„æ—¶é—´ã€‚ è°ƒåº¦ç®—æ³•ï¼š å…ˆæ¥å…ˆæœåŠ¡ éæŠ¢å å¼ çŸ­ä½œä¸šä¼˜å…ˆ éæŠ¢å å¼ã€æŠ¢å å¼ï¼ˆæœ€çŸ­å‰©ä½™æ—¶é—´ï¼‰ é«˜å“åº”æ¯”ä¼˜å…ˆ éæŠ¢å å¼ æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•RR æŠ¢å å¼ å¦‚æœæ—¶é—´ç‰‡å¤ªå¤§ï¼Œä½¿å¾—æ¯ä¸ªè¿›ç¨‹éƒ½å¯ä»¥åœ¨ä¸€ä¸ªæ—¶é—´ç‰‡å†…å°±å®Œæˆï¼Œåˆ™æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•é€€åŒ–ä¸ºå…ˆæ¥å…ˆæœåŠ¡è°ƒåº¦ç®—æ³•ï¼Œå¹¶ä¸”ä¼šå¢å¤§è¿›ç¨‹å“åº”æ—¶é—´ã€‚å› æ­¤æ—¶é—´ç‰‡ä¸èƒ½å¤ªå¤§ã€‚ å¦ä¸€æ–¹é¢ï¼Œè¿›ç¨‹è°ƒåº¦ã€åˆ‡æ¢æ˜¯æœ‰æ—¶é—´ä»£ä»·çš„ï¼ˆä¿å­˜ã€æ¢å¤è¿è¡Œç¯å¢ƒï¼‰ï¼Œå› æ­¤å¦‚æœæ—¶é—´ç‰‡å¤ªå°ï¼Œä¼šå¯¼è‡´è¿›ç¨‹åˆ‡æ¢è¿‡äºé¢‘ç¹ï¼Œç³»ç»Ÿä¼šèŠ±å¤§é‡çš„æ—¶é—´æ¥å¤„ç†è¿›ç¨‹åˆ‡æ¢ï¼Œä»è€Œå¯¼è‡´å®é™…ç”¨äºè¿›ç¨‹æ‰§è¡Œçš„æ—¶é—´æ¯”ä¾‹å‡å°‘ã€‚å¯è§æ—¶é—´ç‰‡ä¹Ÿä¸èƒ½å¤ªå°ã€‚ ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³• æŠ¢å å¼+éæŠ¢å å¼ å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³• æŠ¢å å¼ å†…å­˜ç®¡ç† å†…å­˜æ˜¯ç”¨äºå­˜æ”¾æ•°æ®çš„ç¡¬ä»¶ã€‚ç¨‹åºæ‰§è¡Œå‰éœ€è¦å…ˆæ”¾åˆ°å†…å­˜ä¸­æ‰èƒ½è¢«CPUå¤„ç†ã€‚ å†…å­˜çš„æ¯ä¸ªå­˜å‚¨å•å…ƒéƒ½ä¼šè¿›è¡Œç¼–å€ï¼šâ‘ æŒ‰å­—èŠ‚ç¼–å€ã€â‘¡æŒ‰å­—ç¼–å€ æˆ‘ä»¬å†™çš„ä»£ç è¦ç¿»è¯‘æˆCPUèƒ½è¯†åˆ«çš„æŒ‡ä»¤ã€‚è¿™äº›æŒ‡ä»¤ä¼šå‘Šè¯‰CPUåº”è¯¥å»å†…å­˜çš„å“ªä¸ªåœ°å€å­˜/å–æ•°æ®ã€‚ä½†å®é™…åœ¨ç”Ÿæˆæœºå™¨æŒ‡ä»¤çš„æ—¶å€™å¹¶ä¸çŸ¥é“è¯¥è¿›ç¨‹çš„æ•°æ®ä¼šè¢«æ”¾åˆ°ä»€ä¹ˆä½ç½®ã€‚æ‰€ä»¥ç¼–è¯‘ç”Ÿæˆçš„æŒ‡ä»¤ä¸­ä¸€èˆ¬æ˜¯ä½¿ç”¨é€»è¾‘åœ°å€ï¼ˆç›¸å¯¹åœ°å€ï¼‰ ç›¸å¯¹åœ°å€åˆç§°é€»è¾‘åœ°å€ï¼Œç»å¯¹åœ°å€åˆç§°ç‰©ç†åœ°å€ã€‚ ç¼–è¯‘ï¼šç”±ç¼–è¯‘ç¨‹åºå°†ç”¨æˆ·æºä»£ç ç¼–è¯‘æˆè‹¥å¹²ä¸ªç›®æ ‡æ¨¡å—ï¼ˆç¼–è¯‘å°±æ˜¯æŠŠé«˜çº§è¯­è¨€ç¿»è¯‘ä¸ºæœºå™¨è¯­è¨€ï¼‰ é“¾æ¥ï¼šç”±é“¾æ¥ç¨‹åºå°†ç¼–è¯‘åå½¢æˆçš„ä¸€ç»„ç›®æ ‡æ¨¡å—ï¼Œä»¥åŠæ‰€éœ€åº“å‡½æ•°é“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„è£…å…¥æ¨¡å— é™æ€é“¾æ¥.aï¼šåœ¨ç¨‹åºè¿è¡Œä¹‹å‰ï¼Œå…ˆå°†å„ç›®æ ‡æ¨¡å—åŠå®ƒä»¬æ‰€éœ€çš„åº“å‡½æ•°è¿æ¥æˆä¸€ä¸ªå®Œæ•´çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆè£…å…¥æ¨¡å—ï¼‰ï¼Œä¹‹åä¸å†æ‹†å¼€ã€‚ è£…å…¥æ—¶åŠ¨æ€é“¾æ¥.soï¼šå°†å„ç›®æ ‡æ¨¡å—è£…å…¥å†…å­˜æ—¶ï¼Œè¾¹è£…å…¥è¾¹é“¾æ¥çš„é“¾æ¥æ–¹å¼ã€‚ è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥.dllï¼šåœ¨ç¨‹åºæ‰§è¡Œä¸­éœ€è¦è¯¥ç›®æ ‡æ¨¡å—æ—¶ï¼Œæ‰å¯¹å®ƒè¿›è¡Œé“¾æ¥ã€‚å…¶ä¼˜ç‚¹æ˜¯ä¾¿äºä¿®æ”¹å’Œæ›´æ–°ï¼Œä¾¿äºå®ç°å¯¹ç›®æ ‡æ¨¡å—çš„å…±äº«ã€‚ è£…å…¥ï¼ˆè£…è½½ï¼‰ï¼šç”±è£…å…¥ç¨‹åºå°†è£…å…¥æ¨¡å—è£…å…¥å†…å­˜è¿è¡Œ è£…å…¥çš„ä¸‰ç§æ–¹å¼ï¼ˆç”¨ä¸‰ç§ä¸åŒçš„æ–¹æ³•å®Œæˆé€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢ï¼‰ï¼š ç»å¯¹è£…å…¥ ç»å¯¹è£…å…¥åªé€‚ç”¨äºå•é“ç¨‹åºç¯å¢ƒã€‚ç¨‹åºä¸­ä½¿ç”¨çš„ç»å¯¹åœ°å€ï¼Œå¯åœ¨ç¼–è¯‘æˆ–æ±‡ç¼–æ—¶ç»™å‡ºï¼Œä¹Ÿå¯ç”±ç¨‹åºå‘˜ç›´æ¥èµ‹äºˆã€‚é€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯ç¼–è¯‘æˆ–æ±‡ç¼–æ—¶å†è½¬æ¢ä¸ºç»å¯¹åœ°å€ã€‚ é™æ€é‡å®šä½ï¼ˆå¯é‡å®šä½è£…å…¥ï¼‰ ç¼–è¯‘ã€é“¾æ¥åçš„è£…å…¥æ¨¡å—çš„åœ°å€éƒ½æ˜¯ä»0å¼€å§‹çš„ï¼ŒæŒ‡ä»¤ä¸­ä½¿ç”¨çš„åœ°å€ã€æ•°æ®å­˜æ”¾çš„åœ°å€éƒ½æ˜¯ç›¸å¯¹äºèµ·å§‹åœ°å€è€Œè¨€çš„é€»è¾‘åœ°å€ã€‚å¯æ ¹æ®å†…å­˜çš„å½“å‰æƒ…å†µï¼Œå°†è£…å…¥æ¨¡å—è£…å…¥åˆ°å†…å­˜çš„é€‚å½“ä½ç½®ã€‚è£…å…¥æ—¶å¯¹åœ°å€è¿›è¡Œâ€œé‡å®šä½â€ï¼Œå°†é€»è¾‘åœ°å€å˜æ¢ä¸ºç‰©ç†åœ°å€ï¼ˆåœ°å€å˜æ¢æ˜¯åœ¨è£…å…¥æ—¶ä¸€æ¬¡å®Œæˆçš„ï¼‰ã€‚ é™æ€é‡å®šä½çš„ç‰¹ç‚¹æ˜¯åœ¨ä¸€ä¸ªä½œä¸šè£…å…¥å†…å­˜æ—¶ï¼Œå¿…é¡»åˆ†é…å…¶è¦æ±‚çš„å…¨éƒ¨å†…å­˜ç©ºé—´ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå°±ä¸èƒ½è£…å…¥è¯¥ä½œä¸šã€‚ä½œä¸šä¸€æ—¦è¿›å…¥å†…å­˜åï¼Œåœ¨è¿è¡ŒæœŸé—´å°±ä¸èƒ½å†ç§»åŠ¨ï¼Œä¹Ÿä¸èƒ½å†ç”³è¯·å†…å­˜ç©ºé—´ã€‚ åŠ¨æ€é‡å®šä½ï¼ˆåˆç§°åŠ¨æ€è¿è¡Œæ—¶è£…å…¥ï¼Œç›®å‰é‡‡ç”¨çš„æ–¹å¼ï¼‰ ç¼–è¯‘ã€é“¾æ¥åçš„è£…å…¥æ¨¡å—çš„åœ°å€éƒ½æ˜¯ä»0å¼€å§‹çš„ã€‚è£…å…¥ç¨‹åºæŠŠè£å…¥æ¨¡å—è£…å…¥å†…å­˜åï¼Œå¹¶ä¸ä¼šç«‹å³æŠŠé€»è¾‘åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ï¼Œè€Œæ˜¯æŠŠåœ°å€è½¬æ¢æ¨è¿Ÿåˆ°ç¨‹åºçœŸæ­£è¦æ‰§è¡Œæ—¶æ‰è¿›è¡Œã€‚å› æ­¤è£…å…¥å†…å­˜åæ‰€æœ‰çš„åœ°å€ä¾ç„¶æ˜¯é€»è¾‘åœ°å€ã€‚è¿™ç§æ–¹å¼éœ€è¦ä¸€ä¸ªé‡å®šä½å¯„å­˜å™¨ï¼ˆå­˜æ”¾è£…å…¥æ¨¡å—å­˜æ”¾çš„èµ·å§‹ä½ç½®ï¼‰çš„æ”¯æŒã€‚ é‡‡ç”¨åŠ¨æ€é‡å®šä½æ—¶å…è®¸ç¨‹åºåœ¨å†…å­˜ä¸­å‘ç”Ÿç§»åŠ¨ã€‚ â˜…å¹¶ä¸”å¯å°†ç¨‹åºåˆ†é…åˆ°ä¸è¿ç»­çš„å­˜å‚¨åŒºä¸­ï¼›åœ¨ç¨‹åºè¿è¡Œå‰åªéœ€è£…å…¥å®ƒçš„éƒ¨åˆ†ä»£ç å³å¯æŠ•å…¥è¿è¡Œï¼Œç„¶ååœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œæ ¹æ®éœ€è¦åŠ¨æ€ç”³è¯·åˆ†é…å†…å­˜ï¼›ä¾¿äºç¨‹åºæ®µçš„å…±äº«ï¼Œå¯ä»¥å‘ç”¨æˆ·æä¾›ä¸€ä¸ªæ¯”å­˜å‚¨ç©ºé—´å¤§å¾—å¤šçš„åœ°å€ç©ºé—´ã€‚ æ“ä½œç³»ç»Ÿéœ€è¦åšçš„äº‹ï¼Ÿ 1.æ“ä½œç³»ç»Ÿè´Ÿè´£å†…å­˜ç©ºé—´çš„åˆ†é…ä¸å›æ”¶ 2.æ“ä½œç³»ç»Ÿéœ€è¦æä¾›æŸç§æŠ€æœ¯ä»é€»è¾‘ä¸Šå¯¹å†…å­˜ç©ºé—´è¿›è¡Œæ‰©å…… 3.æ“ä½œç³»ç»Ÿéœ€è¦æä¾›åœ°å€è½¬æ¢åŠŸèƒ½ï¼Œè´Ÿè´£ç¨‹åºçš„é€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€çš„è½¬æ¢ å†…å­˜ä¿æŠ¤ï¼š ä¿è¯å„è¿›ç¨‹åœ¨è‡ªå·±çš„å†…å­˜ç©ºé—´å†…è¿è¡Œï¼Œä¸ä¼šè¶Šç•Œè®¿é—® æ–¹æ³•ä¸€ï¼šåœ¨CPUä¸­è®¾ç½®ä¸€å¯¹ä¸Šã€ä¸‹é™å¯„å­˜å™¨ï¼Œå­˜æ”¾è¿›ç¨‹çš„ä¸Šã€ä¸‹é™åœ°å€ã€‚è¿›ç¨‹çš„æŒ‡ä»¤è¦è®¿é—®æŸä¸ªåœ°å€æ—¶ï¼ŒCPUæ£€æŸ¥æ˜¯å¦è¶Šç•Œ æ–¹æ³•äºŒï¼šé‡‡ç”¨é‡å®šä½å¯„å­˜å™¨ï¼ˆåˆç§°åŸºå€å¯„å­˜å™¨ï¼‰å’Œç•Œåœ°å€å¯„å­˜å™¨ï¼ˆåˆç§°é™é•¿å¯„å­˜å™¨ï¼‰è¿›è¡Œè¶Šç•Œæ£€æŸ»ã€‚é‡å®šä½å¯„å­˜å™¨ä¸­å­˜æ”¾çš„æ˜¯è¿›ç¨‹çš„èµ·å§‹ç‰©ç†åœ°å€ã€‚ç•Œåœ°å€å¯„å­˜å™¨ä¸­å­˜æ”¾çš„æ˜¯è¿›ç¨‹çš„æœ€å¤§é€»è¾‘åœ°å€ å†…å­˜ç©ºé—´æ‰©å……ï¼š è¦†ç›–æŠ€æœ¯ï¼ˆå¼ƒç”¨ï¼‰ï¼šå°†ç¨‹åºåˆ†ä¸ºå¤šä¸ªæ®µï¼ˆå¤šä¸ªæ¨¡å—ï¼‰ã€‚å¸¸ç”¨çš„æ®µå¸¸é©»å†…å­˜ï¼Œä¸å¸¸ç”¨çš„æ®µåœ¨éœ€è¦æ—¶è°ƒå…¥å†…å­˜ã€‚ å†…å­˜ä¸­åˆ†ä¸ºä¸€ä¸ªâ€œå›ºå®šåŒºâ€å’Œè‹¥å¹²ä¸ªâ€œè¦†ç›–åŒºâ€ã€‚ éœ€è¦å¸¸é©»å†…å­˜çš„æ®µæ”¾åœ¨â€œå›ºå®šåŒºâ€ä¸­ï¼Œè°ƒå…¥åå°±ä¸å†è°ƒå‡ºï¼ˆé™¤éè¿è¡Œç»“æŸï¼‰ ä¸å¸¸ç”¨çš„æ®µæ”¾åœ¨â€œè¦†ç›–åŒºâ€ï¼Œéœ€è¦ç”¨åˆ°æ—¶è°ƒå…¥å†…å­˜ï¼Œç”¨ä¸åˆ°æ—¶è°ƒå‡ºå†…å­˜ å¿…é¡»ç”±ç¨‹åºå‘˜å£°æ˜è¦†ç›–ç»“æ„ï¼Œæ“ä½œç´¢ç»Ÿå®Œæˆè‡ªåŠ¨è¦†ç›–ã€‚ç¼ºç‚¹ï¼šå¯¹ç”¨æˆ·ä¸é€æ˜ï¼Œå¢åŠ äº†ç”¨æˆ·ç¼–ç¨‹è´Ÿæ‹…ã€‚ äº¤æ¢æŠ€æœ¯ï¼šå†…å­˜ç©ºé—´ç´§å¼ æ—¶ï¼Œç³»ç»Ÿå°†å†…å­˜ä¸­æŸäº›è¿›ç¨‹æš‚æ—¶æ¢å‡ºå¤–å­˜ï¼ŒæŠŠå¤–å­˜ä¸­æŸäº›å·²å…·å¤‡è¿è¡Œæ¡ä»¶çš„è¿›ç¨‹æ¢å…¥å†…å­˜ï¼ˆè¿›ç¨‹åœ¨å†…å­˜ä¸ç£ç›˜é—´åŠ¨æ€è°ƒåº¦ï¼‰ã€ äº¤æ¢ï¼ˆå¯¹æ¢ï¼‰æŠ€æœ¯çš„è®¾è®¡æ€æƒ³ï¼šå†…å­˜ç©ºé—´ç´§å¼ æ—¶ï¼Œç³»ç»Ÿå°†å†…å­˜ä¸­æŸäº›è¿›ç¨‹æš‚æ—¶æ¢å‡ºå¤–å­˜ï¼ŒæŠŠå¤–å­˜ä¸­æŸäº›å·²å…·å¤‡è¿è¡Œæ¡ä»¶çš„è¿›ç¨‹æ¢å…¥å†…å­˜ï¼ˆè¿›ç¨‹åœ¨å†…å­˜ä¸ç£ç›˜é—´åŠ¨æ€è°ƒåº¦ï¼‰ æš‚æ—¶æ¢å‡ºå¤–å­˜ç­‰å¾…çš„è¿›ç¨‹çŠ¶æ€ä¸ºæŒ‚èµ·çŠ¶æ€ï¼ˆæŒ‚èµ·æ€ï¼Œ suspendï¼‰ æŒ‚èµ·æ€åˆå¯ä»¥è¿›ä¸€æ­¥ç»†åˆ†ä¸ºå°±ç»ªæŒ‚èµ·ã€é˜»å¡æŒ‚èµ·ä¸¤ç§çŠ¶æ€ è¦†ç›–ä¸äº¤æ¢çš„åŒºåˆ« è¦†ç›–æ˜¯åœ¨åŒä¸€ä¸ªç¨‹åºæˆ–è¿›ç¨‹ä¸­çš„ äº¤æ¢æ˜¯åœ¨ä¸åŒè¿›ç¨‹ï¼ˆæˆ–ä½œä¸šï¼‰ä¹‹é—´çš„ è™šæ‹Ÿå­˜å‚¨æŠ€æœ¯ åŸºäºå±€éƒ¨æ€§åŸç†ï¼Œåœ¨ç¨‹åºè£…å…¥æ—¶ï¼Œå¯ä»¥å°†ç¨‹åºä¸­å¾ˆå¿«ä¼šç”¨åˆ°çš„éƒ¨åˆ†è£…å…¥å†…å­˜ï¼Œæš‚æ—¶ç”¨ä¸åˆ°çš„éƒ¨åˆ†ç•™åœ¨å¤–å­˜ï¼Œå°±å¯ä»¥è®©ç¨‹åºå¼€å§‹æ‰§è¡Œåœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“æ‰€è®¿é—®çš„ä¿¡æ¯ä¸åœ¨å†…å­˜æ—¶ï¼Œç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å°†æ‰€éœ€ä¿¡æ¯ä»å¤–å­˜è°ƒå…¥å†…å­˜ï¼Œç„¶åç»§ç»­æ‰§è¡Œç¨‹åºã€‚ è‹¥å†…å­˜ç©ºé—´ä¸å¤Ÿï¼Œç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å°†å†…å­˜ä¸­æš‚æ—¶ç”¨ä¸åˆ°çš„ä¿¡æ¯æ¢å‡ºåˆ°å¤–å­˜åœ¨æ“ä½œç³»ç»Ÿçš„ç®¡ç†ä¸‹ï¼Œåœ¨ç”¨æˆ·çœ‹æ¥ä¼¼ä¹æœ‰ä¸€ä¸ªæ¯”å®é™…å†…å­˜å¤§å¾—å¤šçš„å†…å­˜ï¼Œè¿™å°±æ˜¯è™šæ‹Ÿå†…å­˜ ä¼ ç»Ÿå­˜å‚¨ç®¡ç†æ–¹å¼çš„ç‰¹å¾ã€ç¼ºç‚¹ï¼š ä¸€æ¬¡æ€§ï¼šä½œä¸šå¿…é¡»ä¸€æ¬¡æ€§å…¨éƒ¨è£…å…¥å†…å­˜åæ‰èƒ½å¼€å§‹è¿è¡Œã€‚è¿™ä¼šé€ æˆä¸¤ä¸ªé—®é¢˜ï¼šâ‘ ä½œä¸šå¾ˆå¤§æ—¶ï¼Œä¸èƒ½å…¨éƒ¨è£…å…¥å†…å­˜ï¼Œå¯¼è‡´å¤§ä½œä¸šæ— æ³•è¿è¡Œï¼›â‘¡å½“å¤§é‡ä½œä¸šè¦æ±‚è¿è¡Œæ—¶ï¼Œç”±äºå†…å­˜æ— æ³•å®¹çº³æ‰€æœ‰ä½œä¸šï¼Œå› æ­¤åªæœ‰å°‘é‡ä½œä¸šèƒ½è¿è¡Œï¼Œå¯¼è‡´å¤šé“ç¨‹åºå¹¶å‘åº¦ä¸‹é™ é©»ç•™æ€§ï¼šä¸€æ—¦ä½œä¸šè¢«è£…å…¥å†…å­˜ï¼Œå°±ä¼šä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œç›´è‡³ä½œä¸šè¿è¡Œç»“æŸã€‚äº‹å®ä¸Šï¼Œåœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œåªéœ€è¦è®¿é—®ä½œä¸šçš„ä¸€å°éƒ¨åˆ†æ•°æ®å³å¯æ­£å¸¸è¿è¡Œï¼Œè¿™å°±å¯¼è‡´äº†å†…å­˜ä¸­ä¼šé©»ç•™å¤§é‡çš„ã€æš‚æ—¶ç”¨ä¸åˆ°çš„æ•°æ®ï¼Œæµªè´¹äº†å®è´µçš„å†…å­˜èµ„æºã€‚ å¤šæ¬¡æ€§ï¼šæ— éœ€åœ¨ä½œä¸šè¿è¡Œæ—¶ä¸€æ¬¡æ€§å…¨éƒ¨è£…å…¥å†…å­˜ï¼Œè€Œæ˜¯å…è®¸è¢«åˆ†æˆå¤šæ¬¡è°ƒå…¥å†…å­˜ã€‚ å¯¹æ¢æ€§ï¼šåœ¨ä½œä¸šè¿è¡Œæ—¶æ— éœ€ä¸€ç›´å¸¸é©»å†…å­˜ï¼Œè€Œæ˜¯å…è®¸åœ¨ä½œä¸šè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå°†ä½œä¸šæ¢å…¥ã€æ¢å‡ºã€‚ è™šæ‹Ÿæ€§ï¼šä»é€»è¾‘ä¸Šæ‰©å……äº†å†…å­˜çš„å®¹é‡ï¼Œä½¿ç”¨æˆ·çœ‹åˆ°çš„å†…å­˜å®¹é‡ï¼Œè¿œå¤§äºå®é™…çš„å®¹é‡ã€‚ è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç† è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç† è¯·æ±‚æ®µé¡µå¼å­˜å‚¨ç®¡ç† å†…å­˜ç©ºé—´çš„åˆ†é…ä¸å›æ”¶ï¼š è¿ç»­åˆ†é…ç®¡ç†æ–¹å¼ï¼šä¸ºç”¨æˆ·è¿›ç¨‹åˆ†é…çš„å¿…é¡»æ˜¯ä¸€ä¸ªè¿ç»­çš„å†…å­˜ç©ºé—´ å•ä¸€è¿ç»­åˆ†é…ï¼šåœ¨å•ä¸€è¿ç»­åˆ†é…æ–¹å¼ä¸­ï¼Œå†…å­˜è¢«åˆ†ä¸ºç³»ç»ŸåŒºå’Œç”¨æˆ·åŒºã€‚ç³»ç»ŸåŒºé€šå¸¸ä½äºå†…å­˜çš„ä½åœ°å€éƒ¨åˆ†ï¼Œç”¨äºå­˜æ”¾æ“ä½œç³»ç»Ÿç›¸å…³æ•°æ®ï¼›ç”¨æˆ·åŒºç”¨äºå­˜æ”¾ç”¨æˆ·è¿›ç¨‹ç›¸å…³æ•°æ®ã€‚å†…å­˜ä¸­åªèƒ½æœ‰ä¸€é“ç”¨æˆ·ç¨‹åºï¼Œç”¨æˆ·ç¨‹åºç‹¬å æ•´ä¸ªç”¨æˆ·åŒºç©ºé—´ã€‚ ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼›æ— å¤–éƒ¨ç¢ç‰‡ï¼›å¯ä»¥é‡‡ç”¨è¦†ç›–æŠ€æœ¯æ‰©å……å†…å­˜ï¼›ä¸ä¸€å®šéœ€è¦é‡‡å–å†…å­˜ä¿æŠ¤ï¼ˆegï¼šæ—©æœŸçš„PCæ“ä¾¬ç³»ç»Ÿ MS-DOSï¼‰ã€‚ ç¼ºç‚¹ï¼šåªèƒ½ç”¨äºå•ç”¨æˆ·ã€å•ä»»åŠ¡çš„æ“ä½œç³»ç»Ÿä¸­ï¼›æœ‰å†…éƒ¨ç¢ç‰‡ï¼›å­˜å‚¨å™¨åˆ©ç”¨ç‡æä½ã€‚ å›ºå®šåˆ†åŒºåˆ†é…ï¼šå°†æ•´ä¸ªç”¨æˆ·ç©ºé—´åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå›ºå®šå¤§å°çš„åˆ†åŒºï¼Œåœ¨æ¯ä¸ªåˆ†åŒºä¸­åªè£…å…¥ä¸€é“ä½œä¸šï¼Œè¿™æ ·å°±å½¢æˆäº†æœ€æ—©çš„ã€æœ€ç®€å•çš„ä¸€ç§å¯è¿è¡Œå¤šé“ç¨‹åºçš„å†…å­˜ç®¡ç†æ–¹å¼ã€‚ ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œæ— å¤–éƒ¨ç¢ç‰‡ã€‚ ç¼ºç‚¹ï¼ša.å½“ç”¨æˆ·ç¨‹åºå¤ªå¤§æ—¶ï¼Œå¯èƒ½æ‰€æœ‰çš„åˆ†åŒºéƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œæ­¤æ—¶ä¸å¾—ä¸é‡‡ç”¨è¦†ç›–æŠ€æœ¯æ¥è§£å†³ï¼Œä½†è¿™åˆä¼šé™ä½æ€§èƒ½ï¼›b.ä¼šäº§ç”Ÿå†…éƒ¨ç¢ç‰‡ï¼Œå†…å­˜åˆ©ç”¨ç‡ä½ã€‚ åŠ¨æ€åˆ†åŒºåˆ†é…ï¼šåŠ¨æ€åˆ†åŒºåˆ†é…åˆç§°ä¸ºå¯å˜åˆ†åŒºåˆ†é…ã€‚è¿™ç§åˆ†é…æ–¹å¼ä¸ä¼šé¢„å…ˆåˆ’åˆ†å†…å­˜åˆ†åŒºï¼Œè€Œæ˜¯åœ¨è¿›ç¨‹è£…å…¥å†…å­˜æ—¶æ ¹æ®è¿›ç¨‹çš„å¤§å°åŠ¨æ€åœ°å»ºç«‹åˆ†åŒºï¼Œå¹¶ä½¿åˆ†åŒºçš„å¤§å°æ­£å¥½é€‚åˆè¿›ç¨‹çš„éœ€è¦ã€‚å› æ­¤ç³»ç»Ÿåˆ†åŒºçš„å¤§å°å’Œæ•°ç›®æ˜¯å¯å˜çš„ã€‚ï¼ˆegï¼šå‡è®¾æŸè®¡ç®—æœºå†…å­˜å¤§å°ä¸º64MBï¼Œç³»ç»ŸåŒº8MBï¼Œç”¨æˆ·åŒºå…±56MB.ï¼‰ ç©ºé—²åˆ†åŒºé“¾ï¼šæ¯ä¸ªåˆ†åŒºçš„èµ·å§‹éƒ¨åˆ†å’Œæœ«å°¾éƒ¨åˆ†åˆ†åˆ«è®¾ç½®å‰å‘æŒ‡é’ˆå’Œåå‘æŒ‡é’ˆã€‚èµ·å§‹éƒ¨åˆ†å¤„è¿˜å¯è®°å½•åˆ†åŒºå¤§å°ç­‰ä¿¡æ¯ ç©ºé—²åˆ†åŒºè¡¨ï¼šæ¯ä¸ªç©ºé—²åˆ†åŒºå¯¹åº”ä¸ªè¡¨é¡¹ã€‚è¡¨é¡¹ä¸­åŒ…å«åˆ†åŒºå·åˆ†åŒºå¤§å°ã€åˆ†åŒºèµ·å§‹åœ°å€ç­‰ä¿¡æ¯ åŠ¨æ€åˆ†åŒºåˆ†é…æ²¡æœ‰å†…éƒ¨ç¢ç‰‡ï¼Œä½†æ˜¯æœ‰å¤–éƒ¨ç¢ç‰‡ã€‚å†…éƒ¨ç¢ç‰‡ï¼Œåˆ†é…ç»™æŸè¿›ç¨‹çš„å†…å­˜åŒºåŸŸä¸­ï¼Œå¦‚æœæœ‰äº›éƒ¨åˆ†æ²¡æœ‰ç”¨ä¸Šå¤–éƒ¨ç¢ç‰‡ï¼Œæ˜¯æŒ‡å†…å­˜ä¸­çš„æŸäº›ç©ºé—²åˆ†åŒºç”±äºå¤ªå°è€Œéš¾ä»¥åˆ©ç”¨ã€‚ éè¿ç»­åˆ†é…ç®¡ç†æ–¹å¼ï¼ˆç¦»æ•£åˆ†é…æ–¹å¼ï¼‰ï¼šä¸ºç”¨æˆ·è¿›ç¨‹åˆ†é…çš„å¯ä»¥æ˜¯ä¸€äº›åˆ†æ•£çš„å†…å­˜ç©ºé—´ã€‚ åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç† æŠŠâ€œå›ºå®šåˆ†åŒºåˆ†é…â€æ”¹é€ ä¸ºâ€œéè¿ç»­åˆ†é…ç‰ˆæœ¬â€ï¼Œå°†å†…å­˜ç©ºé—´åˆ†ä¸ºä¸€ä¸ªä¸ªå¤§å°ç›¸ç­‰çš„åˆ†åŒºï¼ˆæ¯”å¦‚ï¼šæ¯ä¸ªåˆ†åŒº4KBï¼‰ï¼Œæ¯ä¸ªåˆ†åŒºå°±æ˜¯ä¸€ä¸ªâ€œé¡µæ¡†â€ï¼Œæˆ–ç§°â€œé¡µå¸§â€ã€â€œå†…å­˜å—â€ã€â€œç‰©ç†å—â€ã€‚æ¯ä¸ªé¡µæ¡†æœ‰ä¸€ä¸ªç¼–å·ï¼Œå³â€œé¡µæ¡†å·â€ï¼ˆæˆ–è€…â€œå†…å­˜å—å·â€ã€â€œé¡µå¸§å·â€ã€â€œç‰©ç†å—å·â€ï¼‰é¡µæ¡†å·ä»0å¼€å§‹ã€‚ å°†ç”¨æˆ·è¿›ç¨‹çš„åœ°å€ç©ºé—´ä¹Ÿåˆ†ä¸ºä¸é¡µæ¡†å¤§å°ç›¸ç­‰çš„ä¸€ä¸ªä¸ªåŒºåŸŸï¼Œç§°ä¸ºâ€œé¡µâ€æˆ–â€œé¡µé¢â€ã€‚æ¯ä¸ªé¡µé¢ä¹Ÿæœ‰ä¸€ä¸ªç¼–å·ï¼Œå³â€œé¡µå·é¡µå·ä¹Ÿæ˜¯ä»0å¼€å§‹ã€‚ï¼ˆæ³¨ï¼šè¿›ç¨‹çš„æœ€åä¸€ä¸ªé¡µé¢å¯èƒ½æ²¡æœ‰ä¸€ä¸ªé¡µæ¡†é‚£ä¹ˆå¤§ã€‚å› æ­¤ï¼Œé¡µæ¡†ä¸èƒ½å¤ªå¤§ï¼Œå¦åˆ™å¯èƒ½äº§ç”Ÿè¿‡å¤§çš„å†…éƒ¨ç¢ç‰‡ï¼‰ æ“ä½œç³»ç»Ÿä»¥é¡µæ¡†ä¸ºå•ä½ä¸ºå„ä¸ªè¿›ç¨‹åˆ†é…å†…å­˜ç©ºé—´ã€‚è¿›ç¨‹çš„æ¯ä¸ªé¡µé¢åˆ†åˆ«æ”¾å…¥ä¸€ä¸ªé¡µæ¡†ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿›ç¨‹çš„é¡µé¢ä¸å†…å­˜çš„é¡µæ¡†æœ‰ä¸€ä¸€å¯¹åº”çš„å…³ç³» ä¸ºäº†æ–¹ä¾¿è®¡ç®—é¡µå·ã€é¡µå†…åç§»é‡ï¼Œé¡µé¢å¤§å°ä¸€èˆ¬è®¾ä¸º2çš„æ•´æ•°å¹‚ å¦‚æœæœ‰Kä½è¡¨ç¤ºâ€œé¡µå†…åç§»é‡â€ï¼Œåˆ™è¯´æ˜è¯¥ç³»ç»Ÿä¸­ä¸€ä¸ªé¡µé¢çš„å¤§å°æ˜¯2Kä¸ªå†…å­˜å•å…ƒ å¦‚æœæœ‰Mä½è¡¨ç¤ºâ€œé¡µå·â€ï¼Œåˆ™è¯´æ˜åœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹æœ€å¤šå…è®¸æœ‰2Mä¸ªé¡µé¢ ä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€å¼ é¡µè¡¨ â–²è¿›ç¨‹çš„æ¯ä¸€é¡µå¯¹åº”ä¸€ä¸ªé¡µè¡¨é¡¹ï¼Œæ¯ä¸ªé¡µè¡¨é¡¹ç”±â€œé¡µå·â€å’Œâ€œå—å·â€ç»„æˆ é¡µè¡¨è®°å½•è¿›ç¨‹é¡µé¢å’Œå®é™…å­˜æ”¾çš„å†…å­˜å—ä¹‹é—´çš„å¯¹åº”å…³ç³» ä¼˜ç‚¹ï¼šå†…å­˜ç©ºé—´åˆ©ç”¨ç‡é«˜ï¼Œä¸ä¼šäº§ç”Ÿå¤–éƒ¨ç¢ç‰‡ï¼Œåªä¼šæœ‰å°‘é‡çš„é¡µå†…ç¢ç‰‡ ç¼ºç‚¹ï¼šä¸æ–¹ä¾¿æŒ‰ç…§é€»è¾‘æ¨¡å—å®ç°ä¿¡æ¯çš„å…±äº«å’Œä¿æŠ¤ å•çº§åˆ—è¡¨ï¼š é—®é¢˜ä¸€ï¼šé¡µè¡¨å¿…é¡»è¿ç»­å­˜æ”¾ï¼Œå› æ­¤å½“é¡µè¡¨å¾ˆå¤§æ—¶ï¼Œéœ€è¦å ç”¨å¾ˆå¤šè¿ç»­çš„é¡µæ¡†ã€‚ å¤šçº§ï¼Œé¡¶çº§é¡µè¡¨ é—®é¢˜äºŒï¼šæ²¡æœ‰å¿…è¦è®©æ•´ä¸ªé¡µè¡¨å¸¸é©»å†…å­˜ï¼Œå› ä¸ºè¿›ç¨‹åœ¨ä¸€æ®µæ—¶é—´å†…å¯èƒ½åªéœ€è¦è®¿é—®æŸå‡ ä¸ªç‰¹å®šçš„é¡µé¢ã€‚ å¯ä»¥åœ¨éœ€è¦è®¿é—®é¡µé¢æ—¶æ‰æŠŠé¡µé¢è°ƒå…¥å†…å­˜ï¼ˆè™šæ‹Ÿå­˜å‚¨æŠ€æœ¯ï¼‰ã€‚å¯ä»¥åœ¨é¡µè¡¨é¡¹ä¸­å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ï¼Œç”¨äºè¡¨ç¤ºè¯¥é¡µé¢æ˜¯å¦å·²ç»è°ƒå…¥å†…å­˜ è‹¥æƒ³è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜ä¸­ï¼Œåˆ™äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼ˆå†…ä¸­æ–­ï¼‰ï¼Œç„¶åå°†ç›®æ ‡é¡µé¢ä»å¤–å­˜è°ƒå…¥å†…å­˜ åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç† ä¼˜ç‚¹ï¼šå¾ˆæ–¹ä¾¿æŒ‰ç…§é€»è¾‘æ¨¡å—å®ç°ä¿¡æ¯çš„å…±äº«å’Œä¿æŠ¤ ç¼ºç‚¹ï¼šå¦‚æœæ®µé•¿è¿‡å¤§ï¼Œä¸ºå…¶åˆ†é…å¾ˆå¤§çš„è¿ç»­ç©ºé—´ä¼šå¾ˆä¸æ–¹ä¾¿ã€‚å¦å¤–ï¼Œæ®µå¼ç®¡ç†ä¼šäº§ç”Ÿå¤–éƒ¨ç¢ç‰‡ æ®µå·çš„ä½æ•°å†³å®šäº†æ¯ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥åˆ†å‡ ä¸ªæ®µ æ®µå†…åœ°å€ä½æ•°å†³å®šäº†æ¯ä¸ªæ®µçš„æœ€å¤§é•¿åº¦æ˜¯å¤šå°‘ å¯¹æ¯”ï¼š é¡µæ˜¯ä¿¡æ¯çš„ç‰©ç†å•ä½ã€‚åˆ†é¡µçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å®ç°ç¦»æ•£åˆ†é…ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚åˆ†é¡µä»…ä»…æ˜¯ç³»ç»Ÿç®¡ç†ä¸Šçš„éœ€è¦ï¼Œå®Œå…¨æ˜¯ç³»ç»Ÿè¡Œä¸ºï¼Œå¯¹ç”¨æˆ·æ˜¯ä¸å¯è§çš„ã€‚ æ®µæ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ã€‚åˆ†æ®µçš„ä¸»è¦ç›®çš„æ˜¯æ›´å¥½åœ°æ»¡è¶³ç”¨æˆ·éœ€æ±‚ã€‚ä¸€ä¸ªæ®µé€šå¸¸åŒ…å«ç€ä¸€ç»„å±äºä¸€ä¸ªé€»è¾‘æ¨¡å—çš„ä¿¡æ¯ã€‚åˆ†æ®µå¯¹ç”¨æˆ·æ˜¯å¯è§çš„ï¼Œç”¨æˆ·ç¼–ç¨‹æ—¶éœ€è¦æ˜¾å¼åœ°ç»™å‡ºæ®µå é¡µçš„å¤§å°å›ºå®šä¸”ç”±ç³»ç»Ÿå†³å®šã€‚æ®µçš„é•¿åº¦å´ä¸å›ºå®šï¼Œå†³å®šäºç”¨æˆ·ç¼–å†™çš„ç¨‹åºã€‚ åˆ†é¡µçš„ç”¨æˆ·è¿›ç¨‹åœ°å€ç©ºé—´æ˜¯ä¸€ç»´çš„ï¼Œç¨‹åºå‘˜åªéœ€ç»™å‡ºä¸€ä¸ªè®°å¿†ç¬¦å³å¯è¡¨ç¤ºä¸€ä¸ªåœ°å€ã€‚ åˆ†æ®µçš„ç”¨æˆ·è¿›ç¨‹åœ°å€ç©ºé—´æ˜¯äºŒç»´çš„ï¼Œç¨‹åºå‘˜åœ¨æ ‡è¯†ä¸€ä¸ªåœ°å€æ—¶ï¼Œæ—¢è¦ç»™å‡ºæ®µåï¼Œä¹Ÿè¦ç»™å‡ºæ®µå†…åœ°å€ åˆ†æ®µæ¯”åˆ†é¡µæ›´å®¹æ˜“å®ç°ä¿¡æ¯çš„å…±äº«å’Œä¿æŠ¤ã€‚ æ®µé¡µå¼å­˜å‚¨ç®¡ç† å±€éƒ¨æ€§åŸç† æ—¶é—´å±€éƒ¨æ€§ ç©ºé—´å±€éƒ¨æ€§ é«˜é€Ÿç¼“å­˜æŠ€æœ¯ é¡µé¢ç½®æ¢ç®—æ³•ï¼š OPT FIFO LRU CLOCK ï¼ˆNRUï¼‰ æ”¹è¿›å‹ CLOCKï¼ˆæ”¹è¿›å‹NRUï¼‰ æ–‡ä»¶ç³»ç»Ÿ æ— ç»“æ„æ–‡ä»¶ï¼ˆæµå¼æ–‡ä»¶ï¼‰ æœ‰ç»“æ„æ–‡ä»¶ï¼ˆè®°å½•å¼æ–‡ä»¶ï¼‰ æ¯æ¡è®°å½•ç”±å¤šä¸ªæ•°æ®é¡¹ç»„æˆï¼Œè€Œæ¯æ¡è®°å½•çš„å•ä¸ªæ•°æ®é¡¹éƒ½é€šè¿‡å…³é”®å­—è¡¨è¾¾å…·ä½“å«ä¹‰ï¼Œå¦‚åå­—ã€‚ é€»è¾‘ç»“æ„ï¼š é¡ºåºæ–‡ä»¶ï¼š é“¾å¼å­˜å‚¨ï¼ˆä¸å¯éšæœºè¯»å–ï¼‰ã€é¡ºåºå­˜å‚¨ï¼ˆå¯å˜é•¿è®°å½•ä¸å¯éšæœºè¯»å–ã€å®šé•¿è®°å½•å¯ä»¥ï¼‰ ç´¢å¼•æ–‡ä»¶ ç´¢å¼•é¡ºåºæ–‡ä»¶ æ³¨ï¼š é€»è¾‘ç»“æ„ï¼šå°±æ˜¯æŒ‡åœ¨ç”¨æˆ·çœ‹æ¥ï¼Œæ–‡ä»¶å†…éƒ¨çš„æ•°æ®åº”è¯¥æ˜¯å¦‚ä½•ç»„ç»‡èµ·æ¥çš„ã€‚ ç‰©ç†ç»“æ„ï¼šæ˜¯åœ¨æ“ä½œç³»ç»Ÿçœ‹æ¥ï¼Œæ–‡ä»¶çš„æ•°æ®æ˜¯å¦‚ä½•å­˜æ”¾åœ¨å¤–å­˜ä¸­çš„ã€‚ æ³¨ï¼šä¸€èˆ¬æ¥è¯´ï¼Œè€ƒè¯•é¢˜ç›®ä¸­æ‰€è¯´çš„é¡ºåºæ–‡ä»¶â€æŒ‡çš„æ˜¯ç‰©ç†ä¸Šé¡ºåºå­˜å‚¨çš„é¡ºåºæ–‡ä»¶ã€‚ä¹‹åçš„è®²è§£ä¸­æåˆ°çš„é¡ºåºæ–‡ä»¶ä¹Ÿé»˜è®¤å¦‚æ­¤ã€‚ æ–‡ä»¶ç›®å½• æ–‡ä»¶æ§åˆ¶å—(FCB)ï¼š æ–‡ä»¶åã€ç±»å‹ã€è¯»å†™æƒé™ã€...ã€ç‰©ç†ä½ç½®ï¼ŒåŒ…å«é€»è¾‘ç»“æ„ã€ç‰©ç†ç»“æ„ï¼Œå­˜å–æ§åˆ¶ä¿¡æ¯ã€ä½¿ç”¨ä¿¡æ¯ ç›®å½•ç»“æ„ å•çº§ç›®å½•ç»“æ„ ä¸¤çº§ç›®å½•ç»“æ„ï¼šMFDä¸»æ–‡ä»¶ç›®å½•ã€ç”¨æˆ·æ–‡ä»¶ç›®å½•UFD å¤šçº§ç›®å½•ç»“æ„ï¼ˆæ ‘å½¢ç›®å½•ç»“æ„ï¼‰ï¼š ä¸åŒç›®å½•ä¸‹çš„æ–‡ä»¶å¯ä»¥é‡åï¼Œå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œåˆ†å…³ä¸æ–¹ä¾¿æ–‡ä»¶å…±äº« ç³»ç»Ÿæ ¹æ®â€œæ–‡ä»¶è·¯å¾„&quot;æ‰¾åˆ°ç›®æ ‡æ–‡ä»¶ ä»æ ¹ç›®å½•å‡ºå‘çš„è·¯å¾„æ˜¯â€œç»å¯¹è·¯å¾„ï¼ˆâ€œç…§ç‰‡/201508/è‡ªæ‹jpgâ€ï¼‰ ä»å½“å‰ç›®å½•å‡ºå‘çš„è·¯å¾„æ˜¯ç›¸å¯¹è·¯å¾„ï¼ˆç…§ç‰‡12015-08/è‡ªæ‹jpg&quot; ç›¸å¯¹è·¯å¾„å‡å°‘ç£ç›˜IOï¼šæ˜¯å› ä¸ºå†…å­˜ä¸­å­˜å‚¨äº†å½“å‰ç›®å½•è¡¨ï¼Œå› æ­¤å½“ç”¨æˆ·æƒ³è®¿é—®å½“å‰ç›®å½•çš„æŸä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥ä»å†…å­˜ä¸­ç›´æ¥é€šè¿‡ç›¸å¯¹è·¯å¾„æ¥æ‰¾ï¼Œè‡ªç„¶æœç´¢æ•ˆç‡æ›´é«˜äº› æ ‘å½¢ç›®å½•ç»“æ„å¯ä»¥æ–¹ä¾¿çš„å¯¹æ–‡ä»¶è¿›è¡Œåˆ†ç±»ï¼Œå±‚æ¬¡ç»“æ„æ¸…æ™°ï¼›ä½†æ˜¯ä¸ä¾¿äºå®ç°æ–‡ä»¶çš„å…±äº«==&gt;æ— ç¯å›¾ç›®å½•ç»“æ„ï¼Œåœ¨æ ‘å½¢ç›®å½•çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æŒ‡å‘åŒä¸€èŠ‚ç‚¹çš„æœ‰å‘è¾¹ï¼Œä½¿å¾—æ•´ä¸ªç›®å½•æˆäº†æœ‰å‘æ— ç¯å›¾ æ— ç¯å›¾ç›®å½•ç»“æ„â€”â€”æ–¹ä¾¿æ–‡ä»¶å…±äº« ç´¢å¼•ç»“ç‚¹ï¼ˆå¯¹æ–‡ä»¶æ§åˆ¶å—çš„ä¼˜åŒ–ï¼‰ å°†FCBä¸­é™¤äº†æ–‡ä»¶åä»¥å¤–çš„ä¿¡æ¯æ”¾åœ¨ç´¢å¼•èŠ‚ç‚¹ä¸Šï¼Œè€Œå–è€Œä»£ä¹‹çš„å°†å…¶å†…å®¹æ¢æˆ2Bçš„ç´¢å¼•èŠ‚ç‚¹åœ°å€ï¼Œä»è€Œå¤§å¤§å‡å°äº†FCBå¤§å°ï¼Œä»è€Œç›¸åŒçš„è®°å½•é¡¹èƒ½å¤Ÿä½¿ç”¨æ›´å°‘çš„ç£ç›˜å—ï¼Œä»è€ŒåŠ å¿«äº†ç£ç›˜æœç´¢çš„é€Ÿåº¦ ç›®å½•æ–‡ä»¶ä¸­çš„ä¸€æ¡è®°å½•å°±æ˜¯ä¸€ä¸ªFCBï¼ŒFCBçš„æœ‰åºé›†åˆç§°ä¸ºâ€œæ–‡ä»¶ç›®å½•â€ï¼Œä¸€ä¸ªFCBå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ç›®å½•é¡¹ã€‚ æ–‡ä»¶ç‰©ç†ç»“æ„â€”â€”ç®¡ç†éç©ºé—²ç£ç›˜å— æ–‡ä»¶æ•°æ®æ€æ ·å­˜æ”¾åœ¨å¤–å­˜ä¸­ï¼Ÿ ç±»ä¼¼äºå†…å­˜åˆ†é¡µï¼Œç£ç›˜ä¸­çš„å­˜å‚¨å•å…ƒæ˜¯â€œå—orç£ç›˜å—orç‰©ç†å—â€ï¼Œå†…å­˜ä¸ç£ç›˜ä¹‹é—´æ•°æ®äº¤äº’æ˜¯ä»¥å—ä¸ºå•ä½çš„ã€‚ æ–‡ä»¶çš„é€»è¾‘åœ°å€ç©ºé—´ä¹Ÿè¢«åˆ†æˆäº†ä¸€ä¸ªä¸ªæ–‡ä»¶â€œå—â€==&gt; æ–‡ä»¶çš„é€»è¾‘åœ°å€å½¢å¼ï¼š(é€»è¾‘å—å·, å—å†…åœ°å€) ç”¨æˆ·é€šè¿‡é€»è¾‘åœ°å€æ¥æ“ä½œè‡ªå·±çš„æ–‡ä»¶ï¼Œæ“ä½œç³»ç»Ÿè´Ÿè´£ä»é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„ è¿ç»­åˆ†é… è¿ç»­åˆ†é…æ–¹å¼è¦æ±‚æ¯ä¸ªæ–‡ä»¶åœ¨ç£ç›˜ä¸Šå æœ‰ä¸€ç»„è¿ç»­çš„å—ã€‚ ä¼˜ç‚¹ï¼šæ”¯æŒé¡ºåºè®¿é—®å’Œç›´æ¥è®¿é—®ï¼ˆå³éšæœºè®¿é—®ï¼‰ï¼›è¿ç»­åˆ†é…çš„æ–‡ä»¶åœ¨é¡ºåºè®¿é—®æ—¶é€Ÿåº¦æœ€å¿« ç¼ºç‚¹ï¼šä¸æ–¹ä¾¿æ–‡ä»¶æ‹“å±•ï¼›å­˜å‚¨ç©ºé—´åˆ©ç”¨ç‡ä½ï¼Œä¼šäº§ç”Ÿç£ç›˜ç¢ç‰‡ é“¾æ¥åˆ†é… éšå¼é“¾æ¥ï¼ˆé¢˜ç›®é»˜è®¤æŒ‡çš„æ˜¯éšå¼é“¾æ¥ï¼‰ éšå¼é“¾æ¥â€”â€”é™¤æ–‡ä»¶çš„æœ€åä¸€ä¸ªç›˜å—ä¹‹å¤–ï¼Œæ¯ä¸ªç›˜å—ä¸­éƒ½å­˜æœ‰æŒ‡å‘ä¸‹ä¸€ä¸ªç›˜å—çš„æŒ‡é’ˆã€‚æ–‡ä»¶ç›®å½•åŒ…æ‹¬æ–‡ä»¶ç¬¬ä¸€å—çš„æŒ‡é’ˆå’Œæœ€åä¸€å—çš„æŒ‡é’ˆã€‚ ä¼˜ç‚¹ï¼šå¾ˆæ–¹ä¾¿æ–‡ä»¶æ‹“å±•ï¼Œä¸ä¼šæœ‰ç¢ç‰‡é—®é¢˜ï¼Œå¤–å­˜åˆ©ç”¨ç‡é«˜ã€‚ ç¼ºç‚¹ï¼šåªæ”¯æŒé¡ºåºè®¿é—®ï¼Œä¸æ”¯æŒéšæœºè®¿é—®ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä½ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªç›˜å—çš„æŒ‡é’ˆä¹Ÿéœ€è¦è€—è´¹å°‘é‡çš„å­˜å‚¨ç©ºé—´ã€‚ æ˜¾å¼é“¾æ¥ æ˜¾å¼é“¾æ¥â€”â€”æŠŠç”¨äºé“¾æ¥æ–‡ä»¶å„ç‰©ç†å—çš„æŒ‡é’ˆæ˜¾å¼åœ°å­˜æ”¾åœ¨ä¸€å¼ è¡¨ä¸­ï¼Œå³æ–‡ä»¶åˆ†é…è¡¨ï¼ˆFATï¼ŒFile Allocation Tableï¼‰ã€‚ä¸€ä¸ªç£ç›˜åªä¼šå»ºç«‹ä¸€å¼ æ–‡ä»¶åˆ†é…è¡¨ã€‚å¼€æœºæ—¶æ–‡ä»¶åˆ†é…è¡¨æ”¾å…¥å†…å­˜ï¼Œå¹¶å¸¸é©»å†…å­˜ ä¼˜ç‚¹ï¼šå¾ˆæ–¹ä¾¿æ–‡ä»¶æ‹“å±•ï¼Œä¸ä¼šæœ‰ç¢ç‰‡é—®é¢˜ï¼Œå¤–å­˜åˆ©ç”¨ç‡é«˜ï¼Œå¹¶ä¸”æ”¯æŒéšæœºè®¿é—®ã€‚ç›¸æ¯”äºéšå¼é“¾æ¥æ¥è¯´ï¼Œåœ°å€è½¬æ¢æ—¶ä¸éœ€è¦è®¿é—®ç£ç›˜ï¼Œå› æ­¤æ–‡ä»¶çš„è®¿é—®æ•ˆç‡æ›´é«˜ã€‚ ç¼ºç‚¹ï¼šæ–‡ä»¶åˆ†é…è¡¨çš„éœ€è¦å ç”¨ä¸€å®šçš„å­˜å‚¨ç©ºé—´ã€‚ ç´¢å¼•åˆ†é… ç´¢å¼•åˆ†é…å…è®¸æ–‡ä»¶ç¦»æ•£åœ°åˆ†é…åœ¨å„ä¸ªç£ç›˜å—ä¸­ï¼Œç³»ç»Ÿä¼šä¸ºæ¯ä¸ªæ–‡ä»¶å»ºç«‹ä¸€å¼ ç´¢å¼•è¡¨ï¼Œç´¢å¼•è¡¨ä¸­æ–‡ ä»¶çš„å„ä¸ªé€»è¾‘å—å¯¹åº”çš„ç‰©ç†å—ï¼ˆç´¢å¼•è¡¨çš„åŠŸèƒ½ç±»ä¼¼äºå†…å­˜ç®¡ç†ä¸­çš„é¡µè¡¨ä¸€ä¸€å»ºç«‹é€»è¾‘é¡µé¢åˆ°ç‰©ç†é¡µä¹‹é—´ çš„æ˜ å°„å…³ç³»ï¼‰ã€‚ç´¢å¼•è¡¨å­˜æ”¾çš„ç£ç›˜å—ç§°ä¸ºç´¢å¼•å—ã€‚æ–‡ä»¶æ•°æ®å­˜æ”¾çš„ç£ç›˜å—ç§°ä¸ºæ•°æ®å—ã€‚ å¯è§ï¼Œç´¢å¼•åˆ†é…æ–¹å¼å¯ä»¥æ”¯æŒéšæœºè®¿é—®æ–‡ä»¶æ‹“å±•ä¹Ÿå¾ˆå®¹æ˜“å®ç°ï¼ˆåªéœ€è¦ç»™æ–‡ä»¶åˆ†é…ä¸ªç©ºé—²å—ï¼Œå¹¶å¢åŠ ä¸€ä¸ªç´¢å¼•è¡¨é¡¹å³å¯ï¼‰ä½†æ˜¯ç´¢å¼•è¡¨éœ€è¦å ç”¨ä¸€å®šçš„å­˜å‚¨ç©ºé—´ Q:è¿™ç§å­˜å‚¨æ–¹å¼ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºä¸€ä¸ªç´¢å¼•é¡¹å 4Bï¼Œä¸€ä¸ªç£ç›˜å—å¤§å°ä¸º1KBï¼Œé‚£ä¹ˆæœ€å¤šå­˜å‚¨256(1024/4)ä¸ªç´¢å¼•é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´å­˜å‚¨æ–‡ä»¶æœ€å¤§ä¸º256*1KB=256KBã€‚ä½†æ˜¯å¦‚æœä¸€ä¸ªæ–‡ä»¶å¤§å°è¶…è¿‡äº†256å—ï¼Œä¸€ä¸ªç£ç›˜å—è£…ä¸ä¸‹æ‰€æœ‰çš„ç´¢å¼•è¡¨è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ é“¾æ¥æ–¹æ¡ˆï¼š ç´¢å¼•å—çš„æœ€åä¸€ä¸ªç´¢å¼•é¡¹å­˜å‚¨ä¸‹ä¸€ä¸ªç´¢å¼•å—çš„åœ°å€ã€‚ éœ€è¦é¡ºåºè¯»å–æ¯ä¸ªç´¢å¼•å—ï¼Œæ— æ³•æ ¹æ®é€»è¾‘å—å·éšæœºè®¿é—®ï¼Œç£ç›˜IOæ¬¡æ•°å¤š å¤šå±‚ç´¢å¼•ï¼šå»ºç«‹å¤šå±‚ç´¢å¼•ï¼ˆç±»ä¼¼å¤šçº§é¡µè¡¨ï¼‰ã€‚ä½¿ç¬¬ä¸€å±‚ç´¢å¼•è¡¨æŒ‡å‘ç¬¬äºŒå±‚ç´¢å¼•è¡¨ï¼Œè¿˜å¯ä»¥æ ¹æ®æ–‡ä»¶å¤§å°å»ºç«‹ç¬¬ä¸‰å±‚ã€ç¬¬å››å±‚ è‹¥é‡‡ç”¨å¤šå±‚ç´¢å¼•ï¼Œåˆ™å„å±‚çš„ç´¢å¼•è¡¨å¤§å°ä¸èƒ½è¶…è¿‡ä¸€ä¸ªç£ç›˜å—ï¼› äºŒå±‚ç´¢å¼•ï¼Œæ–‡ä»¶æœ€å¤§å¤§å°ï¼š256*256*1KB=64MB å¯æ ¹æ®é€»è¾‘å—å·ç®—å‡ºåº”è¯¥æŸ¥æ‰¾ç´¢å¼•è¡¨ä¸­çš„å“ªä¸ªè¡¨é¡¹ã€‚å¦‚ï¼šè¦è®¿é—®1026å·é€»è¾‘å—ï¼Œåˆ™1026/256=4,1026%256=2 é‡‡ç”¨Kå±‚ç´¢å¼•ç»“æ„ï¼Œä¸”é¡¶çº§ç´¢å¼•è¡¨æœªè°ƒå…¥å†…å­˜ï¼Œåˆ™è®¿é—®ä¸€ä¸ªæ•°æ®å—åªéœ€è¦K+1æ¬¡è¯»ç£ç›˜æ“ä½œ æ··åˆç´¢å¼•ï¼šå¤šç§ç´¢å¼•åˆ†é…æ–¹å¼çš„ç»“åˆã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶çš„é¡¶çº§ç´¢å¼•è¡¨ä¸­ï¼Œæ—¢åŒ…å«ç›´æ¥åœ°å€ç´¢å¼•ï¼ˆç›´æ¥æŒ‡å‘æ•°æ®å—ï¼‰ï¼ŒåˆåŒ…å«ä¸€çº§é—´æ¥ç´¢å¼•ï¼ˆæŒ‡å‘å•å±‚ç´¢å¼•è¡¨ï¼‰ã€è¿˜åŒ…å«ä¸¤çº§é—´æ¥ç´¢å¼•ï¼ˆæŒ‡å‘ä¸¤å±‚ç´¢å¼•è¡¨ï¼‰ã€‚ é¢˜å‹ï¼šæ ¹æ®é¡¶çº§ç´¢å¼•è¡¨çš„ç»“æ„ï¼Œè®¡ç®—èƒ½å¤Ÿå­˜å‚¨æ–‡ä»¶çš„æœ€å¤§é•¿åº¦ å¯¹äºå°æ–‡ä»¶ï¼Œåªéœ€è¾ƒå°‘çš„è¯»ç£ç›˜æ¬¡æ•°å°±å¯ä»¥è®¿é—®ç›®æ ‡æ•°æ®å—ã€‚ï¼ˆä¸€èˆ¬è®¡ç®—æœºä¸­å°æ–‡ä»¶æ›´å¤šï¼‰ è¶…çº§è¶…çº§è¶…çº§é‡è¦è€ƒç‚¹ï¼šâ‘ è¦ä¼šæ ¹æ®å¤šå±‚ç´¢å¼•ã€æ··åˆç´¢å¼•çš„ç»“æ„è®¡ç®—å‡ºæ–‡ä»¶çš„æœ€å¤§é•¿åº¦ï¼ˆKeyï¼šå„çº§ç´¢å¼•è¡¨æœ€å¤§ä¸èƒ½è¶…è¿‡ä¸€ä¸ªå—ï¼‰ï¼›â‘¡è¦èƒ½è‡ªå·±åˆ†æè®¿é—®æŸä¸ªæ•°æ®å—æ‰€éœ€è¦çš„è¯»ç£ç›˜æ¬¡æ•°ï¼ˆKey:FCBä¸­ä¼šå­˜æœ‰æŒ‡å‘é¡¶çº§ç´¢å¼•å—çš„æŒ‡é’ˆï¼Œå› æ­¤å¯ä»¥æ ¹æ®FCBè¯»å…¥é¡¶çº§ç´¢å¼•å—ã€‚æ¯æ¬¡è¯»å…¥ä¸‹ä¸€çº§çš„ç´¢å¼•å—éƒ½éœ€è¦ä¸€æ¬¡è¯»ç£ç›˜æ“ä½œã€‚å¦å¤–ï¼Œè¦æ³¨æ„é¢˜ç›®æ¡ä»¶ä¸€ä¸€é¡¶çº§ç´¢å¼•å—æ˜¯å¦å·²è°ƒå…¥å†…å­˜ï¼‰ å­˜å‚¨ç©ºé—´ç®¡ç†â€”â€”ç®¡ç†ç©ºé—²ç£ç›˜å— åˆ’åˆ†ä¸åˆå§‹åŒ– å°†ç‰©ç†ç£ç›˜åˆ†æˆä¸€ä¸ªä¸ªæ–‡ä»¶å·ï¼ˆé€»è¾‘å·ã€é€»è¾‘ç›˜ï¼‰ åˆå§‹åŒ–ï¼šå°†å„ä¸ªæ–‡ä»¶å·åˆ’åˆ†ä¸ºç›®å½•åŒºï¼ˆæ–‡ä»¶ç›®å½•ä¿¡æ¯FCBã€ç£ç›˜å‚¨å­˜ç©ºé—´ç®¡ç†çš„ä¿¡æ¯ï¼‰ã€æ–‡ä»¶åŒºï¼ˆå­˜æ”¾æ–‡ä»¶æ•°æ®ï¼‰ ä¸€ä¸ªç‰©ç†ç£ç›˜å¯ä»¥åˆ’åˆ†æˆå¤šä¸ªé€»è¾‘ç£ç›˜ï¼›ä¹Ÿå¯ä»¥å°†å¤šä¸ªç‰©ç†ç£ç›˜åˆå¹¶æˆä¸€ä¸ªé€»è¾‘ç£ç›˜ ç®¡ç†æ–¹æ³• ç©ºé—²è¡¨æ³•ï¼š é€‚ç”¨äºè¿ç»­åˆ†é…æ–¹å¼ ç¬¬ä¸€ä¸ªç©ºé—²ç›˜å—å· ç©ºé—²ç£ç›˜æ•° ä¸å†…å­˜ç®¡ç†ä¸­çš„åŠ¨æ€åˆ†åŒºåˆ†é…å¾ˆç±»ä¼¼ï¼Œå½“å›æ”¶æŸä¸ªå­˜å‚¨åŒºæ—¶éœ€è¦æœ‰å››ç§æƒ…å†µä¸€ä¸€ å›æ”¶åŒºçš„å‰åéƒ½æ²¡æœ‰ç›¸é‚»ç©ºé—²åŒºï¼› å›æ”¶åŒºçš„å‰åéƒ½æ˜¯ç©ºé—²åŒºï¼› å›æ”¶åŒºå‰é¢æ˜¯ç©ºé—²åŒºï¼› å›æ”¶åŒºåé¢æ˜¯ç©ºé—²åŒºã€‚ æ€»ä¹‹ï¼Œå›æ”¶æ—¶éœ€è¦æ³¨æ„è¡¨é¡¹çš„åˆå¹¶é—®é¢˜ã€‚ ç©ºé—²é“¾è¡¨æ³•ï¼š ç©ºé—²ç›˜å—é“¾ï¼šä»¥ç›˜å—ä¸ºå•ä½ç»„æˆä¸€æ¡ç©ºé—²é“¾ é€‚ç”¨äºç¦»æ•£åˆ†é…çš„ç‰©ç†ç»“æ„ã€‚ä¸ºæ–‡ä»¶åˆ†é…å¤šä¸ªç›˜å—æ—¶å¯èƒ½è¦é‡å¤å¤šæ¬¡æ“ä½œ åˆ†é…ï¼šå¦‚æœç”³è¯·Kä¸ªç›˜å—ï¼Œåˆ™ä»é“¾å¤´å¼€å§‹ä¾æ¬¡æ‘˜ä¸‹Kä¸ªç›˜å—è¿›è¡Œåˆ†é…ï¼Œå¹¶ä¿®æ”¹ç©ºé—²é“¾çš„é“¾å¤´æŒ‡é’ˆ å›æ”¶ï¼šå°†å›æ”¶çš„ç›˜å—ä¾æ¬¡æŒ‚åˆ°é“¾å°¾ï¼Œå¹¶ä¿®æ”¹ç©ºé—²é“¾çš„é“¾å°¾æŒ‡é’ˆ ç©ºé—²ç›˜åŒºé“¾ï¼šä»¥ç›˜åŒºä¸ºå•ä½ç»„æˆä¸€æ¡ç©ºé—²é“¾ æ“ä½œç³»ç»Ÿä¿å­˜ç€é“¾å¤´ã€é“¾å°¾æŒ‡é’ˆã€‚ å¦‚ä½•åˆ†é…ï¼šè‹¥æŸæ–‡ä»¶ç”³è¯·Kä¸ªç›˜å—ï¼Œåˆ™å¯ä»¥é‡‡ç”¨é¦–æ¬¡é€‚åº”ã€æœ€ä½³é€‚åº”ç­‰ç®—æ³•ï¼Œä»é“¾å¤´å¼€å§‹æ£€ç´¢ï¼ŒæŒ‰ç…§ç®—æ³•è§„åˆ™æ‰¾åˆ°ä¸€ä¸ªå¤§å°ç¬¦åˆè¦æ±‚çš„ç©ºé—²ç›˜åŒºåˆ†é…ç»™æ–‡ä»¶ã€‚è‹¥æ²¡æœ‰åˆé€‚çš„è¿ç»­ç©ºé—²å—ï¼Œä¹Ÿå¯ä»¥å°†ä¸åŒç›˜åŒºçš„ç›˜å—åŒæ—¶åˆ†é…ç»™ä¸€ä¸ªæ–‡ä»¶ï¼Œæ³¨æ„åˆ†é…åå¯èƒ½è¦ä¿®æ”¹ç›¸åº”çš„é“¾æŒ‡é’ˆã€ç›˜åŒºå¤§å°ç­‰æ•°æ®ã€‚ å¦‚ä½•å›æ”¶ï¼šè‹¥å›æ”¶åŒºå’ŒæŸä¸ªç©ºé—²ç›˜åŒºç›¸é‚»ï¼Œåˆ™éœ€è¦å°†å›æ”¶åŒºåˆå¹¶åˆ°ç©ºé—²ç›˜åŒºä¸­ã€‚è‹¥å›æ”¶åŒºæ²¡æœ‰å’Œä»»ä½•ç©ºé—²åŒºç›¸é‚»ï¼Œå°†å›æ”¶åŒºä½œä¸ºå•ç‹¬çš„ä¸€ä¸ªç©ºé—²ç›˜åŒºæŒ‚åˆ°é“¾å°¾ã€‚ ä½ç¤ºå›¾æ³•ï¼š æ¯ä¸ªäºŒè¿›åˆ¶ä½å¯¹åº”ä¸€ä¸ªç›˜å—ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œâ€œ0â€ä»£è¡¨ç›˜å—ç©ºé—²ï¼Œâ€œ1â€ä»£è¡¨ç›˜å—å·²åˆ†é…ã€‚ä½ç¤ºå›¾ä¸€èˆ¬ç”¨è¿ç»­çš„â€œå­—â€æ¥è¡¨ç¤ºï¼Œå¦‚æœ¬ä¾‹ä¸­ä¸ªå­—çš„å­—é•¿æ˜¯16ä½ï¼Œå­—ä¸­çš„æ¯ä¸€ä½å¯¹åº”ä¸€ä¸ªç›˜å—ã€‚å› æ­¤å¯ä»¥ç”¨**ï¼ˆå­—å·ï¼Œä½å·ï¼‰å¯¹åº”ä¸€ä¸ªç›˜å—å·ã€‚å½“ç„¶æœ‰çš„é¢˜ç›®ä¸­ä¹Ÿæè¿°ä¸ºï¼ˆè¡Œå·ï¼Œåˆ—å·ï¼‰** é‡è¦é‡è¦é‡è¦ï¼šè¦èƒ½è‡ªå·±æ¨å‡ºç›˜å—å·ä¸ï¼ˆå­—å·ä½å·ï¼‰ç›¸äº’è½¬æ¢çš„å…¬å¼æ³¨æ„é¢˜ç›®æ¡ä»¶ï¼šç›˜å—å·ã€å­—å·ã€ä½å·åˆ°åº•æ˜¯ä»0å¼€å§‹è¿˜æ˜¯ä»1å¼€å§‹ å¦‚æœ¬ä¾‹ä¸­ç›˜å—å·ã€å­—å·ã€ä½å·ä»0å¼€å§‹ï¼Œè‹¥nè¡¨ç¤ºå­—é•¿ï¼Œåˆ™ï¼ˆå­—å·ï¼Œä½å·ï¼‰=ï¼ˆiï¼Œj)çš„äºŒè¿›åˆ¶ä½å¯¹åº”çš„ç›˜å—å·b=n*i+jï¼Œ bå·ç›˜å—å¯¹åº”çš„å­—å·i=b/nå–æ•´æ•°éƒ¨åˆ†ï¼Œä½å·j=b%n å¦‚ä½•åˆ†é…ï¼šè‹¥æ–‡ä»¶éœ€è¦Îºä¸ªå—ï¼Œâ‘ é¡ºåºæ‰«æä½ç¤ºå›¾ï¼Œæ‰¾åˆ°Kä¸ªç›¸é‚»æˆ–ä¸ç›¸é‚»çš„â€œ0â€ï¼›â‘¡æ ¹æ®å­—å·ã€ä½å·ç®—å‡ºå¯¹åº”çš„ç›˜å—å·ï¼Œå°†ç›¸åº”ç›˜å—åˆ†é…ç»™æ–‡ä»¶ï¼› â‘¢å°†ç›¸åº”ä½è®¾ç½®ä¸ºâ€œ1 å¦‚ä½•å›æ”¶ï¼šâ‘ æ ¹æ®å›æ”¶çš„ç›˜å—å·è®¡ç®—å‡ºå¯¹åº”çš„å­—å·ã€ä½å·ï¼›â‘¡å°†ç›¸åº”äºŒè¿›åˆ¶ä½è®¾ä¸ºâ€œ0 æˆç»„é“¾æ¥æ³•ï¼š å‰ä¸¤è€…ä¸é€‚ç”¨äºå¤§å‹æ–‡ä»¶ç³»ç»Ÿï¼Œå› ä¸ºç©ºé—²è¡¨æˆ–è€…ç©ºé—²é“¾è¡¨å¯èƒ½ä¼šå¤ªå¤§ã€‚Unixä¸­é‡‡ç”¨äº†æˆç»„é“¾æ¥æ³•å¯¹ç£ç›˜ç©ºé—²å—è¿›è¡Œç®¡ç† æ–‡ä»¶å·çš„ç›®å½•åŒºä¸­ä¸“é—¨ç”¨ä¸€ä¸ªç£ç›˜å—ä½œä¸ºâ€œè¶…çº§å—â€ï¼Œå½“ç³»ç»Ÿå¯åŠ¨æ—¶éœ€è¦å°†è¶…çº§å—è¯»å…¥å…§å­˜ã€‚å¹¶ä¸”è¦ä¿è¯å†…å­˜ä¸å¤–å­˜ä¸­çš„â€œè¶…çº§å—â€æ•°æ®ä¸€è‡´ã€‚ ä¸€ä¸ªåˆ†ç»„ä¸­çš„å—å·ä¸éœ€è¦è¿ç»­ å½“å‰ç»„çš„ç©ºé—²ç›˜å—æ•°æœ‰ä¸Šé™å¤§å° è¶…çº§å—è®°å½•ç€å½“å‰ç»„ç©ºé—²å—çš„ä¿¡æ¯ï¼š ç©ºé—²ç›˜å—æ•°ã€ç©ºé—²å—å·ï¼ˆåœ°å€ï¼‰ åˆ†é…è¿‡ç¨‹ï¼š Egï¼šéœ€è¦1ä¸ªç©ºé—²å— â‘ æ£€æŸ¥ç¬¬ä¸€ä¸ªåˆ†ç»„çš„å—æ•°æ˜¯å¦è¶³å¤Ÿã€‚1&lt;10ï¼Œå› æ­¤æ˜¯è¶³å¤Ÿçš„ã€‚ Egï¼šéœ€è¦100ä¸ªç©ºé—²å— â‘ æ£€æŸ¥ç¬¬ä¸€ä¸ªåˆ†ç»„çš„å—æ•°æ˜¯å¦è¶³å¤Ÿã€‚100=100ï¼Œæ˜¯è¶³å¤Ÿçš„ã€‚ â‘¡åˆ†é…ç¬¬ä¸€ä¸ªåˆ†ç»„ä¸­çš„100ä¸ªç©ºé—²å—ã€‚ä½†æ˜¯ç”±äº300å·å—å†…å­˜æ”¾äº†å†ä¸‹ä¸€ç»„çš„ä¿¡æ¯ï¼Œå› æ­¤300å·å—çš„æ•°æ®éœ€è¦å¤åˆ¶åˆ°è¶…çº§å—ï¼ˆè¶…çº§å—ç›¸å½“äºæ˜¯ä¸ªé“¾å¤´ï¼‰ä¸­ã€‚ å›æ”¶è¿‡ç¨‹ï¼š Egï¼šå‡è®¾æ¯ä¸ªåˆ†ç»„æœ€å¤šä¸º100ä¸ªç©ºé—²å—ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªåˆ†ç»„å·²æœ‰99ä¸ªå—ï¼Œè¿˜è¦å†å›æ”¶ä¸€å— Egï¼šå‡è®¾æ¯ä¸ªåˆ†ç»„æœ€å¤šä¸º100ä¸ªç©ºé—²å—ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªåˆ†ç»„å·²æœ‰100ä¸ªå—ï¼Œè¿˜è¦å†å›æ”¶ä¸€å—ã€‚éœ€è¦å°†è¶…çº§å—ä¸­çš„æ•°æ®å¤åˆ¶åˆ°æ–°å›æ”¶çš„å—ä¸­ï¼Œå¹¶ä¿®æ”¹è¶…çº§å—çš„å†…å®¹ï¼Œè®©æ–°å›æ”¶çš„å—æˆä¸ºç¬¬ä¸ªåˆ†ç»„ æ–‡ä»¶æ“ä½œ åˆ›å»ºæ–‡ä»¶ å‚æ•°ï¼š æ–‡ä»¶å¤§å° å­˜æ”¾è·¯å¾„ æ–‡ä»¶å æ“ä½œç³»ç»Ÿçš„è¿‡ç¨‹ åœ¨å¤–å­˜ä¸­æ‰¾åˆ°æ–‡ä»¶æ‰€éœ€çš„ç©ºé—´â€“&gt;æ ¹æ®æ–‡ä»¶å­˜æ”¾ä¿¡æ¯æ‰¾åˆ°è¯¥ç›®å½•å¯¹åº”çš„ç›®å½•ä¿¡æ¯ï¼ˆåœ¨ç›®å½•ä¸­åˆ›å»ºè¯¥æ–‡ä»¶å¯¹åº”çš„ç›®å½•é¡¹ï¼‰ åˆ é™¤æ–‡ä»¶ å‚æ•°ï¼š æ–‡ä»¶å­˜æ”¾è·¯å¾„ æ–‡ä»¶å æ ¹æ®æ–‡ä»¶å­˜æ”¾è·¯å¾„æ‰¾åˆ°ç›¸åº”çš„ç›®å½•æ–‡ä»¶ï¼Œä»ç›®å½•ä¸­æ‰¾åˆ°æ–‡ä»¶åå¯¹åº”çš„ç›®å½•é¡¹â€“&gt;æ ¹æ®ç›®å½•é¡¹è®°å½•çš„å¤–å­˜ä½ç½®ã€æ–‡ä»¶å¤§å°ç­‰ä¿¡æ¯ï¼Œå›æ”¶æ–‡ä»¶å ç”¨çš„ç£ç›˜å—â€“&gt;ä»ç›®å½•è¡¨ä¸­åˆ é™¤æ–‡ä»¶å¯¹åº”çš„ç›®å½•é¡¹ æ‰“å¼€æ–‡ä»¶ å‚æ•°ï¼š æ–‡ä»¶å­˜æ”¾è·¯å¾„ æ–‡ä»¶å å¯¹æ–‡ä»¶çš„æ“ä½œç±»å‹ æ“ä½œç³»ç»Ÿï¼š æ ¹æ®æ–‡ä»¶å­˜æ”¾è·¯å¾„æ‰¾åˆ°ç›¸åº”çš„ç›®å½•æ–‡ä»¶ï¼Œä»ç›®å½•ä¸­æ‰¾åˆ°æ–‡ä»¶åå¯¹åº”çš„çš„ç›®å½•é¡¹ï¼Œå¹¶æ£€æŸ¥è¯¥ç”¨æˆ·æ˜¯å¦æœ‰æŒ‡å®šçš„æ“ä½œæƒé™-----&gt;å°†ç›®å½•é¡¹å¤åˆ¶åˆ°å†…å­˜ä¸­çš„â€œæ‰“å¼€æ–‡ä»¶è¡¨â€ä¸­ã€‚å¹¶å°†å¯¹åº”è¡¨ç›®çš„ç¼–å·è¿”å›ç»™ç”¨æˆ·ã€‚ä¹‹åç”¨æˆ·ä½¿ç”¨æ‰“å¼€æ–‡è¡¨çš„ç¼–å·æ¥æŒ‡æ˜è¦æ“ä½œçš„æ–‡ä»¶ã€‚ ç³»ç»Ÿçš„â€œæ‰“å¼€æ–‡ä»¶è¡¨â€ ç¼–å·ï¼ˆç´¢å¼•å·ä¹Ÿå«æ–‡ä»¶æè¿°ç¬¦ï¼‰ã€æ–‡ä»¶åã€å¤–å­˜åœ°å€ã€æ‰“å¼€è®¡æ•°å™¨ ç”¨æˆ·è¿›ç¨‹Açš„â€œæ‰“å¼€æ–‡ä»¶è¡¨â€ ç¼–å·ï¼Œ æ–‡ä»¶åï¼Œ è¯»å†™æŒ‡é’ˆï¼Œ è®¿é—®æƒé™ï¼Œ ç³»ç»Ÿè¡¨ç´¢å¼•å· å…³é—­æ–‡ä»¶ è¿›ç¨‹ä½¿ç”¨å®Œæ–‡ä»¶åï¼Œè¦â€œå…³é—­æ–‡ä»¶â€æ“ä½œç³»ç»Ÿåœ¨å¤„ç†Coseç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¸»è¦åšäº†å‡ ä»¶äº‹ï¼š å°†è¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨ç›¸åº”è¡¨é¡¹åˆ é™¤ å›æ”¶åˆ†é…ç»™è¯¥æ–‡ä»¶çš„å†…å­˜ç©ºé—´ç­‰èµ„æº ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶è¡¨çš„æ‰“å¼€è®¡æ•°å™¨ countå‡1ï¼Œè‹¥ count=0ï¼Œåˆ™åˆ é™¤å¯¹åº”è¡¨é¡¹ æ–‡ä»¶å…±äº« å¤šä¸ªç”¨æˆ·å…±äº«åŒä¸€ä¸ªæ–‡ä»¶ï¼Œæ„å‘³ç€ç³»ç»Ÿä¸­**åªæœ‰â€œä¸€ä»½â€**æ–‡ä»¶æ•°æ®ã€‚å¹¶ä¸”åªè¦æŸä¸ªç”¨æˆ·ä¿®æ”¹äº†è¯¥æ–‡ä»¶çš„æ•°æ®ï¼Œå…¶ä»–ç”¨æˆ·ä¹Ÿå¯ä»¥çœ‹åˆ°æ–‡ä»¶æ•°æ®çš„å˜åŒ–ã€‚ ä¸â€œå¤åˆ¶â€åŒºåˆ†ï¼šå¦‚æœæ˜¯å¤šä¸ªç”¨æˆ·éƒ½â€œå¤åˆ¶â€äº†åŒä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆç³»ç»Ÿä¸­ä¼šæœ‰â€œå¥½å‡ ä»½æ–‡ä»¶æ•°æ®ã€‚å…¶ä¸­ä¸€ä¸ªç”¨æˆ·ä¿®æ”¹äº†è‡ªå·±çš„é‚£ä»½æ–‡ä»¶æ•°æ®ï¼Œå¯¹å…¶ä»–ç”¨æˆ·çš„æ–‡ä»¶æ•°æ®å¹¶æ²¡æœ‰å½±å“ã€‚ åŸºäºç´¢å¼•ç»“ç‚¹çš„å…±äº«æ–¹å¼ï¼ˆç¡¬é“¾æ¥ï¼‰ ç´¢å¼•èŠ‚ç‚¹è®°å½•cntï¼šç”¨äºè¡¨ç¤ºé“¾æ¥åˆ°æœ¬ç´¢å¼•ç»“ç‚¹ä¸Šçš„ç”¨æˆ·ç›®å½•é¡¹æ•° ä¸åŒç”¨æˆ·å¯¹äºè¯¥å…±äº«æ–‡ä»¶çš„å‘½åå¯ä»¥æ˜¯ä¸åŒçš„ ç´¢å¼•èŠ‚ç‚¹æŒ‡å‘çš„æ˜¯çœŸå®åœ°æ–‡ä»¶ åŸºäºç¬¦å·é“¾çš„å…±äº«æ–¹å¼ï¼ˆè½¯é“¾æ¥ï¼‰ ç´¢å¼•èŠ‚ç‚¹æŒ‡å‘åœ°æ˜¯Linkç±»å‹åœ°æ–‡ä»¶ï¼Œå®ƒè®°å½•äº†çœŸå®æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ï¼ˆç›¸å½“äºwindowsçš„å¿«æ·æ–¹å¼ï¼‰â€”â€”æ¯”ç¡¬é“¾æ¥ç»å†çš„ç£ç›˜IOæ›´å¤š å³ä½¿è½¯é“¾æ¥æŒ‡å‘çš„å…±äº«æ–‡ä»¶å·²è¢«åˆ é™¤ï¼ŒLinkå‹æ–‡ä»¶ä¾ç„¶å­˜åœ¨ï¼Œåªæ˜¯é€šè¿‡Linkå‹æ–‡ä»¶ä¸­çš„è·¯å¾„å»æŸ¥æ‰¾å…±äº«æ–‡ä»¶ä¼šå¤±è´¥ï¼ˆæ‰¾ä¸åˆ°å¯¹åº”ç›®å½•é¡¹ï¼‰ æ–‡ä»¶ä¿æŠ¤ å£ä»¤ä¿æŠ¤ ä¼˜ç‚¹ï¼šä¿å­˜å£ä»¤çš„ç©ºé—´å¼€é”€ä¸å¤šï¼ŒéªŒè¯å£ä»¤çš„æ—¶é—´å¼€é”€ä¹Ÿå¾ˆå°ã€‚ ç¼ºç‚¹ï¼šæ­£ç¡®çš„â€œå£ä»¤â€å­˜æ”¾åœ¨ç³»ç»Ÿå†…éƒ¨ï¼Œä¸å¤Ÿå®‰å…¨ã€‚ åŠ å¯†ä¿æŠ¤ ä¼˜ç‚¹ï¼šä¿å¯†æ€§å¼ºï¼Œä¸éœ€è¦åœ¨ç³»ç»Ÿä¸­å­˜å‚¨â€œå¯†ç â€ ç¼ºç‚¹ï¼šç¼–ç /è¯‘ç ï¼Œæˆ–è€…è¯´åŠ å¯†/è§£å¯†è¦èŠ±è´¹ä¸€å®šæ—¶é—´ã€‚ è®¿é—®æ§åˆ¶ï¼šACLè®¿é—®æ§åˆ¶åˆ—è¡¨ è¯»ã€å†™ã€æ‰§è¡Œã€æ·»åŠ ã€åˆ é™¤ã€åˆ—è¡¨æ–‡ä»¶å¤¹å†…å®¹ ç²¾ç®€çš„è®¿é—®åˆ—è¡¨â€”â€”ç»„ï¼šå®Œå…¨æ§åˆ¶ï¼šæ‰§è¡Œã€ä¿®æ”¹ã€è¯»ã€å†™ï¼ˆ2^4=0-7ï¼‰ ç£ç›˜ ç»“æ„ ç£ç›˜ï¼šç£ç›˜çš„è¡¨é¢ç”±ä¸€äº›ç£æ€§ç‰©è´¨ç»„æˆï¼Œå¯ä»¥ç”¨è¿™äº›ç£æ€§ç‰©è´¨æ¥è®°å½•äºŒè¿›åˆ¶æ•°æ® ç£é“ï¼šç£ç›˜çš„ç›˜é¢è¢«åˆ’åˆ†æˆä¸€ä¸ªä¸ªç£é“è¿™æ ·çš„ä¸€ä¸ªâ€œåœˆâ€å°±æ˜¯ä¸€ä¸ªç£é“ æ‰‡åŒºï¼šä¸€ä¸ªç£é“åˆè¢«åˆ’åˆ†æˆä¸€ä¸ªä¸ªæ‰‡åŒºï¼Œæ¯ä¸ªæ‰‡åŒºå°±æ˜¯ä¸€ä¸ªâ€œç£ç›˜å—â€ã€‚å„ä¸ªæ‰‡åŒºå­˜æ”¾çš„æ•°æ®é‡ç›¸åŒï¼ˆå¦‚1KBï¼‰ æœ€å†…ä¾§çš„æ‰‡åŒºé¢ç§¯æœ€å°ï¼Œå› æ­¤æ•°æ®å¯†åº¦æœ€å¤§ ç›˜é¢ï¼šä¸€ä¸ªç›˜ç‰‡ä¼šæœ‰å¤šä¸ªç›˜é¢ æŸ±é¢ï¼šæ‰€æœ‰ç›˜é¢ä¸­ç›¸å¯¹ä½ç½®ç›¸åŒçš„ç£é“ç»„æˆæŸ±é¢ ç£ç›˜çš„ç‰©ç†åœ°å€ï¼šå¯ç”¨ï¼ˆæŸ±é¢å·ï¼Œç›˜é¢å·ï¼Œæ‰‡åŒºå·ï¼‰æ¥å®šä½ä»»æ„ä¸€ä¸ªâ€œç£ç›˜å—â€ã€‚åœ¨â€œæ–‡ä»¶çš„ç‰©ç†ç»“æ„â€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸æåˆ°æ–‡ä»¶æ•°æ®å­˜æ”¾åœ¨å¤–å­˜ä¸­çš„å‡ å·å—ï¼Œè¿™ä¸ªå—å·å°±å¯ä»¥è½¬æ¢æˆ**ï¼ˆæŸ±é¢å·ï¼Œç›˜é¢å·ï¼Œæ‰‡åŒºå·ï¼‰**çš„åœ°å€å½¢å¼ã€‚ å¦‚ä½•è¯»å–æ•°æ®ï¼šç£ç›˜è½¬èµ·æ¥ï¼Œè®©ç£å¤´ä»ç›®æ ‡æ‰‡åŒºä¸Šåˆ’è¿‡ï¼Œæ‰èƒ½å®Œæˆå¯¹æ‰‡åŒºçš„è¯»å†™æ“ä½œï¼š å¯æ ¹æ®è¯¥åœ°å€è¯»å–ä¸€ä¸ªâ€œå—â€ â‘ æ ¹æ®â€œæŸ±é¢å·â€ç§»åŠ¨ç£è‡‚ï¼Œè®©ç£å¤´æŒ‡å‘æŒ‡å®šæŸ±é¢ï¼› â‘¡æ¿€æ´»æŒ‡å®šç›˜é¢å¯¹åº”çš„ç£å¤´ï¼› â‘¢ç£ç›˜æ—‹è½¬çš„è¿‡ç¨‹ä¸­ï¼ŒæŒ‡å®šçš„æ‰‡åŒºä¼šä»ç£å¤´ä¸‹é¢åˆ’è¿‡ï¼Œè¿™æ ·å°±å®Œæˆäº†å¯¹æŒ‡å®šæ‰‡åŒºçš„è¯»/å†™ã€‚ åˆ†ç±»ï¼š å›ºå®šå¤´ç£ç›˜ï¼ˆæ¯ä¸ªç£é“éƒ½æœ‰ä¸€ä¸ªå›ºå®šçš„ç£å¤´ï¼‰ ç§»åŠ¨å¤´ç£ç›˜ï¼ˆä¸€ä¸ªç›˜é¢å°±åªæœ‰ä¸€ä¸ªå¯ç§»åŠ¨çš„ç£å¤´ï¼‰ å›ºå®šç›˜ç£ç›˜ å¯æ¢ç›˜ç£ç›˜ ç£ç›˜è°ƒåº¦ ä¸€æ¬¡ç£ç›˜è¯»/å†™æ“ä½œéœ€è¦çš„æ—¶é—´ å¯»æ‰¾ï¼ˆç£é“ï¼‰æ—¶é—´TsT_sTsâ€‹ï¼šåœ¨è¯»/å†™æ•°æ®å‰ï¼Œå°†ç£å¤´ç§»åŠ¨åˆ°æŒ‡å®šç£é“æ‰€èŠ±çš„æ—¶é—´ï¼šTs=å¯åŠ¨ç£å¤´è‡‚s+næ¡ç£é“*è·¨è¶Šæ¯ä¸ªç£é“è€—æ—¶m å»¶è¿Ÿæ—¶é—´TRT_RTRâ€‹ï¼šç£ç›˜æ—‹è½¬ï¼Œç­‰ç£å¤´è½¬åˆ°ç›®æ ‡æ‰‡åŒºæ‰€éœ€è¦çš„æ—¶é—´ã€‚å¹³å‡æ‰€éœ€å»¶è¿Ÿæ—¶é—´TR=12âˆ—1r=12rT_R=\\frac{1}{2}*\\frac{1}{r}=\\frac{1}{2r}TRâ€‹=21â€‹âˆ—r1â€‹=2r1â€‹ï¼Œrä¸ºè½¬é€Ÿï¼ˆr/s,r/minï¼‰ï¼Œ1/ræ˜¯è½¬ä¸€åœˆæ‰€éœ€è¦çš„æ—¶é—´ï¼Œ1/2æ˜¯æ‰¾åˆ°ç›®æ ‡æ‰‡åŒºå¹³å‡éœ€è¦è½¬åŠåœˆã€‚ ä¼ è¾“æ—¶é—´TtT_tTtâ€‹ï¼šä»ç£ç›˜è¯»å‡ºæˆ–å‘ç£ç›˜å†™å…¥æ•°æ®æ‰€ç»å†çš„æ—¶é—´ï¼Œå‡è®¾ç£ç›˜è½¬é€Ÿä¸ºrï¼Œæ­¤æ¬¡è¯»/å†™çš„å­—èŠ‚æ•°ä¸ºbï¼Œæ¯ä¸ªç£é“ä¸Šçš„å­—èŠ‚æ•°ä¸ºNï¼Œbä¸ªå­—èŠ‚éœ€è¦b/Nä¸ªç£é“å‚¨å­˜åˆ™ï¼šä¼ è¾“æ—¶é—´Tt=1râˆ—bN=brNT_t=\\frac{1}{r}*\\frac{b}{N}=\\frac{b}{rN}Ttâ€‹=r1â€‹âˆ—Nbâ€‹=rNbâ€‹ï¼Œ æ€»çš„å¹³å‡å­˜å–æ—¶é—´Ta=Ts+TR+TtT_a=T_s+T_R+T_tTaâ€‹=Tsâ€‹+TRâ€‹+Ttâ€‹ æ³¨ï¼šå»¶è¿Ÿæ—¶é—´å’Œä¼ è¾“æ—¶é—´éƒ½ä¸ç£ç›˜è½¬é€Ÿç›¸å…³ï¼Œä¸”ä¸ºçº¿æ€§ç›¸å…³ã€‚è€Œè½¬é€Ÿæ˜¯ç¡¬ä»¶çš„å›ºæœ‰å±æ€§ï¼Œå› æ­¤æ“ä½œç³»ç»Ÿä¹Ÿæ— æ³•ä¼˜åŒ–å»¶è¿Ÿæ—¶é—´å’Œä¼ è¾“æ—¶é—´ã€‚è€Œå¯ä»¥æ§åˆ¶çš„æ—¶é—´ä¸ºå¯»é“æ—¶é—´Tsï¼Œè¿™ä¸ªä¸ç£ç›˜è°ƒåº¦ç®—æ³•ç›´æ¥ç›¸å…³ ç®—æ³• å…ˆæ¥å…ˆæœåŠ¡ï¼ˆFCFSï¼‰ ä¼˜ç‚¹ï¼šå…¬å¹³ï¼›å¦‚æœè¯·æ±‚è®¿é—®çš„ç£é“æ¯”è¾ƒé›†ä¸­çš„è¯ï¼Œç®—æ³•æ€§èƒ½è¿˜ç®—è¿‡çš„å» ç¼ºç‚¹ï¼šå¦‚æœæœ‰å¤§é‡è¿›ç¨‹ç«äº‰ä½¿ç”¨ç£ç›˜ï¼Œè¯·æ±‚è®¿é—®çš„ç£é“å¾ˆåˆ†æ•£ï¼Œåˆ™FCFSåœ¨æ€§èƒ½ä¸Šå¾ˆå·®ï¼Œå¯»é“æ—¶é—´é•¿ã€‚ æœ€çŸ­å¯»æ‰¾æ—¶é—´ä¼˜å…ˆï¼ˆSSTFï¼‰ ä¼˜ç‚¹ï¼šæ€§èƒ½è¾ƒå¥½ï¼Œå¹³å‡å¯»é“æ—¶é—´çŸ­ ç¼ºç‚¹ï¼šå¯èƒ½äº§ç”Ÿâ€œé¥¥é¥¿â€ç°è±¡ ï¼¥gï¼šæœ¬ä¾‹ä¸­ï¼Œå¦‚æœåœ¨å¤„ç†18å·ç£é“çš„è®¿é—®è¯·æ±‚æ—¶åˆæ¥äº†ä¸€ä¸ª38å·ç£é“çš„è®¿é—®è¯·æ±‚ï¼Œå¤„ç†38å·ç£é“çš„è®¿é—®è¯·æ±‚æ—¶åˆæ¥äº†ä¸€ä¸ª18å·ç£é“çš„è®¿é—®è¯·æ±‚ã€‚å¦‚æœæœ‰æºæºä¸æ–­çš„18å·ã€38å·ç£é“çš„è®¿é—®è¯·æ±‚åˆ°æ¥çš„è¯ï¼Œ150ã€160ã€184å·ç£é“çš„è®¿é—®è¯·æ±‚å°±æ°¸è¿œå¾—ä¸åˆ°æ»¡è¶³ï¼Œä»è€Œäº§ç”Ÿâ€œé¥¥é¥¿â€ç°è±¡ã€‚ æ‰«æç®—æ³•ï¼ˆSCANï¼‰ SSTFç®—æ³•ä¼šäº§ç”Ÿé¥¥é¥¿çš„åŸå› åœ¨äºï¼šç£å¤´æœ‰å¯èƒ½åœ¨ä¸€ä¸ªå°åŒºåŸŸå†…æ¥å›æ¥å»åœ°ç§»åŠ¨ã€‚ä¸ºäº†é˜²æ­¢è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è§„å®šï¼Œåªæœ‰ç£å¤´ç§»åŠ¨åˆ°æœ€å¤–ä¾§ç£é“çš„æ—¶å€™æ‰èƒ½å¾€å†…ç§»åŠ¨ï¼Œç§»åŠ¨åˆ°æœ€å†…ä¾§ç£é“çš„æ—¶å€™æ‰èƒ½å¾€å¤–ç§»åŠ¨ã€‚è¿™å°±æ˜¯æ‰«æç®—æ³•ï¼ˆSCANï¼‰çš„æ€æƒ³ã€‚ç”±äºç£å¤´ç§»åŠ¨çš„æ–¹å¼å¾ˆåƒç”µæ¢¯ï¼Œå› æ­¤ä¹Ÿå«ç”µæ¢¯ç®—æ³•ã€‚ ä¼˜ç‚¹ï¼šæ€§èƒ½è¾ƒå¥½ï¼Œå¹³å‡å¯»é“æ—¶é—´è¾ƒçŸ­ï¼Œä¸ä¼šäº§ç”Ÿé¥¥é¥¿ç°è±¡ ç¼ºç‚¹ï¼šâ‘ åªæœ‰åˆ°è¾¾æœ€è¾¹ä¸Šçš„ç£é“æ—¶æ‰èƒ½æ”¹å˜ç£å¤´ç§»åŠ¨æ–¹å‘ï¼Œäº‹å®ä¸Šï¼Œå¤„ç†äº†184å·ç£é“çš„è®¿é—®è¯·æ±‚ä¹‹åå°±ä¸éœ€è¦å†å¾€å³ç§»åŠ¨ç£å¤´äº†ã€‚â‘¡SCANç®—æ³•å¯¹äºå„ä¸ªä½ç½®ç£é“çš„å“åº”é¢‘ç‡ä¸å¹³å‡ï¼ˆå¦‚ï¼šå‡è®¾æ­¤æ—¶ç£å¤´æ­£åœ¨å¾€å³ç§»åŠ¨ï¼Œä¸”åˆšå¤„ç†è¿‡90å·ç£é“ï¼Œé‚£ä¹ˆä¸‹æ¬¡å¤„ç†90å·ç£é“çš„è¯·æ±‚å°±éœ€è¦ç­‰ç£å¤´ç§»åŠ¨å¾ˆé•¿ä¸€æ®µè·ç¦»ï¼›è€Œå“åº”äº†184å·ç£é“çš„è¯·æ±‚ä¹‹åï¼Œå¾ˆå¿«åˆå¯ä»¥å†æ¬¡å“åº”184å·ç£é“çš„è¯·æ±‚äº†ï¼‰ å¾ªç¯æ‰«æç®—æ³•ï¼ˆC-SCANï¼‰ æ‰«æç®—æ³•ï¼ˆSCANï¼‰ä¸­ï¼Œåªæœ‰åˆ°è¾¾æœ€è¾¹ä¸Šçš„ç£é“æ—¶æ‰èƒ½æ”¹å˜ç£å¤´ç§»åŠ¨æ–¹å‘ï¼Œäº‹å®ä¸Šï¼Œå¤„ç†äº†184å·ç£é“çš„è®¿é—®è¯·æ±‚ä¹‹åå°±ä¸éœ€è¦å†å¾€å³ç§»åŠ¨ç£å¤´äº†ã€‚LoOKè°ƒåº¦ç®—æ³•å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨ç£å¤´ç§»åŠ¨æ–¹å‘ä¸Šå·²ç»æ²¡æœ‰åˆ«çš„è¯·æ±‚ï¼Œå°±å¯ä»¥ç«‹å³æ”¹å˜ç£å¤´ç§»åŠ¨æ–¹å‘ã€‚ï¼ˆè¾¹ç§»åŠ¨è¾¹è§‚å¯Ÿï¼Œå› æ­¤å«LOOKï¼‰ ä¼˜ç‚¹ï¼šæ¯”èµ·SCANç®—æ³•æ¥ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½ç§»åŠ¨åˆ°æœ€å¤–ä¾§æˆ–æœ€å†…ä¾§æ‰æ”¹å˜ç£å¤´æ–¹å‘ï¼Œä½¿å¯»é“æ—¶é—´è¿›æ­¥ç¼©çŸ­ SCANç®—æ³•å¯¹äºå„ä¸ªä½ç½®ç£é“çš„å“åº”é¢‘ç‡ä¸å¹³å‡ï¼Œè€Œ C-SCANç®—æ³•å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è§„å®šåªæœ‰ç£å¤´æœæŸä¸ªç‰¹å®šæ–¹å‘ç§»åŠ¨æ—¶æ‰å¤„ç†ç£é“è®¿é—®è¯·æ±‚ï¼Œè€Œè¿”å›æ—¶ç›´æ¥å¿«é€Ÿç§»åŠ¨è‡³èµ·å§‹ç«¯è€Œä¸å¤„ç†ä»»ä½•è¯·æ±‚ ä¼˜ç‚¹ï¼šæ¯”èµ·SCANæ¥ï¼Œå¯¹äºå„ä¸ªä½ç½®ç£é“çš„å“åº”é¢‘ç‡å¾ˆå¹³å‡ ç¼ºç‚¹ï¼šåªæœ‰åˆ°è¾¾æœ€è¾¹ä¸Šçš„ç£é“æ—¶æ‰èƒ½æ”¹å˜ç£å¤´ç§»åŠ¨æ–¹å‘ï¼Œäº‹å®ä¸Šï¼Œå¤„ç†äº†184å·ç£é“çš„è®¿é—®è¯·æ±‚ä¹‹åå°±ä¸éœ€è¦å†å¾€å³ç§»åŠ¨ç£å¤´äº†ï¼›å¹¶ä¸”ï¼Œç£å¤´è¿”å›æ—¶å…¶å®åªéœ€è¦è¿”å›åˆ°18å·ç£é“å³å¯ï¼Œä¸éœ€è¦è¿”å›åˆ°æœ€è¾¹ç¼˜çš„ç£é“ã€‚å¦å¤–ï¼Œæ¯”èµ·SCANç®—æ³•æ¥ï¼Œå¹³å‡å¯»é“æ—¶é—´æ›´é•¿ã€‚ CLOOKç®—æ³•:ç»“åˆLOOKå’ŒC-SCAN è‹¥é¢˜ç›®ä¸­æ— ç‰¹åˆ«è¯´æ˜ï¼Œåˆ™sCANå°±æ˜¯LoOK, C-SCANå°±æ˜¯ C-LOOK ç£ç›˜ç®¡ç† ç£ç›˜åˆå§‹åŒ–ï¼š step1ï¼šè¿›è¡Œä½çº§æ ¼å¼åŒ–ï¼ˆç‰©ç†æ ¼å¼åŒ–ï¼‰ï¼Œå°†ç£ç›˜çš„å„ä¸ªç£é“åˆ’åˆ†ä¸ºæ‰‡åŒºã€‚ä¸€ä¸ªæ‰‡åŒºé€šå¸¸å¯åˆ†ä¸ºå¤´ã€æ•°æ®åŒºåŸŸï¼ˆå¦‚512Bå¤§å°ï¼‰ã€å°¾ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚ç®¡ç†æ‰‡åŒºæ‰€éœ€è¦çš„å„ç§æ•°æ®ç»“æ„ä¸€èˆ¬å­˜æ”¾åœ¨å¤´ã€å°¾ä¸¤ä¸ªéƒ¨åˆ†ï¼ŒåŒ…æ‹¬æ‰‡åŒºæ ¡éªŒç ï¼ˆå¦‚å¥‡å¶æ ¡éªŒã€CRCå¾ªç¯å†—ä½™æ ¡éªŒç ç­‰ï¼Œæ ¡éªŒç ç”¨äºæ ¡éªŒæ‰‡åŒºä¸­çš„æ•°æ®æ˜¯å¦å‘ç”Ÿé”™è¯¯ï¼‰ Step2ï¼šå°†ç£ç›˜åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºç”±è‹¥å¹²æŸ±é¢ç»„æˆï¼ˆå³åˆ†ä¸ºæˆ‘ä»¬ç†Ÿæ‚‰çš„Cç›˜ã€Dç›˜ã€Eç›˜ï¼‰ Step3ï¼šè¿›è¡Œé€»è¾‘æ ¼å¼åŒ–ï¼Œåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿã€‚åŒ…æ‹¬åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ã€åˆå§‹åŒ–å­˜å‚¨ç©ºé—´ç®¡ç†æ‰€ç”¨çš„æ•°æ®ç»“æ„ï¼ˆå¦‚ä½ç¤ºå›¾ã€ç©ºé—²åˆ†åŒºè¡¨ï¼‰ å¼•å¯¼å—ï¼š è®¡ç®—æœºå¼€æœºæ—¶éœ€è¦è¿›è¡Œä¸€ç³»åˆ—åˆå§‹åŒ–çš„å·¥ä½œï¼Œè¿™äº›åˆå§‹åŒ–å·¥ä½œæ˜¯é€šè¿‡æ‰§è¡Œåˆå§‹åŒ–ç¨‹åºï¼ˆè‡ªä¸¾ç¨‹åºï¼‰å®Œæˆçš„ åˆå§‹åŒ–ç¨‹åºå¯ä»¥æ”¾åœ¨ROMï¼ˆåªè¯»å­˜å‚¨å™¨ï¼‰ä¸­ã€‚ROMä¸­çš„æ•°æ®åœ¨å‡ºå‚æ—¶å°±å†™å…¥äº†ï¼Œå¹¶ä¸”ä»¥åä¸èƒ½å†ä¿®æ”¹æ³¨ï¼šROMä¸€èˆ¬æ˜¯å‡ºå‚æ—¶å°±é›†æˆåœ¨ä¸»æ¿ä¸Šçš„===&gt; ç°åœ¨çš„åšæ³•æ˜¯ï¼šROMåªå­˜æ”¾å¾ˆå°çš„â€œè‡ªä¸¾è£…å…¥ç¨‹åºâ€ï¼Œå®Œæ•´çš„è‡ªä¸¾ç¨‹åºæ”¾åœ¨ç£ç›˜çš„å¯åŠ¨å—ï¼ˆå³å¼•å¯¼å—/å¯åŠ¨åˆ†åŒºä¸Šï¼‰ï¼Œå¯åŠ¨å—ä½äºç£ç›˜çš„å›ºå®šä½ç½®ã€‚æ‹¥æœ‰å¯åŠ¨åˆ†åŒºçš„ç£ç›˜æˆä¸ºå¯åŠ¨ç£ç›˜æˆ–ç³»ç»Ÿç£ç›˜ IOè®¾å¤‡ ä½¿ç”¨ç‰¹æ€§è¿›è¡Œåˆ†ç±» äººæœºäº¤äº’ç±»å¤–éƒ¨è®¾å¤‡ å­˜å‚¨è®¾å¤‡ ç½‘ç»œé€šä¿¡è®¾å¤‡ æŒ‰ä¿¡æ¯äº¤æ¢çš„å•ä½åˆ†ç±» å—è®¾å¤‡ï¼šä¼ è¾“é€Ÿç‡è¾ƒé«˜ï¼Œå¯å¯»å€ï¼Œå³å¯¹å®ƒå¯éšæœºåœ°è¯»/å†™ä»»ä¸€å—ï¼Œå¦‚ç£ç›˜ å­—ç¬¦è®¾å¤‡ï¼šä¼ è¾“é€Ÿç‡è¾ƒæ…¢ï¼Œä¸å¯å¯»å€ï¼Œåœ¨è¾“å…¥/è¾“å‡ºæ—¶å¸¸é‡‡ç”¨ä¸­æ–­é©±åŠ¨æ–¹å¼ï¼Œå¦‚é”®ç›˜å’Œé¼ æ ‡ã€ä¸²å£ IOæ§åˆ¶å™¨ åŠŸèƒ½ æ¥å—å’Œè¯†åˆ«CPUå‘å‡ºçš„å‘½ä»¤ å‘CPUæŠ¥å‘Šè®¾å¤‡çš„çŠ¶æ€ æ•°æ®äº¤æ¢ åœ°å€è¯†åˆ« å¯„å­˜å™¨çš„åœ°å€ å†…å­˜æ˜ åƒI/Oï¼šæ§åˆ¶å™¨ä¸­çš„å¯„å­˜å™¨ä¸å†…å­˜åœ°å€ç»Ÿç¼–å€ å¯„å­˜å™¨ç‹¬ç«‹ç¼–å€ï¼šæ§åˆ¶å™¨ä¸­çš„å¯„å­˜å™¨ä½¿ç”¨å•ç‹¬çš„åœ°å€ IOæ§åˆ¶æ–¹å¼ï¼š ç¨‹åºç›´æ¥æ§åˆ¶æ–¹å¼ï¼š å®Œæˆä¸€æ¬¡è¯»/å†™æ“ä½œçš„æµç¨‹ï¼ˆè§å³å›¾ï¼Œ Key wordï¼šè½®è¯¢ï¼‰ CPUå¹²é¢„çš„é¢‘ç‡ï¼šå¾ˆé¢‘ç¹ï¼ŒOæ“ä½œå¼€å§‹ä¹‹å‰ã€å®Œæˆä¹‹åéœ€è¦CPUä»‹å…¥ï¼Œå¹¶ä¸”åœ¨ç­‰å¾…/Oå®Œæˆçš„è¿‡ç¨‹ä¸­CpUéœ€è¦ä¸æ–­åœ°è½®è¯¢æ£€æŸ¥ã€‚ æ•°æ®ä¼ é€çš„å•ä½ï¼šæ¯æ¬¡è¯»/å†™ä¸€ä¸ªå­— æ•°æ®çš„æµå‘ è¯»æ“ä½œï¼ˆæ•°æ®è¾“å…¥ï¼‰ï¼šI/Oè®¾å¤‡â†’CPUâ†’å†…å­˜ å†™æ“ä½œï¼ˆæ•°æ®è¾“å‡ºï¼‰ï¼šå†…å­˜â†’CPUâ†’I/Oè®¾å¤‡ æ¯ä¸ªå­—çš„è¯»/å†™éƒ½éœ€è¦CPUçš„å¸®åŠ©è¯»å…¥ä¸‹ä¸ªå­— ä¸»è¦ç¼ºç‚¹å’Œä¸»è¦ä¼˜ç‚¹ ä¼˜ç‚¹ï¼šå®ç°ç®€å•ã€‚åœ¨è¯»/å†™æŒ‡ä»¤ä¹‹åï¼ŒåŠ ä¸Šå®ç°å¾ªç¯æ£€æŸ¥çš„ ç³»åˆ—æŒ‡ä»¤å³å¯ï¼ˆå› æ­¤æ‰ç§°ä¸ºâ€œç¨‹åºç›´æ¥æ§åˆ¶æ–¹å¼â€ï¼‰ ç¼ºç‚¹ï¼šCPUå’Œi/oè®¾å¤‡åªèƒ½ä¸²è¡Œå·¥ä½œï¼ŒCPUéœ€è¦ä¸€ç›´è½®è¯¢æ£€æŸ¥ï¼Œ é•¿æœŸå¤„äºâ€œå¿™ç­‰â€çŠ¶æ€ï¼ŒCPUåˆ©ç”¨ç‡ä½ã€‚ ä¸­æ–­é©±åŠ¨æ–¹å¼ â‘ CPUä¼šåœ¨æ¯ä¸ªæŒ‡ä»¤å‘¨æœŸçš„æœ«å°¾æ£€æŸ¥ä¸­æ–­ï¼› â‘¡ä¸­æ–­å¤„ç†è¿‡ç¨‹ä¸­éœ€è¦ä¿å­˜ã€æ¢å¤é€‘ç¨‹çš„è¿è¡Œç¯å¢ƒï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯éœ€è¦ä¸€å®šæ—¶é—´å¼€é”€çš„ã€‚å¯è§ï¼Œå¦‚æœä¸­æ–­å‘çš„é¢‘ç‡å¤ªé«˜ï¼Œä¹Ÿä¼šé™ä½ç³»ç»Ÿæ€§èƒ½ã€‚ å®Œæˆä¸€æ¬¡è¯»/å†™æ“ä½œçš„æµç¨‹ï¼ˆè§å³å›¾ï¼Œ Key wordï¼šä¸­æ–­ï¼‰ CPUå¹²é¢„çš„é¢‘ç‡ æ¯æ¬¡oæ“ä½œå¼€å§‹ä¹‹å‰ã€å®Œæˆä¹‹åéœ€è¦CPUä»‹å…¥ ç­‰å¾…0å®Œæˆçš„è¿‡ç¨‹ä¸­CPUå¯ä»¥åˆ‡æ¢åˆ°åˆ«çš„è¿›ç¨‹æ‰§è¡Œã€‚ æ•°æ®ä¼ é€çš„å•ä½ æ¯æ¬¡è¯»/å†™ä¸€ä¸ªå­— æ•°æ®çš„æµå‘ è¯»æ“ä½œï¼ˆæ•°æ®è¾“å…¥ï¼‰ï¼šV/Oè®¾å¤‡â†’CPUâ†’å†…å­˜ å†™æ“ä½œï¼ˆæ•°æ®è¾“å‡ºï¼‰ï¼šå†…å­˜â†’CPUâ†’1/Oè®¾å¤‡ ä¸»è¦ç¼ºç‚¹å’Œä¸»è¦ä¼˜ç‚¹ ä¼˜ç‚¹ï¼šä¸â€œç¨‹åºç›´æ¥æ§åˆ¶æ–¹å¼â€ç›¸æ¯”ï¼Œåœ¨â€œä¸­æ–­é©±åŠ¨æ–¹å¼â€ä¸­ï¼Œâ…¥oæ§åˆ¶å™¨ä¼šé€šè¿‡ä¸­æ–­ä¿¡å·ä¸»åŠ¨æŠ¥å‘ŠOå·²å®Œæˆï¼ŒCPUä¸å†éœ€è¦ä¸åœåœ°è½®è¯¢CPUå’Œi/oè®¾å¤‡å¯å¹¶è¡Œå·¥ä½œï¼ŒCPUåˆ©ç”¨ç‡å¾—åˆ°æ˜æ˜¾æå‡ã€‚ ç¼ºç‚¹ï¼šæ¯ä¸ªå­—åœ¨Oè®¾å¤‡ä¸å†…å­˜ä¹‹é—´çš„ä¼ è¾“ï¼Œéƒ½éœ€è¦ç»è¿‡cPUã€‚è€Œé¢‘ç¹çš„ä¸­æ–­å¤„ç†ä¼šæ¶ˆè€—è¾ƒå¤šçš„CPUæ—¶é—´ DMAæ–¹å¼ï¼šç›´æ¥å­˜å‚¨å™¨å­˜å– â‘ æ•°æ®çš„ä¼ é€å•ä½æ˜¯â€œå—â€ï¼Œä¸å†æ˜¯ä¸€ä¸ªå­—ã€ä¸€ä¸ªå­—çš„ä¼ é€ï¼ˆå†™å…¥å†…å­˜æ—¶æ˜¯ä¸€å—å†™å…¥çš„ï¼Œä½†ä»è®¾å¤‡åˆ°DMAæ§åˆ¶å™¨è¯»å–æ•°æ®æ—¶ä»ç„¶æ˜¯ä¸€ä¸ªå­—ä¸€ä¸ªå­—è¯»å–orå†™å…¥çš„ï¼‰ï¼›æ¯æ¬¡è¯»å†™ â‘¡æ•°æ®çš„æµå‘æ˜¯ä»è®¾å¤‡ç›´æ¥æ”¾å…¥å†…å­˜ï¼Œæˆ–è€…ä»å†…å­˜ç›´æ¥åˆ°è®¾å¤‡ã€‚ä¸å†éœ€è¦CPUä½œä¸ºâ€œå¿«é€’å°å“¥â€ â‘¢ä»…åœ¨ä¼ é€ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å—çš„å¼€å§‹å’Œç»“æŸæ—¶ï¼Œæ‰éœ€è¦CPUå¹²é¢„ã€‚ DRï¼ˆ Data Registerï¼Œæ•°æ®å¯„å­˜å™¨ï¼‰ï¼šæš‚å­˜ä»è®¾å¤‡åˆ°å†…å­˜ï¼Œæˆ–ä»å†…å­˜åˆ°è®¾å¤‡çš„æ•°æ®ã€‚ MARï¼ˆ Memory Address Registerï¼Œå†…å­˜åœ°å€å¯„å­˜å™¨ï¼‰ï¼šåœ¨è¾“å…¥æ—¶ï¼ŒMARè¡¨ç¤ºæ•°æ®åº”æ”¾åˆ°å†…å­˜ä¸­çš„ä»€ä¹ˆä½ç½®ï¼›è¾“å‡ºæ—¶MARè¡¨ç¤ºè¦è¾“å‡ºçš„æ•°æ®æ”¾åœ¨å†…å­˜ä¸­çš„ä»€ä¹ˆä½ç½®ã€‚ DCï¼ˆ Data Counterï¼Œæ•°æ®è®¡æ•°å™¨ï¼‰ï¼šè¡¨ç¤ºå‰©ä½™è¦è¯»/å†™çš„å­—èŠ‚æ•°ã€‚ CRï¼ˆ Command Registerï¼Œå‘½ä»¤/æ€å¯„å­˜å™¨ï¼‰ï¼šç”¨äºå­˜æ”¾CPUå‘æ¥çš„/Oå‘½ä»¤ï¼Œæˆ–è®¾å¤‡çš„çŠ¶æ€ä¿¡æ¯ã€‚ CPUå¹²é¢„çš„é¢‘ç‡:ä»…åœ¨ä¼ é€ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å—çš„å¼€å§‹å’Œç»“æŸæ—¶ï¼Œæ‰éœ€è¦CPUå¹²é¢„ã€‚ æ•°æ®ä¼ é€çš„å•ä½:æ¯æ¬¡è¯»/å†™ä¸€ä¸ªæˆ–å¤šä¸ªå—ï¼ˆæ³¨æ„ï¼šæ¯æ¬¡è¯»å†™çš„åªèƒ½æ˜¯è¿ç»­çš„å¤šä¸ªå—ï¼Œä¸”è¿™äº›å—è¯»å…¥å†…å­˜ååœ¨å†…å­˜ä¸­ä¹Ÿå¿…é¡»æ˜¯è¿ç»­çš„ï¼‰ æ•°æ®çš„æµå‘ï¼ˆä¸å†éœ€è¦ç»è¿‡cPUï¼‰ è¯»æ“ä½œï¼ˆæ•°æ®è¾“å…¥ï¼‰ï¼šU/Oè®¾å¤‡â†’å†…å­˜ å†™æ“ä½œï¼ˆæ•°æ®è¾“å‡ºï¼‰ï¼šå†…å­˜â†’/Oè®¾å¤‡ ä¸»è¦ç¼ºç‚¹å’Œä¸»è¦ä¼˜ç‚¹ä¼˜ç‚¹ï¼šæ•°æ®ä¼ è¾“ä»¥â€œå—â€ä¸ºå•ä½ï¼ŒCPUä»‹å…¥é¢‘ç‡è¿›ä¸€æ­¥é™ä½ã€‚æ•°æ®çš„ä¼ è¾“ä¸å†éœ€è¦å…ˆç»è¿‡Cpuå†å†™å…¥å†…å­˜ï¼Œæ•°æ®ä¼ è¾“æ•ˆç‡è¿›ä¸€æ­¥å¢åŠ ã€‚CPUå’Œ/Oè®¾å¤‡çš„å¹¶è¡Œæ€§å¾—åˆ°æå‡ã€‚ ç¼ºç‚¹ï¼šcPUæ¯å‘å‡ºä¸€æ¡IOæŒ‡ä»¤ï¼Œåªèƒ½è¯»/å†™ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­çš„æ•°æ®å—å¦‚æœè¦è¯»/å†™å¤šä¸ªç¦»æ•£å­˜å‚¨çš„æ•°æ®å—ï¼Œæˆ–è€…è¦å°†æ•°æ®åˆ†åˆ«å†™åˆ°ä¸åŒçš„å†…å­˜åŒºåŸŸæ—¶ï¼ŒCPUè¦åˆ†åˆ«å‘å‡ºå¤šæ¡IOæŒ‡ä»¤ï¼Œè¿›è¡Œå¤šæ¬¡ä¸­æ–­å¤„ç†æ‰èƒ½å®Œæˆã€‚ é€šé“æ§åˆ¶æ–¹å¼ é€šé“ï¼šä¸€ç§ç¡¬ä»¶ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯â€œå¼±é¸¡ç‰ˆçš„CpUâ€ã€‚é€šé“å¯ä»¥è¯†åˆ«å¹¶æ‰§è¡Œä¸€ç³»åˆ—é€šé“æŒ‡ä»¤ ç›¸æ¯”DMAï¼Œé€šé“å¯ä»¥è¯†åˆ«æŒ‡ä»¤ CPUå¹²é¢„çš„é¢‘æä½ï¼Œé€šé“ä¼šæ ¹æ®CPUçš„æŒ‡ç¤ºæ‰§è¡Œç›¸åº”çš„é€šé“ç¨‹åºï¼Œåªæœ‰å®Œæˆä¸€ç»„æ•°æ®å—çš„è¯»/å†™åæ‰éœ€è¦å‘å‡ºä¸­æ–­ä¿¡å·ï¼Œè¯·æ±‚CPUå¹²é¢„ã€‚ æ•°æ®ä¼ é€çš„å•ä½æ¯æ¬¡è¯»/å†™ä¸€ç»„æ•°æ®å— æ•°æ®çš„æµå‘ï¼ˆåœ¨é€šé“çš„æ§åˆ¶ä¸‹è¿›è¡Œï¼‰è¯»æ“ä½œï¼ˆæ•°æ®è¾“å…¥ï¼‰ï¼š1/Oè®¾å¤‡â†’å†…å­˜å†™æ“ä½œï¼ˆæ•°æ®è¾“å‡ºï¼‰ï¼šå†…å­˜IOè®¾å¤‡ ä¸»è¦ç¼ºç‚¹å’Œä¸»è¦ä¼˜ç‚¹ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œéœ€è¦ä¸“é—¨çš„é€šé“ç¡¬ä»¶æ”¯æŒ ä¼˜ç‚¹ï¼šCPUã€é€šé“ã€1/Oè®¾å¤‡å¯å¹¶è¡Œå·¥ä½œï¼Œèµ„æºåˆ©ç”¨ç‡å¾ˆé«˜ã€‚ ç¼“å†²åŒº ç¼“å’ŒCPUä¸IOè®¾å¤‡ä¹‹é—´é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ å‡å°‘å¯¹CPUçš„ä¸­æ–­é¢‘ç‡ï¼Œæ”¾å®½å¯¹CPUä¸­æ–­ç›¸åº”æ—¶é—´çš„é™åˆ¶ è§£å†³æ•°æ®ç²’åº¦ä¸åŒ¹é…çš„é—®é¢˜ æé«˜CPUä¸IOè®¾å¤‡ä¹‹é—´çš„å¹¶è¡Œæ€§ ç¼“å†²ç­–ç•¥ å•ç¼“å†²ï¼šå‡è®¾æŸç”¨æˆ·è¿›ç¨‹è¯·æ±‚æŸç§å—è®¾å¤‡è¯»å…¥è‹¥å¹²å—çš„æ•°æ®ã€‚è‹¥é‡‡ç”¨å•ç¼“å†²çš„ç­–ç•¥ï¼Œæ“ä½œç³»ç»Ÿä¼šåœ¨ä¸»å­˜ä¸­ä¸ºå…¶åˆ†é…ä¸€ä¸ªç¼“å†²åŒºï¼ˆè‹¥é¢˜ç›®ä¸­æ²¡æœ‰ç‰¹åˆ«è¯´æ˜ï¼Œä¸€ä¸ªç¼“å†²åŒºçš„å¤§å°å°±æ˜¯ä¸€ä¸ªå—ï¼‰ åŒç¼“å†²ï¼š å¾ªç¯ç¼“å†² ç¼“å†²æ±  é™„å½• Q: æ˜¾ç¤ºå™¨å’Œé”®ç›˜æ˜¯ç»ˆç«¯TTYè®¾å¤‡ Q:è§£å†³ä¸´ç•ŒåŒºé—®é¢˜è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼šäº’æ–¥ï¼ˆMutual Exclusionï¼‰ã€ç©ºé—²è®©è¿›/å‰è¿›ï¼ˆProgressï¼‰ã€æœ‰é™ç­‰å¾…ï¼ˆBounded Waitingï¼‰ æœ€çŸ­ä»»åŠ¡ä¼˜å…ˆ(SJF)è°ƒåº¦ç­–ç•¥å¹³å‡å‘¨è½¬æ—¶é—´æœ€ä¼˜æ€§","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"å­¦ä¹ ç”»å¥½æ¶æ„å›¾","slug":"å­¦ä¹ ç”»å¥½æ¶æ„å›¾","date":"2021-08-24T06:57:11.000Z","updated":"2022-02-27T15:15:10.449Z","comments":true,"path":"2021/08/24/å­¦ä¹ ç”»å¥½æ¶æ„å›¾/","link":"","permalink":"https://nymrli.top/2021/08/24/å­¦ä¹ ç”»å¥½æ¶æ„å›¾/","excerpt":"","text":"ä¸€å›¾èƒœä¸‡è¯­ï¼Œåšå¥½ä¸€å¼ æ¶æ„å›¾èƒ½è®©åˆ«äººä¸€çœ¼å°±æ¸…æ™°åœ°å¼„æ‡‚ç¨‹åºçš„åŠŸèƒ½ä¸ä¾èµ–ï¼Œå¤§å¤§é™ä½å¤§å®¶çš„ç†è§£æˆæœ¬å’Œæå‡æ²Ÿé€šæ•ˆç‡ã€‚ä½†ä½œä¸ºæ–°äººè€Œè¨€ï¼Œå¦‚ä½•ç”»å‡ºè¦ç‚¹ï¼Œæç‚¼å‡ºæ ¸å¿ƒæ¦‚å¿µæ˜¯ä¸ªæœ‰éš¾åº¦çš„äº‹ã€‚ ä»€ä¹ˆæ˜¯æ¶æ„ï¼Ÿ æ¶æ„æ˜¯ç»“æ„å’Œæ„¿æ™¯ï¼Œæ˜¯å¯¹ç³»ç»Ÿä¸­çš„å®ä½“ä»¥åŠå®ä½“ä¹‹é—´çš„å…³ç³»æ‰€è¿›è¡Œçš„æŠ½è±¡æè¿°ï¼Œæ˜¯ä¸€ç³»åˆ—çš„å†³ç­–ã€‚ ç³»ç»Ÿæ¶æ„æ˜¯æ¦‚å¿µçš„ä½“ç°ï¼Œæ˜¯å¯¹ç‰©/ä¿¡æ¯çš„åŠŸèƒ½ä¸å½¢å¼å…ƒç´ ä¹‹é—´çš„å¯¹åº”æƒ…å†µæ‰€åšçš„åˆ†é…ï¼Œæ˜¯å¯¹å…ƒç´ ä¹‹é—´çš„å…³ç³»ä»¥åŠå…ƒç´ åŒå‘¨è¾¹ç¯å¢ƒä¹‹é—´çš„å…³ç³»æ‰€åšçš„å®šä¹‰ã€‚ ä»€ä¹ˆæ˜¯æ¶æ„å›¾ï¼Ÿ ç³»ç»Ÿæ¶æ„å›¾æ˜¯ä¸ºäº†æŠ½è±¡åœ°è¡¨ç¤ºè½¯ä»¶ç³»ç»Ÿçš„æ•´ä½“è½®å»“å’Œå„ä¸ªç»„ä»¶ä¹‹é—´çš„ç›¸äº’å…³ç³»å’Œçº¦æŸè¾¹ç•Œï¼Œä»¥åŠè½¯ä»¶ç³»ç»Ÿçš„ç‰©ç†éƒ¨ç½²å’Œè½¯ä»¶ç³»ç»Ÿçš„æ¼”è¿›æ–¹å‘çš„æ•´ä½“è§†å›¾ã€‚ æ¶æ„å›¾çš„ä½œç”¨ è¦è®©å¹²ç³»äººç†è§£ã€éµå¾ªæ¶æ„å†³ç­–ï¼Œå°±éœ€è¦æŠŠæ¶æ„ä¿¡æ¯ä¼ é€’å‡ºå»ã€‚æ¶æ„å›¾å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è½½ä½“ã€‚é‚£ä¹ˆï¼Œç”»æ¶æ„å›¾æ˜¯ä¸ºäº†ï¼š è§£å†³æ²Ÿé€šéšœç¢ è¾¾æˆå…±è¯† å‡å°‘æ­§ä¹‰ æ¶æ„æ ¸å¿ƒè¦ç´  ç»¼åˆä¸Šè¿°å„ç§æƒå¨å®šä¹‰ï¼Œè½¯ä»¶ç³»ç»Ÿçš„æ¶æ„é€šå¸¸éœ€è¦åŒ…å«å¦‚ä¸‹å››ç±»æ ¸å¿ƒè¦ç´ ï¼š å…ƒç´ ï¼ˆelementsï¼‰ï¼šå°†ç³»ç»Ÿæ‹†åˆ†ä¸ºä¸€ç»„å…ƒç´  - æ¨¡å—ã€ç»„ä»¶ã€ç»“æ„ä½“ã€å­ç³»ç»Ÿï¼› å…³ç³»ï¼ˆrelationshipsï¼‰ï¼šä¸åŒå…ƒç´ ä¹‹é—´çš„å…³ç³» - äº¤äº’ã€ä¾èµ– ã€ç»§æ‰¿ã€ç»„åˆã€èšåˆï¼› å±æ€§ï¼ˆpropertiesï¼‰ï¼šæ¯ä¸ªå…ƒç´ å…·å¤‡çš„å±æ€§ - åç§°ã€èŒè´£ã€æ¥å£ã€å®ç°é™åˆ¶ç­‰ï¼› åŸç†ï¼ˆprinciplesï¼‰ï¼šä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ - æ‹†åˆ†ä¾æ®ã€è®¾è®¡åŸåˆ™ã€å†³ç­–åŸå› ç­‰ã€‚ æ¶æ„å›¾åˆ†ç±» æœé›†äº†å¾ˆå¤šèµ„æ–™ï¼Œåˆ†ç±»æœ‰å¾ˆå¤šï¼Œæœ‰ä¸€ç§æ¯”è¾ƒæµè¡Œçš„æ˜¯4+1è§†å›¾ï¼Œåˆ†åˆ«ä¸ºåœºæ™¯è§†å›¾ã€é€»è¾‘è§†å›¾ã€ç‰©ç†è§†å›¾ã€å¤„ç†æµç¨‹è§†å›¾å’Œå¼€å‘è§†å›¾ã€‚ fromï¼šå¦‚ä½•ç”»å¥½è½¯ä»¶é¡¹ç›®æ¶æ„å›¾ï¼Ÿï¼Œ æ¶æ„åˆ¶å›¾ï¼šå·¥å…·ä¸æ–¹æ³•è®º é™„å½• äº”ç§å¸¸è§è½¯ä»¶æ¶æ„ åˆ†å±‚æ¶æ„ äº‹ä»¶é©±åŠ¨æ¶æ„ å¾®æ ¸æ¶æ„ å¾®æœåŠ¡æ¶æ„ äº‘æ¶æ„ æ¶æ„å›¾exampleï¼š æ¶æ„æ–‡ç«  ã€è¶…èµã€‘æŠ€æœ¯æ¶æ„çš„æˆ˜ç•¥å’Œæˆ˜æœ¯åŸåˆ™ ç”»ä¸€æ‰‹å¥½çš„æ¶æ„å›¾æ˜¯ç å†œè¿›é˜¶çš„å¼€å§‹ [è¯‘] æˆ‘åšåŸºç¡€æ¶æ„å­¦åˆ°çš„42ä»¶äº‹","categories":[],"tags":[{"name":"ç¦åˆ©","slug":"ç¦åˆ©","permalink":"https://nymrli.top/tags/ç¦åˆ©/"}]},{"title":"AOPå­¦ä¹ ","slug":"AOPå­¦ä¹ ","date":"2021-08-19T08:35:08.000Z","updated":"2021-09-09T05:12:21.789Z","comments":true,"path":"2021/08/19/AOPå­¦ä¹ /","link":"","permalink":"https://nymrli.top/2021/08/19/AOPå­¦ä¹ /","excerpt":"","text":"AOPå­¦ä¹  AOP è¦ç´  Aspectåˆ‡é¢ï¼šæ˜¯åˆ‡å…¥ç‚¹å’Œé€šçŸ¥çš„æŠ½è±¡â€”â€”åˆ‡é¢åˆ™æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æŠ½è±¡ï¼Œä¸ç±»ç›¸ä¼¼ï¼Œç±»æ˜¯å¯¹ç‰©ä½“ç‰¹å¾çš„æŠ½è±¡ï¼Œåˆ‡é¢åˆ™æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹æŠ½è±¡ã€‚ åˆ‡å…¥ç‚¹PointCutï¼šå®šä¹‰è¦æ‹¦æˆªå“ªäº›ç±»çš„å“ªäº›æ–¹æ³• åˆ‡å…¥ç‚¹è¡¨è¾¾å¼@Pointcut(&quot;execution(* com.service.*.*(..))&quot;) æ‰§è¡Œexectutionåçš„ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨çš„æ˜¯æ–¹æ³•çš„ä¿®é¥°èŒƒå›´ï¼ˆpublicã€privateã€protectedï¼‰,ç¬¬äºŒä¸ªè¡¨ç¤ºæ‹¦æˆªçš„æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ª*è¡¨ç¤ºæ‰€æœ‰ç±»ï¼Œç¬¬äºŒä¸ª*è¡¨ç¤ºæ‰€æœ‰çš„æ–¹æ³•ï¼Œæ‹¬å·ä¸­çš„â€¦è¡¨ç¤ºä»»æ„å‚æ•° å¸¸ç”¨çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æœ‰ï¼š execution(public *(..))æ‰§è¡Œæ‰€æœ‰å…¬æœ‰æ–¹æ³• execution(* set(..))æ‰§è¡Œæ‰€æœ‰setæ–¹æ³• execution(* com.service.*.*(..))æ‰§è¡ŒåŒ…ä¸‹ä»»æ„ç±»çš„ä»»æ„æ–¹æ³• execution(* com.service..*.*(..))è®¾å®šæŒ‡å®šåŒ…åŠå…¶å­åŒ…çš„ä»»æ„ç±»çš„ä»»æ„æ–¹æ³• é€šçŸ¥Adviceï¼šå®šä¹‰äº†æ‹¦æˆªä¹‹åè¦åšä»€ä¹ˆ Targetï¼ˆç›®æ ‡å¯¹è±¡ï¼‰:è¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡ Weaveï¼ˆç»‡å…¥ï¼‰:å°†åˆ‡é¢åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡å¹¶ç”Ÿæˆä»£ç†å¯¹è±¡çš„è¿™ä¸ªè¿‡ç¨‹å³ä¸ºç»‡å…¥ from: ç¨‹åºå‘˜å¤§ç¥ä¿®ç‚¼ç§˜ç± Spring AOP HelloWorld åº”ç”¨åœºæ™¯ é€šçŸ¥ç±»å‹ JAVAä¸­çš„AOP åº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸»è¦åŒ…æ‹¬AspectJã€Spring AOPå’ŒJBoss AOPç­‰ AspectJé‡‡ç”¨äº†æºä»£ç ç”ŸæˆæŠ€æœ¯æ¥å®ç°AOPï¼Œé™æ€ç»‡å…¥çš„æ–¹å¼ Spring AOPå’ŒJBoss AOPåœ¨å®ç°ä¸Šå±äºåŠ¨æ€ç»‡å…¥çš„æ–¹å¼ demo code: Bç«™æœ€è¯¦ç»† Spring AOP+Spring å®šæ—¶ä»»åŠ¡æ•™ç¨‹ ã€æ¶¨è–ªå¿…å¤‡ã€‘å¸¦ä½ ä¸€æ­¥ä¸€æ­¥æå®šåƒé€Spring SpringAOP SpringæŠ€æœ¯è‡ªå®šä¹‰æ³¨è§£å’ŒAopå®ç°äº‹åŠ¡æ¡†æ¶ï¼Œé˜¿é‡ŒP7éƒ½è¦æŒæ¡çš„æŠ€æœ¯~â€”â€”ç»“åˆAopæŠ€æœ¯ï¼Œå®ç°æ³¨è§£åˆ†æ ä¸€åˆ†é’Ÿå­¦ä¼šè‡ªå®šä¹‰æ³¨è§£æ³¨å…¥Spring IoC å®¹å™¨â€”â€”å°†è‡ªå®šä¹‰æ³¨è§£ä¿®é¥°çš„ç±»æ³¨å…¥åˆ°Iocå®¹å™¨ä¸­","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"},{"name":"Spring","slug":"Spring","permalink":"https://nymrli.top/tags/Spring/"}]},{"title":"JWTä½¿ç”¨å­¦ä¹ ","slug":"JWTä½¿ç”¨å­¦ä¹ ","date":"2021-08-11T08:44:17.000Z","updated":"2021-12-05T14:44:02.515Z","comments":true,"path":"2021/08/11/JWTä½¿ç”¨å­¦ä¹ /","link":"","permalink":"https://nymrli.top/2021/08/11/JWTä½¿ç”¨å­¦ä¹ /","excerpt":"","text":"JWT: Json Web Token ä¸æ™®é€šTokenä¸€æ ·éƒ½æ˜¯è®¿é—®èµ„æºçš„ä»¤ç‰Œï¼Œéƒ½å¯ä»¥è®°å½•ç”¨æˆ·ä¿¡æ¯ï¼Œéƒ½æ˜¯åªæœ‰éªŒè¯æˆåŠŸåæ‰å¯ä»¥è·å–ä¿¡æ¯ã€‚ ä¸åŒçš„æ˜¯æ™®é€šTokenï¼ŒæœåŠ¡ç«¯éªŒè¯tokenä¿¡æ¯æ—¶è¦è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢æ“ä½œï¼›JWTéªŒè¯tokenä¿¡æ¯å°±ä¸ç”¨ï¼Œåœ¨æœåŠ¡ç«¯ä½¿ç”¨å¯†é’¥æ ¡éªŒå°±å¯ä»¥ï¼Œä¸ç”¨ç»è¿‡æ•°æ®åº“æŸ¥è¯¢ã€‚==ã€‹å®ƒæ˜¯ä¸€ä¸ªæ•°å­—ç­¾å JWTä¿¡æ¯ç»„æˆ JSON Web Tokenç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œå®ƒä»¬ä¹‹é—´ç”¨åœ†ç‚¹(.)è¿æ¥ã€‚è¿™ä¸‰éƒ¨åˆ†åˆ†åˆ«æ˜¯ï¼š Header Header headerå…¸å‹çš„ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼štokençš„ç±»å‹ï¼ˆâ€œJWTâ€ï¼‰å’Œç®—æ³•åç§°ï¼ˆæ¯”å¦‚ï¼šHMAC SHA256æˆ–è€…RSAç­‰ç­‰ï¼‰ã€‚ Payload Payload JWTçš„ç¬¬äºŒéƒ¨åˆ†æ˜¯payloadï¼Œå®ƒåŒ…å«å£°æ˜ï¼ˆè¦æ±‚ï¼‰ã€‚å£°æ˜æ˜¯å…³äºå®ä½“(é€šå¸¸æ˜¯ç”¨æˆ·)å’Œå…¶ä»–æ•°æ®çš„å£°æ˜ã€‚å£°æ˜æœ‰ä¸‰ç§ç±»å‹: registered, public å’Œ privateã€‚ Registered claims : è¿™é‡Œæœ‰ä¸€ç»„é¢„å®šä¹‰çš„å£°æ˜ï¼Œå®ƒä»¬ä¸æ˜¯å¼ºåˆ¶çš„ï¼Œä½†æ˜¯æ¨èã€‚æ¯”å¦‚ï¼šiss (issuer), exp (expiration time), sub (subject), aud (audience)ç­‰ã€‚ 12345678910111213&#123; // è¿™éƒ¨åˆ†æ˜¯Registered claims &quot;iss&quot;: &quot;Online JWT Builder&quot;, // è¯¥JWTçš„ç­¾å‘è€… &quot;iat&quot;: 1416797419, // iat(issued at): åœ¨ä»€ä¹ˆæ—¶å€™ç­¾å‘çš„(UNIXæ—¶é—´) &quot;exp&quot;: 1448333419, // ä»€ä¹ˆæ—¶å€™è¿‡æœŸï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªUnixæ—¶é—´æˆ³ &quot;aud&quot;: &quot;www.example.com&quot;, // æ¥æ”¶è¯¥JWTçš„ä¸€æ–¹ &quot;sub&quot;: &quot;jrocket@example.com&quot;, // è¯¥JWTæ‰€é¢å‘çš„ç”¨æˆ·// è¿™éƒ¨åˆ†æ˜¯Public claims &quot;GivenName&quot;: &quot;Johnny&quot;, &quot;Surname&quot;: &quot;Rocket&quot;, &quot;Email&quot;: &quot;jrocket@example.com&quot;, &quot;Role&quot;: [ &quot;Manager&quot;, &quot;Project Administrator&quot; ] &#125; Public claims : å¯ä»¥éšæ„å®šä¹‰ã€‚ Private claims : ç”¨äºåœ¨åŒæ„ä½¿ç”¨å®ƒä»¬çš„å„æ–¹ä¹‹é—´å…±äº«ä¿¡æ¯ï¼Œå¹¶ä¸”ä¸æ˜¯æ³¨å†Œçš„æˆ–å…¬å¼€çš„å£°æ˜ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š Signature ç­¾åç§˜é’¥ã€‚ ä¸ºäº†å¾—åˆ°ç­¾åéƒ¨åˆ†ï¼Œä½ å¿…é¡»æœ‰ç¼–ç è¿‡çš„headerã€ç¼–ç è¿‡çš„payloadã€ä¸€ä¸ªç§˜é’¥ï¼Œç­¾åç®—æ³•æ˜¯headerä¸­æŒ‡å®šçš„é‚£ä¸ªï¼Œç„¶å¯¹å®ƒä»¬ç­¾åå³å¯ã€‚ æ³¨ï¼š ä¸è¦åœ¨JWTçš„payloadæˆ–headerä¸­æ”¾ç½®æ•æ„Ÿä¿¡æ¯ï¼Œé™¤éå®ƒä»¬æ˜¯åŠ å¯†çš„ã€‚ ç„¶åå¯¹æ¯ä¸€éƒ¨åˆ†è¿›è¡Œbase64åŠ å¯†ï¼Œå†é€šè¿‡.ç»„åˆå³å¯å¾—åˆ°JWTã€‚ å› æ­¤ï¼Œä¸€ä¸ªå…¸å‹çš„JWTçœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼šxxxxx.yyyyy.zzzzz JWTç½‘ç»œå·¥ä½œæµç¨‹ ä½¿ç”¨åœºæ™¯ï¼š Authorization (æˆæƒ) : è¿™æ˜¯ä½¿ç”¨JWTçš„æœ€å¸¸è§åœºæ™¯ã€‚ä¸€æ—¦ç”¨æˆ·ç™»å½•ï¼Œåç»­æ¯ä¸ªè¯·æ±‚éƒ½å°†åŒ…å«JWTï¼Œå…è®¸ç”¨æˆ·è®¿é—®è¯¥ä»¤ç‰Œå…è®¸çš„è·¯ç”±ã€æœåŠ¡å’Œèµ„æºã€‚å•ç‚¹ç™»å½•æ˜¯ç°åœ¨å¹¿æ³›ä½¿ç”¨çš„JWTçš„ä¸€ä¸ªç‰¹æ€§ï¼Œå› ä¸ºå®ƒçš„å¼€é”€å¾ˆå°ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°è·¨åŸŸä½¿ç”¨ã€‚ Information Exchange (ä¿¡æ¯äº¤æ¢) : å¯¹äºå®‰å…¨çš„åœ¨å„æ–¹ä¹‹é—´ä¼ è¾“ä¿¡æ¯è€Œè¨€ï¼ŒJSON Web Tokensæ— ç–‘æ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹å¼ã€‚å› ä¸ºJWTå¯ä»¥è¢«ç­¾åï¼Œä¾‹å¦‚ï¼Œç”¨å…¬é’¥/ç§é’¥å¯¹ï¼Œä½ å¯ä»¥ç¡®å®šå‘é€äººå°±æ˜¯å®ƒä»¬æ‰€è¯´çš„é‚£ä¸ªäººã€‚å¦å¤–ï¼Œç”±äºç­¾åæ˜¯ä½¿ç”¨å¤´å’Œæœ‰æ•ˆè´Ÿè½½è®¡ç®—çš„ï¼Œæ‚¨è¿˜å¯ä»¥éªŒè¯å†…å®¹æ²¡æœ‰è¢«ç¯¡æ”¹ã€‚ https://jwt.io/ JSON Web Tokensæ˜¯å¦‚ä½•å·¥ä½œçš„ åœ¨è®¤è¯çš„æ—¶å€™ï¼Œå½“ç”¨æˆ·ç”¨ä»–ä»¬çš„å‡­è¯æˆåŠŸç™»å½•ä»¥åï¼Œä¸€ä¸ªJSON Web Tokenå°†ä¼šè¢«è¿”å›ã€‚æ­¤åï¼Œtokenå°±æ˜¯ç”¨æˆ·å‡­è¯äº†ï¼Œä½ å¿…é¡»éå¸¸å°å¿ƒä»¥é˜²æ­¢å‡ºç°å®‰å…¨é—®é¢˜ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä½ ä¿å­˜ä»¤ç‰Œçš„æ—¶å€™ä¸åº”è¯¥è¶…è¿‡ä½ æ‰€éœ€è¦å®ƒçš„æ—¶é—´ã€‚ æ— è®ºä½•æ—¶ç”¨æˆ·æƒ³è¦è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±æˆ–è€…èµ„æºçš„æ—¶å€™ï¼Œç”¨æˆ·ä»£ç†ï¼ˆé€šå¸¸æ˜¯æµè§ˆå™¨ï¼‰éƒ½åº”è¯¥å¸¦ä¸ŠJWTï¼Œå…¸å‹çš„ï¼Œé€šå¸¸æ”¾åœ¨**Authorization header(æˆæƒå¤´)**ä¸­ï¼Œç”¨Bearer schemaã€‚ æœåŠ¡å™¨ä¸Šçš„å—ä¿æŠ¤çš„è·¯ç”±å°†ä¼šæ£€æŸ¥Authorization headerä¸­çš„JWTæ˜¯å¦æœ‰æ•ˆï¼Œå¦‚æœæœ‰æ•ˆï¼Œåˆ™ç”¨æˆ·å¯ä»¥è®¿é—®å—ä¿æŠ¤çš„èµ„æºã€‚å¦‚æœJWTåŒ…å«è¶³å¤Ÿå¤šçš„å¿…éœ€çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‡å°‘å¯¹æŸäº›æ“ä½œçš„æ•°æ®åº“æŸ¥è¯¢çš„éœ€è¦ï¼Œå°½ç®¡å¯èƒ½å¹¶ä¸æ€»æ˜¯å¦‚æ­¤ã€‚ å¦‚æœtokenæ˜¯åœ¨æˆæƒå¤´ï¼ˆAuthorization headerï¼‰ä¸­å‘é€çš„ï¼Œé‚£ä¹ˆè·¨æºèµ„æºå…±äº«(CORS)å°†ä¸ä¼šæˆä¸ºé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸ä½¿ç”¨cookieã€‚ è¿™ä¸ªtokenå¿…é¡»è¦åœ¨æ¯æ¬¡è¯·æ±‚æ—¶ä¼ é€’ç»™æœåŠ¡ç«¯ï¼Œå®ƒåº”è¯¥ä¿å­˜åœ¨è¯·æ±‚å¤´é‡Œï¼Œ å¦å¤–ï¼ŒæœåŠ¡ç«¯è¦æ”¯æŒCORS(è·¨æ¥æºèµ„æºå…±äº«)ç­–ç•¥ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨æœåŠ¡ç«¯è¿™ä¹ˆåšå°±å¯ä»¥äº†Access-Control-Allow-Origin: *ã€‚ åŸºäºTokençš„èº«ä»½è®¤è¯ ä¸ åŸºäºæœåŠ¡å™¨çš„èº«ä»½è®¤è¯ çš„åŒºåˆ«: åŸºäºæœåŠ¡å™¨çš„èº«ä»½è®¤è¯æ–¹å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š Sessions : æ¯æ¬¡ç”¨æˆ·è®¤è¯é€šè¿‡ä»¥åï¼ŒæœåŠ¡å™¨éœ€è¦åˆ›å»ºä¸€æ¡è®°å½•ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œé€šå¸¸æ˜¯åœ¨å†…å­˜ä¸­ï¼Œéšç€è®¤è¯é€šè¿‡çš„ç”¨æˆ·è¶Šæ¥è¶Šå¤šï¼ŒæœåŠ¡å™¨çš„åœ¨è¿™é‡Œçš„å¼€é”€å°±ä¼šè¶Šæ¥è¶Šå¤§ã€‚ Scalability : ç”±äºSessionæ˜¯åœ¨å†…å­˜ä¸­çš„ï¼Œè¿™å°±å¸¦æ¥ä¸€äº›æ‰©å±•æ€§çš„é—®é¢˜ã€‚ CORS : å½“æˆ‘ä»¬æƒ³è¦æ‰©å±•æˆ‘ä»¬çš„åº”ç”¨ï¼Œè®©æˆ‘ä»¬çš„æ•°æ®è¢«å¤šä¸ªç§»åŠ¨è®¾å¤‡ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘è·¨èµ„æºå…±äº«é—®é¢˜ã€‚å½“ä½¿ç”¨AJAXè°ƒç”¨ä»å¦ä¸€ä¸ªåŸŸåä¸‹è·å–èµ„æºæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ç¦æ­¢è¯·æ±‚çš„é—®é¢˜ã€‚ CSRF : ç”¨æˆ·å¾ˆå®¹æ˜“å—åˆ°CSRFæ”»å‡»ã€‚ JWTä¸Sessionçš„å·®å¼‚ å®ƒä»¬éƒ½æ˜¯å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼›ç„¶è€Œï¼ŒSessionæ˜¯åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œå®¢æˆ·ç«¯åªæœ‰session idï¼Œè€ŒJWTæ˜¯åœ¨å®¢æˆ·ç«¯çš„ã€‚ Sessionæ–¹å¼å­˜å‚¨ç”¨æˆ·ä¿¡æ¯çš„æœ€å¤§é—®é¢˜åœ¨äºè¦å ç”¨å¤§é‡æœåŠ¡å™¨å†…å­˜ï¼Œå¢åŠ æœåŠ¡å™¨çš„å¼€é”€ã€‚è€ŒJWTæ–¹å¼å°†ç”¨æˆ·çŠ¶æ€åˆ†æ•£åˆ°äº†å®¢æˆ·ç«¯ä¸­ï¼Œå¯ä»¥æ˜æ˜¾å‡è½»æœåŠ¡ç«¯çš„å†…å­˜å‹åŠ›ã€‚ åŸºäºTokençš„èº«ä»½è®¤è¯æ˜¯æ— çŠ¶æ€çš„ï¼ŒæœåŠ¡å™¨æˆ–è€…Sessionä¸­ä¸ä¼šå­˜å‚¨ä»»ä½•ç”¨æˆ·ä¿¡æ¯ï¼Œå³æ²¡æœ‰ä¼šè¯çš„æ¦‚å¿µ ç”¨Tokençš„å¥½å¤„ æ— çŠ¶æ€å’Œå¯æ‰©å±•æ€§ï¼šTokenså­˜å‚¨åœ¨å®¢æˆ·ç«¯ã€‚å®Œå…¨æ— çŠ¶æ€ï¼Œå¯æ‰©å±•ã€‚æˆ‘ä»¬çš„è´Ÿè½½å‡è¡¡å™¨å¯ä»¥å°†ç”¨æˆ·ä¼ é€’åˆ°ä»»æ„æœåŠ¡å™¨ï¼Œå› ä¸ºåœ¨ä»»ä½•åœ°æ–¹éƒ½æ²¡æœ‰çŠ¶æ€æˆ–ä¼šè¯ä¿¡æ¯ã€‚ å®‰å…¨ï¼šTokenä¸æ˜¯Cookieã€‚ï¼ˆThe token, not a cookie.ï¼‰æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™Tokenéƒ½ä¼šè¢«å‘é€ã€‚è€Œä¸”ï¼Œç”±äºæ²¡æœ‰Cookieè¢«å‘é€ï¼Œè¿˜æœ‰åŠ©äºé˜²æ­¢CSRFæ”»å‡»ã€‚å³ä½¿åœ¨ä½ çš„å®ç°ä¸­å°†tokenå­˜å‚¨åˆ°å®¢æˆ·ç«¯çš„Cookieä¸­ï¼Œè¿™ä¸ªCookieä¹Ÿåªæ˜¯ä¸€ç§å­˜å‚¨æœºåˆ¶ï¼Œè€Œéèº«ä»½è®¤è¯æœºåˆ¶ã€‚æ²¡æœ‰åŸºäºä¼šè¯çš„ä¿¡æ¯å¯ä»¥æ“ä½œï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰ä¼šè¯! è¿˜æœ‰ä¸€ç‚¹ï¼Œtokenåœ¨ä¸€æ®µæ—¶é—´ä»¥åä¼šè¿‡æœŸï¼Œè¿™ä¸ªæ—¶å€™ç”¨æˆ·éœ€è¦é‡æ–°ç™»å½•ã€‚è¿™æœ‰åŠ©äºæˆ‘ä»¬ä¿æŒå®‰å…¨ã€‚è¿˜æœ‰ä¸€ä¸ªæ¦‚å¿µå«tokenæ’¤é”€ï¼Œå®ƒå…è®¸æˆ‘ä»¬æ ¹æ®ç›¸åŒçš„æˆæƒè®¸å¯ä½¿ç‰¹å®šçš„tokenç”šè‡³ä¸€ç»„tokenæ— æ•ˆã€‚ JWTä¸OAuthçš„åŒºåˆ« OAuth2æ˜¯ä¸€ç§æˆæƒæ¡†æ¶ ï¼ŒJWTæ˜¯ä¸€ç§è®¤è¯åè®® -æ— è®ºä½¿ç”¨å“ªç§æ–¹å¼åˆ‡è®°ç”¨HTTPSæ¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ OAuth2ç”¨åœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•çš„æƒ…å†µ(æ¯”å¦‚ä½¿ç”¨weibo, qq, githubç™»å½•æŸä¸ªapp)ï¼Œè€ŒJWTæ˜¯ç”¨åœ¨å‰åç«¯åˆ†ç¦», éœ€è¦ç®€å•çš„å¯¹åå°APIè¿›è¡Œä¿æŠ¤æ—¶ä½¿ç”¨ã€‚ ä¼˜ç‚¹ å› ä¸ºjsonçš„é€šç”¨æ€§ï¼Œæ‰€ä»¥JWTæ˜¯å¯ä»¥è¿›è¡Œè·¨è¯­è¨€æ”¯æŒçš„ï¼ŒåƒJAVA,JavaScript,NodeJS,PHPç­‰å¾ˆå¤šè¯­è¨€éƒ½å¯ä»¥ä½¿ç”¨ã€‚ å› ä¸ºæœ‰äº†payloadéƒ¨åˆ†ï¼Œæ‰€ä»¥JWTå¯ä»¥åœ¨è‡ªèº«å­˜å‚¨ä¸€äº›å…¶ä»–ä¸šåŠ¡é€»è¾‘æ‰€å¿…è¦çš„éæ•æ„Ÿä¿¡æ¯ã€‚ ä¾¿äºä¼ è¾“ï¼Œjwtçš„æ„æˆéå¸¸ç®€å•ï¼Œå­—èŠ‚å ç”¨å¾ˆå°ï¼Œæ‰€ä»¥å®ƒæ˜¯éå¸¸ä¾¿äºä¼ è¾“çš„ã€‚ å®ƒä¸éœ€è¦åœ¨æœåŠ¡ç«¯ä¿å­˜ä¼šè¯ä¿¡æ¯, æ‰€ä»¥å®ƒæ˜“äºåº”ç”¨çš„æ‰©å±• fromï¼šäº”åˆ†é’Ÿå¸¦ä½ äº†è§£å•¥æ˜¯JWT é™„å½• å‡ ç§å¸¸ç”¨çš„è®¤è¯æœºåˆ¶ HTTP Basic Auth HTTP Basic Authç®€å•ç‚¹è¯´æ˜å°±æ˜¯æ¯æ¬¡è¯·æ±‚APIæ—¶éƒ½æä¾›ç”¨æˆ·çš„usernameå’Œpasswordï¼Œç®€è¨€ä¹‹ï¼ŒBasic Authæ˜¯é…åˆRESTful API ä½¿ç”¨çš„æœ€ç®€å•çš„è®¤è¯æ–¹å¼ï¼Œåªéœ€æä¾›ç”¨æˆ·åå¯†ç å³å¯ï¼Œä½†ç”±äºæœ‰æŠŠç”¨æˆ·åå¯†ç æš´éœ²ç»™ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯çš„é£é™©ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹è¢«ä½¿ç”¨çš„è¶Šæ¥è¶Šå°‘ã€‚å› æ­¤ï¼Œåœ¨å¼€å‘å¯¹å¤–å¼€æ”¾çš„RESTful APIæ—¶ï¼Œå°½é‡é¿å…é‡‡ç”¨HTTP Basic Auth OAuth OAuthï¼ˆå¼€æ”¾æˆæƒï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾çš„æˆæƒæ ‡å‡†ï¼Œå…è®¸ç”¨æˆ·è®©ç¬¬ä¸‰æ–¹åº”ç”¨è®¿é—®è¯¥ç”¨æˆ·åœ¨æŸä¸€webæœåŠ¡ä¸Šå­˜å‚¨çš„ç§å¯†çš„èµ„æºï¼ˆå¦‚ç…§ç‰‡ï¼Œè§†é¢‘ï¼Œè”ç³»äººåˆ—è¡¨ï¼‰ï¼Œè€Œæ— éœ€å°†ç”¨æˆ·åå’Œå¯†ç æä¾›ç»™ç¬¬ä¸‰æ–¹åº”ç”¨ã€‚ è¿™ç§åŸºäºOAuthçš„è®¤è¯æœºåˆ¶é€‚ç”¨äºä¸ªäººæ¶ˆè´¹è€…ç±»çš„äº’è”ç½‘äº§å“ï¼Œå¦‚ç¤¾äº¤ç±»APPç­‰åº”ç”¨ï¼Œä½†æ˜¯ä¸å¤ªé€‚åˆæ‹¥æœ‰è‡ªæœ‰è®¤è¯æƒé™ç®¡ç†çš„ä¼ä¸šåº”ç”¨ï¼› Cookie Auth Cookieè®¤è¯æœºåˆ¶å°±æ˜¯ä¸ºä¸€æ¬¡è¯·æ±‚è®¤è¯åœ¨æœåŠ¡ç«¯åˆ›å»ºä¸€ä¸ªSessionå¯¹è±¡ï¼ŒåŒæ—¶åœ¨å®¢æˆ·ç«¯çš„æµè§ˆå™¨ç«¯åˆ›å»ºäº†ä¸€ä¸ªCookieå¯¹è±¡ï¼›é€šè¿‡å®¢æˆ·ç«¯å¸¦ä¸Šæ¥Cookieå¯¹è±¡æ¥ä¸æœåŠ¡å™¨ç«¯çš„sessionå¯¹è±¡åŒ¹é…æ¥å®ç°çŠ¶æ€ç®¡ç†çš„ã€‚é»˜è®¤çš„ï¼Œå½“æˆ‘ä»¬å…³é—­æµè§ˆå™¨çš„æ—¶å€™ï¼Œcookieä¼šè¢«åˆ é™¤ã€‚ä½†å¯ä»¥é€šè¿‡ä¿®æ”¹cookie çš„expire timeä½¿cookieåœ¨ä¸€å®šæ—¶é—´å†…æœ‰æ•ˆï¼› Token Auth Tokenæœºåˆ¶ç›¸å¯¹äºCookieæœºåˆ¶åˆæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ æ”¯æŒè·¨åŸŸè®¿é—®: Cookieæ˜¯ä¸å…è®¸å®åŸŸè®¿é—®çš„ï¼Œè¿™ä¸€ç‚¹å¯¹Tokenæœºåˆ¶æ˜¯ä¸å­˜åœ¨çš„ï¼Œå‰ææ˜¯ä¼ è¾“çš„ç”¨æˆ·è®¤è¯ä¿¡æ¯é€šè¿‡HTTPå¤´ä¼ è¾“. æ— çŠ¶æ€(ä¹Ÿç§°ï¼šæœåŠ¡ç«¯å¯æ‰©å±•è¡Œ):Tokenæœºåˆ¶åœ¨æœåŠ¡ç«¯ä¸éœ€è¦å­˜å‚¨sessionä¿¡æ¯ï¼Œå› ä¸ºToken è‡ªèº«åŒ…å«äº†æ‰€æœ‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ï¼Œåªéœ€è¦åœ¨å®¢æˆ·ç«¯çš„cookieæˆ–æœ¬åœ°ä»‹è´¨å­˜å‚¨çŠ¶æ€ä¿¡æ¯. æ›´é€‚ç”¨CDN: å¯ä»¥é€šè¿‡å†…å®¹åˆ†å‘ç½‘ç»œè¯·æ±‚ä½ æœåŠ¡ç«¯çš„æ‰€æœ‰èµ„æ–™ï¼ˆå¦‚ï¼šjavascriptï¼ŒHTML,å›¾ç‰‡ç­‰ï¼‰ï¼Œè€Œä½ çš„æœåŠ¡ç«¯åªè¦æä¾›APIå³å¯. å»è€¦: ä¸éœ€è¦ç»‘å®šåˆ°ä¸€ä¸ªç‰¹å®šçš„èº«ä»½éªŒè¯æ–¹æ¡ˆã€‚Tokenå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ç”Ÿæˆï¼Œåªè¦åœ¨ä½ çš„APIè¢«è°ƒç”¨çš„æ—¶å€™ï¼Œä½ å¯ä»¥è¿›è¡ŒTokenç”Ÿæˆè°ƒç”¨å³å¯. æ›´é€‚ç”¨äºç§»åŠ¨åº”ç”¨: å½“ä½ çš„å®¢æˆ·ç«¯æ˜¯ä¸€ä¸ªåŸç”Ÿå¹³å°ï¼ˆiOS, Androidï¼ŒWindows 8ç­‰ï¼‰æ—¶ï¼ŒCookieæ˜¯ä¸è¢«æ”¯æŒçš„ï¼ˆä½ éœ€è¦é€šè¿‡Cookieå®¹å™¨è¿›è¡Œå¤„ç†ï¼‰ï¼Œè¿™æ—¶é‡‡ç”¨Tokenè®¤è¯æœºåˆ¶å°±ä¼šç®€å•å¾—å¤šã€‚ CSRF:å› ä¸ºä¸å†ä¾èµ–äºCookieï¼Œæ‰€ä»¥ä½ å°±ä¸éœ€è¦è€ƒè™‘å¯¹CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰çš„é˜²èŒƒã€‚ æ€§èƒ½: ä¸€æ¬¡ç½‘ç»œå¾€è¿”æ—¶é—´ï¼ˆé€šè¿‡æ•°æ®åº“æŸ¥è¯¢sessionä¿¡æ¯ï¼‰æ€»æ¯”åšä¸€æ¬¡HMACSHA256è®¡ç®— çš„TokenéªŒè¯å’Œè§£æè¦è´¹æ—¶å¾—å¤š. ä¸éœ€è¦ä¸ºç™»å½•é¡µé¢åšç‰¹æ®Šå¤„ç†: å¦‚æœä½ ä½¿ç”¨Protractor åšåŠŸèƒ½æµ‹è¯•çš„æ—¶å€™ï¼Œä¸å†éœ€è¦ä¸ºç™»å½•é¡µé¢åšç‰¹æ®Šå¤„ç†. åŸºäºæ ‡å‡†åŒ–:ä½ çš„APIå¯ä»¥é‡‡ç”¨æ ‡å‡†åŒ–çš„ JSON Web Token (JWT). è¿™ä¸ªæ ‡å‡†å·²ç»å­˜åœ¨å¤šä¸ªåç«¯åº“ï¼ˆ.NET, Ruby, Java,Python, PHPï¼‰å’Œå¤šå®¶å…¬å¸çš„æ”¯æŒï¼ˆå¦‚ï¼šFirebase,Google, Microsoftï¼‰. JSON WebToken Auth ä½¿ç”¨javaåº“æ¥ç”ŸæˆJWT JJWT åŠ å¯†ç”ŸæˆJWT è§£å¯†JWT JAVA JWT 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657public class JWTUtil &#123; // è¿‡æœŸæ—¶é—´5åˆ†é’Ÿ private static final long EXPIRE_TIME = 5*60*1000; /** * æ ¡éªŒtokenæ˜¯å¦æ­£ç¡® * @param token å¯†é’¥ * @param secret ç”¨æˆ·çš„å¯†ç  * @return æ˜¯å¦æ­£ç¡® */ public static boolean verify(String token, String username, String secret) &#123; try &#123; Algorithm algorithm = Algorithm.HMAC256(secret); JWTVerifier verifier = JWT.require(algorithm) .withClaim(\"username\", username) .build(); DecodedJWT jwt = verifier.verify(token); return true; &#125; catch (Exception exception) &#123; return false; &#125; &#125; /** * è·å¾—tokenä¸­çš„ä¿¡æ¯æ— éœ€secretè§£å¯†ä¹Ÿèƒ½è·å¾— * @return tokenä¸­åŒ…å«çš„ç”¨æˆ·å */ public static String getUsername(String token) &#123; try &#123; DecodedJWT jwt = JWT.decode(token); return jwt.getClaim(\"username\").asString(); &#125; catch (JWTDecodeException e) &#123; return null; &#125; &#125; /** * ç”Ÿæˆç­¾å,5minåè¿‡æœŸ * @param username ç”¨æˆ·å * @param secret ç”¨æˆ·çš„å¯†ç  * @return åŠ å¯†çš„token */ public static String sign(String username, String secret) &#123; try &#123; Date date = new Date(System.currentTimeMillis()+EXPIRE_TIME); Algorithm algorithm = Algorithm.HMAC256(secret); // é™„å¸¦usernameä¿¡æ¯ return JWT.create() .withClaim(\"username\", username) .withExpiresAt(date) .sign(algorithm); &#125; catch (UnsupportedEncodingException e) &#123; return null; &#125; &#125;&#125; JSâ€”â€”jsonwebtoken 1234567891011121314151617181920212223242526272829303132333435363738var express = require(\"express\")var jwt = require(\"jsonwebtoken\")var app = express()app.use(express.json())var secret = \"1234565\"app.get(\"/login\", (req, res) =&gt; &#123; var name = req.query.name; var pass = req.query.pass; console.log(\"url: \", req.method, req.url); console.log(\"queryString: \", req.query); console.log(\"headers: \", req.headers); console.log(\"body: \", req.body); if (name == \"mrli\" &amp;&amp; pass == \"aaa123123\") &#123; var token = jwt.sign(&#123; name &#125;, secret) res.send(&#123; token &#125;) &#125; else &#123; // res.sendStatus(401) res.json(&#123; code: 200, msg: \"401\" &#125;) &#125;&#125;)app.get(\"/bearer\", (req, res) =&gt; &#123; try &#123; var token = req.headers.authorization.split(\" \")[1]; var decode_data = jwt.verify(token, secret) console.log(decode_data.name); res.send(\"æ“ä½œæˆåŠŸ\") &#125; catch (e) &#123; res.send(401) &#125;&#125;)app.listen(8080)","categories":[],"tags":[]},{"title":"Shiroä½¿ç”¨å­¦ä¹ ","slug":"Shiroä½¿ç”¨å­¦ä¹ ","date":"2021-08-11T07:39:08.000Z","updated":"2021-09-07T10:18:38.073Z","comments":true,"path":"2021/08/11/Shiroä½¿ç”¨å­¦ä¹ /","link":"","permalink":"https://nymrli.top/2021/08/11/Shiroä½¿ç”¨å­¦ä¹ /","excerpt":"","text":"Apache Shiro æ˜¯ä¸€ä¸ªå¼ºå¤§æ˜“ç”¨çš„ Java å®‰å…¨æ¡†æ¶ï¼Œæä¾›äº†è®¤è¯ã€æˆæƒã€åŠ å¯†å’Œä¼šè¯ç®¡ç†ç­‰åŠŸèƒ½ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå¯¹äºä»»ä½•ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ŒShiro éƒ½å¯ä»¥æä¾›å…¨é¢çš„å®‰å…¨ç®¡ç†æœåŠ¡ã€‚å¹¶ä¸”ç›¸å¯¹äºå…¶ä»–å®‰å…¨æ¡†æ¶ï¼ŒShiro è¦ç®€å•çš„å¤šã€‚ Shiro çš„æ¶æ„ ä»å¤–éƒ¨æ¥çœ‹åº”è¯¥å…·æœ‰éå¸¸ç®€å•æ˜“äºä½¿ç”¨çš„ APIï¼Œä¸” API å¥‘çº¦æ˜ç¡®ï¼›ä»å†…éƒ¨æ¥çœ‹çš„è¯ï¼Œå…¶åº”è¯¥æœ‰ä¸€ä¸ªå¯æ‰©å±•çš„æ¶æ„ï¼Œå³éå¸¸å®¹æ˜“æ’å…¥ç”¨æˆ·è‡ªå®šä¹‰å®ç°ï¼Œ äº¤äº’æµç¨‹å¦‚ä¸‹ï¼š åº”ç”¨ä»£ç ç›´æ¥äº¤äº’çš„å¯¹è±¡æ˜¯ Subjectï¼Œä¹Ÿå°±æ˜¯è¯´ Shiro çš„å¯¹å¤– API æ ¸å¿ƒå°±æ˜¯ Subjectã€‚ Subjectï¼šä¸»ä½“ï¼Œä»£è¡¨äº†å½“å‰ â€œç”¨æˆ·â€ï¼Œè¿™ä¸ªç”¨æˆ·ä¸ä¸€å®šæ˜¯ä¸€ä¸ªå…·ä½“çš„äººï¼Œä¸å½“å‰åº”ç”¨äº¤äº’çš„ä»»ä½•ä¸œè¥¿éƒ½æ˜¯ Subjectï¼Œå¦‚ç½‘ç»œçˆ¬è™«ï¼Œæœºå™¨äººç­‰ï¼›å³ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼›æ‰€æœ‰ Subject éƒ½ç»‘å®šåˆ° SecurityManagerï¼Œä¸ Subject çš„æ‰€æœ‰äº¤äº’éƒ½ä¼šå§”æ‰˜ç»™ SecurityManagerï¼›å¯ä»¥æŠŠ Subject è®¤ä¸ºæ˜¯ä¸€ä¸ªé—¨é¢ï¼›SecurityManager æ‰æ˜¯å®é™…çš„æ‰§è¡Œè€…ï¼› SecurityManagerï¼šå®‰å…¨ç®¡ç†å™¨ï¼›å³æ‰€æœ‰ä¸å®‰å…¨æœ‰å…³çš„æ“ä½œéƒ½ä¼šä¸ SecurityManager äº¤äº’ï¼›ä¸”å®ƒç®¡ç†ç€æ‰€æœ‰ Subjectï¼›å¯ä»¥çœ‹å‡ºå®ƒæ˜¯ Shiro çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£ä¸åè¾¹ä»‹ç»çš„å…¶ä»–ç»„ä»¶è¿›è¡Œäº¤äº’ï¼Œå¦‚æœå­¦ä¹ è¿‡ SpringMVCï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆ DispatcherServlet å‰ç«¯æ§åˆ¶å™¨ï¼› Realmï¼šåŸŸï¼ŒShiro ä» Realm è·å–å®‰å…¨æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ã€è§’è‰²ã€æƒé™ï¼‰ï¼Œå°±æ˜¯è¯´ SecurityManager è¦éªŒè¯ç”¨æˆ·èº«ä»½ï¼Œé‚£ä¹ˆå®ƒéœ€è¦ä» Realm è·å–ç›¸åº”çš„ç”¨æˆ·è¿›è¡Œæ¯”è¾ƒä»¥ç¡®å®šç”¨æˆ·èº«ä»½æ˜¯å¦åˆæ³•ï¼›ä¹Ÿéœ€è¦ä» Realm å¾—åˆ°ç”¨æˆ·ç›¸åº”çš„è§’è‰² / æƒé™è¿›è¡ŒéªŒè¯ç”¨æˆ·æ˜¯å¦èƒ½è¿›è¡Œæ“ä½œï¼›å¯ä»¥æŠŠ Realm çœ‹æˆ DataSourceï¼Œå³å®‰å…¨æ•°æ®æºã€‚ â˜…ä¹Ÿå°±æ˜¯è¯´å¯¹äºæˆ‘ä»¬è€Œè¨€ï¼Œæœ€ç®€å•çš„ä¸€ä¸ª Shiro åº”ç”¨ï¼š åº”ç”¨ä»£ç é€šè¿‡ Subject æ¥è¿›è¡Œè®¤è¯å’Œæˆæƒï¼Œè€Œ Subject åˆå§”æ‰˜ç»™ SecurityManagerï¼› æˆ‘ä»¬éœ€è¦ç»™ Shiro çš„ SecurityManager æ³¨å…¥ Realmï¼Œä»è€Œè®© SecurityManager èƒ½å¾—åˆ°åˆæ³•çš„ç”¨æˆ·åŠå…¶æƒé™è¿›è¡Œåˆ¤æ–­ã€‚ å…·ä½“çš„æ¶æ„è®¾è®¡ä¸ç»„ä»¶ï¼š Subjectï¼šä¸»ä½“ï¼Œå¯ä»¥çœ‹åˆ°ä¸»ä½“å¯ä»¥æ˜¯ä»»ä½•å¯ä»¥ä¸åº”ç”¨äº¤äº’çš„ â€œç”¨æˆ·â€ï¼› SecurityManagerï¼šç›¸å½“äº SpringMVC ä¸­çš„ DispatcherServlet æˆ–è€… Struts2 ä¸­çš„ FilterDispatcherï¼›æ˜¯ Shiro çš„å¿ƒè„ï¼›æ‰€æœ‰å…·ä½“çš„äº¤äº’éƒ½é€šè¿‡ SecurityManager è¿›è¡Œæ§åˆ¶ï¼›å®ƒç®¡ç†ç€æ‰€æœ‰ Subjectã€ä¸”è´Ÿè´£è¿›è¡Œè®¤è¯å’Œæˆæƒã€åŠä¼šè¯ã€ç¼“å­˜çš„ç®¡ç†ã€‚ Authenticatorï¼šè®¤è¯å™¨ï¼Œè´Ÿè´£ä¸»ä½“è®¤è¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªæ‰©å±•ç‚¹ï¼Œå¦‚æœç”¨æˆ·è§‰å¾— Shiro é»˜è®¤çš„ä¸å¥½ï¼Œå¯ä»¥è‡ªå®šä¹‰å®ç°ï¼›å…¶éœ€è¦è®¤è¯ç­–ç•¥ï¼ˆAuthentication Strategyï¼‰ï¼Œå³ä»€ä¹ˆæƒ…å†µä¸‹ç®—ç”¨æˆ·è®¤è¯é€šè¿‡äº†ï¼› Authorizerï¼šæˆæƒå™¨ï¼Œæˆ–è€…è®¿é—®æ§åˆ¶å™¨ï¼Œç”¨æ¥å†³å®šä¸»ä½“æ˜¯å¦æœ‰æƒé™è¿›è¡Œç›¸åº”çš„æ“ä½œï¼›å³æ§åˆ¶ç€ç”¨æˆ·èƒ½è®¿é—®åº”ç”¨ä¸­çš„å“ªäº›åŠŸèƒ½ï¼› Realmï¼šå¯ä»¥æœ‰ 1 ä¸ªæˆ–å¤šä¸ª Realmï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å®‰å…¨å®ä½“æ•°æ®æºï¼Œå³ç”¨äºè·å–å®‰å…¨å®ä½“çš„ï¼›å¯ä»¥æ˜¯ JDBC å®ç°ï¼Œä¹Ÿå¯ä»¥æ˜¯ LDAP å®ç°ï¼Œæˆ–è€…å†…å­˜å®ç°ç­‰ç­‰ï¼›ç”±ç”¨æˆ·æä¾›ï¼›æ³¨æ„ï¼šShiro ä¸çŸ¥é“ä½ çš„ç”¨æˆ· / æƒé™å­˜å‚¨åœ¨å“ªåŠä»¥ä½•ç§æ ¼å¼å­˜å‚¨ï¼›æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬åœ¨åº”ç”¨ä¸­éƒ½éœ€è¦å®ç°è‡ªå·±çš„ Realmï¼› Realm Realmï¼šåŸŸï¼ŒShiro ä» Realmè·å–å®‰å…¨æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ã€è§’è‰²ã€æƒé™ï¼‰ï¼Œå°±æ˜¯è¯´ SecurityManager è¦éªŒè¯ç”¨æˆ·èº«ä»½ï¼Œé‚£ä¹ˆå®ƒéœ€è¦ä» Realm è·å–ç›¸åº”çš„ç”¨æˆ·è¿›è¡Œæ¯”è¾ƒä»¥ç¡®å®šç”¨æˆ·èº«ä»½æ˜¯å¦åˆæ³•ï¼›ä¹Ÿéœ€è¦ä» Realm å¾—åˆ°ç”¨æˆ·ç›¸åº”çš„è§’è‰² / æƒé™è¿›è¡ŒéªŒè¯ç”¨æˆ·æ˜¯å¦èƒ½è¿›è¡Œæ“ä½œï¼›å¯ä»¥æŠŠ Realm çœ‹æˆ DataSourceï¼Œå³å®‰å…¨æ•°æ®æºã€‚ èº«ä»½éªŒè¯ èº«ä»½éªŒè¯å’Œæˆæƒæ˜¯Shiroä¸¤ä¸ªä¸»è¦çš„åŠŸèƒ½ã€‚ èº«ä»½éªŒè¯ï¼Œå³åœ¨åº”ç”¨ä¸­è°èƒ½è¯æ˜ä»–å°±æ˜¯ä»–æœ¬äººã€‚ä¸€èˆ¬æä¾›å¦‚ä»–ä»¬çš„èº«ä»½ ID ä¸€äº›æ ‡è¯†ä¿¡æ¯æ¥è¡¨æ˜ä»–å°±æ˜¯ä»–æœ¬äººï¼Œå¦‚æä¾›èº«ä»½è¯ï¼Œç”¨æˆ·å / å¯†ç æ¥è¯æ˜ã€‚ åœ¨ shiro ä¸­ï¼Œç”¨æˆ·éœ€è¦æä¾› principals ï¼ˆèº«ä»½ï¼‰å’Œ credentialsï¼ˆè¯æ˜ï¼‰ç»™ shiroï¼Œä»è€Œåº”ç”¨èƒ½éªŒè¯ç”¨æˆ·èº«ä»½ï¼š principalsï¼šèº«ä»½ï¼Œå³ä¸»ä½“çš„æ ‡è¯†å±æ€§ï¼Œå¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œå¦‚ç”¨æˆ·åã€é‚®ç®±ç­‰ï¼Œå”¯ä¸€å³å¯ã€‚ä¸€ä¸ªä¸»ä½“å¯ä»¥æœ‰å¤šä¸ª principalsï¼Œä½†åªæœ‰ä¸€ä¸ª Primary principalsï¼Œä¸€èˆ¬æ˜¯ç”¨æˆ·å / å¯†ç  / æ‰‹æœºå·ã€‚ credentialsï¼šè¯æ˜ / å‡­è¯ï¼Œå³åªæœ‰ä¸»ä½“çŸ¥é“çš„å®‰å…¨å€¼ï¼Œå¦‚å¯†ç  / æ•°å­—è¯ä¹¦ç­‰ã€‚ èº«ä»½è®¤è¯æµç¨‹ æµç¨‹å¦‚ä¸‹ï¼š é¦–å…ˆè°ƒç”¨ Subject.login(token) è¿›è¡Œç™»å½•ï¼Œå…¶ä¼šè‡ªåŠ¨å§”æ‰˜ç»™ Security Managerï¼Œè°ƒç”¨ä¹‹å‰å¿…é¡»é€šè¿‡ SecurityUtils.setSecurityManager() è®¾ç½®ï¼› SecurityManager è´Ÿè´£çœŸæ­£çš„èº«ä»½éªŒè¯é€»è¾‘ï¼›å®ƒä¼šå§”æ‰˜ç»™ Authenticator è¿›è¡Œèº«ä»½éªŒè¯ï¼› Authenticator æ‰æ˜¯çœŸæ­£çš„èº«ä»½éªŒè¯è€…ï¼ŒShiro API ä¸­æ ¸å¿ƒçš„èº«ä»½è®¤è¯å…¥å£ç‚¹ï¼Œæ­¤å¤„å¯ä»¥è‡ªå®šä¹‰æ’å…¥è‡ªå·±çš„å®ç°ï¼› Authenticator å¯èƒ½ä¼šå§”æ‰˜ç»™ç›¸åº”çš„ AuthenticationStrategy è¿›è¡Œå¤š Realm èº«ä»½éªŒè¯ï¼Œé»˜è®¤ ModularRealmAuthenticator ä¼šè°ƒç”¨ AuthenticationStrategy è¿›è¡Œå¤š Realm èº«ä»½éªŒè¯ï¼› Authenticatorä¼šæŠŠç›¸åº”çš„ token ä¼ å…¥ Realmï¼Œä» Realm è·å–èº«ä»½éªŒè¯ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰è¿”å› / æŠ›å‡ºå¼‚å¸¸è¡¨ç¤ºèº«ä»½éªŒè¯æˆåŠŸäº†ã€‚æ­¤å¤„å¯ä»¥é…ç½®å¤šä¸ª Realmï¼Œå°†æŒ‰ç…§ç›¸åº”çš„é¡ºåºåŠç­–ç•¥è¿›è¡Œè®¿é—®ã€‚ æˆæƒ fromï¼š w3cschool Shiroæ•™ç¨‹æ–‡æ¡£ é™„å½• å®˜æ–¹ååˆ†é’Ÿæ•™ç¨‹-ç‹¬ç«‹ç¨‹åºç¯‡ 12345678910111213&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-core&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt; &lt;version&gt;1.6.1&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115// Quickstart.javapublic class Quickstart &#123; private static final transient Logger log = LoggerFactory.getLogger(Quickstart.class); public static void main(String[] args) &#123; // The easiest way to create a Shiro SecurityManager with configured // realms, users, roles and permissions is to use the simple INI config. // We'll do that by using a factory that can ingest a .ini file and // return a SecurityManager instance: /** * è¿™æ˜¯æœ€ç®€å•çš„æ–¹æ³•é€šè¿‡é…ç½®å»åˆ›å»ºä¸€ä¸ªShiro SecurityManagerã€‚ * realmsï¼Œ usersï¼Œ roles å’Œ permissionséƒ½æ˜¯é€šè¿‡è¿™ä¸ªç®€å•çš„iniæ–‡ä»¶é…ç½®çš„ * æˆ‘ä»¬é€šè¿‡ä½¿ç”¨å·¥å‚æ–¹å¼è¯»å–é…ç½®æ–‡ä»¶å¹¶è·å–ä¸€ä¸ªSecurityManagerå®ä¾‹ */ // Use the shiro.ini file at the root of the classpath // ä½¿ç”¨classpahtæ ¹ç›®å½•çš„shiro.iniæ–‡ä»¶ // (file: and url: prefixes load from files and urls respectively): // file: å’Œurl: è¿™ä¸¤ä¸ªå‰ç¼€åˆ†åˆ«ä»fileså’ŒurlsåŠ è½½çš„ IniSecurityManagerFactory factory = new IniSecurityManagerFactory(\"classpath:shiro.ini\"); SecurityManager securityManager = factory.getInstance(); // for this simple example quickstart, make the SecurityManager // accessible as a JVM singleton. Most applications wouldn't do this // and instead rely on their container configuration or web.xml for // webapps. That is outside the scope of this simple quickstart, so // we'll just do the bare minimum so you can continue to get a feel // for things. /** * quickstartè¿™ä¸ªä¾‹å­ä¸­ï¼Œä½¿ç”¨çš„SecurityManageræ˜¯JVMå•ä¾‹çš„ã€‚è®¸å¤šåº”ç”¨ç¨‹åºä¸è¿™æ ·åšã€‚ * æ¯”å¦‚è¦é…ç½®web.xmlç­‰ã€‚ä½†æ˜¯ä¸åœ¨quickstartèŒƒå›´å†…ã€‚ * æˆ‘ä»¬åªæ˜¯æœ€å°é™åº¦çš„è®©ä½ æ˜ç™½ä½ åœ¨åšä»€ä¹ˆã€‚ã€‚ã€‚ã€‚ã€‚ */ SecurityUtils.setSecurityManager(securityManager); // Now that a simple Shiro environment is set up, let's see what you can do: // ç°åœ¨ä¸€ä¸ªç®€å•çš„Shiroç¯å¢ƒå°±å·²ç»è®¾ç½®å¥½äº† // get the currently executing user: // è·å–å½“å‰æ‰§è¡Œçš„ç”¨æˆ· Subject currentUser = SecurityUtils.getSubject(); // Do some stuff with a Session (no need for a web or EJB container!!!) // ç”¨sessionåšä¸€äº›äº‹ï¼Œä¸éœ€è¦webæˆ–è€…EJBå®¹å™¨å°±èƒ½ä½¿ç”¨session Session session = currentUser.getSession(); session.setAttribute(\"someKey\", \"aValue\"); String value = (String) session.getAttribute(\"someKey\"); if (value.equals(\"aValue\")) &#123; log.info(\"Retrieved the correct value! [\" + value + \"]\"); &#125; // let's login the current user so we can check against roles and permissions: // ç”¨å½“å‰ç”¨æˆ·ç™»å½•ï¼Œæ£€æŸ¥è§’è‰²å’Œæƒé™ if (!currentUser.isAuthenticated()) &#123; // è®¾ç½®å½“å‰ç”¨æˆ·çš„ä¿¡æ¯// UsernamePasswordToken token = new UsernamePasswordToken(\"presidentskroob\", \"vespa\"); UsernamePasswordToken token = new UsernamePasswordToken(\"presidentskroob\", \"12345\"); // rememberMeåŠŸèƒ½ token.setRememberMe(true); try &#123; // ç™»å½• currentUser.login(token); // ç™»å½•å¤±è´¥çš„ä¸€äº›å¼‚å¸¸æ•è· &#125; catch (UnknownAccountException uae) &#123; log.info(\"There is no user with username of \" + token.getPrincipal()); &#125; catch (IncorrectCredentialsException ice) &#123; log.info(\"Password for account \" + token.getPrincipal() + \" was incorrect!\"); &#125; catch (LockedAccountException lae) &#123; log.info(\"The account for username \" + token.getPrincipal() + \" is locked. \" + \"Please contact your administrator to unlock it.\"); &#125; // ... catch more exceptions here (maybe custom ones specific to your application? catch (AuthenticationException ae) &#123; //unexpected condition? error? &#125; &#125; //say who they are: //print their identifying principal (in this case, a username): // è·å–å½“äº‹äººã€‚ã€‚ è¿™ä¸ªä¾‹å­å°±æ˜¯username log.info(\"User [\" + currentUser.getPrincipal() + \"] logged in successfully.\"); //test a role: // æµ‹è¯•è§’è‰² if (currentUser.hasRole(\"schwartz\")) &#123; log.info(\"May the Schwartz be with you!\"); &#125; else &#123; log.info(\"Hello, mere mortal.\"); &#125; //test a typed permission (not instance-level) // æµ‹è¯•æƒé™ï¼Œä¸æ˜¯å®ä¾‹çº§åˆ« if (currentUser.isPermitted(\"lightsaber:wield\")) &#123; log.info(\"You may use a lightsaber ring. Use it wisely.\"); &#125; else &#123; log.info(\"Sorry, lightsaber rings are for schwartz masters only.\"); &#125; //a (very powerful) Instance Level permission: // å®ä¾‹çº§åˆ« if (currentUser.isPermitted(\"winnebago:drive:eagle5\")) &#123; log.info(\"You are permitted to 'drive' the winnebago with license plate (id) 'eagle5'. \" + \"Here are the keys - have fun!\"); &#125; else &#123; log.info(\"Sorry, you aren't allowed to drive the 'eagle5' winnebago!\"); &#125; //all done - log out! // é€€å‡º currentUser.logout(); System.exit(0); &#125;&#125; é…ç½®æ–‡ä»¶ shiro.iniç¼–å†™ 12345678910111213141516171819# -----------------------------------------------------------------------------# Users and their (optional) assigned roles# username = password, role1, role2, ..., roleN# -----------------------------------------------------------------------------[users]root = secret, adminguest = guest, guestpresidentskroob = 12345, presidentdarkhelmet = ludicrousspeed, darklord, schwartzaihe = aihe, goodguy, client# -----------------------------------------------------------------------------# Roles with assigned permissions# roleName = perm1, perm2, ..., permN# -----------------------------------------------------------------------------[roles]admin = *client = look:*goodguy = winnebago:drive:eagle5 springbooté›†æˆshrio å®šä¹‰è‡ªå®šçš„Realmï¼š é‡å†™supportsã€doGetAuthorizationInfo(AuthenticationToken auth)-&gt;AuthenticatingRealmã€é»˜è®¤ä½¿ç”¨æ­¤æ–¹æ³•è¿›è¡Œç”¨æˆ·åæ­£ç¡®ä¸å¦éªŒè¯ã€‘ã€doGetAuthorizationInfo(PrincipalCollection principals) -&gt;AuthorizingRealm ã€æ£€æµ‹ç”¨æˆ·æƒé™çš„æ—¶å€™è°ƒç”¨ã€‘ ï¼š è¿”å›å€¼éƒ½ä¸ºAuthorizationInfo è‡ªå®šä¹‰Shrioè¿‡æ»¤å™¨é›†ï¼š preHandle -&gt; isAccessAllowed -&gt; executeLogin -&gt; é…ç½®ShiroConfigurationï¼š åˆ›å»ºDefaultWebSecurityManagerã€ShiroFilterFactoryBeanè¿™ä¸¤ä¸ªç±»å‹çš„Bean ï¼ˆå¯é€‰ï¼‰ï¼šå®šä¹‰è‡ªå·±çš„AuthenticationTokenï¼Œ å¦‚JWTToken åœ¨ç›¸åº”çš„æ¥å£ä¸Šæ§åˆ¶æƒé™ï¼šæ³¨è§£å£°æ˜å¼ï¼š@RequiresAuthenticationã€@RequiresRoles(â€œadminâ€)ã€@RequiresPermissions(logical = Logical.AND, value = {â€œviewâ€, â€œeditâ€})ã€æˆ–è€…ä»£ç ç¼–ç¨‹å¼ï¼šSubject subject = SecurityUtils.getSubject(); if (subject.isAuthenticated()) è®¤è¯æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š executeLoginå‡½æ•°ä¸­çš„getSubject(request, response).login(token);ä¼šè°ƒç”¨this.securityManager.login(this, token);ä»è€Œè§¦å‘è®¤è¯å™¨ç®¡ç†å™¨AuthenticatingSecurityManageræ‰¾åˆ°è®¤è¯å™¨ModularRealmAuthenticatoræ‰§è¡Œthis.authenticator.authenticate(token);ä»è€Œè°ƒåº¦æ³¨å†Œthis.doSingleRealmAuthentication((Realm)realms.iterator().next(), authenticationToken)çš„Realmå»å®Œæˆè®¤è¯å·¥ä½œï¼šå…ˆåˆ¤æ–­å½“å‰realmæ˜¯å¦æ”¯æŒè§£æå½“å‰å‡ºä¼ å…¥çš„AuthenticationTokenï¼Œç¬¦åˆåˆ™è°ƒç”¨AuthenticationInfo info = realm.getAuthenticationInfo(token);è¿›è¡Œæ ¡éªŒ -&gt;(AuthenticatingRealmï¼šæˆ‘ä»¬Realmç»§æ‰¿çš„ç±») ä»è€Œè°ƒç”¨äº†æˆ‘ä»¬è‡ªå®šä¹‰é‡å†™çš„doGetAuthenticationInfo(AuthenticationToken auth)æ–¹æ³•info = this.doGetAuthenticationInfo(token); å¦‚ä½•ä½¿ç”¨JWTåšæ ¡éªŒçš„æµç¨‹ï¼š åœ¨LoginControllerä¸­å¦‚æœç”¨æˆ·ç™»é™†æˆåŠŸåˆ™è¿”å›JWTä¿¡æ¯ã€‚ ç”¨æˆ·è®¿é—®è¢«Shrioè¿‡æ»¤å™¨æ³¨å†Œçš„URLï¼Œåˆ™é€šè¿‡è¿‡æ»¤å™¨ä¸­æ‰§è¡Œçš„preHandlerï¼ˆè®¾ç½®è¯·æ±‚å¤´ï¼‰-&gt;onHandlerä¸­ä¼šæ‰§è¡ŒisAccessAllowedï¼ˆè§„å®šå¦‚ä½•é€šè¡Œï¼‰ä»è€Œè°ƒç”¨çœŸæ­£çš„è®¤è¯åˆ¤å®šå‡½æ•°executeLoginå…¶ä¸­ä¼šè°ƒç”¨Realmæ¥è¿›è¡Œloginçš„åˆ¤æ–­ï¼ˆå¦‚æœæ²¡æœ‰å¼‚å¸¸åˆ™è¡¨ç¤ºé€šè¿‡ï¼‰ è¯¦ç»†çš„ä»£ç å®è·µæ•™ç¨‹ï¼š https://github.com/Smith-Cruise/Spring-Boot-Shiro https://github.com/echisan/springboot-jwt-demo â€”â€”SpringSecurity demo","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"},{"name":"åº”ç”¨æ¡†æ¶å­¦ä¹ ","slug":"åº”ç”¨æ¡†æ¶å­¦ä¹ ","permalink":"https://nymrli.top/tags/åº”ç”¨æ¡†æ¶å­¦ä¹ /"}]},{"title":"Goçš„é…ç½®å’Œä½¿ç”¨","slug":"Goçš„é…ç½®å’Œä½¿ç”¨","date":"2021-07-27T03:10:11.000Z","updated":"2021-11-10T03:52:36.654Z","comments":true,"path":"2021/07/27/Goçš„é…ç½®å’Œä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2021/07/27/Goçš„é…ç½®å’Œä½¿ç”¨/","excerpt":"","text":"Goè¯­æ³•å­¦ä¹  Go è¯­è¨€è¢«è®¾è®¡æˆä¸€é—¨åº”ç”¨äºæ­è½½ Web æœåŠ¡å™¨ï¼Œå­˜å‚¨é›†ç¾¤æˆ–ç±»ä¼¼ç”¨é€”çš„å·¨å‹ä¸­å¤®æœåŠ¡å™¨çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ã€‚ å¯¹äºé«˜æ€§èƒ½åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸè€Œè¨€ï¼ŒGo è¯­è¨€æ— ç–‘æ¯”å¤§å¤šæ•°å…¶å®ƒè¯­è¨€æœ‰ç€æ›´é«˜çš„å¼€å‘æ•ˆç‡ã€‚å®ƒæä¾›äº†æµ·é‡å¹¶è¡Œçš„æ”¯æŒï¼Œè¿™å¯¹äºæ¸¸æˆæœåŠ¡ç«¯çš„å¼€å‘è€Œè¨€æ˜¯å†å¥½ä¸è¿‡äº†ã€‚ å˜é‡å£°æ˜ å˜é‡æ¥æºäºæ•°å­¦ï¼Œæ˜¯è®¡ç®—æœºè¯­è¨€ä¸­èƒ½å‚¨å­˜è®¡ç®—ç»“æœæˆ–èƒ½è¡¨ç¤ºå€¼æŠ½è±¡æ¦‚å¿µã€‚å˜é‡å¯ä»¥é€šè¿‡å˜é‡åè®¿é—®ã€‚ å£°æ˜å˜é‡çš„ä¸€èˆ¬å½¢å¼æ˜¯ä½¿ç”¨ var å…³é”®å­—ï¼š ç¬¬ä¸€ç§ï¼ŒæŒ‡å®šå˜é‡ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™å˜é‡é»˜è®¤ä¸ºé›¶å€¼: var identifier1, identifier2 type==&gt;boolé›¶å€¼ä¸ºfalseï¼Œintä¸º0 ç¬¬äºŒç§ï¼Œæ ¹æ®å€¼è‡ªè¡Œåˆ¤å®šå˜é‡ç±»å‹: var v_name = value, var flag = true ä½¿ç”¨:=, := æ˜¯ä¸€ä¸ªå£°æ˜è¯­å¥ --&gt; intVal := 1 ç›¸ç­‰äºï¼švar intVal intå’ŒintVal =1 æ³¨ï¼šå¦‚æœå˜é‡å·²ç»ä½¿ç”¨ var å£°æ˜è¿‡äº†ï¼Œå†ä½¿ç”¨ *:=* å£°æ˜å˜é‡ï¼Œå°±äº§ç”Ÿç¼–è¯‘é”™è¯¯ å‡½æ•°å®šä¹‰ 123func function_name( [parameter list] ) [return_types] &#123; å‡½æ•°ä½“&#125; funcï¼šå‡½æ•°ç”± func å¼€å§‹å£°æ˜ function_nameï¼šå‡½æ•°åç§°ï¼Œå‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹æ„æˆäº†å‡½æ•°ç­¾åã€‚ parameter listï¼šå‚æ•°åˆ—è¡¨ï¼Œå‚æ•°å°±åƒä¸€ä¸ªå ä½ç¬¦ï¼Œå½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä½ å¯ä»¥å°†å€¼ä¼ é€’ç»™å‚æ•°ï¼Œè¿™ä¸ªå€¼è¢«ç§°ä¸ºå®é™…å‚æ•°ã€‚å‚æ•°åˆ—è¡¨æŒ‡å®šçš„æ˜¯å‚æ•°ç±»å‹ã€é¡ºåºã€åŠå‚æ•°ä¸ªæ•°ã€‚å‚æ•°æ˜¯å¯é€‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°ä¹Ÿå¯ä»¥ä¸åŒ…å«å‚æ•°ã€‚ return_typesï¼šè¿”å›ç±»å‹ï¼Œå‡½æ•°è¿”å›ä¸€åˆ—å€¼ã€‚return_types æ˜¯è¯¥åˆ—å€¼çš„æ•°æ®ç±»å‹ã€‚æœ‰äº›åŠŸèƒ½ä¸éœ€è¦è¿”å›å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ return_types ä¸æ˜¯å¿…é¡»çš„ã€‚ å‡½æ•°ä½“ï¼šå‡½æ•°å®šä¹‰çš„ä»£ç é›†åˆã€‚ æ³¨ï¼šGoçš„å‡½æ•°è·Ÿpythonä¸€æ ·èƒ½å¤Ÿè¿”å›å¤šä¸ªè¿”å›å€¼ Go è¯­è¨€æ¥å£ Go è¯­è¨€æä¾›äº†å¦å¤–ä¸€ç§æ•°æ®ç±»å‹å³æ¥å£ï¼Œå®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£(å¹¶ä¸éœ€è¦æŒ‡å®šå®ç°çš„æ˜¯å“ªä¸ªæ¥å£çš„æ–¹æ³•)ã€‚ 12345678910111213141516171819202122/* å®šä¹‰æ¥å£ */type interface_name interface &#123; method_name1 [return_type] method_name2 [return_type] method_name3 [return_type] ... method_namen [return_type]&#125;/* å®šä¹‰ç»“æ„ä½“ */type struct_name struct &#123; /* variables */&#125;/* å®ç°æ¥å£æ–¹æ³• */func (struct_name_variable struct_name) method_name1() [return_type] &#123; /* æ–¹æ³•å®ç° */&#125;...func (struct_name_variable struct_name) method_namen() [return_type] &#123; /* æ–¹æ³•å®ç°*/&#125; æ³¨ï¼š Goè¯­è¨€ä¸­ä¸å…è®¸æœ‰æ²¡æœ‰ä½¿ç”¨çš„å˜é‡ï¼ˆå‡½æ•°å¯ä»¥ï¼‰ ifå’Œforåé¢å¿…é¡»æœ‰å¤§æ‹¬å·ï¼Œå³ä½¿åªæœ‰ä¸€å¥ä¹Ÿå¾—æœ‰å¤§æ‹¬å· sliceå³åˆ‡ç‰‡ï¼Œä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯æ•°ç»„çš„æŠ½è±¡ï¼Œ é€šè¿‡var identifier []typeå£°æ˜æˆ–è€…slice1 := make([]type, len)åˆ›å»ºï¼Œå¦‚**s :=[] int {1,2,3 }** åŒºåˆ†äºæ•°ç»„ï¼švar balance [10] float32ã€var balance = [5]float32{1000.0, 2.0, 3.4, 7.0, 50.0}ã€balance := [5]float32{1000.0, 2.0, 3.4, 7.0, 50.0}ã€balance := [...]float32{1000.0, 2.0, 3.4, 7.0, 50.0} mapä½¿ç”¨ï¼š 12345// ç¬¬ä¸€ç§var countryCapitalMap map[string]string /*åˆ›å»ºé›†åˆ */countryCapitalMap = make(map[string]string)// ç¬¬äºŒç§map_variable := make(map[string]string) go buildå’Œgo installåŒºåˆ« go build ä¸èƒ½ç”ŸæˆåŒ…æ–‡ä»¶, go install å¯ä»¥ç”ŸæˆåŒ…æ–‡ä»¶ go build ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶åœ¨å½“å‰ç›®å½•ä¸‹ï¼› go install ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶åœ¨binç›®å½•ä¸‹ï¼ˆ$GOPATH/binï¼‰ï¼Œå¦‚æœç¯å¢ƒå˜é‡æŒ‡å®šäº†GOPATHï¼Œåˆ™å¯ç›´æ¥åœ¨cmdé‡Œè¾“å…¥æ–‡ä»¶ï¼Œå¦‚go install mycode.goï¼Œ åˆ™ç¼–è¯‘å¥½åå¯ä»¥ç›´æ¥åœ¨cmdé‡Œè¾“å…¥mycode -fpath=.., (fpathä¸ºflagè¦è¯»å–çš„å‚æ•°) åŒºåˆ«å¤§è‡´ä¸mvn packageå’Œmvn installç›¸åŒï¼Œéƒ½ä¼šæŠŠå·¥ç¨‹æ‰“åŒ…æˆjaræ–‡ä»¶ï¼Œä½†packageçš„ä½ç½®åœ¨root/targetä¸‹é¢,installä¼šå®‰è£…åˆ°mvnåº“ä¸‹ åˆ‡ç‰‡ä¸æ•°ç»„ å®šä¹‰ æ•°ç»„æ˜¯ç±»å‹ç›¸åŒçš„å…ƒç´ çš„é›†åˆã€‚ä¾‹å¦‚ï¼Œæ•´æ•° 5, 8, 9, 79, 76 çš„é›†åˆå°±æ„æˆäº†ä¸€ä¸ªæ•°ç»„ã€‚Goä¸å…è®¸åœ¨æ•°ç»„ä¸­æ··åˆä½¿ç”¨ä¸åŒç±»å‹çš„å…ƒç´ ï¼ˆæ¯”å¦‚æ•´æ•°å’Œå­—ç¬¦ä¸²ï¼‰ã€‚ åˆ‡ç‰‡ï¼ˆsliceï¼‰æ˜¯å»ºç«‹åœ¨æ•°ç»„ä¹‹ä¸Šçš„æ›´æ–¹ä¾¿ï¼Œæ›´çµæ´»ï¼Œæ›´å¼ºå¤§çš„æ•°æ®ç»“æ„ã€‚åˆ‡ç‰‡å¹¶ä¸å­˜å‚¨ä»»ä½•å…ƒç´ è€Œåªæ˜¯å¯¹ç°æœ‰æ•°ç»„çš„å¼•ç”¨ã€‚ å£°æ˜ï¼š 1234var variable_name [SIZE] variable_type // å£°æ˜äº†ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„æ•´å‹æ•°ç»„ã€‚æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½è¢«è‡ªåŠ¨èµ‹å€¼ä¸ºå…ƒç´ ç±»å‹çš„ 0 å€¼a := [3]int&#123;12, 78, 50&#125; // shorthand declaration(é€Ÿè®°å£°æ˜) to create arraya := [3]int&#123;12&#125; // å£°æ˜äº†ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„æ•°ç»„ï¼Œä½†æ˜¯åªæä¾›äº†ä¸€ä¸ªåˆå€¼ 12ã€‚å‰©ä¸‹çš„ä¸¤ä¸ªå…ƒç´ è¢«è‡ªåŠ¨èµ‹å€¼ä¸º 0 a := [...]int&#123;12, 78, 50&#125; // ... makes the compiler determine the lengthè‡ªåŠ¨æ¨å¯¼ 1234567a := [5]int&#123;76, 77, 78, 79, 80&#125;var b []int = a[1:4] // åˆ›å»ºäº†ä¸€ä¸ªä» a[1] åˆ° a[3] çš„åˆ‡ç‰‡c := []int&#123;6, 7, 8&#125; // åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ int æ•°ç»„ï¼Œå¹¶è¿”å›ä¸€ä¸ªåˆ‡ç‰‡ç»™ cã€‚// å†…ç½®å‡½æ•° func make([]T, len, cap) []T å¯ä»¥ç”¨æ¥åˆ›å»ºåˆ‡ç‰‡ï¼Œè¯¥å‡½æ•°æ¥å—é•¿åº¦å’Œå®¹é‡ä½œå‚æ•°ï¼Œè¿”å›åˆ‡ç‰‡ã€‚å®¹é‡æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸é•¿åº¦ç›¸åŒã€‚ä½¿ç”¨ make å‡½æ•°å°†ä¼šåˆ›å»ºä¸€ä¸ªæ•°ç»„å¹¶è¿”å›å®ƒçš„åˆ‡ç‰‡ã€‚i := make([]int, 5, 5) // ç”¨ make åˆ›å»ºçš„é•¿åº¦å’Œå®¹é‡ä¸º5çš„æ•°ç»„å¹¶è¿”å›å…¶åˆ‡ç‰‡ï¼Œå…ƒç´ å€¼é»˜è®¤ä¸º 0 å€¼ å…ƒç´ ç±»å‹ä¸º T çš„åˆ‡ç‰‡è¡¨ç¤ºä¸ºï¼š []Tã€‚ æ³¨ï¼š æ•°ç»„æ˜¯å€¼ç±»å‹ï¼š åœ¨ Go ä¸­æ•°ç»„æ˜¯å€¼ç±»å‹è€Œä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚è¿™æ„å‘³ç€å½“æ•°ç»„å˜é‡è¢«èµ‹å€¼æ—¶ï¼Œå°†ä¼šè·å¾—åŸæ•°ç»„ï¼ˆè¯‘è€…æ³¨ï¼šä¹Ÿå°±æ˜¯ç­‰å·å³é¢çš„æ•°ç»„ï¼‰çš„æ‹·è´ã€‚æ–°æ•°ç»„ä¸­å…ƒç´ çš„æ”¹å˜ä¸ä¼šå½±å“åŸæ•°ç»„ä¸­å…ƒç´ çš„å€¼ã€‚ å¦‚æœå°†æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œä»ç„¶æ˜¯å€¼ä¼ é€’ï¼Œåœ¨å‡½æ•°ä¸­å¯¹ï¼ˆä½œä¸ºå‚æ•°ä¼ å…¥çš„ï¼‰æ•°ç»„çš„ä¿®æ”¹ä¸ä¼šé€ æˆåŸæ•°ç»„çš„æ”¹å˜ åˆ‡ç‰‡æœ¬èº«ä¸åŒ…å«ä»»ä½•æ•°æ®ã€‚å®ƒä»…ä»…æ˜¯åº•å±‚æ•°ç»„çš„ä¸€ä¸ªä¸Šå±‚è¡¨ç¤ºã€‚å¯¹åˆ‡ç‰‡è¿›è¡Œçš„ä»»ä½•ä¿®æ”¹éƒ½å°†åæ˜ åœ¨åº•å±‚æ•°ç»„ä¸­ã€‚ æƒ³ä¿®æ”¹æ•°ç»„å†…å®¹çš„æ—¶å€™ï¼Œå‡½æ•°ä¸­ä¼ é€’æ•°ç»„çš„åˆ‡ç‰‡ï¼šå½“å°†ä¸€ä¸ªåˆ‡ç‰‡ä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè™½ç„¶æ˜¯å€¼ä¼ é€’ï¼Œä½†æ˜¯æŒ‡é’ˆå§‹ç»ˆæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ã€‚å› æ­¤å°†åˆ‡ç‰‡ä½œä¸ºå‚æ•°ä¼ ç»™å‡½æ•°æ—¶ï¼Œå‡½æ•°å¯¹è¯¥åˆ‡ç‰‡çš„ä¿®æ”¹åœ¨å‡½æ•°å¤–éƒ¨ä¹Ÿå¯ä»¥çœ‹åˆ°ã€‚ make golang åˆ†é…å†…å­˜ä¸»è¦æœ‰å†…ç½®å‡½æ•°newå’Œmakeï¼Œmakeåªèƒ½ä¸ºslice, map, channelåˆ†é…å†…å­˜ï¼Œå¹¶è¿”å›ä¸€ä¸ªåˆå§‹åŒ–çš„å€¼ã€‚ é¦–å…ˆæ¥çœ‹ä¸‹makeæœ‰ä»¥ä¸‹å‡ ç§ä¸åŒçš„ç”¨æ³•ï¼š make(map[string]string) ç¼ºå°‘é•¿åº¦çš„å‚æ•°ï¼Œåªä¼ ç±»å‹ï¼Œè¿™ç§ç”¨æ³•åªèƒ½ç”¨åœ¨ç±»å‹ä¸ºmapæˆ–chançš„åœºæ™¯ï¼Œä¾‹å¦‚make([]int)æ˜¯ä¼šæŠ¥é”™çš„ã€‚è¿™æ ·è¿”å›çš„ç©ºé—´é•¿åº¦éƒ½æ˜¯é»˜è®¤ä¸º0çš„ã€‚ make([]int, 2) æŒ‡å®šäº†é•¿åº¦ï¼Œä¾‹å¦‚make([]int, 2)è¿”å›çš„æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º2çš„slice make([]int, 2, 4) ç¬¬äºŒå‚æ•°æŒ‡å®šçš„æ˜¯åˆ‡ç‰‡çš„é•¿åº¦ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ç”¨æ¥æŒ‡å®šé¢„ç•™çš„ç©ºé—´é•¿åº¦ï¼Œä¾‹å¦‚a := make([]int, 2, 4), è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯è¿”å›çš„åˆ‡ç‰‡açš„æ€»é•¿åº¦æ˜¯4ï¼Œé¢„ç•™çš„æ„æ€å¹¶ä¸æ˜¯å¦å¤–å¤šå‡ºæ¥4çš„é•¿åº¦ï¼Œå…¶å®æ˜¯åŒ…å«äº†å‰é¢2ä¸ªå·²ç»åˆ‡ç‰‡çš„ä¸ªæ•°çš„ã€‚æ‰€ä»¥ä¸¾ä¸ªä¾‹å­å½“ä½ è¿™æ ·ç”¨çš„æ—¶å€™ a := make([]int, 4, 2)ï¼Œå°±ä¼šæŠ¥è¯­æ³•é”™è¯¯ã€‚(å½“æˆ‘ä»¬ä¸ºsliceåˆ†é…å†…å­˜çš„æ—¶å€™ï¼Œåº”å½“å°½é‡é¢„ä¼°åˆ°sliceå¯èƒ½çš„æœ€å¤§é•¿åº¦ï¼Œé€šè¿‡ç»™makeä¼ ç¬¬ä¸‰ä¸ªå‚æ•°çš„æ–¹å¼æ¥ç»™sliceé¢„ç•™å¥½å†…å­˜ç©ºé—´ï¼Œè¿™æ ·å¯ä»¥é¿å…äºŒæ¬¡åˆ†é…å†…å­˜å¸¦æ¥çš„å¼€é”€ï¼Œå¤§å¤§æé«˜ç¨‹åºçš„æ€§èƒ½ã€‚) é€šé“ 123456ch1 := make(chan int) // åˆ›å»ºä¸€ä¸ªæ•´å‹ç±»å‹çš„é€šé“ch2 := make(chan interface&#123;&#125;) // åˆ›å»ºä¸€ä¸ªç©ºæ¥å£ç±»å‹çš„é€šé“, å¯ä»¥å­˜æ”¾ä»»æ„æ ¼å¼type Equip struct&#123; /* ä¸€äº›å­—æ®µ */ &#125;ch2 := make(chan *Equip) // åˆ›å»ºEquipæŒ‡é’ˆç±»å‹çš„é€šé“, å¯ä»¥å­˜æ”¾*Equipch := make(chan &lt;- int, 2) // åˆ›å»ºä¸€ä¸ªåªæ¥æ”¶çš„é€šé“ï¼Œä¸”ç¼“å†²å¤§å°ä¸º2 if 1234567if condition1 &#123; // do something&#125; else if condition2 &#123; // do something else&#125;else &#123; // catch-all or default&#125; å…³é”®å­— if å’Œ else ä¹‹åçš„å·¦å¤§æ‹¬å·{å¿…é¡»å’Œå…³é”®å­—åœ¨åŒä¸€è¡Œï¼Œå¦‚æœä½ ä½¿ç”¨äº† else if ç»“æ„ï¼Œåˆ™å‰æ®µä»£ç å—çš„å³å¤§æ‹¬å·}å¿…é¡»å’Œ else if å…³é”®å­—åœ¨åŒä¸€è¡Œï¼Œè¿™ä¸¤æ¡è§„åˆ™éƒ½æ˜¯è¢«ç¼–è¯‘å™¨å¼ºåˆ¶è§„å®šçš„ã€‚ åœ¨ç®€å•æƒ…å†µä¸‹ï¼Œæ¡ä»¶è¯­å¥ä¸¤ä¾§çš„æ‹¬å·æ˜¯å¯ä»¥è¢«çœç•¥çš„ï¼Œå½“æ¡ä»¶æ¯”è¾ƒå¤æ‚æ—¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ‹¬å·è®©ä»£ç æ›´æ˜“è¯»ï¼Œåœ¨ä½¿ç”¨ &amp;&amp;ã€|| æˆ– ! æ—¶å¯ä»¥ä½¿ç”¨æ‹¬å·æ¥æå‡æŸä¸ªè¡¨è¾¾å¼çš„è¿ç®—ä¼˜å…ˆçº§ï¼Œå¹¶æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ ==&gt; ifåçš„è¯­å¥å¿…ç„¶æœ‰å¤§æ‹¬å· for ä¸‰ç§å½¢å¼ï¼š for init; condition; post { } for condition { } for { } è·Ÿifä¸€æ ·ï¼Œforçš„æ‰§è¡Œå—å¿…é¡»è¦ç”¨{}æ‹¬èµ·æ¥ï¼Œå¹¶ä¸”éœ€è¦æ³¨æ„çš„æ˜¯foræœ‰ç‰¹å®šçš„ç»“æ„ï¼Œä¸èƒ½åŠ å°æ‹¬å·()! mapä½¿ç”¨ 1234567891011mp := map[int]int&#123;&#125;// éå†if _, ok := mp[i]; ok == false&#123; mp[candyType[i]] = 1&#125;// å–keyé•¿åº¦len(mp)// å–kå’Œvfor k := range mp&#123; fmt.Print(k)&#125; ç©ºç»“æ„ä½“ struct{} â–².ç©ºç»“æ„ä½“ä¸å ç”¨ç©ºé—´ : fmt.Println(unsafe.Sizeof(struct{}{})) ==&gt; 0 ç©ºç»“æ„ä½“çš„ä½œç”¨ï¼š å› ä¸ºç©ºç»“æ„ä½“ä¸å æ®å†…å­˜ç©ºé—´ï¼Œå› æ­¤è¢«å¹¿æ³›ä½œä¸ºå„ç§åœºæ™¯ä¸‹çš„å ä½ç¬¦ä½¿ç”¨ã€‚ä¸€æ˜¯èŠ‚çœèµ„æºï¼ŒäºŒæ˜¯ç©ºç»“æ„ä½“æœ¬èº«å°±å…·å¤‡å¾ˆå¼ºçš„è¯­ä¹‰ï¼Œå³è¿™é‡Œä¸éœ€è¦ä»»ä½•å€¼ï¼Œä»…ä½œä¸ºå ä½ç¬¦ã€‚ 2.1 å®ç°é›†åˆ(Set) Go è¯­è¨€æ ‡å‡†åº“æ²¡æœ‰æä¾› Set çš„å®ç°ï¼Œé€šå¸¸ä½¿ç”¨ map æ¥ä»£æ›¿ã€‚äº‹å®ä¸Šï¼Œå¯¹äºé›†åˆæ¥è¯´ï¼Œåªéœ€è¦ map çš„é”®ï¼Œè€Œä¸éœ€è¦å€¼ã€‚å³ä½¿æ˜¯å°†å€¼è®¾ç½®ä¸º bool ç±»å‹ï¼Œä¹Ÿä¼šå¤šå æ® 1 ä¸ªå­—èŠ‚ï¼Œé‚£å‡è®¾ map ä¸­æœ‰ä¸€ç™¾ä¸‡æ¡æ•°æ®ï¼Œå°±ä¼šæµªè´¹ 1MB çš„ç©ºé—´ï¼Œå› æ­¤å¯ä»¥å°†å€¼è®¾ç½®ä¸º struct{}ç©ºç»“æ„ï¼Œä»è€Œå‡å°‘æ•´ä¸ªæ•°æ®ç»“æ„çš„å¤§å° 2.2 ä¸å‘é€æ•°æ®çš„ä¿¡é“(channel) 12345678910111213141516171819202122232425262728func worker(ch chan struct&#123;&#125;) &#123; &lt;-ch fmt.Println(\"do something\") close(ch)&#125;func main() &#123; ch := make(chan struct&#123;&#125;) go worker(ch) ch &lt;- struct&#123;&#125;&#123;&#125;&#125;/** Second */// åˆ›å»ºä¸€ä¸ªä¿¡å·é€šé“waitc := make(chan struct&#123;&#125;)// ...goroutine 1: // å‘é€ä¿¡å·: æŠ•é€’å…ƒç´  waitc &lt;- struct&#123;&#125; // å‘é€ä¿¡å·: å…³é—­ close(waitc)goroutine 2: select &#123; // æ”¶åˆ°ä¿¡å·ï¼Œåšå‡ºå¯¹åº”çš„åŠ¨ä½œ case &lt;-waitc: &#125; æœ‰æ—¶å€™ä½¿ç”¨ channel ä¸éœ€è¦å‘é€ä»»ä½•çš„æ•°æ®ï¼Œåªä½œä¸ºé€šçŸ¥ä¿¡å·ç”¨æ¥é€šçŸ¥å­åç¨‹(goroutine)æ‰§è¡Œä»»åŠ¡ï¼Œæˆ–åªç”¨æ¥æ§åˆ¶åç¨‹å¹¶å‘åº¦ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ç©ºç»“æ„ä½“ä½œä¸ºå ä½ç¬¦å°±éå¸¸åˆé€‚äº†ã€‚ è¿™ç§åœºæ™¯æˆ‘ä»¬æ€è€ƒä¸‹ï¼Œæ˜¯å¦ä¸€å®šæ˜¯é struct{} ä¸å¯ï¼Ÿå…¶å®ä¸æ˜¯ï¼Œè€Œä¸”ä¹Ÿä¸å¤šè¿™å‡ ä¸ªå­—èŠ‚çš„å†…å­˜ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µçœŸçš„å°±åªæ˜¯ä¸å…³å¿ƒ chan çš„å…ƒç´ å€¼è€Œå·²ï¼Œæ‰€ä»¥æ‰ç”¨çš„ struct{}ã€‚ 2.3 ä»…åŒ…å«æ–¹æ³•çš„ç»“æ„ä½“ åœ¨éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œç»“æ„ä½“åªåŒ…å«æ–¹æ³•ï¼Œä¸åŒ…å«ä»»ä½•çš„å­—æ®µã€‚ä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„ Doorï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒDoor äº‹å®ä¸Šå¯ä»¥ç”¨ä»»ä½•çš„æ•°æ®ç»“æ„æ›¿ä»£ã€‚ä¾‹å¦‚ï¼š 12type Door inttype Door bool æ— è®ºæ˜¯ int è¿˜æ˜¯ bool éƒ½ä¼šæµªè´¹é¢å¤–çš„å†…å­˜ï¼Œå› æ­¤å‘¢ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå£°æ˜ä¸ºç©ºç»“æ„ä½“æ˜¯æœ€åˆé€‚çš„ã€‚ åŸç†åˆ†æï¼š ç‰¹æ®Šå˜é‡ï¼šzerobase ç©ºç»“æ„ä½“æ˜¯æ²¡æœ‰å†…å­˜å¤§å°çš„ç»“æ„ä½“ã€‚è¿™å¥è¯æ˜¯æ²¡æœ‰é”™çš„ï¼Œä½†æ˜¯æ›´å‡†ç¡®çš„æ¥è¯´ï¼Œå…¶å®æ˜¯æœ‰ä¸€ä¸ªç‰¹æ®Šèµ·ç‚¹çš„ï¼Œé‚£å°±æ˜¯ zerobase å˜é‡ï¼Œè¿™æ˜¯ä¸€ä¸ª uintptr å…¨å±€å˜é‡ï¼Œå ç”¨ 8 ä¸ªå­—èŠ‚ã€‚å½“åœ¨ä»»ä½•åœ°æ–¹å®šä¹‰æ— æ•°ä¸ª struct {} ç±»å‹çš„å˜é‡ï¼Œç¼–è¯‘å™¨éƒ½åªæ˜¯æŠŠè¿™ä¸ª zerobase å˜é‡çš„åœ°å€ç»™å‡ºå»ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨ golang é‡Œé¢ï¼Œæ¶‰åŠåˆ°æ‰€æœ‰å†…å­˜ size ä¸º 0 çš„å†…å­˜åˆ†é…ï¼Œé‚£ä¹ˆå°±æ˜¯ç”¨çš„åŒä¸€ä¸ªåœ°å€ &amp;zerobase ã€‚ å†…å­˜ç®¡ç†ç‰¹æ®Šå¤„ç† mallocgc ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸé—´ï¼Œè¯†åˆ«åˆ° struct {} è¿™ç§ç‰¹æ®Šç±»å‹çš„å†…å­˜åˆ†é…ï¼Œä¼šç»Ÿç»Ÿåˆ†é…å‡º runtime.zerobase çš„åœ°å€å‡ºå»ï¼Œè¿™ä¸ªä»£ç é€»è¾‘æ˜¯åœ¨ mallocgc å‡½æ•°é‡Œé¢ï¼š ä»£ç å¦‚ä¸‹ï¼š 123456func mallocgc(size uintptr, typ *_type, needzero bool) unsafe.Pointer &#123; // åˆ†é… size ä¸º 0 çš„ç»“æ„ä½“ï¼ŒæŠŠå…¨å±€å˜é‡ zerobase çš„åœ°å€ç»™å‡ºå»å³å¯ï¼› if size == 0 &#123; return unsafe.Pointer(&amp;zerobase) &#125; // ... å°ç»“ï¼šgolang ä½¿ç”¨ mallocgc åˆ†é…å†…å­˜çš„æ—¶å€™ï¼Œå¦‚æœ size ä¸º 0 çš„æ—¶å€™ï¼Œç»Ÿä¸€è¿”å›çš„éƒ½æ˜¯å…¨å±€å˜é‡ zerobase çš„åœ°å€ã€‚ æœ‰è¿™ç§å…¨å±€å”¯ä¸€çš„ç‰¹æ®Šçš„åœ°å€ä¹Ÿæ–¹ä¾¿åé¢ä¸€äº›é€»è¾‘çš„ç‰¹æ®Šå¤„ç†ã€‚ fromï¼š Go æœ€ç»†èŠ‚ç¯‡ â€” ç©ºç»“æ„ä½“æ˜¯ä»€ä¹ˆ? Vscodeé…ç½®Go 1.é¦–å…ˆå®‰è£…å¥½Go 2.vscodeä¸­ä¸‹è½½Goç¯å¢ƒæ’ä»¶ 3.å®‰è£…Goç¨‹åºæ’ä»¶ Goè¯­è¨€å¼€å‘çš„æ—¶å€™ä¸ºæˆ‘ä»¬æä¾›è¯¸å¦‚ä»£ç æç¤ºã€ä»£ç è‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ã€‚ 1234# æ‰“å¼€è¾“å…¥æ¡†ctrl + shift + p # è¾“å…¥Go:Install/Update Tools â–²ç”±äºç½‘ç»œé—®é¢˜ä¼šæ— æ³•å®‰è£…æ’ä»¶ï¼Œç½‘ä¸Šè€ç‰ˆçš„æ–¹æ³•æ˜¯åœ¨Goç›®å½•ä¸‹ä»githubæ‰‹åŠ¨ä¸‹è½½å¥½æ–‡ä»¶ï¼Œä½†äº²æµ‹æ— æ•ˆï¼Œè½¬è€Œé‡‡ç”¨æ–°æ–¹æ³•å¦‚ä¸‹ã€‚ å…ˆè®¾ç½®GOPROXY æ‰“å¼€ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šgo env -w GOPROXY=https://goproxy.cn,direct ç¯å¢ƒé…ç½®ä¸­æŒ‰ç…§https://goproxy.io/zh/ä¸­å†™çš„é…ç½®Goproxy é‡è¯•ä¸‹è½½æ’ä»¶ 1234# æ‰“å¼€è¾“å…¥æ¡†ctrl + shift + p # è¾“å…¥Go:Install/Update Tools è®¾ç½®æ’ä»¶é…ç½® 123456789\"go.goroot\": \"\",\"go.gopath\": \"\",\"go.inferGopath\": true,\"go.autocompleteUnimportedPackages\": true,\"go.gocodePackageLookupMode\": \"go\",\"go.gotoSymbol.includeImports\": true,\"go.useCodeSnippetsOnFunctionSuggest\": true,\"go.useCodeSnippetsOnFunctionSuggestWithoutType\": true,\"go.docsTool\": \"gogetdoc\", é…ç½®Goä»£ç ç‰‡æ®µå¿«æ·é”® è¿˜æ˜¯æŒ‰Ctrl/Command+Shift+P,æŒ‰ä¸‹å›¾è¾“å…¥&gt;snippetsï¼Œé€‰æ‹©å›è½¦ï¼Œç„¶ååœ¨å¼¹å‡ºçš„çª—å£ç‚¹å‡»é€‰æ‹©goé€‰é¡¹ï¼š 1234567891011121314151617181920212223&#123; \"println\":&#123; \"prefix\": \"pln\", \"body\":\"fmt.Println($0)\", \"description\": \"println\" &#125;, \"printf\":&#123; \"prefix\": \"plf\", \"body\": \"fmt.Printf(\\\"$0\\\")\", \"description\": \"printf\" &#125;, \"m\":&#123; \"prefix\": \"main\", \"body\": [ \"package main\", \"import (\\\"fmt\\\")\", \"func main() &#123;\", \"$0\", \"&#125;\" ], \"description\": \"main\" &#125;&#125; VScodeé…ç½®ç»ˆç«¯ åœ¨settings.jsonä¸­è®¾ç½® 1234// ç»ˆç«¯è®¾ç½®ä¸ºcmder\"terminal.integrated.shell.windows\": \"cmd.exe\",\"terminal.integrated.env.windows\": &#123;\"CMDER_ROOT\": \"E:\\\\cmder\"&#125;,\"terminal.integrated.shellArgs.windows\": [\"/k\", \"E:\\\\cmder\\\\vendor\\\\init.bat\"], from : https://www.jianshu.com/p/c3b162df3b57 vscode-goæ’ä»¶çš„è¿™äº›ç”¨æ³• è§ï¼šã€æ•™ç¨‹ã€‘vscode-goæ’ä»¶çš„è¿™äº›ç”¨æ³•ï¼Œä½ çœŸçš„çŸ¥é“ä¹ˆ?â€”â€”å›¾æ–‡ï¼šhttps://blog.csdn.net/weixin_36186183/article/details/113538572 fill stuctï¼šè¾“å…¥ä¸º æ¥å—è€…å˜é‡å æ¥å—è€…ç±»å‹ packageName.interfaceName extract to variable: go get -v github.com/godoctor/godoctor go moduleæ¨¡å—ç®¡ç† go moduleæ˜¯Go1.11ç‰ˆæœ¬ä¹‹åå®˜æ–¹æ¨å‡ºçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¹¶ä¸”ä»Go1.13ç‰ˆæœ¬å¼€å§‹ï¼Œgo moduleå°†æ˜¯Goè¯­è¨€é»˜è®¤çš„ä¾èµ–ç®¡ç†å·¥å…·ã€‚åˆ°ä»Šå¤©Go1.14ç‰ˆæœ¬æ¨å‡ºä¹‹åGo modules åŠŸèƒ½å·²ç»è¢«æ­£å¼æ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨äº†ã€‚ ä¸€å…±ä¸¤ç§æƒ…å†µ åœ¨åŒä¸€ä¸ªæ¨¡å—ä¸‹ å„ä¸ªgoæ–‡ä»¶æ ¹æ®go.modä¸‹å®šä¹‰çš„æ¨¡å—åå¯¼å…¥å³å¯ ä¸åœ¨åŒä¸€ä¸ªæ¨¡å—ä¸‹ å°†æ— æ³•æ‰¾åˆ°çš„ç»å¯¹å¼•ç”¨è·¯å¾„åœ¨modä¸­è¿›è¡Œrequireé‡å®šå‘ 12345678910111213141516171819â”œâ”€â”€ p1â”‚ â”œâ”€â”€ go.modâ”‚ â””â”€â”€ main.goâ””â”€â”€ p2 â”œâ”€â”€ go.mod â””â”€â”€ p2.go// p2/go.modmodule liwenzhou.com/q1mi/p2go 1.14// p1/main.goæŒ‰å¦‚ä¸‹æ–¹å¼å¯¼å…¥p2å†…å®¹import ( \"fmt\" \"liwenzhou.com/q1mi/p2\")func main() &#123; p2.New() fmt.Println(\"main\")&#125; p1/main.goä¸­æƒ³è¦å¯¼å…¥p2.goä¸­å®šä¹‰çš„å‡½æ•°ã€‚éœ€è¦åœ¨moduledemo/go.modä¸­è¿›è¡Œreplaceè®¾ç½®æ‰èƒ½åœ¨moduledemoæ¨¡å—ä¸­ä½¿ç”¨mypackageçš„å†…å®¹ 12345// p1/go.modmodule github.com/q1mi/p1 // å½“å‰æ¨¡å—ågo 1.14 // goç‰ˆæœ¬require \"liwenzhou.com/q1mi/p2\" v0.0.0 // æŒ‡å®šç‰ˆæœ¬replace \"liwenzhou.com/q1mi/p2\" =&gt; \"../p2\" // é‡å®šå‘æ¨¡å—è·¯å¾„ï¼Œå³è¾¹ä¸ºæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ https://www.liwenzhou.com/posts/Go/import_local_package_in_go_module/ åŠŸèƒ½å‡½æ•° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364// stringsåº“strings.Index(origin, dest)strings.Contains(origin, target)strings.Join(remainingArgs, \"-\")/*n &lt; 0 ,ç”¨ new æ›¿æ¢æ‰€æœ‰åŒ¹é…ä¸Šçš„ oldï¼›n=-1: ç”¨ new æ›¿æ¢å‰ 5 ä¸ªåŒ¹é…çš„ oldï¼ˆå®é™…å¤šäº 5 ä¸ªï¼‰fmt.Println(\"n=5: \", strings.Replace(s, old, new, 5 )) ç”¨ new æ›¿æ¢å‰ 7 ä¸ªåŒ¹é…ä¸Šçš„ oldï¼Œå¦‚æœsä¸­oldæ•°é‡ä¸è¶³7ï¼Œåˆ™è¡¨ç°ä¸ºå…¨è½¬æ¢ï¼›*/func Replace(s, old, new string, n int) string// strings.FieldsFunc() Golangä¸­çš„å‡½æ•°ç”¨äºåœ¨æ¯æ¬¡è¿è¡Œçš„æ»¡è¶³f(c)çš„Unicodeä»£ç ç‚¹cå¤„æ‹†åˆ†ç»™å®šçš„å­—ç¬¦ä¸²strï¼Œå¹¶è¿”å›ç”±strç»„æˆçš„åˆ‡ç‰‡æ•°ç»„ã€‚f:= func(c rune) bool &#123; return unicode.IsNumber(c) &#125; // FieldsFunc() function splits the string passed // on the return values of the function f // String will therefore be split when a number // is encontered and returns all non-numbers fmt.Printf(\"Fields are:%q\\n\", strings.FieldsFunc(\"ABC123PQR456XYZ789\", f)) // cobraæ˜¯goè¯­â¾”çš„ç¬¬ä¸‰â½…å‘½ä»¤â¾å¤„ç†â¼¯å…·// os/execåŒ…LookPathå‡½æ•°ï¼Œ LookPathåœ¨PATHç¯å¢ƒå˜é‡å‘½åçš„ç›®å½•ä¸­æœç´¢å¯æ‰§è¡Œæ–‡ä»¶(åä¸ºå¯æ‰§è¡Œæ–‡ä»¶), ç„¶åå¾—åˆ°è¾“å‡ºå…¶è·¯å¾„func LookPath(file string) (string, error)path, err := exec.LookPath(fmt.Sprintf(\"%s-%s\", prefix, filename))// æ‰§è¡Œå¤–éƒ¨å‘½ä»¤:https://blog.csdn.net/whatday/article/details/109277998cmd := exec.Command(\"/bin/sh\", \"-c\", \"ping 127.0.0.1\")// 1.åå°è¿è¡ŒRunä¸€ä¸ªå‘½ä»¤ bash -c æ–¹å¼func CmdBash(commandName string) *exec.Cmd &#123; cmd := exec.Command(\"/bin/bash\", \"-c\", commandName) fmt.Println(line)(cmd.Args) go func() &#123; var out bytes.Buffer cmd.Stdout = &amp;out cmd.Stderr = os.Stderr _ = cmd.Run() &#125;() return cmd&#125;// 2.ä½¿ç”¨ç®¡é“: ps cax | grep myappfunc main() &#123; grep := exec.Command(\"grep\", \"redis\") ps := exec.Command(\"ps\", \"cax\") // Get ps's stdout and attach it to grep's stdin. pipe, _ := ps.StdoutPipe() defer pipe.Close() grep.Stdin = pipe // Run ps first. ps.Start() // Run and get the output of grep. res, _ := grep.Output() fmt.Println(string(res))&#125;// 3. åœ¨æŒ‡å®šä½ç½®æ‰§è¡Œå‘½ä»¤ï¼Œä¸ºcmdå˜é‡å¢åŠ Dirå±æ€§å³å¯/**Run é˜»å¡è¿›ç¨‹ï¼Œç›´åˆ°å‘½ä»¤æ‰§è¡Œç»“æŸStart éé˜»å¡æ‰§è¡Œ- Wait é˜»å¡è¿›ç¨‹ï¼Œç­‰å¾…å‘½ä»¤æ‰§è¡Œç»“æŸ, ä¸ Star é…åˆä½¿ç”¨*/ ç½‘ç»œç›¸å…³ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** Way 1: NewRequest */func SendDingMsg(msg string) &#123; webHook := `https://oapi.dingtalk.com/robot/send?access_token=04c381fc31944ad2905f31733e31fa15570ae12efc857062dab16b605a369e4c` content := `&#123;\"msgtype\": \"text\", \"text\": &#123;\"content\": \"`+ msg + `\"&#125; &#125;` //åˆ›å»ºä¸€ä¸ªè¯·æ±‚, func NewRequest(method, url string, body io.Reader) req, err := http.NewRequest(\"POST\", webHook, strings.NewReader(content)) // *Reader if err != nil &#123; // handle error &#125; client := &amp;http.Client&#123;&#125; //è®¾ç½®è¯·æ±‚å¤´ req.Header.Set(\"Content-Type\", \"application/json; charset=utf-8\") //å‘é€è¯·æ±‚ resp, err := client.Do(req) //å…³é—­è¯·æ±‚ defer resp.Body.Close() if err != nil &#123; // handle error &#125;&#125;/** Way2 clinet.Post */client := &amp;http.Client&#123;Timeout: 5 * time.Second&#125;jsonStr, _ := json.Marshal(data) // []bytes// Post(url, contentType string, body io.Reader) resp, err := client.Post(url, contentType, bytes.NewBuffer(jsonStr)) // *Bufferif err != nil &#123; panic(err)&#125;defer resp.Body.Close()result, _ := ioutil.ReadAll(resp.Body)/** Way3. http.PostForm(url string, data url.Values) */resp, err := http.PostForm(\"http://example.com/form\", url.Values&#123;\"key\": &#123;\"Value\"&#125;, \"id\": &#123;\"123\"&#125;&#125;)/** Way4. http.Post */// Post(url, contentType string, body io.Reader) (resp *Response, err error)resp, err := http.Post(\"http://example.com/upload\", \"image/jpeg\", &amp;buf)if err != nil &#123;&#125;defer resp.Body.Close()body, err := ioutil.ReadAll(resp.Body)fmt.Println(string(body)) // Getæ–¹æ³• req, err := http.Get(URL) æ³¨ï¼š å¯ä»¥çœ‹å‡ºæ¥http.NewRequestå’Œhttp.Postå‚æ•°ä¸­çš„io.Readeræ¥å£éƒ½è¢«Readerå’ŒBufferå®ç°äº†ï¼Œå› æ­¤å¯ä»¥ä¼ å…¥strings.NewReaderå’Œbytes.NewBuffer å¦‚æœåªéœ€è¦è®¾ç½®Content-Typeé‚£ä¹ˆå¯ä»¥ä½¿ç”¨http.Postï¼›å¦‚æœæƒ³è¦è®¾ç½®æ›´å¤šçš„è¯·æ±‚å¤´ï¼Œé‚£ä¹ˆç›®å‰æ¥çœ‹åªèƒ½ä½¿ç”¨http.NewRequest http.NewRequst+client.Doï¼š(è¯·æ±‚æ–¹å¼ï¼ŒURLï¼Œå‚æ•°)+åŠ è¯·æ±‚å¤´ http.Postï¼šï¼ˆURLï¼Œcontent-typeï¼Œdata io.Readerï¼‰ http.PostFormï¼šï¼ˆURL, data url.Valuesï¼‰ clinet.Postï¼šï¼ˆURLï¼Œcontent-typeï¼Œdata io.Readerï¼‰ï¼Œå¯ä»¥è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ è¿”å›å€¼éƒ½æ˜¯(resp *Response, err error)ï¼Œè¦æƒ³è¯»å–å…¶å†…å®¹ï¼Œéœ€è¦é€šè¿‡ioutil.ReadAll(resp.Body)å¾—åˆ°[]byte çš„contentï¼Œç„¶åå†å°†contenté€šè¿‡string(content)è½¬æˆstringç±»å‹çš„ç»“æœ å¯¹äºdataä¼ å‚ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯èƒ½å¤ŸåƒPythonä¸€æ ·ç›´æ¥æ„é€ Dicté‚£ä¹ˆç®€æ´ï¼Œè€Œçœ‹äº†ä¸Šè¿°ä¸‰ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­url.Valuesæ˜¯æœ€åƒçš„ã€‚å¯ä»¥çœ‹åˆ°http.PostFormæ˜¯å¯ä»¥ä¼ url.Valuesçš„ï¼Œè¿™åº”è¯¥æ˜¯ç§æ›´ä¸“é—¨çš„å°è£…ã€‚è€Œé’ˆå¯¹å…¶ä»–æƒ…å†µä¸‹æ¥çœ‹ï¼ŒNewRequestæ˜æ˜¾æ›´æ™®éé€‚ç”¨äº›ã€‚å¥½åœ¨çš„æ˜¯ï¼Œhttpçš„ç½‘ç»œè¯·æ±‚ï¼Œdataéƒ½å¯ä»¥ä»¥strings.NewReader(string)çš„å½¢å¼ä¼ å‡ºï¼Œå› æ­¤è™½ç„¶æ²¡åŠæ³•ç›´æ¥å†™Jsonå½¢å¼çš„Dictï¼Œä½†ä¹Ÿç»™äº†æˆ‘ä»¬å¤§å·®ä¸å·®çš„æ–¹å¼ï¼Œå°†JsonDictç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤º ä¼˜ç§€ä»£ç  K8Sï¼š æ¥å£çš„ä½¿ç”¨ä¸å®ç° + ç»“æ„ä½“ ===&gt; ç±» ç±»Studentçš„æ„é€ å‡½æ•°: NewStudentï¼Œå¦‚options.goä¸‹å®šä¹‰äº†struct Optionsï¼Œç„¶ååˆå®šä¹‰äº†NewOptions é™¤äº†ä»¥ç±»çš„æ–¹å¼æš´éœ²æˆå‘˜å‡½æ•°ï¼Œè¿˜å¯ä»¥ä»¥package.FuncNameï¼Œå¦‚scheduler.New(â€¦,scheduler.WithPodInitialBackoffSeconds(),) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263// PluginHandler is capable of parsing command line arguments// and performing executable filename lookups to search// for valid plugin files, and execute found plugins.type PluginHandler interface &#123; // exists at the given filename, or a boolean false. // Lookup will iterate over a list of given prefixes // in order to recognize valid plugin filenames. // The first filepath to match a prefix is returned. Lookup(filename string) (string, bool) // Execute receives an executable's filepath, a slice // of arguments, and a slice of environment variables // to relay to the executable. Execute(executablePath string, cmdArgs, environment []string) error&#125;// DefaultPluginHandler implements PluginHandlertype DefaultPluginHandler struct &#123; ValidPrefixes []string&#125;// NewDefaultPluginHandler instantiates the DefaultPluginHandler with a list of// given filename prefixes used to identify valid plugin filenames.func NewDefaultPluginHandler(validPrefixes []string) *DefaultPluginHandler &#123; return &amp;DefaultPluginHandler&#123; ValidPrefixes: validPrefixes, &#125;&#125;// Lookup implements PluginHandlerfunc (h *DefaultPluginHandler) Lookup(filename string) (string, bool) &#123; for _, prefix := range h.ValidPrefixes &#123; path, err := exec.LookPath(fmt.Sprintf(\"%s-%s\", prefix, filename)) if err != nil || len(path) == 0 &#123; continue &#125; return path, true &#125; return \"\", false&#125;// Execute implements PluginHandlerfunc (h *DefaultPluginHandler) Execute(executablePath string, cmdArgs, environment []string) error &#123; // Windows does not support exec syscall. if runtime.GOOS == \"windows\" &#123; cmd := exec.Command(executablePath, cmdArgs...) cmd.Stdout = os.Stdout cmd.Stderr = os.Stderr cmd.Stdin = os.Stdin cmd.Env = environment err := cmd.Run() if err == nil &#123; os.Exit(0) &#125; return err &#125; // invoke cmd binary relaying the environment and args given // append executablePath to cmdArgs, as execve will make first argument the \"binary name\". return syscall.Exec(executablePath, append([]string&#123;executablePath&#125;, cmdArgs...), environment)&#125; Golangæ–°æ‰‹å¯èƒ½ä¼šè¸©çš„50ä¸ªå‘ï¼š https://www.topgoer.com/èµ„æ–™ä¸‹è½½/Golangæ–°æ‰‹å¯èƒ½ä¼šè¸©çš„50ä¸ªå‘.html golangå‘½ä»¤è¡Œåº“Cobraçš„ä½¿ç”¨ Cobraæä¾›ç®€å•çš„æ¥å£æ¥åˆ›å»ºå¼ºå¤§çš„ç°ä»£åŒ–CLIæ¥å£ï¼Œæ¯”å¦‚gitä¸goå·¥å…·ã€‚CobraåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªç¨‹åº, ç”¨äºåˆ›å»ºCLIç¨‹åº Cobraæä¾›çš„åŠŸèƒ½ â–².ç®€æ˜“çš„å­å‘½ä»¤è¡Œæ¨¡å¼ï¼Œå¦‚ app serverï¼Œ app fetchç­‰ç­‰ å®Œå…¨å…¼å®¹posixå‘½ä»¤è¡Œæ¨¡å¼ â–².åµŒå¥—å­å‘½ä»¤subcommand æ”¯æŒå…¨å±€ï¼Œå±€éƒ¨ï¼Œä¸²è”flags â–².ä½¿ç”¨Cobraå¾ˆå®¹æ˜“çš„ç”Ÿæˆåº”ç”¨ç¨‹åºå’Œå‘½ä»¤ï¼Œä½¿ç”¨cobra create appnameå’Œcobra add cmdname â–².å¦‚æœå‘½ä»¤è¾“å…¥é”™è¯¯ï¼Œå°†æä¾›æ™ºèƒ½å»ºè®®ï¼Œå¦‚ app srverï¼Œå°†æç¤ºsrveræ²¡æœ‰ï¼Œæ˜¯å¦æ˜¯app server â–².è‡ªåŠ¨ç”Ÿæˆcommandså’Œflagsçš„å¸®åŠ©ä¿¡æ¯ â–².è‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„helpä¿¡æ¯ï¼Œå¦‚app help è‡ªåŠ¨è¯†åˆ«-hï¼Œâ€“helpå¸®åŠ©flag â–².è‡ªåŠ¨ç”Ÿæˆåº”ç”¨ç¨‹åºåœ¨bashä¸‹å‘½ä»¤è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ è‡ªåŠ¨ç”Ÿæˆåº”ç”¨ç¨‹åºçš„manæ‰‹å†Œ å‘½ä»¤è¡Œåˆ«å é›¶æ´»å®šä¹‰helpå’Œusageä¿¡æ¯ å¯é€‰çš„ç´§å¯†é›†æˆçš„viper apps æ¦‚å¿µ Cobraæ˜¯å»ºç«‹åœ¨ç»“æ„çš„å‘½ä»¤ã€å‚æ•°å’Œæ ‡å¿—ä¹‹ä¸Šã€‚ å‘½ä»¤ä»£è¡¨æ“ä½œ,å‚æ•°å’Œæ ‡å¿—æ˜¯è¿™äº›è¡ŒåŠ¨çš„ä¿®é¥°ç¬¦ã€‚ æœ€å¥½çš„åº”ç”¨ç¨‹åºå°±åƒè¯»å–å¥å­ã€‚ç”¨æˆ·ä¼šçŸ¥é“å¦‚ä½•ä½¿ç”¨æœ¬æœºåº”ç”¨ç¨‹åºï¼Œå› ä¸ºä»–ä»¬å°†ç†è§£å¦‚ä½•ä½¿ç”¨å®ƒã€‚ æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œserveræ˜¯å‘½ä»¤ï¼Œportæ˜¯æ ‡å¿—:hugo server --port=1313 å®‰è£… ä½¿ç”¨Cobraå¾ˆç®€å•ã€‚é¦–å…ˆï¼Œä½¿ç”¨go getå®‰è£…æœ€æ–°ç‰ˆæœ¬ 1go get -u github.com/spf13/cobra ç„¶ååœ¨ä½ é¡¹ç›®é‡Œå¼•ç”¨Cobra 1import \"github.com/spf13/cobra\" ä½¿ç”¨Cobraåº“ ä½¿ç”¨Cobraï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªç©ºçš„main.goæ–‡ä»¶å’Œä¸€ä¸ªrootCmdæ–‡ä»¶ã€‚ä½ å¯ä»¥é€‰æ‹©åœ¨åˆé€‚çš„åœ°æ–¹æ·»åŠ é¢å¤–çš„å‘½ä»¤ã€‚ åŸºæœ¬ä½¿ç”¨ åˆ›å»ºrootCmd Cobraä¸éœ€è¦ç‰¹æ®Šçš„æ„é€ å‡½æ•°ã€‚ç®€å•çš„å°±å¯ä»¥åˆ›å»ºä½ çš„å‘½ä»¤ã€‚ ç†æƒ³æƒ…å†µä¸‹ä½ æŠŠè¿™ä¸ªæ”¾åœ¨åœ¨ app/cmd/root.go 1234567891011121314151617var rootCmd = &amp;cobra.Command&#123; Use: \"hugo\", Short: \"Hugo is a very fast static site generator\", Long: `A Fast and Flexible Static Site Generator built with love by spf13 and friends in Go. Complete documentation is available at http://hugo.spf13.com`, Run: func(cmd *cobra.Command, args []string) &#123; // Do Stuff Here &#125;,&#125;func Execute() &#123; if err := rootCmd.Execute(); err != nil &#123; fmt.Println(err) os.Exit(1) &#125;&#125; ä½ ä¼šå¦å¤–å®šä¹‰æ ‡å¿—å’Œå¤„ç†é…ç½®init()å‡½æ•°ã€‚ æ‰€ä»¥cmd/root.goä¸‹å®Œæ•´çš„rootCmdä¸ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566package cmdimport ( \"fmt\" \"os\" \"github.com/spf13/cobra\" \"github.com/spf13/viper\")var ( // Used for flags. cfgFile string userLicense string rootCmd = &amp;cobra.Command&#123; Use: \"cobra\", Short: \"A generator for Cobra based Applications\", Long: `Cobra is a CLI library for Go that empowers applications.This application is a tool to generate the needed filesto quickly create a Cobra application.`, &#125;)// Execute executes the root command.func Execute() error &#123; return rootCmd.Execute()&#125;func init() &#123; cobra.OnInitialize(initConfig) rootCmd.PersistentFlags().StringVar(&amp;cfgFile, \"config\", \"\", \"config file (default is $HOME/.cobra.yaml)\") rootCmd.PersistentFlags().StringP(\"author\", \"a\", \"YOUR NAME\", \"author name for copyright attribution\") rootCmd.PersistentFlags().StringVarP(&amp;userLicense, \"license\", \"l\", \"\", \"name of license for the project\") rootCmd.PersistentFlags().Bool(\"viper\", true, \"use Viper for configuration\") viper.BindPFlag(\"author\", rootCmd.PersistentFlags().Lookup(\"author\")) viper.BindPFlag(\"useViper\", rootCmd.PersistentFlags().Lookup(\"viper\")) viper.SetDefault(\"author\", \"NAME HERE &lt;EMAIL ADDRESS&gt;\") viper.SetDefault(\"license\", \"apache\") // rootCmd.AddCommand(addCmd) // rootCmd.AddCommand(initCmd)&#125;func initConfig() &#123; if cfgFile != \"\" &#123; // Use config file from the flag. viper.SetConfigFile(cfgFile) &#125; else &#123; // Find home directory. home, err := os.UserHomeDir() cobra.CheckErr(err) // Search config in home directory with name \".cobra\" (without extension). viper.AddConfigPath(home) viper.SetConfigType(\"yaml\") viper.SetConfigName(\".cobra\") &#125; viper.AutomaticEnv() if err := viper.ReadInConfig(); err == nil &#123; fmt.Println(\"Using config file:\", viper.ConfigFileUsed()) &#125;&#125; æ·»åŠ versionå‘½ä»¤, cmd/version.go ï¼š 123456789101112131415161718192021package cmdimport ( \"fmt\" \"github.com/spf13/cobra\")func init() &#123; rootCmd.AddCommand(versionCmd)&#125;var versionCmd = &amp;cobra.Command&#123; Use: \"version\", Short: \"Print the version number of Hugo\", Long: `All software has versions. This is Hugo's`, Run: func(cmd *cobra.Command, args []string) &#123; fmt.Println(\"this is cobra test\") &#125;,&#125; å¤–éƒ¨å¯æ‰§è¡Œæ–‡ä»¶ï¼š 12345678package main// import \"github.com/spf13/cobra/cobra/cmd\"import \"ctest/cmd\" // ctestä¸ºmodæ–‡ä»¶ä¸­çš„moduleNamefunc main() &#123; cmd.Execute()&#125; ç»“åˆå®˜ç½‘æ•™ç¨‹çš„è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV16A41177o6?from=search&amp;seid=2094489749248420707&amp;spm_id_from=333.337.0.0 é¢å¤–ä½¿ç”¨ï¼š å‚æ•°éªŒè¯ 123456// é»˜è®¤æƒ…å†µä¸‹flagæ—¶å¯é€‰çš„,å¦‚æœä½ å¸Œæœ›ç¼ºå¤±flagçš„æ—¶å€™æŠ¥é”™,å¯ä»¥æ ‡è®°ä¸ºRequired flags,å¦‚ä¸‹rootCmd.Flags().StringVarP(&amp;Region, \"region\", \"r\", \"\", \"AWS region (required)\")rootCmd.MarkFlagRequired(\"region\")// æˆ–è€…å¯¹äºPersistentFlagæ¥è¯´rootCmd.PersistentFlags().StringVarP(&amp;Region, \"region\", \"r\", \"\", \"AWS region (required)\")rootCmd.MarkPersistentFlagRequired(\"region\") Positional and Custom Arguments ä½ç½®å‚æ•°çš„éªŒè¯,å¯ä»¥ä½¿ç”¨commnadçš„ argså­—æ®µ ä¸‹åˆ—éªŒè¯å™¨æ˜¯å†…ç½®çš„: NoArgs - å¦‚æœæ²¡æœ‰ä»»ä½•å‚æ•°,commandä¼šæŠ¥é”™ ArbitraryArgs - commandæ¥å—ä»»ä½•å‚æ•° OnlyValidArgs - å¦‚æœæœ‰ä»»ä½•ä½ç½®å‚æ•°ä¸åœ¨ validArgsçš„èŒƒå›´é‡Œé¢, commandä¼šæŠ¥é”™ MinimumNArgs(int) - å½“ä½ç½®å‚æ•°çš„ä¸ªæ•°å°‘äºnæ—¶,command ä¼šæŠ¥é”™ MaximumNArgs(int) - å½“ä½ç½®å‚æ•°çš„ä¸ªæ•°å¤§äºnæ—¶,commandä¼šæŠ¥é”™ ExactArgs(int) - å½“ä½ç½®å‚æ•°çš„ä¸ªæ•°ä¸æ­£å¥½æ˜¯nä¸ªæ—¶,commandä¼šæŠ¥é”™ ExactValidArgs(int) - å½“ä¸æ˜¯æ­£å¥½æœ‰nä¸ªä½ç½®å‚æ•°æˆ–è€…æœ‰ä»»ä½•ä½ç½®å‚æ•°ä¸å±äºValidArgs,commandä¼šæŠ¥é”™. RangeArgs(min, max) - å¦‚æœå‚æ•°çš„ä¸ªæ•°ä¸æ˜¯åœ¨minå’Œmaxä¹‹é—´,commandä¼šæŠ¥é”™ å…³äºè‡ªå®šä¹‰éªŒè¯å™¨çš„ä¸€ä¸ªä¾‹å­: 123456789101112131415var cmd = &amp;cobra.Command&#123; Short: \"hello\", Args: func(cmd *cobra.Command, args []string) error &#123; if len(args) &lt; 1 &#123; return errors.New(\"requires a color argument\") &#125; if myapp.IsValidColor(args[0]) &#123; return nil &#125; return fmt.Errorf(\"invalid color specified: %s\", args[0]) &#125;, Run: func(cmd *cobra.Command, args []string) &#123; fmt.Println(\"Hello, World!\") &#125;,&#125; é¢„è®¾å®šçš„æ¨¡æ¿æ–¹æ³•ï¼š 123456789// è‡ªå®šä¹‰çš„å¸®åŠ©ï¼Œä¸‰ç§æ–¹å¼cmd.SetHelpCommand(cmd *Command)cmd.SetHelpFunc(f func(*Command, []string))cmd.SetHelpTemplate(s string)// è‡ªå®šä¹‰usage, å½“ç”¨æˆ·æä¾›äº†ä¸€ä¸ªæ— æ•ˆçš„flagæˆ–è€…command,cobraä¼šå›å¤ä¸€ä»½usagecmd.SetUsageFunc(f func(*Command) error)cmd.SetUsageTemplate(s string)// è‡ªå®šä¹‰version flagcmd.SetVersionTemplate(s string) PreRun and PostRun Hooks åœ¨ä½ mainå‡½æ•°é‡Œçš„runå‡½æ•°è¿è¡Œä¹‹å‰å’Œä¹‹å,ä¹Ÿæ˜¯å¯ä»¥è¿è¡Œå‡½æ•°çš„.PersistentPreRun å’ŒPreRun å‡½æ•°ä¼šåœ¨Runä¹‹å‰æ‰§è¡Œ,PersistentPostRun å’Œ PostRunä¼šåœ¨Runä¹‹åæ‰§è¡Œ. ç¬¦åˆPersistent*Runæ ¼å¼çš„å‡½æ•°å¦‚æœå­å‘½ä»¤æ²¡æœ‰å®šä¹‰è‡ªå·±çš„Run,å°±ä¼šç»§æ‰¿.è¿™äº›å‡½æ•°çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹: PersistentPreRun PreRun Run PostRun PersistentPostRun æ¯”è¾ƒå…¨é¢çš„ä½¿ç”¨ä»‹ç»æ–‡ç« ï¼šgolang å‘½ä»¤è¡Œè§£æåº“cobraçš„ä½¿ç”¨ ä¸ºå‘½ä»¤å¢åŠ å‚æ•°æ¯”è¾ƒä¼˜é›…çš„å†™æ³•ï¼Œfrom K8S 123456789101112131415func NewProxyCommand() *cobra.Command &#123; // .... fs := cmd.Flags() opts.AddFlags(fs)&#125;func (o *Options) AddFlags(fs *pflag.FlagSet) &#123; o.addOSFlags(fs) fs.StringVar(&amp;o.ConfigFile, \"config\", o.ConfigFile, \"The path to the configuration file.\") fs.StringVar(&amp;o.WriteConfigTo, \"write-config-to\", o.WriteConfigTo, \"If set, write the default configuration values to this file and exit.\") fs.StringVar(&amp;o.config.ClientConnection.Kubeconfig, \"kubeconfig\", o.config.ClientConnection.Kubeconfig, \"Path to kubeconfig file with authorization information (the master location can be overridden by the master flag).\") fs.Float32Var(&amp;o.config.ClientConnection.QPS, \"kube-api-qps\", o.config.ClientConnection.QPS, \"QPS to use while talking with kubernetes apiserver\") fs.Var(&amp;o.config.DetectLocalMode, \"detect-local-mode\", \"Mode to use to detect local traffic\")&#125; pflag pflagå’Œè·Ÿcobraéƒ½æ˜¯spf13ç»„ç»‡ä¸‹çš„ã€‚cobraä¸ä½†æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Golang åŒ…ï¼Œè¿˜æ˜¯ä¸€ä¸ª CLI å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆåº”ç”¨ç¨‹åºå’Œå‘½ä»¤æ–‡ä»¶ï¼Œå¦‚npmå‘½ä»¤ï¼Œä»¥åŠå­å‘½ä»¤&lt;npm&gt; installï¼›è€Œpflagä¸»è¦æ˜¯ä¸°å¯Œæ ‡å‡†åº“ä¸­çš„flagåŒ…ç”¨æ¥å¤„ç†CLIå‚æ•°ï¼Œå¦‚--devï¼› pflag åŒ…çš„è®¾è®¡ç›®çš„å°±æ˜¯æ›¿ä»£æ ‡å‡†åº“ä¸­çš„ flag åŒ…ï¼Œå› æ­¤å®ƒå…·æœ‰æ›´å¼ºå¤§çš„åŠŸèƒ½å¹¶ä¸”ä¸æ ‡å‡†çš„å…¼å®¹æ€§æ›´å¥½ã€‚pflag åŒ…ä¸ flag åŒ…çš„å·¥ä½œåŸç†ç”šè‡³æ˜¯ä»£ç å®ç°éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œä¸‹é¢æ˜¯ pflag ç›¸å¯¹ flag çš„ä¸€äº›ä¼˜åŠ¿ï¼š æ”¯æŒæ›´åŠ ç²¾ç»†çš„å‚æ•°ç±»å‹ï¼šä¾‹å¦‚ï¼Œflag åªæ”¯æŒ uint å’Œ uint64ï¼Œè€Œ pflag é¢å¤–æ”¯æŒ uint8ã€uint16ã€int32 ç­‰ç±»å‹ã€‚ æ”¯æŒæ›´å¤šå‚æ•°ç±»å‹ï¼šipã€ip maskã€ip netã€countã€ä»¥åŠæ‰€æœ‰ç±»å‹çš„ slice ç±»å‹ã€‚ å…¼å®¹æ ‡å‡† flag åº“çš„ Flag å’Œ FlagSetï¼špflag æ›´åƒæ˜¯å¯¹ flag çš„æ‰©å±•ã€‚ åŸç”Ÿæ”¯æŒæ›´ä¸°å¯Œçš„åŠŸèƒ½ï¼šæ”¯æŒ shorthandã€deprecatedã€hidden ç­‰é«˜çº§åŠŸèƒ½ã€‚ å®‰è£…ï¼šgo get github.com/spf13/pflag ä½¿ç”¨è¯´æ˜ æœ€ç®€å•demo 12345678910111213141516package mainimport flag \"github.com/spf13/pflag\"// ä¸€èˆ¬éƒ½è®¾ç½®ä¸ºå…¨å±€å˜é‡, å±€éƒ¨å˜é‡ä¹Ÿå¯// Way1. å°†è¾“å…¥å‚æ•°ç”¨å˜é‡è®°å½•var cliName = flag.StringP(\"name\", \"n\", \"Cl\", \"è¯·è¾“å…¥ä½ çš„åå­—\")// Way2. å°†è¾“å…¥å‚æ•°ä¿å­˜åˆ°å˜é‡æŒ‡é’ˆvar cliAge intfunc main() &#123; // Way2. å°†è¾“å…¥å‚æ•°ä¿å­˜åˆ°å˜é‡æŒ‡é’ˆ flag.IntVarP(&amp;cliAge, \"age\", \"a\", 25, \"æ¸…è¾“å…¥ä½ çš„å¹´çºª\") flag.Parse() println(*cliName) println(cliAge)&#125; å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ç§èµ‹å€¼ç»™å˜é‡çš„æ–¹å¼ å°†è¾“å…¥å‚æ•°ç”¨å˜é‡è®°å½• 1234567// å®šä¹‰å‘½ä»¤è¡Œå‚æ•°å¯¹åº”çš„å˜é‡var cliName = flag.StringP(\"name\", \"n\", \"nick\", \"Input Your Name\")var cliAge = flag.IntP(\"age\", \"a\",22, \"Input Your Age\")var cliGender = flag.StringP(\"gender\", \"g\",\"male\", \"Input Your Gender\")var cliOK = flag.BoolP(\"ok\", \"o\", false, \"Input Are You OK\")var cliDes = flag.StringP(\"des-detail\", \"d\", \"\", \"Input Description\")var cliOldFlag = flag.StringP(\"badflag\", \"b\", \"just for test\", \"Input badflag\") å°†è¾“å…¥å‚æ•°ä¿å­˜åˆ°å˜é‡æŒ‡é’ˆ 12fs.StringVar(&amp;o.ConfigFile, \"config\", o.ConfigFile, \"The path to the configuration file.\")fs.StringVar(&amp;o.WriteConfigTo, \"write-config-to\", o.WriteConfigTo, \"If set, write the default configuration values to this file and exit.\") å‡½æ•°åŸå‹ï¼šfunc StringVar(p *string, name string, value string, usage string)ï¼ŒStringVarå®šä¹‰äº†ä¸€ä¸ªæœ‰æŒ‡å®šåå­—ï¼Œé»˜è®¤å€¼ï¼Œå’Œç”¨æ³•è¯´æ˜çš„stringæ ‡ç­¾ã€‚ å‚æ•°pæŒ‡å‘ä¸€ä¸ªå­˜å‚¨æ ‡ç­¾è§£æå€¼çš„stringå˜é‡ï¼Œå¯¹åº”çš„å‚æ•°è¾“å…¥åä¼šè¢«ä¿å­˜åˆ°på˜é‡ä¸­ã€‚ è¿™ç§å–åœ°å€èµ‹å€¼çš„åšæ³•ï¼Œå¯ä»¥æ›´å¥½ã€æ›´çµæ´»åœ°ç»“æ„åŒ–ç¼–ç¨‹ã€‚ å‚æ•°è¾“å…¥ -- è¡¨ç¤ºå®Œæ•´çš„é€‰é¡¹åç§°ï¼Œe.g.--nameï¼›-è¡¨ç¤º shorthandï¼Œe.g.-n å¸ƒå°”ç±»å‹çš„å‚æ•° å¸ƒå°”ç±»å‹çš„å‚æ•°æœ‰ä¸‹é¢å‡ ç§å†™æ³• 123--flag // ç­‰åŒäº --flag=true --flag=value--flag value // è¿™ç§å†™æ³•åªæœ‰åœ¨æ²¡æœ‰è®¾ç½®é»˜è®¤å€¼æ—¶æ‰ç”Ÿæ•ˆ éå¸ƒå°”ç±»å‹çš„å‚æ•° ä¸‹é¢æ˜¯ä¼ é€’å‚æ•°çš„æ–¹å¼å’Œå‚æ•°æœ€ç»ˆçš„å–å€¼ï¼š 1234--age=30 cliAge=30--age cliAge=25--age 30 cliAge=30[nothing] cliAge=22 shorthandä¹Ÿæ˜¯åŒæ · 1234-a=30-a-a 30[nothing] cliAge=22 æ ‡å‡†åŒ–å‚æ•°çš„åç§° å¦‚æœæˆ‘ä»¬åˆ›å»ºäº†åç§°ä¸º --des-detail çš„å‚æ•°ï¼Œä½†æ˜¯ç”¨æˆ·å´åœ¨ä¼ å‚æ—¶å†™æˆäº† --des_detail æˆ– --des.detail ä¼šæ€ä¹ˆæ ·ï¼Ÿé»˜è®¤æƒ…å†µä¸‹ç¨‹åºä¼šæŠ¥é”™é€€å‡ºï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ pflag æä¾›çš„ SetNormalizeFunc åŠŸèƒ½è½»æ¾çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼š [](javascript:void(0)ğŸ˜‰ 123456789func wordSepNormalizeFunc(f *flag.FlagSet, name string) flag.NormalizedName &#123; from := []string&#123;&quot;-&quot;, &quot;_&quot;&#125; to := &quot;.&quot; for _, sep := range from &#123; name = strings.Replace(name, sep, to, -1) &#125; return flag.NormalizedName(name)&#125;flag.CommandLine.SetNormalizeFunc(wordSepNormalizeFunc) æ ‡å‡†åŒ–å‚æ•°çš„åç§° å¦‚æœæˆ‘ä»¬åˆ›å»ºäº†åç§°ä¸º --des-detail çš„å‚æ•°ï¼Œä½†æ˜¯ç”¨æˆ·å´åœ¨ä¼ å‚æ—¶å†™æˆäº† --des_detail æˆ– --des.detail ä¼šæ€ä¹ˆæ ·ï¼Ÿé»˜è®¤æƒ…å†µä¸‹ç¨‹åºä¼šæŠ¥é”™é€€å‡ºï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ pflag æä¾›çš„ SetNormalizeFunc åŠŸèƒ½è½»æ¾çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼š 123456789func wordSepNormalizeFunc(f *flag.FlagSet, name string) flag.NormalizedName &#123; from := []string&#123;\"-\", \"_\"&#125; to := \".\" for _, sep := range from &#123; name = strings.Replace(name, sep, to, -1) &#125; return flag.NormalizedName(name)&#125;flag.CommandLine.SetNormalizeFunc(wordSepNormalizeFunc) NoOptDefVal ç”¨æ³• pflag åŒ…æ”¯æŒé€šè¿‡ç®€ä¾¿çš„æ–¹å¼ä¸ºå‚æ•°è®¾ç½®é»˜è®¤å€¼ä¹‹å¤–çš„å€¼ï¼Œå®ç°æ–¹å¼ä¸ºè®¾ç½®å‚æ•°çš„ NoOptDefVal å±æ€§ï¼š 12var cliAge = flag.IntP(\"age\", \"a\",22, \"Input Your Age\")flag.Lookup(\"age\").NoOptDefVal = \"25\" ä¸‹é¢æ˜¯ä¼ é€’å‚æ•°çš„æ–¹å¼å’Œå‚æ•°æœ€ç»ˆçš„å–å€¼ï¼š 1234Parsed Arguments Resulting Value--age=30 cliAge=30--age cliAge=25[nothing] cliAge=22 å¯è§ï¼Œé€šè¿‡NoOptDefValå¯ä»¥å®ç°bool flagçš„æ•ˆæœï¼Œå³å¦‚æœå‡ºç°è¯¥flagåˆ™è®¾ç½®æˆNoOptDefValå€¼ pflag.FlagSet å‘½ä»¤å‚æ•°flagé›†åˆ 1234567891011121314// AddEtcdFlags adds flags related to etcd storage for a specific APIServer to the specified FlagSetfunc (s *EtcdOptions) AddFlags(fs *pflag.FlagSet) &#123; fs.StringSliceVar(&amp;s.EtcdServersOverrides, \"etcd-servers-overrides\", s.EtcdServersOverrides, \"\"+ \"Per-resource etcd servers overrides, comma separated. The individual override \"+ \"format: group/resource#servers, where servers are http://ip:port, semicolon separated.\") fs.StringVar(&amp;s.StorageConfig.Type, \"storage-backend\", s.StorageConfig.Type, \"The storage backend for persistence. Options: 'etcd3' (default), 'etcd2'.\") fs.IntVar(&amp;s.StorageConfig.DeserializationCacheSize, \"deserialization-cache-size\", s.StorageConfig.DeserializationCacheSize, \"Number of deserialized json objects to cache in memory.\") fs.StringSliceVar(&amp;s.StorageConfig.ServerList, \"etcd-servers\", s.StorageConfig.ServerList, \"List of etcd servers to connect with (scheme://ip:port), comma separated.\") fs.BoolVar(&amp;s.StorageConfig.Quorum, \"etcd-quorum-read\", s.StorageConfig.Quorum, \"If true, enable quorum read.\")&#125; 12345678910// AddFlags adds flags to fs and binds them to options.func (o *Options) AddFlags(fs *pflag.FlagSet) &#123; o.addOSFlags(fs) fs.StringVar(&amp;o.ConfigFile, \"config\", o.ConfigFile, \"The path to the configuration file.\") fs.StringVar(&amp;o.WriteConfigTo, \"write-config-to\", o.WriteConfigTo, \"If set, write the default configuration values to this file and exit.\") fs.StringVar(&amp;o.config.ClientConnection.Kubeconfig, \"kubeconfig\", o.config.ClientConnection.Kubeconfig, \"Path to kubeconfig file with authorization information (the master location can be overridden by the master flag).\") fs.Float32Var(&amp;o.config.ClientConnection.QPS, \"kube-api-qps\", o.config.ClientConnection.QPS, \"QPS to use while talking with kubernetes apiserver\") fs.Var(&amp;o.config.DetectLocalMode, \"detect-local-mode\", \"Mode to use to detect local traffic\")&#125;","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Go","slug":"Go","permalink":"https://nymrli.top/tags/Go/"}]},{"title":"Chromeæ’ä»¶ç¼–å†™-å¤©çŒ«ç§’æ€æ’ä»¶","slug":"å¤©çŒ«ç§’æ€æ’ä»¶-Chromeæ’ä»¶ç¼–å†™","date":"2021-03-03T13:37:15.000Z","updated":"2021-12-04T14:15:30.809Z","comments":true,"path":"2021/03/03/å¤©çŒ«ç§’æ€æ’ä»¶-Chromeæ’ä»¶ç¼–å†™/","link":"","permalink":"https://nymrli.top/2021/03/03/å¤©çŒ«ç§’æ€æ’ä»¶-Chromeæ’ä»¶ç¼–å†™/","excerpt":"","text":"chromeæ’ä»¶å¼€å‘ å€Ÿé‰´TODO-Listï¼šChromeæ’ä»¶å¼€å‘ç®€è¦æŒ‡å— æ–‡ä»¶ç»“æ„ åœ¨åº”ç”¨å•†åº—ä¸­ä¸‹è½½ä¸‹æ¥çš„æ’ä»¶åŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥.crxä¸ºæ–‡ä»¶åç¼€ï¼Œè¯¥æ–‡ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼ˆæ–‡ä»¶å¤¹å‹ç¼©è€Œæ¥ï¼‰ï¼ŒåŒ…æ‹¬æ’ä»¶æ‰€éœ€è¦çš„htmlã€cssã€javascriptã€å›¾ç‰‡èµ„æºç­‰ç­‰æ–‡ä»¶ã€‚ å…¶ä¸­ï¼Œ manifest.jsonæ˜¯æ•´ä¸ªæ’ä»¶çš„åŠŸèƒ½åŠæ–‡ä»¶é…ç½®æ¸…å•ï¼Œéå¸¸é‡è¦ã€‚ staticç›®å½•æ˜¯æ”¾ç½®æ•´ä¸ªæ’ä»¶çš„é™æ€èµ„æºæ–‡ä»¶çš„ï¼ŒåŒ…æ‹¬cssã€jsã€å›¾ç‰‡ç­‰ç­‰èµ„æº templateç›®å½•æ˜¯æ”¾ç½®æ•´ä¸ªæ’ä»¶çš„åŠŸèƒ½é¡µé¢æ¨¡æ¿çš„ã€‚ _localesç›®å½•æ˜¯æ”¾ç½®æ•´ä¸ªæ’ä»¶çš„å›½é™…åŒ–è¯­è¨€è„šæœ¬çš„ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæ¸…å•æ–‡ä»¶manifest.jsonæ–‡ä»¶æ˜¯å¿…é¡»çš„ï¼Œä¸”å¿…é¡»æ”¾åœ¨æ’ä»¶å¼€å‘ç›®å½•çš„æ ¹ç›®å½•ä¸Šã€‚å…¶ä»–çš„ç›®å½•éƒ½å¯ä»¥è‡ªå®šä¹‰ã€‚ å¼¹å‡ºçª—å£å’Œåå°é¡µé¢ å¼¹å‡ºçª—å£ä¸€èˆ¬ç”¨äºæ’ä»¶å’Œç”¨æˆ·çš„äº¤äº’ï¼Œè€Œåå°é¡µé¢ä¸€èˆ¬ç”¨äºæ’ä»¶æœ¬èº«åšä¸€äº›é¢å¤–çš„äº‹æƒ…ã€‚æ¯”å¦‚æœ‰æ—¶å€™ï¼Œæ’ä»¶éœ€è¦è”ç½‘è¿›è¡Œæ•°æ®åŒæ­¥ç­‰æ“ä½œï¼Œè¿™ç§æ“ä½œç”¨æˆ·æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œæ‰€æœ‰å°±è¦æ±‚æ’ä»¶éœ€è¦æœ‰ä¸€ä¸ªåå°é¡µé¢æ¥è¿è¡Œè¿™éƒ¨åˆ†çš„é€»è¾‘ã€‚ å…¶å®åå°é¡µé¢è¿˜å¯ä»¥åˆ†ä¸ºæŒä¹…è¿è¡Œçš„åç«¯é¡µé¢å’Œäº‹ä»¶é¡µé¢ï¼Œè¿™é‡Œå¯¹è¿™ä¸¤è€…å°±ä¸å¤šåšè¯´æ˜äº†ï¼Œæ›´å¤šçš„å†…å®¹å¯ä»¥å‚é˜…å…·ä½“çš„æ–‡æ¡£ã€‚ å¼¹å‡ºå¼æ’ä»¶æ•™ç¨‹TODO-LIST manifest.json 1234567891011&#123; \"name\": \"todo-plugin\", \"version\": \"0.9.0\", \"manifest_version\": 2, \"description\": \"chrome plugin demo\", \"browser_action\": &#123; \"default_icon\": \"icon.png\", \"default_title\": \"Todo List\", \"default_popup\": \"popup.html\" &#125;&#125; popup.html 123456789101112131415161718192021222324252627282930313233&lt;style&gt; body &#123; width: 150px; &#125; #add-new-item &#123; cursor: pointer; color: #CCC; &#125; .hide &#123; display: none; &#125; .show &#123; display: block; &#125; .item &#123; cursor: pointer; margin: 5px 0; &#125; .item input &#123; display: inline-block; width: 12px; height: 12px; &#125; input &#123; width: 120px; &#125;&lt;/style&gt;&lt;div id=\"add-new-item\"&gt;æ·»åŠ æ–°é¡¹&lt;/div&gt;&lt;div id=\"add-new-item-input\" class=\"hide\"&gt; &lt;input type=\"text\" id=\"new-item-title\" placeholder=\"æ·»åŠ æ–°ä»»åŠ¡\"/&gt;&lt;/div&gt;&lt;div id=\"item-list\"&gt;&lt;/div&gt;&lt;script type=\"text/javascript\" src=\"main.js\"&gt;&lt;/script&gt; main.js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374(function () &#123; var $ = function (id) &#123; return document.getElementById(id); &#125;; var Tasks = &#123; show: function (obj) &#123; obj.className = ''; return this; &#125;, hide: function (obj) &#123; obj.className = 'hide'; return this; &#125;, $addNewItem: $('add-new-item'), $addNewItemInput: $('add-new-item-input'), $itemList: $('item-list'), $newItemTitle: $('new-item-title'), init: function () &#123; //æ‰“å¼€æ·»åŠ æ–‡æœ¬æ¡† Tasks.$addNewItem.addEventListener('click', function () &#123; Tasks.show(Tasks.$addNewItemInput).hide(Tasks.$addNewItem); Tasks.$newItemTitle.focus(); &#125;, true); //å›è½¦æ·»åŠ ä»»åŠ¡ Tasks.$newItemTitle.addEventListener('keyup', function (ev) &#123; var ev = ev || window.event; if (ev.keyCode == 13) &#123; //TODO:å†™å…¥æœ¬åœ°æ•°æ® var task = Tasks.$newItemTitle.value; Tasks.AppendHtml(task); Tasks.$newItemTitle.value = ''; Tasks.hide(Tasks.$addNewItemInput).show(Tasks.$addNewItem); &#125; ev.preventDefault(); &#125;, true); //å–æ¶ˆæ·»åŠ  Tasks.$newItemTitle.addEventListener('blur', function () &#123; Tasks.$newItemTitle.value = ''; Tasks.hide(Tasks.$addNewItemInput).show(Tasks.$addNewItem); &#125;, true); //TODO åˆå§‹åŒ–æ•°æ®ï¼ŒåŠ è½½æœ¬åœ°æ•°æ®ï¼Œç”Ÿæˆhtml &#125;, //å¢åŠ  Add: function () &#123; //TODO &#125;, //ä¿®æ”¹ Edit: function () &#123; //TODO &#125;, //åˆ é™¤ Del: function () &#123; //TODO &#125;, AppendHtml: function (title) &#123; var oDiv = document.createElement('div'); oDiv.className = 'item item-todo'; var oInput = document.createElement('input'); oInput.type = 'checkbox'; var oTitle = document.createElement('span'); oTitle.innerHTML = title; oDiv.appendChild(oInput); oDiv.appendChild(oTitle); Tasks.$itemList.appendChild(oDiv); oDiv.addEventListener('click', function () &#123; //TODO &#125;, true); &#125;, RemoveHtml: function () &#123; //TODO &#125; &#125; Tasks.init();&#125;)(); å¤©çŒ«ç§’æ€æ’ä»¶ Tmall_Kill Code Templateï¼š https://link.zhihu.com/?target=https%3A//github.com/cehui0303/Tmall_Tickets ä»£ç æ¯”è¾ƒç®€å•ï¼Œå®ç°åŸç†ä¸ºï¼Œæ‰“å¼€æµè§ˆå™¨åæ‰§è¡Œæ’ä»¶ï¼ŒJSè„šæœ¬å°†ä¼šåœ¨æŒ‡å®šæ—¶é—´ç‚¹å‡»â€œç»“ç®—â€æŒ‰é’®ï¼Œç„¶åå‘èµ·è®¢å•ï¼Œä»è€Œé”å®šåº“å­˜æŠ¢è´§ã€‚ main.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081//å®šæ—¶å™¨var timer = null;//æ£€æµ‹çŠ¶æ€function checkElementState(path,callback)&#123; var ele = document.querySelector(path); if(ele)&#123; callback &amp;&amp; callback(); &#125;else&#123; console.log('å¼‚æ­¥åŠ è½½å…ƒç´ ä¸­....' + path ); setTimeout( function()&#123;checkElementState(path,callback);&#125;,200); &#125;&#125;//ç»“ç®—function checkOut()&#123; console.log('ç»“ç®—å¼€å§‹....'); var btn = document.getElementById('J_Go'); if(btn)&#123; btn.click(); &#125;else&#123; console.log('ç»“ç®—æŒ‰é’®æ²¡æ‰¾åˆ°'); &#125;&#125;// S1: 1. ç‚¹å‡»ç»“ç®—æŒ‰é’® =&gt; 2. checkElementState()æ£€æµ‹ç»“ç®—æŒ‰é’®æ˜¯å¦åŠ è½½å‡ºæ¥ --&gt; 3.checkOut()ç‚¹å‡»ç»“ç®—æŒ‰é’®function checkOutAsync()&#123; checkElementState('#J_Go',checkOut);&#125;// S2: æäº¤è®¢å•function submitOrder()&#123; console.log('æäº¤è®¢å•å¼€å§‹....'); checkElementState('.go-btn',function()&#123; var btn = document.querySelector(\".go-btn\"); if(btn)&#123; btn.click(); &#125;else&#123; console.log('æäº¤è®¢å•æŒ‰é’®æ²¡æ‰¾åˆ°'); &#125; &#125;);&#125;//ç›®æ ‡æ—¶é—´ var dDate = new Date(); //10ç‚¹å’Œ20ç‚¹å¼€æŠ¢ if( dDate.getHours() &lt; 10 )&#123; dDate.setHours(9,59,59.2); &#125;else&#123; dDate.setHours(19,59,59.2); &#125;//è¿›å…¥æ—¶é—´åˆ¤æ–­å¾ªç¯function enterTimeCheckLoop(callback)&#123; var date = new Date(); var diff = Date.parse(dDate) - Date.parse(date) ; console.log(diff); if(diff &lt; -90 )&#123; console.log('æ—¶é—´è¿‡äº†ï¼'); &#125;else if(diff &lt; 50 ) &#123; callback &amp;&amp; callback(); console.log('æ—¶é—´åˆ°äº†ï¼ï¼ï¼'); &#125;else&#123; setTimeout(function()&#123; enterTimeCheckLoop(callback);&#125;,400); &#125;&#125;//ä¸»è¦å‡½æ•°(function main()&#123; console.log('############################å¤©çŒ«æªæ€è„šæœ¬############################'); var href = window.location.href; //ç»“ç®—é¡µé¢ if(href.indexOf('cart.tmall.com') &gt; -1 )&#123; //è¿›å…¥æ—¶é—´åˆ¤æ–­ enterTimeCheckLoop( checkOutAsync ); &#125;else if(href.indexOf('buy.tmall.com') &gt; -1 )&#123; //æäº¤è®¢å•é¡µé¢ submitOrder(); &#125;&#125;)() è¿™ç§ç†è®ºä¸Šæ˜¯å¯è¡Œçš„ï¼Œåªä¸è¿‡è‚¯å®šä¼šæœ‰åˆ·æ–°ä¸Šçš„é—®é¢˜ï¼Œæ•ˆç‡ä¸åŠç½‘ç»œè¯·æ±‚ï¼Œä½†æ€è·¯ä¾æ—§æ˜¯å€¼å¾—å­¦ä¹ çš„ï¼Œå› æ­¤å€Ÿæ­¤æœºä¼šä¹Ÿæ˜¯å­¦ä¸‹Chromeæ’ä»¶çš„ç¼–å†™ã€‚ manifest.json 12345678910111213141516171819202122232425&#123; \"manifest_version\": 2, // manifestæ–‡ä»¶ç‰ˆæœ¬å·ã€‚Chrome18å¼€å§‹å¿…é¡»ä¸º2 \"name\": \"Tmall-tickets\", // crxæ‰©å±•åç§° \"version\": \"1.0\", // æ’ä»¶ç‰ˆæœ¬ \"description\": \"å¤©çŒ«è¶…å¸‚æªæ€è„šæœ¬\", \"browser_action\": &#123; // åœ°å€æ å³ä¾§å›¾æ ‡ç®¡ç†ã€‚å«å›¾æ ‡åŠå¼¹å‡ºé¡µé¢çš„è®¾ç½®ç­‰ \"default_icon\": \"icon.png\" &#125;, \"content_scripts\": [ // æŒ‡å®šè¦å‘Webé¡µé¢å†…æ³¨å…¥çš„è„šæœ¬ã€‚å¯æ³¨å…¥å¤šä¸ªcssä¸jsã€‚ &#123; \"matches\": [\"https://chaoshi.detail.tmall.com/*\",\"https://cart.tmall.com/*\",\"https://buy.tmall.com/*\"], \"js\": [\"maotai.js\"], \"run_at\": \"document_idle\" &#125; ], \"permissions\": [ \"https://www.baidu.com/*\", \"background\", \"tabs\" ], //æƒé™ \"plugins\": [&#123; \"path\": \"extension_plugin.dll\", \"public\": true &#125;], // æ‰©å±•ã€‚å¯è°ƒç”¨ç¬¬ä¸‰æ–¹æ‰©å±•&#125; content_scriptsï¼Œå…¶æ•°ç»„å…ƒç´ çš„å­—æ®µæœ‰ï¼š matchesï¼šStringæ•°ç»„ï¼Œå¿…é¡»ã€‚å®šä¹‰content_scriptså¯¹å“ªäº›é¡µé¢ç”Ÿæ•ˆã€‚å…¶è§„åˆ™ç¬¦åˆpermissionsçš„æ¨¡å¼åŒ¹é…ã€‚ cssï¼šStringæ•°ç»„ï¼Œå¯é€‰ã€‚å®šä¹‰å“ªäº›cssæ–‡ä»¶åœ¨webé¡µé¢DOMåˆ›å»ºå‰æ³¨å…¥åˆ°webé¡µé¢ä¸­ã€‚ jsï¼šStringæ•°ç»„ï¼Œå¯é€‰ã€‚å®šä¹‰å“ªäº›jsæ–‡ä»¶æ³¨å…¥åˆ°webé¡µé¢ä¸­ã€‚å…¶jsæ–‡ä»¶çš„æ³¨å…¥é¡ºåºä¸æ•°ç»„ä¸­å®šä¹‰çš„é¡ºåºç›¸åŒã€‚è‡³äºè¿™äº›jsä¸webé¡µé¢ä¸­æ‰€å®šä¹‰jsçš„é¡ºåºå…³ç³»ï¼Œå–å†³äºrun_atå­—æ®µã€‚ run_atï¼šStringï¼Œå¯é€‰ã€‚å®šä¹‰content_scriptsçš„æ³¨å…¥æ—¶æœºï¼Œä»è€Œå½±å“åˆ°jsä¸webé¡µé¢æ‰€å®šä¹‰jsçš„é¡ºåºå…³ç³»ã€‚å–å€¼æœ‰ï¼š document_startï¼šæ‰€æœ‰cssåŠ è½½å®Œæ¯•ï¼Œä½†DOMå°šæœªåˆ›å»ºæ—¶ã€‚ document_endï¼šDOMåˆ›å»ºå®Œæˆï¼Œä½†å›¾ç‰‡åŠframeç­‰å­èµ„æºå°šæœªåŠ è½½æ—¶ã€‚ document_idleï¼šdocument_endä¹‹åï¼Œwindow.onloadä¹‹å‰ã€‚ é»˜è®¤æ˜¯document_idleï¼Œä¹Ÿå°±æ˜¯content_scriptsçš„jséƒ½ç½—åˆ—åœ¨webé¡µé¢çš„jsä¹‹åã€‚ all_framesï¼šbooleanï¼Œå¯é€‰ã€‚æ˜¯å¦è¿è¡Œåœ¨é¡µé¢æ‰€æœ‰çš„frameä¸­ã€‚è‹¥ä¸ºfalseï¼Œåˆ™åªè¿è¡Œåœ¨æœ€ä¸Šå±‚çš„frameä¸­ã€‚é»˜è®¤ä¸ºfalseã€‚ include_globsï¼šStringæ•°ç»„ï¼Œå¯é€‰ã€‚ç”¨äºè§„å®šé¡µé¢åŒ¹é…çš„ç™½åå•ã€‚ä¸€ä¸ªURLï¼Œå¿…é¡»åŒæ—¶æ»¡è¶³ï¼šåŒ¹é…matchesï¼ŒåŒ¹é…include_globsç™½åå•ï¼Œä¸åŒ¹é…exclude_globsé»‘åå•è¿™ä¸‰ä¸ªæ¡ä»¶æ‰å¯ä»¥ã€‚æ³¨æ„include_globså’Œexclude_globsä¸­çš„åŒ¹é…è¯­æ³•ä¸permissionså’Œmatchesæ‰€ç”¨çš„åŒ¹é…æ¨¡å¼ä¸åŒã€‚ exclude_globsï¼šStringæ•°ç»„ï¼Œå¯é€‰ã€‚ç”¨äºè§„å®šé¡µé¢åŒ¹é…çš„é»‘åå•ã€‚åŒâ‘¥ã€‚ permissionsï¼šæ‰©å±•æ‰€éœ€è¦çš„æƒé™ã€‚permissionsæ˜¯ä¸€ä¸ªStringæ•°ç»„ï¼Œæ¯ä¸€ä¸ªæƒé™éƒ½ä½¿ç”¨Stringæ¥è¡¨ç¤ºã€‚æŸäº›æƒé™åœ¨å®‰è£…å‰ä¼šå‘ŠçŸ¥ç”¨æˆ·ã€‚ æ¨¡å¼é…åŒ¹ï¼šç”¨äºæŒ‡å®šæ‰©å±•ä¼šåœ¨å“ªäº›URLä¸­ç”Ÿæ•ˆã€‚ä¾‹å¦‚ï¼š backgroundï¼šå¯ç”¨æ‰©å±•åç«¯ç¯å¢ƒã€‚å³åœ¨æµè§ˆå™¨è¿è¡ŒæœŸå§‹ç»ˆè¿è¡Œï¼Œä¸å•ä¸ªé¡µé¢æ— å…³ã€‚å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨æµè§ˆå™¨çš„APIï¼Œé€šå¸¸åœ¨è¿™é‡Œè¿›è¡Œæ‰©å±•ä¸»è¦é€»è¾‘çš„å¼€å‘ã€‚é…åˆmanifest.jsonçš„backgroundå­—æ®µä½¿ç”¨ã€‚ backgroundï¼š è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„å±æ€§ï¼Œå¦‚æœä½ éœ€è¦è¿è¡Œä¸€äº›åå°è„šæœ¬ï¼Œæ¯”å¦‚ç›‘å¬ç”¨æˆ·åœ¨æ‰©å±•ä¿¡æ¯æ æŒ‰ä¸‹ä½ çš„æ’ä»¶å›¾æ ‡ï¼Œæˆ–è€…ä½ è¦ç›‘å¬ç”¨æˆ·æ–°å»ºtabé¡µï¼Œè¿™ä¸ªæ—¶å€™ä½ å°±éœ€è¦æœ‰ä¸€ä¸ªbackgroundçš„é¡µé¢ã€‚backgroundä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªHTMLé¡µé¢ï¼ˆå¦‚æˆ‘çš„æ’ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªJSæ–‡ä»¶ï¼Œå¦‚ï¼š 1234567891011&#123; \"name\": \"My extension\", ... \"background\": &#123; \"scripts\": [\"background.js\"] &#125;, ...&#125;// éœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š// 1ã€æ˜¯HTMLä¸èƒ½å†™JSä»£ç ï¼ŒJSä»£ç éœ€è¦å†™åˆ°JSæ–‡ä»¶ä¸­åå¼•å…¥ï¼›// 2ã€ä¸èƒ½ä½¿ç”¨jqueryï¼ˆæ²¡æœ‰è¯¦ç»†æµ‹è¯•ï¼Œå¯èƒ½æ˜¯æˆ‘æ²¡ç”¨æ­£ç¡®ï¼‰ï¼› background.js 12345// background.js// @describtion: ç›‘å¬ç”¨æˆ·åœ¨æ‰©å±•ä¿¡æ¯æ æŒ‰ä¸‹ä½ çš„æ’ä»¶å›¾æ ‡æ—¶ï¼Œæ˜¾ç¤ºå½“å‰æ´»åŠ¨é¡µçš„URLï¼šchrome.browserAction.onClicked.addListener(function (tab) &#123; alert(tab.url);&#125;); æ”¹è¿›Tmall_Kill éœ€è¦ä¿®æ”¹çš„åŠŸèƒ½ä¸ºï¼š æ’ä»¶ä¸­è®¾å®šæ—¶é—´=&gt;æ—¶é—´æ¡†é€‰æ‹©æ—¶é—´ åŒ¹é…ç½‘ç«™è‡ªåŠ¨è¿è¡Œ-&gt;å¼¹å‡ºé¡µé¢æ‰‹åŠ¨ç‚¹å‡»è¿è¡Œ é€‰ä¸­è´­ç‰©è½¦å•†å“åç»“ç®—-&gt;åˆ°æ—¶é—´åè‡ªåŠ¨å‹¾é€‰å•†å“ç»“ç®— å¼¹å‡ºé¡µ+æ—¶é—´æ¡† popup.html HTML5æ—¥æœŸè¾“å…¥æ¡†(date) 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;!-- * @Author: Mrli * @Date: 2021-03-02 17:19:02 * @LastEditTime: 2021-03-03 22:18:02 * @Description: --&gt;&lt;style&gt; body &#123; width: 250px; &#125; #add-new-item &#123; cursor: pointer; color: #CCC; &#125; .hide &#123; display: none; &#125; .show &#123; display: block; &#125; .item &#123; cursor: pointer; margin: 5px 0; &#125; .item input &#123; display: inline-block; width: 12px; height: 12px; &#125; input &#123; width: 200px; &#125;&lt;/style&gt;&lt;div id=\"add-new-item\"&gt;add new item&lt;/div&gt;&lt;div id=\"add-new-item-input\" class=\"hide\"&gt; &lt;input type=\"text\" id=\"new-item-title\" placeholder=\"add new\"/&gt;&lt;/div&gt;&lt;label for=\"meeting\"&gt;killTime:&lt;/label&gt;&lt;input id=\"meeting\" type=\"datetime-local\"/&gt;&lt;div id=\"item-list\"&gt;&lt;/div&gt;&lt;script type=\"text/javascript\" src=\"main.js\"&gt;&lt;/script&gt; é…å¥—çš„manifest.json 1234567891011&#123; \"name\": \"todo-plugin\", \"version\": \"0.9.0\", \"manifest_version\": 2, \"description\": \"chrome plugin demo\", \"browser_action\": &#123; \"default_icon\": \"icon.png\", \"default_title\": \"Todo List\", \"default_popup\": \"popup.html\" &#125;&#125; main.js 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374(function () &#123; var $ = function (id) &#123; return document.getElementById(id); &#125;; var Tasks = &#123; show: function (obj) &#123; obj.className = ''; return this; &#125;, hide: function (obj) &#123; obj.className = 'hide'; return this; &#125;, $addNewItem: $('add-new-item'), $addNewItemInput: $('add-new-item-input'), $itemList: $('item-list'), $newItemTitle: $('new-item-title'), init: function () &#123; //æ‰“å¼€æ·»åŠ æ–‡æœ¬æ¡† Tasks.$addNewItem.addEventListener('click', function () &#123; Tasks.show(Tasks.$addNewItemInput).hide(Tasks.$addNewItem); Tasks.$newItemTitle.focus(); &#125;, true); //å›è½¦æ·»åŠ ä»»åŠ¡ Tasks.$newItemTitle.addEventListener('keyup', function (ev) &#123; var ev = ev || window.event; if (ev.keyCode == 13) &#123; //TODO:å†™å…¥æœ¬åœ°æ•°æ® var task = Tasks.$newItemTitle.value; Tasks.AppendHtml(task); Tasks.$newItemTitle.value = ''; Tasks.hide(Tasks.$addNewItemInput).show(Tasks.$addNewItem); &#125; ev.preventDefault(); &#125;, true); //å–æ¶ˆæ·»åŠ  Tasks.$newItemTitle.addEventListener('blur', function () &#123; Tasks.$newItemTitle.value = ''; Tasks.hide(Tasks.$addNewItemInput).show(Tasks.$addNewItem); &#125;, true); //TODO åˆå§‹åŒ–æ•°æ®ï¼ŒåŠ è½½æœ¬åœ°æ•°æ®ï¼Œç”Ÿæˆhtml &#125;, //å¢åŠ  Add: function () &#123; //TODO &#125;, //ä¿®æ”¹ Edit: function () &#123; //TODO &#125;, //åˆ é™¤ Del: function () &#123; //TODO &#125;, AppendHtml: function (title) &#123; var oDiv = document.createElement('div'); oDiv.className = 'item item-todo'; var oInput = document.createElement('input'); oInput.type = 'checkbox'; var oTitle = document.createElement('span'); oTitle.innerHTML = title; oDiv.appendChild(oInput); oDiv.appendChild(oTitle); Tasks.$itemList.appendChild(oDiv); oDiv.addEventListener('click', function () &#123; //TODO &#125;, true); &#125;, RemoveHtml: function () &#123; //TODO &#125; &#125; Tasks.init();&#125;)(); å­¦ä¹ æ¡ˆä¾‹ï¼š cookies-list Chrome æ’ä»¶å¼€å‘ä¸å®Œå…¨æŒ‡å—","categories":[],"tags":[{"name":"è„šæœ¬","slug":"è„šæœ¬","permalink":"https://nymrli.top/tags/è„šæœ¬/"}]},{"title":"è®¤çœŸå­¦æ¬¡DPâ€”â€”åŠ¨æ€è§„åˆ’","slug":"è®¤çœŸå­¦æ¬¡DPâ€”â€”åŠ¨æ€è§„åˆ’","date":"2021-01-24T05:27:08.000Z","updated":"2021-01-24T14:26:49.285Z","comments":true,"path":"2021/01/24/è®¤çœŸå­¦æ¬¡DPâ€”â€”åŠ¨æ€è§„åˆ’/","link":"","permalink":"https://nymrli.top/2021/01/24/è®¤çœŸå­¦æ¬¡DPâ€”â€”åŠ¨æ€è§„åˆ’/","excerpt":"","text":"åŠ¨æ€è§„åˆ’DP ä¸€èˆ¬ç®—æ³•é¢è¯•é¢˜è§£å†³æœ€ä¼˜åŒ–é—®é¢˜ï¼Œæœ‰ä¸¤ç§è§£å†³é€”å¾„ï¼šæš´åŠ›æšä¸¾ã€æˆ–è€…DPï¼Œç”±äºå…¶çµæ´»å’Œé«˜æ•ˆï¼Œæ— æ•°ç¨‹åºå‘˜ä¸ºå®ƒç€è¿·ï¼Œå¤§å‚é¢è¯•ä¹Ÿæ˜¯å¿…è€ƒã€‚ ä½†æ˜¯ï¼ŒåŠ¨æ€è§„åˆ’å½¢å¼ä¸Šéå¸¸å¤šå˜ï¼Œæœ¬è´¨ä¸Šæ²¡æœ‰å¥—è·¯ï¼Œé—®é¢˜ä¸åŒï¼ŒåŠ¨æ€è§„åˆ’çš„è¿­ä»£æ–¹ç¨‹å°±ä¸åŒã€‚è€Œæœ‰äº›é—®é¢˜ï¼Œå¯¹äºè®¡ç®—æœºç§‘å­¦å®¶ï¼Œéƒ½éš¾ä»¥æ‰¾åˆ°è¿­ä»£æ–¹ç¨‹ã€‚å› æ­¤ï¼Œå¯¹äºå¹³å¹³å¸¸å¸¸çš„æˆ‘ä»¬ï¼Œåˆ·ç®—æ³•é¢˜æ—¶æƒ³ä¸å‡ºåŠ¨æ€è§„åˆ’çš„è§£æ³•ï¼Œä¹Ÿå¤§å¯ä¸å¿…æ°”é¦ã€‚ DPç»„æˆâ€”â€”ä¸‰ä¸ªæ¡ä»¶ æŸä¸ªé—®é¢˜æ˜¯å¦èƒ½åº”ç”¨åŠ¨æ€è§„åˆ’ï¼Œé€šå¸¸éœ€è¦æ»¡è¶³ 3 ä¸ªæ¡ä»¶ï¼š å…·æœ‰æœ€ä¼˜å­ç»“æ„ å…·æœ‰æ— åç»­æ€§ å…·æœ‰é‡å¤å­é—®é¢˜ æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼šåªéœ€æ±‚å¾—å­é—®é¢˜çš„æœ€ä¼˜è§£åï¼ŒåŸé—®é¢˜çš„æœ€ä¼˜è§£æœ€èƒ½æ¨å¯¼å‡ºæ¥ï¼Œè¿™è¡¨æ˜æ­¤é—®é¢˜å…·å¤‡æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼ **åç»­çŠ¶æ€æ— å…³æ€§ï¼š**åœ¨å…·ä½“çš„é—®é¢˜ä¸­å°±æ˜¯ï¼Œå­æ•°ç»„çš„æœ€å¤§å’Œï¼Œä¸åé¢çš„çº¢å—æ— å…³ **é‡å¤å­é—®é¢˜ï¼š**ä½¿ç”¨æš´åŠ›æšä¸¾ä¼šå¯¹å¾ˆå¤šå­é—®é¢˜é‡å¤è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªé—®é¢˜å…·å¤‡é‡å¤å­é—®é¢˜ç‰¹æ€§ã€‚è€ŒDPæ•°ç»„çš„å­˜åœ¨å¯ä»¥å¾ˆå¥½çš„å¤„ç†é‡å¤å­é—®é¢˜è®¡ç®—ã€‚ DPç»„æˆâ€”â€”ä¸‰ä¸ªè¦ç´  æœ€ä¼˜å­ç»“æ„ è¾¹ç•Œ çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¼ **æœ€ä¼˜å­ç»“æ„ï¼š**åªéœ€æ±‚å¾—å­é—®é¢˜çš„æœ€ä¼˜è§£åï¼ŒåŸé—®é¢˜çš„æœ€ä¼˜è§£æœ€èƒ½æ¨å¯¼å‡ºæ¥ï¼Œè¿™è¡¨æ˜æ­¤é—®é¢˜å…·å¤‡æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼ è¾¹ç•Œï¼šç¡®å®šèµ·å§‹å’Œç»ˆæ­¢è¾¹ç•Œ **çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¼ï¼š**åœ¨æŸä¸ªçŠ¶æ€ä¸‹æ‰¾åˆ°ä¸‹ä¸€æ­¥çš„æœ€ä½³è®¡ç®—ç»“æœ â–².å…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯æ‰¾åˆ°ç¡®å®š çŠ¶æ€è¡¨ç¤ºf(v) å’Œ çŠ¶æ€è½¬ç§»è®¡ç®—ã€‚ç›®çš„æ˜¯ï¼šè®²ç©¶åœ¨ä¸€ä¸ªæœ‰é™é›†åˆçš„ä¸­æ‰¾ä¸€ä¸ªæœ€å€¼ çŠ¶æ€è¡¨ç¤ºf(v)ï¼šâ€”â€”åŒ–é›¶ä¸ºæ•´ é›†åˆ å±æ€§ï¼š æœ€å¤§ã€æœ€å°ã€countæ•°é‡ çŠ¶æ€è½¬ç§»è®¡ç®—ï¼šâ€”â€”åŒ–æ•´ä¸ºé›¶ åˆ’åˆ†ä¾æ®ï¼šå¯»æ‰¾æœ€åä¸€ä¸ªä¸åŒç‚¹ã€‚ è®²ç©¶ä¸é‡å¤ã€ä¸é—æ¼ é—®é¢˜å‰–æ æœ€å¸¸è§çš„æ¥è®²è§£DPç®—æ³•çš„æ˜¯èƒŒåŒ…é—®é¢˜ï¼Œ åœ¨æ­¤æˆ‘ä»¬åˆ—å‡ºå¤šä¸ªæ¯”è¾ƒç»å…¸çš„é¢˜ç›®ï¼š å›½ç‹å’Œé‡‘çŸ¿ã€æœ€å¤§å­æ•°ç»„çš„å’Œã€èƒŒåŒ…é—®é¢˜ å›½ç‹å’Œé‡‘çŸ¿ æœ€å¤§å­æ•°ç»„çš„å’Œï¼š é¢˜è§£ï¼šhttps://leetcode-cn.com/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/solution/mian-shi-ti-42-lian-xu-zi-shu-zu-de-zui-da-he-do-2/ â€”â€”ä¸ºä½•åœ¨numsæ•°ç»„ä¸Šç›´æ¥åšä¿®æ”¹ 123456789101112131415class Solution &#123; public int maxSubArray(int[] nums) &#123; int sz = nums.length; if ( sz == 0 ) return 0; int maxSum = nums[0]; for (int i = 1; i &lt; sz; i++) &#123; int pre = nums[i-1] &gt; 0 ? nums[i-1] : 0; nums[i] = nums[i] + pre; if (maxSum &lt; nums[i]) &#123; maxSum = nums[i]; &#125; &#125; return maxSum; &#125;&#125; æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜ é¢˜ç›®çš„è¦æ±‚æ˜¯ï¼Œä»ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­æ‰¾åˆ°æœ€é•¿çš„å…¬å…±å­åºåˆ—ï¼Œå‡ºç°å…ˆåé¡ºåºè¦æ±‚ä¸€è‡´ï¼Œ ä½†æ˜¯ä¸è¦æ±‚è¿ç»­ã€‚ æ‰€ä»¥ä¸‹é¢è§£æ³•å®šä¹‰çš„dpæ•°ç»„ä¸ºï¼ŒçŠ¶æ€åˆ°text1çš„iå­—ç¬¦ã€text2çš„jå­—ç¬¦æ—¶æœ€é•¿çš„å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œå¦‚æœå½“å‰çš„ä¸¤ä¸ªå­—ç¬¦c1 == c2åˆ™éœ€è¦åœ¨æ­¤åŸºç¡€ä¸Š+1ï¼Œ å¦åˆ™è®°ä¸ºä¹‹å‰çš„ä¸¤ä¸ªçš„æœ€å¤§ã€‚ 12345678910111213141516171819class Solution &#123; public int longestCommonSubsequence(String text1, String text2) &#123; int len1 = text1.length(); int len2 = text2.length(); int [][]dp = new int[len1+1][len2+1]; for (int i = 0; i &lt; len1; i++) &#123; char c1 = text1.charAt(i); for (int j = 0; j &lt; len2; j++) &#123; char c2 = text2.charAt(j); if ( c1 == c2 )&#123; dp[i + 1][j + 1] = dp[i][j] + 1; &#125;else&#123; dp[i + 1][j + 1] = Math.max(dp[i][j + 1], dp[i + 1][j]); &#125; &#125; &#125; return dp[len1][len2]; &#125;&#125; 01èƒŒåŒ…é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e4;/* 01èƒŒåŒ…é—®é¢˜ */pair&lt;int,int&gt; wv[maxn];int N; // ç‰©å“æ•°é‡int W; // èƒŒåŒ…é‡é‡int dp[maxn][maxn]; //2.å¤šäº†ä¸ªè®°å¿†æ•°ç»„(ç§°ä¸ºDPæ•°ç»„)// é€†åºæ¨å¯¼void solve()&#123; ios::sync_with_stdio(false); cin &gt;&gt; N; for(int i=0 ; i &lt;N ; i++) cin &gt;&gt; wv[i].first &gt;&gt; wv[i].second; cin &gt;&gt; W; for( int i= N-1 ; i &gt;= 0 ; i--)&#123; for( int j=0;j&lt;= W ; j++)&#123; if( j &lt; wv[i].first ) dp[i][j] = dp[i+1][j]; else dp[i][j] = max( dp[i+1][j] , dp[i+1][j - wv[i].first] + wv[i].second); &#125; &#125; cout &lt;&lt; dp[0][W] &lt;&lt;endl;&#125;// é¡ºåºæ¨å¯¼void solve()&#123; ios::sync_with_stdio(false); cin &gt;&gt; N; for(int i=0 ; i &lt;N ; i++) cin &gt;&gt; wv[i].first &gt;&gt; wv[i].second; cin &gt;&gt; W; for( int i= 0 ; i &lt; N ; i++)&#123; // iä¸ºéå†ç¬¬iä¸ªç‰©å“ for( int j=0;j&lt;= W ; j++)&#123; // jä¸ºèƒŒåŒ…å¯ç”¨é‡é‡ if( j &lt; wv[i].first ) dp[i+1][j] = dp[i][j]; else dp[i+1][j] = max( dp[i][j] , dp[i][j - wv[i].first] + wv[i].second); // æ¨å¯¼å¼ä¹Ÿå˜äº†,ä¸‹ä¸€è¡Œçš„ä¾æ®ä¸Šä¸€è¡Œå†™æˆdp[i+1][j] = ... &#125; &#125; cout &lt;&lt; dp[N][W] &lt;&lt;endl; // è¾“å‡ºçš„ç»“æœå˜äº†&#125;int main()&#123; solve(); return 0;&#125; å®‰åˆ©ä¸€ä¸ªè§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1X741127ZM?from=searchâ€”â€”é‡‘ç‰Œçˆ·çš„ä¼ æˆ åæ€æ€»ç»“ æœ€å¤§å­æ•°ç»„å’Œï¼Œä¸Šé¢ç»™å‡ºäº†åŠ¨æ€è§„åˆ’çš„è§£æ³•ï¼Œè¿˜å¯ä»¥ä½¿ç”¨é€’å½’çš„è§£æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(n)O(n)ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦å´ä¸º O(n)O(n)ï¼Œæ‰€ä»¥æœ€å¤§å­æ•°ç»„çš„æœ€å¥½è§£æ³•è¿˜æ˜¯åŠ¨æ€è§„åˆ’ã€‚ åŠ¨æ€è§„åˆ’è¿˜å¸¸å¸¸ä½¿ç”¨è¡¨æ ¼ï¼Œç¼“å­˜ä¹‹å‰å„ä¸ªçŠ¶æ€çš„è§£ï¼Œé€šè¿‡ç©ºé—´æ¢å–æ—¶é—´ï¼Œè¿™ä¸ªä¹Ÿæ˜¯åŠ¨æ€è§„åˆ’å¸¸ç”¨çš„æŠ€å·§ä¹‹ä¸€ï¼Œä½†è¿™å´ä¸æ˜¯åŠ¨æ€è§„åˆ’æœ€éš¾æ„æ€å‡ºæ¥çš„åœ°æ–¹ï¼Œæœ€éš¾çš„è¿˜æ˜¯è®¾è®¡æ¯ä¸ªçŠ¶æ€æ­¥çš„å†³ç­–ç­–ç•¥ï¼Œè¿™æ‰æ˜¯åŠ¨è§„çš„ç²¾é«“ã€‚ å¦å¤–ï¼Œä¸æ˜¯æ‰€æœ‰çš„é—®é¢˜éƒ½æœ‰åŠ¨è§„çš„è§£æ³•ï¼Œæ¯”å¦‚ç›®å‰å…¨ä¸–ç•Œæœ€éš¾æ±‚è§£çš„æ—…è¡Œå•†é—®é¢˜ï¼Œæ›´å¤æ‚çš„å¤šçº¿è·¯é…é€é—®é¢˜ï¼Œéƒ½å±äºNPé—®é¢˜ï¼Œå¾ˆéš¾æ‰¾åˆ°åŠ¨æ€è§„åˆ’çš„è§£æ³•ï¼Œä½†æ˜¯ä¸€æ—¦æ‰¾åˆ°åŠ¨è§„è§£æ³•ï¼Œå®ƒä¼šå°† O(n!)O(n!) é—®é¢˜é™ä¸º O(nå¤šé¡¹å¼)O(nå¤šé¡¹å¼) é—®é¢˜ï¼Œæ”¶ç›Šä¹Ÿæ˜¯å·¨å¤§çš„ï¼","categories":[],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://nymrli.top/tags/ç®—æ³•/"}]},{"title":"UMLç®€å•è®°å½•","slug":"UMLç®€å•è®°å½•","date":"2020-12-11T05:59:15.000Z","updated":"2022-02-23T01:21:42.095Z","comments":true,"path":"2020/12/11/UMLç®€å•è®°å½•/","link":"","permalink":"https://nymrli.top/2020/12/11/UMLç®€å•è®°å½•/","excerpt":"","text":"è¦å­¦ä¹ è®¾è®¡æ¨¡å¼ï¼Œé¦–å…ˆç»•ä¸å¼€çš„å°±æ˜¯UMLå›¾ï¼ŒåŒæ—¶å¯¹äºä¸€åå¼€å‘è€Œè¨€ï¼Œå¼€å‘æ–‡æ¡£ä¸­ä¹Ÿå¿…ç„¶ä¼šå‡ºç°UMLçš„èº«å½±ã€‚ä¹‹å‰åœ¨å®ä¹ çš„æ—¶å€™ï¼Œå…¶å®å·²ç»å­¦è¿‡ä¸å°‘äº†ï¼Œä½†ä¸ç”¨ååˆå¾ˆå®¹æ˜“å¿˜è®°ï¼Œ(åœ¨é˜¿é‡Œå®ä¹ çš„æ—¶å€™å°±ä»¥ä¸ºè®°å¾—å¾ˆç†Ÿäº†ï¼Œç»“æœç°åœ¨åˆå¿˜äº†)â€”â€”å› æ­¤è¿™ä¹Ÿæ˜¯ä¸€ä¸ªé˜²å¿˜ç³»åˆ— UML UML(Unified Modeling Language)æ˜¯ä¸€ç§æ ‡å‡†çš„å›¾å½¢åŒ–å»ºæ¨¡è¯­è¨€ï¼Œæ˜¯ä¸€ç§ä¸ºé¢å¯¹å¯¹è±¡ç³»ç»Ÿçš„äº§å“è¿›è¡Œè¯´æ˜ã€å¯è§†åŒ–ã€ç¼–åˆ¶æ–‡æ¡£çš„æ ‡å‡†è¯­è¨€ï¼Œå®ƒæ˜¯é¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡çš„ä¸€ç§æ ‡å‡†è¡¨ç¤ºã€‚ ï¼ˆ1ï¼‰UMLæ˜¯ä¸€ç§è¯­è¨€ã€‚ ä»ä¸Šé¢çš„å®šä¹‰å¯ä»¥çœ‹å‡ºï¼Œå°±å…¶æœ¬è´¨ï¼ŒUMLæ˜¯ä¸€ç§è¯­è¨€ï¼Œæ—¢ç„¶æ˜¯è¯­è¨€ï¼Œé‚£å°±æ˜¯ç”¨æ¥äº¤æµçš„ï¼ŒUMLç”¨æ¥åœ¨å“ªäº›äººå‘˜ä¹‹é—´è¿›è¡Œäº¤æµå‘¢ï¼Ÿå¾ˆæ˜æ˜¾ï¼ŒUMLä¸»è¦æ˜¯åœ¨è½¯ä»¶å¼€å‘çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸæ‰€æ¶‰åŠåˆ°çš„äººå‘˜ä¹‹é—´è¿›è¡Œäº¤æµçš„è¯­è¨€ã€‚ ï¼ˆ2ï¼‰UMLæ˜¯ä¸€ç§å»ºæ¨¡è¯­è¨€ã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯å»ºæ¨¡å‘¢ï¼Ÿ æ¨¡å‹æ˜¯ç”¨æŸç§å·¥å…·å¯¹äº‹ç‰©çš„ä¸€ç§è¡¨è¾¾æ–¹å¼ï¼Œé€šå¸¸ä¼šè¡¨è¾¾å‡ºäº‹ç‰©æœ€é‡è¦çš„æ–¹é¢è€Œç®€åŒ–æˆ–å¿½ç•¥å…¶ä»–æ–¹é¢ã€‚æ¯”å¦‚å¸¸è§çš„å·¥ç¨‹æ¨¡å‹ã€é£æœºæ¨¡å‹ã€è½¦è¾†æ¨¡å‹ç­‰ã€‚ æ¨¡å‹åœ¨è½¯ä»¶ä¸Šä¸»è¦çš„ä½œç”¨æ˜¯ï¼Œå¯ä»¥åœ¨ä¸€å®šçš„æŠ½è±¡å±‚æ¬¡ä¸Šï¼Œä½¿äººä»¬é€šè¿‡å¯¹æ¨¡å‹çš„åˆ†æå’Œç ”ç©¶ï¼Œæ¥åˆ¶å®šå‡ºæœ€ç»ˆçš„è½¯ä»¶ç»“æ„å’Œå†…éƒ¨çš„ç›¸äº’å…³ç³»ã€‚ ï¼ˆ3ï¼‰UMLæ˜¯ä¸€ç§å›¾å½¢åŒ–å»ºæ¨¡è¯­è¨€ã€‚ ä¸ºä»€ä¹ˆè¦å›¾å½¢åŒ–å‘¢ï¼Ÿ å¾ˆç®€å•ï¼Œå›¾å½¢åŒ–çš„ä¸œè¥¿ç›´è§‚ã€ç®€å•ã€å‡†ç¡®ï¼Œæ›´æœ‰åˆ©äºè½¯ä»¶å¼€å‘çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸæ‰€æ¶‰åŠåˆ°çš„äººå‘˜ä¹‹é—´è¿›è¡Œäº¤æµã€‚å› ä¸ºå¯¹äºä¸€ä¸ªå¤§å‹çš„è½¯ä»¶é¡¹ç›®ï¼Œå‚ä¸çš„äººå‘˜å¾ˆå¤šï¼Œæ ¹æœ¬ä¸å¯èƒ½ç›¸äº’ç”¨è¯­è¨€æ¥äº¤æµï¼Œå›¾å½¢åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ¡ˆã€‚ ï¼ˆ4ï¼‰UMLæ˜¯ä¸€ç§æ ‡å‡†çš„å›¾å½¢åŒ–å»ºæ¨¡è¯­è¨€ã€‚ åªæœ‰æ ‡å‡†çš„ä¸œè¥¿ï¼Œæ‰ä¼šæœ‰æ›´å¤šçš„äººå­¦ä¹ å’Œä½¿ç”¨å®ƒï¼Œå¤§å®¶å¯¹åŒä¸€è¡¨è¾¾çš„ç†è§£æ‰ä¼šä¸€æ ·ï¼Œæ‰èƒ½çœŸæ­£è¾¾åˆ°ç›¸äº’äº¤æµçš„ç›®çš„ã€‚ å¦åˆ™è¦æ˜¯æ²¡æœ‰æ ‡å‡†ï¼Œå¤§å®¶å„è‡ªä¸ºæ”¿ï¼Œå¯èƒ½ä¼šå‡ºç°åŒä¸€ä¸ªå›¾å½¢ï¼Œå¤§å®¶æœ‰ä¸åŒçš„è®¤è¯†å’Œç†è§£ï¼Œé‚£å°±æ²¡æ³•äº¤æµäº†ã€‚ åŸºæœ¬æ„ä»¶ å»ºæ¨¡çš„æ ¸å¿ƒæ˜¯æ¨¡å‹ï¼Œæ¨¡å‹æ˜¯ç°å®çš„ç®€åŒ–ã€çœŸå®ç³»ç»Ÿçš„æŠ½è±¡ã€‚å› æ­¤å¥½çš„å»ºæ¨¡è¯­è¨€å°±éœ€è¦æä¾›å…¨æ ·çš„æ¨¡å—ç»„æˆï¼Œå¦‚ä¸‹å°±æ˜¯UMLçš„åŸºæœ¬æ„ä»¶ã€‚UMLä¸»è¦ç”±ä¸‰éƒ¨åˆ†æ¦‚å¿µç»„æˆï¼šå…·ä½“çš„äº‹ç‰©ã€äº‹ç‰©é—´çš„å…³ç³»ã€äº‹ç‰©ä¸å…³ç³»ç»„åˆè€Œæˆçš„å›¾ã€‚ æˆ‘ä»¬ä½¿ç”¨UMLçš„ç›®çš„å°±æ˜¯ç¡®è®¤å¥½å…·ä½“çš„äº‹ç‰©ä»¥åŠäº‹ç‰©é—´çš„å…³ç³»ï¼Œå¹¶ä»¥æ­¤æ¥é€‰æ‹©åˆé€‚çš„å›¾æ¥è¡¨è¾¾ï¼Œä¸‰è€…æ˜¯ç´§ç´§è”ç³»çš„ã€‚åœ¨UML2.0ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ€é¢‘ç¹çš„å°±æ˜¯ç±»å›¾ã€æ—¶åºå›¾äº†ã€‚ äº‹ç‰© äº‹ç‰©æ˜¯æŠ½è±¡åŒ–çš„æœ€ç»ˆç»“æœï¼Œåˆ†ä¸ºç»“æ„äº‹ç‰©ã€è¡Œä¸ºäº‹ç‰©ã€åˆ†ç»„äº‹ç‰©ã€æ³¨é‡Šäº‹ç‰©ã€‚å…¶ä¸­æˆ‘ä»¬æ¯”è¾ƒé¢‘ç¹ä½¿ç”¨çš„æ˜¯ç»“æ„äº‹ç‰©ä¸­çš„ç±»å’Œæ¥å£ã€è¡Œä¸ºäº‹ç‰©ä¸­çš„äº¤äº’å’ŒçŠ¶æ€æœº å…³ç³» UMLå°†äº‹ç‰©ä¹‹é—´çš„å…³ç³»å½’çº³ä¸º6ç§ï¼š å®ç°ã€ç»§æ‰¿ å®ç°æ˜¯å®ç°æ¥å£ï¼Œç»§æ‰¿æ˜¯ç»§æ‰¿çˆ¶ç±»ã€‚ â–²ä¸¤è€…çš„å›¾å½¢éƒ½æ˜¯å­æŒ‡å‘çˆ¶ï¼Œå¹¶ä¸”ç®­å¤´å…¨æ˜¯ç©ºå¿ƒä¸‰è§’ç®­å¤´ã€‚ ä¾èµ– æ¦‚å¿µï¼šæ˜¯ä¸€ç§ä½¿ç”¨çš„å…³ç³»ï¼Œå³ä¸€ä¸ªç±»çš„å®ç°éœ€è¦å¦ä¸€ä¸ªç±»çš„ååŠ©ã€‚åœ¨Javaä¸­ï¼Œæ–¹æ³•å‚æ•°éœ€è¦ä¼ å…¥å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå°±è¡¨ç¤ºä¾èµ–è¿™ä¸ªç±»ã€‚ **è¡¨ç¤ºæ–¹å¼ï¼š**è™šçº¿ç®­å¤´ã€‚ å…³è” **æ¦‚å¿µï¼š**è¡¨ç¤ºç±»ä¸ç±»ä¹‹é—´çš„è”æ¥,å®ƒä½¿ä¸€ä¸ªç±»çŸ¥é“å¦ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™ç§å…³ç³»æ¯”ä¾èµ–æ›´å¼ºã€ä¸å­˜åœ¨ä¾èµ–å…³ç³»çš„å¶ç„¶æ€§ã€å…³ç³»ä¹Ÿä¸æ˜¯ä¸´æ—¶æ€§çš„ï¼Œä¸€èˆ¬æ˜¯é•¿æœŸæ€§çš„ã€‚ javaä¸­ä¸€ä¸ªç±»çš„å…¨å±€å˜é‡å¼•ç”¨äº†å¦ä¸€ä¸ªç±»ï¼Œå°±è¡¨ç¤ºå…³è”äº†è¿™ä¸ªç±»ã€‚ç±»ä¹‹é—´å­˜åœ¨å…³è”å…³ç³»å°±å¯ä»¥ç”¨æ™®é€šå…³è”æ¥è¡¨è¾¾ **æ³¨æ„ï¼š**ç±»Aä¸­ç”¨åˆ°ç±»Bå±æ€§ï¼Œç±»AæŒ‡å‘ç±»Bã€‚ èšåˆ èšåˆåœ¨ã€Šç ”è¯»è®¾è®¡æ¨¡å¼ã€‹ä¸­è®¤ä¸ºæ˜¯å…³è”çš„å­é›†ï¼Œå¯åˆ†ä¸ºæ™®é€šèšåˆã€å…±äº«èšåˆã€å¤åˆèšåˆ èšåˆå…³ç³»è¡¨ç¤ºç±»ä¹‹é—´æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œæˆå‘˜å¯¹è±¡æ˜¯æ•´ä½“å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯æˆå‘˜å¯¹è±¡å¯ä»¥è„±ç¦»æ•´ä½“å¯¹è±¡ç‹¬ç«‹å­˜åœ¨ã€‚e.g.å…¬äº¤è½¦å¸æœºå’Œå·¥ä½œæœï¼Œä¸¤è€…æ²¡æœ‰å…±åŒçš„å£°æ˜å‘¨æœŸã€‚ **è¡¨ç¤ºæ–¹å¼ï¼š**å°¾éƒ¨ä¸ºç©ºå¿ƒè±å½¢çš„å®çº¿ç®­å¤´ï¼ˆä¹Ÿå¯ä»¥æ²¡ç®­å¤´ï¼‰ã€‚ **æ³¨æ„ï¼š**ç±»Bä¸ºç±»Aä¸­çš„å±æ€§ï¼Œç±»AæŒ‡å‘ç±»Bã€‚ ç»„åˆ ç»„åˆå…³ç³»è¡¨ç¤ºç±»ä¹‹é—´æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œæ•´ä½“å’Œéƒ¨åˆ†æœ‰ä¸€è‡´çš„ç”Ÿå­˜æœŸï¼Œä¸€æ—¦æ•´ä½“å¯¹è±¡ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆéƒ¨åˆ†å¯¹è±¡ä¹Ÿå°†ä¸å­˜åœ¨ï¼Œæ•´ä½“å’Œéƒ¨åˆ†æ˜¯åŒç”Ÿå…±æ­»çš„å…³ç³»ã€‚e.g.äººç”±å¤´éƒ¨å’Œèº«ä½“ç»„æˆï¼Œä¸¤è€…ä¸å¯åˆ†å‰²ã€‚ **è¡¨ç¤ºæ–¹å¼ï¼š**å°¾éƒ¨ä¸ºå®å¿ƒè±å½¢çš„å®ç°ç®­å¤´ï¼ˆä¹Ÿå¯ä»¥æ²¡ç®­å¤´ï¼‰ã€‚ **æ³¨æ„ï¼š**Headæ˜¯Dogçš„ä¸€éƒ¨åˆ†ï¼ŒDogæŒ‡å‘Headã€‚ æ€»ç»“ä»¥ä¸Šå…³ç³» åœ¨è¿™6ç§ç±»å…³ç³»ä¸­ï¼Œç»„åˆã€èšåˆå’Œå…³è”çš„ä»£ç ç»“æ„ä¸€æ ·ï¼Œå¯ä»¥ä»å…³ç³»çš„å¼ºå¼±æ¥ç†è§£ï¼Œå„ç±»å…³ç³»ä»å¼ºåˆ°å¼±ä¾æ¬¡æ˜¯ï¼šç»§æ‰¿&gt;å®ç°&gt;ç»„åˆ&gt;èšåˆ&gt;å…³è”&gt;ä¾èµ–ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€å¼ å®Œæ•´çš„ç±»å›¾ï¼Œç†”å‰é¢æè¿°çš„æ‰€æœ‰ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ä¸²è”èµ·æ¥ã€‚ å›¾ UML2.0ä¸€å…±æœ‰13ä¸­å›¾ï¼ˆUML1.5å®šä¹‰äº†9ç§ï¼Œ2.0å¢åŠ äº†4ç§ï¼‰ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯ç±»å›¾ã€å¯¹è±¡å›¾ã€æ—¶åºå›¾ã€çŠ¶æ€å›¾ é™„å½• ç»å…¸å…³ç³»å›¾ moreè§: ç±»å›¾templates è®°å¿†æŠ€å·§ æ³¨æ„ï¼š ç®­å¤´æ–¹å‘è®°å½•ä¸¤ä¸ªé‡è¦ç‚¹ï¼š å­ç±»æŒ‡å‘çˆ¶ç±» çŸ¥é“å¯¹æ–¹ä¿¡æ¯æ‰æŒ‡å‘å¯¹æ–¹","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"},{"name":"é˜²å¿˜ç³»åˆ—","slug":"é˜²å¿˜ç³»åˆ—","permalink":"https://nymrli.top/tags/é˜²å¿˜ç³»åˆ—/"}]},{"title":"æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜2â€”â€”åƒåœ¾åˆ†ç±»","slug":"æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜2â€”â€”åƒåœ¾åˆ†ç±»","date":"2020-12-11T02:25:45.000Z","updated":"2020-12-19T12:57:33.295Z","comments":true,"path":"2020/12/11/æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜2â€”â€”åƒåœ¾åˆ†ç±»/","link":"","permalink":"https://nymrli.top/2020/12/11/æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜2â€”â€”åƒåœ¾åˆ†ç±»/","excerpt":"","text":"homework for ZJU: https://mo.zju.edu.cn/homework/zju_ai_2020_ss 1. å®éªŒä»‹ç» 1.1 å®éªŒèƒŒæ™¯ è‡ªä»Šå¹´ 7 æœˆ 1 æ—¥èµ·ï¼Œä¸Šæµ·å¸‚å°†æ­£å¼å®æ–½ ã€Šä¸Šæµ·å¸‚ç”Ÿæ´»åƒåœ¾ç®¡ç†æ¡ä¾‹ã€‹ã€‚ åƒåœ¾åˆ†ç±»ï¼Œçœ‹ä¼¼æ˜¯å¾®ä¸è¶³é“çš„â€œå°äº‹â€ï¼Œå®åˆ™å…³ç³»åˆ°13äº¿å¤šäººç”Ÿæ´»ç¯å¢ƒçš„æ”¹å–„ï¼Œç†åº”å¤§åŠ›æå€¡ã€‚ åƒåœ¾è¯†åˆ«åˆ†ç±»æ•°æ®é›†ä¸­åŒ…æ‹¬ç»ç’ƒ (glass) ã€ç¡¬çº¸æ¿ (cardboard) ã€é‡‘å± (metal) ã€çº¸ (paper) ã€å¡‘æ–™ (plastic) ã€ä¸€èˆ¬åƒåœ¾ (trash) ï¼Œå…±6ä¸ªç±»åˆ«ã€‚ ç”Ÿæ´»åƒåœ¾ç”±äºç§ç±»ç¹å¤šï¼Œå…·ä½“åˆ†ç±»ç¼ºä¹ç»Ÿä¸€æ ‡å‡†ï¼Œå¤§å¤šäººåœ¨å®é™…æ“ä½œæ—¶ä¼šâ€œé€‰æ‹©å›°éš¾â€ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ æŠ€æœ¯å»ºç«‹å‡†ç¡®çš„åˆ†ç±»æ¨¡å‹ï¼Œåˆ©ç”¨æŠ€æœ¯æ‰‹æ®µæ”¹å–„äººå±…ç¯å¢ƒã€‚ 1.2 å®éªŒè¦æ±‚ aï¼‰å»ºç«‹æ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå¹¶å°½å¯èƒ½å°†å…¶è°ƒåˆ°æœ€ä½³çŠ¶æ€ã€‚ bï¼‰ç»˜åˆ¶æ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹å›¾ã€ç»˜åˆ¶å¹¶åˆ†æå­¦ä¹ æ›²çº¿ã€‚ cï¼‰ç”¨å‡†ç¡®ç‡ç­‰æŒ‡æ ‡å¯¹æ¨¡å‹è¿›è¡Œè¯„ä¼°ã€‚ 1.3 å®éªŒç¯å¢ƒ å¯ä»¥ä½¿ç”¨åŸºäº Python çš„ OpenCV åº“è¿›è¡Œå›¾åƒç›¸å…³å¤„ç†ï¼Œä½¿ç”¨ Numpy åº“è¿›è¡Œç›¸å…³æ•°å€¼è¿ç®—ï¼Œä½¿ç”¨ Keras ç­‰æ¡†æ¶å»ºç«‹æ·±åº¦å­¦ä¹ æ¨¡å‹ç­‰ã€‚ 2.å®éªŒå†…å®¹ 2.1 ä»‹ç»æ•°æ®é›† è¯¥æ•°æ®é›†åŒ…å«äº† 2307 ä¸ªç”Ÿæ´»åƒåœ¾å›¾ç‰‡ã€‚æ•°æ®é›†çš„åˆ›å»ºè€…å°†åƒåœ¾åˆ†ä¸ºäº† 6 ä¸ªç±»åˆ«ï¼Œåˆ†åˆ«æ˜¯ï¼š åºå· ä¸­æ–‡å è‹±æ–‡å æ•°æ®é›†å¤§å° 1 ç»ç’ƒ glass 457 2 çº¸ paper 540 3 ç¡¬çº¸æ¿ cardboard 370 4 å¡‘æ–™ plastic 445 5 é‡‘å± metal 380 6 ä¸€èˆ¬åƒåœ¾ trash 115 ç‰©å“éƒ½æ˜¯æ”¾åœ¨ç™½æ¿ä¸Šåœ¨æ—¥å…‰/å®¤å†…å…‰æºä¸‹æ‹æ‘„çš„ï¼Œå‹ç¼©åçš„å°ºå¯¸ä¸º 512 * 384 2.2 å›¾ç‰‡é¢„å¤„ç† å›¾ç‰‡ç”Ÿæˆå™¨ ImageDataGenerator: keras.preprocessing.image æ¨¡å—ä¸­çš„å›¾ç‰‡ç”Ÿæˆå™¨ï¼Œä¸»è¦ç”¨ä»¥ç”Ÿæˆä¸€ä¸ª batch çš„å›¾åƒæ•°æ®ï¼Œæ”¯æŒå®æ—¶æ•°æ®æå‡ã€‚è®­ç»ƒæ—¶è¯¥å‡½æ•°ä¼šæ— é™ç”Ÿæˆæ•°æ®ï¼Œç›´åˆ°è¾¾åˆ°è§„å®šçš„ epoch æ¬¡æ•°ä¸ºæ­¢ã€‚åŒæ—¶ä¹Ÿå¯ä»¥åœ¨ batch ä¸­å¯¹æ•°æ®è¿›è¡Œå¢å¼ºï¼Œæ‰©å……æ•°æ®é›†å¤§å°ï¼Œå¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œæ¯”å¦‚è¿›è¡Œæ—‹è½¬ï¼Œå˜å½¢ï¼Œå½’ä¸€åŒ–ç­‰ç­‰ã€‚ å›¾ç‰‡ç”Ÿæˆå™¨çš„ä¸»è¦æ–¹æ³•ï¼š fit(x, augment=False, rounds=1)ï¼šè®¡ç®—ä¾èµ–äºæ•°æ®çš„å˜æ¢æ‰€éœ€è¦çš„ç»Ÿè®¡ä¿¡æ¯(å‡å€¼æ–¹å·®ç­‰)ã€‚ flow(self, X, y, batch_size=32, shuffle=True, seed=None, save_to_dir=None, save_prefix=â€™â€™, save_format=â€˜pngâ€™)ï¼šæ¥æ”¶ Numpy æ•°ç»„å’Œæ ‡ç­¾ä¸ºå‚æ•°,ç”Ÿæˆç»è¿‡æ•°æ®æå‡æˆ–æ ‡å‡†åŒ–åçš„ batch æ•°æ®ï¼Œå¹¶åœ¨ä¸€ä¸ªæ— é™å¾ªç¯ä¸­ä¸æ–­çš„è¿”å› batch æ•°æ®ã€‚ flow_from_directory(directory): ä»¥æ–‡ä»¶å¤¹è·¯å¾„ä¸ºå‚æ•°ï¼Œä¼šä»è·¯å¾„æ¨æµ‹ labelï¼Œç”Ÿæˆç»è¿‡æ•°æ®æå‡/å½’ä¸€åŒ–åçš„æ•°æ®ï¼Œåœ¨ä¸€ä¸ªæ— é™å¾ªç¯ä¸­æ— é™äº§ç”Ÿ batch æ•°æ®ã€‚ æ ¹æ®ä¸Šé¢çš„ä»‹ç»å’Œæˆ‘ä»¬æ•°æ®é›†çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¸»è¦è¿ç”¨ ImageDataGenerator() å’Œ flow_from_directory() æ–¹æ³•ã€‚æˆ‘ä»¬å°†æ•°æ®å¤„ç†è¿‡ç¨‹å°è£…æˆä¸ºä¸€ä¸ªå‡½æ•°ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586# å¯¼å…¥å›¾ç‰‡ç”Ÿæˆå™¨from keras.preprocessing.image import ImageDataGeneratordef processing_data(data_path, height, width, batch_size=32, validation_split=0.1): \"\"\" æ•°æ®å¤„ç† :param data_path: å¸¦æœ‰å­ç›®å½•çš„æ•°æ®é›†è·¯å¾„ :param height: å›¾åƒå½¢çŠ¶çš„è¡Œæ•° :param width: å›¾åƒå½¢çŠ¶çš„åˆ—æ•° :param batch_size: batch æ•°æ®çš„å¤§å°ï¼Œæ•´æ•°ï¼Œé»˜è®¤32ã€‚ :param validation_split: åœ¨ 0 å’Œ 1 ä¹‹é—´æµ®åŠ¨ã€‚ç”¨ä½œæµ‹è¯•é›†çš„è®­ç»ƒæ•°æ®çš„æ¯”ä¾‹ï¼Œé»˜è®¤0.1ã€‚ :return: train_generator, validation_generator: å¤„ç†åçš„è®­ç»ƒé›†æ•°æ®ã€éªŒè¯é›†æ•°æ® \"\"\" train_data = ImageDataGenerator( # å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ å€¼å‡ä¹˜ä¸Šè¿™ä¸ªæ”¾ç¼©å› å­ï¼ŒæŠŠåƒç´ å€¼æ”¾ç¼©åˆ°0å’Œ1ä¹‹é—´æœ‰åˆ©äºæ¨¡å‹çš„æ”¶æ•› rescale=1. / 255, # æµ®ç‚¹æ•°ï¼Œå‰ªåˆ‡å¼ºåº¦ï¼ˆé€†æ—¶é’ˆæ–¹å‘çš„å‰ªåˆ‡å˜æ¢è§’åº¦ï¼‰ shear_range=0.1, # éšæœºç¼©æ”¾çš„å¹…åº¦ï¼Œè‹¥ä¸ºæµ®ç‚¹æ•°ï¼Œåˆ™ç›¸å½“äº[lower,upper] = [1 - zoom_range, 1+zoom_range] zoom_range=0.1, # æµ®ç‚¹æ•°ï¼Œå›¾ç‰‡å®½åº¦çš„æŸä¸ªæ¯”ä¾‹ï¼Œæ•°æ®æå‡æ—¶å›¾ç‰‡æ°´å¹³åç§»çš„å¹…åº¦ width_shift_range=0.1, # æµ®ç‚¹æ•°ï¼Œå›¾ç‰‡é«˜åº¦çš„æŸä¸ªæ¯”ä¾‹ï¼Œæ•°æ®æå‡æ—¶å›¾ç‰‡ç«–ç›´åç§»çš„å¹…åº¦ height_shift_range=0.1, # å¸ƒå°”å€¼ï¼Œè¿›è¡Œéšæœºæ°´å¹³ç¿»è½¬ horizontal_flip=True, # å¸ƒå°”å€¼ï¼Œè¿›è¡Œéšæœºç«–ç›´ç¿»è½¬ vertical_flip=True, # åœ¨ 0 å’Œ 1 ä¹‹é—´æµ®åŠ¨ã€‚ç”¨ä½œéªŒè¯é›†çš„è®­ç»ƒæ•°æ®çš„æ¯”ä¾‹ validation_split=validation_split ) # æ¥ä¸‹æ¥ç”Ÿæˆæµ‹è¯•é›†ï¼Œå¯ä»¥å‚è€ƒè®­ç»ƒé›†çš„å†™æ³• validation_data = ImageDataGenerator( rescale=1. / 255, validation_split=validation_split) train_generator = train_data.flow_from_directory( # æä¾›çš„è·¯å¾„ä¸‹é¢éœ€è¦æœ‰å­ç›®å½• data_path, # æ•´æ•°å…ƒç»„ (height, width)ï¼Œé»˜è®¤ï¼š(256, 256)ã€‚ æ‰€æœ‰çš„å›¾åƒå°†è¢«è°ƒæ•´åˆ°çš„å°ºå¯¸ã€‚ target_size=(height, width), # ä¸€æ‰¹æ•°æ®çš„å¤§å° batch_size=batch_size, # \"categorical\", \"binary\", \"sparse\", \"input\" æˆ– None ä¹‹ä¸€ã€‚ # é»˜è®¤ï¼š\"categorical\",è¿”å›one-hot ç¼–ç æ ‡ç­¾ã€‚ class_mode='categorical', # æ•°æ®å­é›† (\"training\" æˆ– \"validation\") subset='training', seed=0) validation_generator = validation_data.flow_from_directory( data_path, target_size=(height, width), batch_size=batch_size, class_mode='categorical', subset='validation', seed=0) return train_generator, validation_generator# -------------ä½¿ç”¨---------------------# æ•°æ®è·¯å¾„data_path = \"./datasets/la1ji1fe1nle4ishu4ju4ji22-momodel/dataset-resized\"# å›¾åƒæ•°æ®çš„è¡Œæ•°å’Œåˆ—æ•°height, width = 384, 512# è·å–è®­ç»ƒæ•°æ®å’ŒéªŒè¯æ•°æ®é›†train_generator, validation_generator = processing_data(data_path, height, width)# é€šè¿‡å±æ€§class_indiceså¯è·å¾—æ–‡ä»¶å¤¹åä¸ç±»çš„åºå·çš„å¯¹åº”å­—å…¸ã€‚ (ç±»åˆ«çš„é¡ºåºå°†æŒ‰ç…§å­—æ¯è¡¨é¡ºåºæ˜ å°„åˆ°æ ‡ç­¾å€¼)ã€‚labels = train_generator.class_indicesprint(labels)# è½¬æ¢ä¸ºç±»çš„åºå·ä¸æ–‡ä»¶å¤¹åå¯¹åº”çš„å­—å…¸labels = dict((v, k) for k, v in labels.items())print(labels)\"\"\"Found 2078 images belonging to 6 classes.Found 229 images belonging to 6 classes.&#123;'trash': 5, 'metal': 2, 'plastic': 4, 'glass': 1, 'cardboard': 0, 'paper': 3&#125;&#123;0: 'cardboard', 1: 'glass', 2: 'metal', 3: 'paper', 4: 'plastic', 5: 'trash'&#125;\"\"\" 2.3 é‡‡ç”¨ Keras å»ºç«‹ä¸€ä¸ªç®€å•çš„æ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ é€šè¿‡ Keras æ„å»ºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ­¥éª¤å¦‚ä¸‹ï¼š 1. å®šä¹‰æ¨¡å‹â€”â€”åˆ›å»ºä¸€ä¸ªæ¨¡å‹å¹¶æ·»åŠ é…ç½®å±‚ Keras çš„æ ¸å¿ƒæ•°æ®ç»“æ„æ˜¯ modelï¼Œä¸€ç§ç»„ç»‡ç½‘ç»œå±‚çš„æ–¹å¼ã€‚æœ€ç®€å•çš„æ¨¡å‹æ˜¯ Sequential é¡ºåºæ¨¡å‹ï¼Œå®ƒç”±å¤šä¸ªç½‘ç»œå±‚çº¿æ€§å †å ã€‚ æ–¹å¼ä¸€: ä½¿ç”¨ .add() æ–¹æ³•å°†å„å±‚æ·»åŠ åˆ°æ¨¡å‹ä¸­ 1234567891011121314# æ–¹å¼ä¸€: ä½¿ç”¨ .add() æ–¹æ³•å°†å„å±‚æ·»åŠ åˆ°æ¨¡å‹ä¸­# å¯¼å…¥ç›¸å…³åŒ…from keras.models import Sequentialfrom keras.layers import Dense, Activation# é€‰æ‹©æ¨¡å‹ï¼Œé€‰æ‹©åºè´¯æ¨¡å‹ï¼ˆSequential())model = Sequential()# æ„å»ºç½‘ç»œå±‚# æ·»åŠ å…¨è¿æ¥å±‚ï¼Œè¾“å…¥784ç»´,è¾“å‡ºç©ºé—´ç»´åº¦32model.add(Dense(32, input_shape=(784,)))# æ·»åŠ æ¿€æ´»å±‚ï¼Œæ¿€æ´»å‡½æ•°æ˜¯ relumodel.add(Activation('relu'))# æ‰“å°æ¨¡å‹æ¦‚å†µmodel.summary() æ–¹å¼äºŒï¼šç½‘ç»œå±‚å®ä¾‹çš„åˆ—è¡¨æ„å»ºåºè´¯æ¨¡å‹ 12345678910111213# æ–¹å¼äºŒï¼šç½‘ç»œå±‚å®ä¾‹çš„åˆ—è¡¨æ„å»ºåºè´¯æ¨¡å‹# å¯¼å…¥ç›¸å…³çš„åŒ…from keras.models import Sequentialfrom keras.layers import Dense, Activation# é€‰æ‹©æ¨¡å‹ï¼Œé€‰æ‹©åºè´¯æ¨¡å‹ï¼ˆSequential())# é€šè¿‡å°†ç½‘ç»œå±‚å®ä¾‹çš„åˆ—è¡¨ä¼ é€’ç»™ Sequential çš„æ„é€ å™¨ï¼Œæ¥åˆ›å»ºä¸€ä¸ª Sequential æ¨¡å‹model = Sequential([ Dense(32, input_shape=(784,)), Activation('relu')])# æ‰“å°æ¨¡å‹æ¦‚å†µmodel.summary() æ–¹å¼ä¸‰ï¼šå‡½æ•°å¼æ¨¡å‹ 123456789101112131415# æ–¹å¼ä¸‰ï¼šå‡½æ•°å¼æ¨¡å‹# å¯¼å…¥ç›¸å…³çš„åŒ…from keras.layers import Input, Dense,Activationfrom keras.models import Model# è¾“å…¥å±‚ï¼Œè¿”å›ä¸€ä¸ªå¼ é‡ tensorinputs = Input(shape=(784,))# å…¨è¿æ¥å±‚ï¼Œè¿”å›ä¸€ä¸ªå¼ é‡output_1 = Dense(32)(inputs)# æ¿€æ´»å‡½æ•°å±‚predictions= Activation(activation='relu')(output_1)# åˆ›å»ºä¸€ä¸ªæ¨¡å‹ï¼ŒåŒ…å«è¾“å…¥å±‚ã€å…¨è¿æ¥å±‚å’Œæ¿€æ´»å±‚model = Model(inputs=inputs, outputs=predictions)# æ‰“å°æ¨¡å‹æ¦‚å†µmodel.summary() 2. ç¼–è¯‘æ¨¡å‹â€”â€”æŒ‡å®šæŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨ï¼Œå¹¶è°ƒç”¨æ¨¡å‹çš„ compile() å‡½æ•°ï¼Œå®Œæˆæ¨¡å‹ç¼–è¯‘ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384# å¯¼å…¥ç›¸å…³åŒ…from keras.layers import Input, Dense, Flatten, Dropout, Activationfrom keras.layers.normalization import BatchNormalizationfrom keras.models import Modelfrom keras.callbacks import TensorBoardimport timedef dnn_model(input_shape, train_generator, validation_generator, model_save_path='results/dnn.h5', log_dir=\"results/logs/\"): \"\"\" è¯¥å‡½æ•°å®ç° Keras åˆ›å»ºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„è¿‡ç¨‹. â–².å®šä¹‰æ¨¡å‹+ç¼–è¯‘æ¨¡å‹ :param input_shape: æ¨¡å‹æ•°æ®å½¢çŠ¶å¤§å°ï¼Œæ¯”å¦‚:input_shape=(384, 512, 3) :param train_generator: è®­ç»ƒé›† :param validation_generator: éªŒè¯é›† :param model_save_path: ä¿å­˜æ¨¡å‹çš„è·¯å¾„ :param log_dir: ä¿å­˜æ¨¡å‹æ—¥å¿—è·¯å¾„ :return: è¿”å›å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ \"\"\" # Input ç”¨äºå®ä¾‹åŒ– Keras å¼ é‡ã€‚ # shape: ä¸€ä¸ªå°ºå¯¸å…ƒç»„ï¼ˆæ•´æ•°ï¼‰ï¼Œä¸åŒ…å«æ‰¹é‡å¤§å°ã€‚ ä¾‹å¦‚ï¼Œshape=(32,) è¡¨æ˜æœŸæœ›çš„è¾“å…¥æ˜¯æŒ‰æ‰¹æ¬¡çš„ 32 ç»´å‘é‡ã€‚ inputs = Input(shape=input_shape) # å°†è¾“å…¥å±•å¹³ dnn = Flatten()(inputs) # Dense å…¨è¿æ¥å±‚ å®ç°ä»¥ä¸‹æ“ä½œï¼šoutput = activation(dot(input, kernel) + bias) # å…¶ä¸­ activation æ˜¯æŒ‰é€ä¸ªå…ƒç´ è®¡ç®—çš„æ¿€æ´»å‡½æ•°ï¼Œkernel æ˜¯ç”±ç½‘ç»œå±‚åˆ›å»ºçš„æƒå€¼çŸ©é˜µï¼Œ # ä»¥åŠ bias æ˜¯å…¶åˆ›å»ºçš„åç½®å‘é‡ (åªåœ¨ use_bias ä¸º True æ—¶æ‰æœ‰ç”¨)ã€‚ dnn = Dense(6)(dnn) # æ‰¹é‡æ ‡å‡†åŒ–å±‚: åœ¨æ¯ä¸€ä¸ªæ‰¹æ¬¡çš„æ•°æ®ä¸­æ ‡å‡†åŒ–å‰ä¸€å±‚çš„æ¿€æ´»é¡¹ï¼Œ å³åº”ç”¨ä¸€ä¸ªç»´æŒæ¿€æ´»é¡¹å¹³å‡å€¼æ¥è¿‘ 0ï¼Œæ ‡å‡†å·®æ¥è¿‘ 1 çš„è½¬æ¢ã€‚ # axis: æ•´æ•°ï¼Œéœ€è¦æ ‡å‡†åŒ–çš„è½´ ï¼ˆé€šå¸¸æ˜¯ç‰¹å¾è½´ï¼‰ã€‚é»˜è®¤å€¼æ˜¯ -1 dnn = BatchNormalization(axis=-1)(dnn) # å°†æ¿€æ´»å‡½æ•°,è¾“å‡ºå°ºå¯¸ä¸è¾“å…¥å°ºå¯¸ä¸€æ ·ï¼Œæ¿€æ´»å‡½æ•°å¯ä»¥æ˜¯'softmax'ã€'sigmoid'ç­‰ dnn = Activation('sigmoid')(dnn) # Dropout åŒ…æ‹¬åœ¨è®­ç»ƒä¸­æ¯æ¬¡æ›´æ–°æ—¶ï¼Œå°†è¾“å…¥å•å…ƒçš„æŒ‰æ¯”ç‡éšæœºè®¾ç½®ä¸º 0, è¿™æœ‰åŠ©äºé˜²æ­¢è¿‡æ‹Ÿåˆã€‚ # rate: åœ¨ 0 å’Œ 1 ä¹‹é—´æµ®åŠ¨ã€‚éœ€è¦ä¸¢å¼ƒçš„è¾“å…¥æ¯”ä¾‹ã€‚ dnn = Dropout(0.25)(dnn) dnn = Dense(12)(dnn) dnn = BatchNormalization(axis=-1)(dnn) dnn = Activation('relu')(dnn) dnn = Dropout(0.5)(dnn) dnn = Dense(6)(dnn) dnn = BatchNormalization(axis=-1)(dnn) dnn = Activation('softmax')(dnn) outputs = dnn # ç”Ÿæˆä¸€ä¸ªå‡½æ•°å‹æ¨¡å‹ model = Model(inputs=inputs, outputs=outputs) # ç¼–è¯‘æ¨¡å‹, é‡‡ç”¨ compile å‡½æ•°: https://keras.io/models/model/#compile model.compile( # æ˜¯ä¼˜åŒ–å™¨, ä¸»è¦æœ‰Adamã€sgdã€rmspropç­‰æ–¹å¼ã€‚ optimizer='Adam', # æŸå¤±å‡½æ•°,å¤šåˆ†ç±»é‡‡ç”¨ categorical_crossentropy loss='categorical_crossentropy', # æ˜¯é™¤äº†æŸå¤±å‡½æ•°å€¼ä¹‹å¤–çš„ç‰¹å®šæŒ‡æ ‡, åˆ†ç±»é—®é¢˜ä¸€èˆ¬éƒ½æ˜¯å‡†ç¡®ç‡ metrics=['accuracy']) # å¯è§†åŒ–ï¼ŒTensorBoard æ˜¯ç”± Tensorflow æä¾›çš„ä¸€ä¸ªå¯è§†åŒ–å·¥å…·ã€‚ tensorboard = TensorBoard(log_dir) # è®­ç»ƒæ¨¡å‹, fit_generatorå‡½æ•°:https://keras.io/models/model/#fit_generator # åˆ©ç”¨Pythonçš„ç”Ÿæˆå™¨ï¼Œé€ä¸ªç”Ÿæˆæ•°æ®çš„batchå¹¶è¿›è¡Œè®­ç»ƒã€‚ # callbacks: å®ä¾‹åˆ—è¡¨ã€‚åœ¨è®­ç»ƒæ—¶è°ƒç”¨çš„ä¸€ç³»åˆ—å›è°ƒã€‚è¯¦è§ https://keras.io/callbacks/ã€‚ d = model.fit_generator( # ä¸€ä¸ªç”Ÿæˆå™¨æˆ– Sequence å¯¹è±¡çš„å®ä¾‹ generator=train_generator, # epochs: æ•´æ•°ï¼Œæ•°æ®çš„è¿­ä»£æ€»è½®æ•°ã€‚ epochs=5, # ä¸€ä¸ªepochåŒ…å«çš„æ­¥æ•°,é€šå¸¸åº”è¯¥ç­‰äºä½ çš„æ•°æ®é›†çš„æ ·æœ¬æ•°é‡é™¤ä»¥æ‰¹é‡å¤§å°ã€‚ steps_per_epoch=2076 // 32, # éªŒè¯é›† validation_data=validation_generator, # åœ¨éªŒè¯é›†ä¸Š,ä¸€ä¸ªepochåŒ…å«çš„æ­¥æ•°,é€šå¸¸åº”è¯¥ç­‰äºä½ çš„æ•°æ®é›†çš„æ ·æœ¬æ•°é‡é™¤ä»¥æ‰¹é‡å¤§å°ã€‚ validation_steps=231 // 32, callbacks=[tensorboard]) # æ¨¡å‹ä¿å­˜ model.save(model_save_path) return d, model 3. è®­ç»ƒæ¨¡å‹â€”â€”é€šè¿‡è°ƒç”¨æ¨¡å‹çš„ fit() å‡½æ•°æ¥è®­ç»ƒæ¨¡å‹ã€‚ 123456789101112131415# å¼€å§‹æ—¶é—´start = time.time()# æ•°æ®é¢„å¤„ç†data_path = \"./datasets/la1ji1fe1nle4ishu4ju4ji22-momodel/dataset-resized\"# å›¾åƒæ•°æ®çš„è¡Œæ•°å’Œåˆ—æ•°height, width = 384, 512# è·å–è®­ç»ƒæ•°æ®å’ŒéªŒè¯æ•°æ®train_generator, validation_generator = processing_data(data_path, height, width)# å®šä¹‰æ¨¡å‹è¾“å…¥å¤§å°input_shape=(384, 512, 3)# è®­ç»ƒæ¨¡å‹ï¼Œè·å–è®­ç»ƒè¿‡ç¨‹å’Œè®­ç»ƒåçš„æ¨¡å‹res,model = dnn_model(input_shape, train_generator, validation_generator)# æ‰“å°æ¨¡å‹æ¦‚å†µå’Œæ¨¡å‹è®­ç»ƒæ€»æ•°é•¿model.summary()print(\"æ¨¡å‹è®­ç»ƒæ€»æ—¶é•¿ï¼š\",time.time()-start) æŸ¥çœ‹æ¨¡å‹è®­ç»ƒæ•ˆæœ 123456789101112131415161718192021222324def plot_training_history(res): \"\"\" ç»˜åˆ¶æ¨¡å‹çš„è®­ç»ƒç»“æœ :param res: æ¨¡å‹çš„è®­ç»ƒç»“æœ :return: \"\"\" # ç»˜åˆ¶æ¨¡å‹è®­ç»ƒè¿‡ç¨‹çš„æŸå¤±å’Œå¹³å‡æŸå¤± # ç»˜åˆ¶æ¨¡å‹è®­ç»ƒè¿‡ç¨‹çš„æŸå¤±å€¼æ›²çº¿ï¼Œæ ‡ç­¾æ˜¯ loss plt.plot(res.history['loss'], label='loss') # ç»˜åˆ¶æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å¹³å‡æŸå¤±æ›²çº¿ï¼Œæ ‡ç­¾æ˜¯ val_loss plt.plot(res.history['val_loss'], label='val_loss') # ç»˜åˆ¶å›¾ä¾‹,å±•ç¤ºå‡ºæ¯ä¸ªæ•°æ®å¯¹åº”çš„å›¾åƒåç§°å’Œå›¾ä¾‹çš„æ”¾ç½®ä½ç½® plt.legend(loc='upper right') # å±•ç¤ºå›¾ç‰‡ plt.show() # ç»˜åˆ¶æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„çš„å‡†ç¡®ç‡å’Œå¹³å‡å‡†ç¡®ç‡ # ç»˜åˆ¶æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å‡†ç¡®ç‡æ›²çº¿ï¼Œæ ‡ç­¾æ˜¯ acc plt.plot(res.history['accuracy'], label='accuracy') # ç»˜åˆ¶æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å¹³å‡å‡†ç¡®ç‡æ›²çº¿ï¼Œæ ‡ç­¾æ˜¯ val_acc plt.plot(res.history['val_accuracy'], label='val_accuracy') # ç»˜åˆ¶å›¾ä¾‹,å±•ç¤ºå‡ºæ¯ä¸ªæ•°æ®å¯¹åº”çš„å›¾åƒåç§°ï¼Œå›¾ä¾‹çš„æ”¾ç½®ä½ç½®ä¸ºé»˜è®¤å€¼ã€‚ plt.legend() # å±•ç¤ºå›¾ç‰‡ plt.show() 4. æ¨¡å‹é¢„æµ‹â€”â€”è°ƒç”¨æ¨¡å‹çš„ evaluate()æˆ–è€… predict() ç­‰å‡½æ•°å¯¹æ–°æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚ 1234567891011121314def load_and_model_prediction(validation_generator): \"\"\" åŠ è½½æ¨¡å‹å’Œæ¨¡å‹è¯„ä¼°ï¼Œæ‰“å°éªŒè¯é›†çš„ loss å’Œå‡†ç¡®åº¦ :param validation_generator: é¢„æµ‹æ•°æ® :return: \"\"\" # åŠ è½½æ¨¡å‹ model = load_model('results/dnn.h5') # è·å–éªŒè¯é›†çš„ loss å’Œ accuracy loss, accuracy = model.evaluate_generator(validation_generator) print(\"\\nLoss: %.2f, Accuracy: %.2f%%\" % (loss, accuracy * 100)) # æ‰“å°æ¨¡å‹è¯„ä¼°çš„ç»“æœload_and_model_prediction(validation_generator) (é¢„æµ‹å¯è§†åŒ–)ï¼š 12345678910111213141516171819202122232425262728from keras.models import load_modeldef plot_load_and_model_prediction(validation_generator, labels): \"\"\" åŠ è½½æ¨¡å‹ã€æ¨¡å‹é¢„æµ‹å¹¶å±•ç¤ºæ¨¡å‹é¢„æµ‹ç»“æœç­‰ :param validation_generator: é¢„æµ‹æ•°æ® :param labels: æ•°æ®æ ‡ç­¾ :return: \"\"\" # åŠ è½½æ¨¡å‹ model = load_model('results/dnn.h5') # æµ‹è¯•é›†æ•°æ®ä¸æ ‡ç­¾ test_x, test_y = validation_generator.__getitem__(2) # é¢„æµ‹å€¼ preds = model.predict(test_x) # ç»˜åˆ¶é¢„æµ‹å›¾åƒçš„é¢„æµ‹å€¼å’ŒçœŸå®å€¼ï¼Œå®šä¹‰ç”»å¸ƒ plt.figure(figsize=(16, 16)) for i in range(16): # ç»˜åˆ¶å„ä¸ªå­å›¾ plt.subplot(4, 4, i + 1) # å›¾ç‰‡åç§° plt.title( 'pred:%s / truth:%s' % (labels[np.argmax(preds[i])], labels[np.argmax(test_y[i])])) # å±•ç¤ºå›¾ç‰‡ plt.imshow(test_x[i]) # å±•ç¤ºæ¨¡å‹é¢„æµ‹ç»“æœplot_load_and_model_prediction(validation_generator, labels) 5. ä½¿ç”¨æ¨¡å‹ 123456789101112131415161718192021222324252627282930313233343536import osfrom keras.models import load_modelfrom keras.preprocessing import imageimport numpy as npdef load_and_predict(img): \"\"\" åŠ è½½æ¨¡å‹å¹¶é¢„æµ‹ä¸€å¼ å›¾ç‰‡çš„ç±»åˆ« :param img: PIL.Image å¯¹è±¡ :return: string, æ¨¡å‹è¯†åˆ«å›¾ç‰‡çš„ç±»åˆ«, å…± 'cardboard','glass','metal','paper','plastic','trash' 6 ä¸ªç±»åˆ« \"\"\" # åŠ è½½æ¨¡å‹, é»˜è®¤'results/dnn.h5',è¯·å¡«å†™ä½ çš„æœ€ä½³æ¨¡å‹ model_path = 'results/dnn.h5' model = load_model(model_path) # æŠŠå›¾ç‰‡è½¬æ¢æˆä¸ºnumpyæ•°ç»„ img = image.img_to_array(img) # å›¾ç‰‡æ”¾ç¼© img = 1.0/255 * img # expand_dimsçš„ä½œç”¨æ˜¯æŠŠimg.shapeè½¬æ¢æˆ(1, img.shape[0], img.shape[1], img.shape[2]) x = np.expand_dims(img, axis=0) # æ¨¡å‹é¢„æµ‹, y: [[0.22421867 0.13031775 0.15167782 0.15904953 0.21509506 0.11964121]] y = model.predict(x) # è·å–labels labels = &#123;0: 'cardboard', 1: 'glass', 2: 'metal', 3: 'paper', 4: 'plastic', 5: 'trash'&#125; # è·å–è¾“å…¥å›¾ç‰‡çš„ç±»åˆ« y_predict = labels[np.argmax(y)] # è¿”å›å›¾ç‰‡çš„ç±»åˆ« return y_predictfrom keras.preprocessing import image# è¾“å…¥å›¾ç‰‡è·¯å¾„å’Œåç§°file_path = 'test.jpg'# æ‰“å°è¯¥å¼ å›¾ç‰‡çš„ç±»åˆ«img = image.load_img(file_path)print(load_and_predict(img)) Mycode ç¼–å†™ æ•°æ®å¤„ç†ã€åˆ›å»ºæ¨¡å‹ã€è®­ç»ƒæ¨¡å‹ã€ä¿å­˜æ¨¡å‹ å’Œ è¯„ä¼°æ¨¡å‹ ç­‰éƒ¨åˆ†çš„ä»£ç  å®Œæˆæ¨¡å‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768def processing_data(data_path): \"\"\" æ•°æ®å¤„ç† :param data_path: æ•°æ®é›†è·¯å¾„ :return: train, test:å¤„ç†åçš„è®­ç»ƒé›†æ•°æ®ã€æµ‹è¯•é›†æ•°æ® \"\"\" # -------------------------- å®ç°æ•°æ®å¤„ç†éƒ¨åˆ†ä»£ç  ---------------------------- # ------------------------------------------------------------------------ train_data, test_data = None, None return train_data, test_datadef model(train_data, test_data, save_model_path): \"\"\" åˆ›å»ºã€è®­ç»ƒå’Œä¿å­˜æ·±åº¦å­¦ä¹ æ¨¡å‹ :param train_data: è®­ç»ƒé›†æ•°æ® :param test_data: æµ‹è¯•é›†æ•°æ® :param save_model_path: ä¿å­˜æ¨¡å‹çš„è·¯å¾„å’Œåç§° :return: \"\"\" # --------------------- å®ç°æ¨¡å‹åˆ›å»ºã€è®­ç»ƒå’Œä¿å­˜ç­‰éƒ¨åˆ†çš„ä»£ç  --------------------- # ä¿å­˜æ¨¡å‹ï¼ˆè¯·å†™å¥½ä¿å­˜æ¨¡å‹çš„è·¯å¾„åŠåç§°ï¼‰ # ------------------------------------------------------------------------- return modeldef evaluate_mode(test_data, save_model_path): \"\"\" åŠ è½½æ¨¡å‹å’Œè¯„ä¼°æ¨¡å‹ å¯ä»¥å®ç°ï¼Œæ¯”å¦‚: æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å­¦ä¹ æ›²çº¿ï¼Œæµ‹è¯•é›†æ•°æ®çš„losså€¼ã€å‡†ç¡®ç‡åŠæ··æ·†çŸ©é˜µç­‰è¯„ä»·æŒ‡æ ‡ï¼ ä¸»è¦æ­¥éª¤: 1.åŠ è½½æ¨¡å‹(è¯·å¡«å†™ä½ è®­ç»ƒå¥½çš„æœ€ä½³æ¨¡å‹), 2.å¯¹è‡ªå·±è®­ç»ƒçš„æ¨¡å‹è¿›è¡Œè¯„ä¼° :param test_data: æµ‹è¯•é›†æ•°æ® :param save_model_path: åŠ è½½æ¨¡å‹çš„è·¯å¾„å’Œåç§°,è¯·å¡«å†™ä½ è®¤ä¸ºæœ€å¥½çš„æ¨¡å‹ :return: \"\"\" # ----------------------- å®ç°æ¨¡å‹åŠ è½½å’Œè¯„ä¼°ç­‰éƒ¨åˆ†çš„ä»£ç  ----------------------- # ---------------------------------------------------------------------------def main(): \"\"\" æ·±åº¦å­¦ä¹ æ¨¡å‹è®­ç»ƒæµç¨‹,åŒ…å«æ•°æ®å¤„ç†ã€åˆ›å»ºæ¨¡å‹ã€è®­ç»ƒæ¨¡å‹ã€æ¨¡å‹ä¿å­˜ã€è¯„ä»·æ¨¡å‹ç­‰ã€‚ å¦‚æœå¯¹è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹ä¸æ»¡æ„,ä½ å¯ä»¥é€šè¿‡è°ƒæ•´æ¨¡å‹çš„å‚æ•°ç­‰æ–¹æ³•é‡æ–°è®­ç»ƒæ¨¡å‹,ç›´è‡³è®­ç»ƒå‡ºä½ æ»¡æ„çš„æ¨¡å‹ã€‚ å¦‚æœä½ å¯¹è‡ªå·±è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹éå¸¸æ»¡æ„,åˆ™å¯ä»¥æäº¤ä½œä¸š! :return: \"\"\" data_path = None # æ•°æ®é›†è·¯å¾„ save_model_path = None # ä¿å­˜æ¨¡å‹è·¯å¾„å’Œåç§° # è·å–æ•°æ® train_data, test_data = processing_data(data_path) # åˆ›å»ºã€è®­ç»ƒå’Œä¿å­˜æ¨¡å‹ model(train_data, test_data, save_model_path) # è¯„ä¼°æ¨¡å‹ evaluate_mode(test_data, save_model_path)if __name__ == '__main__': main() æ¨¡å‹é¢„æµ‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950from keras.models import load_modelfrom keras.preprocessing import imageimport numpy as npimport os# -------------------------- è¯·åŠ è½½æ‚¨æœ€æ»¡æ„çš„æ¨¡å‹ ---------------------------# åŠ è½½æ¨¡å‹(è¯·åŠ è½½ä½ è®¤ä¸ºçš„æœ€ä½³æ¨¡å‹)# åŠ è½½æ¨¡å‹,åŠ è½½è¯·æ³¨æ„ model_path æ˜¯ç›¸å¯¹è·¯å¾„, ä¸å½“å‰æ–‡ä»¶åŒçº§ã€‚# å¦‚æœä½ çš„æ¨¡å‹æ˜¯åœ¨ results æ–‡ä»¶å¤¹ä¸‹çš„ dnn.h5 æ¨¡å‹ï¼Œåˆ™ model_path = 'results/dnn.h5'model_path = None# åŠ è½½æ¨¡å‹ï¼Œå¦‚æœé‡‡ç”¨kerasæ¡†æ¶è®­ç»ƒæ¨¡å‹ï¼Œåˆ™ model=load_model(model_path)model = None # ---------------------------------------------------------------------------def predict(img): \"\"\" åŠ è½½æ¨¡å‹å’Œæ¨¡å‹é¢„æµ‹ ä¸»è¦æ­¥éª¤: 1.å›¾ç‰‡å¤„ç† 2.ç”¨åŠ è½½çš„æ¨¡å‹é¢„æµ‹å›¾ç‰‡çš„ç±»åˆ« :param img: PIL.Image å¯¹è±¡ :return: string, æ¨¡å‹è¯†åˆ«å›¾ç‰‡çš„ç±»åˆ«, å…± 'cardboard','glass','metal','paper','plastic','trash' 6 ä¸ªç±»åˆ« \"\"\" # -------------------------- å®ç°æ¨¡å‹é¢„æµ‹éƒ¨åˆ†çš„ä»£ç  --------------------------- # è·å–å›¾ç‰‡çš„ç±»åˆ«ï¼Œå…± 'cardboard','glass','metal','paper','plastic','trash' 6 ä¸ªç±»åˆ« # æŠŠå›¾ç‰‡è½¬æ¢æˆä¸ºnumpyæ•°ç»„ img = image.img_to_array(img) # è·å–è¾“å…¥å›¾ç‰‡çš„ç±»åˆ« y_predict = None # ------------------------------------------------------------------------- # è¿”å›å›¾ç‰‡çš„ç±»åˆ« return y_predict# --------------------------ä½¿ç”¨-----------------------------from keras.preprocessing import image# è¾“å…¥å›¾ç‰‡è·¯å¾„å’Œåç§°img_path = 'test.jpg'# æ‰“å°è¯¥å¼ å›¾ç‰‡çš„ç±»åˆ«img = image.load_img(img_path)print(predict(img)) Moé¡¹ç›®ä¸Šä»£ç -&gt; accuracyä¸º56% 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687import torchfrom torch import nnimport random import numpy as npfrom PIL import Image from torchvision.transforms import transformsimport torchvision.transforms.functional as TFimport osimport torch.utils.data as Dataimport torchvisionclass MyCNN(nn.Module): def __init__(self, image_size, num_classes): super(MyCNN, self).__init__() # conv1: Conv2d -&gt; BN -&gt; ReLU -&gt; MaxPool self.conv1 = nn.Sequential( nn.Conv2d(in_channels=3, out_channels=16, kernel_size=3, stride=1, padding=1), nn.BatchNorm2d(16), nn.ReLU(), nn.MaxPool2d(kernel_size=2, stride=2), ) # conv2: Conv2d -&gt; BN -&gt; ReLU -&gt; MaxPool self.conv2 = nn.Sequential( nn.Conv2d(in_channels=16, out_channels=32, kernel_size=3, stride=1, padding=1), nn.BatchNorm2d(32), nn.ReLU(), nn.MaxPool2d(kernel_size=2, stride=2), ) # fully connected layer self.fc = nn.Linear(32 * (image_size // 4) * (image_size // 4), num_classes) def forward(self, x): \"\"\" input: N * 3 * image_size * image_size output: N * num_classes \"\"\" x = self.conv1(x) x = self.conv2(x) # view(x.size(0), -1): change tensor size from (N ,H , W) to (N, H*W) x = x.view(x.size(0), -1) output = self.fc(x) return outputdef load_model(model_path, device): net = MyCNN(32,6) print('loading the model from %s' % model_path) state_dict = torch.load(model_path, map_location=str(device)) if hasattr(state_dict, '_metadata'): del state_dict._metadata net.load_state_dict(state_dict) return net # åŠ è½½æ¨¡å‹,åŠ è½½è¯·æ³¨æ„ model_path æ˜¯ç›¸å¯¹è·¯å¾„, ä¸å½“å‰æ–‡ä»¶åŒçº§ã€‚# å¦‚æœä½ çš„æ¨¡å‹æ˜¯åœ¨ results æ–‡ä»¶å¤¹ä¸‹çš„ dnn.h5 æ¨¡å‹ï¼Œåˆ™ model_path = 'results/dnn.h5'model_path = 'results/cnn.pth'device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')model = load_model(model_path, device).to(device)model.eval()def predict(img): \"\"\" :param img: PIL.Image å¯¹è±¡ :return: string, æ¨¡å‹è¯†åˆ«å›¾ç‰‡çš„ç±»åˆ«, å…± 'cardboard','glass','metal','paper','plastic','trash' 6 ä¸ªç±»åˆ« \"\"\" transform = transforms.Compose([transforms.RandomCrop(size=(384,512), padding=10), transforms.Resize((32,32)), transforms.ToTensor(), transforms.Normalize([0.5, 0.5, 0.5], [0.5, 0.5, 0.5]) ]) img = transform(img) classes=['glass','paper','carboard','plastic','metal','trash'] img = img.to(device).unsqueeze(0) pred_cate = model(img) preds = pred_cate.argmax(dim=1) # ------------------------------------------------------------------------- y_predict = classes[preds] # è¿”å›å›¾ç‰‡çš„ç±»åˆ« return y_predict VGG16ä»£ç ï¼šaccuraryï¼š92% 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215################################################################################ é‡è¦: è¯·åŠ¡å¿…æŠŠä»»åŠ¡(jobs)ä¸­éœ€è¦ä¿å­˜çš„æ–‡ä»¶å­˜æ”¾åœ¨ results æ–‡ä»¶å¤¹å†…# Important : Please make sure your files are saved to the 'results' folder# in your jobs################################################################################ ------------------------------------------æäº¤å†…å®¹-----------------------------------from keras.layers import Input, Dense, Flatten, Dropout, Activation from keras.layers.normalization import BatchNormalizationfrom keras.preprocessing.image import ImageDataGeneratorfrom keras.callbacks import TensorBoardfrom keras.preprocessing import imagefrom keras.models import load_modelfrom keras.models import Modelimport matplotlib.pyplot as pltimport glob, os, cv2, random,timeimport numpy as npfrom keras.models import Sequentialfrom keras.layers import Conv2D,Flatten,MaxPooling2D,Dense from keras.optimizers import SGDfrom keras.applications.vgg16 import VGG16def processing_data(data_path): \"\"\" æ•°æ®å¤„ç† :param data_path: æ•°æ®é›†è·¯å¾„ :return: train, test:å¤„ç†åçš„è®­ç»ƒé›†æ•°æ®ã€æµ‹è¯•é›†æ•°æ® \"\"\" train_data = ImageDataGenerator( # å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ å€¼å‡ä¹˜ä¸Šè¿™ä¸ªæ”¾ç¼©å› å­ï¼ŒæŠŠåƒç´ å€¼æ”¾ç¼©åˆ°0å’Œ1ä¹‹é—´æœ‰åˆ©äºæ¨¡å‹çš„æ”¶æ•› rescale=1. / 225, # æµ®ç‚¹æ•°ï¼Œå‰ªåˆ‡å¼ºåº¦ï¼ˆé€†æ—¶é’ˆæ–¹å‘çš„å‰ªåˆ‡å˜æ¢è§’åº¦ï¼‰ shear_range=0.1, # éšæœºç¼©æ”¾çš„å¹…åº¦ï¼Œè‹¥ä¸ºæµ®ç‚¹æ•°ï¼Œåˆ™ç›¸å½“äº[lower,upper] = [1 - zoom_range, 1+zoom_range] zoom_range=0.1, # æµ®ç‚¹æ•°ï¼Œå›¾ç‰‡å®½åº¦çš„æŸä¸ªæ¯”ä¾‹ï¼Œæ•°æ®æå‡æ—¶å›¾ç‰‡æ°´å¹³åç§»çš„å¹…åº¦ width_shift_range=0.1, # æµ®ç‚¹æ•°ï¼Œå›¾ç‰‡é«˜åº¦çš„æŸä¸ªæ¯”ä¾‹ï¼Œæ•°æ®æå‡æ—¶å›¾ç‰‡ç«–ç›´åç§»çš„å¹…åº¦ height_shift_range=0.1, # å¸ƒå°”å€¼ï¼Œè¿›è¡Œéšæœºæ°´å¹³ç¿»è½¬ horizontal_flip=True, # å¸ƒå°”å€¼ï¼Œè¿›è¡Œéšæœºç«–ç›´ç¿»è½¬ vertical_flip=True, # åœ¨ 0 å’Œ 1 ä¹‹é—´æµ®åŠ¨ã€‚ç”¨ä½œéªŒè¯é›†çš„è®­ç»ƒæ•°æ®çš„æ¯”ä¾‹ validation_split=0.1 ) # æ¥ä¸‹æ¥ç”Ÿæˆæµ‹è¯•é›†ï¼Œå¯ä»¥å‚è€ƒè®­ç»ƒé›†çš„å†™æ³• validation_data = ImageDataGenerator( rescale=1. / 255, validation_split=0.1) train_generator = train_data.flow_from_directory( # æä¾›çš„è·¯å¾„ä¸‹é¢éœ€è¦æœ‰å­ç›®å½• data_path, # æ•´æ•°å…ƒç»„ (height, width)ï¼Œé»˜è®¤ï¼š(256, 256)ã€‚ æ‰€æœ‰çš„å›¾åƒå°†è¢«è°ƒæ•´åˆ°çš„å°ºå¯¸ã€‚ target_size=(150, 150), # ä¸€æ‰¹æ•°æ®çš„å¤§å° batch_size=16, # \"categorical\", \"binary\", \"sparse\", \"input\" æˆ– None ä¹‹ä¸€ã€‚ # é»˜è®¤ï¼š\"categorical\",è¿”å›one-hot ç¼–ç æ ‡ç­¾ã€‚ class_mode='categorical', # æ•°æ®å­é›† (\"training\" æˆ– \"validation\") subset='training', seed=0) validation_generator = validation_data.flow_from_directory( data_path, target_size=(150, 150), batch_size=16, class_mode='categorical', subset='validation', seed=0) return train_generator, validation_generatordef model(train_generator, validation_generator, save_model_path): \"\"\" æ¨¡å‹çš„å»ºç«‹ æœ¬æ¬¡å®éªŒé‡‡ç”¨Vgg16æ¨¡å‹ \"\"\" vgg16_model = VGG16(weights='imagenet',include_top=False, input_shape=(150,150,3)) top_model = Sequential() top_model.add(Flatten(input_shape=vgg16_model.output_shape[1:])) top_model.add(Dense(256,activation='relu')) top_model.add(Dropout(0.5)) top_model.add(Dense(6,activation='softmax')) model = Sequential() model.add(vgg16_model) model.add(top_model) # ç¼–è¯‘æ¨¡å‹, é‡‡ç”¨ compile å‡½æ•°: https://keras.io/models/model/#compile model.compile( # æ˜¯ä¼˜åŒ–å™¨, ä¸»è¦æœ‰Adamã€sgdã€rmspropç­‰æ–¹å¼ã€‚ optimizer=SGD(lr=1e-3,momentum=0.9), # æŸå¤±å‡½æ•°,å¤šåˆ†ç±»é‡‡ç”¨ categorical_crossentropy loss='categorical_crossentropy', # æ˜¯é™¤äº†æŸå¤±å‡½æ•°å€¼ä¹‹å¤–çš„ç‰¹å®šæŒ‡æ ‡, åˆ†ç±»é—®é¢˜ä¸€èˆ¬éƒ½æ˜¯å‡†ç¡®ç‡ metrics=['accuracy']) model.fit_generator( # ä¸€ä¸ªç”Ÿæˆå™¨æˆ– Sequence å¯¹è±¡çš„å®ä¾‹ generator=train_generator, # epochs: æ•´æ•°ï¼Œæ•°æ®çš„è¿­ä»£æ€»è½®æ•°ã€‚ epochs=200, # ä¸€ä¸ªepochåŒ…å«çš„æ­¥æ•°,é€šå¸¸åº”è¯¥ç­‰äºä½ çš„æ•°æ®é›†çš„æ ·æœ¬æ•°é‡é™¤ä»¥æ‰¹é‡å¤§å°ã€‚ steps_per_epoch=2259 // 16, # éªŒè¯é›† validation_data=validation_generator, # åœ¨éªŒè¯é›†ä¸Š,ä¸€ä¸ªepochåŒ…å«çš„æ­¥æ•°,é€šå¸¸åº”è¯¥ç­‰äºä½ çš„æ•°æ®é›†çš„æ ·æœ¬æ•°é‡é™¤ä»¥æ‰¹é‡å¤§å°ã€‚ validation_steps=248 // 16, ) model.save(save_model_path) return modeldef evaluate_mode(validation_generator, save_model_path): # åŠ è½½æ¨¡å‹ model = load_model('results/Ynnex1.h5') # è·å–éªŒè¯é›†çš„ loss å’Œ accuracy loss, accuracy = model.evaluate_generator(validation_generator) print(\"\\nLoss: %.2f, Accuracy: %.2f%%\" % (loss, accuracy * 100))def predict(img): \"\"\" åŠ è½½æ¨¡å‹å’Œæ¨¡å‹é¢„æµ‹ ä¸»è¦æ­¥éª¤: 1.åŠ è½½æ¨¡å‹(è¯·åŠ è½½ä½ è®¤ä¸ºçš„æœ€ä½³æ¨¡å‹) 2.å›¾ç‰‡å¤„ç† 3.ç”¨åŠ è½½çš„æ¨¡å‹é¢„æµ‹å›¾ç‰‡çš„ç±»åˆ« :param img: PIL.Image å¯¹è±¡ :return: string, æ¨¡å‹è¯†åˆ«å›¾ç‰‡çš„ç±»åˆ«, å…± 'cardboard','glass','metal','paper','plastic','trash' 6 ä¸ªç±»åˆ« \"\"\" # æŠŠå›¾ç‰‡è½¬æ¢æˆä¸ºnumpyæ•°ç»„ img = img.resize((150, 150)) img = image.img_to_array(img) # åŠ è½½æ¨¡å‹,åŠ è½½è¯·æ³¨æ„ model_path æ˜¯ç›¸å¯¹è·¯å¾„, ä¸å½“å‰æ–‡ä»¶åŒçº§ã€‚ # å¦‚æœä½ çš„æ¨¡å‹æ˜¯åœ¨ results æ–‡ä»¶å¤¹ä¸‹çš„ dnn.h5 æ¨¡å‹ï¼Œåˆ™ model_path = 'results/dnn.h5' model_path = 'results/Ynnex1.h5' try: # ä½œä¸šæäº¤æ—¶æµ‹è¯•ç”¨, è¯·å‹¿åˆ é™¤æ­¤éƒ¨åˆ† model_path = os.path.realpath(__file__).replace('main.py', model_path) except NameError: model_path = './' + model_path # -------------------------- å®ç°æ¨¡å‹é¢„æµ‹éƒ¨åˆ†çš„ä»£ç  --------------------------- # åŠ è½½æ¨¡å‹ model = load_model(model_path) # expand_dimsçš„ä½œç”¨æ˜¯æŠŠimg.shapeè½¬æ¢æˆ(1, img.shape[0], img.shape[1], img.shape[2]) x = np.expand_dims(img, axis=0) # æ¨¡å‹é¢„æµ‹ y = model.predict(x) # è·å–labels labels = &#123;0: 'cardboard', 1: 'glass', 2: 'metal', 3: 'paper', 4: 'plastic', 5: 'trash'&#125; # ------------------------------------------------------------------------- predict = labels[np.argmax(y)] # è¿”å›å›¾ç‰‡çš„ç±»åˆ« return predictdef main(): \"\"\" æ·±åº¦å­¦ä¹ æ¨¡å‹è®­ç»ƒæµç¨‹,åŒ…å«æ•°æ®å¤„ç†ã€åˆ›å»ºæ¨¡å‹ã€è®­ç»ƒæ¨¡å‹ã€æ¨¡å‹ä¿å­˜ã€è¯„ä»·æ¨¡å‹ç­‰ã€‚ å¦‚æœå¯¹è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹ä¸æ»¡æ„,ä½ å¯ä»¥é€šè¿‡è°ƒæ•´æ¨¡å‹çš„å‚æ•°ç­‰æ–¹æ³•é‡æ–°è®­ç»ƒæ¨¡å‹,ç›´è‡³è®­ç»ƒå‡ºä½ æ»¡æ„çš„æ¨¡å‹ã€‚ å¦‚æœä½ å¯¹è‡ªå·±è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹éå¸¸æ»¡æ„,åˆ™å¯ä»¥æäº¤ä½œä¸š! :return: \"\"\" data_path = \"./datasets/la1ji1fe1nle4ishu4ju4ji22-momodel/dataset-resized\" # æ•°æ®é›†è·¯å¾„ save_model_path = 'results/Ynnex1.h5' # ä¿å­˜æ¨¡å‹è·¯å¾„å’Œåç§° # è·å–æ•°æ® train_generator, validation_generator = processing_data(data_path) # åˆ›å»ºã€è®­ç»ƒå’Œä¿å­˜æ¨¡å‹ model(train_generator, validation_generator, save_model_path) # è¯„ä¼°æ¨¡å‹ evaluate_mode(validation_generator, save_model_path)# æ•°æ®æµ‹è¯•def test_result(): import random,cv2 import numpy as np import matplotlib.pyplot as plt from PIL import Image # å¯¼å…¥ç›¸å…³åŒ… import glob, os # æ•°æ®é›†è·¯å¾„ data_path = \"./datasets/la1ji1fe1nle4ishu4ju4ji22-momodel/dataset-resized\" # è·å–æ•°æ®åç§°åˆ—è¡¨ img_list = glob.glob(os.path.join(data_path, '*/*.jpg')) # æ‰“å°æ•°æ®é›†æ€»é‡ print(\"æ•°æ®é›†æ€»æ•°é‡:\", len(img_list)) print(\"æ•°æ®è·¯å¾„å’Œåç§°:\",img_list[0]) # ä»æ•°æ®åç§°åˆ—è¡¨ img_list ä¸­éšæœºé€‰å– 6 ä¸ªã€‚ for i, img_path in enumerate(random.sample(img_list, 6)): # è¯»å–å›¾ç‰‡ img = cv2.imread(img_path) # å°†å›¾ç‰‡ä» BGR æ¨¡å¼è½¬ä¸º RGB æ¨¡å¼ img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB) img = Image.fromarray(img) plt.imshow(img) plt.show() res = predict(img) print(res) if __name__ == '__main__':# main() test_result() VGG16è¯´æ˜ï¼šhttps://baijiahao.baidu.com/s?id=1667221544796169037&amp;wfr=spider&amp;for=pc é™„å½• CSDN åŸºäºæ·±åº¦å­¦ä¹ çš„åƒåœ¾åˆ†ç±»è¯†åˆ«ç³»ç»Ÿ åŸºäºæ·±åº¦å­¦ä¹ çš„è®¡ç®—æœºè§†è§‰ - åƒåœ¾åˆ†ç±»ï¼ˆé™„æºç ï¼‰ Github åŸºäºæ·±åº¦å­¦ä¹ çš„åƒåœ¾åˆ†ç±» garbage_classify Deep-Learning","categories":[],"tags":[{"name":"ZJU","slug":"ZJU","permalink":"https://nymrli.top/tags/ZJU/"},{"name":"ML","slug":"ML","permalink":"https://nymrli.top/tags/ML/"}]},{"title":"ç»†å“å•ä¾‹æ¨¡å¼","slug":"ç»†å“å•ä¾‹æ¨¡å¼","date":"2020-12-11T02:25:26.000Z","updated":"2020-12-11T13:02:05.492Z","comments":true,"path":"2020/12/11/ç»†å“å•ä¾‹æ¨¡å¼/","link":"","permalink":"https://nymrli.top/2020/12/11/ç»†å“å•ä¾‹æ¨¡å¼/","excerpt":"","text":"è™½ç„¶è¿˜æ²¡æ­£å¼è¸å…¥å¼€å‘å°±ä¸šæµªæ½®ä¸­ï¼Œä½†ä¸ºäº†ä¿è¯è‡ªå·±çš„ä»£ç è´¨é‡ï¼Œæœ€è¿‘è¿˜æ˜¯åœ¨å­¦è®¾è®¡æ¨¡å¼ç›¸å…³å†…å®¹ã€‚ä»¥ä¸‹ä¸ºè¯»ã€Šç ”ç£¨è®¾è®¡æ¨¡å¼ã€‹å’Œã€Šè®¾è®¡æ¨¡å¼å°±è¯¥è¿™æ ·å­¦ï¼šåŸºäºç»å…¸æ¡†æ¶æºç å’ŒçœŸå®ä¸šåŠ¡åœºæ™¯ã€‹çš„è¯»ä¹¦ç¬”è®°ã€‚ GoFçš„ã€Šè®¾è®¡æ¨¡å¼ã€‹å°±æ˜¯è®¾è®¡æ¨¡å¼çš„å§‹ç¥–ã€ç»å…¸æ•™ç§‘ä¹¦ã€‚å…¶æè¿°ä¸¥è°¨ï¼Œä¸¾ä¾‹æ°å½“ï¼Œåˆ†ç±»ç»„ç»‡ï¼Œæ˜¯åº”è¯¥åå¤ç»†è¯»çš„ç»å…¸ï¼Œä¸¤æœ¬ä¹¦çš†æåŠäº†GoFè¿™æœ¬ä¹¦ï¼Œå¼•ç”¨äº†GoFä¸­çš„éƒ¨åˆ†ä¾‹å­ã€‚ å•ä¾‹æ¨¡å¼ è™šæ‹Ÿåœºæ™¯ï¼š è¯»å–é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼ˆå‡è®¾ç³»ç»Ÿé‡‡ç”¨çš„æ˜¯propertiesæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package cn.javass.dp.singleton.example1;import java.io.*;import java.util.*;public class AppConfig &#123; /** * ç”¨æ¥å­˜æ”¾é…ç½®æ–‡ä»¶ä¸­å‚æ•°Açš„å€¼ */ private String parameterA; /** * ç”¨æ¥å­˜æ”¾é…ç½®æ–‡ä»¶ä¸­å‚æ•°Bçš„å€¼ */ private String parameterB; public String getParameterA() &#123; return parameterA; &#125; public String getParameterB() &#123; return parameterB; &#125; public AppConfig()&#123; //è°ƒç”¨è¯»å–é…ç½®æ–‡ä»¶çš„æ–¹æ³• readConfig(); &#125; /** * è¯»å–é…ç½®æ–‡ä»¶ï¼ŒæŠŠé…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹è¯»å‡ºæ¥è®¾ç½®åˆ°å±æ€§ä¸Š */ private void readConfig()&#123; Properties p = new Properties(); InputStream in = null; try &#123; in = AppConfig.class.getResourceAsStream(\"AppConfig.properties\"); p.load(in); //æŠŠé…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹è¯»å‡ºæ¥è®¾ç½®åˆ°å±æ€§ä¸Š this.parameterA = p.getProperty(\"paramA\"); this.parameterB = p.getProperty(\"paramB\"); &#125; catch (IOException e) &#123; System.out.println(\"è£…è½½é…ç½®æ–‡ä»¶å‡ºé”™äº†ï¼Œå…·ä½“å †æ ˆä¿¡æ¯å¦‚ä¸‹ï¼š\"); e.printStackTrace(); &#125;finally&#123; try &#123; in.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125; å­˜åœ¨çš„é—®é¢˜ï¼š ç³»ç»Ÿè¿è¡ŒæœŸé—´ï¼Œå¦‚æœå­˜åœ¨å¾ˆå¤šä¸ªAppConfigçš„å®ä¾‹å¯¹è±¡å³é…ç½®å†…å®¹ï¼Œä¼šä¸¥é‡æµªè´¹å†…å­˜èµ„æºã€‚å®é™…ä¸Šï¼Œå¯¹äºAppConfigè¿™ç§ç±»åœ¨è¿è¡ŒæœŸé—´åªè¦ä¸€ä¸ªå®ä¾‹å¯¹è±¡å°±å¤Ÿäº†ã€‚===&gt;å•ä¾‹æ¨¡å¼ å®šä¹‰ï¼šä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚ å•ä¾‹å®ç°æ€è·¯ï¼š ä¸€ä¸ªç±»èƒ½å¤Ÿè¢«åˆ›å»ºå¤šä¸ªå®ä¾‹çš„é—®é¢˜æ ¹æºåœ¨äºç±»çš„æ„é€ æ–¹æ³•æ˜¯å…¬å¼€çš„ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥è®©ç±»çš„å¤–éƒ¨é€šè¿‡æ„é€ æ–¹æ³•æ¥åˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚æ¢å¥è¯è¯´ï¼Œåªè¦ç±»çš„æ„é€ æ–¹æ³•èƒ½è®©ç±»çš„å¤–éƒ¨è®¿é—®ï¼Œå°±æ²¡æœ‰åŠæ³•å»æ§åˆ¶å¤–éƒ¨æ¥åˆ›å»ºè¿™ä¸ªç±»çš„å®ä¾‹ä¸ªæ•°ã€‚è¦æƒ³æ§åˆ¶ä¸€ä¸ªç±»åªè¢«åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆé¦–è¦çš„é—®é¢˜å°±æ˜¯è¦æŠŠåˆ›å»ºå®ä¾‹çš„æƒé™æ”¶å›æ¥ï¼Œè®©ç±»è‡ªèº«æ¥è´Ÿè´£è‡ªå·±ç±»å®ä¾‹çš„åˆ›å»ºå·¥ä½œï¼Œç„¶åç”±è¿™ä¸ªç±»æ¥æä¾›å¤–éƒ¨å¯ä»¥è®¿é—®è¿™ä¸ªç±»å®ä¾‹çš„æ–¹æ³•ï¼Œè¿™å°±æ˜¯å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼ã€‚ å•ä¾‹æ¨¡å¼çš„ç»“æ„å’Œè¯´æ˜ï¼š Singletonï¼šç§æœ‰åŒ–æ„é€ å‡½æ•°æ¥éšè—æ„é€ ï¼Œä»è€Œè‡ªå·±è´Ÿè´£åˆ›å»ºSingletonç±»è‡ªå·±çš„å”¯ä¸€å®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªgetlnstanceçš„æ–¹æ³•ï¼Œè®©å¤–éƒ¨æ¥è®¿é—®è¿™ä¸ªç±»çš„å”¯ä¸€å®ä¾‹ã€‚ åŸºç¡€çº§å•ä¾‹ é¥¿æ±‰å¼ æ‰€è°“é¥¿æ±‰å¼ï¼Œæ—¢ç„¶é¥¿ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ—¶å€™å°±æ¯”è¾ƒç€æ€¥ï¼Œé¥¿äº†å˜›ï¼Œäºæ˜¯åœ¨è£…è½½ç±»çš„æ—¶å€™å°±åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œå†™æ³•å¦‚ä¸‹ï¼š 1234567891011public class Singleton &#123; private static Singleton instance = new Singleton(); private Singleton()&#123; &#125; public static Singleton getInstance()&#123; return instance; &#125;&#125; å®ç°æ–¹å¼ï¼š ç§æœ‰åŒ–æ„é€ æ–¹æ³• æä¾›è·å–å®ä¾‹çš„æ–¹æ³•getInstance æŠŠè·å–å®ä¾‹çš„æ–¹æ³•å˜æˆé™æ€æ–¹æ³• å®šä¹‰å­˜å‚¨å®ä¾‹çš„å±æ€§(æˆå‘˜å˜é‡)instance å°†å®ä¾‹æˆå‘˜å˜é‡instanceå®šä¹‰ä¸ºé™æ€çš„ï¼ˆç”±äºè¦åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œè¢«è¿«å†™æˆstaticï¼Œæ²¡ç”¨åˆ°staticç‰¹æ€§ï¼‰ ä»è€Œå®ç°æ§åˆ¶å®ä¾‹çš„åˆ›å»º æ‡’æ±‰å¼ æ‰€è°“æ‡’æ±‰å¼ï¼Œæ—¢ç„¶æ˜¯æ‡’ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ—¶å€™å°±ä¸ç€æ€¥ï¼Œä¼šä¸€ç›´ç­‰åˆ°é©¬ä¸Šè¦ä½¿ç”¨å¯¹è±¡å®ä¾‹çš„æ—¶å€™æ‰ä¼šåˆ›å»ºï¼Œæ‡’äººå˜›ï¼Œæ€»æ˜¯æ¨æ‰˜ä¸å¼€çš„æ—¶å€™æ‰å»çœŸæ­£æ‰§è¡Œå·¥ä½œï¼Œå› æ­¤åœ¨è£…è½½å¯¹è±¡çš„æ—¶å€™ä¸åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œå†™æ³•å¦‚ä¸‹ï¼š æ‡’æ±‰å¼ä½“ç°äº†å»¶è¿ŸåŠ è½½çš„æ€æƒ³ï¼Œlazy loadï¼Œè¿™ä¸ªlazyå¹¶ä¸æ˜¯æ‡’æƒ°çš„æ„æ€ï¼Œè€Œæ˜¯å»¶è¿Ÿçš„æ„æ€ï¼ŒLazy loadåœ¨å®é™…å¼€å‘ä¸­æ˜¯ç§å¾ˆå¸¸è§çš„æ€æƒ³ï¼Œå¯ä»¥å°½å¯èƒ½çš„èŠ‚çº¦èµ„æºã€‚ 123456789101112131415161718192021public class Singleton &#123; /** * å®šä¹‰ä¸€ä¸ªå˜é‡æ¥å­˜å‚¨åˆ›å»ºå¥½çš„ç±»å®ä¾‹ */ private static Singleton uniqueInstance = null; /** * â–²ç§æœ‰åŒ–æ„é€ æ–¹æ³•ï¼Œå°†æ„é€ æ–¹æ³•æƒé™å›æ”¶ï¼Œå¥½åœ¨å†…éƒ¨æ§åˆ¶åˆ›å»ºå®ä¾‹çš„æ•°ç›® */ private Singleton()&#123; // &#125; /** * å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥ä¸ºå®¢æˆ·ç«¯æä¾›ç±»å®ä¾‹ï¼Œ æä¾›è®¿é—®æ–¹æ³• * @return ä¸€ä¸ªSingletonçš„å®ä¾‹ */ public static synchronized Singleton getInstance() &#123; if (instance == null) instance = new Singleton(); return instance; &#125;&#125; å®ç°æ–¹å¼ï¼š ç§æœ‰åŒ–æ„é€ æ–¹æ³• æä¾›è·å–å®ä¾‹çš„æ–¹æ³•getInstance æŠŠè·å–å®ä¾‹çš„æ–¹æ³•å˜æˆé™æ€æ–¹æ³• å®šä¹‰å­˜å‚¨å®ä¾‹çš„å±æ€§(æˆå‘˜å˜é‡)instance å°†å®ä¾‹æˆå‘˜å˜é‡instanceå®šä¹‰ä¸ºé™æ€çš„ï¼ˆåˆ©ç”¨staticåœ¨ç±»è£…è½½çš„æ—¶å€™æ‰§è¡Œçš„ç‰¹æ€§ï¼Œä»è€Œå®ç°åˆå§‹åŒ–ï¼‰ ä»è€Œå®ç°æ§åˆ¶å®ä¾‹çš„åˆ›å»º ğŸ¯ä»¥ä¸Šä¸¤ç§å°±æ˜¯æœ€åŸºç¡€çš„å•ä¾‹å†™æ³•ï¼Œåœ¨ä¸è€ƒè™‘å¤æ‚çš„æ¡ä»¶ä¸‹ä»…æ˜¯æ»¡è¶³äº†å®šä¹‰æ‰€è¦æ±‚çš„åŠŸèƒ½ï¼šè¿è¡ŒæœŸé—´åªä¼šè¢«åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œåˆ‡æä¾›äº†ä¸€ä¸ªå…¨å±€å”¯ä¸€è®¿é—®ç‚¹ï¼ˆå³getInstanceæ–¹æ³•ï¼‰ ä¼˜ç¼ºç‚¹åˆ†æï¼š æ—¶é—´å’Œç©ºé—´ï¼š é¥¿æ±‰ï¼šç©ºé—´æ¢æ—¶é—´ï¼Œç±»åŠ è½½æ—¶å°±åˆ›å»ºã€‚å› æ­¤å½“ç³»ç»Ÿæœ‰å¤§é‡å•ä¾‹å¯¹è±¡å­˜åœ¨æ—¶ï¼Œç³»ç»Ÿåˆå§‹åŒ–å°±ä¼šé€ æˆå¤§é‡çš„å†…å­˜æµªè´¹ æ‡’æ±‰ï¼šæ—¶é—´æ¢ç©ºé—´ï¼Œæ¯æ¬¡è·å–æ—¶éƒ½éœ€è¦åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ›å»ºå®ä¾‹ çº¿ç¨‹å®‰å…¨ï¼š é¥¿æ±‰ï¼šçº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºè™šæ‹Ÿæœºä¿è¯æ™ºæ…§åŠ è½½ä»¥æ­¤ç±»æ¨ï¼Œå¹¶ä¸”åŠ è½½ç±»çš„æ—¶å€™ä¸ä¼šå¹¶å‘å‘ç”Ÿã€‚ æ‡’æ±‰ï¼šéœ€è¦åŠ ä¸Šsynchronizedå…³é”®å­—æ‰èƒ½ç¡®è®¤çº¿ç¨‹å®‰å…¨ï¼Œä½†synchronizedåŠ åœ¨æ–¹æ³•ä¸Šä¼šæ¯”è¾ƒå½±å“æ€§èƒ½ï¼Œå¯¼è‡´å¤§æ‰¹é‡çº¿ç¨‹é˜»å¡ï¼Œä»è€Œå¯¼è‡´ç¨‹åºæ€§èƒ½å¤§å¹…ä¸‹é™ åŒé‡æ£€æŸ¥é” ä¸ºäº†ä¿è¯åŠ è½½æ—¶çš„æ€§èƒ½-&gt;å³ä¸èƒ½é‡‡ç”¨é¥¿æ±‰ï¼Œè€Œæ˜¯å¾—é‡‡ç”¨æ‡’æ±‰lazy loadçš„æ¨¡å¼ é‚£ä¹ˆå¦‚ä½•è¾ƒå¥½åœ°ä¿è¯çº¿ç¨‹å®‰å…¨å‘¢ï¼Ÿ===&gt;åœ¨æ‡’æ±‰å¼çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¾—åˆ°äº†åŒé‡æ£€æŸ¥é” æ‡’æ±‰å¼çš„åšæ³•å¥½æ¯”åœ°é“è¿›ç«™é™æµï¼Œåœ¨å¯’é£åˆºéª¨çš„å†¬å¤©ï¼Œæ‰€æœ‰äººéƒ½åœ¨ç«™å‰å¹¿åœºè½¬åœˆï¼Œç”¨æˆ·ä½“éªŒä¼šä¸å¥½ï¼›è€ŒåŒé‡æ£€æŸ¥å°±æ˜¯è®¾ç½®ä¸¤é‡æ£€æŸ¥ï¼Œå¥½æ¯”åœ¨å…¥ç«™é—¨å¤„å’Œå…¥å…åå†é—¸å£æ£€ç¥¨å¤„å†æ£€æŸ¥ä¸€æ¬¡ 12345678910111213141516171819202122public class Singleton &#123; /** * å¯¹ä¿å­˜å®ä¾‹çš„å˜é‡æ·»åŠ volatileçš„ä¿®é¥°ã€‚ */ private volatile static Singleton instance = null; private Singleton()&#123; &#125; public static Singleton getInstance()&#123; //å…ˆæ£€æŸ¥å®ä¾‹æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨æ‰è¿›å…¥ä¸‹é¢çš„åŒæ­¥å— if(instance == null)&#123; //åŒæ­¥å—ï¼Œçº¿ç¨‹å®‰å…¨çš„åˆ›å»ºå®ä¾‹ synchronized(Singleton.class)&#123; //å†æ¬¡æ£€æŸ¥å®ä¾‹æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨æ‰çœŸçš„åˆ›å»ºå®ä¾‹ if(instance == null)&#123; instance = new Singleton(); &#125; &#125; &#125; return instance; &#125;&#125; åŒé‡æ£€æŸ¥åŠ é”æœºåˆ¶å’Œæ‡’æ±‰ä¸åŒçš„åœ¨äºå¹¶ä¸æ˜¯è¿›å…¥getInstaceæ–¹æ³•éœ€è¦åŒæ­¥(ç”±æ–¹æ³•åŠ é”-&gt;æ–¹æ³•å†…éƒ¨åŠ å¯¹è±¡é”)ï¼Œè€Œæ˜¯ä¸å­˜åœ¨å®ä¾‹çš„æ—¶å€™æ‰ä¼šè¿›å…¥åŒæ­¥å—ã€‚æ­¤å¤„é˜»å¡çš„ä¸æ˜¯åŸºäºæ•´ä¸ªLazyDoubleCheckSingletonç±»çš„é˜»å¡ï¼Œè€Œæ˜¯åœ¨getInstanceæ–¹æ³•å†…éƒ¨çš„é˜»å¡ï¼Œåªè¦é€»è¾‘ä¸å¤æ‚ï¼Œå¯¹äºè°ƒç”¨è€…æ˜¯æ„Ÿè§‰ä¸åˆ°çš„ã€‚ â–²æ³¨ï¼šè¢«volatileä¿®é¥°çš„å˜é‡çš„å€¼ä¸ä¼šè¢«æœ¬åœ°çº¿ç¨‹ç¼“å­˜ï¼Œæ‰€æœ‰å¯¹è¯¥å˜é‡çš„è¯»å†™éƒ½æ˜¯ç›´æ¥æ“ä½œå…±äº«å†…å­˜çš„ï¼Œä»è€Œä½¿å¾—å¤šä¸ªçº¿ç¨‹èƒ½å¤Ÿæ­£ç¡®çš„å¤„ç†è¯¥å˜é‡ã€‚ï¼ˆç”±äºJava1.4å‰å¯¹volatileå…³é”®å­—å®ç°æœ‰é—®é¢˜ï¼Œå› æ­¤åŒé‡æ£€æŸ¥é”é€‚ç”¨äºJava1.5ä»¥åï¼‰ã€‚æ­¤å¤–volatileå¯èƒ½ä¼šå±è”½JVMä¸€äº›å¿…è¦çš„ä»£ç ä¼˜åŒ–ï¼Œæ‰€ä»¥ä¼šé™ä½è¿è¡Œæ•ˆç‡ï¼Œå› æ­¤ä¸€èˆ¬å»ºè®®æ²¡æœ‰ç‰¹åˆ«éœ€è¦ï¼Œä¸è¦ä½¿ç”¨volatileã€‚å› æ­¤ï¼Œä¸å»ºè®®ç³»ç»Ÿä¸­å¤§é‡ä½¿ç”¨åŒé‡æ£€æŸ¥é”ã€‚ é™æ€å†…éƒ¨ç±»å¼ï¼ˆç±»çº§å†…éƒ¨ç±»ï¼‰ è™½ç„¶åŒé‡æ£€æŸ¥é”è¾ƒä¹‹æ‡’æ±‰å’Œé¥¿æ±‰æœ‰äº†ä¸å°‘ä¼˜åŒ–ï¼Œä½†åŒé‡æ£€æŸ¥é”ä»å­˜åœ¨1.volatileæ€§èƒ½ã€2.synchronizedæ€§èƒ½ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•ä¸ä½¿ç”¨synchronizedå…³é”®å­—ï¼Œè¿˜èƒ½å®ç°å»¶è¿ŸåŠ è½½å’Œçº¿ç¨‹å®‰å…¨å‘¢ï¼Ÿ==&gt;é™æ€å†…éƒ¨ç±»å¼ ä»€ä¹ˆæ˜¯ç±»çº§å†…éƒ¨ç±»ï¼Ÿ ç®€å•ç‚¹è¯´ï¼Œç±»çº§å†…éƒ¨ç±»æŒ‡çš„æ˜¯ï¼Œæœ‰staticä¿®é¥°çš„æˆå‘˜å¼å†…éƒ¨ç±»ã€‚å¦‚æœæ²¡æœ‰staticä¿®é¥°çš„æˆå‘˜å¼å†…éƒ¨ç±»è¢«ç§°ä¸ºå¯¹è±¡çº§å†…éƒ¨ç±»ã€‚ ç±»çº§å†…éƒ¨ç±»ç›¸å½“äºå…¶å¤–éƒ¨ç±»çš„staticæˆåˆ†ï¼Œå®ƒçš„å¯¹è±¡(ç±»çº§å†…éƒ¨ç±»å¯¹è±¡)ä¸å¤–éƒ¨ç±»å¯¹è±¡é—´ä¸å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå› æ­¤å¯ç›´æ¥åˆ›å»ºã€‚è€Œå¯¹è±¡çº§å†…éƒ¨ç±»çš„å®ä¾‹ï¼Œæ˜¯ç»‘å®šåœ¨å¤–éƒ¨å¯¹è±¡å®ä¾‹ä¸­çš„ã€‚ ç±»çº§å†…éƒ¨ç±»ä¸­ï¼Œå¯ä»¥å®šä¹‰é™æ€çš„æ–¹æ³•ã€‚åœ¨å†…éƒ¨ç±»çš„é™æ€æ–¹æ³•ä¸­åªèƒ½å¤Ÿå¼•ç”¨å¤–éƒ¨ç±»ä¸­çš„é™æ€æˆå‘˜æ–¹æ³•æˆ–è€…æˆå‘˜å˜é‡ã€‚ ç±»çº§å†…éƒ¨ç±»ç›¸å½“äºå…¶å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šè¢«è£…è½½ã€‚ JVMéšå«æ‰§è¡ŒåŒæ­¥çš„æƒ…å†µï¼š ç”±é™æ€åˆå§‹åŒ–å™¨ï¼ˆåœ¨é™æ€å­—æ®µä¸Šæˆ–static{}å—ä¸­çš„åˆå§‹åŒ–å™¨ï¼‰åˆå§‹åŒ–æ•°æ®æ—¶ è®¿é—®finalå­—æ®µæ—¶ åœ¨åˆ›å»ºçº¿ç¨‹ä¹‹å‰åˆ›å»ºå¯¹è±¡æ—¶ çº¿ç¨‹å¯ä»¥çœ‹è§å®ƒå°†è¦å¤„ç†çš„å¯¹è±¡æ—¶ 123456789101112131415161718192021public class LazyStaticInnerClassSingleton &#123; /** * ç±»çº§çš„å†…éƒ¨ç±»ï¼Œä¹Ÿå°±æ˜¯é™æ€çš„æˆå‘˜å¼å†…éƒ¨ç±»ï¼Œè¯¥å†…éƒ¨ç±»çš„å®ä¾‹ä¸å¤–éƒ¨ç±»çš„å®ä¾‹æ²¡æœ‰ç»‘å®šå…³ç³»ï¼Œ * è€Œä¸”åªæœ‰è¢«è°ƒç”¨åˆ°æ‰ä¼šè£…è½½ï¼Œä»è€Œå®ç°äº†å»¶è¿ŸåŠ è½½ */ private static class SingletonHolder&#123; /** * é™æ€åˆå§‹åŒ–å™¨ï¼Œç”±JVMæ¥ä¿è¯çº¿ç¨‹å®‰å…¨ */ private static LazyStaticInnerClassSingleton instance = new LazyStaticInnerClassSingleton(); &#125; /** * ç§æœ‰åŒ–æ„é€ æ–¹æ³• */ private LazyStaticInnerClassSingleton()&#123; &#125; public static LazyStaticInnerClassSingleton getInstance()&#123; return SingletonHolder.instance; &#125;&#125; è§£å†³åå°„ç ´åå•ä¾‹é—®é¢˜ 123456789101112131415161718192021222324public class LazyStaticInnerClassSingleton &#123; /** * ç±»çº§çš„å†…éƒ¨ç±»ï¼Œä¹Ÿå°±æ˜¯é™æ€çš„æˆå‘˜å¼å†…éƒ¨ç±»ï¼Œè¯¥å†…éƒ¨ç±»çš„å®ä¾‹ä¸å¤–éƒ¨ç±»çš„å®ä¾‹æ²¡æœ‰ç»‘å®šå…³ç³»ï¼Œ * è€Œä¸”åªæœ‰è¢«è°ƒç”¨åˆ°æ‰ä¼šè£…è½½ï¼Œä»è€Œå®ç°äº†å»¶è¿ŸåŠ è½½ */ private static class SingletonHolder&#123; /** * é™æ€åˆå§‹åŒ–å™¨ï¼Œç”±JVMæ¥ä¿è¯çº¿ç¨‹å®‰å…¨ */ private static LazyStaticInnerClassSingleton instance = new LazyStaticInnerClassSingleton(); &#125; /** * ç§æœ‰åŒ–æ„é€ æ–¹æ³• */ private LazyStaticInnerClassSingleton()&#123; if (LazyStaticInnerClassSingleton.instance != null)&#123; throw new RuntimeException(\"ä¸å…è®¸åˆ›å»ºå¤šä¸ªå®ä¾‹\") &#125; &#125; public static LazyStaticInnerClassSingleton getInstance()&#123; return SingletonHolder.instance; &#125;&#125; æšä¸¾å¼å•ä¾‹ è™½ç„¶é™æ€å†…éƒ¨ç±»å¼å·²ç»æ¥è¿‘å®Œç¾äº†ï¼Œä½†è¿˜ä¸å¤Ÿä¼˜é›…ï¼Œè¿˜æœ‰æ²¡æœ‰æ›´ä¼˜é›…çš„å†™æ³•å‘¢ï¼Ÿâ€”&gt;æšä¸¾å¼å•ä¾‹ å¯¹æšä¸¾çš„è§‚ç‚¹ï¼š Javaçš„æšä¸¾ç±»å‹å®è´¨ä¸Šæ˜¯åŠŸèƒ½é½å…¨çš„ç±»ï¼Œå› æ­¤å¯ä»¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚ Javaæšä¸¾ç±»å‹çš„åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡å…¬æœ‰çš„é™æ€finalåŸŸä¸ºæ¯ä¸ªæšä¸¾å¸¸é‡å¯¼å‡ºå®ä¾‹çš„ç±»ã€‚ ä»æŸä¸ªè§’åº¦è®²ï¼Œæšä¸¾æ˜¯å•ä¾‹çš„æ³›å‹åŒ–ï¼Œæœ¬è´¨ä¸Šæ˜¯å•å…ƒç´ çš„æšä¸¾ã€‚ 12345678910111213public enum Singleton &#123; /** * å®šä¹‰ä¸€ä¸ªæšä¸¾çš„å…ƒç´ ,å®ƒå°±ä»£è¡¨äº†Singletonçš„ä¸€ä¸ªå®ä¾‹ */ uniqueInstance; /** * ç¤ºæ„æ–¹æ³•ï¼Œå•ä¾‹å¯ä»¥æœ‰è‡ªå·±çš„æ“ä½œ */ public void singletonOperation()&#123; //åŠŸèƒ½å¤„ç† &#125;&#125; ä½¿ç”¨æšä¸¾æ¥å®ç°å•å®ä¾‹æ§åˆ¶ä¼šæ›´åŠ ç®€æ´ï¼Œè€Œä¸”æ— å¿åœ°æä¾›äº†é˜²åºåˆ—åŒ–ï¼ˆéœ€è¦å¢åŠ readResoveæ–¹æ³•ï¼‰ã€åå°„ç ´åçš„æœºåˆ¶ï¼Œå¹¶ç”±JVMä»æ ¹æœ¬ä¸Šæä¾›ä¿éšœï¼Œç»å¯¹é˜²æ­¢å¤šæ¬¡å®ä¾‹åŒ–ï¼Œæ˜¯æ›´ç®€æ´ã€é«˜æ•ˆã€å®‰å…¨çš„å®ç°å•ä¾‹çš„æ–¹å¼ã€‚è‡³äºä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆç©ï¼Œå¯ä»¥çœ‹ã€Šè®¾è®¡æ¨¡å¼å°±è¯¥è¿™æ ·å­¦ï¼šåŸºäºç»å…¸æ¡†æ¶æºç å’ŒçœŸå®ä¸šåŠ¡åœºæ™¯ã€‹ä¸­çš„æºç åˆ†æ å®¹å™¨å¼å•ä¾‹ é€‚ç”¨äºéœ€è¦å¤§é‡åˆ›å»ºå•ä¾‹å¯¹è±¡çš„åœºæ™¯ï¼Œä¾¿äºç®¡ç†ï¼Œä½†å®ƒæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚Springä¸­æœ‰ç”¨åˆ°å®¹å™¨å¼å•ä¾‹çš„å†™æ³•ã€‚å®¹å™¨ä¸€èˆ¬å°±æ˜¯ä¸€ä¸ªMap 123456789101112131415161718192021public class ContainerSingleton &#123; private ContainerSingleton()&#123;&#125; private static Map&lt;String, Object&gt; ioc = new ConcurrentHashMap&lt;&gt;(); public static Object getBean(String className) &#123; synchronized (ioc) &#123; if (!ioc.containsKey(className)) &#123; Object obj = null; try &#123; obj = Class.forName(className).newInstance(); ioc.put(className, obj); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; return obj; &#125; else &#123; return ioc.get(className) &#125; &#125; &#125;&#125; æ¨¡å¼è®²è§£ï¼š å•ä¾‹æ¨¡å¼çš„èŒƒå›´ä¸ºä¸€ä¸ªè™šæ‹Ÿæœºçš„èŒƒå›´ï¼Œå› ä¸ºåŠ è½½ç±»çš„è½½ç±»çš„åŠŸèƒ½æ˜¯è™šæ‹Ÿæœºçš„ï¼Œä¸€ä¸ªè™šæ‹Ÿæœºåœ¨é€šè¿‡è‡ªå·±çš„ClassLoader è£…è½½é¥¿æ±‰å¼å®ç°å•ä¾‹ç±»çš„æ—¶å€™å°±ä¼šåˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ã€‚ â–²æ‰€ä»¥éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸€ä¸ªè™šæ‹Ÿæœºé‡Œé¢æœ‰å¾ˆå¤šä¸ªClassLoaderï¼Œè€Œä¸”è¿™äº›ClassLoaderéƒ½è£…è½½æŸä¸ªç±»çš„è¯(é’ˆå¯¹é¥¿æ±‰å¼)ï¼Œå°±ç®—è¿™ä¸ªç±»æ˜¯å•ä¾‹ï¼Œå®ƒä¹Ÿä¼šäº§ç”Ÿå¾ˆå¤šä¸ªå®ä¾‹ã€‚å½“ç„¶ï¼Œå¦‚æœä¸€ä¸ªæœºå™¨ä¸Šæœ‰å¤šä¸ªè™šæ‹Ÿæœºï¼Œé‚£ä¹ˆæ¯ä¸ªè™šæ‹Ÿæœºé‡Œé¢éƒ½åº”è¯¥è‡³å°‘æœ‰ä¸€ä¸ªè¿™ä¸ªç±»çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´æ•´ä¸ªæœºå™¨ã€‚æ‰€ä»¥è¿™è¾¹è®¨è®ºçš„å•ä¾‹éƒ½ä¸é€‚ç”¨äºé›†ç¾¤ç¯å¢ƒã€‚ â–²å•ä¾‹æ¨¡å¼çš„æœ¬è´¨ï¼šæ§åˆ¶å®ä¾‹æ•°ç›® åº”ç”¨åœºæ™¯ï¼š å¯¹äºJavaæ¥è¯´å•ä¾‹æ¨¡å¼å°±æ˜¯è¦ä¿è¯åœ¨ä¸€ä¸ªJVMä¸­åªå­˜åœ¨å•ä¸€å®ä¾‹ éœ€è¦é¢‘ç¹åˆ›å»ºçš„ä¸€äº›ç±»ï¼Œä½¿ç”¨å•ä¾‹å¯ä»¥é™ä½ç³»ç»Ÿçš„å†…å­˜å‹åŠ›ï¼Œå‡å°‘GC æŸäº›ç±»åˆ›å»ºå®ä¾‹æ—¶å ç”¨èµ„æºè¾ƒå¤šï¼Œæˆ–å®ä¾‹åŒ–è€—æ—¶è¾ƒé•¿ï¼Œä¸”ç»å¸¸ä½¿ç”¨ é¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶çš„å¯¹è±¡ å¯¹äºä¸€äº›æ§åˆ¶ç¡¬ä»¶çº§åˆ«çš„æ“ä½œï¼Œæˆ–è€…ä»ç³»ç»Ÿä¸Šæ¥è®²åº”å½“æ˜¯å•ä¸€æ§åˆ¶é€»è¾‘çš„æ“ä½œï¼Œå¦‚æœæœ‰å¤šä¸ªå®ä¾‹ï¼Œåˆ™æ— æ³•ä¿è¯é€»è¾‘çš„ç»Ÿä¸€æ€§ã€‚ p.s. æŠ½è±¡å·¥å‚æ¨¡å¼ä¸­å…·ä½“çš„å·¥å‚ç±»å°±æ˜¯ä¸€ä¸ªå•ä¾‹ å•ä¾‹æ¨¡å¼çš„ä¼˜ç‚¹ï¼š å¯ä»¥ä¿è¯å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå‡å°‘äº†å†…å­˜çš„å¼€é”€ å¯ä»¥é¿å…å¯¹èµ„æºçš„å¤šé‡å ç”¨ è®¾ç½®å…¨å±€è®¿é—®ç‚¹ï¼Œå¯ä»¥ä¼˜åŒ–å’Œå…±äº«èµ„æºçš„è®¿é—® å•ä¾‹æ¨¡å¼çš„ç¼ºç‚¹ï¼š æ²¡æœ‰æ¥å£ï¼Œæ‰©å±•å›°éš¾ã€‚å¦‚æœè¦æ‰©å±•ï¼Œåˆ™é™¤äº†ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œæ²¡æœ‰ç¬¬äºŒç§é€”å¾„ï¼Œ è¿èƒŒäº†å¼€é—­åŸåˆ™ã€‚å¥½åœ¨çš„æ˜¯ï¼Œä¸€èˆ¬ä¿®æ”¹å•ä¾‹ä¹Ÿæ¯”è¾ƒç®€å• åœ¨å¹¶å‘æµ‹è¯•ä¸­ï¼Œå•ä¾‹ä¸åˆ©äºä»£ç è°ƒè¯•ã€‚åœ¨è°ƒè¯•è¿‡ç¨‹æ€»ï¼Œå¦‚æœå•ä¾‹ä»£ç æ²¡æœ‰æ‰§è¡Œå®Œï¼Œä¹Ÿä¸èƒ½æ¨¡æ‹Ÿç”Ÿæˆä¸€ä¸ªæ¶å¿ƒçš„å¯¹è±¡ å•ä¾‹æ¨¡å¼çš„åŠŸèƒ½ä»£ç é€šå¸¸å†™åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå¦‚æœåŠŸèƒ½è®¾è®¡ä¸åˆç†ï¼Œå¾ˆå®¹æ˜“è¿èƒŒå•ä¸€èŒè´£åŸåˆ™ é™„å½• Lazy load-&gt;ç¼“å­˜æ€æƒ³ ç¼“å­˜ä½¿ç”¨åœºæ™¯ï¼šå½“æŸäº›èµ„æºæˆ–è€…æ•°æ®è¢«é¢‘ç¹åœ°ä½¿ç”¨ï¼Œè€Œè¿™äº›èµ„æºæˆ–æ•°æ®å­˜å‚¨åœ¨ç³»ç»Ÿå¤–éƒ¨ï¼Œæ¯”å¦‚æ•°æ®åº“ã€ç¡¬ç›˜æ–‡ä»¶ç­‰ï¼Œé‚£ä¹ˆæ¯æ¬¡æ“ä½œè¿™äº›æ•°æ®çš„æ—¶å€™éƒ½å¾—ä»æ•°æ®åº“æˆ–è€…ç¡¬ç›˜ä¸Šå»è·å–ï¼Œé€Ÿåº¦ä¼šå¾ˆæ…¢ï¼Œå°†é€ æˆæ€§èƒ½é—®é¢˜ã€‚ ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ³•å°±æ˜¯ï¼šæŠŠè¿™äº›æ•°æ®ç¼“å­˜åˆ°å†…å­˜é‡Œé¢ï¼Œæ¯æ¬¡æ“ä½œçš„æ—¶å€™ï¼Œå…ˆåˆ°å†…å­˜é‡Œé¢æ‰¾ï¼Œçœ‹æœ‰æ²¡æœ‰è¿™äº›æ•°æ®ï¼Œå¦‚æœæœ‰ï¼Œå°±ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰å°±è·å–å®ƒï¼Œå¹¶è®¾ç½®åˆ°ç¼“å­˜ä¸­ï¼Œä¸‹ä¸€æ¬¡è®¿é—®çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥ä»å†…å­˜ä¸­è·å–äº†ï¼Œä»è€ŒèŠ‚çœå¤§é‡çš„æ—¶é—´ã€‚å½“ç„¶ï¼Œç¼“å­˜æ˜¯ä¸€ç§å…¸å‹çš„ç©ºé—´æ¢æ—¶é—´çš„æ–¹æ¡ˆã€‚ ç¼“å­˜åŸºæœ¬å®ç° åœ¨Javaå¼€å‘ä¸­æœ€å¸¸è§çš„ä¸€ç§å®ç°ç¼“å­˜çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨Mapï¼ŒåŸºæœ¬æ­¥éª¤å¦‚ä¸‹ã€‚ ï¼ˆ1ï¼‰å…ˆåˆ°ç¼“å­˜é‡Œé¢æŸ¥æ‰¾ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨éœ€è¦ä½¿ç”¨çš„æ•°æ®ã€‚ ï¼ˆ2ï¼‰å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±åˆ›å»ºä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„æ•°æ®ï¼Œç„¶åæŠŠè¿™ä¸ªæ•°æ®è®¾ç½®åˆ°ç¼“å­˜ä¸­ï¼Œä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨ã€‚å¦‚æœæ‰¾åˆ°äº†ç›¸åº”çš„æ•°æ®ï¼Œæˆ–è€…æ˜¯åˆ›å»ºäº†ç›¸åº”çš„æ•°æ®ï¼Œé‚£å°±ç›´æ¥ä½¿ç”¨è¿™ä¸ªæ•°æ®ã€‚ å¤šä¾‹æ§åˆ¶æ¨¡å¼ â–²å•ä¾‹æ¨¡å¼çš„æœ¬è´¨ï¼šæ§åˆ¶å®ä¾‹æ•°ç›®ï¼Œåªè¦æŒ‰ç…§è¿™ç§æ€æƒ³ï¼Œæˆ‘ä»¬é™¤äº†æ§åˆ¶å•ä¾‹ä»¥å¤–ï¼Œè¿˜å¯ä»¥é™åˆ¶å®ä¾‹å…·ä½“æ•°ç›®ä¸º2ã€3ã€4â€¦ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package cn.javass.dp.singleton.example9;import java.util.*;/** * ç®€å•æ¼”ç¤ºå¦‚ä½•æ‰©å±•å•ä¾‹æ¨¡å¼ï¼Œæ§åˆ¶å®ä¾‹æ•°ç›®ä¸º3ä¸ª */public class OneExtend &#123; /** * å®šä¹‰ä¸€ä¸ªç¼ºçœçš„keyå€¼çš„å‰ç¼€ */ private final static String DEFAULT_PREKEY = \"Cache\"; /** * ç¼“å­˜å®ä¾‹çš„å®¹å™¨ */ private static Map&lt;String,OneExtend&gt; map = new HashMap&lt;String,OneExtend&gt;(); /** * ç”¨æ¥è®°å½•å½“å‰æ­£åœ¨ä½¿ç”¨ç¬¬å‡ ä¸ªå®ä¾‹ï¼Œåˆ°äº†æ§åˆ¶çš„æœ€å¤§æ•°ç›®ï¼Œå°±è¿”å›ä»1å¼€å§‹ */ private static int num = 1; /** * å®šä¹‰æ§åˆ¶å®ä¾‹çš„æœ€å¤§æ•°ç›® */ private final static int NUM_MAX = 3; private OneExtend()&#123;&#125; public static OneExtend getInstance()&#123; String key = DEFAULT_PREKEY+num; OneExtend oneExtend = map.get(key); if(oneExtend==null)&#123; oneExtend = new OneExtend(); map.put(key, oneExtend); &#125; //æŠŠå½“å‰å®ä¾‹çš„åºå·åŠ 1 num++; if(num &gt; NUM_MAX)&#123; //å¦‚æœå®ä¾‹çš„åºå·å·²ç»è¾¾åˆ°æœ€å¤§æ•°ç›®äº†ï¼Œé‚£å°±é‡å¤ä»1å¼€å§‹è·å– num = 1; &#125; return oneExtend; &#125; public static void main(String[] args) &#123; OneExtend t1 = getInstance(); OneExtend t2 = getInstance(); OneExtend t3 = getInstance(); OneExtend t4 = getInstance(); OneExtend t5 = getInstance(); OneExtend t6 = getInstance(); System.out.println(\"t1==\"+t1); System.out.println(\"t2==\"+t2); System.out.println(\"t3==\"+t3); System.out.println(\"t4==\"+t4); System.out.println(\"t5==\"+t5); System.out.println(\"t6==\"+t6); &#125;&#125;","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜3â€”â€”å›¾åƒæ¢å¤","slug":"æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜3â€”â€”å›¾åƒæ¢å¤","date":"2020-12-09T05:20:46.000Z","updated":"2020-12-17T07:27:31.056Z","comments":true,"path":"2020/12/09/æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜3â€”â€”å›¾åƒæ¢å¤/","link":"","permalink":"https://nymrli.top/2020/12/09/æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜3â€”â€”å›¾åƒæ¢å¤/","excerpt":"","text":"ä¹ é¢˜3 - å›¾åƒæ¢å¤ 3.1 å®éªŒå†…å®¹ å›¾åƒæ˜¯ä¸€ç§éå¸¸å¸¸è§çš„ä¿¡æ¯è½½ä½“ï¼Œä½†æ˜¯åœ¨å›¾åƒçš„è·å–ã€ä¼ è¾“ã€å­˜å‚¨çš„è¿‡ç¨‹ä¸­å¯èƒ½ç”±äºå„ç§åŸå› ä½¿å¾—å›¾åƒå—åˆ°å™ªå£°çš„å½±å“â€”â€”ç§°ä¸ºå›¾åƒé€€åŒ–ã€‚å›¾åƒå¤åŸå°±æ˜¯é‡å»ºé€€åŒ–çš„å›¾åƒï¼Œä½¿å…¶æœ€å¤§é™åº¦æ¢å¤æ™¯ç‰©åŸè²Œçš„å¤„ç†ã€‚å¦‚ä½•å»é™¤å™ªå£°çš„å½±å“ï¼Œæ¢å¤å›¾åƒåŸæœ¬çš„ä¿¡æ¯æ˜¯è®¡ç®—æœºè§†è§‰ä¸­çš„é‡è¦ç ”ç©¶é—®é¢˜ã€‚ å¸¸è§çš„å›¾åƒæ¢å¤ç®—æ³•æœ‰åŸºäºç©ºé—´åŸŸçš„ä¸­å€¼æ»¤æ³¢ã€åŸºäºå°æ³¢åŸŸçš„å°æ³¢å»å™ªã€åŸºäºåå¾®åˆ†æ–¹ç¨‹çš„éçº¿æ€§æ‰©æ•£æ»¤æ³¢ç­‰ï¼Œåœ¨æœ¬æ¬¡å®éªŒä¸­ï¼ŒğŸ“Œæˆ‘ä»¬è¦å¯¹å›¾åƒæ·»åŠ å™ªå£°ï¼Œå¹¶å¯¹æ·»åŠ å™ªå£°çš„å›¾åƒè¿›è¡ŒåŸºäºæ¨¡å‹çš„å»å™ªã€‚ 3.2 å®éªŒè¦æ±‚ A. ç”Ÿæˆå—æŸå›¾åƒã€‚ a) å—æŸå›¾åƒæ˜¯ç”±åŸå§‹å›¾åƒæ·»åŠ äº†ä¸åŒå™ªå£°é®ç½©ï¼ˆnoise masksï¼‰å¾—åˆ°çš„ã€‚ b) å™ªå£°é®ç½©ä»…åŒ…å« {0,1} å€¼ã€‚å¯¹åŸå›¾çš„å™ªå£°é®ç½©çš„å¯ä»¥æ¯è¡Œåˆ†åˆ«ç”¨ 0.8/0.4/0.6 çš„å™ªå£°æ¯”ç‡äº§ç”Ÿçš„ï¼Œå³å™ªå£°é®ç½©æ¯ä¸ªé€šé“æ¯è¡Œ 80%/40%/60% çš„åƒç´ å€¼ä¸º 0ï¼Œå…¶ä»–ä¸º 1ã€‚ B. ä½¿ç”¨æ¨¡å‹ï¼Œè¿›è¡Œå›¾åƒæ¢å¤ã€‚ C. è¯„ä¼°è¯¯å·®ä¸ºæ‰€æœ‰æ¢å¤å›¾åƒä¸åŸå§‹å›¾åƒçš„ 2-èŒƒæ•°ä¹‹å’Œï¼Œæ­¤è¯¯å·®è¶Šå°è¶Šå¥½ï¼Œå…¶ä»–è¯„ä¼°æ–¹å¼åŒ…æ‹¬ Cosine ç›¸ä¼¼åº¦ä»¥åŠ SSIM ç›¸ä¼¼åº¦ã€‚ D. æäº¤ç¨‹åºæŠ¥å‘Š,è¯·åœ¨æœ¬åœ°ç¼–è¾‘å¹¶å‘½åä¸ºã€ç¨‹åºæŠ¥å‘Š.docxã€æˆ–è€… ã€ç¨‹åºæŠ¥å‘Š.pdfã€åï¼Œ ä¸Šä¼ åˆ°å·¦ä¾§æ–‡ä»¶åˆ—è¡¨ä¸­ã€‚ 3.3 å®éªŒç¯å¢ƒ å¯ä»¥ä½¿ç”¨åŸºäºPythonçš„ OpenCV åº“è¿›è¡Œå›¾åƒç›¸å…³å¤„ç†ï¼Œä½¿ç”¨ Numpy åº“è¿›è¡Œç›¸å…³æ•°å€¼è¿ç®—ã€‚ 3.4 å‚è€ƒèµ„æ–™ OpenCVï¼šhttps://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_tutorials.html Numpyï¼šhttps://www.numpy.org/ notes å›¾åƒé€€åŒ–/å¤åŸè¿‡ç¨‹æ¨¡å‹ å›¾åƒå¤åŸå¤„ç†çš„è¿‡ç¨‹ è®¾åŸå§‹å›¾åƒ f(x,y),f(x, y),f(x,y), åˆ™é€€åŒ–åçš„å›¾åƒå¯ä»¥è¡¨ç¤ºä¸º g(x,y)=H[f(x,y)]+Î·(x,y)g(x, y)=H[f(x, y)]+\\eta(x, y) g(x,y)=H[f(x,y)]+Î·(x,y) å…¶ä¸­ HHH ä¸ºé€€åŒ–å‡½æ•°, Î·(x,y)\\eta(x, y)Î·(x,y) ä¸ºåŠ æ€§æŸ¬å£°, å¤åŸçš„æ—¥æ ‡æ˜¯å¾—åˆ°åŸºäºé€€åŒ–å›¾åƒçš„ä¸€ä¸ªä¼°è®¡ f^(x,y),\\hat{f}(x, y),f^â€‹(x,y), ä½¿å¾—å›¾åƒèƒ½å¤Ÿå°½å¯èƒ½åœ°è´´è¿‘åŸå§‹å›¾åƒã€‚ *è‹¥Hæ˜¯çº¿æ€§çš„ã€ç©ºé—´ä¸å˜çš„è¿‡ç¨‹, åˆ™é€€åŒ–å›¾åƒåœ¨ç©ºé—´é¢‘åŸŸä¸­å¯ä»¥è¡¨ç¤ºä¸º g(x,y)=h(x,y)âˆ—f(x,y)+Î·(x,y)g(x, y)=h(x, y) * f(x, y)+\\eta(x, y) g(x,y)=h(x,y)âˆ—f(x,y)+Î·(x,y) è¿›è¡Œå‚…ç«‹å¶å˜æ¢, æœ‰ G(u,v)=H(u,v)F(u,v)+N(u,v)G(u, v)=H(u, v) F(u, v)+N(u, v) G(u,v)=H(u,v)F(u,v)+N(u,v) 1. å›¾åƒå¢å¼ºä¸å›¾åƒå¤åŸçš„åŒºåˆ« å›¾åƒå¢å¼ºçš„ç›®çš„æ˜¯æ¶ˆé™¤å™ªå£°ï¼Œæ˜¾ç°é‚£äº›è¢«æ¨¡ç³Šäº†çš„ç»†èŠ‚æˆ–ç®€å•åœ°çªå‡ºä¸€å¹…å›¾åƒä¸­è¯»è€…æ„Ÿå…´è¶£çš„ç‰¹å¾ï¼Œä¸è€ƒè™‘å›¾åƒè´¨é‡ä¸‹é™çš„åŸå› ã€‚å›¾åƒå¤åŸæ˜¯åˆ©ç”¨é€€åŒ–ç°è±¡çš„æŸç§å…ˆéªŒçŸ¥è¯†ï¼Œå»ºç«‹é€€åŒ–ç°è±¡çš„æ•°å­¦æ¨¡å‹ï¼Œå†æ ¹æ®æ¨¡å‹è¿›è¡Œåå‘çš„æ¨æ¼”è¿ç®—ï¼Œä»¥æ¢å¤åŸæ¥çš„æ™¯ç‰©å›¾åƒã€‚å› è€Œï¼Œå›¾åƒå¤åŸå¯ä»¥ç†è§£ä¸ºå›¾åƒé™è´¨è¿‡ç¨‹çš„åå‘è¿‡ç¨‹ã€‚å»ºç«‹å›¾åƒå¤åŸçš„åå‘è¿‡ç¨‹çš„æ•°å­¦æ¨¡å‹ï¼Œå°±æ˜¯å›¾åƒå¤åŸçš„ä¸»è¦ä»»åŠ¡ã€‚ç»è¿‡åå‘è¿‡ç¨‹çš„æ•°å­¦æ¨¡å‹çš„è¿ç®—ï¼Œè¦æƒ³æ¢å¤å…¨çœŸçš„æ™¯ç‰©å›¾åƒæ¯”è¾ƒå›°éš¾ã€‚æ‰€ä»¥ï¼Œ å›¾åƒå¤åŸæœ¬èº«å¾€å¾€éœ€è¦æœ‰ä¸€ä¸ªè´¨é‡æ ‡å‡†ï¼Œ å³è¡¡é‡æ¥è¿‘å…¨çœŸæ™¯ç‰©å›¾åƒçš„ç¨‹åº¦ï¼Œæˆ–è€…è¯´ï¼Œå¯¹åŸå›¾åƒçš„ä¼°è®¡æ˜¯å¦åˆ°è¾¾æœ€ä½³çš„ç¨‹åº¦ã€‚ 2. å™ªå£°æ¨¡å‹ï¼š å™ªå£°ä¸»è¦æ¥æºäºå›¾åƒçš„è·å–å’Œä¼ è¾“è¿‡ç¨‹ã€‚ ï¼ˆ1ï¼‰å›¾åƒä¼ æ„Ÿå™¨çš„å·¥ä½œæƒ…å†µå—å„ç§å› ç´ çš„å½±å“ï¼Œå¦‚å›¾åƒè·å–ä¸­çš„ç¯å¢ƒæ¡ä»¶å’Œä¼ æ„Ÿå™¨å…ƒå™¨ä»¶è‡ªèº«çš„è´¨é‡ã€‚ ï¼ˆ2ï¼‰å›¾åƒåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸»è¦ç”±äºæ‰€ç”¨ä¼ è¾“ä¿¡é“è¢«å¹²æ‰°è€Œå—åˆ°å™ªå£°æ±¡æŸ“ã€‚ **å™ªå£°ç§ç±»ï¼š**é«˜æ–¯å™ªå£°ã€ç‘åˆ©å™ªå£°ã€ä¼½é©¬å™ªå£°ã€æŒ‡æ•°å™ªå£°ã€å‡åŒ€åˆ†å¸ƒå™ªå£°ã€è„‰å†²å™ªå£°ï¼ˆæ¤’ç›å™ªå£°ï¼‰ 12345678910111213141516171819202122232425x=-4:.1:4;subplot(321)Y1=show_noise_pdf('gaussian',x,0,1);plot(x,Y1);title('é«˜æ–¯');subplot(322)Y2=show_noise_pdf('uniform',x,-3,3);plot(x,Y2);title('å‡åŒ€');subplot(323)Y3=show_noise_pdf('salt &amp; pepper',x);plot(x,Y3);title('æ¤’ç›');subplot(324)Y4=show_noise_pdf('rayleigh',x,1);plot(x,Y4);title('ç‘åˆ©');subplot(325)Y5=show_noise_pdf('exp',x,1);plot(x,Y5);title('æŒ‡æ•°');subplot(326)Y6=show_noise_pdf('gamma',x,2,5);plot(x,Y6);title('ä¼½é©¬'); å™ªå£°æ¦‚ç‡å¯†åº¦å‡½æ•°probability density functionï¼š é«˜æ–¯å™ªå£° æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼šp(z)=12Ï€Ïƒeâˆ’(zâˆ’Î¼)22Ïƒ2p(z)=\\frac{1}{\\sqrt{2Ï€Ïƒ}}e^{âˆ’\\frac{(zâˆ’Î¼)^2}{2Ïƒ^2}}p(z)=2Ï€Ïƒâ€‹1â€‹eâˆ’2Ïƒ2(zâˆ’Î¼)2â€‹ å‡å€¼ï¼šÎ¼Î¼Î¼ æ–¹å·®ï¼šÏƒ2Ïƒ^2Ïƒ2 é«˜æ–¯å™ªå£°æ˜¯ä¸€ä¸ªå‡å€¼ä¸º 0 æ–¹å·®ä¸º $Ïƒ_n^2 $çš„æ­£æ€åˆ†å¸ƒï¼Œæ˜¯ä¸€ä¸ªåŠ æ€§å™ªå£°ï¼ˆåœ¨åŸå›¾çš„åŸºç¡€ä¸ŠåŠ ä¸Šå™ªå£°å³ä¸ºåŠ å™ªåçš„å›¾è±¡ï¼‰ã€‚ä½†è¦æ­£ç¡®åœ°ç»™å›¾ç‰‡æ·»åŠ é«˜æ–¯å™ªå£°ï¼Œè¿˜è¦å–å†³äºç¨‹åºä¸­è¯»å…¥å›¾ç‰‡çš„æ•°æ®æ ¼å¼ã€‚ ç‘åˆ©å™ªå£° æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š p(z)={2b(zâˆ’a)eâˆ’(zâˆ’a)2/b,zâ‰¥a0,z&lt;a å‡å€¼ï¼š Î¼=a+Ï€b/4 æ–¹å·®: Ïƒ2=b(4âˆ’Ï€)4\\begin{aligned} &amp;\\text { æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š }\\\\ &amp;p(z)=\\left\\{\\begin{array}{ll} \\frac{2}{b}(z-a) e^{-(z-a)^{2} / b}, &amp; z \\geq a \\\\ 0, &amp; z&lt;a \\end{array}\\right.\\\\ &amp;\\text { å‡å€¼ï¼š } \\mu=a+\\sqrt{\\pi b} / 4\\\\ &amp;\\text { æ–¹å·®: } \\sigma^{2}=\\frac{b(4-\\pi)}{4} \\end{aligned} â€‹ æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š p(z)={b2â€‹(zâˆ’a)eâˆ’(zâˆ’a)2/b,0,â€‹zâ‰¥az&lt;aâ€‹ å‡å€¼ï¼š Î¼=a+Ï€bâ€‹/4 æ–¹å·®: Ïƒ2=4b(4âˆ’Ï€)â€‹â€‹ æ›²çº¿ï¼š ä¼½é©¬ï¼ˆçˆ±å°”å…°ï¼‰å™ªå£° æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š p(z)={abz(bâˆ’1)(bâˆ’1)!eâˆ’az,zâ‰¥00,z&lt;0 å‡å€¼ï¼š Î¼=ba æ–¹å·®ï¼š Ïƒ2=ba2\\begin{aligned} &amp;\\text { æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š }\\\\ &amp;p(z)=\\left\\{\\begin{array}{ll} \\frac{a^{b} z^{(b-1)}}{(b-1) !} e^{-a z}, &amp; z \\geq 0 \\\\ 0, &amp; z&lt;0 \\end{array}\\right.\\\\ &amp;\\text { å‡å€¼ï¼š } \\mu=\\frac{b}{a}\\\\ &amp;\\text { æ–¹å·®ï¼š } \\sigma^{2}=\\frac{b}{a^{2}} \\end{aligned} â€‹ æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š p(z)={(bâˆ’1)!abz(bâˆ’1)â€‹eâˆ’az,0,â€‹zâ‰¥0z&lt;0â€‹ å‡å€¼ï¼š Î¼=abâ€‹ æ–¹å·®ï¼š Ïƒ2=a2bâ€‹â€‹ æ›²çº¿ï¼š æ³¨æ„ï¼šåªæœ‰å½“åˆ†æ¯æ˜¯Î“(b)Î“(b)æ—¶ï¼Œæ‰æ˜¯ä¼½é©¬å™ªå£°ï¼Œå¦‚è¡¨è¾¾å¼ä¸­çš„ï¼Œè¯¥å¯†åº¦è¿‘ä¼¼ç§°ä¸ºçˆ±å°”å…°å¯†åº¦ æŒ‡æ•°åˆ†å¸ƒå™ªå£° æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š p(z)={aeâˆ’az,zâ‰¥00,z&lt;0 å‡å€¼: Î¼=1a æ–¹å·®ï¼š Ïƒ2=1a2\\begin{aligned} &amp;\\text { æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š }\\\\ &amp;p(z)=\\left\\{\\begin{array}{ll} a e^{-a z}, &amp; z \\geq 0 \\\\ 0, &amp; z&lt;0 \\end{array}\\right.\\\\ &amp;\\text { å‡å€¼: } \\mu=\\frac{1}{a}\\\\ &amp;\\text { æ–¹å·®ï¼š } \\sigma^{2}=\\frac{1}{a^{2}} \\end{aligned} â€‹ æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š p(z)={aeâˆ’az,0,â€‹zâ‰¥0z&lt;0â€‹ å‡å€¼: Î¼=a1â€‹ æ–¹å·®ï¼š Ïƒ2=a21â€‹â€‹ è„‰å†²ï¼ˆæ¤’ç›ï¼‰å™ªå£° æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š åŒæè„‰å†²å£å£° p(z)={Pa,z=aPb,z=b0, å…¶ä»– p(z)=\\left\\{\\begin{array}{ll}P_{a}, &amp; z=a \\\\ P_{b}, &amp; z=b \\\\ 0, &amp; \\text { å…¶ä»– }\\end{array}\\right.p(z)=â©â¨â§â€‹Paâ€‹,Pbâ€‹,0,â€‹z=az=b å…¶ä»– â€‹ å¦‚æœb&gt;aï¼Œç°åº¦å€¼båœ¨å›¾åƒä¸­å°†æ˜¾ç¤ºä¸ºä¸€ä¸ªäº®ç‚¹ï¼Œç›¸åï¼Œaçš„å€¼å°†æ˜¾ç¤ºä¸ºä¸€ä¸ªæš—ç‚¹ã€‚è‹¥Paæˆ–Pbä¸ºé›¶ï¼Œåˆ™è„‰å†²å™ªå£°ä¸ºå•æè„‰å†²ã€‚å¦‚æœä¸¤è€…éƒ½ä¸ä¸ºé›¶ï¼Œå°¤å…¶åœ¨å®ƒä»¬è¿‘ä¼¼ç›¸ç­‰æ—¶ï¼Œè„‰å†²å™ªå£°å°†ç±»ä¼¼äºéšæœºåˆ†å¸ƒåœ¨å›¾åƒä¸Šçš„èƒ¡æ¤’å’Œç›ç²‰å¾®ç²’ï¼Œå› æ­¤åŒæè„‰å†²å™ªå£°ä¹Ÿç§°ä¸ºæ¤’ç›å™ªå£°ã€‚ 3. ç©ºé—´æ»¤æ³¢ å›¾åƒæ»¤æ³¢å™¨åˆå«åšæ©æ¨¡ã€æ ¸ã€æ¨¡æ¿æˆ–çª—å£ï¼Œæ˜¯ä¸åŸå›¾åƒçš„å­å›¾åƒæœ‰ç›¸åŒç»´æ•°çš„å­å›¾åƒï¼Œæ»¤æ³¢å™¨å­å›¾åƒä¸­çš„å€¼æ˜¯ç³»æ•°å€¼ï¼Œä¸æ˜¯åƒç´ å€¼ï¼Œæ»¤æ³¢å™¨çš„å¤„ç†ç»“æœæ˜¯å­å›¾åƒä¸­å¿ƒä½ç½®åƒç´ å€¼ç­‰äºè¢«æ©ä½ä½ç½®çš„åƒç´ å€¼ä¸æ»¤æ³¢å™¨ä¸­ç³»æ•°çš„ç‚¹ç§¯å’Œã€‚ æ— è®ºæ˜¯å¹³å‡å¹³æ»‘è¿˜æ˜¯é«˜æ–¯å¹³æ»‘ï¼Œåœ¨å¤„ç†å›¾åƒå™ªå£°æ—¶ï¼Œéƒ½æˆ–å¤šæˆ–å°‘ä¼šå¯¹å›¾ç‰‡äº§ç”Ÿä¸€å®šçš„æ¨¡ç³Šï¼ŒæŸå¤±éƒ¨åˆ†ä¿¡æ¯ã€‚è¾ƒä¸ºç†æƒ³çš„æƒ…å†µï¼Œæ˜¯å¯ä»¥é€‰æ‹©æ€§åœ°è¿›è¡Œæ»¤æ³¢ï¼Œåªåœ¨å™ªå£°åŒºåŸŸè¿›è¡Œå¹³æ»‘ï¼Œè€Œåœ¨æ— å™ªå£°åŒºåŸŸä¸è¿›è¡Œå¹³æ»‘ï¼Œå°†æ¨¡ç³Šçš„å½±å“é™åˆ°æœ€ä½ï¼Œè¿™å°±æ˜¯è‡ªé€‚åº”æ€§æ»¤æ³¢çš„æ€æƒ³ã€‚é€šå¸¸å™ªå£°çš„å­˜åœ¨ï¼Œå¯èƒ½ä¼šä½¿å¾—é™„è¿‘é‚»åŸŸå†…ï¼Œæå€¼çš„ä¸Šä¸‹å·®è·è¾ƒå¤§ï¼Œæˆ–è€…æ˜¯æ–¹å·®è¾ƒå¤§ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€å®šçš„é˜ˆå€¼æ¥åˆ¤æ–­è¯¥ç‚¹æ˜¯å¦éœ€è¦è¿›è¡Œå¹³æ»‘ã€‚ä¸è¿‡è¿™ä¸ªä¸æ˜¯è¯¥ç« èŠ‚çš„å†…å®¹ã€‚ â€‹ ä¸åŒçš„æ»¤æ³¢å™¨åœ¨å¤„ç†ä¸åŒç±»å‹çš„å™ªå£°æ˜¯æ•ˆæœä¸åŒï¼Œå¯¹äºçº¿æ€§å¹³æ»‘æ»¤æ³¢ï¼Œåœ¨å¤„ç†åƒç´ é‚»åŸŸå†…çš„å™ªå£°ç‚¹æ—¶ï¼Œå™ªå£°æˆ–å¤šæˆ–å°‘éƒ½ä¼šå½±å“è¯¥ç‚¹çš„åƒç´ å€¼è®¡ç®—(ä»¥é«˜æ–¯å¹³æ»‘ä¸ºä¾‹ï¼Œè·ç¦»è¿‘åˆ™å½±å“å¤§ï¼Œè·ç¦»è¿œåˆ™å½±å“å°ï¼Œä¸è·ç¦»çš„å¹³æ–¹å‘ˆåæ¯”)ï¼›ä½†æ˜¯ä¸­å€¼æ»¤æ³¢é€šå¸¸å¯ä»¥å°†å™ªå£°ç‚¹ç›´æ¥å¿½ç•¥æ‰ã€‚åŒæ—¶ï¼Œä¸­å€¼æ»¤æ³¢åœ¨é™å™ªçš„åŒæ—¶å¼•èµ·çš„æ¨¡ç³Šæ•ˆåº”è¾ƒä½ã€‚ä¸­å€¼æ»¤æ³¢çš„ä¸€ç§å…¸å‹åº”ç”¨ï¼Œå°±æ˜¯ç”¨æ¥æ¶ˆé™¤æ¤’ç›(salt &amp; pepper)å™ªå£°ã€‚ **ç©ºé—´æ»¤æ³¢å™¨ç§ç±»ï¼š**å‡å€¼æ»¤æ³¢å™¨ï¼ˆé€‚äºé«˜æ–¯å™ªå£°ï¼‰ã€ç»Ÿè®¡æ’åºæ»¤æ³¢å™¨ï¼ˆé€‚äºæ¤’ç›å™ªå£°ï¼‰ã€è‡ªé€‚åº”å±€éƒ¨å™ªå£°æ¶ˆé™¤æ»¤æ³¢å™¨ï¼ˆé€‚äºæ‰€æœ‰å™ªå£°ï¼‰ã€è‡ªé€‚åº”ä¸­å€¼æ»¤æ³¢å™¨ï¼ˆé€‚äºæ¤’ç›å™ªå£°ï¼‰ã€‚ ç©ºåŸŸæ»¤æ³¢å™¨åˆ†ä¸ºå¹³æ»‘æ»¤æ³¢å™¨å’Œé”åŒ–æ»¤æ³¢å™¨ï¼Œå¹³æ»‘æ»¤æ³¢ç”¨ç§¯åˆ†å®ç°ï¼Œé”åŒ–æ»¤æ³¢ç”¨å¾®åˆ†å®ç° å¹³æ»‘æ»¤æ³¢å™¨ï¼ˆä½é€šæ»¤æ³¢å™¨ï¼‰ï¼š------ä½“ç°ä¸€ç§å¹³å‡ï¼Œæ‰€ä»¥æ¨¡æ¿å‡ä¸‹æ¥ä¸€èˆ¬ä¸º1 ä½œç”¨ï¼š****æ¨¡ç³Šå¤„ç†****:å»é™¤å›¾åƒä¸­ä¸€äº›ä¸é‡è¦çš„ç»†èŠ‚ã€å‡å°å™ªå£° åˆ†ç±»ï¼š 1.çº¿æ€§æ»¤æ³¢å™¨ï¼šå‡å€¼æ»¤æ³¢å™¨ 2.éçº¿æ€§æ»¤æ³¢å™¨ï¼ˆä¸€èˆ¬æŒ‡ç»Ÿè®¡æ’åºæ»¤æ³¢å™¨ï¼‰ï¼š ä¸­å€¼æ»¤æ³¢å™¨ **é”åŒ–æ»¤æ³¢ï¼ˆé«˜é€šæ»¤æ³¢å™¨ï¼‰****-----**ä½“ç°ä¸€ç§æ’å€¼ï¼Œæ‰€ä»¥æ¨¡æ¿å‡ä¸‹æ¥æ˜¯0 ä½œç”¨ï¼š1.æå–å›¾åƒçš„è¾¹ç¼˜ä¿¡æ¯ã€2.çªå‡ºå›¾åƒè¾¹ç¼˜åŠç»†èŠ‚ã€3.æ‹Ÿè¡¥å¹³æ»‘æ»¤æ³¢é€ æˆçš„è¾¹ç¼˜æ¨¡ç³Š 3.1 å‡å€¼æ»¤æ³¢å™¨â€”â€”å‡å€¼æ»¤æ³¢å™¨ ç®—æœ¯å‡å€¼æ»¤æ³¢å™¨ æè¿°: f^(x,y)=âˆ‘(s,t)âˆˆSxyg(s,t)\\hat{f}(x, y)=\\sum_{(s, t) \\in S_{x y}} g(s, t)f^â€‹(x,y)=âˆ‘(s,t)âˆˆSxyâ€‹â€‹g(s,t) ç»“æœï¼šæ¨¡ç³Šäº†ç»“æœ, é™ä½äº†å£å£° é€‚ç”¨ï¼šé€‚ç”¨äºé«˜æ–¯å£å£°æˆ–å‡åŒ€éšæœºå™ªå£° å‡ ä½•å‡å€¼æ»¤æ³¢å™¨ æè¿°: f^(x,y)=[âˆ(s,t)âˆˆSxyg(s,t)]\\hat{f}(x, y)=\\left[\\prod_{(s, t) \\in S_{x y}} g(s, t)\\right]f^â€‹(x,y)=[âˆ(s,t)âˆˆSxyâ€‹â€‹g(s,t)] ç»“æœï¼šå’Œç®—æœ¯å‡å€¼æ»¤æ³¢å™¨ç›¸æ¯”, ä¸Ÿå¤±æ›´å°‘çš„ç»†èŠ‚ é€‚ç”¨ï¼šåŒç®—æœ¯å‡å€¼æ»¤æ³¢å™¨ è°æ³¢å‡å€¼æ»¤æ³¢å™¨ æè¿°: f^(x,y)=mnâˆ‘(z,y)âˆˆSzy1g(s,t)\\hat{f}(x, y)=\\frac{m n}{\\sum_{(z, y) \\in S_{z y}} \\frac{1}{g(s, t)}}f^â€‹(x,y)=âˆ‘(z,y)âˆˆSzyâ€‹â€‹g(s,t)1â€‹mnâ€‹ ç»“æœï¼šè°æ³¢å‡å€¼æ»¤æ³¢å™¨å¯¹äºâ€œç›â€å™ªå£°æ•ˆæœæ›´å¥½ï¼Œä½†æ˜¯ä¸é€‚ç”¨äºâ€œèƒ¡æ¤’â€å™ªå£°ã€‚ é€‚ç”¨ï¼šåƒé«˜æ–¯é‚£æ ·çš„å™ªå£° é€†è°æ³¢å‡å€¼æ»¤æ³¢å™¨ å…¶å®Qç§°ä¸ºæ»¤æ³¢å™¨çš„é˜¶æ•°ï¼Œå½“Qå€¼ä¸ºæ­£æ—¶ï¼Œæ»¤æ³¢å™¨ç”¨äºæ¶ˆé™¤â€œèƒ¡æ¤’â€å™ªå£°ï¼›å½“Qå€¼ä¸ºè´Ÿæ—¶ï¼Œæ»¤æ³¢å™¨ç”¨äºæ¶ˆé™¤â€œç›â€å™ªå£°ã€‚ä½†å®ƒä¸èƒ½åŒæ—¶æ¶ˆé™¤ä¸¤ç§å™ªå£°ï¼Œå½“Qå€¼ä¸º0æ—¶ï¼Œé€†è°æ³¢æ»¤æ³¢å™¨å˜ä¸ºç®—æœ¯å‡å€¼æ»¤æ³¢å™¨ï¼›å½“Qä¸º-1æ—¶ï¼Œé€†è°æ³¢å‡å€¼æ»¤æ³¢å™¨é€€å˜ä¸ºè°æ³¢å‡å€¼æ»¤æ³¢å™¨ã€‚ é€‚ç”¨ï¼šè„‰å†²å™ªå£° ç¼ºç‚¹ï¼šå¿…é¡»çŸ¥é“æ˜¯æ˜å™ªå£°è¿˜æ˜¯æš—å™ªå£° é«˜æ–¯æ»¤æ³¢ GaussianBlurï¼Œ kçª—å£å€¼éƒ½æ˜¯å¥‡æ•°ï¼Œå¦‚3ã€5ã€7ï¼Œè¶Šé è¿‘ä¸­å¿ƒçš„æƒé‡è¶Šå¤§ã€‚æ•´ä¸ªé«˜æ–¯æ ¸è·Ÿå›¾åƒçª—å£åšå·ç§¯åå–å…¶å€¼ 3.2 é¡ºåºç»Ÿè®¡æ»¤æ³¢å™¨â€”â€”éçº¿æ€§æ»¤æ³¢å™¨ ä¸­å€¼æ»¤æ³¢å™¨ æè¿°: f^(x,y)=medianâ¡(s,t)âˆˆSxy{g(s,t)}\\hat{f}(x, y)=\\operatorname{median}_{(s, t) \\in S_{x y}\\{g(s, t)\\}}f^â€‹(x,y)=median(s,t)âˆˆSxyâ€‹{g(s,t)}â€‹ï¼Œä¸­å€¼æ»¤æ³¢æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç»Ÿè®¡æ’åºæ»¤æ³¢å™¨ï¼Œæ˜¯ä»¥è¯¥ç‚¹ä¸ºä¸­å¿ƒçš„çš„é‚»åŸŸå†…çš„æ‰€æœ‰åƒç´ çš„ç»Ÿè®¡æ’åºä¸­å€¼ä½œä¸ºè¯¥ç‚¹çš„å“åº”ï¼›è€Œå¹³æ»‘å°±æ˜¯åŠ æƒå¹³å‡æ•°ä½œä¸ºå“åº”ï¼Œæ¦‚å¿µä¸Šæœ‰ä¸€å®šå·®åˆ«ã€‚ é€‚ç”¨ï¼šå¯¹å•ææˆ–åŒæè„‰å†²å™ªå£°éå¸¸æœ‰æ•ˆ è§†é¢‘è®²è§£ï¼šhttps://www.bilibili.com/video/BV1fQ4y1N7EP?from=search&amp;seid=11848827709822211739 æœ€å¤§å€¼æ»¤æ³¢å™¨ æè¿°: f^(x,y)=maxâ¡(s,t)âˆˆSzy{g(s,t)}\\hat{f}(x, y)=\\max _{(s, t) \\in S_{z y}}\\{g(s, t)\\}f^â€‹(x,y)=max(s,t)âˆˆSzyâ€‹â€‹{g(s,t)} ç»“æœ: é€‚ç”¨ï¼šå‘ç°å›¾åƒä¸­çš„æœ€äº®ç‚¹ï¼Œæ•…é€‚ç”¨äºå»é™¤â€œèƒ¡æ¤’â€å™ªå£°ï¼ˆé»‘è‰²ï¼‰ æœ€å°å€¼æ»¤æ³¢å™¨ æè¿°: f^(x,y)=minâ¡(s,t)âˆˆSxy{g(s,t)}\\hat{f}(x, y)=\\min _{(s, t) \\in S_{x y}}\\{g(s, t)\\}f^â€‹(x,y)=min(s,t)âˆˆSxyâ€‹â€‹{g(s,t)} é€‚ç”¨: å‘ç°å›¾åƒä¸­çš„æœ€æš—ç‚¹ï¼Œé€‚ç”¨äºå»é™¤â€œç›â€å™ªå£°ï¼ˆç™½è‰²ï¼‰ ä¸­ç‚¹æ»¤æ³¢å™¨ æè¿°: f^(x,y)=[maxâ¡(s,t)âˆˆSxy{g(s,t)}+minâ¡(s,t)âˆˆSxy{g(s,t)}]\\hat{f}(x, y)=\\left[\\max _{(s, t) \\in S_{x y}}\\{g(s, t)\\}+\\min _{(s, t) \\in S_{x y}}\\{g(s, t)\\}\\right]f^â€‹(x,y)=[max(s,t)âˆˆSxyâ€‹â€‹{g(s,t)}+min(s,t)âˆˆSxyâ€‹â€‹{g(s,t)}] é€‚ç”¨: ç»“åˆäº†é¡ºåºç»Ÿè®¡å’Œæ±‚å¹³å‡ï¼Œå¯¹é«˜æ–¯å’Œå‡åŒ€éšæœºåˆ†å¸ƒçš„å™ªå£°æœ‰å¾ˆå¥½çš„æ•ˆæœ ä¿®æ­£åçš„é˜¿å°”æ³•å‡å€¼æ»¤æ³¢é«” æè¿°: f^(x,y)=1mnâˆ‘(s,t)âˆˆSxy{gr(s,t)}\\hat{f}(x, y)=\\frac{1}{m n} \\sum_{(s, t) \\in S_{x y}}\\left\\{g_{r}(s, t)\\right\\}f^â€‹(x,y)=mn1â€‹âˆ‘(s,t)âˆˆSxyâ€‹â€‹{grâ€‹(s,t)} åœ¨SxyS_{xy}Sxyâ€‹é‚»åŸŸå†…å–ç‚¹gï¼ˆsï¼Œtï¼‰æœ€é«˜ç°åº¦å€¼çš„d/2å’Œæœ€ä½ç°åº¦å€¼çš„d/2ï¼Œç”¨gr(s,t)æ¥ä»£è¡¨å‰©ä½™çš„mn-dä¸ªåƒç´ ï¼Œç”±è¿™äº›å‰©ä½™åƒç´ ç‚¹çš„å¹³å‡å€¼å½¢æˆçš„æ»¤æ³¢å™¨ç§°ä¸ºä¿®æ­£åçš„é˜¿å°”æ³•å‡å€¼æ»¤æ³¢å™¨ å½“d=0æ—¶ï¼Œé€€å˜ä¸ºç®—æœ¯å‡å€¼æ»¤æ³¢å™¨ï¼›å½“d=ï¼ˆmn-dï¼‰/2æ—¶ï¼Œé€€å˜ä¸ºä¸­å€¼æ»¤æ³¢å™¨ã€‚ é€‚ç”¨ï¼šå¯¹å¤šé‡æ··åˆçš„å™ªå£°æœ‰å¾ˆå¥½çš„æ•ˆæœ 3.3 è‡ªé€‚åº”æ»¤æ³¢å™¨ è‡ªé€‚åº”æ»¤æ³¢å™¨çš„è¡Œä¸ºå˜åŒ–åŸºäºç”±m*nçŸ©å½¢çª—å£Sxyå®šä¹‰çš„åŒºåŸŸå†…å›¾åƒçš„ç»Ÿè®¡ç‰¹æ€§ï¼Œå®ƒçš„æ€§èƒ½è¦æ˜æ˜¾ä¼˜äºå‰é¢ä»‹ç»çš„æ»¤æ³¢å™¨ï¼Œä»£ä»·æ˜¯æ»¤æ³¢å™¨çš„å¤æ‚åº¦ã€‚ è‡ªé€‚åº”ã€å±€éƒ¨å™ªå£°æ¶ˆé™¤æ»¤æ³¢å™¨ æè¿°: f^(x,y)=g(x,y)âˆ’ÏƒÎ·2ÏƒL2[g(x,y)âˆ’mL]\\hat{f}(x, y)=g(x, y)-\\frac{\\sigma_{\\eta}^{2}}{\\sigma_{L}^{2}}\\left[g(x, y)-m_{L}\\right]f^â€‹(x,y)=g(x,y)âˆ’ÏƒL2â€‹ÏƒÎ·2â€‹â€‹[g(x,y)âˆ’mLâ€‹] å…¶ä¸­ ÏƒÎ·2,g(x,y)\\sigma_{\\eta}^{2}, g(x, y)ÏƒÎ·2â€‹,g(x,y) å½¢æˆçš„å™ªå£°æ–¹å·® mL,m_{L},mLâ€‹, å±€éƒ¨åƒç´ ç‚¹çš„å‡å€¼ ÏƒL2,\\sigma_{L}^{2},ÏƒL2â€‹, å±€éƒ¨æ–¹å·® æ»¤æ³¢å™¨æ€§èƒ½é¢„æœŸï¼š (1) å¦‚æœ ÏƒÎ·2\\sigma_{\\eta}^{2}ÏƒÎ·2â€‹ ä¸ºé›¶, æ»¤æ³¢å™¨åº”è¯¥ç®€å•çš„è¿”å› g(x,y)g(x, y)g(x,y) çš„å€¼ã€‚ (2) å¦‚æœå±€éƒ¨æ–¹å·®ä¸ ÏƒÎ·2\\sigma_{\\eta}^{2}ÏƒÎ·2â€‹ æ˜¯é«˜åº¦ç›¸å…³çš„, é‚£ä¹ˆæ»¤æ³¢å™¨è¦è¿”å›ä¸€ä¸ª g(x,y)g(x, y)g(x,y) çš„è¿‘ä¼¼å€¼ã€‚ (3) å¦‚æœä¸¤ä¸ªæ–¹å·®ç›¸ç­‰, å¸Œæœ›æ»¤æ³¢å™¨è¿”å›åŒºåŸŸSxyä¸Šåƒç´ çš„ç®—æœ¯å‡å€¼ã€‚ ä¸ªå…³é”®çš„é—®é¢˜æ˜¯ ÏƒÎ·2\\sigma_{\\eta}^{2}ÏƒÎ·2â€‹ æœªçŸ¥, éœ€è¦è¿›è¡Œä¼°è®¡ï¼Œåˆç†çš„ä¼°è®¡ä¼šå¸¦æ¥è¾ƒå¥½çš„æ»¤æ³¢æ•ˆæœã€‚ é€‚ç”¨ï¼šé˜²æ­¢ç”±äºç¼ºä¹å›¾åƒå™ªå£°æ–¹å·®çŸ¥è¯†è€Œäº§ç”Ÿçš„æ— æ„ä¹‰ç»“æœ, é€‚ç”¨å‡å€¼å’Œæ–¹å·®ç¡®å®šçš„åŠ æ€§é«˜æ–¯å£å£°ã€‚ è‡ªé€‚åº”ä¸­å€¼æ»¤æ³¢å™¨ æè¿°ï¼šè‡ªé€‚åº”ä¸­å€¼æ»¤æ³¢ç®—æ³•åˆ†ä¸¤å±‚è¿›è¡Œ å…ˆè€ƒè™‘å¦‚ä¸‹ç¬¦å·ï¼š Zmin=Sxyä¸­ç°åº¦å€¼çš„æœ€å°å€¼ Zmax=Sxyä¸­ç°åº¦å€¼çš„æœ€å¤§å€¼ Zmed=Sxyä¸­ç°åº¦å€¼çš„ä¸­é—´å€¼ Zxy=åœ¨åæ ‡ï¼ˆxï¼Œyï¼‰ä¸Šçš„ç°åº¦å€¼ Smax=Sxyå…è®¸çš„æœ€å¤§å°ºå¯¸ ç®—æ³•æµç¨‹ï¼š Aå±‚ï¼š A1=Zmed-Zminï¼› A2=Zmed-Zmaxï¼› å¦‚æœA1&gt;0ä¸”A2&lt;0ï¼ˆå³Zmin from: https://blog.csdn.net/xdmdth/article/details/46889091?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3.control Mycode å¢åŠ å™ªå£° æ¤’ç›å™ªå£° 12345678910111213141516171819class NoiseGenerator: @staticmethod def add_pulse_noise(im, noise_ratios=0.3): \"\"\" ç»™å›¾åƒå¢åŠ è„‰å†²å™ªå£° è„‰å†²å™ªå£°ï¼šå™ªå£°ç‚¹åªæœ‰ä¸¤ç§æƒ…å†µï¼Œå…¨é»‘orå…¨ç™½ï¼Œå› æ­¤åˆç§°ä¸ºæ¤’ç›å™ªå£° :param im: å¾…å¤„ç†çš„å›¾åƒ :param noise_ratios: å™ªå£°æ¯” :return: \"\"\" h, w = im.shape[0:2] # è·å¾—å›¾åƒçš„é•¿å®½ p_size = h * w # è®¡ç®—å‡ºå›¾åƒçš„å¹³é¢å¤§å° for r in range(int(p_size * noise_ratios)): # å™ªå£°ç‚¹æ•°é‡ # è·å¾—å™ªå£°çš„éšæœºä½ç½® rand_h = random.randint(0, h - 1) rand_w = random.randint(0, w - 1) # ä¸¤ç§å¤„ç†: 1.åƒç´ ç‚¹è®¾ç½®ä¸ºå…¨é»‘ï¼Œ2.åƒç´ ç‚¹è®¾ç½®ä¸ºå…¨ç™½ im[rand_h, rand_w, :] = np.array([0, 0, 0]) if random.random() &lt; 0.5 else np.array([255, 255, 255]) return im é«˜æ–¯å™ªå£° 12345678910111213141516171819202122232425262728293031323334353637class NoiseGenerator: @classmethod def _normalization(cls, image): \"\"\" å°†æ•°æ®çº¿æ€§å½’ä¸€åŒ– :param image: å›¾ç‰‡çŸ©é˜µï¼Œä¸€èˆ¬æ˜¯np.array ç±»å‹ :return: å°†å½’ä¸€åŒ–åçš„æ•°æ®ï¼Œåœ¨ï¼ˆ0,1ï¼‰ä¹‹é—´ \"\"\" # è·å–å›¾ç‰‡æ•°æ®ç±»å‹å¯¹è±¡çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ info = np.iinfo(image.dtype) # å›¾åƒæ•°ç»„æ•°æ®æ”¾ç¼©åœ¨ 0-1 ä¹‹é—´ return image.astype(np.double) / info.max @staticmethod def add_gaussian_noise(im, mean=0, var=0.005): \"\"\" æ·»åŠ é«˜æ–¯å™ªå£° :param im: :param mean: å‡å€¼ :param var: æ–¹å·® :return: \"\"\" # image = np.array(im / 255, dtype=float) # å°†åƒç´ å€¼å½’ä¸€ï¼Œ (0, 1) image = NoiseGenerator._normalization(im) # å°†åƒç´ å€¼å½’ä¸€, (0, 1) noise = np.random.normal(mean, var ** 0.5, image.shape) # äº§ç”Ÿé«˜æ–¯å™ªå£° noised_im = image + noise # ç›´æ¥å°†å½’ä¸€åŒ–çš„å›¾ç‰‡ä¸å™ªå£°ç›¸åŠ  def clip_img(noised_im): \"\"\" å°†å€¼é™åˆ¶åœ¨(-1æˆ–0, 1)é—´ï¼Œç„¶åä¹˜255æ¢å¤ :param noised_im: åŠ äº†å™ªå£°çš„å›¾ç‰‡ :return: clipè¿‡çš„å›¾ç‰‡ \"\"\"\"\" low_clip = -1. if noised_im.min() &lt; 0 else 0. # å¦‚æœæœ€å°å€¼å°äº1, åˆ™è¾¹ç•Œè®¾ä¸º(-1, 1) out_im = np.clip(noised_im, low_clip, 1.0) # å¦‚æœnoised_imä¸­åƒç´ å°äºlow_clipåˆ™ç½®ä¸ºlow_clip, å¤§äº1å€¼ç½®ä¸º1 out_im = np.uint8(out_im * 255) # å°†(-1, 1)çš„æµ®ç‚¹å‹è½¬æˆ(0, 255)çš„æ•´å‹ return out_im return clip_img(noised_im) â–²è¿™è¾¹è‚¯å®šæœ‰äººä¼šå¥½å¥‡out_im = np.uint8(out_im * 255)å¹¶ä¸æ˜¯å°†å…¶è½¬æ¢åˆ°(0, 255)ï¼Œè€Œæ˜¯(-255, 255)ã€‚ è§£é‡Šä¸€ä¸‹ï¼šâ€”â€”æ³¨æ„è¿™è¾¹çš„np.uint8å¯ä»¥çœ‹åˆ°è¿™è¾¹çš„æ•°æ®ç±»å‹å°±æ˜¯8ä½intï¼Œæ‰€ä»¥èŒƒå›´æ˜¯0-255ï¼Œå› æ­¤å³ä½¿num=-55ï¼Œé‚£ä¹ˆè®¡ç®—çš„ç»“æœå…¶å®æ˜¯201ï¼› num=-1ï¼Œç»“æœå…¶å®æ˜¯255ã€‚ æ³•äºŒï¼šskimage 1234567891011121314151617from matplotlib import pyplot as pltfrom skimage import ioimport skimageimport pylabimpath = \"000001.jpg\"image = io.imread(impath)img1 = image / 255.00 # å‡ä¸€åŒ–å¤„ç†img2 = skimage.util.random_noise(image,mode='gaussian',seed=None,clip=True)plt.figure(1)plt.subplot(121)plt.imshow(img1)plt.title(\"Origin picture\")plt.subplot(122)plt.imshow(img2)plt.title(\"Add Gaussian noise\")pylab.show()plt.savefig(\"noise_image.jpg\") æ³¨æ„åˆ°ï¼šå¢åŠ é«˜æ–¯å™ªå£°è¿˜å¯ä»¥ç”¨å›¾åƒä¸‰æ–¹åº“å®Œæˆçš„ï¼šskimage.util.random_noise(image,mode ='gaussian',seed=None,clip=True) skimageçš„ç®€ä»‹ skimageå³æ˜¯Scikit-Imageã€‚åŸºäºpythonè„šæœ¬è¯­è¨€å¼€å‘çš„æ•°å­—å›¾ç‰‡å¤„ç†åŒ…ï¼Œæ¯”å¦‚PIL,Pillow, opencv, scikit-imageç­‰ã€‚ PILå’ŒPillowåªæä¾›æœ€åŸºç¡€çš„æ•°å­—å›¾åƒå¤„ç†ï¼ŒåŠŸèƒ½æœ‰é™ï¼›opencvå®é™…ä¸Šæ˜¯ä¸€ä¸ªc++åº“ï¼Œåªæ˜¯æä¾›äº†pythonæ¥å£ï¼Œæ›´æ–°é€Ÿåº¦éå¸¸æ…¢ã€‚scikit-imageæ˜¯åŸºäºscipyçš„ä¸€æ¬¾å›¾åƒå¤„ç†åŒ…ï¼Œå®ƒå°†å›¾ç‰‡ä½œä¸ºnumpyæ•°ç»„è¿›è¡Œå¤„ç†ï¼Œæ­£å¥½ä¸matlabä¸€æ ·ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©scikit-imageè¿›è¡Œæ•°å­—å›¾åƒå¤„ç†ã€‚ skimageåŒ…çš„å…¨ç§°æ˜¯scikit-image SciKit (toolkit for SciPy) ï¼Œå®ƒå¯¹scipy.ndimageè¿›è¡Œäº†æ‰©å±•ï¼Œæä¾›äº†æ›´å¤šçš„å›¾ç‰‡å¤„ç†åŠŸèƒ½ã€‚å®ƒæ˜¯ç”±pythonè¯­è¨€ç¼–å†™çš„ï¼Œç”±scipy ç¤¾åŒºå¼€å‘å’Œç»´æŠ¤ã€‚skimageåŒ…ç”±è®¸å¤šçš„å­æ¨¡å—ç»„æˆï¼Œå„ä¸ªå­æ¨¡å—æä¾›ä¸åŒçš„åŠŸèƒ½ã€‚ å­æ¨¡å—åç§° ä¸»è¦å®ç°åŠŸèƒ½ io è¯»å–ã€ä¿å­˜å’Œæ˜¾ç¤ºå›¾ç‰‡æˆ–è§†é¢‘ data æä¾›ä¸€äº›æµ‹è¯•å›¾ç‰‡å’Œæ ·æœ¬æ•°æ® color é¢œè‰²ç©ºé—´å˜æ¢ filters å›¾åƒå¢å¼ºã€è¾¹ç¼˜æ£€æµ‹ã€æ’åºæ»¤æ³¢å™¨ã€è‡ªåŠ¨é˜ˆå€¼ç­‰ draw æ“ä½œäºnumpyæ•°ç»„ä¸Šçš„åŸºæœ¬å›¾å½¢ç»˜åˆ¶ï¼ŒåŒ…æ‹¬çº¿æ¡ã€çŸ©å½¢ã€åœ†å’Œæ–‡æœ¬ç­‰ transform å‡ ä½•å˜æ¢æˆ–å…¶å®ƒå˜æ¢ï¼Œå¦‚æ—‹è½¬ã€æ‹‰ä¼¸å’Œæ‹‰ä¸œå˜æ¢ç­‰ morphology å½¢æ€å­¦æ“ä½œï¼Œå¦‚å¼€é—­è¿ç®—ã€éª¨æ¶æå–ç­‰ exposure å›¾ç‰‡å¼ºåº¦è°ƒæ•´ï¼Œå¦‚äº®åº¦è°ƒæ•´ã€ç›´æ–¹å›¾å‡è¡¡ç­‰ feature ç‰¹å¾æ£€æµ‹ä¸æå–ç­‰ measure å›¾åƒå±æ€§çš„æµ‹é‡ï¼Œå¦‚ç›¸ä¼¼æ€§æˆ–ç­‰é«˜çº¿ç­‰ segmentation å›¾åƒåˆ†å‰² restoration å›¾åƒæ¢å¤ util é€šç”¨å‡½æ•° æ•°æ®åŠ æ¨¡ç³Šâ€”â€”é«˜æ–¯æ¨¡ç³Šï¼š æœ¬è´¨ä¸Šæ˜¯ä½é€šæ»¤æ³¢å™¨ï¼Œè¾“å‡ºå›¾åƒçš„æ¯ä¸ªåƒç´ ç‚¹æ˜¯åŸå›¾åƒä¸Šå¯¹åº”åƒç´ ç‚¹ä¸å‘¨å›´åƒç´ ç‚¹çš„åŠ æƒå’Œã€‚ å³ç”¨é«˜æ–¯åˆ†å¸ƒæƒå€¼çŸ©é˜µä¸åŸå§‹å›¾åƒçŸ©é˜µåšå·ç§¯è¿ç®—ã€‚ https://blog.csdn.net/qq_37995260/article/details/100351153 Pythonç»™å›¾åƒæ·»åŠ å™ªå£°å…·ä½“æ“ä½œ å¢åŠ å™ªå£°noise_mask_image 12345678910111213141516171819202122232425262728293031323334353637383940414243444546# CGKæä¾›çš„ï¼Œå·§ç”¨äº†np.random.choiceï¼Œå­¦ä¹ äº†def noise_mask_image(img, noise_ratio): \"\"\" æ ¹æ®é¢˜ç›®è¦æ±‚ç”Ÿæˆå—æŸå›¾ç‰‡ :param img: å›¾åƒçŸ©é˜µï¼Œä¸€èˆ¬ä¸º np.ndarray :param noise_ratio: å™ªå£°æ¯”ç‡ï¼Œå¯èƒ½å€¼æ˜¯0.4/0.6/0.8 :return: noise_img å—æŸå›¾ç‰‡, å›¾åƒçŸ©é˜µå€¼ 0-1 ä¹‹é—´ï¼Œæ•°æ®ç±»å‹ä¸º np.array, æ•°æ®ç±»å‹å¯¹è±¡ (dtype): np.double, å›¾åƒå½¢çŠ¶:(height,width,channel),é€šé“(channel) é¡ºåºä¸ºRGB \"\"\" # å—æŸå›¾ç‰‡åˆå§‹åŒ– noise_img = None # -------------å®ç°å—æŸå›¾åƒç­”é¢˜åŒºåŸŸ----------------- mask = np.random.choice([0, 1], size=(img.shape[0],img.shape[1],img.shape[2]), p = [noise_ratio, 1 - noise_ratio]) noise_img = mask * img # ----------------------------------------------- return noise_img# ç¬¦åˆé¢˜æ„ç‰ˆæœ¬ï¼Œ ä½†æ˜¯è¿‡ä¸äº†æ ·ä¾‹ï¼Œè¯´äº§ç”Ÿçš„æ¯”ä¾‹ä¸æ­£ç¡®def noise_mask_image(img, noise_ratio): \"\"\" æ ¹æ®é¢˜ç›®è¦æ±‚ç”Ÿæˆå—æŸå›¾ç‰‡ :param img: å›¾åƒçŸ©é˜µï¼Œä¸€èˆ¬ä¸º np.ndarray :param noise_ratio: å™ªå£°æ¯”ç‡ï¼Œå¯èƒ½å€¼æ˜¯0.4/0.6/0.8 :return: noise_img å—æŸå›¾ç‰‡, å›¾åƒçŸ©é˜µå€¼ 0-1 ä¹‹é—´ï¼Œæ•°æ®ç±»å‹ä¸º np.array, æ•°æ®ç±»å‹å¯¹è±¡ (dtype): np.double, å›¾åƒå½¢çŠ¶:(height,width,channel),é€šé“(channel) é¡ºåºä¸ºRGB \"\"\" # å—æŸå›¾ç‰‡åˆå§‹åŒ– noise_img = None # -------------å®ç°å—æŸå›¾åƒç­”é¢˜åŒºåŸŸ----------------- import random from copy import deepcopy noise_img = deepcopy(img) h, w = img.shape[: 2] # hä¸ºå›¾ç‰‡çš„é•¿, wä¸ºå›¾ç‰‡çš„å®½# noise_img = normalization(img) for dh in range(h): # éå†æ¯è¡Œ cols = range(w) mask_indexes = random.sample(cols, int(w * noise_ratio)) pixel_list = [0 if i in mask_indexes else 1 for i in cols] for c in cols: noise_img[dh, c, :] = noise_img[dh, c, :] * pixel_list[c] # ----------------------------------------------- noise_img = np.array(noise_img, dtype='double') return noise_img Pythonçš„randomæ“ä½œ å›¾åƒæ¢å¤ ä¸­å€¼æ»¤æ³¢demo 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061from PIL import Imageimport numpy as npdef AddNoise(src, dst, probility=0.05): \"\"\" salt_pepperå¢åŠ å™ªå£° :param src: :param dst: :param probility: :return: \"\"\" imarray = np.array(Image.open(src)) height, width = imarray.shape[:2] for i in range(height): for j in range(width): if np.random.random(1) &lt; probility: if np.random.random(1) &lt; 0.5: imarray[i, j, :] = 0 else: imarray[i, j, :] = 255 new_im = Image.fromarray(imarray) new_im.save(dst)def MedianFilter(src, dst, k=3, padding=None): \"\"\" ä¸­å€¼æ»¤æ³¢ :param src: :param dst: :param k: è¿‡æ»¤å™¨æ ¸å¤§å° :param padding: :return: \"\"\" imarray = np.array(Image.open(src)) height, width, channels = imarray.shape if not padding: edge = int((k - 1) / 2) if height - 1 - edge &lt;= edge or width - 1 - edge &lt;= edge: print(\"The parameter k is to large.\") return None new_arr = np.zeros((height, width, 3), dtype=\"uint8\") for i in range(height): for j in range(width): for c in range(channels): # å¤„ç†3ä¸ªé€šé“ if i &lt;= edge - 1 or i &gt;= height - 1 - edge or j &lt;= edge - 1 or j &gt;= width - edge - 1: new_arr[i, j, c] = imarray[i, j, c] else: new_arr[i, j, c] = np.median(imarray[i - edge:i + edge + 1, j - edge:j + edge + 1, c]) new_im = Image.fromarray(new_arr) new_im.save(dst)if __name__ == '__main__': gray_girl = \"A.png\" tar = \"A_noised.png\" AddNoise(gray_girl, tar) src = \"A_noised.png\" dst = \"A_repaired.png\" MedianFilter(src, dst) ä¸‹å›¾æ˜¯k=3æ˜¯çš„æ”¹è¿›åçš„ä¸­å€¼æ»¤æ³¢ç­–ç•¥çš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ°å›¾åƒçš„æ¸…æ™°åº¦å¾—åˆ°äº†è¾ƒå¤§çš„ä¿ç•™ï¼Œå™ªå£°çš„æ•°é‡å°±ç›¸å¯¹ä¹Ÿæ®‹ç•™çš„æ¯”è¾ƒå¤šã€‚ä»ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒäºŒè€…ä¹‹é—´æœ‰æ­¤æ¶ˆå½¼é•¿çš„å…³ç³»ã€‚è‡³äºä¸ºä»€ä¹ˆè¿˜æœ‰è¿™ä¹ˆå¤šçš„æ¤’ç›å™ªå£°ï¼ŒåŸå› æ˜¯å› ä¸ºæˆ‘ä»¬æ·»åŠ å™ªå£°çš„ä»£ç ä¸­è®¾ç½®çš„æ¦‚ç‡å¤ªé«˜äº†ï¼Œå¯¼è‡´å›¾åƒä¸­çš„æ¤’ç›å™ªå£°æ•°é‡éå¸¸å¤šï¼Œåœ¨å°åŒºåŸŸå†…æœ‰å¯èƒ½æœ‰è®¸å¤šçš„å™ªå£°ç‚¹ï¼Œå¯¼è‡´ç®—æ³•æ‰€å¯»æ‰¾åˆ°çš„ä¸­å€¼ä»ç„¶æ˜¯å™ªå£°çš„æ•°å€¼èŒƒå›´ã€‚è¿™ç§æƒ…å†µä¸‹æ‰©å¤§æ»¤æ³¢æ¨¡æ¿çš„å¤§å°å¹¶ä¸ä¼šæœ‰å¤šå¤§çš„æ”¹å˜ã€‚æ­¤æ—¶å¯ä»¥å°†å·²ç»æ‰§è¡Œè¿‡ä¸€æ¬¡ä¸­å€¼æ»¤æ³¢çš„ç»“æœå›¾åƒå†æ‰§è¡Œä¸€æ¬¡ä¸­å€¼æ»¤æ³¢ï¼Œæ•ˆæœå°±ä¼šæ›´å¥½ä¸€äº›ã€‚ å‚è€ƒï¼šæ•°å­—å›¾åƒå¤„ç†çš„pythonå®ç°(8)â€”â€”ä¸­å€¼æ»¤æ³¢https://blog.csdn.net/baidu_41902768/article/details/94451787â€”â€”ä¸Šè¿°ä»£ç åœ¨jçš„æ¡ä»¶åˆ¤æ–­ä¸Šéœ€è¦å°†height-1-edgeæ”¹æˆwidth-1-edge å›¾åƒä¿®å¤restore_image 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081class Filter: def __init__(self, k = 3): self.k = k self.padding = None def get_median(self, imarray): \"\"\" ä¸­å€¼æ»¤æ³¢ :param imarray: :return: \"\"\" height, width, channels = imarray.shape if not self.padding: edge = int((self.k - 1) / 2) if height - 1 - edge &lt;= edge or width - 1 - edge &lt;= edge: print(\"The parameter k is to large.\") return None new_arr = np.zeros((height, width, 3), dtype=\"uint8\") for i in range(height): for j in range(width): for c in range(channels): # å¤„ç†3ä¸ªé€šé“ if i &lt;= edge - 1 or i &gt;= height - 1 - edge \\ or j &lt;= edge - 1 or j &gt;= width - edge - 1: # é™¤äº†ä¸­å¿ƒç‚¹ä»¥å¤–å…¶ä»–è¾¹æ²¿çš„ç‚¹ new_arr[i, j, c] = imarray[i, j, c] else: # ä¸­å¿ƒç‚¹ä¸ºæ’åºåçš„ä¸­å€¼ new_arr[i, j, c] = np.median(imarray[i-edge: i+edge+1, j-edge: j+edge+1, c]) return new_arr def get_max(self, imarray): \"\"\" ä¸­å€¼æ»¤æ³¢ :param imarray: :return: \"\"\" height, width, channels = imarray.shape if not self.padding: edge = int((self.k - 1) / 2) if height - 1 - edge &lt;= edge or width - 1 - edge &lt;= edge: print(\"The parameter k is to large.\") return None new_arr = np.zeros((height, width, 3), dtype=\"uint8\") for i in range(height): for j in range(width): for c in range(channels): # å¤„ç†3ä¸ªé€šé“ if i &lt;= edge - 1 or i &gt;= height - 1 - edge \\ or j &lt;= edge - 1 or j &gt;= width - edge - 1: # è¾¹ç•Œå¤„ç†ï¼Œ å½“iç´¢å¼•&lt;=edge-1 -&gt; æˆ–è€… i &gt;= ((height-1)-&gt;å›¾åƒè¾¹ç•Œ-edge)-&gt;çª—å£åœ¨å›¾åƒè¾¹ç•Œå†…çš„è¾¹ç•Œ new_arr[i, j, c] = imarray[i, j, c] else: # ä¸­å¿ƒç‚¹ä¸ºæ’åºåçš„ä¸­å€¼ new_arr[i, j, c] = np.max(imarray[i-edge: i+edge+1, j-edge: j+edge+1, c]) return new_arrdef restore_image(noise_img, size=4): \"\"\" ä½¿ç”¨ ä½ æœ€æ“…é•¿çš„ç®—æ³•æ¨¡å‹ è¿›è¡Œå›¾åƒæ¢å¤ã€‚ :param noise_img: ä¸€ä¸ªå—æŸçš„å›¾åƒ :param size: è¾“å…¥åŒºåŸŸåŠå¾„ï¼Œé•¿å®½æ˜¯ä»¥ size*size æ–¹å½¢åŒºåŸŸè·å–åŒºåŸŸ, é»˜è®¤æ˜¯ 4 :return: res_img æ¢å¤åçš„å›¾ç‰‡ï¼Œå›¾åƒçŸ©é˜µå€¼ 0-1 ä¹‹é—´ï¼Œæ•°æ®ç±»å‹ä¸º np.array, æ•°æ®ç±»å‹å¯¹è±¡ (dtype): np.double, å›¾åƒå½¢çŠ¶:(height,width,channel), é€šé“(channel) é¡ºåºä¸ºRGB \"\"\" # æ¢å¤å›¾ç‰‡åˆå§‹åŒ–ï¼Œé¦–å…ˆ copy å—æŸå›¾ç‰‡ï¼Œç„¶åé¢„æµ‹å™ªå£°ç‚¹çš„åæ ‡åä½œä¸ºè¿”å›å€¼ã€‚ res_img = np.copy(noise_img) # è·å–å™ªå£°å›¾åƒ noise_mask = get_noise_mask(noise_img) # -------------å®ç°å›¾åƒæ¢å¤ä»£ç ç­”é¢˜åŒºåŸŸ---------------------------- # --------------------------------------------------------------- return res_img ç›®å‰ä¿®å¤æ€è·¯: ç”±äºè§‚å¯Ÿåˆ°maskåŸºæœ¬éƒ½æ˜¯èƒ¡æ¤’å™ªå£°ï¼ˆé»‘è‰²ï¼‰ï¼Œå› æ­¤æœ€å¤§å€¼æ»¤æ³¢æ•ˆæœä¼šæ¯”è¾ƒå¥½ä¸€ç‚¹ï¼Œä½†æ˜¯ä»ç„¶ä¼šæœ‰å°‘é‡æ¤’ç›å™ªå£°æ®‹ä½™ï¼Œå› æ­¤ï¼Œå¯ä»¥é‡‡ç”¨å°†é™å™ªåçš„å›¾åƒå†æ¬¡é™å™ªï¼ˆè€Œä¸æ˜¯æ‰©å¤§è¿‡æ»¤æ ¸å¤§å°ï¼‰ã€‚ åœ¨è¿™é‡Œå‰©ä½™çš„ä»ç„¶æ˜¯èƒ¡æ¤’å™ªå£°ï¼ˆé»‘è‰²ï¼‰ï¼Œä½†æ˜¯ç»è¿‡æµ‹è¯•å¯ä»¥çœ‹å‡ºæœ€å¤§å€¼æ»¤æ³¢å¯¹å›¾åƒçš„å½±å“æ˜æ˜¾å¤§äºä¸­å€¼æ»¤æ³¢ï¼Œæœ€å¤§å€¼æ»¤æ³¢ä¼šæ¯”è¾ƒæ¨¡ç³Šï¼Œå› æ­¤è¿™è¾¹é‡‡ç”¨çš„æ˜¯â€œæœ€å¤§å€¼æ»¤æ³¢+ä¸­å€¼æ»¤æ³¢â€çš„ç»„åˆã€‚ï¼ˆæ³¨ï¼šä¸ºä»€ä¹ˆå…ˆç”¨æœ€å¤§å€¼æ»¤æ³¢ï¼Ÿå› ä¸ºå®éªŒæµ‹è¯•ç¬¬ä¸€æ¬¡å°±ç”¨ä¸­å€¼æ»¤æ³¢æ•ˆæœå¾ˆå·®ï¼‰ å…ˆç”¨æœ€å¤§å€¼æ»¤æ³¢çš„æ•ˆæœï¼š ç»„åˆä¸­å€¼æ»¤æ³¢çš„æ•ˆæœï¼š ç»„åˆæœ€å¤§å€¼æ»¤æ³¢æ•ˆæœ ç›´æ¥ä½¿ç”¨ä¸­å€¼æ»¤æ³¢å®éªŒç»“æœï¼š è®°å½•å‘ç‚¹ï¼š ç”¨savefigä¿å­˜æ—¶ï¼Œå›¾ç‰‡ä¼šæœ‰å‹ç¼©ï¼Œå¯¼è‡´ä¿å­˜å’Œé‡æ–°ä»æ–‡ä»¶ä¸­è¯»å–çš„å†…å®¹æœ‰äº›åŒºåˆ« 1234567noised_im = NoiseGenerator.add_pulse_noise(im) # (1104, 828, 3)plt.imshow(noised_im)plt.axis(\"off\")plt.savefig(\"A_noised.png\")src = \"A_noised.png\"dst = \"A_repaired.png\"MedianFilter(src, dst) # (480, 640, 4) æ€»ç»“ï¼š samplesç»™çš„å›¾ä¸­å™ªå£°åŸºæœ¬éƒ½æ˜¯èƒ¡æ¤’å™ªå£°ï¼Œæ²¡æœ‰ä»€ä¹ˆç›å™ªå£°ï¼Œå› æ­¤è€ƒè™‘æœ€å¤§å€¼æ»¤æ³¢ å½“é»‘è‰²å æ¯”å¤§äº0.3æ—¶ä½¿ç”¨&quot;æœ€å¤§å€¼æ»¤æ³¢+ä¸­å€¼æ»¤æ³¢ç»„åˆ&quot;ï¼Œ å½“å°äº0.3æ—¶ç›´æ¥ä½¿ç”¨ä¸­å€¼æ»¤æ³¢ k=5å¤ªæ¨¡ç³Šï¼Œç›®å‰ä½¿ç”¨k=3 é™„å½• å›¾åƒå¤åŸåŸç†åŠå®ç° è¯»å–å±•ç¤ºå›¾ç‰‡çš„ä¸¤ç§æ–¹å¼ï¼š 123456789101112131415161718192021222324252627282930313233343536# -----------------ç”¨cvçš„imshow-------------def add_noise(filename): im = cv2.imread(filename) cv2.imshow('original img', im) h, w = im.shape[0:2] pNum = h * w nRate = 0.3 for r in range(int(pNum * nRate)): randh = random.randint(0, h - 1) randw = random.randint(0, w - 1) # print(h,randh,w,randw) if random.random() &lt; 0.5: im[randh, randw, :] = np.array([0, 0, 0]) else: im[randh, randw, :] = np.array([255, 255, 255]) cv2.imshow('add noise', im) cv2.waitKey(0)add_noise('A.png')#-----------------ç”¨plt.imshow-------------def show_photo(pic_path): \"\"\" :param pic_path: å›¾ç‰‡è·¯å¾„ :return: &lt;class 'numpy.ndarray'&gt; \"\"\" # ä»¥ BGR æ–¹å¼è¯»å–å›¾ç‰‡ im = cv2.imread(pic_path) # å°† BGR æ–¹å¼è½¬æ¢ä¸º RGB æ–¹å¼ im = cv2.cvtColor(im, cv2.COLOR_BGR2RGB) # å±•ç¤ºå›¾ç‰‡ plt.imshow(im) # å…³é—­åæ ‡è½´ plt.axis('off') # show plt.show() return im imshowçš„å‚æ•° 123456789101112131415161718192021222324252627@_preprocess_data(label_namer=None) def imshow(self, X, cmap=None, norm=None, aspect=None, interpolation=None, alpha=None, vmin=None, vmax=None, origin=None, extent=None, shape=None, filternorm=1, filterrad=4.0, imlim=None, resample=None, url=None, **kwargs): \"\"\" Display an image on the axes. Parameters ---------- X : array_like, shape (n, m) or (n, m, 3) or (n, m, 4) Display the image in `X` to current axes. `X` may be an array or a PIL image. If `X` is an array, it can have the following shapes and types: - MxN -- values to be mapped (float or int) - MxNx3 -- RGB (float or uint8) - MxNx4 -- RGBA (float or uint8) MxN arrays are mapped to colors based on the `norm` (mapping scalar to scalar) and the `cmap` (mapping the normed scalar to a color). Elements of RGB and RGBA arrays represent pixels of an MxN image. All values should be in the range [0 .. 1] for floats or [0 .. 255] for integers. Out-of-range values will be clipped to these bounds. clip 1# Clipping input data to the valid range for imshow with RGB data ([0..1] for floats or [0..255] for integers). æŒ‰ç…§ä¸Šè¿°ä¿¡æ¯å¯çŸ¥ï¼Œå¦‚æœå…ƒç´ ä¸ºfloatç±»å‹ä¸”è¶…è¿‡äº†1ï¼Œåˆ™ä¼šè¢«clipï¼Œè¿™è¾¹clipå°±æ˜¯ä¸Šä¸‹é™å¹…ï¼Œè€Œä¸æ˜¯æˆªå–å°æ•°ç‚¹åéƒ¨åˆ† 1234res = np.array([ [[1.22,2.22,3.22]], [[-0.55,-0.44,-6.55]]] å›¾åƒç›¸ä¼¼åº¦æŒ‡æ ‡ SSIMï¼ˆç»“æ„ç›¸ä¼¼æ€§åº¦é‡ï¼‰ è¿™æ˜¯ä¸€ç§å…¨å‚è€ƒçš„å›¾åƒè´¨é‡è¯„ä»·æŒ‡æ ‡ï¼Œåˆ†åˆ«ä»äº®åº¦ã€å¯¹æ¯”åº¦ã€ç»“æ„ä¸‰ä¸ªæ–¹é¢åº¦é‡å›¾åƒç›¸ä¼¼æ€§ã€‚SSIMå–å€¼èŒƒå›´[0, 1]ï¼Œå€¼è¶Šå¤§ï¼Œè¡¨ç¤ºå›¾åƒå¤±çœŸè¶Šå°ã€‚ cosinç›¸ä¼¼åº¦ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ï¼‰ æŠŠå›¾ç‰‡è¡¨ç¤ºæˆä¸€ä¸ªå‘é‡ï¼Œé€šè¿‡è®¡ç®—å‘é‡ä¹‹é—´çš„ä½™å¼¦è·ç¦»æ¥è¡¨å¾ä¸¤å¼ å›¾ç‰‡çš„ç›¸ä¼¼åº¦ã€‚ https://blog.csdn.net/u010977034/article/details/82733137","categories":[],"tags":[{"name":"ZJU","slug":"ZJU","permalink":"https://nymrli.top/tags/ZJU/"},{"name":"ML","slug":"ML","permalink":"https://nymrli.top/tags/ML/"}]},{"title":"ã€Šäººå·¥æ™ºèƒ½:æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°","slug":"ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°","date":"2020-12-08T07:06:21.000Z","updated":"2021-09-12T13:41:59.129Z","comments":true,"path":"2020/12/08/ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/","link":"","permalink":"https://nymrli.top/2020/12/08/ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/","excerpt":"","text":".mjpage .MJX-monospace { font-family: monospace } .mjpage .MJX-sans-serif { font-family: sans-serif } .mjpage { display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0 } .mjpage * { transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none } .mjx-svg-href { fill: blue; stroke: blue } .MathJax_SVG_LineBox { display: table!important } .MathJax_SVG_LineBox span { display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0 } .mjpage__block { text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100% } è¯¾ç¨‹ç¬”è®°æ¥æºï¼š2020å…¬å¼€è¯¾ã€äººå·¥æ™ºèƒ½ï¼šæ¨¡å‹ä¸ç®—æ³•ã€‘-æµ™æ±Ÿå¤§å­¦ P11.1å¯è®¡ç®—æ€æƒ³èµ·æºä¸å‘å±• æ™ºèƒ½ï¼š ä»æ„ŸçŸ¥ã€åˆ°ç†è§£ã€åˆ°è®¤çŸ¥ã€åˆ°å†³ç­–ä¸è¡ŒåŠ¨ è®¡ç®—çš„è¯ç”Ÿï¼šä»å¯è®¡ç®—åˆ°ä¸å¯è®¡ç®—-&gt;20ä¸–çºªåˆï¼Œäººä»¬å‘ç°æœ‰è®¸å¤šé—®é¢˜æ— æ³•æ‰¾åˆ°è§£å†³çš„æ–¹æ³•ã€‚äºæ˜¯å¼€å§‹æ€€ç–‘ï¼Œæ˜¯å¦å¯¹è¿™äº›é—®é¢˜æ¥è¯´ï¼Œæ ¹æœ¬å°±ä¸å­˜åœ¨ç®—æ³•ï¼Œå³ä¸å¯è®¡ç®—ã€‚ äººå·¥æ™ºèƒ½ï¼šä»¥æœºå™¨ä¸ºè½½ä½“çš„äººç±»æ™ºèƒ½æˆ–ç”Ÿç‰©æ™ºèƒ½ ç®—æœ¯å…¬ç†çš„ç›¸å®¹æ€§ï¼š å®Œå¤‡æ€§ï¼šæ‰€æœ‰èƒ½å¤Ÿä»è¯¥å½¢å¼åŒ–ç³»ç»Ÿæ¨å¯¼å‡ºæ¥çš„å‘½é¢˜ï¼Œéƒ½å¯ä»¥ä»è¿™ä¸ªå½¢å¼åŒ–ç³»ç»Ÿæ¨å¯¼å‡ºæ¥ã€‚ ä¸€è‡´æ€§ï¼šä¸€ä¸ªå‘½é¢˜ä¸å¯èƒ½åŒæ—¶ä¸ºçœŸæˆ–ä¸ºå‡ å¯åˆ¤å®šæ€§ï¼šç®—æ³•åœ¨æœ‰é™æ­¥å†…åˆ¤å®šå‘½é¢˜çš„çœŸä¼ª å“¥å¾·å°”ä¸å®Œå…¨æ€§å®šç†ï¼šä»»ä½•è¡¨è¾¾åŠ›è¶³å¤Ÿå¼ºçš„ï¼ˆé€’å½’å¯æšä¸¾ï¼‰å½¢å¼ç³»ç»Ÿéƒ½ä¸å¯èƒ½åŒæ—¶å…·æœ‰ä¸€è‡´æ€§å’Œå®Œå¤‡æ€§ å›¾çµæµ‹è¯•ï¼šæŒ‡æµ‹è¯•è€…ä¸è¢«æµ‹è¯•è€…ï¼ˆä¸€ä¸ªäººå’Œä¸€å°æœºå™¨ï¼‰éš”å¼€çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸€äº›è£…ç½®ï¼ˆå¦‚é”®ç›˜ï¼‰å‘è¢«æµ‹è¯•è€…éšæ„æé—®ã€‚è¿›è¡Œå¤šæ¬¡æµ‹è¯•åï¼Œå¦‚æœæœºå™¨è®©å¹³å‡æ¯ä¸ªå‚ä¸è€…åšå‡ºè¶…è¿‡30%çš„è¯¯åˆ¤ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨å°±é€šè¿‡äº†æµ‹è¯•ï¼Œå¹¶è¢«è®¤ä¸ºå…·æœ‰äººç±»æ™ºèƒ½ã€‚ æ‘©å°”å®šå¾‹ï¼šï¼ˆè®¡ç®—æœºé€Ÿåº¦1å¹´åŠå¢é•¿1å€ï¼‰ï¼Œäº¿çº§æ™¶ä½“ç®¡ã€åƒäº¿æŒ‡ä»¤/ç§’ P21.2äººå·¥æ™ºèƒ½çš„å‘å±•ç®€å² äººå·¥æ™ºèƒ½å‘å±•ä¸­çš„ä¸»æµæ–¹æ³•ï¼ˆ1ï¼‰ï¼šç¬¦å·ä¸»ä¹‰äººå·¥æ™ºèƒ½ï¼ˆSymbolicAlï¼‰ä¸ºæ ¸å¿ƒçš„é€»è¾‘æ¨ç† äººå·¥æ™ºèƒ½å‘å±•ä¸­çš„ä¸»æµæ–¹æ³•ï¼ˆ2ï¼‰ï¼šæ•°æ®é©±åŠ¨ï¼ˆdata-drivenï¼‰ä¸ºæ ¸å¿ƒçš„æœºå™¨å­¦ä¹  äººå·¥æ™ºèƒ½å‘å±•ä¸­çš„ä¸»æµæ–¹æ³•ï¼ˆ3ï¼‰ï¼šåœ¨â€œæ¢ç´¢ï¼ˆæœªçŸ¥ç©ºé—´ï¼‰ä¸åˆ©ç”¨ï¼ˆå·²æœ‰ç»éªŒï¼‰ï¼ˆexploration vs.exploitationï¼‰â€ä¹‹é—´å–å¾—å¹³è¡¡ä¸ºæ ¸å¿ƒçš„å¼ºåŒ–å­¦ä¹  P31.3äººå·¥æ™ºèƒ½ç ”ç©¶çš„åŸºæœ¬å†…å®¹ äººå·¥æ™ºèƒ½ç‰¹ç‚¹ï¼šè‡³å°æœ‰å†…ã€è‡³å¤§æ— å¤–ï¼Œå¤šå­¦ç§‘äº¤å‰å†…ç¦€ ä»æ¨¡æ‹Ÿäººç±»æ™ºèƒ½è§’åº¦è€Œè¨€ï¼Œäººå·¥æ™ºèƒ½åº”å…·å¤‡å¦‚ä¸‹èƒ½åŠ›ï¼š å…·å¤‡è§†è§‰æ„ŸçŸ¥å’Œè¯­è¨€äº¤æµçš„èƒ½åŠ›ã€‚å³èƒ½å¤Ÿè¯†åˆ«å’Œç†è§£å¤–ç•Œä¿¡æ¯ï¼ˆè®¡ç®—æœºè§†è§‰ç ”ç©¶èŒƒç•´ï¼‰ã€èƒ½å¤Ÿä¸äººé€šè¿‡è¯­è¨€äº¤æµï¼ˆè‡ªç„¶è¯­è¨€ç†è§£ç ”ç©¶èŒƒç•´ï¼‰ã€‚ å…·å¤‡æ¨ç†ä¸é—®é¢˜æ±‚è§£èƒ½åŠ›ã€‚å³åŸºäºå·²æœ‰çŸ¥è¯†ï¼Œå¯¹æ‰€è§äº‹ç‰©å’Œç°è±¡è¿›è¡Œæ¼”ç»æ¨ç†ä»¥è§£å†³é—®é¢˜ã€‚ å…·å¤‡ååŒæ§åˆ¶èƒ½åŠ›ã€‚å³å°†è§†è§‰ï¼ˆçœ‹ï¼‰ã€è¯­è¨€ï¼ˆè¯´ï¼‰ã€æ¨ç†ï¼ˆæ‚Ÿï¼‰ç­‰èƒ½åŠ›ç»Ÿä¸€åè°ƒï¼ŒåŠ ä»¥æ§åˆ¶ï¼Œè¿™æ˜¯å¸¸è§çš„æœºå™¨äººç ”ç©¶é¢†åŸŸå†…å®¹ã€‚ å…·å¤‡éµå®ˆä¼¦ç†é“å¾·èƒ½åŠ›ã€‚å³æ¨¡æ‹Ÿäººç±»æ™ºèƒ½çš„æ™ºèƒ½ä½“åœ¨ç¤¾ä¼šç¯å¢ƒä¸­è¦éµä»ä¸€å®šçš„ä¼¦ç†é“å¾·ã€‚é˜¿è¥¿è«å¤«åœ¨ç§‘å¹»å°è¯´ä¸­æŒ‰ç…§ä¼˜å…ˆçº§å®šä¹‰äº†æœºå™¨äººéœ€è¦éµä»çš„ä¸‰æ¡ä¼¦ç†åŸåˆ™ï¼šä¸å¾—ä¼¤äººï¼Œæˆ–å¼ƒäººäºå±éš¾ï¼›éœ€æœä»äººï¼›åœ¨ä¸è¿åä¸Šè¿°ä¸¤æ¡åŸåˆ™æƒ…å†µä¸‹ï¼Œä¿æŠ¤æœºå™¨äººè‡ªå·±ã€‚ å…·å¤‡ä»æ•°æ®ä¸­è¿›è¡Œå½’çº³æ€»ç»“çš„èƒ½åŠ›ã€‚å³éœ€è¦ä»æ•°æ®ä¸­è¿›è¡ŒçŸ¥è¯†ã€è§„å¾‹å’Œæ¨¡å¼å­¦ä¹ çš„æ¨¡å‹å’Œæ–¹æ³•ï¼Œè¿™æ˜¯æœºå™¨å­¦ä¹ ç ”ç©¶èŒƒç•´ã€‚ æˆè¯¾åŸºæœ¬å†…å®¹ï¼š äººå·¥æ™ºèƒ½æ¦‚è¿° 1.1å¯è®¡ç®—æ€æƒ³èµ·æºä¸å‘å±• 1-2äººå·¥æ™ºèƒ½çš„å‘å±•ç®€å² 1.3äººå·¥æ™ºèƒ½ç ”ç©¶çš„åŸºæœ¬å†…å®¹ æœç´¢æ±‚è§£ 2.1å¯å‘å¼æœç´¢ 2.2å¯¹æŠ—æœç´¢ï¼ˆMinimaxåŠAlpha-Betaå‰ªææœç´¢ï¼‰ 2.3è’™ç‰¹å¡æ´›æ ‘æœç´¢ é€»è¾‘ä¸æ¨ç† 3.1å‘½é¢˜é€»è¾‘ 3.2è°“è¯é€»è¾‘ 3.3å…´å›½æ ¼æ¨ç† 3.4å› æœæ¨ç† ç»Ÿè®¡æœºå™¨å­¦ä¹ |ç›‘ç£å­¦ä¹  4.1æœºå™¨å­¦ä¹ åŸºæœ¬æ¦‚å¿µ 4.2çº¿æ€§å›å½’ä¸åˆ†ç±» 4.3Ada Boosting 4.4çº¿æ€§åŒºåˆ«åˆ†æ ç»Ÿè®¡æœºå™¨å­¦ä¹ |éç›‘ç£å­¦ä¹  5.1K-means 5.2ä¸»æˆåˆ†åˆ†æ 5.3ç‰¹å¾äººè„¸æ–¹æ³• 5.4æœŸæœ›æå¤§ç®—æ³•ï¼ˆEMï¼‰ æ·±åº¦å­¦ä¹ (ç›‘ç£å­¦ä¹ +ç«¯åˆ°ç«¯) 6.1å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆè¯¯å·®åå‘ä¼ æ’­ï¼‰ 6.2å·ç§¯ç¥ç»ç½‘ç»œ 6.3è‡ªç„¶è¯­è¨€ç†è§£ä¸è§†è§‰åˆ†æ å¼ºåŒ–å­¦ä¹  7.1é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ 7.2å¼ºåŒ–å­¦ä¹ ä¸­ç­–ç•¥ä¼˜åŒ–ä¸ç­–ç•¥è¯„ä¼° 7.3Q-Learning 7.4æ·±åº¦å¼ºåŒ–å­¦ä¹  äººå·¥æ™ºèƒ½åšå¼ˆ 8.1åšå¼ˆç›¸å…³æ¦‚å¿µï¼ˆçº³ä»€å‡è¡¡ï¼‰ 8.2é—æ†¾æœ€å°åŒ–ç®—æ³• 8.3è™šæ‹Ÿé—æ†¾æœ€å°åŒ–ç®—æ³• æœç´¢æ±‚è§£ P42.1å¯å‘å¼æœç´¢ ç»™å®šæœç´¢ç›®æ ‡ï¼Œè®¾è®¡å¯å‘å‡½æ•°ï¼Œæ¥ä¿è¯æœç´¢ç›®æ ‡æœ€ä¼˜åŒ–çš„æ±‚è§£ P52.2å¯¹æŠ—æœç´¢ åœ¨æ¸¸æˆé‡Œæœç´¢ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä½†åœ¨æœç´¢è¿‡ç¨‹ä¸­å¯¹æ‰‹ä¼šé˜»æ­¢æˆ‘ä»¬ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬èƒ½è·å¾—æœ€å¤§æ”¶ç›Šçš„æœç´¢æ–¹å¼ã€‚æœ¬æ–‡ä¸­ä¸»è¦è®²è§£Minmaxæœç´¢+alpha-betaå‰ªææœç´¢ å¯¹æŠ—æœç´¢ï¼ˆAdversarial Searchï¼‰ä¹Ÿç§°ä¸ºåšå¼ˆæœç´¢ï¼ˆGame Searchï¼‰ï¼Œåœ¨ä¸€ä¸ªç«äº‰çš„ç¯å¢ƒä¸­ï¼Œæ™ºèƒ½ä½“ï¼ˆagentsï¼‰ä¹‹é—´é€šè¿‡ç«äº‰å®ç°ç›¸åçš„åˆ©ç›Šï¼Œä¸€æ–¹æœ€å¤§åŒ–è¿™ä¸ªåˆ©ç›Šï¼Œå¦å¤–ä¸€æ–¹æœ€å°åŒ–è¿™ä¸ªåˆ©ç›Šã€‚ æœ¬è¯¾ç¨‹ç›®å‰ä¸»è¦è®¨è®ºåœ¨ç¡®å®šçš„ã€å…¨å±€å¯è§‚å¯Ÿçš„ã€ç«äº‰å¯¹æ‰‹è½®æµè¡ŒåŠ¨ã€é›¶å’Œæ¸¸æˆï¼ˆzero-sumï¼‰ä¸‹çš„å¯¹æŠ—æœç´¢ é›¶å’Œåšå¼ˆæ˜¯åšå¼ˆè®ºçš„ä¸€ä¸ªæ¦‚å¿µï¼Œå±éåˆä½œåšå¼ˆã€‚æŒ‡å‚ä¸åšå¼ˆçš„å„æ–¹ï¼Œåœ¨ä¸¥æ ¼ç«äº‰ä¸‹ï¼Œä¸€æ–¹çš„æ”¶ç›Šå¿…ç„¶æ„å‘³ç€å¦ä¸€æ–¹çš„æŸå¤±ï¼Œåšå¼ˆå„æ–¹çš„æ”¶ç›Šå’ŒæŸå¤±ç›¸åŠ æ€»å’Œæ°¸è¿œä¸ºâ€œé›¶â€ï¼ŒåŒæ–¹ä¸å­˜åœ¨åˆä½œçš„å¯èƒ½ã€‚ ä¸â€œé›¶å’Œâ€å¯¹åº”ï¼Œâ€œåŒèµ¢åšå¼ˆâ€çš„åŸºæœ¬ç†è®ºå°±æ˜¯â€œåˆ©å·±â€ä¸â€œæŸäººâ€ï¼Œé€šè¿‡è°ˆåˆ¤ã€åˆä½œè¾¾åˆ°çš†å¤§æ¬¢å–œçš„ç»“æœã€‚ æœ€å¤§æœ€å°æœç´¢ ç»™å®šä¸€ä¸ªæ¸¸æˆæœç´¢æ ‘ï¼Œminimaxç®—æ³•é€šè¿‡æ¯ä¸ªèŠ‚ç‚¹çš„minimaxå€¼æ¥å†³å®šæœ€ä¼˜ç­–ç•¥ã€‚å½“ç„¶ï¼ŒMAXèŠ‚ç‚¹å¸Œæœ›æœ€å¤§åŒ–minimaxå€¼ï¼Œè€ŒMINèŠ‚ç‚¹åˆ™ç›¸åï¼Œå¸Œæœ›æœ€å°åŒ–minimaxå€¼â€”&gt;è®©è‡ªå·±çš„æ”¶ç›Šæœ€å¤§ï¼Œè®©å¯¹æ–¹çš„æ”¶ç›Šorå·±æ–¹çš„æŸå¤±æœ€å° ä¼˜ç‚¹ï¼š ç®—æ³•æ˜¯ä¸€ç§ç®€å•æœ‰æ•ˆçš„å¯¹æŠ—æœç´¢æ‰‹æ®µ åœ¨å¯¹æ‰‹ä¹Ÿâ€œå°½åŠ›è€Œä¸ºâ€å‰æä¸‹ï¼Œç®—æ³•å¯è¿”å›æœ€ä¼˜ç»“æœ ç¼ºç‚¹ï¼š å¦‚æœæœç´¢æ ‘æå¤§ï¼Œåˆ™æ— æ³•åœ¨æœ‰æ•ˆæ—¶é—´å†…è¿”å›ç»“æœ æ”¹å–„ï¼š ä½¿ç”¨alpha-beta pruningç®—æ³•æ¥å‡å°‘æœç´¢èŠ‚ç‚¹ å¯¹èŠ‚ç‚¹è¿›è¡Œé‡‡æ ·ã€è€Œéé€ä¸€æœç´¢ï¼ˆie.ï¼ŒMCTSï¼‰ alpha-betaå‰ªææœç´¢ ä¸€ç§å¯¹æœ€å°æœ€å¤§æœç´¢è¿›è¡Œæ”¹è¿›çš„ç®—æ³•ï¼Œå³åœ¨æœç´¢è¿‡ç¨‹ä¸­å¯å‰ªé™¤æ— éœ€æœç´¢çš„åˆ†æ”¯èŠ‚ç‚¹ï¼Œä¸”ä¸å½±å“æœç´¢ç»“æœã€‚. P62.3è’™ç‰¹å¡æ´›æ ‘æœç´¢ alphaGoä¸‰å¤§æ³•å®ï¼šæ·±åº¦å­¦ä¹ ã€å¼ºåŒ–å­¦ä¹ ã€MCTS é€šè¿‡é‡‡æ ·è€Œéç©·ä¸¾æ–¹æ³•æ¥å®ç°æœç´¢ï¼Œä»è€Œè·Ÿä¸Šè¿°ä¸¤ç§æœç´¢æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«ã€‚ å¤šè‡‚èµŒåšæœºé—®é¢˜æ˜¯ä¸€ç§åºåˆ—å†³ç­–é—®é¢˜ï¼Œè¿™ç§é—®é¢˜éœ€è¦åœ¨åˆ©ç”¨ï¼ˆexploitationï¼‰å’Œæ¢ç´¢ï¼ˆexplorationï¼‰ä¹‹é—´ä¿æŒå¹³è¡¡ã€‚ åˆ©ç”¨ï¼ˆexploitationï¼‰ï¼šä¿è¯åœ¨è¿‡å»å†³ç­–ä¸­å¾—åˆ°æœ€ä½³å›æŠ¥ æ¢ç´¢ï¼ˆexplorationï¼‰ï¼šå¯„å¸Œæœ›åœ¨æœªæ¥èƒ½å¤Ÿå¾—åˆ°æ›´å¤§å›æŠ¥ exploitation component(åˆ©ç”¨) ç¬¬ä¸€éƒ¨åˆ†æ˜¯ \\frac{Q(v_{i})}{N(v_{i})} â€‹ ï¼Œä¹Ÿç§°ä½œexploitation componentã€‚ Q(Vi)ä¸ºå­èŠ‚ç‚¹è·èƒœæ¬¡æ•°ï¼ŒN(Vi)ä¸ºå­èŠ‚ç‚¹å‚ä¸æ¨¡æ‹Ÿçš„æ¬¡æ•° å¯ä»¥çœ‹åšæ˜¯å­èŠ‚ç‚¹Viçš„èƒœç‡ä¼°è®¡ï¼ˆæ€»æ”¶ç›Š/æ€»æ¬¡æ•°=å¹³å‡æ¯æ¬¡çš„æ”¶ç›Šï¼‰ã€‚ä½†æ˜¯ä¸èƒ½åªé€‰æ‹©èƒœç‡é«˜çš„ä¸‹ä¸€æ­¥ï¼Œå› ä¸ºè¿™ç§è´ªå©ªæ–¹å¼çš„æœç´¢ä¼šå¾ˆå¿«å¯¼è‡´æ¸¸æˆç»“æŸï¼Œè¿™å¾€å¾€ä¼šå¯¼è‡´æœç´¢ä¸å……åˆ†ï¼Œé”™è¿‡æœ€ä¼˜è§£ã€‚ ä¸¾ä¸ªç®€å•çš„ä¾‹å­ã€‚ç°åœ¨å‡è®¾MCTSçš„UCTå‡½æ•°åªç”¨äº†æ¢ç´¢æˆåˆ†ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæˆ‘ä»¬å¯¹æ‰€æœ‰å­èŠ‚ç‚¹è¿›è¡Œäº†ä¸€æ¬¡æ¨¡æ‹Ÿï¼Œç„¶ååœ¨ä¸‹ä¸€æ­¥ä¸­åªè®¿é—®è‡³å°‘èµ¢äº†ä¸€æ¬¡çš„å­èŠ‚ç‚¹ã€‚é‚£ä¹ˆåœ¨ç¬¬ä¸€æ¬¡æ¨¡æ‹Ÿä¸­é‚£äº›ä¸å¹¸æœªè¢«é€‰ä¸­çš„èŠ‚ç‚¹ï¼ˆå®é™…ä¸­rolloutç­–ç•¥å‡½æ•°é€šå¸¸æ˜¯éšæœºçš„ï¼‰å°†ä¼šè¢«ç«‹åˆ»æŠ›å¼ƒ exploration component(æ¢ç´¢) c* \\sqrt{\\frac{\\log(N(v))}{N(v_{i})} }$$ï¼Œè¿™ä¸ªæˆåˆ†æ›´å€¾å‘äºé‚£äº›æƒ³å¯¹è¾ƒå°‘è¢«æ¢ç´¢çš„èŠ‚ç‚¹N(Vi)å°ã€‚ å‚æ•°cæ˜¯exploitationå’Œexplorationä¹‹é—´çš„æŠ˜ä¸­ç³»æ•°ã€‚ ##### MCTSçš„ç»ˆæ­¢ ç»ˆæ­¢æ¡ä»¶(or)ï¼š - è¾¾åˆ°ä¸€å®šçš„è¿­ä»£æ¬¡æ•° - è¾¾åˆ°è§„å®šçš„æœç´¢æ—¶é—´ å½“MSCTç¨‹åºç»“æŸæ—¶ï¼Œæœ€ä½³çš„ç§»åŠ¨é€šå¸¸æ˜¯è®¿é—®æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯UCTæœ€å¤§çš„ç‚¹ã€‚ å°†ä¸Šé™ç½®ä¿¡åŒºé—´ç®—æ³•UCBåº”ç”¨äºæ¸¸æˆæ ‘çš„æœç´¢æ–¹æ³•ï¼Œç”±Kocsiså’ŒSzepesvariåœ¨2006å¹´æå‡ºåŒ…æ‹¬äº†å››ä¸ªæ­¥éª¤ï¼š**é€‰ä¸¾ï¼ˆselectionï¼‰**ï¼Œ**æ‰©å±•ï¼ˆexpansionï¼‰**ï¼Œ**æ¨¡æ‹Ÿï¼ˆsimulationï¼‰**ï¼Œ**åå‘ä¼ æ’­ï¼ˆBack-Propagationï¼‰** **é€‰æ‹©** &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°\\MCTS1.jpg\" alt=\"MCTS1\" style=\"zoom:67%;\" /&gt; **æ‹“å±•** &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°\\MCTS2.jpg\" alt=\"MCTS2\" style=\"zoom:67%;\" /&gt; **æ¨¡æ‹Ÿã€åå‘ä¼ æ’­** &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°\\MCTS3.jpg\" alt=\"MCTS3\" style=\"zoom:67%;\" /&gt; ##### MCTSå­¦ä¹ ç­–ç•¥ï¼š &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°\\MCTSå­¦ä¹ ç­–ç•¥.jpg\" alt=\"MCTSå­¦ä¹ ç­–ç•¥\" style=\"zoom:67%;\" /&gt; ##### MCTSç®—æ³•æ‰§è¡Œ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°\\processure.png\" alt=\"processure\" style=\"zoom:67%;\" /&gt; &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°\\MCTSç®—æ³•æ‰§è¡Œ.jpg\" alt=\"MCTSç®—æ³•æ‰§è¡Œ\" style=\"zoom:67%;\" /&gt; # [P125.1æœºå™¨å­¦ä¹ åŸºæœ¬æ¦‚å¿µ](https://www.bilibili.com/video/BV1c7411n7EY?p=12) &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/ç›‘ç£å­¦ä¹ .jpg\" alt=\"ç›‘ç£å­¦ä¹ \" style=\"zoom:67%;\" /&gt; **æœºå™¨å­¦ä¹ çš„ç›®çš„ï¼š** 1.åŸå§‹æ•°æ®ä¸­æå–ç‰¹å¾ 2.å­¦ä¹ æ˜ å°„å‡½æ•°f 3.é€šè¿‡æ˜ å°„å‡½æ•°få°†&lt;u&gt;åŸå§‹æ•°æ®æ˜ å°„åˆ°è¯­ä¹‰ç©ºé—´&lt;/u&gt;ï¼Œå³å¯»æ‰¾&lt;u&gt;æ•°æ®å’Œä»»åŠ¡ç›®æ ‡&lt;/u&gt;ä¹‹é—´çš„å…³ç³» ## ç›‘ç£å­¦ä¹  ### ç›‘ç£å­¦ä¹ çš„ä¸¤ç§æ–¹æ³•ï¼š - åˆ¤åˆ«æ¨¡å‹ - åˆ¤åˆ«æ–¹æ³•ç›´æ¥å­¦ä¹ åˆ¤åˆ«å‡½æ•°fï¼ˆXï¼‰æˆ–è€…æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒPï¼ˆYIXï¼‰ä½œä¸ºé¢„æµ‹çš„æ¨¡å‹ï¼Œå³åˆ¤åˆ«æ¨¡å‹ã€‚ - åˆ¤åˆ«æ¨¡å‹å…³å¿ƒåœ¨ç»™å®šè¾“å…¥æ•°æ®ä¸‹ï¼Œé¢„æµ‹è¯¥æ•°æ®çš„è¾“å‡ºæ˜¯ä»€ä¹ˆã€‚ - å…¸å‹åˆ¤åˆ«æ¨¡å‹åŒ…æ‹¬å›å½’æ¨¡å‹ã€ç¥ç»ç½‘ç»œã€æ”¯æŒå‘é‡æœºå’ŒAda boostingç­‰ã€‚ - ç”Ÿæˆæ¨¡å‹ - ç”Ÿæˆæ¨¡å‹ä»æ•°æ®ä¸­å­¦ä¹ è”åˆæ¦‚ç‡åˆ†å¸ƒPï¼ˆXï¼ŒYï¼‰ï¼ˆé€šè¿‡ä¼¼ç„¶æ¦‚ç‡P(X|Y)-&gt;ä»è¾“å…¥æ•°æ®äº§ç”Ÿè¾“å‡ºã€ç±»æ¦‚ç‡P(Y)çš„ä¹˜ç§¯æ¥æ±‚å–ï¼‰ $P(Y|Xï¼‰= \\frac{P(X,Y)}{P(x)}$æˆ–è€…$P(Y|Xï¼‰= \\frac{P(X|Y)*P(Y)}{P(x)}$ - å…¸å‹æ–¹æ³•ä¸ºè´å¶æ–¯æ–¹æ³•ã€éšé©¬å°”å¯å¤«é“¾æˆä¹‹äºé±¼ã€ä¸å¦‚æˆä¹‹äºâ€œæ¸”â€ - è”åˆåˆ†å¸ƒæ¦‚ç‡Pï¼ˆXï¼ŒYï¼‰æˆ–ä¼¼ç„¶æ¦‚ç‡Pï¼ˆYIXï¼‰æ±‚å–å¾ˆå›°éš¾ ## [P135.2çº¿æ€§å›å½’åˆ†æ](https://www.bilibili.com/video/BV1c7411n7EY?p=13) çº¿æ€§å›å½’å®šä¹‰ï¼šåˆ†æä¸åŒå˜é‡ä¹‹é—´å­˜åœ¨å…³ç³»çš„ç ”ç©¶å«å›å½’åˆ†æï¼Œåˆ»ç”»ä¸åŒå˜é‡ä¹‹é—´å…³ç³»çš„æ¨¡å‹è¢«ç§°ä¸ºå›å½’æ¨¡å‹ã€‚å¦‚æœè¿™ä¸ªæ¨¡å‹æ˜¯çº¿æ€§çš„ï¼Œåˆ™ç§°ä¸ºçº¿æ€§å›å½’æ¨¡å‹ã€‚ ä¾‹å¦‚y = k*x + bï¼Œå°±æ˜¯ä¸€ä¸ªå›å½’æ¨¡å‹ï¼Œå…¶ä¸­çš„å‚æ•°kå’Œbéœ€è¦ä»æ ‡æ³¨çš„æ•°æ®ä¸­å­¦ä¹ å¾—åˆ°ï¼ˆç›‘ç£å­¦ä¹ ï¼‰ **çº¿æ€§å›å½’æ¨¡å‹ä¾‹å­** èƒŒæ™¯ï¼šç»™å‡ºäº†è«çº³ç½—äºšå±±ï¼ˆå¤å¨å¤·å²›çš„æ´»ç«å±±ï¼‰ä»1970å¹´åˆ°2005å¹´æ¯5å¹´çš„äºŒæ°§åŒ–ç¢³æµ“åº¦ï¼Œå•ä½æ˜¯ç™¾ä¸‡åˆ†æ¯”æµ“åº¦ï¼ˆParts Per Millionï¼Œppmï¼‰ã€‚ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/çº¿æ€§å›å½’.jpg\" alt=\"çº¿æ€§å›å½’\" style=\"zoom:67%;\" /&gt; é—®é¢˜Qï¼š1ï¼‰ç»™å‡º1984å¹´äºŒæ°§åŒ–ç¢³æµ“åº¦å€¼ï¼›2ï¼‰é¢„æµ‹2010å¹´äºŒæ°§åŒ–ç¢³æµ“åº¦å€¼ è§£ç­”A 1. ç›®æ ‡ï¼šå»ºç«‹å›å½’æ¨¡å‹y = a*x + bï¼Œ é€šè¿‡æœ€ä½³å›å½’æ¨¡å‹æ±‚è§£å‚æ•°aå’Œbï¼Œ æœ€ä½³å›å½’æ¨¡å‹æ˜¯æœ€å°åŒ–æ®‹å·®å¹³æ–¹å’Œçš„å‡å€¼ï¼Œå³è¦æ±‚8ç»„ï¼ˆxï¼Œyï¼‰æ•°æ®å¾—åˆ°çš„æ®‹å·®å¹³å‡å€¼$\\frac{1}{N} \\sum(y-\\tilde{y})^{2}$æœ€å°ã€‚æ®‹å·®å¹³å‡å€¼æœ€å°åªä¸å‚æ•°aå’Œbæœ‰å…³ï¼Œæœ€ä¼˜è§£å³æ˜¯ä½¿å¾—æ®‹å·®æœ€å°æ‰€å¯¹åº”çš„aå’Œbçš„å€¼ã€‚ 2. å…·ä½“æ­¥éª¤ï¼š - è®°åœ¨å½“å‰å‚æ•°ä¸‹ç¬¬iä¸ªè®­ç»ƒæ ·æœ¬xiçš„é¢„æµ‹å€¼ä¸º$\\hat{y_i}$ï¼› - xiçš„æ ‡æ³¨å€¼ï¼ˆå®é™…å€¼ï¼‰yiï¼Œä¸é¢„æµ‹å€¼$\\hat{y_i}$ï¼Œä¹‹å·®è®°ä¸º$\\left(y_{i}-\\hat{y}_{i}\\right)^{2}$ - è®­ç»ƒé›†ä¸­nä¸ªæ ·æœ¬æ‰€äº§ç”Ÿè¯¯å·®æ€»å’Œä¸º$L(a, b)=\\sum_{i=1}^{n}\\left(y_{i}-a \\times x_{i}-b\\right)^{2}$--ã€‹**è¯¯å·®å‡½æ•°** - ç›®æ ‡ï¼šå¯»æ‰¾ä¸€ç»„aå’Œbï¼Œä½¿å¾—è¯¯å·®æ€»å’ŒLï¼ˆaï¼Œbï¼‰å€¼æœ€å°ã€‚åœ¨çº¿æ€§å›å½’ä¸­ï¼Œè§£å†³å¦‚æ­¤ç›®æ ‡çš„æ–¹æ³•å«**æœ€å°äºŒä¹˜æ³•**ã€‚ ä¸€èˆ¬è€Œè¨€ï¼Œè¦ä½¿å‡½æ•°å…·æœ‰æœ€å°å€¼ï¼Œå¯&lt;u&gt;å¯¹L(a, b)å‚æ•°aå’Œbåˆ†åˆ«æ±‚å¯¼ï¼Œä»¤å…¶å¯¼æ•°å€¼ä¸ºé›¶--&gt;åå¯¼&lt;/u&gt;ï¼Œå†æ±‚å–å‚æ•°aå’Œbçš„å–å€¼ã€‚ â–²çº¿æ€§å›å½’ï¼Œå¯ä»¥ä»å·²æ ‡æ³¨æ•°æ®å‡ºå‘ï¼Œæ‰¾å¯»ä¸¤ç»„å˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»ï¼Œå¹¶ä¸”å¯æ‹“å±•ä¸ºå¤šç»´å˜é‡ ## [P145.3æå‡ç®—æ³•ï¼ˆboostingï¼‰](https://www.bilibili.com/video/BV1c7411n7EY?p=14) å¯¹äºä¸€ä¸ªå¤æ‚çš„åˆ†ç±»ä»»åŠ¡ï¼Œå¯ä»¥å°†å…¶åˆ†è§£ä¸ºè‹¥å¹²å­ä»»åŠ¡ï¼Œç„¶åå°†è‹¥å¹²å­ä»»åŠ¡å®Œæˆæ–¹æ³•**ç»¼åˆ**ï¼Œæœ€ç»ˆå®Œæˆè¯¥å¤æ‚ä»»åŠ¡ã€‚å³å°†å¼±åˆ†ç±»å™¨ï¼ˆweak classifiersï¼‰**ç»„åˆ**èµ·æ¥ï¼Œå½¢æˆå¼ºåˆ†ç±»å™¨ï¼ˆstrong classifierï¼‰ ### ä¸ºä»€ä¹ˆè¿™æ ·æ˜¯èƒ½workçš„å‘¢ï¼Ÿ &gt; è®¡ç®—å­¦ä¹ ç†è®ºï¼ˆComputational Learning Theoryï¼‰ &gt; - å¯è®¡ç®—ï¼šä»€ä¹ˆä»»åŠ¡æ˜¯å¯ä»¥è®¡ç®—çš„ï¼ŸAns: å›¾çµå¯åœæœº &gt; - å¯å­¦ä¹ ï¼šä»€ä¹ˆä»»åŠ¡æ˜¯å¯ä»¥è¢«å­¦ä¹ çš„ã€ä»è€Œè¢«å­¦ä¹ æ¨¡å‹æ¥å®Œæˆï¼Ÿ &gt; &gt; å­¦ä¹ ä»»åŠ¡ï¼šç»Ÿè®¡æŸä¸ªç”µè§†èŠ‚ç›®åœ¨å…¨å›½çš„æ”¶è§†ç‡ã€‚ &gt; æ–¹æ³•ï¼šä¸å¯èƒ½å»ç»Ÿè®¡æ•´ä¸ªå›½å®¶ä¸­æ¯ä¸ªäººæ˜¯å¦è§‚çœ‹ç”µè§†èŠ‚ç›®ã€è¿›è€Œç®—å‡ºæ”¶è§†ç‡ã€‚åªèƒ½**æŠ½æ ·**ä¸€éƒ¨åˆ†äººå£ï¼Œç„¶åå°†æŠ½æ ·äººå£ä¸­è§‚çœ‹è¯¥ç”µè§†èŠ‚ç›®çš„æ¯”ä¾‹ä½œä¸ºè¯¥ç”µè§†èŠ‚ç›®çš„å…¨å›½æ”¶è§†ç‡ã€‚ &gt; éœå¤«ä¸ä¸ç­‰å¼ï¼šå…¨å›½äººå£ä¸­çœ‹è¯¥ç”µè§†èŠ‚ç›®çš„äººå£æ¯”ä¾‹ï¼ˆè®°ä½œxï¼‰ä¸æŠ½æ ·äººå£ä¸­è§‚çœ‹è¯¥ç”µè§†èŠ‚ç›®çš„äººå£æ¯”ä¾‹ï¼ˆè®°ä½œyï¼‰æ»¡è¶³å¦‚ä¸‹å…³ç³»ï¼š &gt; &gt; &lt;mark&gt;å½“Nè¶³å¤Ÿå¤§æ—¶ï¼Œâ€œå…¨å›½äººå£ä¸­ç”µè§†èŠ‚ç›®æ”¶è§†ç‡â€ä¸â€œæ ·æœ¬äººå£ä¸­ç”µè§†èŠ‚ç›®æ”¶è§†ç‡â€å·®å€¼è¶…è¿‡è¯¯å·®èŒƒå›´eçš„æ¦‚ç‡éå¸¸å°ã€‚&lt;/mark&gt; &gt; &gt; å¯¹äºç»Ÿè®¡ç”µè§†èŠ‚ç›®æ”¶è§†ç‡è¿™æ ·çš„ä»»åŠ¡ï¼Œå¯ä»¥é€šè¿‡&lt;u&gt;ä¸åŒçš„é‡‡æ ·æ–¹æ³•ï¼ˆå³ä¸åŒæ¨¡å‹ï¼‰&lt;/u&gt;æ¥è®¡ç®—æ”¶è§†ç‡ã€‚æ¯ä¸ªæ¨¡å‹ä¼šäº§ç”Ÿä¸åŒçš„è¯¯å·®ã€‚ é—®é¢˜ï¼šå¦‚æœå¾—åˆ°å®Œæˆè¯¥ä»»åŠ¡çš„è‹¥å¹²â€œå¼±æ¨¡å‹â€ï¼Œæ˜¯å¦å¯ä»¥å°†è¿™äº›å¼±æ¨¡å‹ç»„åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªâ€œå¼ºæ¨¡å‹â€ã€‚è¯¥â€œå¼ºæ¨¡å‹â€äº§ç”Ÿè¯¯å·®å¾ˆå°å‘¢ï¼Ÿ è¿™å°±æ˜¯**æ¦‚ç‡è¿‘ä¼¼æ­£ç¡®ï¼ˆPACï¼‰**è¦å›ç­”çš„é—®é¢˜ã€‚ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/PAC.jpg\" alt=\"PAC\" style=\"zoom:67%;\" /&gt; ### adaboosting &gt; å°†ä¸€ç³»åˆ—å¼±åˆ†ç±»å™¨ç»„åˆæˆå¼ºåˆ†ç±»å™¨ Ada Boostingç®—æ³•ä¸­ä¸¤ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š - åœ¨æ¯ä¸ªå¼±åˆ†ç±»å™¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•æ”¹å˜è®­ç»ƒæ•°æ®çš„æƒé‡ï¼šæé«˜åœ¨ä¸Šä¸€è½®ä¸­åˆ†ç±»é”™è¯¯æ ·æœ¬çš„æƒé‡ã€‚ - å¦‚ä½•å°†ä¸€ç³»åˆ—å¼±åˆ†ç±»å™¨ç»„åˆæˆå¼ºåˆ†ç±»å™¨ï¼šé€šè¿‡åŠ æƒå¤šæ•°è¡¨å†³æ–¹æ³•æ¥æé«˜åˆ†ç±»è¯¯å·®å°çš„å¼±åˆ†ç±»å™¨çš„æƒé‡ï¼Œè®©å…¶åœ¨æœ€ç»ˆåˆ†ç±»ä¸­èµ·åˆ°æ›´å¤§ä½œç”¨ã€‚åŒæ—¶å‡å°‘åˆ†ç±»è¯¯å·®å¤§çš„å¼±åˆ†ç±»å™¨çš„æƒé‡ï¼Œè®©å…¶åœ¨æœ€ç»ˆåˆ†ç±»ä¸­ä»…èµ·åˆ°è¾ƒå°ä½œç”¨ã€‚ ç®—æ³•æ­¥éª¤ï¼š 1. æ•°æ®æ ·æœ¬æƒé‡åˆå§‹åŒ–â€”â€”åˆå§‹åŒ–æ¯ä¸ªè®­ç»ƒæ ·æœ¬çš„æƒé‡ - $D_{1}=\\left(w_{11}, \\ldots, w_{1 i}, \\ldots, w_{1 N}\\right),$ å…¶ä¸­ $w_{1 i}=\\frac{1}{N}(1 \\leq i \\leq N)$ï¼Œåˆå§‹æƒ…å†µä¸‹æ¯ä¸ªåˆ†ç±»å™¨çš„æƒé‡æ˜¯ä¸€æ ·çš„ 2. -ç¬¬mä¸ªå¼±åˆ†ç±»å™¨è®­ç»ƒ $\\quad$ å¯¹ $m=1,2, \\ldots, M$ a) ä½¿ç”¨å…·æœ‰åˆ†å¸ƒæƒé‡ $D_{m}$ çš„è®­ç»ƒæ•°æ®æ¥å­¦ä¹ å¾—åˆ°ç¬¬mä¸ªåŸºåˆ†ç±»å™¨ï¼ˆå¼±åˆ†ç±»å™¨ï¼‰ $G_{m}$ : G_{m}(x): X \\rightarrow{-1,1} â€‹ b) \\quad è®¡ç®— G_{m}(x) åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šçš„åˆ†ç±»è¯¯å·® \\operatorname{err}_{m}=\\sum_{i=1}^{N} w_{\\operatorname{mi} } I\\left(G_{m}\\left(x_{i}\\right) \\neq y_{i}\\right) è¿™é‡Œ: I(\\cdot)=1, å¦‚æœ G_{m}\\left(x_{i}\\right) \\neq y_{i} ; å¦åˆ™ä¸º 0 â€‹ c) \\quad &lt;u&gt;è®¡ç®—å¼±åˆ†ç±»å™¨ G_{m}(x) çš„æƒé‡&lt;/u&gt; : \\quad \\alpha_{m}=\\frac{1}{2} \\ln \\frac{1-e r r_{m} }{e r r_{m} } ï¼Œå¦‚æœ e r r_{m}=\\sum_{i=1}^{N} w_{m i} I\\left(G_{m}\\left(x_{i}\\right) \\neq y_{i}\\right)=1 æ„å‘³ç€æ¯ä¸ªæ ·æœ¬éƒ½åˆ†ç±»é”™ï¼Œåˆ™ \\alpha_m \\to -\\infty ï¼Œå½“ \\alpha_m =1/2ï¼Œ åˆ™æ€§èƒ½ç›¸å½“äºéšæœºåˆ†ç±»ï¼› \\alpha_m æƒé‡éšåˆ†ç±»è¯¯å·®errmå‡å°è€Œå¢å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ†ç±»è¶Šå°‘ï¼Œåˆ†ç±»å™¨çš„æƒé‡è¶Šå¤§ã€‚ â€‹ d) \\quad æ›´æ–°è®­ç»ƒæ ·æœ¬æ•°æ®çš„åˆ†å¸ƒæƒé‡: \\quad D_{m+1}=w_{m+1, i}=\\frac{w_{m, i} }{z_{m} } e^{-\\alpha_{m} y_{i} G_{m}\\left(x_{i}\\right)}, å…¶ä¸­ Z_{m} æ˜¯å½’ä¸€åŒ–å› å­ä»¥ä½¿å¾— D_{m+1} ä¸ºæ¦‚ç‡åˆ†å¸ƒ, \\quad Z_{m}=\\sum_{i=1}^{N} w_{m, i} e^{-\\alpha_{m} y_{i} G_{m}\\left(x_{i}\\right)} - å¯¹æ•°æ®ä¸æ–­åˆ’é‡ç‚¹ï¼š \\boldsymbol{w}_{\\boldsymbol{m}+\\mathbf{1}, i}=\\left\\{\\begin{array}{ll}\\frac{\\boldsymbol{w}_{\\boldsymbol{m}, i} }{\\boldsymbol{Z}_{\\boldsymbol{m} }} \\boldsymbol{e}^{-\\alpha_{m} }, &amp; \\boldsymbol{G}_{\\boldsymbol{m} }\\left(\\boldsymbol{x}_{\\boldsymbol{i} }\\right)=\\boldsymbol{y}_{\\boldsymbol{i} } \\\\ \\frac{\\boldsymbol{w}_{\\boldsymbol{m}, i} }{\\boldsymbol{Z}_{\\boldsymbol{m} }} \\boldsymbol{e}^{\\alpha_{m} }, &amp; \\boldsymbol{G}_{\\boldsymbol{m} }\\left(\\boldsymbol{x}_{i}\\right) \\neq \\boldsymbol{y}_{\\boldsymbol{i} }\\end{array}\\right. å¯è§ï¼Œå¦‚æœæŸä¸ªæ ·æœ¬æ— æ³•è¢«ç¬¬mä¸ªå¼±åˆ†ç±»å™¨Gmï¼ˆxï¼‰åˆ†ç±»æˆåŠŸï¼Œåˆ™éœ€è¦å¢å¤§è¯¥æ ·æœ¬æƒé‡ï¼Œå¦åˆ™å‡å°‘è¯¥æ ·æœ¬æƒé‡ã€‚è¿™æ ·ï¼Œè¢«é”™è¯¯åˆ†ç±»æ ·æœ¬ä¼šåœ¨è®­ç»ƒç¬¬m+1ä¸ªå¼±åˆ†ç±»å™¨Gm+1ï¼ˆxï¼‰æ—¶ä¼šè¢«â€œé‡ç‚¹å…³æ³¨â€ã€‚ åœ¨æ¯ä¸€è½®å­¦ä¹ è¿‡ç¨‹ä¸­ï¼ŒAda Boostingç®—æ³•å‡åœ¨åˆ’é‡ç‚¹ï¼ˆé‡è§†å½“å‰å°šæœªè¢«æ­£ç¡®åˆ†ç±»çš„æ ·æœ¬ï¼‰ 3. å¼±åˆ†ç±»å™¨ç»„åˆæˆå¼ºåˆ†ç±»å™¨ ä»¥çº¿æ€§åŠ æƒå½¢å¼æ¥ç»„åˆå¼±åˆ†ç±»å™¨ f(x) f(x)=\\sum_{i=1}^{M} \\alpha_{m} G_{m}(x) å¾—åˆ°å¼ºåˆ†ç±»å™¨ G(x) G(x)=\\operatorname{sign}(f(x))=\\operatorname{sign}\\left(\\sum_{i=1}^{M} \\alpha_{m} G_{m}(x)\\right) - fï¼ˆxï¼‰æ˜¯Mä¸ªå¼±åˆ†ç±»å™¨çš„**åŠ æƒçº¿æ€§**ç´¯åŠ ã€‚åˆ†ç±»èƒ½åŠ›è¶Šå¼ºçš„å¼±åˆ†ç±»å™¨å…·æœ‰æ›´å¤§æƒé‡ã€‚ - \\alpha_{m} ç´¯åŠ ä¹‹å’Œå¹¶ä¸ç­‰äº1ã€‚ - f(x) ç¬¦å·å†³å®šæ ·æœ¬ x åˆ†ç±»ä¸º 1 æˆ–- 1 ã€‚å¦‚æœ \\sum_{i=1}^{M} \\alpha_{m} G_{m}(x) ä¸ºæ­£ï¼Œåˆ™å¼ºåˆ†ç±»å™¨ G(x) å°†æ ·æœ¬ x åˆ†ç±»ä¸º1 ; å¦åˆ™ä¸º-1ã€‚ **å›çœ‹éœå¤«ä¸ä¸ç­‰å¼** &gt; å‡è®¾æœ‰Mä¸ªå¼±åˆ†ç±»å™¨Gmï¼ˆ1smâ‰¤Mï¼‰ï¼Œåˆ™Mä¸ªå¼±åˆ†ç±»å™¨çº¿æ€§ç»„åˆæ‰€äº§ç”Ÿè¯¯å·®æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š P\\left(\\sum_{i=1}^{M} G_{m}(x) \\neq \\zeta(x)\\right) \\leq e^{-\\frac{1}{2} M(1-2 \\epsilon)^{2} } - \\zeta(x) æ˜¯çœŸå®åˆ†ç±»å‡½æ•°ã€âˆˆï¼ˆ0ï¼Œ1ï¼‰ã€‚ä¸Šå¼è¡¨æ˜ï¼Œå¦‚æœæ‰€â€œç»„åˆâ€å¼±åˆ†ç±»å™¨è¶Šå¤šï¼Œåˆ™å­¦ä¹ åˆ†ç±»è¯¯å·®å‘ˆæŒ‡æ•°çº§ä¸‹é™ï¼Œç›´è‡³ä¸ºé›¶ã€‚ - ä¸Šè¿°ä¸ç­‰å¼æˆç«‹æœ‰ä¸¤ä¸ªå‰ææ¡ä»¶ï¼š1ï¼‰æ¯ä¸ªå¼±åˆ†ç±»å™¨äº§ç”Ÿçš„è¯¯å·®ç›¸äº’ç‹¬ç«‹ï¼›2ï¼‰æ¯ä¸ªå¼±åˆ†ç±»å™¨çš„è¯¯å·®ç‡å°äº50%ã€‚å› ä¸ºæ¯ä¸ªå¼±åˆ†ç±»å™¨å‡æ˜¯åœ¨åŒä¸€ä¸ªè®­ç»ƒé›†ä¸Šäº§ç”Ÿï¼Œæ¡ä»¶1ï¼‰éš¾ä»¥æ»¡è¶³ã€‚ä¹Ÿå°±è¯´ï¼Œâ€œå‡†ç¡®æ€§ï¼ˆå¯¹åˆ†ç±»ç»“æœè€Œè¨€ï¼‰â€å’Œâ€œå·®å¼‚æ€§ï¼ˆå¯¹æ¯ä¸ªå¼±åˆ†ç±»å™¨è€Œè¨€ï¼‰â€éš¾ä»¥åŒæ—¶æ»¡è¶³ã€‚----&gt;Ada Boostingé‡‡å–äº†åºåˆ—åŒ–å­¦ä¹ æœºåˆ¶ã€‚ #### ä¼˜åŒ–ç›®æ ‡ Ada Boostå®é™…åœ¨æœ€å°åŒ–å¦‚ä¸‹æŒ‡æ•°æŸå¤±å‡½æ•°ï¼ˆminimization of exponential lossï¼‰ï¼š \\sum_{i} e^{-y_{i} f\\left(x_{i}\\right)}=\\sum_{i} e^{-y_{i} \\sum_{m=1}^{M} \\alpha_{m} G_{m}\\left(x_{i}\\right)} Ada Boostçš„åˆ†ç±»è¯¯å·®ä¸Šç•Œå¦‚ä¸‹æ‰€ç¤ºï¼š \\frac{1}{N} \\sum_{i=1}^{N} I\\left(G\\left(x_{i}\\right) \\neq y_{i}\\right) \\leq \\frac{1}{N} \\sum_{i} e^{-y_{i} f\\left(x_{i}\\right)}=\\prod_{m} Z_{m} åœ¨ç¬¬mæ¬¡è¿­ä»£ä¸­ï¼ŒAda Boostingæ€»æ˜¯è¶‹å‘äºå°†å…·æœ‰æœ€å°è¯¯å·®çš„å­¦ä¹ æ¨¡å‹é€‰åšæœ¬è½®ç”Ÿæˆçš„å¼±åˆ†ç±»å™¨Gmï¼Œä½¿å¾—ç´¯ç§¯è¯¯å·®å¿«é€Ÿä¸‹é™ã€‚ ## æ— ç›‘ç£å­¦ä¹  &gt; æ— ç›‘ç£å­¦ä¹ ä¸­ï¼Œç”±äºæ•°æ®æœ¬èº«æ²¡æœ‰è¯­ä¹‰æ ‡ç­¾ï¼Œå› æ­¤æˆ‘ä»¬å¯¹èšç±»ç»“æœæ— æ³•çŸ¥é“åˆ°åº•ä»£è¡¨çš„æ˜¯æ€æ ·çš„é«˜å±‚è¯­ä¹‰ ![æ— ç›‘ç£å­¦ä¹ ](./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/æ— ç›‘ç£å­¦ä¹ .jpg) &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/æ— ç›‘ç£ç›¸ä¼¼åº¦.jpg\" alt=\"æ— ç›‘ç£ç›¸ä¼¼åº¦\" style=\"zoom:67%;\" /&gt; æ•°æ®ç‰¹å¾å’Œç›¸ä¼¼åº¦å‡½æ•°éƒ½å¾ˆé‡è¦ ### [P156.1Kå‡å€¼èšç±»](https://www.bilibili.com/video/BV1c7411n7EY?p=15)-kmeans è¾“å…¥ï¼šnä¸ªæ•°æ®ï¼ˆæ— ä»»ä½•æ ‡æ³¨ä¿¡æ¯ï¼‰ è¾“å‡ºï¼škä¸ªèšç±»ç»“æœ ç›®çš„ï¼šå°†nä¸ªæ•°æ®èšç±»åˆ°kä¸ªé›†åˆï¼ˆä¹Ÿç§°ä¸ºç±»ç°‡ï¼‰ **ç®—æ³•æè¿°** è‹¥å¹²å®šä¹‰: nä¸ªm ç»´æ•°æ® \\left\\{x_{1}, x_{2}, \\ldots, x_{n}\\right\\}, x_{i} \\in R^{m}(1 \\leq i \\leq n) - ä¸¤ä¸ª m ç»´æ•°æ®ä¹‹é—´çš„æ¬§æ°è·ç¦»ä¸º d\\left(x_{i}, x_{j}\\right)=\\sqrt{\\left(x_{i 1}-x_{j 1}\\right)^{2}+\\left(x_{i 2}-x_{j 2}\\right)^{2}+\\cdots+\\left(x_{i m}-x_{j m}\\right)^{2}} d\\left(x_{i}, x_{j}\\right) å€¼è¶Šå°ï¼Œè¡¨ç¤º x_{i} å’Œ x_{j} è¶Šç›¸ä¼¼; åä¹‹è¶Šä¸ç›¸ä¼¼ - èšç±»é›†åˆæ•°ç›® k é—®é¢˜ï¼šå¦‚ä½•å°†nä¸ªæ•°æ®ä¾æ®å…¶ç›¸ä¼¼åº¦å¤§å°å°†å®ƒä»¬åˆ†åˆ«èšç±»åˆ° k ä¸ªé›†åˆï¼Œä½¿å¾—æ¯ä¸ªæ•°æ®ä»…å±äºä¸€ä¸ªèšç±»é›†åˆã€‚ 1. åˆå§‹åŒ–â€”â€”åˆå§‹åŒ–èšç±»è´¨å¿ƒ - åˆå§‹åŒ– k ä¸ªèšç±»è´¨å¿ƒ c=\\left\\{c_{1}, c_{2}, \\ldots, c_{k}\\right\\}, c_{j} \\in R^{m}(1 \\leq j \\leq k) - æ¯ä¸ªèšç±»è´¨å¿ƒ c_{j} æ‰€åœ¨é›†åˆè®°ä¸º G_{j} 2. å¯¹æ•°æ®è¿›è¡Œèšç±»â€”â€”å°†æ¯ä¸ªå¾…èšç±»æ•°æ®æ”¾å…¥å”¯ä¸€ä¸€ä¸ªèšç±»é›†åˆä¸­ - è®¡ç®—å¾…èšç±»æ•°æ® x_{i} å’Œè´¨å¿ƒ c_{j} ä¹‹é—´çš„æ¬§æ°è·ç¦» d\\left(x_{i}, c_{j}\\right)(1 \\leq i \\leq n, 1 \\leq j \\leq k) - å°†æ¯ä¸ª x_{i} &lt;u&gt;æ”¾å…¥ä¸ä¹‹è·ç¦»æœ€è¿‘èšç±»è´¨å¿ƒæ‰€åœ¨èšç±»é›†åˆ&lt;/u&gt;ä¸­,å³ \\underset{c_{j \\in C} }{\\operatorname{argmin} } d\\left(x_{i}, c_{j}\\right) 3. æ›´æ–°èšç±»è´¨å¿ƒâ€”â€”æ ¹æ®èšç±»ç»“æœã€æ›´æ–°èšç±»è´¨å¿ƒ - æ ¹æ®æ¯ä¸ªèšç±»é›†åˆä¸­æ‰€åŒ…å«çš„æ•°æ®ï¼Œæ›´æ–°è¯¥èšç±»é›†åˆè´¨å¿ƒå€¼, å³ : c_{j}=\\frac{1}{\\left|G_{j}\\right|} \\sum_{x_{i} \\in G_{j} } x_{i} 4. ç»§ç»­è¿­ä»£â€”â€”ç®—æ³•å¾ªç¯è¿­ä»£ï¼Œç›´åˆ°æ»¡è¶³æ¡ä»¶ èšç±»è¿­ä»£æ»¡è¶³å¦‚ä¸‹ä»»æ„ä¸€ä¸ªæ¡ä»¶ï¼Œåˆ™èšç±»åœæ­¢ï¼š - å·²ç»è¾¾åˆ°äº†è¿­ä»£æ¬¡æ•°ä¸Šé™ - å‰åä¸¤æ¬¡è¿­ä»£ä¸­ï¼Œèšç±»è´¨å¿ƒåŸºæœ¬ä¿æŒä¸å˜ **Kå‡å€¼èšç±»ç®—æ³•çš„å¦ä¸€ä¸ªè§†è§’ï¼šæœ€å°åŒ–æ¯ä¸ªç±»ç°‡çš„æ–¹å·®** - æ¬§æ°è·ç¦»ä¸æ–¹å·®é‡çº²ç›¸åŒ - **æœ€å°åŒ–æ¯ä¸ªç±»ç°‡æ–¹å·®**å°†ä½¿å¾—æœ€ç»ˆ**èšç±»ç»“æœä¸­æ¯ä¸ªèšç±»é›†åˆä¸­æ‰€åŒ…å«æ•°æ®å‘ˆç°å‡ºæ¥å·®å¼‚æ€§æœ€å°**ã€‚ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/kmeans.jpg\" alt=\"kmeans\" style=\"zoom:67%;\" /&gt; #### Kå‡å€¼èšç±»ç®—æ³•çš„ä¸è¶³ - éœ€è¦äº‹å…ˆç¡®å®šèšç±»æ•°ç›®ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¹¶ä¸çŸ¥é“æ•°æ®åº”è¢«èšç±»çš„æ•°ç›® - éœ€è¦åˆå§‹åŒ–èšç±»è´¨å¿ƒï¼Œåˆå§‹åŒ–èšç±»ä¸­å¿ƒå¯¹èšç±»ç»“æœæœ‰è¾ƒå¤§çš„å½±å“ - ç®—æ³•æ˜¯è¿­ä»£æ‰§è¡Œï¼Œæ—¶é—´å¼€é”€éå¸¸å¤§ - æ¬§æ°è·ç¦»å‡è®¾æ•°æ®æ¯ä¸ªç»´åº¦ä¹‹é—´çš„é‡è¦æ€§æ˜¯ä¸€æ ·çš„ ### [P166.2ä¸»æˆåˆ†åˆ†æ](https://www.bilibili.com/video/BV1c7411n7EY?p=16)â€”â€”Principle Component Analysis (PCA) &gt; ä¸»æˆä»½åˆ†ææ˜¯ä¸€ç§ç‰¹å¾é™ç»´æ–¹æ³•ã€‚äººç±»åœ¨è®¤çŸ¥è¿‡ç¨‹ä¸­ä¼šä¸»åŠ¨â€œåŒ–ç¹ä¸ºç®€â€ &gt; å¥¥å¡å§†å‰ƒåˆ€å®šå¾‹ï¼ˆOccam's Razorï¼‰ï¼šâ€œå¦‚æ— å¿…è¦ï¼Œå‹¿å¢å®ä½“â€ï¼Œå³â€œç®€å•æœ‰æ•ˆåŸç†â€ ä¸»æˆä»½åˆ†æï¼š**é™ç»´åçš„ç»“æœè¦ä¿æŒåŸå§‹æ•°æ®å›ºæœ‰ç»“æ„** å•¥æ˜¯åŸå§‹æ•°æ®ä¸­çš„ç»“æ„ï¼Ÿ: 1.å›¾åƒæ•°æ®ä¸­ç»“æ„ï¼šè§†è§‰å¯¹è±¡åŒºåŸŸæ„æˆçš„ç©ºé—´åˆ†å¸ƒ ; 2.æ–‡æœ¬æ•°æ®ä¸­ç»“æ„ï¼šå•è¯ä¹‹é—´çš„ï¼ˆå…±ç°ï¼‰ç›¸ä¼¼æˆ–ä¸ç›¸ä¼¼ è‹¥å¹²ç›¸å…³æ¦‚å¿µï¼šæ–¹å·®å’Œåæ–¹å·®ã€çš®å°”é€Šç›¸å…³ç³»æ•° **æ–¹å·®** - æ–¹å·®ç­‰äºå„ä¸ªæ•°æ®ä¸æ ·æœ¬å‡å€¼ä¹‹å·®çš„å¹³æ–¹å’Œä¹‹å¹³å‡æ•° - æ–¹å·®æè¿°äº†æ ·æœ¬æ•°æ®çš„æ³¢åŠ¨ç¨‹åº¦ **åæ–¹å·®** - è¡¡é‡ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³åº¦ **çš®å°”é€Šç›¸å…³ç³»æ•°** æˆ‘ä»¬å¯é€šè¿‡çš®å°”é€Šç›¸å…³ç³»æ•°ï¼ˆPearson Correlation coefficientï¼‰å°†ä¸¤ç»„å˜é‡ä¹‹é—´çš„å…³è”åº¦è§„æ•´åˆ°ä¸€å®šçš„å–å€¼èŒƒå›´å†…ã€‚ æ³¨ï¼šç›¸å…³ç³»æ•°è¡¨è¾¾çš„æ˜¯çº¿æ€§ç›¸å…³ç¨‹åº¦ **çš®å°”é€Šç›¸å…³ç³»æ•°æ‰€å…·æœ‰çš„æ€§è´¨**å¦‚ä¸‹ï¼š - | corrï¼ˆXï¼ŒYï¼‰| â‰¤1 - corrï¼ˆXï¼ŒYï¼‰=1çš„å……è¦æ¡ä»¶æ˜¯å­˜åœ¨å¸¸æ•°aå’Œbï¼Œä½¿å¾—Y=ax+b - çš®å°”é€Šç›¸å…³ç³»æ•°æ˜¯å¯¹ç§°çš„ï¼Œå³corrï¼ˆXï¼ŒYï¼‰=corrï¼ˆYï¼ŒXï¼‰ - ç”±æ­¤è¡ç”Ÿå‡ºå¦‚ä¸‹æ€§è´¨ï¼šçš®å°”é€Šç›¸å…³ç³»æ•°åˆ»ç”»äº†å˜é‡xå’ŒYä¹‹é—´çº¿æ€§ç›¸å…³ç¨‹åº¦ï¼Œå¦‚æœ| corrï¼ˆxï¼ŒYï¼‰|çš„å–å€¼è¶Šå¤§ï¼Œåˆ™ä¸¤è€…åœ¨çº¿æ€§ç›¸å…³çš„æ„ä¹‰ä¸‹ç›¸å…³ç¨‹åº¦è¶Šå¤§ã€‚Icorrï¼ˆxï¼ŒYï¼‰l=0è¡¨ç¤ºä¸¤è€…ä¸å­˜åœ¨çº¿æ€§ç›¸å…³å…³ç³»ï¼ˆå¯èƒ½å­˜åœ¨å…¶ä»–éçº¿æ€§ç›¸å…³çš„å…³ç³»ï¼‰ã€‚ - æ­£çº¿æ€§ç›¸å…³æ„å‘³ç€å˜é‡xå¢åŠ çš„æƒ…å†µä¸‹ï¼Œå˜é‡Yä¹Ÿéšä¹‹å¢åŠ ï¼›è´Ÿçº¿æ€§ç›¸å…³æ„å‘³ç€å˜é‡Xå‡å°‘çš„æƒ…å†µä¸‹ï¼Œå˜é‡Yä¹Ÿéšä¹‹å¢åŠ ã€‚ **ç›¸å…³æ€§ï¼ˆcorrelationï¼‰ä¸ç‹¬ç«‹æ€§ï¼ˆindependenceï¼‰** - å¦‚æœXå’ŒYçš„çº¿æ€§ä¸ç›¸å…³ï¼Œåˆ™|corrï¼ˆxXï¼ŒYï¼‰l=0 - å¦‚æœXå’ŒYçš„å½¼æ­¤ç‹¬ç«‹ï¼Œåˆ™ä¸€å®šlcorrï¼ˆxï¼ŒYï¼‰l=0ï¼Œä¸”xå’ŒYä¸å­˜åœ¨ä»»ä½•çº¿æ€§æˆ–éçº¿æ€§å…³ç³» - â€œä¸ç›¸å…³â€æ˜¯ä¸€ä¸ªæ¯”â€œç‹¬ç«‹â€è¦å¼±çš„æ¦‚å¿µï¼Œå³&lt;u&gt;ç‹¬ç«‹ä¸€å®šä¸ç›¸å…³ï¼Œä½†æ˜¯ä¸ç›¸å…³ä¸ä¸€å®šç›¸äº’ç‹¬ç«‹&lt;/u&gt;ï¼ˆå¯èƒ½å­˜åœ¨å…¶ä»–å¤æ‚çš„å…³è”å…³ç³»ï¼‰ã€‚ç‹¬ç«‹æŒ‡ä¸¤ä¸ªå˜é‡å½¼æ­¤ä¹‹é—´ä¸ç›¸äº’å½±å“ã€‚ #### ç®—æ³•åŠ¨æœº &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/PCA1.jpg\" alt=\"PCA1\" style=\"zoom:67%;\" /&gt; - ä¸»æˆä»½åˆ†ææ€æƒ³æ˜¯å°†nç»´ç‰¹å¾æ•°æ®æ˜ å°„åˆ°lç»´ç©ºé—´ï¼ˆn &gt;&gt; lï¼‰ï¼Œå»é™¤åŸå§‹æ•°æ®ä¹‹é—´çš„å†—ä½™æ€§ï¼ˆé€šè¿‡å»é™¤ç›¸å…³æ€§æ‰‹æ®µè¾¾åˆ°è¿™ä¸€ç›®çš„ï¼‰ã€‚ - å°†åŸå§‹æ•°æ®å‘è¿™äº›**æ•°æ®æ–¹å·®æœ€å¤§çš„æ–¹å‘**è¿›è¡ŒæŠ•å½±ã€‚ä¸€æ—¦å‘ç°äº†æ–¹å·®æœ€å¤§çš„æŠ•å½±æ–¹å‘ï¼Œåˆ™ç»§ç»­å¯»æ‰¾ä¿æŒæ–¹å·®ç¬¬äºŒçš„æ–¹å‘ä¸”è¿›è¡ŒæŠ•å½±ã€‚ - å°†æ¯ä¸ªæ•°æ®ä»nç»´é«˜ç»´ç©ºé—´æ˜ å°„åˆ°lç»´ä½ç»´ç©ºé—´ï¼Œæ¯ä¸ªæ•°æ®æ‰€å¾—åˆ°æœ€å¥½çš„kç»´ç‰¹å¾å°±æ˜¯ä½¿å¾—æ¯ä¸€ç»´ä¸Šæ ·æœ¬æ–¹å·®éƒ½å°½å¯èƒ½å¤§ã€‚ #### ç®—æ³•æè¿° &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/PCA2.jpg\" alt=\"PCA2\" style=\"zoom:67%;\" /&gt; #### ç®—æ³•æ­¥éª¤ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/PCA3.jpg\" alt=\"PCA3\" style=\"zoom:67%;\" /&gt; å…·ä½“å¦‚ä½•è¿è¡Œçš„å¯ä»¥çœ‹ä¸‹èŠ‚çš„ç‰¹å¾äººè„¸ç®—æ³•ï¼Œè®²çš„è¿˜æ˜¯æ¯”è¾ƒæ¸…æ¥šçš„ã€‚ ### [P176.3ç‰¹å¾äººè„¸ç®—æ³•](https://www.bilibili.com/video/BV1c7411n7EY?p=17) &gt; ç‰¹å¾äººè„¸æ–¹æ³•æ˜¯ä¸€ç§&lt;u&gt;åº”ç”¨ä¸»æˆä»½åˆ†æPCA&lt;/u&gt;æ¥å®ç°&lt;u&gt;äººè„¸å›¾åƒé™ç»´&lt;/u&gt;çš„æ–¹æ³•ï¼Œå…¶æœ¬è´¨æ˜¯ç”¨ä¸€ç§ç§°ä¸ºâ€œç‰¹å¾äººè„¸ï¼ˆeigenfaceï¼‰â€çš„ç‰¹å¾å‘é‡æŒ‰ç…§çº¿æ€§ç»„åˆå½¢å¼æ¥è¡¨è¾¾æ¯ä¸€å¼ åŸå§‹äººè„¸å›¾åƒï¼Œè¿›è€Œå®ç°äººè„¸è¯†åˆ«ã€‚==ã€‹å°†åŸæœ‰çš„åƒç´ ç‚¹é™ç»´åï¼Œæå–å‡ºæ–°çš„PCAå˜é‡ï¼Œå³äººè„¸ç‰¹å¾===&gt;ç”¨ï¼ˆç‰¹å¾ï¼‰äººè„¸è¡¨ç¤ºäººè„¸ï¼Œè€Œéç”¨åƒã€ç´ ç‚¹è¡¨ç¤ºäººè„¸ &gt; &gt; ç”±æ­¤å¯è§ï¼Œè¿™ä¸€æ–¹æ³•çš„å…³é”®ä¹‹å¤„åœ¨äºå¦‚ä½•å¾—åˆ°ç‰¹å¾äººè„¸ã€‚ **PCAé™ç»´è®¡ç®—ï¼š** &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/ç‰¹å¾äººè„¸-PCAè¿ç®—.jpg\" alt=\"ç‰¹å¾äººè„¸-PCAè¿ç®—\" style=\"zoom:67%;\" /&gt; #### äººè„¸å¯¹æ¯”æ–¹æ³•ï¼šèšç±»ã€ä¸»æˆåˆ†åˆ†æã€éè´ŸçŸ©é˜µåˆ†è§£ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/äººè„¸å¯¹æ¯”.jpg\" alt=\"äººè„¸å¯¹æ¯”\" style=\"zoom:67%;\" /&gt; #### ç‰¹å¾äººè„¸è¯†åˆ«æµç¨‹ ![äººè„¸è¯†åˆ«](./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/äººè„¸è¯†åˆ«.jpg) ## ç»Ÿè®¡æœºå™¨å­¦ä¹ ç®—æ³•åº”ç”¨ ### [P187.1é€»è¾‘æ–¯è’‚å›å½’ä¸åˆ†ç±»](https://www.bilibili.com/video/BV1c7411n7EY?p=18) #### åˆ†ç±»å’Œå›å½’çš„åŒºåˆ«ï¼š - åœ¨å›å½’åˆ†æä¸­ï¼Œå­¦ä¹ å¾—åˆ°ä¸€ä¸ªå‡½æ•°å°†è¾“å…¥å˜é‡æ˜ å°„åˆ°è¿ç»­è¾“å‡ºç©ºé—´ï¼Œå¦‚ä»·æ ¼å’Œæ¸©åº¦ç­‰ï¼Œå³å€¼åŸŸæ˜¯è¿ç»­ç©ºé—´ã€‚ - åœ¨åˆ†ç±»æ¨¡å‹ä¸­ï¼Œå­¦ä¹ å¾—åˆ°ä¸€ä¸ªå‡½æ•°å°†è¾“å…¥å˜é‡æ˜ å°„åˆ°ç¦»æ•£è¾“å‡ºç©ºé—´ï¼Œå¦‚äººè„¸å’Œæ±½è½¦ç­‰ï¼Œå³å€¼åŸŸæ˜¯ç¦»æ•£ç©ºé—´ã€‚ é—®é¢˜ï¼šå›å½’ä¸åˆ†ç±»å¯å¦ç»Ÿä¸€ï¼Œå³ç”¨å›å½’æ¨¡å‹æ¥å®Œæˆåˆ†ç±»ä»»åŠ¡ï¼Ÿ--&gt;demoï¼šé€»è¾‘æ–¯è’‚å›å½’ï¼ˆlogistic regressionï¼‰ å›å½’åˆ†æï¼šçº¿æ€§-&gt;éçº¿æ€§ï¼Œçº¿æ€§å›å½’æ¨¡å‹éš¾ä»¥åˆ»ç”»æ•°æ®çš„å¤æ‚åˆ†å¸ƒï¼Œéœ€è¦å¯»æ‰¾éçº¿æ€§å›å½’æ¨¡å‹â€”â€”demoï¼šé€»è¾‘æ–¯è’‚å›å½’ï¼ˆlogistic regressionï¼‰ #### sigmodå‡½æ•°æ€§è´¨ æ¦‚ç‡å½¢å¼è¾“å‡ºã€‚sigmoidå‡½æ•°æ˜¯å•è°ƒé€’å¢çš„ï¼Œå…¶å€¼åŸŸä¸º**ï¼ˆ0ï¼Œ1ï¼‰**ï¼Œå› æ­¤ä½¿sigmoidå‡½æ•°è¾“å‡ºå¯ä½œä¸º**æ¦‚ç‡å€¼**ã€‚åœ¨å‰é¢ä»‹ç»çš„çº¿æ€§å›å½’ä¸­ï¼Œå›å½’å‡½æ•°çš„å€¼åŸŸä¸€èˆ¬ä¸ºï¼ˆä¸€ooï¼Œ+ooï¼‰ æ•°æ®ç‰¹å¾åŠ æƒç´¯åŠ ã€‚å¯¹è¾“å…¥zå–å€¼èŒƒå›´æ²¡æœ‰é™åˆ¶ï¼Œä½†å½“zå¤§äºä¸€å®šæ•°å€¼åï¼Œå‡½æ•°è¾“å‡ºæ— é™è¶‹è¿‘äº1ï¼Œè€Œå°äºä¸€å®šæ•°å€¼åï¼Œå‡½æ•°è¾“å‡ºæ— é™è¶‹è¿‘äº0ã€‚ç‰¹åˆ«åœ°ï¼Œå½“z=0æ—¶ï¼Œå‡½æ•°è¾“å‡ºä¸º0.5ã€‚ è¿™é‡Œzæ˜¯è¾“å…¥æ•°æ®xå’Œå›å½’å‡½æ•°çš„å‚æ•°wç›¸ä¹˜ç»“æœï¼ˆå¯è§†ä¸ºxå„ç»´åº¦è¿›è¡ŒåŠ æƒå åŠ ï¼‰éçº¿æ€§å˜åŒ–ã€‚xå„ç»´åº¦åŠ æƒå åŠ ä¹‹å’Œç»“æœå–å€¼åœ¨0é™„è¿‘æ—¶ï¼Œå‡½æ•°è¾“å‡ºå€¼çš„å˜åŒ–å¹…åº¦æ¯”è¾ƒå¤§ï¼ˆå‡½æ•°å€¼å˜åŒ–é™¡å³­ï¼‰ï¼Œä¸”æ˜¯éçº¿æ€§å˜åŒ–ã€‚ä½†æ˜¯ï¼Œå„ç»´åº¦åŠ æƒå åŠ ä¹‹å’Œç»“æœå–å€¼å¾ˆå¤§æˆ–å¾ˆå°æ—¶ï¼Œå‡½æ•°è¾“å‡ºå€¼å‡ ä¹ä¸å˜åŒ–ï¼Œè¿™æ˜¯åŸºäºæ¦‚ç‡çš„ä¸€ç§è®¤è¯†ä¸éœ€è¦ã€‚ ç¼ºç‚¹ï¼šæ¢¯åº¦æ¶ˆå¤± #### æ¦‚ç‡è¾“å‡ºï¼šä»å›å½’åˆ°åˆ†ç±» &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/logistics.jpg\" alt=\"logistics\" style=\"zoom:67%;\" /&gt; å¯¹p(y=1|x)å–å¯¹æ•°çš„ç»“æœä¸º log(p(y=1|x)) = log( \\frac{p(y=1|x)}{p(y=0|x)}) = log(\\frac{p}{1-p}) = w^Tx+b - å¯¹xä½œä¸ºæ­£ä¾‹å¯èƒ½æ€§å–å¯¹æ•°å¾—åˆ°çº¿æ€§å›å½’æ¨¡å‹ - xä¸ºæ­£ä¾‹çš„æ¦‚ç‡è¶Šå¤§ï¼Œå‡ ç‡å–å€¼å°±è¶Šå¤§ - çº¿æ€§å›å½’æ¨¡å‹è¾“å‡ºç»“æœå»é€¼è¿‘ï¼ˆæ‹Ÿåˆï¼‰çœŸå®æ ‡è®°ç»“æœçš„å¯¹æ•°å‡ ç‡ - é€»è¾‘æ–¯è’‚å›å½’å‡½æ•°è¢«ç§°ä¸ºâ€œå¯¹æ•°å‡ ç‡å›å½’ï¼ˆlog-odds regressionï¼‰\"ã€‚ - å¯¹æ•°å‡ ç‡å›å½’æ¨¡å‹çš„è¾“å‡ºyå¯ä½œä¸ºå°†è¾“å…¥æ•°æ®xåˆ†ç±»ä¸ºæŸä¸€ç±»åˆ«æ¦‚ç‡çš„å¤§å°ã€‚ - è¾“å‡ºå€¼è¶Šæ¥è¿‘1ï¼Œè¯´æ˜è¾“å…¥æ•°æ®xåˆ†ç±»ä¸ºè¯¥ç±»åˆ«çš„å¯èƒ½æ€§è¶Šå¤§ã€‚ä¸æ­¤ç›¸åï¼Œè¾“å‡ºå€¼è¶Šæ¥è¿‘0ï¼Œè¾“å…¥æ•°æ®xä¸å±äºè¯¥ç±»åˆ«çš„æ¦‚ç‡è¶Šå¤§ã€‚ - æ ¹æ®å…·ä½“åº”ç”¨è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œå°†å¤§äºè¯¥é˜€å€¼çš„è¾“å…¥æ•°æ®xéƒ½å½’å±åˆ°æŸä¸ªç±»åˆ«ï¼Œå°äºè¯¥é˜ˆå€¼çš„è¾“å…¥æ•°æ®xéƒ½å½’å±åˆ°å¦å¤–ä¸€ä¸ªç±»åˆ«ã€‚ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/logistics2.jpg\" alt=\"logistics2\" style=\"zoom:67%;\" /&gt; â˜….ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œlogisticå›å½’æ˜¯ä¸€ä¸ªçº¿æ€§æ¨¡å‹ã€‚åœ¨é¢„æµ‹æ—¶ï¼Œå¯ä»¥é€šè¿‡è®¡ç®—çº¿æ€§å‡½æ•°wx+bå–å€¼æ˜¯å¦å¤§äº0æ¥åˆ¤æ–­è¾“å…¥æ•°æ®xçš„ç±»åˆ«å½’å±ã€‚ #### å‚æ•°æ±‚è§£ï¼šæœ€å¤§ä¼¼ç„¶å‡½æ•° å‡å®šæ•°æ®éƒ½æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒçš„--&gt;æœ€å¤§ä¼¼ç„¶å‡½æ•°==å¾—åˆ°äº†--&gt;äº¤å‰ç†µ(æ±‚è§£äº¤å‰ç†µï¼Œå¦‚æœæ˜¯çº¿æ€§æ¨¡å‹å¯ä»¥ç”¨æœ€å°äºŒä¹˜æ³•ï¼Œä½†æ˜¯logisticsä¸è¡Œï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿­ä»£ç®—æ³•â€”â€”æ¢¯åº¦ä¸‹é™æ³•) **å¤šåˆ†ç±»**â€”â€”outputçš„æ—¶å€™åŠ ä¸ªsoftmaxï¼Œå¹¶åšå½’ä¸€åŒ–ï¼Œæ¦‚ç‡æœ€å¤§çš„é‚£ä¸ªç±»åˆ«å°±æ˜¯åˆ†ç±»ç»“æœ ### [P197.2åŸºäºçŸ©é˜µåˆ†è§£çš„æ½œåœ¨è¯­ä¹‰åˆ†æ](https://www.bilibili.com/video/BV1c7411n7EY?p=19)â€”â€”LSA æ½œåœ¨è¯­ä¹‰åˆ†æï¼ˆLatent Semantic Analysisï¼ŒLSAæˆ–è€…Latent Semantic Indexingï¼ŒLSIï¼‰æ˜¯ä¸€ç§ä»æµ·é‡æ–‡æœ¬æ•°æ®ä¸­å­¦ä¹ &lt;u&gt;å•è¯-å•è¯ã€å•è¯-æ–‡æ¡£ä»¥åŠæ–‡æ¡£-æ–‡æ¡£ä¹‹é—´&lt;/u&gt;éšæ€§å…³ç³»ï¼Œè¿›è€Œå¾—åˆ°æ–‡æ¡£å’Œå•è¯è¡¨è¾¾ç‰¹å¾çš„æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ç»¼åˆè€ƒè™‘æŸäº›å•è¯åœ¨å“ªäº›æ–‡æ¡£ä¸­åŒæ—¶å‡ºç°ï¼Œä»¥æ­¤æ¥å†³å®šè¯¥è¯è¯­çš„å«ä¹‰ä¸å…¶ä»–çš„è¯è¯­çš„ç›¸ä¼¼åº¦ã€‚ æ½œåœ¨è¯­ä¹‰åˆ†æå…ˆæ„å»ºä¸€ä¸ªå•è¯-æ–‡æ¡£ï¼ˆterm-documentï¼‰çŸ©é˜µAï¼Œè¿›è€Œå¯»æ‰¾è¯¥çŸ©é˜µçš„ä½ç§©é€¼è¿‘ï¼ˆlow rank approximationï¼‰çŸ©é˜µï¼Œä»è€Œæ¥æŒ–æ˜å•è¯-å•è¯ã€å•è¯-æ–‡æ¡£ä»¥åŠæ–‡æ¡£Â·æ–‡æ¡£ä¹‹é—´çš„å…³è”å…³ç³»ã€‚ ä¸¾ä¾‹ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/LSA.jpg\" alt=\"LSA\" style=\"zoom:67%;\" /&gt; - å½“ç”¨æˆ·è¾“å…¥â€œoptimization\"è¿™ä¸€æ£€ç´¢è¯·æ±‚ï¼Œç”±äºæ–‡æ¡£a3æ ‡é¢˜ä¸­ä¸åŒ…å«è¿™ä¸€å•è¯ï¼Œåˆ™æ–‡æ¡£a3è¢«è®¤ä¸ºæ˜¯ä¸ç›¸å…³æ–‡æ¡£ï¼Œä½†å®é™…ä¸Šæ–‡æ¡£a3æ‰€æ¶‰åŠâ€œminimization\"å†…å®¹ä¸ä¼˜åŒ–é—®é¢˜ç›¸å…³ã€‚å‡ºç°è¿™ä¸€é—®é¢˜æ˜¯å› ä¸º**å•è¯-æ–‡æ¡£çŸ©é˜µ**åªæ˜¯åˆ»ç”»äº†&lt;u&gt;å•è¯æ˜¯å¦åœ¨æ–‡æ¡£ä¸­å‡ºç°ä¸å¦è¿™ä¸€ç°è±¡ï¼Œè€Œæ— æ³•å¯¹å•è¯-å•è¯ã€å•è¯-æ–‡æ¡£ä»¥åŠæ–‡æ¡£-æ–‡æ¡£ä¹‹é—´è¯­ä¹‰å…³ç³»è¿›è¡Œå»ºæ¨¡ã€‚&lt;/u&gt; - å¦‚æœç”¨æˆ·æ£€ç´¢â€œeat an apple\"ï¼Œåˆ™æ–‡æ¡£\"Apple is a great companyâ€ä¼šè¢«æ£€ç´¢å‡ºæ¥ï¼Œè€Œå®é™…ä¸Šè¯¥æ–‡æ¡£ä¸­å•è¯\"Apple\"æ‰€æŒ‡è‹¹æœå…¬å¸ã€è€Œéæ°´æœï¼Œé€ æˆè¿™ä¸€ç»“æœçš„åŸå› æ˜¯ä¸€äº›å•è¯å…·æœ‰â€œä¸€è¯å¤šä¹‰â€ã€‚ - å› æ­¤éœ€è¦ä¸€ç§æ–¹æ³•èƒ½å¤Ÿå»ºæ¨¡å•è¯-å•è¯ã€å•è¯-æ–‡æ¡£ä»¥åŠæ–‡æ¡£-æ–‡æ¡£ä¹‹é—´è¯­ä¹‰å…³ç³»ï¼Œè§£å†³åŒ…æ‹¬â€œå¼‚è¯åŒä¹‰â€å’Œâ€œä¸€è¯å¤šä¹‰â€ åœ¨å†…çš„è¯¸å¤šæŒ‘æˆ˜ã€‚ #### å•è¯-æ–‡æ¡£çŸ©é˜µï¼ˆterm-documentï¼‰ï¼šæ„é€ ä¸åˆ†è§£ &gt; åŸºäºLatent Dirichlet Allocationï¼ˆéšç‹„åˆ©å…‹é›·åˆ†é…æ¨¡å‹ï¼‰ ![LSA-TD](./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/LSA-TD.jpg) é€‰å–æœ€å¤§çš„å‰ä¸¤ä¸ªç‰¹å¾æ ¹åŠå…¶å¯¹åº”çš„ç‰¹å¾å‘é‡å¯¹çŸ©é˜µAè¿›è¡Œé‡å»ºã€‚ä¸‹é¢ç»™å‡ºäº†é€‰å–çŸ©é˜µUã€çŸ©é˜µDå’ŒçŸ©é˜µVçš„å­éƒ¨åˆ†é‡å»ºæ‰€å¾—çŸ©é˜µAï¼Œæ•ˆæœå¦‚ä¸‹ï¼š - å›åˆ°ä¹‹å‰ä¸¾çš„ä¸€ä¸ªä¾‹å­ï¼Œç”¨æˆ·è¾“å…¥â€œoptimizationâ€æ¥æ£€ç´¢ä¸ä¹‹ç›¸å…³çš„æ–‡æ¡£ã€‚å°½ç®¡å•è¯â€œoptimization\"åœ¨æ–‡æ¡£a3ä¸­æ²¡æœ‰å‡ºç°ï¼Œä½†æ˜¯åœ¨é‡å»ºçŸ©é˜µA2ä¸­ï¼Œå¯¹åº”çš„ä½ç½®è¢«0.68å–ä»£ï¼Œè¯´æ˜å•è¯\"optimization\"å¯¹è¡¨å¾æ–‡æ¡£a3æ‰€è•´å«å†…å®¹å…·æœ‰é‡è¦ä½œç”¨ï¼Œè¿™ä¹Ÿç¬¦åˆæ–‡æ¡£a3æè¿°çš„minimizationé—®é¢˜æ˜¯ä¸€ä¸ªoptimizationé—®é¢˜çš„äº‹å®ã€‚ - åœ¨å•è¯-çŸ©é˜µAä¸­ï¼Œæ–‡æ¡£b3æ‰€å¯¹åº”networkã€geneå’Œhumanä¸‰ä¸ªå•è¯å–å€¼ä¸º1ï¼Œåœ¨é‡å»ºçŸ©é˜µA2ä¸­ï¼Œnetworkã€geneå’Œhumanä¸‰ä¸ªå•è¯å–å€¼åˆ†åˆ«ä¸º0.32ã€0.66å’Œ0.53ã€‚å¯è§ï¼Œnetworkåœ¨è¡¨å¾æ–‡æ¡£b3æ—¶é‡è¦æ€§é™ä½ï¼Œå› ä¸ºç®—æ³•è®¤ä¸ºè¿™ä¸€å•è¯åœ¨æœºå™¨å­¦ä¹ æ‰€ç›¸å…³æ–‡æ¡£è¡¨è¾¾ä¸­æ›´å…·æœ‰åŒºåˆ«æ€§ã€‚ ä¸ºä»€ä¹ˆworkï¼Ÿ é€šè¿‡å•è¯-æ–‡æ¡£çŸ©é˜µï¼ˆterm-documentï¼‰çš„æ„é€ ä¸åˆ†è§£ï¼Œå¯ä»¥å°†æ¯ä¸ªå•è¯æ˜ å°„åˆ°ç»´åº¦ä¸ºRçš„éšæ€§ç©ºé—´ã€å°†æ¯ä¸ªæ–‡æ¡£æ˜ å°„åˆ°ç»´åº¦ä¸ºRçš„éšæ€§ç©ºé—´ï¼šç»Ÿä¸€ç©ºé—´ï¼Œéšæ€§ç©ºé—´å¯è§†ä¸ºâ€œä¸»é¢˜ç©ºé—´ï¼ˆtopicï¼‰ï¼Œå› æ­¤å°±å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªå•è¯ã€ä¸¤ç¯‡æ–‡ç« çš„ä¸»é¢˜æ˜¯å¦ä¸€è‡´äº†ã€‚ ### [P207.3çº¿æ€§åŒºåˆ«åˆ†æåŠåˆ†ç±»](https://www.bilibili.com/video/BV1c7411n7EY?p=20) çº¿æ€§åŒºåˆ«åˆ†æï¼ˆlinear discriminant analysisï¼ŒLDAï¼‰æ˜¯ä¸€ç§åŸºäºç›‘ç£å­¦ä¹ çš„é™ç»´æ–¹æ³•ï¼Œä¹Ÿç§°ä¸ºFisherçº¿æ€§åŒºåˆ«åˆ†æï¼ˆFisher's Discriminant analysisï¼ŒFDAï¼‰ã€‚ å¯¹äºä¸€ç»„å…·æœ‰æ ‡ç­¾ä¿¡æ¯çš„é«˜ç»´æ•°æ®æ ·æœ¬ï¼ŒLDAåˆ©ç”¨å…¶ç±»åˆ«ä¿¡æ¯ï¼Œå°†å…¶çº¿æ€§æŠ•å½±åˆ°ä¸€ä¸ªä½ç»´ç©ºé—´ä¸Šï¼Œ&lt;u&gt;åœ¨ä½ç»´ç©ºé—´ä¸­åŒä¸€ç±»åˆ«æ ·æœ¬å°½å¯èƒ½é è¿‘ï¼Œä¸åŒç±»åˆ«æ ·æœ¬å°½å¯èƒ½å½¼æ­¤è¿œç¦»&lt;/u&gt;ã€‚==&gt;**ä¸ºäº†è·å¾—â€œç±»å†…æ±‡èšã€ç±»é—´é—´éš”â€çš„æœ€ä½³æŠ•å½±ç»“æœ** &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/LDA.jpg\" alt=\"LDA\" style=\"zoom:67%;\" /&gt; #### PCAå’ŒLDAåŒºåˆ« - ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰æ˜¯ä¸€ç§&lt;u&gt;æ— ç›‘ç£å­¦ä¹ &lt;/u&gt;çš„é™ç»´æ–¹æ³•ï¼ˆæ— éœ€æ ·æœ¬ç±»åˆ«æ ‡ç­¾ï¼‰ï¼Œçº¿æ€§åŒºåˆ«åˆ†æï¼ˆLDAï¼‰æ˜¯ä¸€ç§&lt;u&gt;ç›‘ç£å­¦ä¹ &lt;/u&gt;çš„é™ç»´æ–¹æ³•ï¼ˆéœ€è¦æ ·æœ¬ç±»åˆ«æ ‡ç­¾ã€‚PCAå’ŒLDAå‡æ˜¯ä¼˜åŒ–å¯»æ‰¾ä¸€å®šç‰¹å¾å‘é‡wæ¥å®ç°é™ç»´ï¼Œå…¶ä¸­PCAå¯»æ‰¾æŠ•å½±å&lt;u&gt;æ•°æ®ä¹‹é—´æ–¹å·®æœ€å¤§&lt;/u&gt;çš„æŠ•å½±æ–¹å‘ã€LDAå¯»æ‰¾â€œ&lt;u&gt;ç±»å†…æ–¹å·®å°ã€ç±»é—´è·ç¦»å¤§&lt;/u&gt;â€æŠ•å½±æ–¹å‘ã€‚ - PCAå¯¹é«˜ç»´æ•°æ®é™ç»´åçš„ç»´æ•°æ˜¯ä¸åŸå§‹æ•°æ®ç‰¹å¾ç»´åº¦ç›¸å…³ï¼ˆ&lt;u&gt;ä¸æ•°æ®ç±»åˆ«æ ‡ç­¾æ— å…³&lt;/u&gt;ï¼‰ã€‚å‡è®¾åŸå§‹æ•°æ®ç»´åº¦ä¸ºdï¼Œé‚£ä¹ˆPCAæ‰€å¾—æ•°æ®çš„é™ç»´ç»´åº¦å¯ä»¥ä¸ºå°äºdçš„ä»»æ„ç»´åº¦ï¼›LDAé™ç»´åæ‰€å¾—åˆ°ç»´åº¦æ˜¯ä¸&lt;u&gt;æ•°æ®æ ·æœ¬çš„ç±»åˆ«ä¸ªæ•°Kæœ‰å…³&lt;/u&gt;ï¼ˆä¸æ•°æ®æœ¬èº«ç»´åº¦æ— å…³ï¼‰ã€‚å‡è®¾åŸå§‹æ•°æ®ä¸€å…±æœ‰Kä¸ªç±»åˆ«ï¼Œé‚£ä¹ˆLDAæ‰€å¾—æ•°æ®çš„é™ç»´ç»´åº¦å°äºæˆ–ç­‰äºK-1ã€‚ ## [P218.1æ·±åº¦å­¦ä¹ åŸºæœ¬æ¦‚å¿µ](https://www.bilibili.com/video/BV1c7411n7EY?p=21)â€”â€”æ·±åº¦å­¦ä¹  &gt; æµ…å±‚å­¦ä¹ Versusæ·±åº¦å­¦ä¹ ï¼šä»åˆ†æ®µå­¦ä¹ åˆ°ç«¯åˆ°ç«¯å­¦ä¹ ï¼›ä¼ ç»Ÿå­¦ä¹ éœ€è¦äººå·¥æå–ç‰¹å¾ï¼Œæ·±åº¦ç¥ç»ç½‘ç»œå¯ä»¥é€šè¿‡å±‚å±‚ç½‘ç»œè‡ªåŠ¨æå–ç‰¹å¾ã€‚ &gt; &gt; &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/DL.jpg\" alt=\"DL\" style=\"zoom: 67%;\" /&gt; #### ç¥ç»å…ƒæ•°å­¦æ¨¡å‹ 1. å¯¹ç›¸é‚»çš„å‰å‘ç¥ç»å…ƒè¾“å…¥é€šè¿‡åŠ æƒç´¯åŠ  : In =\\sum_{i=1}^{n} w_{i} * a_{i} 2. å¯¹ç´¯åŠ ç»“æœè¿›è¡Œéçº¿æ€§å˜æ¢ï¼ˆé€šè¿‡æ¿€æ´»å‡½æ•°ï¼‰ï¼š g(x) 3. ç¥ç»å…ƒçš„è¾“å‡º: O u t=g(i n) &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/ç¥ç»å…ƒ.jpg\" alt=\"ç¥ç»å…ƒ\" style=\"zoom:67%;\" /&gt; æ³¨ï¼šç¥ç»å…ƒè¶Šå¤šï¼Œéçº¿æ€§è¡¨è¾¾èƒ½åŠ›è¶Šå¼ºï¼ŒåŒæ—¶å‚æ•°ä¹Ÿå¾ˆå˜å¾—æ›´å¤šï¼Œç½‘ç»œä¹Ÿä¼šå˜å¾—è¶Šå¤æ‚ ### [P228.2å‰é¦ˆç¥ç»ç½‘ç»œ](https://www.bilibili.com/video/BV1c7411n7EY?p=22)ã€[P238.3è¯¯å·®åå‘ä¼ æ’­(BP)](https://www.bilibili.com/video/BV1c7411n7EY?p=23) - å„ä¸ªç¥ç»å…ƒ&lt;u&gt;æ¥å—å‰ä¸€çº§çš„è¾“å…¥&lt;/u&gt;ï¼Œ&lt;u&gt;å¹¶è¾“å‡ºåˆ°ä¸‹ä¸€çº§&lt;/u&gt;ï¼Œæ¨¡å‹ä¸­æ²¡æœ‰åé¦ˆ - å±‚ä¸å±‚ä¹‹é—´é€šè¿‡â€œ&lt;u&gt;å…¨è¿æ¥&lt;/u&gt;â€è¿›è¡Œé“¾æ¥ï¼Œå³ä¸¤ä¸ªç›¸é‚»å±‚ä¹‹é—´çš„ç¥ç»å…ƒå®Œå…¨æˆå¯¹è¿æ¥ï¼Œä½†å±‚å†…çš„ç¥ç»å…ƒä¸ç›¸äº’è¿æ¥ã€‚ #### æ„ŸçŸ¥æœºç½‘ç»œ æ„ŸçŸ¥æœºç½‘ç»œï¼ˆPerceptron Networksï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‰é¦ˆç¥ç»ç½‘ç»œï¼š - æ— éšè—å±‚ï¼Œåªæœ‰è¾“å…¥å±‚/è¾“å‡ºå±‚ - æ— æ³•æ‹Ÿåˆå¤æ‚çš„æ•°æ® &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/FNN-æ„ŸçŸ¥æœº.jpg\" alt=\"FNN-æ„ŸçŸ¥æœº\" style=\"zoom:67%;\" /&gt; #### å‚æ•°ä¼˜åŒ– ##### 1.GDæ¢¯åº¦ä¸‹é™æ³• æ¢¯åº¦ä¸‹é™ç®—æ³•æ˜¯ä¸€ç§ä½¿å¾—æŸå¤±å‡½æ•°æœ€å°åŒ–çš„æ–¹æ³•ã€‚ä¸€å…ƒå˜é‡æ‰€æ„æˆå‡½æ•°fåœ¨xå¤„æ¢¯åº¦ä¸ºï¼š \\frac{d f(x)}{d x}=\\lim _{h \\rightarrow 0} \\frac{f(x+h)-f(x)}{h} - åœ¨å¤šå…ƒå‡½æ•°ä¸­ï¼Œæ¢¯åº¦æ˜¯å¯¹æ¯ä¸€å˜é‡æ‰€æ±‚å¯¼æ•°ç»„æˆçš„å‘é‡ - æ¢¯åº¦çš„åæ–¹å‘æ˜¯å‡½æ•°å€¼ä¸‹é™æœ€å¿«çš„æ–¹å‘ ##### 2.è¯¯å·®åå‘ä¼ æ’­BP - BPç®—æ³•æ˜¯ä¸€ç§å°†è¾“å‡ºå±‚è¯¯å·®åå‘ä¼ æ’­ç»™éšè—å±‚è¿›è¡Œå‚æ•°æ›´æ–°çš„æ–¹æ³•ã€‚= - å°†è¯¯å·®ä»åå‘å‰ä¼ é€’ï¼Œå°†è¯¯å·®åˆ†æ‘Šç»™å„å±‚æ‰€æœ‰å•å…ƒï¼Œä»è€Œè·å¾—å„å±‚å•å…ƒæ‰€äº§ç”Ÿçš„è¯¯å·®ï¼Œè¿›è€Œä¾æ®è¿™ä¸ªè¯¯å·®æ¥è®©å„å±‚å•å…ƒè´Ÿèµ·å„è‡ªè´£ä»»ã€ä¿®æ­£å„å•å…ƒå‚æ•°ã€‚ ### [P249.1å·ç§¯ç¥ç»ç½‘ç»œ](https://www.bilibili.com/video/BV1c7411n7EY?p=24) #### å·ç§¯ Qï¼šä»€ä¹ˆæ˜¯å·ç§¯æ“ä½œï¼ŸAï¼šå¯ä»¥ç†è§£ä¸ºæ˜¯æ»¤æ³¢å™¨ï¼Œå›¾åƒç»è¿‡ç‰¹å®šå·ç§¯çŸ©é˜µæ»¤æ³¢åï¼Œæ‰€å¾—åˆ°çš„å·ç§¯ç»“æœå¯è®¤ä¸ºæ˜¯ä¿ç•™äº†åƒç´ ç‚¹æ‰€æ„æˆçš„ç‰¹å®šç©ºé—´åˆ†å¸ƒæ¨¡å¼ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/å·ç§¯.jpg\" alt=\"å·ç§¯\" style=\"zoom:67%;\" /&gt; &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/å·ç§¯-ç¥ç»å…ƒ.jpg\" alt=\"å·ç§¯-ç¥ç»å…ƒ\" style=\"zoom:67%;\" /&gt; å®é™…ä¸Šå·ç§¯æ“ä½œå¯ä»¥ç†è§£ä¸ºæ˜¯ç¥ç»å…ƒçš„å˜å½¢ã€‚ æœ‰ä¸€å¼ 32*32*3ï¼ˆRGBï¼‰çš„å›¾åƒï¼Œä½¿ç”¨5*5*3çš„å·ç§¯æ ¸Wiï¼Œæ­¥é•¿ä¸º1å¯¹å…¶è¿›è¡Œå·ç§¯æ“ä½œã€‚å·ç§¯æ ¸Wï¼Œåœ¨åŸå§‹å›¾åƒä¸Šä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹è¿›è¡Œè®¡ç®—ï¼Œæ”¹å˜5*5å­å—åŒºåŸŸä¸­çš„ä¸­å¿ƒåƒç´ ç‚¹å€¼ï¼Œå¾—åˆ°28*28çš„ç‰¹å¾å›¾m1ã€‚ ç‰¹å¾å›¾ï¼šåœ¨æ·±åº¦å­¦ä¹ é‡Œè¢«å®šä¹‰ä¸ºï¼ŒåŸå§‹å›¾åƒç»è¿‡å·ç§¯åå¾—åˆ°çš„ç»“æœ â–²å·ç§¯å‚æ•°çš„ç¡®å®šéƒ½æ˜¯é€šè¿‡æ•°æ®é©±åŠ¨æ¥ç¡®å®šçš„ #### æ± åŒ– å¯¹è¾“å…¥çš„ç‰¹å¾å›¾è¿›è¡Œ**ä¸‹é‡‡æ ·**ï¼Œä»¥åœ¨åŒºåŸŸå†…è·å¾—æœ€ä¸»è¦ä¿¡æ¯ å¸¸ç”¨çš„æ± åŒ–æ“ä½œæœ‰ï¼šæœ€å¤§æ± åŒ–ã€å¹³å‡æ± åŒ– ![å¹³å‡æ± åŒ–](./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/å¹³å‡æ± åŒ–.jpg) #### å…¨è¿æ¥ã€è¾“å‡ºå±‚ å°†ç‰¹å¾ä»å·ç§¯æ“ä½œåå‘è¾“å‡ºå±‚æ˜ å°„ï¼Œæœ€åé€šè¿‡è¾“å‡ºå±‚è¿›è¡Œè¾“å‡º &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/å…¨è¿æ¥.jpg\" alt=\"å…¨è¿æ¥\" style=\"zoom:67%;\" /&gt; ç»¼ä¸Šï¼šæ‰€éœ€å­¦ä¹ å‚æ•°ï¼šå·ç§¯æ ¸ã€å…¨è¿æ¥å±‚æƒé‡ã€æ¿€æ´»å‡½æ•°å‚æ•° AlexNetï¼šç»å…¸ç”¨æ¥åˆ†ç±»ï¼ˆè¯†åˆ«ï¼‰å›¾åƒçš„å·ç§¯ç¥ç»ç½‘ç»œï¼ŒåŒ…å«5ä¸ªå·ç§¯å±‚ã€3ä¸ªå…¨è¿æ¥å±‚ï¼Œæœ‰å…­åƒå¤šä¸‡ä¸ªå‚æ•°ï¼Œæœ€ç»ˆå§ä¸€ä¸ªRGBçš„å›¾åƒè½¬æ¢æˆäº†ä¸€ä¸ª4096ç»´çš„ç‰¹å¾å‘é‡ï¼Œæ¥ç€å°†è¿™ä¸ªç‰¹å¾å‘é‡è¾“å…¥ç»™åˆ†ç±»å‡½æ•°ï¼Œæœ€åè¾“å‡ºä¸€ä¸ªä¸€åƒç»´çš„å‘é‡ï¼Œä¸€åƒç»´å‘é‡æ¯ä¸ªç»´åº¦ä¸Šçš„å€¼è¡¨ç¤ºè¯¥å›¾åƒè¢«è¯†åˆ«ä¸ºè¯¥ç»´åº¦æŒ‡ä»£å¯¹è±¡çš„æ¦‚ç‡å¤§å°ã€‚ ### [P259.2-è‡ªç„¶è¯­è¨€ç†è§£ä¸è§†è§‰åˆ†æ](https://www.bilibili.com/video/BV1c7411n7EY?p=25) #### æ·±åº¦å­¦ä¹ çš„åº”ç”¨ï¼šå­¦ä¹ å•è¯çš„è¡¨è¾¾----è¯å‘é‡ï¼ˆWord2Vecï¼‰ åœ¨åŸºäºè§„åˆ™å’Œç»Ÿè®¡çš„è‡ªç„¶è¯­è¨€ä¼ ç»Ÿæ–¹æ³•ä¸­ï¼Œå°†å•è¯è§†ä¸ºç‹¬ç«‹ç¬¦å·åœ¨å‘é‡ç©ºé—´ä¸­ï¼Œä¸€ä¸ªå•è¯æŒ‰ç…§å…¶åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„æœ‰æ— ï¼Œè¢«è¡¨ç¤ºä¸ºå¦‚ä¸‹å‘é‡ï¼ˆæŒ‰ç…§å­—å…¸åºï¼‰ï¼š[0,0,0,1,...,0,0,0]ï¼ˆåªæœ‰ä¸€ä¸ªä½ç½®ä¸º1ï¼Œå…¶ä½™ä¸º0ï¼‰ ä¸Šè¿°è¡¨ç¤ºæ–¹æ³•ç§°ä¸ºOne-hotå‘é‡ã€‚ ç¼ºç‚¹ï¼š - ç»´æ•°ç¾éš¾çš„å›°æ‰° - æ— æ³•åˆ»ç”»è¯ä¸è¯ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼šä»»æ„ä¸¤ä¸ªè¯ä¹‹é—´éƒ½æ˜¯å­¤ç«‹çš„ one-hot -&gt; è¯å‘é‡: å¯åŸºäºå•è¯å½¢æˆçš„å‘é‡è¿›è¡Œåç»­æ“ä½œ ##### è¯å‘é‡æ¨¡å‹çš„è®­ç»ƒ é€šè¿‡å•è¯ w_{t} ä¸Šä¸‹æ–‡å•è¯çš„è¯å‘é‡æ¥é¢„æµ‹è¯¥å•è¯ w_{t} çš„è¯å‘é‡ : f\\left(w_{t}, w_{t-1}, \\ldots, w_{t-n+2}, w_{t-n+1}\\right)=p\\left(w_{t} \\mid \\text { context }\\right) å¦‚ä¸‹ä¼˜åŒ–æ¨¡å‹å‚æ•° \\theta, ä»¥æœ€å¤§åŒ–è®­ç»ƒæ•°æ®çš„å¯¹æ•°ä¼¼ç„¶å‡½æ•° : J=\\max {\\theta}\\left(\\log f\\left(w{t}, w_{t-1}, \\ldots, w_{t-n+2}, w_{t-n+1} ; \\theta\\right)+R(\\theta)\\right) &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/è¯å‘é‡.jpg\" alt=\"è¯å‘é‡\" style=\"zoom:67%;\" /&gt; è¯å‘é‡æ¨¡å‹ï¼šä¸¤ç§è®­ç»ƒæ¨¡å¼ - Continue Bag-of-Wordsï¼ˆCBoWï¼‰ï¼šæ ¹æ®æŸä¸ªå•è¯çš„ä¸Šä¸‹æ–‡å•è¯æ¥é¢„æµ‹è¯¥å•è¯ - Skip-gramï¼šåˆ©ç”¨æŸä¸ªå•è¯æ¥åˆ†åˆ«é¢„æµ‹è¯¥å•è¯çš„ä¸Šä¸‹æ–‡å•è¯ Word2 Vecçš„æ”¹è¿›ç®—æ³• - å¯¹ä¸€ä¸ªåŒ…å«10000ä¸ªå•è¯çš„è¯­æ–™åº“ï¼Œæ¯ä¸ªå•è¯çš„è¯å‘é‡è®¾ä¸º200ç»´ï¼Œåˆ™éœ€è¦200*10000ï¼ˆ2000000ï¼‰å’Œ10000*200ï¼ˆ2000000ï¼‰å¼‚å¸¸åºå¤§çš„æƒé‡çŸ©é˜µ - åœ¨å¦‚æ­¤å¤§ç¥ç»ç½‘ç»œä¸Šè¿›è¡Œæ¢¯åº¦ä¸‹é™è€—æ—¶ä¸ºäº†è§£å†³è¿™ä¸ªä¸è¶³ï¼Œåç»­å‡ºç°äº†å¦‚ä¸‹æ”¹è¿›æ‰‹æ®µï¼š - Hierarchical Softmaxï¼ˆå¼•å…¥éœå¤«æ›¼æ ‘ï¼‰ - Negative Sampling &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/è¯å‘é‡-å•è¯ç±»æ¯”.jpg\" alt=\"è¯å‘é‡-å•è¯ç±»æ¯”\" style=\"zoom:67%;\" /&gt; #### CNN-å›¾åƒåˆ†ç±»å’Œå®šä½ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/CNNå›¾åƒåˆ†ç±»å’Œå®šä½.jpg\" alt=\"CNNå›¾åƒåˆ†ç±»å’Œå®šä½\" style=\"zoom:67%;\" /&gt; #### å­¦ä¹ ç®—æ³•çš„æ”¹é€ ï¼šä»æµ…å±‚æ¨¡å‹åˆ°æ·±å±‚æ¨¡å‹ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/å­¦ä¹ ç®—æ³•çš„æ”¹é€ ä»æµ…å±‚æ¨¡å‹åˆ°æ·±å±‚æ¨¡å‹.jpg\" alt=\"å­¦ä¹ ç®—æ³•çš„æ”¹é€ ä»æµ…å±‚æ¨¡å‹åˆ°æ·±å±‚æ¨¡å‹\" style=\"zoom:67%;\" /&gt; ## [P2610.1å¼ºåŒ–å­¦ä¹ å®šä¹‰](https://www.bilibili.com/video/BV1c7411n7EY?p=26) &gt; äººå·¥æ™ºèƒ½é¢†åŸŸä¸­æœ‰ä¸‰ç§å­¦ä¹ çš„æ–¹æ³•ï¼š1.ä»¥é€»è¾‘æ¨ç†ä¸ºæ ¸å¿ƒçš„ç¬¦å·ä¸»ä¹‰äººå·¥æ™ºèƒ½ï¼› 2.ä»¥æ•°æ®å»ºæ¨¡ä¸ºæ ¸å¿ƒçš„æœºå™¨å­¦ä¹ ï¼› 3.ä»¥ç¯å¢ƒäº¤äº’ä¸ºæ ¸å¿ƒçš„å¼ºåŒ–å­¦ä¹  å»ºç«‹åœ¨é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹çš„åŸºç¡€ä¹‹ä¸Šï¼Œso what's MDP? &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/RL.jpg\" alt=\"RL\" style=\"zoom:67%;\" /&gt; #### å¼ºåŒ–å­¦ä¹ ç‰¹ç‚¹ï¼š &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/RLç‰¹ç‚¹.jpg\" alt=\"RLç‰¹ç‚¹\" style=\"zoom:67%;\" /&gt; #### æœºå™¨äººç§»åŠ¨ï¼šDMP-&gt;MRP-&gt;MDP ##### ç¦»æ•£é©¬å°”ç§‘å¤«è¿‡ç¨‹DMP ä¸€é˜¶é©¬å°”ç§‘å¤«é“¾ï¼š \\operatorname{Pr}\\left(X_{t+1}=x_{t+1} \\mid X_{0}=x_{0}, X_{1}=x_{1}, \\cdots, X_{t}=x_{t}\\right)=\\operatorname{Pr}\\left(X_{t+1}=x_{t+1} \\mid X_{t}=x_{t}\\right) ã€t+1æ—¶åˆ»çŠ¶æ€ä»…ä¸tæ—¶åˆ»çŠ¶æ€ç›¸å…³ äºŒé˜¶é©¬å°”ç§‘å¤«é“¾ï¼š \\operatorname{Pr}\\left(X_{t+1}=x_{t+1} \\mid X_{t}=x_{t}, X_{t-1} = x_{t}\\right) ã€t+1æ—¶åˆ»çŠ¶æ€ä¸tå’Œt-1æ—¶åˆ»çŠ¶æ€ç›¸å…³ &lt;img src=\"./ã€Šäººå·¥æ™ºèƒ½-æ¨¡å‹ä¸ç®—æ³•â€”â€”æµ™æ±Ÿå¤§å­¦å…¬å¼€è¯¾ã€‹ç¬”è®°/DMP1.jpg\" alt=\"DMP\" style=\"zoom:67%;\" /&gt; ##### é©¬å°”å¯å¤«å¥–åŠ±è¿‡ç¨‹ï¼ˆMarkov Reward Processï¼‰ï¼š å¼•å…¥å¥–åŠ±ä¸ºäº†åœ¨åºåˆ—å†³ç­–ä¸­å¯¹ç›®æ ‡è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨é©¬å°”å¯å¤«éšæœºè¿‡ç¨‹æ¡†æ¶ä¸­åŠ å…¥äº†å¥–åŠ±æœºåˆ¶ï¼š - å¥–åŠ±å‡½æ•° R: S \\times S \\mapsto \\mathbb{R}, å…¶ä¸­ R\\left(S_{t}, S_{t+1}\\right) æè¿°äº†ä»ç¬¬ t æ­¥çŠ¶æ€è½¬ç§»åˆ°ç¬¬ t+1 æ­¥çŠ¶æ€æ‰€è· å¾—å¥–åŠ± - åœ¨ä¸€ä¸ªåºåˆ—å†³ç­–è¿‡ç¨‹ä¸­ï¼Œä¸åŒçŠ¶æ€ä¹‹é—´çš„è½¬ç§»äº§ç”Ÿäº†ä¸€ç³»åˆ—çš„å¥–åŠ± \\left(R_{1}, R_{2}, \\cdots\\right), å…¶ä¸­ R_{t+1} ä¸º R\\left(S_{t}, S_{t+1}\\right) çš„ç®€ä¾¿è®°æ³•ã€‚ - å¼•å…¥å¥–åŠ±æœºåˆ¶ï¼Œè¿™æ ·å¯ä»¥è¡¡é‡ä»»æ„åºåˆ—çš„ä¼˜åŠ£ï¼Œå³å¯¹åºåˆ—å†³ç­–è¿›è¡Œè¯„ä»·ã€‚ é—®é¢˜ï¼šç»™å®šä¸¤ä¸ªå› ä¸ºçŠ¶æ€è½¬ç§»è€Œäº§ç”Ÿçš„å¥–åŠ±åºåˆ—ï¼ˆ1ï¼Œ1ï¼Œ0ï¼Œ0ï¼‰å’Œï¼ˆ0ï¼Œ0ï¼Œ1ï¼Œ1ï¼‰ï¼Œå“ªä¸ªå¥–åŠ±åºåˆ—æ›´å¥½ï¼Ÿ Aï¼šä¸ºäº†æ¯”è¾ƒä¸åŒçš„å¥–åŠ±åºåˆ—ï¼Œå®šä¹‰åé¦ˆï¼ˆreturnï¼‰ï¼Œç”¨æ¥åæ˜ ç´¯åŠ å¥–åŠ±ï¼š$$G_{t}=R_{t+1}+\\gamma R_{t+2}+\\gamma^{2} R_{t+3}+\\cdots å…¶ä¸­è¡°é€€ç³»æ•°ï¼ˆ decay factorï¼‰ Î³âˆˆ[0,1]\\gamma \\in[0,1]Î³âˆˆ[0,1]ï¼Œæ¥è¡¨ç¤ºå½“å‰çš„å¥–åŠ±è¶Šæ˜¯é‡è¦ï¼Œè¿œçš„å¥–åŠ±è™½ç„¶éœ€è¦è€ƒè™‘ï¼Œä½†æ˜¯é‡è¦ç¨‹åº¦æ˜¯è¡°å‡çš„ã€‚ å‡è®¾ Î³=0.99\\gamma=0.99Î³=0.99 (1,1,0,0):G0=1+0.99Ã—1+0.992Ã—0+0.993Ã—0=1.99: G_{0}=1+0.99 \\times 1+0.99^{2} \\times 0+0.99^{3} \\times 0=1.99:G0â€‹=1+0.99Ã—1+0.992Ã—0+0.993Ã—0=1.99 (0,0,1,1):G0=0+0.99Ã—0+0.992Ã—1+0.993Ã—1=1.9504: G_{0}=0+0.99 \\times 0+0.99^{2} \\times 1+0.99^{3} \\times 1=1.9504:G0â€‹=0+0.99Ã—0+0.992Ã—1+0.993Ã—1=1.9504 å¯è§ï¼Œå‰ä¸€ç§åé¦ˆçš„ç´¯åŠ æ›´å¤§ï¼Œè™½ç„¶(1,1,0,0)æ›´å¥½ã€‚ é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMarkov Decision Processï¼‰ é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMarkov Decision Processï¼‰ï¼šå¼•å…¥åŠ¨ä½œ åœ¨å¼ºåŒ–å­¦ä¹ é—®é¢˜ä¸­ï¼Œæ™ºèƒ½ä¸»ä½“ä¸ç¯å¢ƒäº¤äº’è¿‡ç¨‹ä¸­å¯è‡ªä¸»å†³å®šæ‰€é‡‡å–çš„åŠ¨ä½œï¼Œä¸åŒåŠ¨ä½œä¼šå¯¹ç¯å¢ƒäº§ç”Ÿä¸åŒå½±å“ï¼Œä¸ºæ­¤ï¼š å®šä¹‰æ™ºèƒ½ä¸»ä½“èƒ½å¤Ÿé‡‡å–çš„åŠ¨ä½œé›†åˆä¸ºA ç”±äºä¸åŒçš„åŠ¨ä½œå¯¹ç¯å¢ƒé€ æˆçš„å½±å“ä¸åŒï¼Œå› æ­¤çŠ¶æ€è½¬ç§»æ¦‚ç‡å®šä¹‰ä¸ºPrï¼ˆSt+1âˆ£St,atï¼‰Prï¼ˆS_{t+1}|S_t,a_tï¼‰Prï¼ˆSt+1â€‹âˆ£Stâ€‹,atâ€‹ï¼‰ï¼Œå…¶ä¸­atE Aä¸ºç¬¬tæ­¥é‡‡å–çš„åŠ¨ä½œ å¥–åŠ±å¯èƒ½å—åŠ¨ä½œçš„å½±å“ï¼Œå› æ­¤ä¿®æ”¹å¥–åŠ±å‡½æ•°ä¸ºRï¼ˆStï¼Œatï¼ŒSt+1ï¼‰Rï¼ˆS_tï¼Œatï¼ŒS_{t+1}ï¼‰Rï¼ˆStâ€‹ï¼Œatï¼ŒSt+1â€‹ï¼‰ ç›¸å…³æœ¯è¯­ å•¥æ˜¯ç­–ç•¥ ç­–ç•¥å‡½æ•°ï¼š ç­–ç•¥å‡½æ•°Ï€ï¼šSÃ—Aâ†’[0ï¼Œ1]ï¼Œå…¶ä¸­Ï€ï¼ˆsï¼Œaï¼‰çš„å€¼è¡¨ç¤ºåœ¨çŠ¶æ€sä¸‹é‡‡å–åŠ¨ä½œaçš„æ¦‚ç‡ã€‚ ç­–ç•¥å‡½æ•°çš„è¾“å‡ºå¯ä»¥æ˜¯ç¡®å®šçš„ï¼Œå³ç»™å®šsæƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ªåŠ¨ä½œaä½¿å¾—æ¦‚ç‡Ï€ï¼ˆsï¼Œaï¼‰å–å€¼ä¸º1ã€‚ å¯¹äºç¡®å®šçš„ç­–ç•¥ï¼Œè®°ä¸ºa=Ï€ï¼ˆsï¼‰ã€‚ å¦‚ä½•è¿›è¡Œç­–ç•¥å­¦ä¹ ï¼šä¸€ä¸ªå¥½çš„ç­–ç•¥æ˜¯åœ¨å½“å‰çŠ¶æ€ä¸‹é‡‡å–äº†ä¸€ä¸ªè¡ŒåŠ¨åï¼Œè¯¥è¡ŒåŠ¨èƒ½å¤Ÿåœ¨æœªæ¥æ”¶åˆ°æœ€å¤§åŒ–çš„åé¦ˆï¼š Ï€âˆ—=argmaxÏ€Gt=Rt+1+Î³Rt+2+Î³2Rt+3+â‹¯\\pi^{*} = argmax_\\pi G_{t}=R_{t+1}+\\gamma R_{t+2}+\\gamma^{2} R_{t+3}+\\cdotsÏ€âˆ—=argmaxÏ€â€‹Gtâ€‹=Rt+1â€‹+Î³Rt+2â€‹+Î³2Rt+3â€‹+â‹¯ ä¸ºäº†å¯¹ç­–ç•¥å‡½æ•°å·¥è¿›è¡Œè¯„ä¼°ï¼Œå®šä¹‰ã€‚ ä»·å€¼å‡½æ•°ï¼ˆValue Functionï¼‰V:Sâ†¦R,V: S \\mapsto \\mathbb{R},V:Sâ†¦R, å…¶ä¸­ VÏ€(s)=EÏ€[Gtâˆ£St=s]V_{\\pi}(s)=\\mathbb{E}_{\\pi}\\left[G_{t} \\mid S_{t}=s\\right]VÏ€â€‹(s)=EÏ€â€‹[Gtâ€‹âˆ£Stâ€‹=s]ï¼Œå³åœ¨ç¬¬tæ­¥çŠ¶æ€ä¸ºsæ—¶ï¼ŒæŒ‰ç…§ç­–ç•¥Ï€è¡ŒåŠ¨ååœ¨æœªæ¥æ‰€è·å¾—åé¦ˆå€¼çš„æœŸæœ›.(ç”±é©¬å°”å¯å¤«æ€§ï¼Œæœªæ¥çš„çŠ¶æ€å’Œå¥–åŠ±åªä¸å½“å‰çŠ¶æ€ç›¸å…³ï¼Œä¸tæ— å…³ã€‚å› æ­¤tå–ä»»æ„å€¼è¯¥ç­‰å¼å‡æˆç«‹ï¼Œå¦‚â€œé€¢å±±å¼€è·¯ï¼Œé‡æ°´æ­æ¡¥â€ã€‚) åŠ¨ä½œ-ä»·å€¼å‡½æ•°ï¼ˆAction-Value Functionï¼‰q:SÃ—Aâ†¦R,q: S \\times A \\mapsto \\mathbb{R},q:SÃ—Aâ†¦R, å…¶ä¸­ qÏ€(s,a)=EÏ€[Gtâˆ£St=s,At=a]q_{\\pi}(s, a)=\\mathbb{E}_{\\pi}\\left[G_{t} \\mid S_{t}=s, A_{t}=a\\right]qÏ€â€‹(s,a)=EÏ€â€‹[Gtâ€‹âˆ£Stâ€‹=s,Atâ€‹=a] è¡¨ç¤ºåœ¨ç¬¬tæ­¥çŠ¶æ€ä¸ºsæ—¶ï¼ŒæŒ‰ç…§ç­–ç•¥Ï€é‡‡å–åŠ¨ä½œaåï¼Œåœ¨æœªæ¥æ‰€è·å¾—åé¦ˆå€¼çš„æœŸæœ› ==&gt;è¿™æ ·ï¼Œç­–ç•¥å­¦ä¹ è½¬æ¢ä¸ºå¦‚ä¸‹ä¼˜åŒ–é—®é¢˜ï¼šå¯»æ‰¾ä¸€ä¸ªæœ€ä¼˜ç­–ç•¥Ï€âˆ—Ï€*Ï€âˆ—ï¼Œå¯¹ä»»æ„sâˆˆSä½¿å¾—VÏ€âˆ—ï¼ˆsï¼‰V_\\pi^{*}ï¼ˆsï¼‰VÏ€âˆ—â€‹ï¼ˆsï¼‰å€¼æœ€å¤§ ä»·å€¼å‡½æ•°ä¸åŠ¨ä½œ-ä»·å€¼å‡½æ•°çš„å…³ç³»ï¼šå¯¹ç­–ç•¥è¿›è¡Œè¯„ä¼° VÏ€(s)=EÏ€[Rt+1+Î³Rt+2+Î³2Rt+3+â‹¯âˆ£St=s]=Eaâˆ¼Ï€(s,)[EÏ€[Rt+1+Î³Rt+2+Î³2Rt+3+â‹¯âˆ£St=s,At=a]]=âˆ‘aâˆˆAÏ€(s,a)qÏ€(s,a)qÏ€(s,a)=EÏ€[Rt+1+Î³Rt+2+Î³2Rt+3+â‹¯âˆ£St=s,At=a]=Esâ€²âˆ¼Prâ¡(âˆ£s,a)[R(s,a,sâ€²)+Î³EÏ€[Rt+2+Î³Rt+3+â‹¯âˆ£St+1=sâ€²]]=âˆ‘sâ€²âˆˆSPrâ¡(sâ€²âˆ£s,a)[R(s,a,sâ€²)+Î³VÏ€(sâ€²)]\\begin{aligned} V_{\\pi}(s) &amp;=\\mathbb{E}_{\\pi}\\left[R_{t+1}+\\gamma R_{t+2}+\\gamma^{2} R_{t+3}+\\cdots \\mid S_{t}=s\\right] \\\\ &amp;=\\mathbb{E}_{a \\sim \\pi(s,)}\\left[\\mathbb{E}_{\\pi}\\left[R_{t+1}+\\gamma R_{t+2}+\\gamma^{2} R_{t+3}+\\cdots \\mid S_{t}=s, A_{t}=a\\right]\\right] \\\\ &amp;=\\sum_{a \\in A} \\pi(s, a) q_{\\pi}(s, a) \\\\ q_{\\pi}(s, a)=&amp; \\mathbb{E}_{\\pi}\\left[R_{t+1}+\\gamma R_{t+2}+\\gamma^{2} R_{t+3}+\\cdots \\mid S_{t}=s, A_{t}=a\\right] \\\\=&amp; \\mathbb{E}_{s^{\\prime} \\sim \\operatorname{Pr}(\\mid s, a)}\\left[R\\left(s, a, s^{\\prime}\\right)+\\gamma \\mathbb{E}_{\\pi}\\left[R_{t+2}+\\gamma R_{t+3}+\\cdots \\mid S_{t+1}=s^{\\prime}\\right]\\right] \\\\=&amp; \\sum_{s^{\\prime} \\in S} \\operatorname{Pr}\\left(s^{\\prime} \\mid s, a\\right)\\left[R\\left(s, a, s^{\\prime}\\right)+\\gamma V_{\\pi}\\left(s^{\\prime}\\right)\\right] \\end{aligned}VÏ€â€‹(s)qÏ€â€‹(s,a)===â€‹=EÏ€â€‹[Rt+1â€‹+Î³Rt+2â€‹+Î³2Rt+3â€‹+â‹¯âˆ£Stâ€‹=s]=Eaâˆ¼Ï€(s,)â€‹[EÏ€â€‹[Rt+1â€‹+Î³Rt+2â€‹+Î³2Rt+3â€‹+â‹¯âˆ£Stâ€‹=s,Atâ€‹=a]]=aâˆˆAâˆ‘â€‹Ï€(s,a)qÏ€â€‹(s,a)EÏ€â€‹[Rt+1â€‹+Î³Rt+2â€‹+Î³2Rt+3â€‹+â‹¯âˆ£Stâ€‹=s,Atâ€‹=a]Esâ€²âˆ¼Pr(âˆ£s,a)â€‹[R(s,a,sâ€²)+Î³EÏ€â€‹[Rt+2â€‹+Î³Rt+3â€‹+â‹¯âˆ£St+1â€‹=sâ€²]]sâ€²âˆˆSâˆ‘â€‹Pr(sâ€²âˆ£s,a)[R(s,a,sâ€²)+Î³VÏ€â€‹(sâ€²)]â€‹ è´å°”æ›¼æ–¹ç¨‹ï¼ˆBellman Equationï¼‰ï¼š åˆ»ç”»äº†ä»·å€¼å‡½æ•°å’Œè¡ŒåŠ¨-ä»·å€¼å‡½æ•°è‡ªèº«ä»¥åŠä¸¤è€…ç›¸äº’ä¹‹é—´çš„é€’æ¨å…³ç³» VÏ€(s)=âˆ‘aâˆˆAÏ€(s,a)qÏ€(s,a),qÏ€(s,a)=âˆ‘sâ€²âˆˆSPrâ¡(sâ€²âˆ£s,a)[R(s,a,sâ€²)+Î³VÏ€(sâ€²)]V_{\\pi}(s)=\\sum_{a \\in A} \\pi(s, a) q_{\\pi}(s, a) \\quad , q_{\\pi}(s, a)=\\sum_{s^{\\prime} \\in S} \\operatorname{Pr}\\left(s^{\\prime} \\mid s, a\\right)\\left[R\\left(s, a, s^{\\prime}\\right)+\\gamma V_{\\pi}\\left(s^{\\prime}\\right)\\right] VÏ€â€‹(s)=aâˆˆAâˆ‘â€‹Ï€(s,a)qÏ€â€‹(s,a),qÏ€â€‹(s,a)=sâ€²âˆˆSâˆ‘â€‹Pr(sâ€²âˆ£s,a)[R(s,a,sâ€²)+Î³VÏ€â€‹(sâ€²)] å°†å³å¼å¸¦å…¥å·¦å¼ï¼Œå¾—åˆ°ä»·å€¼å‡½æ•°çš„è´å°”æ›¼æ–¹ç¨‹ VÏ€(s)=âˆ‘aâˆˆAÏ€(s,a)âˆ‘sâ€²âˆˆSPrâ¡(sâ€²âˆ£s,a)[R(s,a,sâ€²)+Î³VÏ€(sâ€²)]V_{\\pi}(s)=\\sum_{a \\in A} \\pi(s, a) \\sum_{s^{\\prime} \\in S} \\operatorname{Pr}\\left(s^{\\prime} \\mid s, a\\right)\\left[R\\left(s, a, s^{\\prime}\\right)+\\gamma V_{\\pi}\\left(s^{\\prime}\\right)\\right] VÏ€â€‹(s)=aâˆˆAâˆ‘â€‹Ï€(s,a)sâ€²âˆˆSâˆ‘â€‹Pr(sâ€²âˆ£s,a)[R(s,a,sâ€²)+Î³VÏ€â€‹(sâ€²)] å°†å·¦å¼å¸¦å…¥å³å¼ï¼Œå¾—åˆ°è¡ŒåŠ¨-ä»·å€¼å‡½æ•°çš„è´å°”æ›¼æ–¹ç¨‹ qÏ€(s,a)=âˆ‘sâ€²âˆˆSPrâ¡(sâ€²âˆ£s,a)[R(s,a,sâ€²)+Î³âˆ‘aâ€²âˆˆAÏ€(sâ€²,aâ€²)qÏ€(sâ€²,aâ€²)]q_{\\pi}(s, a)=\\sum_{s^{\\prime} \\in S} \\operatorname{Pr}\\left(s^{\\prime} \\mid s, a\\right)\\left[R\\left(s, a, s^{\\prime}\\right)+\\gamma \\sum_{a^{\\prime} \\in A} \\pi\\left(s^{\\prime}, a^{\\prime}\\right) q_{\\pi}\\left(s^{\\prime}, a^{\\prime}\\right)\\right] qÏ€â€‹(s,a)=sâ€²âˆˆSâˆ‘â€‹Pr(sâ€²âˆ£s,a)[R(s,a,sâ€²)+Î³aâ€²âˆˆAâˆ‘â€‹Ï€(sâ€²,aâ€²)qÏ€â€‹(sâ€²,aâ€²)] å°†åˆ©ç”¨è´å°”æ›¼æ–¹ç¨‹è¿›è¡Œç­–ç•¥è¯„ä¼°ï¼Œè¿›è€Œè¿›è¡Œç­–ç•¥ä¼˜åŒ– P2710.2ç­–ç•¥ä¼˜åŒ–ä¸ç­–ç•¥è¯„ä¼° åŸºäºä»·å€¼çš„æ±‚è§£æ–¹æ³•ï¼š ç¬¬ä¸€éƒ¨åˆ†ï¼šç­–ç•¥ä¼˜åŒ–ï¼› ç¬¬äºŒéƒ¨åˆ†ï¼šç­–ç•¥è¯„ä¼° é€šè¿‡è¿­ä»£è®¡ç®—è´å°”æ›¼æ–¹ç¨‹è¿›è¡Œç­–ç•¥è¯„ä¼° åŠ¨æ€è§„åˆ’ åŠ¨æ€è§„åˆ’æ³•çš„ç¼ºç‚¹ï¼š 1ï¼‰æ™ºèƒ½ä¸»ä½“éœ€è¦äº‹å…ˆçŸ¥é“çŠ¶æ€è½¬ç§»æ¦‚ç‡ï¼ˆmodel-baseï¼‰ï¼› 2ï¼‰æ— æ³•å¤„ç†çŠ¶æ€é›†åˆå¤§å°æ— é™çš„æƒ…å†µ è’™ç‰¹å¡æ´›é‡‡æ · è’™ç‰¹å¡æ´›é‡‡æ ·æ³•çš„ä¼˜ç‚¹ æ™ºèƒ½ä¸»ä½“ä¸å¿…çŸ¥é“çŠ¶æ€è½¬ç§»æ¦‚ç‡Â· å®¹æ˜“æ‰©å±•åˆ°æ— é™çŠ¶æ€é›†åˆçš„é—®é¢˜ä¸­ è’™ç‰¹å¡æ´›é‡‡æ ·æ³•çš„ç¼ºç‚¹ çŠ¶æ€é›†åˆæ¯”è¾ƒå¤§æ—¶ï¼Œä¸€ä¸ªçŠ¶æ€åœ¨è½¨è¿¹å¯èƒ½éå¸¸ç¨€ç–ï¼Œä¸åˆ©äºä¼°è®¡æœŸæœ› åœ¨å®é™…é—®é¢˜ä¸­ï¼Œæœ€ç»ˆåé¦ˆéœ€è¦åœ¨ç»ˆæ­¢çŠ¶æ€æ‰èƒ½çŸ¥æ™“ï¼Œå¯¼è‡´åé¦ˆå‘¨æœŸè¾ƒé•¿ æ—¶åºå·®åˆ†ï¼ˆTemporal Differenceï¼‰ P2810.3å¼ºåŒ–å­¦ä¹ æ±‚è§£QLearning åŸºäºæ—¶åºå·®åˆ†çš„æ–¹æ³•-Qå­¦ä¹ ï¼ˆQ-Learningï¼‰[Q:quality] æ— æ¢ç´¢çš„Qlearning ä½¿ç”¨eè´ªå¿ƒç­–ç•¥çš„Qå­¦ä¹  P2910.4æ·±åº¦å¼ºåŒ–å­¦ä¹  ç”¨ç¥ç»ç½‘ç»œæ‹Ÿåˆï¼ˆè¡ŒåŠ¨ï¼‰ä»·å€¼å‡½æ•° é—®é¢˜ï¼š çŠ¶æ€æ•°é‡å¤ªå¤šæ—¶ï¼Œæœ‰äº›çŠ¶æ€å¯èƒ½å§‹ç»ˆæ— æ³•é‡‡æ ·åˆ°ï¼Œå› æ­¤å¯¹è¿™äº›çŠ¶æ€çš„qå‡½æ•°è¿›è¡Œä¼°è®¡æ˜¯å¾ˆå›°éš¾çš„ çŠ¶æ€æ•°é‡æ— é™æ—¶ï¼Œä¸å¯èƒ½ç”¨ä¸€å¼ è¡¨ï¼ˆæ•°ç»„ï¼‰æ¥è®°å½•qå‡½æ•°çš„å€¼ è§£å†³æ€è·¯ï¼š å°†qå‡½æ•°å‚æ•°åŒ–ï¼ˆparametrizeï¼‰ï¼Œç”¨ä¸€ä¸ªéçº¿æ€§å›å½’æ¨¡å‹æ¥æ‹Ÿåˆqå‡½æ•°ï¼Œä¾‹å¦‚ï¼ˆæ·±åº¦ï¼‰ç¥ç»ç½‘ç»œ èƒ½å¤Ÿç”¨æœ‰é™çš„å‚æ•°åˆ»ç”»æ— é™çš„çŠ¶æ€ ç”±äºå›å½’å‡½æ•°çš„è¿ç»­æ€§ï¼Œæ²¡æœ‰æ¢ç´¢è¿‡çš„çŠ¶æ€ä¹Ÿå¯é€šè¿‡å‘¨å›´çš„çŠ¶æ€æ¥ä¼°è®¡ æ·±åº¦Qå­¦ä¹ ä¸æ¢¯åº¦ä¸‹é™æ³• æ·±åº¦Qå­¦ä¹ çš„ä¸¤ä¸ªä¸ç¨³å®šå› ç´ -&gt;DQN æ ·æœ¬ç›¸å…³æ€§å¤ªå¼º åœ¨æŸå¤±å‡½æ•°ä¸­ï¼Œqå‡½æ•°çš„å€¼æ—¢ç”¨æ¥ä¼°è®¡ç›®æ ‡å€¼ï¼Œåˆç”¨æ¥è®¡ç®—å½“å‰å€¼ã€‚ç°åœ¨è¿™ä¸¤å¤„çš„qå‡½æ•°é€šè¿‡eæœ‰æ‰€å…³è”ï¼Œå¯èƒ½å¯¼è‡´ä¼˜åŒ–æ—¶ä¸ç¨³å®š DQN ç»éªŒé‡ç° æ ·æœ¬ç›¸å…³æ€§å¤ªå¼º=&gt;ç»éªŒé‡ç° ç›®æ ‡ç½‘ç»œ åœ¨æŸå¤±å‡½æ•°ä¸­ï¼Œqå‡½æ•°çš„å€¼æ—¢ç”¨æ¥ä¼°è®¡ç›®æ ‡å€¼ï¼Œåˆç”¨æ¥è®¡ç®—å½“å‰å€¼ã€‚ç°åœ¨è¿™ä¸¤å¤„çš„qå‡½æ•°é€šè¿‡eæœ‰æ‰€å…³è”ï¼Œå¯èƒ½å¯¼è‡´ä¼˜åŒ–æ—¶ä¸ç¨³å®š-&gt;ç›®æ ‡ç½‘ç»œ P3011.1åšå¼ˆç›¸å…³æ¦‚å¿µâ€”â€”äººå·¥æ™ºèƒ½åšå¼ˆ åšå¼ˆè¡Œä¸ºï¼šå¸¦æœ‰ç›¸äº’ç«äº‰æ€§è´¨çš„ä¸»ä½“ï¼Œä¸ºäº†è¾¾åˆ°å„è‡ªç›®æ ‡å’Œåˆ©ç›Šï¼Œé‡‡å–çš„å¸¦æœ‰å¯¹æŠ—æ€§è´¨çš„è¡Œä¸ºã€‚ åšå¼ˆè®ºä¸»è¦ç ”ç©¶åšå¼ˆè¡Œä¸ºä¸­æœ€ä¼˜çš„å¯¹æŠ—ç­–ç•¥åŠå…¶ç¨³å®šå±€åŠ¿ï¼ŒååŠ©äººä»¬åœ¨ä¸€å®šè§„åˆ™èŒƒå›´å†…å¯»æ±‚æœ€åˆç†çš„è¡Œä¸ºæ–¹å¼ã€‚ â€‹ åšå¼ˆçš„è¦ç´  å‚ä¸è€…æˆ–ç©å®¶ï¼ˆplayerï¼‰ï¼šå‚ä¸åšå¼ˆçš„å†³ç­–ä¸»ä½“ ç­–ç•¥ï¼ˆstrategyï¼‰ï¼šå‚ä¸è€…å¯ä»¥é‡‡å–çš„è¡ŒåŠ¨æ–¹æ¡ˆï¼Œæ˜¯ä¸€æ•´å¥—åœ¨é‡‡å–è¡ŒåŠ¨ä¹‹å‰å°±å·²ç»å‡†å¤‡å¥½çš„å®Œæ•´æ–¹æ¡ˆã€‚ æŸä¸ªå‚ä¸è€…å¯é‡‡çº³ç­–ç•¥çš„å…¨ä½“ç»„åˆå½¢æˆäº†ç­–ç•¥é›†ï¼ˆstrategy setï¼‰ æ‰€æœ‰å‚ä¸è€…å„è‡ªé‡‡å–è¡ŒåŠ¨åå½¢æˆçš„çŠ¶æ€è¢«ç§°ä¸ºå±€åŠ¿ï¼ˆoutcomeï¼‰ å¦‚æœå‚ä¸è€…å¯ä»¥é€šè¿‡ä¸€å®šæ¦‚ç‡åˆ†å¸ƒæ¥é€‰æ‹©è‹¥å¹²ä¸ªä¸åŒçš„ç­–ç•¥ï¼Œè¿™æ ·çš„ç­–ç•¥ç§°ä¸ºæ··åˆç­–ç•¥ï¼ˆmixed strategyï¼‰ã€‚è‹¥å‚ä¸è€…æ¯æ¬¡è¡ŒåŠ¨éƒ½é€‰æ‹©æŸä¸ªç¡®å®šçš„ç­–ç•¥ï¼Œè¿™æ ·çš„ç­–ç•¥ç§°ä¸ºçº¯ç­–ç•¥ï¼ˆpure strategyï¼‰ æ”¶ç›Šï¼ˆpayoffï¼‰ï¼šå„ä¸ªå‚ä¸è€…åœ¨ä¸åŒå±€åŠ¿ä¸‹å¾—åˆ°çš„åˆ©ç›Š æ··åˆç­–ç•¥æ„ä¹‰ä¸‹çš„æ”¶ç›Šåº”ä¸ºæœŸæœ›æ”¶ç›Šï¼ˆexpected payoffï¼‰è§„åˆ™ï¼ˆruleï¼‰ï¼šå¯¹å‚ä¸è€…è¡ŒåŠ¨çš„å…ˆåé¡ºåºã€å‚ä¸è€…è·å¾—ä¿¡æ¯å¤šå°‘ç­‰å†…å®¹çš„è§„å®š å›šå¾’å›°å¢ƒï¼ˆprisonerâ€™s dilemmaï¼‰ æ•°å­¦å®¶é˜¿å°”ä¼¯ç‰¹Â·å¡”å…‹ï¼šè­¦æ–¹é€®æ•äº†å…±åŒçŠ¯ç½ªçš„ç”²ã€ä¹™ä¸¤äººï¼Œç”±äºè­¦æ–¹æ²¡æœ‰æŒæ¡å……åˆ†çš„è¯æ®ï¼Œæ‰€ä»¥å°†ä¸¤äººåˆ†å¼€å®¡è®¯ï¼š è‹¥ä¸€äººè®¤ç½ªå¹¶æŒ‡è¯å¯¹æ–¹ï¼Œè€Œå¦ä¸€æ–¹ä¿æŒæ²‰é»˜ï¼Œåˆ™æ­¤äººä¼šè¢«å½“å³é‡Šæ”¾ï¼Œæ²‰é»˜è€…ä¼šè¢«åˆ¤ç›‘ç¦10å¹´ è‹¥ä¸¤äººéƒ½ä¿æŒæ²‰é»˜ï¼Œåˆ™æ ¹æ®å·²æœ‰çš„çŠ¯ç½ªäº‹å®ï¼ˆæ— å……åˆ†è¯æ®ï¼‰ä¸¤äººå„åˆ¤åŠå¹´ è‹¥ä¸¤äººéƒ½è®¤ç½ªå¹¶ç›¸äº’æŒ‡è¯ï¼Œåˆ™ä¸¤äººå„åˆ¤5å¹´ åœ¨å›šå¾’å›°å¢ƒä¸­ï¼Œæœ€ä¼˜è§£ä¸ºä¸¤äººåŒæ—¶æ²‰é»˜ï¼Œä½†æ˜¯ä¸¤äººå®é™…å€¾å‘äºé€‰æ‹©åŒæ—¶è®¤ç½ªï¼ˆå‡è¡¡è§£ï¼‰ å›šå¾’å›°å¢ƒäº§ç”Ÿçš„åŸå› ï¼š å¯¹ç”²è€Œè¨€ï¼Œè‹¥ä¹™æ²‰é»˜ï¼Œè‡ªå·±è®¤ç½ªçš„æ”¶ç›Šä¸º0ï¼Œè€Œè‡ªå·±ä¹Ÿæ²‰é»˜åˆ™æ”¶ç›Šä¸º-0.5ï¼›è‹¥ä¹™è®¤ç½ªï¼Œè‡ªå·±è®¤ç½ªåˆ™æ”¶ç›Šä¸º-5ï¼Œè‡ªå·±æ²‰é»˜åˆ™æ”¶ç›Šä¸º-10 å¯¹ä¹™è€Œè¨€ï¼Œè‹¥ç”²æ²‰é»˜ï¼Œè‡ªå·±è®¤ç½ªçš„æ”¶ç›Šä¸º0ï¼Œè€Œè‡ªå·±ä¹Ÿæ²‰é»˜åˆ™æ”¶ç›Šä¸º-0.5ï¼›è‹¥ç”²è®¤ç½ªï¼Œè‡ªå·±è®¤ç½ªçš„æ”¶ç›Šä¸º-5ï¼Œè‡ªå·±æ²‰é»˜åˆ™æ”¶ç›Šä¸º-10 å³å¯¹ä¸ªäººè€Œè¨€ï¼Œè®¤ç½ªçš„æ”¶ç›Šåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½æ¯”æ²‰é»˜çš„æ”¶ç›Šé«˜ï¼Œæ‰€ä»¥ä¸¤äººåŒæ—¶è®¤ç½ªæ˜¯ä¸€ä¸ªç¨³å®šçš„å±€åŠ¿ï¼Œå…¶ä»–ä¸‰ç§æƒ…å†µéƒ½ä¸æ˜¯ç¨³å®šå±€åŠ¿ â–².å›šå¾’å›°å¢ƒè¡¨æ˜ç¨³å®šå±€åŠ¿å¹¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜å±€åŠ¿ åšå¼ˆçš„åˆ†ç±» åˆä½œåšå¼ˆä¸éåˆä½œåšå¼ˆ åˆä½œåšå¼ˆï¼ˆcooperative gameï¼‰ï¼šéƒ¨åˆ†å‚ä¸è€…å¯ä»¥ç»„æˆè”ç›Ÿä»¥è·å¾—æ›´å¤§çš„æ”¶ç›Š éåˆä½œåšå¼ˆï¼ˆnon-cooperative gameï¼‰ï¼šå‚ä¸è€…åœ¨å†³ç­–ä¸­éƒ½å½¼æ­¤ç‹¬ç«‹ï¼Œä¸äº‹å…ˆè¾¾æˆåˆä½œ æ„å‘é™æ€åšå¼ˆä¸åŠ¨æ€åšå¼ˆ é™æ€åšå¼ˆï¼ˆstatic gameï¼‰ï¼šæ‰€æœ‰å‚ä¸è€…åŒæ—¶å†³ç­–ï¼Œæˆ–å‚ä¸è€…äº’ç›¸ä¸çŸ¥é“å¯¹æ–¹çš„å†³ç­– åŠ¨æ€åšå¼ˆï¼ˆdynamic gameï¼‰ï¼šå‚ä¸è€…æ‰€é‡‡å–è¡Œä¸ºçš„å…ˆåé¡ºåºç”±è§„åˆ™å†³å®šï¼Œä¸”åè¡ŒåŠ¨è€…çŸ¥é“å…ˆè¡ŒåŠ¨è€…æ‰€é‡‡å–çš„è¡Œä¸º å®Œå…¨ä¿¡æ¯åšå¼ˆä¸ä¸å®Œå…¨ä¿¡æ¯åšå¼ˆ å®Œå…¨ä¿¡æ¯ï¼ˆcomplete informationï¼‰ï¼šæ‰€æœ‰å‚ä¸è€…å‡äº†è§£å…¶ä»–å‚ä¸è€…çš„ç­–ç•¥é›†ã€æ”¶ç›Šç­‰ä¿¡æ¯ ä¸å®Œå…¨ä¿¡æ¯ï¼ˆincomplete informationï¼‰ï¼šå¹¶éæ‰€æœ‰å‚ä¸è€…å‡æŒæ¡äº†æ‰€æœ‰ä¿¡æ¯ å›šå¾’å›°å¢ƒæ˜¯ä¸€ç§éåˆä½œã€ä¸å®Œå…¨ä¿¡æ¯çš„é™æ€åšå¼ˆ çº³ä»€å‡è¡¡ åšå¼ˆçš„ç¨³å®šå±€åŠ¿å³ä¸ºçº³ä»€å‡è¡¡ï¼ˆNash equilibriumï¼‰ï¼š æŒ‡çš„æ˜¯å‚ä¸è€…æ‰€ä½œå‡ºçš„è¿™æ ·ä¸€ç§ç­–ç•¥ç»„åˆï¼Œåœ¨è¯¥ç­–ç•¥ç»„åˆä¸Šï¼Œä»»ä½•å‚ä¸è€…å•ç‹¬æ”¹å˜ç­–ç•¥éƒ½ä¸ä¼šå¾—åˆ°å¥½å¤„ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœåœ¨ä¸€ä¸ªç­–ç•¥ç»„åˆä¸Šï¼Œå½“æ‰€æœ‰å…¶ä»–äººéƒ½ä¸æ”¹å˜ç­–ç•¥æ—¶ï¼Œæ²¡æœ‰äººä¼šæ”¹å˜è‡ªå·±çš„ç­–ç•¥ï¼Œåˆ™è¯¥ç­–ç•¥ç»„åˆå°±æ˜¯ä¸€ä¸ªçº³ä»€å‡è¡¡ã€‚ Nashå®šç†ï¼šè‹¥å‚ä¸è€…æœ‰é™ï¼Œæ¯ä½å‚ä¸è€…çš„ç­–ç•¥é›†æœ‰é™ï¼Œæ”¶ç›Šå‡½æ•°ä¸ºå®å€¼å‡½æ•°ï¼Œåˆ™åšå¼ˆå¿…å­˜åœ¨æ··åˆç­–ç•¥æ„ä¹‰ä¸‹çš„çº³ä»€å‡è¡¡ã€‚ å›šå¾’å›°å¢ƒä¸­ä¸¤äººåŒæ—¶è®¤ç½ªå°±æ˜¯è¿™ä¸€é—®é¢˜çš„çº³ä»€å‡è¡¡ã€‚ another Example: P3111.2é—æ†¾æœ€å°åŒ–ç®—æ³• åšå¼ˆè®ºä¸è®¡ç®—æœºç§‘å­¦çš„äº¤å‰é¢†åŸŸéå¸¸å¤š ç†è®ºè®¡ç®—æœºç§‘å­¦ï¼šç®—æ³•åšå¼ˆè®º äººå·¥æ™ºèƒ½ï¼šå¤šæ™ºèƒ½ä½“ç³»ç»Ÿã€AIæ¸¸æˆç©å®¶ã€äººæœºäº¤äº’ã€æœºå™¨å­¦ä¹ ã€å¹¿å‘Šæ¨è äº’è”ç½‘ï¼šäº’è”ç½‘ç»æµã€å…±äº«ç»æµ åˆ†å¸ƒå¼ç³»ç»Ÿï¼šåŒºå—é“¾ äººå·¥æ™ºèƒ½ä¸åšå¼ˆè®ºç›¸äº’ç»“åˆï¼Œå½¢æˆäº†ä¸¤ä¸ªä¸»è¦ç ”ç©¶æ–¹å‘ åšå¼ˆç­–ç•¥çš„æ±‚è§£ ä¸ºä»€ä¹ˆå¼•å…¥åšå¼ˆè®ºçš„åŠ¨æœº Â·åšå¼ˆè®ºæä¾›äº†è®¸å¤šé—®é¢˜çš„æ•°å­¦æ¨¡å‹ Â·çº³ä»€å®šç†ç¡®å®šäº†åšå¼ˆè¿‡ç¨‹é—®é¢˜å­˜åœ¨è§£ Â·äººå·¥æ™ºèƒ½çš„æ–¹æ³•å¯ç”¨æ¥æ±‚è§£å‡è¡¡å±€é¢æˆ–è€…æœ€ä¼˜ç­–ç•¥ åº”ç”¨é¢†åŸŸ Â·å¤§è§„æ¨¡æœç´¢ç©ºé—´çš„é—®é¢˜æ±‚è§£ï¼šå›´æ£‹ Â·éå®Œå…¨ä¿¡æ¯åšå¼ˆé—®é¢˜æ±‚è§£ï¼šå¾·å·æ‰‘å…‹ Â·ç½‘ç»œå¯¹æˆ˜æ¸¸æˆæ™ºèƒ½ï¼šDotaã€æ˜Ÿçƒå¤§æˆ˜ Â·åŠ¨æ€åšå¼ˆçš„å‡è¡¡è§£ï¼šå‚å®¶ç«äº‰ã€ä¿¡æ¯å®‰å…¨ åšå¼ˆè§„åˆ™çš„è®¾è®¡ é—®é¢˜æè¿° Â·å‡è®¾åšå¼ˆçš„å‚ä¸è€…éƒ½æ˜¯è¶³å¤Ÿç†æ€§çš„ Â·å¦‚ä½•è®¾è®¡ä¸€ä¸ªåšå¼ˆè§„åˆ™èƒ½ç¡®ä¿å…¬æ­£æ€§æˆ–è€…è¾¾åˆ°è®¾è®¡è€…çš„æœ€å¤§åˆ©ç›Š æŒ‘æˆ˜ Â·è§„åˆ™å¤æ‚ Â·è®¡ç®—é‡å¤§ åº”ç”¨é¢†åŸŸ Â·æ‹å–ç«ä»·ï¼šäº’è”ç½‘å¹¿å‘ŠæŠ•æ”¾ã€è½¦ç‰Œç«ä»· Â·ä¾›éœ€åŒ¹é…ï¼šæ±¡æŸ“æƒã€å­¦æ ¡å½•å– Â·å…¬æ­£é€‰ä¸¾ï¼šé€‰ä¸¾åˆ¶åº¦ã€è¡¨å†³åˆ¶åº¦ã€è®®å¸­åˆ†é… RMç®—æ³•è‹¥å¹²å®šä¹‰ å‡è®¾ä¸€å…±æœ‰Nä¸ªç©å®¶ã€‚ç©å®¶ iii æ‰€é‡‡ç”¨çš„ç­–ç•¥è¡¨ç¤ºä¸º Ïƒi\\sigma_{i}Ïƒiâ€‹ ã€‚ å¯¹äºæ¯ä¸ªä¿¡æ¯é›† IiâˆˆÎ¾i,Ïƒi(Ii):A(Ii)â†’[0,1]I_{i} \\in \\xi_{i}, \\sigma_{i}\\left(I_{i}\\right): A\\left(I_{i}\\right) \\rightarrow[0,1]Iiâ€‹âˆˆÎ¾iâ€‹,Ïƒiâ€‹(Iiâ€‹):A(Iiâ€‹)â†’[0,1] æ˜¯åœ¨åŠ¨ä½œé›† A(Ii)A\\left(I_{i}\\right)A(Iiâ€‹) ä¸Šçš„æ¦‚ç‡åˆ†å¸ƒå‡½æ•°ã€‚ç©å®¶ iii çš„ç­– ç•¥ç©ºé—´ç”¨ Î£i\\Sigma_{i}Î£iâ€‹ è¡¨ç¤ºã€‚ ä¸€ä¸ªç­–ç•¥ç»„åŒ…å«æ‰€æœ‰ç©å®¶ç­–ç•¥ï¼Œç”¨ Ïƒ=(Ïƒ1,Ïƒ2,â€¦,Ïƒâˆ£Nâˆ£)\\sigma=\\left(\\sigma_{1}, \\sigma_{2}, \\ldots, \\sigma_{|N|}\\right)Ïƒ=(Ïƒ1â€‹,Ïƒ2â€‹,â€¦,Ïƒâˆ£Nâˆ£â€‹) Ïƒâˆ’i\\sigma_{-i}Ïƒâˆ’iâ€‹ è¡¨ç¤º Ïƒ\\sigmaÏƒ ä¸­é™¤äº† Ïƒi\\sigma_{i}Ïƒiâ€‹ ä¹‹å¤–çš„ç­–ç•¥ï¼ˆå³é™¤å»ç©å®¶ iii æ‰€é‡‡ç”¨çš„ç­–ç•¥ ))) åœ¨åšäº¦å¯¹å†³ä¸­ï¼Œä¸åŒç©å®¶åœ¨ä¸åŒæ—¶åˆ»ä¼šé‡‡å–ç›¸åº”ç­–ç•¥ä»¥åŠè¡ŒåŠ¨ã€‚ç­–ç•¥\\sigmaä¸‹å¯¹åº”çš„è¡ŒåŠ¨åºåˆ— hhh å‘ç”Ÿçš„æ¦‚ç‡è¡¨ç¤ºä¸º Ï€Ïƒ(h)\\pi^{\\sigma}(h)Ï€Ïƒ(h) ã€‚äºæ˜¯, Ï€Ïƒ(h)=âˆiâˆˆNÏ€iÏƒ(h),\\pi^{\\sigma}(h)=\\prod_{i \\in N} \\pi_{i}^{\\sigma}(h),Ï€Ïƒ(h)=âˆiâˆˆNâ€‹Ï€iÏƒâ€‹(h), è¿™é‡Œ Ï€iÏƒ(h)\\pi_{i}^{\\sigma}(h)Ï€iÏƒâ€‹(h) è¡¨ç¤ºç©å®¶ iii ä½¿ç”¨ç­–ç•¥ Ïƒi\\sigma_{i}Ïƒiâ€‹ ä¿ƒ ä½¿è¡ŒåŠ¨åºåˆ— hhh å‘ç”Ÿçš„æ¦‚ç‡ã€‚é™¤ç©å®¶ iii ä»¥å¤–ï¼Œå…¶ä»–ç©å®¶é€šè¿‡å„è‡ªç­–ç•¥ä¿ƒä½¿è¡ŒåŠ¨åºåˆ—hå‘ç”Ÿçš„æ¦‚ç‡ å¯è¡¨ç¤ºä¸º :Ï€âˆ’iÏƒ(h)=âˆjâˆˆN\\{i}Ï€jÏƒ(h): \\pi_{-i}^{\\sigma}(h)=\\prod_{j \\in N \\backslash\\{i\\}} \\pi_{j}^{\\sigma}(h):Ï€âˆ’iÏƒâ€‹(h)=âˆjâˆˆN\\{i}â€‹Ï€jÏƒâ€‹(h) å¯¹äºæ¯ä¸ªç©å®¶ iâˆˆN,ui:Zâ†’Ri \\in N, u_{i}: Z \\rightarrow RiâˆˆN,uiâ€‹:Zâ†’R è¡¨ç¤ºç©å®¶ iii çš„æ”¶ç›Šå‡½æ•°ï¼Œå³åœ¨åˆ°è¾¾ç»ˆæ­¢åºåˆ—é›†åˆZä¸­æŸä¸ªç»ˆ æ­¢åºåˆ—æ—¶ï¼Œç©å®¶ iii æ‰€å¾—åˆ°çš„æ”¶ç›Šã€‚ ç©å®¶ iii åœ¨ç»™å®šç­–ç•¥ Ïƒ\\sigmaÏƒ ä¸‹æ‰€èƒ½å¾—åˆ°çš„æœŸæœ›æ”¶ç›Šå¯å¦‚ä¸‹è®¡ç®—: ui(Ïƒ)=âˆ‘hâˆˆZui(h)Ï€Ïƒ(h)u_{i}(\\sigma)=\\sum_{h \\in Z} u_{i}(h) \\pi^{\\sigma}(h)uiâ€‹(Ïƒ)=âˆ‘hâˆˆZâ€‹uiâ€‹(h)Ï€Ïƒ(h) æ‚”å€¼ï¼š é—æ†¾æœ€å°åŒ–ç®—æ³•ï¼šç­–ç•¥é€‰æ‹©ä»‹ç» é—æ†¾æœ€å°åŒ–ç®—æ³•æ˜¯ä¸€ç§æ ¹æ®è¿‡å»åšå°†ä¸­çš„é—æ†¾ç¨‹åº¦æ¥å†³å®šå°†æ¥åŠ¨ä½œé€‰æ‹©çš„æ–¹æ³• åœ¨åšäº¦ä¸­ï¼Œç©å®¶iåœ¨ç¬¬Tè½®æ¬¡ï¼ˆæ¯ä¸€è½®è¡¨ç¤ºä¸€æ¬¡åšå°†å®Œæˆï¼‰é‡‡å–ç­–ç•¥ Ïƒi\\sigma_{i}Ïƒiâ€‹ çš„é—æ†¾å€¼å®šä¹‰å¦‚ ä¸‹ï¼ˆç´¯åŠ é—æ†¾ï¼‰: &nbsp;Regret&nbsp;iT(Ïƒi)=âˆ‘t=1T(Î¼i(Ïƒi,Ïƒâˆ’it)âˆ’Î¼i(Ïƒt))\\text { Regret }_{i}^{T}\\left(\\sigma_{i}\\right)=\\sum_{t=1}^{T}\\left(\\mu_{i}\\left(\\sigma_{i}, \\sigma_{-i}^{t}\\right)-\\mu_{i}\\left(\\sigma^{t}\\right)\\right) &nbsp;Regret&nbsp;iTâ€‹(Ïƒiâ€‹)=t=1âˆ‘Tâ€‹(Î¼iâ€‹(Ïƒiâ€‹,Ïƒâˆ’itâ€‹)âˆ’Î¼iâ€‹(Ïƒt)) é€šå¸¸é—æ†¾å€¼ä¸ºè´Ÿæ•°çš„ç­–ç•¥è¢«è®¤ä¸ºä¸èƒ½æå‡ä¸‹ä¸€æ—¶åˆ»æ”¶ç›Šï¼Œæ‰€ä»¥è¿™é‡Œè€ƒè™‘çš„é—æ†¾å€¼å‡ä¸º æ­£æ•°æˆ–0 è®¡ç®—å¾—åˆ°ç©å®¶ iii åœ¨ç¬¬Tè½®æ¬¡é‡‡å–ç­–ç•¥ Ïƒi\\sigma_{i}Ïƒiâ€‹ çš„é—æ†¾å€¼åï¼Œåœ¨ç¬¬ T+1T+1T+1 è½®æ¬¡ç©å®¶ iii é€‰æ‹©ç­–ç•¥ aaa çš„æ¦‚ ç‡å¦‚ä¸‹ï¼ˆæ‚”å€¼è¶Šå¤§ã€è¶Šé€‰æ‹©ï¼Œå³äº¡ç¾Šè¡¥ç‰¢ï¼‰ P(a)=Regretâ¡iT(a)âˆ‘bâˆˆ{&nbsp;æ‰€æœ‰å¯é€‰æ‹©ç­–ç•¥&nbsp;}Regretâ¡iT(b)P(a)=\\frac{\\operatorname{Regret}_{i}^{T}(a)}{\\sum_{b \\in\\{\\text { æ‰€æœ‰å¯é€‰æ‹©ç­–ç•¥ }\\}} \\operatorname{Regret}_{i}^{T}(b)} P(a)=âˆ‘bâˆˆ{&nbsp;æ‰€æœ‰å¯é€‰æ‹©ç­–ç•¥&nbsp;}â€‹RegretiTâ€‹(b)RegretiTâ€‹(a)â€‹ demoçŸ³å¤´å‰ªåˆ€å¸ƒ ä¸ºäº†è§£å†³åšå¼ˆçŠ¶æ€ç©ºé—´å¤§çš„é—®é¢˜-&gt;è™šæ‹Ÿé—æ†¾æœ€å°åŒ–ç®—æ³• P3211.3è™šæ‹Ÿé—æ†¾æœ€å°åŒ–ç®—æ³• å¦‚æœä¸èƒ½éå†è®¡ç®—æ‰€æœ‰èŠ‚ç‚¹çš„é—æ†¾å€¼ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨è™šæ‹Ÿé—æ†¾æœ€å°åŒ–ç®—æ³•æ¥è¿›è¡Œæ¨¡æ‹Ÿè®¡ç®— å‡è®¾: é›†åˆ AAA æ˜¯åšäº¦ä¸­æ‰€æœ‰ç©å®¶æ‰€èƒ½é‡‡ç”¨çš„è¡Œä¸ºé›†ï¼ˆå¦‚åœ¨çŸ³å¤´-å‰ªåˆ€-å¸ƒæ¸¸æˆä¸­å‡ºçŸ³å¤´ã€å‡ºå‰ªåˆ€æˆ–å‡ºå¸ƒä¸‰ç§è¡Œ ä¸º ï¼‰ï¼‰ï¼‰ Iä¸ºä¿¡æ¯é›†ï¼ŒåŒ…å«äº†åšäº¦çš„è§„åˆ™ä»¥åŠç©å®¶é‡‡å–çš„å†å²è¡ŒåŠ¨ï¼Œåœ¨ä¿¡æ¯é›†Iä¸‹æ‰€èƒ½é‡‡å–çš„è¡Œä¸ºé›†åˆè®°ä¸º A(IA(IA(I ç©å®¶ iii åœ¨ç¬¬ ttt è½®æ¬¡é‡‡å–çš„è¡ŒåŠ¨ aiâˆˆA(Ii)a_{i} \\in A\\left(I_{i}\\right)aiâ€‹âˆˆA(Iiâ€‹) åæ˜ äº†å…¶åœ¨è¯¥è½®æ¬¡æ‰€é‡‡å–çš„ç­–ç•¥ Ïƒit\\sigma_{i}^{t}Ïƒitâ€‹ ã€‚åŒ…å«ç©å®¶ iii åœ¨å†…çš„ æ‰€æœ‰ç©å®¶åœ¨ç¬¬tè½®æ¬¡é‡‡å–çš„è¡ŒåŠ¨ aâˆˆA(I)a \\in A(I)aâˆˆA(I) æ„æˆäº†ä¸€ç»„ç­–ç•¥ç»„åˆ Ïƒâˆ˜t\\sigma_{\\circ}^{t}Ïƒâˆ˜tâ€‹ åœ¨ä¿¡æ¯é›†Iä¸‹é‡‡å–è¡ŒåŠ¨aæ‰€åæ˜ çš„ç­–ç•¥è®°ä¸º ÏƒIâ†’a\\sigma_{I \\rightarrow a}ÏƒIâ†’aâ€‹ ã€‚ åœ¨ç¬¬tè½®æ¬¡æ‰€æœ‰ç©å®¶é‡‡å–çš„è¡ŒåŠ¨æ˜¯ä¸€æ¡åºåˆ—ï¼Œè®°ä¸º hâˆ˜h_{\\circ}hâˆ˜â€‹ é‡‡å–æŸä¸ªç­–ç•¥ Ïƒ\\sigmaÏƒ è®¡ç®—è¡ŒåŠ¨åºåˆ— hhh å‡ºç°çš„æ¦‚ç‡è®°ä¸º Ï€Ïƒ(h)\\pi^{\\sigma}(h)Ï€Ïƒ(h) æ¯ä¸ªä¿¡æ¯é›†Iå‘ç”Ÿçš„æ¦‚ç‡ Ï€Ïƒ(I)=âˆ‘hâˆˆIÏ€Ïƒ(h),\\pi^{\\sigma}(I)=\\sum_{h \\in I} \\pi^{\\sigma}(h),Ï€Ïƒ(I)=âˆ‘hâˆˆIâ€‹Ï€Ïƒ(h), è¡¨ç¤ºæ‰€æœ‰èƒ½å¤Ÿåˆ°è¾¾è¯¥ä¿¡æ¯é›†çš„è¡ŒåŠ¨åº åˆ—çš„æ¦‚ç‡ç´¯åŠ ã€‚ ç»™å®šåšäº¦çš„ç»ˆç»“å±€åŠ¿z âˆˆZ,\\in Z,âˆˆZ, ç©å®¶ iii åœ¨æ¸¸æˆç»“æŸåçš„æ”¶ç›Šè®°ä½œ ui(z)u_{i}(z)uiâ€‹(z) åœ¨ç­–ç•¥ç»„åˆ Ïƒ\\sigmaÏƒ ä¸‹ï¼Œæ–½åŠ åšäº¦è¡ŒåŠ¨åºåˆ— hhh åè¾¾åˆ°æœ€ç»ˆå±€åŠ¿zçš„æ¦‚ç‡ä¸º Ï€Ïƒ(h,z)\\pi^{\\sigma}(h, z)Ï€Ïƒ(h,z) å½“é‡‡å–ç­–ç•¥\\sigmaæ—¶ï¼Œå…¶æ‰€å¯¹åº”çš„è¡ŒåŠ¨åºåˆ—hçš„è™šæ‹Ÿä»·å€¼ï¼ˆCounterfactual Valueï¼‰å¦‚ä¸‹ è®¡ç®—(æ³¨ï¼šè¡ŒåŠ¨åºåˆ— hhh æœªèƒ½ä½¿åšäº¦è¿›å…¥ç»ˆç»“å±€åŠ¿): vi(Ïƒ,h)=âˆ‘zâˆˆZÏ€âˆ’iÏƒ(h)Ï€Ïƒ(h,z)ui(z)v_{i}(\\sigma, h)=\\sum_{z \\in Z} \\pi_{-i}^{\\sigma}(h) \\pi^{\\sigma}(h, z) u_{i}(z) viâ€‹(Ïƒ,h)=zâˆˆZâˆ‘â€‹Ï€âˆ’iÏƒâ€‹(h)Ï€Ïƒ(h,z)uiâ€‹(z) ç©å®¶ié‡‡å–è¡ŒåŠ¨aæ‰€å¾—åˆ°çš„è™šæ‹Ÿé—æ†¾å€¼: r(h,a)=vi(ÏƒIâ†’a,h)âˆ’vi(Ïƒ,h)r(h, a)=v_{i}\\left(\\sigma_{I \\rightarrow a}, h\\right)-v_{i}(\\sigma, h) r(h,a)=viâ€‹(ÏƒIâ†’aâ€‹,h)âˆ’viâ€‹(Ïƒ,h) è¡ŒåŠ¨åºåˆ— hhh æ‰€å¯¹åº”çš„ä¿¡æ¯é›†Ié—æ†¾å€¼ä¸º r(I,a)=âˆ‘hâˆˆIr(h,a)r(I, a)=\\sum_{h \\in I} r(h, a) r(I,a)=hâˆˆIâˆ‘â€‹r(h,a) ç©å®¶ iii åœ¨ç¬¬Tè½®æ¬¡é‡‡å–è¡ŒåŠ¨açš„é—æ†¾å€¼ä¸º : Regretâ¡iT(I,a)=âˆ‘t=1Trit(I,a)\\operatorname{Regret}_{i}^{T}(I, a)=\\sum_{t=1}^{T} r_{i}^{t}(I, a) RegretiTâ€‹(I,a)=t=1âˆ‘Tâ€‹ritâ€‹(I,a) åŒæ ·ï¼Œå¯¹äºé—æ†¾å€¼ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¸äºˆè€ƒè™‘ï¼Œè®°: &nbsp;Regret&nbsp;iT,+(I,a)=maxâ¡(RiT(I,a),0)\\text { Regret }_{i}^{T,+}(I, a)=\\max \\left(R_{i}^{T}(I, a), 0\\right) &nbsp;Regret&nbsp;iT,+â€‹(I,a)=max(RiTâ€‹(I,a),0) åœ¨ T+1T+1T+1 è½®æ¬¡ï¼Œç©å®¶ iii é€‰æ‹©è¡ŒåŠ¨ aaa çš„æ¦‚ç‡è®¡ç®—å¦‚ä¸‹ ÏƒiT+1(I,a)={Regretâ¡iT,+(I,a)Regretâ¡iT,+(I,a)&nbsp;if&nbsp;âˆ‘aâˆˆA(I)Regretâ¡iT,+(I,a)&gt;01âˆ£A(I)âˆ£&nbsp;otherwise&nbsp;\\sigma_{i}^{T+1}(I, a)=\\left\\{\\begin{array}{ll} \\frac{\\operatorname{Regret}_{i}^{T,+}(I, a)}{\\operatorname{Regret}_{i}^{T,+}(I, a)} \\text { if } \\sum_{a \\in A(I)} \\operatorname{Regret}_{i}^{T,+}(I, a)&gt;0 \\\\ \\frac{1}{|A(I)|} &amp; \\text { otherwise } \\end{array}\\right. ÏƒiT+1â€‹(I,a)={RegretiT,+â€‹(I,a)RegretiT,+â€‹(I,a)â€‹&nbsp;if&nbsp;âˆ‘aâˆˆA(I)â€‹RegretiT,+â€‹(I,a)&gt;0âˆ£A(I)âˆ£1â€‹â€‹&nbsp;otherwise&nbsp;â€‹ ç©å®¶iæ ¹æ®é—æ†¾å€¼å¤§å°æ¥é€‰æ‹©ä¸‹ä¸€æ—¶åˆ»è¡Œä¸ºï¼Œå¦‚æœé—æ†¾å€¼ä¸ºè´Ÿæ•°ï¼Œåˆ™éšæœºæŒ‘é€‰ä¸€ç§è¡Œ ä¸ºè¿›è¡Œåšäº¦ï¼ˆç”±äºè§„å®šregretä¸ä¸ºè´Ÿæ•°ï¼Œå› æ­¤éšæœºå–çš„æ¦‚ç‡ä¸ä¼šå‡ºç°ï¼‰ demoåº“æ©æ‰‘å…‹ï¼ˆKunhâ€™s pockerï¼‰ åº“æ©æ‰‘å…‹æ˜¯æœ€ç®€å•çš„é™æ³¨æ‰‘å…‹æ¸¸æˆï¼Œç”±ä¸¤åç©å®¶è¿›è¡Œæ¸¸æˆåšå¼ˆï¼Œç‰Œå€¼åªæœ‰1ï¼Œ2å’Œ3ä¸‰ç§æƒ…å†µ æ¯è½®æ¯ä½ç©å®¶å„æŒä¸€å¼ æ‰‹ç‰Œï¼Œæ ¹æ®å„è‡ªåˆ¤æ–­æ¥å†³å®šåŠ å®šé¢èµŒæ³¨ æ¸¸æˆæ²¡æœ‰å…¬å…±ç‰Œï¼Œæ‘Šç‰Œé˜¶æ®µæ¯”è¾ƒæœªå¼ƒç‰Œç©å®¶çš„åº•ç‰Œå¤§å°ï¼Œåº•ç‰Œç‰Œå€¼æœ€å¤§çš„ç©å®¶å³ä¸ºèƒœè€… æ¸¸æˆè§„åˆ™å®šä¹‰ï¼š |ç©å®¶A|ç©å®¶B|ç©å®¶A|ç»“æœ| | ---- | ---- | ---- | |è¿‡ç‰Œ|è¿‡ç‰Œ||ç‰Œå€¼å¤§çš„ç©å®¶+1| |åŠ æ³¨|åŠ æ³¨||ç‰Œå€¼å¤§çš„ç©å®¶+2| |è¿‡ç‰Œ|åŠ æ³¨|è¿‡ç‰Œ|ç©å®¶B+1| |è¿‡ç‰Œ|åŠ æ³¨|åŠ æ³¨|ç‰Œå€¼å¤§çš„ç©å®¶+2| |åŠ æ³¨|è¿‡ç‰Œ||ç©å®¶A+1| ç®—æ³•æ­¥éª¤ è¯¥é—®é¢˜ä¸­è¿›è¡Œç­–ç•¥é€‰æ‹©çš„ç®—æ³•æ­¥éª¤å¦‚ä¸‹ï¼š 1.åˆå§‹åŒ–é—æ†¾å€¼å’Œç´¯åŠ ç­–ç•¥è¡¨ä¸º02.é‡‡ç”¨éšæœºé€‰æ‹©çš„æ–¹æ³•æ¥å†³å®šç­–ç•¥ 3.åˆ©ç”¨å½“å‰ç­–ç•¥ä¸å¯¹æ‰‹è¿›è¡Œåšå¼ˆ4.è®¡ç®—æ¯ä¸ªç©å®¶é‡‡å–æ¯æ¬¡è¡Œä¸ºåçš„é—æ†¾å€¼5.æ ¹æ®åšå¼ˆç»“æœè®¡ç®—æ¯ä¸ªè¡ŒåŠ¨çš„ç´¯åŠ é—æ†¾å€¼å¤§å°æ¥æ›´æ–°ç­–ç•¥ 6.é‡å¤åšå¼ˆè‹¥å¹²æ¬¡ 7.æ ¹æ®é‡å¤åšå¼ˆæœ€ç»ˆçš„ç­–ç•¥ï¼Œå®Œæˆæœ€ç»ˆçš„åŠ¨ä½œé€‰æ‹© G-Sç®—æ³•ï¼ˆGale-Shapleyï¼‰ åœ¨ç”Ÿæ´»ä¸­ï¼Œäººä»¬å¸¸å¸¸ä¼šç¢°åˆ°ä¸èµ„æºåŒ¹é…ç›¸å…³çš„å†³ç­–é—®é¢˜ï¼ˆå¦‚æ±‚èŒå°±ä¸šã€æŠ¥è€ƒå½•å–ç­‰ï¼‰ï¼Œè¿™äº›éœ€è¦åŒå‘é€‰æ‹©çš„æƒ…å†µè¢«ç§°ä¸ºæ˜¯åŒè¾¹åŒ¹é…é—®é¢˜ã€‚åœ¨åŒè¾¹åŒ¹é…é—®é¢˜ä¸­ï¼Œéœ€è¦åŒæ–¹äº’ç›¸æ»¡è¶³å¯¹æ–¹çš„éœ€æ±‚æ‰ä¼šè¾¾æˆåŒ¹é… åŒ¹é…çš„ç¨³å®šæ˜¯æŒ‡æ²¡æœ‰ä»»ä½•äººèƒ½ä»åç¦»ç¨³å®šçŠ¶æ€ä¸­è·ç›Šã€‚å¦‚æœå°†åŒ¹é…é—®é¢˜çœ‹åšæ˜¯ä¸€ç§åˆä½œåšå¼ˆçš„è¯ï¼Œç¨³å®šçŠ¶æ€è§£å°±æ˜¯çº³ä»€å‡è¡¡è§£ 1962å¹´ï¼Œç¾å›½æ•°å­¦å®¶å¤§å«Â·ç›–å°”å’Œåšå¼ˆè®ºå­¦å®¶æ²™æ™®åˆ©æå‡ºäº†é’ˆå¯¹åŒè¾¹ç¨³å®šåŒ¹é…é—®é¢˜çš„è§£å†³ç®—æ³•ï¼Œå¹¶å°†å…¶åº”ç”¨äºç¨³å®šå©šå§»é—®é¢˜çš„æ±‚è§£ ç¨³å®šå©šå§»é—®é¢˜ï¼ˆstable marriage problemï¼‰æ˜¯æŒ‡åœ¨ç»™å®šæˆå‘˜åå¥½çš„æ¡ä»¶ä¸‹ï¼Œä¸ºä¸¤ç»„æˆå‘˜å¯»æ‰¾ç¨³å®šåŒ¹é…ã€‚ç”±äºè¿™ç§åŒ¹é…å¹¶ä¸æ˜¯ç®€å•åœ°ä»·é«˜è€…å¾—ï¼Œæ‰€ä»¥åŒ¹é…è§£æ³•åº”è€ƒè™‘åŒæ–¹æ„æ„¿ ç¨³å®šå©šå§»é—®é¢˜çš„ç¨³å®šè§£æ˜¯æŒ‡ä¸å­˜åœ¨æœªè¾¾æˆåŒ¹é…çš„ä¸¤ä¸ªäººéƒ½æ›´å€¾å‘äºé€‰æ‹©å¯¹æ–¹èƒœè¿‡è‡ªå·±å½“å‰çš„åŒ¹é…å¯¹è±¡ æœ€å¤§äº¤æ˜“åœˆç®—æ³•ï¼ˆTop-Trading Cycle algorithmï¼‰ åœ¨åŒ¹é…é—®é¢˜ä¸­ï¼Œè¿˜æœ‰ä¸€ç±»äº¤æ¢ä¸å¯åˆ†çš„æ ‡çš„ç‰©çš„åŒ¹é…é—®é¢˜ï¼Œè¢«ç§°ä¸ºå•è¾¹åŒ¹é…é—®é¢˜ï¼Œå¦‚è¿œå¤æ—¶æœŸä»¥ç‰©æ˜“ç‰©ã€æˆ–è€…å®¿èˆçš„åºŠä½åˆ†é… 1974å¹´ï¼Œæ²™æ™®åˆ©å’Œæ–¯å¡å¤«æå‡ºäº†é’ˆå¯¹å•è¾¹åŒ¹é…é—®é¢˜çš„ç¨³å®šåŒ¹é…ç®—æ³•ï¼šæœ€å¤§äº¤æ˜“åœˆç®—æ³•ï¼ˆTTCï¼‰ï¼Œç®—æ³•è¿‡ç¨‹å¦‚ä¸‹ï¼š é¦–å…ˆæ¯ä¸ªäº¤æ˜“è€…è¿æ¥ä¸€æ¡æŒ‡å‘ä»–æœ€å–œæ¬¢çš„æ ‡çš„ç‰©çš„è¾¹ï¼Œå¹¶ä»æ¯ä¸€ä¸ªæ ‡çš„ç‰©è¿æ¥åˆ°å…¶å æœ‰è€…æˆ–æ˜¯å…·æœ‰é«˜ä¼˜å…ˆæƒçš„äº¤æ˜“è€…ã€‚ æ­¤æ—¶å½¢æˆä¸€å¼ æœ‰å‘å›¾ï¼Œä¸”å¿…å­˜åœ¨äº¤æ˜“åœˆï¼Œå¯¹äºäº¤æ˜“åœˆä¸­çš„äº¤æ˜“è€…ï¼Œå°†æ¯äººæŒ‡å‘èŠ‚ç‚¹æ‰€ä»£è¡¨çš„æ ‡çš„ç‰©èµ‹äºˆå…¶ï¼ŒåŒæ—¶äº¤æ˜“è€…æ”¾å¼ƒåŸå…ˆå æœ‰çš„æ ‡çš„ç‰©ï¼Œå æœ‰è€…å’ŒåŒ¹é…æˆåŠŸçš„æ ‡çš„ç‰©ç¦»å¼€åŒ¹é…å¸‚åœºã€‚ æ¥ç€ä»å‰©ä½™çš„äº¤æ˜“è€…å’Œæ ‡çš„ç‰©ä¹‹é—´é‡å¤è¿›è¡Œäº¤æ˜“åœˆåŒ¹é…ï¼Œç›´åˆ°æ— æ³•å½¢æˆäº¤æ˜“åœˆï¼Œç®—æ³•åœæ­¢ã€‚ P3311.4äººå·¥æ™ºèƒ½å®‰å…¨ åŸºäºäººå·¥æ™ºèƒ½çš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯ï¼šåŠ å¯†æŠ€æœ¯ å°†æ˜æ–‡ä¿¡æ¯å¤„ç†ä¸ºéš¾ä»¥è¯»å–çš„å¯†æ–‡å†…å®¹ï¼Œä½¿ä¹‹ä¸å¯è¯»ã€‚ åœ¨ç½‘ç»œç¯å¢ƒä¸­ä¿éšœé€šä¿¡å®‰å…¨ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ ç›®å‰å¸¸ç”¨çš„åŠ å¯†ç®—æ³•æœ‰å®‰å…¨å“ˆå¸Œç®—æ³•ï¼ˆSecure Hash Algorithmï¼ŒSHAï¼‰å’Œé«˜çº§åŠ å¯†æ ‡å‡†ï¼ˆAdvanced Encryption Standardï¼ŒAESï¼‰ ä½¿ç”¨ç¥ç»ç½‘ç»œçš„åŠ å¯†ç®—æ³• 2016å¹´è°·æ­Œå¤§è„‘çš„ç ”ç©¶å›¢é˜Ÿæå‡ºäº†ä½¿ç”¨å¯¹æŠ—ç”Ÿæˆç½‘ç»œGANç”Ÿæˆçš„ä¸€ä¸ªåŠ å¯†ç®—æ³•ï¼Œå…¶ä½¿ç”¨äº†ä¸‰ä¸ªç¥ç»ç½‘ç»œåˆ†åˆ«å®ŒæˆåŠ å¯†ã€è§£å¯†å’Œæ”»å‡»çš„å·¥ä½œï¼Œä»¥ä¿è¯é€šä¿¡åŒæ–¹ä¿¡æ¯çš„æ— æŸä¼ è¾“ä»¥åŠç¬¬ä¸‰æ–¹æ— æ³•ç ´è¯‘é€šä¿¡å†…å®¹ åŸºäºäººå·¥æ™ºèƒ½çš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯ï¼šæ•°å­—æ°´å° å°†ç‰¹å®šä¿¡æ¯ï¼ˆç‰ˆæƒä¿¡æ¯ç­‰ï¼‰åµŒå…¥åœ¨æ•°å­—ä¿¡å·ä¸­ï¼Œæ•°å­—ä¿¡å·å¯èƒ½æ˜¯éŸ³é¢‘ã€è§†é¢‘ã€å›¾ç‰‡ç­‰ã€‚ å½“æ‹·è´ä¿¡æ¯æ—¶ï¼Œæ°´å°å†…å®¹ä¼šè¢«åŒæ—¶æ‹·è´ï¼Œæ‰€ä»¥æ°´å°å†…å®¹å¯ä½œä¸ºç‰ˆæƒä¿¡æ¯çš„è¯æ˜ï¼Œè¿™æ ·èƒ½é¿å…æˆ–é˜»æ­¢æ•°å­—åª’ä½“æœªç»æˆæƒçš„å¤åˆ¶å’Œæ‹·è´ è¿‘å¹´æ¥é€šè¿‡ç¥ç»ç½‘ç»œæ¥æ·»åŠ æ°´å°å’Œæå–æ°´å°ä¿¡æ¯çš„æˆä¸ºå­¦æœ¯ç ”ç©¶çƒ­ç‚¹ã€‚ äººå·¥æ™ºèƒ½çš„å®‰å…¨ï¼šæ•°æ®å®‰å…¨ä¸æ¨¡å‹å®‰å…¨ äººå·¥æ™ºèƒ½å¾ˆå¤§ç¨‹åº¦æ˜¯ä¾é æ•°æ®é©±åŠ¨å­¦ä¹  å¯ç”¨æ€§ï¼ˆavailabilityï¼‰ è®­ç»ƒæ•°æ®æ˜¯å¦å……è¶³ä¸”å¯é  è®­ç»ƒæ•°æ®æ˜¯å¦æœ‰è¶³å¤Ÿçš„æ ‡æ³¨ å®Œæ•´æ€§ï¼ˆcompletenessï¼‰ æ•°æ®æ˜¯å¦å…·æœ‰ä»£è¡¨æ€§ éšç§æ€§ï¼ˆprivacyï¼‰ æ•°æ®æ˜¯å¦æ¶‰åŠéšç§å®‰å…¨é—®é¢˜ å¦‚ä½•ä¿éšœæ•°æ®ä¸è¢«çªƒå– äººå·¥æ™ºèƒ½æ‰€ä½¿ç”¨çš„çš„æ¨¡å‹æ˜¯ç”±æœ‰é™çš„è®­ç»ƒæ•°æ®è®­ç»ƒå¾—åˆ°çš„ é²æ£’æ€§ï¼ˆrobustnessï¼‰ æ¨¡å‹æ˜¯å¦æ˜“äºå—åˆ°å™ªå£°å¹²æ‰°æˆ–æ”»å‡» æ­£ç¡®æ€§ï¼ˆcorrectnessï¼‰ æ¨¡å‹æ˜¯å¦æ­£ç¡® é€šç”¨æ€§ï¼ˆgeneralityï¼‰ æ¨¡å‹æ˜¯å¦èƒ½å¤Ÿåº”ç”¨äºç°å®åœºæ™¯ æ¨¡å‹å¯¹è¾“å…¥æ•°æ®æ˜¯å¦æœ‰è¿‡é«˜çš„è¦æ±‚ äººå·¥æ™ºèƒ½çš„å®‰å…¨ï¼šå¯¹æ¨¡å‹çš„æ”»å‡» å¯¹æ¨¡å‹çš„æ”»å‡» ä½¿ç”¨ç‰¹å®šæŠ€æœ¯å¯¹è¾“å…¥æ ·æœ¬è¿›è¡Œå¾®å°çš„ä¿®æ”¹å°±å¯éª—è¿‡æ¨¡å‹è€Œå¾—åˆ°é”™è¯¯çš„ç»“æœ è¿™ç§ç»è¿‡ä¿®æ”¹ï¼Œä½¿å¾—æ¨¡å‹åˆ¤æ–­é”™è¯¯çš„æ ·æœ¬è¢«ç§°ä¸ºå¯¹æŠ—æ ·æœ¬ ç™½ç›’æ”»å‡» æ”»å‡»è€…ç†ŸçŸ¥äººå·¥æ™ºèƒ½æ¨¡å‹çš„ç®—æ³•å’Œæ¨¡å‹å‚æ•°ï¼Œç”Ÿæˆå¯¹æŠ—æ ·æœ¬çš„è¿‡ç¨‹å¯ä»¥ä¸æ¨¡å‹çš„æ¯ä¸€éƒ¨åˆ†è¿›è¡Œäº¤äº’ å¯¹äººå·¥æ™ºèƒ½æ¨¡å‹çš„ç™½ç›’æ”»å‡»é€šå¸¸ä¼šå¯¹æ¨¡å‹çš„æ¯ä¸€éƒ¨åˆ†è¿›è¡Œé€å±‚åˆ†è§£ï¼Œç„¶åå¯¹æ¯ä¸€éƒ¨åˆ†æ·»åŠ ä¸€å®šçš„æ‰°åŠ¨ï¼Œä½¿å¾—æ¨¡å‹çš„ç»“æœé€æ­¥å‘è¯¯åˆ¤ç›®æ ‡ç±»åˆ«åç§» è¿™æ˜¯ä¸€ç§éå¸¸éšè”½çš„æ”»å‡»æ‰‹æ®µï¼Œé€šè¿‡é™åˆ¶æ‰°åŠ¨çš„å¤§å°å¯ä»¥ä½¿å¾—å¯¹æŠ—æ ·æœ¬çœ‹èµ·æ¥ä¸åŸæ ·æœ¬å·®åˆ«å¾ˆå° ç™½ç›’æ”»å‡»çš„é˜²å¾¡ç­–ç•¥ï¼šç”Ÿæˆå¯¹æŠ—ç½‘ç»œ é»‘ç›’æ”»å‡» æ”»å‡»è€…åªèƒ½ç»™å®šè¾“å…¥å»è·å¾—æ¨¡å‹è¾“å‡ºï¼Œä½†å¹¶ä¸çŸ¥é“è¢«æ”»å‡»æ¨¡å‹æ‰€ä½¿ç”¨çš„ç®—æ³•å’Œå‚æ•° é»‘ç›’æ”»å‡»å¯ä»¥é’ˆå¯¹ä»»ä½•ä¸€ä¸ªäººå·¥æ™ºèƒ½æ¨¡å‹ å¸¸ç”¨çš„é»‘ç›’æ”»å‡»é˜²å¾¡ç­–ç•¥æœ‰ï¼š Â·æ•°æ®å‹ç¼©ï¼šé€šè¿‡å¯¹è¾“å…¥æ•°æ®è¿›è¡Œå‹ç¼©æˆ–è€…é™ç»´ï¼Œåœ¨ä¿è¯è¯†åˆ«å‡†ç¡®ç‡çš„æƒ…å†µä¸‹æå‡æ¨¡å‹å¯¹å¹²æ‰°æ”»å‡»çš„é²æ£’æ€§ Â·æ•°æ®éšæœºåŒ–ï¼šå¯¹è®­ç»ƒæ•°æ®è¿›è¡Œéšæœºç¼©æ”¾ã€å¢å¼ºç­‰æ“ä½œï¼Œæå‡æ¨¡å‹çš„é²æ£’æ€§ Â·è®­ç»ƒé¢å¤–çš„ç½‘ç»œæ¥åˆ¤æ–­è®­ç»ƒæ•°æ®æ˜¯å¦ä¸ºæ”»å‡»æ ·æœ¬ P3412.1è®°å¿†é©±åŠ¨çš„æ™ºèƒ½è®¡ç®— P3512.2å¯è®¡ç®—ç¤¾ä¼šå­¦ P3612.3è‹¥å¹²æŒ‘æˆ˜","categories":[],"tags":[{"name":"ZJU","slug":"ZJU","permalink":"https://nymrli.top/tags/ZJU/"},{"name":"ML","slug":"ML","permalink":"https://nymrli.top/tags/ML/"}]},{"title":"æšä¸¾ç±»çš„ä¼˜é›…å†™æ³•Java->Python","slug":"æšä¸¾ç±»çš„ä¼˜é›…å†™æ³•Java-Python","date":"2020-12-05T08:19:27.000Z","updated":"2020-12-05T08:44:17.991Z","comments":true,"path":"2020/12/05/æšä¸¾ç±»çš„ä¼˜é›…å†™æ³•Java-Python/","link":"","permalink":"https://nymrli.top/2020/12/05/æšä¸¾ç±»çš„ä¼˜é›…å†™æ³•Java-Python/","excerpt":"","text":"æšä¸¾ç±»å‹ä½œä¸ºä¸æ¥å£ã€ç±»åŒä¸€çº§åˆ«çš„å­˜åœ¨ï¼Œè‡ªç„¶æœ‰å®ƒç‹¬ç‰¹çš„ç”¨é€”ã€‚è‡³äºå®ƒæ€§èƒ½ä¸Šçš„ä¼˜åŠ¿æš‚ä¸”ä¸è°ˆï¼Œæˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­åªæ˜¯è€ƒè™‘æ€ä¹ˆæŠŠEnumå†™å¾—æ›´ä¼˜é›… Java Enumçš„å†™æ³• åœ¨é˜¿é‡Œå®ä¹ çš„æ—¶å€™å°è±¡æœ€æ·±çš„å°±æ˜¯å­¦åˆ°äº†æšä¸¾çš„å†™æ³•ï¼Œ å¤§è‡´å¦‚ä¸‹æ‰€ç¤º 123456789101112131415161718192021222324252627282930313233343536373839404142public enum EnumOperationPermission implements IEnumBehaviour &#123; // ----------------------- å®é™…çš„æšä¸¾å¯¹è±¡ ------------------------ SAVE(\"ä¿å­˜\", 0), SUBMIT(\"æäº¤\", 1), BACK(\"é€€å›\", 2), VIEWCOMMENTS(\"æŸ¥çœ‹æ„è§\", 3), SIGN(\"ç­¾å‘\", 4), DISTRIBUTE(\"åˆ†å‘\", 5), CALLBACK(\"æ’¤å›\", 6), NODE(\"èŠ‚ç‚¹\", 7), BROWSINFO(\"æµè§ˆæƒ…å†µ\", 8), FINISH(\"å®Œæˆ\", 9), DETAIL(\"è®¢ç¥¨æ˜ç»†\",10); // ----------------------- å®é™…çš„æšä¸¾å¯¹è±¡ ------------------------ private String mName; private int mId; private EnumOperationPermission(String name, int id) &#123; this.mName = name; this.mId = id; &#125; // ä¸€èˆ¬åªæœ‰get, æ²¡æœ‰set public String getName() &#123; return mName; &#125; public int getId() &#123; return mId; &#125; // ä¸‹é¢çš„ç”¨é€”ä¸ºè‡ªå®šä¹‰è·Ÿenumçš„valueOfç›¸åŒï¼Œ å³é€šè¿‡æŸä¸ªå€¼è¿”å›enumè¿™ä¸ªç±» public static EnumOperationPermission parse(String name) &#123; EnumOperationPermission[] enumList = EnumOperationPermission.values(); for (IEnumBehaviour enumInstance : enumList) &#123; if (enumInstance.toString().equalsIgnoreCase(name) || enumInstance.getName().equalsIgnoreCase(name) || String.valueOf(enumInstance.getId()).equalsIgnoreCase(name)) &#123; return (EnumOperationPermission) enumInstance; &#125; &#125; return EnumOperationPermission.SAVE; &#125; &#125; Python æœ€ç®€æ˜“çš„å†™æ³• 12345from enum import Enumclass Color(Enum): RED = 1 YELLOW = 2 BLUE = 3 æšä¸¾ç±»çš„ç‰¹ç‚¹: æ ‡ç­¾å€¼ä¸å¯è¢«ä¿®æ”¹ ä¸€ä¸ªæ ‡ç­¾åªèƒ½å¯¹åº”ä¸€ä¸ªå€¼ï¼Œä½†å¤šä¸ªæ ‡ç­¾å¯ä»¥å¯¹åº”ç›¸åŒçš„å€¼(åˆ«å) --&gt; ä¸åŒkeyå¯ä»¥æœ‰ç›¸åŒçš„val( å¦‚æœä¸å…è®¸å­˜åœ¨ç›¸åŒval, åˆ™åœ¨ç±»å‰åŠ ä¸Šè£…é¥°å™¨@uniqueï¼Œ éœ€è¦ä»enumåŒ…ä¸­å¯¼å…¥) æšä¸¾ç±»å‹å¯ä»¥åšç­‰å€¼æ¯”è¾ƒå’Œèº«ä»½æ¯”è¾ƒï¼Œä½†æ˜¯ä¸èƒ½åšå¤§å°æ¯”è¾ƒï¼š 12345678910from enum import Enumclass Color(Enum): RED = 1 YELLOW = 1 BLUE = 3print(Color.RED == Color.YELLOW) Trueprint(Color.RED is Color.YELLOW) True æšä¸¾ç±»å‹ã€æšä¸¾åç§°ã€æšä¸¾å€¼ è·ŸJavaä¸åŒçš„æ˜¯ï¼ŒJavaä¸€èˆ¬è‡ªå·±å®šä¹‰æœ‰å“ªäº›å±æ€§ï¼Œå¦‚name, codeã€‚ è€ŒPythonä¸­æœ‰è®¾å¥½çš„nameå’Œvalueå±æ€§ 1234567891011&gt; class Enum(metaclass=EnumMeta):&gt; @DynamicClassAttribute&gt; def name(self):&gt; \"\"\"The name of the Enum member.\"\"\"&gt; return self._name_&gt; &gt; @DynamicClassAttribute&gt; def value(self):&gt; \"\"\"The value of the Enum member.\"\"\"&gt; return self._value_&gt; æšä¸¾ç±»å‹å°±æ˜¯æŒ‡è¿™ä¸ªæšä¸¾ç±»ï¼› æšä¸¾å®ä¾‹å°±æ˜¯æŒ‡æšä¸¾ç±»å‹ä¸‹çš„å…·ä½“å®ä¾‹ æšä¸¾åç§°ä¸ºæšä¸¾ç±»å‹å®ä¾‹çš„keyï¼Œæœ¬è´¨æ˜¯Enum.name æšä¸¾åç§°ä¸ºæšä¸¾ç±»å‹å®ä¾‹çš„valueï¼Œæœ¬è´¨Enum.value å¦‚ä½•ä½¿ç”¨æšä¸¾ç±»å‹ å¯ä»¥ç”¨è¯»å–å­—å…¸çš„æ–¹å¼æ¥è¯»å–ï¼Œå¹¶ä¸”å¯ä»¥éå†ï¼š 12345678910111213from enum import Enumclass Color(Enum): RED = 1 YELLOW = 1 BLUE = 3print(Color['RED']) è®¿é—®for e in Color: éå† print(e) å½“å¤šä¸ªæ ‡ç­¾å¯¹åº”ç›¸åŒå€¼æ—¶ï¼Œç¬¬ä¸€ä¸ªå®šä¹‰çš„ä¸ºä¸»åï¼Œå…¶ä»–çš„ä¸ºåˆ«å ç›´æ¥éå†æ— æ³•è¾“å‡ºåˆ«åï¼Œå¯ä»¥ç”¨__members__æ¥å…¨éƒ¨è¾“å‡ºfor e in Color.__members__: print(e) æ³¨æ„Pythonä¸­æ˜¯æ²¡æœ‰ç±»ä¼¼Javaä¸­EnumOperationPermission.values();æ¥è·å¾—æšä¸¾çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡çš„ å¦‚ä½•ä»python enumç±»è·å–æ‰€æœ‰å€¼ï¼Ÿ å¦‚ä½•åƒJavaä¸­ä¸€æ ·EnumOperationPermission.values();å‘¢ï¼Ÿhttps://oomake.com/question/8760202ä¸­æåˆ°Enumæœ‰ä¸€ä¸ªmemberså­—å…¸ï¼Œç»ç¿»é˜…æºç åå‘ç°3.6ä¸­å¹¶æ²¡æœ‰è¿™ä¸ªå­—å…¸ï¼Œæœ‰çš„æ˜¯__member__å±æ€§ï¼Œå…¶è¿”å›å€¼ä¸ºOrderedDict 123456789101112131415class EnumMeta(type): def __new__(metacls, cls, bases, classdict): ... enum_class._member_names_ = [] names in definition order enum_class._member_map_ = OrderedDict() name-&gt;value map @property def __members__(cls): \"\"\"Returns a mapping of member name-&gt;value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. \"\"\" return MappingProxyType(cls._member_map_) æ‰€æœ‰å†™æ³•æœ‰: é€šè¿‡ç±»çš„valueå±æ€§æ¥è·å¾—æ‰€æœ‰å€¼ 12345678910111213from enum import Enumclass Color(Enum): RED = 1 GREEN = 'GREEN' BLUE = ('blue', '#0000ff') @staticmethod def list(): ''' è·å¾—æ‰€æœ‰å€¼ ''' return list(map(lambda c: c.value, Color))print(Color.list()) æ¨¡ä»¿Javaå†™æ³• 12345678910111213141516class Chess(Enum): BLACK = &#123;'graph': 'X', 'val': 0&#125; WHITE = &#123;'graph': 'O', 'val': 1&#125; def getChess(color): for c in Chess: if color == c.value.get(\"graph\"): return c def getVal(self): return self.value.get('val') def getGraph(self): return self.value.get('graph')","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"ç†è§£ç§‘å­¦è®¡ç®—(numpy,pytorch)ä¸­çš„dimå‚æ•°","slug":"ç†è§£ç§‘å­¦è®¡ç®—ä¸­çš„dimå‚æ•°","date":"2020-12-05T03:53:10.000Z","updated":"2020-12-10T06:22:37.272Z","comments":true,"path":"2020/12/05/ç†è§£ç§‘å­¦è®¡ç®—ä¸­çš„dimå‚æ•°/","link":"","permalink":"https://nymrli.top/2020/12/05/ç†è§£ç§‘å­¦è®¡ç®—ä¸­çš„dimå‚æ•°/","excerpt":"","text":"ğŸ˜„ç†è§£numpyä¸­arrayå’Œpytorchä¸­tensorçš„æ“ä½œæ˜¯å¼€å§‹ç§‘å­¦è¿ç®—çš„ç¬¬ä¸€æ­¥! é¦–å…ˆæ˜ç™½ç»´åº¦çš„æ„Ÿå¿µï¼š ç»´åº¦ æˆ‘ä»¬é€šå¸¸èƒ½å¬åˆ°çš„éƒ½æ˜¯2D, 3Dï¼Œå…¶å®è¿™è¾¹çš„Då°±æ˜¯dimensionçš„å«ä¹‰å³ç»´åº¦ã€‚2Dï¼Œæˆ‘ä»¬é€šå¸¸ç†è§£ä¸ºæ˜¯å¹³é¢ï¼Œå¦‚æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„ç›´è§’åæ ‡ç³»å°±æ˜¯å¹³é¢åæ ‡ç³»ï¼Œè¿˜æœ‰æåæ ‡ç³»ã€‚è€Œ3Då‘¢ï¼Œå°±æ˜¯åœ¨å¹³é¢çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ç»´â€”â€”é«˜åº¦ï¼Œä»è€Œä½¿å¹³é¢çš„ç‰©ä½“ç«‹èµ·æ¥äº†ï¼ŒåŒæ ·3Dä¹Ÿæœ‰è€³ç†Ÿèƒ½è¯¦çš„åæ ‡ç³»â€”â€”3ç»´åæ ‡ç³»ã€‚ æ›´å®˜æ–¹çš„è§£é‡Šå‘¢ï¼šç»´åº¦ï¼ˆDimensionï¼‰ï¼Œåˆç§°ä¸ºç»´æ•°ï¼Œæ˜¯æ•°å­¦ä¸­ç‹¬ç«‹å‚æ•°çš„æ•°ç›®ã€‚åœ¨ç‰©ç†å­¦å’Œå“²å­¦çš„é¢†åŸŸå†…ï¼ŒæŒ‡ç‹¬ç«‹çš„æ—¶ç©ºåæ ‡çš„æ•°ç›®ã€‚0ç»´æ˜¯ä¸€ä¸ªæ— é™å°çš„ç‚¹ï¼Œæ²¡æœ‰é•¿åº¦ã€‚1ç»´æ˜¯ä¸€æ¡æ— é™é•¿çš„çº¿ï¼Œåªæœ‰é•¿åº¦ã€‚2ç»´æ˜¯ä¸€ä¸ªå¹³é¢ï¼Œæ˜¯ç”±é•¿åº¦å’Œå®½åº¦(æˆ–éƒ¨åˆ†æ›²çº¿)ç»„æˆé¢ç§¯ã€‚3ç»´æ˜¯2ç»´åŠ ä¸Šé«˜åº¦ç»„æˆä½“ç§¯ã€‚4ç»´åˆ†ä¸ºæ—¶é—´ä¸Šå’Œç©ºé—´ä¸Šçš„4ç»´ï¼Œäººä»¬è¯´çš„4ç»´é€šå¸¸æ˜¯æŒ‡å…³äºç‰©ä½“åœ¨æ—¶é—´çº¿ä¸Šçš„è½¬ç§»ã€‚ï¼ˆ4ç»´å‡†ç¡®æ¥è¯´æœ‰ä¸¤ç§ã€‚1.å››ç»´æ—¶ç©ºï¼Œæ˜¯æŒ‡ä¸‰ç»´ç©ºé—´åŠ ä¸€ç»´æ—¶é—´ã€‚2.å››ç»´ç©ºé—´ï¼ŒåªæŒ‡å››ä¸ªç»´åº¦çš„ç©ºé—´ã€‚ï¼‰å››ç»´è¿åŠ¨äº§ç”Ÿäº†äº”ç»´ã€‚ ä»å“²å­¦è§’åº¦çœ‹ï¼Œäººä»¬è§‚å¯Ÿã€æ€è€ƒä¸è¡¨è¿°æŸäº‹ç‰©çš„â€œæ€ç»´è§’åº¦â€ï¼Œç®€ç§°â€œç»´åº¦â€ã€‚ä¾‹å¦‚ï¼Œäººä»¬è§‚å¯Ÿä¸æ€è€ƒâ€œæœˆäº®â€è¿™ä¸ªäº‹ç‰©ï¼Œå¯ä»¥ä»æœˆäº®çš„â€œå†…å®¹ã€æ—¶é—´ã€ç©ºé—´â€ä¸‰ä¸ªæ€ç»´è§’åº¦å»æè¿°ï¼›ä¹Ÿå¯ä»¥ä»æœˆäº®çš„â€œè½½ä½“ã€èƒ½é‡ã€ä¿¡æ¯â€ä¸‰ä¸ªæ€ç»´è§’åº¦å»æè¿°ã€‚è¿™è¾¹çš„ç»´åº¦å…¶å®ä¹Ÿå¯ä»¥ç†è§£ä¸ºè§’åº¦ï¼Œä»ä¸åŒçš„æ–¹é¢å»çœ‹å¾…ã€ç¡®å®šä¸€ä¸ªäº‹ç‰©ã€‚ æ‰€ä»¥ä»£æ•°ä¸Šæ¥è¯´ï¼Œç»´åº¦å…¶å®æ˜¯æ•°å­¦é‡Œåœ¨è¡¨ç¤ºæ–¹é¢çš„ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå®ƒåæ˜ çš„æ˜¯ä¸€ä¸ªç©ºé—´çš„æœ¬è´¨æ€§è´¨ã€‚ ç§‘å­¦è®¡ç®—ä¸­ç»´åº¦çš„æ¦‚å¿µ ä»äºŒç»´ç‚¹ä½ç½®-&gt;ç¼–ç¨‹ä¸­çš„åæ ‡ç³» ç»´åº¦çš„è€ƒé‡ä¸»è¦é›†ä¸­åœ¨çŸ©é˜µçš„è¿ç®—ä¸Šã€‚é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…ƒç´ ï¼š4ï¼Œå…¶å®å®ƒå°±æ˜¯ä¸€ä¸ªç‚¹ï¼Œå¯ä»¥è¢«è®¤ä¸ºæ˜¯0ç»´çš„ã€‚ä½†å¾€å¾€æˆ‘ä»¬ä¸ä¼šåªæœ‰ä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬æœ€å¸¸è§çš„æ˜¯ç¼–ç¨‹ä¸­çš„æ•°ç»„ï¼Œå¦‚[1,2,3,4]ï¼Œè¿™ä¸ªæ˜¯ç”±å¤šä¸ªå…ƒç´ æ„æˆçš„ï¼Œå®ƒçš„ç»´åº¦å°±æ˜¯ä¸€ç»´çš„ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¹Ÿæ¯”è¾ƒå¥½ç†è§£ã€‚ è€ŒäºŒç»´æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬èƒ½ç›´è§‚ç†è§£çš„äºŒç»´æ˜¯å¹³é¢åæ ‡ç³»çš„é‚£ç§ï¼š(1,3), (4,5)â€¦å³ç»™ä¸€ä¸ªxï¼Œä¸€ä¸ªyï¼Œé‚£ä¹ˆåœ¨å¹³é¢ä¸­å°±å¯ä»¥åœ¨ç›´è§’åæ ‡ç³»ä¸‹ç¡®å®šè¿™ä¸ªç‚¹ï¼ˆç‰©ï¼‰ã€‚ç°åœ¨æˆ‘ä»¬è§„æ•´ä¸‹è¿™äº›åæ ‡ç‚¹[ (1, 3), (4, 5) ]ï¼Œä»è¿™ä¸ªè§’åº¦ä¸Šç¦»æˆ‘ä»¬çš„çŸ©é˜µï¼Œæˆ–æ˜¯æ•°ç»„å¥½åƒè¿˜æ˜¯æœ‰ç‚¹è¿œã€‚é‚£ä¹ˆæˆ‘ä»¬ç»§ç»­å˜å½¢ã€‚ å¦‚æœæˆ‘ä»¬éœ€è¦ç”»å‡ºåæ ‡ç³»ä¸­æœ‰å“ªäº›ç‚¹çš„è¯ï¼Œ 1.ç¬¬ä¸€ç§åšæ³•å°±æ˜¯è·Ÿä¸Šè¿°ä¸€æ ·ï¼Œ æŠŠç‚¹éƒ½å­˜ä¸€ä¸ªvectorä¸­[ (1, 3), (4, 5) ]ï¼Œç„¶åéå†ï¼Œå†åœ¨åæ ‡ç³»ä¸­ç‚¹å‡ºã€‚2.ç¬¬äºŒç§å‘¢ï¼Œå°±æ˜¯åœ¨åæ ‡ç³»ä¸­æŠŠæ‰€æœ‰çš„ä½ç½®éƒ½åˆ—å‡ºæ¥ï¼Œå¦‚æœæœ‰ç‚¹å­˜åœ¨å°±æŠŠå®ƒæ ‡å‡ºæ¥ï¼Œå³è·Ÿæˆ‘ä»¬åˆ—å‡ºè¿·å®«åœ°å›¾ä¸€æ ·ï¼Œå…ˆæŠŠåœ°å›¾ç”»å‡ºæ¥ï¼Œç„¶åå†æŠŠå®è—æ ‡å‡ºæ¥ã€‚æ‰€ä»¥ä¸Šè¿°çš„ä¸¤ä¸ªç‚¹å¯ä»¥ç†è§£ä¸ºã€‚åœ¨ç»™å‡ºäº†map[20][20]çš„åœ°å›¾ä¸Šï¼Œ(1, 3)å’Œ(4, 5)ä½ç½®ä¸ºtrueï¼Œ å³map[1][3] = 1, map[4][5] = 1ï¼Œå…¶ä»–ä½ç½®map[x][y] = 0ï¼Œæ‰€ä»¥è¿™æ ·æˆ‘ä»¬å°±ä»[(1, 3), (4, 5)]==&gt; ç”¨mapå½¢å¼è¡¨ç°å‡ºäº†è¿™ä¸¤ä¸ªç‚¹ï¼Œä¸¤è€…æˆåŠŸåœ¨äºŒç»´ä¸Šè¿›è¡Œäº†è½¬æ¢ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥åˆ†æè¿™ä¸ªäºŒç»´çš„mapã€‚ æ•°ç»„ï¼Œåœ¨ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¸é™Œç”Ÿï¼Œå¦‚int arr[50][50]ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡è¿™ä¸ªäºŒç»´çš„æ•°ç»„ï¼Œæ ¹æ®valçš„ä¸åŒæ¥è¡¨ç¤ºä¸‰ç»´çš„é‡ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™è¾¹ä¸æŠŠå®ƒè¿™ä¹ˆç†è§£ï¼Œä»…æ˜¯å½“åšbool arr[50][50]æ¥ç†è§£ç»´åº¦ä¸Šçš„æ¦‚å¿µã€‚===&gt;åŒæ ·ï¼Œé¢å¯¹numpyä¸­çš„arrayæˆ‘ä»¬ä¹Ÿæ˜¯è¿™ä¹ˆä¸ªç†è§£ã€‚ 12345678910111213import numpy as npimport torch x = np.random.randint(2, size = (2,3))print(x)y = torch.randint(2, size = (2, 3))print(y)'''[[0 1 1] [1 0 1]]tensor([[1, 0, 1], [0, 0, 1]])''' æˆ‘ä»¬ä»numpyçš„xä¸Šç†è§£ï¼Œè¿™è¾¹æ˜¯åˆ›å»ºäº†ä¸€ä¸ª2*3çš„çŸ©é˜µï¼Œå…¶ä¸­x[0][1], x[0][2], x[1][0], x[0][2]å…¨1ï¼Œå…¶ä½™ä¸º0ï¼Œè¾“å…¥x.shapeå¾—åˆ°çš„ç»“æœæ˜¯(2, 3)ï¼Œæœ‰ä¸¤é¡¹ï¼Œè·Ÿæˆ‘ä»¬ä»mapçš„ç†è§£ä¸Šæ˜¯ä¸€è‡´çš„ï¼Œè¿™ä¸ªåœ°å›¾mapæ‹¥æœ‰é•¿å’Œå®½ä¸¤ä¸ªç»´åº¦ã€‚ ç„¶åæˆ‘ä»¬ä»ç¼–ç¨‹ä¸­è§‚å¯Ÿè¿™ä¸ª2*3çš„çŸ©é˜µæˆ–æ˜¯å«æ•°ç»„ï¼Œå¯ä»¥å‘ç°x[a][b]ç¬¬ä¸€ä¸ª[]ä¸­çš„å†…å®¹aèŒƒå›´æ˜¯ä»0-1çš„ï¼Œç¬¬ä¸€ä¸ª[]ä¸­çš„å†…å®¹bèŒƒå›´æ˜¯ä»0-2çš„ï¼Œ0çš„è¯å­¦ç¼–ç¨‹çš„äººéƒ½èƒ½å¾ˆå¿«çš„ç†è§£ï¼Œè€Œç¬¬äºŒä¸ªçš„èŒƒå›´å´ä¸å¤ªé‚£ä¹ˆè‚¯å®šã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå®ƒè·Ÿæˆ‘ä»¬æ™®é€šè®¤çŸ¥çš„ç›´è§’åæ ‡ç³»ä¸ä¸€è‡´ã€‚ä¸‹é¢æˆ‘ä»¬æŠŠxç”»å‡ºæ¥(ä¸æ”¹å˜è¾“å‡ºæ˜¾ç¤ºçš„å½¢å¼ï¼Œè€Œæ˜¯è®©åæ ‡ç³»å»é€‚åº”è¿™ç§è¡¨ç°å½¢å¼)ã€‚ ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ç”»çš„å‘¢ï¼Ÿé¦–å…ˆæ˜ç¡®çš„åŸåˆ™æ˜¯ï¼Œä¸æ”¹å˜è¾“å‡ºæ˜¾ç¤ºçš„å½¢å¼ï¼Œè€Œæ˜¯è®©åæ ‡ç³»å»é€‚åº”è¿™ç§è¾“å‡ºå½¢å¼ï¼Œå› æ­¤è¾“å‡ºé•¿å•¥æ ·ï¼Œæˆ‘ä»¬åæ ‡ç³»åªèƒ½å»é€‚åº”ã€‚ç”±äºæˆ‘ä»¬ç¢°åˆ°æœ‰xï¼Œæœ‰yçš„æ—¶å€™ï¼Œä¹ æƒ¯ä¸ŠæŠŠç¬¬ä¸€ä¸ªå‡ºç°çš„å½“ä½œxï¼Œç¬¬äºŒä¸ªå½“ä½œyï¼Œæ‰€ä»¥å°±æœ‰äº†ç¬¬ä¸€ä¸ª[]ä¸ºxï¼Œç¬¬äºŒä¸ª[]ä¸ºyã€‚ å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬ç¡®å®šå¥½åæ ‡ç³»é•¿ä»€ä¹ˆæ ·äº†ã€‚æ¥ä¸‹æ¥å°±æ˜¯å…·ä½“ç†è§£dimçš„å«ä¹‰äº† ç¼–ç¨‹ä¸­åæ ‡ç³»-&gt;ç§‘å­¦è®¡ç®—ä¸­arrayçš„dim æƒ³å¿…å¤§å®¶åœ¨å­¦ä¹ numpyæˆ–è€…torchçš„æ—¶å€™éƒ½è¢«å„ç§å‡½æ•°æ–¹æ³•ä¸­çš„dimå‚æ•°æŠ˜ç£¨è¿‡ï¼Œæ„Ÿè§‰æ€ä¹ˆç†è§£éƒ½æœ‰é—®é¢˜ï¼Œä¸æ•¢è‡ªå·±ä½¿ç”¨ã€‚å› æ­¤ï¼Œè¿™è¾¹å°±æ˜¯è§£å†³ï¼Œè¿™äº›å‡½æ•°ä¸­çš„dimåˆ°åº•æ˜¯æ€ä¹ˆç¡®å®šçš„ æ¯”å¦‚æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé«˜ç»´çš„array 123456789A = torch.randint(2, size = (1,2,3,4))'''tensor([[[[0, 0, 1, 0], [1, 1, 0, 1], [0, 0, 0, 0]], [[0, 0, 1, 1], [1, 1, 1, 0], [0, 1, 0, 0]]]])''' ä¸¾ä¸ªæˆ‘è‡ªå·±æœ€åˆç†è§£dimçš„ç¬¨æ–¹æ³•ï¼šç¡¬è®°xä¸ºç¬¬ä¸€ç»´(dim = 0)ï¼Œ yä¸ºç¬¬äºŒç»´(dim = 1) å®é™…ä¸Šè¿™ç§è®°æ³•æ˜¯æ¯”è¾ƒä½æ•ˆçš„ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯æˆ‘ä»¬æ€ä¹ˆå®šä¹‰è¿™ä¸ªarrayå°±æ€ä¹ˆè®°ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™è¾¹åˆ›å»ºçš„æ˜¯ä¸€ä¸ªsize=(1, 2, 3, 4)ï¼Œè¾“å‡ºlen(A.shape)ä¸º4ï¼Œå¯ä»¥çœ‹åˆ°è¿™å°±æ˜¯ä¸ª4ç»´çš„tensorï¼Œé‚£ä¹ˆæˆ‘ä»¬é¡ºç†æˆç« åœ°å°±æŠŠæŠŠå„ä¸ªç»´åº¦ä¾æ¬¡å®šä¹‰å‡ºæ¥äº†ã€‚å¦‚dim = 0åœ°æŒ‡çš„å°±æ˜¯size = 1çš„é‚£å±‚ï¼Œdim = 1å°±æ˜¯æŒ‡size = 2çš„é‚£å±‚ï¼Œä¾æ¬¡ç±»æ¨ã€‚è¿™æ ·è¯´å¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œå› æ­¤æˆ‘ä»¬å›å½’ç®€å•çš„ã€‚ 1234567B = torch.randint(2, size = (3, 2))print(B)'''tensor([[1, 0], [1, 1], [0, 0]])''' æŒ‰ç…§æˆ‘ä»¬åˆšçš„å®šä¹‰ï¼Œdim=0å°±æ˜¯size=3çš„è¿™ä¸€å±‚ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åæ ‡ç³»ä¸­çš„Xè½´orXé¢ã€‚ å¥½äº†ï¼Œæƒ³å¿…å¤§å®¶è¿™ä¸ªæ—¶å€™è¿˜ä¸çŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆã€‚æ¥ä¸‹æ¥å°±å¸¦å¤§å®¶æ¥æµ‹è¯•å‡½æ•°ã€‚ æµ‹è¯•dimåœ¨å‡½æ•°å‚æ•°ä¸­çš„å®šä¹‰ æå‰æŒ‡å‡ºæŠŠï¼šè¦æ³¨æ„å‡½æ•°ä»‹ç»ä¸­dimæŒ‡çš„æ˜¯&quot;æ²¿ç€dimè¿™ä¸ªç»´åº¦&quot;or&quot;åˆ é™¤ã€å¢åŠ â€¦dimè¿™ä¸ªç»´åº¦(åœ¨dimè¿™ä¸ªç»´åº¦ä¸Šè¿›è¡Œç»´åº¦ä¿®æ”¹)&quot; è§„çº¦è®¡ç®— ä¸€èˆ¬æ˜¯æŒ‡åˆ†ç»„èšåˆè®¡ç®—ï¼Œè¡¨ç°ç»“æœå°±æ˜¯ä¼šè¿›è¡Œç»´åº¦å‹ç¼© sum æ²¿ç€dimç´¯åŠ å…ƒç´  123456789101112C = torch.randint(5, size = (2, 5))print(C)'''tensor([[2, 3, 3, 4, 0], [1, 0, 2, 4, 4]])'''print(C.sum(dim = 0))print(C.sum(dim = 1))'''tensor([3, 3, 5, 8, 4])tensor([12, 11])''' å¯ä»¥çœ‹åˆ°sumå°±æ˜¯æ¯”è¾ƒå…¸å‹çš„&quot;æ²¿ç€dim&quot;çš„ä¾‹å­ï¼Œå½“dim = 0æ—¶å°±æ²¿ç€dim = 0å³xè½´è¿›è¡Œç´¯åŠ ï¼Œç”±äºsumè¿™ä¸ªå‡½æ•°ä¼šè¿›è¡Œç»´åº¦çš„å‹ç¼©ï¼Œæ‰€ä»¥æœ€åçš„ç»“æœä¸ºtensor([3, 3, 5, 8, 4]) cumprod é€šè¿‡dimæŒ‡å®šæ²¿ç€æŸä¸ªç»´åº¦è®¡ç®—ç´¯ç§¯ å…¶ä»–çš„å‡½æ•°è¿˜æœ‰cumsumã€prodã€sumï¼Œå®é™…ä¸Šä¸¤è€…æ˜¯ç›¸åŒçš„ï¼Œè¿˜æœ‰meanã€medianã€varã€stdã€minã€max 1234567891011121314151617181920212223242526272829303132333435363738394041#x = torch.Tensor([ [2,3,4,5,6], [9,8,7,6,5,]])print(torch.cumprod(x, dim = 0))print(torch.cumprod(x, dim = 1))'''tensor([[ 2., 3., 4., 5., 6.], [18., 24., 28., 30., 30.]])tensor([[2.0000e+00, 6.0000e+00, 2.4000e+01, 1.2000e+02, 7.2000e+02], [9.0000e+00, 7.2000e+01, 5.0400e+02, 3.0240e+03, 1.5120e+04]])'''# minx = torch.Tensor([ [2,3,4,5,6], [9,8,7,6,5,]])print(torch.min(x, dim = 0))print(torch.min(x, dim = 1))'''torch.return_types.min( values=tensor([2., 3., 4., 5., 5.]), indices=tensor([0, 0, 0, 0, 1]) )torch.return_types.min( values=tensor([2., 5.]), indices=tensor([0, 4]) )'''# meanx = torch.Tensor([ [2,3,4,5,6], [9,8,7,6,5,]])print(torch.mean(x, dim = 0))print(torch.mean(x, dim = 1))'''tensor([5.5000, 5.5000, 5.5000, 5.5000, 5.5000])tensor([4., 7.])''' ç´¢å¼•ã€åˆ‡ç‰‡ã€è¿æ¥ squeezeï¼Œunsqueeze unsqueezeå…³é”®å­—ï¼šå‚æ•°dimæŒ‡å®šåœ¨ç¬¬å‡ ä¸ªç»´åº¦å¢åŠ &quot;[]&quot;ï¼Œä»¥æå‡ç»´åº¦ squeeze: unsqueezeçš„é€†æ“ä½œï¼Œåˆ é™¤dimæŒ‡å®šçš„ç»´åº¦ unsqueeze 123456789101112131415D = torch.Tensor( [1, 2, 3, 4, 5] )y = D.unsqueeze(dim = 0)print(y, y.shape)'''tensor([[1., 2., 3., 4., 5.]]) torch.Size([1, 5])'''y = D.unsqueeze(dim = 1)print(y.shape)'''tensor([[1.], [2.], [3.], [4.], [5.]]) torch.Size([5, 1])''' å¯ä»¥çœ‹åˆ°çš„æ˜¯dim = 0çš„æ—¶å€™å°±æ˜¯åœ¨dim = 0 ç»´åº¦ä¸Šå¢åŠ äº†ä¸€ç»´ï¼Œ ä½¿å¾—å˜æˆäº†[1, 5]ã€‚ç¬¬äºŒä¸ªæ˜¯åœ¨dim=1çš„ä½ç½®åŠ äº†ä¸€ç»´å˜æˆäº†[5, 1] ï¼ˆè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šä¹¦ä¸Šä¼šè¯´å…¶å®å°±æ˜¯åœ¨dimç»´åº¦ä¸ŠåŠ äº†1ï¼‰ â–²è¿™ä¸ªå…¸å‹å°±æ˜¯è¦åŒºåˆ†ï¼š åœ¨dimç»´åº¦ä¸Š å’Œ æ²¿ç€dimç»´åº¦äº† squeeze 123456789101112131415F = torch.Tensor( [ [0, 2, 3, 4], [22, 33, 44 ,55] ])y = torch.squeeze(F, dim = 0)print(y, y.shape)'''tensor([[ 0., 2., 3., 4.], [22., 33., 44., 55.]]) torch.Size([2, 4])'''y = torch.squeeze(F, dim = 1)print(y, y.shape)'''tensor([[ 0., 2., 3., 4.], [22., 33., 44., 55.]]) torch.Size([2, 4])''' è¿™è¾¹å˜æ¢ä¸å¤§çš„åŸå› æ˜¯å› ä¸ºdimä¸Šæ²¡æœ‰size=1å¯ä»¥åˆ é™¤ split æŒ‰(æ²¿ç€)dimç»´åº¦å°†tensoråˆ†æˆnä¸ªéƒ¨åˆ† 12345678910111213141516171819202122232425262728x = torch.Tensor([ [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]])print(x)print(torch.split(x, 5, dim = 1))# æŒ‡å®šåˆ’åˆ†åˆ—è¡¨ï¼Œè¡¨ç¤ºä¾æ¬¡æœ‰1,2,3,4ä¸ªé•¿åº¦ (æ€»å’Œå¾—è·Ÿdimç»´åº¦ä¸Šå…ƒç´ ä¸ªæ•°ç›¸åŒ)print(torch.split(x, [1,2,3,4], dim = 1))'''tensor([[ 1., 2., 3., 4., 5., 6., 7., 8., 9., 10.], [10., 9., 8., 7., 6., 5., 4., 3., 2., 1.]]) (tensor([ # å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ˜¯åœ¨x[:][6]çš„åœ°æ–¹å°†tensoråˆ‡æˆäº†ä¸¤ä¸ª [ 1., 2., 3., 4., 5.], [10., 9., 8., 7., 6.] ]), tensor([ [ 6., 7., 8., 9., 10.], [ 5., 4., 3., 2., 1.] ])) (tensor([[ 1.], [10.]]), tensor([[2., 3.], [9., 8.]]), tensor([[4., 5., 6.], [7., 6., 5.]]), tensor([[ 7., 8., 9., 10.], [ 4., 3., 2., 1.]]))''' unbind åˆ é™¤æŸä¸ªç»´åº¦åï¼Œè¿”å›æ‰€æœ‰åˆ‡ç‰‡ç»„æˆçš„å…ƒç»„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556x = torch.rand(1,2,3)# x = torch.rand(size=(1,2,3))print(x, x.shape)out = torch.unbind(x, dim = 1)print(out, len(out))'''tensor([ [ [0.3631, 0.6672, 0.9489], [0.4944, 0.1606, 0.6122] ] ]) torch.Size([1, 2, 3]) ( tensor([[0.3631, 0.6672, 0.9489]]), torch.Size([1, 3]) tensor([[0.4944, 0.1606, 0.6122]]) torch.Size([1, 3])) 2''' x = torch.Tensor([ [[1,2,3,4,], [5,6,7,8], [9,10,11,12]], [[13,14,15,16], [17,18,19,20], [21,22,23,24]]])print(x, x.shape)out = torch.unbind(x, dim = 1)print(out, len(out))print(out[0].shape)'''tensor([ [[1,2,3,4,], [5,6,7,8], [9,10,11,12]], [[13,14,15,16], [17,18,19,20], [21,22,23,24]]]) torch.Size([2, 3, 4])(tensor([ [ 1., 2., 3., 4.], [13., 14., 15., 16.]]), tensor([ [ 5., 6., 7., 8.], [17., 18., 19., 20.]]), tensor([ [ 9., 10., 11., 12.], [21., 22., 23., 24.]])) åˆ é™¤dim = 1, æŠŠsize[1] = 3çš„tensoræ‹†æˆäº†3ä¸ªtensor ä¸è¦è®°è¿™ä¸ªï¼š å› ä¸ºdim0ä¸ºzè½´ï¼Œ dim1ä¸ºxè½´ï¼Œ dim2ä¸ºyè½´ï¼Œæ‰€ä»¥åˆ é™¤dim1å°±æ˜¯åˆ é™¤xè½´ï¼Œæœ€åå¾—åˆ°çš„å°±æ˜¯yOzå¹³é¢''' catã€stack é€šè¿‡å…³é”®å­—dimæŒ‡å®šæŒ‰å“ªä¸ªç»´åº¦æ‹¼æ¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354x = torch.randint(1, 100, size=(2,3))print(x)y = torch.randint(1, 100, size=(2,3))print(y)res = torch.cat((x, y), dim = 1)print(res)'''tensor([[71, 56, 44], [64, 30, 87]])tensor([[39, 56, 63], [68, 28, 65]])tensor([[71, 56, 44, 39, 56, 63], [64, 30, 87, 68, 28, 65]])'''# åŠ å¼ºé«˜ç»´ç†è§£x = torch.randint(1, 100, size=(2,3,4))print(x)y = torch.randint(1, 100, size=(2,3,4))print(y)res = torch.cat((x, y), dim = 1)print(res)'''tensor([[[81, 79, 10, 8], [47, 30, 48, 35], [10, 57, 68, 88]], [[33, 51, 60, 97], [27, 14, 83, 51], [51, 54, 79, 65]]])tensor([[[85, 9, 95, 95], [29, 99, 12, 8], [32, 8, 3, 84]], [[13, 24, 46, 20], [86, 83, 72, 10], [76, 33, 79, 48]]])tensor([[[81, 79, 10, 8], [47, 30, 48, 35], [10, 57, 68, 88], [85, 9, 95, 95], [29, 99, 12, 8], [32, 8, 3, 84]], [[33, 51, 60, 97], [27, 14, 83, 51], [51, 54, 79, 65], [13, 24, 46, 20], [86, 83, 72, 10], [76, 33, 79, 48]]]) torch.Size([2, 6, 4])dim=1å³æ²¿å…ƒç´ ä¸º3çš„æ–¹å‘ä¸Šå»¶ä¼¸ï¼Œæ‰€ä»¥ç»“æœå˜æˆäº†6 ä¸è¦è®°ï¼šä¹Ÿå¯ä»¥ç†è§£ä¸ºæ²¿xè½´æ–¹å‘''' å®˜æ–¹æ–‡æ¡£ï¼š https://pytorch.org/docs/stable/generated/torch.cat.html?highlight=cat#torch.cat æ€»ç»“ æ­£ç¡®ç†è§£å§¿åŠ¿ dimæ˜¯æŒ‡tensoråœ¨shapeä¸Šçš„é¡ºåº(å¯ä»¥è¿™ä¹ˆç†è§£)ï¼Œå¦‚xçš„shapeæ˜¯ï¼’ï½˜ï¼“ï½˜ï¼”ï¼Œä¹Ÿå°±æ˜¯[2, 3, 4]ã€‚æ•…å¯ä»¥è¿™æ ·ä¸€ä¸€å¯¹åº”æ¥ã€‚ æ¯”å¦‚dim = 1å°±æ˜¯æŒ‰å…·æœ‰3ä¸ªå…ƒç´ çš„é‚£ä¸ªè½´æ“ä½œï¼Œä»è€Œä¸ç”¨æ­»è®°ç¡¬èƒŒé‚£äº›dim = 0æ˜¯å¯¹åˆ—æ“ä½œè¿˜æ˜¯å¯¹è¡Œæ“ä½œäº†ã€‚ å¼ºè®°ä¸‰ç»´ ä½†è¿˜æ˜¯ä¸æå€¡å¼ºè®°ï¼Œå› ä¸ºä¸€æ—¦é«˜ç»´å°±ç†è§£ä¸äº†äº†ã€‚ é™„ï¼š å…³äºsizeçš„è®¾ç½® åœ¨onesã€randç­‰å‡½æ•°ä¸Šï¼Œsize = (2,3,4)ï¼Œæˆ‘ä»¬åœ¨C++æ•°ç»„ä¸­int arr[x][y][z]çš„ç†è§£æ˜¯2âˆ—32*32âˆ—3ç„¶åzä¸º4ï¼Œ ä½†å®é™…ä¸Šåœ¨ç§‘å­¦è¿ç®—ä¸­size = (2,3,4)çš„çŸ©é˜µæ˜¯æœ‰4ä¸ª3âˆ—43*43âˆ—4çš„çŸ©é˜µå åŠ è€Œæˆï¼Œè¿™è¾¹æ˜¯è¦åŒºåˆ†çš„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&gt;&gt;&gt; import numpy as np&gt;&gt;&gt; a = np.random.randint(1, 100, [2, 3, 4])&gt;&gt;&gt; aarray([[[26, 36, 31, 21], [74, 59, 79, 32], [77, 94, 81, 32]], [[72, 76, 85, 93], [66, 34, 80, 12], [99, 17, 98, 23]]])x = torch.randint(1, 100, size=(2,3,4))print(x)print(x[1][2][3]) # é«˜åº¦ç´¢å¼•ä¸º1çš„, åœ¨x = 2, y = 3çš„å…ƒç´ å°±æ˜¯76'''tensor([[[63, 54, 57, 17], [78, 64, 76, 44], [96, 3, 59, 37]], [[86, 3, 92, 84], [89, 36, 8, 79], [10, 87, 15, 76]]])tensor(76)'''x = torch.randint(1, 100, size=(2,3,4,2))print(x)'''tensor([[[[29, 50], [50, 69], [95, 70], [21, 35]], [[58, 65], [15, 53], [96, 25], [11, 75]], [[12, 71], [36, 12], [71, 92], [87, 47]]], [[[43, 89], [88, 22], [61, 56], [47, 97]], [[71, 7], [44, 88], [54, 32], [15, 65]], [[96, 22], [90, 78], [30, 85], [65, 57]]]])''' å…³äºå¦‚ä½•çœ‹å›¾ 123456789101112131415161718192021222324252627282930313233343536import numpy as npres = np.uint8(np.random.rand(5,5,3) * 255)print(res)plt.imshow(res)plt.show()\"\"\"[[[ 19 228 231] [106 28 252] [191 98 139] [171 71 202] [105 101 93]] [[155 232 228] [ 89 119 13] [142 158 200] [226 169 55] [137 187 249]] [[202 217 96] [214 44 133] [144 253 213] [ 82 4 28] [172 242 238]] [[106 103 68] [236 252 63] [ 53 49 66] [ 48 121 62] [ 64 61 209]] [[158 80 221] [220 12 199] [214 40 3] [169 142 144] [140 112 148]]] \"\"\" ç”»å›¾æ•ˆæœå¦‚ä¸‹ï¼š å¯ä»¥å¾—åˆ°çš„ç»“æœæ˜¯é’ˆå¯¹np.random.rand(5,5,3)æ¥è¯´ï¼Œä¸‰ä¸ªé€šé“è¢«åˆ—æˆäº†ä¸‰åˆ—ï¼Œå› æ­¤æ¯ä¸€åˆ—å°±æ˜¯ä¸€ä¸ªé€šé“ã€‚ 123456789101112131415161718192021res = np.uint8(np.random.rand(5,5,3) * 255)[[[ 19 228 231] [106 28 252] [191 98 139] [171 71 202] [105 101 93]] res = np.uint8(np.random.rand(5,6,3) * 255)[[[217 210 138] [ 1 148 10] [ 25 231 128] [158 216 73] [220 208 165] [ 73 119 122]]# å•å…ƒä¸­ç«–ç€çš„è¡Œæ•°è¡¨ç¤ºäº†å›¾ç‰‡çš„é•¿ï¼Œå¯ä»¥çœ‹åˆ°æ¨ªç€çš„é•¿æ˜¯6# è€Œæœ‰å¤šå°‘ä¸ªå•å…ƒå°±ä»¥ä¸ºç€å›¾ç‰‡çš„å®½ï¼Œ å¯ä»¥çœ‹åˆ°ç«–ç€çš„å®½æ˜¯5==&gt; æ‰€ä»¥ç¬¬å‡ ä¸ªå•å…ƒæ„å‘³ç€ç¬¬å‡ è¡Œ# æ‰€ä»¥[0][5][0]=73æ ‡å¿—ç€å³ä¸Šè§’é‚£ä¸€å—ç»¿è‰²çš„ç¬¬ä¸€ä¸ªé€šé“çš„å€¼ # å¯ä»¥è®¾ç½®åå†ç»˜å›¾çœ‹çœ‹æ˜¯ä¸æ˜¯å³ä¸Šè§’çš„å›¾å—å˜æˆç™½è‰²çš„äº†res[0][5][0] = res[0][5][1] = res[0][5][2] = 255print(res[0][5][0]) æ€»ç»“ï¼š RGBå›¾åƒçš„shapeï¼š(H, W, C) pytorchAPI: https://pytorch.org/docs/stable/torch.html#torch.arange","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"},{"name":"ML","slug":"ML","permalink":"https://nymrli.top/tags/ML/"}]},{"title":"Lets learn è®¾è®¡æ¨¡å¼","slug":"Lets-learn-è®¾è®¡æ¨¡å¼","date":"2020-12-03T03:36:53.000Z","updated":"2020-12-11T12:59:17.000Z","comments":true,"path":"2020/12/03/Lets-learn-è®¾è®¡æ¨¡å¼/","link":"","permalink":"https://nymrli.top/2020/12/03/Lets-learn-è®¾è®¡æ¨¡å¼/","excerpt":"","text":"ã€Šç ”ç£¨è®¾è®¡æ¨¡å¼ã€‹å’Œã€Šè®¾è®¡æ¨¡å¼å°±è¯¥è¿™æ ·å­¦ï¼šåŸºäºç»å…¸æ¡†æ¶æºç å’ŒçœŸå®ä¸šåŠ¡åœºæ™¯ã€‹çš„è¯»ä¹¦ç¬”è®° è®¾è®¡æ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿ æ¨¡å¼ï¼šä»å­—é¢ä¸Šç†è§£ï¼Œæ¨¡ï¼Œå°±æ˜¯æ¨¡å‹ã€æ¨¡æ¿çš„æ„æ€ï¼›å¼ï¼Œå°±æ˜¯æ–¹å¼ã€æ–¹æ³•çš„æ„æ€ã€‚ç»¼åˆèµ·æ¥ï¼Œæ‰€è°“æ¨¡å¼å°±æ˜¯ï¼šå¯ä»¥ä½œä¸ºæ¨¡å‹æˆ–æ¨¡æ¿çš„æ–¹å¼æˆ–æ–¹æ³•ã€‚å†ç®€å•ç‚¹è¯´å°±æ˜¯å¯ä»¥ç”¨æ¥ä½œä¸ºæ ·æ¿çš„æ–¹å¼æˆ–æ–¹æ³•ï¼Œç±»ä¼¼äºå¤§å®¶æ‰€ç†Ÿæ‚‰çš„èŒƒä¾‹ã€‚ æ‰€ä»¥è®¾è®¡æ¨¡å¼å°±æ˜¯è®¾è®¡æ–¹é¢çš„æ¨¡æ¿ï¼Œå…·ä½“å®šä¹‰ä¸ºï¼šæ˜¯æŒ‡åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œç»è¿‡éªŒè¯çš„ï¼Œç”¨äºè§£å†³åœ¨ç‰¹å®šç¯å¢ƒä¸‹ã€é‡å¤å‡ºç°çš„ã€ç‰¹å®šé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚ æ¯ä¸ªè®¾è®¡æ¨¡å¼çš„æ„æˆå¦‚ä¸‹ï¼š 1ã€æ¨¡å¼åç§°ï¼šæ¨¡å¼çš„ä¸€ä¸ªå¥½è®°çš„åå­— 2ã€ç¯å¢ƒå’Œé—®é¢˜ï¼šæè¿°åœ¨ä»€ä¹ˆç¯å¢ƒä¸‹ï¼Œå‡ºç°ä»€ä¹ˆç‰¹å®šçš„é—®é¢˜ 3ã€è§£å†³æ–¹æ¡ˆï¼šæè¿°å¦‚ä½•è§£å†³é—®é¢˜ 4ã€æ•ˆæœï¼šæè¿°åº”ç”¨æ¨¡å¼åçš„æ•ˆæœï¼Œä»¥åŠå¯èƒ½å¸¦æ¥çš„é—®é¢˜ è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼š ä¸ºäº†ç¼©å°èŒƒå›´ï¼Œæˆ‘ä»¬ä»…è®¨è®ºJavaè®¾è®¡æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯GoFè‘—ä½œä¸­çš„23ç§è®¾è®¡æ¨¡å¼ï¼Œå¯¹äºè¿™23ç§è®¾è®¡æ¨¡å¼ï¼ŒGoFæŠŠå®ƒä»¬åˆ†ä¸ºä¸‰ç±»ã€‚ åˆ›å»ºå‹æ¨¡å¼ï¼šæŠ½è±¡äº†å¯¹è±¡å®ä¾‹åŒ–è¿‡ç¨‹ï¼Œç”¨æ¥å¸®åŠ©åˆ›å»ºå¯¹è±¡çš„å®ä¾‹ã€‚ ç®€å•å·¥å‚æ¨¡å¼ å•ä¾‹æ¨¡å¼ å·¥å‚æ–¹æ³•æ¨¡å¼ æŠ½è±¡å·¥å‚æ¨¡å¼ ç”Ÿæˆå™¨æ¨¡å¼ åŸå‹æ¨¡å¼ ç»“æ„å‹æ¨¡å¼ï¼šæè¿°å¦‚ä½•ç»„åˆç±»å’Œå¯¹è±¡ä»¥è·å¾—æ›´å¤§çš„ç»“æ„ã€‚ å¤–è§‚æ¨¡å¼ é€‚é…å™¨æ¨¡å¼ ä»£ç†æ¨¡å¼ ç»„åˆæ¨¡å¼ äº«å…ƒæ¨¡å¼ è£…é¥°æ¨¡å¼ æ¡¥æ¥æ¨¡å¼ è¡Œä¸ºå‹æ¨¡å¼ï¼šæè¿°ç®—æ³•å’Œå¯¹è±¡é—´èŒè´£çš„åˆ†é…ã€‚ ä¸­ä»‹æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ å‘½ä»¤æ¨¡å¼ è¿­ä»£å™¨æ¨¡å¼ æ¨¡æ¿æ¨¡å¼ ç­–ç•¥æ¨¡å¼ çŠ¶æ€æ¨¡å¼ å¤‡å¿˜å½•æ¨¡å¼ è§£é‡Šå™¨æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼ è®¿é—®è€…æ¨¡å¼ ã€Šè®¾è®¡æ¨¡å¼å°±è¯¥è¿™æ ·å­¦ï¼šåŸºäºç»å…¸æ¡†æ¶æºç å’ŒçœŸå®ä¸šåŠ¡åœºæ™¯ã€‹ä¸­æåˆ°äº†æ–°çš„è®¾è®¡æ¨¡å¼ï¼š å¯¹è±¡æ± æ¨¡å¼ è§„æ ¼æ¨¡å¼ ç©ºå¯¹è±¡æ¨¡å¼ é›‡å·¥æ¨¡å¼ JAVAä¸­çš„é¢å‘æ¥å£ç¼–ç¨‹ 1.Javaä¸­æ¥å£çš„æ¦‚å¿µ åœ¨Javaä¸­æ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»ï¼Œè·Ÿä¸€èˆ¬çš„æŠ½è±¡ç±»ç›¸æ¯”ï¼Œæ¥å£é‡Œé¢çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œæ¥å£é‡Œé¢çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å¸¸é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¥å£é‡Œé¢åªæœ‰æ–¹æ³•å®šä¹‰è€Œæ²¡æœ‰ä»»ä½•æ–¹æ³•å®ç°ã€‚ 2.æ¥å£ç”¨æ¥å¹²ä»€ä¹ˆ é€šå¸¸ç”¨æ¥å£æ¥å®šä¹‰å®ç°ç±»çš„å¤–è§‚ï¼Œä¹Ÿå°±æ˜¯å®ç°ç±»çš„è¡Œä¸ºå®šä¹‰ï¼Œç”¨æ¥çº¦æŸå®ç°ç±»çš„è¡Œä¸ºã€‚æ¥å£å°±ç›¸å½“äºä¸€ä»½å¥‘çº¦ï¼Œæ ¹æ®å¤–éƒ¨åº”ç”¨éœ€è¦çš„åŠŸèƒ½ï¼Œçº¦å®šäº†å®ç°ç±»åº”è¯¥è¦å®ç°çš„åŠŸèƒ½ï¼Œä½†æ˜¯å…·ä½“çš„å®ç°ç±»é™¤äº†å®ç°æ¥å£çº¦å®šçš„åŠŸèƒ½å¤–ï¼Œè¿˜å¯ä»¥æ ¹æ®éœ€è¦å®ç°å…¶ä»–ä¸€äº›åŠŸèƒ½ï¼Œè¿™æ˜¯å…è®¸çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ç°ç±»çš„åŠŸèƒ½åŒ…å«ä½†ä¸ä»…é™äºæ¥å£çº¦æŸçš„åŠŸèƒ½ã€‚ é€šè¿‡ä½¿ç”¨æ¥å£ï¼Œå¯ä»¥å®ç°ä¸ç›¸å…³ç±»çš„ç›¸åŒè¡Œä¸ºï¼Œè€Œä¸éœ€è€ƒè™‘è¿™äº›ç±»ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ï¼Œæ¥å£å°±æ˜¯å®ç°ç±»å¯¹å¤–çš„å¤–è§‚ã€‚ 3.æ¥å£çš„æ€æƒ³ æ ¹æ®æ¥å£çš„ä½œç”¨å’Œç”¨é€”ï¼Œæµ“ç¼©ä¸‹æ¥ï¼Œæ¥å£çš„æ€æƒ³å°±æ˜¯â€œå°è£…éš”ç¦»â€ã€‚ é€šå¸¸æåˆ°çš„å°è£…æ˜¯æŒ‡å¯¹æ•°æ®çš„å°è£…ï¼Œä½†æ˜¯è¿™é‡Œçš„å°è£…æ˜¯æŒ‡â€œå¯¹è¢«éš”ç¦»ä½“çš„è¡Œä¸ºçš„å°è£…â€ï¼Œæˆ–è€…æ˜¯â€œå¯¹è¢«éš”ç¦»ä½“çš„èŒè´£çš„å°è£…â€ï¼›è€Œéš”ç¦»æŒ‡çš„æ˜¯å¤–éƒ¨è°ƒç”¨å’Œå†…éƒ¨å®ç°ï¼Œå¤–éƒ¨è°ƒç”¨åªèƒ½é€šè¿‡æ¥å£è¿›è¡Œè°ƒç”¨ï¼Œå¤–éƒ¨è°ƒç”¨æ˜¯ä¸çŸ¥é“å†…éƒ¨å…·ä½“å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¤–éƒ¨è°ƒç”¨å’Œå†…éƒ¨å®ç°æ˜¯è¢«æ¥å£éš”ç¦»å¼€çš„ã€‚ 4.ä½¿ç”¨æ¥å£çš„å¥½å¤„ ç”±äºå¤–éƒ¨è°ƒç”¨å’Œå†…éƒ¨å®ç°è¢«æ¥å£éš”ç¦»å¼€äº†ï¼Œé‚£ä¹ˆåªè¦æ¥å£ä¸å˜ï¼Œå†…éƒ¨å®ç°çš„å˜åŒ–å°±ä¸ä¼šå½±å“åˆ°å¤–éƒ¨åº”ç”¨ï¼Œä»è€Œä½¿å¾—ç³»ç»Ÿæ›´çµæ´»ï¼Œå…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè¿™ä¹Ÿå°±æ˜¯æ‰€è°“â€œæ¥å£æ˜¯ç³»ç»Ÿå¯æ’æ‹”æ€§çš„ä¿è¯â€è¿™å¥è¯çš„æ„æ€ã€‚ 5.æ¥å£å’ŒæŠ½è±¡ç±»çš„é€‰æ‹© æ—¢ç„¶æ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»ï¼Œé‚£ä¹ˆåœ¨å¼€å‘ä¸­ï¼Œä½•æ—¶é€‰ç”¨æ¥å£ï¼Ÿä½•æ—¶é€‰ç”¨æŠ½è±¡ç±»å‘¢ï¼Ÿ å¯¹äºå®ƒä»¬çš„é€‰æ‹©ï¼Œåœ¨å¼€å‘ä¸­æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ï¼Œç‰¹åˆ«æ€»ç»“ä¸¤å¥è¯ç»™å¤§å®¶ï¼š ä¼˜å…ˆé€‰ç”¨æ¥å£ åœ¨æ—¢è¦å®šä¹‰å­ç±»çš„è¡Œä¸ºï¼Œåˆè¦ä¸ºå­ç±»æä¾›å…¬å…±çš„åŠŸèƒ½æ—¶åº”é€‰æ‹©æŠ½è±¡ç±»ã€‚ è®¾è®¡åŸåˆ™ é¢å‘å¯¹è±¡çš„åˆ†æè®¾è®¡æœ‰å¾ˆå¤šåŸåˆ™ï¼Œè¿™äº›åŸåˆ™å¤§å¤šä»æ€æƒ³å±‚é¢ç»™æˆ‘ä»¬æŒ‡å‡ºäº†é¢å‘å¯¹è±¡åˆ†æè®¾è®¡çš„æ­£ç¡®æ–¹å‘ï¼Œæ˜¯æˆ‘ä»¬è¿›è¡Œé¢å‘å¯¹è±¡åˆ†æè®¾è®¡æ—¶åº”è¯¥å°½åŠ›éµå®ˆçš„å‡†åˆ™ã€‚è€Œè®¾è®¡æ¨¡å¼å·²ç»æ˜¯é’ˆå¯¹æŸä¸ªåœºæ™¯ä¸‹æŸäº›é—®é¢˜çš„æŸä¸ªè§£å†³æ–¹æ¡ˆã€‚ä¹Ÿå°±æ˜¯è¯´è¿™äº›è®¾è®¡åŸåˆ™æ˜¯æ€æƒ³ä¸Šçš„æŒ‡å¯¼ï¼Œè€Œè®¾è®¡æ¨¡å¼æ˜¯å®ç°ä¸Šçš„æ‰‹æ®µï¼Œå› æ­¤è®¾è®¡æ¨¡å¼ä¹Ÿåº”è¯¥éµå®ˆè¿™äº›åŸåˆ™ï¼Œæ¢å¥è¯è¯´ï¼Œè®¾è®¡æ¨¡å¼å°±æ˜¯è¿™äº›è®¾è®¡åŸåˆ™çš„ä¸€äº›å…·ä½“ä½“ç°ã€‚ å¸¸è§çš„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™â€”â€”SOLIDåŸåˆ™ å•ä¸€èŒè´£åŸåˆ™SRPï¼ˆSingle Responsibility Principleï¼‰ æ‰€è°“å•ä¸€èŒè´£åŸåˆ™ï¼ŒæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªç±»åº”è¯¥ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚æ€»ä½“æ¥è¯´å°±æ˜¯ä¸€ä¸ªclassã€interfaceã€methodåªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚ è¿™é‡Œå˜åŒ–çš„åŸå› å°±æ˜¯æ‰€è¯´çš„â€œèŒè´£â€ï¼Œå¦‚æœä¸€ä¸ªç±»æœ‰å¤šä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ï¼Œé‚£ä¹ˆä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªç±»æœ‰å¤šä¸ªèŒè´£ï¼Œå†è¿›ä¸€æ­¥è¯´ï¼Œå°±æ˜¯æŠŠå¤šä¸ªèŒè´£è€¦åˆåœ¨ä¸€èµ·äº†ã€‚ è¿™ä¼šé€ æˆèŒè´£çš„ç›¸äº’å½±å“ï¼Œå¯èƒ½ä¸€ä¸ªèŒè´£çš„å˜åŒ–ï¼Œä¼šå½±å“åˆ°å…¶ä»–èŒè´£çš„å®ç°ï¼Œç”šè‡³å¼•èµ·å…¶ä»–èŒè´£éšç€å˜åŒ–ï¼Œè¿™ç§è®¾è®¡æ˜¯å¾ˆè„†å¼±çš„ã€‚ è¿™ä¸ªåŸåˆ™çœ‹èµ·æ¥æ˜¯æœ€ç®€å•å’Œæœ€å¥½ç†è§£çš„ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯å¾ˆéš¾å®Œå…¨åšåˆ°çš„ï¼Œéš¾ç‚¹åœ¨äºå¦‚ä½•åŒºåˆ†â€œèŒè´£â€ã€‚è¿™æ˜¯ä¸ªæ²¡æœ‰æ ‡å‡†é‡åŒ–çš„ä¸œè¥¿ï¼Œå“ªäº›ç®—èŒè´£ã€åˆ°åº•è¿™ä¸ªèŒè´£æœ‰å¤šå¤§çš„ç²’åº¦ã€è¿™ä¸ªèŒè´£å¦‚ä½•ç»†åŒ–ç­‰ã€‚å› æ­¤ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œè¿™ä¸ªåŸåˆ™ä¹Ÿæ˜¯æœ€å®¹æ˜“è¿åçš„ã€‚ â–²ä¸€å¥è¯æ€»ç»“ï¼šä¸€ä¸ªç±»åªå¹²ä¸€ä»¶äº‹ï¼Œä»è€Œä¾¿äºç«‹å³é¢ï¼Œæé«˜ä»£ç å¯è¯»æ€§ å¼€æ”¾-å…³é—­åŸåˆ™OCPï¼ˆOpen-Closed Principleï¼‰ æ‰€è°“å¼€æ”¾-å…³é—­åŸåˆ™ï¼ŒæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªç±»åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚ä¸€èˆ¬ä¹Ÿè¢«ç®€ç§°ä¸ºå¼€é—­åŸåˆ™ï¼Œå¼€é—­åŸåˆ™æ˜¯è®¾è®¡ä¸­éå¸¸æ ¸å¿ƒçš„ä¸€ä¸ªåŸåˆ™ã€‚ OCPçš„æ ¸å¿ƒæ€æƒ³æ˜¯é¢å¯¹æŠ½è±¡ç¼–ç¨‹ï¼Œå¼ºè°ƒç”¨æŠ½è±¡æ„å»ºæ¡†æ¶ï¼Œç”¨å®ç°æ‹“å±•ç»†èŠ‚ï¼Œä»è€Œé¢æé«˜è½¯ä»¶ç³»ç»Ÿçš„å¯å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ å¼€é—­åŸåˆ™è¦æ±‚çš„æ˜¯ï¼Œç±»çš„è¡Œä¸ºæ˜¯å¯ä»¥æ‰©å±•çš„ï¼Œè€Œä¸”æ˜¯åœ¨ä¸ä¿®æ”¹å·²æœ‰ä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œæ‰©å±•ï¼Œä¹Ÿä¸å¿…æ”¹åŠ¨å·²æœ‰çš„æºä»£ç æˆ–è€…äºŒè¿›åˆ¶ä»£ç ã€‚ çœ‹èµ·æ¥å¥½åƒæ˜¯çŸ›ç›¾çš„ï¼Œæ€ä¹ˆæ ·æ‰èƒ½å®ç°å‘¢ï¼Ÿ å®ç°å¼€é—­åŸåˆ™çš„å…³é”®å°±åœ¨äºåˆç†åœ°æŠ½è±¡ã€åˆ†ç¦»å‡ºå˜åŒ–ä¸ä¸å˜åŒ–çš„éƒ¨åˆ†ï¼Œä¸ºå˜åŒ–çš„éƒ¨åˆ†é¢„ç•™ä¸‹å¯æ‰©å±•çš„æ–¹å¼ï¼Œæ¯”å¦‚ï¼Œé’©å­æ–¹æ³•æˆ–æ˜¯åŠ¨æ€ç»„åˆå¯¹è±¡ç­‰ã€‚ è¿™ä¸ªåŸåˆ™çœ‹èµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚ä½†äº‹å®ä¸Šï¼Œä¸€ä¸ªç³»ç»Ÿè¦å…¨éƒ¨åšåˆ°éµå®ˆå¼€é—­åŸåˆ™ï¼Œå‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼Œä¹Ÿæ²¡è¿™ä¸ªå¿…è¦ã€‚é€‚åº¦çš„æŠ½è±¡å¯ä»¥æé«˜ç³»ç»Ÿçš„çµæ´»æ€§ï¼Œä½¿å…¶å¯æ‰©å±•ã€å¯ç»´æŠ¤ï¼Œä½†æ˜¯è¿‡åº¦åœ°æŠ½è±¡ï¼Œä¼šå¤§å¤§å¢åŠ ç³»ç»Ÿçš„å¤æ‚ç¨‹åº¦ã€‚åº”è¯¥åœ¨éœ€è¦æ”¹å˜çš„åœ°æ–¹åº”ç”¨å¼€é—­åŸåˆ™å°±å¯ä»¥äº†ï¼Œè€Œä¸ç”¨åˆ°å¤„ä½¿ç”¨ï¼Œä»è€Œé™·å…¥è¿‡åº¦è®¾è®¡ã€‚ â–²ä¸€å¥è¯æ€»ç»“ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼Œä»è€Œé™ä½ç»´æŠ¤å¸¦æ¥çš„æ–°é£é™© é‡Œæ°æ›¿æ¢åŸåˆ™LSPï¼ˆLiskov Substitution Principleï¼‰ æ‰€è°“é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ŒæŒ‡çš„æ˜¯ï¼Œå­ç±»å‹å¿…é¡»èƒ½å¤Ÿæ›¿æ¢æ‰å®ƒä»¬çš„çˆ¶ç±»å‹ã€‚è¿™å¾ˆæ˜æ˜¾æ˜¯ä¸€ç§å¤šæ€çš„ä½¿ç”¨æƒ…å†µï¼Œå®ƒå¯ä»¥é¿å…åœ¨å¤šæ€çš„åº”ç”¨ä¸­ï¼Œå‡ºç°æŸäº›éšè”½çš„é”™è¯¯ã€‚ è¿™æ¡åŸåˆ™çš„å®šä¹‰æ˜¯æ¯”è¾ƒæŠ½è±¡çš„ï¼Œå¯ä»¥ç†è§£ä¸º ä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚æœä½¿ç”¨ä¸€ä¸ªçˆ¶ç±»ï¼Œåˆ™ä¸€å®šé€‚ç”¨äºå…¶å­ç±»ï¼Œå³è¦æ±‚æ‰€æœ‰å¼•ç”¨çˆ¶ç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å­ç±»å¯¹è±¡ï¼Œå­ç±»èƒ½å¤Ÿä»£æ›¿çˆ¶ç±»å¯¹è±¡ï¼Œè€Œç¨‹åºé€»è¾‘ä¸å˜ã€‚ å­ç±»å¯ä»¥æ‹“å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜çˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½ï¼Œæ ¹æ®è¿™ä¸ªç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å°†DIPå®šä¹‰æ€»ç»“å¦‚ä¸‹ï¼š å­ç±»å¯ä»¥å®ç°çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ï¼Œä½†ä¸èƒ½è¦†ç›–çˆ¶ç±»çš„éæŠ½è±¡æ–¹æ³• å­ç±»å¯ä»¥å¢åŠ è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³• å½“å­ç±»çš„æ–¹æ³•é‡è½½çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•çš„å‰ç½®æ¡ä»¶ï¼ˆå…¥å‚ï¼‰è¦æ¯”çˆ¶ç±»çš„æ›´å®½æ¾ å½“å­ç±»çš„æ–¹æ³•å®ç°çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼ˆé‡å†™ã€é‡è½½æˆ–å®ç°æŠ½è±¡æ–¹æ³•ï¼‰ï¼Œæ–¹æ³•çš„åç½®æ¡ä»¶ï¼ˆè¾“å‡ºã€è¿”å›å€¼ï¼‰è¦æ¯”çˆ¶ç±»çš„æ›´ä¸¥æ ¼æˆ–ç›¸ç­‰ â–²ä¸€å¥è¯æ€»ç»“ï¼šå­ç±»é‡å†™æ–¹æ³•åŠŸèƒ½æ”¹å˜ï¼Œä¸åº”è¯¥å½±å“çˆ¶ç±»æ–¹æ³•çš„å«ä¹‰ï¼Œä»è€Œé˜²æ­¢ç»§æ‰¿æ³›æ»¥ ä¾èµ–å€’ç½®åŸåˆ™DIPï¼ˆDependence Inversion Principleï¼‰ æ‰€è°“ä¾èµ–å€’ç½®åŸåˆ™ï¼ŒæŒ‡çš„æ˜¯ï¼Œè¦ä¾èµ–äºæŠ½è±¡ï¼Œä¸è¦ä¾èµ–äºå…·ä½“ç±»ã€‚è¦åšåˆ°ä¾èµ–å€’ç½®ï¼Œå…¸å‹çš„åº”è¯¥åšåˆ°ï¼š é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚ æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºå…·ä½“å®ç°ï¼Œå…·ä½“å®ç°åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚ å¾ˆå¤šäººè§‰å¾—ï¼Œå±‚æ¬¡åŒ–è°ƒç”¨çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯é«˜å±‚è°ƒç”¨â€œåº•å±‚æ‰€æ‹¥æœ‰çš„æ¥å£â€ï¼Œè¿™æ˜¯ä¸€ç§å…¸å‹çš„è¯¯è§£ã€‚äº‹å®ä¸Šï¼Œä¸€èˆ¬é«˜å±‚æ¨¡å—åŒ…å«å¯¹ä¸šåŠ¡åŠŸèƒ½çš„å¤„ç†å’Œä¸šåŠ¡ç­–ç•¥é€‰æ‹©ï¼Œåº”è¯¥è¢«é‡ç”¨ï¼Œæ˜¯é«˜å±‚æ¨¡å—å»å½±å“åº•å±‚çš„å…·ä½“å®ç°ã€‚ å› æ­¤ï¼Œè¿™ä¸ªåº•å±‚çš„æ¥å£åº”è¯¥æ˜¯ç”±é«˜å±‚æå‡ºçš„ï¼Œç„¶åç”±åº•å±‚å®ç°çš„ã€‚ä¹Ÿå°±æ˜¯è¯´åº•å±‚çš„æ¥å£çš„æ‰€æœ‰æƒåœ¨é«˜å±‚æ¨¡å—ï¼Œå› æ­¤æ˜¯ä¸€ç§æ‰€æœ‰æƒçš„å€’ç½®ã€‚ å€’ç½®æ¥å£æ‰€æœ‰æƒï¼Œè¿™å°±æ˜¯è‘—åçš„Hollywoodï¼ˆå¥½è±åï¼‰åŸåˆ™ï¼šä¸è¦æ‰¾æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šè”ç³»ä½ ã€‚ ä¸€å¥è¯æ€»ç»“ï¼šé«˜å±‚ä¸åº”è¯¥ä¾èµ–åº•å±‚ï¼Œä»è€Œæ›´åˆ©ç”¨ä»£ç ç»“æ„çš„çœçº§æ‰©å±• æ¥å£éš”ç¦»åŸåˆ™ISPï¼ˆInterface Segregation Principleï¼‰ æŒ‡ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£ï¼Œè€Œä¸ä½¿ç”¨å•ä¸€çš„æ€»æ¥å£ï¼Œå®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼ˆä¸éœ€è¦çš„æ¥å£å¯¹å®¢æˆ·æ¥è¯´ä¸å¯è§ï¼‰ã€‚ è¿™ä¸ªåŸåˆ™å‘Šè¯‰æˆ‘ä»¬çš„æ³¨æ„ç‚¹ä¸ºï¼š ä¸€ä¸ªé›·å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°æ¥å£ä¸Š å»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹åºå¤§è‡ƒè‚¿çš„æ¥å£ å°½é‡ç»†åŒ–æ¥å£ï¼Œæ¥å£ä¸­çš„æ–¹æ³•è¶Šå°‘è¶Šå¥½ï¼ˆé€‚é‡å°‘ï¼‰ è¿™äº›â€œé«˜èšåˆã€ä½è€¦åˆâ€è¦æ±‚çš„è®¾è®¡æ€æƒ³ï¼Œä½¿å¾—ç±»å…·æœ‰å¾ˆå¥½çš„å¯è¯»æ€§ã€å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ æ‰€è°“æ¥å£éš”ç¦»åŸåˆ™ï¼ŒæŒ‡çš„æ˜¯ï¼Œä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ä¾èµ–äºä»–ä»¬ä¸ç”¨çš„æ–¹æ³•ã€‚ è¿™ä¸ªåŸåˆ™ç”¨æ¥å¤„ç†é‚£äº›æ¯”è¾ƒâ€œåºå¤§â€çš„æ¥å£ï¼Œè¿™ç§æ¥å£é€šå¸¸ä¼šæœ‰è¾ƒå¤šçš„æ“ä½œå£°æ˜ï¼Œæ¶‰åŠåˆ°å¾ˆå¤šçš„èŒè´£ã€‚å®¢æˆ·åœ¨ä½¿ç”¨è¿™æ ·çš„æ¥å£çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šæœ‰å¾ˆå¤šä»–ä¸éœ€è¦çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å¯¹äºå®¢æˆ·æ¥è®²ï¼Œå°±æ˜¯ä¸€ç§æ¥å£æ±¡æŸ“ï¼Œç›¸å½“äºå¼ºè¿«ç”¨æˆ·åœ¨ä¸€å¤§å †â€œåƒåœ¾æ–¹æ³•â€ä¸­å»å¯»æ‰¾ä»–éœ€è¦çš„æ–¹æ³•ã€‚ å› æ­¤ï¼Œè¿™æ ·çš„æ¥å£åº”è¯¥è¢«åˆ†ç¦»ï¼Œåº”è¯¥æŒ‰ç…§ä¸åŒçš„å®¢æˆ·éœ€è¦æ¥åˆ†ç¦»æˆä¸ºé’ˆå¯¹å®¢æˆ·çš„æ¥å£ã€‚è¿™æ ·çš„æ¥å£ä¸­ï¼ŒåªåŒ…å«å®¢æˆ·éœ€è¦çš„æ“ä½œå£°æ˜ï¼Œè¿™æ ·æ—¢æ–¹ä¾¿äº†å®¢æˆ·çš„ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥é¿å…å› è¯¯ç”¨æ¥å£è€Œå¯¼è‡´çš„é”™è¯¯ã€‚ åˆ†ç¦»æ¥å£çš„æ–¹å¼ï¼Œé™¤äº†ç›´æ¥è¿›è¡Œä»£ç åˆ†ç¦»ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å§”æ‰˜æ¥åˆ†ç¦»æ¥å£ï¼Œåœ¨èƒ½å¤Ÿæ”¯æŒå¤šé‡ç»§æ‰¿çš„è¯­è¨€ä¸­ï¼Œè¿˜å¯ä»¥é‡‡ç”¨å¤šé‡ç»§æ‰¿çš„æ–¹å¼è¿›è¡Œåˆ†ç¦»ã€‚ â–²ä¸€å¥è¯æ€»ç»“ï¼šä¸€ä¸ªæ¥å£åªå¹²ä¸€ä»¶äº‹ï¼Œä»è€ŒåŠŸèƒ½è§£è€¦ï¼Œé«˜èšåˆã€ä½è€¦åˆ demoï¼šé’ˆå¯¹åŠ¨ç‰©Animalæ¥å£ï¼Œæ˜¾ç„¶éœ€è¦å°†é£çš„ã€æ¸¸çš„éš”ç¦»å¼€ï¼Œå› æ­¤éœ€è¦é’ˆå¯¹ä¸åŒåŠ¨ç‰©çš„è¡Œä¸ºæ¥è®¾è®¡ä¸åŒçš„æ¥å£ã€‚ å…¶ä»–ä¸€äº›è®¾è®¡åŸåˆ™ æœ€å°‘çŸ¥é“åŸåˆ™LKPï¼ˆLeast Knowledge Principleï¼‰â€”â€”è¿ªç±³ç‰¹åŸåˆ™LoD æŒ‡ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£ï¼Œå°½é‡é™ä½ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆã€‚å¼ºè°ƒä¹‹å’Œæœ‹å‹äº¤æµã€ä¸å’Œé™Œç”Ÿäººè¯´è¯ï¼Œå‡ºç°åœ¨æˆå‘˜å˜é‡ã€æ–¹æ³•çš„è¾“å…¥ã€è¾“å‡ºå‚æ•°ä¸­çš„ç±»å¯ä»¥è¢«ç§°ä¸ºæˆå‘˜æœ‹å‹ç±»ï¼Œå‡ºç°åœ¨æ–¹æ³•ä½“å†…éƒ¨çš„ç±»ä¸å±äºæœ‹å‹ç±»ã€‚ è¿™ä¸ªåŸåˆ™ç”¨æ¥æŒ‡å¯¼æˆ‘ä»¬åœ¨è®¾è®¡ç³»ç»Ÿçš„æ—¶å€™ï¼Œåº”è¯¥å°½é‡å‡å°‘å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œå¯¹è±¡åªå’Œè‡ªå·±çš„æœ‹å‹è°ˆè¯ï¼Œä¹Ÿå°±æ˜¯åªå’Œè‡ªå·±çš„æœ‹å‹äº¤äº’ï¼Œä»è€Œæ¾æ•£ç±»ä¹‹é—´çš„è€¦åˆã€‚é€šè¿‡æ¾æ•£ç±»ä¹‹é—´çš„è€¦åˆæ¥é™ä½ç±»ä¹‹é—´çš„ç›¸äº’ä¾èµ–ï¼Œè¿™æ ·åœ¨ä¿®æ”¹ç³»ç»Ÿçš„æŸä¸€ä¸ªéƒ¨åˆ†çš„æ—¶å€™ï¼Œå°±ä¸ä¼šå½±å“å…¶ä»–çš„éƒ¨åˆ†ï¼Œä»è€Œä½¿å¾—ç³»ç»Ÿå…·æœ‰æ›´å¥½çš„å¯ç»´æŠ¤æ€§ã€‚ é‚£ä¹ˆç©¶ç«Ÿå“ªäº›å¯¹è±¡æ‰èƒ½è¢«å½“ä½œæœ‹å‹å‘¢ï¼Ÿæœ€å°‘çŸ¥è¯†åŸåˆ™æä¾›äº†ä¸€äº›æŒ‡å¯¼ã€‚ å½“å‰å¯¹è±¡æœ¬èº«ã€‚ é€šè¿‡æ–¹æ³•çš„å‚æ•°ä¼ é€’è¿›æ¥çš„å¯¹è±¡ã€‚ å½“å‰å¯¹è±¡æ‰€åˆ›å»ºçš„å¯¹è±¡ã€‚â€”â€”æˆå‘˜å˜é‡ å½“å‰å¯¹è±¡çš„å®ä¾‹å˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡ã€‚â€”â€”æˆå‘˜å˜é‡ æ–¹æ³•å†…æ‰€åˆ›å»ºæˆ–å®ä¾‹åŒ–çš„å¯¹è±¡ã€‚ â€”&gt; ??? è¯·æ³¨æ„ï¼ï¼ï¼1-5æ¡çš„æ„æ€æ˜¯ï¼Œå¦‚æœæŸå¯¹è±¡æ˜¯è°ƒç”¨å…¶ä»–æ–¹æ³•çš„è¿”å›ç»“æœï¼Œä¸è¦è°ƒç”¨è¯¥å¯¹è±¡çš„æ–¹æ³•ï¼å³è¦æ±‚æˆ‘ä»¬åªè°ƒç”¨ä»¥ä¸‹èŒƒå›´çš„æ–¹æ³•ï¼š ï¼ˆ1ï¼‰è¯¥å¯¹è±¡æœ¬èº«ï¼› ï¼ˆ2ï¼‰è¢«å½“ä½œæ–¹æ³•çš„å‚æ•°è€Œä¼ é€’è¿›æ¥çš„å¯¹è±¡ï¼› ï¼ˆ3ï¼‰æ­¤æ–¹æ³•æ‰€åˆ›å»ºæˆ–å®ä¾‹åŒ–çš„ä»»ä½•å¯¹è±¡ï¼› ï¼ˆ4ï¼‰å¯¹è±¡çš„ä»»ä½•ç»„ä»¶ï¼› æ€»ä¹‹ï¼Œæœ€å°‘çŸ¥è¯†åŸåˆ™è¦æ±‚æˆ‘ä»¬çš„æ–¹æ³•è°ƒç”¨å¿…é¡»ä¿æŒåœ¨ä¸€å®šçš„ç•Œé™èŒƒå›´ä¹‹å†…ï¼Œå°½é‡å‡å°‘å¯¹è±¡çš„ä¾èµ–å…³ç³»ã€‚ â–²ä¸€å¥è¯æ€»ç»“ï¼šä¸è¯¥çŸ¥é“çš„ä¸è¦çŸ¥é“ï¼Œä»è€Œå‡å°‘ä»£ç è‡ƒè‚¿ åˆæˆå¤ç”¨åŸåˆ™ å°½é‡ä½¿ç”¨å¯¹è±¡ç»„åˆæˆ–å¯¹è±¡èšåˆçš„æ–¹å¼æ¥å®ç°ä»£ç å¤ç”¨ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å…³ç³»è¾¾åˆ°ä»£ç å¤ç”¨çš„ç›®çš„ã€‚ â–²ä¸€å¥è¯æ€»ç»“ï¼šå°½é‡ä½¿ç”¨ç»„åˆå®ç°ä»£ç å¤ç”¨è€Œä¸æ˜¯ç”¨ç»§æ‰¿ï¼Œä»è€Œé™ä½ä»£ç è€¦åˆ é™¤äº†ä¸Šé¢æåˆ°çš„è¿™äº›åŸåˆ™ï¼Œè¿˜æœ‰ä¸€äº›å¤§å®¶éƒ½ç†ŸçŸ¥çš„åŸåˆ™ï¼Œæ¯”å¦‚ï¼š é¢å‘æ¥å£ç¼–ç¨‹ï¼› ä¼˜å…ˆä½¿ç”¨ç»„åˆï¼Œè€Œéç»§æ‰¿ã€‚ å½“ç„¶ä¹Ÿè¿˜æœ‰å¾ˆå¤šå¤§å®¶ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„åŸåˆ™ï¼Œæ¯”å¦‚ï¼š ä¸€ä¸ªç±»éœ€è¦çš„æ•°æ®åº”è¯¥éšè—åœ¨ç±»çš„å†…éƒ¨ï¼› ç±»ä¹‹é—´åº”è¯¥é›¶è€¦åˆï¼Œæˆ–è€…åªæœ‰ä¼ å¯¼è€¦åˆï¼Œæ¢å¥è¯è¯´ï¼Œç±»ä¹‹é—´è¦ä¹ˆæ²¡æœ‰å…³ç³»ï¼Œè¦ä¹ˆåªä½¿ç”¨å¦ä¸€ä¸ªç±»çš„æ¥å£æä¾›çš„æ“ä½œï¼› åœ¨æ°´å¹³æ–¹å‘ä¸Šå°½å¯èƒ½ç»Ÿä¸€åœ°åˆ†å¸ƒç³»ç»ŸåŠŸèƒ½ï¼› é™„å½• Githubå›¾è¯´è®¾è®¡æ¨¡å¼: https://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/simple_factory.html è®¾è®¡æ¨¡å¼å°±è¯¥è¿™ä¹ˆå­¦ï¼šä»¥å¾®ä¿¡è®¢é˜…å·æ¥è®²è§‚å¯Ÿè€…æ¨¡å¼(ç¬¬ä¸‰ç¯‡) è§‚å¯Ÿè€…æ¨¡å¼å®é™…åº”ç”¨ï¼šç›‘å¬çº¿ç¨‹ï¼Œæ„å¤–é€€å‡ºçº¿ç¨‹åè‡ªåŠ¨é‡å¯","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"ç©ç©æ²¹çŒ´è„šæœ¬Tampermonkey","slug":"ç©ç©æ²¹çŒ´è„šæœ¬","date":"2020-12-01T07:32:53.000Z","updated":"2020-12-01T12:19:48.468Z","comments":true,"path":"2020/12/01/ç©ç©æ²¹çŒ´è„šæœ¬/","link":"","permalink":"https://nymrli.top/2020/12/01/ç©ç©æ²¹çŒ´è„šæœ¬/","excerpt":"","text":"ç”±äºåœ¨ç ”ç©¶å¦‚ä½•ä¼˜åŒ–ç½‘ç›˜ç›´é“¾ä¸‹è½½åŠ©æ‰‹**baidupanï¼Œå¦‚ä½•å°†ç›´é“¾çš„ç»“æœæå–å‡ºæ¥ä¾›IDMæ‰¹é‡ä¸‹è½½ã€‚ç”±äºbaidupan**æ˜¯ç”¨æ²¹çŒ´è„šæœ¬å†™çš„ï¼Œå› æ­¤å€Ÿæœºå­¦ä¹ ä¸€ä¸‹ã€‚ Greasy Fork è¿™é‡Œæ˜¯ä¸€ä¸ªæä¾›ç”¨æˆ·è„šæœ¬çš„ç½‘ç«™ã€‚ Tampermonkey å…¶ä¸ºæµè§ˆå™¨æ’ä»¶ï¼Œç›®å‰ä¸»æµæµè§ˆå™¨çš†æ”¯æŒï¼Œæ²¹çŒ´å«æ³•æ¥æºï¼šã€Œæ²¹çŒ´ã€æ˜¯ä»ã€ŒGreasemonkeyã€æ¥çš„ã€‚ã€ŒGreasemonkeyã€æœ€åˆæ˜¯è¿è¡Œåœ¨Firefoxæµè§ˆå™¨ä¸­çš„è„šæœ¬ï¼Œã€ŒTampermonkeyã€åœ¨Google Chromeæµè§ˆå™¨ä¸Šå®ç°äº†å‡ ä¹ç›¸åŒçš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¹Ÿè¢«ä¸­æ–‡ç”¨æˆ·ç§°ä¹‹ä¸ºã€Œæ²¹çŒ´ã€ã€‚ æ–°å»ºï¼š 123456789101112131415// ==UserScript==// @name New Userscript// @namespace http://tampermonkey.net/// @version 0.1// @description try to take over the world!// @author You// @match https://www.1949la.com/post/10351.html// @grant none// ==/UserScript==(function() &#123; 'use strict'; // Your code here...&#125;)(); è„šæœ¬ç¼–å†™æ–¹æ³• æ³¨é‡Šâ€”â€”åŠŸèƒ½æ³¨é‡Š é¦–å…ˆæ¥çœ‹çœ‹è„šæœ¬çš„å†…å®¹ï¼Œä¸Šé¢æ˜¯ä¸€å¤§æ’æ³¨é‡Šï¼Œè¿™äº›æ³¨é‡Šå¯ä»¥éå¸¸æœ‰ç”¨çš„ï¼Œå®ƒè¡¨æ˜äº†è„šæœ¬çš„å„ä¸ªå±æ€§ã€‚ä¸‹é¢æ¥ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚ å±æ€§å ä½œç”¨ name æ²¹çŒ´è„šæœ¬çš„åå­— namespace å‘½åç©ºé—´ï¼Œç±»ä¼¼äºJavaçš„åŒ…åï¼Œç”¨æ¥åŒºåˆ†ç›¸åŒåç§°çš„è„šæœ¬ï¼Œä¸€èˆ¬å†™æˆä½œè€…åå­—æˆ–è€…ç½‘å€å°±å¯ä»¥äº† version è„šæœ¬ç‰ˆæœ¬ï¼Œæ²¹çŒ´è„šæœ¬çš„æ›´æ–°ä¼šè¯»å–è¿™ä¸ªç‰ˆæœ¬å· description æè¿°ï¼Œç”¨æ¥å‘Šè¯‰ç”¨æˆ·è¿™ä¸ªè„šæœ¬æ˜¯å¹²ä»€ä¹ˆç”¨çš„ author ä½œè€…åå­— match åªæœ‰åŒ¹é…çš„ç½‘å€æ‰ä¼šæ‰§è¡Œå¯¹åº”çš„è„šæœ¬ï¼Œä¾‹å¦‚*ã€http://*ã€http://www.baidu.com/*ç­‰ï¼Œå‚è§è°·æ­Œå¼€å‘è€…æ–‡æ¡£ grant æŒ‡å®šè„šæœ¬è¿è¡Œæ‰€éœ€æƒé™ï¼Œå¦‚æœè„šæœ¬æ‹¥æœ‰ç›¸åº”çš„æƒé™ï¼Œå°±å¯ä»¥è°ƒç”¨æ²¹çŒ´æ‰©å±•æä¾›çš„APIä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’ã€‚å¦‚æœè®¾ç½®ä¸ºnoneçš„è¯ï¼Œåˆ™ä¸ä½¿ç”¨æ²™ç®±ç¯å¢ƒï¼Œè„šæœ¬ä¼šç›´æ¥è¿è¡Œåœ¨ç½‘é¡µçš„ç¯å¢ƒä¸­ï¼Œè¿™æ—¶å€™æ— æ³•ä½¿ç”¨å¤§éƒ¨åˆ†æ²¹çŒ´æ‰©å±•çš„APIã€‚å¦‚æœä¸æŒ‡å®šçš„è¯ï¼Œæ²¹çŒ´ä¼šé»˜è®¤æ·»åŠ å‡ ä¸ªæœ€å¸¸ç”¨çš„API require å¦‚æœè„šæœ¬ä¾èµ–å…¶ä»–jsåº“çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨requireæŒ‡ä»¤ï¼Œåœ¨è¿è¡Œè„šæœ¬ä¹‹å‰å…ˆåŠ è½½å…¶ä»–åº“ï¼Œå¸¸è§ç”¨æ³•æ˜¯åŠ è½½jquery connect å½“ç”¨æˆ·ä½¿ç”¨GM_xmlhttpRequestè¯·æ±‚è¿œç¨‹æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨connectæŒ‡å®šå…è®¸è®¿é—®çš„åŸŸåï¼Œæ”¯æŒåŸŸåã€å­åŸŸåã€IPåœ°å€ä»¥åŠ*é€šé…ç¬¦ updateURL è„šæœ¬æ›´æ–°ç½‘å€ï¼Œå½“æ²¹çŒ´æ‰©å±•æ£€æŸ¥æ›´æ–°çš„æ—¶å€™ï¼Œä¼šå°è¯•ä»è¿™ä¸ªç½‘å€ä¸‹è½½è„šæœ¬ï¼Œç„¶åæ¯”å¯¹ç‰ˆæœ¬å·ç¡®è®¤æ˜¯å¦æ›´æ–° grantä¸­å‡ ä¸ªå¸¸ç”¨çš„æƒé™ï¼š 123// @grant GM_setValue// @grant GM_getValue// @grant GM_setClipboard æ³¨æ„ï¼Œ matchå†™æ³•ç”±äºæ”¯æŒé€šé…ç¬¦ï¼Œå¯ä»¥å†™çš„é€šç”¨äº›: 12// @match *://10.10.244.11/a70.htm*// @match *://p.njupt.edu.cn/a70.htm* è„šæœ¬æƒé™ ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹grantæŒ‡ä»¤é‚£é‡Œå¯ä»¥å¡«å†™çš„ä¸€äº›æƒé™ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹æ²¹çŒ´è„šæœ¬æ–‡æ¡£ã€‚è¿™é‡Œå°±ç®€å•ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„ï¼Œå¯ä»¥è°ƒç”¨çš„å‡½æ•°å…¨éƒ¨ä»¥GM_ä½œä¸ºå¼€å¤´ã€‚ æƒé™å åŠŸèƒ½ unsafeWindow å…è®¸è„šæœ¬å¯ä»¥å®Œæ•´è®¿é—®åŸå§‹é¡µé¢ï¼ŒåŒ…æ‹¬åŸå§‹é¡µé¢çš„è„šæœ¬å’Œå˜é‡ã€‚ GM_getValue(name,defaultValue) ä»æ²¹çŒ´æ‰©å±•çš„å­˜å‚¨ä¸­è®¿é—®æ•°æ®ã€‚å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œåœ¨æ²¡æˆåŠŸè·å–åˆ°æ•°æ®çš„æ—¶å€™å½“åšåˆå§‹å€¼ã€‚å¦‚æœä¿å­˜çš„æ˜¯æ—¥æœŸç­‰ç±»å‹çš„è¯ï¼Œå–å‡ºæ¥çš„æ•°æ®ä¼šå˜æˆæ–‡æœ¬ï¼Œéœ€è¦è‡ªå·±è½¬æ¢ä¸€ä¸‹ã€‚ GM_setValue(name,value) å°†æ•°æ®ä¿å­˜åˆ°å­˜å‚¨ä¸­ GM_xmlhttpRequest(details) å¼‚æ­¥è®¿é—®ç½‘é¡µæ•°æ®çš„APIï¼Œè¿™ä¸ªæ–¹æ³•æ¯”è¾ƒå¤æ‚ï¼Œæœ‰å¤§é‡å‚æ•°å’Œå›è°ƒï¼Œè¯¦æƒ…è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ GM_setClipboard(data, info) å°†æ•°æ®å¤åˆ¶åˆ°å‰ªè´´æ¿ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦å¤åˆ¶çš„æ•°æ®ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯MIMEç±»å‹ï¼Œç”¨äºæŒ‡å®šå¤åˆ¶çš„æ•°æ®ç±»å‹ã€‚ GM_log(message) å°†æ—¥å¿—æ‰“å°åˆ°æ§åˆ¶å°ä¸­ï¼Œå¯ä»¥ä½¿ç”¨F12å¼€å‘è€…å·¥å…·æŸ¥çœ‹ã€‚ GM_addStyle(css) åƒç½‘é¡µä¸­æ·»åŠ è‡ªå·±çš„æ ·å¼è¡¨ã€‚ GM_notification(details, ondone), GM_notification(text, title, image, onclick) è®¾ç½®ç½‘é¡µé€šçŸ¥ï¼Œè¯·å‚è€ƒæ–‡æ¡£è·å–ç”¨æ³•ã€‚ GM_openInTab(url, loadInBackground) åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ç½‘é¡µï¼Œå¯ä»¥è®¾ç½®æ˜¯å¦åœ¨åå°æ‰“å¼€ç­‰å‡ ä¸ªé€‰é¡¹ è¿˜æœ‰ä¸€äº›APIæ²¡æœ‰ä»‹ç»ï¼Œè¯·å¤§å®¶ç›´æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å§ã€‚ GM_xmlhttpRequest DEMOï¼š 1234567891011121314151617181920212223GM_xmlhttpRequest(&#123; method: \"POST\", url: url, headers: &#123; \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\" &#125;, data: form_data, onload: function(response) &#123; console.log(\"è¯·æ±‚æˆåŠŸ\"); let success = \"è®¤è¯æˆåŠŸé¡µ\"; let resp = response.responseText; let flag = resp.indexOf(success); if (flag === -1) &#123; do_login_old(username, password); &#125; else &#123; //alert(\"ç™»å½•æˆåŠŸ\"); window.location.href = \"https://cn.bing.com/\"; //é¿å…é‡å¤ç™»å½•å¯¼è‡´ç¬é—´ä¸‰ä¸ªè®¾å¤‡åŒæ—¶ç™»å½•çš„çŠ¶æ€ &#125; &#125;, onerror: function(response) &#123; do_login_old(username, password); &#125;&#125;); MyCode æˆ‘çš„ç¬¬ä¸€ä¸ªè„šæœ¬ï¼Œç®€ç®€å•å•æ‰“å¼€è‡ªå·±çš„ä¸ªäººåšå®¢å§ï¼Œä¿®æ”¹å¦‚ä¸‹ 123&gt; // @match https://www.baidu.com&gt; // @grant GM_openInTab&gt; 123&gt; const URL = \"https://nymrli.top\";&gt; GM_openInTab(URL, true)&gt; è®¿é—®ç™¾åº¦çš„æ—¶å€™å°±ä¼šåœ¨å½“å‰sessionä¸­æ‰“å¼€æˆ‘çš„ä¸ªäººåšå®¢äº†ï¼Œ(URL, true)ä¸ä¼šåˆ‡æ¢åˆ°URLä¸Š 123456789101112131415161718// ==UserScript==// @name New Userscript// @namespace http://tampermonkey.net/// @version 0.1// @description try to take over the world!// @author Mrli// @match https://www.baidu.com// @grant GM_openInTab// ==/UserScript==(function() &#123; 'use strict'; const URL = \"https://nymrli.top\"; GM_openInTab(URL, true); // æ‰“å¼€URLåå½“å‰tabä¸å˜; falseä¼šåˆ‡æ¢å½“å‰tabä¸ºURLé¡µé¢ // GM_openInTab(URL, &#123;incognito :true &#125;); optionsä¸­è²Œä¼¼æœ‰æœ‰é™çº§, åŠ äº†incognitoå,insertä¼šå¤±æ•ˆ // Your code here...&#125;)(); Bilibiliå€é€Ÿ 123456789101112131415161718192021222324252627282930// ==UserScript==// @name BilibiliFast// @namespace http://tampermonkey.net/// @version 0.1// @description try to take over the world!// @author You// @match https://www.bilibili.com/video/*// @require https://code.jquery.com/jquery-2.1.4.min.js// @grant none// ==/UserScript==(function() &#123; 'use strict'; // Your code here... console.log(\"å¯¼å…¥æˆåŠŸ\"); $(\"body\").append(`&lt;div id='video_set' style=\"position:fixed; right:10px; top:10px; z-index:9999; background:red\"&gt; &lt;input id=\"setPlay\" value=1 type=\"number\" style=\"padding:10px;\"&gt; &lt;/div&gt;` ); // $(document).append()ä¼šæŠ¥é”™Cannot read property 'createDocumentFragment' of undefined $(document).on(\"change\", \"#video_set #setPlay\", function()&#123; console.log(this.value); if(this.value &lt;= 16)&#123; document.querySelector('video').playbackRate=this.value; &#125;else&#123; alert(\"æœ€å¤§ä¸º16\") &#125; &#125;);&#125;)(); å­¦ä¹ baidupanæºç  å­¦åˆ°æ–°ä¸œè¥¿ï¼šSweetAlert2 æ¼‚äº®å¯å®šåˆ¶çš„ JavaScript å¼¹çª— 123456789101112131415161718// @require https://cdn.jsdelivr.net/npm/sweetalert2@9// åŸºç¡€è¯­æ³•ï¼šSwal.fire(&#123; title: \"æ˜¯å¦åˆ é™¤\", text: \"æ˜¯å¦åˆ é™¤ï¼Ÿä¸€æ—¦æäº¤ï¼Œæ— æ³•æ¢å¤ï¼\", icon: \"warning\", showCancelButton: true, confirmButtonColor: \"#DD6B55\", confirmButtonText: \"ç¡®å®š\", cancelButtonText: \"å–æ¶ˆ\"&#125;).then((isConfirm) =&gt;&#123; // æ˜¯å¦æˆåŠŸåœ¨thené‡Œé¢ç”¨ifåˆ¤æ–­ if (isConfirm.value) &#123; Swal.fire(\"åˆ é™¤æˆåŠŸ\", \"æˆåŠŸ\", \"success\"); &#125;else&#123; Swal.fire(\"å–æ¶ˆæ“ä½œ\", \"ç‚¹å‡»äº†å–æ¶ˆ\", \"error\"); &#125;&#125;); æ¥æºäºcheckVersion 12345678910111213141516171819202122232425262728293031323334353637383940414243444546function checkUpdate() &#123; setValue('up',0) GM_xmlhttpRequest(&#123; method: \"GET\", url: `https://api.baiduyun.wiki/update?ver=$&#123;version&#125;`, responseType: 'json', onload: function (r) &#123; let res = r.response setValue('lastest_version', res.version) userAgent = res.ua ids = res.ids if (res.vcode === 200 &amp;&amp; compareVersion(res.version,version)) &#123; setValue('up',1) &#125; if (res.scode != getValue('scode')) &#123; let dom = $('&lt;div&gt;&lt;img style=\"width: 250px;margin-bottom: 10px;\" src=\"https://img.tool22.com/image/5f365d403c89f.jpg\"&gt;&lt;input class=\"swal2-input\" id=\"scode\" type=\"text\" placeholder=\"è¯·è¾“å…¥æš—å·ï¼Œå¯æ‰«æä¸Šæ–¹äºŒç»´ç å…è´¹è·å–!\"&gt;&lt;/div&gt;') Swal.fire(&#123; title: \"åˆæ¬¡ä½¿ç”¨è¯·è¾“å…¥æš—å·\", html: dom[0], allowOutsideClick: false, confirmButtonText: 'ç¡®å®š' &#125;).then((result) =&gt; &#123; if (res.scode == $('#scode').val()) &#123; setValue('scode', res.scode) setValue('init', 1) Toast.fire(&#123; icon: 'success', text: 'æš—å·æ­£ç¡®ï¼Œæ­£åœ¨åˆå§‹åŒ–ä¸­ã€‚ã€‚ã€‚', &#125;).then(() =&gt; &#123; history.go(0)// go() æ–¹æ³•å¯åŠ è½½å†å²åˆ—è¡¨ä¸­çš„æŸä¸ªå…·ä½“çš„é¡µé¢ã€‚ï¼ˆ-1ä¸Šä¸€ä¸ªé¡µé¢ï¼Œ1å‰è¿›ä¸€ä¸ªé¡µé¢, 0å°±æ˜¯å½“å‰é¡µé¢) &#125;) &#125; else &#123; setValue('init', 0) Swal.fire(&#123; title: \"ğŸ”ºğŸ”ºğŸ”º\", text: 'æš—å·ä¸æ­£ç¡®ï¼Œè¯·é€šè¿‡å¾®ä¿¡æ‰«ç å…è´¹è·å–', imageUrl: 'https://img.tool22.com/image/5f365d403c89f.jpg', &#125;) &#125; &#125;) &#125; else &#123; loadPanhelper() &#125; &#125; &#125;)&#125; å°†console.logè¾“å‡ºåˆ†ç»„ 12345678function clog(c1, c2, c3) &#123; c1 = c1 ? c1 : '' c2 = c2 ? c2 : '' c3 = c3 ? c3 : '' console.group('[ç½‘ç›˜ç›´é“¾ä¸‹è½½åŠ©æ‰‹]') // åˆ†ç»„ console.log(c1, c2, c3) console.groupEnd() // è¦æƒ³å°†å…¶ä»–å†…å®¹æ˜¾ç¤ºåœ¨å¤–é¢å¾—å–æ¶ˆåˆ†ç»„&#125; ç¨‹åºçš„é€»è¾‘ å¼€å§‹: 1234567$(() =&gt; &#123; //é˜»æ­¢åœ¨å…¶ä»–ç½‘ç«™è¿è¡Œ if (hostname.match(/(pan|yun).baidu.com/i)) &#123; let plugin = new PanPlugin() plugin.init() &#125;&#125;) è¿›è¡Œæ£€æŸ¥æ›´æ–°-&gt;åˆ›å»ºèœå• 123456789function PanPlugin() &#123; clog('RPCï¼š', ariaRPC) this.init = () =&gt; &#123; main() addGMStyle() checkUpdate() if (getValue('SETTING_H')) createHelp() createMenu() &#125; ä¸»è¦çš„åº”ç”¨æ˜¯åœ¨checkUpdateä¸­çš„loadPanhelperå®Œæˆçš„ï¼Œå…¶ä¼šæ ¹æ®å‚æ•°åˆ›å»ºPanHelper(ç½‘ç›˜é¡µé¢çš„ä¸‹è½½åŠ©æ‰‹)æˆ–PanShareHelper(åˆ†äº«é¡µé¢çš„ä¸‹è½½åŠ©æ‰‹)å¯¹è±¡ï¼Œ æ˜¾ç„¶PanHelperå°±æ˜¯æˆ‘ä»¬æœ€æƒ³åˆ†æçš„ PanHelperé€»è¾‘ 12345678910111213141516171819202122function PanHelper() &#123; let yunData, sign, timestamp, bdstoken, logid, fid_list let fileList = [], selectFileList = [], batchLinkList = [], batchLinkListAll = [], linkList = [] let dialog, searchKey let panAPIUrl = location.protocol + \"//\" + location.host + \"/api/\" let restAPIUrl = location.protocol + \"//pcs.baidu.com/rest/2.0/pcs/\" let clientAPIUrl = location.protocol + \"//pan.baidu.com/rest/2.0/\" this.init = () =&gt; &#123; yunData = unsafeWindow.yunData if (yunData === undefined) &#123; clog('åˆå§‹åŒ–ä¿¡æ¯:', yunData) clog('é¡µé¢æœªæ­£å¸¸åŠ è½½ï¼Œæˆ–è€…ç™¾åº¦å·²ç»æ›´æ–°ï¼') return false &#125; initVar() registerEventListener() addButton() createIframe() dialog = new Dialog(&#123;addCopy: true&#125;) clog('ä¸‹è½½åŠ©æ‰‹åŠ è½½æˆåŠŸï¼å½“å‰ç‰ˆæœ¬ï¼š', version) &#125; æœ€æ ¸å¿ƒçš„é€»è¾‘ï¼š 1234567891011121314151617181920212223//æˆ‘çš„ç½‘ç›˜ - è·å–PCSä¸‹è½½åœ°å€function getPCSBatchLink(callback) &#123; let fsids = [] $.each(selectFileList, (index, element) =&gt; &#123; if (element.isdir == 1) return fsids.push(element.fs_id) &#125;) fsids = encodeURIComponent(JSON.stringify(fsids)) let link = clientAPIUrl + `xpan/multimedia?method=filemetas&amp;access_token=undefined&amp;fsids=$&#123;fsids&#125;&amp;dlink=1` GM_xmlhttpRequest(&#123; method: \"GET\", responseType: 'json', headers: &#123;\"User-Agent\": userAgent&#125;, url: link, onload: (res) =&gt; &#123; let response = res.response if (response.errno === 0) &#123; callback(response.list) &#125; &#125; &#125;)&#125; é™„å½• å®˜æ–¹æ–‡æ¡£ Tampermonkeyæ²¹çŒ´ç”¨æˆ·è„šæœ¬APIæ–‡æ¡£-æ•™ç¨‹ è„šæœ¬debugå»ºè®® jqueryä½¿ç”¨ è¸©äº†å‡ å¤©å‘ï¼Œæœ€åæ€»ç»“ä¸€ä¸‹ç¼–å†™æ²¹çŒ´è„šæœ¬çš„ä¸€ç‚¹æ­¥éª¤ã€‚é¦–å…ˆè¦æ€è€ƒè„šæœ¬çš„å®ç°æ–¹å¼ï¼Œéœ€è¦ç”¨åˆ°ä»€ä¹ˆAPIå’Œæƒé™ï¼Œç„¶åå¡«å†™å¥½è„šæœ¬çš„æ³¨é‡Šä¿¡æ¯ã€‚ ç„¶åå°†åŠŸèƒ½å°è£…æˆå‡½æ•°çš„å½¢å¼ï¼Œæœ€ååœ¨è„šæœ¬æœ«å°¾è°ƒç”¨å®ç°çš„å‡½æ•°ã€‚å†™çš„å·®ä¸å¤šçš„æ—¶å€™å¤åˆ¶åˆ°æµè§ˆå™¨ä¸­å°è¯•è¿è¡Œã€‚ é‡åˆ°å›°éš¾çš„æ—¶å€™ï¼Œå¯èƒ½éœ€è¦ç›´æ¥åœ¨F12å¼€å‘è€…å·¥å…·é‡Œè¿›è¡Œè°ƒè¯•ã€‚æœ‰äº›ç½‘é¡µä¸ç”¨jQueryï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å°†jQueryå¯¼å…¥åˆ°é¡µé¢ä¸­ï¼Œå¯ä»¥å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°æµè§ˆå™¨æ§åˆ¶å°ä¸­ã€‚ 123var jq = document.createElement('script');jq.src = \"https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js\";document.getElementsByTagName('head')[0].appendChild(jq); debugæ–¹æ³•ï¼š ç¬¬ä¸€ç§æ–¹æ³•å°±æ˜¯æœ€åŸå§‹çš„æ‰“å°æ—¥å¿—ï¼Œå¯ä»¥åˆ©ç”¨console.logå’ŒGM_logæ¥å°†å…³é”®ä¿¡æ¯æ‰“å°å‡ºæ¥ï¼Œä¸Šé¢çš„è„šæœ¬å°±æ˜¯æˆ‘é æ‰“å°æ—¥å¿—ä¸€ç‚¹ç‚¹å‘ç°å„ç§å‚æ•°é”™è¯¯çš„ã€‚è¯´å®è¯è¿™ç§åŠæ³•æœ‰ç‚¹ç¬¨ã€‚ ç¬¬äºŒç§å°±æ˜¯åˆ©ç”¨æµè§ˆå™¨çš„è°ƒè¯•åŠŸèƒ½(æ¨è)ï¼Œåœ¨è„šæœ¬éœ€è¦è°ƒè¯•çš„åœ°æ–¹æ’å…¥debugger;è¯­å¥ï¼Œç„¶ååœ¨æ‰“å¼€F12å¼€å‘è€…å·¥å…·çš„æƒ…å†µä¸‹åˆ·æ–°é¡µé¢ï¼Œå°±ä¼šå‘ç°ç½‘é¡µå·²ç»æš‚åœåœ¨ç›¸åº”ä½ç½®ä¸Šã€‚è¿™æ ·å°±å¯ä»¥åˆ©ç”¨F12å¼€å‘è€…å·¥å…·è¿›è¡Œå•æ­¥è°ƒè¯•ã€ç›‘è§†å˜é‡ç­‰æ“ä½œäº†ã€‚ å°†æ–‡ç« åŒæ­¥å¤åˆ¶åˆ°Csdnå’Œæ€å¦ç¼–è¾‘å™¨çš„è„šæœ¬demoï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104// ==UserScript==// @name copy_jianshu_to_csdn_and_segmentfault// @namespace https://github.com/techstay/myscripts// @version 0.1// @description å°†ç®€ä¹¦æ–‡ç« å¤åˆ¶åˆ°csdnå’Œæ€å¦ç¼–è¾‘å™¨ä¸­// @author techstay// @match https://editor.csdn.net/md/// @match https://segmentfault.com/write// @match https://www.jianshu.com/writer*// @require https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js// @require https://cdn.bootcss.com/jqueryui/1.12.1/jquery-ui.min.js// @grant GM_setValue// @grant GM_getValue// @grant GM_deleteValue// @grant unsafeWindow// @grant GM_setClipboard// @grant window.close// @grant window.focus// @grant GM_openInTab// ==/UserScript==(function () &#123; 'use strict'; const SF_URL = 'https://segmentfault.com/write' const CSDN_URL = 'https://editor.csdn.net/md/' const SF_TITLE = 'sf_title' const SF_CONTENT = 'sf_content' const CSDN_TITLE = 'csdn_title' const CSDN_CONTENT = 'csdn_content' function saveArticle() &#123; GM_setValue(CSDN_TITLE, $('._24i7u').val()) GM_setValue(CSDN_CONTENT, $('#arthur-editor').val()) GM_setValue(SF_TITLE, $('._24i7u').val()) GM_setValue(SF_CONTENT, $('#arthur-editor').val()) &#125; function copyToCsdn() &#123; var title = GM_getValue(CSDN_TITLE, '') var content = GM_getValue(CSDN_CONTENT, '') if (title != '' &amp;&amp; content != '') &#123; $('.article-bar__title').delay(2000).queue(function () &#123; $('.article-bar__title').val(title) $('.editor__inner').text(content) GM_deleteValue(CSDN_TITLE) GM_deleteValue(CSDN_CONTENT) $(this).dequeue() &#125;) &#125; &#125; function copyToSegmentFault() &#123; $(document).ready(function () &#123; var title = GM_getValue(SF_TITLE, '') var content = GM_getValue(SF_CONTENT, '') if (title != '' &amp;&amp; content != '') &#123; $('#title').delay(2000).queue(function () &#123; $('#title').val(title) GM_setClipboard(content, 'text') GM_deleteValue(SF_TITLE) GM_deleteValue(SF_CONTENT) $(this).dequeue() &#125;) &#125; &#125;) &#125; function addCopyButton() &#123; $('body').append('&lt;div id=\"copyToCS\"&gt;åŒå‡»å¤åˆ¶åˆ°CSDNå’Œæ€å¦&lt;/div&gt;') $('#copyToCS').css('width', '200px') $('#copyToCS').css('position', 'absolute') $('#copyToCS').css('top', '70px') $('#copyToCS').css('left', '350px') $('#copyToCS').css('background-color', '#28a745') $('#copyToCS').css('color', 'white') $('#copyToCS').css('font-size', 'large') $('#copyToCS').css('z-index', 100) $('#copyToCS').css('border-radius', '25px') $('#copyToCS').css('text-align', 'center') $('#copyToCS').dblclick(function () &#123; saveArticle() GM_openInTab(SF_URL, true) GM_openInTab(CSDN_URL, true) // GM_openInTab(url, options)åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€URLã€‚optionså¯é€‰çš„å€¼ï¼š // active ï¼šæ–°æ ‡ç­¾é¡µè·å¾—ç„¦ç‚¹; insertï¼šæ–°æ ‡ç­¾é¡µåœ¨å½“å‰é¡µé¢ä¹‹åæ·»åŠ ; setParentï¼šå½“æ–°æ ‡ç­¾é¡µå…³é—­åï¼Œç„¦ç‚¹ç»™å›å½“å‰é¡µé¢ ; incognito: æ–°æ ‡ç­¾é¡µåœ¨éšèº«æ¨¡å¼æˆ–ç§æœ‰æ¨¡å¼çª—å£æ‰“å¼€. // optionså¯ä»¥å†™æˆ&#123; active: true, insert: true, setParent :true &#125; // GM_openInTab(url, loadInBackground)ï¼šloadInBackground å¯ä»¥æ˜¯ Boolean ç±»å‹ï¼Œå¦‚æœæ˜¯ trueï¼Œåˆ™å½“å‰ tab ä¸å˜ï¼Œå¦‚æœæ˜¯ falseï¼Œåˆ™å½“å‰ tab å˜ä¸ºæ–°æ‰“å¼€çš„ tab. å½“å‰tabå°±æ˜¯å½“å‰æ ‡ç­¾é¡µ(æ˜¾ç¤ºçš„é¡µé¢) &#125;) $('#copyToCS').draggable() &#125; $(document).ready(function () &#123; if (window.location.href.startsWith('https://www.jianshu.com')) &#123; addCopyButton() &#125; else if (window.location.href.startsWith(SF_URL)) &#123; copyToSegmentFault() &#125; else if (window.location.href.startsWith(CSDN_URL)) &#123; copyToCsdn() &#125; &#125;)&#125;)() â–²æ¨èï¼šæ²¹çŒ´è„šæœ¬ç¼–å†™æ•™ç¨‹","categories":[],"tags":[]},{"title":"æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜3â€”â€”AIforOthello","slug":"æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜1â€”â€”AIforOthello","date":"2020-12-01T04:02:33.000Z","updated":"2020-12-11T03:17:16.417Z","comments":true,"path":"2020/12/01/æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜1â€”â€”AIforOthello/","link":"","permalink":"https://nymrli.top/2020/12/01/æµ™å¤§2020æ˜¥å¤-äººå·¥æ™ºèƒ½ä¹ é¢˜1â€”â€”AIforOthello/","excerpt":"","text":"something about Othello é»‘ç™½æ£‹è§„åˆ™ ä¼ ç»Ÿçš„é»‘ç™½æ£‹æ£‹ç›˜ç”± 8 x 8 æ–¹æ ¼ç»„æˆã€‚å¼€å±€æ—¶ï¼Œæ£‹ç›˜ä¸­å¤®çš„4æ ¼å…ˆç½®é»‘ç™½ç›¸é—´çš„4é¢—æ£‹å­ (è¯¦è§ä¸‹å›¾)ï¼Œå¹¶ç”±é»‘å­å…ˆè¡Œã€‚ é¦–æ­¥ç”±é»‘å­å…ˆä¸‹ï¼›ä¸‹å­æ—¶ï¼›æ–°å­å¿…é¡»ä¸æ£‹ç›˜ä¸Šä»»ä¸€å·±æ–¹æ£‹å­å½¢æˆä¸€æ¡æˆ–å¤šæ¡ (æ¨ªã€ç«–ã€æ–œ) ç›´çº¿ï¼Œå¹¶å¤¹ç€å¯¹æ–¹æ£‹å­ï¼›ç”±æ–°å­åŠæ—§å­è¿æˆçš„ç›´çº¿ä¹‹é—´ï¼Œå¿…é¡»å­˜æœ‰ä¸€é¢—æˆ–ä»¥ä¸Šå¯¹æ–¹çš„æ£‹å­ã€‚å¦‚å›¾ï¼Œé»‘å­å¼€å±€æ—¶ä¹‹å¯è¡Œæ£‹æ­¥æœ‰ä»¥ä¸‹4æ ¼: åŒæ–¹äº¤æ›¿ä¸‹å­ï¼›å€˜è‹¥ä»»ä½•ä¸€æ–¹æ²¡æœ‰æ£‹æ­¥å¯è¡Œï¼Œåˆ™å…¶å¿…é¡»å°†ä¸‹å­æƒåˆ©ç›¸è®¤äºˆå¯¹æ‰‹ï¼›å¦åœ¨åŒæ–¹å‡æ— å­å¯ä¸‹çš„æƒ…å†µä¸‹ï¼Œæ¸¸æˆè‡ªåŠ¨ç»“æŸã€‚ æ¸¸æˆç»“æŸåï¼Œæ‹¥å­è¾ƒå¤šä¸€æ–¹ä¸ºèƒœï¼›å€˜è‹¥åŒæ–¹æ£‹æ•°ç›¸åŒçš„ï¼Œåˆ™ä¸ºå’Œå±€ã€‚ é»‘ç™½æ£‹åŸºæœ¬ç­–ç•¥ å è§’å­åŠå›ºå®šå­ æŒ‰ç…§é»‘ç™½æ£‹çš„ç©æ³•ï¼Œå…¶ä¸­ä¸€å­è½åœ¨ä½”è§’å¤„çš„ï¼Œè¯¥æ£‹å­å°†æ— æ³•å†è¢«ç¿»è½¬ã€‚ å±é™©æ–¹å— åœ¨æ£‹ç›˜ä¸Šï¼Œæ£‹å­ä¸‹åœ¨æŸäº›æ–¹å—ä¸­ï¼Œæ¯”èµ·å…¶å®ƒä¸‹å­ä½ç½®æ›´ä¸ºå®‰å…¨ã€‚æ¡£æ¸¸æˆå¼€å§‹ï¼Œä¸€èˆ¬å»ºè®®å°½é‡å°†æ£‹å­ä¸‹äºæ£‹ç›˜ 4 x 4æ ¼çš„ä¸­å¿ƒèŒƒå›´å†… (ä¸‹å›¾ä»¥åŠé€æ˜ç™½å­æ˜¾ç¤º)ï¼›ä¸”åº”é¿å…å°†æ£‹å­ä¸‹äºé è¿‘è¾¹è§’çš„æ–¹å—å†…(ä¸‹å›¾ä»¥åŠé€æ˜é»‘å­æ˜¾ç¤º)ï¼Œæ£‹å­è½äºé è¿‘è¾¹è§’çš„æ–¹å—ä¸­ï¼Œä¼šè®©å¯¹æ‰‹æ›´å®¹æ˜“å æ®è¾¹è§’ç›¸é‚»çš„ä½ç½®ã€‚ è¡ŒåŠ¨åŠ› åˆå­¦è€…çš„æ™®éé”™è¯¯ä¸€èˆ¬åœ¨å¼€ç›˜åä¸æ–­å å­ï¼Œä½†åœ¨é»‘ç™½æ£‹ä¸­è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç­–ç•¥ã€‚è¾ƒå¥½çš„ç­–ç•¥ä¸ºä¸“æ³¨äºé™åˆ¶å¯¹æ–¹çš„è½å­é€‰é¡¹ï¼Œè€Œäº¤æ˜“è¿›å…¥è¿™ç§ç­–ç•¥çš„æ–¹æ³•ä¸ºå å°‘å­ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œç™½å­è™½ç„¶åªæœ‰ä¸€é¢—æ£‹å­ï¼Œä½†å…¶å¯è½»è€Œæ˜“å…·çš„åœ¨4æ­¥å†…èµ¢å¾—æ•´ç›˜æ£‹ã€‚ from : https://www.eothello.com/ è¾ƒä¸ºå¼ºæ‚çš„othello AI: https://playpager.com/play-reversi/index.html AI for Othello Coding search before Codingï¼š Unispac/Alpha-Othelloâ€”â€”æµ™å¤§å­¦é•¿çš„ï¼ˆé›†æˆäº†å¾ˆå¤šAgentï¼‰ YuMu0/ReversiAIâ€”â€”åšå¼ˆæ ‘ã€Î±-Î²å‰ªæï¼ˆæœ‰UIï¼›å•æ–‡ä»¶ï¼Œç»“æ„æœ‰ç‚¹å·®ï¼‰ 1011497938/Othelloâ€”â€”MCTSã€Q-learningï¼ˆåœ¨æµ™å¤§å­¦é•¿çš„åŸºç¡€ä¸Šå¢åŠ äº†å‡ ç±»agentï¼‰ im0qianqian/Reversi-based-RLâ€”â€”æ¯•è®¾ï¼Œæ–‡æ¡£è¯´æ˜ï¼šhttps://www.dreamwings.cn/reversi/3013.html faded53222/Othelloâ€”â€”Bç«™ç”¨æˆ· MyCode éƒ¨åˆ†å€Ÿé‰´äº†tic-tac-toeäº•å­—æ£‹MCTSçš„ä»£ç æ¡†æ¶ MSCT-targetï¼š Startï¼šä»å¯è¡Œä½ç½®è¿›è¡Œæ ‘æ¢ç´¢ -&gt; Endï¼šä¸€ä¸ªä»·å€¼æ¯”è¾ƒé«˜çš„action ä»£ç ä¸­å®¹æ˜“å¿˜è®°çš„æ˜¯ï¼Œæ‰€æœ‰çš„boardåœ¨rolloutçš„æ—¶å€™éƒ½åº”è¯¥ä¿å­˜çš„ä¸´æ—¶å˜é‡ï¼Œå³ç¡®ä¿nodeçš„self.boardæ˜¯ä¸å˜çš„ï¼›boardè®¾è®¡çš„æ—¶å€™ï¼Œä¸è¦é™å®šæ­»colorï¼ˆmoveï¼‰ï¼Œè¿™æ ·å¯é€‰æ‹©æ€§æ›´å¥½ è™½ç„¶åŠ ä¸Šäº†cornerï¼Œä½†æ˜¯å¯¹ç«™ä¸­çº§è¿˜æ˜¯èµ¢å°‘è¾“å¤šï¼Œ çœ‹äº†ä¸‹æ¯”èµ›æ£‹ç›˜ï¼Œå‘ç°å¯¹cornerçš„é™åˆ¶å¹¶ä¸å¥æ•ˆï¼Œå¸Œæœ›èƒ½æ‰¾åˆ°æ›´å¥½çš„æ–¹æ³•å§ã€‚ æˆ˜åŠ› basic åˆçº§WIN ä¸­çº§LOSSï¼š åŠ ä¸Šcornerï¼š ä¸­çº§tie ä¸­çº§WIN é«˜çº§ï¼š æ—¶é—´å®‰æ’ 2020/12/2 ä¸Šç½‘å†²æµªï¼Œæœé›†ç›¸å…³èµ„æ–™ï¼Œçœ‹äº†Unispac/**Alpha-Othello**çš„è®¾è®¡æŠ¥å‘Šã€‚ 2020/12/4 ç»“åˆä»£ç å’Œ[è§†é¢‘](AIå¦‚ä½•ä¸‹æ£‹ï¼Ÿç›´è§‚äº†è§£è’™ç‰¹å¡æ´›æ ‘æœç´¢MCTSï¼ï¼ï¼ç†äº†éMCTSçš„åŸç†ï¼Œ åˆ—å‡ºäº†å¤§è‡´çš„æ¡†æ¶ï¼Œ æ˜å¤©å¼€å§‹ç¼–å†™é€»è¾‘ä»£ç ã€‚","categories":[],"tags":[{"name":"ZJU","slug":"ZJU","permalink":"https://nymrli.top/tags/ZJU/"},{"name":"ML","slug":"ML","permalink":"https://nymrli.top/tags/ML/"}]},{"title":"fork curlconverter for Better","slug":"fork-curlconverter-for-Better","date":"2020-12-01T02:43:34.000Z","updated":"2020-12-01T04:00:56.428Z","comments":true,"path":"2020/12/01/fork-curlconverter-for-Better/","link":"","permalink":"https://nymrli.top/2020/12/01/fork-curlconverter-for-Better/","excerpt":"","text":"ç»ˆäº12æœˆäº†ï¼Œåˆæ˜¯ä¸€ä¸ªæœˆåˆï¼Œå®šä¸ªflagï¼Œprä¸€ä¸ªGitcode ç”±äºä¹‹å‰å†™Pythonçˆ¬è™«çš„æ—¶å€™ï¼Œä»curlconverterå—æƒ å¾ˆå¤šï¼Œå¹¶ä¸”çœ‹åˆ°issue #22: Add generator for Javaä¸­æœ‰Javaç‰ˆæœ¬çš„éœ€æ±‚è¿˜æœªå®Œæˆï¼Œæ‰€ä»¥ç›®æ ‡å°±æ˜¯å®ŒæˆJAVA for curl curlconverteræä¾›äº†ä¸€ä¸ªç½‘é¡µç‰ˆï¼š https://curl.trillworks.com/ï¼Œ å…¶å®å…¶æœ¬è´¨ä¸Šä¹Ÿæ˜¯ç”¨jså®Œæˆçš„ï¼ŒåŠŸèƒ½å¦‚READMEä¸­æ‰€å†™ï¼š README Install 1$ npm install --save curlconverter Usage 123var curlconverter = require('curlconverter');curlconverter.toPython(\"curl 'http://en.wikipedia.org/' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8' -H 'Referer: http://www.wikipedia.org/' -H 'Cookie: GeoIP=US:Albuquerque:35.1241:-106.7675:v4; uls-previous-languages=%5B%22en%22%5D; mediaWiki.user.sessionId=VaHaeVW3m0ymvx9kacwshZIDkv8zgF9y; centralnotice_buckets_by_campaign=%7B%22C14_enUS_dsk_lw_FR%22%3A%7B%22val%22%3A%220%22%2C%22start%22%3A1412172000%2C%22end%22%3A1422576000%7D%2C%22C14_en5C_dec_dsk_FR%22%3A%7B%22val%22%3A3%2C%22start%22%3A1417514400%2C%22end%22%3A1425290400%7D%2C%22C14_en5C_bkup_dsk_FR%22%3A%7B%22val%22%3A1%2C%22start%22%3A1417428000%2C%22end%22%3A1425290400%7D%7D; centralnotice_bannercount_fr12=22; centralnotice_bannercount_fr12-wait=14' -H 'Connection: keep-alive' --compressed\"); Returns a string of Python code like: 123456789101112131415161718192021import requestscookies = &#123; 'GeoIP': 'US:Albuquerque:35.1241:-106.7675:v4', 'uls-previous-languages': '%5B%22en%22%5D', 'mediaWiki.user.sessionId': 'VaHaeVW3m0ymvx9kacwshZIDkv8zgF9y', 'centralnotice_buckets_by_campaign': '%7B%22C14_enUS_dsk_lw_FR%22%3A%7B%22val%22%3A%220%22%2C%22start%22%3A1412172000%2C%22end%22%3A1422576000%7D%2C%22C14_en5C_dec_dsk_FR%22%3A%7B%22val%22%3A3%2C%22start%22%3A1417514400%2C%22end%22%3A1425290400%7D%2C%22C14_en5C_bkup_dsk_FR%22%3A%7B%22val%22%3A1%2C%22start%22%3A1417428000%2C%22end%22%3A1425290400%7D%7D', 'centralnotice_bannercount_fr12': '22', 'centralnotice_bannercount_fr12-wait': '14',&#125;headers = &#123; 'Accept-Encoding': 'gzip, deflate, sdch', 'Accept-Language': 'en-US,en;q=0.8', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'Referer': 'http://www.wikipedia.org/', 'Connection': 'keep-alive',&#125;response = requests.get('http://en.wikipedia.org/', headers=headers, cookies=cookies) æƒ³è¦å‚åŠ å¼€å‘ï¼Œæœ€é‡è¦çš„å°±æ˜¯çœ‹æ¸…masteræå‡ºçš„contributingè¦æ±‚ï¼š Contributing Iâ€™d rather write programs to write programs than write programs. Dick Sites, Digital Equipment Corporation, September 1985 Make sure youâ€™re running node 12 or greater. The test suite will fail on older versions of node. If you add a new generator, make sure to update the list of supported languages in cli.js or else it wonâ€™t be accessible from the command line. Further, youâ€™ll want to update test.js and index.js for your new generator to make it part of the testing. If you want to add new functionality, start with a test. Create a file containing the curl command in fixtures/curl_commands with a descriptive filename like post_with_headers.txt Create a file containing the output in fixtures/python_output/ with a matching filename (but different extension) like post_with_headers.py Run tests with npm test. If your filenames match correctly, you should see one failing test. Fix it by modifying the parser in util.js or the generators in generators/ The parser generates a generic data structure consumed by code generator functions. You can run a specific test with this command: 1node test.js --test=test_name where â€œtest_nameâ€ is a file (without extension) in fixtures/curl_commands You can run a specific test with this command: 1node test.js --language=R I recommend setting this up with a debugger so you can see exactly what the parser is passing to the generator. Hereâ€™s my Intellij run configuration for a single test: Before submitting a PR, please check that your JS code conforms to the code style enforced by standardjs. Use the following to fix your code if it doesnâ€™t: 1$ standard --fix my_file.js If you get stuck, please reach out via email. I am always willing to hop on a google hangout and pair program. ç¿»è¯‘ï¼š ç›¸æ¯”å†™ç¨‹åºï¼Œæˆ‘æ›´æ„¿æ„å†™å‡ºèƒ½å†™ç¨‹åºçš„ç¨‹åºã€‚â€”â€”Dick Sites, Digital Equipment Corporation, September 1985 ç¡®ä¿ä½ æ­£åœ¨è¿è¡Œnode 12æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚æµ‹è¯•å¥—ä»¶åœ¨æ—§ç‰ˆæœ¬çš„nodeä¸Šä¼šå¤±è´¥ã€‚ å¦‚æœä½ æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ç”Ÿæˆå™¨ï¼Œè¯·ç¡®ä¿æ›´æ–°cli.jsä¸­çš„æ”¯æŒè¯­è¨€åˆ—è¡¨ï¼Œå¦åˆ™å®ƒå°†æ— æ³•ä»å‘½ä»¤è¡Œè®¿é—®ã€‚æ­¤å¤–ï¼Œä½ è¿˜è¦ä¸ºä½ çš„æ–°ç”Ÿæˆå™¨æ›´æ–°test.jså’Œindex.jsï¼Œä½¿å…¶æˆä¸ºæµ‹è¯•çš„ä¸€éƒ¨åˆ†ã€‚ å¦‚æœæ‚¨æƒ³æ·»åŠ æ–°åŠŸèƒ½ï¼Œè¯·ä»æµ‹è¯•å¼€å§‹ã€‚ åœ¨fixtures/curl_commandsä¸­åˆ›å»ºä¸€ä¸ªåŒ…å«curlå‘½ä»¤çš„æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºpost_with_headers.txtã€‚ åœ¨fixtures/python_output/ä¸­åˆ›å»ºä¸€ä¸ªåŒ…å«è¾“å‡ºçš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªåŒ¹é…çš„æ–‡ä»¶åï¼ˆä½†ä¸åŒçš„æ‰©å±•åï¼‰ï¼Œæ¯”å¦‚post_with_headers.pyã€‚ ç”¨npm testè¿è¡Œæµ‹è¯•ã€‚ å¦‚æœæ‚¨çš„æ–‡ä»¶åæ­£ç¡®åŒ¹é…ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•ã€‚é€šè¿‡ä¿®æ”¹util.jsä¸­çš„è§£æå™¨æˆ–generators/ä¸­çš„ç”Ÿæˆå™¨æ¥è§£å†³ã€‚ è§£æå™¨éœ€è¦ç”Ÿæˆä¸€ä¸ªé€šç”¨æ•°æ®ç»“æ„ç»™ä»£ç ç”Ÿæˆå™¨å‡½æ•°ã€‚ ä½ å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤è¿è¡Œä¸€ä¸ªç‰¹å®šçš„æµ‹è¯•ã€‚node test.js --test=test_nameï¼Œ å…¶ä¸­ &quot;test_name &quot;æ˜¯fixtures/curl_commandsä¸­çš„ä¸€ä¸ªæ–‡ä»¶ï¼ˆæ²¡æœ‰æ‰©å±•åï¼‰ã€‚ ä½ å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤è¿è¡Œä¸€ä¸ªç‰¹å®šçš„æµ‹è¯•ã€‚node test.js --language=Rï¼Œæˆ‘å»ºè®®ç”¨è°ƒè¯•å™¨æ¥è®¾ç½®ï¼Œè¿™æ ·ä½ å°±å¯ä»¥çœ‹åˆ°è§£æå™¨ä¼ é€’ç»™ç”Ÿæˆå™¨çš„å…·ä½“å†…å®¹ã€‚è¿™æ˜¯æˆ‘çš„Intellijè¿è¡Œé…ç½®ï¼Œç”¨äºå•æ¬¡æµ‹è¯•ã€‚ åœ¨æäº¤PRä¹‹å‰ï¼Œè¯·æ£€æŸ¥æ‚¨çš„JSä»£ç æ˜¯å¦ç¬¦åˆstandardjsæ‰§è¡Œçš„ä»£ç é£æ ¼ã€‚å¦‚æœä¸ç¬¦åˆçš„è¯ï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥ä¿®æ­£ä½ çš„ä»£ç ã€‚$ standard --fix my_file.js. å¦‚æœä½ é‡åˆ°å›°éš¾ï¼Œè¯·é€šè¿‡ç”µå­é‚®ä»¶è”ç³»æˆ‘ã€‚æˆ‘æ€»æ˜¯æ„¿æ„è·³ä¸Šgoogleä¸Šçº¿ã€æ ¡éªŒç¨‹åºã€‚ åˆ†æå…¶ä»–contributorçš„PR DainisGorbunovs PRè¯´æ˜ï¼šhttps://github.com/NickCarneiro/curlconverter/pull/154 Thanks / what I found helpfulï¼š å¯ä»¥ä½¿ç”¨nc -l 3000ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µä¸­ curl -X POST http://localhost:3000 --data â€œhello=worldâ€ (æ„Ÿè°¢ @NickCarneiro) å¯ä»¥ä½¿ç”¨Wiresharkæ¥æ£€æŸ¥ï¼ˆæŠ“åŒ…ï¼‰ å¯ä»¥ä½¿ç”¨httpbinæœåŠ¡ï¼ˆç”¨é€”ï¼šä¸ªäººæ„Ÿè§‰æ˜¯å°†curlç»“æœè·Ÿgenerateç»“æœå¯¹æ¯”ï¼‰ commitè¯¦æƒ…ï¼šhttps://github.com/DainisGorbunovs/curlconverter/commit/5cfedbf595177aa912b78f0fde05f15da81f11f9 JAVA for Curl httpåº“é€‰å– åœ¨2016å¹´çš„æ—¶å€™**NickCarneiro**å°±Add generator for Java #22æå‡ºå¢åŠ JAVAç‰ˆæœ¬ï¼Œ ä½†æ— å¥ˆJAVAè¾ƒä¸ºç¹çï¼Œå¹¶ä¸”æ²¡æœ‰åƒPythonçš„requestsä¸€æ ·å¥½ç”¨çš„åº“ï¼Œå› æ­¤ç°åœ¨éƒ½è¿˜æœªæœ‰JAVAç‰ˆæœ¬ Java is super popular and super verbose, making it a good candidate for curlconverter. We need to find out if there is some modern library for sending http requests. Please advise. 1ã€HttpClient HttpClientï¼šä»£ç å¤æ‚ï¼Œè¿˜å¾—æ“å¿ƒèµ„æºå›æ”¶ç­‰ã€‚ä»£ç å¾ˆå¤æ‚ï¼Œå†—ä½™ä»£ç å¤šï¼Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨ã€‚ HttpClientä½¿ç”¨ä»‹ç» ä½¿ç”¨HttpClientå‘é€è¯·æ±‚ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥éª¤ï¼š åˆ›å»º CloseableHttpClientå¯¹è±¡æˆ–CloseableHttpAsyncClientå¯¹è±¡ï¼Œå‰è€…åŒæ­¥ï¼Œåè€…ä¸ºå¼‚æ­¥ åˆ›å»ºHttpè¯·æ±‚å¯¹è±¡ è°ƒç”¨executeæ–¹æ³•æ‰§è¡Œè¯·æ±‚ï¼Œå¦‚æœæ˜¯å¼‚æ­¥è¯·æ±‚åœ¨æ‰§è¡Œä¹‹å‰éœ€è°ƒç”¨startæ–¹æ³• javaåŸç”ŸHttpURLConnection apache HttpClient3.1 apache httpClient4.5 ä¸Šè¿°è§ï¼šjavaå®ç°HTTPè¯·æ±‚çš„ä¸‰ç§æ–¹å¼â€”â€” æœ‰ä»£ç demo 2ã€okhttp okhttpï¼šOkHttpæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„HTTPå®¢æˆ·ç«¯ï¼Œå…è®¸æ‰€æœ‰åŒä¸€ä¸ªä¸»æœºåœ°å€çš„è¯·æ±‚å…±äº«åŒä¸€ä¸ªsocketè¿æ¥ï¼›è¿æ¥æ± å‡å°‘è¯·æ±‚å»¶æ—¶ï¼›é€æ˜çš„GZIPå‹ç¼©å‡å°‘å“åº”æ•°æ®çš„å¤§å°ï¼›ç¼“å­˜å“åº”å†…å®¹ï¼Œé¿å…ä¸€äº›å®Œå…¨é‡å¤çš„è¯·æ±‚ OkHttpä½¿ç”¨ ä½¿ç”¨OkHttpå‘é€è¯·æ±‚ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥éª¤ï¼š åˆ›å»ºOkHttpClientå¯¹è±¡ åˆ›å»ºRequestå¯¹è±¡ å°†Request å¯¹è±¡å°è£…ä¸ºCall é€šè¿‡Call æ¥æ‰§è¡ŒåŒæ­¥æˆ–å¼‚æ­¥è¯·æ±‚ï¼Œè°ƒç”¨executeæ–¹æ³•åŒæ­¥æ‰§è¡Œï¼Œè°ƒç”¨enqueueæ–¹æ³•å¼‚æ­¥æ‰§è¡Œ 3ã€RestTemplate RestTemplateï¼š æ˜¯ Spring æä¾›çš„ç”¨äºè®¿é—®RestæœåŠ¡çš„å®¢æˆ·ç«¯ï¼Œ RestTemplate æä¾›äº†å¤šç§ä¾¿æ·è®¿é—®è¿œç¨‹HttpæœåŠ¡çš„æ–¹æ³•,èƒ½å¤Ÿå¤§å¤§æé«˜å®¢æˆ·ç«¯çš„ç¼–å†™æ•ˆç‡ã€‚ https://www.cnblogs.com/zk-blog/p/12465951.html 4.http-request åœ¨æˆ‘ä»¬æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç»å¸¸å’Œç¬¬ä¸‰æ–¹æ¥å£è¿›è¡Œäº¤äº’é€šä¿¡ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨httpåè®®è¿›è¡Œäº¤äº’ï¼ŒjavaåŸç”Ÿè‡ªå¸¦å¯¹httpçš„æ”¯æŒï¼ˆjava.net.*ï¼‰ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç”¨çš„æœ€å¤šçš„å°±æ˜¯apache httpclientå·¥å…·åŒ…ã€‚ä½†æ˜¯ä¸ªäººä½¿ç”¨è¿™ä¹ˆä¹…è€Œè¨€ï¼Œæ„Ÿè§‰ä¸ç®¡æ˜¯åŸç”Ÿçš„æŠ‘æˆ–æ˜¯httpclientï¼Œä½¿ç”¨èµ·æ¥éƒ½ä¸å¤ªé¡ºæ‰‹ï¼Œä¹Ÿç•¥æ˜¾å¤æ‚ æ–‡ç« è§ï¼š JAVA httpè¯·æ±‚å·¥å…·ç±»http-request","categories":[],"tags":[{"name":"GitCode","slug":"GitCode","permalink":"https://nymrli.top/tags/GitCode/"}]},{"title":"githubä¸­å„é…ç½®æ–‡ä»¶","slug":"githubä¸­å„é…ç½®æ–‡ä»¶","date":"2020-11-29T10:10:04.000Z","updated":"2020-12-19T13:33:33.298Z","comments":true,"path":"2020/11/29/githubä¸­å„é…ç½®æ–‡ä»¶/","link":"","permalink":"https://nymrli.top/2020/11/29/githubä¸­å„é…ç½®æ–‡ä»¶/","excerpt":"","text":".pre-commit-config.yaml æ¥æºï¼šeasyquotationï¼Œé¡¹ç›®ä¸­æœ‰makefileå’Œ.pre-commit-config.yamlã€.coveragercã€.pylintrcä¸‰ä¸ªæ¯”è¾ƒæ–°å¥‡çš„ã€‚ makefileä¸€èˆ¬éƒ½åœ¨cå·¥ç¨‹ä¸­çœ‹åˆ°ï¼Œ è¿™è¾¹ä½œè€…ä½¿ç”¨æ˜¯ä»£æ›¿äº†ä¸€äº›ç¼–è¯‘å·¥ä½œï¼Œç±»ä¼¼shè„šæœ¬çš„ä½œç”¨ã€‚è·ŸsetupåŒºåˆ«ï¼šmakefileæä¾›ç»™å¼€å‘è€…æäº¤ä»£ç æ—¶ä½¿ç”¨ï¼›setupå½“åšä¸‰æ–¹åº“ç›´æ¥è°ƒç”¨ 123456&gt; init:&gt; pip install pipenv&gt; pipenv install --dev&gt; pipenv run pre-commit install&gt; @echo &amp;&amp; echo use \"pipenv shell\" to access virtual env&gt; Gité’©å­è„šæœ¬å¯¹äºåœ¨æäº¤ä»£ç å®¡æŸ¥ä¹‹å‰è¯†åˆ«ç®€å•é—®é¢˜å¾ˆæœ‰ç”¨ã€‚æˆ‘ä»¬åœ¨æ¯æ¬¡æäº¤æ—¶éƒ½è¿è¡Œé’©å­ï¼Œä»¥è‡ªåŠ¨æŒ‡å‡ºä»£ç ä¸­çš„é—®é¢˜ï¼Œä¾‹å¦‚ç¼ºå°‘åˆ†å·ï¼Œå°¾éšç©ºç™½å’Œè°ƒè¯•è¯­å¥ã€‚é€šè¿‡åœ¨ä»£ç å®¡é˜…ä¹‹å‰æŒ‡å‡ºè¿™äº›é—®é¢˜ï¼Œä»£ç å®¡é˜…è€…å¯ä»¥ä¸“æ³¨äºæ›´æ”¹çš„ä½“ç³»ç»“æ„ï¼Œè€Œä¸ä¼šæµªè´¹çç¢çš„æ ·å¼é—®é¢˜ã€‚ åœ¨æ­¤ä»‹ç»çš„pre-commitåªæ˜¯git hookçš„ä¸€éƒ¨åˆ†ï¼Œ git hookåˆ†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ï¼Œpre-commitå±äºå®¢æˆ·ç«¯çš„ã€‚ ä½¿ç”¨æ•™ç¨‹ï¼šé¡¹ç›®ç®¡ç†ï¼šä»£ç æ£€æŸ¥ pre-commit ä½¿ç”¨è¯¦è§£ï¼š PIPå®‰è£…-&gt;é…ç½®(åœ¨é¡¹ç›®çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª.pre-commit-config.yaml æ–‡ä»¶)-&gt;pre-commit installæŠŠpre-commitå®‰è£…åˆ°äº†é¡¹ç›®.gitçš„hookç›®å½•ä¸‹é¢-&gt;Done(ä¹‹åæˆ‘ä»¬åœ¨æ‰§è¡Œgit commit çš„æ—¶å€™å°±ä¼šå…ˆè°ƒç”¨è¿™ä¸ªæ–‡ä»¶ï¼Œå½“ç„¶è¿˜å¯ä»¥åœ¨gitæ“ä½œçš„å¾ˆå¤šæ­¥éª¤å‰é¢åšä¸€äº›å·¥ä½œ) .travis.yml .gitignore åœ¨æäº¤git commitçš„æ—¶å€™é€‰æ‹©æ€§å¿½ç•¥çš„é…ç½®æ–‡ä»¶ æœ‰å„ç§è¯­è¨€çš„æ¨¡æ¿ï¼Œè‡³äºå…·ä½“çš„æ–‡ä»¶ï¼Œå¯ä»¥è‡ªå·±ä¿®æ”¹ç»†èŠ‚ã€‚ .gitkeep å¤§å®¶å¯èƒ½åœ¨å¾ˆå¤šçš„å¼€æºé¡¹ç›®ä¸­éƒ½çœ‹åˆ°è¿‡.gitkeepè¿™ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶å†…æ²¡æœ‰ä»»ä½•å†…å®¹ï¼Œä¸€ä¸ªç©ºç©ºçš„æ–‡ä»¶ã€‚ é‚£è¿™ä¸ªç±»å‹æ–‡ä»¶çš„ä½œç”¨åˆ°åº•æ˜¯å•¥å‘¢ï¼Ÿè¿™è¦ä»gitä¸å…è®¸è¿½è¸ª(track)æˆ–è€…è¯´æäº¤ä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹è¯´èµ·ï¼Œgitæœ¬èº«æ˜¯ä¸å…è®¸æäº¤ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹çš„ï¼Œæ‰€æœ‰å°±æœ‰äº†.gitkeepçš„å­˜åœ¨ï¼Œå¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå½“ç„¶äº†ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ .nofileæˆ–è€…å…¶ä»–çš„å ä½ç¬¦ï¼Œè‡ªè¡Œå†³å®šã€‚ å½“ç„¶äº†ï¼Œä¸šå†…äººå‘˜å·²ç»ä¹ æƒ¯ä½¿ç”¨.gitkeepï¼Œå·²ç»è¾¾æˆäº†å…±è¯†ï¼Œæ‰€ä»¥æˆ‘ä»¬å°½é‡è¿˜æ˜¯ä½¿ç”¨.gitkeepã€‚ ä»£ç è§„èŒƒä¸é£æ ¼ .pylintrc Pylint æ˜¯ä¸€ä¸ª Python ä»£ç åˆ†æå·¥å…·ï¼Œå®ƒåˆ†æ Python ä»£ç ä¸­çš„é”™è¯¯ï¼ŒæŸ¥æ‰¾ä¸ç¬¦åˆä»£ç é£æ ¼æ ‡å‡†ï¼ˆPylint é»˜è®¤ä½¿ç”¨çš„ä»£ç é£æ ¼æ˜¯ PEP 8ï¼Œå…·ä½“ä¿¡æ¯ï¼Œè¯·å‚é˜…å‚è€ƒèµ„æ–™ï¼‰å’Œæœ‰æ½œåœ¨é—®é¢˜çš„ä»£ç ã€‚ è·Ÿ.gitignoreå·®ä¸å¤šï¼Œæœ‰æ¨¡æ¿ã€‚ .flake8 è¯·ä½¿ç”¨ Flake8 ç¡®ä¿ä»£ç ç¬¦åˆè§„èŒƒï¼š 1flake8 --config .flake8 .style.yapf è¯·ä½¿ç”¨ YAPF å¯¹ä»£ç è¿›è¡Œæ ¼å¼ä¸‹ï¼š 1yapf --style .style.yapf --in-place --recursive aiocqhttp scripts demo.py .coveragerc Pythonç”¨æ¥æŸ¥çœ‹æµ‹è¯•ä¸­è¦†ç›–ç‡çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœè¡¡é‡å•å…ƒæµ‹è¯•å¯¹ç›¸åº”ä»£ç çš„æµ‹è¯•é‡é‡ï¼Œè¦†ç›–ç‡æ˜¯ä¸€ä¸ªå¿…è¦éå……åˆ†æ¡ä»¶ï¼Œå› æ­¤ç»Ÿè®¡ä»£ç çš„è¦†ç›–ç‡ï¼Œæ£€è§†å•æµ‹æ˜¯å¦å……åˆ†ï¼Œå°±å°¤ä¸ºçš„é‡è¦ã€‚è¿™é‡Œé’ˆå¯¹python-unittestçš„å•æµ‹çš„è¦†ç›–ç‡coverageè¿›è¡Œä½¿ç”¨è¯´æ˜ä¸åˆ†æ. 1234567[run]branch = Trueinclude = easyquotation/* # é¡¹ç›®åç§°xxxomit = tests/* # å¿½ç•¥çš„ç›®å½•[report]fail_under = -1 å®˜æ–¹æ–‡æ¡£ï¼š https://coverage.readthedocs.io/en/latest/index.html","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"}]},{"title":"ã€Šæ¼«ç”»æœºå™¨å­¦ä¹ å…¥é—¨ã€‹å¤§å…³çœŸä¹‹â€”â€”è¯»ä¹¦ç¬”è®°","slug":"ã€Šæ¼«ç”»æœºå™¨å­¦ä¹ å…¥é—¨ã€‹å¤§å…³çœŸä¹‹â€”â€”è¯»ä¹¦ç¬”è®°","date":"2020-11-28T13:39:01.000Z","updated":"2020-11-28T13:40:38.925Z","comments":true,"path":"2020/11/28/ã€Šæ¼«ç”»æœºå™¨å­¦ä¹ å…¥é—¨ã€‹å¤§å…³çœŸä¹‹â€”â€”è¯»ä¹¦ç¬”è®°/","link":"","permalink":"https://nymrli.top/2020/11/28/ã€Šæ¼«ç”»æœºå™¨å­¦ä¹ å…¥é—¨ã€‹å¤§å…³çœŸä¹‹â€”â€”è¯»ä¹¦ç¬”è®°/","excerpt":"","text":"ã€Šæ¼«ç”»æœºå™¨å­¦ä¹ å…¥é—¨ã€‹æ€»ç»“ æœºå™¨å­¦ä¹ æ˜¯æŒ‡è®¡ç®—æœºé€šè¿‡ä¸æ–­åœ°å¤„ç†æ•°æ®å¹¶ä¿®æ­£ç®—æ³•å’Œå‚æ•°æ¥å­¦ä¹ å„ç§è§„åˆ™ï¼Œ ä»è€Œä¸æ–­æ”¹è¿›æ¨¡å‹è€Œå¾—åˆ°æ›´ä¼˜åŒ–çš„ç®—æ³•ã€‚ä¹¦ä¸­ä¸»è¦è®²è§£äº†ç»å°”å…¹æ›¼æœºçš„æœºå™¨å­¦ä¹  è°æ˜¯ä¸–ç•Œä¸Šæœ€ç¾ä¸½çš„äººï¼Ÿ ****ç‰¹å¾é‡****å°±æ˜¯å¦‚æ¯ä¸€ä¸ªäººçš„å¹´é¾„ï¼Œçœ¼ç›å¤§å°ï¼› ç‰¹å¾å‘é‡å°±æ˜¯æ¯ä¸ªäººçš„ç‰¹å¾é‡æ”¾åˆ°ä¸€èµ·ï¼Œç‰¹å¾å‘é‡æ˜¯è¡¨è¾¾ç‰¹å¾çš„ä¸€ä¸ªæ•°ç»„ è¯¯å·®å‡½æ•°ï¼š åœ¨ç¾ä¸½ç¨‹åº¦è¿™ä¸ªé—®é¢˜ä¸Šï¼Œ è¯¯å·®å‡½æ•°å°±æ˜¯â€”â€” è®¡ç®—â€œç¾ä¸½ç¨‹åº¦â€çš„å®é™…è¾“å‡ºä¸ç»™å®šçš„ç†æƒ³è¾“å‡ºä¹‹é—´çš„å·®å€¼ æœ€ä¼˜åŒ–é—®é¢˜ï¼š æœ€å°åŒ–è¯¯å·®å‡½æ•°ï¼Œå…¶å®æ˜¯ä¸€ä¸ªæ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜ï¼šæˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯è¦æ‰¾åˆ°æ²¡æœ‰è¯¯å·®æˆ–è€…è¯¯å·®å°åˆ°æ»¡è¶³è¦æ±‚çš„æœ€é€‚åˆçš„æ¨¡å‹ã€‚è¿™å°±è¦é€šè¿‡è°ƒèŠ‚æ¨¡å‹ä¸­çš„å‚æ•°ï¼Œä½¿è¯¯å·®å‡½æ•°å€¼å°½é‡å°ï¼Œè¿™å°±æ˜¯æ±‚è§£ï¼ˆå‚æ•°ï¼‰æœ€ä¼˜åŒ–é—®é¢˜ã€‚ å¾®åˆ†ï¼šç¨å¾®æ‹‰åŠ¨ä¸€ç‚¹æ‘‡æ†ï¼Œç¡®è®¤è¯¯å·®æ˜¯å¦å˜å°ã€‚è¿™ç§æ“ä½œå«åšå¾®åˆ†ã€‚ æ¢¯åº¦ä¸‹é™æ³•ï¼š ä¸€ç›´æ‹‰åˆ°è¯¯å·®ä¸å†å‡å°‘ï¼Œç›´åˆ°è¯¯å·®å€¼ä¿æŒä¸å˜æˆ–è€…åè€Œæœ‰æ‰€ä¸Šå‡æ—¶ä¸ºæ­¢ã€‚å¸Œæœ›ä¸åœåœ°è°ƒæ•´æƒé‡ï¼Œä½¿å¾—è¯¯å·®ä¸€ç›´åœ¨æœç€å‡å°çš„æ–¹å‘å‰è¿›ã€‚è¿™ç§è°ƒæ•´è¯¯å·®çš„æ–¹æ³•å«æ¢¯åº¦ä¸‹é™æ³•ã€‚ å›å½’å°±æ˜¯ï¼šå»ºç«‹æ¨¡å‹â€”æ‹Ÿåˆâ€”å¾®è°ƒ æœºå™¨å­¦ä¹ æ˜¯å¯»æ‰¾è¾“å…¥æ•°æ®ä¸è¾“å‡ºæ•°æ®ä¹‹é—´å…³ç³»(model-&gt;function map)çš„ä¸€é—¨å­¦é—®ã€‚ æ¯ä¸€ä¸ªç‰¹å¾é‡éƒ½å¾ˆé‡è¦ï¼Œä½†æ˜¯ä¸åŒç‰¹å¾é‡çš„é‡è¦ç¨‹åº¦æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥éœ€è¦å¯»æ‰¾ç‰¹å¾çš„æƒé‡çŸ©é˜µ è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ï¼š å­¦ä¹ å’Œæµ‹è¯•æ˜¯æœºå™¨å­¦ä¹ çš„ä¸¤é¡¹åŸºæœ¬ä»»åŠ¡ã€‚ (1)å¥½çš„ç®—æ³•å¾ˆé‡è¦ï¼› (2)è¦å°†è·å¾—çš„æ•°æ®åˆ†ä¸ºè®­ç»ƒç”¨æ•°æ®å’Œæµ‹è¯•ç”¨æ•°æ®ï¼›(3)ä»…ä»…åŒ¹é…è®­ç»ƒç”¨æ•°æ®æ˜¯ä¸è¡Œçš„â€”â€”ä»…ä»…æ»¡è¶³è®­ç»ƒç”¨æ•°æ®å«overfitè¿‡æ‹Ÿåˆï¼Œå¦‚æœè¿è®­ç»ƒæ•°æ®éƒ½ä¸ç¬¦åˆå«underfitæ¬ æ‹Ÿåˆ éªŒè¯çš„æ–¹æ³•ï¼šäº¤å‰éªŒè¯ï¼šå°†æ‰€æœ‰çš„æ•°æ®åˆ†æˆ4ç»„ï¼Œ æ¯ç»„ä¸­1ä»½æ•°æ®ç”¨äºæµ‹è¯•ï¼Œ3ä»½ç”¨äºè®­ç»ƒ å¤æ‚åŒ–æ¨¡å‹â€”â€”å¯»æ‰¾æ–°çš„ç‰¹å¾å€¼ï¼šsigmoid å‡½æ•°ï¼šå½“å‘ç°æ£€æµ‹çš„ç»“æœä¸å¤ªå¥½ï¼Œç‹åæƒ³æŠŠæ¨¡å‹å˜å¾—æ›´å¤æ‚ä¸€äº›ã€‚ç‹åå°è¯•å°†åŸå§‹çš„ç‰¹å¾é‡ç»„åˆèµ·æ¥è·å¾—æ–°çš„ç‰¹å¾é‡ï¼Œå†åŠ æƒæ±‚è¾“å‡ºï¼Œå´å‘ç°å› ä¸ºåªæœ‰ä¹˜æ³•å’ŒåŠ æ³•çš„æƒ…å†µè¿™ç§çº¿æ€§ç‰¹æ€§ï¼Œä¸ä¹‹å‰å¹¶æ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚å› æ­¤ï¼Œå¼•å…¥äº†sigmoidå‡½æ•°ï¼Œè¿™ä¸ªéçº¿æ€§å‡½æ•°ã€‚sig(x)=11âˆ’eâˆ’xsig(x) = \\frac{1}{1-e^{-x}}sig(x)=1âˆ’eâˆ’x1â€‹ åŠ æƒç»„åˆï¼Œæ„æˆæ–°çš„ç‰¹å¾å€¼ï¼š å¦‚æœæˆ‘ä»¬æŠŠå°†ç‰¹å¾é‡ç»„åˆï¼Œæ–°å¢åŠ 5ä¸ªç‰¹å¾é‡çš„è¯ï¼ˆå¦‚å›¾ï¼‰ï¼Œæ‘‡æ†çš„æ•°é‡å°±å˜æˆäº†åŸæ¥çš„5å€ã€‚ å¤šå±‚ç¥ç»ç½‘ç»œï¼šåœ¨å•å±‚ç¥ç»ç½‘ç»œçš„åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€å±‚éçº¿æ€§å˜æ¢ï¼Œç»“æ„ä¸Šä¹Ÿå°±å¤šäº†ä¸€ä¸ªä¸­é—´çš„æ›¾ï¼Œå°±æ˜¯å¤šå±‚ç¥ç»ç½‘ç»œã€‚ åªç”±è¾“å…¥åˆ°è¾“å‡ºæ–¹å‘è¿›è¡Œä¿¡æ¯çš„ä¼ é€’ï¼Œè¢«ç§°ä¸ºæ­£å‘å‹ç¥ç»ç½‘ç»œï¼› è€ŒåŒæ–¹å‘éƒ½èƒ½å¤Ÿè¿›è¡Œä¿¡æ¯äº¤æ¢çš„ç»“æ„è¢«ç§°ä¸ºåŒå‘å‹ç¥ç»ç½‘ç»œã€‚åŒå‘å‹ç¥ç»ç½‘ç»œå…¸å‹ä»£è¡¨æ˜¯Hopfieldä¸€å¤„çš„ï¼Œç»å°”å…¹æ›¼æœºä¹Ÿæ˜¯åŸºäºè¿™ç§ç¥ç»ç½‘ç»œã€‚ åŒå‘ä¿¡æ¯å¤„ç†æ¨¡å¼ä¸åŒäºæ·¡å‡ºçš„æ­£å‘ä¿¡æ¯å¤„ç†ï¼Œ å®ƒå¯ä»¥æœ‰å¤šä¸ªè¾“å‡ºç»“æœï¼Œ è€Œä¸”ä»è¿™äº›è¾“å‡ºç»“æœä¸­å®ƒå¯ä»¥å›å¿†èµ·ä»¥å‰è®°å¿†è¿‡çš„ä¿¡æ¯ï¼Œå› æ­¤ä¹Ÿè¢«å«åšè”æƒ³è®°å¿†ã€‚ æ¨¡å‹è¶Šå¤æ‚ï¼Œç½‘ç»œå°±è¶Šçº ç¼ ï¼Œæ‹‰åŠ¨ä¸€æ ¹çº¿å°±ä¼šå¯¹æ•´ä¸ªç½‘ç»œäº§ç”Ÿè¾ƒå¤§çš„å½±å“ã€‚åè¿‡æ¥ï¼Œç½‘ç»œä¸­ä»»ä½•ä¸€æ ¹çº¿åˆä¼šè¿æ¥å¾ˆå¤šå…¶ä»–çš„çº¿ï¼Œæ‹‰å®ƒçš„æ—¶å€™ä¹Ÿä¼šå—åˆ°å¾ˆå¤§é™åˆ¶ï¼Œç”šè‡³æ‹‰ä¸åŠ¨ã€‚ è·ç¦»è¾“å‡ºå±‚è¶Šè¿‘çš„æ‘‡æ†è¶Šå®¹æ˜“æ¬åŠ¨ï¼Œè¿™æ˜¯æœ‰æ¢¯åº¦çš„ç»“æœã€‚å› ä¸ºæ¬åŠ¨ä¸€ä¸‹ç¦»è¾“å‡ºå¾ˆè¿‘çš„æ‘‡æ†ï¼Œå®ƒçš„æ•ˆæœèƒ½å¤Ÿå¾ˆæ–¹ä¾¿åœ°ä¼ é€’ç»™è¾“å‡ºã€‚ç¦»è¾“å‡ºè¶Šè¿œï¼Œæ¢¯åº¦è¶Šéš¾è®¡ç®—ï¼Œè¶Šéš¾è°ƒæ•´ã€‚===&gt;BPç®—æ³•ï¼Œ ä»¥åŠæœ€å¥½ä¸è¦ä½¿ç”¨Sigmodå‡½æ•°ï¼Œ å› ä¸ºå®¹æ˜“æ¢¯åº¦æ¶ˆå¤±ï¼Œ å¯ä»¥æ¢ç”¨tanhæˆ–è€…reLUï¼ˆè§‚å¯Ÿå‡½æ•°çš„å¾®åˆ†ç»“æœï¼‰ dropoutï¼šä¸ºäº†é˜²æ­¢è¿‡åº¦å­¦ä¹ ï¼Œ éœ€è¦æŒæ¡å¹³è¡¡ï¼Œ åšå‡ºå–èˆï¼š é€‚å½“åœ°é€‰å–ä¸€å®šæ¯”ä¾‹çš„ç‰¹å¾é‡ï¼Œå‰©ä¸‹çš„å…¨éƒ¨èˆå¼ƒä¸ç”¨ã€‚ æ‰¹é‡å­¦ä¹ ä¸åœ¨çº¿å­¦ä¹ ï¼š æ‰¹é‡å­¦ä¹ ï¼ˆbatch learningï¼‰ï¼šå°†å…¨éƒ¨æ•°æ®æ”¶é›†é½äº†ä¹‹åä¸€èµ·ä½œä¸ºè®­ç»ƒç”¨æ•°æ®ä½¿ç”¨ï¼Œè¿™å«åšæ‰¹é‡å­¦ä¹ ï¼ˆbatch learningï¼‰ åœ¨çº¿å­¦ä¹ ï¼ˆonline learningï¼‰:ä¸æ­¤ç›¸å¯¹çš„ï¼Œéšç€æ•°æ®ä¸æ–­åœ°è·å–è€Œé€æ­¥è¿›è¡Œçš„å­¦ä¹ åˆ™ç§°ä¸ºåœ¨çº¿å­¦ä¹ ï¼ˆonline learningï¼‰ ç°åœ¨æ‰¹é‡å­¦ä¹ ä¹Ÿåœ¨æ”¹è¿›ï¼Œæœ‰äº›åœ°æ–¹ä¸åœ¨çº¿å­¦ä¹ å·®ä¸å¤šï¼Œ å¦‚ä½¿ç”¨æ¦‚ç‡æ¢¯åº¦ä¸‹é™æ³•ï¼š ï¼ˆé‡‡ç”¨æ¦‚ç‡çš„æ–¹å¼å»åˆ†ç»„ï¼Œä¹Ÿå«éšæœºé€‰æ‹©ï¼Œå°±æ˜¯ä¸èƒ½åˆ©ç”¨æŸç§æ•…æ„çš„ç‰¹å®šæ„å›¾å»åˆ†ç»„ï¼‰ å½“åˆ©ç”¨æ¦‚ç‡åˆ†ç»„åï¼Œå¯¹æ¯ä¸€ç»„æ•°æ®è¿›è¡Œè®­ç»ƒï¼ŒåŠ¨ä¸€ä¸‹æ‘‡æ†çœ‹è¯¯å·®å¦‚ä½•å˜åŒ–ï¼Œç„¶åå†å‘è¯¯å·®å˜å°çš„æ–¹å‘æ¬åŠ¨æ‘‡æ†ï¼Œè¿™å°±æ˜¯æ¦‚ç‡æ¢¯åº¦ä¸‹é™æ³•ã€‚ï¼ˆé€šè¿‡é€‚å½“åœ°æ¦‚ç‡è®¡ç®—ï¼Œè®©å‚æ•°æˆ–å·¦æˆ–å³åœ°è·³åŠ¨ç€å˜åŒ–ï¼‰ è¿™ç§ç®—æ³•è€ƒè™‘çš„æ˜¯ï¼Œä¸å…¶å†²ç€é¢„å…ˆè§„å®šå¥½çš„æ–¹å‘ä¸€ç›´èµ°ä¸‹å»ï¼Œå€’ä¸å¦‚æ˜¯ä¸æ˜¯åœ°å·¦çœ‹çœ‹ï¼Œå³çœ‹çœ‹ã€‚è¿™æ ·åå€’æ›´å®¹æ˜“æ‰¾åˆ°éšè—çš„è¿‘è·¯ã€‚ åœ¨çº¿å­¦ä¹ å’Œéšæœºæ¢¯åº¦ä¸‹é™æ³•çš„ä¼˜åŠ¿åœ¨äºï¼Œ å¯ä»¥æ•æ‰çµå…‰éœç°çš„æœºä¼šï¼Œ å¢åŠ äº†è·³è„±éç‚¹çš„å¯èƒ½æ€§ã€‚ ç²®é£Ÿé—®é¢˜ æ„ŸçŸ¥æœºperceptron(å¼—å…°å…‹Â·ç½—æ£®å¸ƒæ‹‰ç‰¹)å’Œæ”¯æŒå‘é‡æœºSVM(Vladmir N.Vapnik) æ„ŸçŸ¥æœºï¼šç§»åŠ¨åˆ†å‰²è¶…å¹³é¢è¿›è¡Œæ•°æ®åˆ†ç±»ã€‚æ„ŸçŸ¥æœºçš„ç¼ºç‚¹ï¼šéçº¿æ€§æ¨¡å‹å¤„ç†ä¸å¥½ æ”¯æŒå‘é‡æœºï¼šä½¿åˆ†å‰²è¶…å¹³é¢å¤„äºä¸€ç§éå¸¸â€œå¥½â€çš„çŠ¶æ€ï¼Œå³æ‰€æœ‰æ•°æ®ç‚¹å°½é‡éƒ½è¿œç¦»åˆ†å‰²è¶…å¹³é¢ï¼Œå› æ­¤èƒ½å¤Ÿæ›´å¥½çš„è¯†åˆ«å¹¶ä¸”ä½¿å¾—å®‰å…¨è£•é‡æœ€å¤§ çŸ©é˜µçš„ç§©ï¼š= æ¨¡å¼çš„ç§ç±»ï¼Œ ä¸€ä¸ªæ¨¡å¼ä»¥ä¸€è¡Œå‘é‡è¡¨ç¤ºã€‚çŸ©é˜µä¸­ä¸¤è¡Œçš„è§„å¾‹ç›¸ä¼¼ï¼Œåº”è¯¥å±äºåŒä¸€ç§æ¨¡å¼ã€‚å‡è®¾æ•°æ®ä¸­å­˜åœ¨æŸäº›æ¨¡å¼ï¼Œé‚£ä¹ˆåœ¨çŸ©é˜µä¸­ä¸€å®šä¼šå­˜åœ¨æŸä¸€è¡Œçš„æ•°å€¼ä»£è¡¨è¯¥æ¨¡å¼ï¼Œå…¶ä»–çš„æŸä¸€è¡Œä»£è¡¨å¦ä¸€ç§æ¨¡å¼ã€‚ å¦‚æœæ¨¡å¼èƒ½å¤Ÿä»å¯è§æ•°æ®ä¸­æ¨æ¼”å‡ºæ¥ï¼Œé€šè¿‡å¯¹å¯è§æ•°æ®åšæœ‰æ•ˆå¤„ç†ï¼Œå°±èƒ½å¤Ÿæ¨æµ‹å‡ºä¸å¯è§çš„é‚£éƒ¨åˆ†æ•°æ®ï¼Œè¿™å…¶å®æ˜¯ä¸€ç§æ— ç›‘ç£å­¦ä¹ ï¼šå¸Œæœ›èƒ½å¤Ÿå®Œç¾åœ°è¡¥å……çŸ©é˜µä¸­ç©ºç™½çš„æ•°æ®ï¼Œå¹¶èƒ½å¤Ÿé¢„æµ‹å‡ºæ–°çš„æ¨¡å¼ã€‚ï¼ˆè®¡ç®—æœºä»å¤§é‡æ•°æ®ä¸­é€šè¿‡è‡ªå·±çš„åˆ†ææ¥æ‰¾å‡ºè§„å¾‹ï¼Œå«åšæ— ç›‘ç£å­¦ä¹ ï¼‰ é¢„æµ‹æ–¹é¢æœ‰ç›‘ç£/æ— ç›‘ç£çš„ä¸åŒ ï¼š ä»æ•°æ®ä¸­å­¦åˆ°ä¸œè¥¿ï¼Œè¿™ä¸€ç‚¹æ˜¯ä¸€è‡´çš„ã€‚ä¹‹åï¼Œåœ¨æ˜¯å¦è¿›è¡Œé¢„æµ‹è¿™ä¸€ç‚¹ä¸Šæ˜¯ä¸åŒçš„ã€‚ æœ‰ç›‘ç£å­¦ä¹ æ˜¯å¸Œæœ›è®¡ç®—æœºè¶Šæ¥è¶Šèªæ˜å¹¶é€æ¸èƒ½å¤Ÿä»£æ›¿äººçš„æŸäº›å·¥ä½œã€‚ æ— ç›‘ç£å­¦ä¹ ï¼Œæ˜¯å¸Œæœ›è®¡ç®—æœºä»ç‰¹å¾é‡ä¸­é€‰æ‹©å‡ºæˆ‘ä»¬å®¹æ˜“ç†è§£çš„æŸç§æ¨¡å¼ï¼Œå°†æ¨¡å¼åˆ†æˆè‹¥å¹²æˆ–è€…æŸç§å½¢å¼çš„åˆ†ç±»ã€‚ ç¨€ç–åŒ–ï¼šæœ‰äº›ç®—æ³•ä¼šå°†ä¸é‡è¦çš„ç‰¹å¾é‡çš„æƒé‡ç›´æ¥è®¾å®šä¸º0ï¼Œèˆå¼ƒä¸€äº›ä¸é‡è¦çš„ä¸œè¥¿ï¼Œ å¯¼è‡´çŸ©é˜µä¸­äº§ç”Ÿå¾ˆå¤š0ï¼Œ è¿™ç§çŸ©é˜µå°†ç¨€ç–çŸ©é˜µã€‚ éè´ŸçŸ©é˜µåˆ†è§£ï¼ˆ Nonnegative Matrix Factor ï¼‰ï¼š éè´Ÿï¼ŒæŒ‡åœ¨è®¡ç®—çš„æ—¶å€™ä¸ä½¿ç”¨è´Ÿå€¼ï¼Œä¹Ÿå°±æ˜¯åªåšåŠ æ³•è¿ç®—ã€‚å°±åƒç”¨é’¢ç¬”æç»˜äººè„¸ï¼Œå…ˆæœ‰çœ¼ç›ï¼Œé¼»å­ï¼Œå†åŠ ä¸Šå˜´ç­‰ç­‰ã€‚è¿™äº›éƒ½æ˜¯ä¸€ä¸ªä¸€ä¸ªæ·»åŠ çš„ã€‚ï¼ˆéè´Ÿå¥½æ¯”ç”¨é’¢ç¬”ä½œç”»ä¸èƒ½åˆ é™¤ï¼Œ è€Œæ™®é€šä½œç”»æ˜¯ç”¨é“…ç¬”ï¼Œ æ‰€ä»¥å¯ä»¥æœ‰è´Ÿå€¼ï¼‰ å¦‚æœä¹Ÿç”¨å‡æ³•ï¼Œå°±åƒç”¨é“…ç¬”ï¼Œè¿˜å¯ä»¥ç”¨æ©¡çš®æ“¦å»ä¸€äº›åœ°æ–¹ã€‚ åŸºäºç»å°”å…¹æ›¼æœºå™¨å­¦ä¹ çš„å›¾åƒå¤„ç†æ–¹æ³• é¦–å…ˆè¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œ å›¾ç‰‡æ˜¯ç”±åƒç´ ç»„æˆçš„ã€‚æ¯ä¸€ä¸ªåƒç´ åˆ°åº•æ˜¯å‘ˆç°æ•°æ¨¡é¢œè‰²ï¼Œè¿™æ˜¯ç”±æ•°æ®æ¥å†³å®šçš„ã€‚ ç»å°”å…¹æ›¼æœºå™¨å­¦ä¹ :å°†å›¾åƒçš„é¢œè‰²æ•°æ®è¾“å…¥åˆ°ç»å°”å…¹æ›¼æœºä¸­ï¼Œè®¡ç®—æœºé€šè¿‡åˆ†æè¿™äº›æ•°æ®ï¼Œå°±å¯ä»¥å¾—åˆ°å®é™…å›¾åƒçš„ç‰¹å¾ï¼Œå„åƒç´ ç‚¹æ˜¾ç¤ºæŸç§é¢œè‰²çš„æ¦‚ç‡ï¼Œä»¥åŠç›¸é‚»åƒç´ é—´çš„å…³ç³»ã€‚è¿™ç§è¿‡ç¨‹å«åšç»å°”å…¹æ›¼æœºå™¨å­¦ä¹ ã€‚ ä¼¼ç„¶åº¦ï¼š ç›¸ä¼¼çš„ç¨‹åº¦ã€‚ æœºå™¨å­¦ä¹ çš„ç›®çš„è¦ä¹ˆæ˜¯è®©è¯¯å·®å€¼æœ€å°ï¼Œè¦ä¹ˆæ˜¯è®©ä¼¼ç„¶åº¦æœ€å¤§ é‡‡æ ·ï¼šå°†å®é™…æä¾›çš„æ•°æ®è¾“å…¥åˆ°ç»å°”å…¹æ›¼æœºåï¼Œ æ¨¡å‹ä¼šè¾“å‡ºä¼ªæ•°æ®ï¼ˆé‡æ„æ•°æ®ï¼‰ï¼Œ è¿™ä¸ªè‡ªèº«ä¸æ–­äº§ç”Ÿæ•°æ®çš„è¿‡ç¨‹å°±å«åšé‡‡æ · sampling ç»å°”å…¹æ›¼æœºå™¨å­¦ä¹ åœ¨è¿›è¡Œæ—¶ï¼Œé‡‡ç”¨é©¬å°”ç§‘å¤«è’™ç‰¹å¡ç½—æ–¹æ³•ï¼Œæ¥é€ä¸€è€ƒè™‘ç›¸é‚»åƒç´ ä¹‹é—´çš„å…³ç³»ï¼Œæ¥å®ŒæˆåŒå‘å‹ç¥ç»ç½‘ç»œçš„ä¿¡æ¯æµåŠ¨ã€‚è¿™æ˜¯ä¸€ç§åœ¨æ•´ä¸ªç½‘ç»œç»“æ„ä¸­çš„å¾ªç¯ï¼Œåœ¨è¿™ä¸€è¿‡ç¨‹ä¸­è¿˜è¦ä¸æ–­åœ°é‡‡é›†å¤§é‡çš„é‡æ„æ•°æ®ã€‚å¾ˆè´¹æ—¶é—´ã€‚==&gt; æ›¿ä»£ç®—æ³•æ˜¯ï¼Œå•çº¯è€ƒè™‘ç”±ç›¸é‚»åƒç´ ä¼ é€è¿‡æ¥çš„ä¿¡æ¯ï¼Œå¹³å‡åœºè¿‘ä¼¼æ³• ä¸­é—´ç»“æœåŒ…å«æ¯ä¸€ä¸ªåƒç´ é¢œè‰²çš„å˜åŒ–è¿‡ç¨‹ï¼Œä¹Ÿèƒ½å¤Ÿæ„æˆä¸­é—´è¿‡ç¨‹çš„è®¸å¤šå›¾åƒã€‚è¿™äº›ä¸­é—´äº§ç”Ÿçš„å›¾åƒæ•°æ®å°±æ˜¯é‡æ„æ•°æ®ï¼Œ ä¹Ÿå¯ä»¥å«åšä¼ªæ•°æ®ã€‚å…¶å®æ ¸å¿ƒå°±æ˜¯â€œä¾æ®ä¸´è¿‘åƒç´ çš„æ•°æ®ï¼Œ åœ¨ç°æœ‰çš„å‚æ•°å€¼æƒ…å†µä¸‹ï¼Œ é¢„æµ‹ä¸­å¿ƒåƒç´ çš„é¢œè‰²å€¼â€ æœºå™¨å­¦ä¹ ä¸ç»Ÿè®¡åŠ›å­¦ï¼š æˆ‘ä»¬åœ¨ç ”ç©¶åŸå­å’Œåˆ†å­çš„æ—¶å€™ï¼Œ ä½ç½®ã€è¿åŠ¨æ‰½ä¿¡æ¯æ˜¯åˆ†æç ”ç©¶çš„å¯¹è±¡ï¼Œ ä½†æ˜¯ç»Ÿè®¡åŠ›å­¦æœ‰è¶£çš„åœ°æ–¹æ˜¯åˆ©ç”¨ç»Ÿè®¡å­¦ç†è®ºå»è·å–äº‹ç‰©æ•´ä½“çš„ç‰¹å¾ã€‚ç±»æ¯”æœºå™¨å­¦ä¹ ï¼Œ å°±åƒæˆ‘ä»¬å¹¶ä¸å»è®¡è¾ƒæ¯ä¸€ä¸ªé¢—ç²’çš„ä½ç½®å’Œé€Ÿåº¦ï¼Œ å¯¹äºæœºå™¨å­¦ä¹ æˆ‘ä»¬ä¹Ÿæ˜¯å¸Œæœ›å¾—åˆ°å¤§é‡æ•°æ®é—´çš„æ•´ä½“ç»„åˆä¿¡æ¯ï¼Œ è¿™ç§æ•´ä½“ç»„åˆä¿¡æ¯åœ¨æœ€ä¼˜åŒ–é—®é¢˜æ±‚è§£æ—¶å°±æ˜¯æ¨åˆ°å‡ºå‡½æ•°æ¨¡å‹ å¯è§å˜é‡ã€éšå«å˜é‡ï¼šåœ¨å›¾åƒä¸­ï¼Œ æ¯ä¸€ä¸ªåƒç´ é¢œè‰²çš„æ•°å€¼æ—¶å¯ä»¥ç›´æ¥è¯»å–çš„ï¼Œ è¿™ä¸€éƒ¨åˆ†å°±å«åšå¯è§å˜é‡ã€‚ç”±å¯è§å˜é‡ä¹‹é—´å…³è”å…³ç³»æ„æˆçš„æ–°å˜é‡ç§°ä¸ºéšå«å˜é‡ï¼Œ ä»è€Œå¯ä»¥å»ºç«‹å‡ºçœ¼ç›ã€é¼»å­ç­‰éƒ¨ä»¶ï¼Œ ä»è€Œå°†åˆ©ç”¨å„ä¸ªéƒ¨ä»¶å°±å¯ä»¥å°†å›¾åƒåˆ†æˆå„ä¸ªéƒ¨åˆ†äº†ã€‚ åˆ©ç”¨ä¸Šè¿°æ–¹å¼å°±å¯ä»¥ä»¥â€œå¼€å…³â€çš„å½¢å¼æ¥æ“ä½œäº†ï¼Œé€šè¿‡åƒç´ å’Œå¼€å…³ä¹‹é—´çš„å…³ç³»å°±å¯ä»¥å†³å®šåœ¨å¯è§å˜é‡ä¸€ä¾§è¡¨ç¤ºå‡ºä»€ä¹ˆï¼Œ è¿™ç§æ–¹æ³•è®¤ä¸ºå¯è§å˜é‡ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œ å„ä¸ªå¼€å…³ä¹‹é—´ä¹Ÿæ²¡æœ‰å…³è”ã€‚åªè€ƒè™‘å¼€å…³ä¸åƒç´ ä¹‹é—´çš„å…³ç³»ï¼Œ å«åšå—é™ç»å°”å…¹æ›¼æœºï¼ˆRBMï¼‰ï¼Œ æœ‰è¾ƒå¥½çš„ç‰¹æ€§ï¼Œ å¦‚ä¸€å®šæ¡ä»¶ä¸‹çš„ç‹¬ç«‹æ€§ å˜åˆ†åŸç†ï¼šç‰©ç†å­¦ä¸­ï¼Œ æŒ‡è‡ªç„¶ç•Œä¸­é™æ­¢å®ç‰©çš„ä¸€ä¸ªæ™®éé€‚ç”¨çš„æ•°å­¦å®šå¾‹ï¼Œä¹Ÿç§°æœ€å°ä½œç”¨åŸç†ã€‚æ¯”å¦‚åœ¨ç¡®å®šäº†ç‰©ä½“çš„èµ·ç‚¹å’Œç»ˆç‚¹åï¼Œ é€šè¿‡åŠ¨èƒ½å’ŒåŠ¿èƒ½ä¹‹å·®å°±èƒ½è®¡ç®—å‡ºæœ€çŸ­è·¯å¾„ã€‚ å¯¹æ¯”æ•£åº¦ç®—æ³•ï¼šå°†å®é™…çš„é¢œè‰²æ•°æ®ä¸å»ºç«‹çš„æ¨¡å‹é‡‡é›†åˆ°çš„ä¼ªæ•°æ®è¿›è¡Œæ¯”è¾ƒï¼Œ æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä»ä¸­æ‰¾åˆ°æŸäº›æœ‰ç”¨çš„ä¸œè¥¿ã€‚ æ·±åº¦ç»å°”å…¹æ›¼æœºå°†å›¾åƒæ•°æ®ä½œä¸ºè¾“å…¥ï¼Œ å†…éƒ¨ä½œä¸ºéšå«å˜é‡çš„å„ç§å¼€å…³æ¥å†³å®šåˆ°åº•è¾“å‡ºä»€ä¹ˆå›¾åƒï¼Œ å› æ­¤ä¸ºäº†èƒ½å¤Ÿå¯¹åº”ä¸åŒçš„å›¾åƒï¼Œ å»ºç«‹æ•°é‡å·¨å¤§çš„å¤æ‚çš„éšå«å˜é‡æ—¶éå¸¸å¿…è¦çš„â€”â€”æ·±åº¦ç»å°”å…¹æ›¼æœºçš„ç›®çš„æ—¶å­¦ä¹ å›¾åƒä¸­éšå«çš„ç‰¹å¾ï¼Œ çŸ¥é“äº†å›¾åƒä¸­æ‹¥æœ‰çš„ç‰¹å¾å¯ä»¥å°±å¯ä»¥è¿”å›æ¥çœ‹å¯è§å˜é‡ä¸­æ˜¯å¦æœ‰çŒ«å’Œç‹—äº†â€”â€”ä¼ ç»Ÿæœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ çš„åŒºåˆ«ä¹Ÿåœ¨äºæ­¤ï¼Œ ä¼ ç»Ÿæœºå™¨å­¦ä¹ éœ€è¦è‡ªå·±æ‰‹åŠ¨æå–ç‰¹å¾ï¼ˆç‰¹å¾å·¥ç¨‹ï¼‰ï¼Œ è€Œç¥ç»ç½‘ç»œå¯ä»¥è‡ªå·±æå–ç‰¹å¾ã€‚ å—é™ç»å°”å…¹æ›¼æœºæ˜¯ä¸¤å±‚ç¥ç»ç½‘ç»œã€‚åŒ…å«è¾“å…¥å±‚ï¼Œéšè—å±‚ï¼Œè¾“å‡ºå±‚ é¢„è®­ç»ƒï¼š â‘ è¿ç”¨åœ¨æ— ç›‘ç£å­¦ä¹ ä¸­ï¼Œ ä¸å‘Šè¯‰modelç‰¹å¾æœ‰å“ªäº› â‘¡ç”¨é¢„è®­ç»ƒç½‘ç»œåšå¾®è°ƒï¼šä¸€èˆ¬å›¾ç‰‡åˆ†ç±»çš„ç¥ç»ç½‘ç»œæ¯ä¸€ç±»åˆ«çš„å›¾ç‰‡é‡çº§è‡³å°‘åœ¨5000-10000å·¦å³ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¹ˆå¤šå›¾ç‰‡ï¼Œï¼ˆä½¿ç”¨æ•°æ®å¢å¼ºçš„æ–¹æ³•åä¹Ÿä¸å¤Ÿï¼‰ï¼Œæ­¤æ—¶å°±éœ€è¦ç”¨é¢„è®­ç»ƒç½‘ç»œäº†ï¼ˆåœ¨å‡ åä¸‡å¼ å›¾ç‰‡è®­ç»ƒé›†ä¸Šè·å¾—è¾ƒå¥½æ•ˆæœçš„å›¾ç‰‡å¤šåˆ†ç±»å™¨ï¼‰ã€‚ç„¶åç”¨æˆ‘ä»¬ç°æœ‰çš„å›¾ç‰‡åœ¨è¿™ä¸ªé¢„è®­ç»ƒç½‘ç»œçš„åŸºç¡€ä¸Šç»§ç»­è®­ç»ƒï¼Œ åˆ©ç”¨ç°æœ‰çš„å›¾ç‰‡ç»§ç»­è®­ç»ƒå°±æ˜¯ä¸ºäº†è®©ç½‘ç»œé‡æ–°é€‚åº”ç°æœ‰çš„å›¾ç‰‡è®­ç»ƒé›†ï¼Œ è¿™ç§é€‚åº”è¿‡ç¨‹å¾€å¾€æ¯”ä»å¤´è®­ç»ƒä¸€ä¸ªç½‘ç»œæ›´å¿«æ›´å¥½ï¼Œ è¿™ç§æ–¹æ³•è·Ÿè¿ç§»å­¦ä¹ çš„æ€æƒ³å¾ˆåƒã€‚ è‡ªæˆ‘ç¬¦å·åŒ–ï¼ˆåœ¨æ— ç›‘ç£å­¦ä¹ ä¸­å…·æœ‰ä»£è¡¨æ€§ï¼‰ï¼šå§æ”¶åˆ°çš„è¾“å…¥ä¿¡å·åŸåŸæœ¬æœ¬åœ°è¿”å›æ¥ã€‚ æ³¨æ„ï¼Œ å·¦å³çŸ¥è¯†ç»“æ„ä¸Šçš„å¤åˆ¶ï¼Œæƒå€¼æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™äº›æƒå€¼æ˜¯éœ€è¦è¿›è¡Œè°ƒæ•´åæ‰èƒ½æ»¡è¶³å³è¾¹çš„â€œè¾“å…¥â€ç­‰äºå·¦è¾¹è¾“å…¥çš„ã€‚åœ¨è¿™ä¸ªè°ƒæ•´æƒå€¼çš„è¿‡ç¨‹ä¸­ï¼Œè¾“å…¥æ•°æ®æ‰€éšå«çš„ç‰¹å¾å°±å¯ä»¥è¢«æŒ–æ˜å‡ºæ¥äº†ã€‚&gt;ä»è€Œä½¿å¾—ä¸­é—´å±‚å…·æœ‰èƒ½å¤Ÿåæ˜ è¾“å…¥æ•°æ®ä¸­ç‰¹å¾çš„èƒ½åŠ›ã€‚&gt; ä¸­é—´å±‚çš„è‡ªæˆ‘ç¬¦å·åŒ–è®­ç»ƒå…¶å®ä¹Ÿæ˜¯æå–ç‰¹å¾çš„è¿‡ç¨‹ å·ç§¯ç¥ç»ç½‘ç»œï¼š åœ¨å¤„ç†å›¾åƒæ—¶å·²æœ‰å·²çŸ¥çš„ç¥ç»ç½‘ç»œå¯ä»¥åˆ©ç”¨äº†â€”â€”å·ç§¯ç¥ç»ç½‘ç»œã€‚ å·ç§¯ï¼šå·ç§¯æ˜¯åˆ©ç”¨äº†ï¼Œäººåœ¨çœ‹è§å›¾åƒè¯†åˆ«å›¾åƒæ—¶å¹¶ä¸éœ€è¦å°†æ‰€æœ‰çš„ç»†å°åƒç´ å…¨éƒ¨çœ‹æ¸…çš„ç‰¹å¾è€Œè®¾è®¡çš„ã€‚å·ç§¯å°±æ˜¯åœ¨æŸç§ç¨‹åº¦ä¸Šå°†ä¸´è¿‘çš„åƒç´ ç»„åˆèµ·æ¥å½¢æˆæ–°çš„ç‰¹å¾é‡ï¼Œç„¶ååˆ©ç”¨å·ç§¯ç»“æœè¿›è¡Œåˆ†æ æ± åŒ–ï¼šåœ¨å›¾ç‰‡ä¸­å³ä½¿æ¨¡ç³Šæˆ‘ä»¬ä¹Ÿèƒ½é€šè¿‡æ¨¡ç³Šçš„å½±åƒå¤§è‡´åˆ¤æ–­å‡ºâ€”&gt;æ•°æ®å³ä½¿æœ‰äº›å·®å¼‚ä¹Ÿèƒ½å¤Ÿå¾—å‡ºåŒæ ·çš„ç»“æœã€‚å› æ­¤å¯ä»¥åˆ©ç”¨å·ç§¯å°†ç‰¹å¾è¿›è¡Œæ’åºï¼Œå°†ç›¸è¿‘çš„ç‰¹å¾è¿›è¡Œæ¯”è¾ƒå¹¶é€‰ç”¨å…¶ä¸­çš„æœ€å¤§å€¼æˆ–å¹³å‡å€¼ï¼Œå«åšæ± åŒ– â–²é€šè¿‡å·ç§¯å’Œæ± åŒ–æ“ä½œï¼Œç¥ç»ç½‘ç»œä»è€Œå¯ä»¥å°†å›¾åƒä¸­çš„ç‰¹å¾é‡è‡ªåŠ¨åœ°æå–å‡ºæ¥äº†ã€‚","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://nymrli.top/tags/è¯»ä¹¦ç¬”è®°/"}]},{"title":"å­¦ä¼šLatexå†™ä½œ","slug":"ç†Ÿæ‚‰Latexå†™ä½œ","date":"2020-11-28T11:55:06.000Z","updated":"2021-06-15T10:27:54.922Z","comments":true,"path":"2020/11/28/ç†Ÿæ‚‰Latexå†™ä½œ/","link":"","permalink":"https://nymrli.top/2020/11/28/ç†Ÿæ‚‰Latexå†™ä½œ/","excerpt":"","text":"é¦–å…ˆå¼€å§‹çš„ä¾¿æ˜¯æ–‡æ¡£å®šä¹‰: 12345\\documentclass[bachelor]&#123;njupthesis&#125;% \\documentclass[option]&#123;class&#125;% classæœ‰article, proc, minimal, book, slides% option: a4paper(çº¸å¼ å¤§å°)ã€10pt(å­—ä½“å¤§å°)ã€fleqn(è¡Œé—´å…¬å¼å¯¹é½æ–¹å¼)ã€leqno(è¡Œé—´å…¬å¼çš„ç¼–å·å¯¹é½æ–¹å¼)ã€onecolumn(å•æ )ã€titlepage(æ–‡æ¡£æ ‡é¢˜åå¦èµ·ä¸€é¡µ)\\end&#123;document&#125; æŸ¥çœ‹ï¼š https://blog.csdn.net/wei_love_2017/article/details/86617235 å¯ä»¥çœ‹åˆ°è¿™è¾¹çš„documentclassæ˜¯è‡ªå®šä¹‰çš„ï¼ŒåŸå› æ˜¯å› ä¸ºè¿™ä¸ªä½¿ç”¨çš„æ˜¯éƒ­å­¦é•¿åšçš„æ¯•è®¾latexæ¨¡æ¿ï¼Œ å› æ­¤å€Ÿæ­¤æœºä¼šä¹Ÿå­¦ä¹ ä¸‹Latexçš„æ¨¡æ¿åˆ¶ä½œï¼Œ ä¸»è¦æ˜¯clsæ–‡ä»¶çš„ç¼–å†™ clsæ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ LaTexä¸­å¸¸è§çš„æ–‡ä»¶æ ¼å¼æœ‰.tex, .bib, .cls, .sty, .bblç­‰ã€‚ .texæ–‡ä»¶ä¹Ÿå°±æ˜¯æˆ‘ä»¬å†™æ–‡æ¡£å†…å®¹çš„æ–‡ä»¶ï¼› .bibæ˜¯ä½¿ç”¨bibligraphyæ–¹å¼å¯¼å…¥å‚è€ƒæ–‡çŒ®æ—¶ï¼Œå†™å‚è€ƒæ–‡çŒ®çš„æ–‡æ¡£ï¼›.bblæ˜¯å…¶ç¼–è¯‘ä¹‹åå½¢æˆçš„æ–‡ä»¶; .styæ˜¯åŒ…æˆ–è€…é£æ ¼æ–‡ä»¶ï¼Œé€šå¸¸ä½¿ç”¨\\usepackageå¯¼ï¼› .clsæ˜¯ç±»æ–‡ä»¶ï¼Œé€šè¿‡æ–‡æ¡£æœ€å‰é¢çš„\\documentclasså‘½ä»¤å¯¼å…¥ ä¸€èˆ¬æ¥è¯´ï¼Œ.cls å’Œ .sty æ–‡ä»¶éƒ½æ˜¯å¢åŠ  LaTeX åŠŸèƒ½çš„è¡¥è¶³æ–‡ä»¶ã€‚å®ƒä»¬åœ¨æˆ‘ä»¬æ’ç‰ˆæ–‡ç« æ˜¯æ—¶å¯¹åº”çš„ä½¿ç”¨ \\documentclass{} å’Œ \\usepackage{} åŠ è½½ï¼›åœ¨åŒ…å†…éƒ¨åˆ™å¯¹åº”çš„ä½¿ç”¨ \\LoadClass,\\LoadClassWithOptions å’Œ \\RequirePackage,\\RequirePackageWithOptions åŠ è½½ã€‚ clsä¸styä¸åŒç‚¹ è™½ç„¶å®ƒä»¬éƒ½å¯ä»¥åŒ…å«ä»»æ„çš„ TeX å’Œ LaTeX ä»£ç ï¼Œä½†æ˜¯å®ƒä»¬çš„ä½¿ç”¨æ–¹å¼ä¸åŒã€‚æˆ‘ä»¬å¿…é¡»é€šè¿‡ \\documentclass åŠ è½½ä¸€ä¸ªç±»æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ª LaTeX æ–‡ä»¶ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œé€šå¸¸ä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªå‡ºç°çš„å‘½ä»¤ã€‚è€Œå¦ä¸€æ–¹é¢ï¼ŒåŒ…æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œå®ƒå¯ä»¥æ ¹æ®æˆ‘ä»¬çš„éœ€æ±‚åŠ è½½ä»»æ„å¤šä¸ªï¼ˆåœ¨å¼€å§‹æ–‡æ¡£ä¹‹å‰ï¼‰ã€‚ clsæ–‡ä»¶æ€ä¹ˆå†™çš„ï¼Ÿ clsæ–‡ä»¶å¯ä»¥åˆ†ä¸ºå››éƒ¨åˆ†ï¼Œæˆ‘æš‚ä¸”åˆ†åˆ«ç§°ä¹‹ä¸ºå£°æ˜ã€å®å®šä¹‰ã€è¾“å…¥æ•°æ®å¤„ç†ä»¥åŠå…¶ä»–å››éƒ¨åˆ† æ‰€è°“å£°æ˜ï¼Œåªæ˜¯è¯´æ˜äº†ç¼–è¯‘clsæ–‡ä»¶éœ€è¦ä»€ä¹ˆæ ·çš„TeXæ ¼å¼ä»¥åŠæœ¬clsæ–‡ä»¶å¯ä»¥æä¾›ä»€ä¹ˆå†…å®¹ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸‡å¹´ä¸å˜çš„ï¼Œå¦‚ä¸‹ï¼š 12\\ProvidesClass&#123;resume&#125;[Mylatex] % å…¶ä¸­ï¼Œ[ ]ä¸­çš„å†…å®¹å¯ä»¥éšä¾¿å¡«å†™å‘€~\\NeedsTeXFormat&#123;LaTeX2e&#125; ç¬¬äºŒéƒ¨åˆ†ï¼Œå®å®šä¹‰ï¼Œè¿™éƒ¨åˆ†å†…å®¹åˆ™æ˜¯å„å–æ‰€éœ€äº†ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥åœ¨æ­¤è¿›è¡Œç®€å•çš„å®šä¹‰ï¼Œæˆ‘åœ¨æ­¤å®šä¹‰äº†ä¸¤ä¸ª\\newifï¼Œç”¨äºåˆ¤æ–­ä¸­æ–‡ç®€å†å’Œè‹±æ–‡ç®€å†ï¼š 12\\newif\\ifChinese\\newif\\ifEnglish ç¬¬ä¸‰éƒ¨åˆ†ï¼Œå¤„ç†è¾“å…¥æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡æåˆ°çš„\\documentclass[a4paer,12pt]{article}ä¸­çš„a4paperå’Œ12ptè¿™ä¸¤æ¡æ•°æ®123456789101112131415161718192021222324252627 ```latex \\DeclareOption&#123;zh&#125;&#123;\\Chinesetrue\\Englishfalse&#125; \\DeclareOption&#123;en&#125;&#123;\\Chinesefalse\\Englishtrue&#125; \\DeclareOption*&#123;% \\PassOptionsToClass&#123;\\CurrentOption&#125;&#123;article&#125; &#125; \\ProcessOptions\\relax \\LoadClass&#123;article&#125; % å¯¹äºzhï¼Œæˆ‘è¿›è¡Œçš„æ“ä½œæ˜¯å°†\\Chineseè¿™ä¸ªå˜é‡è®¾ä¸ºtrueï¼Œ\\Englishè¿™ä¸ªå˜é‡è®¾ä¸ºfalseï¼Œä»¥ä¾¿åœ¨åç»­ä½¿ç”¨ç¬¬äºŒéƒ¨åˆ†å®šä¹‰çš„\\ifï¼Œ % ç¬¬ä¸‰æ¡è¯­å¥ä¸ºå°†åˆzh, enä¹‹å¤–çš„å…¶ä½™å‚æ•°ä¼ è‡³articleç±»ï¼Œä¾›articleç±»è¿›è¡Œå¤„ç†ï¼Œæœ€åå‘¢ï¼Œå°±æ˜¯åŠ è½½ç»§æ‰¿çš„articleç±»ï¼›â€”â€”å¦‚éƒ­å­¦é•¿njupthesisæ‰€åšçš„å¤„ç†ä¸º: \\LoadClass[12pt, openany, twoside]&#123;book&#125; ```4. ç¬¬å››éƒ¨åˆ†ï¼Œä¼šå…ˆå¯¼å…¥éœ€è¦ç”¨åˆ°çš„åŒ…ï¼Œä¹‹åå°†ä¸Šé¢çš„é›¶æ•£è¯­å¥è´´ä¸Šå»ã€‚åœ¨texæ–‡ä»¶ä¸­ï¼Œå¯¼å…¥åŒ…é€šå¸¸ä½¿ç”¨\\usepackageå‘½ä»¤ï¼Œä½†æ˜¯åœ¨clsä¸­ï¼Œä¸€èˆ¬è¦ä½¿ç”¨\\RequirePackageçš„æ–¹å¼å°†å…¶å¯¼å…¥ï¼Œå¦‚ï¼š ```latex % Customize the section headers \\RequirePackage&#123;titlesec&#125; % footnote \\RequirePackage&#123;fancyhdr&#125; % Set the margins \\RequirePackage[margin=0.5in]&#123;geometry&#125; \\RequirePackage[T1]&#123;fontenc&#125; ```æœ€åï¼Œåœ¨.texæ–‡ä»¶ä¸­é€šè¿‡`\\documentclass&#123;Mylatex&#125;`æ¥ä½¿ç”¨è¯¥clsæ–‡ä»¶å³å¯ æŸ¥çœ‹ï¼šã€LaTexã€‘clsæ–‡ä»¶ç¼–å†™å’Œä½¿ç”¨å…¥é—¨ \\ProvidesClass 12\\ProvidesClass&#123;njupthesis&#125;\\LoadClass[12pt, openany, twoside]&#123;book&#125; ProvidesClassä¸ºå®šä¹‰å‡ºçš„æ¨¡æ¿classå LoadClassä¸ºdocumentclassä¸­åŸå…ˆæŒ‡å®šçš„å‚æ•° \\DeclareOption 12345\\DeclareOption&#123;bachelor&#125;&#123; \\renewcommand&#123;\\chinesedegreename&#125;&#123;æœ¬ç§‘&#125; \\renewcommand&#123;\\chinesebooktitle&#125;&#123;æœ¬ç§‘ç”Ÿæ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰&#125; \\renewcommand&#123;\\englishbooktitle&#125;&#123;Bachelor Thesis&#125;&#125; å…³äº\\documentclassçš„optionè®¾ç½® \\newcommand å‚æ•°è¯´æ˜: \\newcommand\\cmd[å‚æ•°ä¸ªæ•°]{å‘½ä»¤çš„å®šä¹‰} 1234567891011121314151617181920212223242526272829303132% å§“åçš„å­—ä½“è¾ƒå¤§ï¼Œä¸”åŠ ç²—ï¼Œå®ç°æ–¹å¼ï¼š\\newcommand&#123;\\name&#125;[1]&#123; \\huge &#123;\\textbf&#123;#1&#125;&#125;&#125;% texä¸­è°ƒç”¨æ–¹å¼ä¸º: \\name&#123;Zhang San&#125;\\newcommand&#123;\\wanted&#125;[1]&#123; \\normalsize &#123;\\textbf&#123;ç”³è¯·èŒä½ï¼š&#125;&#125; #1 % \\textbf ä¸ºåŠ ç²— % \\normalsize ä¸ºè®¾ç½®å¸¸è§„å­—å·&#125;\\newcommand&#123;\\address&#125;[3]&#123; \\normalsize \\raisebox&#123;-3pt&#125;&#123;\\includegraphics[height=#1]&#123;#2&#125;&#125; #3 % \\includegraphics ä¸ºæ’å›¾çš„å‘½ä»¤: \\includegraphics[é€‰é¡¹]&#123;æ–‡ä»¶&#125; % \\raisebox: å‡é«˜æˆ–è€…é™ä½textç›’å­: \\raisebox&#123;ä¸Šç§»é‡&#125;[é«˜åº¦][æ·±åº¦]&#123;æ–‡æœ¬&#125; % #1è¡¨ç¤ºè¦æ˜¾ç¤ºå›¾æ ‡çš„é«˜åº¦ % #2è¡¨ç¤ºå›¾æ ‡æ–‡ä»¶å®Œæ•´è·¯å¾„ % #3è¡¨ç¤ºå›¾æ ‡åè¦æ˜¾ç¤ºçš„æ–‡å­—&#125;% texä¸­è°ƒç”¨æ–¹å¼ä¸º: \\address&#123;12pt&#125;&#123;add.png&#125;&#123;Nanjing, China&#125;\\newcommand&#123;\\edusubsection&#125;[3]&#123; \\subsection&#123;\\textbf&#123;#1&#125; \\hfill #2&#125; % \\sunsection é¢„è®¾äº†è¾ƒå¤§çš„å­—ä½“ % \\hfill è®¾ç½®å¼¹æ€§é•¿åº¦ \\vspace&#123;-4pt&#125; % \\vspace&#123;å®½åº¦å¤§å°&#125; è®¾ç½®å‚ç›´é—´è· &#123;\\normalfont\\normalsize #3&#125; \\vspace&#123;-10pt&#125;&#125; æœ€åä¸€ä¸ª\\edusubsectionçš„æ•ˆæœå›¾ åˆ†æä¸‹è¯­æ³•ï¼š\\newcommandä¸ºè‡ªå®šä¹‰å‘½ä»¤: \\newcommand{&lt;è‡ªå‘½åæŒ‡ä»¤&gt;}[&lt;å‚æ•°ä¸ªæ•°&gt;][&lt;é¦–å‚æ•°é»˜è®¤å€¼&gt;]{&lt;å…·ä½“çš„å®šä¹‰è¡Œä¸º&gt;} æ³¨ï¼š å‘½ä»¤åªèƒ½ç”±å­—æ¯ç»„æˆï¼Œä¸ç”¨ä»¥\\end{}ç»“å°¾ å–å‚æ•°æ—¶ï¼Œä»1å¼€å§‹ç´¢å¼• p.s. \\renewcommandé‡æ–°å®šä¹‰å·²æœ‰å‘½ä»¤ï¼Œ è¯­æ³•è·Ÿ\\newcommandç›¸åŒ \\DeclareCaptionFormat è®¾ç½®é¢˜ç›®æ ‡é¢˜æ ¼å¼ 12345678\\DeclareCaptionFormat&#123;algrule&#125;&#123;% &#123;\\@hangfrom&#123;#1#2&#125;% \\doublespacing \\small \\advance\\caption@parindent\\hangindent \\advance\\caption@hangindent\\hangindent \\caption@@par#3\\par&#125;%&#125; \\graphicspath è®¾ç½®å›¾ç‰‡è·¯å¾„ 1\\graphicspath&#123;&#123;./pic/&#125;&#125; \\titleformat è®¾ç½®å„ä¸ªtitleæ ¼å¼ 1234567891011121314\\titleformat&#123;\\chapter&#125;[block] &#123;\\centering\\fontsize&#123;15pt&#125;&#123;15pt&#125;\\selectfont\\heiti\\thispagestyle&#123;fancy&#125;&#125;&#123;\\thechapter&#125;&#123;2pc&#125;&#123;&#125;\\titleformat&#123;\\section&#125;[block] &#123;\\fontsize&#123;14pt&#125;&#123;14pt&#125;\\selectfont\\heiti&#125; &#123;\\thesection&#125;&#123;7pt&#125;&#123;&#125;\\titleformat&#123;\\subsection&#125;[block] &#123;\\fontsize&#123;14pt&#125;&#123;14pt&#125;\\selectfont\\heiti&#125; &#123;\\thesubsection&#125;&#123;7pt&#125;&#123;&#125;\\titleformat&#123;\\subsubsection&#125;[block] &#123;\\fontsize&#123;12pt&#125;&#123;12pt&#125;\\selectfont\\heiti&#125; &#123;\\thesubsubsection&#125;&#123;6pt&#125;&#123;&#125; \\newtheorem \\newtheorem{theorem}{Theorem}[Chapter] å¼•ç”¨ \\citing è®¾ç½®å¼•ç”¨ 1å½“ä»£ç”Ÿæ´»\\citing&#123;pedregosa2011scikit&#125;æ˜¯ä¸¥è‚ƒæ–‡å­¦å¤§å¸ˆçš„ä½œå“ã€‚ \\ref å¦‚å›¾æ‰€ç¤º 12% å¯è‡ªåŠ¨æ¸²æŸ“æˆå¦‚å›¾2-1æ‰€ç¤ºå¦‚å›¾\\ref&#123;c_s_structure_v2&#125;æ‰€ç¤º \\bibliography 12\\bibliographystyle&#123;IEEEtran&#125; % æŒ‰ç…§IEEEtran.bstçš„æ ·å¼å¼•ç”¨\\bibliography&#123;cog&#125; % å¼•ç”¨æ–‡ä»¶åˆ¶å®šä¸ºcog.bib \\newenvironment \\newenvironment{æ–°ç¯å¢ƒåç§°}[å‚æ•°ä¸ªæ•°][å‚æ•°é»˜è®¤å€¼]{å¼€å§‹éƒ¨åˆ†å®šä¹‰}{ç»“æŸéƒ¨åˆ†å®šä¹‰}ã€\\renewenvironment{æ–°ç¯å¢ƒåç§°}[å‚æ•°ä¸ªæ•°][å‚æ•°é»˜è®¤å€¼]{å¼€å§‹éƒ¨åˆ†å®šä¹‰}{ç»“æŸéƒ¨åˆ†å®šä¹‰} å…¶ä¸­å‚æ•°çš„ç”¨æ³•å’Œ\\newcommand ç›¸åŒï¼Œæœ€å¤šå…è®¸9ä¸ªå‚æ•°ï¼Œé¡ºåºä½¿ç”¨#1ã€#2ç­‰å¼•ç”¨å‚æ•°ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨å‚æ•°ï¼Œåˆ™[0]å¯ä»¥çœç•¥ã€‚å‡è®¾myenvç¯å¢ƒçš„è°ƒç”¨å¦‚ä¸‹ï¼š\\begin{myenv}{arg_1}â€¦{arg_k} åˆ™å¯ä»¥åœ¨â€œå¼€å§‹éƒ¨åˆ†å®šä¹‰â€ä¸­ä½¿ç”¨#1ï¼Œâ€¦#kæ¥å¼•ç”¨å‚æ•°ï¼Œè¿™æ˜¯newenvironmentä¼ é€’å‚æ•°çš„æ–¹å¼ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œnewenvironmentçš„å‚æ•°åªæœ‰åœ¨â€œå¼€å§‹éƒ¨åˆ†å®šä¹‰â€ä¸­æ‰èƒ½ä½¿ç”¨ï¼Œå³â€œç»“æŸéƒ¨åˆ†å®šä¹‰â€ä¸­çš„ä»£ç æ— æ³•è·å–å‚æ•°ã€‚å› æ­¤ï¼Œå¦‚æœè¦åœ¨â€œç»“æŸéƒ¨åˆ†å®šä¹‰â€ä¸­ä½¿ç”¨æ–°ç¯å¢ƒçš„å‚æ•°ï¼Œå¿…é¡»åœ¨â€œå¼€å§‹éƒ¨åˆ†å®šä¹‰â€ä¸­ä¿å­˜åˆ°å¯„å­˜å™¨ä¸­ï¼Œæ¯”å¦‚é€šè¿‡\\newsavebox å’Œ\\sbox ç­‰å‘½ä»¤ã€‚ ä¸¾ä¾‹ï¼š å…ˆçœ‹ä¸€ä¸ªç®€å•çš„æ–‡ç« â€œæ‘˜è¦â€ï¼ˆAbstractï¼‰çš„ä¾‹å­ï¼šå‡è®¾ï¼Œæ‘˜è¦çš„æ ‡é¢˜â€”æ‘˜è¦ï¼ˆAbstractï¼‰ä¸¤ä¸ªå­—åŠ ç²—å±…ä¸­æ˜¾ç¤ºï¼Œæ­£æ–‡ä½¿ç”¨quoteæ ¼å¼ï¼Œå®Œæ•´çš„ç¤ºä¾‹æ–‡ä»¶å‚è§2ã€‚ 1234567891011121314\\documentclass&#123;article&#125;\\pagestyle&#123;empty&#125;\\setlength\\textwidth&#123;3in&#125;%é™åˆ¶æ–‡æœ¬å®½åº¦ä½¿å¾—è¾ƒå°‘çš„æ–‡å­—å°±å®¹æ˜“çœ‹å‡ºæ–­è¡Œçš„æ•ˆæœ\\newenvironment&#123;Abstract&#125;&#123; \\begin&#123;center&#125;\\normalfont\\bfseries Abstract\\end&#123;center&#125; \\begin&#123;quote&#125;\\par&#125;%å¼€å§‹éƒ¨åˆ†å®šä¹‰&#123;\\end&#123;quote&#125;&#125;%ç»“æŸéƒ¨åˆ†å®šä¹‰\\begin&#123;document&#125;\\begin&#123;Abstract&#125; This abstract explain the approach userd to solve the problems at hand.\\end&#123;Abstract&#125;Some text following the abstract. Some text following the abstract. Some text following the abstract.\\end&#123;document&#125; bstæ–‡ä»¶ Latex: åˆ¶ä½œå’Œä¿®æ”¹éœ€è¦çš„å‚è€ƒæ–‡çŒ®æ ¼å¼ï¼ˆ.bstï¼‰ ä¸€èˆ¬çš„æœŸåˆŠæˆ–è€…ä¼šè®®éƒ½ä¼šæä¾›å‚è€ƒæ–‡çŒ®æ ¼å¼æ¨¡æ¿(.bst)ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰æä¾›çš„è¯ï¼Œä½ å¯ä»¥é€‰æ‹©è‡ªå·±åˆ¶ä½œä¸€ä¸ªbstæˆ–è€…å¯»æ‰¾ç±»ä¼¼çš„å†ä¿®æ”¹bstæ–‡ä»¶ã€‚è¿™æ˜¯ä¸€ç¯‡æ•™ä½ åˆ¶ä½œéœ€è¦çš„å‚è€ƒæ–‡çŒ®æ ¼å¼(.bst)çš„æ–‡ç« ã€‚æ–‡ç« ä¸»è¦åŒ…æ‹¬ä¸¤æ–¹é¢å†…å®¹ï¼š1ã€ä»å¤´åˆ¶ä½œ.bstæ–‡ä»¶ï¼ŒåŒ…æ‹¬å¯¹book,article,proceedingsç­‰ç­‰è¿›è¡Œæ ¼å¼è®¾ç½®ï¼›2ã€æ ¹æ®éœ€è¦å¾®è°ƒåšå¥½çš„bstæ–‡ä»¶ã€‚(å»ºè®®çœ‹ä¸‹æ–‡æ¡£A BibTEX Guide via Examples) å¦‚æœå‚è€ƒæ–‡çŒ®æ ¼å¼è¦æ±‚æ’åºæŒ‰å‡ºç°é¡ºåºï¼Œå¼•ç”¨æ–¹å¼ä¸ºæ•°å­—ï¼Œä½œè€…åªå‡ºç°ä¸‰ä¸ªï¼Œè¶…è¿‡ä¸‰ä¸ªç”¨et al è¡¨ç¤ºã€‚ä¾‹è¦æ±‚å‚è€ƒæ–‡çŒ®æ ¼å¼ä¸ºï¼š Journal articles [6] Borwn, L., Thomas, H., James, C., et al.:'The title of the paper, IET Communications, 2012, 6, (5), pp 125-138 bstæ–‡ä»¶ç¼–å†™ write$ä¸ºè¾“å‡ºå†…å®¹ï¼› missing$ä¸ºç¼ºå¤±ä¸€èˆ¬é…åˆif$ä½¿ç”¨ 1234567891011121314151617181920212223242526272829Entry&#123; note ...&#125;FUNCTION &#123;add.period&#125;&#123; &quot;. &quot; write$&#125;FUNCTION &#123;add.comma&#125;&#123; &quot;, &quot; write$&#125;FUNCTION &#123;online&#125;&#123; bibitem.begin format.title write$ add.period format.online_url write$ add.period // ä¸‹é¢è¡¨ç¤ºå¦‚æœæœ‰noteåˆ™è¾“å‡º &quot;note .&quot; note missing$ &apos;skip$ &#123; note write$ add.period &#125; if$ newline$&#125; njupthesis \\makecover å°é¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354\\newcommand&#123;\\makecover&#125;&#123;\\thispagestyle&#123;empty&#125;\\setlength&#123;\\extrarowheight&#125;&#123;36pt&#125;\\begin&#123;center&#125; \\fontsize&#123;36pt&#125;&#123;36pt&#125;\\selectfont&#123;\\heiti å—äº¬é‚®ç”µå¤§å­¦ \\\\ æ¯•&#123;&#125;ä¸š&#123;&#125;è®¾&#123;&#125;è®¡ï¼ˆè®º&#123;&#125;æ–‡ï¼‰\\\\&#125; \\vspace&#123;2cm&#125; \\begin&#123;tabular&#125;&#123;&gt;&#123;\\fontsize&#123;16pt&#125;&#123;16pt&#125;\\kaiti&#125;l &gt;&#123;\\centering\\arraybackslash\\fontsize&#123;15pt&#125;&#123;15pt&#125; \\kaiti&#125; p&#123;11.53cm&#125;&#125; é¢˜\\chinesespace\\chinesespace ç›®&#123;&#125;&#123;&#125; &amp; \\thetitle \\\\ \\cline&#123;2-2&#125; ä¸“\\chinesespace\\chinesespace ä¸š&#123;&#125;&#123;&#125; &amp; \\themajor \\\\ \\cline&#123;2-2&#125; å­¦ç”Ÿå§“å&#123;&#125;&#123;&#125; &amp; \\theauthor \\\\ \\cline&#123;2-2&#125; ç­çº§å­¦å·&#123;&#125;&#123;&#125; &amp; &#123;\\large \\thestudentid&#125; \\\\ \\cline&#123;2-2&#125; æŒ‡å¯¼è€å¸ˆ&#123;&#125;&#123;&#125; &amp; \\theadvisor \\\\ \\cline&#123;2-2&#125; æŒ‡å¯¼å•ä½&#123;&#125;&#123;&#125; &amp; \\theschool \\\\ \\cline&#123;2-2&#125; \\end&#123;tabular&#125; \\vspace&#123;5cm&#125;\\fontsize&#123;16pt&#125;&#123;16pt&#125;\\selectfont&#123;\\kaiti æ—¥æœŸï¼š\\quad \\thebegindate &#123;&#125; è‡³\\hspace&#123;.5pc&#125; \\thefinishdate \\\\&#125;\\end&#123;center&#125;\\newpage\\thispagestyle&#123;empty&#125;\\noindent\\begin&#123;center&#125; \\fontsize&#123;16pt&#125;&#123;16pt&#125;\\selectfont&#123;\\heiti æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰åŸåˆ›æ€§å£°æ˜ &#125; \\\\[48bp]\\end&#123;center&#125;\\begin&#123;spacing&#125;&#123;2.0&#125;éƒ‘é‡å£°æ˜ï¼šæ‰€æäº¤çš„æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ï¼Œæ˜¯æœ¬äººåœ¨å¯¼å¸ˆæŒ‡å¯¼ä¸‹ï¼Œç‹¬ç«‹è¿›è¡Œç ”ç©¶å·¥ä½œæ‰€å–å¾—çš„æˆæœã€‚é™¤æ–‡ä¸­å·²æ³¨æ˜å¼•ç”¨çš„å†…å®¹å¤–ï¼Œæœ¬æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰ä¸åŒ…å«ä»»ä½•å…¶ä»–ä¸ªäººæˆ–é›†ä½“å·²ç»å‘è¡¨æˆ–æ’°å†™è¿‡çš„ä½œå“æˆæœã€‚å¯¹æœ¬ç ”ç©¶åšå‡ºè¿‡é‡è¦è´¡çŒ®çš„ä¸ªäººå’Œé›†ä½“ï¼Œå‡å·²åœ¨æ–‡ä¸­ä»¥æ˜ç¡®æ–¹å¼æ ‡æ˜å¹¶è¡¨ç¤ºäº†è°¢æ„ã€‚\\\\ \\\\ \\hspace*&#123;7cm&#125; è®ºæ–‡ä½œè€…ç­¾åï¼š\\hspace*&#123;7cm&#125; æ—¥æœŸï¼š\\quad\\quad å¹´\\quad\\quad æœˆ\\quad\\quad æ—¥\\end&#123;spacing&#125;\\newpage\\setcounter&#123;page&#125;&#123;0&#125;\\setcounter&#123;pseudopage&#125;&#123;0&#125;\\setlength&#123;\\extrarowheight&#125;&#123;5pt&#125;&#125; \\thesistableofcontents ç›®å½• 1234567% TODO: æ›´æ”¹ç›®å½•æ ·å¼\\newcommand&#123;\\thesistableofcontents&#125;&#123; \\pdfbookmark&#123;ç›®å½•&#125;&#123;toc&#125; \\tableofcontents \\thispagestyle&#123;empty&#125;&#125; \\thesisappendix é™„å½• 12345678910111213\\newcommand&#123;\\thesisappendix&#125;&#123; \\chapter*&#123;é™„\\chinesespace\\chinesespace å½•&#125; \\setcounter&#123;section&#125;&#123;0&#125; % \\setcounter&#123;secnumdepth&#125;&#123;4&#125; %å¢åŠ ç¼–å·æ·±åº¦ % \\setcounter&#123;tocdepth&#125;&#123;4&#125; %å¢åŠ ç›®å½•æ·±åº¦ \\addcontentsline&#123;toc&#125;&#123;chapter&#125;&#123;é™„å½•&#125; \\markboth&#123;é™„å½•&#125;&#123;é™„å½•&#125; \\thispagestyle&#123;fancy&#125; \\renewcommand&#123;\\theequation&#125;&#123;a-\\arabic&#123;equation&#125;&#125; \\renewcommand&#123;\\thetable&#125;&#123;a-\\arabic&#123;table&#125;&#125; \\renewcommand&#123;\\thefigure&#125;&#123;a-\\arabic&#123;figure&#125;&#125;&#125; \\thesisacknowledgement è‡´è°¢ 123456789\\newcommand&#123;\\thesisacknowledgement&#125;&#123; \\renewcommand\\thesection&#123;\\arabic&#123;section&#125;&#125; \\addtocontents&#123;toc&#125;&#123;\\protect\\setcounter&#123;tocdepth&#125;&#123;0&#125;&#125; \\setcounter&#123;section&#125;&#123;0&#125; \\chapter*&#123;è‡´\\chinesespace\\chinesespace è°¢&#125; \\addcontentsline&#123;toc&#125;&#123;chapter&#125;&#123;è‡´è°¢&#125; \\markboth&#123;è‡´è°¢&#125;&#123;è‡´è°¢&#125; \\thispagestyle&#123;fancy&#125;&#125; \\thesischapterexordium ç« ç»ªè®º 1234567\\newcommand&#123;\\thesischapterexordium&#125;&#123; \\newpage \\addtocontents&#123;toc&#125;&#123;\\protect\\setcounter&#123;tocdepth&#125;&#123;2&#125;&#125; \\standardhead \\pagenumbering&#123;arabic&#125; \\setcounter&#123;page&#125;&#123;1&#125;&#125; \\thesisloadbibliography referenceå¼•ç”¨ 123456789\\newcommand&#123;\\thesisloadbibliography&#125;[2][]&#123; \\ifthenelse&#123; \\equal&#123;#1&#125;&#123;nocite&#125; &#125;&#123; \\nocite&#123;*&#125; &#125;&#123;&#125; \\bibliographystyle&#123;njupthesis&#125; \\bibliography&#123;#2&#125;&#125; ä½¿ç”¨ LaTeX ä¸­åˆ—è¡¨ç¯å¢ƒçš„ä½¿ç”¨â€”â€”æœ‰åºåºå·å’Œæ— åºåºå· enumerate: LaTeXä¸­è‡ªå®šä¹‰enumerateçš„ç¼–å·æ ¼å¼ enumitem: æ˜¯enumerateçš„å°è£…ï¼Œ å¢åŠ äº†é¢„è®¾çš„ç¼©è¿›ç­‰è®¾ç½® 123456\\begin&#123;enumerate&#125; \\renewcommand&#123;\\labelenumi&#125;&#123;(\\theenumi)&#125; \\item \\item \\item \\end&#123;enumerate&#125; from ï¼š latex ä½¿ç”¨ enumitem å®åŒ…è°ƒæ•´ enumerate æˆ– itemize çš„ä¸Šä¸‹å·¦å³ç¼©è¿›é—´è· å›¾ç‰‡çš„æ’å…¥åŠæ’ç‰ˆæ–¹æ³•â€”â€”å¹¶æ’æ’å…¥å›¾ç‰‡ 123456\\begin&#123;figure&#125;[htbp] \\centering \\includegraphics[scale=0.2]&#123;girl.eps&#125; \\caption&#123;figure title&#125; \\label&#123;figure&#125;\\end&#123;figure&#125; è§£é‡Šä¸€ä¸‹æ¯ä¸€å¥çš„åŠŸèƒ½ï¼š Line 1ï¼š\\begin{figure} ~ \\end{figure} æ˜¯å›ºå®šç”¨æ³•ï¼Œåªè¦æ’å…¥å›¾ç‰‡ï¼Œå°±éœ€è¦æœ‰è¿™ä¹ˆä¸€å¯¹å„¿ï¼›æ–¹æ‹¬å· [] å†…æ˜¯æ§åˆ¶å‚æ•°ï¼Œæ§åˆ¶äº†æ•´å¹…å›¾çš„ä½ç½®ï¼› å›¾ç‰‡ä½ç½®æ§åˆ¶å‚æ•°ï¼š\\begin{figure}[htbp] [h] è¡¨ç¤ºå½“å‰ä½ç½®ï¼ˆhereï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´å›¾ç‰‡å°†æ”¾åœ¨ä½ è®¾ç½®çš„å½“å‰ä½ç½®ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸€é¡µçš„ç©ºé—´ä¸è¶³ä»¥æ”¾ä¸‹è¿™ä¸ªå›¾ç‰‡ï¼Œæ­¤æ—¶å›¾ç‰‡ä¼šè½¬åˆ°ä¸‹ä¸€é¡µï¼› [t] é¡¶ç«¯ï¼ˆtopï¼‰ï¼Œæ­¤æ—¶ä¼˜å…ˆå°†å›¾ç‰‡æ”¾ç½®åœ¨é¡µé¢çš„é¡¶éƒ¨ï¼› [b] åº•éƒ¨ï¼ˆbottomï¼‰æ­¤æ—¶ä¼˜å…ˆå°†å›¾ç‰‡æ”¾ç½®åœ¨é¡µé¢åº•éƒ¨ï¼› [p] å°†å›¾ç‰‡è®¾ç½®ä¸ºæµ®åŠ¨çŠ¶æ€ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ’ç‰ˆå›¾ç‰‡çš„ä½ç½®ï¼› ä¸€èˆ¬æ¨èè¿™å‡ ä¸ªå‚æ•°ç»“åˆä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š[ht]ã€[htbp]ï¼Œæ­¤æ—¶è¿™å‡ ç§ä½ç½®å…·æœ‰ä¼˜å…ˆçº§ã€‚ Line 2ï¼š\\centering è¡¨ç¤ºå°†å›¾ç‰‡å±…ä¸­æ˜¾ç¤ºï¼› Line 3ï¼š\\includegraphics{} ç”¨äºæ’å…¥ä¸€å¼ å›¾ç‰‡ï¼ŒèŠ±æ‹¬å· {} å†…å°±æ˜¯å›¾ç‰‡çš„åç§°ï¼Œæ–¹æ‹¬å· [] å†…åŒæ ·æ˜¯æ§åˆ¶å‚æ•°ï¼Œä½†è¿™é‡Œæ§åˆ¶çš„æ˜¯å›¾ç‰‡çš„æ˜¾ç¤ºå¤§å°ï¼› å›¾ç‰‡å¤§å°æ§åˆ¶å‚æ•°ï¼š\\includegraphics[scale=0.2]{girl.eps} [scale]ï¼Œè¡¨ç¤ºæŒ‰åŸå›¾æ¯”ä¾‹ç¼©æ”¾ï¼Œæ¯”å¦‚ scale=0.2 è¡¨ç¤ºå°†åŸå›¾ç¼©å° 5 å€ï¼Œå¦‚æœè¦æ”¾å¤§åªéœ€è¦å°† scale è®¾ç½®ä¸ºå¤§äº 1 å³å¯ï¼› è¿˜å¯ä»¥ç›´æ¥è®¾ç½®å›¾ç‰‡å®½é«˜ï¼Œæ¯”å¦‚ [height = 1cm, width = 2cm]ã€‚ Latexå›¾ç‰‡æ—‹è½¬ ç¼©æ”¾ Line 4ï¼š\\caption{} æ˜¯è¿™å¹…å›¾çš„å›¾ä¾‹ä¿¡æ¯ï¼› Line 5ï¼š\\label{xxx} æ˜¯è¿™å¹…å›¾çš„æ ‡ç­¾ï¼Œåœ¨å†™è®ºæ–‡æ—¶éœ€è¦åœ¨æ­£æ–‡ä¸­å¼•ç”¨ï¼Œè¿™æ—¶å€™ç”¨æ ‡ç­¾ç›´æ¥æ¥å¼•å°±çœå»äº†ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ï¼›æ–‡ä¸­é€šè¿‡\\ref{xxx}æ¥å¼•ç”¨ \\table åˆ›å»ºè¡¨æ ¼ 12345678910111213141516171819\\documentclass&#123;article&#125;\\begin&#123;document&#125;\\begin&#123;table&#125;[h!] \\begin&#123;center&#125; \\caption&#123;Your first table.&#125; \\begin&#123;tabular&#125;&#123;l|c|r&#125; % &lt;-- Alignments: 1st column left, 2nd middle and 3rd right, with vertical lines in between \\textbf&#123;Value 1&#125; &amp; \\textbf&#123;Value 2&#125; &amp; \\textbf&#123;Value 3&#125;\\\\ $\\alpha$ &amp; $\\beta$ &amp; $\\gamma$ \\\\ \\hline 1 &amp; 1110.1 &amp; a\\\\ 2 &amp; 10.1 &amp; b\\\\ 3 &amp; 23.113231 &amp; c\\\\ \\end&#123;tabular&#125; \\end&#123;center&#125;\\end&#123;table&#125;\\end&#123;document&#125; ç»˜åˆ¶Latexè¡¨æ ¼éœ€è¦ç”¨åˆ° table å’Œ tabular ç¯å¢ƒã€‚å…¶ä¸­ table ç¯å¢ƒé‡Œå†™è¡¨æ ¼çš„æ ‡é¢˜ï¼ˆcaptionï¼‰ã€è¡¨æ ¼çš„åç§»ä¹‹ç±»çš„ã€‚ tabular ç¯å¢ƒåˆ™æ˜¯ç»˜åˆ¶è¡¨æ ¼çš„å†…å®¹ã€‚ é¦–å…ˆæ˜¯ table ç¯å¢ƒéƒ¨åˆ†ï¼Œ\\begin{center}è®©è¡¨æ ¼å±…ä¸­ï¼Œ\\caption{Your first table.}å†™è¡¨æ ¼çš„æ ‡é¢˜ã€‚ ç„¶åæ˜¯ tabular ç¯å¢ƒéƒ¨åˆ†ï¼Œ\\begin{tabular}{l|c|r}è¿™é‡Œé¢çš„{l|c|r}ï¼ŒåŒ…å«äº†ä¸‰ä¸ªå­—æ¯ï¼Œä»£è¡¨äº†è¡¨æ ¼æ€»å…±æœ‰ä¸‰åˆ—ï¼Œç¬¬ä¸€åˆ—é å·¦åç§»ï¼Œç¬¬äºŒåˆ—å±…ä¸­ï¼Œç¬¬ä¸‰åˆ—é å³åç§»ã€‚ç«–çº¿ä»£è¡¨åˆ—ä¹‹é—´ç”¨çº¿åˆ†éš”å¼€æ¥ï¼Œå¦‚æœæƒ³è¦å·¦å³ä¸¤è¾¹éƒ½ç”¨çº¿åŒ…å›´èµ·æ¥ï¼Œåº”è¯¥æ”¹æˆ{|l|c|r|}ã€‚æ¥ä¸‹æ¥å°±æ˜¯æ­£å¼çš„è¡¨æ ¼ç»˜åˆ¶éƒ¨åˆ†ã€‚ latexé‡Œçš„è¡¨æ ¼æ˜¯ä¸€è¡Œè¡Œæ¥ç»˜åˆ¶çš„ï¼Œæ¯ä¸€è¡Œé‡Œé¢ç”¨&amp;æ¥åˆ†éš”å„ä¸ªå…ƒç´ ï¼Œç”¨\\æ¥ç»“æŸå½“å‰è¿™ä¸€è¡Œçš„ç»˜åˆ¶ã€‚ä»£ç ä¸­\\textbf{Value 1} &amp; \\textbf{Value 2} &amp; \\textbf{Value 3}\\ç»˜åˆ¶è¡¨æ ¼çš„ç¬¬ä¸€è¡Œï¼Œæ˜¯ä¸‰ä¸ªåŠ ç²—çš„å­—ç¬¦ä¸²ã€‚ç¬¬äºŒè¡ŒÎ±\\alphaÎ± &amp; Î²\\betaÎ² &amp; Î³\\gammaÎ³ \\åˆ™æ˜¯ä¸‰ä¸ªå¸Œè…Šå­—ç¬¦ã€‚ æ¥ç€æ˜¯\\hlineï¼Œå®ƒçš„ä½œç”¨æ˜¯ç”»ä¸€æ•´æ¡æ¨ªçº¿ï¼Œæ³¨æ„å¦‚æœæƒ³ç”»ä¸€æ¡åªç»è¿‡éƒ¨åˆ†åˆ—çš„æ¨ªçº¿ï¼Œåˆ™å¯ä»¥ç”¨cline{a-b}ï¼Œä»£è¡¨çš„æ˜¯ç”»ä¸€æ¡ä»ç¬¬aåˆ—åˆ°ç¬¬båˆ—çš„æ¨ªçº¿ã€‚ å‚æ•°è¯´æ˜ï¼š h here å½“å‰ä½ç½®ï¼›å°†å›¾å½¢æ”¾ç½®åœ¨ æ­£æ–‡æ–‡æœ¬ä¸­ç»™å‡ºè¯¥å›¾å½¢ç¯å¢ƒçš„åœ°æ–¹ã€‚å¦‚æœæœ¬é¡µæ‰€å‰©çš„é¡µé¢ä¸å¤Ÿï¼Œ è¿™ä¸€å‚æ•°å°†ä¸èµ·ä½œç”¨ã€‚ t top é¡¶éƒ¨ï¼›å°†å›¾å½¢æ”¾ç½®åœ¨é¡µé¢çš„é¡¶éƒ¨ã€‚ b bottom åº•éƒ¨ï¼›å°†å›¾å½¢æ”¾ç½®åœ¨é¡µé¢çš„åº•éƒ¨ã€‚ p page æµ®åŠ¨é¡µï¼›å°†å›¾å½¢æ”¾ç½®åœ¨ä¸€åªå…è®¸æœ‰æµ®åŠ¨å¯¹è±¡çš„é¡µé¢ä¸Šã€‚ ref: latexè¡¨æ ¼è¯¦ç»†æ•™ç¨‹ï¼ˆtable, tabular, multirow, multicolumnï¼‰ LaTeXè¡¨æ ¼Tableä½¿ç”¨è§£æ \\algorithm ç®—æ³•æµç¨‹å›¾-ã€‹ä¼ªä»£ç  æ¦‚æ‹¬ç‰ˆæœ¬ algorithm - float wrapper for algorithms. algorithmic - first algorithm typesetting environment. algorithmicx - second algorithm typesetting environment. algpseudocode - layout for algorithmicx. algorithm2e - third algorithm typesetting environment. from : https://zhuanlan.zhihu.com/p/145195565?from_voters_page=true ä½¿ç”¨\\algorithmç¼–å†™ä¼ªä»£ç æµç¨‹æ—¶ï¼Œå…ˆå…³æ³¨ç±»ä¸­ä½¿ç”¨çš„packageæ˜¯ä»€ä¹ˆã€‚ä¸ç„¶ä¼šå‡ºç°å†²çªï¼Œæ¯”å¦‚algorithm2eä¸algorithmicx å°±ä¼šäº§ç”Ÿå†²çª, æŠ¥é”™å¦‚ä¸‹ï¼š 123456789LaTeX Warning: Label(s) may have changed. Rerun to get cross-references right. ) (see the transcript file for additional information)Output written on main.pdf (24 pages).SyncTeX written on main.synctex.gz.Transcript written on main.log. ä¸¤è€…é€‰å…¶ä¸€å³å¯ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546% algorithm2eçš„æ¨¡æ¿å¦‚ä¸‹ï¼š\\begin&#123;algorithm&#125;[H] \\SetAlgoLined \\KwData&#123;this text&#125; \\KwResult&#123;how to write algorithm with \\LaTeX2e &#125; initialization\\; \\While&#123;not at end of this document&#125;&#123; read current\\; \\eIf&#123;understand&#125;&#123; go to next section\\; current section becomes this one\\; &#125;&#123; go back to the beginning of current section\\; &#125; &#125;\\caption&#123;How to write algorithms&#125;\\end&#123;algorithm&#125;% algorithmicx\\begin&#123;algorithm&#125;[h] \\caption&#123;An example for format For \\&amp; While Loop in Algorithm&#125; \\begin&#123;algorithmic&#125;[1] \\For&#123;each $i\\in [1,9]$&#125; \\State initialize a tree $T_&#123;i&#125;$ with only a leaf (the root); \\State $T=T\\cup T_&#123;i&#125;;$ \\EndFor \\ForAll &#123;$c$ such that $c\\in RecentMBatch(E_&#123;n-1&#125;)$&#125; \\label&#123;code:TrainBase:getc&#125; \\State $T=T\\cup PosSample(c)$; \\label&#123;code:TrainBase:pos&#125; \\EndFor; \\For&#123;$i=1$; $i&lt;n$; $i++$ &#125; \\State $//$ Your source here; \\EndFor \\For&#123;$i=1$ to $n$&#125; \\State $//$ Your source here; \\EndFor \\State $//$ Reusing recent base classifiers. \\label&#123;code:recentStart&#125; \\While &#123;$(|E_n| \\leq L_1 )and( D \\neq \\phi)$&#125; \\State Selecting the most recent classifier $c_i$ from $D$; \\State $D=D-c_i$; \\State $E_n=E_n+c_i$; \\EndWhile \\label&#123;code:recentEnd&#125; \\end&#123;algorithmic&#125; \\end&#123;algorithm&#125; ä½¿ç”¨ï¼š https://blog.csdn.net/lwb102063/article/details/53046265 é‡‡å‘ å­—ä½“æŠ¥é”™ åœ¨CLSç±»æ–‡ä»¶ä¸­å®šä¹‰äº†å…¨å±€å­—ä½“: ï¼Œç”±äºé‡è£…ç³»ç»Ÿåå­—ä½“å¯èƒ½å°±å®‰è£…çš„ä¸å…¨äº†ï¼Œå¯¼è‡´äº†ç¼–è¯‘æŠ¥é”™ æŠ¥é”™å¦‚ä¸‹ï¼š 123456kpathsea: Running mktexmf SimKai/OT.mfThe command name is E:\\texlive\\2019\\bin\\win32\\mktexmfCannot find SimKai/OT.mf.name = SimKai/OT, rootname = SimKai/OT, pointsize = mktexmf: empty or non-existent rootfile! åŸå› å¦‚ä¸‹ï¼š 123456\\ifwindows \\setallmainfonts&#123;Times New Roman&#125; \\setCJKmainfont[AutoFakeBold=true]&#123;SimSun&#125; \\newCJKfontfamily&#123;\\heiti&#125;&#123;SimHei&#125; \\newCJKfontfamily&#123;\\kaiti&#125;&#123;SimKai&#125; % \\newCJKfontfamily&#123;\\kaiti&#125;&#123;KaiTi&#125; ç™¾åº¦ä¹‹åå‘ç°SimKaiå°±æ˜¯æ¥·ä½“_GB2312ï¼Œä½†æ˜¯fontNameå¹¶ä¸æ˜¯æ–‡ä»¶ä¸­è§„å®šçš„SimHeiï¼Œè€Œåˆæ‰¾ä¸åˆ°ttfåä¸ºSimKaiçš„å­—ä½“äº†ï¼Œ å› æ­¤ç›´æ¥é€šè¿‡è§£å†³CLSæ–‡ä»¶å®šä¹‰æ¥è§£å†³é—®é¢˜ã€‚ fc-list | grep simæŸ¥æ‰¾ç”µè„‘ä¸Šå®‰è£…çš„å­—ä½“åˆ—è¡¨ï¼Œæ‰¾å‡º 123456789101112131415C:/WINDOWS/fonts/simsun.ttc: æ–°å®‹ä½“,NSimSun:style=å¸¸è§„,RegularC:/WINDOWS/fonts/simfang.ttf: ä»¿å®‹,FangSong:style=Regular,Normal,obyÄejnÃ©,Standard,ÎšÎ±Î½Î¿Î½Î¹ÎºÎ¬,Normaali,NormÃ¡l,Normale,Standaard,Normalny,ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹,NormÃ¡lne,Navadno,ArruntaC:/WINDOWS/fonts/simsunb.ttf: SimSun\\-ExtB:style=Regular,Normal,obyÄejnÃ©,Standard,ÎšÎ±Î½Î¿Î½Î¹ÎºÎ¬,Normaali,NormÃ¡l,Normale,Standaard,Normalny,ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹,NormÃ¡lne,Navadno,ArruntaC:/WINDOWS/fonts/simhei.ttf: é»‘ä½“,SimHei:style=Regular,Normal,obyÄejnÃ©,Standard,ÎšÎ±Î½Î¿Î½Î¹ÎºÎ¬,Normaali,NormÃ¡l,Normale,Standaard,Normalny,ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹,NormÃ¡lne,Navadno,ArruntaC:/WINDOWS/fonts/simsun.ttc: å®‹ä½“,SimSun:style=å¸¸è§„,RegularC:/WINDOWS/fonts/PERTILI.TTF: Perpetua Titling MT:style=Light,Mager,Fina,Maigre,ChiarissimoC:/WINDOWS/fonts/simkai.ttf: æ¥·ä½“,KaiTi:style=Regular,Normal,obyÄejnÃ©,Standard,ÎšÎ±Î½Î¿Î½Î¹ÎºÎ¬,Normaali,NormÃ¡l,Normale,Standaard,Normalny,ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹,NormÃ¡lne,Navadno,Arrunta å› æ­¤è§‚å¯Ÿåˆ°ä¸‹è½½å®‰è£…çš„simkai.ttfçš„è‹±æ–‡åå«KaiTi ä¿®æ”¹CLSæ–‡ä»¶ä¸­çš„å®šä¹‰ï¼Œ å°†\\newCJKfontfamily{\\kaiti}{SimKai}æ”¹ä¸º\\newCJKfontfamily{\\kaiti}{KaiTi} é—®é¢˜è§£å†³ Latexçš„\\citeåé¢çš„å‚è€ƒæ–‡çŒ®æ˜¾ç¤ºé—®å· [?] + ä¸æ˜¾ç¤ºå‚è€ƒæ–‡çŒ® referer: Latex å¼•ç”¨å‚è€ƒæ–‡çŒ®æ˜¾ç¤ºé—®å·[?]çš„å‡ ç§æƒ…å†µåŠè§£å†³åŠæ³• Latexçš„\\citeåé¢çš„å‚è€ƒæ–‡çŒ®æ˜¾ç¤ºé—®å· [?]â€”â€”â˜†work usepackageå’Œrequirepackageçš„åŒºåˆ« &quot;the convention is to use \\RequirePackage in a package or class and \\usepackage in oa document&quot;l. 123456789% right\\RequirePackage&#123;atbegshi&#125; \\documentclass ....% wrong\\usepackage&#123;atbegshi&#125; \\documentclass ...% --&gt;RequirePackageåœ¨documentclassä¹‹å‰å®šä¹‰ï¼Œ usepackageåœ¨æ–‡æ¡£ä¸­å®šä¹‰`The only difference is that \\usepackage cannot be used before \\documentclass. Otherwise there is no functional difference. ` æ€»ç»“ï¼š {}ä¸­çš„å¤§å¤šä¸ºå…·ä½“å†…å®¹ï¼Œ []ä¸­çš„å¤§å¤šä¸ºoptioné€‰é¡¹è®¾ç½® \\newcommand{\\xxx}ç›¸å½“äºä¸€ä¸ªå®å®šä¹‰æ›¿æ¢ï¼Œ åœ¨texä¸­ç›´æ¥ä½¿ç”¨æŒ‡ä»¤\\xxxxå³å¯ï¼›\\newenvironment{xxx}{}ç›¸å¯¹è€Œè¨€å¤æ‚ä¸€ç‚¹ï¼Œåœ¨texä¸­éœ€è¦ç”¨\\begin{xxx} ... \\end{xxx} æ¨ªçº¿ï¼š ruleå¦‚\\midrule","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"æ·±åº¦å­¦ä¹ +Pytorchå­¦ä¹ ç¬”è®°","slug":"æ·±åº¦å­¦ä¹ -Pytorchè¯»ä¹¦ç¬”è®°","date":"2020-11-28T03:24:12.000Z","updated":"2021-11-28T01:39:30.490Z","comments":true,"path":"2020/11/28/æ·±åº¦å­¦ä¹ -Pytorchè¯»ä¹¦ç¬”è®°/","link":"","permalink":"https://nymrli.top/2020/11/28/æ·±åº¦å­¦ä¹ -Pytorchè¯»ä¹¦ç¬”è®°/","excerpt":"","text":"åœ¨è¯¾ç¨‹è®¾è®¡å®éªŒå‘¨é‡Œæ€»å…±è¯»äº†3æœ¬ä¹¦ï¼Œ ã€Šæ·±åº¦å­¦ä¹ ç®—æ³•å®è·µã€‹ã€ã€Šæ·±åº¦å­¦ä¹ æ¡†æ¶PyTorchå¿«é€Ÿå¼€å‘ä¸å®æˆ˜ã€‹ã€ã€ŠPyTorchæ·±åº¦å­¦ä¹ å…¥é—¨ã€‹ã€‚ å…¶ä¸­ã€Šæ·±åº¦å­¦ä¹ ç®—æ³•å®è·µã€‹ã€ã€Šæ·±åº¦å­¦ä¹ æ¡†æ¶PyTorchå¿«é€Ÿå¼€å‘ä¸å®æˆ˜ã€‹æ¯”è¾ƒå¤±æœ›ï¼Œè´¨é‡æ¯”è¾ƒå·®ï¼›ã€ŠPyTorchæ·±åº¦å­¦ä¹ å…¥é—¨ã€‹çš„ä»£ç è´¨é‡é«˜ä¸€ç‚¹ï¼Œä½†éœ€è¦ç†è®ºè¾…åŠ©ï¼Œç”±äºäº‹å…ˆçœ‹äº†æå®æ¯…è€å¸ˆçš„æ·±åº¦å­¦ä¹ ï¼Œå› æ­¤è¿˜ç®—å®¹æ˜“å…¥æ‰‹ã€‚ ã€Šæ·±åº¦å­¦ä¹ æ¡†æ¶PyTorchå¿«é€Ÿå¼€å‘ä¸å®æˆ˜ã€‹ ç½‘ä¸Šå…³äºã€Šæ·±åº¦å­¦ä¹ æ¡†æ¶PyTorchå¿«é€Ÿå¼€å‘ä¸å®æˆ˜ã€‹çš„è¯„ä»·ï¼š å…³äºä½œè€… ä½œè€…ä¸€å…±ä¸‰ä¸ªï¼Œåœ¨å°é¢å†…ä¾§æœ‰ç®€å•çš„ä»‹ç», ä¸‰ä¸ªä½œè€…çš„ç®€ç»é‡Œæ²¡æœ‰â€œæ·±åº¦å­¦ä¹ â€ç›¸å…³çš„å†…å®¹ï¼ˆè¯·æ³¨æ„ä¹¦åï¼‰.å•ä»è¿™æœ¬ä¹¦çš„ä½œè€…ä»‹ç»æ¥è¯´ï¼Œè¿™å‡ ä¸ªä½œè€…æ˜¯å¾ˆä¸ä¸“ä¸šçš„ï¼Œæ¢è¨€ä¹‹ï¼Œè¿™å‡ ä¸ªäººå¯èƒ½æœªå¿…å¤Ÿèµ„æ ¼å†™è¿™ä¹ˆä¸€æœ¬ä¹¦ï¼ˆå°±äº‹è®ºäº‹ï¼Œæ²¡æœ‰ä»»ä½•ä¸å°Šé‡äººçš„æ„æ€ï¼‰ ä»£ç è´¨é‡å·®åˆ°ç¦»è°± PyTorchç‰ˆæœ¬é—®é¢˜ï¼ˆè¿™ä¸ªæ˜¯æŠ€æœ¯ç›¸å…³ä¹¦ç±éƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œå¯ä»¥æ¥å—ï¼‰ ä»£ç ä¸å…¨ï¼Œç…§ç€ä¹¦ä¸Šçš„ä»£ç æ•²ä¸‹æ¥ï¼Œä¼šå‘ç°è«åå…¶å¦™å°±å°‘äº†ä¸€éƒ¨åˆ† æˆ‘ç¬¬ä¸€æœ¬ä»£ç ä¹¦çœ‹çš„å°±æ˜¯è¿™æœ¬ï¼Œ å½“æ—¶è§‰å¾—è¿˜è¡Œï¼Œ ä½†åœ¨çœ‹å®Œã€ŠPyTorchæ·±åº¦å­¦ä¹ å…¥é—¨ã€‹åæ‰“ç®—ä¹Ÿæ•²ä¸‹è¿™æœ¬ä¹¦çš„ä»£ç ï¼Œç»“æœå‘ç°ç»™çš„æ ·ä¾‹ä»£ç å¾ˆå¤šéƒ½è·‘ä¸è¿‡ï¼Œå¹¶ä¸”åˆçœ‹æ—¶å¯¹æ¯ä¸ªå‡½æ•°çš„è¯¦ç»†ä»‹ç»ç°åœ¨çœ‹æ¥å¯èƒ½æ˜¯å› ä¸ºæ²¡ä¸œè¥¿å†™äº†ï¼Œå†…å®¹éå¸¸é‡å¤ã€‚ â–².ä»¥åé€‰ä¹¦è¿˜æ˜¯å¾—çœ‹ä¸‹ä½œè€…æ˜¯å¦ç›¸å…³ä¸“ä¸š å¸¸ç”¨è·ç¦»å…¬å¼ ï¼ˆ1ï¼‰é—µå¯å¤«æ–¯åŸºè·ç¦» é—µå¯å¤«æ–¯åŸºè·ç¦»ï¼ˆMlinkowski distanceï¼‰æ˜¯è¡¡é‡æ•°å€¼ç‚¹ä¹‹é—´è·ç¦»çš„ä¸€ç§éå¸¸å¸¸è§çš„æ–¹æ³•ã€‚ é—µå¯å¤«æ–¯åŸºè·ç¦»å®šä¹‰ä¸ºï¼š(âˆ‘i=1nâˆ£xiâˆ’yiâˆ£p)1/p\\left(\\sum_{i=1}^{n}\\left|x_{i}-y_{i}\\right|^{p}\\right)^{1 / p}(âˆ‘i=1nâ€‹âˆ£xiâ€‹âˆ’yiâ€‹âˆ£p)1/p è¯¥è·ç¦»æœ€å¸¸ç”¨çš„pæ˜¯2å’Œ1ï¼Œå‰è€…æ˜¯æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆEuclidean distanceï¼‰ï¼Œåè€…æ˜¯æ›¼å“ˆé¡¿è·ç¦»ï¼ˆManhattan distanceï¼‰ã€‚å½“pè¶‹è¿‘äºæ— ç©·å¤§æ—¶ï¼Œé—µå¯å¤«æ–¯åŸºè·ç¦»è½¬åŒ–æˆåˆ‡æ¯”é›ªå¤«è·ç¦»ï¼ˆChebyshev distanceï¼‰ï¼šlimâ¡pâ†’âˆ(âˆ‘i=1nâˆ£xiâˆ’yiâˆ£p)1p=maxâ¡i=1nâˆ£xiâˆ’yiâˆ£\\lim _{p \\rightarrow \\infty}\\left(\\sum_{i=1}^{n}\\left|x_{i}-y_{i}\\right| p\\right)^{\\frac{1}{p}}=\\max _{i=1}^{n}\\left|x_{i}-y_{i}\\right|limpâ†’âˆâ€‹(âˆ‘i=1nâ€‹âˆ£xiâ€‹âˆ’yiâ€‹âˆ£p)p1â€‹=maxi=1nâ€‹âˆ£xiâ€‹âˆ’yiâ€‹âˆ£ ï¼ˆ2ï¼‰é©¬æ°è·ç¦»ï¼ˆMahalanobis distanceï¼‰æ˜¯ç”±å°åº¦ç»Ÿè®¡å­¦å®¶é©¬å“ˆæ‹‰è¯ºæ¯”æ–¯ï¼ˆPC.Mahalanobisï¼‰æå‡ºçš„ï¼Œè¡¨ç¤ºæ•°æ®çš„åæ–¹å·®è·ç¦»ã€‚å®ƒæ˜¯ä¸€ç§æœ‰æ•ˆåœ°è®¡ç®—ä¸¤ä¸ªæœªçŸ¥æ ·æœ¬é›†çš„ç›¸ä¼¼åº¦çš„æ–¹æ³•ã€‚ä¸æ¬§æ°è·ç¦»ä¸åŒçš„æ˜¯å®ƒè€ƒè™‘å„ç§ç‰¹æ€§ä¹‹é—´çš„è”ç³»ï¼ˆä¾‹å¦‚ï¼šä¸€æ¡å…³äºèº«é«˜çš„ä¿¡æ¯ä¼šå¸¦æ¥ä¸€æ¡å…³äºä½“é‡çš„ä¿¡æ¯ï¼Œå› ä¸ºä¸¤è€…æ˜¯æœ‰å…³è”çš„ã€‚ï¼‰ï¼Œå¹¶ä¸”æ˜¯å°ºåº¦æ— å…³çš„ï¼ˆScale-invariantï¼‰ï¼Œå³ç‹¬ç«‹äºæµ‹é‡å°ºåº¦ã€‚å¯¹äºä¸€ä¸ªå‡å€¼ä¸ºuï¼Œåæ–¹å·®çŸ©é˜µä¸ºçš„å¤šå˜é‡å‘é‡ï¼Œå…¶é©¬æ°è·ç¦»ä¸ºï¼ˆx-uï¼‰Zï¼ˆ-1ï¼‰ï¼ˆxuï¼‰ã€‚ ï¼ˆ3ï¼‰ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œåˆç§°ä¸ºä½™å¼¦ç›¸ä¼¼æ€§ã€‚é€šè¿‡è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ä½™å¼¦å€¼æ¥è¯„ä¼°å®ƒä»¬çš„ç›¸ä¼¼åº¦ã€‚ å‡è®¾å‘é‡aã€bçš„åæ ‡åˆ†åˆ«ä¸ºï¼ˆÃ—1ï¼Œy1ï¼‰ã€ï¼ˆÃ—2ï¼Œy2ï¼‰ã€‚åˆ™ï¼šcosâ¡Î¸=aâˆ™bâˆ¥aâˆ¥âˆ¥bâˆ¥\\cos \\theta=\\frac{a \\bullet b}{\\|a\\|\\|b\\|}cosÎ¸=âˆ¥aâˆ¥âˆ¥bâˆ¥aâˆ™bâ€‹ æ•°æ®æ ‡å‡†åŒ–å¤„ç† æ•°æ®æ ‡å‡†åŒ–ï¼ˆå½’ä¸€åŒ–ï¼‰å¤„ç†ï¼Œæ˜¯ä¸ºäº†æ¶ˆé™¤æŒ‡æ ‡ä¹‹é—´çš„é‡çº²å½±å“ï¼Œä»¥è§£å†³æ•°æ®æŒ‡æ ‡ä¹‹é—´çš„å¯æ¯”æ€§ã€‚åŸå§‹æ•°æ®ç»è¿‡æ•°æ®æ ‡å‡†åŒ–å¤„ç†åï¼Œå„æŒ‡æ ‡å¤„äºåŒä¸€æ•°é‡çº§ï¼Œé€‚åˆè¿›è¡Œç»¼åˆå¯¹æ¯”è¯„ä»·ã€‚æ ‡å‡†åŒ–å°±æ˜¯ä¸€ç§å¯¹æ ·æœ¬æ•°æ®åœ¨ä¸åŒç»´åº¦ä¸Šè¿›è¡Œä¸€ä¸ªä¼¸ç¼©å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ä¸æ”¹å˜åŸå§‹æ•°æ®çš„ä¿¡æ¯ï¼ˆåˆ†å¸ƒï¼‰ã€‚è¿™æ ·çš„å¥½å¤„å°±æ˜¯åœ¨è¿›è¡Œç‰¹å¾æå–æ—¶ï¼Œå¿½ç•¥æ‰ä¸åŒç‰¹å¾ä¹‹é—´çš„ä¸€ä¸ªåº¦é‡ï¼Œè€Œä¿ç•™æ ·æœ¬åœ¨å„ä¸ªç»´åº¦ä¸Šçš„ä¿¡æ¯ï¼ˆåˆ†å¸ƒï¼‰ã€‚ a.Min-Maxæ ‡å‡†åŒ–ï¼ˆMin-Max Normalizationï¼‰ä¹Ÿç§°ä¸ºç¦»å·®æ ‡å‡†åŒ–ï¼Œæ˜¯å¯¹åŸå§‹æ•°æ®çš„çº¿æ€§å˜æ¢ï¼Œä½¿ç»“æœå€¼æ˜ å°„åˆ°[0, 1]ä¹‹é—´ã€‚è½¬æ¢å‡½æ•°å¦‚ä¸‹ï¼šXâˆ—=Xâˆ’minâ¡maxâ¡âˆ’minâ¡X^{*}=\\frac{X-\\min }{\\max -\\min }Xâˆ—=maxâˆ’minXâˆ’minâ€‹ã€‚è¿™ç§æ–¹æ³•æœ‰ä¸ªç¼ºé™·å°±æ˜¯å½“æœ‰æ–°æ•°æ®åŠ å…¥æ—¶ï¼Œå¯èƒ½å¯¼è‡´maxå’Œminçš„å˜åŒ–ï¼Œéœ€è¦é‡æ–°å®šä¹‰ã€‚ b.Z-scoreæ ‡å‡†åŒ–æ–¹æ³• è¿™ç§æ–¹æ³•ç»™äºˆåŸå§‹æ•°æ®çš„å‡å€¼ï¼ˆmeanï¼‰å’Œæ ‡å‡†å·®ï¼ˆstandard deviationï¼‰è¿›è¡Œæ•°æ®çš„æ ‡å‡†åŒ–ã€‚ç»è¿‡å¤„ç†çš„æ•°æ®ç¬¦åˆæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œå³å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ï¼Œè½¬åŒ–å‡½æ•°ä¸ºX*= \\frac{X-Î¼}{Ïƒ}ï¼Œå…¶ä¸­uä¸ºæ‰€æœ‰æ ·æœ¬æ•°æ®çš„å‡å€¼ï¼ŒÏƒä¸ºæ‰€æœ‰æ ·æœ¬æ•°æ®çš„æ ‡å‡†å·®ã€‚ æ­£åˆ™åŒ– ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆç°è±¡ï¼Œæˆ‘ä»¬åŠ å…¥äº†æ­£åˆ™åŒ–é¡¹ï¼Œå¸¸ç”¨çš„æœ‰ L1èŒƒæ•°å’Œ L2èŒƒæ•°ã€‚ å¸¸ç”¨çš„å‘é‡çš„èŒƒæ•°å¦‚ä¸‹ã€‚ L0èŒƒæ•°ï¼š||x||0ä¸ºxå‘é‡å„ä¸ªéé›¶å…ƒç´ çš„ä¸ªæ•°ã€‚ L1èŒƒæ•°ï¼š||x||1ä¸ºxå‘é‡å„ä¸ªå…ƒç´ ç»å¯¹å€¼ä¹‹å’Œï¼Œä¹Ÿå«â€œç¨€ç–è§„åˆ™ç®—å­â€ï¼ˆLasso Regularizationï¼‰ã€‚ L2èŒƒæ•°ï¼š||x||2ä¸º x å‘é‡å„ä¸ªå…ƒç´ å¹³æ–¹å’Œçš„1/2æ¬¡æ–¹ï¼ŒL2èŒƒæ•°åˆç§°EuclideanèŒƒæ•°æˆ–è€…FrobeniusèŒƒæ•°ã€‚åœ¨å›å½’é‡Œé¢ï¼Œæœ‰äººæŠŠæœ‰å®ƒçš„å›å½’å«â€œå²­å›å½’â€ï¼ˆRidge Regressionï¼‰ï¼Œæœ‰äººä¹Ÿå«å®ƒâ€œæƒå€¼è¡°å‡ï¼ˆWeight Decayï¼‰â€ã€‚ LpèŒƒæ•°ï¼š||x||ä¸ºxå‘é‡å„ä¸ªå…ƒç´ ç»å¯¹å€¼pæ¬¡æ–¹å’Œçš„1/pæ¬¡æ–¹ [â€¦] æˆæœ¬å‡½æ•°ï¼ˆä¼˜åŒ–å‡½æ•°ï¼‰ åœ¨è®­ç»ƒç¥ç»ç½‘ç»œæ—¶ï¼Œå¿…é¡»è¯„ä¼°ç½‘ç»œè¾“å‡ºçš„æ­£ç¡®æ€§ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œé¢„æœŸä¸Šæ­£ç¡®çš„è®­ç»ƒè¾“å‡ºæ•°æ®å’Œå®é™…çš„è®­ç»ƒè¾“å‡ºæ˜¯å¯æ¯”æ‹Ÿçš„ã€‚æˆæœ¬å‡½æ•°ä¾¿æ˜¯æµ‹é‡å®é™…å’Œè®­ç»ƒè¾“å‡ºä¹‹é—´çš„å·®å¼‚ã€‚å®é™…å’Œé¢„æœŸè¾“å‡ºä¹‹é—´çš„é›¶æˆæœ¬å°†æ„å‘³ç€è®­ç»ƒç¥ç»ç½‘ç»œæˆä¸ºå¯èƒ½ã€‚ BGDå³Batch Gradient Descentã€‚åœ¨è®­ç»ƒä¸­ï¼Œæ¯ä¸€æ­¥è¿­ä»£éƒ½ä½¿ç”¨è®­ç»ƒé›†çš„æ‰€æœ‰å†…å®¹ã€‚ä¹Ÿå°±æ˜¯åˆ©ç”¨ç°æœ‰å‚æ•°å¯¹è®­ç»ƒé›†ä¸­çš„æ¯ä¸€ä¸ªè¾“å…¥ç”Ÿæˆä¸€ä¸ªä¼°è®¡è¾“å‡ºï¼Œç„¶åè·Ÿå®é™…è¾“å‡ºæ¯”è¾ƒï¼Œç»Ÿè®¡æ‰€æœ‰è¯¯å·®ï¼Œæ±‚å¹³å‡ä»¥åå¾—åˆ°å¹³å‡è¯¯å·®ï¼Œä»¥æ­¤æ¥ä½œä¸ºæ›´æ–°å‚æ•°çš„ä¾æ®ã€‚ ç”±äºæ¯ä¸€æ­¥éƒ½åˆ©ç”¨äº†è®­ç»ƒé›†ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå› æ­¤å½“æŸå¤±å‡½æ•°è¾¾åˆ°æœ€å°å€¼ä»¥åï¼Œèƒ½å¤Ÿä¿è¯æ­¤æ—¶è®¡ç®—å‡ºçš„æ¢¯åº¦ä¸º0ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯èƒ½å¤Ÿæ”¶æ•›ã€‚å› æ­¤ï¼Œä½¿ç”¨BGDæ—¶ä¸éœ€è¦é€æ¸å‡å°å­¦ä¹ é€Ÿç‡ã€‚ç”±äºæ¯ä¸€æ­¥éƒ½è¦ä½¿ç”¨æ‰€æœ‰æ•°æ®ï¼Œå› æ­¤éšç€æ•°æ®é›†çš„å¢å¤§ï¼Œè¿è¡Œé€Ÿåº¦ä¼šè¶Šæ¥è¶Šæ…¢ã€‚åœ¨æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•ä¸­ï¼Œå› ä¸ºæ¯æ¬¡éƒ½éå†äº†å®Œæ•´çš„è®­ç»ƒé›†ï¼Œå…¶èƒ½ä¿è¯ç»“æœä¸ºå…¨å±€æœ€ä¼˜ï¼Œä½†æ˜¯ä¹Ÿå› ä¸ºæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸ªå‚æ•°æ±‚åå¯¼ï¼Œä¸”åœ¨å¯¹æ¯ä¸ªå‚æ•°æ±‚åå¯¼çš„è¿‡ç¨‹ä¸­è¿˜éœ€è¦å¯¹è®­ç»ƒé›†éå†ä¸€æ¬¡ï¼Œå½“è®­ç»ƒé›†å¾ˆå¤§æ—¶ï¼Œè¿™ä¸ªè®¡ç®—é‡æ˜¯æƒŠäººçš„ï¼ æ‰€ä»¥ï¼Œä¸ºäº†æé«˜é€Ÿåº¦ï¼Œå‡å°‘è®¡ç®—é‡ï¼Œæå‡ºäº†SGDéšæœºæ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¯æ¬¡éšæœºé€‰å–ä¸€ä¸ªæ ·æœ¬è¿›è¡Œæ¢¯åº¦è®¡ç®—ï¼Œå¤§å¤§é™ä½äº†è®¡ç®—æˆæœ¬ã€‚SGDå…¨åStochastic Gradient Descentï¼Œå³éšæœºæ¢¯åº¦ä¸‹é™ã€‚å³éšæœºæŠ½å–ä¸€æ‰¹æ ·æœ¬ï¼Œä»¥æ­¤ä¸ºæ ¹æ®æ¥æ›´æ–°å‚æ•°ã€‚éšæœºæ¢¯åº¦ä¸‹é™ç®—æ³•å’Œæ‰¹é‡æ¢¯åº¦ä¸‹é™çš„ä¸åŒç‚¹åœ¨äºå…¶æ¢¯åº¦æ˜¯æ ¹æ®éšæœºé€‰å–çš„è®­ç»ƒé›†æ ·æœ¬æ¥å†³å®šçš„ï¼Œå…¶æ¯æ¬¡å¯¹thetaçš„æ›´æ–°ï¼Œéƒ½æ˜¯é’ˆå¯¹å•ä¸ªæ ·æœ¬æ•°æ®ï¼Œå¹¶æ²¡æœ‰éå†å®Œæ•´çš„å‚æ•°ã€‚å½“æ ·æœ¬æ•°æ®å¾ˆå¤§æ—¶ï¼Œå¯èƒ½åˆ°è¿­ä»£å®Œæˆï¼Œä¹Ÿåªä¸è¿‡éå†äº†æ ·æœ¬ä¸­çš„ä¸€å°éƒ¨åˆ†ã€‚å› æ­¤ï¼Œå…¶é€Ÿåº¦è¾ƒå¿«ï¼Œä½†æ˜¯å…¶æ¯æ¬¡çš„ä¼˜åŒ–æ–¹å‘ä¸ä¸€å®šæ˜¯å…¨å±€æœ€ä¼˜çš„ï¼Œä½†æœ€ç»ˆçš„ç»“æœæ˜¯åœ¨å…¨å±€æœ€ä¼˜è§£çš„é™„è¿‘ã€‚ Momentum Momentum å€Ÿç”¨äº†ç‰©ç†ä¸­çš„åŠ¨é‡æ¦‚å¿µï¼Œå³å‰å‡ æ¬¡çš„æ¢¯åº¦ä¹Ÿä¼šå‚ä¸è¿ç®—ã€‚ ä¸ºäº†è¡¨ç¤ºåŠ¨é‡ï¼Œå¼•å…¥äº†ä¸€ä¸ªæ–°çš„å˜é‡vï¼ˆvelocityï¼‰ã€‚væ˜¯ä¹‹å‰çš„æ¢¯åº¦çš„ç´¯åŠ ï¼Œä½†æ˜¯æ¯å›åˆéƒ½æœ‰ä¸€å®šçš„è¡°å‡ã€‚å‰åæ¢¯åº¦æ–¹å‘ä¸€è‡´æ—¶ï¼Œèƒ½å¤ŸåŠ é€Ÿå­¦ä¹ ã€‚å‰åæ¢¯åº¦æ–¹å‘ä¸ä¸€è‡´æ—¶ï¼Œèƒ½å¤ŸæŠ‘åˆ¶éœ‡è¡ã€‚ Nesterov Momentumè¿™æ˜¯å¯¹ä¹‹å‰çš„Momentumçš„ä¸€ç§æ”¹è¿›ï¼Œå¤§æ¦‚æ€è·¯å°±æ˜¯ï¼Œå…ˆå¯¹å‚æ•°è¿›è¡Œä¼°è®¡ï¼Œç„¶åä½¿ç”¨ä¼°è®¡åçš„å‚æ•°æ¥è®¡ç®—è¯¯å·®ã€‚ AdaGrad AdaGrad å¯ä»¥è‡ªåŠ¨å˜æ›´å­¦ä¹ é€Ÿç‡ï¼Œåªéœ€è¦è®¾å®šä¸€ä¸ªå…¨å±€çš„å­¦ä¹ é€Ÿç‡ï¼Œä½†æ˜¯è¿™å¹¶éæ˜¯å®é™…å­¦ä¹ é€Ÿç‡ï¼Œå®é™…çš„é€Ÿç‡æ˜¯ä¸ä»¥å¾€å‚æ•°çš„æ¨¡ä¹‹å’Œçš„å¼€æ–¹æˆåæ¯”çš„ã€‚ å®ƒèƒ½å¤Ÿå®ç°å­¦ä¹ ç‡çš„è‡ªåŠ¨æ›´æ”¹ã€‚å¦‚æœè¿™æ¬¡æ¢¯åº¦å¤§ï¼Œé‚£ä¹ˆå­¦ä¹ é€Ÿç‡è¡°å‡å°±å¿«ä¸€äº›ï¼›å¦‚æœè¿™æ¬¡æ¢¯åº¦å°ï¼Œé‚£ä¹ˆå­¦ä¹ é€Ÿç‡è¡°å‡å°±æ…¢ä¸€äº›ã€‚ä½†ä»ç„¶è¦è®¾ç½®ä¸€ä¸ªå˜é‡ã€‚ ç»éªŒè¡¨æ˜ï¼Œåœ¨æ™®é€šç®—æ³•ä¸­ä¹Ÿè®¸æ•ˆæœä¸é”™ï¼Œä½†åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œæ·±åº¦è¿‡æ·±æ—¶ä¼šé€ æˆè®­ç»ƒæå‰ç»“æŸã€‚ RMSProp RMSProp é€šè¿‡å¼•å…¥ä¸€ä¸ªè¡°å‡ç³»æ•°rï¼Œè®©ræ¯å›åˆéƒ½è¡°å‡ä¸€å®šæ¯”ä¾‹ï¼Œç±»ä¼¼äºMomentumä¸­çš„åšæ³•ã€‚ç›¸æ¯”äºAdaGradï¼Œè¿™ç§æ–¹æ³•å¾ˆå¥½åœ°è§£å†³äº†æ·±åº¦å­¦ä¹ ä¸­è¿‡æ—©ç»“æŸçš„é—®é¢˜ã€‚ ã€ŠPyTorchæ·±åº¦å­¦ä¹ å…¥é—¨ã€‹ å…¥é—¨codingï¼š çº¿æ€§å›å½’ä»£ç  1234567891011121314151617181920import torchimport matplotlib.pyplot as plt%matplotlib inlinedef Produce_X(x): # å¢åŠ ä¸€ç»´å…¨1ç»™bias x0 = torch.ones( x.numpy().size) # dim = 0, æ·»åŠ è¡Œï¼› dim = 1, æ·»åŠ åˆ— X = torch.stack( (x, x0), dim = 1) return Xx = torch.Tensor([ 1.4, 5, 11, 16, 21 ])y = torch.Tensor( [14.4, 29.6, 62, 85.5, 113.4])X = Produce_X(x)inputs = Xtargets = yw = torch.rand(2, requires_grad = True) 1234567891011121314151617181920212223242526def draw(outputs, loss): plt.cla() plt.scatter( x.numpy(), y.numpy() ) plt.plot( x.numpy(), outputs.data.numpy(), 'r-', lw = 5) plt.text(0.5, 0, 'loss=%s' % (loss.item()), fontdict = &#123; 'size':20, 'color':'red' &#125;) plt.pause(0.05)def train(epochs = 1, lr = 0.01): for ep in range(epochs): outputs = inputs.mv(w) print(outputs.size()) print(targets.shape) loss = (outputs - targets).pow(2).sum() loss.backward() w.data = w.data - lr * w.grad w.grad.zero_()#æ›´æ–°å®Œgradå, å¿…é¡»æ¸…ç©ºgrad, å¦åˆ™ä¼šç´¯åŠ # if epochs % 80 == 0:# draw(outputs, loss) return w, lossw, loss = train(1, lr = 1e-4)print(\"final loss:\", loss.item())print(\"weights:\", w.data) äººå·¥ç¥ç»å…ƒ-çº¿æ€§å›å½’ 1234567891011121314151617import torchimport matplotlib.pyplot as pltdef Produce_X(x): x0 = torch.ones(x.numpy().size) #ç”¨onesäº§ç”Ÿåˆå§‹å€¼ä¸º1ï¼Œå¤§å°ä¸xç›¸åŒçš„å‘é‡ X = torch.stack((x,x0),dim=1) #stackå‡½æ•°å°†ä¸¤ä¸ªå‘é‡æ‹¼åˆ return Xx = torch.linspace(-3,3,100000)#ç”¨linspaceäº§ç”Ÿï¼ˆ-3ï¼Œ3ï¼‰åŒºé—´å†…çš„100000ä¸ªç‚¹X = Produce_X(x)y = x +1.2*torch.rand(x.size())#å‡è®¾çœŸå®å‡½æ•°æ˜¯y=xï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢å¢åŠ ä¸€äº›è¯¯å·®ï¼Œæ›´åŠ ç¬¦åˆå®é™…æƒ…å†µw = torch.rand(2) #å®šä¹‰æƒé‡wçš„å˜é‡# æ³¨æ„è¿™è¾¹çš„xæ˜¯xï¼Œ è€Œä¸æ˜¯Xï¼Œ Xæ˜¯ç¥ç»ç½‘ç»œçš„è¾“å…¥ï¼Œ è¢«åŠ ä¸Šäº†biasçš„plt.scatter(x.numpy(),y.numpy(),s=0.001)plt.show() 1234567891011CUDA = torch.cuda.is_available()if CUDA: inputs = X.cuda() targets = Y.cuda() w = w.cuda() w.requires_grad = Trueelse: inputs = X targets = Y w = w w.requires_grad = Truue 12345678910111213141516171819202122def draw(outputs, loss): if CUDA: outputs = outputs.cpu() plt.cla() plt.scatter( x.numpy(), y.numpy() ) plt.plot( x.numpy(), outputs.data.numpy(), 'r-', lw = 5) plt.text(0.5, 0, 'loss=%s' % (loss.item()), fontdict = &#123; 'size':20, 'color':'red' &#125;) plt.pause(0.05)def train(epochs = 1, lr = 0.01): for ep in range(epochs): outputs = inputs.mv(w) loss = (outputs - targets).pow(2).sum() loss.backward() w.data = w.data - lr * w.grad w.grad.zero_()#æ›´æ–°å®Œgradå, å¿…é¡»æ¸…ç©ºgrad, å¦åˆ™ä¼šç´¯åŠ # if epochs % 80 == 0:# draw(outputs, loss) return w, loss 123456789from time import perf_counterstart = perf_counter()w, loss = train(1000, lr = 1e-4)finish = perf_counter()t = finish - startprint(\"è®¡ç®—æ—¶é—´:\", t)print(\"final loss:\", loss.item())print(\"w:\", w.data)print(type(loss)) äººå·¥ç¥ç»å…ƒ-çº¿æ€§å›å½’-module 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768import torchimport matplotlib.pyplot as pltfrom torch import nn,optimfrom time import perf_counterimport numpy as npfrom typing import Anyx = torch.unsqueeze(torch.linspace(-3, 3, 1000), dim = 1)y = x + 1.2 * torch.rand(x.size())class LR(nn.Module): def __init__(self): super(LR, self).__init__() self.liner = nn.Linear(1, 1) def forward(self, x: Any): out = self.liner(x) return out#å¦‚æœæ”¯æŒCUDAï¼Œåˆ™é‡‡ç”¨CUDAåŠ é€ŸCUDA = torch.cuda.is_available()if CUDA: LR_model = LR().cuda() inputs = x.cuda() target = y.cuda()else: LR_model = LR() inputs = x target = ycriterion = nn.MSELoss()optimizer = optim.SGD(LR_model.parameters(), lr=1e-4)def draw(output, loss): if CUDA: output = output.cpu() plt.cla() plt.scatter(x.numpy(), y.numpy(), marker='.') plt.plot(x.numpy(), output.data.numpy(), 'r-', lw=5) plt.text(0.5, 0, 'Loss=%.8s' % (loss.item()), fontdict=&#123;'size': 20, 'color': 'red'&#125;) plt.pause(0.005)def train(model, criterion, optimizer, epochs): for ep in range(epochs): output = model(inputs) loss = criterion(output, target) optimizer.zero_grad()# æ¸…ç©ºæƒé‡çš„grad loss.backward()# è®¡ç®—æ¢¯åº¦ optimizer.step()# åˆ©ç”¨æ¢¯åº¦æ›´æ–°æƒé‡ if ep % 80 == 0: draw(output, loss) return model, lossstart = perf_counter()LR_model,loss = train(LR_model,criterion,optimizer,10000)finish = perf_counter()time = finish-startprint(\"è®¡ç®—æ—¶é—´:%s\" % time)print(\"final loss:\",loss.item())print(\"weights:\",list(LR_model.parameters())) éçº¿æ€§å›å½’ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566import torchimport matplotlib.pyplot as pltfrom torch import nn, optimfrom time import perf_counterimport numpy as npfrom typing import Anydef draw(output, loss): if CUDA: output = output.cpu() plt.cla() plt.scatter(x.numpy(), y.numpy(), marker='.') plt.plot(x.numpy(), output.data.numpy(), 'r-', lw=5) plt.text(-2, -10, 'Loss=%.6s' % (loss.item()), fontdict=&#123;'size': 20, 'color': 'red'&#125;) plt.pause(0.005)x = torch.unsqueeze(torch.linspace(-3, 3, 1000), dim=1)y = x.pow(3) + 0.3 * torch.rand(x.size())plt.scatter(x.numpy(), y.numpy())plt.show()class Net(nn.Module): def __init__(self, input_feature, num_hidden, outpus): super(Net, self).__init__() self.hidden = nn.Linear(input_feature, num_hidden) self.out = nn.Linear(num_hidden, outpus) def forward(self, x): x = nn.functional.relu(self.hidden(x)) x = self.out(x) return x# å¦‚æœæ”¯æŒCUDAï¼Œåˆ™é‡‡ç”¨CUDAåŠ é€ŸCUDA = torch.cuda.is_available()if CUDA: net = Net(input_feature= 1, num_hidden= 20, outpus= 1).cuda() inputs = x.cuda() target = y.cuda()else: net = Net(input_feature= 1, num_hidden= 20, outpus= 1) inputs = x target = ycriterion = nn.MSELoss()optimizer = optim.SGD(net.parameters(), lr=0.01)def train(model, criterion, optimizer, epochs): for ep in range(epochs): output = model(inputs) loss = criterion(output, target) optimizer.zero_grad() loss.backward() optimizer.step() if ep % 80 == 0: draw(output, loss) return model, lossnet, loss = train(net, criterion, optimizer, 1)print(type(loss))print(\"final loss:\", loss.item()) åˆ†ç±»é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374import torchimport matplotlib.pyplot as pltfrom torch import nn, optimfrom time import perf_counterimport numpy as npdef draw(output): if CUDA: output=output.cpu() plt.cla() # torch.max[0]æ˜¯å–maxçš„å€¼ï¼Œ [1]æ˜¯å–ç´¢å¼•å€¼ output = torch.max((output), 1)[1] pred_y = output.data.numpy().squeeze() target_y = y.numpy() plt.scatter(x.numpy()[:, 0], x.numpy()[:, 1], c=pred_y, s=10, lw=0, cmap='RdYlGn') accuracy = sum(pred_y == target_y)/1000.0 plt.text(1.5, -4, 'Accuracy=%s' % (accuracy), fontdict=&#123;'size': 20, 'color': 'red'&#125;) plt.pause(0.1)N = 500cluster = torch.ones(N, 2)# mean, stdçš„æ­£æ€åˆ†å¸ƒdata0 = torch.normal(4 * cluster, 2)data1 = torch.normal(-4 * cluster, 2)label0 = torch.zeros(N)label1 = torch.ones(N)x = torch.cat((data0, data1), ).type(torch.FloatTensor)y = torch.cat((label0, label1), ).type(torch.LongTensor)plt.scatter(x.numpy()[:, 0], x.numpy()[:, 1], c = y, s=10, lw=0, cmap='RdYlGn')plt.show()class Net(nn.Module): def __init__(self): super(Net, self).__init__() self.linear = nn.Linear(2, 2) def forward(self, x): x = self.linear(x) x = torch.sigmoid(x) return xCUDA = torch.cuda.is_available()if CUDA: net = Net().cuda() inputs = x.cuda() targets = y.cuda()else: net = Net() inputs = x targets = ydef train(model, criterion, optimizer, epochs): for ep in range(epochs): outputs = model(inputs) loss = criterion(outputs, targets) optimizer.zero_grad() loss.backward() optimizer.step() if ep % 80 == 0: draw(outputs) # return model, lossoptimizer = optim.SGD(net.parameters(), lr=0.02)criterion = nn.CrossEntropyLoss()train(net, criterion, optimizer, 1000) torch.randn(5,2)æ˜¯æ ‡å‡†æ­£æ€åˆ†å¸ƒå–ï¼ˆ5,2ï¼‰æ•° data0 = torch.normal(4 * cluster, 2) , ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯mean, ç¬¬äºŒä¸ªæ˜¯std, ç»´åº¦æ ¹æ®ä¼ å…¥çš„tensorå‚æ•°å†³å®š torch.norm() æ˜¯æ±‚èŒƒæ•° å¤šåˆ†ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172import torchfrom torch import nn, optimimport torch.nn.functional as Fimport matplotlib.pyplot as pltdef draw(output): if CUDA: output=output.cpu() plt.cla() output = torch.max((output), 1)[1] pred_y = output.data.numpy().squeeze() target_y = y.numpy() plt.scatter(x.numpy()[:, 0], x.numpy()[:, 1], c=pred_y, s=10, lw=0, cmap='RdYlGn') accuracy = sum(pred_y == target_y)/1500.0 plt.text(0.5, -6, 'Accuracy=%.6s' % (accuracy), fontdict=&#123;'size': 20, 'color': 'red'&#125;) plt.pause(0.1)N = 500cluster = torch.ones(N, 2) # 2æ˜¯ä¸¤ä¸ªç»´åº¦ï¼š x, ydata0 = torch.normal(4*cluster, 2)data1 = torch.normal(-4*cluster, 1)data2 = torch.normal(-8*cluster, 1)label0 = torch.zeros(N)label1 = torch.ones(N)label2 = label1 * 2x = torch.cat((data0, data1, data2), ).type(torch.FloatTensor)y = torch.cat((label0, label1, label2), ).type(torch.LongTensor)plt.scatter(x.numpy()[:, 0], x.numpy()[:, 1], c=y.numpy(), s=10, lw=0, cmap='RdYlGn')plt.show()class Net(nn.Module): def __init__(self, input_feature, num_hidden, outputs): super(Net, self).__init__() self.hidden = nn.Linear(input_feature, num_hidden) self.out = nn.Linear(num_hidden, outputs) def forward(self, x ): x = F.relu( self.hidden(x) ) x = F.softmax(self.out(x)) return xCUDA = torch.cuda.is_available()if CUDA: net = Net(input_feature=2, num_hidden=20,outputs=3).cuda() inputs = x.cuda() target = y.cuda()else: net = Net(input_feature=2, num_hidden=20,outputs=3) inputs = x target = yoptimizer = optim.SGD(net.parameters(), lr=0.02)criterion = nn.CrossEntropyLoss()def train(model, criterion, optimizer, epochs): for ep in range(epochs): outputs = model(inputs) loss = criterion(outputs, target) optimizer.zero_grad() loss.backward() optimizer.step() if ep % 80 == 0: draw(outputs)train(net, criterion, optimizer, 10000) LeNet-MNISTæ‰‹å†™è¯†åˆ« 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121# coding=utf-8import osimport torchfrom torch import nn, optimimport torch.nn.functional as Ffrom torchvision import datasets, transforms# åŠ è½½torchvisionï¼Œ æ˜¯ä¸“é—¨åšå›¾å½¢å¤„ç†çš„ä¸€ä¸ªåº“ï¼Œ datasetsä¸ºåŠ è½½æ•°æ®é›†ï¼Œ transformsåšå›¾å½¢é¢„å¤„ç†# torch.utils.data.DataLoaderåšæ•°æ®åŠ è½½transform = transforms.Compose([ transforms.ToTensor(), # å°†æ•°æ®è½¬æˆtensorå¯¹è±¡ transforms.Normalize((0.1307,), (0.3081,)) # å°†æ•°æ®åšå½’ä¸€åŒ–å¤„ç†])# ä¸‹è½½å¹¶å­˜å‚¨è·¯å¾„ï¼Œ åŠ è½½è®­ç»ƒé›†oræµ‹è¯•é›†ã€æ˜¯å¦è‡ªåŠ¨ä¸‹è½½ã€æŒ‡å®šæ•°æ®é¢„å¤„ç†æ–¹å¼trainset = datasets.MNIST('data', train=True, download=True, transform=transform)testset = datasets.MNIST('data', train=False, download=True, transform=transform)# ä¸‹è½½ä¸‹æ¥çš„rawæ–‡ä»¶å¤¹åŒ…å«äº†æ•°æ®å’Œæ ‡ç­¾ï¼Œprocesssedæ–‡ä»¶å¤¹ä¸­ä¸ºå¤„ç†åçš„æ•°æ®class LeNet(nn.Module): # å®šä¹‰Netçš„åˆå§‹åŒ–å‡½æ•°ï¼Œæœ¬å‡½æ•°å®šä¹‰äº†ç¥ç»ç½‘ç»œçš„åŸºæœ¬ç»“æ„ def __init__(self): # ç»§æ‰¿çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå³å…ˆè¿è¡Œnn.Moduleçš„åˆå§‹åŒ–å‡½æ•° super(LeNet, self).__init__() # C1å·ç§¯å±‚ï¼šè¾“å…¥1å¼ ç°åº¦å›¾ç‰‡ï¼Œè¾“å‡º6å¼ ç‰¹å¾å›¾ï¼Œå·ç§¯æ ¸5x5 self.c1 = nn.Conv2d(1, 6, (5, 5)) # C3å·ç§¯å±‚ï¼šè¾“å…¥6å¼ ç‰¹å¾å›¾ï¼Œè¾“å‡º16å¼ ç‰¹å¾å›¾ï¼Œå·ç§¯æ ¸5x5 self.c3 = nn.Conv2d(6, 16, 5) # å…¨è¿æ¥å±‚S4-&gt;C5ï¼šä»S4åˆ°C5æ˜¯å…¨è¿æ¥ï¼ŒS4å±‚ä¸­16*4*4ä¸ªèŠ‚ç‚¹å…¨è¿æ¥åˆ°C5å±‚çš„120ä¸ªèŠ‚ç‚¹ä¸Š self.fc1 = nn.Linear(16 * 4 * 4, 120) # å…¨è¿æ¥å±‚C5-&gt;F6ï¼šC5å±‚çš„120ä¸ªèŠ‚ç‚¹å…¨è¿æ¥åˆ°F6çš„84ä¸ªèŠ‚ç‚¹ä¸Š self.fc2 = nn.Linear(120, 84) # å…¨è¿æ¥å±‚F6-&gt;OUTPUTï¼šF6å±‚çš„84ä¸ªèŠ‚ç‚¹å…¨è¿æ¥åˆ°OUTPUTå±‚çš„10ä¸ªèŠ‚ç‚¹ä¸Šï¼Œ10ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºä»£è¡¨ç€0åˆ°9çš„ä¸åŒåˆ†å€¼ã€‚ self.fc3 = nn.Linear(84, 10) # å®šä¹‰å‘å‰ä¼ æ’­å‡½æ•° def forward(self, x): # è¾“å…¥çš„ç°åº¦å›¾ç‰‡xç»è¿‡c1çš„å·ç§¯ä¹‹åå¾—åˆ°6å¼ ç‰¹å¾å›¾ï¼Œç„¶åä½¿ç”¨reluå‡½æ•°ï¼Œå¢å¼ºç½‘ç»œçš„éçº¿æ€§æ‹Ÿåˆèƒ½åŠ›ï¼Œæ¥ç€ä½¿ç”¨2x2çª—å£çš„æœ€å¤§æ± åŒ–ï¼Œç„¶åæ›´æ–°åˆ°x x = F.max_pool2d(F.relu(self.c1(x)), 2) # è¾“å…¥xç»è¿‡c3çš„å·ç§¯ä¹‹åç”±åŸæ¥çš„6å¼ ç‰¹å¾å›¾å˜æˆ16å¼ ç‰¹å¾å›¾ï¼Œç»è¿‡reluå‡½æ•°ï¼Œå¹¶ä½¿ç”¨æœ€å¤§æ± åŒ–åå°†ç»“æœæ›´æ–°åˆ°x x = F.max_pool2d(F.relu(self.c3(x)), 2) # ä½¿ç”¨viewå‡½æ•°å°†å¼ é‡xï¼ˆS4ï¼‰å˜å½¢æˆä¸€ç»´å‘é‡å½¢å¼ï¼Œæ€»ç‰¹å¾æ•°ä¸å˜ï¼Œ**ä¸ºå…¨è¿æ¥å±‚åšå‡†å¤‡** x = x.view(-1, self.num_flat_features(x)) # è¾“å…¥S4ç»è¿‡å…¨è¿æ¥å±‚fc1ï¼Œå†ç»è¿‡reluï¼Œæ›´æ–°åˆ°x x = F.relu(self.fc1(x)) # è¾“å…¥C5ç»è¿‡å…¨è¿æ¥å±‚fc2ï¼Œå†ç»è¿‡reluï¼Œæ›´æ–°åˆ°x x = F.relu(self.fc2(x)) # è¾“å…¥F6ç»è¿‡å…¨è¿æ¥å±‚fc3ï¼Œæ›´æ–°åˆ°x x = self.fc3(x) return x # è®¡ç®—å¼ é‡xçš„æ€»ç‰¹å¾é‡ def num_flat_features(self, x): # ç”±äºé»˜è®¤æ‰¹é‡è¾“å…¥ï¼Œç¬¬é›¶ç»´åº¦çš„batchå‰”é™¤ size = x.size()[1:] num_features = 1 for s in size: num_features *= s return num_featuresCUDA = torch.cuda.is_available()if CUDA: lenet = LeNet().cuda()else: lenet = LeNet()criterion = nn.CrossEntropyLoss()optimizer = optim.SGD(lenet.parameters(), lr=0.001, momentum=0.9)# ç”¨æ•°æ®åŠ è½½å·¥å…·æ¥åŠ è½½è®­ç»ƒæ•°æ®, batch_sizeè¡¨ç¤ºä¸€æ¬¡æ€§åŠ è½½çš„æ•°æ®é‡ï¼Œ shuffleè¡¨ç¤ºéå†ä¸åŒæ‰¹æ¬¡æ•°æ®æ—¶æ‰“ä¹±é¡ºåºï¼Œ num_workersè¡¨ç¤ºç”¨nä¸ªå­è¿›ç¨‹æ¥åŠ è½½æ•°æ®# åæ¥æŠŠworkersæ”¹æˆ2è¿˜æ˜¯å‡ºé”™ï¼Œç›´åˆ°æœ€åæŠŠworkersæ”¹æˆ0æ‰ä¸å‡ºé”™ã€‚ç”µè„‘ä¸è¡Œå•Šï¼å½“æŠ¥é”™æ—¶åº”è¯¥è€ƒè™‘ä¸€ä¸‹æ˜¯ä¸æ˜¯è®¾ç½®çš„å¤ªå¤§æˆ–è€…ä¸æ”¯æŒå¤šçº¿ç¨‹è¿›è¡Œæ“ä½œã€‚trainloader = torch.utils.data.DataLoader(trainset, batch_size=4, shuffle=True, num_workers=0)testloader = torch.utils.data.DataLoader(testset, batch_size=4, shuffle=False, num_workers=0)def train(model, criterion, optimizer, epochs=1): for epoch in range(epochs): running_loss = 0.0 for i, data in enumerate(trainloader, 0): inputs, labels = data if CUDA: inputs, labels = inputs.cuda(), labels.cuda() optimizer.zero_grad() outputs = model(inputs) loss = criterion(outputs, labels) loss.backward() optimizer.step() running_loss += loss.item() if i % 1000 == 999: print('[Epoch:%d, Batch:%5d] Loss: %.3f' % (epoch + 1, i + 1, running_loss / 1000)) running_loss = 0.0 print('Finished Training')def test(testloader, model): correct = 0 total = 0 for data in testloader: images, labels = data if CUDA: images = images.cuda() labels = labels.cuda() outputs = model(images) _, predicted = torch.max(outputs.data, 1) total += labels.size(0) correct += (predicted == labels).sum() print('Accuracy on the test set: %d %%' % (100 * correct / total))def load_param(model, path): if os.path.exists(path): model.load_state_dict(torch.load(path))def save_param(model, path): torch.save(model.state_dict(), path)load_param(lenet, 'model.pkl')train(lenet, criterion, optimizer, epochs=2)save_param(lenet, 'model.pkl')test(testloader, lenet) model.eval()æ˜¯è®©modelå˜æˆè®­ç»ƒæ¨¡å¼ï¼Œ è¿™ä¸»è¦æ˜¯å› ä¸ºdropoutå’Œbatch normalizationçš„æ“ä½œåœ¨è®­ç»ƒå’Œæµ‹è¯•æ˜¯ä¸ä¸€æ ·çš„ é™„å½• Torch.size()/shape, numpy.narray.size/shape åŒºåˆ« 1234567# a = np.array([[1,2,3],[2,1,3]])# print(a.shape, a.size)# (2, 3) 6a = torch.Tensor([[1,2,3],[2,1,3]])print(a.shape, a.size())# torch.Size([2, 3]) torch.Size([2, 3]) unsqueezeç”¨æ³• 12345a = torch.linspace(-3, 3, 5)print(a, a.size())b = torch.unsqueeze(a, dim = 1)print(b, b.size()) å…³äºæ±‚å¾®åˆ†-&gt;autograd-&gt;Variable ä¹‹å‰ä¹¦ä¸Šæä¾›çš„ä»£ç éœ€è¦æ±‚gradçš„æ—¶éƒ½æ˜¯æŠŠtensorçš„requires_gradå±æ€§æ‰‹åŠ¨ç½®ä¸ºTrue(requires_gradé»˜è®¤ä¸ºFalseçš„)ï¼Œ è€Œå®é™…ä¸Šéœ€è¦æ±‚gradçš„tensorå·²ç»è¢«å°è£…æˆäº†å¯ä»¥è‡ªåŠ¨æ±‚å¾®åˆ†çš„Variableç±»å‹(from torch.autograd import Variable)` 1234567891011CUDA = torch.cuda.is_available()if CUDA: inputs = X.cuda() targets = Y.cuda() w = w.cuda() w.requires_grad = Trueelse: inputs = X targets = Y w = w w.requires_grad = True (variable)çš„ç†è§£ï¼Œ pytorchä¸­çš„å˜é‡variableæœ‰ä¸‰ä¸ªå±æ€§ï¼Œåˆ†åˆ«æ˜¯dataè¡¨ç¤ºå˜é‡ä¸­çš„å…·ä½“å€¼ï¼Œ gradè¡¨ç¤ºè¿™ä¸ªå˜é‡åå‘ä¼ æ’­çš„æ¢¯åº¦ï¼Œè¿™ä¸ªçš„è®¡ç®—æ–¹å¼ä¸‹é¢æœ‰ä¸“é—¨çš„ä¸€ä¸ªæ¼”ç¤ºç¨‹åºï¼Œ grad_fnè¡¨ç¤ºæ˜¯é€šè¿‡ä»€ä¹ˆæ“ä½œå¾—åˆ°è¿™ä¸ªå˜é‡çš„ä¾‹å¦‚( åŠ å‡ä¹˜é™¤ã€å·ç§¯ã€åç½®å·ç§¯) ç„¶åå®šä¹‰ä¸€ä¸ªtensor(å¼ é‡)ï¼Œä»¥åŠå°†tensor(å¼ é‡)è½¬åŒ–æˆvariable(å˜é‡)ã€‚ä¹‹æ‰€ä»¥éœ€è¦å°†tensorè½¬åŒ–æˆvariableæ˜¯å› ä¸ºpytorchä¸­tensor(å¼ é‡)åªèƒ½æ”¾åœ¨CPUä¸Šè¿ç®—ï¼Œè€Œ(variable)å˜é‡æ˜¯å¯ä»¥ç”¨GPUè¿›è¡ŒåŠ é€Ÿè®¡ç®—çš„ã€‚ æ‰€ä»¥è¯´è¿™å°±æ˜¯ä¸ºä»€ä¹ˆpytorchåŠ è½½å›¾åƒçš„æ—¶å€™ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨(variable)å˜é‡. ä¸‹é¢ä¸€æ®µä»£ç æ¼”ç¤ºçš„æ˜¯tensorå’Œvariable(å˜é‡)ä¹‹é—´çš„è½¬åŒ–ã€‚ 12345678910111213# ç„¶åå®šä¹‰pytorchä¸­çš„tensor å¹¶å°†tensorè½¬åŒ–æˆVariableçš„å½¢å¼x_tensor = torch.ones(3)print('å¼ é‡çš„ç±»å‹ä»¥åŠå…·ä½“å€¼:\\n', type(x_tensor), x_tensor)x_var = Variable(x_tensor, requires_grad = True)print('å˜é‡çš„ç±»å‹ä»¥åŠå…·ä½“çš„å€¼:\\n', type(x_var), x_var)'''å¼ é‡çš„ç±»å‹ä»¥åŠå…·ä½“å€¼: &lt;class 'torch.Tensor'&gt; tensor([1., 1., 1.])å˜é‡çš„ç±»å‹ä»¥åŠå…·ä½“çš„å€¼: &lt;class 'torch.Tensor'&gt; tensor([1., 1., 1.], requires_grad=True) '''# å¯ä»¥çœ‹åˆ°è¿™è¾¹å¤šäº†ä¸€ä¸ªrequires_gradçš„å±æ€§ Tensorä¹Ÿå¯ä»¥é€šè¿‡x_tensor.dataæ¥è·å¾—å€¼ï¼Œå› æ­¤æ¯”è¾ƒä¸‹æ¥ä¸¤è€…çš„åŒºåˆ«å°±æ˜¯requires_gradä¸ºTrueã€Falseçš„å…³ç³» æ‘˜è‡ªï¼š https://blog.csdn.net/qq_41776781/article/details/93967961 ã€Šæ·±åº¦å­¦ä¹ ç®—æ³•å®è·µã€‹ è¿™æœ¬ä¹¦åº”è¯¥æ˜¯æˆ‘å¤§äºŒè§åˆ°è¿‡æœ€å¤šçš„ä¹¦äº†ï¼Œ ä½†è¯´å®è¯çœ‹å®Œä¹Ÿæ¯”è¾ƒä¸€èˆ¬ï¼Œ æ¯”è¾ƒå¤šä»‹ç»çš„æ˜¯æ·±åº¦å­¦ä¹ åº”ç”¨ä»‹ç»ã€‚ ã€ŠPytorchæ·±åº¦å­¦ä¹ å®æˆ˜ï¼šä»æ–°æ‰‹å°ç™½åˆ°æ•°æ®ç§‘å­¦å®¶ã€‹ è¿™æœ¬ä¹¦æ„Ÿè§‰ä¹Ÿä¸é”™ï¼Œå³ä»‹ç»äº†torchä¹Ÿä»‹ç»äº†ä¸å°‘pandaså’Œsklearn PyTorchçš„æ ¸å¿ƒæ¦‚å¿µ æœ¬èŠ‚ä¸»è¦ä»‹ç»PyTorchçš„åŸºæœ¬æ¦‚å¿µï¼ˆå¦‚Tensor å’ŒVariableï¼‰ã€è‡ªåŠ¨å¾®åˆ†å’ŒPyTorchçš„æ ¸å¿ƒæ¨¡å—ã€‚ 1.3.1PyTorchçš„åŸºæœ¬æ¦‚å¿µ å’Œå…¶ä»–æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸€æ ·ï¼ŒPyTorchåœ¨å®ç°è¿‡ç¨‹ä¸­ä¹Ÿæå‡ºäº†è‡ªå·±çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬å¼ é‡ï¼ŒPyTorchä¸­çš„å¼ é‡ç”¨Tensorè¡¨ç¤ºã€‚åˆå­¦è€…å¯èƒ½ä¸çŸ¥é“å¼ é‡æ˜¯ä»€ä¹ˆã€‚å…¶å®ï¼Œå¼ é‡å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œç±»ä¼¼äºNumPyä¸­çš„narrayå¯¹è±¡ã€‚ å¤šç»´æ•°ç»„å¯ä»¥ç”¨ç›¸å†Œæ¥å½¢è±¡åœ°è§£é‡Šã€‚å‡è®¾å°ç±³æœ‰ç›¸å†ŒAï¼Œç›¸å†ŒAåŒ…å«Nå¼ å›¾ç‰‡ï¼Œæ¯å¼ å›¾ç‰‡çš„å®½åº¦ä¸ºé‚£ã€é«˜åº¦ä¸ºHã€‚ç”±äºæ˜¯å½©è‰²å›¾ç‰‡ï¼Œåœ¨è®¡ç®—æœºä¸­ç”¨RGBä¸‰é€šé“è¡¨ç¤ºï¼ˆæ‰€æœ‰é¢œè‰²éƒ½å¯ä»¥ç”¨çº¢ã€æ™¯ã€è“ä¸‰åŸè‰²æŒ‰ç…§ä¸åŒçš„æ¯”ä¾‹è°ƒé…å‡ºæ¥ï¼Œçº¢ã€ç»¿ã€è“ä¸‰é€šé“ä¸åŒçš„åƒç´ äº®åº¦å€¼å åŠ åœ¨ä¸€èµ·å°±å‘ˆç°å‡ºä¸åŒçš„é¢œè‰²ï¼Œæ‰€ä»¥æ•´å¼ å›¾ç‰‡å‘ˆç°å‡ºå½©è‰²ï¼‰ï¼Œæ‰€ä»¥é€šé“æ•°ä¸º3ã€‚. PyTorché‡‡ç”¨å››ç»´æ•°ç»„è¡¨ç¤ºè¿™ä¸ªç›¸å†Œï¼Œå½¢å¦‚[N, W,H, C]ï¼Œå…¶ä¸­Cè¡¨ç¤ºé€šé“æ•°ã€‚è¿™ç§å¤šç»´æ•°ç»„è¡¨ç¤ºçš„å¥½å¤„å¯ä»¥ä»è®¡ç®—æœºç»„æˆåŸç†è¯´èµ·ï¼Œç°ä»£è®¡ç®—æœºéƒ½æ˜¯å¤šæ ¸å¤šå¤„ç†å™¨çš„ï¼Œæ”¯æŒå¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹ï¼Œéå¸¸é€‚åˆçŸ©åº“çš„å¹¶è¡Œè®¡ç®—ï¼Œè€Œä¸”è®¡ç®—ä¸€æ‰¹æ•°æ®å’Œè®¡ç®—ä¸€ä¸ªæ•°æ®çš„è°ƒåº¦æ—¶é—´æ˜¯å·®ä¸å¤šçš„ï¼Œå› æ­¤ç§‘å­¦è®¡ç®—å¾€å¾€éƒ½æ˜¯åŸºäºçŸ©é˜µçš„è®¡ç®—ï¼Œå¹¶ä¸”ä¼šæŒ‡å®šä¸€ä¸ªé€‚å½“çš„Batchã€‚ä¾‹å¦‚ï¼ŒPyTorchè§†è§‰å¤„ç†ä¸­é€šå¸¸å°†BahæŒ‡å®šä¸º4ã€128æˆ–256ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†å……åˆ†åˆ©ç”¨è®¡ç®—æœºèµ„æºè€Œè€ƒè™‘çš„ã€‚åŸºäºå¼ é‡çš„ä¹˜æ³•è¿ç®—å¦‚å›¾18æ‰€ç¤ºã€‚ å¼ é‡å°±æ˜¯å¤šç»´æ•°ç»„ï¼Œå¹¶ä¸”æä¾›äº†CPUè®¾å¤‡å’ŒGPUè®¾å¤‡çš„æ”¯æŒã€‚å¦‚æœæœºå™¨ä¸Šæœ‰GPUè®¾å¤‡ï¼Œå°±å¯ä»¥åœ¨Trä¸Šè°ƒç”¨cudaæ–¹æ³•ï¼Œå°†Tensorçš„æ•°æ®åŠ è½½åˆ°GPUè®¾å¤‡ä¸­è¿è¡Œï¼Œæå‡è¿è¡Œé€Ÿåº¦ã€‚å¼ æœ€ä¸Šæä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å’ŒNumpyä¸­çš„æ–¹æ³•ç±»ä¼¼ï¼Œä½¿ç”¨è¿‡NmPyçš„è¯»è€…è‚¯å®šä¼šè§‰å¾—è¿™äº›æ–¹æ³•æ—¢çœ¼ç†Ÿåˆäº²åˆ‡ã€‚ åˆ›å¥å¼ é‡éœ€è¦å€ŸåŠ©tensoræä¾›çš„Tensoræ–¹æ³•æˆ–from_numpyæ–¹æ³•ã€‚ç†è®ºä¸Šå¯ä»¥åˆ›å»ºä»»æ„ç»´åº¦çš„å¤šä¸ºæ•°ç»„ï¼Œä½†æœ€å¸¸ç”¨çš„Tensorè¡¥è¶…è¿‡äº”ç»´ã€‚ é™¤äº†ç»´åº¦ï¼Œè¿˜å¯ä»¥æŒ‡å®šæ¯ä¸ªç»´åº¦ä¸Šçš„SIZEï¼Œå¦‚a = torch.Tensor(3, 4, 5, 8)ï¼Œè¡¨ç¤ºåˆ›å»ºäº†ä¸€ä¸ªæ€ç»´æ•°ç»„ï¼Œå› ä¸ºTensoræœ‰4ä¸ªå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°è¡¨ç¤ºå¯¹åº”ç»´åº¦çš„å¤§å°ã€‚å› æ­¤ï¼Œå˜é‡aå¯ä»¥è¡¨ç¤ºBatchä¹¦ä¸º3ã€å®½åº¦ä¸º4ã€‚é«˜åº¦ä¸º5ï¼Œé€šé“æ•°ä¸º8çš„ç‰¹å¾å›¾ï¼ˆFeature Mapå›¾åƒå·ç§¯è¿ç®—äº§ç”Ÿçš„ä¸­é—´ç‰¹å¾ï¼‰ é™¤äº†ä¸€äºŒç»´ä»¥å¤–ï¼Œè¿˜æœ‰ä¸‰ç»´ç«‹æ–¹ä½“ï¼šå°†å¤šä¸ªäºŒç»´çŸ©é˜µå åŠ åœ¨ä¸€èµ·å°±å¯ä»¥å½¢æˆä¸‰ç»´ç«‹æ–¹ä½“ã€‚ä¸‰ç»´Tensor å¸¸ç”¨äºè¡¨ç¤ºå›¾ç‰‡æ•°æ®[widthï¼Œheightï¼Œchannel]ã€‚å››ç»´å¤šç«‹æ–¹ä½“ï¼šå¸¸è§äºæ‰¹é‡çš„å›¾ç‰‡æ•°æ®ï¼Œå¦‚ä¹‹å‰ä»‹ç»†çš„ç›¸å†Œå°±æ˜¯å¤šå¼ å›¾ç‰‡çš„å åŠ ï¼Œæœ€å¸¸è§çš„å½¢å¼ä¸º[batch, width, height, channel]ã€‚äº”ç»´ï¼šè¡¨ç¤ºå¤šä¸ªå››ç»´tensorç›¸åŠ ï¼Œå¸¸è§äºè§†é¢‘æ•°æ®ï¼Œè§†é¢‘æŒ‰å¸§æ•°åˆ’åˆ†ï¼Œå¦‚50fpsï¼ˆå¸§/sï¼‰ï¼Œè¡¨ç°å½¢å¼ä¸º[frames, batch, width, height, channel] Variable PyTorchä¸­å¦å¤–ä¸€ä¸ªå’ŒTensorç›¸å…³çš„æ¦‚å¿µæ˜¯Variableå˜é‡ã€‚Variableæ˜¯å¯¹Tensorçš„å°è£…ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¼ é‡ï¼Œä½äºtorch.autogradè‡ªåŠ¨å¾®åˆ†æ¨¡å—ä¸­ï¼Œæ˜¯ä¸ºå®ç°è‡ªåŠ¨å¾®åˆ†è€Œæå‡ºçš„ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ã€‚åœ¨PyTorch0.4.1ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼ŒVariableçš„åº”ç”¨éå¸¸å¹¿æ³›ã€‚ä½†æ˜¯åˆ°PyTorch1.0ä¹‹åï¼Œè¿™ä¸ªæ•°æ®ç»“æ„è¢«æ ‡æ³¨ä¸ºdeprecatedï¼Œè¡¨ç¤ºå·²ç»è¿‡æ—¶ï¼Œå¹¶ä¸”Variableä¸­çš„gradå’Œgrad_fmç­‰å±æ€§ä¹Ÿè¢«è½¬ç§»åˆ°Tensorä¸­ï¼Œè¿™ä¸ªæ”¹å˜è¿›ä¸€æ­¥ç²¾ç®€äº†æ¥å£ã€‚ç”±äºå¸‚é¢ä¸Šè¿˜å­˜åœ¨å¤§é‡è€ç‰ˆæœ¬çš„ä»£ç ï¼Œæ‰€ä»¥æœ¬ä¹¦ä¹Ÿå¯¹Variableè¿›è¡Œç®€å•ä»‹ç»ã€‚åˆ›å»ºVariableéœ€è¦å€ŸåŠ© torch.autogradä¸­æä¾›çš„Variableæ–¹æ³•ï¼Œå®ƒæ¥æ”¶Tensorç±»å‹çš„å‚æ•°ã€‚ä¸‹é¢é€šè¿‡ Float Tensor åˆ›å»º Variableã€‚ ç®—å­æœ‰å“ªäº› PyTorchçš„æ ¸å¿ƒæ¨¡å— ä»»ä½•å¥½çš„è½¯ä»¶ç³»ç»Ÿå¿…å®šæ˜¯ç»è¿‡ç²¾å¿ƒè®¾è®¡å’ŒæŠ½è±¡çš„ï¼ŒPyTorchè„±èƒäº2012å¹´ä½¿ç”¨Laè¯­è¨€ç¼–å†™çš„Toå±±é¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ— è®ºæ˜¯è®¡ç®—æ¶æ„è®¾è®¡è¿˜æ˜¯æ‰©å±•æ€§éƒ½æ˜¯ä¸€æµçš„ï¼Œç‰¹åˆ«æ˜¯åŠ¨æ€å›¾æ›´æ˜¯è®©äººè€³ç›®ä¸€æ–°ã€‚ pyTorchå°†ç³»ç»Ÿçš„å®ç°æŠ½è±¡ä¸ºä¸åŒçš„æ¨¡å—ï¼Œæœ€æ ¸å¿ƒçš„æ¨¡å—æ˜¯Tensorï¼Œå®ƒæ˜¯æ•´ä¸ªåŠ¨æ€å›¾çš„åŸºç¡€ï¼Œè‡ªåŠ¨å¾®åˆ†åŠåå‘ä¼ æ’­éƒ½éœ€è¦å€ŸåŠ©è¯¥æ¨¡å—ã€‚Torchä¸ºåˆ›å»ºTensoræä¾›äº†å¤šç§æ–¹æ³•ï¼Œå¦‚torchrandnã€torcth.randintç­‰ï¼ŒTensorä¸Šå®ç°äº†å¤§é‡çš„æ–¹æ³•ï¼Œå¦‚sumã€argminã€argmaxç­‰ã€‚Tensorä¹Ÿæ˜¯torchæ¨¡å—æ„å»ºç½‘ç»œçš„æ ¸å¿ƒï¼Œç½‘ç»œæ„å»ºå¥½ä¹‹åé€šè¿‡ç½‘ç»œçš„parametersæ–¹æ³•å¯ä»¥è·å–ç½‘ç»œçš„æ‰€æœ‰å‚æ•°ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡éå†è¿™äº›å‚æ•°å¯¹è±¡æ”¹å˜requires_grad å±æ€§æ¥è¾¾åˆ°å†»ç»“å‚æ•°çš„ç›®çš„ï¼Œè¿™åœ¨è¿ç§»å­¦ä¹ ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚torch.nnæ¨¡å—é€šè¿‡functionalå­æ¨¡å—æä¾›äº†å¤§é‡æ–¹æ³•ï¼Œå¦‚convã€ReLUã€pollingã€softmaxç­‰ã€‚è¿™äº›æ–¹æ³•åœ¨ç½‘ç»œçš„forwardä¸­è°ƒç”¨ï¼Œç»“æœè¾“å‡ºå€¼ç”±torch.nn.xxxLosæŸå¤±å‡½æ•°è®¡ç®—æŸå¤±ã€‚torch.nnæ¨¡å—ä¸­æä¾›äº†å¾ˆå¤šå¯é€‰çš„æŸå¤±å‡½æ•°ï¼Œå¦‚MSELossã€CrossEntropyLossç­‰ï¼Œå°†æŸå¤±ä¼ é€’ç»™ä¼˜åŒ–æ¨¡å—ï¼Œtorch.optimä¼˜åŒ–æ¨¡å—æä¾›äº†å¤§é‡çš„ä¼˜åŒ–å™¨ï¼Œå¸¸è§çš„æœ‰SGDã€Adamç­‰ã€‚ä¼˜åŒ–å™¨ä¼šæ ¹æ®æŸå¤±è®¡ç®—å¹¶æ›´æ–°æ¢¯åº¦ï¼Œè¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ï¼Œæœ€ç»ˆå°†æ›´æ–° parametersã€‚PyTorchçš„æ ¸å¿ƒæ¨¡å—å¦‚å›¾1.14æ‰€ç¤ºã€‚ ã€ŠPythonæ·±åº¦å­¦ä¹ åŸºäºPytorchã€‹ ç¥ç»ç½‘ç»œæ ¸å¿ƒç»„ä»¶ï¼š å±‚ï¼šç¥ç»ç½‘ç»œçš„åŸºæœ¬ç»“æ„ï¼Œå°†è¾“å…¥å¼ é‡è½¬æ¢ä¸ºè¾“å‡ºå¼ é‡ æ¨¡å‹ï¼šå±‚æ„æˆçš„ç½‘ç»œ æŸå¤±å‡½æ•°ï¼šå‚æ•°å­¦ä¹ çš„ç›®æ ‡å‡½æ•°ï¼Œé€šè¿‡æœ€å°åŒ–æŸå¤±å‡½æ•°æ¥å­¦ä¹ å„ç§å‚æ•° ä¼˜åŒ–å™¨ï¼šå¦‚ä½•ä½¿æŸå¤±å‡½æ•°æœ€å°ï¼Œè¿™å°±è®¾è®¡ä¼˜åŒ–å™¨ å¤šä¸ªå±‚é“¾æ¥åœ¨ä¸€èµ·æ„æˆä¸€ä¸ªæ¨¡å‹æˆ–ç½‘ç»œ,è¾“å…¥æ•°æ®é€šè¿‡è¿™ä¸ªæ¨¡å‹è½¬æ¢ä¸ºé¢„æµ‹å€¼,ç„¶åæŸå¤±å‡½æ•°æŠŠé¢„æµ‹å€¼ä¸çœŸå®å€¼è¿›è¡Œæ¯”è¾ƒ,å¾—åˆ°æŸå¤±å€¼(æŸå¤±å€¼å¯ä»¥æ˜¯è·ç¦»ã€æ¦‚ç‡å€¼ç­‰),è¯¥æŸå¤±å€¼ç”¨äºè¡¡é‡é¢„æµ‹å€¼ä¸ç›®æ ‡ç»“æœçš„åŒ¹é…æˆ–ç›¸ä¼¼ç¨‹åº¦,ä¼˜åŒ–å™¨åˆ©ç”¨æŸå¤±å€¼æ›´æ–°æƒé‡å‚æ•°,ä»Â·è€Œä½¿æŸå¤±å€¼è¶Šæ¥è¶Šå°ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ªç¯è¿‡ç¨‹,å½“æŸå¤±å€¼è¾¾åˆ°ä¸€ä¸ªé˜€å€¼æˆ–å¾ªç¯æ¬¡æ•°åˆ°è¾¾æŒ‡å®šæ¬¡æ•°,å¾ªç¯ç»“æŸã€‚æ¥ä¸‹æ¥åˆ©ç”¨PyTorchçš„nnå·¥å…·ç®±,æ„å»ºä¸€ä¸ªç¥ç»ç½‘ç»œå®ä¾‹ã€‚nnä¸­å¯¹è¿™äº›ç»„ä»¶éƒ½æœ‰ç°æˆåŒ…æˆ–ç±»,å¯ä»¥ç›´æ¥ä½¿ç”¨,éå¸¸æ–¹ä¾¿ã€‚ è¯†åˆ«æ‰‹å†™ä½“æ­¥éª¤ï¼š åˆ©ç”¨pytorchå†…ç½®å‡½æ•°mnistä¸‹è½½æ•°æ® åˆ©ç”¨torchvisionå¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œè°ƒç”¨torch.utilså»ºç«‹ä¸€ä¸ªæ•°æ®è¿­ä»£å™¨ å¯è§†åŒ–æºæ•°æ® åˆ©ç”¨nnå·¥å…·ç®±æ„å»ºç¥ç»ç½‘ç»œæ¨¡å‹ å®ä¾‹åŒ–æ¨¡å‹ï¼Œå¹¶å®šä¹‰æŸå¤±å‡½æ•°åŠä¼˜åŒ–å™¨ è®­ç»ƒæ¨¡å‹ å¯è§†åŒ–ç»“æœ ä¼˜åŒ–å™¨ SGD SGDå¸¦åŠ¨é‡optim.SGD(model.parameters(), lr=lr, momentum=momentum) adagrad RMSPropï¼ˆé€šè¿‡ä¿®æ”¹AdaGradè€Œæ¥ï¼‰ Adam(å¸¦åŠ¨é‡é¡¹çš„RMSProp) torchvision æ›´å¤šè§ï¼š40 å®æˆ˜ Kaggle æ¯”èµ›ï¼šç‹—çš„å“ç§è¯†åˆ«ï¼ˆImageNet Dogsï¼‰ã€åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ v2ã€‘-å¼•å…¥é¢„è®­ç»ƒç½‘ç»œ models é¢„è®­ç»ƒæ¨¡å‹ï¼Œå¦‚torchvision.models.resnet34(pretrained=True) datasets æ•°æ®é›†ï¼Œå¦‚mnistï¼Œå¦‚datasets.MNIST å¯¹æ¯”tensorflowï¼š(X_train, _), (_, _) = mnist.load_data() ImageFolderï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ•°æ®ä»¥æ–‡ä»¶å¤¹ä¸ºç•ŒåŒºåˆ†label æ³¨ï¼šé…åˆdata.DataLoaderä½¿ç”¨ transforms æ•°æ®å¢å¼ºå·¥å…·ï¼ŒScale, RandomCropã€RandomResizedCrop, Pad, ColorJitterã€RandomHorizontalFlipã€ToTensorã€CenterCrop èšåˆå¤šä¸ªå˜æ¢æ“ä½œï¼ŒCompose utils data.DataLoader 12345678910111213# ç»å…¸ç”¨æ³•dataloader = torch.utils.data.DataLoader( datasets.MNIST( \"../../data/mnist\", train=True, download=True, transform=transforms.Compose( [transforms.Resize(opt.img_size), transforms.ToTensor(), transforms.Normalize([0.5], [0.5])] ), ), batch_size=opt.batch_size, shuffle=True,) save_image é™„å½• ä¿å­˜æ¨¡å‹æ–­ç‚¹ï¼š 1234567891011121314151617181920212223# å­˜æ¨¡å‹å‚æ•°å†™æ³•ï¼š def save_checkpoint(self, folder='checkpoint', filename='checkpoint.pth.tar'): filepath = os.path.join(folder, filename) if not os.path.exists(folder): print(\"Checkpoint Directory does not exist! Making directory &#123;&#125;\".format(folder)) os.mkdir(folder) else: print(\"Checkpoint Directory exists! \") torch.save(&#123; 'state_dict' : self.nnet.state_dict(), &#125;, filepath) def load_checkpoint(self, folder='checkpoint', filename='checkpoint.pth.tar'): filepath = os.path.join(folder, filename) if not os.path.exists(filepath): raise(\"No model in path &#123;&#125;\".format(filepath)) map_location = None if args.cuda else 'cpu' checkpoint = torch.load(filepath, map_location=map_location) self.nnet.load_state_dict(checkpoint['state_dict'])# å­˜æ•´ä¸ªæ¨¡å‹if j % 10 ==0 and loss &lt; loss_value: torch.save(model, \"model.cpkt\") loss_value = loss æ³¨æ„ç‚¹ï¼š PILèƒ½showçš„å›¾ç‰‡æ ¼å¼ä¸èƒ½æ˜¯tensorï¼Œåªèƒ½æ˜¯numpyçš„arrayï¼Œæ‰€ä»¥éœ€è¦å¯è§†åŒ–çš„è¯å¾—è½¬æ¢ä¸€ä¸‹ã€‚ 10åˆ†é’Ÿå¿«é€Ÿå…¥é—¨PyTorch (1) https://zhuanlan.zhihu.com/p/26893755","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://nymrli.top/tags/è¯»ä¹¦ç¬”è®°/"}]},{"title":"LinuxæœåŠ¡å™¨åŒæ­¥æ—¶é’Ÿ","slug":"LinuxæœåŠ¡å™¨åŒæ­¥æ—¶é’Ÿ","date":"2020-11-22T04:49:35.000Z","updated":"2020-11-22T04:50:08.208Z","comments":true,"path":"2020/11/22/LinuxæœåŠ¡å™¨åŒæ­¥æ—¶é’Ÿ/","link":"","permalink":"https://nymrli.top/2020/11/22/LinuxæœåŠ¡å™¨åŒæ­¥æ—¶é’Ÿ/","excerpt":"","text":"å› ä¸ºä»Šå¤©åœ¨é›†ç¾¤193è·‘ç¨‹åºçš„æ—¶å€™å‘ç°æ—¶é—´ä¸åŒæ­¥, å› æ­¤æƒ³æƒ³æŠŠé›†ç¾¤çš„æ—¶é—´å…¨éƒ¨åŒæ­¥ä¸€ä¸‹ åœ¨Linuxä¸­è®¾ç½®ç³»ç»Ÿæ—¶é—´ï¼Œå¯ä»¥ç”¨dateå‘½ä»¤ï¼š 1234# æŸ¥çœ‹æ—¶é—´$ date# ä¿®æ”¹æ—¶é—´$ date -s \"20140225 20:16:00\" #yyyymmdd hh:mm:ss Linuxç¡¬ä»¶æ—¶é—´çš„è®¾ç½® ç¡¬ä»¶æ—¶é—´çš„è®¾ç½®ï¼Œå¯ä»¥ç”¨hwclockæˆ–è€…clockå‘½ä»¤ã€‚ä¸¤è€…åŸºæœ¬ç›¸åŒï¼Œåªç”¨ä¸€ä¸ªå°±è¡Œï¼Œåªä¸è¿‡clockå‘½ä»¤é™¤äº†æ”¯æŒx86ç¡¬ä»¶ä½“ç³»å¤–ï¼Œè¿˜æ”¯æŒAlphaç¡¬ä»¶ä½“ç³»ã€‚ ç³»ç»Ÿæ—¶é—´å’Œç¡¬ä»¶æ—¶é—´çš„åŒæ­¥ åŒæ­¥ç³»ç»Ÿæ—¶é—´å’Œç¡¬ä»¶æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨hwclockå‘½ä»¤ã€‚ 4. ä¸åŒæœºå™¨ä¹‹é—´çš„æ—¶é—´åŒæ­¥ ä¸ºäº†é¿å…ä¸»æœºæ—¶é—´å› ä¸ºé•¿æœŸè¿è¡Œä¸‹æ‰€å¯¼è‡´çš„æ—¶é—´åå·®ï¼Œè¿›è¡Œæ—¶é—´åŒæ­¥ï¼ˆsynchronizeï¼‰çš„å·¥ä½œæ˜¯éå¸¸å¿…è¦çš„ã€‚Linuxç³»ç»Ÿä¸‹ï¼Œä¸€èˆ¬ä½¿ç”¨ntpæœåŠ¡å™¨æ¥åŒæ­¥ä¸åŒæœºå™¨çš„æ—¶é—´ã€‚ä¸€å°æœºå™¨ï¼Œå¯ä»¥åŒæ—¶æ˜¯ntpæœåŠ¡ç«¯å’Œntpå®¢æˆ·ç«¯ã€‚åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ï¼Œæ¨èä½¿ç”¨åƒDNSæœåŠ¡å™¨ä¸€æ ·åˆ†å±‚çš„æ—¶é—´æœåŠ¡å™¨æ¥åŒæ­¥æ—¶é—´ã€‚ ä¸åŒæœºå™¨é—´åŒæ­¥æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨ntpdateå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ntpdæœåŠ¡ã€‚==&gt;â–². æ³¨æ„ä¸¤ä¸ªä¸èƒ½åŒæ—¶ä½¿ç”¨: å¦‚æœä½¿ç”¨äº†ntpdåè¿˜æ˜¯ç”¨ntpdateä¼šæŠ¥é”™ntpdate[39462]: the NTP socket is in use, exiting, è¦æŸ¥è¯¢ntpçš„çŠ¶æ€ï¼Œç”¨ntpqå‘½ä»¤ï¼Œæ¯”å¦‚çœ‹ç›®å‰æ˜¯å¦å’Œntp serveråŒæ­¥ï¼Œç”¨ntpq -p 1234567891011121314 remote refid st t when poll reach delay offset jitter============================================================================== 0.ubuntu.pool.n .POOL. 16 p - 64 0 0.000 0.000 0.000 1.ubuntu.pool.n .POOL. 16 p - 64 0 0.000 0.000 0.000 2.ubuntu.pool.n .POOL. 16 p - 64 0 0.000 0.000 0.000 3.ubuntu.pool.n .POOL. 16 p - 64 0 0.000 0.000 0.000 ntp.ubuntu.com .POOL. 16 p - 64 0 0.000 0.000 0.000 ntp1.ams1.nl.le 130.133.1.10 2 u 1 64 1 305.632 -43.387 0.146*120.25.115.20 10.137.53.7 2 u 1 64 1 29.425 -1.059 0.410 203.107.6.88 100.107.25.114 2 u 1 64 1 32.056 -2.093 0.257 ntp.xtom.nl 84.199.11.211 2 u 1 64 1 175.286 -6.179 0.210 94.130.49.186 ( 195.13.23.5 3 u 2 64 1 212.348 -17.943 0.561 tock.ntp.infoma .GPS. 1 u 2 64 1 239.693 -11.135 0.175 119.28.206.193 100.122.36.196 2 u - 64 1 41.525 -4.034 0.002 å¯ä»¥çœ‹åˆ°*å·æ ‡å‡ºçš„å°±æ˜¯é›†ç¾¤æ­£åœ¨åŒæ­¥çš„æ—¶é’ŸæœåŠ¡å™¨: 120.25.115.20æ˜¯é˜¿é‡Œäº‘ ç”±äºä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œ è€Œntpdateçš„ç¨³å®šæ€§ä¸å¥½ï¼Œ å› æ­¤ntpdateç”¨æ¥ä¸€æ¬¡æ€§åŒæ­¥æ—¶é—´ï¼ˆæˆ–è€…ntpdate+cronç»„åˆï¼‰ã€æˆ–è€…ç”¨ntpdateåŒæ­¥ä¸€æ¬¡æ—¶é—´åï¼ŒæŒç»­ç”¨ntpdæœåŠ¡å™¨æ¥åŒæ­¥ã€‚ ä¸‹é¢ä½¿ç”¨ntpdateæ¥åŒæ­¥æ—¶é—´ï¼šä½¿ç”¨ntpdateå‰, å…ˆå°†ntpdå…³é—­: service ntpd stopæˆ–sudo systemctl stop ntp 1234# /usr/sbin/ntpdate time.stdtime.gov.twError : Temporary failure in name resolution29 Oct 14:18:59 ntpdate[25327]: can't find host time.stdtime.gov.tw29 Oct 14:18:59 ntpdate[25327]: no servers can be used, exiting ç¡®è®¤é˜²ç«å¢™æ²¡æœ‰é—®é¢˜åï¼Œæ‰§è¡ŒåŸŸåè§£æï¼Œå‘ç°å¤±è´¥ 12# nslookup time.stdtime.gov.tw;; connection timed out; no servers could be reached å°è¯•pingå¤–ç½‘ï¼Œä»¥ç¡®è®¤èƒ½æ­£å¸¸è¿åˆ°å¤–ç½‘ï¼Œè¿ç½‘æ­£å¸¸ 1234567# ping 8.8.8.8PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.64 bytes from 8.8.8.8: icmp_seq=1 ttl=53 time=1.48 ms64 bytes from 8.8.8.8: icmp_seq=2 ttl=53 time=1.40 ms--- 8.8.8.8 ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 1000msrtt min/avg/max/mdev = 1.404/1.445/1.487/0.056 ms äºæ˜¯ä¿®æ”¹DNSæ–‡ä»¶, /etc/resolv.conf, è™½ç„¶è¿™è¾¹æç¤ºä¸è¦æ‰‹åŠ¨ä¿®æ”¹, ä½†æ˜¯ä¸´æ—¶æ”¹æ‰æ˜¯æ²¡é—®é¢˜çš„ 1234# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN#nameserver 127.0.1.1nameserver 8.8.8.8 ä¿®æ”¹åï¼Œå†æ¬¡æ‰§è¡Œæ—¶é—´åŒæ­¥ï¼Œoké¸Ÿï¼ 12apollo3d@apollo15:~/cl/Python_project/cplm/Min38$ sudo ntpdate ntp1.aliyun.com21 Nov 23:04:25 ntpdate[40285]: adjust time server 120.25.115.20 offset 0.002194 se é™¤äº†é˜¿é‡Œäº‘çš„è¿˜æœ‰pool.ntp.orgå¯ä»¥ç”¨æ¥åŒæ­¥ã€‚ â–²ä½†æ˜¯åŒæ­¥ä¹‹åæ—¶é—´è¿˜æ˜¯ä¸å¤ªå¯¹ï¼Œ äºæ˜¯è§‚å¯Ÿæ—¶åŒºï¼Œ å‘ç°é›†ç¾¤ä¸¤å°ç”µè„‘ä¸Šå…¶å®åªæ˜¯æ—¶åŒºæ˜¯ä¸åŒçš„ï¼Œ åŒæ­¥çš„æœåŠ¡å™¨éƒ½æ˜¯ä¸€æ ·çš„é˜¿é‡Œäº‘çš„ã€‚ 12345apollo3d@apollo2:~$ date2020å¹´ 11æœˆ 22æ—¥ æ˜ŸæœŸæ—¥ 12:14:11 CSTapollo3d@apollo15:~/cl/Python_project/cplm/Min38$ dateSat Nov 21 23:14:01 EST 2020 å‘ç°ä¸€ä¸ªæ˜¯ESTå’ŒCSTã€‚ç½‘ä¸ŠæŸ¥è¯¢å¾—çŸ¥ ESTä»£è¡¨è‹±å›½æ—¶é—´, CSTä»£è¡¨åŒ—äº¬æ—¶é—´, EDTï¼šæŒ‡ç¾å›½ä¸œéƒ¨å¤ä»¤æ—¶é—´ é‚£ä¹ˆç°åœ¨åªè¦æ”¹æˆåŒ—äº¬æ—¶é—´çš„æ—¶åŒºCSTå°±å¯ä»¥äº†ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š 123[root@localhost ~]# mv /etc/localtime /etc/localtime.bak[root@localhost ~]# ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime[root@localhost ~]# date ä½†æ˜¯å‘ç°ä¸¤å°è¯­è¨€ä¸ä¸€æ ·, ä¸€ä¸ªæ˜¯ä¸­æ–‡, ä¸€ä¸ªæ˜¯è‹±æ–‡, çŒœæµ‹æ˜¯æ“ä½œç³»ç»Ÿä¸­è‹±ç‰ˆå¯¼è‡´çš„: è¾“å‡ºç¯å¢ƒå˜é‡: 123456789101112131415161718192021apollo3d@apollo2:~$ date2020å¹´ 11æœˆ 22æ—¥ æ˜ŸæœŸæ—¥ 12:14:11 CST$ env# å¯ä»¥çœ‹åˆ°æ—¶åŒºæ˜¯ä¸­å›½HOME=/home/apollo3dLOGNAME=apollo3dLESSCLOSE=/usr/bin/lesspipe %s %sLC_TIME=zh_CN.UTF-8LC_NAME=zh_CN.UTF-8_=/usr/bin/envapollo3d@apollo15:~/cl/Python_project/cplm/Min38$ dateSat Nov 21 23:14:01 EST 2020$ env# å¯ä»¥çœ‹åˆ°è¯­è¨€æ˜¯en_US, ä½†æ˜¯æ²¡è®¾ç½®æ—¶åŒºMAIL=/var/mail/apollo3dPWD=/home/apollo3d/cl/Python_project/cplm/Min38JAVA_HOME=/home/apollo3d/Apollo_Rescue/jdk1.8.0_161LANG=en_US.UTF-8HOME=/home/apollo3dSUDO_COMMAND=/bin/su å› æ­¤å¯ä»¥ä¿®æ”¹LANG: 12$ sudo vim /etc/sysconfig/i18nLANG=\"en_US.UTF-8\"æ”¹ä¸ºLANG=\"zh_CN.GB2312\" å†è¿è¡Œæˆ‘çš„Pythonè„šæœ¬çš„æ—¶å€™å‘ç°ç«Ÿç„¶æŠ¥é”™äº†: ValueError: Timezone offset does not match system offset: -18000 != 28800. Please, check your config files. å› ä¸ºç³»ç»Ÿæ—¶åŒºå’Œä»£ç è¿è¡Œæ—¶åŒºä¸ä¸€æ ·å¯¼è‡´ã€‚è§£å†³åŠæ³•ï¼šåœ¨åˆ›å»ºBlockingSchedulerå¯¹è±¡æ—¶æŒ‡å®šä¸Šæµ·çš„æ—¶åŒºscheduler = BlockingScheduler(timezone=&quot;Asia/Shanghai&quot;)","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"æå®æ¯…æœºå™¨å­¦ä¹ _æ‘˜è¦","slug":"æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦","date":"2020-11-17T12:36:05.000Z","updated":"2020-12-20T14:35:08.357Z","comments":true,"path":"2020/11/17/æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/","link":"","permalink":"https://nymrli.top/2020/11/17/æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/","excerpt":"","text":"P3Regression - Case Study regularizationè§£å†³overfitting(L2æ­£åˆ™åŒ–è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜) regularizationå¯ä»¥ä½¿æ›²çº¿å˜å¾—æ›´åŠ smoothï¼Œtraining dataä¸Šçš„errorå˜å¤§ï¼Œä½†æ˜¯ testing dataä¸Šçš„errorå˜å°ã€‚æœ‰å…³regularizationçš„å…·ä½“åŸç†è¯´æ˜è¯¦è§ä¸‹ä¸€éƒ¨åˆ† åŸæ¥çš„loss functionåªè€ƒè™‘äº†predictionçš„errorï¼Œå³$$\\sum_{i}{n}\\left(\\hat{y}{i}-\\left(b+\\sum_{j} w_{j} x_{j}\\right)\\right)^{2}$$ï¼›è€Œregularizationåˆ™æ˜¯åœ¨åŸæ¥çš„loss functionçš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†ä¸€é¡¹$$\\lambda \\sum\\left(w_{i}\\right)^{2}$$ï¼Œå°±æ˜¯æŠŠè¿™ä¸ªmodelé‡Œé¢æ‰€æœ‰çš„Wiçš„å¹³æ–¹å’Œç”¨Î»åŠ æƒ(å…¶ä¸­iä»£è¡¨éå†nä¸ªtraining dataï¼Œjä»£è¡¨éå†modelçš„æ¯ä¸€é¡¹) ä¹Ÿå°±æ˜¯è¯´ï¼Œ*æˆ‘ä»¬æœŸå¾…å‚æ•°w i w_i*w*i*è¶Šå°ç”šè‡³æ¥è¿‘äº0çš„functionï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ å› ä¸ºå‚æ•°å€¼æ¥è¿‘0çš„functionï¼Œæ˜¯æ¯”è¾ƒå¹³æ»‘çš„ï¼›æ‰€è°“çš„å¹³æ»‘çš„æ„æ€æ˜¯ï¼Œå½“ä»Šå¤©çš„è¾“å…¥æœ‰å˜åŒ–çš„æ—¶å€™ï¼Œoutputå¯¹è¾“å…¥çš„å˜åŒ–æ˜¯æ¯”è¾ƒä¸æ•æ„Ÿçš„ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹y=b+âˆ‘wixiy=b+\\sum w_{i} x_{i}y=b+âˆ‘wiâ€‹xiâ€‹è¿™ä¸ªmodelï¼Œå½“inputå˜åŒ–Î” xï¼Œoutputçš„å˜åŒ–å°±æ˜¯ï¼Œ$$w_{i} \\Delta x_{i}$$ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœwè¶Šiå°è¶Šæ¥è¿‘0çš„è¯ï¼Œè¾“å‡ºå¯¹è¾“å…¥å°±è¶Šä¸sensitiveæ•æ„Ÿï¼Œæˆ‘ä»¬çš„functionå°±æ˜¯ä¸€ä¸ªè¶Šå¹³æ»‘çš„functionï¼›è¯´åˆ°è¿™é‡Œä½ ä¼šå‘ç°ï¼Œæˆ‘ä»¬ä¹‹å‰æ²¡æœ‰æŠŠbiasâ€”â€”bè¿™ä¸ªå‚æ•°è€ƒè™‘è¿›å»çš„åŸå› æ˜¯biasçš„å¤§å°è·Ÿfunctionçš„å¹³æ»‘ç¨‹åº¦æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œbiaså€¼çš„å¤§å°åªæ˜¯æŠŠfunctionä¸Šä¸‹ç§»åŠ¨è€Œå·² é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬å–œæ¬¢æ¯”è¾ƒå¹³æ»‘çš„functionå‘¢ï¼Ÿ å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¯”è¾ƒå¹³æ»‘çš„functionï¼Œç”±äºè¾“å‡ºå¯¹è¾“å…¥æ˜¯ä¸æ•æ„Ÿçš„ï¼Œæµ‹è¯•çš„æ—¶å€™ï¼Œä¸€äº›noiseså™ªå£°å¯¹è¿™ä¸ªå¹³æ»‘çš„functionçš„å½±å“å°±ä¼šæ¯”è¾ƒå°ï¼Œè€Œç»™æˆ‘ä»¬ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ç»“æœ æ³¨ï¼šè¿™é‡Œçš„Î»éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»è°ƒæ•´ä»¥å–å¾—æœ€å¥½çš„å€¼ Î»å€¼è¶Šå¤§ä»£è¡¨è€ƒè™‘smoothçš„é‚£ä¸ªregularizationé‚£ä¸€é¡¹çš„å½±å“åŠ›è¶Šå¤§ï¼Œæˆ‘ä»¬æ‰¾åˆ°çš„functionå°±è¶Šå¹³æ»‘ è§‚å¯Ÿä¸‹å›¾å¯çŸ¥ï¼Œå½“æˆ‘ä»¬çš„Î»è¶Šå¤§çš„æ—¶å€™ï¼Œåœ¨training dataä¸Šå¾—åˆ°çš„errorå…¶å®æ˜¯è¶Šå¤§çš„ï¼Œä½†æ˜¯è¿™ä»¶äº‹æƒ…æ˜¯éå¸¸åˆç†çš„ï¼Œå› ä¸ºå½“Î»è¶Šå¤§çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¶Šå€¾å‘äºè€ƒè™‘wçš„å€¼è€Œè¶Šå°‘è€ƒè™‘errorçš„å¤§å°ï¼›ä½†æ˜¯æœ‰è¶£çš„æ˜¯ï¼Œè™½ç„¶åœ¨training dataä¸Šå¾—åˆ°çš„errorè¶Šå¤§ï¼Œä½†æ˜¯åœ¨testing dataä¸Šå¾—åˆ°çš„errorå¯èƒ½ä¼šæ˜¯æ¯”è¾ƒå°çš„ æˆ‘ä»¬å–œæ¬¢æ¯”è¾ƒå¹³æ»‘çš„functionï¼Œå› ä¸ºå®ƒå¯¹noiseä¸é‚£ä¹ˆsensitiveï¼›ä½†æ˜¯æˆ‘ä»¬åˆä¸å–œæ¬¢å¤ªå¹³æ»‘çš„functionï¼Œå› ä¸ºå®ƒå°±å¤±å»äº†å¯¹dataæ‹Ÿåˆçš„èƒ½åŠ›ï¼›è€Œfunctionçš„å¹³æ»‘ç¨‹åº¦ï¼Œå°±éœ€è¦é€šè¿‡è°ƒæ•´Î»æ¥å†³å®šï¼Œå°±åƒä¸‹å›¾ä¸­ï¼Œå½“Î»=100æ—¶ï¼Œåœ¨testing dataä¸Šçš„erroræœ€å°ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©Î»=100 P4Basic Concept biaså’Œvariance biasè¡¨ç¤ºç¦»é¶å¿ƒçš„è·ç¦», è€Œvarianceè¡¨ç¤ºæ•£å¸ƒæƒ…å†µ å›¾ä¸­æ‰€ç¤ºï¼Œåªæœ‰è¶³å¤Ÿå¤§çš„å‡½æ•°æœç´¢ç©ºé—´ï¼Œæ‰èƒ½æ‰¾åˆ°æ­£ç¡®çš„â€œé¶å¿ƒâ€ï¼Œå› æ­¤å°±éœ€è¦å§æ¨¡å‹è®¾è®¡å¾—è¶³å¤Ÿå¤æ‚ã€‚è€Œå¤æ‚æ¨¡å‹éœ€è¦å¤§æ•°æ®æ¥é™ä½æ–¹å·®ï¼Œ å› æ­¤éœ€è¦å¤§é‡çš„æ•°æ®é˜²æ­¢è¿‡æ‹Ÿåˆ å¦‚æœæ¥è‡ªvarianceçš„è¯¯å·®å¾ˆå¤§ï¼Œ é‚£ä¹ˆå°±æ˜¯è¿‡æ‹Ÿåˆï¼› å¦‚æœæ¥è‡ªbiasçš„è¯¯å·®å¾ˆå¤§ï¼Œé‚£ä¹ˆå°±æ˜¯æ¬ æ‹Ÿåˆï¼ˆunderfittingï¼‰ biaså¤§ï¼š å¦‚æœæ— æ³•fitè®­ç»ƒæ•°æ®, è¯æ˜æ˜¯æ¬ æ‹Ÿåˆ;å¦‚æœèƒ½fitè®­ç»ƒæ•°æ®ï¼Œä½†æ˜¯åœ¨æµ‹è¯•æ•°æ®ä¸Šæœ‰è¾ƒå¤§çš„è¯¯å·®ï¼Œé‚£ä¹ˆå°±æ˜¯è¿‡æ‹Ÿåˆâ€”â€”åšæ³•ï¼šå¢å¤§ç‰¹å¾orå¢å¤§æ¬¡é¡¹ varianceå¤§ï¼š æ›´å¤šçš„æ•°æ®ï¼ˆæ•°æ®å¢å¼ºï¼‰or æ­£åˆ™åŒ– äº¤å‰éªŒè¯ï¼š åœ¨trainingsetè®­ç»ƒå,è™½ç„¶åœ¨å…¬å¼€çš„æµ‹è¯•é›†ä¸Šè¡¨ç¤ºè‰¯å¥½,ä½†æ˜¯private testing setä¸å¥½çš„è¯, åˆ™è¿˜æ˜¯æ¯”è¾ƒç³Ÿç³•çš„æ¨¡å‹ã€‚å› æ­¤åœ¨åˆ¤æ–­ä¸€ä¸ªæ¨¡å‹çš„å¥½åçš„æ—¶å€™ï¼Œ å¯ä»¥å°†trainingSetè¿›è¡Œäº¤å‰éªŒè¯ éå¸¸ä¸å»ºè®®å› ä¸ºåœ¨public testing setä¸Šè¡¨ç°ä¸å¥½è€Œåè¿‡æ¥é‡æ–°é€‰æ‹©trainingSetçš„æ¨¡å‹ï¼Œ å› ä¸ºè¿™ç›¸å½“äºåœ¨è®­ç»ƒçš„æ—¶å€™å§testingä¹Ÿè€ƒè™‘åœ¨å†…äº†ï¼Œ è¿èƒŒäº†è®¾è®¡çš„åˆè¡·ï¼Œå¹¶ä¸”è¿™æ ·çš„ç»“æœåœ¨private testing setä¸Šä¹Ÿä¼šè¡¨ç°ä¸å¥½ã€‚ N-fold cross validation ï¼ˆåæŠ˜äº¤å‰éªŒè¯ï¼‰ å¦‚æœä¸ç›¸ä¿¡æŸä¸€ä¸ªtrainsetçš„ç»“æœçš„è¯ï¼Œ é‚£å°±åˆ†å¾ˆå¤štrainset 5. P5Gradient Descent Î¸âˆ—=argâ¡minâ¡Î¸L(Î¸)\\theta^{*}=\\arg \\min _{\\theta} L(\\theta) Î¸âˆ—=argÎ¸minâ€‹L(Î¸) L: loss function Î¸\\thetaÎ¸ : parameters(ä¸Šæ ‡è¡¨ç¤ºç¬¬å‡ ç»„å‚æ•°, ä¸‹æ ‡è¡¨ç¤ºè¿™ç»„å‚æ•°ä¸­çš„ç¬¬å‡ ä¸ªå‚æ•°) å½“å‚æ•°æœ‰å¾ˆå¤šä¸ªçš„æ—¶å€™(&gt;3)ï¼Œå…¶å®æˆ‘ä»¬å¾ˆéš¾åšåˆ°å°†losséšæ¯ä¸ªå‚æ•°çš„å˜åŒ–å¯è§†åŒ–å‡ºæ¥(å› ä¸ºæœ€å¤šåªèƒ½å¯è§†åŒ–å‡ºä¸‰ç»´çš„å›¾åƒï¼Œä¹Ÿå°±åªèƒ½å¯è§†åŒ–ä¸‰ç»´å‚æ•°)ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æŠŠupdateçš„æ¬¡æ•°ä½œä¸ºå”¯ä¸€çš„ä¸€ä¸ªå‚æ•°ï¼Œå°†losséšç€updateçš„å¢åŠ è€Œå˜åŒ–çš„è¶‹åŠ¿ç»™å¯è§†åŒ–å‡ºæ¥(ä¸Šå›¾å³åŠéƒ¨åˆ†) æ‰€ä»¥åšgradient descentä¸€ä¸ªå¾ˆé‡è¦çš„äº‹æƒ…æ˜¯ï¼Œè¦æŠŠä¸åŒçš„learning rateä¸‹ï¼Œlosséšupdateæ¬¡æ•°çš„å˜åŒ–æ›²çº¿ç»™å¯è§†åŒ–å‡ºæ¥ï¼Œå®ƒå¯ä»¥æé†’ä½ è¯¥å¦‚ä½•è°ƒæ•´å½“å‰çš„learning rateçš„å¤§å°ï¼Œç›´åˆ°å‡ºç°ç¨³å®šä¸‹é™çš„æ›²çº¿ æ€»ç»“ï¼šæ¢¯åº¦ä¸‹é™æ³•æŒ‡çš„æ˜¯å‡½æ•°å€¼losséšæ¢¯åº¦ä¸‹é™çš„æ–¹å‘å‡å° Adaptive Learning rates æ˜¾ç„¶è¿™æ ·æ‰‹åŠ¨åœ°å»è°ƒæ•´learning rateså¾ˆéº»çƒ¦ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æœ‰ä¸€äº›è‡ªåŠ¨è°ƒæ•´learning ratesçš„æ–¹æ³• æœ€åŸºæœ¬ã€æœ€ç®€å•çš„å¤§åŸåˆ™æ˜¯ï¼šlearning rateé€šå¸¸æ˜¯éšç€å‚æ•°çš„updateè¶Šæ¥è¶Šå°çš„ å› ä¸ºåœ¨èµ·å§‹ç‚¹çš„æ—¶å€™ï¼Œé€šå¸¸æ˜¯ç¦»æœ€ä½ç‚¹æ˜¯æ¯”è¾ƒè¿œçš„ï¼Œè¿™æ—¶å€™æ­¥ä¼å°±è¦è·¨å¤§ä¸€ç‚¹ï¼›è€Œç»è¿‡å‡ æ¬¡updateä»¥åï¼Œä¼šæ¯”è¾ƒé è¿‘ç›®æ ‡ï¼Œè¿™æ—¶å€™å°±åº”è¯¥å‡å°learning rateï¼Œè®©å®ƒèƒ½å¤Ÿæ”¶æ•›åœ¨æœ€ä½ç‚¹çš„åœ°æ–¹ Adagrad Divide the learning rate of each parameter by the root mean square(æ–¹å‡æ ¹) of its previous derivatives Adagradå°±æ˜¯å°†ä¸åŒå‚æ•°çš„learning rateåˆ†å¼€è€ƒè™‘çš„ä¸€ç§ç®—æ³•(adagradç®—æ³•updateåˆ°åé¢é€Ÿåº¦ä¼šè¶Šæ¥è¶Šæ…¢ï¼Œå½“ç„¶è¿™åªæ˜¯adaptiveç®—æ³•ä¸­æœ€ç®€å•çš„ä¸€ç§) Stochastic Gradicent Descent éšæœºæ¢¯åº¦ä¸‹é™çš„æ–¹æ³•å¯ä»¥è®©è®­ç»ƒæ›´å¿«é€Ÿï¼Œä¼ ç»Ÿçš„gradient descentçš„æ€è·¯æ˜¯çœ‹å®Œæ‰€æœ‰çš„æ ·æœ¬ç‚¹ä¹‹åå†æ„å»ºloss functionï¼Œç„¶åå»updateå‚æ•°ï¼›è€Œstochastic gradient descentçš„åšæ³•æ˜¯ï¼Œçœ‹åˆ°ä¸€ä¸ªæ ·æœ¬ç‚¹å°±updateä¸€æ¬¡ï¼Œå› æ­¤å®ƒçš„loss functionä¸æ˜¯æ‰€æœ‰æ ·æœ¬ç‚¹çš„errorå¹³æ–¹å’Œï¼Œè€Œæ˜¯è¿™ä¸ªéšæœºæ ·æœ¬ç‚¹çš„errorå¹³æ–¹ Feature Scaling æ¦‚å¿µä»‹ç» ç‰¹å¾ç¼©æ”¾ï¼Œå½“å¤šä¸ªç‰¹å¾çš„åˆ†å¸ƒèŒƒå›´å¾ˆä¸ä¸€æ ·æ—¶ï¼Œæœ€å¥½å°†è¿™äº›ä¸åŒfeatureçš„èŒƒå›´ç¼©æ”¾æˆä¸€æ · å¯¹gradient decentçš„å¸®åŠ© ä¹‹å‰æˆ‘ä»¬åšçš„demoå·²ç»è¡¨æ˜äº†ï¼Œå¯¹äºè¿™ç§é•¿æ¤­åœ†å½¢çš„error surfaceï¼Œå¦‚æœä¸ä½¿ç”¨Adagradä¹‹ç±»çš„æ–¹æ³•ï¼Œæ˜¯å¾ˆéš¾æå®šå®ƒçš„ï¼Œå› ä¸ºåœ¨åƒw1å’Œw2è¿™æ ·ä¸åŒçš„å‚æ•°æ–¹å‘ä¸Šï¼Œä¼šéœ€è¦ä¸åŒçš„learning rateï¼Œç”¨ç›¸åŒçš„lrå¾ˆéš¾è¾¾åˆ°æœ€ä½ç‚¹ å¦‚æœæœ‰scaleçš„è¯ï¼Œlossåœ¨å‚æ•°w1ã€w2å¹³é¢ä¸Šçš„æŠ•å½±å°±æ˜¯ä¸€ä¸ªæ­£åœ†å½¢ï¼Œupdateå‚æ•°ä¼šæ¯”è¾ƒå®¹æ˜“ è€Œä¸”gradient descentçš„æ¯æ¬¡updateå¹¶ä¸éƒ½æ˜¯å‘ç€æœ€ä½ç‚¹èµ°çš„ï¼Œæ¯æ¬¡updateçš„æ–¹å‘æ˜¯é¡ºç€ç­‰é«˜çº¿çš„æ–¹å‘(æ¢¯åº¦gradientä¸‹é™çš„æ–¹å‘)ï¼Œè€Œä¸æ˜¯å¾„ç›´èµ°å‘æœ€ä½ç‚¹ï¼›ä½†æ˜¯å½“ç»è¿‡å¯¹inputçš„scaleä½¿lossçš„æŠ•å½±æ˜¯ä¸€ä¸ªæ­£åœ†çš„è¯ï¼Œä¸ç®¡åœ¨è¿™ä¸ªåŒºåŸŸçš„å“ªä¸€ä¸ªç‚¹ï¼Œå®ƒéƒ½ä¼šå‘ç€åœ†å¿ƒèµ°ã€‚å› æ­¤feature scalingå¯¹å‚æ•°updateçš„æ•ˆç‡æ˜¯æœ‰å¸®åŠ©çš„ scaling method: z-score: å½’ä¸€åŒ– gradient descentæ•°å­¦ç†è®º æ³¨æ„ learning rateéœ€è¦è®¾ç½®å¥½, å¦åˆ™Î”Î¸ä¸ä¸º0, åˆ™æ³°å‹’è¿‘ä¼¼ä¸æˆç«‹ã€‚ gradient descentçš„é™åˆ¶ â–²gradient descentçš„é™åˆ¶æ˜¯ï¼Œå®ƒåœ¨gradientå³å¾®åˆ†å€¼æ¥è¿‘äº0çš„åœ°æ–¹å°±ä¼šåœä¸‹æ¥ï¼Œè€Œè¿™ä¸ªåœ°æ–¹ä¸ä¸€å®šæ˜¯global minimaï¼Œå®ƒå¯èƒ½æ˜¯local minimaï¼Œå¯èƒ½æ˜¯saddle pointéç‚¹ï¼Œç”šè‡³å¯èƒ½æ˜¯ä¸€ä¸ªlosså¾ˆé«˜çš„plateauå¹³ç¼“é«˜åŸ 6. P10Classification_1 ç‰¹å¾ã€ç‰¹å¾å‘é‡æ˜¯ä»€ä¹ˆï¼Ÿ è¦æƒ³æŠŠä¸€ä¸ªä¸œè¥¿å½“åšè®¡ç®—æœºèƒ½ç†è§£çš„functionçš„inputï¼Œå°±éœ€è¦æŠŠå®ƒæ•°å€¼åŒ– ç‰¹æ€§æ•°å€¼åŒ–ï¼šç”¨ä¸€ç»„æ•°å­—æ¥æè¿°ä¸€åªå®å¯æ¢¦çš„ç‰¹æ€§ï¼Œ æ¯”å¦‚ç”¨ä¸€ç»„æ•°å­—è¡¨ç¤ºå®ƒæœ‰å¤šå¼º(total strong)ã€å®ƒçš„ç”Ÿå‘½å€¼(HP)ã€å®ƒçš„æ”»å‡»åŠ›(Attack)ã€å®ƒçš„é˜²å¾¡åŠ›(Defense)ã€å®ƒçš„ç‰¹æ®Šæ”»å‡»åŠ›(Special Attack)ã€å®ƒçš„ç‰¹æ®Šæ”»å‡»çš„é˜²å¾¡åŠ›(Special defend)ã€å®ƒçš„é€Ÿåº¦(Speed)ï¼Œä»¥çš®å¡ä¸˜ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸Šä¸ƒç§ç‰¹æ€§çš„æ•°å€¼å°±æ˜¯ç‰¹å¾é‡ï¼Œ è€Œå¤šä¸ªç‰¹å¾é‡æ‰€ç»„æˆçš„vectorå°±æ˜¯ç‰¹å¾å‘é‡ æˆ‘ä»¬å¸Œæœ›è“è‰²çš„è¿™äº›å±äºclass 1çš„å®å¯æ¢¦ï¼Œinputåˆ°Regressionçš„modelï¼Œoutputè¶Šæ¥è¿‘1è¶Šå¥½ï¼›çº¢è‰²çš„å±äºclass 2çš„å®å¯æ¢¦ï¼Œinputåˆ°Regressionçš„modelï¼Œoutputè¶Šæ¥è¿‘-1è¶Šå¥½ã€‚å¦‚æœä½¿ç”¨å›å½’æ¥ç¡¬è§£åˆ†ç±»é—®é¢˜çš„è¯ï¼Œ å¼‚å¸¸å€¼å½±å“æ¯”è¾ƒå¤§ã€‚ å¼‚å¸¸å€¼åˆ™è¿œè¿œå¤§äº1ï¼Œ è·Ÿç›®æ ‡ä¸ä¸€è‡´ Regressionçš„outputæ˜¯è¿ç»­æ€§è´¨çš„æ•°å€¼ï¼Œè€Œclassificationè¦æ±‚çš„outputæ˜¯ç¦»æ•£æ€§è´¨çš„ç‚¹ï¼Œæˆ‘ä»¬å¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªRegressionçš„functionä½¿å¤§éƒ¨åˆ†æ ·æœ¬ç‚¹çš„outputéƒ½é›†ä¸­åœ¨æŸå‡ ä¸ªç¦»æ•£çš„ç‚¹é™„è¿‘ å› æ­¤ï¼ŒRegressionå®šä¹‰modelå¥½åçš„å®šä¹‰æ–¹å¼å¯¹classificationæ¥è¯´æ˜¯ä¸é€‚ç”¨çš„ Solutionï¼šGenerative modelâ€”â€”æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ ![function](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P6 classification\\function.jpg) æˆ‘ä»¬å¯ä»¥æŠŠloss functionå®šä¹‰æˆL^(f)=âˆ‘nÎ´(f(xn)â‰ y^n)\\hat{L}(f)=\\sum_{n} \\delta\\left(f\\left(x^{n}\\right) \\neq \\hat{y}^{n}\\right)L^(f)=âˆ‘nâ€‹Î´(f(xn)î€ â€‹=y^â€‹n)ï¼Œå³è¿™ä¸ªmodelåœ¨æ‰€æœ‰çš„training dataä¸Špredicté¢„æµ‹é”™è¯¯çš„æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ†ç±»é”™è¯¯çš„æ¬¡æ•°è¶Šå°‘ï¼Œè¿™ä¸ªfunctionè¡¨ç°å¾—å°±è¶Šå¥½ è´å¶æ–¯å…¬å¼=å•æ¡è·¯å¾„æ¦‚ç‡/æ‰€æœ‰è·¯å¾„æ¦‚ç‡å’Œ ![beyas](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P6 classification\\beyas.jpg) è¿™ä¸€æ•´å¥—æƒ³æ³•å«åšGenerative model(ç”Ÿæˆæ¨¡å‹)ï¼Œä¸ºä»€ä¹ˆå«å®ƒGenerative modelå‘¢ï¼Ÿå› ä¸ºæœ‰è¿™ä¸ªmodelçš„è¯ï¼Œå°±å¯ä»¥æ‹¿å®ƒæ¥generateç”Ÿæˆx(å¦‚æœä½ å¯ä»¥è®¡ç®—å‡ºæ¯ä¸€ä¸ªxå‡ºç°çš„æ¦‚ç‡ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªdistributionåˆ†å¸ƒæ¥ç”Ÿæˆxã€sample xå‡ºæ¥) ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œæ€ä¹ˆå¾—åˆ°P(xâˆ£C1)P\\left(x \\mid C_{1}\\right)P(xâˆ£C1â€‹) å’Œ P(xâˆ£C2)P\\left(x \\mid C_{2}\\right)P(xâˆ£C2â€‹) çš„å€¼==&gt; è®¤ä¸ºæ•°æ®æœä» é«˜æ–¯åˆ†å¸ƒ é«˜æ–¯åˆ†å¸ƒ fÎ¼,Î£(x)=1(2Ï€)D/21âˆ£Î£âˆ£1/2expâ¡{âˆ’12(xâˆ’Î¼)TÎ£âˆ’1(xâˆ’Î¼)}f_{\\mu, \\Sigma}(x)=\\frac{1}{(2 \\pi)^{D / 2}} \\frac{1}{|\\Sigma|^{1 / 2}} \\exp \\left\\{-\\frac{1}{2}(x-\\mu)^{T} \\Sigma^{-1}(x-\\mu)\\right\\}fÎ¼,Î£â€‹(x)=(2Ï€)D/21â€‹âˆ£Î£âˆ£1/21â€‹exp{âˆ’21â€‹(xâˆ’Î¼)TÎ£âˆ’1(xâˆ’Î¼)} å‡è®¾æµ·é¾Ÿçš„vectoræ˜¯[103 45]ï¼Œè™½ç„¶è¿™ä¸ªç‚¹åœ¨å·²æœ‰çš„æ•°æ®é‡Œå¹¶æ²¡æœ‰å‡ºç°è¿‡ï¼Œä½†æ˜¯ä¸å¯ä»¥è®¤ä¸ºå®ƒå‡ºç°çš„æ¦‚ç‡ä¸º0ï¼Œæˆ‘ä»¬éœ€è¦ç”¨å·²æœ‰çš„æ•°æ®å»ä¼°æµ‹æµ·é¾Ÿå‡ºç°çš„å¯èƒ½æ€§ ä½ å¯ä»¥æƒ³è±¡è¯´è¿™å·²æœ‰çš„79åªæ°´ç³»å®å¯æ¢¦çš„dataå…¶å®åªæ˜¯å†°å±±ä¸€è§’ï¼Œå‡å®šæ°´ç³»ç¥å¥‡å®è´çš„Defenseå’ŒSP Defenseæ˜¯ä»ä¸€ä¸ªGaussiançš„distributioné‡Œé¢sampleå‡ºæ¥çš„ï¼Œä¸‹å›¾åªæ˜¯é‡‡æ ·äº†79ä¸ªç‚¹ä¹‹åå¾—åˆ°çš„åˆ†å¸ƒï¼Œä½†æ˜¯ä»é«˜æ–¯åˆ†å¸ƒé‡Œé‡‡æ ·å‡ºæµ·é¾Ÿè¿™ä¸ªç‚¹çš„å‡ ç‡å¹¶ä¸æ˜¯0ï¼Œé‚£ä»è¿™79ä¸ªå·²æœ‰çš„ç‚¹ï¼Œæ€ä¹ˆæ‰¾åˆ°é‚£ä¸ªGaussian distributionå‡½æ•°å‘¢ï¼Ÿ æœ€å¤§ä¼¼ç„¶ä¼°è®¡_å‚æ•°ä¼°è®¡ é‚£æ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯æ€ä¹ˆå»æ‰¾å‡ºè¿™ä¸ªGaussianï¼Œåªéœ€è¦å»ä¼°æµ‹å‡ºè¿™ä¸ªGaussiançš„å‡å€¼å’Œåæ–¹å·®å³å¯ ä¼°æµ‹å’Œçš„æ–¹æ³•å°±æ˜¯æå¤§ä¼¼ç„¶ä¼°è®¡æ³•(Maximum Likelihood)ï¼Œæå¤§ä¼¼ç„¶ä¼°è®¡çš„æ€æƒ³æ˜¯ï¼Œæ‰¾å‡ºæœ€ç‰¹æ®Šçš„é‚£å¯¹uå’Œcovarianceï¼Œä»å®ƒä»¬å…±åŒå†³å®šçš„é«˜æ–¯å‡½æ•°ä¸­å†æ¬¡é‡‡æ ·å‡º79ä¸ªç‚¹ï¼Œä½¿â€å¾—åˆ°çš„åˆ†å¸ƒæƒ…å†µä¸å½“å‰å·²çŸ¥79ç‚¹çš„åˆ†å¸ƒæƒ…å†µç›¸åŒâ€œè¿™ä»¶äº‹æƒ…å‘ç”Ÿçš„å¯èƒ½æ€§æœ€å¤§===&gt;æœ€å¤§ä¼¼ç„¶ä¼°è®¡ æ ¹æ®sampleæ ·æœ¬, æ±‚å¾—ä½¿å‡ºç°è¯¥æ ·æœ¬ç»„åˆå¯èƒ½æ€§æœ€å¤§(æ‰€ä»¥æ˜¯æ¯ä¸€ä¸ªç‚¹äº§ç”Ÿçš„æ¦‚ç‡ç›¸ä¹˜)çš„é‚£ç»„å‚æ•° ![æœ€å¤§ä¼¼ç„¶ä¼°è®¡](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P6 classification\\æœ€å¤§ä¼¼ç„¶ä¼°è®¡.jpg) ![ä¼°è®¡å‡ºå‚æ•°](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P6 classification\\ä¼°è®¡å‡ºå‚æ•°.jpg) é¢„æµ‹ï¼š ![é¢„æµ‹](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P6 classification\\é¢„æµ‹.jpg) ===&gt; è®­ç»ƒç»“æŸï¼šå†æŠŠtesting dataä¸Šå¾—åˆ°çš„ç»“æœå¯è§†åŒ–å‡ºæ¥ï¼Œå³å³ä¸‹è§’çš„å›¾ï¼Œå‘ç°åˆ†çš„ä¸æ˜¯å¤ªå¥½ï¼Œæ­£ç¡®ç‡æ‰æ˜¯47%æˆ‘ä»¬ä¹‹å‰ç”¨çš„åªæ˜¯Defenseå’ŒSP Defenseè¿™ä¸¤ä¸ªå‚æ•°ï¼Œåœ¨äºŒç»´ç©ºé—´ä¸Šå¾—åˆ°çš„æ•ˆæœä¸å¤ªå¥½ï¼Œä½†å®é™…ä¸Šä¸€å¼€å§‹å°±æåˆ°äº†å®å¯æ¢¦æ€»å…±æ˜¯æœ‰6ä¸ªfeaturesçš„ï¼Œä¹Ÿè®¸åœ¨äºŒç»´ç©ºé—´ä¸Šå®ƒä»¬æ˜¯é‡å åœ¨ä¸€èµ·çš„ï¼Œä½†æ˜¯åœ¨å…­ç»´ç©ºé—´ä¸Šçœ‹å®ƒä»¬ä¹Ÿè®¸ä¼šåˆ†å¾—å¾ˆå¥½ï¼Œæ¯ä¸€ä¸ªå®å¯æ¢¦éƒ½æ˜¯å…­ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œäºæ˜¯æˆ‘ä»¬çš„æ˜¯ä¸€ä¸ª6-dimçš„vectorï¼Œåˆ™æ˜¯ä¸€ä¸ª6*6çš„matrixï¼Œå‘ç°å¾—åˆ°çš„å‡†ç¡®ç‡ä¹Ÿæ‰64%ï¼Œè¿™ä¸ªåˆ†ç±»å™¨è¡¨ç°å¾—å¾ˆç³Ÿç³•ï¼Œæ˜¯å¦æœ‰åŠæ³•å°†å®ƒæ”¹è¿›çš„æ›´å¥½ï¼Ÿ Modifying Model å…¶å®ä¹‹å‰ä½¿ç”¨çš„modelæ˜¯ä¸å¸¸è§çš„ï¼Œä½ æ˜¯ä¸ä¼šç»å¸¸çœ‹åˆ°ç»™æ¯ä¸€ä¸ªGaussianéƒ½æœ‰è‡ªå·±çš„meanå’Œcovarianceï¼Œæ¯”å¦‚æˆ‘ä»¬çš„class 1ç”¨çš„æ˜¯u1å’ŒÎ£1\\Sigma_1Î£1â€‹ï¼Œclass 2ç”¨çš„æ˜¯u2å’ŒÎ£2\\Sigma_2Î£2â€‹ï¼Œæ¯”è¾ƒå¸¸è§çš„åšæ³•æ˜¯ï¼Œä¸åŒçš„classå¯ä»¥shareåŒä¸€ä¸ªcocovariance matrix å…¶å®varianceæ˜¯è·Ÿinputçš„feature sizeçš„å¹³æ–¹æˆæ­£æ¯”çš„ï¼Œæ‰€ä»¥å½“featureçš„æ•°é‡å¾ˆå¤§çš„æ—¶å€™ï¼ŒÎ£\\SigmaÎ£å¤§å°çš„å¢é•¿æ˜¯å¯ä»¥éå¸¸å¿«çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç»™ä¸åŒçš„Gaussianä»¥ä¸åŒçš„covariance matrixï¼Œä¼šé€ æˆmodelçš„å‚æ•°å¤ªå¤šï¼Œè€Œå‚æ•°å¤šä¼šå¯¼è‡´è¯¥modelçš„varianceè¿‡å¤§ï¼Œå‡ºç°overfittingçš„ç°è±¡ï¼Œå› æ­¤å¯¹ä¸åŒçš„classä½¿ç”¨åŒä¸€ä¸ªcovariance matrixï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘å‚æ•° æ¡ˆä¾‹æ€»ç»“ å›é¡¾å‡ ç‡æ¨¡å‹ machine learningå¯ä»¥æ¦‚å†µä¸ºä»¥ä¸‹ä¸‰ä¸ªstep ![threeSteps](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P6 classification\\threeSteps.jpg) ![threeStepsç¬”è®°](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P6 classification\\threeStepsç¬”è®°.jpg) ![æ¦‚ç‡åˆ†å¸ƒ](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P6 classification\\æ¦‚ç‡åˆ†å¸ƒ.jpg) é€‰æ‹©çš„æ¦‚ç‡åˆ†å¸ƒä¸ºç»éªŒä¹‹è°ˆï¼š å¯ä»¥é€‰æ‹©ä»»æ„ä½ å–œæ¬¢çš„ï¼Œ ä½†æ˜¯æœ€åè¿˜æ˜¯å¾—çœ‹æ•ˆæœï¼š å¦‚æœä½ é€‰æ‹©çš„æ˜¯ç®€å•çš„åˆ†å¸ƒå‡½æ•°(å‚æ•°æ¯”è¾ƒå°‘)ï¼Œé‚£ä½ çš„biaså°±å¤§ï¼Œvarianceå°±å°ï¼›å¦‚æœä½ é€‰æ‹©å¤æ‚çš„åˆ†å¸ƒå‡½æ•°ï¼Œé‚£ä½ çš„biaså°±å°ï¼Œvarianceå°±å¤§ï¼Œé‚£ä½ å°±å¯ä»¥ç”¨data setæ¥åˆ¤æ–­ä¸€ä¸‹ï¼Œç”¨ä»€ä¹ˆæ ·çš„Probability distributionä½œä¸ºmodelæ˜¯æ¯”è¾ƒå¥½çš„ æœ´ç´ è´å¶æ–¯ï¼š è¿™é‡Œæ¯ä¸€ä¸ªdimensionçš„åˆ†å¸ƒå‡½æ•°éƒ½æ˜¯ä¸€ç»´çš„Gaussian distributionï¼Œå¦‚æœè¿™æ ·å‡è®¾çš„è¯ï¼Œç­‰äºæ˜¯è¯´ï¼ŒåŸæ¥é‚£å¤šç»´åº¦çš„Gaussianï¼Œå®ƒçš„covariance matrixå˜æˆæ˜¯diagonal(å¯¹è§’çš„)ï¼Œåœ¨ä¸æ˜¯å¯¹è§’çº¿çš„åœ°æ–¹ï¼Œå€¼éƒ½æ˜¯0ï¼Œè¿™æ ·å°±å¯ä»¥æ›´åŠ å‡å°‘éœ€è¦çš„å‚æ•°é‡ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ›´ç®€å•çš„model æˆ‘ä»¬æŠŠä¸Šè¿°è¿™ç§æ–¹æ³•å«åšNaive Bayes Classifier(æœ´ç´ è´å¶æ–¯åˆ†ç±»æ³•)ï¼Œå¦‚æœçœŸçš„æ˜ç¡®äº†æ‰€æœ‰çš„featureä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ˜¯ä¸ç›¸å…³çš„ï¼Œä½¿ç”¨æœ´ç´ è´å¶æ–¯åˆ†ç±»æ³•çš„performanceæ˜¯ä¼šå¾ˆå¥½çš„ï¼Œå¦‚æœè¿™ä¸ªå‡è®¾æ˜¯ä¸æˆç«‹çš„ï¼Œé‚£ä¹ˆNaive bayes classfierçš„biaså°±ä¼šå¾ˆå¤§ï¼Œå®ƒå°±ä¸æ˜¯ä¸€ä¸ªå¥½çš„classifier(æœ´ç´ è´å¶æ–¯åˆ†ç±»æ³•æœ¬è´¨å°±æ˜¯å‡å°‘å‚æ•°) å½“ç„¶è¿™ä¸ªä¾‹å­é‡Œå¦‚æœä½¿ç”¨è¿™æ ·çš„modelï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä¸ç†æƒ³ï¼Œå› ä¸ºå„ç§featureä¹‹é—´çš„covarianceè¿˜æ˜¯å¿…è¦çš„ï¼Œæ¯”å¦‚æˆ˜æ–—åŠ›å’Œé˜²å¾¡åŠ›å®ƒä»¬ä¹‹é—´æ˜¯æ­£ç›¸å…³çš„ï¼Œcovarianceä¸èƒ½ç­‰äº0 æ€»ä¹‹ï¼Œå¯»æ‰¾modelæ€»çš„åŸåˆ™æ˜¯ï¼Œå°½é‡å‡å°‘ä¸å¿…è¦çš„å‚æ•°ï¼Œä½†æ˜¯å¿…ç„¶çš„å‚æ•°ç»å¯¹ä¸èƒ½å°‘ é‚£æ€ä¹ˆå»é€‰æ‹©åˆ†å¸ƒå‡½æ•°å‘¢ï¼Ÿæœ‰å¾ˆå¤šæ—¶å€™å‡­ç›´è§‰å°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œæ¯”å¦‚å®å¯æ¢¦æœ‰æŸä¸ªfeatureæ˜¯binaryçš„ï¼Œå®ƒä»£è¡¨çš„æ˜¯ï¼šæ˜¯æˆ–ä¸æ˜¯ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸å¤ªå¯èƒ½æ˜¯é«˜æ–¯åˆ†å¸ƒäº†ï¼Œè€Œå¾ˆæœ‰å¯èƒ½æ˜¯ä¼¯åŠªåˆ©åˆ†å¸ƒ(ä¸¤ç‚¹åˆ†å¸ƒ) Analysis Posterior Probabilityåˆ†æåç½®æ¦‚ç‡çš„è¡¨è¾¾å¼ ä¸Šé¢çš„æ¨å¯¼è¿‡ç¨‹å¯èƒ½æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯å¾—åˆ°çš„æœ€ç»ˆç»“æœè¿˜æ˜¯æ¯”è¾ƒå¥½çš„ï¼š(å½“å’Œå…±ç”¨ä¸€ä¸ªæ—¶ï¼Œç»è¿‡åŒ–ç®€ç›¸æ¶ˆzå°±å˜æˆäº†ä¸€ä¸ªlinearçš„functionï¼Œxçš„ç³»æ•°æ˜¯ä¸€ä¸ªvector wï¼Œåé¢çš„ä¸€å¤§ä¸²æ•°å­—å…¶å®å°±æ˜¯ä¸€ä¸ªå¸¸æ•°é¡¹b) P(C1âˆ£x)=Ïƒ(wâ‹…x+b)P\\left(C_{1} \\mid x\\right)=\\sigma(w \\cdot x+b)P(C1â€‹âˆ£x)=Ïƒ(wâ‹…x+b)è¿™ä¸ªå¼å­å°±è§£é‡Šäº†ï¼Œå½“class 1å’Œclass 2å…±ç”¨çš„æ—¶å€™ï¼Œå®ƒä»¬ä¹‹é—´çš„boundaryä¼šæ˜¯linearçš„ 7. P11Logistic Regression Three Steps of machine learning Step 1ï¼šfunction set è¿™é‡Œçš„function setå°±æ˜¯Logistic Regressionâ€”â€”é€»è¾‘å›å½’ Step 2ï¼šGoodness of a function ç°åœ¨æˆ‘ä»¬æœ‰Nç¬”Training dataï¼Œæ¯ä¸€ç¬”dataéƒ½è¦æ ‡æ³¨å®ƒæ˜¯å±äºå“ªä¸€ä¸ªclass å‡è®¾è¿™äº›Training dataæ˜¯ä»æˆ‘ä»¬å®šä¹‰çš„posterior Probabilityä¸­äº§ç”Ÿçš„(åç½®æ¦‚ç‡ï¼ŒæŸç§æ„ä¹‰ä¸Šå°±æ˜¯æ¦‚ç‡å¯†åº¦å‡½æ•°)ï¼Œè€Œwå’Œbå°±å†³å®šäº†è¿™ä¸ªposterior Probabilityï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å»è®¡ç®—æŸä¸€ç»„wå’Œbå»äº§ç”Ÿè¿™Nç¬”Training dataçš„æ¦‚ç‡ï¼Œåˆ©ç”¨æå¤§ä¼¼ç„¶ä¼°è®¡çš„æ€æƒ³ï¼Œæœ€å¥½çš„é‚£ç»„å‚æ•°å°±æ˜¯æœ‰æœ€å¤§å¯èƒ½æ€§äº§ç”Ÿå½“å‰Nç¬”Training dataåˆ†å¸ƒçš„å’Œ ä¼¼ç„¶å‡½æ•°åªéœ€è¦å°†æ¯ä¸€ä¸ªç‚¹äº§ç”Ÿçš„æ¦‚ç‡ç›¸ä¹˜å³å¯ï¼Œæ³¨æ„ï¼Œè¿™é‡Œå‡å®šæ˜¯äºŒå…ƒåˆ†ç±»ï¼Œclass 2çš„æ¦‚ç‡ä¸º1å‡å»class 1çš„æ¦‚ç‡. fw,b(x)f_{w, b}(x)fw,bâ€‹(x)ä¸ºxä¸ºC1ç§ç±»çš„æ¦‚ç‡, åˆ™åœ¨äºŒå…ƒåˆ†ç±»ä¸­(1âˆ’fw,b(x))( 1 - f_{w, b}(x) )(1âˆ’fw,bâ€‹(x)) ç”±äº L(w,b)L(w, b)L(w,b) æ˜¯ä¹˜ç§¯é¡¹çš„å½¢å¼, ä¸ºäº†æ–¹ä¾¿è®¡ç®—, æˆ‘ä»¬å°†ä¸Šå¼åšä¸ªå˜æ¢: (æ³¨æ„è¿™è¾¹çš„L(w,b) æ˜¯æœ€å¤§ä¼¼ç„¶å‡½æ•°, è€Œä¸æ˜¯Loss function) wâˆ—,bâˆ—=argâ¡maxâ¡w,bL(w,b)=argâ¡minâ¡w,b(âˆ’lnâ¡L(w,b))âˆ’lnâ¡L(w,b)=âˆ’lnâ¡fw,b(x1)âˆ’lnâ¡fw,b(x2)âˆ’lnâ¡(1âˆ’fw,b(x3))âˆ’â€¦\\begin{array}{l} \\qquad w^{*}, b^{*}=\\arg \\max _{w, b} L(w, b)=\\arg \\min _{w, b}(-\\ln L(w, b)) \\\\ -\\ln L(w, b)=-\\ln f_{w, b}\\left(x^{1}\\right) \\\\ \\quad-\\ln f_{w, b}\\left(x^{2}\\right) \\\\ \\quad-\\ln \\left(1-f_{w, b}\\left(x^{3}\\right)\\right) \\\\ \\quad-\\ldots \\end{array} wâˆ—,bâˆ—=argmaxw,bâ€‹L(w,b)=argminw,bâ€‹(âˆ’lnL(w,b))âˆ’lnL(w,b)=âˆ’lnfw,bâ€‹(x1)âˆ’lnfw,bâ€‹(x2)âˆ’ln(1âˆ’fw,bâ€‹(x3))âˆ’â€¦â€‹ ç”±äºclass 1å’Œclass 2çš„æ¦‚ç‡è¡¨è¾¾å¼ä¸ç»Ÿä¸€ï¼Œä¸Šé¢çš„å¼å­æ— æ³•å†™æˆç»Ÿä¸€çš„å½¢å¼, ä¸ºäº†ç»Ÿä¸€æ ¼å¼, è¿™é‡Œå°†Logistic Regressioné‡Œçš„æ‰€æœ‰Training dataéƒ½æ‰“ä¸Š0å’Œ1çš„æ ‡ç­¾, å³output y^=1\\hat{y}=1y^â€‹=1 ä»£è¡¨class 1,1,1, output y^=0\\hat{y}=0y^â€‹=0 ä»£è¡¨class 2,2,2, äºæ˜¯ä¸Šå¼è¿›ä¸€æ­¥æ”¹å†™æˆ: âˆ’lnâ¡L(w,b)=âˆ’[y^1lnâ¡fw,b(x1)+(1âˆ’y^1)lnâ¡(1âˆ’fw,b(x1))]âˆ’[y^2lnâ¡fw,b(x2)+(1âˆ’y^2)lnâ¡(1âˆ’fw,b(x2))]âˆ’[y^3lnâ¡fw,b(x3)+(1âˆ’y^3)lnâ¡(1âˆ’fw,b(x3))]âˆ’â€¦\\begin{aligned} -\\ln L(w, b)=&amp;-\\left[\\hat{y}^{1} \\ln f_{w, b}\\left(x^{1}\\right)+\\left(1-\\hat{y}^{1}\\right) \\ln \\left(1-f_{w, b}\\left(x^{1}\\right)\\right)\\right] \\\\ &amp;-\\left[\\hat{y}^{2} \\ln f_{w, b}\\left(x^{2}\\right)+\\left(1-\\hat{y}^{2}\\right) \\ln \\left(1-f_{w, b}\\left(x^{2}\\right)\\right)\\right] \\\\ &amp;-\\left[\\hat{y}^{3} \\ln f_{w, b}\\left(x^{3}\\right)+\\left(1-\\hat{y}^{3}\\right) \\ln \\left(1-f_{w, b}\\left(x^{3}\\right)\\right)\\right] \\\\ &amp;-\\ldots \\end{aligned} âˆ’lnL(w,b)=â€‹âˆ’[y^â€‹1lnfw,bâ€‹(x1)+(1âˆ’y^â€‹1)ln(1âˆ’fw,bâ€‹(x1))]âˆ’[y^â€‹2lnfw,bâ€‹(x2)+(1âˆ’y^â€‹2)ln(1âˆ’fw,bâ€‹(x2))]âˆ’[y^â€‹3lnfw,bâ€‹(x3)+(1âˆ’y^â€‹3)ln(1âˆ’fw,bâ€‹(x3))]âˆ’â€¦â€‹ ç°åœ¨å·²ç»æœ‰äº†ç»Ÿä¸€çš„æ ¼å¼, æˆ‘ä»¬å°±å¯ä»¥æŠŠè¦minimizeçš„å¯¹è±¡å†™æˆä¸€ä¸ªsummationçš„å½¢å¼: âˆ’lnâ¡L(w,b)=âˆ‘nâˆ’[y^nlnâ¡fw,b(xn)+(1âˆ’y^n)lnâ¡(1âˆ’fw,b(xn))]-\\ln L(w, b)=\\sum_{n}-\\left[\\hat{y}^{n} \\ln f_{w, b}\\left(x^{n}\\right)+\\left(1-\\hat{y}^{n}\\right) \\ln \\left(1-f_{w, b}\\left(x^{n}\\right)\\right)\\right] âˆ’lnL(w,b)=nâˆ‘â€‹âˆ’[y^â€‹nlnfw,bâ€‹(xn)+(1âˆ’y^â€‹n)ln(1âˆ’fw,bâ€‹(xn))] è¿™é‡Œè¡¨ç¤ºç¬¬nä¸ªæ ·æœ¬ç‚¹ï¼Œè¡¨ç¤ºç¬¬nä¸ªæ ·æœ¬ç‚¹çš„classæ ‡ç­¾(1è¡¨ç¤ºclass 1,0è¡¨ç¤ºclass 2)ï¼Œæœ€ç»ˆè¿™ä¸ªsummationçš„å½¢å¼ï¼Œé‡Œé¢å…¶å®æ˜¯ä¸¤ä¸ªBernouli distribution(ä¸¤ç‚¹åˆ†å¸ƒ)çš„cross entropy(äº¤å‰ç†µ) äº¤å‰ç†µ å‡è®¾æœ‰å¦‚ä¸Šå›¾æ‰€ç¤ºçš„ä¸¤ä¸ªdistribution på’Œqï¼Œå®ƒä»¬çš„äº¤å‰å•†å°±æ˜¯ H(p,q)=âˆ’âˆ‘xp(x)lnâ¡(q(x)),H(p, q)=-\\sum_{x} p(x) \\ln (q(x)),H(p,q)=âˆ’âˆ‘xâ€‹p(x)ln(q(x)), è¿™ä¹Ÿå°±æ˜¯ä¹‹å‰çš„ æ¨å¯¼ä¸­åœ¨ âˆ’lnâ¡L(w,b)-\\ln L(w, b)âˆ’lnL(w,b) å‰åŠ ä¸€ä¸ªè´Ÿå·çš„åŸå›  cross entropyäº¤å‰å«¡çš„å«ä¹‰æ˜¯è¡¨è¾¾è¿™ä¸¤ä¸ªdistributionæœ‰å¤šæ¥è¿‘, å¦‚æœpå’Œqè¿™ä¸¤ä¸ªdistributionä¸€æ¨¡ä¸€æ ·çš„è¯, é‚£ å®ƒä»¬ç®—å‡ºæ¥çš„cross entropyå°±æ˜¯0(è¯¦ç»†è§£é‡Šåœ¨â€œä¿¡æ¯è®º&quot;ä¸­), è€Œè¿™é‡Œ f(xn)f\\left(x^{n}\\right)f(xn) è¡¨ç¤ºfunctionçš„output, y^n\\hat{y}^{n}y^â€‹n è¡¨ç¤ºé¢„æœŸ çš„ target, å› æ­¤äº¤å‰å«¡å®é™…ä¸Šè¡¨è¾¾çš„æ˜¯å¸Œæœ›è¿™ä¸ªfunctionçš„outputå’Œå®ƒçš„targetè¶Šæ¥è¿‘è¶Šå¥½ æ€»ä¹‹, æˆ‘ä»¬è¦æ‰¾çš„å‚æ•°å®é™…ä¸Šå°±æ˜¯: wâˆ—,bâˆ—=argâ¡maxâ¡w,bL(w,b)=argâ¡minâ¡w,b(âˆ’lnâ¡L(w,b)=âˆ‘nâˆ’[y^nlnâ¡fw,b(xn)+(1âˆ’y^n)lnâ¡(1âˆ’fw,b(xn))]w^{*}, b^{*}=\\arg \\max _{w, b} L(w, b)=\\arg \\min _{w, b}\\left(-\\ln L(w, b)=\\sum_{n}-\\left[\\hat{y}^{n} \\ln f_{w, b}\\left(x^{n}\\right)+\\left(1-\\hat{y}^{n}\\right) \\ln \\left(1-f_{w, b}\\left(x^{n}\\right)\\right)\\right]\\right. wâˆ—,bâˆ—=argw,bmaxâ€‹L(w,b)=argw,bminâ€‹(âˆ’lnL(w,b)=nâˆ‘â€‹âˆ’[y^â€‹nlnfw,bâ€‹(xn)+(1âˆ’y^â€‹n)ln(1âˆ’fw,bâ€‹(xn))] step 3ï¼šFind the best function å®é™…ä¸Šå°±æ˜¯å»æ‰¾åˆ°ä½¿loss functionå³äº¤å‰å«¡ä¹‹å’Œæœ€å°çš„é‚£ç»„å‚æ•° wâˆ—,bâˆ—w^{*}, b^{*}wâˆ—,bâˆ— å°±è¡Œäº†ï¼Œ è¿™é‡Œç”¨gradient descentçš„æ–¹æ³•è¿› è¡Œè¿ç®—å°±Ok è¿™é‡Œsigmoid functionçš„å¾®åˆ†å¯ä»¥ç›´æ¥ä½œä¸ºå…¬å¼è®°ä¸‹æ¥: âˆ‚Ïƒ(z)âˆ‚z=Ïƒ(z)(1âˆ’Ïƒ(z)),\\frac{\\partial \\sigma(z)}{\\partial z}=\\sigma(z)(1-\\sigma(z)),âˆ‚zâˆ‚Ïƒ(z)â€‹=Ïƒ(z)(1âˆ’Ïƒ(z)), sigmoidå’Œå®ƒçš„å¾®åˆ†çš„å›¾åƒå¦‚ ä¸‹: å…ˆè®¡ç®— âˆ’lnâ¡L(w,b)=âˆ‘nâˆ’[y^nlnâ¡fw,b(xn)+(1âˆ’y^n)lnâ¡(1âˆ’fw,b(xn))]-\\ln L(w, b)=\\sum_{n}-\\left[\\hat{y}^{n} \\ln f_{w, b}\\left(x^{n}\\right)+\\left(1-\\hat{y}^{n}\\right) \\ln \\left(1-f_{w, b}\\left(x^{n}\\right)\\right)\\right]âˆ’lnL(w,b)=âˆ‘nâ€‹âˆ’[y^â€‹nlnfw,bâ€‹(xn)+(1âˆ’y^â€‹n)ln(1âˆ’fw,bâ€‹(xn))] å¯¹ wiw_{i}wiâ€‹ çš„åå¾®åˆ† ,,, è¿™é‡Œ y^n\\hat{y}^{n}y^â€‹n å’Œ 1âˆ’y^n1-\\hat{y}^{n}1âˆ’y^â€‹n æ˜¯å¸¸æ•°å…ˆä¸ç”¨ç®¡å®ƒï¼Œåªéœ€è¦åˆ†åˆ«æ±‚å‡º lnfw,b(xn)lnf_{w, b}\\left(x^{n}\\right)lnfw,bâ€‹(xn) å’Œ lnâ¡(1âˆ’fw,b(xn))\\ln \\left(1-f_{w, b}\\left(x^{n}\\right)\\right)ln(1âˆ’fw,bâ€‹(xn)) å¯¹ wiw_{i}wiâ€‹ çš„åå¾®åˆ†å³å¯ï¼Œæ•´ä½“æ¨å¯¼è¿‡ç¨‹å¦‚ä¸‹ï¼š å°†å¾—åˆ°çš„å¼å­è¿›è¡Œè¿›ä¸€æ­¥åŒ–ç®€ï¼Œå¯å¾—ï¼š æ¢¯åº¦: Î¸âˆ—=argâ¡minâ¡Î¸L(Î¸)\\theta^{*}=\\arg \\min _{\\theta} L(\\theta) Î¸âˆ—=argÎ¸minâ€‹L(Î¸) L: loss function Î¸\\thetaÎ¸ : parameters(ä¸Šæ ‡è¡¨ç¤ºç¬¬å‡ ç»„å‚æ•°, ä¸‹æ ‡è¡¨ç¤ºè¿™ç»„å‚æ•°ä¸­çš„ç¬¬å‡ ä¸ªå‚æ•°) æ­£å¥½è·Ÿgradient descentçš„ç›®æ ‡ä¸€è‡´, å› æ­¤å¯ä»¥ç›´æ¥ç”¨gradient descentæ¥æ‰¾åˆ°æœ€å¥½çš„å‚æ•°Î¸ æ¢¯åº¦æ›´æ–°å…¬å¼: [Î”Î¸1Î”Î¸2]=âˆ’Î·[uv]=&gt;[Î¸1Î¸2]=[ab]âˆ’Î·[uv]=[ab]âˆ’Î·[âˆ‚L(a,b)âˆ‚Î¸1âˆ‚L(a,b)âˆ‚Î¸z]\\left[\\begin{array}{l}\\Delta \\theta_{1} \\\\ \\Delta \\theta_{2}\\end{array}\\right]=-\\eta\\left[\\begin{array}{l}u \\\\ v\\end{array}\\right]=&gt;\\left[\\begin{array}{l}\\theta_{1} \\\\ \\theta_{2}\\end{array}\\right]=\\left[\\begin{array}{l}a \\\\ b\\end{array}\\right]-\\eta\\left[\\begin{array}{l}u \\\\ v\\end{array}\\right]=\\left[\\begin{array}{l}a \\\\ b\\end{array}\\right]-\\eta\\left[\\begin{array}{l}\\frac{\\partial L(a, b)}{\\partial \\theta_{1}} \\\\ \\frac{\\partial L(a, b)}{\\partial \\theta_{z}}\\end{array}\\right][Î”Î¸1â€‹Î”Î¸2â€‹â€‹]=âˆ’Î·[uvâ€‹]=&gt;[Î¸1â€‹Î¸2â€‹â€‹]=[abâ€‹]âˆ’Î·[uvâ€‹]=[abâ€‹]âˆ’Î·[âˆ‚Î¸1â€‹âˆ‚L(a,b)â€‹âˆ‚Î¸zâ€‹âˆ‚L(a,b)â€‹â€‹] or Î¸i=Î¸iâˆ’1âˆ’Î·âˆ‡L(Î¸iâˆ’1)\\theta^{i}=\\theta^{i-1}-\\eta \\nabla L\\left(\\theta^{i-1}\\right)Î¸i=Î¸iâˆ’1âˆ’Î·âˆ‡L(Î¸iâˆ’1) æˆ‘ä»¬å‘ç°æœ€ç»ˆçš„ç»“æœç«Ÿç„¶å¼‚å¸¸çš„ç®€æ´ï¼Œgradient descentæ¯æ¬¡updateåªéœ€è¦åšï¼š wi=wiâˆ’Î·(âˆ‘nâˆ’(y^nâˆ’fw,b(xn))xin)w_{i}=w_{i}-\\eta (\\sum_{n}-\\left(\\hat{y}^{n}-f_{w, b}\\left(x^{n}\\right)\\right) x_{i}^{n})wiâ€‹=wiâ€‹âˆ’Î·(âˆ‘nâ€‹âˆ’(y^â€‹nâˆ’fw,bâ€‹(xn))xinâ€‹) é‚£è¿™ä¸ªå¼å­åˆ°åº•ä»£è¡¨ç€ä»€ä¹ˆæ„æ€å‘¢? ç°åœ¨ä½ çš„updateå–å†³äºä¸‰ä»¶äº‹: learning rate, æ˜¯ä½ è‡ªå·±è®¾å®šçš„ â‹…xi,\\cdot x_{i},â‹…xiâ€‹, æ¥è‡ªäºdata y^nâˆ’fw,b(xn),\\hat{y}^{n}-f_{w, b}\\left(x^{n}\\right),y^â€‹nâˆ’fw,bâ€‹(xn), ä»£è¡¨functionçš„outputè·Ÿç†æƒ³targetçš„å·®è·æœ‰å¤šå¤§, å¦‚æœç¦»ç›®æ ‡è¶Šè¿œ, updateçš„æ­¥ä¼å°±è¦è¶Š å¤§ Logistic Regression V.s. Linear Regression compare in step1 Logistic Regressionæ˜¯æŠŠæ¯ä¸€ä¸ªfeature xix_{i}xiâ€‹ åŠ æƒæ±‚å’Œ, åŠ ä¸Šbias, å†é€šè¿‡sigmoid function, å½“åšfunctionçš„ output å› ä¸ºLogistic Regressionçš„outputæ˜¯é€šè¿‡sigmoid functionäº§ç”Ÿçš„, å› æ­¤ä¸€å®šæ˜¯ä»‹äº0 1ä¹‹é—´; è€Œlinear Regressionçš„outputå¹¶æ²¡æœ‰é€šè¿‡sigmoid function, æ‰€ä»¥å®ƒå¯ä»¥æ˜¯ä»»ä½•å€¼ compare in step2 åœ¨Logistic Regressionä¸­ï¼Œæˆ‘ä»¬å®šä¹‰çš„loss function, å³è¦å»minimizeçš„å¯¹è±¡, æ˜¯æ‰€æœ‰example(æ ·æœ¬ç‚¹)çš„ output (f(xn))\\left(f\\left(x^{n}\\right)\\right)(f(xn)) )å’Œå®é™…target (y^n)\\left(\\hat{y}^{n}\\right)(y^â€‹n) åœ¨Bernoulli distribution(ä¸¤ç‚¹åˆ†å¸ƒ)ä¸‹çš„cross entropy(äº¤å‰å«¡)æ€»å’Œ äº¤å‰å«¡çš„æè¿°ï¼šè¿™é‡ŒæŠŠ f(xn)f\\left(x^{n}\\right)f(xn) å’Œ y^n\\hat{y}^{n}y^â€‹n å„è‡ªçœ‹åšæ˜¯ä¸€ä¸ªBernoulli distribution(ä¸¤ç‚¹åˆ†å¸ƒ)ï¼Œé‚£å®ƒä»¬çš„cross entropy l(f(xn),y^n)=âˆ’[y^nlnâ¡f(xn)+(1âˆ’y^n)lnâ¡(1âˆ’f(xn))]l\\left(f\\left(x^{n}\\right), \\hat{y}^{n}\\right)=-\\left[\\hat{y}^{n} \\ln f\\left(x^{n}\\right)+\\left(1-\\hat{y}^{n}\\right) \\ln \\left(1-f\\left(x^{n}\\right)\\right)\\right]l(f(xn),y^â€‹n)=âˆ’[y^â€‹nlnf(xn)+(1âˆ’y^â€‹n)ln(1âˆ’f(xn))] ä¹‹å’Œ, å°±æ˜¯æˆ‘ä»¬è¦å»minimizeçš„å¯¹è±¡, ç›´è§‚æ¥è®², å°± æ˜¯å¸Œæœ›functionçš„output f(xn)f\\left(x^{n}\\right)f(xn) å’Œå®ƒçš„target y^n\\hat{y}^{n}y^â€‹n è¶Šæ¥è¿‘è¶Šå¥½ æ³¨ï¼šè¿™é‡Œçš„â€œçœ‹åš&quot;åªæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£å’Œè®¡ç®—ï¼Œå¹¶ä¸æ˜¯çœŸçš„åšå‡ºå®ƒä»¬æ˜¯ä¸¤ç‚¹åˆ†å¸ƒçš„å‡è®¾ è€Œåœ¨linear Regressionä¸­, loss functionçš„å®šä¹‰ç›¸å¯¹æ¯”è¾ƒç®€å•, å°±æ˜¯å•çº¯çš„functionçš„output (f(xn))\\left(f\\left(x^{n}\\right)\\right)(f(xn)) å’Œå®é™… targetâ¡(y^n)\\operatorname{target}\\left(\\hat{y}^{n}\\right)target(y^â€‹n) åœ¨æ•°å€¼ä¸Šçš„å¹³æ–¹å’Œçš„å‡å€¼ è¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªç–‘æƒ‘, ä¸ºä»€ä¹ˆLogistic Regressionçš„loss functionä¸èƒ½åƒlinear Regressionä¸€æ ·ç”¨square error æ¥è¡¨ç¤ºå‘¢? åé¢ä¼šæœ‰è¿›ä¸€æ­¥çš„è§£é‡Š compare in step3 ç¥å¥‡çš„æ˜¯ï¼ŒLogistic Regressionå’Œlinear Regressionçš„updateçš„æ–¹å¼æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå”¯ä¸€ä¸ä¸€æ ·çš„æ˜¯ï¼ŒLogistic Regressionçš„target å’Œoutput éƒ½å¿…é¡»æ˜¯åœ¨0å’Œ1ä¹‹é—´çš„ï¼Œè€Œlinear Regressionçš„targetå’Œoutputçš„èŒƒå›´å¯ä»¥æ˜¯ä»»æ„å€¼ Logistic Regression + Square errorï¼Ÿ å…ˆè¯´ç»“è®º, åœ¨åˆ†ç±»é—®é¢˜ä¸­Square errorä¸åˆé€‚, cross entropyé€‚åˆäºåˆ†ç±»é—®é¢˜ Square erroræ±‚å¾®åˆ†æƒ…å†µ: ç°åœ¨ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœç¬¬nä¸ªç‚¹çš„ç›®æ ‡targetæ˜¯class 1,1,1, åˆ™ y^n=1,\\hat{y}^{n}=1,y^â€‹n=1, æ­¤æ—¶å¦‚æœfunctionçš„output fw,b(xn)=1f_{w, b}\\left(x^{n}\\right)=1fw,bâ€‹(xn)=1 çš„è¯, è¯´æ˜ç°åœ¨ç¦»targetå¾ˆæ¥è¿‘äº†, fw,b(x)âˆ’y^ä¸¶xË‰f_{w, b}(x)-\\hat{y} ä¸¶ \\bar{x}fw,bâ€‹(x)âˆ’y^â€‹ä¸¶xË‰ ä¸€é¡¹æ˜¯0, äºæ˜¯å¾—åˆ°çš„å¾®åˆ† âˆ‚Lâˆ‚wi\\frac{\\partial L}{\\partial w_{i}}âˆ‚wiâ€‹âˆ‚Lâ€‹ ä¼šå˜æˆ0ï¼Œè¿™ä»¶äº‹æƒ…æ˜¯å¾ˆåˆç†çš„; ä½†æ˜¯å½“functionçš„output fw,b(xn)=0f_{w, b}\\left(x^{n}\\right)=0fw,bâ€‹(xn)=0 çš„æ—¶å€™, è¯´æ˜ç¦»targetè¿˜å¾ˆé¥è¿œ, ä½†æ˜¯ç”±äºåœ¨step3ä¸­æ±‚å‡ºæ¥çš„updateè¡¨è¾¾ å¼ä¸­æœ‰ä¸€ä¸ª fw,b(xn),f_{w, b}\\left(x^{n}\\right),fw,bâ€‹(xn), å› æ­¤è¿™ä¸ªæ—¶å€™ä¹Ÿä¼šå¯¼è‡´å¾—åˆ°çš„å¾®åˆ† âˆ‚Lâˆ‚wi\\frac{\\partial L}{\\partial w_{i}}âˆ‚wiâ€‹âˆ‚Lâ€‹ å˜æˆ0==&gt;ç®€è€Œè¨€ä¹‹, å¾®åˆ†çš„ç»“æœä¸ä¾¿äºä¸‹ä¸€æ­¥çš„gradient descent å¦‚æœä¸¾class 2çš„ä¾‹å­ï¼Œå¾—åˆ°çš„ç»“æœä¸class 1æ˜¯ä¸€æ ·çš„ å¦‚æœæˆ‘ä»¬æŠŠå‚æ•°çš„å˜åŒ–å¯¹total lossä½œå›¾çš„è¯, loss functioné€‰æ‹©cross entropyæˆ–square error, å‚æ•°çš„å˜åŒ–è·Ÿ lossçš„å˜åŒ–æƒ…å†µå¯è§†åŒ–å‡ºæ¥å¦‚ä¸‹æ‰€ç¤ºï¼š(é»‘è‰²çš„æ˜¯cross entropy, çº¢è‰²çš„æ˜¯square error) å‡è®¾ä¸­å¿ƒç‚¹å°±æ˜¯è·ç¦»ç›®æ ‡å¾ˆè¿‘çš„åœ°æ–¹ï¼Œå¦‚æœæ˜¯cross entropyçš„è¯ï¼Œè·ç¦»ç›®æ ‡è¶Šè¿œï¼Œå¾®åˆ†å€¼å°±è¶Šå¤§ï¼Œå‚æ•°updateçš„æ—¶å€™å˜åŒ–é‡å°±è¶Šå¤§ï¼Œè¿ˆå‡ºå»çš„æ­¥ä¼ä¹Ÿå°±è¶Šå¤§ ä½†å½“ä½ é€‰æ‹©square errorçš„æ—¶å€™ï¼Œè¿‡ç¨‹å°±ä¼šå¾ˆå¡ï¼Œå› ä¸ºè·ç¦»ç›®æ ‡è¿œçš„æ—¶å€™ï¼Œå¾®åˆ†ä¹Ÿæ˜¯éå¸¸å°çš„ï¼Œç§»åŠ¨çš„é€Ÿåº¦æ˜¯éå¸¸æ…¢çš„ï¼Œæˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡ï¼Œå®é™…æ“ä½œçš„æ—¶å€™ï¼Œå½“gradientæ¥è¿‘äº0çš„æ—¶å€™ï¼Œå…¶å®å°±å¾ˆæœ‰å¯èƒ½ä¼šåœä¸‹æ¥ï¼Œå› æ­¤ä½¿ç”¨square errorå¾ˆæœ‰å¯èƒ½åœ¨ä¸€å¼€å§‹çš„æ—¶å€™å°±å¡ä½ä¸åŠ¨äº†ï¼Œè€Œä¸”è¿™é‡Œä¹Ÿä¸èƒ½éšæ„åœ°å¢å¤§learning rateï¼Œå› ä¸ºåœ¨åšgradient descentçš„æ—¶å€™ï¼Œä½ çš„gradientæ¥è¿‘äº0ï¼Œæœ‰å¯èƒ½ç¦»targetå¾ˆè¿‘ä¹Ÿæœ‰å¯èƒ½å¾ˆè¿œï¼Œå› æ­¤ä¸çŸ¥é“learning rateåº”è¯¥è®¾å¤§è¿˜æ˜¯è®¾å° ç»¼ä¸Šï¼Œå°½ç®¡square errorå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯ä¼šå‡ºç°updateååˆ†ç¼“æ…¢çš„ç°è±¡ï¼Œè€Œä½¿ç”¨cross entropyå¯ä»¥è®©ä½ çš„Trainingæ›´é¡ºåˆ© Discriminative v.s. Generative same model but different currency Logistic Regressionçš„æ–¹æ³•ï¼Œæˆ‘ä»¬æŠŠå®ƒç§°ä¹‹ä¸ºdiscriminativeçš„æ–¹æ³•ï¼›è€Œæˆ‘ä»¬ç”¨Gaussianæ¥æè¿°posterior Probabilityè¿™ä»¶äº‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºGenerativeçš„æ–¹æ³•, å®é™…ä¸Šå®ƒä»¬ç”¨çš„model(function set)æ˜¯ä¸€æ¨¡ä¸€æ ·çš„, éƒ½æ˜¯ P(C1âˆ£x)=Ïƒ(wâ‹…x+b),P\\left(C_{1} \\mid x\\right)=\\sigma(w \\cdot x+b),P(C1â€‹âˆ£x)=Ïƒ(wâ‹…x+b), å¦‚æœæ˜¯ç”¨Logistic Regression çš„è¯, å¯ä»¥ç”¨gradient descentçš„æ–¹æ³•ç›´æ¥å»æŠŠbå’ŒWæ‰¾å‡ºæ¥; å¦‚æœæ˜¯ç”¨Generative modelçš„è¯ï¼Œæˆ‘ä»¬è¦å…ˆå»ç®— u1,u2,Î£âˆ’1u_{1}, u_{2}, \\Sigma^{-1} \\quadu1â€‹,u2â€‹,Î£âˆ’1 ç„¶åç®—å‡ºbå’Œw åŒºåˆ«åœ¨äº: æ˜¯å¦æœ‰å‡è®¾? ä½ ä¼šå‘ç°ç”¨è¿™ä¸¤ç§æ–¹æ³•å¾—åˆ°çš„bå’Œwæ˜¯ä¸åŒçš„ï¼Œå°½ç®¡æˆ‘ä»¬çš„function setæ˜¯åŒä¸€ä¸ªï¼Œä½†æ˜¯ç”±äºåšäº†ä¸åŒçš„å‡è®¾ï¼Œæœ€ç»ˆä»åŒæ ·çš„Training dataé‡Œæ‰¾å‡ºæ¥çš„å‚æ•°ä¼šæ˜¯ä¸ä¸€æ ·çš„ åœ¨Logistic Regressioné‡Œé¢ï¼Œæˆ‘ä»¬æ²¡æœ‰åšä»»ä½•å®è´¨æ€§çš„å‡è®¾ï¼Œæ²¡æœ‰å¯¹Probability distributionæœ‰ä»»ä½•çš„æè¿°ï¼Œæˆ‘ä»¬å°±æ˜¯å•çº¯åœ°å»æ‰¾bå’Œw(æ¨å¯¼è¿‡ç¨‹ä¸­çš„å‡è®¾åªæ˜¯ä¾¿äºç†è§£å’Œè®¡ç®—ï¼Œå¯¹å®é™…ç»“æœæ²¡æœ‰å½±å“) è€Œåœ¨Generative modelé‡Œé¢ï¼Œæˆ‘ä»¬å¯¹Probability distributionæ˜¯æœ‰å®è´¨æ€§çš„å‡è®¾çš„ï¼Œä¹‹å‰æˆ‘ä»¬å‡è®¾çš„æ˜¯Gaussian(é«˜æ–¯åˆ†å¸ƒ)ï¼Œç”šè‡³å‡è®¾åœ¨ç›¸äº’ç‹¬ç«‹çš„å‰æä¸‹æ˜¯å¦å¯ä»¥æ˜¯naive bayes(æœ´ç´ è´å¶æ–¯)ï¼Œæ ¹æ®è¿™äº›å‡è®¾æˆ‘ä»¬æ‰æ‰¾åˆ°æœ€ç»ˆçš„bå’Œw ä¾‹å­: https://sakura-gh.github.io/ML-notes/ML-notes-html/7_Logistic-Regression.html æ‰€ä»¥ï¼ŒGenerative modelå’Œdiscriminative modelçš„å·®åˆ«å°±åœ¨äºï¼ŒGenerativeçš„modelå®ƒæœ‰åšäº†æŸäº›å‡è®¾ï¼Œå‡è®¾ä½ çš„dataæ¥è‡ªäºæŸä¸ªæ¦‚ç‡æ¨¡å‹ï¼›è€ŒDiscriminativeçš„modelæ˜¯å®Œå…¨ä¸ä½œä»»ä½•å‡è®¾çš„, å®Œå…¨æ ¹æ®æ•°æ®è¯´è¯ Generative modelåšçš„äº‹æƒ…å°±æ˜¯è„‘è¡¥ï¼Œå®ƒä¼šè‡ªå·±å»æƒ³è±¡ä¸€äº›äº‹æƒ…ï¼Œäºæ˜¯ä¼šåšå‡ºä¸€ä¸ªå’Œæˆ‘ä»¬äººç±»ç›´è§‰æƒ³æ³•ä¸å¤ªä¸€æ ·çš„åˆ¤æ–­ç»“æœï¼Œå°±åƒtoy exampleé‡Œï¼Œæˆ‘ä»¬åšäº†naive bayesè¿™æ ·ä¸€ä¸ªå‡è®¾(äº‹å®ä¸Šæˆ‘ä»¬å¹¶ä¸çŸ¥é“è¿™ä¸¤ä¸ªfeatureæ˜¯å¦ç›¸äº’ç‹¬ç«‹)ï¼Œäºæ˜¯Naive bayesä¼šåœ¨class 2é‡Œå¹¶æ²¡æœ‰å‡ºç°è¿‡ä¸¤ä¸ªfeatureéƒ½æ˜¯1çš„æ ·æœ¬ç‚¹çš„å‰æä¸‹ï¼Œè‡ªå·±å»è„‘è¡¥æœ‰è¿™æ ·çš„ç‚¹ é€šå¸¸è„‘è¡¥ä¸æ˜¯ä¸€ä»¶å¥½çš„äº‹æƒ…ï¼Œå› ä¸ºä½ ç»™ä½ çš„dataå¼ºåŠ äº†ä¸€äº›å®ƒå¹¶æ²¡æœ‰å‘Šè¯‰ä½ çš„å±æ€§ï¼Œä½†æ˜¯åœ¨dataå¾ˆå°‘çš„æƒ…å†µä¸‹ï¼Œè„‘è¡¥ä¹Ÿæ˜¯æœ‰ç”¨çš„ï¼Œdiscriminative modelå¹¶ä¸æ˜¯åœ¨æ‰€æœ‰çš„æƒ…å†µä¸‹éƒ½å¯ä»¥èµ¢è¿‡Generative modelï¼Œdiscriminative modelæ˜¯ååˆ†ä¾èµ–äºdataçš„ï¼Œå½“dataæ•°é‡ä¸è¶³æˆ–æ˜¯dataæœ¬èº«çš„labelå°±æœ‰ä¸€äº›é—®é¢˜ï¼Œé‚£Generative modelåšä¸€äº›è„‘è¡¥å’Œå‡è®¾ï¼Œåè€Œå¯ä»¥æŠŠdataçš„ä¸è¶³æˆ–æ˜¯æœ‰é—®é¢˜éƒ¨åˆ†çš„å½±å“ç»™é™åˆ°æœ€ä½ Conclusion å¯¹äºåˆ†ç±»çš„é—®é¢˜(ä¸»è¦æ˜¯äºŒå…ƒåˆ†ç±»)ï¼Œæˆ‘ä»¬ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•å»å¤„ç†é—®é¢˜ï¼Œä¸€ç§æ˜¯Generativeçš„æ–¹æ³•ï¼Œå¦ä¸€ç§æ˜¯Discriminativeçš„æ–¹æ³•ï¼Œæ³¨æ„åˆ°åˆ†ç±»é—®é¢˜çš„modeléƒ½æ˜¯ä»è´å¶æ–¯æ–¹ç¨‹å‡ºå‘çš„ï¼Œå³ P(Ciâˆ£x)=P(Ci)P(xâˆ£Ci)âˆ‘j=1nP(Cj)P(xâˆ£Cj)(1)=Ïƒ(z)=11+eâˆ’z=11+eâˆ’(b+âˆ‘kwkxk)\\begin{aligned} P\\left(C_{i} \\mid x\\right)=&amp; \\frac{P\\left(C_{i}\\right) P\\left(x \\mid C_{i}\\right)}{\\sum_{j=1}^{n} P\\left(C_{j}\\right) P\\left(x \\mid C_{j}\\right)}(1) \\\\ &amp;=\\sigma(z)=\\frac{1}{1+e^{-z}}=\\frac{1}{1+e^{-\\left(b+\\sum_{k} w_{k} x_{k}\\right)}} \\end{aligned}P(Ciâ€‹âˆ£x)=â€‹âˆ‘j=1nâ€‹P(Cjâ€‹)P(xâˆ£Cjâ€‹)P(Ciâ€‹)P(xâˆ£Ciâ€‹)â€‹(1)=Ïƒ(z)=1+eâˆ’z1â€‹=1+eâˆ’(b+âˆ‘kâ€‹wkâ€‹xkâ€‹)1â€‹â€‹ Generative modelçš„å¥½å¤„æ˜¯ï¼Œå®ƒå¯¹dataçš„ä¾èµ–å¹¶æ²¡æœ‰åƒdiscriminative modelé‚£ä¹ˆä¸¥é‡ï¼Œåœ¨dataæ•°é‡å°‘æˆ–è€…dataæœ¬èº«å°±å­˜åœ¨noiseçš„æƒ…å†µä¸‹å—åˆ°çš„å½±å“ä¼šæ›´å°ï¼Œè€Œå®ƒè¿˜å¯ä»¥åšåˆ°Prioréƒ¨åˆ†ä¸class-dependentéƒ¨åˆ†åˆ†å¼€å¤„ç†ï¼Œå¦‚æœå¯ä»¥å€ŸåŠ©å…¶ä»–æ–¹å¼æé«˜Prior modelçš„å‡†ç¡®ç‡ï¼Œå¯¹æ•´ä¸€ä¸ªmodelæ˜¯æœ‰æ‰€å¸®åŠ©çš„(æ¯”å¦‚å‰é¢æåˆ°çš„è¯­éŸ³è¾¨è¯†) è€ŒDiscriminative modelçš„å¥½å¤„æ˜¯ï¼Œåœ¨dataå……è¶³çš„æƒ…å†µä¸‹ï¼Œå®ƒè®­ç»ƒå‡ºæ¥çš„modelçš„å‡†ç¡®ç‡ä¸€èˆ¬æ˜¯æ¯”Generative modelè¦æ¥çš„é«˜çš„ Multi-class Classification softmax softmaxçš„æ„æ€æ˜¯å¯¹æœ€å¤§å€¼åšå¼ºåŒ–ï¼Œå› ä¸ºåœ¨åšç¬¬ä¸€æ­¥çš„æ—¶å€™ï¼Œå¯¹å–exponentialä¼šä½¿å¤§çš„å€¼å’Œå°çš„å€¼ä¹‹é—´çš„å·®è·è¢«æ‹‰å¾—æ›´å¼€ï¼Œä¹Ÿå°±æ˜¯å¼ºåŒ–å¤§çš„å€¼ Limitation of Logistic Regression Logistic Regressionå…¶å®æœ‰å¾ˆå¼ºçš„é™åˆ¶ï¼Œç»™å‡ºä¸‹å›¾çš„ä¾‹å­ä¸­çš„Training dataï¼Œæƒ³è¦ç”¨Logistic Regressionå¯¹å®ƒè¿›è¡Œåˆ†ç±»ï¼Œå…¶å®æ˜¯åšä¸åˆ°çš„, å¦‚å¼‚æˆ– Feature Transformation å¦‚æœåšæŒè¦ç”¨Logistic Regressionçš„è¯ï¼Œæœ‰ä¸€æ‹›å«åšFeature Transformationï¼ŒåŸæ¥çš„featureåˆ†å¸ƒä¸å¥½åˆ’åˆ†ï¼Œé‚£æˆ‘ä»¬å¯ä»¥å°†ä¹‹è½¬åŒ–ä»¥åï¼Œæ‰¾ä¸€ä¸ªæ¯”è¾ƒå¥½çš„feature spaceï¼Œè®©Logistic Regressionèƒ½å¤Ÿå¤„ç† ä½†éº»çƒ¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“æ€ä¹ˆåšfeature Transformationï¼Œå¦‚æœåœ¨è¿™ä¸Šé¢èŠ±è´¹å¤ªå¤šçš„æ—¶é—´å°±å¾—ä¸å¿å¤±äº†ï¼Œäºæ˜¯æˆ‘ä»¬ä¼šå¸Œæœ›è¿™ä¸ªTransformationæ˜¯æœºå™¨è‡ªå·±äº§ç”Ÿçš„ï¼Œæ€ä¹ˆè®©æœºå™¨è‡ªå·±äº§ç”Ÿå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è®©å¾ˆå¤šLogistic Regression cascade(è¿æ¥)èµ·æ¥ æˆ‘ä»¬è®©ä¸€ä¸ªinput xçš„ä¸¤ä¸ªfeature x1,x2x_{1}, x_{2}x1â€‹,x2â€‹ ç»è¿‡ä¸¤ä¸ªLogistic Regressionçš„transform, å¾—åˆ°æ–°çš„feature x1â€²,x2â€²,x_{1}^{\\prime}, x_{2}^{\\prime},x1â€²â€‹,x2â€²â€‹, åœ¨ è¿™ä¸ªæ–°çš„feature spaceä¸Š, class 1å’Œclass 2æ˜¯å¯ä»¥ç”¨ä¸€æ¡ç›´çº¿åˆ†å¼€çš„, é‚£ä¹ˆæœ€ååªè¦å†æ¥å¦å¤–ä¸€ä¸ªLogistic Regressionçš„model(å¯¹å®ƒæ¥è¯´, x1â€²,x2â€²x_{1}^{\\prime}, x_{2}^{\\prime}x1â€²â€‹,x2â€²â€‹ æ‰æ˜¯æ¯ä¸€ä¸ªæ ·æœ¬ç‚¹çš„&quot;feature&quot;, è€Œä¸æ˜¯åŸå…ˆçš„ x1,x2),\\left.x_{1}, x_{2}\\right),x1â€‹,x2â€‹), å®ƒæ ¹æ®æ–°çš„ feature, å°±å¯ä»¥æŠŠclass 1å’Œclass 2åˆ†å¼€ Powerful Cascading Logistic Regression é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå¤šä¸ªLogistic Regressionè¿æ¥èµ·æ¥ä¼šäº§ç”Ÿpowerfulçš„æ•ˆæœï¼Œæˆ‘ä»¬æŠŠæ¯ä¸€ä¸ªLogistic Regressionå«åšä¸€ä¸ªneuron(ç¥ç»å…ƒ)ï¼ŒæŠŠè¿™äº›Logistic Regressionä¸²èµ·æ¥æ‰€å½¢æˆçš„networkï¼Œå°±å«åšNeural Networkï¼Œå°±æ˜¯ç±»ç¥ç»ç½‘è·¯ï¼Œè¿™ä¸ªä¸œè¥¿å°±æ˜¯Deep Learningï¼ 8. P12 Brief Introduction of Deep Learning Ups and downs of Deep Learning 1958ï¼šPerceptron(linear model)ï¼Œæ„ŸçŸ¥æœºçš„æå‡º å’ŒLogistic Regressionç±»ä¼¼ï¼Œåªæ˜¯å°‘äº†sigmoidçš„éƒ¨åˆ† 1969ï¼šPerceptron has limitationï¼Œfrom MIT 1980sï¼šMulti-layer Perceptronï¼Œå¤šå±‚æ„ŸçŸ¥æœº å’Œä»Šå¤©çš„DNNå¾ˆåƒ 1986ï¼šBackpropagationï¼Œåå‘ä¼ æ’­ Hinton proposeçš„Backpropagation å­˜åœ¨problemï¼šé€šå¸¸è¶…è¿‡3ä¸ªlayerçš„neural networkï¼Œå°±trainä¸å‡ºå¥½çš„ç»“æœ ã€1989: 1 hidden layer is â€œgood enoughâ€ï¼Œwhy deepï¼Ÿ æœ‰äººæå‡ºä¸€ä¸ªç†è®ºï¼šåªè¦neural networkæœ‰ä¸€ä¸ªhidden layerï¼Œå®ƒå°±å¯ä»¥modelå‡ºä»»ä½•çš„functionï¼Œæ‰€ä»¥æ ¹æœ¬æ²¡æœ‰å¿…è¦å åŠ å¾ˆå¤šä¸ªhidden layerï¼Œæ‰€ä»¥Multi-layer Perceptronçš„æ–¹æ³•åˆåæ‰äº†ï¼Œè¿™æ®µæ—¶é—´Multi-layer Perceptronè¿™ä¸ªä¸œè¥¿æ˜¯å—åˆ°æŠµåˆ¶çš„ 2006ï¼šRBM initialization(breakthrough)ï¼šRestricted Boltzmann Machineï¼Œå—é™ç»å°”å…¹æ›¼æœº Deep learning -&gt; another Multi-layer Perceptron ï¼Ÿåœ¨å½“æ—¶çœ‹æ¥ï¼Œå®ƒä»¬çš„ä¸åŒä¹‹å¤„åœ¨äºåœ¨åšgradient descentçš„æ—¶å€™é€‰å–åˆå§‹å€¼çš„æ–¹æ³•å¦‚æœæ˜¯ç”¨RBMï¼Œé‚£å°±æ˜¯Deep learningï¼›å¦‚æœæ²¡æœ‰ç”¨RBMï¼Œå°±æ˜¯ä¼ ç»Ÿçš„Multi-layer Perceptron é‚£å®é™…ä¸Šå‘¢ï¼ŒRBMç”¨çš„ä¸æ˜¯neural network baseçš„æ–¹æ³•ï¼Œè€Œæ˜¯graphical modelï¼Œåæ¥å¤§å®¶è¯•éªŒå¾—å¤šäº†å‘ç°RBMå¹¶æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„å¸®åŠ©ï¼Œå› æ­¤ç°åœ¨åŸºæœ¬ä¸Šæ²¡æœ‰äººä½¿ç”¨RBMåšinitializationäº† RBMæœ€å¤§çš„è´¡çŒ®æ˜¯ï¼Œå®ƒè®©å¤§å®¶é‡æ–°å¯¹Deep learningè¿™ä¸ªmodelæœ‰äº†å…´è¶£(çŸ³å¤´æ±¤çš„æ•…äº‹) 2009ï¼šGPUåŠ é€Ÿçš„å‘ç° 2011ï¼šstart to be popular in speech recognitionï¼Œè¯­éŸ³è¯†åˆ«é¢†åŸŸ 2012ï¼šwin ILSVRC image competitionï¼ŒDeep learningå¼€å§‹åœ¨å›¾åƒé¢†åŸŸæµè¡Œå¼€æ¥ å®é™…ä¸Šï¼ŒDeep learningè·Ÿmachine learningä¸€æ ·ï¼Œä¹Ÿæ˜¯â€œå¤§è±¡æ”¾è¿›å†°ç®±â€çš„ä¸‰ä¸ªæ­¥éª¤ï¼š åœ¨Deep learningçš„step1é‡Œdefineçš„é‚£ä¸ªfunctionï¼Œå°±æ˜¯neural network Neural Network concept æŠŠå¤šä¸ªLogistic Regressionå‰åconnectåœ¨ä¸€èµ·ï¼Œç„¶åæŠŠä¸€ä¸ªLogistic Regressionç§°ä¹‹ä¸ºneuronï¼Œæ•´ä¸ªç§°ä¹‹ä¸ºneural network æˆ‘ä»¬å¯ä»¥ç”¨ä¸åŒçš„æ–¹æ³•è¿æ¥è¿™äº›neuronï¼Œå°±å¯ä»¥å¾—åˆ°ä¸åŒçš„structureï¼Œneural networké‡Œçš„æ¯ä¸€ä¸ªLogistic Regressionéƒ½æœ‰è‡ªå·±çš„weightå’Œbiasï¼Œè¿™äº›weightå’Œbiasé›†åˆèµ·æ¥ï¼Œå°±æ˜¯è¿™ä¸ªnetworkçš„parameterï¼Œæˆ‘ä»¬ç”¨æ¥æè¿° Network Structure å¦‚æœä¸€ä¸ªneural networkçš„å‚æ•°weightå’Œbiaså·²çŸ¥çš„è¯ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªfunctionï¼Œå®ƒçš„inputæ˜¯ä¸€ä¸ªvectorï¼Œoutputæ˜¯å¦ä¸€ä¸ªvectorï¼Œè¿™ä¸ªvectoré‡Œé¢æ”¾çš„æ˜¯æ ·æœ¬ç‚¹çš„featureï¼Œvectorçš„dimensionå°±æ˜¯featureçš„ä¸ªæ•° inputçš„åœ°æ–¹ï¼Œå«åšinput layerï¼Œè¾“å…¥å±‚(ä¸¥æ ¼æ¥è¯´input layerå…¶å®ä¸æ˜¯ä¸€ä¸ªlayerï¼Œå®ƒè·Ÿå…¶ä»–layerä¸ä¸€æ ·ï¼Œä¸æ˜¯ç”±neuronæ‰€ç»„æˆçš„) outputçš„åœ°æ–¹ï¼Œå«åšoutput layerï¼Œè¾“å‡ºå±‚ å…¶ä½™çš„åœ°æ–¹ï¼Œå«åšhidden layerï¼Œéšè—å±‚ æ¿€æ´»å‡½æ•°: æ¯ä¸€ä¸ªneuroné‡Œé¢çš„sigmoid functionï¼Œåœ¨Deep Learningä¸­è¢«ç§°ä¸ºactivation function(æ¿€åŠ±å‡½æ•°)ï¼Œäº‹å®ä¸Šå®ƒä¸è§å¾—ä¸€å®šæ˜¯sigmoid functionï¼Œè¿˜å¯ä»¥æ˜¯å…¶ä»–function(sigmoid functionæ˜¯ä»Logistic Regressionè¿ç§»è¿‡æ¥çš„ï¼Œç°åœ¨å·²ç»è¾ƒå°‘åœ¨Deep learningé‡Œä½¿ç”¨äº†) â˜….network structure+neuronè¯¥å¦‚ä½•è¿æ¥åœ¨ä¸€èµ·çš„å«ä¹‰: å…¶å®æ˜¯defineäº†ä¸€ä¸ªfunction set(model) Feedforward network â–².å…¨è¿æ¥: å› ä¸ºlayerå’Œlayerä¹‹é—´ï¼Œæ‰€æœ‰çš„neuronéƒ½æ˜¯ä¸¤ä¸¤è¿æ¥ï¼Œæ‰€ä»¥å®ƒå«Fully connectedçš„networkï¼›å› ä¸ºç°åœ¨ä¼ é€’çš„æ–¹å‘æ˜¯ä»layer 1-&gt;2-&gt;3ï¼Œç”±åå¾€å‰ä¼ ï¼Œæ‰€ä»¥å®ƒå«åšFeedforward network Output Layer æˆ‘ä»¬å¯ä»¥æŠŠhidden layersè¿™éƒ¨åˆ†ï¼Œçœ‹åšæ˜¯ä¸€ä¸ªfeature extractor(ç‰¹å¾æå–å™¨)ï¼Œè¿™ä¸ªfeature extractorå°±replaceäº†æˆ‘ä»¬ä¹‹å‰æ‰‹åŠ¨åšfeature engineeringï¼Œfeature transformationè¿™äº›äº‹æƒ…ï¼Œç»è¿‡è¿™ä¸ªfeature extractorå¾—åˆ°çš„å°±å¯ä»¥è¢«å½“ä½œä¸€ç»„æ–°çš„feature output layeråšçš„äº‹æƒ…ï¼Œå…¶å®å°±æ˜¯æŠŠå®ƒå½“åšä¸€ä¸ªMulti-class classifierï¼Œå®ƒæ˜¯æ‹¿ç»è¿‡feature extractorè½¬æ¢åçš„é‚£ä¸€ç»„æ¯”è¾ƒå¥½çš„feature(èƒ½å¤Ÿè¢«å¾ˆå¥½åœ°separate)è¿›è¡Œåˆ†ç±»çš„ï¼Œç”±äºæˆ‘ä»¬æŠŠoutput layerçœ‹åšæ˜¯ä¸€ä¸ªMulti-class classifierï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šåœ¨æœ€åä¸€ä¸ªlayeråŠ ä¸Šsoftmax æ•´ä¸ªæ‰‹å†™ä½“è¯†åˆ«åˆ†æ: æˆ‘ä»¬å”¯ä¸€éœ€è¦çš„å°±æ˜¯ä¸€ä¸ªfunctionï¼Œè¿™ä¸ªfunctionçš„inputæ˜¯ä¸€ä¸ª256çš„vectorï¼Œoutputæ˜¯ä¸€ä¸ª10ç»´çš„vectorï¼Œè¿™ä¸ªfunctionå°±æ˜¯neural network(è¿™é‡Œæˆ‘ä»¬ç”¨ç®€å•çš„Feedforward network) inputå›ºå®šä¸º256ç»´(å›¾ç‰‡)ï¼Œoutputå›ºå®šä¸º10ç»´çš„feedforward neural networkï¼Œå®é™…ä¸Šè¿™ä¸ªnetwork structureå°±å·²ç»ç¡®å®šäº†ä¸€ä¸ªfunction set(model)çš„å½¢çŠ¶ï¼Œåœ¨è¿™ä¸ªfunction seté‡Œçš„æ¯ä¸€ä¸ªfunctionéƒ½å¯ä»¥æ‹¿æ¥åšæ‰‹å†™æ•°å­—è¯†åˆ«ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦åšçš„äº‹æƒ…æ˜¯ç”¨gradient descentå»è®¡ç®—å‡ºä¸€ç»„å‚æ•°ï¼ŒæŒ‘ä¸€ä¸ªæœ€é€‚åˆæ‹¿æ¥åšæ‰‹å†™æ•°å­—è¯†åˆ«çš„function æ³¨ï¼šinputã€outputçš„dimensionï¼ŒåŠ ä¸Šnetwork structureï¼Œå°±å¯ä»¥ç¡®å®šä¸€ä¸ªmodelçš„å½¢çŠ¶ï¼Œå‰ä¸¤ä¸ªæ˜¯å®¹æ˜“çŸ¥é“çš„ï¼Œè€Œå†³å®šè¿™ä¸ªnetworkçš„structureåˆ™æ˜¯æ•´ä¸ªDeep Learningä¸­æœ€ä¸ºå…³é”®çš„æ­¥éª¤ æ‰€ä»¥è¿™é‡Œå¾ˆé‡è¦çš„ä¸€ä»¶äº‹æƒ…æ˜¯ï¼Œæˆ‘ä»¬è¦å¯¹network structureè¿›è¡Œdesignï¼Œä¹‹å‰åœ¨åšLogistic Regressionæˆ–è€…æ˜¯linear Regressionçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯¹modelçš„structureæ˜¯æ²¡æœ‰ä»€ä¹ˆå¥½è®¾è®¡çš„ï¼Œä½†æ˜¯å¯¹neural networkæ¥è¯´ï¼Œæˆ‘ä»¬ç°åœ¨å·²çŸ¥çš„constraintåªæœ‰inputæ˜¯256ç»´ï¼Œoutputæ˜¯10ç»´ï¼Œè€Œä¸­é—´è¦æœ‰å‡ ä¸ªhidden layerï¼Œæ¯ä¸ªlayerè¦æœ‰å‡ ä¸ªneuronï¼Œéƒ½æ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±å»è®¾è®¡çš„ï¼Œå®ƒä»¬è¿‘ä¹æ˜¯å†³å®šäº†function seté•¿ä»€ä¹ˆæ ·å­ å¦‚æœä½ çš„network structureè®¾è®¡çš„å¾ˆå·®ï¼Œè¿™ä¸ªfunction seté‡Œé¢æ ¹æœ¬å°±æ²¡æœ‰å¥½çš„functionï¼Œé‚£å°±ä¼šåƒå¤§æµ·æé’ˆä¸€æ ·ï¼Œç»“æœé’ˆå¹¶ä¸åœ¨æµ·é‡Œ(æ»‘ç¨½ Step 1ï¼šNeural Network intputè¾“å…¥ä¸º16*16çš„å›¾ç‰‡(256ç»´) --&gt;ç»è¿‡ç¥ç»ç½‘ç»œ(å‡½æ•°) --&gt; è¾“å‡º10ç»´çš„vector --&gt; ç»è¿‡softmaxå‡½æ•°é€‰å‡ºå¯èƒ½æ€§æœ€å¤§çš„ç»“æœè¾“å‡º-output Step 2ï¼šGoodness of function inputè¿™å¼ imageçš„256ä¸ªpixelï¼Œé€šè¿‡è¿™ä¸ªneural networkä¹‹åï¼Œä¼šå¾—åˆ°ä¸€ä¸ªoutputï¼Œç§°ä¹‹ä¸ºyï¼›è€Œä»è¿™å¼ imageçš„labelä¸­è½¬åŒ–è€Œæ¥çš„targetï¼Œç§°ä¹‹ä¸ºï¼Œæœ‰äº†output å’Œtarget ä¹‹åï¼Œè¦åšçš„äº‹æƒ…æ˜¯è®¡ç®—å®ƒä»¬ä¹‹é—´çš„cross entropy(äº¤å‰ç†µ)ï¼Œè¿™ä¸ªåšæ³•è·Ÿæˆ‘ä»¬ä¹‹å‰åšMulti-class classificationçš„æ—¶å€™æ˜¯ä¸€æ¨¡ä¸€æ ·çš„â€”&gt; åˆ†ç±»é—®é¢˜å¤šä½¿ç”¨äº¤å‰ç†µ Cross Entropy :l(y,y^)=âˆ’âˆ‘i=110y^i: l(y, \\hat{y})=-\\sum_{i=1}^{10} \\hat{y}_{i}:l(y,y^â€‹)=âˆ’âˆ‘i=110â€‹y^â€‹iâ€‹lnyi_{i}iâ€‹ Step 3ï¼šPick the best function æ¥ä¸‹æ¥å°±å»è°ƒæ•´å‚æ•°ï¼Œè®©è¿™ä¸ªcross entropyè¶Šå°è¶Šå¥½ï¼Œå½“ç„¶æ•´ä¸ªtraining dataé‡Œé¢ä¸ä¼šåªæœ‰ä¸€ç¬”dataï¼Œä½ éœ€è¦æŠŠæ‰€æœ‰dataçš„cross entropyéƒ½sumèµ·æ¥, å¾—åˆ°ä¸€ä¸ªtotal loss L=âˆ‘n=1NlnL=\\sum_{n=1}^{N} l^{n}L=âˆ‘n=1Nâ€‹ln ï¼ˆæ‰€æœ‰caseçš„Cross Entropy ï¼‰, å¾—åˆ°loss functionä¹‹åä½ è¦åšçš„äº‹æƒ…æ˜¯æ‰¾ä¸€ç»„networkçš„parametersï¼šÎ¸âˆ—\\theta^{*}Î¸âˆ—ã€‚å®ƒå¯ä»¥minimizeè¿™ä¸ªtotal lossï¼Œè¿™ç»„parameterå¯¹åº”çš„functionå°±æ˜¯æˆ‘ä»¬æœ€ç»ˆè®­ç»ƒå¥½çš„model è€è§„çŸ©ï¼šæˆ‘ä»¬ä½¿ç”¨Gradient Descentæ¥ä¼˜åŒ–total lossæ¥è·å¾—modelã€‚å®é™…ä¸Šåœ¨deep learningé‡Œé¢ç”¨gradient descentï¼Œè·Ÿåœ¨linear regressioné‡Œé¢ä½¿ç”¨å®Œå…¨æ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œåªæ˜¯functionå’Œparameterå˜å¾—æ›´å¤æ‚äº†è€Œå·²ï¼Œå…¶ä»–äº‹æƒ…éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ ä½†æ˜¯ç›¸æ¯”åœ¨liner modelä¸­æ±‚å¯¼è¿˜æ˜¯æ¯”è¾ƒè½»æ¾çš„ï¼Œ åœ¨networkä¸­çš„functionå¼å­åˆ°åº•æ˜¯é•¿ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ==&gt; éœ€è¦ç”¨åˆ°åå‘ä¼ æ’­â€”&gt;ä½†æ˜¯äººå·¥è®¡ç®—æ˜¯æ¯”è¾ƒå¤æ‚çš„, å› æ­¤æœ‰äº†pytorch, tensorflowç­‰å¾®åˆ†toolkitå¯ä»¥æ¥è®¡ç®—Backpropagation Design network structure V.s. Feature Engineering(ç½‘ç»œç»“æ„è®¾è®¡ vs ç‰¹å¾å·¥ç¨‹) deep learning: é€šè¿‡network æ‰¾åˆ°ä¸€ç»„åˆé€‚çš„paramæ¥è®­ç»ƒ, è®©æœºå™¨è‡ªåŠ¨å­¦ä¼šå¦‚ä½•æå–ç‰¹å¾==&gt;è·å¾—model ä¼ ç»Ÿæ–¹æ³•: é€šè¿‡å¤åœ£å…ˆè´¤çš„å…ˆéªŒçŸ¥è¯†å¯¹ä¿¡æ¯è¿›è¡Œç‰¹å¾æå–å’Œåˆ†æ==&gt;è·å¾—model å…¶å®network structureçš„designæ˜¯ä¸€ä»¶è›®éš¾çš„äº‹æƒ…ï¼Œæˆ‘ä»¬åˆ°åº•è¦æ€ä¹ˆå†³å®šlayerçš„æ•°ç›®å’Œæ¯ä¸€ä¸ªlayerçš„neuronçš„æ•°ç›®å‘¢ï¼Ÿå…¶å®è¿™ä¸ªåªèƒ½å¤Ÿå‡­ç€ç»éªŒå’Œç›´è§‰ã€å¤šæ–¹é¢çš„å°è¯•ï¼Œæœ‰æ—¶å€™ç”šè‡³ä¼šéœ€è¦ä¸€äº›domain knowledge(ä¸“ä¸šé¢†åŸŸçš„çŸ¥è¯†)ï¼Œä»édeep learningçš„æ–¹æ³•åˆ°deep learningçš„æ–¹æ³•ï¼Œå¹¶ä¸æ˜¯è¯´machine learningæ¯”è¾ƒç®€å•ï¼Œè€Œæ˜¯æˆ‘ä»¬æŠŠä¸€ä¸ªé—®é¢˜è½¬åŒ–æˆäº†å¦ä¸€ä¸ªé—®é¢˜ åŸå…ˆédeep learningçš„modelï¼Œè¦å¾—åˆ°ä¸€ä¸ªå¥½çš„ç»“æœï¼Œå¾€å¾€éœ€è¦åšfeature engineering(ç‰¹å¾å·¥ç¨‹)ï¼Œä¹Ÿå°±æ˜¯åšfeature transformï¼Œç„¶åæ‰¾ä¸€ç»„å¥½çš„featureï¼›ä¸€å¼€å§‹å­¦ä¹ deep learningçš„æ—¶å€™ï¼Œå¥½åƒä¼šè§‰å¾—deep learningçš„layersä¹‹é—´ä¹Ÿæ˜¯åœ¨åšfeature transformï¼Œä½†å®é™…ä¸Šåœ¨åšdeep learningçš„æ—¶å€™ï¼Œå¾€å¾€ä¸éœ€è¦ä¸€ä¸ªå¥½çš„feature ï¼Œæ¯”å¦‚è¯´åœ¨åšå½±åƒè¾¨è¯†çš„æ—¶å€™ï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰çš„pixelç›´æ¥ä¸¢è¿›å»ï¼Œä½†æ˜¯åœ¨è¿‡å»åšå›¾åƒè¯†åˆ«ï¼Œä½ æ˜¯éœ€è¦å¯¹å›¾åƒæŠ½å–å‡ºä¸€äº›äººå®šçš„featureå‡ºæ¥çš„ï¼Œè¿™ä»¶äº‹æƒ…å°±æ˜¯feature transformï¼Œä½†æ˜¯æœ‰äº†deep learningä¹‹åï¼Œä½ å®Œå…¨å¯ä»¥ç›´æ¥ä¸¢pixelè¿›å»ç¡¬åš ä½†æ˜¯ï¼Œä»Šå¤©deep learningåˆ¶é€ äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œå®ƒæ‰€åˆ¶é€ çš„é—®é¢˜å°±æ˜¯ï¼Œä½ éœ€è¦å»design networkçš„structureï¼Œæ‰€ä»¥ä½ çš„é—®é¢˜ä»æœ¬æ¥çš„å¦‚ä½•æŠ½å–feature==&gt;(è½¬åŒ–æˆ)æ€ä¹ˆdesign network structureï¼Œæ‰€ä»¥deep learningæ˜¯ä¸æ˜¯çœŸçš„å¥½ç”¨ï¼Œå–å†³äºä½ è§‰å¾—è§£å†³å“ªä¸€ä¸ªé—®é¢˜æ¯”è¾ƒå®¹æ˜“(å¦‚ï¼Œä»¥å‰åšéŸ³é¢‘è¯†åˆ«éœ€è¦çŸ¥é“DFTäº›ä¿¡å·å¤„ç†çŸ¥è¯†å’Œæ–¹æ³•ï¼Œç°åœ¨å®Œå…¨å¯ä»¥äº¤ç»™æœºå™¨ï¼Œè®©å…¶è‡ªå·±å­¦ä¼šDFT) å¦‚æœæ˜¯å½±å“è¾¨è¯†æˆ–è€…æ˜¯è¯­éŸ³è¾¨è¯†çš„è¯ï¼Œdesign network structureå¯èƒ½æ¯”feature engineeringè¦æ¥çš„å®¹æ˜“ï¼Œå› ä¸ºï¼Œè™½ç„¶æˆ‘ä»¬äººéƒ½ä¼šçœ‹ã€ä¼šå¬ï¼Œä½†æ˜¯è¿™ä»¶äº‹æƒ…ï¼Œå®ƒå¤ªè¿‡æ½œæ„è¯†äº†ï¼Œå®ƒç¦»æˆ‘ä»¬æ„è¯†çš„å±‚æ¬¡å¤ªè¿œï¼Œæˆ‘ä»¬æ— æ³•æ„è¯†åˆ°ï¼Œæˆ‘ä»¬åˆ°åº•æ˜¯æ€ä¹ˆåšè¯­éŸ³è¾¨è¯†è¿™ä»¶äº‹æƒ…ï¼Œæ‰€ä»¥å¯¹äººæ¥è¯´ï¼Œä½ è¦æŠ½ä¸€ç»„å¥½çš„featureï¼Œè®©æœºå™¨å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç”¨linearçš„æ–¹æ³•åšè¯­éŸ³è¾¨è¯†ï¼Œå…¶å®æ˜¯å¾ˆéš¾çš„ï¼Œå› ä¸ºäººæ ¹æœ¬å°±ä¸çŸ¥é“å¥½çš„featureåˆ°åº•é•¿ä»€ä¹ˆæ ·å­ï¼›æ‰€ä»¥è¿˜ä¸å¦‚designä¸€ä¸ªnetwork structureï¼Œæˆ–è€…æ˜¯å°è¯•å„ç§network structureï¼Œè®©machineè‡ªå·±å»æ‰¾å‡ºå¥½çš„featureï¼Œè¿™ä»¶äº‹æƒ…åè€Œå˜å¾—æ¯”è¾ƒå®¹æ˜“ï¼Œå¯¹å½±åƒæ¥è¯´ä¹Ÿæ˜¯ä¸€æ ·çš„ æœ‰è¿™ä¹ˆä¸€ä¸ªè¯´æ³•ï¼šdeep learningåœ¨NLPä¸Šé¢çš„performanceå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½ã€‚è¯­éŸ³è¾¨è¯†å’Œå½±åƒè¾¨è¯†è¿™ä¸¤ä¸ªé¢†åŸŸæ˜¯æœ€æ—©å¼€å§‹ç”¨deep learningçš„ï¼Œä¸€ç”¨ä¸‹å»è¿›æ­¥é‡å°±éå¸¸åœ°æƒŠäººï¼Œæ¯”å¦‚é”™è¯¯ç‡ä¸€ä¸‹å­å°±é™ä½äº†20%è¿™æ ·ï¼Œä½†æ˜¯åœ¨NLPä¸Šï¼Œå®ƒçš„è¿›æ­¥é‡ä¼¼ä¹å¹¶æ²¡æœ‰é‚£ä¹ˆæƒŠäººï¼Œç”šè‡³æœ‰å¾ˆå¤šåšNLPçš„äººï¼Œç°åœ¨è®¤ä¸ºè¯´deep learningä¸è§å¾—é‚£ä¹ˆworkï¼Œè¿™ä¸ªåŸå› å¯èƒ½æ˜¯ï¼Œäººåœ¨åšNLPè¿™ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œç”±äºäººåœ¨æ–‡å­—å¤„ç†ä¸Šæ˜¯æ¯”è¾ƒå¼ºçš„ï¼Œæ¯”å¦‚å«ä½ è®¾è®¡ä¸€ä¸ªruleå»detectä¸€ç¯‡documentæ˜¯æ­£é¢çš„æƒ…ç»ªè¿˜æ˜¯è´Ÿé¢çš„æƒ…ç»ªï¼Œä½ å®Œå…¨å¯ä»¥åˆ—è¡¨ï¼Œåˆ—å‡ºä¸€äº›æ­£é¢æƒ…ç»ªå’Œè´Ÿé¢æƒ…ç»ªçš„è¯æ±‡ï¼Œç„¶åçœ‹è¿™ä¸ªdocumenté‡Œé¢æ­£é¢æƒ…ç»ªçš„è¯æ±‡å‡ºç°çš„ç™¾åˆ†æ¯”æ˜¯å¤šå°‘ï¼Œä½ å¯èƒ½å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªä¸é”™çš„ç»“æœã€‚æ‰€ä»¥NLPè¿™ä¸ªtaskï¼Œå¯¹äººæ¥è¯´æ˜¯æ¯”è¾ƒå®¹æ˜“è®¾è®¡ruleçš„ï¼Œä½ è®¾è®¡çš„é‚£äº›ad-hoc(ç‰¹åˆ«çš„)çš„ruleï¼Œå¾€å¾€å¯ä»¥å¾—åˆ°ä¸€ä¸ªè¿˜ä¸é”™çš„ç»“æœï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆdeep learningç›¸è¾ƒäºNLPä¼ ç»Ÿçš„æ–¹æ³•ï¼Œè§‰å¾—æ²¡æœ‰åƒå…¶ä»–é¢†åŸŸä¸€æ ·è¿›æ­¥å¾—é‚£ä¹ˆæ˜¾è‘—(ä½†è¿˜æ˜¯æœ‰ä¸€äº›è¿›æ­¥çš„)===&gt;ç®€è¨€ä¹‹, è¿™ä¸ªè¯­è¨€é—®é¢˜è¾ƒä¸ºå®¹æ˜“ç ”ç©¶, ä»¥åŠå‰äººä¼ ç»Ÿæ–¹æ³•ç ”ç©¶å·²ç»éå¸¸æ·±å…¥, æ•ˆæœä¹Ÿè¾ƒå¥½, å› æ­¤æœºå™¨å­¦ä¹ å¹¶æ²¡æœ‰å¤ªå¤šçš„æå‡ é•¿ä¹…è€Œè¨€ï¼Œå¯èƒ½æ–‡å­—å¤„ç†ä¸­ä¼šæœ‰ä¸€äº›éšè—çš„èµ„è®¯æ˜¯äººè‡ªå·±ä¹Ÿä¸çŸ¥é“çš„ï¼Œæ‰€ä»¥è®©æœºå™¨è‡ªå·±å»å­¦è¿™ä»¶äº‹æƒ…ï¼Œè¿˜æ˜¯å¯ä»¥å åˆ°ä¸€äº›ä¼˜åŠ¿ï¼Œåªæ˜¯çœ¼ä¸‹å®ƒè·Ÿä¼ ç»Ÿæ–¹æ³•çš„å·®å¼‚çœ‹èµ·æ¥å¹¶æ²¡æœ‰é‚£ä¹ˆçš„æƒŠäººï¼Œä½†è¿˜æ˜¯æœ‰è¿›æ­¥çš„ P15Why Deep- Q:å‚æ•°å˜å¤š,æ˜¯å˜å®½è¿˜æ˜¯å˜æ·±å‘¢? æ˜¯ä¸æ˜¯æš´åŠ›çš„æ–¹æ³•å‘¢? A: è®ºæ–‡æ¯”è¾ƒç›¸åŒå‚æ•°, æ·±åº¦æ•ˆæœå¥½äºå®½åº¦; DNNç»“æ„ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿æ˜¯ï¼ŒModularization(æ¨¡å—åŒ–)ï¼Œå®ƒç”¨çš„æ˜¯ç»“æ„åŒ–çš„æ¶æ„ Modularization å°±åƒå†™ç¨‹åºä¸€æ ·ï¼Œshallow networkå®é™…ä¸Šå°±æ˜¯æŠŠæ‰€æœ‰çš„ç¨‹åºéƒ½å†™åœ¨äº†åŒä¸€ä¸ªmainå‡½æ•°ä¸­ï¼Œæ‰€ä»¥å®ƒå»æ£€æµ‹ä¸åŒçš„classä½¿ç”¨çš„æ–¹æ³•æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼›è€Œdeep networkåˆ™æ˜¯æŠŠæ•´ä¸ªä»»åŠ¡åˆ†ä¸ºäº†ä¸€ä¸ªä¸ªå°ä»»åŠ¡ï¼Œæ¯ä¸ªå°ä»»åŠ¡åˆå¯ä»¥ä¸æ–­ç»†åˆ†ä¸‹å»ï¼Œä»¥å½¢æˆmodularizationï¼Œå°±åƒä¸‹å›¾ä¸€æ · åœ¨DNNçš„æ¶æ„ä¸­ï¼Œå®é™…ä¸Šæ¯ä¸€å±‚layeré‡Œçš„neuronéƒ½åƒæ˜¯åœ¨è§£å†³åŒä¸€ä¸ªçº§åˆ«çš„ä»»åŠ¡ï¼Œå®ƒä»¬çš„outputä½œä¸ºä¸‹ä¸€å±‚layerå¤„ç†æ›´é«˜çº§åˆ«ä»»åŠ¡çš„æ•°æ®æ¥æºï¼Œä½å±‚layeré‡Œçš„neuronåšçš„æ˜¯å¯¹ä¸åŒå°ç‰¹å¾çš„æ£€æµ‹ï¼Œé«˜å±‚layeré‡Œçš„neuronåˆ™æ ¹æ®éœ€è¦æŒ‘é€‰ä½å±‚neuronæ‰€æŠ½å–å‡ºæ¥çš„ä¸åŒå°ç‰¹å¾ï¼Œå»æ£€æµ‹ä¸€ä¸ªèŒƒå›´æ›´å¤§çš„ç‰¹å¾ï¼›neuronå°±åƒæ˜¯ä¸€ä¸ªä¸ªclassifier ï¼Œåé¢çš„classifierå…±äº«å‰é¢classifierçš„å‚æ•° è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä½å±‚çš„neuronè¾“å‡ºçš„ä¿¡æ¯å¯ä»¥è¢«é«˜å±‚ä¸åŒçš„neuroné‡å¤ä½¿ç”¨ï¼Œè€Œå¹¶ä¸éœ€è¦åƒshallow networkä¸€æ ·ï¼Œæ¯æ¬¡åœ¨ç”¨åˆ°çš„æ—¶å€™éƒ½è¦é‡æ–°å»æ£€æµ‹ä¸€éï¼Œå› æ­¤å¤§å¤§é™ä½äº†ç¨‹åºçš„å¤æ‚åº¦ ç†è§£æ•ˆæœï¼šæ¨¡ç»„åŒ–ï¼š å¦‚åˆ†ç±»é•¿å‘çš„å¥³å­©ã€é•¿å¤´å‘çš„ç”·å­©ã€çŸ­å‘çš„å¥³å­©ã€çŸ­å‘ç”·å­©ã€‚ â€‹ å¦‚æœæŒ‰ç…§shallow networkçš„æƒ³æ³•ï¼Œæˆ‘ä»¬åˆ†åˆ«ç‹¬ç«‹åœ°trainå››ä¸ªclassifier(å…¶å®å°±ç›¸å½“äºè®­ç»ƒå››ä¸ªç‹¬ç«‹çš„model)ï¼Œç„¶åå°±å¯ä»¥è§£å†³è¿™ä¸ªåˆ†ç±»çš„é—®é¢˜ã€‚ä½†æ˜¯æ˜¾è€Œæ˜“è§çš„æ˜¯é•¿å¤´å‘çš„ç”·ç”Ÿæ ·æœ¬ä¼šéå¸¸å°‘ï¼Œæ²¡æœ‰å¤ªå¤šçš„training dataï¼Œæ‰€ä»¥ï¼Œä½ trainå‡ºæ¥çš„classifierå°±æ¯”è¾ƒweakï¼Œå»detecté•¿å¤´å‘ç”·ç”Ÿçš„performanceå°±æ¯”è¾ƒå·® ![æ¨¡ç»„åŒ–](æå®æ¯…æœºå™¨å­¦ä¹ -æ‘˜è¦/P12\\æ¨¡ç»„åŒ–.jpg ä½†å…¶å®æˆ‘ä»¬çš„inputå¹¶ä¸æ˜¯æ²¡æœ‰å…³è”çš„ï¼Œé•¿å¤´å‘çš„ç”·ç”Ÿå’Œé•¿å¤´å‘çš„å¥³ç”Ÿéƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹å¾ï¼Œå°±æ˜¯é•¿å¤´å‘ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬åˆ†åˆ«ç‹¬ç«‹åœ°è®­ç»ƒå››ä¸ªmodelä½œä¸ºåˆ†ç±»å™¨ï¼Œå®é™…ä¸Šå°±æ˜¯å¿½è§†äº†è¿™ä¸ªå…±åŒç‰¹å¾ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰é«˜æ•ˆåœ°ç”¨åˆ°dataæä¾›çš„å…¨éƒ¨ä¿¡æ¯ï¼Œè¿™æ°æ°æ˜¯shallow networkçš„å¼Šç«¯ è€Œåˆ©ç”¨modularizationçš„æ€æƒ³ï¼Œä½¿ç”¨deep networkçš„æ¶æ„ï¼Œæˆ‘ä»¬å¯ä»¥è®­ç»ƒä¸€ä¸ªmodelä½œä¸ºåˆ†ç±»å™¨å°±å¯ä»¥å®Œæˆæ‰€æœ‰çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•´ä¸ªä»»åŠ¡åˆ†ä¸ºä¸¤ä¸ªå­ä»»åŠ¡ï¼š Classifier1ï¼šæ£€æµ‹æ˜¯ç”·ç”Ÿæˆ–å¥³ç”Ÿ Classifier2ï¼šæ£€æµ‹æ˜¯é•¿å¤´å‘æˆ–çŸ­å¤´å‘ è™½ç„¶é•¿å¤´å‘çš„ç”·ç”Ÿdataå¾ˆå°‘ï¼Œä½†é•¿å¤´å‘çš„äººçš„dataå°±å¾ˆå¤šï¼Œç»è¿‡å‰é¢å‡ å±‚layerçš„ç‰¹å¾æŠ½å–ï¼Œå°±å¯ä»¥å¤´å‘çš„dataå…¨éƒ¨éƒ½ä¸¢ç»™Classifier2ï¼ŒæŠŠç”·ç”Ÿæˆ–å¥³ç”Ÿçš„dataå…¨éƒ¨éƒ½ä¸¢ç»™Classifier1ï¼Œè¿™æ ·å°±çœŸæ­£åšåˆ°äº†å……åˆ†ã€é«˜æ•ˆåœ°åˆ©ç”¨æ•°æ®ï¼Œæœ€ç»ˆçš„Classifierå†æ ¹æ®Classifier1å’ŒClassifier2æä¾›çš„ä¿¡æ¯ç»™å‡ºå››ç±»äººçš„åˆ†ç±»ç»“æœ ä½ ä¼šå‘ç°ï¼Œç»è¿‡å±‚å±‚layerçš„ä»»åŠ¡åˆ†è§£ï¼Œå…¶å®æ¯ä¸€ä¸ªClassifierè¦åšçš„äº‹æƒ…éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåˆå› ä¸ºè¿™ç§åˆ†å±‚çš„ã€æ¨¡ç»„åŒ–çš„æ–¹å¼å……åˆ†åˆ©ç”¨äº†dataï¼Œå¹¶æé«˜äº†ä¿¡æ¯åˆ©ç”¨çš„æ•ˆç‡ï¼Œæ‰€ä»¥åªè¦ç”¨æ¯”è¾ƒå°‘çš„training dataå°±å¯ä»¥æŠŠç»“æœtrainå¥½ deep -&gt; modularization åšmodularizationçš„å¥½å¤„æ˜¯æŠŠåŸæ¥æ¯”è¾ƒå¤æ‚çš„é—®é¢˜å˜å¾—ç®€å•ï¼Œæ¯”å¦‚åŸæ¥çš„ä»»åŠ¡æ˜¯æ£€æµ‹ä¸€ä¸ªé•¿å¤´å‘çš„å¥³ç”Ÿï¼Œä½†ç°åœ¨ä½ çš„ä»»åŠ¡æ˜¯æ£€æµ‹é•¿å¤´å‘å’Œæ£€æµ‹æ€§åˆ«ï¼Œè€Œå½“æ£€æµ‹å¯¹è±¡å˜ç®€å•çš„æ—¶å€™ï¼Œå°±ç®—training dataæ²¡æœ‰é‚£ä¹ˆå¤šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªtaskåšå¥½ï¼Œå¹¶ä¸”æ‰€æœ‰çš„classifieréƒ½ç”¨åŒä¸€ç»„å‚æ•°æ£€æµ‹å­ç‰¹å¾ï¼Œæé«˜äº†å‚æ•°ä½¿ç”¨æ•ˆç‡ï¼Œè¿™å°±æ˜¯modularizationã€è¿™å°±æ˜¯æ¨¡å—åŒ–çš„ç²¾ç¥ ç”±äºdeep learningçš„deepå°±æ˜¯åœ¨åšmodularizationè¿™ä»¶äº‹ï¼Œæ‰€ä»¥å®ƒéœ€è¦çš„training dataåè€Œæ˜¯æ¯”è¾ƒå°‘çš„ï¼Œè¿™å¯èƒ½ä¼šè·Ÿä½ çš„è®¤çŸ¥ç›¸åï¼ŒAI=big data+deep learningï¼Œä½†deep learningå…¶å®æ˜¯ä¸ºäº†è§£å†³less dataçš„é—®é¢˜æ‰æå‡ºçš„ æ¯ä¸€ä¸ªneuronå…¶å®å°±æ˜¯ä¸€ä¸ªbasicçš„classifierï¼š ç¬¬ä¸€å±‚neuronï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ€basicçš„classifierï¼Œæ£€æµ‹çš„æ˜¯é¢œè‰²ã€çº¿æ¡è¿™æ ·çš„å°ç‰¹å¾ ç¬¬äºŒå±‚neuronæ˜¯æ¯”è¾ƒå¤æ‚çš„classifierï¼Œå®ƒç”¨ç¬¬ä¸€å±‚basicçš„classifierçš„outputå½“ä½œinputï¼Œä¹Ÿå°±æ˜¯æŠŠç¬¬ä¸€å±‚çš„classifierå½“ä½œmoduleï¼Œåˆ©ç”¨ç¬¬ä¸€å±‚å¾—åˆ°çš„å°ç‰¹å¾åˆ†ç±»å‡ºä¸åŒæ ·å¼çš„èŠ±çº¹ è€Œç¬¬ä¸‰å±‚çš„neuronåˆæŠŠç¬¬äºŒå±‚çš„neuronå½“ä½œå®ƒmoduleï¼Œåˆ©ç”¨ç¬¬äºŒå±‚å¾—åˆ°çš„ç‰¹å¾åˆ†ç±»å‡ºèœ‚çªã€è½®èƒã€äºº ä»¥æ­¤ç±»æ¨ è¿™è¾¹è¦å¼ºè°ƒçš„æ˜¯ï¼Œåœ¨åšdeep learningçš„æ—¶å€™ï¼Œæ€ä¹ˆåšæ¨¡å—åŒ–è¿™ä»¶äº‹æƒ…æ˜¯machineè‡ªåŠ¨å­¦åˆ°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸€å±‚è¦æ£€æµ‹ä»€ä¹ˆç‰¹å¾ã€ç¬¬äºŒå±‚è¦æ£€æµ‹ä»€ä¹ˆç‰¹å¾â€¦è¿™äº›éƒ½ä¸æ˜¯äººä¸ºæŒ‡å®šçš„ï¼Œäººåªæœ‰å®šå¥½æœ‰å‡ å±‚layerã€æ¯å±‚layeræœ‰å‡ ä¸ªneuronï¼Œå‰©ä¸‹çš„äº‹æƒ…éƒ½æ˜¯machineè‡ªå·±å­¦åˆ°çš„ ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ˜¯äººä¸ºåœ°æ ¹æ®domain knowledgeæŒ‡å®šç‰¹å¾æ¥è¿›è¡Œæå–ï¼Œè¿™ç§æŒ‡å®šçš„æå–æ–¹å¼ï¼Œç”šè‡³æ˜¯æå–åˆ°çš„ç‰¹å¾ï¼Œä¹Ÿè®¸å¹¶ä¸æ˜¯å®é™…æœ€ä¼˜çš„ï¼Œæ‰€ä»¥å®ƒçš„è¯†åˆ«æˆåŠŸç‡å¹¶æ²¡æœ‰é‚£ä¹ˆé«˜ï¼›ä½†æ˜¯å¦‚æœæå–ä»€ä¹ˆç‰¹å¾ã€æ€ä¹ˆæå–è¿™ä»¶äº‹è®©æœºå™¨è‡ªå·±å»å­¦ï¼Œå®ƒæ‰€æå–çš„å°±ä¼šæ˜¯é‚£ä¸ªæœ€ä¼˜è§£ï¼Œå› æ­¤è¯†åˆ«æˆåŠŸç‡æ™®éä¼šæ¯”äººä¸ºæŒ‡å®šè¦æ¥çš„é«˜ Conclusion Deepæ€»ç»“ï¼š è€ƒè™‘inputä¹‹é—´çš„å†…åœ¨å…³è”ï¼Œæ‰€æœ‰çš„classç”¨åŒä¸€ä¸ªmodelæ¥åšåˆ†ç±» modularizationæ€æƒ³ï¼Œå¤æ‚é—®é¢˜ç®€å•åŒ–ï¼ŒæŠŠæ£€æµ‹å¤æ‚ç‰¹å¾çš„å¤§ä»»åŠ¡åˆ†å‰²æˆæ£€æµ‹ç®€å•ç‰¹å¾çš„å°ä»»åŠ¡ æ‰€æœ‰çš„classifierä½¿ç”¨åŒä¸€ç»„å‚æ•°çš„å­ç‰¹å¾æ£€æµ‹å™¨ï¼Œå…±äº«æ£€æµ‹åˆ°çš„å­ç‰¹å¾ ä¸åŒçš„classifierä¼šshareéƒ¨åˆ†çš„å‚æ•°å’Œdataï¼Œæ•ˆç‡é«˜ è”ç³»logic circuitå’Œå‰ªçº¸ç”»çš„ä¾‹å­ å¤šå±‚hidden layerå¯¹complexé—®é¢˜çš„å¤„ç†ä¸Šæ¯”è¾ƒæœ‰ä¼˜åŠ¿ 9. P13Backpropagation Backpropagationæ˜¯ç¥ç»ç½‘ç»œä¸­ç”¨æ¥åšgradient descentçš„æ–¹æ³•ï¼Œ ç›®çš„æ˜¯ä½¿ä¼˜åŒ–å‡½æ•°å°½å¯èƒ½å¾—å˜æˆæˆ‘ä»¬æƒ³è¦çš„ï¼Œ å‡è®¾æˆ‘ä»¬ç°åœ¨è¦å¤„ç†çš„æ˜¯åˆ†ç±»ä»»åŠ¡ï¼Œloss functionä¸ºäº¤å‰ç†µï¼Œ total lossä¸ºL(Î¸)=âˆ‘n=1Nln(Î¸)L(\\theta)=\\sum_{n=1}^{N} l^{n}(\\theta)L(Î¸)=âˆ‘n=1Nâ€‹ln(Î¸) æˆ‘ä»¬æŠŠtraining dataé‡Œä»»æ„ä¸€ä¸ªæ ·æœ¬ç‚¹ xnx^{n}xn ä»£åˆ°neural networké‡Œé¢, å®ƒä¼šoutputä¸€ä¸ª yn,y^{n},yn, æˆ‘ä»¬æŠŠè¿™ä¸ªoutputè·Ÿæ · æœ¬ç‚¹æœ¬èº«çš„labelæ ‡æ³¨çš„target y^n\\hat{y}^{n}y^â€‹n ä½œcross entropy, è¿™ä¸ªäº¤å‰å«¡å®šä¹‰äº†output yny^{n}yn ä¸target y^n\\hat{y}^{n}y^â€‹n ä¹‹é—´çš„è·ç¦» ln(Î¸)l^{n}(\\theta)ln(Î¸)ã€‚ å¦‚æœcross entropyæ¯”è¾ƒå¤§çš„è¯, è¯´æ˜outputå’Œtargetä¹‹é—´è·ç¦»å¾ˆè¿œ, è¿™ä¸ªnetworkçš„parameterçš„lossæ˜¯æ¯”è¾ƒå¤§ çš„, åä¹‹åˆ™è¯´æ˜è¿™ç»„parameteræ˜¯æ¯”è¾ƒå¥½çš„ï¼Œ ç„¶åæ€»å’Œæ‰€æœ‰training dataçš„cross entropy ln(Î¸),l^{n}(\\theta),ln(Î¸), å¾—åˆ°total loss L(Î¸),L(\\theta),L(Î¸), è¿™å°±æ˜¯æˆ‘ä»¬çš„loss function, ç”¨è¿™ä¸ª L(Î¸)L(\\theta)L(Î¸) å¯¹æŸä¸€ä¸ªå‚æ•°wåšåå¾®åˆ†, è¡¨è¾¾å¼å¦‚ä¸‹: âˆ‚L(Î¸)âˆ‚w=âˆ‘n=1Nâˆ‚ln(Î¸)âˆ‚w\\frac{\\partial L(\\theta)}{\\partial w}=\\sum_{n=1}^{N} \\frac{\\partial l^{n}(\\theta)}{\\partial w} âˆ‚wâˆ‚L(Î¸)â€‹=n=1âˆ‘Nâ€‹âˆ‚wâˆ‚ln(Î¸)â€‹ è¿™ä¸ªè¡¨è¾¾å¼å‘Šè¯‰æˆ‘ä»¬, åªéœ€è¦è€ƒè™‘å¦‚ä½•è®¡ç®—å¯¹æŸä¸€ç¬”dataçš„ âˆ‚ln(Î¸)âˆ‚w,\\frac{\\partial l^{n}(\\theta)}{\\partial w},âˆ‚wâˆ‚ln(Î¸)â€‹, å†å°†æ‰€æœ‰training dataçš„cross entropyå¯¹å‚æ•° wçš„åå¾®åˆ†ç´¯è®¡æ±‚å’Œ, å°±å¯ä»¥æŠŠtotal losså¯¹æŸä¸€ä¸ªå‚æ•°wçš„åå¾®åˆ†ç»™è®¡ç®—å‡ºæ¥ã€‚ æˆ‘ä»¬é€ä¸€åˆ†æï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘æŸä¸€ä¸ªneuron, å…ˆæ‹¿å‡ºä¸Šå›¾ä¸­è¢«çº¢è‰²ä¸‰è§’å½¢åœˆä½çš„neuron, å‡è®¾åªæœ‰ä¸¤ä¸ªinput x1,x2,x_{1}, x_{2},x1â€‹,x2â€‹, é€šè¿‡è¿™ä¸ª neuron, æˆ‘ä»¬å…ˆå¾—åˆ° z=b+w1x1+w2x2,z=b+w_{1} x_{1}+w_{2} x_{2},z=b+w1â€‹x1â€‹+w2â€‹x2â€‹, ç„¶åç»è¿‡activation functionä»è¿™ä¸ªneuronä¸­outputå‡ºæ¥, ä½œä¸ºå ç»­neuronçš„input, å†ç»è¿‡äº†éå¸¸éå¸¸å¤šçš„äº‹æƒ…ä»¥å, ä¼šå¾—åˆ°æœ€ç»ˆçš„output y1,y2y_{1}, y_{2}y1â€‹,y2â€‹ ç°åœ¨çš„é—®é¢˜æ˜¯è¿™æ ·ï¼š âˆ‚lâˆ‚w\\frac{\\partial l}{\\partial w}âˆ‚wâˆ‚lâ€‹ è¯¥æ€ä¹ˆç®—? æŒ‰ç…§chain rule, å¯ä»¥æŠŠå®ƒæ‹†åˆ†æˆä¸¤é¡¹, âˆ‚lâˆ‚w=âˆ‚zâˆ‚wâˆ‚lâˆ‚z,\\frac{\\partial l}{\\partial w}=\\frac{\\partial z}{\\partial w} \\frac{\\partial l}{\\partial z},âˆ‚wâˆ‚lâ€‹=âˆ‚wâˆ‚zâ€‹âˆ‚zâˆ‚lâ€‹, è¿™ä¸¤é¡¹åˆ†åˆ«å»æŠŠå®ƒè®¡ç®— å‡ºæ¥ã€‚å‰é¢è¿™ä¸€é¡¹æ˜¯æ¯”è¾ƒç®€å•çš„, åé¢è¿™ä¸€é¡¹æ˜¯æ¯”è¾ƒå¤æ‚çš„ è®¡ç®—å‰é¢è¿™ä¸€é¡¹ âˆ‚zâˆ‚w\\frac{\\partial z}{\\partial w}âˆ‚wâˆ‚zâ€‹ çš„è¿™ä¸ªprocess, æˆ‘ä»¬ç§°ä¹‹ä¸ºForward pass; è€Œè®¡ç®—åé¢è¿™é¡¹ âˆ‚lâˆ‚z\\frac{\\partial l}{\\partial z}âˆ‚zâˆ‚lâ€‹ çš„process, æˆ‘ä»¬ç§°ä¹‹ä¸º Backward pass Forward pass å…ˆè€ƒè™‘ âˆ‚zâˆ‚w\\frac{\\partial z}{\\partial w}âˆ‚wâˆ‚zâ€‹ è¿™ä¸€é¡¹, å®Œå…¨å¯ä»¥ç§’ç®—å‡ºæ¥, âˆ‚zâˆ‚w1=x1,âˆ‚zâˆ‚w2=x2\\frac{\\partial z}{\\partial w_{1}}=x_{1}, \\frac{\\partial z}{\\partial w_{2}}=x_{2}âˆ‚w1â€‹âˆ‚zâ€‹=x1â€‹,âˆ‚w2â€‹âˆ‚zâ€‹=x2â€‹ å®ƒçš„è§„å¾‹æ˜¯è¿™æ ·çš„ï¼šæ±‚ âˆ‚zâˆ‚w,\\frac{\\partial z}{\\partial w},âˆ‚wâˆ‚zâ€‹, å°±æ˜¯çœ‹wå‰é¢è¿æ¥çš„inputæ˜¯ä»€ä¹ˆ, é‚£å¾®åˆ†åçš„ âˆ‚zâˆ‚w\\frac{\\partial z}{\\partial w}âˆ‚wâˆ‚zâ€‹ å€¼å°±æ˜¯ä»€ä¹ˆï¼Œå› æ­¤åªè¦è®¡ç®—å‡º neural networké‡Œé¢æ¯ä¸€ä¸ªneuronçš„outputå°±å¯ä»¥çŸ¥é“ä»»æ„çš„zå¯¹Wçš„åå¾®åˆ† æ¯”å¦‚input layerä½œä¸ºneuronçš„è¾“å…¥æ—¶ï¼Œå‰é¢è¿æ¥çš„æ˜¯ï¼Œæ‰€ä»¥å¾®åˆ†å€¼å°±æ˜¯ï¼›å‰é¢è¿æ¥çš„æ˜¯ï¼Œæ‰€ä»¥å¾®åˆ†å€¼å°±æ˜¯ æ¯”å¦‚hidden layerä½œä¸ºneuronçš„è¾“å…¥æ—¶ï¼Œé‚£è¯¥neuronçš„inputå°±æ˜¯å‰ä¸€å±‚neuronçš„outputï¼Œäºæ˜¯çš„å€¼å°±æ˜¯å‰ä¸€å±‚çš„zç»è¿‡activation functionä¹‹åè¾“å‡ºçš„å€¼(ä¸‹å›¾ä¸­çš„æ•°æ®æ˜¯å‡å®šactivation functionä¸ºsigmoid functionå¾—åˆ°çš„) Backward pass å†è€ƒè™‘ âˆ‚lâˆ‚z\\frac{\\partial l}{\\partial z}âˆ‚zâˆ‚lâ€‹ è¿™ä¸€é¡¹, å®ƒæ˜¯æ¯”è¾ƒå¤æ‚çš„, è¿™é‡Œæˆ‘ä»¬ä¾æ—§å‡è®¾activation functionæ˜¯sigmoid function å…¬å¼æ¨å¯¼ æˆ‘ä»¬çš„zé€šè¿‡activation functionå¾—åˆ°a, è¿™ä¸ªneuronçš„outputæ˜¯ a=Ïƒ(z),a=\\sigma(z),a=Ïƒ(z), æ¥ä¸‹æ¥è¿™ä¸ªaä¼šä¹˜ä¸ŠæŸä¸€ä¸ªweight w3w_{3}w3â€‹ å†åŠ ä¸Šå…¶å®ƒä¸€å¤§å †çš„valueå¾—åˆ° zâ€²,z^{\\prime},zâ€², å®ƒæ˜¯ä¸‹ä¸€ä¸ªneuron activation functionçš„input, ç„¶åaåˆä¼šä¹˜ä¸Šå¦ä¸€ä¸ª weight w4,w_{4},w4â€‹, å†åŠ ä¸Šå…¶å®ƒä¸€é›„valueå¾—åˆ° zâ€²â€²,z^{\\prime \\prime},zâ€²â€², åé¢è¿˜ä¼šå‘ç”Ÿå¾ˆå¤šå¾ˆå¤šå…¶ä»–äº‹æƒ…, ä¸è¿‡è¿™é‡Œæˆ‘ä»¬å°±åªå…ˆè€ƒè™‘ä¸‹ä¸€æ­¥ä¼š å‘ç”Ÿä»€å…¬äº‹æƒ…: âˆ‚lâˆ‚z=âˆ‚aâˆ‚zâˆ‚lâˆ‚a\\frac{\\partial l}{\\partial z}=\\frac{\\partial a}{\\partial z} \\frac{\\partial l}{\\partial a} âˆ‚zâˆ‚lâ€‹=âˆ‚zâˆ‚aâ€‹âˆ‚aâˆ‚lâ€‹ è¿™é‡Œçš„ âˆ‚aâˆ‚z\\frac{\\partial a}{\\partial z}âˆ‚zâˆ‚aâ€‹ å®é™…ä¸Šå°±æ˜¯1. activation functionçš„å¾®åˆ†(åœ¨è¿™é‡Œå°±æ˜¯sigmoid functionçš„å¾®åˆ†)ï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ âˆ‚lâˆ‚a\\frac{\\partial l}{\\partial a}âˆ‚aâˆ‚lâ€‹ åº”è¯¥é•¿ ä»€ä¹ˆæ ·å­å‘¢? aä¼šå½±å“ zâ€²z^{\\prime}zâ€² å’Œ zâ€²â€²,z^{\\prime \\prime},zâ€²â€², è€Œ zâ€²z^{\\prime}zâ€² å’Œ zâ€²â€²z^{\\prime \\prime}zâ€²â€² ä¼šå½±å“ l,l,l, æ‰€ä»¥é€šè¿‡chain ruleå¯ä»¥å¾—åˆ° âˆ‚lâˆ‚a=âˆ‚zâ€²âˆ‚aâˆ‚lâˆ‚zâ€²+âˆ‚zâ€²â€²âˆ‚aâˆ‚lâˆ‚zâ€²â€²\\frac{\\partial l}{\\partial a}=\\frac{\\partial z^{\\prime}}{\\partial a} \\frac{\\partial l}{\\partial z^{\\prime}}+\\frac{\\partial z^{\\prime \\prime}}{\\partial a} \\frac{\\partial l}{\\partial z^{\\prime \\prime}} âˆ‚aâˆ‚lâ€‹=âˆ‚aâˆ‚zâ€²â€‹âˆ‚zâ€²âˆ‚lâ€‹+âˆ‚aâˆ‚zâ€²â€²â€‹âˆ‚zâ€²â€²âˆ‚lâ€‹ è¿™é‡Œçš„ âˆ‚zâ€²âˆ‚a=w3,âˆ‚zâ€²â€²âˆ‚a=w4,\\frac{\\partial z^{\\prime}}{\\partial a}=w_{3}, \\frac{\\partial z^{\\prime \\prime}}{\\partial a}=w_{4},âˆ‚aâˆ‚zâ€²â€‹=w3â€‹,âˆ‚aâˆ‚zâ€²â€²â€‹=w4â€‹, é‚£ âˆ‚lâˆ‚zâ€²\\frac{\\partial l}{\\partial z^{\\prime}}âˆ‚zâ€²âˆ‚lâ€‹ å’Œ âˆ‚lâˆ‚zâ€²â€²\\frac{\\partial l}{\\partial z^{\\prime \\prime}}âˆ‚zâ€²â€²âˆ‚lâ€‹ åˆè¯¥æ€ä¹ˆç®—å‘¢? è¿™é‡Œå…ˆå‡è®¾æˆ‘ä»¬å·²ç»é€šè¿‡æŸç§æ–¹æ³•æŠŠ âˆ‚lâˆ‚zâ€²\\frac{\\partial l}{\\partial z^{\\prime}}âˆ‚zâ€²âˆ‚lâ€‹ å’Œ âˆ‚lâˆ‚zâ€²â€²\\frac{\\partial l}{\\partial z^{\\prime \\prime}}âˆ‚zâ€²â€²âˆ‚lâ€‹ è¿™ä¸¤é¡¹ç»™ç®—å‡ºæ¥äº†ï¼Œç„¶åå›è¿‡å¤´å»å°±å¯ä»¥æŠŠ âˆ‚lâˆ‚z\\frac{\\partial l}{\\partial z}âˆ‚zâˆ‚lâ€‹ ç»™è½»æ˜“åœ°ç®—å‡ºæ¥ ==&gt; ä¸Šé¢æ˜¯ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå› æ­¤éœ€è¦ä»outputè®¡ç®— âˆ‚lâˆ‚a\\frac{\\partial l}{\\partial a}âˆ‚aâˆ‚lâ€‹ âˆ‚lâˆ‚z=âˆ‚aâˆ‚zâˆ‚lâˆ‚a=Ïƒâ€²(z)[w3âˆ‚lâˆ‚zâ€²+w4âˆ‚lâˆ‚zâ€²â€²]\\frac{\\partial l}{\\partial z}=\\frac{\\partial a}{\\partial z} \\frac{\\partial l}{\\partial a}=\\sigma^{\\prime}(z)\\left[w_{3} \\frac{\\partial l}{\\partial z^{\\prime}}+w_{4} \\frac{\\partial l}{\\partial z^{\\prime \\prime}}\\right] âˆ‚zâˆ‚lâ€‹=âˆ‚zâˆ‚aâ€‹âˆ‚aâˆ‚lâ€‹=Ïƒâ€²(z)[w3â€‹âˆ‚zâ€²âˆ‚lâ€‹+w4â€‹âˆ‚zâ€²â€²âˆ‚lâ€‹] case 1: Output Layer å‡è®¾è“è‰²çš„è¿™ä¸ªneuronå·²ç»æ˜¯hidden layerçš„æœ€åä¸€å±‚äº†, ä¹Ÿå°±æ˜¯è¯´è¿æ¥åœ¨ zâ€²z^{\\prime}zâ€² å’Œ zâ€²â€²z^{\\prime \\prime}zâ€²â€² åçš„è¿™ä¸¤ä¸ªçº¢è‰²çš„neuronå·²ç» æ˜¯output layer, å®ƒçš„outputå°±å·²ç»æ˜¯æ•´ä¸ªnetworkçš„outputäº†, è¿™ä¸ªæ—¶å€™è®¡ç®—å°±æ¯”è¾ƒç®€å• âˆ‚lâˆ‚zâ€²=âˆ‚y1âˆ‚zâ€²âˆ‚lâˆ‚y1\\frac{\\partial l}{\\partial z^{\\prime}}=\\frac{\\partial y_{1}}{\\partial z^{\\prime}} \\frac{\\partial l}{\\partial y_{1}} âˆ‚zâ€²âˆ‚lâ€‹=âˆ‚zâ€²âˆ‚y1â€‹â€‹âˆ‚y1â€‹âˆ‚lâ€‹ å…¶ä¸­ âˆ‚y1âˆ‚zâ€²\\frac{\\partial y_{1}}{\\partial z^{\\prime}}âˆ‚zâ€²âˆ‚y1â€‹â€‹ å°±æ˜¯output layerçš„activation function (softmax) å¯¹ zâ€²z^{\\prime}zâ€² çš„åå¾®åˆ† è€Œ âˆ‚lâˆ‚y1\\frac{\\partial l}{\\partial y_{1}}âˆ‚y1â€‹âˆ‚lâ€‹ å°±æ˜¯loss functionå¯¹ y1y_{1}y1â€‹ çš„åå¾®åˆ†, å®ƒå–å†³äºä½ çš„loss functionæ˜¯æ€ä¹ˆå®šä¹‰çš„, ä¹Ÿå°±æ˜¯ä½ çš„outputå’Œtargetä¹‹é—´æ˜¯æ€ä¹ˆ evaluateçš„, ä½ å¯ä»¥ç”¨cross entropy, ä¹Ÿå¯ä»¥ç”¨mean square error, ç”¨ä¸åŒçš„å®šä¹‰, âˆ‚lâˆ‚y1\\frac{\\partial l}{\\partial y_{1}}âˆ‚y1â€‹âˆ‚lâ€‹ çš„å€¼å°±ä¸ä¸€æ · è¿™ä¸ªæ—¶å€™, ä½ å°±å·²ç»å¯ä»¥æŠŠlå¯¹ w1w_{1}w1â€‹ å’Œ w2w_{2}w2â€‹ çš„åå¾®åˆ† âˆ‚lâˆ‚w1,âˆ‚lâˆ‚u2\\frac{\\partial l}{\\partial w_{1}}, \\frac{\\partial l}{\\partial u_{2}}âˆ‚w1â€‹âˆ‚lâ€‹,âˆ‚u2â€‹âˆ‚lâ€‹ ç®—å‡ºæ¥äº† å¦ä¸€ä¸ªè§‚ç‚¹â€”â€”åå‘è®¡ç®—çš„ä¸€å¥ è¿™ä¸ªå¼å­è¿˜æ˜¯è›®ç®€å•çš„, ç„¶å, æˆ‘ä»¬å¯ä»¥ä»å¦å¤–ä¸€ä¸ªè§‚ç‚¹æ¥çœ‹å¾…è¿™ä¸ªå¼å­ ä½ å¯ä»¥æƒ³è±¡è¯´, ç°åœ¨æœ‰å¦å¤–ä¸€ä¸ªneuron, å®ƒä¸åœ¨æˆ‘ä»¬åŸæ¥çš„networké‡Œé¢, åœ¨ä¸‹å›¾ä¸­å®ƒè¢«ç”»æˆä¸‰è§’å½¢, è¿™ä¸ª neuronçš„inputå°±æ˜¯ âˆ‚lâˆ‚zâ€²\\frac{\\partial l}{\\partial z^{\\prime}}âˆ‚zâ€²âˆ‚lâ€‹ å’Œ âˆ‚lâˆ‚zn,\\frac{\\partial l}{\\partial z^{n}},âˆ‚znâˆ‚lâ€‹, é‚£input âˆ‚lâˆ‚zâ€²\\frac{\\partial l}{\\partial z^{\\prime}}âˆ‚zâ€²âˆ‚lâ€‹ å°±ä¹˜ä¸Š w3,w_{3},w3â€‹, input âˆ‚lâˆ‚zâ€²â€²\\frac{\\partial l}{\\partial z^{\\prime \\prime}}âˆ‚zâ€²â€²âˆ‚lâ€‹ å°±ä¹˜ä¸Š w4,w_{4},w4â€‹, å®ƒä»¬ä¸¤ä¸ªç›¸åŠ å†ä¹˜ä¸Šactivation functionçš„å¾®åˆ† Ïƒâ€²(z),\\sigma^{\\prime}(z),Ïƒâ€²(z), å°±å¯ä»¥å¾—åˆ°output âˆ‚lâˆ‚z\\frac{\\partial l}{\\partial z}âˆ‚zâˆ‚lâ€‹ è¿™å¼ å›¾æè¿°äº†ä¸€ä¸ªæ–°çš„â€œneuron&quot;ï¼Œå®ƒçš„å«ä¹‰è·Ÿå›¾ä¸‹æ–¹çš„è¡¨è¾¾å¼æ˜¯ä¸€æ¨¡ä¸€æ ·çš„, ä½œè¿™å¼ å›¾çš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£ å€¼å¾—æ³¨æ„çš„æ˜¯, è¿™é‡Œçš„ Ïƒâ€²(z)\\sigma^{\\prime}(z)Ïƒâ€²(z) æ˜¯ä¸€ä¸ªconstantå¸¸æ•°, å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªfunction, å› ä¸ºzå…¶å®åœ¨è®¡ç®—forward passçš„æ—¶å€™ å°±å·²ç»è¢«å†³å®šå¥½äº†, zæ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ æ‰€ä»¥è¿™ä¸ªneuronå…¶å®è·Ÿæˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„sigmoid functionæ˜¯ä¸ä¸€æ ·çš„, å®ƒå¹¶ä¸æ˜¯æŠŠinputé€šè¿‡ä¸€ä¸ªnon-linearè¿›è¡Œ è½¬æ¢, è€Œæ˜¯ç›´æ¥æŠŠinputä¹˜ä¸Šä¸€ä¸ªconstant Ïƒâ€²(z),\\sigma^{\\prime}(z),Ïƒâ€²(z), å°±å¾—åˆ°äº†output, å› æ­¤è¿™ä¸ªneuronè¢«ç”»æˆä¸‰è§’å½¢, ä»£è¡¨å®ƒè·Ÿæˆ‘ ä»¬ä¹‹å‰çœ‹åˆ°çš„åœ†å½¢çš„neuronçš„è¿ä½œæ–¹å¼æ˜¯ä¸ä¸€æ ·çš„, å®ƒæ˜¯ç›´æ¥ä¹˜ä¸Šä¸€ä¸ªconstant(è¿™é‡Œçš„ä¸‰è§’å½¢æœ‰ç‚¹åƒç”µè·¯é‡Œçš„è¿ ç®—æ”¾å¤§å™¨op-amp, å®ƒä¹Ÿæ˜¯ä¹˜ä¸Šä¸€ä¸ªconstant) çŸ¥é“ zâ€²z^{\\prime}zâ€² å’Œ zâ€²â€²z^{\\prime \\prime}zâ€²â€² å°±å¯ä»¥çŸ¥é“ z,z,z, çŸ¥é“ zaz_{a}zaâ€‹ å’Œ zbz_{b}zbâ€‹ å°±å¯ä»¥çŸ¥é“ zâ€²,â€¦â€¦,z^{\\prime}, \\ldots \\ldots,zâ€²,â€¦â€¦, ç°åœ¨è¿™ä¸ªè¿‡ç¨‹å°±å¯ä»¥åå¤è¿›è¡Œä¸‹å», ç›´åˆ°æ‰¾åˆ°output layer, æˆ‘ä»¬å¯ä»¥ç®—å‡ºç¡®åˆ‡çš„å€¼, ç„¶åå†ä¸€å±‚ä¸€å±‚åæ¨å›å» ä½ å¯èƒ½ä¼šæƒ³è¯´, è¿™ä¸ªæ–¹æ³•å¬èµ·æ¥æŒºè®©äººå´©æºƒçš„, æ¯æ¬¡è¦ç®—ä¸€ä¸ªå¾®åˆ†çš„å€¼, éƒ½è¦ä¸€è·¯å¾€åèµ°, ä¸€ç›´èµ°åˆ°networkçš„ output, å¦‚æœå†™æˆè¡¨è¾¾å¼çš„è¯, ä¸€å±‚ä¸€å±‚å¾€åå±•å¼€, æ„Ÿè§‰ä¼šæ˜¯ä¸€ä¸ªå¾ˆå¯æ€•çš„å¼å­, ä½†æ˜¯! å®é™…ä¸Šå¹¶ä¸æ˜¯è¿™ä¸ªæ ·å­ åšçš„ ä½ åªè¦æ¢ä¸€ä¸ªæ–¹å‘, ä»output layerçš„ âˆ‚lâˆ‚z\\frac{\\partial l}{\\partial z}âˆ‚zâˆ‚lâ€‹ å¼€å§‹ç®—, ä½ å°±ä¼šå‘ç°å®ƒçš„è¿ç®—é‡è·ŸåŸæ¥çš„networkçš„Feedforward path å…¶å®æ˜¯ä¸€æ ·çš„ â–²æ³¨: å¦‚æœæ˜¯æ­£å‘åšBackward passçš„è¯, å®é™…ä¸Šæ¯æ¬¡è®¡ç®—ä¸€ä¸ª âˆ‚lâˆ‚z,\\frac{\\partial l}{\\partial z},âˆ‚zâˆ‚lâ€‹, å°±éœ€è¦æŠŠè¯¥neuronåé¢æ‰€æœ‰çš„ âˆ‚lâˆ‚z\\frac{\\partial l}{\\partial z}âˆ‚zâˆ‚lâ€‹ éƒ½ç»™è®¡ç®—ä¸€ é, ä¼šé€ æˆå¾ˆå¤šä¸å¿…è¦çš„é‡Œå¤è¿ç®—, å¦‚æœå†™æˆcodeçš„å½¢å¼, å°±ç›¸å½“äºè°ƒç”¨äº†å¾ˆå¤šæ¬¡é‡Œå¤çš„å‡½æ•°; è€Œå¦‚æœæ˜¯åå‘åš Backward passï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠè¿™äº›è°ƒç”¨å‡½æ•°çš„è¿‡ç¨‹éƒ½å˜æˆè°ƒç”¨â€œå€¼&quot;çš„è¿‡ç¨‹, å› æ­¤å¯ä»¥ç›´æ¥è®¡ç®—å‡ºç»“æœ, è€Œä¸éœ€è¦ å ç”¨è¿‡å¤šçš„å †æ ˆç©ºé—´ Summary æœ€åï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹Backpropagationæ˜¯æ€ä¹ˆåšçš„ Forward passï¼Œæ¯ä¸ªneuronçš„activation functionçš„outputï¼Œå°±æ˜¯å®ƒæ‰€è¿æ¥çš„weightçš„ Backward passï¼Œå»ºä¸€ä¸ªä¸åŸæ¥æ–¹å‘ç›¸åçš„neural networkï¼Œå®ƒçš„ä¸‰è§’å½¢neuronçš„outputå°±æ˜¯ æŠŠé€šè¿‡forward passå¾—åˆ°çš„å’Œé€šè¿‡backward passå¾—åˆ°çš„ä¹˜èµ·æ¥å°±å¯ä»¥å¾—åˆ°å¯¹çš„åå¾®åˆ† 11. P17Convolutional Neural Network 11_Convolutional Neural Network part1 12_Convolutional Neural Network part2 12. P14Tips for Training DNN åŒ…å«å·ç§¯å±‚å’Œæ± åŒ–å±‚ï¼Œä¸»è¦ç”¨æ¥è¯†åˆ«ä½ç§»ã€ç¼©æ”¾åŠå…¶ä»–å½¢å¼æ‰­æ›²ä¸å˜æ€§çš„äºŒç»´å›¾å½¢ã€‚ç‰¹æ®Šæ€§ç‰¹æ˜¾åœ¨1.ç¥ç»å…ƒä¹‹é—´çš„è¿æ¥æ˜¯éå…¨è¿æ¥çš„ï¼Œ2.åŒä¸€å±‚ä¸­æŸäº›ç¥ç»å…ƒçš„è¿æ¥æƒé‡æ˜¯å…±äº«çš„ï¼ˆå³ç›¸åŒçš„ï¼‰==&gt;ä»è€Œå‡å°‘äº†æƒå€¼çš„æ•°é‡ã€é™ä½äº†æ¨¡å‹çš„å¤æ‚ P13. Recurrent Neural Network (Part I) P14. Recurrent Neural Network (Part II) P22Semi-supervised P23Unsupervised Learning - Word Embedding P24Explainable ML (1_8) P33Attack ML Models (1_8) P43Network Compression (1_6) P51Conditional Generation by RNN &amp; Attention P52Pointer Network P53Recursive P54Transformer P56Unsupervised Learning - Linear Methods P57Unsupervised Learning - Neighbor Embedding P58Unsupervised Learning - Auto-encoder è‡ªç¼–ç æ¨¡å‹ï¼ˆAuto-encoder AEï¼‰ï¼Œæ˜¯ä¸€ç§æ— ç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œä½¿ç”¨äº†åå‘ä¼ æ’­ç®—æ³•ï¼Œè®©ç›®æ ‡å€¼ç­‰äºè¾“å…¥å€¼ P63ELMO, BERT, GPT P65Anomaly Detection (1_7) P72Generative Adversarial Network(1_10)â€”â€”GAN P83Transfer Learning P86Meta Learning â€“ MAML (1_9) P100Life Long Learning (1_7) P108Deep Reinforcemen Learning(3_1) P111RL Advanced Version_1_Policy Gradient é™„å½• æœºå™¨å­¦ä¹ ç³»åˆ—10-æ‰‹å†™æ•°å­—è¯†åˆ«(Keras2.0) â€”â€”10_Keras æœºå™¨å­¦ä¹ ç³»åˆ—6-åˆ†ç±»é—®é¢˜(æ¦‚ç‡ç”Ÿæˆæ¨¡å‹) P16PyTorch Tutorial P8Optimization for Deep Learning (1_2) (é€‰å­¦)","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"}]},{"title":"JupyterHubæ­å»º","slug":"JupyterHubæ­å»º","date":"2020-11-15T14:08:52.000Z","updated":"2020-11-20T05:59:09.392Z","comments":true,"path":"2020/11/15/JupyterHubæ­å»º/","link":"","permalink":"https://nymrli.top/2020/11/15/JupyterHubæ­å»º/","excerpt":"","text":"ä¹‹å‰æ­å»ºçš„JupyterLabé€æ¸è¢«ä½¿ç”¨èµ·æ¥äº†, å•ç”¨æˆ·çš„æ¨¡å¼è¿˜æ˜¯ä¸å¤ªæ–¹ä¾¿, å› æ­¤å‡†å¤‡ç”¨JupyterHubæ¥åšä¸‹ç”¨æˆ·éš”ç¦» 1. å®‰è£…nodejså’Œnpm æŒ‰ç…§JupyterLabå®˜æ–¹æ•™ç¨‹, å…ˆæ˜¯å®‰è£…æœ€æ–°çš„nodejså’Œnpm, ä½†æ˜¯ç”±äº16.04çš„aptæºå®‰è£…çš„nodejsç‰ˆæœ¬æ¯”è¾ƒä¹…, å› æ­¤åœ¨åé¢çš„å®‰è£…ä¸­ä¼šæœ‰å‘, è¿™è¾¹æ ¹æ®ç½‘ä¸Šçš„æ•™ç¨‹æ‰‹åŠ¨å®‰è£…æœ€æ–°çš„nodejs 12$ curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -$ sudo apt-get install -y nodejs å®‰è£…æˆåŠŸåè¾“å…¥node --versionçœ‹åˆ°æœ‰ç‰ˆæœ¬è¿”å›è¾“å‡ºè¯æ˜å®‰è£…æˆåŠŸ, åŒæ—¶è¿™ç§æ–¹å¼ä¼šåŒæ—¶å®‰è£…npm, åŒæ ·npm --versionæµ‹è¯•npmå®‰è£…æˆåŠŸ 2. å®‰è£… 2.1 å®‰è£…è™šæ‹Ÿç¯å¢ƒ ç”±äºæˆ‘ä¸ªäººå–œæ¬¢è‡ªå·±é…ç½®è™šæ‹Ÿç¯å¢ƒ, å› æ­¤, æˆ‘å…ˆå®‰è£…è™šæ‹Ÿç¯å¢ƒã€‚ä½†é˜¿é‡Œäº‘ä¸Šçš„virtualenvå¤ªä¹…ä¸ç”¨ï¼Œç‰ˆæœ¬å¤ªè€äº†ï¼Œ å‡ºç°äº†ä½¿ç”¨virtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒæŠ¥é”™ error code 2ç°è±¡ï¼Œå› æ­¤é€šè¿‡ 1234sudo pip install setuptools #å®‰è£…setuptoolssudo pip install --upgrade setuptools #æ›´æ–°setuptoolsåˆ°æœ€æ–°ç‰ˆæœ¬sudo pip install virtualenv #å®‰è£…virtualenvsudo pip install --upgrade virtualenv #æ›´æ–°virtualenvåˆ°æœ€æ–°ç‰ˆæœ¬ æ¥æ›´æ–°setuptoolså’Œvirtualenvåˆ°æœ€æ–°çš„ç‰ˆæœ¬ 1$ virtualenv mlEnv 2.2 å®‰è£…jupyterhub æ ¹æ®å®˜æ–¹æ•™ç¨‹ï¼Œæœ‰ä¸¤ç§æ–¹å¼å®‰è£…ï¼špip å®‰è£… ; condaå®‰è£… 1234567# pipå®‰è£…$ python3 -m pip install jupyterhub$ sudo npm install -g configurable-http-proxy$ python3 -m pip install notebook # needed if running the notebook servers locally# condaå®‰è£…$ conda install -c conda-forge jupyterhub # installs jupyterhub and proxy$ conda install notebook # needed if running the notebook servers locally 2.2.1 é—®é¢˜1_è™šæ‹Ÿç¯å¢ƒ ä½†åœ¨å®‰è£…è¿‡ç¨‹ä¸­å‡ºç°äº†ä»¥ä¸‹æŠ¥é”™ 12ERROR: Could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/home/mrli/MLproject/mlEnv/lib/python3.5/site-packages/idna'Consider using the `--user` option or check the permissions. é€šè¿‡which pipå¯ä»¥çœ‹åˆ°æˆ‘ä½¿ç”¨çš„pipæ­£æ˜¯è™šæ‹Ÿç¯å¢ƒä¸‹çš„pip, åŒæ—¶æç¤ºä¸­çš„site-packagesæ–‡ä»¶å¤¹ä¹Ÿæ˜¯å­˜åœ¨çš„ã€‚ä¾¿æŒ‰ç…§æç¤ºåŠ ä¸Šäº†â€“userï¼Œ ä½†æ˜¯å‡ºç°äº†å¦‚ä¸‹æ–°æŠ¥é”™ERROR: Can not perform a '--user' install. User site-packages are not visible in this virtualenv. (æ³¨æ„, ä¸ç”¨åŠ sudoæ¥ä¿è¯æƒé™, åº”ä¸ºåŠ ä¸Šsudo pipå§åº“å®‰è£…åˆ°çš„è·¯å¾„æ˜¯åœ¨rootä¸‹çš„) ç»è¿‡æŸ¥è¯¢å‘ç°, æ˜¯å› ä¸ºæ•´ä¸ªè™šæ‹Ÿç¯å¢ƒä¸‹çš„æƒé™ä¸å¤Ÿ, å› æ­¤éœ€è¦åŠ æƒsudo chmod 777 -R mlEnv=&gt;é‚é—®é¢˜è§£å†³ æ°¸ä¹…æ›´æ”¹pipæºå’Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ 2.2.2 é—®é¢˜2_npmå®‰è£…æŠ¥é”™ æ‰§è¡Œsudo npm install -g configurable-http-proxyæ—¶æœ‰å¦‚ä¸‹æŠ¥é”™Error: EACCES: permission denied, access '/usr/lib/node_modules'å·²ç»åŠ ä¸Šäº†sudoä¹Ÿæ— æµäºäº‹ã€‚ ==&gt; é€šè¿‡nodeçš„npmæ— æ³•å®‰è£…ï¼ˆæ— æ³•è¿‡å¢™ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨é˜¿é‡Œçš„è‡ªå·±çš„cnpmè¿›è¡Œå®‰è£…sudo npm install -g cnpm --registry=https://registry.npm.taobao.org,ç„¶åå†è¾“å…¥sudo cnpm install -g configurable-http-proxyâ€“&gt;è§£å†³! 3. æµ‹è¯•å®‰è£…æˆåŠŸ jupyterhub -hã€ configurable-http-proxy -hæŸ¥çœ‹æ˜¯å¦æœ‰è¾“å‡º, jupyterhubç„¶ååœ¨https://localhost:8000ä¸­æŸ¥çœ‹ 4. é…ç½® ç”Ÿæˆé…ç½®æ–‡ä»¶ 12$ jupyterhub --generate-config -f /etc/jupyterhub/jupyterhub_config.py$ jupyterhub --generate-config # ä¼šåœ¨ä½ çš„å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªjupyterhub_config.pyæ–‡ä»¶, æˆ‘ä»¬åœ¨å…¶ä¸­é…ç½®æˆ‘ä»¬çš„ç½‘ç»œå’Œç”¨æˆ·ç®¡ç† 1234567891011121314c.JupyterHub.ip = '192.168.2.4' # æœ¬æœºå±€åŸŸç½‘çš„ipï¼Œè®°å¾—æ˜¯å±€åŸŸç½‘c.JupyterHub.port = 12443 # æŒ‡å®šæœåŠ¡ç«¯å£c.Spawner.ip = '127.0.0.1' c.PAMAuthenticator.encoding = 'utf8'c.Authenticator.whitelist = &#123;'root','admin', 'tv', 'aiker'&#125; #é»˜è®¤ä¸èƒ½ä½¿ç”¨rootç™»å½•ï¼Œéœ€è¦ä¿®æ”¹é…ç½®. è¿™é‡Œé¢éœ€è¦å°†linuxçš„ç”¨æˆ·åæ·»åŠ è¿›å…¥ï¼Œè¿™æ ·è¯¥ç”¨æˆ·å°±å¯ä»¥é€šè¿‡æµè§ˆå™¨åˆ©ç”¨linuxçš„ç”¨æˆ·åå’Œå¯†ç ç™»å½•è‡ªå·±çš„è´¦æˆ·ï¼Œjupyterhubé‡‡ç”¨å’Œlinuxç³»ç»Ÿç›¸åŒçš„è®¤è¯æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å¦å¤–å»ºç«‹ç”¨æˆ·ï¼Œåªéœ€è¦ç™»å½•linuxçš„ç”¨æˆ·å’Œå¯†ç å³å¯ ==&gt; ç”¨æˆ·ç™½åå•çš„ç”¨æˆ·ä¼šè‡ªåŠ¨æ·»åŠ ï¼Œä½†æ— å¯†. éœ€è¦ä¿®æ”¹å¯†éœ€è¦åˆ›å»ºlinuxç”¨æˆ·æ‰èƒ½ç™»å½•ï¼›c.LocalAuthenticator.create_system_users = Truec.Authenticator.admin_users = &#123;'root', 'admin'&#125; # æŒ‡å®šadminç”¨æˆ·c.JupyterHub.authenticator_class = 'dummyauthenticator.DummyAuthenticator'c.JupyterHub.statsd_prefix = 'jupyterhubc.Spawner.notebook_dir = '/volume1/study/' #jupyterhubè‡ªå®šä¹‰ç›®å½•c.JupyterHub.statsd_prefix = 'jupyterhub'c.JupyterHub.ssl_cert = '/usr/syno/etc/certificate/_archive/xYa1nX/fullchain.pem'c.JupyterHub.ssl_key = '/usr/syno/etc/certificate/_archive/xYa1nX/privkey.pem' é»˜è®¤æƒ…å†µä¸‹ï¼Œè¦çœŸæ­£çš„å®ç°åˆ†é…ç”¨æˆ·è´¦å·ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ç‚¹è¦æ±‚ï¼š c.Authenticator.whitelist æŒ‡å®šäº†ç”¨æˆ·å åœ¨ç³»ç»Ÿä¸­åˆ›å»ºäº†è¯¥ç”¨æˆ·ï¼ˆadduser / useraddï¼‰ tips: é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯†ç ä¸ºç³»ç»Ÿä¸­è¯¥ç”¨æˆ·å¯¹åº”çš„å¯†ç  ç”¨æˆ·ç®¡ç† ç”¨æˆ·ç™½åå•çš„ç”¨æˆ·ä¼šè‡ªåŠ¨æ·»åŠ ï¼Œä½†æ— å¯†ç ï¼Œéœ€è¦ä¿®æ”¹å¯†ç æ‰èƒ½ç™»å½•ï¼› æ–°æ·»åŠ ç”¨æˆ·ï¼šuseradd crxis -d /home/user/crxis -m ç”¨æˆ·æ·»åŠ ç»„ï¼šadduser crxis group1 ä¿®æ”¹ç”¨æˆ·å¯†ç ï¼šecho crxis:crxis|chpasswd 123456c.JupyterHub.admin_users = &#123;&apos;root&apos;, &apos;admin&apos;&#125;c.JupyterHub.bind_url = &apos;http://127.0.0.1:22223&apos;c.JupyterHub.hub_bind_url = &apos;http://127.0.0.1:22224&apos;c.JupyterHub.hub_port = 22225c.Authenticator.whitelist = &#123;&apos;root&apos;, &apos;mrli&apos;&#125;c.JupyterHub.hub_port = 22226 5. è¿è¡Œ åœ¨å­˜æ”¾jupyterhub_config.pyçš„æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œjupyterhubå¯åŠ¨æœåŠ¡ é…ç½®æŸ¥çœ‹: https://blog.51cto.com/m51cto/2370679â€”â€”GPUå‘, é…ç½®githubç™»å…¥ é™„å½•: ä¿®æ”¹pipé»˜è®¤æº: 1$ vim ~/.pip/pip.conf # å¦‚æœå½“å‰ç”¨æˆ·æ²¡æœ‰.pipæ–‡ä»¶å¤¹, åˆ™åˆ›å»ºä¸€ä¸ª æ·»åŠ ä¸‹åˆ—å†…å®¹ 123456[global]index-url = http://pypi.douban.com/simple[install]use-mirrors =truemirrors =http://pypi.douban.com/simple/trusted-host =pypi.douban.com Linuxä¸Šå®‰è£…æœ€æ–°ç‰ˆçš„Python æŸ¥çœ‹ Python çš„ç‰ˆæœ¬å·ï¼špython2 -V, python3 -V ä¸‹è½½3.xæ–°ç‰ˆæœ¬ å¯ä»¥è®¿é—®pythonçš„å®˜æ–¹ç½‘ç«™æŸ¥çœ‹æœ€æ–°çš„pythonç‰ˆæœ¬ä»¥åŠä¸‹è½½é“¾æ¥ï¼šhttps://www.python.org/downloads/ï¼Œå°†é¼ æ ‡ç§»åˆ°æƒ³è¦å®˜ç½‘ä¸Šæƒ³è¦ä¸‹è½½çš„ç‰ˆæœ¬å·ä¸Šå°±å¯ä»¥çœ‹åˆ°ä¸‹è½½åœ°å€ï¼Œä¾‹å¦‚æˆ‘éœ€è¦åœ¨Linuxä¸‹å®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªé“¾æ¥ï¼šhttps://www.python.org/ftp/python/3.8.5/Python-3.8.5.tgzï¼ˆå¦‚æœæƒ³è¦ä¸‹è½½å…¶ä»–ç‰ˆæœ¬ï¼Œç›´æ¥ä¿®æ”¹ç‰ˆæœ¬å·å³å¯ï¼‰ã€‚æ‰¾åˆ°ä¸‹è½½åœ°å€åï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼šwget https://www.python.org/ftp/python/3.8.5/Python-3.8.5.tgz ä¸‹è½½å®Œæˆåè§£å‹ç¼©tar -zxvf Python-3.8.5.tgz ä¸‹è½½å®Œæˆåè§£å‹ç¼©cd Python-3.8.5/; ./configure, ç”±äºä½¿ç”¨3.8å‡ºç°äº†virtualenvæ— æ³•ä½¿ç”¨çš„æƒ…å†µ, å› æ­¤éœ€è¦å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹: ä¿®æ”¹Python-3.8.5/Modulesè·¯å¾„çš„Setupæ–‡ä»¶: sudo vim Setup: ç¼–è¯‘sudo make; sudo make install ä½†æ˜¯å‘ç°ä¿®æ”¹åæŠ¥é”™ç¼ºå°‘xxssl.hçš„å¤´æ–‡ä»¶, wget https://www.openssl.org/source/openssl-1.0.2h.tar.gz tar zxf openssl-1.0.2h.tar.gz; cd openssl-1.0.2h ./config shared zlib; make depend sudo make; sudo make install æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ: openssl version -a â–².å†æ¬¡åˆ°pythonä¸­make install, æŠ¥é”™: subprocess.CalledProcessError: Command â€˜(â€˜lsb_releaseâ€™, â€˜-aâ€™)â€™ returned non-zero exit status 1. è§£å†³æ–¹æ³• find /usr/bin -name lsb_release sudo rm -rf /usr/bin/lsb_release æ­¤æ—¶å†åˆ°Python/ä¸­make installå³å¯","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"}]},{"title":"GithubActions","slug":"GithubAction","date":"2020-11-12T08:20:54.000Z","updated":"2021-11-08T02:34:00.211Z","comments":true,"path":"2020/11/12/GithubAction/","link":"","permalink":"https://nymrli.top/2020/11/12/GithubAction/","excerpt":"","text":"GitHub Actions æ˜¯ GitHub çš„æŒç»­é›†æˆæœåŠ¡ï¼Œäº2018å¹´10æœˆæ¨å‡ºã€‚ GitHub Actions æ˜¯ä»€ä¹ˆï¼Ÿ å¤§å®¶çŸ¥é“ï¼ŒæŒç»­é›†æˆç”±å¾ˆå¤šæ“ä½œç»„æˆï¼Œæ¯”å¦‚æŠ“å–ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•è¿œç¨‹æœåŠ¡å™¨ï¼Œå‘å¸ƒåˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ç­‰ç­‰ã€‚GitHub æŠŠè¿™äº›æ“ä½œå°±ç§°ä¸º actionsã€‚ å¾ˆå¤šæ“ä½œåœ¨ä¸åŒé¡¹ç›®é‡Œé¢æ˜¯ç±»ä¼¼çš„ï¼Œå®Œå…¨å¯ä»¥å…±äº«ã€‚GitHub æ³¨æ„åˆ°äº†è¿™ä¸€ç‚¹ï¼Œæƒ³å‡ºäº†ä¸€ä¸ªå¾ˆå¦™çš„ç‚¹å­ï¼Œå…è®¸å¼€å‘è€…æŠŠæ¯ä¸ªæ“ä½œå†™æˆç‹¬ç«‹çš„è„šæœ¬æ–‡ä»¶ï¼Œå­˜æ”¾åˆ°ä»£ç ä»“åº“ï¼Œä½¿å¾—å…¶ä»–å¼€å‘è€…å¯ä»¥å¼•ç”¨ã€‚ å¦‚æœä½ éœ€è¦æŸä¸ª actionï¼Œä¸å¿…è‡ªå·±å†™å¤æ‚çš„è„šæœ¬ï¼Œç›´æ¥å¼•ç”¨ä»–äººå†™å¥½çš„ action å³å¯ï¼Œæ•´ä¸ªæŒç»­é›†æˆè¿‡ç¨‹ï¼Œå°±å˜æˆäº†ä¸€ä¸ª actions çš„ç»„åˆã€‚è¿™å°±æ˜¯ GitHub Actions æœ€ç‰¹åˆ«çš„åœ°æ–¹ã€‚ GitHub åšäº†ä¸€ä¸ªå®˜æ–¹å¸‚åœºï¼Œå¯ä»¥æœç´¢åˆ°ä»–äººæäº¤çš„ actionsã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª awesome actions çš„ä»“åº“ï¼Œä¹Ÿå¯ä»¥æ‰¾åˆ°ä¸å°‘ actionã€‚ åŸºç¡€åè¯æ¦‚å¿µ GitHub Actions æœ‰ä¸€äº›è‡ªå·±çš„æœ¯è¯­ã€‚ ï¼ˆ1ï¼‰workflow ï¼ˆå·¥ä½œæµç¨‹ï¼‰ï¼šæŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ª workflowã€‚ ï¼ˆ2ï¼‰job ï¼ˆä»»åŠ¡ï¼‰ï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª jobs æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚ ï¼ˆ3ï¼‰stepï¼ˆæ­¥éª¤ï¼‰ï¼šæ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚æ¯ä¸ª stepå¯ä»¥å®šä¹‰è‡ªå·±çš„ nameå’Œidï¼Œé€šè¿‡ uses å¯ä»¥å£°æ˜ä½¿ç”¨ä¸€ä¸ªå…·ä½“çš„ actionï¼Œé€šè¿‡run å£°æ˜éœ€è¦æ‰§è¡Œå“ªäº›æŒ‡ä»¤ã€‚ ï¼ˆ4ï¼‰action ï¼ˆåŠ¨ä½œï¼‰ï¼šæ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆactionï¼‰ã€‚ GitHub Actionsé˜®ä¸€å³° å…·ä½“å†…å®¹è¯´æ˜: nameè‡ªåŠ¨æ„å»ºçš„åå­— onè§¦å‘æ¡ä»¶ watchç›‘è§† type:started ç±»å‹ï¼šç‚¹å‡»äº†æ˜Ÿæ ‡ ä¹Ÿå¯ä»¥æ˜¯æ•°ç»„ï¼š [push, pull_request] 123456push: # pushè§¦å‘ branches: [ main ]workflow_dispatch: # æ‰‹åŠ¨è§¦å‘schedule: # è®¡åˆ’ä»»åŠ¡è§¦å‘ #- cron: '*/30 20-23,0-15 * * *' # cronè¡¨è¾¾å¼ï¼ŒActionsæ—¶åŒºæ˜¯UTCæ—¶é—´ï¼Œæ‰€ä»¥è¦å¾€å‰æ¨8ä¸ªå°æ—¶(4-23) - cron: '0 */1 * * *' envç¯å¢ƒå˜é‡ jobsä»»åŠ¡ buildå·¥ä½œçš„id run-onå·¥ä½œè¿è¡Œçš„ç¯å¢ƒå¹³å°:å¯ç”¨çš„è™šæ‹Ÿæœºç±»å‹å¦‚ä¸‹ï¼š 123ubuntu-latestï¼Œubuntu-18.04 æˆ– ubuntu-16.04windows-latestï¼Œwindows-2019 æˆ– windows-2016macOS-latest æˆ– macOS-10.14 ifå·¥ä½œè¿è¡Œçš„åˆ¤æ–­ steps åŒ…å«ä¸€ç³»åˆ—ä»»åŠ¡æ­¥éª¤ nameï¼šå­ä»»åŠ¡å uses ï¼šä½¿ç”¨å®˜æ–¹çš„ä¸€äº›actionåº“å®Œæˆä¸€äº›æ“ä½œ runï¼š è¿è¡Œè„šæœ¬ idï¼š è¿è¡Œstepçš„idâ€”â€”ç”¨æ¥è®¾ç½®ç¯å¢ƒå˜é‡æ‰€ç”¨ï¼šjobs.&lt;job_id&gt;.steps.envï¼Œsteps.&lt;step id&gt;.outputsï¼Œå†å¦‚ï¼šrun: echo &quot;The time was $&quot;ï¼Œæ­¤å¤„çš„helloå°±æ˜¯ä¸Šä¸€æ­¥idä¸ºhelloçš„step æ³¨ï¼šæ¯ä¸ªstepåçš„è·¯å¾„æ˜¯ä¸ç›¸å…³çš„ï¼Œå®šä¹‰æ¯ä¸ªstepæ—¶é»˜è®¤çš„å·¥ä½œç›®å½•éƒ½æ˜¯æ ¹ç›®å½• strategyï¼šGitHub Actions ä¼šå°† matrix ä¸­çš„æ¯ä¸ªå‚æ•°æ’åˆ—ç»„åˆï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„è¿è¡Œå®ä¾‹ã€‚ workflow æ–‡ä»¶ GitHub Actions çš„é…ç½®æ–‡ä»¶å«åš workflow æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä»£ç ä»“åº“çš„.github/workflowsç›®å½•ã€‚ workflow æ–‡ä»¶é‡‡ç”¨ YAML æ ¼å¼ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ï¼Œä½†æ˜¯åç¼€åç»Ÿä¸€ä¸º.ymlï¼Œæ¯”å¦‚foo.ymlã€‚ä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª workflow æ–‡ä»¶ã€‚GitHub åªè¦å‘ç°.github/workflowsç›®å½•é‡Œé¢æœ‰.ymlæ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚ ç»¼ä¸Š, Github actionsé…åˆGithubPagesä¼šéå¸¸æ–¹ä¾¿ ä»€ä¹ˆæ˜¯ GitHub Pages? æ‰“å¼€ GitHub Pages çš„é¦–é¡µæˆ‘ä»¬ä¼šçœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»–å¯ä»¥å½“åšä½ æˆ–è€…ä½ çš„é¡¹ç›®çš„ Websitesï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çŸ¥é“ GitHub Pages æœ‰ä¸¤ç§æœ€åŸºæœ¬çš„ç”¨æ³•ï¼š ä½œä¸ºä½ è‡ªå·±ï¼ˆæˆ–è€…ç»„ç»‡ï¼‰çš„ç½‘ç«™ï¼ˆè®¿é—®åœ°å€ç¤ºä¾‹ï¼šhttp://username.github.ioï¼‰ ä½œä¸ºä½ æŸä¸€ä¸ªé¡¹ç›®çš„ç½‘ç«™ï¼ˆè®¿é—®åœ°å€ç¤ºä¾‹ï¼šhttp://username.github.io/projectnameï¼‰ ç”±äºæ€§èƒ½ä¸å¤ªå¥½, å› æ­¤æœ€ä¸»è¦çš„ç”¨é€”æ˜¯ä½œä¸ºéƒ¨ç½²é™æ€ç½‘é¡µ, ç»™demoå±•ç¤º: åš demo å±•ç¤ºä¸åŒäºåšé¡¹ç›®å¼€å‘, æˆ‘ä»¬éœ€è¦çš„æ˜¯å¿«é€Ÿè½»ä¾¿çš„å¼€å‘å’Œéƒ¨ç½², è€Œä¸æ˜¯å®Œå¤‡çš„ä¸€æ•´å¥—å¼€å‘æµç¨‹. Github pages çš„å¥½å¤„ ä½¿ç”¨é›¶æˆæœ¬: github pages é›†æˆåœ¨ github ä¸­, ç›´æ¥å’Œä»£ç ç®¡ç†ç»‘å®šåœ¨ä¸€èµ·, éšç€ä»£ç æ›´æ–°è‡ªåŠ¨é‡æ–°éƒ¨ç½², ä½¿ç”¨éå¸¸æ–¹ä¾¿. å…è´¹: å…è´¹æä¾› username.github.io çš„åŸŸå, å…è´¹çš„é™æ€ç½‘ç«™æœåŠ¡å™¨. æ— æ•°é‡é™åˆ¶: github pages æ²¡æœ‰ä½¿ç”¨çš„æ•°é‡é™åˆ¶, æ¯ä¸€ä¸ª github repository éƒ½å¯ä»¥éƒ¨ç½²ä¸ºä¸€ä¸ªé™æ€ç½‘ç«™. workflowDemo å®˜æ–¹demo é»˜è®¤çš„ç”Ÿæˆæ¨¡æ¿: ä¼šåœ¨ä»“åº“çš„./github/workflowsç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.ymlçš„æ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536# This is a basic workflow to help you get started with Actionsname: CI# Controls when the action will run. Triggers the workflow on push or pull request# events but only for the main branchon: push: branches: [ main ] pull_request: branches: [ main ]# A workflow run is made up of one or more jobs that can run sequentially or in paralleljobs: # This workflow contains a single job called \"build\"â€”â€”ä»»åŠ¡å build: # The type of runner that the job will run on # To set the operating system for your job, specify the operating system using runs-on: ubuntu-latest, ubuntu-18.04, or ubuntu-16.04ã€windows-latest or windows-2019ã€macos-latest or macos-10.15 runs-on: ubuntu-latest # Steps represent a sequence of tasks that will be executed as part of the job steps: # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it # æ£€å‡ºï¼Œ å°†ä»£ç ä»ä»£ç åº“ä¸­æ‹‰ä¸‹æ¥ï¼Œ ç„¶åå¤åˆ¶åˆ°æœ¬åœ°çš„è™šæ‹Ÿæœºä¸Š - uses: actions/checkout@v2 # Runs a single command using the runners shell # ç»™æ“ä½œâ€”â€”run, èµ·ä¸ªæ“ä½œåâ€”â€”name - name: Run a one-line script run: echo Hello, world! # Runs a set of commands using the runners shell - name: Run a multi-line script run: | echo Add other actions to build, echo test, and deploy your project. BiliBiliToolçš„workflow 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950name: bilibili-daily-taskon: push: # pushè§¦å‘ branches: [ main ] workflow_dispatch: # æ‰‹åŠ¨è§¦å‘ schedule: # è®¡åˆ’ä»»åŠ¡è§¦å‘ - cron: '10 6 * * *' # cronè¡¨è¾¾å¼ï¼ŒActionsæ—¶åŒºæ˜¯UTCæ—¶é—´ï¼Œæ‰€ä»¥è¦å¾€å‰æ¨8ä¸ªå°æ—¶,å¦‚ä¸Šè¡¨ç¤ºæ¯å¤©14ç‚¹10åˆ† jobs: run-bilibili-tool: runs-on: ubuntu-latest steps: # æ£€å‡º - name: Checkout uses: actions/checkout@v2 # è®¾ç½®æœåŠ¡å™¨æ—¶åŒºä¸ºä¸œå…«åŒº - name: Set time zone run: sudo timedatectl set-timezone 'Asia/Shanghai' # .Net Core ç¯å¢ƒ - name: Setup .NET Core uses: actions/setup-dotnet@v1 with: dotnet-version: 3.1.301 # å®‰è£…ä¾èµ– - name: Install dependencies run: dotnet restore # æ„å»ºåº”ç”¨ - name: Build run: dotnet build --configuration Release --no-restore # è¿è¡Œ - name: Run # envæ˜¯ä»ä»“åº“settingsçš„secretsä¸­å–å€¼ env: userId: $&#123;&#123;secrets.USERID&#125;&#125; sessData: $&#123;&#123;secrets.SESSDATA&#125;&#125; biliJct: $&#123;&#123;secrets.BILIJCT&#125;&#125; otherConfigs: $&#123;&#123;secrets.OTHERCONFIGS&#125;&#125; run: dotnet run -p ./src/Ray.BiliBiliTool.Console -userId=$&#123;userId&#125; -sessData=$&#123;sessData&#125; -biliJct=$&#123;biliJct&#125; -closeConsoleWhenEnd=1 $&#123;otherConfigs&#125; è”é€šWorkflow https://github.com/simo8102/88-AutoSignMachine/blob/main/.github/workflows/main.yml#L11 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778 name: è”é€šæŒ‚æœºä»»åŠ¡ç§¯åˆ†è„šæœ¬on: push: # pushè§¦å‘ branches: [ main ] workflow_dispatch: # æ‰‹åŠ¨è§¦å‘ schedule: # è®¡åˆ’ä»»åŠ¡è§¦å‘ #- cron: '*/30 20-23,0-15 * * *' # cronè¡¨è¾¾å¼ï¼ŒActionsæ—¶åŒºæ˜¯UTCæ—¶é—´ï¼Œæ‰€ä»¥è¦å¾€å‰æ¨8ä¸ªå°æ—¶(4-23) - cron: '0 */1 * * *' jobs: daily-task: if: github.event.repository.owner.id == github.event.sender.id runs-on: ubuntu-latest strategy: matrix: node-version: [12] node-registry: ['https://registry.npmjs.org'] steps: # æ£€å‡º - name: Checkout uses: actions/checkout@v2 # è®¾ç½®æœåŠ¡å™¨æ—¶åŒºä¸ºä¸œå…«åŒº - name: Set time zone run: sudo timedatectl set-timezone 'Asia/Shanghai' - name: Use Node.js $&#123;&#123; matrix.node-version &#125;&#125; uses: actions/setup-node@v1 with: node-version: $&#123;&#123; matrix.node-version &#125;&#125; registry-url: $&#123;&#123; matrix.node-registry &#125;&#125; - name: Get npm cache directory id: npm-cache run: | echo \"::set-output name=dir::$(npm config get cache)\" - name: restore npm cache uses: actions/cache@v2 id: use-npm-cache with: path: $&#123;&#123; steps.npm-cache.outputs.dir &#125;&#125; key: $&#123;&#123; runner.os &#125;&#125;-node-$&#123;&#123; hashFiles('**/package-lock.json') &#125;&#125; - name: restore npm dependencies uses: actions/cache@v2 id: use-npm-depends with: path: | node_modules */*/node_modules key: $&#123;&#123; runner.os &#125;&#125;-depends-$&#123;&#123; hashFiles('**/package-lock.json') &#125;&#125; - name: restore task cache uses: actions/cache@v2 id: use-task-cache with: path: | /home/runner/.AutoSignMachine key: $&#123;&#123; runner.os &#125;&#125;-task-$&#123;&#123; hashFiles('**/package-lock.json') &#125;&#125; - name: Install dependencies if: steps.use-npm-cache.outputs.cache-hit != 'true' || steps.use-npm-depends.outputs.cache-hit != 'true' run: npm install # è¿è¡Œ unicom ç­¾åˆ°ä»»åŠ¡ - name: Run unicom daily task env: user: $&#123;&#123;secrets.unicom_user&#125;&#125; password: $&#123;&#123;secrets.unicom_password&#125;&#125; appid: $&#123;&#123;secrets.unicom_appid&#125;&#125; notify_sctkey: $&#123;&#123;secrets.NOTIFY_SCKEY&#125;&#125; run: node index.js unicom --user=$&#123;user&#125; --password=$&#123;password&#125; --appid=$&#123;appid&#125; å‹ç¼©æ‰“åŒ…çš„actionï¼šarchive-action å¤åˆ¶æ–‡ä»¶åˆ°å¦ä¸€ä¸ªä»“åº“ï¼šcopy_file_to_another_repo_action é™„å½•ï¼š å¥½ç”¨çš„Github Actionåº“ æ„å»ºæš‚å­˜åŒº ä¸Šä¼ æ–‡ä»¶åˆ°Github Actionå·¥ä½œåŒº æ ¹æ®ä¸Šä¼ çš„tagå°†å·¥ä½œåŒºæ–‡ä»¶å‘å¸ƒæˆreleaseï¼šsoftprops/action-gh-releaseï¼š åœ¨ç½‘é¡µç«¯ä¸Šä¼ releaseçš„æ—¶å€™ï¼Œä¹Ÿä¼šæœ‰tagé€‰æ‹©ï¼Œtagè¢«ç”¨æ¥æŒ‡æ˜å’ŒåŒºåˆ†è½¯ä»¶å¼€å‘ä¸­çš„å…³é”®æ—¶æœŸï¼Œæ¯”å¦‚ç‰ˆæœ¬å·æ›´æ–°çš„æ—¶å€™å¯ä»¥åˆ›å»ºtagæ¥åŒºåˆ† åˆ›å»ºæœ¬åœ°tagï¼šgit tag -a v2.0 -m &quot;msg&quot; ä¸Šä¼ tagï¼š git push origin v2.0 åˆ é™¤æœ¬åœ°tagï¼šgit tag -d v2.0 åˆ é™¤è¿œç¨‹tagï¼šgit push origin :refs/tags/v2.0 è¿™ä¸ªåŠ¨ä½œçš„å…¸å‹ç”¨æ³•æ˜¯åœ¨è¢«æ¨é€åˆ°gitæ ‡ç­¾ä¸Šçš„Commitçš„æ„å»ºè¿‡ç¨‹ä¸­æ·»åŠ ä¸€ä¸ªæ­¥éª¤ï¼Œè¯¥æ­¥éª¤å°†ä¼šæŠŠæŒ‡å®šçš„æ–‡ä»¶å‘å¸ƒæˆrelease æŸä¸ªcommitæƒ³è¦å‘å¸ƒæ—¶ï¼Œéœ€è¦æ‰“tagï¼Œæ•´ä½“æ“ä½œå¦‚ä¸‹ï¼š 12345678# æäº¤ã€æ ‡è®°å’Œæ¨é€æ“ä½œåˆ° GitHub# ä»æ‚¨çš„ç»ˆç«¯ï¼Œæäº¤ action.ymlã€entrypoint.shã€Dockerfile å’Œ README.md æ–‡ä»¶ã€‚# æœ€ä½³åšæ³•æ˜¯åŒæ—¶ä¸ºæ“ä½œç‰ˆæœ¬æ·»åŠ ç‰ˆæœ¬æ ‡è®°ã€‚ æœ‰å…³å¯¹æ“ä½œè¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œå…³äºæ“ä½œâ€ã€‚ https://docs.github.com/cn/actions/creating-actions/creating-a-docker-container-actionShellgit add action.yml entrypoint.sh Dockerfile README.mdgit commit -m \"My first action is ready\"git tag -a -m \"My first action release\" v1git push --follow-tags # ç­‰ä»·äºgit push ä¸ git push origin v1 åˆä½“ ä¸Šè¿°ä¸¤è€…å¯ä»¥é…åˆä½¿ç”¨ï¼Œå³åœ¨ä½œä¸šä¹‹é—´å…±äº«æ•°æ®ï¼Œæ‰€è°“çš„å·¥ä½œåŒºæ˜¯Githubåœ¨workflowä¸­æä¾›ç»™æ„å»ºå­˜å‚¨çš„ç©ºé—´ï¼šåœ¨ä½œä¸šä¹‹é—´å…±äº«æ•°æ® å·¥ä½œæµç¨‹å‘½ä»¤ æ‚¨å¯ä»¥åœ¨Github Actionä¸­å·¥ä½œæµç¨‹æˆ–æ“ä½œä»£ç ä¸­è¿è¡Œ shell å‘½ä»¤æ—¶ï¼Œä½¿ç”¨å·¥ä½œæµç¨‹å‘½ä»¤ã€‚ å…³äºå·¥ä½œæµç¨‹å‘½ä»¤ï¼šæ“ä½œå¯ä»¥ä¸è¿è¡Œå™¨æœºå™¨è¿›è¡Œé€šä¿¡ï¼Œä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå…¶ä»–æ“ä½œä½¿ç”¨çš„è¾“å‡ºå€¼ï¼Œå°†è°ƒè¯•æ¶ˆæ¯æ·»åŠ åˆ°è¾“å‡ºæ—¥å¿—å’Œå…¶ä»–ä»»åŠ¡ã€‚å¤§å¤šæ•°å·¥ä½œæµç¨‹å‘½ä»¤ä½¿ç”¨ç‰¹å®šæ ¼å¼çš„ echo å‘½ä»¤ï¼Œè€Œå…¶ä»–å·¥ä½œæµç¨‹åˆ™é€šè¿‡å†™å…¥æ–‡ä»¶è¢«è°ƒç”¨ã€‚ æ›´å¤šä¿¡æ¯è¯·å‚é˜…â€œç¯å¢ƒæ–‡ä»¶â€ã€‚ è®¾ç½®è¾“å‡ºå‚æ•° ::set-output name={name}::{value}è®¾ç½®æ“ä½œçš„è¾“å‡ºå‚æ•°ï¼Œå¦‚echo &quot;::set-output name=action_fruit::strawberry&quot; å…·ä½“çš„ä¾‹å­ï¼šè„šæœ¬éœ€è¦è·å–å½“å‰æ—¶é—´å¹¶å°†å…¶è®¾ç½®ä¸º(ä½œä¸šä¸­ç¨åè¿è¡Œçš„æ“ä½œå¯ä»¥ä½¿ç”¨çš„è¾“å‡ºå˜é‡)ã€‚ ä¸ºä¾¿äº GitHub è¯†åˆ«è¾“å‡ºå˜é‡ï¼Œ æ‚¨å¿…é¡»ä»¥ç‰¹å®šè¯­æ³•ä½¿ç”¨å·¥ä½œæµç¨‹å‘½ä»¤ï¼š echo &quot;::set-output name=&lt;output name&gt;::&lt;value&gt;&quot;ã€‚ åœ¨ä½œä¸šä¹‹é—´å…±äº«æ•°æ® 12345678910111213# ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åå°†å…¶ä½œä¸ºæ„ä»¶ä¸Šä¼ ã€‚jobs: example-job: name: Save output steps: - shell: bash run: | expr 1 + 1 &gt; output.log - name: Upload output file uses: actions/upload-artifact@v2 with: name: output-log-file path: output.log 12345678# è¦ä»å•ç‹¬çš„å·¥ä½œæµç¨‹è¿è¡Œä¸‹è½½æ„ä»¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `actions/download-artifact` æ“ä½œã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä¸‹è½½åä¸º `output-log-file` çš„æ„ä»¶ã€‚jobs: example-job: steps: - name: Download a single artifact uses: actions/download-artifact@v2 with: name: output-log-file 10 ä¸ªä½ è¯¥äº†è§£çš„ GitHub Actions è¿›é˜¶æŠ€å·§ Job ç¼–æ’é€šè¿‡needså…³é”®å­—æ§åˆ¶æ‰§è¡Œé¡ºåº workflow æ‰§è¡Œæ—¶ï¼Œä¼ å…¥å‚æ•° å¸¸ç”¨onè§£æ å¼€å‘ä¸€ä¸ª Action å¾ˆç®€å• ä¸€ä¸ª Action å°±æ˜¯ä¸€ä¸ªå¤„ç†é€»è¾‘ï¼Œæ¥æ”¶è¾“å…¥å‚æ•°ï¼Œæ‰§è¡Œä¸€å®šçš„é€»è¾‘ï¼Œç„¶åè¾“å‡ºå‚æ•° æœ‰ä¸‰ç§ç±»å‹çš„ Actionåˆ›å»ºæ–¹å¼ï¼š Docker container, é€‚ç”¨ Linux ç³»ç»Ÿ æœ€å°çš„å¯ä»¥ç”±4ä¸ªå†…å®¹ç»„æˆï¼šDockerfileã€README.mdã€entrypoint.shã€action.yml(æ“ä½œå…ƒæ•°æ®æ–‡ä»¶)ï¼Œé€šè¿‡dockerå®¹å™¨åˆ›å»ºactionçš„demoï¼šhttps://docs.github.com/cn/actions/creating-actions/creating-a-docker-container-action ä¾‹å­copy_file_to_another_repo_actionï¼šhttps://github.com/Ca11back/copy_file_to_another_repo_action/tree/add-commit-msg-test JavaScript, é€‚ç”¨ Linuxã€macOSã€Windows ç³»ç»Ÿï¼šé€šè¿‡æ‰§è¡Œ JavaScript å¤„ç† Action é€»è¾‘ã€‚å®˜æ–¹æä¾›äº† JavaScript å’Œ TypeScript çš„ Action æ¨¡æ¿ã€‚åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œä½¿ç”¨æ¨¡æ¿åˆ›å»ºï¼Œç„¶åç¼–å†™å¤„ç†é€»è¾‘ï¼Œå‘å¸ƒè‡ªå·±çš„ Action å³å¯ã€‚ setup-javaï¼šhttps://github.com/actions/setup-java actions-download-artifactï¼šhttps://github.com/aochmann/actions-download-artifact Github action çš„å¼€å‘åˆ°å‘å¸ƒ Composite run steps, é€‚ç”¨ Linux, macOS, Windows ç³»ç»Ÿ archive-actionï¼šhttps://github.com/ihiroky/archive-action â–²å…ƒæ•°æ®è¯­æ³• ç¯å¢ƒå˜é‡($GITHUB_XXX)ï¼šhttps://docs.github.com/cn/actions/learn-github-actions/environment-variables github.xxx.yyy ä¸Šä¸‹æ–‡ï¼š 12345678name: CIon: pushjobs: prod-check: if: $&#123;&#123; github.ref == 'refs/heads/main' &#125;&#125; runs-on: ubuntu-latest steps: - run: echo \"Deploying to production server on branch $GITHUB_REF\" åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œif è¯­å¥æ£€æŸ¥ github.ref ä¸Šä¸‹æ–‡ä»¥ç¡®å®šå½“å‰åˆ†æ”¯åç§°ï¼›å¦‚æœåç§°æ˜¯ refs/heads/mainï¼Œåˆ™æ‰§è¡Œåç»­æ­¥éª¤ã€‚ if æ£€æŸ¥ç”± GitHub Actions å¤„ç†ï¼Œä½œä¸šä»…åœ¨ç»“æœä¸º true æ—¶æ‰å‘é€åˆ°è¿è¡Œå™¨ã€‚ ä½œä¸šå‘é€åˆ°è¿è¡Œå™¨åï¼Œ è¯¥æ­¥éª¤å°†æ‰§è¡Œå¹¶å¼•ç”¨è¿è¡Œå™¨çš„ $GITHUB_REF ç¯å¢ƒå˜é‡ã€‚ æœ¯è¯­ä»‹ç» action ï¼š workflowæœ€å°æ‰§è¡Œå•å…ƒ Artifact ï¼š workflowè¿è¡Œï¼Œäº§ç”Ÿçš„ä¸­é—´æ–‡ä»¶ï¼ŒåŒ…æ‹¬æ—¥å¿—ã€æµ‹è¯•ç»“æœç­‰ Continuous integration (CI)ï¼šè‡ªåŠ¨æ„å»ºã€æµ‹è¯• Continuous deployment (CD)ï¼š è‡ªåŠ¨éƒ¨ç½² Event: è§¦å‘workflow GitHub-hosted runnerï¼šgithutå¹³å°çš„è™šæ‹Ÿæœº Job: workflowçš„åˆ†è§£ï¼Œå¯ä¸²è¡Œå­˜åœ¨ä¾èµ–ï¼›å¯å¹¶è¡Œ Runnerï¼š è¿è¡Œç¯å¢ƒ Self-hosted runnerï¼š å¼€å‘è€…è‡ªå·±çš„è¿æ–°ç¯å¢ƒ Step: jobçš„åˆ†è§£ Github Action è§¦å‘å·¥ä½œæµç¨‹ ä»¥ä¸‹æ­¥éª¤å°†è§¦å‘å·¥ä½œæµç¨‹è¿è¡Œï¼š ä»“åº“ä¸­å‘ç”Ÿäº‹ä»¶ï¼Œç”Ÿæˆçš„äº‹ä»¶å…·æœ‰å…³è”çš„æäº¤ SHA å’Œ Git refã€‚ åœ¨ä»“åº“çš„ .github/workflow ç›®å½•ä¸­å…³è”çš„æäº¤ SHA æˆ– Git ref å¤„æœç´¢å·¥ä½œæµç¨‹æ–‡ä»¶ã€‚ å·¥ä½œæµç¨‹æ–‡ä»¶å¿…é¡»å­˜åœ¨äºè¯¥æäº¤ SHA æˆ– Git ref ä¸­æ‰ä¼šè¢«è€ƒè™‘ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœäº‹ä»¶å‘ç”Ÿåœ¨ç‰¹å®šä»“åº“åˆ†æ”¯ä¸Šï¼Œåˆ™å·¥ä½œæµç¨‹æ–‡ä»¶å¿…é¡»å­˜åœ¨äºè¯¥åˆ†æ”¯çš„ä»“åº“ä¸­ã€‚ æ£€æŸ¥è¯¥æäº¤ SHA å’Œ Git ref çš„å·¥ä½œæµç¨‹æ–‡ä»¶ï¼Œ å¹¶ä¸”å¯¹å…¶ on: å€¼ä¸è§¦å‘äº‹ä»¶åŒ¹é…çš„ä»»ä½•å·¥ä½œæµç¨‹è§¦å‘æ–°çš„å·¥ä½œæµç¨‹ã€‚ å·¥ä½œæµç¨‹åœ¨è§¦å‘äº‹ä»¶çš„ç›¸åŒæäº¤ SHA å’Œ Git ref ä¸Šçš„ä»“åº“ä»£ç ä¸­è¿è¡Œã€‚ å½“å·¥ä½œæµç¨‹è¿è¡Œæ—¶ï¼ŒGitHub ä¼šåœ¨è¿è¡Œå™¨ç¯å¢ƒä¸­è®¾ç½® GITHUB_SHAï¼ˆæäº¤ SHAï¼‰å’Œ GITHUB_REFï¼ˆGit å¼•ç”¨ï¼‰ç¯å¢ƒå˜é‡ã€‚ æ›´å¤šä¿¡æ¯è¯·å‚é˜…â€œä½¿ç”¨ç¯å¢ƒå˜é‡â€ã€‚ é‡‡å‘è®°å½• æ¯ä¸ªstepåçš„è·¯å¾„æ˜¯ä¸ç›¸å…³çš„ï¼Œå®šä¹‰æ¯ä¸ªstepæ—¶é»˜è®¤çš„å·¥ä½œç›®å½•éƒ½æ˜¯æ ¹ç›®å½• pyinstalleræ‰“åŒ…çš„ç¨‹åºä¸èƒ½è·¨å¹³å°æ‰§è¡Œï¼Œå¦‚æœéœ€è¦åŒæ—¶ç”Ÿæˆlinuxå’Œwindowsçš„å¯ä»¥ymlä¸ŠåŠ ä¸Šstrategy:matrix(GitHub Actions ä¼šå°† matrix ä¸­çš„æ¯ä¸ªå‚æ•°æ’åˆ—ç»„åˆï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„è¿è¡Œå®ä¾‹ã€‚)ï¼Œå¤§ä½¬ç¤ºä¾‹ï¼šbuild.yml æœ‰è·¨å¹³å°çš„æ‰“åŒ…action:archive-action entrypoint.shéœ€è¦æ‰§è¡Œæƒé™ 1- `if: github.event.repository.owner.id == github.event.sender.id`ï¼Œä»“åº“æ‰€æœ‰è€…ID == äº‹ä»¶è§¦å‘è€…IDï¼Œ`if: $&#123;&#123; github.event_name == &apos;workflow_dispatch&apos; &amp;&amp; !github.event.repository.private&#125;&#125;`æ£€æŸ¥æ˜¯å¦ä¸ºæ‰‹åŠ¨è§¦å‘ã€ä»“åº“æ˜¯å¦æ˜¯ç§æœ‰çš„","categories":[],"tags":[{"name":"å°ç™½æ–‡","slug":"å°ç™½æ–‡","permalink":"https://nymrli.top/tags/å°ç™½æ–‡/"}]},{"title":"å—é‚®æ ¡å›­ç½‘CSDNç­‰éƒ¨åˆ†ç½‘ç«™å›¾ç‰‡æ— æ³•åŠ è½½è§£å†³æ–¹æ¡ˆ","slug":"å—é‚®æ ¡å›­ç½‘CSDNç­‰éƒ¨åˆ†ç½‘ç«™å›¾ç‰‡æ— æ³•åŠ è½½è§£å†³æ–¹æ¡ˆ","date":"2020-11-10T10:14:56.000Z","updated":"2020-11-10T10:28:28.033Z","comments":true,"path":"2020/11/10/å—é‚®æ ¡å›­ç½‘CSDNç­‰éƒ¨åˆ†ç½‘ç«™å›¾ç‰‡æ— æ³•åŠ è½½è§£å†³æ–¹æ¡ˆ/","link":"","permalink":"https://nymrli.top/2020/11/10/å—é‚®æ ¡å›­ç½‘CSDNç­‰éƒ¨åˆ†ç½‘ç«™å›¾ç‰‡æ— æ³•åŠ è½½è§£å†³æ–¹æ¡ˆ/","excerpt":"","text":"é—®é¢˜å®šä½ è½¬è‡ªï¼š https://blog.csdn.net/pamzerbhu/article/details/108549279 ç”¨è¯­è¨€æè¿°å¦‚ä¸‹ï¼š æ‰“å¼€é¡µé¢åé¡µé¢åŠ è½½æ­£å¸¸ï¼Œä½†æ˜¯å›¾ç‰‡å®Œå…¨æ²¡æœ‰åŠ è½½ã€‚ä½†æ˜¯æŒ‚å…¨å±€ä»£ç†æ˜¯å¯ä»¥çœ‹åˆ°å›¾ç‰‡çš„ã€‚æŒ‚ä»£ç†åå¦‚ä¸‹æ‰€ç¤ºï¼š å¼€å§‹å®šä½é—®é¢˜ï¼š ç‚¹å‡»å®¡æŸ¥å…ƒç´ ï¼Œæ¥ç€æ‰¾åˆ°æˆ‘è¿™å¼ å›¾çš„é“¾æ¥ï¼Œç›´æ¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ŒæŠ¥é”™**NET::ERR_CERT_COMMON_NAME_INVALID** ç„¶åç‚¹å‡» é«˜çº§â€“ç»§ç»­è®¿é—® img-blog.csdn.net (ä¸å®‰å…¨) å›¾ç‰‡æˆåŠŸåŠ è½½ï¼š å¥½äº†ï¼Œæ‰¾åˆ°äº†é—®é¢˜ã€‚æ¥ä¸‹æ¥å°±æ˜¯é¢å‘æœç´¢å¼•æ“çš„æ‰¾æ–¹æ³•æ—¶é—´ã€‚ ç»è¿‡æŸ¥è¯¢å‘ç°æ˜¯DNSçš„é—®é¢˜ï¼ˆæˆ–è€…å¯ä»¥æ‰“å¼€cmdï¼Œç„¶åè¾“å…¥ipconfig/allçœ‹DNSåœ°å€ï¼‰ï¼š è§£å†³æ–¹æ¡ˆ æˆ‘ä»¬å°è¯•ä¿®æ”¹dnsï¼Œå¹¶åˆ·æ–°ã€‚ ä¿®æ”¹æ•™ç¨‹ç‚¹æˆ‘. å†æ¬¡æŸ¥çœ‹ç¡®è®¤å·²ç»ä¸å†æ˜¯å‘çˆ¹çš„å—é‚®DNSäº†ã€‚è®¿é—®csdnå‘ç°ä¸€åˆ‡æ­£å¸¸ã€‚OKç»“æŸã€‚ ERR_CERT_COMMON_NAME_INVALID å®é™…ä¸Šï¼Œå¯ä»¥è®¤ä¸ºï¼ŒERR_CERT_COMMON_NAME_INVALIDå°±æ˜¯ç”¨ä¸€ä¸ªé”™è¯¯çš„åŸŸåè®¿é—®äº†æŸä¸ªèŠ‚ç‚¹çš„httpsèµ„æºã€‚å¯¼è‡´è¿™ä¸ªé”™è¯¯çš„åŸå› ï¼ŒåŸºæœ¬æ˜¯ dnsæ±¡æŸ“ hostè®¾ç½®é”™è¯¯ å®˜æ–¹æ›´æ–°äº†dnsï¼Œä½†æ˜¯dnsç¼“å­˜æ²¡æœ‰è¢«æ›´æ–°ï¼Œå¯¼è‡´é”™è¯¯è§£æã€‚","categories":[],"tags":[]},{"title":"scrcpy+AutoJS","slug":"scrcpy-AutoJS","date":"2020-11-09T03:26:19.000Z","updated":"2020-11-14T07:17:12.129Z","comments":true,"path":"2020/11/09/scrcpy-AutoJS/","link":"","permalink":"https://nymrli.top/2020/11/09/scrcpy-AutoJS/","excerpt":"","text":"scrcpyç®€ä»‹ ç‰¹ç‚¹: åˆ©ç”¨ç”µè„‘çš„é”®ç›˜å’Œé¼ æ ‡å¯ä»¥æ§åˆ¶æ‰‹æœºã€‚æŠŠ APK æ–‡ä»¶æ‹–æ‹½åˆ°ç”µè„‘çª—å£å³å¯å®‰è£…åº”ç”¨åˆ°æ‰‹æœºï¼ŒæŠŠæ™®é€šæ–‡ä»¶æ‹–æ‹½åˆ°çª—å£å³å¯å¤åˆ¶åˆ°æ‰‹æœºã€‚ ä¸éœ€è¦åœ¨æ‰‹æœºä¸Šå®‰è£…ä»»ä½•åº”ç”¨ã€‚ ç®€å•åœ°æ¥è¯´ï¼Œscrcpyå°±æ˜¯é€šè¿‡adbè°ƒè¯•çš„æ–¹å¼æ¥å°†æ‰‹æœºå±å¹•æŠ•åˆ°ç”µè„‘ä¸Šï¼Œå¹¶å¯ä»¥é€šè¿‡ç”µè„‘æ§åˆ¶æ‚¨çš„Androidè®¾å¤‡ã€‚å®ƒå¯ä»¥é€šè¿‡USBè¿æ¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡Wifiè¿æ¥ï¼ˆç±»ä¼¼äºéš”ç©ºæŠ•å±ï¼‰ï¼Œè€Œä¸”ä¸éœ€è¦ä»»ä½•rootæƒé™ï¼Œä¸éœ€è¦åœ¨æ‰‹æœºé‡Œå®‰è£…ä»»ä½•ç¨‹åºã€‚scrcpyåŒæ—¶é€‚ç”¨äºGNU / Linuxï¼ŒWindowså’ŒmacOSã€‚ å®ƒçš„ä¸€äº›ç‰¹æ€§ï¼š äº®åº¦ï¼ˆåŸç”Ÿï¼Œä»…æ˜¾ç¤ºè®¾å¤‡å±å¹•ï¼‰ æ€§èƒ½ï¼ˆ30~60fpsï¼‰ è´¨é‡ï¼ˆ1920Ã—1080æˆ–ä»¥ä¸Šï¼‰ ä½å»¶è¿Ÿï¼ˆ35~70msï¼‰ å¯åŠ¨æ—¶é—´çŸ­ï¼ˆæ˜¾ç¤ºç¬¬ä¸€å¼ å›¾åƒçº¦1ç§’ï¼‰ éä¾µå…¥æ€§ï¼ˆè®¾å¤‡ä¸Šæ²¡æœ‰å®‰è£…ä»»ä½•ä¸œè¥¿ï¼‰ æ­¤é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼ŒGithubåœ°å€ï¼šGenymobile/scrcpy: Display and control your Android device ä½¿ç”¨scrcpyçš„è¦æ±‚ Androidè®¾å¤‡è‡³å°‘éœ€è¦API 21ï¼ˆAndroid 5.0ä»¥ä¸Šç‰ˆæœ¬ï¼‰; ç¡®ä¿åœ¨æ‚¨çš„è®¾å¤‡ä¸Šå¯ç”¨äº†adbè°ƒè¯•; åœ¨æŸäº›è®¾å¤‡ä¸Šï¼Œæ‚¨è¿˜éœ€è¦å¯ç”¨å…¶ä»–é€‰é¡¹ä»¥ä½¿ç”¨é”®ç›˜å’Œé¼ æ ‡æ§åˆ¶å®ƒã€‚ adbè°ƒè¯•çš„å¼€å¯ä¸€èˆ¬æ˜¯å¤šæ¬¡ç‚¹å‡»æ‰‹æœºç³»ç»Ÿç‰ˆæœ¬ï¼Œå¦‚æˆ‘ç”¨çš„æ˜¯MIUI10ï¼Œå¼€å¯æ–¹æ³•æ˜¯ â€œè®¾ç½®â€-&gt;â€œæˆ‘çš„è®¾å¤‡â€-&gt;â€œå…¨éƒ¨å‚æ•°â€-&gt;ç‚¹å‡»7ä¸‹MIUIç‰ˆæœ¬ï¼Œå¼€å¯â€œå¼€å‘è€…é€‰é¡¹â€ã€‚ç„¶ååœ¨ â€œè®¾ç½®â€-&gt;â€œæ›´å¤šè®¾ç½®â€-&gt;â€œå¼€å‘è€…é€‰é¡¹â€ ä¸­åŒæ—¶å¼€å¯ USBè°ƒè¯• å’Œ USBè°ƒè¯•(å®‰å…¨è®¾ç½®)ã€‚ ä½¿ç”¨è¯´æ˜ ç¨‹åºä½¿ç”¨äº†Javaè¯­è¨€ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç”µè„‘ä¸­æ­å»ºJavaè¿è¡Œç¯å¢ƒï¼Œå‚è€ƒï¼šWindows10 é…ç½® Java å¼€å‘ç¯å¢ƒ ä½¿ç”¨USBè¿›è¡Œè¿æ¥ æ­¤æ–¹å¼æ¨èä½¿ç”¨ï¼Œç›¸å¯¹æ›´åŠ æµç•…ã€‚ æ‰‹æœºé€šè¿‡USBè¿æ¥åˆ°PCä¸Šï¼Œé¦–æ¬¡è¿æ¥ä¼šå¼¹å‡ºæ˜¯å¦ä¿¡ä»»è¯¥ç”µè„‘ï¼Œç‚¹å‡»å§‹ç»ˆä¿¡ä»»å³å¯ã€‚ è¿è¡Œadb usbæŸ¥çœ‹æ˜¯å¦è¿æ¥æˆåŠŸ 12D:\\Github_Run\\scrcpy-win64-v1.10&gt;adb usbrestarting in USB mode è¿è¡Œscrcpyå³å¯ã€‚ ä½¿ç”¨æ— çº¿è¿æ¥ å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šOpen Source Project - Scrcpy now works wirelessly æ­¤è¿æ¥æ–¹å¼æ›´åŠ æ–¹ä¾¿å¿«æ·ï¼Œè‹¥å®½å¸¦é€Ÿç‡é«˜ï¼Œä½¿ç”¨æ•ˆæœæ›´ä½³ï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿéå¸¸ç®€å•ã€‚ ç¡®ä¿PCå’Œæ‰‹æœºåœ¨åŒä¸€Wifiä¸­ æ‰‹æœºå…ˆé€šè¿‡USBä¸PCç›¸è¿ åœ¨PCä¸Šè¿è¡Œ adb tcpip æœåŠ¡ç«¯å£ï¼Œå¦‚ç«¯å£ä¸º5555 12D:\\Github_Run\\scrcpy-win64-v1.10&gt;adb tcpip 5555restarting in TCP mode port: 5555 æ‹”ä¸‹ä½ çš„è®¾å¤‡ï¼Œæ–­å¼€USBè¿æ¥ åœ¨PCä¸Šè¿è¡Œ adb connect æ‰‹æœºIP:æœåŠ¡ç«¯å£ï¼ˆæ‰‹æœºIPå¯é€šè¿‡æ‰‹æœºçš„çŠ¶æ€ä¿¡æ¯æŸ¥çœ‹ï¼Œæˆ–è€…ç™»å½•è·¯ç”±å™¨æŸ¥çœ‹ï¼Œä¸€èˆ¬ä»¥192.168å¼€å¤´ï¼‰ 12D:\\Github_Run\\scrcpy-win64-v1.10&gt;adb connect 192.168.0.4:5555connected to 192.168.0.4:5555 è¿è¡Œscrcpyï¼Œåœ¨cmdä¸­è¾“å…¥scrcpy.exeå³å¯ æ³¨: è‹¥è¦åˆ‡æ¢å›USBæ¨¡å¼ï¼šadb usb 1234# é™„è°ƒèŠ‚æ¯”ç‰¹ç‡å’Œåˆ†è¾¨ç‡$ scrcpy --bit-rate 2M --max-size 800# æˆ–è€…ç®€å†™$ scrcpy -b2M -m800 AutoJS ä¸€ä¸ªæ”¯æŒæ— éšœç¢æœåŠ¡çš„Androidå¹³å°ä¸Šçš„JavaScript IDEï¼Œå…¶å‘å±•ç›®æ ‡æ˜¯JsBoxå’ŒWorkflowã€‚ Auto.jsä½¿ç”¨JavaScriptä½œä¸ºè„šæœ¬è¯­è¨€ï¼Œç›®å‰ä½¿ç”¨Rhino 1.7.7.2ä½œä¸ºè„šæœ¬å¼•æ“ï¼Œæ”¯æŒES5ä¸éƒ¨åˆ†ES6ç‰¹æ€§ã€‚ å®˜æ–¹æ•™ç¨‹: https://hyb1996.github.io/AutoJs-Docs/#/?id=autojs ä½¿ç”¨æ•™ç¨‹è§†é¢‘: ç¬”é’å±… å¦‚ä½•è¿æ¥? æ‰‹æœºå®‰è£…ä½¿ç”¨æ­¥éª¤ï¼š â‘  å¼€å¯æ— éšœç¢æœåŠ¡ â‘¡ éŸ³é‡ä¸Šé”®åœæ­¢è„šæœ¬ï¼šå½“è„šæœ¬å¤„äºæ— æ³•åœæ­¢çš„çŠ¶æ€æ—¶ï¼Œä½¿ç”¨éŸ³é‡ä¸Šé”®å¼ºåˆ¶åœæ­¢è„šæœ¬ã€‚ â‘¢ å¼€å¯æ‚¬æµ®çª—ï¼š â‘£ è¿æ¥æ‰‹æœº(å¦‚æœä¸ä¹ æƒ¯åœ¨æ‰‹æœºä¸Šcoding, å¯ä»¥å®‰è£…ä½œè€…æä¾›çš„VsCodeæ’ä»¶, åœ¨Vscodeä¸Šç¼–ç : Auto.js-VSCodeExtâ€”â€”æ’ä»¶çš„ä½¿ç”¨æ•™ç¨‹ä¹Ÿéå¸¸ç®€æ´æ˜“æ‡‚ï¼Œ åœ¨æ­¤å°±ä¸é‡å¤äº†ã€‚ å¾®ä¿¡æœ‹å‹åœˆç‚¹èµdemo 123456789comment = desc(\"è¯„è®º\").findOne();log(comment);comment.click();sleep(1000);// ç”±äº\"èµ\"æ§ä»¶çš„Clickableæ˜¯false, æ‰€ä»¥ç‚¹å‡»å®ƒçš„çˆ¶æ§ä»¶praise = text(\"èµ\").findOne();praiseParent = praise.parent();praiseParent.click(); JsçŸ¥è¯†è¡¥å…… ä½œç”¨åŸŸ: JSåªæœ‰å‡½æ•°ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸ å…¨å±€ä½œç”¨åŸŸ: å¦‚æœæ˜¯æ˜¾æ€§çš„å†™åœ¨å…¨å±€çš„, åˆ™å˜é‡çš„ä½œç”¨åŸŸä¸ºå…¨å±€ 12345678910111213141516&gt; /*&gt; * ä½œç”¨åŸŸ&gt; * - ä½œç”¨åŸŸæŒ‡ä¸€ä¸ªå˜é‡çš„ä½œç”¨çš„èŒƒå›´&gt; * - åœ¨JSä¸­ä¸€å…±æœ‰ä¸¤ç§ä½œç”¨åŸŸï¼š&gt; * 1.å…¨å±€ä½œç”¨åŸŸ&gt; * - ç›´æ¥ç¼–å†™åœ¨scriptæ ‡ç­¾ä¸­çš„JSä»£ç ï¼Œéƒ½åœ¨å…¨å±€ä½œç”¨åŸŸ&gt; * - å…¨å±€ä½œç”¨åŸŸåœ¨é¡µé¢æ‰“å¼€æ—¶åˆ›å»ºï¼Œåœ¨é¡µé¢å…³é—­æ—¶é”€æ¯&gt; * - åœ¨å…¨å±€ä½œç”¨åŸŸä¸­æœ‰ä¸€ä¸ªå…¨å±€å¯¹è±¡windowï¼Œ&gt; * å®ƒä»£è¡¨çš„æ˜¯ä¸€ä¸ªæµè§ˆå™¨çš„çª—å£ï¼Œå®ƒç”±æµè§ˆå™¨åˆ›å»ºæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨&gt; * - åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼š&gt; * åˆ›å»ºçš„å˜é‡éƒ½ä¼šä½œä¸ºwindowå¯¹è±¡çš„å±æ€§ä¿å­˜&gt; * åˆ›å»ºçš„å‡½æ•°éƒ½ä¼šä½œä¸ºwindowå¯¹è±¡çš„æ–¹æ³•ä¿å­˜&gt; * ä¸€åˆ‡çš†å¯¹è±¡&gt; * - å…¨å±€ä½œç”¨åŸŸä¸­çš„å˜é‡éƒ½æ˜¯å…¨å±€å˜é‡ï¼Œ&gt; * åœ¨é¡µé¢çš„ä»»æ„çš„éƒ¨åˆ†éƒ½å¯ä»¥è®¿é—®çš„åˆ°&gt; å—çº§ä½œç”¨åŸŸ: {}ä¸ºå—, {}å†…å³ä¸ºå—çº§ä½œç”¨åŸŸã€‚ä½†æ˜¯æ³¨æ„JSæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œ å³å—é‡Œå£°æ˜çš„å˜é‡, ä½œç”¨åŸŸå®é™…ä¸ºå…¨å±€ã€‚â€”&gt;ES6 æ–°å¢äº†letå‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å±€éƒ¨å˜é‡ã€‚å®ƒçš„ç”¨æ³•ç±»ä¼¼äºvarï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆï¼Œè€Œä¸”æœ‰æš‚æ—¶æ€§æ­»åŒºçš„çº¦æŸã€‚==&gt;ES6ç”¨æ–°å¢çš„letï¼Œæ¥å£°æ˜å—çº§ä½œç”¨åŸŸçš„å˜é‡ã€‚(letå¦ä¸€ä¸ªç‰¹æ€§: letå˜é‡ä¸èƒ½é‡å¤å£°æ˜â€“varå¯ä»¥, ä»¥æœ€åçš„ä¸ºå‡†, æ•ˆæœè·Ÿpythonå£°æ˜å˜é‡ç±»ä¼¼) 123456for(var i = 1; i &lt; 10; i++)&#123;&#125;log(i); // è¾“å‡ºä¸º10for(let i = 1; i &lt; 10; i++)&#123;&#125;log(i); // ReferenceError: \"i\" is not defined. ([remote]test.js#14)ReferenceError: \"i\" is not defined. å‡½æ•°ä½œç”¨åŸŸ: åœ¨å‡½æ•°å†…å³ä¸ºå‡½æ•°ä½œç”¨åŸŸï¼Œ å¦‚æœä¸ç”¨varè¡¨æ˜ï¼Œ åˆ™å£°æ˜çš„æ˜¯å…¨å±€å˜é‡ã€‚ç”¨varè¡¨æ˜æ˜¯å±€éƒ¨å˜é‡ 123456789101112&gt; /*&gt; * å‡½æ•°ä½œç”¨åŸŸ&gt; * - è°ƒç”¨å‡½æ•°æ—¶åˆ›å»ºå‡½æ•°ä½œç”¨åŸŸï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•ä»¥åï¼Œå‡½æ•°ä½œç”¨åŸŸé”€æ¯&gt; * - æ¯è°ƒç”¨ä¸€æ¬¡å‡½æ•°å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ä½œç”¨åŸŸï¼Œä»–ä»¬ä¹‹é—´æ˜¯äº’ç›¸ç‹¬ç«‹çš„&gt; * - åœ¨å‡½æ•°ä½œç”¨åŸŸä¸­å¯ä»¥è®¿é—®åˆ°å…¨å±€ä½œç”¨åŸŸçš„å˜é‡&gt; * åœ¨å…¨å±€ä½œç”¨åŸŸä¸­æ— æ³•è®¿é—®åˆ°å‡½æ•°ä½œç”¨åŸŸçš„å˜é‡&gt; * - å½“åœ¨å‡½æ•°ä½œç”¨åŸŸæ“ä½œä¸€ä¸ªå˜é‡æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨è‡ªèº«ä½œç”¨åŸŸä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰å°±ç›´æ¥ä½¿ç”¨&gt; * å¦‚æœæ²¡æœ‰åˆ™å‘ä¸Šä¸€çº§ä½œç”¨åŸŸä¸­å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œ&gt; * å¦‚æœå…¨å±€ä½œç”¨åŸŸä¸­ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šæŠ¥é”™ReferenceError&gt; * - åœ¨å‡½æ•°ä¸­è¦è®¿é—®å…¨å±€å˜é‡å¯ä»¥ä½¿ç”¨windowå¯¹è±¡&gt; */&gt; 12345678function test()&#123; a = 1; var b = 2;&#125;test();log(a); // è¾“å‡º1log(b); // ReferenceError: \"b\" is not defined. ([remote]test.js#19)ReferenceError: \"b\" is not defined. æ•°ç»„ 12345678910a = [1,2,3] // ç¬¬ä¸€ç§å£°æ˜æ•°ç»„çš„æ–¹å¼a.push(4) // å¾€æ•°ç»„æœ€åæ·»åŠ å…ƒç´ log(a);log(a.indexOf(2)); // æ‰¾å‡ºæŸå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•a.pop(); // å¼¹å‡ºæœ€åä¸€ä¸ªå…ƒç´ log(a);b = Array(); // ç¬¬äºŒç§å£°æ˜æ•°ç»„çš„æ–¹å¼log(b); æ•°æ®ç±»å‹: stringã€numberã€booleanã€nullundefined Objectï¼šFunctionã€Arrayã€Date å¯ä»¥ä½¿ç”¨typeofæ¥æŸ¥çœ‹å¯¹è±¡çš„ç±»å‹ å˜é‡å‡½æ•°æå‰å£°æ˜ 123456789101112131415161718192021222324252627/** å˜é‡çš„å£°æ˜æå‰* - ä½¿ç”¨varå…³é”®å­—å£°æ˜çš„å˜é‡ï¼Œä¼šåœ¨æ‰€æœ‰çš„ä»£ç æ‰§è¡Œä¹‹å‰è¢«å£°æ˜ï¼ˆä½†æ˜¯ä¸ä¼šèµ‹å€¼ï¼‰ï¼Œ* ä½†æ˜¯å¦‚æœå£°æ˜å˜é‡æ—¶ä¸ä½¿ç”¨varå…³é”®å­—ï¼Œåˆ™å˜é‡ä¸ä¼šè¢«å£°æ˜æå‰** å‡½æ•°çš„å£°æ˜æå‰* - ä½¿ç”¨å‡½æ•°å£°æ˜å½¢å¼åˆ›å»ºçš„å‡½æ•° function å‡½æ•°()&#123;&#125;* å®ƒä¼šåœ¨æ‰€æœ‰çš„ä»£ç æ‰§è¡Œä¹‹å‰å°±è¢«åˆ›å»ºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°å£°æ˜å‰æ¥è°ƒç”¨å‡½æ•°* ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºçš„å‡½æ•°ï¼Œä¸ä¼šè¢«å£°æ˜æå‰ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨å£°æ˜å‰è°ƒç”¨*//*console.log(&quot;a = &quot;+a);æƒ…å†µ1ï¼šä½¿ç”¨ var a = 123; aæ˜¯undefinedï¼Œå£°æ˜å˜é‡åœ¨æ­¤å¥ä¹‹åï¼Œä½†var a ä¼šä½¿å˜é‡æå‰å£°æ˜ï¼Œæƒ…å†µ2ï¼š ä½¿ç”¨ a = 123; aæœªæ‰¾åˆ°ï¼Œä¼šæŠ¥é”™ï¼Œå› ä¸ºaæœªæå‰å£°æ˜a = 123ï¼› ç­‰ä»·äº window.a = 123;var a = 123;*/ åˆ°äº†æ­¤å¥æ‰èµ‹å€¼ï¼Œç­‰ä»·äºåœ¨æ‰€æœ‰ä»£ç ä¹‹å‰ å£°æ˜a var a; æ‰§è¡Œåˆ°æ­¤å¥å†èµ‹å€¼ a=123;//fun();//å‡½æ•°å£°æ˜ï¼Œä¼šè¢«æå‰åˆ›å»ºfunction fun()&#123;console.log(&quot;æˆ‘æ˜¯ä¸€ä¸ªfunå‡½æ•°&quot;);&#125;//å‡½æ•°è¡¨è¾¾å¼ï¼Œä¸ä¼šè¢«æå‰åˆ›å»ºï¼Œæ­¤å¥åªæ˜¯æå‰å£°æ˜äº†fun2ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å‡½æ•°ï¼Œå¯èƒ½æ˜¯å˜é‡ï¼Œ undefinedè€Œåœ¨æ­¤æ¬¡æ‰å¼€å§‹èµ‹å€¼ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼var fun2 = function()&#123;console.log(&quot;æˆ‘æ˜¯fun2å‡½æ•°&quot;);&#125;;fun2(); Andriodå¼€å‘çŸ¥è¯†ï¼š packageNameï¼š åº”ç”¨åŒ…å applicationName: åº”ç”¨å currenetActivity: å½“å‰é¡µé¢ Jsæ˜¯å•çº¿ç¨‹çš„, åœ¨ä»»åŠ¡è°ƒåº¦ä¸Šï¼ŒåŒæ­¥ä»»åŠ¡ä¼˜å…ˆçº§æœ€é«˜ï¼Œ å¾®ä»»åŠ¡å…¶æ¬¡(new Promise)ï¼Œ å®ä»»åŠ¡æœ€å(setInterval, setTimeOut): https://www.bilibili.com/video/BV1NJ411W7wh?p=336 123456789new Promise( (resolve, reject) =&gt;&#123; resolve(); // è°ƒç”¨resolveè¡¨ç¤ºæˆåŠŸ, è°ƒç”¨rejectè¡¨ç¤ºå¤±è´¥ console.log(\"yes\") // ç¬¬ä¸€ä¸ªå¤§æ‹¬å·é‡Œçš„éƒ½æ˜¯åŒæ­¥ä»»åŠ¡, ä¼˜å…ˆçº§å¾ˆé«˜&#125;).then(value =&gt;&#123; // æˆåŠŸæ‰§è¡Œè¿™ä¸ª. è¿™ä¸ªæ˜¯å¾®ä»»åŠ¡ console.log(\"æˆåŠŸ\")&#125;, reason =&gt; &#123; console.log(\"å¤±è´¥\") // å¤±è´¥æ‰§è¡Œè¿™ä¸ª. è¿™ä¸ªæ˜¯å¾®ä»»åŠ¡&#125;)// è¾“å‡ºç»“æœ: yes =&gt; æˆåŠŸ","categories":[],"tags":[]},{"title":"ç²’å­æ»¤æ³¢Matlabä»£ç è§£è¯»","slug":"ç²’å­æ»¤æ³¢Matlabä»£ç è§£è¯»","date":"2020-10-27T09:39:23.000Z","updated":"2020-10-31T02:12:39.559Z","comments":true,"path":"2020/10/27/ç²’å­æ»¤æ³¢Matlabä»£ç è§£è¯»/","link":"","permalink":"https://nymrli.top/2020/10/27/ç²’å­æ»¤æ³¢Matlabä»£ç è§£è¯»/","excerpt":"","text":"ç²’å­æ»¤æ³¢æ¦‚å¿µ ç†è§£ç²’å­æ»¤æ³¢(particle filter) ç²’å­æ»¤æ³¢çš„Matlabä»¿çœŸç®—æ³•å®ç° 1.1 æœºå™¨äººå®šä½é—®é¢˜ å…³äºæœºå™¨äººå®šä½ï¼Œæœ‰ä¸‰å¤§é—®é¢˜ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š (1)â€œå…¨å±€å®šä½â€ï¼šæŒ‡åˆå§‹ä½ç½®æœªçŸ¥ï¼Œæœºå™¨äººé è‡ªèº«è¿åŠ¨ç¡®å®šè‡ªå·±åœ¨åœ°å›¾ä¸­çš„ä½å§¿ã€‚ (2)â€œä½å§¿è·Ÿè¸ªâ€ï¼šæŒ‡å·²çŸ¥è‡ªèº«ä½å§¿æˆ–è€…å·²ç»é€šè¿‡â€œå…¨å±€å®šä½â€å¾—åˆ°äº†ä¸€ä¸ªè¾ƒå¥½çš„ä½å§¿ä¼°è®¡ï¼Œåœ¨åç»­è¿åŠ¨æ—¶è¡¥å¿ç²¾åº¦è¾ƒå·®çš„è¿åŠ¨æ§åˆ¶è¯¯å·®ï¼› (3)â€œç»‘æ¶åŠ«æŒâ€ï¼šæŒ‡æœºå™¨äººåœ¨å·²çŸ¥è‡ªèº«ä½å§¿çš„æƒ…å†µä¸‹ï¼Œå¾—åˆ°äº†ä¸€ä¸ªé”™è¯¯çš„ä½å§¿ä¿¡æ¯æˆ–è€…å¤–ç•Œå°†å…¶æ”¾åˆ°å¦å¤–ä¸€ä¸ªä½å§¿ï¼Œè€Œé‡Œç¨‹è®¡ä¿¡æ¯ç»™å‡ºäº†é”™è¯¯çš„ä¿¡æ¯ç”šè‡³æ²¡æœ‰ç»™å‡ºæ§åˆ¶ä¿¡æ¯ã€‚ 1.2 ç²’å­æ»¤æ³¢æ­¥éª¤(å¯ç»“åˆ2ä¸­ä¾‹é¢˜) (1)åˆå§‹çŠ¶æ€ï¼šç”¨å¤§é‡ç²’å­æ¨¡æ‹Ÿè¿åŠ¨çŠ¶æ€ï¼Œä½¿ç²’å­åœ¨ç©ºé—´å†…å‡åŒ€åˆ†å¸ƒï¼› (2)é¢„æµ‹é˜¶æ®µï¼šæ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå°†æ¯ä¸€ä¸ªç²’å­å¸¦å…¥ï¼Œå¾—åˆ°ä¸€ä¸ªé¢„æµ‹ç²’å­ï¼› (3)æ ¡æ­£é˜¶æ®µï¼šå¯¹é¢„æµ‹ç²’å­è¿›è¡Œè¯„ä»·ï¼ˆè®¡ç®—æƒé‡ï¼‰ï¼Œè¶Šæ¥è¿‘äºçœŸå®çŠ¶æ€çš„ç²’å­ï¼Œå…¶æƒé‡è¶Šå¤§ï¼› (4)é‡é‡‡æ ·ï¼šæ ¹æ®ç²’å­æƒé‡å¯¹ç²’å­è¿›è¡Œç­›é€‰ï¼Œç­›é€‰è¿‡ç¨‹ä¸­ï¼Œæ—¢è¦å¤§é‡ä¿ç•™æƒé‡å¤§çš„ç²’å­ï¼Œåˆè¦æœ‰ä¸€å°éƒ¨åˆ†æƒé‡å°çš„ç²’å­ï¼› (5)æ»¤æ³¢ï¼šå°†é‡é‡‡æ ·åçš„ç²’å­å¸¦å…¥çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¾—åˆ°æ–°çš„é¢„æµ‹ç²’å­ï¼Œå³æ­¥éª¤(2)ã€‚ ä»£ç åˆ†æ è™½ç„¶é€‰ä¿®è¯¾é€‰ä¿®äº†Matlabï¼Œ ä½†æ˜¯è‡ªå·±Matlabå·¥ç¨‹ä»£ç åˆ°åº•å†™äº†å¤ªå°‘ï¼Œ ç‰¹åˆ«æ˜¯æ¶‰åŠç»´åº¦è½¬æ¢ä»¥åŠæ•°å­¦ç›¸å…³çš„ç©çš„éƒ½ä¸æ˜¯å¾ˆå¥½ï¼Œ å› æ­¤è¿™æ¬¡çœ‹è¿™ä»½ä»£ç å­¦åˆ°äº†å¾ˆå¤šåŸºç¡€å…¥é—¨çš„å†™æ³•ï¼Œ è®°å½•ä¸€ä¸‹ï¼š å˜é‡å…³ç³»ï¼š Xä¸ºå¯¹è±¡çš„çœŸå®ä½ç½®ï¼Œ Zæ˜¯è§‚æµ‹åˆ°å¯¹è±¡çš„è§‚æµ‹ä½ç½®ï¼ˆåœ¨çœŸå®çš„åæ ‡ä¸ŠåŠ ä¸Šäº†å™ªå£°ï¼‰ï¼ŒPæ˜¯ç²’å­ç¾¤ï¼ŒPcenteræ˜¯æ‰€æœ‰ç²’å­çš„å‡ ä½•ä¸­å¿ƒ å˜é‡ç»´åº¦çš„ç¡®å®šï¼š è¡Œä¸ºä¸€ç»´ï¼Œåˆ—ä¸ºäºŒç»´ã€‚å…¶ä¸­X(1, :)è¡¨ç¤ºXåæ ‡ï¼Œ X(2, :)è¡¨ç¤ºYåæ ‡ã€‚å…¶ä¸­åˆ—çš„Tè¡¨ç¤ºå¤šå°‘æµ‹é‡æ•°é‡ï¼Œæµ‹é‡æ—¶é—´ã€‚ errå¤§å°ä¹Ÿæ˜¯(2, T)ï¼Œ ä½†æ˜¯(ç¬¬ä¸€è¡Œä¸ºç²’å­ä¸çœŸå®è·¯å¾„è¯¯å·® ç¬¬äºŒè¡Œä¸ºæµ‹é‡ä¸çœŸå®è·¯å¾„è¯¯å·®) æƒé‡æ›´æ–°æ–¹å¼ï¼š æƒé‡ (æƒé‡ä¸è·ç¦»çš„å…³ç³» ä¸º å‡å€¼æ˜¯0,æ–¹å·®æ˜¯sqrtÂ®çš„é«˜æ–¯åˆ†å¸ƒæ›²çº¿) ä»£ç ç»„æˆéƒ¨åˆ†ï¼š å‚æ•°è®¾ç½® åˆå§‹åŒ–ç²’å­ç¾¤ å¼€å§‹è¿åŠ¨ ç»˜åˆ¶è½¨è¿¹ ç»˜åˆ¶è¯¯å·®å›¾ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128%ç²’å­æ»¤æ³¢(å®šä½è¿åŠ¨è½¨è¿¹)%åœ¨äºŒç»´ç©ºé—´,å‡è®¾è¿åŠ¨ç‰©ä½“çš„ä¸€ç»„(éçº¿æ€§)è¿åŠ¨ä½ç½®ã€é€Ÿåº¦ã€åŠ é€Ÿåº¦æ•°æ®,ç”¨ç²’å­æ»¤æ³¢æ–¹æ³•è¿›è¡Œå¤„ç†clc,clear,close all%% å‚æ•°è®¾ç½®N = 200; %ç²’å­æ€»æ•°Q = 5; %è¿‡ç¨‹å™ªå£°(æ§åˆ¶è¯¯å·®) çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­ä½¿ç”¨R = 5; %æµ‹é‡å™ªå£° ç”±çœŸå®ä½ç½®å åŠ æµ‹é‡å™ªå£°å¾—åˆ°æµ‹é‡ä½ç½®T = 10; %æµ‹é‡æ—¶é—´(æ€»æ­¥æ•°)theta = pi/T; %æ—‹è½¬è§’åº¦distance = 80/T; %æ¯æ¬¡èµ°çš„è·ç¦»(æ­¥é•¿)WorldSize = 100; %ä¸–ç•Œå¤§å°% è®¾å®šå˜é‡ç»´åº¦X = zeros(2, T); %å­˜å‚¨ç³»ç»ŸçŠ¶æ€(æ¯åˆ—å­˜å‚¨äºŒç»´ä½ç½®åæ ‡(x,y),å…±Tä¸ªä½ç½®)Z = zeros(2, T); %å­˜å‚¨ç³»ç»Ÿçš„è§‚æµ‹çŠ¶æ€(æ¯åˆ—å­˜å‚¨äºŒç»´ä½ç½®åæ ‡(x,y),å…±Tæ¬¡æµ‹é‡)P = zeros(2, N); %å»ºç«‹ç²’å­ç¾¤(æ¯åˆ—å­˜å‚¨å½“å‰ç²’å­çš„äºŒç»´ä½ç½®åæ ‡,å…±Nä¸ªç²’å­)PCenter = zeros(2, T); %æ‰€æœ‰ç²’å­çš„ä¸­å¿ƒä½ç½®w = zeros(N, 1); %æ¯ä¸ªç²’å­çš„æƒé‡err = zeros(2,T); %è¯¯å·®(ç¬¬ä¸€è¡Œä¸ºç²’å­ä¸çœŸå®è·¯å¾„è¯¯å·® ç¬¬äºŒè¡Œä¸ºæµ‹é‡ä¸çœŸå®è·¯å¾„è¯¯å·®)X(:, 1) = [50; 20]; %åˆå§‹ç³»ç»ŸçŠ¶æ€ å³åˆå§‹ä½ç½®åœ¨åæ ‡(50,20)Z(:, 1) = X(:,1) + wgn(2,1,10*log10(R)); %åˆå§‹ç³»ç»Ÿçš„è§‚æµ‹çŠ¶æ€(ä¸ºçœŸå®ä½å§¿å åŠ é«˜æ–¯å™ªå£°) %y = wgn(m,n,p) äº§ç”Ÿä¸€ä¸ªmè¡Œnåˆ—çš„é«˜æ–¯ç™½å™ªå£°çš„çŸ©é˜µï¼Œpä»¥dBWä¸ºå•ä½æŒ‡å®šè¾“å‡ºå™ªå£°çš„å¼ºåº¦%% åˆå§‹åŒ–ç²’å­ç¾¤for i = 1 : N P(:, i) = [WorldSize*rand; WorldSize*rand]; %éšæœºäº§ç”Ÿç¬¬iä¸ªç²’å­çš„åæ ‡(randä¸ºäº§ç”Ÿ[0,1]ä¹‹é—´å‡åŒ€åˆ†å¸ƒ) dist = norm(P(:, i)-Z(:, 1)); %ä¸æµ‹é‡ä½ç½®ç›¸å·®çš„è·ç¦» %æ±‚æƒé‡ (æƒé‡ä¸è·ç¦»çš„å…³ç³» ä¸º å‡å€¼æ˜¯0,æ–¹å·®æ˜¯sqrt(R)çš„é«˜æ–¯åˆ†å¸ƒæ›²çº¿) % å› ä¸ºå‡å€¼ä¸º0ä¸”è·ç¦»å¤§äº0 å› æ­¤æƒé‡éšç€è·ç¦»å¢åŠ æ²¿é«˜æ–¯æ›²çº¿å³ä¾§é€’å‡ w(i) = (1 / sqrt(R) / sqrt(2 * pi)) * exp(-(dist)^2 / 2 / R); endPCenter(:, 1) = sum(P, 2) / N;%t=1æ—¶åˆ»(åˆå§‹æ—¶åˆ»)æ‰€æœ‰ç²’å­çš„å‡ ä½•ä¸­å¿ƒä½ç½®% åˆå§‹çŠ¶æ€(t=1)ç”»å›¾err(1,1) = norm(X(:, 1) - PCenter(:, 1));%ç²’å­ç¾¤å‡ ä½•ä¸­å¿ƒä¸ç³»ç»ŸçœŸå®çŠ¶æ€çš„è¯¯å·®err(2,1) = wgn(1, 1, 10*log10(R));figure(1);hold onset(0,'defaultfigurecolor','w')plot(X(1, 1), X(2, 1), 'r.', 'markersize',30) %çœŸå®çš„åˆå§‹çŠ¶æ€ä½ç½®(çº¢ç‚¹è¡¨ç¤º)%grid onaxis([0 100 0 100]);set(gca,'XTick',0:10:100) %æ”¹å˜xè½´åæ ‡é—´éš”æ˜¾ç¤º è¿™é‡Œé—´éš”ä¸º10set(gca,'YTick',0:10:100) %æ”¹å˜yè½´åæ ‡é—´éš”æ˜¾ç¤º è¿™é‡Œé—´éš”ä¸º10plot(P(1, :), P(2, :), 'k.', 'markersize',5); %å„ä¸ªç²’å­ä½ç½®(Nä¸ªé»‘ç‚¹)plot(PCenter(1, 1), PCenter(2, 1), 'b.', 'markersize',25); %æ‰€æœ‰ç²’å­çš„ä¸­å¿ƒä½ç½®(è“ç‚¹è¡¨ç¤º)legend('çœŸå®ä½ç½®', 'ç²’å­ç¾¤', 'ç²’å­ç¾¤çš„å‡ ä½•ä¸­å¿ƒ');title('åˆå§‹çŠ¶æ€');hold off%% å¼€å§‹è¿åŠ¨for k = 2 : T %ä»t=2åˆ°T %æ¨¡æ‹Ÿä¸€ä¸ªå¼§çº¿è¿åŠ¨çš„çŠ¶æ€ X(:, k) = X(:, k-1) + distance * [(-cos(k * theta)); sin(k * theta)] + wgn(2, 1, 10*log10(Q)); %çŠ¶æ€æ–¹ç¨‹ Z(:, k) = X(:, k) + wgn(2, 1, 10*log10(R)); %è§‚æµ‹æ–¹ç¨‹(çŠ¶æ€ä¸Šå åŠ æµ‹é‡çš„é«˜æ–¯å™ªå£°) %ç²’å­æ»¤æ³¢ % 1.é¢„æµ‹ for i = 1 : N P(:, i) = P(:, i) + distance * [-cos(k * theta); sin(k * theta)] + wgn(2, 1, 10*log10(Q));%ç²’å­ç¾¤å¸¦å…¥çŠ¶æ€æ–¹ç¨‹ dist = norm(P(:, i)-Z(:, k)); %ç²’å­ç¾¤ä¸­å„ç²’å­ ä¸ æµ‹é‡ä½ç½® çš„è·ç¦» w(i) = (1 / sqrt(R) / sqrt(2 * pi)) * exp(-(dist)^2 / 2 / R); %æ±‚æƒé‡(è·ç¦»è¿‘æƒé‡å¤§) end % 2.å½’ä¸€åŒ–æƒé‡ wsum = sum(w); for i = 1 : N w(i) = w(i) / wsum; end % 3.é‡é‡‡æ ·ï¼ˆæ›´æ–°ï¼‰â€”â€”å¯ä»¥ç†è§£ä¸ºè½¬è½¬ç›˜ for i = 1 : N wmax = 2 * max(w) * rand; %å¦ä¸€ç§é‡é‡‡æ ·è§„åˆ™ index = randi(N, 1);%ç”Ÿæˆä¸€ä¸ªåœ¨[1(é»˜è®¤å€¼),N]ä¹‹é—´å‡åŒ€åˆ†å¸ƒçš„ä¼ªéšæœºæ•´æ•° while(wmax &gt; w(index)) % æ‰¾åˆ°å…·ä½“è½åœ¨å“ªä¸ªåŒºé—´ä¸Š wmax = wmax - w(index); index = index + 1; if index &gt; N index = 1; end end Pnext(:, i) = P(:, index); %å¾—åˆ°æ–°ç²’å­æ”¾å…¥ä¸´æ—¶é›†Pnext end P=Pnext;%ç”¨ä¸´æ—¶é›†Pnextæ›´æ–°ç²’å­é›†P PCenter(:, k) = sum(P, 2) / N; %é‡é‡‡æ ·åæ‰€æœ‰ç²’å­çš„ä¸­å¿ƒä½ç½® %è®¡ç®—è¯¯å·® err(1,k) = norm(X(:, k) - PCenter(:, k)); %ç²’å­å‡ ä½•ä¸­å¿ƒä¸ç³»ç»ŸçœŸå®çŠ¶æ€çš„è¯¯å·® err(2,k) = norm(X(:, k) - Z(:, k)); %ç”»å›¾ figure(2); set(0,'defaultfigurecolor','w') clf;%æ¸…ç©ºfigure(2)ä¸­çš„å›¾åƒ ä»¥ä¾¿å¾ªç¯é‡æ–°ç”» hold on plot(X(1, k), X(2, k), 'r.', 'markersize',30); %ç³»ç»ŸçŠ¶æ€ä½ç½® plot(P(1, :), P(2, :), 'k.', 'markersize',5); %å„ä¸ªç²’å­ä½ç½® plot(PCenter(1, k), PCenter(2, k), 'b.', 'markersize',25); %æ‰€æœ‰ç²’å­çš„ä¸­å¿ƒä½ç½® axis([0 100 0 100]); title('è¿åŠ¨è¿‡ç¨‹'); legend('çœŸå®çŠ¶æ€', 'ç²’å­ç¾¤', 'ç²’å­ç¾¤çš„å‡ ä½•ä¸­å¿ƒ'); hold off pause(0.1);%åœ0.1så¼€å§‹ä¸‹æ¬¡è¿­ä»£end%% ç»˜åˆ¶è½¨è¿¹figure(3);set(0,'defaultfigurecolor','w')plot(X(1,:), X(2,:), 'r.-', Z(1,:), Z(2,:), 'g.-', PCenter(1,:), PCenter(2,:), 'b.-');axis([0 100 0 100]);set(gca,'XTick',0:10:100) %æ”¹å˜xè½´åæ ‡é—´éš”æ˜¾ç¤º è¿™é‡Œé—´éš”ä¸º10set(gca,'YTick',0:10:100) %æ”¹å˜yè½´åæ ‡é—´éš”æ˜¾ç¤º è¿™é‡Œé—´éš”ä¸º10legend('çœŸå®è½¨è¿¹', 'æµ‹é‡è½¨è¿¹', 'ç²’å­ç¾¤å‡ ä½•ä¸­å¿ƒè½¨è¿¹');xlabel('æ¨ªåæ ‡ x'); ylabel('çºµåæ ‡ y');%% ç»˜åˆ¶è¯¯å·®figure(4);set(0,'defaultfigurecolor','w')%set(gca,'FontSize',12);%è®¾ç½®å›¾æ ‡å­—ä½“å¤§å°plot(err(1,:),'b.-');%err1ä¸ºå„æ—¶åˆ» çœŸå®ä½ç½®ä¸ç²’å­ç¾¤ä¸­å¿ƒçš„å‡ ä½•è·ç¦»hold onplot(err(2,:),'r.-');%err2ä¸ºå„æ—¶åˆ» çœŸå®ä½ç½®ä¸æµ‹é‡ä½ç½®çš„å‡ ä½•è·ç¦»hold offxlabel('æ­¥æ•° t');legend('ç²’å­ç¾¤è¯¯å·®', 'æµ‹é‡è¯¯å·®');title('çœŸå®ä½ç½®ä¸ç²’å­ç¾¤ä¸­å¿ƒçš„é›†åˆè·ç¦»'); ç”¨åˆ°çš„å‡½æ•°è®°å½• Matlabä¸­çš„norm demoä»£ç ä¸­æœ‰å…³normçš„è¿ç”¨å¦‚ä¸‹, 12345678%% åˆå§‹åŒ–ç²’å­ç¾¤for i = 1 : N P(:, i) = [WorldSize*rand; WorldSize*rand]; %éšæœºäº§ç”Ÿç¬¬iä¸ªç²’å­çš„åæ ‡(randä¸ºäº§ç”Ÿ[0,1]ä¹‹é—´å‡åŒ€åˆ†å¸ƒ) dist = norm(P(:, i)-Z(:, 1)); %ä¸æµ‹é‡ä½ç½®ç›¸å·®çš„è·ç¦» %æ±‚æƒé‡ (æƒé‡ä¸è·ç¦»çš„å…³ç³» ä¸º å‡å€¼æ˜¯0,æ–¹å·®æ˜¯sqrt(R)çš„é«˜æ–¯åˆ†å¸ƒæ›²çº¿) % å› ä¸ºå‡å€¼ä¸º0ä¸”è·ç¦»å¤§äº0 å› æ­¤æƒé‡éšç€è·ç¦»å¢åŠ æ²¿é«˜æ–¯æ›²çº¿å³ä¾§é€’å‡ w(i) = (1 / sqrt(R) / sqrt(2 * pi)) * exp(-(dist)^2 / 2 / R); end å…¶ä¸­æ²¡æœ‰ç‰¹åˆ«æŒ‡å‡ºæ˜¯å•¥èŒƒæ•°, å› æ­¤å¯ä»¥é€šè¿‡help normæ¥æŸ¥çœ‹ä¸€ä¸‹å…³äºnormçš„ä½¿ç”¨ä»‹ç». 1234567&gt;&gt; help norm norm Matrix or vector norm. norm(X,2) returns the 2-norm of X. norm(X) is the same as norm(X,2). norm(X,1) returns the 1-norm of X. å¯ä»¥å¾—åˆ°, norm(X)çš„æ•ˆæœé»˜è®¤æ˜¯å–2-èŒƒæ•°çš„ã€‚ åŒæ—¶ï¼Œ normå‡½æ•°æ—¢å¯ä»¥å–å‘é‡èŒƒæ•°åˆå¯ä»¥å–çŸ©é˜µèŒƒæ•°ï¼š 1ã€å¦‚æœAä¸ºçŸ©é˜µ n=norm(A) ã€ŠSimulinkä¸ä¿¡å·å¤„ç†ã€‹ è¿”å›Açš„æœ€å¤§å¥‡å¼‚å€¼ï¼Œå³max(svd(A)) n=norm(A,p) æ ¹æ®pçš„ä¸åŒï¼Œè¿”å›ä¸åŒçš„å€¼ p è¿”å›å€¼ 1 è¿”å›Aä¸­æœ€å¤§ä¸€åˆ—å’Œï¼Œå³max(sum(abs(A))) 2 è¿”å›Açš„æœ€å¤§å¥‡å¼‚å€¼ï¼Œå’Œn=norm(A)ç”¨æ³•ä¸€æ · inf è¿”å›Aä¸­æœ€å¤§ä¸€è¡Œå’Œï¼Œå³max(sum(abs(Aâ€™))) â€˜froâ€™ Aå’ŒAâ€˜çš„ç§¯çš„å¯¹è§’çº¿å’Œçš„å¹³æ–¹æ ¹ï¼Œå³sqrt(sum(diag(Aâ€™*A))) 2ã€å¦‚æœAä¸ºå‘é‡ norm(A,p) è¿”å›å‘é‡Açš„pèŒƒæ•°ã€‚å³è¿”å› sum(abs(A).p)(1/p),å¯¹ä»»æ„ 1&lt;p&lt;+âˆ. norm(A) è¿”å›å‘é‡Açš„2èŒƒæ•°ï¼Œå³ç­‰ä»·äºnorm(A,2)ã€‚ norm(A,inf) è¿”å›max(abs(A)) norm(A,-inf) è¿”å›min(abs(A)) Matlabä¸­çš„sum sum(A, 1)ï¼š å¯¹ä¸€ç»´æ±‚å’Œï¼Œ å¦‚æœAä¸ºäºŒç»´æ•°ç»„ï¼Œ åˆ™æŒ‰åˆ—æ±‚å’Œ sum(A, 2): å¯¹äºŒç»´æ±‚å’Œï¼Œ å¦‚æœAä¸ºäºŒç»´æ•°ç»„ï¼Œ åˆ™æŒ‰è¡Œæ±‚å’Œ Matlabä¸­çš„wgn 12345678&gt;&gt; help wgn wgn Generate white Gaussian noise. Y = wgn(M,N,P) generates an M-by-N matrix of white Gaussian noise. P specifies the power of the output noise in dBW. The unit of measure for the output of the wgn function is Volts. For power calculations, it is assumed that there is a load of 1 Ohm. Y = wgn(M,N,P,IMP) specifies the load impedance in Ohms.","categories":[],"tags":[{"name":"Matlab","slug":"Matlab","permalink":"https://nymrli.top/tags/Matlab/"}]},{"title":"èŒƒæ•°çš„æ¦‚å¿µ_MATLABä½¿ç”¨","slug":"èŒƒæ•°çš„æ¦‚å¿µ-MATLABä½¿ç”¨","date":"2020-10-27T08:13:30.000Z","updated":"2020-10-27T10:26:44.365Z","comments":true,"path":"2020/10/27/èŒƒæ•°çš„æ¦‚å¿µ-MATLABä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2020/10/27/èŒƒæ•°çš„æ¦‚å¿µ-MATLABä½¿ç”¨/","excerpt":"","text":"èŒƒæ•° ä¹‹å‰å¤§äºŒåœ¨çœ‹æœºå™¨å­¦ä¹ çš„æ—¶å€™ä¸€ç›´çœ‹åˆ°&quot;èŒƒæ•°&quot;è¿™ä¸ªåè¯, ä½†æ˜¯ä¸€ç›´æ²¡æœ‰å»è¯¦ç»†äº†è§£è¿‡, å°±åªçŸ¥é“2-èŒƒæ•°ç›¸å½“äºä¸¤ä¸ªç‚¹åœ¨äºŒç»´å¹³é¢çš„è·ç¦»ã€‚è¿™æ¬¡åœ¨çœ‹ç²’å­æ»¤æ³¢matlabå®ç°ä»£ç çš„æ—¶å€™çœ‹åˆ°äº†normå‡½æ•°, æ­£å¥½è¡¥ä¸€ä¸‹å…³äºèŒƒæ•°çš„æ¦‚å¿µã€‚ å‘é‡çš„èŒƒæ•° å®šä¹‰ æ³¨: ç®€è¨€ä¹‹: â‘ å‘é‡çš„èŒƒæ•°æ˜¯å®šä¹‰åœ¨çº¿æ€§ç©ºé—´ä¸Šçš„éè´Ÿå®æ•°.â‘¡å®å†…ç§¯ç©ºé—´å’Œé…‰ç©ºé—´ä¸­å‘é‡çš„é•¿åº¦âˆ£xâˆ£=(x,x)|x|=\\sqrt{(x,x)}âˆ£xâˆ£=(x,x)â€‹éƒ½æ˜¯å‘é‡çš„èŒƒæ•°â‘¢é…‰ç©ºé—´å‘é‡èŒƒæ•°âˆ£âˆ£xâˆ£âˆ£||x||âˆ£âˆ£xâˆ£âˆ£ç”¨å‘é‡é•¿åº¦|x|æ¥å®šä¹‰æ—¶,è®°ä½œâˆ£âˆ£xâˆ£âˆ£2=âˆ£xâˆ£=xxH=sumi=1nÎ¾Î¾Ë‰||x||_2 = |x| = \\sqrt{xx^H} = \\sqrt{sum^{n}_{i=1}{Î¾\\bar{Î¾}}}âˆ£âˆ£xâˆ£âˆ£2â€‹=âˆ£xâˆ£=xxHâ€‹=sumi=1nâ€‹Î¾Î¾Ë‰â€‹â€‹ é€šå¼â€”â€”P-èŒƒæ•° æ³¨: å½“P-&gt;âˆæ—¶âˆ£âˆ£Xâˆ£âˆ£=maxÎ¾||X|| = max{\\xi}âˆ£âˆ£Xâˆ£âˆ£=maxÎ¾ çŸ©é˜µçš„èŒƒæ•° â–²ä»¥ä¸Šæ¦‚å¿µæ¥è‡ªäºBç«™è§†é¢‘: å‘é‡èŒƒæ•°çŸ©é˜µèŒƒæ•° Matlabä¸­çš„norm demoä»£ç ä¸­æœ‰å…³normçš„è¿ç”¨å¦‚ä¸‹, 12345678%% åˆå§‹åŒ–ç²’å­ç¾¤for i = 1 : N P(:, i) = [WorldSize*rand; WorldSize*rand]; %éšæœºäº§ç”Ÿç¬¬iä¸ªç²’å­çš„åæ ‡(randä¸ºäº§ç”Ÿ[0,1]ä¹‹é—´å‡åŒ€åˆ†å¸ƒ) dist = norm(P(:, i)-Z(:, 1)); %ä¸æµ‹é‡ä½ç½®ç›¸å·®çš„è·ç¦» %æ±‚æƒé‡ (æƒé‡ä¸è·ç¦»çš„å…³ç³» ä¸º å‡å€¼æ˜¯0,æ–¹å·®æ˜¯sqrt(R)çš„é«˜æ–¯åˆ†å¸ƒæ›²çº¿) % å› ä¸ºå‡å€¼ä¸º0ä¸”è·ç¦»å¤§äº0 å› æ­¤æƒé‡éšç€è·ç¦»å¢åŠ æ²¿é«˜æ–¯æ›²çº¿å³ä¾§é€’å‡ w(i) = (1 / sqrt(R) / sqrt(2 * pi)) * exp(-(dist)^2 / 2 / R); end å…¶ä¸­æ²¡æœ‰ç‰¹åˆ«æŒ‡å‡ºæ˜¯å•¥èŒƒæ•°, å› æ­¤å¯ä»¥é€šè¿‡help normæ¥æŸ¥çœ‹ä¸€ä¸‹å…³äºnormçš„ä½¿ç”¨ä»‹ç». 1234567&gt;&gt; help norm norm Matrix or vector norm. norm(X,2) returns the 2-norm of X. norm(X) is the same as norm(X,2). norm(X,1) returns the 1-norm of X. å¯ä»¥å¾—åˆ°, norm(X)çš„æ•ˆæœé»˜è®¤æ˜¯å–2-èŒƒæ•°çš„ã€‚ åŒæ—¶ï¼Œ normå‡½æ•°æ—¢å¯ä»¥å–å‘é‡èŒƒæ•°åˆå¯ä»¥å–çŸ©é˜µèŒƒæ•°ï¼š 1ã€å¦‚æœAä¸ºçŸ©é˜µ n=norm(A) ã€ŠSimulinkä¸ä¿¡å·å¤„ç†ã€‹ è¿”å›Açš„æœ€å¤§å¥‡å¼‚å€¼ï¼Œå³max(svd(A)) n=norm(A,p) æ ¹æ®pçš„ä¸åŒï¼Œè¿”å›ä¸åŒçš„å€¼ p è¿”å›å€¼ 1 è¿”å›Aä¸­æœ€å¤§ä¸€åˆ—å’Œï¼Œå³max(sum(abs(A))) 2 è¿”å›Açš„æœ€å¤§å¥‡å¼‚å€¼ï¼Œå’Œn=norm(A)ç”¨æ³•ä¸€æ · inf è¿”å›Aä¸­æœ€å¤§ä¸€è¡Œå’Œï¼Œå³max(sum(abs(Aâ€™))) â€˜froâ€™ Aå’ŒAâ€˜çš„ç§¯çš„å¯¹è§’çº¿å’Œçš„å¹³æ–¹æ ¹ï¼Œå³sqrt(sum(diag(Aâ€™*A))) 2ã€å¦‚æœAä¸ºå‘é‡ norm(A,p) è¿”å›å‘é‡Açš„pèŒƒæ•°ã€‚å³è¿”å› sum(abs(A).p)(1/p),å¯¹ä»»æ„ 1&lt;p&lt;+âˆ. norm(A) è¿”å›å‘é‡Açš„2èŒƒæ•°ï¼Œå³ç­‰ä»·äºnorm(A,2)ã€‚ norm(A,inf) è¿”å›max(abs(A)) norm(A,-inf) è¿”å›min(abs(A)) Matlabä¸­çš„sum sum(A, 1)ï¼š å¯¹ä¸€ç»´æ±‚å’Œï¼Œ å¦‚æœAä¸ºäºŒç»´æ•°ç»„ï¼Œ åˆ™æŒ‰åˆ—æ±‚å’Œ sum(A, 2): å¯¹äºŒç»´æ±‚å’Œï¼Œ å¦‚æœAä¸ºäºŒç»´æ•°ç»„ï¼Œ åˆ™æŒ‰è¡Œæ±‚å’Œ Matlabä¸­çš„wgn white Gaussian noise 12345678&gt;&gt; help wgn wgn Generate white Gaussian noise. Y = wgn(M,N,P) generates an M-by-N matrix of white Gaussian noise. P specifies the power of the output noise in dBW. The unit of measure for the output of the wgn function is Volts. For power calculations, it is assumed that there is a load of 1 Ohm. Y = wgn(M,N,P,IMP) specifies the load impedance in Ohms.","categories":[],"tags":[{"name":"Math","slug":"Math","permalink":"https://nymrli.top/tags/Math/"},{"name":"MATLAB","slug":"MATLAB","permalink":"https://nymrli.top/tags/MATLAB/"}]},{"title":"Pythonä¸­importçš„ç»†èŠ‚","slug":"Pythonä¸­importçš„ç»†èŠ‚","date":"2020-10-23T13:01:21.000Z","updated":"2020-12-08T14:21:18.357Z","comments":true,"path":"2020/10/23/Pythonä¸­importçš„ç»†èŠ‚/","link":"","permalink":"https://nymrli.top/2020/10/23/Pythonä¸­importçš„ç»†èŠ‚/","excerpt":"","text":"é˜²å¿˜ç³»åˆ—â€¦ Pycharmå¹¶æ²¡æœ‰IDEAä¸€æ ·å¯ä»¥è®¾ç½®å¯¹importè¿›è¡Œæ’åºä»¥åŠè‡ªåŠ¨æ¶ˆé™¤æ²¡ç”¨åˆ°çš„åº“ï¼ˆè¦ç”¨å¿«æ·é”®Ctrl + Alt + Oï¼‰ï¼Œ å¹¶ä¸”å¦‚æœå¯¼å…¥æ–¹å¼ä¸æ­£ç¡®ä¼š 1.æ‰¾ä¸åˆ°è‡ªå®šä¹‰åŒ… 2.Pycharmå¯¹æŒ‡å®šå†…å®¹æŠ¥é”™ï¼ˆä¸‹åˆ’çº¿æˆ–çº¢çº¿ï¼‰ Pythonä¸­æ¨¡å—ï¼ŒåŒ…ï¼Œåº“æ¦‚å¿µ æ¨¡å—ï¼šå°±æ˜¯.pyæ–‡ä»¶ï¼Œé‡Œé¢å®šä¹‰äº†ä¸€äº›å‡½æ•°å’Œå˜é‡ï¼Œéœ€è¦çš„æ—¶å€™å°±å¯ä»¥å¯¼å…¥è¿™äº›æ¨¡å—ã€‚ åŒ…ï¼šåœ¨æ¨¡å—ä¹‹ä¸Šçš„æ¦‚å¿µï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†è€Œå°†æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€‚åŒ…ç›®å½•ä¸‹ç¬¬ä¸€ä¸ªæ–‡ä»¶ä¾¿æ˜¯__init__.pyï¼Œç„¶åæ˜¯ä¸€äº›æ¨¡å—æ–‡ä»¶å’Œå­ç›®å½•ï¼Œå‡å¦‚å­ç›®å½•ä¸­ä¹Ÿæœ‰__init__.pyï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯è¿™ä¸ªåŒ…çš„å­åŒ…äº†ã€‚ åº“ï¼šå…·æœ‰ç›¸å…³åŠŸèƒ½æ¨¡å—ã€åŒ…çš„é›†åˆã€‚è¿™ä¹Ÿæ˜¯Pythonçš„ä¸€å¤§ç‰¹è‰²ä¹‹ä¸€ï¼Œå³å…·æœ‰å¼ºå¤§çš„æ ‡å‡†åº“ã€ç¬¬ä¸‰æ–¹åº“ä»¥åŠè‡ªå®šä¹‰æ¨¡å—ã€‚ æ ‡å‡†åº“ï¼šå°±æ˜¯ä¸‹è½½å®‰è£…çš„pythoné‡Œé‚£äº›è‡ªå¸¦çš„æ¨¡å—ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œé‡Œé¢æœ‰ä¸€äº›æ¨¡å—æ˜¯çœ‹ä¸åˆ°çš„æ¯”å¦‚åƒsysæ¨¡å—ï¼Œè¿™ä¸linuxä¸‹çš„cdå‘½ä»¤çœ‹ä¸åˆ°æ˜¯ä¸€æ ·çš„æƒ…å†µã€‚ ç¬¬ä¸‰æ–¹åº“ï¼šå°±æ˜¯ç”±å…¶ä»–çš„ç¬¬ä¸‰æ–¹æœºæ„ï¼Œå‘å¸ƒçš„å…·æœ‰ç‰¹å®šåŠŸèƒ½çš„æ¨¡å—ã€‚ è‡ªå®šä¹‰æ¨¡å—ï¼šç”¨æˆ·è‡ªå·±å¯ä»¥è‡ªè¡Œç¼–å†™æ¨¡å—ï¼Œç„¶åä½¿ç”¨ã€‚ æ€»ç»“: æˆ‘ä»¬pip install &lt;package&gt;å®‰è£…çš„æ˜¯åº“ï¼Œåº“ä¸‹æœ‰å¾ˆå¤šåŒ…ï¼Œæˆ‘ä»¬åœ¨è‡ªå·±çš„é¡¹ç›®æ–‡ä»¶ä¸­importæœ‰ä»¥ä¸‹å‡ ç§ç”¨æ³•: import numpy as np import urllib.parse import urlencode from lxml import HTML ä¹‹å‰å¤§å®¶åº”è¯¥ç¢°åˆ°è¿‡ï¼Œå‘½åè‡ªå·±pip install xxå®‰è£…çš„æ˜¯å«xxçš„åº“ï¼Œä½†æ˜¯åœ¨ç”¨çš„æ—¶å€™å†™çš„å´æ˜¯from yy import zzï¼Œæ˜æ˜¾ä¸å¯¹åº”å˜›ã€‚å› æ­¤ï¼Œå…¶å®åº“å’ŒåŒ…çš„åŒºåˆ«è¿˜å¯ä»¥é€šè¿‡setup.pyæ‰“åŒ…æˆåº“æ¥çœ‹ã€‚â€”â€”ä½¿ç”¨setup.pyæ‰“åŒ…pythonæ–‡ä»¶ï¼› Pythonå®ç°æ‰“åŒ…æˆåº“ä¾›åˆ«çš„æ¨¡å—è°ƒç”¨ å…¶ä¸­æ¯”è¾ƒé‡è¦çš„å°±æ˜¯5.ç¼–å†™:setup.pyï¼Œ æ³¨æ„ï¼šsetup.pyä¸è¦æ‰“åŒ…çš„test_packageåŒ…åŒåœ¨bricewulibæ ¹ç›®å½•ä¸‹ã€‚ å…¶ä¸­æ¯”è¾ƒé‡è¦çš„å‡ é¡¹æ˜¯:name,version,packages name:æè¿°çš„æ˜¯ä½ æ‰“åŒ…çš„æ–‡ä»¶å¤¹åã€‚ versionæè¿°çš„æ˜¯æ–‡ä»¶çš„ç‰ˆæœ¬å·ã€‚ packagesæ˜¯æ‰€æœ‰è¦æ‰“åŒ…çš„åŒ…ï¼ˆpackageï¼‰ï¼Œè¿™é‡Œéœ€è¦æ‰“åŒ…çš„æ˜¯test_packageåŒ…ä»¥åŠtest_packageåŒ…ä¸‹çš„test_packageã€‚è¾“å…¥python setup.py sdistç„¶åå°±èƒ½åˆ›å»ºbricewulibåº“ï¼Œä½¿ç”¨test_packageåŒ… 12345setup( name = &quot;bricewulib&quot;, version = &quot;1.0&quot;, packages=[&quot;test_package&quot;,&quot;test_package.test_package2&quot;]) importæ¨èé¡ºåº æˆ‘ä»¬æ¨èæ‰€æœ‰çš„æ¨¡å—åœ¨ Python æ¨¡å—çš„å¼€å¤´éƒ¨åˆ†å¯¼å…¥ã€‚ è€Œä¸”æœ€å¥½æŒ‰ç…§è¿™æ ·çš„é¡ºåº: Python æ ‡å‡†åº“æ¨¡å— Python ç¬¬ä¸‰æ–¹æ¨¡å— åº”ç”¨ç¨‹åºè‡ªå®šä¹‰æ¨¡å— é€šè¿‡ç©ºè¡Œæ¥åˆ†å‰²â€”â€”(Pythonâ€™s Style Guide), PEP8 ã€‚ importçš„æœç´¢é¡ºåºï¼š é¦–å…ˆåˆ¤æ–­è¿™ä¸ªmoduleæ˜¯ä¸æ˜¯built-inå³å†…å»ºæ¨¡å—ï¼Œå¦‚æœæ˜¯åˆ™å¼•å…¥å†…å»ºæ¨¡å—ï¼Œå¦‚æœä¸æ˜¯åˆ™åœ¨ä¸€ä¸ªç§°ä¸ºsys.pathçš„listä¸­å¯»æ‰¾ sys.pathåœ¨pythonè„šæœ¬æ‰§è¡Œæ—¶åŠ¨æ€ç”Ÿæˆï¼ŒåŒ…æ‹¬ä»¥ä¸‹3ä¸ªéƒ¨åˆ†ï¼š è„šæœ¬æ‰§è¡Œçš„ä½ç½®ï¼Œå³å½“å‰è·¯å¾„ ç¯å¢ƒå˜é‡ä¸­çš„PYTHONPATH, å³.bash_profilec. å®‰è£…pythonæ—¶çš„ä¾èµ–ä½ç½® Pythonçš„importæœºåˆ¶ è¿è¡Œã€ç¼–å†™Pythonä»£ç æ—¶ï¼Œä¸€å®šè¦æ³¨æ„çš„æ˜¯è„šæœ¬è·¯å¾„å’Œè„šæœ¬æ‰§è¡Œè·¯å¾„ï¼Œä»¥åŠç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ å¦‚æœåœ¨é¡¹ç›®ä¸­è¿ç”¨äº†ç›¸å¯¹è·¯å¾„,åˆ™ä¸€å®šè¦æ³¨æ„è„šæœ¬æ‰§è¡Œè·¯å¾„ å‡è®¾Aæ˜¯Bçš„çˆ¶ç›®å½•, å¦‚æˆ‘ä»¬æƒ³åœ¨Aç›®å½•è°ƒç”¨Bä¸­æ¨¡å—, è€ŒBä¸­æ¨¡æ¿æ˜¯åˆimportäº†Aä¸‹æ¨¡æ¿, å¦‚login: from login import ftSessionã€‚å‘½ä»¤è¡Œåœ¨Aè·¯å¾„ä¸‹è¾“å…¥python B/main.pyæ—¶, ä¼šæŠ¥é”™ã€‚å› ä¸ºimportå…¶å®å°±æ˜¯åœ¨æœç´¢ç›®å½•ä¸‹æŒ‰ç›¸å¯¹è·¯å¾„æ‰¾çš„ã€‚ Pycharmçš„å‘: å€Ÿé‰´: Pythonçš„importæœºåˆ¶å‘åœ¨å“ªï¼Ÿ pycharmé‡Œæ‰“å‡ºæ¥çš„è·¯å¾„æ˜¯æ›´å¤šçš„ï¼Œå®ƒæŠŠé¡¹ç›®æ ¹ç›®å½•åŠ è¿›å»äº†ã€‚(ä¹Ÿå¯ä»¥è®¾ç½®: è¿›å…¥è®¾ç½®ï¼Œæ‰¾åˆ°Consoleä¸‹çš„Python Consoleï¼Œå‹¾é€‰é€‰é¡¹**â€œAdd source roots to PYTHONPATâ€** ) æŸ¥çœ‹æœç´¢è·¯å¾„:print(sys.path) Whatâ€™s resource root? ä»¥ä¸Šå¯¼è‡´çš„é—®é¢˜å°±æ˜¯: pycharmä¸­ï¼Œproject folderæ˜¯é»˜è®¤çš„source rootï¼Œå½“ä½ ä½¿ç”¨importè¯­å¥å¯¼å…¥æ¨¡å—æ—¶ï¼ŒPycharmé»˜è®¤åœ¨project folderä¸­å¯»æ‰¾ï¼›æ‰€ä»¥å½“ä½ åœ¨project folderä¸‹çš„æŸä¸ªsubfolderå¯¼å…¥æŸä¸ªåŒæ ·å®šä¹‰åœ¨è¿™ä¸ªsubfolderä¸­çš„æ¨¡å—æ—¶ï¼Œä¼šå‡ºç°å¯¼å…¥é”™è¯¯ã€‚ pycharmä¸­çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå³ä»£è¡¨é¡¹ç›®, å½“åœ¨å…¶ä¸­å†æ¬¡å»ºç«‹æ–‡ä»¶å¤¹æ—¶ï¼Œæ˜¯æŒ‰packageå¤„ç†çš„ å¦‚æœè¦åœ¨è¿™äº›æ–‡ä»¶å¤¹å†…importå…¶ä»–æ–‡ä»¶ï¼Œéœ€è¦å°†å®Œæ•´è·¯å¾„å¯¼å…¥è¿›æ¥ æ‰€ä»¥æœ€ç»ˆåœ¨Pycharmä¸­å¯¼å…¥çš„æ–¹å¼æœ‰ä¸¤ç§: burningå›ç­” ä»project folderå¼€å§‹ç›¸å¯¹å¯¼å…¥ å°†moduleæ–‡ä»¶å¤¹ç›´æ¥å®šä¹‰ä¸ºsource root pycharmåœ¨åŒç›®å½•ä¸‹importåˆ’çº¢çº¿ä½†å®é™…å¯ä»¥è¿è¡Œ è§£å†³æ–¹æ³•: å³é”®å°†modelæ‰€åœ¨çš„æ–‡ä»¶å¤¹è®¾ç½®ä¸ºsource root æ€»ç»“ï¼špythonè¯¥å¦‚ä½•import éœ€è¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼šåœ¨è¿è¡ŒPythonè„šæœ¬çš„æ—¶å€™ï¼ŒPythonè§£é‡Šå™¨ä¼šæŠŠè„šæœ¬æ‰§è¡Œçš„ä½ç½®ï¼Œå³å½“å‰è·¯å¾„åŠ å…¥åˆ°æœç´¢è·¯å¾„ä¸­ï¼Œè€Œç»å¤§å¤šæ•°æƒ…å†µmainå‡½æ•°å°±åœ¨å·¥ç¨‹æ ¹ç›®å½•ï¼Œå› æ­¤å¯¹äºä¸€ä¸ªå·¥ç¨‹è€Œè¨€ï¼Œæœ€å¥½çš„æ˜¯ä»ä»project folder(å·¥ç¨‹æ ¹ç›®å½•ï¼Œå³è¿è¡Œmainå‡½æ•°çš„é‚£ä¸ªå…¥å£æ–‡ä»¶)å¼€å§‹ç›¸å¯¹å¯¼å…¥ ä¸¾ä¸ªæ —å­ï¼š 12345678910111213141516171819G:.AI-for-Othelloâ”‚ .gitignoreâ”‚ board.pyâ”‚ config.pyâ”‚ game.pyâ”‚ main.ipynbâ”‚ main.pyâ”‚ README.mdâ”‚ __init__.pyâ”‚â”œâ”€aiâ”‚ â”‚ mcts.pyâ”‚ â”‚ randm.pyâ”‚ â”‚ __init__.pyâ”‚ â”‚â”‚ â”œâ”€utilsâ”‚ â”‚ â”‚ mct.pyâ”‚ â”‚ â”‚ __init__.py åœ¨è¿™é‡Œai/utilsä¸­mct.pyéœ€è¦import board.pyä¸­çš„Boardå¯¹è±¡ç­‰ï¼Œmct.pyä¸­importå…·ä½“å†™æ³•ä¸º 1234567891011from enum import Enumfrom random import choicefrom time import timefrom copy import deepcopyimport numpy as npfrom board import Boardfrom config import C# è§£é‡Šä¸€ä¸‹è¿™è¾¹ä¸ºä»€ä¹ˆæ˜¯ç›´æ¥from boardï¼Œ å› ä¸ºæˆ‘ä»¬çš„mainå‡½æ•°å…¥å£æ˜¯main.pyæ–‡ä»¶(åœ¨å·¥ç¨‹æ ¹ç›®å½•)ï¼Œæ‰€ä»¥ä»–ä¼šæŠŠAI-for-Othelloè¿™ä¸ªè·¯å¾„ç»™åŠ å…¥åˆ°åŒ…çš„æœç´¢è·¯å¾„ä¸­ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬importå°±æ˜¯ä»¥è¿™ä¸ªè·¯å¾„(å·¥ç¨‹æ ¹ç›®å½•)å¼€å§‹ç›¸å¯¹å¯¼å…¥ â–²éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºmainå‡½æ•°å¦‚æœä¸åœ¨æ ¹ç›®å½•ï¼Œè€Œæ˜¯åœ¨å·¥ç¨‹ç›®å½•çš„å­ç›®å½•ä¸­çš„æƒ…å†µï¼Œéœ€è¦åœ¨main.pyä¸­è‡ªå·±æ‰‹åŠ¨æ·»åŠ sys.path.append(&quot;..&quot;)ï¼Œå³æƒ³åŠæ³•æŠŠå·¥ç¨‹æ ¹ç›®å½•åŠ åˆ°æœç´¢ç›®å½•ä¸­ï¼Œè¿™æ ·ä»¥åå°±å¯ä»¥åˆå¼€å§‹ä»å·¥ç¨‹æ ¹ç›®å½•å¼€å§‹importäº†ã€‚ è¿˜æœ‰ä¸€ä¸ªå¯¹äºåˆå­¦è€…å¯èƒ½ä¼šäº§ç”Ÿè‡ªæˆ‘æ€€ç–‘çš„ç‚¹ï¼Œæˆ‘ä¹Ÿé¡ºä¾¿æä¸€ä¸‹å¥½äº† 123from config import *// ç­‰ä»·äºfrom .config import * __init__æ–‡ä»¶ä½œç”¨ åœ¨Pythonå·¥ç¨‹é‡Œï¼Œå½“pythonæ£€æµ‹åˆ°ä¸€ä¸ªç›®å½•ä¸‹å­˜åœ¨__init__.pyæ–‡ä»¶æ—¶ï¼Œpythonå°±ä¼šæŠŠè¿™ä¸ªç›®å½•å½“æˆä¸€ä¸ªåŒ…(package)ã€‚Moduleè·ŸCï¼‹ï¼‹çš„å‘½åç©ºé—´å’ŒJavaçš„Packageçš„æ¦‚å¿µå¾ˆåƒï¼Œéƒ½æ˜¯ä¸ºäº†ç§‘å­¦åœ°ç»„ç»‡åŒ–å·¥ç¨‹ï¼Œç®¡ç†å‘½åç©ºé—´ã€‚ __init__.pyçš„è®¾è®¡åŸåˆ™ __init__.pyçš„åŸå§‹ä½¿å‘½æ˜¯å£°æ˜ä¸€ä¸ªæ¨¡å—ï¼Œæ‰€ä»¥å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶ã€‚ Aã€ä¸è¦æ±¡æŸ“ç°æœ‰çš„å‘½åç©ºé—´ã€‚æ¨¡å—ä¸€ä¸ªç›®çš„ï¼Œæ˜¯ä¸ºäº†é¿å…å‘½åå†²çªï¼Œå¦‚æœä½ åœ¨ç§ç”¨__init__.pyæ—¶è¿èƒŒè¿™ä¸ªåŸåˆ™ï¼Œæ˜¯åå…¶é“è€Œä¸ºä¹‹ï¼Œå°±æ²¡æœ‰å¿…è¦ä½¿ç”¨æ¨¡å—äº†ã€‚ Bã€åˆ©ç”¨__init__.pyå¯¹å¤–æä¾›ç±»å‹ã€å˜é‡å’Œæ¥å£ï¼Œå¯¹ç”¨æˆ·éšè—å„ä¸ªå­æ¨¡å—çš„å®ç°ã€‚ä¸€ä¸ªæ¨¡å—çš„å®ç°å¯èƒ½éå¸¸å¤æ‚ï¼Œä½ éœ€è¦ç”¨å¾ˆå¤šä¸ªæ–‡ä»¶ï¼Œç”šè‡³å¾ˆå¤šå­æ¨¡å—æ¥å®ç°ï¼Œä½†ç”¨æˆ·å¯èƒ½åªéœ€è¦çŸ¥é“ä¸€ä¸ªç±»å‹å’Œæ¥å£ã€‚å°±åƒæˆ‘ä»¬çš„arithmeticä¾‹å­ä¸­ï¼Œç”¨æˆ·åªéœ€è¦çŸ¥é“å››åˆ™è¿ç®—æœ‰addã€subã€mulã€devå››ä¸ªæ¥å£ï¼Œå´å¹¶ä¸éœ€è¦çŸ¥é“å®ƒä»¬æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œä¹Ÿä¸æƒ³å»äº†è§£arithmeticä¸­æ˜¯å¦‚ä½•ç»„ç»‡å„ä¸ªå­æ¨¡å—çš„ã€‚ç”±äºå„ä¸ªå­æ¨¡å—çš„å®ç°æœ‰å¯èƒ½éå¸¸å¤æ‚ï¼Œè€Œå¯¹å¤–æä¾›çš„ç±»å‹å’Œæ¥å£æœ‰å¯èƒ½éå¸¸çš„ç®€å•ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹å¼æ¥å¯¹ç”¨æˆ·éšè—å®ç°ï¼ŒåŒæ—¶æä¾›éå¸¸æ–¹ä¾¿çš„ä½¿ç”¨ã€‚ Cã€åªåœ¨__init__.pyä¸­å¯¼å…¥æœ‰å¿…è¦çš„å†…å®¹ï¼Œä¸è¦åšæ²¡å¿…è¦çš„è¿ç®—ã€‚åƒæˆ‘ä»¬çš„ä¾‹å­ï¼Œimport arithmeticè¯­å¥ä¼šæ‰§è¡Œ__ini__.pyä¸­çš„æ‰€æœ‰ä»£ç ã€‚å¦‚æœæˆ‘ä»¬åœ¨__init__.pyä¸­åšå¤ªå¤šäº‹æƒ…ï¼Œæ¯æ¬¡importéƒ½ä¼šæœ‰é¢å¤–çš„è¿ç®—ï¼Œä¼šé€ æˆæ²¡æœ‰å¿…è¦çš„å¼€é”€ã€‚ä¸€å¥è¯ï¼Œinit.pyåªæ˜¯ä¸ºäº†è¾¾åˆ°Bä¸­æ‰€è¡¨è¿°çš„ç›®çš„ï¼Œå…¶å®ƒäº‹æƒ…å°±ä¸è¦åšå•¦ã€‚ ä¸Šè¿°æ¥è‡ª: https://zhuanlan.zhihu.com/p/115350758 __all__å˜é‡ __all__æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²listï¼› çº¦æŸä½œç”¨ï¼šç”¨æ¥å®šä¹‰æ¨¡å—ä¸­å¯¹äºfrom XXX import *æ—¶è¦å¯¹å¤–å¯¼å‡ºçš„ç¬¦å·ï¼Œå³è¦æš´éœ²çš„å€Ÿå£ï¼Œä½†å®ƒåªå¯¹import *èµ·ä½œç”¨(å³å¦‚æœåœ¨ä½¿ç”¨è„šæœ¬ä¸­å¯¹å½“å‰åŒ…ä½¿ç”¨import *ï¼Œé‚£ä¹ˆå¯ä»¥ç®¡ç†å½“å‰åŒ…ä¸‹æ¨¡å—çš„å¯¼å…¥æƒ…å†µ)ï¼Œå¯¹from XXX import XXXä¸èµ·ä½œç”¨ã€‚","categories":[],"tags":[{"name":"é˜²å¿˜ç³»åˆ—","slug":"é˜²å¿˜ç³»åˆ—","permalink":"https://nymrli.top/tags/é˜²å¿˜ç³»åˆ—/"}]},{"title":"emplace_backä¸push_back","slug":"emplace-backä¸push-back","date":"2020-10-18T15:14:49.000Z","updated":"2020-10-25T07:08:58.265Z","comments":true,"path":"2020/10/18/emplace-backä¸push-back/","link":"","permalink":"https://nymrli.top/2020/10/18/emplace-backä¸push-back/","excerpt":"","text":"ä¹‹å‰çœ‹1002. æŸ¥æ‰¾å¸¸ç”¨å­—ç¬¦é¢˜è§£çš„æ—¶å€™ï¼Œå‘ç°æœ‰äººç”¨äº†emplace_backï¼Œå°†charè½¬å‹æˆäº†stringå¡è¿›äº†vector&lt;string&gt;ï¼Œæ„Ÿè§‰æ˜¯ä¸ªéªšæ“ä½œã€‚ ä¹‹å‰ä¹Ÿçœ‹è¿‡emplace_backå’Œpush_backçš„åŒºåˆ«ï¼Œ åªä¸è¿‡åˆå¿˜è®°äº†ï¼Œ å› æ­¤æœ¬æ¬¡ä¹Ÿç®—ä¸ªé˜²å¿˜ç³»åˆ—æŠŠâ€¦ 1234567vector&lt;string&gt; ans;for (int i = 0; i &lt; M; i++) &#123; for (int j = 0; j &lt; minFreq[i]; j++) &#123; // emplace_back éªšæ“ä½œ ans.emplace_back(1, 'a' + i); &#125;&#125; åœ¨STLä¸­ï¼Œè¿›è¡Œæ’å…¥å…ƒç´ çš„æ—¶å€™ï¼Œæœ‰insertå’Œpushä¸¤ç§é€‰æ‹©æ–¹å¼ï¼Œè€Œåœ¨æœ‰äº†å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰çš„æ—¶å€™ï¼Œåœ¨C++11ä¸­å°±æå‡ºäº†æ›´é«˜æ•ˆçš„æ’å…¥æ–¹æ³•ï¼šemplace_back ç›®å‰çš„è¶‹åŠ¿æ˜¯å¸Œæœ›ï¼šä½¿ç”¨emplace_back()å–ä»£push_back() æ®ç»Ÿè®¡ï¼Œemplace_back()å‡½æ•°è¦æ¯”push_back()å‡½æ•°è¦å¿«ä¸€å€ã€‚ empalceä¸pushçš„åŒºåˆ«ï¼š push_back()å‡½æ•°å‘å®¹å™¨ä¸­åŠ å…¥ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼ˆå³å€¼å…ƒç´ ï¼‰æ—¶ï¼Œ é¦–å…ˆä¼šè°ƒç”¨æ„é€ å‡½æ•°ç”Ÿæˆè¿™ä¸ªå¯¹è±¡ï¼Œç„¶åè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°å°†è¿™ä¸ªå¯¹è±¡çš„æ‹·è´æ”¾å…¥å®¹å™¨ä¸­ï¼Œ æœ€åé‡Šæ”¾ä¸´æ—¶å¯¹è±¡ï¼Œè¿™æ ·é€ æˆçš„é—®é¢˜æ˜¯ä¸´æ—¶å˜é‡ç”³è¯·çš„èµ„æºå°±æµªè´¹ã€‚ä½†æ˜¯emplace_back()å‡½æ•°å‘å®¹å™¨ä¸­ä¸­åŠ å…¥ä¸´æ—¶å¯¹è±¡ï¼Œ ä¸´æ—¶å¯¹è±¡åŸåœ°æ„é€ ï¼Œåªæœ‰è½¬ç§»çš„è¿‡ç¨‹ï¼Œæ²¡æœ‰èµ‹å€¼æˆ–æ‹·è´çš„æ“ä½œï¼ˆä¸éœ€è¦è§¦å‘æ‹·è´æ„é€ ï¼‰ã€‚ emplace_backä¸­è°ƒç”¨æ„é€ å‡½æ•° å®˜ç½‘demo Code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;vector&gt;#include &lt;string&gt;#include &lt;iostream&gt; struct President&#123; std::string name; std::string country; int year; // æ„é€ å‡½æ•° President(std::string p_name, std::string p_country, int p_year) : name(std::move(p_name)), country(std::move(p_country)), year(p_year)&#123; std::cout &lt;&lt; \"I am being constructed.\\n\"; &#125; // è½¬ç§»æ„é€ å‡½æ•° President(President&amp;&amp; other) : name(std::move(other.name)), country(std::move(other.country)), year(other.year)&#123; std::cout &lt;&lt; \"I am being moved.\\n\"; &#125; // æ‹·è´èµ‹å€¼æ“ä½œç¬¦ President&amp; operator=(const President&amp; other) = default; // æ‹·è´æ„é€ å‡½æ•°&#125;; int main()&#123; std::vector&lt;President&gt; elections; std::cout &lt;&lt; \"emplace_back:\\n\"; // noted: è¿™è¾¹å¹¶æ²¡æœ‰å†™æˆPresident(\"Nelson Mandela\", \"South Africa\", 1994) elections.emplace_back(\"Nelson Mandela\", \"South Africa\", 1994); std::vector&lt;President&gt; reElections; std::cout &lt;&lt; \"\\npush_back:\\n\"; reElections.push_back(President(\"Franklin Delano Roosevelt\", \"the USA\", 1936)); std::cout &lt;&lt; \"\\nContents:\\n\"; for (President const&amp; president: elections) &#123; std::cout &lt;&lt; president.name &lt;&lt; \" was elected president of \" &lt;&lt; president.country &lt;&lt; \" in \" &lt;&lt; president.year &lt;&lt; \".\\n\"; &#125; for (President const&amp; president: reElections) &#123; std::cout &lt;&lt; president.name &lt;&lt; \" was re-elected president of \" &lt;&lt; president.country &lt;&lt; \" in \" &lt;&lt; president.year &lt;&lt; \".\\n\"; &#125;&#125; â–²çœ‹åˆ°notedæ ‡å‡ºæ¥çš„åœ°æ–¹å, å°±èƒ½çŸ¥é“Leetcodeé¢˜è§£ä¸­çš„éªšæ“ä½œå…¶å®å°±æ˜¯æ ¹æ®Tç±»å‹åˆ¤æ–­å‡ºäº†è°ƒç”¨æ„é€ å‡½æ•°ã€‚æŒ‰å¦‚ä¸‹ä»£ç å¾—è¯ 123string a(1, 'a'+ 1);cout &lt;&lt; a &lt;&lt; endl;// &gt;&gt;&gt; b å¼•ç”³ï¼šä»€ä¹ˆæ˜¯std::move? å€Ÿé‰´: c++ ä¹‹ std::move åŸç†å®ç°ä¸ç”¨æ³•æ€»ç»“ åœ¨C++11ä¸­ï¼Œæ ‡å‡†åº“åœ¨&lt;utility&gt;ä¸­æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„å‡½æ•°std::moveï¼Œstd::moveå¹¶ä¸èƒ½ç§»åŠ¨ä»»ä½•ä¸œè¥¿ï¼Œå®ƒå”¯ä¸€çš„åŠŸèƒ½æ˜¯å°†ä¸€ä¸ªå·¦å€¼å¼ºåˆ¶è½¬åŒ–ä¸ºå³å€¼å¼•ç”¨ï¼Œç»§è€Œå¯ä»¥é€šè¿‡å³å€¼å¼•ç”¨ä½¿ç”¨è¯¥å€¼ï¼Œä»¥ç”¨äºç§»åŠ¨è¯­ä¹‰ã€‚ä»å®ç°ä¸Šè®²ï¼Œstd::moveåŸºæœ¬ç­‰åŒäºä¸€ä¸ªç±»å‹è½¬æ¢ï¼šstatic_cast&lt;T&amp;&amp;&gt;(lvalue); å·¦å€¼ã€å·¦å€¼å¼•ç”¨ã€å³å€¼ã€å³å€¼å¼•ç”¨æ¦‚å¿µ å·¦å€¼çš„å£°æ˜ç¬¦å·ä¸ºâ€&amp;â€ï¼Œ ä¸ºäº†å’Œå·¦å€¼åŒºåˆ†ï¼Œå³å€¼çš„å£°æ˜ç¬¦å·ä¸ºâ€&amp;&amp;â€ã€‚ ä¸´æ—¶å¯¹è±¡æ˜¯ä½œä¸ºå³å€¼å¤„ç†çš„ å³å€¼å¼•ç”¨çš„æ„ä¹‰ ç›´è§‚æ„ä¹‰ï¼šä¸ºä¸´æ—¶å˜é‡ç»­å‘½ï¼Œä¹Ÿå°±æ˜¯ä¸ºå³å€¼ç»­å‘½ï¼Œå› ä¸ºå³å€¼åœ¨è¡¨è¾¾å¼ç»“æŸåå°±æ¶ˆäº¡äº†ï¼Œå¦‚æœæƒ³ç»§ç»­ä½¿ç”¨å³å€¼ï¼Œé‚£å°±ä¼šåŠ¨ç”¨æ˜‚è´µçš„æ‹·è´æ„é€ å‡½æ•°ã€‚ï¼ˆå…³äºè¿™éƒ¨åˆ†ï¼Œæ¨èä¸€æœ¬ä¹¦ã€Šæ·±å…¥ç†è§£C11ã€‹ï¼‰ å³å€¼å¼•ç”¨æ˜¯ç”¨æ¥æ”¯æŒè½¬ç§»è¯­ä¹‰çš„ã€‚è½¬ç§»è¯­ä¹‰å¯ä»¥å°†èµ„æº ( å †ï¼Œç³»ç»Ÿå¯¹è±¡ç­‰ ) ä»ä¸€ä¸ªå¯¹è±¡è½¬ç§»åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·èƒ½å¤Ÿå‡å°‘ä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡çš„åˆ›å»ºã€æ‹·è´ä»¥åŠé”€æ¯ï¼Œèƒ½å¤Ÿå¤§å¹…åº¦æé«˜ C åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚ä¸´æ—¶å¯¹è±¡çš„ç»´æŠ¤ ( åˆ›å»ºå’Œé”€æ¯ ) å¯¹æ€§èƒ½æœ‰ä¸¥é‡å½±å“ã€‚ è½¬ç§»è¯­ä¹‰æ˜¯å’Œæ‹·è´è¯­ä¹‰ç›¸å¯¹çš„ï¼Œå¯ä»¥ç±»æ¯”æ–‡ä»¶çš„å‰ªåˆ‡ä¸æ‹·è´ï¼Œå½“æˆ‘ä»¬å°†æ–‡ä»¶ä»ä¸€ä¸ªç›®å½•æ‹·è´åˆ°å¦ä¸€ä¸ªç›®å½•æ—¶ï¼Œé€Ÿåº¦æ¯”å‰ªåˆ‡æ…¢å¾ˆå¤šã€‚ é€šè¿‡è½¬ç§»è¯­ä¹‰ï¼Œä¸´æ—¶å¯¹è±¡ä¸­çš„èµ„æºèƒ½å¤Ÿè½¬ç§»å…¶å®ƒçš„å¯¹è±¡é‡Œã€‚ åœ¨ç°æœ‰çš„ C++ æœºåˆ¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼å‡½æ•°ã€‚è¦å®ç°è½¬ç§»è¯­ä¹‰ï¼Œéœ€è¦å®šä¹‰è½¬ç§»æ„é€ å‡½æ•°ï¼Œè¿˜å¯ä»¥å®šä¹‰è½¬ç§»èµ‹å€¼æ“ä½œç¬¦ã€‚å¯¹äºå³å€¼çš„æ‹·è´å’Œèµ‹å€¼ä¼šè°ƒç”¨è½¬ç§»æ„é€ å‡½æ•°å’Œè½¬ç§»èµ‹å€¼æ“ä½œç¬¦ã€‚å¦‚æœè½¬ç§»æ„é€ å‡½æ•°å’Œè½¬ç§»æ‹·è´æ“ä½œç¬¦æ²¡æœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°±éµå¾ªç°æœ‰çš„æœºåˆ¶ï¼Œæ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œç¬¦ä¼šè¢«è°ƒç”¨ã€‚ æ™®é€šçš„å‡½æ•°å’Œæ“ä½œç¬¦ä¹Ÿå¯ä»¥åˆ©ç”¨å³å€¼å¼•ç”¨æ“ä½œç¬¦å®ç°è½¬ç§»è¯­ä¹‰ã€‚ extraï¼š std::moveæ‰§è¡Œä¸€ä¸ªæ— æ¡ä»¶çš„è½¬åŒ–åˆ°å³å€¼ã€‚å®ƒæœ¬èº«å¹¶ä¸ç§»åŠ¨ä»»ä½•ä¸œè¥¿ï¼› std::forwardæŠŠå…¶å‚æ•°è½¬æ¢ä¸ºå³å€¼ï¼Œä»…ä»…åœ¨é‚£ä¸ªå‚æ•°è¢«ç»‘å®šåˆ°ä¸€ä¸ªå³å€¼æ—¶ï¼› std::moveå’Œstd::forwardåœ¨è¿è¡Œæ—¶ï¼ˆruntimeï¼‰éƒ½ä¸åšä»»ä½•äº‹ã€‚","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"é˜²å¿˜ç³»åˆ—","slug":"é˜²å¿˜ç³»åˆ—","permalink":"https://nymrli.top/tags/é˜²å¿˜ç³»åˆ—/"}]},{"title":"AutoLianliankanç¬”è®°","slug":"AutoLianliankanç¬”è®°","date":"2020-10-13T10:58:47.000Z","updated":"2020-10-14T04:35:38.806Z","comments":true,"path":"2020/10/13/AutoLianliankanç¬”è®°/","link":"","permalink":"https://nymrli.top/2020/10/13/AutoLianliankanç¬”è®°/","excerpt":"","text":"è¿‘æ¥æ— äº‹ï¼Œåˆç ”ç©¶å…¶äº†ä¹‹å‰çœ‹åˆ°è¿‡çš„è‡ªåŠ¨è¿è¿çœ‹çš„ä»£ç ï¼Œç¢°åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œ å› æ­¤åšä¸‹ç¬”è®° pywin32 win32guiï¼šå®šä½çª—ä½“ï¼Œæ“ä½œçª—ä½“ win32apiï¼šæä¾›APIï¼Œæ“ä½œé¼ æ ‡ã€é”®ç›˜ win32conï¼šå…·ä½“APIäº‹ä»¶ ==&gt;å¯¹äºçª—ä½“çš„æ“ä½œä½¿ç”¨win32guiï¼›è€Œå¯¹é”®ç›˜ã€é¼ æ ‡æ“ä½œå¯ä»¥ç”¨æ›´é«˜çº§å°è£…çš„åº“pymouseã€pykeyboardï¼›å‰ªåˆ‡æ¿ä½¿ç”¨win32clipboard ç¨‹åºçš„è®¾è®¡ï¼š getWindowPosition=&gt;å…ˆç¡®å®šæ¸¸æˆçª—å£ä½ç½®posï¼Œå¹¶ç½®é¡¶ getScreenImage()==&gt;åœ¨çª—å£ç½®é¡¶åå†æˆªå›¾ getAllSquare()=&gt;æ‰¾åˆ°æ¸¸æˆè¾¹ç•Œï¼Œpos[0]+100, pos[1]+100,å³ä¸­é—´æ‰€æœ‰å›¾å—éƒ¨åˆ†ã€‚åˆ‡å‰²å‡ºæ‰€æœ‰å›¾æ¡ˆï¼›getAllSquareTypes()å°†æ‰€æœ‰å›¾æ¡ˆè¿›è¡Œæ¯”è¾ƒåˆ†ç±»ï¼Œå½’çº³å‡ºæ‰€æœ‰ä¸åŒçš„ç§ç±» 1234567# ndarrayçš„åˆ‡ç‰‡æ–¹æ³•ï¼Œ[çºµåæ ‡èµ·å§‹ä½ç½®ï¼šçºµåæ ‡ç»“æŸä¸ºæ­¢ï¼Œæ¨ªåæ ‡èµ·å§‹ä½ç½®ï¼šæ¨ªåæ ‡ç»“æŸä½ç½®]square = screen_image[game_y + y * SQUARE_HEIGHT :game_y + (y+1) * SQUARE_HEIGHT, game_x + x * SQUARE_WIDTH:game_x + (x+1) * SQUARE_WIDTH]# np.shape(square) == (65, 65, 3)# å› ä¸ºæœ‰äº›å›¾ç‰‡çš„è¾¹ç¼˜ä¸ä¸€è‡´é€ æˆå¹²æ‰°ï¼ˆä¸»è¦æ˜¯ç©ºç™½åŒºåŸŸçš„åˆ‡å›¾ï¼‰ï¼Œæ‰€ä»¥æŠŠæ¯å¼ å°æ–¹å—å‘å†…ç¼©å°ä¸€éƒ¨åˆ†å†# å¯¹æ‰€æœ‰çš„æ–¹å—è¿›è¡Œå¤„ç†å±è”½æ‰å¤–è¾¹ç¼˜ ç„¶åè¿”å›return [square[SUB_LT_Y:SUB_RB_Y, SUB_LT_X:SUB_RB_X] for square in all_square] getAllSquareRecord()==&gt;å°†ä¸åŒç§ç±»çš„å›¾æ¡ˆåšæ˜ å°„ï¼Œè½¬æ¢æˆç›¸å¯¹åº”çš„æ•°å­—çŸ©é˜µã€‚ autoRemove(result, board_pos)==&gt;æ‰§è¡Œè‡ªåŠ¨æ¶ˆé™¤ Matcherç±»==&gt;å®ç°æ¸¸æˆè§„åˆ™: æ¨ªæ¶ˆï¼Œçºµæ¶ˆï¼Œ å•æ‹ç‚¹æ¶ˆé™¤ï¼ŒåŒæ‹ç‚¹æ¶ˆé™¤ã€‚éœ€è¦æ³¨æ„è·ŸQQè¿è¿çœ‹ä¸åŒçš„æ˜¯æ²¡æœ‰å®ç°æ›´é«˜é˜¶çš„æ‹ç‚¹æ¶ˆé™¤ã€‚ é™„å½•: é‡åˆ°çš„é—®é¢˜ åˆ—è¡¨çš„æ¸…ç©º ä»£ç ä¸­æœ‰ä¸€æ®µï¼Œåœ¨lineæ»¡äº†åï¼Œä¼šå°†lineæ¸…ç©ºï¼Œå†æ·»åŠ  123if len(line) == V_NUM: result.append(line) line = [] æ³¨æ„ï¼š è¿™è¾¹çš„å†™æ³•line = []æ˜¯å¯è¡Œçš„ã€‚è€Œline.clear()æ˜¯ä¸è¡Œçš„ã€‚åŸå› æ˜¯æ¶‰åŠå†…å­˜ç©ºé—´å¼•ç”¨é—®é¢˜ åŸå› åœ¨äº: list.clear()ä¼šæ¸…é™¤å½“å‰å˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€å†…å®¹ï¼Œè€Œline = []å…¶å®æ˜¯æŒ‡å‘äº†å¦ä¸€å—åœ°å€ã€‚å› æ­¤å¯¼è‡´äº†æœ€ç»ˆçš„ç»“æœæ˜¯line = []çš„resultä¸º[[1,2,3...], [2, 3, 4...]]ï¼›è€Œlist.clear()çš„resultå…¨ä¸ºç©º[[],[],[]]] 123456789a= [1, 2, 3]print(id(a))# 1785191184200a = [1, 2]print(id(a))# 1785191276296a.clear()print(id(a))# 1785191276296 å›¾ç‰‡çš„ç»´åº¦é—®é¢˜: å¼€æºä»£ç æä¾›çš„empty.pngå›¾ç‰‡è§„æ ¼ä¸º: 25*21åƒç´ ã€‚è€Œ25å¯¹åº”çš„ä¸ºyï¼Œ 21å¯¹åº”çš„ä¸ºxã€‚è€Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨ä»£ç ä¸­ï¼Œè¡¨è¾¾ä¸ºimg[0: 25, 0: 21] GetWindowRectçª—å£å¤§å°æœ‰è¯¯ 1234567891011121314# è·å–çª—ä½“åæ ‡ä½ç½®(å·¦ä¸Š)def getGameWindowPosition(): # FindWindow(lpClassName=None, lpWindowName=None) çª—å£ç±»å çª—å£æ ‡é¢˜å window = win32gui.FindWindow(None,WINDOW_TITLE) # æ²¡æœ‰å®šä½åˆ°æ¸¸æˆçª—ä½“ while not window: print('å®šä½æ¸¸æˆçª—ä½“å¤±è´¥ï¼Œ5ç§’åé‡è¯•...') time.sleep(5) window = win32gui.FindWindow(None,WINDOW_TITLE) # å®šä½åˆ°æ¸¸æˆçª—ä½“ win32gui.SetForegroundWindow(window) # å°†çª—ä½“é¡¶ç½® pos = win32gui.GetWindowRect(window) print(\"å®šä½åˆ°æ¸¸æˆçª—ä½“ï¼š\" + str(pos)) return (pos[0],pos[1]) å¦‚å›¾æ“ä½œä¸‹æ¥, å‘ç°è¿”å›çš„posä¸º(408, 172)ï¼Œä½†ç”¨spy++æŠ“åˆ°çš„çª—å£å·¦ä¸Šè§’åæ ‡ä¸º(510, 215)ï¼Œç ”ç©¶å‘ç°æ¨ªã€çºµéƒ½æ˜¯1.25å€ï¼Œ ä»¥ä¸ºæ˜¯åˆ†è¾¨ç‡çš„é—®é¢˜ï¼Œæ‰€ä»¥æ‰“å¼€äº†â€œæ˜¾ç¤ºè®¾ç½®â€ï¼Œç»“æœæ­£å¥½çœ‹åˆ°äº†ç¼©æ”¾å¸ƒå±€æ˜¯125%ï¼Œå› æ­¤é—®é¢˜å¯èƒ½å‡ºç°åœ¨è¿™ä¸ªè®¾ç½®ä¸Šï¼Œæœç„¶ä¿®æ”¹ä¸º100%åï¼Œç¨‹åºèƒ½å¤Ÿæ­£å¸¸è¿è¡Œã€‚ é¢å¤–ï¼Œç™¾åº¦ä¹Ÿæ‰¾åˆ°äº†è¿™ä¸ªé—®é¢˜â€”â€”win32gui.GetWindowRectåœ¨win10ä¸Šè·å–çª—å£å®½é«˜ä¸æ­£ç¡®çš„å¦ä¸€ç§å¯èƒ½; win32gui.GetWindowRect() å–å€¼ä¸å‡†çš„è§£å†³æ–¹æ¡ˆâ€”â€”äº²æµ‹è¿™ä¸ªæ— æ•ˆ é™„å½•: config.pyä¸­éœ€è¦æ³¨æ„çš„è®¾ç½® 12345678910111213# æ–¹å—å®½åº¦(ç®—ä¸Šäº†è¾¹ç•Œ)SQUARE_WIDTH = 65# æ–¹å—é«˜åº¦(ç®—ä¸Šäº†è¾¹ç•Œ)SQUARE_HEIGHT = 65# ==&gt; æ‰€ä»¥æ¯å—çš„å¤§å°ä¸º(65, 65, 3)# åˆ‡ç‰‡å¤„ç†æ—¶å€™çš„å·¦ä¸Šã€å³ä¸‹åæ ‡ï¼š# æ³¨æ„ è¿™é‡Œè¦ä¹ˆä¿è¯æ˜¯21*25(å› ä¸ºå¼€æºä»£ç é‡Œçš„empty.pngæä¾›çš„æ˜¯21*25åƒç´ çš„)ã€‚å¦‚æœä¸æ˜¯ï¼ˆæ¯”å¦‚å››ä¸ªæ•°æ®æ˜¯10,10,50,50ï¼›ä¹Ÿå°±æ˜¯40*40åƒç´ ï¼‰ï¼Œé‚£ä¹ˆå°±æŠŠempty.pngå›¾ç‰‡æ›¿æ¢æˆå¯¹åº”å¤§å°çš„ä¸€å¼ å›¾ç‰‡ï¼ˆæ¯”å¦‚40*40ï¼‰ã€‚å›¾ç‰‡å¯ä»¥æ²¡ç”¨ï¼Œä½†ç¨‹åºä¸­ä¸èƒ½SUB_LT_X = 5SUB_LT_Y = 5# ä¸‹é¢ä¸¤ä¸ªå€¼å¾—å°äº60, å› æ­¤è¿˜æœ‰5æ˜¯è¾¹ç•ŒSUB_RB_X = 26SUB_RB_Y = 30","categories":[],"tags":[{"name":"GitCode","slug":"GitCode","permalink":"https://nymrli.top/tags/GitCode/"}]},{"title":"æ‰‹æ’•æ“ä½œç³»ç»Ÿä¸­çš„é¡µé¢ç½®æ¢ç®—æ³•","slug":"æ‰‹æ’•æ“ä½œç³»ç»Ÿä¸­çš„é¡µé¢ç½®æ¢ç®—æ³•","date":"2020-09-21T11:14:25.000Z","updated":"2020-12-21T04:06:55.121Z","comments":true,"path":"2020/09/21/æ‰‹æ’•æ“ä½œç³»ç»Ÿä¸­çš„é¡µé¢ç½®æ¢ç®—æ³•/","link":"","permalink":"https://nymrli.top/2020/09/21/æ‰‹æ’•æ“ä½œç³»ç»Ÿä¸­çš„é¡µé¢ç½®æ¢ç®—æ³•/","excerpt":"","text":"æ“ä½œç³»ç»ŸåŸºç¡€ å†…å­˜æ¢é¡µç®—æ³• å…¬å¹³ç®—æ³•ï¼š éšæœºç®—æ³•ã€å…ˆæ¥å…ˆå‡ºï¼ˆFIFOï¼‰ç®—æ³•ã€ç¬¬äºŒæ¬¡æœºä¼šç®—æ³•ã€æ—¶é’Ÿç®—æ³• éå…¬å¹³ç®—æ³•ï¼š æœ€ä¼˜OPTç®—æ³•ã€NRUç®—æ³•ã€LRUç®—æ³•ã€å·¥ä½œé›†ç®—æ³•ã€å·¥ä½œé›†æ—¶é’Ÿç®—æ³• å…¶ä¸­LRUç®—æ³•ä¼šè¢«é¢è¯•çš„æ—¶å€™è¦æ±‚æ‰‹æ’•ï¼Œ å› æ­¤æœ¬ç¯‡å°±ç¨å¾®ä»‹ç»ä¸€ä¸‹LRUå’ŒLFUä¸¤ä¸ªç®—æ³•ï¼Œ è¿™ä¸¤ä¸ªç®—æ³•é™¤äº†åœ¨å†…å­˜æ¢é¡µä¸Šä¼šè¢«ä½¿ç”¨åˆ°ï¼Œ ç®€å•ä»‹ç»ä¸€äº›ç®—æ³•ï¼š éšæœºæ›´æ¢ç®—æ³• éœ€è¦æ›¿æ¢é¡µé¢çš„æ—¶å€™ï¼Œäº§ç”Ÿä¸€ä¸ªéšæœºé¡µé¢å·ï¼Œæ›¿æ¢ä¸è¯¥é¡µé¢å¯¹åº”çš„ç‰©ç†é¡µé¢ã€‚ å…ˆæ¥å…ˆå‡ºï¼ˆFIFOï¼‰ç®—æ³• æ›´æ¢æœ€æ—©è¿›å…¥å†…å­˜çš„é¡µé¢ã€‚å…¶ä¸­æœ‰Beladyå¼‚å¸¸ç°è±¡: ç¼ºé¡µç‡éšå†…å­˜å—æ•°å¢åŠ è€Œå¢åŠ  æœ€ä¼˜OPTç®—æ³•ï¼š æœ€ä½³ç½®æ¢ç®—æ³•æ˜¯ç”±Beladyäº1966å¹´æå‡ºçš„ä¸€ç§ç†è®ºä¸Šçš„ç®—æ³•ã€‚å…¶æ‰€é€‰æ‹©çš„è¢«æ·˜æ±°é¡µé¢å°†æ˜¯ä»¥åæ°¸ä¸ä½¿ç”¨çš„ï¼Œæˆ–è®¸æ˜¯åœ¨æœ€é•¿ï¼ˆæœªæ¥ï¼‰æ—¶é—´å†…ä¸å†è¢«è®¿é—®çš„é¡µé¢ã€‚ é‡‡ç”¨æœ€ä½³ç½®æ¢ç®—æ³•é€šå¸¸å¯ä¿è¯è·å¾—æœ€ä½çš„ç¼ºé¡µç‡ã€‚ â–²ç”±äºäººä»¬ç›®å‰è¿˜æ— æ³•é¢„çŸ¥ï¼Œä¸€ä¸ªè¿›ç¨‹åœ¨å†…å­˜çš„è‹¥å¹²ä¸ªé¡µé¢ä¸­ï¼Œå“ªä¸€ä¸ªé¡µé¢æ˜¯æœªæ¥æœ€é•¿æ—¶é—´å†…ä¸å†è¢«è®¿é—®çš„ï¼Œå› è€Œè¯¥ç®—æ³•æ˜¯æ— æ³•å®ç°çš„ã€‚ Qï¼š æ—¢ç„¶æ— æ³•å®ç°ï¼Œ é‚£ä¹ˆä»–çš„ä»·å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ Aï¼š ä»–è¢«ä½œä¸ºè¯„ä»·ä¸€ä¸ªå†…å­˜æ¢é¡µç®—æ³•æ•ˆç‡çš„æ ‡æ¦œ NRUç®—æ³• æœ€è¿‘æœªä½¿ç”¨ç®—æ³•ï¼ˆNot Recently Usedï¼ŒNRUï¼‰ï¼Œå°±æ˜¯é€‰æ‹©ä¸€ä¸ªæœ€è¿‘æ²¡æœ‰è¢«è®¿é—®çš„é¡µé¢æ¥æ›¿æ¢ï¼Œåœ¨æ‰€æœ‰çš„æœ€è¿‘æ²¡æœ‰ä½¿ç”¨çš„é¡µé¢é‡Œï¼ŒæŒ‰ç…§å„ä¸ªé¡µé¢çš„ä¿®æ”¹ä½å’Œè®¿é—®ä½çš„ç»„åˆæ¥è¿›è¡Œåˆ’åˆ†ã€‚ç›¸æ¯”LRUéœ€è¦è¾ƒå¤šç¡¬ä»¶æ”¯æŒï¼Œ NRUç®—æ³•åœ¨é¡µè¡¨é¡¹è®¾ç½®ä¸¤ä¸ªçŠ¶æ€ä½ï¼šå¼•ç”¨ä½Rå’Œä¿®æ”¹ä½M LRU Qã€ä»€ä¹ˆæ˜¯ LRU ç®—æ³•? A: Least Recently Usedæœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç®—æ³•ï¼Œæœ¬è´¨ä¸€ç§ç¼“å­˜æ·˜æ±°ç­–ç•¥ã€‚ è®¡ç®—æœºçš„ç¼“å­˜å®¹é‡æœ‰é™ï¼Œå¦‚æœç¼“å­˜æ»¡äº†å°±è¦åˆ é™¤ä¸€äº›å†…å®¹ï¼Œç»™æ–°å†…å®¹è…¾ä½ç½®ã€‚ä½†é—®é¢˜æ˜¯ï¼Œåˆ é™¤å“ªäº›å†…å®¹å‘¢ï¼Ÿæˆ‘ä»¬è‚¯å®šå¸Œæœ›åˆ æ‰å“ªäº›æ²¡ä»€ä¹ˆç”¨çš„ç¼“å­˜ï¼Œè€ŒæŠŠæœ‰ç”¨çš„æ•°æ®ç»§ç»­ç•™åœ¨ç¼“å­˜é‡Œï¼Œæ–¹ä¾¿ä¹‹åç»§ç»­ä½¿ç”¨ã€‚é‚£ä¹ˆï¼Œä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œæˆ‘ä»¬åˆ¤å®šä¸ºã€Œæœ‰ç”¨çš„ã€çš„æ•°æ®å‘¢ï¼Ÿ LRU ç¼“å­˜æ·˜æ±°ç®—æ³•å°±æ˜¯ä¸€ç§å¸¸ç”¨ç­–ç•¥ã€‚LRU çš„å…¨ç§°æ˜¯ Least Recently Usedï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è®¤ä¸ºæœ€è¿‘ä½¿ç”¨è¿‡çš„æ•°æ®åº”è¯¥æ˜¯æ˜¯ã€Œæœ‰ç”¨çš„ã€ï¼Œå¾ˆä¹…éƒ½æ²¡ç”¨è¿‡çš„æ•°æ®åº”è¯¥æ˜¯æ— ç”¨çš„ï¼Œå†…å­˜æ»¡äº†å°±ä¼˜å…ˆåˆ é‚£äº›å¾ˆä¹…æ²¡ç”¨è¿‡çš„æ•°æ®ã€‚ â–²åŒæ—¶å®ƒä¹Ÿæ˜¯ä¸€ç§æ¢é¡µç®—æ³•ï¼Œ åœ¨å†…å­˜æ¢é¡µä¸Šéœ€è¦è¾ƒå¤šçš„ç¡¬ä»¶æ”¯æŒï¼ˆè®¡æ•°å™¨oræ ˆï¼‰ å¸¸è§çš„ç¼“å­˜ç®—æ³• LRU (Least recently used) æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼Œå¦‚æœæ•°æ®æœ€è¿‘è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå°†æ¥è¢«è®¿é—®çš„å‡ ç‡ä¹Ÿæ›´é«˜ã€‚ LFU (Least frequently used) æœ€ä¸ç»å¸¸ä½¿ç”¨ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®åœ¨æœ€è¿‘ä¸€æ®µæ—¶é—´å†…ä½¿ç”¨æ¬¡æ•°å¾ˆå°‘ï¼Œé‚£ä¹ˆåœ¨å°†æ¥ä¸€æ®µæ—¶é—´å†…è¢«ä½¿ç”¨çš„å¯èƒ½æ€§ä¹Ÿå¾ˆå°ã€‚ LFUç”±äºæ¶‰åŠé¢‘ç‡, å› æ­¤åœ¨ä»£ç å®ç°ä¸Šæœ‰ä¸ªè®¡æ•°å™¨æ¥ç»Ÿè®¡å‡ºç°æ¬¡æ•°Tï¼Œåœ¨éœ€è¦æ¢é¡µï¼ˆç¼“å­˜æ›´æ–°çš„æ—¶å€™ï¼‰å°†æ›¿æ¢æ‰æœ€ä½Tçš„key FIFO (Fist in first out) å…ˆè¿›å…ˆå‡ºï¼Œ å¦‚æœä¸€ä¸ªæ•°æ®æœ€å…ˆè¿›å…¥ç¼“å­˜ä¸­ï¼Œåˆ™åº”è¯¥æœ€æ—©æ·˜æ±°æ‰ã€‚ LRUç®—æ³•ä¸OPTç®—æ³•æ¯”è¾ƒ OPTæ˜¯ä»â€œå‘åçœ‹â€çš„è§‚ç‚¹å‡ºå‘çš„ï¼Œå³å®ƒæ˜¯ä¾æ®ä»¥åå„é¡µçš„ä½¿ç”¨æƒ…å†µè¿›è¡Œåˆ¤æ–­ï¼Œæ˜¯ç†æƒ³çŠ¶å†µï¼›è€ŒLRUç®—æ³•åˆ™æ˜¯â€œå‘å‰çœ‹â€çš„ï¼Œå³æ ¹æ®å„é¡µä»¥å‰çš„ä½¿ç”¨æƒ…å†µæ¥åˆ¤æ–­ï¼Œè€Œé¡µé¢è¿‡å»å’Œæœªæ¥çš„èµ°å‘ä¹‹é—´è™½æ— å¿…ç„¶çš„è”ç³»ï¼Œä½†ä¹Ÿæœ‰ä¸€å®šçš„é¢„æµ‹å…³ç³»ã€‚ æ€»çš„æ¥è¯´ï¼ŒLRUç®—æ³•æ˜¯ä¸€ç§æ¯”è¾ƒå¥½çš„ç®—æ³•ã€‚ Q: ç®—æ³•è¦æ±‚ LRU ç®—æ³•å®é™…ä¸Šæ˜¯è®©ä½ è®¾è®¡æ•°æ®ç»“æ„ï¼šé¦–å…ˆè¦æ¥æ”¶ä¸€ä¸ª capacity å‚æ•°ä½œä¸ºç¼“å­˜çš„æœ€å¤§å®¹é‡ï¼Œç„¶åå®ç°ä¸¤ä¸ª APIï¼Œä¸€ä¸ªæ˜¯ put(key, val) æ–¹æ³•å­˜å…¥é”®å€¼å¯¹ï¼Œå¦ä¸€ä¸ªæ˜¯ get(key) æ–¹æ³•è·å– key å¯¹åº”çš„ valï¼Œå¦‚æœ key ä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚å…¶ä¸­ï¼Œ get(key)çš„æ—¶å€™ä¼šæŠŠè¿™ä¸ªæ–°æŸ¥è¯¢çš„keyæ”¾åˆ°æœ€å‰ç«¯ ç”±äºæ€§èƒ½è¦æ±‚ï¼Œget å’Œ put æ–¹æ³•å¿…é¡»éƒ½æ˜¯ O(1) çš„æ—¶é—´å¤æ‚åº¦ã€‚ getéœ€è¦O(1) --&gt; hash or çº¿æ€§è¡¨ putéœ€è¦O(1) --&gt;é“¾è¡¨ Codingå®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147package lru;import java.util.HashMap;import java.util.Map;public class LRUCache &#123; class Node &#123; Integer key; Integer val; // åŒå‘åˆ—è¡¨: å‰åå‘èŠ‚ç‚¹ Node nxt, prev; public Node() &#123; &#125; Node(int k, int v) &#123; this.key = k; this.val = v; &#125; @Override public String toString() &#123; return \"Node&#123;\" + \"key=\" + key + \", val=\" + val + '&#125;'; &#125; &#125; class DoubleList&#123; private int size; // å¤´å°¾ç©ºæŒ‡é’ˆ private final Node head; private final Node tail; DoubleList() &#123; // åˆå§‹åŒ– this.size = 0; this.head = new Node(); this.tail = new Node(); this.head.nxt = tail; this.tail.prev = head; &#125; /** * å°†èŠ‚ç‚¹åˆ°å¤´éƒ¨, head-&gt;nxt = node; * @param node å¾…æ’å…¥èŠ‚ç‚¹ */ public void addFirst(Node node)&#123; // 4ä¸ªæŒ‡é’ˆå…³ç³» node.nxt = head.nxt; node.prev = head; head.nxt.prev = node; head.nxt = node; // è®°å¾—å¢åŠ å½“å‰å®¹å™¨Size this.size ++; &#125; public void remove(Node node)&#123; // ç•¥è¿‡å½“å‰èŠ‚ç‚¹, è°ƒæ•´å‰åæŒ‡é’ˆ node.nxt.prev = node.prev; node.prev.nxt = node.nxt; // è°ƒæ•´å®¹å™¨Size this.size--; &#125; public Node removeLast()&#123; // åˆ é™¤å°¾èŠ‚ç‚¹, ä¸ºtail.prev Node node = tail.prev; // â–²ç¬”è¯¯å†™é”™, æŸ¥äº†åŠå°æ—¶ node.nxt= tail; remove(node); // åˆ é™¤çš„æ—¶å€™è¿˜è¦åœ¨mpä¸­åˆ é™¤ç´¢å¼•, å› æ­¤è¦è¿”å›å€¼ return node; &#125; public int getSize() &#123; return this.size; &#125; @Override public String toString() &#123; return \"DoubleList&#123;\" + \"size=\" + size + '&#125;'; &#125; &#125; int capacity; Map&lt;Integer, Node&gt; mp; DoubleList list; public LRUCache(int capacity) &#123; this.capacity = capacity; list = new DoubleList(); mp = new HashMap&lt;Integer, Node&gt;(); &#125; /** * è®¿é—®è¿‡çš„keyå¯¹åº”çš„Nodeéœ€è¦æ”¾åˆ°é˜Ÿé¦–éƒ¨(æœ€è¿‘æŸ¥è¯¢) * @param key é”® * @return æœ‰ç›¸åº”çš„keyåˆ™è¿”å›å¯¹åº”Nodeçš„val, æ— åˆ™è¿”å›-1 */ public int get(int key) &#123; if ( mp.containsKey( key) )&#123; int res = mp.get(key).val; // â˜… æŠŠå½“å‰è®¿é—®çš„æ”¾åˆ°é˜Ÿé¦– put(key, res); return res; &#125; else return -1; &#125; /** * 1. å¦‚æœå·²æœ‰key, åˆ™åˆ é™¤å®¹å™¨ä¸­åŸæœ‰çš„Node, å°†å…¶æ”¾åˆ°é˜Ÿé¦– * 2. å¦‚æœæ²¡æœ‰key, * 2.1 å¦‚æœå®¹å™¨å·²æ»¡, åˆ™å°†é˜Ÿå°¾çš„æ’å‡º, å†å°†æ–°NodeåŠ åœ¨é˜Ÿé¦– * 2.2 å¦‚æœå®¹å™¨æœªæ»¡, åˆ™ç›´æ¥å°†æ–°NodeåŠ åœ¨é˜Ÿé¦– * @param key * @param value */ public void put(int key, int value) &#123; Node node = new Node(key, value); if (mp.containsKey(key))&#123; list.remove(mp.get(key)); list.addFirst(node); mp.put(key, node); &#125;else&#123; if ( list.getSize() == capacity )&#123; Node last = list.removeLast(); mp.remove(last.key); &#125; list.addFirst(node); mp.put(key, node); &#125; &#125; @Override public String toString() &#123; return \"LRUCache&#123;\" + \"capacity=\" + capacity + \", mp=\" + mp.toString() + \", list=\" + list.toString() + '&#125;'; &#125;&#125; LeetCodeä»£ç æ£€éªŒ : 146. LRUç¼“å­˜æœºåˆ¶ ç®—æ³•å®ç°å‚è€ƒï¼š LRUç®—æ³•ï¼šæ‰‹æŠŠæ‰‹å¸¦ä½ å®ç°ä¸€ä¸ªå¹²å•¥éƒ½å¿«çš„å¿«ä¹ç®—æ³•ï¼Œ æ€è·¯æŒºæ¸…æ™°çš„ï¼Œ åªä¸è¿‡åªæœ‰LRUCacheçš„ä»£ç ï¼Œ éœ€è¦è‡ªå·±å®ç°åŒå‘é“¾è¡¨ LFU LFU (Least frequently used) æœ€ä¸ç»å¸¸ä½¿ç”¨ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®åœ¨æœ€è¿‘ä¸€æ®µæ—¶é—´å†…ä½¿ç”¨æ¬¡æ•°å¾ˆå°‘ï¼Œé‚£ä¹ˆåœ¨å°†æ¥ä¸€æ®µæ—¶é—´å†…è¢«ä½¿ç”¨çš„å¯èƒ½æ€§ä¹Ÿå¾ˆå°ã€‚ LFUç”±äºæ¶‰åŠé¢‘ç‡, å› æ­¤åœ¨ä»£ç å®ç°ä¸Šæœ‰ä¸ªè®¡æ•°å™¨æ¥ç»Ÿè®¡å‡ºç°æ¬¡æ•°Tï¼Œåœ¨éœ€è¦æ¢é¡µï¼ˆç¼“å­˜æ›´æ–°çš„æ—¶å€™ï¼‰å°†æ›¿æ¢æ‰æœ€ä½Tçš„ke ç®—æ³•å®ç°æ€è·¯ï¼š O(1)æŸ¥è¯¢ï¼š hash+ O(1)ä¿®æ”¹+é¢‘ç‡æ’åºï¼šset é™„å½• å‚è€ƒé“¾æ¥: ã€1ã€‘ç®€å•æ˜“æ‡‚ï¼ŒåŒ…ä½ å­¦ä¼šï¼ | æ“ä½œç³»ç»Ÿ | é¡µé¢ç½®æ¢ â€”â€” è®¤çŸ¥æ€§äº†è§£ æ“ä½œç³»ç»Ÿ-é¡µé¢ç½®æ¢ç®—æ³•ï¼ˆOPTã€FIFOã€LRUã€â€”â€”æ¢é¡µè¿‡ç¨‹","categories":[],"tags":[]},{"title":"docsifyä½¿ç”¨è®°å½•","slug":"docsifyä½¿ç”¨è®°å½•","date":"2020-09-15T02:30:43.000Z","updated":"2020-09-15T07:45:46.873Z","comments":true,"path":"2020/09/15/docsifyä½¿ç”¨è®°å½•/","link":"","permalink":"https://nymrli.top/2020/09/15/docsifyä½¿ç”¨è®°å½•/","excerpt":"","text":"Docsify æ˜¯ä»€ä¹ˆï¼Ÿ Docsify ä¸€ä¸ªç¥å¥‡çš„åŠ¨æ€ç”Ÿæˆæ–‡æ¡£ç½‘ç«™çš„å·¥å…·ã€‚ ä¸åŒäº GitBookã€Hexo çš„åœ°æ–¹æ˜¯å®ƒä¸ä¼šç”Ÿæˆå°† .md è½¬æˆ .html æ–‡ä»¶ï¼Œæ‰€æœ‰è½¬æ¢å·¥ä½œéƒ½æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œã€‚ è¾ƒå¤šä½¿ç”¨çš„åœºæ™¯æ˜¯GitHubä¸­å¯¹æŸä¸€å¼€æºç¨‹åºçš„æ–‡æ¡£ä»‹ç»ï¼Œç”±äºdocsifyçš„ä¸»é¢˜è¾ƒä¸ºå¥½çœ‹ï¼Œ ä¸”è½»é‡ã€æ˜“ä½¿ç”¨ï¼Œå› æ­¤ä½¿ç”¨ä¹Ÿè¾ƒä¸ºå¹¿æ³›ã€‚åŒæ—¶å®ƒä¹Ÿæ”¯æŒå¾ˆå¤šæ’ä»¶æ¥ä¸°å¯ŒåŠŸèƒ½ã€‚ä½†è·ŸHexoç›¸æ¯”ï¼Œä¸ªäººæ„Ÿå®˜ä¸ŠHexoæ›´é€‚åˆåšä¸ªäººåšå®¢ï¼Œ è€Œdocsifyæ›´é€‚åˆä¸“é—¨æ¥å†™ç¨‹åºçš„ä»‹ç»æ–‡æ¡£ æ˜¥æ‹›çš„æ—¶å€™èƒŒäº†å¾ˆå¤šçš„é¢ç»ï¼Œ åªä¸è¿‡ç§‹æ‹›å›å¤´æ¥çœ‹åŸºæœ¬ä¸Šåˆéƒ½è®°ä¸å¤ªæ¸…äº†ï¼Œäºæ˜¯æƒ³è‡ªå·±æ•´ç†äº›é¢ç»ç¬”è®°å•¥çš„ã€‚ ä¹‹å‰ä¹Ÿè¯•è¿‡åœ¨ä¸ªäººåšå®¢ä¸Šå‘è¡¨ï¼Œ åªä¸è¿‡æ„Ÿè§‰è¿˜æ˜¯ä¸é€‚åˆé˜…è¯»ï¼Œå› æ­¤æ­£å¥½æƒ³èµ·æ¥ä¹‹å‰äº†è§£è¿‡Docsifyï¼Œå› æ­¤è¿™æ¬¡æ‰“ç®—åœ¨å†™é¢ç»çš„æ—¶å€™é¡ºä¾¿ä¹Ÿç»ƒä¹ ã€ç†Ÿç»ƒä¸‹Docsifyã€‚ å®˜æ–¹æ–‡æ¡£å¿«é€Ÿä½¿ç”¨ä»‹ç»çš„å¾ˆå…¨äº†ï¼Œå…ˆè´´ä¸ªå®˜æ–¹æ–‡æ¡£ã€‚ Start to Run it 1.å®‰è£…docsifyå·¥å…·:npm i docsify-cli -g 2.åˆå§‹åŒ–é¡¹ç›®: docsify init [./docs] , []ä¸­å†…å®¹ä¸ºæŒ‡å®šç”Ÿæˆç›®å½•, ä¸å¡«é»˜è®¤ä¸ºå½“å‰ç›®å½• åˆå§‹åŒ–æˆåŠŸåï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆ ç›®å½•ä¸‹åˆ›å»ºçš„å‡ ä¸ªæ–‡ä»¶ index.html å…¥å£æ–‡ä»¶ã€æ’ä»¶ç­‰é…ç½®éƒ½å†™åœ¨è¿™ README.md ä¼šåšä¸ºä¸»é¡µå†…å®¹æ¸²æŸ“ï¼Œç¼–è¾‘å³å¯æ›´æ–°æ–‡æ¡£å†…å®¹ .nojekyll ç”¨äºé˜»æ­¢ GitHub Pages å¿½ç•¥æ‰ä¸‹åˆ’çº¿å¼€å¤´çš„æ–‡ä»¶ 3.é¢„è§ˆæ•ˆæœï¼š docsify serve [docs]ï¼Œ é€šè¿‡è¿è¡Œ docsify serve å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®æ—¶é¢„è§ˆæ•ˆæœã€‚é»˜è®¤è®¿é—®åœ°å€ http://localhost:3000 ã€‚ å¤šé¡µæ–‡æ¡£ å®šåˆ¶åŒ– è‡ªå®šä¹‰å¯¼èˆªæ : è®¾ç½®ä¸º true åä¼šåŠ è½½ _navbar.md æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ–‡ä»¶åã€‚ è‡ªå®šä¹‰ä¾§è¾¹æ : è®¾ç½®ä¸º true åä¼šåŠ è½½ _sidebar.md æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ–‡ä»¶åã€‚ å¯ç”¨å°é¢é¡µ: å¼€å¯åæ˜¯åŠ è½½ _coverpage.md æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ–‡ä»¶åã€‚ markdowné…ç½® æ’ä»¶ index.html 1234567891011121314151617181920212223242526272829303132333435363738394041&lt;script&gt; window.$docsify = &#123; name: 'Javaå·¥ç¨‹å¸ˆæˆç¥ä¹‹è·¯', repo: 'https://github.com/hollischuang/toBeTopJavaer', loadSidebar: true, subMaxLevel: 3, autoHeader: true, search: &#123; paths: 'auto', placeholder: 'ğŸ” æœç´¢ ', noData: 'å“å‘€ï¼Œæ²¡æœ‰æ‰¾åˆ°å‘€ï¼ ', // Headline depth, 1 - 6 depth: 3 &#125;, copyCode: &#123; buttonText : 'å¤åˆ¶', errorText : 'Error', successText: 'OK!' &#125;, pagination: &#123; previousText: 'ä¸Šä¸€ç« ', nextText: 'ä¸‹ä¸€ç« ', &#125;, coverpage: true &#125;&lt;/script&gt;&lt;script src=\"//unpkg.com/docsify/lib/docsify.min.js\"&gt;&lt;/script&gt;&lt;!--ä»£ç å—å¤åˆ¶æ’ä»¶--&gt;&lt;script src=\"//unpkg.com/docsify-copy-code\"&gt;&lt;/script&gt;&lt;!-- å›¾ç‰‡ç¼©æ”¾æ’ä»¶ --&gt;&lt;script src=\"https://cyc-1256109796.cos.ap-guangzhou.myqcloud.com/zoom-image.min.js\"&gt;&lt;/script&gt;&lt;!--æœç´¢æ’ä»¶--&gt;&lt;script src=\"https://cdn.bootcss.com/docsify/4.5.9/plugins/search.min.js\"&gt;&lt;/script&gt;&lt;!--è¯­æ³•é«˜äº®æ’ä»¶--&gt;&lt;script src=\"//unpkg.com/prismjs/components/prism-java.min.js\"&gt;&lt;/script&gt;&lt;script src=\"//unpkg.com/prismjs/components/prism-bash.min.js\"&gt;&lt;/script&gt;&lt;!--åˆ†é¡µæ’ä»¶--&gt;&lt;script src=\"//unpkg.com/docsify-pagination/dist/docsify-pagination.min.js\"&gt;&lt;/script&gt;&lt;!--ç»Ÿè®¡è®¿é—®é‡æ’ä»¶--&gt;&lt;script async src=\"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"&gt;&lt;/script&gt; é™„å½•ï¼š To Be Top Javaer - Javaå·¥ç¨‹å¸ˆæˆç¥ä¹‹è·¯","categories":[],"tags":[]},{"title":"æ•°æ®ç»“æ„â€”â€”å•è°ƒæ ˆ","slug":"æ•°æ®ç»“æ„â€”â€”å•è°ƒæ ˆ","date":"2020-09-08T11:25:38.000Z","updated":"2022-03-08T07:33:50.265Z","comments":true,"path":"2020/09/08/æ•°æ®ç»“æ„â€”â€”å•è°ƒæ ˆ/","link":"","permalink":"https://nymrli.top/2020/09/08/æ•°æ®ç»“æ„â€”â€”å•è°ƒæ ˆ/","excerpt":"","text":"ç§‹å­£PATçš„ç¬¬ä¸€é¢˜å°±æ˜¯å•è°ƒæ ˆï¼Œä¹‹å‰æ²¡æ€ä¹ˆå­¦è¿‡ï¼Œ å› æ­¤è¿™æ¬¡ä¸“é—¨å­¦ä¹ åšä¸‹ç¬”è®°ã€‚ å•è°ƒæ ˆMonotone Stack æ¦‚å¿µ: ä»è¡Œä¸ºä¸Šçœ‹ï¼Œå®ƒä¸ä»…ä»…æ˜¯ç”¨å­˜å‚¨ä¸è®¿é—®å—é™çš„æ ˆï¼Œè€Œæ˜¯ä¸€ç§è¾…åŠ©å·¥å…·ï¼Œç”¨äºæ£€æµ‹æ•°æ®çš„å•è°ƒæ€§å˜åŒ–å¹¶ä½œå‡ºååº”ï¼ˆè¡¨ç°: å½“å…¥æ ˆå…ƒç´ ä¼šå½±å“æ ˆæ€»ä½“å•è°ƒæ€§æ—¶ï¼Œè¦å‡ºæ ˆä¸€äº›å…ƒç´ ä»¥ç»´æŒå•è°ƒæ€§ï¼‰ åœºæ™¯ï¼š å‘å·¦orå‘å³æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¨å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ ã€å…¶ç´¢å¼•ä¸‹æ ‡ï¼› ç¡®å®šæŸæ¡ä»¶ï¼ˆå•è°ƒï¼‰ä¸‹çš„æœ€é•¿åŒºé—´ï¼› ç¡®å®šåŒºé—´æ„æˆçš„æå€¼ï¼Œå¦‚max fï¼ˆlaï¼Œb]ï¼‰ï¼› Pointï¼š å•è°ƒé€’å¢æ ˆ: æŒ‡æ ˆå†…å…ƒç´ çš„å‡ºæ ˆåºåˆ—é€’å¢ï¼ˆæˆ–é€’å‡ï¼‰ï¼Œè€Œæ ˆå†…å…ƒç´ æ˜¯é€’å‡ï¼ˆæˆ–é€’å¢ï¼‰ï¼Œå³å½“å…ƒç´ æ¯”æ ˆé¡¶å°çš„æ—¶å€™å…¥æ ˆã€‚å› æ­¤éœ€è¦è¾“å‡ºä¸‹ä¸€ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚ å½“ç„¶ä¹Ÿæœ‰äººæ˜¯ç›´æ¥æ ¹æ®æ ˆå†…å…ƒç´ å¤§å°å…³ç³»æ¥åŒºåˆ«ï¼Œ æ¯”å¦‚æ ˆå†…å…ƒç´ é€’å‡å°±å«åšé€’å‡æ ˆã€‚ æ­¤å¤–æ²¡æœ‰åŒå‘æ ˆçš„å­˜åœ¨ã€‚ ==&gt;2021å¹´10æœˆ26æ—¥â€”â€”æ˜ç¡®ä¸‹å®šä¹‰ï¼šå•è°ƒé€’å‡æ ˆä¸ºå‡ºä»æ ˆåº•å¾€æ ˆé¡¶çœ‹ï¼Œå…ƒç´ å¤§å°æˆé€’å‡æ’åˆ—ã€‚å…¶å®ä¸Šï¼Œæ­£ç¡®çš„ç†è§£åº”è¯¥ä»æ‰«æçš„è§’åº¦æ¥çœ‹ï¼Œæ¯”å¦‚ä»å·¦å¾€å³æ‰«ææ—¶ï¼Œå¦‚æœå…ƒç´ ä¾æ¬¡é€’å‡ï¼Œåˆ™ç»Ÿç»Ÿä¼šå…¥æ ˆï¼Œe.g. [4,2,1,5,8], ==&gt; å½“5å…¥æ ˆæ—¶ï¼Œå•è°ƒé€’å‡çš„æ ˆ[4,2,1]æ¨ªè¿‡æ¥çœ‹å°±æ˜¯åŸåˆ—è¡¨å•è°ƒé€’å‡çš„å­åºåˆ—ã€‚ å½’çº³ï¼š å½“ä»å·¦å¾€å³æ‰«æç»´æŠ¤å•è°ƒé€’å‡æ ˆæ—¶ï¼Œå¯ä»¥æ±‚å…ƒç´ å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”ä»–å¤§çš„å…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ±‚å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´  å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”ä»–å¤§çš„å…ƒç´ ï¼šå½“ä»¥å…¥æ ˆå…ƒç´ çš„è§’åº¦çœ‹æ—¶ï¼Œå¦‚æœæ ˆå†…å…ƒç´ ä¸€ç›´æ¯”å®ƒå°ï¼Œåˆ™ä¸æ–­popï¼Œç›´åˆ°popä¸å‡ºå»å…ƒç´ ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„æ ˆé¡¶å…ƒç´ å°±æ˜¯å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´  å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ï¼šå½“ä»¥æ ˆå†…å…ƒç´ çš„è§’åº¦çœ‹æ—¶ï¼ŒæŠŠä»–popå‡ºå»çš„å…¥æ ˆå…ƒç´ å°±æ˜¯å½“å‰æ ˆé¡¶å…ƒç´ å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´  å¯è§ï¼šä»ä¸åŒçš„è§’åº¦çœ‹ï¼Œèƒ½å¾—åˆ°ä¸åŒçš„æ•ˆæœï¼Œä»£ç ç¼–å†™çš„åŒºåˆ«åœ¨äºansæ•°ç»„çš„æ›´æ–°ï¼šä¸€ä¸ªåœ¨whileä¸æ–­popçš„è¿‡ç¨‹ä¸­æ›´æ–°ï¼ˆæ ˆå†…è¢«å¼¹èµ°å…ƒç´ çš„è§’åº¦ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯whileåˆ°popåœä¸‹åæ›´æ–°ï¼ˆå…¥æ ˆå…ƒç´ çš„è§’åº¦ï¼‰ã€‚ å®é™…ä¸Šï¼Œå·¦è¾¹ç¬¬ä¸€ä¸ªå¤§çš„å…ƒç´ å’Œå³è¾¹ç¬¬ä¸€ä¸ªå¤§çš„å…ƒç´ æ˜¯ç­‰ä»·çš„ï¼Œå› ä¸ºå½“ä»å·¦å¾€å³æ‰«ææ—¶æ±‚å³è¾¹ç¬¬ä¸€ä¸ªå¤§çš„å…ƒç´ é—®é¢˜ï¼Œå½“å§åŸåºåˆ—ç¿»è½¬ï¼ˆæˆ–æ˜¯ä»å³å¾€å·¦æ‰«ææ—¶ï¼‰ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯å¯¹åŸåºåˆ—è€Œè¨€æ¯ä¸ªæ•°å·¦è¾¹ç¬¬ä¸€ä¸ªå¤§çš„å…ƒç´ ã€‚ æ ¸å¿ƒæ€æƒ³ åœ¨å…ƒç´ Yå…¥æ ˆçš„æ—¶å€™ä¼šè·Ÿæ ˆé¡¶å…ƒç´ Xæ¯”è¾ƒï¼Œ å¦‚æœYæ¯”æ ˆå†…æ‰€æœ‰å…ƒç´ Xséƒ½å¤§çš„è¯ï¼Œå°±å¯ä»¥æ‹¿åˆ°æ ˆé‡Œæ‰€æœ‰çš„å…ƒç´ å³åŒºé—´ã€‚å…³é”®æ˜¯è¿™ä¸ªæ¯”è¾ƒï¼Œ å°±å¯ä»¥æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„æ•°æ®ã€‚ e.g.æœ‰åˆ—è¡¨[1, 3, 2, 0, 7]ï¼Œä»å·¦å‘å³éå†ï¼Œå½“éå†ä¸º7æ—¶æ ˆé‡Œæœ‰[3, 2, 0]ï¼Œæ­¤æ—¶å…¥æ ˆå…ƒç´ ä¸º7ï¼Œ èƒ½å¾—åˆ°==&gt;é‚£ä¹ˆå¯¹äº0æ¥è¯´ï¼Œå³è¾¹æœ€å¤§çš„å°±æ˜¯å½“å‰å…¥æ ˆå…ƒç´ 7ï¼Œ å·¦è¾¹æœ€å°çš„å°±æ˜¯æ ˆå†…ä¸‹ä¸€ä¸ªå…ƒç´ 2ã€‚è€Œå¯¹3æ¥è¯´ï¼Œæ­¤æ—¶3ä¸Šè¾¹çš„å…ƒç´ å°±éƒ½æ˜¯æ¯”3å°çš„å…ƒç´ ä»¬ã€‚ Codeæ¨¡æ¿ï¼š 123456789def getFirstMax(nums: List[int]): # ç«™å†…å…ƒç´ é€’å‡æ ˆï¼Œ è¾“å‡ºåºåˆ—é€’å¢ stack = [] for i in range(len(nums) - 1, -1, -1): val = nums[i] if stack and val &gt; stack[-1]: stack.pop() # å…¥æ ˆæ“ä½œåœ¨ä¹‹å‰é€»è¾‘éƒ½æ‰§è¡Œå®Œä¹‹å“¦å¼ï¼Œæœ€åå†å…¥æ ˆ stack.append(val) è¿™ç§å†™æ³•ï¼Œ ä¸»è¦æ˜¯è¿ç”¨çš„stack.popå…ƒç´  ä¾‹é¢˜ Leetcode#496ï¼š å•è°ƒæ ˆ Leetcode #496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I 12345678910class Solution: def nextGreaterElement(self, nums1: List[int], nums2: List[int]) -&gt; List[int]: hash_dict = dict() stack = [] for i in nums2: while stack and i &gt; stack[-1]: # åœ¨åŸæœ‰åºåˆ—ä¸­æ¯”æ ˆé¡¶å…ƒç´ å¤§çš„å°±æ˜¯å½“å‰å…¥æ ˆå…ƒç´ i hash_dict[stack.pop()] = i stack.append(i) return [hash_dict.get(i,-1) for i in nums1] Leetcode#962. æœ€å¤§å®½åº¦å¡ï¼š å•è°ƒæ ˆ Qï¼š ä¸ºä»€ä¹ˆæƒ³åˆ°äº†å•è°ƒæ ˆï¼Ÿ Aï¼šå‚çœ‹é¢˜è§£ï¼šé¦–å…ˆæŠŠAæ•°ç»„ä¸­çš„ä»¥A[0]å¼€å¤´çš„é€’å‡åºåˆ—æŠ½å–å‡ºæ¥ï¼Œæˆ‘ä»¬æœ€åè¦æ±‚çš„æœ€å¤§çš„å®½åº¦å¡ä¸€å®šæ˜¯ä»¥è¿™ä¸ªåºåˆ—ä¸­çš„æŸä¸€ä¸ªiä¸ºå¡åº•çš„ï¼Œæˆ‘ä»¬åè¯ä¸€ä¸‹ å‡è®¾å­˜åœ¨æŸä¸ªå…ƒç´ ä½ç½®kä¸å­˜åœ¨äºä¸Šé¢çš„é€’å‡åºåˆ—ä¸­ï¼Œä¸”æœ‰æœ€å¤§å®½åº¦j-kï¼Œè¿™ä¹Ÿå°±è¯´æ˜kä½ç½®çš„å…ƒç´ ä¸€å®šæ˜¯å°äºkå‰é¢æ‰€æœ‰çš„å…ƒç´ çš„ï¼Œå¦åˆ™å°±ä¼šæœ‰æ›´é•¿çš„å®½åº¦ï¼Œä½†æ˜¯æ—¢ç„¶kå°äºå‰é¢æ‰€æœ‰çš„å…ƒç´ ï¼Œé‚£ä¹ˆkå°±ä¸€å®šä¼šè¢«åŠ å…¥åˆ°åºåˆ—ä¸­ï¼Œä¸å‡è®¾çŸ›ç›¾ï¼Œæ‰€ä»¥ä¸å­˜åœ¨kï¼Œè§£ä¸€å®šå­˜åœ¨é€’å‡åºåˆ—ä¸­ è¿™æ ·çš„è¯æˆ‘ä»¬å¯ä»¥é€†å‘éå†æ•°ç»„ï¼Œæ¯æ¬¡é‡åˆ°å…ƒç´ å¤§äºæ ˆé¡¶çš„å°±å¯ä»¥è®¡ç®—å®½åº¦ï¼Œç„¶åå°†æ ˆé¡¶å¼¹å‡ºï¼Œå› ä¸ºæ˜¯é€†åºéå†çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå®½åº¦ä¸€å®šæ˜¯æ ˆé¡¶è¿™ä¸ªå¡åº•ièƒ½å½¢æˆçš„æœ€å¤§å®½åº¦äº†ï¼Œ é€†åºéå†å†å¾€å‰çš„è¯å³ä½¿å¤§äºè¿™ä¸ªæ ˆé¡¶ï¼Œå½¢æˆçš„å®½åº¦ä¹Ÿåªä¼šå‡å°ï¼Œæ‰€ä»¥è¿™ä¸ªæ ˆé¡¶æ˜¯å¯ä»¥ç›´æ¥popå‡ºå»çš„ï¼Œæˆ‘ä»¬éå†æ‰€æœ‰çš„å¡åº•æ±‚æœ€å¤§å€¼å°±è¡Œäº†ï¼Œæ—¶é—´å¤æ‚åº¦O(N) ä½œè€…ï¼šresolmi https://leetcode-cn.com/problems/maximum-width-ramp/solution/java-dan-diao-zhan-er-fen-jie-fa-chang-shi-jie-shi/ 12345678910111213141516171819202122232425262728293031323334353637/* * @Author: Mrli * @Date: 2020-09-14 10:16:57 * @LastEditTime: 2020-09-14 11:03:29 * @Description: */#include &lt;bits/stdc++.h&gt;using namespace std;int maxWidthRamp(vector&lt;int&gt;&amp; A) &#123; stack&lt; int &gt; st; int len = A.size(); // ç»´æŠ¤ä¸€ä¸ªé€’å‡æ ˆ for (int i = 0; i &lt; len; i++) &#123; if (st.empty() || A[i] &lt;= A[st.top()]) st.push(i); &#125; int ans = 0; int i = len - 1; while( i &gt; ans)&#123; // æ ¹æ®å•è°ƒæ ˆçš„å«ä¹‰ï¼Œ æ­¤æ—¶å…¥æ ˆA[i]ï¼Œ å¯ä»¥å¾—åˆ° st.top() å³è¾¹æ¯”å…¶å¤§çš„ä¸ºA[i]ï¼Œ åŒæ—¶æ ˆé‡Œä¹Ÿéƒ½æ˜¯æ¯”A[i]å°çš„å…ƒç´  while( !st.empty() &amp;&amp; A[st.top()] &lt;= A[i] )&#123; // printf(\"A[%d]:%d A[%d]:%d\\n\", st.top(), A[st.top()], i, A[i] ); ans = max(ans, i - st.top()); st.pop(); &#125; i --; &#125; return ans;&#125; int main()&#123; vector&lt;int&gt; A = &#123;6,0,8,2,1,5&#125;; int ans = maxWidthRamp(A); cout &lt;&lt;ans &lt;&lt;endl; return 0;&#125; Leetcode#1124ï¼š å‰ç¼€å’Œ+å•è°ƒæ ˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;bits/stdc++.h&gt;using namespace std;int longestWPI(vector&lt;int&gt;&amp; hours) &#123; int len = hours.size(); // hash for(int i = 0; i &lt; len; i ++ )&#123; if ( hours[i] &gt; 8) hours[i] = 1; else hours[i] = -1; &#125; // 1, 1, -1, -1, -1, -1, 1 vector&lt;int&gt; sum(len + 1, 0); for(int i = 1; i &lt;= len; i++ )&#123; sum[i] = sum[i - 1] + hours[i - 1]; &#125; stack&lt;int&gt; st; // é¡ºåºç”Ÿæˆå•è°ƒæ ˆï¼Œæ ˆä¸­å…ƒç´ ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ä¸¥æ ¼å•è°ƒé€’å‡ï¼Œæœ€åä¸€ä¸ªå…ƒç´ è‚¯å®šæ˜¯æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ æ‰€åœ¨ä½ç½® for(int i = 0; i &lt;= len; i++ )&#123; if ( st.empty() || sum[i] &lt; sum[st.top()]) st.push(i); &#125; int ans = 0; /** å¸¸è§„å†™æ³•ï¼š */ for (int i = len; i &gt;= 0 ; i--) &#123; while( !st.empty() &amp;&amp; sum[st.top()] &lt; sum[i])&#123; ans = max(ans, i - st.top()); st.pop(); &#125; &#125; /** å†™æ³•äºŒ: */ int i = len; // å€’åºæ‰«ææ•°ç»„ï¼Œæ±‚æœ€å¤§é•¿åº¦å¡ while( i &gt; ans)&#123; // sum[st.top()] &lt; sum[i]å®é™…å°±æ˜¯æ‰¾åˆ° sum &gt; 0, å³åé¢ç´¢å¼•jçš„sum - å‰é¢ç´¢å¼•içš„sum &gt; 0 while( !st.empty() &amp;&amp; sum[st.top()] &lt; sum[i])&#123; ans = max(ans, i - st.top()); st.pop(); &#125; i -= 1; &#125; return ans;&#125; int main()&#123; vector&lt;int&gt; A = &#123;9,9,6,0,6,6,9&#125;; int ans = longestWPI(A); cout &lt;&lt;ans &lt;&lt;endl; return 0;&#125;// æ­¤é¢˜å•è°ƒæ ˆå…·ä½“æ€ä¹ˆæ¥çš„å¯ä»¥çœ‹é¢˜è§£ï¼š https://leetcode-cn.com/problems/longest-well-performing-interval/solution/can-kao-liao-ji-ge-da-shen-de-ti-jie-zhi-hou-zong-/ å‚çœ‹ï¼šBilibiliã€å¸¦å†™03ã€‘pythonå‰ç¼€å’Œä¸å•è°ƒæ ˆ.mp4 å•è°ƒé˜Ÿåˆ— P1886 æ»‘åŠ¨çª—å£ /ã€æ¨¡æ¿ã€‘å•è°ƒé˜Ÿåˆ— 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;bits/stdc++.h&gt;using namespace std;// è¿™ä¸ªå†™æ³•å¯ä»¥å€Ÿé‰´ä¸€ä¸‹struct node&#123; int val; int id; // ä¸‹æ ‡&#125;;vector&lt;int&gt; v1; // æœ€å°vector&lt;int&gt; v2; // æœ€å¤§int n, k;deque&lt;node&gt; q1;deque&lt;node&gt; q2;int main()&#123; cin &gt;&gt; n &gt;&gt; k; int val; for (int i = 1; i &lt;= n; i++) &#123; node nd; cin &gt;&gt; nd.val; nd.id = i; // å¦‚æœå½“å‰å…ƒç´ å°äºæ ˆé¡¶å…ƒç´ ï¼Œ åˆ™æ ˆé¡¶å…ƒç´ å‡ºæ ˆ // --&gt;è·å¾—æ ˆé¡¶å°äºå½“å‰é¢„ç®— while( !q1.empty() &amp;&amp; nd.val &lt;= q1.back().val)&#123; q1.pop_back(); &#125; while( !q2.empty() &amp;&amp; nd.val &gt;= q2.back().val) q2.pop_back(); q1.push_back(nd); q2.push_back(nd); if ( i - q1.front().id + 1 &gt; k) q1.pop_front(); // å¦‚æœæ ˆåº•å…ƒç´ å·²ç»è¶…å‡ºè¾¹ç•Œåˆ™å‡ºæ ˆ if ( i - q2.front().id + 1 &gt; k) q2.pop_front(); if (i &gt;= k)&#123; // å½“ç´¢å¼•æ»¡è¶³çª—å£å¤§å°çš„æ—¶å€™æ‰è¿›è¡Œæ“ä½œ v1.push_back(q1.front().val); // æ ˆåº•å…ƒç´ ä¸ºå½“å‰kçª—å£ä¸­æœ€å°çš„ v2.push_back(q2.front().val); // æ ˆåº•å…ƒç´ ä¸ºå½“å‰kçª—å£ä¸­æœ€å¤§çš„ &#125; &#125; int len = v1.size(); for (int i = 0; i &lt; len; i++) &#123; cout &lt;&lt; v1[i] &lt;&lt; \" \"; &#125; cout &lt;&lt; endl; len = v2.size(); for (int i = 0; i &lt; len; i++) &#123; cout &lt;&lt; v2[i] &lt;&lt; \" \"; &#125; return 0;&#125; holiday é¢˜ç›®æè¿° ç»è¿‡å‡ ä¸ªæœˆè¾›å‹¤çš„å·¥ä½œï¼ŒFJå†³å®šè®©å¥¶ç‰›æ”¾å‡ã€‚ å‡æœŸå¯ä»¥åœ¨1â€¦Nå¤©å†…ä»»æ„é€‰æ‹©ä¸€æ®µï¼ˆéœ€è¦è¿ç»­ï¼‰ï¼Œæ¯ä¸€å¤©éƒ½æœ‰ä¸€ä¸ªäº«å—æŒ‡æ•°Wã€‚ä½†æ˜¯å¥¶ç‰›çš„è¦æ±‚éå¸¸è‹›åˆ»ï¼Œå‡æœŸä¸èƒ½çŸ­äºPå¤©ï¼Œå¦åˆ™å¥¶ç‰›ä¸èƒ½å¾—åˆ°è¶³å¤Ÿçš„ä¼‘æ¯ï¼›å‡æœŸä¹Ÿä¸èƒ½è¶…è¿‡Qå¤©ï¼Œå¦åˆ™å¥¶ç‰›ä¼šç©çš„è…»çƒ¦ã€‚ FJæƒ³çŸ¥é“å¥¶ç‰›ä»¬èƒ½è·å¾—çš„æœ€å¤§äº«å—æŒ‡æ•°ã€‚ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡Œï¼šN,P,Q. ç¬¬äºŒè¡Œï¼šNä¸ªæ•°å­—ï¼Œä¸­é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚ è¾“å‡ºæ ¼å¼ ä¸€ä¸ªæ•´æ•°ï¼Œå¥¶ç‰›ä»¬èƒ½è·å¾—çš„æœ€å¤§äº«å—æŒ‡æ•°ã€‚ æ ·ä¾‹æ•°æ® input 125 2 4-9 -4 -3 8 -6 output 15 Hint é€‰æ‹©ç¬¬3-4å¤©ï¼Œäº«å—æŒ‡æ•°ä¸º-3+8=5ã€‚ æ•°æ®è§„æ¨¡ä¸çº¦å®š 50% 1â‰¤Nâ‰¤10000ï¼Œ100% 1â‰¤Nâ‰¤100000 æ—¶é—´é™åˆ¶ï¼š1sï¼Œ ç©ºé—´é™åˆ¶ï¼š256MB æ€è·¯ï¼š ç”¨å‰ç¼€å’Œå¤„ç†å‰iå¤©çš„æŒ‡æ•°å’Œ å…¶å®å°±æ˜¯ä»Pçš„ä½ç½®å¼€å§‹æšä¸¾ï¼Œæ¯æ¬¡æŠŠi-På‹å…¥é˜Ÿåˆ—ï¼Œå¦‚æœi-Qå¤§äºé˜Ÿé¦–å…ƒç´ çš„ä½ç½®ï¼Œå¼¹å‡ºé˜Ÿé¦– æ¯æ¬¡å–å‡ºé˜Ÿé¦–è®©ans=maxï¼ˆsum[i]-sum[Day.front()]ï¼‰ æœ€åè¾“å‡ºans 1234567891011121314151617181920212223242526272829303132#include&lt;bits/stdc++.h&gt;using namespace std;#define INF 9999999999long long sum[100300];int n,p,q;long long ans=-INF;deque&lt;long long&gt; Day; int main()&#123; freopen(\"holiday.in\",\"r\",stdin); // freopen(\"holiday.out\",\"w\",stdout); scanf(\"%d%d%d\",&amp;n,&amp;p,&amp;q); long long x; // å‰ç¼€å’Œ for(int i=1;i&lt;=n;i++)&#123; scanf(\"%lld\",&amp;x); sum[i]=sum[i-1]+x; &#125; for(int i=p;i&lt;=n;i++)&#123; int nowIndex = i - p; // æŒ‡æ•°å’Œå°çš„æ”¾å‰é¢ while(!Day.empty() &amp;&amp; sum[nowIndex] &lt; sum[Day.back()] ) Day.pop_back(); Day.push_back(nowIndex); // å®é™…ä¸Šåº”è¯¥ç†è§£ä¸º å½“å‰æ—¥æœŸi - é˜Ÿé¦–çš„æ—¥æœŸ &gt; Qå¤©, åˆ™è®©pop_front while(!Day.empty() &amp;&amp; i - q &gt; Day.front()) Day.pop_front(); // sum[i] - sum[Day.front()] ä¸ºç´¢å¼•i~Day.front()è¿™å‡ å¤©çš„æŒ‡æ•°å’Œ ans=max(ans, sum[i]-sum[Day.front()]); &#125; cout&lt;&lt;ans; return 0;&#125; æ€»ç»“: å•è°ƒé˜Ÿåˆ—å¯¹äºå¤„ç†çº¿æ€§æ»‘åŠ¨åŒºé—´æœ€å€¼å¯è°“æ¸¸åˆƒæœ‰ä½™ å€Ÿé‰´: æ•°æ®ç»“æ„ä¹‹å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ å•è°ƒæ ˆ P2866 [USACO06NOV]Bad Hair Day S æ ¹æ®é¢˜ç›®ç»†å“: ç¬¬Nå¤´ç‰›ç«™æœ€å‰é¢, ç¬¬1å¤´ç«™æœ€åé¢, ç„¶åå¦‚æœHi &gt; Hn, åˆ™èƒ½çœ‹åˆ°ã€‚è¦æ±‚ç´¯åŠ ç¬¬iå¤´ç‰›èƒ½çœ‹åˆ°å‰é¢ç‰›çš„å¤´å‘æ•°ï¼Œ å³å¯ä»¥ç†è§£ä¸ºç¬¬iå¤´ç‰›å¾€å‰çœ‹ï¼Œ æ‰¾åˆ°æ¯”å®ƒå¤§çš„Hiæˆ–è€…è¾¹ç•Œï¼ˆè¾¹ç•Œå¯ä»¥çœ‹åšä¸ºHi=0çš„ï¼‰ã€‚===&gt; è¾“å…¥æ ·ä¾‹ä»å·¦å¾€å³æ‰¾æ¯”å½“å‰å…ƒç´ å¤§çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå•è°ƒé€’å‡æ ˆâ€“&gt;æ­£å¸¸for i = 0 123456789101112131415161718192021222324252627282930313233#include&lt;bits/stdc++.h&gt;using namespace std;const long long INF = 0x3f3f3f3f;int n;struct cow&#123; int id; int height;&#125;;stack&lt;cow&gt; st;int main()&#123; int tmp; int ans = 0; cin &gt;&gt; n; for (int i = 1; i &lt;= n; i++) &#123; // C_içš„é«˜åº¦ cin &gt;&gt; tmp; // æ‰¾åˆ°æ¯”å½“å‰å…ƒç´ å¤§çš„ä¸€ä¸ªå…ƒç´ ï¼Œ æœŸé—´å°çš„éƒ½ç´¯è®¡ while( !st.empty() &amp;&amp; tmp &gt;= st.top().height ) &#123; ans += ( i - st.top().id - 1); st.pop(); &#125; st.push(&#123;i, tmp&#125;); &#125; // åˆ°æœ€åçš„æ—¶å€™ï¼Œ å‰©ä¸‹çš„é€’å‡çš„éƒ½æ˜¯å‰é¢æ²¡æœ‰æ¯”è‡ªå·±é«˜çš„ç‰›äº†ï¼Œ å¦‚æ ·ä¾‹æœ€åå‰©5&lt;-6ï¼Œ é‚£ä¹ˆ6(2)å‰é¢æ²¡æ•°å­—äº†ï¼Œ æ‰€ä»¥ä¸º0ï¼Œ 5å‰é¢(12)åªæœ‰6äº†ï¼Œä¸”6çš„2é«˜&lt;5çš„12é«˜ï¼Œ å› æ­¤6-5=1æœ‰1å¤´ç‰› while(!st.empty())&#123; int now = st.top().id; st.pop(); ans += (n - now); &#125; cout &lt;&lt; ans &lt;&lt;endl; return 0;&#125; æ€è·¯2ï¼š æ¯æ¬¡è¾“å…¥ä¸€å¤´ç‰›çš„èº«é«˜ï¼Œæ‰¾æ¯”è¿™å¤´ç‰›çŸ®çš„ï¼Œå‡ºæ ˆ å‰©ä¸‹çš„ç‰›çš†å¯ä»¥çœ‹åˆ°è¿™åªç‰› anså€¼åŠ ç­‰äºæ ˆä¸­ç‰›çš„ä¸ªæ•° è¿™å¤´ç‰›å…¥æ ˆ 1234567891011121314151617181920#include&lt;bits/stdc++.h&gt;using namespace std;int n,t;long long ans; //æ³¨æ„è¦å¼€long long stack &lt;int&gt; a;int main() &#123; cin&gt;&gt;n; for (int i=1; i&lt;=n; i++) &#123; cin&gt;&gt;t; // å°†æ ˆå†…åˆ åˆ°å…¨éƒ½æ˜¯æ¯”tçš„é«˜çš„ while (!a.empty() &amp;&amp; t &gt;= a.top() ) a.pop(); // é‚£ä¹ˆæ ˆé‡Œçš„å…ƒç´ éƒ½èƒ½çœ‹åˆ°i ans+=a.size(); // æ³¨æ„ï¼š å…ˆsizeåpush a.push(t); &#125; cout&lt;&lt;ans; return 0;&#125; æ°”æ¸© åˆ—è¡¨ #739 æ¯æ—¥æ¸©åº¦ ä»å·¦å¾€å³æ‰¾æ¯”å½“å‰å…ƒç´ å¤§çš„â€“&gt;å¦‚æœå½“å‰å…ƒç´ æ¯”æ ˆé¡¶å…ƒç´ å¤§ï¼Œé‚£ä¹ˆæ ˆé¡¶å…ƒç´ å³è¾¹æ¯”å…¶ç¬¬ä¸€ä¸ªå¤§çš„å…ƒç´ å°±æ˜¯å½“å‰å…¥æ ˆå…ƒç´ â€”&gt;å•è°ƒé€’å‡æ ˆï¼ˆä»æ ˆåº•åˆ°æ ˆé¡¶é€’å‡ï¼‰â€“&gt;val &gt; st.top()ï¼Œæ­£å¸¸for i = 0 12345678910111213141516171819202122232425262728293031323334#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e3;int n;int ans[maxn]; // ç­”æ¡ˆstruct temperature&#123; int id; int tmp;&#125;;/**input:873 74 75 71 69 72 76 73output:1 1 4 2 1 1 0 0*/int main()&#123; stack&lt;temperature&gt; st; cin &gt;&gt; n; int val; for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; val ; while ( !st.empty() &amp;&amp; val &gt; st.top().tmp )&#123; ans[st.top().id] = i - st.top().id ; st.pop(); &#125; st.push(&#123;i, val&#125;); // å¡è¿›å»çš„æ˜¯ç´¢å¼• &#125; for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt;ans[i] &lt;&lt; \" \"; &#125; cout &lt;&lt; endl; return 0;&#125; é€†åºå†™ï¼š 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e3;int n;int ans[maxn]; // ç­”æ¡ˆstruct temperature&#123; int id; int tmp; temperature()&#123;&#125; temperature(int _id, int _tmp): id(_id), tmp(_tmp)&#123;&#125;&#125;;/**input:873 74 75 71 69 72 76 73output:1 1 4 2 1 1 0 0*/int main()&#123; stack&lt;temperature&gt; st; cin &gt;&gt; n; int val; vector&lt;int&gt; v(n+1); for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; v[i]; &#125; for (int i = n; i &gt;= 1; i--) &#123; int val = v[i]; while( !st.empty() &amp;&amp; val &gt;= st.top().tmp) st.pop(); ans[i] = st.empty()? 0 : st.top().id - i; st.push(temperature(i, val)); &#125; for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt;ans[i] &lt;&lt; \" \"; &#125; cout &lt;&lt; endl; return 0;&#125; P5788 ã€æ¨¡æ¿ã€‘å•è°ƒæ ˆ æ¨¡æ¿å†™æ³• 123456789101112131415161718192021222324252627// â–²ä¸çŸ¥é“ä¸ºå•¥å¿…é¡»ç‚¹å¼€æ´›è°·çš„O2ä¼˜åŒ–æ‰ä¸ä¼šè¢«å¡åé¢4ä¸ªç‚¹#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e3;int n;int main()&#123; scanf(\"%d\", &amp;n); vector&lt;int&gt; v; v.resize(n+1); stack&lt; pair&lt;int, int&gt; &gt; st; vector&lt;int&gt; ans(n+1); for (int i = 1; i &lt;= n; i++) &#123; scanf(\"%d\", &amp;v[i]); while( !st.empty() &amp;&amp; v[i] &gt; v[st.top().first])&#123; ans[ st.top().first ] = i; st.pop(); &#125; st.push(&#123;i, v[i]&#125;); &#125; // éå†å®Œçš„æ—¶å€™æ ˆé‡Œå…¶å®è¿˜æœ‰å…ƒç´  // cout &lt;&lt; \"size: \"&lt;&lt;st.size() &lt;&lt; endl; for (int i = 1; i &lt;= n; i++) &#123; if ( i == 1) printf(\"%d\", ans[i]); else printf(\" %d\", ans[i]); &#125; return 0;&#125; foréå†å€’ç€å†™ 12345678//myfor (int i = n; i &gt;= 1 ; i--) &#123; while( !st.empty() &amp;&amp; v[i] &gt;= v[st.top().first])&#123; st.pop(); &#125; ans[ i ] = st.empty() ? 0: st.top().first; st.push(&#123;i, v[i]&#125;);&#125; // æ‰¾çš„é¢˜è§£ 12345678910111213141516171819#include&lt;bits/stdc++.h&gt;using namespace std;int n,a[3000001],b[3000001];stack&lt;int&gt; q;//å¼€ä¸€ä¸ªSTLçš„æ ˆ æ ˆé‡Œé¢å­˜çš„æ˜¯æ•°çš„ä¸‹æ ‡å³ä½ç½®int main()&#123; cin&gt;&gt;n; for(int i=1;i&lt;=n;i++) cin&gt;&gt;a[i];//è¾“å…¥ for(int i=n;i&gt;=1;i--)&#123; while(!q.empty() and a[q.top()]&lt;=a[i])//æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºa[i]çš„æ•° q.pop(); //å¦åˆ™å°±ç›´æ¥å‡ºæ ˆ if(q.empty()) //å¦‚æœæœ€åæ²¡æœ‰æ¯”a[i]å¤§çš„æ•° b[i]=0; else b[i]=q.top(); //å¦åˆ™å°±è®°å½•ä¸‹æ¥ q.push(i); //å°†iå…¥æ ˆ &#125; for(int i=1;i&lt;=n;i++) cout&lt;&lt;b[i]&lt;&lt;\" \";//è¾“å‡ºç­”æ¡ˆ ç»“æŸ return 0;&#125; åŒºåˆ«åœ¨äºï¼š ç«™å†…å…ƒç´ æ˜¯æ ˆé¡¶å…ƒç´ çš„å³è¾¹ï¼› è€Œé¡ºç€å†™ï¼Œ é‚£ä¹ˆæ ˆå†…å…ƒç´ æ˜¯æ ˆé¡¶å…ƒç´ çš„å·¦è¾¹ï¼Œ å³æ ˆé¡¶å…ƒç´ ä¸ºç«™å†…å…ƒç´ çš„å³è¾¹ï¼›åŒæ—¶è¿˜æœ‰ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼š é¡ºç€å…ˆèƒ½è¾¹è¯»è¾¹å†™ï¼Œ è€Œå€’ç€å†™å¿…é¡»è¯»å®Œå†å†™ ä¸ç”¨v[]çš„å†™æ³•, å…¶å®ç›´æ¥å¯ä»¥ç”¨stack&lt; pair&lt;int, int&gt; &gt;stæ¥å†™ï¼Œå¯èƒ½ä¼šæ›´ç›´è§‚ä¸€äº› 12345678910111213141516171819202122232425#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e3;int n;int main()&#123; int val; scanf(\"%d\", &amp;n); stack&lt; pair&lt;int, int&gt; &gt; st; vector&lt;int&gt; ans(n+1); for (int i = 1; i &lt;= n; i++) &#123; scanf(\"%d\", &amp;val); while( !st.empty() &amp;&amp; val &gt; st.top().second )&#123; ans[ st.top().first ] = i; st.pop(); &#125; st.push(&#123;i, val&#125;); &#125; for (int i = 1; i &lt;= n; i++) &#123; if ( i == 1) printf(\"%d\", ans[i]); else printf(\" %d\", ans[i]); &#125; return 0;&#125; æ€»ç»“ å•è°ƒæ ˆå¯åˆ©ç”¨çš„ç‚¹: å‰©ä¸‹çš„å…ƒç´  è·Ÿ å½“å‰å…ƒç´ çš„å…³ç³»ï¼›å¼¹å‡ºå…ƒç´ çš„ä¸ªæ•°ï¼›å‰©ä½™å…ƒç´ çš„ä¸ªæ•° æ ˆé¡¶ å’Œ å½“å‰å…ƒç´ çš„å…³ç³»==&gt; æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”æ•°å¤§ã€å°çš„ é€’å‡æ ˆçš„whileä¸­æ¡ä»¶å†™ val &gt; st.top()çš„æ—¶å€™popï¼Œæ­£ç€å†™å’Œåç€å†™éƒ½ä¸€æ ·ï¼Œ ä½†æ˜¯è¦æ³¨æ„ç­‰äºå·çš„åŒºåˆ«ï¼›é¡ºç€å†™åˆ¤æ–­æ¡ä»¶å®Œå…¨æ»¡è¶³é¢˜æ„ï¼ˆåˆ©ç”¨popçš„åŠ¨ä½œåšå¤„ç†ï¼‰ï¼Œè€Œé€†ç€åˆ™è¦è€ƒè™‘å…ˆåï¼Œå¦‚æ°”æ¸©é¢˜ï¼Œæ‰¾ç¬¬ä¸€ä¸ªåè€Œè¦åŠ ç­‰å·ï¼Œ è¦popæ‰ç›´åˆ°å·¦è¾¹ç¬¬ä¸€ä¸ªå‡ºç°ã€‚ === ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯å†™while()é‡Œåªæœ‰popçš„ï¼Œnums[i] &lt; nums[st.peek()]==&gt;st.pop();ï¼Œåˆ™æ˜¯ç»´æŠ¤äº†ä¸€ä¸ªå•è°ƒé€’å¢æ ˆï¼Œå¯¹äºå‰©ä¸‹çš„æ ˆé¡¶å…ƒç´ è€Œè¨€ï¼Œå…¥æ ˆå…ƒç´ æ˜¯&gt;=æ ˆé¡¶å…ƒç´ çš„ï¼Œå¹¶ä¸”å¯¹äºå…¥æ ˆå…ƒç´ è€Œè¨€æ‰¾åˆ°çš„æ˜¯å·¦è¾¹ç¬¬ä¸€ä¸ªå¤§äºä»–çš„æ•°ã€‚å•è°ƒé€’å‡æ ˆï¼Œåˆ™æ±‚çš„æ˜¯å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”ä»–å°çš„æ•°ã€‚ ===&gt; å¦‚æœè¦æ±‚å³è¾¹çš„ï¼Œæ³•ä¸€ï¼šé€†åºæ„å»ºå•è°ƒæ ˆï¼›æ³•äºŒï¼šä»æ ˆé¡¶å…ƒç´ çš„è§†è§’æ¥çœ‹(èµ‹å€¼åœ¨whileé‡Œé¢)ï¼Œåªä¸è¿‡è¿™ç§åšæ³•æœ€ç»ˆæ ˆé‡Œä¼šæœ‰å‰©ä½™å…ƒç´ ï¼Œå› æ­¤éœ€è¦å¯¹è®°å½•æ•°ç»„èµ‹åˆå€¼ã€‚å¦‚ï¼š2055. èœ¡çƒ›ä¹‹é—´çš„ç›˜å­ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162class Solution &#123; public int[] platesBetweenCandles(String s, int[][] queries) &#123; int len = s.length(); int[] arr = new int[len]; // å½“å‰å…ƒç´ å‰é¢æ‹¥æœ‰çš„*æ•° for (int i = 1; i &lt; len; i++) &#123; char c = s.charAt(i - 1); if (c == '*') &#123; arr[i] = arr[i - 1] + 1; &#125; else &#123; arr[i] = arr[i - 1]; &#125; &#125; Stack&lt;Integer&gt; minSt = new Stack&lt;&gt;(); Stack&lt;Integer&gt; maxSt = new Stack&lt;&gt;(); // å³è¾¹ä¸‹æ ‡æœ€å°çš„èœ¡çƒ› int[] minRight = new int[len], maxLeft = new int[len]; // å¾—èµ‹åˆå€¼ Arrays.fill(minRight, len); Arrays.fill(maxLeft, -1); for (int i = 0; i &lt; len; i++) &#123; char c = s.charAt(i); // å¦‚æœå½“å‰æ˜¯|åˆ™æœ€è¿‘çš„å°±æ˜¯è‡ªå·± if ( c == '|')&#123; minRight[i] = i; maxLeft[i] = i; &#125; // **å¾—å…¥æ ˆ while (!minSt.empty() &amp;&amp; c == '|' &amp;&amp; s.charAt(minSt.peek()) == '*') &#123; minRight[minSt.peek()] = i; minSt.pop(); &#125; minSt.push(i); char ch = s.charAt(len - i - 1); while (!maxSt.empty() &amp;&amp; ch == '|' &amp;&amp; s.charAt(maxSt.peek()) == '*') &#123; maxLeft[maxSt.peek()] = len - i - 1; maxSt.pop(); &#125; maxSt.push(len - i - 1); &#125; int[] ans = new int[queries.length]; for (int i = 0; i &lt; queries.length; i++) &#123; int l = queries[i][0], r = queries[i][1]; int ll = minRight[l], rr = maxLeft[r]; if (ll &lt; rr) &#123; ans[i] = arr[rr] - arr[ll]; &#125;else&#123; ans[i] = 0; &#125; &#125; return ans; &#125;&#125;","categories":[],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://nymrli.top/tags/æ•°æ®ç»“æ„/"}]},{"title":"æ‰‡åŒºã€å—/ç°‡","slug":"æ‰‡åŒºã€å—-ç°‡","date":"2020-09-06T06:29:31.000Z","updated":"2020-09-06T07:04:38.846Z","comments":true,"path":"2020/09/06/æ‰‡åŒºã€å—-ç°‡/","link":"","permalink":"https://nymrli.top/2020/09/06/æ‰‡åŒºã€å—-ç°‡/","excerpt":"","text":"æ‰‡åŒº æ¦‚å¿µï¼š æ‰‡åŒºï¼Œé¡¾åæ€ä¹‰ï¼Œæ¯ä¸ªç£ç›˜æœ‰å¤šæ¡åŒå¿ƒåœ†ä¼¼çš„ç£é“ï¼Œç£é“è¢«åˆ†å‰²æˆå¤šä¸ªéƒ¨åˆ†ã€‚æ¯éƒ¨åˆ†çš„å¼§é•¿åŠ ä¸Šåˆ°åœ†å¿ƒçš„ä¸¤ä¸ªåŠå¾„ï¼Œæ°å¥½å½¢æˆä¸€ä¸ªæ‰‡å½¢ï¼Œæ‰€ä»¥å«åšæ‰‡åŒºã€‚æ‰‡åŒºæ˜¯ç£ç›˜ä¸­æœ€å°çš„ç‰©ç†å­˜å‚¨å•ä½ã€‚ æ‰‡åŒºå¤§å°: 512B -&gt; 4KB æ‰‡åŒº(Sector)å¤§å°æ˜¯å›ºå®šçš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ‰‡åŒºï¼ˆSectorï¼‰ä¸º512å­—èŠ‚ï¼Œ2009å¹´åï¼Œç¡¬ç›˜å‚å•†å¼€å§‹å‘å¸ƒ4KBå­—èŠ‚æ‰‡åŒºçš„ç¡¬ç›˜äº†ï¼Œ4KBæ‰‡åŒºç¡¬ç›˜å·²ç»åœ¨æ¶ˆè´¹çº§å¸‚åœºå¹¿æ³›åº”ç”¨ã€‚ä½†æ˜¯åŒä¸€å—ç¡¬ç›˜ä¸Šçš„æ‰‡åŒºå¤§å°ä¸€å®šæ˜¯ä¸€è‡´çš„ã€‚ä¸å¯èƒ½å­˜åœ¨å¤šç§ä¸åŒå¤§å°çš„æ‰‡åŒºã€‚ é€»è¾‘æ‰‡åŒºã€ç‰©ç†æ‰‡åŒº ç‰©ç†æ‰‡åŒºæ˜¯ç£ç›˜ä¸ŠçœŸå®å­˜åœ¨å¯¹åº”çš„æ‰‡åŒºï¼› é€»è¾‘æ‰‡åŒºæ˜¯ç”±äºæ‰‡åŒºå¤§å°ç”±512Bå˜æˆ4KBåï¼Œ ä¸ºäº†ä¸è€ç³»ç»Ÿå…¼å®¹ï¼Œæ“ä½œç³»ç»Ÿå±‚é¢ä¸Šæå‡ºæ¥çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿æ“ä½œç³»ç»Ÿè¯»å–å†™å…¥ç¡¬ç›˜æ•°æ®è€Œè®¾ç½®çš„ï¼Œ ç»™ç³»ç»Ÿè¿›è¡Œè¯†åˆ«åï¼Œå¯ä»¥é€šè¿‡ä¸€å®šçš„å…¬å¼ä¸ç‰©ç†åœ°å€å¯¹åº”å†æ‰¾åˆ°åˆ°æŒ‡å®šçš„ç‰©ç†æ‰‡åŒºä¸Šå»ã€‚ ç”±æ¥ å…³äºç‰©ç†æ‰‡åŒºï¼ˆphysical setctorï¼‰ä¸é€»è¾‘æ‰‡åŒºï¼Œè¿™ä¸ªè¿˜å¾—æ‰¯ä¸Šæ‰‡åŒºå¤§å°ï¼Œç”±äºè¿‘å¹´æ¥ï¼Œéšç€å¯¹ç¡¬ç›˜å®¹é‡çš„è¦æ±‚ä¸æ–­å¢åŠ ï¼Œä¸ºäº†æé«˜æ•°æ®è®°å½•å¯†åº¦ï¼Œç¡¬ç›˜å‚å•†å¾€å¾€é‡‡ç”¨å¢å¤§æ‰‡åŒºå¤§å°çš„æ–¹æ³•ï¼Œäºæ˜¯å‡ºç°äº†æ‰‡åŒºå¤§å°ä¸º4096å­—èŠ‚çš„ç¡¬ç›˜ã€‚æˆ‘ä»¬å°†è¿™æ ·çš„æ‰‡åŒºç§°ä¹‹ä¸ºâ€œç‰©ç†æ‰‡åŒºâ€ã€‚ä½†æ˜¯è¿™æ ·çš„å¤§æ‰‡åŒºä¼šæœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œæœ‰çš„ç³»ç»Ÿæˆ–è½¯ä»¶æ— æ³•é€‚åº”ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç¡¬ç›˜å†…éƒ¨å°†ç‰©ç†æ‰‡åŒºåœ¨é€»è¾‘ä¸Šåˆ’åˆ†ä¸ºå¤šä¸ªæ‰‡åŒºç‰‡æ®µå¹¶å°†å…¶ä½œä¸ºæ™®é€šçš„æ‰‡åŒºï¼ˆä¸€èˆ¬ä¸º512å­—èŠ‚å¤§å°ï¼‰æŠ¥å‘Šç»™æ“ä½œç³»ç»ŸåŠåº”ç”¨è½¯ä»¶ã€‚è¿™æ ·çš„æ‰‡åŒºç‰‡æ®µæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œé€»è¾‘æ‰‡åŒºâ€ã€‚å®é™…è¯»å†™æ—¶ç”±ç¡¬ç›˜å†…çš„ç¨‹åºï¼ˆå›ºä»¶ï¼‰è´Ÿè´£åœ¨é€»è¾‘æ‰‡åŒºä¸ç‰©ç†æ‰‡åŒºä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œä¸Šå±‚ç¨‹åºâ€œæ„Ÿè§‰â€ä¸åˆ°ç‰©ç†æ‰‡åŒºçš„å­˜åœ¨ã€‚ é€»è¾‘æ‰‡åŒºæ˜¯ç¡¬ç›˜å¯ä»¥æ¥å—è¯»å†™æŒ‡ä»¤çš„æœ€å°æ“ä½œå•å…ƒï¼Œæ˜¯æ“ä½œç³»ç»ŸåŠåº”ç”¨ç¨‹åºå¯ä»¥è®¿é—®çš„æ‰‡åŒºï¼Œå¤šæ•°æƒ…å†µä¸‹å…¶å¤§å°ä¸º512å­—èŠ‚ã€‚æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„æ‰‡åŒºä¸€èˆ¬å°±æ˜¯æŒ‡çš„é€»è¾‘æ‰‡åŒºã€‚ç‰©ç†æ‰‡åŒºæ˜¯ç¡¬ç›˜åº•å±‚ç¡¬ä»¶æ„ä¹‰ä¸Šçš„æ‰‡åŒºï¼Œæ˜¯å®é™…æ‰§è¡Œè¯»å†™æ“ä½œçš„æœ€å°å•å…ƒã€‚æ˜¯åªèƒ½ç”±ç¡¬ç›˜ç›´æ¥è®¿é—®çš„æ‰‡åŒºï¼Œæ“ä½œç³»ç»ŸåŠåº”ç”¨ç¨‹åºä¸€èˆ¬æ— æ³•ç›´æ¥è®¿é—®ç‰©ç†æ‰‡åŒºã€‚ä¸€ä¸ªç‰©ç†æ‰‡åŒºå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªé€»è¾‘æ‰‡åŒºï¼ˆæ¯”å¦‚å¤šæ•°ç¡¬ç›˜çš„ç‰©ç†æ‰‡åŒºåŒ…å«äº†8ä¸ªé€»è¾‘æ‰‡åŒºï¼‰ã€‚å½“è¦è¯»å†™æŸä¸ªé€»è¾‘æ‰‡åŒºæ—¶ï¼Œç¡¬ç›˜åº•å±‚åœ¨å®é™…æ“ä½œæ—¶éƒ½ä¼šè¯»å†™é€»è¾‘æ‰‡åŒºæ‰€åœ¨çš„æ•´ä¸ªç‰©ç†æ‰‡åŒºã€‚ å‚è€ƒï¼š å­˜å‚¨åŸºç¡€çŸ¥è¯†ï¼šæ‰‡åŒºä¸å—/ç°‡â€”â€”å¸¦ç‰©ç†ç»“æ„å›¾ å—/ç°‡ **æ¦‚å¿µï¼š**å—ï¼ˆBlockï¼‰/ç°‡ï¼ˆClusterï¼‰æ˜¯é€»è¾‘ä¸Šçš„æ¦‚å¿µï¼Œæˆ–è€…è¯´æ˜¯è™šæ‹Ÿå‡ºæ¥çš„æ¦‚å¿µï¼ˆé€»è¾‘æ¦‚å¿µï¼‰ã€‚ åˆ†åˆ«å¯¹åº”Linuxä¸Windowsæ“ä½œç³»ç»Ÿä¸­çš„æ¦‚å¿µã€‚ é€šä¿—çš„æ¥è®²ï¼Œåœ¨Windowsä¸‹å¦‚NTFSç­‰æ–‡ä»¶ç³»ç»Ÿä¸­å«åšç°‡ï¼›åœ¨Linuxä¸‹å¦‚Ext4ç­‰æ–‡ä»¶ç³»ç»Ÿä¸­å«åšå—ï¼ˆblockï¼‰ã€‚æ¯ä¸ªç°‡æˆ–è€…å—å¯ä»¥åŒ…æ‹¬2ã€4ã€8ã€16ã€32ã€64â€¦2048ã€4096ç­‰2çš„næ¬¡æ–¹ä¸ªæ‰‡åŒºã€‚ ä¸ºä»€ä¹ˆè¦ç”¨ç£ç›˜å—/ç°‡ï¼Ÿ Aï¼š è¯»å–æ–¹ä¾¿ï¼šç”±äºæ‰‡åŒºçš„Sizeæ¯”è¾ƒå°ï¼Œæ•°ç›®ä¼—å¤šæ—¶å¯»å€æ—¶æ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥æ“ä½œç³»ç»Ÿå°±å°†ç›¸é‚»çš„æ‰‡åŒºç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå—ï¼Œå†å¯¹å—è¿›è¡Œæ•´ä½“çš„æ“ä½œã€‚(æ“ä½œç³»ç»Ÿé€šè¿‡æ“ä½œå—ï¼Œ æ¥é—´æ¥æ“ä½œåº•å±‚ç£ç›˜å¯¹æ‰‡åŒºçš„è¯»å–ï¼Œå…ˆæ‰¾è¡—é“å†æ‰¾é—¨æˆ·) åˆ†ç¦»å¯¹åº•å±‚çš„ä¾èµ–ï¼šæ“ä½œç³»ç»Ÿå¿½ç•¥å¯¹åº•å±‚ç‰©ç†å­˜å‚¨ç»“æ„çš„è®¾è®¡ã€‚é€šè¿‡è™šæ‹Ÿå‡ºæ¥ç£ç›˜å—çš„æ¦‚å¿µï¼Œåœ¨ç³»ç»Ÿä¸­è®¤ä¸ºå—æ˜¯æœ€å°çš„å•ä½ã€‚ æ‰‡åŒºä¸å—/ç°‡çš„åŒºåˆ« ç£ç›˜çš„è¯»å†™åŸºæœ¬å•ä½æ˜¯æ‰‡åŒºã€‚ ç£ç›˜çš„åŸç†ï¼Œç‰©ç†å®ç°ï¼Œç£ç›˜æ§åˆ¶å™¨æ˜¯æŒ‰ç…§æ‰‡åŒºè¿™ä¸ªå•ä½è¯»å–ç­‰æ“ä½œæ•°æ®çš„ã€‚ æ–‡ä»¶ç³»ç»Ÿå°±æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥**æ–‡ä»¶ç³»ç»Ÿè¯»å†™(æ“ä½œæ–‡ä»¶)**çš„æœ€å°å•ä½æ˜¯å—ã€‚ æ“ä½œç³»ç»Ÿæ˜¯é€šè¿‡å—/ç°‡æ¥åšä¸ºå•ä½è¯»å–ç­‰æ“ä½œæ•°æ®çš„ã€‚ and ä»ç£ç›˜çš„ç‰©ç†ç»“æ„æ¥çœ‹å­˜å–ä¿¡æ¯çš„æœ€å°å•ä½æ˜¯æ‰‡åŒºï¼Œä¸€ä¸ªæ‰‡åŒºæ˜¯512å­—èŠ‚ï¼› ä»æ“ä½œç³»ç»Ÿå¯¹ç¡¬ç›˜çš„å­˜å–ç®¡ç†æ¥çœ‹ï¼Œå­˜å–ä¿¡æ¯çš„æœ€å°å•ä½æ˜¯ç°‡ï¼Œç°‡æ˜¯ä¸€ä¸ªé€»è¾‘æ¦‚å¿µï¼Œä¸€ä¸ªç°‡å¯ä»¥æ˜¯2ã€4ã€8ã€16ã€32æˆ–64ä¸ªè¿ç»­çš„æ‰‡åŒºã€‚ ä¸€ä¸ªç°‡åªèƒ½è¢«ä¸€ä¸ªæ–‡ä»¶å ç”¨ï¼Œå“ªæ€•æ˜¯åªæœ‰1ä¸ªå­—èŠ‚çš„æ–‡ä»¶ï¼Œåœ¨ç£ç›˜ä¸Šå­˜å‚¨æ—¶ä¹Ÿè¦å ç”¨ä¸€ä¸ªç°‡ï¼Œè¿™ä¸ªç°‡é‡Œå‰©ä¸‹çš„æ‰‡åŒºæ˜¯æ— ç”¨çš„ã€‚ä¾‹å¦‚ç”¨NTFSæ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–çš„æ—¶å€™é»˜è®¤æ˜¯8ä¸ªæ‰‡åŒºç»„æˆä¸€ä¸ªç°‡ï¼Œå³4096å­—èŠ‚ã€‚æ‰€ä»¥ä½ å¦‚æœä¿å­˜äº†ä¸€ä¸ªåªæœ‰1å­—èŠ‚çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚å­—æ¯Nï¼‰ï¼Œå®ƒåœ¨ç£ç›˜ä¸Šå®é™…ä¹Ÿè¦å ç”¨4096å­—èŠ‚ï¼ˆ4Kï¼‰ï¼Œæ‰€ä»¥â€œç°‡â€ä¹Ÿå¯ä»¥ç†è§£ä¸ºæ“ä½œç³»ç»Ÿå­˜å–ä¿¡æ¯çš„æœ€å°å•ä½ã€‚ QA: Qã€ä¸ºä»€ä¹ˆç£ç›˜å—å¤§å°å¿…é¡»æ˜¯æ‰‡åŒºå¤§å°çš„æ•´æ•°å€å‘¢ï¼Ÿ A: ç£ç›˜è¯»å–æ•°æ®çš„åŸºæœ¬å•ä½å°±æ˜¯ä¸€ä¸ªæ‰‡åŒºçš„å¤§å°ï¼Œä¸€ä¸ªå—çš„å¤§å°å¯¹äºç£ç›˜æ¥è¯´å°±æ˜¯ä¸€æ¬¡è·å–æ•°æ®è¯»å–çš„æ‰‡åŒºæ•°*æ‰‡åŒºå¤§å°ï¼Œå¦‚æœæ˜¯æ•´æ•°å€çš„æ‰‡åŒºæ•°å¯¹äºç£ç›˜çš„IOæ›´å¥½ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œä¹Ÿä¼šæ›´åˆç†çš„åˆ©ç”¨èµ„æºã€‚å¦åˆ™ä¼šå¯¹æ‰‡åŒºè¿›è¡Œåˆ†å‰²ã€‚ Qã€é‚£ä¹ˆåˆ†æˆâ€œå¤§ç°‡â€å’Œâ€œå°ç°‡â€æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ Aï¼šæˆ‘å¦‚æœç¡¬ç›˜ä¸‹å¾ˆå¤šå°æ–‡ä»¶ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªå°æ–‡ä»¶ï¼Œéƒ½ä¼šå ç”¨ä¸€ä¸ªâ€œç°‡â€ã€‚è™½ç„¶è¿™äº›å°æ–‡ä»¶éƒ½å°äºä¸€ä¸ªâ€œç°‡â€ã€‚ â€œå¤§ç°‡â€å’Œâ€œå°ç°‡â€å½“ç„¶æœ‰å¾ˆå¤šåŒºåˆ«ï¼Œä½†æ˜¯æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼šâ€œå°ç°‡â€ä¼šèŠ‚çœç©ºé—´ï¼Œè€Œâ€œå¤§ç°‡â€åˆ™åä¹‹ã€‚â€œå¤§ç°‡â€çš„ä¼˜åŠ¿åœ¨äºæœ‰ç›Šäºæ–‡ä»¶çš„è¯»å–å­˜å–ï¼Œç®€å•è€Œä¸ä¸¥è°¨çš„è¯´å°±æ˜¯æå‡ç¡¬ç›˜æ€§èƒ½ã€‚ â€œå¤§ç°‡â€â€”â€”è¯»å–å­˜å–é€Ÿåº¦å¿«ï¼Œå ç”¨ç©ºé—´å¤§ â€œå°ç°‡â€â€”â€”è¯»å–å­˜å–é€Ÿåº¦æ…¢ï¼Œå ç”¨ç©ºé—´å° è€Œç°åœ¨TBæ—¶ä»£ï¼Œå³ä¾¿æ˜¯â€œå¤§ç°‡â€å¤§å®¶å®Œå…¨ä¹ŸHOLDä½ï¼Œå³ä¾¿ä½ å…¨éƒ¨æ˜¯å‡ KBã€å‡ å­—èŠ‚çš„å°æ–‡ä»¶ã€‚â€œå¤§ç°‡â€ç›˜ä¹Ÿä¸ä¼šâ€œå°ç°‡â€ç›˜å¤šå å‡ºå¤ªå¤šç©ºé—´ï¼Œä½†æ˜¯æ€§èƒ½çš„æå‡ç¡®æ˜¯æœ€å°‘å‡ å€çš„ï¼Œç‰¹åˆ«æ˜¯é¢å¯¹å¤§å‹ç¨‹åºæˆ–è€…æ¸¸æˆçš„æ—¶å€™ã€‚ 4K 4Kå¯¹é½çš„æ„æ€æ˜¯å¯¹é½åˆ°ç£ç›˜å¼€å¤´çš„4Kè¿™ä¸ªæ•°å€¼ã€‚å’ŒæŒ‰4Kæ¥æ ¼å¼åŒ–ä¸æ˜¯ä¸€å›äº‹ã€‚ Ans1: 4Kå¯¹é½ éšç€æ—¶ä»£å‘å±•ï¼Œç¡¬ç›˜å®¹é‡ä¸æ–­æ‰©å±•ï¼Œä½¿å¾—ä¹‹å‰å®šä¹‰çš„æ¯ä¸ªæ‰‡åŒº512å­—èŠ‚ä¸å†æ˜¯é‚£ä¹ˆçš„åˆç†ï¼Œäºæ˜¯å°†æ¯ä¸ªæ‰‡åŒº512å­—èŠ‚æ”¹ä¸ºæ¯ä¸ªæ‰‡åŒº4096 ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ç°åœ¨å¸¸è¯´çš„â€œ4Kæ‰‡åŒºâ€ã€‚éšç€NTFSæˆä¸ºäº†æ ‡å‡†çš„ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿï¼Œå…¶æ–‡ä»¶ç³»ç»Ÿçš„é»˜è®¤åˆ†é…å•å…ƒå¤§å°ï¼ˆç°‡ï¼‰ä¹Ÿæ˜¯4096å­—èŠ‚ï¼Œä¸ºäº†ä½¿ç°‡ä¸æ‰‡åŒºç›¸å¯¹åº”ï¼Œå³ä½¿ç‰©ç†ç¡¬ç›˜åˆ†åŒºä¸è®¡ç®—æœºä½¿ç”¨çš„é€»è¾‘åˆ†åŒºå¯¹é½ï¼Œä¿è¯ç¡¬ç›˜è¯»å†™æ•ˆç‡ï¼Œæ‰€ä»¥å°±æœ‰äº†â€œ4Kå¯¹é½â€çš„æ¦‚å¿µã€‚ æ–°æ ‡å‡†çš„â€4Kæ‰‡åŒºâ€çš„ç¡¬ç›˜åœ¨å‚å•†ä¸ºäº†ä¿è¯ä¸æ“ä½œç³»ç»Ÿå…¼å®¹çš„å‰æä¸‹ï¼Œä¹Ÿå°†æ‰‡åŒºæ¨¡æ‹Ÿæˆ512Bï¼ˆé€»è¾‘æ‰‡åŒºï¼‰ï¼Œä¼šé»˜è®¤å®šä¹‰ä¸º4096å­—èŠ‚å¤§å°ä¸ºä¸€ä¸ªç°‡ï¼Œä½†å› ä¸ºå…¶å¼•å¯¼åŒºå ç”¨äº†ä¸€ä¸ªç£é“å…±63ä¸ªæ‰‡åŒºï¼ŒçœŸæ­£çš„æ–‡ä»¶ç³»ç»Ÿåœ¨63å·æ‰‡åŒºä¹‹åã€‚ æˆ‘ä»¬é€šè¿‡è®¡ç®—å¾—å‡ºå‰63ä¸ªæ‰‡åŒºå¤§å°ä¸ºï¼š512Bx63=32256Bã€‚å¹¶æŒ‰ç…§é»˜è®¤ç°‡å¤§å°å¾—å‡º63æ‰‡åŒºä¸ºï¼š32256BÃ·4096B=7.875ç°‡ å³ä»ç¬¬63ä¸ªæ‰‡åŒºç»“æŸï¼Œå¾€åçš„æ¯ä¸€ä¸ªç°‡éƒ½ä¼šè·¨è¶Šä¸¤ä¸ªç‰©ç†å•å…ƒï¼Œå æ®å‰ä¸€ä¸ªå•å…ƒçš„ä¸€å°éƒ¨åˆ†å’Œåä¸€ä¸ªå•å…ƒçš„ä¸€å¤§éƒ¨åˆ†ã€‚ è€Œâ€œ4Kå¯¹é½â€ä¸»è¦æ˜¯å°†ç¡¬ç›˜çš„æ¨¡æ‹Ÿæ‰‡åŒº(512B)å¯¹é½åˆ°8çš„æ•´æ•°å€ä¸ªâ€œå®é™…â€4Kæ‰‡åŒºï¼Œå³4096B*8=32768Bï¼Œå…¶æ­£å¥½è·¨è¿‡äº†63æ‰‡åŒºçš„ç‰¹æ€§ï¼Œä»ç¬¬64ä¸ªæ‰‡åŒºå¯¹é½ã€‚ Ans2: 4Kæ ¼å¼åŒ– 4kå¯¹é½æ˜¯ç¡¬ç›˜åˆ†åŒºä¸­çš„ä¸€ä¸ªä¸“ä¸šæœ¯è¯­ï¼Œ4Kå¯¹é½å°±æ˜¯ç¬¦åˆ4Kæ‰‡åŒºå®šä¹‰æ ¼å¼åŒ–è¿‡çš„ç¡¬ç›˜ï¼Œå¹¶ä¸”æŒ‰ç…§4Kæ‰‡åŒºçš„è§„åˆ™å†™å…¥æ•°æ®ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨ç»™å›ºæ€ç¡¬ç›˜è¿›è¡Œåˆ†åŒºçš„æ—¶å€™ï¼Œä¸€å®šè¦å‹¾é€‰ä¸Š4Kå¯¹é½ï¼Œå¦åˆ™ä¼šå½±å“åˆ°SSDå›ºæ€ç¡¬ç›˜çš„æ€§èƒ½ä¸å¯¿å‘½ã€‚é€šä¿—çš„è¯´ï¼Œå¦‚æœSSDä¸è¿›è¡Œ4Kå¯¹é½ï¼Œå†™å…¥æ•°æ®çš„å†™å…¥ç‚¹æ­£å¥½ä¼šä»‹äºä¸¤ä¸ª4Kæ‰‡åŒºçš„ä¹‹é—´ï¼Œä¹Ÿå°±æ˜¯è¯´å³ä½¿æ˜¯å†™å…¥æœ€å°é‡çš„æ•°æ®ï¼Œä¹Ÿä¼šä½¿ç”¨åˆ°ä¸¤ä¸ª4Kæ‰‡åŒºï¼Œè¿™æ ·ä¼šé€ æˆè·¨åŒºè¯»å†™ï¼Œè¯»å†™æ¬¡æ•°æ”¾å¤§ï¼Œä»è€Œå½±å“ç£ç›˜æ€§èƒ½ã€‚ SSDä¸­çš„4Kå¯¹é½çš„4KæŒ‡4096å­—èŠ‚ï¼Œå…¶ä¸­1ä¸ªæ‰‡åŒºä¸º512å­—èŠ‚ã€‚å›ºæ€ç¡¬ç›˜4Kå¯¹é½ä¸­çš„2048æ˜¯æŒ‡2048ä¸ªæ‰‡åŒºï¼Œå³ 512B*2048=1048576B=1024KBï¼Œå³1Må¯¹é½ï¼ˆ4096å°±æ˜¯2MBå¯¹é½ï¼‰ï¼Œå¹¶æ»¡è¶³4Kå¯¹é½ï¼Œè¯¥å€¼åªè¦æ˜¯4096Bçš„å€æ•°å°±æ˜¯4Kå¯¹é½ï¼Œç†è®ºä¸Š4Kå¯¹é½åªè¦æ˜¯4096æ•´æ•°å€å°±å¯ä»¥ï¼Œä¸è¿‡æ ‡å‡†çš„ä¸€èˆ¬éƒ½æ˜¯é€‰æ‹©4096ã€‚ä»å®æµ‹æ¥çœ‹ï¼Œå›ºæ€ç¡¬ç›˜4Kå¯¹é½é€‰2048è¿˜æ˜¯4096ï¼Œæ€§èƒ½åŒºåˆ«å¹¶ä¸å¤§ï¼Œå°å®¹é‡å›ºæ€ç¡¬ç›˜4Kå¯¹é½ï¼Œé€‰æ‹©2048æ‰‡åŒºå¯¹é½æ˜¯å¯ä»¥çš„ã€‚è€Œåœ¨Win10æˆ–è€…å¤§å®¹é‡SSDåœºæ™¯ä¸‹ï¼Œå»ºè®®è¿˜æ˜¯é€‰é»˜è®¤çš„4096æ‰‡åŒºå¯¹é½ã€‚ åˆ†åŒºæ“ä½œ","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"SQLç»ƒä¹ ","slug":"SQLç»ƒä¹ ","date":"2020-09-04T07:54:57.000Z","updated":"2020-11-08T05:12:45.626Z","comments":true,"path":"2020/09/04/SQLç»ƒä¹ /","link":"","permalink":"https://nymrli.top/2020/09/04/SQLç»ƒä¹ /","excerpt":"","text":"SQLç»ƒä¹  é‰´äºåŒå­¦è¢«å­—èŠ‚ç‹‚é—®SQLé¢˜ï¼Œå› æ­¤ä¹Ÿæ¿€å‘äº†æˆ‘çš„å±æœºæ„Ÿã€‚ ä½œä¸ºéç§‘ç­çš„ï¼Œ å†™SQLè¿˜æ˜¯æ¯”è¾ƒæ…Œçš„ï¼Œ å› æ­¤åšä¸‹ä¸“é¢˜è®­ç»ƒã€‚ ç†è®ºçŸ¥è¯†: SQLè¯­å¥æ‰§è¡Œé¡ºåº 1.sqlæ‰§è¡Œé¡ºåº 12345678910(1) from (3) join (2) on (4) where (5) group by(å¼€å§‹ä½¿ç”¨selectä¸­çš„åˆ«åï¼Œåé¢çš„è¯­å¥ä¸­éƒ½å¯ä»¥ä½¿ç”¨)(6) avg,sum.... (7) having (8) select (9) distinct (10) order by 2.sqlè¯­å¥æ‰§è¡Œé¡ºåº 12345678910(8) SELECT (9)DISTINCT&lt;select_list&gt;(1) FROM &lt;left_table&gt;(3) &lt;join_type&gt; JOIN &lt;right_table&gt;(2) ON &lt;join_condition&gt;(4) WHERE &lt;where_condition&gt;(5) GROUP BY &lt;group_by_list&gt;(6) WITH &#123;CUBE|ROLLUP&#125;(7) HAVING &lt;having_condition&gt;(10) ORDER BY &lt;order_by_list&gt;(11) LIMIT &lt;limit_number&gt; ç”¨group byéœ€è¦æ³¨æ„çš„: åœ¨selectæŒ‡å®šçš„å­—æ®µ è¦ä¹ˆå°±æ˜¯åŒ…å«åœ¨Group Byè¯­å¥çš„åé¢ï¼Œä¸ºä½œä¸ºåˆ†ç»„çš„ä¾æ®çš„å­—æ®µï¼› è¦ä¹ˆå°±è¦è¢«åŒ…å«åœ¨èšåˆå‡½æ•°ä¸­, eâ€¦g: sum, avg, countã€‚ SQLæŸ¥è¯¢è¯­å¥ä¸­çš„ limit ä¸ offset çš„åŒºåˆ«ï¼š limit y åˆ†å¥è¡¨ç¤º: è¯»å– y æ¡æ•°æ® limit x, y åˆ†å¥è¡¨ç¤º: è·³è¿‡ x æ¡æ•°æ®ï¼Œè¯»å– y æ¡æ•°æ® limit y offset x åˆ†å¥è¡¨ç¤º: è·³è¿‡ x æ¡æ•°æ®ï¼Œè¯»å– y æ¡æ•°æ® åˆ†é¡µæ“ä½œ è¯­æ³•ï¼šlimitå¼€å§‹ç´¢å¼•ï¼Œæ¯é¡µæŸ¥è¯¢çš„è®°å½•æ•° æ³¨ï¼šç´¢å¼•ä»0å¼€å§‹ å…¬å¼ï¼šå¼€å§‹ç´¢å¼•=ï¼ˆå½“å‰é¡µç -1ï¼‰*æ¯é¡µæŸ¥è¯¢çš„è®°å½•æ•°å³ index = (nowPageNum - 1) * pageSize 123456SELECT * FROM table WHERE æŸ¥è¯¢æ¡ä»¶ ORDER BY æ’åºæ¡ä»¶ LIMIT ((é¡µç -1)*é¡µå¤§å°),é¡µå¤§å°;-- LIMIT (pageNum-1)*pageSize, pageSize-- ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åç§»é‡ï¼Œ ç¬¬äºŒä¸ªæ˜¯æ‰€å–æ•°æ®æ•° å¼•å·åŒºåˆ« åœ¨æ ‡å‡† SQL ä¸­ï¼Œå­—ç¬¦ä¸²ä½¿ç”¨çš„æ˜¯å•å¼•å·ã€‚ å¦‚æœå­—ç¬¦ä¸²æœ¬èº«ä¹ŸåŒ…æ‹¬å•å¼•å·ï¼Œåˆ™ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯åŒå¼•å·ï¼Œå­—ç¬¦ä¸²ä¸­çš„åŒå¼•å·ä¸éœ€è¦å¦å¤–è½¬ä¹‰ï¼‰ã€‚ ä½†åœ¨å…¶å®ƒçš„æ•°æ®åº“ä¸­å¯èƒ½å­˜åœ¨å¯¹ SQL çš„æ‰©å±•ï¼Œæ¯”å¦‚åœ¨ MySQL ä¸­å…è®¸ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å·ä¸¤ç§ã€‚ MySQL å‚è€ƒæ‰‹å†Œï¼š å­—ç¬¦ä¸²æŒ‡ç”¨å•å¼•å·'æˆ–åŒå¼•å·&quot;å¼•èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚ä¾‹å¦‚ï¼š â€˜a stringâ€™ â€œanother stringâ€ å¦‚æœSQLæœåŠ¡å™¨æ¨¡å¼å¯ç”¨äº†NSI_QUOTESï¼Œå¯ä»¥åªç”¨å•å¼•å·å¼•ç”¨å­—ç¬¦ä¸²ã€‚ç”¨åŒå¼•å·å¼•ç”¨çš„å­—ç¬¦ä¸²è¢«è§£é‡Šä¸ºä¸€ä¸ªè¯†åˆ«ç¬¦ã€‚ 1234567891011121314ä½¿ç”¨åŒå­—ç¬¦:æ’å…¥æ—¶ åº“ä¸­'aa''b''cc' aa'b'cc\"aa\"b\"\"cc\" aa\"b\"ccä½¿ç”¨è½¬ä¹‰å­—ç¬¦(\\):æ’å…¥æ—¶ åº“ä¸­'aa\\'b\\'cc' aa'b'cc\"aa\\\"b\\\"cc\" aa\"b\"ccåœ¨å•å¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸²ä¸­ä½¿ç”¨åŒå¼•å·ã€åœ¨åŒå¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å•å¼•å· ä¸éœ€è¦ä½¿ç”¨åŒå¼•å·æˆ–è½¬ä¹‰å­—ç¬¦ã€‚æ’å…¥æ—¶ åº“ä¸­\"aa'b'cc\" aa'b'cc'aa\"b\"cc' aa\"b\"cc åå¼•å·ï¼ˆ`ï¼‰ 12345678910ä¿ç•™å­—ä¸èƒ½ç”¨äºè¡¨åï¼Œæ¯”å¦‚descï¼Œæ­¤æ—¶éœ€è¦åŠ å…¥åå¼•å·æ¥åŒºåˆ«ï¼Œä½†ä½¿ç”¨è¡¨åæ—¶å¯å¿½ç•¥åå¼•å·ã€‚create table descæŠ¥é”™create table `desc`æˆåŠŸcreate table `test`æˆåŠŸdrop table testæˆåŠŸ ä¿ç•™å­—ä¸èƒ½ç”¨äºå­—æ®µåï¼Œæ¯”å¦‚descï¼Œæ­¤æ—¶ä¹Ÿéœ€è¦åŠ å…¥åå¼•å·ï¼Œå¹¶ä¸”insertç­‰ä½¿ç”¨æ—¶ä¹Ÿè¦åŠ ä¸Šåå¼•å·ã€‚create table `test`ï¼ˆ`desc` varchar(255)ï¼‰æˆåŠŸinsert into test(desc) values('fxf')å¤±è´¥insert into test(`desc`) values('fxf')æˆåŠŸ +å· å­—ç¬¦ä¸²æ•°æ®æ˜¯ç”¨å•å¼•å·åŒ…åœ¨å¤–é¢çš„ï¼Œè€Œ+å·åªæ˜¯ç”¨æ¥è¿æ¥è¿™äº›å­—ç¬¦ä¸²çš„. æ•°æ®åº“é‡Œçš„å­—æ®µæ˜¯æ•´å‹çš„æ—¶å€™ä¸è¦åŠ å•å¼•å·ï¼Œæ˜¯å­—ç¬¦ä¸²çš„æ—¶å€™è¦åŠ ï¼Œå…¶å®ƒç±»å‹æ ¹æ®å®é™…æƒ…å†µæ¥,åŒå¼•å·å°±æ˜¯ç”¨æ¥æ‹¼æ¥å­—ç¬¦ä¸²çš„ï¼Œå•å¼•å·æ˜¯sqlæ–‡çš„å›ºæœ‰å†™æ³•ï¼Œå› ä¸ºä½ è¦åŠ¨æ€çš„æ¥æ‹¼æ¥ï¼Œæ¶‰åŠåˆ°å˜é‡ï¼Œæ‰€ä»¥è¦ç”¨â€œ+â€æ¥ç»„åˆå„ä¸ªå­—ç¬¦ä¸²ç‰‡æ®µã€‚æœ€ç»ˆç»“æœæ— éå°±æ˜¯å¾—å‡ºèƒ½åœ¨æ•°æ®åº“æŸ¥è¯¢åˆ†æå™¨ä¸­æ‰§è¡Œçš„sqlæ–‡ã€‚ 123String sql = \"insert into student values ( \" + student.getId() + \" ,' \" + student.getUsername() + \" ', \" + student.getAge() + \" ,' \" + student.getClassnumber()+\" ')\"; å› ä¸ºidå’Œageæ˜¯intå‹çš„æ‰€ä»¥ä¸ç”¨åŠ å•å¼•å·ï¼Œä½ çš„Usernameåœ¨æ•°æ®åº“ä¸­å®šä¹‰çš„æ˜¯ä¸€ä¸ªvarcharå‹çš„,è€Œå¯¹å­—ç¬¦å‹è¿›è¡Œæ¡ä»¶æŸ¥è¯¢çš„æ—¶å€™æ˜¯è¦åŠ  â€™ 'å·çš„ï¼šselect count(*) from student where username= 'aaa ' å› æ­¤åœ¨åå°å†™æŸ¥è¯¢å­—ç¬¦ä¸²çš„æ—¶å€™å°±å¿…é¡»è¿™æ ·å†™: string sql = &quot;select count(*) from student where username= ' &quot;+userName+ &quot; ' &quot;ï¼Œè¿™æ ·æ˜ å°„æˆçš„æŸ¥è¯¢è¯­å¥å°±æ˜¯: select count(*) from student where student= 'aaa ' äº†. é¢˜ç›® 1 æŸ¥æ‰¾æœ€æ™šå…¥èŒå‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯(å…¥é—¨é¢˜) 1select * from employees order by hire_date limit 1; 2æŸ¥æ‰¾å…¥èŒå‘˜å·¥æ—¶é—´æ’åå€’æ•°ç¬¬ä¸‰çš„å‘˜å·¥æ‰€æœ‰ä¿¡æ¯ 123select * from employees order by hire_date desc -- é€’å‡æ’åºlimit 2,1 ; -- offset 2ï¼Œ å–1 SQLæŸ¥è¯¢è¯­å¥ä¸­çš„ limit ä¸ offset çš„åŒºåˆ«ï¼š limit y åˆ†å¥è¡¨ç¤º: è¯»å– y æ¡æ•°æ® limit x, y åˆ†å¥è¡¨ç¤º: è·³è¿‡ x æ¡æ•°æ®ï¼Œè¯»å– y æ¡æ•°æ® limit y offset x åˆ†å¥è¡¨ç¤º: è·³è¿‡ x æ¡æ•°æ®ï¼Œè¯»å– y æ¡æ•°æ® 3 æŸ¥æ‰¾å„ä¸ªéƒ¨é—¨å½“å‰é¢†å¯¼å½“å‰è–ªæ°´è¯¦æƒ…ä»¥åŠå…¶å¯¹åº”éƒ¨é—¨ç¼–å·dept_no 123456select s.*, d.dept_no from salaries as s join dept_manager as d on s.emp_no = d.emp_nowhere d.to_date='9999-01-01' and s.to_date='9999-01-01'order by s.emp_no; 4 æŸ¥æ‰¾æ‰€æœ‰å·²ç»åˆ†é…éƒ¨é—¨çš„å‘˜å·¥çš„last_nameå’Œfirst_name 1234select e.last_name, e.first_name, d.dept_no from employees e inner join dept_emp d on e.emp_no = d.emp_no; 5æŸ¥æ‰¾æ‰€æœ‰å‘˜å·¥çš„last_nameå’Œfirst_nameä»¥åŠå¯¹åº”éƒ¨é—¨ç¼–å·dept_no æš‚æ—¶æ²¡æœ‰åˆ†é…å…·ä½“éƒ¨é—¨çš„å‘˜å·¥==&gt; employeesæœ‰ä¿¡æ¯, è€Œdept_empè¡¨ä¸­å¯èƒ½è¿˜æ²¡æœ‰ä¿¡æ¯ï¼›ä¸¤è¡¨è”åˆæŸ¥è¯¢æ—¶ä»¥employeesä¸ºå‡†ï¼Œ åŒ¹é…ä¸åˆ°dept_empçš„æ•°æ®ç”¨nullå¡«å……â€”&gt;æ‰€ä»¥ç”¨å¤–éƒ¨è”ç»“çš„å·¦è”ç»“ 1234select e.last_name, e.first_name, d.dept_no from employees eleft join dept_emp don e.emp_no = d.emp_no join å†…è”ç»“(Inner join) è”æ¥ä»…è¿”å›ä¸¤ä¸ªè”æ¥è¡¨ä¸­éƒ½å…·æœ‰åŒ¹é…é¡¹çš„è¡Œã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†employeeså’Œdepartmentsè¡¨è”æ¥åœ¨ä¸€èµ·ï¼Œä»¥åˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºæ¯ä¸ªé›‡å‘˜çš„éƒ¨é—¨åç§°çš„ç»“æœé›†ã€‚åœ¨å†…éƒ¨è”æ¥ä¸­ï¼Œæ²¡æœ‰éƒ¨é—¨ä¿¡æ¯çš„é›‡å‘˜ä¸åŒ…æ‹¬åœ¨ç»“æœé›†ä¸­ï¼Œæ²¡æœ‰é›‡å‘˜çš„éƒ¨é—¨ä¹Ÿä¸ä¼šåŒ…æ‹¬åœ¨ç»“æœé›†ä¸­ã€‚ å¤–è”ç»“(Outer join) å¤–è”æ¥æ˜¯å†…éƒ¨è”æ¥çš„æ‰©å±•ã€‚ å³ä½¿å¤–è”æ¥åœ¨è”æ¥è¡¨ä¸­æ²¡æœ‰ç›¸å…³è¡Œï¼Œå¤–è”æ¥ä¹Ÿä¼šè¿”å›è¿™äº›è¡Œã€‚ å¤–è”æ¥å…±æœ‰ä¸‰ç§ç±»å‹ï¼šå·¦è”æ¥ï¼ˆleft joinï¼‰ï¼Œå³è”æ¥ï¼ˆright joinï¼‰å’Œå®Œå…¨è”æ¥ï¼ˆfull joinï¼‰ã€‚ left join(å·¦è”æ¥) è¿”å›åŒ…æ‹¬å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå³è¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰ï¼ˆæœ‰åŒ¹é…é¡¹ï¼‰çš„è®°å½• ï¼Œå¦åˆ™ç”¨NULL right join(å³è”æ¥) è¿”å›åŒ…æ‹¬å³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå·¦è¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è®°å½• inner join(ç­‰å€¼è¿æ¥) åªè¿”å›ä¸¤ä¸ªè¡¨ä¸­è”ç»“å­—æ®µç›¸ç­‰çš„è¡Œ æ€»ç»“: inner joinæ˜¯ä¸¤é›†åˆå–äº¤é›† FULL [OUTER] JOIN: ä¸¤é›†åˆå–å¹¶é›† left [outer] join: äº§ç”Ÿè¡¨Açš„å®Œå…¨é›†, Bä¸­æœ‰åŒ¹é…åˆ™æœ‰å€¼, æ²¡åŒ¹é…åˆ™ä¸ºnull left joinæ˜¯ä»¥Aè¡¨çš„è®°å½•ä¸ºåŸºç¡€çš„,Aå¯ä»¥çœ‹æˆå·¦è¡¨,Bå¯ä»¥çœ‹æˆå³è¡¨,left joinæ˜¯ä»¥å·¦è¡¨ä¸ºå‡†çš„.æ¢å¥è¯è¯´,å·¦è¡¨(A)çš„è®°å½•å°†ä¼šå…¨éƒ¨è¡¨ç¤ºå‡ºæ¥,è€Œå³è¡¨(B)åªä¼šæ˜¾ç¤ºç¬¦åˆæœç´¢æ¡ä»¶çš„è®°å½•(ä¾‹å­ä¸­ä¸º: A.aID = B.bID). Bè¡¨è®°å½•ä¸è¶³çš„åœ°æ–¹å‡ä¸ºNULLå¡«å……. Q: æœ€ä¸Šå±‚çš„ä¸¤å¼ å›¾åˆ†åˆ«æ˜¯å…¨Aå’Œå…¨Bï¼Œé‚£ä¹ˆleft joinå’Œright joinçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢? A: è”è¡¨æŸ¥è¯¢, æ‹“å±•å­—æ®µ 6 æŸ¥æ‰¾æ‰€æœ‰å‘˜å·¥å…¥èŒæ—¶å€™çš„è–ªæ°´æƒ…å†µ ä¸¤è¡¨å¹¶åˆ—æŸ¥æ‰¾ï¼Œé¢˜ç›®é‡ç‚¹åœ¨äº: æœ‰å¤šæ¡è–ªæ°´ä¿¡æ¯ä¸­æ‰¾å‡ºå…¥èŒæ—¶å€™çš„è–ªæ°´æƒ…å†µ 1234select e.emp_no, s.salary from employees e, salaries swhere e.emp_no = s.emp_no and e.hire_date = s.from_dateorder by e.emp_no desc è”è¡¨æŸ¥è¯¢ 12345select e.emp_no,s.salary from employees eleft join salaries swhere e.emp_no= s.emp_no and e.hire_date = s.from_date order by e.emp_no desc 7æŸ¥æ‰¾è–ªæ°´æ¶¨å¹…è¶…è¿‡15æ¬¡çš„å‘˜å·¥å·emp_noä»¥åŠå…¶å¯¹åº”çš„æ¶¨å¹…æ¬¡æ•°t å°†selectå‡ºæ¥çš„æ•°æ®é‡å‘½å havingç”¨æ³• 12345select s.emp_no, count(s.emp_no) as tfrom salaries sgroup by s.emp_nohaving count(salary) &gt; 15 -- ç”±äºå§count(s.emp_no)æ›¿æ¢æˆtäº†, å› æ­¤è¿™è¾¹å¯ä»¥å†™æˆ having t &gt; 15, è§æ‰§è¡Œé¡ºåºavg,countç­‰èšåˆå‡½æ•°ä¼˜å…ˆäºhaving Question: Q: select count(s.emp_no) as tçš„æ‰§è¡Œé¡ºåºåœ¨having t &gt; 15ä¹‹å‰å—? A: Noæ˜¯èšåˆå‡½æ•°countä¼˜å…ˆäºhaving SQL åˆ«å: AS SQL åˆ«åç”¨äºä¸º è¡¨ æˆ– è¡¨ä¸­çš„åˆ— æä¾›ä¸´æ—¶åç§°ã€‚ SQL åˆ«åé€šå¸¸ç”¨äºä½¿ è¡¨å æˆ– åˆ—å æ›´å…·å¯è¯»æ€§ã€‚ SQL ä¸€ä¸ªåˆ«ååªå­˜åœ¨äºæŸ¥è¯¢æœŸé—´ã€‚ åˆ«åä½¿ç”¨ AS å…³é”®å­—èµ‹äºˆã€‚ ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ç»™è¡¨èµ·åˆ«åï¼Ÿ 1.è¡¨åæ¯”è¾ƒé•¿ 2.å½“éœ€è¦åœ¨å¤šä¸ªè¡¨ä¸­è¿›è¡ŒæŸ¥è¯¢å¹¶æŠŠæŸ¥è¯¢å†…å®¹åŒæ—¶è¾“å‡ºçš„æ—¶å€™ 3.å½“éœ€è¦è¿›è¡Œè¡¨è¿æ¥çš„æ—¶å€™ï¼ˆå…¶å®å’Œ2ä¸€ä¸ªæ„æ€ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¤šä¸ªè¡¨è¿›è¡Œè¿æ¥ä¸»è¦ç›®çš„å°±æ˜¯ä¸ºäº†ä»å¤šä¸ªè¡¨ä¸­æŸ¥è¯¢æ‰€éœ€è¦çš„å†…å®¹ï¼‰ having åœ¨ SQL ä¸­å¢åŠ  HAVING å­å¥åŸå› æ˜¯ï¼ŒWHERE å…³é”®å­—æ— æ³•ä¸èšåˆå‡½æ•°ä¸€èµ·ä½¿ç”¨ã€‚ HAVING å­å¥å¯ä»¥è®©æˆ‘ä»¬ç­›é€‰åˆ†ç»„åçš„å„ç»„æ•°æ®ã€‚ èšåˆå‡½æ•° èšåˆå‡½æ•°å¯¹ä¸€ç»„å€¼æ‰§è¡Œè®¡ç®—å¹¶è¿”å›å•ä¸€çš„å€¼ èšåˆå‡½æ•°æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ é™¤äº† COUNT ä»¥å¤–ï¼Œèšåˆå‡½æ•°å¿½ç•¥ç©ºå€¼ã€‚ èšåˆå‡½æ•°ç»å¸¸ä¸ SELECT è¯­å¥çš„ GROUP BY å­å¥ä¸€åŒä½¿ç”¨ã€‚ æ‰€æœ‰èšåˆå‡½æ•°éƒ½å…·æœ‰ç¡®å®šæ€§ã€‚ä»»ä½•æ—¶å€™ç”¨ä¸€ç»„ç»™å®šçš„è¾“å…¥å€¼è°ƒç”¨å®ƒä»¬æ—¶ï¼Œéƒ½è¿”å›ç›¸åŒçš„å€¼ã€‚ æ ‡é‡å‡½æ•°ï¼šåªèƒ½å¯¹å•ä¸ªçš„æ•°å­—æˆ–å€¼è¿›è¡Œè®¡ç®—ã€‚ä¸»è¦åŒ…æ‹¬å­—ç¬¦å‡½æ•°ã€æ—¥æœŸ/æ—¶é—´å‡½æ•°ã€æ•°å€¼å‡½æ•°å’Œè½¬æ¢å‡½æ•°è¿™å››ç±»ã€‚ 8 æ‰¾å‡ºæ‰€æœ‰å‘˜å·¥å½“å‰å…·ä½“çš„è–ªæ°´salaryæƒ…å†µ 1234567891011select distinct salary from salarieswhere to_date = '9999-01-01'order by salary desc-- æˆ–è€…ä½¿ç”¨group byselect salary from salaries where to_date = '9999-01-01' group by salaryorder by salary desc è¯´æ˜ï¼š å¯¹äºdistinctä¸group byçš„ä½¿ç”¨ï¼š 1.å½“å¯¹ç³»ç»Ÿçš„æ€§èƒ½é«˜å¹¶ä¸”æ•°æ®é‡å¤§æ—¶ä½¿ç”¨group by 2.å½“å¯¹ç³»ç»Ÿçš„æ€§èƒ½ä¸é«˜æ—¶æˆ–è€…ä½¿ç”¨æ•°æ®é‡å°‘æ—¶ä¸¤è€…å€Ÿå£ 3.å°½é‡ä½¿ç”¨group by 9è·å–æ‰€æœ‰éƒ¨é—¨å½“å‰managerçš„å½“å‰è–ªæ°´æƒ…å†µ 12345678910-- ç”¨whereè¿æ¥å¹¶åˆ—æŸ¥è¯¢çš„ä¸¤è¡¨select d.dept_no, s.emp_no, s.salary from dept_manager as d, salaries as swhere d.emp_no = s.emp_no and d.to_date='9999-01-01' and s.to_date='9999-01-01';-- ç”¨inner joinåˆå¹¶ä¸¤è¡¨select d.dept_no, s.emp_no, s.salaryfrom dept_manager as dinner join salaries as son d.to_date = '9999-01-01' and s.to_date = '9999-01-01' and d.emp_no = s.emp_no; 10 è·å–æ‰€æœ‰émanagerçš„å‘˜å·¥emp_no æŠŠåœ¨dept_managerä¸­çš„éƒ½ç­›é€‰æ‰, ä¹‹å‰joinçš„ç»ƒä¹ : A - Aâˆ©B 12345678910111213-- LEFT JOINå·¦è¿æ¥ + IS NULLselect e.emp_nofrom employees as eleft join dept_manager don e.emp_no = d.emp_no where d.emp_no is null-- where d.emp_no isnull ä¸­ isnullæ˜¯ä¸ªå…³é”®å­—, æ­£ç¡®ç”¨æ³•æ˜¯-- ISNULL ( check_expression , replacement_value )å°†è¢«æ£€æŸ¥æ˜¯å¦ä¸º NULLçš„è¡¨è¾¾å¼æ›¿æ¢ä¸ºreplacement_value-- NOT IN+å­æŸ¥è¯¢select emp_nofrom employees where emp_no not in (select emp_no from dept_manager) ä½¿ç”¨è§: #join åªæœ‰left joinçš„æ•ˆæœ åŠ ä¸Šis nullçš„æ•ˆæœ ==&gt; æ‰¾å‡ºBè¡¨ä¸­emp_noä¸åŒ¹é…çš„(ä»–ä»¬å¡«å……çš„æ•°æ®éƒ½æ˜¯null) 11 è·å–æ‰€æœ‰å‘˜å·¥å½“å‰çš„manager 123456789101112-- myselect de.emp_no, dm.emp_no as manager_nofrom dept_emp as deleft join dept_manager dmon de.dept_no = dm.dept_nowhere dm.to_date ='9999-01-01' and dm.emp_no != de.emp_no-- é¢˜è§£: INNER JOIN+ä¸ç­‰äº; ä¸ç­‰äºå¯ä»¥ç”¨&lt;&gt;æˆ–è€…!=è¡¨ç¤ºSELECT de.emp_no, dm.emp_no AS manager_no FROM dept_emp AS de INNER JOIN dept_manager AS dmON de.dept_no = dm.dept_no WHERE dm.to_date = '9999-01-01' AND de.to_date = '9999-01-01' AND de.emp_no &lt;&gt; dm.emp_no 12 è·å–æ‰€æœ‰éƒ¨é—¨ä¸­å½“å‰å‘˜å·¥è–ªæ°´æœ€é«˜çš„ç›¸å…³ä¿¡æ¯ 12345select de.dept_no, de.emp_no, max(s.salary) from dept_emp as de inner join salaries as son s.emp_no = de.emp_no and de.to_date = '9999-01-01' and s.to_date = '9999-01-01'group by de.dept_no ä½¿ç”¨GROUP BYå­å¥æ—¶ï¼ŒSELECTå­å¥ä¸­åªèƒ½æœ‰èšåˆé”®ã€èšåˆå‡½æ•°ã€å¸¸æ•°ã€‚ 13 ä»titlsè¡¨è·å–æŒ‰ç…§titleè¿›è¡Œåˆ†ç»„ 1234select title, count(title) as tfrom titlesgroup by titlehaving t &gt;= 2 14 ä»titlesè¡¨è·å–æŒ‰ç…§titleè¿›è¡Œåˆ†ç»„ï¼Œæ³¨æ„å¯¹äºé‡å¤çš„emp_noè¿›è¡Œå¿½ç•¥ å¿½ç•¥é‡å¤çš„emp_noï¼Œ ä¸Šé¢˜çš„count(title) å…¶å®å¯ä»¥å†™æˆcount(emp_no) , å³æœ‰ä¸€æ¡åŒ…å«titleçš„æ¡ç›®å°±++ï¼Œè€Œemp_noæ˜¯å…¶ä¸»é”®, å› æ­¤å¯ä»¥ç”¨emp_noçš„æ•°ç›®æ¥ä»£æ›¿titleçš„æ•°ç›®ã€‚å› æ­¤è¿™é¢˜è¦æ±‚çš„ä¸é‡å¤emp_noç›´æ¥åŠ ä¸ªdistinctå³å¯ 1234select title, count(distinct emp_no) as tfrom titlesgroup by titlehaving t &gt;= 2 15 æŸ¥æ‰¾employeesè¡¨æ‰€æœ‰emp_noä¸ºå¥‡æ•° 12345select emp_no, birth_date, first_name, last_name, gender, hire_datefrom employeeswhere emp_no % 2 == 1 and last_name != 'Mary' -- è¡¥å……ï¼šemp_no % 2=1ä¹Ÿå¯ä»¥æ”¹æˆMOD(emp_no, 2)=1ï¼Œä½†æ˜¯æŸäº›sqlç‰ˆæœ¬å¯èƒ½ä¸æ”¯æŒåè€…(æ¯”å¦‚é¢˜åº“å°±ä¸æ”¯æŒ)order by hire_date desc 16 ç»Ÿè®¡å‡ºå½“å‰å„ä¸ªtitleç±»å‹å¯¹åº”çš„å‘˜å·¥å½“å‰è–ªæ°´å¯¹åº”çš„å¹³å‡å·¥èµ„ é€šè¿‡t.titleæ¥è¿›è¡Œåˆ†ç»„ 123456select t.title, avg(s.salary)from titles as tinner join salaries as son t.emp_no = s.emp_no and t.to_date ='9999-01-01' and s.to_date = '9999-01-01'-- on t.emp_no=s.emp_no where t.to_date='9999-01-01' and s.to_date='9999-01-01' ä¹Ÿè¡Œ, è¡¨ç¤ºåœ¨onæ‰§è¡Œåç”Ÿæˆçš„è™šæ‹Ÿè¡¨ä¸Šå†æ‰§è¡Œwheregroup by t.title æ³¨æ„ï¼šAVG(*)æ˜¯è‡ªåŠ¨å‘½åä¸ºavgçš„ï¼Œæ‰€ä»¥ä¸ç”¨é‡å‘½å 17 è·å–å½“å‰è–ªæ°´ç¬¬äºŒå¤šçš„å‘˜å·¥çš„emp_noä»¥åŠå…¶å¯¹åº”çš„è–ªæ°´ è€ƒéªŒlimitç”¨æ³• 1234select emp_no, salary from salariesorder by salary desclimit 1, 1 18 æŸ¥æ‰¾å½“å‰è–ªæ°´æ’åç¬¬äºŒå¤šçš„å‘˜å·¥ç¼–å·emp_no 1234567-- ç”¨MAXå‡½æ•°ï¼Œå…ˆæŸ¥å‡ºæœ€å¤§salaryï¼Œå†åˆ©ç”¨&lt;å¾—åˆ°ä¸å«æœ€å¤§salaryçš„å­è¡¨ï¼Œåœ¨å­è¡¨ä¸Šå†æ±‚æœ€å¤§å€¼select e.emp_no, max(s.salary), e.last_name, e.first_namefrom employees as einner join salaries as son e.emp_no = s.emp_nowhere to_date = '9999-01-01'and salary &lt; ( select max(salary) from salaries as s where s.to_date = '9999-01-01') 19æŸ¥æ‰¾æ‰€æœ‰å‘˜å·¥çš„last_nameå’Œfirst_nameä»¥åŠå¯¹åº”çš„dept_name åˆ—å‡ºemployeesè¡¨é‡Œæ‰€æœ‰å‘˜å·¥last_name, first_name, æ ¹æ®employeesä¸­emp_noå¯¹åº”dept_empä¸­çš„dept_no,æ²¡æœ‰åˆ†é…çš„å‘˜å·¥æ‰¾ä¸åˆ°å¯¹åº”â€“&gt;é‡‡ç”¨LEFT JOIN å†æ ¹æ®dept_noå¯¹åº”departmentsè¡¨ä¸­çš„dept_name,æ²¡æœ‰åˆ†é…çš„å‘˜å·¥æ‰¾ä¸åˆ°å¯¹åº”â€“&gt;é‡‡ç”¨LEFT JOIN 123456select e.last_name, e.first_name, dm.dept_namefrom employees as eleft join dept_emp as de -- è¿™è¾¹ä½¿ç”¨left joinå› ä¸ºè¦é’ˆå¯¹æ²¡æœ‰åˆ†é…éƒ¨é—¨çš„å‘˜å·¥on e.emp_no = de.emp_noleft join departments as dmon de.dept_no = dm.dept_no 20æŸ¥æ‰¾å‘˜å·¥ç¼–å·emp_nowä¸º10001å…¶è‡ªå…¥èŒä»¥æ¥çš„è–ªæ°´salaryæ¶¨å¹…å€¼growth æœ€å¤§å€¼-æœ€å°å€¼ 1234-- é¢˜è§£, sumçš„ç»“æœé»˜è®¤ä¸ºgrowthselect (max(salary)-min(salary)) as growthfrom salarieswhere emp_no='10001'; 21 æŸ¥æ‰¾æ‰€æœ‰å‘˜å·¥è‡ªå…¥èŒä»¥æ¥çš„è–ªæ°´æ¶¨å¹…æƒ…å†µ è¿™é¢˜æ¯”è¾ƒæœ‰éš¾åº¦ 12345678910111213select la.emp_no, (now.salary - la.salary) as growthfrom (select e.emp_no, s.salary from employees as e left join salaries as s on e.emp_no = s.emp_no and e.hire_date = s.from_date ) as la -- å…¥èŒæ—¶çš„å·¥èµ„è¡¨inner join (select e.emp_no, s.salary from employees as e left join salaries as s on e.emp_no = s.emp_no where s.to_date = '9999-01-01') as now -- ç°åœ¨çš„å·¥èµ„è¡¨on la.emp_no = now.emp_noorder by growth asc -- order by é»˜è®¤asc 22ç»Ÿè®¡å„ä¸ªéƒ¨é—¨çš„å·¥èµ„è®°å½•æ•° 1234567891011121314151617181920-- myselect d.dept_no, d.dept_name, count(d.emp_no) as `sum`from (select * from dept_emp as de inner join departments as dm on de.dept_no = dm.dept_no) as dinner join salaries as son d.emp_no = s.emp_no group by d.dept_no -- æ ¹æ®é¢˜ç›®è¦æ±‚ï¼ˆç»Ÿè®¡å„ä¸ªéƒ¨é—¨çš„å·¥èµ„è®°å½•æ•°ï¼‰ç¡®å®šgroup byå¯¹è±¡-- é¢˜è§£select dm.dept_no, dm.dept_name, count(*)from departments as dminner join (select * from dept_emp as de -- (dept_emp as de ä¹Ÿå¯ä»¥ inner join salaries as s on de.emp_no = s.emp_no) as don dm.dept_no = d.dept_nogroup by d.dept_no 23å¯¹æ‰€æœ‰å‘˜å·¥çš„å½“å‰è–ªæ°´æŒ‰ç…§salaryè¿›è¡ŒæŒ‰ç…§1-Nçš„æ’å SQLçª—å£å‡½æ•°ï¼ˆOLAPå‡½æ•°ï¼‰ä¸­ç”¨äºæ’åºçš„ä¸“ç”¨çª—å£å‡½æ•°ç”¨æ³•: RANKå‡½æ•°çš„ä½¿ç”¨ -&gt;mysqlä¸æ”¯æŒ 123select emp_no, salary, dense_rank() over (order by salary desc) as rankfrom salarieswhere to_date = '9999-01-01' ä¸‹é¢ä»‹ç»ä¸‰ç§ç”¨äºè¿›è¡Œæ’åºçš„ä¸“ç”¨çª—å£å‡½æ•°ï¼š 1ã€RANK() åœ¨è®¡ç®—æ’åºæ—¶ï¼Œè‹¥å­˜åœ¨ç›¸åŒä½æ¬¡ï¼Œä¼šè·³è¿‡ä¹‹åçš„ä½æ¬¡ã€‚ ä¾‹å¦‚ï¼Œæœ‰3æ¡æ’åœ¨ç¬¬1ä½æ—¶ï¼Œæ’åºä¸ºï¼š1ï¼Œ1ï¼Œ1ï¼Œ4Â·Â·Â·Â·Â·Â· 2ã€DENSE_RANK() è¿™å°±æ˜¯é¢˜ç›®ä¸­æ‰€ç”¨åˆ°çš„å‡½æ•°ï¼Œåœ¨è®¡ç®—æ’åºæ—¶ï¼Œè‹¥å­˜åœ¨ç›¸åŒä½æ¬¡ï¼Œä¸ä¼šè·³è¿‡ä¹‹åçš„ä½æ¬¡ã€‚ ä¾‹å¦‚ï¼Œæœ‰3æ¡æ’åœ¨ç¬¬1ä½æ—¶ï¼Œæ’åºä¸ºï¼š1ï¼Œ1ï¼Œ1ï¼Œ2Â·Â·Â·Â·Â·Â· 3ã€ROW_NUMBER() è¿™ä¸ªå‡½æ•°èµ‹äºˆå”¯ä¸€çš„è¿ç»­ä½æ¬¡ã€‚ ä¾‹å¦‚ï¼Œæœ‰3æ¡æ’åœ¨ç¬¬1ä½æ—¶ï¼Œæ’åºä¸ºï¼š1ï¼Œ2ï¼Œ3ï¼Œ4Â·Â·Â·Â·Â·Â· çª—å£å‡½æ•°ç”¨æ³•ï¼š 1&lt;å¼€çª—å‡½æ•°&gt; over ([partition by &lt;åˆ—æ¸…å•&gt;] order by &lt;æ’åºç”¨åˆ—æ¸…å•&gt;) å¼€çª—å‡½æ•°å¤§ä½“å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š 1.èƒ½å¤Ÿä½œä¸ºå¼€çª—å‡½æ•°çš„èšåˆå‡½æ•°ï¼ˆsumï¼Œavgï¼Œcountï¼Œmaxï¼Œminï¼‰ 2.rankï¼Œdense_rankã€‚row_numberç­‰ä¸“ç”¨å¼€çª—å‡½æ•°ã€‚ 1.4 å¼€çª—å‡½æ•°å’Œèšåˆå‡½æ•°çš„åŒºåˆ« ï¼ˆ1ï¼‰SQL æ ‡å‡†å…è®¸å°†æ‰€æœ‰èšåˆå‡½æ•°ç”¨ä½œå¼€çª—å‡½æ•°ï¼Œç”¨OVER å…³é”®å­—åŒºåˆ†å¼€çª—å‡½æ•°å’Œèšåˆå‡½æ•°ã€‚ ï¼ˆ2ï¼‰èšåˆå‡½æ•°æ¯ç»„åªè¿”å›ä¸€ä¸ªå€¼ï¼Œå¼€çª—å‡½æ•°æ¯ç»„å¯è¿”å›å¤šä¸ªå€¼ã€‚ 24 è·å–æ‰€æœ‰émanagerå‘˜å·¥å½“å‰çš„è–ªæ°´æƒ…å†µ 123456789-- æ–¹æ³•1ï¼šå¤šè¡¨è”æŸ¥+NOT INSELECT de.dept_no, de.emp_no, s.salary FROM dept_emp AS de, employees AS e, salaries AS sWHERE de.emp_no=e.emp_no AND de.emp_no=s.emp_no AND s.to_date='9999-01-01' AND e.emp_no NOT IN (SELECT emp_noFROM dept_manager WHERE to_date='9999-01-01') 25 è·å–å‘˜å·¥å…¶å½“å‰çš„è–ªæ°´æ¯”å…¶managerå½“å‰è–ªæ°´è¿˜é«˜çš„ç›¸ 12345678910111213141516171819202122232425262728select de.emp_no, dm.emp_no as manager_no, s1.salary as emp_salary, s2.salary as manager_salaryfrom dept_emp as de, dept_manager as dm, salaries s1, salaries s2 where de.dept_no = dm.dept_no -- æ‰¾åˆ°éƒ¨é—¨çš„bossand de.emp_no = s1.emp_noand dm.emp_no = s2.emp_noand s1.salary &gt; s2.salaryand s2.to_date='9999-01-01'and s1.to_date='9999-01-01';-- ä¾æ¬¡æ„é€ ä¸¤å¼ è¡¨, å†é“¾è¡¨æŸ¥è¯¢SELECT a.emp_no, b.manager_no, a.emp_salary, b.manager_salaryFROM ( SELECT de.dept_no, de.emp_no, s.salary AS emp_salary FROM dept_emp AS de, salaries AS s WHERE de.emp_no=s.emp_no AND de.to_date='9999-01-01' AND s.to_date='9999-01-01') AS a, ( SELECT dm.dept_no, dm.emp_no AS manager_no, s.salary AS manager_salary FROM dept_manager AS dm, salaries AS s WHERE dm.emp_no=s.emp_no AND dm.to_date='9999-01-01' AND s.to_date='9999-01-01') AS bWHERE a.dept_no=b.dept_no AND a.emp_salary&gt;b.manager_salary; 26 æ±‡æ€»å„ä¸ªéƒ¨é—¨å½“å‰å‘˜å·¥çš„titleç±»å‹çš„åˆ†é…æ•°ç›® 1234567891011121314151617181920212223use niuke;select dp.dept_no, dp.dept_name, t.title, count(t.title) from departments as dp, dept_emp as de, titles as twhere dp.dept_no = de.dept_noand de.emp_no = t.emp_noand de.to_date = '9999-01-01'and t.to_date = '9999-01-01'group by dp.dept_no,t.title -- é¢˜ç›®çš„éš¾ç‚¹åœ¨äºç†è§£group byçš„æ¡ä»¶-- é¢˜è§£SELECT de.dept_no AS dept_no, d.dept_name AS dept_name, t.title AS title, COUNT(*) AS `count` -- åˆ†å¥½ç»„åè®¡ç®—æ¯ä¸ªç»„å†…æœ‰å¤šå°‘è¡ŒFROM (SELECT * FROM dept_emp AS de1 WHERE de1.to_date='9999-01-01') AS de, (SELECT * FROM titles AS t1 WHERE t1.to_date='9999-01-01') AS t, departments AS dWHERE d.dept_no = de.dept_noAND de.emp_no = t.emp_noGROUP BY d.dept_no, t.title å¯¹äºgroup byå¤šä¸ªå…³é”®å­—çš„ä½¿ç”¨ï¼Œ è§Bç«™è§†é¢‘ group byå’Œdistinctå¯ä»¥å®ç°ç›¸åŒæ•ˆæœï¼Œ åœ¨redshiftä¸­group byå¿«äºdistinct 27 ç»™å‡ºæ¯ä¸ªå‘˜å·¥æ¯å¹´è–ªæ°´æ¶¨å¹…è¶…è¿‡5000çš„å‘˜å·¥ç¼–å·emp_no 1234567-- ä¸¤ä¸ªsalaryå­æŸ¥è¯¢ç›¸å‡: è¡¨å†…æ ¹æ®æŸä¸€åˆ—è¿›è¡Œå·®å€¼æ¯”è¾ƒ, å°±éœ€è¦åˆ†åˆ«è·å¾—ä¸¤è¡Œæ•°æ®, å› æ­¤å¯ä»¥è·å¾—ä¸¤æ¬¡è¡¨, onæ‰¾åˆ°å¯¹åº”æ•°æ®SELECT s1.emp_no, s2.from_date, (s2.salary - s1.salary) AS salary_growth FROM salaries AS s1 JOIN salaries AS s2ON s1.emp_no = s2.emp_no AND s1.to_date = s2.from_date WHERE s2.salary - s1.salary &gt; 5000 ORDER BY salary_growth DESC; æ³¨æ„: è¿™è¾¹åªèƒ½æ˜¯(inner) JOIN, å¦‚æœLEFT JOIN, RIGHT JOINä¼šæŠ¥é”™; åŸæ•°æ®7æ¡, joinä»¥åå˜æˆ49æ¡(æŠŠs2çš„æ¯ä¸€æ¡éƒ½å¯¹åº”ç»™äº†s1çš„æ¯ä¸€æ¡, 7*7)==&gt;å’ŒSELECT * FROM salaries AS s1, salaries AS s2;æ•ˆæœä¸€æ ·ï¼Œä½†left joinã€right joinæ•ˆæœä¸ä¸€æ · 12345678-- å…¶ä»–é¢˜SELECT s1.emp_no, s2.from_date, (s2.salary - s1.salary) AS salary_growthFROM salaries AS s1, salaries AS s2WHERE s1.emp_no=s2.emp_noAND (STRFTIME('%Y', s2.from_date) - STRFTIME('%Y', s1.from_date) = 1OR STRFTIME('%Y', s2.to_date) - STRFTIME('%Y', s1.to_date) = 1)AND salary_growth&gt;5000ORDER BY salary_growth DESC; 28 æŸ¥æ‰¾æè¿°ä¿¡æ¯ä¸­åŒ…æ‹¬robotçš„ç”µå½±å¯¹åº”çš„åˆ†ç±»åç§°ä»¥åŠç”µå½±æ•°ç›® è¿™é¢˜é¢˜æ„å…¶å®æ˜¯æœ‰ä¸€ç‚¹ç»•çš„ï¼š æŸ¥æ‰¾æè¿°ä¿¡æ¯ä¸­åŒ…å«robotçš„ç”µå½±å¯¹åº”çš„åˆ†ç±»åç§°ä»¥åŠç”µå½±æ•°ç›®ï¼Œæ³¨æ„éœ€è¦è¯¥åˆ†ç±»åŒ…å«ç”µå½±æ€»æ•°é‡&gt;=5éƒ¨ åŒ…å«robotçš„æ•°æ®, é€šè¿‡likeé€‰å‡º: select * from film where film.description like '%robot%'; è®°å½•: category: 16æ¡ film: 10æ¡ film_category: 10æ¡ 1234567891011121314select * from film f,category c,film_category fc -- 1600æ¡æ•°æ®where f.description like '%robot%' -- 160æ¡æ•°æ®and f.film_id = fc.film_id -- 16æ¡æ•°æ®-- é¢˜è§£:select c.name AS `åˆ†ç±»åç§°category.name`, COUNT(fc.film_id) AS `ç”µå½±æ•°ç›®count(film.film_id)`from film f,category c,film_category fcwhere f.description like '%robot%'and f.film_id=fc.film_idand fc.category_id=c.category_idand c.category_id in (select category_id from film_category group by category_id having count(film_id)&gt;=5) -- éœ€è¦è¯¥åˆ†ç±»åŒ…å«ç”µå½±æ€»æ•°é‡(count(film_category.category_id))&gt;=5éƒ¨ â–²æ³¨: è¿™é¢˜æ— è®ºæ€ä¹ˆå†™åœ¨æœ¬åœ°çš„MYSQLä¸Šéƒ½è·‘ä¸å‡ºæ¥, ä½†æ˜¯OJä¸Šèƒ½è¿‡. å…·ä½“æŠ¥é”™ä¸º: In aggregated query without GROUP BY, expression #1 of SELECT list contains nonaggregated column 'niuke.c.name'; this is incompatible with sql_mode=only_full_group_by, è¿™ä¸ªæ˜¯ç”±äºsql_modeè®¾ç½®ä¸å½“å¼•èµ·çš„ï¼Œä¿®æ”¹ä¸‹sql_modeå³å¯. åšæ³•ä¸º: https://cloud.tencent.com/developer/article/1404739 29 ä½¿ç”¨joinæŸ¥è¯¢æ–¹å¼æ‰¾å‡ºæ²¡æœ‰åˆ†ç±»çš„ç”µå½±idä»¥åŠåç§° 12345select f.film_id as 'ç”µå½±id', f.title as 'åç§°'from film f left join film_category as fc on f.film_id = fc.film_idwhere fc.category_id is null -- æ³¨æ„ä»€ä¹ˆæ—¶å€™ç”¨on ä»€ä¹ˆæ—¶å€™ç”¨where, è¿™è¾¹æ˜¯å›ºå®šç”¨æ³• 30 ä½¿ç”¨å­æŸ¥è¯¢çš„æ–¹å¼æ‰¾å‡ºå±äºActionåˆ†ç±»çš„æ‰€æœ‰ç”µå½±å¯¹åº”çš„title,description è¦æ±‚å­æŸ¥è¯¢ï¼Œ å°±éœ€è¦å…ˆæ ¹æ®ç±»åˆ«ä¸ºActionå°†å­è¡¨ç»™ç­›é€‰å‡ºæ¥ 1234567891011121314-- è”å­è¡¨ï¼Œ ç”¨inner joinä¸€æ ·çš„select f.title, f.description from film as f, (SELECT fc.film_id from film_category fc, category c where fc.category_id = c.category_id and c.name = 'Action') as ffwhere f.film_id = ff.film_id;-- é¢˜è§£select title,descriptionfrom film fwhere f.film_id in (select fc.film_id from category c join film_category fc on c.category_id=fc.category_id where name='Action') inner join å’Œ whereæ¯”è¾ƒ(å®é™…ä¸Šæ˜¯cross joinç¬›å¡å°”ç§¯) 123456789A: select a.x, b.x from table1 a,table2 b where a.id=b.idB: select * from table1 a cross join table2 b where a.id=b.id (æ³¨ï¼šcross joinååŠ æ¡ä»¶åªèƒ½ç”¨where,ä¸èƒ½ç”¨on)C: select * from table1 a inner join table2 b on a.id=b.id ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨æ–¹æ³•Aå’ŒBï¼Œå› ä¸ºå¦‚æœæœ‰WHEREå­å¥çš„è¯ï¼Œå¾€å¾€ä¼šå…ˆç”Ÿæˆä¸¤ä¸ªè¡¨è¡Œæ•°ä¹˜ç§¯çš„è¡Œçš„æ•°æ®è¡¨ç„¶åæ‰æ ¹æ®WHEREæ¡ä»¶ä»ä¸­é€‰æ‹©ã€‚å› æ­¤ï¼Œå¦‚æœä¸¤ä¸ªéœ€è¦æ±‚äº¤é™…çš„è¡¨å¤ªå¤§ï¼Œå°†ä¼šéå¸¸éå¸¸æ…¢ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚ è¿æ¥æŸ¥è¯¢ä¸å­æŸ¥è¯¢ åˆæ­¥å®è·µè¯æ˜ï¼šè¿æ¥æŸ¥è¯¢çš„æ€§èƒ½ä¼˜äºå­æŸ¥è¯¢ï¼Œæ‰€ä»¥èƒ½ç”¨è¿æ¥æŸ¥è¯¢çš„åœ°æ–¹å°½é‡å°‘ç”¨å­æŸ¥è¯¢ è¿æ¥æŸ¥è¯¢ è¿æ¥æŸ¥è¯¢æ˜¯å°†ä¸¤ä¸ªæˆ–å¤šä¸ªçš„è¡¨æŒ‰æŸä¸ªæ¡ä»¶è¿æ¥èµ·æ¥ï¼Œä»ä¸­é€‰å–éœ€è¦çš„æ•°æ®ï¼Œè¿æ¥æŸ¥è¯¢æ˜¯åŒæ—¶æŸ¥è¯¢ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¡¨çš„ä½¿ç”¨çš„ã€‚å½“ä¸åŒçš„è¡¨ä¸­å­˜åœ¨ç›¸åŒæ„ä¹‰çš„å­—æ®µæ—¶ï¼Œå¯ä»¥é€šè¿‡è¯¥å­—æ®µæ¥è¿æ¥è¿™å‡ ä¸ªè¡¨ã€‚ 32 å°†employeesè¡¨çš„æ‰€æœ‰å‘˜å·¥çš„last_nameå’Œfirst_nameæ‹¼æ¥èµ·æ¥ä½œä¸ºNameï¼Œä¸­é—´ä»¥ä¸€ä¸ªç©ºæ ¼åŒºåˆ† 123456789101112-- sqliteä¸­æ— concatå‡½æ•°select (last_name||' '||first_name) as Name from employees -- mysqlCREATE TABLE if NOT EXISTS `employees`(`last_name` VARCHAR(60),`first_name` VARCHAR(60));INSERT INTO `employees` VALUES('mr', 'li');select concat(last_name, ' ', first_name) as 'Name' from employees -- sqlite ç»ƒä¹ CRUD 33 åˆ›å»ºä¸€ä¸ªactorè¡¨ï¼ŒåŒ…å«å¦‚ä¸‹åˆ—ä¿¡æ¯ 123456789101112131415-- å‘ç°å›¾ä¸­æœ‰çš„å«ä¹‰åˆ—ä¸éœ€è¦ç”¨commentè¡¨ç¤ºå‡ºcreate table if not exists `actor`( `actor_id` smallint(5) not null , `first_name` varchar(45) not null , `last_name` varchar(45) not null , `last_update` date not null, primary key(actor_id));-- é¢˜è§£CREATE TABLE IF NOT EXISTS actor (actor_id smallint(5) NOT NULL PRIMARY KEY, -- è®¾ç½®ä¸»é”®first_name varchar(45) NOT NULL,last_name varchar(45) NOT NULL,last_update timestamp NOT NULL DEFAULT (datetime('now','localtime'))) -- è·å–é»˜è®¤ç³»ç»Ÿæ—¶é—´ 34 æ‰¹é‡æ’å…¥æ•°æ® 123insert into `actor`values (1, 'PENELOPE', 'GUINESS', '2006-02-15 12:34:33'), (2, 'NICK', 'WAHLBERG', '2006-02-15 12:34:33'); 35 æ‰¹é‡æ’å…¥æ•°æ®,å¦‚æœæ•°æ®å·²ç»å­˜åœ¨ï¼Œè¯·å¿½ç•¥ï¼Œä¸ä½¿ç”¨replaceæ“ä½œ 1234567-- sqliteinsert or ignore into actorvalues(3,'ED','CHASE','2006-02-15 12:34:33');-- mysqlinsert into actorvalues(3,'ED','CHASE','2006-02-15 12:34:33'); 36 åˆ›å»ºä¸€ä¸ªactor_nameè¡¨ï¼Œå°†actorè¡¨ä¸­çš„æ‰€æœ‰first_nameä»¥åŠlast_nameå¯¼å…¥æ”¹è¡¨ 123456CREATE TABLE IF NOT EXISTS `actor_name`(`first_name` varchar(45) not null,`last_name` VARCHAR(45) not null);INSERT INTO `actor_name` SELECT first_name, last_name from actor; 37 å¯¹first_nameåˆ›å»ºå”¯ä¸€ç´¢å¼•uniq_idx_firstnameï¼Œå¯¹last_nameåˆ›å»ºæ™®é€šç´¢å¼•idx_lastname 123456789-- sqliteåœ¨å·²æœ‰è¡¨ä¸Šåˆ›å»ºç´¢å¼•æ–¹å¼ -- 1.åˆ›å»ºå•åˆ—æ™®é€šç´¢å¼•CREATE INDEX index_name ON table_name (column_name); -- 2.åˆ›å»ºå”¯ä¸€ç´¢å¼•CREATE UNIQUE INDEX index_name ontable_name (column_name);-- æ³¨æ„, è¿™è¾¹ç´¢å¼•æ˜¯ä¸èƒ½ç”¨``æˆ–è€…''æ¡†èµ·æ¥çš„CREATE UNIQUE INDEX uniq_idx_firstname on actor (first_name);CREATE INDEX idx_lastname ON actor (last_name); 38 é’ˆå¯¹actorè¡¨åˆ›å»ºè§†å›¾actor_name_view 123CREATE VIEW actor_name_view ASSELECT first_name first_name_v ,last_name last_name_vFROM actor; 39 é’ˆå¯¹ä¸Šé¢çš„salariesè¡¨emp_noå­—æ®µåˆ›å»ºç´¢å¼•idx_emp_noï¼ŒæŸ¥è¯¢emp_noä¸º10005, é’ˆå¯¹salariesè¡¨emp_noå­—æ®µåˆ›å»ºäº†ç´¢å¼•idx_emp_noã€‚è¯·å¼ºåˆ¶ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢emp_noä¸º10005 123456&gt; -- sqliteä½¿ç”¨ç´¢å¼•æŸ¥è¯¢çš„è¯­æ³•ä¸º&gt; SELECT|DELETE|UPDATE column1, column2...&gt; INDEXED BY (index_name)&gt; table_name&gt; WHERE (CONDITION);&gt; å®ƒå¯ä»¥ä¸ DELETEã€UPDATE æˆ– SELECT è¯­å¥ä¸€èµ·ä½¿ç”¨ã€‚ â€œINDEXED BY index-nameâ€ å­å¥è§„å®šå¿…é¡»ç”¨å‘½åçš„ç´¢å¼•æ¥æŸ¥æ‰¾å‰é¢è¡¨ä¸­å€¼ï¼Œå¦‚æœç´¢å¼•å index-name ä¸å­˜åœ¨æˆ–ä¸èƒ½ç”¨äºæŸ¥è¯¢ï¼ŒSQLite è¯­å¥çš„æŸ¥è¯¢å¤±è´¥ã€‚ 1SELECT * FROM salaries INDEXED BY idx_emp_no WHERE emp_no = 10005 40 åœ¨last_updateåé¢æ–°å¢åŠ ä¸€åˆ—åå­—ä¸ºcreate_date 12345-- å‘è¡¨ä¸­æ·»åŠ åˆ— alter table table_name add col_name char-- ç­”æ¡ˆALTER TABLE actor ADD create_date datetime NOT NULL DEFAULT('0000-00-00 00:00:00'); 41 æ„é€ ä¸€ä¸ªè§¦å‘å™¨audit_logï¼Œåœ¨å‘employeesè¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®çš„æ—¶å€™ï¼Œè§¦å‘æ’å…¥ç›¸å…³çš„æ•°æ®åˆ°auditä¸­ 12345-- åœ¨MySQLä¸­ï¼Œåˆ›å»ºè§¦å‘å™¨è¯­æ³•å¦‚ä¸‹ï¼šCREATE TRIGGER trigger_nametrigger_time trigger_event ON tbl_nameFOR EACH ROWtrigger_stmt trigger_nameï¼šæ ‡è¯†è§¦å‘å™¨åç§°ï¼Œç”¨æˆ·è‡ªè¡ŒæŒ‡å®šï¼› trigger_timeï¼šæ ‡è¯†è§¦å‘æ—¶æœºï¼Œå–å€¼ä¸º BEFORE æˆ– AFTERï¼› trigger_eventï¼šæ ‡è¯†è§¦å‘äº‹ä»¶ï¼Œå–å€¼ä¸º INSERTã€UPDATE æˆ– DELETEï¼› tbl_nameï¼šæ ‡è¯†å»ºç«‹è§¦å‘å™¨çš„è¡¨åï¼Œå³åœ¨å“ªå¼ è¡¨ä¸Šå»ºç«‹è§¦å‘å™¨ï¼› trigger_stmtï¼šè§¦å‘å™¨ç¨‹åºä½“ï¼Œå¯ä»¥æ˜¯ä¸€å¥SQLè¯­å¥ï¼Œæˆ–è€…ç”¨ BEGIN å’Œ END åŒ…å«çš„å¤šæ¡è¯­å¥ï¼Œæ¯æ¡è¯­å¥ç»“æŸè¦åˆ†å·ç»“å°¾ã€‚ 1234567create trigger audit_log after insert on employees_testfor each rowbegin insert into audit values(new.id,new.name); -- newä¸ºæ’å…¥åˆ°employees_testçš„æ•°æ®end ã€NEW ä¸ OLD è¯¦è§£ã€‘ MySQL ä¸­å®šä¹‰äº† NEW å’Œ OLDï¼Œç”¨æ¥è¡¨ç¤ºè§¦å‘å™¨çš„æ‰€åœ¨è¡¨ä¸­ï¼Œè§¦å‘äº†è§¦å‘å™¨çš„é‚£ä¸€è¡Œæ•°æ®ã€‚ å…·ä½“åœ°ï¼š åœ¨ INSERT å‹è§¦å‘å™¨ä¸­ï¼ŒNEW ç”¨æ¥è¡¨ç¤ºå°†è¦ï¼ˆBEFOREï¼‰æˆ–å·²ç»ï¼ˆAFTERï¼‰æ’å…¥çš„æ–°æ•°æ®ï¼› åœ¨ UPDATE å‹è§¦å‘å™¨ä¸­ï¼ŒOLD ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»è¢«ä¿®æ”¹çš„åŸæ•°æ®ï¼ŒNEW ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»ä¿®æ”¹ä¸ºçš„æ–°æ•°æ®ï¼› åœ¨ DELETE å‹è§¦å‘å™¨ä¸­ï¼ŒOLD ç”¨æ¥è¡¨ç¤ºå°†è¦æˆ–å·²ç»è¢«åˆ é™¤çš„åŸæ•°æ®ï¼› ä½¿ç”¨æ–¹æ³•ï¼š NEW.columnName ï¼ˆcolumnName ä¸ºç›¸åº”æ•°æ®è¡¨æŸä¸€åˆ—åï¼‰ 42 åˆ é™¤emp_noé‡å¤çš„è®°å½•ï¼Œåªä¿ç•™æœ€å°çš„idå¯¹åº”çš„è®°å½•ã€‚ 12345delete from titles_test where id not in ( select min(id) from titles_test group by emp_no); 43 å°†æ‰€æœ‰to_dateä¸º9999-01-01çš„å…¨éƒ¨æ›´æ–°ä¸ºNULL,ä¸” from_dateæ›´æ–°ä¸º2001-01-01 1update titles_test set to_date = null, from_date = '2001-01-01' where to_date ='9999-01-01'; 44 å°†id=5ä»¥åŠemp_no=10001çš„è¡Œæ•°æ®æ›¿æ¢æˆid=5ä»¥åŠemp_no=10005,å…¶ä»–æ•°æ®ä¿æŒä¸å˜ï¼Œä½¿ç”¨replaceå®ç°ã€‚ 123-- è€ƒå¯Ÿreplaceå‡½æ•°: å…¶ä¸­åŒ…å«ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¯¥å­—æ®µçš„åç§°ï¼Œç¬¬äºŒå‚æ•°ä¸ºè¯¥å­—æ®µçš„éœ€è¦è¢«ä¿®æ”¹å€¼ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºè¯¥å­—æ®µä¿®æ”¹åçš„å€¼update titles_test set emp_no = replace(emp_no, 10001, 10005) where id = 5; 45 å°†titles_testè¡¨åä¿®æ”¹ä¸ºtitles_2017 12-- å› ä¸ºåœ¨ MySQLé‡Œé¢ä¿®æ”¹è¡¨åå’Œè¡¨é‡Œçš„å­—æ®µéƒ½æ˜¯ç”¨çš„ ALTER TABLE + table_name + åé¢çš„ä¿®æ”¹éƒ¨åˆ†alter table titles_test rename to titles_2017; ç»“åˆ[40 åœ¨last_updateåé¢æ–°å¢åŠ ä¸€åˆ—åå­—ä¸ºcreate_date](#40 åœ¨last_updateåé¢æ–°å¢åŠ ä¸€åˆ—åå­—ä¸ºcreate_date)ä¸€èµ·çœ‹ ALTER TABLE è¡¨å ADD åˆ—å/ç´¢å¼•/ä¸»é”®/å¤–é”®ç­‰ï¼› ALTER TABLE è¡¨å DROP åˆ—å/ç´¢å¼•/ä¸»é”®/å¤–é”®ç­‰ï¼› ALTER TABLE è¡¨å ALTER ä»…ç”¨æ¥æ”¹å˜æŸåˆ—çš„é»˜è®¤å€¼ï¼› ALTER TABLE è¡¨å RENAME åˆ—å/ç´¢å¼•å TO æ–°çš„åˆ—å/æ–°ç´¢å¼•åï¼› ALTER TABLE è¡¨å RENAME TO/AS æ–°è¡¨å; ALTER TABLE è¡¨å MODIFY åˆ—çš„å®šä¹‰ä½†ä¸æ”¹å˜åˆ—åï¼› ALTER TABLE è¡¨å CHANGE åˆ—åå’Œå®šä¹‰éƒ½å¯ä»¥æ”¹å˜ã€‚ 46 åœ¨auditè¡¨ä¸Šåˆ›å»ºå¤–é”®çº¦æŸï¼Œå…¶emp_noå¯¹åº”employees_testè¡¨çš„ä¸»é”®id 123456DROP TABLE audit; CREATE TABLE audit( emp_no INT NOT NULL, create_date datetime NOT NULL, FOREIGN KEY(emp_no) REFERENCES employees_test(id) ) 48 å°†æ‰€æœ‰è·å–å¥–é‡‘çš„å‘˜å·¥å½“å‰çš„è–ªæ°´å¢åŠ 10% 123456update salaries set salary = 1.1*salary where salaries.to_date = '9999-01-01'and emp_no in ( select emp_no from emp_bonus) 50 å°†employeesè¡¨ä¸­çš„æ‰€æœ‰å‘˜å·¥çš„last_nameå’Œfirst_nameé€šè¿‡(â€™)è¿æ¥èµ·æ¥ã€‚ 1select (last_name || \"'\" || first_name ) as name from employees; 51 æŸ¥æ‰¾å­—ç¬¦ä¸²â€™10,A,Bâ€™ æŠŠä¸² â€œ10,A,Bâ€ ä¸­çš„ é€—å·ç”¨ç©ºä¸²æ›¿ä»£ï¼Œ å˜æˆäº† â€œ10ABâ€, ç„¶ååŸæ¥ä¸²çš„é•¿åº¦ - æ›¿æ¢ä¹‹åçš„ä¸²çš„é•¿åº¦ å°±æ˜¯ è¢«æ›¿æ¢çš„ é€—å·çš„ä¸ªæ•° 1select ( length('10,A,B') - length(replace('10,A,B', ',', '')) ) as cnt; 52 è·å–Employeesä¸­çš„first_nameï¼ŒæŸ¥è¯¢æŒ‰ç…§first_nameæœ€åä¸¤ä¸ªå­—æ¯ï¼ŒæŒ‰ç…§å‡åºè¿›è¡Œæ’åˆ— ç”¨mysqlçš„è¯æœ‰å‡½æ•°rightå‡½æ•°ã€‚å°±æ˜¯å–å³è¾¹ç¬¬å‡ ä½çš„æ„æ€ï¼ŒåŒæ ·è¿˜æœ‰ä¸€ä¸ª left å‡½æ•°ã€‚select * from salaries order by right(emp_no,2)ä½†æ˜¯æœ¬é¢˜æ•°æ®åº“æ˜¯SQlite åªèƒ½ç”¨substr(emp_no,-2) 1234select e.first_namefrom employees as eorder by substr(e.first_name, -2) asc;-- substr(e.first_name, -2, 2) ä»æœ€åç¬¬äºŒä½å¼€å§‹å–2ä½ 53 æŒ‰ç…§dept_noè¿›è¡Œæ±‡æ€»ï¼Œå±äºåŒä¸€ä¸ªéƒ¨é—¨çš„emp_noæŒ‰ç…§é€—å·è¿›è¡Œè¿æ¥ï¼Œç»“æœç»™å‡ºdept_noä»¥åŠè¿æ¥å‡ºçš„ç»“æœemployees èšåˆå‡½æ•°group_concatï¼ˆXï¼ŒYï¼‰ï¼Œå…¶ä¸­Xæ˜¯è¦è¿æ¥çš„å­—æ®µï¼ŒYæ˜¯è¿æ¥æ—¶ç”¨çš„ç¬¦å·ï¼Œé»˜è®¤ä¸ºé€—å·ï¼Œå¯çœç•¥ã€‚æ­¤å‡½æ•°å¿…é¡»ä¸GROUP BYé…åˆä½¿ç”¨ã€‚ æ­¤é¢˜ä»¥dept_noä½œä¸ºåˆ†ç»„ï¼Œå°†æ¯ä¸ªåˆ†ç»„ä¸­ä¸åŒçš„emp_noç”¨é€—å·è¿æ¥èµ·æ¥ï¼ˆå³å¯çœç•¥Yï¼‰ã€‚ 123select dept_no, group_concat(emp_no) as employeesfrom dept_empgroup by dept_no 54 æŸ¥æ‰¾æ’é™¤å½“å‰æœ€å¤§ã€æœ€å°salaryä¹‹åçš„å‘˜å·¥çš„å¹³å‡å·¥èµ„avg_salary 12345select avg(s.salary) as avg_salaryfrom salaries as swhere to_date= '9999-01-01'and s.salary not in ( select min(salary) from salaries where to_date= '9999-01-01' )and s.salary not in ( select max(salary) from salaries where to_date= '9999-01-01' ); 55 åˆ†é¡µæŸ¥è¯¢employeesè¡¨ï¼Œæ¯5è¡Œä¸€é¡µï¼Œè¿”å›ç¬¬2é¡µçš„æ•°æ® limit offset, size sizeæ˜¯æ¯é¡µå‡ æ¡æ•°æ®pageCntï¼Œåˆ†é¡µæ—¶offsetè¾“å‡ºé¡µæ•°ï¼ˆpageNum-1ï¼‰*pageCnt 123select *from employeeslimit (2-1)*5, 5; 56 è·å–æ‰€æœ‰å‘˜å·¥çš„emp_no 57 ä½¿ç”¨å«æœ‰å…³é”®å­—existsæŸ¥æ‰¾æœªåˆ†é…å…·ä½“éƒ¨é—¨çš„å‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯ã€‚ 59 è·å–æœ‰å¥–é‡‘çš„å‘˜å·¥ç›¸å…³ä¿¡æ¯ã€‚ 60 ç»Ÿè®¡salaryçš„ç´¯è®¡å’Œrunning_total 66 ç‰›å®¢æ¯ä¸ªäººæœ€è¿‘çš„ç™»å½•æ—¥æœŸ(ä¸€) 123select max(date)from logingroup by user_id 67 ç‰›å®¢æ¯ä¸ªäººæœ€è¿‘çš„ç™»å½•æ—¥æœŸ(äºŒ) 123456select user.name,client.name,max(login.date)from loginleft join user on login.user_id = user.idleft join client on login.client_id = client.idgroup by user_idorder by user.name; ç”¨group byéœ€è¦æ³¨æ„çš„: åœ¨selectæŒ‡å®šçš„å­—æ®µ è¦ä¹ˆå°±è¦åŒ…å«åœ¨Group Byè¯­å¥çš„åé¢ï¼Œä½œä¸ºåˆ†ç»„çš„ä¾æ®ï¼› è¦ä¹ˆå°±è¦è¢«åŒ…å«åœ¨èšåˆå‡½æ•°ä¸­ã€‚","categories":[],"tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"SQL","slug":"SQL","permalink":"https://nymrli.top/tags/SQL/"}]},{"title":"IDEAæ’ä»¶å¼€å‘","slug":"IDEAæ’ä»¶å¼€å‘","date":"2020-07-11T07:50:42.000Z","updated":"2021-09-22T09:26:39.633Z","comments":true,"path":"2020/07/11/IDEAæ’ä»¶å¼€å‘/","link":"","permalink":"https://nymrli.top/2020/07/11/IDEAæ’ä»¶å¼€å‘/","excerpt":"","text":"ç›®çš„æ˜¯æƒ³å°†ç±»æ–¹æ³•å’Œæˆå‘˜æ–¹æ³•åŒºåˆ†å¼€æ¥ï¼Œ æƒ³è®¾è®¡è¿™ä¹ˆä¸€ä¸ªæ’ä»¶ æ–°å»ºIDEA æ’ä»¶å·¥ç¨‹ File -&gt; new -&gt; Project -&gt; Pluginå³å¯ åˆå§‹ä¼šç”Ÿæˆä¸€ä¸ªé¡¹ç›®xmlé…ç½®æ–‡ä»¶, ä»¥ä¸‹æ˜¯æˆ‘è¿›è¡Œä¿®æ”¹åçš„ 12345678910111213141516171819202122232425262728293031323334353637&lt;idea-plugin&gt; &lt;id&gt;top.nymrli.privatesee&lt;/id&gt; &lt;name&gt;privateSee&lt;/name&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;vendor email=\"nymrli99@163.com\" url=\"http://nymrli.top\"&gt;Mrli&lt;/vendor&gt; &lt;description&gt;&lt;![CDATA[ Highlight when private methods are called. ]]&gt;&lt;/description&gt; &lt;change-notes&gt;&lt;![CDATA[ &lt;br&gt; &lt;em&gt;First created. This time will be tried&lt;/em&gt; &lt;br&gt; ]]&gt; &lt;/change-notes&gt; &lt;!-- please see https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description --&gt; &lt;idea-version since-build=\"173.0\"/&gt; &lt;!-- please see https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html on how to target different products --&gt; &lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt; &lt;extensions defaultExtensionNs=\"com.intellij\"&gt; &lt;!-- Add your extensions here --&gt; &lt;/extensions&gt; &lt;actions&gt; &lt;!-- Add your actions here --&gt; &lt;action id=\"FirstPluginActionId\" class=\"top.nymrli.privatesee.FirstPluginAction\" text=\"æµ‹è¯•\" description=\"æµ‹è¯•æè¿°\"&gt; &lt;add-to-group group-id=\"ToolsMenu\" anchor=\"first\"/&gt; &lt;keyboard-shortcut keymap=\"$default\" first-keystroke=\"ctrl I\"/&gt; &lt;/action&gt; &lt;/actions&gt;&lt;/idea-plugin&gt; æ–°å»ºaction 123456789101112public class FirstPluginAction extends AnAction &#123; @Override public void actionPerformed(AnActionEvent e) &#123; // TODO: insert action logic here NotificationGroup notificationgroup = new NotificationGroup(\"flugin_id\", NotificationDisplayType.BALLOON, true); Notification notification = notificationgroup.createNotification(\"ç‚¹å‡»æµ‹è¯•\", MessageType.INFO); Notifications.Bus.notify(notification); &#125;&#125; è¿è¡Œæµ‹è¯•: edit configurationé€‰æ‹©plugin, ç„¶åé€‰æ‹©è¿è¡Œ å¯åŠ¨åˆå§‹åŒ– æ–°å»ºä¸€ä¸ªç±» 123456789public class MyApplicationComponent implements ApplicationComponent &#123; @Override public void initComponent() &#123; System.out.println(\"æ’ä»¶åˆå§‹åŒ–\"); TanChuanDialog dialog = new TanChuanDialog(); dialog.show(); &#125;&#125; åœ¨xmlé…ç½®æŒ‡å®š 1234567&lt;application-components&gt; &lt;component&gt; &lt;implementation-class&gt; top.nymrli.privatesee.MyApplicationComponent &lt;/implementation-class&gt; &lt;/component&gt;&lt;/application-components&gt; å¼¹çª—æ•ˆæœ 1234567891011121314151617181920212223242526272829303132333435public class TanChuanDialog extends DialogWrapper &#123; JPanel jPanel; JLabel label; JButton btn; public TanChuanDialog() &#123; super(true); // è®¾ç½®å¼¹çª—çš„æ ‡é¢˜ setTitle(\"å¯åŠ¨å¼¹çª—\"); init(); &#125; // è®¾ç½®å¼¹çª—ä¸­é—´å±•ç¤ºå†…å®¹ @Nullable @Override protected JComponent createCenterPanel() &#123; jPanel = new JPanel(); label = new JLabel(\"æ˜¾ç¤ºå†…å®¹\"); jPanel.add(label); return jPanel; &#125; // è‡ªå®šä¹‰è®¾ç½®åº•éƒ¨çš„æŒ‰é’® @Override protected JComponent createSouthPanel() &#123; jPanel = new JPanel(); btn = new JButton(\"å†å¹²ä¸€æ¯\"); btn.addActionListener(e-&gt;&#123; label.setText(\"è¢«ç‚¹å‡»äº†å“¦\"); &#125;); jPanel.add(btn); return jPanel; &#125;&#125; æ•™ç¨‹ï¼š idea æ’ä»¶å¼€å‘è·³å‘æŒ‡å—â€”â€”èµ æ’ä»¶æ¨è æ’ä»¶å åŠŸèƒ½ Codegalance æä¾›ä¾§æ çš„ä»£ç ç¼©è§ˆå›¾ translation IDEå†…æä¾›åˆ’çº¿ç¿»è¯‘åŠŸèƒ½ grep-console æ˜¾ç¤ºå¤šé¢œè‰²è°ƒè¯•æ—¥å¿— restfultoolkit ä¸€å¥— RESTful æœåŠ¡å¼€å‘è¾…åŠ©å·¥å…·é›†ï¼Œ1. å¯æ ¹æ®URLæŸ¥æ‰¾å¯¹åº”controller2. æä¾›ä¸€ä¸ªservice treeçª—å£3. ä¸€ä¸ªç®€å•çš„httpè¯·æ±‚å·¥å…·4. æä¾›å°†ç±»ç”Ÿæˆjsonæ•°æ® gsonformaterPlus jsonå¯¹è±¡ç”Ÿæˆå™¨ jsonparser å†…ç½®jsonç¾åŒ–å·¥å…· mybatis log plugin (ç°æ”¶è´¹) æ ¹æ®log4jçš„æ‰“å°çš„sqlæ—¥å¿—ä¸€é”®ç”Ÿæˆæ‰§è¡Œçš„sqlè¯­å¥ free mybatis plugin 1.æä¾›xmlå’Œdaoå±‚çš„äº’ç›¸è·³è½¬åŠŸèƒ½ï¼Œç®­å¤´å½¢çŠ¶ã€‚2ï¼Œmapperç”Ÿæˆxmlæ–‡ä»¶: alt+enterå¿«æ·é”®3.mybatisè‡ªåŠ¨è¡¥å…¨åŠè¯­æ³•é”™è¯¯æç¤º4.é›†æˆmybatis generator guiç•Œé¢ Alibaba Java Coding Guidelines é˜¿é‡Œå·´å·´JAVAå¼€å‘è§„èŒƒæ£€æµ‹æ’ä»¶ codata äººå·¥æ™ºèƒ½ä»£ç æ£€æµ‹è¡¥å…¨æ’ä»¶ easycode è‡ªåŠ¨ç”Ÿæˆmybatis mapperç›¸å…³ lombok lombokè¯†åˆ«æ’ä»¶ï¼Œ2020IDEAå·²å†…ç½® JUnitGenerate å•å…ƒæµ‹è¯•ç”Ÿæˆå™¨ MyBatisCodeHelperPro å…¨èƒ½mybatisæ’ä»¶ alibaba cloud toolkit å¿«é€Ÿéƒ¨ç½²åˆ°æœåŠ¡å™¨ idea zookeeper å›¾å½¢åŒ–zookeeper sequencediagram æ—¶åºå›¾ç”Ÿæˆæ’ä»¶ https://www.zhihu.com/zvideo/1319971719340761088","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"}]},{"title":"getBargainsçš„recordå’ŒSolution","slug":"getBargainsçš„recordå’ŒSolution","date":"2020-05-24T08:44:25.000Z","updated":"2020-05-31T11:38:26.323Z","comments":true,"path":"2020/05/24/getBargainsçš„recordå’ŒSolution/","link":"","permalink":"https://nymrli.top/2020/05/24/getBargainsçš„recordå’ŒSolution/","excerpt":"","text":"è¯¥ç¯‡ä¸º**getBargains**ä»“åº“README.mdç›´æ¥æ¬è¿ï¼Œè®°å½•ä¸€äº›appniumå’Œandriod 10ç¢°åˆ°çš„é—®é¢˜ è‡ªåŠ¨æ‹¿åˆ¸ é€šè¿‡åˆ«äººå‘çš„å£ä»¤, æ‰“å¼€æ·˜å®APPè¿›è¡ŒæŠ¢åˆ¸ 1.itchatæ¥æ”¶ç¾¤æ¶ˆæ¯ 2.å°†å£ä»¤å¤åˆ¶åˆ°å‰ªè´´æ¿ 3.æ‰“å¼€æ·˜å®APPç‚¹å‡»æŠ¢åˆ¸ ç¢°åˆ°çš„é—®é¢˜: å‡ºç°å¦‚ä¸‹è­¦å‘Š:Warning: Activity not started, its current task has been brought to the front or Warning: Activity not started, intent has been delivered to currently running top-most instance. A: ä¸ç”¨ç®¡ä»–å°±è¡Œ, åªæ˜¯ä¸ªè­¦å‘Š, æç¤ºä½ æœ‰åº”ç”¨åˆ‡åˆ°äº†é¡¶å±‚ å‡ºç°æç¤º: /system/bin/sh: adb: inaccessible or not found A: å·²ç»åœ¨adb shellä¸­è¾“å…¥çš„å‘½ä»¤ä¸éœ€è¦å†åŠ ä¸Šadb shellå‰ç¼€ e.g.umi:/ $ adb shell am start ca.zgrs.clipper/.Main (umi:/)æç¤ºå·²ç»åœ¨adb shellä¸­äº† æŸ¥æ‰¾appåŒ…åå’ŒActivityæ´»åŠ¨é¡µé¢(Andriod 10) A: åŸæœ¬çš„adb shell dumpsys activity | find &quot;mFocusedActivity&quot;åœ¨andriod 10ä¸Šå¥½åƒæ£€æµ‹ä¸å‡ºæ¥ 1234# æŸ¥çœ‹åŒ…å$ adb shell pm list packages# æŸ¥çœ‹Activity# $ adb shell dumpsys activity com.taobao.taobao | grep ACTIVITY adbæ‰“å¼€åº”ç”¨çš„å‘½ä»¤? A: adb shell am start -n package/launch activity appniumå£°æ˜driverçš„æ—¶å€™æ˜¯æ‰“å¼€æŒ‡å®šappç¨‹åº, ä½†å¦‚æœæ¯æ¬¡éƒ½æ˜¯é‡æ–°æ‰“å¼€, é‚£ä¹ˆåŠ è½½æ·˜å®çš„é€Ÿåº¦ä¼šå¾ˆæ…¢ã€‚åº”è¯¥ä½¿ç”¨åˆ‡æ¢åå° A: ä½¿ç”¨driver.start_activity('com.taobao.taobao', 'com.taobao.tao.TBMainActivity') appiumï¼šä¸€ä¸ªæ‰‹æœºè¿è¡Œä¸¤ä¸ªAPPï¼ŒAPPä¹‹é—´ç›¸äº’åˆ‡æ¢ ADBæ»‘åŠ¨è§£é”é—®é¢˜: åœ¨ä¸€ä¸ªä½ç½®æŒ‰ä½ A: æš‚æ—¶è¿˜æ²¡è§£å†³, appniumå¯ä»¥, ä½†ADBå¥½åƒæ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ æ¡Œé¢çš„activity: A: .launcher.Launcher æŠ¥é”™selenium.common.exceptions.InvalidSessionIdException: Message: A session is either terminated or not started A: åŸå› æ˜¯driveré•¿æ—¶é—´æ²¡æ”¶åˆ°commandè‡ªåŠ¨å…³é—­äº†, ä¸ä½¿ç”¨driver.quit()åå†ç”¨driveræ‰§è¡Œæ“ä½œæŠ¥ç›¸åŒçš„é”™è¯¯ã€‚ -&gt;è§£å†³æ–¹æ¡ˆ: åœ¨desirable_capsä¸­å°†newCommandTimeoutè®¾ç½®å¤§ä¸€ç‚¹: 'newCommandTimeout': 1800 é™„å½•ï¼š python3ä½¿ç”¨appniumè¿è¡Œæ‰‹æœºä¸Šçš„APP clipper - Broken on Android 10 (Android Q) #9 Appium Python API ä¸­æ–‡ç‰ˆ By-HZJ Appiumé…ç½®desired_capabilityè¯¦è§£ æŸ¥çœ‹åŒ…åå’Œactivity 123456 # åœ¨ç±³6(Andriod 10)ä¸Šå°è¯•å¯è¡Œ $ adb shell dumpsys window windows | findstr mFocusedApp $ adb shell dumpsys window windows | findstr &quot;Current&quot; # ä¸‹å¤±æ•ˆ $ adb shell dumpsys activity | find mFocusedActivity å¦‚æœåœ¨æœ‰apkçš„æƒ…å†µä¸‹, aapt dump badging d:\\\\test.apk æ‰“å¼€APP-&gt;adb logcat &gt; D:/log.txt -&gt; èƒ¡ä¹±çš„å¯¹APPåšä¸€äº›æ“ä½œ-&gt;Ctrl+c ç»“æŸadbå‘½ä»¤-&gt;æ‰“å¼€log.txtæ–‡ä»¶ï¼Œæœç´¢ï¼šDisplayed","categories":[],"tags":[]},{"title":"IDEAé…ç½®â€”â€”è‡ªå®šä¹‰å¿«æ·é”®ã€ç”Ÿæˆæ³¨é‡Š","slug":"IDEAé…ç½®â€”â€”è‡ªå®šä¹‰å¿«æ·é”®ã€ç”Ÿæˆæ³¨é‡Š","date":"2020-05-15T02:22:20.000Z","updated":"2022-02-06T03:20:34.681Z","comments":true,"path":"2020/05/15/IDEAé…ç½®â€”â€”è‡ªå®šä¹‰å¿«æ·é”®ã€ç”Ÿæˆæ³¨é‡Š/","link":"","permalink":"https://nymrli.top/2020/05/15/IDEAé…ç½®â€”â€”è‡ªå®šä¹‰å¿«æ·é”®ã€ç”Ÿæˆæ³¨é‡Š/","excerpt":"","text":"IDEAé…ç½®â€”â€”è‡ªå®šä¹‰å¿«æ·é”®ã€ç”Ÿæˆæ³¨é‡Š ä»¥å‰å› ä¸ºä¸ŠJAVAè¯¾ï¼Œè¿˜æ˜¯ä¸å¸¸ç”¨Javaï¼Œ æ‰€ä»¥å®‰è£…äº†ä¸ªEclipseï¼Œ ä½†æ˜¯ç°åœ¨è¦ç»å¸¸ä½¿ç”¨javaçš„è¯ï¼Œ æ„Ÿè§‰è¿˜æ˜¯IDEAçš„æ”¯æŒåšçš„å¯èƒ½æ›´åŠ åˆ°ä½ä¸€ç‚¹ Mavenæ¢æº: å› ä¸ºæœ‰æ®µæ—¶é—´å†™SpringBootè¢«ä¾èµ–ç»™å‘è¿‡ï¼Œæ‰€ä»¥æŠŠMavenæ¢æºå†™åœ¨æœ€å‰é¢ã€‚ IDEAæ˜¯ä¼šæœ‰é»˜è®¤çš„Mavenå·¥å…·çš„ï¼Œ å› æ­¤ä¹‹å‰å¦‚æœä¿®æ”¹è¿‡Mavené…ç½®ï¼Œ è¿˜éœ€è¦åœ¨IDEAä¸­æŒ‡å®šå…·ä½“ä½¿ç”¨çš„æ˜¯å“ªä¸€ä¸ªMAVENï¼Œä½¿ç”¨å“ªä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚ â–²(Ctrl + Alt + Sä¿®æ”¹çš„æ˜¯å½“å‰å·¥ç¨‹)ï¼Œ å¦‚æœéœ€è¦å¯¹æ–°å·¥ç¨‹è¿›è¡Œä¿®æ”¹ï¼Œ åˆ™ç‚¹å‡»File-&gt;New Projects Settings-&gt;Settings for new Projects å…¶ä¸­User settings fileé€‰æ‹©ä¹‹å‰é…ç½®è¿‡çš„Maven_settingså°±è¡Œäº†ï¼Œæ¢æºåœ¨é‡Œé¢ä¿®æ”¹ã€‚æ³¨æ„ï¼Œ mirroræ ‡ç­¾è¦æ”¾åœ¨mirrorsæ ‡ç­¾å†…æ‰èƒ½ç”Ÿæ•ˆ, è·Ÿdependenciesä¸€æ ·ï¼Œ æˆ‘åæ¥æ‰å‘ç°æˆ‘ç«Ÿç„¶æ²¡æ”¾è¿›å»ã€‚ 123456789101112131415161718192021&lt;mirrors&gt; &lt;!-- mirror | Specifies a repository mirror site to use instead of a given repository. The repository that | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used | for inheritance and direct lookup purposes, and must be unique across the set of mirrors. | &lt;mirror&gt; &lt;id&gt;mirrorId&lt;/id&gt; &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt; &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt; &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt; &lt;/mirror&gt; --&gt; &lt;mirror&gt; &lt;id&gt;aliyun&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;/mirror&gt;&lt;/mirrors&gt; è¡¥å……: è¿˜å¯ä»¥åœ¨pom.xmlæ–‡ä»¶ä¸­æŒ‡å®šæ”¹æº, å¡«ä¸‹ä¸‹åˆ—å­—æ®µ: 1234567&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt; &lt;/repository&gt;&lt;/repositories&gt; è‡ªåŠ¨è¡¥å…¨æç¤º: èœå•æ Settings(å¿«æ·é”®ctrl + alt + s)-&gt;Editr-&gt;General-&gt;Code Completion-&gt; å–æ¶ˆé€‰ä¸­&quot;Match case&quot; IDEAè‡ªå®šä¹‰å¿«æ·é”® åŠŸèƒ½ è‹±æ–‡æè¿° å¿«æ·é”® å›é€€ä¸Šä¸€æ¬¡å…‰æ ‡ä½ç½® back Ctrl +alt + â† å‰è¿›åˆ°ä¸‹ä¸€æ¬¡å…‰æ ‡ä½ç½® forward Ctrl +alt + â†’ é€‰ä¸­å½“å‰éƒ¨åˆ† extend selection Ctrl + D å¤åˆ¶å½“å‰è¡Œâ†‘ Duplicate Line or Selection shift + alt + â†‘ å¤åˆ¶å½“å‰è¡Œâ†“ Duplicate Entire Lines shift + alt + â†“ åˆ‡æ¢åˆ°ä¸Šè¡Œ Move Line Up alt+â†‘ åˆ‡æ¢åˆ°ä¸‹è¡Œ Move Line Down alt+â†“ ä¸‹ä¸€ä¸ªæ–¹æ³• next Method ctrl + alt+ â†“ ä¸Šä¸€ä¸ªæ–¹æ³• Previous Method ctrl + alt+ â†‘ ç”Ÿæˆgetterç­‰æ–¹æ³• generate ctrl + L åœ¨ä¸‹ç”Ÿæˆç©ºç™½ä¸€è¡Œ Start New Line Shift + Enter åœ¨ä¸Šç”Ÿæˆç©ºç™½ä¸€è¡Œ Start New Line Before Current Ctrl+ Shift + Ctrl å®Œæˆè¯¥è¡Œâ€”â€”æ·»åŠ æœ«å°¾åˆ†å·+æ¢åˆ°ä¸‹è¡Œ Complete Current Statement ctrl + shift + enter å‰ªåˆ‡æ”¹è¡Œï¼ˆå¯å½“æˆåˆ é™¤æ”¹è¡Œä½¿ç”¨ï¼‰ Cut ctrl + X å·¥ç¨‹ä¸­è·³è½¬æŒ‡å®šclass Navigate-class Ctrl + M æ–°å»º Main Menu-File-New Ctrl + N å…³é—­å½“å‰æ ‡ç­¾é¡µ Editor Tabs - Close Ctrl + W åˆ‡æ¢åˆ°ä¸‹ä¸€è¡Œ Split Line Ctrl + enter ä»£ç ç”Ÿæˆ Code - generate alt + L æœªæ”¹å˜çš„å¿«æ·é”®è®¾ç½® åŠŸèƒ½ è‹±æ–‡æè¿° å¿«æ·é”® æ ¼å¼åŒ–ä»£ç  Reformat Code ctrl + alt + L æ ¹æ®ä¸Šä¸‹æ–‡å®ŒæˆåŠ¨ä½œï¼ˆå¯¼åŒ…ï¼‰ Show Context Actions Alt + enter ä¼˜åŒ–importå¯¼å…¥ Optimize lmports Shift + Ctrl + O æ’å…¥ç”Ÿæˆæ¨¡æ¿(psvm) Insert Live Template Ctrl + J æ‰“å¼€è®¾ç½®é¢æ¿ open settings Ctrl + alt + s ç»Ÿä¸€ä¿®æ”¹å˜é‡å Main Menu - Refactor- Rename Shift + F6 æœç´¢æŒ‡å®šClass Main Menu-Navigate-class Ctrl + M é‡å†™æ–¹æ³• override Methods Ctrl + o æŸ¥çœ‹ç±»ç»§æ‰¿å…³ç³» ctrl+H æŸ¥çœ‹ç±»ç»§æ‰¿å…³ç³»å›¾ ctrl+alt+shift+U â–²ã€ä»¥ä¸Šä»¥windowsè®¾ç½®ä¸ºæ¨¡æ¿ä¿®æ”¹ ç”±äºFile-&gt;Manage IDE Settings-&gt;Export settingsçš„å†…å®¹æ˜¯ä¸åŒ…å«keyMapçš„ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä¿å­˜keyMapæ–‡ä»¶æ¥å¤‡ä»½ï¼Œè·¯å¾„ä¸ºC:\\Users\\mrli\\AppData\\Roaming\\JetBrains\\IntelliJIdea2020.3\\jba_config\\win.keymaps ç”Ÿæˆç±»æ³¨é‡Šã€æ–‡ä»¶æ³¨é‡Š æ²¡å¼„å›¾ï¼Œ ä¸»è¦æ˜¯æŒ‰ç…§ideaç”Ÿæˆç±»æ³¨é‡Šå’Œæ–¹æ³•æ³¨é‡Šçš„æ­£ç¡®æ–¹æ³•é…ç½®çš„ ç”Ÿæˆç±»æ³¨é‡Š æ‰“å¼€Preferences Editor -&gt; File and Code Templates -&gt; Files -&gt; Class 123456789101112#if ($&#123;PACKAGE_NAME&#125; &amp;&amp; $&#123;PACKAGE_NAME&#125; != \"\")package $&#123;PACKAGE_NAME&#125;;#end#parse(\"File Header.java\")/*** @program: $&#123;PROJECT_NAME&#125;* @description: $&#123;description&#125;* @author: MrLi* @create: $&#123;YEAR&#125;-$&#123;MONTH&#125;-$&#123;DAY&#125; $&#123;HOUR&#125;:$&#123;MINUTE&#125;**/public class $&#123;NAME&#125; &#123;&#125; ç”Ÿæˆæ–¹æ³•æ³¨é‡Š æ‰“å¼€Preferences Editor -&gt; Live Templates -&gt; ç‚¹å‡»å³è¾¹åŠ å·ä¸ºè‡ªå·±æ·»åŠ ä¸€ä¸ªTemplates Group -&gt; ç„¶åé€‰ä¸­è‡ªå·±çš„Group-&gt;å†æ¬¡ç‚¹å‡»åŠ å·æ·»åŠ Live Templates è®°å¾—è¦æŠŠæœ€ä¸‹é¢çš„æç¤ºâ–².No applicable contexts yet.Define-&gt;è®¾ç½®ä¸ºjava ç„¶ååœ¨Edit variablesé‡Œé¢æ·»åŠ å‚æ•°å’Œè¿”å›å€¼çš„è‡ªåŠ¨å–å€¼ æŒ‰ä¸Šè¿°æ­¥éª¤è®¾ç½®å®Œåå°±å¯ä»¥ä½¿ç”¨äº†ï¼š åœ¨æ–¹æ³•ä¸Šé¢ç›´æ¥è¾“å…¥/ + ä½ è®¾ç½®çš„Abbreviationå¿«æ·é”® + tabé”®å°±ç›´æ¥ç”Ÿæˆäº† ï¼ˆæˆ‘è®¾ç½®çš„æ˜¯Abbreviationæ˜¯qï¼Œé‚£ä¹ˆé€šè¿‡/ + q + tabå°±å¯ä»¥è°ƒç”¨å¯¼å‡ºäº†ï¼‰ ç¥ç§˜å¯†ç (Template textä¸­å¡«çš„): $params$å’Œ$returns$åœ¨Edit variablesä¸­åˆ†åˆ«é€‰æ‹©methodParameters(), methodReturnType() 1234567** * @Description: $description$ * @Param: $params$ * @Return: $returns$ * @Author: MrLi* @Date: $date$ */ ä¸é”™çš„é…ç½®ï¼š 12345** * @author: Mrli * @description: * @date: $date$ $time$$param$ $return$ */ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œdate å’Œ time çš„ Expression ä½¿ç”¨çš„æ˜¯ IDEA å†…ç½®çš„å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨ä¸‹æ‹‰æ¡†é€‰æ‹©å°±å¯ä»¥äº†ï¼Œè€Œ param è¿™ä¸ªå‚æ•° IDEA é»˜è®¤çš„å®ç°å¾ˆå·®ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š groovyScript(&quot;def result = '';def params = \\&quot;${_1}\\&quot;.replaceAll('[\\\\\\\\[|\\\\\\\\]|\\\\\\\\s]', '').split(',').toList(); for(i = 0; i &lt; params.size(); i++) {if(params[i] != '')result+='* @param: ' + params[i] + ((i &lt; params.size() - 1) ? '\\\\r\\\\n ' : '')}; return result == '' ? null : '\\\\r\\\\n ' + result&quot;, methodParameters()) å¦å¤– return è¿™ä¸ªå‚æ•°éœ€è¦ä¿®æ”¹ï¼Œä»£ç å¦‚ä¸‹ï¼š groovyScript(&quot;return \\&quot;${_1}\\&quot; == 'void' ? null : '\\\\r\\\\n * @return: ' + \\&quot;${_1}\\&quot;&quot;, methodReturnType()) åˆ é™¤æ²¡æœ‰ç”¨åˆ°çš„åŒ… 1.æ‰‹åŠ¨å¿«æ·é”® 1Ctrl + Alt + O1 2.é…ç½®è‡ªåŠ¨æ¸…ç† 1Ctrl + Alt + S æ‰“å¼€è®¾ç½®-&gt;editor-&gt;auto import Optimize imports on the flyï¼šè‡ªåŠ¨å»æ‰ä¸€äº›æ²¡æœ‰ç”¨åˆ°çš„åŒ… Add unambiguous imports on the flyï¼š è‡ªåŠ¨å¸®æˆ‘ä»¬ä¼˜åŒ–å¯¼å…¥çš„åŒ… Intellij idea æŠ¥é”™ï¼šError : java ä¸æ”¯æŒå‘è¡Œç‰ˆæœ¬5 åœ¨Intellijä¸­ç‚¹å‡»â€œFileâ€ --&gt;â€œProject Structureâ€ï¼Œçœ‹ä¸€ä¸‹â€œProjectâ€å’Œâ€œModuleâ€æ ç›®ä¸­Javaç‰ˆæœ¬æ˜¯å¦ä¸æœ¬åœ°ä¸€è‡´ï¼š è§£å†³æ–¹æ¡ˆï¼š https://blog.csdn.net/qq_22076345/article/details/82392236 Intellij IDEA ç¥å™¨å±…ç„¶è¿˜æœ‰è¿™äº›å°æŠ€å·§[è½¬] Javaå¼€å‘å¥½ç”¨çš„æ’ä»¶ Codeglanceï¼š ä»£ç æ¦‚è§ˆ translationï¼š ç¿»è¯‘æ’ä»¶ grey consoleï¼š æ§åˆ¶å°ç¾åŒ– restfultoolkitï¼š æ¥å£å·¥å…·ç®± gsonformaterï¼š jsonæ ¼å¼åŒ–å·¥å…· mybatis log pluginï¼š sqlæ—¥å¿—æ’ä»¶ free mybatis plugin Alibaba Java Coding Guidelinesï¼šé˜¿é‡Œç¼–ç¨‹è§„èŒƒ codata: äººå·¥æ™ºèƒ½ä»£ç è¡¥å…¨ easycode è‡ªåŠ¨ç”Ÿæˆmybatis mapperç›¸å…³ lombokï¼š setter/getterç”Ÿæˆ SequenceDiagram: æ—¶åºå›¾åˆ†æ Maven Helperï¼š mavenä¾èµ–åˆ†æå·¥å…· Maven searchï¼š ä¾èµ–dependencyæŸ¥æ‰¾å·¥å…· CamelCaseï¼š å•è¯æ ¼å¼è½¬æ¢ çº¦å®šé…ç½® è®¾ç½®ç¼–ç è§„å®š è®¾ç½®ç¼–è¯‘Javaç‰ˆæœ¬ä¸º8 å¼€å¯æ³¨è§£ç¼–è¯‘ ï¼ˆå¯é€‰ï¼‰å°†imlï¼Œ.ideaæ–‡ä»¶ä¸æ˜¾ç¤ºåœ¨å·¥ç¨‹ä¸­ â€‹ æ›´å¤šå¿«æ·é”® å·¦ä¾§çš„èœå•æ ä¸Šæœ‰é™¤äº†æˆ‘ä»¬å¸¸ç”¨çš„Projectã€Structureä»¥å¤–è¿˜æœ‰Bookmarkså’ŒLearnï¼Œ äºæ˜¯åœ¨å¥½å¥‡ä¹‹ä¸‹ï¼Œå°±ç‚¹å‡»å­¦ä¹ äº†Learnä¸­çš„å†…å®¹ï¼Œå…¶ä¸»è¦æ˜¯å…³äºIdeaåŠŸèƒ½ä»¥åŠå¿«æ·é”®ä»‹ç»çš„ï¼Œå¯¹æ­¤è®°å½•ä¸€ä¸‹ã€‚ Ctrl + Alt + Vï¼š æå–å˜é‡ï¼Œ replace all occurencesï¼Œ å°†å¯¹åº”è¡¨è¾¾å¼å…¨éƒ¨æŠ½å–æ›¿æ¢ä¸ºä¸€ä¸ªå˜é‡ï¼Œ æ¯”å¦‚æˆ‘ä»¬å¾ˆå¤šåœ°æ–¹ç”¨åˆ°äº†arr[i+1]ï¼Œ ç»“æœä¸ºäº†æ˜“è¯»æ€§æƒ³æŠŠä»–ç›´æ¥å†™æˆè¿™ä¸ªå˜é‡å°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ Ctrl +Shift + Alt +Nï¼š æœç´¢å‡½æ•°å(Symbols) Shift + F6ï¼š å¯¹æŸä¸ªå­—æ®µå…¨éƒ¨é‡å‘½å åˆ é™¤æ²¡ç”¨çš„å­—æ®µ, Alt + Enter æ‰“å¼€ä¸Šä¸‹æ–‡åé€‰æ‹© Safe Delete Ctrl + Alt + Tï¼š æ·»åŠ ç¯ç»•ä»£ç ï¼›Ctrl + Shift + deleteåˆ é™¤ç¯ç»•ä»£ç  Ctrl + -ï¼šæŠ˜å ä»£ç ï¼› Ctrl + +ï¼š å±•å¼€ä»£ç  Ctrl + Alt + Shift + T: é‡æ„, å¦‚introduce Parameterå°†é€‰å–çš„å¯¹è±¡æŠ½å–ä¸ºæ–¹æ³•å‚æ•°ï¼›inlince Vairableå–æ¶ˆè¡Œå†…å˜é‡ åœ¨if(?)çš„æ‹¬å·ä¸­ï¼Œé€‰æ‹©æŸä¸ªé€‰é¡¹ï¼ˆé€‰é¡¹å˜è“å³ä¸ºé€‰ä¸­ï¼Œ aa.contains()ï¼‰ï¼Œè¾“å…¥Shift+1å³ï¼ï¼Œåˆ™ç›´æ¥ä¼šç”Ÿæˆå¯¹åº”çš„!aa.contains()==&gt;if (!aa.contains()) JavaçŸ­ä»£ç (å¿«æ·ä»£ç ) https://www.cnblogs.com/asio/p/12582328.html psvm æˆ–è€… main :main()æ–¹æ³• sout :è¾“å‡ºè¯­å¥ 12345å˜é‡.sout ==&gt; System.out.println(å˜é‡);soutv ==&gt; System.out.println(\"å˜é‡å = \" + ç¬¬ä¸€ä¸ªæˆå‘˜å˜é‡å˜é‡ï¼ˆæ²¡æœ‰çš„æ‰¾æ–¹æ³•å‚æ•°ï¼Œå†æ²¡æœ‰æ‰¾æ–¹æ³•å±€éƒ¨å˜é‡ï¼Œå†æ²¡æœ‰è¾“å‡º\"true\" + trueï¼‰); æŒ‡å®šå˜é‡.soutv ==&gt; System.out.println(\"å˜é‡å = \" + æŒ‡å®šå˜é‡); soutm ==&gt; System.out.println(\"å½“å‰ç±»å.å½“å‰æ–¹æ³•\");soutp ==&gt; soutp=System.out.println(\"æ–¹æ³•å½¢å‚å = \" + å½¢å‚å); //å¦‚æœæ–¹æ³•å‚æ•°åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™æ•ˆæœç›¸å½“äºsout fori:forå¾ªç¯è¯­å¥ 12345678910111213141516171819202122232425262728ç±»ä¼¼çš„æœ‰// length.fori int length = 10; for (int i = 0; i &lt; length; i++) &#123; &#125;// length.forr for (int i = length; i &gt; 0; i--) &#123; &#125;// array.fori int array[] = new int[10]; for (int i = 0; i &lt; arr.length; i++) &#123; &#125;// array.for int array[] = new int[10]; for (int i : arr) &#123; &#125;// list.for:é›†åˆlistçš„forå¾ªç¯è¯­å¥list.fori List&lt;String&gt; list = new ArrayList&lt;String&gt;(); for (int i = 0; i &lt; list.size(); i++) &#123; &#125;list.forr //ä»å°¾åˆ°å¤´éå† iter:å¯ç”Ÿæˆå¢å¼º for å¾ªç¯ 123456789101112131415iter:å¯ç”Ÿæˆå¢å¼º for å¾ªç¯ for (Object o : ) &#123; &#125;array.iter int array[] = new int[10]; for (int i : arr) &#123; &#125;itar:å¯ç”Ÿæˆæ™®é€š for å¾ªç¯ for (int i = 0; i &lt; array.length; i++) &#123; = array[i]; &#125; ifn:å¯ç”Ÿæˆif(xxx = null),xxxä¸ºå®šä¹‰è¿‡çš„å˜é‡ prsf:å¯ç”Ÿæˆprivate static final mn: ==&gt;$VAR$ = Math.min($VAR$, $END$);ç”Ÿæˆå–æœ€å€¼ï¼Œ åŒæ ·çš„æœ‰mxï¼Œå–æœ€å¤§å€¼ geti==&gt;ç”ŸæˆgetIntanceæ–¹æ³• WLå†™é”ã€RLè¯»é”ï¼Œæ³¨æ“ä½œå¯¹è±¡ä¸ºnew ReentrantReadWriteLock() lstï¼š è·å¾—arrayæœ€åä¸€ä¸ªå…ƒç´  lazyï¼šæ‡’åŠ è½½","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"}]},{"title":"é‡æ‹¾Javaç¬”è®°","slug":"é‡æ‹¾Javaç¬”è®°","date":"2020-05-15T02:22:04.000Z","updated":"2021-12-01T09:01:07.920Z","comments":true,"path":"2020/05/15/é‡æ‹¾Javaç¬”è®°/","link":"","permalink":"https://nymrli.top/2020/05/15/é‡æ‹¾Javaç¬”è®°/","excerpt":"","text":"é‡æ‹¾Javaç¬”è®° å·¥ä½œä¸»è¦ç”¨Java, å› æ­¤å¼€å§‹å‡†å¤‡JavaåŸºç¡€å†è¡¥è¡¥ã€‚æ ¹æ®å°çŒ´å­1024-JAVAåŸºç¡€æ•´ç†ç¬”è®° å‘½åè§„èŒƒ: æ²¡æ€ä¹ˆå†™ï¼Œ æ‰€ä»¥ä¸€ç›´å¿˜ï¼Œ è¿™æ¬¡å†™åœ¨æœ€å‰é¢ï¼Œ ä¾¿äºç¿»é˜…ã€‚ å¤§é©¼å³°å‘½åï¼ˆUpperCamelCaseï¼‰ï¼šæ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ï¼Œå…¶ä»–å­—æ¯å°å†™ã€‚e.g.MyException å°é©¼å³°å‘½åï¼ˆlowerCamelCaseï¼‰ï¼šå¦‚æœä»…æœ‰ä¸€ä¸ªå•è¯ï¼Œé‚£ä¹ˆæ‰€æœ‰å­—æ¯å…¨éƒ¨å°å†™ï¼Œå¦‚æœæ˜¯ä¸¤ä¸ªåŠä»¥ä¸Šçš„å•è¯ç»„æˆçš„åç§°ï¼Œé‚£ä¹ˆé™¤äº†ç¬¬ä¸€ä¸ªå•è¯æ˜¯å…¨éƒ¨å°å†™å¤–ï¼Œå…¶ä»–éƒ½æ˜¯çš„é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä»–å­—æ¯å°å†™ã€‚e.g.getMyName 1.1 åŒ…çš„å‘½å åŒ…çš„å‘½åç”±å…¨éƒ¨å°å†™çš„å•è¯ç»„æˆã€‚ä¸€èˆ¬ä½¿ç”¨å…¬å¸çš„åŸŸåçš„ä½œä¸ºè‡ªå·±ç¨‹åºåŒ…çš„å”¯ä¸€å‰ç¼€ï¼Œä½¿ç”¨å€’åŸŸåè§„åˆ™ï¼Œä¾‹å¦‚ï¼šcom.baidu.é¡¹ç›®åï¼Œç„¶åé’ˆå¯¹æ¯ä¸ªå…·ä½“çš„æ¨¡å—åœ¨åŒºåˆ†æ¯ä¸ªæ¨¡å—åŒ…åï¼Œä¾‹å¦‚ï¼šè®ºå›æ¨¡å—çš„æ•´ä½“åŒ…åï¼šcom.baidu.é¡¹ç›®å.tribune(åŸŸåå€’å†™) 1.2 ç±»çš„å‘½å ç±»çš„å‘½åéµå¾ªå¤§é©¼å³°å‘½åçš„è§„åˆ™ 1.3 æ¥å£çš„å‘½å æ¥å£å‘½åéµå¾ªå¤§é©¼å³°å‘½åçš„è§„åˆ™ï¼Œä»¥å¤§å†™çš„Iå¼€å¤´ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä»¥ableæˆ–ibleæˆªå°¾ã€‚ 1.4 å˜é‡å‘½å å˜é‡çš„å‘½åéµå¾ªå°é©¼å³°å‘½åçš„è§„åˆ™ï¼Œå…¶ä¸­æ§ä»¶çš„å˜é‡å»ºè®®ä½¿ç”¨æ§ä»¶ç¼©å†™+é€»è¾‘åç§°çš„æ ¼å¼ï¼Œä¾‹å¦‚ï¼š 1.5 å¸¸é‡çš„å‘½å å¸¸é‡åç§°çš„æ¯ä¸ªå•è¯éƒ½å¤§å†™ï¼Œå¹¶ä¸”æ¯ä¸ªå•è¯ä¹‹é—´é€šè¿‡ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰è¿æ¥ï¼Œä¾‹å¦‚ï¼š 1.6 æ–¹æ³•çš„å‘½å æ–¹æ³•çš„å‘½åéµå¾ªå°é©¼å³°å‘½åçš„è§„åˆ™ï¼Œä»¥åŠ¨è¯+åè¯çš„æ–¹å¼ç»„æˆï¼Œä¾‹å¦‚åˆå§‹åŒ–viewï¼šinitView()ã€‚ 1.7 èµ„æºæ–‡ä»¶å‘½å å…¨éƒ¨å°å†™ï¼Œå¹¶é€šè¿‡ä¸‹åˆ’çº¿è¿æ¥ã€‚ classä¸æ–‡ä»¶å: åœ¨ä¸€ä¸ªJavaæ–‡ä»¶é‡Œé¢ï¼Œå¯ä»¥å£°æ˜å¤šä¸ªclassï¼Œä½†æ˜¯åªèƒ½å£°æ˜ä¸€ä¸ªpublic class å¦‚æœä½¿ç”¨classæ¥å£°æ˜ç±»ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯ä»»ä½•åˆæ³•çš„æ–‡ä»¶åç§°ï¼Œæ–‡ä»¶åä¸éœ€è¦å’ŒClassç±»ä¸€è‡´ å¦‚æœé‡‡ç”¨public classæ¥å£°æ˜classï¼Œé‚£ä¹ˆæ–‡ä»¶åå¿…é¡»å’Œç±»åä¸€è‡´ ç»“è®º: ä½¿ç”¨javacå‘½ä»¤æ‰€ç¼–è¯‘å‡ºçš„classæ–‡ä»¶çš„åç§°è·Ÿjavaçš„æ–‡ä»¶åæ²¡æœ‰å…³ç³»ï¼Œè€Œæ˜¯è·Ÿç±»åä¸€è‡´ã€‚ å‡½æ•°ä¼ å‚: å¦‚æœå‚æ•°æ˜¯åŸºæœ¬æ•°æ®ç±»å‹, æ˜¯ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„å½¢å‚ å¦‚æœå‚æ•°æ˜¯å¼•ç”¨æ•°æ®ç±»å‹(ä¸åŒ…æ‹¬å°è£…æ•°æ®ç±»å‹), é‚£ä¹ˆä¼šç”Ÿæˆè¯¥å¯¹è±¡çš„å¼•ç”¨ï¼ˆç±»ã€ æ¥å£ç±»å‹ã€ æ•°ç»„ç±»å‹ã€ æšä¸¾ç±»å‹ã€ æ³¨è§£ç±»å‹ã€ å­—ç¬¦ä¸²å‹ï¼‰==&gt;å¼•ç”¨æ•°æ®ç±»å‹å˜é‡ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ä½œä¸ºå‚æ•°æ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„ å‚çœ‹: Javaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ« ä»£ç å—çš„åˆ†ç±» ä½¿ç”¨{}æ‹¬èµ·æ¥çš„ä»£ç è¢«ç§°ä¸ºä»£ç å—ï¼Œæ ¹æ®å…¶ä½ç½®å’Œå£°æ˜çš„ä¸åŒå¯ä»¥åˆ†ä¸ºä¸‹é¢4ç§ï¼š å±€éƒ¨ä»£ç å—ï¼Œåœ¨æ–¹æ³•ä¸­å‡ºç°ï¼Œé™å®šå˜é‡ç”Ÿå‘½å‘¨æœŸï¼ŒåŠæ—©é‡Šæ”¾ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ æ„é€ ä»£ç å—ï¼Œåœ¨ç±»ä¸­æ–¹æ³•å¤–å‡ºç°ï¼›å¤šä¸ªæ„é€ æ–¹æ³•æ–¹æ³•ä¸­ç›¸åŒçš„ä»£ç å­˜æ”¾åˆ°ä¸€èµ·ï¼Œæ¯æ¬¡è°ƒç”¨æ„é€ éƒ½æ‰§è¡Œï¼Œå¹¶ä¸”åœ¨æ„é€ æ–¹æ³•å‰æ‰§è¡Œ é™æ€ä»£ç å—ï¼Œ åœ¨ç±»ä¸­æ–¹æ³•å¤–å‡ºç°ï¼Œå¹¶åŠ ä¸Šstaticä¿®é¥°ï¼›ç”¨äºç»™ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œåœ¨åŠ è½½çš„æ—¶å€™å°±æ‰§è¡Œï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚ä¸€èˆ¬ç”¨äºåŠ è½½é©±åŠ¨ã€‚ åŒæ­¥ä»£ç å—(åé¢å¤šçº¿ç¨‹éƒ¨åˆ†ä¼šè®²è§£) æ‰§è¡Œé¡ºåº: 1.é™æ€ä»£ç å—ï¼Œéšç€ç±»åŠ è½½è€ŒåŠ è½½,ä¸”åªæ‰§è¡Œä¸€æ¬¡ 2.æ„é€ ä»£ç å—ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡å°±ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œä¼˜å…ˆäºæ„é€ æ–¹æ³•æ‰§è¡Œ 3.æ„é€ æ–¹æ³•ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡å°±ä¼šæ‰§è¡Œä¸€æ¬¡ thisæŒ‡é’ˆ â–²æ³¨æ„ç‚¹: åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨è¯¥å¯¹è±¡çš„å¦ä¸€ä¸ªæ„é€ æ–¹æ³•æ—¶, this(å®å‚)å¿…é¡»å†™åœ¨æœ€å‰é¢ 12345678//æ„é€ æ–¹æ³•//éœ€æ±‚ï¼šåœ¨åˆ›å»ºæ—¥æœŸå¯¹è±¡çš„æ—¶å€™ï¼Œé»˜è®¤çš„æ—¥æœŸæ˜¯:1970-1-1MyDate()&#123; //é€šè¿‡thisè°ƒç”¨æœ‰å‚çš„æ„é€ æ–¹æ³• this(1970,1,1);//å¿…é¡»å‡ºç°åœ¨ç¬¬ä¸€è¡Œï¼Œå¦åˆ™å°†ç¼–è¯‘æŠ¥é”™ //æ„é€ æ–¹æ³•ä¸èƒ½è¿™æ ·è°ƒç”¨ //MyDate(1970,1,1);Error&#125; ç»§æ‰¿é—®é¢˜ï¼š é™æ€ä»£ç å—Fu é™æ€ä»£ç å—Zi æ„é€ ä»£ç å—Fu æ„é€ æ–¹æ³•Fu æ„é€ ä»£ç å—Zi æ„é€ æ–¹æ³•Zi åˆ†æï¼š 1.ç³»ç»Ÿå°†Fu.classå’ŒZi.classåˆ†åˆ«åŠ è½½åˆ°æ–¹æ³•åŒºçš„å†…å­˜é‡Œé¢ï¼Œé™æ€ä»£ç ä¼šéšç€.classæ–‡ä»¶ä¸€å—åŠ è½½åˆ°æ–¹æ³•åŒºé‡Œé¢ï¼Œæ‰€ä»¥å…ˆæ‰“å°å‡ºäº†é™æ€ä»£ç å—ä¸­çš„å†…å®¹ã€‚ 2.æ„é€ ä»£ç å—ä¼˜å…ˆäºæ„é€ æ–¹æ³•æ‰§è¡Œï¼Œçˆ¶ç±»åˆå§‹åŒ–ä¹‹å‰ï¼Œæ‰€ä»¥æ‰“å°å‡ºçˆ¶ç±»ä¸­çš„æ„é€ ä»£ç å—å’Œæ„é€ æ–¹æ³•ä¸­çš„å†…å®¹ã€‚ å¤šæ€ï¼š åœ¨å·¥ä½œå½“ä¸­å°½é‡é¢å‘æŠ½è±¡ç¼–ç¨‹ï¼Œä¸è¦é¢å‘å…·ä½“ç¼–ç¨‹ï¼Œå³åˆç†åˆ©ç”¨å¤šæ€â€”â€”SOLIDåŸåˆ™ä¸­ä¾èµ–å€’ç½®ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼›ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚æ¢è¨€ä¹‹ï¼Œè¦é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚ å¤šæ€çš„ä¼˜ç‚¹ æé«˜ç¨‹åºçš„æ‰©å±•æ€§ é™ä½ä»£ç ä¹‹é—´çš„è€¦åˆ ç”¨æ³• å‘ä¸Šè½¬å‹ï¼šä¸Šé¢ä»£ç ä¸­å­ç±»å‘çˆ¶ç±»å‹è¿›è¡Œè½¬æ¢ï¼Œæ˜¯è‡ªåŠ¨ç±»å‹è½¬æ¢ã€‚ å‘ä¸‹è½¬å‹ï¼š çˆ¶ç±»å‘å­ç±»å‹è½¬æ¢ï¼Œæ˜¯å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ é‡å†™ é‡å†™ï¼Œä¹Ÿå«åšè¦†ç›–ï¼Œå½“çˆ¶ç±»ä¸­çš„æ–¹æ³•æ— æ³•æ»¡è¶³å­ç±»éœ€æ±‚æ—¶ï¼Œå­ç±»å¯ä»¥å°†çˆ¶ç±»çš„æ–¹æ³•è¿›è¡Œé‡å†™ç¼–å†™æ¥æ»¡è¶³éœ€æ±‚ã€‚æ¯”å¦‚å­©å­ç»§æ‰¿äº†çˆ¶äº²çš„æˆ¿å­ï¼Œå¯ä»¥å°†æˆ¿å­é‡æ–°è£…ä¿®ã€‚ æ–¹æ³•é‡å†™çš„æ¡ä»¶ï¼š ä¸¤ä¸ªç±»å¿…é¡»æ˜¯ç»§æ‰¿å…³ç³» å¿…é¡»å…·æœ‰ç›¸åŒçš„æ–¹æ³•åï¼Œç›¸åŒçš„è¿”å›å€¼ç±»å‹ï¼Œç›¸åŒçš„å‚æ•°åˆ—è¡¨. é‡å†™çš„æ–¹æ³•ä¸èƒ½æ¯”è¢«é‡å†™çš„æ–¹æ³•æ‹¥æœ‰æ›´ä½çš„è®¿é—®æƒé™ã€‚ é‡å†™çš„æ–¹æ³•ä¸èƒ½æ¯”è¢«é‡å†™çš„æ–¹æ³•æŠ›å‡ºæ›´å®½æ³›çš„å¼‚å¸¸ã€‚(å…³äºå¼‚å¸¸åé¢çš„ç« èŠ‚å†è®²ã€‚) ç§æœ‰çš„æ–¹æ³•ä¸èƒ½è¢«é‡å†™ã€‚ æ„é€ æ–¹æ³•æ— æ³•è¢«é‡å†™ï¼Œå› ä¸ºæ„é€ æ–¹æ³•æ— æ³•è¢«ç»§æ‰¿ã€‚ é™æ€çš„æ–¹æ³•ä¸å­˜åœ¨é‡å†™ã€‚ é‡å†™æŒ‡çš„æ˜¯æˆå‘˜æ–¹æ³•ï¼Œå’Œæˆå‘˜å˜é‡æ— å…³ã€‚ Superå…³é”®å­—: ä»€ä¹ˆæ—¶å€™ä½¿ç”¨superï¼Ÿ å­ç±»å’Œçˆ¶ç±»ä¸­éƒ½æœ‰æŸä¸ªæ•°æ®ï¼Œä¾‹å¦‚ï¼Œå­ç±»å’Œçˆ¶ç±»ä¸­éƒ½æœ‰nameè¿™ä¸ªå±æ€§ã€‚å¦‚æœè¦å†å­ç±»ä¸­è®¿é—®çˆ¶ç±»ä¸­çš„nameå±æ€§ï¼Œéœ€è¦ä½¿ç”¨superã€‚ä¾‹1 å­ç±»é‡å†™äº†çˆ¶ç±»çš„æŸä¸ªæ–¹æ³•ï¼ˆå‡è®¾è¿™ä¸ªæ–¹æ³•åå«m1ï¼‰ï¼Œå¦‚æœåœ¨å­ç±»ä¸­éœ€è¦è°ƒç”¨çˆ¶ç±»ä¸­çš„m1æ–¹æ³•æ—¶ï¼Œéœ€è¦ä½¿ç”¨superã€‚ä¾‹1 å­ç±»è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ æ–¹æ³•æ—¶ï¼Œéœ€è¦ä½¿ç”¨superã€‚ Objectç±»ä¹‹finalizeæ–¹æ³• javaå¯¹è±¡å¦‚æœæ²¡æœ‰æ›´å¤šçš„å¼•ç”¨æŒ‡å‘å®ƒï¼ˆå¼•ç”¨æŠ€æœ¯ï¼‰ï¼Œåˆ™è¯¥javaå¯¹è±¡æˆä¸ºåƒåœ¾æ•°æ®ï¼Œç­‰å¾…åƒåœ¾å›æ”¶å™¨çš„å›æ”¶ï¼Œåƒåœ¾å›æ”¶å™¨åœ¨å›æ”¶è¿™ä¸ªjavaå¯¹è±¡ä¹‹å‰ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å¯¹è±¡çš„finalizeæ–¹æ³•==&gt;å¯ä»¥ç†è§£ä¸ºè§£æå‡½æ•° è®¿é—®æ§åˆ¶æƒé™ æ–¹æ³•è®¿é—®æ§åˆ¶æƒé™ ä¿®é¥°è¯ æœ¬ç±» åŒä¸€ä¸ªåŒ…çš„ç±» å­ç±» ä»»ä½•åœ°æ–¹ private âˆš Ã— Ã— Ã— defaultï¼ˆé»˜è®¤ï¼‰ âˆš âˆš Ã— Ã— protected âˆš âˆš âˆš Ã— public âˆš âˆš âˆš âˆš æ–¹æ³•è®¿é—®æ§åˆ¶æƒé™ â–²ã€‚æ³¨æ„ä»¥ä¸Šå¯¹ç±»çš„ä¿®é¥°åªæœ‰ï¼špublicå’Œdefaultï¼Œå†…éƒ¨ç±»é™¤å¤–(åªæœ‰å†…éƒ¨ç±»å¯ä»¥è®¾ç½®ä¸ºprotected/private) priavteå’Œpublicéƒ½æ¯”è¾ƒå¥½ç†è§£å’Œè®°å¿†ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ï¼Œä¸»è¦æ¼”ç¤ºä¸€ä¸‹ä¸åŒåŒ…ä¸‹çš„ä¸¤ä¸ªå…·æœ‰çˆ¶å­å…³ç³»çš„ç±»é‡Œé¢ä½¿ç”¨protectedå’Œdefaultçš„åŒºåˆ«ã€‚ æ„é€ å‡½æ•°çš„æƒé™é—®é¢˜: publicæ˜¯ä¸€ä¸ªè®¿é—®æƒé™ï¼ˆè®¿é—®ä¿®å¤é¥°ç¬¦ï¼‰ã€‚ä¸€èˆ¬æ„é€ å‡½æ•°å¯åŠ å¯ä¸åŠ publicã€‚ å¦‚æœåŠ ä¸Šåˆ¶public,å°±ä»£è¡¨æ­¤ç±»å¯ä»¥å¯¹å¤–å¼€æ”¾,å…¶ä»–çš„ç±»å¯ä»¥ç»§æ‰¿å®ƒ,å¤–éƒ¨ä¹Ÿå¯ä»¥å®ä¾‹åŒ–è¯¥å¯¹è±¡ã€‚ å¦‚æœä¸åŠ public,åˆ™é»˜è®¤çš„ä¿®é¥°è¯æ˜¯default,è¡¨ç¤ºå¯ä»¥è¢«è¿™ä¸ªç±»çš„å­ç±»æˆ–è€…å’Œè¿™ä¸ªç±»åŒåŒ…çš„ç±»è°ƒç”¨ã€‚ é™¤äº†è¿™ä¸¤ä¸ª,ä½ è¿˜å¯ä»¥æ·»åŠ privateå’Œdefault è®°å½•ä¸€ä¸‹é»˜è®¤ä¿®é¥°ç¬¦ï¼š ç±»ï¼ˆclassï¼‰: ****ç¼ºçœ****å°±æ˜¯æ²¡æœ‰ä¿®é¥°ç¬¦ï¼Œåœ¨åŒä¸€ä¸ªåŒ…ä¸­çš„ç±»ä¸­å¯è§ï¼Œåœ¨å…¶ä»–åŒ…ä¸­ä¸èƒ½ç”¨importå¯¼å…¥ã€‚ å˜é‡ï¼ˆvariableï¼‰: ç¼ºçœåœ¨åŒä¸€ä¸ªåŒ…ä¸­å¯è§ï¼Œå­ç±»ä¸åœ¨ä¸€ä¸ªåŒ…ä¸­ï¼Œå­ç±»ä¸­ä¹Ÿä¸å¯è§ æ–¹æ³•(method)ï¼šç¼ºçœåœ¨åŒä¸€ä¸ªåŒ…ä¸­å¯è§ï¼Œå­ç±»ä¸åœ¨ä¸€ä¸ªåŒ…ä¸­ï¼Œå­ç±»ä¸­ä¹Ÿä¸å¯è§ æ¥å£ï¼ˆinterfaceï¼‰ï¼š ç¼ºçœåŒä¸€ä¸ªåŒ…ä¸­å¯è§ Javaçš„interfaceä¸­ï¼Œæˆå‘˜å˜é‡çš„é»˜è®¤ä¿®é¥°ç¬¦ä¸ºï¼špublic static finalï¼›æ–¹æ³•çš„é»˜è®¤ä¿®é¥°ç¬¦ï¼Œæ–¹æ³•çš„é»˜è®¤ä¿®é¥°ç¬¦æ˜¯ï¼špublic abstractï¼ˆæ¥å£ä¸­çš„æ–¹æ³•åªèƒ½ä½¿ç”¨publicå’Œabstractä¿®é¥°ç¬¦ ï¼‰==&gt; æ¥å£åªæ˜¯å¯¹ä¸€ç±»äº‹ç‰©å±æ€§å’Œè¡Œä¸ºçš„æ›´é«˜æ¬¡æŠ½è±¡ï¼›å¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯ä»¥è¯´æ˜¯javaä¸­å¼€é—­åŸåˆ™çš„ä¸€ç§ä½“ç°å§ã€‚ Finalå…³é”®å­—: ç‰¹ç‚¹ä¸ºç¡®å®šä¸å¯å˜ finalä¿®é¥°çš„ç±»æ— æ³•è¢«ç»§æ‰¿ã€‚ finalä¿®é¥°çš„æ–¹æ³•æ— æ³•è¢«é‡å†™ã€‚ finalä¿®é¥°çš„å±€éƒ¨å˜é‡ï¼Œä¸€æ—¦èµ‹å€¼ï¼Œä¸å¯å†æ”¹å˜ã€‚ finalä¿®é¥°çš„æˆå‘˜å˜é‡å¿…é¡»åˆå§‹åŒ–å€¼ã€‚ staticå…³é”®å­— staticçš„ä½œç”¨ staticå¯ä»¥ä¿®é¥°å˜é‡ï¼Œè¢«staticä¿®é¥°çš„å˜é‡å«åšé™æ€å˜é‡ï¼Œé™æ€å˜é‡åœ¨ç±»åŠ è½½é˜¶æ®µèµ‹å€¼ï¼Œå¹¶ä¸”åªèµ‹å€¼ä¸€æ¬¡ã€‚è¯·çœ‹ä¾‹1 staticå¯ä»¥ä¿®é¥°æ–¹æ³•ï¼Œè¢«staticä¿®é¥°çš„æ–¹æ³•å«åšé™æ€æ–¹æ³•ï¼Œä¸ç”¨åˆ›å»ºå¯¹è±¡å°±èƒ½èƒ½ç›´æ¥è®¿é—®è¯¥æ–¹æ³•ï¼Œå³ä½¿ç”¨ç±»å.é™æ€æ–¹æ³•åçš„æ–¹å¼ã€‚é™æ€æ–¹æ³•ä¸èƒ½è®¿é—®éé™æ€çš„æ•°æ®ï¼Œé™æ€æ–¹æ³•ä¸èƒ½ä½¿ç”¨thisã€‚è¯·çœ‹ä¾‹2 staticå¯ä»¥å®šä¹‰é™æ€è¯­å¥å—ï¼Œé™æ€è¯­å¥å—åœ¨ç±»åŠ è½½é˜¶æ®µæ‰§è¡Œï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æ˜¯è‡ªä¸Šè€Œä¸‹çš„é¡ºåºæ‰§è¡Œï¼Œåœ¨æ„é€ æ–¹æ³•ä¹‹å‰æ‰§è¡Œã€‚è¯·çœ‹ä¾‹3 staticä¿®é¥°çš„å˜é‡ã€æ–¹æ³•ã€ä»£ç å—éƒ½æ˜¯éš¶å±äº**ç±»(class)**çº§åˆ«çš„,è·Ÿå¯¹è±¡æ— å…³ã€‚æŸä¸€ç±»ç‰©ä½“å¦‚æœå¯ä»¥è¢«å¤šä¸ªå…¶ä»–ç‰©ä½“æ‰€å…±äº«ï¼Œé‚£ä¹ˆå¯ä»¥å°†è¿™ç±»ç‰©ä½“ä½¿ç”¨staticä¿®é¥°ã€‚ æ¯”å¦‚wifiï¼Œå¤šä¸ªäººå¯ä»¥å…±åŒä½¿ç”¨åŒä¸€ä¸ªwifiï¼Œæ‰€ä»¥wifiå¯ä»¥ä½¿ç”¨staticä¿®é¥°ã€‚æ‰‹æœºæ˜¯æ¯äººä½¿ç”¨è‡ªå·±çš„ï¼Œå°±ä¸èƒ½ç”¨staticä¿®é¥°ã€‚ æŠ½è±¡ç±»çš„ç‰¹ç‚¹ æŠ½è±¡ç±»æ— æ³•è¢«å®ä¾‹åŒ–ï¼Œæ— æ³•åˆ›å»ºæŠ½è±¡ç±»çš„å¯¹è±¡ã€‚ è™½ç„¶æŠ½è±¡ç±»æ²¡æœ‰åŠæ³•å®ä¾‹åŒ–ï¼Œä½†æ˜¯æŠ½è±¡ç±»ä¹Ÿæœ‰æ„é€ æ–¹æ³•ï¼Œè¯¥æ„é€ æ–¹æ³•æ˜¯ç»™å­ç±»åˆ›å»ºå¯¹è±¡ç”¨çš„ã€‚è¿™ä¹Ÿç®—æ˜¯å¤šæ€çš„ä¸€ç§ã€‚ æŠ½è±¡ç±»ä¸­ä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æŠ½è±¡æ–¹æ³•å¿…é¡»å‡ºç°åœ¨æŠ½è±¡ç±»ä¸­ã€‚ æŠ½è±¡ç±»ä¸­çš„å­ç±»å¯ä»¥æ˜¯æŠ½è±¡ç±»ï¼Œå¦‚æœä¸æ˜¯æŠ½è±¡ç±»çš„è¯å¿…é¡»å¯¹æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•è¿›è¡Œé‡å†™ã€‚ æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ä¸èƒ½è¢«finalä¿®é¥° æ¥å£ï¼š æ¥å£ä¸­åªèƒ½å‡ºç°å¸¸é‡å’ŒæŠ½è±¡æ–¹æ³•ï¼ˆjdk8ä¹‹åå¯ä»¥æœ‰defaultæ–¹æ³•ï¼‰ æ¥å£é‡Œé¢æ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œæ— æ³•åˆ›å»ºæ¥å£çš„å¯¹è±¡ æ¥å£å’Œæ¥å£ä¹‹é—´æ”¯æŒå¤šç»§æ‰¿ï¼Œå³ä¸€ä¸ªæ¥å£å¯ä»¥æœ‰å¤šä¸ªçˆ¶æ¥å£ ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œå³ä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶æ¥å£ ä¸€ä¸ªç±»å¦‚æœå®ç°äº†æ¥å£ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»éœ€è¦é‡å†™æ¥å£ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ï¼ˆå»ºè®®ï¼‰ï¼Œå¦‚æœä¸é‡å†™åˆ™è¿™ä¸ªç±»éœ€è¦å£°æ˜ä¸ºæŠ½è±¡ç±»ï¼ˆä¸å»ºè®®ï¼‰ equals == ä¸¤è¾¹å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œåˆ™æ¯”è¾ƒå†…å­˜åœ°å€ï¼Œåœ°å€ç›¸åŒåˆ™æ˜¯true,åä¹‹åˆ™false. Objectä¸­çš„equalsæ–¹æ³•æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¼•ç”¨çš„å†…å­˜åœ°å€ã€‚ ä½†æ˜¯åœ¨ç°å®çš„ä¸šåŠ¡é€»è¾‘å½“ä¸­ï¼Œä¸åº”è¯¥æ¯”è¾ƒå†…å­˜åœ°å€ï¼Œåº”è¯¥æ¯”è¾ƒåœ°å€é‡Œé¢çš„å†…å®¹ï¼Œæ‰€ä»¥éœ€è¦å¯¹equalsæ–¹æ³•è¿›è¡Œé‡å†™ã€‚ ==&gt;â–²æ³¨æ„ï¼šåœ¨ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„ç±»è¿›è¡Œequalsæ¯”è¾ƒæ—¶ï¼Œä¸€å®šè¦å…ˆé‡å†™equalsæ–¹æ³• 1234567891011121314151617//æ ¹æ®éœ€æ±‚è§„å®šé‡å†™equalsæ–¹æ³•//s1.equals(s2);public boolean equals(Object obj)&#123; if(this==obj)&#123; return true; &#125; if(obj instanceof Star)&#123; Star s = (Star)obj; if(s.id == id &amp;&amp; s.name.equals(name))&#123; return true; &#125; &#125; return false;&#125; å†…éƒ¨ç±»çš„åˆ†ç±» å†…éƒ¨ç±»ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å£°æ˜ä¸€ä¸ªç±»ã€‚å†…éƒ¨ç±»ä¸»è¦åˆ†ä¸ºï¼š é™æ€å†…éƒ¨ç±» åŒ¿åå†…éƒ¨ç±» æˆå‘˜å†…éƒ¨ç±» å±€éƒ¨å†…éƒ¨ç±» å¼‚å¸¸çš„åˆ†ç±» å¼‚å¸¸: æŒ‡çš„æ˜¯ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„éæ­£å¸¸çš„æƒ…å†µï¼Œæœ€ç»ˆä¼šå¯¼è‡´JVMçš„éæ­£å¸¸åœæ­¢â€”â€”JVMå¤„ç†å¼‚å¸¸çš„æ–¹å¼æ˜¯ä¸­æ–­å¤„ç†ã€‚ å¼‚å¸¸ä¸»è¦åˆ†ä¸ºï¼šErrorã€ä¸€èˆ¬æ€§å¼‚å¸¸ã€RuntimeException Error(å¼ºåˆ¶ä¸­æ–­é”™è¯¯)ï¼šå¦‚æœç¨‹åºå‡ºç°äº†Errorï¼Œé‚£ä¹ˆå°†æ— æ³•æ¢å¤ï¼Œåªèƒ½é‡æ–°å¯åŠ¨ç¨‹åºï¼Œæœ€å…¸å‹çš„Errorçš„å¼‚å¸¸æ˜¯ï¼šOutOfMemoryError Exceptionï¼ˆä¸€èˆ¬æ€§å¼‚å¸¸ï¼ˆç¼–è¯‘æ—¶å¼‚å¸¸ï¼‰ï¼šå‡ºç°äº†è¿™ç§å¼‚å¸¸å¿…é¡»åœ¨ç¨‹åºé‡Œé¢æ˜¾ç¤ºçš„å¤„ç†ï¼Œå¦åˆ™ç¨‹åºæ— æ³•ç¼–è¯‘é€šè¿‡ RuntimeExceptionï¼ˆè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ï¼šæ­¤ç§å¼‚å¸¸å¯ä»¥ä¸ç”¨æ˜¾ç¤ºçš„å¤„ç†ï¼Œä¾‹å¦‚è¢«0é™¤å¼‚å¸¸ï¼Œjavaæ²¡æœ‰è¦æ±‚æˆ‘ä»¬ä¸€å®šè¦å¤„ç†ã€‚ JVMæ˜¯å¦‚ä½•å¤„ç†å¼‚å¸¸çš„ mainæ–¹æ³•è‡ªå·±å°†è¯¥é—®é¢˜å¤„ç†,ç„¶åç»§ç»­è¿è¡Œ è‡ªå·±æ²¡æœ‰é’ˆå¯¹çš„å¤„ç†æ–¹å¼,åªæœ‰äº¤ç»™è°ƒç”¨mainçš„jvmæ¥å¤„ç†ï¼Œjvmæœ‰ä¸€ä¸ªé»˜è®¤çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚ä¾‹å¦‚ä¸Šé¢å‡ºç°çš„ArithmeticExceptionï¼Œjvmåœ¨æ§åˆ¶å°é‡Œé¢æ‰“å°å‡ºæ¥äº†å¼‚å¸¸ä¿¡æ¯ã€‚ å¤§è‡´æµç¨‹: native methodè‡ªå·±è§£å†³-&gt;äº¤ç»™Mainè§£å†³-&gt;äº¤ç»™JVMè§£å†³ æ›´å¥½çš„è®²è§£: Bç«™è§†é¢‘ throwå’Œthrows throws ç”¨åœ¨æ–¹æ³•å£°æ˜åé¢ï¼Œè·Ÿçš„æ˜¯å¼‚å¸¸ç±»å public void m1() throws Exception å¯ä»¥è·Ÿå¤šä¸ªå¼‚å¸¸ç±»åï¼Œç”¨é€—å·éš”å¼€ è¡¨ç¤ºæŠ›å‡ºå¼‚å¸¸ï¼Œç”±è¯¥æ–¹æ³•çš„è°ƒç”¨è€…æ¥å¤„ç† (å‘ä¸ŠæŠ›å‡ºæŒ‡å®šå¼‚å¸¸) throw ç”¨åœ¨æ–¹æ³•ä½“å†…ï¼Œè·Ÿçš„æ˜¯å¼‚å¸¸å¯¹è±¡å ==&gt; throw new Exception() åªèƒ½æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡å è¡¨ç¤ºæŠ›å‡ºå¼‚å¸¸ï¼Œç”±æ–¹æ³•ä½“å†…çš„è¯­å¥å¤„ç†ï¼Œéœ€è¦ç›´æ¥åœ¨æ­¤å¤„è§£å†³å¼‚å¸¸(åœ¨å½“å‰è¯­å¥æŠ›å‡ºæŒ‡å®šå¼‚å¸¸) è‡ªå®šä¹‰å¼‚å¸¸ 1.è‡ªå®šä¹‰å¼‚å¸¸ç±»ä¸€èˆ¬éƒ½æ˜¯ä»¥Exceptionç»“å°¾ï¼Œè¯´æ˜è¯¥ç±»æ˜¯ä¸€ä¸ªå¼‚å¸¸ç±» 2.è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œå¿…é¡»çš„ç»§æ‰¿Exceptionæˆ–è€…RuntimeException - ç»§æ‰¿Exceptionï¼šé‚£ä¹ˆè‡ªå®šä¹‰çš„å¼‚å¸¸ç±»å°±æ˜¯ä¸€ä¸ªç¼–è¯‘æœŸå¼‚å¸¸ï¼Œå¦‚æœæ–¹æ³•å†…éƒ¨æŠ›å‡ºäº†ç¼–è¯‘æœŸå¼‚å¸¸ï¼Œå°±å¿…é¡»å¤„ç†è¿™ä¸ªå¼‚å¸¸ï¼Œè¦ä¹ˆthrowsï¼Œè¦ä¹ˆtryâ€¦catch - ç»§æ‰¿RuntimeExceptionï¼šé‚£ä¹ˆè‡ªå®šä¹‰çš„å¼‚å¸¸ç±»å°±æ˜¯ä¸€ä¸ªè¿è¡ŒæœŸå¼‚å¸¸ï¼Œæ— éœ€å¤„ç†ï¼Œäº¤ç»™è™šæ‹Ÿæœºå¤„ç†ï¼ˆä¸­æ–­å¤„ç†ï¼‰ 12345678910111213141516public class MyException extends Exception&#123; /** * æ·»åŠ ä¸€ä¸ªç©ºå‚æ•°çš„æ„é€ æ–¹æ³• */ public MyException()&#123; super(); &#125; /** * æ·»åŠ ä¸€ä¸ªå¸¦å¼‚å¸¸ä¿¡æ¯çš„æ„é€ æ–¹æ³• * æŸ¥çœ‹æºç å‘ç°ï¼Œæ‰€æœ‰çš„å¼‚å¸¸ç±»éƒ½ä¼šæœ‰ä¸€ä¸ªå¸¦å¼‚å¸¸ä¿¡æ¯çš„æ„é€ æ–¹æ³•ï¼Œæ–¹æ³•å†…éƒ¨ä¼šè°ƒç”¨çˆ¶ç±»å¸¦å¼‚å¸¸ä¿¡æ¯çš„æ„é€ æ–¹æ³•ï¼Œè®©çˆ¶ç±»æ¥å¤„ç†è¿™ä¸ªå¼‚å¸¸ä¿¡æ¯ */ public MyException(String s)&#123; super(s); &#125;&#125; catch 12345catch (ArithmeticException | ArrayIndexOutOfBoundsException e) &#123; // å‡ºç°å¤šä¸ªå¼‚å¸¸,é‡‡å–åŒæ ·çš„å¤„ç†æªæ–½ // å¤šä¸ªå¼‚å¸¸è§ç”¨ | éš”å¼€ // å¤šä¸ªå¼‚å¸¸å¿…é¡»æ˜¯å¹³çº§å…³ç³»&#125; å­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§ Stringç±»ä¸èƒ½è¢«ç»§æ‰¿ é€šè¿‡æºç å¯ä»¥çœ‹åˆ°Stringç±»å‰é¢åŠ äº†finalä¿®é¥°ï¼Œå› æ­¤Stringç±»æ˜¯ä¸èƒ½å¤Ÿè¢«ç»§æ‰¿çš„ã€‚å°†å…¶è®¾ç½®ä¸ºä¸èƒ½è¢«ç»§æ‰¿çš„åŸå› æ˜¯ä¸ºäº†å‡å°‘æ­§ä¹‰ã€‚ å­—ç¬¦ä¸²ï¼ˆStringï¼‰çš„ä¸å¯å˜æ€§ Stringåˆ›å»ºå¥½ä¹‹åå€¼æ˜¯ä¸å¯ä»¥è¢«æ”¹å˜çš„ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯åœ¨å †ä¸­çš„å­—ç¬¦ä¸²çš„å€¼æ˜¯ä¸å¯ä»¥è¢«æ”¹å˜ã€‚ Stringä¸å¯å˜çš„ä¸»è¦åŸå› æ˜¯å…¶åº•å±‚ä½¿ç”¨äº†ä¸€ä¸ªfinalä¿®é¥°çš„byteæ•°ç»„(jdk9ä¹‹åç‰ˆæœ¬ä¸­)ï¼Œfinalä¿®é¥°çš„å˜é‡æ˜¯ä¸èƒ½è¢«æ”¹å˜çš„ã€‚åœ¨jdk8ç‰ˆæœ¬ä¸­ï¼ŒStringåº•å±‚ä½¿ç”¨çš„æ˜¯finalä¿®é¥°çš„charæ•°ç»„ã€‚è¿™ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å˜åŒ–ã€‚ Stringã€StringBufferã€StringBuilder æ‹¼æ¥æ‰§è¡Œæ•ˆç‡: String &lt; StringBuffer &lt; StringBuilder çº¿ç¨‹å®‰å…¨: çº¿ç¨‹å®‰å…¨ åŸå›  String å®‰å…¨ å¸¸é‡æ— çº¿ç¨‹å®‰å…¨é—®é¢˜ stringBuffer å®‰å…¨ æ–¹æ³•å…¨ä¸ºsyncronizedå…³é”®å­—ä¿®é¥° stringbuilder ä¸å®‰å…¨ æ—  å­—ç¬¦ä¸²å¸¸é‡æ±  æˆ‘ä»¬å£°æ˜çš„å­—ç¬¦ä¸²ä¼šæ”¾åˆ°ä¸€ä¸ªå«åšå­—ç¬¦ä¸²å¸¸é‡æ± çš„åœ°æ–¹ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å†…å­˜çš„ä½¿ç”¨ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± æ˜¯å †çš„ä¸€éƒ¨åˆ†ã€‚ å¦‚æœç”¨new String(&quot;monkey&quot;)ä¼šåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å†å»ºä¸€ä¸ªmonkey, å…¶å®æ˜¯æµªè´¹äº†å†…å­˜ã€‚æ‰€ä»¥å¼€å‘ä¸­å»ºè®®ä½¿ç”¨String s = â€œmonkey1024â€;è¿™ç§æ–¹å¼åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå¯ä»¥å‡å°‘å †å†…å­˜çš„ä½¿ç”¨ã€‚==&gt;æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€è‡´æœ€å¥½ä½¿ç”¨equalsæ–¹æ³•(çœ‹å¼•ç”¨çš„å†…å­˜åœ°å€æ˜¯å¦ä¸€è‡´) è¯¦ç»†è¯·çœ‹: http://www.monkey1024.com/javase/481 Stringã€StringBufferã€StringBuilder å¦‚æœéœ€è¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œé¢‘ç¹æ‹¼æ¥çš„è¯ï¼Œå»ºè®®ä½¿ç”¨StringBufferæˆ–è€…StringBuilder StringBuffer StringBufferæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œå¦‚æœéœ€è¦é¢‘ç¹çš„å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥æ—¶ï¼Œå»ºè®®ä½¿ç”¨StringBufferã€‚ StringBufferçš„åº•å±‚æ˜¯byteæ•°ç»„ï¼ˆjdk9ä¹‹åï¼‰ï¼Œjdk8ä¸­åº•å±‚æ˜¯charæ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®è®¾å®šï¼Œåˆ™ç³»ç»Ÿä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º16çš„byteç±»å‹æ•°ç»„ï¼Œåœ¨ä½¿ç”¨æ—¶å¦‚æœæ•°ç»„å®¹é‡ä¸å¤Ÿäº†ï¼Œåˆ™ä¼šé€šè¿‡æ•°ç»„çš„æ‹·è´å¯¹æ•°ç»„è¿›è¡Œæ‰©å®¹ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨StringBufferæ—¶æœ€å¥½é¢„æµ‹å¹¶æ‰‹åŠ¨åˆå§‹åŒ–é•¿åº¦ï¼Œè¿™æ ·èƒ½å¤Ÿå‡å°‘æ•°ç»„çš„æ‹·è´ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚ StringBuilderå’ŒStringBufferçš„åŒºåˆ« é€šè¿‡APIå¯ä»¥çœ‹åˆ°StringBuilderå’ŒStringBufferé‡Œé¢çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ StringBufferæ˜¯jdk1.0ç‰ˆæœ¬ä¸­åŠ å…¥çš„ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ StringBuilderæ˜¯jdk5ç‰ˆæœ¬åŠ å…¥çš„ï¼Œæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ ä»€ä¹ˆæ˜¯è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±ï¼Ÿ è‡ªåŠ¨è£…ç®±ï¼šæŠŠåŸºæœ¬ç±»å‹è½¬æ¢ä¸ºåŒ…è£…ç±»ç±»å‹ è‡ªåŠ¨æ‹†ç®±ï¼šæŠŠåŒ…è£…ç±»ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹ é›†åˆ æ¥å£Collection: ç”±ä¸‰ä¸ªæ¥å£ç»„æˆâ€”â€”List / Set / Queue é›†åˆçš„ç”±æ¥ æ•°ç»„é•¿åº¦æ˜¯å›ºå®š,å¦‚æœè¦æ”¹å˜æ•°ç»„çš„é•¿åº¦éœ€è¦åˆ›å»ºæ–°çš„æ•°ç»„å°†æ—§æ•°ç»„é‡Œé¢çš„å…ƒç´ æ‹·è´è¿‡å»ï¼Œä½¿ç”¨èµ·æ¥ä¸æ–¹ä¾¿ã€‚ javaç»™å¼€å‘è€…æä¾›äº†ä¸€äº›é›†åˆç±»ï¼Œèƒ½å¤Ÿå­˜å‚¨ä»»æ„é•¿åº¦çš„å¯¹è±¡ï¼Œé•¿åº¦å¯ä»¥éšç€å…ƒç´ çš„å¢åŠ è€Œå¢åŠ ,éšç€å…ƒç´ çš„å‡å°‘è€Œå‡å°‘ï¼Œä½¿ç”¨èµ·æ¥æ–¹ä¾¿ä¸€äº›ã€‚ é›†åˆç±»çš„ä¸€äº›ç‰¹ç‚¹ Listï¼šé‡Œé¢å­˜æ”¾çš„æ•°æ®æ˜¯æœ‰é¡ºåºçš„ï¼Œå¯ä»¥å­˜æ”¾é‡å¤çš„æ•°æ®ã€‚ Setï¼šé‡Œé¢å­˜æ”¾çš„æ•°æ®æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œä¸èƒ½å­˜æ”¾é‡å¤çš„æ•°æ®ã€‚ Queueï¼šæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œé‡Œé¢çš„æ•°æ®æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œå¯ä»¥å­˜æ”¾é‡å¤çš„æ•°æ®ã€‚ åŒºåˆ« åŒºåˆ«1: æ•°ç»„æ—¢å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹,åˆå¯ä»¥å­˜å‚¨å¼•ç”¨æ•°æ®ç±»å‹,åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨çš„æ˜¯å€¼,å¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨çš„æ˜¯åœ°å€å€¼ é›†åˆåªèƒ½å­˜å‚¨å¼•ç”¨æ•°æ®ç±»å‹(å¯¹è±¡)ï¼Œå¦‚æœå­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œä¼šè‡ªåŠ¨è£…ç®±å˜æˆç›¸åº”çš„åŒ…è£…ç±» åŒºåˆ«2: æ•°ç»„é•¿åº¦æ˜¯å›ºå®šçš„,ä¸èƒ½è‡ªåŠ¨å¢é•¿ é›†åˆçš„é•¿åº¦çš„æ˜¯å¯å˜çš„,å¯ä»¥æ ¹æ®å…ƒç´ çš„å¢åŠ è€Œè‡ªåŠ¨å¢é•¿ Listä¸¤ä¸ªå­ç±»çš„ç‰¹ç‚¹ ArrayList: åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ã€‚ LinkedList: åº•å±‚æ•°æ®ç»“æ„æ˜¯é“¾è¡¨ï¼ŒæŸ¥è¯¢æ…¢ï¼Œå¢åˆ å¿«ã€‚ ArrayListå’ŒLinkedListçš„åŒºåˆ« ArrayListåº•å±‚æ˜¯æ•°ç»„ç»“æœ,æŸ¥è¯¢å’Œä¿®æ”¹å¿« LinkedListåº•å±‚æ˜¯é“¾è¡¨ç»“æ„çš„,å¢å’Œåˆ æ¯”è¾ƒå¿«,æŸ¥è¯¢å’Œä¿®æ”¹æ¯”è¾ƒæ…¢ å…±åŒç‚¹:éƒ½æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ ArrayListçº¿ç¨‹å®‰å…¨çš„æ–¹æ¡ˆ å¦‚æœä½¿ç”¨ArrayListéœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š å¯ä»¥ä½¿ç”¨Collectionså·¥å…·ç±»ä¸­çš„synchronizedListæ–¹æ³•å¯ä»¥å°†ArrayListå˜æˆçº¿ç¨‹å®‰å…¨çš„ 1List list = Collections.synchronizedList(new ArrayList()); ä½¿ç”¨java.util.concurrentåŒ…ä¸‹é¢çš„CopyOnWriteArrayListï¼Œä½¿ç”¨æ–¹å¼è·ŸArrayListä¸€æ · é›†åˆæ•°ç»„çš„äº’è½¬ é›†åˆè½¬æ•°ç»„ï¼š 123456789101112List&lt;String&gt; list = new ArrayList&lt;&gt;();list.add(\"a\");list.add(\"b\");list.add(\"c\");list.add(\"d\");//å½“é›†åˆè½¬æ¢æ•°ç»„æ—¶,æ•°ç»„é•¿åº¦å¦‚æœæ˜¯&lt;=é›†åˆçš„sizeæ—¶,è½¬æ¢åçš„æ•°ç»„é•¿åº¦ç­‰äºé›†åˆçš„size//å¦‚æœæ•°ç»„çš„é•¿åº¦å¤§äºäº†size,åˆ†é…çš„æ•°ç»„é•¿åº¦å°±å’Œä½ æŒ‡å®šçš„é•¿åº¦ä¸€æ ·String[] array = list.toArray(new String[3]);for(String s : array)&#123; System.out.println(s);&#125; æ•°ç»„è½¬é›†åˆ 12345678910111213// æ³¨æ„è½¬æ¢åçš„é›†åˆä¸èƒ½è°ƒç”¨å…¶addæ–¹æ³•å‘é‡Œé¢æ·»åŠ æ•°æ®ï¼Œå¦åˆ™ä¼šæŠ¥å‡ºUnsupportedOperationException//æ•°ç»„è½¬é›†åˆString[] arr = &#123;\"a\",\"b\",\"c\"&#125;;//å°†æ•°ç»„è½¬æ¢æˆé›†åˆList&lt;String&gt; listArray = Arrays.asList(arr); //ä¸èƒ½æ·»åŠ //listArray.add(\"d\"); System.out.println(listArray);//é€šè¿‡è¿™ç§æ–¹å¼å°†listArrayè½¬æ¢æˆçœŸæ­£çš„ArrayListArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;(listArray);//é€šè¿‡Arrays.asList((Tâ€¦ a))çš„æºç å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œé¢è¿”å›çš„ArrayListæ˜¯åœ¨Arraysç±»é‡Œé¢å®šä¹‰çš„ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œå¹¶éjava.utilåŒ…ä¸‹çš„ArrayListã€‚ åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„è½¬æ¢æˆé›†åˆ,ä¼šå°†æ•´ä¸ªæ•°ç»„å½“ä½œä¸€ä¸ªå¯¹è±¡è½¬æ¢ï¼Œä¸‹é¢ç¨‹åºå°†ä¼šæ‰“å°å‡ºlistçš„å¯¹è±¡åœ°å€ 1234int[] arr = &#123;1,2,3,4,5&#125;; List&lt;int[]&gt; list = Arrays.asList(arr); System.out.println(list);// ==&gt;[[I@282ba1e] ==&gt;â–².å°†æ•°ç»„è½¬æ¢æˆé›†åˆ,æ•°ç»„ä¸­çš„æ•°æ®å¿…é¡»æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ 1234Integer[] arr = &#123;11,22,33,44,55&#125;; List&lt;Integer&gt; list = Arrays.asList(arr);System.out.println(list);// ==&gt;[11, 22, 33, 44, 55] Collectioné›†åˆ Setçš„ç‰¹ç‚¹ Seté‡Œé¢å­˜å‚¨çš„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œæ²¡æœ‰ç´¢å¼•ï¼Œå­˜å–é¡ºåºä¸ä¸€è‡´ã€‚ â–².è¿™é‡Œéœ€è¦æ³¨æ„ï¼šåœ¨å‘HashSetä¸­å­˜æ”¾è‡ªå®šä¹‰ç±»å‹å¯¹è±¡æ—¶ï¼Œä¸€å®šè¦é‡å†™hashCodeå’Œequalsæ–¹æ³•ï¼ŒåŸå› æ˜¯æ— é‡å¤çš„è¯éœ€è¦æ¯”è¾ƒï¼Œ æ‰€ä»¥å¾—ã€‚ TreeSetç®€ä»‹ TreeSetçš„ç‰¹ç‚¹æ˜¯å¯ä»¥å¯¹å­˜æ”¾è¿›å»çš„å…ƒç´ è¿›è¡Œæ’åºã€‚ âˆ´ ä½¿ç”¨TreeSetå­˜å‚¨è‡ªå®šä¹‰ç±»å‹ã€‚è¿™é‡Œè¿˜æ˜¯å­˜å‚¨ä¹‹å‰å®šä¹‰çš„Personå¯¹è±¡ï¼Œéœ€è¦å®ç°Comparableæ¥å£å¹¶ä¸”é‡å†™compareToæ–¹æ³•ï¼Œå…ˆæ ¹æ®nameçš„å­—å…¸é¡ºåºæ’åºï¼Œç„¶åå†æ ¹æ®å¹´é¾„è¿›è¡Œæ’åºã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113package top.nymrli.day07;import javafx.scene.PerspectiveCamera;import javafx.util.converter.PercentageStringConverter;import java.util.*;/** * @Program: testIDEA * @Description: Setæµ‹è¯• * @Author: MrLi * @Create: 2020-05-16 09:09 **/public class day07 &#123; public static void main(String[] args) &#123;// HashSet&lt;String&gt; hs = new HashSet&lt;&gt;();// boolean b1 = hs.add(\"a\");// System.out.println(hs);// boolean c1 = hs.add(\"b\");// System.out.println(hs);// for (String s : hs) &#123;// System.out.println(s);// &#125; // Q1:// HashSet&lt;Integer&gt; hashSet = new HashSet&lt;&gt;();// Random random = new Random();// while (hashSet.size() &lt; 10) &#123;// int num = random.nextInt(20);// hashSet.add(num);// &#125;//// for (Integer i : hashSet) &#123;// System.out.println(i);// &#125; // Q2;Treeset TreeSet&lt;Person&gt; ts = new TreeSet&lt;&gt;(); ts.add(new Person(\"cl\", 30)); ts.add(new Person(\"qsy\", 25)); ts.add(new Person(\"sxh\", 30)); ts.add(new Person(\"ll\", 15)); for (Person p : ts) &#123; System.out.println(p); &#125; &#125;&#125;class Person implements Comparable&lt;Person&gt; &#123; private String name; private int age; @Override public String toString() &#123; return \"Person&#123;\" + \"name='\" + name + '\\'' + \", age=\" + age + '&#125;'; &#125; public Person(String name, int age) &#123; this.name = name; this.age = age; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; @Override public boolean equals(Object o) &#123; if (this == o) return true; if (o == null || getClass() != o.getClass()) return false; Person person = (Person) o; return age == person.age &amp;&amp; Objects.equals(getName(), person.getName()); &#125; @Override public int hashCode() &#123; return Objects.hash(getName(), age); &#125; @Override public int compareTo(Person o) &#123; int nameSame = this.name.compareTo(o.name); if (nameSame != 0)&#123; // å¦‚æœnameä¸ç›¸ç­‰ // å½“compareToæ–¹æ³•è¿”å›æ­£æ•°çš„æ—¶å€™ï¼Œç³»ç»Ÿå°†å…ƒç´ å­˜å‚¨åˆ°å³è¾¹ï¼Œæ‰€ä»¥é›†åˆå­˜å–é¡ºåºä¸€è‡´ return nameSame; &#125;else&#123; return this.age - o.age; &#125; &#125;&#125; Mapæ¥å£æ¦‚è¿° mapä¸­çš„å…ƒç´ æ˜¯ä»¥é”®-å€¼çš„æ–¹å¼å­˜åœ¨çš„ï¼Œé€šè¿‡é”®å¯ä»¥è·å–åˆ°å€¼ï¼Œé”®æ˜¯ä¸å¯ä»¥é‡å¤çš„ï¼Œè·Ÿåœ°å›¾æ¯”è¾ƒåƒï¼Œé€šè¿‡ä¸€ä¸ªåæ ‡å°±å¯ä»¥æ‰¾åˆ°å…·ä½“çš„ä½ç½®ã€‚è¯¥æ¥å£ç”±ä¸‰ä¸ªç±»å®ç°: HashMap / HashTable / AbstractMap â–²ä¸å‰ä¸¤ä¸ªç›¸æ¯”ï¼Œæ·»åŠ å…ƒç´ çš„å‡½æ•°ç”±add =&gt; put 123456789101112131415161718192021222324252627282930313233343536373839404142434445public class day08_Map &#123; public static void main(String[] args) &#123; HashMap&lt;String, Integer&gt; hashmap = new HashMap&lt;&gt;(); hashmap.put(\"Cl\", 18); hashmap.put(\"GJQ\", 15); hashmap.put(\"SXH\", 10); hashmap.put(\"HSR\", 12); System.out.println(hashmap); System.out.println(hashmap.containsValue(\"CL\")); System.out.println(hashmap.containsKey(\"GJQ\")); System.out.println(\"------\"); Collection&lt;Integer&gt; values = hashmap.values(); System.out.println(values); System.out.println(\"----------\"); Integer res = hashmap.remove(\"SXH\"); System.out.println(res); // Mapçš„éå† // æ–¹æ³•ä¸€ Set&lt;String&gt; keySet = hashmap.keySet(); Iterator&lt;String&gt; iterator = keySet.iterator(); System.out.println(keySet); while (iterator.hasNext()) &#123; String key = iterator.next(); System.out.println(\"Key: \" + key + \" value: \" + hashmap.get(key)); &#125; System.out.println(\"---------\"); // ä¸Šè¿°çš„ä»£æ›¿å†™æ³•// for (String key : keySet) &#123;// System.out.println(\"Key:\" + key + \"value: \" + hashmap.get(key));// &#125; // æ–¹æ³•äºŒ // Mapä¸­çš„é”®å’Œå€¼è¢«å°è£…æˆäº†Entryå¯¹è±¡,å¹¶å­˜å‚¨åœ¨Seté›†åˆä¸­ï¼Œé€šè¿‡entrySet()å¯ä»¥è·å–åˆ°è¿™ä¸ªSeté›†åˆã€‚ Set&lt;Map.Entry&lt;String, Integer&gt;&gt; entries = hashmap.entrySet();// Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; entriesIterator = entries.iterator(); for (Map.Entry&lt;String, Integer&gt; en : entries) &#123; System.out.println(\"Key:\" + en.getKey() + \" value: \" + en.getValue()); &#125; System.out.println(\"_______________\"); &#125;&#125; LinkedHashMap LinkedHashMapçš„ç‰¹ç‚¹ï¼šå­˜å–é¡ºåºä¸€è‡´ TreeMap TreeMapçš„ç‰¹ç‚¹ï¼šå¯ä»¥å¯¹å­˜å‚¨çš„å…ƒç´ è¿›è¡Œæ’åº HashMapå’ŒHashtableçš„åŒºåˆ« Hashtableæ˜¯JDK1.0ç‰ˆæœ¬å‡ºç°çš„,æ˜¯çº¿ç¨‹å®‰å…¨çš„,æ•ˆç‡ä½ï¼Œä¸å¯ä»¥å­˜å‚¨nullé”®å’Œnullå€¼ HashMapæ˜¯JDK1.2ç‰ˆæœ¬å‡ºç°çš„ï¼Œæ˜¯çº¿ç¨‹ä¸å®‰å…¨,æ•ˆç‡é«˜ï¼Œå¯ä»¥å­˜å‚¨nullé”®å’Œnullå€¼ Collectionå·¥å…· 1234Collections.sort(list);Collections.shuffle(list);Collections.reverse(list);Collections.binarySearch(list, 6); Collectionæ€»ç»“ List(å­˜å–æœ‰åº,æœ‰ç´¢å¼•,å¯ä»¥é‡å¤) ArrayList åº•å±‚æ˜¯æ•°ç»„å®ç°çš„,çº¿ç¨‹ä¸å®‰å…¨,æŸ¥æ‰¾å’Œä¿®æ”¹å¿«,å¢å’Œåˆ æ¯”è¾ƒæ…¢ LinkedList åº•å±‚æ˜¯é“¾è¡¨å®ç°çš„,çº¿ç¨‹ä¸å®‰å…¨,å¢å’Œåˆ æ¯”è¾ƒå¿«,æŸ¥æ‰¾å’Œä¿®æ”¹æ¯”è¾ƒæ…¢ Vector åº•å±‚æ˜¯æ•°ç»„å®ç°çš„,çº¿ç¨‹å®‰å…¨çš„,æ— è®ºå¢åˆ æ”¹æŸ¥éƒ½æ…¢ å¦‚æœæŸ¥æ‰¾å’Œä¿®æ”¹å¤š,ç”¨ArrayList å¦‚æœå¢å’Œåˆ å¤š,ç”¨LinkedList å¦‚æœéƒ½å¤š,ç”¨ArrayList Set(å­˜å–æ— åº,æ— ç´¢å¼•,ä¸å¯ä»¥é‡å¤) HashSet åº•å±‚æ˜¯å“ˆå¸Œç®—æ³•å®ç° LinkedHashSet åº•å±‚æ˜¯é“¾è¡¨å®ç°,å¯ä»¥ä¿è¯å…ƒç´ å”¯ä¸€,å­˜å–é¡ºåºä¸€è‡´ TreeSet åº•å±‚æ˜¯äºŒå‰æ ‘ç®—æ³•å®ç°ï¼Œå¯ä»¥æ’åºï¼Œå­˜å‚¨è‡ªå®šä¹‰ç±»å‹æ—¶éœ€è¦æ³¨æ„å®ç°Comparableæ¥å£å¹¶é‡å†™compareToæ–¹æ³• ä¸€èˆ¬åœ¨å¼€å‘çš„æ—¶å€™ä¸éœ€è¦å¯¹å­˜å‚¨çš„å…ƒç´ æ’åº,æ‰€ä»¥åœ¨å¼€å‘çš„æ—¶å€™å¤§å¤šç”¨HashSet,HashSetçš„æ•ˆç‡æ¯”è¾ƒé«˜.TreeSetåœ¨é¢è¯•çš„æ—¶å€™æ¯”è¾ƒå¤š Map HashMap åº•å±‚æ˜¯å“ˆå¸Œç®—æ³• LinkedHashMap åº•å±‚æ˜¯é“¾è¡¨ï¼Œå­˜å–é¡ºåºä¸€è‡´ TreeMap åº•å±‚æ˜¯äºŒå‰æ ‘ç®—æ³•ï¼Œå¯ä»¥æ’åº å¼€å‘ä¸­ç”¨HashMapæ¯”è¾ƒå¤š HashCode HashCodeæ–¹æ³•çš„ä½œç”¨ åœ¨HashSetä¸­çš„å…ƒç´ æ˜¯ä¸èƒ½é‡å¤çš„ï¼Œjvmå¯ä»¥é€šè¿‡equalsæ–¹æ³•æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒï¼Œå‡è®¾è‡ªå®šä¹‰ä¸€ä¸ªPersonç±»é‡Œé¢æœ‰10ä¸ªæˆå‘˜å˜é‡ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡equalsæ–¹æ³•éœ€è¦åš10æ¬¡ifåˆ¤æ–­åˆ†åˆ«æ¯”è¾ƒè¿™10ä¸ªæˆå‘˜å˜é‡æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœæƒ³HashSetä¸­å­˜æ”¾100ä¸ªå¯¹è±¡ï¼Œé‚£å°±ä¼šåš1000æ¬¡ifåˆ¤æ–­ï¼Œæ•°æ®é‡å¤§çš„è¯ä¼šä¸¥é‡å½±å“æ€§èƒ½ã€‚ è¦è§£å†³è¿™ä¸ªé—®é¢˜çš„è¯å¯ä»¥è¿™æ ·åšï¼Œå°†ä¸€äº›ç‰¹å¾ç›¸ä¼¼æˆ–ç›¸è¿‘çš„å¯¹è±¡å½’ç±»æ”¾åˆ°ä¸€èµ·ç»™ä»–ä»¬ä¸€ä¸ªç¼–å·ï¼Œåœ¨åšequalsåˆ¤æ–­æ—¶ï¼Œå…ˆæ¯”è¾ƒè¿™äº›ç¼–å·ï¼Œç¼–å·ç›¸åŒçš„è¯å†å»æ¯”è¾ƒequalsï¼Œè¿™æ ·å¯ä»¥å‡å°‘ä¸€äº›æ¯”è¾ƒæ¬¡æ•°ã€‚è¿™ä¸ªç¼–å·å¯ä»¥é€šè¿‡HashCodeæ–¹æ³•è·å¾—ã€‚HashCodeæ–¹æ³•çš„ä½œç”¨å°±æ˜¯å°†å¯¹è±¡è¿›è¡Œåˆ†ç±»ï¼Œç„¶åè·å–åˆ°ç¼–å·å€¼ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå›¾ä¹¦é¦†é‡Œé¢çš„ä¹¦éƒ½æ˜¯åˆ†å¥½ç±»çš„ï¼Œæƒ³æ‰¾ã€Šjavaç¼–ç¨‹æ€æƒ³ã€‹è¿™æœ¬ä¹¦ï¼Œå…ˆæ‰¾åˆ°è®¡ç®—æœºç±»çš„ä¹¦æ¶ï¼Œç„¶åå†å»æ‰¾å°±è¡Œï¼Œå€˜è‹¥å›¾ä¹¦é¦†é‡Œé¢çš„ä¹¦ç±æ²¡æœ‰åˆ†ç±»ï¼Œé‚£æ‰¾èµ·æ¥å°±å¦‚å¤§æµ·æé’ˆã€‚ å¦‚ä½•é‡å†™HashCode HashCodeç®—æ³•å†³å®šäº†å¯¹è±¡çš„å½’ç±»ï¼Œå¦‚æœç®—æ³•ç¼–å†™çš„ä¸å¥½å¯èƒ½ä¸ä¼šå¯¹æ€§èƒ½æœ‰æ‰€æå‡ã€‚åœ¨ç¼–å†™æ—¶æœ€å¥½å¯ä»¥è®©å¯¹è±¡å‡åŒ€çš„æ•£åˆ—å¼€ï¼Œè¿™é‡Œå‡è®¾å¯ä»¥å°†å¯¹è±¡åˆ†ä¸º10ä¸ªç§ç±»ï¼Œé‚£ä¹ˆæ¯ä¸ªç§ç±»ä¸­å­˜æ”¾çš„å¯¹è±¡çš„æ•°é‡æœ€å¥½ä¸è¦ç›¸å·®å¤ªå¤šã€‚ å°†Personçš„nameå’Œageå±æ€§éƒ½åŠ ä¸Šäº†ï¼Œå¯ä»¥å°†Personè¿›è¡Œç»†åˆ†ï¼Œå¼€å‘ä¸­å»ºè®®ä½¿ç”¨ï¼š 12345678@Overridepublic int hashCode() &#123; final int prime = 31; int result = 1; result = prime * result + age; result = prime * result + ((name == null) ? 0 : name.hashCode()); return result;&#125; ä¸ºä»€ä¹ˆä¸Šé¢çš„primeçš„å€¼æ˜¯31ï¼Ÿå…¶å®è¿™ä¸ªå€¼æ”¹æˆåˆ«çš„ä¹Ÿå¯ä»¥ï¼Œåªä¸è¿‡å®šä¹‰ä¸º31ä¹‹åæœ‰ä¸€äº›å¥½å¤„ï¼š 31æ˜¯ä¸€ä¸ªè´¨æ•°,è´¨æ•°æ˜¯èƒ½è¢«1å’Œè‡ªå·±æœ¬èº«æ•´é™¤çš„æ•°ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°ä¸å¤§ä¹Ÿä¸å° 31è¿™ä¸ªæ•°å¥½ç®—,2çš„äº”æ¬¡æ–¹-1,2å‘å·¦ç§»åŠ¨5ä½ å…³äºé‡å†™HashCodeæ–¹æ³•çš„ä¸€äº›è¯´æ˜ ä»»ä½•æ—¶å€™å¯¹åŒä¸€å¯¹è±¡å¤šæ¬¡è°ƒç”¨ hashCode æ–¹æ³•ï¼Œéƒ½å¿…é¡»ä¸€ç›´è¿”å›åŒæ ·çš„æ•´æ•°ã€‚ å¦‚æœä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals(Object) æ–¹æ³•æ¥æ¯”è¾ƒç›¸ç­‰ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¯¹è±¡çš„ hashCodeçš„å€¼å¿…é¡»ç›¸ç­‰ã€‚ å¦‚æœä¸¤ä¸ªå¯¹è±¡é€šè¿‡ equals(Object) æ–¹æ³•æ¯”è¾ƒç»“æœä¸ç­‰ï¼Œå¯ä»¥ç›¸ç­‰ä¹Ÿå¯ä»¥ä¸ç›¸ç­‰ã€‚ Propertiesç±» 123456789101112131415161718192021222324252627282930313233343536373839404142public class PropTest &#123; public static void main(String[] args) throws IOException &#123; Properties properties = new Properties(); try &#123; properties.load(new FileReader(\"store.txt\")); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; Set&lt;String&gt; set = properties.stringPropertyNames(); for (String k : set) &#123; String value = properties.getProperty(k); System.out.println(k + \"=\" + value); &#125; &#125; public static void loadInto() &#123; &#125; public static void storeInto() &#123; FileWriter fileWriter = null; try &#123; final Properties properties = new Properties(); properties.setProperty(\"é™ˆåŠ›\", \"18\"); properties.setProperty(\"SQY\", \"19\"); properties.store(fileWriter, \"Save data\"); fileWriter = new FileWriter(\"store.txt\"); fileWriter.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; finally &#123; try &#123; fileWriter.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; æ³›å‹çš„æ¦‚å¿µ åœ¨ç¼–å†™é›†åˆç›¸å…³ä»£ç æ—¶åœ¨eclipseé‡Œé¢æ€»æœ‰ä¸€äº›é»„è‰²è­¦å‘Šï¼Œåœ¨ä¸ä½¿ç”¨æ³¨è§£çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ³›å‹ä¹‹åï¼Œå°±ä¸ä¼šæœ‰è¿™äº›é»„è‰²è­¦å‘Šäº†ã€‚ é€šè¿‡APIå¯ä»¥çœ‹åˆ°Collection,List,ArrayList,è¿™å‡ ä¸ªç±»é‡Œé¢éƒ½æœ‰,è¿™ä¸ªå°±æ˜¯æ³›å‹ï¼Œé‡Œé¢çš„Eå¯ä»¥æ˜¯ä»»ä½•å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½¿ç”¨æ³›å‹æŒ‡æ˜äº†æ•°æ®ç±»å‹ä¹‹åï¼Œè¿™ä¸ªé›†åˆé‡Œé¢åªèƒ½å­˜å‚¨è¿™ç§æ•°æ®ç±»å‹çš„å¯¹è±¡ã€‚ ä¸ä½¿ç”¨æ³›å‹æ—¶ï¼Œè¦è¿›è¡Œå¤šæ¬¡ç±»å‹å¼ºåˆ¶è½¬æ¢ã€‚å¦‚List list = new ArrayList(); ä½¿ç”¨æ³›å‹: List&lt;Person&gt; list = new ArrayList&lt;Person&gt;(); æ³›å‹çš„ä¼˜ç‚¹ å¯ä»¥ç»Ÿä¸€é›†åˆä¸­çš„æ•°æ®ç±»å‹ï¼Œæé«˜å®‰å…¨æ€§ å¯ä»¥å‡å°‘å¼ºåˆ¶ç±»å‹è½¬æ¢ è‡ªå®šä¹‰æ³›å‹ é€šè¿‡JDKçš„æºç å¯ä»¥çœ‹åˆ°ï¼Œæ³›å‹ä¸€èˆ¬å†™çš„éƒ½æ˜¯æˆ–è€…ï¼Œé‡Œé¢çš„Tå’ŒEå°±æ˜¯è¡¨ç¤ºä½¿ç”¨è€…æŒ‡å®šçš„ç±»å‹ã€‚å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªä½¿ç”¨æ³›å‹çš„ç±» æ³›å‹é€šé…ç¬¦ åœ¨å®é™…å·¥ä½œå½“ä¸­ï¼Œæœ‰å¯èƒ½é€šè¿‡è°ƒç”¨æŸä¸ªæ–¹æ³•æ¥æ¥å—ä¸€ä¸ªè¿”å›å€¼Listçš„æ•°æ®ï¼Œè¿™æ ·å°±ä¸å¤ªå¥½ç¡®å®šè¿”å›å€¼ä¸­çš„æ•°æ®ç±»å‹ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨æ³›å‹é€šé…ç¬¦&lt;?&gt; 1List&lt;?&gt; list = new ArrayList&lt;Integer&gt;();//=å·å³è¾¹å¯èƒ½æ˜¯é€šè¿‡è°ƒç”¨æŸä¸ªæ–¹æ³•è¿”å›çš„List ä½¿ç”¨æ³›å‹é€šé…ç¬¦é™å®šå­ç±»æˆ–è€…çˆ¶ç±» ? extends E å‘ä¸‹é™å®šï¼ŒEåŠå…¶å­ç±»ï¼Œå¯ä»¥å­˜å‚¨å½“å‰ç±»å‹çš„å­ç±» ? super E å‘ä¸Šé™å®šï¼ŒEåŠå…¶çˆ¶ç±»ï¼Œå¯ä»¥å­˜å‚¨å½“å‰ç±»å‹çš„çˆ¶ç±» 123456789101112/** * ? extends E å‘ä¸‹é™å®šï¼ŒEåŠå…¶å­ç±»ï¼Œå¯ä»¥å­˜å‚¨å½“å‰ç±»å‹çš„å­ç±» * ? super E å‘ä¸Šé™å®šï¼ŒEåŠå…¶çˆ¶ç±»ï¼Œå¯ä»¥å­˜å‚¨å½“å‰ç±»å‹çš„çˆ¶ç±» */public class GenericTest03 &#123; public static void main(String[] args) &#123; List&lt;Person&gt; personList = new ArrayList&lt;&gt;(); List&lt;Student&gt; studentList = new ArrayList&lt;&gt;(); //å› ä¸ºstudentListä¸­å­˜æ”¾çš„Studentæ˜¯Personç±»çš„å­ç±»ï¼Œæ‰€ä»¥å¯ä»¥å°†studentListæ”¾å…¥personListä¸­ personList.addAll(studentList); &#125;&#125; é›†åˆæ¡†æ¶ä¸­çš„ä¸‰ç§è¿­ä»£æ–¹å¼åˆ é™¤æ•°æ® æ™®é€šforå¾ªç¯,å¯ä»¥åˆ é™¤,æ³¨æ„è®©ç´¢å¼•åšè‡ªå‡è¿ç®— 1234567//1,æ™®é€šforå¾ªç¯åˆ é™¤,ç´¢å¼•åšè‡ªå‡è¿ç®—for(int i = 0; i &lt; list.size(); i++) &#123; if(\"b\".equals(list.get(i))) &#123; list.remove(i); i--; &#125;&#125; è¿­ä»£å™¨,å¯ä»¥åˆ é™¤,ä½†æ˜¯å¿…é¡»ä½¿ç”¨è¿­ä»£å™¨è‡ªèº«çš„removeæ–¹æ³•,å¦åˆ™ä¼šå‡ºç°å¹¶å‘ä¿®æ”¹å¼‚å¸¸ å¢å¼ºforå¾ªç¯ä¸èƒ½åˆ é™¤ å¯å˜å‚æ•° æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªæ–¹æ³•æœ‰å¯å˜å‚æ•°ï¼Œå¹¶ä¸”æœ‰å¤šä¸ªå‚æ•°ï¼Œé‚£ä¹ˆï¼Œå¯å˜å‚æ•°è‚¯å®šæ˜¯æœ€åä¸€ä¸ªã€‚ 1234567// ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(æ•°æ®ç±»å‹â€¦ å˜é‡å)&#123;&#125;//å¯å˜å‚æ•°å…¶å®æ˜¯ä¸€ä¸ªæ•°ç»„public static void print(int ... arr) &#123; for (int i = 0; i &lt; arr.length; i++) &#123; System.out.println(arr[i]); &#125;&#125; æ³¨è§£: ä¹‹å‰ä¹Ÿçœ‹è¿‡ä¸€äº›Java-Spring Bootçš„è§†é¢‘, æœ‰äº›è®²çš„è¯¦ç»†çš„ä¼šå»è®²æºç ï¼Œç„¶åå½“æ—¶å°±æ˜¯çœ‹åˆ°æœ‰å¾ˆå¤šæ³¨è§£ï¼Œ å°±ä¸æ‡‚æ˜¯ä»€ä¹ˆæ„æ€ï¼Œ å½¢æˆäº†ç†è§£éšœç¢ã€‚ æ‰€ä»¥è¿™æ¬¡ç‰¹åœ°åˆå»äº†è§£äº†ä¸€ä¸‹ Spring-Bootçš„å…¥å£å‡½æ•°æ˜¯ç”±@SpringBootApplicationæ³¨è§£çš„mainï¼Œæ— ç–‘@SpringBootApplicationè¿™ä¸ªæ³¨è§£æ˜¯éå¸¸é‡è¦çš„ã€‚ 123456789101112131415161718192021@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited// ---@SpringBootConfiguration@EnableAutoConfiguration// ---@ComponentScan( excludeFilters = &#123;@Filter( type = FilterType.CUSTOM, classes = &#123;TypeExcludeFilter.class&#125;), @Filter( type = FilterType.CUSTOM, classes = &#123;AutoConfigurationExcludeFilter.class&#125;)&#125;)public @interface SpringBootApplication &#123; ...&#125; ä¸Šè¿°ä¸€å…±ä¸ƒä¸ªæ³¨è§£ï¼Œä¸€å…±å¯ä»¥åˆ†æˆä¸‰ç±»ï¼š å…ƒæ³¨è§£ã€é…ç½®æ³¨è§£ã€Componentç»„ä»¶æ³¨è§£ã€‚ä¹‹å‰å­¦çš„æ—¶å€™å°±æ˜¯è¢«è¿™ä¹ˆå¤šæ³¨è§£ç»™å“åˆ°äº†ï¼Œè€Œä¸”è¯¾ä¸Šå¯¹æ³¨è§£çš„è®²è§£ä¹Ÿç‰¹åˆ«å°ï¼Œ æ‰€ä»¥ä¸€ç›´æ„Ÿè§‰æ³¨è§£æ˜¯ä¸ªé«˜æ·±è«æµ‹çš„ä¸œè¥¿ã€‚ å…ƒæ³¨è§£è®²è§£ï¼š Java å…ƒæ³¨è§£ @Targetï¼š æè¿°æ³¨è§£çš„èŒƒå›´ï¼Œå³æ³¨è§£åœ¨å“ªç”¨ â€”â€” æœ€é‡è¦çš„ CONSTRUCTOR:ç”¨äºæè¿°æ„é€ å™¨ FIELD:ç”¨äºæè¿°åŸŸå³ç±»æˆå‘˜å˜é‡ METHOD:ç”¨äºæè¿°æ–¹æ³• PACKAGE:ç”¨äºæè¿°åŒ… TYPE:ç”¨äºæè¿°ç±»ã€æ¥å£(åŒ…æ‹¬æ³¨è§£ç±»å‹) æˆ–enumå£°æ˜ @Retentionï¼š æè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ @Documentedï¼š æ ‡è®°æ³¨è§£ï¼Œæ²¡æœ‰å‚æ•° @Inheritedä½¿ç”¨è¯¥æ³¨è§£çš„æ³¨è§£çˆ¶ç±»çš„å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„æ³¨è§£ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨æ³¨é‡Šç±»å‹æ¥æ³¨é‡Šé™¤ç±»ä¹‹å¤–çš„ä»»ä½•å†…å®¹ï¼Œåˆ™æ­¤å…ƒæ³¨é‡Šç±»å‹ä¸èµ·ä½œç”¨ã€‚ è¿˜è¦æ³¨æ„ï¼Œè¿™ä¸ªå…ƒæ³¨é‡Šåªä¼šå¯¼è‡´ä»è¶…ç±»ç»§æ‰¿æ³¨é‡Š; å·²å®ç°çš„æ¥å£ä¸Šçš„æ³¨é‡Šæ— æ•ˆã€‚â€”â€”æ¯”è¾ƒå°‘ç”¨ é…ç½®æ³¨è§£æºç è®²è§£: å°šç¡…è°·SpringBooté¡¶å°–æ•™ç¨‹(springbootä¹‹ideaç‰ˆspring boot) @AutoConfigurationPackageç”±@Import({Registrar.class})æ³¨è§£ï¼Œå…¶ä¸­Registrar 123public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) &#123; AutoConfigurationPackages.register(registry, (String[])(new AutoConfigurationPackages.PackageImports(metadata)).getPackageNames().toArray(new String[0])); // åé¢ç¬¬äºŒä¸ªå‚æ•°çš„ç»“æœæ˜¯metadataä¸­çš„æ‰€æœ‰åŒ…==&gt;å³è·å¾—ä¸»é…ç½®ç±»æ‰€åœ¨åŒ…åŠä»¥ä¸‹å­åŒ…&#125; å°†ä¸»é…ç½®ç±»(@SpringBootApplicationæ ‡æ³¨çš„ç±»)æ‰€åœ¨åŒ…åŠä¸‹é¢å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨ä¸­ æ³¨è§£ï¼ˆAnnontionï¼‰æ˜¯Java5å¼€å§‹å¼•å…¥çš„æ–°ç‰¹å¾ã€‚å®ƒæä¾›äº†ä¸€ç§å®‰å…¨çš„ç±»ä¼¼æ³¨é‡Šçš„æœºåˆ¶ï¼Œç”¨æ¥å°†ä»»ä½•çš„ä¿¡æ¯æˆ–å…ƒæ•°æ®ï¼ˆmetadataï¼‰ä¸ç¨‹åºå…ƒç´ ï¼ˆç±»ã€æ–¹æ³•ã€æˆå‘˜å˜é‡ç­‰ï¼‰è¿›è¡Œå…³è”ã€‚==&gt;ç±»ä¼¼æ³¨é‡Šï¼Œä½†èƒ½å°†å†…å®¹ä¼ é€’ç»™ç¨‹åºï¼Œå¯¹ä¿®é¥°å¯¹è±¡æœ‰çº¦æŸä½œç”¨ã€‚ ä»£ç demoï¼š æ³¨è§£Annotationå®ç°åŸç†ä¸è‡ªå®šä¹‰æ³¨è§£ä¾‹å­ IOæµ 123456//æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™ä¼šè¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œå¦‚æœreadè¿”å›ç»“æœæ˜¯-1ï¼Œåˆ™è¯´æ˜è¯»å–å®Œæ¯•int temp;//ä¿å­˜å½“å‰è¯»å–çš„å­—èŠ‚æ•°æ®//å°†è¯»å–çš„æ•°æ®èµ‹å€¼ç»™tempï¼Œç„¶åå†åˆ¤æ–­while ((temp = f.read()) != -1) &#123; System.out.print((char)temp);&#125; ä½¿ç”¨File.separatorè§£å†³ä¸åŒç³»ç»Ÿçš„è·¯å¾„é—®é¢˜ åœ¨windosä¸­çš„æ–‡ä»¶è·¯å¾„æ˜¯ä»¥&quot;â€œæ¥åˆ†éš” åœ¨linuxä¸­çš„æ–‡ä»¶è·¯å¾„æ˜¯ä»¥â€/&quot;æ¥åˆ†éš” å¦‚æœå°†ä¸Šé¢ä»£ç éƒ¨ç½²åˆ°linuxä¸­ä¼šè¯»å–ä¸åˆ°æ–‡ä»¶ï¼Œä¸ºäº†ä¿è¯ç¼–å†™çš„ä»£ç è·¨å¹³å°éœ€è¦ä½¿ç”¨java.ioåŒ…ä¸‹çš„File.separatoræ¥æ›¿ä»£æ–‡ä»¶è·¯å¾„çš„åˆ†éš”ç¬¦ï¼Œå¦‚ä¸‹ï¼šfis = new FileInputStream(&quot;file&quot; + File.separator + &quot;monkey.txt&quot;); æ–‡ä»¶IOè¯»å†™FileInputStream 1234567891011121314151617181920212223242526272829303132333435363738394041public class copy_io &#123; public static void main(String[] args) &#123; FileInputStream fis = null; FileOutputStream fos = null; try &#123; fis = new FileInputStream(\"C:\\\\Users\\\\10630\\\\Desktop\\\\TODO\\\\ok.yml\"); File file = new File(\"good.txt\"); if (!file.exists()) &#123; boolean newFile = file.createNewFile(); System.out.println(\"Yes, Create it~\"); &#125; fos = new FileOutputStream(\"good.txt\"); byte[] arr= new byte[1024]; int length; while ((length = fis.read(arr)) != -1) &#123; // f.read(arr)å’Œf.read()ä¸ä¸€æ ·ï¼Œ // f.read(arr)ä¼šä¸€æ¬¡æ€§è¯»å–arrå¤§å°çš„æ•°æ®ï¼Œ ç„¶åé•¿åº¦ç”¨lengthæ¥è®°å½•è¯»å–äº†å¤šå°‘å­—ç¬¦ // writeå†™çš„æ—¶å€™ï¼Œ å°†æ•°ç»„arrä¸­lengthå†™å…¥æ–‡ä»¶ // åœ¨whileä¸­è¾“å‡ºäº†lengthçš„å¤§å°ï¼Œ ä¸º1024ï¼Œ 842 fos.write(arr, 0, length); System.out.println(length); &#125; &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e)&#123; e.printStackTrace(); &#125; finally&#123; try &#123; fis.close(); fos.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; ä½¿ç”¨ç¼“å†²æµè¿›è¡Œæ–‡ä»¶æ‹·è´BufferedInputStream Javaä¸­æä¾›äº†BufferedInputStreamå’ŒBufferedOutputStreamç¼“å†²æµç”¨æ¥è¯»å–å’Œå†™å‡ºï¼Œ BufferedInputStreamè¯»å–æ—¶ä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º8192çš„byteç±»å‹æ•°ç»„ï¼Œç¨‹åºä¸€æ¬¡è¯»å–8192ä¸ªå­—èŠ‚æ•°æ®åˆ°æ•°ç»„ä¸­ ä½¿ç”¨ç¼“å†²æµä¹‹åå°±ä¸ç”¨å†è‡ªå®šä¹‰byteç±»å‹æ•°ç»„äº†ã€‚ 12345678910111213141516171819202122232425262728293031public class bufferStream_io &#123; public static void main(String[] args) throws IOException &#123; BufferedInputStream ` = null; BufferedOutputStream bos = null; try &#123; bis = new BufferedInputStream(new FileInputStream(\"C:\\\\Users\\\\10630\\\\Desktop\\\\TODO\\\\ok.yml\")); bos = new BufferedOutputStream(new FileOutputStream(\"test.txt\")); // å…¶å®ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º, ä¸éœ€è¦ä¸‹é¢çš„ä»£ç  File f = new File(\"text.txt\"); if (!f.exists()) &#123; boolean newFile = f.createNewFile(); System.out.println(\"åˆ›å»ºæˆåŠŸ~\"); &#125; int tmp; while ((tmp = bis.read()) != -1) &#123; bos.write(tmp); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; finally &#123; if (bis != null) &#123; bis.close(); &#125; if (bos != null) &#123; bos.close(); &#125; &#125; &#125;&#125; ä½¿ç”¨è‡ªå®šä¹‰æ•°ç»„å’Œbufferçš„å›¾è§£ jdk7çš„æ–°å†™æ³• åœ¨jdk7ä¸­æ–°åŠ å…¥äº†AutoCloseableæ¥å£ï¼ŒIOæµä¸­çš„ç±»éƒ½å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œè¿™æ ·åœ¨è¯»å–æˆ–è€…å†™å‡ºæ“ä½œç»“æŸä¹‹åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨closeç›¸å…³èµ„æºï¼Œå¼€å‘è€…ä¸éœ€è¦å†æ‰‹åŠ¨closeäº† 12345678try (BufferedInputStream bis = new BufferedInputStream(new FileInputStream(\"C:\\\\Users\\\\10630\\\\Desktop\\\\TODO\\\\ok.yml\")); BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(\"auto.txt\"));) &#123; int tmp; while ((tmp = bis.read()) != -1) &#123; bos.write(tmp); &#125;&#125; catch (IOException e) &#123; e.printStackTrace();&#125; ä½¿ç”¨å­—ç¬¦æµè§£å†³ä¹±ç é—®é¢˜FileReader å­—ç¬¦æµFileReaderä¸»è¦ç”¨æ¥è¯»å–å­—ç¬¦çš„IOæµï¼Œä½¿ç”¨å­—ç¬¦æµè¯»å–æ–‡æœ¬æ–‡ä»¶å¯ä»¥è§£å†³ä¹±ç é—®é¢˜ã€‚ 12345678910111213public class FileReader_io &#123; public static void main(String[] args) &#123; try (FileReader fileReader = new FileReader(\"G:\\\\Cä¸C++ã€\\\\java\\\\testIDEA\\\\src\\\\testForChinests.txt\")) &#123; int c; while ((c = fileReader.read()) != -1) &#123; System.out.print((char) c); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125; ä½¿ç”¨ç¼“å†²æµBufferedReaderå¯ä»¥ä¸€æ¬¡è¯»å–ä¸€è¡Œçš„æ–‡å­—ï¼š 12345678910// è¯»å–try (BufferedReader bufferedReader = new BufferedReader(new FileReader(\"G:\\\\Cä¸C++ã€\\\\java\\\\testIDEA\\\\src\\\\testForChinests.txt\"))) &#123; String s; while ((s = bufferedReader.readLine()) != null)&#123; System.out.print(s); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; å†™å…¥ 12345678910111213141516171819// å†™å…¥ try(FileWriter fw = new FileWriter(\"newword.txt\");)&#123; fw.write(\"æˆ‘å–œæ¬¢å­¦ä¹ java\"); fw.write(32); // ç©ºæ ¼ fw.write(97); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; try(BufferedWriter bw = new BufferedWriter(new FileWriter(\"newword.txt\"));)&#123; bw.write(\"æˆ‘å–œæ¬¢æ‰“ç¯®çƒ\"); bw.newLine();//æ¢è¡Œ bw.write(\"æˆ‘å–œæ¬¢è¸¢è¶³çƒ\"); bw.flush(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; BufferedWriterã€BufferedInputStreamå†…çš„å‚æ•°éƒ½æ˜¯åŸæœ‰çš„FileWriteã€FileInputStreamï¼Œå®é™…ä¸Šä½¿ç”¨äº†è£…é¥°æ¨¡å¼ï¼ˆè®¾è®¡æ¨¡å¼ï¼‰ BufferedWriterã€BufferedReaderå¤šäº†writeLineã€readLineæ–¹æ³• è£…é¥°è€…è®¾è®¡æ¨¡å¼çš„ä¼˜ç‚¹ï¼š ä¸ç”¨ä¿®æ”¹è¢«è£…é¥°å¯¹è±¡çš„æºç ï¼Œè£…é¥°è€…ä¸è¢«è£…é¥°è€…è€¦åˆåº¦ä¸é«˜ã€‚ è½¬æ¢æµâ€”â€”ç¼–ç æ ¼å¼è½¬æ¢InputStreamReaderï¼š å­—èŠ‚-&gt;å­—ç¬¦ å¦‚æœè¦è§£å†³ä¸Šé¢é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨InputStreamReaderå’ŒOutputStreamWriteræŒ‡æ˜æ–‡æœ¬æ–‡ä»¶çš„ç¼–ç ï¼Œè¿™ä¸¤ä¸ªç±»éƒ½å±äºå­—ç¬¦æµï¼Œå¯ä»¥å°†å­—èŠ‚æµè¾“å‡ºä¸ºå­—ç¬¦æµã€‚ 1234567891011121314151617public static void main(String[] args) &#123; // ä½¿ç”¨FileInputStreamè¯»å–æ–‡æœ¬å†…å®¹ï¼Œç„¶åé€šè¿‡InputStreamReaderå’ŒæŒ‡å®šçš„ç¼–ç å°†å­—ç¬¦è½¬æ¢ä¸ºå­—èŠ‚ try (BufferedReader br = new BufferedReader( new InputStreamReader(new FileInputStream(\"utf-8.txt\"), \"utf-8\")); BufferedWriter bw = new BufferedWriter( new OutputStreamWriter(new FileOutputStream(\"gbk.txt\"), \"gbk\"));) &#123; String msg; while((msg = br.readLine()) != null)&#123; bw.write(msg); &#125; bw.flush(); &#125; catch (UnsupportedEncodingException | FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e1) &#123; e1.printStackTrace(); &#125;&#125; ä¸Šé¢çš„ä»£ç ä¸­å†FileInputStreamå¯¹è±¡ä¸Šä½¿ç”¨äº†InputStreamReaderè£…é¥°ï¼Œä»è€Œå°†å­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦ï¼Œä¹‹åå†InputStreamReaderå¯¹è±¡ä¸Šåˆä½¿ç”¨äº†BufferedReaderå°†å­—ç¬¦è¿›è¡Œç¼“å†²ï¼Œä»è€Œæé«˜ã€‚==&gt;éƒ½æœ‰reader è¾“å‡ºæŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åç§° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class OutputAllFiles &#123; private static int cnt = 0; public static void main(String[] args) &#123; final File file = getFile(); getListFiles(file); &#125; public static void getListFiles(File f) &#123; final File[] files = f.listFiles(); for (int i = 0; i &lt; files.length; i++) &#123; for (int j = 0; j &lt; cnt; j++) &#123; System.out.print('\\t'); &#125; System.out.println(files[i]); if (files[i].isDirectory()) &#123; cnt++; getListFiles(files[i]); cnt--; &#125; &#125; &#125; public static File getFile() &#123; System.out.print(\"è¯·è¾“å…¥è¦éå†çš„ç›®å½•: \"); final Scanner scanner = new Scanner(System.in); while (true) &#123; final String next = scanner.nextLine(); // next()ä¸ä¼šå¸å–å­—ç¬¦å‰/åçš„ç©ºæ ¼/Tabé”®ï¼Œåªå¸å–å­—ç¬¦ï¼Œå¼€å§‹å¸å–å­—ç¬¦ï¼ˆå­—ç¬¦å‰åä¸ç®—ï¼‰ç›´åˆ°é‡åˆ°ç©ºæ ¼/Tabé”®/å›è½¦æˆªæ­¢å¸å–ï¼› // nextLine()å¸å–å­—ç¬¦å‰åçš„ç©ºæ ¼/Tabé”®ï¼Œå›è½¦é”®æˆªæ­¢ã€‚ final File file = new File(next); if (!file.exists()) &#123; System.out.println(\"è¾“å‡ºçš„è·¯å¾„é”™è¯¯, è¯·é‡æ–°è¾“å…¥\"); &#125; else if (file.isFile()) &#123; System.out.println(\"è¯·è¾“å…¥ä¸€ä¸ªæ–‡ä»¶å¤¹è·¯å¾„\"); &#125; else &#123; return file; &#125; &#125; &#125;&#125; åºåˆ—åŒ–å’Œååºåˆ—åŒ– åœ¨å·¥ä½œä¸­æœ‰å¯èƒ½é‡åˆ°å¤šå°æœºå™¨è¿œç¨‹é€šä¿¡çš„æƒ…å†µï¼Œå¦‚æœè¦å°†æœºå™¨Aä¸­çš„æŸä¸ªjavaå¯¹è±¡ä¼ è¾“åˆ°æœºå™¨Bä¸Šé¢ï¼Œéœ€è¦å°†è¿™ä¸ªjavaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—ç„¶åè¿›è¡Œä¼ è¾“ã€‚å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹å«åšåºåˆ—åŒ–ï¼Œåä¹‹å«åšååºåˆ—åŒ–ã€‚ ä½¿ç”¨åºåˆ—åŒ–è¿˜å¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡ä¿å­˜åˆ°ç¡¬ç›˜ä¸­ï¼Œç„¶åå†é€šè¿‡ååºåˆ—åŒ–å°†è¯¥å¯¹è±¡è¯»å–åˆ°å†…å­˜é‡Œé¢ã€‚ ä¸€ä¸ªå¯¹è±¡å¦‚æœæ”¯æŒåºåˆ—åŒ–ï¼Œéœ€è¦å®ç°Serializableçš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä¸­æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼Œå®ç°è¯¥æ¥å£åï¼ŒJVMä¼šç»™è¿™ä¸ªå¯¹è±¡åšç‰¹æ®Šå¾…é‡ 123456789101112131415public class SerializableTest &#123; public static void main(String[] args) &#123; final Student s = new Student(\"å¼ ä¸‰\"); try (ObjectOutputStream zhangsan = new ObjectOutputStream(new FileOutputStream(\"zhangsan\"))) &#123; // try()æ‹¬å·ä¸­ï¼Œå¦‚æœæ˜¯å¤šå¥ï¼Œ åˆ™åŠ ;ï¼Œ å•å¥ä¸éœ€è¦åŠ ; // ObjectOutputStreamä¹Ÿæ˜¯ä¸€ä¸ªè£…é¥°æ¨¡å¼ zhangsan.writeObject(s); zhangsan.flush(); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125; åœ¨ä¸€ä¸ªç±»å®ç°Serializableæ¥å£åï¼Œç³»ç»Ÿä¼šç»™æ¯ä¸ªå¯¹è±¡ä¸€ä¸ªåºåˆ—åŒ–ç‰ˆæœ¬å·ï¼Œå½“è¿™ä¸ªç±»çš„æºç è¢«ä¿®æ”¹åï¼Œç³»ç»Ÿä¼šé‡æ–°åˆ†é…ä¸€ä¸ªæ–°çš„åºåˆ—åŒ–ç‰ˆæœ¬å·ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯ä¿è¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„å¯¹è±¡å†…å®¹ä¸€è‡´ã€‚ä¾‹å¦‚å°†ä¸€ä¸ªå¯¹è±¡åºåˆ—åŒ–åˆ°ç¡¬ç›˜ä¹‹åï¼Œä¿®æ”¹è¿™ä¸ªå¯¹è±¡æ‰€å¯¹åº”ç±»çš„æºç ï¼Œåœ¨è¿›è¡Œååºåˆ—åŒ–æ˜¯å°±ä¼šæŠ¥å‡ºInvalidClassExceptionå¼‚å¸¸ã€‚å¦‚æœæ‰‹åŠ¨ç¼–å†™åºåˆ—åŒ–ç‰ˆæœ¬å·ä¹‹åï¼Œå°±ä¸ä¼šå‡ºç°è¿™ä¸ªå¼‚å¸¸äº†ã€‚ 1234/** * è‡ªåŠ¨ç”Ÿæˆåºåˆ—åŒ–ç‰ˆæœ¬å· */private static final long serialVersionUID = -716323668524282676L; transientå…³é”®å­— å¦‚æœä¸å¸Œæœ›å°†Studentç±»ä¸­çš„ageå±æ€§åºåˆ—åŒ–ï¼Œå¯ä»¥ä½¿ç”¨transientå£°æ˜è¯¥å±æ€§ï¼Œåœ¨åºåˆ—åŒ–æ—¶å°†å¿½ç•¥è¿™ä¸ªå±æ€§ã€‚transient private int age; å¤šçº¿ç¨‹ ä¸‰ç§åˆ›å»ºæ–¹å¼ ç»§æ‰¿Threadç±»ï¼Œ é‡å†™runæ–¹æ³• ä¼˜ç‚¹:å¯ä»¥ç›´æ¥ä½¿ç”¨Threadç±»ä¸­çš„æ–¹æ³•,ä»£ç ç®€å• ç¼ºç‚¹:ç»§æ‰¿Threadç±»ä¹‹åå°±ä¸èƒ½ç»§æ‰¿å…¶ä»–çš„ç±» å®ç°runnableæ¥å£ï¼Œ é‡å†™runæ–¹æ³• ä¼˜ç‚¹:å³æ—¶è‡ªå®šä¹‰ç±»å·²ç»æœ‰çˆ¶ç±»äº†ä¹Ÿä¸å—å½±å“ï¼Œå› ä¸ºå¯ä»¥å®ç°å¤šä¸ªæ¥å£ ç¼ºç‚¹:åœ¨runæ–¹æ³•å†…éƒ¨éœ€è¦è·å–åˆ°å½“å‰çº¿ç¨‹çš„Threadå¯¹è±¡åæ‰èƒ½ä½¿ç”¨Threadä¸­çš„æ–¹æ³• å®ç°Callableæ¥å£åˆ›å»ºçº¿ç¨‹ ä¼˜ç‚¹ï¼šå¯ä»¥è·å–è¿”å›å€¼ï¼Œå¯ä»¥æŠ›å‡ºå¼‚å¸¸ ç¼ºç‚¹ï¼šä»£ç ç¼–å†™è¾ƒä¸ºå¤æ‚ 1.è‡ªå®šä¹‰ä¸€ä¸ªç±»å®ç°java.util.concurrentåŒ…ä¸‹çš„Callableæ¥å£ 2.é‡å†™callæ–¹æ³• 3.å°†è¦åœ¨çº¿ç¨‹ä¸­æ‰§è¡Œçš„ä»£ç ç¼–å†™åœ¨callæ–¹æ³•ä¸­ 4.åˆ›å»ºExecutorServiceçº¿ç¨‹æ±  5.å°†è‡ªå®šä¹‰ç±»çš„å¯¹è±¡æ”¾å…¥çº¿ç¨‹æ± é‡Œé¢ 6.è·å–çº¿ç¨‹çš„è¿”å›ç»“æœ 7.å…³é—­çº¿ç¨‹æ± ï¼Œä¸å†æ¥æ”¶æ–°çš„çº¿ç¨‹ï¼Œæœªæ‰§è¡Œå®Œçš„çº¿ç¨‹ä¸ä¼šè¢«å…³é—­ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455//1.å®šä¹‰ä¸€ä¸ªç±»å®ç°Callable&lt;V&gt;æ¥å£class MyCallable implements Callable&lt;Integer&gt; &#123; // 2.é‡å†™callæ–¹æ³• @Override public Integer call() throws Exception &#123; // 3.å°†è¦æ‰§è¡Œçš„ä»£ç å†™åœ¨callæ–¹æ³•ä¸­ //è¿”å›ä¸€ä¸ªéšæœºæ•° Random r = new Random(); int num = r.nextInt(100); return num; &#125;&#125;public class MultiThread_callable &#123; public static void main(String[] args) &#123; //4.åˆ›å»ºExecutorServiceçº¿ç¨‹æ±  ExecutorService exec = Executors.newCachedThreadPool(); //5.å°†è‡ªå®šä¹‰ç±»çš„å¯¹è±¡æ”¾å…¥çº¿ç¨‹æ± é‡Œé¢ //å¼€å¯ä¸¤ä¸ªçº¿ç¨‹ Future&lt;Integer&gt; result1 = exec.submit(new MyCallable()); Future&lt;Integer&gt; result2 = exec.submit(new MyCallable()); //åˆ¤æ–­çº¿ç¨‹æ˜¯å¦è®¡ç®—å®Œæ¯• while (!result1.isDone() &amp;&amp; !result2.isDone()) &#123; System.out.println(\"ç­‰å¾…çº¿ç¨‹è®¡ç®—å®Œæ¯•\"); &#125; //6.è·å–çº¿ç¨‹çš„è¿”å›ç»“æœ Integer i1 = null; try &#123; i1 = result1.get(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; catch (ExecutionException e) &#123; e.printStackTrace(); &#125; Integer i2 = null; try &#123; i2 = result2.get(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; catch (ExecutionException e) &#123; e.printStackTrace(); &#125; System.out.println(i1); System.out.println(i2); //7.å…³é—­çº¿ç¨‹æ± ï¼Œä¸å†æ¥æ”¶æ–°çš„çº¿ç¨‹ï¼Œæœªæ‰§è¡Œå®Œçš„çº¿ç¨‹ä¸ä¼šè¢«å…³é—­ exec.shutdown(); &#125;&#125; çº¿ç¨‹æ±  çº¿ç¨‹æ± æ˜¯åˆå§‹åŒ–ä¸€ä¸ªå¤šçº¿ç¨‹åº”ç”¨ç¨‹åºè¿‡ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªçº¿ç¨‹é›†åˆï¼Œå³ä¸€æ¬¡åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œç„¶ååœ¨éœ€è¦æ‰§è¡Œæ–°çš„ä»»åŠ¡æ—¶ç›´æ¥å»è¿™ä¸ªçº¿ç¨‹é›†åˆä¸­è·å–ï¼Œè€Œä¸æ˜¯é‡æ–°åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚ä»»åŠ¡æ‰§è¡Œç»“æŸåï¼Œçº¿ç¨‹æ”¾å›åˆ°æ± å­ä¸­ç­‰å¾…ä¸‹ä¸€æ¬¡çš„åˆ†é…ã€‚ çº¿ç¨‹æ± çš„ä½œç”¨ è§£å†³åˆ›å»ºå•ä¸ªçº¿ç¨‹è€—è´¹æ—¶é—´å’Œèµ„æºçš„é—®é¢˜ã€‚ åˆ›å»ºçº¿ç¨‹æ±  ä¸Šé¢ä»£ç ä¸­æ¼”ç¤ºäº†ä¸¤ç§æ–¹å¼åˆ›å»ºçº¿ç¨‹æ±  Executors.newFixedThreadPool(int nThreads); é€šè¿‡ä¼ å…¥çš„intç±»å‹å‚æ•°æ¥æŒ‡å®šåˆ›å»ºçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ï¼Œå¦‚æœä»»åŠ¡æ•°é‡å¤§äºçº¿ç¨‹æ•°é‡ï¼Œåˆ™ä»»åŠ¡ä¼šè¿›è¡Œç­‰å¾…ã€‚ Executors.newCachedThreadPool(); ä¼šæ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡å°äºä»»åŠ¡æ•°æ—¶ï¼Œä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹ï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æœ€å¤§æ•°é‡æ˜¯Integer.MAX_VALUEï¼Œintç±»å‹çš„æœ€å¤§å€¼ã€‚å¦‚æœçº¿ç¨‹çš„å¤„ç†é€Ÿåº¦å°äºä»»åŠ¡çš„æäº¤é€Ÿåº¦æ—¶ï¼Œä¼šä¸æ–­åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ ·æœ‰å¯èƒ½ä¼šå› ä¸ºåˆ›å»ºè¿‡å¤šçº¿ç¨‹è€Œè€—å°½CPU å’Œå†…å­˜èµ„æºã€‚ åŒ¿åå†…éƒ¨ç±»ã€labmbdaè¡¨è¾¾å¼åˆ›å»º 12345678910111213141516171819202122232425262728293031323334353637383940414243public class NewWayCreateThread &#123; /** * @Description: åŒ¿åå†…éƒ¨ç±» * @Author: MrLi * @Param: [args] * @Return: void * @Date: 2020/5/18 */ public static void main(String[] args) &#123; new Thread(new Runnable() &#123; @Override public void run() &#123; for (int i = 0; i &lt; 1000; i++) &#123; System.out.println( Thread.currentThread().getName() + \" \" + i); System.out.println( getClass() + \" \" + i); &#125; &#125; &#125;).start(); for (int i = 0; i &lt; 1000; i++) &#123; System.out.println(\"main\" + i); &#125; &#125; /** * @Description: labmbdaè¡¨è¾¾å¼ * @Author: MrLi * @Param: [args] * @Return: void * @Date: 2020/5/18 */ public static void main(String[] args) &#123; new Thread(() -&gt;&#123; for (int i = 0; i &lt; 1000; i++) &#123; System.out.println(Thread.currentThread().getName() + \" \" + i); &#125; &#125;).start(); for (int i = 0; i &lt; 1000; i++) &#123; System.out.println(\"main \" + i); &#125; &#125;&#125; synchronizedåŒæ­¥æ–¹æ³•ä¸åŒæ­¥ä»£ç å— 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081public class SleepThread &#123; public static long begin1; public static long end1; public static long begin2; public static long end2; public static void main(String[] args) &#123; LongTask ts = new LongTask(); Thread t1 =new Thread(() -&gt; &#123; begin1 = System.currentTimeMillis(); ts.add(); end1 = System.currentTimeMillis(); &#125;); Thread t2 = new Thread(() -&gt; &#123;// new Thread(syncValue::add).start(); begin2 = System.currentTimeMillis(); ts.add(); end2 = System.currentTimeMillis(); &#125;); t1.start(); t2.start(); try &#123; Thread.sleep(10000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; long begin = 0; long end = 0; if(begin1 &gt; begin2)&#123; begin = begin2; &#125;else&#123; begin = begin1; &#125; if(end1 &gt; end2)&#123; end = end1; &#125;else&#123; end = end2; &#125; System.out.println(\"ä¸¤ä¸ªçº¿ç¨‹æ€»å…±è€—æ—¶ï¼š\" + (end -begin) + \"ms\"); &#125;&#125;class LongTask &#123; private static int num = 0; Object obj = new Object();// public synchronized void add() &#123;// try &#123;// Thread.sleep(3000L);// System.out.println(\"æ‰§è¡Œè€—æ—¶ä»»åŠ¡\");// &#125; catch (InterruptedException e) &#123;// e.printStackTrace();// &#125;// num++;// System.out.println(num);// &#125; //ä¸¤ä¸ªçº¿ç¨‹æ€»å…±è€—æ—¶ï¼š6001ms public void add() &#123; try &#123; Thread.sleep(3000L); System.out.println(\"æ‰§è¡Œè€—æ—¶ä»»åŠ¡\"); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; synchronized (obj)&#123; num++; System.out.println(num); &#125; &#125; //ä¸¤ä¸ªçº¿ç¨‹æ€»å…±è€—æ—¶ï¼š3001ms&#125; ä¿®æ”¹åå°†éœ€è¦åŒæ­¥çš„ä»£ç æ”¾åˆ°synchronizedä»£ç å—ä¸­ï¼Œå†æ¬¡è¿è¡ŒSynchronizedTest02ç±»ï¼Œæ‰“å°ç»“æœæ˜¯3ç§’ï¼Œå› ä¸ºé‚£æ®µè€—æ—¶è¾ƒé•¿çš„ä»£ç æ˜¯åœ¨å¼‚æ­¥æƒ…å†µä¸‹è¿è¡Œï¼Œæ‰€ä»¥èŠ‚çœäº†ä¸€äº›æ—¶é—´ã€‚ æ³¨æ„ï¼šå¤šä¸ªçº¿ç¨‹åœ¨æ‰§è¡ŒsynchronizedåŒæ­¥ä»£ç å—æ—¶ï¼Œä»£ç å—æ‹¬å·é‡Œé¢å¯ä»¥ä¼ å…¥ä»»æ„å¯¹è±¡ï¼Œä½†ä¸€å®šè¦ä¿è¯å¤šä¸ªçº¿ç¨‹è®¿é—®çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚(è¿™é‡Œä»£ç åªæœ‰ä¸€ä¸ªå®ä¾‹, è¿™ä¸ªå®ä¾‹çš„objæ˜¯ç›¸åŒçš„) å•ä¾‹æ¨¡å¼ é¥¿æ±‰å¼ æ„é€ æ–¹æ³•ç§æœ‰åŒ– åˆ›å»ºå½“å‰ç±»å¯¹è±¡ å¯¹å¤–æä¾›å…¬å…±çš„è®¿é—®æ–¹æ³•å°†SingletonHungaryå¯¹è±¡æš´éœ²ç»™å¤–éƒ¨ æ‡’æ±‰å¼ æ„é€ æ–¹æ³•ç§æœ‰åŒ– åˆ›å»ºå½“å‰ç±»çš„å¼•ç”¨ å¯¹å¤–æä¾›å…¬å…±çš„è®¿é—®æ–¹æ³•å°†SingletonHungaryå¯¹è±¡æš´éœ²ç»™å¤–éƒ¨ å•ä¾‹æ¨¡å¼çš„æ¡ˆä¾‹Runtime java.langåŒ…ä¸‹çš„Runtimeç±»ä½¿ç”¨äº†å•ä¾‹æ¨¡å¼ï¼Œä½¿ç”¨è¯¥ç±»å¯ä»¥æ‰§è¡Œwindowsç³»ç»Ÿé‡Œé¢çš„ä¸€äº›å‘½ä»¤ï¼Œä¾‹å¦‚ï¼šmspaintï¼ˆæ‰“å¼€ç”»å›¾è½¯ä»¶ï¼‰ï¼Œshutdownï¼ˆå…³æœºï¼‰ç­‰ç­‰ã€‚ 1234public static void main(String[] args) throws IOException &#123; Runtime rt = Runtime.getRuntime(); rt.exec(\"mspaint\");&#125; ä½¿ç”¨Timerç±»æ¥å®ç°å®šæ—¶ä»»åŠ¡ 123456789101112131415161718192021222324public class TimerTest &#123; public static void main(String[] args) throws ParseException &#123; final Timer t = new Timer();// t.schedule(new TimerTask() &#123;// @Override// public void run() &#123;// final Date date = new Date();// System.out.println(date);// &#125;// &#125;, new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss SSS\").parse(\"2017-07-03 18:09:00 000\"), 5000); //ç¬¬ä¸€ä¸ªå‚æ•°æ¥æ”¶TimerTaskå¯¹è±¡ï¼Œå³ä¸Šé¢åˆ›å»ºçš„MyTimerTask //ç¬¬äºŒå‚æ•°çš„Dateç±»å‹æ˜¯å®šæ—¶ä»»åŠ¡æ‰§è¡Œçš„å¼€å§‹æ—¶é—´ //ç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šå®šæ—¶ä»»åŠ¡æ¯éš”å¤šå°‘æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ t.schedule(new TimerTask() &#123; @Override public void run() &#123; System.out.println(new Date()); &#125; &#125;, 0, 1000); &#125;&#125; Lambdaè¡¨è¾¾å¼å’ŒåŒ¿åå†…éƒ¨ç±» ä½¿ç”¨lambdaè¡¨è¾¾å¼çš„å‰ææ˜¯ï¼š å¿…é¡»ä¸ºå‡½æ•°å¼æ¥å£ï¼ˆæœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œå¯ä»¥ç”¨@FunctionalInterface,æ¥å£ä¸­å¯ä»¥åŒ…å«é»˜è®¤ã€é™æ€ã€ç§æœ‰æ–¹æ³•ï¼‰ åŒ¿åå†…éƒ¨ç±»ä¼šç”Ÿæˆä¸€ä¸ªxxxx$1.classæ–‡ä»¶ï¼Œ è€Œlambdaè¡¨è¾¾å¼ä¸ä¼šç”Ÿæˆ lambda æœ‰å»¶è¿ŸåŠ è½½çš„æ•ˆæœï¼Œä»è€Œä¸å­˜åœ¨æ€§èƒ½æµªè´¹â€”â€”ä¼˜åŒ–æ—¥å¿— From: https://www.bilibili.com/video/BV1A4411K7Gx?p=417 åå°„ è·å¾—å­—èŠ‚ç classçš„ä¸‰ç§æ–¹å¼ Sourceæºä»£ç é˜¶æ®µ=&gt;Class.forName(&quot;å…¨ç±»å&quot;) å¤šç”¨äºé…iæ–‡ä»¶ï¼Œæ‹ç±»åå®šä¹‰åœ¨é…æ–‡ä»¶ä¸­ã€‚è¯»å–æ–‡ä»¶ï¼ŒåŠ è½½ç±» Classç±»å¯¹è±¡é˜¶æ®µ=&gt;ç±»å.class å¤šç”¨äºå‚æ•°çš„ä¼ é€’ Runtimeè¿è¡Œé˜¶æ®µ=&gt;å¯¹è±¡.getClass() å¤šç”¨äºå¯¹è±¡çš„è·å–å­—èŠ‚ç çš„æ–¹å¼ â–²ç»“è®º: åŒä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶ï¼ˆ*.classï¼‰åœ¨ä¸€æ¬¡ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œåªä¼šè¢«åŠ è½½ä¸€æ¬¡ï¼Œä¸è®ºé€šè¿‡å“ªä¸€ç§æ–¹å¼è·å–çš„Classå¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªã€‚ 123456789101112131415// way1ï¼š Class.forNameClass cls1 = Class.forName(\"top.nymrli.day17_reflect.Person\");System.out.println(cls1);// way2:Class&lt;Person&gt; cls2 = Person.class;System.out.println(cls2);// way3:Person person = new Person();Class cls3 = person.getClass();System.out.println(cls3);System.out.println(cls3 == cls2);System.out.println(cls1 == cls2); Classå¯¹è±¡åŠŸèƒ½: è·å–åŠŸèƒ½: è·å¾—æˆå‘˜å˜é‡ Filed[] getFields()â€”â€”è·å¾—publicä¿®é¥°çš„å­—æ®µ Field getField(String name)â€”â€”è·å¾—æ‰€æœ‰å­—æ®µï¼Œæ— è§†ä¿®é¥°ç¬¦ Field[] getDeclaredFields() Field getDeclaredField(String name) è·å¾—æ„é€ æ–¹æ³• Constructor constructor = cls1.getConstructor(String name); Constructor[] constructors = cls1.getConstructors(); Constructor declaredConstructor = cls1.getDeclaredConstructor(String name); Constructor[] declaredConstructors = cls1.getDeclaredConstructors(); è·å¾—æˆå‘˜æ–¹æ³• Method method = cls1.getMethod(String name); Method[] methods = cls1.getMethods(); Method declaredMethod = cls1.getDeclaredMethod(String name); Method[] declaredMethods = cls1.getDeclaredMethods(); 12345678910111213141516171819202122232425Class cls1 = Class.forName(\"top.nymrli.day17_reflect.Person\");System.out.println(cls1);Person p = new Person();Field name = null;try &#123; name = cls1.getDeclaredField(\"name\");&#125; catch (NoSuchFieldException e) &#123; e.printStackTrace();&#125;Object o = null;try &#123; name.setAccessible(true); // privateç§æœ‰æ–¹æ³•, æš´åŠ›åå°„ o = name.get(p);&#125; catch (IllegalAccessException e) &#123; e.printStackTrace();&#125;System.out.println(o);try &#123; name.set(p, \"cl\"); o = name.get(p);&#125; catch (IllegalAccessException e) &#123; e.printStackTrace();&#125;System.out.println(o); æ¡ˆä¾‹ï¼š *éœ€æ±‚ï¼šå†™ä¸€ä¸ªâ€œæ¡†æ¶â€ï¼Œä¸èƒ½æ”¹å˜è¯¥ç±»çš„ä»»ä½•ä»£ç çš„å‰æä¸‹ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åˆ›å»ºä»»æ„ç±»çš„å¯¹è±¡ï¼Œå¹¶ä¸”æ‰§è¡Œå…¶ä¸­ä»»æ„æ–¹æ³• å®ç°ï¼š 1.é…ç½®æ–‡ä»¶ 2.åå°„ æ­¥éª¤ 1.æ‹éœ€è¦åˆ›å»ºçš„å¯¹è±¡çš„å…¨ç±»åå’Œéœ€è¦æ‰§è¡Œçš„æ–¹æ³•å®šä¹‰åœ¨é…ç½®æ–‡ä»¶ä¸­ 2.åœ¨ç¨‹åºä¸­åŠ è½½è¯»å–é…ç½®æ–‡ä»¶ 3.ä½¿ç”¨åå°„æŠ€æœ¯æ¥åŠ è½½ç±»æ–‡ä»¶è¿›å†…å­˜ 4.åˆ›å»ºå¯¹è±¡ 5.æ‰§è¡Œæ–¹æ³• 123456789101112131415161718192021public class Example &#123;// public static void main(String[] args) throws IOException, ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException &#123; public static void main(String[] args) throws Exception &#123; Properties properties = new Properties(); ClassLoader classLoader = Example.class.getClassLoader(); InputStream is = classLoader.getResourceAsStream(\"prop.properties\"); properties.load(is); String className = properties.getProperty(\"className\"); String classMethod = properties.getProperty(\"classMethod\"); Class cls = Class.forName(className); // ç›´æ¥newInstanceåœ¨java 9å·²è¢«å¼ƒç”¨ Object o = cls.getDeclaredConstructor().newInstance(); Method method = cls.getMethod(classMethod); method.invoke(o); &#125;&#125; ç±»çš„åŠ è½½ä¸åˆå§‹åŒ– ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰ æˆ‘ä»¬éƒ½çŸ¥é“ Java æ–‡ä»¶è¢«è¿è¡Œï¼Œç¬¬ä¸€æ­¥ï¼Œéœ€è¦é€šè¿‡ javac ç¼–è¯‘å™¨ç¼–è¯‘ä¸º class æ–‡ä»¶ï¼›ç¬¬äºŒæ­¥ï¼ŒJVM è¿è¡Œ class æ–‡ä»¶ï¼Œå®ç°è·¨å¹³å°ã€‚è€Œ JVM è™šæ‹Ÿæœºç¬¬ä¸€æ­¥è‚¯å®šæ˜¯ åŠ è½½ class æ–‡ä»¶ï¼Œæ‰€ä»¥ï¼Œç±»åŠ è½½å™¨å®ç°çš„å°±æ˜¯ï¼šâ€”â€”é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–æè¿°æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµï¼ˆæ¥è‡ªã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ï¼‰ ç±»åŠ è½½å™¨æœ‰å‡ ä¸ªé‡è¦çš„ç‰¹æ€§ï¼š æ¯ä¸ªç±»åŠ è½½å™¨éƒ½æœ‰è‡ªå·±çš„é¢„å®šä¹‰çš„æœç´¢èŒƒå›´ï¼Œç”¨æ¥åŠ è½½ class æ–‡ä»¶ï¼› æ¯ä¸ªç±»å’ŒåŠ è½½å®ƒçš„ç±»åŠ è½½å™¨å…±åŒç¡®å®šäº†è¿™ä¸ªç±»çš„å”¯ä¸€æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ª class æ–‡ä»¶è¢«ä¸åŒçš„ç±»åŠ è½½å™¨åŠ è½½åˆ°äº† JVM ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç±»å°±æ˜¯ä¸åŒçš„ç±»ï¼Œè™½ç„¶ä»–ä»¬éƒ½æ¥è‡ªåŒä¸€ä»½ class æ–‡ä»¶ï¼› åŒäº²å§”æ´¾æ¨¡å‹ã€‚ ç±»çš„åŠ è½½è¿‡ç¨‹ï¼š åŠ è½½â€“&gt;é“¾æ¥ï¼ˆéªŒè¯ã€å‡†å¤‡ï¼ˆä¸ºé™æ€é‡å¼€è¾Ÿç©ºé—´å¹¶èµ‹äºˆåˆå§‹å€¼ï¼‰ã€è§£æï¼ˆå°†classä¸­çš„ç¬¦å·å¼•ç”¨è½¬å˜ä¸ºè¿è¡Œæ—¶çš„åœ°å€çš„ç›´æ¥å¼•ç”¨ï¼‰ï¼‰â€“&gt;åˆå§‹åŒ– ä¸ºç±»çš„é™æ€å˜é‡èµ‹å€¼ï¼Œç„¶åæ‰§è¡Œç±»çš„åˆå§‹åŒ–ï¼ˆstaticï¼‰è¯­å¥ åˆå§‹åŒ–çš„è¯¦ç»†è¿‡ç¨‹ï¼š å¦‚æœç±»è¿˜æ²¡æœ‰è¢«åŠ è½½å’Œé“¾æ¥ï¼Œé‚£å°±å…ˆè¿›è¡ŒåŠ è½½å’Œé“¾æ¥ å¦‚æœç±»å­˜åœ¨çˆ¶ç±»ï¼Œå¹¶ä¸”çˆ¶ç±»è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œé‚£å°±å…ˆåˆå§‹åŒ–ç›´æ¥çˆ¶ç±» å¦‚æœç±»ä¸­å­˜åœ¨åˆå§‹åŒ–è¯­å¥ï¼Œé¡ºåºæ‰§è¡Œåˆå§‹åŒ–è¯­å¥ classåˆå§‹åŒ–æ—¶æœº åˆ›å»ºç±»çš„å®ä¾‹ï¼ˆå››ç§æ–¹å¼ï¼‰ è®¿é—®ç±»ä¸­çš„æŸä¸ªé™æ€å˜é‡ï¼Œæˆ–è€…å¯¹é™æ€å˜é‡è¿›è¡Œèµ‹å€¼ ä¸»åŠ¨è°ƒç”¨ç±»çš„é™æ€æ–¹æ³• Class.forNameï¼ˆâ€œåŒ…ç±»å&quot;ï¼‰å®Œæˆå­ç±»çš„åˆå§‹åŒ–ï¼Œä¹Ÿä¼šå®Œæˆå¯¹æœ¬ç±»çš„åˆå§‹åŒ–ï¼ˆæ¥å£ä¾‹å¤–ï¼‰ è¯¥ç±»æ˜¯ç¨‹åºå¼•å¯¼å…¥å£ï¼ˆmianå…¥å£æˆ–è€…testå…¥å£ï¼‰ åŒäº²å§”æ´¾æœºåˆ¶ bootstrapçš„åŠ è½½è¿‡ç¨‹æ˜¯ç”¨cæ¥å®Œæˆçš„ï¼Œåœ¨javaä¸­è¾“å‡ºbootstrapåŠ è½½å™¨ç»“æœä¸ºnull åŠ è½½ç±»çš„è¿‡ç¨‹ï¼š ä¸æ–­å°†åŠ è½½ä»»åŠ¡äº¤ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œæ˜¯ä¸ªé€’å½’çš„è¿‡ç¨‹ã€‚å¦‚æœçˆ¶ç±»èƒ½å¤ŸåŠ è½½ï¼Œé‚£ä¹ˆå°±åŠ è½½ï¼Œå¦‚æœä¸èƒ½åŠ è½½ï¼Œé‚£ä¹ˆå°±äº¤ç»™å­ç±»å»åŠ è½½ã€‚ bootstrapï¼šæä¾›æ ¸å¿ƒç¯å¢ƒ ã€extension classloaderè´Ÿè´£æ‹“å±•å†…å®¹ã€application classloaderè´Ÿè´£ç¨‹åºè¿è¡ŒæœŸé—´è‡ªå·±å†™çš„classå¯¹è±¡ 1234567891011121314151617181920212223242526272829303132333435363738protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException &#123; synchronized (getClassLoadingLock(name)) &#123; // First, check if the class has already been loaded Class&lt;?&gt; c = findLoadedClass(name); if (c == null) &#123; long t0 = System.nanoTime(); try &#123; // è¿™è¾¹æ˜¯é€’å½’çš„è¿‡ç¨‹ï¼Œä¼šå»æ‰¾çˆ¶åŠ è½½å™¨ï¼Œ ç›´è‡³parentä¸ºnullå³ç”¨bootstrapåŠ è½½ if (parent != null) &#123; c = parent.loadClass(name, false); &#125; else &#123; c = findBootstrapClassOrNull(name); &#125; &#125; catch (ClassNotFoundException e) &#123; // ClassNotFoundException thrown if class not found // from the non-null parent class loader &#125; if (c == null) &#123; // If still not found, then invoke findClass in order // to find the class. long t1 = System.nanoTime(); c = findClass(name); // this is the defining class loader; record the stats PerfCounter.getParentDelegationTime().addTime(t1 - t0); PerfCounter.getFindClassTime().addElapsedTimeFrom(t1); PerfCounter.getFindClasses().increment(); &#125; &#125; if (resolve) &#123; resolveClass(c); &#125; return c; &#125; &#125; ä½œç”¨ï¼š é¿å…ç±»çš„é‡å¤åŠ è½½ ä¿æŠ¤ç¨‹åºå®‰å…¨ï¼Œé˜²æ­¢æ ¸å¿ƒçš„JAVAè¯­è¨€ç¯å¢ƒé­å—ç ´å Class.getResourceå’ŒClassLoader.getResourceçš„åŒºåˆ« Class.getResourceå’ŒClassLoader.getResource æœ€ç»ˆè°ƒç”¨çš„æ˜¯ClassLoader ç±»çš„getResourceæ–¹æ³• Class.getResource(String path) pathä¸ä»¥â€™/'å¼€å¤´æ—¶ï¼Œé»˜è®¤æ˜¯ä»æ­¤ç±»æ‰€åœ¨çš„åŒ…ä¸‹å–èµ„æºï¼› path ä»¥â€™/'å¼€å¤´æ—¶ï¼Œåˆ™æ˜¯ä»ClassPathæ ¹ä¸‹è·å–ï¼› Class.getClassLoader().getResource(String path) pathä¸èƒ½ä»¥â€™/'å¼€å¤´æ—¶ï¼› pathæ˜¯ä»ClassPathæ ¹ä¸‹è·å–ï¼› æ­£åˆ™åŒ¹é… å­—ç¬¦ è¯´æ˜ . åŒ¹é…é™¤&quot;\\r\\n&quot;ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è‹¥è¦åŒ¹é…åŒ…æ‹¬&quot;\\r\\n&quot;åœ¨å†…çš„ä»»æ„å­—ç¬¦ï¼Œè¯·ä½¿ç”¨è¯¸å¦‚&quot;[\\s\\S]&quot;ä¹‹ç±»çš„æ¨¡å¼ã€‚ * é›¶æ¬¡æˆ–å¤šæ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œzo* åŒ¹é…&quot;z&quot;å’Œ&quot;zoo&quot;ã€‚* ç­‰æ•ˆäº {0,}ã€‚ + ä¸€æ¬¡æˆ–å¤šæ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œ&quot;zo+&quot;ä¸&quot;zo&quot;å’Œ&quot;zoo&quot;åŒ¹é…ï¼Œä½†ä¸&quot;z&quot;ä¸åŒ¹é…ã€‚+ ç­‰æ•ˆäº {1,}ã€‚ ? é›¶æ¬¡æˆ–ä¸€æ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œ&quot;do(es)?â€œåŒ¹é…&quot;do&quot;æˆ–&quot;does&quot;ä¸­çš„&quot;doâ€ã€‚? ç­‰æ•ˆäº {0,1}ã€‚ æ–¹æ³•è¯´æ˜ï¼š matches ï¼šå°è¯•å°†æ•´ä¸ªåŒºåŸŸä¸æ¨¡å¼åŒ¹é…ã€‚ lookingAtï¼š æ–¹æ³•è™½ç„¶ä¸éœ€è¦æ•´å¥éƒ½åŒ¹é…ï¼Œä½†æ˜¯éœ€è¦ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ã€‚ findï¼š å°è¯•æŸ¥æ‰¾ä¸è¯¥æ¨¡å¼åŒ¹é…çš„è¾“å…¥åºåˆ—çš„ä¸‹ä¸€ä¸ªå­åºåˆ—ã€‚ find(int startï¼‰ï¼šé‡ç½®æ­¤åŒ¹é…å™¨ï¼Œç„¶åå°è¯•æŸ¥æ‰¾åŒ¹é…è¯¥æ¨¡å¼ã€ä»æŒ‡å®šç´¢å¼•å¼€å§‹çš„è¾“å…¥åºåˆ—çš„ä¸‹ä¸€ä¸ªå­åºåˆ—ã€‚ æ›¿æ¢ï¼š replaceFirst æ›¿æ¢é¦–æ¬¡åŒ¹é…ï¼ŒreplaceAll æ›¿æ¢æ‰€æœ‰åŒ¹é…ã€‚ â–²å¼ºè°ƒ: ä½¿ç”¨group()ä¹‹å‰ä¸€å®šå¾—æŒ‡å®šä¸ªä»¥ä¸Šçš„åŒ¹é…æ–¹æ³• åŒ¹é…æ¨¡å¼ï¼š 123456Pattern compile = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);/** private static final int ALL_FLAGS = CASE_INSENSITIVE | MULTILINE | DOTALL | UNICODE_CASE | CANON_EQ | UNIX_LINES | LITERAL | UNICODE_CHARACTER_CLASS | COMMENTS;*/ Javaæ³›å‹ä½“ç³» é€šé…ç¬¦ ä¸Šè¾¹ç•Œextendsã€ä¸‹è¾¹ç•Œsuper ä¸ºä»€ä¹ˆé™åˆ¶å‚æ•°çš„èŒƒå›´ ä¸ºäº†é™åˆ¶å‚æ•°çš„å†™å…¥æˆ–è€…å†™å‡ºæƒé™ ? extends Tä»£è¡¨çš„æ˜¯æ³›å‹å¯ä»¥ä¼ å…¥Tå’ŒTçš„å­ç±»çš„ç±»å‹ä¸Šè¾¹ç•Œ ï¼Ÿsuper Tä»£è¡¨çš„æ˜¯ä¼ å…¥çš„å¿…é¡»æ˜¯Tå’ŒTçš„çˆ¶ç±»ç±»å‹ä¸‹è¾¹ç•Œ Q:ä»€ä¹ˆæ—¶å€™ç”¨ä¸Šè¾¹ç•Œä»€ä¹ˆæ—¶å€™ç”¨ä¸‹è¾¹ç•Œï¼Ÿâ€”â€”ä¼šä½¿å®¹å™¨æ€§è´¨æ”¹å˜ ä¸Šè¾¹ç•Œ: åœ¨è¯»å–Tè¿™ä¸ªç±»å‹æ•°æ®çš„æ—¶å€™ï¼Œä½†ä¸å†™å…¥æ•°æ®çš„æ—¶å€™ä½¿ç”¨ä¸Šè¾¹ç•Œâ€”â€”å¯ä»¥çœ‹çˆ¶äº²åšçš„äº‹ï¼Œ ä½†ä¸èƒ½æ”¹å˜ ä¸‹è¾¹ç•Œ: éœ€è¦å†™å…¥Tè¿™ä¸ªç±»å‹æ•°æ®çš„æ—¶å€™ï¼Œä½†ä¸è·å–çš„æ—¶å€™ä½¿ç”¨ä¸‹è¾¹ç•Œâ€”â€”å·²ç»æ˜¯åœ¨æ•™å„¿å­å†™æ•°æ®äº†ï¼Œä»–ä¹Ÿä¸çŸ¥é“æœªæ¥ä¼šæ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚ å¦‚æœæ—¢è¦è¯»åˆè¦å†™ï¼Œåˆ™ä¸è¦ä½¿ç”¨é€šé…ç¬¦äº†ï¼Œ ç›´æ¥ä¼ çˆ¶ç±»ã€‚ è¯·è®°ä½PECSåŸåˆ™ï¼šç”Ÿäº§è€…ï¼ˆProducerï¼‰ä½¿ç”¨extendsï¼Œæ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ä½¿ç”¨superï¼›å¦‚æœä¸€ä¸ªåˆ—è¡¨å³è¦ç”Ÿäº§ï¼Œåˆè¦æ¶ˆè´¹ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨æ³›å‹é€šé…ç¬¦å£°æ˜åˆ—è¡¨ï¼Œæ¯”å¦‚List&lt;Integer&gt;ã€‚ https://www.cnblogs.com/cangqinglang/p/11626410.html MessageFormat åœ¨Pythonä¸­formatä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œè€ŒJavaä¸­å¾—ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥æˆ–è€…å ä½ç¬¦éƒ½æ¯”è¾ƒéº»çƒ¦ï¼Œè€Œä¸”ç‰¹åˆ«æ˜¯é’ˆå¯¹å ä½å­—ç¬¦ä¸²çš„é—®é¢˜æ›´æ˜¯æ²¡æœ‰å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤æ‰¾äº†æ‰¾Javaä¸­ç±»ä¼¼çš„åŠŸèƒ½ï¼šä¸€ä¸ªæ˜¯String.formatå¦ä¸€ä¸ªæ˜¯MessageFormatï¼Œæ®äº†è§£MessageFormatæ€§èƒ½é«˜äºString.formatï¼Œå› æ­¤ç›´æ¥å­¦MessageFormatä½¿ç”¨ã€‚ å‡½æ•°åŸå‹ä¸ºï¼šMessageFormat.format(String pattern, Object ... arguments) MessageFormatæ¨¡å¼ï¼ŒæŒ‡èŠ±æ‹¬å·å†…å¯å¡«å†™é¡¹ 123456789101112131415161718192021222324FormatElement: &#123; ArgumentIndex &#125;ï¼šæ˜¯ä»0å¼€å§‹çš„å…¥å‚ä½ç½®ç´¢å¼•ã€‚ &#123; ArgumentIndex , FormatType &#125; &#123; ArgumentIndex , FormatType , FormatStyle &#125; FormatType: ï¼šæŒ‡å®šä½¿ç”¨ä¸åŒçš„Formatå­ç±»å¯¹å…¥å‚è¿›è¡Œæ ¼å¼åŒ–å¤„ç†ã€‚å€¼èŒƒå›´å¦‚ä¸‹ï¼š numberï¼šè°ƒç”¨NumberFormatè¿›è¡Œæ ¼å¼åŒ– dateï¼šè°ƒç”¨DateFormatè¿›è¡Œæ ¼å¼åŒ– timeï¼šè°ƒç”¨DateFormatè¿›è¡Œæ ¼å¼åŒ– choiceï¼šè°ƒç”¨ChoiceFormatè¿›è¡Œæ ¼å¼åŒ– FormatStyle:ï¼šè®¾ç½®FormatTypeä¸­ä½¿ç”¨çš„æ ¼å¼åŒ–æ ·å¼ã€‚å€¼èŒƒå›´å¦‚ä¸‹ï¼š short medium long full integer currency percent SubformatPattern (å­æ ¼å¼æ¨¡å¼ï¼Œå½¢å¦‚#.##) å­æ¨¡å¼ï¼šString value = MessageFormat.format(&quot;oh, &#123;0,number,#.#&#125; is good num&quot;, Double.valueOf(&quot;3.1415&quot;));System.out.println(value); // è¾“å‡ºï¼šoh, 3.1 is good num ArgumentIndexå¿…é¡»æ˜¯éè´Ÿæ•´æ•°ï¼Œå®ƒçš„ä¸ªæ•°ä¸åªé™äº0åˆ°9è¿™10ä¸ªï¼Œå®ƒå¯ä»¥ç”¨0åˆ°9çš„æ•°å­—ç»„æˆï¼Œå› æ­¤å¯ä»¥æœ‰å¥½å¤šä¸ªï¼Œå¦‚ï¼š æ ¼å¼åŒ–å­—ç¬¦ä¸²æ—¶ï¼Œä¸¤ä¸ªå•å¼•å·æ‰è¡¨ç¤ºä¸€ä¸ªå•å¼•å·ï¼Œå•ä¸ªå•å¼•å·ä¼šè¢«çœç•¥ï¼Œé™¤éä¸­æ–‡å•å¼•å·ä¸ä¼šè¢«çœç•¥ã€‚å¦‚æœéœ€è¦æ˜¾ç¤ºåŒå¼•å·è¦è¿›è¡Œè½¬ä¹‰ï¼Œæ¯”å¦‚ï¼šString msg = â€œoh, {0} is \\â€a\\â€ pigâ€; å•å¼•å·ä¼šä½¿å…¶åé¢çš„å ä½ç¬¦å‡å¤±æ•ˆï¼Œå¯¼è‡´ç›´æ¥è¾“å‡ºå ä½ç¬¦ã€‚ï¼ˆé‡‡å‘ï¼‰ èŠ±æ‹¬å·çš„è¾“å‡º: MessageFormat.format(&quot;oh, '{', }},''{0}'' is a pig&quot;, &quot;ZhangSan&quot;);ï¼Œæ³¨ï¼šå³æ‹¬å·å¯ä»¥é€šè¿‡ä¸¤ä¸ª}}or'}'å¾—åˆ°ï¼Œä½†æ˜¯å·¦æ‹¬å·ä¸è¡Œï¼Œåªèƒ½é€šè¿‡'{}'å¾—åˆ° å› æ­¤å¯¹äºç®€å•çš„æ ¼å¼åŒ–æˆ–å­—ç¬¦ä¸²ç»„è£…ï¼Œä»¥åŠè‹¥è¦å¤šæ¬¡æ ¼å¼åŒä¸€ä¸ªæ¨¡å¼çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆåˆ›å»ºä¸€ä¸ªMessageFormatå®ä¾‹åœ¨æ‰§è¡Œæ ¼å¼åŒ–æ“ä½œæ¯”è¾ƒå¥½äº›ã€‚ä½†è¦æ ¼å¼åŒ–å¤„ç†æ›´ä¸°å¯Œçš„è¯è¦æ˜¯ç”¨ String.formatæ–¹æ³•. 1System.out.println(MessageFormat.format(&quot;&#123;0&#125;è¾“å‡ºç»“æœ&#123;1&#125;&quot;, traceLocation, aBoolean)); å‚è€ƒï¼šhttps://blog.csdn.net/GarfieldEr007/article/details/89397843 é™„å½• Q:java å®šä¹‰longå’Œfloatä¸ºä»€ä¹ˆè¦åŠ Lå’ŒFï¼Ÿ A:æ•´å½¢é»˜è®¤å€¼ä¸ºintï¼Œå¦‚æœå®šä¹‰long å¿…é¡»è¦åŠ Læ¥åŒºåˆ†ï¼Œæµ®ç‚¹å‹é»˜è®¤å€¼ä¸ºdoubleåŒç²¾åº¦ï¼Œå®šä¹‰å•ç²¾åº¦floatè¦åŠ Fæ¥åŒºåˆ†ã€‚ Javaä¸­@SuppressWarningsçš„ä½œç”¨ A:ä½œç”¨ï¼šå‘Šè¯‰ç¼–è¯‘å™¨å¿½ç•¥æŒ‡å®šçš„è­¦å‘Šï¼Œä¸ç”¨åœ¨ç¼–è¯‘å®Œæˆåå‡ºç°è­¦å‘Šä¿¡æ¯ã€‚å¦‚@SuppressWarnings(&quot;unchecked&quot;, &quot;deprecation&quot;)ç­‰åŒäº@SuppressWarnings(â€œuncheckedâ€, â€œdeprecationâ€) è¾“å‡ºå˜é‡ç±»å‹â€”â€”Pythonä¸­typeå…³é”®å­— 1234public static String getType(Object o)&#123; //é€šè¿‡åå°„æ¥è·å–å˜é‡ç±»å‹æ–¹æ³• return o.getClass().toString(); //ä½¿ç”¨intç±»å‹çš„getClass()æ–¹æ³• // return o.getClass().getName(); //ä½¿ç”¨intç±»å‹çš„getClass()æ–¹æ³•&#125; â–². åŸºæœ¬æ•°æ®ç±»å‹æ— æ•ˆï¼Œ å¦‚intï¼Œ ä½†å¯ä»¥æŸ¥çœ‹åŒ…è£…æ•°æ®ç±»å‹ã€‚ JDBCé“¾æ¥MYSQL Mavençš„pom.xmlä¸­çš„é…ç½® 12345678910111213141516171819202122&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;org.example&lt;/groupId&gt; &lt;artifactId&gt;top.nymrli.jdbc&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;!-- å¼•å…¥mysqlé©±åŠ¨jaråŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.25&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; javaæ–‡ä»¶å†…å®¹ 123456789101112131415161718192021222324252627282930313233public class JDBCTest &#123; public static void main(String[] args) throws Exception&#123; // 1.åŠ è½½é©±åŠ¨ç¨‹åºï¼Œ è¿™ä¸ªåŒ…åæ˜¯å›ºå®šçš„ Class.forName(\"com.mysql.jdbc.Driver\"); // 2.åˆ›å»ºè¿æ¥ String url=\"jdbc:mysql://localhost:3306/fortest?useSSL=false&amp;serverTimezone=UTC\"; String username=\"root\"; String userpwd=\"cl123123\"; Connection conn = DriverManager.getConnection(url,username,userpwd); // 3.å®šä¹‰SQLè¯­å¥ String table = \"stu\";// String sql = String.format(\"SELECT * FROM %s;\", table); String sql = String.format(\"UPDATE %s set age = 50 where name = 'cl';\", table); // 4. è·å–æ‰§è¡Œsqlçš„å¯¹è±¡ Statement stat = conn.createStatement(); // 5.æ‰§è¡ŒSQLè¯­å¥// ResultSet resultSet = stat.executeQuery(sql); int res = stat.executeUpdate(sql);// System.out.println(resultSet); // 6. æŸ¥çœ‹æ‰§è¡Œç»“æœ System.out.println(res); // 7.é‡Šæ”¾èµ„æº stat.close(); conn.close(); &#125;&#125; DriverManagerï¼šé©±åŠ¨ç®¡ç†å¯¹è±¡ Connectionï¼šæ•°æ®åº“è¿æ¥å¯¹è±¡ statementï¼šæ‰§è¡Œsqlçš„å¯¹è±¡ Resultsetï¼šç»“æœé›†å¯¹è±¡ Preparedstatementï¼šæ‰§è¡Œsq1çš„å¯¹è±¡roper SQLæ“ä½œ åˆ†é¡µæ“ä½œ è¯­æ³•ï¼šlimitå¼€å§‹ç´¢å¼•ï¼Œæ¯é¡µæŸ¥è¯¢çš„è®°å½•æ•° æ³¨ï¼šç´¢å¼•ä»0å¼€å§‹ å…¬å¼ï¼šå¼€å§‹ç´¢å¼•=ï¼ˆå½“å‰é¡µç -1ï¼‰*æ¯é¡µæŸ¥è¯¢çš„è®°å½•æ•°å³ index = (nowPageNum - 1) * pageSize æ’å…¥è¯­å¥ï¼š insert into `train`.`student` (`name`, `age`) values (&quot;gb&quot;, 19); â–²æ³¨æ„è¿™è¾¹æ˜¯`train`.`student`ï¼Œå¦‚æœå†™æˆ`train.student`æ˜¯ä¼šæ‰¾ä¸åˆ°è¡¨çš„ try-catch-finallyä¸­return tryä¸­æ²¡æœ‰å¼‚å¸¸ï¼Œåˆ™é¡ºåºä¸ºtryâ†’finallyï¼Œå¦‚æœtryä¸­æœ‰å¼‚å¸¸ï¼Œåˆ™é¡ºåºä¸ºtryâ†’catchâ†’finallyã€‚ä½†æ˜¯å½“tryã€catchã€finallyä¸­åŠ å…¥returnä¹‹åï¼Œé‚£ä¹ˆreturnä¼šå˜æˆä»€ä¹ˆæ ·å‘¢ã€‚ 123456789101112131415161718192021public int newT()&#123; try&#123; System.out.println(\"yes\"); return 1; &#125;catch (Exception e)&#123; System.out.println(\"error\"); &#125;finally &#123; // å°±ç®—åœ¨tryä¸­æ‰§è¡Œäº†return 1ï¼Œè¿™è¾¹çš„finallyä¹Ÿä¼šæ‰§è¡Œï¼Œhhæœ€ç»ˆä¼šè¢«è¾“å‡º System.out.println(\"hh\"); &#125; return 2;&#125;// å½“å†™catchçš„æ—¶å€™ï¼Œæœ€åéœ€è¦å†™return è¯­å¥ï¼Œå¦‚æœæ²¡æœ‰catchåˆ™ä¸éœ€è¦==&gt;æ‰§è¡Œä¸åˆ°public int newT()&#123; try&#123; System.out.println(\"yes\"); return 1; &#125; finally &#123; System.out.println(\"hh\"); &#125;&#125; æ€»ç»“ï¼š 1ã€finallyä¸­çš„ä»£ç æ€»ä¼šè¢«æ‰§è¡Œã€‚ 2ã€å½“tryã€catchä¸­æœ‰returnæ—¶ï¼Œä¹Ÿä¼šæ‰§è¡Œfinallyã€‚returnçš„æ—¶å€™ï¼Œè¦æ³¨æ„è¿”å›å€¼çš„ç±»å‹ï¼Œæ˜¯å¦å—åˆ°finallyä¸­ä»£ç çš„å½±å“ã€‚ 3ã€finallyä¸­æœ‰returnæ—¶ï¼Œä¼šç›´æ¥åœ¨finallyä¸­é€€å‡ºï¼Œå¯¼è‡´tryã€catchä¸­çš„returnå¤±æ•ˆã€‚==&gt;æœ€å¥½ä¸è¦åœ¨finallyä¸­ä½¿ç”¨returnâ€”â€”IDEAä¸­ä¼šæŠ¥è¯·ä¸è¦åœ¨finallyä¸­ä½¿ç”¨return åŠ¨æ€ä»£ç† Q:é¦–å…ˆå¾—çŸ¥é“ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ A:ä»£ç†æ¨¡å¼æ˜¯Javaå¸¸è§çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚æ‰€è°“ä»£ç†æ¨¡å¼æ˜¯æŒ‡å®¢æˆ·ç«¯å¹¶ä¸ç›´æ¥è°ƒç”¨å®é™…çš„å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡è°ƒç”¨ä»£ç†ï¼Œæ¥é—´æ¥çš„è°ƒç”¨å®é™…çš„å¯¹è±¡ã€‚ ä¸ºä»€ä¹ˆè¦é‡‡ç”¨è¿™ç§é—´æ¥çš„å½¢å¼æ¥è°ƒç”¨å¯¹è±¡å‘¢ï¼Ÿä¸€èˆ¬æ˜¯å› ä¸ºå®¢æˆ·ç«¯ä¸æƒ³ç›´æ¥è®¿é—®å®é™…çš„å¯¹è±¡ï¼Œæˆ–è€…è®¿é—®å®é™…çš„å¯¹è±¡å­˜åœ¨å›°éš¾ï¼Œå› æ­¤é€šè¿‡ä¸€ä¸ªä»£ç†å¯¹è±¡æ¥å®Œæˆé—´æ¥çš„è®¿é—®ã€‚ åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œè¿™ç§æƒ…å½¢éå¸¸çš„å¸¸è§ï¼Œæ¯”å¦‚è¯·ä¸€ä¸ªå¾‹å¸ˆä»£ç†æ¥æ‰“å®˜å¸ã€‚ ä»£ç†æ¨¡å¼ ä»£ç†æ¨¡å¼çš„ä¸»è¦è§’è‰²å¦‚ä¸‹ã€‚ æŠ½è±¡ä¸»é¢˜ï¼ˆSubjectï¼‰ç±»ï¼šé€šè¿‡æ¥å£æˆ–æŠ½è±¡ç±»å£°æ˜çœŸå®ä¸»é¢˜å’Œä»£ç†å¯¹è±¡å®ç°çš„ä¸šåŠ¡æ–¹æ³•ã€‚ çœŸå®ä¸»é¢˜ï¼ˆReal Subjectï¼‰ç±»ï¼šå®ç°äº†æŠ½è±¡ä¸»é¢˜ä¸­çš„å…·ä½“ä¸šåŠ¡ï¼Œæ˜¯ä»£ç†å¯¹è±¡æ‰€ä»£è¡¨çš„çœŸå®å¯¹è±¡ï¼Œæ˜¯æœ€ç»ˆè¦å¼•ç”¨çš„å¯¹è±¡ã€‚ ä»£ç†ï¼ˆProxyï¼‰ç±»ï¼šæä¾›äº†ä¸çœŸå®ä¸»é¢˜ç›¸åŒçš„æ¥å£ï¼Œå…¶å†…éƒ¨å«æœ‰å¯¹çœŸå®ä¸»é¢˜çš„å¼•ç”¨ï¼Œå®ƒå¯ä»¥è®¿é—®ã€æ§åˆ¶æˆ–æ‰©å±•çœŸå®ä¸»é¢˜çš„åŠŸèƒ½ã€‚ &lt;----å¤–éƒ¨æ¥å£ä¸»è¦è°ƒç”¨å¯¹è±¡ ä»UMLå›¾ä¸­ï¼Œå¯ä»¥çœ‹å‡ºä»£ç†ç±»ä¸çœŸæ­£å®ç°çš„ç±»éƒ½æ˜¯ç»§æ‰¿äº†æŠ½è±¡çš„ä¸»é¢˜ç±»ï¼Œè¿™æ ·çš„å¥½å¤„åœ¨äºä»£ç†ç±»å¯ä»¥ä¸å®é™…çš„ç±»æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œå¯ä»¥ä¿è¯å®¢æˆ·ç«¯ä½¿ç”¨çš„é€æ˜æ€§ã€‚ ä»£ç†æ¨¡å¼å®ç°ä¸‰è¦ç´  æœ‰æ¥å£å®šä¹‰ ç›®æ ‡å¯¹è±¡ä¸ä»£ç†å¯¹è±¡å¿…é¡»å®ç°ç»Ÿä¸€æ¥å£ ä»£ç†å¯¹è±¡æŒæœ‰ç›®æ ‡å¯¹è±¡çš„å¼•ç”¨å¢å¼ºç›®æ ‡å¯¹è±¡è¡Œä¸º é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç† ä»£ç†æ¨¡å¼å¯ä»¥æœ‰ä¸¤ç§å®ç°çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯é™æ€ä»£ç†ç±»ï¼Œå¦ä¸€ç§æ˜¯å„å¤§æ¡†æ¶éƒ½å–œæ¬¢çš„åŠ¨æ€ä»£ç†ã€‚ é™æ€ä»£ç† é™æ€ä»£ç†æ¨¡å¼çš„ç‰¹ç‚¹ï¼Œä»£ç†ç±»æ¥å—ä¸€ä¸ªå®ç°äº†Subjectæ¥å£çš„å¯¹è±¡ï¼Œç”±äºä»»ä½•å®ç°è¯¥æ¥å£çš„å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡ä»£ç†ç±»è¿›è¡Œä»£ç†ï¼Œä»è€Œå¢åŠ äº†é€šç”¨æ€§ã€‚ä½†æ˜¯ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œæ¯ä¸€ä¸ªä»£ç†ç±»éƒ½å¿…é¡»å®ç°ä¸€éå§”æ‰˜ç±»ï¼ˆä¹Ÿå°±æ˜¯real subjectï¼‰çš„æ¥å£ï¼Œå¦‚æœæ¥å£å¢åŠ æ–¹æ³•ï¼Œåˆ™ä»£ç†ç±»ä¹Ÿå¿…é¡»è·Ÿç€ä¿®æ”¹ã€‚å…¶æ¬¡ï¼Œä»£ç†ç±»æ¯ä¸€ä¸ªæ¥å£å¯¹è±¡å¯¹åº”ä¸€ä¸ªå§”æ‰˜å¯¹è±¡ï¼Œå¦‚æœå§”æ‰˜å¯¹è±¡éå¸¸å¤šï¼Œåˆ™é™æ€ä»£ç†ç±»å°±éå¸¸è‡ƒè‚¿ï¼Œéš¾ä»¥èƒœä»»ã€‚ 12345678910111213141516171819202122232425262728293031interface Person&#123; void say();&#125;class CommonPerson implements Person&#123; @Override public void say() &#123; System.out.println(\"I am just a normal person\"); &#125;&#125;class Lawyer implements Person&#123; private Person commonPerson; Lawyer(Person p)&#123; commonPerson = p; &#125; @Override public void say() &#123; System.out.println(\"I am Lawyer\"); commonPerson.say(); System.out.println(\"end\"); &#125;&#125;class Speaker&#123; public static void main(String[] args) &#123; Lawyer lawyer = new Lawyer(new CommonPerson()); lawyer.say(); &#125;&#125; é™æ€ä»£ç†çš„ç¼ºç‚¹ è™½ç„¶é™æ€ä»£ç†å®ç°ç®€å•ï¼Œä¸”ä¸ä¾µå…¥åŸä»£ç ï¼Œä½†æ˜¯ï¼Œå½“åœºæ™¯ç¨å¾®å¤æ‚ä¸€äº›çš„æ—¶å€™ï¼Œé™æ€ä»£ç†çš„ç¼ºç‚¹ä¹Ÿä¼šæš´éœ²å‡ºæ¥ï¼ˆéœ€è¦å®ç°Subjectä¸»é¢˜æ¥å£çš„ç¼ºç‚¹ï¼‰ã€‚ 1ã€ å½“éœ€è¦ä»£ç†å¤šä¸ªç±»çš„æ—¶å€™ï¼Œç”±äºä»£ç†å¯¹è±¡è¦å®ç°ä¸ç›®æ ‡å¯¹è±¡ä¸€è‡´çš„æ¥å£ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š åªç»´æŠ¤ä¸€ä¸ªä»£ç†ç±»ï¼Œç”±è¿™ä¸ªä»£ç†ç±»å®ç°å¤šä¸ªæ¥å£ï¼Œä½†æ˜¯è¿™æ ·å°±å¯¼è‡´ä»£ç†ç±»è¿‡äºåºå¤§ æ–°å»ºå¤šä¸ªä»£ç†ç±»ï¼Œæ¯ä¸ªç›®æ ‡å¯¹è±¡å¯¹åº”ä¸€ä¸ªä»£ç†ç±»ï¼Œä½†æ˜¯è¿™æ ·ä¼šäº§ç”Ÿè¿‡å¤šçš„ä»£ç†ç±» 2ã€ å½“æ¥å£éœ€è¦å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹æ–¹æ³•çš„æ—¶å€™ï¼Œç›®æ ‡å¯¹è±¡ä¸ä»£ç†ç±»éƒ½è¦åŒæ—¶ä¿®æ”¹ï¼Œä¸æ˜“ç»´æŠ¤ã€‚ åŠ¨æ€ä»£ç† åŠ¨æ€ä»£ç†æœ‰åˆ«äºé™æ€ä»£ç†ï¼Œæ˜¯æ ¹æ®ä»£ç†çš„å¯¹è±¡ï¼ŒåŠ¨æ€åˆ›å»ºä»£ç†ç±»ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥é¿å…é™æ€ä»£ç†ä¸­ä»£ç†ç±»æ¥å£è¿‡å¤šçš„é—®é¢˜ã€‚åŠ¨æ€ä»£ç†æ˜¯å®ç°æ–¹å¼ï¼Œæ˜¯é€šè¿‡åå°„æ¥å®ç°çš„ï¼Œ1. å¯ä»¥å€ŸåŠ©Javaè‡ªå¸¦çš„java.lang.reflect.Proxy,é€šè¿‡å›ºå®šçš„è§„åˆ™ç”Ÿæˆã€‚ 2. é€šè¿‡CGLliåº“æ¥å®ç° ä¸ºä»€ä¹ˆç±»å¯ä»¥åŠ¨æ€çš„ç”Ÿæˆï¼Ÿ è¿™å°±æ¶‰åŠåˆ°Javaè™šæ‹Ÿæœºçš„ç±»åŠ è½½æœºåˆ¶äº†ï¼Œæ¨èç¿»çœ‹ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹7.3èŠ‚ ç±»åŠ è½½çš„è¿‡ç¨‹ã€‚ Javaè™šæ‹Ÿæœºç±»åŠ è½½è¿‡ç¨‹ä¸»è¦åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼šåŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æã€åˆå§‹åŒ–ã€‚å…¶ä¸­åŠ è½½é˜¶æ®µéœ€è¦å®Œæˆä»¥ä¸‹3ä»¶äº‹æƒ…ï¼š é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java.lang.Class å¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®è®¿é—®å…¥å£ ç”±äºè™šæ‹Ÿæœºè§„èŒƒå¯¹è¿™3ç‚¹è¦æ±‚å¹¶ä¸å…·ä½“ï¼Œæ‰€ä»¥å®é™…çš„å®ç°æ˜¯éå¸¸çµæ´»çš„ï¼Œå…³äºç¬¬1ç‚¹ï¼Œè·å–ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµï¼ˆclasså­—èŠ‚ç ï¼‰å°±æœ‰å¾ˆå¤šé€”å¾„ï¼š ä»ZIPåŒ…è·å–ï¼Œè¿™æ˜¯JARã€EARã€WARç­‰æ ¼å¼çš„åŸºç¡€ ä»ç½‘ç»œä¸­è·å–ï¼Œå…¸å‹çš„åº”ç”¨æ˜¯ Applet è¿è¡Œæ—¶è®¡ç®—ç”Ÿæˆï¼Œè¿™ç§åœºæ™¯ä½¿ç”¨æœ€å¤šçš„æ˜¯åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œåœ¨ java.lang.reflect.Proxy ç±»ä¸­ï¼Œå°±æ˜¯ç”¨äº† ProxyGenerator.generateProxyClass æ¥ä¸ºç‰¹å®šæ¥å£ç”Ÿæˆå½¢å¼ä¸º *$Proxy çš„ä»£ç†ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ ç”±å…¶å®ƒæ–‡ä»¶ç”Ÿæˆï¼Œå…¸å‹åº”ç”¨æ˜¯JSPï¼Œå³ç”±JSPæ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„Classç±» ä»æ•°æ®åº“ä¸­è·å–ç­‰ç­‰ æ‰€ä»¥ï¼ŒåŠ¨æ€ä»£ç†å°±æ˜¯æƒ³åŠæ³•ï¼Œæ ¹æ®æ¥å£æˆ–ç›®æ ‡å¯¹è±¡ï¼Œè®¡ç®—å‡ºä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œç„¶åå†åŠ è½½åˆ°JVMä¸­ä½¿ç”¨ã€‚ä½†æ˜¯å¦‚ä½•è®¡ç®—ï¼Ÿå¦‚ä½•ç”Ÿæˆï¼Ÿæƒ…å†µä¹Ÿè®¸æ¯”æƒ³è±¡çš„å¤æ‚å¾—å¤šï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©ç°æœ‰çš„æ–¹æ¡ˆã€‚ å¸¸è§çš„å­—èŠ‚ç æ“ä½œç±»åº“ è¿™é‡Œæœ‰ä¸€äº›ä»‹ç»ï¼šjava-source.net/open-sourceâ€¦ Apache BCEL (Byte Code Engineering Library)ï¼šæ˜¯Java classworkingå¹¿æ³›ä½¿ç”¨çš„ä¸€ç§æ¡†æ¶ï¼Œå®ƒå¯ä»¥æ·±å…¥åˆ°JVMæ±‡ç¼–è¯­è¨€è¿›è¡Œç±»æ“ä½œçš„ç»†èŠ‚ã€‚ ObjectWeb ASMï¼šæ˜¯ä¸€ä¸ªJavaå­—èŠ‚ç æ“ä½œæ¡†æ¶ã€‚å®ƒå¯ä»¥ç”¨äºç›´æ¥ä»¥äºŒè¿›åˆ¶å½¢å¼åŠ¨æ€ç”Ÿæˆstubæ ¹ç±»æˆ–å…¶ä»–ä»£ç†ç±»ï¼Œæˆ–è€…åœ¨åŠ è½½æ—¶åŠ¨æ€ä¿®æ”¹ç±»ã€‚ CGLIB(Code Generation Library)ï¼šæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ï¼Œé«˜æ€§èƒ½å’Œé«˜è´¨é‡çš„ä»£ç ç”Ÿæˆåº“ï¼Œç”¨äºæ‰©å±•JAVAç±»å¹¶åœ¨è¿è¡Œæ—¶å®ç°æ¥å£ã€‚ Javassistï¼šæ˜¯Javaçš„åŠ è½½æ—¶åå°„ç³»ç»Ÿï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºåœ¨Javaä¸­ç¼–è¾‘å­—èŠ‚ç çš„ç±»åº“; å®ƒä½¿Javaç¨‹åºèƒ½å¤Ÿåœ¨è¿è¡Œæ—¶å®šä¹‰æ–°ç±»ï¼Œå¹¶åœ¨JVMåŠ è½½ä¹‹å‰ä¿®æ”¹ç±»æ–‡ä»¶ã€‚ å®ç°åŠ¨æ€ä»£ç†çš„æ€è€ƒæ–¹å‘ ä¸ºäº†è®©ç”Ÿæˆçš„ä»£ç†ç±»ä¸ç›®æ ‡å¯¹è±¡ï¼ˆçœŸå®ä¸»é¢˜è§’è‰²ï¼‰ä¿æŒä¸€è‡´æ€§ï¼Œä»ç°åœ¨å¼€å§‹å°†ä»‹ç»ä»¥ä¸‹ä¸¤ç§æœ€å¸¸è§çš„æ–¹å¼ï¼š é€šè¿‡å®ç°æ¥å£çš„æ–¹å¼ -&gt; JDKåŠ¨æ€ä»£ç† é€šè¿‡ç»§æ‰¿ç±»çš„æ–¹å¼ -&gt; CGLIBåŠ¨æ€ä»£ç† æ³¨ï¼šä½¿ç”¨ASMå¯¹ä½¿ç”¨è€…è¦æ±‚æ¯”è¾ƒé«˜ï¼Œä½¿ç”¨Javassistä¼šæ¯”è¾ƒéº»çƒ¦ã€‚ JDKåŠ¨æ€ä»£ç† JDKæä¾›çš„åŠ¨æ€ä»£ç†å®ç°æ­¥éª¤å¦‚ä¸‹ï¼š ç¼–å†™ä¸€ä¸ªå§”æ‰˜ç±»çš„æ¥å£ï¼Œå³é™æ€ä»£ç†çš„ï¼ˆSubjectæ¥å£ï¼‰ å®ç°ä¸€ä¸ªçœŸæ­£çš„å§”æ‰˜ç±»ï¼Œå³é™æ€ä»£ç†çš„ï¼ˆRealSubjectç±»ï¼‰ åˆ›å»ºä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»ï¼Œå®ç°InvocationHandleræ¥å£ï¼Œå¹¶é‡å†™è¯¥invokeæ–¹æ³• åœ¨æµ‹è¯•ç±»ä¸­ï¼Œç”ŸæˆåŠ¨æ€ä»£ç†çš„å¯¹è±¡ã€‚ 1234567891011121314151617181920212223242526272829303132333435interface Subject &#123; void say();&#125;class RealSubject implements Subject &#123; @Override public void say() &#123; System.out.println(\"I am just a normal person\"); &#125;&#125;class DynasticProxy implements InvocationHandler &#123; private Object o; public DynasticProxy(Object o) &#123; this.o = o; &#125; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; Object invoke = method.invoke(o, args); return invoke; &#125;&#125;public class Dynastic &#123; public static void main(String[] args) &#123; DynasticProxy dynastic_proxy = new DynasticProxy(new RealSubject()); Subject p =(Subject)Proxy.newProxyInstance(Dynastic.class.getClassLoader(), new Class[]&#123; Subject.class &#125;, dynastic_proxy); p.say(); &#125;&#125; åˆ›å»ºåŠ¨æ€ä»£ç†çš„å¯¹è±¡ï¼Œéœ€è¦å€ŸåŠ©Proxy.newProxyInstanceã€‚è¯¥æ–¹æ³•çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ï¼š ClassLoader loaderè¡¨ç¤ºå½“å‰ä½¿ç”¨åˆ°çš„appClassloaderã€‚ Class&lt;?&gt;[] interfacesè¡¨ç¤ºç›®æ ‡å¯¹è±¡å®ç°çš„ä¸€ç»„æ¥å£ã€‚ InvocationHandler hè¡¨ç¤ºå½“å‰çš„InvocationHandlerå®ç°å®ä¾‹å¯¹è±¡ã€‚ æ­¤å¤–ï¼Œ ä½¿ç”¨JDKå®ç°çš„ä»£ç†ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šProxy.newProxyInstanceçš„å‚æ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯å§”æ‰˜ç±»çš„æ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œâ–²å¦‚æœä½¿ç”¨JDKå®ç°åŠ¨æ€ä»£ç†ï¼Œåˆ™å¿…é¡»æœ‰å§”æ‰˜æ¥å£ï¼ˆæœ¬ä½“å¿…é¡»å®ç°æ¥å£ï¼‰ï¼Œè€Œæ— æ³•é’ˆå¯¹æ²¡æœ‰æ¥å£çš„ç±»ã€‚å¯¹æ­¤æƒ…å†µï¼ŒCGlibå¯ä»¥è§£å†³ï¼ˆæ˜¯JDKä»£ç†çš„è¡¥å……ï¼Œä¸è¦æ±‚æœ¬ä½“å®ç°æ¥å£ï¼‰ CGLibåŠ¨æ€ä»£ç† ä»€ä¹ˆæ˜¯CGLib CGLibæ˜¯ä¸€ä¸ªå¼ºå¤§çš„ã€é«˜æ€§èƒ½çš„ä»£ç ç”Ÿæˆåº“ï¼Œå®ƒå¯ä»¥åœ¨è¿è¡ŒæœŸæ‰©å±•Javaç±»ä¸å®ç°Javaæ¥å£ã€‚Hibernateæ”¯æŒå®ƒæ¥å®ç°PO(Persistent Object æŒä¹…åŒ–å¯¹è±¡)å­—èŠ‚ç çš„åŠ¨æ€ç”Ÿæˆã€‚å…¶è¢«å¹¿æ³›åº”ç”¨äºAOPæ¡†æ¶ï¼ˆSpringã€dynaopï¼‰ä¸­ï¼Œç”¨ä»¥æä¾›æ–¹æ³•æ‹¦æˆªæ“ä½œã€‚ä¾‹å¦‚Spring AOPå°±æ˜¯ä»–ä»¬æä¾›æ–¹æ³•çš„interceptionï¼ˆæ‹¦æˆªï¼‰ã€‚ å®ç°æ­¥éª¤å¦‚ä¸‹ï¼š å¯¼å…¥CGlibåº“ å®šä¹‰å§”æ‰˜ç±» åˆ›å»ºä»£ç†ç±»ï¼šå®ç°ä¸€ä¸ªMethodInterceptoræ¥å£ï¼Œæ–¹æ³•è°ƒç”¨ä¼šè¢«è½¬å‘åˆ°è¯¥ç±»é‡å†™çš„intercept()æ–¹æ³•ä¸­ã€‚ ä½¿ç”¨ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253class User &#123; public String say(String msg)&#123; System.out.println(\"æ—©ä¸Šå¥½\"+msg); return msg; &#125;&#125;public class CGDynastic implements MethodInterceptor &#123; @Override // Objectä¸ºç”±CGLibåŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»å®ä¾‹, Methodä¸ºä¸Šæ–‡ä¸­å®ä½“ç±»æ‰€è°ƒç”¨çš„è¢«ä»£ç†çš„æ–¹æ³•å¼•ç”¨, Object[]ä¸ºå‚æ•°å€¼åˆ—è¡¨, MethodProxyä¸ºç”Ÿæˆçš„ä»£ç†ç±»å¯¹æ–¹æ³•çš„ä»£ç†å¼•ç”¨ã€‚ å˜é‡åå¯ä»¥ä¿®æ”¹ public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable &#123; System.out.println(\"è¿™é‡Œå¯ä»¥æ’å…¥æ‰§è¡Œå…³é”®ä»£ç ä¹‹å‰çš„é€»è¾‘\"); // è°ƒç”¨ä»£ç†ç±»å®ä¾‹ä¸Šçš„methodProxyæ–¹æ³•çš„çˆ¶ç±»æ–¹æ³•ï¼ˆå³å®ä½“ç±»SomeServiceä¸­å¯¹åº”çš„æ–¹æ³•ï¼‰,ç„¶åè¿”å›ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼resultï¼Œç„¶åå®ç°å¢å¼ºçš„é€»è¾‘ Object o1 = methodProxy.invokeSuper(o, objects);//å…³é”®ä»£ç : System.out.println(\"è¿™é‡Œå¯ä»¥æ’å…¥æ‰§è¡Œå…³é”®ä»£ç ä¹‹åçš„é€»è¾‘\"); return o1; &#125; public static void main(String[] args) &#123; // ä»£ç†ç±»classæ–‡ä»¶å­˜å…¥æœ¬åœ°ç£ç›˜æ–¹ä¾¿æˆ‘ä»¬åç¼–è¯‘æŸ¥çœ‹æºç  // System.setProperty(DebuggingClassWriter.DEBUG_LOCATION_PROPERTY, \"D:\\\\code\"); Enhancer enhancer = new Enhancer(); // é€šè¿‡CGLIBåŠ¨æ€ä»£ç†è·å–ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ enhancer.setSuperclass(User.class); // è®¾ç½®enhancerå¯¹è±¡çš„çˆ¶ç±» enhancer.setCallback(new CGDynastic()); // è®¾ç½®enhancerçš„å›è°ƒå¯¹è±¡ User user = (User) enhancer.create(); // åˆ›å»ºä»£ç†å¯¹è±¡ String world = user.say(\"world\"); // é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨ç›®æ ‡æ–¹æ³• System.out.println(world); &#125;&#125;// æˆ–è€… class CGDynasticInterceptor implements MethodInterceptor &#123; private Object object; public CGDynasticInterceptor(Object object) &#123; this.object = object; &#125; @Override public Object intercept(Object o, Method method, Object[] args, MethodProxy methodProxy) throws Throwable &#123; System.out.println(\"è¿™é‡Œå¯ä»¥æ’å…¥æ‰§è¡Œå…³é”®ä»£ç ä¹‹å‰çš„é€»è¾‘\"); method.invoke(object, args); System.out.println(\"è¿™é‡Œå¯ä»¥æ’å…¥æ‰§è¡Œå…³é”®ä»£ç ä¹‹åçš„é€»è¾‘\"); return null; &#125;&#125;class CGDynastic &#123; public static void main(String[] args) &#123; CGDynasticInterceptor cgDynasticInterceptor = new CGDynasticInterceptor(new User()); User user = (User)Enhancer.create(User.class, cgDynasticInterceptor); user.say(\"good\"); &#125;&#125; CGLIB åˆ›å»ºåŠ¨æ€ä»£ç†ç±»çš„æ¨¡å¼æ˜¯ï¼š æŸ¥æ‰¾ç›®æ ‡ç±»ä¸Šçš„æ‰€æœ‰éfinal çš„publicç±»å‹çš„æ–¹æ³•å®šä¹‰ï¼› å°†è¿™äº›æ–¹æ³•çš„å®šä¹‰è½¬æ¢æˆå­—èŠ‚ç ï¼› å°†ç»„æˆçš„å­—èŠ‚ç è½¬æ¢æˆç›¸åº”çš„ä»£ç†çš„classå¯¹è±¡ï¼› å®ç° MethodInterceptoræ¥å£ï¼Œç”¨æ¥å¤„ç†å¯¹ä»£ç†ç±»ä¸Šæ‰€æœ‰æ–¹æ³•çš„è¯·æ±‚ åŸç†ï¼š CGLibé‡‡ç”¨åº•å±‚çš„å­—èŠ‚ç æŠ€æœ¯ASM, å¯ä»¥ä¸ºä¸€ä¸ªç±»åˆ›å»ºå­ç±», åœ¨å­ç±»ä¸­é‡‡ç”¨æ–¹æ³•æ‹¦æˆªçš„æŠ€æœ¯æ‹¦æˆªæ‰€æœ‰çˆ¶ç±»æ–¹æ³•çš„è°ƒç”¨, å¹¶ç»‡å…¥æ¨ªåˆ‡é€»è¾‘ã€‚(ä»£ç†å¯¹è±¡æ‰§è¡Œç›®æ ‡æ–¹æ³•æ—¶ä¼šè°ƒç”¨å›è°ƒæ¥å£çš„æ–¹æ³•å³CGDynasticInterceptorçš„intercept) æµç¨‹ï¼šæˆ‘ä»¬é€šè¿‡CGLIBçš„Enhanceræ¥æŒ‡å®šè¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡ã€å®é™…å¤„ç†ä»£ç†é€»è¾‘çš„å¯¹è±¡ï¼Œæœ€ç»ˆé€šè¿‡è°ƒç”¨create()æ–¹æ³•å¾—åˆ°ä»£ç†å¯¹è±¡ï¼Œå¯¹è¿™ä¸ªä»£ç†å¯¹è±¡æ‰€æœ‰éfinalæ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šè½¬å‘ç»™MethodInterceptor.intercept()æ–¹æ³•ï¼Œåœ¨intercept()æ–¹æ³•é‡Œæˆ‘ä»¬å¯ä»¥åŠ å…¥ä»»ä½•é€»è¾‘ï¼Œæ¯”å¦‚ä¿®æ”¹æ–¹æ³•å‚æ•°ï¼ŒåŠ å…¥æ—¥å¿—åŠŸèƒ½ã€å®‰å…¨æ£€æŸ¥åŠŸèƒ½ç­‰ï¼›é€šè¿‡è°ƒç”¨MethodProxy.invokeSuper()æ–¹æ³•ï¼Œæˆ‘ä»¬å°†è°ƒç”¨è½¬å‘ç»™åŸå§‹å¯¹è±¡è°ƒç”¨å…¶å…·ä½“æ–¹æ³•ã€‚CGLIGä¸­MethodInterceptorçš„ä½œç”¨è·ŸJDKåŠ¨æ€ä»£ç†ä»£ç†ä¸­çš„InvocationHandlerå¾ˆç±»ä¼¼ï¼Œéƒ½æ˜¯æ–¹æ³•è°ƒç”¨çš„ä¸­è½¬ç«™ã€‚ æ€»ç»“ ä»£ç†æ¨¡å¼å®ç°åˆ†ç±»ä»¥åŠå¯¹åº”åŒºåˆ« 1.é™æ€ä»£ç†ï¼šæ‰‹åŠ¨ä¸ºç›®æ ‡å¯¹è±¡åˆ¶ä½œä»£ç†å¯¹è±¡ï¼Œå³åœ¨ç¨‹åºç¼–è¯‘é˜¶æ®µå®Œæˆä»£ç†å¯¹è±¡çš„åˆ›å»º 2.åŠ¨æ€ä»£ç†ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºç›®æ ‡å¯¹è±¡å¯¹åº”ä»£ç†å¯¹è±¡ã€‚ 3.jdkåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†ç›®æ ‡å¯¹è±¡å¿…é¡»å®ç°æŸä¸€æˆ–æŸä¸€ç»„æ¥å£å®ç°æ–¹å¼é€šè¿‡å›è°ƒåˆ›å»ºä»£ç†å¯¹è±¡ã€‚ 4.cglibåŠ¨æ€ä»£ç†ï¼šè¢«ä»£ç†ç›®æ ‡å¯¹è±¡å¯ä»¥ä¸å¿…å®ç°æ¥å£ï¼Œç»§æ‰¿çš„æ–¹å¼å®ç°ã€‚ åŠ¨æ€ä»£ç†ç›¸æ¯”è¾ƒé™æ€ä»£ç†ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œå¯ä»¥æ‰¹é‡åŒ–åˆ›å»ºä»£ç†ï¼Œæé«˜ä»£ç å¤ç”¨ç‡ã€‚ æˆ‘ä»¬å­¦ä¹ äº†é€šè¿‡CGLIBå®ç°åŠ¨æ€å¢å¼ºï¼Œä½†æ˜¯CGLIBä¹Ÿæœ‰å…¶ç¼ºé™·ï¼Œé‚£å°±æ˜¯å¿…é¡»ç›®æ ‡ç±»å¿…é¡»æ˜¯å¯ä»¥ç»§æ‰¿çš„ï¼Œå¦‚æœç›®æ ‡ç±»ä¸å¯ç»§æ‰¿ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ— æ³•ä½¿ç”¨CGLIBæ¥å¢å¼ºè¯¥ç±»ï¼ˆå› ä¸ºCGLibæ˜¯é€šè¿‡ç»§æ‰¿æ¥å®ç°çš„ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»å­¦ä¹ å®Œäº†Spring AOPä¸­ä¸¤ç§AOPçš„å®ç°æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥ç§°JDKåŠ¨æ€ä»£ç†å®ç°çš„AOPä¸ºé¢å‘æ¥å£çš„åŠ¨æ€å¢å¼ºï¼Œå°†CGLIBå®ç°çš„AOPç§°ä¸ºé¢å‘å­ç±»çš„åŠ¨æ€å¢å¼ºã€‚ å‚è€ƒï¼š â˜…æºä»£ç çº§åˆ«è§£æJDKåŠ¨æ€ä»£ç†â€”â€”æ·±å…¥ç†è§£JavaåŠ¨æ€ä»£ç† åŸºäºMAVENé¡¹ç›®çš„CGLibåŠ¨æ€ä»£ç†åŸç†åŠå®ç°â€”â€”https://blog.csdn.net/weixin_46460843/article/details/112649900 ç»†è¯´Springâ€”â€”AOPè¯¦è§£ï¼ˆä½¿ç”¨CGLIBå®ç°AOPï¼‰â€”â€”https://zhuanlan.zhihu.com/p/37886319","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"}]},{"title":"åä¸ºæ˜¥æ‹›4.29ç¬”è¯•é¢˜","slug":"åä¸ºæ˜¥æ‹›4-29ç¬”è¯•é¢˜","date":"2020-04-29T14:43:54.000Z","updated":"2020-04-29T14:47:07.162Z","comments":true,"path":"2020/04/29/åä¸ºæ˜¥æ‹›4-29ç¬”è¯•é¢˜/","link":"","permalink":"https://nymrli.top/2020/04/29/åä¸ºæ˜¥æ‹›4-29ç¬”è¯•é¢˜/","excerpt":"","text":"4.29ä¸‰é“ç¬”è¯•é¢˜ï¼š åšäº†å…¶ä»–å¤§å‚çš„ç¬”è¯•é¢˜åï¼Œå¥½åƒç¡®å®åä¸ºçš„ç¨å¾®ç®€å•ç‚¹ã€‚åªä¸è¿‡å…¶ä»–çš„ç¬”è¯•é¢˜æ˜¯æœ‰æ¨¡æ‹Ÿé¢˜çš„ï¼Œåä¸ºçš„è¿™ä¸‰é“é¢˜åŸºæœ¬ä¸Šéƒ½æ˜¯DFS Aï¼š å¸¦æœ‰é‡å¤å…ƒç´ çš„å…¨æ’åˆ—é—®é¢˜ï¼Œæ±‚ä¸é‡å¤çš„æ’åˆ—æ•°ã€‚ä»¥ä¸‹åšæ³•50%, TLEäº†ã€‚æ­£ç¡®åšæ³•æ˜¯ç›´æ¥ç”¨å…¬å¼è®¡ç®— 123456789101112131415161718192021222324252627282930'''@Author: Mrli@Date: 2020-04-29 20:23:34@LastEditTime: 2020-04-29 21:24:40@Description: '''s = input().strip()ans = list(s)sz = len(s)res = []def dfs(depth): if depth &gt; sz-1: return if depth == sz-1: enter = ''.join(ans) if enter not in res: res.add(enter) for i in range(sz): swap(i, depth) dfs(depth+1) swap(i, depth) def swap(x, y): tmp = ans[x] ans[x] = ans[y] ans[y] = tmpdfs(0)print(len(res)) B æ±‚å»æ‰Kä¸ªå­—æ¯ï¼Œç•™ä¸‹å­—å…¸åºæœ€å°çš„å­—ç¬¦ä¸²ã€‚å½“æ—¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879'''@Author: Mrli@Date: 2020-04-29 19:01:55@LastEditTime: 2020-04-29 22:31:07@Description: '''\"\"\"# çœ‹é”™é¢˜, ä»¥ä¸ºæ˜¯ä»å¼€å¤´å»æ‰kä¸ªã€‚ä¸€åˆ†é’Ÿå†™çš„è¿‡äº†40%\"\"\"# s = input().strip()# n = int(input().strip())# print( s[n:])'''# ç¬¬ä¸€æ¬¡å°è¯•, ''-&gt;åŠ n-kä¸ª-&gt; è¿‡10%'''# é€‰æ‹©ç§»é™¤Kä¸ªå­—æ¯, è¦ä½¿ç•™ä¸‹æ¥çš„å­—ç¬¦ä¸²å­—å…¸åºæœ€å°# s = input().strip()# n = int(input().strip())# fans = s# def dfs(ans, index, depth):# global fans# if index &gt;= len(s): return # if depth &gt; n: return# if depth == n:# if ans &lt;= fans:# fans = ans# print(ans + s[index])# dfs(ans + s[index], index+1, depth + 1)# dfs(ans, index+1, depth) # dfs('', 0, 0)# print(fans)'''å½“æ—¶dfs('', 0, 0)çš„å†™æ³•æŠ¥äº†ç‚¹é”™, ä»¥ä¸ºä¸èƒ½è¿™ä¹ˆå†™, äºæ˜¯æ¢æˆsä¸­å»kä¸ª'''# s = input().strip()# sz = len(s)# n = int(input().strip())# fans = ''.join('z' for i in range(sz))# def dfs(ans, index, depth):# global fans# if index &gt;= sz: return # if depth == n:# if ans &lt;= fans:# fans = ans# # print(ans[0:index] + ans[index+1:])# dfs(ans[0:index] + ans[index+1:], index+1, depth + 1)# dfs(ans, index+1, depth)# dfs(s, 0, 0)# print(fans)'''ç¬¬ä¸‰æ¬¡å°è¯•, é‡æ–°æ¥å›ç¬¬ä¸€ç§åˆ°n-kä¸ªæ•°æ—¶ç»“æŸçš„å†™æ³•. è€ƒå®Œä»¥åå†™å‡ºæ¥çš„. ä½†ä¸çŸ¥é“èƒ½ä¸èƒ½è¿‡å…¨éƒ¨æ ·ä¾‹'''s = input().strip()sz = len(s)n = int(input().strip())fans = ''.join('z' for i in range(sz)) # åˆå§‹åŒ–ä¸ºæœ€å¤§def dfs(ans, index): global fans if index == sz: return if len(ans) == sz-n: # print(ans, fans, ans &lt;= fans) if ans &lt;= fans: fans = ans dfs(ans + s[index], index+1) dfs(ans, index+1)dfs('', 0)print(fans) C: k, n, rï¼š æœ‰kä¸ªç¡¬å¸ï¼Œ nä¸ªåŸå¸‚ï¼Œ ræ¡å•å‘è¾¹ è¦æ±‚åœ¨ç¡¬å¸è¶³å¤Ÿçš„æƒ…å†µä¸‹çš„æœ€çŸ­è·ç¦» â–²ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯dijistra+ç¡¬å¸æ•°(ç¬¬äºŒæŒ‡æ ‡)åˆ¤æ–­ï¼Œä½†æ˜¯å®é™…æƒ…å†µå¹¶ä¸æ˜¯åœ¨æ±‚æœ€çŸ­è·ç¦»çš„æƒ…å†µä¸‹çš„ç¡¬å¸æ•°ï¼Œè€Œæ˜¯åœ¨ç¡¬å¸å……è¶³çš„æƒ…å†µä¸‹æœ€çŸ­è·ç¦»æ˜¯å¤šå°‘===&gt;å®é™…å°±å˜æˆäº†ä¸€ä¸ªéå¸¸ç®€å•çš„DFS 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160/* * @Author: Mrli * @Date: 2020-04-29 19:05:27 * @LastEditTime: 2020-04-29 21:12:04 * @Description: */#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 105;const int INF = 0x3f3f3f3f;int dist[MAXN][MAXN];int T[MAXN][MAXN];bool visited[MAXN] = &#123;false&#125;;// int d[MAXN];// int cost[MAXN];int mans = INF;bool haveans = false;int k, n ,r; // ç¡¬å¸æ•°ã€åŸå¸‚æ•°ã€é“è·¯æ•°/* dijistraåšæ³•çš„å°è¯• */// void dijistra(int s)&#123;// d[s] = 0;// cost[s] = 0;// for (int i = 1; i &lt;= n; i++) &#123;// int u = -1, MIN = INF;// for (int j = 1; j &lt;= n; j++) &#123;// if (visited[j] == false &amp;&amp; d[j] &lt; MIN)&#123;// u = j;// MIN = d[j];// &#125;// &#125;// if ( u == -1) return;// visited[u] = true;// // ä¿è¯è·¯å¾„æœ€çŸ­, å†ç¡®å®šç¡¬å¸// // for (int v = 1; v &lt;= n; v++) &#123;// // if (visited[v] == false &amp;&amp; dist[u][v] != INF)&#123;// // if ( dist[u][v] + d[u] &lt; d[v] )&#123;// // d[v] = dist[u][v] + d[u];// // cost[v] = T[u][v] + cost[u]; // // &#125;else if (dist[u][v] + d[u] == d[v])&#123;// // if( cost[u] + T[u][v] &lt; cost[v] )&#123;// // cost[v] = cost[u] + T[u][v];// // &#125;// // &#125;// // &#125;// // &#125;// // ä¿è¯ç¡¬å¸è¶³å¤Ÿçš„æƒ…å†µä¸‹// for (int v = 1; v &lt;= n; v++) &#123;// if (visited[v] == false &amp;&amp; dist[u][v] != INF)&#123;// if ( T[u][v] + cost[u] &lt; cost[v] )&#123; // if ( dist[u][v] + d[u] &lt; d[v] )&#123;// d[v] = dist[u][v] + d[u];// &#125;// cost[v] = T[u][v] + cost[u]; // &#125;else if ( T[u][v] + cost[u] == cost[v] )&#123;// if( dist[u][v] + d[u] &lt; d[v] )&#123;// d[v] = dist[u][v] + d[u];// // cost[v] = T[u][v] + cost[u]; // &#125;// &#125;// &#125;// &#125;// &#125;// &#125;/* æ€è€ƒè¿‡ç”¨BFS */// void bfs(int s)&#123;// queue&lt;int&gt; q;// q.push(s);// visited[s] = true;// while (!q.empty())&#123;// int u = q.front();// q.pop();// for (int v = 0; v &lt; n; v++) &#123;// if ( visited[v] == false &amp;&amp; dist[u][v] != INF)&#123;// &#125;// &#125;// &#125;// &#125;void dfs(int u, int ans, int q)&#123; if ( u == n )&#123; if ( q &lt;= k)&#123; if (ans &lt;= mans)&#123; mans = ans; &#125; haveans = true; &#125; &#125; for (int v = 2; v &lt;= n; v++) &#123; if ( visited[v] == false &amp;&amp; dist[u][v] != INF)&#123; visited[v] = true; // cout &lt;&lt; \"next: \" &lt;&lt;v &lt;&lt;endl; dfs(v, ans + dist[u][v], q + T[u][v]); visited[v] = false; &#125; &#125;&#125;void init()&#123; fill(dist[0], dist[0] + MAXN* MAXN, INF); fill(T[0], T[0] + MAXN* MAXN, INF); // fill(d, d+MAXN, INF); // fill(cost, cost+MAXN, INF);&#125;int main()&#123; cin &gt;&gt; k &gt;&gt; n &gt;&gt; r; init(); for (int i = 0; i &lt; r; i++) &#123; int s, d, w, cost; cin &gt;&gt; s &gt;&gt; d &gt;&gt; w &gt;&gt; cost; dist[s][d] = w; T[s][d] = cost; &#125; dfs(1, 0, 0); if (haveans) cout &lt;&lt; mans &lt;&lt;endl; else cout &lt;&lt; -1 &lt;&lt;endl; // for (int i = 1; i &lt;= n; i++) &#123; // for (int j = 1; j &lt;= n; j++) &#123; // cout &lt;&lt; dist[i][j] &lt;&lt;\" \"; // &#125; // cout &lt;&lt; endl; // &#125; // visited[1] = true; // for (int i = 1; i &lt;= n; i++) &#123; // for (int j = 1; j &lt;= n; j++) &#123; // cout &lt;&lt; T[i][j] &lt;&lt;\" \"; // &#125; // cout &lt;&lt; endl; // &#125; // dijistra(1); // for (int i = 1; i &lt;= n; i++) &#123; // cout &lt;&lt; d[i] &lt;&lt; endl; // &#125; // cout &lt;&lt;\"---\" &lt;&lt;endl; // for (int i = 1; i &lt;= n; i++) &#123; // cout &lt;&lt; cost[i] &lt;&lt; endl; // &#125; // cout &lt;&lt; d[n] &lt;&lt; endl; // if ( cost[n] &lt;= k)&#123; // cout &lt;&lt; d[n] &lt;&lt;endl; // &#125;else&#123; // cout &lt;&lt; -1 &lt;&lt;endl; // &#125; return 0;&#125; ç‰›å®¢ç½‘åä¸ºç»ƒä¹ é¢˜ åˆå¹¶è¡¨è®°å½• 12345678odict = dict()n = int(input().strip())for i in range(n): ids, val = map(int, input().split()) odict[ids] = odict.setdefault(ids, 0) + valslist = sorted(odict.items(), key= lambda d: d[0], reverse=True)for k, v in odict.items(): print(k, v) Python ä¸­å­—å…¸çš„æœ‰åºæ— åºé’ˆå¯¹çš„æ˜¯æ’å…¥é¡ºåºè€Œä¸æ˜¯é”®å€¼å¤§å°é¡ºåº,è¦æƒ³æ ¹æ®keyæˆ–valueæ’åºå¯ä»¥ç›´æ¥ç”¨sortåå†è¾“å‡ºã€‚è€Œå¦‚æœè¾“å‡ºè¦ä¿æŒè¾“å…¥çš„é¡ºåºï¼Œåˆ™ä½¿ç”¨ collectionsä¸‹çš„ OrderedDict(â€˜è®°ä½æ’å…¥é¡ºåºçš„å­—å…¸â€™) Pythoné€†åºè¾“å‡º 1234567891011# reversen = input().strip()# for i in range()rev = reversed(n)for i in rev: print(i)# range(-1)s = 'hello'for i in range(len(s)-1, -1, -1): print(s[i])","categories":[],"tags":[]},{"title":"å‰‘æŒ‡Offer_leetcodeåˆ·é¢˜è®°å½•","slug":"å‰‘æŒ‡Offer-leetcodeåˆ·é¢˜è®°å½•","date":"2020-04-20T05:10:13.000Z","updated":"2021-01-24T07:39:51.486Z","comments":true,"path":"2020/04/20/å‰‘æŒ‡Offer-leetcodeåˆ·é¢˜è®°å½•/","link":"","permalink":"https://nymrli.top/2020/04/20/å‰‘æŒ‡Offer-leetcodeåˆ·é¢˜è®°å½•/","excerpt":"","text":"ç”±äºä¸´è¿‘æ˜¥æ‹›æœ«æœŸï¼Œæ—¶é—´æ¯”è¾ƒç´§ï¼Œå°±ä¸è®°å½•æ€è€ƒè¿‡ç¨‹äº†ï¼Œç›´æ¥è´´ACä»£ç ã€‚ä»¥åæœ‰ç©ºè¡¥ä¸Š ä»£ç å¤§å¤šç”¨C++ï¼Œä»…æ˜¯è¿‡è€Œå·²ï¼Œæ²¡æœ‰è¿›è¡Œä¼˜åŒ–ã€‚ é¢è¯•é¢˜03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­— 12345678910111213141516class Solution &#123;public: int findRepeatNumber(vector&lt;int&gt;&amp; nums) &#123; std::ios::sync_with_stdio(false); int size = nums.size(); if (size &lt;0 ) return 0; vector&lt;int&gt; arr(size); for(int i=0; i &lt; size; i++)&#123; arr[nums[i]] += 1; if (arr[nums[i]] &gt; 1)&#123; return nums[i]; &#125; &#125; return 0; &#125;&#125;; é¢è¯•é¢˜04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾ 123456789101112131415161718192021222324class Solution &#123;public: bool findNumberIn2DArray(vector&lt;vector&lt;int&gt;&gt;&amp; matrix, int target) &#123; if (matrix.empty()) return false; int column = matrix[0].size(); int row = matrix.size(); if (column &lt;= 0 || row &lt;= 0) return false; int r = 0 ; int c = column - 1; while( r &lt; row &amp;&amp; c &gt;= 0 )&#123; if (matrix[r][c] == target)&#123; return true; &#125;else if(matrix[r][c] &gt; target)&#123; c --; &#125;else&#123; r ++; &#125; &#125; return false; &#125;&#125;; é¢è¯•é¢˜05. æ›¿æ¢ç©ºæ ¼ 123class Solution: def replaceSpace(self, s: str) -&gt; str: return s.replace(' ', '%20') é¢è¯•é¢˜06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨ 12345678910111213141516171819202122/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: vector&lt;int&gt; reversePrint(ListNode* head) &#123; vector&lt;int&gt; ans; ListNode *p = head; while( p != NULL)&#123; ans.insert(ans.begin(), p-&gt;val); // or : ans.push_back(); // then : return reverse(ans.begin(), ans.end()); p = p-&gt;next; &#125; return ans;; &#125;&#125;; é¡ºä¾¿é‡æ–°å†å†™éé“¾è¡¨å§: 12 é¢è¯•é¢˜07. é‡å»ºäºŒå‰æ ‘ 1234567891011121314151617181920212223242526272829303132/** * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: TreeNode* buildTree(vector&lt;int&gt;&amp; preorder, vector&lt;int&gt;&amp; inorder) &#123; if (preorder.empty() &amp;&amp; inorder.empty()) return NULL; TreeNode *root = createTree(preorder, inorder, 0, preorder.size()-1, 0, inorder.size()-1); return root; &#125; TreeNode *createTree(vector&lt;int&gt;&amp; preorder, vector&lt;int&gt;&amp; inorder, int preL, int preR, int inL, int inR)&#123; if (preL&gt; preR) return NULL; int k; for( k=inL; k&lt;=inR; k++)&#123; // â–²å†™çš„æŒºç†Ÿç»ƒäº†, å°±æ˜¯å¤šäº†ä¸ªintè¢«æ¶å¿ƒåäº† if (preorder[preL] == inorder[k]) break; &#125; TreeNode *root= new TreeNode(preorder[preL]); int numLeft = k - inL; root-&gt;left = createTree(preorder, inorder, preL+1, preL + numLeft, inL, k-1); root-&gt;right = createTree(preorder, inorder, preL +numLeft + 1, preR, k+1, inR); return root; &#125;&#125;; é¢è¯•é¢˜09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ— 123456789101112131415161718192021222324252627282930313233343536class CQueue &#123;private: stack&lt;int&gt; s1; stack&lt;int&gt; s2;public: CQueue() &#123; &#125; void appendTail(int value) &#123; s1.push(value); &#125; int deleteHead() &#123; int ans; if(s1.empty() &amp;&amp; s2.empty() )return -1; if (s2.empty())&#123; while(!s1.empty())&#123; s2.push(s1.top()); s1.pop(); &#125; &#125; ans = s2.top(); s2.pop(); return ans; &#125;&#125;;/** * Your CQueue object will be instantiated and called as such: * CQueue* obj = new CQueue(); * obj-&gt;appendTail(value); * int param_2 = obj-&gt;deleteHead(); */ é¢è¯•é¢˜10- I. æ–æ³¢é‚£å¥‘æ•°åˆ— 12345678910111213141516171819202122class Solution &#123;private: int arr[105]; const int MOD = 1000000007;public: int fib(int n) &#123; if (n == 0)&#123; arr[n] = 0; return arr[n]; &#125;else if (n == 1)&#123; arr[n] = 1; return arr[n]; &#125; if ( arr[n] )&#123; return arr[n]; &#125;else&#123; // è¿™è¾¹æ˜¯é€’å½’è€Œä¸æ˜¯arr[n-1] + arr[n-2] arr[n] = (fib(n-1)%MOD + fib(n-2)%MOD)%MOD; return arr[n]; &#125; &#125;&#125;; é¢è¯•é¢˜10- II. é’è›™è·³å°é˜¶é—®é¢˜ é—®é¢˜å®è´¨å°±æ˜¯fib 12345678910111213141516171819202122232425class Solution &#123; private: int arr[105]; const int MOD = 1000000007;public: int numWays(int n) &#123; if (n == 1)&#123; arr[n] = 1; return arr[n]; &#125;else if (n == 2)&#123; arr[n] = 2; return arr[n]; &#125;else if (n==0)&#123;// æ¯”ä¸Šé¢˜å¤šäº†ä¸ªèŒƒå›´ arr[n] = 1; return arr[n]; &#125; if ( arr[n] )&#123; return arr[n]; &#125;else&#123; // è¿™è¾¹æ˜¯é€’å½’è€Œä¸æ˜¯arr[n-1] + arr[n-2] arr[n] = (numWays(n-1)%MOD + numWays(n-2)%MOD)%MOD; return arr[n]; &#125; &#125;&#125;; é¢è¯•é¢˜15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•° n &amp; (n-1)ç»“æœä¸º n &lt;- å°†næœ€å³è¾¹çš„1æ”¹æˆ0çš„æ•° 123456789101112class Solution &#123;public: int hammingWeight(uint32_t n) &#123; uint32_t tmp = n; int ans = 0; while(tmp)&#123; ans ++; tmp = tmp &amp; (tmp-1); &#125; return ans; &#125;&#125;; é¢è¯•é¢˜16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹ å¿«é€Ÿå¹‚ï¼Œ å¯¹è´Ÿæ•°åˆ¤æ–­ä¸€ä¸‹ 123456789101112131415double myPow(double base, int n) &#123; double res = 1; bool fu = false; if (n&lt;0) fu = true; int tmp = abs(n); while(tmp&gt;0)&#123; if(tmp&amp;1) res = res * base; // cout &lt;&lt; res &lt;&lt; \" \" ; base = base * base; tmp &gt;&gt;= 1; &#125; if (fu) return 1/res; else return res;&#125; é¢è¯•é¢˜17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•° å› ä¸ºnçš„èŒƒå›´æ²¡ç»™ï¼Œ æ‰€ä»¥å…¶å®éœ€è¦è€ƒè™‘å¤§æ•°çš„ï¼Œåªä¸è¿‡ä¸è€ƒè™‘å¥½åƒä¹Ÿèƒ½è¿‡ã€‚ 12345678910111213141516171819202122232425class Solution &#123;public: int pow(int base, int n)&#123; int res =1; for(int i=0;i&lt;n;i++) res *= base;; return res; &#125; vector&lt;int&gt; printNumbers(int n) &#123; int ans = 0; for(int i=0 ; i &lt; n ; i++)&#123; ans += 9*pow(10, i); &#125; vector&lt;int&gt; v; for(int i=1; i &lt;= ans; i ++) v.push_back(i); return v; &#125;&#125;; å†™äº†ä¸ªå¥‡æ€ªçš„ä¸œè¥¿ 1234567891011121314151617181920212223242526#include &lt;algorithm&gt;#include &lt;bits/stdc++.h&gt;using namespace std;vector&lt;int&gt; printNumbers(int n) &#123; vector&lt;int&gt; res; int arr[10005]; for(int i=0;i &lt; n;i++) //cout &lt;&lt; a &lt;&lt; \" \"; arr[i] = i; do&#123; string ans; for(int i=0;i &lt; n;i++) ans += '0'+arr[i]; res.push_back(atoi(ans.c_str())); &#125;while(next_permutation(arr, arr+n)); return res;&#125;int main()&#123; vector&lt;int&gt; v = printNumbers(3); for(vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) cout &lt;&lt; *it &lt;&lt; \" \"; return 0;&#125; é¢è¯•é¢˜18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹ 12345678910111213141516171819202122232425262728293031/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* deleteNode(ListNode* head, int val) &#123; if (head == NULL) return NULL; if (head-&gt;val == val &amp;&amp; head-&gt;next == NULL) return NULL; if (head-&gt;val == val) return head-&gt;next; ListNode *pre = head; ListNode *p = head-&gt;next; while(p != NULL)&#123; if (p-&gt;val == val)&#123; pre-&gt;next = p-&gt;next; delete(p); p = pre-&gt;next; &#125;else&#123; pre = p; p = p-&gt;next; &#125; &#125; return head; &#125; &#125;; é¢è¯•é¢˜22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ 1234567891011121314151617181920212223242526272829/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* getKthFromEnd(ListNode* head, int k) &#123; if( head == NULL) return NULL; // int (k == 0 ) ; return head; // æŠŠ0åˆ äº†å°±å¯ä»¥äº† ListNode *p = head; for(int i = 0; i &lt; k-1; i++)&#123; if (p-&gt;next == NULL) return NULL; p = p-&gt;next; &#125; ListNode *jnode = head; while(p-&gt;next != NULL)&#123; p = p-&gt;next; jnode = jnode-&gt;next; &#125; return jnode; &#125;&#125;; é¢è¯•é¢˜24. åè½¬é“¾è¡¨ 123456789101112131415161718192021222324252627/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* reverseList(ListNode* head) &#123; if (head == NULL) return NULL; // preè¿™ä¸ªNULLå¡äº†å¾ˆä¹…ï¼Œå¦‚æœåè½¬çš„è¯ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹éœ€è¦æŒ‡å‘NULL ListNode *pre = NULL; ListNode *p = head; ListNode *ans = NULL; if (p-&gt;next==NULL) return head; while (p != NULL)&#123; ListNode *next = p-&gt;next; if (next == NULL) ans = p; p-&gt;next = pre; pre = p; p = next; &#125; return ans; &#125;&#125;; é¢è¯•é¢˜25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨ å¤§æ™šä¸Šæ„Ÿè§‰æ€è·¯è¿˜è¡Œ, å°±æ˜¯ç»†èŠ‚è¿‡ä¸äº†. 12345678910111213141516171819202122232425262728293031/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* mergeTwoLists(ListNode* l1, ListNode* l2) &#123; if(l1 == NULL) return l2; if(l2 == NULL) return l1; if (l1 == NULL &amp;&amp; l2 == NULL) return NULL; ListNode *head =new ListNode(0); // éšä¾¿ç”Ÿæˆä¸€ä¸ªè¡¨å¤´, æœ€åå¿½ç•¥è¿™ä¸ªå°±è¡Œäº† ListNode *newlist = head; while( l1 &amp;&amp; l2)&#123; if ( l1-&gt;val &lt; l2-&gt;val )&#123; newlist-&gt;next = l1; l1 = l1-&gt;next; &#125;else&#123; newlist-&gt;next = l2; l2 = l2-&gt;next; &#125; newlist = newlist-&gt;next; // æŒ‡é’ˆä¹Ÿè¦å¾€å &#125; newlist-&gt;next = l1 ? l1 : l2; // æœ€ååªå‰©ä¸€ä¸ª return head-&gt;next; &#125;&#125;; é¢è¯•é¢˜26. æ ‘çš„å­ç»“æ„ 12345678910111213141516171819202122232425262728293031323334353637383940/** * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: bool isSubStructure(TreeNode* A, TreeNode* B) &#123; bool notsub = false; // if(A == NULL || B == NULL) return false; if ( A &amp;&amp; B)&#123; if ( A-&gt;val == B-&gt;val ) // æ‰¾åˆ°æ ¹èŠ‚ç‚¹ // notsub = isSubStructure(A, B); notsub = same(A,B); if (!notsub)&#123; // notsub = same(A-&gt;left,B); notsub = isSubStructure(A-&gt;left,B); &#125; if (!notsub)&#123; // notsub = same(A-&gt;right, B); notsub = isSubStructure(A-&gt;right, B); &#125; &#125; return notsub; &#125; bool same(TreeNode* A, TreeNode* B)&#123; if (B == NULL) return true; if (A==NULL) return false; if( A-&gt;val != B-&gt;val) return false; return same(A-&gt;left,B-&gt;left) &amp;&amp; same(A-&gt;right, B-&gt;right); &#125;&#125;; é¢è¯•é¢˜30. åŒ…å«minå‡½æ•°çš„æ ˆ åŒæ—¶ç»´æŠ¤ä¸€ä¸ªå­˜å‚¨æœ€å°å€¼çš„æ ˆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748class MinStack &#123;private: stack&lt;int&gt; common; stack&lt;int&gt; assist;public: /** initialize your data structure here. */ MinStack() &#123; &#125; void push(int x) &#123; common.push(x); if (assist.empty()) assist.push(x); else&#123; int top = assist.top(); if ( x &lt; top ) assist.push(x); else assist.push(top); &#125; &#125; void pop() &#123; // int tmp = common.top(); common.pop(); assist.pop(); // return tmp; &#125; int top() &#123; int tmp = common.top(); return tmp; &#125; int min() &#123; int tmp = assist.top(); // assist.pop(); return tmp; &#125;&#125;;/** * Your MinStack object will be instantiated and called as such: * MinStack* obj = new MinStack(); * obj-&gt;push(x); * obj-&gt;pop(); * int param_3 = obj-&gt;top(); * int param_4 = obj-&gt;min(); */ é¢è¯•é¢˜31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ— 123456789101112131415161718class Solution &#123;public: bool validateStackSequences(vector&lt;int&gt;&amp; pushed, vector&lt;int&gt;&amp; popped) &#123; stack&lt;int&gt; st; int n = popped.size(); int j = 0; for (int i = 0; i &lt; pushed.size(); ++i)&#123; st.push(pushed[i]); while(!st.empty() &amp;&amp; j &lt; n &amp;&amp; st.top() == popped[j])&#123; // æ³¨æ„é€»è¾‘çŸ­è·¯é—®é¢˜ï¼Œ åˆ¤æ–­æ˜¯å¦ä¸ºç©º å¿…é¡»åœ¨topä¹‹å‰ st.pop(); ++j; &#125; &#125; return st.empty(); // return (j == sz); &#125;&#125;; é¢è¯•é¢˜32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ BFSå±‚æ¬¡éå† 1234567891011121314151617181920212223242526/** * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: vector&lt;int&gt; levelOrder(TreeNode* root) &#123; vector&lt;int&gt; ans; if (root == NULL) return ans; queue&lt;TreeNode *&gt; q; q.push(root); while(!q.empty())&#123; TreeNode *now = q.front(); q.pop(); ans.push_back(now-&gt;val); if (now-&gt;left) q.push(now-&gt;left); if (now-&gt;right) q.push(now-&gt;right); &#125; return ans; &#125;&#125;; é¢è¯•é¢˜32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II 12345678910111213141516171819202122232425262728293031/** * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: vector&lt;vector&lt;int&gt;&gt; levelOrder(TreeNode* root) &#123; vector&lt;vector&lt; int&gt; &gt; ans; if (root == NULL) return ans; queue&lt;TreeNode *&gt; q; q.push(root); while(!q.empty())&#123; int sz = q.size(); // ç»Ÿè®¡å½“å±‚çš„èŠ‚ç‚¹æ•° vector&lt;int&gt; row; for(int i=0; i &lt; sz; i++)&#123; TreeNode *now = q.front(); q.pop(); row.push_back(now-&gt;val); if (now-&gt;left) q.push(now-&gt;left); if (now-&gt;right) q.push(now-&gt;right); &#125; ans.push_back(row); &#125; return ans; &#125;&#125;; é¢è¯•é¢˜32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III æ§åˆ¶an.push_backçš„å†…å®¹ 123456789101112131415161718192021222324252627282930class Solution &#123;public: vector&lt;vector&lt;int&gt;&gt; levelOrder(TreeNode* root) &#123; vector&lt; vector&lt;int&gt; &gt; ans ; if (root== NULL) return ans; queue&lt;TreeNode*&gt; q; int level = 1; // åŸºå±‚ä»å‰å¾€åï¼Œ å¶å±‚ä»åå¾€å‰ q.push(root); // ç¬¬ä¸€å±‚ while(!q.empty())&#123; int n = q.size(); vector&lt;int&gt; line; for(int i = 0; i &lt; n; i ++)&#123; TreeNode *now = q.front(); q.pop(); line.push_back(now-&gt;val); if ( now-&gt;left != NULL) q.push(now-&gt;left); if ( now-&gt;right != NULL ) q.push(now-&gt;right); &#125; if ( level % 2 == 1) ans.push_back(line); else &#123; reverse(line.begin(), line.end()); ans.push_back(line); &#125; level ++; &#125; return ans; &#125;&#125;; 1234567891011121314151617181920212223242526272829303132class Solution &#123;public: bool verifyPostorder(vector&lt;int&gt;&amp; postorder) &#123; if (postorder.empty()) return false; int sz = postorder.size(); return helper(postorder, 0, sz-1); &#125; bool helper(vector&lt;int&gt;&amp; postorder, int l, int r)&#123; int sz = postorder.size(); int rootkey = postorder[sz-1]; int smallp = 0; while( postorder[smallp] &lt; rootkey) smallp++; // ä¹‹åsmallp ä¸ºç¬¬ä¸€ä¸ª &gt;= rootkeyçš„ç´¢å¼•ï¼Œ å³å³å­æ ‘çš„ç¬¬ä¸€ä¸ª int bigp = smallp; while( bigp &lt; sz-1 )&#123; // æ£€æµ‹å³å­æ ‘æ˜¯ä¸æ˜¯ç¬¦åˆå…¨éƒ¨å¤§äºkey if(postorder[bigp] &lt; rootkey) return false; &#125; bool left = true; if ( smallp &gt; 0 ) left = helper(postorder, l, smallp-1); bool right = false; if ( bigp &gt; 0) right = helper(postorder, smallp, r-1); return (left &amp;&amp; right); &#125;&#125;; å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•° Javaä¸­priorityQueueçš„ä½¿ç”¨â€”â€”å€Ÿç”¨å †å®Œæˆ add+offerï¼ˆpushï¼‰ã€element+peekï¼ˆfront-topï¼‰ã€remove+pollï¼ˆpopï¼‰ c++ä¼˜å…ˆé˜Ÿåˆ—(priority_queue)ç”¨æ³•è¯¦è§£ å‚æ•°ç¼ºçœçš„è¯ï¼Œä¼˜å…ˆé˜Ÿåˆ—å°±æ˜¯å¤§é¡¶å †ï¼Œé˜Ÿå¤´å…ƒç´ æœ€å¤§ã€‚æœ€å°å †å¯ä»¥ç”¨ä»¿å‡½æ•°lessæŒ‡å®š å¦‚æœæ˜¯è‡ªå®šä¹‰ç±»å‹, åˆ™éœ€è¦è‡ªå·±é‡è½½operator&lt; æˆ–è€… è‡ªå·±å†™ä»¿å‡½æ•°() ä»¿å‡½æ•°: ï¼ˆfunctorï¼‰åˆç§°ä¸ºå‡½æ•°å¯¹è±¡ï¼ˆfunction objectï¼‰æ˜¯ä¸€ä¸ªèƒ½è¡Œä½¿å‡½æ•°åŠŸèƒ½çš„ç±»ã€‚ä»¿å‡½æ•°çš„è¯­æ³•å‡ ä¹å’Œæˆ‘ä»¬æ™®é€šçš„å‡½æ•°è°ƒç”¨ä¸€æ ·ï¼Œä¸è¿‡ä½œä¸ºä»¿å‡½æ•°çš„ç±»ï¼Œéƒ½å¿…é¡»é‡è½½operator()è¿ç®—ç¬¦ 12// priority_queue&lt;Type, Container, Functional&gt;, å…¶ä¸­Functionalä¸ºä»¿å‡½æ•°, å¦‚greater, less æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;bits/stdc++.h&gt;using namespace std; int findFirst1(int n)&#123; int i = 0; cout &lt;&lt; \"enter\" &lt;&lt; n; // &amp;&amp; (i &lt; sizeof(int) * 8) while( ( n &amp; 1) == 0) &#123; //â–²æœ€åæ’æŸ¥å‡ºæ¥æ—¶è¿™è¾¹æ‹¬å·æ²¡åŠ  n = n &gt;&gt; 1; i++; &#125; // cout &lt;&lt; \"findFirst1\" &lt;&lt; i &lt;&lt; endl; return i; &#125; bool isbit1(int n, int index)&#123; n = n &gt;&gt; index; return (n &amp; 1); &#125; void solve(vector&lt;int&gt; &amp;v, int &amp;one, int &amp;two)&#123; int sz = v.size(); cout &lt;&lt; sz &lt;&lt; endl; int firstXOR = 0; // cout &lt;&lt; \"begin\" ; for(int i = 0; i &lt;sz; i++) &#123; cout &lt;&lt; v[i]; firstXOR ^= v[i]; &#125; // cout &lt;&lt; endl; // cout &lt;&lt; \"firstXOR\" &lt;&lt; firstXOR &lt;&lt; endl; int index = findFirst1(firstXOR); // cout &lt;&lt; index &lt;&lt; endl; for(int i = 0; i &lt; sz;i++ )&#123; if ( isbit1(v[i], index) )&#123; one ^= v[i]; &#125;else&#123; two ^= v[i]; &#125; &#125; &#125; vector&lt;int&gt; singleNumbers(vector&lt;int&gt;&amp; nums) &#123; vector&lt;int&gt; v(2); if (nums.empty()) return v; solve(nums, v[0], v[1]); return v; &#125;int main()&#123; int arr[] = &#123;1,2,5,2&#125;; vector&lt;int&gt; v(arr, arr+ 4); vector&lt;int&gt; ans = singleNumbers(v);; cout &lt;&lt; ans[0] &lt;&lt; \" \" &lt;&lt; ans[1] &lt;&lt; endl;&#125; é¢è¯•é¢˜47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼-dp 12345678910111213141516class Solution: def maxValue(self, grid: List[List[int]]) -&gt; int: row, col = len(grid), len(grid[0]) # print(row, col ) # åˆå§‹åŒ–ç¬¬ä¸€åˆ— for r in range(1, row): grid[r][0] += grid[r-1][0] # åˆå§‹åŒ–ç¬¬ä¸€è¡Œ for c in range(1, col): grid[0][c] += grid[0][c - 1] # dpçŠ¶æ€æ›´æ–° for i in range(1, row): for j in range(1, col): grid[i][j] += max(grid[i-1][j], grid[i][j - 1]) return grid[row - 1][col - 1] é¢è¯•é¢˜49. ä¸‘æ•° 12345678910class Solution: def nthUglyNumber(self, n: int) -&gt; int: dp, a, b, c = [1] * n, 0 , 0, 0 for i in range(1, n): n2, n3, n4 = dp[a] * 2, dp[b] * 3, dp[c] * 5 dp[i] = min(n2, n3, n4) if dp[i] == n2: a+=1 if dp[i] == n3: b+=1 if dp[i] == n4: c+=1 return dp[-1] é¢è¯•é¢˜50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ 1234567891011from collections import OrderedDictclass Solution: def firstUniqChar(self, s: str) -&gt; str: hashtable = OrderedDict() for i in s: hashtable[i] = hashtable.setdefault(i, 0) + 1 for k, v in hashtable.items(): if v == 1: return k return ' ' å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I çœ‹åˆ°&quot;åœ¨æ’åºæ•°ç»„ä¸­æŸ¥è¯¢&quot;==&gt; äºŒåˆ†æŸ¥æ‰¾ 12345678910111213141516171819202122232425262728293031323334353637class Solution &#123;public: int search(vector&lt;int&gt;&amp; nums, int target) &#123; return getRight(nums, target) - getLeft(nums, target) + 1; &#125; // æ‰¾åˆ°å’Œtargetç›¸ç­‰çš„æœ€è¾¹ç•Œ(target æœ€å°çš„ä¸‹æ ‡) int getLeft(vector&lt;int&gt;&amp; v, int target)&#123; int len = v.size(); int l = 0, r = len-1; while( l &lt;= r)&#123; int m = l + r &gt;&gt; 1; if ( v[m] &lt; target)&#123; l = m + 1; &#125;else&#123; // å¦‚æœç›¸ç­‰çš„è¯ç¼©å°å³è¾¹è¾¹ç•Œ r = m - 1; &#125; &#125; return l; &#125; // æ‰¾åˆ°å’Œtargetçš„æœ€å³ç•Œ(æ¯”targetå¤§çš„æœ€å°ä¸‹æ ‡) int getRight(vector&lt;int&gt;&amp; v, int target)&#123; int len = v.size(); int l = 0, r = len-1; while( l &lt;= r)&#123; int m = l + r &gt;&gt; 1; if ( v[m] &lt;= target)&#123; // å¦‚æœç›¸ç­‰çš„è¯, è¯´æ˜ä¹‹å‰éƒ½æ˜¯æ­£ç¡®çš„, é‚£ä¹ˆå°±éœ€è¦ç¼©å°å·¦è¾¹ç•Œçš„èŒƒå›´ l = m + 1; &#125;else&#123; r = m - 1; &#125; &#125; return r; &#125;&#125;; [å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­— ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„==&gt;äºŒåˆ† ä¸ºä»€ä¹ˆæœ€åreturn lè§£æ 1234567891011121314151617class Solution &#123;public: int missingNumber(vector&lt;int&gt;&amp; nums) &#123; int len = nums.size(); int l = 0, r = len - 1; while( l &lt;= r) &#123; // å½“ arr[r - l] ä¸ºç©ºæ—¶è·³å‡º int mid = (l + r) &gt;&gt; 1; if ( nums[mid] == mid)&#123; l = mid + 1; &#125;else if ( nums[mid] &gt; mid)&#123; r = mid - 1; &#125; &#125; // å½“ r == l == midæ—¶,è¿˜ä¼šå†è¿›è¡Œä¸€è½®, æ­¤æ—¶æœ‰arr[mid] != mid é‚£ä¹ˆå°±æ˜¯å½“å‰æ•°å­—å‡ºäº†é—®é¢˜, returnè°éƒ½å¯ä»¥, ä½†ç”±äºmidæ˜¯åœ¨whileé‡Œå£°æ˜çš„, å› æ­¤åªè€ƒè™‘return l or r, ç”±äºä¸ç›¸ç­‰çš„æƒ…å†µä¸‹è¯¥è½®whileç»“æŸår := mid - 1, å› æ­¤å°±åç¦»äº†ã€‚ æœ€ç»ˆå°±é€‰å–läº†. return l; &#125;&#125;; é¢è¯•é¢˜52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677class Solution: def getIntersectionNode(self, headA: ListNode, headB: ListNode) -&gt; ListNode: node1, node2 = headA, headB while node1 != node2: node1 = node1.next if node1 else headB node2 = node2.next if node2 else headA return node1 # # Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = None# def getListLength(head):# if head == None:# return -1# ans = 0# while head != None:# ans += 1# head = head.next# return ans# def getIntersectionNode(headA: ListNode, headB: ListNode) -&gt; ListNode:# # print(headA, headB)# lena = getListLength(headA)# lenb = getListLength(headB)# print(lena, lenb)# diff = lena - lenb # if diff&gt;0:# flagalong = True# else:# flagalong = False# if flagalong:# listLong = headA# listShort = headB# else:# listLong = headB# listShort = headA# diff = -diff# # print(diff)# for i in range(diff):# listLong = listLong.next # # print(listLong.val, listShort.val)# while listLong != None and listShort != None and listLong.val != listShort.val:# listShort = listShort.next# listLong = listLong.next# return listLong # headA2 = ListNode(4)# headA1 = ListNode(3)# HeadA = ListNode(1)# headA1.next = headA2# HeadA.next = headA1# headB2 = ListNode(4)# headB1 = ListNode(3)# HeadB = ListNode(2)# headB1.next = headB2# HeadB.next = headB1 é¢è¯•é¢˜54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹ ä¸­åºéå†, ä»å³å¾€å·¦çš„é¡ºåºå°±æ˜¯ä»å¤§å¾€å° 123456789101112131415161718192021class Solution &#123;public: int kthLargest(TreeNode* root, int k) &#123; help(root,k); return ans; &#125; void help(TreeNode* root,int k)&#123; if(root!=nullptr)&#123; help(root-&gt;right,k); visit(root,k); help(root-&gt;left,k); &#125; &#125; void visit(TreeNode* root,int k)&#123; th++; if(th==k) ans=root-&gt;val; &#125;private: int th=0; int ans=0;&#125;; é¢è¯•é¢˜57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­— 12345678910111213class Solution: def twoSum(self, nums: List[int], target: int) -&gt; List[int]: l = 0 r = len(nums) - 1 while l &lt; r: sums = nums[l] + nums[r] if sums &gt; target: r -= 1 elif sums &lt; target: l += 1 else:return nums[l], nums[r] return [] é¢è¯•é¢˜58 - I. ç¿»è½¬å•è¯é¡ºåº 12345678class Solution: def reverseWords(self, s: str) -&gt; str: res = s.split() return ' '.join(reversed(res)) def reverseWords(self, s: str) -&gt; str: res = s.split() return ' '.join(reversed(res)) é¢è¯•é¢˜58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸² 123class Solution: def reverseLeftWords(self, s: str, n: int) -&gt; str: return s[n:] + s[:n] é¢è¯•é¢˜59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ 12345678class Solution: def maxSlidingWindow(self, nums: List[int], k: int) -&gt; List[int]: ans = [] if not nums: return [] for i in range(len(nums) - k + 1): ans.append(max(nums[i: i + k])) return ans é¢è¯•é¢˜59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼ 1234567891011121314151617181920212223242526from queue import deque, Queueclass MaxQueue: def __init__(self): self.queue = Queue() self.deque = deque() def max_value(self) -&gt; int: return self.deque[0] if self.deque else -1 def push_back(self, value: int) -&gt; None: while self.deque and value &gt; self.deque[-1]: self.deque.pop() self.deque.append(value) self.queue.put(value) def pop_front(self) -&gt; int: if not self.deque: return -1 ans = self.queue.get() if ans == self.deque[0]: self.deque.popleft() return ans é¢è¯•é¢˜60. nä¸ªéª°å­çš„ç‚¹æ•°-dp 1234567891011121314151617181920212223242526class Solution &#123;public: vector&lt;double&gt; twoSum(int n) &#123; int dp[15][70]; memset(dp, 0, sizeof(dp)); for (int i = 1; i &lt;= 6; i ++) &#123; dp[1][i] = 1; &#125; for (int i = 2; i &lt;= n; i ++) &#123; for (int j = i; j &lt;= 6*i; j ++) &#123; for (int cur = 1; cur &lt;= 6; cur ++) &#123; if (j - cur &lt;= 0) &#123; break; &#125; dp[i][j] += dp[i-1][j-cur]; &#125; &#125; &#125; int all = pow(6, n); vector&lt;double&gt; ret; for (int i = n; i &lt;= 6 * n; i ++) &#123; ret.push_back(dp[n][i] * 1.0 / all); &#125; return ret; &#125;&#125;; é¢è¯•é¢˜61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­ 123456789101112131415161718192021class Solution: def isStraight(self, nums: List[int]) -&gt; bool: if not nums: return False sort_list = sorted(nums) anything = 0 # if sort_list[-1] - sort_list[0] == 4: gap = 0 for index in range(len(sort_list) - 1): now_val = sort_list[index] next_val = sort_list[index+1] # print(now_val, next_val) if now_val == 0: anything += 1 elif now_val &gt; 0: # å‡ºç°å¯¹å­ if now_val == next_val: return False else: gap += next_val - now_val -1 # print(gap, anything) if gap &gt; anything: return False else: return True é¢è¯•é¢˜62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­— 123456789def f(n, m): if n == 0: return 0 x = f(n - 1, m) return (m + x) % nclass Solution: def lastRemaining(self, n: int, m: int) -&gt; int: return f(n, m) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172# # Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = None# def getListLength(head):# if head == None:# return -1# ans = 0# while head != None:# ans += 1# head = head.next# return ans# def getIntersectionNode(headA: ListNode, headB: ListNode) -&gt; ListNode:# # print(headA, headB)# lena = getListLength(headA)# lenb = getListLength(headB)# print(lena, lenb)# diff = lena - lenb # if diff&gt;0:# flagalong = True# else:# flagalong = False# if flagalong:# listLong = headA# listShort = headB# else:# listLong = headB# listShort = headA# diff = -diff# # print(diff)# for i in range(diff):# listLong = listLong.next # # print(listLong.val, listShort.val)# while listLong != None and listShort != None and listLong.val != listShort.val:# listShort = listShort.next# listLong = listLong.next # return listLong # headA2 = ListNode(4)# headA1 = ListNode(3)# HeadA = ListNode(1)# headA1.next = headA2# HeadA.next = headA1# headB2 = ListNode(4)# headB1 = ListNode(3)# HeadB = ListNode(2)# headB1.next = headB2# HeadB.next = headB1 æœ€é•¿å…¬å…±å‰ç¼€ 12345678910111213141516171819class Solution: def longestCommonPrefix(self, strs: List[str]) -&gt; str: if len(strs) == 0: return '' if len(strs) == 1: return strs[0] strs = sorted(strs) idx = 0 minlen = min(len(strs[0]), len(strs[-1])) print( strs[0], strs[-1]) while idx &lt; minlen: if strs[0][idx] != strs[-1][idx]: return strs[0][:idx] idx += 1 return len(strs[0]) if len(strs[0]) &lt; len(strs[-1]) else len(strs[-1]) # s = Solution()print(s.longestCommonPrefix(['abcd', 'abdd', 'aad'])) æ¨¡æ‹Ÿé˜Ÿåˆ— è…¾è®¯ç¬”è¯•é¢˜ç¬¬ä¸€é¢˜ï¼Œç¬¬å››é¢˜ä¸ºâ€œä¸¤ä¸ªæ ˆæ¨¡æ‹Ÿé˜Ÿåˆ—â€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263/* * @Author: Mrli * @Date: 2020-04-26 19:58:20 * @LastEditTime: 2020-04-27 22:58:50 * @Description: */// #include &lt;bits/stdc++.h&gt; //ä¸‡èƒ½å¤´æ–‡ä»¶#include &lt;iostream&gt;using namespace std; //å‘½åç©ºé—´const int MAXN = 1005;int arr[MAXN];int main() &#123; ios::sync_with_stdio(false); //å–æ¶ˆè¾“å…¥è¾“å‡ºæµç­‰å¾…åŒæ­¥ int T; cin &gt;&gt;T; while(T--)&#123; int n; // nä¸ªæ“ä½œ cin &gt;&gt;n; fill(arr, arr+MAXN, 0); int di = 0; int start = di; int p = di; // æ ˆåº•ä¸º-1 å°¾æŒ‡é’ˆ for(int i = 0; i &lt; n; i ++)&#123; string operate; cin &gt;&gt; operate; // cout &lt;&lt; \"p:\" &lt;&lt; p &lt;&lt; start &lt;&lt; endl; if (operate == \"PUSH\") &#123; int num; cin &gt;&gt; num; arr[p++] = num; &#125;else if (operate == \"TOP\")&#123; if ( p == start) cout &lt;&lt; -1 &lt;&lt;endl; else cout &lt;&lt; arr[start] &lt;&lt;endl; &#125;else if (operate == \"POP\")&#123; if (p == start) cout &lt;&lt; -1 &lt;&lt;endl; else start++; &#125;else if (operate == \"SIZE\")&#123; cout &lt;&lt; p - start &lt;&lt; endl; &#125;else if (operate == \"CLEAR\")&#123; p = di; start = di; &#125; &#125; &#125; return 0;&#125;// 2// 7// PUSH 1// PUSH 2// TOP// POP// TOP// POP// POP// 5// PUSH 1// PUSH 2// SIZE// POP// SIZE è®°ä¸€ä¸‹äºŒç»´vectorçš„åˆå§‹åŒ– 1234567vector&lt; vector&lt;int&gt; &gt; v(3, vector&lt;int&gt;(5,4));for(int i = 0; i &lt; v.size() ; i ++)&#123; for(int j = 0 ; j &lt; v[0].size(); j++)&#123; cout &lt;&lt; v[i][j] ; &#125; cout &lt;&lt; endl; &#125; å’Œé€šè¿‡æ•°ç»„æ¥åˆå§‹åŒ– 12int arr[] = &#123;1,6,3,2,5&#125;;vector&lt;int&gt; ans(arr, arr + sizeof(arr)); åä¸º2016å¹´ç§‹æ‹›é¢˜ï¼š A: 123456789101112131415161718while True: try: # tryä¸€å®šè¦æœ€ååŠ ï¼Œ ä¸ç„¶ä¸å¥½debug n, m = map(int, input().split()) grades = list(map(int, input().split())) for i in range(m): opt, (ids), (val) = input().strip().split() ids = int(ids) val = int(val) if opt == 'U': grades[ids-1] = val elif opt == 'Q': start, end = sorted([ids, val]) print(max( grades[start-1: end])) except: break# print(\"a\" &lt; \"b\" , \"3\" &lt; \"4\")# print('a' &lt; 'b' , '3' &lt; '4')# print('A' &lt; 'b' , 'A' &lt; '2') B[ç¼–ç¨‹é¢˜]ç®€å•é”™è¯¯è®°å½• 123456789101112131415161718192021222324252627282930313233343536'''@Author: Mrli@Date: 2020-04-28 21:47:46@LastEditTime: 2020-04-28 22:22:20@Description: '''import collections# import sysrec_dict = collections.OrderedDict()# å¦ä¸€ç§è¾“å…¥æ–¹å¼# for line in sys.stdin:# ele = line.split('\\\\')[-1].strip('\\n')# if ele not in lst:# lst.append(ele)# if ele in dct:# dct[ele] = dct[ele] + 1# else:# dct[ele] = 1while True: try: ins = input().strip() path = ins.split('\\\\')[-1] if path not in rec_dict: rec_dict[path] = 1 else: rec_dict[path] += 1 except EOFError: break# print(rec_dict)sort_res = sorted(rec_dict.items(), key = lambda d: d[1], reverse=True)# print(rec_dict)for k, v in sort_res[:8]: path, linenum = k.split() print(path[-16:], linenum, v) Tips: ä¸¤ç§è¾“å…¥æ–¹å¼çš„æ¨å‡ºéƒ½ä¸ºï¼šctrl + z EOFæ˜¯ä¸€ä¸ªè®¡ç®—æœºæœ¯è¯­ï¼Œä¸ºEnd Of Fileçš„ç¼©å†™ï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­è¡¨ç¤ºèµ„æ–™æºæ— æ›´å¤šçš„èµ„æ–™å¯è¯»å–ã€‚èµ„æ–™æºé€šå¸¸ç§°ä¸ºæ¡£æ¡ˆæˆ–ä¸²æµã€‚ è€Œåœ¨ä¸åŒç³»ç»Ÿçš„EOFæ‰€ä»£è¡¨çš„å€¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨Visual Studio 2017ä¸‹ä¸ºctrl+cï¼Œwindowsä¸‹ä¸ºctrl+zï¼Œlinux/unixä¸‹ä¸ºctrl+cæˆ–ctrl+dï¼› è¿ç”¨è¿™ä¸ªå°æŠ€å·§å¯ä»¥åœ¨è°ƒè¯•çš„æ—¶å€™æ‰‹åŠ¨ç»“æŸï¼Œå¾ˆæ–¹ä¾¿ã€‚ ä¸¤è·¯åˆå¹¶ç®—æ³• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980void merge(int *arr, int l, int mid, int r)&#123; int begin1, begin2; begin1 = l; begin2 = mid+1; int index; // æ–°æ•°ç»„æ·»åŠ å…ƒç´ çš„ç´¢å¼•å€¼ // int *newarr = (int *)malloc((r-l+1)*sizeof(int)); int *newarr = new int[r-l+1]; for(index = 0; begin1 &lt;= mid &amp;&amp; begin2 &lt;= r; )&#123; if ( arr[begin1] &lt; arr[begin2] )&#123; newarr[index++] = arr[begin1++]; &#125; else&#123; newarr[index++] = arr[begin2++]; &#125; &#125; cout &lt;&lt;\"lmr: \" &lt;&lt; l &lt;&lt;\" \" &lt;&lt;mid &lt;&lt; \" \" &lt;&lt; r &lt;&lt; endl; // cout &lt;&lt; \"res:\" &lt;&lt; (begin1 &lt;= mid) &lt;&lt; (begin2 &lt;= r) &lt;&lt;endl; // while (begin1 &lt;= mid)&#123; // newarr[index++] = arr[begin1++]; // &#125; // while(begin2 &lt;= r)&#123; // newarr[index++] = arr[begin2++]; // &#125; if (begin1 &lt;= mid)&#123; newarr[index++] = arr[begin1++]; &#125; else&#123; newarr[index++] = arr[begin2++]; &#125; int start = l; // arrå¼€å§‹æ›´æ–°çš„åœ°æ–¹ int k = 0; // æ–°æ•°ç»„ // while( start &lt;= r)&#123; // å°†æ–°æ•°ç»„å…¨éƒ¨æ‹·è´è¿› arr[l] -&gt; arr[r] // arr[start++] = newarr[k++]; //copyæ’å¥½åºçš„æ•°ã€‚ // &#125; for(int i = l; i &lt;= r; i++)&#123; cout &lt;&lt; newarr[k]; arr[i] = newarr[k++]; &#125;&#125;void mergesort(int *arr, int l, int r)&#123; if (l &lt; r)&#123; int mid = l + ((r-l) &gt;&gt;1); // â–²ä½è¿ç®—ä¸€å®šè¦åŠ æ‹¬å· // int mid = (l+r)/2; mergesort(arr, l, mid); mergesort(arr, mid+1, r); merge(arr, l, mid, r); cout &lt;&lt;\"arr: \" &lt;&lt; l &lt;&lt;\" \" &lt;&lt;mid &lt;&lt; \" \" &lt;&lt; r &lt;&lt; endl; &#125;&#125; void mergeSort(int* arr, int s, int t) &#123; if (s &lt; t) &#123; int m = (s + t) / 2; mergeSort(arr, s, m); mergeSort(arr, m + 1, t); merge(arr, s, m, t); &#125; &#125;int main()&#123; // srand( (unsigned)time( NULL ) ); // Random(N); int a[N] = &#123;3,2,5,4,1&#125;; for(int i = 0 ; i &lt; N; i++) cout &lt;&lt; a[i] &lt;&lt;\" \"; // // mergeSort(a, 0, N-1);// æ”¹ mergesort(a, 0, N-1); cout &lt;&lt; \"after sort:\" &lt;&lt;endl; for(int i = 0 ; i &lt; N; i++) cout &lt;&lt; a[i] &lt;&lt;\" \"; // for(int i= 0; i &lt; 10 ;i ++)&#123; // for( int j = 0; j &lt; 5; j ++)&#123; // cout &lt;&lt; ( i + j)/ 2 &lt;&lt;\" \" &lt;&lt; (i + (j-2)) // &#125; // &#125; return 0;&#125; å¿«æ’ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include&lt;iostream&gt;using namespace std;void quickSort(int a[], int m,int n);int partion(int a[], int m, int n);int main()&#123; int a[] = &#123; 6,1,2,7,9,3,4,5,10,8 &#125;; int m = 0; int n = (sizeof(a) / 4)-1; quickSort(a, m,n); for (int i = 0; i &lt; 10; i++) &#123; cout &lt;&lt; a[i] &lt;&lt; \" \"; &#125;&#125;void quickSort(int a[], int m, int n)&#123; if (m &lt; n) &#123; int q = partion(a, m, n); quickSort(a, m, q ); quickSort(a, q + 1, n); &#125;&#125;int partion(int a[], int m, int n)&#123; int key=m; int j= n,i=m; int temp1, temp2; while (i != j) &#123; while (a[j] &gt; a[key] &amp;&amp; i &lt; j) &#123; --j; &#125; while ((a[i] &lt; a[key]) &amp;&amp; (i &lt; j)) &#123; ++i; &#125;if (i &lt; j) &#123; temp1 = a[j]; a[j] = a[i]; a[i] = temp1; &#125; &#125; temp2 = a[key]; a[key] = a[i]; a[i] = temp2; return i;&#125; 123456789101112131415void quickSort(int arr[], int l, int r)&#123; if ( l &gt;= r) return; int i = l, j = r; int key = l + r &gt;&gt; 1; int x = arr[key]; while ( i &lt; j)&#123; while (arr[j] &gt; x ) j --; while (arr[i] &lt; x) i++; if (i &lt; j)&#123; swap(arr, i, j); &#125; quickSort(arr, l, j); quickSort(arr, j+1, r); &#125;&#125; ä¸Šè¿°ä¸¤ç§æœ‰é‡å¤å…ƒç´ å°±çˆ¬äº† 12345678910111213void quick_sort(int q[], int l, int r)&#123; if (l &gt;= r) return; int i = l - 1, j = r + 1, x = q[l + r &gt;&gt; 1]; while (i &lt; j) &#123; do i ++ ; while (q[i] &lt; x); do j -- ; while (q[j] &gt; x); if (i &lt; j) swap(q[i], q[j]); &#125; quick_sort(q, l, j), quick_sort(q, j + 1, r);&#125; è®°å½•ä¸‹C++çš„splitå†™æ³•ï¼š 12345678910111213141516#include &lt;bits/stdc++.h&gt;using namespace std;int main()&#123; string s; getline(cin, s); // cout &lt;&lt; s &lt;&lt; endl; int dindex = s.find('-'); cout &lt;&lt; dindex&lt;&lt; endl; string a = s.substr(0, dindex); string b = s.substr(dindex+1); cout &lt;&lt; a &lt;&lt; \"*\" &lt;&lt; b; cout &lt;&lt; set return 0;&#125; C/C++ä¸­substrå‡½æ•°çš„åº”ç”¨(ç®€å•è®²è§£) C++å¦‚ä½•ä¿ç•™ä¸¤ä½æœ‰æ•ˆæ•°å­—ï¼ï¼ï¼ï¼ 123456def removeElement(nums, val): # print(nums) nums = list(map(str, nums)) st = &apos;&apos;.join(nums) st = st.replace(str(val), &apos;&apos;) return list(map(int, st)) 1234567891011121314class Solution: @staticmethod def firstUniqChar( s: str) -&gt; str: hashtable = OrderedDict() ans = '' for i in s: hashtable[i] = hashtable.setdefault(i, 0) + 1 for k, v in hashtable.items(): if v == 1: return kres = Solution.firstUniqChar(\"abaccdeff\")print(res) Sumä¸ºm, æ‹†æˆnä¸ªæ•°, æœ‰å“ªäº›æƒ…å†µ?(éè¿ç»­) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;bits/stdc++.h&gt;using namespace std;vector&lt;int&gt; ans;int idx;void printRes()&#123; for(auto &amp;i: ans)&#123; cout &lt;&lt; i &lt;&lt; \" \"; &#125; cout &lt;&lt; endl;&#125;// way1void func(int val, int n)&#123; if (n == 1)&#123; ans.push_back(val); idx ++; cout &lt;&lt; \"Case:\" &lt;&lt; idx &lt;&lt; endl; printRes(); cout &lt;&lt; \"==========\" &lt;&lt; endl; ans.pop_back(); return ; &#125; // å»é‡ int last; if ( ans.empty() ) last = 1; else last = ans.back(); for (int i = last; i &lt;= val/2 ; i++) &#123; ans.push_back(i); func(val-i, n-1); ans.pop_back(); &#125;&#125;// way2// void func(int val, int n, int start)&#123;// if (n == 1)&#123;// ans.push_back(val);// idx ++;// cout &lt;&lt; \"Case:\" &lt;&lt; idx &lt;&lt; endl;// printRes();// cout &lt;&lt; \"==========\" &lt;&lt; endl;// ans.pop_back();// return ;// &#125;// for (int i = start; i &lt;= val/2 ; i++) &#123;// ans.push_back(i);// func(val-i, n-1, i);// ans.pop_back();// &#125;// &#125;int main()&#123; // way1 func(20, 4); // way2 // func(20, 4, 1); return 0;&#125; Sumä¸ºm, æ‹†æˆnä¸ªæ•°, æœ‰å“ªäº›æƒ…å†µ?(è¿ç»­) 1234567891011121314151617181920212223public int subarraySum(int[] nums, int k) &#123; // hash // è®°å½•åˆé€‚çš„è¿ç»­å­—ç¬¦ä¸²æ•°é‡ int count=0; // è®°å½•å‰é¢æ•°å­—ç›¸åŠ ä¹‹å’Œ int pre=0; // mapè®°å½•å‰å‡ ä¸ªæ•°å­—ä¹‹å’Œä¸ºKå‡ºç°ç›¸åŒå’Œçš„æ¬¡æ•°ä¸ºV HashMap&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;(); // åˆå§‹åŒ– map.put(0,1); for (int i = 0; i &lt; nums.length; i++) &#123; pre+= nums[i]; // å¦‚æœå‰é¢æ•°å­—ä¹‹å’ŒåŠ ä¸Šè¿™ä¸ªæ•°å­—æ­£å¥½ç­‰äºKï¼ˆå­˜åœ¨ä¸€ä¸ªæ•°å­—åŠ ä¸Šnums[i]ç»“æœä¸ºK // è¯´æ˜æ‰¾åˆ°äº† if (map.containsKey(pre-k))&#123; // ç´¯è®¡ count+=map.get(pre-k); &#125; // è®¡ç®—æ–°çš„å’Œæ”¾å…¥map map.put(pre,map.getOrDefault(pre,0)+1); &#125; return count; &#125;","categories":[],"tags":[]},{"title":"VsCodeç¯å¢ƒã€é…ç½®Latex(texLive)","slug":"VsCodeé…ç½®Latex(texLive)ç¯å¢ƒ","date":"2020-03-23T07:04:53.000Z","updated":"2020-09-17T02:00:15.623Z","comments":true,"path":"2020/03/23/VsCodeé…ç½®Latex(texLive)ç¯å¢ƒ/","link":"","permalink":"https://nymrli.top/2020/03/23/VsCodeé…ç½®Latex(texLive)ç¯å¢ƒ/","excerpt":"","text":"å†™åœ¨å‰é¢: é™¤äº†é…ç½®VsCodeä»¥å¤–ï¼Œ æˆ‘è¿˜é…ç½®äº†Sublimeï¼Œä¸€å¼€å§‹æ˜¯ä¸æƒ³ç”¨SumatraPDFï¼Œä»¥ä¸ºèƒ½çœçš„ã€‚äº‹å®ä¸Šï¼ŒVscodeä¹Ÿç¡®å®æä¾›äº†ä¸‰ç§æ–¹æ³•ï¼šåœ¨web browserã€ç¼–è¾‘å™¨tabã€å¤–éƒ¨PDFé˜…è¯»å™¨ï¼Œå…±ä¸‰ç§åŠæ³•ã€‚ä¸ªäººæ„Ÿè§‰tabç•Œé¢å¤ªå°ã€æµè§ˆå™¨æŸ¥çœ‹æ¯•ç«Ÿè¿˜æ˜¯æ²¡æœ‰PDFèˆ’æœï¼Œæœ€åéƒ½ä½“éªŒä¸‹æ¥è¿˜æ˜¯é€‰æ‹©äº†å¤–éƒ¨é˜…è¯»å™¨ï¼Œè€Œä¸”SumatraPDFæ”¯æŒæ­£å‘ã€åå‘æœç´¢ï¼ŒæŒºé¦™çš„ã€‚å½“ç„¶ï¼Œè¿˜æœ‰ç§åšæ³•æ˜¯æŠŠPDFç¼–è¯‘å‡ºæ¥ä»¥åï¼Œå†ç”¨æ—¥å¸¸ä½¿ç”¨çš„é˜…è¯»å™¨æ‰“å¼€PDFé˜…è¯»ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä¸ªäººå¹³æ—¶ç”¨ç¦æ˜•PDFé˜…è¯»å™¨ä¼šå¤šä¸€ç‚¹ SumatraPDFé˜…è¯»å™¨æ˜¯ä¸ªéå¸¸è½»é‡çº§çš„PDFé˜…è¯»å™¨ï¼Œå¼€æºè½»å·§ï¼Œå…å®‰è£…ï¼Œå…±14.6MBã€‚è¦æƒ³é…å¥—ä½¿ç”¨PDFé˜…è¯»å™¨ï¼Œç½‘ä¸Šæ•™ç¨‹åŸºæœ¬ä¸Šæ¨èçš„éƒ½æ˜¯SumatraPDFï¼Œåº”è¯¥æ˜¯SumatraPDFåœ¨é€‚é…Latexä¸Šåšçš„æ¯”è¾ƒå¥½ã€‚æˆ‘è¯•äº†è¯•æŒ‡å®šç¦æ˜•å¤±è´¥äº†ã€‚ å®‰è£…Texlive ä¸ŠTexliveçš„å®˜ç½‘ï¼Œ æœ‰åœ¨çº¿å®‰è£…å’ŒDVDå®‰è£…ä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä»¬é€‰æ‹©åè€…ã€‚åœ¨http://mirrors.sjtug.sjtu.edu.cn/ctan/systems/texlive/Images/ä¸­ä¸‹è½½texlive2019.isoçš„é•œåƒï¼Œä¹‹åè§£å‹ï¼Œé€‰æ‹©install-tl-advanced.baté…ç½®é«˜çº§ç‰ˆ(æœ€å¥½å³é”®ç®¡ç†å‘˜èº«ä»½è¿è¡Œ)ã€‚ å¯ä»¥ç‚¹å‡»â€œAdvancedâ€è¿›å…¥é«˜çº§å®‰è£…æ¥ä¿®æ”¹å®‰è£…ä½ç½®ã€å–æ¶ˆä½ ä¸éœ€è¦å®‰è£…çš„å®åŒ…ã€‚å…¶ä¸­TeXworks å‰ç«¯å°±æ˜¯å®ƒè‡ªå¸¦çš„ç¼–è¾‘å™¨ï¼Œä¸éœ€è¦çš„å¯ä»¥å–æ¶ˆã€‚è¯­è¨€æˆ‘åŸºæœ¬å°±åªé€‰äº†Chinese, Chinese/Janpanse/Korean, English ç‚¹å‡»â€œCustomizeâ€æ¥å–æ¶ˆå‹¾é€‰ä¸éœ€è¦çš„å®åŒ…ã€‚ å¾ˆå¤šå®åŒ…å’ŒåŠŸèƒ½æˆ‘ä¸ªäººå¹¶ä¸éœ€è¦ï¼Œå› æ­¤æˆ‘åœ¨è¿™é‡Œå–æ¶ˆå‹¾é€‰ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®éœ€è¦å‹¾é€‰è‡ªå·±éœ€è¦çš„åŠŸèƒ½ï¼Œå¦‚æœå«Œéº»çƒ¦å…¨éƒ¨å®‰è£…ä¹Ÿå¯ä»¥ï¼Œå¹¶ä¸æ¶ˆè€—å¤šå°‘ç©ºé—´ã€‚ è®¾ç½®å®Œå®‰è£…è·¯å¾„ç­‰é€‰é¡¹ä¹‹åç‚¹å‡»â€œå®‰è£…â€ï¼Œä¹‹åé™å 20 åˆ†é’Ÿç­‰å¾…å®‰è£…å®Œæˆã€‚ å®‰è£…VsCode ç•¥, åŸºæœ¬å®‰è£…å°±è¡Œäº†ã€‚ç”¨äº†å¾ˆä¹…çš„Sublimeï¼Œ çªç„¶é—´æƒ³æ¢ä¸ªæ–°çš„äº†ï¼Œ è€Œä¸”VsCodeç¡®å®ä¹Ÿéå¸¸å¥½çœ‹ã€‚ å®‰è£…VsCodeä¸­Latexæ’ä»¶â€”â€” LaTeX Workshop æ­¤æ—¶å¯¼å…¥Latexå·¥ç¨‹ï¼ŒæŸ¥çœ‹texæ–‡ä»¶å°±å¯ä»¥çœ‹åˆ°å…³é”®å­—é«˜äº®äº†ã€‚ é…ç½®LaTeX Workshop æ’ä»¶ èœå•æ &quot;File-&gt;Preference-&gt;Settings&quot;ç„¶åé€‰æ‹©å³ä¸Šè§’ä¸‰ä¸ªæŒ‰é’®ä¸­æœ€å·¦è¾¹çš„(Open settings(JSON)), ç„¶åå°†æ‹¬å·é‡Œçš„å†…å®¹å¡«å……åˆ°å¤§æ‹¬å·é‡Œå°±è¡Œäº†ï¼Œä¸‹é¢å·²ç»æ˜¯æˆ‘JSONé…ç½®çš„å®‰è£…æ–‡ä»¶ï¼Œå¯å¤åˆ¶ç›´æ¥æ›¿æ¢ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102&#123; \"latex-workshop.showContextMenu\":true, //å³é”®èœå• \"latex-workshop.latex.tools\": [ &#123; \"name\": \"latexmk\", \"command\": \"latexmk\", \"args\": [ \"-synctex=1\", \"-interaction=nonstopmode\", \"-file-line-error\", \"-pdf\", \"%DOC%\" ] &#125;, &#123; \"name\": \"xelatex\", \"command\": \"xelatex\", \"args\": [ \"-synctex=1\", \"-interaction=nonstopmode\", \"-file-line-error\", \"%DOC%\" ] &#125;, &#123; \"name\": \"pdflatex\", \"command\": \"pdflatex\", \"args\": [ \"-synctex=1\", \"-interaction=nonstopmode\", \"-file-line-error\", \"%DOC%\" ] &#125;, &#123; \"name\": \"bibtex\", \"command\": \"bibtex\", \"args\": [ \"%DOCFILE%\" ] &#125; ],\"latex-workshop.latex.recipes\": [ &#123; \"name\": \"xelatex\", \"tools\": [ \"xelatex\" ] &#125;, &#123; \"name\": \"latexmk\", \"tools\": [ \"latexmk\" ] &#125;, &#123; \"name\": \"pdflatex -&gt; bibtex -&gt; pdflatex*2\", \"tools\": [ \"pdflatex\", \"bibtex\", \"pdflatex\", \"pdflatex\" ] &#125; ],\"latex-workshop.view.pdf.viewer\": \"browser\", //\"latex-workshop.view.pdf.viewer\": \"external\",//\"latex-workshop.view.pdf.ref.viewer\":\"external\",//\"latex-workshop.view.pdf.external.viewer.command\": \"E:\\\\aå¸¸ç”¨å·¥å…·\\\\SumatraPDF-3.2-64\\\\SumatraPDF-3.2-64.exe\", // æ³¨æ„ä¿®æ”¹è·¯å¾„//\"latex-workshop.view.pdf.external.synctex\": &#123;// \"command\": \"E:\\\\aå¸¸ç”¨å·¥å…·\\\\SumatraPDF-3.2-64\\\\SumatraPDF-3.2-64.exe\",// \"args\": [// \"-forward-search\", // \"%TEX%\",// \"%LINE%\",// \"%PDF%\"// ]//&#125;,\"latex-workshop.latex.clean.fileTypes\": [ \"*.aux\", \"*.bbl\", \"*.blg\", \"*.idx\", \"*.ind\", \"*.lof\", \"*.lot\", \"*.out\", \"*.toc\", \"*.acn\", \"*.acr\", \"*.alg\", \"*.glg\", \"*.glo\", \"*.gls\", \"*.ist\", \"*.fls\", \"*.log\", \"*.fdb_latexmk\" ]&#125; â–²ä¿å­˜åï¼Œä¸€å®šè¦é‡å¯VsCodeï¼Œä¸ç„¶æ— æ³•ç”Ÿæ•ˆã€‚æˆ‘å½“æ—¶å°±æ˜¯ç›´æ¥å»ç¼–è¯‘äº†ï¼ŒæŠ¥äº†Recipe terminated with fatal error: spawn pdflatex ENOENT.çš„é”™è¯¯æç¤ºã€‚ å…¶ä¸­éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼š&quot;latex-workshop.view.pdf.viewer&quot;: &quot;browser&quot;,è®¾ç½®çš„æ˜¯é»˜è®¤é˜…è§ˆPDFçš„æ–¹å¼ï¼Œä¸€å…±æœ‰3ç§ï¼šweb browserã€ç¼–è¾‘å™¨tabã€å¤–éƒ¨PDFé˜…è¯»å™¨ã€‚æˆ‘æ³¨é‡Šæ‰çš„æ˜¯è®¾ç½®SumatraPDFçš„æ–¹å¼ã€‚è¿™ä¸ªè®¾ç½®å¥½åï¼Œå†åœ¨Vscodeä¸­é€‰æ‹©View Latex PDFæ—¶å°±ä¼šæ ¹æ®è¿™ä¸ªé…ç½®æ‰“å¼€é»˜è®¤é˜…è¯»PDFçš„æ–¹å¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç‚¹å¼€View Latex PDFçš„ä¸‹æ‹‰é€‰é¡¹ï¼Œè¿›è¡ŒæŒ‡å®šæ–¹å¼çš„æŸ¥é˜…ã€‚ æ­£å‘æœç´¢ æŸ¥çœ‹codeä¸­é€‰ä¸­çš„å†…å®¹åœ¨PDFä¸­ä»€ä¹ˆä½ç½®ã€‚ é€‰æ‹©å¤–éƒ¨é˜…è¯»å™¨åï¼Œå¯ä»¥é€šè¿‡åŠ å…¥ä¸‹åˆ—å®ç°æ­£å‘æœç´¢åŠŸèƒ½ã€‚ 123456789\"latex-workshop.view.pdf.external.synctex\": &#123; \"command\": \"E:/Programs/SumatraPDF/SumatraPDF.exe\", // ä¿®æ”¹SumatraPDFè·¯å¾„ \"args\": [ \"-forward-search\", \"%TEX%\", \"%LINE%\", \"%PDF%\" ]&#125;, æ­£å‘æœç´¢çš„ä½¿ç”¨ï¼šå°†å…‰æ ‡ç§»åŠ¨åˆ°TeXæ–‡ä»¶çš„æ­£æ–‡ã€‚ctrl+alt+xï¼Œæ‰¾åˆ°&quot;navigator,select and edit&quot;ï¼Œç‚¹å‡»ç¬¬ä¸€é¡¹syncTeX from cursor(æˆ–å³é”®é€‰æ‹©ï¼Œæˆ–å¿«æ·é”®ctrl+alt+j)ï¼Œä¼šåˆ‡æ¢åˆ°PDFæ–‡ä»¶çš„ç›¸åº”ä½ç½®ã€‚â€”â€”è®¾ç½®â€œLatexå³é”®èœå•â€åä¹Ÿå¯ä»¥å³é”®é€‰æ‹©syncTeX from cursor åå‘æœç´¢ æŸ¥çœ‹PDFä¸­é€‰ä¸­çš„å†…å®¹åœ¨codeä¸­ä»€ä¹ˆä½ç½®ã€‚ é€‰æ‹©&quot;è®¾ç½®-&gt;é€‰é¡¹&quot; å°†ä¸‹åˆ—å†…å®¹å¡«å…¥ç®­å¤´æ‰€æŒ‡ä½ç½®ï¼Œè·¯å¾„ä¿®æ”¹ä¸‹å³å¯ï¼ˆä¸ºä¸€è¡Œå†…å®¹ï¼‰ 1&quot;C:\\Users\\Marvey\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe&quot; &quot;C:\\Users\\Marvey\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\out\\cli.js&quot; -g &quot;%f&quot;:&quot;%l&quot; æ„Ÿè°¢ @MacrofunsæŒ‡å‡ºï¼Œå¦‚æœä¸åŠ åŒå¼•å·ï¼Œåœ¨æ–‡ä»¶è·¯å¾„æœ‰ç©ºæ ¼çš„æƒ…å†µä¸‹ä¼šå¯¼è‡´æ— æ³•åå‘æœç´¢ï¼‰ å…¶ä»–è®¾ç½® LaTeX Workshop é»˜è®¤ä¿å­˜çš„æ—¶å€™è‡ªåŠ¨ç¼–è¯‘ï¼Œå¦‚æœä¸å–œæ¬¢è¿™ä¸ªè®¾ç½®ï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹ä»£ç è¿›å…¥è®¾ç½®åŒºï¼š 123\"latex-workshop.showContextMenu\":true, //å³é”®èœå• \"latex-workshop.intellisense.package.enabled\": true, //æ ¹æ®åŠ è½½çš„åŒ…ï¼Œè‡ªåŠ¨å®Œæˆå‘½ä»¤æˆ–åŒ… \"latex-workshop.latex.autoBuild.run\": \"never\", //ç¦æ­¢ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨build å€Ÿé‰´Fromï¼š ä½¿ç”¨VSCodeç¼–å†™LaTeX(latex+vscode+SumatraPDF) æœ€åæ¨èä¸¤ä¸ªé…ç½®è§†é¢‘ï¼š ä½¿ç”¨ Sublime Text +TexLive æ­å»º LaTeX ç¼–å†™ç¯å¢ƒâ€”â€”ç”¨sublimeçœ‹è¿™ä¸ªè§†é¢‘åŸºæœ¬å°±å¤Ÿäº† ä¸ºVSCodeé…ç½®LaTexç¼–è¯‘ç¯å¢ƒ(TeXLive) VsCodeå…¶ä»–é…ç½® ä¸å‡†å¤‡å•ç‹¬å†å¼€ä¸€ç¯‡æ–‡ç« ä»‹ç»æˆ‘æ€ä¹ˆé…ç½®çš„äº†ï¼Œ å°±åœ¨æ­¤ç¯‡æ–‡ç« é‡Œç•¥å¾®æåŠä¸‹æŠŠã€‚ æ’ä»¶ Code run èƒ½å¤Ÿè®©ä½ çš„IDEåŸºæœ¬ä¸Šè¿è¡Œå¤§å¤šæ•°ä»£ç ï¼Œåªå¥½å®‰è£…ç¼–ç¨‹è¯­è¨€æ—¶Pathè®¾ç½®æ­£ç¡®ï¼Œé»˜è®¤é…ç½®å°±å¯ä»¥ç›´æ¥è¿è¡Œã€‚ é»˜è®¤ç¼–è¯‘è¿è¡Œçš„å¿«æ·é”®æ˜¯ctrl + Alt + Nï¼Œç”±äºä¹‹å‰ç”¨çš„éƒ½æ˜¯Sublimeï¼Œ é‡Œé¢ç¼–è¯‘æ˜¯Ctrl+Bï¼Œ å› æ­¤ç”¨ä¹ æƒ¯åæœ‰ç‚¹ä¸æƒ³æ”¹å°±ç›´æ¥ä¿®æ”¹æ‰äº†ã€‚æ–¹æ³•ä¸ºï¼šCtrl + Shift + Pæ‰“å¼€è¾“å…¥æ¡†ï¼Œè¾“å…¥Keyboard Shortcuts, å°±ä¼šå¼¹å‡ºç›®å‰æ‰€æœ‰çš„å¿«æ·é”®ï¼Œç„¶åå†å°†åŸæ¥çš„Ctrl +Bçš„å¿«æ·é”®å–æ¶ˆ(ç›´æ¥è¾“å…¥Ctrl +Bå°±èƒ½æ‰¾åˆ°ç›®å‰è°çš„å¿«æ·é”®æ˜¯Ctrl +B)ï¼Œç„¶åå†è¾“å…¥Code runï¼Œå°†å…¶å¿«æ·é”®è®¾ç½®ä¸ºCtrl +Bå³å¯ã€‚ åœ¨è¿è¡ŒPythonä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œä¸€ç›´æŠ¥é”™: The environment variable 'Path' seems to have some paths containing the '&quot;' character. The existence of such a character is known to have caused the Python extension to not load. If the extension fails to load please modify your paths to remove this '&quot;' character.åæ¥åœ¨æ‰¾åˆ°è§£å†³æ–¹æ¡ˆğŸ˜—* æ˜¯å› ä¸ºä½ åœ¨æ·»åŠ å…¶ä»–ç¯å¢ƒå˜é‡æ—¶ï¼ŒåŠ äº†; åˆ†å·â€”&gt;åˆ æ‰å°±å¥½äº†** open in browser ç¼–å†™htmlé¡µé¢è°ƒè¯•æ—¶æ¯”è¾ƒæ–¹ä¾¿ koroFileHeader è‡ªåŠ¨ç”Ÿæˆå¤´éƒ¨æ³¨é‡Šå’Œå‡½æ•°æ³¨é‡Šçš„ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ï¼Œé™¤äº†htmlä»¥å¤–åŸºæœ¬ä¸Šéƒ½èƒ½ç”¨ï¼ŒæŒºå¥½ä½¿çš„ã€‚ å¦‚æœä¸æ»¡æ„é»˜è®¤é…ç½®ï¼Œ å¯ä»¥è‡ªå·±å†ç¨å¾®è°ƒä¸€è°ƒï¼Œå±•ç¤ºä¸‹æˆ‘çš„è®¾ç½®ï¼š 12345678910111213141516171819202122232425262728&#123; /** * @description: Latexç›¸å…³é…ç½® */ \"latex-workshop.showContextMenu\":true, //å³é”®èœå• // ...Latexçš„å¤ªå¤šäº†, å°±ä¸ä¸€ä¸€å±•ç¤ºäº†. /** * @description: koroFileHeaderç›¸å…³é…ç½® * ctrl+alt+i,æ·»åŠ æ–‡ä»¶å¤´æ³¨é‡Š, ctrl+alt+t,æ·»åŠ å‡½æ•°æ³¨é‡Š * \"Do not edit\"çš„å†…å®¹ä¼šè‡ªåŠ¨æ·»åŠ  */ \"fileheader.customMade\": &#123; //æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š \"Author\": \"Mrli\", \"Date\": \"Do not edit\", // æ–‡ä»¶åˆ›å»ºäº‹ä»¶ \"LastEditTime\": \"Do not edit\", // æ–‡ä»¶æœ€åç¼–è¾‘æ—¶é—´ \"Description\": \"\", &#125;, \"fileheader.cursorMode\": &#123; // å‡½æ•°æ³¨é‡Š \"Author\": \"Mrli\", \"Date\": \"Do not edit\", // å½“å‰æ—¶é—´, å‡½æ•°çš„å¼€å§‹ç¼–å†™ã€å®Œæˆç¼–å†™æ—¶é—´ \"Description\": \"\", \"param\": \"\", \"return\": \"\", &#125;, \"editor.fontFamily\": \"Monaco, 'Courier New', monospace\"&#125;// å¥½ç”¨æ’ä»¶æ¨è https://blog.csdn.net/qq_41139830/article/details/85221330 ç”¨æˆ·å¯¹æ’ä»¶çš„è‡ªå®šä¹‰é…ç½®åŸºæœ¬ä¸Šéƒ½æ˜¯å†™åœ¨è¿™ä¸ªsettings.jsonä¸‹ã€‚å½“ç„¶ï¼Œå¯ä»¥å¯¹æŸä¸ªé¡¹ç›®å•ç‹¬è®¾ç½®é…ç½®ï¼Œå³ä¼šåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆ.vscodeæ–‡ä»¶å¤¹ï¼Œé‡Œé¢ä¼šæœ‰ä¸ªsettings.jsonæ¥è¿›è¡Œé…ç½®. Bracket Pair Colorizer ç¼–å†™JSä»£ç æ—¶æˆ‘æ˜¯æ„Ÿè§‰çœŸçš„å¥½ç”¨ï¼ŒJSé‡Œå¤§æ‹¬å·å’Œæ‹¬å·æœ‰æ—¶çœŸçš„å¾ˆéš¾è®°å¾—åŒ¹é…æ¬¡åºã€‚ Anaconda Extension Pack å°±å›¾ä»–çš„å…³é”®å­—æé†’è¡¥å…¨ã€‚ æ’ä»¶æ¯”è¾ƒå¤§ï¼Œ å®‰è£…äº†æŒºä¹…çš„ï¼Œå¥½åƒè¿˜è‡ªå¸¦ä¸€ä¸ªPython Extensionæ’ä»¶ã€‚ Autopep8 æµ‹è¯•è‡ªåŠ¨è§„èŒƒä»£ç (Alt + Shift + F)æ—¶ï¼Œæç¤ºè¦å®‰è£…Autopep8ï¼Œé‚£å°±å®‰è£…å’¯ã€‚ä½†è¿™ä¸ªåº”è¯¥åªèƒ½ç®—Pythonçš„æ’ä»¶ï¼Œpython.exe -m pip install -U autopep8 --user Path Autocomplete æœ‰æ—¶å€™ç¨‹åºéœ€è¦è¯»å–æ–‡ä»¶ï¼Œè‡ªå·±æ‰‹åŠ¨å»å¤åˆ¶æ–‡ä»¶è·¯å¾„è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œä¸è¿‡æœ‰äº†è¿™ä¸ªæ’ä»¶å°±æ–¹ä¾¿å¤šäº†ï¼Œå®ƒèƒ½è‡ªåŠ¨æ„ŸçŸ¥å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œåªéœ€è¦ä½ è‡ªå·±é€‰æ‹©å°±å¥½äº†ã€‚ windows opacity è®¾ç½®çª—å£é€æ˜åº¦çš„ï¼Œä¸€å¼€å§‹ä»¥ä¸ºæŒºå¥½ç”¨ï¼Œ ç”¨äº†åå‘ç°è‡ªå·±è¿˜æƒ³ä¸å¤ªå–œæ¬¢ï¼Œ çœŸçš„æ˜¯å¤ªé€æ˜äº†ï¼Œå¯ä»¥è®¾ç½®0-255ï¼Œ 240æˆ‘ç”¨ç€å·®ä¸å¤šã€‚ï¼ˆ0çš„è¯ä¼šæ¶ˆå¤±çš„ï¼‰ è¿˜æœ‰äº›å¯ä»¥ç½‘ä¸Šå†æ‰¾æ‰¾ï¼Œæ¨ä¸ªæŒºä¸é”™çš„åšå®¢ï¼š https://blog.csdn.net/hnshhshjq/article/details/80140401 â˜… https://mp.weixin.qq.com/s?__biz=MzAxOTcxNTIwNQ==&amp;mid=2457918435&amp;idx=2&amp;sn=78a94468973f701e674246f1d520434b&amp;chksm=8cb6be09bbc1371fc6582cc7eda6791278165c6527e385f49ee56ceea94e9ca2e3f45efce368&amp;scene=21#wechat_redirect ç”¨æˆ·è‡ªå®šä¹‰å¿«æ·ä»£ç æ®µï¼š File -&gt; Preferences -&gt; User snippetsï¼Œ é™„ä¸€æ®µæˆ‘çš„C++è®¾ç½® -&gt; cpp.sjon 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&#123; // Place your snippets for cpp here. Each snippet is defined under a snippet name and has a prefix, body and // description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are: // $1, $2 for tab stops, $0 for the final cursor position, and $&#123;1:label&#125;, $&#123;2:another&#125; for placeholders. Placeholders with the // same ids are connected. // Example: // \"Print to console\": &#123; // \"prefix\": \"log\", // \"body\": [ // \"console.log('$1');\", // \"$2\" // ], // \"description\": \"Log output to console\" // &#125; \"Print out fori\": &#123; \"prefix\": \"fori\", \"body\": [ \"for (int i = 0; i &lt; $1; i++) &#123;\", \" $0\", \"&#125;\" ], \"description\": \"Output Loop 'fori'\" &#125;, \"Print out forj\": &#123; \"prefix\": \"forj\", \"body\": [ \"for (int j = 0; j &lt; $1; j++) &#123;\", \" $0\", \"&#125;\" ], \"description\": \"Output Loop 'forj'\" &#125;, \"Common template\": &#123; \"prefix\": \"qqq\", \"body\": [ \"#include &lt;bits/stdc++.h&gt;\", \"using namespace std;\", \"const int INF = 0x3f3f3f3f;\", \"int n;\", \"\", \"\", \"int main()&#123;\", \" ios::sync_with_stdio(false);\", \" cin.tie(0);\", \" \", \" $0\", \" \", \" return 0;\", \"&#125;\" ] &#125;&#125; å¿«æ·é”®: https://www.cnblogs.com/schut/p/10461840.html","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"}]},{"title":"ç®—æ³•ç¬”è®°Codeupé¢˜è§£","slug":"ç®—æ³•ç¬”è®°Codeupé¢˜è§£","date":"2020-03-04T06:21:49.000Z","updated":"2020-03-04T14:22:59.262Z","comments":true,"path":"2020/03/04/ç®—æ³•ç¬”è®°Codeupé¢˜è§£/","link":"","permalink":"https://nymrli.top/2020/03/04/ç®—æ³•ç¬”è®°Codeupé¢˜è§£/","excerpt":"","text":"100000612 - ã€Šç®—æ³•ç¬”è®°ã€‹9.3å°èŠ‚â€”â€”æ•°æ®ç»“æ„ä¸“é¢˜(2)-&gt;æ ‘çš„éå† é—®é¢˜ A: æ ‘æŸ¥æ‰¾ 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 1e3 + 5;int arr[MAXN];typedef long long ll;ll fast_pow(int d, int base)&#123; int n = d; ll res = 1; while(n&gt;0)&#123; if( n &amp; 1) res = res*base; base = base * base; n &gt;&gt;= 1; &#125; return res;&#125;int main(int argc, char const *argv[])&#123; int n, d; while(cin &gt;&gt;n &amp;&amp; n)&#123; for (int i = 0; i &lt; n; ++i) cin &gt;&gt; arr[i]; cin &gt;&gt;d; if ( n &lt; fast_pow(d, 2) )&#123; // då±‚æ²¡æœ‰èŠ‚ç‚¹ cout &lt;&lt; \"EMPTY\"&lt;&lt;endl; &#125;else&#123; int beginn = fast_pow(d-1, 2); int endn = fast_pow(d, 2); cout &lt;&lt; beginn; for (int i = beginn+ 1; i &lt; n &amp;&amp; i&lt; endn; ++i) cout&lt;&lt; \" \" &lt;&lt; i ; cout &lt;&lt; endl; &#125; &#125; return 0;&#125; é—®é¢˜ B: æ ‘çš„é«˜åº¦ é¢˜ç›®è¦æ±‚æˆ‘ä»¬ç»ƒä¹ æ ‘çš„é™æ€å†™æ³•ã€‚ä½†å…¶å®è¿™é“é¢˜ç›´æ¥è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„é«˜åº¦å°±è¡Œäº†ã€‚ 123456789101112131415161718192021222324252627282930#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 1e3 + 5;int n;struct Node&#123; int height; std::vector&lt;int&gt; child;&#125;Nodearr[MAXN];int getHeight()&#123; int m = -1; for (int i = 1; i &lt;= n; ++i)&#123; if(Nodearr[i].height &gt; m) m = Nodearr[i].height; &#125; return m;&#125;int main(int argc, char const *argv[])&#123; scanf(\"%d\", &amp;n); int a, b; Nodearr[1].height = 1; while(scanf(\"%d %d\",&amp;a,&amp;b)!=EOF)&#123; // Nodearr[a].child.push_back(b); Nodearr[b].height = Nodearr[a].height +1; &#125; cout &lt;&lt; getHeight() &lt;&lt; endl; return 0;&#125; æ­£è§„å†™æ³•ï¼šå…ˆæ„å»ºæ ‘ï¼Œ ç„¶åå†å±‚æ¬¡éå†è®¡ç®—é«˜åº¦ 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;cstdio&gt;#include &lt;vector&gt;#include &lt;queue&gt;using namespace std;const int m=10010;struct node&#123; int layer; vector&lt;int&gt; child;&#125;tree[m];int MaxHigh;// æ ‘çš„é™æ€å†™æ³•çš„å±‚æ¬¡éå†void BFS(int root)&#123; MaxHigh=0; queue&lt;int&gt; q; tree[root].layer =1; q.push(root); if(tree[root].layer&gt;MaxHigh) MaxHigh=tree[root].layer; while(!q.empty())&#123; int front=q.front() ; q.pop(); for(int i=0;i&lt;tree[front].child.size();i++)&#123; int child=tree[front].child[i]; tree[child].layer =tree[front].layer +1; q.push(child); if(tree[child].layer&gt;MaxHigh) MaxHigh=tree[child].layer; &#125; &#125;&#125;int main()&#123; int n,a,b; while(scanf(\"%d\",&amp;n)!=EOF)&#123; while(scanf(\"%d %d\",&amp;a,&amp;b)!=EOF)&#123; tree[a].child.push_back(b); &#125; BFS(1); printf(\"%d\\n\",MaxHigh); &#125; return 0;&#125; 100000613 - ã€Šç®—æ³•ç¬”è®°ã€‹9.4å°èŠ‚â€”â€”æ•°æ®ç»“æ„ä¸“é¢˜(2)-&gt;äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰ é—®é¢˜ A: äºŒå‰æ’åºæ ‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 1e3 + 5;int n;int data[MAXN];struct Node&#123; int v; Node *lc, *rc;&#125;;Node* newNode(int x)&#123; Node *now = new Node; now-&gt;v = x; now-&gt;lc = now-&gt;rc = NULL; return now;&#125;void insert(Node* &amp;root, int x)&#123; if(root == NULL)&#123; root = newNode(x); &#125; if(root-&gt;v == x) return; // å·²å­˜åœ¨ else if (x &lt; root-&gt;v ) insert(root-&gt;lc, x); else if (x &gt; root-&gt;v ) insert(root-&gt;rc, x);&#125;Node *createTree()&#123; Node *root = NULL; // â–²æ³¨æ„æ­¤å¤„æ˜¯NULLï¼Œ è€Œä¸æ˜¯new Node for (int i = 0; i &lt; n; ++i) insert(root, data[i]); return root;&#125;void preOrder(Node *root)&#123; if(root == NULL ) return; cout &lt;&lt; root-&gt;v &lt;&lt; \" \"; preOrder(root-&gt;lc); preOrder(root-&gt;rc);&#125;void inOrder(Node *root)&#123; if(root == NULL ) return; inOrder(root-&gt;lc); cout &lt;&lt; root-&gt;v &lt;&lt; \" \"; inOrder(root-&gt;rc);&#125;void postOrder(Node *root)&#123; if(root == NULL ) return; postOrder(root-&gt;lc); postOrder(root-&gt;rc); cout &lt;&lt; root-&gt;v &lt;&lt; \" \";&#125;int main(int argc, char const *argv[])&#123; while(cin &gt;&gt; n)&#123; for (int i = 0; i &lt; n; ++i) cin &gt;&gt; data[i]; Node* root = createTree(); preOrder(root); cout &lt;&lt; endl; inOrder(root); cout &lt;&lt; endl; postOrder(root); cout &lt;&lt; endl; &#125; return 0;&#125; é—®é¢˜ B: äºŒå‰æœç´¢æ ‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 1e3 + 5;int n;int data[MAXN];struct Node&#123; char v; Node *lc, *rc;&#125;;Node* newNode(char x)&#123; Node *now = new Node; now-&gt;v = x; now-&gt;lc = now-&gt;rc = NULL; return now;&#125;void insert(Node* &amp;root, char x)&#123; if (root == NULL)&#123; root = newNode(x); return ; &#125; if (x == root-&gt;v ) return; else if (x &lt; root-&gt;v ) insert(root-&gt;lc, x); else if (x &gt; root-&gt;v ) insert(root-&gt;rc, x);&#125;Node* createTree(string s)&#123; Node *root = NULL; for (int i = 0; i &lt; s.size(); ++i)&#123; insert(root, s[i]); &#125; return root;&#125;void preOrder(Node *root, string &amp;s)&#123; if(root == NULL ) return; s += root-&gt;v; preOrder(root-&gt;lc, s); preOrder(root-&gt;rc, s);&#125;void inOrder(Node *root, string &amp;s)&#123; if(root == NULL ) return; inOrder(root-&gt;lc, s); s += root-&gt;v; inOrder(root-&gt;rc, s);&#125;void postOrder(Node *root, string &amp;s)&#123; if(root == NULL ) return; postOrder(root-&gt;lc, s); postOrder(root-&gt;rc, s); s += root-&gt;v;&#125;int main(int argc, char const *argv[])&#123; int n; while( cin &gt;&gt; n &amp;&amp; n)&#123; string target; cin &gt;&gt; target; string preans, postans; Node *ans = createTree(target); preOrder(ans, preans); postOrder(ans, postans); // inOrder(root, in); // ç”±äºä¸­åºéå†çš„ç»“æœå°±æ˜¯æ’åºçš„ç»“æœ, å› æ­¤éƒ½ä¸€æ · for (int i = 0; i &lt; n; ++i)&#123; string s; cin &gt;&gt; s; string in, pre, post; Node *root = createTree(s); preOrder(root, pre); if (pre == preans)&#123; postOrder(root, post); if (post == postans) cout &lt;&lt; \"YES\" &lt;&lt;endl; else cout &lt;&lt; \"NO\" &lt;&lt;endl; &#125;else cout &lt;&lt; \"NO\" &lt;&lt;endl; &#125; &#125; return 0;&#125;","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"}]},{"title":"PATå†²å†²å†²â€”â€”ä¹™çº§","slug":"PATå†²å†²å†²â€”â€”ä¹™çº§","date":"2020-02-02T08:26:41.000Z","updated":"2020-09-05T04:45:09.548Z","comments":true,"path":"2020/02/02/PATå†²å†²å†²â€”â€”ä¹™çº§/","link":"","permalink":"https://nymrli.top/2020/02/02/PATå†²å†²å†²â€”â€”ä¹™çº§/","excerpt":"","text":"PATå†²å†²å†²â€”â€”ä¹™çº§ PATç”²çº§ç»ƒä¹ é¢˜ â€”â€”PAT (Advanced Level) Practice PATç”²çº§(Advanced Level)çœŸé¢˜ æŸ³å©¼ ã® blogç»éªŒ saquariusâ€™s blog PATç”²çº§é¢˜ç›®åŠåˆ†ç±»æ€»ç»“ patç”²çº§é¢˜è§£ç›®å½• â–²æŠ¥åè´¹256ï¼Œå¯ä»¥åˆ·ç‰›å®¢ç½‘çš„é¢˜æ¥è·å¾—-50çš„ä¼˜æƒ åˆ¸ï¼Œè¯¥ç»ƒä¹ åœºä¸‹çš„æ‰€æœ‰é¢˜ç›®åªè¦é€šè¿‡éƒ½ç®— ä¹™çº§ç»ƒä¹ é¢˜ NowCoderæ•°åˆ— æ²¡æƒ³åˆ°ç¬¬äºŒé¢˜å°±æ˜¯è€ƒäº†ä¸ªæ•°æ®èŒƒå›´ï¼Œç”±äº0â‰¤nâ‰¤1000000ï¼Œæ‰€ä»¥F(n)å¿…ç„¶æ¯”long longå¤§ï¼Œè€Œåˆ¤æ–­3çš„å€æ•°å¯è¡¨ç¤ºä¸º===&gt; F(n) % 3 â€”&gt; (F(n-1)%3 + F(n-2)%3) % 3 æ±‚ä½™è¿ç®—æ€§è´¨ï¼ša = b+c --&gt; a%d = (b%d+c%d) % d 12345678910111213141516171819#include&lt;stdio.h&gt;long long f[1000000+5];int main()&#123; int n,i; f[0]=7; f[1]=11; for(i=2;i&lt;=1000000;i++)&#123; f[i]=(f[i-1]%3+f[i-2]%3)%3; &#125; while(scanf(\"%d\",&amp;n)!=EOF)&#123; if(f[n]!=0) printf(\"No\\n\"); else printf(\"Yes\\n\"); &#125; return 0;&#125; å…»å…”å­ éå¸¸ç»å…¸çš„æ–æ³¢é‚£å¥‘æ•°åˆ—é¢˜ 123456789101112131415161718#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define N 90+5ll arr[N]; int main()&#123; int n; arr[1] = 1; arr[2] = 2; for(int i = 3;i&lt;=N;i++)&#123; arr[i] = arr[i-1] + arr[i-2]; &#125; while( cin &gt;&gt; n)&#123; cout &lt;&lt; arr[n] &lt;&lt;endl; &#125; return 0;&#125; å®¢ä¼¼äº‘æ¥ æ–æ³¢é‚£å¥‘æ•°åˆ—çš„æ‹“å±•é¢˜ï¼Œå°†å…¶ä¸­æŸä¸ªåŒºé—´çš„å€¼ç´¯åŠ è¾“å‡ºï¼ˆéœ€è¦ç‰¹åˆ¤æ˜¯å¦ä¸ºæŸä¸ªç‚¹ï¼‰ 123456789101112131415161718192021222324252627#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define N 80+5ll arr[N]; int main()&#123; int from, to; arr[1] = 1; arr[2] = 1; for(int i = 3;i&lt;=N;i++)&#123; arr[i] = arr[i-1] + arr[i-2]; &#125; while( cin &gt;&gt; from &gt;&gt; to)&#123; ll tmp = 0 ; // æ³¨æ„éœ€è¦ç‰¹åˆ¤æ˜¯å¦ç›¸ç­‰ if (from == to) tmp = arr[from]; else&#123; for(int i=from; i&lt;= to;i++)&#123; tmp += arr[i] ; &#125; &#125; cout &lt;&lt; tmp &lt;&lt;endl; &#125; return 0;&#125; æ–æ³¢é‚£å¥‘å‡¤å°¾ ä¸€éè¿˜æŒºéš¾è¿‡çš„ï¼Œæœ‰ä¸å°‘çš„å‘ç‚¹ 1.è™½ç„¶ä¹Ÿæ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä½†æ˜¯ä¸€å®šè¦æ³¨æ„å‰ä¸¤é¡¹çš„å–å€¼ 2.è¾“å‡ºæœ«å°¾çš„6ä½ï¼Œé‚£ä¹ˆå°±æ˜¯%1e6ï¼Œä½†æ˜¯å¦‚æœæœ‰å‰ç½®0ï¼Œéœ€è¦è¡¥é›¶ï¼Œæˆ‘æ˜¯ä½¿ç”¨iomanipä¸­çš„setwå’Œsetfillå®ç°çš„ 3.æ€ä¹ˆåˆ¤æ–­è¶…è¿‡6ä½ï¼šæ‰¾å‡ºè¶…è¿‡6ä½çš„nåº”è¯¥ç®—æ¯”è¾ƒç®€å•çš„æ–¹æ³•äº†å§ 123456789101112131415161718192021222324252627282930313233#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define N 100000 + 5ll arr[N]; int main()&#123; int n; arr[1] = 1; arr[2] = 2; for(int i = 3;i&lt;=N;i++)&#123; /* ç”¨æ¥æ‰¾åˆ°è¶…è¿‡1e6çš„n arr[i] = (arr[i-1] + arr[i-2]); if (arr[i] &gt; 1000000)&#123; cout &lt;&lt; i &lt;&lt; endl; break; &#125; */ arr[i] = (arr[i-1]%1000000 + arr[i-2]%1000000)%1000000; &#125; while( cin &gt;&gt; n)&#123; if (n&gt;= 30)&#123; cout &lt;&lt; setw(6)&lt;&lt;setfill('0') &lt;&lt; arr[n] &lt;&lt;endl; &#125;else&#123; cout &lt;&lt; arr[n] &lt;&lt; endl; &#125; &#125; return 0;&#125; Poä¸ªCçš„ä»£ç ï¼Œä½¿ç”¨printfçš„æ ¼å¼åŒ–è¾“å‡ºçš„ç‰¹æ€§ 123456789101112131415161718#include&lt;stdio.h&gt; int a[100005];int main()&#123; int n; a[1]=1; a[2]=2; for(int i=3;i&lt;=100000;i++) a[i]=(a[i-1]+a[i-2])%1000000; while(scanf(\"%d\",&amp;n)!=EOF) &#123; if(n&gt;=30) printf(\"%06d\\n\",a[n]); else printf(\"%d\\n\",a[n]); &#125; return 0; &#125; æ˜Ÿé™…å¯†ç  è¯´å®è¯ï¼Œä¸€å¼€å§‹æ²¡çœ‹æ‡‚é¢˜ï¼Œå› ä¸ºè¾“å…¥çš„nè·Ÿé¢˜ç›®é‡Œæåˆ°çš„nä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼šçŸ©é˜µXä¸º[[1 1],[0 1]]ï¼Œé¢˜ç›®ä¸­çš„næ˜¯æŒ‡å¤šå°‘æ¬¡å¹‚ï¼›è€Œè¾“å…¥é‡Œçš„næ˜¯æŒ‡æœ‰å¤šå°‘ä¸ªå¯†ç ï¼ŒçœŸæ­£çš„nå…¶å®æ˜¯ç¬¬äºŒè¡Œçš„è¾“å…¥Xi é‚£ä¹ˆåˆ†æä¸‹æ€è·¯ï¼ŒXi=1æ—¶1ï¼ŒXi=2æ—¶2ï¼ŒXi=3æ—¶==3 123456789101112131415161718192021222324252627282930#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define N 100000 + 5ll arr[N]; void initFib()&#123; arr[1] = 1; arr[2] = 2; for(int i = 3;i&lt;=N;i++)&#123; arr[i] = (arr[i-1]%10000 + arr[i-2]%10000)%10000; &#125;&#125;int main()&#123; int n; int input[100+5]; initFib(); while( cin &gt;&gt; n)&#123; for (int i = 0; i &lt; n; ++i)&#123; int tmp; cin &gt;&gt; tmp; cout &lt;&lt; setw(4)&lt;&lt;setfill('0') &lt;&lt; arr[tmp] ; &#125; cout &lt;&lt; endl; &#125; return 0;&#125; æ¯ç‰›çš„æ•…äº‹ å˜å½¢çš„Fibï¼Œå…¬å¼æ›´æ–°ä¸ºf(n)=f(nâˆ’1)+f(nâˆ’3)f(n) = f(n-1) + f(n-3)f(n)=f(nâˆ’1)+f(nâˆ’3) æœ€ä¸»è¦çš„å°±æ˜¯ç¡®å®šå‰å‡ é¡¹ï¼Œæ¯”è¾ƒå¥½çš„æ˜¯æ ·ä¾‹éƒ½ç»™å‡ºäº†2==&gt;2,4==&gt;4,5==&gt;6ï¼Œè¿™æ ·å°±æ¯”è¾ƒå¥½ç¡®å®šæ¯å¤´å°æ¯ç‰›ä»ç¬¬å››ä¸ªå¹´å¤´å¼€å§‹ï¼Œæ¯å¹´å¹´åˆä¹Ÿç”Ÿä¸€å¤´å°æ¯ç‰›åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€äº† 1234567891011121314151617181920212223#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define N 100000 + 5ll arr[N]; void initFib()&#123; arr[1] = 1; arr[2] = 2;arr[3]=3;arr[4]=4; for(int i = 5;i&lt;=N;i++)&#123; arr[i] = arr[i-1] + arr[i-3]; &#125;&#125;int main()&#123; int n; initFib(); while( cin &gt;&gt; n)&#123; cout &lt;&lt; arr[n]&lt;&lt;endl; &#125; return 0;&#125; ç«¥å¹´ç”Ÿæ´»äºŒä¸‰äº‹ Fibæ•°åˆ—çš„æ¿å­é¢˜ï¼Œåªä¸è¿‡éœ€è¦ç†è§£ä¸€ä¸‹ 123456789101112131415161718192021222324#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define N 90 + 5ll arr[N]; void initFib()&#123; arr[1] = 1; arr[2] = 2; for(int i = 3;i&lt;=N;i++)&#123; arr[i] = arr[i-1] + arr[i-2]; &#125;&#125;int main()&#123; int n; initFib(); while( cin &gt;&gt; n)&#123; cout &lt;&lt; arr[n] &lt;&lt; endl; &#125; return 0;&#125; èœœèœ‚å¯»è·¯ å¦‚æœå›ºå®šèµ·ç‚¹ä¸º1ï¼Œè®¡ç®—åˆ°æŸä¸ªä½ç½®çš„èµ°æ³•æ•°çš„è¯ï¼Œè·Ÿèµ°é˜¶æ¢¯å…¶å®æ˜¯ä¸€ç§æ€è·¯ï¼Œå°±æ˜¯f(n) = f(n-1) + f(n-2)ï¼Œå³ç¬¬nä¸ªä½ç½®çš„èµ°æ³•æ•°=ç¬¬n-1ä½ç½®èµ°æ³•æ•° + ç¬¬n-2ä½ç½®èµ°æ³•æ•° 1-&gt;2 1 2-&gt;3 1 3-&gt;4 1 1-&gt;3 2 2-&gt;4 2 3-&gt;5 2 1-&gt;4 3 2-&gt;5 3 3-&gt;6 3 1-&gt;5 5 2-&gt;6 5 3-&gt;7 5 1-&gt;6 8 2-&gt;7 8 3-&gt;8 8 å¯ä»¥å‘ç°å…¶ä¸­çš„è§„å¾‹ï¼šèµ°æ³•æ•°ä¸€ç›´æ˜¯Fibæ•°åˆ—ï¼Œè€Œå€¼ä¸ºfib(Ntoâˆ’Nfrom)fib(N_{to} - N_{from})fib(Ntoâ€‹âˆ’Nfromâ€‹) â–²ä½†è¿™é¢˜è¿˜æœ‰ä¸€ä¸ªéš¾ç‚¹åœ¨äºç”¨ä¾‹çš„èŒƒå›´(0 &lt; a &lt; b &lt; 231)ï¼Œå³b-a~=232-1ï¼Œä¸ºintæœ€å¤§èŒƒå›´ï¼Œä¼šå¯¼è‡´çš„é—®é¢˜æœ‰ä¸¤ä¸ª fibæ•°åˆ—é€šå¸¸ä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨ï¼Œä½†æ˜¯æ— æ³•å¼€ä¸ª2^32å¤§å°çš„æ•°ç»„ ==&gt;æ»šåŠ¨æ•°ç»„ã€é€’æ¨ï¼ˆä¸ç”¨æ•°ç»„ï¼‰ è¾“å‡ºçš„Fib(n)å°±è¿œè¿œè¶…è¿‡long longäº†ï¼Œå› æ­¤è¦ä¹ˆæ¨¡æ‹Ÿå¤§æ•°ç›¸åŠ ï¼Œé‚£ä¹ˆå¦å¯»ä»–æ³•ã€‚ ==&gt;â–³è¿˜éœ€è¦æ³¨æ„åˆ°çš„ä¸€ç‚¹æ˜¯,è¾“å‡ºæ•°æ®ç»“æœèŒƒå›´æ˜¯ [0, 2^63)ï¼Œé‚£ä¹ˆæ„æ€æ˜¯é¢˜ç›®è¦æ±‚çš„è¾“å‡ºå…¶å®æ˜¯åœ¨long long èŒƒå›´å†…çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥è€ƒè™‘æˆªå–è¾“å‡ºäº† 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;// ll credit = 9.2e18;å¼€çš„è¶³å¤Ÿå¤§èƒ½è¿‡æ ·ä¾‹å°±è¡Œll credit;/** * å¹‚è®¡ç®— * @author mrli 2019-10-27 * @param n [less than 63] * @return [long long type] */ll pow(int n)&#123; ll ans = 1; for (int i = 0; i &lt; n; ++i) ans *= 2; return ans;&#125;ll Fib(int del)&#123; if (del == 1) return 1; else if(del == 2) return 2; else&#123; ll f1 = 1; ll f2=2; ll ans; for(int i = 3;i&lt;=del;i++)&#123; // ans = f1 + f2 ;ä¹Ÿè¿‡äº† ans = ( f1%(credit) + f2%(credit) )%credit; f1 = f2; f2 = ans; &#125; return ans; &#125;&#125;int main()&#123; int n; credit = pow(63)-1; cin &gt;&gt; n; while( n-- )&#123; int from, to; cin &gt;&gt; from &gt;&gt; to; ll ans; cout &lt;&lt; Fib(to-from) &lt;&lt; endl; &#125; return 0;&#125; çœ‹äº†åˆ«äººçš„é¢˜è§£å,å‘ç°æƒ³å¤šäº†ã€‚é¢˜ç›®çš„æ„æ€æ˜¯å¾—åˆ†ç‚¹çš„è¾“å‡ºå€¼éƒ½åœ¨long long èŒƒå›´å†…ï¼Œè€Œä¸æ˜¯éœ€è¦ä½ æŠŠè¾“å‡ºå€¼å‹ç¼©åœ¨long longèŒƒå›´å†…ï¼Œæœç„¶å»æ‰ %è¿ç®—ä¹Ÿè¿‡äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839//èœœèœ‚å¯»è·¯#include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;vector&gt;#include &lt;queue&gt;#include &lt;cmath&gt;using namespace std;#define ms(x, n) memset(x,n,sizeof(x));typedef long long LL;const LL maxn = 2147483648+5; LL dp[3]; //æ»šåŠ¨æ•°ç»„int n, a, b;LL solve()&#123; ms(dp, 0); dp[0] = 1, dp[1] = 1; for(int i = 2; i &lt; b-a+1; i++) dp[i%3] = dp[0]+dp[1]+dp[2]-dp[i%3]; //å³dp[i]=dp[i-1]+dp][i-2] LL ans = 0; for(int i = 0; i &lt; 3; i++) ans = max(dp[i], ans); return ans;&#125; int main()&#123; cin &gt;&gt; n; while(n--)&#123; cin &gt;&gt; a &gt;&gt; b; cout &lt;&lt; solve() &lt;&lt; endl; //ä»1åˆ°4å’Œä»2åˆ°5ç­”æ¡ˆæ˜¯ä¸€æ ·çš„ &#125; return 0;&#125; åˆ†æ•°è¿ç®— ç‰›å®¢ç½‘å‘¨èµ›åšåˆ°è¿‡ä¸€æ¬¡ï¼Œæ„Ÿè§‰å½“æ—¶å†™çš„æ¯”ç°åœ¨çš„ç®€å•ã€‚éš¾ç‚¹åœ¨ä½¿ç”¨GCDè¿›è¡Œçº¦åˆ† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std; typedef long long ll; /** * è¾—è½¬ç›¸é™¤æ³•,æ±‚æœ€å¤§å…¬çº¦æ•° * @author mrli 2019-10-28 * @param a [description] * @param b [description] * @return [description] */int gcd(int a, int b)&#123; if (b==0) return a; return gcd(b,a%b);&#125; int main()&#123; int a1,a2,b1,b2; char op3; while( scanf(\"%d/%d %d/%d %c\", &amp;a1, &amp;a2, &amp;b1, &amp;b2, &amp;op3) != EOF)&#123; int fenmu; int fenzi; if (op3 == '+')&#123; fenmu = a2*b2; fenzi = a1*b2+a2*b1; &#125; else if (op3 == '-')&#123; fenmu = a2*b2; fenzi = a1*b2-a2*b1; &#125; else if (op3 == '*')&#123; fenmu = a2*b2; fenzi = a1*b1; &#125; else&#123; //if (op3 == '*')&#123; fenmu = a2*b1; fenzi = a1*b2; &#125; // æ‰¾å‡ºæœ€å¤§å…¬å› å­,çº¦åˆ† int common = gcd(fenmu,fenzi); int res_zi = fenzi/common; int res_mu = fenmu/common; if ( res_mu * res_zi &gt; 0) cout &lt;&lt; abs(fenzi/common) &lt;&lt; '/' &lt;&lt; abs(fenmu/common) &lt;&lt; endl; else cout &lt;&lt; '-' &lt;&lt;abs(fenzi/common) &lt;&lt; '/' &lt;&lt; abs(fenmu/common) &lt;&lt; endl; &#125; return 0;&#125; åˆ†è§£å› æ•° ä½¿ç”¨å°å­¦çš„çŸ­é™¤æ³•ï¼Œæˆ‘ä»¬å¾ˆæ¸…æ¥šçš„çŸ¥é“ï¼Œè¦æƒ³æ±‚å‡ºå®ƒçš„æ¯ä¸€ä¸ªè´¨å› æ•°ï¼Œæˆ‘ä»¬éœ€è¦ç”¨è´¨æ•°å»è¯•é™¤ã€‚90èƒ½è¢«2æ•´é™¤ï¼Œé‚£å°±æ‹¿å•†ç»§ç»­é™¤ä»¥2ï¼Œé™¤ä¸å°½å°±æ¢3ï¼Œä¸€ç›´åˆ°é™¤åˆ°è´¨æ•°ä¸ºæ­¢ã€‚åŸºç¡€ä»£ç æ¡†æ¶ç±»ä¼¼åˆ¤æ–­è´¨æ•°ï¼Œåªæ˜¯è¢«åˆ¤æ–­çš„æ•°å­—åœ¨è¿‡ç¨‹ä¸­ä¸æ–­è¢«é™¤ï¼Œæœ€ç»ˆå¾ªç¯ç»“æŸçš„æ—¶å€™ï¼Œé‚£ä¸ªè¢«å¤„ç†è¿‡çš„æ•°å­—ï¼Œå°±æ˜¯æœ€åä¸€ä¸ªè´¨å› æ•°ã€‚ 12345678910111213141516171819202122#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; int n; while( cin &gt;&gt; n)&#123; bool first = true; int tmpn = n; cout &lt;&lt; n &lt;&lt; \" = \" ; for (int i = 2; i &lt;= sqrt(n); ++i)&#123; while ( tmpn%i == 0 &amp;&amp; tmpn != i)&#123; tmpn /= i; cout &lt;&lt; i &lt;&lt; \" * \"; &#125; &#125; cout &lt;&lt; tmpn &lt;&lt; endl; &#125; return 0;&#125; æˆ‘çš„ç¬¬ä¸€æ¬¡åšæ³•ï¼š ä¸€ç›´TLEï¼Œä¼°è®¡è¿™ç§çš„è¯ï¼Œå¿…é¡»å¾—çº¿æ€§ç­›ï¼Œæˆ‘æœäº†å‡ ä¸ªé¢˜è§£çš„ç»“æœä¹Ÿè¯æ˜é™¤äº†ä¸Šè¿°é¢˜è§£ï¼Œå…¶ä»–çš„éƒ½æ˜¯çº¿æ€§ç­›ï¼Œä¸Šé¢çš„å°±æ¯”è¾ƒå·§å¦™ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll; bool isPrime( int num )&#123; //ä¸¤ä¸ªè¾ƒå°æ•°å¦å¤–å¤„ç† if (num==1) return false; if(num ==2|| num==3 ) return true ; //ä¸åœ¨6çš„å€æ•°ä¸¤ä¾§çš„ä¸€å®šä¸æ˜¯è´¨æ•° if(num %6!= 1&amp;&amp;num %6!= 5) return false; //åœ¨6çš„å€æ•°ä¸¤ä¾§çš„ä¹Ÿå¯èƒ½ä¸æ˜¯è´¨æ•° for(int i= 5;i &lt;= sqrt( num); i+=6 ) if(num %i== 0||num %(i+ 2)==0 ) return false ; //æ’é™¤æ‰€æœ‰ï¼Œå‰©ä½™çš„æ˜¯è´¨æ•° return true;&#125;int main()&#123; int n; while( cin &gt;&gt; n)&#123; bool first = true; cout &lt;&lt; n &lt;&lt; \" = \" ; int tmpn = n; for(int i=2;i&lt;=tmpn;i++)&#123; while ( isPrime(i) &amp;&amp; n%i == 0)&#123; n /= i; if (first) &#123; first = false; cout &lt;&lt; i ; &#125; else cout &lt;&lt; \" * \" &lt;&lt; i ; if (n==0) break; &#125; &#125; cout &lt;&lt; endl; &#125; return 0;&#125; å› å­ä¸ªæ•° ç”¨åˆ°äº†ä¸Šé¢˜çš„ç»“è®ºï¼Œä¸€ä¸ªæ­£æ•´æ•°æ€»å¯ä»¥åˆ†è§£æˆä¸€ä¸ªæˆ–å¤šä¸ªç´ æ•°çš„ç§¯ï¼Œä¸€å¼€å§‹ç†è§£é”™é¢˜ç›®äº†ï¼Œä»¥ä¸ºæ˜¯æ‰€æœ‰å› æ•°çš„ä¸ªæ•°ï¼Œå…¶å®æ˜¯å› æ•°çš„ç§æ•°ï¼Œæ¯”å¦‚20-&gt;2æ˜¯å› ä¸º2ï¼Œ2ï¼Œ5ï¼›30-&gt;3æ˜¯å› ä¸º2ï¼Œ3ï¼Œ5ã€‚ å› æ­¤è¿™è¾¹è¿˜æ˜¯éœ€è¦ç´ æ•°åˆ¤åˆ«ï¼Œå¡çš„ç‚¹ä¹Ÿåœ¨è¿™ï¼Œè¦ç”¨çº¿æ€§ç­›ï¼Œå…¶å®å°±æ˜¯ä¸Šé¢˜çš„å›ç­”æ–¹å¼ä¸åŒç½¢äº† 123456789101112131415161718192021222324#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; int n; while( cin &gt;&gt; n)&#123; int ans=0; int tmp = n; for (int i = 2; i &lt;= n; ++i)&#123; bool first = true; while (tmp%i==0)&#123; tmp/=i; if (first)&#123; first = !first; ans ++; &#125; &#125; &#125; cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125; 12345678910111213141516171819202122232425#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; int n; while( cin &gt;&gt; n)&#123; int ans=0; int tmp = n; for (int i = 2; i &lt;= sqrt(n); ++i)&#123; // bool first = true; if (tmp%i==0)&#123; while (tmp%i==0)&#123; tmp/=i; &#125; ans++; &#125; &#125; if (tmp!=1) ans++; cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125; skewæ•° æ¨¡æ‹Ÿé¢˜ã€å®ç°ä¸€ä¸ªå¹‚è¿ç®— 12345678910111213141516171819202122232425262728293031#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int pow2(int n)&#123; int ans=1; for (int i = 0; i &lt; n; ++i) ans *= 2; return ans;&#125;int main()&#123; ios::sync_with_stdio(false); string s; while( cin &gt;&gt; s )&#123; int size = s.size(); int ans=0; for (int i = 0; i &lt; size; ++i)&#123; /* code */ if (s[i] == '2')&#123; ans += 2*(pow2(size-i)-1); break; &#125; ans += (s[i]-'0')*(pow2(size-i)-1); &#125; cout &lt;&lt; ans &lt;&lt;endl; &#125; return 0;&#125; ä¸€çš„ä¸ªæ•° éå¸¸åŸºç¡€çš„ä¸€é“é¢˜ï¼šrè¿›åˆ¶è¡¨ç¤º 12345678910111213141516171819#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; int n, r; while( cin &gt;&gt; n &gt;&gt; r)&#123; int ans=0; while(n)&#123; if (n%r==1) &#123; ans++; &#125; n /= r; &#125; cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125; å¤–æ˜Ÿäººçš„è¯­è¨€ rè¿›åˆ¶çš„æ‹“å±•ï¼Œéœ€è¦å°†å„ä½è¾“å‡ºå‡ºæ¥ï¼Œç”±äºæ˜¯é€†åºçš„ï¼Œæ‰€ä»¥éœ€è¦ä¸€1.ä¸ªæ ˆæ¥åè½¬ä¸€ä¸‹ã€æˆ–æ˜¯2.ä½¿ç”¨stringçš„åè½¬åŠŸèƒ½ 123456789101112131415161718192021222324252627282930313233#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; int n, r; stack&lt;char&gt; s; while( cin &gt;&gt; n &gt;&gt; r)&#123; int ans=0; while(n)&#123; // 0-9 char c = n%r+48; if (n%r&gt;=10) &#123; // A-F c = n%r-10+65; &#125; n /= r; // ä¸ç›´æ¥coutï¼Œè€Œæ˜¯å­˜æ ˆ s.push(c); &#125; while(!s.empty())&#123; // å–å‡ºæ ˆé‡Œçš„å†…å®¹ char c = s.top(); s.pop(); cout &lt;&lt; c; &#125; cout &lt;&lt; endl; &#125; return 0;&#125; æ•°ä½å’Œ ä»£ç ä¸ºä¸€çš„ä¸ªæ•°+å¤–æ˜Ÿäººçš„è¯­è¨€çš„ç»“åˆç‰ˆã€‚ é¢˜ç›®è¦æ±‚ï¼Œå°†æ•°nï¼Œå…ˆè¡¨ç¤ºæˆrè¿›åˆ¶çš„å½¢å¼ï¼Œç„¶åå†è®¡ç®—rè¿›åˆ¶ä¸‹nçš„ä½æ•°å’Œï¼Œç„¶åå†ç”¨rè¿›åˆ¶æ¥è¡¨ç¤ºä½æ•°å’Œçš„ç»“æœ 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; // ACMæ¯”èµ›ä¸­cin,çš„ä½¿ç”¨æ¯”è¾ƒè€—æ—¶,å› ä¸ºé»˜è®¤çš„æ—¶å€™ï¼Œcinä¸stdinæ€»æ˜¯ä¿æŒåŒæ­¥çš„ï¼Œä½¿ç”¨è¿™å¥å¯ä»¥ä½¿cinè¾¾åˆ°å’Œscanfç›¸å·®æ— å‡ çš„è¾“å…¥æ•ˆç‡ã€‚ ios::sync_with_stdio(false); int n, r; while( cin &gt;&gt; n &gt;&gt; r)&#123; int ans=0; while(n)&#123; ans += n%r; n /= r; &#125; stack &lt;char&gt; s; while(ans)&#123; // 0-9 char c = ans%r+48; if (ans%r&gt;=10) &#123; // A-F c = ans%r-10+65; &#125; ans /= r; // ä¸ç›´æ¥coutï¼Œè€Œæ˜¯å­˜æ ˆ s.push(c); &#125; while(!s.empty())&#123; // å–å‡ºæ ˆé‡Œçš„å†…å®¹ char c = s.top(); s.pop(); cout &lt;&lt; c; &#125; cout &lt;&lt; endl; &#125; return 0;&#125; è¿›åˆ¶å›æ–‡æ•° è¿˜æ˜¯rè¿›åˆ¶çš„æ‹“å±•ï¼Œ 1.réœ€è¦ç”¨ä¸ª2-16çš„å¾ªç¯ 2.åˆ¤æ–­å­—ç¬¦ä¸²çš„é•œåƒå¯¹ç§°s[i] != s[ssize-i-1] 3.è¸©äº†ä¸ªå‘,næ¯æ¬¡éƒ½ä¼šè¢«é™¤åˆ°å¾ˆå°,å› æ­¤éœ€è¦ç”¨ä¸ªä¸´æ—¶å˜é‡æ¥å¤„ç† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; int N; while( cin &gt;&gt; N)&#123; bool yes=false; for (int r = 2; r &lt;= 16; ++r)&#123; string s; int n = N; while(n)&#123; char c = n%r+48; if (n%r&gt;=10) &#123; c = n%r-10+65; &#125; n /= r; s += c; &#125; // æ£€æµ‹å‡ºrè¿›åˆ¶å˜æ¢æ—¶,nå·²ç»è¢«é™¤çš„å¾ˆå°äº†,å› æ­¤éœ€è¦ç”¨ä¸ªä¸´æ—¶å˜é‡ // cout &lt;&lt; r &lt;&lt; \"è¿›åˆ¶ï¼š\" &lt;&lt; endl; // for (int i = 0; i &lt; s.size(); ++i) // &#123; // cout &lt;&lt; s[i] &lt;&lt; endl; // /* code */ // &#125; bool mirror = true; int ssize = s.size(); for (int i = 0; i &lt;= ssize/2; ++i)&#123; if (s[i] != s[ssize-i-1])&#123; mirror = false; break; &#125; &#125; if (mirror)&#123; yes=true; break; &#125; &#125; if (yes) cout &lt;&lt; \"Yes\" &lt;&lt; endl; else cout &lt;&lt; \"No\" &lt;&lt; endl; &#125; return 0;&#125; å‘é‚®ä»¶ ä¸€é“æ•°å­¦é¢˜ï¼Œé€’æ¨å…¬å¼ä¸ºf(n)=(nâˆ’1)âˆ—[f(nâˆ’1)+f(nâˆ’2)]f(n) = (n-1)*[f(n-1)+f(n-2)]f(n)=(nâˆ’1)âˆ—[f(nâˆ’1)+f(nâˆ’2)] å‘ç‚¹:è¶…å‡ºäº†intï¼Œéœ€è¦ç”¨longlong 123456789101112131415161718192021#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;ll email(int n)&#123; if (n==2) return 1; else if(n==3) return 2; else&#123; return (n-1)*(email(n-1)+email(n-2)); &#125;&#125;int main()&#123; ios::sync_with_stdio(false); int n; while( cin &gt;&gt; n )&#123; cout &lt;&lt; email(n) &lt;&lt; endl; &#125; return 0;&#125; è¯´åè¯ (20) è€ƒæŸ¥äº†ï¼šå¯¹è¡Œçš„è¯»å–ã€å­—ç¬¦ä¸²çš„åˆ‡å‰²ã€‚ æœ¬æ¥è¿˜ä»¥ä¸ºè€ƒäº†ä¸ªstringçš„åè½¬ï¼Œç»“æœæ¯”æƒ³è±¡ä¸­çš„æ›´ç®€å•ä¸€ç‚¹ 123456789101112131415161718192021222324252627282930#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; ios::sync_with_stdio(false); string s; while( getline(cin, s) )&#123; stringstream strings; string tmps; strings &lt;&lt; s; while( getline(strings, tmps, ' ') )&#123; ss.push(tmps); &#125; while(!ss.empty())&#123; string couts = ss.top(); ss.pop(); if (!ss.empty()) cout &lt;&lt; couts &lt;&lt;' '; else cout &lt;&lt; couts ; &#125; cout &lt;&lt;endl; &#125; return 0;&#125; è¡¥å……â€”â€”stringçš„åè½¬ï¼š 1234567891011121314151617181920212223/*æ³•ä¸€:ä½¿ç”¨string::reverse_iteratorè¿­ä»£å™¨,ç›´æ¥ç”¨iteratorä¼šæŠ¥é”™*/for (string::reverse_iterator it=couts.rbegin(); it != couts.rend() ; ++it) cout &lt;&lt; *it;/*æ³•äºŒ:ä½¿ç”¨algorithmç®—æ³•ä¸­çš„reverseå‡½æ•°*/// ä¼šä¿®æ”¹strä¸­çš„å†…å®¹reverse(str.begin(),str.end());/*æ³•ä¸‰:ä½¿ç”¨ä½¿ç”¨string.hä¸­çš„strrevå‡½æ•°â–³åªèƒ½å¤„ç†char[],ä¸æ”¯æŒstringç±»å‹*/char s[]=\"hello\";strrev(s);cout&lt;&lt;s&lt;&lt;endl;/*æ³•å››:è‡ªå·±ç¼–å†™*/void Reverse(char *s,int n)&#123; for(int i=0,j=n-1;i&lt;j;i++,j--)&#123; char c=s[i]; s[i]=s[j]; s[j]=c; &#125;&#125; ä¸€å…ƒå¤šé¡¹å¼æ±‚å¯¼ (25) è¢«è¯»å–æ–¹å¼å¡äº†ä¼š è¿™è¾¹æœ‰ä¸ªå‘ç‚¹: å¿½ç•¥äº†å¸¸æ•°é¡¹çš„é—®é¢˜ æ¯”å¦‚ è¾“å…¥ 2 0 åº”è¯¥è¾“å‡º 0 0 1234567891011121314151617#include&lt;cstdio&gt; int main()&#123; int exp,coe; bool flag=false; while(scanf(\"%d %d\",&amp;coe,&amp;exp)!=EOF) &#123; if(exp!=0) &#123; if(flag) printf(\" \"); printf(\"%d %d\",coe*exp,exp-1); flag=true; &#125; &#125; if(flag==false) printf(\"0 0\\n\"); return 0;&#125; åˆ«äººçš„å¤„ç† 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;struct poly&#123; int coef; int index;&#125;typedef poly;int main()&#123; ios::sync_with_stdio(false); int coef; int index; std::queue&lt;poly&gt; q; // scanfå’Œgetcharåˆç”¨æ¯”è¾ƒæ–¹ä¾¿,cinå†ç”¨getcharæ— æ•ˆ while(scanf(\"%d%d\", &amp;coef, &amp;index) != EOF)&#123; if (index!=0)&#123; poly *p = new poly(); p-&gt;coef = coef*index; p-&gt;index = index-1 ; q.push(*p); &#125; // æ”¾æœ€åèƒ½è¿‡,æ”¾æœ€åˆçš„æ—¶å€™æœ‰äº›è¿‡ä¸äº† if (getchar()=='\\n') break; &#125; if (q.size()==0) printf(\"0 0\\n\"); else&#123; while(!q.empty())&#123; poly p = q.front(); q.pop(); if (p.coef != 0)&#123; if (q.empty()) printf(\"%d %d\", p.coef, p.index ); else printf(\"%d %d \", p.coef, p.index ); &#125; &#125; &#125; return 0;&#125; åˆ·å®Œäº†ç‰›å®¢ç½‘PATä¹™çº§ç»ƒä¹ é¢˜çš„ç¬¬ä¸€ã€ç¬¬ä¸‰é¡µã€‚å¤§å¤šéƒ½æ˜¯äº›æ¨¡æ‹Ÿé¢˜ã€ç®€å•é¢˜ï¼Œç›¸å½“äºå¼±ä¸€ç‚¹çš„è“æ¡¥æ¯çœèµ›ã€‚ç”±äºæŠ¥åè€ƒçš„æ˜¯ç”²çº§ï¼Œæ‰€ä»¥å°±æ²¡ç»§ç»­åšä¸‹å»äº†â€¦","categories":[],"tags":[]},{"title":"sshpassâ€”â€”shellè„šæœ¬å®ç°SSHè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤","slug":"sshpassâ€”â€”shellè„šæœ¬å®ç°SSHè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤","date":"2019-12-25T09:29:08.000Z","updated":"2019-12-25T10:16:16.390Z","comments":true,"path":"2019/12/25/sshpassâ€”â€”shellè„šæœ¬å®ç°SSHè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤/","link":"","permalink":"https://nymrli.top/2019/12/25/sshpassâ€”â€”shellè„šæœ¬å®ç°SSHè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤/","excerpt":"","text":"sshpass sshç™»é™†ä¸èƒ½åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šå¯†ç ã€‚sshpassçš„å‡ºç°ï¼Œè§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚å³sshpasså¯ä»¥ç”¨äºéäº¤äº’SSHçš„å¯†ç éªŒè¯ï¼Œä¸€èˆ¬ç”¨åœ¨shè„šæœ¬ä¸­ï¼Œæ— é¡»å†æ¬¡è¾“å…¥å¯†ç ã€‚ sshpasså…è®¸ç”¨-på‚æ•°æŒ‡å®šæ˜æ–‡å¯†ç ï¼Œç„¶åç›´æ¥ç™»å½•è¿œç¨‹æœåŠ¡å™¨ã€‚(æ”¯æŒå¯†ç ä»å‘½ä»¤è¡Œã€æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ä¸­è¯»å–) 1.å®‰è£…sudo apt install sshpass 2.ä½¿ç”¨è¯´æ˜ 12345678910111213141516171819# -p ç›´æ¥æŒ‡å®šå¯†ç sshpass -p '123456' ssh user_name@host_ip# -f: -f filename #åè·Ÿä¿å­˜å¯†ç çš„æ–‡ä»¶åï¼Œå¯†ç æ˜¯æ–‡ä»¶å†…å®¹çš„ç¬¬ä¸€è¡Œã€‚[root@zhu ~]# cat 1.txt123456[root@zhu ~]# sshpass -f 1.txt ssh root@192.168.56.102Last login: Fri Apr 18 13:48:20 2014 from 192.168.56.101[root@jiang ~]# exitlogoutConnection to 192.168.56.102 closed.# -e #å°†ç¯å¢ƒå˜é‡SSHPASSä½œä¸ºå¯†ç [root@zhu ~]# export SSHPASS=123456[root@zhu ~]# sshpass -e ssh root@192.168.56.102Last login: Fri Apr 18 13:51:45 2014 from 192.168.56.101[root@jiang ~]# exitlogoutConnection to 192.168.56.102 closed. shellè„šæœ¬å®ç°SSHè¿æ¥å…¶ä»–ä¸»æœºå¹¶æ‰§è¡Œç»ˆç«¯å‘½ä»¤ 1234567891011121314151617181920212223242526272829303132333435363738#!/bin/bash# command -v &lt;the_command&gt; æ£€æµ‹å‘½ä»¤æ˜¯å¦å­˜åœ¨è¿”å›å‘½ä»¤æ‰€åœ¨è·¯å¾„,ç­‰ä»·äºwhich# if [ -x file ] å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œif ! [ -x \"$(command -v sshpass)\" ]; then sudo apt-get install sshpassfiport=20005# echo -e ä¼šè¿›è¡Œè½¬ä¹‰echo -e \"\\nè¯·è¾“å…¥ç”¨æˆ·åï¼\\n\"# read-å°†äº¤äº’è¾“å…¥ä¿å­˜åœ¨å˜é‡ä¸­read name# è·å¾—å½“å‰è„šæœ¬çš„å·¥ä½œè·¯å¾„dir=$(cd $(dirname $0);pwd)# åˆ†å‰²-&gt;è·å¾—æ–‡ä»¶åfile_name=\"$&#123;dir##*/&#125;\"# ä¼ è¾“æ–‡ä»¶echo -e \"\\n[å¼€å§‹ä¼ è¾“æ–‡ä»¶]\\n\"sshpass -p \"$key\" scp -r -P $port $dir username@IP_address:/data/cluster/$nameif [ $pool -eq 1 ]||[ $pool -eq 2 ]||[ $pool -eq 3 ] then # remotesshä¸ºæ ‡è®°ç¬¦,ä¸‹é¢çš„å†…å®¹å…¨éƒ¨é‡å®šå‘åˆ°sshè¿æ¥çš„ç»ˆç«¯ä¸­, ä¸€å®šè¦ä¿è¯ä¸‹é¢çš„å…¨æ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ # ç”±äºshellä¼šè¿›è¡Œé¢„è½¬æ¢,æ‰€ä»¥shellç‰¹æ®Šçš„é‡éœ€è¦é¢å¤–æ³¨æ„,å¦åˆ™ç»“æœå°†åªä¼šæ˜¯å½“å‰ä¸»æœºçš„ã€‚å› æ­¤éœ€è¦åŠ \\ # man sshpassä¸­æç¤º:å¤šä¸ª-té€‰é¡¹å¼ºåˆ¶åˆ†é…ttyï¼Œå³ä½¿sshæ²¡æœ‰æœ¬åœ°tty,æ‰€ä»¥ä½¿ç”¨-ttå‚æ•°æ¥å¼ºåˆ¶ä¼ªç»ˆç«¯åˆ†é…(è¡¨ç¤ºä¸ºè¿™ä¸ªè¿æ¥åˆ†é…TTY)ï¼Œå³ä½¿æ ‡å‡†è¾“å…¥ä¸æ˜¯ç»ˆç«¯ï¼Œå¦åˆ™é€€å‡ºåä¼šæç¤º`Pseudo-terminal will not be allocated because stdin is not a terminalçš„é”™`ã€‚ å³æŒ‡æ˜æ˜¯æ¥è‡ªè„šæœ¬çš„è°ƒç”¨ # æ§åˆ¶ç»ˆç«¯ï¼ˆ/dev/ttyï¼‰å°±æ˜¯å½“å‰è¿›ç¨‹çš„æ§åˆ¶ç»ˆç«¯çš„è®¾å¤‡ç‰¹æ®Šæ–‡ä»¶ï¼Œå¯ä»¥è¿›è¡Œå†™å…¥å†™å‡º sshpass -p \"$key\" ssh -tt -p $(($port+$pool)) username@IP_address &lt;&lt; remotessh Condor_number=\\`condor_q | grep jobs | awk '&#123;print \\$1&#125;'\\` if [ \\$Condor_number -le 1 ] then echo -e \"\\nåˆ›å»ºä»»åŠ¡å¤±è´¥ï¼\\n\" else echo -e \"\\nåˆ›å»ºä»»åŠ¡æˆåŠŸï¼\\n\" fi exitremotesshelse echo -e \"æ²¡æœ‰è¯¥èµ„æºæ± \\n\" exitfi man sshpassä¸­å…³äº-tå‚æ•°çš„è¯´æ˜ Force pseudo-terminal allocation. This can be used to execute arbitrary screen-based programs on a remote machine, which can be very useful, e.g. when implementing menu services. Multiple -t options force tty allocation, even if ssh has no local tty. æ€»ç»“ï¼š æ‰€ä»¥å®ç°çš„æ–¹æ³•ä¸»è¦æ˜¯: SSHpasséäº¤äº’å¼ç™»å½• SSHç»ˆç«¯æ‰§è¡Œå¤šæ¡å‘½ä»¤ é™„å½• ssh@host:sshåˆ‡æ¢åˆ°å…¶ä»–æœºå™¨ä¸Šæ‰§è¡Œå¤šæ¡å‘½ä»¤ Shellè¡¨è¾¾å¼ï¼Œ${file##*/} å–åç¼€ shell-ifè¡¨è¾¾å¼ï¼ˆ-f,-d,-s,-r,-w,-x,-eq,-ne,-ge,-gt,-le,-lt ï¼‰ Linuxæ£€æµ‹å‘½ä»¤æ˜¯å¦å­˜åœ¨","categories":[],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://nymrli.top/tags/è¿ç»´/"},{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"æ ‘è“æ´¾åˆå§‹åŒ–æ“ä½œ","slug":"æ ‘è“æ´¾åˆå§‹åŒ–æ“ä½œ","date":"2019-12-12T10:59:06.000Z","updated":"2019-12-12T11:21:49.504Z","comments":true,"path":"2019/12/12/æ ‘è“æ´¾åˆå§‹åŒ–æ“ä½œ/","link":"","permalink":"https://nymrli.top/2019/12/12/æ ‘è“æ´¾åˆå§‹åŒ–æ“ä½œ/","excerpt":"","text":"å®‰è£…ç³»ç»Ÿé•œåƒ: å®˜ç½‘ä¸‹è½½é•œåƒï¼Œè§£å‹ä¸‹è½½å¥½çš„Zipæ–‡ä»¶ä¼šå¾—åˆ°.imgé•œåƒæ–‡ä»¶ã€‚ä¸‹è½½win32DiskImage æ–¹å¼: SSH VNC Xrdp ç³»ç»Ÿè®¾ç½®: $ sudo raspi-reconfig 1.å®‰è£…å­—ä½“ é»˜è®¤å®‰è£…çš„æ˜¯è‹±æ–‡å­—ä½“ï¼Œå¦‚æœæ—¶åŒºé€‰æ‹©ä¸­æ–‡ï¼Œå°†ä¼šä¹±ç ï¼Œå› æ­¤éœ€è¦å®‰è£…ä¸­æ–‡å­—ä½“è¿›è¡Œæ±‰åŒ–ã€‚ sudo apt-get install ttf-wqy-zenhei 2.å®‰è£…ä¸­æ–‡è¾“å…¥å‘ 3.ä¿®æ”¹é”®ç›˜å¸ƒå±€ é”®ç›˜å¸ƒå±€é»˜è®¤æ˜¯è‹±æ ‡çš„ï¼Œéœ€è¦å°†å…¶æ”¹æˆç¾æ ‡ è¾“å…¥sudo dpkg-reconfigure keyboard-configurationåé€‰æ‹©é€šç”¨çš„104é”®PCé”®ç›˜(Generic 104 Key PC),åœ¨Layoutä¸­é€‰æ‹©Ohter,ç„¶ååœ¨é€‰é¡¹ä¸­é€‰æ‹©English(US)ï¼Œç„¶åä¸æ–­é€‰æ‹©OKé€€å‡ºå³å¯","categories":[],"tags":[{"name":"åµŒå…¥å¼","slug":"åµŒå…¥å¼","permalink":"https://nymrli.top/tags/åµŒå…¥å¼/"}]},{"title":"ACM-ç½‘ç»œæµ","slug":"ACM-ç½‘ç»œæµ","date":"2019-12-08T11:03:34.000Z","updated":"2019-12-08T11:48:50.230Z","comments":true,"path":"2019/12/08/ACM-ç½‘ç»œæµ/","link":"","permalink":"https://nymrli.top/2019/12/08/ACM-ç½‘ç»œæµ/","excerpt":"","text":"æœ€å¤§æµ FFç®—æ³• æœ€åŸºæœ¬æ‰¾å¢—å¹¿è·¯çš„ç®—æ³• dinicå®ç°(åŸºç¡€çš„FFç®—æ³•) åè¾¹ï¼šæˆ‘ä»¬çŸ¥é“ï¼Œå½“æˆ‘ä»¬åœ¨å¯»æ‰¾å¢å¹¿è·¯çš„æ—¶å€™ï¼Œåœ¨å‰é¢æ‰¾å‡ºçš„ä¸ä¸€å®šæ˜¯æœ€ä¼˜è§£ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å‡å»æ®‹é‡ç½‘ç»œä¸­æ­£å‘è¾¹çš„åŒæ—¶å°†ç›¸å¯¹åº”çš„åå‘è¾¹åŠ ä¸Šå¯¹åº”çš„å€¼ï¼Œæˆ‘ä»¬å°±ç›¸å½“äºå¯ä»¥åæ‚”ä»è¿™æ¡è¾¹æµè¿‡ã€‚ æŠ€å·§ï¼šflow[u]æ­£è¾¹ï¼Œflow[u^1]åè¾¹ å»ºè¾¹çš„æ—¶å€™æ˜¯åŒæ—¶å»ºçš„ï¼Œæ¯”å¦‚1çš„åè¾¹ä¸º2ï¼Œ2çš„åè¾¹ä¸º1ï¼Œâ–²è¾¹ä¸èƒ½ä»0å¼€å§‹ ä¸»è¦æ€è·¯ï¼š æ±‚å¢å¹¿è·¯ åˆ†å±‚å›¾ dinicçš„ä¼˜åŒ– å½“å‰å¼§ä¼˜åŒ–(ä½œç”¨ä¸æ˜æ˜¾) 12345678910111213141516171819202122232425262728// æœ€åŸå§‹int dfs(int now,int fl)&#123; if(now==aim)return fl; int f=e; for(int u=fir[now];u &amp;&amp; fl;u=nxt[u])&#123; if(flow[uj&amp;&amp;deep[to[u]]==deep[now]+1)&#123; int x=dfs(to[u],min(fl,flow[u])); flow[u]-=x;flow[u^1]+=x;fl-=x;f+=x; &#125; &#125; if(lf)deep[now]=-2; return f;&#125;// å½“å‰å¼§ä¼˜åŒ–int dfs(int now,int fl)&#123; if(now==aim) return fl; int f=0; // ä¿®æ”¹ä¸ºcurfir[now] for(int u=curfir[now];u&amp;&amp;fl;u=nxt[u])&#123; curfir=u; // åŠ äº†æ­¤å¤„ if(flow[u]&amp;&amp;deep[to[u]]==deep[now]+1)&#123; int dfs(to[u],min(fl,flow[u])); flow[u]-=x;flow[u^1]+=x;fl-=x;f+=x; &#125; &#125; if(!f)deep[now]=-2; // ç‚¸ç‚¹ä¼˜åŒ– return f;&#125; å¤šè·¯å¢å¹¿ ç‚¸ç‚¹ æœ€å¤§æµæœ€å°å‰²å®šç†ï¼šæœ€å°å‰²æ€»å’Œçš„æƒå€¼==æœ€å¤§æµçš„å€¼ï¼Œå¯¹äºæ¯å¼ å›¾éƒ½æ˜¯æˆç«‹çš„ã€‚ï¼ˆç½‘ç»œæµçš„å¯¹ç§°å½¢å¼ï¼‰ å…·ä½“ä»£ç : 12345678910111213141516171819202122232425262728293031323334353637int maxflow(int s, int t)&#123; // å¤–å±‚å¾ªç¯ aim = T;int ret = 0; while(bfs(s, t))&#123; ret += dfs(s, 1&lt;&lt;30); &#125; return ret;&#125;bool bfs(int s, int t)&#123; // å»ºç«‹åˆ†å±‚å›¾ memset(deep,0,(tot+2)&lt;&lt;2); deep[S]=1;d1[1]=S;int head=0,tail=1; while(head!=tail)&#123; int v=dl[++head]; for(int u=fir[v];u;u=nxt[u])&#123; if(flow[u]&amp;&amp;!deep[to[u]])&#123; deep[to[u]]=deep[v]+1; d1[++tail]=to[u]; &#125; &#125; &#125; return deep[T];&#125;int dfs(int now,int fl)&#123; // dfsæ‰¾å¢—å¹¿è·¯ if(now==aim) return fl; int f=0; // // å½“å‰å¼§ä¼˜åŒ–,ä¿®æ”¹ä¸ºcurfir[now] for(int u=curfir[now];u&amp;&amp;fl;u=nxt[u])&#123; curfir=u; // åŠ äº†æ­¤å¤„ if(flow[u]&amp;&amp;deep[to[u]]==deep[now]+1)&#123; int dfs(to[u],min(fl,flow[u])); flow[u]-=x;flow[u^1]+=x;fl-=x;f+=x; &#125; &#125; if(!f)deep[now]=-2; // ç‚¸ç‚¹ä¼˜åŒ– return f;&#125; EKç®—æ³• å¼•å…¥äº†åç›¸è¾¹ï¼šåœ¨åŸæœ‰çš„æœ‰å‘å›¾ä¸Šå¼•å…¥äº†åå‘çš„è¾¹ï¼Œä¸”å®¹é‡ç›¸ç­‰ æ‰§è¡Œè¿‡ç¨‹ï¼š BFSæ‰¾å¢—å¹¿è·¯ æ‰¾åˆ°çš„è¯ï¼Œæ›´æ–°æœ€å¤§æµã€æ®‹ä½™ç½‘è·¯ æ‰¾ä¸åˆ°åˆ™èµ°å®Œäº† ä¸¤è€…çš„æ€æƒ³éƒ½æ˜¯ï¼šæ‰¾å¢—å¹¿è·¯ï¼Œæ‰¾åˆ°æ‰¾ä¸åˆ°ä¸ºæ­¢ å‚è€ƒ: æœ€å¤§æµï¼ˆæœ€å°å‰²ï¼‰çš„EKç®—æ³• æœ€å°è´¹ç”¨æœ€å¤§æµ","categories":[],"tags":[]},{"title":"ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘","slug":"ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘","date":"2019-12-07T05:04:53.000Z","updated":"2020-09-12T06:48:46.827Z","comments":true,"path":"2019/12/07/ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘/","link":"","permalink":"https://nymrli.top/2019/12/07/ACM-æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘/","excerpt":"","text":"é«˜æ€§èƒ½é—®é¢˜ï¼š Qï¼šéœ€æ±‚ï¼šï¼ˆè€æ¿ç»™ä½ åˆ†äº†å°2GHzå•æ ¸ï¼Œå†…å­˜500Mçš„æœåŠ¡å™¨ç„¶åè®©ä½ å†™ç¨‹åºï¼‰ç¨‹åºæ¯ç§’ä¼šæ”¶åˆ°ä¸€ç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®åŒ…å«10ä¸‡æ¡å‘½ä»¤ï¼Œæ€»å…±ä¼šæœ‰100ä¸‡ä¸ªä»“åº“ï¼Œæ¯ä¸ªä»“åº“åº“å­˜æ²¡æœ‰ä¸Šé™ä¸”å¯ä¸ºè´Ÿï¼Œåº“å­˜åˆå§‹ä¸º0ã€‚ä½ éœ€è¦åœ¨ä¸€ç§’å†…å®Œæˆå…¨éƒ¨çš„å‘½ä»¤ï¼Œç„¶åå°†æŸ¥è¯¢ç»“æœæŒ‰é¡ºåºå¾—å‡ºåä¼ å›ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š Add i jï¼Œiå’Œjä¸ºæ­£æ•´æ•°ï¼Œè¡¨ç¤ºç¬¬iä¸ªä»“åº“å¢åŠ jä¸ªåº“å­˜ï¼ˆjä¸è¶…è¿‡220ï¼‰ Sub i jï¼Œiå’Œjä¸ºæ­£æ•´æ•°ï¼Œè¡¨ç¤ºç¬¬iä¸ªä»“åº“å‡å°‘ä¸ªåº“å­˜ï¼ˆjä¸è¶…è¿‡220ï¼‰ Query i jï¼Œiå’Œjä¸ºæ­£æ•´æ•°ï¼Œi&lt;=jï¼Œè¡¨ç¤ºè¯¢é—®ç¬¬iåˆ°ç¬¬ä¸ªä»“åº“çš„æ€»åº“å­˜ï¼›End è¡¨ç¤ºç»“æŸï¼Œè¿™æ¡å‘½ä»¤åœ¨æ¯ç»„æ•°æ®æœ€åå‡ºç°ï¼› æ€è·¯ä¸€ï¼šç”¨arrayå»å­˜å‚¨æ¯ä¸ªä»“åº“çš„å®¹é‡ï¼Œåœ¨æŸ¥è¯¢æ—¶ç”¨å¾ªç¯å–å‡º(L,R)çš„æ€»å®¹é‡ã€‚æ­¤æ—¶Updateä¸ºO(1)ï¼ŒQueryä¸ºO(N) æ€è·¯äºŒï¼šå‰ç¼€æ•°ç»„å’Œï¼šåœ¨array1å‚¨å­˜æ¯ä¸ªä»“åº“å®¹é‡çš„åŒæ—¶ç»´æŠ¤array2æ¥è®°å½•å‰nä¸ªä»“åº“çš„æ€»å®¹é‡ï¼Œå½“è®¡ç®—æŸä¸ªåŒºé—´çš„å®¹é‡(L,R)å¯ä»¥é€šè¿‡s[R]-s[L-1]æ±‚å‡ºã€‚æ­¤æ—¶Queryä¸ºO(1)ï¼Œä½†Updateä¸ºO(N) 12345678910111213141516171819202122#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e3;int arr[maxn];int main()&#123; int n; cin &gt;&gt; n; int tmp; cin &gt;&gt; tmp; arr[1] = tmp; for (int i = 2; i &lt;= n; i++) &#123; cin &gt;&gt; tmp; arr[i] = tmp + arr[i-1]; &#125; for (int i = 1; i &lt;= n; i++) &#123; cout &lt;&lt; arr[i] &lt;&lt;endl; &#125; // å¯ä»¥ç®—å‡º2-4çš„å’Œ cout &lt;&lt; arr[4] - arr[2-1] &lt;&lt; endl; return 0;&#125; æ€è·¯ä¸‰ï¼šæ ‘çŠ¶æ•°ç»„ï¼šUpdateå’ŒQueryçš„æ—¶é—´å¤æ‚åº¦è¿›è¡ŒæŠ˜ä¸­åéƒ½ä¸ºO(logN) æ ‘çŠ¶æ•°ç»„ åˆå«äºŒå‰ç´¢å¼•æ ‘ï¼Œæœ€æ—©æ˜¯ä¸ºäº†è§£å†³æ•°æ®å‹ç¼©é‡Œçš„ç´¯ç§¯é¢‘ç‡é—®é¢˜ï¼Œç°å¤šç”¨æ¥è§£å†³æ•°ç»„åŒºé—´æŸ¥è¯¢é—®é¢˜çš„æ•°æ®ç»“æ„ï¼Œå³é«˜æ•ˆè§£å†³æ•°åˆ—çš„å‰ç¼€å’Œã€åŒºé—´å’Œé—®é¢˜ã€‚ low bitç®—æ³• æ ¸å¿ƒï¼šå°†ä¸€ä¸ªæ•°æ‹†åˆ†æˆè‹¥å¹²ä¸ªäºŒè¿›åˆ¶æ•°ç›¸åŠ ï¼ŒåŸç†ï¼šæ¯ä¸€ä¸ªæ•°éƒ½æœ‰äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå³æ‰€æœ‰æ•°éƒ½å¯ä»¥è¡¨ç¤ºæˆxä¸ªä¸åŒçš„2çš„å¹‚ä¹‹å’Œã€‚ åšæ³•ï¼šæ‰¾åˆ°äºŒè¿›åˆ¶æœ€åä½ä¸€ä½1è¡¨ç¤ºçš„æ•°ã€‚ ä»£ç ï¼šé€šè¿‡è®¡ç®—n&amp;-næ‰¾åˆ°næœ€å³è¾¹çš„1ã€‚ ä¸¾ä¸ªæ —å­ï¼š Qï¼š 6å¯ä»¥æ€ä¹ˆè®¡ç®—å¾—åˆ°å‘¢ï¼Ÿ Aï¼š 6==0110ï¼Œi=110ï¼Œé€šè¿‡lowbitå¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªæ•°100+010=110 å› æ­¤æ ‘çŠ¶æ•°ç»„çš„ç»´æŠ¤æ›´æ–°è¿‡ç¨‹å¦‚ä¸‹ï¼šå·²çŸ¥i=6 â‘ S+= C[6] â‘¡æ‰¾åˆ°iæœ€å³è¾¹çš„1ï¼Œå³å¾—åˆ°lowbit=(10)2=(2)10lowbit=(10)_{2}=(2)_{10}lowbit=(10)2â€‹=(2)10â€‹ â‘¢æ›´æ–°i:iâ€²=iâˆ’lowbit=(0110)2âˆ’(0010)2=(0100)2i&#x27;= i - lowbit = (0110)_{2}-(0010)_{2}=(0100)_{2}iâ€²=iâˆ’lowbit=(0110)2â€‹âˆ’(0010)2â€‹=(0100)2â€‹ï¼Œå³iâ€²=6âˆ’2=(4)10i&#x27;=6-2=(4)_{10}iâ€²=6âˆ’2=(4)10â€‹ï¼› â‘£S+= C[4] â‘¤å†ç»§ç»­æ‰¾iæœ€å³è¾¹çš„1ï¼Œå³å¾—åˆ°äº†lowbit=(100)2=(4)10lowbit=(100)_{2}=(4)_{10}lowbit=(100)2â€‹=(4)10â€‹ï¼Œ â‘¥æ›´æ–°i:iâ€²=iâˆ’lowbit=(0100)2âˆ’(0100)2=(0000)2i&#x27;= i - lowbit =(0100)_{2}-(0100)_{2}=(0000)_{2}iâ€²=iâˆ’lowbit=(0100)2â€‹âˆ’(0100)2â€‹=(0000)2â€‹ï¼Œ â‘¦æ­¤æ—¶iæœ€å³è¾¹æ— 1(å³å…¨é›¶ä¸º0)ï¼Œç®—æ³•ç»“æŸï¼Œå³æœ€ç»ˆC[6]=C[4] + C[2] è®¡ç®—æ­¥éª¤ï¼š æ‰¾åˆ°(n)2(n)_2(n)2â€‹æœ€å³è¾¹çš„1çš„æ•°(n1)2(n1)_2(n1)2â€‹ æ›´æ–°nâ€²=(n)2âˆ’(n1)2n&#x27;=(n)_2 - (n1)_2nâ€²=(n)2â€‹âˆ’(n1)2â€‹ å¦‚æœ(nâ€²)2(n&#x27;)_2(nâ€²)2â€‹è¿˜èƒ½æ‰¾åˆ°1ï¼Œé‚£ä¹ˆé‡å¤1-2 123456789101112131415161718192021222324252627282930313233343536N = 1e6 + 5arr = [0] * N# è‡ªåº•å‘ä¸Šå»ºæ ‘def add(i, j): ''' ä¿®æ”¹ç¬¬iä»“åº“Ciã€‚ä½†æ³¨æ„æ‰§è¡ŒæŸä¸ªä»“åº“çš„updateæ“ä½œï¼Œåé¢æ‰€æœ‰ä»“åº“éƒ½å¾—æ›´æ–° ''' while i &lt;= N: arr[i] += j # åŠ ä¸Šlow bitä½ i += i&amp;-i def sub(i, j): add(i, -j) def sum(i): ''' é€šè¿‡Ciæ±‚å‡º1-iä»“åº“çš„æ€»åº“å­˜ S[6] = C[6] + C[4], æ¨å¯¼å¦‚ä¸‹: å¦‚æœi=6,é‚£ä¹ˆ ans += c[6] , i &lt;- i-2 = 6-2 = 4, ans += c[4] , i &lt;- i-4 = 4-4 = 0 âˆ´ans = c[6] + c[4] = A[6]+A[5]+A[4]+A[3]+A[2]+A[1] ''' ans = 0 while i &gt; 0: ans += arr[i] i -= i&amp;(-i) return ansdef query(i, j); ''' æŸ¥è¯¢æŸä¸ªåŒºé—´çš„æ€»åº“å­˜ï¼Œsum(i, j) = S(R) - S(L-1) ''' return sum(j) - sum(i-1) ç¬¦å·è¯´æ˜ï¼š Aiï¼šç¬¬iä¸ªä»“åº“çš„åº“å­˜æ•° Ciï¼šæ‰€æ„å»ºçš„æ•°çš„ç¬¬iä¸ªèŠ‚ç‚¹çš„å€¼ï¼ŒC[i] = A[i-lowbit(i)+1] + â€¦+A[i] Siï¼šç¬¬1ä¸ªä»“åº“åˆ°ç¬¬iä¸ªä»“åº“åº“å­˜æ•°ä¹‹å’Œ Ansï¼ˆiï¼Œjï¼‰ï¼šæ˜¾ç„¶å°±ç­‰äºSRâˆ’SLâˆ’1S_{R}-S_{L-1}SRâ€‹âˆ’SLâˆ’1â€‹ å½¢å¼ ä¸€.ä»åŸæ•°ç»„A[],ç»´æŠ¤æ ‘çŠ¶æ•°ç»„C[] â–²lowbitåˆå«å­å¶æ•°ï¼Œè¡¨ç¤ºäº†æœ‰å¤šå°‘ä¸ªA[]ç›¸åŠ ï¼ŒC[i]è¡¨ç¤ºä»C[i] = A[i-lowbit(i)+1] + â€¦+A[i] (&lt;===&gt;C[i] = A[i-2^x+1] + â€¦ + A[i])ï¼Œ For Exampleï¼š i=6 å‚è€ƒï¼š æ ‘çŠ¶æ•°ç»„â€”â€”é»‘æ¿è®²è§£,NICE æ ‘çŠ¶æ•°ç»„ç®—æ³•â€”â€”åˆæ­¥äº†è§£ï¼Œæœ‰äº›ç‚¹è®²çš„å¹¶ä¸é‚£ä¹ˆçº¤ç»† æ´›è°·: P3374 ã€æ¨¡æ¿ã€‘æ ‘çŠ¶æ•°ç»„ 1 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;bits/stdc++.h&gt;#define N 500000 + 5using namespace std;int c[N];void add(int i, int k)&#123; int index = i; while (index&lt;=N)&#123; c[index] += k; index += index&amp;(-index); &#125;&#125;int sum(int n)&#123; int index = n; int ans = 0; while (index)&#123; ans += c[index]; index -= index&amp;(-index); &#125; return ans;&#125;int query(int l, int r)&#123; return sum(r) - sum(l-1);&#125; int main(int argc, char const *argv[])&#123; ios::sync_with_stdio(false); int n, m; cin &gt;&gt; n &gt;&gt; m; for (int i = 1; i &lt;= n; ++i)&#123; int val; cin &gt;&gt; val; add(i, val); &#125; for (int i = 0; i &lt; m; ++i)&#123; int op; int x, k; cin &gt;&gt; op &gt;&gt; x &gt;&gt; k; if (op==1) add(x, k); else cout &lt;&lt; query(x, k) &lt;&lt; endl; &#125; return 0;&#125; çº¿æ®µæ ‘ åœ¨æ±‚è§£å‰ç¼€å’Œã€åŒºé—´å’Œé—®é¢˜ä¸Šï¼Œä¸¤è€…æ˜¯æ²¡æœ‰å·®åˆ«çš„ï¼Œå¹¶ä¸”æ ‘çŠ¶æ•°ç»„çš„ç©ºé—´å¤æ‚åº¦æ›´ä½ã€‚ä½†æ˜¯çº¿æ®µæ ‘è¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ±‚å–åŒºé—´æœ€å¤§å€¼ã€‚ å®Œæ»¡äºŒå‰æ ‘(Full Binary Tree) æ ¹æ®å…ƒç´ çš„ä¸‹æ ‡è¿›è¡Œåˆ’åˆ† ä¸€ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªåŒºé—´çš„ä¿¡æ¯ ç‰¹ç‚¹ï¼š æ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªé—­åŒºé—´1,rçš„ä¿¡æ¯ã€‚ æ ¹èŠ‚ç‚¹è¡¨ç¤º[1,n]çš„ä¿¡æ¯ã€‚å¦‚æœ1=ré‚£å°±æ˜¯å¶å­ç»“ç‚¹. å¦‚æœ1&lt;ré‚£å°±æ˜¯å†…éƒ¨èŠ‚ç‚¹,å®ƒæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹[1,(1+r)/2]ï¼Œ[(1+r)/2+1,r]. ä»£ç å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263// æ›´æ–°/*ç”¨1è¡¨ç¤ºæ ¹èŠ‚ç‚¹ã€‚ä¸‹æ ‡ä¸ºxçš„ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸‹æ ‡ä¸º2xï¼Œå³å­èŠ‚ç‚¹2x+1ã€‚ç”¨sum[x]è¡¨ç¤ºxä»£è¡¨çš„åŒºé—´é‡Œæ‰€æœ‰æ•°çš„å’Œã€‚å¯¹äºå¶å­ç»“ç‚¹xï¼Œå®ƒä»£è¡¨[1ï¼Œr]ï¼ˆ1=rï¼‰ï¼Œsum[x]=a[1]*/void update(int x)&#123; // æ›´æ–°æŸä¸ªèŠ‚ç‚¹Xçš„å€¼ sum[x]= sum[x*2] + sum[x*2+1];&#125;// æ„å»º, è‡ªé¡¶å‘ä¸‹/*å¯¹äºå­˜å‚¨åœ¨iå·ä½ç½®çš„èŠ‚ç‚¹ï¼Œå®ƒçš„å·¦å­©å­å­˜åœ¨2iå·ä½ç½®ï¼Œå³å­©å­2i+1å·ä½ç½®ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿä¸éœ€è¦è®°å½•æ¯ä¸ªä½ç½®å¯¹åº”çš„åŒºé—´ï¼Œåªè¦åœ¨é€’å½’çš„æ‰¾è¿™ä¸ªç‚¹çš„æ—¶å€™è¾¹æ‰¾è¾¹ä¿®æ”¹å³å¯ã€‚*/void build(int 1,int r,int x)&#123; if(l==r)&#123; //å¶å­ç»“ç‚¹ sum[x]=a[1]; return; &#125; int mid=(1+r)&gt;ã€‰1; build(1,mid,x*2); build(mid+1,r,x*2+1); update(x);//æ›´æ–°ä¿¡æ¯&#125;// æŸ¥è¯¢/*å‡è®¾è¯¢é—®åŒºé—´æ˜¯[A,B],ç°åœ¨æ‰€åœ¨çš„èŠ‚ç‚¹è¡¨ç¤ºçš„åŒºé—´ä¸º[1,r]- è®¡ç®—mid=(1+r)/2,å·¦å­èŠ‚ç‚¹çš„åŒºé—´ä¸º[1,mid],å³å­èŠ‚ç‚¹çš„åŒºé—´ä¸º[mid+1,r].å¦‚æœA&lt;=mid,å³è¯¢é—®åŒºé—´ä¸å·¦å­èŠ‚ç‚¹æœ‰é‡åˆ,éœ€è¦é€’å½’åˆ°å·¦å­èŠ‚ç‚¹ã€‚å¦‚æœB&gt;=mid+1,å³è¯¢é—®åŒºé—´ä¸å³å­èŠ‚ç‚¹æœ‰é‡åˆ,éœ€è¦é€’å½’åˆ°å³å­èŠ‚ç‚¹ã€‚é€’å½’å®Œä¹‹å,éœ€è¦æŠŠä¸¤ä¸ªå­©å­è¯¢é—®çš„ç»“æœåŠ èµ·æ¥ä½œä¸ºè¿”å›å€¼ã€‚*/int query(int A,int B,int 1,int r,int x)&#123; if(A&lt;=1&amp;&amp;r&lt;=B) return sum[x]; int mid=(1+r)&gt;&gt;1,ans=0; if(A&lt;=mid) ans+=query(A,B,1,mid,x*2); if(mid&lt;B) ans+=query(A,B,mid+1,r,x*2+1); return ans;&#125;// ä¿®æ”¹/*ç”±äºä¿®æ”¹æ˜¯å¯¹å•ä¸ªå…ƒç´ è¿›è¡Œä¿®æ”¹ã€‚æ¯”å¦‚ä¿®æ”¹ç¬¬iä¸ªå…ƒç´ ã€‚æˆ‘ä»¬å…ˆæ‰¾åˆ°[iï¼Œi]æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œç„¶åä¿®æ”¹å®ƒçš„sumï¼Œç„¶åä¸€è·¯å‘ä¸Šæ›´æ–°æ¯ä¸ªç¥–å…ˆçš„sumå³å¯ã€‚*/int change(int pos,int v,int 1,int r,int x)&#123; if( l==r)&#123; //æ‰¾åˆ°äº†è¦ä¿®æ”¹çš„å¶å­ç»“ç‚¹ sum[x]=v; return; &#125; int mid=(1+r)&gt;&gt;1; if(pos&lt;=mid)//posåœ¨å·¦å­èŠ‚ç‚¹ change(pos,v,1,mid,x*2); else change(pos,v,mid+1,r,x*2+1); update(x);//ä¸€å®šè¦åŠ ï¼å› ä¸ºè¿™æ¡è·¯ä¸Šçš„sumå€¼å‘ç”Ÿäº†æ”¹å˜&#125; æ€§è´¨ èŠ‚ç‚¹æ•°ï¼šå‡è®¾çº¿æ®µæ ‘å¤„ç†çš„æ•°åˆ—é•¿åº¦ä¸ºnï¼Œå³æ ¹èŠ‚ç‚¹çš„åŒºé—´ä¸º[1ï¼Œn].é‚£ä¹ˆç»“ç‚¹æ•°ä¸è¶…è¿‡2nä¸ª.å› æ­¤çº¿æ®µæ ‘çš„ç©ºé—´å¤æ‚åº¦æ˜¯0ï¼ˆnï¼‰ã€‚æ˜¯å®Œæ»¡äºŒå‰æ ‘(Full Binary Tree)ï¼Œä½†ä¸€èˆ¬ç”³è¯·4*nçš„ç©ºé—´å¤§å° æ·±åº¦ï¼šå¯ä»¥çœ‹ä½œæ»¡äºŒå‰æ ‘ï¼Œæ·±åº¦ä¸è¶…è¿‡log2(n-1)+1 çº¿æ®µæ ‘èƒ½æŠŠåŒºé—´ä¸Šçš„ä»»æ„ä¸€æ¡é•¿åº¦ä¸ºLçš„çº¿æ®µéƒ½åˆ†æˆä¸è¶…è¿‡2*log(L)æ¡çº¿æ®µã€‚ æ³¨æ„ï¼š ç”±äºé“¾è¡¨è¡¨ç¤ºçš„å†…å­˜æ˜¯ä¸è¿ç»­çš„ï¼Œä¸”ç”³è¯·æŒ‡é’ˆæ¯”è¾ƒè´¹æ—¶é—´ï¼Œæ‰€ä»¥é‡‡ç”¨æ•°ç»„çŸ©é˜µçš„å½¢å¼å­˜å‚¨ã€‚ æ•°ç»„å­˜å‚¨ä¹Ÿæœ‰ä¸€ç‚¹ä¸å¥½ï¼Œå› ä¸ºçº¿æ®µæ ‘å¹¶ä¸æ˜¯çœŸæ­£çš„å®Œå…¨äºŒå‰æ ‘ã€‚ æœ€åä¸€å±‚å¯èƒ½å¾ˆç©ºã€‚ä¸”ç©ºèŠ‚ç‚¹çš„æ•°é‡å¯ä»¥è¾¾åˆ°2nä¸ªã€‚ å› æ­¤ç»´æŠ¤é•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œç”¨æ•°ç»„å­˜çº¿æ®µæ ‘çš„è¯ï¼Œæœ€å¥½è¦å¼€åˆ°4*nçš„é•¿åº¦ï¼Œæ‰èƒ½ä¿è¯æ•°ç»„ä¸è¶Šç•Œã€‚ å½¢å¼ ä¾‹é¢˜ï¼š Qï¼šå¯¹äºç¬¬iä¸ªæ•°ï¼Œæˆ‘ä»¬è¦ç»Ÿè®¡å‰é¢æœ‰å¤šå°‘ä¸ªæ•°å¤§äºa[i]ã€‚ å¯¹æ¯ä¸ªæ•°éƒ½ç»Ÿè®¡ä¸€éåŠ èµ·æ¥å³æ˜¯ç­”æ¡ˆã€‚ å‡è®¾æˆ‘ä»¬å¯ä»¥å¯¹[0ï¼Œ109]å»ºä¸€ä¸ªçº¿æ®µæ ‘ï¼ˆå®é™…ä¸Šå¤ªå¤§äº†ï¼‰æ¯æ¬¡å…ˆæŸ¥è¯¢[a[i]+1ï¼Œ109]çš„åŒºé—´å’Œï¼ŒåŠ å…¥ç­”æ¡ˆã€‚ e.g.å¦‚æœä¸€ä¸ªå€¼ä¸º1ï¼Œä¸€ä¸ªå€¼ä¸º108ï¼Œé‚£ä¹ˆè¦å¼€108å¤§å° Solve: 10^9èŒƒå›´å¤ªå¤§äº†ï¼Œå› æ­¤æˆ‘ä»¬å…ˆè¦å¯¹nä¸ªæ•°è¿›è¡Œç¦»æ•£åŒ–ã€‚ç¦»æ•£åŒ–çš„è¿‡ç¨‹ï¼Œå°±æ˜¯å¯¹nä¸ªæ•°è¿›è¡Œæ’åºï¼Œæœ€å°çš„æ•°èµ‹å€¼ä¸º1ï¼Œç¬¬äºŒå°çš„èµ‹å€¼ä¸º2ï¼Œä»¥æ­¤ç±»æ¨ï¼Œè¿™æ ·nä¸ªæ•°çš„å–å€¼èŒƒå›´å°±åœ¨[1ï¼Œn]ä¸­äº†ã€‚ e.g.ä¸Šé¢çš„æƒ…å†µï¼Œå°†ä¼šæŠŠ1â€“&gt;1,10^8â€“&gt;2,é‚£ä¹ˆåªè¦å¼€é•¿åº¦ä¸º2çš„çº¿æ®µæ ‘å°±å¤Ÿäº† 12345678910// ç¦»æ•£åŒ–ä»£ç ï¼Œå‡è®¾å¯¹a[1,2...,n]è¿›è¡Œç¦»æ•£åŒ–int cnt=0;for(int i=1;i&lt;=n;i ++) // å¦å¤–çš„æ•°ç»„å­˜å‚¨ bin[++cnt]=a[i];sort(bin+1,bin+n+1);// æ¶ˆé‡cnt=unique(bin+1,bin+cnt+1)-bin-1;for(inti=1;i&lt;=n;i ++) a[i]=lower_bound(bin+1,bin+cnt+1,a[i])-bin; å‚è€ƒï¼š é«˜ä¸­ä¿¡æ¯å­¦ç«èµ›çº¿æ®µæ ‘ä¸æ ‘çŠ¶æ•°ç»„â€”â€”ä¸‡é—¨æ•™è‚² SWPU-ACMæ¯å‘¨ç®—æ³•è®²å ‚-çº¿æ®µæ ‘å…¥é—¨ï¼ˆä¸€ï¼‰","categories":[],"tags":[]},{"title":"KM(Kuhn-Munkres)ç®—æ³•","slug":"KM-Kuhn-Munkres-ç®—æ³•","date":"2019-12-05T13:52:58.000Z","updated":"2019-12-10T14:15:29.634Z","comments":true,"path":"2019/12/05/KM-Kuhn-Munkres-ç®—æ³•/","link":"","permalink":"https://nymrli.top/2019/12/05/KM-Kuhn-Munkres-ç®—æ³•/","excerpt":"","text":"KM(Kuhn-Munkres)ç®—æ³• å¸¦æƒäºŒåˆ†å›¾æœ€ä½³å®Œç¾åŒ¹é…ï¼ŒO(n^3)ï¼Œï¼ˆè¿ç”¨åŒˆç‰™åˆ©ç®—æ³•è¾…åŠ©æ±‚è§£ï¼‰ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å®Œå¤‡åŒ¹é… åªé€‚ç”¨äºå¸¦æƒæœ€å¤§åŒ¹é…ä¸€å®šæ˜¯å®Œå¤‡åŒ¹é…çš„æƒ…å†µï¼Œå®è·µä¸­å»ºè®®ç”¨è´¹ç”¨æµæ¥è§£å†³ã€‚ å®Œå…¨äºŒåˆ†å›¾ä¸€å®šæ˜¯å¶æ•°ä¸ªç‚¹ å¯è¡Œé¡¶æ ‡ï¼ˆFeasible Labelingï¼‰ï¼šç»“ç‚¹å‡½æ•°ï¼ˆxï¼‰ï¼Œä»»æ„è¾¹ï¼ˆxï¼Œyï¼‰ï¼š1ï¼ˆxï¼‰+lï¼ˆyï¼‰â‰¥wï¼ˆxiyï¼‰ã€‚ ç›¸ç­‰å­å›¾ï¼šGçš„ç”Ÿæˆå­å›¾ï¼ŒåŒ…å«æ‰€æœ‰ç‚¹ä»¥åŠæ»¡è¶³lï¼ˆxï¼‰+Iï¼ˆyï¼‰=wï¼ˆxï¼Œyï¼‰çš„è¾¹ï¼ˆxï¼Œyï¼‰ å¦‚æœELæœ‰å®Œç¾åŒ¹é…ä¸ºPMï¼Œåˆ™è¯¥Mæ˜¯åŸå›¾çš„æœ€å¤§æƒåŒ¹é…ï¼š PMçš„æƒå’Œç­‰äºæ‰€æœ‰ç‚¹çš„é¡¶æ ‡ä¹‹å’ŒSVã€‚ Gçš„ä»»ä¸€ä¸ªæœ€å¤§æƒåŒ¹é…Mï¼Œè¾¹æ»¡è¶³wï¼ˆxyï¼‰â‰¤lï¼ˆxï¼‰+ï¼ˆyï¼‰â†’Mè¾¹æƒå’Œâ‰¤SV=PMè¾¹æƒå’Œ å…³é”®å°±æ˜¯å¯»æ‰¾å¥½çš„å¯è¡Œé¡¶æ ‡ï¼Œä½¿ç›¸ç­‰å­å›¾æœ‰å®Œç¾åŒ¹é…ã€‚ ==&gt;æ‰¾åˆ°åŸå›¾çš„å®Œç¾åŒ¹é…â€“åªè¦â€“&gt;æ‰¾åˆ°ç›¸ç­‰å­å›¾çš„å®Œç¾åŒ¹é…å³å¯ â–²KMå®Œæˆä¹‹åæ‰€æœ‰çš„l(x)ä¹‹å’Œæœ€å° æ‰§è¡Œè¿‡ç¨‹ ä¸€èˆ¬å¯¹KMç®—æ³•çš„æè¿°ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ¦‚æ‹¬æˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š 1.ç”¨é‚»æ¥çŸ©é˜µï¼ˆæˆ–å…¶ä»–æ–¹æ³•ä¹Ÿè¡Œå•¦ï¼‰æ¥å‚¨å­˜å›¾ã€‚ 2.è¿ç”¨è´ªå¿ƒç®—æ³•åˆå§‹åŒ–æ ‡æ†ã€‚ 3.è¿ç”¨åŒˆç‰™åˆ©ç®—æ³•æ‰¾åˆ°å®Œå¤‡åŒ¹é…ã€‚ 4.å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™é€šè¿‡ä¿®æ”¹æ ‡æ†ï¼Œå¢åŠ ä¸€äº›è¾¹ã€‚ 5.é‡å¤3ï¼Œ4çš„æ­¥éª¤ï¼Œç›´åˆ°å®Œå…¨åŒ¹é…æ—¶å¯ç»“æŸã€‚ äºŒåˆ†å›¾åŒ¹é…é‡Œé¢æˆ‘ä»¬æ‰¾æœ€å¤§è¾¹è¿›è¡Œè¿è¾¹!ä½†æ˜¯é‡åˆ°æŸä¸ªç‚¹è¢«åŒ¹é…äº†ä¸¤æ¬¡æ€ä¹ˆåŠï¼Ÿ é‚£å°±ç”¨åŒˆç‰™åˆ©ç®—æ³•è¿›è¡Œæ›´æ”¹åŒ¹é…ï¼ è¿™å°±æ˜¯KMç®—æ³•çš„æ€è·¯äº†ï¼šå°½é‡æ‰¾æœ€å¤§çš„è¾¹è¿›è¡Œè¿è¾¹ï¼Œå¦‚æœä¸èƒ½åˆ™æ¢ä¸€æ¡è¾ƒå¤§çš„ã€‚ æ‰¾å¯¹è±¡ä¾‹å­ç†è§£é‡ç‚¹ï¼š å¥³ç”Ÿçš„æ¯è½®é€‰æ‹©éƒ½æ˜¯ä»ç¬¬ä¸€ä¸ªç”·ç”Ÿå¼€å§‹å¾€åé€‰æ‹©ä¸€ä¸ªç”·ç”Ÿï¼Œä½¿ç”·å¥³ä¸¤äººçš„æœŸæœ›å’Œè¦ç­‰äºä¸¤äººä¹‹é—´çš„å¥½æ„Ÿåº¦ã€‚ æ³¨æ„ï¼šæ¯ä¸€è½®åŒ¹é…ï¼Œæ¯ä¸ªç”·ç”Ÿåªä¼šè¢«å°è¯•åŒ¹é…ä¸€æ¬¡ï¼ å¦‚æœæ‰¾å¯¹è±¡å¤±è´¥ï¼Œé‚£ä¹ˆæ­¤æ—¶å‚ä¸åŒ¹é…è¿‡çš„å¥³ç”ŸæœŸæœ›å€¼éƒ½é™ä½dï¼Œæœ¬è½®è¢«é€‰æ‹©çš„ç”·ç”ŸæœŸæœ›å€¼éƒ½å¢åŠ dï¼šdä¸ºä»»æ„ä¸€ä¸ªè¿™è½®å‚ä¸è¿‡åŒ¹é…çš„å¥³ç”Ÿèƒ½æ¢åˆ°***ä»»æ„ä¸€ä¸ªè¿™è½®æ²¡æœ‰è¢«é€‰æ‹©è¿‡çš„ç”·ç”Ÿæ‰€éœ€è¦é™ä½çš„æœ€å°å€¼*ï¼ˆéå†å·¦è¾¹å·²é…å¯¹çš„Xï¼Œæ ‡æ†å€¼Lxï¼Œä¸å³è¾¹è¿™ä¸€è½®æ²¡è¢«é€‰æ‹©è¿‡çš„ç”·ç”ŸYï¼Œæ ‡æ†å€¼Lyï¼ŒæŒ‘å‡ºéœ€è¦é™ä½çš„æœ€å°å€¼ï¼Œå³ d=min(Lx+Ly-W, d) ï¼‰ å¤æ‚åº¦ æœ´ç´ çš„å®ç°æ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n4)â€”â€”éœ€è¦æ‰¾O(n)æ¬¡å¢å¹¿è·¯ï¼Œæ¯æ¬¡å¢å¹¿æœ€å¤šéœ€è¦ä¿®æ”¹O(n)æ¬¡é¡¶æ ‡ï¼Œæ¯æ¬¡ä¿®æ”¹é¡¶æ ‡æ—¶ç”±äºè¦æšä¸¾è¾¹æ¥æ±‚då€¼ï¼Œå¤æ‚åº¦ä¸ºO(n2)ã€‚ å®é™…ä¸ŠKMç®—æ³•çš„å¤æ‚åº¦æ˜¯å¯ä»¥åšåˆ°O(n3) çš„ã€‚æˆ‘ä»¬ç»™æ¯ä¸ªYé¡¶ç‚¹ä¸€ä¸ªâ€œæ¾å¼›é‡â€å‡½æ•°slackï¼Œæ¯æ¬¡å¼€å§‹æ‰¾å¢å¹¿è·¯æ—¶åˆå§‹åŒ–ä¸ºæ— ç©·å¤§ã€‚åœ¨å¯»æ‰¾å¢å¹¿è·¯çš„è¿‡ç¨‹ä¸­ï¼Œæ£€æŸ¥è¾¹(i,j)æ—¶ï¼Œå¦‚æœå®ƒä¸åœ¨ç›¸ç­‰å­å›¾ä¸­ï¼Œåˆ™è®©slack[j]å˜æˆåŸå€¼ä¸A[i]+B[j]-w[i,j]çš„è¾ƒå°å€¼ã€‚è¿™æ ·ï¼Œåœ¨ä¿®æ”¹é¡¶æ ‡æ—¶ï¼Œå–æ‰€æœ‰ä¸åœ¨äº¤é”™æ ‘ä¸­çš„Yé¡¶ç‚¹çš„slackå€¼ä¸­çš„æœ€å°å€¼ä½œä¸ºdå€¼å³å¯ã€‚ä½†è¿˜è¦æ³¨æ„ä¸€ç‚¹ï¼šä¿®æ”¹é¡¶æ ‡åï¼Œè¦æŠŠæ‰€æœ‰çš„slackå€¼éƒ½å‡å»dã€‚ï¼ˆå³ç”¨åœ¨æ‰§è¡ŒåŒˆç‰™åˆ©ç®—æ³•çš„æ—¶å€™ï¼Œè¿›è¡Œå¯¹slackçš„æ›´æ–°ï¼Œä»è€Œå‡å°‘ä¸€å±‚æ‰¾åˆ°æœ€å°dçš„å¾ªç¯ï¼‰ ä¸¾ä¸ªæ —å­: å°‘æ—å†³èƒœ(Golden Tiger Clawï¼ŒUVa11383) ç»™å®šä¸€ä¸ªN*NçŸ©é˜µï¼Œæ¯ä¸ªæ ¼å­é‡Œéƒ½æœ‰ä¸€ä¸ªæ­£æ•´æ•°w(i,j)ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç»™æ¯è¡Œç¡®å®šä¸€ä¸ªæ•´æ•°row(i)ï¼Œæ¯åˆ—ä¹Ÿç¡®å®šä¸€ä¸ªæ•´æ•°col(i)ï¼Œä½¿å¾—å¯¹äºä»»æ„æ ¼å­(i, j)ï¼Œw(i, j)â‰¤row(i)+colj)ã€‚æ‰€æœ‰row(i)å’Œcol(i)ä¹‹å’Œåº”å°½é‡å°ã€‚ ã€åˆ†æã€‘ 1.è¡Œçœ‹ä½œäºŒåˆ†å›¾Xç‚¹ï¼Œåˆ—çœ‹ä½œäºŒåˆ†å›¾Yç‚¹ã€‚ 2.å’Œæœ€ä½³åŒ¹é…æ²¡æœ‰ä»»ä½•å…³ç³»ï¼ŒKMç®—æ³•å‰¯äº§å“ã€‚ 3.KMä¸­ç®—æ³•ç­‰å¼lï¼ˆxï¼‰+lï¼ˆyï¼‰â‰¥wï¼ˆxï¼Œyï¼‰ã€‚è¡ŒXï¼Œåˆ—Yã€‚ 4.KMè¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰é¡¶æ ‡ä¸æ–­å‡å°ï¼Œç®—æ³•ç»“æŸåï¼Œæ‰€æœ‰é¡¶æ ‡ä¹‹å’Œæ˜¯æœ€å°çš„ã€‚ èš‚èšï¼ˆAntsï¼ŒNEERC2008ï¼ŒLA4043ï¼‰ ç»™å‡ºnä¸ªç™½ç‚¹å’Œnä¸ªé»‘ç‚¹çš„åæ ‡ï¼Œè¦æ±‚ç”¨næ¡ä¸ç›¸äº¤çš„çº¿æ®µæŠŠå®ƒä»¬è¿æ¥èµ·æ¥ï¼Œå…¶ä¸­æ¯æ¡çº¿æ®µæ°å¥½è¿æ¥ä¸€ä¸ªç™½ç‚¹å’Œä¸€ä¸ªé»‘ç‚¹ï¼Œæ¯ä¸ªç‚¹æ°å¥½è¿æ¥åˆ°ä¸€æ¡çº¿æ®µï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ ã€åˆ†æã€‘ ç‚¹æœ‰é»‘ç™½ä¸¤è‰²ï¼Œæ„é€ äºŒåˆ†å›¾ï¼Œç™½Xé»‘Yã€‚æ¯ä¸ªé»‘ç‚¹å’Œæ¯ä¸ªç™½ç‚¹ç›¸è¿ï¼Œæƒå€¼ç­‰äºæ¬§æ°è·ç¦»ã€‚ è¿æ¥æ–¹æ¡ˆå®é™…ä¸Šæ˜¯è®¡ç®—ä¸€ä¸ªå®Œç¾åŒ¹é…ï¼ŒåŒ¹é…ä¸­å‡è®¾al-b1ä¸a2-b2ç›¸äº¤ï¼Œé‚£ä¹ˆdist(a1ï¼Œb1)+dist(a2ï¼Œb2)&gt;dist(alï¼Œb2)+dist(a2ï¼Œb1)ï¼Œè¿™ä¸¤æ¡çº¿æ®µæ”¹æˆal-b2å’Œa2-b1åæ€»é•¿åº¦ä¼šå˜å°‘ã€‚ æ‰€ä»¥æœ€å°åŒ¹é…ä¸­ä¸ä¼šå‡ºç°çº¿æ®µç›¸äº¤ã€‚ å¥—KMç®—æ³•å³å¯è®¡ç®—æœ€å°å®Œç¾åŒ¹é…å³å¯ã€‚ é™„å½• O(n^3)ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;cstdio&gt;#include &lt;ctime&gt;using namespace std;const int MAXN = 305;const int INF = 0x3f3f3f3f;// Xä¸ºå¥³ç”ŸèŠ‚ç‚¹ï¼Œ Yä¸ºç”·ç”ŸèŠ‚ç‚¹int love[MAXN][MAXN]; // è®°å½•æ¯ä¸ªå¦¹å­å’Œæ¯ä¸ªç”·ç”Ÿçš„å¥½æ„Ÿåº¦int ex_girl[MAXN]; // æ¯ä¸ªå¦¹å­çš„æœŸæœ›å€¼int ex_boy[MAXN]; // æ¯ä¸ªç”·ç”Ÿçš„æœŸæœ›å€¼bool vis_girl[MAXN]; // è®°å½•æ¯ä¸€è½®åŒ¹é…åŒ¹é…è¿‡çš„å¥³ç”Ÿbool vis_boy[MAXN]; // è®°å½•æ¯ä¸€è½®åŒ¹é…åŒ¹é…è¿‡çš„ç”·ç”Ÿint match[MAXN]; // è®°å½•æ¯ä¸ªç”·ç”ŸåŒ¹é…åˆ°çš„å¦¹å­ å¦‚æœæ²¡æœ‰åˆ™ä¸º-1int slack[MAXN]; // è®°å½•æ¯ä¸ªæ±‰å­å¦‚æœèƒ½è¢«å¦¹å­å€¾å¿ƒæœ€å°‘è¿˜éœ€è¦å¤šå°‘æœŸæœ›å€¼int N;bool dfs(int girl)&#123; vis_girl[girl] = true; for (int boy = 0; boy &lt; N; ++boy) &#123; if (vis_boy[boy]) continue; // æ¯ä¸€è½®åŒ¹é… æ¯ä¸ªç”·ç”Ÿåªå°è¯•ä¸€æ¬¡ int gap = ex_girl[girl] + ex_boy[boy] - love[girl][boy]; if (gap == 0) &#123; // å¦‚æœç¬¦åˆè¦æ±‚ vis_boy[boy] = true; if (match[boy] == -1 || dfs( match[boy] )) &#123; // æ‰¾åˆ°ä¸€ä¸ªæ²¡æœ‰åŒ¹é…çš„ç”·ç”Ÿ æˆ–è€…è¯¥ç”·ç”Ÿçš„å¦¹å­å¯ä»¥æ‰¾åˆ°å…¶ä»–äºº match[boy] = girl; return true; &#125; &#125; else &#123; slack[boy] = min(slack[boy], gap); // slack å¯ä»¥ç†è§£ä¸ºè¯¥ç”·ç”Ÿè¦å¾—åˆ°å¥³ç”Ÿçš„å€¾å¿ƒ è¿˜éœ€å¤šå°‘æœŸæœ›å€¼ å–æœ€å°å€¼ å¤‡èƒçš„æ ·å­ã€æ‚è„¸ &#125; &#125; return false;&#125;int KM()&#123; // â–²åˆå§‹åŒ–æœ‰å…³è¢«é€‰æ‹©çš„ç”·ç”Ÿçš„é‡1-2 [é€‰æ‹©ä»–çš„å¥³ç”Ÿã€ç”·ç”Ÿæ–¹æ ‡æ†] memset(match, -1, sizeof match); // åˆå§‹æ¯ä¸ªç”·ç”Ÿéƒ½æ²¡æœ‰åŒ¹é…çš„å¥³ç”Ÿ memset(ex_boy, 0, sizeof ex_boy); // åˆå§‹æ¯ä¸ªç”·ç”Ÿçš„æœŸæœ›å€¼ä¸º0 // â–²åˆå§‹åŒ–3 [å¥³ç”Ÿæ–¹çš„æ ‡æ†] // æ¯ä¸ªå¥³ç”Ÿçš„åˆå§‹æœŸæœ›å€¼æ˜¯ä¸å¥¹ç›¸è¿çš„ç”·ç”Ÿæœ€å¤§çš„å¥½æ„Ÿåº¦ for (int i = 0; i &lt; N; ++i) &#123; ex_girl[i] = love[i][0]; for (int j = 1; j &lt; N; ++j) &#123; ex_girl[i] = max(ex_girl[i], love[i][j]); &#125; &#125; // å°è¯•ä¸ºæ¯ä¸€ä¸ªå¥³ç”Ÿè§£å†³å½’å®¿é—®é¢˜ for (int i = 0; i &lt; N; ++i) &#123; // â–²åˆå§‹åŒ–4 [slack-æ‰¾åˆ°æœ€å°çš„d] fill(slack, slack + N, INF); // å› ä¸ºè¦å–æœ€å°å€¼ åˆå§‹åŒ–ä¸ºæ— ç©·å¤§ while (1) &#123; // ä¸ºæ¯ä¸ªå¥³ç”Ÿè§£å†³å½’å®¿é—®é¢˜çš„æ–¹æ³•æ˜¯ ï¼šå¦‚æœæ‰¾ä¸åˆ°å°±é™ä½æœŸæœ›å€¼ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ // åˆå§‹åŒ–5-6 [è¯¥è½®ä¸­é‚£äº›å¥³ç”Ÿå·²ç»å°è¯•åŒ¹é…è¿‡ï¼Œè¯¥è½®ä¸­é‚£äº›ç”·ç”Ÿè¢«é€‰æ‹©è¿‡] // è®°å½•æ¯è½®åŒ¹é…ä¸­ç”·ç”Ÿå¥³ç”Ÿæ˜¯å¦è¢«å°è¯•åŒ¹é…è¿‡ memset(vis_girl, false, sizeof vis_girl); memset(vis_boy, false, sizeof vis_boy); if (dfs(i)) break; // æ‰¾åˆ°å½’å®¿ é€€å‡º // å¦‚æœä¸èƒ½æ‰¾åˆ° å°±é™ä½æœŸæœ›å€¼ // æœ€å°å¯é™ä½çš„æœŸæœ›å€¼ int d = INF; for (int j = 0; j &lt; N; ++j) if (!vis_boy[j]) d = min(d, slack[j]); for (int j = 0; j &lt; N; ++j) &#123; // æ‰€æœ‰è®¿é—®è¿‡çš„å¥³ç”Ÿé™ä½æœŸæœ›å€¼ if (vis_girl[j]) ex_girl[j] -= d; // æ‰€æœ‰è®¿é—®è¿‡çš„ç”·ç”Ÿå¢åŠ æœŸæœ›å€¼ if (vis_boy[j]) ex_boy[j] += d; // æ²¡æœ‰è®¿é—®è¿‡çš„boy å› ä¸ºgirlä»¬çš„æœŸæœ›å€¼é™ä½ï¼Œè·ç¦»å¾—åˆ°å¥³ç”Ÿå€¾å¿ƒåˆè¿›äº†ä¸€æ­¥ï¼ else slack[j] -= d; &#125; &#125; &#125; // åŒ¹é…å®Œæˆ æ±‚å‡ºæ‰€æœ‰é…å¯¹çš„å¥½æ„Ÿåº¦çš„å’Œ int res = 0; for (int i = 0; i &lt; N; ++i) res += love[ match[i] ][i]; return res;&#125;int main()&#123; while (~scanf(\"%d\", &amp;N)) &#123; for (int i = 0; i &lt; N; ++i) for (int j = 0; j &lt; N; ++j) scanf(\"%d\", &amp;love[i][j]); printf(\"%d\\n\", KM()); &#125; return 0;&#125; è£¸é¢˜:HDU2255 å¥”å°åº·èµšå¤§é’± è¾“å…¥æ•°æ®åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œè¾“å…¥n,è¡¨ç¤ºæˆ¿å­çš„æ•°é‡(ä¹Ÿæ˜¯è€ç™¾å§“å®¶çš„æ•°é‡)ï¼Œæ¥ä¸‹æ¥æœ‰nè¡Œ,æ¯è¡Œnä¸ªæ•°è¡¨ç¤ºç¬¬iä¸ªæ‘åå¯¹ç¬¬jé—´æˆ¿å‡ºçš„ä»·æ ¼(n&lt;=300)ã€‚ 123456Sample Input2 // ä¸€å…±æœ‰ä¸¤ä¸ªæˆ¿å­100 10 // æ‘æ°‘1å¯¹ç¬¬ä¸€é—´å‡ºä»·100, ç¬¬äºŒé—´1015 23 // æ‘æ°‘1å¯¹ç¬¬ä¸€é—´å‡ºä»·15, ç¬¬äºŒé—´23Sample Output123 // ç¬¬ä¸€é—´ç»™1,ç¬¬äºŒé—´ç»™2 è·å¾—å…¶ä»–æ•°æ®ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253int main()&#123; N = 3; srand(time(0)); for (int i = 0; i &lt; N; ++i)&#123; for (int j = 0; j &lt; N; ++j)&#123; int tmp = rand() % 3*N + 1; love[i][j] = tmp; printf(\"%d \", love[i][j] ); &#125; printf(\"\\n\"); &#125; printf(\"%d\\n\", KM()); int sum = 0; for (int i = 0; i &lt; N; ++i)&#123; printf(\"%d-&gt;%d\\n\", match[i], i); sum += love[match[i]][i]; &#125; printf(\"å’Œæœ€å¤§ï¼š%d\\n\", sum); for (int i = 0; i &lt; N; ++i)&#123; for (int j = 0; j &lt; N; ++j)&#123; love[i][j] = -love[i][j] ; printf(\"%d \", love[i][j] ); &#125; printf(\"\\n\"); &#125; printf(\"å’Œæœ€å°ï¼š%d\\n\", -KM()); sum = 0; for (int i = 0; i &lt; N; ++i)&#123; printf(\"%d-&gt;%d\\n\", match[i], i); sum += love[match[i]][i]; &#125; printf(\"%d\\n\", sum); return 0;&#125;/**4 1 7 1 4 7 1 7 4 180-&gt;02-&gt;11-&gt;218-4 -1 -7 -1 -4 -7 -1 -7 -4 61-&gt;00-&gt;12-&gt;2-6*/ å‚è€ƒèµ„æ–™ï¼š äºŒåˆ†å›¾åŒ¹é…ä¹‹æœ€ä½³åŒ¹é…â€”â€”KMç®—æ³• KMç®—æ³•è¯¦è§£+æ¨¡æ¿â€”â€”ç”·å¥³ç›¸äº²åŒ¹é… å¸¦ä½ å…¥é—¨å¤šç›®æ ‡è·Ÿè¸ªï¼ˆä¸‰ï¼‰åŒˆç‰™åˆ©ç®—æ³•&amp;KMç®—æ³•â€”â€”ä»¥å›¾åƒç›®æ ‡è·Ÿè¸ªè·ç¦»","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"}]},{"title":"ACM-äºŒåˆ†å›¾","slug":"ACM-äºŒåˆ†å›¾","date":"2019-12-05T09:45:57.000Z","updated":"2019-12-08T14:21:09.471Z","comments":true,"path":"2019/12/05/ACM-äºŒåˆ†å›¾/","link":"","permalink":"https://nymrli.top/2019/12/05/ACM-äºŒåˆ†å›¾/","excerpt":"","text":"äºŒåˆ†å›¾çš„åˆ¤å®šï¼š æŸ“è‰²æ³•1ï¼šå‡è®¾DFSåˆå§‹ç‚¹Aæ¶‚é»‘è‰²ï¼Œä¸å®ƒç›¸é‚»çš„ç‚¹å°±æ¶‚ç™½è‰²ã€‚å¦‚æœæœåˆ°æŸä¸€ä¸ªç‚¹uçš„ç›¸é‚»ç‚¹vå·²ç»æ¶‚è‰²å¹¶ä¸”ä¸uåŒè‰²ï¼Œå°±ä¸å¯èƒ½æ˜¯äºŒåˆ†å›¾å•¦~ æŸ“è‰²æ³•2ï¼šå°±æ˜¯ç»™æ¯ä¸ªç‚¹è¿›è¡Œæ ‡å·ï¼Œæ ‡ä¸º-1ï¼Œ1å¦‚æœå­˜åœ¨ä¸€æ¡è¾¹è¿æ¥çš„ä¸¤ä¸ªç‚¹æ ‡å·ç›¸åŒï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ä¸€ä¸ªå¥‡æ•°ç¯â€¦ çƒ­èº«é¢˜ï¼š åˆ¤æ–­æ— å‘å›¾æ˜¯å¦æœ‰ç¯ ç”¨DFSéå†å›¾gï¼Œå¦‚æœè®¿é—®åˆ°å·²ç»è®¿é—®è¿‡çš„é¡¶ç‚¹ï¼Œé‚£ä¹ˆæœ‰ç¯ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677#include &lt;bits/stdc++.h&gt;#include&lt;algorithm&gt;using namespace std;#define SIZE 100+5/** * èµ·ç‚¹ç¼–å·ä»0å¼€å§‹ */struct graph&#123; int en; // è¾¹æ•° int vn; // é¡¶ç‚¹æ•° int map[SIZE][SIZE]; // é‚»æ¥çŸ©é˜µ int vis[SIZE]; // è®°å½•çŸ©é˜µ bool huan = false; // æ˜¯å¦æœ‰ç¯&#125;;/**u: å½“å‰èŠ‚ç‚¹èŠ‚ç‚¹prev: è®°å½•ä¸Šä¸€ä¸ªèŠ‚ç‚¹g: å›¾æŒ‡é’ˆ */void dfs(int u, int prev, graph *g)&#123; // éå†å›¾ for (int v = 0; v &lt; g-&gt;vn; ++v)&#123; // vä¸ºä¸‹ä¸€ä¸ªå¯è¾¾çš„èŠ‚ç‚¹ // è‡ªå·±åˆ°è‡ªå·±ä¸º0, æ˜¯æ²¡æœ‰è¾¹çš„ if (v == prev) continue; if ( g-&gt;vis[v] != 2 &amp;&amp; g-&gt;map[u][v] )&#123; g-&gt;vis[v] = 1; dfs(v, u, g); &#125;else if(g-&gt;vis[v] == 2 &amp;&amp; g-&gt;map[u][v] )&#123; printf(\"now: %d %d\\n\",u ,v ); g-&gt;huan = true; return ; &#125; &#125;&#125;void showGraph(const graph *g)&#123; printf(\"\\t\"); for (int i = 0; i &lt; g-&gt;vn; ++i)&#123; printf(\"%d \", i); &#125; printf(\"\\n\"); for (int i = 0; i &lt; g-&gt;vn; ++i)&#123; printf(\"v:%d\\t\", i); for (int j = 0; j &lt; g-&gt;vn; ++j)&#123; printf(\"%d \", g-&gt;map[i][j]); &#125; printf(\"\\n\"); &#125;&#125;int main(int argc, char const *argv[])&#123; int n; graph *g = new graph(); scanf(\"%d%d\", &amp;g-&gt;vn, &amp;g-&gt;en); memset(g-&gt;map, 0, sizeof(int)*g-&gt;en*g-&gt;vn); for (int i = 0; i &lt; g-&gt;en; ++i)&#123; int u, v; scanf(\"%d%d\", &amp;u, &amp;v); g-&gt;map[u][v] = g-&gt;map[v][u] = 1; &#125; showGraph(g); for (int i = 0; i &lt; g-&gt;vn; ++i)&#123; // å¦‚æœèŠ‚ç‚¹iæ²¡è¢«è®¿é—®è¿‡ if (g-&gt;vis[i] == 0 &amp;&amp; g-&gt;huan == false)&#123; g-&gt;vis[i] = 2; dfs(i, -1, g); g-&gt;vis[i] = 1; &#125;else if(g-&gt;huan == true) break; &#125; if (g-&gt;huan) printf(\"æœ‰ç¯\\n\"); else printf(\"æ— ç¯\\n\"); return 0;&#125; åˆ¤æ–­ä¸€ä¸ªç¯æ˜¯å¦ä¸ºå¥‡æ•°ç¯ 1356: Catch é¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªèµ·å§‹ç‚¹ï¼Œä¸€äº›è¾¹ï¼Œæœ‰äººä»è¿™ä¸ªèµ·å§‹ç‚¹å¼€å§‹éšæ„èµ°ï¼Œé—®åœ¨æŸä¸€ä¸ªæ—¶å€™ï¼Œå®ƒæ˜¯å¦å¯ä»¥å¤„äºä»»æ„ä½ç½®ã€‚ æ€è·¯ï¼šæ€è€ƒä¸‹ï¼Œå°±å¯ä»¥æ˜ç™½ï¼Œåªè¦æ˜¯ä¸€ä¸ªè”é€šå›¾ï¼Œå¹¶ä¸”å­˜åœ¨å¥‡æ•°ç‚¹å½¢æˆçš„ç¯ï¼Œé‚£ä¹ˆåœ¨æŸä¸€ä¸ªæ—¶å€™å°±å¯ä»¥å¤„äºä»»æ„ä½ç½®ã€‚ 12 æœ€å¤§åŒ¹é…æ•°â€”â€”åŒˆç‰™åˆ©ç®—æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 150;int line[maxn][maxn]; // é‚»æ¥çŸ©é˜µ,è¡¨ç¤ºç”·ç”Ÿæ˜¯å¦æœ‰å¥½æ„Ÿ(å¯è¾¾)int used[maxn]; // åœ¨ä½ç”·ç”ŸiåŒ¹é…çš„é‚£è½®ä¸­,å¥³ç”Ÿiæ˜¯å¦è¢«å°è¯•è¿‡åŒ¹é…int nxt[maxn]; // å¦‚æœåŒ¹é…åˆ°äº†çš„è¯,é‚£ä¹ˆç”·ç”Ÿæ˜¯è°,å¥³ç”Ÿiçš„å¯¹è±¡ä¸ºnxt[i]int m, n, t;/** * ä¸ºç”·ç”ŸxåŒ¹é…åˆ°ä¸€ä¸ªå¥³ç”Ÿi,å¦‚æœåŒ¹é…åˆ°çš„å¥³ç”Ÿæœ‰ä¸»,é‚£ä¹ˆè®©å·²é…å¯¹å¥³ç”Ÿçš„å¯¹è±¡(ç”·)ä¿®æ”¹åŒ¹é…å¯¹è±¡ * @author mrli 2019-12-08 * @param x ç”·ç”Ÿ * @return ç”·ç”Ÿxæ˜¯å¦èƒ½åŒ¹é…åˆ°å¥³ç”Ÿ */bool Find(int x)&#123; // éå†æ‰€æœ‰å¦¹å­YèŠ‚ç‚¹ for (int i = 1; i &lt;= m; ++i)&#123; // å¦‚æœç”·ç”Ÿå¯¹å¥³ç”Ÿäº’æœ‰å¥½æ„Ÿ(å³è¾¹å¯è¾¾) ä¸” å¦¹å­æ²¡æœ‰åŒ¹é…è¿‡ if (line[x][i] &amp;&amp; !used[i])&#123; // åœ¨ç”·ç”Ÿè¯¥è½®,å°†è¯¥å¥³ç”Ÿiæ ‡è®°ä¸ºå·²ç»è¢«å°è¯•åŒ¹é…è¿‡ used[i] = 1; // å¦‚æœå¦¹å­æ²¡æœ‰å¯¹è±¡ æˆ–è€… å·²åŒ¹é…åˆ°çš„ç”·ç”Ÿæ˜¯å¯ä»¥è½¬ç§»å¯¹è±¡çš„ if ( nxt[i]==0 || Find( nxt[i]) )&#123; // å°†å¥³ç”Ÿçš„å·²é…å¯¹å¯¹è±¡æ”¹ä¸ºx nxt[i] = x; return true; &#125; &#125; &#125; return false;&#125;/** * ä¸ºæ‰€æœ‰ç”·ç”Ÿè¿›è¡ŒåŒ¹é… * @author mrli 2019-12-08 * @return æœ€å¤§åŒ¹é…æ•° */int match()&#123; // æœ€å¤§åŒ¹é…æ•° int sum = 0; // éå†æ‰€æœ‰ç”·ç”ŸXèŠ‚ç‚¹ for (int i = 1; i &lt;= n; ++i)&#123; // åœ¨ç”·ç”Ÿiè¯¥è½®,æ‰€æœ‰å¥³ç”Ÿéƒ½æ²¡æœ‰è¢«ä¿®æ”¹è¿‡åŒ¹é… memset(used, 0, sizeof(used)); // å¦‚æœå½“å‰ç”·ç”Ÿèƒ½æ‰¾åˆ°åŒ¹é…å¥³ç”Ÿ,é‚£ä¹ˆæœ€å¤§åŒ¹é…æ•°++ if (Find(i)) sum++; &#125; return sum;&#125;int main(int argc, char const *argv[])&#123; int u, v; cin &gt;&gt; t; // XYèŠ‚ç‚¹æ•° n = m = 4; memset(line, 0, sizeof(line)); memset(nxt, 0, sizeof(nxt)); while(t--)&#123; cin &gt;&gt; u &gt;&gt; v; line[u][v] = 1; &#125; cout &lt;&lt; match(); return 0;&#125;/**input:71 11 22 22 33 13 24 3output:3 */ æ‹“å±•é¢˜:æ— é¢˜II HDU2236 äºŒåˆ†å›¾ï¼šä¸ºä»€ä¹ˆä¼šæƒ³åˆ°ç”¨äºŒåˆ†å›¾å‘¢ï¼Ÿä¸åŒè¡Œä¸åŒåˆ—ï¼Œä»”ç»†æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæŸç‚¹ï¼ˆx,yï¼‰ï¼Œè¢«é€‰ä¸­ï¼Œé‚£ä¹ˆæ¨ªåæ ‡ä¸Šxçš„å€¼ä¸èƒ½å†é€‰ï¼Œçºµåæ ‡ä¸Šçš„yå€¼ä¹Ÿä¸èƒ½å†é€‰ï¼Œè¿™ç›¸å½“äºäºŒç»´ä¸Šæœ‰å¾ˆå¤šå€¼ï¼Œä½†æ˜¯æ¯ä¸ªå€¼éƒ½åªèƒ½ç”¨ä¸€æ¬¡ï¼Œè¿™å°±å¯ä»¥æƒ³åˆ°ç”¨äºŒåˆ†å›¾åŒ¹é…æ±‚å®Œç¾åŒ¹é…äº†ã€‚ äºŒåˆ†ç­”æ¡ˆï¼šæ±‚nä¸ªæ•°çš„æœ€å¤§æœ€å°çš„å·®å€¼æœ€å°ï¼Œé¦–å…ˆè¿™ä¸ªå·®å€¼ä¸€å®šæ˜¯**0-(maxv-minv)**åŒºé—´çš„ï¼Œç„¶åæˆ‘ä»¬äºŒåˆ†å·®å€¼ä¸ºå¤–å¾ªç¯ï¼Œæšä¸¾ä¸‹ç•Œä¸ºå†…å¾ªç¯ï¼Œå¾—åˆ°ä¸€ä¸ªåŒºé—´ã€‚åšæ³•ï¼šä¿®æ”¹äºŒåˆ†å›¾åŒ¹é…æ¨¡æ¿ï¼šå¦‚æœè¿™ä¸ªäºŒåˆ†å›¾çš„åŒ¹é…ç‚¹æ˜¯åœ¨è¿™ä¸ªåŒºé—´é‡Œçš„å‰å»åŒ¹é…ï¼Œhungry()å‡½æ•°ä¸­è¿”å›æ˜¯å¦ä¸ºå®Œç¾åŒ¹é…ï¼Œå¯¹äºæ¯ä¸€ä¸ªäºŒåˆ†çš„å·®å€¼ï¼Œåªè¦å®ƒèƒ½æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³åŒºé—´æ¡ä»¶çš„å®Œç¾åŒ¹é…ï¼Œå°±è®°å½•ä¸€ä¸‹ç­”æ¡ˆã€‚ Qï¼šé¦–å…ˆæ˜ç™½åœ¨æ±‚ä»€ä¹ˆ Aï¼š é¦–å…ˆéœ€è¦æ˜ç™½ï¼šå›¾ä¸­æ¯ä¸ªæ•°å€¼X + æœ€å¤§å·®å€¼ &lt;= æœ€å¤§å€¼ æˆ‘å¯¹ä¸Šé¢çš„ç†è§£ï¼š 1.æœ€å¤§çš„å·®å€¼æ˜¯ä¸ªå…·ä½“çš„æ•°å€¼Î´ï¼Œæœ€åˆå¯ä»¥ç¡®å®šçš„èŒƒå›´åœ¨[0, maxv - minv] ä¹‹é—´ï¼Œå› æ­¤å¯ä»¥é€šè¿‡äºŒåˆ†æœç´¢çš„æ–¹å¼æ¥æ‰¾åˆ°è¿™ä¸ªå€¼==&gt;äºŒåˆ†æœç´¢ 2.é‚£æ€ä¹ˆè¿›è¡ŒäºŒåˆ†æ¥ç¼©å°è¿™ä¸ªåŒºé—´èŒƒå›´å‘¢?Ansï¼šå¦‚æœç¬¦åˆæœ€å¤§å·®å€¼çš„æ¡ä»¶(è¡¨ä¸­æ‰€æœ‰æ•°éƒ½æ»¡è¶³ ï¼šæ•°å€¼x+å·®å€¼ &lt;= æœ€å¤§å€¼)ï¼Œå³æ‰€æœ‰ç‚¹éƒ½èƒ½å®ŒæˆåŒ¹é…ï¼Œé‚£ä¹ˆè¯æ˜æœ€å¤§å·®å€¼åœ¨è¿™ä¸ªåŒºé—´ä¸­----&gt;å®Œç¾åŒ¹é…==&gt;åŒˆç‰™åˆ©ç®—æ³• â–²æ‰€ä»¥ç®—æ³•å˜æˆäº†ï¼Œä¸æ–­ç¼©å°æœ€å¤§å·®å€¼å¯ä»¥å–å€¼çš„åŒºé—´ï¼Œæ ¸å¿ƒï¼š åˆ¤æ–­æ‰€æœ‰æ•°æ˜¯å¦åœ¨[p, p+å·®å€¼]åŒºé—´å†… 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 150;const int inf=0x3f3f3f3f;int line[maxn][maxn]; // é‚»æ¥çŸ©é˜µ,è¡¨ç¤ºç”·ç”Ÿæ˜¯å¦æœ‰å¥½æ„Ÿ(å¯è¾¾)int used[maxn]; // åœ¨ä½ç”·ç”ŸiåŒ¹é…çš„é‚£è½®ä¸­,å¥³ç”Ÿiæ˜¯å¦è¢«å°è¯•è¿‡åŒ¹é…int nxt[maxn]; // å¦‚æœåŒ¹é…åˆ°äº†çš„è¯,é‚£ä¹ˆç”·ç”Ÿæ˜¯è°,å¥³ç”Ÿiçš„å¯¹è±¡ä¸ºnxt[i]int m, n, t, maxv, minv;int l, r, mid;int p;/***input:141 1 1 12 2 2 23 3 3 34 4 4 4*/bool Find(int x)&#123; for (int i = 1; i &lt;= m; ++i)&#123; // ä¿®æ”¹æ¨¡æ¿ï¼šå¢åŠ ç•Œå®šäºŒåˆ†[p, p+mid]çš„åŒºé—´ // åˆ¤æ–­è¾¹xæ˜¯å¦è¿˜åœ¨[minv, minv+å·®å€¼]ä¹‹é—´ /*ifæ¡ä»¶è§£é‡Š:æ‰§è¡Œè¿‡ç¨‹åˆ†æ å¦‚é¢˜,l=0, r=4, ç¬¬ä¸€æ¬¡mid=2,p=1, æ­¤æ—¶å¹¶ä¸æ˜¯æ‰€æœ‰ç‚¹éƒ½åœ¨[1, 1+2]ä¹‹é—´,æ‰€ä»¥åŒ¹é…å¤±è´¥ å› ä¸º1+2&lt;=4(maxv),æ‰€ä»¥p++åå†è¿›å…¥,æ­¤æ—¶mid=2,p=2,æ­¤æ—¶ä»ç„¶ä¸æ˜¯æ‰€æœ‰ç‚¹åœ¨è¿™ä¸ªèŒƒå›´[2,2+2]å†…,æ‰€ä»¥å¤±è´¥,ç¬¬ä¸€æ¬¡äºŒåˆ†å¤±è´¥,åŒºé—´ä¸åœ¨[l,mid]å³[0,2]ä¹‹é—´ ç¬¬äºŒæ¬¡æ›´æ–°l=mid+1=2+1=3,mid=(3+4)/2=3 p=1æ—¶,åˆ¤æ–­æ˜¯å¦æ‰€æœ‰ç‚¹éƒ½åœ¨[1,1+3]èŒƒå›´,==&gt;ç»“æœæ˜¯çš„,hungarianè¿”å›true,äºŒåˆ†ç¡®å®šåœ¨[mid, r]å³[3,4]ä¹‹é—´,æ›´æ–°r=mid-1=3,mid=(l+r)/2=3,æ­¤æ—¶æœ‰l=r=3æ‰€ä»¥æ‰¾åˆ°äº†æœ€å¤§å·®å€¼mid */ if(p &lt;= line[x][i] &amp;&amp; line[x][i]&lt;= p+mid &amp;&amp; !used[i])&#123; used[i] = 1; if ( nxt[i]==0 || Find( nxt[i]) )&#123; nxt[i] = x; return true; &#125; &#125; &#125; return false;&#125;int hungarian()&#123; int sum = 0; // è¿™è¾¹æ”¹äº†ï¼Œæ¯æ¬¡éƒ½æ˜¯æ–°æƒ…å†µ memset(nxt, 0, sizeof(nxt)); for (int i = 1; i &lt;= n; ++i)&#123; memset(used, 0, sizeof(used)); if (Find(i)) sum++; &#125; // ä¿®æ”¹æ¨¡æ¿ return sum==n?1:0;&#125;int main(int argc, char const *argv[])&#123; int size; cin &gt;&gt; t; while(t--)&#123; cin &gt;&gt; size; m = n = size; maxv = -inf; minv = inf; for (int i = 1; i &lt;= size; ++i)&#123; for (int j = 1; j &lt;= size; ++j)&#123; cin &gt;&gt; line[i][j]; maxv = max(maxv, line[i][j]); minv = min(minv, line[i][j]); &#125; &#125; l = 0; r = maxv - minv; int ans = 0; // äºŒåˆ†æœç´¢ï¼Œä¸æ–­ç¼©å°åŒºé—´ while( l &lt;= r)&#123; bool flag = false; mid = (l+r) &gt;&gt; 1; // midä¸ºå·®å€¼ // éå†ä¸‹ç•Œçš„æœç´¢,æšä¸¾æœ€å°å€¼ï¼Œæ£€æŸ¥å½“å‰å·®å€¼æ˜¯å¦å¯ä»¥åŒ¹é…æˆåŠŸ,æ¡ä»¶æ˜¯â€œæœ€å°å€¼+å·®å€¼&lt;=æœ€å¤§å€¼â€ // æ ¸å¿ƒï¼š åˆ¤æ–­æ‰€æœ‰æ•°æ˜¯å¦åœ¨[p, p+å·®å€¼]åŒºé—´å†… for (p = minv; p+mid &lt;= maxv; ++p)&#123; if (hungarian())&#123; // è¿™å¥ç±»ä¼¼äºŒåˆ†æœç´¢é‡Œçš„ifä¸€æ—¦æ‰¾åˆ°å“ªä¸ªåŒºé—´ï¼Œå°±ç›´æ¥åœ¨è¿™ä¸ªåŒºé—´é‡Œç»§ç»­äºŒåˆ†ï¼Œ flag = true; break; &#125; &#125; // å› ä¸ºæ˜¯ä»[min,min+mid]~[max-mid, max]çš„æœç´¢,åŒºé—´å¤§å°ä¸ºmid,å¦‚æœtrue,æ„æ€æ˜¯æœ€å¤§å·®å€¼midå°±åœ¨[l, mid]ä¹‹é—´ if (flag) ans = mid,r = mid-1; // å¦‚æœå…¨ä¸ç¬¦åˆ,é‚£ä¹ˆåŒºé—´å°äº†,midå¾—å¤§ç‚¹,æ‰€ä»¥midèŒƒå›´å˜ä¸º[mid, r] else l = mid+1; &#125; // äºŒåˆ†æœç´¢ä¸­å¦‚æœl==rï¼Œé‚£ä¹ˆæœç´¢æ•°xçš„ç´¢å¼•å°±æ˜¯æœ€åçš„mid cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125; æœ€ä½³åŒ¹é…â€”â€”KMç®—æ³• è§£å†³æœ‰æƒçš„å®Œç¾åŒ¹é…é—®é¢˜ï¼Œæˆä¸ºæœ€ä½³åŒ¹é…ï¼Œåˆç§°ä¸ºæœ‰æƒå®Œç¾åŒ¹é…ã€‚æœ€ä½³åŒ¹é…åŒæ—¶ä¹Ÿæ˜¯å®Œå¤‡åŒ¹é… KMç®—æ³•è¯¦è§£+æ¨¡æ¿â€”â€”å«å›¾è®²è§£","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"}]},{"title":"Hungarian algorithmåŒˆç‰™åˆ©ç®—æ³•","slug":"Hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•","date":"2019-12-05T05:08:11.000Z","updated":"2019-12-22T13:50:20.336Z","comments":true,"path":"2019/12/05/Hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•/","link":"","permalink":"https://nymrli.top/2019/12/05/Hungarian-algorithmåŒˆç‰™åˆ©ç®—æ³•/","excerpt":"","text":"Hungarian algorithmåŒˆç‰™åˆ©ç®—æ³• ä¸»è¦ç”¨æ¥è§£å†³ä¸å¸¦æƒçš„åˆ†é…é—®é¢˜ï¼ŒO(V*E) é¦–å…ˆï¼Œéœ€è¦æ˜ç™½äºŒåˆ†å›¾ï¼ˆåˆåäºŒéƒ¨å›¾ï¼‰çš„æ¦‚å¿µ äºŒåˆ†å›¾Bipartite Graph äºŒåˆ†å›¾æ˜¯å›¾è®ºä¸­ä¸€ç§ç‰¹æ®Šæ¨¡å‹ã€‚è®¾G=(V,E)æ˜¯ä¸€ä¸ªæ— å‘å›¾(å½“ä¸”ä»…å½“å›¾ä¸­ä¸å­˜åœ¨é•¿åº¦ä¸ºå¥‡æ•°çš„ç¯ã€‚)ï¼Œå¦‚æœé¡¶ç‚¹Vå¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†(A,B)ï¼Œå¹¶ä¸”å›¾ä¸­çš„æ¯æ¡è¾¹ï¼ˆiï¼Œjï¼‰æ‰€å…³è”çš„ä¸¤ä¸ªé¡¶ç‚¹iå’Œjåˆ†åˆ«å±äºè¿™ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹é›†(i in A,j in B)ï¼Œåˆ™ç§°å›¾Gä¸ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚ æ³¨æ„ï¼šå¦‚æœä¸€å›¾æ˜¯äºŒåˆ†å›¾ï¼Œé‚£ä¹ˆå®ƒä¸€å®šæ²¡æœ‰å¥‡ç¯ã€‚å¦‚æœä¸€å›¾æ²¡æœ‰å¥‡ç¯çš„è¯ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æ˜¯äºŒåˆ†å›¾ã€‚(æ²¡æœ‰å¥‡ç¯æ˜¯äºŒåˆ†å›¾çš„å¿…è¦æ¡ä»¶) â–²é€šå¸¸è¢«ç”¨æ¥è§£å†³åˆ†é…ã€åŒ¹é…é—®é¢˜ï¼Œå¦‚èµ„æºåˆ†é…ã€å·¥ä½œå®‰æ’ã€ä»»åŠ¡è°ƒåº¦â€¦â€¦ä»»åŠ¡çš„æ ¸å¿ƒæœ¬è´¨æ˜¯æ±‚é…å¯¹å…³ç³»ï¼Œæˆ–è€…ç»™é¡¶ç‚¹å’Œè¾¹èµ‹æƒï¼Œæ±‚æŸç§æ¡ä»¶ä¸‹çš„æœ€ä¼˜åˆ†é…é—®é¢˜ã€‚ â–³åŒ¹é…é—®é¢˜å¯ä»¥ç”¨ç½‘ç»œæµè§£å†³ï¼Œæˆ–è€…KMç®—æ³•ï¼ˆKMç®—æ³•æ˜¯ä¸€ç§è®¡ç®—æœºç®—æ³•ï¼ŒåŠŸèƒ½æ˜¯æ±‚å®Œå¤‡åŒ¹é…ä¸‹çš„æœ€å¤§æƒåŒ¹é…ï¼‰ï¼Œä½†æ˜¯å¢å¹¿è·¯ç®—æ³•æ›´åŠ ç®€æ´ã€‚ äºŒåˆ†å›¾çš„åˆ¤å®šï¼š æŸ“è‰²æ³•1ï¼šå‡è®¾DFSåˆå§‹ç‚¹Aæ¶‚é»‘è‰²ï¼Œä¸å®ƒç›¸é‚»çš„ç‚¹å°±æ¶‚ç™½è‰²ã€‚å¦‚æœæœåˆ°æŸä¸€ä¸ªç‚¹uçš„ç›¸é‚»ç‚¹vå·²ç»æ¶‚è‰²å¹¶ä¸”ä¸uåŒè‰²ï¼Œå°±ä¸å¯èƒ½æ˜¯äºŒåˆ†å›¾å•¦~ æŸ“è‰²æ³•2ï¼šå°±æ˜¯ç»™æ¯ä¸ªç‚¹è¿›è¡Œæ ‡å·ï¼Œæ ‡ä¸º-1ï¼Œ1å¦‚æœå­˜åœ¨ä¸€æ¡è¾¹è¿æ¥çš„ä¸¤ä¸ªç‚¹æ ‡å·ç›¸åŒï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ä¸€ä¸ªå¥‡æ•°ç¯â€¦ äºŒåˆ†å›¾çš„åŒ¹é… åŒ¹é…ï¼šå°†Eçš„å­é›†Mç§°ä½œä¸€ä¸ªåŒ¹é…(å­é›†Mä¸­çš„ä»»æ„ä¸¤æ¡è¾¹éƒ½æ²¡æœ‰å…¬å…±ç«¯ç‚¹) æœ€å¤§åŒ¹é…ï¼šè¾¹æ•°æœ€å¤šçš„åŒ¹é…ç§°ä½œæœ€å¤§åŒ¹é…â€”â€”maximal matching X(Y)å®Œå…¨åŒ¹é…ï¼šå¦‚æœXï¼ˆYï¼‰ä¸­çš„æ‰€æœ‰çš„é¡¶ç‚¹éƒ½å‡ºç°åœ¨åŒ¹é…Mä¸­ï¼Œåˆ™ç§°Mæ˜¯X(Y)å®Œå…¨åŒ¹é…â€”â€”perfect matching Må®Œå…¨åŒ¹é…ï¼šå¦‚æœMæ—¢æ˜¯X-å®Œå…¨åŒ¹é…ï¼Œåˆæ˜¯Y-å®Œå…¨åŒ¹é…ï¼Œç§°Mæ˜¯å®Œå…¨åŒ¹é…ã€‚æ­¤æ—¶âˆ£Xâˆ£=âˆ£Yâˆ£|X| = |Y|âˆ£Xâˆ£=âˆ£Yâˆ£ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªåŒ¹é…é‡Œçš„æ‰€æœ‰è¾¹åˆšå¥½ç»è¿‡æ‰€æœ‰ç‚¹ä¸€æ¬¡ã€‚ æœ€å¤§åŒ¹é…å’Œå®Œå…¨åŒ¹é…çš„åº”ç”¨ï¼š Qï¼šæ•™å¸ˆ-è¯¾ç¨‹å®‰æ’ï¼ŒG=&lt;U,E,V&gt;ï¼ŒUä¸ºæ•™å¸ˆé›†åˆï¼ŒVä¸ºè¯¾ç¨‹é›†åˆï¼ŒEä¸­çš„è¾¹&lt;u,v&gt;è¡¨ç¤ºæŸä½æ•™å¸ˆuå¯ä»¥ä¸Šè¯¾ç¨‹vã€‚éœ€è¦æ±‚æœ€å¤§åŒ¹é…ï¼Œä½¿å¾—æ¯é—¨è¯¾ç¨‹æœ‰äººæ•™ï¼Œæ¯äººéƒ½æœ‰è¯¾ä¸Šã€‚ A:åŒˆç‰™åˆ©ç®—æ³• åŒˆç‰™åˆ©ç®—æ³• æ‰§è¡Œè¿‡ç¨‹ â‘ ä»»æ„å–ä¸€ä¸ªåŒ¹é…Mï¼ˆå¯ä»¥æ˜¯ç©ºé›†æˆ–åªæœ‰ä¸€æ¡è¾¹ï¼‰ â‘¡ä»¤Sæ˜¯éé¥±å’Œç‚¹ï¼ˆå°šæœªåŒ¹é…çš„ç‚¹ï¼‰çš„é›†åˆè‡ªå¦‚æœS=0ï¼Œåˆ™Må·²ç»æ˜¯æœ€å¤§åŒ¹é… â‘£ä»Sä¸­å–å‡ºä¸€ä¸ªéé¥±å’Œç‚¹å±±ä½œä¸ºèµ·ç‚¹ï¼Œä»æ­¤èµ·ç‚¹èµ°äº¤é”™è·¯ï¼ˆäº¤æ›¿å±äºMå’ŒéMçš„è¾¹æ„æˆçš„æå¤§æ— é‡å¤ç‚¹é€šè·¯æˆ–å›è·¯ï¼‰P â‘¢å¦‚æœPæ˜¯ä¸€ä¸ªå¢å¹¿è·¯ï¼ˆPçš„ç»ˆç‚¹ä¹Ÿæ˜¯éé¥±å’Œç‚¹ï¼‰ï¼Œåˆ™ä»¤M=MeP=ï¼ˆM-Pï¼‰Uï¼ˆP-Mï¼‰ â‘¥å¦‚æœPéƒ½ä¸æ˜¯å¢å¹¿è·¯ï¼Œåˆ™ä»Sä¸­å»æ‰uoï¼Œè½¬åˆ°step3 â–².é¡¶ç‚¹æ•°ä¸åŒï¼Œå³âˆ£Xâˆ£â‰ âˆ£Yâˆ£|X| \\neq |Y|âˆ£Xâˆ£î€ â€‹=âˆ£Yâˆ£çš„äºŒåˆ†å›¾ä¸€å®šæ²¡æœ‰å®Œå…¨åŒ¹é… â–²æ­£åˆ™çš„âˆ£Xâˆ£â‰ âˆ£Yâˆ£|X| \\neq |Y|âˆ£Xâˆ£î€ â€‹=âˆ£Yâˆ£çš„äºŒåˆ†å›¾ä¸€å®šæœ‰å®Œå…¨åŒ¹é…(æ­£åˆ™:æ¯ä¸ªé¡¶ç‚¹çš„åº¦æ•°éƒ½ç›¸åŒ) æ ¸å¿ƒæ€æƒ³ï¼šä¸æ–­æŒª å¢—å¹¿è·¯å®šç†ï¼š ä»»æ„ä¸€ä¸ªéæœ€å¤§åŒ¹é…çš„åŒ¹é…ä¸€å®šå­˜åœ¨å¢å¹¿è·¯ã€‚ ä»ä¸€ä¸ªæœªåŒ¹é…ç‚¹ï¼ˆæœªç›–ç‚¹ï¼‰å‡ºå‘ï¼Œä¾æ¬¡ç»è¿‡éåŒ¹é…è¾¹ã€åŒ¹é…è¾¹ã€éåŒ¹é…è¾¹â€¦å½¢æˆçš„è·¯å¾„å«äº¤æ›¿è·¯ã€‚ ä¸¤ä¸ªç«¯ç‚¹éƒ½æ˜¯æœªç›–ç‚¹â†’å¢å¹¿è·¯ï¼ˆAugmenting Pathï¼ŒAPï¼‰ æ¯”å¦‚ï¼š8â†’4â†’7â†’1â†’5â†’2ï¼Œå›¾ä¸­çº¢è‰²æ˜¯åŒ¹é…è¾¹ã€‚ ç‰¹æ®Šçš„ï¼š3-6ä¹Ÿæ˜¯å¢å¹¿è·¯ã€‚ æŠŠAPä¸Šçš„åŒ¹é…è¾¹å’ŒéåŒ¹é…è¾¹äº’æ¢ï¼Œå¾—åˆ°çš„åŒ¹é…æ¯”åˆšæ‰å¤šä¸€æ¡è¾¹ã€‚ åŒ¹é…ç‚¹åªè¿ä¸€æ¡åŒ¹é…è¾¹ï¼ˆï¼Ÿï¼‰ï¼Œè¿™æ ·åšä¸ä¼šç ´ååŒ¹é…çš„æ€§è´¨ã€‚ å¢å¹¿è·¯å®šç†ï¼šå³ä¸€ä¸ªåŒ¹é…æ˜¯æœ€å¤§åŒ¹é…ç­‰ä»·äºä¸å­˜åœ¨å¢å¹¿è·¯ã€‚ åŒˆç‰™åˆ©ç®—æ³•çš„æ ¸å¿ƒåŸç†ï¼šå°±æ˜¯ä¸æ–­æ‰¾å¢—å¹¿è·¯ï¼ˆä¾æ®æ€§è´¨3ï¼‰ï¼Œç›´è‡³æ— æ³•æ‰¾åˆ°æ–°çš„å¢—å¹¿è·¯ï¼Œå³ä¸ºæœ€å¤§åŒ¹é…ã€‚â€”â€”ä½¿ç”¨é€’å½’ï¼ˆä¸€ç›´æ‰¾å¢å¹¿è·¯ï¼Œä¸æ–­äº¤æ¢åŒ¹é…ï¼‰ å¢å¹¿è·¯å¯ä»¥ç”¨æ¥æ”¹è¿›åŒ¹é…ï¼Œæœ€å¤§åŒ¹é…å¯ä»¥é€šè¿‡åå¤æ‰¾å¢å¹¿è·¯æ¥æ±‚è§£ã€‚ å·²ç»åŒ¹é…çš„ç‚¹æ°¸è¿œä¸ä¼šé€€å‡ºåŒ¹é…ï¼Œåªä¼šæ›´æ¢åŒ¹é… æ³¨ï¼šï¼ˆåŒ¹é…ç‚¹åˆå«åšç›–ç‚¹ï¼ŒéåŒ¹é…ç‚¹å«åšæœªç›–ç‚¹ï¼ˆæ‰€è°“â€œç›–â€æŒ‡çš„æ˜¯è¢«ä¸€æ¡è¾¹ç›–ä½ï¼‰ å®ç°çš„ç»†èŠ‚ï¼š æ¯æ¬¡é€‰ä¸€ä¸ªæœªç›–ç‚¹uè¿›è¡ŒDFSã€‚å¦‚æœæ‰¾ä¸åˆ°uå¼€å¤´çš„å¢å¹¿è·¯ï¼Œåˆ™æ¢ä¸€ä¸ªæœªç›–ç‚¹è¿›è¡ŒDFSï¼Œä¸”ä»¥åå†ä¹Ÿä¸ä»uå‡ºå‘æ‰¾å¢å¹¿è·¯ã€‚ 12345678910111213141516171819202122232425262728293031struct BPM&#123; //äºŒåˆ†å›¾æœ€å¤§åŸºæ•°åŒ¹é…ï¼Œé‚»æ¥çŸ©é˜µå†™æ³• int nï¼Œmï¼ŒG[maxn][maxn];//å·¦å³é¡¶ç‚¹ä¸ªæ•°ï¼ŒG[x][y]=1ï¼Œè¾¹x-y int left[maxn]; //1eft[i]ä¸ºå³è¾¹ç¬¬iä¸ªç‚¹çš„åŒ¹é…ç‚¹ç¼–å·ï¼Œ-1è¡¨ç¤ºä¸å­˜åœ¨ bool T[maxn]; //T[i]ä¸ºå³è¾¹ç¬¬iä¸ªç‚¹æ˜¯å¦å·²æ ‡è®° void init(int nï¼Œint m)&#123; this-&gt;n=nï¼Œthis-&gt;m=m;_zero(G);&#125; bool match(int u)&#123; // é€’å½’è¿›è¡ŒæŒª for(intv=e;v&lt;m;v++) if(G[u][v]&amp;&amp;ï¼T[v])&#123; T[v]=true; if(left[v]==-1 || match(left[v]))&#123; //left[v]ï¼=-1ï¼Œ1eft[v]-væ˜¯åŒ¹é…è¾¹ left[v]=u; return true; &#125; &#125; return false;&#125; int solveï¼ˆ)&#123; //æ±‚æœ€å¤§åŒ¹é… memset(leftï¼Œ-1ï¼Œsizeof(left)); int ans=0; for(int u=e;u&lt;n;u++)&#123;//ä»å·¦è¾¹ç»“ç‚¹uå¼€å§‹å¢å¹¿ _zero(T); if(match(u)) ans++;//uæ˜¯æœªç›–ç‚¹ &#125; return ans; &#125;&#125;; å…·ä½“å®ç°ä»£ç è§æ–‡ç« ï¼šã€ŠACM-äºŒåˆ†å›¾ã€‹ å…¶ä»–ç›¸å…³æ¦‚å¿µï¼š æœ€å°é¡¶ç‚¹è¦†ç›–ï¼š æ˜¯æŒ‡æœ€å°‘çš„é¡¶ç‚¹æ•°ä½¿å¾—äºŒåˆ†å›¾Gä¸­çš„æ¯æ¡è¾¹éƒ½è‡³å°‘ä¸å…¶ä¸­ä¸€ä¸ªç‚¹ç›¸è¿ &amp;äºŒåˆ†å›¾çš„æœ€å°é¡¶ç‚¹è¦†ç›–æ•°=äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•° DAGæœ€å°ä¸ç›¸äº¤è·¯å¾„è¦†ç›– ä¹Ÿç§°ä¸ºæœ€å°è¾¹è¦†ç›–ï¼Œæ˜¯æŒ‡ç”¨å°½é‡å°‘çš„é¡¶ç‚¹ä¸ç›¸äº¤ï¼ˆåªç»è¿‡ä¸€æ¬¡ï¼‰çš„ç®€å•è·¯å¾„è¦†ç›–äºŒåˆ†å›¾ä¸­çš„æ‰€æœ‰é¡¶ç‚¹ è·¯å¾„é•¿åº¦å¯ä»¥ä¸º0 &amp;äºŒåˆ†å›¾çš„æœ€å°è·¯å¾„è¦†ç›–æ•°=|V|-äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•° *æœ€å°å¯ç›¸äº¤è·¯å¾„è¦†ç›– æœ€å¤§ç‹¬ç«‹é›† æœ€å¤§ç‹¬ç«‹é›†æ˜¯æŒ‡å¯»æ‰¾ä¸€ä¸ªç‚¹é›†ï¼Œä½¿å¾—å…¶ä¸­ä»»æ„ä¸¤ç‚¹åœ¨å›¾ä¸­æ— å¯¹åº”è¾¹ã€‚ å¯¹äºä¸€èˆ¬å›¾æ¥è¯´ï¼Œæœ€å¤§ç‹¬ç«‹é›†æ˜¯ä¸€ä¸ªNPå®Œå…¨é—®é¢˜ï¼Œå¯¹äºäºŒåˆ†å›¾æ¥è¯´æœ€å¤§ç‹¬ç«‹é›† =|V| - äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•° KM(Kuhn-Munkres)ç®—æ³• å¸¦æƒäºŒåˆ†å›¾æœ€ä½³å®Œç¾åŒ¹é…ï¼ŒO(n^3)ï¼Œï¼ˆè¿ç”¨åŒˆç‰™åˆ©ç®—æ³•è¾…åŠ©æ±‚è§£ï¼‰ åªé€‚ç”¨äºå¸¦æƒæœ€å¤§åŒ¹é…ä¸€å®šæ˜¯å®Œå¤‡åŒ¹é…çš„æƒ…å†µï¼Œå®è·µä¸­å»ºè®®ç”¨è´¹ç”¨æµæ¥è§£å†³ã€‚ å®Œå…¨äºŒåˆ†å›¾ä¸€å®šæ˜¯å¶æ•°ä¸ªç‚¹ å¯è¡Œé¡¶æ ‡ï¼ˆFeasible Labelingï¼‰ï¼šç»“ç‚¹å‡½æ•°ï¼ˆxï¼‰ï¼Œä»»æ„è¾¹ï¼ˆxï¼Œyï¼‰ï¼š1ï¼ˆxï¼‰+lï¼ˆyï¼‰â‰¥wï¼ˆxiyï¼‰ã€‚ ç›¸ç­‰å­å›¾ï¼šGçš„ç”Ÿæˆå­å›¾ï¼ŒåŒ…å«æ‰€æœ‰ç‚¹ä»¥åŠæ»¡è¶³lï¼ˆxï¼‰+Iï¼ˆyï¼‰=wï¼ˆxï¼Œyï¼‰çš„è¾¹ï¼ˆxï¼Œyï¼‰ å¦‚æœELæœ‰å®Œç¾åŒ¹é…ä¸ºPMï¼Œåˆ™è¯¥Mæ˜¯åŸå›¾çš„æœ€å¤§æƒåŒ¹é…ï¼š PMçš„æƒå’Œç­‰äºæ‰€æœ‰ç‚¹çš„é¡¶æ ‡ä¹‹å’ŒSVã€‚ Gçš„ä»»ä¸€ä¸ªæœ€å¤§æƒåŒ¹é…Mï¼Œè¾¹æ»¡è¶³wï¼ˆxyï¼‰â‰¤lï¼ˆxï¼‰+ï¼ˆyï¼‰â†’Mè¾¹æƒå’Œâ‰¤SV=PMè¾¹æƒå’Œ å…³é”®å°±æ˜¯å¯»æ‰¾å¥½çš„å¯è¡Œé¡¶æ ‡ï¼Œä½¿ç›¸ç­‰å­å›¾æœ‰å®Œç¾åŒ¹é…ã€‚ ==&gt;æ‰¾åˆ°åŸå›¾çš„å®Œç¾åŒ¹é…â€“åªè¦â€“&gt;æ‰¾åˆ°ç›¸ç­‰å­å›¾çš„å®Œç¾åŒ¹é…å³å¯ â–²KMå®Œæˆä¹‹åæ‰€æœ‰çš„l(x)ä¹‹å’Œæœ€å° ä¸¾ä¸ªæ —å­: å°‘æ—å†³èƒœ(Golden Tiger Clawï¼ŒUVa11383) ç»™å®šä¸€ä¸ªN*NçŸ©é˜µï¼Œæ¯ä¸ªæ ¼å­é‡Œéƒ½æœ‰ä¸€ä¸ªæ­£æ•´æ•°w(i,j)ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç»™æ¯è¡Œç¡®å®šä¸€ä¸ªæ•´æ•°row(i)ï¼Œæ¯åˆ—ä¹Ÿç¡®å®šä¸€ä¸ªæ•´æ•°col(i)ï¼Œä½¿å¾—å¯¹äºä»»æ„æ ¼å­(i, j)ï¼Œw(i, j)â‰¤row(i)+colj)ã€‚æ‰€æœ‰row(i)å’Œcol(i)ä¹‹å’Œåº”å°½é‡å°ã€‚ ã€åˆ†æã€‘ 1.è¡Œçœ‹ä½œäºŒåˆ†å›¾Xç‚¹ï¼Œåˆ—çœ‹ä½œäºŒåˆ†å›¾Yç‚¹ã€‚ 2.å’Œæœ€ä½³åŒ¹é…æ²¡æœ‰ä»»ä½•å…³ç³»ï¼ŒKMç®—æ³•å‰¯äº§å“ã€‚ 3.KMä¸­ç®—æ³•ç­‰å¼lï¼ˆxï¼‰+lï¼ˆyï¼‰â‰¥wï¼ˆxï¼Œyï¼‰ã€‚è¡ŒXï¼Œåˆ—Yã€‚ 4.KMè¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰é¡¶æ ‡ä¸æ–­å‡å°ï¼Œç®—æ³•ç»“æŸåï¼Œæ‰€æœ‰é¡¶æ ‡ä¹‹å’Œæ˜¯æœ€å°çš„ã€‚ èš‚èšï¼ˆAntsï¼ŒNEERC2008ï¼ŒLA4043ï¼‰ ç»™å‡ºnä¸ªç™½ç‚¹å’Œnä¸ªé»‘ç‚¹çš„åæ ‡ï¼Œè¦æ±‚ç”¨næ¡ä¸ç›¸äº¤çš„çº¿æ®µæŠŠå®ƒä»¬è¿æ¥èµ·æ¥ï¼Œå…¶ä¸­æ¯æ¡çº¿æ®µæ°å¥½è¿æ¥ä¸€ä¸ªç™½ç‚¹å’Œä¸€ä¸ªé»‘ç‚¹ï¼Œæ¯ä¸ªç‚¹æ°å¥½è¿æ¥åˆ°ä¸€æ¡çº¿æ®µï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ ã€åˆ†æã€‘ ç‚¹æœ‰é»‘ç™½ä¸¤è‰²ï¼Œæ„é€ äºŒåˆ†å›¾ï¼Œç™½Xé»‘Yã€‚æ¯ä¸ªé»‘ç‚¹å’Œæ¯ä¸ªç™½ç‚¹ç›¸è¿ï¼Œæƒå€¼ç­‰äºæ¬§æ°è·ç¦»ã€‚ è¿æ¥æ–¹æ¡ˆå®é™…ä¸Šæ˜¯è®¡ç®—ä¸€ä¸ªå®Œç¾åŒ¹é…ï¼ŒåŒ¹é…ä¸­å‡è®¾al-b1ä¸a2-b2ç›¸äº¤ï¼Œé‚£ä¹ˆdist(a1ï¼Œb1)+dist(a2ï¼Œb2)&gt;dist(alï¼Œb2)+dist(a2ï¼Œb1)ï¼Œè¿™ä¸¤æ¡çº¿æ®µæ”¹æˆal-b2å’Œa2-b1åæ€»é•¿åº¦ä¼šå˜å°‘ã€‚ æ‰€ä»¥æœ€å°åŒ¹é…ä¸­ä¸ä¼šå‡ºç°çº¿æ®µç›¸äº¤ã€‚ å¥—KMç®—æ³•å³å¯è®¡ç®—æœ€å°å®Œç¾åŒ¹é…å³å¯ã€‚ å‚è€ƒèµ„æ–™ï¼š ç¦»æ•£æ•°å­¦ï¼šå›¾è®ºï¼šäºŒåˆ†å›¾çš„åŒ¹é…â€”â€”é™ˆæ–Œ åŒ—äº¬å¤§å­¦åœ°çƒä¸ç©ºé—´ç§‘å­¦å­¦é™¢ äºŒåˆ†åŒ¹é…â€”â€”åŒˆç‰™åˆ©ç®—æ³•å’ŒKMç®—æ³•â€”â€”é‡Œé¢æ¨èçš„æ–‡ç« æ›´å€¼å¾—ä¸€çœ‹ å¸¦ä½ å…¥é—¨å¤šç›®æ ‡è·Ÿè¸ªï¼ˆä¸‰ï¼‰åŒˆç‰™åˆ©ç®—æ³•&amp;KMç®—æ³•â€”â€”ä»¥å›¾åƒç›®æ ‡è·Ÿè¸ªè·ç¦» äºŒåˆ†å›¾åŒ¹é…é—®é¢˜ä¸åŒˆç‰™åˆ©ç®—æ³•â€”â€”é‡Œé¢åŒ…å«æ¦‚å¿µæŒºå…¨çš„ äºŒåˆ†å›¾å¤§åˆé›†â€”â€”äºŒåˆ†å›¾æœ€å¤§åŒ¹é…ï¼ˆæœ€å°è¦†ç›–æ•°ï¼‰ï¼Œå®Œç¾åŒ¹é…ä»¥åŠæœ€ä¼˜åŒ¹é…ï¼ˆå¸¦æƒæœ€å¤§åŒ¹é…ï¼‰â€”â€”å¯¹æ¦‚å¿µçš„ä»‹ç»æ¯”ä¸Šä¸ªæ›´å‡†ç¡®ç‚¹ï¼Œæ¨è äºŒåˆ†å›¾æœ€å¤§åŒ¹é…ä»¥åŠå¸¸è§æ¨¡å‹â€”â€”ACMè§’åº¦ ä»»åŠ¡åˆ†é…é—®é¢˜â€”åŒˆç‰™åˆ©ç®—æ³•â€”â€”å«Gungaryç®—æ³•æ‰§è¡Œè¿‡ç¨‹ä¼ªä»£ç ","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"}]},{"title":"PILçš„Imageç¬”è®°","slug":"PILçš„Imageç¬”è®°","date":"2019-11-26T10:06:58.000Z","updated":"2019-11-26T10:07:16.139Z","comments":true,"path":"2019/11/26/PILçš„Imageç¬”è®°/","link":"","permalink":"https://nymrli.top/2019/11/26/PILçš„Imageç¬”è®°/","excerpt":"","text":"PILçš„Imageå­¦ä¹  transposeå’Œrotate transpose 1234from PIL import Imageimg = getCaptcha()# å¯¹ç§°åè½¬img.transpose(Image.FLIP_LEFT_RIGHT) rotate 123456from PIL import Imageimg = getCaptcha()# expandé»˜è®¤ä¸ºFalseæ—¶,è¶…å‡ºåŸæœ‰å°ºå¯¸çš„éƒ¨åˆ†å°†ç”¨é»‘è‰²å¡«å……,ä¸ä¼šæ‹“å±•å°ºå¯¸img = img.rotate(45)# expandä¸ºTrueæ—¶,ä¼šæ ¹æ®å›¾ç‰‡å¤§å°,æ‹“å±•å°ºå¯¸img = img.rotate(45,expand=True) Pillowå®˜ç½‘ä»‹ç» ã€å›¾åƒå¤„ç†ã€‘Python-Image åŸºæœ¬çš„å›¾åƒå¤„ç† convertå‡½æ•° å‚æ•°ä¸ºmode(å›¾åƒæ¨¡å¼)ã€‚è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å®šå›¾åƒä½¿ç”¨çš„åƒç´ æ ¼å¼ã€‚å…¸å‹å€¼ä¸ºâ€œ1â€ï¼Œâ€œLâ€ï¼Œâ€œRGBâ€æˆ–â€œCMYKâ€ã€‚ 1img = img.convert(\"1\") 1 (1-bit pixels, black and white, stored with one pixel per byte) L (8-bit pixels, black and white) P (8-bit pixels, mapped to any other mode using a color palette) RGB (3x8-bit pixels, true color) RGBA (4x8-bit pixels, true color with transparency mask) CMYK (4x8-bit pixels, color separation) YCbCr (3x8-bit pixels, color video format) LAB (3x8-bit pixels, the Lab color space) HSV (3x8-bit pixels, Hue, Saturation, Value color space) I (32-bit signed integer pixels) F (32-bit floating point pixels) PIL imageä¸np.arrayäº’è½¬ 1. PIL imageè½¬æ¢æˆarray img = np.asarray(image)æˆ–img=np.array(image) éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå‡ºç°read-onlyé”™è¯¯ï¼Œå¹¶ä¸æ˜¯è½¬æ¢çš„é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯ä½ è¯»å–çš„å›¾ç‰‡çš„æ—¶å€™ï¼Œé»˜è®¤é€‰æ‹©çš„æ˜¯&quot;r&quot;,&quot;rb&quot;æ¨¡å¼æœ‰å…³ã€‚ ä¿®æ­£çš„åŠæ³•: æ‰‹åŠ¨ä¿®æ”¹å›¾ç‰‡çš„è¯»å–çŠ¶æ€ img.flags.writeable = True # å°†æ•°ç»„æ”¹ä¸ºè¯»å†™æ¨¡å¼ 2. arrayè½¬æ¢æˆimage æ–¹æ³•1 12from PIL import ImageImage.fromarray(np.uint8(img)) æ–¹æ³•2 1234import cv2cv2.imwrite(\"output.png\", out)# outå¯ä»¥æ˜¯uint16ç±»å‹æ•°æ®# 16ä½æ·±åº¦å›¾åƒè½¬8ä½ç°åº¦ æ–¹æ³•3 matlab 123img=imread('output.png')img1=im2uint8(img)imwrite(img1,'result.jpg') Numpyå°†äºŒç»´æ•°ç»„æ·»åŠ åˆ°ç©ºæ•°ç»„ 12345678910111213a=np.empty(shape=[0,3], dtype=np.int32)b = np.array([[1,2,3],[4,5,6]])c=[[7,8,9]] print(a.shape)print(b.shape) a = np.append(a, b, axis=0)a = np.append(a, c, axis=0)# å½“axisä¸º0æ—¶ï¼Œæ•°ç»„æ˜¯åŠ åœ¨ä¸‹é¢ï¼ˆåˆ—æ•°è¦ç›¸åŒï¼‰ï¼š# å½“axisä¸º1æ—¶ï¼Œæ•°ç»„æ˜¯åŠ åœ¨å³è¾¹ï¼ˆè¡Œæ•°è¦ç›¸åŒï¼‰ï¼šprint(a.shape)print(b.shape) reshapeå‡½æ•°æ˜¯numpyä¸­ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„å‡½æ•°ï¼Œä½œç”¨æ˜¯åœ¨ä¸æ”¹å˜çŸ©é˜µçš„æ•°å€¼çš„å‰æä¸‹ä¿®æ”¹çŸ©é˜µçš„å½¢çŠ¶ã€‚ 1.ç®€å•ä½¿ç”¨ 1234y = np.reshape([[1,2],[3,4]],(1,4))'''array([[1, 2, 3, 4]])''' 2.ä½¿ç”¨ç¼ºçœå€¼-1 ç¼ºçœå€¼-1ä»£è¡¨æˆ‘ä¸çŸ¥é“è¦ç»™è¡Œï¼ˆæˆ–è€…åˆ—ï¼‰è®¾ç½®ä¸ºå‡ ï¼Œreshapeå‡½æ•°ä¼šæ ¹æ®åŸçŸ©é˜µçš„å½¢çŠ¶è‡ªåŠ¨è°ƒæ•´ã€‚ 1234567y = np.reshape([[1,2],[3,4]],(4,-1))'''array([[1], [2], [3], [4]])''' 1234567891011121314151617181920212223242526272829import PIL.Image as Imageimport os IMAGES_PATH = 'E:\\picture\\æ–°å£ç»“è¡£\\\\' # å›¾ç‰‡é›†åœ°å€IMAGES_FORMAT = ['.jpg', '.JPG'] # å›¾ç‰‡æ ¼å¼IMAGE_SIZE = 256 # æ¯å¼ å°å›¾ç‰‡çš„å¤§å°IMAGE_ROW = 4 # å›¾ç‰‡é—´éš”ï¼Œä¹Ÿå°±æ˜¯åˆå¹¶æˆä¸€å¼ å›¾åï¼Œä¸€å…±æœ‰å‡ è¡ŒIMAGE_COLUMN = 4 # å›¾ç‰‡é—´éš”ï¼Œä¹Ÿå°±æ˜¯åˆå¹¶æˆä¸€å¼ å›¾åï¼Œä¸€å…±æœ‰å‡ åˆ—IMAGE_SAVE_PATH = 'E:\\\\picture\\\\æ–°å£ç»“è¡£\\\\final.jpg' # å›¾ç‰‡è½¬æ¢åçš„åœ°å€ # è·å–å›¾ç‰‡é›†åœ°å€ä¸‹çš„æ‰€æœ‰å›¾ç‰‡åç§°image_names = [name for name in os.listdir(IMAGES_PATH) for item in IMAGES_FORMAT if os.path.splitext(name)[1] == item] # ç®€å•çš„å¯¹äºå‚æ•°çš„è®¾å®šå’Œå®é™…å›¾ç‰‡é›†çš„å¤§å°è¿›è¡Œæ•°é‡åˆ¤æ–­if len(image_names) != IMAGE_ROW * IMAGE_COLUMN: raise ValueError(\"åˆæˆå›¾ç‰‡çš„å‚æ•°å’Œè¦æ±‚çš„æ•°é‡ä¸èƒ½åŒ¹é…ï¼\") # å®šä¹‰å›¾åƒæ‹¼æ¥å‡½æ•°def image_compose(): to_image = Image.new('RGB', (IMAGE_COLUMN * IMAGE_SIZE, IMAGE_ROW * IMAGE_SIZE)) #åˆ›å»ºä¸€ä¸ªæ–°å›¾ # å¾ªç¯éå†ï¼ŒæŠŠæ¯å¼ å›¾ç‰‡æŒ‰é¡ºåºç²˜è´´åˆ°å¯¹åº”ä½ç½®ä¸Š for y in range(1, IMAGE_ROW + 1): for x in range(1, IMAGE_COLUMN + 1): from_image = Image.open(IMAGES_PATH + image_names[IMAGE_COLUMN * (y - 1) + x - 1]).resize( (IMAGE_SIZE, IMAGE_SIZE),Image.ANTIALIAS) to_image.paste(from_image, ((x - 1) * IMAGE_SIZE, (y - 1) * IMAGE_SIZE)) return to_image.save(IMAGE_SAVE_PATH) # ä¿å­˜æ–°å›¾image_compose() #è°ƒç”¨å‡½æ•°","categories":[],"tags":[{"name":"ç¼–ç¨‹ç¬”è®°","slug":"ç¼–ç¨‹ç¬”è®°","permalink":"https://nymrli.top/tags/ç¼–ç¨‹ç¬”è®°/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"ç§‘å­¦è®¡ç®—","slug":"ç§‘å­¦è®¡ç®—","permalink":"https://nymrli.top/tags/ç§‘å­¦è®¡ç®—/"}]},{"title":"2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°","slug":"2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°","date":"2019-11-26T07:50:55.000Z","updated":"2019-11-26T07:51:12.893Z","comments":true,"path":"2019/11/26/2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°/","link":"","permalink":"https://nymrli.top/2019/11/26/2019å¹´8æœˆ23å·è¿ç»´ç¬”è®°/","excerpt":"","text":"2019å¹´8æœˆ23å·è¿ç»´ç¬”è®° docker docker stop containerIDï¼Œä»¥åå†é‡æ–°å¯åŠ¨æ—¶æŠ¥é”™ 1Error response from daemon: driver failed programming external connectivity on endpoint app (3c0c01ac6b42b7a420644fc2b4debfbbcc0e1d2e74e6294155c28aca82f794c4): (iptables failed: iptables --wait -t nat -A DOCKER -p tcp -d 0/0 --dport 12345 -j DNAT --to-destination 172.17.0.2:80 ! -i docker0: iptables: No chain/target/match by that name. A: é‡å¯dockerå³å¯ï¼šsystemctl restart docker å†å¼€å¯ä½ çš„å®¹å™¨ï¼š docker run xxxxæˆ–docker start xxx æŸ¥çœ‹dockerå®¹å™¨çš„è¿è¡Œæ—¥å¿— docker logs containerID dockerç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºåå¤–ç½‘ä»æ— æ³•è®¿é—®å®¹å™¨çš„web Aï¼š 1234567891011121314# è§£å†³åŠæ³•ï¼š$ sudo vi /etc/sysctl.confæˆ–è€…$ sudo vi /usr/lib/sysctl.d/00-system.conf# æ·»åŠ å¦‚ä¸‹ä»£ç ï¼šnet.ipv4.ip_forward=1é‡å¯networkæœåŠ¡$ sudo systemctl restart networkæŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸ$ sudo sysctl net.ipv4.ip_forward#å¦‚æœè¿”å›ä¸ºâ€œnet.ipv4.ip_forward = 1â€åˆ™è¡¨ç¤ºæˆåŠŸäº† nginx æŸ¥çœ‹nginxå®‰è£…è·¯å¾„ ps -ef | grep nginx æŸ¥çœ‹nginxæ—¥å¿— systemctl status nginx.service journalctl -xe æŒ‡å®šè¿è¡Œé…ç½®æ–‡ä»¶ ç›´æ¥è¿è¡Œnginxå¯æ‰§è¡Œæ–‡ä»¶å³å¯å¯åŠ¨ï¼Œnginxä¼šè‡ªåŠ¨è¯»å–é…ç½®æ–‡ä»¶ç›®å½•ä¸‹çš„â€œnginx.confâ€é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨åé¢æ¥â€œ-câ€å‚æ•°æ¥æŒ‡å®šé…ç½®æ–‡ä»¶ï¼š /usr/sbin/nginx -c /etc/nginx/sites-enabled/nginx.conf æ ¡éªŒé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡® ç”±äºnginxçš„é…ç½®æ–‡ä»¶æ¯”è¾ƒå¤æ‚å®¹æ˜“å‡ºé”™ï¼Œä¿®æ”¹é…ç½®åå¯ä»¥ç”¨â€œ-tâ€å‚æ•°æ¥æ ¡éªŒé…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ï¼š 12nginx -t # æ ¡éªŒé»˜è®¤çš„é…ç½®æ–‡ä»¶nginx -t -c /path/to/configfile # æ ¡éªŒæŒ‡å®šé…ç½®æ–‡ä»¶ äº†è§£æ—¥å¿—ç®¡ç† æˆ‘ä»¬æŸ¥çœ‹nginxå®‰è£…ç›®å½•ä¸‹ï¼ˆ/var/log/nginxï¼‰æœ‰ä¸ªlogsï¼ŒåŒ…å«äº†ä¸‰ä¸ªæ–‡ä»¶ â€œaccess.log ã€error.logã€nginx.pidâ€ã€‚ å½“ç„¶ï¼Œæ—¥å¿—é…ç½®è‚¯å®šä¹Ÿæ˜¯é€šè¿‡nginx.confé…ç½®æ–‡ä»¶æ¥è¿›è¡Œé…ç½®çš„ ï¼Œé‚£æˆ‘å…ˆæ¥çœ‹é…ç½®æ–‡ä»¶æ˜¯æ€ä¹ˆå†™çš„ã€‚ access_log logs/access.log mainè¿™ä¸ªæ˜¯æŒ‡access.logæ—¥å¿—ç”¨mainæ ¼å¼æ¥æ˜¾ç¤ºã€‚ error_log logs/error.log error mainæ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿmianæ ¼å¼æ˜¯æˆ‘ä»¬å·²ç»å®šä¹‰å¥½äº†çš„ä¸€ç§å„ç§ï¼Œå¹¶å–ä¸ªåå­—ä¾¿äºå¼•ç”¨ã€‚ é»˜è®¤çš„mainæ ¼å¼ä¸­å…·ä½“ç”¨äº†å“ªäº›é€‰é¡¹æ¥è®°å½•æ—¥å¿—å‘¢ï¼Ÿ 12345678910111213141516$remote_addr, $http_x_forwarded_for è®°å½•å®¢æˆ·ç«¯IPåœ°å€$remote_user è®°å½•å®¢æˆ·ç«¯ç”¨æˆ·åç§°$request è®°å½•è¯·æ±‚çš„URLå’ŒHTTPåè®®$status è®°å½•è¯·æ±‚çŠ¶æ€$body_bytes_sent å‘é€ç»™å®¢æˆ·ç«¯çš„å­—èŠ‚æ•°ï¼Œä¸åŒ…æ‹¬å“åº”å¤´çš„å¤§å°ï¼› è¯¥å˜é‡ä¸Apacheæ¨¡å—mod_log_configé‡Œçš„â€œ%Bâ€å‚æ•°å…¼å®¹ã€‚$bytes_sent å‘é€ç»™å®¢æˆ·ç«¯çš„æ€»å­—èŠ‚æ•°ã€‚$connection è¿æ¥çš„åºåˆ—å·ã€‚$connection_requests å½“å‰é€šè¿‡ä¸€ä¸ªè¿æ¥è·å¾—çš„è¯·æ±‚æ•°é‡ã€‚$msec æ—¥å¿—å†™å…¥æ—¶é—´ã€‚å•ä½ä¸ºç§’ï¼Œç²¾åº¦æ˜¯æ¯«ç§’ã€‚$pipe å¦‚æœè¯·æ±‚æ˜¯é€šè¿‡HTTPæµæ°´çº¿(pipelined)å‘é€ï¼Œpipeå€¼ä¸ºâ€œpâ€ï¼Œå¦åˆ™ä¸ºâ€œ.â€ã€‚$http_referer è®°å½•ä»å“ªä¸ªé¡µé¢é“¾æ¥è®¿é—®è¿‡æ¥çš„$http_user_agent è®°å½•å®¢æˆ·ç«¯æµè§ˆå™¨ç›¸å…³ä¿¡æ¯$request_length è¯·æ±‚çš„é•¿åº¦ï¼ˆåŒ…æ‹¬è¯·æ±‚è¡Œï¼Œè¯·æ±‚å¤´å’Œè¯·æ±‚æ­£æ–‡ï¼‰ã€‚$request_time è¯·æ±‚å¤„ç†æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œç²¾åº¦æ¯«ç§’ï¼› ä»è¯»å…¥å®¢æˆ·ç«¯çš„ç¬¬ä¸€ä¸ªå­—èŠ‚å¼€å§‹ï¼Œç›´åˆ°æŠŠæœ€åä¸€ä¸ªå­—ç¬¦å‘é€ç»™å®¢æˆ·ç«¯åè¿›è¡Œæ—¥å¿—å†™å…¥ä¸ºæ­¢ã€‚$time_iso8601 ISO8601æ ‡å‡†æ ¼å¼ä¸‹çš„æœ¬åœ°æ—¶é—´ã€‚$time_local é€šç”¨æ—¥å¿—æ ¼å¼ä¸‹çš„æœ¬åœ°æ—¶é—´ã€‚ nginx.conf 123456789101112131415161718192021222324252627282930313233343536373839404142434445//è¯¥æ–‡ä»¶æ˜¯å­˜æ”¾åˆ°nginxå®‰è£…ç›®å½•ä¸‹confæ–‡ä»¶å¤¹ä¸­ //å…¨å±€åŒº //ä»£è¡¨ç€å½“å‰æœ‰ä¸€ä¸ªå·¥ä½œçš„å­è¿›ç¨‹ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼Œä½†æ˜¯å¤ªå¤šäº†æ— ç›Šå› ä¸ºä¼šäº‰å¤ºcpuèµ„æºã€‚ä¸€èˆ¬æœ€å¤šè®¾ç½®æˆcpuæ•°*æ ¸æ•°worker_processes 1; //ä¸€èˆ¬é…ç½®nginxçš„è¿æ¥ç‰¹æ€§events &#123; //è¿™é‡Œæ˜¯æŒ‡ä¸€ä¸ªå­è¿›ç¨‹æœ€å¤§å…è®¸è¿æ¥1024ä¸ªè¿æ¥ worker_connections 1024;&#125; //è¿™é‡Œæ˜¯é…ç½®httpæœåŠ¡å™¨çš„ä¸»è¦æ®µhttp &#123; include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; //è¿™é‡Œé…ç½®çš„æ˜¯æ—¥å¿—çš„æ˜¾ç¤ºæ ¼å¼ #log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; # &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; # &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; //è¿™é‡Œè°ƒç”¨æŒ‡å®šæ—¥å¿—æ˜¾ç¤ºçš„æ ¼å¼ #access_log logs/access.log main; //è¿™é‡Œæ˜¯é…ç½®è™šæ‹Ÿä¸»æœºæ®µ server &#123; listen 80;//ç›‘å¬çš„ç«¯å£ server_name localhost;//ç›‘å¬è®¿é—®åœ°å€ #charset koi8-r; #access_log logs/host.access.log main; //å®šä½ï¼ŒæŠŠç‰¹æ®Šçš„æ–‡ä»¶æˆ–è€…è·¯å¾„å†æ¬¡å®šä½ location / &#123; root html;//å®šä½çš„ç›®å½•ï¼Œé»˜è®¤æ˜¯ngxinå®‰è£…ç›®å½•ä¸‹çš„htmlæ–‡ä»¶å¤¹ä¸­ index index.html index.htm;//å®šä½çš„å…·ä½“æ–‡ä»¶ &#125; nginxæ—¥å¿—åˆ†æ åˆ†ææˆªæ­¢ç›®å‰ä¸ºæ­¢è®¿é—®é‡æœ€é«˜çš„IPæ’20åã€‚ awk'{print $1}' /usr/local/nginx/logs/access.log |sort | uniq-c I|sort -nr åˆ†æä»æ—©ä¸Š9ç‚¹è‡³ä¸­åˆ12ç‚¹æ€»çš„è®¿é—®é‡ã€‚ sed-n&quot;/2016:09:00/,/2016:12:00/&quot; paccess_20161121.log åˆ†æä¸Šä¸€ç§’çš„è®¿é—®è¯·æ±‚æ•°ã€‚ sed -n&quot;/2016ï¼š09ï¼š00ï¼š00/&quot; paccess_20161121.log httpsç­¾åï¼šhttps://www.jianshu.com/p/0d455c7a9326 Qï¼šnginxå’ŒuwsgiåŒºåˆ« nginxçš„ä½œç”¨ï¼š 1.åå‘ä»£ç†ï¼Œå¯ä»¥æ‹¦æˆªä¸€äº›webæ”»å‡»ï¼Œä¿æŠ¤åç«¯çš„webæœåŠ¡å™¨ 2.è´Ÿè½½å‡è¡¡ï¼Œæ ¹æ®è½®è¯¢ç®—æ³•ï¼Œåˆ†é…è¯·æ±‚åˆ°å¤šèŠ‚ç‚¹webæœåŠ¡å™¨ 3.ç¼“å­˜é™æ€èµ„æºï¼ŒåŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œé‡Šæ”¾webæœåŠ¡å™¨çš„å†…å­˜å ç”¨ï¼Œä¸“é¡¹ä¸“ç”¨ uWSGIçš„é€‚ç”¨ï¼š 1.å•èŠ‚ç‚¹æœåŠ¡å™¨çš„ç®€æ˜“éƒ¨ç½² 2.è½»é‡çº§ï¼Œå¥½éƒ¨ç½² Qï¼šå·²çŸ¥ä¸€ä¸ªä½¿ç”¨nginxé…ç½®çš„webæœåŠ¡å™¨çš„åŸŸåä¸ºwww.my.comç›‘å¬80ç«¯å£,å‡è®¾åœ¨æœåŠ¡å™¨çš„/var/www/htmlè¿™ä¸ªç›®å½•ä¸‹é¢æœ‰é™æ€æ–‡ä»¶index.html,é‚£ä¹ˆåœ¨é…ç½®æ–‡ä»¶å…¶å®ƒéƒ¨åˆ†ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œåˆ†åˆ«ä½¿ç”¨ä¸‹é¢ä¸¤ç§é…ç½®ï¼š 12345678Location /abc &#123; root /var/www/html; index index.html; &#125;location/abc &#123; alias /var/ww/html/; index index.html;&#125; è®¿é—®http://www.my.com/abcåˆ†åˆ«ä¼šæœ‰ä»€ä¹ˆç»“æœï¼Ÿ Aï¼š root çš„ä¸º/var/www/html/abc/index.html aliasçš„ä¸º/var/www/html/index.html Qï¼šæ‰€ä»¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®çš„è¯è¿™ä¸¤ç§é…ç½®ä¼šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ Aï¼šrootçš„ä¸º404ï¼Œaliasçš„ä¸º200. æ³¨ï¼šå¦‚æœé€šè¿‡ä¸¤ä¸ªè·¯å¾„éƒ½èƒ½è®¿é—®åˆ°çš„è¯ï¼Œé‚£æ— è®ºå“ªä¸ªé…ç½®éƒ½æ˜¯200","categories":[],"tags":[{"name":"ç¼–ç¨‹ç¬”è®°","slug":"ç¼–ç¨‹ç¬”è®°","permalink":"https://nymrli.top/tags/ç¼–ç¨‹ç¬”è®°/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://nymrli.top/tags/è¿ç»´/"}]},{"title":"appæµ‹è¯•","slug":"appæµ‹è¯•","date":"2019-11-26T07:49:58.000Z","updated":"2019-11-26T07:50:10.506Z","comments":true,"path":"2019/11/26/appæµ‹è¯•/","link":"","permalink":"https://nymrli.top/2019/11/26/appæµ‹è¯•/","excerpt":"","text":"appæµ‹è¯• å‘½ä»¤ adb shell monkey 500éšæœºæ‰§è¡Œ500æ¬¡ adb shell pm list packages -3 æŸ¥çœ‹ç¬¬ä¸‰æ–¹åŒ… adb shell monkey -p tv.danmaku.biliæŒ‡å®šåœ¨æŸä¸ªè½¯ä»¶ä¸­éšæœºå‹åŠ›æµ‹è¯• adb shell monkey -p tv.danmaku.bili -p com.umaman.laiyifen 500ä¼šå…ˆæ‰§è¡Œæ¥ä¼Šä»½ â–².åœ¨æµ‹è¯•åº”ç”¨ç¨‹åºæŸäº›é€‰é¡¹çš„åŒæ—¶ï¼Œä¹Ÿä¼šè¿›è¡Œç³»ç»Ÿçº§åŠŸèƒ½çš„æµ‹è¯•ï¼Œå¦‚æˆªå›¾ã€è°ƒéŸ³é‡ç­‰ adb shell monkey [-options] times å‚æ•°è¯´æ˜ 1234567-s seedç§å­å€¼ï¼šç§å­ç›¸åŒæ—¶ï¼Œå°±èƒ½äº§ç”Ÿä¸€æ ·çš„ä¼ªéšæœºæ“ä½œåºåˆ—-p packageæŒ‡å®šåŒ…åï¼šå‹åŠ›æµ‹è¯•æ‰§è¡Œåœ¨æŸä¸ªè½¯ä»¶å†…--pct-touch percentageï¼šæŒ‡å®šè§¦æ‘¸çš„æ¯”ä¾‹--throttle MILLSEC ï¼šè®¾ç½®æ¯ä¸ªæ“ä½œä¹‹é—´çš„é—´éš”ä¸ºxxæ¯«ç§’-v [-v [-v]]ï¼šè¾“å‡ºæ—¥å¿—ï¼Œvè¶Šå¤šè¶Šè¯¦ç»†--ignore-crashes ï¼šä¸ç®¡ç¨‹åºæœ‰æ— å´©æºƒï¼Œéƒ½æ‰§è¡Œå®Œæ‰€æœ‰æ“ä½œ å„äº‹ä»¶æ¯”ä¾‹ï¼ˆEvent percentages:ï¼‰ 0: 50.0% -pct-touch è§¦æ‘¸æ“ä½œ 1: 5.8823533% -pct-motion ç§»åŠ¨æ“ä½œ 2: 1.1764706% -pct-pinchzoom ç¼©æ”¾æ“ä½œ 3: 8.82353% -pct-traceball æ»šåŠ¨æ“ä½œ å¼‚å¸¸ event injectedæ•°é‡ä¸å¯¹ crashé—ªé€€ ANRæ²¡æœ‰å“åº” å‡ºç°å¼‚å¸¸åï¼Œéœ€è¦æä¾›ç»™å¼€å‘çš„ä¸œè¥¿ l.è¢«æµ‹æ‰‹æœºè¯¦ç»†ä¿¡æ¯ 2.monkeyæµ‹è¯•æ—¥å¿— 3.æ‰‹æœºè¿è¡Œæˆªå›¾ 4.monkeyè¿è¡Œå°„æ‰‹æœºæ—¥å¿— æµ‹è¯•ç”¨ä¾‹ æµ‹è¯•ç”¨ä¾‹è®¾è®¡ä¸‰éƒ¨æ›² è¦æµ‹è¯•ä»€ä¹ˆ -ä¸šåŠ¡ æ€ä¹ˆçº æ ·æµ‹è¯• -æµ‹è¯•ç¯å¢ƒæ­å»º å¦‚ä½•åˆ¤æ–°æ­£ç¡®ä¸å¦ -éœ€æ±‚ æµ‹è¯•è®¡åˆ’ ä¸åŒçš„ç¯å¢ƒä¸‹ï¼ˆå…¼å®¹æ€§ï¼‰ æ­£å¸¸å®‰è£… ç©ºé—´ä¸è¶³-&gt;éªŒè¯æ¾å‹¤å®‰å“APPåœ¨HWXç©ºé—´ä¸è¶³çš„æ¡ä»¶ä¸‹çš„å®‰è£…è¡Œä¸º âˆšæ­£å¸¸è¡Œä¸ºï¼šæç¤ºç©ºé—´ä¸å¤Ÿ xæ­»æœº æç¤ºé”™è¯¯ä»£ç ï¼Œemor code201 å®‰è£…è¿‡ç¨‹æ²¡ç”µ-é‡æ–°å®‰è£… æ–­ç½‘-ç½‘ç»œFiddler å¸¸ç”¨åŠŸèƒ½æµ‹è¯•ç‚¹ å¸¸ç”¨çš„åŠŸèƒ½æµ‹è¯•æ–¹æ³•æœ‰â€œç•Œé¢æµ‹è¯•æ–¹æ³•â€å’Œâ€œé»‘ç›’æµ‹è¯•æŠ€æœ¯â€ï¼Œå…·ä½“å¯å‚è§æµ‹è¯•ç»„é…ç½®åº“ä¸­çš„ç›¸åº”æ–‡æ¡£ã€‚ä¸‹é¢åˆ—ä¸¾äº†ä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½æµ‹è¯•ç‚¹ï¼š 1.é¡µé¢é“¾æ¥æ£€æŸ¥æ¯ä¸€ä¸ªé“¾æ¥æ˜¯å¦éƒ½æœ‰å¯¹åº”çš„é¡µé¢ï¼Œå¹¶ä¸”é¡µé¢ä¹‹é—´åˆ‡æ¢æ­£ç¡®ã€‚ 2.ç›¸å…³æ€§æ£€æŸ¥ï¼šåˆ é™¤/å¢åŠ ä¸€é¡¹ä¼šä¸ä¼šå¯¹å…¶ä»–é¡¹äº§ç”Ÿå½±å“ï¼Œå¦‚æœäº§ç”Ÿå½±å“ï¼Œè¿™äº›å½±å“æ˜¯å¦éƒ½æ­£ç¡®ã€‚ 3.æ£€æŸ¥æŒ‰é’®çš„åŠŸèƒ½æ˜¯å¦æ­£ç¡®ï¼šå¦‚æ–°å¢ã€ä¿®æ”¹ã€å–æ¶ˆã€åˆ é™¤ã€ä¿å­˜ç­‰åŠŸèƒ½æ˜¯å¦æ­£ç¡®ã€‚ 4.å­—ç¬¦ä¸²é•¿åº¦æ£€æŸ¥ï¼šè¾“å…¥è¶…å‡ºéœ€æ±‚è§„å®šçš„å­—ç¬¦ä¸²é•¿åº¦çš„å†…å®¹ï¼Œçœ‹ç³»ç»Ÿæ˜¯å¦æ£€æŸ¥å­—ç¬¦ä¸²é•¿åº¦ï¼Œä¼šä¸ä¼šæœ‰æç¤ºçª—å£ã€‚ 5.å­—ç¬¦ç±»å‹æ£€æŸ¥ï¼šåœ¨åº”è¯¥è¾“å…¥æŒ‡å®šç±»å‹çš„å†…å®¹çš„åœ°æ–¹è¾“å…¥å…¶ä»–ç±»å‹çš„å†…å®¹ï¼ˆå¦‚åœ¨åº”è¯¥è¾“å…¥æ•´å‹çš„åœ°æ–¹è¾“å…¥å…¶ä»–å­—ç¬¦ç±»å‹ï¼‰ï¼Œçœ‹ç³»ç»Ÿæ˜¯å¦æ£€æŸ¥å­—ç¬¦ç±»å‹ï¼Œæ˜¯å¦ä¼šæœ‰æç¤ºçª—å£ã€‚ 6.æ ‡ç‚¹ç¬¦å·æ£€æŸ¥ï¼šè¾“å…¥å†…å®¹åŒ…æ‹¬å„ç§æ ‡ç‚¹ç¬¦å·ï¼Œç‰¹åˆ«æ˜¯ç©ºæ ¼ï¼Œå„ç§å¼•å·ï¼Œå›è½¦é”®ï¼Œçœ‹ç³»ç»Ÿæ˜¯å¦ä¼šæœ‰å¼‚å¸¸é”™è¯¯ã€‚ 7.ä¿¡æ¯é‡å¤ï¼šåœ¨ä¸€äº›éœ€è¦å‘½åï¼Œä¸”åå­—åº”è¯¥å”¯ä¸€çš„åœ°æ–¹è¾“å…¥é‡å¤çš„åå­—æˆ–IDï¼Œçœ‹ç³»ç»Ÿæ€ä¹ˆå¤„ç†ï¼Œæ˜¯å¦æŠ¥é”™ï¼›é‡åæ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œä»¥åŠåœ¨è¾“å…¥å†…å®¹çš„å‰åè¾“å…¥ç©ºæ ¼ï¼Œç³»ç»Ÿæ˜¯å¦ä½œå‡ºæ­£ç¡®å¤„ç†ã€‚ 8.æ£€æŸ¥åˆ é™¤åŠŸèƒ½ï¼šåœ¨ä¸€äº›å¯ä»¥ä¸€æ¬¡åˆ é™¤å¤šä¸ªä¿¡æ¯çš„åœ°æ–¹ï¼Œä¸é€‰æ‹©ä»»ä½•ä¿¡æ¯ï¼Œè¿›è¡Œåˆ é™¤ï¼Œçœ‹ç³»ç»Ÿå¦‚ä½•å¤„ç†ï¼Œæ˜¯å¦å‡ºé”™ï¼›é€‰æ‹©ä¸€ä¸ªå’Œå¤šä¸ªä¿¡æ¯ï¼Œè¿›è¡Œåˆ é™¤ï¼Œçœ‹æ˜¯å¦æ­£ç¡®å¤„ç†ã€‚ 9.æ£€æŸ¥æ·»åŠ å’Œä¿®æ”¹æ˜¯å¦ä¸€è‡´ï¼šæ£€æŸ¥æ·»åŠ å’Œä¿®æ”¹ä¿¡æ¯çš„è¦æ±‚æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æ·»åŠ è¦æ±‚å¿…å¡«çš„é¡¹ï¼Œä¿®æ”¹ä¹Ÿåº”è¯¥å¿…å¡«ï¼›æ·»åŠ è§„å®šä¸ºæ•´å‹çš„é¡¹ï¼Œä¿®æ”¹ä¹Ÿå¿…é¡»ä¸ºæ•´å‹ã€‚ 10.æ£€æŸ¥ä¿®æ”¹é‡åï¼šä¿®æ”¹æ—¶æŠŠä¸èƒ½é‡åçš„é¡¹æ”¹ä¸ºå·²å­˜åœ¨çš„å†…å®¹ï¼Œçœ‹ç³»ç»Ÿæ˜¯å¦å¤„ç†ï¼ŒæŠ¥é‡åçš„é”™ã€‚ 11.é‡å¤æäº¤è¡¨å•ï¼šä¸€æ¡å·²ç»æˆåŠŸæäº¤çš„çºªå½•ï¼Œé€€å‡ºåå†æäº¤ï¼Œçœ‹çœ‹ç³»ç»Ÿæ˜¯å¦ä¼šåšä»€ä¹ˆå¤„ç†ã€‚ 12.æŸ¥è¯¢åŠŸèƒ½ï¼šåœ¨æœ‰æŸ¥è¯¢åŠŸèƒ½çš„åœ°æ–¹è¾“å…¥ç³»ç»Ÿå­˜åœ¨å’Œä¸å­˜åœ¨çš„å†…å®¹ï¼Œç»“æœæ˜¯å¦æ­£ç¡®ï¼›å¦‚æœå¯ä»¥è¾“å…¥å¤šä¸ªæŸ¥è¯¢æ¡ä»¶ï¼ŒåŒæ—¶æ·»åŠ åˆç†å’Œä¸åˆç†çš„æ¡ä»¶ï¼Œçœ‹ç³»ç»Ÿå¤„ç†æ˜¯å¦æ­£ç¡®ã€‚ 13.è¾“å…¥ä¿¡æ¯ä½ç½®ï¼šæ³¨æ„åœ¨å…‰æ ‡åœç•™çš„åœ°æ–¹è¾“å…¥ä¿¡æ¯æ—¶ï¼Œå…‰æ ‡å’Œæ‰€è¾“å…¥çš„ä¿¡æ¯æ˜¯å¦è·³åˆ°åˆ«çš„åœ°æ–¹ã€‚ 14.ä¸Šä¼ ä¸‹è½½æ–‡ä»¶æ£€æŸ¥ï¼šä¸Šä¼ ä¸‹è½½æ–‡ä»¶çš„åŠŸèƒ½æ˜¯å¦å®ç°ï¼Œä¸Šä¼ æ–‡ä»¶æ˜¯å¦èƒ½æ‰“å¼€ã€‚å¯¹ä¸Šä¼ æ–‡ä»¶çš„æ ¼å¼æœ‰ä½•è§„å®šï¼Œç³»ç»Ÿæ˜¯å¦æœ‰æç¤ºä¿¡æ¯ã€‚ 15.å¿…å¡«é¡¹æ£€æŸ¥ï¼šåº”è¯¥å¡«å†™çš„é¡¹æ²¡æœ‰å¡«å†™æ—¶ç³»ç»Ÿæ˜¯å¦éƒ½åšäº†å¤„ç†ï¼Œå¯¹å¿…å¡«é¡¹æ˜¯å¦æœ‰æç¤ºä¿¡æ¯ï¼Œå¦‚åœ¨å¿…å¡«é¡¹æ”¾åŠ *ã€‚ 16.å¿«æ·é”®æ£€æŸ¥ï¼šæ˜¯å¦æ”¯æŒå¸¸ç”¨å¿«æ·é”®ï¼Œå¦‚Ctl+C Ctrl+V Backspaceç­‰ï¼Œå¯¹ä¸€äº›ä¸å…è®¸è¾“å…¥ä¿¡æ¯çš„å­—æ®µï¼Œå¦‚é€‰äººï¼Œé€‰æ—¥æœŸæ˜¯å¦ä¹Ÿæœ‰å¿«æ·é”®ã€‚ 17.å›è½¦é”®æ£€æŸ¥ï¼šåœ¨è¾“å…¥ç»“æŸåç›´æ¥æŒ‰å›è½¦é”®ï¼Œçœ‹ç³»ç»Ÿå¤„ç†å¦‚ä½•ï¼Œä¼šå¦æŠ¥é”™ã€‚","categories":[],"tags":[{"name":"æµ‹è¯•","slug":"æµ‹è¯•","permalink":"https://nymrli.top/tags/æµ‹è¯•/"}]},{"title":"2019-9æœˆ7å·C++ç¼–ç¨‹ç¬”è®°","slug":"2019-9æœˆ7å·C-ç¼–ç¨‹ç¬”è®°","date":"2019-11-26T07:47:55.000Z","updated":"2019-11-26T07:48:23.861Z","comments":true,"path":"2019/11/26/2019-9æœˆ7å·C-ç¼–ç¨‹ç¬”è®°/","link":"","permalink":"https://nymrli.top/2019/11/26/2019-9æœˆ7å·C-ç¼–ç¨‹ç¬”è®°/","excerpt":"","text":"2019-9æœˆ7å·C++ç¼–ç¨‹ç¬”è®° auto å®šä¹‰å˜é‡æ—¶æ”¾åœ¨å˜é‡å‰ï¼Œæ— éœ€çŸ¥é“å…·ä½“å˜é‡ç±»å‹ï¼Œç³»ç»Ÿå¯è‡ªè¡Œæ¨æ–­ç±»å‹ï¼Œå‡å°‘ç¼–ç¨‹å·¥ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨æ¨¡æ¿ä½¿ç”¨æ—¶ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ã€‚ 123456789101112131415161718auto a=1;auto b='a';auto s=\"abdc\";auto c;//è¿™æ ·ä½¿ç”¨æ—¶é”™è¯¯çš„ï¼Œç³»ç»Ÿæ— æ³•è‡ªåŠ¨æ¨æ–­å‡ºå˜é‡ç±»å‹//ä¸‹é¢ä¸ºè¿­ä»£æŒ‡é’ˆä½¿ç”¨ï¼Œå¾ˆæ–¹ä¾¿vector&lt;int&gt; vec;auto it=vec.begin();/**æ¨¡æ¿ä½¿ç”¨æ¡ˆä¾‹*/template&lt;typename InputIterator&gt; TreeNode *creatTree(InputIterator in_beg,InputIterator in_end...) &#123; ..... auto inRootPos=find(in_beg,in_end,val); ...... &#125; std::next 123// Defined in header &lt;iterator&gt;template&lt; class ForwardIt &gt;ForwardIt next( ForwardIt it, typename std::iterator_traits&lt;ForwardIt&gt;::difference_type n = 1 ); Parameters: it â€“ è¿­ä»£æŒ‡é’ˆ n â€“ å‘å‰è¿›çš„å…ƒç´ ä¸ªæ•°ï¼Œç¼ºçœé»˜è®¤ä¸º1 Return value The nth successor of iterator it.ï¼ˆè¿”å›itçš„ç¬¬nä¸ªåç»§è¿­ä»£æŒ‡é’ˆï¼‰ 1234for (int i = 0; i &lt; vals.size(); ++i) &#123; // *std::next(vals.cbegin(), i)éå†setçš„æ‰€æœ‰å€¼ï¼Œæ¯æ¬¡å–å‡ºä¸€ä¸ªval // countä¸ºè®¡ç®—valuesä¸­åŒ…å«valçš„ä¸ªæ•° int count = std::count(values.cbegin(), values.cend(), *std::next(vals.cbegin(), i)); std::prev 123// ä½¿ç”¨æ–¹æ³•ä¸nextç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯prevè¿”å›çš„æ˜¯itçš„ç¬¬nä¸ªå‰é©±è¿­ä»£æŒ‡é’ˆ,å³è¿”å›æŒ‡é’ˆæ˜¯begin()å’Œrbegin()åŒºåˆ«template&lt; class BidirIt &gt;BidirIt prev( BidirIt it, typename std::iterator_traits&lt;BidirIt&gt;::difference_type n = 1 ); std::advance æ–¹æ³•ä¸prevå’Œnextç›¸ä¼¼ï¼Œåªæ˜¯æ— è¿”å›æŒ‡é’ˆ 12345template&lt;class ForwardIt&gt;ForwardIt next(ForwardIt it, typename std::iterator_traits&lt;ForwardIt&gt;::difference_type n = 1)&#123; std::advance(it, n); return it;&#125; const_cast å»æ‰constå±æ€§ï¼šconst_cast&lt;int*&gt; (&amp;num)ï¼Œå¸¸ç”¨ï¼Œå› ä¸ºä¸èƒ½æŠŠä¸€ä¸ªconstå˜é‡ç›´æ¥èµ‹ç»™ä¸€ä¸ªéconstå˜é‡ï¼Œå¿…é¡»è¦è½¬æ¢ã€‚ åŠ ä¸Šconstå±æ€§ï¼šconst int* k = const_cast&lt;const int*&gt;(j)ï¼Œä¸€èˆ¬å¾ˆå°‘ç”¨ï¼Œå› ä¸ºå¯ä»¥æŠŠä¸€ä¸ªéconstå˜é‡ç›´æ¥èµ‹ç»™ä¸€ä¸ªconstå˜é‡ï¼Œæ¯”å¦‚ï¼šconst int* k = j; 1binary_tree* tmp = const_cast&lt;binary_tree*&gt;(node); C++11å¯¹vectoræˆå‘˜å‡½æ•°çš„æ‰©å±• emplace_back std::vector::cbeginå’Œstd::vector::cend è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯ä¸std::vector::beginå’Œstd::vector::endç›¸å¯¹åº”çš„ï¼Œä»å­—é¢å°±èƒ½çœ‹å‡ºæ¥ï¼Œå¤šäº†ä¸€ä¸ªâ€™câ€™ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯constçš„æ„æ€ã€‚åŒç†ï¼Œstd::vector::crbeginå’Œstd::vector::crend std::vector::emplace ä¹‹å‰å·²ç»å¯¹emplace_backè¿›è¡Œäº†è®¨è®ºï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å«emplaceã€‚ æˆ‘æƒ³è¯´çš„å°±æ˜¯ï¼Œemplaceä¹‹äºemplace_backå°±åƒinsertä¹‹äºpush_backã€‚å¦‚ä¸‹ä½¿ç”¨ 12345678910111213141516171819202122&lt;code class=\"hljs cpp\"&gt;#include &lt;iostream&gt;#include &lt;vector&gt; int main ()&#123; std::vector&lt;int&gt; myvector = &#123;10,20,30&#125;; auto it = myvector.emplace ( myvector.begin()+1, 100 ); myvector.emplace ( it, 200 ); myvector.emplace ( myvector.end(), 300 ); std::cout &lt;&lt; \"myvector contains:\"; for (auto&amp; x: myvector) std::cout &lt;&lt; ' ' &lt;&lt; x; std::cout &lt;&lt; '\\n'; return 0;&#125;Output:myvector contains: 10 200 100 20 30 300&lt;/int&gt;&lt;/vector&gt;&lt;/iostream&gt;&lt;/code&gt; std::vector::data Returns a direct pointer to the memory array used internally by the vector to store its owned elements. 1234567891011121314151617&lt;code class=\"hljs cpp\"&gt;#include &lt;iostream&gt;#include &lt;vector&gt; int main ()&#123; std::vector&lt;int&gt; myvector (5); int* p = myvector.data(); *p = 10; ++p; *p = 20; p[2] = 100; std::cout &lt;&lt; \"myvector contains:\"; for (unsigned i=0; i&lt;myvector.size(); ++i) std::cout &lt;&lt; myvector[i] &lt;&lt; '\\n'; return 0;&#125; =\"\" output:=\"\" myvector=\"\" contains:=\"\" 10=\"\" 20=\"\" 0=\"\" 100=\"\" 0&lt;/int&gt;&lt;/vector&gt;&lt;/iostream&gt;&lt;/code&gt;","categories":[],"tags":[{"name":"ç¼–ç¨‹ç¬”è®°","slug":"ç¼–ç¨‹ç¬”è®°","permalink":"https://nymrli.top/tags/ç¼–ç¨‹ç¬”è®°/"}]},{"title":"MinMax-æå°æå¤§ç®—æ³•â€”â€”2048","slug":"MinMax-æå°æå¤§ç®—æ³•â€”â€”2048","date":"2019-11-26T07:46:41.000Z","updated":"2020-02-04T03:45:53.681Z","comments":true,"path":"2019/11/26/MinMax-æå°æå¤§ç®—æ³•â€”â€”2048/","link":"","permalink":"https://nymrli.top/2019/11/26/MinMax-æå°æå¤§ç®—æ³•â€”â€”2048/","excerpt":"","text":"MinMax-æå°æå¤§ç®—æ³•â€”â€”2048 ç®—æ³•ä»‹ç» MinMax å¤§å®¶åœ¨ç¼–ç¨‹çš„æ—¶å€™åº”è¯¥æˆ–å¤šæˆ–å°‘éƒ½æ¥è§¦åˆ°è¿‡è¿™æ ·çš„å†™æ³•:min(max(xxx,yyy))ï¼ŒMinMaxç®—æ³•çš„è¡¨è¾¾å½¢å¼å°±æ˜¯å¦‚æ­¤ï¼Œä¸è¿‡å…¶ä¸­çš„Minå’ŒMaxéƒ½æ˜¯å…·æœ‰å¯¹åº”å«ä¹‰çš„ã€‚ ä¸€èˆ¬è§£å†³åšå¼ˆç±»é—®é¢˜çš„è‡ªç„¶æƒ³æ³•æ˜¯å°†æ ¼å±€ç»„ç»‡æˆä¸€æ£µï¼‰ï¼Œæ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ç§æ ¼å±€ï¼Œè€Œçˆ¶å­å…³ç³»è¡¨ç¤ºç”±çˆ¶æ ¼å±€ç»è¿‡ä¸€æ­¥å¯ä»¥åˆ°è¾¾å­æ ¼å±€ã€‚Minimaxä¹Ÿä¸ä¾‹å¤–ï¼Œå®ƒé€šè¿‡å¯¹ä»¥å½“å‰æ ¼å±€ä¸ºæ ¹çš„æ ¼å±€æ ‘æœç´¢æ¥ç¡®å®šä¸‹ä¸€æ­¥çš„é€‰æ‹©ã€‚è€Œä¸€åˆ‡æ ¼å±€æ ‘æœç´¢ç®—æ³•çš„æ ¸å¿ƒéƒ½æ˜¯å¯¹æ¯ä¸ªæ ¼å±€ä»·å€¼çš„è¯„ä»·ã€‚Minimaxç®—æ³•åŸºäºä»¥ä¸‹æœ´ç´ æ€æƒ³ç¡®å®šæ ¼å±€ä»·å€¼ï¼š Minimaxæ˜¯ä¸€ç§æ‚²è§‚ç®—æ³•ï¼Œå³å‡è®¾å¯¹æ‰‹æ¯ä¸€æ­¥éƒ½ä¼šå°†æˆ‘æ–¹å¼•å…¥ä»å½“å‰çœ‹ç†è®ºä¸Šä»·å€¼æœ€å°çš„æ ¼å±€æ–¹å‘ï¼Œå³å¯¹æ‰‹å…·æœ‰å®Œç¾å†³ç­–èƒ½åŠ›ã€‚å› æ­¤æˆ‘æ–¹çš„ç­–ç•¥åº”è¯¥æ˜¯é€‰æ‹©é‚£äº›å¯¹æ–¹æ‰€èƒ½è¾¾åˆ°çš„è®©æˆ‘æ–¹æœ€å·®æƒ…å†µä¸­æœ€å¥½çš„ï¼Œä¹Ÿå°±æ˜¯è®©å¯¹æ–¹åœ¨å®Œç¾å†³ç­–ä¸‹æ‰€å¯¹æˆ‘é€ æˆçš„æŸå¤±æœ€å°ã€‚ Minimaxä¸æ‰¾ç†è®ºæœ€ä¼˜è§£ï¼Œå› ä¸ºç†è®ºæœ€ä¼˜è§£å¾€å¾€ä¾èµ–äºå¯¹æ‰‹æ˜¯å¦è¶³å¤Ÿæ„šè ¢ï¼ŒMinimaxä¸­æˆ‘æ–¹å®Œå…¨æŒæ¡ä¸»åŠ¨ï¼Œå¦‚æœå¯¹æ–¹æ¯ä¸€æ­¥å†³ç­–éƒ½æ˜¯å®Œç¾çš„ï¼Œåˆ™æˆ‘æ–¹å¯ä»¥è¾¾åˆ°é¢„è®¡çš„æœ€å°æŸå¤±æ ¼å±€ï¼Œå¦‚æœå¯¹æ–¹æ²¡æœ‰èµ°å‡ºå®Œç¾å†³ç­–ï¼Œåˆ™æˆ‘æ–¹å¯èƒ½è¾¾åˆ°æ¯”é¢„è®¡çš„æœ€æ‚²è§‚æƒ…å†µæ›´å¥½çš„ç»“å±€ã€‚æ€»ä¹‹æˆ‘æ–¹å°±æ˜¯è¦åœ¨æœ€åæƒ…å†µä¸­é€‰æ‹©æœ€å¥½çš„ã€‚ ä¸¾ä¾‹For Exampleï¼š ç°åœ¨è€ƒè™‘è¿™æ ·ä¸€ä¸ªæ¸¸æˆï¼šæœ‰ä¸‰ä¸ªç›˜å­Aã€Bå’ŒCï¼Œæ¯ä¸ªç›˜å­åˆ†åˆ«æ”¾æœ‰ä¸‰å¼ çº¸å¸ã€‚Aæ”¾çš„æ˜¯1ã€20ã€50ï¼›Bæ”¾çš„æ˜¯5ã€10ã€100ï¼›Cæ”¾çš„æ˜¯1ã€5ã€20ã€‚å•ä½å‡ä¸ºâ€œå…ƒâ€ã€‚æœ‰ç”²ã€ä¹™ä¸¤äººï¼Œä¸¤äººå‡å¯¹ä¸‰ä¸ªç›˜å­å’Œä¸Šé¢æ”¾ç½®çš„çº¸å¸æœ‰å¯ä»¥ä»»æ„æŸ¥çœ‹ã€‚æ¸¸æˆåˆ†ä¸‰æ­¥ï¼š ç”²ä»ä¸‰ä¸ªç›˜å­ä¸­é€‰å–ä¸€ä¸ªã€‚ ä¹™ä»ç”²é€‰å–çš„ç›˜å­ä¸­æ‹¿å‡ºä¸¤å¼ çº¸å¸äº¤ç»™ç”²ã€‚ ç”²ä»ä¹™æ‰€ç»™çš„ä¸¤å¼ çº¸å¸ä¸­é€‰å–ä¸€å¼ ï¼Œæ‹¿èµ°ã€‚ å…¶ä¸­ç”²çš„ç›®æ ‡æ˜¯æœ€åæ‹¿åˆ°çš„çº¸å¸é¢å€¼å°½é‡å¤§ï¼Œä¹™çš„ç›®æ ‡æ˜¯è®©ç”²æœ€åæ‹¿åˆ°çš„çº¸å¸é¢å€¼å°½é‡å°ã€‚ åˆ†æè¿‡ç¨‹å¯çœ‹ MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ[è½¬] Alpha-betaå‰ªæ æ˜¯åœ¨Minmaxçš„åŸºç¡€ä¸Šé€šè¿‡å¯¹æ¯ä¸ªç»“ç‚¹ä¸‹ç•Œalphaå’Œä¸Šç•Œbetaå€¼çš„ç»´æŠ¤è¿›è¡Œäº†å‰ªæ å¶æ•°å±‚ä¸ºMaxå±‚ï¼ˆå·±æ–¹ï¼‰ï¼Œå¥‡æ•°å±‚ä¸ºMinå±‚ï¼ˆå¯¹æ‰‹ï¼‰ï¼Œå…¶ä¸­rootä¸ºå½“å‰å½¢åŠ¿ã€‚ æ‰§è¡Œè¿‡ç¨‹ åœ¨rootå±‚ï¼ŒÎ±â€²=max(N1.Î²,N2.Î²,...,Ni.Î²)==(self.Î²,Ni.Î²)\\alpha&#x27; = max(N_1.\\beta, N_2.\\beta,...,N_i.\\beta)==(self.\\beta,N_i.\\beta)Î±â€²=max(N1â€‹.Î²,N2â€‹.Î²,...,Niâ€‹.Î²)==(self.Î²,Niâ€‹.Î²) åœ¨Maxå±‚ åˆå§‹ï¼ŒÎ±â€²=max(âˆ’âˆ,N.Î²)\\alpha&#x27;=max(-\\infty, N.\\beta)Î±â€²=max(âˆ’âˆ,N.Î²) éå¶å­èŠ‚ç‚¹æ›´æ–°(åŒ…æ‹¬æ ¹èŠ‚ç‚¹), Î±â€²=max(Î±,N1.Î²,...,Ni.Î²)\\alpha&#x27;=max(\\alpha,N_1.\\beta,...,N_i.\\beta)Î±â€²=max(Î±,N1â€‹.Î²,...,Niâ€‹.Î²) å¶å­èŠ‚ç‚¹æ›´æ–°, Î±â€²=max(self.Î±,N1.v,...,Ni.v)\\alpha&#x27;=max(self.\\alpha, N_1.v,...,N_i.v)Î±â€²=max(self.Î±,N1â€‹.v,...,Niâ€‹.v) æ ¹èŠ‚ç‚¹æ›´æ–°ï¼ŒÎ±â€²=max(Î±,N1.Î²,...,Ni.Î²)\\alpha&#x27;=max(\\alpha,N_1.\\beta,...,N_i.\\beta)Î±â€²=max(Î±,N1â€‹.Î²,...,Niâ€‹.Î²) â–²æ›´æ–°åå‘ç°self.Î±â€²&gt;self.Î²self.\\alpha&#x27;&gt;self.\\betaself.Î±â€²&gt;self.Î²åˆ™å‰ªæï¼Œä¸å†æœç´¢ åœ¨Minå±‚, åˆå§‹ï¼ŒÎ²â€²=min(âˆ,N.v)\\beta&#x27;=min(\\infty, N.v)Î²â€²=min(âˆ,N.v) å¶å­èŠ‚ç‚¹æ›´æ–°ï¼ŒÎ²â€²=min(N1.v,...,Ni.v)\\beta&#x27;=min(N_1.v,...,N_i.v)Î²â€²=min(N1â€‹.v,...,Niâ€‹.v) éå¶å­èŠ‚ç‚¹æ›´æ–°, Î²â€²=min(self.Î²,N1.Î±,...,Ni.Î±)\\beta&#x27;=min(self.\\beta,N_1.\\alpha,...,N_i.\\alpha)Î²â€²=min(self.Î²,N1â€‹.Î±,...,Niâ€‹.Î±) â–²æ›´æ–°åå‘ç°self.Î²â€²&lt;self.Î±self.\\beta&#x27;&lt;self.\\alphaself.Î²â€²&lt;self.Î±åˆ™å‰ªæï¼Œä¸å†æœç´¢ â–³å…¶ä¸­Nä¸ºå­èŠ‚ç‚¹; self.Î±è¡¨ç¤ºå½“å‰èŠ‚ç‚¹å·²æ›´æ–°çš„Î±å€¼ ä¼ªä»£ç  1234567891011121314151617function alphabeta(node, depth, Î±, Î², Player) //è¾¾åˆ°æœ€æ·±æœç´¢æ·±åº¦æˆ–èƒœè´Ÿå·²åˆ† if depth = 0 or node is a terminal node return the heuristic value of node if Player = MaxPlayer // æå¤§èŠ‚ç‚¹ for each child of node // å­èŠ‚ç‚¹æ˜¯æå°èŠ‚ç‚¹ Î± := max(Î±, alphabeta(child, depth-1, Î±, Î², not(Player) )) if Î² â‰¤ Î± // è¯¥æå¤§èŠ‚ç‚¹çš„å€¼&gt;=Î±&gt;=Î²ï¼Œè¯¥æå¤§èŠ‚ç‚¹åé¢çš„æœç´¢åˆ°çš„å€¼è‚¯å®šä¼šå¤§äºÎ²ï¼Œå› æ­¤ä¸ä¼šè¢«å…¶ä¸Šå±‚çš„æå°èŠ‚ç‚¹æ‰€é€‰ç”¨äº†ã€‚å¯¹äºæ ¹èŠ‚ç‚¹ï¼ŒÎ²ä¸ºæ­£æ— ç©· break //betaå‰ªæ return Î± else // æå°èŠ‚ç‚¹ for each child of node //å­èŠ‚ç‚¹æ˜¯æå¤§èŠ‚ç‚¹ Î² := min(Î², alphabeta(child, depth-1, Î±, Î², not(Player) )) // æå°èŠ‚ç‚¹ if Î² â‰¤ Î± // è¯¥æå¤§èŠ‚ç‚¹çš„å€¼&lt;=Î²&lt;=Î±ï¼Œè¯¥æå°èŠ‚ç‚¹åé¢çš„æœç´¢åˆ°çš„å€¼è‚¯å®šä¼šå°äºÎ±ï¼Œå› æ­¤ä¸ä¼šè¢«å…¶ä¸Šå±‚çš„æå¤§èŠ‚ç‚¹æ‰€é€‰ç”¨äº†ã€‚å¯¹äºæ ¹èŠ‚ç‚¹ï¼ŒÎ±ä¸ºè´Ÿæ— ç©· break //alphaå‰ªæ return Î² 2048AIä»‹ç» æ¸¸æˆè§„åˆ™: 2048æ¸¸æˆå…±æœ‰16ä¸ªæ ¼å­ï¼Œåˆå§‹æ—¶åˆå§‹æ•°å­—ç”±2æˆ–è€…4æ„æˆï¼Œä¹‹åæ¯æ¬¡ç§»åŠ¨ç”Ÿæˆ2çš„æ¦‚ç‡ä¸º0.9ï¼Œç”Ÿæˆ4çš„æ¦‚ç‡ä¸º0.1ï¼Œè§2048éšæœºç”Ÿæˆæ–°æ•°å­—æºç ã€‚ 1ã€æ‰‹æŒ‡å‘ä¸€ä¸ªæ–¹å‘æ»‘åŠ¨ï¼Œæ‰€æœ‰æ ¼å­ä¼šå‘é‚£ä¸ªæ–¹å‘è¿åŠ¨ã€‚ 2ã€ç›¸åŒæ•°å­—çš„ä¸¤ä¸ªæ ¼å­ï¼Œç›¸æ’æ—¶æ•°å­—ä¼šç›¸åŠ ã€‚ 3ã€æ¯æ¬¡æ»‘åŠ¨æ—¶ï¼Œç©ºç™½å¤„ä¼šéšæœºåˆ·æ–°å‡ºä¸€ä¸ªæ•°å­—çš„æ ¼å­ã€‚ 4ã€å½“ç•Œé¢ä¸å¯è¿åŠ¨æ—¶ï¼ˆå½“ç•Œé¢å…¨éƒ¨è¢«æ•°å­—å¡«æ»¡æ—¶ï¼‰ï¼Œæ¸¸æˆç»“æŸï¼›å½“ç•Œé¢ä¸­æœ€å¤§æ•°å­—æ˜¯2048æ—¶ï¼Œæ¸¸æˆèƒœåˆ©ã€‚ å»ºæ¨¡: ä¹‹å‰çš„å¯¹å¼ˆç±»æ¸¸æˆ, åšå¼ˆåŒæ–¹çš„åœ°ä½éƒ½æ˜¯å¯¹ç­‰çš„. ä½†è¿™è¾¹åªæœ‰æ¸¸æˆè€…ä¸€äºº, å¯¹æ‰‹åœ¨å“ªé‡Œ? è®©äººè„‘æ´å¤§å¼€çš„æ˜¯, 2048æ¸¸æˆAIçš„è®¾è®¡è€…, åˆ›é€ æ€§æŠŠæ£‹å±€ç¯å¢ƒæœ¬èº«åšä¸ºäº†åšå¼ˆçš„å¦ä¸€æ–¹. å½“ç„¶åŒæ–¹è¿½æ±‚çš„èƒœåˆ©ç›®æ ‡ä¸ä¸€æ ·: â€¢ æˆ‘æ–¹ï¼šæ¸¸æˆè€…(AI)ï¼Œ è¿½æ±‚2048åŠ2048ä»¥ä¸Šçš„æ–¹å—å‡ºç° â€¢ å¯¹æ–¹ï¼šè®¡ç®—æœº(æ£‹å±€ç¯å¢ƒ)ï¼Œ å¡«æ»¡æ£‹å±€æ ¼å­, ä½¿å¾—4ä¸ªæ–¹å‘çš†ä¸èƒ½ç§»åŠ¨ â€¢ èƒœåˆ©æ¡ä»¶ï¼šå‡ºç°æŸä¸ªæ–¹å—çš„æ•°å€¼ä¸ºâ€œ2048â€ã€‚ â€¢å¤±è´¥æ¡ä»¶ï¼šæ ¼å­å…¨æ»¡ï¼Œä¸”æ— æ³•å‘å››ä¸ªæ–¹å‘ä¸­ä»»ä½•ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼ˆå‡ä¸èƒ½è§¦å‘åˆå¹¶ï¼‰ã€‚ â–².æ¸¸æˆæ¨¡å‹å°±è¢«å»ºæ¨¡æˆäº†ä¿¡æ¯å®Œå¤‡çš„åŒäººå¯¹å¼ˆé—®é¢˜. è€Œä¼ ç»Ÿåšå¼ˆæ ‘å’ŒæŠ€å·§å°±è‡ªç„¶æœ‰äº†ç”¨æ­¦ä¹‹åœ°. è¯„ä¼°å‡½æ•°: è¯„ä¼°å‡½æ•°æ˜¯ç®—æ³•çš„æ ¸å¿ƒï¼Œå¦‚ä½•è¯„ä»·å½“å‰æ ¼å±€çš„ä»·å€¼æ˜¯é‡ä¸­ä¹‹é‡ã€‚ä¾æ®æ¸¸æˆç»éªŒ, ä½œè€…é€‰ç”¨äº†å¦‚ä¸‹è¯„ä¼°å› ç´ : (1) å•è°ƒæ€§: æŒ‡æ–¹å—ä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹å‡éµä»é€’å¢æˆ–é€’å‡. (2) å¹³æ»‘æ€§: æŒ‡æ¯ä¸ªæ–¹å—ä¸å…¶ç›´æ¥ç›¸é‚»æ–¹å—æ•°å€¼çš„å·®ï¼Œå…¶ä¸­å·®è¶Šå°è¶Šå¹³æ»‘. (3) ç©ºæ ¼æ•°: å±€é¢çš„ç©ºæ ¼æ€»æ•°. (4) æœ€å¤§æ•°: å½“å‰å±€é¢çš„æœ€å¤§æ•°å­—, è¯¥ç‰¹å¾ä¸ºç§¯æå› å­. é‡‡ç”¨çº¿æ€§å‡½æ•°, å¹¶æ·»åŠ æƒé‡ç³»æ•°: 123456789101112131415161718// static evaluation functionAI.prototype.eval = function() &#123; var emptyCells = this.grid.availableCells().length; var smoothWeight = 0.1, //monoWeight = 0.0, //islandWeight = 0.0, mono2Weight = 1.0, emptyWeight = 2.7, maxWeight = 1.0; return this.grid.smoothness() * smoothWeight //+ this.grid.monotonicity() * monoWeight //- this.grid.islands() * islandWeight + this.grid.monotonicity2() * mono2Weight + Math.log(emptyCells) * emptyWeight + this.grid.maxValue() * maxWeight;&#125;; åˆ†æï¼šå‰3é¡¹èƒ½è¡¡é‡ä¸€ä¸ªå±€é¢çš„å¥½å, è€Œæœ€å¤§æ•°è¯¥é¡¹, åˆ™è®©æ¸¸æˆAIå¤šäº†ä¸€ç‚¹ç§¯æå’Œ&quot;å†’é™©&quot; æ‰§è¡Œè¿‡ç¨‹ æ¸¸æˆAIçš„å†³ç­–è¿‡ç¨‹, æ˜¯æ ‡å‡†çš„maxmin searchå’Œalpha+beta pruningçš„å®ç°. æ‰€æœ‰çš„æ–¹å‘(ä¸Šä¸‹å·¦å³)éƒ½ä¼šå»å°è¯•. Alpha+beta pruning + worst consideration pruning ç„¶è€Œåœ¨æ¸¸æˆæœ¬èº«åšå†³ç­–æ—¶, åœ¨MinèŠ‚ç‚¹è¿˜é‡‡ç”¨äº†å¦ä¸€ç§å‰ªæï¼Œå³åªè€ƒè™‘å¯¹æ–¹èµ°å‡ºè®©æ ¼å±€æœ€å·®çš„é‚£ä¸€æ­¥ï¼ˆè€Œå®é™…2048ä¸­è®¡ç®—æœºçš„é€‰æ‹©æ˜¯éšæœºçš„ï¼‰ï¼Œåšä¸ºæœç´¢åˆ†æ”¯çš„å‰ªææ¡ä»¶ï¼Œå³ä¸æ˜¯æ¯ä¸ªç©ºæ ¼éƒ½å»å°è¯•å¡«{2, 4}ã€‚ è¿™ç§å‡å®šç¯å¢ƒç”Ÿæˆäº†æœ€åçš„å±€é¢çš„å‰ªæåšæ³•ï¼Œå¯ä»¥å¾ˆå¥½åœ°æé«˜æœç´¢æ•ˆç‡ï¼Œå¹¶ä¸”è·å¾—æ›´å¼ºçš„ç”Ÿå­˜èƒ½åŠ›ã€‚å¦‚æœå…¨éƒ¨æœç´¢çš„è¯ï¼Œå¯¹æ–¹æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©å°±ä¸ºå˜æˆäº†â€œç©ºæ ¼æ•°Ã—2â€ç§ï¼Œä½¿å¾—æœç´¢æ•ˆç‡å¾ˆä½ï¼Œä¸¥é‡é™åˆ¶æœç´¢æ·±åº¦ã€‚è€Œè¿™ç§é€‰æ‹©æ€§åœ°ä¸¢æ‰äº†å¾ˆå¤šæœç´¢åˆ†æ”¯ï¼Œèƒ½å¤Ÿå¤§å¤§åœ°æé«˜æœç´¢æ•ˆç‡ã€‚ 12345678910111213141516171819202122232425// try a 2 and 4 in each cell and measure how annoying it is// with metrics from evalvar candidates = [];var cells = this.grid.availableCells();var scores = &#123; 2: [], 4: [] &#125;;for (var value in scores) &#123; for (var i in cells) &#123; scores[value].push(null); var cell = cells[i]; var tile = new Tile(cell, parseInt(value, 10)); this.grid.insertTile(tile); scores[value][i] = -this.grid.smoothness() + this.grid.islands(); this.grid.removeTile(cell); &#125;&#125; // now just pick out the most annoying movesvar maxScore = Math.max(Math.max.apply(null, scores[2]), Math.max.apply(null, scores[4]));for (var value in scores) &#123; // 2 and 4 for (var i=0; i&lt;scores[value].length; i++) &#123; if (scores[value][i] == maxScore) &#123; candidates.push( &#123; position: cells[i], value: parseInt(value, 10) &#125; ); &#125; &#125;&#125; åˆ†æï¼šå¯¹äºé€‰æ‹©æ€§å¿½ç•¥æœç´¢èŠ‚ç‚¹, å…¶å®å¾ˆæœ‰äº‰è®®. åœ¨æŸäº›æƒ…å†µä¸‹, ä¼šå¤±å»è·å–æœ€ä¼˜è§£çš„æœºä¼š. ä¸è¿‡ç æ‰äº†å¾ˆå¤šåˆ†æ”¯å, å…¶æœç´¢æ·±åº¦å¤§å¤§åŠ å¼º. ç”Ÿå­˜èƒ½åŠ›æ›´å¼ºå¤§. é™æ—¶çš„è¿­ä»£æ·±æœ 12345678910111213141516// performs iterative deepening over the alpha-beta searchAI.prototype.iterativeDeep = function() &#123; var start = (new Date()).getTime(); var depth = 0; var best; do &#123; var newBest = this.search(depth, -10000, 10000, 0 ,0); if (newBest.move == -1) &#123; break; &#125; else &#123; best = newBest; &#125; depth++; &#125; while ( (new Date()).getTime() - start &lt; minSearchTime); return best&#125; è¯¥ä»£ç æ²¡æœ‰é™åˆ¶æœç´¢çš„æ·±åº¦ï¼Œä½†æ˜¯é™åˆ¶äº†æ¯æ¬¡â€œæ€è€ƒâ€çš„æ—¶é—´ï¼šè¶…æ—¶åˆ¤æ–­åœ¨æ¯ä¸ªæ·±åº¦æ¢ç´¢ç»“æŸåè¿›è¡Œ, è¿™æœªå¿…ä¼šç²¾ç¡®, ç”šè‡³è¯¯å·®å¾ˆå¤§. æˆ‘è¿˜æ˜¯æ¨å´‡å‰æ–‡è°ˆåˆ°è¿‡çš„å®ç°æ–¹å¼.ä½†ä¸ç®¡æ€æ ·, ä½œè€…åŸºæœ¬è¾¾åˆ°äº†å…¶æ¯100mså†³ç­–ä¸€æ­¥çš„è¦æ±‚. Pythonå®ç°æ ¸å¿ƒä»£ç : 12 é™„å½• æå¤§æå°ç®—æ³•æœ‰äº›ä¸æ˜ç™½ ? æå°æå¤§ç®—æ³•ä¸»è¦åº”ç”¨äºä»€ä¹ˆæ ·çš„æ¸¸æˆï¼š é›¶å’Œæ¸¸æˆï¼ˆZero-sum Gameï¼‰ å®Œå…¨ä¿¡æ¯ï¼ˆPerfect Informationï¼‰â€”â€”Maxä»£è¡¨ä½ è‡ªå·±ï¼ŒMinä»£è¡¨ä½ çš„å¯¹æ‰‹ å¯¹å¼ˆç±»æ¸¸æˆçš„äººå·¥æ™ºèƒ½(5)â€“2048æ¸¸æˆAIçš„è§£è¯» æŠŠç¯å¢ƒæ‹ŸäººåŒ–çš„å¯¹å¼ˆæ¨¡å‹, ä¹Ÿæ˜¯é¢å¯¹åé¦ˆç±»åœºæ™¯çš„ä¸€ç§å¾ˆå¥½çš„è¯„ä¼°å†³ç­–æ€è·¯. 2048-AIç¨‹åºç®—æ³•åˆ†æâ€”â€”Javaå®ç° ä¸€å›¾æµè§£é‡Š Alpha-Beta å‰ªæ(Alpha-Beta Pruning) 2048é«˜åˆ†æŠ€å·§ 1ã€æœ€å¤§æ•°å°½å¯èƒ½æ”¾åœ¨è§’è½ã€‚ 2ã€æ•°å­—æŒ‰é¡ºåºç´§é‚»æ’åˆ—ã€‚ 3ã€é¦–å…ˆæ»¡è¶³æœ€å¤§æ•°å’Œæ¬¡å¤§æ•°åœ¨çš„é‚£ä¸€åˆ—/è¡Œæ˜¯æ»¡çš„ã€‚ 4ã€æ—¶åˆ»æ³¨æ„æ´»åŠ¨è¾ƒå¤§æ•°ï¼ˆ32ä»¥ä¸Šï¼‰æ—è¾¹è¦æœ‰ç›¸è¿‘çš„æ•°ã€‚ 5ã€ä»¥å¤§æ•°æ‰€åœ¨çš„ä¸€è¡Œä¸ºä¸»è¦ç§»åŠ¨æ–¹å‘ 6ã€ä¸è¦æ€¥äºâ€œæ¸…ç†æ¡Œé¢â€ã€‚ 2048éšæœºç”Ÿæˆæ–°æ•°å­—æºç  12345678910// Adds a tile in a random positionGrid.prototype.addRandomTile = function () &#123; if (this.cellsAvailable()) &#123; var value = Math.random() &lt; 0.9 ? 2 : 4; //var value = Math.random() &lt; 0.9 ? 256 : 512; var tile = new Tile(this.randomAvailableCell(), value); this.insertTile(tile); &#125;&#125;; â–²éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ2çš„å‡ ç‡æ˜¯0.9ï¼Œ4çš„å‡ ç‡æ˜¯0.1ï¼Œä½†æ˜¯é™¤äº†å¼€å±€ä¼šéšæœºå‡ºç°1æˆ–è€…2ä¸ªæ–¹å—ï¼Œè€Œåœ¨æ­£å¸¸æ¸¸æˆä¸­æ¯æ¬¡ç§»åŠ¨ååªå‡ºç°ä¸€ä¸ªéšæœºæ–¹å—ã€‚â€”â€”æˆ‘å½“æ—¶è‡ªå·±å†™çš„æ˜¯éšæœº1-2ä¸ªï¼Œå¯¼è‡´æˆ‘çš„åˆ†æ•°æŒºä½çš„ã€‚","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"},{"name":"RL","slug":"RL","permalink":"https://nymrli.top/tags/RL/"}]},{"title":"MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ[è½¬]","slug":"MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ-è½¬","date":"2019-11-26T07:45:45.000Z","updated":"2019-11-26T07:46:23.931Z","comments":true,"path":"2019/11/26/MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ-è½¬/","link":"","permalink":"https://nymrli.top/2019/11/26/MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ-è½¬/","excerpt":"","text":"MinMaxå’ŒAlpha-betaå‰ªæåˆ†æ[è½¬] ä¸€èˆ¬è§£å†³åšå¼ˆç±»é—®é¢˜çš„è‡ªç„¶æƒ³æ³•æ˜¯å°†æ ¼å±€ç»„ç»‡æˆä¸€æ£µï¼‰ï¼Œæ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ç§æ ¼å±€ï¼Œè€Œçˆ¶å­å…³ç³»è¡¨ç¤ºç”±çˆ¶æ ¼å±€ç»è¿‡ä¸€æ­¥å¯ä»¥åˆ°è¾¾å­æ ¼å±€ã€‚Minimaxä¹Ÿä¸ä¾‹å¤–ï¼Œå®ƒé€šè¿‡å¯¹ä»¥å½“å‰æ ¼å±€ä¸ºæ ¹çš„æ ¼å±€æ ‘æœç´¢æ¥ç¡®å®šä¸‹ä¸€æ­¥çš„é€‰æ‹©ã€‚è€Œä¸€åˆ‡æ ¼å±€æ ‘æœç´¢ç®—æ³•çš„æ ¸å¿ƒéƒ½æ˜¯å¯¹æ¯ä¸ªæ ¼å±€ä»·å€¼çš„è¯„ä»·ã€‚Minimaxç®—æ³•åŸºäºä»¥ä¸‹æœ´ç´ æ€æƒ³ç¡®å®šæ ¼å±€ä»·å€¼ï¼š Minimaxæ˜¯ä¸€ç§æ‚²è§‚ç®—æ³•ï¼Œå³å‡è®¾å¯¹æ‰‹æ¯ä¸€æ­¥éƒ½ä¼šå°†æˆ‘æ–¹å¼•å…¥ä»å½“å‰çœ‹ç†è®ºä¸Šä»·å€¼æœ€å°çš„æ ¼å±€æ–¹å‘ï¼Œå³å¯¹æ‰‹å…·æœ‰å®Œç¾å†³ç­–èƒ½åŠ›ã€‚å› æ­¤æˆ‘æ–¹çš„ç­–ç•¥åº”è¯¥æ˜¯é€‰æ‹©é‚£äº›å¯¹æ–¹æ‰€èƒ½è¾¾åˆ°çš„è®©æˆ‘æ–¹æœ€å·®æƒ…å†µä¸­æœ€å¥½çš„ï¼Œä¹Ÿå°±æ˜¯è®©å¯¹æ–¹åœ¨å®Œç¾å†³ç­–ä¸‹æ‰€å¯¹æˆ‘é€ æˆçš„æŸå¤±æœ€å°ã€‚ Minimaxä¸æ‰¾ç†è®ºæœ€ä¼˜è§£ï¼Œå› ä¸ºç†è®ºæœ€ä¼˜è§£å¾€å¾€ä¾èµ–äºå¯¹æ‰‹æ˜¯å¦è¶³å¤Ÿæ„šè ¢ï¼ŒMinimaxä¸­æˆ‘æ–¹å®Œå…¨æŒæ¡ä¸»åŠ¨ï¼Œå¦‚æœå¯¹æ–¹æ¯ä¸€æ­¥å†³ç­–éƒ½æ˜¯å®Œç¾çš„ï¼Œåˆ™æˆ‘æ–¹å¯ä»¥è¾¾åˆ°é¢„è®¡çš„æœ€å°æŸå¤±æ ¼å±€ï¼Œå¦‚æœå¯¹æ–¹æ²¡æœ‰èµ°å‡ºå®Œç¾å†³ç­–ï¼Œåˆ™æˆ‘æ–¹å¯èƒ½è¾¾åˆ°æ¯”é¢„è®¡çš„æœ€æ‚²è§‚æƒ…å†µæ›´å¥½çš„ç»“å±€ã€‚æ€»ä¹‹æˆ‘æ–¹å°±æ˜¯è¦åœ¨æœ€åæƒ…å†µä¸­é€‰æ‹©æœ€å¥½çš„ã€‚ å®é™…ä¸¾ä¾‹: ç°åœ¨è€ƒè™‘è¿™æ ·ä¸€ä¸ªæ¸¸æˆï¼šæœ‰ä¸‰ä¸ªç›˜å­Aã€Bå’ŒCï¼Œæ¯ä¸ªç›˜å­åˆ†åˆ«æ”¾æœ‰ä¸‰å¼ çº¸å¸ã€‚Aæ”¾çš„æ˜¯1ã€20ã€50ï¼›Bæ”¾çš„æ˜¯5ã€10ã€100ï¼›Cæ”¾çš„æ˜¯1ã€5ã€20ã€‚å•ä½å‡ä¸ºâ€œå…ƒâ€ã€‚æœ‰ç”²ã€ä¹™ä¸¤äººï¼Œä¸¤äººå‡å¯¹ä¸‰ä¸ªç›˜å­å’Œä¸Šé¢æ”¾ç½®çš„çº¸å¸æœ‰å¯ä»¥ä»»æ„æŸ¥çœ‹ã€‚æ¸¸æˆåˆ†ä¸‰æ­¥ï¼š ç”²ä»ä¸‰ä¸ªç›˜å­ä¸­é€‰å–ä¸€ä¸ªã€‚ ä¹™ä»ç”²é€‰å–çš„ç›˜å­ä¸­æ‹¿å‡ºä¸¤å¼ çº¸å¸äº¤ç»™ç”²ã€‚ ç”²ä»ä¹™æ‰€ç»™çš„ä¸¤å¼ çº¸å¸ä¸­é€‰å–ä¸€å¼ ï¼Œæ‹¿èµ°ã€‚ å…¶ä¸­ç”²çš„ç›®æ ‡æ˜¯æœ€åæ‹¿åˆ°çš„çº¸å¸é¢å€¼å°½é‡å¤§ï¼Œä¹™çš„ç›®æ ‡æ˜¯è®©ç”²æœ€åæ‹¿åˆ°çš„çº¸å¸é¢å€¼å°½é‡å°ã€‚ ä¸‹é¢ç”¨Minimaxç®—æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ è§£é¢˜ï¼š å»ºæ ‘ ä¸‹å›¾æ˜¯ä¸Šè¿°ç¤ºä¾‹é—®é¢˜çš„æ ¼å±€æ ‘ï¼š æ³¨æ„ï¼Œç”±äºç¤ºä¾‹é—®é¢˜æ ¼å±€æ•°éå¸¸å°‘ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºå®Œæ•´çš„æ ¼å±€æ ‘ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘å¯ä»¥æ‰¾åˆ°Minimaxç®—æ³•çš„å…¨å±€æœ€ä¼˜è§£ã€‚è€ŒçœŸå®æƒ…å†µä¸­ï¼Œæ ¼å±€æ ‘éå¸¸åºå¤§ï¼Œå³ä½¿æ˜¯è®¡ç®—æœºä¹Ÿä¸å¯èƒ½ç»™å‡ºå®Œæ•´çš„æ ‘ï¼Œå› æ­¤æˆ‘ä»¬å¾€å¾€åªæœç´¢ä¸€å®šæ·±åº¦ï¼Œè¿™æ—¶åªèƒ½æ‰¾åˆ°å±€éƒ¨æœ€ä¼˜è§£ã€‚ æˆ‘ä»¬ä»ç”²çš„è§’åº¦è€ƒè™‘ã€‚å…¶ä¸­æ­£æ–¹å½¢èŠ‚ç‚¹è¡¨ç¤ºè½®åˆ°æˆ‘æ–¹ï¼ˆç”²ï¼‰ï¼Œè€Œä¸‰è§’å½¢è¡¨ç¤ºè½®åˆ°å¯¹æ–¹ï¼ˆä¹™ï¼‰ã€‚ç»è¿‡ä¸‰è½®å¯¹å¼ˆåï¼ˆæˆ‘æ–¹-å¯¹æ–¹-æˆ‘æ–¹ï¼‰ï¼Œå°†è¿›å…¥ç»ˆå±€ã€‚é»„è‰²å¶ç»“ç‚¹è¡¨ç¤ºæ‰€æœ‰å¯èƒ½çš„ç»“å±€ã€‚ä»ç”²æ–¹çœ‹ï¼Œç”±äºæœ€ç»ˆçš„æ”¶ç›Šå¯ä»¥é€šè¿‡çº¸å¸çš„é¢å€¼è¯„ä»·ï¼Œæˆ‘ä»¬è‡ªç„¶å¯ä»¥ç”¨ç»“å±€ä¸­ç”²æ–¹æ‹¿åˆ°çš„çº¸å¸é¢å€¼è¡¨ç¤ºç»ˆæ ¼å±€çš„ä»·å€¼ã€‚ ä¸‹é¢è€ƒè™‘å€’æ•°ç¬¬äºŒå±‚èŠ‚ç‚¹ï¼Œåœ¨è¿™äº›èŠ‚ç‚¹ä¸Šï¼Œè½®åˆ°æˆ‘æ–¹é€‰æ‹©ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥å¼•å…¥å¯é€‰æ‹©çš„æœ€å¤§ä»·å€¼æ ¼å±€ï¼Œå› æ­¤æ¯ä¸ªèŠ‚ç‚¹çš„ä»·å€¼ä¸ºå…¶å­èŠ‚ç‚¹çš„æœ€å¤§å€¼ï¼š è¿™äº›è½®åˆ°æˆ‘æ–¹çš„èŠ‚ç‚¹å«åšmaxèŠ‚ç‚¹ï¼ŒmaxèŠ‚ç‚¹çš„å€¼æ˜¯å…¶å­èŠ‚ç‚¹æœ€å¤§å€¼ã€‚ å€’æ•°ç¬¬ä¸‰å±‚è½®åˆ°å¯¹æ–¹é€‰æ‹©ï¼Œå‡è®¾å¯¹æ–¹ä¼šå°½åŠ›å°†å±€åŠ¿å¼•å…¥è®©æˆ‘æ–¹ä»·å€¼æœ€å°çš„æ ¼å±€ï¼Œå› æ­¤è¿™äº›èŠ‚ç‚¹çš„ä»·å€¼å–å†³äºå­èŠ‚ç‚¹çš„æœ€å°å€¼ã€‚è¿™äº›è½®åˆ°å¯¹æ–¹çš„èŠ‚ç‚¹å«åšminèŠ‚ç‚¹ã€‚ æœ€åï¼Œæ ¹èŠ‚ç‚¹æ˜¯maxèŠ‚ç‚¹ï¼Œå› æ­¤ä»·å€¼å–å†³äºå¶å­èŠ‚ç‚¹çš„æœ€å¤§å€¼ã€‚æœ€ç»ˆå®Œæ•´èµ‹å€¼çš„æ ¼å±€æ ‘å¦‚ä¸‹ï¼š æ€»ç»“ä¸€ä¸‹Minimaxç®—æ³•çš„æ­¥éª¤ï¼š é¦–å…ˆç¡®å®šæœ€å¤§æœç´¢æ·±åº¦Dï¼ŒDå¯èƒ½è¾¾åˆ°ç»ˆå±€ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªä¸­é—´æ ¼å±€ã€‚ åœ¨æœ€å¤§æ·±åº¦ä¸ºDçš„æ ¼å±€æ ‘å¶å­èŠ‚ç‚¹ä¸Šï¼Œä½¿ç”¨é¢„å®šä¹‰çš„ä»·å€¼è¯„ä»·å‡½æ•°å¯¹å¶å­èŠ‚ç‚¹ä»·å€¼è¿›è¡Œè¯„ä»·ã€‚ è‡ªåº•å‘ä¸Šä¸ºéå¶å­èŠ‚ç‚¹èµ‹å€¼ã€‚å…¶ä¸­maxèŠ‚ç‚¹å–å­èŠ‚ç‚¹æœ€å¤§å€¼ï¼ŒminèŠ‚ç‚¹å–å­èŠ‚ç‚¹æœ€å°å€¼ã€‚ æ¯æ¬¡è½®åˆ°æˆ‘æ–¹æ—¶ï¼ˆæ­¤æ—¶å¿…å¤„åœ¨æ ¼å±€æ ‘çš„æŸä¸ªmaxèŠ‚ç‚¹ï¼‰ï¼Œé€‰æ‹©ä»·å€¼ç­‰äºæ­¤maxèŠ‚ç‚¹ä»·å€¼çš„é‚£ä¸ªå­èŠ‚ç‚¹è·¯å¾„ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„ä»·å€¼ä¸º20ï¼Œè¡¨ç¤ºå¦‚æœå¯¹æ–¹æ¯ä¸€æ­¥éƒ½å®Œç¾å†³ç­–ï¼Œåˆ™æˆ‘æ–¹æŒ‰ç…§ä¸Šè¿°ç®—æ³•å¯æœ€ç»ˆæ‹¿åˆ°20å…ƒï¼Œè¿™æ˜¯æˆ‘æ–¹åœ¨Minimaxç®—æ³•ä¸‹æœ€å¥½çš„å†³ç­–ã€‚æ ¼å±€è½¬æ¢è·¯å¾„å¦‚ä¸‹å›¾çº¢è‰²è·¯å¾„æ‰€ç¤ºï¼š å¯¹äºçœŸå®é—®é¢˜ä¸­çš„Minimaxï¼Œå†æ¬¡å¼ºè°ƒå‡ ç‚¹ï¼š çœŸå®é—®é¢˜ä¸€èˆ¬æ— æ³•æ„é€ å‡ºå®Œæ•´çš„æ ¼å±€æ ‘ï¼Œæ‰€ä»¥éœ€è¦ç¡®å®šä¸€ä¸ªæœ€å¤§æ·±åº¦Dï¼Œæ¯æ¬¡æœ€å¤šä»å½“å‰æ ¼å±€å‘ä¸‹è®¡ç®—Då±‚ã€‚ å› ä¸ºä¸Šè¿°åŸå› ï¼ŒMinimaxä¸€èˆ¬æ˜¯å¯»æ‰¾ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£è€Œä¸æ˜¯å…¨å±€æœ€ä¼˜è§£ï¼Œæœç´¢æ·±åº¦è¶Šå¤§è¶Šå¯èƒ½æ‰¾åˆ°æ›´å¥½çš„è§£ï¼Œä½†è®¡ç®—è€—æ—¶ä¼šå‘ˆæŒ‡æ•°çº§è†¨èƒ€ã€‚ ä¹Ÿæ˜¯å› ä¸ºæ— æ³•ä¸€æ¬¡æ„é€ å‡ºå®Œæ•´çš„æ ¼å±€æ ‘ï¼Œæ‰€ä»¥çœŸå®é—®é¢˜ä¸­Minimaxä¸€èˆ¬æ˜¯è¾¹å¯¹å¼ˆè¾¹è®¡ç®—å±€éƒ¨æ ¼å±€æ ‘ï¼Œè€Œä¸æ˜¯åªè®¡ç®—ä¸€æ¬¡ï¼Œä½†å·²è®¡ç®—çš„ä¸­é—´ç»“æœå¯ä»¥ç¼“å­˜ã€‚ Alpha-betaå‰ªæ ç®€å•çš„Minimaxç®—æ³•æœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜å°±æ˜¯è®¡ç®—å¤æ‚æ€§ã€‚ç”±äºæ‰€éœ€æœç´¢çš„èŠ‚ç‚¹æ•°éšæœ€å¤§æ·±åº¦å‘ˆæŒ‡æ•°è†¨èƒ€ï¼Œè€Œç®—æ³•çš„æ•ˆæœå¾€å¾€å’Œæ·±åº¦ç›¸å…³ï¼Œå› æ­¤è¿™æå¤§é™åˆ¶äº†ç®—æ³•çš„æ•ˆæœã€‚ Alpha-betaå‰ªææ˜¯å¯¹Minimaxçš„è¡¥å……å’Œæ”¹è¿›ã€‚é‡‡ç”¨Alpha-betaå‰ªæåï¼Œæˆ‘ä»¬å¯ä¸å¿…æ„é€ å’Œæœç´¢æœ€å¤§æ·±åº¦Då†…çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œåœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°å½“å‰æ ¼å±€å†å¾€ä¸‹ä¸èƒ½æ‰¾åˆ°æ›´å¥½çš„è§£ï¼Œæˆ‘ä»¬å°±åœæ­¢åœ¨è¿™ä¸ªæ ¼å±€åŠä»¥ä¸‹çš„æœç´¢ï¼Œä¹Ÿå°±æ˜¯å‰ªæã€‚ Alpha-betaåŸºäºè¿™æ ·ä¸€ç§æœ´ç´ çš„æ€æƒ³ï¼šæ—¶æ—¶åˆ»åˆ»è®°å¾—å½“å‰å·²ç»çŸ¥é“çš„æœ€å¥½é€‰æ‹©ï¼Œå¦‚æœä»å½“å‰æ ¼å±€æœç´¢ä¸‹å»ï¼Œä¸å¯èƒ½æ‰¾åˆ°æ¯”å·²çŸ¥æœ€ä¼˜è§£æ›´å¥½çš„è§£ï¼Œåˆ™åœæ­¢è¿™ä¸ªæ ¼å±€åˆ†æ”¯çš„æœç´¢ï¼ˆå‰ªæï¼‰ï¼Œå›æº¯åˆ°çˆ¶èŠ‚ç‚¹ç»§ç»­æœç´¢ã€‚ Alpha-betaç®—æ³•å¯ä»¥çœ‹æˆå˜ç§çš„Minimaxï¼ŒåŸºæœ¬æ–¹æ³•æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹é‡‡ç”¨æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼æ„é€ æ ¼å±€æ ‘ï¼Œåœ¨æ„é€ æ¯ä¸ªèŠ‚ç‚¹æ—¶ï¼Œéƒ½ä¼šè¯»å–æ­¤èŠ‚ç‚¹çš„alphaå’Œbetaä¸¤ä¸ªå€¼ï¼Œå…¶ä¸­alphaè¡¨ç¤ºæœç´¢åˆ°å½“å‰èŠ‚ç‚¹æ—¶å·²çŸ¥çš„æœ€å¥½é€‰æ‹©çš„ä¸‹ç•Œï¼Œè€Œbetaè¡¨ç¤ºä»è¿™ä¸ªèŠ‚ç‚¹å¾€ä¸‹æœç´¢æœ€åç»“å±€çš„ä¸Šç•Œã€‚ç”±äºæˆ‘ä»¬å‡è®¾å¯¹æ‰‹ä¼šå°†å±€åŠ¿å¼•å…¥æœ€åç»“å±€ä¹‹ä¸€ï¼Œå› æ­¤å½“betaå°äºalphaæ—¶ï¼Œè¡¨ç¤ºä»æ­¤å¤„å¼€å§‹ä¸è®ºæœ€ç»ˆç»“å±€æ˜¯å“ªä¸€ä¸ªï¼Œå…¶ä¸Šé™ä»·å€¼ä¹Ÿè¦ä½äºå·²çŸ¥çš„æœ€ä¼˜è§£ï¼Œä¹Ÿå°±æ˜¯è¯´å·²ç»ä¸å¯èƒ½æ­¤å¤„å‘ä¸‹æ‰¾åˆ°æ›´å¥½çš„è§£ï¼Œæ‰€ä»¥å°±ä¼šå‰ªæã€‚ ä¸‹é¢åŒæ ·ä»¥ä¸Šè¿°ç¤ºä¾‹ä»‹ç»Alpha-betaå‰ªæç®—æ³•çš„å·¥ä½œåŸç†ã€‚æˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè¯¦è¿°ä½¿ç”¨Alpha-betaçš„æ¯ä¸€ä¸ªæ­¥éª¤ï¼š æ ¹èŠ‚ç‚¹çš„alphaå’Œbetaåˆ†åˆ«è¢«åˆå§‹åŒ–ä¸ºâˆ’âˆâˆ’âˆï¼Œå’Œ+âˆ+âˆã€‚ æ·±åº¦ä¼˜å…ˆæœç´¢ç¬¬ä¸€ä¸ªå­©å­ï¼Œä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥alphaå’Œbetaç»§æ‰¿è‡ªçˆ¶èŠ‚ç‚¹ï¼Œåˆ†åˆ«ä¸ºâˆ’âˆâˆ’âˆï¼Œå’Œ+âˆ+âˆ æœç´¢ç¬¬ä¸‰å±‚çš„ç¬¬ä¸€ä¸ªå­©å­ï¼ŒåŒä¸Šã€‚ æœç´¢ç¬¬å››å±‚ï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œé‡‡ç”¨è¯„ä»·å‡½æ•°å¾—åˆ°æ­¤èŠ‚ç‚¹çš„è¯„ä»·å€¼ä¸º1ã€‚ æ­¤å¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºmaxèŠ‚ç‚¹ï¼Œå› æ­¤æ›´æ–°å…¶alphaå€¼ä¸º1ï¼Œè¡¨ç¤ºæ­¤èŠ‚ç‚¹å–å€¼çš„ä¸‹ç•Œä¸º1ã€‚ å†çœ‹å¦å¤–ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå€¼ä¸º20ï¼Œå¤§äºå½“å‰alphaå€¼ï¼Œå› æ­¤å°†alphaå€¼æ›´æ–°ä¸º20ã€‚ æ­¤æ—¶ç¬¬ä¸‰å±‚æœ€å·¦èŠ‚ç‚¹æ‰€æœ‰å­æ ‘æœç´¢å®Œæ¯•ï¼Œä½œä¸ºmaxèŠ‚ç‚¹ï¼Œæ›´æ–°å…¶çœŸå®å€¼ä¸ºå½“å‰alphaå€¼ï¼š20ã€‚ ç”±äºå…¶çˆ¶èŠ‚ç‚¹ï¼ˆç¬¬äºŒå±‚æœ€å·¦èŠ‚ç‚¹ï¼‰ä¸ºminèŠ‚ç‚¹ï¼Œå› æ­¤æ›´æ–°å…¶çˆ¶èŠ‚ç‚¹betaå€¼ä¸º20ï¼Œè¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹å–å€¼æœ€å¤šä¸º20ã€‚ æœç´¢ç¬¬äºŒå±‚æœ€å·¦èŠ‚ç‚¹çš„ç¬¬äºŒä¸ªå­©å­åŠå…¶å­æ ‘ï¼ŒæŒ‰ä¸Šè¿°é€»è¾‘ï¼Œå¾—åˆ°å€¼ä¸º50ï¼ˆæ³¨æ„ç¬¬äºŒå±‚æœ€å·¦èŠ‚ç‚¹çš„betaå€¼è¦ä¼ é€’ç»™å­©å­ï¼‰ã€‚ç”±äº50å¤§äº20ï¼Œä¸æ›´æ–°minèŠ‚ç‚¹çš„betaå€¼ã€‚ æœç´¢ç¬¬äºŒå±‚æœ€å·¦èŠ‚ç‚¹çš„ç¬¬ä¸‰ä¸ªå­©å­ã€‚å½“çœ‹å®Œç¬¬ä¸€ä¸ªå¶å­èŠ‚ç‚¹åï¼Œå‘ç°ç¬¬ä¸‰ä¸ªå­©å­çš„alpha=betaï¼Œæ­¤æ—¶è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹ä¸‹ä¸ä¼šå†æœ‰æ›´å¥½è§£ï¼Œäºæ˜¯å‰ªæã€‚ ç»§ç»­æœç´¢Båˆ†æ”¯ï¼Œå½“æœç´¢å®ŒBåˆ†æ”¯çš„ç¬¬ä¸€ä¸ªå­©å­åï¼Œå‘ç°æ­¤æ—¶Båˆ†æ”¯çš„alphaä¸º20ï¼Œbetaä¸º10ã€‚è¿™è¡¨ç¤ºBåˆ†æ”¯èŠ‚ç‚¹çš„æœ€å¤§å–å€¼ä¸ä¼šè¶…è¿‡10ï¼Œè€Œæˆ‘ä»¬å·²ç»åœ¨Aåˆ†æ”¯å–åˆ°20ï¼Œæ­¤æ—¶æ»¡è¶³alphaå¤§äºç­‰äºbetaçš„å‰ªææ¡ä»¶ï¼Œå› æ­¤å°†Bå‰ªæã€‚å¹¶å°†Båˆ†æ”¯çš„èŠ‚ç‚¹å€¼è®¾ä¸º10ï¼Œæ³¨æ„ï¼Œè¿™ä¸ª10ä¸ä¸€å®šæ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„çœŸå®å€¼ï¼Œè€Œåªæ˜¯ä¸Šçº¿ï¼ŒBèŠ‚ç‚¹çš„çœŸå®å€¼å¯èƒ½æ˜¯5ï¼Œå¯èƒ½æ˜¯1ï¼Œå¯èƒ½æ˜¯ä»»ä½•å°äº10çš„å€¼ã€‚ä½†æ˜¯å·²ç»æ— æ‰€è°“äº†ï¼Œåæ­£æˆ‘ä»¬çŸ¥é“è¿™ä¸ªåˆ†æ”¯ä¸ä¼šå¥½è¿‡Aåˆ†æ”¯ï¼Œå› æ­¤å¯ä»¥æ”¾å¼ƒäº†ã€‚ åœ¨Cåˆ†æ”¯æœç´¢æ—¶é‡åˆ°äº†ä¸Båˆ†æ”¯ç›¸åŒçš„æƒ…å†µã€‚å› æ­¤è®²Cåˆ†æ”¯å‰ªæã€‚ æ­¤æ—¶æœç´¢å…¨éƒ¨å®Œæ¯•ï¼Œè€Œæˆ‘ä»¬ä¹Ÿå¾—åˆ°äº†è¿™ä¸€æ­¥çš„ç­–ç•¥ï¼šåº”è¯¥èµ°Aåˆ†æ”¯ã€‚ å¯ä»¥çœ‹åˆ°ç›¸æ¯”æ™®é€šMinimaxè¦æœç´¢18ä¸ªå¶å­èŠ‚ç‚¹ç›¸æ¯”ï¼Œè¿™é‡Œåªæœç´¢äº†9ä¸ªã€‚é‡‡ç”¨Alpha-betaå‰ªæï¼Œå¯ä»¥åœ¨ç›¸åŒæ—¶é—´å†…åŠ å¤§Minimaxçš„æœç´¢æ·±åº¦ï¼Œå› æ­¤å¯ä»¥è·å¾—æ›´å¥½çš„æ•ˆæœã€‚å¹¶ä¸”Alpha-betaçš„è§£å’Œæ™®é€šMinimaxçš„è§£æ˜¯ä¸€è‡´çš„ã€‚ æ–‡ç« æ‘˜è‡ª2048-AIç¨‹åºç®—æ³•åˆ†æ","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"},{"name":"RL","slug":"RL","permalink":"https://nymrli.top/tags/RL/"}]},{"title":"Pythonç½‘ç»œç¼–ç¨‹Websocket","slug":"Pythonç½‘ç»œç¼–ç¨‹Websocket","date":"2019-11-24T02:17:11.000Z","updated":"2019-11-28T12:00:00.222Z","comments":true,"path":"2019/11/24/Pythonç½‘ç»œç¼–ç¨‹Websocket/","link":"","permalink":"https://nymrli.top/2019/11/24/Pythonç½‘ç»œç¼–ç¨‹Websocket/","excerpt":"","text":"ç½‘ç»œçŸ¥è¯†â€”â€”Websocket TCP ï¼šé¢å‘è¿æ¥â€”&gt; æ‰“ç”µè¯(ç›¸äº’å›å¤,ä¸€æ¥ä¸€å›)ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯ æ‹¨å· , ä¸‰æ¬¡æ¡æ‰‹ , UDP : é¢å‘æ— è¿æ¥ --&gt; å¯„å¿«é€’(å¯„å‡ºå»å°±ä¸ç®¡äº†) e.g.ç›´æ’­ UDPå››å±‚ç»“æ„ ç½‘ç»œè®¿é—®å±‚(é“¾è·¯å±‚): ç‰©ç†è¿æ¥è®¾å¤‡(ç½‘çº¿)ã€MACåœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰ äº’è”ç½‘å±‚ï¼š IPåœ°å€ï¼ˆå®šä½è®¾å¤‡ï¼‰ ä¼ è¾“å±‚ï¼š port (ç«¯å£å·) : è¡¨ç¤ºé€šä¿¡è¿›ç¨‹,å°†æ•°æ®äº¤ç»™å“ªä¸ªåº”ç”¨å¤„ç† åº”ç”¨å±‚ï¼š è‡ªå·±å®šä¹‰çš„åè®®ï¼ˆå¤„ç†å­—ç¬¦ä¸²æ¶ˆæ¯çš„æ–¹æ³•ï¼‰ å¥—æ¥å­—(socket) ï¼š ç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶ ï¼Œ å†™ç½‘ç»œåº”ç”¨ç¨‹åºçš„æ¥å£ï¼Œå†™å…¥åå°±æ˜¯å‘é€ï¼Œæ¥æ”¶å°±æ˜¯è¯»å–ã€‚ ç±»ä¼¼äº esp8266å§â€¦ åŸºæœ¬çš„socketæ“ä½œ 1234567891011121314import sockets = socket.socket(socket.AF_INET,socket.SOCK_DGRAM) '''å‚æ•°è¯´æ˜:AF_INET IPv4----STREAM TCPSOCK_DGRAM UDP,æ— listenã€accpet'''server_addr = ('127.0.0.1',8888) # æœ¬åœ°å›ç¯åœ°å€ , ç«¯å£s.bind(server_addr) # ç»‘å®šã€ä¼ å…¥ä¿¡æ¯data, cilent_addr = s.recvfrom(1024) # BUF_SIZEæŒ‡å®šæ¥æ”¶æ•°æ®é•¿åº¦ , (æ•°æ®å†…å®¹,å®¢æˆ·ç«¯åœ°å€)s.sendto(data,cilent_addr) # ç»™å®¢æˆ·ç«¯å‘é€æ•°æ® 12345678910import socketbuf = 1024ADDR = (\"127.0.0.1\", 8999)tcpSock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)tcpSock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)tcpSock.bind(ADDR)tcpSock.listen(5)conn, addr = tcpSock.accept() ä»€ä¹ˆæ˜¯webscoketï¼Ÿ WebSocket æ˜¯ HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®ã€‚HTML5 WebSocket è®¾è®¡å‡ºæ¥çš„ç›®çš„å°±æ˜¯è¦å–ä»£è½®è¯¢å’Œ Comet æŠ€æœ¯ï¼Œä½¿å®¢æˆ·ç«¯æµè§ˆå™¨å…·å¤‡åƒ C/S æ¶æ„ä¸‹æ¡Œé¢ç³»ç»Ÿçš„å®æ—¶é€šè®¯èƒ½åŠ›ã€‚ WebSocket ä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å˜å¾—æ›´åŠ ç®€å•ï¼Œå…è®¸æœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚åœ¨WebSocket API ä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œä¸¤è€…ä¹‹é—´å°±ç›´æ¥å¯ä»¥åˆ›å»ºæŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ï¼Œå…¶æœ¬è´¨æ˜¯ä¿æŒTCPè¿æ¥ã€‚ å®¢æˆ·ç«¯ : å‘é€æ•°æ®ã€æ¥æ”¶è¿”å›æ•°æ®ç«¯ æœåŠ¡ç«¯: å¤„ç†æ•°æ®ç«¯ æœåŠ¡ç«¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import socket,base64,hashlibdef get_headers(data): '''æå–è¯·æ±‚å¤´,å°†è¯·æ±‚å¤´è½¬æ¢ä¸ºå­—å…¸''' header_dict = &#123;&#125; data = str(data,encoding=\"utf-8\") header,body = data.split(\"\\r\\n\\r\\n\",1) header_list = header.split(\"\\r\\n\") for i in range(0,len(header_list)): if i == 0: if len(header_list[0].split(\" \")) == 3: header_dict['method'],header_dict['url'],header_dict['protocol'] = header_list[0].split(\" \") else: k,v=header_list[i].split(\":\",1) header_dict[k]=v.strip() return header_dictsock = socket.socket()sock.setsockopt(socket.SOL_SOCKET,socket.SO_REUSEADDR,1)# æŒ‡å®šIPå’Œä¾¦å¬ç«¯å£Portsock.bind((\"127.0.0.1\",8888))sock.listen(5)#ç­‰å¾…ç”¨æˆ·è¿æ¥conn,addr = sock.accept()print(\"conn from \",conn,addr)#è·å–æ¡æ‰‹æ¶ˆæ¯ï¼Œmagic string ,sha1åŠ å¯†#å‘é€ç»™å®¢æˆ·ç«¯#æ¡æ‰‹æ¶ˆæ¯data = conn.recv(8096)headers = get_headers(data)# å¯¹è¯·æ±‚å¤´ä¸­çš„sec-websocket-keyè¿›è¡ŒåŠ å¯†,éœ€è¦è¿”å›çš„å¤´response_tpl = \"HTTP/1.1 101 Switching Protocols\\r\\n\" \\ \"Upgrade:websocket\\r\\n\" \\ \"Connection: Upgrade\\r\\n\" \\ \"Sec-WebSocket-Accept: %s\\r\\n\" \\ \"WebSocket-Location: ws://%s%s\\r\\n\\r\\n\"# magic_stringä¸ºä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²magic_string = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11'# åŠ å¯†value = headers['Sec-WebSocket-Key'] + magic_stringac = base64.b64encode(hashlib.sha1(value.encode('utf-8')).digest())# è¿”å›çš„ä¿¡æ¯response_str = response_tpl % (ac.decode('utf-8'), headers['Host'], headers['url'])# å“åº”ã€æ¡æ‰‹ã€‘ä¿¡æ¯conn.send(bytes(response_str, encoding='utf-8'))#å¤åˆ¶ä»£ç  å®¢æˆ·ç«¯ Python 1234567891011121314151617try: import threadexcept ImportError: import _thread as threadimport time# import websocketimport websocket# ws = websocket.WebSocket()ws = websocket.create_connection(\"ws://127.0.0.1:8999/\")# ws.connect(\"ws://127.0.0.1:8999/\")data = &#123;\"body\":&#123;\"address\":\"é™•è¥¿çœ\"&#125;&#125;ws.send(json.dumps(data)) #jsonè½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå¿…é¡»è½¬åŒ–while True: data = ws.recv() print(data) Java Script 1234567891011121314151617181920212223&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt; &lt;script&gt; ws =new WebSocket(\"ws://127.0.0.1:8888\"); ws.onopen = function (ev) &#123; //è‹¥æ˜¯è¿æ¥æˆåŠŸï¼Œonopenå‡½æ•°ä¼šæ‰§è¡Œ console.log(ev) &#125; ws.onmessage = function (ev) &#123; //è‹¥æ˜¯è¿æ¥æˆåŠŸï¼Œonopenå‡½æ•°ä¼šæ‰§è¡Œ console.log(ev) &#125; &lt;/script&gt;&lt;/html&gt; å¤§ç«¯å’Œå°ç«¯æ¨¡å¼ ç½‘ç»œé€šä¿¡æ—¶ é€šå¸¸ä½¿ç”¨å¤§ç«¯ è§£æwebsocketåè®® ä½¿ç”¨ã€åˆ›å»ºdemoï¼š é•¿è¿æ¥ 12345678910111213141516171819202122232425262728293031import websockettry: import threadexcept ImportError: import _thread as threadimport timedef on_message(ws, message): print(message)def on_error(ws, error): print(error)def on_close(ws): print(\"### closed ###\")def on_open(ws): def run(*args): ws.send(\"hello1\") time.sleep(1) ws.close() thread.start_new_thread(run,())if __name__ == \"__main__\": websocket.enableTrace(True) ws = websocket.WebSocketApp(\"ws://echo.websocket.org/\", on_message = on_message, on_error = on_error, on_close = on_close) ws.on_open = on_open ws.run_forever(ping_interval=60,ping_timeout=5) â–² Pythonçš„websocketä»£ç æ˜¯ä»¿js websocketå†™æ³•çš„ï¼Œé‡æ–°å†™äº†ä¸€éè„šæœ¬ï¼Œæµç•…æ¥å—æ¶ˆæ¯ï¼Œè‡ªåŠ¨é‡è¿å‘é€æŒ‡ä»¤ï¼Œè¿æ¥æ—¶é—´æ˜æ˜¾å‡å°‘ï¼ŒåŸºæœ¬åšåˆ°æ— é—æ¼æ•°æ®ï¼Œä¸ç½‘ç«™jsçš„wsè¿æ¥å®ç°ä¸€æ ·ã€‚ çŸ­é“¾æ¥ï¼š 12345678910from websocket import create_connectionws = create_connection(\"ws://echo.websocket.org/\")print(\"Sending 'Hello, World'...\")ws.send(json.dumps(&#123;\"op\":\"unconfirmed_sub\"&#125;)) # ä¸èƒ½ä½¿ç”¨str()ï¼Œè¦ä»¥jsonæ ¼å¼è¾“å‡ºws.send(\"Hello, World\")print(\"Sent\")print(\"Receiving...\")result = ws.recv()print(\"Received '%s'\" % result)ws.close() ä¸€æ­¥ä¸€æ­¥åˆ†æè¯·æ±‚è¿‡ç¨‹ï¼ï¼ æœåŠ¡ç«¯ï¼ˆsocketæœåŠ¡ç«¯ï¼‰ *1.æœåŠ¡ç«¯å¼€å¯socketæœåŠ¡ç›‘å¬IPå’Œç«¯å£ *3.å…è®¸è¿æ¥ *5.æœåŠ¡ç«¯æ¥æ”¶åˆ°ç‰¹æ®Šå€¼ã€åŠ å¯†sha1ï¼Œç‰¹æ®Šå€¼ï¼Œmigic string=â€œ258EAFA5-E914-47DA-95CA-C5AB0DC85B11â€ã€‘ *6.åŠ å¯†åçš„å€¼å‘é€ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ *2.å®¢æˆ·ç«¯å‘èµ·è¿æ¥è¯·æ±‚ï¼ˆIPå’Œç«¯å£ï¼‰ *4.å®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ªxxxï¼Œã€åŠ å¯†sha1ï¼Œç‰¹æ®Šå€¼ï¼Œmigic string=â€œ258EAFA5-E914-47DA-95CA-C5AB0DC85B11â€ã€‘ï¼Œå‘æœåŠ¡ç«¯å‘é€ä¸€æ®µç‰¹æ®Šå€¼ *7.å®¢æˆ·ç«¯æ¥æ”¶åˆ°åŠ å¯†çš„å€¼ 1. å¯åŠ¨æœåŠ¡ç«¯ 1234567import socketsock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)sock.bind(('127.0.0.1', 8002))sock.listen(5)# ç­‰å¾…ç”¨æˆ·è¿æ¥conn, address = sock.accept() 2. å®¢æˆ·ç«¯è¿æ¥ 1234&lt;script type=\"text/javascript\"&gt; var socket = new WebSocket(\"ws://127.0.0.1:8002/xxoo\"); ...&lt;/script&gt; 3. å»ºç«‹è¿æ¥ã€æ¡æ‰‹ã€‘ è·å–è¯·æ±‚ä¿¡æ¯ 123456789101112131415161718192021222324import socket sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)sock.bind(('127.0.0.1', 8002))sock.listen(5)# è·å–å®¢æˆ·ç«¯socketå¯¹è±¡conn, address = sock.accept()# è·å–å®¢æˆ·ç«¯çš„ã€æ¡æ‰‹ã€‘ä¿¡æ¯data = conn.recv(1024)b'''GET /chatsocket HTTP/1.1Host: 127.0.0.1:8002Connection: UpgradePragma: no-cacheCache-Control: no-cacheUpgrade: websocketOrigin: http://localhost:63342Sec-WebSocket-Version: 13Sec-WebSocket-Key: mnwFxiOlctXFN/DeMt1Amg==Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits''' è¯·æ±‚å’Œå“åº”çš„ã€æ¡æ‰‹ã€‘ä¿¡æ¯éœ€è¦éµå¾ªè§„åˆ™ï¼š ä»è¯·æ±‚ã€æ¡æ‰‹ã€‘ä¿¡æ¯ä¸­æå– Sec-WebSocket-Key åˆ©ç”¨magic_string å’Œ Sec-WebSocket-Key è¿›è¡Œhmac1åŠ å¯†ï¼Œå†è¿›è¡Œbase64åŠ å¯† å°†åŠ å¯†ç»“æœå“åº”ç»™å®¢æˆ·ç«¯ æ³¨ï¼šmagic stringä¸ºï¼š258EAFA5-E914-47DA-95CA-C5AB0DC85B11 æå–Sec-WebSocket-Keyå€¼å¹¶åŠ å¯†ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import socketimport base64import hashlib def get_headers(data): \"\"\" å°†è¯·æ±‚å¤´æ ¼å¼åŒ–æˆå­—å…¸ :param data: :return: \"\"\" header_dict = &#123;&#125; data = str(data, encoding='utf-8') for i in data.split('\\r\\n'): print(i) header, body = data.split('\\r\\n\\r\\n', 1) header_list = header.split('\\r\\n') for i in range(0, len(header_list)): if i == 0: if len(header_list[i].split(' ')) == 3: header_dict['method'], header_dict['url'], header_dict['protocol'] = header_list[i].split(' ') else: k, v = header_list[i].split(':', 1) header_dict[k] = v.strip() return header_dict sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)sock.bind(('127.0.0.1', 8002))sock.listen(5) conn, address = sock.accept()data = conn.recv(1024)headers = get_headers(data) # æå–è¯·æ±‚å¤´ä¿¡æ¯# å¯¹è¯·æ±‚å¤´ä¸­çš„sec-websocket-keyè¿›è¡ŒåŠ å¯†response_tpl = \"HTTP/1.1 101 Switching Protocols\\r\\n\" \\ \"Upgrade:websocket\\r\\n\" \\ \"Connection: Upgrade\\r\\n\" \\ \"Sec-WebSocket-Accept: %s\\r\\n\" \\ \"WebSocket-Location: ws://%s%s\\r\\n\\r\\n\"magic_string = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11'value = headers['Sec-WebSocket-Key'] + magic_stringac = base64.b64encode(hashlib.sha1(value.encode('utf-8')).digest())response_str = response_tpl % (ac.decode('utf-8'), headers['Host'], headers['url'])# å“åº”ã€æ¡æ‰‹ã€‘ä¿¡æ¯conn.send(bytes(response_str, encoding='utf-8')) åªæœ‰åœ¨æœåŠ¡ç«¯åˆå‘å›&quot;å“åº”&quot;çš„æ¡æ‰‹ä¿¡æ¯åï¼Œæ‰ç®—å»ºç«‹äº†é“¾æ¥ã€‚æ¡æ‰‹çš„ä½œç”¨æ˜¯ä¿è¯é€šä¿¡åŒæ–¹ä½¿ç”¨çš„åè®®ç›¸åŒ 4.å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ”¶å‘æ•°æ® 12345678910111213141516171819æ•°æ®æŠ¥å†…å®¹ï¼Œç¬¬ä¸€è¡Œä¸ºå­—èŠ‚ï¼Œç¬¬äºŒè¡Œä¸ºç›¸åº”çš„æ¯ä¸€ä½ã€‚0 1 2 3 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1+-+-+-+-+-------+-+-------------+-------------------------------+|F|R|R|R| opcode|M| Payload len | Extended payload length ||I|S|S|S| (4) |A| (7) | (16/64) ||N|V|V|V| |S| | (if payload len==126/127) || |1|2|3| |K| | |+-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +| Extended payload length continued, if payload len == 127 |+ - - - - - - - - - - - - - - - +-------------------------------+| |Masking-key, if MASK set to 1 |+-------------------------------+-------------------------------+| Masking-key (continued) | Payload Data |+-------------------------------- - - - - - - - - - - - - - - - +: Payload Data continued ... :+ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +| Payload Data continued ... |+---------------------------------------------------------------+ å®˜ç½‘ç»™å‡ºçš„è§£æè§„åˆ™ The MASK bit simply tells whether the message is encoded. Messages from the client must be masked, so your server should expect this to be 1. (In fact, section 5.1 of the spec says that your server must disconnect from a client if that client sends an unmasked message.) When sending a frame back to the client, do not mask it and do not set the mask bit. Weâ€™ll explain masking later. *Note: You have to mask messages even when using a secure socket.*RSV1-3 can be ignored, they are for extensions. The opcode field defines how to interpret the payload data: 0x0 for continuation, 0x1 for text (which is always encoded in UTF-8), 0x2 for binary, and other so-called â€œcontrol codesâ€ that will be discussed later. In this version of WebSockets, 0x3 to 0x7 and 0xB to 0xF have no meaning. The FIN bit tells whether this is the last message in a series. If itâ€™s 0, then the server will keep listening for more parts of the message; otherwise, the server should consider the message delivered. More on this later. Decoding Payload Length To read the payload data, you must know when to stop reading. Thatâ€™s why the payload length is important to know. Unfortunately, this is somewhat complicated. To read it, follow these steps: Read bits 9-15 (inclusive) and interpret that as an unsigned integer. If itâ€™s 125 or less, then thatâ€™s the length; youâ€™re done. If itâ€™s 126, go to step 2. If itâ€™s 127, go to step 3. Read the next 16 bits and interpret those as an unsigned integer. Youâ€™re done. Read the next 64 bits and interpret those as an unsigned integer (The most significant bit MUST be 0). Youâ€™re done. Reading and Unmasking the Data If the MASK bit was set (and it should be, for client-to-server messages), read the next 4 octets (32 bits); this is the masking key. Once the payload length and masking key is decoded, you can go ahead and read that number of bytes from the socket. Letâ€™s call the data ENCODED, and the key MASK. To get DECODED, loop through the octets (bytes a.k.a. characters for text data) of ENCODED and XOR the octet with the (i modulo 4)th octet of MASK. In pseudo-code (that happens to be valid JavaScript): var DECODED = â€œâ€; for (var i = 0; i &lt; ENCODED.length; i++) { DECODED[i] = ENCODED[i] ^ MASK[i % 4]; } Now you can figure out what DECODED means depending on your application. è·å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ã€è§£åŒ…ã€‘ 123456789101112131415161718192021222324252627282930313233def analyze_info(info): # å¤„ç†æ•°æ®å¤´ # maskå 4ä¸ªå­—èŠ‚ï¼Œåœ¨ç¡®å®šæ•°æ®å¤´çš„é¦–éƒ¨éœ€è¦å å¤šå°‘å­—èŠ‚åï¼Œå†å‘åæ¨4ä¸ªå­—èŠ‚ # maskä¹‹åçš„å°±æ˜¯æ•°æ®çš„çœŸæ­£å†…å®¹ï¼Œä½†éœ€è¦æ ¹æ®è§„åˆ™è¿›è¡Œè§£æ payload_len = info[1] &amp; 127 if payload_len == 126: # payload_len==126é¦–éƒ¨ä¿¡æ¯è¿˜è¦æ‹“å±•2ä¸ªå­—èŠ‚(16 bits) # è§ä¸Šæ–‡çš„ Decoding Payload Length-2 extend_payload_len = info[2:4] mask = info[4:8] decoded = info[8:] elif payload_len == 127: # payload_len==127é‚£ä¹ˆéœ€è¦å†æ‹“å±•8ä¸ªå­—èŠ‚(64 bits) # è§ä¸Šæ–‡çš„ Decoding Payload Length-3 extend_payload_len = info[2:10] mask = info[10:14] decoded = info[14:] else: extend_payload_len = None mask = info[2:6] decoded = info[6:] ''' var DECODED = \"\"; for (var i = 0; i &lt; ENCODED.length; i++) &#123; DECODED[i] = ENCODED[i] ^ MASK[i % 4]; &#125; ''' bytes_list = bytearray() for i in range(len(decoded)): chunk = decoded[i] ^ mask[i % 4] bytes_list.append(chunk) content = str(bytes_list, encoding='utf-8') return content å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€å°åŒ…ã€‘ 123456789101112131415161718192021def send_msg(conn, msg_bytes): \"\"\" WebSocketæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ :param conn: å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ç«¯çš„socketå¯¹è±¡,å³ï¼š conn,address = socket.accept() :param msg_bytes: å‘å®¢æˆ·ç«¯å‘é€çš„å­—èŠ‚ :return: \"\"\" import struct token = b\"\\x81\" length = len(msg_bytes) if length &lt; 126: token += struct.pack(\"B\", length) elif length &lt;= 0xFFFF: token += struct.pack(\"!BH\", 126, length) else: token += struct.pack(\"!BQ\", 127, length) msg = token + msg_bytes conn.send(msg) return True è½¬è‡ªæ­¦æ²›é½çš„ä½ çœŸçš„äº†è§£WebSocketå—ï¼Ÿ å®Œæ•´DEMOï¼š PythonæœåŠ¡ç«¯ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112#!/usr/bin/env python# -*- coding:utf-8 -*-import socketimport base64import hashlibdef get_headers(data): \"\"\" å°†è¯·æ±‚å¤´æ ¼å¼åŒ–æˆå­—å…¸ :param data: :return: \"\"\" header_dict = &#123;&#125; data = str(data, encoding='utf-8') header, body = data.split('\\r\\n\\r\\n', 1) header_list = header.split('\\r\\n') for i in range(0, len(header_list)): if i == 0: if len(header_list[i].split(' ')) == 3: header_dict['method'], header_dict['url'], header_dict['protocol'] = header_list[i].split(' ') else: k, v = header_list[i].split(':', 1) header_dict[k] = v.strip() return header_dictdef send_msg(conn, msg_bytes): \"\"\" WebSocketæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ :param conn: å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ç«¯çš„socketå¯¹è±¡,å³ï¼š conn,address = socket.accept() :param msg_bytes: å‘å®¢æˆ·ç«¯å‘é€çš„å­—èŠ‚ :return: \"\"\" import struct token = b\"\\x81\" length = len(msg_bytes) if length &lt; 126: token += struct.pack(\"B\", length) elif length &lt;= 0xFFFF: token += struct.pack(\"!BH\", 126, length) else: token += struct.pack(\"!BQ\", 127, length) msg = token + msg_bytes conn.send(msg) return Truedef init_socket(): sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) sock.bind(('127.0.0.1', 8003)) sock.listen(5) conn, address = sock.accept() data = conn.recv(1024) headers = get_headers(data) response_tpl = \"HTTP/1.1 101 Switching Protocols\\r\\n\" \\ \"Upgrade:websocket\\r\\n\" \\ \"Connection:Upgrade\\r\\n\" \\ \"Sec-WebSocket-Accept:%s\\r\\n\" \\ \"WebSocket-Location:ws://%s%s\\r\\n\\r\\n\" value = headers['Sec-WebSocket-Key'] + '258EAFA5-E914-47DA-95CA-C5AB0DC85B11' ac = base64.b64encode(hashlib.sha1(value.encode('utf-8')).digest()) response_str = response_tpl % (ac.decode('utf-8'), headers['Host'], headers['url']) conn.send(bytes(response_str, encoding='utf-8')) return conn, sockdef analyze_info(info): payload_len = info[1] &amp; 127 if payload_len == 126: extend_payload_len = info[2:4] mask = info[4:8] decoded = info[8:] elif payload_len == 127: extend_payload_len = info[2:10] mask = info[10:14] decoded = info[14:] else: extend_payload_len = None mask = info[2:6] decoded = info[6:] bytes_list = bytearray() for i in range(len(decoded)): chunk = decoded[i] ^ mask[i % 4] bytes_list.append(chunk) content = str(bytes_list, encoding='utf-8') return contentdef run(): conn, sock = init_socket() while True: try: info = conn.recv(8096) except Exception as e: info = None if not info: break content = analyze_info(info) send_msg(conn, content.encode('utf-8')) sock.close()if __name__ == '__main__': run() htmlçš„å®¢æˆ·ç«¯ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head lang=\"en\"&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;div&gt; &lt;input type=\"text\" id=\"txt\"/&gt; &lt;input type=\"button\" id=\"btn\" value=\"æäº¤\" onclick=\"sendMsg();\"/&gt; &lt;input type=\"button\" id=\"close\" value=\"å…³é—­è¿æ¥\" onclick=\"closeConn();\"/&gt; &lt;/div&gt; &lt;div id=\"content\"&gt;&lt;/div&gt; &lt;script type=\"text/javascript\"&gt; var socket = new WebSocket(\"ws://127.0.0.1:8003/chatsocket\"); socket.onopen = function () &#123; /* ä¸æœåŠ¡å™¨ç«¯è¿æ¥æˆåŠŸåï¼Œè‡ªåŠ¨æ‰§è¡Œ */ var newTag = document.createElement('div'); newTag.innerHTML = \"ã€è¿æ¥æˆåŠŸã€‘\"; document.getElementById('content').appendChild(newTag); &#125;; socket.onmessage = function (event) &#123; /* æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å‘é€æ•°æ®æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ */ var response = event.data; var newTag = document.createElement('div'); newTag.innerHTML = response; document.getElementById('content').appendChild(newTag); &#125;; socket.onclose = function (event) &#123; /* æœåŠ¡å™¨ç«¯ä¸»åŠ¨æ–­å¼€è¿æ¥æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ */ var newTag = document.createElement('div'); newTag.innerHTML = \"ã€å…³é—­è¿æ¥ã€‘\"; document.getElementById('content').appendChild(newTag); &#125;; function sendMsg() &#123; var txt = document.getElementById('txt'); socket.send(txt.value); txt.value = \"\"; &#125; function closeConn() &#123; socket.close(); var newTag = document.createElement('div'); newTag.innerHTML = \"ã€å…³é—­è¿æ¥ã€‘\"; document.getElementById('content').appendChild(newTag); &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; tornadoåˆæ¢ 123456ws = websocket.WebSocketApp(\"ws://echo.websocket.org/\", on_message = on_message, on_error = on_error, on_close = on_close)ws.on_open = on_openws.run_forever() é•¿è¿æ¥ï¼Œå‚æ•°ä»‹ç»ï¼š ï¼ˆ1ï¼‰url: websocketçš„åœ°å€ã€‚ ï¼ˆ2ï¼‰header: å®¢æˆ·å‘é€websocketæ¡æ‰‹è¯·æ±‚çš„è¯·æ±‚å¤´ï¼Œ{â€˜head1:value1â€™,â€˜head2:value2â€™}ã€‚ ï¼ˆ3ï¼‰on_openï¼šåœ¨å»ºç«‹Websocketæ¡æ‰‹æ—¶è°ƒç”¨çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯è¯¥ç±»æœ¬èº«ã€‚ ï¼ˆ4ï¼‰on_messageï¼šè¿™ä¸ªå¯¹è±¡åœ¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„æ¶ˆæ¯æ—¶è°ƒç”¨ã€‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯è¯¥ç±»æœ¬èº«ï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬ä»æœåŠ¡å™¨è·å–çš„å­—ç¬¦ä¸²ï¼ˆutf-8æ ¼å¼ï¼‰ã€‚ ï¼ˆ5ï¼‰on_errorï¼šè¿™ä¸ªå¯¹è±¡åœ¨é‡åˆ°é”™è¯¯æ—¶è°ƒç”¨ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è¯¥ç±»æœ¬èº«ï¼Œç¬¬äºŒä¸ªæ˜¯å¼‚å¸¸å¯¹è±¡ã€‚ ï¼ˆ6ï¼‰on_closeï¼šåœ¨é‡åˆ°è¿æ¥å…³é—­çš„æƒ…å†µæ—¶è°ƒç”¨ï¼Œå‚æ•°åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯è¯¥ç±»æœ¬èº«ã€‚ ï¼ˆ7ï¼‰on_cont_messageï¼šè¿™ä¸ªå¯¹è±¡åœ¨æ¥æ”¶åˆ°è¿ç»­å¸§æ•°æ®æ—¶è¢«è°ƒç”¨ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼šç±»æœ¬èº«ï¼Œä»æœåŠ¡å™¨æ¥å—çš„å­—ç¬¦ä¸²ï¼ˆutf-8ï¼‰ï¼Œè¿ç»­æ ‡å¿—ã€‚ ï¼ˆ8ï¼‰on_dataï¼šå½“ä»æœåŠ¡å™¨æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶è¢«è°ƒç”¨ï¼Œæœ‰å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼šè¯¥ç±»æœ¬èº«ï¼Œæ¥æ”¶åˆ°çš„å­—ç¬¦ä¸²ï¼ˆutf-8ï¼‰ï¼Œæ•°æ®ç±»å‹ï¼Œè¿ç»­æ ‡å¿—ã€‚ ï¼ˆ9ï¼‰keep_runningï¼šä¸€ä¸ªäºŒè¿›åˆ¶çš„æ ‡å¿—ä½ï¼Œå¦‚æœä¸ºTrueï¼Œè¿™ä¸ªappçš„ä¸»å¾ªç¯å°†æŒç»­è¿è¡Œï¼Œé»˜è®¤å€¼ä¸ºTrueã€‚ ï¼ˆ10ï¼‰get_mask_keyï¼šç”¨äºäº§ç”Ÿä¸€ä¸ªæ©ç ã€‚ ï¼ˆ11ï¼‰subprotocolsï¼šä¸€ç»„å¯ç”¨çš„å­åè®®ï¼Œé»˜è®¤ä¸ºç©ºã€‚ tornado.hello_world Http 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import tornado.ioloopimport tornado.webclass IndexHandler(RequestHandler): # æ­£å¸¸1ï¼ŒæŠ›é”™1ã€5 def set_default_headers(self): print \"è°ƒç”¨äº†set_default_headers()\" # æ­£å¸¸2ï¼ŒæŠ›é”™2 def initialize(self): print \"è°ƒç”¨äº†initialize()\" # æ­£å¸¸3ï¼ŒæŠ›é”™3 def prepare(self): print \"è°ƒç”¨äº†prepare()\" # æ­£å¸¸4ï¼ŒæŠ›é”™4 def get(self): print \"è°ƒç”¨äº†get()\" # æ­£å¸¸4ï¼ŒæŠ›é”™4 def post(self): print \"è°ƒç”¨äº†post()\" self.send_error(200) # æ³¨æ„æ­¤å‡ºæŠ›å‡ºäº†é”™è¯¯ # æ­£å¸¸æ— ã€æŠ›é”™6 def write_error(self, status_code, **kwargs): print \"è°ƒç”¨äº†write_error()\" # æ­£å¸¸5ã€æŠ›é”™7 def on_finish(self): print \"è°ƒç”¨äº†on_finish()\" # å®šä¹‰Httpå¤„ç†ç±»å‹class MainHandler(tornado.web.RequestHandler): # å¤„ç†è·¯ç”±å‚æ•° def initialize(self, subject): self.subject = subject # æ·»åŠ ä¸€ä¸ªå¤„ç†getè¯·æ±‚æ–¹å¼çš„æ–¹æ³• def get(self): # writeæ–¹æ³•æ˜¯å†™åˆ°ç¼“å†²åŒºçš„ self.write(\"Hello, world\") # writeä¼šè‡ªåŠ¨æ£€æµ‹jsonç±»å‹ï¼Œè¿›è¡ŒåŒ…è£…ï¼Œå¹¶è®¾Content-Typeè®¾ç½®ä¸ºapplication/json; charset=UTF-8ã€‚def make_app(): settings = &#123; 'template_path': 'templates', 'static_path': 'static', &#125; return tornado.web.Application([ (r\"/main\", MainHandler, &#123;\"subject\":\"c++\"&#125;), # æŒ‡å®šè·¯ç”±ä¿¡æ¯,è·¯ç”±å‚æ•°ä¼šä¼ å…¥initialize()ä¸­ (r\"/\", IndexHandler), ], debug=True, **settings) # debug=Trueæ—¶ï¼Œæœ‰è‡ªåŠ¨é‡å¯ã€æä¾›è¿½è¸ªä¿¡æ¯ç­‰åŠŸèƒ½if __name__ == \"__main__\": app = make_app() # åˆ›å»ºä¸€ä¸ªåº”ç”¨å¯¹è±¡,å¾—è¿”å›Applicationå¯¹è±¡ app.listen(8888) # è®¾ç½®ç«¯å£ tornado.ioloop.IOLoop.current().start() # å¯åŠ¨webç¨‹åºï¼Œå¼€å§‹ç›‘å¬ç«¯å£çš„è¿æ¥ Websocket 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# â–²ç»§æ‰¿çš„ç±»ä¸ºWebSocketHandlerclass ChatHandler(tornado.websocket.WebSocketHandler): # ç”¨æˆ·å­˜å‚¨å½“å‰èŠå¤©å®¤ç”¨æˆ· waiters = set() # ç”¨äºå­˜å‚¨å†æ—¶æ¶ˆæ¯ messages = [] def open(self): \"\"\" å®¢æˆ·ç«¯è¿æ¥æˆåŠŸæ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ :return: \"\"\" ChatHandler.waiters.add(self) uid = str(uuid.uuid4()) self.write_message(uid) for msg in ChatHandler.messages: content = self.render_string('message.html', **msg) self.write_message(content) def on_message(self, message): \"\"\" å®¢æˆ·ç«¯è¿å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ :param message: :return: \"\"\" msg = json.loads(message) ChatHandler.messages.append(message) for client in ChatHandler.waiters: content = client.render_string('message.html', **msg) client.write_message(content) def on_close(self): \"\"\" å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶ï¼Œï¼Œè‡ªåŠ¨æ‰§è¡Œ :return: \"\"\" ChatHandler.waiters.remove(self) def run(): settings = &#123; 'template_path': 'templates', 'static_path': 'static', &#125; application = tornado.web.Application([ (r\"/\", IndexHandler), (r\"/chat\", ChatHandler), ], **settings) application.listen(8888) tornado.ioloop.IOLoop.instance().start()if __name__ == \"__main__\": run() åŸºäºTornadoâ€”â€”èŠå¤©å®¤ é¡¹ç›®ç»“æ„ 12345678â”‚ app.pyâ”‚â”œâ”€â”€â”€staticâ”‚ jquery-2.1.4.min.jsâ”‚â””â”€â”€â”€templates index.html message.html 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172#!/usr/bin/env python# -*- coding:utf-8 -*-# app.pyimport uuidimport jsonimport tornado.ioloopimport tornado.webimport tornado.websocketclass IndexHandler(tornado.web.RequestHandler): def get(self): self.render('index.html')class ChatHandler(tornado.websocket.WebSocketHandler): # ç”¨æˆ·å­˜å‚¨å½“å‰èŠå¤©å®¤ç”¨æˆ· waiters = set() # ç”¨äºå­˜å‚¨å†æ—¶æ¶ˆæ¯ messages = [] def open(self): \"\"\" å®¢æˆ·ç«¯è¿æ¥æˆåŠŸæ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ :return: \"\"\" ChatHandler.waiters.add(self) uid = str(uuid.uuid4()) self.write_message(uid) for msg in ChatHandler.messages: content = self.render_string('message.html', **msg) self.write_message(content) def on_message(self, message): \"\"\" å®¢æˆ·ç«¯è¿å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ :param message: :return: \"\"\" msg = json.loads(message) ChatHandler.messages.append(message) # å‘å½“å‰åœ¨çº¿çš„æ¯ä¸ªç”¨æˆ·å‘é€æœ€æ–°çš„æ¶ˆæ¯ç•Œé¢ for client in ChatHandler.waiters: content = client.render_string('message.html', **msg) client.write_message(content) def on_close(self): \"\"\" å®¢æˆ·ç«¯å…³é—­è¿æ¥æ—¶ï¼Œï¼Œè‡ªåŠ¨æ‰§è¡Œ :return: \"\"\" ChatHandler.waiters.remove(self)def run(): settings = &#123; 'template_path': 'templates', 'static_path': 'static', &#125; application = tornado.web.Application([ (r\"/\", IndexHandler), (r\"/chat\", ChatHandler), ], **settings) application.listen(8888) tornado.ioloop.IOLoop.instance().start()if __name__ == \"__main__\": run() index.html 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;PythonèŠå¤©å®¤&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div&gt; &lt;input type=\"text\" id=\"txt\"/&gt; &lt;input type=\"button\" id=\"btn\" value=\"æäº¤\" onclick=\"sendMsg();\"/&gt; &lt;input type=\"button\" id=\"close\" value=\"å…³é—­è¿æ¥\" onclick=\"closeConn();\"/&gt; &lt;/div&gt; &lt;div id=\"container\" style=\"border: 1px solid #dddddd;margin: 20px;min-height: 500px;\"&gt; &lt;/div&gt; &lt;script src=\"/static/jquery-2.1.4.min.js\"&gt;&lt;/script&gt; &lt;script type=\"text/javascript\"&gt; $(function () &#123; wsUpdater.start(); &#125;); var wsUpdater = &#123; socket: null, uid: null, start: function() &#123; var url = \"ws://127.0.0.1:8888/chat\"; wsUpdater.socket = new WebSocket(url); wsUpdater.socket.onmessage = function(event) &#123; console.log(event); if(wsUpdater.uid)&#123; wsUpdater.showMessage(event.data); &#125;else&#123; wsUpdater.uid = event.data; &#125; &#125; &#125;, showMessage: function(content) &#123; $('#container').append(content); &#125; &#125;; // æŒ‰ä¸‹æäº¤æŒ‰é’®åï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ä¿¡æ¯ï¼ŒæœåŠ¡ç«¯å†å°†æ•°æ®ç»™message.htmlæ¸²æŸ“ function sendMsg() &#123; var msg = &#123; uid: wsUpdater.uid, message: $(\"#txt\").val() &#125;; console.log(JSON.stringify(msg)); wsUpdater.socket.send(JSON.stringify(msg)); &#125;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; message.html 1234&lt;div style=\"border: 1px solid #dddddd;margin: 10px;\"&gt; &lt;div&gt;æ¸¸å®¢&#123;&#123;uid&#125;&#125;&lt;/div&gt; &lt;div style=\"margin-left: 20px;\"&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;&lt;/div&gt; â–² æ•´ä¸ªæ‰§è¡Œæµç¨‹ï¼š æŒ‰ä¸‹æäº¤åè°ƒç”¨html.sendMsgâ€“&gt; æ•°æ®messageâ€“&gt;åœ¨åè‡ªåŠ¨è°ƒç”¨on_messageï¼Œä¼šå°†messageä¼ ç»™massage.htmlæ¸²æŸ“ï¼Œå°†æ¸²æŸ“ç»“æœ(å­—ç¬¦ä¸²)è¿”å›ç»™ç”¨æˆ·(write_message)â€“&gt; å®¢æˆ·ç«¯æ”¶åˆ°æ¶ˆæ¯åè‡ªåŠ¨æ‰§è¡Œhtml.on_messageä¼šè°ƒç”¨html.showMessageï¼ŒæŠŠcontentå³å­—ç¬¦ä¸²(event.data)ç”¨jqueryè¿½åŠ æ˜¾ç¤ºindex.htmlé¡µé¢ä¸Š$('#container').append(content); é™„å½•æ–‡çŒ®: websocketè·å–å®æ—¶æ•°æ®çš„å‡ ç§å¸¸è§é“¾æ¥æ–¹å¼ pythonä½¿ç”¨websocketçš„å‡ ç§æ–¹å¼ Python Web æ¡†æ¶ï¼šTornadoåˆæ¢ â–²Pythonå­¦ä¹ ç¬”è®°â€”â€”Tornadoæ·±å…¥ å®Œæ•´çš„websocketä½¿ç”¨â€”â€”èŠå¤©å®¤ å‘ç‚¹è®°å½•ï¼š 1.create_connectionå¯¼å…¥å¤±è´¥ Q:ImportError: cannot import name 'create_connection' from 'websocket' (unknown location) A:åœ¨ä½¿ç”¨create_connectionä¹‹å‰è¦å®‰è£…websocket_client ,å³ pip install websocket-client ä¸ªäººçš„HTMLå®¢æˆ·ç«¯ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;2048å®¢æˆ·ç«¯&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div align=\"center\"&gt; &lt;input type=\"button\" value=\"â†‘\" name=\"â†‘\" onclick=\"up()\" style=\"height:50px; width:50px;\"&gt; &lt;input type=\"button\" value=\"â†“\" name=\"â†“\" onclick=\"down()\" style=\"height:50px; width:50px;\"&gt; &lt;input type=\"button\" value=\"â†\" name=\"â†\" onclick=\"left()\" style=\"height:50px; width:50px;\"&gt; &lt;input type=\"button\" value=\"â†’\" name=\"â†’\" onclick=\"right()\" style=\"height:50px; width:50px;\"&gt; &lt;/div&gt;&lt;/body&gt; &lt;script src=\"https://code.jquery.com/jquery-3.1.1.min.js\"&gt;&lt;/script&gt; &lt;script type=\"text/javascript\"&gt; $(function () &#123; wsUpdater.start(); &#125;); var wsUpdater = &#123; socket: null, uid: null, start: function () &#123; var url = \"ws://127.0.0.1:8888/game\"; wsUpdater.socket = new WebSocket(url); wsUpdater.socket.onmessage = function (event) &#123; &#125;; wsUpdater.socket.onopen = function (ev) &#123; //è‹¥æ˜¯è¿æ¥æˆåŠŸï¼Œonopenå‡½æ•°ä¼šæ‰§è¡Œ console.log(ev); msg = 'success'; wsUpdater.socket.send(JSON.stringify(msg)); &#125;; wsUpdater.socket.onclose = function () &#123; console.log(\"Clientæ–­å¼€è¿æ¥!\"); &#125;; &#125; &#125;; function up() &#123; wsUpdater.socket.send(0); &#125; function down() &#123; wsUpdater.socket.send(1); &#125; function left() &#123; wsUpdater.socket.send(2); &#125; function right() &#123; wsUpdater.socket.send(3); &#125; &lt;/script&gt;&lt;/html&gt; jså®¢æˆ·ç«¯ å…ˆç”¨npm install wsï¼Œå†è¾“å…¥node doit.jsè¿è¡Œä»£ç  doit.js 12345678910111213141516171819202122232425262728var WebSocket = require('ws');console.log('hello');var wsUpdater = &#123; socket: null, uid: null, start: function () &#123; var url = \"ws://127.0.0.1:8888/game\"; wsUpdater.socket = new WebSocket(url); wsUpdater.socket.onmessage = function (ev) &#123; console.log(ev); game = JSON.parse(ev.data); console.log(game); &#125;; wsUpdater.socket.onopen = function (ev) &#123; //è‹¥æ˜¯è¿æ¥æˆåŠŸï¼Œonopenå‡½æ•°ä¼šæ‰§è¡Œ console.log(ev); msg = 'success'; wsUpdater.socket.send(JSON.stringify(msg)); &#125;; wsUpdater.socket.onclose = function () &#123; console.log(\"Clientæ–­å¼€è¿æ¥!\"); &#125;; &#125;&#125;;wsUpdater.start(); Pythonä»£ç  123456789101112131415161718192021222324252627282930import jsonfrom ws4py.client.threadedclient import WebSocketClientimport multiprocessingfrom core import Gameclass GamePlayer(WebSocketClient): def opened(self): # req = '&#123;\"event\":\"subscribe\", \"channel\":\"eth_usdt.deep\"&#125;' # self.send(req) print(\"è¿æ¥æˆåŠŸ\") def closed(self, code, reason=None): # print(\"Closed down:\", code, reason) print(\"è¿æ¥ä¸­æ–­\") def received_message(self, resp): resp = json.loads(str(resp)) print(resp)if __name__ == '__main__': # in_pipe, out_pipe = multiprocessing.Pipe(True) ws = None try: ws = GamePlayer('ws://127.0.0.1:23456/game') ws.connect() ws.run_forever() except KeyboardInterrupt: ws.close()","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"ç½‘ç»œçŸ¥è¯†","slug":"ç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/ç½‘ç»œçŸ¥è¯†/"}]},{"title":"ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€å—äº¬é‚®ç”µå¤§å­¦åœ¨çº¿æµ‹è¯„ç³»ç»Ÿç¨‹åºè®¾è®¡é‚€è¯·èµ›--","slug":"ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€NOJé‚€è¯·èµ›","date":"2019-11-17T09:43:56.000Z","updated":"2019-11-17T09:58:12.998Z","comments":true,"path":"2019/11/17/ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€NOJé‚€è¯·èµ›/","link":"","permalink":"https://nymrli.top/2019/11/17/ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€NOJé‚€è¯·èµ›/","excerpt":"","text":"ç¬¬äºŒåå…«å±Šâ€œå’Œå·¨è€€é€šæ¯â€NOJé‚€è¯·èµ› ä¸‰äººå›¢é˜Ÿèµ›ï¼Œ æ­£å¥½æœ€è¿‘åœ¨åˆ·PTAï¼Œ äºæ˜¯ä¸€ä¸ªäººæŠ¥åå°è¯•äº†ä¸€ä¸‹ã€‚ ä¸€å…±ACäº†ä¸‰é¢˜ï¼Œ Rank28 C. Battle game ç­¾åˆ°é¢˜ Description: You are playing a game which you will battle with an enemy. As you donâ€™t want to lose, your total power canâ€™t be lower than your enemyâ€™s. Your power is simply added by the power of your soldiers, and all of your soldiersâ€™ power is exactly aa. Now you have known that your enemyâ€™s total power is bb. You want to know how many soldiers you need in order not to lose the battle. Input: A line with two integers a,ba,b, (1â‰¤a,bâ‰¤109)(1â‰¤a,bâ‰¤109). Output: A line with one integer, denotes the minimum number of soldiers you need. Sample Input: 1123 456 Sample Output: 14 ACä»£ç  123456789101112131415161718#include &lt;iostream&gt;using namespace std;int main()&#123; int a, b; while(cin &gt;&gt; a&gt;&gt; b)&#123; int ans=1; if ( b%a != 0) ans= b/a+1;// cout &lt;&lt; b/a+1&lt;&lt; endl; else ans = b/a;// cout &lt;&lt; b/a &lt;&lt; endl; cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125; D. Gomoku Description: Alice and Bob are playing a game called Gomoku (a.k.a. Five in a Row). Alice is sente(black, moves first) and Bob is gote(white, moves second). Alice wants to know whether she can win(have five or more consecutive stones of the same color in a diagonal, vertical, or horizontal row) in one step, and now is Aliceâ€™s turn. It is guranteed that neither Alice or Bob wins currently. Prohibitions are not considered in this problem. Input: The first line contains one integer nn, which denotes the size of the board is nÃ—nnÃ—n. Next nn lines each has a string of length nn, use @ to represent black, O to represent white, + to represent thereâ€™s no stone at that position. Output: If Alice can win in one step, output YES, otherwise output NO. Sample Input: 123456787+++O++++@+@++++O@@@+++++@++++++O@++++OOOO++++++++ Sample Output: 1YES ACä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091#include &lt;iostream&gt;#include &lt;sstream&gt;#include &lt;string&gt;#include &lt;cstdio&gt;#include &lt;stdlib.h&gt;const int maxn = 1e3 + 5;/*7+++O++++@+@++++O@@@+++++@++++++O@++++OOOO++++++++*/using namespace std;char maze[maxn][maxn];bool can=false;const int dirnum = 8;// -&gt; , 2, &lt;- , 8,int xdir[dirnum] = &#123;1, 0, -1, 0, 1, -1, -1, 1&#125;;int ydir[dirnum] = &#123;0, 1, 0, -1, 1, 1, -1, -1&#125;;void dfs(int x, int y, int depth, int dir, int plustime)&#123; if (depth == 5)&#123; can = true;// cout &lt;&lt; x &lt;&lt; y &lt;&lt; endl; return; &#125; if (plustime == 2) return; if (maze[x][y] == 'O') return; if (!maze[x][y]) return; if (can == false)&#123; int xt = xdir[dir] + x; int yt = ydir[dir] + y;// cout &lt;&lt; \" x:\" &lt;&lt; xt &lt;&lt; \" y:\"&lt;&lt; yt &lt;&lt; \" \" &lt;&lt; maze[xt][yt] &lt;&lt; \"plustime:\"&lt;&lt; plustime&lt;&lt; endl; if (maze[xt][yt] == '+' &amp;&amp; plustime==0)&#123; maze[xt][yt] = '@'; dfs(xt, yt, depth+1, dir, plustime+1); maze[xt][yt] = '+'; &#125;else if(maze[xt][yt] == '@' )&#123; dfs(xt, yt, depth+1, dir, plustime); &#125;else return; &#125;else return;&#125;int main()&#123; // 5- 1e3 ios::sync_with_stdio(false); int n; cin &gt;&gt; n; for(int i=1;i&lt;=n;i++)&#123; for(int j=1;j&lt;=n;j++) cin &gt;&gt;maze[i][j]; &#125;// for(int i=1;i&lt;=n;i++)&#123;// for(int j=1;j&lt;=n;j++)// cout &lt;&lt; maze[i][j];// cout &lt;&lt; endl;// &#125; for(int i=1;i&lt;=n;i++)&#123; for(int j=1;j&lt;=n;j++)&#123; if (maze[i][j]== '@')&#123;// cout &lt;&lt; \"test\" &lt;&lt; \"x:\" &lt;&lt; i &lt;&lt; \" y:\"&lt;&lt; j &lt;&lt; \" \"&lt;&lt; maze[i][j]&lt;&lt; endl; for(int k=0; k&lt;dirnum; k++)&#123; int xt = xdir[k] + i; int yt = ydir[k] + j; if (maze[xt][yt]=='@')// cout &lt;&lt; \" in \" &lt;&lt; \"x:\" &lt;&lt; xt &lt;&lt; \" y:\"&lt;&lt; yt &lt;&lt; \" \"&lt;&lt; maze[xt][yt]&lt;&lt; endl; dfs(xt, yt, 2, k, 0); else if (maze[xt][yt] == '+') dfs(xt, yt, 2, k, 1); &#125; &#125;// else cout &lt;&lt; \"new\" &lt;&lt; \"x:\" &lt;&lt; i &lt;&lt; \" y:\"&lt;&lt; j &lt;&lt; \" \"&lt;&lt; maze[i][j]&lt;&lt; endl; &#125; &#125; if (can) printf(\"YES\\n\"); else printf(\"NO\\n\"); return 0;&#125; G. Number è§„å¾‹é¢˜ Description: 0xfaner just learned the factorial today, and the factorial is defined as follows:x!=1Ã—2Ã—â‹¯Ã—xx!=1Ã—2Ã—â‹¯Ã—xx!=1Ã—2Ã—â‹¯Ã—xx!=1Ã—2Ã—â‹¯Ã—xx!=1Ã—2Ã—â‹¯Ã—xx!=1Ã—2Ã—â‹¯Ã—x He found that $10!=362880010!=3628800 $ï¼Œ 20!=243290200817664000020!=243290200817664000020!=2432902008176640000 , the number of trailing zeros is increasing. Now 0xfaner wants to know the the number of trailing zeros of n!n!to each given nn . Input: The only line contains one integer nn ( 1â‰¤nâ‰¤1091â‰¤nâ‰¤109 ). Output: Print the number of trailing zeros of n!n! . Sample Input: 125 Sample Output: 16 AC è§„å¾‹é¢˜ 12345678910111213141516171819202122232425262728293031import java.math.BigInteger;import java.util.Scanner;public class Main &#123; public static int solve(int n)&#123; BigInteger res = new BigInteger(\"1\"); for(int i=1;i&lt;=n;i++)&#123; BigInteger tmp = new BigInteger(String.valueOf(i)); res = res.multiply(tmp); &#125;// System.out.printf(\"%s\\n\",res.bitCount());// System.out.printf(\"%s\\n\",res.bitLength());// System.out.printf(\"%d\\n\",res.byteValue()); String s = res.toString(); int ans = 0; for(int j=s.length()-1;j&gt;=0;j--)&#123; if (s.charAt(j)=='0') ans ++; else break; &#125; return ans; &#125; public static void main(String[] args) &#123; Scanner scanner = new Scanner(System.in); int n = scanner.nextInt(); System.out.printf(\"%d\",solve(n)); &#125; &#125; æ‰§è¡Œåä¸€ç›´TLEï¼Œäºæ˜¯çŒœæµ‹æ˜¯å¦æœ‰è§„å¾‹ ACä»£ç  1234567891011121314151617#include &lt;iostream&gt;typedef long long ll;using namespace std;int main()&#123; ios::sync_with_stdio(false); ll n; while(cin &gt;&gt; n)&#123; ll ans = 0; while(n)&#123; ans += n/5; n /= 5; &#125; cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"}]},{"title":"PATå†²å†²å†²â€”â€”ç”²çº§","slug":"PATå†²å†²å†²â€”â€”ç”²çº§","date":"2019-10-24T10:30:45.000Z","updated":"2020-10-08T05:28:35.497Z","comments":true,"path":"2019/10/24/PATå†²å†²å†²â€”â€”ç”²çº§/","link":"","permalink":"https://nymrli.top/2019/10/24/PATå†²å†²å†²â€”â€”ç”²çº§/","excerpt":"","text":"PATå†²å†²å†²â€”â€”ç”²çº§ PATç”²10çº§ç»ƒä¹ é¢˜ â€”â€”PAT (Advanced Level) Practice PATç”²çº§(Advanced Level)çœŸé¢˜ æŸ³å©¼ ã® blogç»éªŒ saquariusâ€™s blog PATç”²çº§é¢˜ç›®åŠåˆ†ç±»æ€»ç»“ patç”²çº§é¢˜è§£ç›®å½• PATè€ƒè¯•ç»éªŒæ€»ç»“ï¼ˆç”²ä¹™çº§å‡é€‚ç”¨ï¼‰æƒ³æ»¡åˆ†çš„è¯·çœ‹è¿™é‡Œï¼â€”â€”å‰äººç»éªŒ â–²æŠ¥åè´¹256ï¼Œå¯ä»¥åˆ·ç‰›å®¢ç½‘çš„é¢˜æ¥è·å¾—-50çš„ä¼˜æƒ åˆ¸ï¼Œè¯¥ç»ƒä¹ åœºä¸‹çš„æ‰€æœ‰é¢˜ç›®åªè¦é€šè¿‡éƒ½ç®— ç”²çº§ç»ƒä¹ é¢˜ ç”±äºç”²çº§é¢˜ç›®è¾ƒå¤šï¼Œä¹Ÿè¾ƒéš¾ï¼Œå› æ­¤å†³å®šè¿˜æ˜¯å°†ä¸¤è€…åˆ†å¼€å†™ä¸¤ç¯‡æ–‡ç« äº†ã€‚ 1001 A+B Format (20 åˆ†) çœ‹ä¼¼å¾ˆç®€å•çš„ä¸€é“é¢˜ï¼Œä½†å‘ç‚¹ç¡®å®ä¸å°‘ï¼Œä¸€éè¿‡æŒºéš¾çš„ 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; ll m, n; // è€ƒè™‘åˆ°æ¯æ¬¡éƒ½æ˜¯å–åä¸‰ä½ï¼Œæ‰€ä»¥éœ€è¦ç”¨æ ˆæ¥é€†åºè¾“å‡º stack&lt;ll&gt; s; while(scanf(\"%lld%lld\",&amp;m,&amp;n) != EOF)&#123; ll res_ans = m + n; // è¿™è¾¹0å¾—ç‰¹åˆ¤ if (res_ans==0)printf(\"0\"); else if (res_ans&lt;0)&#123; printf(\"-\"); &#125;else ; ll ans = abs(res_ans); while( ans )&#123; ll three = ans%1000; s.push(three); ans /= 1000; &#125; bool first = true; // é€†åºè¾“å‡º while(!s.empty())&#123; ll n = s.top(); s.pop(); // é¦–ä¸ªä¸‰ä½ä¸éœ€è¦è¡¥é›¶ï¼Œå…¶ä»–çš„éƒ½éœ€è¦è¡¥é›¶ if (first) &#123; printf(\"%lld\", n); first = !first; &#125; else printf(\"%03lld\", n); if (!s.empty()) printf(\",\"); &#125; printf(\"\\n\"); &#125; return 0;&#125; 1002 A+B for Polynomials æ¨¡æ‹Ÿé¢˜ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œåˆé‡æ–°æ¸©ä¹ äº†éMapçš„ä½¿ç”¨ã€‚ è¯¥é¢˜å°±ä¸€ä¸ªå‘ç‚¹ï¼šç³»æ•°ä¸º0çš„é¡¹ä¸éœ€è¦æ˜¾ç¤ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;using namespace std;typedef long long ll;int main()&#123; int m, n; std::map&lt;int, float&gt; mp; std::map&lt;int, float&gt;::iterator i; scanf(\"%d\", &amp;m); for (int i = 0; i &lt; m; ++i)&#123; float coef; int exp; scanf(\"%d %f\", &amp;exp, &amp;coef); mp[exp] = coef; &#125; scanf(\"%d\", &amp;n); for (int j = 0; j &lt; n; ++j)&#123; // ä¸¤ä¸ªä¸´æ—¶å˜é‡ float coef; int exp; scanf(\"%d %f\", &amp;exp, &amp;coef); i = mp.find(exp); if ( i != mp.end() )&#123; float sum = i-&gt;second + coef; if ( abs( sum - 0) &lt; 1e-6 )&#123; // â–³å‘ç‚¹:å¦‚æœç³»æ•°ä¸º0,ä¸æ˜¾ç¤º mp.erase(exp); &#125;else mp[exp] = sum; &#125;else&#123; mp[exp] = coef; &#125; &#125; // ä»å°åˆ°å¤§è¾“å‡º // for ( i = mp.begin(); i != mp.end(); ++i) printf(\"%d\", mp.size()); // ä½¿ç”¨åå‘è¿­ä»£å™¨-&gt;ä»å¤§åˆ°å°è¾“å‡º for (std::map&lt;int, float&gt;::reverse_iterator i = mp.rbegin(); i != mp.rend(); ++i)&#123; printf(\" %d %.1f\", i-&gt;first, i-&gt;second); &#125; printf(\"\\n\"); return 0;&#125; 1003 Emergency ä½œä¸ºä¸€ä¸ªåŸå¸‚ç´§æ€¥æ´æ•‘é˜Ÿçš„æŒ‡æŒ¥è€…ï¼Œä½ å¾—åˆ°äº†ä¸€ä¸ªå›½å®¶çš„ç‰¹æ®Šåœ°å›¾ã€‚åœ°å›¾ä¸Šåˆ†æ•£ç€å‡ åº§åŸå¸‚ï¼ŒåŸå¸‚é—´ç”¨é“è·¯è¿æ¥ç€ã€‚æ¯ä¸ªåŸå¸‚æ´æ•‘é˜Ÿçš„æ•°é‡ä»¥åŠä¸¤åº§åŸå¸‚ä¹‹é—´æ¯æ¡é“è·¯çš„é•¿åº¦å·²ç»åœ¨åœ°å›¾ä¸Šæ ‡å‡ºã€‚å½“æŸäº›åŸå¸‚å‘ç”Ÿäº†çªå‘äº‹ä»¶ï¼Œéœ€è¦ä½ çš„å¸®åŠ©æ—¶ï¼Œä½ çš„å·¥ä½œæ˜¯å¸¦é¢†ä½ çš„é˜Ÿä¼å°½å¿«çš„èµ¶åˆ°äº‹å‘ç°åœºï¼Œä¸æ­¤åŒæ—¶ï¼Œå¬é›†å°½å¯èƒ½å¤šçš„åœ¨è·¯ä¸Šçš„é˜Ÿä¼ã€‚ è¾“å…¥ æ¯ä¸ªè¾“å…¥æ–‡ä»¶åŒ…å«ä¸€ä¸ªæµ‹è¯•å®ä¾‹ã€‚æ¯ä¸ªå®ä¾‹çš„ç¬¬ä¸€è¡Œæœ‰å››ä¸ªæ­£æ•´æ•°ï¼šN(&lt;= 500)æ˜¯åŸå¸‚çš„ä¸ªæ•°ï¼ˆåŸå¸‚çš„ç¼–å·ä»0åˆ°N-1ï¼‰ï¼ŒMæ˜¯é“è·¯çš„ä¸ªæ•°ï¼ŒC1å’ŒC2åˆ†åˆ«æ˜¯ä½ ç°åœ¨æ‰€åœ¨çš„åŸå¸‚ä»¥åŠä½ å¿…é¡»å»æ•‘æ´çš„åŸå¸‚ã€‚ä¸‹ä¸€è¡Œæœ‰Nä¸ªæ•´æ•°ï¼Œç¬¬iä¸ªæ•´æ•°æ˜¯ç¬¬iä¸ªåŸå¸‚ä¸­æ•‘æ´é˜Ÿçš„æ•°é‡ã€‚ç„¶åä¸‹é¢æœ‰Mè¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€æ¡é“è·¯ã€‚æ¯ä¸€è¡Œæœ‰ä¸‰ä¸ªæ•´æ•°c1,c2å’ŒLï¼Œåˆ†åˆ«è¡¨ç¤ºé“è·¯è¿æ¥çš„ä¸¤ä¸ªåŸå¸‚ä»¥åŠé“è·¯çš„é•¿åº¦ã€‚ä¿è¯C1åˆ°C2ä¹‹é—´å­˜åœ¨è‡³å°‘ä¸€æ¡è·¯å¾„ã€‚ è¾“å‡º å¯¹äºæ¯ä¸ªæµ‹è¯•å®ä¾‹ï¼Œåœ¨ä¸€è¡Œä¸­è¾“å‡ºä¸¤ä¸ªæ•°å­—ï¼šC1å’ŒC2ä¹‹é—´ä¸åŒçš„æœ€çŸ­è·¯å¾„çš„ä¸ªæ•°ï¼Œä½ èƒ½èšé›†èµ·æ¥çš„æœ€å¤šçš„æ•‘æ´é˜Ÿæ•°é‡ã€‚ ä¸€è¡Œä¸­çš„æ‰€æœ‰æ•°å­—å¿…é¡»è¢«ä¸€ä¸ªç©ºæ ¼åˆ†éš”å¼€ï¼Œåœ¨æ¯è¡Œçš„ç»“å°¾ä¸å…è®¸å‡ºç°ç©ºæ ¼ã€‚ æ€è·¯ï¼šæœ¬é¢˜æ˜¯æ±‚èµ·ç‚¹åˆ°ç›®æ ‡ç‚¹çš„æœ€çŸ­è·¯å¾„çš„æ•°ç›®ï¼Œä»¥åŠæ‰€æœ‰æœ€çŸ­è·¯å¾„ä¸­ç‚¹æƒçš„æœ€å¤§å€¼ï¼Œå¯ç”¨dijkstraç®—æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;#define INF 0x3f3f3fusing namespace std;typedef long long ll;int n, m, s, d;const int maxn = 500+5;/*å…³äºèµ·ç‚¹ä¸ºsçš„è·¯å¾„çš„å˜é‡(è®°å½•çš„éƒ½æ˜¯ä»¥ èµ·ç‚¹s ä¸ºä¸­å¿ƒçš„é‡)ï¼špathl(path_lengthç¼©å†™)å­˜å‚¨ä»èµ·ç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯å¾„çš„è¾¹æƒ(æœ¬ä¾‹ä¸ºèµ·ç‚¹åŸå¸‚åˆ°æ‰€æœ‰åŸå¸‚çš„æœ€çŸ­è·¯å¾„çš„è·ç¦») â€”â€”â€”â€”æœ€çŸ­è·¯maxv(max_handsç¼©å†™)å­˜å‚¨ä»èµ·ç‚¹åˆ°å…¶ä»–ç‚¹çš„å…¨éƒ¨æœ€çŸ­è·¯å¾„ä¸­çš„ç‚¹æƒæœ€å¤§å€¼(æœ¬ä¾‹ä¸ºèµ·ç‚¹åŸå¸‚åˆ°å…¶ä»–åŸå¸‚çš„æ‰€æœ‰æœ€çŸ­è·¯å¾„ä¸­ å³äººæ‰‹æœ€å¤šçš„é‚£æ¡è·¯å¾„çš„äººæ‰‹æ•°) â€”â€”â€”â€” æœ€çŸ­è·¯ä¸­èƒ½è·å¾—æœ€å¤§æƒå€¼çš„èŠ‚ç‚¹æƒå€¼e.g.maxv[3]å³s-&gt;3èƒ½è·å¾—çš„æœ€å¤§æƒå€¼â–²æ ¸å¿ƒæ€æƒ³æ˜¯æ ¹æ®è·¯å¾„æœ€çŸ­æ¥æ›´æ–°çš„,æ‰€ä»¥å³ä½¿v' &lt; v, ä½†åªè¦l' &lt; l,é‚£ä¹ˆä¹Ÿä¼šæ›´æ–°ã€‚å³@77ä»£ç å¤„pathc(path_countç¼©å†™)å­˜å‚¨ä»èµ·ç‚¹åˆ°å…¶ä»–ç‚¹çš„æœ€çŸ­è·¯å¾„çš„æ•°ç›®ï¼› â–³æ ¹æ®é¢˜æ„,é¢å¤–éœ€è¦ç»´æŠ¤çš„å€¼*/int pathc[maxn];int pathl[maxn];int maxv[maxn];/* å›¾ä¿¡æ¯çš„å˜é‡ */// e(edges):ç‚¹é—´çš„è¾¹å…³ç³», åˆå§‹åŒ–é»˜è®¤ä¸º0// visited:åˆ¤æ–­væ˜¯å¦è¢«è®¿é—®è¿‡// å­˜æ”¾èŠ‚ç‚¹væƒå€¼çš„é‡, node_valueint e[maxn][maxn];int visited[maxn];int value[maxn];/** * [dijkstra description] * dijkstraæ±‚æœ€çŸ­è·¯å¾„çš„ç‰¹ç‚¹æ˜¯æ¢ç´¢å½“å‰èŠ‚ç‚¹-&gt;ä¸‹ä¸ªèŠ‚ç‚¹,è¾¹æƒå€¼æœ€å°çš„å°†è¢«å½“åšä¸‹ä¸ªèŠ‚ç‚¹ * æœ€ç»ˆå¯ä»¥æ‰¾å‡ºèŠ‚ç‚¹såˆ°æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ * åŸç†:æ ¹æ®åˆå§‹ç‚¹ï¼ŒæŒ¨ä¸ªçš„æŠŠç¦»åˆå§‹ç‚¹æœ€è¿‘çš„ç‚¹ä¸€ä¸ªä¸€ä¸ªæ‰¾åˆ°å¹¶åŠ å…¥é›†åˆ,é›†åˆä¸­æ‰€æœ‰çš„ç‚¹çš„d[i]éƒ½æ˜¯è¯¥ç‚¹åˆ°åˆå§‹ç‚¹æœ€çŸ­è·¯å¾„é•¿åº¦ * @author mrli 2019-11-09 */void dijkstra()&#123; /* è¿™ä»½dijkstraçš„æ€è·¯ä¸º: ç¬¬ä¸€æ¬¡, for1å…ˆéå†é€‰ä¸­ä¸€ä¸ªèŠ‚ç‚¹v, ç„¶åä½¿ç”¨for2æ‰¾åˆ°éå†, æ‰¾åˆ°ä¸vè·¯å¾„æœ€çŸ­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹v', thenæ›´æ–° ç¬¬äºŒæ¬¡, for1é‚£ä¹ˆæ ¹æ®ä¸ä¸‹ä¸ªèŠ‚ç‚¹è·¯å¾„æœ€çŸ­çš„è§„åˆ™,è¿˜æ˜¯ä¼šæ‰¾åˆ°v', å› æ­¤minI=v', ç„¶åå†æ‰¾v'' ç¬¬äºŒç§: å…ˆå®‰æ’èŠ‚ç‚¹s, è®¾ä¸ªwhile(1) ä»¥å¤–çš„èŠ‚ç‚¹, ä¿å­˜å½“å‰èŠ‚ç‚¹vç¼–å·, ç„¶åéå†,tmpvä¸ºéœ€è¦æ›´æ–°çš„èŠ‚ç‚¹çš„ç¼–å· åŒºåˆ«åœ¨äº æ³•ä¸€:å½“å‰çš„væœªè®¿é—®è¿‡,æ‰€ä»¥è®¾ç½®visited[v]=1,ç„¶åæ‰¾ä¸‹ä¸€ä¸ªtmpv,åœ¨ä¸‹æ¬¡çš„whileå¾ªç¯çš„æ—¶å€™å†è®¾ç½®visited æ³•äºŒ:å½“å‰çš„vå·²ç»æ˜¯visited==1, åœ¨æ‰¾åˆ°tmpvåç›´æ¥è®¾ç½®visited[tmpv]=1, */ // åˆå§‹åŒ–æ•°ç»„ fill(pathl, pathl+ maxn, INF); pathc[s] = 1; pathl[s] = 0; maxv[s] = value[s]; while(1)&#123; /*æ‰¾å‡ºæœ¬è½®å°šæœªç¡®å®šæœ€çŸ­è·¯å¾„çš„åŸå¸‚ä¸­ï¼Œèµ·ç‚¹åˆ°å‰©ä½™åŸå¸‚ä¸­ï¼Œè·ç¦»æœ€å°minlçš„é‚£ä¸ªåŸå¸‚minIã€‚ å¦‚æœminlæ˜¯æ— ç©·å¤§ï¼Œè¯æ˜èµ·ç‚¹åŸå¸‚ä¸å‰©ä½™åŸå¸‚å‡ä¸å¯è¾¾ï¼Œå³ä¸è¿é€šï¼› å¦‚æœminIå°±æ˜¯ç›®æ ‡åŸå¸‚dï¼Œåˆ™è¡¨æ˜å·²ç»ç¡®å®šèµ·ç‚¹åŸå¸‚åˆ°ç›®æ ‡åŸå¸‚çš„æœ€çŸ­è·¯å¾„ï¼Œæå‰ç»“æŸå¯»æ‰¾ã€‚ å¦åˆ™ï¼Œå°†æœ¬è½®èƒ½ç¡®å®šæœ€çŸ­è·¯å¾„çš„åŸå¸‚minIè®¾ä¸ºå·²ç»å¤„ç†å¥½,v[minI]=1ï¼› */ int minl = INF, minI = -1; // ä»¥sèŠ‚ç‚¹ä¸ºä¾‹, å…ˆéå†è¾¹å…¶ä»–æœªè®¿é—®è¿‡çš„èŠ‚ç‚¹,æ‰¾åˆ°å…¶ä¸­è¾¹æƒå€¼æœ€å°çš„ä½œä¸ºä¸‹ä¸€ä¸ªè®¿é—®èŠ‚ç‚¹ // é¦–å…ˆç¬¬ä¸€ä¸ªè®¿é—®çš„è‚¯å®šæ˜¯sèŠ‚ç‚¹ for (int i = 0; i &lt; n; ++i)&#123; if (visited[i] == 1) continue; if (pathl[i] &lt; minl)&#123; minl = pathl[i]; minI = i; &#125; &#125; // ç»ˆæ­¢æ¡ä»¶: // 1.åœ¨ dijkstra ç®—æ³•é‡Œ, å¦‚æœèŠ‚ç‚¹å·²ç»åˆ¤æ–­åˆ°ç»ˆç‚¹äº†, é‚£ä¹ˆåˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„å°±å·²ç»è¢«è®¡ç®—å‡ºæ¥äº†,æ­¤æ—¶å¯ä»¥ç»“æŸ // 2.å½“å‰å¾ªç¯å…¨æ˜¯Visited == 1çš„èŠ‚ç‚¹,æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«éå†è¿‡äº†, å¾ªç¯ç»“æŸ if (minI == d || minl== INF) break; visited[minI] = 1; // minIèŠ‚ç‚¹-&gt;ä¸‹ä¸ªèŠ‚ç‚¹ for (int i = 0; i &lt; n; ++i)&#123; // åœ¨æœªè¾¾ã€ä¸”å¯è¾¾çš„èŠ‚ç‚¹ä¸­è€ƒè™‘ï¼Œå¦åˆ™continue if( visited[i] == 1 || e[minI][i] == 0) continue; // å½“èŠ‚ç‚¹minIçš„æœ€çŸ­è·¯å¾„ + å½“å‰minI-&gt;ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„è¾¹æƒå€¼ int tmpl = pathl[minI] + e[minI][i]; int tmpv = value[i] + maxv[minI]; // åˆ¤æ–­æ˜¯å¦è¦æ›´æ–°, å¦‚æœå½“å‰è·¯å¾„lå°äºä¹‹å‰çš„è¯,é‚£ä¹ˆæ›´æ–° if(tmpl &lt; pathl[i])&#123; pathl[i] = tmpl; maxv[i] = tmpv; pathc[i] = pathc[minI]; &#125; // å¦‚æœé•¿åº¦æ˜¯ç›¸ç­‰çš„,é‚£ä¹ˆæœ€å¤§åŒ–Value else if (tmpl == pathl[i])&#123; pathc[i] += pathc[minI]; if (tmpv &gt; maxv[i]) maxv[i] = tmpv; &#125; &#125; &#125;&#125;int main()&#123; scanf(\"%d %d %d %d\", &amp;n, &amp;m, &amp;s, &amp;d); for (int i = 0; i &lt; n; ++i)&#123; scanf(\"%d\", &amp;value[i]); &#125; for (int i = 0; i &lt; m; ++i)&#123; int v1, v2, l; scanf(\"%d %d %d\", &amp;v1, &amp;v2, &amp;l); e[v1][v2] = l; e[v2][v1] = l; &#125; dijkstra(); // æœ€çŸ­çš„è·¯å¾„, æœ€å¤§çš„æƒå€¼ printf(\"%d %d\\n\", pathc[d], maxv[d]); return 0;&#125; å¤§ä½¬çš„ä»£ç (å¸¦æ³¨é‡Š) 1004 Counting Leaves ä¸€ä¸ªå®¶åº­çš„å±‚çº§ç»“æ„ç»å¸¸è¢«è¡¨ç°ä¸ºä¸€ä¸ªå®¶è°±æ ‘ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç»Ÿè®¡è¿™äº›å®¶åº­æˆå‘˜ä¸­è°æ²¡æœ‰å­©å­ã€‚ è¾“å…¥ æ¯ä¸ªè¾“å…¥æ–‡ä»¶åŒ…å«ä¸€ä¸ªæµ‹è¯•å®ä¾‹ã€‚æ¯ä¸ªå®ä¾‹å¼€å§‹çš„ä¸€è¡ŒåŒ…å«Nå’ŒMï¼ŒNæŒ‡æ ‘ä¸­çš„ç»“ç‚¹ä¸ªæ•°ï¼ˆ0&lt;N&lt;100ï¼‰ï¼ŒMæŒ‡éå¶ç»“ç‚¹çš„ä¸ªæ•°ã€‚ç„¶åä¸‹é¢æœ‰Mè¡Œï¼Œæ¯è¡Œçš„æ ¼å¼å¦‚ä¸‹ï¼š ID K ID[1] ID[2] â€¦ID[K] IDæ˜¯ä¸€ä¸ªä¸¤ä½æ•°çš„æ•°å­—ï¼Œè¡¨ç¤ºä¸€ä¸ªéå¶ç»“ç‚¹ã€‚Kè¡¨ç¤ºå…¶å­©å­çš„æ•°é‡ã€‚éšåæ˜¯ä¸€ä¸ªåºåˆ—ï¼Œåºåˆ—ä¸­æ˜¯è¯¥ç»“ç‚¹çš„å­©å­ç»“ç‚¹çš„ä¸¤ä½æ•°IDã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬æŠŠæ ¹ç»“ç‚¹çš„IDå›ºå®šä¸º01ã€‚ è¾“å‡º å¯¹äºæ¯ä¸ªæµ‹è¯•å®ä¾‹ï¼Œä½ åº”è¯¥è®¡ç®—ä»æ ¹ç»“ç‚¹å¼€å§‹çš„æ¯ä¸€å±‚ä¸­æ²¡æœ‰å­©å­çš„å®¶åº­æˆå‘˜çš„ä¸ªæ•°ã€‚æ•°å­—å¿…é¡»åœ¨ä¸€è¡Œå†…è¾“å‡ºï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œåœ¨æ¯è¡Œç»“å°¾ä¸èƒ½æœ‰å¤šä½™çš„ç©ºæ ¼ã€‚ æµ‹è¯•æ ·ä¾‹è¡¨ç¤ºäº†ä¸€ä¸ªåªæœ‰ä¸¤ä¸ªç»“ç‚¹çš„æ ‘ï¼Œ01æ˜¯æ ¹ç»“ç‚¹ï¼Œ02æ˜¯å®ƒä»…æœ‰çš„å­©å­ã€‚å› æ­¤åœ¨æ ¹ç»“ç‚¹01å±‚çº§ï¼Œæ²¡æœ‰å¶èŠ‚ç‚¹ã€‚å†ä¸‹ä¸€å±‚çº§ï¼Œæœ‰ä¸€ä¸ªå¶ç»“ç‚¹ã€‚ç„¶åæˆ‘ä»¬åº”è¯¥åœ¨ä¸€è¡Œå†…è¾“å‡ºâ€œ0 1â€ã€‚ èŠ‚ç‚¹å¸¦æœ‰å­©å­çš„ä¿¡æ¯ç”¨vectoræ¥æ¨¡æ‹Ÿå›¾ä¸­çš„é‚»æ¥è¡¨å†™æ³•ï¼Œç„¶åç”¨BFSæ¥å®ç°éå† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 100+5;// ç±»ä¼¼é‚»æ¥è¡¨çš„å†™æ³•è®°å½•èŠ‚ç‚¹std::vector&lt;int&gt; v[MAXN];// ç”¨æ¥è®°å½•æ¯ä¸€å±‚çš„å¶å­èŠ‚ç‚¹æ•°int cnt[MAXN];// æ¥è®¡ç®—å±‚æ•°// levelè®°å½•å½“å‰èŠ‚ç‚¹pçš„æ‰€åœ¨å±‚æ•°int level[MAXN];// maxlevelè®°å½•æ·±åº¦0-Nint maxlevel;void bfs()&#123; queue&lt;int&gt; q; // è®¾ç½®èµ·ç‚¹ï¼Œroot==01èŠ‚ç‚¹ q.push(1); while(!q.empty())&#123; int p = q.front(); q.pop(); // è‡ªå·±æ˜¯ä¸ªå¶å­èŠ‚ç‚¹ if(v[p].size() == 0)&#123; cnt[level[p]] ++; maxlevel = max(level[p], maxlevel); &#125;else&#123; // å¦‚æœå½“å‰èŠ‚ç‚¹pä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œ åˆ™ç»§ç»­å‘å…¶å¶å­èŠ‚ç‚¹æ‰©å±• for (int i = 0; i &lt; v[p].size() ; ++i)&#123; q.push(v[p][i]); // pèŠ‚ç‚¹çš„å¶å­èŠ‚ç‚¹çš„å±‚æ•°ä¸ºpèŠ‚ç‚¹å±‚æ•°+1 level[v[p][i]] = level[p] + 1; &#125; &#125; &#125;&#125;int main()&#123; int N, M; cin &gt;&gt; N &gt;&gt; M; while(M--)&#123; int parent, num; cin &gt;&gt; parent &gt;&gt; num; // ç±»ä¼¼é‚»æ¥è¡¨ï¼Œ parentè®°å½•äº†å…¶å­©å­ for (int i = 0; i &lt; num; ++i)&#123; int tmp; cin &gt;&gt; tmp; v[parent].emplace_back(tmp); &#125; &#125; bfs(); // 0ä¸ºç¬¬ä¸€å±‚ for (int i = 0; i &lt;= maxlevel; ++i)&#123; if(i==0) cout &lt;&lt; cnt[i]; else cout &lt;&lt; \" \" &lt;&lt; cnt[i] &lt;&lt; endl; &#125; return 0;&#125; 1005 Spell It Right æ„Ÿè§‰çªç„¶æ¥äº†ä¸€é“æ”¾æ°´é¢˜ï¼Œå°±çº¯æ¨¡æ‹Ÿ å‘ç‚¹ï¼šå…¨0çš„æ—¶å€™ç‰¹åˆ¤ä¸ºzero 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;bits/stdc++.h&gt;#include&lt;algorithm&gt;using namespace std;#define maxn 100 + 5int arr[maxn];string num[10] = &#123;\"zero\" ,\"one\" ,\"two\" ,\"three\", \"four\" ,\"five\", \"six\", \"seven\", \"eight\", \"nine\"&#125;;int main() &#123; int sum = 0; char ch = getchar(); stack&lt;int&gt; s; while( ch != '\\n' )&#123; int tmp = ch - '0'; sum += tmp; ch = getchar(); &#125; // å‘ç‚¹,éœ€è¦ç‰¹åˆ¤0 if(sum==0)&#123; printf(\"zero\\n\"); &#125;else&#123; while(sum)&#123; int ge = sum %10; sum /= 10; s.push(ge); &#125; bool first = true; while(!s.empty())&#123; int ans = s.top(); s.pop(); if (first) &#123; printf(\"%s\", num[ans].c_str()); first = !first; &#125; else printf(\" %s\", num[ans].c_str()); &#125; &#125; printf(\"\\n\"); return 0;&#125; â–²å°ç»“ä¸€ä¸‹: æ¯æ¬¡ç”¨whileæ¥å–ä½çš„æ—¶å€™ï¼Œå¿…é¡»å…ˆåˆ¤æ–­while(xxx)ä¸­çš„xxxæ˜¯å¦åˆå§‹å°±ä¸º0 1006 Sign In and Sign Out (25 åˆ†) æ›´åŠ ç®€å•çš„æ¨¡æ‹Ÿé¢˜ï¼Œç”±äºstringçš„æ¯”è¾ƒç‰¹æ€§å¯ä»¥ç›´æ¥ç”¨æ¥æ¯”è¾ƒæ—¶é—´ï¼Œæ‰€ä»¥å¤„ç†å¾ˆæ–¹ä¾¿ â–³å­¦ä¼šä½¿ç”¨algorithmé‡Œçš„sortèƒ½çœå¾ˆå¤šæ—¶é—´ â–²æ¯”è¾ƒè¿ç®—ç¬¦&lt;é‡è½½ã€æˆ–æ˜¯ç¼–å†™å¤–éƒ¨æ¯”è¾ƒå‡½æ•°ï¼Œéƒ½ä¼šæŒ‰ç…§returné‡Œä¸ºtrueçš„é€»è¾‘æ’åº,å¦‚first.xxx &lt; second.xxxé‚£ä¹ˆå°±æ˜¯ä»å°åˆ°å¤§ 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;bits/stdc++.h&gt;#include&lt;algorithm&gt;using namespace std;struct record&#123; string id; string intime; string outtime;&#125;typedef rc;// æŒ‰ç…§è¿›å…¥çš„æ—¶é—´æ’åº, ä»å°åˆ°å¤§bool cmpin(const rc&amp; f, const rc&amp; s)&#123; return f.intime &lt; s.intime;&#125;// æŒ‰ç…§å‡ºå»çš„æ—¶é—´æ’åº, ä»å¤§åˆ°å°bool cmpout(const rc&amp; f, const rc&amp; s)&#123; return f.outtime &gt; s.outtime;&#125;int main() &#123; int T; std::vector&lt;rc&gt; v; std::vector&lt;rc&gt;::iterator it; cin &gt;&gt; T; while(T--)&#123; rc* p = new rc(); cin &gt;&gt; p-&gt;id &gt;&gt; p-&gt;intime &gt;&gt; p-&gt;outtime; v.emplace_back(*p); &#125; sort(v.begin(), v.end(), cmpin); cout &lt;&lt; v.begin()-&gt;id &lt;&lt; \" \"; sort(v.begin(), v.end(), cmpout); cout &lt;&lt; v.begin()-&gt;id &lt;&lt;endl; // for(it = v.begin(); it!= v.end(); it++)&#123; // cout &lt;&lt; it-&gt;id &lt;&lt; \" \"&lt;&lt; it-&gt;intime &lt;&lt;\" \"&lt;&lt; it-&gt;outtime &lt;&lt; endl; // &#125; return 0;&#125; C++ä¸­sortçš„æ¯”è¾ƒå‡½æ•°å†™æ³• æ³¨æ„ï¼šæ¯”è¾ƒå‡½æ•°å¿…é¡»å†™åœ¨ç±»å¤–éƒ¨ï¼ˆå…¨å±€åŒºåŸŸï¼‰æˆ–å£°æ˜ä¸ºé™æ€å‡½æ•° 1007 Maximum Subsequence Sum Dp, æœ€å¤§å…¬å…±å­ä¸² 12 1008 Elevator æ¨¡æ‹Ÿ 123456789101112131415161718192021222324252627#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 100+5;int order[MAXN];int main()&#123; int N; // æ‰€æœ‰ç”¨æ—¶ int t=0; // ä¸Šä¸€ä¸ªä½ç½® int ptr=0; cin &gt;&gt; N; for(int i = 0; i&lt;N; i++)&#123; cin &gt;&gt; order[i]; &#125; for(int i = 0; i&lt;N; i++)&#123; int res = order[i] - ptr; ptr = order[i]; if(res&gt;0) t+= 6*res + 5; else t += 4*abs(res) + 5; &#125; cout &lt;&lt; t &lt;&lt; endl; return 0;&#125; 1009 Product of Polynomials æ¨¡æ‹Ÿé¢˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;const int maxn = 1e4;struct poly&#123; int exp; double xishu;&#125;arr[maxn];double ans[maxn * 2];int main()&#123; int n, m ; cin &gt;&gt; n; for (int i = 0; i &lt; n; i++) &#123; int e; double a; scanf(\"%d%lf\", &amp;e, &amp;a); arr[i].exp = e; arr[i].xishu += a; &#125; cin &gt;&gt; m ; for (int j = 0; j &lt; m; j++) &#123; int e; double a; scanf(\"%d%lf\", &amp;e, &amp;a); for (int i = 0; i &lt; n; i++) &#123; ans[e + arr[i].exp] += a * arr[i].xishu; &#125; &#125; int number = 0; for (int i = 0; i &lt;= 2000 ; i++) &#123; if (ans[i] != 0.0)&#123; number ++; &#125; &#125; printf(\"%d\", number); for (int i = 2000; i &gt;= 0; i--) &#123; if ( ans[i] != 0.0)&#123; printf(\" %d %.1f\", i, ans[i]); &#125; &#125; return 0;&#125; æµ™å¤§å¤è¯• 123456789101112131415161718192021222324252627282930313233343536373839404142434445/* * @Author: Mrli * @Date: 2020-10-08 10:43:31 * @LastEditTime: 2020-10-08 11:57:09 * @Description: */#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n;const int maxn = 2000;int arr[maxn];int main()&#123; cin &gt;&gt; n; vector&lt;int&gt; v(n+1, 0); for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; v[i]; &#125; arr[0] = v[1]; arr[1] = 1; for (int i = 2; i &lt;= n; i++) &#123; int xarr[maxn]; int carr[maxn]; for (int j = n; j &gt;= 0; j--) &#123; xarr[j + 1] = arr[j]; carr[j] = v[i] *arr[j]; &#125; xarr[0] = 0; for (int j = 0; j &lt;= n; j++) &#123; arr[j] = xarr[j] + carr[j]; &#125; &#125; for (int i = 0; i &lt;= n; i++) &#123; cout &lt;&lt; arr[i] &lt;&lt; \" \"; &#125; return 0;&#125; 1010 Radix æ¨¡æ‹Ÿé¢˜ 123456789101112131415#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 100+5;int order[MAXN];int main()&#123; int N1, N2, tag, radix; cout &lt;&lt;\"Impossible\" &lt;&lt;endl; return 0;&#125; 1011 World Cup Betting æ¨¡æ‹Ÿé¢˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;bits/stdc++.h&gt;#include&lt;algorithm&gt;using namespace std;struct games&#123; double one, two, three;&#125;typedef Gm;int main() &#123; int T=3; double win=1; std::vector&lt;int&gt; v; while(T--)&#123; double arr[3]; int maxi = 0; scanf(\"%lf%lf%lf\",&amp;arr[0], &amp;arr[1], &amp;arr[2]); for (int i = 1; i &lt; 3; ++i)&#123; if (arr[i] &gt; arr[maxi])&#123; maxi = i; &#125; &#125; v.emplace_back(maxi); win *= arr[maxi]; &#125; std::vector&lt;int&gt;::iterator it; for(it= v.begin(); it!= v.end(); it++)&#123; switch(*it)&#123; case 0: printf(\"W \"); break; case 1: printf(\"T \"); break; case 2: printf(\"L \"); break; &#125; &#125; printf(\"%.2lf\\n\", (win*0.65 - 1)*2 ); return 0;&#125; 1012 The Best Rank 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667#include &lt;bits/stdc++.h&gt;#include&lt;algorithm&gt;using namespace std;int N, M;struct Student&#123; int id; // c m e a int g[4], r[4]; char c[4] = &#123;'A', 'C', 'M', 'E'&#125;;&#125;typedef stu;std::vector&lt;stu&gt; v;int num=0;bool cmp(stu &amp;f1 , stu &amp;f2)&#123; return f1.g[num] &gt; f2.g[num];&#125;void getRank()&#123; for (int j = 0; j &lt; 4; ++j)&#123; sort(v.begin(), v.end(), cmp); for (int i = 0; i &lt; N; ++i)&#123; v.at(i).r[num] = i+1; &#125; num++; &#125;&#125;void maxRank(const stu *s)&#123; int best_rank = 0; for (int i = 1; i &lt;4; i++)&#123; if(s-&gt;r[i] &lt; s-&gt;r[best_rank]) best_rank = i; &#125; cout &lt;&lt; s-&gt;r[best_rank] &lt;&lt; \" \" &lt;&lt; s-&gt;c[best_rank] &lt;&lt; endl;&#125;int main() &#123; cin &gt;&gt; N &gt;&gt;M; // scanf(\"%d%d\", &amp;N, &amp;M); for (int i = 0; i &lt; N; ++i)&#123; stu *s = new stu(); cin &gt;&gt; s-&gt;id &gt;&gt; s-&gt;g[1] &gt;&gt; s-&gt;g[2] &gt;&gt; s-&gt;g[3]; s-&gt;g[0] = (s-&gt;g[1] + s-&gt;g[2]+ s-&gt;g[3])/3; v.emplace_back(*s); &#125; getRank(); for (int i = 0; i &lt; M; ++i)&#123; int tmpid; bool find=false; cin &gt;&gt; tmpid; for (int i = 0; i &lt; N; ++i)&#123; if ( v.at(i).id == tmpid) &#123; maxRank(&amp;v.at(i)); find=true; &#125; &#125; if (!find) cout &lt;&lt; \"N/A\" &lt;&lt; endl; &#125; return 0;&#125; 1013 Battle Over Cities In:ç»™å‡ºnä¸ªåŸå¸‚ï¼ŒåŸå¸‚é—´æœ‰mæ¡è·¯ï¼Œkä¸ªè¦æ£€æŸ¥çš„åŸå¸‚ Out:å‡å¦‚è¢«æ£€æŸ¥çš„åŸå¸‚kiè¢«æ”»å ï¼Œåˆ™æ‰€æœ‰ä¸Kiç›¸å…³çš„è·¯çº¿å…¨éƒ¨ç˜«ç—ªï¼Œè¦ä½¿å…¶ä»–åŸå¸‚ä¿æŒè¿é€šï¼Œè‡³å°‘éœ€è¦ä¿®ç¼®å¤šå°‘æ¡è·¯?å³ åˆ é™¤å›¾çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ˜¯å…¶ä»–èŠ‚ç‚¹æˆä¸ºè¿é€šå›¾ï¼Œè‡³å°‘éœ€è¦æ·»åŠ å¤šå°‘æ¡çº¿ è§£æ³•ä¸€:å›¾çš„éå†:DFSè®¡ç®—è¿é€šåˆ†é‡æ•°ç›®==&gt; è®¡ç®—å‡ºè¿é€šåˆ†é‡æ•°Nã€‚å¦‚æœæƒ³è¦æ„æˆè¿é€šå›¾ï¼Œé‚£ä¹ˆéœ€è¦æ·»åŠ res=N-1æ¡çº¿ï¼Œå³æœ€å°‘éœ€è¦N-1æ¡çº¿ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;iomanip&gt;#include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;#define SIZE 1001using namespace std;int p[SIZE][SIZE];bool visit[SIZE];int n; // é¡¶ç‚¹æ•°// æ‰¾åˆ°nodeä¸‹çš„æ‰€æœ‰è¿é€šèŠ‚ç‚¹,æŠŠå…¶æ ‡è®°ä¸ºtruevoid dfs(int node)&#123; visit[node] = true; for (int i = 1; i &lt;= n; ++i)&#123; if ( visit[i] == false &amp;&amp; p[node][i] == 1)&#123; dfs(i); &#125; &#125;&#125;int main(int argc, char const *argv[])&#123; // è¾¹æ•°å’Œcaseæ•° int m ,k; cin &gt;&gt; n &gt;&gt; m &gt;&gt; k; for (int i = 0; i &lt; m; ++i)&#123; int u, v; cin &gt;&gt; u &gt;&gt; v; p[u][v] = p[v][u] = 1; &#125; // case K for (int i = 0; i &lt; k; ++i)&#123; int cnt=0; int tmp; // æ¯æ¬¡éƒ½å¾—é‡ç½®visit å³æ‰€æœ‰åŸå¸‚æœªè¢«éå† fill(visit, visit+SIZE, false); cin &gt;&gt; tmp; visit[tmp] = true; // ä¸è®©tmpè¿›å…¥è€ƒè™‘ for (int j = 1; j &lt;= n; ++j)&#123; if (visit[j] == false)&#123; dfs(j); cnt ++; &#125; &#125; cout &lt;&lt; cnt-1 &lt;&lt; endl; &#125; return 0;&#125; è§£æ³•äºŒ:æ— å‘å›¾çš„è¿é€šæ€§ï¼Œå¯ä»¥è€ƒè™‘å¹¶æŸ¥é›†==&gt; ä½†æ˜¯éœ€è¦æ³¨æ„æœ€åç»“æœçš„å¤„ç†ï¼Œå¹¶æŸ¥é›†åå¯ä»¥çŸ¥é“ç°åœ¨çš„å›¾åˆ†æˆäº†å‡ å—ï¼Œä½†æ˜¯æœ‰ä¸€å—è‚¯å®šæ˜¯è¢«å é¢†çš„é‚£ä¸€ä¸ªåŸå¸‚ï¼Œæ‰€ä»¥ç»“æœè®°å¾—å‡å»è¿™ä¸€å—ï¼Œè¿˜æœ‰ï¼Œä¸¤å—åœ°å›¾è”é€šåªéœ€è¦ä¿®å»ºä¸€æ¡é“è·¯ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œres=å›¾çš„å—æ•°-2ï¼› 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#include&lt;stdio.h&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;using namespace std; const int N=1010; int f[N]; //å­˜å‚¨bossï¼›ç”¨æ¥è®¡ç®—æœ‰å‡ ä¸ªè¿é€šåˆ†é‡çš„int c;int n,m,k;vector&lt;pair&lt;int,int&gt; &gt;a;//å­˜å‚¨åŸå¸‚ä¹‹é—´çš„è¿æ¥(è¾¹)ï¼›int getf(int v)//é€’å½’æŸ¥æ‰¾bossï¼›&#123; if(f[v]==v) return v; else return f[v]=getf(f[v]);&#125; void merge(int u,int v)//åˆå¹¶ï¼›&#123; int t1=getf(u); int t2=getf(v); if(t1!=t2)//bossèŠ‚ç‚¹ä¸åŒå°±åˆå¹¶ï¼› &#123; f[t2]=t1; &#125;&#125; void init()//åˆå§‹åŒ–ï¼›&#123; for(int i=1; i&lt;=n; i++) &#123; f[i]=i;//è‡ªå·±çš„bossæ˜¯è‡ªå·±ï¼› &#125;&#125; // å›¾è¢«åˆ†æˆäº†2éƒ¨åˆ†:// 1.ä¸åŸå¸‚Xç›¸è¿çš„ç‚¹(ä¸ä¼šè¿›è¡Œmerge)ã€ XåŸå¸‚æœ¬èº« (sumçš„ä¸¤ä¸ªç»„æˆéƒ¨åˆ†)// 2.ä¸Xä¸ç›¸è¿çš„(ä¼šè¿›è¡Œmerge)int pan(int x)&#123; // xä¸ºè¢«å é¢†çš„åŸå¸‚ int sum=0; for(int i=0; i&lt;a.size(); i++)&#123; if((a[i].first!=x) &amp;&amp; (a[i].second!=x))//å’ŒåŸå¸‚xç›¸è¿çš„è·¯å…¨éƒ¨æ–­æ‰ï¼› merge(a[i].first,a[i].second);//ä¸æ˜¯å’ŒåŸå¸‚xç›¸è¿çš„å°±åˆå¹¶ï¼› &#125; //æŸ¥çœ‹æ•´ä¸ªå›¾åˆ†æˆäº†å‡ å—ï¼› for(int i=1; i&lt;=n; i++)&#123; if(f[i]==i) sum++; &#125; /** * ç»“æœè®°å¾—å¤„ç†ï¼› * nä¸ªèŠ‚ç‚¹,éœ€è¦n-1æ¡è¾¹æ‰èƒ½æ„æˆè¿é€šåˆ†é‡; * â–³è¿˜æœ‰èŠ‚ç‚¹xè‡ªå·±å¾—å»æ‰,è¿™ä¹Ÿæ˜¯è·Ÿ1çš„åŒºåˆ«(ä¼šå¤šæ•°ä¸ªæœ¬èº«); */ return sum-2;&#125;//é™¤å»è¢«å é¢†çš„åŸå¸‚ï¼Œä¸¤ä¸ªåŸå¸‚ä¹‹é—´åªéœ€è¦ä¸€æ¡è·¯è¿æ¥ï¼› int main()&#123; scanf(\"%d%d%d\",&amp;n,&amp;m,&amp;k); a.resize(m);//è®¾ç½®å®¹å™¨çš„å¤§å°ï¼› for(int i=0; i&lt;m; i++)&#123; int aa,bb; scanf(\"%d%d\",&amp;aa,&amp;bb); // a[i]=make_pair(aa,bb); a.push_back(make_pair(aa,bb)); &#125; for(int i=1; i&lt;=k; i++)&#123; // cä¸ºè¢«å é¢†çš„åŸå¸‚ scanf(\"%d\",&amp;c); init(); int res= pan(c); printf(\"%d\\n\",res); &#125; return 0;&#125; 1014 Waiting in Line é˜Ÿåˆ—queueçš„æ¨¡æ‹Ÿæ“ä½œï¼Œåˆ†ä¸¤éƒ¨åˆ†è§£å†³ï¼Œä¸€éƒ¨åˆ†æ˜¯åœ¨é»„çº¿ä¸­çš„M*Nä¸ªäººï¼Œç›´æ¥è¿›è¡Œæ“ä½œï¼Œå¦ä¸€éƒ¨åˆ†é»„çº¿å¤–çš„äººéœ€è¦ä¸€ä¸ªä¸ªåˆ¤æ–­ï¼Œå“ªä¸ªçª—å£ç›®å‰æ˜¯æœ€å°‘çš„ï¼Œç„¶åå¯¹è¯¥çª—å£è¿›è¡Œæ›´æ–° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#include &lt;bits/stdc++.h&gt;#include &lt;queue&gt;using namespace std;struct windows&#123; // å‰è€…ä¸ºé˜Ÿé¦–é¡¾å®¢å‡ºé˜Ÿæ—¶é—´ï¼šä¸ºäº†è®¡ç®—è®©é»„çº¿å¤–çš„äººå¯ä»¥è®¡ç®—å‡ºå“ªä¸€ä¸ªé˜Ÿåˆ—å…ˆç©ºå‡ºäººæ¥ // åè€…ä¸ºé˜Ÿå°¾é¡¾å®¢å‡ºé˜Ÿæ—¶é—´ï¼šä¸ºäº†è®¡ç®—å…¥é˜ŸååŠ ä¸Šè‡ªå·±æœ¬èº«çš„taketimeå¯ä»¥è®¡ç®—å‡ºè‡ªå·±ä½•æ—¶æ‰èƒ½è¢«æœåŠ¡å®Œæ¯• // ä»¥åŠå¾—çŸ¥è‡ªå·±æ˜¯ä¸æ˜¯éœ€è¦è¢«Sorry(å¦‚æœå‰ä¸€ä¸ªäººæœåŠ¡ç»“æŸæ—¶é—´è¶…è¿‡17:00ï¼Œè‡ªå·±å½“å‰å…¥é˜Ÿçš„äººå°±æ˜¯sorry) int start_pop_time, end_pop_time; // è¯¥çª—å£æ’é˜Ÿçš„äºº queue&lt;int&gt; q;&#125;typedef win;int main()&#123; // nä¸ªçª—å£ï¼Œ mä¸ªé»„çº¿å†…é¡¾å®¢ï¼Œ æ€»å…±kä¸ªé¡¾å®¢ï¼Œ æ±‚è§£qä¸ªè¯¢é—® int n, m, k, q; scanf(\"%d%d%d%d\", &amp;n, &amp;m, &amp;k, &amp;q); std::vector&lt;int&gt; taketime(k+1); // æ¯ä¸ªcoséœ€è¦çš„å¤„ç†æ—¶é—´ std::vector&lt;int&gt; quiz(k+1); // æµ‹éªŒ std::vector&lt;bool&gt; sorry(k+1, false); // æ˜¯å¦èƒ½è¢«æœåŠ¡ std::vector&lt;win&gt; window(n+1); // çª—å£ for(int i=1;i&lt;=k;i++)scanf(\"%d\", &amp;taketime[i]); // è§£ç­” // æŒ‡é’ˆï¼Œå½“å‰æ–°è¢«å¤„ç†çš„äººï¼Œ ä»1å·é¡¾å®¢å¼€å§‹ int index=1; // å¦‚æœæ€»äººæ•°æ­£å¥½åœ¨m*nèŒƒå›´å†… for (int i = 1; i &lt;= m; ++i)&#123; for (int j = 1; j &lt;= n; ++j)&#123; if (index &lt;= k)&#123; window[j].q.push(taketime[index]); // å¦‚æœè¯¥çª—å£å¤„ç†å½“å‰é»„çº¿å†…æ’é˜Ÿçš„äººå·²ç»æœ‰å¤§äº540çš„äº†ï¼Œé‚£ä¹ˆæ–°åŠ å…¥çš„å¿…sorry if (window[j].end_pop_time&gt;=(17-8)*60) sorry[index] = true; // å½“å‰çª—å£çš„ç»“æŸæ—¶é—´æ›´æ–°è§„åˆ™ä¸ºï¼š å·²æœ‰çš„ç»“æŸæ—¶é—´ + å½“å‰é¡¾å®¢indexçš„æœåŠ¡æ—¶é—´ window[j].end_pop_time += taketime[index]; // ç¬¬ä¸€ä¸ªpopçš„æ—¶é—´éœ€è¦ç‰¹æ®Šå¤„ç†ä¸€ä¸‹ if (i==1) window[j].start_pop_time = window[j].end_pop_time; // åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ é¡¾å®¢çš„ç»“æŸæ—¶é—´å°±æ˜¯è¯¥çª—å£çš„end_time quiz[index] = window[j].end_pop_time; // å¤„ç†ä¸‹ä¸€ä¸ªé¡¾å®¢ index++; &#125; &#125; &#125; // å¦‚æœk&gt;m*nï¼Œé‚£ä¹ˆåœ¨è¿™è¾¹å¤„ç† å‰©ä¸‹çš„index~kä½é¡¾å®¢ï¼Œæ­¤æ—¶éœ€è¦ä¸æ–­æ›´æ–°windowå®‰æ’é¡¾å®¢è¿›æ ˆ while( index &lt;= k)&#123; int min_time = window[1].start_pop_time, min_win = 1; // é»„çº¿å¤–é¡¾å®¢è¦æ‰¾åˆ°ä¸€ä¸ªå¯¹ä»–æ¥è¯´æœ€çŸ­çš„çª—å£ï¼Œ ç¼–å·å°çš„ä¼˜å…ˆ for (int i = 2; i &lt;= n; ++i)&#123; if ( window[i].start_pop_time &lt;= min_time)&#123; min_time = window[i].start_pop_time; min_win = i; &#125; &#125; // å°†æœ€çŸ­çª—å£çš„é˜Ÿé¦–é¡¾å®¢å‡ºé˜Ÿ window[min_win].q.pop(); // é»„çº¿å¤–ç¬¬ä¸€ä¸ªé¡¾å®¢å…¥é˜Ÿ window[min_win].q.push(taketime[index]); // æ›´æ–°é˜Ÿé¦–çš„é¡¾å®¢ç»“æŸæ—¶é—´ window[min_win].start_pop_time += window[min_win].q.front(); // å¦‚æœè¯¥çª—å£å¤„ç†å½“å‰é»„çº¿å†…æ’é˜Ÿçš„äººå·²ç»æœ‰å¤§äº540çš„äº†ï¼Œé‚£ä¹ˆæ–°åŠ å…¥çš„å¿…sorry if (window[min_win].end_pop_time&gt;=(17-8)*60) sorry[index] = true; // å½“å‰çª—å£çš„ç»“æŸæ—¶é—´æ›´æ–°ä¸ºï¼š å·²æœ‰çš„æ—¶é—´ + æ–°è¿›å…¥çš„é¡¾å®¢çš„å¤„ç†æ—¶é—´ window[min_win].end_pop_time += taketime[index]; // åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ é¡¾å®¢çš„ç»“æŸæ—¶é—´å°±æ˜¯è¯¥çª—å£çš„end_pop_time quiz[index] = window[min_win].end_pop_time; // å¤„ç†ä¸‹ä¸€ä¸ªé¡¾å®¢ index++; &#125; // å›ç­”é—®é¢˜ for(int i = 1; i &lt;= q; i++) &#123; int query, ans; scanf(\"%d\", &amp;query); ans = quiz[query]; // å…ˆåˆ¤æ–­æ˜¯å¦sorryï¼Œ å¦‚æœésorryï¼Œ é‚£ä¹ˆå°±æœ‰æœåŠ¡ç»“æŸæ—¶é—´ if(sorry[query] == true) printf(\"Sorry\\n\"); // è§„èŒƒè¾“å‡ºç»“æœ else printf(\"%02d:%02d\\n\",(ans + 8*60) / 60, (ans + 8*60) % 60); &#125; return 0;&#125; 1016 Phone Bills 123456789101112131415161718192021222324252627#include &lt;bits/stdc++.h&gt;using namespace std;int main()&#123; // å†™æ³•ä¸€ string date; cin &gt;&gt; date; const char *s = date.data(); int month, day, hour, minute; sscanf(s, \"%d:%d:%d:%d\", &amp;month, &amp;day, &amp;hour, &amp;minute); cout &lt;&lt; month &lt;&lt; \"\\t\"&lt;&lt;day&lt;&lt;\"\\t\"&lt;&lt;hour&lt;&lt;\"\\t\"&lt;&lt;minute&lt;&lt; endl; // å†™æ³•äºŒ string date; cin &gt;&gt; date; stringstream ss(date); string month, day, hour, minute; getline(ss, month, ':'); cout &lt;&lt; month&lt;&lt;endl; getline(ss, day, ':'); cout &lt;&lt; day&lt;&lt;endl; getline(ss, hour, ':'); cout &lt;&lt; hour&lt;&lt;endl; getline(ss, minute, ':'); cout &lt;&lt; minute&lt;&lt;endl; return 0;&#125; 1017 Queueing at Bank å°†è¾¾åˆ°æ—¶é—´æ¢ç®—æˆç§’ï¼ˆè¿™æ ·å¯ä»¥é¿å…å°æ•°ï¼‰ï¼Œæˆ‘è¿™é‡Œå°†åˆ°è¾¾æ—¶é—´ä»¥å¼€é—¨æ—¶é—´ï¼ˆ8ç‚¹ï¼‰ä¸º0å€¼ï¼Œæ¥æ—©çš„å³ä¸ºè´Ÿæ•°ï¼ˆç»å¯¹å€¼ä¸ºç­‰å¾…æ—¶é—´ï¼‰ï¼Œç„¶åè¿›è¡Œæ’åºã€‚ åˆ¤æ–­æœ‰æ•ˆäººæ•°æ˜¯å¦å¤§äº0ï¼Œä¸æ˜¯åˆ™æå‰è¾“å‡º0.0ï¼ˆä¿ç•™ä¸€ä½å°æ•°ï¼ï¼ï¼‰ è®¾ç½®windows[k]ä¸ºçª—å£å¯ä»¥å¤„ç†ä¸‹ä¸€ä¸ªå®¢æˆ·çš„æ—¶é—´ï¼Œé»˜è®¤å€¼ä¸º0 1018 Public Bike Management 1019 General Palindromic Number 1020 Tree Traversals è€ƒå¯Ÿæ ‘çš„éå†ã€‚äºŒå‰æ ‘çš„å‰åºã€ä¸­åºã€ååºéå†éœ€è¦ç”¨åˆ°æ ˆï¼ˆé€’å½’çš„è¿‡ç¨‹ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ ˆï¼‰(DFS)ï¼Œå±‚æ¬¡éå†éœ€è¦å€ŸåŠ©é˜Ÿåˆ—è¿™ä¸ªæ•°æ®ç»“æ„==&gt;(BFS)ã€‚ ä¸­åºçš„ç»“æ„çš„ç‰¹ç‚¹æ˜¯ï¼šå·¦å­æ ‘+æ ¹ç»“ç‚¹+å³å­æ ‘ã€‚ è€Œååºç»“æ„çš„ç‰¹ç‚¹æ˜¯ï¼šå·¦å­æ ‘+å³å­æ ‘+æ ¹ç»“ç‚¹ã€‚ è§£é¢˜æ€è·¯:ååº(postOrder)å’Œå…ˆåº(preOrder)éå†æä¾›æ ¹èŠ‚ç‚¹ä½ç½®ï¼Œç„¶åå†ä¸­åº(inOrder)åºåˆ—ä¸­åŒºåˆ†å‡ºå·¦å­æ ‘å’Œå³å­æ ‘ï¼Œé€’å½’å»ºæ ‘ï¼Œç„¶åBFSå±‚åºéå†ã€‚ æŸ³å©¼Code äºŒå‰æ ‘åˆ©ç”¨æ•°ç»„æ¥å®Œæˆ, æœªä½¿ç”¨ç»“æ„ä½“ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;vector&lt;int&gt; post, in, level(100000, -1);void pre(int root, int start, int end, int index) &#123; cout&lt;&lt;\"root = \"&lt;&lt;root&lt;&lt;\" start\"&lt;&lt;start&lt;&lt;\" end=\"&lt;&lt;end&lt;&lt;\" index=\"&lt;&lt;index&lt;&lt;endl; if(start &gt; end) return ; int i = start; // é€šè¿‡ååºæ ¹èŠ‚ç‚¹æ‰¾åˆ°ä¸­åºæ ¹èŠ‚ç‚¹çš„ç´¢å¼• while(i &lt; end &amp;&amp; in[i] != post[root]) i++; // å¯¹äºååºéå†ï¼Œæœ€åä¸€ä¸ªç»“ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ level[index] = post[root]; // ã€è¿™æ®µé€’å½’æ˜¯æœ¬ä»£ç çš„äº®ç‚¹æ‰€åœ¨ã€‘ // (root -(end - i + 1)) ååºrootåœ°å€ - (ä¸­åºå·¦å­æ ‘é•¿åº¦)ï¼Œå¾—åˆ°ä¸‹ä¸€æ¬¡çš„å·¦å­æ ‘çš„ååºrootåœ°å€ pre(root - (end - i + 1), start, i - 1, 2 * index + 1); // root - 1 ååºrootåœ°å€ å·¦é‚»æ¥ç‚¹å³å­æ ‘çš„æ ¹ pre(root - 1, i + 1, end, 2 * index + 2);&#125;int main() &#123; int n, cnt = 0; scanf(\"%d\", &amp;n); // é¢„ç½®nä¸ªç»“ç‚¹ post.resize(n); in.resize(n); for(int i = 0; i &lt; n; i++) scanf(\"%d\", &amp;post[i]); for(int i = 0; i &lt; n; i++) scanf(\"%d\", &amp;in[i]); pre(n-1, 0, n-1, 0); for(int i = 0; i &lt; level.size(); i++) &#123; // if (level[i] != -1) &#123; if (cnt != 0) printf(\" \"); printf(\"%d\", level[i]); cnt++; &#125; if (cnt == n) break; &#125; return 0;&#125; My 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 50;int post[MAXN], in[MAXN];int n;int num; struct Node&#123; int v; Node *lchild; Node *rchild;&#125;typedef Node;/** * [æ ¹æ®ä¸­åºå’Œå…ˆåºéå†æ„å»ºæ ‘, å‚æ•°å…¨ä¸ºç´¢å¼•] * @author mrli 2020-01-28 * @param postl [ååºå·¦è¾¹ç•Œ] * @param postr [ååºå³è¾¹ç•Œ] * @param inl [ä¸­åºå·¦è¾¹ç•Œ] * @param inr [ä¸­åºå³è¾¹ç•Œ] * @return [èŠ‚ç‚¹] */Node *createTree(int postl, int postr, int inl, int inr)&#123; // å…ˆåºå·¦æŒ‡é’ˆ&gt;å³æŒ‡é’ˆ if (postl&gt;postr) return NULL; int k; // æ‰¾åˆ°æ ¹èŠ‚ç‚¹ååºçš„ç´¢å¼•å€¼ for (k = 0; k &lt;= inr; ++k) if (in[k] == post[postr]) break; // åˆ†ç•Œçº¿ int numLeft = k - inl; Node* root = new Node(); root-&gt;v = post[postr]; root-&gt;lchild = createTree(postl, postl+numLeft-1, inl, k-1); root-&gt;rchild = createTree(postl+numLeft, postr-1, k+1, inr); return root;&#125;// å¯¹numLeftå®šä¹‰è¿›è¡Œäº†ä¿®æ”¹Node *createTree(int postl, int postr, int inl, int inr)&#123; // å…ˆåºå·¦æŒ‡é’ˆ&gt;å³æŒ‡é’ˆ if (postl&gt;postr) return NULL; int k; // æ‰¾åˆ°æ ¹èŠ‚ç‚¹ä¸­åºçš„ç´¢å¼•å€¼: ååºéå†çš„æœ€åä¸€ä¸ªä¸ºæ ¹èŠ‚ç‚¹,ç”±äºéƒ½æ˜¯ä¸åŒçš„æ•°,æ‰€ä»¥æ‰¾åˆ°å€¼ç›¸ç­‰çš„, // æ­¤æ—¶kå³ä¸ºä¸­åºéå†ä¸­æ ¹çš„ç´¢å¼•å€¼ for (k = 0; k &lt;= inr; ++k) if (in[k] == post[postr]) break; // è®¡ç®—å·¦å­æ ‘èŠ‚ç‚¹ä¸ªæ•°X ==&gt; æ‰¾åˆ°åˆ†ç•Œçº¿, postl+numLeft-1ä¸ºååºçš„å·¦å­æ ‘, post+numLeftä¸ºååºå³å­æ ‘. // çœŸæ­£æ„ä¹‰ä¸Šçš„å·¦å­æ ‘èŠ‚ç‚¹ä¸ªæ•°numLeft = k - inl - 1 int numLeft = k - inl -1; Node* root = new Node(); root-&gt;v = post[postr]; // ååºéå†è®¿é—®å·¦å­æ ‘æ—¶,å·¦è¾¹ç•Œä¸å˜è®¤ä¸ºpostl, å³è¾¹ç•Œå˜ä¸ºpostr+numLeft-1,è®¿é—®å³å­æ ‘æ—¶,å·¦è¾¹ç•Œä¸ºpostl+numLeft, å³è¾¹ç•Œä¸ºpostr-1(å»æ‰äº†æ­¤è½®çš„æ ¹èŠ‚ç‚¹) // postl + numleft ä¹Ÿä¸ºç¬¬äºŒä¸ªæ ¹èŠ‚ç‚¹ç´¢å¼•å€¼ // kä¸ºä¸­åºéå†èŠ‚ç‚¹çš„æ ¹, æ‰€ä»¥è®¿é—®å·¦å­æ ‘æ—¶å·¦è¾¹ç•Œæ”¹ä¸ºk-1, å³è¾¹ç•Œä¸ºk+1;è®¿é—®å³å­æ ‘æ—¶å·¦è¾¹ç•Œä¸ºk+1,å³è¾¹ç•Œä¸ºinr root-&gt;lchild = createTree(postl, postl+numLeft, inl, k-1); root-&gt;rchild = createTree(postl+numLeft+1, postr-1, k+1, inr); return root;&#125;void BFS(Node* tree)&#123; queue&lt;Node*&gt; q; q.push(tree); while(!q.empty())&#123; Node* now = q.front(); q.pop(); cout &lt;&lt; now-&gt;v; num ++; if (num &lt; n) cout &lt;&lt;\" \"; if (now-&gt;lchild != NULL) q.push(now-&gt;lchild); if (now-&gt;rchild != NULL) q.push(now-&gt;rchild); &#125;&#125;int main(int argc, char const *argv[])&#123; cin &gt;&gt; n; for (int i = 0; i &lt; n; ++i) cin &gt;&gt; post[i]; for (int i = 0; i &lt; n; ++i) cin &gt;&gt; in[i]; Node* tree = createTree(0, n-1, 0, n-1); BFS(tree); return 0;&#125; Codeupé—®é¢˜ A: å¤åŸäºŒå‰æ ‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;bits/stdc++.h&gt;using namespace std;const int MAX = 1e3 + 5;string pre;string in;struct Node&#123; char v; Node* lc, *rc;&#125;;Node *createTree(int preL, int preR, int inL, int inR)&#123; if (preL &gt; preR) return NULL; Node *root = new Node(); root-&gt;v = pre[preL]; // å…ˆåºæ‰¾åˆ°æ ¹èŠ‚ç‚¹ int k; // æ ¹èŠ‚ç‚¹åœ¨ä¸­åºéå†ä¸­çš„ for (k = inL; k &lt; inR; ++k)&#123; // â–²åƒä¸‡ä¸è¦å¤šIntä¼šå†å£°æ˜æˆå±€éƒ¨å˜é‡ if (in[k] == pre[preL]) // æ‰¾åˆ°æ ¹èŠ‚ç‚¹ break; &#125; int numLeft = k-inL; // ç”±äºä¸åŒ…æ‹¬K, æ‰€ä»¥ä¸éœ€è¦+1 // å·¦å­æ ‘ç»§ç»­ root-&gt;lc = createTree(preL+1, preL+ numLeft, inL, k-1); // å³å­æ ‘ root-&gt;rc = createTree(preL+numLeft+1, preR, k+1, inR); return root;&#125;void postOrder(Node *root)&#123; if(root == NULL) return ; postOrder(root-&gt;lc); postOrder(root-&gt;rc); cout &lt;&lt; root-&gt;v;&#125;int main(int argc, char const *argv[])&#123; while(cin &gt;&gt; pre &gt;&gt; in)&#123; Node *root = createTree(0, pre.size()-1, 0, in.size()-1); postOrder(root); cout &lt;&lt; endl; &#125; return 0;&#125; â–²å‰æéƒ½æ˜¯ä¸åŒå…ƒç´ ï¼ Codeupé—®é¢˜ B: äºŒå‰æ ‘ æ ¹æ®å®Œå…¨äºŒå‰æ ‘çš„æ€§è´¨ï¼šå·¦å­©å­çš„ç¼–å·ä¸€å®šæ˜¯2mï¼Œ å³å­©å­ä¸€å®šæ˜¯2m+1ã€‚å¯ä»¥å†™å‡ºæš´åŠ›é€’å½’çš„å†™æ³•ï¼Œ ä½†æ˜¯ä¼šè¶…æ—¶ã€‚ 12345678910111213141516171819202122#include &lt;bits/stdc++.h&gt;using namespace std;const int MAX = 1e3 + 5;int m, n; // æ±‚è§£ï¼Œ æ€»å…±èŠ‚ç‚¹æ•°int ans;void cnt(int v)&#123; if(v &gt; n) return; cnt(2*v); cnt(2*v+1); ans ++ ;&#125;int main(int argc, char const *argv[])&#123; while(cin &gt;&gt; m &gt;&gt; n)&#123; if ( m == 0 &amp;&amp; n == 0) break; ans = 0; cnt(m); cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125; æ”¹ç”¨é€’æ¨å†™æ³•ï¼š 1234567891011121314151617181920#include &lt;bits/stdc++.h&gt;using namespace std;const int MAX = 1e3 + 5;int main(int argc, char const *argv[])&#123; int m, n; // æ±‚è§£ï¼Œ æ€»å…±èŠ‚ç‚¹æ•° while( cin &gt;&gt; m &gt;&gt; n &amp;&amp; n &amp;&amp; m)&#123; int ans = 1; int l= 2*m, r = 2*m+1; while(r &lt;= n)&#123; // å¦‚æœå½“å‰è¡Œçš„èŠ‚ç‚¹æ•°æ˜¯å…¨çš„ï¼ˆä¸æ˜¯æœ€åä¸€è¡Œæ®‹ç¼ºè¡Œï¼‰ ans += r - l + 1; // åŠ ä¸Šè¯¥è¡Œæ‰€æœ‰èŠ‚ç‚¹ l = l*2, r = r*2 + 1; // ç»§ç»­å‘ä¸‹ &#125;// å½“æ‰¾åˆ°æœ€åä¸€è¡Œæ—¶è·³å‡º if ( l &lt;= n )&#123; // åˆ¤æ–­æœ€åä¸€è¡Œæ˜¯å¦æœ‰èŠ‚ç‚¹ ans += n - l + 1; // æœ‰çš„è¯åŠ ä¸Š &#125; cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125; Codeup é—®é¢˜ D: äºŒå‰æ ‘éå† 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 1e3 + 5;int n; // æ€»å…±çš„èŠ‚ç‚¹æ•°string str;int depth=-1;struct Node&#123; char v; Node *lc, *rc;&#125;;Node *createTree()&#123; Node *root = new Node; depth ++; if(str[depth] == '#') &#123; return NULL; &#125; root-&gt;v = str[depth]; root-&gt;lc = createTree(); root-&gt;rc = createTree(); return root;&#125;void inOrder(Node *root)&#123; if(root == NULL) return; inOrder(root-&gt;lc); cout &lt;&lt; root-&gt;v &lt;&lt;\" \" ; inOrder(root-&gt;rc);&#125;int main(int argc, char const *argv[])&#123; while(cin &gt;&gt; str)&#123; depth = -1; Node *root= createTree(); inOrder(root); cout &lt;&lt; endl; &#125; return 0;&#125; æ›´å¤šCodeupçš„ä¸“é¢˜è®­ç»ƒæ”¾åœ¨ã€Šç®—æ³•ç¬”è®°Codeupé¢˜è§£ã€‹ä¸­äº†ã€‚ 1021 Deepest Root 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117/* * @Author: Mrli * @Date: 2020-06-03 15:28:11 * @LastEditTime: 2020-06-03 15:57:35 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int MAXN = 1e4 + 5;int arr[MAXN]; // è¿é€šå—æ•°é‡vector&lt;int&gt; G[MAXN]; // é¢†æ¥è¡¨int n; // èŠ‚ç‚¹æ•°void init()&#123; for (int i = 1; i &lt;= n ; i++) &#123; arr[i] = i; &#125;&#125;// é€’å½’å†™æ³•int find(int u)&#123; if ( find(u) == u) return u; else&#123; arr[u] = find(arr[u]); return arr[u]; &#125;&#125;// è¿­ä»£å†™æ³•// nodeä¸ºæŸæ¬¡å…·ä½“æ“ä½œèŠ‚ç‚¹, tmp_nodeä¸ºå…¶èƒ½æ‰¾åˆ°groupå¤´// å…³ç³»ç±»ä¼¼é“¾è¡¨ä¸­çš„pã€q, ä¸€ä¸ªå½“å‰, ä¸€ä¸ªè®°å½•ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªèŠ‚ç‚¹int findFather(int v)&#123; int node = v; while ( arr[v] != v ) &#123; v = arr[v]; &#125; // væ­¤æ—¶æŒ‡å‘çš„æ˜¯è¯¥groupçš„å¤´ // è·¯å¾„å‹ç¼©, æŠŠè¯¥groupä¸­æ‰€æœ‰æˆå‘˜éƒ½æŒ‡å‘ä¸€ä¸ªå¤´v while ( node != arr[node] )&#123; int tmp_node = node; node = arr[node]; arr[tmp_node] = v; &#125; return v;&#125;int countBlock()&#123; int ans = 0; for (int i = 1; i &lt;= n; i++) &#123; if ( arr[i] == i) ans ++; &#125; return ans;&#125;void merge(int u, int v)&#123; // int fa = find(u); // int fb = find(v); int fa = findFather(u); int fb = findFather(v); if ( fa != fb ) arr[fa] = fb; &#125;vector&lt;int&gt; temp, ans;int maxHeight;void DFS(int u, int height, int pre)&#123; if (height &gt; maxHeight)&#123; temp.clear(); temp.push_back(u); maxHeight = height; &#125;else if (height == maxHeight)&#123; temp.push_back(u); &#125; for (int v = 0; v &lt; G[u].size(); v++) &#123; if (G[u][v] == pre) continue; DFS(G[u][v], height+1, u); &#125;&#125;int main()&#123; cin &gt;&gt; n; int bian = n-1; init(); while(bian--)&#123; int u, v; cin &gt;&gt; u &gt;&gt;v; G[u].push_back(v); G[v].push_back(u); merge(u, v); &#125; int block_num = countBlock(); // åªæœ‰ä¸€ä¸ªè¿é€šå—çš„Nä¸ªèŠ‚ç‚¹, n-1æ¡è¾¹ä¸€å®šæ˜¯æ ‘ if (block_num == 1)&#123; DFS(1, 1, -1); ans = temp; // éšæ„æ‰¾ansä¸­çš„èŠ‚ç‚¹ DFS(ans[0], 1, -1); // å–å¹¶é›† for (int i = 0; i &lt; temp.size(); i++) &#123; ans.push_back(temp[i]); &#125; sort(ans.begin(), ans.end()); cout &lt;&lt; ans[0] &lt;&lt;endl; for (int i = 1; i &lt; ans.size(); i++) &#123; if (ans[i] != ans[i-1]) cout &lt;&lt; ans[i] &lt;&lt; endl; &#125; &#125;else&#123; cout &lt;&lt; \"Error: \" &lt;&lt; block_num &lt;&lt; \" components\" &lt;&lt;endl; &#125; return 0;&#125; 1023 Have Fun with Numbers 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;unordered_map&lt;char, int&gt; mp;// é«˜ç²¾åº¦*ä½ç²¾åº¦string multiply(const string s, int n)&#123; string ans; int t = 0; int len = s.length(); string rev = s; reverse(rev.begin(), rev.end()); for (int i = 0; i &lt; len|| t; i++) &#123; if ( i &lt; len )&#123; t += (rev[i] - '0') * n; mp[rev[i]] += 1; &#125; ans += char(t%10+'0'); t /= 10; &#125; while( ans.length() &gt; 1 &amp;&amp; ans.back() == '0') ans.pop_back(); reverse(ans.begin(), ans.end()); return ans;&#125;string doubleIt(const string s)&#123; return multiply(s, 2);&#125;bool YesorNo()&#123; for(unordered_map&lt;char, int&gt;::iterator it = mp.begin(); it != mp.end() ; it++)&#123; if (it-&gt;second != 0) return false; &#125; return true;&#125;int main()&#123; string n; cin &gt;&gt; n; string doublen = doubleIt(n); for (int i = 0; i &lt; doublen.size(); i++) &#123; // cout &lt;&lt; doublen[i] &lt;&lt; \" \" &lt;&lt; mp[doublen[i]] &lt;&lt; endl; mp[ doublen[i] ]--; &#125; string ans = YesorNo() ? \"Yes\" : \"No\"; cout &lt;&lt; ans &lt;&lt; endl; cout &lt;&lt; doublen &lt;&lt;endl; return 0;&#125; unordered_mapä½¿ç”¨: https://blog.csdn.net/fengbingchun/article/details/52235026 Palindromic Number å¤§æ•°ç›¸åŠ  é—«æ€»æ¨¡æ¿: https://www.acwing.com/blog/content/277/ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;bits/stdc++.h&gt;using namespace std;string add(string a, string b)&#123; string ans; // ç¬¬å››ä¸ªç‚¹ï¼Œ å»å‰ç½®0 a = a.substr(a.find_first_not_of(\"0\")); b = b.substr(b.find_first_not_of(\"0\")); reverse(a.begin(), a.end()); reverse(b.begin(), b.end()); int t = 0; for (int i = 0; i &lt; a.size() || i &lt; a.size() || t; i++) &#123; if ( i &lt; a.size() ) t += a[i] - '0'; if ( i &lt; b.size() ) t += b[i] - '0'; ans += char(t % 10 + '0'); t /= 10; &#125; reverse(ans.begin(), ans.end()); return ans.substr(ans.find_first_not_of(\"0\"));&#125;string getReverseString(string a)&#123; string s(a.rbegin(), a.rend()); return s;&#125;bool isPalindromic(string n)&#123; int len = n.length(); // ç¬¬ä¸‰ä¸ªæµ‹è¯•ç‚¹ï¼š 1ä¹Ÿç®—æ˜¯å›æ–‡æ•°==&gt; å¦‚æœæ˜¯ä¸ªæ•°çš„è¯ï¼Œ é‚£ä¹ˆstepä¸º0 // if (len == 1 || len == 0) return false; for (int i = 0, j = len - 1; i &lt; len; i++, j--) &#123; if ( n[i] != n[j]) return false; &#125; return true;&#125;int main()&#123; string n; int T; cin &gt;&gt; n &gt;&gt; T; string tmp = n; int i; for (i = 0; i &lt; T; i++) &#123; if (isPalindromic(tmp)) &#123; break; &#125; tmp = add(tmp, getReverseString(tmp)); &#125; cout &lt;&lt; tmp &lt;&lt; endl &lt;&lt; i &lt;&lt; endl; return 0;&#125; 1025 PAT Ranking é€šè¿‡ç‡ä¸º0.27, é¢˜æ„è¾ƒç®€å•, ä½†æ˜¯å¤„ç†èµ·æ¥ä¼šæœ‰å‘ï¼Œä¹Ÿç®—å­¦ä¹ åˆ°äº†å§ã€‚ vectorçš„æ‹¼æ¥ï¼š v.insert(v.begin(), va.begin(), va.end()) sortè‡ªå®šä¹‰å‡½æ•°ï¼šåœ¨åµŒå¥—æ¯”è¾ƒæ—¶æ³¨æ„ifçš„æ¡ä»¶ï¼Œreturn trueçš„å°†ä¼šè¢«æ”¾åœ¨å‰é¢ æ’åçš„å¤„ç†: æ’åç›¸åŒçš„ä¸€è‡´ï¼Œä¸åŒçš„åœ¨å…¶æ’åºç´¢å¼•ä¸Š+1 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788#include &lt;bits/stdc++.h&gt;using namespace std;struct rc&#123; string ID; //è®°å½•ID int grade; //æˆç»© int local_num; //åœºæ¬¡ int local_rank; //è¯¥åœºæ¬¡çš„æ’å&#125;typedef rc;bool cmp(rc &amp;a, rc &amp;b)&#123; if(a.grade != b.grade) return a.grade&gt;b.grade; else return (a.ID&lt;b.ID);&#125;/**æˆ–è€…å†™æˆbool cmp(const node &amp;a, const node &amp;b)&#123; return a.score==b.score ? a.id&lt;b.id : a.score&gt;b.score; // å¦‚æœå¾—åˆ†ç›¸ç­‰,IDå°çš„åœ¨å‰,å¦‚æœå¾—åˆ†ä¸ç­‰,é‚£ä¹ˆå¾—åˆ†å¤§çš„åœ¨å‰&#125;*/int main(int argc, char const *argv[])&#123; int N; cin &gt;&gt; N; std::vector&lt;rc&gt; vall; for (int j = 1; j &lt;= N; ++j)&#123; int K; cin &gt;&gt; K; std::vector&lt;rc&gt; v; for (int i = 0; i &lt; K; ++i)&#123; rc r; cin &gt;&gt; r.ID &gt;&gt; r.grade; r.local_num = j; v.push_back(r); &#125; sort(v.begin(), v.end(), cmp); // å…ˆå°†å½“å±€æ’åç®—å‡º int rank = 1; int rankv = v[0].grade; v[0].local_rank = rank; for (int i = 1; i &lt; v.size(); ++i)&#123; // æ€è·¯ // if(rankv == v[i].grade)&#123; // v[i].local_rank = rank; // &#125;else&#123; // rank = i+1; // v[i].local_rank = rank; // &#125; /* ç®€æ´å†™æ³• */ if(rankv != v[i].grade)&#123; rank = i+1; &#125; v[i].local_rank = rank; rankv = v[i].grade; &#125; vall.insert(vall.end(), v.begin(), v.end()); // å°†æ¯ä¸ªåœºæ¬¡çš„ç»“æœæ‹¼èµ·æ¥ &#125; sort(vall.begin(), vall.end(), cmp); // å¯¹æ€»ç»“æœè¿›è¡Œæ’åºç®—å‡ºfinalRank int Ssize = vall.size(); cout &lt;&lt; Ssize &lt;&lt; endl; int finalRank = 1; // ç”¨æ¥å¤„ç†æ’åç›¸åŒçš„æƒ…å†µ int rankv = vall[0].grade; // ç”¨æ¥ç¡®å®šä½•æ—¶æ’åç›¸åŒ cout &lt;&lt; vall.at(0).ID &lt;&lt; \" \"&lt;&lt;finalRank &lt;&lt; \" \"&lt;&lt;vall.at(0).local_num &lt;&lt; \" \"&lt;&lt;vall.at(0).local_rank &lt;&lt; endl; for (int i = 1; i &lt; Ssize; ++i)&#123; // è¿™æ ·çœ‹æ€è·¯æ›´æ¸…æ™°ä¸€ç‚¹ // if(rankv == vall[i].grade)&#123; // cout &lt;&lt; vall.at(i).ID &lt;&lt;\" \"&lt;&lt; finalRank &lt;&lt;\" \"&lt;&lt; vall.at(i).local_num &lt;&lt;\" \"&lt;&lt; vall.at(i).local_rank &lt;&lt; endl; // &#125;else&#123; // finalRank = i+1; // cout &lt;&lt; vall.at(i).ID &lt;&lt;\" \"&lt;&lt; finalRank &lt;&lt;\" \"&lt;&lt; vall.at(i).local_num &lt;&lt;\" \"&lt;&lt; vall.at(i).local_rank &lt;&lt; endl; // &#125; /* ç®€æ´å†™æ³• */ if(rankv != vall[i].grade)&#123; finalRank = i+1; &#125; cout &lt;&lt; vall.at(i).ID &lt;&lt;\" \"&lt;&lt; finalRank &lt;&lt;\" \"&lt;&lt; vall.at(i).local_num &lt;&lt;\" \"&lt;&lt; vall.at(i).local_rank &lt;&lt; endl; rankv = vall[i].grade; &#125; return 0;&#125; â–²æˆ‘è¿™è¾¹åˆ¤æ–­ä¸¤ä¸ªrcæ˜¯å¦ç›¸åŒï¼Œæ˜¯ç”¨rankvå’Œfinalrankæ¥è®°å½•ä¸Šä¸€æ¬¡çš„ç»“æœçš„ï¼Œå…¶å®è¿˜èƒ½åœ¨foré‡Œé¢åˆ¤æ–­v.[i].grade == v[i-1].grade 1027 Colors in Mars è€ƒå¯Ÿç‚¹ï¼š è¿›åˆ¶çš„è½¬æ¢ 1234567891011121314151617181920212223242526272829303132333435#include &lt;bits/stdc++.h&gt;using namespace std;string int2string(int ans)&#123; switch(ans)&#123; case 10: return \"A\"; case 11: return \"B\"; case 12: return \"C\"; default: return to_string(ans); &#125;&#125;string decimal2radix(int n)&#123; if(n&lt;13) return \"0\"+int2string(n); int tmp = n; string res; while(tmp&gt;0)&#123; res.insert(0, int2string(tmp%13)); tmp /= 13; &#125; return res;&#125;int main(int argc, char const *argv[])&#123; int r, g, b; cin &gt;&gt; r &gt;&gt; g &gt;&gt; b ; cout &lt;&lt; \"#\" &lt;&lt; decimal2radix(r) &lt;&lt; decimal2radix(g) &lt;&lt; decimal2radix(b) &lt;&lt; endl; return 0;&#125; 1034 Head of a Gang é¢˜ç›®å¾ˆéš¾ç†è§£ã€‚é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯æœ¬é¢˜ä¸ºæ— å‘å›¾ã€‚ æ¶‰åŠä¸€ä¸ªç‚¹æƒçš„ç»´æŠ¤ï¼Œ åœ¨å¢åŠ ä¸€æ¡è¾¹çš„æ—¶å€™ï¼ŒæŠŠè¿™ä¸ªè¾¹çš„ä¸¤ç«¯ç‚¹éƒ½åŠ ä¸Šç›¸åº”çš„æƒå€¼ã€‚ éœ€è¦åšçš„æ˜¯ï¼š DFSéå†æ¯ä¸ªè¿é€šå—ï¼Œ è·å¾—ç‚¹æƒæœ€å¤§çš„ç‚¹ã€ æˆå‘˜ä¸ªæ•°ï¼ˆ&gt;2)ã€ æ€»è¾¹æƒï¼ˆ&gt;K) æœ¬é¢˜ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†è§£å†³ã€‚åœ¨ä½¿ç”¨å¹¶æŸ¥é›†æ—¶ï¼Œåªè¦æ³¨æ„åˆå¹¶å‡½æ•°ä¸­éœ€è¦æ€»æ˜¯ä¿æŒç‚¹æƒæ›´å¤§çš„ç»“ç‚¹ä¸ºé›†åˆçš„æ ¹ç»“ç‚¹ï¼ˆåŸå…ˆçš„åˆå¹¶å‡½æ•°æ˜¯éšæ„æŒ‡å®šå…¶ä¸­ä¸€ä¸ªæ ¹ç»“ç‚¹ä¸ºåˆå¹¶åé›†åˆçš„æ ¹ç»“ç‚¹ï¼‰ï¼Œå°±èƒ½ç¬¦åˆé¢˜ç›®çš„è¦æ±‚ã€‚è€Œä¸ºäº†è¾¾åˆ°é¢˜ç›®å¯¹æ€»è¾¹æƒä¸æˆå‘˜äººæ•°çš„è¦æ±‚ï¼Œéœ€è¦å®šä¹‰ä¸¤ä¸ªæ•°ç»„ï¼šä¸€ä¸ªæ•°ç»„ç”¨æ¥å­˜æ”¾ä»¥å½“å‰ç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹çš„é›†åˆçš„æ€»è¾¹æƒï¼›å¦ä¸€ä¸ªæ•°ç»„ç”¨æ¥å­˜æ”¾ä»¥å½“å‰ç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹çš„é›†åˆä¸­çš„æˆå‘˜äººæ•°ã€‚è¿™æ ·å½“æ‰€æœ‰é€šè¯è®°å½•åˆå¹¶å¤„ç†å®Œæ¯•åï¼Œè¿™ä¸¤ä¸ªæ•°ç»„å°±è‡ªåŠ¨å­˜æ”¾äº†æ¯ä¸ªé›†åˆçš„æ€»è¾¹æƒå’Œæˆå‘˜äººæ•°ï¼Œå†æ ¹æ®é¢˜æ„è¿›è¡Œç­›é€‰å³å¯ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 2e3 + 5;const int INF = 0x3f3f3f3f;// map&lt;stirng, int&gt;å¯ä»¥ç›´æ¥æŒ‰å­—å…¸åºæ’åºï¼› å¦‚æœè¦è‡ªå·±å®šä¹‰ç»“æ„ä½“ï¼Œ å¾—å®ç°æ’åºåŠŸèƒ½std::map&lt;string, int&gt; gang;std::map&lt;int, string&gt; int2string; // é€šè¿‡éå†åæ‰¾åˆ°çš„èŠ‚ç‚¹ç¼–å·IDæ¥åç€æ‰¾åˆ°å­—ç¬¦ä¸²IDstd::map&lt;string, int&gt; string2int; // ç”¨æ¥æ£€ç´¢å½“å‰å­—ç¬¦ä¸²IDæ˜¯å¦å­˜åœ¨int G[MAXN][MAXN]; // é‚»æ¥çŸ©é˜µint ts[MAXN] = &#123;0&#125;; // æƒå€¼æ•°ç»„, è®°å½•æ¯ä¸ªç‚¹çš„ç‚¹æƒbool visited[MAXN] = &#123;false&#125;;int numPerson = 0; // ç»“ç‚¹ç¼–å·, æœ€ç»ˆä¸ºä¸€å…±æœ‰çš„èŠ‚ç‚¹æ•°int N, K;void dfs(int u, int &amp;head, int &amp;numMember, int &amp;totalValue)&#123; visited[u] = true; numMember ++; if ( ts[u] &gt; ts[head] )&#123; // å¦‚æœå½“å‰è®¿é—®èŠ‚ç‚¹çš„ç‚¹æƒå¤§äºheadçš„ç‚¹æƒï¼Œåˆ™æ›´æ¢å¤´ç›® head = u; &#125; for (int v = 0; v &lt; numPerson; ++v)&#123; if(G[u][v] &gt; 0)&#123; // å­˜åœ¨è¾¹å¯è¾¾ totalValue += G[u][v]; // è¿é€šå—çš„æ€»è¾¹æƒå¢åŠ è¯¥è¾¹æƒ G[u][v] = G[v][u] = 0; // åˆ é™¤æ­¤è¾¹é˜²æ­¢å›å¤´ if(visited[v] == false)&#123; dfs(v, head, numMember, totalValue); &#125; &#125; &#125;&#125;void dfsTravel()&#123; for (int i = 0; i &lt; numPerson; ++i)&#123; if (visited[i] == false)&#123; int head = i, numMember = 0, totalValue = 0; dfs(i, head, numMember, totalValue); if(numMember &gt; 2 &amp;&amp; totalValue &gt; K)&#123; gang[int2string[head]] = numMember; &#125; &#125; &#125;&#125;// å°†è¾“å…¥çš„å­—ç¬¦ç¼–å·è½¬æ¢ä¸ºæ•°å­—ç¼–å·int change(string tmp)&#123; if ( string2int.find(tmp) != string2int.end() )&#123; // å¦‚æœå­˜åœ¨ return string2int[tmp]; &#125;else&#123; // å¦‚æœä¸å­˜åœ¨ string2int[tmp] = numPerson; int2string[numPerson] = tmp; return numPerson++; // æ”¾å›ç¼–å· &#125;&#125;int main(int argc, char const *argv[])&#123; cin &gt;&gt; N &gt;&gt;K; int t; for (int i = 0; i &lt; N; ++i)&#123; string a, b; cin &gt;&gt; a &gt;&gt; b &gt;&gt; t; int id1 = change(a); // å°†ç»“ç‚¹å­—ç¬¦è½¬æ¢ä¸ºæ•°å­—ç¼–å· int id2 = change(b); ts[id1] += t; ts[id2] += t; G[id1][id2] += t; G[id2][id1] += t; // ç”¨vector(int) G[MAXN]ä¸è¡Œ-&gt;vectoræ²¡åˆå§‹åŒ–ä¸å…è®¸ç›¸åŠ  &#125; dfsTravel(); cout &lt;&lt; gang.size() &lt;&lt;endl; for (std::map&lt;string, int&gt;::iterator i = gang.begin(); i != gang.end(); ++i)&#123; cout &lt;&lt; i-&gt;first &lt;&lt;\" \" &lt;&lt; i-&gt;second &lt;&lt;endl; &#125; return 0;&#125; â–². map&lt;type1ï¼Œtype2&gt;æ˜¯è‡ªåŠ¨æŒ‰ç…§ type1ä»å°åˆ°å¤§è¿›è¡Œæ’åºçš„ï¼Œå› æ­¤ä½¿ç”¨map&lt;stringï¼Œint&gt;å»ºç«‹å¤´ç›®å§“åä¸æˆå‘˜äººæ•°çš„å…³ç³»ä¾¿äºè¾“å‡ºç»“æœã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»“æ„ä½“æ¥å­˜æ”¾å¤´ç›®å§“åä¸æˆå‘˜äººæ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º 123456789struct Gang&#123; string head; int numMember;&#125;Gangarr[MAXN];// æŒ‰å­—å…¸åºæ’åºï¼Œ mapæœ‰è¿™ä¸ªåŠŸèƒ½bool cmp(Gang &amp;a, Gang &amp;b)&#123; return a.head &lt; b.head;&#125; è¡¥å……ï¼š vectoråˆå§‹åŒ– 1234567891011// ä¸€ä½åˆå§‹åŒ– // æŒ‡å®šåˆå§‹åŒ–std::vector&lt;int&gt; v = &#123;2, 3, 4, 5&#125;; // 5ä¸ª0std::vector&lt;int&gt; v(5); // 5ä¸ª2std::vector&lt;int&gt; v(5, 2);...// äºŒç»´åˆå§‹åŒ–std::vector&lt;int&gt; v[MAXN]= &#123;&#123;2, 4, 1&#125;, &#123;3, 5, 7&#125;&#125;; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;bits/stdc++.h&gt;const int N = 1e5 + 5;struct staticList&#123; int nxt; char val; bool visited; // ç»“æ„ä½“æ•°ç»„æ¯ä¸ªå…ƒç´ éƒ½ä¼šç»è¿‡è¿™ä¸ªåˆå§‹åŒ–è¿‡ç¨‹, å› æ­¤è¿™æ­¥å°±å¯ä»¥ç›´æ¥åˆå§‹åŒ– staticList(): visited(false)&#123;&#125;;&#125;arr[N];using namespace std;int main()&#123; int start1, start2, n; scanf(\"%d %d %d\", &amp;start1, &amp;start2, &amp;n); int t = n; int addr, nexta; char c; while(t--)&#123; scanf(\"%d %c %d\", &amp;addr, &amp;c, &amp;nexta); arr[addr].val = c; arr[addr].nxt = nexta; &#125; int ans; // æ³¨æ„è¿™è¾¹ç»“æŸç»“æŸæ¡ä»¶æ˜¯ans!=-1 // å¦‚æœå†™æˆarr[addr].nxt != -1, ç¬¬4ä¸ªæµ‹è¯•ç‚¹ä¼šè¶…æ—¶ // åŸå› æ˜¯å¦‚æœstartå°±ä¸º-1, é‚£ä¹ˆä¼šè°ƒåˆ°0, 0-&gt;0, // å®é™…ä¸Šé“ç†å°±è·Ÿå†™é“¾è¡¨ä¸€æ ·: while(head != NULL) for (ans = start1; ans != -1; ans = arr[ans].nxt) &#123; arr[ans].visited = true; &#125; for (ans = start2; ans != -1; ans = arr[ans].nxt) &#123; if (arr[ans].visited) break; &#125; // if (arr[ans].nxt != -1) if (ans != -1) printf(\"%05d\\n\", ans); else printf(\"-1\\n\"); return 0;&#125; 1028 List Sorting (25åˆ†) ç®€å•æ’åº, ä½†æ˜¯ä¸èƒ½ç”¨cin, ä¸ç„¶ä¼šè¶…æ—¶ã€‚ç”¨ios::sync_with_stdioå¯ä»¥è¿‡ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;bits/stdc++.h&gt;using namespace std;struct record&#123; string id; string name; int grade; record()&#123;&#125; record(string idx, string namex, int gradex): id(idx), name(namex), grade(gradex)&#123;&#125;&#125;typedef record;bool cmp1(const record &amp;r1, const record &amp;r2)&#123; return r1.id &lt; r2.id;&#125;bool cmp2(const record &amp;r1, const record &amp;r2)&#123; if (r1.name == r2.name)&#123; return r1.id &lt; r2.id; &#125; return r1.name &lt; r2.name;&#125;bool cmp3(const record &amp;r1, const record &amp;r2)&#123; if (r1.grade == r2.grade) return r1.id &lt; r2.id; return r1.grade &lt; r2.grade;&#125;int main()&#123; int n, c; ios::sync_with_stdio(false); cin &gt;&gt; n &gt;&gt;c; vector&lt;record&gt; v; for (int i = 0; i &lt; n; i++) &#123; string idx, name; int grade; cin &gt;&gt; idx &gt;&gt; name &gt;&gt; grade; record r = record(idx, name, grade); v.push_back(r); &#125; if (c == 1)&#123; sort(v.begin(), v.end(), cmp1); &#125;else if (c == 2)&#123; sort(v.begin(), v.end(), cmp2); &#125;else&#123; sort(v.begin(), v.end(), cmp3); &#125; for (int i = 0; i &lt; v.size(); i++) &#123; record r = v.at(i); cout &lt;&lt; r.id &lt;&lt;\" \" &lt;&lt; r.name &lt;&lt; \" \" &lt;&lt;r.grade &lt;&lt;endl; &#125; return 0;&#125; 1029 Median 12345678910111213141516171819202122232425262728293031323334353637383940414243 #include &lt;bits/stdc++.h&gt; using namespace std;typedef long long ll; int main()&#123; ios::sync_with_stdio(false); int n, m; vector&lt;ll&gt; v1; vector&lt;ll&gt; v2; ll tmp; cin &gt;&gt; n; for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; tmp; v1.push_back(tmp); &#125; cin &gt;&gt; m; for (int j = 0; j &lt; m; j++) &#123; cin &gt;&gt; tmp; v2.push_back(tmp); &#125; int a = 0, b = 0; int x = 0; int len1 = v1.size(), len2 = v2.size(); int sumlen = len1 + len2 + 1 &gt;&gt; 1; ll ans = -1; for (int i = 0, j = 0, k = 0; k &lt; sumlen ; k++) &#123; if ( ( i &lt; len1 &amp;&amp; j &gt;= len2 ) || ( i &lt; len1 &amp;&amp; j &lt; len2 &amp;&amp; v1[i] &lt;= v2[j]) )&#123; ans = v1[i]; i++; &#125;else&#123; ans = v2[j]; j++; &#125; &#125; cout &lt;&lt; ans &lt;&lt; endl; return 0; &#125; ä¸‹é¢åšæ³•æ˜¯v1, v2åœ¨æœ«å°¾éƒ½åŠ äº†ä¸ªæ— ç©·å¤§çš„æ•°, ä¿è¯ä¸ä¼šè¶Šç•Œ, åœ¨è‡ªå·±éå†å®Œåç›´æ¥éå†å¦ä¸€ä¸ªvecã€‚ æ€è·¯è·ŸPATç”²çº§è¾…å¯¼è¯¾ï¼ˆè¯•å¬è¯¾ï¼‰ï¼ˆäºŒï¼‰è®²åæ‰çš„é”®ç›˜[#1084](#1084 Broken Keyboard)ä¸€æ ·ï¼Œé˜²æ­¢j++æ— é™çš„åŠ ï¼Œ æœ€åb[j]è¶Šå‡ºè¾¹ç•Œï¼Œæ·»åŠ äº†ä¸€ä¸ªä¸ä¼šå‡ºç°çš„å­—ç¬¦# 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int INF = 0x3f3f3f3f;int main()&#123; ios::sync_with_stdio(false); int n1, n2; cin &gt;&gt; n1; vector&lt;int&gt; v1, v2; int tmp; for (int i = 0; i &lt; n1; i++) &#123; cin &gt;&gt; tmp; v1.push_back(tmp); &#125; v1.push_back(INF); cin &gt;&gt; n2; for (int i = 0; i &lt; n2; i++) &#123; cin &gt;&gt; tmp; v2.push_back(tmp); &#125; v2.push_back(INF); int cnt = 0; int mid = (n1+n2-1)/2; int i= 0, j=0; while(cnt &lt; mid)&#123; if ( v1[i] &lt; v2[j])&#123; i ++; &#125;else&#123; j ++; &#125; cnt ++; &#125; if (v1[i] &lt; v2[j]) cout &lt;&lt; v1[i] &lt;&lt; endl; else cout &lt;&lt; v2[j] &lt;&lt; endl; return 0;&#125; â–²1030 Travel Plan ç»ƒä¹ dijkstraå’Œ dijkstra+dfs æœ€ç»å…¸ã€åˆé€‚çš„ä¸€é¢˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156/* * @Author: Mrli * @Date: 2020-07-19 15:38:12 * @LastEditTime: 2020-07-19 16:18:08 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 1e3 + 5;int n, m;int arr[maxn][maxn];vector&lt;int&gt; chess;bool judge(int i)&#123; // iä¸ºè¡Œæ•°, å³æ”¾çš„ç¬¬å‡ ä¸ª // chess[x] è®°å½•çš„åˆ—æ•° for (int j = 0; j &lt; i; j++) &#123; // åŒä¸€åˆ—å’Œå¯¹è§’çº¿åˆ¤æ–­ if ( ( chess[i] == chess[j] ) || ( abs(chess[i] - chess[j]) == abs(i - j))) return false; &#125; return true;&#125;int main()&#123; int T; cin &gt;&gt; T; while(T--)&#123; cin &gt;&gt;n; chess.resize(n); bool yes = true; for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; chess[i]; if(judge(i) == false)&#123; yes = false; // break; &#125; &#125; if (yes) cout &lt;&lt; \"YES\" &lt;&lt;endl; else cout &lt;&lt; \"NO\" &lt;&lt; endl; &#125; return 0;&#125;/* * @Author: Mrli * @Date: 2020-07-19 23:55:28 * @LastEditTime: 2020-07-20 00:11:19 * @Description: Dijkstra + DFS */ #include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 5e2 + 5;const int INF = 0x3f3f3f3f;int n, m, s, d;int G[maxn][maxn];int C[maxn][maxn];int dd[maxn]; // åŒºåˆ«å°‘äº†ä¸ªcc[maxn]bool vis[maxn];vector&lt;int&gt; pre[maxn]; // pre[maxn]å˜æˆäº†vectoræ•°ç»„vector&lt;int&gt; tempPath, path; // å¤šäº†ä¸¤ä¸ªè®°å½•è·¯å¾„çš„vec, ç”¨æ¥dfsæ¯”è¾ƒ, pathä¸ºæœ€ç»ˆçš„ç­”æ¡ˆ/** åªæ¶‰åŠG[][], ä¸æ¶‰åŠC[][]*/void dijkstra(int s)&#123; fill(dd, dd+maxn, INF); dd[s] = 0; for (int i = 0; i &lt; n; i++) &#123; // å¾ªç¯nä¸ªèŠ‚ç‚¹ int u = -1, MIN = INF; for (int j = 0; j &lt; n; j++) &#123; if (vis[j] == false &amp;&amp; dd[j] &lt; MIN)&#123; MIN = dd[j]; u = j; &#125; &#125; if ( u == -1) return ; vis[u] = true; for (int v = 0; v &lt; n; v++) &#123; if ( vis[v] == false &amp;&amp; G[u][v] != INF)&#123; if ( dd[u] + G[u][v] &lt; dd[v])&#123; dd[v] = dd[u] + G[u][v]; pre[v].clear(); pre[v].push_back(u); // è®°å½•vçš„å‰é©± &#125;else if ( dd[u] + G[u][v] == dd[v] )&#123; pre[v].push_back(u); &#125; &#125; &#125; &#125;&#125;int Mincost = INF;/** åªæ¶‰åŠC[][], ä¸æ¶‰åŠG[][]*/void dfs(int v)&#123; if ( v == s)&#123; tempPath.push_back(v); int tmpCost = 0; for (int i = tempPath.size() - 1; i &gt; 0 ; i--) &#123; int idx = tempPath[i], idnxt = tempPath[i-1]; tmpCost += C[idx][idnxt]; // ä¹‹å‰çš„digistraä¸è®°å½•Cost, åªè®°å½•è·¯å¾„, DFSæ—¶æ‰¾å‡ºæœ€ä½cost &#125; if (tmpCost &lt; Mincost)&#123; Mincost = tmpCost; path = tempPath; &#125; tempPath.pop_back(); return; &#125; tempPath.push_back(v); for (int i = 0; i &lt; pre[v].size(); i++) &#123; dfs(pre[v][i]); &#125; tempPath.pop_back();&#125;int main()&#123; cin &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; d; int u, v, dist, cost; fill(G[0], G[0] + maxn* maxn , INF); for (int i = 0; i &lt; m; i++) &#123; cin &gt;&gt; u &gt;&gt; v &gt;&gt; dist &gt;&gt; cost; G[u][v] = G[v][u] = dist; C[u][v] = C[v][u] = cost; &#125; dijkstra(s); dfs(d); for (int i = path.size() - 1; i &gt;= 0; i--) &#123; printf(\"%d \", path[i]); &#125; printf(\"%d %d\\n\", dd[d], Mincost); return 0;&#125; 1031 Hello World for U æ¨¡æ‹Ÿé¢˜ 1234567891011121314151617181920212223242526272829303132333435/** @Author: Mrli* @Date: 2020-06-26 18:12:39 * @LastEditTime: 2020-06-26 19:38:37* @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;int main()&#123; ios::sync_with_stdio(false); string s; cin &gt;&gt; s; int N = s.size(); int n1 = ( N + 2 ) / 3, n3 = n1, n2 = ( N + 2 - n1 - n3); // cout &lt;&lt; n1 &lt;&lt; n2 &lt;&lt; n3 &lt;&lt; endl; for (int i = 0; i &lt; n1 -1; i++) &#123; cout &lt;&lt; s[i]; // è¾“å‡ºå·¦ä¾§å­—ç¬¦ for (int j = 1; j &lt; n2 - 1; j++) &#123; cout &lt;&lt; \" \"; // è¾“å‡ºä¸­é—´çš„ç©ºæ ¼ &#125; cout &lt;&lt; s[N - i - 1] &lt;&lt; endl; // è¾“å‡ºå³ä¾§çš„å­—ç¬¦ &#125; for (int i = 0; i &lt; n2; i++) &#123; cout &lt;&lt; s[n1 - 1 + i ]; // è¾“å‡ºæœ€åº•å±‚çš„å­—ç¬¦ &#125; return 0;&#125; 1036 Boys vs Girls è€ƒç‚¹: ç»“æ„ä½“ï¼› sortæ¯”è¾ƒå‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;bits/stdc++.h&gt;using namespace std;struct Record&#123; string name; string sex; string subject; int grade;&#125;typedef rc;bool cmp(rc &amp;r1, rc &amp;r2)&#123; if(r1.sex == \"M\" &amp;&amp; r2.sex == \"F\") return true; else if(r1.sex == \"F\" &amp;&amp; r2.sex == \"M\") return false; else return r1.grade &lt; r2.grade;&#125;int main(int argc, char const *argv[])&#123; int n; cin &gt;&gt; n; std::vector&lt;rc&gt; v(n); for (int i = 0; i &lt; n; ++i)&#123; rc r; cin &gt;&gt; r.name &gt;&gt; r.sex &gt;&gt; r.subject &gt;&gt; r.grade; v[i] = r; &#125; sort(v.begin(), v.end(), cmp); // for (std::vector&lt;rc&gt;::iterator i = v.begin(); i != v.end(); ++i) // cout &lt;&lt; i-&gt;name &lt;&lt; \" \" &lt;&lt; i-&gt;sex &lt;&lt; \" \" &lt;&lt; i-&gt;subject &lt;&lt; \" \" &lt;&lt; i-&gt;grade &lt;&lt;endl; std::vector&lt;rc&gt;::iterator boy = v.begin(); std::vector&lt;rc&gt;::iterator girl = v.end()-1; bool absent = false; if(girl-&gt;sex == \"F\")&#123; cout &lt;&lt; girl-&gt;name &lt;&lt; \" \" &lt;&lt; girl-&gt;subject &lt;&lt;endl; &#125; else&#123; cout &lt;&lt; \"Absent\" &lt;&lt; endl; absent = true; &#125; if(boy-&gt;sex == \"M\")&#123; cout &lt;&lt; boy-&gt;name &lt;&lt; \" \" &lt;&lt; boy-&gt;subject &lt;&lt;endl; &#125; else&#123; cout &lt;&lt; \"Absent\" &lt;&lt; endl; absent = true; &#125; if(!absent)&#123; cout &lt;&lt; girl-&gt;grade - boy-&gt;grade &lt;&lt; endl; &#125;else&#123; cout &lt;&lt; \"NA\" &lt;&lt;endl; &#125; return 0;&#125; 1037 Magic Coupon è´ªå¿ƒï¼Œ è¯æ˜a&gt; b, c &gt; bå­˜åœ¨ad &gt; bc 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/* * @Author: Mrli * @Date: 2020-06-26 19:38:35 * @LastEditTime: 2020-06-26 19:45:59 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int main()&#123; ios::sync_with_stdio(false); int nc, np; cin &gt;&gt; nc; vector&lt;int&gt; v1, v2; int tmp; for (int i = 0; i &lt; nc; i++) &#123; cin &gt;&gt; tmp; v1.push_back(tmp); &#125; cin &gt;&gt; np; for (int i = 0; i &lt; np; i++) &#123; cin &gt;&gt; tmp; v2.push_back(tmp); &#125; int len1 = v1.size(), len2 = v2.size(); sort(v1.begin(), v1.end()); sort(v2.begin(), v2.end()); int x, y; x = 0, y = 0; ll ans = 0; // while( v1[x] &lt; 0 &amp;&amp; v2[y] &lt; 0)&#123; while( v1[x] &lt; 0 &amp;&amp; v2[y] &lt; 0 &amp;&amp; x &lt; len1 &amp;&amp; y &lt; len2)&#123; ans += v1[x++] * v2[y++]; &#125; x = len1 - 1, y = len2 - 1; // while( v1[x] &gt; 0 &amp;&amp; v2[y] &gt; 0)&#123; while( v1[x] &gt; 0 &amp;&amp; v2[y] &gt; 0 &amp;&amp; x &gt;= 0 &amp;&amp; y &gt;= 0)&#123; ans += v1[x--] * v2[y--]; &#125; cout &lt;&lt; ans &lt;&lt; endl; return 0;&#125; 1038 Recover the Smallest Number æ–°cmpä¸­é€šè¿‡ string + string æ¥æ¯”, 1234567891011121314151617181920212223242526272829303132333435363738394041424344/* * @Author: Mrli * @Date: 2020-09-17 13:46:24 * @LastEditTime: 2020-09-17 14:09:58 * @Description: */#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n;const int maxn = 1e4 + 5;string arr[maxn];bool cmp(string &amp;a, string &amp;b)&#123; return a + b &lt; b + a;&#125;int main()&#123; ios::sync_with_stdio(false); cin.tie(0); cin &gt;&gt;n; for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; arr[i]; &#125; sort(arr, arr+n, cmp); string ans; for (int i = 0; i &lt; n; i++) &#123; ans += arr[i]; &#125; while(ans.length() != 0 &amp;&amp; ans[0] == '0') ans.erase(ans.begin()); if(ans.length() == 0) cout &lt;&lt; 0; cout &lt;&lt; ans; return 0;&#125; B1023 æœ€å°çš„æ•° è´ªå¿ƒ 1234567891011121314151617181920212223242526272829303132#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n;int arr[10];int main()&#123; ios::sync_with_stdio(false); cin.tie(0); for (int i = 0; i &lt; 10; i++) &#123; cin &gt;&gt; arr[i]; &#125; for (int i = 1; i &lt; 10; i++) &#123; if ( arr[i] &gt; 0)&#123; cout &lt;&lt; i; arr[i] --; break; &#125; &#125; for (int i = 0; i &lt; 10; i++) &#123; int len = arr[i]; for (int j = 0; j &lt; len; j++) &#123; cout &lt;&lt; i; arr[i]--; &#125; &#125; cout &lt;&lt; endl; return 0;&#125; æ€»ç»“: ä¸Šé¢ä¸¤é¢˜éƒ½æ˜¯æ ¹æ®è¾“å…¥æ’å‡ºä¸€ä¸ªæœ€å°çš„æ•°ã€‚ ç¬¬ä¸€é¢˜æ˜¯ä¸èƒ½æ”¹å˜åŸæœ‰çš„æ•°å­—é¡ºåºï¼Œ æ‰€ä»¥ç›´æ¥ç”¨stringæ‹¼æ¥æ¯”è¾ƒã€‚ ç¬¬äºŒä¸ªæ˜¯æ ¹æ®ç»™å‡º0-9æ•°å­—çš„ä¸ªæ•°è‡ªå·±å»æ’ï¼› è¿˜æœ‰ç¬¬ä¸‰ç§ï¼Œ ç±»ä¼¼ç¬¬ä¸€é¢˜çš„è¾“å…¥ï¼Œ éœ€è¦è‡ªå·±å»è®¡ç®—0-9çš„ä¸ªæ•°ï¼Œ ç„¶åå†åƒç¬¬äºŒé¢˜ä¸€æ ·å»è´ªå¿ƒæ’ 1040 Longest Symmetric String 12345678910111213141516171819202122232425262728293031323334/* * @Author: Mrli * @Date: 2020-09-17 13:07:21 * @LastEditTime: 2020-09-17 13:39:11 * @Description: */#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n;int main()&#123; ios::sync_with_stdio(false); cin.tie(0); string s; getline(cin, s); int len = s.size(); int max_ans = 0; for (int i = 0; i &lt; len; i++) &#123; // for (int j = len - 1; j &gt;= 1; j--) &#123; //245ms for (int j = len - i; j &gt;= 1 &amp;&amp; j - i &gt;= max_ans; j--) &#123; // 138ms string ss = s.substr(i, j); string rev(ss.rbegin(), ss.rend()); if ( ss == rev &amp;&amp; max_ans &lt; ss.size() )&#123; max_ans = ss.size(); &#125; &#125; &#125; cout &lt;&lt;max_ans &lt;&lt;endl; return 0;&#125; 1041 Be Unique æ¨¡æ‹Ÿé¢˜ï¼Œéš¾ç‚¹åœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªã€‚æ­¤å¤„çš„tableä¸ºintå‹æ•°ç»„çš„å“ˆå¸Œè¡¨â€“&gt;å¯ä»¥ä½¿ç”¨STLä¸­çš„mapä»£æ›¿ 123456789101112131415161718192021222324252627282930#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 1e5 + 5;int table[MAXN];int a[MAXN];int main(int argc, char const *argv[])&#123; int n; cin &gt;&gt; n; for (int i = 0; i &lt; n; ++i)&#123; // a[i]æ¥è®°å½•ä¸åŒæ•°å­—å‡ºç°çš„é¡ºåº cin &gt;&gt; a[i]; // tableè®°å½•å‡ºç°çš„æ¬¡æ•° table[a[i]] ++ ; &#125; int ans=-1; for (int i = 0; i &lt; n; ++i)&#123; // æŒ‰ç…§å‡ºç°çš„é¡ºåºéå†, æŸ¥çœ‹æ˜¯å¦æœ‰æ•°å‡ºç°çš„æ¬¡æ•°ä¸º1 if ( table[a[i]] == 1)&#123; // å¦‚æœæ‰¾åˆ°å‡ºç°æ¬¡æ•°ä¸º1çš„å°±è¾“å‡º ans = a[i]; break; &#125; &#125; if (ans == -1) cout &lt;&lt;\"None\" &lt;&lt; endl; else cout &lt;&lt;ans &lt;&lt;endl; return 0;&#125; 1042 Shuffling Machine æ¨¡æ‹Ÿé¢˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123/* * @Author: Mrli * @Date: 2020-06-26 22:57:16 * @LastEditTime: 2020-06-26 23:51:57 * @Description: */ #include &lt;bits/stdc++.h&gt;#include &lt;iomanip&gt;using namespace std;const int n = 54;string color[] = &#123;\"S\", \"H\", \"C\", \"D\", \"J\"&#125;;vector&lt;int&gt; order(n+1, 0);vector&lt;int&gt; startArr(n+1, 0);vector&lt;int&gt; endArr(n+1, 0);void init()&#123; for (int i = 1; i &lt;= n; i++) &#123; startArr[i] = i; &#125;&#125; void mock()&#123; for (int i = 0; i &lt; n; i++) &#123; endArr[i] = i; &#125;&#125; int main()&#123; int k; cin &gt;&gt; k; init(); for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; order[i]; &#125; for (int i = 1; i &lt;= k; i++) &#123; for (int j = 1; j &lt;= n; j++) &#123; endArr[order[j]]= startArr[j]; &#125; for (int j = 1; j &lt;= n; j++) &#123; startArr[j] = endArr[j]; &#125; &#125; for (int i = 1; i &lt;= n; i++) &#123; int endNum = endArr[i] - 1; if (i == n )&#123; cout &lt;&lt; color[ endNum / 13 ] &lt;&lt; endNum% 13 + 1; &#125;else&#123; cout &lt;&lt; color[ endNum / 13 ] &lt;&lt; endNum % 13 + 1&lt;&lt; \" \"; &#125; &#125; return 0;&#125;/**è‡ªå·±å†™çš„ç‰ˆæœ¬ï¼Œ å½“æ—¶æ²¡æ³¨æ„ä¸‹æ ‡*/#include &lt;bits/stdc++.h&gt;#include &lt;iomanip&gt;using namespace std;const int n = 54;string color[] = &#123;\"S\", \"H\", \"C\", \"D\", \"J\"&#125;;vector&lt;int&gt; order(n, 0);vector&lt;int&gt; startArr(n, 0);vector&lt;int&gt; endArr(n, 0);void init()&#123; for (int i = 0; i &lt; n; i++) &#123; startArr[i] = i; &#125;&#125; int main()&#123; int k; cin &gt;&gt; k; init(); for (int i = 0; i &lt; n; i++) &#123; int tmp; cin &gt;&gt; tmp; order[i] = tmp - 1; &#125; for (int i = 0; i &lt; k; i++) &#123; for (int j = 0; j &lt; n; j++) &#123; endArr[order[j]]= startArr[j]; &#125; for (int j = 0; j &lt; n; j++) &#123; startArr[j] = endArr[j]; // cout &lt;&lt; startArr[j] &lt;&lt; \" \"; &#125; // cout &lt;&lt; endl; &#125; for (int i = 0; i &lt; n; i++) &#123; int endNum = endArr[i]; if (i == n - 1)&#123; cout &lt;&lt; color[ endNum / 13 ] &lt;&lt; endNum% 13 + 1; &#125;else&#123; cout &lt;&lt; color[ endNum / 13 ] &lt;&lt; endNum % 13 + 1&lt;&lt; \" \"; &#125; &#125; return 0;&#125; 1043 Is It a Binary Search Tree äºŒå‰æœç´¢æ ‘: è¦ç‚¹: å»ºæ ‘çš„æ—¶å€™insertå‡½æ•°ä¸­å¦‚æœval==ç»“ç‚¹val, é‚£ä¹ˆå½“å‰èŠ‚ç‚¹è¯¥æ’åˆ°å³è¾¹ä¸­ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114/* * @Author: Mrli * @Date: 2020-06-27 10:52:28 * @LastEditTime: 2020-06-27 16:17:04 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;vector&lt;int&gt; origin, pre, preM, post, postM;struct Node&#123; int v; Node* lc, *rc; Node()&#123;&#125; Node(int val)&#123; v = val; lc = rc = NULL; &#125;&#125;typedef Node;/**æ ¹æ®BSTè§„åˆ™è¿›è¡Œæ’å…¥*/void insert(Node * &amp;root, int val)&#123; if (root == NULL) &#123; root = new Node(val); // åˆ›å»ºæ ‘æ ¹èŠ‚ç‚¹ return ; // è¿™è¾¹è®°å¾—return ç»“æŸ &#125; if ( val &lt; root-&gt;v ) insert(root-&gt;lc, val); else insert(root-&gt;rc, val); // â–²key: BSTç»“ç‚¹ç›¸åŒæ—¶æ”¾å³è¾¹&#125;void preOrder(Node* root, vector&lt;int&gt; &amp;v)&#123; if (root == NULL ) return ; v.push_back(root-&gt;v); preOrder(root-&gt;lc, v); preOrder(root-&gt;rc, v);&#125;void preMOrder(Node* root, vector&lt;int&gt; &amp;v)&#123; if (root == NULL ) return ; v.push_back(root-&gt;v); preMOrder(root-&gt;rc, v); preMOrder(root-&gt;lc, v);&#125;void postOrder(Node* root, vector&lt;int&gt; &amp;v)&#123; if (root == NULL ) return ; postOrder(root-&gt;lc, v); postOrder(root-&gt;rc, v); v.push_back(root-&gt;v);&#125;void postMOrder(Node* root, vector&lt;int&gt; &amp;v)&#123; if (root == NULL ) return ; postMOrder(root-&gt;rc, v); postMOrder(root-&gt;lc, v); v.push_back(root-&gt;v);&#125;int main()&#123; int n; int tmp; cin &gt;&gt; n; Node* root = NULL; for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; tmp; origin.push_back(tmp); insert(root, tmp); &#125; preOrder(root, pre); // for(auto i: pre)&#123; // cout &lt;&lt; i &lt;&lt; \" \"; // &#125; // cout &lt;&lt;endl; preMOrder(root, preM); postOrder(root, post); postMOrder(root, postM); if ( origin == pre )&#123; cout &lt;&lt; \"YES\" &lt;&lt; endl; for (int i = 0; i &lt; post.size(); i++) &#123; if (i != post.size() - 1) cout &lt;&lt; post.at(i) &lt;&lt; \" \"; else cout &lt;&lt; post.at(i) &lt;&lt; endl; &#125; &#125;else if (origin == preM)&#123; cout &lt;&lt; \"YES\" &lt;&lt; endl; for (int i = 0; i &lt; postM.size(); i++) &#123; if (i != postM.size() - 1) cout &lt;&lt; postM.at(i) &lt;&lt; \" \"; else cout &lt;&lt; postM.at(i) &lt;&lt; endl; &#125; &#125;else&#123; cout &lt;&lt; \"NO\" &lt;&lt;endl; &#125; return 0;&#125; 1044 Shopping in Mars å‰ç¼€å’Œ + äºŒåˆ† æœ¬é¢˜æ€è·¯æœ€å¤§çš„äº®ç‚¹åœ¨äºï¼Œ ç”¨å‰ç¼€å’Œæ„é€ äº†å•è°ƒé€’å¢çš„æ•°åˆ—ï¼Œ ç„¶åä½¿ç”¨äºŒåˆ† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n;int s;vector&lt;int&gt;sum;// [L, r)æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºxçš„ä½ç½®int upper_bound(int left, int right, int x)&#123; int mid; int l = left, r = right; while( l &lt; r)&#123; mid = (l+r) &gt;&gt; 1; if ( sum[mid] &gt; x)&#123; r = mid; &#125;else&#123; l = mid + 1; &#125; &#125; return l;&#125;int main()&#123; ios::sync_with_stdio(false); cin.tie(0); cin &gt;&gt; n &gt;&gt; s; sum.resize(n+1, 0); for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; sum[i]; sum[i] = sum[i] + sum[i-1]; &#125; int nearS = INF; // ä¸ºæœ€æ¥è¿‘Sçš„æœ€å°å€¼ for (int i = 1; i &lt;= n; i++) &#123; // ä½¿ç”¨STLå‡½æ•° int j = upper_bound(sum.begin()+i, sum.end(), sum[i-1] + s, less&lt;int&gt;()) - sum.begin() ; // æ•™æ:æ³•äºŒ // int j = upper_bound(i, n + 1, sum[i-1]+s); // jä¸ºå¤§äºç­‰äº sum[i-1] + Sçš„å€¼, å¦‚æœèƒ½å’Œä¸ºs, é‚£ä¹ˆsum[j-1]å°±æ˜¯èƒ½å¯¹åº”åŒ¹é…çš„å€¼ if ( sum[j-1] - sum[i-1] == s)&#123; nearS = s; break; // å¦åˆ™sum[j] - sum[i-1] å¯èƒ½ä¸ºæœ€æ¥è¿‘çš„ &#125;else if ( j &lt;=n &amp;&amp; sum[j] - sum[i-1] &lt; nearS )&#123; nearS = sum[j] - sum[i-1]; &#125; &#125; for (int i = 1; i &lt;= n ; i++) &#123; int j = upper_bound(sum.begin()+i, sum.end(), sum[i-1] + nearS, less&lt;int&gt;())- sum.begin() ; // int j = upper_bound(i, n + 1, sum[i-1]+nearS); if ( sum[j-1] - sum[i-1] == nearS)&#123; cout &lt;&lt; i &lt;&lt; \"-\" &lt;&lt; j-1 &lt;&lt;endl; &#125; &#125; return 0;&#125; 1046 Shortest Distance 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;using namespace std;typedef long long ll;int main()&#123; int N; ll d; vector&lt;ll&gt; distArr; // å­˜æ”¾çš„æ˜¯ç¬¬i + 1å·åˆ°èµ·ç‚¹çš„é¡ºæ—¶é’ˆè·ç¦»å’Œ ll sum = 0; cin &gt;&gt; N; // ä¹¦ä¸Šç­”æ¡ˆ // distArr.resize(N + 1); // distArr[0] = 0; // for (int i = 1; i &lt;= N; i++) &#123; // cin &gt;&gt; distArr[i]; // sum += distArr[i]; // distArr[i] = distArr[i] + distArr[i- 1]; // &#125; distArr.resize(N); distArr[0] = 0; for (int i = 1; i &lt; N; i++) &#123; cin &gt;&gt; distArr[i]; distArr[i] = distArr[i] + distArr[i-1]; &#125; int lastDist; cin &gt;&gt; lastDist; sum = lastDist + distArr[N-1]; int k; int s, t; cin &gt;&gt; k; for (int i = 0; i &lt; k; i++) &#123; cin &gt;&gt; s &gt;&gt; t; if (t &lt; s) swap(s, t); ll twoDist = distArr[t - 1] - distArr[s - 1]; cout &lt;&lt; min( twoDist, sum - twoDist ) &lt;&lt; endl; &#125; return 0;&#125; 1050 String Subtraction é¢˜æ„:å°†S1ä¸­å‡ºç°çš„S2å­—ç¬¦å…¨éƒ¨åˆ é™¤ã€‚ è§£é¢˜ï¼šåˆ ä¸€ä¸ªæ”¹ä¸€ä¸ªï¼Œä½†æ˜¯è€ƒè™‘åˆ°å­—ç¬¦ä¸²å¯ä»¥ç†è§£ä¸ºæ•°ç»„ï¼Œæ‰€ä»¥ä¿®æ”¹å¿…ç„¶è¦ç‰µæ‰¯åˆ°ç§»ä½ã€‚æ­¤æ—¶æœ‰ä¸ªç»†èŠ‚ï¼Œåˆ°åº•æ˜¯ä»å¤´å¾€åéå†è¿˜æ˜¯ä»åå¾€å‰éå†ã€‚ä»å‰å¾€åä¿®æ”¹å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœæ˜¯åˆ¤æ–­ç›¸ç­‰åç«‹é©¬ä¿®æ”¹,åˆ™åé¢çš„ç´¢å¼•å€¼ä¼šé”™ä½(å› ä¸ºåˆ é™¤ååé¢çš„å­—ç¬¦ä¸²å¾€å‰è°ƒæ•´,è€ŒæŒ‡é’ˆå´+1,æ‰€ä»¥ä¼šç•¥è¿‡ä¸€ä¸ªå­—ç¬¦) çªç„¶å‘ç°è¿™ä¸ªç§»ä½çš„åŠŸèƒ½ä¸éœ€è¦è‡ªå·±å†™ï¼Œstringæœ‰æä¾›eraseå‡½æ•°ï¼ï¼šC++ stringå­—ç¬¦ä¸²ä¿®æ”¹å’Œæ›¿æ¢æ–¹æ³•è¯¦è§£ ï¼ˆ1ï¼‰erase(pos,n); åˆ é™¤ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚erase(0,1)å°±æ˜¯åˆ é™¤ç¬¬ä¸€ä¸ªå­—ç¬¦ ï¼ˆ2ï¼‰erase(position);åˆ é™¤positionå¤„çš„ä¸€ä¸ªå­—ç¬¦(positionæ˜¯ä¸ªstringç±»å‹çš„è¿­ä»£å™¨),å¦‚æœæ˜¯æ•°å­—ä¼šæˆªæ–­ç´¢å¼•å€¼ä¸ºpositionåå­—ç¬¦ä¸² ï¼ˆ3ï¼‰erase(first,last);åˆ é™¤ä»firståˆ°lastä¹‹é—´çš„å­—ç¬¦ï¼ˆfirstå’Œlastéƒ½æ˜¯è¿­ä»£å™¨ï¼‰ â–³å› æ­¤ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ä»åå¾€å‰ç”¨eraseå‡½æ•°è¿›è¡Œåˆ é™¤ï¼›è¯»å–è¡Œå†…å®¹ä½¿ç”¨getline 12345678910111213141516171819#include &lt;bits/stdc++.h&gt;using namespace std;int main(int argc, char const *argv[])&#123; string origin; string out; getline(cin, origin); getline(cin, out); int Lorigin = origin.size(); int Lout = out.size(); for (int j = Lorigin-1; j &gt;= 0; --j)&#123; for (int i = 0; i &lt; Lout; ++i)&#123; // åœ¨string2ä¸­æ‰¾ ==&gt; æ‰¾æŸä¸ªæ˜¯å¦å­˜åœ¨--&gt; hashmap if(origin[j] == out[i])&#123; origin.erase(j,1); &#125; &#125; &#125; cout &lt;&lt; origin &lt;&lt;endl; return 0;&#125; 123456789101112131415161718192021public class StringSubtraction1035 &#123; public static void main(String[] args) &#123; String longs, shorts; Scanner scanner = new Scanner(System.in); longs = scanner.nextLine(); // é‡åˆ°\\nç»“æŸè¯»å–, \\nä¸åœ¨stringä¸­ shorts = scanner.nextLine(); HashMap&lt;Character, Integer&gt; hs = new HashMap&lt;&gt;(); for (int i = 0; i &lt; shorts.length(); i++) &#123; hs.put(shorts.charAt(i), 1); &#125; for (int i = 0; i &lt; longs.length(); i++) &#123; if (!hs.containsKey(longs.charAt(i))) &#123; System.out.print(longs.charAt(i)); &#125; &#125; System.out.println(); &#125;&#125; 1234567891011//åŸºäºå¹³è¡¡æ ‘å®ç°ï¼š0ï¼ˆlognï¼‰//æœ‰åºset&lt;int&gt;a;map&lt;intï¼Œint&gt;b;multiset&lt;int&gt;c;multiset&lt;intï¼Œint&gt;d;//åŸºäºå“ˆå¸Œè¡¨å®ç°ï¼š0ï¼ˆ1ï¼‰//æ— åºunordered_set&lt;int&gt;e;unordered_map&lt;intï¼Œint&gt;f;unordered_multiset&lt;int&gt;g;unordered_multimap&lt;intï¼Œint&gt;h; 1052 Linked List Sorting 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172/* * @Author: Mrli * @Date: 2020-06-27 16:20:42 * @LastEditTime: 2020-06-27 17:31:58 * @Description: */ #include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;using namespace std;typedef long long ll;int n;const int MAXN = 1e6;struct node&#123; int val; // addrä¸ºäº†åœ¨æœ€åéå†è¾“å‡ºç»“æœæ—¶è¾“å‡º, nextaddrä¸ºäº†èƒ½å¤ŸæŒ‰ç…§ä¸€å¼€å§‹ç»™å®šçš„é“¾è¡¨é¡ºåºéå†æ•´æ¡é“¾è¡¨ int addr, nextaddr; bool flag; // è®¡ç®—å“ªäº›èŠ‚ç‚¹æ˜¯åœ¨é“¾è¡¨ä¸Šçš„ node()&#123; flag = false; &#125;&#125;;// node v[MAXN];vector&lt;node&gt; v(MAXN);bool cmp(node a, node b)&#123; if ( a.flag == false || b.flag == false)&#123; return a.flag &gt; b.flag; &#125;else&#123; return a.val &lt; b.val; &#125;&#125;int main()&#123; cin &gt;&gt;n; int root; cin &gt;&gt; root; for (int i = 0; i &lt; n; i++) &#123; int addr, val, nextaddr; cin &gt;&gt; addr &gt;&gt; val &gt;&gt; nextaddr; v[addr].addr =addr ; v[addr].val = val; v[addr].nextaddr = nextaddr; &#125; // è®¡ç®—æœ‰æ•ˆèŠ‚ç‚¹ int cnt = 0, p = root; while( p != -1)&#123; v[p].flag = true; cnt ++ ; p = v[p].nextaddr; &#125; if (!cnt)&#123; printf(\"0 -1\\n\"); &#125;else&#123; sort(v.begin(), v.end(), cmp); // ç”¨vectoræ—¶ // sort(v, v+MAXN, cmp); ç”¨æ•°ç»„æ—¶ printf(\"%d %05d\\n\", cnt, v[0].addr); for (int i = 0; i &lt; cnt; i++) &#123; if ( i != cnt - 1) printf(\"%05d %d %05d\\n\", v[i].addr, v[i].val, v[i+1].addr); else printf(\"%05d %d -1\\n\", v[i].addr, v[i].val); &#125; &#125; return 0;&#125; 1053 Path of Equal Weight 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768/* * @Author: Mrli * @Date: 2020-06-27 16:20:42 * @LastEditTime: 2020-06-27 18:07:21 * @Description: */ #include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;using namespace std;typedef long long ll;const int MAXN = 100 + 5;struct Tree&#123; int w; vector&lt;int&gt; ch;&#125;v[MAXN];bool cmp(int a, int b)&#123; return v[a].w &gt; v[b].w;&#125;// å­˜æ”¾è·¯å¾„ä¸ŠèŠ‚ç‚¹çš„idvector&lt;int&gt; path;void dfs(int iddex, int nowS, int target)&#123; if (nowS &gt; target)&#123; return ; &#125;else if( nowS == target)&#123; if(v[iddex].ch.size() != 0 ) return ; // æœªåˆ°å¶å­èŠ‚ç‚¹ for (int i = 0; i &lt; path.size(); i++) &#123; if ( i == path.size() - 1) cout &lt;&lt; v[path[i]].w &lt;&lt;endl; else cout &lt;&lt; v[path[i]].w &lt;&lt;\" \"; &#125; return ; &#125; // nows &lt; target for (int i = 0; i &lt; v[iddex].ch.size(); i++) &#123; int nxtNode = v[iddex].ch[i]; path.push_back(nxtNode); dfs(nxtNode, nowS + v[nxtNode].w, target); path.pop_back(); &#125;&#125;int main()&#123; int nn, notleaf, s; int tmp; cin &gt;&gt; nn &gt;&gt; notleaf &gt;&gt; s; for (int i = 0; i &lt; nn; i++) &#123; cin &gt;&gt; v[i].w; &#125; int id, k, c; for (int j = 0; j &lt; notleaf; j++) &#123; cin &gt;&gt; id &gt;&gt; k; for (int i = 0; i &lt; k; i++) &#123; cin &gt;&gt; c; v[id].ch.push_back(c); &#125; sort(v[id].ch.begin(), v[id].ch.end(), cmp); &#125; path.push_back(0); dfs(0, v[0].w, s); return 0;&#125; 1054 The Dominant Color 1234567891011121314151617181920212223242526#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 1000+5;int main()&#123; int M, N; map&lt;string, int&gt; mp; string tmp; cin &gt;&gt; M &gt;&gt; N; for(int i=0;i&lt;N;i++)&#123; for(int j=0;j&lt;M;j++)&#123; cin &gt;&gt; tmp; mp[tmp]++; &#125; &#125; int maxn = -1; string ans; for(auto m:mp)&#123; if(m.second &gt; maxn)&#123; maxn = m.second; ans = m.first; &#125; &#125; cout &lt;&lt; ans &lt;&lt; endl; return 0;&#125; 1055 The Worldâ€™s Richest 1056 Mice and Rice é¢˜ç›®æœ‰ç‚¹é•¿ï¼Œçœ‹äº†é¢˜è§£çš„è§£é‡Šæ‰æ‡‚ã€‚åœ¨æ­¤å¤è¿°ä¸€éï¼šç»™ä½ NPä¸ªè€é¼ ä»¥åŠä»–ä»¬çš„é‡é‡Wï¼Œæ¯NGä¸ªè€é¼ åˆ†ä¸ºä¸€ç»„ï¼Œä¸å¤ŸNGä¸ªæ•°çš„å•ç‹¬ç®—ä¸€ä¸ªç»„ï¼Œæ¯”è¾ƒä»–ä»¬æ¯ä¸ªç»„çš„æœ€å¤§å€¼ï¼Œå°†æœ€å¤§å€¼è¿›å…¥ä¸‹ä¸€è½®çš„æ¯”è¾ƒï¼ŒåŒç»„å…¶ä½™è€é¼ çš†ä¸ºæ·˜æ±°ï¼Œå¹¶ä¸å…¶ä»–ç»„åŒæ—¶è¢«æ·˜æ±°çš„è€é¼ æ’åä¸€è‡´ï¼Œæœ€åæ±‚æ‰€æœ‰è€é¼ çš„æ’åã€‚ è¾“å…¥è§£é‡Šï¼šç¬¬ä¸€è¡Œåˆ†åˆ«ä¸ºNPå’ŒNGï¼Œç¬¬äºŒè¡Œæ˜¯æ¯ä¸ªè€é¼ çš„ä½“é‡ï¼Œç¬¬ä¸‰è¡Œæ˜¯æ¯ä¸ªè€é¼ çš„ç¼–å·ã€‚ç¬¬ä¸‰è¡Œçš„éœ€è¦ç‰¹è¡¨è¯´æ˜ï¼Œå¦‚è¾“å…¥æ ·ä¾‹ï¼š6 0 8 7 10 5 9 1 4 2 3ï¼Œ æ„æ€æ˜¯æ ‡å·6ã€0ã€8ä¸ºä¸€ç»„ï¼Œ7ã€10ã€5ä¸ºä¸€ç»„ï¼Œä¸€æ¬¡å¾€åï¼Œå³è¿™è¡Œè¯´æ˜çš„æ˜¯åˆ†ç»„é¡ºåº è§£é¢˜æ€è·¯ï¼š è¿™é“é¢˜çš„éš¾ç‚¹åœ¨äºå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæ¯”è¾ƒå¹¶è¿›è¡Œæ’åï¼Œå…¶ä¸­ï¼Œè€é¼ çš„æ’å==è¯¥è½®æ¯”èµ›åˆ†ç»„ä¸ªæ•°+1â€”â€”æœ¬è½®æ¯”è¾ƒåˆ†groupä¸ªç»„ï¼Œæ„å‘³ç€æœ‰groupä¸ªä¼˜èƒœè€…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä½™æ‰€æœ‰è¢«æ·˜æ±°çš„éƒ½åœ¨è¿™groupä¹‹åï¼Œå³group+1.æ‰€ä»¥æˆ‘ä»¬ç›´æ¥æ¯è½®çš„åˆ†ç»„æ•°å³å¯ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 10e3 + 5;struct mice&#123; int weight; int num; int init; int rank;&#125;typedef mice;int main(int argc, char const *argv[])&#123; int NP, NG; cin &gt;&gt; NP &gt;&gt; NG; std::vector&lt;mice&gt; v(NP); queue&lt;int&gt; q; // å­˜å‚¨ä¸‹æ ‡ for (int i = 0; i &lt; NP; ++i)&#123; cin &gt;&gt; v.at(i).weight; &#125; for (int i = 0; i &lt; NP; ++i)&#123; int tmp; cin &gt;&gt; tmp; q.push(tmp); &#125; int turnP; while(q.size() &gt; 1)&#123; int turnP = q.size(); // è®°å½•æ¯è½®çš„æ‰€æœ‰äººæ•°ï¼Œq.size()ä¸ºæ€»äººæ•°ï¼Œ+1æ˜¯ç»“æŸå€¼ int turnG = (turnP%NG==0) ? turnP/NG : turnP/NG + 1; // è¯¥è½®åˆ†ç»„ä¸ªæ•° for (int j = 0; j &lt; turnG; ++j)&#123; // å¾ªç¯ç»“æŸä¸ºä¸€è½® std::vector&lt;int&gt; cmp; // æ‰¾å‡ºè¯¥groupä¸­çš„æœ€å¤§æ•° for (int i = 0; i &lt; NG; ++i)&#123; // å°†å…ƒç´ åŠ å…¥cmpä¸­ // j:0-3, NG=3, i=0-2 if( j * NG + i == turnP) break; // å½“è¶…å‡ºå«æœ‰æ•°é‡æ—¶ç»“æŸ // æ ·ä¾‹è¾“å…¥NP=11ï¼Œ0-10,åˆ°11æ—¶æ— æ•ˆ cmp.push_back(q.front()); q.pop(); &#125; /** è°ƒè¯•éƒ¨åˆ† */ cout &lt;&lt; \" cmp.size():\"&lt;&lt; cmp.size()&lt;&lt; endl; for (int i = 0; i &lt; cmp.size(); ++i) &#123; cout &lt;&lt; cmp[i] &lt;&lt; \"\\t\"; &#125; cout &lt;&lt; endl; int maxV = v.at(cmp[0]).weight; // å½“å‰ç»„ä¸­çš„ä½“é‡æœ€å¤§å€¼ int maxI = 0; // å½“å‰ç»„ä¸­æœ€å¤§å€¼çš„ç´¢å¼• cout &lt;&lt; \"åˆå§‹æœ€å¤§å€¼:\" &lt;&lt; maxV &lt;&lt; endl; for (int i = 0; i &lt; cmp.size(); ++i)&#123;// å¦‚æœæ­£å¥½èƒ½å…¨éƒ¨åˆ†å®Œ int w = v.at(cmp[i]).weight; if ( w &gt; maxV)&#123; maxV = w; maxI = i; &#125; // &#125;else&#123; // è¢«æ·˜æ±°çš„,æ’åä¸ºè¯¥è½®åˆ†ç»„æ•°+1 // v.at(cmp[i]).rank = turnG + 1; // &#125; v.at(cmp[i]).rank = turnG + 1; cout &lt;&lt; \"æ›´æ–°rankï¼š\" &lt;&lt; cmp[i] &lt;&lt; \"ä¸º\" &lt;&lt; turnG + 1&lt;&lt;endl; &#125; cout &lt;&lt; \"æœ€å¤§å€¼ï¼š\" &lt;&lt; maxV &lt;&lt; \"ç´¢å¼•å€¼\" &lt;&lt; cmp[maxI] &lt;&lt; endl; // å°†èƒœå‡ºçš„é‡æ–°åŠ å¦‚ q.push(cmp[maxI]); cout &lt;&lt; \"æœ¬gourpåŠ å…¥\" &lt;&lt; cmp[maxI] &lt;&lt; endl; cout &lt;&lt; \"q.size()\" &lt;&lt; q.size() &lt;&lt; endl; cmp.clear(); &#125; &#125;// end while when q.size == 1 int campionIndex = q.front(); cout &lt;&lt; \"campionIndex\" &lt;&lt; campionIndex &lt;&lt; endl; v[campionIndex].rank = 1; cout &lt;&lt; \"ç»“æœï¼š\" ; // æŒ‰æ ¼å¼è¾“å‡ºç»“æœ cout &lt;&lt; v[0].rank; for (int i = 1; i &lt; NP; ++i) cout &lt;&lt; \" \" &lt;&lt; v[i].rank; cout &lt;&lt; endl; return 0;&#125; â–²çœŸçš„æŒºéš¾çš„ä¸€é¢˜ï¼Œé¦–å…ˆæ˜¯é¢˜ç›®æ¯”è¾ƒéš¾ç†è§£ï¼Œå…¶æ¬¡éœ€è¦æ‰¾åˆ°å¦‚æœç¡®å®šæ¯ä¸ªplayerçš„æ’åè§„å¾‹ï¼Œæœ€åå†æ˜¯æ¯è½®ä¸­å¤„ç†ä¸æ»¡ä¸€ç»„çš„æƒ…å†µã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/* * @Author: Mrli * @Date: 2020-09-18 23:02:14 * @LastEditTime: 2020-09-18 23:10:24 * @Description: int */#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n;const int maxn = 1e5 + 5;struct Node&#123; int addr; int val; int nxt;&#125;arr[maxn];int main()&#123; ios::sync_with_stdio(false); cin.tie(0); vector&lt;Node&gt; v; int st, n, k; cin &gt;&gt; st &gt;&gt; n &gt;&gt; k; int addr; for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; addr; cin &gt;&gt; arr[addr].val &gt;&gt; arr[addr].nxt; arr[addr].addr = addr; &#125; int p = st; while( p != -1)&#123; v.push_back(arr[p]); p = arr[p].nxt; &#125; int group = v.size() / k; for (int i = 0; i &lt; group; i++) &#123; reverse(v.begin() + i * k, v.begin() + i * k + k); &#125; for (int i = 0; i &lt; v.size(); i++) &#123; printf(\"%05d %d \", v[i].addr, v[i].val); if ( i &lt; v.size() - 1) printf(\"%05d\\n\", v[i+1].addr); else printf(\"-1\\n\"); &#125; return 0;&#125; 1057 Stack åˆ†å—æ€æƒ³ï¼Œ å¯ä»¥å®æ—¶åŠ¨æ€æŸ¥è¯¢topK ç¢°åˆ°ä¸€ä¸ªé—®é¢˜, ios::sync_with_stdio(false);ä½¿ç”¨åé‡å®šå‘çš„ç»“æœè·Ÿç›´æ¥å±å¹•è¾“å…¥çš„ç»“æœä¸ä¸€è‡´ï¼Œ [1077 [Kuchiguse]](#1077 [Kuchiguse])(åŒæ ·ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› è¿‡ä¸äº†OJ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778/* * @Author: Mrli * @Date: 2020-09-17 16:21:00 * @LastEditTime: 2020-09-20 11:02:11 * @Description: */#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e5 + 5;const int sqrN = sqrt(maxn);const int INF = 0x3f3f3f3f;int n;stack&lt;int&gt; st;int table[maxn];int block[sqrN];void peekMedian(int k)&#123; int sum = 0; int idx = 0; while( sum + block[idx] &lt; k)&#123; sum += block[idx]; idx += 1; &#125; int num = idx * sqrN; while( sum + table[num] &lt; k)&#123; sum += table[num]; num += 1; &#125; printf(\"%d\\n\", num); &#125;void Push(int x)&#123; st.push(x); block[ x / sqrN ] ++ ; table[x] ++;&#125;void Pop()&#123; int x = st.top(); st.pop(); block[ x / sqrN] --; table[x] --; cout &lt;&lt; x &lt;&lt;endl;&#125;int main()&#123; cin &gt;&gt; n; string op; while(n -- )&#123; cin &gt;&gt; op; if (op == \"Pop\")&#123; if ( st.size() == 0) cout &lt;&lt; \"Invalid\" &lt;&lt; endl; else Pop(); &#125;else if ( op == \"PeekMedian\")&#123; int len = st.size(); int k; if ( len == 0) cout &lt;&lt; \"Invalid\" &lt;&lt; endl; else &#123; if (len % 2 == 0)&#123; k = len / 2; &#125;else&#123; k = (len+1) / 2; &#125; peekMedian(k); &#125; &#125;else if (op == \"Push\")&#123; int tmp; cin &gt;&gt; tmp; Push(tmp); &#125; &#125; return 0;&#125; 1062 Talent and Virtue é¢˜æ„ç†è§£: å°†è¾“å…¥çš„äººåˆ†ä¸ºä¸‰ç±»ï¼Œåœ£äººsageï¼Œå›å­noblemanï¼Œæ„šäººfoolmanå’Œå°äººsmall manã€‚è¾“å‡ºä»–ä»¬çš„æ’åï¼Œè§„åˆ™å¦‚ä¸‹ï¼Œåˆ—å‡ºNè¡Œæ•°æ®ï¼ŒLæœ€ä½çº¿ï¼ŒHæœ€é«˜é™ã€‚sageä¸ºvirtueå“å¾·å’Œtalentæ‰èƒ½åˆ†æ•°éƒ½é«˜äºHï¼Œä»–ä»¬ä¹‹é—´çš„æ’åé€šè¿‡ä¸¤è€…æ€»åˆ†æ¥åŒºåˆ†ï¼›noblemanä¸ºtalentæ‰èƒ½ä½äºHï¼Œä½†æ˜¯virtueé«˜äºHçš„ï¼ŒåŒæ ·ä¹Ÿé€šè¿‡æ€»åˆ†æ¥åŒºåˆ†ï¼Œä½†æ˜¯ä»–ä»¬æ’åœ¨sageä¹‹åï¼›å¦‚æœä¸¤é¡¹å¾—åˆ†éƒ½ä½äºHï¼Œå¹¶ä¸”virtueä¸ä½äºtalentçš„ä¸ºfoolmanï¼Œä»–ä»¬æ’åœ¨noblemanä¹‹åï¼›å‰©ä¸‹è¿‡äº†Lçº¿çš„äººéƒ½æ’åœ¨foolmanä¹‹åã€‚ï¼ˆå¿…é¡»ä¸¤ä¸ªåˆ†æ•°éƒ½é«˜äºLæ‰èƒ½è¢«æ˜¾ç¤ºï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;bits/stdc++.h&gt;using namespace std;int n, L, H;struct record&#123; string ID; int de; int cai; record(string id, int d, int c): ID(id), de(d), cai(c)&#123;&#125; // record(int id, int d, int c): ID(id), de(d), cai(c)&#123;&#125;&#125;;bool cmp(const record &amp;a, const record &amp;b)&#123; if ( ( a.cai + a.de ) != ( b.cai + b.de )) return ( a.cai + a.de ) &gt; ( b.cai + b.de ); else if ( a.de != b.de) return a.de &gt; b.de; else return a.ID &lt; b.ID;&#125;int main() &#123; ios::sync_with_stdio(false); cin &gt;&gt; n &gt;&gt; L &gt;&gt; H; vector&lt;record&gt; v[4]; int total = n; for (int i = 0; i &lt; n; i++) &#123; string tmpid; // int tmpid; int tmpde, tmpcai; cin &gt;&gt; tmpid &gt;&gt; tmpde &gt;&gt; tmpcai; record r = record(tmpid, tmpde, tmpcai); if (tmpde &lt; L || tmpcai &lt; L)&#123; total --; &#125;else if ( tmpde &gt;= H &amp;&amp; tmpcai &gt;= H)&#123; v[0].push_back(r); &#125;else if ( tmpde &gt;= H &amp;&amp; tmpcai &lt; H)&#123; v[1].push_back(r); &#125;else if (tmpde &lt; H &amp;&amp; tmpcai &lt; H &amp;&amp; tmpde &gt;= tmpcai)&#123; v[2].push_back(r); &#125;else&#123; v[3].push_back(r); &#125; &#125; cout &lt;&lt; total &lt;&lt;endl; for (int i = 0; i &lt; 4; i++) &#123; sort(v[i].begin(), v[i].end(), cmp); for (int j = 0; j &lt; v[i].size(); j++) &#123; cout &lt;&lt; v[i][j].ID &lt;&lt; \" \" &lt;&lt; v[i][j].de &lt;&lt; \" \" &lt;&lt; v[i][j].cai&lt;&lt; endl; &#125; &#125; return 0;&#125; 1063 Set Similarity Ncè¡¨ç¤ºä¸¤ä¸ªé›†åˆä¸­ç›¸åŒçš„å…ƒç´ (the number of distinct common numbers shared by the two sets)ï¼ŒNtè¡¨ç¤ºä¸¤ä¸ªé›†åˆæ€»çš„ä¸ç›¸åŒå…ƒç´ çš„ä¸ªæ•°ï¼Œ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n;int main()&#123; ios::sync_with_stdio(false); cin.tie(0); cin &gt;&gt;n; // set&lt;int&gt; v[n]; vector&lt;int&gt; arr(n+1); vector&lt; set&lt;int&gt; &gt; v(n+1); int m; for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; m; arr[i] = m; int tmp; for (int j = 0; j &lt; m; j++) &#123; cin &gt;&gt; tmp; v[i].insert(tmp); &#125; &#125; int k; cin &gt;&gt; k; for (int i = 0; i &lt; k; i++) &#123; int a, b; cin &gt;&gt; a &gt;&gt; b; set&lt;int&gt; res; set_intersection(v[a].begin(), v[a].end(), v[b].begin(), v[b].end(), insert_iterator&lt;set&lt;int&gt;&gt;(res, res.begin()) ); int total = v[a].size() + v[b].size() - res.size(); printf(\"%.1lf%\\n\", res.size()*1.0 / total * 1.0 *100); &#125; return 0;&#125; 1064 Complete Binary Search Tree ä¸€æ£µæ’åºäºŒå‰æ ‘çš„ä¸­åºéå†å°±æ˜¯è¿™ä¸€ç»„æ•°çš„é€’å¢åºåˆ—ã€‚è¿™è¾¹æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œå‡è®¾ä»0å¼€å§‹ï¼Œé‚£ä¹ˆèŠ‚ç‚¹içš„å·¦å­©å­çš„æ ‡å·å°±æ˜¯2i+1ï¼Œå³å­©å­çš„æ ‡å·å°±æ˜¯2(i+1)ã€‚å…ˆå°†è¿™ç»„æ•°æŒ‰ç…§é€’å¢æ¥æ’åºï¼Œç„¶åç”¨ä¸­åºéå†å¤åŸè¿™æ£µå®Œå…¨æ’åºäºŒå‰æ ‘ï¼Œæœ€åç›´æ¥è¾“å‡ºã€‚ 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;bits/stdc++.h&gt;using namespace std;vector&lt;int&gt; v;vector&lt;int&gt; in;int n;int k = 0;// ä¸­åºéå†å¤åŸè¿™æ£µå®Œå…¨æ’åºäºŒå‰æ ‘ï¼Œ é¡ºåºè¾“å‡ºinå°±æ˜¯å±‚æ¬¡éå†void inOrder(int root)&#123; if (root &gt;= n) return ; inOrder(2*root + 1); in[root] = v[k++]; // printf(\"%d ====%d\\n\",root,k-1); inOrder(2*root + 2);&#125;int main()&#123; cin &gt;&gt; n; v.resize(n); in.resize(n); for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; v[i]; &#125; sort(v.begin(), v.end()); inOrder(0); if (n &gt; 1)&#123; cout &lt;&lt; in[0] ; for (int i = 1; i &lt; n; i++) &#123; cout &lt;&lt; \" \" &lt;&lt; in[i]; &#125; cout &lt;&lt; endl; &#125;else&#123; cout &lt;&lt; in[0] &lt;&lt;endl; &#125; return 0;&#125; 1077 Kuchiguse ç¢°åˆ°ä¸€ä¸ªé—®é¢˜, ios::sync_with_stdio(false);ä½¿ç”¨åé‡å®šå‘çš„ç»“æœè·Ÿç›´æ¥å±å¹•è¾“å…¥çš„ç»“æœä¸ä¸€è‡´ï¼Œ [1057 [ Stack]](#1057 [ Stack])åŒæ ·ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› è¿‡ä¸äº†OJ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n;int main()&#123; scanf(\"%d\", &amp;n); // cinè·Ÿgetline(cin, s)é…åˆä¼šå‡ºé—®é¢˜ï¼Œ å› æ­¤ç”¨cinåˆ†å¼€ getchar(); // è¿™è¾¹å¾—ç”¨getcharåƒæ‰æ¢è¡Œç¬¦ vector&lt;string&gt; v(n); int minLen = INF; for (int i = 0; i &lt; n; i++) &#123; getline(cin, v[i]); reverse(v[i].begin(), v[i].end()); if (v[i].size() &lt; minLen) minLen = v[i].size(); &#125; string ans = \"\"; for (int i = 0; i &lt; minLen; i++) &#123; char ch = v[0][i]; bool allmatch = true; for (int j = 1; j &lt; n; j++) &#123; if ( v[j][i] != ch)&#123; allmatch = false; break; &#125; &#125; if (allmatch == true) &#123; ans = ch + ans; &#125; else break; &#125; if (ans.empty()) cout &lt;&lt; \"nai\" &lt;&lt; endl; else cout &lt;&lt; ans &lt;&lt; endl; return 0;&#125; 1078 Hashing Hashé¢˜ï¼Œä¸€å¼€å§‹å®¡é¢˜é”™è¯¯ï¼Œæ˜¯å¹³æ–¹æ¢æµ‹æ³•ã€‚ ä¸ç®—éš¾ï¼Œè½¬åŒ–å¤§å°å¾ˆç®€å•ï¼Œä¸»è¦åœ¨è¿™ä¸ªå¹³æ–¹æ¢æµ‹ä¸Šé¢ã€‚ æ˜¯(key + step * step) % size è€Œä¸æ˜¯(key % size + step * step)ï¼Œ çŸ¥é“äº†è¿™ä¸ªï¼Œå°±æ¯”è¾ƒå¥½åŠäº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 10e6;int M, N;std::vector&lt;int&gt; in; // è®°å½•è¾“å…¥, æŸ¥è¯¢ç›¸åº”ä½ç½®æ˜¯å¦æœ‰æ•°std::vector&lt;int&gt; v; // ç”¨æ¥è®°å½•ç›¸åº”æ•°çš„ç´¢å¼•ä½ç½®, è¾“å‡ºå€¼: v[0]å°±æ˜¯ç¬¬ä¸€ä¸ªæ•°çš„hashå€¼bool isprime(int n)&#123; if ( n== 1) return false; if ( n == 2 || n == 3) return true; if ( (n%6!= 1) &amp;&amp; (n%6!= 5)) return false; int tmp = sqrt(n); for (int i = 5; i &lt;= tmp; i+=6)&#123; if ( n % i ==0 || n%(i+2) == 0) return false; &#125; return true;&#125;int main(int argc, char const *argv[])&#123; cin &gt;&gt; M &gt;&gt; N; while(!isprime(M)) M++; // â–²å°†æ•°æ‰©å¤§åˆ°æœ€å°è´¨æ•° // cout &lt;&lt; \"æœ€å°çš„è´¨æ•°ä¸º:\" &lt;&lt; M &lt;&lt; endl; v.resize(N); in.resize(M); // è¿™å¥å¾ˆé‡è¦ for (int i = 0; i &lt; N; ++i)&#123; int tmp; cin &gt;&gt; tmp; bool yes = false; for (int j = 0; j &lt; M; ++j)&#123; int index = (tmp+j*j)%M; if ( in[index] == 0)&#123; v[i] = index; in[index] = tmp; yes = true; break; &#125; &#125; if (!yes) v[i] = -1; /** ä¸ºäºŒæ¬¡å†æ•£åˆ—æ³•*/ // if(in[index] == 0)&#123; // å¦‚æœæ²¡æœ‰å†²çª, åˆ™å®‰æ”¾ // v[i] = index; // in[index] = tmp; // // cout &lt;&lt; \"yes\" &lt;&lt;endl; // &#125;else&#123; // // cout &lt;&lt; \"no\" &lt;&lt;endl; // // äºŒæ¬¡ // int new_index = index%M; // if (in[new_index] ==0)&#123; // v[i] = new_index; // in[new_index] = tmp; // &#125;else&#123; // v[i] = -1; // &#125; // &#125; &#125; // è¾“å‡ºå¤„ç† if(v[0] == -1)cout &lt;&lt; \"-\"; else cout &lt;&lt; v[0]; for (int i = 1; i &lt; N; ++i)&#123; if(v[i] == -1) cout &lt;&lt; \" -\"; else cout &lt;&lt; \" \" &lt;&lt; v[i]; &#125; cout &lt;&lt;endl; return 0;&#125; 1067 Sort with Swap(0, i) è´ªå¿ƒ: å°†0ä¸0å½“å‰æ‰€åœ¨ä½ç½®ä¸‹æ ‡çš„æ•°äº¤æ¢, å¦‚0åœ¨4ä½ç½®, é‚£ä¹ˆå°±ä¸4äº¤æ¢ã€‚è€Œä¸€ä¸ªæ•°ä¸€æ—¦è¢«äº¤æ¢è¿‡åå°±ä¸ä¼šå†éœ€è¦è¢«äº¤æ¢äº† 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;using namespace std;int main()&#123; int n ; int ans = 0; scanf(\"%d\", &amp;n); vector&lt;int&gt; v; v.resize(n); int left = n - 1; // é™¤0ä»¥å¤–å·²åœ¨è‡ªå·±ä½ç½®ä¸Šçš„ int k = 1; // å°šæœªå½’ä½çš„ä½ç½®, é»˜è®¤ä»ç¬¬0+1ä½ç½® for (int i = 0; i &lt; n; i++) &#123; int pos; scanf(\"%d\", &amp;pos); v[pos] = i; // posä½ç½®ä¸ºi if (pos == i &amp;&amp; pos != 0)&#123; // leftå®šä¹‰å°±æ˜¯é™¤0å¤–æœªå½’ä½çš„ left --; &#125; &#125; while(left &gt; 0)&#123; if (v[0] == 0)&#123; while(k &lt; n)&#123; if (v[k] != k)&#123; // æ‰¾åˆ°ä¸‹ä¸ªæœªå½’ä½çš„ä¸‹æ ‡ swap(v[0], v[k]); ans ++; break; &#125; k++; &#125; &#125; while(v[0] != 0)&#123; // 0ä¸åœ¨0ä½ä¸Š swap(v[0], v[v[0]]); ans ++; left --; &#125; &#125; printf(\"%d\\n\", ans); return 0;&#125; 1069 The Black Hole of Numbers 12345678910111213141516171819202122232425262728293031323334#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;using namespace std;typedef long long ll;string sub(string a, string b)&#123; int ansn = stoi(a) - stoi(b); string s = to_string(ansn); while(s.size()!=4) s = \"0\" + s; return s;&#125;void solution(string n)&#123; string s = n; string b = n; string tmpans; while(true)&#123; sort(s.begin(), s.end(), greater&lt;char&gt;()); // stringæ¯”è¾ƒç”¨char string revs(s.rbegin(), s.rend()); tmpans = sub(s, revs); cout &lt;&lt; s &lt;&lt; \" - \" &lt;&lt; revs &lt;&lt; \" = \" &lt;&lt; tmpans &lt;&lt; endl; s = tmpans; if (tmpans == \"0000\" || tmpans == \"6174\") break; &#125;&#125;int main()&#123; string s; cin &gt;&gt; s; while( s.size() &lt; 4) s = \"0\" + s; // ç¬¬2ã€3ã€4ä¸ªç‚¹ solution(s); return 0;&#125; 1070 Mooncake æœ€ç®€å•çš„è´ªå¿ƒ: æ‹¿å•ä»·æœ€é«˜çš„æœˆé¥¼ç§ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;using namespace std;typedef long long ll;struct mooncake&#123; double tons; // é¢˜ç›®åªæ˜¯è¯´æ­£æ•°, æ²¡è¯´æ­£æ•°, ç¬¬3ä¸ªæµ‹è¯•æ ·ä¾‹ä¼šå¡è¿™ä¸ª double totalprice; double singleprice;&#125;;bool cmp(const mooncake &amp;a, const mooncake &amp;b)&#123; return a.singleprice &gt; b.singleprice;&#125;int main()&#123; int n, d; scanf(\"%d%d\", &amp;n, &amp;d); vector&lt;mooncake&gt; v(n); for (int i = 0; i &lt; n; i++) &#123; scanf(\"%lf\", &amp;v[i].tons); &#125; for (int i = 0; i &lt; n; i++) &#123; scanf(\"%lf\", &amp;v[i].totalprice); // è¾“å…¥ç”¨%lf, è¾“å‡ºç”¨%f v[i].singleprice = v[i].totalprice / v[i].tons; &#125; sort(v.begin(), v.end(), cmp); double maxProfit = 0; int len = v.size(); for (int i = 0; i &lt; len ; i++) &#123; if ( d )&#123; if ( d &gt; v[i].tons ) &#123; d -= v[i].tons; maxProfit += v[i].totalprice; &#125;else&#123; maxProfit += v[i].singleprice * d; d = 0; &#125; &#125;else break; &#125; printf(\"%.2f\\n\", maxProfit); return 0;&#125; 1073 Scientific Notation 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;// æµ‹è¯•æ ·ä¾‹// -3.1415E+004// -3.1415926E+4// +3.1415926E-01// -3.1415926E-0005// -2.32E+0int main()&#123; ios::sync_with_stdio(false); cin.tie(0); string s; cin &gt;&gt; s; int len = s.size(); // s[0] ç¬¦å·ä½, s[1]æ•´æ•°ä½, s[2]å°æ•°ç‚¹ int dot = 2; int epos = s.find(\"E\"); int expSigPos = epos + 1; int exp = 0; // è¶Šè¿‡æŒ‡æ•°ç¬¦å·ä½, è®¡ç®—æŒ‡æ•° for (int i = expSigPos + 1; i &lt; len; i++) &#123; exp = exp*10 + (s[i] - '0'); &#125; if ( exp == 0)&#123; cout &lt;&lt; \"1\"; return 0; &#125; if ( s[0] == '-') cout &lt;&lt; \"-\"; // cout &lt;&lt;exp &lt;&lt; endl; if ( s[expSigPos] == '-')&#123; // è´ŸæŒ‡æ•° cout &lt;&lt; \"0.\"; for (int i = 0; i &lt; exp - 1; i++) &#123; // è¡¥0 cout &lt;&lt; \"0\"; &#125; for (int i = 1; i &lt; epos; i++) &#123; if ( i == dot) continue; cout &lt;&lt; s[i]; &#125; &#125;else&#123; // å°æ•°ç‚¹å’ŒEä¹‹é—´æ•°å­—çš„ä¸ªæ•° (dot, epos) int nums = epos - dot - 1; // æ˜¯å¦æœ‰å°æ•°ç‚¹ // æ— å°æ•°ç‚¹æƒ…å†µ if ( exp - nums &gt;= 0)&#123; for (int i = 1; i &lt; epos; i++) &#123; if ( i == dot) continue; cout &lt;&lt; s[i]; &#125; for (int j = 0; j &lt; exp - nums; j++) &#123; // cout &lt;&lt; \"0\"; &#125; &#125;else&#123; // ç¬¬4ä¸ªæ ·ä¾‹ // æœ‰å°æ•°ç‚¹æƒ…å†µ for (int i = 1; i &lt; epos; i++) &#123; if ( i == dot) continue; // ç•¥è¿‡å°æ•°ç‚¹ if ( i == exp + dot + 1) cout &lt;&lt;\".\"; cout &lt;&lt; s[i]; // å‡ºé”™è¿‡ä¸€æ¬¡, è¿™è¾¹ä¸åº”è¯¥æ˜¯else &#125; &#125; &#125; cout &lt;&lt; endl; return 0;&#125; 1076 Forwards on Weibo ä¸€é“å›¾çš„åŸºç¡€éå†é¢˜ã€‚è‹±æ–‡é¢˜ç›®æœ‰ç‚¹éš¾æ‡‚ã€‚æ„æ€æ˜¯Nä¸ªç‚¹ï¼ŒLå±‚æ·±åº¦æœ€å¤šèƒ½éå†åˆ°å‡ ä¸ªç‚¹ã€‚ç”±äºæœ‰å…³æ³¨å’Œè¢«å…³æ³¨çš„å…³ç³»ï¼Œæ‰€ä»¥æ˜¯æœ‰å‘å›¾ã€‚æ¥ä¸‹æ¥æœ‰Nè¡Œï¼Œåˆ†åˆ«è¡¨ç¤ºç”¨æˆ·iæœ‰M[i]ä¸ªå…³æ³¨ï¼Œå› æ­¤M[i]ä¸ªuser[j]è½¬å‘çš„æ–‡ç« å¯ä»¥è¢«ç”¨æˆ·iå†æ¬¡è½¬å‘ã€‚æœ€åä¸€è¡Œæ˜¯å›ç­”Kä¸ªé—®é¢˜ï¼Œåˆ†åˆ«æ˜¯K[i]å‘æ–‡ç« åœ¨Lçš„é™åˆ¶å†…æœ€å¤šè¢«å‡ ä¸ªäººè½¬å‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 10e4 + 5; struct Node&#123; int id; // å½“å‰èŠ‚ç‚¹çš„ç¼–å· int layer; // å½“å‰çš„å±‚æ•°&#125;typedef Node;std::vector&lt;Node&gt; G[MAXN];bool visited[MAXN] = &#123;false&#125;;/** * [BFS description] * @author mrli 2020-02-21 * @param s [èµ·ç‚¹] * @param L [æœ€å¤§æ·±åº¦] */int BFS(int s, int L)&#123; int ans = 0; queue&lt;Node&gt; q; Node tmp; tmp.id = s; tmp.layer = 0; q.push(tmp); // å°†èµ·ç‚¹å‹å…¥é˜Ÿåˆ— visited[s] = true; // è®°å¾—å¯¹èµ·ç‚¹åšè®¾ç½® while(!q.empty())&#123; tmp = q.front(); q.pop(); int u = tmp.id; for (int v = 0; v &lt; G[u].size(); ++v)&#123; // BFSå±‚æ¬¡éå†è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰ç»“ç‚¹ Node next = G[u][v]; next.layer = tmp.layer + 1; // ç”¨BFSçš„å½¢å¼æ¥ç»´æŠ¤æ·±åº¦ if( visited[next.id] == false &amp;&amp; next.layer &lt;= L )&#123; // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¢«è®¿é—®, ä¸”åœ¨Læ·±åº¦å†…, åˆ™ç­”æ¡ˆ++ q.push(next); visited[next.id] = true; // â–³å¯¹è®¿é—®è¿‡çš„è®¾ç½®ä¸èƒ½å¿˜è®° ans ++ ; // cout &lt;&lt; \"next.id: \" &lt;&lt; next.id &lt;&lt;'\\t'; &#125; &#125; &#125; return ans;&#125;int main(int argc, char const *argv[])&#123; int N, L; cin &gt;&gt; N &gt;&gt; L; Node user; for (int i = 1; i &lt;= N; ++i)&#123; // ç¼–å·ä»1å¼€å§‹-&gt;æ ¹æ®é¢˜ç›®Ké—®é¢˜çš„å½¢å¼ç¡®å®š user.id = i; int follownum; // è·Ÿéšjçš„ç”¨æˆ·äººæ•° cin &gt;&gt; follownum; for (int j = 0; j &lt; follownum; ++j)&#123; int follow; cin &gt;&gt; follow; G[follow].push_back(user); &#125; &#125; // answer to the question int numQuery, s; cin &gt;&gt; numQuery; for (int i = 0; i &lt; numQuery; ++i)&#123; cin &gt;&gt; s; memset(visited, false, sizeof(visited)); int ans = BFS(s, L); cout &lt;&lt; ans &lt;&lt;endl; &#125; return 0;&#125; 1081 Rational Sum åˆ†æ•°è®¡ç®—çš„åŠ å¼ºç‰ˆï¼Œå¤šä¸ªåˆ†æ•°ç›¸åŠ ã€‚æˆ‘é‡‡ç”¨äº†ä¸€æ¬¡æ€§è®¡ç®—ï¼Œå…¶å®å¯ä»¥ç›´æ¥ç”¨ä¹™çº§çš„åšæ³•ï¼Œä¸¤ä¸ªä¸¤ä¸ªä¾æ¬¡è®¡ç®—ã€‚ â–²ç‰›å®¢ç½‘å’ŒPTAçš„æ ·ä¾‹ç‚¹çœŸçš„ä¸ä¸€æ ·ï¼ŒPTAä¸Šæˆ‘æœ‰ä¸€ä¸ªç‚¹è¿‡ä¸äº†ï¼Œä½†ç‰›å®¢çš„éƒ½èƒ½è¿‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include &lt;bits/stdc++.h&gt;typedef long long ll;#define INF 0x3f3f3fusing namespace std;struct Fenshu&#123; ll fenmu; ll fenzi;&#125;typedef Fenshu;// æ‰¾åˆ°åˆ†å­å’Œåˆ†æ¯çš„æœ€å¤§å…¬å› æ•°ll biggestNum(ll a, ll b)&#123; if (b==0) return a; return biggestNum(b,a%b);&#125;// æ‰¾åˆ°åˆ†å­å’Œåˆ†æ¯çš„æœ€å°å…¬å€æ•°ll smallestNum(ll a,ll b)&#123; return a*b/biggestNum(a, b);&#125;int main(int argc, char const *argv[])&#123; int n; std::vector&lt;Fenshu&gt; v; while(scanf(\"%d\",&amp;n) != EOF)&#123; for (int i = 0; i &lt; n; ++i)&#123; Fenshu *fs = new Fenshu(); scanf(\"%lld/%lld\",&amp;fs-&gt;fenzi,&amp;fs-&gt;fenmu); v.emplace_back(*fs); &#125; // æ‰¾åˆ°æ‰€æœ‰åˆ†æ¯çš„æœ€å°å…¬å€æ•° ll mul = v.begin()-&gt;fenmu; for (std::vector&lt;Fenshu&gt;::iterator i = v.begin(); i != v.end(); ++i)&#123; std::vector&lt;Fenshu&gt;::iterator nx = std::next(i,1); if (nx != v.end())&#123; mul = smallestNum(mul, nx-&gt;fenmu); // printf(\"i-&gt;fenmu:%lld, nx-&gt;fenmu:%lld, tmp_mul:%lld\\n\", i-&gt;fenmu, nx-&gt;fenmu, tmp_mul); // é”™è¯¯å°è¯•å†™æ³•ï¼šæ€è·¯é”™äº†:å˜æˆäº†æ‰¾åˆ°ä¸¤ä¸ªåˆ†æ¯æœ€å°å…¬å€æ•°ä¸­æœ€å¤§çš„ // if (mul &lt; tmp_mul) &#123; // printf(\"tmp_biggest:%lld\\n\", tmp_biggest); // mul = tmp_mul; // &#125; &#125; &#125; // ç›¸åŠ å†çº¦åˆ† ll sum = 0; for (std::vector&lt;Fenshu&gt;::iterator i = v.begin(); i != v.end(); ++i)&#123; // printf(\"%lld,%lld\\n\",i-&gt;fenzi, i-&gt;fenmu ); sum += i-&gt;fenzi*mul/(i-&gt;fenmu); &#125; if (sum == 0)&#123; // é‡‡å‘1:é™¤0é—®é¢˜ printf(\"0\\n\"); &#125;else&#123; // ç”±äºè¯»å–çš„è®¾å®š,æ‰€ä»¥å…¶å®åªæœ‰åˆ†å­ä¼šæ˜¯è´Ÿæ•°, yueä¹Ÿå¯èƒ½æ˜¯è´Ÿæ•° ll yue = abs(biggestNum(sum, mul)); ll res_fenzi = sum/yue; ll res_fenmu = mul/yue; // printf(\"sum:%lld\\n\", sum); // printf(\"%lld,%lld/%lld\\n\", yue, res_fenzi, res_fenmu); // printf(\"biggest:%lld\\n\", mul); // éœ€è¦åŒ–æˆçœŸåˆ†æ•°--&gt;é‡‡å‘2:åˆ†å­å’Œä¸ºè´Ÿæ•° if ( abs(res_fenzi) &gt; res_fenmu) &#123; if (res_fenzi%res_fenmu == 0) printf(\"%lld\\n\", res_fenzi/res_fenmu); else printf(\"%lld %lld/%lld\\n\", res_fenzi/res_fenmu, res_fenzi%res_fenmu, res_fenmu); &#125;else printf(\"%lld/%lld\\n\", res_fenzi, res_fenmu); &#125; v.clear(); &#125; return 0;&#125; â–²åˆ¤æ–­è¿­ä»£å™¨æ˜¯å¦ä¸ºç©º:å°±æ˜¯æ‹¿è¿”å›çš„è¿­ä»£å™¨ä¸.end()ä½œæ¯”è¾ƒã€‚ è¸©å‘è®°å½•ï¼š è´Ÿæ•°æ±‚ä½™ä»æ˜¯è´Ÿæ•°,0æ±‚ä½™ä»»ä½•æ•°ä¸º0 åˆ†å­ä¸ºè´Ÿæ•°ã€0ã€æ­£æ•°çš„æ—¶å€™éƒ½å¾—åˆ†åˆ«è€ƒè™‘ æ‰¾åˆ°æ‰€æœ‰åˆ†æ¯çš„æœ€å°å…¬å€æ•°==&gt;å†™æˆäº†æ‰¾åˆ°ä¸¤ä¸ªåˆ†æ¯æœ€å°å…¬å€æ•°ä¸­æœ€å¤§çš„ æµ®ç‚¹é”™è¯¯çš„æ„æ€-PAT ã€OJ æ˜¯å¦å¯èƒ½å‡ºç°äº†ä¸€ä¸ªæ•°é™¤ä»¥0çš„æƒ…å†µ æ˜¯å¦å¯èƒ½å‡ºç°äº†ä¸€ä¸ªæ•°å–ä½™0çš„æƒ…å†µ æ˜¯å¦å‘ç”Ÿäº†æ•°æ®æº¢å‡ºè€Œå¯¼è‡´çš„é™¤ä»¥0æˆ–è€…å–ä½™0çš„æƒ…å†µ 1083 List Grades (25) æ¨¡æ‹Ÿé¢˜ è€ƒäº†è¾“å…¥è¾“å‡º+æ’åºï¼š åˆ‡å‰²æ•°æ®ã€æ“ä½œç¬¦é‡è½½ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include &lt;bits/stdc++.h&gt;#include &lt;sstream&gt;#include &lt;algorithm&gt;#ifndef N#define N 1000#endifusing namespace std;struct Record&#123; string name; string id; int grade; // æ“ä½œç¬¦é‡è½½ bool operator &lt;(const Record &amp;that) const&#123; return grade &gt; that.grade; &#125;&#125;typedef Record;int main()&#123; string row; std::vector&lt;Record&gt; v; int n; int a,b; scanf(\"%d\",&amp;n); getchar(); for(int i=0;i&lt;n;i++)&#123; // è·å¾—è¡Œä¿¡æ¯ getline(cin, row); stringstream ss(row); // åˆ†å‰²å‡ºname string name; getline(ss, name, ' '); // åˆ†å‰²å‡ºid string id; getline(ss, id, ' '); // é€šè¿‡stringstreamåˆ†å‰²å‡ºgrade: int int grade; ss &gt;&gt; grade; // å­˜åˆ°vectorä¸­ Record* r = new Record(); r-&gt;name = name; r-&gt;id = id; r-&gt;grade = grade; v.emplace_back(*r); &#125; // æ ¹æ®gradeè¿›è¡Œä»å¤§åˆ°å°æ’åº sort(v.begin(), v.end()); scanf(\"%d%d\", &amp;a, &amp;b); bool none = true; // æ˜¯å¦æœ‰åœ¨åŒºé—´ä¸­äºº for (int i = 0; i &lt; n; ++i)&#123; if (v[i].grade &gt;= a &amp;&amp; v[i].grade &lt;= b)&#123; none = false; cout &lt;&lt; v[i].name &lt;&lt; \" \" &lt;&lt; v[i].id &lt;&lt; endl; &#125; &#125; // å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„äºº if (none) cout &lt;&lt; \"NONE\" &lt;&lt; endl; return 0;&#125; åœ¨æ­¤å·©å›ºå¤ä¹ ä¸€ä¸‹&quot;æ“ä½œç¬¦é‡è½½çš„çŸ¥è¯†&quot;: 1.ä¸ºäº†å®ç°å¯¹è‡ªå®šä¹‰ç±»å‹çš„åŠ å‡æ“ä½œã€‚ å®ç°ä¸€ä¸ªæ“ä½œç¬¦é‡è½½çš„æ–¹å¼é€šå¸¸åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š å°†æ“ä½œç¬¦é‡è½½å®ç°ä¸ºç±»çš„æˆå‘˜å‡½æ•°ï¼› ä½¿ç”¨O.operator#(); æ“ä½œç¬¦é‡è½½å®ç°ä¸ºéç±»çš„æˆå‘˜å‡½æ•°ï¼ˆå³å…¨å±€å‡½æ•°ï¼‰ã€‚ ä½¿ç”¨ operator#(O); åŒºåˆ«åœ¨äºï¼Œæˆå‘˜å‡½æ•°é»˜è®¤æœ‰thisæŒ‡é’ˆï¼›åè€…éœ€è¦ä¸ºæ¯æ¬¡æ“ä½œä¼ é€’ä¸¤ä¸ªå‚æ•° â–³å¤§å¤šæ•°æ“ä½œç¬¦éƒ½èƒ½é‡è½½ï¼Œä¸èƒ½çš„ä¸ºå¦‚ä¸‹å‡ ä¸ªï¼šï¼šã€::ã€.*ã€?:ã€sizeof â–²é‡è½½è¿ç®—ç¬¦å‡½æ•°å¯ä»¥å¯¹è¿ç®—ç¬¦ä½œå‡ºæ–°çš„è§£é‡Šï¼Œä½†åŸæœ‰åŸºæœ¬è¯­ä¹‰ä¸å˜ï¼š ä¸æ”¹å˜è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ ä¸æ”¹å˜è¿ç®—ç¬¦çš„ç»“åˆæ€§ ä¸æ”¹å˜è¿ç®—ç¬¦æ‰€éœ€è¦çš„æ“ä½œæ•° ä¸èƒ½åˆ›å»ºæ–°çš„è¿ç®—ç¬¦ â–³ä¸€ä¸ªè¿ç®—ç¬¦è¢«é‡è½½åï¼ŒåŸæœ‰æ„ä¹‰æ²¡æœ‰å¤±å»ï¼Œåªæ˜¯å®šä¹‰äº†ç›¸å¯¹ä¸€ç‰¹å®šç±»çš„ä¸€ä¸ªæ–°è¿ç®—ç¬¦ ++å‰ç¼€ã€åç¼€ 1234567891011121314151617181920212223242526272829class Time&#123; public: // é‡è½½å‰ç¼€é€’å¢è¿ç®—ç¬¦ï¼ˆ ++ ï¼‰ï¼š ä¸ä¼ å‚ Time operator++ () &#123; ++minutes; // å¯¹è±¡åŠ  1 if(minutes &gt;= 60) &#123; ++hours; minutes -= 60; &#125; return Time(hours, minutes); &#125; // é‡è½½åç¼€é€’å¢è¿ç®—ç¬¦ï¼ˆ ++ ï¼‰: ä¼ å‚ Time operator++( int ) &#123; // ä¿å­˜åŸå§‹å€¼ Time T(hours, minutes); // å¯¹è±¡åŠ  1 ++minutes; if(minutes &gt;= 60) &#123; ++hours; minutes -= 60; &#125; // è¿”å›æ—§çš„åŸå§‹å€¼ return T; &#125;&#125; ioæ“ä½œç¬¦ï¼š â–²&lt;&lt;æ“ä½œç¬¦åªèƒ½é€šè¿‡å‹å…ƒæ¥å®ç° Aï¼š å¦‚æœè¦é‡è½½&lt;&lt;æ“ä½œç¬¦è¾“å‡ºç»“æœï¼Œä¸€èˆ¬çš„å†™æ³•æ˜¯cout&lt;&lt;s;ä¹Ÿå³æ˜¯è¯´å·¦ä¾§ä¸æ˜¯æˆå‘˜å‡½æ•°æˆ–ç±»å¯ä»¥é€šè¿‡thisæŒ‡é’ˆè°ƒç”¨çš„é‡ï¼Œè¿™å°±é€ æˆå¿…é¡»ä½¿ç”¨ä¸¤ä¸ªå‚æ•°çš„æˆå‘˜æ“ä½œç¬¦é‡è½½ï¼ŒæŠŠç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º&lt;&lt;å·¦ä¾§å‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°åšä¸º&lt;&lt;å³ä¾§å‚æ•°è¾“å…¥ï¼Œç„¶è€Œä¼šå‘ç°å¦‚ï¼š ostream&amp; operator&lt;&lt;(ostream&amp; out, MyString&amp; s);*//æŠ¥é”™ï¼Œerror:æ­¤è¿ç®—ç¬¦çš„å‚æ•°å¤ªå¤š* 1234567class xxx&#123; friend ostream&amp; operator&lt;&lt;(ostream &amp;out, const Complax &amp;c1);&#125;ostream&amp; operator&lt;&lt;(ostream &amp;out, const Complax &amp;c1)&#123; out &lt;&lt; \"c1.a = \" &lt;&lt; c1.a &lt;&lt; \"\\t c1.b = \" &lt;&lt; c1.b &lt;&lt; endl;&#125; 1084 Broken Keyboard æ€è·¯æ˜¯éå†ä¸‹é¢çš„çŸ­çš„å­—ç¬¦ä¸²ï¼Œç„¶åç”¨æŒ‡é’ˆå†éå†é•¿çš„ï¼Œç”¨indexæŒ‡é’ˆæ¥æ‰‹åŠ¨æ§åˆ¶ï¼›è¾¹éå†è¾¹è¾“å‡ºï¼Œå°±å¯ä»¥è§£å†³å…ˆåé—®é¢˜ï¼Œå¦åˆ™ç”¨setä¼šæ’åºï¼›ç”¨setè®°å½•æ˜¯å¦å·²ç»è¾“å‡ºè¿‡ï¼› è¸©çš„å‘ç‚¹ï¼š set.find() == set.end()è¡¨ç¤ºä¸å­˜åœ¨ï¼Œå†™IFæ¡ä»¶çš„æ—¶å€™æƒ³åäº†ï¼Œæ£€æŸ¥äº†åŠå¤©ï¼›å¦‚æœé•¿çš„å·²ç»æŠŠçŸ­çš„æ‰€æœ‰éƒ½è·‘éåï¼Œä¹‹åè¿˜æœ‰éœ€è¦å§indexç»§ç»­è·‘å®Œslen-inlençš„é•¿åº¦ 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 100+5;std::set&lt;char&gt; cS;int main(int argc, char const *argv[])&#123; string s; cin &gt;&gt; s; string in; cin &gt;&gt; in; int slen = s.length(); int inlen = in.length(); int index=0; // è®°å½•å½“å‰éå†åˆ°çš„ä½ç½® for (int i = 0; i &lt; inlen; ++i)&#123; while( s[index] != in[i] )&#123; char now = toupper( s[index] ); if( cS.find(now) == cS.end())&#123; cS.insert(now); cout &lt;&lt; now; &#125; index++; &#125; index++; &#125; while(index != slen)&#123; char now = toupper( s[index] ); if( cS.find(now) == cS.end())&#123; cS.insert(now); cout &lt;&lt; now; &#125; index++; &#125; cout &lt;&lt;endl; return 0;&#125; 1234567891011121314151617181920212223242526272829303132333435import java.lang.reflect.Array;import java.util.Arrays;import java.util.Scanner;/** * @Program: testIDEA * @Description: * @Author: MrLi * @Create: 2020-05-26 15:28 **/public class Main &#123; public static void main(String[] args) &#123; String a, b; Scanner scanner = new Scanner(System.in); a = scanner.next(); b = scanner.next(); b += \"#\"; // å¦‚æœbä¸ºå…¨ç©º, é‚£ä¹ˆç›´æ¥å°±ä¼šè¶Šç•Œ, å› æ­¤æœ«å°¾è¡¥å……ä¸€ä¸ª, è¿™é¢˜ç”±äºä¸Šä¸‹æœ‰å…³è”æ‰€ä»¥æ²¡å…³ç³», ä½†æ˜¯å¯¹æ­¤ç±»é—®é¢˜éƒ½å¯ä»¥å…»æˆè¿™ç§ä¹ æƒ¯ boolean[] chars = new boolean[256]; Arrays.fill(chars, Boolean.FALSE); for (int i = 0, j = 0; i &lt; a.length(); i++) &#123; char x = Character.toUpperCase(a.charAt(i)); char y = Character.toUpperCase(b.charAt(j)); if (x == y) j ++ ; else&#123; if (!chars[x])&#123; System.out.print(x); chars[x] = true; &#125; &#125; &#125; &#125;&#125; 1086 Tree Traversals Again å»ºæ ‘è€å¥—è·¯äº†, åªä¸è¿‡è¦è¯†åˆ«å‡º, å…¥æ ˆå¯¹åº”å…ˆåº, å‡ºæ ˆå¯¹åº”ä¸­åº 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;vector&lt;int&gt; pre;vector&lt;int&gt; in;int noden; // èŠ‚ç‚¹ä¸ªæ•°struct node&#123; int val; node *lc, *rc; node()&#123;&#125; node (int v)&#123; val = v; lc = rc = NULL; &#125;&#125;;node *createTree(int preL, int preR, int inL, int inR)&#123; if (preL &gt; preR) return NULL; // è¿™è¾¹å¿˜è®°äº†å†™é”™æˆpreL &gt; inLäº† int key = pre[preL]; int k; for (k = inL; k &lt;= inR; k++) &#123; // æ‰¾åˆ°æ ¹èŠ‚ç‚¹åœ¨ä¸­åºä¸­çš„ä½ç½® if (in[k] == key)&#123; break; &#125; &#125; // cout &lt;&lt; \"key: \" &lt;&lt; key &lt;&lt; \" k: \" &lt;&lt; k+1 &lt;&lt; endl; node *root = new node(key); root-&gt;val = key; int leftNum = k - inL; // å½“å‰èŠ‚ç‚¹å·¦è¾¹æœ‰å¤šå°‘èŠ‚ç‚¹ä¸ªæ•° root-&gt;lc = createTree(preL+1, preL+leftNum, inL, k - 1); root-&gt;rc = createTree(preL+leftNum+1, preR, k+1, inR); return root;&#125;int coutNum = 0; // å·²ç»è¾“å‡ºçš„èŠ‚ç‚¹æ•°void postOrder(node *root)&#123; if (root == NULL) return; postOrder(root-&gt;lc); postOrder(root-&gt;rc); // å®˜æ–¹è¾“å‡ºæ ¼å¼ // cout &lt;&lt; root-&gt;val; // coutNum ++; // if (coutNum &lt; noden)&#123; // cout &lt;&lt;\" \" ; // &#125;else&#123; // cout &lt;&lt;endl; // &#125; coutNum ++; if (coutNum &lt; noden)&#123; cout &lt;&lt; root-&gt;val &lt;&lt; \" \"; &#125;else&#123; cout &lt;&lt; root-&gt;val &lt;&lt;endl; &#125;&#125;int main()&#123; int nodenum; // pushæ“ä½œæ•° int num; // popç»“æœ string op; stack&lt;int&gt; st; cin &gt;&gt; noden; for (int i = 0; i &lt; 2 * noden; i++) &#123; cin &gt;&gt; op; if (op == \"Push\")&#123; cin &gt;&gt; nodenum; pre.push_back(nodenum); st.push(nodenum); &#125;else if (op == \"Pop\")&#123; num = st.top(); st.pop(); in.push_back(num); &#125; &#125; node *root = createTree(0, pre.size() - 1,0, in.size() - 1); postOrder(root); return 0;&#125; 1091 Speech Patterns é¢˜ç›®ä¸éš¾ï¼Œ ä¸»è¦æ˜¯åº“å‡½æ•°çš„åº”ç”¨isdigit()ã€isalphaä»¥åŠisalnumï¼Œè¿˜æœ‰mapçš„åº”ç”¨ å‘ç‚¹æ¯”è¾ƒå¤šï¼š 1.â€œâ€ï¼ˆå³ç©ºä¼šè¢«è®°å…¥mapè®¡ç®—ï¼‰ï¼›2.å½“å·²ç»æ˜¯æœ€åä¸€ä¸ªå­—æ¯æ—¶è¦æŠŠæœ€åä¸€ä¸ªå•è¯è®°å…¥ï¼ˆæƒ³äº†å¾ˆä¹…æ²¡è¿‡æœ€åä¸€ä¸ªæµ‹è¯•ç‚¹ï¼‰ æœ¬æ¥ä»¥ä¸ºè¦ç»Ÿè®¡çš„æ˜¯&quot;&quot;å†…çš„å†…å®¹ï¼Œç»“æœå¥½åƒä¸éœ€è¦ 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 0x3f3f3f3f;const int MOD = 1000000007;std::map&lt;string, int&gt; smap;int main(int argc, char const *argv[])&#123; string s; getline(cin, s); int slen = s.length(); string nows; // bool start = false; for (int i = 0; i &lt; slen; ++i) &#123; char now = s[i]; // if (now == '\"') start = !start; // if (start)&#123; if (isalnum(now))&#123; nows += tolower(now); &#125; if ( !isalnum(now) || i == slen-1)&#123; if(!nows.empty())&#123; // nows.size()ä¼šæ›´å¥½ smap[nows] += 1; nows.clear(); &#125; &#125; // &#125; &#125; int maxn = -MAXN; string ans; for (std::map&lt;string, int&gt;::iterator i = smap.begin(); i != smap.end(); ++i)&#123; if ( i-&gt;second &gt; maxn)&#123; maxn = i-&gt;second; ans = i-&gt;first; &#125; &#125; cout &lt;&lt; ans &lt;&lt; \" \" &lt;&lt; maxn &lt;&lt; endl; return 0;&#125; 1093 Count PATâ€™s å¡æ—¶é™ï¼Œæ™®é€šæ€è·¯ä¼šè¶…æ—¶ï¼Œ é¢˜è§£ç»™çš„æ€è·¯æ˜¯æ‰¾Aç„¶åè®¡ç®—å‰Pçš„ä¸ªæ•°Nï¼ŒåTçš„ä¸ªæ•°Mï¼Œç„¶åå¾—å‡ºM*Nä¸ªï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n2) ä¸ªäººçš„æ€è·¯(è¿‡2ä¸ªç‚¹ï¼Œè¿˜æœ‰3ä¸ªè¶…æ—¶) 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 0x3f3f3f3f;const int MOD = 1000000007;std::vector&lt;int&gt; P;std::vector&lt;int&gt; A;std::vector&lt;int&gt; T;int main(int argc, char const *argv[])&#123; string s; cin &gt;&gt; s; int l; l = s.length(); for (int i = 0; i &lt; l; ++i) &#123; if (s[i]=='P') P.push_back(i); else if (s[i]=='A') A.push_back(i); else if (s[i]=='T') T.push_back(i); else ; &#125; int pl = P.size(); int al = A.size(); int tl = T.size(); int ans = 0; for (int i = 0; i &lt; pl; ++i)&#123; for (int j = 0; j &lt; al; ++j)&#123; if (P.at(i)&lt;A.at(j))&#123; for (int k = 0; k &lt; tl; ++k) &#123; if (A.at(j) &lt; T.at(k))&#123; ans = (ans+1) %MOD; // break; &#125; &#125; &#125; &#125; &#125; cout &lt;&lt;ans&lt;&lt; endl; return 0;&#125; Deduplication on a Linked List 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/* * @Author: Mrli * @Date: 2020-06-27 10:52:28 * @LastEditTime: 2020-06-30 23:58:52 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;const int MAXN = 1e5 + 5;vector&lt;bool&gt; visited(MAXN);struct Node&#123; int addr; int val; int nextaddr;&#125;LinkList[MAXN];vector&lt;Node&gt; leftvec;vector&lt;Node&gt; removed;int main()&#123; int root, N; scanf(\"%d%d\", &amp;root, &amp;N); int addr; for (int i = 0; i &lt; N; i++) &#123; scanf(\"%d\", &amp;addr); scanf(\"%d%d\", &amp;LinkList[addr].val, &amp;LinkList[addr].nextaddr); LinkList[addr].addr = addr; &#125; int start = root; while(start != -1)&#123; int value = int(abs(LinkList[start].val)); if ( !visited[ value ]) leftvec.push_back(LinkList[start]); else removed.push_back(LinkList[start]); visited[value] = true; start = LinkList[start].nextaddr; &#125; int leftLen = leftvec.size(); int removedLen = removed.size(); for (int i = 0; i &lt; leftLen; i++) &#123; if ( i != leftLen - 1)&#123; printf(\"%05d %d %05d\\n\", leftvec[i].addr, leftvec[i].val, leftvec[i+1].addr); &#125;else&#123; printf(\"%05d %d -1\\n\", leftvec[i].addr, leftvec[i].val); &#125; &#125; for (int i = 0; i &lt; removedLen;i++) &#123; if ( i != removedLen - 1)&#123; printf(\"%05d %d %05d\\n\", removed[i].addr, removed[i].val, removed[i+1].addr); &#125;else&#123; printf(\"%05d %d -1\\n\", removed[i].addr, removed[i].val); &#125; &#125; return 0;&#125; é“¾è¡¨å¥—è·¯ å†™äº†å‡ ä¸ªé™æ€é“¾è¡¨çš„é¢˜äº†, æ€»ç»“ä¸‹å¥—è·¯: åˆ¤æ–­ç»™çš„èŠ‚ç‚¹æ˜¯å¦åœ¨é“¾è¡¨ä¸Šâ€”â€”å¢åŠ ä¸€ä¸ªflagçš„å­—æ®µã€‚ å¦‚æœä¸éœ€è¦ä¸€èˆ¬é™æ€é“¾è¡¨çš„èŠ‚ç‚¹å®šä¹‰ä¸º 12345struct Node&#123; int addr; int val; int nextaddr;&#125;LinkList[MAXN]; è¯»å–å¥—è·¯ 12345for (int i = 0; i &lt; N; i++) &#123; scanf(\"%d\", &amp;addr); scanf(\"%d%d\", &amp;LinkList[addr].val, &amp;LinkList[addr].nextaddr); LinkList[addr].addr = addr;&#125; éå† 12345678910int start = root;while(start != -1)&#123; int value = int(abs(LinkList[start].val)); if ( !visited[ value ]) leftvec.push_back(LinkList[start]); else removed.push_back(LinkList[start]); visited[value] = true; start = LinkList[start].nextaddr;&#125; è¾“å‡º 1234567for (int i = 0; i &lt; leftLen; i++) &#123; if ( i != leftLen - 1)&#123; printf(\"%05d %d %05d\\n\", leftvec[i].addr, leftvec[i].val, leftvec[i+1].addr); &#125;else&#123; printf(\"%05d %d -1\\n\", leftvec[i].addr, leftvec[i].val); &#125;&#125; 1096 Consecutive Factors ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ç‚¹: nä¸èƒ½è¢«å¤§äºsqrt(n)çš„æ•´é™¤ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/* * @Author: Mrli * @Date: 2020-07-01 23:25:13 * @LastEditTime: 2020-07-02 00:19:04 * @Description: */ #include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;using namespace std;typedef long long ll;int main()&#123; ll n; scanf(\"%lld\", &amp;n); ll sqrtn = (ll)sqrt(n); ll ansI = 0, maxlen = 0; // æ³¨æ„è¿™è¾¹maxlenä¸èƒ½è®¾ç½®ä¸º-1, å› ä¸ºä¸‹é¢æ˜¯ç”¨0åˆ¤æ–­çš„ for (ll i = 2; i &lt;= sqrtn; i++) &#123; ll j = i; ll tmp = 1; while(true)&#123; tmp *= j; if ( n % tmp != 0) break; if (j - i + 1 &gt; maxlen)&#123; maxlen = j - i + 1; ansI = i; &#125; j ++; &#125; &#125; if ( maxlen == 0) printf(\"1\\n%lld\\n\", n); else&#123; printf(\"%lld\\n\", maxlen); for (ll i = 0; i &lt; maxlen; i++) &#123; if ( i &lt; maxlen - 1)&#123; printf(\"%lld*\", ansI + i); &#125;else&#123; printf(\"%lld\", ansI + i); &#125; // ç¬¬äºŒç§è¾“å‡º // for (ll i = 0; i &lt; maxlen; i++) &#123; // printf(\"%lld\", ansI + i); // if ( i &lt; maxlen - 1) printf(\"*\"); // &#125; &#125; &#125; return 0;&#125; 1099 Build A Binary Search Tree // è·Ÿ1064å¯¹æ¯”, è¿™è¾¹æ˜¯çœŸéå†ã€‚ vä¸ºå­˜å‚¨ç»“ç‚¹ä¿¡æ¯çš„æ ‘ã€‚ é‚£é¢˜æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œ è¿™é¢˜æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œ æ‰€ä»¥åœ¨å±‚æ¬¡éå†çš„æ„é€ ä¸Šæ˜¯ä¸ä¸€æ ·çš„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;struct Node&#123; int val; int left, right; &#125;;int n;vector&lt;Node&gt; v;vector&lt;int&gt; in;bool cmp(const Node a , const Node b )&#123; return a.val &lt; b.val;&#125;int k = 0;// è·Ÿ1064å¯¹æ¯”, è¿™è¾¹æ˜¯çœŸéå†ã€‚ vä¸ºå­˜å‚¨ç»“ç‚¹ä¿¡æ¯çš„æ ‘void inOrder(int root)&#123; if (root == -1) return ; inOrder(v[root].left); v[root].val = in[k++]; inOrder(v[root].right);&#125;void bfs(int root)&#123; queue&lt;int&gt; q; q.push(root); k = 0; while(!q.empty())&#123; int now = q.front(); q.pop(); cout &lt;&lt; v[k].val; k++; if ( k &lt; n) cout &lt;&lt; \" \"; if (v[now].left != -1) q.push(v[now].left); if (v[now].right != -1) q.push(v[now].right); &#125;&#125;int main()&#123; cin &gt;&gt; n; v.resize(n); in.resize(n); for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; v[i].left &gt;&gt; v[i].right; &#125; for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; in[i]; &#125; sort(in.begin(), in.end()); inOrder(0); bfs(0); return 0;&#125; 1102 Invert a Binary Tree 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101/* * @Author: Mrli * @Date: 2020-07-19 11:28:37 * @LastEditTime: 2020-07-19 14:22:32 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int n;const int maxn = 1e2;bool isRoot[maxn];struct Node&#123; int left; int right;&#125;Nodearr[maxn];int chr2int(char ch)&#123; if ( ch == '-' ) return -1; else &#123; isRoot[ ch - '0'] = false; return ch - '0'; &#125;&#125;int findRoot()&#123; for (int i = 0; i &lt; n; i++) &#123; if ( isRoot[i] == true)&#123; return i; &#125; &#125; return -1;&#125;void postOrder(int root)&#123; if (root == -1) return ; // if ( Nodearr[root].left != -1 ) postOrder(Nodearr[root].left); // if ( Nodearr[root].right != -1 ) postOrder(Nodearr[root].right); swap(Nodearr[root].right, Nodearr[root].left);&#125;int cnt = 0;void print(int idx)&#123; if ( cnt == n-1)&#123; cout &lt;&lt; idx &lt;&lt; endl; &#125;else &#123; cout &lt;&lt; idx &lt;&lt; \" \"; &#125; cnt ++;&#125;void inOrder(int root)&#123; if (root == -1) return ; inOrder(Nodearr[root].left); print(root); inOrder(Nodearr[root].right);&#125;void levelOrder(int root)&#123; queue&lt;int&gt; q; q.push(root); while( !q.empty() )&#123; int now = q.front(); q.pop(); print(now); if ( Nodearr[now].left != -1 ) q.push(Nodearr[now].left); if ( Nodearr[now].right != -1 ) q.push(Nodearr[now].right); &#125;&#125;int main()&#123; scanf(\"%d\", &amp;n); fill(isRoot, isRoot+n, true); for (int i = 0; i &lt; n; i++) &#123; char left, right; scanf(\"%*c%c %c\", &amp;left, &amp;right); Nodearr[i].left = chr2int(left); Nodearr[i].right= chr2int(right); &#125; int root = findRoot(); postOrder(root); levelOrder(root); cnt = 0; inOrder(root); return 0;&#125; 1107 Social Clusters å¹¶æŸ¥é›† 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1000 + 5;int n;int arr[maxn]; // å¹¶æŸ¥é›†int h[maxn]; // çˆ±å¥½int hx[maxn]; // çˆ±å¥½void init()&#123; for (int i = 0; i &lt;= n; i++) &#123; arr[i] = i ; &#125;&#125;int getf(int u)&#123; // æ‰¾åˆ°uçš„çˆ¶äº² int v = u; while( u != arr[u])&#123; u = arr[u]; &#125; // è·¯å¾„å‹ç¼© while ( arr[v] != v)&#123; int tmp = v; // è®°å½•å½“å‰vçš„å€¼ v = arr[v]; // è®°å½•ä¸‹ä¸€ä¸ªç‚¹-&gt;v arr[tmp] = u; // æŠŠå½“å‰ç‚¹çš„çˆ¶äº²è®¾ç½®ä¸ºu &#125; return u;&#125;void merge(int u, int v)&#123; int f1 = getf(u); int f2 = getf(v); if (f1 != f2)&#123; arr[f2] = f1; &#125;&#125;int main()&#123; int tmp; scanf(\"%d\", &amp;n); init(); for (int i = 1; i &lt;= n; i++) &#123; int k; scanf(\"%d:\", &amp;k); for (int j = 0; j &lt; k; j++) &#123; scanf(\"%d\", &amp;tmp); if (!h[tmp]) h[tmp] = i; else merge(h[tmp], i); &#125; &#125; int ans = 0; for (int i = 1; i &lt;= n; i++) &#123; hx[getf(i)]++; &#125; for (int i = 1; i &lt;= n; i++) &#123; if (hx[i]!=0)ans++; &#125; // ç›´æ¥ç”¨arrä¸è¡Œ, å¿…é¡»ç”¨getfæ‰¾, å¯¹æ ·ä¾‹æ˜¯éƒ½èƒ½è·‘é€šçš„, ä½†ä¼šæŒ‚3ä¸ªç‚¹ã€‚ç½‘ä¸Šä¹Ÿéƒ½æ˜¯ç”¨getfæ‰¾çš„çˆ¶äº²ï¼Œ è€Œä¸æ˜¯ç”¨arr // for (int i = 1; i &lt;= n; i++) &#123; // cout &lt;&lt; \"arr[\" &lt;&lt; i &lt;&lt; \"]:\" &lt;&lt; arr[i] &lt;&lt; '\\t'; // cout &lt;&lt; \"getf(i\" &lt;&lt; i &lt;&lt; \"):\" &lt;&lt; getf(i) &lt;&lt; endl; // &#125; // int ans = 0; // for (int i = 1; i &lt;= n; i++) &#123; // if ( arr[i] == i )&#123; // ans ++; // &#125; // hx[arr[i]] ++; // &#125; cout &lt;&lt; ans &lt;&lt;endl; sort(hx+1, hx+1+n, greater&lt;int&gt;()); for (int i = 1; i &lt;= ans; i++) &#123; cout &lt;&lt; hx[i]; if (i &lt; ans) cout &lt;&lt; ' '; &#125; return 0;&#125; 1109Group Photo æ’åº, æ¨¡æ‹Ÿ æ€è·¯: ä»æ’å¥½åºçš„vecoträ¸­å–å…ƒç´  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int n, k;const int maxn = 1e4 + 5;struct Student&#123; string name; int h; Student()&#123;&#125;; Student(string _name, int _h): name(_name), h(_h)&#123;&#125;;&#125;arr[maxn];// 1. æ¯è¡Œn/kï¼ˆå‘ä¸‹å–æ•´ï¼‰äººï¼Œ å¤šå‡ºçš„å‰©ä¸‹çš„äººæ•°ç«™æœ€åä¸€è¡Œ// 2. åé¢æ’çš„èº«é«˜ &gt;= å‰é¢æ’çš„, å­—å…¸åºå¤§çš„å‰// 3. æœ€é«˜çš„ç«™ä¸­é—´ï¼Œ ä¸¤è¾¹ä¾æ¬¡é™ä½bool cmp(Student &amp;a, Student &amp;b)&#123; if (a.h != b.h) return a.h &lt; b.h; return a.name &gt; b.name;&#125;// â–².å…³é”®void printLine(int st, int ed)&#123; int nums = ed - st + 1; // æ•°çš„ä¸ªæ•° int mid = (nums) / 2 + 1; // ä¸­é—´ç¼–å·, v: [1,ed] vector&lt;int&gt; v( nums + 1, 0); v[mid] = ed; // ä¸­é—´çš„åºå·ä¸ºed int l = mid - 1, r = mid + 1; while( l &gt;= 1)&#123; // å®ç°äº¤æ›¿--ed if (l &gt;= 1) v[l--] = --ed; // å·¦ä¾§ä¾æ¬¡-1 if (r &lt;= nums) v[r++] = --ed; &#125; // ä»arrä¸­æŒ‰ç…§v[i]å–å‡ºåå­— for (int i = 1; i &lt;= nums; i++) &#123; if ( i == 1) cout &lt;&lt; arr[ v[i] ].name; else cout &lt;&lt; \" \" &lt;&lt; arr[ v[i] ].name ; &#125; cout &lt;&lt; endl;&#125;int main()&#123; ios::sync_with_stdio(false); cin.tie(0); cin &gt;&gt; n &gt;&gt; k; string name; int h; for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; name &gt;&gt; h; arr[i] = Student(name, h); &#125; sort(arr + 1, arr+ n + 1, cmp); int rowNum = floor(n / k); for (int i = k; i &gt;= 1; i--) &#123; if ( i &lt; k)&#123; int st = rowNum * ( i - 1) + 1; int ed = rowNum * i; // cout &lt;&lt; \"st: \" &lt;&lt;st &lt;&lt; \"\\t\" &lt;&lt; \"ed:\" &lt;&lt; ed &lt;&lt;endl; printLine(st, ed); &#125;else&#123; // ç¬¬ä¸€è¡Œ int st = rowNum * ( i - 1) + 1; int ed = n; // cout &lt;&lt; \"st: \" &lt;&lt;st &lt;&lt; \"\\t\" &lt;&lt; \"ed:\" &lt;&lt; ed &lt;&lt;endl; printLine(st, ed); &#125; &#125; return 0;&#125; 1113 Integer Set Partition å¤§æ°´é¢˜ å°†è¾“å…¥çš„æ•°åˆ†æˆä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆï¼Œåœ¨æ»¡è¶³ä¸ªæ•°å·®æœ€å°çš„æ¡ä»¶ä¸‹ï¼Œæ‰¾ä¸¤ä¸ªé›†åˆæ‰€æœ‰å…ƒç´ å’Œå·®æœ€å¤§å€¼ã€‚ å…¶å®æ˜¯é“æ‰¾è§„å¾‹é¢˜ï¼šå°†æ•°è¿›è¡Œä»å°åˆ°å¤§æ’åºï¼Œç„¶åä¸€åˆ†ä¸ºäºŒï¼Œæ ¹æ®å¥‡å¶æ•°çš„ä¸åŒï¼Œnä¹‹å·®ç›´æœ‰1å’Œ0ä¸¤ç§å¯èƒ½ï¼Œå·®å€¼æœ€å¤§çš„æƒ…å†µä¾¿æ˜¯å¤§æ•°-å°æ•° 12345678910111213141516171819202122232425262728#include &lt;bits/stdc++.h&gt;using namespace std;const int SIZE = 1e5 + 5;int arr[SIZE];int main(int argc, char const *argv[])&#123; int n; cin &gt;&gt; n; for (int i = 0; i &lt; n; ++i) cin &gt;&gt; arr[i]; sort(arr, arr+n); int s1 = 0, s2 = 0 ; if( n % 2 == 1)&#123; for (int i = 0; i &lt; (n-1)/2; ++i) s1 += arr[i]; for (int i = (n-1)/2; i &lt; n; ++i) s2 += arr[i]; cout &lt;&lt; 1 &lt;&lt; \" \" &lt;&lt; s2 -s1 &lt;&lt; endl; &#125;else&#123; for (int i = 0; i &lt; n/2; ++i) s1 += arr[i]; for (int i = n/2; i &lt; n; ++i) s2 += arr[i]; cout &lt;&lt; 0 &lt;&lt; \" \" &lt;&lt; s2 -s1 &lt;&lt; endl; &#125; return 0;&#125; 1116 Come on! Letâ€™s C 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;iomanip&gt;using namespace std;const int num = 1e4 + 5;int arr[num];bool isPrime(int n)&#123; // if ( n &lt; 0 ) return false; if (n == 1) return false; if ( n == 2 || n == 3) return true; if ( n % 6 != 5 &amp;&amp; n % 6 != 1) return false; for (int i = 5; i &lt;= sqrt(n); i+=6) &#123; if ( n % i == 0 || n % (i + 2) == 0) return false; &#125; return true;&#125;string coutList[5] = &#123; \"Are you kidding?\", \"Mystery Award\", \"Minion\", \"Chocolate\", \"Checked\"&#125;;int main()&#123; ios::sync_with_stdio(false); int n, k; cin &gt;&gt; n; int tmp; int q; for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; tmp; arr[tmp] = i; if (i == 1)&#123; arr[tmp] = 1; &#125;else if( isPrime(i) )&#123; arr[tmp] = 2; &#125;else&#123; arr[tmp] = 3; &#125; &#125; cin &gt;&gt; k; for (int j = 0; j &lt; k; j++) &#123; cin &gt;&gt; q; printf(\"%04d: %s\\n\", q, coutList[arr[q]].c_str() ); if (arr[q])&#123; arr[q] = 4; &#125; &#125; return 0;&#125; 1117 Eddington Number 12345678910111213141516171819202122232425262728/* * @Author: Mrli * @Date: 2020-09-05 09:27:31 * @LastEditTime: 2020-09-05 09:36:35 * @Description: */#include &lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n; scanf(\"%d\", &amp;n); vector&lt;int&gt; v(n); for (int i = 0; i &lt; n; i++) &#123; scanf(\"%d\", &amp;v[i]); &#125; sort(v.begin(), v.end(), less&lt;int&gt;()); // å®è´¨ä¸Šå°±æ˜¯åŒæŒ‡é’ˆæ³•ï¼Œ anså¿…é¡»ä»1å¼€å§‹ï¼Œ å› ä¸ºä»–æ˜¯æœ€é•¿çš„å¤©æ•° // int ans = !v.empty() ? v[0] : 1; é”™è¯¯å†™æ³•ï¼Œ æœ€å¤§è·ç¦»å¯ä»¥æ˜¯Eï¼Œ ä½†æ˜¯å¤©æ•°ä¸å¯èƒ½ä¸º int ans = 1; for (int i = n - 1; i &gt;= 0 ; ans++, i -- ) &#123; if ( ans &gt;= v[i]) break; &#125; cout &lt;&lt; ans - 1 &lt;&lt; endl; return 0;&#125; 1120 Friend Numbers æˆ‘ä½¿ç”¨çš„æ˜¯Mapï¼Œä½†setæ•ˆæœæ›´å¥½ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;bits/stdc++.h&gt;using namespace std;const int SIZE = 1e5 + 5;int arr[SIZE];int main(int argc, char const *argv[])&#123; int n; cin &gt;&gt; n; std::map&lt;int, int&gt; map; for (int i = 0; i &lt; n; ++i) cin &gt;&gt; arr[i]; for (int i = 0; i &lt; n; ++i)&#123; int sum = 0; int tmp = arr[i]; while(tmp&gt;0)&#123; sum += tmp%10; tmp /= 10; &#125; map[sum] ++; &#125; std::vector&lt;int&gt; v; cout &lt;&lt; map.size() &lt;&lt; endl; for (std::map&lt;int, int&gt;::iterator i = map.begin(); i != map.end(); ++i) &#123; // end()-1å¥½åƒä¸è¡Œ // std::map&lt;int, int&gt;::iterator e = map.end()-1; // if(i != e) // cout &lt;&lt; i-&gt;first &lt;&lt; ' '; // else // cout &lt;&lt; i-&gt;first &lt;&lt; endl; //ç¬¬äºŒç§å†™æ³• // std::map&lt;int, int&gt;::iterator e = map.end()-1; // if(i != map.begin()) // cout &lt;&lt; ' '; // else // cout &lt;&lt; i-&gt;first &lt;&lt; endl; // ç¬¬ä¸‰ç§åŠæ³• // ä½¿ç”¨flagè®°å½• /*ç¬¬å››ç§ if(it==out.begin()) cout&lt;&lt;*it; else cout&lt;&lt;\" \"&lt;&lt;*it; */ // æˆ‘çš„ç¬¨åŠæ³• v.push_back(i-&gt;first); &#125; for (int i = 0; i &lt; v.size(); ++i) &#123; if(i!=v.size()-1) cout &lt;&lt; v[i] &lt;&lt; \" \"; else cout &lt;&lt; v[i] &lt;&lt; endl; &#125; return 0;&#125; 1128 N Queens Puzzle 1234567891011121314151617181920212223242526272829303132333435#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 1e3 + 5;int n, m;vector&lt;int&gt; chess;bool judge(int i)&#123; // iä¸ºè¡Œæ•°, å³æ”¾çš„ç¬¬å‡ ä¸ª // chess[x] è®°å½•çš„åˆ—æ•° for (int j = 0; j &lt; i; j++) &#123; if ( ( chess[i] == chess[j] ) || ( abs(chess[i] - chess[j]) == abs(i - j))) return false; &#125; return true;&#125;int main()&#123; int T; cin &gt;&gt; T; while(T--)&#123; cin &gt;&gt;n; chess.resize(n); bool yes = true; for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; chess[i]; if(judge(i) == false)&#123; yes = false; // break; &#125; &#125; if (yes) cout &lt;&lt; \"YES\" &lt;&lt;endl; else cout &lt;&lt; \"NO\" &lt;&lt; endl; &#125; return 0;&#125; 1134 Vertex Cover 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108/* * @Author: Mrli * @Date: 2020-06-25 13:35:38 * @LastEditTime: 2020-06-25 14:42:20 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;/**ä¸¤ç§æ€è·¯:- å°†è¾¹éƒ½æ”¶é›†å, å¾…éå†queryç‚¹é›†æ—¶æ¯éå†ä¸€ä¸ªç‚¹, å°±æŠŠå…¶ç›¸è¿çš„è¾¹ç½®ä¸ºå·²è®¿é—®, å½“éå†å®Œæ‰€æœ‰ç‚¹, å†çœ‹æœ‰æ²¡æœ‰è¾¹æ—¶æœªè®¿é—®çš„- å°†è¾¹éƒ½æ”¶é›†å, éå†æ¯ä¸€æ¡è¾¹, çœ‹è¾¹çš„ä¸¤ç«¯æ˜¯å¦åœ¨queryçš„ç‚¹é›†ä¸­*/// æ–¹æ³•ä¸€, éå†ç‚¹æ—¶å°†è¾¹æ ‡è®°ä¸º1, æœ€åå†éå†çœ‹çœ‹æœ‰æ²¡æœ‰è¾¹æ²¡è®¿é—®è¿‡int main()&#123; int n, m; scanf(\"%d%d\", &amp;n, &amp;m); vector&lt;int&gt; vec[n]; // é“¾è¡¨ vector&lt;int&gt; visited; visited.resize(m+1); for (int i = 1; i &lt;= m; i++) &#123; int u, v; scanf(\"%d%d\", &amp;u, &amp;v); vec[u].push_back(i); vec[v].push_back(i); &#125; int q; int x; scanf(\"%d\", &amp;x); while(x--)&#123; scanf(\"%d\", &amp;q); // æ¯æ¬¡å°†è®¿é—®ç»“æœæ¸…ç©º fill(visited.begin(), visited.end(), 0); for (int j = 0; j &lt; q; j++) &#123; int u; scanf(\"%d\", &amp;u); for (int v = 0; v &lt; vec[u].size(); v++) &#123; if (!visited[ vec[u][v] ] ) visited[ vec[u][v] ] = 1; &#125; &#125; bool all = true; for (int i = 1; i &lt;= m; i++) &#123; if (visited[i] == 0)&#123; printf(\"No\\n\"); all = false; break; &#125; &#125; if( all ) printf(\"Yes\\n\"); &#125; return 0;&#125;// æ–¹æ³•äºŒ, éå†è¾¹, åˆ¤æ–­æ˜¯å¦æœ‰è¾¹ä¸¤ç«¯éƒ½ä¸åœ¨queryç‚¹é›†ä¸­.struct node&#123; int u; int v; node()&#123;&#125; node(int uu, int vv)&#123; u = uu; v = vv; &#125;&#125;;int main()&#123; int n, m; scanf(\"%d%d\", &amp;n, &amp;m); // éœ€è¦æœ‰node()&#123;&#125; å‚æ•°ä¸ºç©ºçš„æ„é€ å‡½æ•°, æ‰€ä»¥å¦‚æœå£°æ˜äº†å¸¦å‚æ•°çš„æ„é€ å‡½æ•°, é‚£ä¹ˆéœ€è¦ç‰¹åœ°å†™ä¸ªç©ºçš„æ„é€ å‡½æ•° vector&lt;node&gt; edge; edge.resize(m); for (int i = 0; i &lt; m; i++) &#123; int u, v; scanf(\"%d%d\", &amp;edge[i].u, &amp;edge[i].v); &#125; int x; cin &gt;&gt; x; while(x--)&#123; bool all = true;unordered int q; scanf(\"%d\", &amp;q); int tmp; unordered_set&lt;int&gt; se; for (int i = 0; i &lt; q; i++) &#123; scanf(\"%d\", &amp;tmp); se.insert(tmp); &#125; for (int j = 0; j &lt; m; j++) &#123; if (se.find(edge[j].u) == se.end() &amp;&amp; se.find(edge[j].v) == se.end() )&#123; all =false; break; &#125; &#125; if (all) printf(\"Yes\\n\"); else printf(\"No\\n\"); &#125; return 0;&#125; 1146 Topological Order 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 1e4 + 5;int n, m;vector&lt;int&gt; ve[maxn];vector&lt;int&gt; in; // å…¥åº¦void bfs()&#123; queue&lt;int&gt; q; for (int i = 0; i &lt; n; i++) &#123; if ( in[i] == 0)&#123; q.push(i); &#125; &#125;&#125;int main()&#123; cin &gt;&gt; n &gt;&gt; m; in.resize(n + 1); int u, v; for (int i = 1; i &lt;= m; i++) &#123; cin &gt;&gt; u &gt;&gt; v; ve[u].push_back(v); in[v]++; &#125; int k; vector&lt;int&gt; ans; cin &gt;&gt; k; bool first = true; for (int i = 0; i &lt; k; i++) &#123; vector&lt;int&gt; copyin(in.begin(), in.end()); bool flag = true; int tmp; for (int j = 0; j &lt; n; j++) &#123; cin &gt;&gt; tmp; if ( copyin[tmp] ) flag = false; for(auto &amp;k: ve[tmp]) copyin[k]--; &#125; if (flag == false) ans.push_back(i); &#125; int sz = ans.size(); for (int i = 0; i &lt; sz; i++) &#123; if (i == sz - 1) cout &lt;&lt; ans[i] &lt;&lt; endl; else cout &lt;&lt; ans[i] &lt;&lt; \" \"; &#125; return 0;&#125; 1151 LCA in a Binary Tree LCAæ‰¾æœ€è¿‘å…¬å…±ç¥–å…ˆ ç»™å‡ºä¸­åºã€å…ˆåºéå†çš„åºåˆ—ï¼ˆç»™å‡ºçš„ä¸æ˜¯å€¼ï¼Œ è€Œæ˜¯èŠ‚ç‚¹ç¼–å·ï¼‰ï¼› ç”±äºèŠ‚ç‚¹å€¼éƒ½æ˜¯ä¸åŒçš„ï¼Œ å› æ­¤å¯ä»¥æ„é€ BSTäºŒå‰æœç´¢æ•°ï¼Œ ç”¨é™æ€æ•°ç»„çš„å½¢å¼è¿›è¡Œéå†ï¼Œ å¦åˆ™å°±è·ŸLeetCode#236ä¸€æ ·å»ºæ ‘ç„¶åDFSéå† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081/* * @Author: Mrli * @Date: 2020-09-22 11:53:35 * @LastEditTime: 2020-09-22 13:28:51 * @Description: */#include &lt;bits/stdc++.h&gt;using namespace std;const int INF = 0x3f3f3f3f;int m, n;/** posæ˜¯ä½ç½®positionçš„æ„æ€ï¼Œposæ˜¯ä¸ªmapï¼Œä¸»è¦æ˜¯ç”¨æ¥æ ‡è®°ä¸­åºçš„ï¼Œ å› ä¸ºæœ‰çš„æ—¶å€™ä¸ä»…éœ€è¦çŸ¥é“iä¸‹æ ‡çš„ä¸­åºæ˜¯jï¼Œ è¿˜éœ€è¦çŸ¥é“ç»“ç‚¹jå¯¹åº”çš„ä½ç½®æ˜¯iï¼Œ ä¸»è¦ç”¨æ¥ä¿å­˜å’Œin[i]ç›¸åçš„å¯¹åº”çš„æ˜ å°„å…³ç³»*/map&lt;int, int&gt;pos;vector&lt;int&gt; in, pre;// https://www.bilibili.com/video/BV1X5411b7C2/?spm_id_from=333.788.videocard.0void lca(int inL, int inR, int a, int b, int preRoot)&#123; if (inL &gt; inR) return; // preRootèŠ‚ç‚¹åœ¨ä¸­åºä¸­çš„ä½ç½® int inRoot = pos[pre[preRoot]]; // èŠ‚ç‚¹a, båœ¨ä¸­åºçš„èŠ‚ç‚¹ä½ç½® int aIn = pos[a], bIn = pos[b]; if ( aIn &lt; inRoot &amp;&amp; bIn &lt; inRoot)&#123; lca(inL, inR - 1, a, b, preRoot + 1); &#125;else if ( (aIn &lt; inRoot &amp;&amp; bIn &gt; inRoot) || ( aIn &gt; inRoot &amp;&amp; bIn &lt; inRoot ))&#123; printf(\"LCA of %d and %d is %d.\\n\", a, b, in[inRoot]); &#125;else if ( aIn == inRoot)&#123; printf(\"%d is an ancestor of %d.\\n\", a, b); &#125;else if ( bIn == inRoot)&#123; printf(\"%d is an ancestor of %d.\\n\", b, a); &#125; // else if ( aIn &gt; inRoot &amp;&amp; bIn &gt; inRoot)&#123; else&#123; // å·¦å­æ ‘èŠ‚ç‚¹ä¸ªæ•° int numLeft = (inRoot - inL) + 1; lca(inRoot + 1, inR, a, b, preRoot + numLeft); &#125; // else&#123; // ä¸¤ä¸ªéƒ½ä¸ç›¸ç­‰, è¯æ˜inRootæ˜¯ä»–ä»¬ä¸¤ä¸ªçš„ç¥–å…ˆ // printf(\"LCA of %d and %d is %d.\", a, b, inRoot); // &#125; &#125;int main()&#123; ios::sync_with_stdio(false); cin.tie(0); cin &gt;&gt; m &gt;&gt; n; in.resize(n + 1); pre.resize(n + 1); for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; in[i]; // ä¸­åºéå†çš„ç»“æœæ˜¯æœ‰åºçš„, ä½†æ˜¯è¿™è¾¹è¾“å…¥çš„æ˜¯å€¼çš„èŠ‚ç‚¹ç¼–å·id. // è®°å½•èŠ‚ç‚¹ç¼–å·åœ¨ä¸­åºä¸­çš„ç´¢å¼• pos[in[i]] = i; &#125; for (int j = 1; j &lt;= n; j++) &#123; cin &gt;&gt; pre[j]; &#125; for (int i = 0; i &lt; m; i++) &#123; int a, b; cin &gt;&gt; a &gt;&gt; b; // å¦‚æœpos[a] == 0 è¡¨ç¤ºèŠ‚ç‚¹aæ²¡æœ‰å‡ºç°è¿‡ if ( pos[a] == 0 &amp;&amp; pos[b] == 0) printf(\"ERROR: %d and %d are not found.\\n\", a, b); else if ( pos[a] == 0 ) printf(\"ERROR: %d is not found.\\n\", a); else if ( pos[b] == 0)printf(\"ERROR: %d is not found.\\n\", b); else &#123; lca(1, n, a, b, 1); &#125; &#125; return 0;&#125; 1154 Vertex Coloring 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556/* * @Author: Mrli * @Date: 2020-07-18 20:55:38 * @LastEditTime: 2020-07-18 21:18:07 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int n, m;struct edge&#123; int uu,vv;&#125;;/** æ¯æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹éƒ½æ˜¯ä¸åŒçš„é¢œè‰²ï¼Œ æœ€å¤šèƒ½æœ‰å¤šå°‘ç§é¢œè‰² */int main()&#123; cin &gt;&gt; n &gt;&gt; m; vector&lt;edge&gt; v(m); for (int i = 0; i &lt; m; i++) &#123; cin &gt;&gt; v[i].uu &gt;&gt; v[i].vv; &#125; int k; cin &gt;&gt; k; for (int i = 0; i &lt; k; i++) &#123; // è®°å½•é¡¶ç‚¹é¢œè‰² vector&lt;int&gt; cv(n); // è®°å½•é¢œè‰²ä¸ªæ•° set&lt;int&gt; se; for (int j = 0; j &lt; n; j++) &#123; cin &gt;&gt; cv[j]; se.insert(cv[j]); &#125; bool flag = true; for (int j = 0; j &lt; m; j++) &#123; // cout &lt;&lt; v[j].uu &lt;&lt; \"\\t\" &lt;&lt; v[j].vv &lt;&lt; \"\\t\" &lt;&lt; cv[ v[j].uu ] &lt;&lt; \"\\t\" &lt;&lt; cv[ v[j].vv ] &lt;&lt; endl; if ( cv[ v[j].uu ] == cv[ v[j].vv ])&#123; flag = false; break; &#125; &#125; if (flag)&#123; cout &lt;&lt; se.size() &lt;&lt; \"-coloring\" &lt;&lt; endl; &#125;else&#123; cout &lt;&lt; \"No\" &lt;&lt; endl; &#125; &#125; return 0;&#125; 1155 Heap Paths 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556/* * @Author: Mrli * @Date: 2020-07-18 21:37:50 * @LastEditTime: 2020-07-18 21:37:50 * @Description: */ #include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;int n;vector&lt;int&gt; tree;bool maxHeap = false;bool minHeap = false;void dfs(int root, vector&lt;int&gt; path)&#123; path.push_back(tree[root]); int left = root*2 + 1; int right = root*2 + 2; if (left &gt;= n) &#123; // ä»¥ä¸€ä¸ªå­èŠ‚ç‚¹ä¸ºæ ¹æ®, åå‘æ¢ç´¢ int sz = path.size(); for (int i = 0; i &lt; sz; i++) &#123; cout &lt;&lt; path[i]; if ( i == sz - 1)&#123; cout &lt;&lt; endl; &#125;else&#123; cout &lt;&lt;\" \"; if ( path[i] &lt; path[i+1] &amp;&amp; i+1 &lt; n) minHeap = true; else if( path[i] &gt; path[i+1] &amp;&amp; i+1 &lt; n) maxHeap = true; &#125; &#125; &#125;else if (left == n-1)&#123; // åˆ¤æ–­å·¦å­æ ‘æ˜¯å¦ä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹-&gt;æ˜¯å¦æœ‰å³å­æ ‘ dfs(left, path); &#125;else&#123; dfs(right, path); dfs(left, path); &#125;&#125;int main()&#123; cin &gt;&gt; n; tree.resize(n); for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; tree[i]; &#125; vector&lt;int&gt; path; dfs(0, path); if ( maxHeap &amp;&amp; minHeap )cout &lt;&lt;\"Not Heap\" &lt;&lt;endl; else if (maxHeap) cout &lt;&lt; \"Max Heap\" &lt;&lt;endl; else if (minHeap) cout &lt;&lt; \"Min Heap\" &lt;&lt;endl; else cout &lt;&lt;\"Not Heap\" &lt;&lt;endl; return 0;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071/** @Author: Mrli* @Date: 2020-05-26 20:10:10 * @LastEditTime: 2020-05-26 20:36:44* @Description: */ #include &lt;bits/stdc++.h&gt;#include &lt;algorithm&gt;using namespace std;struct School&#123; string name; double total; int testee; School(): name(\"\"), testee(0), total(0.0)&#123;&#125; bool operator&lt; (const School &amp;that) const&#123; if ( abs(total - that.total) &gt; 1e-8 ) // ä¸ç›¸ç­‰, è®°å¾—åŠ absç»å¯¹å€¼ // if ( total != that.total ) // ä¸ç›¸ç­‰ return total &gt; that.total; if ( testee != that.testee ) return testee &lt; that.testee; return name &lt; that.name; &#125;&#125;;int main()&#123; int n; cin &gt;&gt; n; unordered_map&lt;string, School&gt; hash; while(n -- )&#123; string sch, id; double score ; cin &gt;&gt; id &gt;&gt; score &gt;&gt; sch; for(auto &amp;s: sch) s = tolower(s); if ( id[0] == 'B') score /= 1.5; else if (id[0]== 'T' ) score *= 1.5; hash[sch].testee ++; hash[sch].total += score; hash[sch].name = sch; &#125; vector&lt;School&gt; v; for(auto item: hash)&#123; item.second.total = int( item.second.total + 1e-8); v.push_back(item.second); &#125; sort(v.begin(), v.end()); cout &lt;&lt; v.size() &lt;&lt; endl; int rank = 1; for (int i = 0; i &lt; v.size(); i++) &#123; School s = v.at(i); if (i == 0) &#123; cout &lt;&lt; rank &lt;&lt; \" \" &lt;&lt; s.name &lt;&lt; \" \" &lt;&lt; s.total &lt;&lt; \" \" &lt;&lt; s.testee &lt;&lt; endl; &#125;else&#123; if( s.total != v.at(i-1).total) rank = i+1; cout &lt;&lt; rank &lt;&lt; \" \" &lt;&lt; s.name &lt;&lt; \" \" &lt;&lt; s.total &lt;&lt; \" \" &lt;&lt; s.testee &lt;&lt; endl; &#125; &#125; return 0;&#125; é™„å½• åˆ·PATå¥½ç”¨åˆ°å“­çš„å‡½æ•° å¥½ç”¨çš„å‡½æ•° string-&gt;int 12345678// æ³•ä¸€int grade;string s = \"123\";stringstream ss;ss &gt;&gt; grade;// æ³•äºŒstoi() // åœ¨cstringä¸­ int-&gt;string 1234// æ³•ä¸€to_string()// C++11ä¹‹åæ‰æ”¯æŒ// æ³•äºŒitos() // cstringä¸­ sortä¸­cmpå‡½æ•°ç¼–å†™ 123456789101112131415161718192021222324252627// ä»å¤§åˆ°å°æ’åºbool cmp(rc &amp;a, rc &amp;b)&#123; return a.grade &gt; b.grade;&#125;// ä»å°åˆ°å¤§æ’åºbool cmp(rc &amp;a, rc &amp;b)&#123; return a.grade &lt; b.grade;&#125;// å¦‚æœä¸ºMåˆ™æ’å‰ï¼ŒFæ’åï¼› å¦‚æœå­—ç¬¦ç›¸åŒï¼Œå°±æ¯”æˆç»©// -&gt;æ’å‰çš„return truebool cmp(rc &amp;r1, rc &amp;r2)&#123; if(r1.sex == \"M\" &amp;&amp; r2.sex == \"F\") return true; else if(r1.sex == \"F\" &amp;&amp; r2.sex == \"M\") return false; else return r1.grade &lt; r2.grade;&#125;// ä¸€èˆ¬æƒ…å†µä¸‹,å¯¹ç›¸ç­‰çš„æƒ…å†µä¸éœ€è¦ç‰¹æ®Šå¤„ç†,å› æ­¤&lt;/&gt;ä¹Ÿå¯ä»¥å¤„ç†ç›¸ç­‰çš„æƒ…å†µ,// ä½†æ˜¯ä¸€æ—¦é¢˜ç›®è¦æ±‚å¤„ç†ç›¸ç­‰æƒ…å†µ, é‚£ä¹ˆå°±éœ€è¦é¢å¤–æ‹å‡ºåˆ¤æ–­, è§1025 PAT Rankingbool cmp(rc &amp;a, rc &amp;b)&#123; if(a.grade != b.grade) return a.grade&gt;b.grade; else return (a.ID&lt;b.ID);&#125;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"}]},{"title":"è½¯ä»¶æµ‹è¯•ç¬”è®°","slug":"è½¯ä»¶æµ‹è¯•ç¬”è®°","date":"2019-10-18T13:03:29.000Z","updated":"2019-11-02T02:05:36.942Z","comments":true,"path":"2019/10/18/è½¯ä»¶æµ‹è¯•ç¬”è®°/","link":"","permalink":"https://nymrli.top/2019/10/18/è½¯ä»¶æµ‹è¯•ç¬”è®°/","excerpt":"","text":"è½¯ä»¶æµ‹è¯•ç¬”è®° ç§»åŠ¨åº”ç”¨æµ‹è¯• appniumä½¿ç”¨ å®‰è£…çš„æ˜¯appnium-desktop,æ²¡æœ‰æ•™ç¨‹ä¸­æ‰€è¯´çš„Appium/node_modules/.bin/è·¯å¾„ï¼Œä½¿ç”¨å‘½ä»¤è¡Œè¾“å…¥appniumå’Œappium-doctorä¹Ÿéƒ½æ²¡å•¥ååº”ï¼Œåæ¥ç´¢æ€§æ²¡ç®¡ï¼Œç›´æ¥è·‘ä»£ç  çœŸæœºæµ‹è¯• ä½¿ç”¨çš„æ—¶å€™æŠ¥é”™Build info: version: 'unknown', revision: 'unknown', time: 'unknown'ï¼Œä»¥ä¸ºæ˜¯appniumç‰ˆæœ¬çš„é—®é¢˜ï¼Œç¬¬ä¸€æ¬¡å®‰è£…çš„æ˜¯1.13ï¼Œåæ¥æ¢æˆäº†1.9ï¼Œå…¶å®æ²¡å¤šå¤§åŒºåˆ«ï¼Œåªä¸è¿‡æ®è¯´è¦ä¿è¯ç‰ˆæœ¬åœ¨1.6ä»¥ä¸Šã€‚ æ›´æ¢ç‰ˆæœ¬åï¼Œå‘ç°è¿˜æ˜¯Build info: version: 'unknown', revision: 'unknown', time: 'unknown'é—®é¢˜ï¼Œäºæ˜¯è¯•äº†å¤šæ¬¡ï¼Œæ‰ç»ˆäºè§£å†³ã€‚ æ­¥éª¤ä¸€ï¼š è¿™è¾¹æ˜¯è®¾ç½®appniumè¿æ¥å‚æ•°çš„ ç”±äºç¾¤é‡Œçš„é«˜åˆ†è„šæœ¬ä¹Ÿæ˜¯è¿™ä¹ˆè®¾ç½®çš„ï¼Œæˆ‘å°±ä»¥ä¸ºæ²¡å¤šå¤§é—®é¢˜ï¼Œå…¶å®è¿™è¾¹è¿˜æ˜¯è¦ä¿®æ”¹ä¸å°‘ä¸œè¥¿çš„ 1234567891011//è®¾ç½®è‡ªåŠ¨åŒ–ç›¸å…³å‚æ•°DesiredCapabilities capabilities = new DesiredCapabilities();capabilities.setCapability(\"browserName\", \"\");// ç¡®å®šè‡ªå·±çš„æ‰‹æœºç³»ç»Ÿæ˜¯Androidã€iosçš„è¯éœ€è¦éœ€æ”¹capabilities.setCapability(\"platformName\", \"Android\");// è¿™è¾¹è¦è®¾ç½®æˆè‡ªå·±çš„è®¾å¤‡uuidï¼Œé€šè¿‡adb devicesæŸ¥çœ‹capabilities.setCapability(\"deviceName\", \"Android Emulator\");// è¿™ä¸ªdemoä»£ç ä¼šæä¾›å¥½ï¼Œå°±ä¸éœ€è¦è‡ªå·±å»æ‰¾äº†capabilities.setCapability(\"appPackage\", \"cn.etouch.ecalendar\");capabilities.setCapability(\"appActivity\", \".ECalendar\");capabilities.setCapability(\"noSign\", \"true\"); appPackageæŸ¥çœ‹åŒ…å(å¯ä»¥æ‰¾åˆ°å”¯ä¸€çš„åº”ç”¨)ï¼šadb shell dumpsys activity | find &quot;mFocusedActivity&quot;ï¼Œéœ€è¦çš„ç»“æœå³cn.etouch.ecalendar 12adb shell dumpsys activity | find \"mFocusedActivity\"&gt;&gt;&gt; mFocusedActivity: ActivityRecord&#123;1510a73 u0 cn.etouch.ecalendar/.MainActivity t2&#125; activityNameæŸ¥è¯¢ç±»å(æ‰¾åˆ°åº”ç”¨ä¸Šçš„æŸä¸ªç•Œé¢)ï¼šaapt dump badging &lt;apkPath&gt;ç„¶åæ‰¾åˆ°launchable-activity 123# e.g.E:\\android-sdk-windows\\build-tools\\28.0.3\\aapt dump badging C:\\mooctest\\projects\\3399\\52660\\Zhwnl\\apk\\Zhwnl.apk | grep launchable-activity&gt;&gt;&gt; launchable-activity: name='cn.etouch.ecalendar.ECalendar' label='ä¸­åä¸‡å¹´å†' icon='' æ­¥éª¤äºŒï¼š é™¤äº†ä»£ç ä¸Šè®¾ç½®å¥½è¿æ¥æ‰‹æœºçš„å‚æ•°ï¼Œæ‰‹æœºä¹Ÿéœ€è¦è®¾ç½®ç”µè„‘èƒ½æ“ä½œæ‰‹æœº éœ€è¦æ‰“å¼€ä¸‰ä¸ªé€‰é¡¹ï¼šâ€œUSBè°ƒè¯•â€ã€â€œUSBå®‰è£…â€ã€â€œUSBè°ƒè¯•ï¼ˆå®‰å…¨è®¾ç½®ï¼‰â€ ä»¥å°ç±³6æ‰‹æœºä¸ºä¾‹:â€œæ›´å¤šè®¾ç½®â€-&gt;â€œå¼€å‘è€…é€‰é¡¹â€-&gt;â€œUSBè°ƒè¯•â€ã€â€œUSBå®‰è£…â€ã€â€œUSBè°ƒè¯•ï¼ˆå®‰å…¨è®¾ç½®ï¼‰â€ ç”±äºä¹‹å‰ä½¿ç”¨pythonç©è¿‡ADBï¼Œæ‰€ä»¥**â€œUSBè°ƒè¯•â€ã€&quot;USBè°ƒè¯•ï¼ˆå®‰å…¨è®¾ç½®ï¼‰&quot;æ˜¯å¼€å¯çš„ï¼Œè€Œæ²¡æ‰“å¼€USBå®‰è£…**ï¼Œæ‰€ä»¥å¯¼è‡´äº†ä¸€ç›´å¤±è´¥ã€‚å®é™…ä¸Šæ‰“å¼€USBå®‰è£…åï¼Œä¼šå®‰è£…å‡ ä¸ªç¨‹åºæ¯”å¦‚Unlockã€appnium settingsç­‰ã€‚å…¶å®æŠ¥é”™ä¸€å¼€å§‹ä¹Ÿæç¤ºäº†ï¼Œæ²¡æ£€æµ‹åˆ°æ‰‹æœºï¼Œå•¥å•¥å®‰è£…ä¸ä¸Šï¼Œåªä¸è¿‡å½“æ—¶æ²¡ç•™æ„ 123Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Unable to find an active device or emulator with OS 4.1.1. The following are available: cf46749d (8.0.0) (WARNING: The server did not provide any stacktrace information)Command duration or timeout: 469 millisecondsBuild info: version: &apos;unknown&apos;, revision: &apos;unknown&apos;, time: &apos;unknown&apos; â–²åæ¥åˆå‘ç°ï¼Œä¸è®¾ç½®platformVersionã€deviceNameç›´æ¥è®¾ç½®æˆAndroid Emulatorä¹Ÿè¡Œï¼Œçœ‹æ¥æœ€ä¸»è¦çš„åŸå› è¿˜æ˜¯æ‰‹æœºç¬¬ä¸€æ¬¡ä½¿ç”¨Appniumä¹‹å‰éœ€è¦å®‰è£…å†™appniumçš„è½¯ä»¶ è¿™ä¸ªåº”è¯¥å°±æ˜¯è¿™ä¸¤è¡Œæ‰€å®‰è£…çš„ä¸œè¥¿ 1234//è®¾ç½®ä½¿ç”¨unicodeé”®ç›˜ï¼Œæ”¯æŒè¾“å…¥ä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦capabilities.setCapability(\"unicodeKeyboard\",\"true\");//è®¾ç½®ç”¨ä¾‹æ‰§è¡Œå®Œæˆåé‡ç½®é”®ç›˜capabilities.setCapability(\"resetKeyboard\",\"true\"); å¤œæ·±æ¨¡æ‹Ÿå™¨æµ‹è¯• 1 å¼€å¯USBè°ƒè¯• è®¾ç½®-&gt;å…³äºå¹³æ¿ç”µè„‘-&gt;å¤šæ¬¡ç‚¹å‡»&quot;ç‰ˆæœ¬å·&quot;è¿›å…¥å¼€å‘è€…æ¨¡å¼-&gt;å¼€å‘è€…é€‰é¡¹-&gt;æ‰“å¼€**â€œUSBè°ƒè¯•â€å’Œ&quot;å…è®¸æ¨¡æ‹Ÿä½ç½®&quot;** 2 æŸ¥çœ‹deviceName å‘½ä»¤è¡Œä¸­è¾“å…¥adb devicesï¼Œå¦‚æœä¸€ç›´æ²¡æ£€æµ‹åˆ°ï¼Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼ˆæˆ‘æ˜¯éœ€è¦è¿™ä¹ˆåšçš„ï¼‰ï¼š 12345678910111213å¦‚æœåœ¨è®¾å¤‡è¿æ¥è¿‡ç¨‹ä¸­ï¼Œç¡®å®šè®¾å¤‡å·²ç»å¼€å¯USBè°ƒè¯•ä¸”æ­£ç¡®è¿æ¥åˆ°PCï¼Œä½†æ˜¯ä»æ—§ä½¿ç”¨adb devicesæŒ‡ä»¤æŸ¥åˆ°è®¾å¤‡åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™æœ‰å¯èƒ½æ˜¯å·²å®‰è£…çš„å®‰å“SDKä¸­çš„adbç¨‹åºç‰ˆæœ¬å’Œæ¨¡æ‹Ÿå™¨è‡ªå¸¦çš„adbç¨‹åºç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„ã€‚è§£å†³åŠæ³•å¯èƒ½æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œæš‚ä»‹ç»æ¥¼ä¸»äº²æµ‹å®ç”¨çš„æ–¹æ¡ˆï¼šç¬¬ä¸€æ­¥ï¼šå…³é—­æ­£åœ¨è¿è¡Œçš„çš„æ¨¡æ‹Ÿå™¨ç¬¬äºŒæ­¥ï¼šæ›¿æ¢adb.exeç¨‹åºã€‚é€é¥æ¨¡æ‹Ÿå™¨ï¼šè¿›å…¥å®‰è£…ç›®å½•ï¼ˆé»˜è®¤ä¸º..\\Microvirt\\MEmuï¼‰ï¼Œæ‰¾åˆ°adb.exeæ–‡ä»¶ï¼Œæ‰§è¡Œåˆ é™¤ã€‚ç„¶åè¿›å…¥SDKçš„å®‰è£…ç›®å½•ï¼ˆé»˜è®¤ä¸º..\\android-sdk-windows\\platform-toolsï¼‰ï¼Œæ‹·è´ç³»ç»Ÿadb.exeåˆ°é€é¥çš„åŸç›®å½•å³å¯ã€‚å¤œç¥æ¨¡æ‹Ÿå™¨ï¼šè¿›å…¥å®‰è£…ç›®å½•ï¼Œæ‰¾åˆ°nox_adb.exeæ–‡ä»¶ï¼Œæ‰§è¡Œåˆ é™¤ã€‚ç„¶åè¿›å…¥SDKçš„å®‰è£…ç›®å½•ï¼ˆé»˜è®¤ä¸º..\\android-sdk-windows\\platform-toolsï¼‰ï¼Œæ‹·è´ç³»ç»Ÿadb.exeåˆ°é€é¥çš„åŸç›®å½•ï¼Œé‡å‘½åä¸ºâ€œnox_adb.exeâ€å³å¯ã€‚ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨æ¨¡æ‹Ÿå™¨ã€‚å¯åŠ¨å®Œæ¯•åï¼Œæ‰“å¼€cmdå‘½ä»¤çª—å£è¾“å…¥ adb devices å†æ¬¡æ£€æŸ¥è®¾å¤‡è¿æ¥æƒ…å†µï¼Œä¸€èˆ¬å°±èƒ½æ­£å¸¸çœ‹åˆ°å·²è¿æ¥çš„è™šæ‹Ÿè®¾å¤‡ä¿¡æ¯äº†ã€‚ è¿è¡Œä»£ç main.java 123456789//è®¾ç½®è‡ªåŠ¨åŒ–ç›¸å…³å‚æ•°DesiredCapabilities capabilities = new DesiredCapabilities();capabilities.setCapability(\"browserName\", \"\");capabilities.setCapability(\"platformName\", \"Android\");// capabilities.setCapability(\"platformVersion\", \"8.0.0\");capabilities.setCapability(\"deviceName\", \"127.0.0.1:62001\");capabilities.setCapability(\"appPackage\", \"cn.etouch.ecalendar\");capabilities.setCapability(\"appActivity\", \".ECalendar\");capabilities.setCapability(\"noSign\", \"true\"); ç„¶åè¿è¡Œæµ‹è¯•ä»£ç å°±èƒ½çœ‹åˆ°è¿™æ ·çš„ç”»é¢äº† è¿›å…¥å…ƒç´ å®¡æŸ¥ å®‰è£…æ•™ç¨‹ï¼Œæˆ‘æ˜¯å®‰è£…è½¯ä»¶æµ‹è¯•å¤§èµ›æä¾›çš„æ•™ç¨‹å®‰è£…ä¸‹æ¥çš„ï¼Œåªä¸è¿‡æ„Ÿè§‰è¿™ç¯‡å¯èƒ½å°†çš„æ›´å¥½ä¸€ç‚¹ã€‚ï¼ˆ appium-doctor æ˜¯éœ€è¦é¢å¤–ç”¨npmå®‰è£…çš„ï¼Œè€Œä¸æ˜¯åƒæ¯”èµ›æ•™ç¨‹ä¸­å†™çš„é‚£æ ·ï¼‰ è¸©å‘è®°å½•ï¼š å‡ºç°æŠ¥é”™UiAutomator exited unexpectedly with code 0, signal null 123456$ adb shell$ cd /data/local/tmp ï¼ˆå¦‚æœä¸€æ¬¡æ€§è¿›ä¸å»ï¼Œå¯ä»¥åˆ†å±‚ä¸€å±‚å±‚è¿›å…¥ï¼‰# 3ã€è¿›å…¥data/local/tmp ålsæŸ¥çœ‹å…¨éƒ¨ç›®å½•ï¼Œåº”è¯¥æœ‰ä¸€ä¸ª AppiumBootstrap.jarï¼Œå¯èƒ½ä½ çš„åå­—æ˜¯ AppiumBoots æˆ–è€… AppiumBootstrap.jarã€‚# 4ã€å°†andriod sdkä¸‹çš„AppiumBootstrap.jarå‘é€ä¸Šå»$ adb push C:\\Users\\10630\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-android-driver\\bootstrap\\bin\\AppiumBootstrap.jar /data/local/tmp# 5ã€okï¼Œå¤§åŠŸå‘Šæˆ adb unauthorized 1.ä½¿ç”¨adbè¿æ¥æ‰‹æœºæ—¶ï¼Œå³ä½¿æ‰“å¼€äº†usbè°ƒè¯•ï¼Œæ‰‹æœºæ·»åŠ äº†ä¿¡ä»»ï¼Œä»ç„¶å‡ºç°unauthorizedçš„æç¤º 2.C:\\Users\\(Username)\\.androidé‡Œé¢åˆ æ‰adbkeyå’Œadbkey.pubä¸¤ä¸ªæ–‡ä»¶(æ²¡æ·»åŠ è¿‡ä¿¡ä»»çš„è¯æ˜¯æ²¡æœ‰çš„)ï¼Œç„¶åé‡æ–°æ’æ‹”æ‰‹æœº æ‰§è¡Œï¼š 12adb kill-serveradb start-server â–³å¦‚æœä¸Šè¿°æ–¹å¼è¿˜æ˜¯æ— æ•ˆçš„è¯ï¼Œé€‰æ‹©â€œå¼€å‘è€…æµ‹è¯•â€-&gt;&quot;è°ƒè¯•&quot;ä¸­çš„æ’¤é”€USBè°ƒè¯•æˆæƒï¼Œç„¶åé‡æ–°ä¸Šè¿°æ“ä½œ ç‰¹æ®Šå…ƒç´ å®šä½ä¹‹è·å–toast java-clientç‰ˆæœ¬å¿…é¡»æ»¡è¶³5.0+ desiredCapabilitiesä¸­æŒ‡å®šautomationNameä¸ºï¼šUIAutomator2 UIAutomator2åªæ”¯æŒå®‰å“ç‰ˆæœ¬5.0+ getElement(By.xpath(&quot;//*[contains(@text,'tips')]&quot;)); Monkeyä½¿ç”¨ è„šæœ¬ä¼˜åŠ¿ï¼šç®€å•ã€å¿«æ·ã€ä¸éœ€è¦å€ŸåŠ©ä»»ä½•å·¥å…·ï¼Œå¯ä»¥åšç®€å•çš„æ€§èƒ½æµ‹è¯• è„šæœ¬ç¼ºç‚¹ï¼šåªèƒ½ç®€å•å®ç°åæ ‡ã€æŒ‰é”®ç­‰åŸºæœ¬æ“ä½œï¼ˆæ ¹æ®åƒç´ ç‚¹æ¥è¿›è¡Œæ“ä½œï¼‰ 123456789101112131415161718192021222324#å¤´æ–‡ä»¶ã€æ§åˆ¶monkeyå‘é€æ¶ˆæ¯çš„å‚æ•°type=raw eventscount=10speed=1.0#ä»¥ä¸‹monkeyå‘½ä»¤start data&gt;&gt; # å¼€å¯æŸ æª¬æ¯appLaunchActivityï¼ˆcom.lemon.lemonbanï¼Œcom.lemon.lemonban.activity.WelcomeActivityï¼‰#è®©è„šæœ¬æš‚åœè¿è¡Œ4S UserWaitï¼ˆ4000ï¼‰#ç‚¹å‡»æˆ‘çš„æŸ æª¬å…ƒç´ Tapï¼ˆ600ï¼Œ1220ï¼‰#ç‚¹å‡»æˆ‘çš„å¤´åƒç™»å½•#è®©è„šæœ¬æš‚åœè¿è¡Œ1S UserWaitï¼ˆ1000ï¼‰Tapï¼ˆ300ï¼Œ200ï¼‰#è®©è„šæœ¬æš‚åœè¿è¡Œ1s UserWaitï¼ˆ2000ï¼‰#è¾“å…¥æ‰‹æœºå·ç DispatchStringï¼ˆ18588220110ï¼‰#ç‚¹å‡»å¯†ç è¾“å…¥æ¡†Tapï¼ˆ200ï¼Œ650ï¼‰#è¾“å…¥å¯†ç DispatchStringï¼ˆ123456ï¼‰#ç‚¹å‡»ç™»å½•æŒ‰é’®Tapï¼ˆ320ï¼Œ800ï¼‰UserWaitï¼ˆ3000ï¼‰ 1234# ä¸Šä¼ monkeyè„šæœ¬adb push monkeyScript.txt /sdcard/# è¿è¡Œmonkeyè„šæœ¬adb shell monkey -f /sdcard/monkeyScript.txt uiautomatorviewerä½¿ç”¨ ä½ç½®E:\\android-sdk-windows\\tools 1234567@echo onadb shell uiautomator dump /sdcard/app.uixadb pull /sdcard/app.uix .adb shell screencap -p /sdcard/app.pngadb pull /sdcard/app.png . é‡‡å‘è®°å½•: å°ç±³æ‰‹æœºæœ‰ç‚¹å‘å•Šï¼Œè¿›è¡ŒAndroidå¼€å‘æ—¶éœ€è¦è®¾ç½®æŒºå¤šä¸œè¥¿çš„ã€‚ å…³é—­MIUIä¼˜åŒ–ä¸ç„¶æ²¡æ³•è°ƒè¯• å¦‚æœè¿›è¡Œuiautomatorviewerè°ƒè¯•çš„è¯ï¼Œå¿…é¡»è¿˜è¦æŠŠæ‚¬æµ®çƒç»™å…³äº†ï¼Œä¸ç„¶æ²¡æ³•è·å–ç•Œé¢ã€‚ TouchAction ç‚¹å‡»æ“ä½œ 123456789101112// pressTouchAction ta=new TouchAction(driver);//åˆ›å»ºä¸€ä¸ªTouchActionå¯¹è±¡ta.press(element).release().perform();//æŒ‰ä¸€ä¸ªå…ƒç´ ta.press(500, 450).release().perform();//æŒ‰ä¸€ä¸ªåæ ‡ç‚¹//æŒ‰ä¸€ä¸ªå…ƒç´ ä¸Šçš„æŸä¸ªç‚¹ï¼Œä»å·¦ä¸Šè§’åç§»100ta.press(element,100,100).release().perform();// tapta.tap(element).release().perform();//ç‚¹ä¸€ä¸ªå…ƒç´ ta.tap(300, 500).release().perform();//ç‚¹ä¸€ä¸ªåæ ‡ç‚¹//æŒ‰ä¸€ä¸ªå…ƒç´ çš„æŸä¸ªç‚¹ï¼Œä»å·¦ä¸Šè§’åç§»100ta.tap(element, 100, 100).release().perform(); é•¿æŒ‰æ“ä½œ 12345678910// longPressTouchAction ta=new TouchAction(driver);//åˆ›å»ºä¸€ä¸ªTouchActionå¯¹è±¡ta.longPress(element).release().perform();//é•¿æŒ‰æŸä¸ªå…ƒç´ ta.longPress(element, 5000).release().perform();//é•¿æŒ‰æŸä¸ªå…ƒç´ ï¼Œæ—¶é—´æ˜¯5ç§’ta.longPress(300, 500).release().perform();//é•¿æŒ‰æŸä¸ªåæ ‡ç‚¹ta.longPress(300, 500, 3000).release().perform();//é•¿æŒ‰æŸä¸ªåæ ‡ç‚¹ï¼Œæ—¶é—´æ˜¯5ç§’//é•¿æŒ‰æŸå…ƒç´ ä¸Šçš„æŸä¸ªç‚¹ï¼Œä»å·¦ä¸Šè§’åç§»100ta.longPress(element, 100, 100).release().perform();//é•¿æŒ‰æŸå…ƒç´ ä¸Šçš„æŸä¸ªç‚¹ï¼Œä»å·¦ä¸Šè§’åç§»100ï¼Œæ—¶é—´æ˜¯3ç§’ta.longPress(element, 100, 100, 3000).release().perform(); ç»„åˆæ“ä½œâ€“æ‹–æ‹½ 12345// press + moveToTouchAction ta=new TouchAction(driver);//åˆ›å»ºä¸€ä¸ªTouchActionå¯¹è±¡ta.press(element1).moveTo(element2).release().perform();//ä¸¤ä¸ªå…ƒç´ äº’æ¢ä½ç½®//å°†å…ƒç´ æ‹–æ‹½åˆ°å¦å¤–ä¸€ä¸ªä½ç½®ï¼ŒmoveToä¸­çš„æ˜¯ç›¸å¯¹åç§»é‡ta.press(element1).waitAction(500).moveTo(0,200).waitAction(500).release().perform(); è¿ç»­æ»‘åŠ¨æ‰‹åŠ¿ï¼ˆå¯ç”¨äºæ‰‹åŠ¿è§£é”ï¼‰ 12345678// press + moveToTouchAction ta=new TouchAction(driver);//åˆ›å»ºä¸€ä¸ªTouchActionå¯¹è±¡//ä»ç¬¬ä¸€ä¸ªç‚¹ä¸€ç›´æ»‘åŠ¨åˆ°ç¬¬å››ä¸ªç‚¹ta.press(200, 200).moveTo(0, 100).moveTo(100, 0).moveTo(100, 100).release().perform();//ä»ç¬¬ä¸€ä¸ªå…ƒç´ ä¸€ç›´æ»‘åŠ¨åˆ°ç¬¬å››å…ƒç´ ta.press(element1).moveTo(element2).moveTo(element3).moveTo(element4).release().perform()// swipedriver.swipe(width * 3 / 4, height / 2, width / 4, height / 2, during); å…¶ä»– 1234//åœ¨ 0% åˆ° 100% å†…åŒæŒ‡ç¼©æ”¾å±å¹• driver.pinch(element=el)//æ”¾å¤§å±å¹• åœ¨ 100% ä»¥ä¸Šæ”¾å¤§å±å¹• driver.zoom(element=el) appniumå®šä½+æ“ä½œæ–¹å¼(python)â€”â€”è€ç‰ˆæœ¬ â–²Appium java-clientåº“æ›´æ–°åˆ°6.xåï¼Œæ»‘åŠ¨ swipe() å·²å¼ƒç”¨ï¼Œä¸”TouchActionç±»ä¸­å¾ˆå¤šæ–¹æ³•ä¹Ÿæœ‰æ”¹å˜ã€‚ ï¼ˆ æ€»çš„æ¥çœ‹ï¼Œå¼ƒç”¨çš„æ˜¯ press() longPress() moveTo() tap() å‚æ•°ä½¿ç”¨ xã€yè½´å’ŒwebElement çš„è¿™ç§ç±»å‹ï¼Œå’Œç”¨åˆ°Durationç±»å‹çš„æ–¹æ³• ï¼‰ å–è€Œä»£ä¹‹çš„æ˜¯å‚æ•°ç±»å‹å˜äº†ï¼Œæ¶‰åŠåˆ°XYè½´å®šä½çš„æ–¹æ³•ï¼Œå‚æ•°ä½¿ç”¨äº†PointOption.point(Xåæ ‡, Yåæ ‡)ï¼›æ¶‰åŠåˆ°Durationçš„æ–¹æ³•waitAction()ï¼Œå‚æ•°ä½¿ç”¨äº†WaitOptions.waitOptions(Duration.ofNanos(æ—¶é—´é—´éš”)) 123456//java-client 4.x æ»‘åŠ¨ swipe() æ¡ˆä¾‹ï¼šdriver.swipe(width * 3 / 4, height / 2, width / 4, height / 2, during); //java-client 6.x æ»‘åŠ¨æ¡ˆä¾‹ï¼šint nanos=(int) (second*1000); TouchAction action = new TouchAction(driver).press(PointOption.point(width* 3/4,height/2)).waitAction(WaitOptions.waitOptions(Duration.ofNanos(nanos))).moveTo(PointOption.point(width/4, height/2)).release().perform(); java-client 5.0.4åè¢«ç§»é™¤çš„å‡½æ•° ä¼—æµ‹çš„æ€è·¯ï¼š å¸¸è§è¾“å…¥æ¡†çš„è¾“å…¥èŒƒå›´ã€é™åˆ¶ æ‰‹æœºå·11ä½ã€éªŒè¯ç 6ä½ã€æ•æ„Ÿä¿¡æ¯ã€ç‰¹æ®Šå­—ç¬¦ toastæç¤ºæ¡†æ˜¯å¦æ­£ç¡® æ§ä»¶æ˜¯å¦æœ‰é”™åˆ«å­— é™„å½•ï¼š ä¼—åŒ…æµ‹è¯•æŠ¥å‘Šè¯„åˆ†è§„åˆ™ 1ã€ä¼—åŒ…æµ‹è¯•å¾—åˆ†=bugæŠ¥å‘Šå¾—åˆ†ï¼ˆåŒ…æ‹¬å•ä¸€çŠ¶bugæŠ¥å‘Šã€forkçš„bugæŠ¥å‘Šï¼‰ +è¯„å®¡å¾—åˆ†ï¼ˆç‚¹èµï¼Œç‚¹è¸©ï¼‰ 2ã€æ¯ä¸ªBugæŠ¥å‘Šæ»¡åˆ†10åˆ†ï¼ŒBugæŠ¥å‘ŠåŸºç¡€åˆ†1-5åˆ†ï¼Œé€‰æ‰‹æäº¤çš„Bugç­‰çº§ä»…ä¾›å‚è€ƒï¼Œä»¥è¯„å®¡äººå‘˜åˆ¤å®šä¸ºå‡†ï¼› 3ã€Bugæè¿°ç®€æ´æ¸…æ™°ã€å¤ç°æ­¥éª¤è¿è´¯ã€æŒ‰åºå·æ’åºï¼Œè¯„å®¡äººå‘˜å¯æ ¹æ®å…¶æè¿°é¡ºåˆ©çš„è¿›è¡Œæ“ä½œå¹¶å¤ç°Bugï¼Œé™„åŠ 3åˆ†ã€‚ 4ã€Bugæˆªå›¾ç›¸å…³åˆ™é™„åŠ 1åˆ†ï¼Œæˆªå›¾ä¸Šä½¿ç”¨çº¢æ¡†æ ‡æ³¨Bugä½ç½®åˆ™é™„åŠ 1åˆ†ï¼› 5ã€ç‚¹èµç‚¹è¸©å¾—åˆ†è§„åˆ™ï¼šå³ä¸ºæ­£ç¡®çš„bugæŠ¥å‘Šç‚¹èµï¼Œé”™è¯¯çš„bugæŠ¥å‘Šç‚¹è¸©å¯å¾—åˆ†ï¼›åä¹‹æ‰£åˆ†ã€‚ 6ã€è‹¥ä¸¤äººæäº¤bugæŠ¥å‘Šç›¸åŒï¼Œä¾æ®æ—¶é—´ä¼˜å…ˆåŸåˆ™ï¼Œåæäº¤çš„æŠ¥å‘Šè®¡ä½åˆ†ï¼Œæ‰€ä»¥è‹¥å‘ç°çš„bugå·²è¢«ä»–äººæäº¤ï¼Œå»ºè®®Forkï¼ˆå¤åˆ¶å¹¶è¡¥å……ä¿®æ”¹ï¼‰æˆ–å¯¹bugæŠ¥å‘Šè¿›è¡Œè¯„å®¡ï¼ˆç‚¹èµï¼Œç‚¹è¸©ï¼‰ã€‚ å¼€å‘è€…æµ‹è¯• è¯­å¥è¦†ç›–ï¼š ä¿è¯ç¨‹åºä¸­çš„æ¯ä¸€ä¸ªè¯­å¥è‡³å°‘è¢«æ‰§è¡Œä¸€æ¬¡ã€‚ è¢«è®¤ä¸ºæ˜¯â€œæœ€å¼±çš„è¦†ç›–â€ è¯­å¥è¦†ç›–ç‡ï¼šè¢«æ‰§è¡Œè¯­å¥çš„æ¯”ä¾‹ åˆ¤å®šè¦†ç›–(åˆ†æ”¯è¦†ç›–)ï¼šCFG (control Flow Graphæ§åˆ¶æµå›¾ )æ‰€æœ‰çš„è¾¹éƒ½è¢«è®¿é—®/æ‰€æœ‰çš„åˆ†æ”¯éƒ½è¢«è®¿é—® â–²é’ˆå¯¹åˆ¤æ–­è¯­å¥ï¼Œåœ¨è®¾å®šæ¡ˆä¾‹çš„æ—¶å€™ï¼Œè¦è®¾å®šTrueå’ŒFalseçš„ä¸¤ç§æ¡ˆä¾‹ï¼›ä¸è¯­å¥è¦†ç›–ä¸åŒçš„æ˜¯å¢åŠ äº†Falseçš„æƒ…å†µ åˆ†æ”¯è¦†ç›–ç‡ï¼šè¢«è®¿é—®çš„åˆ†æ”¯çš„æ¯”ä¾‹ æ¡ä»¶è¦†ç›– é’ˆå¯¹åˆ¤æ–­è¯­å¥é‡Œé¢æ¡ˆä¾‹çš„å–å€¼éƒ½è¦å»ä¸€æ¬¡ï¼Œä¸è€ƒè™‘æ¡ä»¶çš„å–å€¼ã€‚ æ¯ä¸ªå°åˆ¤æ–­åˆ†åˆ«ä¸ºçœŸï¼Œå…¶ä»–ä¸ºå‡çš„æƒ…å†µ åˆ¤å®š/æ¡ä»¶è¦†ç›– åˆ¤å®šè¦†ç›–å„æ¡ä»¶è¦†ç›–äº¤å‰ï¼Œé’ˆå¯¹äºåˆ¤å®šä¸­çš„æ¡ä»¶å–å€¼ ã€ æ¯ä¸ªåˆ¤å®šçœŸå‡å„ä¸€æ¬¡(åˆ¤å®šè¦†ç›–) æ¯ä¸ªåˆ¤å®šä¸­çš„æ¡ä»¶å„å–ä¸€æ¬¡(æ¡ä»¶è¦†ç›–) ç»„åˆè¦†ç›– åˆ¤å®š-æ¡ä»¶è¦†ç›–çš„åŠ å¼ºç‰ˆ åˆ¤å®šä¸­æ‰€æœ‰å¯èƒ½çš„æ¡ä»¶ç»„åˆ è·¯å¾„è¦†ç›– èµ°å®Œæ‰€æœ‰å¯èƒ½çš„è·¯å¾„ è¯­å¥è¦†ç›–ã€æ¡ä»¶è¦†ç›–ï¼ˆåˆ†æ”¯è¦†ç›–ï¼‰ã€åˆ¤å®šè¦†ç›–ã€æ¡ä»¶-åˆ¤å®šè¦†ç›–ã€ç»„åˆè¦†ç›–ã€è·¯å¾„è¦†ç›– è¾“å…¥åŸŸä¸Šçš„æµ‹è¯• â€“éšæœºæµ‹è¯• â€“ç­‰ä»·ç±»åˆ’åˆ† â€“è¾¹ç•Œå€¼åˆ†æ æœ€å°å€¼(min) ç•¥å¤§äºæœ€å°å€¼(min+) è¾“å…¥å€¼åŸŸå†…çš„ä»»æ„å€¼(nom) ç•¥å°äºæœ€å¤§å€¼(max-) æœ€å¤§å€¼(max) Input Domain-Based Techniques(continue) â€¢Random Testing â€¢Combinatorial Testing","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"},{"name":"è½¯ä»¶æµ‹è¯•","slug":"è½¯ä»¶æµ‹è¯•","permalink":"https://nymrli.top/tags/è½¯ä»¶æµ‹è¯•/"}]},{"title":"ç©ç©Stm32","slug":"ç©ç©Stm32","date":"2019-10-15T08:33:09.000Z","updated":"2019-10-18T08:56:46.703Z","comments":true,"path":"2019/10/15/ç©ç©Stm32/","link":"","permalink":"https://nymrli.top/2019/10/15/ç©ç©Stm32/","excerpt":"","text":"ç©ç©Stm32 æ–‡ä»¶ç»“æ„ 12345678910111213141516G:.â”œâ”€â”€â”€CORE # startup_stm32f10x_hd.sæ±‡ç¼–ç¼–å†™çš„å¯åŠ¨æ–‡ä»¶| # core_cm3.cåº•å±‚å‡½æ•°â”œâ”€â”€â”€HARDWARE # ç›¸å…³å¤–è®¾çš„åˆå§‹åŒ–ä»£ç â”œâ”€â”€â”€OBJâ”œâ”€â”€â”€STM32F10x_FWLib # å›ºä»¶åº“åŒ…: GPIO/i2c/...â”‚ â”œâ”€â”€â”€incâ”‚ â””â”€â”€â”€srcâ”œâ”€â”€â”€SYSTEM # æ­£ç‚¹åŸå­æä¾›çš„å¸¸ç”¨ã€é€šç”¨æ¨¡å—â”‚ â”œâ”€â”€â”€delayâ”‚ â”œâ”€â”€â”€sysâ”‚ â””â”€â”€â”€usartâ””â”€â”€â”€USER # stm32f10x_it.c ä¸­æ–­ç®¡ç†æ–‡ä»¶ | # stm32f10x.h â”œâ”€â”€â”€Listings â””â”€â”€â”€Objects ç¼–å†™è§„èŒƒï¼š ç”¨æˆ·ç¼–å†™çš„æ‰§è¡Œä»£ç å†™åœ¨main.cä¸­,å…¶ä¸­#include &quot;stm32f10x.h&quot;ä½œç”¨ç›¸å½“äºC51çš„#include &lt;reg51.h&gt;ï¼Œæ˜¯æ“ä½œå¯„å­˜å™¨çš„ä¸»è¦å›ºä»¶åº“æ–‡ä»¶,åœ¨ä»»ä½•åœ°æ–¹å¼•ç”¨åˆ°å›ºä»¶åº“å‡½æ•°æ—¶éƒ½éœ€è¦å¯¼å…¥è¿™ä¸ªæ–‡ä»¶ã€‚ stm32f10x_it.cã€stm32f10x_it.h, ä¸“é—¨å­˜æ”¾ä¸­æ–­æœåŠ¡å‡½æ•°çš„Cæ–‡ä»¶ ,å¤§å¤šä¸­æ–­å‡½æ•°éƒ½ å†™åœ¨æ­¤æ–‡ä»¶ä¸­,æ–¹ä¾¿ ç®¡ç†ä¸­æ–­å‡½æ•°,ä½†å¹¶ä¸æ˜¯ä¸€å®šè¦å†™åœ¨è¿™é‡Œé¢ã€‚ GPIO â—†ç«¯å£å¤ç”¨åŠŸèƒ½ STM32çš„å¤§éƒ¨åˆ†ç«¯å£éƒ½å…·æœ‰å¤ç”¨åŠŸèƒ½ã€‚ æ‰€è°“å¤ç”¨,å°±æ˜¯ä¸€äº›ç«¯å£ä¸ä»…ä»…å¯ä»¥åšä¸ºé€šç”¨lOå£,è¿˜å¯ä»¥å¤ç”¨ä¸ºä¸€äº›å¤–è®¾å¼•è„š,æ¯”å¦‚PA9,PA10å¯ä»¥å¤ç”¨ä¸ºSTM32çš„ä¸²å£1å¼•è„šã€‚ â–²ä½œç”¨ï¼šæœ€å¤§é™åº¦çš„åˆ©ç”¨ç«¯å£èµ„æº â—†ç«¯å£é‡æ˜ å°„åŠŸèƒ½ å°±æ˜¯å¯ä»¥æŠŠæŸäº›åŠŸèƒ½å¼•è„šæ˜ å°„åˆ°å…¶ä»–å¼•è„šã€‚ æ¯”å¦‚ä¸²å£1é»˜è®¤å¼•è„šæ˜¯PA9,PA10å¯ä»¥é€šè¿‡é…ç½®é‡æ˜ å°„æ˜ å°„åˆ°PB6,PB7 ä½œç”¨ï¼šä¸ºäº†æ–¹ä¾¿å¸ƒçº¿ â–²æ‰€æœ‰I0å£éƒ½å¯ä»¥ä½œä¸ºä¸­æ–­è¾“å…¥ å·¥ä½œæ¨¡å¼ï¼š æ¨æŒ½è¾“å‡ºï¼šå¯ä»¥è¾“å‡ºå¼ºé«˜ä½ç”µå¹³ ä¸Šæ‹‰è¾“å…¥: ä¸€ç«¯æ˜¯æ¥åœ°ä½ç”µå¹³,æ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹å¦ä¸€ç«¯éœ€è¦æ£€æµ‹åˆ°é«˜ç”µå¹³(æŒ‰é”®æ‰«æä¸­,ä¸‰ä¸ªå¼•è„šéœ€è¦è®¾ç½®ä¸ºIPU,æŒ‰ä¸‹æ—¶&lt;==&gt;è¾“å…¥å£æ£€æµ‹åˆ°ä½ç”µå¹³) ä¸‹æ‹‰è¾“å…¥ï¼š(æŒ‰ä¸‹æ—¶&lt;==&gt;è¾“å…¥å£æ£€æµ‹åˆ°ä½ç”µå¹³) GPIOé‡è¦å‡½æ•° 12345678910111213//1ä¸ªåˆå§‹åŒ–å‡½æ•°ï¼švoid GPIO_Init(GPIO_TypeDef* GPIOx,GPIO_InitTypeDef* GPIO_InitStruct)ï¼›//2ä¸ªè¯»å–è¾“å…¥ç”µå¹³å‡½æ•°ï¼šuint8t GPIO_ReadlinputDataBit(GPIO TypeDef* GPIOx,uint16_t GPIO_Pin)ï¼›uint16_t GPIO_ReadinputData(GPIO_TypeDef* GPIOx)ï¼›//2ä¸ªè¯»å–è¾“å‡ºç”µå¹³å‡½æ•°ï¼šuint8t GPIO_ReadOutputDataBit(GPiO_TypeDef* GPiOx,uint16_t GPIO_Pin)ï¼›uint16t GPIO_ReadOutputData(GPIO_TypeDef* GPIOx)ï¼›//4ä¸ªè®¾ç½®è¾“å‡ºç”µå¹³å‡½æ•°ï¼šå‰ä¸¤ä¸ªå¸¸ç”¨,åä¸¤ä¸ªä¸å¸¸ç”¨void GPIO_SetBits(GPIOTypeDef* GPIOx, uint16_t GPIOPin)ï¼›void GP1O_ResetBits(GPIOTypeDef GPIOx,uint16_t GPIOPin)ï¼›void GPIO_WriteBit(GPIOTypeDef* GPIOx,uint16_t GPIO_Pin,BitAction BitVal)ï¼›void GPIO_Write(GPIOTypeDef* GPIOx, uint16_t PortVal) å…·ä½“è¯´æ˜ 1234567891011121314151617181920212223void GPIO_Init(GPIO_TypeDef* GPIOx, GPIO_InitTypeDef* GPIO_InitStruct)/*GPIO_TypeDefä¸ºGPIOå¯„å­˜å™¨ç»„åˆçš„ç±»å‹typedef struct&#123; __IO uint32_t CRL; __IO uint32_t CRH; __IO uint32_t IDR; __IO uint32_t ODR; __IO uint32_t BSRR; __IO uint32_t BRR; __IO uint32_t LCKR;&#125; GPIO_TypeDef;GPIOxçš„é€‰æ‹©å¯ä»¥ä¸ºGPIOA-&gt;GPIOG*/ /*typedef struct&#123; uint16_t GPIO_Pin; GPIOSpeed_TypeDef GPIO_Speed; GPIOMode_TypeDef GPIO_Mode; &#125;GPIO_InitTypeDef;*/ åˆå§‹åŒ–ç¤ºä¾‹ 12345678910// å£°æ˜ç»“æ„ä½“å˜é‡GPIO_InitTypeDef GPIO_InitStructureï¼›//LEDO--&gt;PB.5ç«¯å£é…ç½®GPIO InitStructure.GPIO Pin =GPIO_Pin_5ï¼›//æ¨æŒ½è¾“å‡ºGPIO InitStructure.GPIO Mode=GPIO_Mode_Out_PPï¼›//IOå£é€Ÿåº¦ä¸º50MHzGPIO InitStructure.GPIO Speed=GPIO_Speed_50MHzï¼›//æ ¹æ®è®¾å®šå‚æ•°åˆå§‹åŒ–GPIOB.5GPIO_Init(GPIOB,&amp;GPIO_InitStructure); â–²åœ¨ä½¿ç”¨GPIOå‰,éœ€è¦ä½¿èƒ½IOå£æ—¶é’Ÿ,è°ƒç”¨å‡½æ•°RCC_APB2PeriphColckCmd(); 1234567891011121314151617181920212223242526void RCC_APB2PeriphClockCmd(uint32_t RCC_APB2Periph, FunctionalState NewState)/*RCC_APB2Periph å¯ä»¥ä¸ºRCC_APB2Periph_AFIO RCC_APB2Periph_GPIOA RCC_APB2Periph_GPIOB RCC_APB2Periph_GPIOC RCC_APB2Periph_GPIOD RCC_APB2Periph_GPIOE RCC_APB2Periph_GPIOF RCC_APB2Periph_GPIOG RCC_APB2Periph_ADC1 RCC_APB2Periph_ADC2 RCC_APB2Periph_TIM1 RCC_APB2Periph_SPI1 RCC_APB2Periph_TIM8 RCC_APB2Periph_USART1 RCC_APB2Periph_ADC3 RCC_APB2Periph_TIM15 RCC_APB2Periph_TIM16 RCC_APB2Periph_TIM17 RCC_APB2Periph_TIM9 RCC_APB2Periph_TIM10 RCC_APB2Periph_TIM11 NewState ä¸ºENABLE / DISABLE*/ æç¤ºï¼šä¸èƒ½é€šè¿‡IOå£ç›´æ¥é©±åŠ¨å¤§åŠŸç‡å™¨ä»¶ã€‚ â–³å¤ä½ä¹‹åï¼ŒIOå£é»˜è®¤ä¸ºæµ®ç©ºçŠ¶æ€ï¼Œå¦‚æœä¸æ¥ä¸‹æ‹‰ç”µé˜»ï¼Œé‚£ä¹ˆç”µå¹³ä¸ç¡®å®šä¸ºé«˜è¿˜æ˜¯ä½ç”µå¹³ã€‚(åˆ°æ˜¯å°ç”µæµçš„æ—¶å€™ï¼Œç”µæµä¼šç›´æ¥é€šè¿‡ä¸‹æ‹‰ç”µé˜»åˆ°åœ°ï¼Œä¸ä¼šç»è¿‡ä¸‰æç®¡ï¼›åªæœ‰ç”µæµè¶³å¤Ÿå¤§ï¼Œæ‰ä¼šç»è¿‡ä¸‰æç®¡) demo : è·‘é©¬ç¯å®éªŒ å½“å°†PE5è®¾ç½®ä¸ºä½ç”µå¹³æ—¶,é€šè¿‡ä¸Šæ‹‰ç”µé˜»è¿åˆ°VCCå,LEDå°±èƒ½ç‚¹äº®ã€‚PE5è¢«è®¾ç½®ä¸ºé«˜ç”µå¹³æ—¶ä¸ä¸Šæ‹‰é«˜ç”µå¹³ä¹‹é—´æ²¡æœ‰å‹å·®,æ­¤æ—¶LEDç†„ç­ã€‚ å®Œæ•´ä»£ç : led.cæ–‡ä»¶å†…å®¹ 12345678910111213141516171819202122#include \"led.h\"#include \"stm32f10x.h\" // åœ¨ä»»ä½•åœ°æ–¹å¼•ç”¨åˆ°å›ºä»¶åº“æ—¶éƒ½éœ€è¦å¯¼å…¥è¿™ä¸ªæ–‡ä»¶void LED_Init(void)&#123; GPIO_InitTypeDef GPIO_InitStruct; RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB|RCC_APB2Periph_GPIOE,ENABLE); GPIO_InitStruct.GPIO_Pin = GPIO_Pin_5; GPIO_InitStruct.GPIO_Speed = GPIO_Speed_50MHz; GPIO_InitStruct.GPIO_Mode = GPIO_Mode_Out_PP; GPIO_Init(GPIOB,&amp;GPIO_InitStruct); GPIO_InitStruct.GPIO_Pin = GPIO_Pin_5; GPIO_InitStruct.GPIO_Speed = GPIO_Speed_50MHz; GPIO_InitStruct.GPIO_Mode = GPIO_Mode_Out_PP; GPIO_Init(GPIOE,&amp;GPIO_InitStruct); // è®¾ç½®ä¸ºé«˜ç”µå¹³,ç†„ç­ GPIO_SetBits(GPIOB, GPIO_Pin_5);&#125; main.cæ–‡ä»¶å†…å®¹ 12345678910111213141516#include \"stm32f10x.h\"#include \"led.h\"#include \"delay.h\" int main(void)&#123; delay_init(); LED_Init(); while(1)&#123; GPIO_SetBits(GPIOB,GPIO_Pin_5); GPIO_SetBits(GPIOE,GPIO_Pin_5); delay_ms(500); GPIO_ResetBits(GPIOB,GPIO_Pin_5); GPIO_ResetBits(GPIOE,GPIO_Pin_5); delay_ms(500); &#125; &#125; æ“ä½œIOå£çš„ä¸‰ç§æ–¹å¼ï¼š ä½æ“ä½œï¼š#define BEEP PBout(8);åBEEP = 1 åº“å‡½æ•°ï¼šGPIO_SetBits(GPIOB, GPIO_Pin_8); å¯„å­˜å™¨ï¼š ä¸­æ–­ç®¡ç† å¯¹STM32ä¸­æ–­è¿›è¡Œåˆ†ç»„ï¼Œç»„0~4ã€‚åŒæ—¶ï¼Œå¯¹æ¯ä¸ªä¸­æ–­è®¾ç½®ä¸€ä¸ªæŠ¢å ä¼˜å…ˆçº§å’Œä¸€ä¸ªå“åº”ä¼˜å…ˆçº§å€¼ã€‚IP bitå†³å®šäº†å¯¹æ¯ä¸ªä¸­æ–­å…±æœ‰2^4(ä½) = 16çº§çš„ä¸­æ–­ä¼˜å…ˆçº§è®¾ç½® é«˜ä¼˜å…ˆçº§çš„æŠ¢å ä¼˜å…ˆçº§æ˜¯å¯ä»¥æ‰“æ–­æ­£åœ¨è¿›è¡Œçš„ä½æŠ¢å ä¼˜å…ˆçº§ä¸­æ–­çš„ã€‚ æŠ¢å ä¼˜å…ˆçº§ç›¸åŒçš„ä¸­æ–­ï¼Œé«˜å“åº”ä¼˜å…ˆçº§ä¸å¯ä»¥æ‰“æ–­ä½å“åº”ä¼˜å…ˆçº§çš„ä¸­æ–­ã€‚ æŠ¢å ä¼˜å…ˆçº§ç›¸åŒçš„ä¸­æ–­ï¼Œå½“ä¸¤ä¸ªä¸­æ–­åŒæ—¶å‘ç”Ÿçš„æƒ…å†µä¸‹ï¼Œå“ªä¸ªå“åº”ä¼˜å…ˆçº§é«˜ï¼Œå“ªä¸ªå…ˆæ‰§è¡Œã€‚ å¦‚æœä¸¤ä¸ªä¸­æ–­çš„æŠ¢å ä¼˜å…ˆçº§å’Œå“åº”ä¼˜å…ˆçº§éƒ½æ˜¯ä¸€æ ·çš„è¯ï¼Œåˆ™çœ‹å“ªä¸ªä¸­æ–­å…ˆå‘ç”Ÿå°±å…ˆæ‰§è¡Œï¼› æ€»ç»“ï¼šä¸­æ–­åµŒå¥—æ‰§è¡Œçœ‹æŠ¢å ä¼˜å…ˆçº§ï¼›å ä¼˜å…ˆçº§ç›¸åŒæ—¶,å“åº”ä¼˜å…ˆçº§é«˜çš„å…ˆå“åº”ï¼›ä¸¤è€…éƒ½ä¸€æ ·çš„è¯ï¼Œæ‰§è¡Œé¡ºåºçœ‹å‘ç”Ÿçš„æ—¶é—´ â–³.ä¼˜å…ˆçº§0æœ€é«˜ï¼Œ4æœ€ä½ã€‚ â–².ç³»ç»Ÿä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåªè®¾ç½®ä¸€æ¬¡ä¸­æ–­ä¼˜å…ˆï¼Œä¸€èˆ¬ä¸ä¼šå†æ”¹å˜åˆ†ç»„ã€‚ 1234567891011121314// ä¸­æ–­ä¼˜å…ˆçº§åˆ†ç»„å‡½æ•°void NVIC_PriorityGroupConfig(uint32_t NVIC_PriorityGroup)// demo: NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2) // å¯¹æŸä¸ªä¸­æ–­è®¾ç½®ä¼˜å…ˆçº§void NVIC_Init(NVIC_InitTypeDef* NVIC_InitStruct)/*typedef struct&#123; uint8_t NVIC_IRQChannel; uint8_t NVIC_IRQChannelPreemptionPriority; uint8_t NVIC_IRQChannelSubPriority; FunctionalState NVIC_IRQChannelCmd; &#125; NVIC_InitTypeDef;*/ ä¸­æ–­ä¼˜å…ˆçº§æ§åˆ¶çš„å¯„å­˜å™¨ç»„ï¼šIP[240]å¯¹æ¯ä¸ªä¸­æ–­è¿›è¡Œç®¡ç†,STM32F10xç³»åˆ—ä¸€å…±æœ‰60ä¸ªå¯å±è”½ä¸­æ–­ã€‚å…¨ç§°æ˜¯ï¼šInterrupt Priority Registers ä¸­æ–­ä¼˜å…ˆçº§è®¾ç½®æ­¥éª¤ 123456789101112131415//â‘ ç»Ÿè¿è¡Œåå…ˆè®¾ç½®ä¸­æ–­ä¼˜å…ˆçº§åˆ†ç»„ã€‚è°ƒç”¨å‡½æ•°ï¼š//æ•´ä¸ªç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåªè®¾ç½®ä¸€æ¬¡ä¸­æ–­åˆ†ç»„ã€‚void NVIC_Priority_GroupConfig(uint32_t NVIC_PriorityGroup)ï¼›//â‘¡é’ˆå¯¹æ¯ä¸ªä¸­æ–­ï¼Œè®¾ç½®å¯¹åº”çš„æŠ¢å ä¼˜å…ˆçº§å’Œå“åº”ä¼˜å…ˆçº§ï¼švoid NVIC Init(NVIC_InitTypeDef* NVIC_Initstructyï¼›/* demo:NVIC_InitStructure.NVIC_IRQChannel=EXTI3_IRQn://ä½¿èƒ½æŒ‰é”®KEY1æ‰€åœ¨çš„å¤–éƒ¨ä¸­æ–­é€šé“NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=0x02ï¼š//æŠ¢å ä¼˜å…ˆçº§2NVIC_InitStructure.NVIC_IRQChannelSubPriority =0x01ï¼šâˆ¥å­—ä¼˜å…ˆçº§1NVIC_InitStructure.NVIC_IRQChannelCmd =ENABLE://ä½¿èƒ½å¤–éƒ¨ä¸­æ–­é€šé“NWIC_Init(&amp;WIC_Init Structure)ï¼š/æ ¹æ®NIC_InitStructä¸­æŒ‡å®šçš„å‚æ•°åˆå§‹åŒ–å¤–è®¾NVICå¯„å­˜å™¨*/ //â‘¢å¦‚æœéœ€è¦æŒ‚èµ·/è§£æŒ‚ï¼ŒæŸ¥çœ‹ä¸­æ–­å½“å‰æ¿€æ´»çŠ¶æ€ï¼Œåˆ†åˆ«è°ƒç”¨ç›¸å…³å‡½æ•°å³å¯ã€‚ ä¸²å£é€šä¿¡ å¼‚æ­¥: è·Ÿç³»ç»Ÿæ—¶é’Ÿæ— å…³ åŒæ­¥: è·Ÿç³»ç»Ÿæ—¶é’Ÿæœ‰å…³ æ³¢ç‰¹ç‡è®¡ç®—æ–¹æ³•:Tx/RxBaudrate=fPCLKx(16âˆ—USARTDIV)\\mathrm{Tx} / \\mathrm{Rx} \\quad Baud rate=\\frac{f_{P C L K x}}{(16 * U S A R T D I V)}Tx/RxBaudrate=(16âˆ—USARTDIV)fPCLKxâ€‹â€‹ é…ç½®çš„ä¸€èˆ¬æ­¥éª¤: ä¸²å£ä½œä¸ºå¤–è®¾ï¼Œéœ€è¦ä½¿èƒ½:RCC_APB2PeriphClockCmdO;ã€ä»¥åŠä½¿èƒ½GPIOçš„æ—¶é’Ÿ GPIOç«¯å£æ¨¡å¼è®¾ç½®GPIOInit0;ï¼Œæ¨¡å¼è®¾ç½®ä¸ºGPIO_Mode_AFPPå¤ç”¨æ¨æŒ½(PA.9/10å¤ç”¨ä¸ºä¸²å£1) ä¸²å£å‚æ•°åˆå§‹åŒ– ä½¿èƒ½ä¸²å£USART Cma); ä¸²å£æ•°æ®æ”¶å‘ â–² UARTä¸²å£é€šä¿¡åªéœ€è¿æ¥TXï¼ŒRXï¼ŒGND ï¼Œ ä¸€èˆ¬ä¸éœ€è¦è¿æ¥VCC Aï¼šTXã€RXæ˜¯æ­£è´Ÿå‹çš„ï¼Œæ‰€ä»¥æœ‰ä¸ªåœ°åšå‚è€ƒå°±è¡Œäº† Aï¼š é€šä¿¡ä¸¤ç«¯ä¸€èˆ¬éƒ½æœ‰å„è‡ªçš„ä¾›ç”µç”µå‹ï¼Œæ‰€ä»¥ä¸éœ€è¦VCCï¼Œåªæœ‰ä¸€ç«¯æ²¡æœ‰ç”µæºçš„æƒ…å†µä¸‹æ‰ä¼šç”¨VCCå‘å¯¹æ–¹è¾“é€ç”µæº Aï¼šå°±åƒåƒè€³æœºåªè¦è”åœ°ã€éŸ³é¢‘å·¦ã€éŸ³é¢‘å³ï¼Œè€Œä¸è”vccä¸€ä¸ªé“ç† æ­£ç‚¹åŸå­æä¾›çš„USARTåº“ï¼š ä»¥å›è½¦æ¢è¡Œç»“æŸçš„åè®® usart.h 1234567#define USART_REC_LEN 200 //å®šä¹‰æœ€å¤§æ¥æ”¶å­—èŠ‚æ•° 200#define EN_USART1_RX 1 //ä½¿èƒ½ï¼ˆ1ï¼‰/ç¦æ­¢ï¼ˆ0ï¼‰ä¸²å£1æ¥æ”¶ extern u8 USART_RX_BUF[USART_REC_LEN]; //æ¥æ”¶ç¼“å†²,æœ€å¤§USART_REC_LENä¸ªå­—èŠ‚.æœ«å­—èŠ‚ä¸ºæ¢è¡Œç¬¦ extern u16 USART_RX_STA; //æ¥æ”¶çŠ¶æ€æ ‡è®° //å¦‚æœæƒ³ä¸²å£ä¸­æ–­æ¥æ”¶ï¼Œè¯·ä¸è¦æ³¨é‡Šä»¥ä¸‹å®å®šä¹‰void uart_init(u32 bound); æ•°æ®å…¨ä¿å­˜åœ¨USART_RX_BUFä¸­ã€‚æ ¹æ®STAçš„æœ‰æ•ˆæ•°æ®ä¸ªæ•°æ¯”å¦‚50ä¸ªï¼Œå°†USART_RX_BUFä¸­å‰50ä¸ªæ•°æ®æ‹¿å‡ºå¤„ç†ã€‚å¤„ç†å®Œæ‰€æœ‰æ ‡å¿—ä½å°†è¢«æ¸…é›¶ â–²ç¨‹åºè¦æ±‚ï¼Œå‘é€çš„å­—ç¬¦æ˜¯ä»¥å›è½¦æ¢è¡Œç»“æŸ(Ox0D,0x0A)ã€‚ â–³ä¸²å£è°ƒè¯•åŠ©æ‰‹é‡Œå‹¾é€‰&quot;å‘é€æ–°è¡Œ&quot;é€‰é¡¹ usart.c ç¨‹åºç†è§£ 12345678910111213141516171819202122232425262728293031323334353637void USART1_IRQHandler(void) //ä¸²å£1ä¸­æ–­æœåŠ¡ç¨‹åº &#123; u8 Res;#if SYSTEM_SUPPORT_OS //å¦‚æœSYSTEM_SUPPORT_OSä¸ºçœŸï¼Œåˆ™éœ€è¦æ”¯æŒOS. OSIntEnter(); #endif if(USART_GetITStatus(USART1, USART_IT_RXNE) != RESET) //æ¥æ”¶ä¸­æ–­(æ¥æ”¶åˆ°çš„æ•°æ®å¿…é¡»æ˜¯0x0d 0x0aç»“å°¾) &#123; Res =USART_ReceiveData(USART1); //è¯»å–æ¥æ”¶åˆ°çš„æ•°æ®(å•ä¸ªå­—ç¬¦) if((USART_RX_STA&amp;0x8000)==0)//æ²¡æ”¶åˆ°\\n,å³æ¥æ”¶æœªå®Œæˆ &#123; if(USART_RX_STA&amp;0x4000)//æ¥æ”¶åˆ°äº†0x0d(\\r) &#123; if(Res!=0x0a)USART_RX_STA=0;//å¦‚æœä¸‹ä¸€ä¸ªä¸æ˜¯\\n,é‚£ä¹ˆæ¥æ”¶é”™è¯¯,é‡æ–°å¼€å§‹ else USART_RX_STA|=0x8000; //å¦‚æœæ¥å—åˆ°\\n,åˆ™æ¥æ”¶å®Œæˆ,å°†USART_RX_STA bit15ç½®1 &#125; else //è¿˜æ²¡æ”¶åˆ°0X0D,å³å¤„ç†çœŸæ­£æ•°æ® &#123; // å¦‚æœå½“å‰æ¥æ”¶åˆ°\\r,é‚£ä¹ˆå°†Bit14ç½®1 if(Res==0x0d)USART_RX_STA|=0x4000; else &#123; // å°†å½“å‰æ”¶åˆ°çš„å­—ç¬¦Reså­˜åˆ°æ•°ç»„USART_RX_BUFä¿å­˜ USART_RX_BUF[USART_RX_STA&amp;0X3FFF]=Res ; // ç´¢å¼•+1 USART_RX_STA++; // å¦‚æœæ•°æ®è¶…é¢,é‚£ä¹ˆåˆ¤æ–­ä¸ºæ¥æ”¶é”™è¯¯ if(USART_RX_STA&gt;(USART_REC_LEN-1))USART_RX_STA=0;//æ¥æ”¶æ•°æ®é”™è¯¯,é‡æ–°å¼€å§‹æ¥æ”¶ &#125; &#125; &#125; &#125; #if SYSTEM_SUPPORT_OS //å¦‚æœSYSTEM_SUPPORT_OSä¸ºçœŸï¼Œåˆ™éœ€è¦æ”¯æŒOS. OSIntExit(); #endif&#125; Res =USART_ReceiveData(USART1);è·å¾—çš„æ˜¯å½“å‰æ¥æ”¶çš„å­—ç¬¦ï¼Œå¦‚æœä½¿ç”¨ä¸­æ–­ï¼Œé‚£ä¹ˆè°ƒç”¨USART_SendData(USART1, Res)å°±èƒ½æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ï¼Œå‘é€ä¸€ä¸ªå­—ç¬¦ã€‚ USART_RX_BUFçš„ä½œç”¨æ˜¯ï¼Œä¿å­˜ä¸€æ¬¡å­—ç¬¦ä¸²å‘é€è¿‡æ¥çš„æ‰€æœ‰æ•°æ® USART_RX_STAæ˜¯ä¸ªå¯„å­˜å™¨ï¼Œé€šè¿‡Bit14ï¼ŒBit15æ¥åˆ¤æ–­æ¥æ”¶æ˜¯å¦æœ‰æ•ˆ main.c 12345678910111213141516171819202122232425262728293031int main(void)&#123; u16 t; u16 len; u16 times=0; delay_init(); //å»¶æ—¶å‡½æ•°åˆå§‹åŒ– NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2); //è®¾ç½®NVICä¸­æ–­åˆ†ç»„2:2ä½æŠ¢å ä¼˜å…ˆçº§ï¼Œ2ä½å“åº”ä¼˜å…ˆçº§ uart_init(115200); //ä¸²å£åˆå§‹åŒ–ä¸º115200 LED_Init(); //LEDç«¯å£åˆå§‹åŒ– KEY_Init(); //åˆå§‹åŒ–ä¸æŒ‰é”®è¿æ¥çš„ç¡¬ä»¶æ¥å£ while(1)&#123; if(USART_RX_STA&amp;0x8000)&#123; len=USART_RX_STA&amp;0x3fff;//å¾—åˆ°æ­¤æ¬¡æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦ printf(\"\\r\\næ‚¨å‘é€çš„æ¶ˆæ¯ä¸º:\\r\\n\\r\\n\"); for(t=0;t&lt;len;t++)&#123; USART_SendData(USART1, USART_RX_BUF[t]);//å‘ä¸²å£1å‘é€æ•°æ® while(USART_GetFlagStatus(USART1,USART_FLAG_TC)!=SET);//ç­‰å¾…å‘é€ç»“æŸ &#125; printf(\"\\r\\n\\r\\n\");//æ’å…¥æ¢è¡Œ USART_RX_STA=0; &#125;else&#123; times++; if(times%5000==0)&#123; printf(\"\\r\\næˆ˜èˆ°STM32å¼€å‘æ¿ ä¸²å£å®éªŒ\\r\\n\"); printf(\"æ­£ç‚¹åŸå­@ALIENTEK\\r\\n\\r\\n\"); &#125; if(times%200==0)printf(\"è¯·è¾“å…¥æ•°æ®,ä»¥å›è½¦é”®ç»“æŸ\\n\"); if(times%30==0)LED0=!LED0;//é—ªçƒLED,æç¤ºç³»ç»Ÿæ­£åœ¨è¿è¡Œ. delay_ms(10); &#125; &#125; &#125; â–²printfå¯ä»¥å°†å‘é€åˆ°ä¸²å£ï¼Œé»˜è®¤æ˜¯USART1ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹ï¼Œåœ¨usart.cçš„fputcå‡½æ•°ä¸­,å°†USART1ä¿®æ”¹å³å¯ å¤–éƒ¨ä¸­æ–­ æ¯ä¸ªIOå£éƒ½å¯ä»¥ä½œä¸ºå¤–éƒ¨ä¸­æ–­è¾“å…¥ IOä¸ä¸­æ–­çº¿çš„æ˜ å°„,16* 7 = 112, ä¸€å…±æœ‰16ä¸ªä¸­æ–­çº¿ Q:ä»€ä¹ˆæ˜¯ä¸­æ–­çº¿,èƒ½å¹²ä»€ä¹ˆ? A:ä¸­æ–­çº¿èƒ½å‘å‡ºä¸­æ–­è¯·æ±‚ â–³.åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªå¼•è„šèƒ½æ˜ å°„åˆ°æŸæ ¹ä¸­æ–­çº¿ åŸç†: GPIOX.0æ˜ å°„åˆ°EXT10 GPIOX.1æ˜ å°„åˆ°EXT11 GPIOX.15æ˜ å°„åˆ°EXTI15 e.g.PA.0~PG.0å¯ä»¥æ˜ å°„åˆ°EXIT0 I0å£å¤–éƒ¨ä¸­æ–­åœ¨ä¸­æ–­å‘é‡è¡¨ä¸­åªåˆ†é…äº†7ä¸ªä¸­æ–­å‘é‡ï¼Œä¹Ÿå°±æ˜¯åªèƒ½ä½¿ç”¨7ä¸ªä¸­æ–­æœåŠ¡å‡½æ•° å¸¸ç”¨åº“å‡½æ•° 123456789void GPIO_EXTILineConig(uint8_t GPIO,uint8_t PortSource,uint8_t GPIO_PinSource)//è®¾ç½®IOå£ä¸ä¸­æ–­çº¿çš„æ˜ å°„å…³ç³»ï¼šexp:GPIO_EXTILineContig(GPIO_PortSourceGPIOE, GPIO_PinSource2)void EXTIInit(EXTI_InitTypeDef* EXTI_InitStruct);//åˆå§‹åŒ–ä¸­æ–­çº¿ï¼šè§¦å‘æ–¹å¼ç­‰ITStatus EXTI_GetlTStatus(uint32_t EXTI_hLine);//åˆ¤æ–­ä¸­æ–­çº¿ä¸­æ–­çŠ¶æ€ï¼Œæ˜¯å¦å‘ç”Ÿvoid EXTI_ClearlTPendingBit(uint32_t EXTI_Line)//æ¸…é™¤ä¸­æ–­çº¿ä¸Šçš„ä¸­æ–­æ ‡å¿—ä½ 12345EXTI_InitStructure.EXTI_Line=EXTI_Line2;// æŒ‡å®šè¦é…ç½®çš„ä¸­æ–­çº¿EXTI_InitStructure.EXTI_Mode =EXTI_Mode_Interrupt;// æ¨¡å¼:äº‹ä»¶orä¸­æ–­EXTI_InitStructure.EXTI_Trigger =EXTI_Trigger_Faling;//ä¸Šå‡æ²¿ã€ä¸‹é™æ²¿ã€åŒè§¦å‘æ²¿EXTI_InitStructure.EXTI_LineCmd =ENABLE;// ä½¿èƒ½ã€å¤±èƒ½EXTI_Init(&amp; EXTI_InitStructure); é…ç½®çš„ä¸€èˆ¬æ­¥éª¤ demoï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384void EXTIX_Init(void)&#123; // å£°æ˜åˆå§‹åŒ–ç»“æ„ä½“å˜é‡ EXTI_InitTypeDef EXTI_InitStructure; NVIC_InitTypeDef NVIC_InitStructure; KEY_Init(); // æŒ‰é”®ç«¯å£åˆå§‹åŒ– RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO,ENABLE); //ä½¿èƒ½å¤ç”¨åŠŸèƒ½æ—¶é’Ÿ //GPIOE.2 ä¸­æ–­çº¿ä»¥åŠä¸­æ–­åˆå§‹åŒ–é…ç½® ä¸‹é™æ²¿è§¦å‘ GPIO_EXTILineConfig(GPIO_PortSourceGPIOE,GPIO_PinSource2); EXTI_InitStructure.EXTI_Line=EXTI_Line2; //KEY2 EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt; EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling; EXTI_InitStructure.EXTI_LineCmd = ENABLE; EXTI_Init(&amp;EXTI_InitStructure); //æ ¹æ®EXTI_InitStructä¸­æŒ‡å®šçš„å‚æ•°åˆå§‹åŒ–å¤–è®¾EXTIå¯„å­˜å™¨ // â–²ç”±äºå‚æ•°ä¸€è‡´ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿®æ”¹EXTI_InitStructureçš„åŠŸèƒ½å‚æ•° //GPIOE.3 ä¸­æ–­çº¿ä»¥åŠä¸­æ–­åˆå§‹åŒ–é…ç½® ä¸‹é™æ²¿è§¦å‘ //KEY1 GPIO_EXTILineConfig(GPIO_PortSourceGPIOE,GPIO_PinSource3); EXTI_InitStructure.EXTI_Line=EXTI_Line3; EXTI_Init(&amp;EXTI_InitStructure); //æ ¹æ®EXTI_InitStructä¸­æŒ‡å®šçš„å‚æ•°åˆå§‹åŒ–å¤–è®¾EXTIå¯„å­˜å™¨ //GPIOA.0 ä¸­æ–­çº¿ä»¥åŠä¸­æ–­åˆå§‹åŒ–é…ç½® ä¸Šå‡æ²¿è§¦å‘ PA0 WK_UP GPIO_EXTILineConfig(GPIO_PortSourceGPIOA,GPIO_PinSource0); EXTI_InitStructure.EXTI_Line=EXTI_Line0; EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising; EXTI_Init(&amp;EXTI_InitStructure); //æ ¹æ®EXTI_InitStructä¸­æŒ‡å®šçš„å‚æ•°åˆå§‹åŒ–å¤–è®¾EXTIå¯„å­˜å™¨ NVIC_InitStructure.NVIC_IRQChannel = EXTI0_IRQn; //ä½¿èƒ½æŒ‰é”®WK_UPæ‰€åœ¨çš„å¤–éƒ¨ä¸­æ–­é€šé“ NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02; //æŠ¢å ä¼˜å…ˆçº§2ï¼Œ NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x03; //å­ä¼˜å…ˆçº§3 NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE; //ä½¿èƒ½å¤–éƒ¨ä¸­æ–­é€šé“ NVIC_Init(&amp;NVIC_InitStructure); NVIC_InitStructure.NVIC_IRQChannel = EXTI2_IRQn; //ä½¿èƒ½æŒ‰é”®KEY2æ‰€åœ¨çš„å¤–éƒ¨ä¸­æ–­é€šé“ NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02; //æŠ¢å ä¼˜å…ˆçº§2ï¼Œ NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x02; //å­ä¼˜å…ˆçº§2 NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE; //ä½¿èƒ½å¤–éƒ¨ä¸­æ–­é€šé“ NVIC_Init(&amp;NVIC_InitStructure); NVIC_InitStructure.NVIC_IRQChannel = EXTI3_IRQn; //ä½¿èƒ½æŒ‰é”®KEY1æ‰€åœ¨çš„å¤–éƒ¨ä¸­æ–­é€šé“ NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02; //æŠ¢å ä¼˜å…ˆçº§2 NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x01; //å­ä¼˜å…ˆçº§1 NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE; //ä½¿èƒ½å¤–éƒ¨ä¸­æ–­é€šé“ NVIC_Init(&amp;NVIC_InitStructure); //æ ¹æ®NVIC_InitStructä¸­æŒ‡å®šçš„å‚æ•°åˆå§‹åŒ–å¤–è®¾NVICå¯„å­˜å™¨&#125;//å¤–éƒ¨ä¸­æ–­2æœåŠ¡ç¨‹åºvoid EXTI2_IRQHandler(void)&#123; delay_ms(10);//æ¶ˆæŠ– if(KEY2==0) //æŒ‰é”®KEY2 &#123; LED0=!LED0; &#125; EXTI_ClearITPendingBit(EXTI_Line2); //æ¸…é™¤LINE2ä¸Šçš„ä¸­æ–­æ ‡å¿—ä½ &#125;//å¤–éƒ¨ä¸­æ–­3æœåŠ¡ç¨‹åºvoid EXTI3_IRQHandler(void)&#123; delay_ms(10);//æ¶ˆæŠ– if(KEY1==0) //æŒ‰é”®KEY1 &#123; LED1=!LED1; &#125; EXTI_ClearITPendingBit(EXTI_Line3); //æ¸…é™¤LINE3ä¸Šçš„ä¸­æ–­æ ‡å¿—ä½ &#125;void EXTI4_IRQHandler(void)&#123; delay_ms(10);//æ¶ˆæŠ– if(KEY0==0) //æŒ‰é”®KEY0 &#123; LED0=!LED0; LED1=!LED1; &#125; EXTI_ClearITPendingBit(EXTI_Line4); //æ¸…é™¤LINE4ä¸Šçš„ä¸­æ–­æ ‡å¿—ä½ &#125; main.c 1234567891011121314int main(void) &#123; delay_init(); //å»¶æ—¶å‡½æ•°åˆå§‹åŒ– NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2); //è®¾ç½®NVICä¸­æ–­åˆ†ç»„2:2ä½æŠ¢å ä¼˜å…ˆçº§ï¼Œ2ä½å“åº”ä¼˜å…ˆçº§ uart_init(115200); //ä¸²å£åˆå§‹åŒ–ä¸º115200 LED_Init(); //åˆå§‹åŒ–ä¸LEDè¿æ¥çš„ç¡¬ä»¶æ¥å£ BEEP_Init(); //åˆå§‹åŒ–èœ‚é¸£å™¨ç«¯å£ KEY_Init(); //åˆå§‹åŒ–ä¸æŒ‰é”®è¿æ¥çš„ç¡¬ä»¶æ¥å£ EXTIX_Init(); //å¤–éƒ¨ä¸­æ–­åˆå§‹åŒ– LED0=0; //ç‚¹äº®LED0 while(1)&#123; printf(\"OK\\r\\n\"); delay_ms(1000); &#125; &#125; é™„å½•: u8ã€u16ã€Size_tæ˜¯ä»€ä¹ˆç±»å‹? u8ã€u16 123456789/*!&lt; Signed integer types */typedef signed char int8_t; //æœ‰ç¬¦å·8ä½æ•°typedef signed short int16_t; //æœ‰ç¬¦å·16ä½æ•°typedef signed long int32_t; //æœ‰ç¬¦å·32ä½æ•° /*!&lt; Unsigned integer types */typedef unsigned char uint8_t; //æ— ç¬¦å·8ä½æ•°typedef unsigned short uint16_t; //æ— ç¬¦å·16ä½æ•°typedef unsigned long uint32_t; //æ— ç¬¦å·32ä½æ•° size_t size_tæ˜¯C++æ ‡å‡†åœ¨stddef.hä¸­å®šä¹‰çš„ã€‚è¿™ä¸ªç±»å‹è¶³ä»¥ç”¨æ¥è¡¨ç¤ºå¯¹è±¡çš„å¤§å°ã€‚size_tçš„çœŸå®ç±»å‹ä¸æ“ä½œç³»ç»Ÿæœ‰å…³ã€‚size_tåœ¨32ä½æ¶æ„ä¸Šæ˜¯4å­—èŠ‚ï¼Œåœ¨64ä½æ¶æ„ä¸Šæ˜¯8å­—èŠ‚ï¼Œåœ¨ä¸åŒæ¶æ„ä¸Šè¿›è¡Œç¼–è¯‘æ—¶éœ€è¦æ³¨æ„è¿™ä¸ªé—®é¢˜ã€‚è€Œintåœ¨ä¸åŒæ¶æ„ä¸‹éƒ½æ˜¯4å­—èŠ‚ï¼Œä¸size_tä¸åŒï¼›ä¸”intä¸ºå¸¦ç¬¦å·æ•°ï¼Œsize_tä¸ºæ— ç¬¦å·æ•°ã€‚ ç”µå¹³ç›¸å…³çŸ¥è¯† å•ç‰‡æœºæ˜¯ä¸€ç§æ•°å­—é›†æˆèŠ¯ç‰‡ï¼Œæ•°å­—ç”µè·¯ä¸­åªæœ‰ä¸¤ç§ç”µå¹³é«˜ç”µå¹³å’Œä½ç”µå¹³ã€‚ä¸ºäº†è®©å¤§å®¶åœ¨åˆšèµ·æ­¥çš„æ—¶å€™å¯¹ç”µå¹³ç‰¹æ€§æœ‰ä¸€ä¸ªæ¸…æ™°çš„è®¤è¯†ï¼Œæˆ‘ä»¬æš‚ä¸”å®šä¹‰å•ç‰‡æœºè¾“å‡ºä¸è¾“å…¥ä¸ºTTLç”µå¹³ï¼Œå…¶ä¸­é«˜ç”µå¹³ä¸º+5V,ä½ç”µå¹³ä¸º0Vã€‚è®¡ç®—æœºçš„ä¸²å£ä¸ºRS-232Cç”µå¹³ã€‚è¿™é‡Œè¦å¼ºè°ƒçš„æ˜¯ï¼ŒRS-232Cç”µå¹³ä¸ºè´Ÿé€»è¾‘ç”µå¹³ã€‚å› æ­¤å½“è®¡ç®—æœºä¸å•ç‰‡æœºä¹‹é—´è¦é€šä¿¡æ—¶ï¼Œéœ€è¦åŠ ç”µå¹³è½¬æ¢èŠ¯ç‰‡ï¼Œæˆ‘ä»¬åœ¨TX-1Cå•ç‰‡æœºå®éªŒæ¿ä¸Šæ‰€åŠ çš„ç”µå¹³è½¬æ¢èŠ¯ç‰‡æ˜¯MAX232 ã€‚ å¸¸ç”¨çš„é€»è¾‘ç”µå¹³æœ‰TTLã€CMOSã€LVTTLã€ECLã€PECLã€ GTL ã€RS-232. RS-422. RS-485ã€LVDSç­‰.å…¶ä¸­TTLå’ŒCMOSçš„é€»è¾‘ç”µå¹³æŒ‰å…¸å‹ç”µå‹å¯åˆ†ä¸ºå››ç±»ï¼š5Vç³»åˆ—(5V TLå’Œ5V CMOS)ã€3.3V ç³»åˆ—ï¼Œ2.5V ç³»åˆ—å’Œ1.8Vç³»åˆ—ï¼Œ Tç”µå¹³ä¿¡å·ç”¨çš„æœ€å¤šï¼Œè¿™æ˜¯å› ä¸ºï¼Œæ•°æ®è¡¨ç¤ºé€šå¸¸é‡‡ç”¨äºŒè¿›åˆ¶ï¼Œ+5Vç­‰ä»·äºé€»è¾‘1ï¼Œ0Vç­‰ä»·äºé€»è¾‘0ï¼‰.è¿™è¢«ç§°ä¸ºTTLï¼ˆæ™¶ä½“ç®¡ä¸€æ™¶ä½“ç®¡é€»è¾‘ç”µå¹³ï¼‰ä¿¡å·ç³»ç»Ÿï¼Œè¿™æ˜¯è®¡ç®—æœºå¤„ç†å™¨æ§åˆ¶çš„è®¾å¤‡å†…éƒ¨å„éƒ¨åˆ†ä¹‹é—´é€šä¿¡çš„æ ‡å‡†æŠ€æœ¯ã€‚TTLç”µå¹³ä¿¡å·å¯¹äºè®¡ç®—æœºå¤„ç†å™¨æ§åˆ¶çš„è®¾å¤‡å†…éƒ¨çš„æ•°æ®ä¼ è¾“æ˜¯å¾ˆç†æƒ³çš„ï¼Œé¦–å…ˆè®¡ç®—æœºå¤„ç†å™¨æ§åˆ¶çš„è®¾å¤‡å†…éƒ¨çš„æ•°æ®ä¼ è¾“å¯¹äºç”µæºçš„è¦æ±‚ä¸é«˜ï¼Œçƒ­æŸè€—ä¹Ÿè¾ƒä½ï¼Œå¦å¤–TTLç”µå¹³ä¿¡å·ç›´æ¥ä¸é›†æˆç”µè·¯è¿æ¥è€Œä¸éœ€è¦ä»·æ ¼æ˜‚è´µçš„çº¿è·¯é©±åŠ¨å™¨ åŠŸèƒ½å‡½æ•° åˆ¤æ–­u8æ•°ç»„å¼€å¤´ 123456789101112131415161718#include &lt;string.h&gt;/////////////////////////// åˆ¤æ–­u8 arrå¼€å¤´æ˜¯å¦ä¸ºstr //////////////////////////int u8cmp(u8 *arr, const char *str)&#123; int i; int len = strlen(str); for ( i = 0; i &lt; len; i++)&#123; if( arr[i] != str[i])&#123; // arr shorter than str if (arr[i] == '\\0') return -1; // not start with return 0; &#125; &#125; // arr start with str return 1;&#125;","categories":[],"tags":[{"name":"åµŒå…¥å¼","slug":"åµŒå…¥å¼","permalink":"https://nymrli.top/tags/åµŒå…¥å¼/"}]},{"title":"è’™ç‰¹å¡æ´›æ ‘æœç´¢MCTS","slug":"è’™ç‰¹å¡æ´›æ ‘æœç´¢MCTS","date":"2019-10-07T09:18:02.000Z","updated":"2020-12-06T01:59:09.017Z","comments":true,"path":"2019/10/07/è’™ç‰¹å¡æ´›æ ‘æœç´¢MCTS/","link":"","permalink":"https://nymrli.top/2019/10/07/è’™ç‰¹å¡æ´›æ ‘æœç´¢MCTS/","excerpt":"","text":".mjpage .MJX-monospace { font-family: monospace } .mjpage .MJX-sans-serif { font-family: sans-serif } .mjpage { display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0 } .mjpage * { transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none } .mjx-svg-href { fill: blue; stroke: blue } .MathJax_SVG_LineBox { display: table!important } .MathJax_SVG_LineBox span { display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0 } .mjpage__block { text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100% } è’™ç‰¹å¡æ´›æ ‘æœç´¢MCTS è·Ÿå›´æ£‹çš„å…³è” AlphaGo Zero è’™ç‰¹å¡æ´›æ ‘æœç´¢â€”â€”å†…å«ç”¨äºæ ‘éå†çš„ PUCT å‡½æ•°çš„æŸäº›å˜ä½“ æ®‹å·®å·ç§¯ç¥ç»ç½‘ç»œâ€”â€”å…¶ä¸­çš„ç­–ç•¥å’Œä»·å€¼ç½‘ç»œè¢«ç”¨äºè¯„ä¼°æ£‹å±€ï¼Œä»¥è¿›è¡Œä¸‹ä¸€æ­¥è½å­ä½ç½®çš„å…ˆéªŒæ¦‚ç‡ä¼°ç®—ã€‚ å¼ºåŒ–å­¦ä¹ â€”â€”é€šè¿‡è‡ªæˆ‘å¯¹å¼ˆè¿›è¡Œç¥ç»ç½‘ç»œè®­ç»ƒ AlphaGo Zeroè·ŸAlphaGoçš„æœ€å¤§åŒºåˆ«æ˜¯æŠ›å¼ƒäººç±»æ£‹è°±çš„ï¼Œå®Œå…¨é€šè¿‡è‡ªæˆ‘å¯¹å¼ˆæ¥å­¦ä¼šä¸‹æ£‹çš„ï¼Œå¹¶ä¸”ä»…ç”¨40å°æ—¶å°±åˆ°è¾¾äº†AlphaGoçš„æ£‹åŠ›ã€‚ è¿‡ç¨‹æ˜¯è¿™æ ·ï¼Œé¦–å…ˆç”Ÿæˆæ£‹è°±ï¼Œç„¶åå°†æ£‹è°±ä½œä¸ºè¾“å…¥è®­ç»ƒç¥ç»ç½‘ç»œï¼Œè®­ç»ƒå¥½çš„ç¥ç»ç½‘ç»œç”¨æ¥é¢„æµ‹è½å­å’Œèƒœç‡ã€‚å¦‚ä¸‹å›¾ï¼š åœ¨AlphaGo Zeroä¸­è’™ç‰¹å¡æ´›æ ‘æœç´¢ä¸»è¦æ˜¯ç”¨æ¥ç”Ÿæˆæ£‹è°±çš„ è’™ç‰¹å¡æ´›æ ‘æœç´¢ Q:MCTSå¹²äº†ä»€ä¹ˆ? A:ç»™å‡ºä¸€ä¸ªã€Œæ¸¸æˆçŠ¶æ€ã€å¹¶é€‰æ‹©ã€Œèƒœç‡æœ€é«˜çš„ä¸‹ä¸€æ­¥ã€ é€‚ç”¨äºæœ‰é™ä¸¤äººé›¶å’Œå›åˆåˆ¶æ¸¸æˆ MCTSç®—æ³•æ˜¯ä¸€ç§å†³ç­–ç®—æ³•ï¼Œæ¯æ¬¡æ¨¡æ‹Ÿï¼ˆsimulationï¼‰åˆ†ä¸º4æ­¥ï¼š Tree traversal(æ ‘çš„éå†): UCB1(Si)=Viâ€¾+clogâ¡Nni,c=2UCB1(S_{i})=\\overline{V_{i}}+c \\sqrt{\\frac{\\log N}{n_{i}}}, c=2UCB1(Siâ€‹)=Viâ€‹â€‹+cniâ€‹logNâ€‹â€‹,c=2 å…¶ä¸­ï¼Œè¡¨Viâ€¾\\overline{V_{i}}Viâ€‹â€‹ç¤ºSiS_iSiâ€‹çŠ¶æ€çš„å¹³å‡value(ä¸‹é¢ä¼šè¿›ä¸€æ­¥è§£é‡Šï¼‰ Node expansion(æ‹“å±•èŠ‚ç‚¹) Rollout (random simulation)(æ¨¡æ‹Ÿ) Backpropagation(åå‘ä¼ æ’­) è’™ç‰¹å¡æ´›è®¡ç®—è¿‡ç¨‹ UCB(Upper Confidence Boundsç½®ä¿¡ä¸Šé™)å…¶å®å°±æ˜¯UCT(UCB for Tree)ä¸­éœ€è¦è®¡ç®—çš„å€¼ï¼Œè€ŒUCTæ˜¯æ ¹æ®UCBå€¼æ¥è¿­ä»£çš„ç®—æ³• ç¬¬ä¸€ã€äºŒæ­¥çš„æµç¨‹ï¼ˆéå†ã€æ‹“å±•èŠ‚ç‚¹ï¼‰ï¼š 1.ä»çŠ¶æ€S0å¼€å§‹ï¼Œè¦åœ¨ä¸‹é¢ä¸¤ä¸ªåŠ¨ä½œä¸­è¿›è¡Œé€‰æ‹©ï¼ˆå‡è®¾åªæœ‰ä¸¤ä¸ªåŠ¨ä½œå¯é€‰ï¼‰ï¼Œé€‰æ‹©çš„æ ‡å‡†å°±æ˜¯UCB1(Si)UCB1(S_{i})UCB1(Siâ€‹)å€¼ï¼Œé€‰æ‹©æœ€å¤§åŒ– UCT çš„èŠ‚ç‚¹ä½œä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚åˆå§‹æƒ…å†µä¸¤ä¸ªUCB1(S1)=UCB1(S2)=âˆUCB1(S_{1})=UCB1(S_{2})=\\inftyUCB1(S1â€‹)=UCB1(S2â€‹)=âˆ,æŒ‰é¡ºåºé€‰æ‹©S1 2.åˆ¤æ–­ç›®å‰çš„ç»“ç‚¹S1(current node)æ˜¯ä¸æ˜¯å¶èŠ‚ç‚¹ï¼Œè¿™é‡Œå¶èŠ‚ç‚¹æ˜¯æŒ‡å…¶æ²¡æœ‰è¢«å±•å¼€ï¼ˆexpansionï¼‰è¿‡ã€‚ 3.æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§æµç¨‹å›¾ï¼Œéœ€è¦åˆ¤æ–­ç»“ç‚¹S1è¢«è®¿é—®çš„ç³»æ•°æ˜¯å¦ä¸º0ã€‚æ˜¯0ï¼Œåˆ™è¦è¿›è¡ŒRolloutã€‚(Rolloutå…¶å®å°±æ˜¯åœ¨æ¥ä¸‹æ¥çš„æ­¥éª¤ä¸­æ¯ä¸€æ­¥éƒ½éšæœºé‡‡å–åŠ¨ä½œï¼Œç›´åˆ°åœæ­¢ç‚¹ï¼ˆå›´æ£‹ä¸­çš„å¯¹å±€ç»“æŸï¼‰ï¼Œå¾—åˆ°ä¸€ä¸ªæœ€ç»ˆçš„valueã€‚)==&gt;å‡è®¾Rolloutæœ€ç»ˆå€¼ä¸º20. 4.Backpropagationï¼Œå³åˆ©ç”¨Rolloutæœ€ç»ˆå¾—åˆ°çš„valueæ¥æ›´æ–°è·¯å¾„ä¸Šæ¯ä¸ªç»“ç‚¹çš„T,Nå€¼ã€‚(ä¹‹åæŠŠRolloutçš„ç»“æœåˆ é™¤ï¼šMCTSçš„æƒ³æ³•å°±æ˜¯è¦ä»å‡ºS0å‘ä¸æ–­çš„è¿›è¡Œè¿­ä»£ï¼Œä¸æ–­æ›´æ–°ç»“ç‚¹å€¼ï¼Œç›´åˆ°è¾¾åˆ°ä¸€å®šçš„è¿­ä»£æ¬¡æ•°æˆ–è€…æ—¶é—´ã€‚) 5.å¦‚æœæ²¡æœ‰è¾¾åˆ°ä¸€å®šçš„è¿­ä»£æ¬¡æ•°æˆ–è€…æ—¶é—´ï¼Œç»§ç»­ä»æ ¹èŠ‚ç‚¹è¿›è¡Œ1-4 ç¬¬ä¸‰æ­¥rolloutæ¨¡æ‹Ÿ: 1234567891011/*è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªè¡¨ç¤ºåšå¼ˆçŠ¶æ€çš„å‚æ•°ï¼Œç„¶åè¿”å›ä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚å®é™…ä¸Šï¼Œå®ƒè¢«è®¾è®¡å¾—éå¸¸å¿«ï¼Œä»è€Œå¯ä»¥è®©å¾ˆå¤šæ¨¡æ‹Ÿå¿«é€Ÿè¿›è¡Œâ€”â€”é»˜è®¤çš„ rollout policy å‡½æ•°æ˜¯ä¸€ä¸ªå‡è¡¡åˆ†å¸ƒçš„éšæœºæ•°ç”Ÿæˆå‡½æ•°ã€‚*/Rollout(S_i): loop forever: /* å¦‚æœå½“å‰çŠ¶æ€ç»“ç‚¹æ˜¯ä¸ªç»ˆæ­¢ç»“ç‚¹ */ if S_i is a terminal state: /* é‚£ä¹ˆç›´æ¥è¿”å›å®ƒçš„valueå€¼*/ return value(S_i) /* æ‰¾åˆ°ä¸‹ä¸€ä¸ªåŠ¨ä½œ */ A_i = random(available-actions(S_i)) /* é€‰æ‹©ä¸‹ä¸€ä¸ªçŠ¶æ€è¿›è¡Œæ‹“å±• */ S_i = simulate(A_i,S_i) 4.åå‘ä¼ æ’­ï¼šä»å­èŠ‚ç‚¹çš„ç»“æœä¼ åˆ°æ ¹èŠ‚ç‚¹ ä¾‹å­è¯´æ˜è§:è’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼ˆMCTSï¼‰ç®—æ³•-è®¡ç®—è¿‡ç¨‹ï¼Œè§†é¢‘è®²è§£è§Bç«™:ã€MCTSã€‘Youtubeä¸Šè¿„ä»Šä¸ºæ­¢æœ€å¥½çš„è’™ç‰¹å¡ç½—æ ‘æœç´¢è®²è§£ è¿˜æœ‰ä¸ªæœç´¢ç®—æ³•ï¼šæå¤§æå°æ³•ï¼ˆminimaxï¼‰ã€‚è¿™ä¸ªç­–ç•¥å‡å®šä½ çš„å¯¹æ‰‹å‘æŒ¥äº†æœ€å¥½çš„åšå¼ˆæ°´å¹³ï¼Œç„¶åä»¥æ­¤è°ƒæ•´ç­–ç•¥æ¥æœ€å¤§åŒ–ä½ çš„æ”¶ç›Šã€‚ç®€å•åœ°è¯´ï¼Œç»™å®šçŠ¶æ€ï¼Œä½ æƒ³è¦æ‰¾åˆ°ä¸€ä¸ªèƒ½äº§ç”Ÿæœ€å¤§æ”¶ç›Šçš„ move ï¼Œå‡å®šä½ çš„å¯¹æ‰‹æƒ³è¦æœ€å°åŒ–ä½ çš„æ”¶ç›Šï¼ˆæœ€å¤§åŒ–ä»–è‡ªå·±çš„æ”¶ç›Šï¼‰ã€‚å› æ­¤ï¼Œåå­—å«ä½œæå°åŒ–æå¤§ã€‚ æå°åŒ–æå¤§ç®—æ³•çš„æœ€å¤§åŠ£åŠ¿æ˜¯ï¼Œéœ€è¦æ‰©å±•æ•´ä¸ªåšå¼ˆæ ‘ã€‚å¯¹äºåˆ†æ”¯å› å­è¾ƒé«˜çš„åšå¼ˆï¼ˆä¾‹å¦‚å›´æ£‹æˆ–è€…å›½é™…è±¡æ£‹ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´åºå¤§çš„åšå¼ˆæ ‘ä»è€Œå¤±è´¥ï¼Œæ‰€ä»¥ä¸€èˆ¬MinMaxç®—æ³•å¤–è¿˜è¦åŠ ä¸Šalpha-betaå‰ªæã€‚ UCTç®—æ³•â€”â€”æ ‘çš„ç½®ä¿¡ä¸Šé™(UCB for Trees) Upper Confidence Bounds(ç½®ä¿¡ä¸Šé™) UCB1æ˜¯ä¸€ä¸ªè®©æˆ‘ä»¬ä»å·²è®¿é—®çš„èŠ‚ç‚¹ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ¥è¿›è¡Œéå†çš„å‡½æ•°ï¼Œä¹Ÿæ˜¯MCTSçš„æ ¸å¿ƒå‡½æ•°ã€‚ UCB1(vi,v)=Q(vi)N(vi)+clogâ¡(N(v))N(vi)UCB1(v_{i}, v)=\\frac{Q(v_{i})}{N(v_{i})}+c \\sqrt{\\frac{\\log (N(v))}{N(v_{i})}} UCB1(viâ€‹,v)=N(viâ€‹)Q(viâ€‹)â€‹+cN(viâ€‹)log(N(v))â€‹â€‹ å…¶ä¸­vä¸ºå½“å‰èŠ‚ç‚¹ï¼ŒViä¸ºå…¶å­èŠ‚ç‚¹ã€‚ exploitation component(åˆ©ç”¨) ç¬¬ä¸€éƒ¨åˆ†æ˜¯ \\frac{Q(v_{i})}{N(v_{i})} â€‹ ï¼Œä¹Ÿç§°ä½œexploitation componentã€‚ Q(Vi)ä¸ºå­èŠ‚ç‚¹è·èƒœæ¬¡æ•°ï¼ŒN(Vi)ä¸ºå­èŠ‚ç‚¹å‚ä¸æ¨¡æ‹Ÿçš„æ¬¡æ•° å¯ä»¥çœ‹åšæ˜¯å­èŠ‚ç‚¹Viçš„èƒœç‡ä¼°è®¡ï¼ˆæ€»æ”¶ç›Š/æ€»æ¬¡æ•°=å¹³å‡æ¯æ¬¡çš„æ”¶ç›Šï¼‰ã€‚ä½†æ˜¯ä¸èƒ½åªé€‰æ‹©èƒœç‡é«˜çš„ä¸‹ä¸€æ­¥ï¼Œå› ä¸ºè¿™ç§è´ªå©ªæ–¹å¼çš„æœç´¢ä¼šå¾ˆå¿«å¯¼è‡´æ¸¸æˆç»“æŸï¼Œè¿™å¾€å¾€ä¼šå¯¼è‡´æœç´¢ä¸å……åˆ†ï¼Œé”™è¿‡æœ€ä¼˜è§£ã€‚ ä¸¾ä¸ªç®€å•çš„ä¾‹å­ã€‚ç°åœ¨å‡è®¾MCTSçš„UCTå‡½æ•°åªç”¨äº†æ¢ç´¢æˆåˆ†ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæˆ‘ä»¬å¯¹æ‰€æœ‰å­èŠ‚ç‚¹è¿›è¡Œäº†ä¸€æ¬¡æ¨¡æ‹Ÿï¼Œç„¶ååœ¨ä¸‹ä¸€æ­¥ä¸­åªè®¿é—®è‡³å°‘èµ¢äº†ä¸€æ¬¡çš„å­èŠ‚ç‚¹ã€‚é‚£ä¹ˆåœ¨ç¬¬ä¸€æ¬¡æ¨¡æ‹Ÿä¸­é‚£äº›ä¸å¹¸æœªè¢«é€‰ä¸­çš„èŠ‚ç‚¹ï¼ˆå®é™…ä¸­rolloutç­–ç•¥å‡½æ•°é€šå¸¸æ˜¯éšæœºçš„ï¼‰å°†ä¼šè¢«ç«‹åˆ»æŠ›å¼ƒ exploration component(æ¢ç´¢) c \\sqrt{\\frac{\\log(N(v))}{N(v_{i})}}$$ï¼Œè¿™ä¸ªæˆåˆ†æ›´å€¾å‘äºé‚£äº›æƒ³å¯¹è¾ƒå°‘è¢«æ¢ç´¢çš„èŠ‚ç‚¹N(Vi)å°ã€‚ å‚æ•°cæ˜¯exploitationå’Œexplorationä¹‹é—´çš„æŠ˜ä¸­ç³»æ•°ã€‚ ### MCTSçš„ç»ˆæ­¢ ç»ˆæ­¢æ¡ä»¶(or)ï¼š - è¾¾åˆ°ä¸€å®šçš„è¿­ä»£æ¬¡æ•° - è¾¾åˆ°è§„å®šçš„æœç´¢æ—¶é—´ å½“MSCTç¨‹åºç»“æŸæ—¶ï¼Œæœ€ä½³çš„ç§»åŠ¨é€šå¸¸æ˜¯è®¿é—®æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯UCTæœ€å¤§çš„ç‚¹ã€‚ ## å‚è€ƒ: [æ·±åº¦å­¦ä¹ å…¥é—¨ï¼šAlphaGo Zeroè’™ç‰¹å¡æ´›æ ‘æœç´¢](https://blog.csdn.net/mergerly/article/details/83788862) [è’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼ˆMCTSï¼‰ç®—æ³•-è®¡ç®—è¿‡ç¨‹](https://blog.csdn.net/ljyt2/article/details/78332802) [ã€MCTSã€‘Youtubeä¸Šè¿„ä»Šä¸ºæ­¢æœ€å¥½çš„è’™ç‰¹å¡ç½—æ ‘æœç´¢è®²è§£](https://www.bilibili.com/video/av67847675?from=search&amp;seid=7487786042631726209) [AIå¦‚ä½•ä¸‹æ£‹ï¼Ÿç›´è§‚äº†è§£è’™ç‰¹å¡æ´›æ ‘æœç´¢MCTSï¼ï¼ï¼](https://www.bilibili.com/video/BV1JD4y1Q7mV?from=search&amp;seid=6045698802301050730)â€”â€”æ•´ä½“è®²çš„å¾ˆå¥½ï¼Œæ±‡æ€»äº†ç™¾åº¦èƒ½æœåˆ°çš„å¤§éƒ¨åˆ†çŸ¥è¯†ç‚¹ ## ä»£ç å®ç°æ–‡æ¡£: [pythonå®ç°çš„åŸºäºè’™ç‰¹å¡æ´›æ ‘æœç´¢(MCTS)ä¸UCBçš„äº”å­æ£‹æ¸¸æˆ](https://blog.csdn.net/white_gl/article/details/56521880) [mctspyï¼šäº•å­—æ£‹-è’™ç‰¹å¡æ´›æ ‘æœç´¢ç®—æ³•çš„pythonå®ç°](https://github.com/int8/monte-carlo-tree-search) --- è’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼ˆMCTSï¼‰ä»…å±•å¼€æ ¹æ® UCB å…¬å¼æ‰€è®¡ç®—è¿‡çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¼šé‡‡ç”¨ä¸€ç§è‡ªåŠ¨çš„æ–¹å¼å¯¹æ€§èƒ½æŒ‡æ ‡å¥½çš„èŠ‚ç‚¹è¿›è¡Œæ›´å¤šçš„æœç´¢ã€‚å…·ä½“æ­¥éª¤æ¦‚æ‹¬å¦‚ä¸‹ï¼š 1.ç”±å½“å‰å±€é¢å»ºç«‹æ ¹èŠ‚ç‚¹ï¼Œç”Ÿæˆæ ¹èŠ‚ç‚¹çš„å…¨éƒ¨å­èŠ‚ç‚¹ï¼Œåˆ†åˆ«è¿›è¡Œæ¨¡æ‹Ÿå¯¹å±€ï¼› 2.ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè¿›è¡Œæœ€ä½³ä¼˜å…ˆæœç´¢ï¼› 3.åˆ©ç”¨ UCB å…¬å¼è®¡ç®—æ¯ä¸ªå­èŠ‚ç‚¹çš„ UCB å€¼ï¼Œé€‰æ‹©æœ€å¤§å€¼çš„å­èŠ‚ç‚¹ï¼› 4.è‹¥æ­¤èŠ‚ç‚¹ä¸æ˜¯å¶èŠ‚ç‚¹ï¼Œåˆ™ä»¥æ­¤èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œé‡å¤ 2ï¼› 5.ç›´åˆ°é‡åˆ°å¶èŠ‚ç‚¹ï¼Œå¦‚æœå¶èŠ‚ç‚¹æœªæ›¾ç»è¢«æ¨¡æ‹Ÿå¯¹å±€è¿‡ï¼Œå¯¹è¿™ä¸ªå¶èŠ‚ç‚¹æ¨¡æ‹Ÿå¯¹å±€ï¼›å¦åˆ™ä¸ºè¿™ä¸ªå¶èŠ‚ç‚¹éšæœºç”Ÿæˆå­èŠ‚ç‚¹ï¼Œå¹¶è¿›è¡Œæ¨¡æ‹Ÿå¯¹å±€ï¼› 6.å°†æ¨¡æ‹Ÿå¯¹å±€çš„æ”¶ç›Šï¼ˆä¸€èˆ¬èƒœä¸º 1 è´Ÿä¸º 0ï¼‰æŒ‰å¯¹åº”é¢œè‰²æ›´æ–°è¯¥èŠ‚ç‚¹åŠå„çº§ç¥–å…ˆèŠ‚ç‚¹ï¼ŒåŒæ—¶å¢åŠ è¯¥èŠ‚ç‚¹ä»¥ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„è®¿é—®æ¬¡æ•°ï¼› 7.å›åˆ° 2ï¼Œé™¤éæ­¤è½®æœç´¢æ—¶é—´ç»“æŸæˆ–è€…è¾¾åˆ°é¢„è®¾å¾ªç¯æ¬¡æ•°ï¼› 8.ä»å½“å‰å±€é¢çš„å­èŠ‚ç‚¹ä¸­æŒ‘é€‰å¹³å‡æ”¶ç›Šæœ€é«˜çš„ç»™å‡ºæœ€ä½³ç€æ³•ã€‚ ç”±æ­¤å¯è§ UCT ç®—æ³•å°±æ˜¯åœ¨è®¾å®šçš„æ—¶é—´å†…ä¸æ–­å®Œæˆä»æ ¹èŠ‚ç‚¹æŒ‰ç…§ UCB çš„æŒ‡å¼•æœ€ç»ˆèµ°åˆ°æŸä¸€ä¸ªå¶èŠ‚ç‚¹çš„è¿‡ç¨‹ã€‚è€Œç®—æ³•çš„åŸºæœ¬æµç¨‹åŒ…æ‹¬äº†é€‰æ‹©å¥½çš„åˆ†æ”¯ï¼ˆSelectionï¼‰ã€åœ¨å¶å­èŠ‚ç‚¹ä¸Šæ‰©å±•ä¸€å±‚ï¼ˆExpansionï¼‰ã€æ¨¡æ‹Ÿå¯¹å±€ï¼ˆSimulationï¼‰å’Œç»“æœå›é¦ˆï¼ˆBackpropagationï¼‰è¿™æ ·å››ä¸ªéƒ¨åˆ†ã€‚ UCT æ ‘æœç´¢è¿˜æœ‰ä¸€ä¸ªæ˜¾è‘—ä¼˜ç‚¹å°±æ˜¯å¯ä»¥**éšæ—¶**ç»“æŸæœç´¢å¹¶è¿”å›ç»“æœï¼Œåœ¨&lt;u&gt;æ¯ä¸€æ—¶åˆ»ï¼Œå¯¹ UCT æ ‘æ¥è¯´éƒ½æœ‰ä¸€ä¸ªç›¸å¯¹æœ€ä¼˜çš„ç»“æœ&lt;/u&gt;ã€‚ https://blog.csdn.net/white_gl/article/details/56521880","categories":[],"tags":[{"name":"RL","slug":"RL","permalink":"https://nymrli.top/tags/RL/"}]},{"title":"Pythonå¤šè¿›ç¨‹","slug":"Pythonå¤šè¿›ç¨‹","date":"2019-10-06T12:17:44.000Z","updated":"2019-10-07T04:15:31.316Z","comments":true,"path":"2019/10/06/Pythonå¤šè¿›ç¨‹/","link":"","permalink":"https://nymrli.top/2019/10/06/Pythonå¤šè¿›ç¨‹/","excerpt":"","text":"Pythonå¤šè¿›ç¨‹ å®ˆæŠ¤è¿›ç¨‹ å®ˆæŠ¤è¿›ç¨‹å…¶å®å°±æ˜¯**â€œå­è¿›ç¨‹â€œæ˜¯å¦ä¼´éšä¸»è¿›ç¨‹ä¸€èµ·ç»“æŸ**:å®ˆæŠ¤==&gt;ä¼´éšï¼Œå³å®ˆæŠ¤è¿›ç¨‹ä¼šä¼´éšä¸»è¿›ç¨‹çš„ä»£ç è¿è¡Œå®Œæ¯•åè€Œæ­»æ‰ è¿›ç¨‹ï¼šå½“çˆ¶è¿›ç¨‹éœ€è¦å°†ä¸€ä¸ªä»»åŠ¡å¹¶å‘å‡ºå»æ‰§è¡Œï¼Œéœ€è¦å°†è¯¥ä»»åŠ¡æ”¾åˆ°ä»¥ä¸ªå­è¿›ç¨‹é‡Œ å®ˆæŠ¤ï¼šå½“è¯¥å­è¿›ç¨‹å†…çš„ä»£ç åœ¨çˆ¶è¿›ç¨‹ä»£ç è¿è¡Œå®Œæ¯•åå°±æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰äº†ï¼Œå°±åº”è¯¥ å°†è¯¥å­è¿›ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤è¿›ç¨‹ï¼Œä¼šåœ¨çˆ¶è¿›ç¨‹ä»£ç ç»“æŸåæ­»æ‰ 1234567891011121314151617181920212223from multiprocessing import Processimport timedef foo(): print(123) time.sleep(1) print(\"end123\")def bar(): print(456) time.sleep(3) print(\"end456\")if __name__ == '__main__': p1=Process(target=foo) p2=Process(target=bar) # å°†å­è¿›ç¨‹p1è®¾ç½®ä¸ºå®ˆæŠ¤è¿›ç¨‹ï¼Œå®ˆæŠ¤è¿›ç¨‹è¦æ”¾åœ¨è¿›ç¨‹startä¹‹å‰ # æ‰€ä»¥p1ä¼šåœ¨print(\"main-------\")æ‰“å°å®Œæˆåæ­»æ‰ï¼Œæ‰€ä»¥p1è¿›ç¨‹ä¸ä¼šæ‰“å° p1.daemon=True p1.start() p2.start() # time.sleep(1) print(\"main-------\") è¿›ç¨‹é” ä¸»è¦ä½¿ç”¨multiprocessingä¸‹çš„Lockå¯¹è±¡ å°±æ˜¯å°†è¦æ‰§è¡Œä»»åŠ¡çš„éƒ¨é—¨ä»£ç ï¼ˆåªæ¶‰åŠåˆ°ä¿®æ”¹å…±äº«æ•°æ®çš„ä»£ç ï¼‰å˜æˆä¸²è¡Œï¼Œä½œç”¨æ˜¯è®©è¿›ç¨‹ä¸ä¹±æ‰ï¼Œä¸‹é¢ä»£ç å°±æ˜¯å¯ä»¥é¿å… i ä¹±æ‰“å° 12345678910111213from multiprocessing import Process, Lock def f(l, i): l.acquire() #é”ä½è¿›ç¨‹ try: print('hello world', i) finally: l.release() #é‡Šæ”¾é” if __name__ == '__main__': lock = Lock() for num in range(10): Process(target=f, args=(lock, num)).start() ï¼ˆç†è§£ä¸ºç”¨é”æ¥é™åˆ¶ï¼ŒåŒä¸€æ—¶é—´åªèƒ½è®©ä¸€ä¸ªäººæ‹¿ç€é”å»æ”¹æ•°æ®ï¼Œå…ˆæŠ¢åˆ°é”çš„äºº å°±æœ‰ä¼˜å…ˆè´­ä¹°çš„æƒé™ï¼‰ 1234# ä¸»è¦å°±æ˜¯ç”¨çš„è¿™ä¸‰ä¸ªlock = lock()lock.acquire() # æ‹¿é’¥åŒ™ï¼Œå¼€é—¨lock.release() #è¿˜é’¥åŒ™ï¼Œå…³é—¨ æŠ¢ç¥¨demo å†™æ³•ä¸€ 1234567891011121314151617181920212223242526272829303132333435363738394041#æ¨¡æ‹ŸæŠ¢ç¥¨è½¯ä»¶çš„åŸç†ï¼šfrom multiprocessing import Lock,Processimport json,os,time,randomdef check(): #æŸ¥ç¥¨åŠŸèƒ½å®ç°å¹¶è¡Œè®¿é—® time.sleep(1) with open('db.txt','rt',encoding='utf-8') as f: dic=json.load(f) print('%s æŸ¥çœ‹ä½™ç¥¨æ•°ä¸º %s'%(os.getpid(),dic['count']))def get(): #è´­ç¥¨å› ä¸ºç‰µæ¶‰åˆ°å¯¹åå°æ•°æ®çš„ä¿®æ”¹ï¼Œæ‰€ä»¥åŠ äº’æ–¥é”ç›®çš„æ˜¯é€ä¸€è¿›è¡Œè®¿é—®ä¿®æ”¹ï¼Œä»¥å…æ•°æ®é”™ä¹± with open('db.txt', 'rt',encoding='utf-8') as f: dic = json.load(f) time.sleep(2) if dic['count'] &gt;0: #æœ‰ç¥¨ dic['count']-=1 time.sleep(random.randint(1, 3)) #åœ¨è´­ç¥¨æ—¶ï¼Œæ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ... with open('db.txt', 'wt',encoding='utf-8') as f: json.dump(dic,f) print('%s è´­ç¥¨æˆåŠŸ'%os.getpid()) else: print('%s æ²¡æœ‰ä½™ç¥¨'%os.getpid())def task(mutex): #æŸ¥çœ‹ï¼ˆå¹¶è¡Œè®¿é—®ï¼‰ check() #æŠ¢ç¥¨ï¼ˆåŠ å…¥äº’æ–¥é”ï¼Œå®ç°ä¸²è¡Œè®¿é—®ï¼Œå…ˆåˆ°å…ˆå¾—åŸåˆ™ï¼‰ mutex.acquire() get() mutex.release() #ç¬¬ä¸€ä¸ªè´­ä¹°å®Œæˆåï¼Œè§£é”ï¼Œåç»­è¿›å…¥ç»§ç»­è´­ä¹°if __name__ == '__main__': mutex=Lock() #è°ƒç”¨Lockç±»æ‹¿åˆ°ä¸€ä¸ªå¯¹è±¡ for i in range(10): p=Process(target=task,args=(mutex,)) p.start() å†™æ³•äºŒ: 123456789101112131415161718192021222324252627282930313233343536# é”# ç«è½¦ç¥¨import jsonimport timefrom multiprocessing import Processfrom multiprocessing import Lockdef show(i): with open('ticket') as f: dic = json.load(f) print('ä½™ç¥¨: %s'%dic['ticket'])def buy_ticket(i,lock): lock.acquire() #æ‹¿é’¥åŒ™è¿›é—¨ with open('ticket') as f: dic = json.load(f) time.sleep(0.1) if dic['ticket'] &gt; 0 : dic['ticket'] -= 1 print('\\033[32m%sä¹°åˆ°ç¥¨äº†\\033[0m'%i) else: print('\\033[31m%sæ²¡ä¹°åˆ°ç¥¨\\033[0m'%i) time.sleep(0.1) with open('ticket','w') as f: json.dump(dic,f) lock.release() # è¿˜é’¥åŒ™if __name__ == '__main__': for i in range(10): p = Process(target=show,args=(i,)) p.start() lock = Lock() for i in range(10): p = Process(target=buy_ticket, args=(i,lock)) p.start() è¿›ç¨‹é—´çš„é€šä¿¡** ç”¨ä¸€å—å„¿å…±äº«çš„å†…å­˜==&gt;å®ç°è¿›ç¨‹é—´çš„å…±äº« ç‰¹ç‚¹: ä¸€å®šæ˜¯å†…å­˜ç©ºé—´ èƒ½å¤Ÿè‡ªåŠ¨å¸®å¿™å¤„ç†é”çš„é—®é¢˜ å®ç°è¿›ç¨‹é—´çš„é€šè®¯ï¼ˆIPCï¼‰çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå¦‚ï¼šç®¡é“(Pipe)ï¼Œæ¶ˆæ¯é˜Ÿåˆ—(Queue: == PIPE+é”ï¼ˆé˜Ÿåˆ—ï¼‰)ï¼Œå…±äº«å†…å­˜ï¼Œä¿¡å·ï¼Œä¿¡å·é‡ï¼Œå¥—æ¥å­— ç®¡é“ æ¶ˆæ¯é˜Ÿåˆ— å…±äº«å†…å­˜ å¼€è¾Ÿç©ºé—´ å†…å­˜ å†…å­˜ å†…å­˜ è¯»å†™æ–¹å¼ ä¸¤ç«¯è¯»å†™[åŒå‘/å•å‘] å…ˆè¿›å…ˆå‡º è¦†ç›–ä¹‹å‰çš„å†…å®¹ æ•ˆç‡ ä¸€èˆ¬ ä¸€èˆ¬ è¾ƒé«˜ åº”ç”¨ å¤šç”¨äºçˆ¶å­è¿›ç¨‹ å¹¿æ³›çµæ´» éœ€è¦æ³¨æ„äº’æ–¥ æ³¨æ„ï¼š 1.é˜Ÿåˆ—å ç”¨çš„æ˜¯å†…å­˜ç©ºé—´ 2.ä¸åº”è¯¥å¾€é˜Ÿåˆ—ä¸­æ”¾å¤§æ•°æ®ï¼Œåº”è¯¥åªå­˜æ”¾æ•°æ®é‡è¾ƒå°çš„ç²¾ç®€çš„å†…å®¹ ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ ç”Ÿäº§è€…ï¼šæ¯”å–»çš„æ˜¯ç¨‹åºä¸­è´Ÿè´£äº§ç”Ÿæ•°æ®çš„ä»»åŠ¡ æ¶ˆè´¹è€…ï¼šæ¯”å–»çš„æ˜¯ç¨‹åºä¸­è´Ÿè´£å¤„ç†æ•°æ®çš„ä»»åŠ¡ ç”Ÿäº§è€…â€”â€”â€”&gt;å…±äº«çš„ä»‹è´¨(é˜Ÿåˆ—)&lt;â€”â€”â€”â€”æ¶ˆè´¹è€… Q:ä½œç”¨æ˜¯ä»€ä¹ˆ? A: å®ç°ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…çš„è§£è€¦å’Œï¼Œç”Ÿäº§è€…å¯ä»¥ä¸åœçš„ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…ä¹Ÿå¯ä»¥ä¸åœçš„æ¶ˆè´¹ä»è€Œå¹³è¡¡äº†ç”Ÿäº§è€…çš„ç”Ÿäº§èƒ½åŠ›ä¸æ¶ˆè´¹è€…æ¶ˆè´¹èƒ½åŠ›ï¼Œæå‡äº†è€Œæ•´ä½“è¿è¡Œçš„æ•ˆç‡ Q:ä»€ä¹ˆæ—¶å€™ç”¨? A:å½“æˆ‘ä»¬ç¨‹åºä¸­å­˜åœ¨æ˜æ˜¾çš„ä¸¤ç±»ä»»åŠ¡ï¼Œä¸€ç±»æ˜¯è´Ÿè´£äº§ç”Ÿæ•°æ®ï¼Œä¸€ç±»æ˜¯è´Ÿè´£å¤„ç†æ•°æ®ï¼Œæ­¤æ—¶å°±åº”è¯¥è€ƒè™‘ä½¿ç”¨ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹æ¥æå‡ç¨‹åºçš„æ•ˆç‡ å¤šè¿›ç¨‹ä¸­çš„join() åœ¨è¿›ç¨‹ä¸­å¯ä»¥é˜»å¡ä¸»è¿›ç¨‹çš„æ‰§è¡Œ, ç›´åˆ°ç­‰å¾…å­çº¿ç¨‹å…¨éƒ¨å®Œæˆä¹‹å, æ‰ç»§ç»­è¿è¡Œä¸»çº¿ç¨‹åé¢çš„ä»£ç  12345678910111213141516171819202122232425import threadingimport timedef test(num): time.sleep(1) print(num)#å®šä¹‰ä¸€ä¸ªç”¨æ¥è£…å­çº¿ç¨‹çš„åˆ—è¡¨threads = []for i in range(5): #target æŒ‡å®šå­çº¿ç¨‹è¦æ‰§è¡Œçš„funtion, args æŒ‡å®šè¯¥funtionéœ€è¦ä¼ å…¥çš„å‚æ•° thread = threading.Thread(target = test, args = [i]) #ä¸Šé¢çš„ thread æ˜¯ä¸€ä¸ªä¸ªå‚æ•°iéƒ½ä¸åŒçš„çº¿ç¨‹, ç°åœ¨æŠŠå®ƒä¸€ä¸ªä¸ªè£…è¿›åˆ—è¡¨ threads é‡Œé¢ threads.append(thread)for i in threads: #for å¾ªç¯æ‰§è¡Œ threads åˆ—è¡¨é‡Œé¢çš„å…¨éƒ¨çº¿ç¨‹, æ²¡æœ‰ç”¨ join()çº¿ç¨‹æ˜¯æ— åºæ‰§è¡Œçš„, # å°±è¿æœ€åä¸€å¥print('end')å¯èƒ½æ¯”æ‰€æœ‰å­çº¿ç¨‹éƒ½è¦å…ˆæ‰§è¡Œ i.start()print('end')'''end41230''' å°†å…¶ä¿®æ”¹ä¸º 123456789101112for i in tsreads: i.start() i.join()'''01234end[Finished in 5.2s]''' æ¯ä¸ªéƒ½ä¼šéš”ä¸€ç§’çš„è¿›è¡Œè¾“å‡º,å› ä¸ºforå¾ªç¯ä¹Ÿæ˜¯ä¸»è¿›ç¨‹æ“ä½œ,ä¹Ÿä¼šè¢«é˜»å¡ç›´åˆ°å­è¿›ç¨‹å®Œæˆã€‚ 12345678910111213for i in tsreads: i.start()for i in threads: i.join()'''23104end[Finished in 1.2s]''' åœ¨è¿™é‡Œçœ‹ä¸€çœ‹å‡ºæ¥, join()è¿˜æ˜¯é˜»æŒ¡äº†ä¸»çº¿ç¨‹çš„æ‰§è¡Œ, è®©æ‰€æœ‰çš„å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åå†æ‰§è¡Œ, è€Œä¸”å‰é¢çš„å­çº¿ç¨‹çš„æ‰§è¡Œéƒ½æ˜¯æ— åºåœ°æ‰§è¡Œå®Œæ¯•äº† â–³.ä¸€èˆ¬æ¥è¯´ï¼Œjoinå‡½æ•°åº”è¯¥åœ¨æ‰€æœ‰çš„startå‡½æ•°ä¹‹å(å³ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè®©æ‰€æœ‰è¿›ç¨‹éƒ½æ‰§è¡Œï¼Œç„¶åç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå†è¿›è¡Œä¸‹é¢çš„ä¸»è¿›ç¨‹)ã€‚ Pythonå¤šè¿›ç¨‹ä¹‹Manager å¯ä»¥ç”¨æ¥è¿›ç¨‹é—´å…±äº«å¯¹è±¡ã€èµ„æºã€å˜é‡===&gt;ä½¿ç”¨å…¬å…±å†…å­˜ 12345678910111213141516171819202122232425from multiprocessing import Process,Managerimport os# è¿™é‡Œå®ç°çš„å°±æ˜¯å¤šä¸ªè¿›ç¨‹ä¹‹é—´å…±äº«å†…å­˜ï¼Œå¹¶ä¿®æ”¹æ•°æ®# è¿™é‡Œä¸éœ€è¦åŠ é”ï¼Œå› ä¸ºmanagerå·²ç»é»˜è®¤ç»™ä½ åŠ é”äº†def f(d,l): d[1] = '1' d['2'] = 2 d[0.25] = None l.append(os.getpid()) print(l)if __name__ == '__main__': with Manager() as manager: d = manager.dict() #ç”Ÿæˆä¸€ä¸ªå­—å…¸ l = manager.list(range(5)) #ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ p_list = [] for i in range(10): p = Process(target=f,args=(d,l)) p.start() p_list.append(p) for res in p_list: res.join() print(d) print(l) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263from multiprocessing import Process, Lock, Valuefrom multiprocessing.managers import BaseManagerclass Employee(object): def __init__(self, name, salary): self.name = name self.salary = Value('i', salary) self.data = [] def increase(self): self.salary.value += 100 self.data.append(self.salary.value) print(self.data) def getPay(self): return self.name + ':' + str(self.salary.value)class MyManager(BaseManager): ''' ç»§æ‰¿å³å¯ ''' passdef Manager(): m = MyManager() m.start() return mMyManager.register('Employee', Employee)def func(em, lock): with lock: em.increase()if __name__ == '__main__': manager = Manager() em = manager.Employee('zhangsan', 1000) lock = Lock() proces = [Process(target=func, args=(em, lock)) for i in range(10)] for p in proces: p.start() for p in proces: p.join() print(em.getPay())'''&gt;&gt;&gt;[1100][1100, 1200][1100, 1200, 1300][1100, 1200, 1300, 1400][1100, 1200, 1300, 1400, 1500][1100, 1200, 1300, 1400, 1500, 1600][1100, 1200, 1300, 1400, 1500, 1600, 1700][1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800][1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900][1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000]zhangsan:2000''' Queue å…¶å®å°±æ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼ˆFIFOï¼‰ï¼Œä¸¤ä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡ä¼ å…¥çš„å‚æ•°qï¼Œæ¥è·å¾—é‡Œé¢çš„å†…å®¹ï¼Œä»è€Œæ•°æ®å…±äº«ã€é€šä¿¡ã€‚ 123456789101112131415161718192021222324252627282930313233#å¯¼å…¥Queue,Processfrom multiprocessing import Queue,Processimport os #å†™å…¥è¿›ç¨‹def wp(q): print(\"%så¼€å§‹å†™å…¥ï¼š\"%os.getpid) for i in \"WANG\": #å°†ä¿¡æ¯å†™å…¥é˜Ÿåˆ— q.put(i) print(i) #è¯»å–è¿›ç¨‹def rd(q): print(\"%så¼€å§‹è¯»å–\"%os.getpid()) while True: if not q.empty(): #ä»é˜Ÿåˆ—è¯»å–ä¿¡æ¯ print(\"read to %s\"%q.get()) if __name__==\"__main__\": #åˆ›å»ºé˜Ÿåˆ— q = Queue() #åˆ›å»ºå†™å…¥è¿›ç¨‹ w = Process(target=wp,args=(q,)) #å¯åŠ¨å†™å…¥è¿›ç¨‹ w.start() #åˆ›å»ºè¯»å–è¿›ç¨‹ r = Process(target=rd,args=(q,)) #å¯åŠ¨è¯»å–è¿›ç¨‹ r.start() Pipeç®¡é“ å’Œé˜Ÿåˆ—çš„åŠŸèƒ½å·®ä¸å¤šï¼Œå®ç°ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´æ•°æ®çš„ä¼ é€’ï¼Œåªä¸è¿‡æ˜¯FILOçš„: 123456789101112131415'''ç®¡é“pipe'''from multiprocessing import Process, Pipe def f(conn): conn.send('hello') #å‘é€hello print(conn.recv()) #æ”¶åˆ°ç‰›é€¼ conn.close() #å…³é—­ if __name__ == '__main__': parent_conn, child_conn = Pipe() #ç®¡é“ä¼šäº§ç”Ÿä¸¤ä¸ªè¿”å›å€¼ p = Process(target=f, args=(child_conn,)) #åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ p.start() print(parent_conn.recv()) #æ”¶åˆ°'hello'\" parent_conn.send('ç‰›é€¼') #å‘é€ç‰›é€¼ p.join() å€Ÿé‰´: Pythonå®ˆæŠ¤è¿›ç¨‹ã€è¿›ç¨‹äº’æ–¥é”ã€è¿›ç¨‹é—´é€šä¿¡ICPï¼ˆQueueé˜Ÿåˆ—ï¼‰ã€ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ å¤šè¿›ç¨‹ ä¹‹ join() Java å¤šçº¿ç¨‹ä¸­ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰§è¡Œ Pythonå¤šè¿›ç¨‹æ¶ˆæ¯é˜Ÿåˆ—å®ç°è¿›ç¨‹é—´é€šè®¯ Queueè¯¦ç»†å†…å®¹","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Openmvä½¿ç”¨","slug":"Openmvä½¿ç”¨","date":"2019-10-06T01:45:28.000Z","updated":"2019-11-07T12:36:38.416Z","comments":true,"path":"2019/10/06/Openmvä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/10/06/Openmvä½¿ç”¨/","excerpt":"","text":"Openmvä½¿ç”¨ ä¸‹è½½Openmv IDE Openmvå®˜ç½‘ ä¸­å›½ä»£ç†â€”â€”æ˜Ÿç³ Github_release æ¨èä¸‹è½½æ˜Ÿç³çš„ï¼Œè¿™ä¸ªæ˜¯ä¸­æ–‡ç‰ˆçš„ï¼Œå¹¶ä¸”å…¶ä»–ä¸¤ä¸ªä¸‹è½½éå¸¸æ…¢ã€‚ æ•æ‰å›¾ç‰‡è®¾ç½®ï¼š è®¾ç½®å½©è‰²ï¼é»‘ç™½ sensor.set_pixformat() è®¾ç½®åƒç´ æ¨¡å¼ã€‚ sensor.GRAYSCALE: ç°åº¦ï¼Œæ¯ä¸ªåƒç´ 8bitã€‚ sensor.RGB565: å½©è‰²ï¼Œæ¯ä¸ªåƒç´ 16bitã€‚ è®¾ç½®å›¾åƒå¤§å° sensor.set_framesize() è®¾ç½®å›¾åƒçš„å¤§å° sensor.QQVGA: 160x120 sensor.QQVGA2: 128x160 (ç”¨äº lcd æ‰©å±•æ¿) sensor.HQVGA: 240x160 sensor.QVGA: 320x240 sensor.VGA: 640x480 (åªç”¨äºOpenMV Cam M7 çš„ç°åº¦å›¾å¤„ç†å›¾åƒï¼Œæˆ–è€…å½©å›¾é‡‡é›†å›¾åƒ) sensor.QQCIF: 88x72 sensor.QCIF: 176x144 sensor.CIF: 352x288 è®¾ç½®çª—å£ROI sensor.set_windowing(roi) è®¾ç½®ç¿»è½¬ sensor.set_hmirror(True) æ°´å¹³æ–¹å‘ç¿»è½¬ sensor.set_vflip(True) å‚ç›´æ–¹å‘ç¿»è½¬ Demoä¾‹ç¨‹ï¼š openmvè™½ç„¶æ¯”è¾ƒè´µ,ä½†æ˜¯å®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§,å·²ç»æä¾›äº†ç›¸å½“å¤šçš„ä¾‹ç¨‹äº†ã€‚å…·ä½“ä¾‹ç¨‹å¯ä»¥å»æ˜Ÿç³çš„å®˜ç½‘ä¸ŠæŸ¥çœ‹ï¼Œè¯´æ˜éå¸¸è¯¦ç»†ã€‚ åœ¨æ­¤ï¼Œæˆ‘åªä»‹ç»ç‚¹æˆ‘ä»¬è¿™æ¬¡éœ€è¦ç”¨åˆ°çš„åŠŸèƒ½ã€‚ æˆ‘ä½¿ç”¨çš„æ˜¯OPENMV-H7 R1ï¼ŒèŠ¯ç‰‡æ˜¯STM32H743ï¼Œé•œå¤´ä¸ºIR 1080P 2.8mm Hello World 1234567891011121314151617# Hello World Example## Welcome to the OpenMV IDE! Click on the green run arrow button below to run the script!import sensor, image, timesensor.reset() # Reset and initialize the sensor.sensor.set_pixformat(sensor.RGB565) # Set pixel format to RGB565 (or GRAYSCALE)sensor.set_framesize(sensor.QVGA) # Set frame size to QVGA (320x240)sensor.skip_frames(time = 2000) # Wait for settings take effect.clock = time.clock() # Create a clock object to track the FPS.while(True): clock.tick() # Update the FPS clock. img = sensor.snapshot() # Take a picture and return the image. print(clock.fps()) # Note: OpenMV Cam runs about half as fast when connected # to the IDE. The FPS should increase once disconnected. äºŒç»´ç è¯†åˆ« 12345678910111213141516171819202122# QRCode Example## This example shows the power of the OpenMV Cam to detect QR Codes# using lens correction (see the qrcodes_with_lens_corr.py script for higher performance).import sensor, image, timesensor.reset()sensor.set_pixformat(sensor.RGB565)sensor.set_framesize(sensor.QVGA)sensor.skip_frames(time = 2000)sensor.set_auto_gain(False) # must turn this off to prevent image washout...clock = time.clock()while(True): clock.tick() img = sensor.snapshot() img.lens_corr(1.8) # strength of 1.8 is good for the 2.8mm lens. for code in img.find_qrcodes(): img.draw_rectangle(code.rect(), color = (255, 0, 0)) print(code) print(clock.fps()) ä»£ç æ˜¯ç”¨pythonç¼–å†™çš„ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸ºmicroPythonï¼Œå…·æœ‰Cpythonè§£é‡Šå™¨ç¿»è¯‘æˆæœºå™¨ç ã€‚éœ€è¦è„±æœºè¿è¡Œçš„æ–‡ä»¶å‘½åä¸ºmain.pyå³å¯(å…·ä½“è¯¦æƒ…è§microPythonè§„èŒƒ)ã€‚å¯æ”¾äºflashæˆ–è€…32GBä»¥ä¸‹çš„SDå¡ä¸­ï¼ŒSDå¡è¯»å–ä¼˜å…ˆçº§é«˜äºFlashï¼Œä¸”flashå†…å®¹å®¹æ˜“ä¸¢å¤±ï¼Œä¸”æ“¦å†™æ¬¡æ•°æœ‰é™ï¼Œå»ºè®®ä½¿ç”¨SDå¡ã€‚ ä¸»è¦éœ€è¦ç”¨çš„åº“ï¼š sersor:é€šè¿‡è¿™ä¸ªå¯¹è±¡å¯ä»¥æ§åˆ¶æ‘„åƒå¤´åŠç›¸å…³é…ç½®ï¼› imageï¼šå¤„ç†å›¾åƒçš„åŠŸèƒ½å‡½æ•°éƒ½åœ¨è¿™ä¸ªåº“é‡Œ sensor.snapshot()ä¼šè¿”å›ä¸€ä¸ª&lt;class â€˜Imageâ€™&gt; timeï¼šè·ŸPythonè‡ªå¸¦çš„timeæ¨¡å—ä¸åŒï¼Œè¿™ä¸ªæ˜¯ä¸“é—¨ç”¨æ¥è®°å½•æ‘„åƒå¤´ç”¨æ—¶çš„ é¢œè‰²è¿½è¸ª é¢œè‰²é˜ˆå€¼éœ€è¦ä½¿ç”¨LABè‰²å½©ç©ºé—´ LABçš„èŒƒå›´é€‰æ‹©ï¼Œä¸ªäººæ¯”è¾ƒå¿«æˆªçš„æ–¹æ³•æ˜¯é€šè¿‡IDEå³è¾¹çš„å¸§ç¼“å†²åŒºæ¥è·å–ï¼Œå³æ¡†å‡ºROIåŒºåŸŸåï¼Œå†æ‰“å¼€â€œå·¥å…·-&gt;æœºå™¨è§†è§‰-&gt;é˜ˆå€¼ç¼–è¾‘å™¨-&gt;å¸§ç¼“å†²åŒºâ€,ç„¶åæ ¹æ®ç›´æ–¹å›¾ä¸­çš„æ•°æ®å°±å¯ä»¥ç­›é€‰å‡ºæƒ³è¦çš„å¯¹è±¡è¾£(ç™½è‰²æ˜¯é€‰å‡ºï¼Œé»‘è‰²æ˜¯è¿‡æ»¤ï¼Œå¥½åƒè·ŸPSçš„è’™ç‰ˆæ˜¯åçš„?) â–²é¢œè‰²è¯†åˆ«æ—¶ï¼Œä¸€å®šè¦å…³é—­è‡ªåŠ¨å¢ç›Šã€ç™½å¹³è¡¡ sensor.set_auto_gain() è‡ªåŠ¨å¢ç›Šå¼€å¯ï¼ˆTrueï¼‰æˆ–è€…å…³é—­ï¼ˆFalseï¼‰ã€‚åœ¨ä½¿ç”¨é¢œè‰²è¿½è¸ªæ—¶ï¼Œéœ€è¦å…³é—­è‡ªåŠ¨å¢ç›Šã€‚ sensor.set_auto_whitebal() è‡ªåŠ¨ç™½å¹³è¡¡å¼€å¯ï¼ˆTrueï¼‰æˆ–è€…å…³é—­ï¼ˆFalseï¼‰ã€‚åœ¨ä½¿ç”¨é¢œè‰²è¿½è¸ªæ—¶ï¼Œéœ€è¦å…³é—­è‡ªåŠ¨ç™½å¹³è¡¡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849# Measure the distance## This example shows off how to measure the distance through the size in imgage# This example in particular looks for yellow pingpong ball.import sensor, image, time, lcd# For color tracking to work really well you should ideally be in a very, very,# very, controlled enviroment where the lighting is constant...#yellow_threshold = (22, 74, -12, 31, 23, 62)box_threshold = (40, 80, -4, 21, 14, 51)red_threshold = (40, 59, 61, 84, 30, 79)# You may need to tweak the above settings for tracking green things...# Select an area in the Framebuffer to copy the color settings.sensor.reset() # Initialize the camera sensor.sensor.set_pixformat(sensor.RGB565) # use RGB565.sensor.set_framesize(sensor.QVGA) # use QQVGA for speed.sensor.skip_frames(10) # Let new settings take affect.sensor.set_auto_whitebal(False) # turn this off.clock = time.clock() # Tracks FPS.#lcd.init() # Initialize the lcd screen.K=5000#the value should be measuredwhile(True): clock.tick() # Track elapsed milliseconds between snapshots(). img = sensor.snapshot() # Take a picture and return the image. blobs = img.find_blobs([red_threshold]) if len(blobs) == 1: # Draw a rect around the blob. #b = blobs[0] #img.draw_rectangle(b[0:4]) # rect #img.draw_cross(b[5], b[6]) # cx, cy #Lm = (b[2]+b[3])/2 #length = K/Lm #print(length) b = blobs[0] img.draw_rectangle(b[0:4]) img.draw_cross(b[5], b[6]) #lcd.display(sensor.snapshot()) # Take a picture and display the image. #print(clock.fps()) # Note: Your OpenMV Cam runs about half as fast while # connected to your computer. The FPS should increase once disconnected. è¯†åˆ«åœ† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263# åœ†å½¢æ£€æµ‹ä¾‹ç¨‹## è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•ç”¨Houghå˜æ¢åœ¨å›¾åƒä¸­æ‰¾åˆ°åœ†ã€‚# https://en.wikipedia.org/wiki/Circle_Hough_Transform## è¯·æ³¨æ„ï¼Œfind_circlesï¼ˆï¼‰æ–¹æ³•å°†åªèƒ½æ‰¾åˆ°å®Œå…¨åœ¨å›¾åƒå†…éƒ¨çš„åœ†ã€‚åœˆå­ä¹‹å¤–çš„# å›¾åƒ/ roiè¢«å¿½ç•¥...import sensor, image, timesensor.reset()sensor.set_pixformat(sensor.RGB565) # grayscale is fastersensor.set_framesize(sensor.QQVGA)sensor.skip_frames(time = 2000)clock = time.clock()while(True): clock.tick() #lens_corr(1.8)ç•¸å˜çŸ«æ­£ img = sensor.snapshot().lens_corr(1.8) # Circleå¯¹è±¡æœ‰å››ä¸ªå€¼: x, y, r (åŠå¾„), å’Œ magnitudeã€‚ # magnitudeæ˜¯æ£€æµ‹åœ†çš„å¼ºåº¦ã€‚è¶Šé«˜è¶Šå¥½ # roi æ˜¯ä¸€ä¸ªç”¨ä»¥å¤åˆ¶çš„çŸ©å½¢çš„æ„Ÿå…´è¶£åŒºåŸŸ(x, y, w, h)ã€‚å¦‚æœæœªæŒ‡å®šï¼Œ # ROI å³å›¾åƒçŸ©å½¢ã€‚æ“ä½œèŒƒå›´ä»…é™äºroiåŒºåŸŸå†…çš„åƒç´ ã€‚ # x_stride æ˜¯éœå¤«å˜æ¢æ—¶éœ€è¦è·³è¿‡çš„xåƒç´ çš„æ•°é‡ã€‚è‹¥å·²çŸ¥åœ†è¾ƒå¤§ï¼Œå¯å¢åŠ  # x_stride ã€‚ # y_stride æ˜¯éœå¤«å˜æ¢æ—¶éœ€è¦è·³è¿‡çš„yåƒç´ çš„æ•°é‡ã€‚è‹¥å·²çŸ¥ç›´çº¿è¾ƒå¤§ï¼Œå¯å¢åŠ  # y_stride ã€‚ # threshold æ§åˆ¶ä»éœå¤«å˜æ¢ä¸­ç›‘æµ‹åˆ°çš„åœ†ã€‚åªè¿”å›å¤§äºæˆ–ç­‰äºé˜ˆå€¼çš„åœ†ã€‚ # åº”ç”¨ç¨‹åºçš„é˜ˆå€¼æ­£ç¡®å€¼å–å†³äºå›¾åƒã€‚æ³¨æ„ï¼šä¸€æ¡åœ†çš„å¤§å°æ˜¯ç»„æˆåœ†æ‰€æœ‰ # ç´¢è´å°”æ»¤æ³¢åƒç´ å¤§å°çš„æ€»å’Œã€‚ # x_margin æ§åˆ¶æ‰€æ£€æµ‹çš„åœ†çš„åˆå¹¶ã€‚ åœ†åƒç´ ä¸º x_margin ã€ y_margin å’Œ # r_marginçš„éƒ¨åˆ†åˆå¹¶ã€‚ # y_margin æ§åˆ¶æ‰€æ£€æµ‹çš„åœ†çš„åˆå¹¶ã€‚ åœ†åƒç´ ä¸º x_margin ã€ y_margin å’Œ # r_margin çš„éƒ¨åˆ†åˆå¹¶ã€‚ # r_margin æ§åˆ¶æ‰€æ£€æµ‹çš„åœ†çš„åˆå¹¶ã€‚ åœ†åƒç´ ä¸º x_margin ã€ y_margin å’Œ # r_margin çš„éƒ¨åˆ†åˆå¹¶ã€‚ # r_minï¼Œr_maxå’Œr_stepæ§åˆ¶æµ‹è¯•åœ†çš„åŠå¾„ã€‚ # ç¼©å°æµ‹è¯•åœ†åŠå¾„çš„æ•°é‡å¯ä»¥å¤§å¤§æå‡æ€§èƒ½ã€‚ # threshold = 3500æ¯”è¾ƒåˆé€‚ã€‚å¦‚æœè§†é‡ä¸­æ£€æµ‹åˆ°çš„åœ†è¿‡å¤šï¼Œè¯·å¢å¤§é˜ˆå€¼ï¼› # ç›¸åï¼Œå¦‚æœè§†é‡ä¸­æ£€æµ‹åˆ°çš„åœ†è¿‡å°‘ï¼Œè¯·å‡å°‘é˜ˆå€¼ã€‚ for c in img.find_circles(threshold = 3500, x_margin = 10, y_margin = 10, r_margin = 10,r_min = 2, r_max = 100, r_step = 2):# (80,60,80,60) img.draw_circle(c.x(), c.y(), c.r(), color = (255, 0, 0)) print(c) for r in img.find_rects(threshold = 3500): img.draw_rectangle(r.rect(), color=(255,0,0)) for p in r.corners(): img.draw_circle(p[0], p[1], 5, color=(0,255,0)) print(r) print(\"FPS %f\" % clock.fps()) æµ‹è·å’Œæµ‹é‡ç‰©å—å¤§å° ç”±äº OpenMVé‡‡ç”¨çš„æ˜¯å•ç›®æ‘„åƒå¤´ï¼Œæƒ³è¦å®ç°æµ‹è·ï¼Œå°±éœ€è¦é€‰å‚ç…§ç‰©ï¼Œåˆ©ç”¨å‚ç…§ç‰©çš„å¤§å°æ¯”ä¾‹æ¥è®¡ç®—è·ç¦»ã€‚ Lenâˆ1pixelconutLen âˆ \\frac{1}{pixelconut}Lenâˆpixelconut1â€‹&gt;dist=Cpixeldist = \\frac{C}{pixel}dist=pixelCâ€‹å®é™…é•¿åº¦å’Œæ‘„åƒå¤´é‡Œçš„åƒç´ æˆåæ¯” **&gt;** è·ç¦» = ä¸€ä¸ªå¸¸æ•°/ç›´å¾„çš„åƒç´  å…ˆæµ‹å‡ºè¿™ä¸ªå¸¸æ•°çš„å€¼ï¼Œæ€ä¹ˆæµ‹ä¸ç”¨è¯´äº†å§ï¼Œå°±æ˜¯å…ˆè®©çƒè·ç¦»æ‘„åƒå¤´10cmï¼Œæ‰“å°å‡ºæ‘„åƒå¤´é‡Œç›´å¾„çš„åƒç´ å€¼ï¼Œç„¶åç›¸ä¹˜ï¼Œå°±å¾—åˆ°äº†kçš„å€¼ï¼ å°±å¯ä»¥ç®—å‡ºè·ç¦»äº†(=è¿™ä¸ªå¸¸æ•°/æ‘„åƒå¤´é‡Œåƒç´ ç‚¹æ•°) 12345678910111213141516171819202122232425262728293031323334353637383940414243# Measure the distance## This example shows off how to measure the distance through the size in imgage# This example in particular looks for yellow pingpong ball.import sensor, image, time# For color tracking to work really well you should ideally be in a very, very,# very, controlled enviroment where the lighting is constant...yellow_threshold = ( 56, 83, 5, 57, 63, 80)# box_threshold = (40, 80, -4, 21, 14, 51)# red_threshold = (40, 59, 61, 84, 30, 79)# You may need to tweak the above settings for tracking green things...# Select an area in the Framebuffer to copy the color settings.sensor.reset() # Initialize the camera sensor.sensor.set_pixformat(sensor.RGB565) # use RGB565.sensor.set_framesize(sensor.QQVGA) # use QQVGA for speed.sensor.skip_frames(10) # Let new settings take affect.sensor.set_auto_whitebal(False) # turn this off.clock = time.clock() # Tracks FPS.K=5000#the value should be measured# K = 36*10while(True): clock.tick() # Track elapsed milliseconds between snapshots(). img = sensor.snapshot() # Take a picture and return the image. blobs = img.find_blobs([yellow_threshold]) if len(blobs) == 1: # Draw a rect around the blob. b = blobs[0] img.draw_rectangle(b[0:4]) # rect img.draw_cross(b[5], b[6]) # cx, cy Lm = (b[2]+b[3])/2 # åƒç´ ç‚¹æ•° # index 2 is length, 3 is width length = K/Lm # è·ç¦» print(length) #print(clock.fps()) # Note: Your OpenMV Cam runs about half as fast while # connected to your computer. The FPS should increase once disconnected. LCDæ˜¾ç¤º ç”±äºæ­£å¥½æœ‰ä¸ªLCDæ˜¾ç¤ºå±ï¼Œé‚£å°±ä¹Ÿè®°å½•ä¸‹LCDçš„ä»£ç æŠŠ 123456789101112131415# LCD Example## Note: To run this example you will need a LCD Shield for your OpenMV Cam.## The LCD Shield allows you to view your OpenMV Cam's frame buffer on the go.import sensor, image, lcdsensor.reset() # Initialize the camera sensor.sensor.set_pixformat(sensor.RGB565) # or sensor.GRAYSCALEsensor.set_framesize(sensor.QQVGA2) # Special 128x160 framesize for LCD Shield.lcd.init() # Initialize the lcd screen.while(True): lcd.display(sensor.snapshot()) # Take a picture and display the image. ä¸²å£é€šä¿¡ 12345678910111213141516171819202122# UART Control## This example shows how to use the serial port on your OpenMV Cam. Attach pin# P4 to the serial input of a serial LCD screen to see \"Hello World!\" printed# on the serial LCD display.import timefrom pyb import UART# Always pass UART 3 for the UART number for your OpenMV Cam.# The second argument is the UART baud rate. For a more advanced UART control# example see the BLE-Shield driver.uart = UART(3, 19200)while(True): # å‘é€æ•°æ® uart.write(\"Hello World!\\r\") time.sleep(1000) # æ¥æ”¶æ•°æ® if uart.any(): a=uart.readline() print(a) ä¸STM32é€šä¿¡ openmv 1234567891011121314import time,sensor, imagefrom pyb import UARTuart = UART(3, 115200)uart.init(115200, bits=8, parity=None, stop=1)while(True): # ç”±äºæ­£ç‚¹åŸå­æä¾›çš„ä¸²å£é€šä¿¡åè®®éœ€è¦ä»¥\\r\\nç»“å°¾,æ‰€ä»¥,è¿™è¾¹å¿…é¡»ä¹Ÿè¦å†™\\r\\n uart.write(\"Hello World!\\r\\n\") # ä¸­æ–‡å¥½åƒè§£æä¸äº† if uart.any(): a=uart.readline() print(a) main.c 123456789101112131415161718192021222324252627282930313233#include \"led.h\"#include \"delay.h\"#include \"key.h\"#include \"sys.h\"#include \"usart.h\"int main(void)&#123; u16 t; u16 len; u16 times=0; delay_init(); //å»¶æ—¶å‡½æ•°åˆå§‹åŒ– NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2); //è®¾ç½®NVICä¸­æ–­åˆ†ç»„2:2ä½æŠ¢å ä¼˜å…ˆçº§ï¼Œ2ä½å“åº”ä¼˜å…ˆçº§ uart_init(115200); //ä¸²å£åˆå§‹åŒ–ä¸º115200 LED_Init(); //LEDç«¯å£åˆå§‹åŒ– KEY_Init(); //åˆå§‹åŒ–ä¸æŒ‰é”®è¿æ¥çš„ç¡¬ä»¶æ¥å£ while(1)&#123; if(USART_RX_STA&amp;0x8000)&#123; len=USART_RX_STA&amp;0x3fff;//å¾—åˆ°æ­¤æ¬¡æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦ printf(\"Your message is:\\r\\n\\r\\n\"); for(t=0;t&lt;len;t++)&#123; USART_SendData(USART1, USART_RX_BUF[t]);//å‘ä¸²å£1å‘é€æ•°æ® while(USART_GetFlagStatus(USART1,USART_FLAG_TC)!=SET);//ç­‰å¾…å‘é€ç»“æŸ &#125; //printf(\"\\r\\n\\r\\n\");//æ’å…¥æ¢è¡Œ USART_RX_STA=0; &#125;else&#123; times++; if(times%200==0) printf(\"Waiting for input.2333\\r\\n\"); if(times%30==0)LED0=!LED0;//é—ªçƒLED,æç¤ºç³»ç»Ÿæ­£åœ¨è¿è¡Œ. delay_ms(10); &#125; &#125; &#125; æµ‹è¯•ç»“æœï¼ˆæš‚æ—¶è¿˜æ²¡ç†è§£ï¼‰ï¼š è¡¥å……: openmv å‘é€16è¿›åˆ¶æ•° é™„å½•: OpenMVä¸­æ–‡å…¥é—¨æ•™ç¨‹ è§†é¢‘æ•™ç¨‹: Bç«™OpenMVè§†é¢‘æ•™ç¨‹ æ˜Ÿç³å®˜ç½‘ Bç«™çš„æ¸…æ™°åº¦å’ŒåŠ è½½é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œæ˜Ÿç³å®˜ç½‘çš„è¿˜æœ‰é¢å¤–çš„æ•™ç¨‹ï¼ˆä»–å®¶çš„æ‹“å±•ç‰ˆï¼‰ ç”»å›¾ï¼š 12image.draw_line((10,10,20,30), color=(255,0,0))image.draw_rectangle(rect_tuple, color=(255,0,0)) ç”»çº¿ image.draw_line(line_tuple, color=White) åœ¨å›¾åƒä¸­ç”»ä¸€æ¡ç›´çº¿ã€‚ line_tupleçš„æ ¼å¼æ˜¯(x0, y0, x1, y1)ï¼Œæ„æ€æ˜¯(x0, y0)åˆ°(x1, y1)çš„ç›´çº¿ã€‚ é¢œè‰²å¯ä»¥æ˜¯ç°åº¦å€¼(0-255)ï¼Œæˆ–è€…æ˜¯å½©è‰²å€¼(r, g, b)çš„tuppleã€‚é»˜è®¤æ˜¯ç™½è‰² ç”»æ¡† image.draw_rectangle(rect_tuple, color=White) åœ¨å›¾åƒä¸­ç”»ä¸€ä¸ªçŸ©å½¢æ¡†ã€‚ rect_tuple çš„æ ¼å¼æ˜¯ (x, y, w, h)ã€‚ ç”»åœ† image.draw_circle(x, y, radius, color=White) åœ¨å›¾åƒä¸­ç”»ä¸€ä¸ªåœ†ã€‚ x,yæ˜¯åœ†å¿ƒåæ ‡ radiusæ˜¯åœ†çš„åŠå¾„ ç”»åå­— image.draw_cross(x, y, size=5, color=White) åœ¨å›¾åƒä¸­ç”»ä¸€ä¸ªåå­— x,yæ˜¯åæ ‡ sizeæ˜¯ä¸¤ä¾§çš„å°ºå¯¸ å†™å­— image.draw_string(x, y, text, color=White) åœ¨å›¾åƒä¸­å†™å­— 8x10çš„åƒç´  x,yæ˜¯åæ ‡ã€‚ä½¿ç”¨\\n, \\r, and \\r\\nä¼šä½¿å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œã€‚ textæ˜¯è¦å†™çš„å­—ç¬¦ä¸²ã€‚ éœ€è¦è°ƒå‚çš„åœ°æ–¹ï¼š æµ‹å¤§å°çš„å¸¸æ•°k å½¢çŠ¶æ£€æµ‹çš„é˜ˆå€¼ é¢œè‰²è¯†åˆ«çš„é˜ˆå€¼","categories":[],"tags":[{"name":"åµŒå…¥å¼","slug":"åµŒå…¥å¼","permalink":"https://nymrli.top/tags/åµŒå…¥å¼/"}]},{"title":"TD-afterstate","slug":"TD-afterstate","date":"2019-10-03T11:28:36.000Z","updated":"2019-10-03T11:30:03.963Z","comments":true,"path":"2019/10/03/TD-afterstate/","link":"","permalink":"https://nymrli.top/2019/10/03/TD-afterstate/","excerpt":"","text":"TD-afterstate afterstae: å½“å‰æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œåçš„çŠ¶æ€ï¼Œå¯ä»¥ç†è§£ä¸ºä¸­é—´æ€ æ˜¯å¤„ç†é—®é¢˜çš„ä¸€ä¸ªæ”¹åŠ¨,ä¸€ç§æ€æƒ³ ä»¥ä¿„ç½—æ–¯æ–¹å—ä¸ºä¾‹: çŠ¶æ€æ˜¯ç”±å½“å‰çš„å±€é¢å’Œä¸€ä¸ªéšæœºæ–¹å—ç»„æˆï¼Œæ‰§è¡Œä¸€ä¸ªä¸‹è½åŠ¨ä½œä¹‹åä¼šäº§ç”Ÿä¸€ä¸ªå±€é¢å°±ç§°ä¸ºafterstateï¼Œå³åŠ¨ä½œç»“æŸåä¸èƒ½è¿›è¡Œæ–°çš„åŠ¨ä½œï¼ˆæ²¡æœ‰æ–°æ–¹å—ï¼‰çš„çŠ¶æ€ã€‚ ä¸­é—´æ€å’Œä¸‹ä¸€ä¸ªéšæœºæ–¹å—æ„æˆäº†ä¸‹ä¸€ä¸ªçŠ¶æ€ å¯¹äºæ²¡æœ‰è¿™ç§éšæœºæ€§çš„é—®é¢˜ï¼Œafterstateå°±æ˜¯next state tdåšé¢„æµ‹ï¼Œafterstateåšæ§åˆ¶ æ›´å¤š: å¼ºåŒ–å­¦ä¹ ç»å…¸å…¥é—¨ä¹¦çš„è¯»ä¹¦ç¬”è®°ç³»åˆ—â€“ç¬¬å…­ç¯‡Temporal-Difference","categories":[],"tags":[{"name":"RL","slug":"RL","permalink":"https://nymrli.top/tags/RL/"}]},{"title":"gitå‘½ä»¤è¯¦è§£","slug":"gitå‘½ä»¤è¯¦è§£","date":"2019-09-29T09:39:07.000Z","updated":"2019-12-12T10:59:20.655Z","comments":true,"path":"2019/09/29/gitå‘½ä»¤è¯¦è§£/","link":"","permalink":"https://nymrli.top/2019/09/29/gitå‘½ä»¤è¯¦è§£/","excerpt":"","text":"gitå‘½ä»¤è¯¦è§£ è‡ªå·±çš„ä»“åº“ç®¡ç†ï¼š git add &lt;filename&gt; å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºä¸­ (å…¶ä¸­git add.å¯ä»¥å°†å½“å‰ç›®å½•çš„å­ç›®å½•æ–‡ä»¶éƒ½æ·»åŠ åˆ°æš‚å­˜åŒºä¸­) git commit -m &quot;...&quot;: ä¿å­˜ä»“åº“çš„å†å²è®°å½•,å…¶ä¸­ -m &quot;â€¦&quot;æäº¤ä¿¡æ¯(æ¦‚è¿°) git config --global user.name &quot;...&quot;ã€git config --global user.email &quot;...&quot;: é…ç½®æäº¤ä½œè€…ä¿¡æ¯ git log: æŸ¥çœ‹æäº¤æ—¥å¿—(å½“å‰çŠ¶æ€ä¸ºç»ˆç‚¹) ä¼šäº§ç”Ÿç‰ˆæœ¬åº“é‡Œä¸€ç³»åˆ—å•ç‹¬æäº¤çš„å†å² git diff ID1/ID2: æŸ¥çœ‹ç‰ˆæœ¬å·®å¼‚ git mv æ–°åå­—,æ—§åå­— é‡å‘½å: git branch -a [-v] åˆ†æ”¯ä¸€å±•è¡¨, -r æŸ¥çœ‹è¿œç¨‹gitæœåŠ¡å™¨ä¸Šçš„åˆ†æ”¯ git checkout åˆ†æ”¯å: åˆ‡æ¢åˆ†æ”¯ -båˆ›å»º,ä¸”åˆ‡æ¢åˆ°æ–°å»ºåˆ†æ”¯ ç­‰ä»·äºgit branch åˆ†æ”¯å + git checkout åˆ†æ”¯å git branch -d [åˆ†æ”¯åç§°] åˆ é™¤ä¸€ä¸ªåˆ†æ”¯, -dé€‰é¡¹åªèƒ½åˆ é™¤å·²ç»å‚ä¸è¿‡åˆå¹¶çš„åˆ†æ”¯ï¼Œå¯¹äºæœªå‚ä¸åˆå¹¶çš„åˆ†æ”¯æ˜¯æ— æ³•åˆ é™¤çš„ã€‚å¦‚æœæƒ³å¼ºåˆ¶åˆ é™¤ä¸€ä¸ªåˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨-Dé€‰é¡¹ã€ git rest --head ID : é€€å›ä¹‹å‰æäº¤ç‰ˆæœ¬ git status : æŸ¥çœ‹ä»“åº“å½“å‰çŠ¶æ€ï¼› git reflog : æŸ¥çœ‹å½“å‰ä»“åº“çš„æ“ä½œæ—¥å¿— git rebase -i: å‹ç¼©å†å²(å¦‚æœå‡ºç°æ‹¼å†™é”™è¯¯æ—¶éœ€è¦): git rebase -i HEAD~2 git merge --no-f åˆ†æ”¯å : åˆå¹¶åˆ†æ”¯ git remote set-url origin https://github.com/Freedomisgood/NjuptGo.git ä¿®æ”¹ä»“åº“æŒ‡å®šæ–°çš„è¿œç¨‹ä»“åº“ git commit --amend: ä¿®æ”¹ä¸Šæ¬¡commitå¤‡æ³¨ä¿¡æ¯ è¿œç¨‹ä»“åº“ å¦‚æœæœ¬åœ°æ²¡æœ‰ä»“åº“ï¼Œåˆ™clone: git clone http://github.com/xxx/yyy.git åœ¨æœ¬åœ°å¢åŠ è¿œç¨‹ä»“åº“ä¿¡æ¯ï¼šgit remote add apollo3d http://github.com/xxx/yyy.git,æ­¤æ—¶è¿œç¨‹åº“åä¸ºoriginã€apollo3d åˆ é™¤è¿œç¨‹åˆ†æ”¯git push origin --delete kickof git pushä»£ç åˆ°è¿œç¨‹æ–°åˆ†æ”¯ git push origin master:my_remote_new_branch git pull å¦‚æœæœ¬åœ°æœ‰ä»“åº“ï¼Œåˆ™æ‹‰å–æ›´æ–°å‘½ä»¤ä¸º: git pull &lt;è¿œç¨‹åº“å&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt; æ¯”å¦‚ï¼Œå–å›è¿œç¨‹åº“ä¸­çš„onlineåˆ†æ”¯ï¼Œä¸æœ¬åœ°çš„onlineåˆ†æ”¯è¿›è¡Œmergeï¼Œè¦å†™æˆï¼š git pull origin online:online å¦‚æœæ˜¯è¦ä¸æœ¬åœ°å½“å‰åˆ†æ”¯mergeï¼Œåˆ™å†’å·åé¢çš„&lt;æœ¬åœ°åˆ†æ”¯å&gt;å¯ä»¥ä¸å†™ git pull origin online é€šå¸¸ï¼Œgitä¼šå°†æœ¬åœ°åº“åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ä¹‹é—´å»ºç«‹ä¸€ç§è¿½è¸ªå…³ç³»ã€‚æ¯”å¦‚ï¼Œåœ¨git cloneçš„æ—¶å€™ï¼Œæ‰€æœ‰æœ¬åœ°åˆ†æ”¯é»˜è®¤ä¸è¿œç¨‹åº“çš„åŒååˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬åœ°çš„masteråˆ†æ”¯è‡ªåŠ¨è¿½è¸ªorigin/masteråˆ†æ”¯ã€‚å› æ­¤ï¼Œå¦‚æœå½“å‰å¤„äºæœ¬åœ°onlineåˆ†æ”¯ä¸Šï¼Œå¹¶ä¸”æœ¬åœ°onlineåˆ†æ”¯ä¸è¿œç¨‹çš„onlineåˆ†æ”¯æœ‰è¿½è¸ªå…³ç³»ï¼Œé‚£ä¹ˆè¿œç¨‹çš„åˆ†æ”¯åå¯ä»¥çœç•¥ï¼š æ¯”å¦‚ï¼Œå–å›è¿œç¨‹åº“ä¸­çš„onlineåˆ†æ”¯ï¼Œä¸æœ¬åœ°çš„onlineåˆ†æ”¯è¿›è¡Œmergeï¼Œè¦å†™æˆï¼š git pull origin å…¶å®ï¼Œgit pull å‘½ä»¤ç­‰åŒäºå…ˆåšäº†git fetch ï¼Œå†åšäº†git mergeã€‚å³ï¼š 123git fetch origin onlinegit checkout onlinegit merge origin/online git push äºŒ.æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ ï¼ˆä¸€ï¼‰.åˆ›å»ºæœ¬åœ°åˆ†æ”¯git checkout -b æ–°åˆ†æ”¯å ï¼ˆäºŒï¼‰.æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“git push --set-upstream origin åˆ†æ”¯å ä¸‰ã€å°†è¿œç¨‹gitä»“åº“é‡Œçš„æŒ‡å®šåˆ†æ”¯æ‹‰å–åˆ°æœ¬åœ°ï¼ˆæœ¬åœ°ä¸å­˜åœ¨çš„åˆ†æ”¯ï¼‰ git checkout -b æœ¬åœ°åˆ†æ”¯å origin/è¿œç¨‹åˆ†æ”¯å ä¿®æ”¹äº†.gitignoreç”Ÿæ•ˆæŒ‡ä»¤ 123git rm -r --cached . // åˆ é™¤æœ¬åœ°ç¼“å­˜git add . // æ·»åŠ è¦æäº¤çš„æ–‡ä»¶git commit -m &apos;update .gitignore&apos; // æ›´æ–°æœ¬åœ°çš„ç¼“å­˜ å‚è€ƒ Gitè¿œç¨‹æ“ä½œè¯¦è§£:http://www.ruanyifeng.com/blog/2014/06/git_remote.html ä½¿ç”¨gitå°†é¡¹ç›®ä¸Šä¼ åˆ°githubï¼ˆæœ€ç®€å•æ–¹æ³•ï¼‰:https://www.cnblogs.com/cxk1995/p/5800196.html &lt;&lt;Gitå…¥é—¨ä¸å®è·µ&gt;&gt;:æ—¥æœ¬ Gitæ¢å¤ä¹‹å‰ç‰ˆæœ¬çš„ä¸¤ç§æ–¹æ³•resetã€revertï¼ˆå›¾æ–‡è¯¦è§£ï¼‰ é‡‡å‘è®°å½• Q: ä¸å°å¿ƒgit reset --hard HEAD^å¯¼è‡´å·¥ä½œåŒºæ–‡ä»¶å…¨æ²¡äº† A:è§£å†³æ–¹æ¡ˆ: Undo git reset --hard with uncommitted files in the staging area æ¢å¤git reset --hardåˆ é™¤çš„æ–‡ä»¶ æ ¹æ®è¿™ç¯‡åšå®¢æ“ä½œçš„ç»“æœgit cat-file -p ID &gt; a.mdæ˜¯ä¸ªå¯¹æ¯”æ–‡ä»¶ 1234567891011100644 blob cdca566953e3b7b56897b2fa6995129170403212 Q-learning.ipynb100644 blob 47735fcc505315aa61583dad9dc4facb7c00fbdc Q-learning.py100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 __init__.py040000 tree db76babbe2f2df4566b607e732c0c835418f9a83 __pycache__100644 blob debb716313cfbf28c055e89ce4a625a1d7801f5b agents.py100644 blob 30ec43da68efe5eb5e8e31cb431fea981e256b6a approximator.py100644 blob 1e8ac820d62943d16fa56fa981d72e27239527d9 core.py100644 blob a0cfa7ac7f9f15a658ace5c5c7c5bbe73f680502 myringworld.py100644 blob 69cb25ba30f4350454a0e731a70890cbf2530217 ringworld.py100644 blob 5638e012cb1b68783e6cdf45d2e769cca96e591f utils.py100644 blob 96aa662c03d991487e6da8120884b6f647be7202 viewer.py â–³.å…³äºgit reset --hardå¯¼è‡´æ–‡ä»¶ä¸¢å¤±çš„è¡€çš„æ•™è®­â€”â€”äº²æµ‹æœ‰æ•ˆ è§£å†³addäº†ä½†æ²¡æœ‰commitçš„æ–‡ä»¶ï¼Œå¯ä»¥ç”¨ä¸Šè¿°æ–¹æ³•æ‰¾å› 12341. æ‰§è¡Œ git fsck --lost-foundï¼›2. åœ¨.git/lost-foundç›®å½•ä¸‹æ‰¾æ‰¾çœ‹æœ‰æ²¡æœ‰ä½ ä¸¢å¤±çš„æ–‡ä»¶ï¼›3.æœ‰çš„è¯å¤åˆ¶å‡ºæ¥ï¼Œå¦‚æœæ˜¯æ–‡æœ¬ï¼Œç›´æ¥æ”¹æˆæ­£ç¡®æ‰©å±•åï¼Œä½ å°±ç¬‘äº†ï¼›4. æ²¡æœ‰çš„è¯ï¼Œå°±å†å»Googleå§ï¼› åˆ†æ”¯git branchå‚æ•°åŒºåˆ«","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"}]},{"title":"numpyä½¿ç”¨è®°å½•","slug":"numpyä½¿ç”¨è®°å½•","date":"2019-09-28T03:13:29.000Z","updated":"2019-11-27T03:36:08.072Z","comments":true,"path":"2019/09/28/numpyä½¿ç”¨è®°å½•/","link":"","permalink":"https://nymrli.top/2019/09/28/numpyä½¿ç”¨è®°å½•/","excerpt":"","text":"Numpyä½¿ç”¨è®°å½• numpyä¸­çš„random numpy.random.choice(a, size=None, replace=True, p=None) a : å¦‚æœæ˜¯ä¸€ç»´æ•°ç»„ï¼Œå°±è¡¨ç¤ºä»è¿™ä¸ªä¸€ç»´æ•°ç»„ä¸­éšæœºé‡‡æ ·ï¼›å¦‚æœæ˜¯intå‹ï¼Œå°±è¡¨ç¤ºä»0åˆ°a-1è¿™ä¸ªåºåˆ—ä¸­éšæœºé‡‡æ ·ã€‚ size : é‡‡æ ·ç»“æœçš„æ•°é‡ï¼Œé»˜è®¤ä¸º1.å¯ä»¥æ˜¯æ•´æ•°ï¼Œè¡¨ç¤ºè¦é‡‡æ ·çš„æ•°é‡ï¼›ä¹Ÿå¯ä»¥ä¸ºtupleï¼Œå¦‚(m, n, k)ï¼Œåˆ™è¦é‡‡æ ·çš„æ•°é‡ä¸ºm * n * kï¼Œsizeä¸º(m, n, k) replace : booleanå‹ï¼Œé‡‡æ ·çš„æ ·æœ¬æ˜¯å¦è¦æ›´æ¢ï¼Ÿè¿™ä¸ªåœ°æ–¹æˆ‘ä¸å¤ªç†è§£ï¼Œæµ‹äº†ä¸€ä¸‹å‘ç°replaceæŒ‡å®šä¸ºTrueæ—¶ï¼Œé‡‡æ ·çš„å…ƒç´ ä¼šæœ‰é‡å¤ï¼›å½“replaceæŒ‡å®šä¸ºFalseæ—¶ï¼Œé‡‡æ ·ä¸ä¼šé‡å¤ã€‚ p : ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œåˆ¶å®šäº†aä¸­æ¯ä¸ªå…ƒç´ é‡‡æ ·çš„æ¦‚ç‡ï¼Œè‹¥ä¸ºé»˜è®¤çš„Noneï¼Œåˆ™aä¸­æ¯ä¸ªå…ƒç´ è¢«é‡‡æ ·çš„æ¦‚ç‡ç›¸åŒã€‚ 12345678choice(a[, size, replace, p])&gt;&gt;&gt; np.random.choice(5, 3, replace=False)array([3,1,0])&gt;&gt;&gt; #This is equivalent to np.random.permutation(np.arange(5))[:3]# Generate a non-uniform random sample from np.arange(5) of size 3 without replacement:&gt;&gt;&gt; np.random.choice(5, 3, replace=False, p=[0.1, 0, 0.3, 0.6, 0])array([2, 3, 0]) np.random.randint 123np.random.randint(2,5,size=(2,3))# å‡½æ•°åŸå‹randint(low[, high, size])# - è¿”å›éšæœºçš„æ•´æ•°ï¼Œä½äºåŠå¼€åŒºé—´ [low, high)ã€‚ np.random.rand 12345&gt;&gt;&gt; np.random.rand(3,2)array([[ 0.14022471, 0.96360618], #random [ 0.37601032, 0.25528411], #random [ 0.49313049, 0.94909878]]) #random# è·Ÿrandom_sample([size])ã€random([size])å’Œranf([size])ä¸€æ · arrayæ“ä½œ å¹¿æ’­å•¥çš„å°±ä¸ä»‹ç»äº†ï¼Œä¸»è¦æ˜¯ä»‹ç»ä¸€ç‚¹å‡½æ•°æ–¹æ³•çš„ä½¿ç”¨ arrayã€asarrayã€asanyarray 1234567891011121314151617a = np.array([1,2,3])print(a)&gt;&gt;&gt;[1 2 3]c = np.array(a)c[1]=3print(a,c)&gt;&gt;&gt;[1 2 3] [1 3 3]b = np.asarray(a)b[1]=3print(a,b)&gt;&gt;&gt;[1 3 3] [1 3 3]# arrayå’Œasarrayçš„ä¸åŒåœ¨äºarrayå¯¹ç›®æ ‡åšä¸€ä¸ªæ‹·è´ï¼Œè€Œasarrayä¸ä¼š np.asanyarray ä¼šè¿”å› ndarray æˆ–è€…ndarrayçš„å­ç±»ï¼Œè€Œnp.asarray åªè¿”å› ndarray. np.where(cond,x,y)ï¼šæ»¡è¶³æ¡ä»¶ï¼ˆcondï¼‰è¾“å‡ºxï¼Œä¸æ»¡è¶³è¾“å‡ºy è¿™ä¸ªå‡½æ•°éå¸¸æœ‰ç”¨ï¼Œéå¸¸é¦™ï¼Œä½†æ˜¯ä»–çš„å‚æ•°éœ€è¦narray é™ç»´ 1234567891011a = np.array([[ 0, 1, 2, 3, 4], [ 5, 6, 7, 8, 9], [10, 11, 12, 13, 14], [15, 16, 17, 18, 19]])# æ³•ä¸€ï¼šravelprint(a.ravel())# æ³•äºŒï¼šflattenprint(a.flatten())# æ³•ä¸‰ï¼šreshape([1,-1])print(a.reshape([1,-1])) â–²å‚æ•°-1è®²è§£ï¼šä¸€ä¸ªå‚æ•°ä¸º-1æ—¶ï¼Œé‚£ä¹ˆreshapeå‡½æ•°ä¼šæ ¹æ®å¦ä¸€ä¸ªå‚æ•°çš„ç»´åº¦è®¡ç®—å‡ºæ•°ç»„çš„å¦å¤–ä¸€ä¸ªshapeå±æ€§å€¼ [â€¦]è¯­æ³•ç®€å•ä½¿ç”¨ åœ¨åˆ‡ç‰‡ä¸­...è·Ÿ:çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ç¼ºçœé»˜è®¤å–æ‰€æœ‰çš„æ„æ€ 123# ä¸¤è€…ç­‰ä»·print(a[:,2])print(a[...,2])","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"}]},{"title":"Python random","slug":"Python-random","date":"2019-09-27T14:11:59.000Z","updated":"2019-09-29T09:01:11.576Z","comments":true,"path":"2019/09/27/Python-random/","link":"","permalink":"https://nymrli.top/2019/09/27/Python-random/","excerpt":"","text":"Python random è€æ˜¯å¿˜è®°randomä¸­æ¯ä¸ªå‡½æ•°ä¹‹é—´çš„åŒºåˆ«ï¼Œè€Œä¸”å¸¸å¸¸è·Ÿnumpyé‡Œçš„randomä¹Ÿç»å¸¸ææ··ï¼Œå› æ­¤è¿˜æ˜¯å†™ç¯‡æ–‡ç« è®°ä¸€ä¸‹å§ã€‚ randomæ¨¡å— choiceå’Œsample pythonä¸­random.choice()å¯ä»¥ä»ç»™å®šçš„å¯è¿­ä»£å¯¹è±¡ä¸­éšæœºæŒ‘é€‰å‡ºä¸€ä¸ªã€‚ è€Œpythonä¸­random.sample()æ–¹æ³•åˆ™å¯ä»¥éšæœºåœ°ä»ç»™å®šçš„å¯è¿­ä»£å¯¹è±¡ä¸­æå–å‡ºNä¸ªä¸åŒçš„å…ƒç´ ï¼Œåˆ—è¡¨çš„ç»´æ•°æ²¡æœ‰é™åˆ¶ã€‚ï¼ˆå³ç¬¬äºŒå‚æ•°ç»™å‡ºä¸ªæ•°Nï¼‰ 1234567891011import randomprint(random.sample([chr(97 + x) for x in range(int(9))],2))# å‡½æ•°åŸå‹sample(self, population, k)&gt;&gt;&gt; ['e', 'c']# ---print( random.randint(1,10) ) # äº§ç”Ÿ 1 åˆ° 10 çš„ä¸€ä¸ªæ•´æ•°å‹éšæœºæ•° print( random.random() ) # äº§ç”Ÿ 0 åˆ° 1 ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°print( random.uniform(1.1,5.4) ) # äº§ç”Ÿ 1.1 åˆ° 5.4 ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°ï¼ŒåŒºé—´å¯ä»¥ä¸æ˜¯æ•´æ•°print( random.choice('tomorrow') ) # ä»åºåˆ—ä¸­éšæœºé€‰å–ä¸€ä¸ªå…ƒç´ # å‡½æ•°åŸå‹def choice(self, seq)print( random.randrange(1,100,2) ) # ç”Ÿæˆä»1åˆ°100çš„é—´éš”ä¸º2çš„éšæœºæ•´æ•° shuffle æ­£å¦‚å­—é¢æ‰€ç¤ºï¼Œä¹Ÿå°±æ˜¯æ‰“ä¹±çš„æ„æ€ 1234a=[1,3,5,6,7] # å°†åºåˆ—aä¸­çš„å…ƒç´ é¡ºåºæ‰“ä¹±random.shuffle(a)print(a)&gt;&gt;&gt; [1, 6, 7, 3, 5] numpyä¸­çš„random numpy.random.choice(a, size=None, replace=True, p=None) a : å¦‚æœæ˜¯ä¸€ç»´æ•°ç»„ï¼Œå°±è¡¨ç¤ºä»è¿™ä¸ªä¸€ç»´æ•°ç»„ä¸­éšæœºé‡‡æ ·ï¼›å¦‚æœæ˜¯intå‹ï¼Œå°±è¡¨ç¤ºä»0åˆ°a-1è¿™ä¸ªåºåˆ—ä¸­éšæœºé‡‡æ ·ã€‚ size : é‡‡æ ·ç»“æœçš„æ•°é‡ï¼Œé»˜è®¤ä¸º1.å¯ä»¥æ˜¯æ•´æ•°ï¼Œè¡¨ç¤ºè¦é‡‡æ ·çš„æ•°é‡ï¼›ä¹Ÿå¯ä»¥ä¸ºtupleï¼Œå¦‚(m, n, k)ï¼Œåˆ™è¦é‡‡æ ·çš„æ•°é‡ä¸ºm * n * kï¼Œsizeä¸º(m, n, k) replace : booleanå‹ï¼Œé‡‡æ ·çš„æ ·æœ¬æ˜¯å¦è¦æ›´æ¢ï¼Ÿè¿™ä¸ªåœ°æ–¹æˆ‘ä¸å¤ªç†è§£ï¼Œæµ‹äº†ä¸€ä¸‹å‘ç°replaceæŒ‡å®šä¸ºTrueæ—¶ï¼Œé‡‡æ ·çš„å…ƒç´ ä¼šæœ‰é‡å¤ï¼›å½“replaceæŒ‡å®šä¸ºFalseæ—¶ï¼Œé‡‡æ ·ä¸ä¼šé‡å¤ã€‚ p : ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œåˆ¶å®šäº†aä¸­æ¯ä¸ªå…ƒç´ é‡‡æ ·çš„æ¦‚ç‡ï¼Œè‹¥ä¸ºé»˜è®¤çš„Noneï¼Œåˆ™aä¸­æ¯ä¸ªå…ƒç´ è¢«é‡‡æ ·çš„æ¦‚ç‡ç›¸åŒã€‚ 12345678choice(a[, size, replace, p])&gt;&gt;&gt; np.random.choice(5, 3, replace=False)array([3,1,0])&gt;&gt;&gt; #This is equivalent to np.random.permutation(np.arange(5))[:3]# Generate a non-uniform random sample from np.arange(5) of size 3 without replacement:&gt;&gt;&gt; np.random.choice(5, 3, replace=False, p=[0.1, 0, 0.3, 0.6, 0])array([2, 3, 0]) np.random.randint 123np.random.randint(2,5,size=(2,3))# å‡½æ•°åŸå‹randint(low[, high, size])# - è¿”å›éšæœºçš„æ•´æ•°ï¼Œä½äºåŠå¼€åŒºé—´ [low, high)ã€‚ np.random.rand 12345&gt;&gt;&gt; np.random.rand(3,2)array([[ 0.14022471, 0.96360618], #random [ 0.37601032, 0.25528411], #random [ 0.49313049, 0.94909878]]) #random# è·Ÿrandom_sample([size])ã€random([size])å’Œranf([size])ä¸€æ · â–²éœ€è¦æ³¨æ„çš„æ˜¯np.random.randintå’Œrandom.randintçš„åŒºé—´ä¸åŒï¼Œå‰è€…å·¦é—­å³å¼€()ï¼Œåè€…å·¦å³éƒ½æ˜¯é—­åŒºé—´[]â–²","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"OpenAI Gymä½¿ç”¨ã€renderingç”»å›¾","slug":"OpenAI-Gymä½¿ç”¨","date":"2019-09-26T09:53:27.000Z","updated":"2019-10-07T10:01:00.137Z","comments":true,"path":"2019/09/26/OpenAI-Gymä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/09/26/OpenAI-Gymä½¿ç”¨/","excerpt":"","text":"OpenAI Gymä½¿ç”¨ã€renderingç”»å›¾ gymå¼€æºåº“ï¼šåŒ…å«ä¸€ä¸ªæµ‹è¯•é—®é¢˜é›†ï¼Œæ¯ä¸ªé—®é¢˜æˆä¸ºç¯å¢ƒï¼ˆenvironmentï¼‰ï¼Œå¯ä»¥ç”¨äºè‡ªå·±çš„RLç®—æ³•å¼€å‘ã€‚è¿™äº›ç¯å¢ƒæœ‰å…±äº«çš„æ¥å£ï¼Œå…è®¸ç”¨æˆ·è®¾è®¡é€šç”¨çš„ç®—æ³•ã€‚å…¶åŒ…å«äº†deep mind ä½¿ç”¨çš„Atariæ¸¸æˆæµ‹è¯•åºŠã€‚ åœ¨å¼ºåŒ–å­¦ä¹ ä¸­æœ‰2ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯ç¯å¢ƒï¼ˆenvironmentï¼‰ï¼Œç§°ä¸ºå¤–éƒ¨ä¸–ç•Œï¼Œå¦ä¸€ä¸ªä¸ºæ™ºèƒ½ä½“agentï¼ˆå†™çš„ç®—æ³•ï¼‰ã€‚agentå‘é€actionè‡³environmentï¼Œenvironmentè¿”å›è§‚å¯Ÿå’Œå›æŠ¥ã€‚ Gymå®˜æ–¹æ–‡æ¡£ Hello gym 123456789import gym# åˆ›å»ºä¸€ä¸ªå°è½¦å€’ç«‹æ‘†æ¨¡å‹env = gym.make(â€˜CartPole-v0â€™)# åˆå§‹åŒ–ç¯å¢ƒenv.reset()# åˆ·æ–°å½“å‰ç¯å¢ƒï¼Œå¹¶æ˜¾ç¤ºfor _ in range(1000): env.render() env.step(env.action_space.sample()) # take a random action è®¾è®¡ç†å¿µå›¾,ä¸€ä¸ªç¯å¢ƒçš„stepå‡½æ•°è¿”å›éœ€è¦çš„ä¿¡æ¯ï¼Œæœ‰4ç§è¿”å›å€¼ observation reward done :åˆ¤æ–­æ˜¯å¦åˆ°äº†é‡æ–°è®¾å®š(reset)ç¯å¢ƒ info :ç”¨äºè°ƒè¯•çš„è¯Šæ–­ä¿¡æ¯ï¼Œæœ‰æ—¶ä¹Ÿç”¨äºå­¦ä¹ ï¼Œä½†æ™ºèƒ½ä½“ï¼ˆagent ï¼‰åœ¨æ­£å¼çš„è¯„ä»·ä¸­ä¸å…è®¸ä½¿ç”¨è¯¥ä¿¡æ¯è¿›è¡Œå­¦ä¹ ã€‚ è¯¥è¿›ç¨‹é€šè¿‡è°ƒç”¨reset()æ¥å¯åŠ¨ï¼Œå®ƒè¿”å›ä¸€ä¸ªåˆå§‹observationã€‚ æ‰€ä»¥ä¹‹å‰ä»£ç çš„æ›´æ°å½“çš„æ–¹æ³•æ˜¯éµå®ˆdoneçš„æ ‡å¿—ï¼š ç©ºé—´ï¼ˆSpacesï¼‰ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå·²ç»ä»ç¯å¢ƒçš„åŠ¨ä½œç©ºé—´ä¸­æŠ½å–éšæœºåŠ¨ä½œã€‚ä½†è¿™äº›è¡ŒåŠ¨ç©¶ç«Ÿæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æ¯ä¸ªç¯å¢ƒéƒ½å¸¦æœ‰action_space å’Œobservation_spaceå¯¹è±¡ã€‚è¿™äº›å±æ€§æ˜¯Spaceç±»å‹ï¼Œå®ƒä»¬æè¿°æ ¼å¼åŒ–çš„æœ‰æ•ˆçš„è¡ŒåŠ¨å’Œè§‚å¯Ÿã€‚ 1234567import gymenv = gym.make('CartPole-v0')# ç¦»æ•£ç©ºé—´å…è®¸å›ºå®šèŒƒå›´çš„éè´Ÿæ•°ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰æ•ˆçš„åŠ¨ä½œæ˜¯0æˆ–1. print(env.action_space)#&gt; Discrete(2)print(env.observation_space)#&gt; Box(4,) Boxç©ºé—´è¡¨ç¤ºä¸€ä¸ªnç»´boxï¼Œæ‰€ä»¥æœ‰æ•ˆçš„è§‚å¯Ÿå°†æ˜¯4ä¸ªæ•°å­—çš„æ•°ç»„ã€‚ ä¹Ÿå¯ä»¥æ£€æŸ¥Boxçš„èŒƒå›´ï¼š 1234print(env.observation_space.high)#&gt; array([ 2.4 , inf, 0.20943951, inf])print(env.observation_space.low)#&gt; array([-2.4 , -inf, -0.20943951, -inf]) è¿™ç§å†…çœå¯ä»¥å¸®åŠ©ç¼–å†™é€‚ç”¨äºè®¸å¤šä¸åŒç¯å¢ƒçš„é€šç”¨ä»£ç ã€‚boxå’Œdiscreteæ˜¯æœ€å¸¸è§çš„ç©ºé—´ã€‚ä½ å¯ä»¥ä»ä¸€ä¸ªç©ºé—´ä¸­å–æ ·ï¼Œæˆ–è€…æ£€æŸ¥æŸç‰©æ˜¯å¦å±äºå®ƒï¼š 12345from gym import spacesspace = spaces.Discrete(8) # Set with 8 elements &#123;0, 1, 2, ..., 7&#125;x = space.sample()assert space.contains(x)assert space.n == 8 Env.renderç”»å›¾ å‚è€ƒGym ç®€å•ç”»å›¾ 123456789101112131415161718192021222324252627282930313233# é¦–å…ˆï¼Œå¯¼å…¥åº“æ–‡ä»¶ï¼ˆåŒ…æ‹¬gymæ¨¡å—å’Œgymä¸­çš„æ¸²æŸ“æ¨¡å—ï¼‰import gymfrom gym.envs.classic_control import rendering# æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªç±»ï¼Œè¯¥ç±»ç»§æ‰¿ gym.Env. åŒæ—¶ï¼Œå¯ä»¥æ·»åŠ å…ƒæ•°æ®ï¼Œæ”¹å˜æ¸²æŸ“ç¯å¢ƒæ—¶çš„å‚æ•°class Test(gym.Env): # å¦‚æœä½ ä¸æƒ³æ”¹å‚æ•°ï¼Œä¸‹é¢å¯ä»¥ä¸ç”¨å†™ metadata = &#123; 'render.modes': ['human', 'rgb_array'], 'video.frames_per_second': 2 &#125;# æˆ‘ä»¬åœ¨åˆå§‹å‡½æ•°ä¸­å®šä¹‰ä¸€ä¸ª viewer ï¼Œå³ç”»æ¿ def __init__(self): self.viewer = rendering.Viewer(600, 400) # 600x400 æ˜¯ç”»æ¿çš„é•¿å’Œæ¡† # ç»§æ‰¿Env renderå‡½æ•° def render(self, mode='human', close=False): # ä¸‹é¢å°±å¯ä»¥å®šä¹‰ä½ è¦ç»˜ç”»çš„å…ƒç´ äº† line1 = rendering.Line((100, 300), (500, 300)) line2 = rendering.Line((100, 200), (500, 200)) # ç»™å…ƒç´ æ·»åŠ é¢œè‰² line1.set_color(0, 0, 0) line2.set_color(0, 0, 0) # æŠŠå›¾å½¢å…ƒç´ æ·»åŠ åˆ°ç”»æ¿ä¸­ self.viewer.add_geom(line1) self.viewer.add_geom(line2) return self.viewer.render(return_rgb_array=mode == 'rgb_array') # æœ€åè¿è¡Œif __name__ == '__main__': t = Test() while True: t.render() â–³.å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”»æ¿çš„æ°´å¹³æ–¹å‘æ˜¯ x è½´ï¼Œ å‚ç›´æ–¹å‘æ˜¯ y è½´ï¼Œ ä¸”åŸç‚¹åœ¨å·¦ä¸‹è§’ ç”»ä¸ªåœ† 1234567891011def render(self, mode='human', close=False): # ç”»ä¸€ä¸ªç›´å¾„ä¸º 30 çš„å›­ circle = rendering.make_circle(30) # æ·»åŠ ä¸€ä¸ªå¹³ç§»æ“ä½œ circle_transform = rendering.Transform(translation=(100, 200)) # è®©åœ†æ·»åŠ å¹³ç§»è¿™ä¸ªå±æ€§, circle.add_attr(circle_transform) self.viewer.add_geom(circle) return self.viewer.render(return_rgb_array=mode == 'rgb_array') â–³æ³¨æ„.æ˜¯åœ†å¿ƒåœ¨å¹³ç§» RingViewr ç ”ç©¶ringsæ—¶å†™çš„render 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131import gymfrom gym.envs.classic_control import renderingimport timeimport numpy as npimport randomclass ringViewer(rendering.Viewer): ''' ç”»æ¿,ç›´æ¥ç»§æ‰¿è‡ªrendering.Viewer ''' def __init__(self,width, height, display=None): super(ringViewer, self).__init__(width, height, display=None) @staticmethod def pos2loc(pos=0): ''' æ ¹æ®ä½ç½®ç´¢å¼•ç¡®å®šç”»å›¾åæ ‡ :param pos: ä½ç½®ç´¢å¼•0-9 :return: loc ''' pass @staticmethod def getSize(size): ''' è®¾ç½®ç”»åœ†çš„åŠå¾„ :param size:[0-2] :return: radius ''' pass @staticmethod def getColor(c=0): ''' æ ¹æ®é¢œè‰²ç´¢å¼•é€‰æ‹©åœ†åœˆé¢œè‰² :param c: :return: list ''' pass def drawNewring(self, newring:list=None): ''' ç”»æ–°ç”Ÿæˆçš„åœ† :param newring: :return: ''' for i in range(len(newring)): if newring[i] != 0: ring = rendering.make_circle(radius=self.getSize(i), res=50, filled=False) r, g, b = self.getColor(newring[i]) ring.set_color(r, g, b) ring_transform = rendering.Transform(translation=(150,30)) ring.add_attr(ring_transform) self.add_geom(ring) def _drawQG(self, qgs: list=None): ''' ç”»æ£‹ç›˜ä¸Šå„ä¸ªæ£‹æ ¼çš„åœ†åœˆ :param qgs: :return: None ''' for num,qg in enumerate(qgs): for i in range(len(qg)): if qg[i] != 0: ring = rendering.make_circle(radius=self.getSize(i), res = 50, filled=False) r, g, b = self.getColor(qg[i]) ring.set_color(r, g, b) ring_transform = rendering.Transform(translation=self.pos2loc(num)) ring.add_attr(ring_transform) self.add_geom(ring) def getQG(self, qg: list=None): ''' å°†len=27çš„listè½¬æ¢ä¸º[[],[],...] :param qg: (27,1)çš„list :return: (9,1)çš„list ''' qgs = [] for x in range(3): for y in range(3): tmp = [] for z in range(3): tmp.append(qg[9*x+3*y+z]) qgs.append(tmp) self._drawQG(qgs)class Testenv(gym.Env): # å¦‚æœä½ ä¸æƒ³æ”¹å‚æ•°ï¼Œä¸‹é¢å¯ä»¥ä¸ç”¨å†™ metadata = &#123; 'render.modes': ['human', 'rgb_array'], 'video.frames_per_second': 2 &#125; def __init__(self): self.viewer = ringViewer(300, 400) # 600x400 æ˜¯ç”»æ¿çš„é•¿å’Œæ¡† self.state:list = [] self.state:list = [] def setState(self, state): self.state = state def setNewring(self, newring=None): self.newring = newring def render(self, mode='human', close=False): # ç”±äºæ²¡æœ‰æ‰¾åˆ°vieweræºç ä¸­åˆ é™¤ç»„ä»¶çš„ä»£ç ,äºæ˜¯æ¯æ¬¡åœ¨æ¸²æŸ“å‰ æ¸…ç©ºä¸Šä¸€æ¬¡geomså’Œonetime_geomsåˆ—è¡¨ æ¥è¾¾åˆ°æ¶ˆé™¤çš„ç›®çš„ if self.state.any(): self.viewer.geoms.clear() self.viewer.onetime_geoms.clear() self.viewer.getQG(self.state) if self.newring: self.viewer.drawNewring(self.newring) return self.viewer.render(return_rgb_array=mode == 'rgb_array')if __name__ == '__main__': v = Testenv() while True: v.setState(np.random.randint(0,6,(27))) v.setNewring([random.randint(0,5) for x in range(3)]) print(v.state) print(v.newring) v.render() time.sleep(2) â–³.ç”±äºæ²¡æœ‰æ‰¾åˆ°vieweræºç ä¸­åˆ é™¤ç»„ä»¶çš„ä»£ç ,äºæ˜¯æ¯æ¬¡åœ¨æ¸²æŸ“å‰ æ¸…ç©ºä¸Šä¸€æ¬¡geomså’Œonetime_geomsåˆ—è¡¨ æ¥è¾¾åˆ°æ¶ˆé™¤çš„ç›®çš„ æ•ˆæœå›¾å¦‚ä¸‹ æ·±å…¥å‰–ægymç¯å¢ƒæ„å»º[è½¬] ç”±äºè¯¥åšå®¢çš„ä»£ç å±•ç¤ºå®åœ¨å¤ªä¹±,äºæ˜¯é‡æ–°å¸®ä»–æ’ç‰ˆäº†ä¸€ä¸‹ æˆ‘ä»¬ç»§ç»­è®²ï¼Œä»ç¬¬1å°èŠ‚çš„å°¾å·´å¼€å§‹ã€‚æœ‰ä¸‰ä¸ªé‡è¦çš„å‡½æ•°ï¼š env = gym.make(â€˜CartPole-v0â€™) env.reset() env.render() ç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯åˆ›å»ºç¯å¢ƒï¼Œæˆ‘ä»¬ä¼šåœ¨ç¬¬3å°èŠ‚å…·ä½“è®²å¦‚ä½•åˆ›å»ºè‡ªå·±çš„ç¯å¢ƒï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°æš‚æ—¶ä¸è®²ã€‚ç¬¬äºŒä¸ªå‡½æ•°env.reset()å’Œç¬¬ä¸‰ä¸ªå‡½æ•°env.render()æ˜¯æ¯ä¸ªç¯å¢ƒæ–‡ä»¶éƒ½åŒ…å«çš„å‡½æ•°ã€‚æˆ‘ä»¬ä»¥cartpoleä¸ºä¾‹ï¼Œå¯¹è¿™ä¸¤ä¸ªå‡½æ•°è¿›è¡Œè®²è§£ã€‚ Cartpoleçš„ç¯å¢ƒæ–‡ä»¶åœ¨~ä½ çš„gymç›®å½•/gym/envs/classic_control/cartpole.py. è¯¥æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªCartPoleEnvçš„ç¯å¢ƒç±»ï¼Œè¯¥ç±»çš„æˆå‘˜å‡½æ•°æœ‰ï¼šseed(), step(),reset()å’Œrender(). ç¬¬1å°èŠ‚è°ƒç”¨çš„å°±æ˜¯CartPoleEnvçš„ä¸¤ä¸ªæˆå‘˜å‡½æ•°reset()å’Œrender()ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å…ˆè®²è®²è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œå†ä»‹ç»step()å‡½æ•° 2.1 reset()å‡½æ•°è¯¦è§£ reset()ä¸ºé‡æ–°åˆå§‹åŒ–å‡½æ•°ã€‚é‚£ä¹ˆè¿™ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ åœ¨å¼ºåŒ–å­¦ä¹ ç®—æ³•ä¸­ï¼Œæ™ºèƒ½ä½“éœ€è¦ä¸€æ¬¡æ¬¡åœ°å°è¯•ï¼Œç´¯ç§¯ç»éªŒï¼Œç„¶åä»ç»éªŒä¸­å­¦åˆ°å¥½çš„åŠ¨ä½œã€‚ä¸€æ¬¡å°è¯•æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€æ¡è½¨è¿¹æˆ–ä¸€ä¸ªepisode. æ¯æ¬¡å°è¯•éƒ½è¦åˆ°è¾¾ç»ˆæ­¢çŠ¶æ€. ä¸€æ¬¡å°è¯•ç»“æŸåï¼Œæ™ºèƒ½ä½“éœ€è¦ä»å¤´å¼€å§‹ï¼Œè¿™å°±éœ€è¦æ™ºèƒ½ä½“å…·æœ‰é‡æ–°åˆå§‹åŒ–çš„åŠŸèƒ½ã€‚å‡½æ•°reset()å°±æ˜¯è¿™ä¸ªä½œç”¨ã€‚ reset()çš„æºä»£ç ä¸ºï¼š 1234567def _reset() # åˆ©ç”¨å‡åŒ€éšæœºåˆ†å¸ƒåˆè¯•åŒ–ç¯å¢ƒçš„çŠ¶æ€ self.state = self.np_random.uniform(low=-0.05, high=0.05, size=(4,)) # è®¾ç½®å½“å‰æ­¥æ•°ä¸ºNone self.steps_beyond_done = None # è¿”å›ç¯å¢ƒçš„åˆå§‹åŒ–çŠ¶æ€ return np.array(self.state) 2.2 render()å‡½æ•°è¯¦è§£ render()å‡½æ•°åœ¨è¿™é‡Œæ‰®æ¼”å›¾åƒå¼•æ“çš„è§’è‰²ã€‚ä¸€ä¸ªä»¿çœŸç¯å¢ƒå¿…ä¸å¯å°‘çš„ä¸¤éƒ¨åˆ†æ˜¯ç‰©ç†å¼•æ“å’Œå›¾åƒå¼•æ“ã€‚ç‰©ç†å¼•æ“æ¨¡æ‹Ÿç¯å¢ƒä¸­ç‰©ä½“çš„è¿åŠ¨è§„å¾‹ï¼›å›¾åƒå¼•æ“ç”¨æ¥æ˜¾ç¤ºç¯å¢ƒä¸­çš„ç‰©ä½“å›¾åƒã€‚å…¶å®ï¼Œå¯¹äºå¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œè¯¥å‡½æ•°å¯ä»¥æ²¡æœ‰ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ä¾¿äºç›´è§‚æ˜¾ç¤ºå½“å‰ç¯å¢ƒä¸­ç‰©ä½“çš„çŠ¶æ€ï¼Œå›¾åƒå¼•æ“è¿˜æ˜¯æœ‰å¿…è¦çš„ã€‚å¦å¤–ï¼ŒåŠ å…¥å›¾åƒå¼•æ“å¯ä»¥æ–¹ä¾¿æˆ‘ä»¬è°ƒè¯•ä»£ç ã€‚ä¸‹é¢å…·ä½“ä»‹ç»gymå¦‚ä½•åˆ©ç”¨å›¾åƒå¼•æ“æ¥åˆ›å»ºå›¾åƒã€‚ æˆ‘ä»¬ç›´æ¥çœ‹æºä»£ç ï¼š 123456789101112131415from gym.envs.classic_control import rendering# è¿™ä¸€å¥å¯¼å…¥renderingæ¨¡å—ï¼Œåˆ©ç”¨renderingæ¨¡å—ä¸­çš„ç”»å›¾å‡½æ•°è¿›è¡Œå›¾å½¢çš„ç»˜åˆ¶class myenv(gym.Env) def _render(self, mode=â€™humanâ€™, close=False): if close: pass #çœç•¥ï¼Œç›´æ¥çœ‹å…³é”®ä»£ç éƒ¨åˆ† if self.viewer is None: # å¦‚ç»˜åˆ¶600*400çš„çª—å£å‡½æ•°ä¸ºï¼š self.viewer = rendering.Viewer(screen_width, screen_height) # å…¶ä¸­screen_width=600ï¼Œ screen_height=400 # åˆ›å»ºå°è½¦çš„ä»£ç ä¸ºï¼š l,r,t,b = -cartwidth/2, cartwidth/2, cartheight/2, -cartheight/2 axleoffset =cartheight/4.0 cart = rendering.FilledPolygon([(l,b), (l,t), (r,t), (r,b)]) # å…¶ä¸­rendering.FilledPolygonä¸ºå¡«å……ä¸€ä¸ªçŸ©å½¢ã€‚ åˆ›å»ºå®Œcartçš„å½¢çŠ¶ï¼Œæ¥ä¸‹æ¥ç»™cartæ·»åŠ å¹³ç§»å±æ€§å’Œæ—‹è½¬å±æ€§ã€‚å°†è½¦çš„ä½ç§»è®¾ç½®åˆ°cartçš„å¹³ç§»å±æ€§ä¸­ï¼Œcartå°±ä¼šæ ¹æ®ç³»ç»Ÿçš„çŠ¶æ€å˜åŒ–å·¦å³è¿åŠ¨ã€‚å…·ä½“ä»£ç è§£é‡Šï¼Œæˆ‘å·²ä¸Šä¼ åˆ°githubä¸Šé¢äº†ï¼Œgxnk/reinforcement-learning-code ã€‚æƒ³æ·±å…¥äº†è§£çš„åŒå­¦å¯å»ä¸‹è½½å­¦ä¹ ã€‚ 2.3 step()å‡½æ•°è¯¦è§£ è¯¥å‡½æ•°åœ¨ä»¿çœŸå™¨ä¸­æ‰®æ¼”ç‰©ç†å¼•æ“çš„è§’è‰²ã€‚å…¶è¾“å…¥æ˜¯åŠ¨ä½œaï¼Œè¾“å‡ºæ˜¯ï¼šä¸‹ä¸€æ­¥çŠ¶æ€ï¼Œç«‹å³å›æŠ¥ï¼Œæ˜¯å¦ç»ˆæ­¢ï¼Œè°ƒè¯•é¡¹ã€‚ è¯¥å‡½æ•°æè¿°äº†æ™ºèƒ½ä½“ä¸ç¯å¢ƒäº¤äº’çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ˜¯ç¯å¢ƒæ–‡ä»¶ä¸­æœ€é‡è¦çš„å‡½æ•°ã€‚åœ¨è¯¥å‡½æ•°ä¸­ï¼Œä¸€èˆ¬åˆ©ç”¨æ™ºèƒ½ä½“çš„è¿åŠ¨å­¦æ¨¡å‹å’ŒåŠ¨åŠ›å­¦æ¨¡å‹è®¡ç®—ä¸‹ä¸€æ­¥çš„çŠ¶æ€å’Œç«‹å³å›æŠ¥ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç»ˆæ­¢çŠ¶æ€ã€‚ æˆ‘ä»¬ç›´æ¥çœ‹æºä»£ç ï¼š 12345678910111213141516def _step(self, action): assert self.action_space.contains(action), \"%r (%s) invalid\"%(action, type(action)) state = self.state x, x_dot, theta, theta_dot = state #ç³»ç»Ÿçš„å½“å‰çŠ¶æ€ force = self.force_mag if action==1 else -self.force_mag #è¾“å…¥åŠ¨ä½œï¼Œå³ä½œç”¨åˆ°è½¦ä¸Šçš„åŠ› costheta = math.cos(theta) #ä½™å¼¦å‡½æ•° sintheta = math.sin(theta) #æ­£å¼¦å‡½æ•° #åº•ä¸‹æ˜¯è½¦æ‘†çš„åŠ¨åŠ›å­¦æ–¹ç¨‹å¼ï¼Œå³åŠ é€Ÿåº¦ä¸åŠ¨ä½œä¹‹é—´çš„å…³ç³»ã€‚ temp = (force + self.polemass_length * theta_dot * theta_dot * sintheta) / self.total_mass thetaacc = (self.gravity * sintheta - costheta* temp) / (self.length * (4.0/3.0 - self.masspole * costheta * costheta / self.total_mass)) #æ‘†çš„è§’åŠ é€Ÿåº¦ xacc = temp - self.polemass_length * thetaacc * costheta / self.total_mass #å°è½¦çš„å¹³ç§»åŠ é€Ÿ x = x + self.tau * x_dot x_dot = x_dot + self.tau * xacc theta = theta + self.tau * theta_dot theta_dot = theta_dot + self.tau * thetaacc #ç§¯åˆ†æ±‚ä¸‹ä¸€æ­¥çš„çŠ¶æ€ self.state = (x,x_dot,theta,theta_dot) 2.4 ä¸€ä¸ªç®€å•çš„demo ä¸‹é¢ï¼Œæˆ‘ç»™å‡ºä¸€ä¸ªæœ€ç®€å•çš„demoï¼Œè®©å¤§å®¶ä½“ä¼šä¸€ä¸‹ä¸Šé¢ä¸‰ä¸ªå‡½æ•°å¦‚ä½•ä½¿ç”¨ã€‚ 1234567891011121314151617181920import gymimport timeenv = gym.make('CartPole-v0') #åˆ›é€ ç¯å¢ƒobservation = env.reset() #åˆå§‹åŒ–ç¯å¢ƒï¼Œobservationä¸ºç¯å¢ƒçŠ¶æ€count = 0for t in range(100): action = env.action_space.sample() #éšæœºé‡‡æ ·åŠ¨ä½œ observation, reward, done, info = env.step(action) #ä¸ç¯å¢ƒäº¤äº’ï¼Œè·å¾—ä¸‹ä¸€æ­¥çš„æ—¶åˆ» if done: break env.render() #ç»˜åˆ¶åœºæ™¯ count+=1 time.sleep(0.2) #æ¯æ¬¡ç­‰å¾…0.2s print(count) #æ‰“å°è¯¥æ¬¡å°è¯•çš„æ­¥æ•° ç¬¬3å°èŠ‚ï¼šåˆ›å»ºè‡ªå·±çš„gymç¯å¢ƒå¹¶åˆ©ç¤ºä¾‹qlearningçš„æ–¹æ³• åœ¨ä¸Šä¸€å°èŠ‚ä¸­ä»¥cartpoleä¸ºä¾‹å­æ·±å…¥å‰–æäº†gymç¯å¢ƒæ–‡ä»¶çš„é‡è¦ç»„æˆã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªgymç¯å¢ƒæœ€å°‘çš„ç»„æˆéœ€è¦åŒ…æ‹¬reset()å‡½æ•°å’Œstep()å‡½æ•°ã€‚å½“ç„¶ï¼Œå›¾åƒæ˜¾ç¤ºå‡½æ•°render()ä¸€èˆ¬ä¹Ÿæ˜¯éœ€è¦çš„ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä¼šä»¥æœºå™¨äººæ‰¾é‡‘å¸ä¸ºä¾‹ç»™å¤§å®¶æ¼”ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ªå…¨æ–°çš„gymç¯å¢ƒï¼Œå¹¶ä»¥æ­¤ç¯å¢ƒä¸ºä¾‹ï¼Œç¤ºä¾‹æœ€ç»å…¸çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•qlearningç®—æ³•ã€‚åœ¨3.1èŠ‚ä¸­ï¼Œç»™å‡ºæœºå™¨äººæ‰¾é‡‘å¸çš„é—®é¢˜é™ˆè¿°ï¼›ç¬¬3.2èŠ‚ä¸­ï¼Œç»™å‡ºæ„å»ºgymç¯å¢ƒçš„è¿‡ç¨‹ï¼›ç¬¬3.3èŠ‚ä¸­ï¼Œåˆ©ç”¨qlearningæ–¹æ³•å®ç°æœºå™¨äººæ‰¾é‡‘å¸çš„æ™ºèƒ½å†³ç­–ã€‚å…¨éƒ¨ä»£ç å·²ä¼ åˆ°githubä¸Šã€‚ 3.1 æœºå™¨äººæ‰¾é‡‘å¸çš„é—®é¢˜é™ˆè¿° å›¾1.1 æœºå™¨äººæ‰¾é‡‘å¸ å¦‚å›¾1.1 ä¸ºæœºå™¨äººåœ¨ç½‘æ ¼ä¸–ç•Œæ‰¾é‡‘å¸çš„ç¤ºæ„å›¾ã€‚è¯¥ç½‘æ ¼ä¸–ç•Œä¸€å…±æœ‰ï¼˜ä¸ªçŠ¶æ€ï¼Œå…¶ä¸­çŠ¶æ€ï¼–å’ŒçŠ¶æ€8ä¸ºæ­»äº¡åŒºåŸŸï¼ŒçŠ¶æ€ï¼—ä¸ºé‡‘å¸åŒºåŸŸã€‚æœºå™¨äººçš„åˆå§‹ä½ç½®ä¸ºç½‘æ ¼ä¸–ç•Œä¸­ä»»æ„ä¸€ä¸ªçŠ¶æ€ã€‚æœºå™¨äººä»åˆå§‹çŠ¶æ€å‡ºå‘å¯»æ‰¾é‡‘å¸ã€‚æœºå™¨äººè¿›è¡Œä¸€æ¬¡æ¢ç´¢ï¼Œè¿›å…¥æ­»äº¡åŒºåŸŸæˆ–æ‰¾åˆ°é‡‘å¸ï¼Œæœ¬æ¬¡æ¢æµ‹ç»“æŸã€‚æœºå™¨äººæ‰¾åˆ°é‡‘å¸çš„å›æŠ¥ä¸ºï¼‘ï¼Œè¿›å…¥æ­»äº¡åŒºåŸŸå›æŠ¥ä¸ºï¼ï¼‘ï¼Œæœºå™¨äººåœ¨åŒºåŸŸï¼‘ï¼ï¼•ä¹‹é—´è½¬æ¢æ—¶ï¼Œå›æŠ¥ä¸ºï¼ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªç­–ç•¥ä½¿å¾—æœºå™¨äººä¸ç®¡å¤„åœ¨ä»€ä¹ˆçŠ¶æ€ï¼ˆï¼‘ï¼ï¼•ï¼‰éƒ½èƒ½æ‰¾åˆ°é‡‘å¸ã€‚å¯¹äºè¿™ä¸ªæœºå™¨äººæ‰¾é‡‘å¸çš„æ¸¸æˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¼ºåŒ–å­¦ä¹ çš„æ–¹æ³•æ¥å®ç°ã€‚ æ„å»ºç½‘æ ¼ä¸–ç•Œçš„gymç¯å¢ƒ è¯¥ä¾‹å­çš„ä»£ç ,é™¤äº†æœ¬ç¯‡åšå®¢æœ‰ä»¥å¤–,OpenAI Gymæ„å»ºè‡ªå®šä¹‰å¼ºåŒ–å­¦ä¹ ç¯å¢ƒæœ‰æ›´ä»”ç»†å’Œè§„èŒƒçš„ä»£ç è´´å‡º ä¸€ä¸ªgymçš„ç¯å¢ƒæ–‡ä»¶ï¼Œå…¶ä¸»ä½“æ˜¯ä¸ªç±»ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å®šä¹‰ç±»åä¸ºï¼šGridEnv, å…¶åˆå§‹åŒ–ä¸ºç¯å¢ƒçš„åŸºæœ¬å‚æ•°ï¼Œå› ä¸ºæœºå™¨äººæ‰¾é‡‘å¸çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªé©¬å°”ç§‘å¤«è¿‡ç¨‹ï¼Œæˆ‘ä»¬åœ¨å¼ºåŒ–å­¦ä¹ å…¥é—¨è¯¾ç¨‹çš„ç¬¬ä¸€è®²å·²ç»ä»‹ç»è¿‡äº†ä¸€ä¸ªé©¬å°”ç§‘å¤«è¿‡ç¨‹åº”è¯¥åŒ…æ‹¬çŠ¶æ€ç©ºé—´ï¼ŒåŠ¨ä½œç©ºé—´ï¼Œå›æŠ¥å‡½æ•°ï¼ŒçŠ¶æ€è½¬ç§»æ¦‚ç‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç±»GridEnvçš„åˆå§‹åŒ–æ—¶ä¾¿ç»™å‡ºäº†ç›¸åº”çš„å®šä¹‰ã€‚ç½‘æ ¼ä¸–ç•Œçš„å…¨éƒ¨ä»£ç åœ¨gxnk/reinforcement-learning-code,æ–‡ä»¶åä¸º grid_mdp.py. æˆ‘ä»¬çœ‹æºä»£ç ï¼š 12345678910111213141516171819202122# çŠ¶æ€ç©ºé—´ä¸ºï¼šself.states = [1,2,3,4,5,6,7,8]# åŠ¨ä½œç©ºé—´ä¸ºï¼š self.actions = ['n','e','s','w']# å›æŠ¥å‡½æ•°ä¸ºï¼š self.rewards = dict(); #å›æŠ¥çš„æ•°æ®ç»“æ„ä¸ºå­—å…¸ self.rewards['1_s'] = -1.0 self.rewards['3_s'] = 1.0 self.rewards['5_s'] = -1.0# çŠ¶æ€è½¬ç§»æ¦‚ç‡ä¸ºï¼š self.t = dict(); #çŠ¶æ€è½¬ç§»çš„æ•°æ®æ ¼å¼ä¸ºå­—å…¸ self.t['1_s'] = 6 self.t['1_e'] = 2 self.t['2_w'] = 1 self.t['2_e'] = 3 self.t['3_s'] = 7 self.t['3_w'] = 2 self.t['3_e'] = 4 self.t['4_w'] = 3 self.t['4_e'] = 5 self.t['5_s'] = 8 self.t['5_w'] = 4 æœ‰äº†çŠ¶æ€ç©ºé—´ï¼ŒåŠ¨ä½œç©ºé—´å’ŒçŠ¶æ€è½¬ç§»æ¦‚ç‡ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å†™step(a)å‡½æ•°äº†ã€‚è¿™é‡Œç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œstep()å‡½æ•°çš„è¾“å…¥æ˜¯åŠ¨ä½œï¼Œè¾“å‡ºä¸ºï¼šä¸‹ä¸€ä¸ªæ—¶åˆ»çš„åŠ¨ä½œï¼Œå›æŠ¥ï¼Œæ˜¯å¦ç»ˆæ­¢ï¼Œè°ƒè¯•ä¿¡æ¯ã€‚å°¤å…¶éœ€è¦æ³¨æ„çš„æ˜¯è¾“å‡ºçš„é¡ºåºä¸è¦å¼„é”™äº†ã€‚å¯¹äºè°ƒè¯•ä¿¡æ¯ï¼Œå¯ä»¥ä¸ºç©ºï¼Œä½†ä¸èƒ½ç¼ºå°‘ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œå¸¸ç”¨{}æ¥ä»£æ›¿ã€‚æˆ‘ä»¬çœ‹æºä»£ç ï¼š stepå‡½æ•°çš„å»ºç«‹: 123456789101112131415161718192021def _step(self, action): #ç³»ç»Ÿå½“å‰çŠ¶æ€ state = self.state ï¼ƒåˆ¤æ–­ç³»ç»Ÿå½“å‰çŠ¶æ€æ˜¯å¦ä¸ºç»ˆæ­¢çŠ¶æ€ if state in self.terminate_states: return state, 0, True, &#123;&#125; key = \"%d_%s\"%(state, action) #å°†çŠ¶æ€å’ŒåŠ¨ä½œç»„æˆå­—å…¸çš„é”®å€¼ #çŠ¶æ€è½¬ç§» if key in self.t: next_state = self.t[key] else: next_state = state self.state = next_state is_terminal = False if next_state in self.terminate_states: is_terminal = True if key not in self.rewards: r = 0.0 else: r = self.rewards[key] return next_state, r,is_terminal,&#123;&#125; step()å‡½æ•°å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ä¸‹é¢æˆ‘ä»¬é‡ç‚¹ä»‹ç»ä¸‹å¦‚ä½•å†™render()å‡½æ•°ã€‚ä»å›¾1.1æœºå™¨äººæ‰¾é‡‘å¸çš„ç¤ºæ„å›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç½‘æ ¼ä¸–ç•Œæ˜¯ç”±ä¸€äº›çº¿å’Œåœ†ç»„æˆçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨renderingä¸­çš„ç”»å›¾å‡½æ•°æ¥ç»˜åˆ¶è¿™äº›å›¾åƒã€‚ renderå‡½æ•°çš„å»ºç«‹: æ•´ä¸ªå›¾åƒæ˜¯ä¸€ä¸ª600*400çš„çª—å£ï¼Œå¯ç”¨å¦‚ä¸‹ä»£ç å®ç°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081from gym.envs.classic_control import renderingself.viewer = rendering.Viewer(screen_width, screen_height)# åˆ›å»ºç½‘æ ¼ä¸–ç•Œï¼Œä¸€å…±åŒ…æ‹¬11æ¡ç›´çº¿ï¼Œäº‹å…ˆç®—å¥½æ¯æ¡ç›´çº¿çš„èµ·ç‚¹å’Œç»ˆç‚¹åæ ‡ï¼Œç„¶åç»˜åˆ¶è¿™äº›ç›´çº¿ï¼Œä»£ç å¦‚ä¸‹ï¼š#åˆ›å»ºç½‘æ ¼ä¸–ç•Œdef render(self): self.line1 = rendering.Line((100,300),(500,300)) self.line2 = rendering.Line((100, 200), (500, 200)) self.line3 = rendering.Line((100, 300), (100, 100)) self.line4 = rendering.Line((180, 300), (180, 100)) self.line5 = rendering.Line((260, 300), (260, 100)) self.line6 = rendering.Line((340, 300), (340, 100)) self.line7 = rendering.Line((420, 300), (420, 100)) self.line8 = rendering.Line((500, 300), (500, 100)) self.line9 = rendering.Line((100, 100), (180, 100)) self.line10 = rendering.Line((260, 100), (340, 100)) self.line11 = rendering.Line((420, 100), (500, 100)) # æ¥ä¸‹æ¥ï¼Œåˆ›å»ºæ­»äº¡åŒºåŸŸï¼Œæˆ‘ä»¬ç”¨é»‘è‰²çš„åœ†åœˆä»£è¡¨æ­»äº¡åŒºåŸŸï¼Œæºä»£ç å¦‚ä¸‹ï¼š # åˆ›å»ºç¬¬ä¸€ä¸ªéª·é«… self.kulo1 = rendering.make_circle(40) self.circletrans = rendering.Transform(translation=(140,150)) self.kulo1.add_attr(self.circletrans) self.kulo1.set_color(0,0,0) # åˆ›å»ºç¬¬äºŒä¸ªéª·é«… self.kulo2 = rendering.make_circle(40) self.circletrans = rendering.Transform(translation=(460, 150)) self.kulo2.add_attr(self.circletrans) self.kulo2.set_color(0, 0, 0) # åˆ›å»ºé‡‘å¸åŒºåŸŸï¼Œç”¨é‡‘è‰²çš„åœ†æ¥è¡¨ç¤ºï¼š # åˆ›å»ºé‡‘æ¡ self.gold = rendering.make_circle(40) self.circletrans = rendering.Transform(translation=(300, 150)) self.gold.add_attr(self.circletrans) self.gold.set_color(1, 0.9, 0) # åˆ›å»ºæœºå™¨äººï¼Œæˆ‘ä»¬ä¾ç„¶ç”¨åœ†æ¥è¡¨ç¤ºæœºå™¨äººï¼Œä¸ºäº†è·Ÿæ­»äº¡åŒºåŸŸå’Œé‡‘å¸åŒºåŸŸä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸åŒçš„é¢œè‰²ï¼š # åˆ›å»ºæœºå™¨äºº self.robot= rendering.make_circle(30) self.robotrans = rendering.Transform() self.robot.add_attr(self.robotrans) self.robot.set_color(0.8, 0.6, 0.4) # åˆ›å»ºå®Œä¹‹åï¼Œç»™11æ¡ç›´çº¿è®¾ç½®é¢œè‰²ï¼Œå¹¶å°†è¿™äº›åˆ›å»ºçš„å¯¹è±¡æ·»åŠ åˆ°å‡ ä½•ä¸­ä»£ç å¦‚ä¸‹ï¼š self.line1.set_color(0, 0, 0) self.line2.set_color(0, 0, 0) self.line3.set_color(0, 0, 0) self.line4.set_color(0, 0, 0) self.line5.set_color(0, 0, 0) self.line6.set_color(0, 0, 0) self.line7.set_color(0, 0, 0) self.line8.set_color(0, 0, 0) self.line9.set_color(0, 0, 0) self.line10.set_color(0, 0, 0) self.line11.set_color(0, 0, 0) # æ·»åŠ ç»„ä»¶åˆ°Viewerä¸­ self.viewer.add_geom(self.line1) self.viewer.add_geom(self.line2) self.viewer.add_geom(self.line3) self.viewer.add_geom(self.line4) self.viewer.add_geom(self.line5) self.viewer.add_geom(self.line6) self.viewer.add_geom(self.line7) self.viewer.add_geom(self.line8) self.viewer.add_geom(self.line9) self.viewer.add_geom(self.line10) self.viewer.add_geom(self.line11) self.viewer.add_geom(self.kulo1) self.viewer.add_geom(self.kulo2) self.viewer.add_geom(self.gold) self.viewer.add_geom(self.robot) # æ¥ä¸‹æ¥ï¼Œå¼€å§‹è®¾ç½®æœºå™¨äººçš„ä½ç½®ã€‚æœºå™¨äººçš„ä½ç½®æ ¹æ®å…¶å½“å‰æ‰€å¤„çš„çŠ¶æ€ä¸åŒï¼Œæ‰€åœ¨çš„ä½ç½®ä¸åŒã€‚æˆ‘ä»¬äº‹å…ˆè®¡ç®—å‡ºæ¯ä¸ªçŠ¶æ€å¤„æœºå™¨äººä½ç½®çš„ä¸­å¿ƒåæ ‡ï¼Œå¹¶å­˜å‚¨åˆ°ä¸¤ä¸ªå‘é‡ä¸­ï¼Œå¹¶åœ¨ç±»åˆå§‹åŒ–ä¸­ç»™å‡ºï¼š self.x=[140,220,300,380,460,140,300,460] self.y=[250,250,250,250,250,150,150,150] # æ ¹æ®è¿™ä¸¤ä¸ªå‘é‡å’Œæœºå™¨äººå½“å‰çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¾ç½®æœºå™¨äººå½“å‰çš„åœ†å¿ƒåæ ‡äº†å³ï¼š if self.state is None: return None self.robotrans.set_translation(self.x[self.state-1], self.y[self.state- 1]) # æœ€åè¿˜éœ€è¦ä¸€ä¸ªè¿”å›è¯­å¥ï¼š return self.viewer.render(return_rgb_array=mode == 'rgb_array') ä»¥ä¸Šä¾¿å®Œæˆäº†render()å‡½æ•°çš„å»ºç«‹ reset()å‡½æ•°çš„å»ºç«‹ï¼š reset()å‡½æ•°å¸¸å¸¸ç”¨éšæœºçš„æ–¹æ³•åˆå§‹åŒ–æœºå™¨äººçš„çŠ¶æ€ï¼Œå³ï¼š 123def _reset(self): self.state = self.states[int(random.random() * len(self.states))] return self.state ç¯å¢ƒçš„æ³¨å†Œ å…¨éƒ¨çš„ä»£ç è¯·å»githubä¸Šä¸‹è½½å­¦ä¹ ã€‚ä¸‹é¢é‡ç‚¹è®²ä¸€è®²å¦‚ä½•å°†å»ºå¥½çš„ç¯å¢ƒè¿›è¡Œæ³¨å†Œï¼Œä»¥ä¾¿é€šè¿‡gymçš„æ ‡å‡†å½¢å¼è¿›è¡Œè°ƒç”¨ã€‚å…¶å®ç¯å¢ƒçš„æ³¨å†Œå¾ˆç®€å•ï¼Œåªéœ€è¦ï¼“æ­¥ï¼š ç¬¬ä¸€æ­¥ï¼šå°†æˆ‘ä»¬è‡ªå·±çš„ç¯å¢ƒæ–‡ä»¶ï¼ˆæˆ‘åˆ›å»ºçš„æ–‡ä»¶åä¸ºgrid_mdp.py)æ‹·è´åˆ°ä½ çš„gymå®‰è£…ç›®å½•/gym/gym/envs/classic_controlæ–‡ä»¶å¤¹ä¸­ã€‚ï¼ˆæ‹·è´åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­å› ä¸ºè¦ä½¿ç”¨renderingæ¨¡å—ã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰å…¶ä»–åŠæ³•ã€‚è¯¥æ–¹æ³•ä¸å”¯ä¸€ï¼‰ ç¬¬äºŒæ­¥ï¼šæ‰“å¼€è¯¥æ–‡ä»¶å¤¹ï¼ˆç¬¬ä¸€æ­¥ä¸­çš„æ–‡ä»¶å¤¹ï¼‰ä¸‹çš„__init__.pyæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ«å°¾åŠ å…¥è¯­å¥ï¼šfrom gym.envs.classic_control.grid_mdp import GridEnv ç¬¬ä¸‰æ­¥ï¼šè¿›å…¥æ–‡ä»¶å¤¹ä½ çš„gymå®‰è£…ç›®å½•/gym/gym/envsï¼Œæ‰“å¼€è¯¥æ–‡ä»¶å¤¹ä¸‹çš„__init__.pyæ–‡ä»¶ï¼Œæ·»åŠ ä»£ç ï¼š 12345678register( # gym.make(â€˜idâ€™)æ—¶çš„id id='GridWorld-v0', # å‡½æ•°è·¯å£ entry_point='gym.envs.classic_control:GridEnv', max_episode_steps=200, reward_threshold=100.0,) ç¬¬ä¸€ä¸ªå‚æ•°idå°±æ˜¯ä½ è°ƒç”¨gym.make(â€˜idâ€™)æ—¶çš„id, è¿™ä¸ªidä½ å¯ä»¥éšä¾¿é€‰å–ï¼Œæˆ‘å–çš„ï¼Œåå­—æ˜¯GridWorld-v0 ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯å‡½æ•°è·¯å£äº†ã€‚ åé¢çš„å‚æ•°åŸåˆ™ä¸Šæ¥è¯´å¯ä»¥ä¸å¿…è¦å†™ã€‚ ç»è¿‡ä»¥ä¸Šä¸‰æ­¥ï¼Œå°±å®Œæˆäº†æ³¨å†Œã€‚ ä¸‹é¢ï¼Œæˆ‘ä»¬ç»™ä¸ªç®€å•çš„demoæ¥æµ‹è¯•ä¸‹æˆ‘ä»¬çš„ç¯å¢ƒçš„æ•ˆæœå§ï¼š æˆ‘ä»¬ä¾ç„¶å†™ä¸ªç»ˆç«¯ç¨‹åºï¼š 12345import gymenv = gym.make('GridWorld-v0')env.reset()env.render()","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"RL","slug":"RL","permalink":"https://nymrli.top/tags/RL/"}]},{"title":"Linuxå®‰è£…seleniumæ‰§è¡ŒPythonç¨‹åº","slug":"Linuxå®‰è£…seleniumæ‰§è¡ŒPythonç¨‹åº","date":"2019-09-24T14:13:20.000Z","updated":"2022-02-13T06:14:20.178Z","comments":true,"path":"2019/09/24/Linuxå®‰è£…seleniumæ‰§è¡ŒPythonç¨‹åº/","link":"","permalink":"https://nymrli.top/2019/09/24/Linuxå®‰è£…seleniumæ‰§è¡ŒPythonç¨‹åº/","excerpt":"","text":"Linuxå®‰è£…seleniumæ‰§è¡ŒPythonç¨‹åº é…ç½®pythonè¿è¡Œç¯å¢ƒ å®‰è£…selenium,pip install selenium å®‰è£…chrome æä¾›ä¸‹è½½ç½‘ç«™chromedownloads,ä¸‹è½½google-chrome-stable_current_amd64-75.0.3770.80.deb 123456789101112$ sudo apt-get install libxss1 libappindicator1 libindicator7# æ³¨æ„éœ€è¦å…ˆæŠŠgoogle-chrome-stable_current_amd64-75.0.3770.80.deb ä¸‹è½½ä¸‹æ¥$ sudo dpkg -i google-chrome-stable_current_amd64-75.0.3770.80.deb # æ‰§è¡Œsudo dpkg -i google-chrome*.debåæŠ¥é”™çš„è¯ï¼Œé‚£å°±æ‰§è¡Œä¸€ä¸‹sudo apt-get install -f# å®‰è£…ååœ¨/usr/binç›®å½•ä¸‹æŸ¥çœ‹æ˜¯å¦æœ‰google-chromeæ–‡ä»¶# æ£€æŸ¥chromeç‰ˆæœ¬ï¼š$ google-chrome-stable --version# å½“æ—¶æ— æ³•æŸ¥åˆ°ç‰ˆæœ¬,å¹¶æŠ¥é”™error while loading shared libraries: libasound.so.2,# è¾“å…¥sudo apt-get install -fåè§£å†³$ google-chrome-stable --version å®‰è£…chromedriver ç›´æ¥æŒ‰ç…§æµè§ˆå™¨ç‰ˆæœ¬å»æ‰¾å¯¹åº”çš„driverå°±è¡Œäº†ã€‚ï¼ˆå¦‚æœä¸èƒ½å®Œå…¨ä¸€ä¸€å¯¹åº”ï¼Œå°±æ‰¾å¤§ç‰ˆæœ¬å·(ä¸»ç‰ˆæœ¬å·)å¯¹åº”ã€æ¬¡ç‰ˆæœ¬å·æ¯”æµè§ˆå™¨ç‰ˆæœ¬å·ç¨å¤§çš„éƒ½è¡Œï¼‰ï¼Œ æ­¤å¤–ï¼Œå¯¹äºwindowsçš„ç”¨æˆ·æ¥è¯´ï¼Œwin64çš„æ“ä½œç³»ç»Ÿç”¨win32çš„å°±è¡Œã€‚ 123456789101112$ wget -N http://chromedriver.storage.googleapis.com/75.0.3770.8/chromedriver_linux64.zip$ unzip chromedriver_linux64.zip$ sudo chmod +x chromedriver$ sudo mv -f chromedriver /usr/local/share/chromedriver$ sudo ln -s /usr/local/share/chromedriver /usr/local/bin/chromedriver$ sudo ln -s /usr/local/share/chromedriver /usr/bin/chromedrive$ chromedriver -v# å¦‚æœå‘ç°ç‰ˆæœ¬ä¸å¯¹ï¼Œchromeå¯ä»¥ä½¿ç”¨è¿™æ ·å¸è½½ï¼š$ yum remove google-chrome# chromedriverå¯ä»¥ç›´æ¥åˆ é™¤ç›®å½•ï¼š$ sudo rm -f /usr/bin/chromedriver ç¼–å†™pythonæµ‹è¯•ä»£ç  12345678from selenium import webdriverfrom selenium.webdriver.chrome.options import Optionschrome_options = Options()chrome_options.add_argument('--no-sandbox')chrome_options.add_argument('--disable-dev-shm-usage')chrome_options.add_argument('--headless')browser = webdriver.Chrome(chrome_options=chrome_options)browser.get('https://www.baidu.com/') æˆ‘ä½¿ç”¨çš„xshellä¼šæç¤ºæˆ‘è½¬å‘, å› æ­¤éœ€è¦åœ¨ä¼šè¯ä¸­å…³é—­è¯¥å±æ€§: å±æ€§-&gt;è¿æ¥-&gt;SSH-&gt;éš§é“-&gt;å–æ¶ˆ&quot;è½¬å‘X11è¿æ¥åˆ°&quot;çš„å‹¾é€‰ æŠ¥é”™è®°å½•: Message: unknown error: Chrome failed to start: exited abnormally (unknown error: DevToolsActivePort file doesn't exist) (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) è§£å†³æ–¹æ³•ï¼šæ·»åŠ å‚æ•°chrome_options.add_argument(â€™â€“no-sandboxâ€™) 1234567chrome_options = Options()chrome_options.add_argument('--headless')chrome_options.add_argument('--no-sandbox')chrome_options.add_argument('user-agent=%s' % random.choice(MY_USER_AGENT_PC))driver = webdriver.Chrome(executable_path='/usr/local/bin/chromedriver', chrome_options=chrome_options)driver.set_window_size(1366, 1000) # è°ƒæ•´é¡µé¢å°ºå¯¸driver.implicitly_wait(3) æ›´æ–° æ›´æ–°chrome ubuntu,è¿˜æœ‰å…¶ä»–linuxä¸‹çš„chromeä¸ä¼šè‡ªåŠ¨æ›´æ–°,å› ä¸ºæ˜¯é€šè¿‡åŒ…è¿›è¡Œç®¡ç†çš„,æƒ³è¦è·å–æœ€æ–°ç‰ˆæœ¬çš„chromeå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•: wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb ç„¶åå°†å®‰è£…åŒ…è§£å‹,ä¼šè‡ªåŠ¨è¦†ç›–å½“å‰çš„chromeç‰ˆæœ¬,æ’ä»¶ä»€ä¹ˆçš„éƒ½ä¸ä¼šå˜: è¾“å…¥sudo dpkg -i ./google-chrome-stable_current_amd64.debåä¼šæå‡ï¼šUnpacking google-chrome-stable (92.0.4515.159-1) over (75.0.3770.80-1) â€¦ æ›´æ–°chromedriver åœ¨é•œåƒç½‘ç«™ä¸‹è½½åˆé€‚çš„ç‰ˆæœ¬ï¼š http://npm.taobao.org/mirrors/chromedriver/ å†è§£å‹æ›´æ–°ï¼š 12345$ unzip chromedriver_linux64.zip$ sudo chmod +x chromedriver$ sudo mv -f chromedriver /usr/local/share/chromedriver$ sudo ln -s /usr/local/share/chromedriver /usr/local/bin/chromedriver -f$ sudo ln -s /usr/local/share/chromedriver /usr/bin/chromedrive -f é™„å½• pyenvï¼šLinuxä¸‹å¤šPythonç‰ˆæœ¬ç®¡ç†å·¥å…· åœ¨å¼€å‘Pythonç¨‹åºçš„æ—¶å€™ï¼Œæœ‰æ—¶å€™å¯èƒ½éœ€è¦åœ¨ä¸åŒç‰ˆæœ¬çš„Pythonä¸Šè¿›è¡Œæµ‹è¯•ã€è¿è¡Œã€‚pyenvå°±æ˜¯è¿™ä¹ˆä¸€ä¸ªç®¡ç†å¤šç‰ˆæœ¬Pythonçš„å·¥å…·ã€‚ç”±äºåœ¨Windowsä¸­æˆ‘ä»¬å¯ä»¥åŒæ—¶å®‰è£…å¤šä¸ªç‰ˆæœ¬çš„Pythonï¼Œå¹¶ä¸”é€šè¿‡Pycharmæ‰‹åŠ¨é€‰æ‹©æƒ³è¦ç‰ˆæœ¬çš„è§£é‡Šå™¨ï¼Œä½†æ˜¯åœ¨Linuxä¸‹å°±æ²¡é‚£ä¹ˆæ–¹ä¾¿äº†ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯åœ¨Linuxä¸‹ä»‹ç»è¯¥å·¥å…·ã€‚ å®‰è£… $ curl -L https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer | bash Githubé“¾æ¥ï¼šhttps://github.com/pyenv/pyenv-installerï¼Œ è¿™ä¸ªbashè„šæœ¬ä¸­ä¸»è¦æ˜¯å¾—å°†pyenvå…‹éš†åˆ°ç”¨æˆ·ç›®å½•ä¸‹å»ï¼Œç”±äºç½‘ç»œé“¾æ¥çš„é—®é¢˜ï¼Œè¿™ä¸ªéå¸¸å®¹æ˜“å¤±è´¥ã€‚æˆ‘çš„å»ºè®®æ˜¯ç›´æ¥å§å†…å®¹å¤åˆ¶ä¸‹æ¥åå†™æˆpyenv_installer.shæ–‡ä»¶ï¼Œç„¶åå‘½ä»¤è¡Œè¿è¡Œbash pyenv_installer.shï¼Œè€Œä¸æ˜¯curl -L xx |bashã€‚ 123456Cloning into &apos;/home/mrli/.pyenv&apos;...Cloning into &apos;/home/mrli/.pyenv/plugins/pyenv-doctor&apos;...Cloning into &apos;/home/mrli/.pyenv/plugins/pyenv-installer&apos;...Cloning into &apos;/home/mrli/.pyenv/plugins/pyenv-update&apos;...Cloning into &apos;/home/mrli/.pyenv/plugins/pyenv-virtualenv&apos;...Cloning into &apos;/home/mrli/.pyenv/plugins/pyenv-which-ext&apos;... å¾ˆå®¹æ˜“å¤±è´¥ï¼Œåœ¨è°ƒå¥½ç½‘ç»œé“¾æ¥åï¼Œèƒ½åšçš„åªæœ‰å¤šæ¬¡å°è¯•ï¼ˆæˆ‘èŠ±äº†ä¸¤ä¸ªåŠå°æ—¶æ‰ä¸‹ä¸‹æ¥ï¼‰ å¢åŠ ç¯å¢ƒå˜é‡ 123456789sudo vim ~/.bachrc# æ·»åŠ ä»¥ä¸‹å†…å®¹export PATH=\"$HOME/.pyenv/bin:$PATH\"eval \"$(pyenv init -)\"eval \"$(pyenv virtualenv-init -)\"# æœ€ååˆ·æ–°shell: `source ~/.bashrc` or `exec $SHELL`source ~/.bashrc# æµ‹è¯•pyenv --help â€‹","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"Ubuntu16.04+CUDA toolkit10.1+cudNN7.6+bazel0.26.1","slug":"Ubuntu16-04-CUDA-toolkit10-1-cudNN7-6-bazel0-26-1","date":"2019-09-23T08:38:55.000Z","updated":"2020-12-02T11:19:32.945Z","comments":true,"path":"2019/09/23/Ubuntu16-04-CUDA-toolkit10-1-cudNN7-6-bazel0-26-1/","link":"","permalink":"https://nymrli.top/2019/09/23/Ubuntu16-04-CUDA-toolkit10-1-cudNN7-6-bazel0-26-1/","excerpt":"","text":"Ubuntu 16.04 + CUDA toolkit 10.1 + cudNN7.6 + bazel 0.26.1 ä¿è¯cuDNNè·ŸCUDA SDKçš„ç‰ˆæœ¬ä¸€è‡´å³å¯. ä»æºç ç¼–è¯‘çš„è¯éœ€è¦æŸ¥çœ‹æ˜¾å¡çš„è®¡ç®—èƒ½åŠ›,å¯åœ¨æŸ¥çœ‹GPUè®¡ç®—èƒ½åŠ›ï¼Œåœ¨é…ç½®çš„æ—¶å€™å¡«å…¥å³å¯ï¼Œè·ŸCUDA SDKçš„ç‰ˆæœ¬æ— å…³ â–²å¿…é¡»æ³¨å†Œè´¦å·åï¼Œæ‰èƒ½é€‰æ‹©ä¸‹è½½ â–²è®°ä½ä¸Šè¿°å‡ ä¸ªè¦ç‚¹ï¼Œ ä»¥åŠæœ€å¥½å…ˆçœ‹ä¸‹æ–‡ç« æœ€åæˆ‘çš„è¸©å‘è®°å½•ï¼Œç¡®ä¿è‡ªå·±çŸ¥é“å¯èƒ½ä¼šæœ‰è¿™äº›å‘ â–².å…¨ç¨‹ä¿æŒèƒ½è¿æ¥å¤–ç½‘ï¼ˆç¿»å¢™ï¼‰ å®‰è£…NVIDIAé©±åŠ¨ 123$ ubuntu-drivers devices # æŸ¥çœ‹# æŸ¥çœ‹NVIDIAé©±åŠ¨ç‰ˆæœ¬$ sudo dpkg --list | grep nvidia-* æ˜¾å¡é©±åŠ¨ä¸CUDAç‰ˆæœ¬å¯¹åº”å…³ç³» æœ€æ–°çš„æ ¹æ®å®˜ç½‘æŸ¥çœ‹ ä¸‹è½½NVIDIAé©±åŠ¨ â–²æ³¨æ„:å¾—å¯¹åº”åŒ¹é…!!! å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡nvidia-smiæŸ¥çœ‹GPUä½¿ç”¨æƒ…å†µ CUDA toolkit 10.1 å®‰è£…ä¹‹å‰å…ˆçœ‹æ˜¾å¡çš„é©±åŠ¨ç‰ˆæœ¬ 1234# å®‰è£…è¿‡ç¨‹$ sudo dpkg -i cuda-repo-ubuntu1604-10-1-local-10.1.243-418.87.00_1.0-1_amd64.deb$ sudo apt update$ sudo apt install cuda è®¾ç½®ç¯å¢ƒå˜é‡ 123456$ sudo vim ~/.bashrc# è®¾ç½®ç¯å¢ƒå˜é‡$ export PATH=/usr/local/cuda-8.0/bin:$PATH$ export LD_LIBRARY_PATH=/usr/local/cuda-8.0/lib64:$LD_LIBRARY_PATH# ç”Ÿæ•ˆ$ source ~/.bashrc éªŒè¯å®‰è£…å®Œæˆ 1234$ nvcc -V$ cd /usr/local/cuda/samples/1_Utilities/deviceQuery$ sudo make$ ./deviceQuery â–³.å¦‚æœæ˜¾ç¤ºResult:PASSæ‰æ˜¯å®‰è£…æˆåŠŸã€‚è¿™ä¸€æ­¥ä¸€å®šè¦ä¿è¯é”™è¯¯ï¼Œä¸ç„¶ä¹‹åbazelç¼–è¯‘æ—¶æŠ¥é”™å°±å¾ˆéš¾åˆ†æé—®é¢˜ï¼ï¼ï¼ï¼ï¼(åªæœ‰åœ¨é©±åŠ¨å®‰è£…å¥½çš„æƒ…å†µä¸‹æ‰èƒ½è¿è¡ŒæˆåŠŸ,ä¸ç„¶ä¼šæŠ¥no CUDA-capable device is detectedï¼Œæˆ–è€…GPU is lost) å¦‚æœå¤±è´¥,å¸è½½é‡è£… 12$ cd /usr/local/cuda/bin$ sudo ./uninstall_cuda_9.2.pl å®‰è£… Python å’Œ TensorFlow è½¯ä»¶åŒ…ä¾èµ–é¡¹ 1sudo apt install python-dev python-pip # or python3-dev python3-pip å®‰è£… TensorFlow pip è½¯ä»¶åŒ…ä¾èµ–é¡¹ï¼ˆå¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œè¯·çœç•¥ --user å‚æ•°ï¼‰ï¼š 123pip install -U --user pip six numpy wheel setuptools mock future&gt;=0.17.1pip install -U --user keras_applications==1.0.6 --no-depspip install -U --user keras_preprocessing==1.0.5 --no-deps cudNN 7.6.3 é€‰æ‹©cuDNN Library for Linux 12345678# è§£å‹cudNN$ cp cudnn-8.0-linux-x64-v5.1.solitairetheme8 /usr/local/cuda/cudnn-8.0-linux-x64-v5.1.tgz$ cd /usr/local/cuda/$ tar -xvf cudnn-8.0-linux-x64-v5.1.tgzsudo cp cuda/include/cudnn.h /usr/local/cuda/includesudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn* Bazel æ„å»ºTensorflowéœ€è¦ç”¨bazel,è€Œwgetä¸‹è½½å¾ˆæ…¢,éœ€è¦ä»£ç†,å¯ä»¥è¯•ç€å»githubä¸Šä¸‹è½½åå†ä¼ åˆ°æœåŠ¡å™¨ åæ¥./configureé…ç½®TensorFlowæ—¶,æç¤ºBazelç‰ˆæœ¬å¤ªé«˜â€¦(è¿™ä¸ªé—®é¢˜å‡ºç°åœ¨æˆ‘ä¸‹è½½çš„ä¸æ˜¯githubä¸‹è½½ä¸‹æ¥çš„tensorflowï¼Œç½‘ç›˜ä¸‹è½½çš„å¯èƒ½ç‰ˆæœ¬å¤ªä½äº†) 123WARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".You have bazel 0.29.1 installed.Please downgrade your bazel installation to version 0.26.1 or lower to build TensorFlow! To downgrade: download the installer for the old version (from https://github.com/bazelbuild/bazel/releases) then run the installer. ä»æºç æ„å»ºå’Œå®‰è£…Tensorflow ç¬¬ä¸€æ¬¡å®‰è£…çš„æ˜¯2.0çš„ç‰ˆæœ¬ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566git clone https://github.com/tensorflow/tensorflow.gitcd tensorflow(tf) apollo3d@apollo1:~/Downloads/tensorflow-master$ ./configure WARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".You have bazel 0.26.0 installed.Please specify the location of python. [Default is /home/apollo3d/tf/bin/python]: /usr/bin/python3Found possible Python library paths: /usr/local/lib/python3.5/dist-packages /usr/lib/python3/dist-packagesPlease input the desired Python library path to use. Default is [/usr/local/lib/python3.5/dist-packages]Do you wish to build TensorFlow with XLA JIT support? [Y/n]: XLA JIT support will be enabled for TensorFlow.Do you wish to build TensorFlow with OpenCL SYCL support? [y/N]: No OpenCL SYCL support will be enabled for TensorFlow.Do you wish to build TensorFlow with ROCm support? [y/N]: No ROCm support will be enabled for TensorFlow.Do you wish to build TensorFlow with CUDA support? [y/N]: yCUDA support will be enabled for TensorFlow.Do you wish to build TensorFlow with TensorRT support? [y/N]: No TensorRT support will be enabled for TensorFlow.Found CUDA 10.1 in: /usr/local/cuda/lib64 /usr/local/cuda/includeFound cuDNN 7 in: /usr/local/cuda/lib64 /usr/local/cuda/includePlease specify a list of comma-separated CUDA compute capabilities you want to build with.You can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.Please note that each additional compute capability significantly increases your build time and binary size, and that TensorFlow only supports compute capabilities &gt;= 3.5 [Default is: 3.5,7.0]: 5.0Do you want to use clang as CUDA compiler? [y/N]: NClang will be used as CUDA compiler.Do you wish to download a fresh release of clang? (Experimental) [y/N]: NClang will be downloaded and used to compile tensorflow.Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native -Wno-sign-compare]: --config=v2Would you like to interactively configure ./WORKSPACE for Android builds? [y/N]: Not configuring the WORKSPACE for Android builds.Preconfigured Bazel build configs. You can use any of the below by adding \"--config=&lt;&gt;\" to your build command. See .bazelrc for more details. --config=mkl # Build with MKL support. --config=monolithic # Config for mostly static monolithic build. --config=ngraph # Build with Intel nGraph support. --config=numa # Build with NUMA support. --config=dynamic_kernels # (Experimental) Build kernels into separate shared objects. --config=v2 # Build TensorFlow 2.x instead of 1.x.Preconfigured Bazel build configs to DISABLE default on features: --config=noaws # Disable AWS S3 filesystem support. --config=nogcp # Disable GCP support. --config=nohdfs # Disable HDFS support. --config=nonccl # Disable NVIDIA NCCL support. Configuration finished ç¬¬äºŒæ¬¡1.14 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980(pythonEnv) apollo3d@apollo1:~/Downloads/tensorflow$ ./configure WARNING: Running Bazel server needs to be killed, because the startup options are different.WARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".You have bazel 0.26.0 installed.Please specify the location of python. [Default is /home/apollo3d/pythonEnv/bin/python]: Traceback (most recent call last): File \"&lt;string&gt;\", line 1, in &lt;module&gt;AttributeError: module 'site' has no attribute 'getsitepackages'Found possible Python library paths: /home/apollo3d/pythonEnv/lib/python3.5/site-packagesPlease input the desired Python library path to use. Default is [/home/apollo3d/pythonEnv/lib/python3.5/site-packages]Do you wish to build TensorFlow with XLA JIT support? [Y/n]: XLA JIT support will be enabled for TensorFlow.Do you wish to build TensorFlow with OpenCL SYCL support? [y/N]: nNo OpenCL SYCL support will be enabled for TensorFlow.Do you wish to build TensorFlow with ROCm support? [y/N]: No ROCm support will be enabled for TensorFlow.Do you wish to build TensorFlow with CUDA support? [y/N]: yCUDA support will be enabled for TensorFlow.Do you wish to build TensorFlow with TensorRT support? [y/N]: No TensorRT support will be enabled for TensorFlow.Found CUDA 10.1 in: /usr/local/cuda/lib64 /usr/local/cuda/includeFound cuDNN 7 in: /usr/local/cuda/lib64 /usr/local/cuda/includePlease specify a list of comma-separated CUDA compute capabilities you want to build with.You can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.Please note that each additional compute capability significantly increases your build time and binary size, and that TensorFlow only supports compute capabilities &gt;= 3.5 [Default is: 5.2]: 5.0Do you want to use clang as CUDA compiler? [y/N]: nnvcc will be used as CUDA compiler.Please specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: Do you wish to build TensorFlow with MPI support? [y/N]: No MPI support will be enabled for TensorFlow.Please specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native -Wno-sign-compare]: Would you like to interactively configure ./WORKSPACE for Android builds? [y/N]: Not configuring the WORKSPACE for Android builds.Preconfigured Bazel build configs. You can use any of the below by adding \"--config=&lt;&gt;\" to your build command. See .bazelrc for more details. --config=mkl # Build with MKL support. --config=monolithic # Config for mostly static monolithic build. --config=gdr # Build with GDR support. --config=verbs # Build with libverbs support. --config=ngraph # Build with Intel nGraph support. --config=numa # Build with NUMA support. --config=dynamic_kernels # (Experimental) Build kernels into separate shared objects.Preconfigured Bazel build configs to DISABLE default on features: --config=noaws # Disable AWS S3 filesystem support. --config=nogcp # Disable GCP support. --config=nohdfs # Disable HDFS support. --config=noignite # Disable Apache Ignite support. --config=nokafka # Disable Apache Kafka support. --config=nonccl # Disable NVIDIA NCCL support.Configuration finished...INFO: Elapsed time: 4826.834s, Critical Path: 298.31sINFO: 24978 processes: 24978 local.INFO: Build completed successfully, 26636 total actions# å¤§æ¦‚ç”¨äº†ä¸€ä¸ªåŠå°æ—¶ â–³.æœŸé—´å¯èƒ½å¤šæ¬¡å‡ºç°ERROR:[GET returned 404 Not Found, connect timed out],ç»§ç»­é‡è¯•å³å¯ ç¼–è¯‘ pip è½¯ä»¶åŒ… 12345678910$ (tf) apollo3d@apollo1:~/Downloads/tensorflow-master$ bazel build -c --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package# -c ä¸é“¾æ¥ç›´æ¥ç¼–è¯‘Starting local Bazel server and connecting to it...WARNING: The following configs were expanded more than once: [cuda_clang, using_cuda, download_clang_use_lld]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.WARNING: option '--crosstool_top' was expanded to from both option '--config=cuda_clang' (source /home/apollo3d/Downloads/tensorflow-master/.tf_configure.bazelrc) and option '--config=download_clang' (source /home/apollo3d/Downloads/tensorflow-master/.tf_configure.bazelrc)$ bazel-bin/tensorfLow/tools/pip_package/build_pip_package ~/tensorflow/bin # ä¼ å…¥ä¸€ä¸ªè¡¨ç¤ºPython whellæ–‡ä»¶å­˜å‚¨è·¯å¾„çš„å‚æ•°# åœ¨è™šæ‹Ÿç¯å¢ƒæ‰“å¼€çš„æƒ…å†µä¸‹å®‰è£… é™„å½•ï¼š windowsä¸Šå®‰è£…cudaæ—¶ä¸€ç›´æ˜¾ç¤ºä¸èƒ½å®‰è£…ï¼Œå°±æ˜¯ç³»ç»Ÿé»˜è®¤å®‰è£…çš„ç‰ˆæœ¬å¤ªä½äº†ï¼Œæˆ–è€…æ ¹æœ¬å°±æ²¡æœ‰å®‰è£…ã€‚åªæœ‰åˆ°æ˜¾å¡é©±åŠ¨ä¸‹è½½å®‰è£…äº†é©±åŠ¨åï¼Œæ‰èƒ½æ­£å¸¸å®‰è£…CUDA â–²æ­£ç¡®å®‰è£…é©±åŠ¨çœŸçš„å¾ˆé‡è¦ï¼ï¼ï¼ windowså®‰è£…å»ºè®® å®‰è£…å®Œlinuxå,æˆ‘åœ¨è‡ªå·±ç¬”è®°æœ¬ä¸Šåˆå®‰è£…äº†ä¸ªWindows10çš„ï¼Œä¸¤ä¸ªæ˜¯ç›¸é€šçš„ï¼Œwindowsçš„å¾ˆå¿«æˆ‘å°±å®‰è£…å¥½äº†ã€‚ä¸»è¦å¡å£³çš„æ—¶é—´å…¨éƒ½æ˜¯æµªè´¹åœ¨äº†é©±åŠ¨ç‰ˆæœ¬å®‰è£…é”™è¯¯ï¼Œåªè¦æŠŠé©±åŠ¨çš„ç‰ˆæœ¬å¼„å¯¹äº†ã€‚ç„¶åä¾æ¬¡å®‰è£…NVIDIAé©±åŠ¨ã€CUDAã€Cudnnå°±å¯ä»¥äº†ã€‚ é‡‡å‘è®°å½• â–²ä¸‹è½½tensorflowï¼Œä¸€å®šè¦ä»å®˜ç½‘ä¸‹è½½æœ€æ–°çš„ã€‚åƒä¸‡ä¸è¦å»ç½‘ç›˜ä¸Šä¸‹è½½ï¼Œæˆ‘å°±æ˜¯è¢«è¿™ä¸ªå‘äº†å¾ˆä¹…ã€‚æœ€åä»githubä¸‹äº†åæ‰é€æ¸æ­£å¸¸ã€‚ï¼ˆgithubä¸‹è½½ä¼šå¾ˆæ…¢ï¼Œå¯ä»¥è§æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼Œå¦‚ä½•æé€Ÿï¼‰ â–²./configureçš„é…ç½®ä¹Ÿå¾ˆé‡è¦ï¼Œé™¤äº†CUDAé€‰é¡¹å…¶ä»–éƒ½é€‰é»˜è®¤ Linuxç³»ç»Ÿä¸‹å®‰è£…TensorFlowçš„GPUç‰ˆæœ¬ CUDAã€æ˜¾å¡é©±åŠ¨å’ŒTensorflowç‰ˆæœ¬ä¹‹é—´çš„å¯¹åº”å…³ç³» Linux x86_64 Driver Versionä¸CUDA Toolkitçš„å¯¹åº”ï¼Œä¸€å®šè¦å¯¹åº”å¥½ï¼ŒCUDAè¶…å‡ºäº†Driver Versionçš„è¯ï¼Œæ˜¯æ— æ³•ä½¿ç”¨çš„^æç¤º ==&gt;CUDA 10.1çš„éœ€è¦Linux x86_64 Driver Version&gt;=410.48ã€‚åŒæ—¶ï¼Œtensorflow-gpué»˜è®¤å®‰è£…çš„æ˜¯1.14ç‰ˆæœ¬ï¼Œè¦æ±‚çš„cudNNä¸º7ï¼ŒCUDAä¸º9 â–²google.xxxx.xxxx==&gt;unknown hosts æŠ¥äº†è¿™ä¸ªé”™ä»¥åæ‰å‘ç°ï¼ŒæœåŠ¡å™¨çš„DNSæ²¡é…ç½®ï¼ˆäº‘æœåŠ¡å™¨ä¸€èˆ¬ä¸ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ï¼‰ 12345$ sudo vim /etc/resolv.conf# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTENnameserver 8.8.8.8nameserver 8.8.4.4 â–²An error occurred during the fetch of repository â€˜llvmâ€™:Error 404 ï¼Œ cant connect å¤šæ¬¡é‡è¯•å³å¯ 1$ (tf) apollo3d@apollo1:~/Downloads/tensorflow-master$ bazel build -c --config=opt --config=cuda //tensorflow/tools/pip_package:build_pip_package â–²æŠ¥é”™ AttributeError: â€˜_NamespacePathâ€™ object has no attribute 'sortâ€™ é‡æ–°å®‰è£…setuptools 123(pythonEnv) $ pip uninstall setuptools(pythonEnv) $ pip install setuptools(pythonEnv) $ pip install googleapis-common-protos æ‰§è¡Œä¸Šè¿°å‘½ä»¤éœ€è¦ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´ï¼Œå…·ä½“æ—¶é•¿å–å†³äºä½ çš„è®¡ç®—æœºæ€§èƒ½ã€‚ 12345Target //tensorflow/tools/pip_package:build_pip_package up-to-date: bazel-bin/tensorflow/tools/pip_package/build_pip_packageINFO: Elapsed time: 77.892s, Critical Path: 77.18sINFO: 45 processes: 45 local.INFO: Build completed successfully, 46 total actions å¾…BazelæˆåŠŸå®Œæˆä¸Šè¿°ä»»åŠ¡åä¼šè¾“å‡ºï¼Œè¿è¡Œè¾“å‡ºçš„å¯æ‰§è¡Œç¨‹åºï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªè¡¨ç¤ºPython wheeæ–‡ä»¶å­˜å‚¨è·¯å¾„çš„å‚æ•°ï¼š bazel-bin/tensorflow/tools/pip_package/build_pip_package ~/ 12345678910111213141516(pythonEnv) apollo3d@apollo1:~/Downloads/tensorflow$ bazel-bin/tensorflow/tools/pip_package/build_pip_package ~/2019å¹´ 09æœˆ 24æ—¥ æ˜ŸæœŸäºŒ 14:34:05 CST : === Preparing sources in dir: /tmp/tmp.pguTqrHuLA~/Downloads/tensorflow ~/Downloads/tensorflow~/Downloads/tensorflow/tmp/tmp.pguTqrHuLA/tensorflow/include ~/Downloads/tensorflow~/Downloads/tensorflow2019å¹´ 09æœˆ 24æ—¥ æ˜ŸæœŸäºŒ 14:34:11 CST : === Building wheelwarning: no files found matching &apos;*.pyd&apos; under directory &apos;*&apos;warning: no files found matching &apos;*.pd&apos; under directory &apos;*&apos;warning: no files found matching &apos;*.dylib&apos; under directory &apos;*&apos;warning: no files found matching &apos;*.dll&apos; under directory &apos;*&apos;warning: no files found matching &apos;*.lib&apos; under directory &apos;*&apos;warning: no files found matching &apos;*.csv&apos; under directory &apos;*&apos;warning: no files found matching &apos;*.h&apos; under directory &apos;tensorflow_core/include/tensorflow&apos;warning: no files found matching &apos;*&apos; under directory &apos;tensorflow_core/include/third_party&apos;2019å¹´ 09æœˆ 24æ—¥ æ˜ŸæœŸäºŒ 14:34:33 CST : === Output wheel file is in: /home/apollo3d/ pipå®‰è£… ä¸Šè¿°å‘½ä»¤å°†åœ¨~/tensorlowbnä¸‹åˆ›å»ºä¸€ä¸ªPython.whæ–‡ä»¶ã€‚è¯·ç¡®ä¿ä½ çš„â€œtensor-fow Virtualenvä¸å¢ƒå¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œç„¶åç”¨pipå®‰è£…è¯¥wheeæ–‡ä»¶ï¼ˆè¯·æ³¨æ„è¯¥äºŒè¿›åˆ¶æ–‡ä»¶çš„å…·ä½“åç§°ä¼šä¾æ‰€å®‰è£…çš„TensorFlowç‰ˆæœ¬ã€æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿå’ŒPythonç‰ˆæœ¬è€Œä¸åŒï¼‰ï¼š (pythonEnv) apollo3d@apollo1:~$ pip install tensorflow-2.0.0rc2-cp35-cp35m-linux_x86_64.whl â–²å®‰è£…æˆåŠŸåï¼Œä½¿ç”¨æ—¶æŠ¥é”™ ä½¿ç”¨TensorFlowæ—¶æŠ¥é”™FutureWarning: Passing (type, 1) or â€˜1typeâ€™ as a synonym of type is deprecated; in a future version of numpyâ€¦ æŠ¥é”™åŸå› ï¼šnumpy1-17-0ç‰ˆæœ¬è¿‡é«˜ï¼Œä½¿ç”¨numpy-1.16-0ç‰ˆæœ¬å³å¯ è§£å†³æ–¹æ³•ï¼šé‡æ–°å®‰è£…numpy-1.16-0 12$ pip uninstall numpy$ pip install numpy==1.16.0 anacondaä½¿ç”¨ æœ€è¿‘ç”¨äº†è€å¸ˆç»™çš„æœåŠ¡å™¨ï¼Œç”¨æˆ·æ˜¯éš”ç¦»çš„ï¼Œå› æ­¤è¿˜æ˜¯å†³å®šä½¿ç”¨anacondaçœäº‹ç‚¹ å®‰è£…anacondaï¼šè¿›å…¥å®˜ç½‘https://www.anaconda.com/products/individualï¼Œ ç„¶åæ ¹æ®osé€‰æ‹©ç›¸åº”çš„packageä¸‹è½½ condaå¸¸ç”¨å‘½ä»¤ 123conda list æŸ¥çœ‹å®‰è£…äº†å“ªäº›åŒ…ã€‚conda env list æˆ– conda info -e æŸ¥çœ‹å½“å‰å­˜åœ¨å“ªäº›è™šæ‹Ÿç¯å¢ƒconda update conda æ£€æŸ¥æ›´æ–°å½“å‰conda åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ 1conda create -n è™šæ‹Ÿç¯å¢ƒå python=3.6 æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ 1234linux: source activate your_env_name(è™šæ‹Ÿç¯å¢ƒåç§°)windows: activate your_env_name(è™šæ‹Ÿç¯å¢ƒåç§°) è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…é¢å¤–çš„åŒ… 1conda install -n your_env_name [package] å…³é—­è™šæ‹Ÿç¯å¢ƒ 123Linux: source deactivateWindows: deactivate é…ç½®å›½å†…é•œåƒ 1234conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/freeconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/mainconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda conda config --set show_channel_urls true æŒ‰ç…§ç½‘ä¸Šçš„æ•™ç¨‹ä¼šè®©æ·»åŠ ï¼šconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forgeï¼Œä½†æˆ‘åŠ äº†åˆ›å»ºç¯å¢ƒæŠ¥é”™conda.core.subdir_data.Response304ContentUnchangedï¼ŒæŒ‰ç½‘ä¸Šæ•™ç¨‹conda config --remove channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge 1234567# http://Anaconda.orgçš„æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œå®‰è£…å¤šä¸ªpackagesæ—¶ï¼Œcondaä¸‹è½½çš„é€Ÿåº¦ç»å¸¸å¾ˆæ…¢ã€‚æ¸…åTUNAé•œåƒæºæœ‰Anacondaä»“åº“çš„é•œåƒï¼Œå°†å…¶åŠ å…¥condaçš„é…ç½®å³å¯ï¼š# æ·»åŠ Anacondaçš„TUNAé•œåƒconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/# TUNAçš„helpä¸­é•œåƒåœ°å€åŠ æœ‰å¼•å·ï¼Œéœ€è¦å»æ‰# è®¾ç½®æœç´¢æ—¶æ˜¾ç¤ºé€šé“åœ°å€conda config --set show_channel_urls yes","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"}]},{"title":"Githubä¸‹è½½ã€è®¿é—®æ…¢è§£å†³æ–¹æ³•[è½¬]","slug":"Githubä¸‹è½½ã€è®¿é—®æ…¢è§£å†³æ–¹æ³•-è½¬","date":"2019-09-23T08:36:21.000Z","updated":"2019-09-29T09:38:38.048Z","comments":true,"path":"2019/09/23/Githubä¸‹è½½ã€è®¿é—®æ…¢è§£å†³æ–¹æ³•-è½¬/","link":"","permalink":"https://nymrli.top/2019/09/23/Githubä¸‹è½½ã€è®¿é—®æ…¢è§£å†³æ–¹æ³•-è½¬/","excerpt":"","text":"Githubä¸‹è½½ã€è®¿é—®æ…¢è§£å†³æ–¹æ³•[è½¬] ä¸‹è½½tensorflowå°±16KiB/s,æ”¹å®Œåèƒ½æœ‰900+KiB/s ä¿®æ”¹hosts 1234567891011121314151617151.101.44.249 github.global.ssl.fastly.net192.30.253.113 github.com103.245.222.133 assets-cdn.github.com23.235.47.133 assets-cdn.github.com203.208.39.104 assets-cdn.github.com204.232.175.78 documentcloud.github.com204.232.175.94 gist.github.com107.21.116.220 help.github.com207.97.227.252 nodeload.github.com199.27.76.130 raw.github.com107.22.3.110 status.github.com204.232.175.78 training.github.com207.97.227.243 www.github.com185.31.16.184 github.global.ssl.fastly.net185.31.18.133 avatars0.githubusercontent.com185.31.19.133 avatars1.githubusercontent.com192.30.253.120 codeload.github.com windowsæ›´æ–°:ipconfig /flushdns linuxé‡å¯ç½‘ç»œæœåŠ¡:service network restart&lt;===&gt;/etc/init.d/networking restart(ä¸¤ä¸ªéƒ½æ²¡å°è¯•) æˆ‘é‡æ–°æ‰“å¼€ç»ˆç«¯å°±è¡Œäº†","categories":[],"tags":[{"name":"ç”Ÿæ´»ç¦åˆ©","slug":"ç”Ÿæ´»ç¦åˆ©","permalink":"https://nymrli.top/tags/ç”Ÿæ´»ç¦åˆ©/"},{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"}]},{"title":"åŒæ€§äº¤å‹ç½‘ç«™Githubçš„éªšæ“ä½œ","slug":"åŒæ€§äº¤å‹ç½‘ç«™Githubçš„éªšæ“ä½œ","date":"2019-09-21T03:56:19.000Z","updated":"2020-09-15T02:57:33.475Z","comments":true,"path":"2019/09/21/åŒæ€§äº¤å‹ç½‘ç«™Githubçš„éªšæ“ä½œ/","link":"","permalink":"https://nymrli.top/2019/09/21/åŒæ€§äº¤å‹ç½‘ç«™Githubçš„éªšæ“ä½œ/","excerpt":"","text":"åšå¥½çœ‹çš„REAMDE 123456789101112131415161718&lt;p align=\"center\"&gt; &lt;a href=\"https://travis-ci.com/xkcoding/spring-boot-demo\"&gt;&lt;img alt=\"Travis-CI\" src=\"https://travis-ci.com/xkcoding/spring-boot-demo.svg?branch=master\"/&gt;&lt;/a&gt; &lt;a href=\"https://www.codacy.com/app/xkcoding/spring-boot-demo?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=xkcoding/spring-boot-demo&amp;amp;utm_campaign=Badge_Grade\"&gt;&lt;img alt=\"Codacy\" src=\"https://api.codacy.com/project/badge/Grade/1f2e3d437b174bfc943dae1600332ec1\"/&gt;&lt;/a&gt; &lt;a href=\"https://xkcoding.com\"&gt;&lt;img alt=\"author\" src=\"https://img.shields.io/badge/author-Yangkai.Shen-blue.svg\"/&gt;&lt;/a&gt; &lt;a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\"&gt;&lt;img alt=\"JDK\" src=\"https://img.shields.io/badge/JDK-1.8.0_162-orange.svg\"/&gt;&lt;/a&gt; &lt;a href=\"https://docs.spring.io/spring-boot/docs/2.1.0.RELEASE/reference/html/\"&gt;&lt;img alt=\"Spring Boot\" src=\"https://img.shields.io/badge/Spring Boot-2.1.0.RELEASE-brightgreen.svg\"/&gt;&lt;/a&gt; &lt;a href=\"https://github.com/xkcoding/spring-boot-demo/blob/master/LICENSE\"&gt;&lt;img alt=\"LICENSE\" src=\"https://img.shields.io/github/license/xkcoding/spring-boot-demo.svg\"/&gt;&lt;/a&gt; &lt;/p&gt;&lt;p align=\"center\"&gt; &lt;a href=\"https://github.com/xkcoding/spring-boot-demo/stargazers\"&gt;&lt;img alt=\"star\" src=\"https://img.shields.io/github/stars/xkcoding/spring-boot-demo.svg?label=Stars&amp;style=social\"/&gt;&lt;/a&gt; &lt;a href=\"https://github.com/xkcoding/spring-boot-demo/network/members\"&gt;&lt;img alt=\"star\" src=\"https://img.shields.io/github/forks/xkcoding/spring-boot-demo.svg?label=Fork&amp;style=social\"/&gt;&lt;/a&gt; &lt;a href=\"https://github.com/xkcoding/spring-boot-demo/watchers\"&gt;&lt;img alt=\"star\" src=\"https://img.shields.io/github/watchers/xkcoding/spring-boot-demo.svg?label=Watch&amp;style=social\"/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p align=\"center\"&gt; &lt;span&gt;ä¸­æ–‡ | &lt;a href=\"./README.en.md\"&gt;English&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; é¡¹ç›®æ¡å¹… Q: Github ä¸Šå„å¼å„æ ·çš„å°å¾½ç« ä»ä½•è€Œæ¥? A: Substats å’Œ Shields.io Shields.ioè¯­æ³•è§„åˆ™ : ![{å·¦åŠéƒ¨åˆ†æ ‡ç­¾}](https://img.shields.io/badge/{å·¦åŠéƒ¨åˆ†æ ‡ç­¾}-{å³åŠéƒ¨åˆ†æ ‡ç­¾}-{å³åŠéƒ¨åˆ†é¢œè‰²}), æ•ˆæœå¦‚ä¸‹ Substats å¯¹åŠ¨æ€å¾½ç« æ”¯æŒçš„æ›´å¥½! 1234[![Stargazers](https://img.shields.io/github/stars/NJUPTFreeExams/NJUPT-CS-Free-Exams.svg?style=for-the-badge)](https://github.com/NJUPTFreeExams/NJUPT-CS-Free-Exams/stargazers)[![Forks](https://img.shields.io/github/forks/NJUPTFreeExams/NJUPT-CS-Free-Exams.svg?style=for-the-badge)](https://github.com/NJUPTFreeExams/NJUPT-CS-Free-Exams/network/members)[![cloed prs](https://img.shields.io/github/issues-pr-closed-raw/NJUPTFreeExams/NJUPT-CS-Free-Exams.svg?style=for-the-badge)](https://github.com/NJUPTFreeExams/NJUPT-CS-Free-Exams/pulls)! sponsorsèµ„åŠ©è€…: opencollectiveâ€”â€”https://opencollective.com/ è´¡çŒ®è€…åå• 123456789101112131415161718192021## è´¡çŒ®è€…åå•&lt;a href=\"https://github.com/imguozr\"&gt; &lt;img src=\"https://avatars1.githubusercontent.com/u/30227124?v=4\" width=\"50px\"&gt;&lt;/a&gt;&lt;a href=\"https://github.com/Wonz5130\"&gt; &lt;img src=\"https://avatars1.githubusercontent.com/u/35889526?v=4\" width=\"50px\"&gt;&lt;/a&gt;&lt;a href=\"https://github.com/Wen-He\"&gt; &lt;img src=\"https://avatars0.githubusercontent.com/u/18651139?v=4\" width=\"50px\"&gt;&lt;/a&gt;&lt;a href=\"https://github.com/chenkangyang\"&gt; &lt;img src=\"https://avatars2.githubusercontent.com/u/28588778?v=4\" width=\"50px\"&gt;&lt;/a&gt;&lt;a href=\"https://github.com/Davont\"&gt; &lt;img src=\"https://avatars0.githubusercontent.com/u/28757633?v=4\" width=\"50px\"&gt;&lt;/a&gt; ä¸­è‹±æ–‡Readme ç”±äºGithubä¼šé»˜è®¤å±•ç¤ºå½“å‰ç›®å½•ä¸‹çš„README.mdï¼Œå› æ­¤README.mdä¸­çš„å†…å®¹ä¸ºé»˜è®¤è¯­è¨€å³å¯ã€‚ è€Œéœ€è¦æä¾›å…¶ä»–è¯­è¨€ç‰ˆæœ¬çš„READMEï¼Œéœ€è¦é¢å¤–åˆ›å»ºmarkdownæ–‡ä»¶ï¼Œ ç„¶åé€šè¿‡è¶…é“¾æ¥åˆ‡æ¢ã€‚e.g.é»˜è®¤è‹±æ–‡ï¼Œåˆ™REAMDE.mdä¸­ç”¨è‹±æ–‡åšä»‹ç»ï¼ŒåŒæ—¶å†åˆ›ä¸€ä¸ªä¸­æ–‡çš„README-zh_CN.mdå³å¯ã€‚ Copy README æˆäººé±¼ä¸å¦‚æˆäººä»¥æ¸” Qï¼šåˆ«äººçš„REAMDEéƒ½é‚£ä¹ˆç‚«é…·ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ A:ç‚¹å‡»ä»–äººçš„README.mdæ–‡ä»¶ï¼Œç„¶åæ˜¾ç¤ºRawå°±èƒ½çœ‹åˆ°htmlè¾£ï¼Œç”±äºmarkdownè¯­æ³•æ˜¯æ”¯æŒåµŒå…¥htmlï¼Œå› æ­¤åªè¦æŠŠç»“æ„å¤åˆ¶ã€æ”¹ä¸‹å†…å®¹å°±æˆäº†ã€‚ æ”¶è—çš„å¥½çœ‹çš„REAMDE ant-design-vue shieldæ•™ç¨‹ï¼š é™„å½• å•å‡»åˆ—è¡¨ å½“æIssueçš„æ—¶å€™ï¼Œæ€»ä¼šè´´å¾ˆé•¿çš„ä»£ç ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•ç¾è§‚ä¸€ç‚¹å‘¢ï¼Œæ–¹æ³•å¦‚ä¸‹ 12345&lt;details&gt;&lt;summary&gt;Content of debug log&lt;/summary&gt;&lt;pre&gt;Paste content here ...&lt;/pre&gt;&lt;/details&gt; æ•ˆæœå¦‚ä¸‹","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"}]},{"title":"æ­å»ºJupyterã€JupyterLabæœåŠ¡å™¨","slug":"æ­å»ºJupyteræœåŠ¡å™¨","date":"2019-09-21T01:53:01.000Z","updated":"2020-12-05T06:22:02.798Z","comments":true,"path":"2019/09/21/æ­å»ºJupyteræœåŠ¡å™¨/","link":"","permalink":"https://nymrli.top/2019/09/21/æ­å»ºJupyteræœåŠ¡å™¨/","excerpt":"","text":"æ­å»ºJupyteræœåŠ¡å™¨ 1.é…ç½®å¥½Pythonç¯å¢ƒåŠå®‰è£…pip 2.å®‰è£…jupyter: pip3 install jupyter (æ­¤å¤„ä½¿ç”¨çš„æ˜¯python3) 3.ç”Ÿæˆé…ç½®æ–‡ä»¶ jupyter notebook --generate-config 4.ç”Ÿæˆå¯†é’¥: ç»ˆç«¯è¾“å…¥$ ipython 123456In [1]: from notebook.auth import passwdIn [2]: passwd()Enter password: Verify password: #æ­¤æ—¶ä¼šè®©ä½ ä¸¤æ¬¡è¾“å…¥å¯†ç ï¼Œç„¶åå°±ä¼šç”Ÿæˆç§˜é’¥#ï¼Šï¼Šï¼Šï¼Šï¼Šï¼Šï¼Šï¼Šï¼Šï¼Šï¼Šï¼Š 5.ä¿®æ”¹é…ç½®æ–‡ä»¶vim ~/.jupyter/jupyter_notebook_config.py 1234567c=get_config()c.IPKernelApp.pylab =\"inline\"c.NotebookApp.ip='*' # è®¾ç½®æ‰€æœ‰ipçš†å¯è®¿é—®c.NotebookApp.password = 'sha1:x' # åˆšç”Ÿæˆçš„å¯†æ–‡c.NotebookApp.open_browser = False # ç¦æ­¢è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨c.NotebookApp.port = 9999 # æŒ‡å®šè¿è¡Œç«¯å£c.NotebookApp.notebook_dir = '/home/apollo3d/tf/jupyter_home' # æŒ‡å®šJupyterçš„å·¥ä½œç›®å½• æ‹“å±•:äº‘æœåŠ¡å™¨æ­å»ºç¥å™¨JupyterLab(è½¬) JupyterLabæ˜¯ä¸€ä¸ªäº¤äº’å¼çš„å¼€å‘ç¯å¢ƒï¼Œå…¶ç”¨äºåº”å¯¹åŒ…å«ç€notebookã€ä»£ç ä»¥åŠæ•°æ®çš„å·¥ä½œåœºæ™¯ã€‚ 1ã€å‰è¨€ å¦‚æœè¯´vimæ˜¯ç¼–è¾‘å™¨ä¹‹ç¥ï¼Œé‚£ä¹ˆJupyterLabå°±æ˜¯ç¬”è®°æœ¬ä¹‹ç¥ã€‚ ä»2017å¹´å¼€å§‹æˆ‘æ³¨æ„åˆ°è¿™ä¸€ç¥å¥‡çš„IDEç¬”è®°æœ¬ï¼Œç¬¬ä¸€çœ¼è§åˆ°å®ƒï¼Œå°±è§‰å¾—å®ƒçœŸçš„å¤ªå¼ºå¤§äº†ï¼Œä½œä¸ºä¸€ä¸ªäº¤äº’å¼çš„Pythonå¼€å‘å·¥å…·ï¼Œå…¶å®ä¹Ÿä¸ç®—å¼€å‘å·¥å…·ï¼Œå‡†ç¡®çš„æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¼”ç¤ºä»£ç çš„ç§‘å­¦æ•°æ®å·¥å…·ï¼Œæ”¯æŒmarkdowné¢„è§ˆï¼Œæ”¯æŒDrawæ‰©å±•ï¼Œæ”¯æŒä¸°å¯Œçš„æ–‡ä»¶æ ¼å¼å’Œå¤šç§å¼€å‘è¯­è¨€ï¼Œæ‹¥æœ‰ä¼—å¤šæ’ä»¶è¯¸äºGitHubï¼Œ Google-Dirveï¼Œ Gitå’ŒTOCï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒæ˜¯æŠŠæµè§ˆå™¨å½“ä½œå¼€å‘å·¥å…·ï¼Œååˆ†æœ‰åˆ›æ„ã€‚JupyterLabçš„å¼€å‘è€…ä¼—å¤šï¼ŒGitHubä¸Šé¢çš„isuueä¹Ÿååˆ†æ´»è·ƒï¼Œä¼—å¤šçš„å¤§ç‰›å¼€å‘è€…ä¹Ÿçº·çº·åŠ å…¥åˆ°JupyterLabçš„é˜µè¥ï¼Œä¸ºJupyterLabçš„å‘å±•ä½œè´¡çŒ®ï¼ŒJupyterLabå¾—åˆ°è¿…é€Ÿå‘å±•ã€‚ å¥½çš„å·¥å…·å½“ç„¶æ˜¯è¦å¥½å¥½åˆ©ç”¨äº†ï¼Œå›å½’æ­£é¢˜ï¼Œæ€æ ·é€šè¿‡äº‘æœåŠ¡å™¨æ­å»ºä¸€ä¸ªå¯è¿œç¨‹ä½¿ç”¨çš„JupyterLab? 2ã€æ·»åŠ ppaæº 1234root@iZwz9huxtbd86xp91s3j16Z:~# sudo add-apt-repository ppa:chronitis/jupyter$ sudo: add-apt-repository: command not found# å‡ºç°è¿™ç§æƒ…å†µ,å¯ä»¥å¦‚ä¸‹è§£å†³# $ sudo apt-get install software-properties-common 3ã€é…ç½®python 123456$ sudo apt-get install python-pip python-dev build-essential $ sudo pip install --upgrade pip # $ sudo pip install --upgrade virtualenv #å®‰è£…è™šæ‹Ÿç¯å¢ƒ# å‡çº§pip$ sudo pip3 install --upgrade pip$ sudo pip2 install --upgrade pip å¦‚æœæ²¡æœ‰æ¢æº,å…ˆè¿›è¡Œæ¢æº,ä¸‹è½½é€Ÿåº¦ä¼šå¿«å¾ˆå¤š é˜¿é‡Œäº‘ http://mirrors.aliyun.com/pypi/simple/ ä¸­å›½ç§‘æŠ€å¤§å­¦ https://pypi.mirrors.ustc.edu.cn/simple/ è±†ç“£(douban) http://pypi.douban.com/simple/ æ¸…åå¤§å­¦ https://pypi.tuna.tsinghua.edu.cn/simple/ ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ http://pypi.mirrors.ustc.edu.cn/simple/ 123cat &gt; ~/.pip/pip.conf[global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple npmå’Œyarnä¹Ÿå¯ä»¥æ¢æºï¼Œæ›´ç®€å•ï¼Œè‡ªè¡Œgoogleã€‚ pipå›½å†…çš„ä¸€äº›é•œåƒåŒ…,æ¢æºä¹‹åå‡ºç°python2ç‰ˆæœ¬è¿‡ä½çš„æƒ…å†µå¯¼è‡´ä»¥å‰çš„åŒ…ä¸‹è½½ä¸äº†ï¼Œé‚£å°±ç›´æ¥å°†æ–‡ä»¶å¤¹~/.pip/pip.confåˆ é™¤å°±å¯ä»¥æ¢å¤åŸæ¥çš„æºã€‚ pipæŒ‡å‘é—®é¢˜ æœ‰æ—¶å€™ä¼šå‡ºç°pip,pip2,pip3éƒ½TMæŒ‡å‘python2ï¼Œè¿™ä¸ªä¹‹åå°±éœ€è¦æ”¹ä¸€ä¸‹è¿™è¿™ä¸‰ä¸ªæ–‡ä»¶ã€‚ ç¼–è¾‘è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼Œå°†ç¬¬ä¸€è¡Œæ³¨é‡Šåˆ†åˆ«æ”¹ä¸ºpython\\python2\\python3 12345678~ $which pip/usr/local/bin/pip21:36 alien@alien-Inspiron-3443:~ $which pip2/usr/local/bin/pip221:36 alien@alien-Inspiron-3443:~ $which pip3/usr/local/bin/pip3 å®‰è£…yarnå’Œnodejs é…ç½®ä»“åº“ 12curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list å®‰è£…yarn 123sudo apt-get updatesudo apt-get install yarn# å¦‚æœè¿™è¾¹å®‰è£…å,æŠ¥é”™NameError: name 'CoreConfig' is not defined,é‚£ä¹ˆéœ€è¦æ›´æ–°nodejsç‰ˆæœ¬ æ³¨æ„è¿™é‡Œyarnè‡ªåŠ¨å®‰è£…äº†nodejsï¼Œä¸è¿‡ç‰ˆæœ¬å¤ªä½ï¼Œå®‰è£…jupyterlabçš„æ—¶å€™ä¼šå‡ºé—®é¢˜ï¼Œè€Œä¸”ä½¿ç”¨næˆ–è€…nvmå®‰è£…çš„nodejsä¹Ÿæœ‰é—®é¢˜ï¼Œæ€»ä¹‹nodejsè¦æŒ‰ç…§ä¸‹é¢è¿™ç§æ–¹å¼å°±æ²¡äº‹ï¼Œè¿™ä¸ªæ˜¯å®˜æ–¹çš„bugï¼Œå®˜æ–¹issueä¹Ÿæåˆ°è¿‡ï¼Œä½†æ˜¯ç›®å‰è¿˜æœªè§£å†³ã€‚ å¦‚æœç‰ˆæœ¬è¿‡ä½,å®‰è£…æ’ä»¶ã€æˆ–æ˜¯jupyter lab buildå‘ç”ŸNameError: name 'CoreConfig' is not definedé”™è¯¯,åˆ™å¯èƒ½æ˜¯nodejsç‰ˆæœ¬è¿‡ä½å¯¼è‡´.æˆ‘å‡ºç°è¿™ä¸ªBugåæ‰¾äº†æäº†issueä¹Ÿæ²¡è§£å†³,åæ¥çªç„¶æƒ³èµ·äº†è¿™è¾¹æåˆ°çš„nodejsç‰ˆæœ¬é—®é¢˜,äºæ˜¯æ›´æ–°åè§£å†³â€¦nodejsæ›´æ–°æ–¹å¼è§é™„å½• å®‰è£…nodejs åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œè¾“å…¥ä¸¤è¡Œdebï¼Œç»“æŸä¹‹åCtrl+C: 123cat &gt; /etc/apt/sources.list.d/nodesource.listdeb https://deb.nodesource.com/node_6.x xenial maindeb-src https://deb.nodesource.com/node_6.x xenial main å¯¼å…¥å…¬åŒ™å¹¶å®‰è£…nodejsï¼Œè¿™ä¸ªç‰ˆæœ¬çš„nodejså¯¹jupyterlabæ”¯æŒæ¯”è¾ƒå‹å¥½ã€‚ 123456789101112131415161718192021curl -s https://deb.nodesource.com/gpgkey/nodesource.gpg.key | sudo apt-key add -sudo apt-get updateapt-cache policy nodejssudo apt-get install nodejsnodejs --versionâ€‹```shell#### å®‰è£…`ipython,matplotlib,scipy,pandas,numpy`æœ€å¥½`python2`å’Œ`python3`éƒ½å®‰è£…ã€‚## å®‰è£…`JupyterLab`åŠå…¶é…ç½®&gt; é…ç½®åŒä¸Šæ–‡Jupyteré…ç½®â€‹```shell# å®‰è£…sudo pip3 install jupyterlab# ç”Ÿæˆå¯†ç jupyter-notebook password åˆ›å»ºå“ˆå¸Œå¯†ç  12345from notebook.auth import passwdpasswd()# è¾“å…¥ä½ è‡ªå·±è®¾ç½®ç™»å½•JupyterLabç•Œé¢çš„å¯†ç ï¼Œ# ç„¶åå°±ä¼šç”Ÿäº§ä¸‹é¢è¿™æ ·çš„å¯†ç ï¼Œå°†å®ƒè®°ä¸‹æ¥ï¼Œå¾…ä¼šå„¿ç”¨'sha1:b92f3fb7d848:a5d40ab2e26aa3b296ae1faa17aa34d3df351704' ä¿®æ”¹JupyterLabé…ç½®æ–‡ä»¶ å…ˆç”Ÿæˆä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œè®°ä¸‹è¾“å‡ºçš„é…ç½®æ–‡ä»¶åœ°å€ jupyter lab --generate-config-&gt; 123456c.NotebookApp.allow_root = True #å…è®¸ä»¥rootæ–¹å¼è¿è¡Œjupyterlabc.NotebookApp.ip = '0.0.0.0' #å…è®¸ä»»æ„ipæ®µè®¿é—®c.NotebookApp.notebook_dir = u'/root/JupyterLab' # è®¾ç½®jupyterlabé¡µé¢çš„æ ¹ç›®å½•c.NotebookApp.open_browser = False#é»˜è®¤è¿è¡Œæ—¶ä¸å¯åŠ¨æµè§ˆå™¨ï¼Œå› ä¸ºæœåŠ¡å™¨é»˜è®¤åªæœ‰ç»ˆç«¯c.NotebookApp.password = u'sha1:b92f3fb7d848:a5d40ab2e26aa3b296ae1faa17aa34d3df351704'#è®¾ç½®ä¹‹å‰ç”Ÿäº§çš„å“ˆå¸Œå¯†ç c.NotebookApp.port = 8080#è®¾ç½®è®¿é—®ç«¯å£ åˆ°æ­¤ï¼ŒJupyterLabå·²ç»å®‰è£…æˆåŠŸäº†ã€‚ 12345678$ jupyter-lab --version&gt;&gt;&gt; 0.33.12$ jupyter lab build# buildæ²¡æˆåŠŸï¼Œå¯ä»¥çœ‹çœ‹æ˜¯ä¸æ˜¯å†…å­˜é™åˆ¶ï¼Œè¯•è¯•ä¸‹é¢çš„å‘½ä»¤# cross-env NODE_OPTIONS=--max_old_space_size=4096 webpack --config webpack.prod.minimize.config.jserror Command failed with exit code 1.\"\"\"# jupyter lab build --minimize=False jupyter lab buildæ—¶é—´æœ‰ç‚¹ä¹…ï¼Œå¦‚æœæ²¡æŠ¥é”™å°±æˆåŠŸäº† 4ã€è¿è¡ŒJupyterLab 1$ jupyter lab &amp; JupyterLabè¿è¡Œè™šæ‹Ÿç¯å¢ƒ åœ¨jupyter labä¸­ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ è¿›å…¥è™šæ‹Ÿç¯å¢ƒåè¾“å…¥ä»¥ä¸‹ä»£ç ï¼Œåˆ™åœ¨jupyterä¸­åˆ›å»ºå‡ºè™šæ‹Ÿç¯å¢ƒ(env_name)ä¸‹çš„kernel 12pip install ipykernelpython -m ipykernel install --user --name env_name åˆ é™¤åˆ›å»ºçš„kernel CMDçª—å£ä¸‹æ‰“å¼€jupyter labåè‹¥è¦å…³é—­ï¼ŒCtrl+Cï¼›ä¹Ÿå¯åœ¨jupyter labä¸­æ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼Œä½†æ­¤æ—¶è¾“å…¥é€€å‡º/æ‰“å¼€è™šæ‹Ÿç¯å¢ƒå‘½ä»¤(deactivate/workonç­‰)æ˜¯æ— æ•ˆçš„ï¼Œå³å§‹ç»ˆå¤„åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ 12jupyter kernelspec list #æŸ¥çœ‹æ‰€æœ‰kerneljupyter kernelspec remove kernel_name #å¸è½½kernel_name JupyterLabæ‰©å±•å®‰è£… 1234567jupyter labextension list # æŸ¥çœ‹å·²ç»å®‰è£…çš„æ‰©å±•åŠå…¶çŠ¶æ€ï¼šjupyter labextension install @mflevine/jupyterlab_html # æ¯”å¦‚å®‰è£…ä¸€ä¸ªæ‰©å±•jupyterlab_htmlï¼Œæ”¯æŒhtmlé¢„è§ˆ:jupyter labextension uninstall @mflevine/jupyterlab_html #å¸è½½æ‰©å±•:jupyter labextension update --all #æ›´æ–°æ‰€æœ‰æ‰©å±•:# å®‰è£…ä¸€ä¸ªç”Ÿæˆç›®å½•çš„æ’ä»¶jupyter labextension install @jupyterlab/toc è¿˜æœ‰åŠŸèƒ½ æ”¯æŒåšå›¾ markdown å¤šæ ‡ç­¾ å†…éƒ¨æ‰“å¼€ç½‘é¡µ latex å¿«æ·é”® ç¼–è¾‘æ¨¡å¼å‘½ä»¤ æ‰§è¡Œå½“å‰cellï¼Œæ‰§è¡Œåä¸è‡ªåŠ¨è°ƒè½¬åˆ°ä¸‹ä¸€ä¸ªcellï¼šCtrl-Enter ä½¿å½“å‰çš„cellè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼šEnter é€€å‡ºå½“å‰cellçš„ç¼–è¾‘æ¨¡å¼ï¼šEsc å‘½ä»¤æ¨¡å¼: åˆ é™¤å½“å‰çš„cellï¼šåŒD ä¸ºå½“å‰çš„cellåŠ å…¥line numberï¼šå•L å°†å½“å‰çš„cellè½¬åŒ–ä¸ºå…·æœ‰ä¸€çº§æ ‡é¢˜çš„maskdownï¼šå•1 å°†å½“å‰çš„cellè½¬åŒ–ä¸ºå…·æœ‰äºŒçº§æ ‡é¢˜çš„maskdownï¼šå•2 å°†å½“å‰çš„cellè½¬åŒ–ä¸ºå…·æœ‰ä¸‰çº§æ ‡é¢˜çš„maskdownï¼šå•3 æ’¤é”€å¯¹æŸä¸ªcellçš„åˆ é™¤ï¼šz æµè§ˆå™¨çš„å„ä¸ªTabä¹‹é—´åˆ‡æ¢ï¼šUpå’ŒDn é™„å½• jupyter notebookè®¾ç½®ä¸€ä¸ªæ‰§è¡Œå•å…ƒå¤šä¸ªè¾“å‡º 12from IPython.core.interactiveshell import InteractiveShellInteractiveShell.ast_node_interactivity = \"all\" nodejsæ›´æ–° 1234567891011# æŸ¥çœ‹æ›´æ–°å‰çš„ç‰ˆæœ¬$ node -vv4.2.1$ sudo npm cache clean -f$ sudo npm install -g n$ sudo n stable # è½¯é“¾æ¥,VERSIONæ”¹æˆæ–°çš„ç‰ˆæœ¬(åˆ äº†åæŒ‰TABé”®)$ sudo ln -sf /usr/local/n/versions/node/&lt;VERSION&gt;/bin/node /usr/bin/nodejs# æŸ¥çœ‹æ˜¯å¦æ›´æ–°æˆåŠŸ$ node -vv10.16.3 å®‰è£…å†…æ ¸ å®‰è£…Pythonå†…æ ¸ å¦‚æœéœ€è¦python2å’Œpython3åŒæ—¶å­˜åœ¨çš„è¯ 12345678$ sudo pip2 install ipykernel$ sudo pip3 install ipykernel# æŸ¥çœ‹å·²ç»å®‰è£…çš„å†…æ ¸jupyter kernelspec list# åˆ é™¤ä½ ä¸éœ€è¦çš„å†…æ ¸$ jupyter kernelspec remove &lt;kernel_name&gt;/root/JupyterLab å®‰è£…ijavascript 12345sudo add-apt-repository ppa:chronitis/jupytersudo apt-get updatesudo apt-get install ijavascript# ihaskellã€ijuliaã€irkernelã€iruby# https://github.com/jupyter/jupyter/wiki/Jupyter-kernels æ’ä»¶å®‰è£… jupyterlab-toc(ç›®å½•åŠŸèƒ½) Installation 1jupyter labextension install @jupyterlab/toc Jupyterlab-Tensorboard Installation 1$ jupyter labextension install jupyterlab_tensorboard ](http://image.rexking6.top/img/clip1545289922.png) JupyterLab drawio(processonå›¾) Installation 1jupyter labextension install jupyterlab-drawio æ³¨,å›¾ç‰‡æ¥è‡ªRexKing6â€™s Note variableinspector åƒmatlabä¸€æ ·æŸ¥çœ‹å·¥ä½œåŒºå˜é‡ jupyter labextension install @lckr/jupyterlab_variableinspector go_to_definitionæ’ä»¶ åœ¨labä¸­æŒ‰alt+ ç‚¹å‡»å˜é‡å or å‡½æ•°åï¼Œå¯ä»¥è·³è½¬åˆ°å…¶å¯¹åº”çš„æœ€åˆå®šä¹‰çš„åœ°æ–¹(æ³¨æ„çœ‹é—ªçƒå…‰æ ‡çš„ä½ç½®å˜åŒ–)ã€‚ å¿«æ·é”® Up : é€‰ä¸­ä¸Šæ–¹å•å…ƒ K : é€‰ä¸­ä¸Šæ–¹å•å…ƒ Down : é€‰ä¸­ä¸‹æ–¹å•å…ƒ J : é€‰ä¸­ä¸‹æ–¹å•å…ƒ Shift-K : æ‰©å¤§é€‰ä¸­ä¸Šæ–¹å•å…ƒ Shift-J : æ‰©å¤§é€‰ä¸­ä¸‹æ–¹å•å…ƒ A : åœ¨ä¸Šæ–¹æ’å…¥æ–°å•å…ƒ B : åœ¨ä¸‹æ–¹æ’å…¥æ–°å•å…ƒ X : å‰ªåˆ‡é€‰ä¸­çš„å•å…ƒ C : å¤åˆ¶é€‰ä¸­çš„å•å…ƒ Shift-V : ç²˜è´´åˆ°ä¸Šæ–¹å•å…ƒ V : ç²˜è´´åˆ°ä¸‹æ–¹å•å…ƒ Z : æ¢å¤åˆ é™¤çš„æœ€åä¸€ä¸ªå•å…ƒ D,D : åˆ é™¤é€‰ä¸­çš„å•å…ƒ Shift-M : åˆå¹¶é€‰ä¸­çš„å•å…ƒ I,I : ä¸­æ–­Notebookå†…æ ¸0,0 0,0 :é‡å¯Notebookå†…æ ¸ Tab : ä»£ç è¡¥å…¨æˆ–ç¼©è¿› Shift-Tab : æç¤º Ctrl-] : ç¼©è¿› Ctrl-[ : è§£é™¤ç¼©è¿› Ctrl-A : å…¨é€‰ Ctrl-Z : å¤åŸ Ctrl-Shift-Z : å†åš Ctrl-Y : å†åš Ctrl-Home : è·³åˆ°å•å…ƒå¼€å¤´ Ctrl-Up : è·³åˆ°å•å…ƒå¼€å¤´ Ctrl-End : è·³åˆ°å•å…ƒæœ«å°¾ Ctrl-Down : è·³åˆ°å•å…ƒæœ«å°¾ Ctrl-Left : è·³åˆ°å·¦è¾¹ä¸€ä¸ªå­—é¦– Ctrl-Right : è·³åˆ°å³è¾¹ä¸€ä¸ªå­—é¦– Ctrl-Backspace : åˆ é™¤å‰é¢ä¸€ä¸ªå­— Ctrl-Delete : åˆ é™¤åé¢ä¸€ä¸ªå­— Esc : è¿›å…¥å‘½ä»¤æ¨¡å¼ Ctrl-M : è¿›å…¥å‘½ä»¤æ¨¡å¼ Shift-Enter : è¿è¡Œæœ¬å•å…ƒï¼Œé€‰ä¸­ä¸‹ä¸€å•å…ƒ Ctrl-Enter : è¿è¡Œæœ¬å•å…ƒ Alt-Enter : è¿è¡Œæœ¬å•å…ƒï¼Œåœ¨ä¸‹é¢æ’å…¥ä¸€å•å…ƒ Ctrl-Shift-- : åˆ†å‰²å•å…ƒ Ctrl-Shift-Subtract : åˆ†å‰²å•å…ƒ Ctrl-S : æ–‡ä»¶å­˜ç›˜ Shift : å¿½ç•¥ Up : å…‰æ ‡ä¸Šç§»æˆ–è½¬å…¥ä¸Šä¸€å•å…ƒ Down :å…‰æ ‡ä¸‹ç§»æˆ–è½¬å…¥ä¸‹ä¸€å•å…ƒ","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","date":"2019-09-19T12:32:44.000Z","updated":"2021-11-26T12:31:04.502Z","comments":true,"path":"2019/09/19/æ·±åº¦å­¦ä¹ /","link":"","permalink":"https://nymrli.top/2019/09/19/æ·±åº¦å­¦ä¹ /","excerpt":"","text":"æ·±åº¦å­¦ä¹ â€”â€”ç¥ç»ç½‘ç»œ æ„å»ºç½‘ç»œçš„æ€»åŸåˆ™ ä¸€ã€å¢å¤§ç½‘ç»œå®¹é‡ï¼Œç›´åˆ°è¿‡æ‹Ÿå‘½ äºŒã€é‡‡å–æªæ–½æŠ‘åˆ¶è¿‡æ‹Ÿåˆ ä¸‰ã€ç»§ç»­å¢å¤§ç½‘ç»œå®¹é‡ï¼Œç›´åˆ°è¿‡æ‹Ÿåˆ çº¿æ€§å›å½’ 1234567891011121314151617181920212223242526272829303132333435363738# -*- coding: utf-8 -*-# Commented out IPython magic to ensure Python compatibility.import kerasimport numpy as npimport matplotlib.pyplot as plt# %matplotlib inlinex = np.linspace(0,80,50)y = 3*x + np.random.randn(50)*15# print(x,y,sep='\\n')plt.scatter(x,y)from keras import layers# åˆå§‹åŒ–æ¨¡å‹model = keras.Sequential()# å¢åŠ ä¸€å±‚ï¼šå…¨è¿æ¥å±‚model.add(layers.Dense(1,input_dim=1))model.summary()# ç¼–è¯‘æ¨¡å‹model.compile(optimizer='adam', loss='mse')# è®­ç»ƒæ¨¡å‹# æ–¹æ³•ä¸€model.fit(x,y,epochs=2000)# æ–¹æ³•äºŒ#for setp in range(3001):# cost = model.train_on_batch(x_data,y_data)# if step % 500 == 0:# print('cost:',cost)#w,b = model.layers[0].get_weights()predict_y = model.predict(x)plt.scatter(x,y,s=10,c='r')plt.plot(x,predict_y) éçº¿æ€§å›å½’ æ¿€æ´»å‡½æ•° softmax Si=eiâˆ‘jejS_{i}=\\frac{e^{i}}{\\sum_{j} e^{j}}Siâ€‹=âˆ‘jâ€‹ejeiâ€‹ sigmod: logistic: èŒƒå›´æ˜¯[0,1] f(t)=etet+1=11+eâˆ’tf(t)=\\frac{\\mathrm{e}^{t}}{\\mathrm{e}^{t}+1}=\\frac{1}{1+\\mathrm{e}^{-t}}f(t)=et+1etâ€‹=1+eâˆ’t1â€‹ reLU f(x)=max(0,x)f(x)=max(0,x)f(x)=max(0,x) tanh è·Ÿsigmoidå‡½æ•°å¾ˆåƒ,ä½†æ˜¯èŒƒå›´æ˜¯[-1,1],è€Œä¸æ˜¯[0,1],å®è´¨æ˜¯sigmoidå‡½æ•°å¹³ç§» tanhâ¡(x)=sinhâ¡xcoshâ¡x=exâˆ’eâˆ’xex+eâˆ’x\\tanh(x)=\\frac{\\sinh x}{\\cosh x}=\\frac{e^{x}-e^{-x}}{e^{x}+e^{-x}}tanh(x)=coshxsinhxâ€‹=ex+eâˆ’xexâˆ’eâˆ’xâ€‹ TensorFlowä¸­å…¶ä»–çš„å‡½æ•°ï¼š â—tf.nn.elu(x)ï¼š æŒ‡æ•°çº¿æ€§å•å…ƒï¼› å¦‚æœè¾“å…¥å°äº0ï¼Œ è¿”å›exp(x)-1ï¼› å¦ åˆ™ï¼Œ è¿”å›xï¼› â—tf.softsign(x)ï¼š è¿”å›x/(abs(x)+1)ï¼› â—tf.nn.bias_add(value,bias)ï¼š å¢åŠ ä¸€ä¸ªbiasåˆ°valueã€‚ Tensorflow: å¼ é‡â€”â€”æ•°æ® : å¤šç»´æ•°ç»„,é˜¶:å¼ é‡çš„ç»´æ•° è®¡ç®—å›¾â€”â€”ç¥ç»ç½‘ç»œ æ­å»ºç¥ç»ç½‘ç»œçš„è®¡ç®—è¿‡ç¨‹,åªæ­å»º,ä¸è¿ç®— ä¼šè¯â€”â€”æ‰§è¡Œè®¡ç®—å›¾===&gt;ä¼˜åŒ–çº¿ä¸Šçš„æƒé‡====&gt;æƒé‡ ç¥ç»ç½‘ç»œå®ç°è¿‡ç¨‹ 1.å‡†å¤‡æ•°æ®é›†,æå–ç‰¹å¾,ä½œä¸ºè¾“å…¥ 2.æ­å»ºNNç»“æ„,ä»è¾“å…¥åˆ°è¾“å‡º==&gt;(NNå‰å‘ä¼ æ’­) 3.å¤§é‡ç‰¹å¾æ•°æ®å–‚ç»™NN,è¿­ä»£ä¼˜åŒ–NNå‚æ•°==&gt;(NNåå‘ä¼ æ’­) 4.ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹é¢„æµ‹å’Œåˆ†ç±» &gt;å…«è‚¡:å‡†å¤‡,å‰ä¼ ,åä¼ ,è¿­ä»£&lt; 12x = tf.placehold(tf.float32,shape=(1,2)) #å ä½ç¬¦sess.run(è¦è®¡ç®—çš„èŠ‚ç‚¹,feed_dict=&#123;x:[[1.3,2.0]]&#125;) 12Init_op = tf.global_variables_initializer()sess.run(Init_op) y = matmul(x,w1)`ç›¸ä¹˜ ã€ŠTensorFlowæœºå™¨å­¦ä¹ é¡¹ç›®å®æˆ˜ã€‹ç¬”è®° å¼ é‡ TensorFlowåŸºäºå¼ é‡æ•°æ®ç®¡ç†ã€‚ å¼ é‡æ˜¯æ•°å­¦é¢†åŸŸçš„æ¦‚å¿µï¼Œ å¹¶ä¸”è¢«å¼€ å‘ä¸ºå‘é‡å’ŒçŸ©é˜µçš„çº¿æ€§ä»£æ•°é¡¹çš„æ³›åŒ–ã€‚ ä¸€ä¸ªå¼ é‡å°±æ˜¯ä¸€ä¸ªå¼ é‡ç±»çš„å®ä¾‹ï¼Œ æ˜¯ç»‘å®šäº†ç›¸å…³è¿ç®—çš„ä¸€ä¸ªç‰¹å®šç±»å‹çš„å¤šç»´æ•°ç»„ã€‚ å¼ é‡çš„å±æ€§ æœ‰ä¸€ä¸ªé™æ€çš„ç±»å‹å’ŒåŠ¨æ€çš„ç»´æ•° åªæœ‰å¼ é‡ç±»å‹çš„å¯¹è±¡æ‰èƒ½åœ¨è®¡ç®—å›¾çš„èŠ‚ç‚¹ä¸­ ä¼ é€’ã€‚ ç§©rank æ•°æ®ç±»å‹type å½¢çŠ¶shape numpyæ•°ç»„åˆ°TensorFlowå¼ é‡ TensorFlowä¸numpyæ˜¯å¯äº’æ“ä½œçš„ï¼Œ é€šå¸¸è°ƒç”¨eval()å‡½æ•°ä¼šè¿”å› numpyå¯¹è±¡ã€‚å› ä¸ºå¼ é‡å¯¹è±¡åªæ˜¯ä¸€ä¸ªæ“ä½œç»“æœçš„ç¬¦å·åŒ–å¥æŸ„ï¼Œ æ‰€ä»¥å®ƒå¹¶ä¸æŒæœ‰è¯¥æ“ä½œçš„ç»“æœ ,å¿…é¡»ä½¿ç”¨eval()æ–¹æ³•æ¥è·å¾—å®é™…çš„ å€¼ 12345678import tensorflow as tf #we import tensorflowimport numpy as np #we import numpysess = tf.Session() #start a new Session Objectx_data = np.array([[1.,2.,3.],[3.,2.,6.]]) # 2x3 matrixx = tf.convert_to_tensor(x_data,dtype=tf.float32) #Finally, we create the#tensor, starting from the fload 3x matrix tf.convert_to_tensor``ï¼š è¯¥æ–¹æ³•å°†Pythonå¯¹è±¡è½¬åŒ–ä¸ºtensorå¯¹è±¡ã€‚ å®ƒçš„ è¾“å…¥å¯ä»¥æ˜¯tensorå¯¹è±¡ã€ numpyæ•°ç»„ã€ Pythonåˆ—è¡¨å’ŒPythonæ ‡é‡ã€‚ æ•°æ®æµå›¾(data flow graph) æ•°æ®æµå›¾æ˜¯å®Œæ•´çš„TensorFlowè®¡ç®— èŠ‚ç‚¹(node) è¡¨ç¤ºæ“ä½œ(operation) ,å®ç°æ•°å­¦è¿ç®—ï¼Œ åŒæ—¶ä¹Ÿè¡¨ç¤ºæ•°æ®æˆ–å˜é‡çš„ä¾›ç»™(feed) ï¼Œ æˆ–è¾“å‡ºç»“æœ ã€‚ä¸€æ—¦å…¶è¾“å…¥è¾¹ç¼˜ä¸Šçš„æ‰€æœ‰å¼ é‡éƒ½åˆ°ä½ï¼Œ åˆ™å¼€å§‹å¼‚æ­¥åœ°å¹¶è¡Œæ‰§è¡Œ è¾¹(edge) è¡¨ç¤ºå„æ“ä½œä¹‹é—´æµé€šçš„æ•°æ® ,æè¿°èŠ‚ç‚¹ä¹‹é—´çš„è¾“å…¥/è¾“å‡ºå…³ç³»ã€‚ è¿™äº›æ•°æ®è¾¹ç¼˜ä¸“é—¨ä¼ è¾“å¼ é‡ è®¡ç®—å›¾(computation graph) ç”±ç”¨æˆ·åœ¨åˆ›å»ºå¼ é‡(tensor) å’Œæ“ä½œ(op æœ‰ç”¨çš„æ“ä½œå¯¹è±¡æ–¹æ³•å¦‚ä¸‹ï¼š â—tf.Operation.typeï¼š è¿”å›æ“ä½œçš„ç±»å‹(ä¾‹å¦‚ï¼Œ MatMul) ï¼› â—tf.Operation.inputsï¼š è¿”å›è¡¨ç¤ºæ“ä½œçš„è¾“å…¥å¼ é‡å¯¹è±¡åˆ—è¡¨ï¼› â—tf.Graph.get_operations()ï¼š è¿”å›è®¡ç®—å›¾ä¸­çš„æ“ä½œåˆ—è¡¨ï¼› â—tf.Graph.versionï¼š è¿”å›è®¡ç®—å›¾çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚ å˜é‡ æ­£å¦‚å­—é¢æ„æ€æ‰€ç¤º,æ˜¯ä¸ªå˜åŒ–çš„é‡ã€‚åœ¨TensorFlowå…·ä½“è¡¨ç°ä¸ºéœ€è¦æ›´æ–°çš„å‚æ•° åœ¨å¤§å¤šæ•°è®¡ç®—ä¸­ï¼Œ ä¼šå¤šæ¬¡æ‰§è¡Œè®¡ç®—å›¾ã€‚ å¤§å¤šæ•°å¼ é‡çš„ç”Ÿå­˜å‘¨æœŸä¸ä¼š è¶…è¿‡å•æ¬¡æ‰§è¡Œå‘¨æœŸã€‚ ç„¶è€Œï¼Œ å˜é‡æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ“ä½œï¼Œ å®ƒè¿”å›ä¸€ä¸ªæŒä¹… çš„ã€ å¯å˜çš„å¼ é‡çš„å¥æŸ„ï¼Œ å­˜æ´»äºå¤šæ¬¡è®¡ç®—å›¾æ‰§è¡Œä¹‹ä¸­ã€‚ å¯¹äºTensorFlow çš„æœºå™¨å­¦ä¹ åº”ç”¨ï¼Œ æ¨¡å‹çš„å‚æ•°é€šå¸¸å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œ å¹¶ä¸”åœ¨è¿è¡Œæ¨¡å‹çš„è®­ ç»ƒé˜¶æ®µè¢«æ›´æ–°ã€‚ placehold ç»™ä¹‹åå–‚ç»™çš„æ•°æ®å ä½ ä¼šè¯ å®¢æˆ·ç«¯ç¨‹åºé€šè¿‡åˆ›å»ºä¼šè¯(Session)ä¸TensorFlowç³»ç»Ÿäº¤äº’ã€‚ Sessionå¯¹è±¡æ˜¯è¿è¡Œç¯å¢ƒçš„è¡¨ç¤ºã€‚Sessionå¯¹è±¡å¼€å§‹ä¸ºç©ºï¼Œå½“ç¨‹åºå‘˜åˆ›å»ºä¸åŒçš„æ“ä½œå’Œå¼ é‡æ—¶ï¼Œå®ƒä»¬å°†è¢«è‡ªåŠ¨æ·»åŠ åˆ°Sessionï¼Œç›´åˆ°Runæ–¹æ³•è¢«è°ƒç”¨ï¼Œæ‰å¼€å§‹è¿ç®—ã€‚ Runæ–¹æ³•è¾“å…¥æ˜¯éœ€è¦è®¡ç®—çš„æ“ä½œï¼Œä»¥åŠä¸€ç»„å¯é€‰çš„å¼ é‡ï¼Œç”¨æ¥ä»£æ›¿å›¾ä¸­æŸäº›èŠ‚ç‚¹çš„è¾“å‡ºã€‚ å¦‚æœæˆ‘ä»¬è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”æœ‰å‘½åæ“ä½œæ‰€ä¾èµ–çš„æ“ä½œï¼ŒSessionå¯¹è±¡å°†æ‰§è¡Œæ‰€æœ‰è¿™äº›æ“ä½œï¼Œç„¶åç»§ç»­æ‰§è¡Œå‘½åæ“ä½œã€‚ ç”¨ä»¥ä¸‹ç®€å•çš„ä»£ç å¯ä»¥åˆ›å»ºä¸€ä¸ªä¼šè¯ï¼š s=tf.Session() çŸ©é˜µè¿ç®— è½¬ç½®ã€ ä¹˜æ³•ã€ è·å–è¡Œåˆ—å¼å’Œé€† 1234tf. transpose(x). eval()# Transposetf. matmul(x,y). eval()# Matrixtf. matrix determinant(floatx). eval()# è¡Œåˆ—å¼tf.matrix_inverse(floatx).eval() # æ±‚é€† çº¦ç®€(reduction) æ˜¯ä¸€ç§è·¨ç»´åº¦å¼ é‡æ“ä½œï¼Œ è®¡ç®—ç»“æœæ¯”åŸå¼ é‡ç¼©å‡ ä¸€ä¸ªç»´åº¦ã€‚ 12345678910111213141516171819202122In [1]: import tensorflow as tf In[2]: sess=tf. InteractiveSession()In[3]:x=tf. constant([[1,2,3], [3,2,1], [-1,2,-3]])In[5]: tf.reduce_prod(x, reduction_indices=1). eval() # reduce prod,è¡Œæ“ä½œ,0ä¸ºåˆ—æ“ä½œ 0ut[5]: array([6,6,-6], dtype=int32)In [6]: tf. reduce_min(x, reduction_indices=1). eval()# reduce min 0ut[6]: array([1,1,-3], dtype=int32)In [7]: tf. reduce_max(x, reduction_indices=1). eval()# reduce max 0ut[7]: array([3,3,-1], dtype=int32)In [8]: tf. reduce_mean(x, reduction indices=1). eval()# reduce mean 0ut[8]: array([ 2,2,-2], dtype=int32) In[9]: tf. reduce_all(boolean_tensor, reduction_indices=1). eval()# reduce all Out[9]: array([ False, False, False], dtype=bool)In [10]: tf. reduce_any(boolean_tensor, åºåˆ—å®ç”¨ç¨‹åºåŒ…æ‹¬è¯¸å¦‚argminå’Œargmax(æ˜¾ç¤ºç»´åº¦çš„æœ€å°å’Œæœ€å¤§ å€¼) ï¼Œ listdiff(æ˜¾ç¤ºåˆ—è¡¨ä¹‹é—´çš„äº¤é›†çš„è¡¥ç ) ï¼Œ where(æ˜¾ç¤ºå¼ é‡ä¸Šçš„çœŸ å®å€¼çš„ç´¢å¼•) å’Œunique(åœ¨åˆ—è¡¨ä¸Šå»é™¤é‡å¤çš„å…ƒç´ ) ã€‚ 1234567891011121314151617181920212223import tensorflow as tf sess=tf. InteractiveSession()x=tf. constant([[2,5,3,-5],â€¦:[0,3,-2,5],â€¦â€¦:[4,3,5,3],â€¦:[6,1,4,0jj)listx=tf. constant([1,2,3,4,5,6,7,8])listy=tf. constant([4,5,8,9])boolx=tf. constant([[ True, False],[ False, True]]) tf. argmin(x,1). eval()# Position of the maximum value of columns&gt;&gt;&gt; array([3,2,1,3]) tf. argmax(x,1). eval()# Position of the minimum value of rows&gt;&gt;&gt; array([1,3,2,0]) tf. listdiff(listx, listy)[0]. eval()#List differences&gt;&gt;&gt; array([1,2,3,6,7], dtype=int32) tf.where(boolx). eval()# Show true values&gt;&gt;&gt; array([[o,0],[1,1]]) tf. unique(listx)[0]. eval()# Unique values in list&gt;&gt;&gt; array([1,2,3,4,5,6,7,8], dtype=int32) å½¢çŠ¶å˜æ¢ : ä¾‹å¦‚squeezeå’Œexpand_dimsã€‚ 1234567891011121314151617181920212223242526272829303132333435In [1]: import tensorflow as tf In [2]: sess=tf. InteractiveSession()In [3]:x=tf. constant([[2,5,3,-5], â€¦â€¦:[0,3,-2,5], â€¦:[4,3153, â€¦:[6,1,4,0]])tf. shape(x). eval()# Shape of the tensor&gt;&gt;&gt; array([4,4], dtype=int32)tf. size(x). eval()# size of the tensor&gt;&gt;&gt;16tf. rank(x). eval()# rank of the tensor&gt;&gt;&gt;2tf. reshape(x,[8,2]). eval()#converting to a 10Ã—2 matrix&gt;&gt;&gt;array([[ 2,5],[3,-5],[0,3],[-2,5],[1,4],[3,1],[5,3],[6,1],[4,0]], dtype=int32)tf. squeeze(x). eval()# squeezing&gt;&gt;&gt; array([[ 2,5,3,-5],[0,3,-2,5],4,3,5,3],[6,1,4,0]], dtype=int32)tf. expand_dims(x,1). eval()# Expanding dims&gt;&gt;&gt;array([[[ 2,5,3,-5]],[[ 0,3,-2,5]],[[4,3,5,3]],[i 6,1,4,0jji, dtype=int32) åˆ‡ç‰‡(slicing) å’Œè¿æ¥(joining) :æå–çŸ©é˜µåˆ‡ç‰‡ã€ æ‹†åˆ†ã€ æ·»åŠ å¡«å……(add padding) ï¼Œ ä»¥åŠæ‰“åŒ…(pack) å’Œè§£åŒ…(unpack) è¡Œã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142import tensorflow as tf sess=tf. InteractiveSession()t_matrix=tf. constant([[1,2,3], â€¦â€¦:[4,5,6], â€¦:[7,8,9]])t_array=tf. constant([1,2,3,4,9,8,6,5])t array2=tf. constant([2,3,4,5,6,7,8,9]) tf. slice(t _matrix,[1,1],[2,2]). eval()# cutting an slice&gt;&gt;&gt;array([[5,6],[8,9]], dtype=int32)tf. split(0,2,t_array)# splitting the array in two&gt;&gt;&gt;[&lt;tf. Tensor ' split:0' shape=(4,) dtype=int32&gt;,&lt;tf. Tensor ' split:1' shape=(4,) dtype=int32&gt;]tf. tile([1,2],[3]). eval()# tiling this little tensor 3 timesé‡å¤&gt;&gt;&gt; array([1,2,1,2,1,2], dtype=int32)tf. pad(t_matrix,[[0,1],[2,1]]). evai()#padding&gt;&gt;&gt; array(i[o,o,1,2,3,0],[0,0,4,5,6,0],[o.0.7.8.9.01.[o,o,o,0,0,0]], dtype=int32)tf. concat(0,[t_array, t_array2]). eval()# concatenating list&gt;&gt;&gt; array([1,2,3,4,9,8,6,5,2,3,4,5,6,7,8,9], dtype=int32)tf. pack([t_array,t_array2]). eval()# packing æ‹¼æ¥0ut[11]:array([[1,2,3,4,9,8,6,5],[2,3,4,5,6,7,8,9]], dtype=int32) sess.run(tf. unpack(t_matrix))#Unpacking, we need the run method to view the tensors&gt;&gt;&gt;[array([1,2,3],dtype=int32),array([4,5,6],dtype=int32),array([7,8,9];dtype=int32) In [13]: tf. reverse(t_matrix,[ False, True]). eval()# Reverse matrix,è¡Œä¸å˜,åˆ—åè½¬0ut[13]: array([[3,2,1],[6,5,41;9,8,7]], dtype=int32) ä»ç£ç›˜è¯»å–ä¿¡æ¯ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647# åˆ—è¡¨æ ¼å¼â€”â€”CSV import tensorflow as tfsess=tf.Session()filename_queue= tf.train.string_input_producer(tf.train.match_filenames_once(\"./*.csv\"),shuffle=True)reader=tf.TextLineReader(skip_header_lines=1)key, value=reader.read(filename_queue)record_defaults=[[0.],[0.],[0],[0.],[\"\"]]col1, col2, col3, col4, col5=tf.decode_csv(value,record_defaults=record_defaults)# Convert CSVrecords to tensors.Each# column maps to one tensor.features=tf.pack([ col1, col2, col3, col4])tf.initialize_all_variables().run(session=sess)coord=tf.train.Coordinator()threads=tf.train.start_queue_runners(coord=coord, sess=sess)for iteration in range(0,5):example=sess.run([ features])print(example)coord.request_stop()coord.join(threads)# åŠ è½½å’Œå¤„ç†å›¾åƒimport tensorflow as tf sess=tf.Session()filename_queue=tf.train.string_input_producer(tf.train.match_filenames_once('./blue_jay.jpg'))reader=tf.WholeFileReader()key, value= reader.read(filename_queue)image=tf.image.decode_jpeg(value)fliplmageUpDown=tf.image.encode _jpeg(tf.image.fli p_up_down(image))# è·å¾—ä¸Šä¸‹ç¿»è½¬çš„å›¾ç‰‡ fliplmageleftRight=tf.image.encode_jpeg(tf.image.flip_left_right(image))# è·å¾—å·¦å³ç¿»è½¬çš„å›¾ç‰‡ tf.initialize_all_variables().run(session=sess)coord=tf.train.Coordinator()threads=tf.train.start_queue_runners(coord=coord, sess=sess)example=sess.run(fliplmageLeftRight)print example file=open (\"flippedUpDown.jpg\",\"wb+\")file.write (fliplmageUpDown.eval(session=sess))# å†™å…¥ä¸Šä¸‹ç¿»è½¬å›¾file.close()file=open (\"flippedLeftRight.jpg\",\"wb+\")# å†™å…¥å·¦å³ç¿»è½¬å›¾file.write(fliplmageLeftRight.eval(session=sess))file.close() æµç¨‹: åˆ›å»ºä¸€ä¸ªæ–‡ä»¶é˜Ÿåˆ—å¯¹è±¡:tf.train.string_input_producer(tf.train.match_filenames_once('xxx')) åˆ›å»ºä¸€ä¸ªreaderå¯¹è±¡ è¯»å–,å¹¶è§£ç  æå–ç‰¹å¾ initialize_all_variables-&gt;Coordinator-&gt;start_queue_runners-&gt;run logitå‡½æ•° logitâ¡(p)=logâ¡(p1âˆ’p)\\operatorname{logit}(\\mathrm{p})=\\log \\left(\\frac{\\mathrm{p}}{1-\\mathrm{p}}\\right)logit(p)=log(1âˆ’ppâ€‹) è¯¥å‡½æ•°å®ç°äº†ä»åŒºé—´[0,1]åˆ°åŒºé—´(-âˆ,+âˆ)ä¹‹é—´çš„æ˜ å°„ã€‚ é‚£ä¹ˆæˆ‘ä»¬åªè¦å°†yç”¨ä¸€ä¸ªè¾“å…¥çš„çº¿æ€§å‡½æ•°æ›¿æ¢ï¼Œ é‚£ä¹ˆå°±å®ç°äº†è¾“å…¥çš„çº¿æ€§å˜åŒ–å’ŒåŒºé—´[0,1]ä¹‹é—´çš„æ˜ å°„ã€‚ logisticå‡½æ•° å¯¹æ•°å‡ ç‡å‡½æ•°çš„é€†å‡½æ•° logitâ¡âˆ’1(Î±)=logisticâ¡(Î±)=11+expâ¡(âˆ’Î±)=epâ¡(Î±)expâ¡(Î±)+1\\operatorname{logit}^{-1}(\\alpha)=\\operatorname{logistic}(\\alpha)=\\frac{1}{1+\\exp (-\\alpha)}=\\frac{\\operatorname{ep}(\\alpha)}{\\exp (\\alpha)+1}logitâˆ’1(Î±)=logistic(Î±)=1+exp(âˆ’Î±)1â€‹=exp(Î±)+1ep(Î±)â€‹ è¿™æ˜¯ä¸€ä¸ªSigmoidå‡½æ•°ã€‚ Logisticå‡½æ•°å°†ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„å›å½’ä»»åŠ¡è¡¨ç¤ºä¸ºäºŒé¡¹é€‰æ‹©ã€‚ Ïƒ(t)=etet+1=11+eâˆ’t\\sigma(t)=\\frac{\\mathrm{e}^{t}}{\\mathrm{e}^{t}+1}=\\frac{1}{1+\\mathrm{e}^{-t}}Ïƒ(t)=et+1etâ€‹=1+eâˆ’t1â€‹ ä¸€èˆ¬çš„è§£é‡Šå°±æ˜¯tä¸ºä¸€ä¸ªç‹¬ç«‹å˜é‡ï¼Œ è¯¥å‡½æ•°å°†tæ˜ å°„åˆ°åŒºé—´[0,1]ä¹‹ é—´ã€‚ ä½†æ˜¯æˆ‘ä»¬æå‡äº†è¿™ä¸ªæ¨¡å‹ï¼Œ å°†tè½¬å˜ä¸ºå˜é‡xçš„ä¸€ä¸ªçº¿æ€§æ˜ å°„(å½“x æ˜¯ä¸€ä¸ªå¤šå˜é‡çš„å‘é‡æ—¶ï¼Œ tå°±æ˜¯è¯¥å‘é‡ä¸­å„ä¸ªå…ƒç´ çš„çº¿æ€§ç»„åˆ) ã€‚ æˆ‘ä»¬å¯ä»¥å°†tè¡¨ç¤ºå¦‚ä¸‹ï¼š t=wx+b æˆ‘ä»¬å°±èƒ½å¤Ÿå¾—åˆ°ä»¥ä¸‹æ–¹ç¨‹ logitâ¡(p)=Inâ¡(p1âˆ’p)=wx+b\\operatorname{logit}(\\mathrm{p})=\\operatorname{In}\\left(\\frac{p}{1-p}\\right)=w x+blogit(p)=In(1âˆ’ppâ€‹)=wx+b å¯¹äºæ‰€æœ‰çš„å…ƒç´ ï¼Œ æˆ‘ä»¬è®¡ç®—äº†å›å½’æ–¹ç¨‹ï¼Œ å¾—å‡ºå¦‚ä¸‹æ¦‚ç‡ã€‚ p^=eÎ²0+Î²1x1+eÎ²0+Î²1x\\hat{p}=\\frac{\\mathrm{e}^{\\beta_{0}+\\beta_{1} x}}{1+\\mathrm{e}^{\\beta_{0}+\\beta_{1} x}}p^â€‹=1+eÎ²0â€‹+Î²1â€‹xeÎ²0â€‹+Î²1â€‹xâ€‹ çº¿æ€§å‡½æ•°çš„å‚æ•°èµ·ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ å®ƒä»¬å¯ä»¥æ”¹å˜ç›´çº¿çš„æ–œç‡å’Œ Sigmoidå‡½æ•°é›¶çš„ä½ç½®ã€‚ é€šè¿‡è°ƒæ•´çº¿æ€§æ–¹ç¨‹ä¸­çš„å‚æ•°ï¼Œ æ¥ç¼©å°é¢„æµ‹å€¼ä¸ çœŸå®å€¼ä¹‹é—´çš„å·®è·ã€‚ Logisticå‡½æ•°çš„å±æ€§ å‡½æ•°ç©ºé—´ä¸­æ¯ä¸ªæ›²çº¿éƒ½å¯ä»¥è¢«æè¿°æˆå®ƒæ‰€åº”ç”¨çš„å¯èƒ½ç›®æ ‡ã€‚ å…·ä½“åˆ°Logisticå‡½æ•°ï¼š â—äº‹ä»¶çš„å¯èƒ½æ€§pä¾èµ–äºä¸€ä¸ªæˆ–è€…å¤šä¸ªå˜é‡ã€‚ æ¯”å¦‚ï¼Œ æ ¹æ®ä¹‹å‰çš„èµ„ å†,é¢„æµ‹è·å¥–çš„å¯èƒ½æ€§ã€‚ â—å¯¹äºç‰¹å®šçš„è§‚å¯Ÿï¼Œ ä¼°ç®—äº‹ä»¶å‘ç”Ÿçš„å¯èƒ½æ€§ã€‚ â—é¢„æµ‹æ”¹å˜ç‹¬ç«‹å˜é‡å¯¹äºŒé¡¹å“åº”çš„å½±å“ã€‚ â—é€šè¿‡è®¡ç®—å¯èƒ½æ€§ï¼Œ å°†è§‚æµ‹åˆ†é…åˆ°æŸä¸ªç¡®å®šçš„ç±»ã€‚ æŸå¤±å‡½æ•° loss =âˆ’âˆ‘iyiâˆ™logâ¡(ypredi)+(1âˆ’yi)âˆ™logâ¡(1âˆ’ypredi)=-\\sum_{i} y_{i} \\bullet \\log \\left(y p r e d_{i}\\right)+\\left(1-y_{i}\\right) \\bullet \\log \\left(1-y p r e d_{i}\\right)=âˆ’âˆ‘iâ€‹yiâ€‹âˆ™log(yprediâ€‹)+(1âˆ’yiâ€‹)âˆ™log(1âˆ’yprediâ€‹) è¯¥æŸå¤±å‡½æ•°çš„ä¸»è¦æ€§è´¨å°±æ˜¯åçˆ±ç›¸ä¼¼è¡Œä¸ºï¼Œ è€Œå½“è¯¯å·®è¶…è¿‡0.5çš„æ—¶ å€™ï¼Œ æƒ©ç½šä¼šæ€¥å‰§å¢åŠ ã€‚ å¤šç±»åˆ†ç±»åº”ç”¨â€”â€”Softmaxå›å½’ å½“æˆ‘ä»¬é¢å¯¹å¤šäºäºŒç±»çš„æƒ…å†µï¼Œ é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•ï¼š ä¸€å¯¹å¤šå’Œä¸€å¯¹æ‰€ æœ‰ã€‚ â—ç¬¬ä¸€ç±»æŠ€æœ¯è®¡ç®—å¤šä¸ªæ¨¡å‹ã€‚ é’ˆå¯¹æ¯ä¸ªç±»éƒ½è®¡ç®—ä¸€ä¸ªâ€œä¸€vsæ‰€æœ‰ (one against all) â€çš„æ¦‚ç‡ã€‚ â—ç¬¬äºŒç±»æŠ€æœ¯åªè®¡ç®—å‡ºä¸€ä¸ªæ¦‚ç‡é›†åˆï¼Œ æ¯ä¸ªæ¦‚ç‡è¡¨ç¤ºå±äºå…¶ä¸­æŸä¸€ ç±»çš„å¯èƒ½æ€§ã€‚ â—ç¬¬äºŒç§æŠ€æœ¯çš„è¾“å‡ºæ˜¯Softmaxå›å½’æ ¼å¼ï¼Œ è¿™æ˜¯Logisticå›å½’å¯¹äºnç±» çš„æ³›åŒ–ã€‚ æŸå¤±å‡½æ•° loss=âˆ‘iâˆ‘cycâˆ™logâ¡(ypredc)=âˆ‘iâˆ‘cycâˆ™eâˆ’xcâˆ‘j=0câˆ’1logâ¡(eâˆ’xj)loss=\\sum_{i} \\sum_{c} y_{c} \\bullet \\log \\left(y p r e d_{c}\\right)=\\sum_{i} \\sum_{c} y_{c} \\bullet \\frac{e^{-x_{c}}}{\\sum_{j=0}^{c-1} \\log \\left(e^{-x_{j}}\\right)}loss=âˆ‘iâ€‹âˆ‘câ€‹ycâ€‹âˆ™log(ypredcâ€‹)=âˆ‘iâ€‹âˆ‘câ€‹ycâ€‹âˆ™âˆ‘j=0câˆ’1â€‹log(eâˆ’xjâ€‹)eâˆ’xcâ€‹â€‹ æ„ŸçŸ¥å™¨ç®—æ³• ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªäºŒå…ƒåˆ†ç±»å‡½æ•° ç®€åŒ–ç‰ˆçš„æ„ŸçŸ¥å™¨ç®—æ³•å¦‚ä¸‹ï¼š â‘  ä»¥ä¸€ä¸ªéšæœºåˆ†å¸ƒåˆå§‹åŒ–æƒå€¼å’Œåå·®(é€šå¸¸æ¯”è¾ƒå°) ï¼› â‘¡ é€‰æ‹©ä¸€ä¸ªè¾“å…¥å‘é‡ï¼Œ å¹¶å°†å…¶æ”¾å…¥ç¥ç»ç½‘ç»œä¸­ï¼› â‘¢ å°†è¾“å…¥ä¸æƒé‡ç›¸ä¹˜ï¼Œ å¹¶åŠ ä¸Šåå·®ï¼Œ è®¡ç®—ç½‘ç»œçš„è¾“å‡ºyâ€™ï¼› â‘£ æ„ŸçŸ¥å™¨çš„å‡½æ•°å¦‚ä¸‹ï¼š f(x)={1if wâ‹…x+b&gt;00otherwisef(x)=\\left\\{\\begin{array}{ll}{1} &amp; {if \\; w \\cdot x+b&gt;0} \\\\ {0} &amp; otherwise \\end{array}\\right.f(x)={10â€‹ifwâ‹…x+b&gt;0otherwiseâ€‹ â‘¤ å¦‚æœyâ€²â‰ yï¼Œ å°†æƒé‡wiåŠ ä¸ŠÎ”w=yxiï¼› â‘¥ è¿”å›ç¬¬â‘¡æ­¥ã€‚ TensorFlowä¸­æŸå¤±ä¼˜åŒ–æ–¹æ³• â—tf.train.GradientDescentOptimizer(learning_rate, use_locking, name)ï¼š åŸå§‹æ¢¯åº¦ä¸‹é™æ–¹æ³•ï¼Œ å”¯ä¸€å‚æ•°å°±æ˜¯å­¦ä¹ ç‡ã€‚ â—tf.train.AdagradOptimizerï¼š è‡ªé€‚åº”è°ƒæ•´å­¦ä¹ ç‡ï¼Œ ç´¯åŠ å†å²æ¢¯åº¦çš„å¹³ æ–¹ï¼Œ ä½œä¸ºåˆ†æ¯ï¼Œ é˜²æ­¢æœ‰äº›æ–¹å‘çš„æ¢¯åº¦å€¼è¿‡å¤§ï¼Œ æé«˜ä¼˜åŒ–æ•ˆç‡ï¼Œ å–„äºå¤„ç† ç¨€ç–æ¢¯åº¦ã€‚ â—tf.train.AdadeltaOptimizerï¼š æ‰©å±•AdaGradä¼˜åŒ–æ–¹æ³•ï¼Œ åªç´¯åŠ æœ€è¿‘çš„ æ¢¯åº¦å€¼ï¼Œ è€Œä¸å¯¹æ•´ä¸ªå†å²ä¸Šçš„æ¢¯åº¦å€¼è¿›è¡Œç´¯åŠ ã€‚ â—tf.train.AdamOptimizertf.train.AdamOptimizerï¼ (learningrate, beta1, beta2, epsilon, use locking, name)ï¼š æ¢¯åº¦çš„ä¸€é˜¶çŸ©ä¼°è®¡å’ŒäºŒé˜¶çŸ©ä¼°è®¡åŠ¨æ€ è°ƒæ•´æ¯ä¸ªå‚æ•°çš„å­¦ä¹ ç‡ã€‚ Adamæ˜¯è‡ªé€‚åº”çŸ©ä¼°è®¡(Adaptive Moment Estimation) çš„é¦–å­—æ¯ç¼©å†™ã€‚ Sklearné¢„å¤„ç†å‡½æ•° æˆ‘ä»¬çœ‹ä¸€äº›ä¸‹é¢çš„Sklearnæ•°æ®é¢„å¤„ç†å‡½æ•°ï¼š â—preprocessing.StandardScaler()ï¼š æ•°æ®æ­£è§„åŒ–(Normalization) æ˜¯æœº å™¨å­¦ä¹ ä¼°è®¡çš„ä¸€ä¸ªå¸¸è§è¦æ±‚ï¼Œ ä¸ºäº†æ¨¡å‹èƒ½æ›´å¥½åœ°æ”¶æ•›ï¼Œ æˆ‘ä»¬é€šå¸¸ä¼šå°†æ•° æ®é›†é¢„å¤„ç†åˆ°ä¸€ä¸ªé›¶å‡å€¼å•ä½æ–¹å·®çš„é«˜æ–¯çŠ¶åˆ†å¸ƒã€‚ é€šå¸¸ï¼Œ æˆ‘ä»¬ä¼šå°†æ•°æ® çš„å„ä¸ªç»´åº¦éƒ½å‡å»å®ƒçš„å‡å€¼ï¼Œ ç„¶åä¹˜ä¸Šä¸€ä¸ªéé›¶çš„æ•°ã€‚ è¿™ä¸ªéé›¶çš„æ•°å°± æ˜¯æ•°æ®é›†çš„æ ‡å‡†å·®ã€‚ å¯¹äºè¯¥ä»»åŠ¡ï¼Œ æˆ‘ä»¬ç›´æ¥ä½¿ç”¨StandardScalerï¼Œ å®ƒå·²ç» å®ç°äº†æˆ‘ä»¬ä¸Šé¢æåˆ°çš„æ“ä½œã€‚ å®ƒä¹Ÿä¿ç•™äº†å˜æ¢æ“ä½œï¼Œ è®©æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ åœ¨æµ‹è¯•é›†ä¸Šã€‚ â—StandardScaler .fit_transform()ï¼š å°†æ•°æ®è°ƒæ•´åˆ°æ‰€éœ€è¦çš„å½¢å¼ã€‚ StandardScalerå¯¹è±¡ä¼šå­˜å‚¨æ•°æ®å˜åŒ–çš„å˜é‡ï¼Œ è¿™æ ·æˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®è§£æ­£è§„ åŒ–åˆ°åŸå…ˆçš„æ ¼å¼ã€‚ â—cross_validation.train_test_splitï¼š è¯¥æ–¹æ³•èƒ½å¤Ÿå°†æ•°æ®é›†åˆ†å‰²æˆè®­ç»ƒ é›†å’Œæµ‹è¯•é›†ã€‚ æˆ‘ä»¬åªéœ€è¦æä¾›ä¸¤è€…çš„æ¯”ä¾‹ï¼Œ è¯¥æ–¹æ³•èƒ½å¤Ÿè‡ªåŠ¨å¸®æˆ‘ä»¬å¤„ ç† ä¹¦ç±æ¨è äº†è§£tensorflowåŸºç¡€å¯¹è±¡â€”â€”ã€Šé¢å‘æœºå™¨æ™ºèƒ½çš„tensorflowå®è·µã€‹ è¿›é˜¶æ“ä½œtensorå¯¹è±¡â€”â€”ã€ŠTensorflowæœºå™¨å­¦ä¹ é¡¹ç›®å®æˆ˜ã€‹ Hello TensorFlow import tensorflow as tfå¦‚æœæŠ¥é”™dtypeâ€¦å¯ä»¥é™ä½numpyçš„ç‰ˆæœ¬(ä»1.16-&gt;1.17) 123456789101112131415161718192021import tensorflow as tfimport numpy as npimport matplotlib.pyplot as plt% matplotlib inline a=tf.random_normal([2,20])sess=tf.Session()out=sess.run(a)x,y=outplt.scatter(x,y)plt. show()'''%matplotlib inlineè¿™æ˜¯ä¸€æ¡ä¸“é—¨çš„å‘½ä»¤ï¼Œç”¨äºé€šçŸ¥ç¬”è®°æœ¬å°†matplotibå›¾è¡¨ç›´æ¥æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­ã€‚ä¸‹é¢é€è¡Œåˆ†æå…¶ä½™ä»£ç ï¼Œå¦‚æœä½ ä¸ç†è§£æŸäº›æœ¯è¯­ï¼Œè¯·ä¸å¿…æ‹…å¿ƒï¼Œåé¢ç« èŠ‚è¿˜ä¼šä¸€ä¸€è¿›è¡Œè®²è§£ï¼š1)ç”¨TensorFlowå®šä¹‰ä¸€ä¸ªç”±éšæœºæ•°æ„æˆçš„2Ã—20çš„çŸ©é˜µï¼Œå¹¶å°†å…¶èµ‹ç»™å˜é‡aã€‚2)å¯åŠ¨TensorFlow Sessionï¼Œå¹¶å°†å…¶èµ‹äºˆä¸€ä¸ªseså¯¹è±¡ã€‚3)ç”¨sess.run()æ–¹æ³•æ‰§è¡Œå¯¹è±¡aï¼Œå¹¶å°†è¾“å‡º(NumPyæ•°ç»„)èµ‹ç»™otã€‚4)å°†è¿™ä¸ª2Ã—20çš„çŸ©é˜µåˆ’åˆ†ä¸ºä¸¤ä¸ª1Ã—10çš„å‘é‡xå’Œyã€‚5)åˆ©ç”¨pyplotæ¨¡å—ç»˜åˆ¶æ•£ç‚¹å›¾ï¼Œxå¯¹åº”æ¨ªè½´ï¼Œyå¯¹åº”çºµè½´ã€‚''' sess=tf.Session() Sessionå¯¹è±¡åœ¨è¿è¡Œæ—¶è´Ÿè´£å¯¹æ•°æ®æµå›¾è¿›è¡Œç›‘ç£ï¼Œå¹¶ä¸”æ˜¯è¿è¡Œæ•°æ®æµå›¾çš„ä¸»è¦æ¥å£ã€‚åœ¨æœ¬ç»ƒä¹ ä¹‹åï¼Œæˆ‘ä»¬è¿˜å°†å¯¹Sessionå¯¹è±¡è¿›è¡Œæ›´ä¸ºæ·±å…¥çš„æ¢è®¨ï¼Œä½†ç°åœ¨åªéœ€äº†è§£åœ¨TensorFowä¸­ï¼Œå¦‚æœå¸Œæœ›è¿è¡Œè‡ªå·±çš„ä»£ç ï¼Œå¿…é¡»å®šä¹‰ä¸€ä¸ªSessionå¯¹è±¡ã€‚ä¸Šè¿°ä»£ç å°†Sessionå¯¹è±¡èµ‹ç»™äº†å˜é‡sessï¼Œä»¥ä¾¿åæœŸèƒ½å¤Ÿå¯¹å…¶è¿›è¡Œè®¿é—®ã€‚ targetæŒ‡å®šäº†æ‰€è¦ä½¿ç”¨çš„æ‰§è¡Œå¼•æ“ã€‚å¯¹äºå¤§å¤šæ•°åº”ç”¨ï¼Œè¯¥å‚æ•°å–ä¸ºé»˜è®¤çš„ç©ºå­—ç¬¦ä¸²ã€‚åœ¨åˆ†å¸ƒå¼è®¾ç½®ä¸­ä½¿ç”¨Sessionå¯¹è±¡æ—¶ï¼Œè¯¥å‚æ•°ç”¨äºè¿æ¥ä¸åŒçš„tftrain Serverå®ä¾‹(æœ¬ä¹¦åç»­ç« èŠ‚å°†å¯¹æ­¤è¿›è¡Œä»‹ç»)ã€‚ graphå‚æ•°æŒ‡å®šäº†å°†è¦åœ¨Sessionå¯¹è±¡ä¸­åŠ è½½çš„Graphå¯¹è±¡ï¼Œå…¶é»˜è®¤å€¼ä¸ºNoneï¼Œè¡¨ç¤ºå°†ä½¿ç”¨å½“å‰é»˜è®¤æ•°æ®æµå›¾ã€‚å½“ä½¿ç”¨å¤šä¸ªæ•°æ®æµå›¾æ—¶ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯æ˜¾å¼ä¼ å…¥ä½ å¸Œæœ›è¿è¡Œçš„Graphå¯¹è±¡(è€Œéåœ¨ä¸€ä¸ªwithè¯­å¥å—å†…åˆ›å»ºSessionå¯¹è±¡)ã€‚ configå‚æ•°å…è®¸ç”¨æˆ·æŒ‡å®šé…ç½®Sessionå¯¹è±¡æ‰€éœ€çš„é€‰é¡¹ï¼Œå¦‚é™åˆ¶CPUæˆ–GPUçš„ä½¿ç”¨æ•°ç›®ï¼Œä¸ºæ•°æ®æµå›¾è®¾ç½®ä¼˜åŒ–å‚æ•°åŠæ—¥å¿—é€‰é¡¹ç­‰ã€‚ Sesionnn()æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°fetchesï¼Œä»¥åŠå…¶ä»–ä¸‰ä¸ªå¯é€‰å‚æ•°ï¼šfeed_dictã€optionså’Œrnn_metadataã€‚æœ¬ä¹¦ä¸æ‰“ç®—å¯¹optionså’Œrun_metadataè¿›è¡Œä»‹ç»ï¼Œå› ä¸ºå®ƒä»¬å°šå¤„åœ¨å®éªŒé˜¶æ®µ(å› æ­¤ä»¥åå¾ˆå¯èƒ½ä¼šæœ‰å˜åŠ¨)ï¼Œä¸”ç›®å‰ç”¨é€”éå¸¸æœ‰é™ï¼Œä½†ç†è§£ed_dictéå¸¸é‡è¦ï¼Œä¸‹æ–‡å°†å¯¹å…¶è¿›è¡Œè®²è§£ã€‚ 1.fetcheså‚æ•° fetcheså‚æ•°æ¥æ”¶ä»»æ„çš„æ•°æ®æµå›¾å…ƒç´ (Opæˆ–Tensorå¯¹è±¡)ï¼Œåè€…æŒ‡å®šäº†ç”¨æˆ·å¸Œæœ›æ‰§è¡Œçš„å¯¹è±¡ã€‚å¦‚æœè¯·æ±‚å¯¹è±¡ä¸ºTensorå¯¹è±¡ï¼Œåˆ™rnun()çš„è¾“å‡ºå°†ä¸ºä¸€NumPyæ•°ç»„ï¼šå¦‚æœè¯·æ±‚å¯¹è±¡ä¸ºä¸€ä¸ªOpï¼Œåˆ™è¾“å‡ºå°†ä¸ºNoneã€‚ é™¤äº†åˆ©ç”¨fetchesè·å–Tensorå¯¹è±¡è¾“å‡ºå¤–ï¼Œè¿˜å°†çœ‹åˆ°è¿™æ ·çš„ä¾‹å­ï¼šæœ‰æ—¶ä¹Ÿä¼šèµ‹äºˆftchesä¸€ä¸ªæŒ‡å‘æŸä¸ªOpçš„å¥æŸ„ï¼Œè¿™æ˜¯åœ¨è¿è¡Œä¸­çš„ä¸€ç§æœ‰ä»·å€¼çš„ç”¨æ³•ã€‚ tf.initialize_all_variables()ä½¿æ˜¯ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ï¼Œå®ƒä¼šå‡†å¤‡å°†è¦ä½¿ç”¨çš„æ‰€æœ‰TensorFow Variableå¯¹è±¡(æœ¬ç« ç¨åå°†ä»‹ç»Variableå¯¹è±¡)ã€‚æˆ‘ä»¬ä»ç„¶å°†è¯¥Opä¼ ç»™etcheså‚æ•°ï¼Œä½†Session.run()çš„ç»“æœå°†ä¸ºNoneï¼š 1æ‰§è¡Œåˆå§‹åŒ–Variableå¯¹è±¡æ‰€éœ€çš„è®¡ç®—ï¼Œä½†è¿”å›å€¼ä¸ºNone sess.run(tf.initialize_all_variables()) 2.feed_dictå‚æ•° å‚æ•°feed_dictç”¨äºè¦†ç›–æ•°æ®æµå›¾ä¸­çš„Tensorå¯¹è±¡å€¼ï¼Œå®ƒéœ€è¦Pythonå­—å…¸å¯¹è±¡ä½œä¸ºè¾“å…¥ã€‚å­—å…¸ä¸­çš„â€œé”®â€ä¸ºæŒ‡å‘åº”å½“è¢«è¦†ç›–çš„Tensorå¯¹è±¡çš„å¥æŸ„ï¼Œè€Œå­—å…¸çš„â€œå€¼â€å¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨æˆ–NumPyæ•°ç»„(ä¹‹å‰ä»‹ç»è¿‡)ã€‚è¿™äº›â€œå€¼â€çš„ç±»å‹å¿…é¡»ä¸Tensorçš„â€œé”®â€ç›¸åŒï¼Œæˆ–èƒ½å¤Ÿè½¬æ¢ä¸ºç›¸åŒçš„ç±»å‹ã€‚ä¸‹é¢é€šè¿‡ä¸€äº›ä»£ç æ¥å±•ç¤ºå¦‚ä½•åˆ©ç”¨feed_dicté‡å†™ä¹‹å‰çš„æ•°æ®æµå›¾ä¸­açš„å€¼ï¼š 12345678910111213inport tensorflow as tf#åˆ›å»ºOpã€Tensorå¯¹è±¡ç­‰(ä½¿ç”¨é»˜è®¤çš„æ•°æ®æµå›¾)a=tf.add(2ï¼Œ5)b=tf.mul(aï¼Œ3)#åˆ©ç”¨é»˜è®¤çš„æ•°æ®æµå›¾å¯åŠ¨ä¸€ä¸ªSessionå¯¹è±¡sess=tf.Session()#å®šä¹‰ä¸€ä¸ªå­—å…¸ï¼Œæ¯”å¦‚å°†açš„å€¼æ›¿æ¢ä¸º15replace_dict=&#123;aï¼š15&#125;#è¿è¡ŒSessionå¯¹è±¡ï¼Œå°†replace_dictèµ‹ç»™feed_dictsess.run(bï¼Œfeed_dict=replace_dict)#è¿”å›45'''è¯·æ³¨æ„ï¼Œå³ä¾¿açš„è®¡ç®—ç»“æœé€šå¸¸ä¸º7ï¼Œæˆ‘ä»¬ä¼ ç»™eeddictçš„å­—å…¸ä¹Ÿä¼šå°†å®ƒæ›¿æ¢ä¸º15ã€‚åœ¨ç›¸å½“å¤šçš„åœºåˆä¸­ï¼Œfed_dictéƒ½æä¸ºæœ‰ç”¨ã€‚ç”±äºå¼ é‡çš„å€¼æ˜¯é¢„å…ˆæä¾›çš„ï¼Œæ•°æ®æµå›¾ä¸å†éœ€è¦å¯¹è¯¥å¼ é‡çš„ä»»ä½•æ™®é€šä¾èµ–èŠ‚ç‚¹è¿›è¡Œè®¡ç®—ã€‚è¿™æ„å‘³ç€å¦‚æœæœ‰ä¸€ä¸ªè§„æ¨¡è¾ƒå¤§çš„æ•°æ®æµå›¾ï¼Œå¹¶å¸Œæœ›ç”¨ä¸€äº›è™šæ„çš„å€¼å¯¹æŸäº›éƒ¨åˆ†è¿›è¡Œæµ‹è¯•ï¼ŒTensorFlowå°†ä¸ä¼šåœ¨ä¸å¿…è¦çš„è®¡ç®—ä¸Šæµªè´¹æ—¶é—´ã€‚å¯¹äºæŒ‡å®šè¾“å…¥å€¼ï¼Œeed_dictä¹Ÿååˆ†æœ‰ç”¨ï¼Œåœ¨ç¨åçš„å ä½ç¬¦ä¸€èŠ‚ä¸­æˆ‘ä»¬å°†å¯¹æ­¤è¿›è¡Œä»‹ç»ã€‚''' tf.placehold ä¹‹å‰å®šä¹‰çš„æ•°æ®æµå›¾å¹¶æœªä½¿ç”¨çœŸæ­£çš„â€œè¾“å…¥â€ï¼Œå®ƒæ€»æ˜¯ä½¿ç”¨ç›¸åŒçš„æ•°å€¼5å’Œ3ã€‚æˆ‘ä»¬çœŸæ­£å¸Œæœ›åšçš„æ˜¯ä»å®¢æˆ·é‚£é‡Œæ¥æ”¶è¾“å…¥å€¼ï¼Œè¿™æ ·ä¾¿å¯å¯¹æ•°æ®æµå›¾ä¸­æ‰€æè¿°çš„å˜æ¢ ä»¥å„ç§ä¸åŒç±»å‹çš„æ•°å€¼è¿›è¡Œå¤ç”¨ï¼Œå€ŸåŠ©â€œå ä½ç¬¦â€å¯è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚æ­£å¦‚å…¶åç§°æ‰€é¢„ç¤ºçš„é‚£æ ·ï¼Œå ä½ç¬¦çš„è¡Œä¸ºä¸Tesorå¯¹è±¡ä¸€è‡´ï¼Œä½†åœ¨åˆ›å»ºæ—¶æ— é¡»ä¸ºå®ƒä»¬æŒ‡å®šå…·ä½“çš„æ•°å€¼ã€‚å®ƒä»¬çš„ä½œç”¨æ˜¯ä¸ºè¿è¡Œæ—¶å³å°†åˆ°æ¥çš„æŸä¸ªTensorå¯¹è±¡é¢„ç•™ä½ç½®ï¼Œå› æ­¤å®é™…ä¸Šå˜æˆäº†â€œè¾“å…¥â€èŠ‚ç‚¹ã€‚åˆ©ç”¨tfplaceholderOpå¯åˆ›å»ºå ä½ç¬¦ï¼š 123456789import tensorflow as tfinport numpy as np#åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º2ã€æ•°æ®ç±»å‹ä¸ºint32çš„å ä½å‘é‡a=tf.placeholder(tf.int32ï¼Œshape=[2]ï¼Œname=\"my_input\")#å°†è¯¥å ä½å‘é‡è§†ä¸ºå…¶ä»–ä»»æ„Tensorå¯¹è±¡ï¼ŒåŠ ä»¥ä½¿ç”¨b=tf.reduce_prod(aï¼Œname=\"prod_b\")c=tf.reduce_sum(aï¼Œname=\"sum_c\")#å®Œæˆæ•°æ®æµå›¾çš„å®šä¹‰d=tf.add(bï¼Œcï¼Œname=\"add_d\") è°ƒç”¨tf.placehoder()æ—¶ï¼Œdtypeå‚æ•°æ˜¯å¿…é¡»æŒ‡å®šçš„ï¼Œè€Œshapeå‚æ•°å¯é€‰ï¼š dtypeæŒ‡å®šäº†å°†ä¼ ç»™è¯¥å ä½ç¬¦çš„å€¼çš„æ•°æ®ç±»å‹ã€‚è¯¥å‚æ•°æ˜¯å¿…é¡»æŒ‡å®šçš„ï¼Œå› ä¸ºéœ€è¦ç¡®ä¿ä¸å‡ºç°ç±»å‹ä¸åŒ¹é…çš„é”™è¯¯ã€‚ shapeæŒ‡å®šäº†æ‰€è¦ä¼ å…¥çš„Tensorå¯¹è±¡çš„å½¢çŠ¶ã€‚è¯·å‚è€ƒå‰æ–‡ä¸­å¯¹Tensorå½¢çŠ¶çš„è®¨è®ºã€‚shapeå‚æ•°çš„é»˜è®¤å€¼ä¸ºNoneï¼Œè¡¨ç¤ºå¯æ¥æ”¶ä»»æ„å½¢çŠ¶çš„Tensorå¯¹è±¡ã€‚ ä¸ä»»ä½•Opä¸€æ ·ï¼Œä¹Ÿå¯åœ¨fpaceholerä¸­æŒ‡å®šä¸€ä¸ªnameæ ‡è¯†ç¬¦ã€‚ ä¸ºäº†ç»™å ä½ç¬¦ä¼ å…¥ä¸€ä¸ªå®é™…çš„å€¼ï¼Œéœ€è¦ä½¿ç”¨Sesionnm()ä¸­çš„eed_dictå‚æ•°ã€‚æˆ‘ä»¬å°†æŒ‡å‘å ä½ç¬¦è¾“å‡ºçš„å¥æŸ„ä½œä¸ºå­—å…¸(åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå¯¹åº”å˜é‡a)çš„â€œé”®â€ï¼Œè€Œ å°†å¸Œæœ›ä¼ å…¥çš„Tensorå¯¹è±¡ä½œä¸ºå­—å…¸çš„â€œå€¼â€ï¼š 12345678#å®šä¹‰ä¸€ä¸ªTensorFlow Sessionå¯¹è±¡sess=tf.Session()#åˆ›å»ºä¸€ä¸ªå°†ä¼ ç»™feed_dictå‚æ•°çš„å­—å…¸#é”®ï¼šaâ€™ï¼ŒæŒ‡å‘å ä½ç¬¦è¾“å‡ºTensorå¯¹è±¡çš„å¥æŸ„#å€¼ï¼šä¸€ä¸ªå€¼ä¸º[5ï¼Œ3]ã€ç±»å‹ä¸ºint32çš„å‘é‡input_dict=&#123;a:np.array([5ï¼Œ3]ï¼Œdtype=np.int32)&#125;#è®¡ç®—dçš„å€¼ï¼Œå°†input_dictçš„â€œå€¼â€ä¼ ç»™asess.run(dï¼Œfeed_dict=input_dict) å¿…é¡»åœ¨eed dixtä¸­ä¸ºå¾…è®¡ç®—çš„èŠ‚ç‚¹çš„æ¯ä¸ªä¾èµ–å ä½ç¬¦åŒ…å«ä¸€ä¸ªé”®å€¼å¯¹ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œéœ€è¦è®¡ç®—dçš„è¾“å‡ºï¼Œè€Œå®ƒä¾èµ–äºaçš„è¾“å‡ºã€‚å¦‚æœè¿˜å®šä¹‰äº†ä¸€äº›dä¸ä¾èµ–çš„å…¶ä»–å ä½ç¬¦ï¼Œåˆ™æ— éœ€å°†å®ƒä»¬åŒ…å«åœ¨eed_dictä¸­ã€‚ placeholderçš„å€¼æ˜¯æ— æ³•è®¡ç®—çš„â€”å¦‚æœè¯•å›¾å°†å…¶ä¼ å…¥Session.nn()ï¼Œå°†å¼•å‘ä¸€ä¸ªå¼‚å¸¸ã€‚ Variableå¯¹è±¡ 1.åˆ›å»ºVariableå¯¹è±¡ Tensorå¯¹è±¡å’ŒOpå¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„(immmtable)ï¼Œä½†æœºå™¨å­¦ä¹ ä»»åŠ¡çš„æœ¬è´¨å†³å®šäº†éœ€è¦ä¸€ç§æœºåˆ¶ä¿å­˜éšæ—¶é—´å˜åŒ–çš„å€¼ã€‚å€ŸåŠ©TensorFbwä¸­çš„Varableå¯¹è±¡ï¼Œä¾¿å¯è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚Variabeå¯¹è±¡åŒ…å«äº†åœ¨å¯¹Session.un()å¤šæ¬¡è°ƒç”¨ä¸­å¯æŒä¹…åŒ–çš„å¯å˜å¼ é‡å€¼ã€‚Variabkå¯¹è±¡çš„åˆ›å»ºå¯é€šè¿‡Variabeç±»çš„æ„é€ æ–¹æ³•tVariable()å®Œæˆï¼š 123456789101112131415inport tensorflow as tf#ä¸ºVariableå¯¹è±¡ä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼3my_var=tf.Variable(3ï¼Œname=\"my_variable\")#Variableå¯¹è±¡å¯ç”¨äºä»»ä½•å¯èƒ½ä¼šä½¿ç”¨Tensorå¯¹è±¡çš„TensorFlbwå‡½æ•°æˆ–Opä¸­ï¼Œå…¶å½“å‰å€¼å°†ä¼ ç»™ä½¿ç”¨å®ƒçš„Opï¼šadd=tf.add(5ï¼Œmy_var)mul=tf.mul(8ï¼Œmy_var)#Variableså¯¹è±¡çš„åˆå€¼é€šå¸¸æ˜¯å…¨0ã€å…¨1æˆ–ç”¨éšæœºæ•°å¡«å……çš„é˜¶æ•°è¾ƒé«˜çš„å¼ é‡ã€‚ä¸ºä½¿åˆ›å»ºå…·æœ‰è¿™äº›å¸¸è§ç±»å‹åˆå€¼çš„å¼ é‡æ›´åŠ å®¹æ˜“ï¼ŒTensorFlowæä¾›äº†å¤§é‡è¾…åŠ©Opï¼Œå¦‚tferos()ã€tfones()ã€tfrandom normal()å’Œtfrandomuiform()ï¼Œæ¯ä¸ªOpéƒ½æ¥æ”¶ä¸€ä¸ªsapeå‚æ•°ï¼Œä»¥æŒ‡å®šæ‰€åˆ›å»ºçš„Tensorå¯¹è±¡çš„å½¢çŠ¶ï¼š#2Ã—2çš„é›¶çŸ©é˜µzeros=tf.zeros([2ï¼Œ2])#é•¿åº¦ä¸º6çš„å…¨1å‘é‡ones=tf.ones([6])#3Ã—3Ã—3çš„å¼ é‡ï¼Œå…¶å…ƒç´ æœä»0~10çš„å‡åŒ€åˆ†å¸ƒuniform=tf.random_uniform([3ï¼Œ3ï¼Œ3]ï¼Œminval=0ï¼Œmaxval=10)#3Ã—3Ã—3çš„å¼ é‡ï¼Œå…¶å…ƒç´ æœä»0å‡å€¼ã€æ ‡å‡†å·®ä¸º2çš„æ­£æ€åˆ†å¸ƒnormal=tf.random_normal([3ï¼Œ3ï¼Œ3]ï¼Œmean=0.0ï¼Œstddev=2.0) é™¤äº†tfrandom normal()å¤–ï¼Œç»å¸¸è¿˜ä¼šçœ‹åˆ°äººä»¬ä½¿ç”¨ttrmncated nomal()ï¼Œå› ä¸ºå®ƒä¸ä¼šåˆ›å»ºä»»ä½•åç¦»å‡å€¼è¶…è¿‡2å€æ ‡å‡†å·®çš„å€¼ï¼Œä»è€Œå¯ä»¥é˜²æ­¢æœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªå…ƒç´ ä¸è¯¥å¼ é‡ä¸­çš„å…¶ä»–å…ƒç´ æ˜¾è‘—ä¸åŒçš„æƒ…å†µå‡ºç°ï¼š 12345#è¯¥Tensorå¯¹è±¡ä¸ä¼šè¿”å›ä»»ä½•å°äº3.0æˆ–å¤§äº7.0çš„å€¼trunc=tf.truncated_normal([2ï¼Œ2]ï¼Œmean=5.0ï¼Œstddev=1.0)å¯åƒæ‰‹å·¥åˆå§‹åŒ–å¼ é‡é‚£æ ·å°†è¿™äº›Opä½œä¸ºVariableå¯¹è±¡çš„åˆå€¼ä¼ å…¥ï¼š#é»˜è®¤å‡å€¼ä¸º0ï¼Œé»˜è®¤æ ‡å‡†å·®ä¸º1.0randon_var=tf.Variable(tf.truncated_normal([2ï¼Œ2])) 2.Variableå¯¹è±¡çš„åˆå§‹åŒ– Variableå¯¹è±¡ä¸å¤§å¤šæ•°å…¶ä»–TensorFlowå¯¹è±¡åœ¨Graphä¸­å­˜åœ¨çš„æ–¹å¼éƒ½æ¯”è¾ƒç±»ä¼¼ï¼Œä½†å®ƒä»¬çš„çŠ¶æ€å®é™…ä¸Šæ˜¯ç”±Sessionå¯¹è±¡ç®¡ç†çš„ã€‚å› æ­¤ï¼Œä¸ºä½¿ç”¨Varinbeå¯¹è±¡ï¼Œéœ€è¦é‡‡å–ä¸€äº›é¢å¤–çš„æ­¥éª¤â€”å¿…é¡»åœ¨ä¸€ä¸ªSessionå¯¹è±¡å†…å¯¹Variableå¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ã€‚è¿™æ ·ä¼šä½¿Sessionå¯¹è±¡å¼€å§‹è¿½è¸ªè¿™ä¸ªVariableå¯¹è±¡çš„å€¼çš„å˜åŒ–ã€‚Varabeå¯¹è±¡çš„åˆå§‹åŒ–é€šå¸¸æ˜¯é€šè¿‡å°†tinitialize_all_variabkes()Opä¼ ç»™Sessionrun()å®Œæˆçš„ï¼š 123456789init=tf.initialize_all_variables()sess=tf.Session()sess.run(init)#å¦‚æœåªéœ€è¦å¯¹æ•°æ®æµå›¾ä¸­å®šä¹‰çš„ä¸€ä¸ªVariableå¯¹è±¡å­é›†åˆå§‹åŒ–ï¼Œå¯ä½¿ç”¨tfinitialie variables()ã€‚è¯¥å‡½æ•°å¯æ¥æ”¶ä¸€ä¸ªè¦è¿›è¡Œåˆå§‹åŒ–çš„Variableå¯¹è±¡åˆ—è¡¨ï¼švar1=tf.Variable(0ï¼Œname=\"initialize_me\")var2=tf.Variable(1ï¼Œname=\"no_initialization\")init=tf.initialize_variables([var1]ï¼Œname=\"init_var1\")sess=tf.Session()sess.run(init) 3.Variableå¯¹è±¡çš„ä¿®æ”¹ è¦ä¿®æ”¹Variablkå¯¹è±¡çš„å€¼ï¼Œå¯ä½¿ç”¨Variable.assign()æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯ä¸ºVariableå¯¹è±¡èµ‹äºˆæ–°å€¼ã€‚è¯·æ³¨æ„ï¼ŒVariable.assign()æ˜¯ä¸€ä¸ªOpï¼Œè¦ä½¿å…¶ç”Ÿæ•ˆå¿…é¡»åœ¨ä¸€ä¸ªSessionå¯¹è±¡ä¸­è¿è¡Œï¼š 1234567891011121314151617181920212223#åˆ›å»ºä¸€ä¸ªåˆå€¼ä¸º1çš„Variableå¯¹è±¡my_var=tf.Variable(1)#åˆ›å»ºä¸€ä¸ªOpï¼Œä½¿å…¶åœ¨æ¯æ¬¡è¿è¡Œæ—¶éƒ½å°†è¯¥Variableå¯¹è±¡ä¹˜ä»¥2my_var_times_two=my_var.assign(my_var*2)#åˆå§‹åŒ–Op init=tf.initialize_all_variables()#å¯åŠ¨ä¸€ä¸ªä¼šè¯sess=tf.Session()#åˆå§‹åŒ–Variableå¯¹è±¡sess.run(init)#å°†Variableå¯¹è±¡ä¹˜ä»¥2ï¼Œå¹¶å°†å…¶è¿”å›sess.run(my_var_times_two)##è¾“å‡ºï¼š2#å†æ¬¡ç›¸ä¹˜sess.run(my_var_times_two)##è¾“å‡ºï¼š4#å†æ¬¡ç›¸ä¹˜sess.run(my_var_times_two)##è¾“å‡ºï¼š8å¯¹äºVariablkå¯¹è±¡çš„ç®€å•è‡ªå¢å’Œè‡ªå‡ï¼ŒTensorFlowæä¾›äº†Variable.asign add()æ–¹æ³•å’ŒVariable.assignsub()æ–¹æ³•ï¼š#è‡ªå¢1sess.run(my_var.assign_add(1))#è‡ªå‡1sess.run(my_var.assign_sub(1)) â–³ç”±äºä¸åŒSessionå¯¹è±¡ä¼šå„è‡ªç‹¬ç«‹åœ°ç»´æŠ¤Varablkå¯¹è±¡çš„å€¼ï¼Œå› æ­¤æ¯ä¸ªSessionå¯¹è±¡éƒ½æ‹¥æœ‰è‡ªå·±çš„ã€åœ¨Graphå¯¹è±¡ä¸­å®šä¹‰çš„Variabeå¯¹è±¡çš„å½“å‰å€¼ï¼š 4.trainableå‚æ•° åœ¨æœ¬ä¹¦çš„åç»­ç« èŠ‚å°†ä»‹ç»å„ç§èƒ½å¤Ÿè‡ªåŠ¨è®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹çš„Optinmizerç±»ï¼Œè¿™æ„å‘³ç€è¿™äº›ç±»å°†è‡ªåŠ¨ä¿®æ”¹Variableå¯¹è±¡çš„å€¼ï¼Œè€Œæ— é¡»æ˜¾å¼åšå‡ºè¯·æ±‚ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸è¯»è€…çš„æœŸæœ›ä¸€è‡´ï¼Œä½†å¦‚æœè¦æ±‚Graphå¯¹è±¡ä¸­çš„ä¸€äº›Variabkå¯¹è±¡åªå¯æ‰‹å·¥ä¿®æ”¹ï¼Œè€Œä¸å…è®¸ä½¿ç”¨Optimizerç±»æ—¶ï¼Œå¯åœ¨åˆ›å»ºè¿™äº›Variableå¯¹è±¡æ—¶å°†å…¶raimbeå‚æ•°è®¾ä¸ºFalseï¼šnot_trainable=tf.Variable(0ï¼Œtrainable=False)","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"}]},{"title":"å¸¸ç”¨åŸŸåè®°å½•è§£é‡Š","slug":"å¸¸ç”¨åŸŸåè®°å½•è§£é‡Š","date":"2019-09-17T09:47:35.000Z","updated":"2019-09-17T09:47:50.806Z","comments":true,"path":"2019/09/17/å¸¸ç”¨åŸŸåè®°å½•è§£é‡Š/","link":"","permalink":"https://nymrli.top/2019/09/17/å¸¸ç”¨åŸŸåè®°å½•è§£é‡Š/","excerpt":"","text":"å¸¸ç”¨åŸŸåè®°å½•è§£é‡Š Aè®°å½• Aè®°å½•æ˜¯ç”¨æ¥åˆ›å»ºåˆ°IPåœ°å€çš„è®°å½•ã€‚ Aè®°å½•è®¾ç½®æŠ€å·§ 1ã€å¦‚æœæƒ³åˆ›å»ºä¸å¸¦wwwçš„è®°å½•ï¼Œå³ezloo.comï¼Œåœ¨ä¸»æœºè®°å½•ä¸­å¡«å†™@æˆ–è€…ç•™ç©ºï¼Œä¸åŒçš„æ³¨å†Œå•†å¯èƒ½ä¸ä¸€æ ·ã€‚ 2ã€åˆ›å»ºå¤šä¸ªåŸŸååˆ°åŒä¸€ä¸ªIPï¼Œæ¯”å¦‚ç»™åšå®¢å»ºäº†äºŒçº§åŸŸåï¼Œå¯ä»¥ä½¿ç”¨*.blog.ezloo.comæ¥æŒ‡å‘ä¸€ä¸ªIPï¼Œè¿™æ ·çš„è¯ï¼Œä¸ç®¡æ˜¯è®¿é—®a.blog.ezloo.comè¿˜æ˜¯b.blog.ezloo.coméƒ½èƒ½åˆ°åŒä¸€ä¸ªIPã€‚ 3ã€å¦‚æœä½ ç»™åŒä¸€ä¸ªäºŒçº§åŸŸåè®¾ç½®äº†å¤šä¸ªAè®°å½•ï¼Œæ¯”å¦‚ä½ å»ºäº†ä¸¤ä¸ªblogçš„Aè®°å½•ï¼Œå…¶ä¸­ä¸€ä¸ªæŒ‡å‘äº†111.111.111.111ï¼Œå¦ä¸€ä¸ªæŒ‡å‘äº†111.111.111.112ï¼Œé‚£ä¹ˆåœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œæ¯æ¬¡è¿”å›çš„æ•°æ®åŒ…å«äº†ä¸¤ä¸ªIPåœ°å€ï¼Œä½†æ˜¯åœ¨è¿”å›çš„è¿‡ç¨‹ä¸­æ•°æ®æ’åˆ—çš„é¡ºåºæ¯æ¬¡éƒ½ä¸ç›¸åŒã€‚ç”±äºå¤§ éƒ¨åˆ†çš„å®¢æˆ·ç«¯åªé€‰æ‹©ç¬¬ä¸€æ¡è®°å½•æ‰€ä»¥é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥å®ç°ä¸€å®šç¨‹åº¦çš„è´Ÿè½½å‡è¡¡ã€‚ åœ¨å‘½ä»¤è¡Œä¸‹å¯ä»¥é€šè¿‡nslookup -qt=a www.ezloo.comæ¥æŸ¥çœ‹Aè®°å½•ã€‚ MXè®°å½• åœ¨å‘½ä»¤è¡Œä¸‹å¯ä»¥é€šè¿‡ nslookup -qt=mx ezloo.com æ¥æŸ¥çœ‹MXè®°å½•ã€‚ mx è®°å½•çš„æƒé‡å¯¹ Mail æœåŠ¡æ˜¯å¾ˆé‡è¦çš„ï¼Œå½“å‘é€é‚®ä»¶æ—¶ï¼ŒMail æœåŠ¡å™¨å…ˆå¯¹åŸŸåè¿›è¡Œè§£æï¼ŒæŸ¥æ‰¾ mx è®°å½•ã€‚å…ˆæ‰¾æƒé‡æ•°æœ€å°çš„æœåŠ¡å™¨ï¼ˆæ¯”å¦‚è¯´æ˜¯ 10ï¼‰ï¼Œå¦‚æœèƒ½è¿é€šï¼Œé‚£ä¹ˆå°±å°†æœåŠ¡å™¨å‘é€è¿‡å»ï¼›å¦‚æœæ— æ³•è¿é€š mx è®°å½•ä¸º 10 çš„æœåŠ¡å™¨ï¼Œé‚£ä¹ˆæ‰å°†é‚®ä»¶å‘é€åˆ°æƒé‡ä¸º 20 çš„ mail æœåŠ¡å™¨ä¸Šã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œæƒé‡ 20 çš„æœåŠ¡å™¨åœ¨é…ç½®ä¸Šåªæ˜¯æš‚æ—¶ç¼“å­˜ mail ï¼Œå½“æƒé‡ 20 çš„æœåŠ¡å™¨èƒ½è¿é€šæƒé‡ä¸º 10 çš„æœåŠ¡å™¨æ—¶ï¼Œä»ä¼šå°†é‚®ä»¶å‘é€çš„æƒé‡ä¸º 10 çš„ Mail æœåŠ¡å™¨ä¸Šã€‚å½“ç„¶ï¼Œè¿™ä¸ªæœºåˆ¶éœ€è¦åœ¨ Mail æœåŠ¡å™¨ä¸Šé…ç½®ã€‚ï¼ˆhttp://blog.ixpub.net/viewthread-1308142ï¼‰ CNAMEè®°å½• CNAMEè®°å½•ä¹Ÿæˆåˆ«åè®°å½•ï¼Œå®ƒå…è®¸ä½ å°†å¤šä¸ªè®°å½•æ˜ å°„åˆ°åŒä¸€å°è®¡ç®—æœºä¸Šã€‚æ¯”å¦‚ä½ å»ºäº†å¦‚ä¸‹å‡ æ¡è®°å½•ï¼š a1 CNAME a.ezloo.com a2 CNAME a.ezloo.com a3 CNAME a.ezloo.com a A 111.222.111.222 æˆ‘ä»¬è®¿é—®a1ï¼ˆa2ï¼Œa3ï¼‰.ezloo.comçš„æ—¶å€™ï¼ŒåŸŸåè§£ææœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªCNAMEè®°å½•ï¼Œå¹¶ä¸”æŒ‡å‘a.ezloo.comï¼Œç„¶åæˆ‘ä»¬çš„æœ¬åœ°ç”µè„‘ä¼šå†å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè¯·æ±‚a.ezloo.comçš„è§£æï¼Œè¿”å›IPåœ°å€ã€‚ å½“æˆ‘ä»¬è¦æŒ‡å‘å¾ˆå¤šçš„åŸŸååˆ°ä¸€å°ç”µè„‘ä¸Šçš„æ—¶å€™ï¼Œç”¨CNAMEæ¯”è¾ƒæ–¹ä¾¿ï¼Œå°±å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¦‚æœæœåŠ¡å™¨æ›´æ¢IPäº†ï¼Œæˆ‘ä»¬åªè¦æ›´æ¢a.ezloo.comçš„Aè®°å½•å³å¯ã€‚ åœ¨å‘½ä»¤è¡Œä¸‹å¯ä»¥ä½¿ç”¨nslookup -qt=cname a.ezloo.comæ¥æŸ¥çœ‹CNAMEè®°å½•ã€‚ TXTè®°å½• TXTè®°å½•ä¸€èˆ¬æ˜¯ä¸ºæŸæ¡è®°å½•è®¾ç½®è¯´æ˜ï¼Œæ¯”å¦‚ä½ æ–°å»ºäº†ä¸€æ¡a.ezloo.comçš„TXTè®°å½•ï¼ŒTXTè®°å½•å†…å®¹&quot;this is a test TXT record.&quot;ï¼Œç„¶åä½ ç”¨ nslookup -qt=txt a.ezloo.com ï¼Œä½ å°±èƒ½çœ‹åˆ°&quot;this is a test TXT record&quot;çš„å­—æ ·ã€‚ é™¤å¤–ï¼ŒTXTè¿˜å¯ä»¥ç”¨æ¥éªŒè¯åŸŸåçš„æ‰€æœ‰ï¼Œæ¯”å¦‚ä½ çš„åŸŸåä½¿ç”¨äº†Googleçš„æŸé¡¹æœåŠ¡ï¼ŒGoogleä¼šè¦æ±‚ä½ å»ºä¸€ä¸ªTXTè®°å½•ï¼Œç„¶åGoogleéªŒè¯ä½ å¯¹æ­¤åŸŸåæ˜¯å¦å…·å¤‡ç®¡ç†æƒé™ã€‚ åœ¨å‘½ä»¤è¡Œä¸‹å¯ä»¥ä½¿ç”¨nslookup -qt=txt a.ezloo.comæ¥æŸ¥çœ‹TXTè®°å½•ã€‚ AAAAè®°å½• AAAAè®°å½•æ˜¯ä¸€ä¸ªæŒ‡å‘IPv6åœ°å€çš„è®°å½•ã€‚ å¯ä»¥ä½¿ç”¨nslookup -qt=aaaa a.ezloo.comæ¥æŸ¥çœ‹AAAAè®°å½•ã€‚ NSè®°å½• NSè®°å½•æ˜¯åŸŸåæœåŠ¡å™¨è®°å½•ï¼Œç”¨æ¥æŒ‡å®šåŸŸåç”±å“ªå°æœåŠ¡å™¨æ¥è¿›è¡Œè§£æã€‚å¯ä»¥ä½¿ç”¨nslookup -qt=ns ezloo.comæ¥æŸ¥çœ‹ã€‚ TTLå€¼ TTL=time to liveï¼Œè¡¨ç¤ºè§£æè®°å½•åœ¨DNSæœåŠ¡å™¨ä¸­çš„ç¼“å­˜æ—¶é—´ã€‚æ¯”å¦‚å½“æˆ‘ä»¬è¯·æ±‚è§£æwww.ezloo.comçš„æ—¶å€™ï¼ŒDNSæœåŠ¡å™¨å‘ç°æ²¡æœ‰è¯¥è®°å½•ï¼Œå°±ä¼šä¸‹ä¸ªNSæœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè·å¾—è®°å½•ä¹‹åï¼Œè¯¥è®°å½•åœ¨DNSæœåŠ¡å™¨ä¸Šä¿å­˜TTLçš„æ—¶é—´é•¿åº¦ã€‚å½“æˆ‘ä»¬å†æ¬¡å‘å‡ºè¯·æ±‚è§£æwww.ezloo.com çš„æ—¶å€™ï¼ŒDNSæœåŠ¡å™¨ç›´æ¥è¿”å›åˆšæ‰çš„è®°å½•ï¼Œä¸å»è¯·æ±‚NSæœåŠ¡å™¨ã€‚TTLçš„æ—¶é—´é•¿åº¦å•ä½æ˜¯ç§’ï¼Œä¸€èˆ¬ä¸º3600ç§’ã€‚","categories":[],"tags":[{"name":"ç½‘ç»œçŸ¥è¯†","slug":"ç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/ç½‘ç»œçŸ¥è¯†/"}]},{"title":"SpringBootå­¦ä¹ ç¬”è®°","slug":"SpringBootå­¦ä¹ ç¬”è®°","date":"2019-09-17T09:01:40.000Z","updated":"2021-11-27T07:48:46.056Z","comments":true,"path":"2019/09/17/SpringBootå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://nymrli.top/2019/09/17/SpringBootå­¦ä¹ ç¬”è®°/","excerpt":"","text":"Spring Boot SpringMVCæµç¨‹å›¾ hello word ç¬¬ä¸€ä¸ªcontroller 12345678910111213141516171819202122232425262728/** * Project Name:demo * File Name:HelloController.java * Package Name:com.example.demo * Date:2019å¹´9æœˆ15æ—¥ä¸‹åˆ8:27:56 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ package com.example.demo;import org.springframework.beans.factory.annotation.Value;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class HelloController &#123; @Value(\"$&#123;cupsize&#125;\") private String cupsize; @RequestMapping(value=\"hello\",method= RequestMethod.GET)// @GetMapping(\"/hello\") public String say() &#123; return cupsize; &#125;&#125; application.yml 12345678server: port: 5000# servlet:# context-path: /girlcupsize: Bspring.datasource.url: jdbc:mysql://127.0.0.1:3306/spring.datasource.username: root spring.datasource.password: 123456spring.datasource.driver-class-name: com.mysql.jdbc Controllerçš„ä½¿ç”¨ @Controllerå¤„ç†httpè¯·æ±‚Spring4ä¹‹åæ–°åŠ çš„æ³¨è§£ï¼ŒåŸæ¥è¿”å›json éœ€è¦è¿”å›æ¨¡æ¿,å³return â€œindexâ€; éœ€è¦åœ¨POM.XMLä¸­æ·»åŠ spring-boot-starter-thymeleafçš„ä¾èµ– 1234&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt; @RestControllerç­‰ä»·äº&lt;==&gt;@Controller+@ResponseBody å¯ä»¥è¿”å›JSONæ ¼å¼ @RequestMapping é…ç½®urlæ˜ å°„ â–²å¦‚æœæ²¡æœ‰æŒ‡å®šMethodé‚£ä¹ˆæ‰€æœ‰æ–¹å¼éƒ½å¯ä»¥ ç»™æŸä¸ªæ–¹æ³•æŒ‡å®šurlè·¯ç”± @RequestMapping(value={&quot;/hello&quot;,&quot;/hil&quot;},method=RequestMethod.GET) ç»™æ•´ä¸ªclassæŒ‡å®šè·¯ç”± 123456789101112131415161718192021222324252627/** * Project Name:demo * File Name:HelloController.java * Package Name:com.example.demo * Date:2019å¹´9æœˆ15æ—¥ä¸‹åˆ8:27:56 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ package com.example.demo;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RestController;@RestController@RequestMapping(value=\"/hello\")public class HelloController &#123; @Autowired private GirlProperties girlProperties; @RequestMapping(value = \"/say\", method= RequestMethod.GET) public String say() &#123; return girlProperties.getCupSize(); &#125;&#125; @RequestMapping(value=xxx,method=RequestMethod.GET)ç­‰ä»·äºXxxMapping GetMapping PostMapping @PathVariable 1234@RequestMapping(value = \"/say/&#123;id&#125;\", method= RequestMethod.GET)public String say(@PathVariable(\"id\") Integer id) &#123;return \"id:\" + id;&#125; @RequestParam 12345678910@RequestMapping(value = \"/say\", method= RequestMethod.GET)public String say(@RequestParam(\"id\") Integer mid) &#123; return \"id:\" + mid;&#125;@RequestMapping(value = \"/say\", method= RequestMethod.GET) // defaultValueå€¼å¿…é¡»ä¸ºString public String say(@RequestParam(value=\"id\", required=false, defaultValue=\"0\") Integer mid) &#123; return \"id:\" + mid; &#125; æ•°æ®åº“ç®¡ç† JPAï¼ˆJava Persistence APlï¼‰å®šä¹‰äº†ä¸€ç³»åˆ—å¯¹è±¡æŒä¹…åŒ–çš„æ ‡å‡†ï¼Œç›®å‰å®ç°è¿™ä¸€è§„èŒƒçš„äº§å“æœ‰Hibernateã€TopLinkç­‰ã€‚ å¯ç”¨JPA application.yml 123456789101112spring: profiles: active: dev datasource: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://127.0.0.1:3306/dbgirl?characterEncoding=utf-8&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC username: root password: cl123123 jpa: hibernate: ddl-auto: create show-sql: true å¢åˆ æ”¹æŸ¥CURD 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * Project Name:demo * File Name:Girl.java * Package Name:com.example.demo * Date:2019å¹´9æœˆ16æ—¥ä¸‹åˆ6:34:14 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ package com.example.demo;import javax.persistence.Entity;import javax.persistence.GeneratedValue;import javax.persistence.Id;@Entitypublic class Girl &#123; @Id @GeneratedValue private Integer id; private String cupSize; private Integer age; public Girl() &#123; // TODO Auto-generated constructor stub &#125; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getCupSize() &#123; return cupSize; &#125; public void setCupSize(String cupSize) &#123; this.cupSize = cupSize; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; @Override public String toString() &#123; return \"&#123;\\\"id\\\":\\\"\" + id + \"\\\",\\\"cupSize\\\":\\\"\" + cupSize + \"\\\",\\\"age\\\":\\\"\" + age + \"\\\"&#125; \"; &#125;&#125; GirlControllr.java 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172/** * Project Name:demo * File Name:GirlController.java * Package Name:com.example.demo * Date:2019å¹´9æœˆ17æ—¥ä¸‹åˆ3:44:06 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ package com.example.demo;import java.util.List;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.DeleteMapping;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.PutMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.RestController;@RestControllerpublic class GirlController &#123; @Autowired private GirlRepository girlRepository; @GetMapping(value= \"/girls\") public List&lt;Girl&gt; girlList()&#123; return girlRepository.findAll(); &#125; @PostMapping(value = \"/girls\") public Girl addGirl(@RequestParam(\"cupSize\") String cupSize, @RequestParam(\"age\") Integer age) &#123; System.out.println(\"cupsize\"+cupSize); Girl girl= new Girl(); girl.setCupSize(cupSize); girl.setAge(age); return girlRepository.save(girl); &#125; @GetMapping(value=\"/girls/&#123;id&#125;\") public Girl girlFindOne(@PathVariable(\"id\") Integer id) &#123; return girlRepository.findById(id).get();// return girlRepository.getOne(id); æ— æ•ˆï¼Œéœ€è¦å®ä¾‹json &#125; @PutMapping(value=\"/girls/&#123;id&#125;\") public Girl girlUpdate(@PathVariable(\"id\") Integer id, @RequestParam(\"cupSize\") String cupSize, @RequestParam(\"age\") Integer age) &#123; Girl girl = new Girl(); girl.setId(id); girl.setAge(age); girl.setCupSize(cupSize); return girlRepository.save(girl); &#125; @DeleteMapping(value=\"/girls/&#123;id&#125;\") public void girlDelete(@PathVariable(\"id\") Integer id) &#123; girlRepository.deleteById(id); &#125; @GetMapping(value=\"/girls/age/&#123;age&#125;\") public List&lt;Girl&gt; girlListByAge(@PathVariable(\"age\") Integer age)&#123; return girlRepository.findByAge(age); &#125;&#125; â–²æ³¨æ„.è§†é¢‘ä¸­çš„findOneå·²ç»è¢«æ·˜æ±°ï¼Œå› ä¸ºspringbootç‰ˆæœ¬é—®é¢˜ï¼Œæ–°çš„ç‰ˆæœ¬ä¸å†æ”¯æŒfindone(id)æ–¹æ³•ã€‚ å¯ç”¨findById(id).get()æˆ–getOne(id)æ¥æ›¿æ¢ï¼ŒåŒºåˆ«æ˜¯å‰è€…å½“å‚æ•°idä¸ºç©ºæ—¶è¿”å›nullï¼Œåè€…ç›´æ¥æŠ¥å¼‚å¸¸ï¼Œå› ä¸ºgetOneè¿”å›çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ã€‚ æˆ‘è¯•äº†ä¸‹getOneä¼šæŠ¥é”™ï¼Œæ®è¯´æ˜¯è¦è®¾ç½®jsonçš„è¿”å›æ ¼å¼ï¼Ÿ è‡ªå®šä¹‰æœç´¢æ–¹å¼findByAge 12345678910111213141516171819/** * Project Name:demo * File Name:GirlRepository.java * Package Name:com.example.demo * Date:2019å¹´9æœˆ17æ—¥ä¸‹åˆ3:44:33 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ package com.example.demo;import java.util.List;import org.springframework.data.jpa.repository.JpaRepository;public interface GirlRepository extends JpaRepository&lt;Girl, Integer&gt;&#123; public List&lt;Girl&gt; findByAge(Integer age);&#125; æ•°æ®åº“äº‹åŠ¡ç®¡ç† 12345678910111213141516171819202122232425262728293031323334353637383940414243444546/** * Project Name:demo * File Name:GirlController.java * Package Name:com.example.demo * Date:2019å¹´9æœˆ17æ—¥ä¸‹åˆ3:44:06 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ @PostMapping(value = \"/girls/two\") public void girlTwo() &#123; girlService.insertTwo(); &#125;/** * Project Name:demo * File Name:GirlService.java * Package Name:com.example.demo * Date:2019å¹´9æœˆ17æ—¥ä¸‹åˆ4:39:00 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ package com.example.demo;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;@Servicepublic class GirlService &#123; @Autowired private GirlRepository girlRepository; @Transactional public void insertTwo() &#123; Girl girlA = new Girl(); girlA.setCupSize(\"A\"); girlA.setAge(18); girlRepository.save(girlA); Girl girlB = new Girl(); girlB.setCupSize(\"BBBB\"); girlB.setAge(19); girlRepository.save(girlB); &#125;&#125; åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº†Spring data jpaè‡ªåŠ¨åˆ›å»ºè¡¨ã€‚ä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ›å»ºå‡ºæ¥çš„è¡¨ç±»å‹ä¸ºMyISAMã€‚ ï¼ˆMySQLæ•°æ®åº“é»˜è®¤çš„å­˜å‚¨å¼•æ“ç±»å‹æ˜¯MyISAMï¼Œè¿™ç§å­˜å‚¨å¼•æ“ç±»å‹ä¸æ”¯æŒäº‹åŠ¡å¤„ç†ã€‚ï¼‰æ”¹æˆInnoDBå­˜å‚¨å¼•æ“ä¼šå°±å¯ä»¥äº†ã€‚ 123456jpa: database: MYSQL hibernate: ddl-auto: update show-sql: true database-platform: org.hibernate.dialect.MySQL5InnoDBDialect åœ¨navicatä¸­æ•°æ®åº“â€”&gt;è¡¨â€”&gt;å•å‡»è¡¨åï¼Œåœ¨å³è¾¹å¯ä»¥å‡ºç°è¡¨çš„æ‰€æœ‰ä¿¡æ¯ Spring Boot 2.0æ·±åº¦å®è·µ-åˆé‡Spring Boot å¤šæ¨¡å—ï¼šwebã€persistenceã€mdel é¡¹ç›®æ‰“åŒ…â€”â€”å¤šæ¨¡å—é‡æ„å è¿è¡Œæ¨¡å¼ IDEA: æœ‰å›¾å½¢ç•Œé¢çš„å¼€å‘ç¯å¢ƒ JAR/WAR: çº¿ä¸Šã€æœåŠ¡å™¨ä¸Šçš„ç”Ÿäº§ç¯å¢ƒ 123$ mvn install $ cd target$ java -jar MAVENæ’ä»¶: æ— å›¾å½¢ç•Œé¢çš„å¼€å‘ç¯å¢ƒ mvn spring-boot:run çƒ­åŠ è½½ï¼š pom.xmlä¸­åŠ ä¸Šä¾èµ–ï¼š 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt; çƒ­éƒ¨ç½²: å°±æ˜¯å®¹å™¨çŠ¶æ€åœ¨è¿è¡Œçš„æƒ…å†µä¸‹é‡æ–°éƒ¨ç½²æ•´ä¸ªé¡¹ç›®.åœ¨è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬æ•´ä¸ªå†…å­˜ä¼šæ¸…ç©º,é‡æ–°åŠ è½½.ç®€å•æ¥è¯´å°±æ˜¯Tomcatæˆ–è€…å…¶ä»–çš„webæœåŠ¡å™¨ä¼šå¸®æˆ‘ä»¬é‡æ–°åŠ è½½é¡¹ç›®.è¿™ç§æ–¹å¼å¯èƒ½ä¼šé€ æˆsessinä¸¢å¤±ç­‰æƒ…å†µ. çƒ­åŠ è½½: å°±æ˜¯å®¹å™¨çŠ¶æ€åœ¨è¿è¡Œçš„æƒ…å†µä¸‹é‡æ–°åŠ è½½æ”¹å˜ç¼–è¯‘åçš„ç±».åœ¨è¿™ç§æƒ…å†µä¸‹å†…å­˜ä¸ä¼šæ¸…ç©º,sessinä¸ä¼šä¸¢å¤±,ä½†å®¹æ˜“é€ æˆå†…å­˜æº¢å‡º,æˆ–è€…æ‰¾ä¸åˆ°æ–¹æ³•ã€‚å› ä¸ºå†…å­˜æ— æ³•è½¬å˜æˆå¯¹åƒ.ä¸€èˆ¬æ”¹å˜ç±»çš„ç»“æ„å’Œæ¨¡å‹å°±ä¼šæœ‰å¼‚å¸¸ï¼Œåœ¨å·²ç»æœ‰çš„å˜é‡å’Œæ–¹æ³•ä¸­æ”¹å˜æ˜¯ä¸ä¼šå‡ºé—®é¢˜çš„ 2020.5.29 æ˜¥æ‹›ä¸Šå²¸äº†, å‡†å¤‡ä¸‹åç«¯çš„ç›¸å…³å¼€å‘çŸ¥è¯† æ³¨è§£å«ä¹‰ @SpringBootApplicationå†…å®¹-&gt;configurationé…ç½®ç›¸å…³ 1234567891011121314151617@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited// ä¸Šè¿°å››ä¸ªä¸ºå…ƒæ³¨è§£, ä¸éœ€è¦çœ‹@SpringBootConfiguration // è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±», ç”±åŸæ¥springä¸­çš„configurationå°è£…è€Œæˆ(ä»£æ›¿xml)@EnableAutoConfiguration // å…è®¸è‡ªåŠ¨é…ç½®@ComponentScan( // æ‰«æè®¾ç½®: æŒ‡å®šIOCå®¹å™¨æ‰«æçš„åŒ… excludeFilters = &#123;@Filter( type = FilterType.CUSTOM, classes = &#123;TypeExcludeFilter.class&#125;), @Filter( type = FilterType.CUSTOM, classes = &#123;AutoConfigurationExcludeFilter.class&#125;)&#125;) @EnableAutoConfiguration 1234567891011121314@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@AutoConfigurationPackage // æŒ‡å®šè‡ªåŠ¨é…ç½®çš„åŒ…@Import(&#123;AutoConfigurationImportSelector.class&#125;) // ImportæŒ‡å®šå¯¼å…¥æŸä¸ªç±» // AutoConfigurationImportSelector ä¸ºå¯¼å…¥é€‰æ‹©å™¨public @interface EnableAutoConfiguration &#123; // è‡ªåŠ¨å¯¼å…¥é…ç½® String ENABLED_OVERRIDE_PROPERTY = \"spring.boot.enableautoconfiguration\"; Class&lt;?&gt;[] exclude() default &#123;&#125;; String[] excludeName() default &#123;&#125;;&#125; @AutoConfigurationPackage 12345678910@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@Import(&#123;Registrar.class&#125;) // é€šè¿‡Registrarå°†ä¸»å¯åŠ¨ç±»æ‰€åœ¨åŒ…å’Œå®ƒçš„å­åŒ…ä¸­æ‰€æœ‰çš„ç»„ä»¶æ‰«æåˆ°IOCå®¹å™¨ä¸­public @interface AutoConfigurationPackage &#123; // æŒ‡å®šè‡ªåŠ¨é…ç½®çš„åŒ… String[] basePackages() default &#123;&#125;; Class&lt;?&gt;[] basePackageClasses() default &#123;&#125;;&#125; 1234567891011121314151617public abstract class AutoConfigurationPackages &#123; // ... static class Registrar implements ImportBeanDefinitionRegistrar, DeterminableImports &#123; Registrar() &#123; &#125; // é™æ€å†…éƒ¨ç±» public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) &#123; AutoConfigurationPackages.register(registry, (String[])(new AutoConfigurationPackages.PackageImports(metadata)).getPackageNames().toArray(new String[0])); // ç¬¬äºŒä¸ªå‚æ•°: æ‰¾åˆ°ä¸»å¯åŠ¨ç±»çš„åŒ…åŠå…¶å­åŒ… &#125; public Set&lt;Object&gt; determineImports(AnnotationMetadata metadata) &#123; return Collections.singleton(new AutoConfigurationPackages.PackageImports(metadata)); &#125; &#125; &#125; ä¸»åŠ¨å¯¼å…¥çš„é…ç½®åœ¨:External Library-&gt; META-INF/spring.factories-&gt;Maven: org.springframework.boot:spring-boot-autoconfigure:2.3.0.RELEASE 1234# Auto Configureorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\\ éšä¾¿ç‚¹ä¸€ä¸ªè¿›å»å¯ä»¥çœ‹åˆ°, æ¯”å¦‚redis 123456789101112131415161718@Configuration( proxyBeanMethods = false)@ConditionalOnClass(&#123;EnableRedisRepositories.class&#125;)@ConditionalOnBean(&#123;RedisConnectionFactory.class&#125;)@ConditionalOnProperty( // ä¼šå»è¯»propertiesæ–‡ä»¶ï¼Œ å¦‚æœè¯»å–åˆ°äº†ç›¸å…³å‚æ•°å‚ä¼šåŠ è½½ prefix = \"spring.data.redis.repositories\", name = &#123;\"enabled\"&#125;, havingValue = \"true\", matchIfMissing = true // å¦‚æœä¸å­˜åœ¨ä¹Ÿè¡Œ)@ConditionalOnMissingBean(&#123;RedisRepositoryFactoryBean.class&#125;)@Import(&#123;RedisRepositoriesRegistrar.class&#125;)@AutoConfigureAfter(&#123;RedisAutoConfiguration.class&#125;)public class RedisRepositoriesAutoConfiguration &#123; public RedisRepositoriesAutoConfiguration() &#123; &#125;&#125; 12345678910111213141516171819202122232425262728@Configuration( proxyBeanMethods = false)@ConditionalOnWebApplication( type = Type.SERVLET)@ConditionalOnClass(&#123;WebServlet.class&#125;)@ConditionalOnProperty( // ä¼šå»è¯»propertiesæ–‡ä»¶ï¼Œ å¦‚æœè¯»å–åˆ°äº†ç›¸å…³å‚æ•°å‚ä¼šåŠ è½½ prefix = \"spring.h2.console\", name = &#123;\"enabled\"&#125;, havingValue = \"true\", matchIfMissing = false // å¦‚æœä¸å­˜åœ¨å°±ä¸ä¼šåŠ è½½)@AutoConfigureAfter(&#123;DataSourceAutoConfiguration.class&#125;)@EnableConfigurationProperties(&#123;H2ConsoleProperties.class&#125;) // å…è®¸é€šè¿‡propertiesæ–‡ä»¶åŠ è½½public class H2ConsoleAutoConfiguration &#123; // ...&#125;// ã€‚ã€‚ã€‚@ConfigurationProperties( prefix = \"spring.h2.console\" // é€šè¿‡propertiesæ–‡ä»¶é…ç½®ï¼Œ è¯»å–å‰ç¼€ä¸º\"spring.h2.console\"çš„è®¾ç½®)public class H2ConsoleProperties &#123; // ...&#125; @ComponentScanï¼š è¡¨ç¤ºå°†è¯¥ç±»è‡ªåŠ¨å‘ç°æ‰«æç»„ä»¶ã€‚ä¸ªäººç†è§£ç›¸å½“äºï¼Œå¦‚æœæ‰«æåˆ°æœ‰@Componentã€@Controllerã€@Serviceã€@Repositoryç­‰è¿™äº›æ³¨è§£çš„ç±»ï¼Œå¹¶æ³¨å†Œä¸ºBeanï¼Œå¯ä»¥è‡ªåŠ¨æ”¶é›†æ‰€æœ‰çš„Springç»„ä»¶ï¼ŒåŒ…æ‹¬@Configurationç±»ã€‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨@ComponentScanæ³¨è§£æœç´¢beansï¼Œå¹¶ç»“åˆ@Autowiredæ³¨è§£å¯¼å…¥ã€‚ å¦‚æœæ²¡æœ‰é…ç½®çš„è¯ï¼ŒSpring Bootä¸­@SpringBootApplicationä¼šæ‰«æå¯åŠ¨ç±»æ‰€åœ¨åŒ…ä¸‹ä»¥åŠå­åŒ…ä¸‹çš„ç»„ä»¶ã€‚ @beanæ³¨è§£: ç›¸å½“äºxmlä¸­çš„beanæ ‡ç­¾, æ ‡æ³¨åœ¨æ–¹æ³•ä¸Šï¼Œç”¨äºæŠŠä¸€ä¸ªç±»å¯¹è±¡åŠ å…¥IOCå®¹å™¨(è¿”å›æŸä¸ªå®ä¾‹çš„æ–¹æ³•)ï¼Œäº¤ç»™springç®¡ç†ï¼ˆå®˜ç½‘è§£é‡Šï¼šbeanæ˜¯ä¸€ä¸ªç”±Spring IoCå®¹å™¨å®ä¾‹åŒ–ã€ç»„è£…å’Œç®¡ç†çš„å¯¹è±¡ã€‚ï¼‰ã€‚å¹¶ä¸”æ³¨æ„ï¼ŒSpringä¸ŠåŠ @Beanæ³¨è§£çš„éƒ½æ˜¯é»˜è®¤å•ä¾‹æ¨¡å¼ å‚è€ƒï¼š https://www.awaimai.com/2596.html ioCï¼šåœ¨ Spring ä¸­ï¼Œç±»çš„å®ä¾‹åŒ–ã€ä¾èµ–çš„å®ä¾‹åŒ–ã€ä¾èµ–çš„ä¼ å…¥éƒ½äº¤ç”± Spring Bean å®¹å™¨æ§åˆ¶ï¼Œè€Œä¸æ˜¯ç”¨newæ–¹å¼å®ä¾‹åŒ–å¯¹è±¡ã€é€šè¿‡éæ„é€ å‡½æ•°æ–¹æ³•ä¼ å…¥ä¾èµ–ç­‰å¸¸è§„æ–¹å¼ã€‚åœ¨Springä¸­ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸éœ€è¦ new ä¸€ä¸ªç±»ï¼Œè¿™äº›éƒ½æ˜¯è®© Spring å»åšçš„ã€‚Spring å¯åŠ¨æ—¶ä¼šæŠŠæ‰€éœ€çš„ç±»å®ä¾‹åŒ–æˆå¯¹è±¡ï¼Œå¦‚æœéœ€è¦ä¾èµ–ï¼Œåˆ™å…ˆå®ä¾‹åŒ–ä¾èµ–ï¼Œç„¶åå®ä¾‹åŒ–å½“å‰ç±»ã€‚ ä¾èµ–æ³¨å…¥:å› ä¸ºä¾èµ–å¿…é¡»é€šè¿‡æ„å»ºå‡½æ•°ä¼ å…¥ï¼Œæ‰€ä»¥å®ä¾‹åŒ–æ—¶ï¼Œå½“å‰ç±»å°±ä¼šæ¥æ”¶å¹¶ä¿å­˜æ‰€æœ‰ä¾èµ–çš„å¯¹è±¡ã€‚ @Importæ³¨è§£: ç›¸å¯¹äº@beanæ³¨è§£, å¯ä»¥æ›´ä¾¿æ·åœ°å°†ä¸€ä¸ªç±»åŠ å…¥IOCå®¹å™¨ @condition*æ³¨è§£: ä¸€ä¸ªç±»æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶æ—¶æ‰åŠ å…¥IOCå®¹å™¨ï¼ˆå®ä¾‹åŒ–å¯¹è±¡ï¼‰ @RestControllerï¼šç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ç»„ä»¶(å¦‚strutsä¸­çš„action)ï¼Œ@ResponseBodyå’Œ@Controllerçš„åˆé›†ã€‚ @RequestMappingï¼šæä¾›è·¯ç”±ä¿¡æ¯ï¼Œè´Ÿè´£URLåˆ°Controllerä¸­çš„å…·ä½“å‡½æ•°çš„æ˜ å°„ã€‚ @ResponseBodyï¼šè¡¨ç¤ºè¯¥æ–¹æ³•çš„è¿”å›ç»“æœç›´æ¥å†™å…¥HTTP response bodyä¸­ï¼Œä¸€èˆ¬åœ¨å¼‚æ­¥è·å–æ•°æ®æ—¶ä½¿ç”¨ï¼Œç”¨äºæ„å»ºRESTfulçš„apiã€‚åœ¨ä½¿ç”¨@RequestMappingåï¼Œè¿”å›å€¼é€šå¸¸è§£æä¸ºè·³è½¬è·¯å¾„ï¼ŒåŠ ä¸Š@Responsebodyåè¿”å›ç»“æœä¸ä¼šè¢«è§£æä¸ºè·³è½¬è·¯å¾„(ç›´æ¥return 'index'è¡¨ç¤ºè·³è½¬åˆ°index.html)ï¼Œè€Œæ˜¯ç›´æ¥å†™å…¥HTTP response bodyä¸­ã€‚æ¯”å¦‚å¼‚æ­¥è·å–jsonæ•°æ®ï¼ŒåŠ ä¸Š@Responsebodyåï¼Œä¼šç›´æ¥è¿”å›jsonæ•°æ®ã€‚è¯¥æ³¨è§£ä¸€èˆ¬ä¼šé…åˆ@RequestMappingä¸€èµ·ä½¿ç”¨ã€‚ @RequestBodyå°† HTTP è¯·æ±‚æ­£æ–‡æ’å…¥æ–¹æ³•ä¸­ï¼Œä½¿ç”¨é€‚åˆçš„ HttpMessageConverter å°†è¯·æ±‚ä½“å†™å…¥æŸä¸ªå¯¹è±¡ã€‚ è¯¥æ³¨è§£ç”¨äºè¯»å–Requestè¯·æ±‚çš„bodyéƒ¨åˆ†æ•°æ®ï¼Œä½¿ç”¨ç³»ç»Ÿé»˜è®¤é…ç½®çš„HttpMessageConverterè¿›è¡Œè§£æï¼Œç„¶åæŠŠç›¸åº”çš„æ•°æ®ç»‘å®šåˆ°è¦è¿”å›çš„å¯¹è±¡ä¸Šï¼› å†æŠŠHttpMessageConverterè¿”å›çš„å¯¹è±¡æ•°æ®ç»‘å®šåˆ° controllerä¸­æ–¹æ³•çš„å‚æ•°ä¸Šã€‚ SpringBootæä¾›çš„è·å–å‚æ•°æ³¨è§£åŒ…æ‹¬ï¼š@PathVariableï¼Œ@RequestParamï¼Œ@RequestBody,ä¸‰è€…çš„åŒºåˆ«å¦‚ä¸‹ æ¥æ”¶jsonæ•°æ®ä¸€å®šéœ€è¦ä½¿ç”¨@RequestBody @RequestParam: è¡¨ç¤ºä»è¯·æ±‚å‚æ•°ä¸­è·å–çš„, æ¯”å¦‚è¡¨å•å‚æ•°username @RequestVariable: è¡¨ç¤ºä»urlä¸­æå–çš„, æ¯”å¦‚&quot;/user/{id}&quot;, åˆ™å†™æˆ@RequestVariable(&quot;id&quot;) Integer id @Propertysource: å¯ä»¥æŒ‡å®šè¯»å–çš„é…ç½®æ–‡ä»¶ï¼Œè·Ÿ@Valueä¸€èµ·ä½¿ç”¨ @Valueï¼šæ³¨å…¥Spring boot application.propertiesé…ç½®çš„å±æ€§çš„å€¼ @Autowiredï¼šè‡ªåŠ¨å¯¼å…¥ä¾èµ–çš„bean, beanéƒ½æ˜¯ç‹¬ç«‹çš„, ä½†å®é™…å·¥ä½œä¸­ï¼Œå¾ˆå¤šå¯¹è±¡ä¼šä¾èµ–å…¶ä»–å¯¹è±¡å®Œæˆä»»åŠ¡ã€‚è¿™æ—¶å€™å°±éœ€è¦èƒ½å¤Ÿå°†ç»„ä»¶æ‰«æå¾—åˆ°çš„beanå’Œä»–ä»¬ä¾èµ–è£…é…åœ¨ä¸€èµ· annotationä¹‹@Autowiredã€@Injectã€@Resourceä¸‰è€…åŒºåˆ« @ImportResourceï¼šç”¨æ¥åŠ è½½xmlé…ç½®æ–‡ä»¶ã€‚ @Configurationå’Œ@Bean @Configuration å’Œ@Bean Springçš„Javaé…ç½®æ–¹å¼æ˜¯é€šè¿‡@Configurationå’Œ@Bean è¿™ä¸¤ä¸ªæ³¨è§£å®ç°çš„ï¼š 1ã€@Configurationä½œç”¨äºç±»ä¸Šï¼Œç›¸å½“äºä¸€ä¸ªxmlé…ç½®æ–‡ä»¶ï¼› 2ã€@Beanä½œç”¨äºæ–¹æ³•ä¸Šï¼Œç›¸å½“äºxmlé…ç½®ä¸­çš„&lt;bean&gt;ï¼›å¯åŠ¨è¿‡ç¨‹ä¸­ä¼šIOCå®¹å™¨æ‰¾åˆ°Beanæ³¨è§£åä¼šæ‰§è¡Œã€‚è¦è·å¾—@Beanæ ‡æ³¨çš„å¯¹è±¡æ—¶é€šè¿‡@Autowiredä»IOCå®¹å™¨ä¸­å¾—åˆ° SpringBootå·¥ä½œåŸç† è¯»å–spring.factoriesæ–‡ä»¶ SpringBootå¯åŠ¨æ—¶ä¼šè¯»å–spring-boot-autoconfigure-2.1.6.RELEASE.jaråŒ…ä¸‹çš„META-INF/spring.factoriesæ–‡ä»¶ã€‚è¯»å–org.springframework.boot.autoconfigure.EnableAutoConfigurationå±æ€§çš„å€¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»ã€‚ åŠ è½½XxxPropertiesç±» æ ¹æ®è‡ªåŠ¨é…ç½®ç±»ä¸­æŒ‡å®šçš„XxxPropertiesç±»è®¾ç½®è‡ªåŠ¨é…ç½®çš„å±æ€§å€¼ï¼Œå¼€å‘è€…ä¹Ÿå¯ä»¥æ ¹æ®XxxPropertiesç±»ä¸­æŒ‡å®šçš„å±æ€§åœ¨ymlé…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹è‡ªåŠ¨é…ç½®ã€‚ æ ¹æ®@ConditionalXxxæ³¨è§£å†³å®šåŠ è½½å“ªäº›ç»„ä»¶ SpringBooté€šè¿‡@ConditionalXxxæ³¨è§£æŒ‡å®šç‰¹å®šç»„ä»¶åŠ å…¥IOCå®¹å™¨æ—¶æ‰€éœ€è¦å…·å¤‡çš„ç‰¹å®šæ¡ä»¶ã€‚è¿™ä¸ªç»„ä»¶ä¼šåœ¨æ»¡è¶³æ¡ä»¶æ—¶åŠ å…¥IOCå®¹å™¨ã€‚ https://www.bilibili.com/video/BV1KE411K7PH?p=17 spring bootè‡ªåŠ¨é…ç½®åŸç† spring bootä¸­çš„@EnableAutoConfigurationæ³¨è§£çš„ä½œç”¨å°±æ˜¯å¼€å¯è‡ªåŠ¨é…ç½®ï¼Œæ­£æ˜¯å› ä¸ºå¼€å¯äº†è‡ªåŠ¨é…ç½®ï¼Œå¼€å‘è€…åœ¨ä½¿ç”¨spring bootçš„æ—¶å€™å°±ä¸ç”¨å†å¡«å†™ç¹ççš„çš„é…ç½®é¡¹äº†ï¼Œé‚£ä¹ˆspring bootæ˜¯å¦‚ä½•å®ç°è¿™ä¸ªè‡ªåŠ¨é…ç½®çš„å‘¢? spring bootä¼šæ ¹æ®å¼€å‘è€…æ·»åŠ çš„ä¾èµ–åˆ¤æ–­æ˜¯å¦ä½¿ç”¨äº†æŸä¸ªæŠ€æœ¯ï¼Œæ¯”å¦‚åœ¨ä¾èµ–ä¸­æœ‰DispatcherServletï¼Œé‚£å°±è¯´æ˜ä½¿ç”¨äº†spring mvcæŠ€æœ¯ã€‚ spring bootåˆ¤æ–­å‡ºå¼€å‘è€…æ‰€ä½¿ç”¨çš„æŠ€æœ¯ä¹‹åï¼ˆå¯¼å…¥ç›¸å…³ä¾èµ–ï¼‰ï¼Œä¼šä»è‡ªåŠ¨é…ç½®ï¼ˆAutoConfigureï¼‰ç›¸å…³çš„åŒ…ä¸‹æ‰¾åˆ°è¯¥æŠ€æœ¯ç›¸å…³çš„é…ç½®ç±»ã€‚ spring bootä¼šåŠ è½½è¿™äº›é…ç½®ç±»ï¼Œå¦‚æœé…ç½®æ–‡ä»¶æœ‰å†™ç›¸å…³çš„é…ç½®ä¿¡æ¯çš„è¯ä¼šå°†è¯¥ä¿¡æ¯è¯»å–åˆ°é…ç½®ç±»çš„å¯¹è±¡ä¸­ï¼Œç„¶ååŠ è½½åˆ°springå®¹å™¨ä¸­ï¼Œè¿™æ ·å°±å®Œæˆäº†è‡ªåŠ¨é…ç½®äº†ã€‚ åœ¨spring bootä¸­è‡ªåŠ¨é…ç½®ç±»å’Œé…ç½®ç±»å‘½åéƒ½æ˜¯ç¬¦åˆä¸‹é¢æ ¼å¼çš„: è‡ªåŠ¨é…ç½®ç±»â€”â€”*AutoConfiguration; é…ç½®ç±»â€”â€”*Properties â–²å¦‚æœä¸éœ€è¦è‡ªåŠ¨é…ç½®ï¼Œå¯ä»¥@SpringBootApplication(exclude={RedisAutoConfiguration.class}) Springbootå¯åŠ¨ç±» å‚è€ƒ: https://www.bilibili.com/video/BV1sc411h7pN?p=8 é…ç½®æ–‡ä»¶ å­˜æ”¾ä½ç½® å½“å‰é¡¹ç›®æ ¹ç›®å½•ï¼ˆå·¥ç¨‹æ ¹ç›®å½•ï¼‰ä¸­ å½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ª/configå­ç›®å½•ä¸­ é¡¹ç›®çš„resourceså³classpathæ ¹è·¯å¾„ä¸­ é¡¹ç›®çš„resourceså³classpathæ ¹è·¯å¾„ä¸‹çš„/configç›®å½•ä¸­ æ³¨ï¼š Q:ä¸ºä»€ä¹ˆé¡¹ç›®çš„resourcesæ˜¯classpathæ ¹è·¯å¾„ï¼ŸA: å› ä¸ºç¼–è¯‘ä¹‹åé…ç½®æ–‡ä»¶ä¼šè¢«æ”¾åœ¨target/classesç›®å½•ä¸‹ ä½¿ç”¨classpath*:è¿™ç§å‰ç¼€ï¼Œåˆ™å¯ä»¥ä»£è¡¨å¤šä¸ªåŒ¹é…çš„æ–‡ä»¶ï¼›**/mapper/mapping/*Mapper.xmlï¼ŒåŒæ˜Ÿå·**è¡¨ç¤ºåœ¨ä»»æ„ç›®å½•ä¸‹ï¼Œæ›´å¤šè¯¦æƒ…è§ï¼šjavaé¡¹ç›®ä¸­çš„classpathåˆ°åº•æ˜¯ä»€ä¹ˆ é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº ä¸åŒæ ¼å¼çš„åŠ è½½é¡ºåº: å¦‚æœåŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œæœ‰application.ymlä¹Ÿæœ‰application.propertiesï¼Œé»˜è®¤å…ˆè¯»å–application.propertiesã€‚ å¦‚æœåŒä¸€ä¸ªé…ç½®å±æ€§ï¼Œåœ¨å¤šä¸ªé…ç½®æ–‡ä»¶éƒ½é…ç½®äº†ï¼Œé»˜è®¤ä½¿ç”¨ç¬¬1ä¸ªè¯»å–åˆ°çš„ï¼Œåé¢è¯»å–çš„ä¸è¦†ç›–å‰é¢è¯»å–åˆ°çš„ã€‚ 12345&lt;includes&gt; &lt;include&gt;**/application*.yml&lt;/include&gt; &lt;include&gt;**/application*.yaml&lt;/include&gt; &lt;include&gt;**/application*.properties&lt;/include&gt;&lt;/includes&gt; ä¸åŒä½ç½®çš„åŠ è½½é¡ºåº: å½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ª/configå­ç›®å½•ä¸­(1æœ€é«˜) å½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼ˆ2å…¶æ¬¡ï¼‰ é¡¹ç›®çš„resourceså³classpathæ ¹è·¯å¾„ä¸‹çš„/configç›®å½•ä¸­(3ä¸€èˆ¬) é¡¹ç›®çš„resourceså³classpathæ ¹è·¯å¾„ä¸­(4æœ€å) é€šè¿‡profileæŒ‡å®šåŠ è½½appé…ç½®æ–‡ä»¶ å¯¹äºåº”ç”¨ç¨‹åºè€Œè¨€ï¼Œ ä¸åŒçš„ç¯å¢ƒéœ€è¦ä¸åŒçš„é…ç½®ã€‚springbootæ¡†æ¶æä¾›äº†å¤šprofileç®¡ç†åŠŸèƒ½ï¼Œä»è€Œæ¥åŒºåˆ†ä¸åŒç¯å¢ƒçš„é…ç½®ã€‚ è§„å®šè¯­æ³•è§„åˆ™ï¼š application-{profile}.properties(.yml, .yaml) æ¿€æ´»åˆ¶å®šprofileï¼š java-jar configuration_file-0.0.1-SNAPSHOT.jar--spring.profiles.active=dev;ã€java-jar configuration_file-e.e.1-SNAPSHOT.jar--spring.config.location=D:\\config/ å¤–éƒ¨é…ç½®æ–‡ä»¶ ä½¿ç”¨@PropertySourceæ¥åŠ è½½å…¶ä»–é…ç½®æ–‡ä»¶ï¼ˆåŠŸèƒ½ç‰¹æ®Šåˆ—å‡ºorå…¶ä»–ç›®å½•ä¸‹ï¼‰ 123@Component@PropertySource(\"classpath:mqtt.properties\") // ä¸€èˆ¬ä¼šè®¾ç½®æˆComponentpublic class IotMqttClient &#123; @PropertySource ä¸­çš„å±æ€§è§£é‡Š valueï¼šæŒ‡æ˜åŠ è½½é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚ ignoreResourceNotFoundï¼šæŒ‡å®šçš„é…ç½®æ–‡ä»¶ä¸å­˜åœ¨æ˜¯å¦æŠ¥é”™ï¼Œé»˜è®¤æ˜¯falseã€‚å½“è®¾ç½®ä¸º true æ—¶ï¼Œè‹¥è¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç¨‹åºä¸ä¼šæŠ¥é”™ã€‚å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæœ€å¥½è®¾ç½® ignoreResourceNotFound ä¸º falseã€‚ encodingï¼šæŒ‡å®šè¯»å–å±æ€§æ–‡ä»¶æ‰€ä½¿ç”¨çš„ç¼–ç ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯UTF-8ã€‚ å±æ€§æ³¨å…¥ é€šè¿‡@Value + SPELè¡¨è¾¾å¼ ç›´æ¥ç»‘å®šspringbooté…ç½®æ–‡ä»¶ä¸­çš„å€¼ åœ¨æ³¨å…¥ç±»å‰åŠ ä¸Š@ConfiguartionProperties(prefix=&quot;user&quot;)æ³¨è§£åä¼šä»application.properties(.yml)ä¸­è¯»å–æŒ‡å®šå‰ç¼€çš„é…ç½®ï¼Œï¼ˆå¦‚æœç»“åˆ`@PropertySource(&quot;classpath:address-book.properties&quot;åˆ™å¯ä»¥æŒ‡å®špropertiesé—®é¢˜ï¼‰ï¼Œä»è€ŒèŠ‚çœäº†åœ¨æ¯ä¸ªæˆå‘˜å­—æ®µå‰åŠ @value æ³¨ï¼š@ConfiguartionPropertieså’Œ@Valueä¸¤è€…ä¼šæœ‰å†²çªä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œå‡ºç°æ—¶ä»¥å•ä¸ªçš„@Valueä¸ºä¸»ï¼ˆæ­¤æ—¶ConfiguartionPropertiesè®¾ç½®çš„prefixå¯¹äºè¿™ä¸ªå­—æ®µå°±æ˜¯å¤±æ•ˆçš„ï¼Œæ‰€ä»¥@Value=&quot;{xxx}&quot;ï¼Œxxxè¦å†™å…¨å³è·Ÿé…ç½®æ–‡ä»¶ä¸­å®Œå…¨ä¸€è‡´ï¼‰ å˜é‡å‘½åè·Ÿé…ç½®æ–‡ä»¶ä¼šè¿›è¡ŒåŒ¹é…ï¼Œ è§„åˆ™å¦‚ä¸‹ ä¸åŒºåˆ†å¤§å°å†™ æ¾æ•£ç»‘å®šï¼š var_nameå’Œvar-nameå’ŒvarNameè§†ä¸ºä¸€ç§ï¼ˆ@valueä¸æ”¯æŒï¼Œ@ConfiguartionPropertiesæ”¯æŒï¼‰ å¦‚æœæ—¶å¤æ‚å±æ€§ï¼šListã€set åœ¨application.propertiesä¸­ä»¥æ•°ç»„å½¢å¼ä¹¦å†™ åœ¨application.ymlæœ¬èº«æ”¯æŒlistï¼ŒæŒ‰ymlä¹¦å†™å³å¯ å­—ç¬¦ä¸²ï¼Œjavaä»£ç ä¸­å†™å·¥å…·ç±»è§£ææˆæ•°ç»„ è‡ªåŠ¨é…ç½® @SpringBootConfiguration:Spring Bootçš„é…ç½®ç±»ï¼›æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpring Bootçš„é…ç½®ç±»ï¼› @Conigurationï¼šé…ç½®ç±»ä¸Šæ¥æ ‡æ³¨è¿™ä¸ªæ³¨è§£ï¼›é…ç½®ç±»â€”â€”é…ç½®æ–‡ä»¶ï¼›é…ç½®ç±»ä¹Ÿæ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼›Component @EnableAutoConfigurationï¼šå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›ä»¥å‰æˆ‘ä»¬éœ€è¦é…ç½®çš„ä¸œè¥¿ï¼ŒSpring Bootå¸®æˆ‘ä»¬è‡ªåŠ¨é…ç½®ï¼›@EnableAutoConigurationå‘Šè¯‰SpringBootå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›è¿™æ ·è‡ªåŠ¨é…ç½®æ‰èƒ½ç”Ÿæ•ˆï¼›. SpringBoot2.xæ•´åˆredis æˆ‘æ˜¯å…ˆå°è¯•çš„thymeleaf,å¼„äº†æˆ‘ä¸€ä¸‹åˆ;æ¥ç€æ˜¯mybatisä¹Ÿå¼„äº†å¾ˆä¹…;æœ€åæ‰æ˜¯redis, è™½ç„¶æ˜¯å› ä¸ºè§£å†³äº†IDEAçš„Mavené—®é¢˜, ä½†ç¡®å®ä¹Ÿæ˜¯redisè¿æ¥æœ€ç®€å• 1.[å®˜ç½‘ä¸‹è½½Redis](https://redis.io/downloadï¼Œ å› ä¸ºwindowsæ”¯æŒçš„ä¸å¥½ï¼Œ å› æ­¤è¿˜æ˜¯ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ 1234567$ wget http://download.redis.io/releases/redis-6.0.4.tar.gz$ tar xzf redis-6.0.4.tar.gz$ cd redis-6.0.4$ make$ cd src$ ./redis-server # å¯åŠ¨serveræœåŠ¡$ ./redis-cli # ä½¿ç”¨redis, ç±»ä¼¼shell å¤–ç½‘è¿æ¥è®¾ç½® sudo vim /home/mrli/redis-6.0.4/redis.conf å°†bind 127.0.0.1æ³¨é‡Šæ‰ï¼ˆå«ä¹‰ä¸ºç»‘å®šå¯è®¿é—®IPï¼Œ ä¹Ÿå°±æ˜¯è¯´åªèƒ½é€šè¿‡127.0.0.1è®¿é—®ï¼‰ å°†protected-mode yesè®¾ç½®ä¸ºprotected-mode no è§£é‡Š: é»˜è®¤æƒ…å†µbind=127.0.0.1åªèƒ½æ¥å—æœ¬æœºçš„è®¿é—®è¯·æ±‚ ä¸å†™çš„æƒ…å†µä¸‹ï¼Œæ— é™åˆ¶æ¥å—ä»»ä½•ipåœ°å€çš„è®¿é—® å¦‚æœå¼€å¯äº†protected-modeï¼Œé‚£ä¹ˆåœ¨æ²¡æœ‰è®¾å®šbind ipä¸”æ²¡æœ‰è®¾å¯†ç çš„æƒ…å†µä¸‹ï¼ŒRedisåªå…è®¸æ¥å—æœ¬æœºçš„ç›¸åº” fromBç«™è§†é¢‘: https://www.bilibili.com/video/BV1J4411x7U1?p=45 3.ä½¿ç”¨Springbootæ•´åˆ è®¾ç½®ä¾èµ– ymlé…ç½®IP ç¼–å†™è¿æ¥Test Springbootæ•´åˆä»£ç [ä»£ç é‡å·¥]: http://39.108.113.88/content/country-spring-boot/detail/spring-boot-08 SpringBoot2.xæ•´åˆThymeleaf é—®é¢˜: æˆ‘é»˜è®¤ä»åˆ›å»ºå·¥ç¨‹çš„SpringBootç‰ˆæœ¬æ˜¯2.3.0ï¼Œ ç„¶åç›´æ¥å¯¼å…¥mavenä¾èµ–ï¼Œ åœ¨IDEAä¸­æ˜¯æ˜¾ç¤ºçº¢è‰²ï¼Œæ— æ³•ä½¿ç”¨çš„ã€‚==&gt;æŒ‰ç…§thymeleafå®˜æ–¹æä¾›çš„2.3.0çš„å¯¼å…¥æ–¹æ³•ä»ç„¶æ— æ•ˆ Aï¼š é™ä½Springbootç‰ˆæœ¬ä¸º2.1.14, é—®é¢˜è§£å†³ é—®é¢˜ç½—åˆ— æµè§ˆå™¨æ˜¾ç¤º: -&gt;æ²¡æœ‰é…ç½®è·¯ç”± 123456Whitelabel Error PageThis application has no explicit mapping for /error, so you are seeing this as a fallback.Fri May 29 15:30:09 CST 2020There was an unexpected error (type=Not Found, status=404).No message available æµè§ˆå™¨æ˜¾ç¤º: -&gt;æ‰¾ä¸åˆ°æ¨¡æ¿ controllerä¸­è¿”å›çš„æ¨¡æ¿åä¸htmlæ–‡ä»¶åä¸ä¸€è‡´ ymlé…ç½®ä¸­prefix: classpath:/templates/è®¾ç½®é”™è¯¯ï¼Œç¼ºå°‘æœ«å°¾çš„/ 123456Whitelabel Error PageThis application has no explicit mapping for /error, so you are seeing this as a fallback.Fri May 29 15:30:49 CST 2020There was an unexpected error (type=Internal Server Error, status=500).Error resolving template [hello], template might not exist or might not be accessible by any of the configured Template Resolvers æˆåŠŸæ¡ˆä¾‹ ymlé…ç½®æ–‡ä»¶å†…å®¹ 123456789spring: thymeleaf: # é…ç½®æ¨¡æ¿è·¯å¾„ï¼Œé»˜è®¤æ˜¯templatesï¼Œå¯ä»¥ä¸ç”¨é…ç½® prefix: classpath:/templates/ # è¦æ³¨æ„/çš„æ•°é‡ä¸ä½ç½® suffix: .html # ç¼–ç  å¯ä¸ç”¨é…ç½® encoding: UTF-8 # å¼€å‘é…ç½®ä¸ºfalse,é¿å…ä¿®æ”¹æ¨¡æ¿è¿˜è¦é‡å¯æœåŠ¡å™¨ cache: false controllerå†…å®¹ 123456789@Controllerpublic class ThymeLeafGo &#123; @RequestMapping(\"/test/thymeleaf\") public String testThymeleaf() &#123; System.out.println(\"yes\"); return \"hello\"; &#125;&#125; hello.htmlå†…å®¹ 1234567891011&lt;!DOCTYPE html&gt;&lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p th:text=\"ç»è¿‡æœåŠ¡å™¨å¤„ç†åå¯ä»¥çœ‹åˆ°çš„å†…å®¹\"&gt;ç›´æ¥æ‰“å¼€HMTLæŸ¥çœ‹åˆ°çš„å†…å®¹&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; æ–‡æ¡£æ•™ç¨‹: SpringBootæ•´åˆThymeleaf-åŸºäºSpringBoot2.Xç‰ˆæœ¬ Thymeleafè¯­æ³•: th:textï¼šæ–‡æœ¬æ›¿æ¢ï¼› th:valueï¼šå±æ€§èµ‹å€¼ th:eachï¼šéå†å¾ªç¯å…ƒç´  th:ifï¼šåˆ¤æ–­æ¡ä»¶ï¼Œç±»ä¼¼çš„è¿˜æœ‰th:unlessï¼Œth:switchï¼Œth:case ${...} å˜é‡è¡¨è¾¾å¼ï¼ŒVariable Expressions @{...} é“¾æ¥è¡¨è¾¾å¼ï¼ŒLink URL Expressions #{...} æ¶ˆæ¯è¡¨è¾¾å¼ï¼ŒMessage Expressions ~{...} ä»£ç å—è¡¨è¾¾å¼ï¼ŒFragment Expressions *{...} é€‰æ‹©å˜é‡è¡¨è¾¾å¼ï¼ŒSelection Variable Expressions å¸¸ç”¨çš„å†…ç½®å¯¹è±¡(ç”¨${#xxx}æå–) ctx ï¼šä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ vars ï¼šä¸Šä¸‹æ–‡å˜é‡ã€‚ localeï¼šä¸Šä¸‹æ–‡çš„è¯­è¨€ç¯å¢ƒã€‚ requestï¼šï¼ˆä»…åœ¨webä¸Šä¸‹æ–‡ï¼‰çš„ HttpServletRequest å¯¹è±¡ã€‚ responseï¼šï¼ˆä»…åœ¨webä¸Šä¸‹æ–‡ï¼‰çš„ HttpServletResponse å¯¹è±¡ã€‚ sessionï¼šï¼ˆä»…åœ¨webä¸Šä¸‹æ–‡ï¼‰çš„ HttpSession å¯¹è±¡ã€‚ servletContextï¼šï¼ˆä»…åœ¨webä¸Šä¸‹æ–‡ï¼‰çš„ ServletContext å¯¹è±¡ å¸¸ç”¨çš„å†…ç½®æ–¹æ³•(ç”¨${#xxx}æå–) stringsï¼šå­—ç¬¦ä¸²æ ¼å¼åŒ–æ–¹æ³•ï¼Œå¸¸ç”¨çš„Javaæ–¹æ³•å®ƒéƒ½æœ‰ã€‚æ¯”å¦‚ï¼šequalsï¼ŒequalsIgnoreCaseï¼Œlengthï¼Œtrimï¼ŒtoUpperCaseï¼ŒtoLowerCaseï¼ŒindexOfï¼Œsubstringï¼Œreplaceï¼ŒstartsWithï¼ŒendsWithï¼Œcontainsï¼ŒcontainsIgnoreCaseç­‰ numbersï¼šæ•°å€¼æ ¼å¼åŒ–æ–¹æ³•ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼šformatDecimalç­‰ boolsï¼šå¸ƒå°”æ–¹æ³•ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼šisTrueï¼ŒisFalseç­‰ arraysï¼šæ•°ç»„æ–¹æ³•ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼štoArrayï¼Œlengthï¼ŒisEmptyï¼Œcontainsï¼ŒcontainsAllç­‰ listsï¼Œsetsï¼šé›†åˆæ–¹æ³•ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼štoListï¼Œsizeï¼ŒisEmptyï¼Œcontainsï¼ŒcontainsAllï¼Œsortç­‰ mapsï¼šå¯¹è±¡æ–¹æ³•ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼šsizeï¼ŒisEmptyï¼ŒcontainsKeyï¼ŒcontainsValueç­‰ datesï¼šæ—¥æœŸæ–¹æ³•ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼šformatï¼Œyearï¼Œmonthï¼Œhourï¼ŒcreateNowç­‰ SpringBoot2.xæ•´åˆMybatis æœ€å¤§çš„é—®é¢˜è¿˜æ˜¯ä¾èµ–é—®é¢˜ï¼Œ åœ¨pom.xmlå†™å…¥äº†ä½†æ˜¯æ²¡ç”Ÿæ•ˆã€‚é‡å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œ æ›´æ¢äº†IDEAçš„Mavenåé—®é¢˜è§£å†³ å…ˆæ”¾ä¸ªæˆåŠŸçš„ç»“æœ 12345678910111213141516171819202122232425 . ____ _ __ _ _ /\\\\ / ___&apos;_ __ _ _(_)_ __ __ _ \\ \\ \\ \\( ( )\\___ | &apos;_ | &apos;_| | &apos;_ \\/ _` | \\ \\ \\ \\ \\\\/ ___)| |_)| | | | | || (_| | ) ) ) ) &apos; |____| .__|_| |_|_| |_\\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot :: (v2.1.14.RELEASE)2020-05-29 20:21:38.066 INFO 9096 --- [ main] c.e.demo.test.DemoApplicationTests : Starting DemoApplicationTests on Mrli-computer with PID 9096 (started by Mr.li in G:\\SpringBootProject\\batis)2020-05-29 20:21:38.066 DEBUG 9096 --- [ main] c.e.demo.test.DemoApplicationTests : Running with Spring Boot v2.1.14.RELEASE, Spring v5.1.15.RELEASE2020-05-29 20:21:38.067 INFO 9096 --- [ main] c.e.demo.test.DemoApplicationTests : No active profile set, falling back to default profiles: default2020-05-29 20:21:40.807 INFO 9096 --- [ main] o.s.s.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService &apos;applicationTaskExecutor&apos;2020-05-29 20:21:41.700 INFO 9096 --- [ main] c.e.demo.test.DemoApplicationTests : Started DemoApplicationTests in 4.224 seconds (JVM running for 5.81)2020-05-29 20:21:42.163 ERROR 9096 --- [ main] com.alibaba.druid.pool.DruidDataSource : testWhileIdle is true, validationQuery not set2020-05-29 20:21:42.179 INFO 9096 --- [ main] com.alibaba.druid.pool.DruidDataSource : &#123;dataSource-1&#125; inited2020-05-29 20:21:42.451 DEBUG 9096 --- [ main] c.e.demo.mapper.EmpMapper.selectAll : ==&gt; Preparing: select emp_id empId, emp_name empName, emp_age empAge from emp 2020-05-29 20:21:42.490 DEBUG 9096 --- [ main] c.e.demo.mapper.EmpMapper.selectAll : ==&gt; Parameters: 2020-05-29 20:21:42.530 DEBUG 9096 --- [ main] c.e.demo.mapper.EmpMapper.selectAll : &lt;== Total: 22020-05-29 20:21:42.533 DEBUG 9096 --- [ main] c.e.demo.test.DemoApplicationTests : Emp&#123;empId=12, empName=&apos;cl&apos;, empAge=18&#125;2020-05-29 20:21:42.533 DEBUG 9096 --- [ main] c.e.demo.test.DemoApplicationTests : Emp&#123;empId=14, empName=&apos;qsy&apos;, empAge=19&#125;2020-05-29 20:21:42.560 INFO 9096 --- [ Thread-1] com.alibaba.druid.pool.DruidDataSource : &#123;dataSource-1&#125; closed2020-05-29 20:21:42.562 INFO 9096 --- [ Thread-1] o.s.s.concurrent.ThreadPoolTaskExecutor : Shutting down ExecutorService &apos;applicationTaskExecutor&apos; é¡¹ç›®ç›®å½•æ ‘ pom.xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.14.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.1.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.0.5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt; &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt; &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt; &lt;version&gt;RELEASE&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; src-main-resources-application.yml 12345678910111213141516171819202122232425262728293031323334server: port: 8888spring: thymeleaf: suffix: .html #æ¨¡æ¿çš„æ¨¡å¼ï¼Œæ”¯æŒ HTML, XML TEXT JAVASCRIPT # mode: HTML5 #ç¼–ç  å¯ä¸ç”¨é…ç½® encoding: UTF-8 #å¼€å‘é…ç½®ä¸ºfalse,é¿å…ä¿®æ”¹æ¨¡æ¿è¿˜è¦é‡å¯æœåŠ¡å™¨ cache: false #é…ç½®æ¨¡æ¿è·¯å¾„ï¼Œé»˜è®¤æ˜¯templatesï¼Œå¯ä»¥ä¸ç”¨é…ç½® prefix: classpath:/templates/ datasource: name: mydb type: com.alibaba.druid.pool.DruidDataSource url: jdbc:mysql://127.0.0.1:3306/smybatis?serverTimezone=UTC username: root password: * driver-class-name: com.mysql.cj.jdbc.Drivermybatis: mapper-locations: classpath*:/mybatis/mapper/*Mapper.xmllogging: level: com: example: demo: mapper: debug test: debug src-main-resources-EmpMapper.yml 123456789&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;&lt;mapper namespace=\"com.example.demo.mapper.EmpMapper\"&gt; &lt;select id=\"selectAll\" resultType=\"com.example.demo.entity.Emp\"&gt; select emp_id empId, emp_name empName, emp_age empAge from emp &lt;/select&gt;&lt;/mapper&gt; æ³¨ï¼š ç”±äºåœ¨Mybatisçš„mapper.xmlæ–‡ä»¶ä¸­ï¼Œå¦‚æœresultTypeçš„typeæˆ–è€…paramterTypeä¼šè¿”å›è‡ªå®šä¹‰entityçš„è¯ï¼Œé‚£ä¹ˆéœ€è¦ç”¨å…¨ç±»ååæ¥æŒ‡å®šè¿™äº›å®ä½“ã€‚è€Œä¸€ç§å¥½çš„ä¾¿æ·æ–¹æ³•æ˜¯ï¼Œapplication.ymlä¸­å¯ä»¥æ·»åŠ mybatis-type-aliases-package: com.example.demo.mapperï¼Œå…¶å¯ä»¥ä½¿ç”¨type-aliases-packageä¸­æŒ‡å®šentityæ‰«æåŒ…ç±»ä»è€Œè®©mybatisè‡ªå·±æ‰«æåˆ°è‡ªå®šä¹‰çš„entityï¼Œç›´æ¥å†™éé™å®šåï¼ˆçŸ­åï¼‰å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 12345&lt;mapper namespace=\"com.itheima.dao.ItemsDao\"&gt; &lt;select id=\"findById\" parameterType=\"int\" resultType=\"items\"&gt; select * from items where id = #&#123;id&#125; &lt;/select&gt;&lt;/mapper&gt; src-main-java-DemoApplication.java 123456789101112package com.example.demo;import org.mybatis.spring.annotation.MapperScan;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@MapperScan(\"com.example.demo.mapper\") //åœ¨ä¸Šé¢çš„daoæ¥å£ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†@mapperæ³¨è§£ï¼Œè¿™æ ·spring bootå°±å¯ä»¥æ‰«æåˆ°è¯¥æ¥å£ä»è€Œä½¿ç”¨// mybatisåŠ¨æ€ä»£ç†äº†ã€‚é™¤äº†è¿™ç§æ–¹å¼ä¹‹å¤–ï¼Œå¯ä»¥åœ¨spring bootçš„å¯åŠ¨ç±»ä¸Šæ·»åŠ @MapperScanæ³¨è§£ï¼Œè¿™æ ·å°±æ— éœ€å†daoæ¥å£ä¸Šæ·»åŠ @mapperæ³¨è§£äº†ã€‚@SpringBootApplicationpublic class DemoApplication &#123; public static void main(String[] args) &#123;SpringApplication.run(DemoApplication.class, args);&#125;&#125; src-main-java-com.example.demo.mapper 123456789101112131415161718package com.example.demo.mapper;import com.example.demo.entity.Emp;import java.util.List;/** * @Program: demo * @Description: * @Author: MrLi * @Create: 2020-05-29 19:51 **/public interface EmpMapper &#123; List&lt;Emp&gt; selectAll();&#125; src-main-java-com.example.demo.entity 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package com.example.demo.entity;/** * @Program: demo * @Description: * @Author: MrLi * @Create: 2020-05-29 19:50 **/public class Emp &#123; private Integer empId; private String empName; private Integer empAge; public Emp(Integer empId, String empName, Integer empAge) &#123; this.empId = empId; this.empName = empName; this.empAge = empAge; &#125; public Emp() &#123; &#125; public Integer getEmpId() &#123; return empId; &#125; public void setEmpId(Integer empId) &#123; this.empId = empId; &#125; public String getEmpName() &#123; return empName; &#125; public void setEmpName(String empName) &#123; this.empName = empName; &#125; public Integer getEmpAge() &#123; return empAge; &#125; public void setEmpAge(Integer empAge) &#123; this.empAge = empAge; &#125; @Override public String toString() &#123; return \"Emp&#123;\" + \"empId=\" + empId + \", empName='\" + empName + '\\'' + \", empAge=\" + empAge + '&#125;'; &#125;&#125; com.example.demo.test 1234567891011121314151617181920212223242526272829303132package com.example.demo.test;import com.example.demo.entity.Emp;import com.example.demo.mapper.EmpMapper;import org.junit.jupiter.api.Test;import org.junit.runner.RunWith;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;import java.util.List;@RunWith(SpringRunner.class)@SpringBootTestclass DemoApplicationTests &#123; @Autowired private EmpMapper empMapper; // IDEAä¸Šæœ‰æ³¢æµªçº¿, æç¤ºCould not autowire. No beans of 'EmpMapper' type found. ä½†å¯è¿è¡Œ private Logger logger = LoggerFactory.getLogger(DemoApplicationTests.class); @Test public void testSelectAll() &#123; List&lt;Emp&gt; emps = empMapper.selectAll(); for (Emp emp : emps) &#123;// System.out.println(emp); logger.debug(emp.toString()); &#125; &#125;&#125; è§†é¢‘æä¾›çš„ä»£ç é…ç½®é“¾æ¥: http://39.108.113.88/content/country-spring-boot/detail/spring-boot-07 ä¸Šè¿°å‡ ä¸ªæ•´åˆæ•™ç¨‹æ¥è‡ªBç«™: https://www.bilibili.com/video/BV1KE411K7PH/?p=20&amp;t=790 [SpringBoot2.xæ•´åˆSpringDataJPA æ–‡æ¡£é“¾æ¥: https://www.cnblogs.com/wadmwz/p/10313495.html â˜…Bç«™è§†é¢‘é“¾æ¥:https://www.bilibili.com/video/BV1v4411G72q?p=8 åŒ…æ‹¬ä¹‹å‰å‡ ä¸ªå†…å®¹çš„æ•´åˆéƒ½å¯ä»¥è§‚çœ‹è¿™ä¸ªè§†é¢‘, è¿™ä¸ªè´¨é‡é«˜ä¸€ç‚¹ ä»£ç ç»„æˆ: 12345678910111213141516171819202122// PersonController.java@RestControllerpublic class PersonController &#123; @Autowired PersonRepository personRepository; @GetMapping(\"/findall\") public List&lt;Person&gt; findAll() &#123; List&lt;Person&gt; personRepositoryAll = personRepository.findAll(); return personRepositoryAll; &#125; @GetMapping(\"/findById/&#123;id&#125;\") public Person findById(@PathVariable(\"id\") Integer id) &#123; return personRepository.findById(id).get(); &#125; @PostMapping(\"/save\") public Person save(@RequestBody Person person)&#123; return personRepository.save(person); &#125;&#125; 123456789101112// Person.java@Data@Entity // â–²è®°å¾—åŠ public class Person &#123; @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Integer id; @Column private String username; @Column private String password;&#125; 12345678910111213// PersonRepository.java//CREATE DATABASE if not exists person;// use person;// CREATE table if not EXISTS person (// id int(11) auto_increment,// username varchar(24) ,// `password` varchar(24),// PRIMARY key(id)// );// TODO: éœ€è¦å°†åº“å’Œè¡¨ç”Ÿæˆå¥½, å¦‚æœéœ€è¦è‡ªåŠ¨å»ºåº“å»ºè¡¨, æŒ‰ç…§æ–‡æ¡£è¯´æ˜çš„å¢åŠ jpaçš„propertiesé…ç½®public interface PersonRepository extends JpaRepository&lt;Person, Integer&gt; &#123;&#125; 123456789101112# application.yml datasource: name: mydb url: jdbc:mysql://127.0.0.1:3306/person?serverTimezone=UTC username: root password: cl123123 driver-class-name: com.mysql.cj.jdbc.Driver jpa: show-sql: true properties: hibernate: format_sql: true 2021-8-2 è‡ªå®šä¹‰MVCé…ç½®ï¼š å®ç°WebMvcConfigureræ¥å£å¯ä»¥æ‰©å±•MVCçš„åŠŸèƒ½å®ç°ï¼Œåˆæ—¢ä¿ç•™SpringBootçš„è‡ªåŠ¨é…ç½®ï¼ˆåŸå› æ˜¯ï¼šåœ¨WebMvcAutoConfiguration ä¹Ÿæœ‰ä¸€ä¸ªå®ç°äº†WebMvcConfigurerçš„é…ç½®ç±»ï¼‰ 1234567891011121314151617@Configurationpublic class DafMVCConfiguartion implements WebMvcConfigurer&#123; @Bean public WebMvcConfigurer corsConfigurer()&#123; return new WebMvcConfigurer() &#123; @Override public void addCorsMappings(CorsRegistry registry) &#123; registry.addMapping(\"api/**\"); &#125; &#125;; &#125; @Override public void addInterceptors(InterceptorRegistry registry) &#123; &#125;&#125; ä¸ºä»€ä¹ˆé€šè¿‡å®ç°WebMvcConfigurerèƒ½è¿›è¡Œé…ç½®çš„åŸç†ï¼š å¦‚æœæ²¡æœ‰ï¼Œç”±äºWebMvcAutoConfiguration ä¹Ÿæœ‰ä¸€ä¸ªå†…éƒ¨ç±»WebMvcAutoConfigurationAdapter å®ç°äº†WebMvcConfigurerçš„é…ç½®ç±»ï¼Œå› æ­¤å¯ä»¥å¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨çš„é…ç½® WebMvcAutoConfigurationAdapter å®ƒä¹Ÿæ˜¯åˆ©ç”¨è¿™ç§æ–¹å¼å®ç°WebMvcConfigurerå»è¿›è¡Œæ‰©å±•çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹è¿™ä¸ªç±»æˆ‘ä»¬å‘ç°å®ƒå¸®æˆ‘ä»¬å®ç°äº†å…¶ä»–ä¸å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¸®åŠ©æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®ï¼Œæˆ‘ä»¬åªéœ€å®šåˆ¶ï¼ˆæ‹¦æˆªå™¨ã€è§†å›¾æ§åˆ¶å™¨CORSåœ¨å¼€å‘ä¸­éœ€è¦é¢å¤–å®šåˆ¶çš„å®šåˆ¶çš„åŠŸèƒ½ï¼‰ æ³¨ï¼š ä¸€ä¸ªæ–¹æ³•ä¸Šæ·»åŠ äº†autowiredæ³¨è§£åï¼Œå®ƒçš„å‚æ•°å°†ä»å®¹å™¨ä¸­è‡ªåŠ¨æ³¨å…¥è¿›æ¥ã€‚ ä¸ºä»€ä¹ˆå®ç°WebMvcConfigureråèƒ½workï¼Ÿ A:åŸå› æ˜¯â‘ MVCåº”ç”¨ä¼šè‡ªåŠ¨å¼€å¯WebMvcAutoConfiguration ï¼Œå› æ­¤ä¼šåŠ è½½WebMvcAutoConfigurationAdapter ï¼Œâ‘¡è€ŒWebMvcAutoConfigurationAdapter ä¸Šæœ‰ç€@EnableWebMvcConfigurationæ³¨è§£@Import({WebMvcAutoConfiguration.EnableWebMvcConfiguration.class}. â‘¢EnableWebMvcConfigurationè¿™ä¸ªç±»ç»§æ‰¿äº†DelegatingWebMvcConfigurationç±»ï¼ˆå®ƒä¼šåŠ è½½é…ç½®ï¼‰ï¼Œâ‘£è€Œåœ¨DelegatingWebMvcConfigurationä¸­çš„setConfigurers(List&lt;WebMvcConfigurer&gt; configurers)æ–¹æ³•ä¸Šæ˜¯æœ‰@Autowiredæ³¨è§£ï¼Œâ‘¤å› æ­¤ä¼šå°†æ‰€æœ‰å®ç°äº†WebMvcConfigurerçš„Beanç»™æ³¨å…¥åˆ°è¿™ä¸ªListå‚æ•°ä¸­ï¼Œå¹¶ä¸”å…¨éƒ¨è¿›è¡Œè®¾ç½®this.configurers.addWebMvcConfigurers(configurers);å³è®¾ç½®åˆ°å§”æ´¾ç±»WebMvcConfigurerCompositeçš„delegatesä¸­å»ã€‚ 1234567891011public class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport &#123; private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite(); public DelegatingWebMvcConfiguration() &#123; &#125; @Autowired(required = false) public void setConfigurers(List&lt;WebMvcConfigurer&gt; configurers) &#123; if (!CollectionUtils.isEmpty(configurers)) &#123; this.configurers.addWebMvcConfigurers(configurers); &#125; &#125; â‘¥è€Œæ¯æ¬¡è°ƒç”¨WebMvcConfigurerCompositeçš„addXxxxåŠŸèƒ½æ—¶éƒ½ä¼šå°†è¢«å§”æ´¾çš„ç±»çš„æ–¹æ³•ï¼Œä»è€Œè°ƒç”¨äº†MyMVCConfiguartionæˆ‘ä»¬è‡ªå®šä¹‰çš„MVCé…ç½®ç±»ä¸‹çš„å„ç§addXxxxæ–¹æ³• 1234567891011class WebMvcConfigurerComposite implements WebMvcConfigurer &#123; private final List&lt;WebMvcConfigurer&gt; delegates = new ArrayList(); public void addInterceptors(InterceptorRegistry registry) &#123; Iterator var2 = this.delegates.iterator(); while(var2.hasNext()) &#123; WebMvcConfigurer delegate = (WebMvcConfigurer)var2.next(); delegate.addInterceptors(registry); &#125; &#125;&#125; fromï¼šé€šè¿‡å®ç°WebMvcConfigurerè¿›è¡Œæ‹“å±•MVCåŠŸèƒ½çš„åŸç† å…¨å±€å¼‚å¸¸å¤„ç† ç³»ç»Ÿå†…éƒ¨æœ‰æŠ›å‡ºå¼‚å¸¸çš„éœ€æ±‚ï¼Œä½†æ ¹æ®ä¸è¦åœ¨é¡µé¢ä¸Šç»™ç”¨æˆ·æ˜¾ç¤ºé”™è¯¯ï¼Œå› æ­¤è¦è¿›è¡Œå¼‚å¸¸æ•æ‰ @ExceptionHandterçš„å«ä¹‰æ˜¯å½“å‰çš„æ–¹æ³•æ˜¯ç”¨äºå¤„ç†ä»€ä¹ˆå¼‚å¸¸ç±»å‹çš„ 12345678910111213141516171819202122232425262728293031323334353637// ErrorController.java@RestControllerpublic class ErrorController &#123; @ResponseBody @GetMapping(\"/xxx\") public String throwError()&#123; int i = 1/0; return \"yes\"; &#125;&#125;// ExceptionController.java@ControllerAdvicepublic class ExceptionController &#123; @ResponseBody @ExceptionHandler(Exception.class) public MyError processException()&#123; MyError myError = new MyError(); myError.setCode(400); myError.setMsg(\"è¢«æ•æ‰åˆ°äº†\"); return myError; &#125;&#125;// DafGlobalExceptionHandler.kt/** * @description: å…¨å±€å¼‚å¸¸æ‹¦æˆªå™¨ * @author: MrLi * @create: 2021-08-17 17:03 **/@ControllerAdviceclass DafGlobalExceptionHandler &#123; @ResponseBody @ExceptionHandler(BizException::class) fun processException(e: BizException): ResResult &#123; return ResResult.err(e.msg) &#125;&#125; è‡ªå®šä¹‰å¼‚å¸¸é¡µé¢ 1234567891011public class MyErrorPageController implements ErrorController &#123; @Override public String getErrorPath() &#123; return \"/error\"; &#125; @GetMapping(\"/error\") public String errorView()&#123; return \"/error\"; &#125;&#125; è¿‡æ»¤å™¨ã€ç›‘å¬å™¨ã€æ‹¦æˆªå™¨ spring mvcçš„æ‹¦æˆªå™¨æ˜¯åªæ‹¦æˆªcontrollerè€Œä¸æ‹¦æˆªjsp,html é¡µé¢æ–‡ä»¶çš„ã€‚è¿™å°±ç”¨åˆ°è¿‡æ»¤å™¨filteräº†ï¼Œfilteræ˜¯åœ¨servletå‰æ‰§è¡Œçš„ï¼Œä½ ä¹Ÿå¯ä»¥ç†è§£æˆè¿‡æ»¤å™¨ä¸­åŒ…å«æ‹¦æˆªå™¨ï¼Œä¸€ä¸ªè¯·æ±‚è¿‡æ¥ ï¼Œå…ˆè¿›è¡Œè¿‡æ»¤å™¨å¤„ç†ï¼Œçœ‹ç¨‹åºæ˜¯å¦å—ç†è¯¥è¯·æ±‚ ã€‚ è¿‡æ»¤å™¨æ”¾è¿‡å ï¼Œ ç¨‹åºä¸­çš„æ‹¦æˆªå™¨è¿›è¡Œå¤„ç† ã€‚ æ‹¦æˆªå™¨ä¸ä¾èµ–servletå®¹å™¨ï¼Œè¿‡æ»¤å™¨ä¾èµ–ï¼› æ‹¦æˆªå™¨æ˜¯åŸºäºjavaåå°„æœºåˆ¶æ¥å®ç°çš„ï¼Œè¿‡æ»¤å™¨åŸºäºå›è°ƒ è¿‡æ»¤å™¨ çš„åˆ›å»º åˆ›å»ºè‡ªå·±çš„è¿‡æ»¤å™¨ç±»å®ç°javax.servlet.Filteræ¥å£ é‡å†™doFilter çš„æ–¹æ³•ï¼Œåœ¨æ­¤æ–¹æ³•é‡Œå†™è¿‡æ»¤æ“ä½œ åœ¨ç±»ä¸Šä½¿ç”¨æ³¨è§£@WebFilter(filterName=â€myFilterâ€,urlPatterns={â€œ/*â€}) 123456789101112131415161718192021222324252627/** * * ä½¿ç”¨æ³¨è§£æ ‡æ³¨è¿‡æ»¤å™¨ * @WebFilterå°†ä¸€ä¸ªå®ç°äº†javax.servlet.Filteræ¥å£çš„ç±»å®šä¹‰ä¸ºè¿‡æ»¤å™¨ * å±æ€§filterName å£°æ˜è¿‡æ»¤å™¨çš„åç§°,å¯é€‰ * å±æ€§urlPatternsæŒ‡å®šè¦è¿‡æ»¤ çš„URLæ¨¡å¼,è¿™æ˜¯ä¸€ä¸ªæ•°ç»„å‚æ•°ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªã€‚ä¹Ÿå¯ä½¿ç”¨å±æ€§valueæ¥å£°æ˜.(æŒ‡å®šè¦è¿‡æ»¤çš„URLæ¨¡å¼æ˜¯å¿…é€‰å±æ€§) */@WebFilter(filterName=\"myFilter\",urlPatterns=&#123;\"/*\"&#125;)public class MyFilter implements Filter&#123; @Override public void destroy() &#123; System.out.println(\"myfilter çš„ é”€æ¯æ–¹æ³•\"); &#125; @Override public void doFilter(ServletRequest arg0, ServletResponse arg1, FilterChain chain) throws IOException, ServletException &#123; System.out.println(\"myfilter çš„ è¿‡æ»¤æ–¹æ³•ã€‚è¿™é‡Œå¯ä»¥æ‰§è¡Œè¿‡æ»¤æ“ä½œ\"); //ç»§ç»­ä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ chain.doFilter(arg0, arg1); &#125; @Override public void init(FilterConfig arg0) throws ServletException &#123; System.out.println(\"myfilter çš„ åˆå§‹åŒ–æ–¹æ³•\"); &#125;&#125; ç›‘å¬å™¨ çš„åˆ›å»º åˆ›å»ºè‡ªå·±çš„ç›‘å¬ç±»å®ç° ServletContextListener æ¥å£ï¼Œè¿™ä¸ªæ˜¯ç›‘å¬servletçš„ åˆ›å»ºè‡ªå·±çš„ç›‘å¬ç±»å®ç° HttpSessionListener æ¥å£ï¼Œè¿™ä¸ªæ˜¯ç›‘å¬session çš„ è®°å¾—åœ¨è‡ªå®šä¹‰çš„ç›‘å¬ç±»ä¸Šæ·»åŠ æ³¨è§£@WebListener 1234567891011121314@WebListenerpublic class SessionListener implements HttpSessionListener&#123; @Override public void sessionCreated(HttpSessionEvent arg0) &#123; System.out.println(\"ç›‘å¬ åˆ›å»ºsession\"); &#125; @Override public void sessionDestroyed(HttpSessionEvent arg0) &#123; System.out.println(\"ç›‘å¬ é”€æ¯session\"); &#125; &#125; æ‹¦æˆªå™¨ çš„åˆ›å»º åˆ›å»ºè‡ªå·±çš„æ‹¦æˆªå™¨ç±»ï¼Œå®ç°HandlerInterceptor æ¥å£ å®ç°ä¸€ä¸ªHandlerInterceptoræ‹¦æˆªå™¨å¯ä»¥ç›´æ¥å®ç°HandlerInterceptoræ¥å£ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿HandlerInterceptorAdapterç±»ã€‚ åˆ›å»ºä¸€ä¸ªé…ç½®ç±»ï¼Œç»§æ‰¿è‡ªWebMvcConfigurerAdapter ï¼Œå¹¶åœ¨ç±»ä¸Šæ·»åŠ æ³¨è§£@Configuration é‡å†™addInterceptorsæ–¹æ³•ï¼ŒæŠŠè‡ªå®šä¹‰çš„æ‹¦æˆªç±»æ³¨å†Œè¿›å»ã€‚ è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼š 1234567891011121314151617181920public class MyInterceptor implements HandlerInterceptor&#123; @Override public void afterCompletion(HttpServletRequest arg0, HttpServletResponse arg1, Object arg2, Exception arg3) throws Exception &#123; System.out.println(\"MyInterceptor åœ¨æ•´ä¸ªè¯·æ±‚ç»“æŸä¹‹åè¢«è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯åœ¨DispatcherServlet æ¸²æŸ“äº†å¯¹åº”çš„è§†å›¾ä¹‹åæ‰§è¡Œ\"); &#125; @Override public void postHandle(HttpServletRequest arg0, HttpServletResponse arg1, Object arg2, ModelAndView arg3) throws Exception &#123; System.out.println(\"MyInterceptor è¯·æ±‚å¤„ç†ä¹‹åè¿›è¡Œè°ƒç”¨ï¼Œä½†æ˜¯åœ¨è§†å›¾è¢«æ¸²æŸ“ä¹‹å‰ï¼ˆControlleræ–¹æ³•è°ƒç”¨ä¹‹åï¼‰\"); &#125; @Override public boolean preHandle(HttpServletRequest arg0, HttpServletResponse arg1, Object arg2) throws Exception &#123; System.out.println(\"MyInterceptor åœ¨è¯·æ±‚å¤„ç†ä¹‹å‰è¿›è¡Œè°ƒç”¨ï¼ˆControlleræ–¹æ³•è°ƒç”¨ä¹‹å‰ï¼‰è¿™é‡Œæ˜¯æ‹¦æˆªçš„æ“ä½œ\"); return true; &#125;&#125; æ³¨å†Œæ‹¦æˆªå™¨ ç»§æ‰¿ WebMvcConfigurerAdapter 1234567891011@Configurationpublic class WebConfigurer extends WebMvcConfigurerAdapter &#123; @Override public void addInterceptors(InterceptorRegistry registry) &#123; // addPathPatterns ç”¨äºæ·»åŠ æ‹¦æˆªè§„åˆ™ // excludePathPatterns æ’é™¤æ‹¦æˆª registry.addInterceptor(new MyInterceptor()).addPathPatterns(\"/**\").excludePathPatterns(\"/login\"); super.addInterceptors(registry); &#125;&#125; æ‰§è¡Œè¿‡ç¨‹ï¼š preHandleï¼šControlleræ–¹æ³•å¤„ç†ä¹‹å‰ï¼›é“¾å¼Intercepteræƒ…å†µä¸‹ï¼ŒIntercepteræŒ‰ç…§å£°æ˜çš„é¡ºåºä¸€ä¸ªæ¥ä¸€ä¸ªæ‰§è¡Œ postHandleï¼šControlleræ–¹æ³•å¤„ç†å®Œä¹‹åï¼ŒDispatcherServletè¿›è¡Œè§†å›¾çš„æ¸²æŸ“ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ä½ å¯ä»¥å¯¹ModelAndViewè¿›è¡Œæ“ä½œï¼› afterCompletionï¼šåœ¨æ•´ä¸ªè¯·æ±‚å®Œæˆä¹‹åå³ï¼ŒDispatcherServletè¿›è¡Œè§†å›¾çš„æ¸²æŸ“ä¹‹å äº‹ä»¶ç›‘å¬ äº‹ä»¶ç›‘å¬çš„æµç¨‹ è‡ªå®šä¹‰äº‹ä»¶ï¼Œä¸€èˆ¬æ˜¯ç»§æ‰¿ApplicationEventæŠ½è±¡ç±» å®šä¹‰äº‹ä»¶ç›‘å¬å™¨ï¼Œä¸€èˆ¬æ˜¯å®ç°ApplicationListeneræ¥å£ éœ€è¦æŠŠç›‘å¬å™¨åŠ å…¥åˆ°springå®¹å™¨ä¸­: å¯ä»¥é€šè¿‡å¯åŠ¨çš„æ—¶å€™æ·»åŠ  å¢åŠ Componentæ³¨è§£ é€šè¿‡context.listener.classesé…ç½®é¡¹å¯¼å…¥è¿›å» ä½¿ç”¨@EventListeneræ³¨è§£ï¼šåœ¨æ–¹æ³•ä¸ŠåŠ @EventListeneræ³¨è§£ï¼Œå¹¶å°†è¯¥ç±»æ³¨å…¥åˆ°springå®¹å™¨ä¸­ å‘å¸ƒäº‹ä»¶ï¼Œä½¿ç”¨ApplicationContext.publishEventå‘å¸ƒäº‹ä»¶ springæä¾›çš„é’©å­ï¼Œä½ çŸ¥é“å“ªäº›â€”â€”å¯æ³¨å…¥è°ƒæ•´çš„ä½ç½®æœ‰å“ªäº› Springç¬”è®°(7) - Springçš„äº‹ä»¶å’Œç›‘å¬æœºåˆ¶â€”â€”åŸç† https://www.bilibili.com/video/BV18E411F7GN?from=search&amp;seid=1165566942334976817â€”â€”ä½¿ç”¨å®šä¹‰ ç”±Kafkaäº‹ä»¶ç›‘å¬å›é¡¾Javaå›è°ƒâ€”â€”å›è°ƒçš„æ¦‚å¿µ å®šæ—¶ä»»åŠ¡ Quartz Quartzæ˜¯OpenSymphonyå¼€æºç»„ç»‡åœ¨Job schedulingé¢†åŸŸåˆä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®Œå…¨ç”±Javaå¼€å‘ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œå®šæ—¶ä»»åŠ¡ï¼Œç±»ä¼¼äºjava.util.Timerã€‚ä½†æ˜¯ç›¸è¾ƒäºTimerï¼Œ Quartzå¢åŠ äº†å¾ˆå¤šåŠŸèƒ½ï¼š ç»„æˆï¼š è°ƒåº¦å™¨ï¼šSchedulerï¼Œç”¨æ¥è°ƒåº¦ç®¡ç†Triggerå»æ‰§è¡ŒæŒ‡å®šçš„Jobå‘¢ ä»»åŠ¡ï¼šJobDetail è§¦å‘å™¨ï¼šTriggerï¼ŒåŒ…æ‹¬SimpleTriggerå’ŒCronTrigger Schedule åœ¨springbootä¸­å¯ä»¥æœ‰å¾ˆå¤šæ–¹æ¡ˆå»å¸®æˆ‘ä»¬å®Œæˆå®šæ—¶å™¨çš„å·¥ä½œï¼Œæœ‰Javaè‡ªå¸¦çš„java.util.Timerç±»ï¼Œä¹Ÿæœ‰å¼ºå¤§çš„è°ƒåº¦å™¨Quartzï¼Œè¿˜æœ‰SpringBootè‡ªå¸¦çš„Schedule ==&gt; ç›¸å¯¹äºQuartzæ˜¯é€‚ç”¨äºæ™®é€šJavaå·¥ç¨‹ï¼ŒScheduled é’ˆå¯¹äºspringbootè®¾è®¡ æ¡†æ¶åç§° Cronè¡¨è¾¾å¼ å›ºå®šé—´éš”æ‰§è¡Œ å›ºå®šé¢‘ç‡æ‰§è¡Œ ä»»åŠ¡æŒä¹…åŒ– éš¾æ˜“åº¦ TimerTask ä¸æ”¯æŒ æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ ä¸€èˆ¬ schedule æ”¯æŒ æ”¯æŒ æ”¯æŒ ä¸æ”¯æŒ ç®€å• Quartz æ”¯æŒ æ”¯æŒ æ”¯æŒ æ”¯æŒ éš¾ åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¦‚æœæ²¡æœ‰åˆ†å¸ƒå¼åœºæ™¯(quartz æ”¯æŒåˆ†å¸ƒå¼, schedule ä¸æ”¯æŒ(éœ€è¦è‡ªå·±å®ç°,ç”¨åˆ†å¸ƒå¼é”)ï¼Œscheduleè·Ÿspringç»“åˆçš„æ›´å¥½ï¼Œè¿˜æ˜¯å¾ˆé€‚ç”¨çš„ã€‚ SpringBootå†…ç½®äº†Sping Scheduleå®šæ—¶æ¡†æ¶ï¼Œé€šè¿‡æ³¨è§£é©±åŠ¨æ–¹å¼æ·»åŠ æ‰€æ³¨è§£æ–¹æ³•åˆ°å®šæ—¶ä»»åŠ¡ï¼Œæ ¹æ®é…ç½®å®šæ—¶ä¿¡æ¯å®šæ—¶æ‰§è¡Œã€‚ æ— åºå¯¼å…¥ä¾èµ–: Springçš„ScheduleåŒ…å«åœ¨spring-boot-starteræ¨¡å—ä¸­ï¼Œæ— éœ€å¼•å…¥å…¶ä»–ä¾èµ–ã€‚ åœ¨applicationä¸ŠåŠ ä¸Š@EnableSchedulingæ³¨è§£æ‰“å¼€å®šæ—¶åŠŸèƒ½ åœ¨å®šæ—¶ä»»åŠ¡ä¸Šå¢åŠ æ³¨è§£@Scheduled(cron = &quot;0/3 * * * * *&quot;) å›ºå®šé¢‘ç‡ï¼š@Scheduled(fixedRate = 3000)ï¼š å¦‚æœæ–¹æ³•æ‰§è¡Œæ—¶é—´è¶…è¿‡å®šæ—¶å™¨æ—¶é—´, æ–¹æ³•æ‰§è¡Œå®Œæˆåç›´æ¥æ‰§è¡Œä»»åŠ¡â€”â€”è¡¥å¿æœºåˆ¶ï¼Œå¦‚æ‰§è¡Œäº†5000msï¼Œä¹‹åä¼šç«‹é©¬æŠŠé˜»å¡æœªæ‰§è¡Œçš„ç»™æ‰§è¡Œäº† å›ºå®šé—´éš”ï¼š @Scheduled(fixedDelay = 3000)ï¼š æ–¹æ³•æ‰§è¡Œå®Œæˆå, åœç•™é—´éš”æ—¶é—´, å†æ¬¡æ‰§è¡Œè¯¥æ–¹æ³•â€”â€”å¦‚æ‰§è¡Œäº†5000msåè¿˜ä¼šåœ¨ç­‰3000msæ‰§è¡Œï¼Œä¸å› ä¸ºæ–¹æ³•æ‰§è¡Œæ—¶é—´é•¿åº¦å½±å“å®šæ—¶å™¨ Cronè¡¨è¾¾å¼: @Scheduled(cron = â€œ0/3 * * * * *â€)ï¼š*å›ºå®šæŒ‰ç…§é—´éš”æ—¶é—´æ‰§è¡Œ, æ–¹æ³•æ‰§è¡Œå®Œæˆå, æŒ‰ç…§é—´éš”æ—¶é—´ç‚¹å†æ¬¡æ‰§è¡Œè¯¥æ–¹æ³•â€”â€”æ¯”å¦‚æ–¹æ³•æ‰§è¡Œ5s, å®šæ—¶é—´éš”ä¸º3s, åˆ™ä¸­é—´æœ‰ä¸€æ¬¡æ‰§è¡Œä¸ä¸Š, ä¸ç†ä¼šï¼Œè€Œæ˜¯å½“ç¬¬äºŒä¸ª3sé—´éš”ï¼Œå³ç¬¬6så¼€å§‹ä¸‹ä¸€æ¬¡æ‰§è¡Œ 12345678910@SpringBootApplication@EnableAsync// å¼€å¯å®šæ—¶ä»»åŠ¡@EnableScheduling@MapperScan(basePackages = &#123;\"com.gupao.springboot.*.mapper\"&#125;)public class GupaoSpringbootApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(GupaoSpringbootApplication.class, args); &#125;&#125; Springçš„Scheculeé»˜è®¤æ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ï¼Œå¦‚æœä½ å®šä¹‰äº†å¤šä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆä»–ä»¬å°†ä¼šè¢«ä¸²è¡Œæ‰§è¡Œï¼Œä¼šä¸¥é‡ä¸æ»¡è¶³ä½ çš„é¢„æœŸã€‚æ‰€ä»¥ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œéœ€è¦è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 123456789101112@Componentpublic class ScheduleConfig implements SchedulingConfigurer &#123; @Override public void configureTasks(ScheduledTaskRegistrar taskRegistrar) &#123; taskRegistrar.setScheduler(customScheduler()); &#125; @Bean(destroyMethod = \"shutdown\") public ExecutorService customScheduler() &#123; return Executors.newScheduledThreadPool(20); &#125;&#125; fromï¼š SpringBootï¼š@Scheduleå®šæ—¶ä»»åŠ¡ é™„å½• å®ä½“ç±»å®šä¹‰è§„åˆ™ POï¼Œentity:persistent object æŒä¹…å¯¹è±¡ æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºDataå¯¹è±¡ï¼Œå¯¹åº”æ•°æ®åº“ä¸­çš„entityï¼Œå¯ä»¥ç®€å•è®¤ä¸ºä¸€ä¸ªPOå¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€æ¡è®°å½•ã€‚ Vo: view object è¡¨ç°å±‚å¯¹è±¡ ä¸»è¦å¯¹åº”é¡µé¢æ˜¾ç¤ºï¼ˆwebé¡µé¢/swtã€swingç•Œé¢ï¼‰çš„æ•°æ®å¯¹è±¡ã€‚ å¯ä»¥å’Œè¡¨å¯¹åº”ï¼Œä¹Ÿå¯ä»¥ä¸ï¼Œè¿™æ ¹æ®ä¸šåŠ¡çš„éœ€è¦ã€‚ DTOï¼ˆTOï¼‰ï¼šData Transfer Object æ•°æ®ä¼ è¾“å¯¹è±¡ æ¯”å¦‚ä¸€å¼ è¡¨æœ‰100ä¸ªå­—æ®µï¼Œé‚£ä¹ˆå¯¹åº”çš„POå°±æœ‰100ä¸ªå±æ€§ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒDTOå†…çš„æ•°æ®æ¥è‡ªå¤šä¸ªè¡¨ï¼‰ã€‚ä½†viewå±‚åªéœ€æ˜¾ç¤º10ä¸ªå­—æ®µï¼Œæ²¡æœ‰å¿…è¦æŠŠæ•´ä¸ªPOå¯¹è±¡ä¼ é€’åˆ°clientï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ç”¨åªæœ‰è¿™10ä¸ªå±æ€§çš„DTOæ¥ä¼ è¾“æ•°æ®åˆ°clientï¼Œè¿™æ ·ä¹Ÿä¸ä¼šæš´éœ²serverç«¯è¡¨ç»“æ„ã€‚åˆ°è¾¾å®¢æˆ·ç«¯ä»¥åï¼Œå¦‚æœç”¨è¿™ä¸ªå¯¹è±¡æ¥å¯¹åº”ç•Œé¢æ˜¾ç¤ºï¼Œé‚£æ­¤æ—¶å®ƒçš„èº«ä»½å°±è½¬ä¸ºVOã€‚ POJO:plain ordinary java object æ— è§„åˆ™ç®€å•javaå¯¹è±¡ ä¸€ä¸ªä¸­é—´å¯¹è±¡ï¼Œå¯ä»¥è½¬åŒ–ä¸ºPOã€DTOã€VOã€‚ POJOæŒä¹…åŒ–ä¹‹å==&gt;PO POJOç”¨ä½œè¡¨ç¤ºå±‚==&gt;VOI POJOä¼ è¾“è¿‡ç¨‹ä¸­==&gt;DTO application.ymlå¸¸ç”¨é…ç½® 12345spring.mvc.static-path-pattern=classpath:/# æ›´å¤šå¯æŸ¥çœ‹ResourcePropertiesç±»ä¸­# private static final String[] CLASSPATH_RESOURCE_LOCATIONS = new String[]&#123;&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;&#125;;server.port=8889 12345678910111213141516171819202122232425262728# tomcatç›¸å…³server: port: 8889# spingç›¸å…³spring: datasource: name: mydb url: jdbc:mysql://127.0.0.1:3306/person?serverTimezone=UTC username: root password: cl123123 driver-class-name: com.mysql.cj.jdbc.Driver # jpaç›¸å…³ jpa: show-sql: true properties: hibernate: format_sql: true # å…³é—­é»˜è®¤å›¾æ ‡ mvc: favicon: enabled: false# mybatis mybatis: mapper-locations: classpath*:/mybatis/mapper/*Mapper.xml# æ—¥å¿—logging: level: com.atguigu.spring.boot.mapper: debug 40 ä¸ª SpringBoot å¸¸ç”¨æ³¨è§£ propertiesæ–‡ä»¶èƒ½å¤Ÿè®¾å®šå“ªäº›é…ç½® æ€»å…±åˆ—å‡ºäº†å…¨éƒ¨1237ä¸ªé…ç½®é¡¹ï¼Œä»¥åŠä»–ä»¬çš„å«ä¹‰å’Œé»˜è®¤å€¼ï¼ ä¼˜ç§€çš„é¡¹ç›®ç»“æ„ 1234567891011121314151617181920212223242526272829303132333435src|â”€main| |â”€java| | |â”€xyz.guqing.creek ------ æ ¹åŒ…å| | | |â”€aspect ------ aopåˆ‡é¢| | | |â”€config ------ springbootè‡ªåŠ¨é…ç½®| | | |â”€controller ------ controlleræ¥å£| | | |â”€mapper ------ mybatis mapperæ¥å£| | | |â”€exception ------ è‡ªå®šä¹‰å¼‚å¸¸| | | |â”€service ------ serviceå±‚| | | |â”€model ------ æ¨¡å‹ç±»| | | | |â”€entity ------ æ•°æ®åº“å¯¹åº”çš„å®ä½“| | | | |â”€enums ------ æšä¸¾| | | | |â”€params ------ controllerä¸­å…¥å‚æ•°ä¿®æ”¹ç±»å‹çš„å…¥å‚æ•°å‘½åä¸ºxxxParamæŸ¥è¯¢çš„ä¸ºxxxQueryâ€”â€”â€”â€”â€”â€”should be: DTO| | | | |â”€dto ------ controllerå‡ºå‚å®ä½“â€”â€”â€”â€”â€”â€”should be: VO| | | | |â”€annotation ------ è‡ªå®šä¹‰æ³¨è§£| | | | |â”€dos ------ æ•°æ®åº“ç»„åˆå®ä½“ä¾‹å¦‚å…³è”æŸ¥è¯¢éœ€è¦å¤šè¡¨å­—æ®µç»„åˆ| | | | |â”€bo ------ ä¸šåŠ¡é€»è¾‘å®ä½“ï¼Œä¾‹å¦‚æ”¯ä»˜serviceæ–¹æ³•è°ƒç”¨æ”¯ä»˜æ–¹æ³•ä¼ é€’ç»„åˆå‚æ•°| | | | |â”€properties ------ è‡ªåŠ¨é…ç½®propertieså®ä½“| | | |â”€factory ------ è‡ªå®šä¹‰å·¥å‚ç±»| | | |â”€event ------ è‡ªå®šä¹‰äº‹ä»¶| | | |â”€listener ------ äº‹ä»¶ç›‘å¬å™¨| | | |â”€convert ------ è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨| | | |â”€handler ------ å¤„ç†å™¨ç±»| | | |â”€security ------ spring securityå®‰å…¨æ§åˆ¶| | | |â”€utils ------ è‡ªå®šä¹‰å·¥å…·ç±»| |â”€resources| | |â”€db ------ æ•°æ®åº“sql| | |â”€mapper ------ mybatisè‡ªå®šä¹‰mapper xml| | |â”€templates ------ æ¨¡æ¿æ–‡ä»¶ä¾‹å¦‚é‚®ä»¶æ¨¡æ¿|â”€test| |â”€java| | |â”€com.happyland.ums| | | |â”€service ------ serviceå±‚å•å…ƒæµ‹è¯•ç±»| | | |â”€utils ------ è‡ªå®šä¹‰å·¥å…·å•å…ƒæµ‹è¯•ç±» @PostConstruct å®æ“ @PostConstruct æ˜¯ä¸ªç±»åˆå§‹åŒ–åæ‰§è¡Œçš„é’©å­æ³¨è§£ï¼Œç”¨æ¥æ‰§è¡Œç±»åˆå§‹åŒ–ä¹‹åã€ç±»æ­£å¼æŠ•å…¥ä¹‹å‰éœ€è¦æ‰§è¡Œçš„æ–¹æ³• åœ¨éæ‹¦æˆªå™¨ç±»ä¸Šå®šä¹‰çš„æ–¹æ³•å¿…é¡»å…·æœ‰ä»¥ä¸‹ç­¾åï¼švoid &lt;METHOD&gt;ï¼ˆï¼‰åº”ç”¨PostConstructçš„æ–¹æ³•å¯ä»¥æ˜¯publicï¼Œprotectedï¼Œpackage privateæˆ–privateã€‚ å…³äºç±»åˆå§‹åŒ–@PostConstruct ã€@Autowiredå’ŒConstructæ„é€ å‡½æ•° é¡ºåºä¸ºï¼š1.æ„é€ å‡½æ•° &gt; 2.@Autowired &gt; 3.@PostConstruct ã€‚ å¦‚æœä¸€ä¸ªç±»BeanAä¸­ä¸Šè¿°ä¸‰è€…éƒ½æœ‰ï¼Œä¸”@Autowiredæ³¨å…¥çš„ç±»BeanBä¸­ä¹Ÿéƒ½æœ‰ä¸Šè¿°ä¸‰è€…ï¼Œåˆ™è°ƒç”¨é¡ºåºä¸ºï¼š 123456&gt; è¿™æ˜¯ Bean A çš„æ„é€ æ–¹æ³•&gt; è¿™æ˜¯ Bean B çš„æ„é€ æ–¹æ³•&gt; è¿™æ˜¯ Bean B çš„ init æ–¹æ³•&gt; è¿™æ˜¯ Bean A çš„ init æ–¹æ³•&gt; è¿™æ˜¯ Bean B çš„ testB æ–¹æ³•&gt; 1234567891011121314151617/** * @description: MQTTé…ç½®ç±» * @author: MrLi * @create: 2021-10-11 18:23 **/@PropertySource(\"classpath:mqtt.properties\")@Componentpublic class MqttConfiguration &#123; @Value(\"$&#123;url&#125;\") public String host; @Value(\"$&#123;consumer.defaultTopic&#125;\") public String topic; @Value(\"$&#123;username&#125;\") public String name; @Value(\"$&#123;password&#125;\") public String passWord;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192// MQTTå®¢æˆ·ç«¯å®ä¾‹ï¼Œå…¶ä¸­é…ç½®æ˜¯é€šè¿‡MqttConfigurationæ‹¿åˆ°çš„ã€‚å…ˆæ‰§è¡ŒIotMqttClientçš„æ„é€ å‡½æ•°ï¼ˆæ— ï¼‰ï¼Œç„¶åæ‰§è¡Œ@Autowiredçš„mqttConfigurationï¼Œç„¶åæ‹¿åˆ°mqttConfigurationå®ä¾‹å¯¹è±¡åæ‰§è¡ŒIotMqttClientè‡ªèº«@PostConstructçš„initå‡½æ•°ï¼Œå®Œæˆè¿æ¥@Slf4j@Componentpublic class IotMqttClient &#123; @Autowired private MqttConfiguration mqttConfiguration; private MqttClient client; private static List&lt;String&gt; subedTopics = new ArrayList&lt;&gt;(); @PostConstruct public void init() &#123; // clientIdä¸èƒ½é‡å¤æ‰€ä»¥è¿™é‡Œæˆ‘è®¾ç½®ä¸ºç³»ç»Ÿæ—¶é—´ String clientId = String.valueOf(System.currentTimeMillis()); int qos = 0; try &#123; // hostä¸ºä¸»æœºåï¼Œclientidå³è¿æ¥MQTTçš„å®¢æˆ·ç«¯IDï¼Œä¸€èˆ¬ä»¥å”¯ä¸€æ ‡è¯†ç¬¦è¡¨ç¤ºï¼ŒMemoryPersistenceè®¾ç½®clientidçš„ä¿å­˜å½¢å¼ï¼Œé»˜è®¤ä¸ºä»¥å†…å­˜ä¿å­˜ client = new MqttClient(mqttConfiguration.host, clientId, new MemoryPersistence()); // è®¾ç½®å›è°ƒ client.setCallback(new ReportMqtt(this)); client.connect(makeUpMqttOption()); subscribe(mqttConfiguration.topic, qos); &#125; catch (Exception e) &#123; log.info(\"ReportMqttå®¢æˆ·ç«¯è¿æ¥å¼‚å¸¸ï¼Œå¼‚å¸¸ä¿¡æ¯ï¼š\" + e); &#125; &#125; private MqttConnectOptions makeUpMqttOption() &#123; // MQTTçš„è¿æ¥è®¾ç½® MqttConnectOptions options = new MqttConnectOptions(); // è®¾ç½®æ˜¯å¦æ¸…ç©ºsession,è¿™é‡Œå¦‚æœè®¾ç½®ä¸ºfalseè¡¨ç¤ºæœåŠ¡å™¨ä¼šä¿ç•™å®¢æˆ·ç«¯çš„è¿æ¥è®°å½•ï¼Œè¿™é‡Œè®¾ç½®ä¸ºtrueè¡¨ç¤ºæ¯æ¬¡è¿æ¥åˆ°æœåŠ¡å™¨éƒ½ä»¥æ–°çš„èº«ä»½è¿æ¥ options.setCleanSession(true); // è®¾ç½®è¿æ¥çš„ç”¨æˆ·å options.setUserName(mqttConfiguration.name); // è®¾ç½®è¿æ¥çš„å¯†ç  options.setPassword(mqttConfiguration.passWord.toCharArray()); // è®¾ç½®è¶…æ—¶æ—¶é—´ å•ä½ä¸ºç§’ options.setConnectionTimeout(10); // è®¾ç½®ä¼šè¯å¿ƒè·³æ—¶é—´ å•ä½ä¸ºç§’ æœåŠ¡å™¨ä¼šæ¯éš”1.5*20ç§’çš„æ—¶é—´å‘å®¢æˆ·ç«¯å‘é€ä¸ªæ¶ˆæ¯åˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦åœ¨çº¿ï¼Œä½†è¿™ä¸ªæ–¹æ³•å¹¶æ²¡æœ‰é‡è¿çš„æœºåˆ¶ options.setKeepAliveInterval(3600); return options; &#125; /** * å‘å¸ƒï¼Œé»˜è®¤qosä¸º0ï¼ŒéæŒä¹…åŒ– */ public void publish(String topic, String pushMessage) &#123; publish(0, false, topic, pushMessage); &#125; /** * å‘å¸ƒ */ public void publish(int qos, boolean retained, String topic, String pushMessage) &#123; MqttMessage message = new MqttMessage(); message.setQos(qos); message.setRetained(retained); message.setPayload(pushMessage.getBytes()); MqttTopic mTopic = client.getTopic(topic); if (null == mTopic) &#123; log.error(\"topic not exist\"); &#125; try &#123; MqttDeliveryToken token = mTopic.publish(message);// token.waitForCompletion(); &#125; catch (MqttPersistenceException e) &#123; e.printStackTrace(); &#125; catch (MqttException e) &#123; e.printStackTrace(); &#125; &#125; /** * è®¢é˜…æŸä¸ªä¸»é¢˜ï¼Œqosé»˜è®¤ä¸º0 */ public void subscribe(String topic) &#123; subscribe(topic, 0); subedTopics.add(topic); &#125; /** * è®¢é˜…æŸä¸ªä¸»é¢˜ */ public void subscribe(String topic, int qos) &#123; try &#123; client.subscribe(topic, qos); &#125; catch (MqttException e) &#123; e.printStackTrace(); &#125; &#125;&#125;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"},{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"Web","slug":"Web","permalink":"https://nymrli.top/tags/Web/"}]},{"title":"å¦‚ä½•æˆä¸ºä¸€ä½è€å¸æœºâ€”â€”è€ƒé©¾ç…§ç»å†","slug":"å¦‚ä½•æˆä¸ºä¸€ä½è€å¸æœºâ€”â€”è€ƒé©¾ç…§ç»å†","date":"2019-09-14T04:32:33.000Z","updated":"2019-09-15T08:07:31.044Z","comments":true,"path":"2019/09/14/å¦‚ä½•æˆä¸ºä¸€ä½è€å¸æœºâ€”â€”è€ƒé©¾ç…§ç»å†/","link":"","permalink":"https://nymrli.top/2019/09/14/å¦‚ä½•æˆä¸ºä¸€ä½è€å¸æœºâ€”â€”è€ƒé©¾ç…§ç»å†/","excerpt":"","text":"å¦‚ä½•æˆä¸ºä¸€ä½è€å¸æœºâ€”â€”è€ƒé©¾ç…§ç»å† å¤§ä¸€ä¸‹æŠ¥çš„åï¼Œå‡ ç»è½¬æŠ˜ï¼Œç»ˆäºåœ¨2019-9-12ï¼Œä¸­ç§‹æ”¾å‡å‰ä¸€å¤©æ‹¿åˆ°äº†æœ¬æœ¬ã€‚ ç§‘ä¸€ç†è®ºè€ƒè¯• å¤ªä¹…è¿œäº†ï¼Œå·²ç»å¿˜è®°äº†â€¦ ç§‘äºŒ è®­ç»ƒ å€’è½¦å…¥åº“ï¼š å·¦è¾¹å°é•œå­åº•åº§ç›–è¿‡é»„çº¿ï¼Œå‘å·¦æ‰“æ­»ã€‚ æ­£æ‰‹å€’è½¦æ—¶ï¼Œé è¿‘å·¦è¾¹ç›´è§’è·ç¦»3ä¸ªæ‰‹æŒ‡å›æ­£ï¼Œç„¶åçœ‹å·¦è¾¹é•œå­å‡ºç°ç›´è§’ï¼Œç„¶åã€‚ å·¦æ‰‹æ˜¯ä¸€åˆ°äºŒæŒ‡å¤´ã€‚ â–²å…¥åº“é‡åœ¨è‡ªå·±è°ƒæ•´ï¼Œè®°ä½å‡†åˆ™ï¼šå·¦å³é•œå­ï¼Œå“ªè¾¹ç©ºéš™å¤§ï¼Œæ–¹å‘ç›˜å¾€å“ªè¾¹æ‰“ å°å››é¡¹ï¼š ç›´è§’è½¬å¼¯: äººåœ¨è·¯ä¸­é—´ï¼Œç›´è§’é‡åˆäºè½¦çª—é»‘çº¿åå‘å·¦æ‰“æ­»ã€‚ Så¼¯é“ï¼š ç¡®ä¿äººåœ¨è·¯ä¸­é—´ï¼Œå¯ä»¥ç•¥å¾®åå·¦ã€‚å·¦è¾¹å°é•œå­åº•åº§å‹ä½å³è¾¹é»„çº¿ã€‚æ–¹å‘ç›˜ä¸€åœˆå³æ‰‹æ”¾åœ¨2ç‚¹æ–¹å‘ã€‚å¦‚æœé»„çº¿åä¸‹ï¼Œé‚£ä¹ˆå¾€1ç‚¹æ–¹å‘è°ƒæ•´ï¼Œå¦åˆ™å¾€3ç‚¹æ–¹å‘è°ƒæ•´ã€‚ç„¶åä¿æŒåˆ°è½¦å¤´ä¸­é—´ç¢°åˆ°å·¦è¾¹é»„çº¿å›æ­£ï¼›ç„¶åå‘å‰ä¸€å°æ®µè·ç¦»ï¼Œä½¿å¾—å³è¾¹é•œå­ä¸é»„çº¿åªå·®ä¸€æ¡çº¿çš„è·ç¦»ï¼Œç„¶åå‘å³ä¸€åœˆï¼Œå·¦æ‰‹11ç‚¹ï¼Œä¿æŒå°é•œå­ä¸é»„çº¿å¤¹è§’æ˜¯é’è§’ï¼Œç„¶åä¸€ç›´ä¿æŒåˆ°é¡¹ç›®ç»“æŸã€‚ å¡é“åœè½¦ï¼š å¯¹å‡†å¡é“ä¸Šçš„é»„çº¿å¤§çº¦åœ¨è½¦å¤´çš„å³è¾¹ä¸‰åˆ†ä¹‹ä¸€å¤„ã€‚ä¸Šå»ä¹‹åï¼Œä¿æŒé»„çº¿åœ¨å°é•œå­çš„å·¦è¾¹ä¸‰åˆ†ä¹‹ä¸€å¤„ï¼Œå¤§çº¦ä¸è½¦èº«æˆä¸‰è§’å½¢ï¼Œæ¥è¿‘æ¥è§¦ã€‚ ä¾§æ–¹åœè½¦ï¼š è½¦å¤´ç›–è¿‡è“çº¿åçœ‹å³è¾¹åè§†é•œï¼Œåˆ°ç¬¬äºŒæ ¹ç™½çº¿åœ¨åè§†é•œä¸­å¤®å¼€å§‹å€’è½¦ï¼Œç›´è‡³æ¶ˆå¤±æ—¶ï¼Œå‘å³ä¸€åœˆåˆ°11ç‚¹ï¼Œç„¶åä¿æŒç›´è‡³å³è¾¹çš„é»„çº¿è·‘åˆ°ä¸¤ä¸ªæŠŠæ‰‹çš„ä¸­é—´æ—¶å›æ­£ï¼Œæ¥ç€çœ‹å·¦è¾¹ï¼Œå¤´ä¼¸å‡ºä¸€ç‚¹ï¼Œçœ‹åè½¦è½®å‹å€’è™šçº¿æ—¶ç«‹é©¬å‘å·¦æ‰“æ­»ï¼Œç„¶åç›´è‡³è½¦èº«å®Œå…¨è¿›å…¥ã€‚ å‡ºå»æ—¶ï¼Œå·¦æ–¹å‘ç¯å’Œæ¢1æ¡£ï¼Œç¼“é€Ÿå‡ºæ¥ï¼Œç­‰åˆ°è½¦å¤´ä¸­å¤®ç¢°åˆ°é»„çº¿æ—¶å›æ­£ï¼Œç„¶åç¨å¾®å¼€ä¸ª0.5så‘åä¸€åœˆå·¦å³ï¼Œè½¦èº«å›æ­£ã€‚ è§†é¢‘èµ„æºâ€”â€”SXHç§‘äºŒæ•™ç»ƒ,æå–ç ï¼šgvqa è€ƒè¯• æˆ‘è€ƒçš„æ˜¯6å·çº¿ï¼Œä¹Ÿå°±æ˜¯Så¼¯ç»“æŸåç«‹é©¬æ˜¯ç›´è§’çš„é‚£æ¡çº¿ã€‚è€ƒè¯•çš„ç›´è§’ç»™æˆ‘çš„æ„Ÿè§‰æ˜¯æ¯”è°·å³°è®­ç»ƒçš„æ—¶å€™å¤šå¾ˆå¤šï¼Œæ‰€ä»¥å…¶å®ä¸ç”¨æ‹…å¿ƒã€‚è‡³äºè¿™ä¸ªSå¼¯ç»“æŸåç«‹é©¬æ˜¯ç›´è§’ï¼Œæ ¹æ®æ¨¡æ‹Ÿçš„æ—¶å€™å¼€å°±è¡Œäº†ï¼Œå³å‡ºæ¥å°±å‘å³æ‰“æ­»ï¼Œç„¶åå¼€åˆ°è·¯ä¸­é—´ ç§‘ä¸‰ ç¯å…‰+ä¸Šè·¯è¡Œé©¶ è®­ç»ƒ ç¯å…‰ èµ·æ­¥å’Œé è¾¹åœè½¦ å›¾ç‰‡æ¥è‡ªäºç§‘ä¸‰æ•™ç»ƒâ€”â€”æ¨ä½œæ ‹ è€ƒè¯• ç§‘ä¸‰æ¯”ç§‘äºŒç®€å•å¾ˆå¤šã€‚ç§‘äºŒ10èŠ‚è¯¾ï¼Œç§‘ä¸‰åªæœ‰8èŠ‚ä¹Ÿèƒ½è¯´æ˜ä¸€äºŒã€‚ä½†æ„Ÿè§‰ç§‘ä¸‰ä¸ç§‘äºŒæœ€ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œç§‘ä¸‰è®°çš„ç‚¹æ¯”ç§‘äºŒè‡ªç„¶å¾ˆå¤šã€‚åœ¨è½¬å¤´çœ‹å·¦å³åè§†é•œï¼Œæˆ‘åœ¨ä¸´è¿‘è€ƒè¯•çš„æœ€åä¸¤å¤©æœ€åä¸€èŠ‚è¯¾ä¸Šæ‰ç»ƒçš„ï¼Œä¸€å¼€å§‹è§‰å¾—å³è¾¹çš„åè§†é•œä¸ºä»€ä¹ˆç¦»å¾—é‚£ä¹ˆè¿œï¼Œè·‘äº†ä¸¤åœˆåå°±å‘ç°ï¼Œçœ‹åè§†é•œæ˜¯ä»¶å¾ˆè‡ªç„¶çš„äº‹ï¼Œå› ä¸ºä½ å°±éœ€è¦å³è¾¹çš„ä¿¡æ¯ã€‚ è€Œåœ¨è€ƒè¯•è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶æœ‰å®‰å…¨å‘˜åœ¨æ—è¾¹ï¼Œå¯èƒ½ä¼šæ¯”ç§‘äºŒç´§å¼ ä¸€äº›ï¼Œä½†æ˜¯æ•´ä½“ä¸Šæ¥è®²ï¼Œç§‘ä¸‰è¿˜æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œåªè¦è®°å¾—ï¼Œæ¯æ¬¡å®Œæˆä¸€ä¸ªä¸œè¥¿åï¼Œå·¦å³çœ‹åè§†é•œåŸºæœ¬ä¸Šå°±è¡Œäº†ã€‚ â–².æˆ‘è€ƒè¯•çš„æ—¶å€™ï¼Œå‰é¢æœ‰ä¸ªæŒ‚äº†çš„äººå€’æ˜¯è¡¥ä¸Šäº†æˆ‘ä¸€ä¸ªç›²ç‚¹ï¼ŒåŸæ¥æç¤ºå‰æ–¹è·¯å£åï¼Œå¦‚æœä½ æ‰“äº†å³æ–¹å‘ç¯ï¼Œé‚£ä¹ˆæ¥ç€å¾€åçœ‹ã€‚ä¹‹å‰æˆ‘è¿˜ä»¥ä¸ºåªæœ‰çœŸè¿‡è·¯å£ã€ç‚¹åˆ¹çš„æ—¶å€™æ‰éœ€è¦ã€‚åªä¸è¿‡é¢å¯¹è¿™ç§ç°è±¡ï¼Œè¿˜æ˜¯ä¹‹å‰è¯´çš„ï¼Œä¸ç®¡åšäº†ä»€ä¹ˆï¼Œå·¦å³æ‘‡å¤´å°±æ˜¯äº†ã€‚ æŒ‚åˆ°äº”æ¡£ä¹Ÿä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘å½“æ—¶è€ƒè¯•æ—¶æœ‰ä¸¤æ¡è·¯çš„è·¯å†µç»å¯¹ç®—ä¸ä¸Šå¥½ï¼Œä½†æ˜¯æˆ‘ä¸€å…±è¿˜æ˜¯3æ¬¡æŒ‚åˆ°äº†äº”æ¡£ï¼Œæ‰€ä»¥å…¶å®å‡æŒ¡çš„æœºä¼šè¿˜æ˜¯å¾ˆå¤šçš„ã€‚ æœ€åï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ç¯å…‰ä¸€å®šä¸èƒ½é”™ã€‚æˆ‘æ˜¯ç¬¬ä¸‰ä¸ªè€ƒçš„ï¼Œç¬¬ä¸€ä¸ªå¥³ç”Ÿç¯å…‰æŒ‚äº†ä¸€æ¬¡ï¼›ç¬¬äºŒä¸ªç”·ç”Ÿï¼Œèµ·æ­¥æ²¡æ‰“å·¦æ–¹å‘ç¯ï¼Œä¹ŸæŒ‚äº†ã€‚ ç§‘å››ç†è®ºè€ƒè¯• åˆ·äº†1280é“é¢˜ï¼Œç”±äºæœ‰10é“å¤šé€‰é¢˜çš„å­˜åœ¨ï¼Œæ‰€ä»¥çœŸæ­£è€ƒè¯•çš„æ—¶å€™è¿˜æ˜¯æ¯”è¾ƒæ…Œçš„ï¼Œä¸€ä¸Šæ¥å°±é”™äº†ä¸¤é¢˜ï¼Œæœ€ç»ˆè€ƒäº†94.","categories":[],"tags":[{"name":"ç”Ÿæ´»ç¦åˆ©","slug":"ç”Ÿæ´»ç¦åˆ©","permalink":"https://nymrli.top/tags/ç”Ÿæ´»ç¦åˆ©/"}]},{"title":"è½¯ä»¶æµ‹è¯•å¤§èµ›","slug":"è½¯ä»¶æµ‹è¯•å¤§èµ›","date":"2019-09-14T04:07:12.000Z","updated":"2019-11-02T02:05:41.344Z","comments":true,"path":"2019/09/14/è½¯ä»¶æµ‹è¯•å¤§èµ›/","link":"","permalink":"https://nymrli.top/2019/09/14/è½¯ä»¶æµ‹è¯•å¤§èµ›/","excerpt":"","text":"è½¯ä»¶æµ‹è¯•å¤§èµ› åˆå­¦æµç¨‹ é¦–å…ˆäº†è§£æ¯”èµ›,æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£å¹³å°å¸®åŠ© ç„¶ååœ¨å·¥å…·ä¸‹è½½ä¸­ä¸‹è½½å·¥å…·ã€eclipseæ’ä»¶ æœ€åæ ¹æ®æ•™ç¨‹ä¸­å°†æ’ä»¶å®‰è£…å¥½å³å¯ ç§»åŠ¨åº”ç”¨æµ‹è¯•å¼€å‘ ç¯å¢ƒé…ç½® é…ç½®Javaç¯å¢ƒ ç•¥,è§Java å¼€å‘ç¯å¢ƒé…ç½®_èœé¸Ÿæ•™ç¨‹ å®‰è£…ADB 1.èœå•â€”â€”&gt;Toolsâ€”â€”&gt;Settingsï¼Œå°†Serveråœ°å€ä¸º mirrors.neusoft.edu.cnï¼Œ ç«¯å£ 80 ï¼Œå¹¶ä¸”åœ¨Othersé‡Œå‹¾é€‰ Force https://â€¦,æœ€åä¸€å®šè¦é€‰æ‹©èœå•â€”â€”&gt;Packagesèœå•â€”â€”&gt;Reload æ³¨:å…¶ä»–å¯ç”¨çš„é•œåƒ 2.æŠŠ Android SDK è·¯å¾„ä¸‹çš„tools å’Œ platform-tools ä¸¤ä¸ªç›®å½•è·¯å¾„åŠ å…¥åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ Path 3.åœ¨ç»ˆç«¯(cmd)è¾“å…¥å‘½ä»¤ adb ï¼Œå›è½¦ï¼Œè¾“å‡º adb ç‰ˆæœ¬å’Œå¸®åŠ©ä¿¡æ¯è¯´æ˜ç¯å¢ƒé…ç½®æˆåŠŸ å®‰è£…Node.js ç•¥ å®‰è£…Appium 1)ä¸‹è½½å®‰è£…æ–‡ä»¶ï¼š http://pan.baidu.com/s/1jGvAISu Windows ä¸‹è½½zipæ–‡ä»¶ï¼ŒMACè¯·ä¸‹è½½dmg 2)ç›´æ¥åŒå‡»appium-installer.exeæ–‡ä»¶å®‰è£…å°±å¥½(åŠ¡å¿…è®°ä½å®‰è£…è·¯å¾„)ï¼Œæ¡Œé¢ä¼šç”Ÿæˆä¸€ä¸ªAppiumçš„å›¾æ ‡ æ­¤æ—¶å·²ç»å¯ä»¥é€šè¿‡Appiumåœ¨æ¡Œé¢å¿«æ·æ–¹å¼å¯åŠ¨Appiumæ¡Œé¢åº”ç”¨ç¨‹åºï¼Œå¹¶ç‚¹å‡»åº”ç”¨ç¨‹åºå³ä¸Šä¾§å¯åŠ¨çŠ¶æŒ‰é’®å¯åŠ¨Appiumï¼Œè‹¥æˆåŠŸå¯åŠ¨ä¼šè¾“å‡ºæ•°è¡Œ[info]çº§åˆ«çš„æ—¥å¿—ï¼Œæ‰“å°å‡ºAppium serverå¯åŠ¨æˆåŠŸåå ç”¨çš„ç«¯å£ã€‚ å¦‚æœæ— æ³•æ˜¾ç¤ºappium-doctor,å¯ä»¥npm install -g appiumå®‰è£… UIautomatorviewerä½¿ç”¨ Android 4.1å‘å¸ƒçš„ï¼Œuiautomatoræ˜¯ç”¨æ¥åšUIæµ‹è¯•çš„ã€‚ä¹Ÿå°±æ˜¯æ™®é€šçš„æ‰‹å·¥æµ‹è¯•ï¼Œç‚¹å‡»æ¯ä¸ªæ§ä»¶å…ƒç´  çœ‹çœ‹è¾“å‡ºçš„ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚æ¯”å¦‚ ç™»é™†ç•Œé¢ åˆ†åˆ«è¾“å…¥æ­£ç¡®å’Œé”™è¯¯çš„ç”¨æˆ·åå¯†ç ç„¶åç‚¹å‡»ç™»é™†æŒ‰é’®çœ‹çœ‹æ˜¯å¦èƒ½å¦ç™»é™†ä»¥åŠæ˜¯å¦æœ‰é”™è¯¯æç¤ºç­‰ã€‚ æ‰¾åˆ°Andriod sdkå®‰è£…ç›®å½•ä¸‹çš„uiautomatorviewer.bat,E:\\android-sdk-windows\\tools\\uiautomatorviewer.bat,åŒå‡»æ‰“å¼€ ç”±äºè‡ªåŠ¨è·å¾—æ‰‹æœºä¿¡æ¯å¤±è´¥,å› æ­¤æˆ‘åªèƒ½é€šè¿‡æ‰‹å·¥è¿›è¡Œè·å– 123Error obtaining UI hierarchyReason:Error while creating temporary file to save snapshot:null è‡ªåŠ¨å¯¼å…¥æˆåŠŸçš„ç»“æœï¼š æ‰‹å·¥è·å–æ‰‹æœºä¿¡æ¯ æ®è¯´Andriod8.0ä»¥ä¸Šå°±æ— æ³•ä½¿ç”¨uiautomatorç›´æ¥è¿æ¥äº†ï¼Œå› æ­¤éœ€è¦æˆªå›¾ä¸€æ­¥æ­¥æ“ä½œ 123456# dumpèµ„æºæ–‡ä»¶ å†å¯¼å‡ºåˆ°æœ¬åœ°$ adb shell uiautomator dump$ adb pull /sdcard/window_dump.xml# è·å–æˆªå›¾ å¯¼å‡º$ adb shell screencap -p /data/local/tmp/app.png$ adb pull /data/local/tmp/app.png . æˆ–è€…ç¼–å†™batè„šæœ¬ 1234567@echo onadb shell uiautomator dump /sdcard/app.uixadb pull /sdcard/app.uix .adb shell screencap -p /sdcard/app.pngadb pull /sdcard/app.png . ä¼ åˆ°Windowé‡Œï¼Œæœ‰äº†æˆªå›¾æ–‡ä»¶å’Œèµ„æºæ–‡ä»¶ï¼Œç‚¹å‡»UI Automator Viewerèœå•æ ç¬¬ä¸€ä¸ªå›¾æ ‡æ‰‹å·¥å¯¼å…¥åå³å¯è§£æï¼Œåˆ†æUI è·å–å¿«ç…§ å½“ä½ è¦åˆ†æä¸€ä¸ªé¡µé¢æ—¶ï¼Œé¦–å…ˆå°†æ‰‹æœºçš„é¡µé¢åœç•™åœ¨ä½ è¦åˆ†æçš„é¡µé¢ï¼Œç„¶åç”¨æ•°æ®çº¿è¿æ¥ç”µè„‘ã€‚ é¡µé¢å±‚çº§ å³ä¸Šæ–¹çš„æ•´ä¸ªåŒºåŸŸï¼Œå°±æ˜¯å½“å‰é¡µé¢å¸ƒå±€çš„å±‚çº§å…³ç³» ä¸å¯ç”¨åŒºåŸŸ å³ä¸Šæ–¹çš„æ•´ä¸ªåŒºåŸŸä¸­çš„ç¬¬äºŒä¸ªæŒ‰é’®Toggle NAF Nodesï¼ŒæŒ‰ä¸‹åå‡ºç°çš„é»„è‰²åŒºåŸŸä»£è¡¨ï¼Œè¿™äº›æ§ä»¶æ˜¯ä¸è¢«Uiautomatorå·¥å…·è¯†åˆ«ï¼Œæ— æ³•è·å–åˆ°è¿™äº›æ§ä»¶çš„å®ä¾‹ å±æ€§è¯¦æƒ…ï¼š å³ä¸‹æ–¹çš„æ•´ä¸ªåŒºåŸŸï¼Œæ˜¯å½“å‰é€‰ä¸­çš„é¡µé¢æˆ–è€…æ˜¯æ§ä»¶çš„å±æ€§ä¿¡æ¯ã€‚å†™ä»£ç çš„æ—¶å€™å°±æ˜¯éœ€è¦é€šè¿‡æŸ¥çœ‹å±æ€§ä¸­çš„æ§ä»¶çš„idæˆ–è€…æ˜¯textç­‰æ¥è·å–æ§ä»¶çš„å®ä¾‹ï¼Œç„¶åç‚¹å‡»æ“ä½œå®ƒã€‚ ç¼–å†™è„šæœ¬ åˆ›å»ºé¡¹ç›®ï¼šåˆ›å»ºæ–°çš„Javaé¡¹ç›®(æ³¨æ„ä¸æ˜¯Androidé¡¹ç›®)ã€‚åœ¨è¯¥é¡¹ç›®ä¸­æ¥åˆ›å»ºæµ‹è¯•ä»£ç ã€‚ å¯¼å…¥åº“å’ŒåŒ…ï¼šåœ¨Project Explorerè§†å›¾ä¸­ï¼Œå³é”®ç‚¹å‡»æµ‹è¯•é¡¹ç›®ï¼Œé€‰æ‹©â€œ Properties &gt; Java Build Pathâ€ï¼Œç„¶åé€‰æ‹©â€œLibrariesâ€ tabç•Œé¢ã€‚åœ¨â€œLibrariesâ€ç•Œé¢é€‰æ‹©â€œ Add Library &gt; JUnitâ€æ¥æ·»åŠ JUnit3 åº“ï¼›ç„¶åç‚¹å‡»â€œAdd External JARsâ€¦ â€å¹¶å¯¼èˆªåˆ°Android SDKç›®å½•ã€‚é€‰æ‹©platformsç›®å½•ä¸‹é¢çš„ uiautomator.jar å’Œ android.jaræ–‡ä»¶ã€‚ uiautomatorviewer uiautomatorviewerè¯¦è§£ã€è„šæœ¬ä»‹ç» è¸©å‘è®°å½• æŠ¥é”™adb devices: list of devices attached unauthorized è®¾ç½®-&gt;æ›´å¤šè®¾ç½®-&gt;å¼€å‘è€…é€‰é¡¹-&gt;æ’¤é”€USBè°ƒè¯•æˆæƒ-&gt;é‡æ–°æˆæƒå³å¯ offline 12$ adb kill server$ adb start server â–². AC-&gt;Activity coverageã€WC-&gt;Widget coverage å¼€å‘è€…æµ‹è¯• åŒæ ·éœ€è¦é…ç½®Java sdkå’ŒAndriod SDKç¯å¢ƒ,é™¤æ­¤ä¹‹å¤–è¿˜éœ€è¦é…ç½®maven é…ç½®maven 1.åœ¨mavenå®˜ç½‘ä¸‹è½½ apache-maven-3.6.2-bin.zipåè§£å‹,æ ¹æ®è§†é¢‘é…ç½®å¥½maven 2.å‘ç°æœ€åˆå®‰è£…eclipseæ—¶æ²¡æœ‰å®‰è£…maven,äºæ˜¯å®‰è£…maven.èœå•â€“&gt;windwosâ€“&gt;install new softwareâ€“&gt;è¾“å…¥ http://download.eclipse.org/technology/m2e/milestones/1.4åå›è½¦ ç¯å¢ƒé…ç½®å¥½å,æµ‹è¯•ä¸€ä¸‹ branchscoreæ˜¯ä¸»è¦è¯„åˆ†è§„åˆ™ å˜å¼‚å¾—åˆ†æ— æ³•å®æ—¶æŸ¥çœ‹ï¼Œä½¿ç”¨é€‰æ‰‹æœ€åä¸€æ¬¡çš„æäº¤è„šæœ¬ç»Ÿä¸€è¿è¡Œ Junitä½¿ç”¨ DEMOå‘ç‚¹è®°å½•: 1.JUnit4å’ŒJRE1.7é…å¥—ä½¿ç”¨,Junit5éœ€è¦8ä»¥ä¸Šã€‚è€ŒJUnit4å’ŒJUnit5éƒ½ä¸æ”¯æŒJRE11ï¼Œæ‰€ä»¥å½“æ—¶æˆ‘çš„æŠ¥é”™æ˜¯The import org.apache cannot be resolved. 2.å³é”®é¡¹ç›®-&gt;build path -&gt; Config build path -&gt; Librariesåè¿˜æ˜¯æŠ¥é”™,java.lang.NoClassDefFoundError: org/junit/runner/manipulation/Filterâ€¦è§£å†³æ–¹æ³•æ˜¯:â‘ èœå•æ -&gt;projects-&gt;cleanâ‘¡build path -&gt; Config build path -&gt; Libraries-&gt;removeé‡æ–°å¯¼å…¥Junitâ‘¢è¿è¡ŒOK ç¼–å†™è§„èŒƒ 1.æµ‹è¯•æ–¹æ³•ä¸Šå¿…é¡»ä½¿ç”¨@Testè¿›è¡Œä¿®é¥° 2.æµ‹è¯•æ–¹æ³•å¿…é¡»ä½¿ç”¨public void è¿›è¡Œä¿®é¥°ï¼Œä¸èƒ½å¸¦ä»»ä½•çš„å‚æ•° 3.æ–°å»ºä¸€ä¸ªæºä»£ç ç›®å½•æ¥å­˜æ”¾æˆ‘ä»¬çš„æµ‹è¯•ä»£ç  4.æµ‹è¯•ç±»çš„åŒ…åº”è¯¥å’Œè¢«æµ‹è¯•ç±»ä¿æŒä¸€è‡´ 5.æµ‹è¯•å•å…ƒä¸­çš„æ¯ä¸ªæ–¹æ³•å¿…é¡»å¯ä»¥ç‹¬ç«‹æµ‹è¯•ï¼Œæµ‹è¯•æ–¹æ³•é—´ä¸èƒ½æœ‰ä»»ä½•çš„ä¾èµ– 6.æµ‹è¯•ç±»ä½¿ç”¨Testä½œä¸ºç±»åçš„åç¼€ï¼ˆä¸æ˜¯å¿…é¡»ï¼‰ 7.æµ‹è¯•æ–¹æ³•ä½¿ç”¨testä½œä¸ºæ–¹æ³•åçš„å‰ç¼€ï¼ˆä¸æ˜Ÿå¿…é¡»ï¼‰| è¿è¡Œæµç¨‹ 1.@BeforeClassä¿®é¥°çš„æ–¹æ³•ä¼šåœ¨æ‰€æœ‰æ–¹æ³•è¢«è°ƒç”¨å‰è¢«æ‰§è¡Œï¼Œè€Œä¸”è¯¥æ–¹æ³•æ˜¯é™æ€çš„ï¼Œæ‰€ä»¥å½“æµ‹è¯•ç±»è¢«åŠ è½½åæ¥ç€å°±ä¼šè¿è¡Œå®ƒï¼Œè€Œä¸”åœ¨å†…å­˜ä¸­å®ƒåªä¼šå­˜åœ¨ä¸€ä»½å®ä¾‹ï¼Œå®ƒæ¯”è¾ƒé€‚åˆåŠ è½½é…ç½®æ–‡ä»¶ã€‚ 2.@AfterClassæ‰€ä¿®é¥°çš„æ–¹æ³•é€šå¸¸ç”¨æ¥å¯¹èµ„æºçš„æ¸…ç†ï¼Œå¦‚å…³é—­æ•°æ®åº“çš„è¿æ¥ 3.@Beforeå’Œ@Afterä¼šåœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•å³(@Testä¿®é¥°çš„æ–¹æ³•å‡½æ•°)çš„å‰åå„æ‰§è¡Œä¸€æ¬¡ã€‚ @Testï¼šå°†ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•ä¿®é¥°æˆä¸ºä¸€ä¸ªæµ‹è¯•æ–¹æ³• @Testï¼ˆexpected=XX.classï¼‰ 12345@Test(expected=ArithmeticException.class)private void divided() &#123; // TODO Auto-generated method stub assertEquals(0, new calculate().divide(6, 0));&#125; @Testï¼ˆtimeout=æ¯«ç§’ï¼‰ @BeforeClassï¼šå®ƒä¼šåœ¨æ‰€æœ‰çš„æ–¹æ³•è¿è¡Œå‰è¢«æ‰§è¡Œï¼Œstaticä¿®é¥° @AfterClassï¼šå®ƒä¼šåœ¨æ‰€æœ‰çš„æ–¹æ³•è¿è¡Œç»“æŸåè¢«æ‰§è¡Œï¼Œstaticä¿®é¥° @Beforeï¼šä¼šåœ¨æ¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•è¢«è¿è¡Œå‰æ‰§è¡Œä¸€æ¬¡ @Afterï¼šä¼šåœ¨æ¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•è¿è¡Œåè¢«æ‰§è¡Œä¸€æ¬¡ @lgnoreï¼šæ‰€ä¿®é¥°çš„æµ‹è¯•æ–¹æ³•ä¼šè¢«æµ‹è¯•è¿è¡Œå™¨å¿½ç•¥ @RunWithï¼šå¯ä»¥æ›´æ”¹æµ‹è¯•è¿è¡Œå™¨org.junit.runner.Runner æµ‹è¯•å¥—ä»¶ 1.æµ‹è¯•å¥—ä»¶å°±æ˜¯ç»„ç»‡æµ‹è¯•ç±»ä¸€èµ·è¿è¡Œçš„ å†™ä¸€ä¸ªä½œä¸ºæµ‹è¯•å¥—ä»¶çš„å…¥å£ç±»ï¼Œè¿™ä¸ªç±»é‡Œä¸åŒ…å«å…¶ä»–çš„æ–¹æ³• æ›´æ”¹æµ‹è¯•è¿è¡Œå™¨Suite.class å°†è¦æµ‹è¯•çš„ç±»ä½œä¸ºæ•°ç»„ä¼ å…¥åˆ°Suite.SuiteClassesï¼ˆ0ï¼‰ 12345678910111213141516171819202122/** * Project Name:softTest * File Name:SuiteTest.java * Package Name:com.test.demo * Date:2019å¹´9æœˆ15æ—¥ä¸‹åˆ1:57:13 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ package com.test.demo;import static org.junit.Assert.*;import org.junit.Test;import org.junit.runner.RunWith;import org.junit.runners.Suite;import org.junit.runners.Suite.SuiteClasses;@RunWith(Suite.class)@Suite.SuiteClasses(&#123;calculateTest.class&#125;)public class SuiteTest &#123;&#125; å‚æ•°åŒ–è®¾ç½® 1.æ›´æ”¹é»˜è®¤çš„æµ‹è¯•è¿è¡Œå™¨ä¸ºRunWithï¼ˆParameterized.classï¼‰ 2.å£°æ˜å˜é‡æ¥å­˜æ”¾é¢„æœŸå€¼å’Œç»“æœå€¼ 3.å£°æ˜ä¸€ä¸ªè¿”å›å€¼ä¸ºCollectionçš„å…¬å…±é™æ€æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨@Parametersè¿›è¡Œä¿®é¥° 4.ä¸ºæµ‹è¯•ç±»å£°æ˜ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„å…¬å…±æ„é€ å‡½æ•°ï¼Œå¹¶åœ¨å…¶ä¸­ä¸ºä¹‹å£°æ˜å˜é‡èµ‹å€¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * Project Name:softTest * File Name:parameterTest.java * Package Name:com.test.demo * Date:2019å¹´9æœˆ15æ—¥ä¸‹åˆ2:06:38 * Copyright (c) 2019, chenzhou1025@126.com All Rights Reserved. * */ package com.test.demo;import static org.junit.Assert.assertEquals;import java.util.Arrays;import java.util.Collection;import org.junit.Test;import org.junit.runner.RunWith;import org.junit.runners.Parameterized;import org.junit.runners.Parameterized.Parameters;@RunWith(Parameterized.class)public class parameterTest &#123; private int expected = 0; private int input1 = 0; private int input2 = 0; @Parameters // ç»™æ„é€ å‡½æ•°èµ‹å€¼çš„æ—¶å€™è¢«è°ƒç”¨çš„ public static Collection&lt;Object[]&gt; t() &#123; return Arrays.asList(new Object[][] &#123; &#123;3,1,2&#125;, &#123;4,2,2&#125;, &#125;); &#125; public parameterTest(int expected, int input1, int input2) &#123; this.expected = expected; this.input1 = input1; this.input2 = input2; &#125; @Test public void testAdd() &#123; assertEquals(expected, new calculate().add(input1, input2)); &#125;&#125; æ³¨æ„ç‚¹ï¼š å®šä½æ§ä»¶çš„å‚æ•°é€‰æ‹©è¦æ±‚ï¼š å¯¹è„šæœ¬æ§ä»¶å®šä½å‚æ•°çš„é€‰æ‹©è¦è¿½æ±‚åœ¨è¦æ±‚èŒƒå›´å†…çš„å”¯ä¸€æ€§ï¼š å‚æ•°é€‰æ‹©ä¼˜å…ˆçº§ï¼šæ§ä»¶ Resource-id (driver.findElementById())&gt; æ§ä»¶ XPath(driver.findElementByXPath()) idä¸¾ä¾‹ï¼šcom.floral.life:id/tv_title Xpathä¸¾ä¾‹ï¼š//android.widget.TextView[@text='é²œåˆ‡èŠ± ']ï¼Œâ–².(æ­¤å¤„â€™é²œåˆ‡èŠ± 'çš„èŠ±å­—åé¢è¿˜æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œæ‰€ä»¥ä¸è¦è‡ªå·±è¾“å…¥å±æ€§å€¼ï¼Œåº”è¯¥ç›´æ¥æŠŠåœ¨ UI Automator Viewer ä¸­çš„å€¼ç›´æ¥æ‹·è´åˆ°ä»£ç ä¸­å»)ã€‚ Xpathé€‰æ‹©æ—¶ï¼Œé¦–è¦é€‰æ‹© textã€content-desc è¿™ç§ç‰¹æ®Šæ€§è¾ƒå¼ºçš„å±æ€§å€¼ï¼Œä¸è¦é€‰æ‹© indexã€bounds è¿™ç§å¤šä¸ªæ§ä»¶ææ˜“ç›¸åŒ(å³æœªæ»¡è¶³å…¨å±€å”¯ä¸€)çš„å±æ€§å€¼ã€‚ è„šæœ¬ä¸­ä½¿ç”¨ XPath è¿›è¡Œå®šä½æ—¶ï¼ŒåŠ¡å¿…ä¸è„šæœ¬ç¼–å†™è¦æ±‚ä¸­çš„ XPath æ ¼å¼å®Œå…¨ä¸€è‡´ï¼Œå³//æ§ä»¶ç±»å[@æ§ä»¶å±æ€§å='æ§ä»¶å±æ€§å€¼']ä¸è¦ä½¿ç”¨//*[@æ§ä»¶å±æ€§å='æ§ä»¶å±æ€§å€¼']ç­‰ä¸€ç³»åˆ—å…¶ä»–æ ¼å¼ è„šæœ¬ä¸­ä¸è¦ä½¿ç”¨ driver.findElementsByxxx()ä¸€ç±»çš„æ–¹æ³•ï¼Œä¸è¦ç”¨è¯¥æ–¹æ³• å®šä½å¤šä¸ªæ§ä»¶å¾—åˆ°ä¸€ä¸ª list å†å¾ªç¯æ¥æ“ä½œ list ä¸­æ§ä»¶(é™¤éè¯¥æ§ä»¶çš„ XPathéƒ½ä¸èƒ½æ»¡è¶³åœ¨æµ‹è¯•èŒƒå›´å†…çš„å…¨å±€å”¯ä¸€)ã€‚ è„šæœ¬ä¸­å…è®¸è‡ªå®šä¹‰å‡½æ•°ï¼Œä½†å¯¹äº driver.findElementById()è¿™ç±»åŸç”Ÿæ–¹æ³•ï¼Œä¸è¦è¿›è¡Œå°è£…ã€‚ é€»è¾‘ä¸Šæ˜¯ä¸€å¥è¯çš„ä»£ç åŠ¡å¿…å†™åœ¨ä¸€è¡Œå†…ï¼Œä¸è¦åœ¨å‡½æ•°çš„å‚æ•°å¤„æ¢è¡Œã€‚ ç¼–ç¨‹å»ºè®®: å¿…é¡»ä½¿ç”¨æ–­è¨€ ç¡®è®¤æœ€åæäº¤çš„æµ‹è¯•ç”¨ä¾‹å…¨éƒ¨æ­£ç¡®ï¼Œ Webideæˆ–è€…å®¢æˆ·ç«¯èƒ½è¿è¡Œå¾—åˆ† ä½¿ç”¨setup()å’Œteardown()æ–¹æ³•è¿›è¡Œç¯å¢ƒåˆå§‹åŒ– ä½¿ç”¨timeouté™åˆ¶æµ‹è¯•ç”¨ä¾‹è¿è¡Œæ—¶é—´ï¼Œé¿å…æµ‹è¯•ç”¨ä¾‹å‡ºç°æ— å“åº”æƒ…å†µ Evosuiteç”Ÿæˆçš„æ•è·å¼‚å¸¸çš„è‡ªåŠ¨æµ‹è¯•ç”¨ä¾‹ï¼Œå¯èƒ½å¯¼è‡´å˜å¼‚æ— æ³•è·‘é€šï¼Œ å­¦ç”Ÿè‡ªå·±æ³¨æ„ æµ‹è¯•ç‚¹æ³¨æ„äº‹é¡¹: å¯¹doubleç±»å‹è¿›è¡Œåˆ¤æ–­ 123456@Testpublic void test()&#123; double a = 1.0; assertEquals(1.0,a,0.00001) // bingo //assertEquals(1.0,a,0.00001) wrong&#125; å¯¹æ§åˆ¶å°è¾“å‡ºè¿›è¡Œæµ‹è¯• 12345678910111213141516171819202122232425262728293031323334import static org.junit.Assert.*;public class BinPackageTest&#123; String sepï¼› BinPackage bpï¼› PrintStream console=nullï¼› ByteArray InputStream in=nullï¼› ByteArrayOutputStream out=nullï¼› InputStream input=nullï¼›@Beforepublic void setUp()throws Exception &#123; bp=new BinPackage()ï¼› out=new ByteArrayoutputstream()ï¼› input=System.inï¼› console=System.outï¼› System.setout(new PrintStream(out))ï¼› sep=System.getProperty(\"line.separator\")ï¼›&#125; @Afterpublic void tearDown()throws Exception &#123; System.setIn(input)ï¼› out.close()ï¼› System.setout(console)ï¼›&#125;@Test(timeout=4000) public void test1()&#123; in=new ByteArrayInputStream((\"2\"+sep+\"12\"tsep +\"3\"+sep+\"211\"+sep+\"222\"+sep+\"232\").getBytes())ï¼› System.setIn(in)ï¼› bp.entrance()ï¼› string ans=out.tostring()ï¼› assertEquals(\"false\"+ sep+\"true\"+sep+\"22\"+sep+\"false\"+sepï¼Œans)ï¼›&#125; å¯¹å¼‚å¸¸æŠ¥é”™è¿›è¡Œæµ‹è¯• 1234567891011121314151617181920212223import static org.junit.Assert.*;import org.junit.Rule;import org.junit.Test;import org.junit.rules.ExpectedException;public class AccountTest&#123; private static final double DOUBLE_DELTA=1e-15; @Rule public ExpectedException thrown=ExpectedException.none(); @Test(timeout=4000) public void test1()&#123; Bank bank=new Bank(); Account checkingAccount=new Account(Account.CHECKING); Customer bill=new Customer(\"Bi11\").openAccount(checkingAccount); bank.addCustomer(bil1); thrown.expect(I1legalArgumentException.class); thrown.expectMessage(\"amount must be greater than zero\"); checkingAccount.withdraw(-100.e); &#125;&#125; Nextday å‚æ•°åŒ–å•å…ƒæµ‹è¯•(æµ‹è¯•ç”¨ä¾‹)è®¾è®¡ é™„å½• æ›´æ–°mooctestæ’ä»¶ï¼šmooctest.net_plugin åœ¨å®˜ç½‘ä¸‹è½½æœ€æ–°çš„æ’ä»¶mooctest.net_plugin.zipåè§£å‹ï¼Œç„¶åæ‰“å¼€eclipseä¸­çš„Help-&gt;Install new software-&gt;add-&gt;local-&gt;é€‰æ‹©è§£å‹æ–‡ä»¶å¤¹ï¼Œå®‰è£…å³å¯ adb unauthorized 1.ä½¿ç”¨adbè¿æ¥æ‰‹æœºæ—¶ï¼Œå³ä½¿æ‰“å¼€äº†usbè°ƒè¯•ï¼Œæ‰‹æœºæ·»åŠ äº†ä¿¡ä»»ï¼Œä»ç„¶å‡ºç°unauthorizedçš„æç¤º 2.C:\\Users\\(Username)\\.androidé‡Œé¢åˆ æ‰adbkeyå’Œadbkey.pubä¸¤ä¸ªæ–‡ä»¶(æ²¡æ·»åŠ è¿‡ä¿¡ä»»çš„è¯æ˜¯æ²¡æœ‰çš„)ï¼Œç„¶åé‡æ–°æ’æ‹”æ‰‹æœº æ‰§è¡Œï¼š 12adb kill-serveradb start-server â–³å¦‚æœä¸Šè¿°æ–¹å¼è¿˜æ˜¯æ— æ•ˆçš„è¯ï¼Œé€‰æ‹©â€œå¼€å‘è€…æµ‹è¯•â€-&gt;&quot;è°ƒè¯•&quot;ä¸­çš„æ’¤é”€USBè°ƒè¯•æˆæƒï¼Œç„¶åé‡æ–°ä¸Šè¿°æ“ä½œ","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"},{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"è½¯ä»¶æµ‹è¯•","slug":"è½¯ä»¶æµ‹è¯•","permalink":"https://nymrli.top/tags/è½¯ä»¶æµ‹è¯•/"}]},{"title":"Javaè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·â€”â€”Maven","slug":"Javaè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·â€”â€”Maven","date":"2019-09-13T03:45:50.000Z","updated":"2021-12-30T08:29:58.077Z","comments":true,"path":"2019/09/13/Javaè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·â€”â€”Maven/","link":"","permalink":"https://nymrli.top/2019/09/13/Javaè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·â€”â€”Maven/","excerpt":"","text":"Javaè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·â€”â€”Maven ç›®å‰çš„æŠ€æœ¯åœ¨å¼€å‘ä¸­å­˜åœ¨çš„é—®é¢˜ã€Mavenä½œç”¨ â‘ ä¸€ä¸ªé¡¹ç›®å°±æ˜¯ä¸€ä¸ªå·¥ç¨‹ å¦‚æœé¡¹ç›®éå¸¸åºå¤§ï¼Œå°±ä¸é€‚åˆç»§ç»­ä½¿ç”¨packageæ¥åˆ’åˆ†æ¨¡å—ã€‚æœ€å¥½æ˜¯æ¯ä¸€ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªå·¥ç¨‹ï¼Œåˆ©äºåˆ†å·¥åä½œã€‚ â–³å€ŸåŠ©äºMavenå°±å¯ä»¥å°†ä¸€ä¸ªé¡¹ç›®æ‹†åˆ†æˆå¤šä¸ªå·¥ç¨‹ã€‚ â‘¡é¡¹ç›®ä¸­éœ€è¦çš„jaråŒ…å¿…é¡»æ‰‹åŠ¨â€œå¤åˆ¶â€ã€â€œç²˜è´´â€åˆ°WEB-INF/libç›®å½•ä¸‹ å¸¦æ¥çš„é—®é¢˜æ˜¯ï¼šåŒæ ·çš„jaråŒ…æ–‡ä»¶é‡å¤å‡ºç°åœ¨ä¸åŒçš„é¡¹ç›®å·¥ç¨‹ä¸­ï¼Œä¸€æ–¹é¢æµªè´¹å­˜å‚¨ç©ºé—´ï¼Œå¦å¤–ä¹Ÿè®©å·¥ç¨‹æ¯”è¾ƒè‡ƒè‚¿ã€‚ â–³å€ŸåŠ©Mavenï¼Œå¯ä»¥å°†jaråŒ…ä»…ä»…ä¿å­˜åœ¨â€œä»“åº“â€ä¸­ï¼Œæœ‰éœ€è¦ä½¿ç”¨çš„å·¥ç¨‹â€œå¼•ç”¨â€è¿™ä¸ªæ–‡ä»¶æ¥å£ï¼Œå¹¶ä¸éœ€è¦çœŸçš„æŠŠjaråŒ…å¤åˆ¶è¿‡æ¥ã€‚ â‘¢jaråŒ…éœ€è¦åˆ«äººæ›¿æˆ‘ä»¬å‡†å¤‡å¥½ï¼Œæˆ–åˆ°å®˜ç½‘ä¸‹è½½ ä¸åŒæŠ€æœ¯çš„å®˜ç½‘æä¾›jaråŒ…ä¸‹è½½çš„å½¢å¼æ˜¯äº”èŠ±å…«é—¨çš„ã€‚ æœ‰äº›æŠ€æœ¯çš„å®˜ç½‘å°±æ˜¯é€šè¿‡Mavenæˆ–SVNç­‰ä¸“é—¨çš„å·¥å…·æ¥æä¾›ä¸‹è½½çš„ã€‚ å¦‚æœæ˜¯ä»¥ä¸è§„èŒƒçš„æ–¹å¼ä¸‹è½½çš„jaråŒ…ï¼Œé‚£ä¹ˆå…¶ä¸­çš„å†…å®¹å¾ˆå¯èƒ½ä¹Ÿæ˜¯ä¸è§„èŒƒçš„ã€‚ â–³å€ŸåŠ©äºMavenå¯ä»¥ä»¥ä¸€ç§è§„èŒƒçš„æ–¹å¼ä¸‹è½½jaråŒ…ã€‚å› ä¸ºæ‰€æœ‰çŸ¥åæ¡†æ¶æˆ–ç¬¬ä¸‰æ–¹å·¥å…·çš„jaråŒ…ä»¥åŠæŒ‰ç…§ç»Ÿä¸€çš„è§„èŒƒå­˜æ”¾åœ¨äº†Mavençš„ä¸­å¤®ä»“åº“ä¸­ã€‚ ä»¥è§„èŒƒçš„æ–¹å¼ä¸‹è½½çš„jaråŒ…ï¼Œå†…å®¹ä¹Ÿæ˜¯å¯é çš„ã€‚ â‘£ä¸€ä¸ªjaråŒ…ä¾èµ–çš„å…¶ä»–jaråŒ…éœ€è¦è‡ªå·±æ‰‹åŠ¨åŠ å…¥åˆ°é¡¹ç›®ä¸­ FileUploadç»„ä»¶â†’IOç»„ä»¶ã€‚commons-fileupload-1.3.jarä¾èµ–äºcommons-io-2.0.1.jarã€‚å¦‚æœæ‰€æœ‰jaråŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»éƒ½éœ€è¦ç¨‹åºå‘˜è‡ªå·±éå¸¸æ¸…æ¥šçš„äº†è§£ï¼Œé‚£ä¹ˆå°±ä¼šæå¤§çš„å¢åŠ å­¦ä¹ æˆæœ¬ã€‚ â–³Mavenä¼šè‡ªåŠ¨å°†è¢«ä¾èµ–çš„jaråŒ…å¯¼å…¥è¿›æ¥ã€‚ Mavenæ˜¯ä»€ä¹ˆ[What] â‘ Mavenæ˜¯ä¸€æ¬¾æœåŠ¡äºJavaå¹³å°çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ã€‚ Makeâ†’Antâ†’Mavenâ†’Gradleå¦¹æ–‡ã€éº¦æ–‡ â‘¡æ„å»º [1]æ¦‚å¿µï¼šä»¥&quot;avaæºæ–‡ä»¶â€ã€â€œæ¡†æ¶é…ç½®æ–‡ä»¶â€ã€&quot;JSPâ€ã€â€œHTMLâ€ã€â€œå›¾ç‰‡â€ç­‰èµ„æºä¸ºâ€œåŸææ–™â€ï¼Œå»â€œç”Ÿäº§â€ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„é¡¹ç›®çš„è¿‡ç¨‹ã€‚ ç¼–è¯‘ éƒ¨ç½² æ­å»º [2]ç¼–è¯‘ï¼šJavaæºæ–‡ä»¶[User.java]â†’ç¼–è¯‘â†’Classå­—èŠ‚ç æ–‡ä»¶[User.class]â†’äº¤ç»™JVMå»æ‰§è¡Œ [3]éƒ¨ç½²ï¼šä¸€ä¸ªBSé¡¹ç›®æœ€ç»ˆè¿è¡Œçš„å¹¶ä¸æ˜¯åŠ¨æ€Webå·¥ç¨‹æœ¬èº«ï¼Œè€Œæ˜¯è¿™ä¸ªåŠ¨æ€Webå·¥ç¨‹â€œç¼–è¯‘çš„ç»“æœ&quot; ç”Ÿçš„é¸¡â†’å¤„ç†ä¸€ç†Ÿçš„é¸¡ åŠ¨æ€Webå·¥ç¨‹â†’ç¼–è¯‘ã€éƒ¨ç½²â†’ç¼–è¯‘ç»“æœ æ„å»ºè¿‡ç¨‹ä¸­çš„å„ä¸ªç¯èŠ‚ [1]æ¸…ç†ï¼šå°†ä»¥å‰ç¼–è¯‘å¾—åˆ°çš„æ—§çš„classå­—èŠ‚ç æ–‡ä»¶åˆ é™¤ï¼Œä¸ºä¸‹ä¸€æ¬¡ç¼–è¯‘åšå‡†å¤‡ [2]ç¼–è¯‘ï¼šå°†Javaæºç¨‹åºç¼–ç¨‹æˆclasså­—èŠ‚ç æ–‡ä»¶ [3]æµ‹è¯•ï¼šè‡ªåŠ¨æµ‹è¯•ï¼Œè‡ªåŠ¨è°ƒç”¨junitç¨‹åº [4]æŠ¥å‘Šï¼šæµ‹è¯•ç¨‹åºæ‰§è¡Œçš„ç»“æœ [5]æ‰“åŒ…ï¼šåŠ¨æ€Webå·¥ç¨‹æ‰“waråŒ…ï¼ŒJavaå·¥ç¨‹æ‰“jaråŒ… [6]å®‰è£…ï¼šMavenç‰¹å®šçš„æ¦‚å¿µâ€”â€”å°†æ‰“åŒ…å¾—åˆ°çš„æ–‡ä»¶å¤åˆ¶åˆ°â€œä»“åº“â€ä¸­çš„æŒ‡å®šä½ç½® [7]éƒ¨ç½²ï¼šå°†åŠ¨æ€Webå·¥ç¨‹ç”Ÿæˆçš„waråŒ…å¤åˆ¶åˆ°Servletå®¹å™¨çš„æŒ‡å®šç›®å½•ä¸‹ï¼Œä½¿å…¶å¯ä»¥è¿è¡Œ å¸¸ç”¨Mavenå‘½ä»¤ â‘ æ³¨æ„ï¼šæ‰§è¡Œä¸æ„å»ºè¿‡ç¨‹ç›¸å…³çš„Mavenå‘½ä»¤ï¼Œå¿…é¡»è¿›å…¥pom.xmlæ‰€åœ¨çš„ç›®å½•ã€‚ ä¸æ„å»ºè¿‡ç¨‹ç›¸å…³ï¼šç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€â€¦â€¦ â‘¡å¸¸ç”¨å‘½ä»¤ [1]mvn cleanï¼šæ¸…ç† [2]mvn compileï¼šç¼–è¯‘ä¸»ç¨‹åº [3]mvn test-compileï¼šç¼–è¯‘æµ‹è¯•ç¨‹åº [4]mvn testï¼šæ‰§è¡Œæµ‹è¯• [5]mvn packageï¼šæ‰“åŒ… è”ç½‘é—®é¢˜ â‘ Mavençš„æ ¸å¿ƒç¨‹åºä¸­ä»…ä»…å®šä¹‰äº†æŠ½è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯å…·ä½“çš„å·¥ä½œå¿…é¡»ç”±ç‰¹å®šçš„æ’ä»¶æ¥å®Œæˆã€‚è€Œæ’ä»¶æœ¬èº«å¹¶ä¸åŒ…å«åœ¨Mavençš„æ ¸å¿ƒç¨‹åºä¸­ã€‚ â‘¡å½“æˆ‘ä»¬æ‰§è¡Œçš„Mavenå‘½ä»¤éœ€è¦ç”¨åˆ°æŸäº›æ’ä»¶æ—¶ï¼ŒMavenæ ¸å¿ƒç¨‹åºä¼šé¦–å…ˆåˆ°æœ¬åœ°ä»“åº“ä¸­æŸ¥æ‰¾ã€‚ â‘¢æœ¬åœ°ä»“åº“çš„é»˜è®¤ä½ç½®ï¼š[ç³»ç»Ÿä¸­å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•]/.m2/repository å¦‚C:/Users/[ç™»å½•å½“å‰ç³»ç»Ÿçš„ç”¨æˆ·å]/.m2/repository â‘£Mavenæ ¸å¿ƒç¨‹åºå¦‚æœåœ¨æœ¬åœ°ä»“åº“ä¸­æ‰¾ä¸åˆ°éœ€è¦çš„æ’ä»¶ï¼Œé‚£ä¹ˆå®ƒä¼šè‡ªåŠ¨è¿æ¥å¤–ç½‘ï¼Œåˆ°ä¸­å¤®ä»“åº“ä¸‹è½½ã€‚ â‘¤å¦‚æœæ­¤æ—¶æ— æ³•è¿æ¥å¤–ç½‘ï¼Œåˆ™æ„å»ºå¤±è´¥ã€‚ â‘¥ä¿®æ”¹é»˜è®¤æœ¬åœ°ä»“åº“çš„ä½ç½®å¯ä»¥è®©Mavenæ ¸å¿ƒç¨‹åºåˆ°æˆ‘ä»¬äº‹å…ˆå‡†å¤‡å¥½çš„ç›®å½•ä¸‹æŸ¥æ‰¾æ’ä»¶ [1]æ‰¾åˆ°Mavenè§£å‹ç›®å½•/conf/settings.xml [2]åœ¨settings.xmlæ–‡ä»¶ä¸­æ‰¾åˆ°localRepositoryæ ‡ç­¾ [3]å°†&lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;ä»æ³¨é‡Šä¸­å–å‡ºE:/apache-maven-3.6.2/MavenRepo [4]å°†æ ‡ç­¾ä½“å†…å®¹ä¿®æ”¹ä¸ºå·²ç»å‡†å¤‡å¥½çš„Mavenä»“åº“ç›®å½• è¡¥å……: æ¢é•œåƒ,å¯ä»¥åœ¨settings.xmlçš„ç¬¬153è¡Œå·¦å³,è®¾ç½®é˜¿é‡Œäº‘é•œåƒ 123456&lt;mirror&gt; &lt;id&gt;aliyun&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;&lt;/mirror&gt; ä»‹ç»Mavençš„è§†é¢‘ å®å˜é‡ å·¥ç¨‹ç‰ˆæœ¬å· 12345&lt;dependency&gt; &lt;groupId&gt;top.nymrli.springcloud&lt;/groupId&gt; &lt;artifactId&gt;cloud-api-commons&lt;/artifactId&gt; &lt;version&gt;$&#123;project.version&#125;&lt;/version&gt;&lt;/dependency&gt; å±æ€§_ç‰ˆæœ¬å· 123456789101112131415161718192021222324 &lt;!--ç»Ÿä¸€ç®¡ç†jaråŒ…å’Œç‰ˆæœ¬--&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;junit.version&gt;4.12&lt;/junit.version&gt; &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt; &lt;lombok.version&gt;1.16.18&lt;/lombok.version&gt; &lt;mysql.version&gt;8.0.18&lt;/mysql.version&gt; &lt;druid.verison&gt;1.1.16&lt;/druid.verison&gt; &lt;mybatis.spring.boot.verison&gt;1.3.0&lt;/mybatis.spring.boot.verison&gt; &lt;/properties&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;$&#123;lombok.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt;&lt;!-- éœ€è¦æ³¨æ„çš„æ˜¯ $&#123;xxxx&#125;å¤§æ‹¬å·ä¸­ä¸æ”¯æŒç©ºæ ¼--!&gt; mavençš„ä¼ é€’ã€å†²çªã€èšåˆ ä¾èµ–ä¼ é€’ æœ‰ä¸‰ä¸ªé¡¹ç›®ï¼šABC 12345A| B|C Bæ˜¯ä¾èµ–Açš„ï¼ŒCåˆæ˜¯ä¾èµ–Bçš„ï¼Œæ‰€ä»¥ä¾èµ–ä¼ é€’ï¼ŒCä¹Ÿæ˜¯ä¾èµ–Açš„ A B é¡¹ç›®æ‰“æˆjaråŒ…åˆ°æœ¬åœ°ä»“åº“ä¸­ï¼š clean package(æ‰“æˆjaråŒ…) =&gt; installï¼ˆjaråŒ…å®‰è£…åˆ°æœ¬åœ°ä»“åº“ï¼‰ clean compile(ç¼–è¯‘) pom.xmlæ–‡ä»¶ä¸­çš„ä¾èµ–é…ç½® 12345678910111213Bæ˜¯ä¾èµ–Açš„ï¼Œåœ¨Bçš„pom.xmlæ–‡ä»¶ä¸­å†™å…¥Açš„åæ ‡ &lt;dependency&gt; &lt;groupId&gt;com.A&lt;/groupId&gt; &lt;artifactId&gt;A-model&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSNOTL&lt;/version&gt; &lt;/dependency&gt; ------------------------------------ Cæ˜¯ä¾èµ–Bçš„,åœ¨Cçš„pom.xmlæ–‡ä»¶ä¸­å†™å…¥Bçš„åæ ‡ &lt;dependency&gt; &lt;groupId&gt;com.B&lt;/groupId&gt; &lt;artifactId&gt;B-model&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSNOTL&lt;/version&gt; &lt;/dependency&gt; Aã€Bã€Cé¡¹ç›®å„è‡ªæ‰“åŒ…ã€ç¼–è¯‘ï¼Œåœ¨Cçš„é¡¹ç›®çš„Maven dependencieså¼•å…¥ä¸­ä¸ä»…ä¼šå¼•å…¥Bï¼Œè€Œä¸”è¿˜ä¼šå¼•å…¥Aé¡¹ç›®ï¼Œè¿™å°±æ˜¯ä¾èµ–çš„ä¼ é€’ã€‚ å¦‚æœé¡¹ç›®Cåªæƒ³ä¾èµ–Bï¼Œä¸æƒ³ä¾èµ–Aæ€ä¹ˆåŠï¼Ÿ æ’é™¤ä¾èµ–ï¼šexclusions 12345678&lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;com.A&lt;/groupId&gt; &lt;artifactId&gt;A-model&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSNOTL&lt;/version&gt; &lt;exclusion&gt;&lt;exclusions&gt; è¿™æ ·åœ¨Cé¡¹ç›®ç¼–è¯‘åcompileï¼Œå°±æ’å‡ºå¯¹Açš„ä¾èµ– Mavenä¾èµ–å†²çª åŸåˆ™1ï¼šçŸ­è·¯ä¼˜å…ˆï¼Œå¦‚æœAéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–Xï¼Œåœ¨è·¯å¾„ä¸­é€‰æ‹©æœ€çŸ­çš„ã€‚ åŸåˆ™2ï¼šåœ¨è·¯å¾„ç›¸åŒæ—¶ï¼Œå…ˆå£°æ˜å…ˆä¼˜å…ˆã€‚å¦‚æœAéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–Xï¼Œ1ã€2è·¯çº¿ç›¸åŒï¼Œåœ¨Aä¸­çš„pom.xmlå…ˆå£°æ˜Bï¼ˆCï¼‰ï¼Œå°±å¼•å…¥Bï¼ˆCï¼‰çš„X(jar)ã€‚ 1234567åœ¨ä¼ é€’ä¾èµ–çš„åŸåˆ™ä¸‹ï¼ŒA-&gt;B-&gt;C-&gt;X(jar) è·¯çº¿1 A-&gt;D-&gt;X(jar) è·¯çº¿2 --åŸåˆ™1ï¼šçŸ­è·¯ä¼˜å…ˆï¼Œå¦‚æœAéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–Xï¼Œåœ¨è·¯å¾„ä¸­é€‰æ‹©æœ€çŸ­çš„ã€‚ åœ¨ä¼ é€’ä¾èµ–çš„åŸåˆ™ä¸‹ï¼ŒA-&gt;B-&gt;X(jar) è·¯çº¿1 A-&gt;C-&gt;X(jar) è·¯çº¿2 --åŸåˆ™2ï¼šåœ¨è·¯å¾„ç›¸åŒæ—¶ï¼Œå…ˆå£°æ˜å…ˆä¼˜å…ˆã€‚å¦‚æœAéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–Xï¼Œ1ã€2è·¯çº¿ç›¸åŒï¼Œåœ¨Aä¸­çš„pom.xmlå…ˆå£°æ˜Bï¼ˆCï¼‰ï¼Œå°±å¼•å…¥Bï¼ˆCï¼‰çš„X(jar)ã€‚ Mavené¡¹ç›®çš„èšåˆ åœ¨Dé¡¹ç›®ä¸­èšåˆ ABCä¸‰ä¸ªé¡¹ç›®ï¼ŒDçš„pom.xmlæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º 12345678910 1. æŒ‡å®špackageæ ¼å¼&lt;package&gt;pom&lt;/package&gt; ...2. è®¾å®šå­æ¨¡å—å &lt;modules&gt; &lt;module&gt;../æ¨¡å—å&lt;/module&gt; &lt;module&gt;../æ¨¡å—å&lt;/module&gt; &lt;module&gt;../æ¨¡å—å&lt;/module&gt; &lt;/moules&gt;","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"}]},{"title":"æ‰“jaråŒ…å’Œä½¿ç”¨jaråŒ…","slug":"æ‰“jaråŒ…å’Œä½¿ç”¨jaråŒ…","date":"2019-09-13T03:45:11.000Z","updated":"2019-09-15T08:07:31.064Z","comments":true,"path":"2019/09/13/æ‰“jaråŒ…å’Œä½¿ç”¨jaråŒ…/","link":"","permalink":"https://nymrli.top/2019/09/13/æ‰“jaråŒ…å’Œä½¿ç”¨jaråŒ…/","excerpt":"","text":"æ‰“jaråŒ…å’Œä½¿ç”¨jaråŒ… ä¸€ã€ä¸ºä»€ä¹ˆè¦æ‰“jaråŒ… ç»™åˆ«äººç”¨çš„æ—¶å€™ä¸€èˆ¬ç»™åˆ«äººçš„æ˜¯classæ–‡ä»¶ã€‚å¦‚æœæœ‰å¾ˆå¤šç±»è¿™ä¹ˆåŠï¼ŸæŠŠç±»å˜æˆä¸€ä¸ªå‹ç¼©åŒ…ï¼windowsä¸‹çš„å‹ç¼©åŒ…æ˜¯.zipæ ¼å¼ç­‰ï¼Œè€Œeclipseå‹ç¼©åŒ…æ˜¯.jaræ ¼å¼ã€‚ äºŒã€å¦‚ä½•æŸ¥çœ‹jaråŒ… ç”¨è§£å‹ç¼©è½¯ä»¶è§£å‹å³å¯ã€‚å¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰å“ªäº›classæ–‡ä»¶ã€‚ ä¸‰ã€å¦‚ä½•å¼€å‘jaråŒ… å¼€å‘jaråŒ…çš„äººå‘˜å¼€å‘æµç¨‹ï¼š æ­¥éª¤1:ç¼–å†™ç±» 12345678//GetSum.javapackage cn.itcast.sum;public class GetSum&#123; public static getSum(int a,int b)&#123; return a+b; &#125;&#125; æ­¥éª¤2:æ‰“åŒ…æˆjaråŒ… åœ¨è¦å¯¼å‡ºçš„ç±»ä¸Š,å³é”®-&gt;Export-&gt;java -&gt; JAR file,ç„¶åé€‰æ‹©è·¯å¾„,å¦‚D:/sum.jar -&gt;å¯¼å‡ºã€‚ æ‰“å¼€jaråŒ…å¯ä»¥çœ‹åˆ°jaråŒ…ä¸­å«æœ‰classæ–‡ä»¶ã€‚ å››ã€å¦‚ä½•ä½¿ç”¨jaråŒ… å½“åˆ«äººå‘è¿‡æ¥ä¸€ä¸ªjaråŒ…(jaråŒ…é‡Œé¢æœ‰å¾ˆå¤šclassæ–‡ä»¶)åï¼Œæ¯”å¦‚ä¸Šé¢çš„sum.jaråŒ…ï¼Œå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ æœ‰ä¸¤ç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•ä¸€èˆ¬ä¸ç”¨ï¼Œå¤ªlowäº†ã€‚ ä½¿ç”¨æ–¹æ³•ä¸€ï¼šè¿™ä¸ªæ–¹æ³•å¤ªlowäº†ï¼Œä¸ç”¨ æ­¥éª¤1:ç¼–å†™Test.javaæ–‡ä»¶ 123456789//Test.javaimport cn.itcast.sum.*;//å…‰è®¾ç½®classpathçš„ç¯å¢ƒå˜é‡è¿˜æ˜¯ä¸å¤Ÿï¼Œè¿˜è¦å¯¼å…¥åŒ… public class Test&#123; public static void main(String[] args)&#123; int a = GetSum.getSum(1,2); System.out.println(); &#125;&#125; æ­¥éª¤2:åœ¨cmdçª—å£ä¸­ä½¿ç”¨ 123&gt;set classpath = D:/sum.jar; //è®¾ç½®ç¯å¢ƒå˜é‡ï¼ŒçŸ¥é“åœ¨å“ªé‡Œæ‰¾jaråŒ…ã€‚åªåœ¨å½“å‰çš„çª—å£æœ‰æ•ˆã€‚&gt;javac Test.java&gt;java Test ä½¿ç”¨æ–¹æ³•äºŒï¼šä¸€èˆ¬ä½¿ç”¨è¿™ä¸ªæ–¹æ³• æ­¥éª¤1:åœ¨å·¥ç¨‹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹libï¼šFile-&gt;New-&gt;Folder,æ–‡ä»¶ålibï¼Œå°†éœ€è¦ä½¿ç”¨çš„jaråŒ…å¤åˆ¶è¿›å»ï¼ˆctrl cã€ctrl vï¼‰ã€‚åœ¨å·¥ç¨‹ä¸Šå³é”®åˆ·æ–°å°±å¯ä»¥çœ‹åˆ°jaråŒ…äº† æ­¥éª¤2:åœ¨éœ€è¦ä½¿ç”¨çš„jaråŒ…ä¸Šï¼Œå³é”®-&gt;build path -&gt;Add to build Pathï¼Œå‘ç°å¤šäº†ä¸€ä¸ªå°å¥¶ç“¶ï½ æ­¥éª¤3:ç¼–å†™æµ‹è¯•ç±»Test.java 123456789//Test.javaimport cn.itcast.GetSum;//ä¸ç”¨è‡ªå·±å¯¼å…¥ã€‚å½“ä¸‹é¢è¾“å…¥GetSum.getSum()æ—¶å€™ï¼ŒæŒ‰Ctrl+Shift+oè‡ªåŠ¨è¾“å…¥åŒ…åã€‚public class Test&#123; public static void main(String[] args)&#123; int a = GetSum.getSum(1,2); //ç›´æ¥ä½¿ç”¨jaråŒ…ä¸‹é¢çš„classç±» System.out.println(); &#125;&#125; æ³¨æ„ï¼š é¼ æ ‡ç‚¹åˆ°getSum()ä¸Šï¼Œç„¶åæŒ‰F3ï¼Œæ˜¯çœ‹ä¸åˆ°æºç çš„ã€‚å‡ºç°ä¸‹é¢è¿™ç§ç•Œé¢ã€‚è¿™æ˜¯å› ä¸ºæºç ä¸åœ¨jdké‡Œé¢ã€‚ å¯ä»¥ç‚¹å‡»Attach SourceæŒ‰é’®ï¼Œç„¶åç‚¹å‡»&quot;External Fileâ€¦&quot;æˆ–è€…&quot;External Folder&quot;æ‰¾åˆ°jaråŒ…å¯¹åº”çš„æºç ã€‚ï¼ˆjaråŒ…ä¸­æœ‰classæ–‡ä»¶ï¼Œå¹¶ä¸æ˜¯æºç ã€‚ï¼‰","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://nymrli.top/tags/Java/"}]},{"title":"éªŒè¯ç è¯†åˆ«ç¨‹åºè®¾è®¡æµç¨‹","slug":"éªŒè¯ç è¯†åˆ«ç¨‹åºè®¾è®¡æµç¨‹","date":"2019-09-09T13:31:35.000Z","updated":"2019-10-07T10:17:04.838Z","comments":true,"path":"2019/09/09/éªŒè¯ç è¯†åˆ«ç¨‹åºè®¾è®¡æµç¨‹/","link":"","permalink":"https://nymrli.top/2019/09/09/éªŒè¯ç è¯†åˆ«ç¨‹åºè®¾è®¡æµç¨‹/","excerpt":"","text":"éªŒè¯ç è¯†åˆ«ç¨‹åºè®¾è®¡æµç¨‹ ä»¥å—é‚®æ­£æ–¹æ•™åŠ¡ç³»ç»Ÿä¸ºä¾‹ æ‰¾åˆ°éªŒè¯ç å›¾ç‰‡çš„é“¾æ¥ â€œhttp://jwxt.njupt.edu.cnCheckCode.aspxâ€ 1234567def getCaptcha(): CAPTCHA_URL = \"http://jwxt.njupt.edu.cn/CheckCode.aspx\" r = requests.get(CAPTCHA_URL) img = r.content img = Image.open(BytesIO(img)) return img å¯¹å›¾ç‰‡å»å™ª 12345678910111213141516171819202122232425def image_pre_process(self): # å»é™¤æ‚è‰²ç‚¹ for x in range(self.image.width): for y in range(self.image.height): pix = self.image.getpixel((x, y)) if pix == 43: self.image.putpixel((x, y), WHITE) else: self.image.putpixel((x, y), BLACK) # å»é™¤å•åƒç´ å™ªç‚¹å¹¶è¿›è¡ŒäºŒå€¼åŒ–(å…«å€¼æ³•) for x in range(self.image.width): for y in range(self.image.height): count = 0 if x != 0 and y != 0 and x != self.image.width - 1 and y != self.image.height - 1: for i in range(-1, 2): for j in range(-1, 2): tx = x + i ty = y + j if self.image.getpixel((tx, ty)) == BLACK: count += 1 if self.image.getpixel((x, y)) == WHITE and count == 8: # å¦‚æœä¸€ä¸ªç™½è‰²åŒºåŸŸçš„é™„è¿‘å…«è¿é€šåŒºåŸŸéƒ½æ˜¯é»‘è‰²,é‚£ä¹ˆè¯¥ç‚¹ä¹Ÿè®¤ä¸ºæ˜¯é»‘è‰² self.image.putpixel((x, y), BLACK) self.image = self.image.convert('1') â–³äºŒå€¼åŒ–:å°†éœ€è¦è¯†åˆ«çš„è“è‰²å­—ç¬¦(43)è½¬ä¸ºç™½è‰²(WHITE),å…¶ä»–çš„å…¨éƒ¨å˜ä¸ºé»‘è‰²(BLACK) äºŒå€¼åŒ–çš„è¿‡ç¨‹éœ€è¦çµæ€§ä¸€ç‚¹,ä¸èƒ½ç›´æ¥ç”¨convertå‡½æ•°,é‚£æ ·çš„æ•ˆæœå¹¶ä¸ç†æƒ³ã€‚ ç›´æ¥convertçš„æ•ˆæœ: å…ˆå¯¹è“è‰²43è¿›è¡ŒäºŒå€¼åŒ–ï¼Œç„¶åå»å•ç‚¹å™ªå£°ã€æœ€åäºŒå€¼åŒ–çš„æ•ˆæœï¼š è®¾è®¡æ‰“ç ç¨‹åºè®¾è®¡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566\"\"\"æ–¹ä¾¿æ”¶é›†éªŒè¯ç çš„ç®€å•æ‰“ç å·¥å…·\"\"\"import tkinterfrom io import BytesIOimport requestsfrom PIL import Image, ImageTkfrom bs4 import BeautifulSoupclass CaptchaGUI: captcha_url = \"http://jwxt.njupt.edu.cn/CheckCode.aspx\" login_url = \"http://jwxt.njupt.edu.cn/default2.aspx\" def __init__(self): self.s = requests.session() self.get_viewstate() self.r = self.s.get(self.captcha_url) self.im = Image.open(BytesIO(self.r.content)) self.root = tkinter.Tk() self.tkimg = ImageTk.PhotoImage(self.im) self.imgLabel = tkinter.Label(self.root, image=self.tkimg) self.imgLabel.pack() self.message = tkinter.Entry(self.root) self.message.pack() self.root.bind('&lt;Return&gt;', self.judge_and_save) self.root.mainloop() def get_viewstate(self): r = self.s.get(self.login_url) soup = BeautifulSoup(r.content, \"lxml\") self.viewstate = soup.find('input', attrs=&#123;\"name\": \"__VIEWSTATE\"&#125;).get(\"value\") def judge_and_save(self, event): captcha_value = self.message.get() print(captcha_value) data = &#123; \"__VIEWSTATE\": self.viewstate, 'txtUserName': \"\", # è´¦å· 'TextBox2': \"\", # å¯†ç  'RadioButtonList1': \"%D1%A7%C9%FA\", \"Button1\": \"\", \"txtSecretCode\": captcha_value, \"hidPdrs\": \"\", \"hidsc\": \"\" &#125; r = self.s.post(self.login_url, data=data) if \"è¯·åˆ°ä¿¡æ¯ç»´æŠ¤ä¸­å®Œå–„ä¸ªäººè”ç³»æ–¹å¼\" in r.text: print(\"æˆåŠŸï¼\") with open(\"captchas/&#123;&#125;.gif\".format(captcha_value), 'wb+') as f: f.write(self.r.content) else: print(\"éªŒè¯ç è¾“é”™äº†\") self.get_viewstate() self.r = self.s.get(self.captcha_url) self.im = Image.open(BytesIO(self.r.content)) self.tkimg = ImageTk.PhotoImage(self.im) self.imgLabel.config(image=self.tkimg) self.message.delete(0, 'end')if __name__ == \"__main__\": captcha_gui = CaptchaGUI() å°†ç»“æœåˆ†å‰²åˆ°æ¯ä¸ªå­—ç¬¦ 123456def handle_split_image(self): # åˆ‡å‰²éªŒè¯ç ï¼Œè¿”å›åŒ…å«å››ä¸ªå­—ç¬¦å›¾åƒçš„åˆ—è¡¨ y_min, y_max = 0, 22 split_lines = [5, 17, 29, 41, 53] ims = [rotate_img(self.image.crop([u, y_min, v, y_max])) for u, v in zip(split_lines[:-1], split_lines[1:])] return ims 123456789101112131415161718192021222324def spilt2chars(): \"\"\" åˆ†å‰²å·²æœ‰çš„æ•°æ®ä¸ºå­—ç¬¦å¹¶ä¿å­˜ \"\"\" try: shutil.rmtree('captcha_chars') except: pass os.mkdir(\"captcha_chars\") values = \"abcdefghijklmnopqrstuvwxyz1234567890\" for value in values: os.mkdir('captcha_chars/&#123;&#125;'.format(value)) file_names = os.listdir('captchas') for file_name in file_names: # if not os.path.isdir(file_name) and file_name != '.DS_Store': values = file_name[:4] im = Image.open('captchas/&#123;&#125;'.format(file_name)) captcha = ZhengfangCaptcha(im) # ç”¨çš„æ˜¯å»å™ªã€äºŒå€¼åŒ–çš„å›¾ç‰‡ for im_part, value in zip(captcha.handle_split_image(), values): m = hashlib.md5() m.update(\"&#123;&#125;&#123;&#125;\".format(time.time(), value).encode('utf8')) im_part.save(\"captcha_chars/&#123;&#125;/&#123;&#125;.png\".format(value, m.hexdigest())) ä¿å­˜æ¨¡å‹æ•°æ® 12345678910111213141516if __name__ == \"__main__\": # spilt2chars() letters = list('qwertyuiopasdfghjklzcxvbnm1234567890') # å°†å›¾åƒæ•°æ®è½¬ä¸ºå‘é‡æ•°æ®å¹¶ä¿å­˜ imageset = [] for letter in letters: try: for img in os.listdir('captcha_chars/&#123;&#125;/'.format(letter)): if img != \"Thumbs.db\" and img != \".DS_Store\": vector = ZhengfangCaptcha.buildvector(Image.open(\"captcha_chars/&#123;&#125;/&#123;&#125;\".format(letter, img))) imageset.append(&#123;letter: vector&#125;) except FileNotFoundError as e: pass with open('image_data.json', 'w') as f: json.dump(imageset, f) è¯†åˆ« è¾…åŠ©å‡½æ•°: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869import mathimport operatorfrom functools import reduceBLACK = 0WHITE = 255def magnitude(concordance): total = reduce(operator.add, map(lambda x: x ** 2, concordance)) return math.sqrt(total)# è®¡ç®—çŸ¢é‡ä¹‹é—´çš„ä½™å¼¦è·ç¦»def distance_cos(vector1, vector2): sum_value = 0 for value1, value2 in zip(vector1, vector2): sum_value += value1 * value2 return 1 - sum_value / (magnitude(vector1) * magnitude(vector2))def distance_hanmming(vector1, vector2): \"\"\" è®¡ç®—ä¸¤å‘é‡çš„æ±‰æ˜è·ï¼Œï¼ˆå‘é‡åªåŒ…å«0ï¼Œ1æ—¶ï¼‰ \"\"\" count = 0 for value1, value2 in zip(vector1, vector2): if value1 != value2: count += 1 return countdef build_vector(image, binary=True): \"\"\" å›¾åƒè½¬ä¸€ç»´ç‰¹å¾å‘é‡ :param image: pillow Image object with mode 1 or mode L :param binary: é»‘ç™½å›¾æ˜¯å¦ç”Ÿæˆä¸º0ï¼Œ1å‘é‡ :return: list of int \"\"\" vector = [] for pixel in image.getdata(): if binary: vector.append(1 if pixel == 255 else 0) else: vector.append(pixel) return vectordef rotate_img(image): \"\"\" æ ¹æ®å›¾åƒåœ¨xè½´æ–¹å‘æŠ•å½±å¤§å°ç¡®å®šå­—ç¬¦çš„æ‘†æ”¾æ–¹å‘ :param image: PIL.Image object :return: rotated Image object \"\"\" min_count = 1000 final_angle = 0 for angle in range(-45, 45): x_count = 0 ti = image.rotate(angle, expand=True) for x in range(ti.width): for y in range(ti.height): if ti.getpixel((x, y)) == WHITE: x_count += 1 break if x_count &lt; min_count: min_count = x_count final_angle = angle image = image.rotate(final_angle, expand=False) return image è¯†åˆ«éƒ¨åˆ†: 1234567891011121314151617181920212223242526272829class xxx(object): \"\"\" knn è¯†åˆ«æ­£æ–¹éªŒè¯ç  \"\"\" def __init__(self, image): self.image = image self.image_pre_process() # åˆå§‹åŒ–æ—¶å°±å¯¹å›¾ç‰‡è¿›è¡Œå»å™ªå’ŒäºŒå€¼åŒ– def crack(self): result = [] # åŠ è½½æ•°æ® with open(os.path.join(current_dir, 'image_data.json'), 'rb') as f: image_data = json.load(f) for letter in self.handle_split_image(): letter_vector = build_vector(letter) guess = [] for image in image_data: for x, y in image.items(): guess.append((distance_hanmming(y, letter_vector), x)) guess.sort() neighbors = guess[:15] # è·ç¦»æœ€è¿‘çš„åäº”ä¸ªå‘é‡ class_votes = &#123;&#125; # æŠ•ç¥¨ for neighbor in neighbors: class_votes.setdefault(neighbor[-1], 0) class_votes[neighbor[-1]] += 1 sorted_votes = sorted(class_votes.items(), key=lambda x: x[1], reverse=True) result.append(sorted_votes[0][0]) return ''.join(result) â–³.åœ¨å¯¹è±¡çš„è¯†åˆ«ä¸Š,ä¸€å®šè¦ä¿è¯ä¸¤è€…çš„ç»Ÿä¸€æ€§ã€‚è€Œå› ä¸ºè¿›è¡Œé¢„å¤„ç†çš„å›¾ç‰‡è¯†åˆ«ç‡æ›´é«˜ã€‚å³æ¨¡å‹éœ€è¦ä¿å­˜å»å™ªã€äºŒå€¼åŒ–çš„æ•°æ®ï¼Œè¯†åˆ«çš„å›¾ç‰‡åœ¨è¯†åˆ«å‰ä¹Ÿè¦åšç›¸åº”çš„å¤„ç†ã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"æ–°åŠ å¡æ¸¸ç©ç»éªŒ","slug":"æ–°åŠ å¡æ¸¸ç©ç»éªŒ","date":"2019-09-09T11:35:49.000Z","updated":"2019-10-18T08:46:58.629Z","comments":true,"path":"2019/09/09/æ–°åŠ å¡æ¸¸ç©ç»éªŒ/","link":"","permalink":"https://nymrli.top/2019/09/09/æ–°åŠ å¡æ¸¸ç©ç»éªŒ/","excerpt":"","text":"æ–°åŠ å¡å—æ´‹ç†å·¥å¤§å­¦è®¿å­¦ æ­¤æ¬¡è®¿å­¦é•¿è¾¾14å¤©ï¼Œä¸å°‘å®‰æ’éƒ½æ˜¯å­¦æ ¡å®‰æ’ï¼Œåœ¨æ­¤ä»…åˆ—å‡ºä¸ªäººå®‰æ’ã€ç»éªŒå¿ƒå¾—ã€‚ é—¨ç¥¨è´­ä¹°ï¼š ç•ªè–¯æ¸¸ï¼šè¿™æ˜¯è€å¸ˆæ¨èæˆ‘ä»¬çš„ï¼Œä½†ä¸‹è½½ä»¥åæ„Ÿè§‰ç•Œé¢è¿˜æ˜¯æ¯”è¾ƒä¸‘çš„ï¼Œè€Œä¸”ä»·æ ¼ä¹Ÿä¸æ˜¯éå¸¸ä¾¿å®œã€‚è¿™å®¶æ˜¯å”¯ä¸€ä¸€å®¶ä¿ƒè¿›æ‰«ç ä¹°é—¨ç¥¨çš„å…¬å¸ã€‚ KLOOKå®¢è·¯ï¼šç•Œé¢æ¯”ç•ªè–¯æ¸¸å¥½å¤šäº†ï¼Œè¿˜æ˜¯éå¸¸ç²¾è‡´çš„ã€‚æœ€å¤§çš„ä¼˜åŠ¿åœ¨äºå¯ä»¥æ‰¾åˆ°ç»å…¸çš„ä½ç½®åŠæ™¯ç‚¹ä»‹ç»ã€é—¨ç¥¨æ—¶é—´ç­‰ä¿¡æ¯ã€‚ æ·˜å®ï¼šè·Ÿå¥½å‡ ä¸ªå¹³å°å¯¹æ¯”ä¹‹åï¼Œä»·æ ¼åº”è¯¥æ˜¯æœ€ä½çš„ï¼Œå¹¶ä¸”æ—¶é—´é™åˆ¶æ¯”è¾ƒå°ï¼Œå…¶ä»–çš„å¯èƒ½è¦é¢„çº¦ï¼Œè€ŒTBå½“å¤©è´­ä¹°å°±è¡Œï¼ˆå¼ºè°ƒï¼šåŠ¨ç‰©å›­é—¨ç¥¨ï¼‰ â–²ç‰¹åˆ«è¯´æ˜ä¸‹ï¼ŒåŠ¨ç‰©å›­çš„é—¨ç¥¨æ°´å¾ˆæ·±ã€‚å½“é¢è´­ä¹°$50,æˆ‘å½“æ—¶å»æ—¶æ²¡æœ‰é¢„çº¦ï¼Œç»“æœåœ¨KLOOKä¸Šçœ‹å½“å¤©çš„ç¥¨å·²ç»æ²¡æœ‰åº“å­˜äº†ï¼Œäºæ˜¯é—®äº†ä¸‹æ¢ç¥¨æœºæ—è¾¹çš„é»„ç‰›ï¼Œä»–çœ‹æˆ‘ä¸€ä¸ªäººï¼Œç»™æˆ‘çš„æŠ¥ä»·ä¹Ÿæ˜¯50ï¼Œä¸çŸ¥é“ä»–å’‹æƒ³çš„ã€‚æœ€åè¿™ä¸ªé¢„çº¦é—®é¢˜æ˜¯é€šè¿‡æ·˜å®è§£å†³çš„ï¼Œï¿¥156ä¸€å¼ å¤œé—´åŠ¨ç‰©å›­é—¨ç¥¨ï¼Œ5åˆ†é’Ÿå°±å‡ºç¥¨äº†ã€‚è´­ä¹°åä¼šæœ‰ä¸€å¼ å¸¦æœ‰äºŒç»´ç çš„PDFå‘åˆ°é‚®ç®±ä¸­ï¼Œç”¨æœºå­æ‰«å‡ºåå³å¯ã€‚ åœ°é“å¡è´­ä¹°ï¼š ç½‘ä¸Šçš„è¯´æ³•éƒ½æ¨èè´­ä¹°EZ-LINKï¼Œä½†æˆ‘ä»¬åœ¨NTUé‡Œçš„711ä¾¿åˆ©åº—ä¹°æ—¶æœ€åä¸€å¼ æ­£å¥½å–æ‰äº†ï¼Œäºæ˜¯æˆ‘ä»¬ä¹°çš„æ˜¯è¿™æ ·çš„å¡ï¼Œåæ¥å‘ç°è¿™å¡æ¯”EZ-LINKå¼ºå¤šäº†ã€‚ ç”±äºå®ƒæ”¯æŒå¤šå®¶é“¶è¡Œæ”¯ä»˜ï¼ˆç”±äºç§ç§åŸå› ï¼Œæ‰«ç æ”¯ä»˜åœ¨æ–°åŠ å¡å¾ˆéš¾æ¨è¡Œï¼‰ï¼Œå› æ­¤å…¶å®è¿™å¼ å¡ååˆ†çš„æ–¹ä¾¿ã€‚æ—¢èƒ½åœ¨å­¦æ ¡é£Ÿå ‚æ¶ˆè´¹ï¼Œåˆèƒ½åœ¨å¤–æ¶ˆè´¹ï¼ŒåŒæ—¶åœ°é“å…¬äº¤ä¹Ÿéƒ½æ”¯æŒã€‚ åœ°é“å…¬äº¤ä»·æ ¼æ˜ç»†ï¼š å¦‚æœæœ‰å¡å’Œæ²¡å¡ï¼Œä»·æ ¼åŒºåˆ«æ˜¯å¾ˆå¤§çš„ï¼Œå› æ­¤å¦‚æœå‡ºè¡Œéœ€è¦åå…¬äº¤ã€åœ°é“çš„è¯ï¼Œå¼ºçƒˆå»ºè®®ç›´æ¥åŠåœ°é“å¡ã€‚ è™½ç„¶æ¯æ¬¡å……é’±æœ€ä½10/ï¼Œä½†å‡ ä¹æ¯æ¬¡åè½¦éƒ½åœ¨0.83/ï¼Œä½†å‡ ä¹æ¯æ¬¡åè½¦éƒ½åœ¨0.83/ï¼Œä½†å‡ ä¹æ¯æ¬¡åè½¦éƒ½åœ¨0.83/ä»¥ä¸Šï¼Œæ‰€ä»¥å¼€é”€è¿˜æ˜¯éå¸¸å¤§çš„ã€‚2.ååœ°é“ä½äº2/å°±æ— æ³•è¿›ç«™ï¼Œå…¬äº¤ä½äº1å°±æ— æ³•è¿›ç«™ï¼Œå…¬äº¤ä½äº1å°±æ— æ³•è¿›ç«™ï¼Œå…¬äº¤ä½äº1ï¼ˆä¸çŸ¥é“æ˜¯ä¸æ˜¯æ‰€æœ‰ï¼‰ è¡Œä¸ºè§„èŒƒï¼š æ–°åŠ å¡çš„æ²»å®‰ã€ç´ è´¨æ˜¯ç›¸å½“é«˜çš„ã€‚å…¶ä¸­æ¯”è¾ƒæ˜æ˜¾çš„ç°è±¡æœ‰ï¼šä¸ä¹±ä¸¢åƒåœ¾ï¼›åœ¨åœ°é“ä¸Šä¸èƒ½é¥®é£Ÿï¼›åœ°é“ã€å…¬äº¤å…ˆä¸‹åä¸Šï¼› â–²1.å¦‚æœæœ‰æ®‹ç–¾äººå£«ï¼Œä¼šæœ‰äººå¸®å¿™æ”¾ä¸‹æŒ¡æ¿ï¼Œå¸®æ®‹ç–¾äººå£«ä¸‹è½¦ã€‚æˆ‘çœ‹åˆ°çš„é‚£æ¬¡æ˜¯è½¦ä¸Šåªæœ‰å¸æœºï¼Œåè½®æ¤…çš„è€å¥¶å¥¶è¦ä¸‹å…¬äº¤ï¼Œå¸æœºç‰¹åœ°è·‘æ¥æ”¾æŒ¡æ¿ï¼Œå¸®è€äººä¸‹è½¦ã€‚ 2.é—®å¸æœºè·¯ï¼Œä»–ç”šè‡³ä¼šä¸‹è½¦ä¸‹æ¥ç»™ä½ æŒ‡å¾€å“ªä¸ªæ–¹å‘æ€ä¹ˆèµ° 3.å…¬äº¤è½¦åˆ°ç«™éœ€è¦æŒ‰BUS STOPPINGæŒ‰é’®ï¼Œä¸ç„¶å¸æœºæ˜¯çœŸçš„ä¸ä¼šåœçš„ï¼åœ°é“çš„è¯å‡ ä¹æ¯ç«™éƒ½ä¼šåœã€‚è¿˜æœ‰ä¸ªéå¸¸é‡è¦çš„æ˜¯ï¼ŒBUSæ¯ä¸€ç«™æ˜¯ä¸ä¼šæŠ¥çš„ï¼Œå› æ­¤åœ¨æ–°åŠ å¡åå…¬äº¤å¾ˆå®¹æ˜“åè¿‡å¤´ï¼Œè¿™å°±éœ€è¦çœ‹æ¸…æ¥šåœ°å›¾å®šä½å’Œç•™æ„æ¯ä¸€ç«™åå­—ã€‚ åœ°å›¾æ¨è é«˜å¾·ä¸æ”¯æŒå›½å¤–ï¼Œå› æ­¤æˆ‘ä¸»è¦ä½¿ç”¨çš„æ˜¯ä¸¤ä¸ªï¼šGoogle Mapsã€ç™¾åº¦åœ°å›¾ã€‚ å…¶å®ç™¾åº¦åœ°å›¾æŒºå¥½ç”¨çš„ï¼Œæˆ‘åŒå­¦éƒ½ç”¨çš„ç™¾åº¦ï¼Œæ²¡å¿…è¦ç‰¹åœ°å»ä¸‹è½½Google Mapsã€‚è€Œåœ¨æ­¤æˆ‘è¯´ä¸€ä¸‹æˆ‘ç”¨Google Mapsç¢°åˆ°çš„é—®é¢˜ã€‚1.ååœ°é“ã€å…¬äº¤æ—¶ä¸ä¼šæé†’èŠ±è´¹ã€‚2.æ²¡æœ‰Google PlayeræœåŠ¡ï¼Œå‘¨å›´æ¨èåŠŸèƒ½æ— æ³•ä½¿ç”¨ã€‚3.æˆ‘ç”¨çš„æ˜¯MI6ï¼Œä½†æ€»æ„Ÿè§‰æœ‰æ—¶å®šä½æ•ˆæœç‰¹åˆ«å·®ï¼Œä¸çŸ¥é“æ˜¯æˆ‘æ‰‹æœºGPSåŠŸèƒ½é—®é¢˜ï¼Œè¿˜æ˜¯Google Mapsçš„é—®é¢˜ æ€»ç»“ æ–°åŠ å¡æ˜¯éå¸¸é€‚åˆå›½äººæ—…æ¸¸çš„ï¼Œé¦–å…ˆæ˜¯æ–°åŠ å¡åŒè¯­æ•™å­¦ï¼Œå¾ˆå¤šäººéƒ½ä¼šè¯´ä¸­æ–‡ï¼Œé‡ä¸Šéº»çƒ¦ï¼Œçœ‹çœ‹å‘¨å›´çš„äººæ€»èƒ½ç¢°åˆ°è¯´ä¸­æ–‡çš„ï¼›å…¶æ¬¡æ˜¯å•†åŸé‡Œä¹Ÿå¤§å¤šæœ‰ä¸­æ–‡ä»‹ç»ï¼Œä¹°ä¸œè¥¿æ—¶å‡ ä¹æ¯ä¸ªåº—éƒ½ä¼šæœ‰è¯´ä¸­æ–‡çš„åº—å‘˜æ¥åšå›½äººç”Ÿæ„ï¼Œä¹Ÿå‡ ä¹ä¸å¤ªä¼šç¢°ä¸Šéº»çƒ¦ã€‚ æ–°åŠ å¡æœ‰70%çš„äººæ˜¯ä¸­å›½äººæˆ–æ˜¯åè£”ï¼Œ10%æ˜¯å°åº¦äººï¼Œ10%æ˜¯é©¬æ¥äººï¼Œè¿˜æœ‰10%æ˜¯æ¥è‡ªæ¬§æ´²å’Œæ—¥æœ¬ã€éŸ©å›½ç­‰åœ°ã€‚æ€»çš„æ¥è¯´ä¸­å›½äººæ¯”ä¾‹è¿˜æ˜¯éå¸¸å¤§çš„ï¼Œè€Œä¸”85%å·¦å³çš„æ—…å®¢éƒ½æ¥è‡ªä¸­å›½ï¼Œæ‰€ä»¥å…¶å®è·¯ä¸Šçœ‹åˆ°å¾ˆå¤šè¯´ä¸­æ–‡çš„è¯´ä¸å®šä¹Ÿæ˜¯è·Ÿä½ ä¸€æ ·çš„æ¸¸å®¢ã€‚æˆ‘äº¤æµæ¯”è¾ƒå¤šçš„éƒ½æ˜¯ä¸­å›½äººï¼Œç‰¹åˆ«æ˜¯å½­å¹´çºªå¤§çš„è€å¥¶å¥¶æˆ–æ˜¯è€çˆ·çˆ·ï¼Œä½ å¦‚æœå‘ä»–é—®è·¯ï¼Œä»–ä»¬éƒ½ä¼šéå¸¸çƒ­å¿ƒåœ°å¸®åŠ©ï¼Œæ¨ä¸å¾—äº²è‡ªå¸¦ä½ å»äº†ã€‚ å¤–æ–‡ç¼©å†™ æ–°åŠ å¡ï¼Œå‡ ä¹éƒ½æœ‰åŒè¯­æ ‡æ³¨ï¼Œå› æ­¤è‹±è¯­ä¸å¥½çš„é—®é¢˜ä¹Ÿä¸å¤§ã€‚è¿™è¾¹å°±åˆ—å‡ºå‡ ä¸ªå¸¸è§çš„ç¼©å†™ st --&gt; street rd --&gt; road sch --&gt; school æ™¯ç‚¹æ¨èï¼š ä¹ŒèŠ‚è·¯ Orchard road è´­ç‰©ä¸€æ¡è¡—ï¼ŒIONå•†åŸï¼Œä¹‰ä¹ŒåŸâ€¦â€¦é‡Œé¢å…¨æ˜¯å“ç‰Œã€‚ åœ£æ·˜æ²™ Sentosa ç¯çƒå½±åŸå°±åœ¨è¿™å²›ä¸Šï¼Œé—¨ç¥¨350+ï¼Œæˆ‘æ²¡å»ï¼ŒåŒå­¦å»äº†ï¼Œæ„Ÿè§‰å¾ˆä¸é”™ï¼Œç±»ä¼¼è¿ªå£«å°¼çš„æ¸¸ä¹å›­ï¼Œæœ‰å¤šç§çš„ä¸»é¢˜ æ»¨æµ·æ¹¾ Marina Bay superTree Groveæ˜¯å…è´¹çš„ï¼Œæ™šä¸Šæœ‰è¡¨æ¼”ï¼Œå¤§çº¦åœ¨8ï¼š45å·¦å³å¼€å§‹ï¼Œéå¸¸çš„å¥½çœ‹ã€‚æ­¤å¤„æ™¯ç‚¹æœ‰ä¸¤ä¸ªæ”¶è´¹çš„åœ°æ–¹ï¼Œæˆ‘ä¹Ÿæ²¡å»ã€‚ é è¿‘æ¹–è¾¹ï¼Œæœ‰ä¸¤ä¸ªåšç‰©é¦†ï¼Œä¸€ä¸ªæ˜¯çº¢ç‚¹è®¾è®¡åšç‰©é¦†ï¼ˆè¿™ä¸ªæˆ‘å»äº†ï¼Œé—¨ç¥¨å¤§çº¦ï¿¥70ï¼Œåœ°æ–¹å¾ˆå°ï¼Œå‡ºæ¥çš„å•†åº—å–çš„ä¸œè¥¿å¾ˆè´µï¼‰ï¼›å¦ä¸€ä¸ªæ˜¯é‡‘æ²™è‰ºæœ¯ç§‘å­¦åšç‰©é¦†ï¼ˆä¸»é¢˜æ˜¯â€œè¶…è¶Šæœªæ¥â€ï¼Œçœ‹ä»‹ç»æœ‰ç‚¹åƒæ˜¯å¤±æ‹åšç‰©é¦†é‡Œçš„å…‰å½±æ•ˆæœï¼‰ é±¼å°¾ç‹®å…¬å›­ Merlion Park å…¶å®æ²¡å•¥å¥½çœ‹çš„ï¼Œæœ‰é±¼å°¾ç‹®ï¼Œæ‰“ä¸ªå¡ã€æ‹ä¸ªç…§å·®ä¸å¤šäº†ã€‚ æ¤ç‰©å›­ Botanic garden å…è´¹ï¼Œå¾’æ­¥èµ°è¿˜æŒºå¤§çš„ï¼Œå¤§çº¦åŠå°æ—¶ã€‚é‡Œé¢æ¤ç‰©å¾ˆå¤šï¼Œä¸€èˆ¬éƒ½æ˜¯å›½å†…çœ‹ä¸åˆ°çš„ï¼Œå–œæ¬¢çœ‹æ¤ç‰©çš„äººå¯ä»¥å»çœ‹ä¸€ä¸‹ã€‚åŒæ—¶é‚£ä¹Ÿæœ‰ä¸å°‘åŠ¨ç‰©ï¼Œéƒ½å¯ä»¥å½“ä¸ªå°å‹åŠ¨ç‰©å›­äº†ã€‚ å°å°åº¦ Little Indian å°åº¦äººå¾ˆå¤šï¼Œå°åº¦æ°›å›´å¾ˆé‡ã€‚å…¶ä»–çš„è¯ä¸ªäººæ„Ÿè§‰æ²¡ä»€ä¹ˆæ„æ€ï¼Œåœ¨é‚£è¾¹æ¯”è¾ƒæœ‰åçš„å°åº¦é¤é¦†é‡Œåƒäº†å’–å–±é±¼å¤´ï¼Œå‘³é“è¿˜ä¸é”™ï¼Œåªä¸è¿‡ä¸¤ä¸ªäººåƒç‚¹ä¸­ä»½çš„æœ‰ç‚¹å¤ªå¤šäº†ã€‚ Mustafaç™¾è´§å•†åŸï¼ŒçœŸçš„å¾ˆå¤§ï¼Œæœ‰ä¸¤æ ‹æ¥¼äº’ç›¸è¿é€šï¼Œæ·±ä¸è§åº•ï¼Œä¸€å…±æœ‰å››å±‚ã€‚é‚£è¾¹çš„ä¸œè¥¿ä¹Ÿæ˜¯æ¯”è¾ƒä¾¿å®œçš„ï¼Œæ¯”å¦‚åœ¨NTUè¶…å¸‚é‡Œä¹°çš„é¥®æ–™/$2.5ï¼Œè¿™è¾¹åªè¦/$1.8å·¦å³ï¼›è¿˜æœ‰oldTownå’–å•¡ï¼Œåœ¨fairpriceè¶…å¸‚å–/$7.2ï¼Œåœ¨Mustafaåªè¦$5.4ã€‚è¿™è¾¹éå¸¸å€¼å¾—å»ï¼Œå¯ä»¥åœ¨è¿™æç‚¹å¸¦ç»™æœ‹å‹çš„ä¸œè¥¿ å¤œé—´åŠ¨ç‰©å›­ æ¯”è¾ƒåï¼Œå»å’Œå›éƒ½å¾ˆéº»çƒ¦ï¼Œååœ°é“è½¬å…¬äº¤å•¥çš„å›NTUè¦1ä¸ªåŠé’Ÿå¤´ï¼Œæ‰“è½¦å›åªè¦15åˆ†é’Ÿã€‚é—¨ç¥¨ç°åœºä¹°æ—¶/$50ï¼Œæ·˜å®ä¸Šï¿¥150ã€‚ä¹°äº†é—¨ç¥¨è¿›å»åç°æœ‰æ¸¸è§ˆè½¦è§‚å…‰ï¼Œä½†æ˜¯å¦‚æœä¸åŠ é’±æ˜¯è‹±æ–‡è®²è§£çš„ï¼ˆå‡ ä¹å¬ä¸æ‡‚w_wï¼‰ã€‚ç”±äºå¤œè‰²è¾ƒæš—ï¼ˆç¯å…‰è€ƒè™‘åˆ°å¯¹åŠ¨ç‰©çš„æ•ˆæœä¹Ÿä¸æ˜¯å¾ˆäº®ï¼‰ï¼Œä¸”å¤§å¤šåŠ¨ç‰©éƒ½å·²ç¡çœ ï¼Œæ‰€ä»¥æ¸¸è§ˆè½¦è§‚å…‰æ²¡ä»€ä¹ˆæ„æ€ã€‚æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯åŠ¨ç‰©è¡¨æ¼”ï¼Œå»çš„äººå‡ ä¹éƒ½ä¼šæ¨èï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦æå‰ç­‰ï¼Œå› ä¸ºå…ˆæ¥å…ˆå¾—ä½ç½®ï¼Œä½ç½®æ»¡åå°±ä¸èƒ½è¿›äº†ï¼Œè¶…æ—¶10åˆ†é’Ÿä¹Ÿä¸ä¼šè®©è¿›äº†ï¼ˆè¡¨æ¼”ä¸€å…±15-20åˆ†é’Ÿå·¦å³ï¼‰ã€‚æ¸¸è§ˆè½¦è§‚å…‰åçš„è‡ªç”±è¡Œä¹Ÿæ˜¯æ¯”è¾ƒæœ‰æ„æ€çš„ï¼Œæ°›å›´å°±åƒæ˜¯åœ¨ä¸›æ—ä¸­ï¼Œéš”ä¸€æ®µè·ç¦»å°±æ˜¯ä¸€ä¸ªå“ç§çš„åŠ¨ç‰©ã€‚æœ‰å¾ˆå¤šå¹³æ—¶æ²¡è§è¿‡çš„å¤§åŠ¨ç‰©ä¸å°åŠ¨ç‰©ï¼Œå°åŠ¨ç‰©ä¸€èˆ¬éƒ½æœ‰ç»ç’ƒæ ¼æŒ¡ï¼Œå¤§åŠ¨ç‰©çš„ç«™å°ä¸é©¬è·¯å°±ä¸€é“åçš„éš”ç¦»ï¼Œç®¡ç†å‘˜ä¼¼ä¹å¾ˆæ”¾å¿ƒä»–ä»¬ä¸ä¼šè·‘å‡ºæ¥ï¼ˆè€è™é™¤å¤–ï¼‰ åŸå¸‚è§„åˆ’é¦†URA å¾ˆæœ‰æ„æ€ï¼Œç”±60å²çš„Stevenç»™æˆ‘ä»¬è®²è§£äº†æ–°åŠ å¡å»ºè®¾çš„å†å²ä»¥åŠæœªé›¨ç»¸ç¼ªåœ°è§„åˆ’ï¼Œå…¶ä¸­3Dç«‹ä½“æ¨¡å‹å›¾éå¸¸ç²¾è‡´åœ°è¿˜åŸäº†å„åœ°åœ°ç»†èŠ‚ï¼Œåœ¨æ¸¸ç©ä¹‹å‰çœ‹ä¸€ä¸‹è¿™ä¸ªå¯¹å‡ºæ¸¸æœ‰æå¤§çš„å¸®åŠ© å›½å®¶åšç‰©é¦† çœŸçš„å¾ˆæœ‰æ„æ€ï¼Œæ¯”å›½å†…çš„åšç‰©é¦†çœŸå®å¤šäº†ã€‚åœ¨é‡Œé¢èƒ½çœ‹åˆ°æ–°åŠ å¡çš„å‘å±•å²ã€ä¾µç•¥å²ï¼Œèƒ½çœ‹åˆ°è‹±å†›çš„èº«å½±ï¼Œä¹Ÿèƒ½çœ‹åˆ°ä¸­å›½å’Œæ—¥æœ¬çš„èº«å½±ã€‚å½“ç„¶å…¶ä¸­æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯æœ‰çœŸçš„å¦å…‹åœ¨é‡Œé¢å±•è§ˆã€‚ æ¯”è¾ƒé—æ†¾çš„æ˜¯æˆ‘ä»¬æ˜¯ä¸Šåˆ10ç‚¹å¼€é—¨çš„æ—¶å€™å»çš„ï¼Œè€Œè®²è§£åœ¨11ï¼š30æ‰å¼€å§‹ï¼Œå› æ­¤æˆ‘ä»¬å…¨å‚è§‚å®Œåè®²è§£æ­£åˆšå¼€å§‹ï¼Œä¾¥å¹¸è¿˜å¬åˆ°äº†ä¸€ç‚¹ï¼ŒçœŸçš„å¾ˆæœ‰æ„æ€ï¼Œå»ºè®®è¦å»çš„è¯å‡‘ç€è¿™ä¸ªæ—¶é—´ç‚¹å»ï¼Œå› ä¸ºè™½ç„¶æœ‰æ‰‹å†Œä»‹ç»ï¼Œä½†æ˜¯è‡ªå·±çœ‹çœŸçš„å¯èƒ½çœ‹ä¸æ˜ç™½ å›½å®¶ç¾æœ¯é¦† ç”±äº8æœˆä¸Šæ—¬æ–°åŠ å¡å›½åº†åœ¨ç¾æœ¯é¦†é™„è¿‘ä¸¾è¡Œï¼Œå› æ­¤8æœˆ9æ—¥ä¹‹å‰éƒ½å…³é—­ç€ï¼Œå› æ­¤æ²¡å‡ ä¹è¿›å»çœ‹çœ‹ã€‚ ç¾é£Ÿæ¨è å»æ²™ æ²™çˆ¹ ç¦å»ºç‚’é¢ å°åº¦é£é¥¼ è¾£æ¤’èƒèŸ¹(Big Eater seafood) è‚‰éª¨èŒ¶ é™„å½•ï¼š2019å¹´8æœˆ9æ—¥æ–°åŠ å¡å›½åº†èŠ‚èŠ‚ç›®å®‰æ’ ï¼ˆä¸‡äº‹é€šæ ¹æ®é¢„æ¼”æ¨æµ‹ç‹¬å®¶æ•´ç†ï¼‰ ä¸‹åˆ6ç‚¹3åˆ†-6ç‚¹10åˆ† çº¢ç‹®è·³ä¼é˜Ÿè¡¨æ¼”ï¼ˆéšå¤©æ°”å˜åŒ–æ—¶é—´ï¼‰ ä¸‹åˆ6ç‚¹27åˆ†-ä¸‹åˆ6ç‚¹30åˆ† ç‰¹é£é˜Ÿå…¥åœº ä¸‹åˆ6:35-6:38 å›½å®¶è‰²å½©å’Œè£èª‰æŠ¤å«é˜Ÿå…¥åœº ä¸‹åˆ6:39 æ€»ç†æŠµè¾¾ ä¸‹åˆ6:44 æ€»ç»ŸæŠµè¾¾ ä¸‹åˆ6:45-6:46 å›½æ——é£æ‰¬ ä¸‹åˆ6:47 æ–°åŠ å¡ç©ºå†›ç©ºä¸­è¡¨æ¼”ï¼ˆF15æˆ˜æ–—æœºï¼‰ ä¸‹åˆ6:49-6:52 é¸£ç¤¼ç‚®21å“è‡´æ•¬ ä¸‹åˆ6:56-6:57 æ¬¢ä¹ä¹‹ç«ï¼ˆå¤§å‹ç¯ç«ï¼‰ ä¸‹åˆ6:57 é£è¡Œè¡¨æ¼” æ™šä¸Š7:00-7:01 æ–°åŠ å¡ç©ºå†›å¤šæ¶F15æˆ˜æ–—æœºé£è¡Œè¡¨æ¼” æ™šä¸Š7:01-7:12 é˜…å…µä»ªå¼ æ™šä¸Š7:14-7:39 æœºåŠ¨éƒ¨é˜Ÿå‡ºåŠ¨ æ™šä¸Š8:00-8:05 æ–°åŠ å¡æ²³çƒŸèŠ±è¡¨æ¼”ï¼ˆäºšæ´²æ–‡æ˜åšç‰©é¦†é™„è¿‘ï¼‰ æ™šä¸Š8:10-8:18 çƒŸèŠ±è¡¨æ¼” åŠç†ç­¾è¯ æ–°åŠ å¡ç­¾è¯ææ–™ 1 ä¸¤å¼  ç™½åº•å½©è‰²è¿‘ç…§ 3.5*4.5cm 2èº«ä»½è¯å¤å°ä»¶ 3æˆ·å£æœ¬å¤å°ä»¶ 4æŠ¤ç…§åŸä»¶ 5 åœ¨è¯»è¯æ˜åŸä»¶","categories":[],"tags":[{"name":"ç”Ÿæ´»ç¦åˆ©","slug":"ç”Ÿæ´»ç¦åˆ©","permalink":"https://nymrli.top/tags/ç”Ÿæ´»ç¦åˆ©/"}]},{"title":"CDNåŠ é€Ÿä¸ªäººåšå®¢â€”â€”åˆæ‹äº‘","slug":"CDNåŠ é€Ÿä¸ªäººåšå®¢â€”â€”åˆæ‹äº‘","date":"2019-09-09T11:34:27.000Z","updated":"2019-09-15T08:07:30.925Z","comments":true,"path":"2019/09/09/CDNåŠ é€Ÿä¸ªäººåšå®¢â€”â€”åˆæ‹äº‘/","link":"","permalink":"https://nymrli.top/2019/09/09/CDNåŠ é€Ÿä¸ªäººåšå®¢â€”â€”åˆæ‹äº‘/","excerpt":"","text":"CDNåŠ é€Ÿä¸ªäººåšå®¢â€”â€”åˆæ‹äº‘ CDN(Content Delivery Network)å†…å®¹å‘å¸ƒç½‘ç»œï¼ŒåŸºæœ¬æ€è·¯å°±æ˜¯å°†ä½ ç½‘ç«™æ”¾ç½®åœ¨å„åœ°èŠ‚ç‚¹æœåŠ¡å™¨ï¼Œç”¨æˆ·è®¿é—®æ—¶æ‰¾æœ€è¿‘çš„èŠ‚ç‚¹æœåŠ¡å™¨è·å–æ•°æ®ï¼Œè¾¾åˆ°åŠ é€Ÿçš„ç›®çš„ã€‚ å‡ å¤§å‚å•†çš„CDNæ–¹æ¡ˆ èµ„è´¹ä»‹ç»é¡µé¢ å…è´¹é¢åº¦ æ˜¯å¦æ”¯æŒHTTPS é¢å¤–é™åˆ¶ æ³¨å†Œé‚€è¯·é“¾æ¥ ä¸ƒç‰›äº‘ 10GB/æœˆ æŒ‰é‡ä»˜è´¹æ”¯æŒ / &gt;&gt;&gt; ç‚¹å‡»æ³¨å†Œ è…¾è®¯äº‘ 10GB/æœˆ å…è´¹æ”¯æŒ åŠ äº†è…¾è®¯äº‘CDNæ²¡æœ‰æ„Ÿè§‰å¤šå¤§åŠ é€Ÿ / ç™¾åº¦äº‘ 10GB/å¤© å¹´è´¹ä»˜è´¹æ”¯æŒ å·¨è´µâ€¦ / åˆæ‹äº‘ 15GB/æœˆ å…è´¹æ”¯æŒ åŠ å…¥åˆæ‹äº‘è”ç›Ÿï¼Œå¹¶åœ¨ç½‘ç«™åº•éƒ¨æ”¾ç½®logo &gt;&gt;&gt; ç‚¹å‡»æ³¨å†Œ å› æ­¤ï¼Œé€‰æ‹©å°è¯•äº†ä¸‹â€œåˆæ‹äº‘â€ã€‚ ä¸€.åˆ›å»ºCDNæœåŠ¡ 1.æœåŠ¡åç§°ä¸ºå”¯ä¸€çš„ID 2.åŠ é€ŸåŸŸåå°±æ˜¯è‡ªå·±çš„ç½‘ç«™åŸŸå 3.é€‰æ‹©ä¸€ä¸ªåº”ç”¨åœºæ™¯ï¼Œåœ¨è¿™ï¼Œæˆ‘é€‰çš„æ˜¯â€œç½‘é¡µå›¾ç‰‡â€ 4.å›æºç®¡ç†-&gt;æºç«™è®¾ç½®ï¼Œç½‘ç«™åŸæœ¬æ˜¯ä»€ä¹ˆåè®®å°±é€‰æ‹©ä»€ä¹ˆåè®®ã€‚ å›æº: å½“ç¼“å­˜æœåŠ¡å™¨(CDNæä¾›çš„æœåŠ¡å™¨)ä¸Šæ‰¾ä¸åˆ°èµ„æºçš„æ—¶å€™,å°†ä¼šå»å›æºæœåŠ¡å™¨(è‡ªå·±çš„æœåŠ¡å™¨)ä¸Šæ‰¾ç›¸åº”çš„èµ„æº å½“ç„¶æœ€çœäº‹çš„æ˜¯é€‰æ‹©â€œåè®®è·Ÿéšâ€ 5.é€‰æ‹©â€œåˆ›å»ºâ€ï¼Œåˆ™æœåŠ¡åˆ›å»ºå®Œæˆ 6.éœ€è¦å®Œæˆâ€œå®åè®¤è¯â€ï¼Œå¦åˆ™æœåŠ¡å°†å¤„äºâ€œå…³é—­â€çŠ¶æ€ æœ‰â€œæ”¯ä»˜å®è®¤è¯â€å’Œâ€œèº«ä»½è®¤è¯â€ï¼Œâ€œæ”¯ä»˜å®è®¤è¯â€æ˜¯ç›´æ¥æ‹ç…§é‡‡å–ä½ çš„ä¸ªäººç…§ç‰‡ï¼Œæ‹å®Œå³è®¤è¯å®Œæ¯•æ¯”è¾ƒè¿…é€Ÿï¼Œä½†å¯èƒ½ä¼šæ³„éœ²æ›´å¤šçš„ä¸ªäººä¿¡æ¯ï¼Œ æ¯•ç«Ÿæ”¯ä»˜å®ä¸Šå·²ç»æ”¶é›†äº†å¾ˆå¤šä¸ªäººä¿¡æ¯äº†ã€‚&quot;èº«ä»½è®¤è¯&quot;é€šè¿‡æäº¤æ‰‹æŒèº«ä»½è¯æ­£åé¢çš„ç…§ç‰‡æ¥è®¤è¯ï¼Œæäº¤åä¼šæœ‰ä¸€å¤©çš„å®¡æ ¸æœŸï¼Œç›¸å¯¹äºâ€œæ”¯ä»˜å®è®¤è¯â€æ¥è¯´å¯èƒ½æ…¢ä¸€ç‚¹ã€‚ äºŒ.é…ç½®SSLè¯ä¹¦ï¼ˆéå¿…é¡»ï¼‰ 7.å¦‚æœåšå®¢æ²¡æœ‰é…ç½®HTTPSï¼Œå¯ä»¥åœ¨è¿™ç”³è¯·å…è´¹çš„SSLè¯ä¹¦é…ç½® åˆæ‹äº‘æä¾›äº†ä¸¤æ¬¾è¯ä¹¦çš„å…è´¹ç”³è¯·æ–¹æ¡ˆï¼Œç”¨æˆ·å¯é€šè¿‡ SSL è¯ä¹¦ç”³è´­å¹³å°ï¼Œå…è´¹ç”³è¯· Symantec-TrustAsiaã€Letâ€™s Encrypt çš„ DVï¼ˆåŸŸåå‹ï¼‰ SSL è¯ä¹¦ï¼Œå¸®åŠ©ç”¨æˆ·é›¶æˆæœ¬å®ç°å…¨ç«™éƒ¨ç½² HTTPSã€‚å¹¶ä¸”è¿˜å®ç°äº† Letâ€™s Encrypt è¯ä¹¦åˆ°æœŸè‡ªåŠ¨ç»­ç­¾ï¼Œç”¨æˆ·æ— éœ€æ‹…å¿ƒè¯ä¹¦è¿‡æœŸæ—¶é—´ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ã€‚ æœåŠ¡ä¸­çš„&quot;HTTPS&quot;-&gt;â€œHTTPSé…ç½®â€â€“&gt;â€œæ— è¯ä¹¦ï¼Œå¯å‰å¾€ SSL è¯ä¹¦ç®¡ç† æ·»åŠ è‡ªæœ‰è¯ä¹¦æˆ–ç”³è´­æ–°è¯ä¹¦â€ çŸ­ä¿¡éªŒè¯ï¼Œä»˜æ¬¾å®Œæˆåï¼Œéœ€è¦â€œè¯·å‰å¾€è¯ä¹¦ç”³è´­ç•Œé¢è¡¥å…¨åç»­ä¿¡æ¯&quot;ï¼Œåœ¨â€SSLè¯ä¹¦æœåŠ¡â€œä¸­èƒ½çœ‹åˆ°è¯ä¹¦ï¼Œä½†è¿˜éœ€è¦æ‰§è¡Œâ€è¡¥å…¨â€œæ­¥éª¤ã€‚ ä¹‹åï¼Œå¦‚æœå½“å‰åŸŸåä¸ºç¬¬ä¸€æ¬¡é…ç½®è¯ä¹¦ï¼Œé‚£ä¹ˆéœ€è¦â€åŸŸåæ‰€æœ‰æƒéªŒè¯â€œã€‚å¯ä»¥æŸ¥çœ‹åˆæ‹äº‘æä¾›çš„å¸®åŠ©æ–‡æ¡£ï¼Œåˆ†ä¸ºOV æˆ– EV SSL è¯ä¹¦å’ŒDV SSLè¯ä¹¦éªŒè¯ï¼Œå…¶ä¸­DV SSLè¯ä¹¦éªŒè¯åˆåˆ†ä¸ºâ€æ–‡ä»¶æ£€éªŒâ€œå’Œ&quot;DNS éªŒè¯&quot;. DNSéªŒè¯ï¼Œéœ€è¦ä¿®æ”¹åŸŸåçš„ DNSï¼Œæ·»åŠ  TXT è®°å½•ï¼Œç„¶å CA æœºæ„é€šè¿‡è§£æåŸŸåçš„ TXT è®°å½•æ¥éªŒè¯åŸŸåæ‰€æœ‰æƒã€‚å…¶ä¸­å¦‚æœæ˜¯é˜¿é‡Œäº‘è§£æï¼Œåœ¨è®¾ç½®è¿‡CNAMEè®°å½•çš„åŒæ—¶å†æ·»åŠ æ–°çš„TXTè®°å½•ä¼šæŠ¥é”™ï¼Œè¯´æœ‰å†²çªã€‚æ­¤æ—¶å¯æŸ¥çœ‹è§£å†³æ–¹æ¡ˆ åªä¸è¿‡æ­¤æ—¶çŠ¶æ€ä»ä¸ºâ€œå®¡æ ¸ä¸­â€ï¼Œå³CA æœºæ„ä¿¡æ¯å®¡æ ¸éªŒè¯çŠ¶æ€ï¼Œä¸€èˆ¬éœ€è¦ 1 ä¸ªå·¥ä½œæ—¥ã€‚ â–²æˆ‘æµ‹è¯•äº†ä¸¤ä¸ªå…è´¹çš„è¯ä¹¦ï¼Œå‘ç°â€œLetâ€™s Encrypt DV SSL å•åŸŸåè¯ä¹¦â€å®¡æ ¸æ¯”&quot;TrustAsia DV SSL å•åŸŸåè¯ä¹¦&quot;å¿«å¤šäº†ï¼Œå‡ ä¹5åˆ†é’Ÿå°±è‡ªåŠ¨å®¡æ ¸é€šè¿‡äº†ã€‚ e.g.ç”±äºæˆ‘çš„åšå®¢æ˜¯æ­å»ºåœ¨Github pagesçš„ï¼Œæ‰€ä»¥é…ç½®äº†HTTPSï¼Œå› æ­¤ï¼Œè¿™ä¸ªæˆ‘å°±ä¸éœ€è¦å†å¼„äº†ã€‚ é™„å½• é˜¿é‡Œäº‘ç»‘å®šåŠ é€ŸåŸŸåè§£ææ—¶ï¼Œæç¤ºTXTä¸@è®°å½•å†²çªè§£å†³åŠæ³• æ–¹æ³•ä¸€ï¼š å®é™…ä¸Šï¼ŒTXTè®°å½•çš„ä½œç”¨åªæ˜¯åšåŸŸåæ‰€æœ‰æƒéªŒè¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦åŸŸåè¢«éªŒè¯ï¼Œå°±å¯ä»¥åˆ é™¤å®ƒã€‚ çŸ¥é“äº†è¿™ä¸ªåŸç†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è§£ææ—¶å…ˆåˆ é™¤å…¶ä»–@ä¸»æœºè®°å½•çš„è§£æï¼Œç„¶åæ·»åŠ ç™¾åº¦äº‘åŠ é€ŸTXTè®°å½•ã€‚ é€šè¿‡ç™¾åº¦äº‘åŠ é€Ÿåå°æ˜¾ç¤ºéªŒè¯åï¼Œæˆ‘ä»¬åˆ é™¤TXTå¹¶è§£æå…¶ä»–@ä¸»æœºè®°å½•å°±å¯ä»¥äº†ã€‚ æ–¹æ³•äºŒï¼š å¦‚æœä½ æ˜¯ä½¿ç”¨å…è´¹æ™ºèƒ½ DNS è§£ææœåŠ¡â€”â€”CloudXNS æ¥è§£æåŸŸååº”è¯¥æ˜¯ä¸ä¼šé‡åˆ°è¿™äº›é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨é˜¿é‡Œäº‘è§£æçš„è¯ï¼Œåº”è¯¥æˆ–å¤šæˆ–å°‘éƒ½ä¼šé‡åˆ°è§£æè®°å½•å†²çªçš„é—®é¢˜ã€‚æ‰€ä»¥å¯ä»¥é‡‡å–æ›´æ¢è§£æå•†ï¼Œå³æŠŠé˜¿é‡Œäº‘è§£ææ›´æ¢ä¸º CloudXNS è§£æ æ–¹æ³•ä¸‰ï¼š **è§£æåˆ°ä¸åŒçš„çº¿è·¯æ¥è§£å†³ã€‚**é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ CNAME è§£ææ—¶ï¼Œåªå¡«å†™ä¸»æœºè®°å½•å’Œè®°å½•å€¼ï¼Œå…¶ä»–éƒ½æ˜¯é»˜è®¤ï¼Œè¿™ä¸ªæ—¶å€™â€œè§£æçº¿è·¯â€å°±æ˜¯é»˜è®¤çº¿è·¯ã€‚å¦‚æœåç»­ä½ æ·»åŠ  TXT è®°å½•æˆ– MX è®°å½•æ—¶ï¼Œè§£æçº¿è·¯ä¹Ÿæ˜¯é»˜è®¤çº¿è·¯ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°è§£æè®°å½•å†²çªä»è€Œæ— æ³•æˆåŠŸè§£æã€‚æ­¤æ—¶ï¼Œéœ€è¦åšçš„å°±æ˜¯åœ¨è§£æ TXT æˆ– MX è®°å½•æ—¶ï¼ŒæŠŠâ€œè§£æçº¿è·¯â€é€‰æ‹©åˆ°å…¶ä»–çº¿è·¯ï¼Œå¦‚é€‰æ‹©â€œä¸­å›½ç”µä¿¡â€æˆ–å…¶ä»–çº¿è·¯ï¼Œç„¶åä¿å­˜å°±ä¸ä¼šä¸ CNANE çš„é»˜è®¤çº¿è·¯å†²çªäº†ã€‚","categories":[],"tags":[]},{"title":"RLå¼ºåŒ–å­¦ä¹ æ¦‚å¿µ","slug":"RLå¼ºåŒ–å­¦ä¹ æ¦‚å¿µ","date":"2019-09-09T11:33:12.000Z","updated":"2019-09-15T08:07:30.999Z","comments":true,"path":"2019/09/09/RLå¼ºåŒ–å­¦ä¹ æ¦‚å¿µ/","link":"","permalink":"https://nymrli.top/2019/09/09/RLå¼ºåŒ–å­¦ä¹ æ¦‚å¿µ/","excerpt":"","text":"RLå¼ºåŒ–å­¦ä¹ æ¦‚å¿µ æ–¹æ³•æ±‡æ€» ä»·å€¼-ç›´æ¥-æƒ³è±¡ é€šè¿‡ä»·å€¼é€‰æ‹©è¡Œä¸ºï¼š Q Learning Sarsa Deep Q Network ç›´æ¥é€‰æ‹©è¡Œä¸ºï¼š Policy Gradients æƒ³è±¡ç¯å¢ƒå¹¶ä»ä¸­å­¦ä¹  Model Based RL åŸºäºæ¨¡å‹ Model-Free RLï¼ˆæ— æ¨¡å‹ï¼‰ä¸éœ€è¦å»ç†è§£ç¯å¢ƒçš„å«ä¹‰ Q Learning Sarsa Policy Gradients Model-Based RLï¼ˆæœ‰ç¯å¢ƒï¼‰éœ€è¦å»ç†è§£ç¯å¢ƒçš„å«ä¹‰ï¼Œåœ¨&quot;è„‘å­&quot;ä¸­æ¨¡æ‹Ÿè™šæ‹Ÿç¯å¢ƒ Q Learning Sarsa Policy Gradient å‰è€…éœ€è¦ä¸€æ­¥ä¸€æ­¥å¾—åˆ°ç¯å¢ƒçš„åé¦ˆåæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥ï¼›è€Œåè€…é€šè¿‡æƒ³è±¡æ¥é¢„åˆ¤æ–­æ¥ä¸‹æ¥ä¼šå‘ç”Ÿçš„æƒ…å†µã€‚ åŸºäºæ¦‚ç‡-ä»·å€¼ åŸºäºæ¦‚ç‡ï¼ˆPolicy Based RLï¼‰ï¼š Policy Gradients å³ä½¿æ˜¯æ¦‚ç‡æœ€é«˜çš„ä¹Ÿä¸ä¸€å®šèƒ½è¢«é€‰æ‹©åˆ°ï¼Œå› æ­¤åŸºäºä»·å€¼çš„ç»“æœæ›´ä¸ºé“å®š åŸºäºä»·å€¼ï¼ˆValue Based RLï¼‰ï¼š Q Learning Sarsa ä¸èƒ½ç”¨äºè¿ç»­åŠ¨ä½œï¼Œä½†åŸºäºæ¦‚ç‡èƒ½ä½¿ç”¨æ¦‚ç‡åˆ†å¸ƒåœ¨è¿ç»­åŠ¨ä½œä¸­é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œ ä¸¤è€…çš„ç»Ÿä¸€ä½“ï¼šActor-Critic å›åˆ-å•æ­¥ å›åˆæ›´æ–°ï¼ˆMonte-Carlo updateï¼‰ åŸºç¡€ç‰ˆPolicy Gradients Monte-Carlo Learning åœ¨æ•´ä¸ªå›åˆç»“æŸåå†å­¦ä¹ è½¬æŠ˜ç‚¹ å•æ­¥æ›´æ–°ï¼ˆTemporal-Difference updateï¼‰ Q Learning Sarsa å‡çº§ç‰ˆPolicy Gradients ä¸éœ€è¦ç­‰å¾…å›åˆç»“æŸï¼Œè¾¹ç©è¾¹å­¦ä¹  æ›´å¤šçš„æƒ…å†µä¸‹å•æ­¥æ›´æ–°æ•ˆç‡æ›´é«˜ï¼Œä½†å›´æ£‹æ¸¸æˆä¸€èˆ¬é‡‡ç”¨çš„éƒ½æ˜¯å›åˆæ›´æ–° åœ¨çº¿-ç¦»çº¿ åœ¨çº¿å­¦ä¹ ï¼ˆonline ï¼‰ æœ¬äººåœ¨åœºï¼Œæœ¬äººè¾¹ç©è¾¹å­¦ä¹ ã€‚ Sarsa Sarsa(/lambda/lambda/lambda) ç¦»æ•£å­¦ä¹ ï¼ˆofflineï¼‰ å¯ä»¥é€‰æ‹©è‡ªå·±ç©æˆ–è€…çœ‹åˆ«äººç©ã€‚å¯ä»¥ä»ä¿å­˜çš„ç»“æœä¸­å­¦ä¹  Q Learning Deep Q Network onPolicy-offPolicy on-policy Agentå¿…ç„¶æ‰§è¡Œä½¿Qå‡½æ•°æœ€å¤§çš„åŠ¨ä½œMAX_ACTION Sarsa off-plicy Agentå®é™…ä¸ä¸€å®šæ‰§è¡Œä½¿Qå‡½æ•°æœ€å¤§çš„åŠ¨ä½œMAX_ACTION Q Learning","categories":[],"tags":[{"name":"RL","slug":"RL","permalink":"https://nymrli.top/tags/RL/"}]},{"title":"å¼ºåŒ–å­¦ä¹ â€”â€”QLearning","slug":"å¼ºåŒ–å­¦ä¹ â€”â€”QLearning","date":"2019-09-09T11:32:08.000Z","updated":"2019-09-15T08:07:31.061Z","comments":true,"path":"2019/09/09/å¼ºåŒ–å­¦ä¹ â€”â€”QLearning/","link":"","permalink":"https://nymrli.top/2019/09/09/å¼ºåŒ–å­¦ä¹ â€”â€”QLearning/","excerpt":"","text":"å¼ºåŒ–å­¦ä¹ â€”â€”QLearning ä»·å€¼è½¬ç§»å…¬å¼åªæœ‰ä¸€æ¡Q(s,a)&lt;=Q(s,a)+/alphaâˆ—(rewardâˆ’Q(s,a)+/gammaâˆ—maxaQ(sâ€²,a))=(1âˆ’/alpha)âˆ—Q(s,a)+/alphaâˆ—(reward+/gammaâˆ—maxaQ(sâ€²,a))Q(s,a) &lt;= Q(s,a) + /alpha*(reward - Q(s,a) + /gamma*max_aQ(s&#x27;,a)) = (1-/alpha)*Q(s,a) + /alpha*(reward + /gamma*max_aQ(s&#x27;,a))Q(s,a)&lt;=Q(s,a)+/alphaâˆ—(rewardâˆ’Q(s,a)+/gammaâˆ—maxaâ€‹Q(sâ€²,a))=(1âˆ’/alpha)âˆ—Q(s,a)+/alphaâˆ—(reward+/gammaâˆ—maxaâ€‹Q(sâ€²,a))ï¼Œå³æ–°Q(s1,a2)=è€Q(s1,a2)+/alphaâˆ—å·®è·(ç°å®âˆ’ä¼°è®¡)æ–°Q(s1,a2) = è€Q(s1,a2) + /alpha * å·®è·(ç°å®-ä¼°è®¡)æ–°Q(s1,a2)=è€Q(s1,a2)+/alphaâˆ—å·®è·(ç°å®âˆ’ä¼°è®¡) ALPHAä¸ºå­¦ä¹ ç‡ï¼Œè®¾ç½®ä¼°è®¡ä¸ç°å®çš„å·®è·æœ‰å¤šå°‘è¢«å­¦ä¹ ã€‚èƒ½å¤Ÿä½¿å¾—æ›´æ–°æ¯”è¾ƒå¹³ç¼“ï¼Œé˜²æ­¢æ¨¡å‹è¿‡æ—©æ”¶æ•›åˆ°å±€éƒ¨è§£ å¦‚æœæœ‰ä¸¤ç§é€”å¾„éƒ½èƒ½å¾—åˆ°Rewardå®è—ï¼Œå¦‚æœç›´æ¥è®¾ç½®1ï¼Œé‚£ä¹ˆå¾ˆå¤§ç¨‹åº¦ä¸Šï¼Œç®—æ³•éƒ½ä¼šæ²¿ç€å·²å°è¯•å‡ºæœ‰Rewardçš„è·¯èµ°ï¼Œè™½ç„¶æœ‰E-Greedyçš„æ¢ç´¢ï¼Œä½†æ˜¯é‚£æ ·çš„å¾—åˆ†å¯èƒ½ä¸è‡³äºè®©ç¬¬äºŒæ¡è·¯æˆä¸ºæ›´ä¼˜çš„é€‰æ‹©ã€‚æ‰€ä»¥è®¾ç½®å­¦ä¹ ç‡æœ‰åŠ©äºæ‰¾åˆ°ç¬¬äºŒæ¡è·¯ã€‚ GAMMAä¸ºè¡°å‡ç³»æ•°ï¼ŒmaxaQ(sâ€²,a)max_aQ(s&#x27;,a)maxaâ€‹Q(sâ€²,a)æ˜¯ä¸‹ä¸€ä¸ªæ—¶é—´ç‚¹çš„æœ€å¤§æœŸæœ›å¥–åŠ±ï¼Œå› æ­¤éœ€è¦ç”¨è¡°å‡ç³»æ•°æ¥æƒè¡¡ä¸‹ã€‚å³Q(s1)=r2+/gammaQ(s2)=r2+/gamma(r3+/gammaQ(S3))=...=r2+/gammaâˆ—r3+/gamma2âˆ—r4+/gamma3r5+...Q(s1) = r2 + /gamma Q(s2) = r2 + /gamma(r3+/gamma Q(S3)) = ...= r2 + /gamma *r3+/gamma^{2} *r4+ /gamma^{3} r5 + ...Q(s1)=r2+/gammaQ(s2)=r2+/gamma(r3+/gammaQ(S3))=...=r2+/gammaâˆ—r3+/gamma2âˆ—r4+/gamma3r5+...ï¼Œçº¦åé¢çš„å½±å“è¶Šå° GAMMA == 1æ—¶ï¼ŒAgentèƒ½çœ‹åˆ°ä¹‹åæ‰€æœ‰æ­¥çš„å¥–åŠ±ã€‚ åªä¸è¿‡çœŸæ­£çš„ç†è§£åº”è¯¥æ—¶ååºçš„ï¼Œå³æœ€åä¸€æ­¥æ˜¯å¾—åˆ°æœ€ç»ˆçš„rewardï¼Œç„¶åä¹‹å‰çš„çŠ¶æ€çš„åŠ¨ä½œé€‰æ‹©å›æŠ¥æ˜¯åœ¨è¿™ä¸ªæœ€ç»ˆçš„rewardä¸Šä¸æ–­ä¹˜ä»¥GAMMAè¿›è¡Œè¡°å‡ï¼Œä½¿å¾—S1çš„é€‰æ‹©ä¸è‡³äºè¢«æœ€åçš„é€‰æ‹©è€Œè¿‡å¤šå½±å“ GAMMA == 0æ—¶ï¼ŒAgentåªèƒ½çœ‹åˆ°çœ¼å‰çš„å¥–åŠ± â–²éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå…¬å¼æ˜¯æ›´æ–°å…¬å¼ï¼Œè€Œä¸æ˜¯ç­‰å¼ï¼Œå› æ­¤ä¸¤è¾¹ä¸èƒ½åŒ–ç®€ï¼Œç”¨ä»£ç æ¥è¡¨ç¤ºå°±æ˜¯Q[state, action] = (1-ALPHA)*Q[state, action] + ALPHA*(reward + GAMMA*Q[newstate, action].max()) QLearning-Mazeå¤ºå®è—ï¼š demoä»£ç ï¼š ç¯å¢ƒä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687# env.pyfrom __future__ import print_functionimport copyMAP = / '''.......... .. o .. ..........'''# MAP = /# '''# .........# . x .# . x o .# . .# .........# '''MAP = MAP.strip().split('/n')MAP = [[c for c in line] for line in MAP]DX = [-1, 1, 0, 0]DY = [0, 0, -1, 1]class Env(object): def __init__(self): self.map = copy.deepcopy(MAP) self.x = 1 self.y = 1 self.step = 0 self.total_reward = 0 self.is_end = False def interact(self, action): assert self.is_end is False new_x = self.x + DX[action] new_y = self.y + DY[action] new_pos_char = self.map[new_x][new_y] self.step += 1 if new_pos_char == '.': reward = 0 # do not change position elif new_pos_char == ' ': self.x = new_x self.y = new_y reward = 0 elif new_pos_char == 'o': self.x = new_x self.y = new_y self.map[new_x][new_y] = ' ' # update map self.is_end = True # end reward = 100 elif new_pos_char == 'x': self.x = new_x self.y = new_y self.map[new_x][new_y] = ' ' # update map reward = -5 self.total_reward += reward return reward @property def state_num(self): rows = len(self.map) cols = len(self.map[0]) return rows * cols @property def present_state(self): cols = len(self.map[0]) return self.x * cols + self.y def print_map(self): printed_map = copy.deepcopy(self.map) printed_map[self.x][self.y] = 'A' print('/n'.join([''.join([c for c in line]) for line in printed_map])) def print_map_with_reprint(self, output_list): printed_map = copy.deepcopy(self.map) printed_map[self.x][self.y] = 'A' printed_list = [''.join([c for c in line]) for line in printed_map] for i, line in enumerate(printed_list): output_list[i] = line Agentä»£ç  1234567891011121314151617181920212223242526272829303132333435363738# qlearning.pyfrom __future__ import print_functionimport numpy as npimport timefrom env import EnvEPSILON = 0.1ALPHA = 0.1GAMMA = 0.9MAX_STEP = 30np.random.seed(0)def epsilon_greedy(Q, state): if (np.random.uniform() &gt; 1 - EPSILON) or ((Q[state, :] == 0).all()): action = np.random.randint(0, 4) # 0~3 else: action = Q[state, :].argmax() return actione = Env()Q = np.zeros((e.state_num, 4))for i in range(200): e = Env() while (e.is_end is False) and (e.step &lt; MAX_STEP): action = epsilon_greedy(Q, e.present_state) state = e.present_state reward = e.interact(action) new_state = e.present_state Q[state, action] = (1 - ALPHA) * Q[state, action] + / ALPHA * (reward + GAMMA * Q[new_state, :].max()) e.print_map() time.sleep(0.1) print('Episode:', i, 'Total Step:', e.step, 'Total Reward:', e.total_reward) time.sleep(2) ç¬¬ä¸€æ¬¡é­”æ”¹ä»£ç ï¼š ç¯å¢ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081from __future__ import print_functionimport copymaze = /'''........... .. o .. ...........'''# print(maze)maze = maze.strip().split('/n')# print(maze)MAP = [[col for col in line] for line in maze]# print(MAP)DX = [-1, 0, 1, 0]DY = [0, 1, 0, -1]class Env(object): ''' äº¤äº’ç¯å¢ƒ ''' def __init__(self): self.map = copy.deepcopy(MAP) self.x = 1 self.y = 1 self.step = 0 self.isEnd = False self._score = 0 def interact(self, action): # state = self.state # assert self.isEnd is True newx = self.x + DX[action] newy = self.y + DY[action] newPos = self.map[newx][newy] self.step += 1 if newPos == '.': reward = -10 elif newPos == ' ': self.x = newx self.y = newy reward = 2 elif newPos == 'o': self.x = newx self.y = newy reward = 100 # self.map[newx][newy] = ' 'å¦‚æœä¸updateä¼šæ€ä¹ˆæ ·ï¼Ÿ self.isEnd = True self._score += reward return reward @property def state_num(self): rows = len(self.map) cols = len(self.map[0]) return rows * cols @property def score(self): return self._score @property def present_state(self): return len(self.map[0])*self.x + self.y def printMap(self): printed_map = copy.deepcopy(self.map) printed_map[self.x][self.y] = 'A' print('/n'.join([''.join([c for c in line]) for line in printed_map]))if __name__ == '__main__': e = Env() e.printMap() print(e.score) è¿›è¡Œäº†å¦‚ä¸‹çš„ä¿®æ”¹ï¼š ç¢°åˆ°è¾¹ç•Œ'.'æ—¶ï¼Œå°†ä¼šæ‰£åˆ† å¦‚æœæ²¡æœ‰ä»»ä½•äº‹å‘ç”Ÿçš„è¯ï¼Œé‚£ä¹ˆå¥–åŠ±2åˆ† ä¿®æ”¹åç»“æœå¦‚ä¸‹ Agentä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556from __future__ import print_functionimport numpy as npfrom pprint import pprintfrom env import Envimport timeEPSILON = 0.2ALPHA = 0.1GAMMA = 0.9MAX_STEP = 30TIMES = 30def epsilonGreedy(Q, state): if np.random.uniform() &gt; 1-EPSILON or ((Q[state, :] == 0).all()): action = np.random.randint(0,4) # 0-3ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªæ–¹å‘æ¢ç´¢ else: action = Q[state, :].argmax() # æ‰¾åˆ°å½“å‰ä»·å€¼æœ€å¤§çš„å†³ç­– return actione = Env()np.random.seed(0)Q = np.zeros((e.state_num, 4))success = 0for i in range(TIMES): ne = Env() while (ne.isEnd == False) and (ne.step &lt; MAX_STEP): state = ne.present_state action = epsilonGreedy(Q, state) print(action) # print(Q[ne.x*10+ne.y,:]) reward = ne.interact(action) newstate = ne.present_state if ne.map[newstate//10][newstate%10] == 'o': success += 1 print('success=',success) print(\"ç»“æœä¸ºï¼š\") ne.printMap() print(\"å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š\",Q[newstate,:]) Q[state, action] = (1-ALPHA)*Q[state, action] + / ALPHA*(reward + GAMMA*Q[newstate, action].max()) time.sleep(.05) print('Episode:', i, 'Total Step:', ne.step, 'Total Reward:', ne.score) # Qp = np.reshape(Q, (5,10,4)) # print(Qp) # [ç¬¬ä¸€è¡Œ,[10åˆ—,4ä¸ªæ–¹å‘]] # [ç¬¬äºŒè¡Œ,[10åˆ—,4ä¸ªæ–¹å‘]] # ... time.sleep(2)print(Q)print(success) ä¿®æ”¹åç»“æœ èµ°&quot; &quot;å¾—å¥–åŠ±å€¼è®¾ä¸º+2å¾—æƒ…å†µä¸‹ï¼Œå½“EPSILON=0.1æ—¶ï¼Œ30æ¬¡è®­ç»ƒï¼Œå‡ ä¹éƒ½åœ¨èµ·ç‚¹å·¦å³æ‘‡æ‘†ã€‚ åŸå› æ˜¯æ²¡ç¢°åˆ°å®è—å‰ï¼Œä»–ä»¬è¿™æ ·æ¼«æ— ç›®çš„çš„èµ°æ˜¯å¾—åˆ†æœ€é«˜çš„ã€‚ å¤„ç†çš„æ–¹æ³•ï¼š1.ä¿®æ”¹Epsilonå€¼ï¼Œè®©ä»–ä»¬æœ‰æ›´å¤šçš„æœºä¼šå»æ¢ç´¢ï¼›2.å¢å¤§è®­ç»ƒçš„æ¬¡æ•°ï¼Œä¸€æ—¦ä»–ä»¬æ›¾ç»åˆ°è¿‡å®è—ï¼Œé‚£ä¹ˆä»–ä»¬ä¼šå¾€è¿™ä¸ªå¥½çš„æ–¹å‘ä¼˜åŒ– æ³¨æ„ï¼Œå¦‚æœè®¾ç½®&quot; &quot;çš„å¥–åŠ±çš„è¯ï¼Œéœ€è¦æ…é‡è€ƒè™‘ï¼Œå› ä¸ºå·¦å³æ‘‡æ‘†æœ€é«˜çš„å¥–åŠ±å€¼åœ¨MAX_STEP=30çš„æƒ…å†µä¸‹æ˜¯èƒ½è¾¾åˆ°60çš„ã€‚æ‰€ä»¥å®è—çš„å¥–åŠ±å€¼ä¸€å®šè¦ç•¥å¤§äºMAX_SETP*EMPTY_REWARDæ‰èƒ½è¾¾åˆ°è®­ç»ƒçš„ç›®çš„ï¼›åŒæ—¶ï¼Œå¯èƒ½å¯¼è‡´æ‰¾ä¸åˆ°æœ€å¿«å¯»åˆ°å®è—çš„å¯èƒ½,æ¯”å¦‚åœ¨å®è—é—¨å‰æ¥å›æ™ƒæ‚ æ¥è·å¾—&quot; &quot;å¥–åŠ±-&gt;è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥æ ¹æ®å½“å‰æ­¥æ•°æ¥è®¾ç½®å®è—çš„åˆ†æ•° ç¢°åˆ°'.'æ‰£åˆ†ï¼Œä½¿å¾—Agentä¸å€¾å‘äºæ’å¢™ï¼Œè¿™ä¸ªæ˜¯ä¸ªä¸é”™çš„ä¿®æ”¹ï¼Œä»Qè¡¨ä¸­ä¹Ÿèƒ½çœ‹åˆ°æ˜æ˜¾çš„æ•ˆæœã€‚ä½†æ˜¯ä¸€æ—¦ä¹‹åå‡ºç°æœ‰é™·é˜±çš„æƒ…å†µ&quot;X&quot;ï¼Œé‚£ä¹ˆè¿™è¾¹çš„æƒ©ç½šå€¼å¾—è®¾å®šéœ€è¦æ…é‡è€ƒè™‘ ç¬¬äºŒæ¬¡é­”æ”¹ä»£ç  ç¯å¢ƒä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889from __future__ import print_functionimport copyTREASURE = 'o'TRAP = 'X'maze = /'''........... &#123;trap&#125; .. &#123;treasure&#125; .. ...........'''.format(treasure=TREASURE,trap=TRAP)# print(maze)maze = maze.strip().split('/n')# print(maze)MAP = [[col for col in line] for line in maze]# print(MAP)DX = [-1, 0, 1, 0]DY = [0, 1, 0, -1]class Env(object): ''' äº¤äº’ç¯å¢ƒ ''' def __init__(self): self.map = copy.deepcopy(MAP) self.x = 1 self.y = 1 self.step = 0 self.isEnd = False self._score = 0 def interact(self, action): # state = self.state # assert self.isEnd is True newx = self.x + DX[action] newy = self.y + DY[action] newPos = self.map[newx][newy] self.step += 1 if newPos == '.': reward = -10 elif newPos == ' ': self.x = newx self.y = newy reward = 2 elif newPos == 'o': self.x = newx self.y = newy reward = 100 # self.map[newx][newy] = ' 'å¦‚æœä¸updateä¼šæ€ä¹ˆæ ·ï¼Ÿ self.isEnd = True elif newPos == 'X': self.x = newx self.y = newy reward = -50 self.isEnd = True self._score += reward return reward @property def state_num(self): rows = len(self.map) cols = len(self.map[0]) return rows * cols @property def score(self): return self._score @property def present_state(self): return len(self.map[0])*self.x + self.y def printMap(self): printed_map = copy.deepcopy(self.map) printed_map[self.x][self.y] = 'A' print('/n'.join([''.join([c for c in line]) for line in printed_map]))if __name__ == '__main__': e = Env() e.printMap() print(e.score) è¿›è¡Œäº†å¦‚ä¸‹ä¿®æ”¹ ç¢°åˆ°é™·é˜±'X'æ—¶ï¼Œå°†ä¼šæ‰£è¾ƒå¤šçš„åˆ† Agentä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182from __future__ import print_functionimport numpy as npfrom pprint import pprintfrom env import Envimport timeEPSILON = 0.2ALPHA = 0.1GAMMA = 0.9MAX_STEP = 30TIMES = 40TEST_TIMES = 5def epsilonGreedy(Q, state): if np.random.uniform() &gt; 1-EPSILON or ((Q[state, :] == 0).all()): action = np.random.randint(0,4) # 0-3ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªæ–¹å‘æ¢ç´¢ else: action = Q[state, :].argmax() # æ‰¾åˆ°å½“å‰ä»·å€¼æœ€å¤§çš„å†³ç­– return actione = Env()np.random.seed(0)Q = np.zeros((e.state_num, 4))# ç”¨Epsilon_Greedyç­–ç•¥è·å¾—Qè¡¨def Qtrain(): success = 0 for i in range(TIMES): ne = Env() while (ne.isEnd == False) and (ne.step &lt; MAX_STEP): state = ne.present_state action = epsilonGreedy(Q, state) print(\"å½“å‰çš„é€‰æ‹©ä¸ºï¼š\",action) # print(Q[ne.x*10+ne.y,:]) reward = ne.interact(action) newstate = ne.present_state if ne.map[newstate//10][newstate%10] == 'o': success += 1 print('success=',success) print(\"ç»“æœä¸ºï¼š\") ne.printMap() print(\"å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š\",Q[newstate,:],'/n') Q[state, action] = (1-ALPHA)*Q[state, action] + / ALPHA*(reward + GAMMA*Q[newstate, action].max()) time.sleep(.05) print('Episode:', i, 'Total Step:', ne.step, 'Total Reward:', ne.score) print('-'*20, '/n/n') # Qp = np.reshape(Q, (5,10,4)) # print(Qp) time.sleep(2) print(Q) print(success)# ä½¿ç”¨Qè¡¨èµ°æ£‹æµ‹è¯•,ç”±äºQè¡¨ç¡®å®šï¼Œæ‰€ä»¥å…¶å®æ¯æ¬¡çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„def Qtest(): print('*'*10,\"å¼€å§‹æµ‹è¯•\",'*'*10) for i in range(TEST_TIMES): ne = Env() while (ne.isEnd == False) and (ne.step &lt; MAX_STEP): state = ne.present_state action = Q[state,:].argmax() print(\"å½“å‰çš„é€‰æ‹©ä¸ºï¼š\",action) # print(Q[ne.x*10+ne.y,:]) reward = ne.interact(action) newstate = ne.present_state print(\"ç»“æœä¸ºï¼š\") ne.printMap() print(\"å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š\",Q[newstate,:],'/n') time.sleep(.05) print('Episode:', i, 'Total Step:', ne.step, 'Total Reward:', ne.score) print('-'*20,'/n/n') time.sleep(2)if __name__ == '__main__': Qtrain() Qtest() ä¿®æ”¹åç»“æœï¼š ç”±äºèµ°ç©º&quot; &quot;ç°è±¡ä»ç„¶å­˜åœ¨ï¼Œæ„Ÿè§‰å¥–åŠ±ç»™2ä»æ˜¯å¤ªå¤š EPSILON=0.2ï¼Œéšæœºä¹±èµ°çš„å‡ ç‡å¾ˆé«˜ï¼Œå¯¼è‡´å¼€å±€è¸©åˆ°é™·é˜±Xçš„æ¦‚ç‡å¾ˆå¤§ æš´æ¯™ç»“æœ(è®­ç»ƒä¸­æ²¡ç¢°åˆ°è¿‡å®è—) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748********** å¼€å§‹æµ‹è¯• **********å½“å‰çš„é€‰æ‹©ä¸ºï¼š 2ç»“æœä¸ºï¼š........... X ..A o .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [ 0.12753822 0. 1.0434062 -2.9701 ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 2ç»“æœä¸ºï¼š........... X .. o ..A ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [ 0.21147844 2.30159071 0. -1.99 ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. o .. A ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [-0.313 0.398 -1. 1.04984339] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 3ç»“æœä¸ºï¼š........... X .. o ..A ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [ 0.21147844 2.30159071 0. -1.99 ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. o .. A ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [-0.313 0.398 -1. 1.04984339] ...ä¹‹åéƒ½æ˜¯1å’Œ3çš„å¾ªç¯é€‰æ‹© å¯ä»¥çœ‹åˆ°ï¼Œè¿™è¾¹ä¸Šä¸‹å˜æˆäº†æ­»å¾ªç¯ã€‚è¿™æ˜¯å½“æ‰€æœ‰è®­ç»ƒä¸­éƒ½æ²¡æœ‰è¸©åˆ°è¿‡å®è—çš„æƒ…å†µã€‚ â–².ä½¿è®­ç»ƒä¸­æ›´æœ‰å¯èƒ½ç¢°åˆ°å®è—çš„æ–¹æ³• è®­ç»ƒçš„æ¬¡æ•°Tè¶³å¤Ÿå¤š å¦‚æœè®­ç»ƒæ¬¡æ•°å°‘çš„è¯ï¼Œéœ€è¦åˆç†è®¾ç½®EPSILONï¼Œä½¿å¾—Agentæœ‰æ›´å¤šçš„æœºä¼šæ¢ç´¢ MAX_STEPè®¾ç½®åˆç† ç‰¹æ®Šæƒ…å†µè€ƒè™‘ï¼ˆå‘ç”Ÿæ¦‚ç‡å¾ˆå°ï¼‰ â–².è¿˜æœ‰ä¸€ç‚¹è¦è¯´æ˜çš„æ˜¯ï¼šQ:æœ‰ç§æƒ…å†µæ˜¯ï¼ŒåŒæ ·éƒ½æ˜¯èµ°ç©ºå¾—2åˆ†ï¼Œä¸ºä»€ä¹ˆå‘ä¸Šå¾—å¾—åˆ†æ˜¯18ï¼Œè€Œå‘å³å¾—å¾—åˆ†æ˜¯2å‘¢ï¼Ÿ Aï¼šå› ä¸ºDxï¼ŒDyçš„å¾ªåºï¼ˆä¸Šå³ä¸‹å·¦ï¼‰å†³å®šäº†ã€‚å½“å››ä¸ªå¾—åˆ†éƒ½ä¸€æ ·æ—¶å¦‚[2,2,2,2]ï¼Œé‚£ä¹ˆå°†ä¼šä¼˜å…ˆé€‰æ‹©ä¸Šï¼Œå› ä¸ºå¦‚æœèµ°ç©ºæœ‰å¥–åŠ±ï¼Œæ‰€ä»¥ä¸Šæ¯”å³çš„å¾—åˆ†ä¼šé«˜å¾ˆå¤šã€‚ 1234567891011# env.pyDX = [-1, 0, 1, 0]DY = [0, 1, 0, -1]# ...def epsilonGreedy(Q, state): if np.random.uniform() &gt; 1-EPSILON or ((Q[state, :] == 0).all()): action = np.random.randint(0,4) # 0-3ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªæ–¹å‘æ¢ç´¢ else: action = Q[state, :].argmax() # æ‰¾åˆ°å½“å‰ä»·å€¼æœ€å¤§çš„å†³ç­– # â–²argmax()å½“æœ€å¤§å€¼ç›¸åŒæ—¶ï¼Œå–ç´¢å¼•æœ€å°çš„ return action å³ 12345678910111213# Test1a = np.array([ [1,0,1,1], [2,1,3,1]])print(a[0,:].argmax())# 0# Test2a = np.array([ [1,0,3,3], [2,1,3,1]])print(a[0,:].argmax())# 2 æµ‹è¯•èµ°ç©ºâ€“å¥–åŠ±å€¼ èµ°ç©ºæ— å¥–åŠ±å€¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647å½“å‰çš„é€‰æ‹©ä¸ºï¼š 2ç»“æœä¸ºï¼š........... X ..A o .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [-0.501399 23.9585123 0. -3.940399 ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. A o .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [-20.4755 41.20097133 0. -0.267309 ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. A o .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [-0.457659 66.18493075 -0.2439 0. ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. Ao .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [ 0. 94.1850263 0. 0. ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. A .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [0. 0. 0. 0.] Episode: 4 Total Step: 5 Total Reward: 100-------------------- èµ°ç©ºæœ‰+2å¥–åŠ±çš„ç»“æœ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647å½“å‰çš„é€‰æ‹©ä¸ºï¼š 2ç»“æœä¸ºï¼š........... X ..A o .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [-0.41254159 6.24693379 -0.03645728 -3.940399 ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. A o .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [-9.5 21.14440154 0.2981 0. ] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. A o .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [ 5.16800000e-01 5.26069497e+01 -3.14898100e-02 3.80000000e-01] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. Ao .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [ 0.45506025 83.3228183 1.0434062 2.28281481] å½“å‰çš„é€‰æ‹©ä¸ºï¼š 1ç»“æœä¸ºï¼š........... X .. A .. ...........å†ä¸‹ä¸€æ­¥çš„å¾—åˆ†ï¼š [0. 0. 0. 0.] Episode: 4 Total Step: 5 Total Reward: 108-------------------- å¤šæ¬¡æµ‹è¯•ç»éªŒæ€»ç»“ï¼š","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"RL","slug":"RL","permalink":"https://nymrli.top/tags/RL/"}]},{"title":"æœºå™¨å­¦ä¹ â€”â€”å†³ç­–æ ‘","slug":"æœºå™¨å­¦ä¹ â€”â€”å†³ç­–æ ‘","date":"2019-08-30T13:44:35.000Z","updated":"2021-05-30T05:06:12.207Z","comments":true,"path":"2019/08/30/æœºå™¨å­¦ä¹ â€”â€”å†³ç­–æ ‘/","link":"","permalink":"https://nymrli.top/2019/08/30/æœºå™¨å­¦ä¹ â€”â€”å†³ç­–æ ‘/","excerpt":"","text":"æœºå™¨å­¦ä¹ â€”â€”å†³ç­–æ ‘ å†³ç­–æ ‘åŸºç¡€æ¦‚å¿µ å†³ç­–æ ‘åˆ†ä¸ºåˆ†ç±»æ ‘å’Œå›å½’æ ‘ä¸¤ç§ï¼Œåˆ†ç±»æ ‘å¯¹ç¦»æ•£å˜é‡åšå†³ç­–æ ‘ï¼Œå›å½’æ ‘å¯¹è¿ç»­å˜é‡åšå†³ç­–æ ‘ã€‚ æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹ï¼ˆéå¶å­èŠ‚ç‚¹ï¼‰è¡¨ç¤ºä¸€ä¸ªå±æ€§ä¸Šçš„æµ‹è¯•æ¡ä»¶ï¼Œæ¯ä¸ªåˆ†æ”¯ä»£è¡¨ä¸€ä¸ªæµ‹è¯•è¾“å‡ºç»“æœï¼Œæ¯ä¸ªå¶èŠ‚ç‚¹ä»£è¡¨ä¸€ç§ç±»åˆ« å†³ç­–æ ‘åˆ†ä¸ºåˆ†ç±»æ ‘å’Œå›å½’æ ‘ä¸¤ç§ï¼Œåˆ†ç±»æ ‘å¯¹ç¦»æ•£å˜é‡åšå†³ç­–æ ‘ï¼Œå›å½’æ ‘å¯¹è¿ç»­å˜é‡åšå†³ç­–æ ‘ã€‚ å†³ç­–æ ‘çš„æ„é€ è¿‡ç¨‹å°±æ˜¯æ‰¾åˆ°è¿™äº›å…·æœ‰å†³å®šæ€§ä½œç”¨çš„ç‰¹å¾ï¼Œæ ¹æ®å…¶å†³å®šæ€§ç¨‹åº¦æ¥æ„é€ ä¸€ä¸ªå€’ç«‹çš„æ ‘â€“å†³å®šæ€§ä½œç”¨æœ€å¤§çš„é‚£ä¸ªç‰¹å¾ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œç„¶åé€’å½’æ‰¾åˆ°å„åˆ†æ”¯ä¸‹å­æ•°æ®é›†ä¸­æ¬¡å¤§çš„å†³å®šæ€§ç‰¹å¾ï¼Œç›´è‡³å­æ•°æ®é›†ä¸­æ‰€æœ‰æ•°æ®éƒ½å±äºåŒä¸€ç±»ã€‚ ç‰¹å¾ï¼š æœ‰ç›‘ç£çš„å­¦ä¹  éå‚æ•°å­¦ä¹ ç®—æ³• è‡ªé¡¶å‘ä¸‹é€’å½’æ–¹å¼æ„é€ å†³ç­–æ ‘ åœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸­éƒ½é‡‡å–åœ¨å½“å‰çŠ¶æ€ä¸‹æœ€å¥½\\ä¼˜çš„é€‰æ‹© å†³ç­–æ ‘ç”Ÿæˆè¿‡ç¨‹ ä¸€æ£µå†³ç­–æ ‘çš„ç”Ÿæˆè¿‡ç¨‹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹3ä¸ªéƒ¨åˆ†: ç‰¹å¾é€‰æ‹©ï¼šç‰¹å¾é€‰æ‹©æ˜¯æŒ‡ä»è®­ç»ƒæ•°æ®ä¸­ä¼—å¤šçš„ç‰¹å¾ä¸­é€‰æ‹©ä¸€ä¸ªç‰¹å¾ä½œä¸ºå½“å‰èŠ‚ç‚¹çš„åˆ†è£‚æ ‡å‡†ï¼Œå¦‚ä½•é€‰æ‹©ç‰¹å¾æœ‰ç€å¾ˆå¤šä¸åŒé‡åŒ–è¯„ä¼°æ ‡å‡†æ ‡å‡†ï¼Œä»è€Œè¡ç”Ÿå‡ºä¸åŒçš„å†³ç­–æ ‘ç®—æ³•ã€‚ å†³ç­–æ ‘ç”Ÿæˆï¼š æ ¹æ®é€‰æ‹©çš„ç‰¹å¾è¯„ä¼°æ ‡å‡†ï¼Œä»ä¸Šè‡³ä¸‹é€’å½’åœ°ç”Ÿæˆå­èŠ‚ç‚¹ï¼Œç›´åˆ°æ•°æ®é›†ä¸å¯åˆ†åˆ™åœæ­¢å†³ç­–æ ‘åœæ­¢ç”Ÿé•¿ã€‚ æ ‘ç»“æ„æ¥è¯´ï¼Œé€’å½’ç»“æ„æ˜¯æœ€å®¹æ˜“ç†è§£çš„æ–¹å¼ã€‚ å‰ªæï¼šå†³ç­–æ ‘å®¹æ˜“è¿‡æ‹Ÿåˆï¼Œä¸€èˆ¬æ¥éœ€è¦å‰ªæï¼Œç¼©å°æ ‘ç»“æ„è§„æ¨¡ã€ç¼“è§£è¿‡æ‹Ÿåˆã€‚å‰ªææŠ€æœ¯æœ‰é¢„å‰ªæå’Œåå‰ªæä¸¤ç§ã€‚ åŸºäºä¿¡æ¯è®ºçš„ä¸‰ç§å†³ç­–æ ‘ç®—æ³• åˆ’åˆ†æ•°æ®é›†çš„æœ€å¤§åŸåˆ™æ˜¯ï¼šä½¿æ— åºçš„æ•°æ®å˜çš„æœ‰åºã€‚ ç†µé™ä½çš„é€Ÿåº¦è¶Šå¿«è¶Šå¥½==&gt;æ ‘çš„é«˜åº¦æœ€çŸ® åŸºäºä¿¡æ¯è®ºçš„å†³ç­–æ ‘ç®—æ³•æœ‰ID3ã€CARTå’ŒC4.5ç­‰ç®—æ³•ï¼Œå…¶ä¸­C4.5å’ŒCARTä¸¤ç§ç®—æ³•ä»ID3ç®—æ³•ä¸­è¡ç”Ÿè€Œæ¥ã€‚ ID3ç®—æ³• ä¿¡æ¯å¢ç›Šä½œä¸ºè¯„ä¼°æ ‡å‡†ï¼Œåˆ†æ”¯èŠ‚ç‚¹é€‰æ‹©ç‰¹å¾Xä¿¡æ¯å¢ç›Šæœ€å¤§çš„ å¯ç”¨äºåˆ’åˆ†æ ‡ç§°å‹æ•°æ®é›†ï¼Œæ²¡æœ‰å‰ªæçš„è¿‡ç¨‹ï¼Œä¸ºäº†å»é™¤è¿‡åº¦æ•°æ®åŒ¹é…çš„é—®é¢˜ï¼Œå¯é€šè¿‡è£å‰ªåˆå¹¶ç›¸é‚»çš„æ— æ³•äº§ç”Ÿå¤§é‡ä¿¡æ¯å¢ç›Šçš„å¶å­èŠ‚ç‚¹ï¼ˆä¾‹å¦‚è®¾ç½®ä¿¡æ¯å¢ç›Šé˜€å€¼ï¼‰ã€‚ä½¿ç”¨ä¿¡æ¯å¢ç›Šçš„è¯ï¼Œå…¶å®æ˜¯æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œé‚£å°±æ˜¯å®ƒåå‘äºå…·æœ‰å¤§é‡å€¼çš„å±æ€§â€“å°±æ˜¯è¯´åœ¨è®­ç»ƒé›†ä¸­ï¼ŒæŸä¸ªå±æ€§æ‰€å–çš„ä¸åŒå€¼çš„ä¸ªæ•°è¶Šå¤šï¼Œé‚£ä¹ˆè¶Šæœ‰å¯èƒ½æ‹¿å®ƒæ¥ä½œä¸ºåˆ†è£‚å±æ€§ C4.5ç®—æ³• C4.5æ˜¯ID3çš„ä¸€ä¸ªæ”¹è¿›ç®—æ³•ï¼Œç»§æ‰¿äº†ID3ç®—æ³•çš„ä¼˜ç‚¹ã€‚ C4.5ç®—æ³•ç”¨ä¿¡æ¯å¢ç›Šç‡æ¥é€‰æ‹©å±æ€§ï¼Œ å…‹æœäº†ç”¨ä¿¡æ¯å¢ç›Šé€‰æ‹©å±æ€§æ—¶åå‘é€‰æ‹©å–å€¼å¤šçš„å±æ€§çš„ä¸è¶³åœ¨æ ‘æ„é€ è¿‡ç¨‹ä¸­è¿›è¡Œå‰ªæï¼› èƒ½å¤Ÿå®Œæˆå¯¹è¿ç»­å±æ€§çš„ç¦»æ•£åŒ–å¤„ç†ï¼›èƒ½å¤Ÿå¯¹ä¸å®Œæ•´æ•°æ®è¿›è¡Œå¤„ç†ã€‚ CARTç®—æ³•ï¼ˆClassification And Regression Treeï¼‰ **é‡‡ç”¨çš„æ˜¯GiniæŒ‡æ•°ï¼ˆé€‰GiniæŒ‡æ•°æœ€å°çš„ç‰¹å¾sï¼‰**ä½œä¸ºåˆ†è£‚æ ‡å‡† åŒæ—¶å®ƒä¹Ÿæ˜¯åŒ…å«åå‰ªææ“ä½œ ID3å’ŒC4.5è™½å¯å°½å¯èƒ½æŒ–æ˜æ•°æ®ä¿¡æ¯ï¼Œä½†ç”Ÿæˆçš„å†³ç­–æ ‘åˆ†æ”¯è¾ƒå¤§ã€‚CARTå¯ä»¥ç®€åŒ–å†³ç­–æ ‘çš„è§„æ¨¡ï¼Œæé«˜ç”Ÿæˆå†³ç­–æ ‘çš„æ•ˆç‡ å†³ç­–æ ‘ä¼˜ç¼ºç‚¹ å†³ç­–æ ‘é€‚ç”¨äºæ•°å€¼å‹å’Œæ ‡ç§°å‹ï¼ˆç¦»æ•£å‹æ•°æ®ï¼Œå˜é‡çš„ç»“æœåªåœ¨æœ‰é™ç›®æ ‡é›†ä¸­å–å€¼ï¼‰ï¼Œèƒ½å¤Ÿè¯»å–æ•°æ®é›†åˆï¼Œæå–ä¸€äº›åˆ—æ•°æ®ä¸­è•´å«çš„è§„åˆ™ã€‚åœ¨åˆ†ç±»é—®é¢˜ä¸­ä½¿ç”¨å†³ç­–æ ‘æ¨¡å‹æœ‰å¾ˆå¤šçš„ä¼˜ç‚¹ï¼Œ1.å†³ç­–æ ‘è®¡ç®—å¤æ‚åº¦ä¸é«˜ã€ä¾¿äºä½¿ç”¨ã€è€Œä¸”é«˜æ•ˆï¼Œ2.å†³ç­–æ ‘å¯å¤„ç†å…·æœ‰ä¸ç›¸å…³ç‰¹å¾çš„æ•°æ®ã€3.å¯å¾ˆå®¹æ˜“åœ°æ„é€ å‡ºæ˜“äºç†è§£çš„è§„åˆ™ï¼Œè€Œè§„åˆ™é€šå¸¸æ˜“äºè§£é‡Šå’Œç†è§£ã€‚ å†³ç­–æ ‘æ¨¡å‹ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œæ¯”å¦‚1.å¤„ç†ç¼ºå¤±æ•°æ®æ—¶çš„å›°éš¾ã€2.è¿‡åº¦æ‹Ÿåˆä»¥åŠ3.å¿½ç•¥æ•°æ®é›†ä¸­å±æ€§ä¹‹é—´çš„ç›¸å…³æ€§ç­‰ã€‚ ID3æ•°å­¦åŸç† ä¿¡æ¯ç†µ(é¦™å†œç†µ)ï¼š ä¸€ç§åº¦é‡ä¸ç¡®å®šæ€§çš„æ–¹å¼ï¼Œæ˜¯ç”¨æ¥è¡¡é‡éšæœºå˜é‡ä¸ç¡®å®šæ€§çš„ï¼Œç†µå°±æ˜¯ä¿¡æ¯çš„æœŸæœ›å€¼ å¦‚æœå¾…åˆ†ç±»çš„äº‹ç‰©å¯èƒ½åˆ’åˆ†åœ¨å¤šä¸ªåˆ†ç±»ä¹‹ä¸­ï¼Œåˆ™ç¬¦å·xiçš„ä¿¡æ¯å®šä¹‰ä¸ºI(xi)=âˆ’logâ¡2p(xi)\\mathrm{I}\\left(x_{i}\\right)=-\\log _{2} p\\left(x_{i}\\right)I(xiâ€‹)=âˆ’log2â€‹p(xiâ€‹)ï¼Œå…¶ä¸­p(xi)æ˜¯é€‰æ‹©è¯¥åˆ†ç±»çš„æ¦‚ç‡ã€‚ æœ‰äººå¯èƒ½ä¼šé—®ï¼Œä¿¡æ¯ä¸ºå•¥è¿™æ ·å®šä¹‰å•Šï¼Ÿç­”æ›°ï¼šå‰è¾ˆå¾—å‡ºçš„ç»“è®ºã€‚è¿™å°±è·Ÿ1+1ç­‰äº2ä¸€æ ·ï¼Œè®°ä½å¹¶ä¸”ä¼šç”¨å³å¯ã€‚ä¸Šè¿°å¼ä¸­çš„å¯¹æ•°ä»¥2ä¸ºåº•ï¼Œä¹Ÿå¯ä»¥eä¸ºåº•(è‡ªç„¶å¯¹æ•°)ã€‚ è‹¥éšæœºäº‹ä»¶å‘ç”Ÿçš„ç»“æœè®°ä¸ºXï¼Œä¸”å¾…åˆ†ç±»çš„äº‹ç‰©å¯èƒ½åˆ’åˆ†åœ¨Nç±»ä¸­ï¼Œåˆ†åˆ«æ˜¯x1ï¼Œx2ï¼Œâ€¦â€¦ï¼Œxnï¼Œæ¯ä¸€ç§å–åˆ°çš„æ¦‚ç‡åˆ†åˆ«æ˜¯P1ï¼ŒP2ï¼Œâ€¦â€¦ï¼ŒPnï¼Œé‚£ä¹ˆXçš„ç†µå°±å®šä¹‰ä¸ºï¼š H=âˆ’âˆ‘i=1np(xi)logâ¡2p(xi)\\mathrm{H}=-\\sum_{\\mathrm{i}=1}^{n} \\mathrm{p}\\left(x_{i}\\right) \\log _{2} p\\left(x_{i}\\right)H=âˆ’âˆ‘i=1nâ€‹p(xiâ€‹)log2â€‹p(xiâ€‹) åæ˜ äº†æ¯ä¸€ä¸ªå…ƒç´ åœ¨è¯¥ç±»åˆ«ä¸‹çš„ä¸çº¯åº¦ï¼Œå¦‚{1,2,3,4}è·Ÿ{1,1,1,2}ç›¸æ¯”,æ¯ä¸ªå…ƒç´ 1-4çš„logPiéƒ½å¾ˆå¤§,å› æ­¤sumçš„ç†µå°±è¦å¤§å¾ˆå¤šã€‚ æ³¨ï¼šæœ‰&quot;æŸä¸ªç±»åˆ«çš„ç»“æœ&quot;çš„ç†µï¼ˆæŸä¸ªç‰¹å¾æœ‰å¤šä¸ªå€¼ï¼‰ï¼Œä¹Ÿæœ‰&quot;æŸäº‹ä»¶ç»“æœ&quot;çš„ç†µï¼ˆè¯¥äº‹ä»¶æœ‰å¤šä¸ªç‰¹å¾ï¼‰ã€‚ç›´è§‚æ¥è®²ï¼Œç»“æœç§ç±»è¶Šå¤šï¼Œç†µå€¼è¶Šå¤§ã€‚ å½“ç†µä¸­çš„æ¦‚ç‡ç”±æ•°æ®ä¼°è®¡(ç‰¹åˆ«æ˜¯æœ€å¤§ä¼¼ç„¶ä¼°è®¡)å¾—åˆ°æ—¶ï¼Œæ‰€å¯¹åº”çš„ç†µç§°ä¸ºç»éªŒç†µ(empirical entropy)ã€‚ä»€ä¹ˆå«ç”±æ•°æ®ä¼°è®¡ï¼Ÿæ¯”å¦‚æœ‰10ä¸ªæ•°æ®ï¼Œä¸€å…±æœ‰ä¸¤ä¸ªç±»åˆ«ï¼ŒAç±»å’ŒBç±»ã€‚å…¶ä¸­æœ‰7ä¸ªæ•°æ®å±äºAç±»ï¼Œåˆ™è¯¥Aç±»çš„æ¦‚ç‡å³ä¸ºååˆ†ä¹‹ä¸ƒã€‚å…¶ä¸­æœ‰3ä¸ªæ•°æ®å±äºBç±»ï¼Œåˆ™è¯¥Bç±»çš„æ¦‚ç‡å³ä¸ºååˆ†ä¹‹ä¸‰ã€‚æµ…æ˜¾çš„è§£é‡Šå°±æ˜¯ï¼Œè¿™æ¦‚ç‡æ˜¯æˆ‘ä»¬æ ¹æ®æ•°æ®æ•°å‡ºæ¥çš„ã€‚ ç»éªŒç†µä¸¾ä¾‹ï¼š æˆ‘ä»¬å®šä¹‰è´·æ¬¾ç”³è¯·æ ·æœ¬æ•°æ®è¡¨ä¸­çš„æ•°æ®ä¸ºè®­ç»ƒæ•°æ®é›†Dï¼Œåˆ™è®­ç»ƒæ•°æ®é›†Dçš„ç»éªŒç†µä¸ºH(D)ã€‚|D|è¡¨ç¤ºå…¶æ ·æœ¬å®¹é‡ï¼Œå³æ ·æœ¬ä¸ªæ•°ã€‚è®¾æœ‰Kä¸ªç±»Ck, = 1,2,3,â€¦,K,|Ck|ä¸ºå±äºç±»Ckçš„æ ·æœ¬ä¸ªæ•°ï¼Œå› æ­¤ç»éªŒç†µå…¬å¼å°±å¯ä»¥å†™ä¸º ï¼š H(D)=âˆ’âˆ‘k=1Kâˆ£ckâˆ£âˆ£Dâˆ£logâ¡2âˆ£Ckâˆ£âˆ£Dâˆ£\\mathrm{H}(\\mathrm{D})=-\\sum_{k=1}^{K} \\frac{\\left|c_{k}\\right|}{|D|} \\log _{2} \\frac{\\left|C_{k}\\right|}{|D|}H(D)=âˆ’âˆ‘k=1Kâ€‹âˆ£Dâˆ£âˆ£ckâ€‹âˆ£â€‹log2â€‹âˆ£Dâˆ£âˆ£Ckâ€‹âˆ£â€‹ ï¼Œå³p(Ck)=âˆ£Ckâˆ£âˆ£Dâˆ£p(C_k)=\\frac{\\left|C_{k}\\right|}{|D|}p(Ckâ€‹)=âˆ£Dâˆ£âˆ£Ckâ€‹âˆ£â€‹ç”±æ ·æœ¬æ•°æ®å‡ºæ¥çš„ç»“æœã€‚ æ ¹æ®æ­¤å…¬å¼è®¡ç®—ç»éªŒç†µH(D)ï¼Œåˆ†æè´·æ¬¾ç”³è¯·æ ·æœ¬æ•°æ®è¡¨ä¸­çš„æ•°æ®ã€‚æœ€ç»ˆåˆ†ç±»ç»“æœåªæœ‰ä¸¤ç±»ï¼Œå³æ”¾è´·å’Œä¸æ”¾è´·ã€‚æ ¹æ®è¡¨ä¸­çš„æ•°æ®ç»Ÿè®¡å¯çŸ¥ï¼Œåœ¨15ä¸ªæ•°æ®ä¸­ï¼Œ9ä¸ªæ•°æ®çš„ç»“æœä¸ºæ”¾è´·ï¼Œ6ä¸ªæ•°æ®çš„ç»“æœä¸ºä¸æ”¾è´·ã€‚æ‰€ä»¥æ•°æ®é›†Dçš„ç»éªŒç†µH(D)ä¸ºï¼š H(D)=âˆ’915logâ¡2915âˆ’615logâ¡2615=0.971\\mathrm{H}(\\mathrm{D})=-\\frac{9}{15} \\log _{2} \\frac{9}{15}-\\frac{6}{15} \\log _{2} \\frac{6}{15}=0.971H(D)=âˆ’159â€‹log2â€‹159â€‹âˆ’156â€‹log2â€‹156â€‹=0.971 ç»è¿‡è®¡ç®—å¯çŸ¥ï¼Œæ•°æ®é›†Dçš„ç»éªŒç†µH(D)çš„å€¼ä¸º0.971ã€‚ â–²ç†µå€¼è¶Šé«˜ï¼Œåˆ™æ•°æ®æ··åˆçš„ç§ç±»è¶Šé«˜ï¼Œå…¶è•´å«çš„å«ä¹‰æ˜¯ä¸€ä¸ªå˜é‡å¯èƒ½çš„å˜åŒ–è¶Šå¤šï¼ˆåè€Œè·Ÿå˜é‡å…·ä½“çš„å–å€¼æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå’Œå€¼çš„ç§ç±»å¤šå°‘ä»¥åŠå‘ç”Ÿæ¦‚ç‡æœ‰å…³ï¼‰ æ¡ä»¶ç†µ è¡¨ç¤ºåœ¨å·²çŸ¥éšæœºå˜é‡Xçš„æ¡ä»¶ä¸‹éšæœºå˜é‡Yçš„ä¸ç¡®å®šæ€§ï¼Œå…¶å®šä¹‰ä¸ºXåœ¨ç»™å®šæ¡ä»¶ä¸‹Yçš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒçš„ç†µå¯¹Xçš„æ•°å­¦æœŸæœ›: H(Yâˆ£X)=âˆ‘i=1npiH(Yâˆ£X=xi)H(Y | X)=\\sum_{i=1}^{n} p_{i} H\\left(Y | X=x_{i}\\right)H(Yâˆ£X)=âˆ‘i=1nâ€‹piâ€‹H(Yâˆ£X=xiâ€‹),å…¶ä¸­pi=P(X=xi),i=1,2,â‹¯ ,np_{i}=P\\left(X=x_{i}\\right), i=1,2, \\cdots, \\mathrm{n}piâ€‹=P(X=xiâ€‹),i=1,2,â‹¯,n ç»éªŒæ¡ä»¶ç†µä¸¾ä¾‹ï¼š è®¾ç‰¹å¾Aæœ‰nä¸ªä¸åŒçš„å–å€¼{a1,a2,Â·Â·Â·,an}ï¼Œæ ¹æ®ç‰¹å¾Açš„å–å€¼å°†Dåˆ’åˆ†ä¸ºnä¸ªå­é›†{D1,D2ï¼ŒÂ·Â·Â·,Dn}ï¼Œ|Di|ä¸ºDiçš„æ ·æœ¬ä¸ªæ•°ã€‚è®°å­é›†Diä¸­å±äºCkçš„æ ·æœ¬çš„é›†åˆä¸ºDikï¼Œå³Dik = Di âˆ© Ckï¼Œ|Dik|ä¸ºDikçš„æ ·æœ¬ä¸ªæ•° \\begin{align*}\\mathrm{H}(\\mathrm{D} | \\mathrm{A}) &amp; =\\sum_{i=1}^{\\mathrm{n}} \\frac{\\left|D_{i}\\right|}{|D|} \\mathrm{H}\\left(D_{i}\\right) \\\\ &amp; =-\\sum_{i=1}^{n} \\frac{\\left|D_{i}\\right|}{|D|} \\sum_{k=1}^{K} \\frac{\\left|D_{i k}\\right|}{\\left|D_{i}\\right|} \\log _{2} \\frac{\\left|D_{i k}\\right|}{\\left|D_{i}\\right|}\\end{align*} ä¿¡æ¯å¢ç›Š ä¿¡æ¯å¢ç›Š(information gain)è¡¨ç¤ºå¾—çŸ¥ç‰¹å¾Xçš„ä¿¡æ¯åï¼Œè€Œä½¿å¾—Yçš„ä¸ç¡®å®šæ€§å‡å°‘çš„ç¨‹åº¦ã€‚å®šä¹‰ä¸ºé›†åˆDçš„ç»éªŒç†µH(D)ä¸ç»™å®šç‰¹å¾Aæ¡ä»¶ä¸‹Dçš„ç»éªŒæ¡ä»¶ç†µH(D|A)ä¹‹å·®: g(D,A)=H(D)âˆ’H(Dâˆ£A)g(D, A)=H(D)-H(D| A)g(D,A)=H(D)âˆ’H(Dâˆ£A) ä¸€èˆ¬åœ°ï¼Œç†µH(D)ä¸æ¡ä»¶ç†µH(D|A)ä¹‹å·®ç§°ä¸ºäº’ä¿¡æ¯(mutual information)ã€‚å†³ç­–æ ‘å­¦ä¹ ä¸­çš„ä¿¡æ¯å¢ç›Šç­‰ä»·äºè®­ç»ƒæ•°æ®é›†ä¸­ç±»ä¸ç‰¹å¾çš„äº’ä¿¡æ¯ã€‚ ä¸¾ä¾‹ï¼šä»¥è´·æ¬¾ç”³è¯·æ ·æœ¬æ•°æ®è¡¨ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚çœ‹ä¸‹å¹´é¾„è¿™ä¸€åˆ—çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ç‰¹å¾A1ï¼Œä¸€å…±æœ‰ä¸‰ä¸ªç±»åˆ«ï¼Œåˆ†åˆ«æ˜¯ï¼šé’å¹´ã€ä¸­å¹´å’Œè€å¹´ã€‚æˆ‘ä»¬åªçœ‹å¹´é¾„æ˜¯é’å¹´çš„æ•°æ®ï¼Œå¹´é¾„æ˜¯é’å¹´çš„æ•°æ®ä¸€å…±æœ‰5ä¸ªï¼Œæ‰€ä»¥å¹´é¾„æ˜¯é’å¹´çš„æ•°æ®åœ¨è®­ç»ƒæ•°æ®é›†å‡ºç°çš„æ¦‚ç‡æ˜¯5\\15ï¼Œä¹Ÿå°±æ˜¯1\\3ã€‚åŒç†ï¼Œå¹´é¾„æ˜¯ä¸­å¹´å’Œè€å¹´çš„æ•°æ®åœ¨è®­ç»ƒæ•°æ®é›†å‡ºç°çš„æ¦‚ç‡ä¹Ÿéƒ½æ˜¯1\\3ã€‚ç°åœ¨æˆ‘ä»¬åªçœ‹å¹´é¾„æ˜¯é’å¹´çš„æ•°æ®çš„æœ€ç»ˆå¾—åˆ°è´·æ¬¾çš„æ¦‚ç‡ä¸º2\\5ï¼Œå› ä¸ºåœ¨äº”ä¸ªæ•°æ®ä¸­ï¼Œåªæœ‰ä¸¤ä¸ªæ•°æ®æ˜¾ç¤ºæ‹¿åˆ°äº†æœ€ç»ˆçš„è´·æ¬¾ï¼ŒåŒç†ï¼Œå¹´é¾„æ˜¯ä¸­å¹´å’Œè€å¹´çš„æ•°æ®æœ€ç»ˆå¾—åˆ°è´·æ¬¾çš„æ¦‚ç‡åˆ†åˆ«ä¸º3\\5ã€4\\5ã€‚æ‰€ä»¥è®¡ç®—å¹´é¾„çš„ä¿¡æ¯å¢ç›Šï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š g(D,A1)=H(D)âˆ’H(Dâˆ£A1)=H(D)âˆ’âˆ‘i=1nâˆ£Diâˆ£âˆ£Dâˆ£H(Di)=H(D)âˆ’[âˆ£D1âˆ£âˆ£Dâˆ£H(D1)+âˆ£D2âˆ£âˆ£Dâˆ£H(D2)+âˆ£D3âˆ£âˆ£Dâˆ£H(D3)]=H(D)âˆ’âˆ£Diâˆ£âˆ£Dâˆ£âˆ‘i=13piâˆ—logâ¡2pi=0.971âˆ’[515(âˆ’25logâ¡225âˆ’35logâ¡235)+515(âˆ’35logâ¡235âˆ’25logâ¡225)+515(âˆ’45logâ¡245âˆ’15logâ¡215)]=0.971âˆ’0.888=0.083\\begin{aligned} \\mathrm{g}\\left(\\mathrm{D}, A_{1}\\right) &amp;=H(D)-H\\left(D | A_{1}\\right) \\\\ &amp;=H(D)-\\sum_{i=1}^{\\mathrm{n}} \\frac{\\left|D_{i}\\right|}{|D|} \\mathrm{H}\\left(D_{i}\\right) \\\\ &amp;=H(D)-\\left[\\frac{\\left|D_{1}\\right|}{|D|}H\\left(\\mathrm{D}_{1}\\right)+\\frac{\\left|D_{2}\\right|}{|D|} H\\left(D_{2}\\right)+\\frac{\\left|D_{3}\\right|}{|D|} H\\left(D_{3}\\right)\\right] \\\\ &amp;=H(D)- \\frac{\\left|D_{i}\\right|}{|D|} \\sum_{i=1}^{3} p_{i} * \\log _{2} p_{i} \\\\ &amp;=0.971-\\left[\\frac{5}{15}\\left(-\\frac{2}{5} \\log _{2} \\frac{2}{5}-\\frac{3}{5} \\log _{2} \\frac{3}{5}\\right)+\\frac{5}{15}\\left(-\\frac{3}{5} \\log _{2} \\frac{3}{5}-\\frac{2}{5} \\log _{2} \\frac{2}{5}\\right)\\right.\\\\ &amp;\\left.+\\frac{5}{15}\\left(-\\frac{4}{5} \\log _{2} \\frac{4}{5}-\\frac{1}{5} \\log _{2} \\frac{1}{5}\\right)\\right] \\\\ &amp;=0.971-0.888=0.083 \\end{aligned}g(D,A1â€‹)â€‹=H(D)âˆ’H(Dâˆ£A1â€‹)=H(D)âˆ’i=1âˆ‘nâ€‹âˆ£Dâˆ£âˆ£Diâ€‹âˆ£â€‹H(Diâ€‹)=H(D)âˆ’[âˆ£Dâˆ£âˆ£D1â€‹âˆ£â€‹H(D1â€‹)+âˆ£Dâˆ£âˆ£D2â€‹âˆ£â€‹H(D2â€‹)+âˆ£Dâˆ£âˆ£D3â€‹âˆ£â€‹H(D3â€‹)]=H(D)âˆ’âˆ£Dâˆ£âˆ£Diâ€‹âˆ£â€‹i=1âˆ‘3â€‹piâ€‹âˆ—log2â€‹piâ€‹=0.971âˆ’[155â€‹(âˆ’52â€‹log2â€‹52â€‹âˆ’53â€‹log2â€‹53â€‹)+155â€‹(âˆ’53â€‹log2â€‹53â€‹âˆ’52â€‹log2â€‹52â€‹)+155â€‹(âˆ’54â€‹log2â€‹54â€‹âˆ’51â€‹log2â€‹51â€‹)]=0.971âˆ’0.888=0.083â€‹ å…¶ä¸­|Di|ä¸ºç‰¹å¾è¯¥ç±»åˆ«çš„æ•°é‡ï¼ŒPiä¸ºè¯¥ç±»åˆ«ä¸‹ä¸ºtrueï¼ˆäº‹ä»¶å‘ç”Ÿï¼‰çš„æ¦‚ç‡ C4.5æ•°å­¦åŸç† ä»¥ä¿¡æ¯å¢ç›Šè¿›è¡Œåˆ†ç±»å†³ç­–æ—¶ï¼Œå­˜åœ¨åå‘äºå–å€¼è¾ƒå¤šçš„ç‰¹å¾çš„é—®é¢˜ã€‚äºæ˜¯æœ‰äº†åŸºäºä¿¡æ¯å¢ç›Šæ¯”çš„åˆ†ç±»å†³ç­–æ–¹æ³•C4.5ã€‚C4.5ä¸ID3éƒ½æ˜¯åˆ©ç”¨è´ªå¿ƒç®—æ³•è¿›è¡Œæ±‚è§£ï¼Œä¸åŒçš„æ˜¯åˆ†ç±»å†³ç­–çš„ä¾æ®ä¸åŒã€‚ ä¿¡æ¯å¢ç›Šæ¯”ç‡åº¦é‡:ä¿¡æ¯å¢ç›Šæ¯”ç‡åº¦é‡Gain(Dï¼ŒX) \\ åˆ†è£‚ä¿¡æ¯åº¦é‡SplitInformation(Dï¼ŒX) SplitInformation(Dï¼ŒXï¼‰=âˆ’âˆ‘i=1nPxiâˆ—log2PxiSplitInformation(Dï¼ŒXï¼‰ = -\\sum_{i=1}^{n}{P_{x_i} }*log_2{P_{x_i} }SplitInformation(Dï¼ŒXï¼‰=âˆ’âˆ‘i=1nâ€‹Pxiâ€‹â€‹âˆ—log2â€‹Pxiâ€‹â€‹ GainRatio(D,X)=Gain(D,X)Ã·SplitInformation(D,X)GainRatio(D,X) = Gain(D,X) \\div SplitInformation(D,X)GainRatio(D,X)=Gain(D,X)Ã·SplitInformation(D,X) CARTæ•°å­¦åŸç† åŸºå°¼æŒ‡æ•°GINI 1ã€æ˜¯ä¸€ç§ä¸ç­‰æ€§åº¦é‡ï¼Œè¡¨ç¤ºä¸€ä¸ªéšæœºé€‰ä¸­çš„æ ·æœ¬åœ¨å­é›†ä¸­è¢«åˆ†é”™çš„å¯èƒ½æ€§ï¼› 2ã€é€šå¸¸ç”¨æ¥åº¦é‡æ”¶å…¥ä¸å¹³è¡¡ï¼Œå¯ä»¥ç”¨æ¥åº¦é‡ä»»ä½•ä¸å‡åŒ€åˆ†å¸ƒï¼› 3ã€æ˜¯ä»‹äº0~1ä¹‹é—´çš„æ•°ï¼Œ0-å®Œå…¨ç›¸ç­‰ï¼Œ1-å®Œå…¨ä¸ç›¸ç­‰ï¼› 4ã€æ€»ä½“å†…åŒ…å«çš„ç±»åˆ«è¶Šæ‚ä¹±ï¼ŒGINIæŒ‡æ•°å°±è¶Šå¤§ï¼ˆè·Ÿç†µçš„æ¦‚å¿µå¾ˆç›¸ä¼¼ï¼‰ Giniç³»æ•°çš„è®¡ç®—æ–¹å¼å¦‚ä¸‹ Gini(p)=âˆ‘k=1Kpk(1âˆ’pk)=1âˆ’âˆ‘k=1Kpk2Gini(p)=\\sum_{k=1}^{K} p_{k}\\left(1-p_{k}\\right)=1-\\sum_{k=1}^{K} p_{k}^{2}Gini(p)=âˆ‘k=1Kâ€‹pkâ€‹(1âˆ’pkâ€‹)=1âˆ’âˆ‘k=1Kâ€‹pk2â€‹ ä¸Šé¢å¼å­è¡¨è¿°çš„æ„æ€å°±æ˜¯ï¼ŒåŠ å…¥ç‰¹å¾Xä»¥åï¼Œæ•°æ®ä¸çº¯åº¦å‡å°çš„ç¨‹åº¦. å¦‚æœDä¸ºæ ·æœ¬æ•°æ®é›†ï¼ŒGini(D)=1âˆ’âˆ‘k=1K(âˆ£Ckâˆ£âˆ£Dâˆ£)2Gini(D)=1-\\sum_{k=1}^{K}\\left(\\frac{\\left|C_{k}\\right|}{|D|}\\right)^{2}Gini(D)=1âˆ’âˆ‘k=1Kâ€‹(âˆ£Dâˆ£âˆ£Ckâ€‹âˆ£â€‹)2å…¶ä¸­Ckæ˜¯Dä¸­å±äºç¬¬kç±»çš„æ ·æœ¬å­é›†ï¼ŒKæ˜¯ç±»çš„ä¸ªæ•°ã€‚ å¦‚æœDè¢«ç‰¹å¾Aåˆ’åˆ†ä¸ºD1ã€D2ä¸¤éƒ¨åˆ†ï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯ç»Ÿè®¡å‡å€¼ï¼Œæ ·æœ¬æ•°æ®é›†Dçš„åŸºå°¼ç³»æ•°ï¼š Gini(D,A)=âˆ£D1âˆ£âˆ£Dâˆ£Gini(D1)+âˆ£D2âˆ£âˆ£Dâˆ£Gini(D2)Gini(D, A)=\\frac{\\left|D_{1}\\right|}{|D|} Gini\\left(D_{1}\\right)+\\frac{\\left|D_{2}\\right|}{|D|} Gini\\left(D_{2}\\right)Gini(D,A)=âˆ£Dâˆ£âˆ£D1â€‹âˆ£â€‹Gini(D1â€‹)+âˆ£Dâˆ£âˆ£D2â€‹âˆ£â€‹Gini(D2â€‹) [ç»Ÿè®¡å­¦ä¹ æ–¹æ³•ï¼šCARTç®—æ³•](https:\\www.cnblogs.com\\xingshansi\\p\\6847334.html) æœ€å°äºŒä¹˜å›å½’æ ‘ ä¸€ä¸ªå›å½’æ ‘å¯¹åº”ç€è¾“å…¥ç©ºé—´ï¼ˆå³ç‰¹å¾ç©ºé—´ï¼‰çš„ä¸€ä¸ªåˆ’åˆ†ä»¥åŠåœ¨åˆ’åˆ†çš„å•å…ƒä¸Šçš„è¾“å‡ºå€¼ã€‚å‡è®¾å·²å°†è¾“å…¥ç©ºé—´åˆ’åˆ†ä¸ºMä¸ªå•å…ƒR1,R2,â€¦Rmï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªå•å…ƒRmä¸Šæœ‰ä¸€ä¸ªå›ºå®šçš„è¾“å‡ºå€¼Cmï¼Œäºæ˜¯å›å½’æ ‘æ¨¡å‹å¯è¡¨ç¤ºä¸ºï¼š f(x)=âˆ‘m=1McmI(xâˆˆRm)f(x)=\\sum_{m=1}^{M} c_{m} I\\left(x \\in R_{m}\\right)f(x)=âˆ‘m=1Mâ€‹cmâ€‹I(xâˆˆRmâ€‹) æ¨¡å‹è¾“å‡ºå€¼ä¸å®é™…å€¼çš„è¯¯å·®ï¼šâˆ‘xiâˆˆRm(yiâˆ’f(xi))2\\sum_{x_{i} \\in R_{m}}\\left(y_{i}-f\\left(x_{i}\\right)\\right)^{2}âˆ‘xiâ€‹âˆˆRmâ€‹â€‹(yiâ€‹âˆ’f(xiâ€‹))2 æˆ‘ä»¬å¸Œæœ›æ¯ä¸ªå•å…ƒä¸Šçš„Cmï¼Œå¯ä»¥æ˜¯çš„è¿™ä¸ªå¹³æ–¹è¯¯å·®æœ€å°åŒ–ã€‚æ˜“çŸ¥ï¼Œå½“Cmä¸ºç›¸åº”å•å…ƒçš„æ‰€æœ‰å®é™…å€¼çš„å‡å€¼æ—¶ï¼Œå¯ä»¥åˆ°æœ€ä¼˜ï¼š c^m=ave(yiâˆ£xiâˆˆRm)\\hat{c}_{m}=ave\\left(y_{i} | x_{i} \\in R_{m}\\right)c^mâ€‹=ave(yiâ€‹âˆ£xiâ€‹âˆˆRmâ€‹) å‡è®¾ï¼Œæˆ‘ä»¬é€‰æ‹©å˜é‡ xj ä¸ºåˆ‡åˆ†å˜é‡ï¼Œå®ƒçš„å–å€¼ s ä¸ºåˆ‡åˆ†ç‚¹ï¼Œé‚£ä¹ˆå°±ä¼šå¾—åˆ°ä¸¤ä¸ªåŒºåŸŸï¼š R1(j,s)={xâˆ£x(j)â‰¤s},R2(j,s)={xâˆ£x(j)&gt;s}\\mathrm{R}_{1}(j, s)=\\left\\{x | x^{(j)} \\leq s\\right\\}, \\mathrm{R}_{2}(j, s)=\\left\\{x | x^{(j)}&gt;s\\right\\}R1â€‹(j,s)={xâˆ£x(j)â‰¤s},R2â€‹(j,s)={xâˆ£x(j)&gt;s} å½“jå’Œså›ºå®šæ—¶ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°ä¸¤ä¸ªåŒºåŸŸçš„ä»£è¡¨å€¼c1ï¼Œc2ä½¿å„è‡ªåŒºé—´ä¸Šçš„å¹³æ–¹å·®æœ€å°ï¼š minâ¡j,s[minâ¡c1âˆ‘xiâˆˆR1(j,s)(yiâˆ’c1)2+minâ¡c2âˆ‘xiâˆˆR2(j,s)(yiâˆ’c2)2]\\min _{j, s}\\left[\\min _{c_{1}} \\sum_{x_{i} \\in R_{1}(j, s)}\\left(y_{i}-c_{1}\\right)^{2}+\\min _{c_{2}} \\sum_{x_{i} \\in R_{2}(j, s)}\\left(y_{i}-c_{2}\\right)^{2}\\right]minj,sâ€‹[minc1â€‹â€‹âˆ‘xiâ€‹âˆˆR1â€‹(j,s)â€‹(yiâ€‹âˆ’c1â€‹)2+minc2â€‹â€‹âˆ‘xiâ€‹âˆˆR2â€‹(j,s)â€‹(yiâ€‹âˆ’c2â€‹)2] å‰é¢å·²ç»çŸ¥é“c1ï¼Œc2ä¸ºåŒºé—´ä¸Šçš„å¹³å‡ï¼š c^1=ave(yiâˆ£xiÏµR1(j,s)),c^2=ave(yiâˆ£xiÏµR1(j,s))\\hat{c}_{1}=ave\\left(y_{i} | x_{i} \\epsilon R_{1}(j, s)\\right), \\hat{c}_{2}=ave\\left(y_{i} | x_{i} \\epsilon R_{1}(j, s)\\right)c^1â€‹=ave(yiâ€‹âˆ£xiâ€‹ÏµR1â€‹(j,s)),c^2â€‹=ave(yiâ€‹âˆ£xiâ€‹ÏµR1â€‹(j,s)) é‚£ä¹ˆå¯¹å›ºå®šçš„ j åªéœ€è¦æ‰¾åˆ°æœ€ä¼˜çš„sï¼Œç„¶åé€šè¿‡éå†æ‰€æœ‰çš„å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æœ€ä¼˜çš„jï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æœ€ä¼˜å¯¹ï¼ˆjï¼Œsï¼‰,ï¼ˆç‰¹å¾jï¼Œç‰¹å¾åˆ†ç±»å€¼sï¼‰ï¼Œå¹¶så¾—åˆ°ä¸¤ä¸ªåŒºé—´ã€‚ è¿™æ ·çš„å›å½’æ ‘é€šå¸¸ç§°ä¸ºæœ€å°äºŒä¹˜å›å½’æ ‘ï¼ˆleast squares regression treeï¼‰ã€‚ ä¸Šè¿°è¿‡ç¨‹è¡¨ç¤ºçš„ç®—æ³•æ­¥éª¤ä¸º: å¤„ç†è¿ç»­æ•°å€¼å‹ç‰¹å¾ C4.5å’ŒCARTæ—¢å¯ä»¥å¤„ç†ç¦»æ•£å‹å±æ€§ï¼Œä¹Ÿå¯ä»¥å¤„ç†è¿ç»­æ€§å±æ€§ã€‚å¯¹äºç¦»æ•£å‹æè¿°å±æ€§ï¼Œå¤„ç†æ–¹æ³•ä¸ID3ç›¸åŒã€‚å¯¹äºè¿ç»­åˆ†å¸ƒçš„ç‰¹å¾ï¼Œå…¶å¤„ç†æ–¹æ³•æ˜¯ï¼š ä»¥C4.5ä¸ºä¾‹å­ï¼Œåœ¨C4.5ä¸­ï¼Œå¯¹è¿ç»­å±æ€§çš„å¤„ç†å¦‚ä¸‹ï¼š 1ã€å¯¹ç‰¹å¾çš„å–å€¼è¿›è¡Œå‡åºæ’åº 2ã€ä¸¤ä¸ªç‰¹å¾å–å€¼ä¹‹é—´çš„ä¸­ç‚¹ä½œä¸ºå¯èƒ½çš„åˆ†è£‚ç‚¹ï¼Œä»åˆ†è£‚ç‚¹å°†æ•°æ®é›†åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œè®¡ç®—æ¯ä¸ªå¯èƒ½çš„åˆ†è£‚ç‚¹çš„ä¿¡æ¯å¢ç›Šï¼ˆInforGainï¼‰ã€‚ä¼˜åŒ–ç®—æ³•å°±æ˜¯åªè®¡ç®—åˆ†ç±»å±æ€§å‘ç”Ÿæ”¹å˜çš„é‚£äº›ç‰¹å¾å–å€¼ã€‚ 3ã€é€‰æ‹©ä¿®æ­£åä¿¡æ¯å¢ç›Š(InforGain)æœ€å¤§çš„åˆ†è£‚ç‚¹ä½œä¸ºè¯¥ç‰¹å¾çš„æœ€ä½³åˆ†è£‚ç‚¹ 4ã€è®¡ç®—æœ€ä½³åˆ†è£‚ç‚¹çš„ä¿¡æ¯å¢ç›Šç‡ï¼ˆGain Ratioï¼‰ä½œä¸ºç‰¹å¾çš„Gain Ratioã€‚æ³¨æ„ï¼Œæ­¤å¤„éœ€å¯¹æœ€ä½³åˆ†è£‚ç‚¹çš„ä¿¡æ¯å¢ç›Šè¿›è¡Œä¿®æ­£ï¼šå‡å»log2(N-1)|D|ï¼ˆNæ˜¯è¿ç»­ç‰¹å¾çš„å–å€¼ä¸ªæ•°ï¼ŒDæ˜¯è®­ç»ƒæ•°æ®æ•°ç›®ï¼Œæ­¤ä¿®æ­£çš„åŸå› åœ¨äºï¼šå½“ç¦»æ•£å±æ€§å’Œè¿ç»­å±æ€§å¹¶å­˜æ—¶ï¼ŒC4.5ç®—æ³•å€¾å‘äºé€‰æ‹©è¿ç»­ç‰¹å¾åšæœ€ä½³æ ‘åˆ†è£‚ç‚¹ï¼‰ Qï¼šä¸ºä»€ä¹ˆè¿™è¾¹æ˜¯ä½¿ç”¨çš„ä¿¡æ¯å¢ç›Šç‡ï¼Ÿ Aï¼šç»è¯æ˜ï¼Œåœ¨å†³å®šè¿ç»­ç‰¹å¾çš„åˆ†ç•Œç‚¹æ—¶é‡‡ç”¨å¢ç›Šè¿™ä¸ªæŒ‡æ ‡ï¼ˆå› ä¸ºè‹¥é‡‡ç”¨å¢ç›Šç‡ï¼Œsplittedinfoå½±å“åˆ†è£‚ç‚¹ä¿¡æ¯åº¦é‡å‡†ç¡®æ€§ï¼Œè‹¥æŸåˆ†ç•Œç‚¹æ°å¥½å°†è¿ç»­ç‰¹å¾åˆ†æˆæ•°ç›®ç›¸ç­‰çš„ä¸¤éƒ¨åˆ†æ—¶å…¶æŠ‘åˆ¶ä½œç”¨æœ€å¤§ï¼‰ï¼Œè€Œé€‰æ‹©å±æ€§çš„æ—¶å€™æ‰ä½¿ç”¨å¢ç›Šç‡è¿™ä¸ªæŒ‡æ ‡èƒ½é€‰æ‹©å‡ºæœ€ä½³åˆ†ç±»ç‰¹å¾ã€‚ å‰ªæ é¢„å‰ªæ(Pre-pruning) åœ¨æ„å»ºå†³ç­–æ ‘çš„è¿‡ç¨‹æ—¶ï¼Œæå‰åœæ­¢ã€‚ æ ¹æ®ä¸€äº›åŸåˆ™åŠæ—©çš„åœæ­¢æ ‘å¢é•¿ï¼Œå¦‚æ ‘çš„æ·±åº¦è¾¾åˆ°ç”¨æˆ·æ‰€è¦çš„æ·±åº¦ã€èŠ‚ç‚¹ä¸­æ ·æœ¬ä¸ªæ•°å°‘äºç”¨æˆ·æŒ‡å®šä¸ªæ•°ã€ä¸çº¯åº¦æŒ‡æ ‡ä¸‹é™çš„æœ€å¤§å¹…åº¦å°äºç”¨æˆ·æŒ‡å®šçš„å¹…åº¦ç­‰ é‡‡ç”¨æ£€éªŒæŠ€æœ¯å¯¹å½“å‰ç»“ç‚¹å¯¹åº”çš„æ ·æœ¬é›†åˆè¿›è¡Œæ£€éªŒï¼Œå¦‚æœè¯¥æ ·æœ¬é›†åˆçš„æ ·æœ¬æ•°é‡å·²å°äºäº‹å…ˆæŒ‡å®šçš„æœ€å°å…è®¸å€¼ï¼Œé‚£ä¹ˆåœæ­¢è¯¥ç»“ç‚¹çš„ç»§ç»­ç”Ÿé•¿ï¼Œå¹¶å°†è¯¥ç»“ç‚¹å˜ä¸ºå¶å­ç»“ç‚¹ï¼Œå¦åˆ™å¯ä»¥ç»§ç»­æ‰©å±•è¯¥ç»“ç‚¹ã€‚ â–²æ ¸å¿ƒé—®é¢˜æ˜¯å¦‚ä½•äº‹å…ˆæŒ‡å®šæ ‘çš„æœ€å¤§æ·±åº¦ï¼Œå¦‚æœè®¾ç½®çš„æœ€å¤§æ·±åº¦ä¸æ°å½“ï¼Œé‚£ä¹ˆå°†ä¼šå¯¼è‡´è¿‡äºé™åˆ¶æ ‘çš„ç”Ÿé•¿ï¼Œä½¿å†³ç­–æ ‘çš„è¡¨è¾¾å¼è§„åˆ™è¶‹äºä¸€èˆ¬ï¼Œä¸èƒ½æ›´å¥½åœ°å¯¹æ–°æ•°æ®é›†è¿›è¡Œåˆ†ç±»å’Œé¢„æµ‹ åå‰ªæ(Post-pruning) å†³ç­–æ ‘æ„å»ºå¥½åï¼Œç„¶åæ‰å¼€å§‹è£å‰ªã€‚ ä»£ä»·å¤æ‚æ€§å‰ªæã€æœ€å°è¯¯å·®å‰ªæã€æ‚²è§‚è¯¯å·®å‰ªæç­‰ç­‰ æ˜¯ä¸€ä¸ªè¾¹ä¿®å‰ªè¾¹æ£€éªŒçš„è¿‡ç¨‹ã€‚ åœ¨å†³ç­–æ ‘çš„ä¸æ–­å‰ªææ“ä½œè¿‡ç¨‹ä¸­ï¼Œå°†åŸæ ·æœ¬é›†åˆæˆ–æ–°æ•°æ®é›†åˆä½œä¸ºæµ‹è¯•æ•°æ®ï¼Œæ£€éªŒå†³ç­–æ ‘å¯¹æµ‹è¯•æ•°æ®çš„é¢„æµ‹ç²¾åº¦ï¼Œå¹¶è®¡ç®—å‡ºç›¸åº”çš„é”™è¯¯ç‡ï¼Œå¦‚æœå‰ªæ‰æŸä¸ªå­æ ‘åçš„å†³ç­–æ ‘å¯¹æµ‹è¯•æ•°æ®çš„é¢„æµ‹ç²¾åº¦æˆ–å…¶ä»–æµ‹åº¦ä¸é™ä½ï¼Œé‚£ä¹ˆå‰ªæ‰è¯¥å­æ ‘ã€‚ â–²å…³é”®å°±æ˜¯ç”¨ç‹¬ç«‹çš„éªŒè¯æ•°æ®é›†å¯¹è®­ç»ƒé›†ç”Ÿé•¿çš„æ ‘è¿›è¡Œå‰ªæ CARTå‰ªæ å…ˆæ¥çœ‹çœ‹å‰ªæç”¨åˆ°çš„å‡†åˆ™å‡½æ•°ï¼šCÎ±(T)=C(T)+Î±âˆ£Tleafâˆ£C_{\\alpha}(T)=C(T)+\\alpha|T_{leaf}|CÎ±â€‹(T)=C(T)+Î±âˆ£Tleafâ€‹âˆ£ Cï¼ˆTï¼‰æ˜¯å¶èŠ‚ç‚¹ç‰¹æ€§çš„åº¦é‡ï¼ŒC4.3é‡Œå®ƒæ˜¯ç†µçš„å‡å€¼ï¼ŒCARTå†³ç­–æ ‘é‡Œå®ƒæ˜¯åŸºå°¼ç³»æ•°çš„æ¦‚ç‡å‡å€¼ï¼ŒåŸç†ç±»ä¼¼ã€‚å¤šä¸€ä¸ªæ­£åˆ™é¡¹ï¼Œå°±æ˜¯ç¨€ç–æ€§çº¦æŸã€‚TleafT_{leaf}Tleafâ€‹ä¸ºå¶å­èŠ‚ç‚¹ä¸ªæ•°ï¼Œè¶Šå¤šï¼ŒæŸå¤±è¶Šå¤§ ID3ã€C4.5ç®—æ³•ä¸­çš„å‰ªæåŸç†æ˜¯ç»™å®šÎ±ï¼Œäº‹å®ä¸Šå¾ˆéš¾ä¸€æ¬¡ç»™å‡ºç†æƒ³çš„Î±ã€‚CARTå‰ªæä¸å†ç»™å®šä¸€ä¸ªÎ±ï¼Œç„¶åé€‰æ‹©æœ€ä¼˜å†³ç­–æ ‘ï¼Œè€Œæ˜¯é€šè¿‡è®¾å®šä¸åŒçš„Î±ï¼Œé€šè¿‡äº¤å‰éªŒè¯é€‰æ‹©æœ€ä¼˜CARTæ ‘ï¼Œä¹Ÿå°±æ˜¯ï¼š è®­ç»ƒé›†ï¼šå¾—åˆ°ä¸åŒçš„å­æ ‘; æµ‹è¯•é›†ï¼šäº¤å‰éªŒè¯é€‰æ‹©æœ€ä¼˜æ ‘. ä»æœ‰é™ä¸ªå­æ ‘{T0,T1,â€¦,Tn}\\left\\{T_{0}, T_{1}, \\ldots, T_{n}\\right\\}{T0â€‹,T1â€‹,â€¦,Tnâ€‹}ä¸­è®¡ç®—æœ€ä¼˜å­æ ‘ï¼Œæœ€ä¼˜å­æ ‘ç”±éªŒè¯é›†å¾—å‡ºçš„æµ‹è¯•è¯¯å·®å†³å®šï¼Œå“ªä¸ªæœ€å°å°±æ˜¯å“ªä¸ªã€‚ è¿™é‡Œå°±å¼•å‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡å‰ªå“ªä¸€ä¸ªèŠ‚ç‚¹å‘¢ï¼Ÿå¦‚ä½•è®©TleafT_{leaf}Tleafâ€‹åˆ°è¾¾ä¸€ä¸ªåˆé€‚çš„ç‚¹å‘¢ï¼Ÿå…ˆçœ‹åˆ†æå‰ªæçš„ä¸¤ä¸ªæç«¯æƒ…å†µï¼š 1ï¼‰å®Œå…¨æ²¡å‰ªï¼š CÎ±(Tt)=C(Tt)+Î±âˆ£Ttâˆ£C_{\\alpha}\\left(T_{t}\\right)=C\\left(T_{t}\\right)+\\alpha\\left|T_{t}\\right|CÎ±â€‹(Ttâ€‹)=C(Ttâ€‹)+Î±âˆ£Ttâ€‹âˆ£ 2ï¼‰åªå‰©æ ¹èŠ‚ç‚¹ï¼š CÎ±(t)=C(t)+Î±C_{\\alpha}(t)=C(t)+\\alphaCÎ±â€‹(t)=C(t)+Î± åœ¨Î±è¾ƒå°æˆ–è€…ä¸º0æ—¶ï¼Œæœ‰ï¼š CÎ±(Tt)&lt;CÎ±(t)C_{\\alpha}\\left(T_{t}\\right)&lt;C_{\\alpha}(t)CÎ±â€‹(Ttâ€‹)&lt;CÎ±â€‹(t) åœ¨Î±å–+âˆå¤§æ—¶ï¼Œæœ‰ï¼š CÎ±(Tt)&gt;CÎ±(t)C_{\\alpha}\\left(T_{t}\\right)&gt;C_{\\alpha}(t)CÎ±â€‹(Ttâ€‹)&gt;CÎ±â€‹(t) Î±æ˜¯è¿ç»­å˜é‡ï¼Œå› æ­¤æ€»æœ‰ä¸´ç•Œç‚¹ï¼š CÎ±(Tt)=CÎ±(t)C_{\\alpha}\\left(T_{t}\\right)=C_{\\alpha}(t)CÎ±â€‹(Ttâ€‹)=CÎ±â€‹(t) ä¸ºäº†ä¸æ··æ·†å˜é‡ï¼Œé‡æ–°å®šä¹‰ï¼š g(t)=C(t)âˆ’C(Tt)âˆ£Ttâˆ£âˆ’1g(t)=\\frac{C(t)-C\\left(T_{t}\\right)}{\\left|T_{t}\\right|-1}g(t)=âˆ£Ttâ€‹âˆ£âˆ’1C(t)âˆ’C(Ttâ€‹)â€‹ Î±å¤§äºg(t)å°±æ˜¯è¯¥å‰ªã€‚ç®€è€Œè¨€ä¹‹ï¼š å¯¹äºåŒä¸€æ£µæ ‘çš„ç»“ç‚¹ï¼ŒÎ±éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå½“Î±ä»0å¼€å§‹ç¼“æ…¢å¢å¤§ï¼ˆæˆ–è€…ä»+âˆæ…¢æ…¢å‡å°ï¼‰ï¼Œæ€»ä¼šæœ‰æŸæ£µå­æ ‘è¯¥å‰ªï¼Œå…¶ä»–å­æ ‘ä¸è¯¥å‰ªçš„æƒ…å†µï¼Œå³Î±è¶…è¿‡äº†æŸä¸ªç»“ç‚¹çš„g(t)ï¼Œä½†è¿˜æ²¡æœ‰è¶…è¿‡å…¶ä»–ç»“ç‚¹çš„g(t)ã€‚è¿™æ ·éšç€alphaä¸æ–­å¢å¤§ï¼Œä¸æ–­åœ°å‰ªæï¼Œå°±å¾—åˆ°äº†n+1æ£µå­æ ‘ï¼Œæ¥ä¸‹æ¥åªè¦ç”¨ç‹¬ç«‹æ•°æ®é›†æµ‹è¯•è¿™n+1æ£µå­æ ‘ï¼Œè¯•è¯•å“ªæ£µå­æ ‘çš„è¯¯å·®æœ€å° å°±çŸ¥é“é‚£æ£µæ˜¯æœ€å¥½çš„æ–¹æ¡ˆäº†ã€‚ CARTå‰ªæçš„ç®—æ³•è¿‡ç¨‹ ä»£ç ç¼–å†™æ³¨æ„ç‚¹ é€’å½’çš„ç»“æŸæ¡ä»¶ï¼š ä¸€.åˆ°è¾¾å¶èŠ‚ç‚¹ 1.å½“æŸé›†åˆçš„å€¼å…¨æ˜¯åŒä¸€ç±»æ—¶ï¼Œé‚£ä¹ˆè¯¥å­é›†ç›´æ¥å¯ä½œä¸ºå¶å­èŠ‚ç‚¹ï¼Œä¸ºä¸€ä¸ªç±»åˆ«ï¼Œæ­¤æ—¶ä¸å†ä¸‹æ¢ã€‚ 2.åœ¨å†³ç­–æ ‘æ„é€ è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼šæ‰€æœ‰ç‰¹å¾éƒ½ä½œä¸ºåˆ†è£‚ç‰¹å¾ç”¨å…‰äº†ï¼Œä½†å­é›†è¿˜ä¸æ˜¯çº¯å‡€é›†ï¼ˆé›†åˆå†…çš„å…ƒç´ ä¸å±äºåŒä¸€ç±»åˆ«ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºæ²¡æœ‰æ›´å¤šä¿¡æ¯å¯ä»¥ä½¿ç”¨äº†ï¼Œä¸€èˆ¬å¯¹è¿™äº›å­é›†è¿›è¡Œâ€œå¤šæ•°è¡¨å†³â€ï¼Œå³ä½¿ç”¨æ­¤å­é›†ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„ç±»åˆ«ä½œä¸ºæ­¤èŠ‚ç‚¹ç±»åˆ«ï¼Œç„¶åå°†æ­¤èŠ‚ç‚¹ä½œä¸ºå¶å­èŠ‚ç‚¹ï¼Œæ­¤æ—¶ä¸å†ä¸‹æ¢ äºŒ.é¢„å‰ªææ¡ä»¶ 1.æ ‘çš„æ·±åº¦è¾¾åˆ°ç”¨æˆ·æ‰€è¦çš„æ·±åº¦ 2.èŠ‚ç‚¹ä¸­æ ·æœ¬ä¸ªæ•°å°‘äºç”¨æˆ·æŒ‡å®šä¸ªæ•° é™„å½• å€Ÿé‰´ï¼š æœºå™¨å­¦ä¹ å®æˆ˜æ•™ç¨‹ï¼ˆä¸‰ï¼‰ï¼šå†³ç­–æ ‘å®æˆ˜ç¯‡ä¹‹ä¸ºè‡ªå·±é…ä¸ªéšå½¢çœ¼é•œ å†³ç­–æ ‘ç®—æ³•åŸç†åŠå®ç°","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"}]},{"title":"Sklearnâ€”â€”å†³ç­–æ ‘","slug":"Sklearnâ€”â€”å†³ç­–æ ‘","date":"2019-08-30T13:43:27.000Z","updated":"2021-05-30T05:06:09.849Z","comments":true,"path":"2019/08/30/Sklearnâ€”â€”å†³ç­–æ ‘/","link":"","permalink":"https://nymrli.top/2019/08/30/Sklearnâ€”â€”å†³ç­–æ ‘/","excerpt":"","text":"Sklearnâ€”â€”å†³ç­–æ ‘ æ³¨æ˜ï¼šè½¬è½½è‡ªJack Guiçš„åšå®¢ 1ã€å®æˆ˜èƒŒæ™¯ è¿›å…¥æœ¬æ–‡çš„æ­£é¢˜ï¼šçœ¼ç§‘åŒ»ç”Ÿæ˜¯å¦‚ä½•åˆ¤æ–­æ‚£è€…éœ€è¦ä½©æˆ´éšå½¢çœ¼é•œçš„ç±»å‹çš„ï¼Ÿä¸€æ—¦ç†è§£äº†å†³ç­–æ ‘çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬ç”šè‡³ä¹Ÿå¯ä»¥å¸®åŠ©äººä»¬åˆ¤æ–­éœ€è¦ä½©æˆ´çš„é•œç‰‡ç±»å‹ã€‚ éšå½¢çœ¼é•œæ•°æ®é›†æ˜¯éå¸¸è‘—åçš„æ•°æ®é›†ï¼Œå®ƒåŒ…å«å¾ˆå¤šæ¢ç€çœ¼éƒ¨çŠ¶æ€çš„è§‚å¯Ÿæ¡ä»¶ä»¥åŠåŒ»ç”Ÿæ¨èçš„éšå½¢çœ¼é•œç±»å‹ã€‚éšå½¢çœ¼é•œç±»å‹åŒ…æ‹¬ç¡¬æè´¨(hard)ã€è½¯æè´¨(soft)ä»¥åŠä¸é€‚åˆä½©æˆ´éšå½¢çœ¼é•œ(no lenses)ã€‚æ•°æ®æ¥æºä¸UCIæ•°æ®åº“ï¼Œæ•°æ®é›†ä¸‹è½½åœ°å€ï¼š[lenses.txt)]([https://github.com/Jack-Cherish/Machine-Learning/blob/master/Decision Tree/lenses.txt](https://github.com/Jack-Cherish/Machine-Learning/blob/master/Decision Tree/lenses.txt)) young myope no reduced no lenses young myope no normal soft young myope yes reduced no lenses young myope yes normal hard young hyper no reduced no lenses young hyper no normal soft young hyper yes reduced no lenses young hyper yes normal hard pre myope no reduced no lenses pre myope no normal soft pre myope yes reduced no lenses pre myope yes normal hard pre hyper no reduced no lenses pre hyper no normal soft pre hyper yes reduced no lenses pre hyper yes normal no lenses presbyopic myope no reduced no lenses presbyopic myope no normal no lenses presbyopic myope yes reduced no lenses presbyopic myope yes normal hard presbyopic hyper no reduced no lenses presbyopic hyper no normal soft presbyopic hyper yes reduced no lenses presbyopic hyper yes normal no lenses ä¸€å…±æœ‰24ç»„æ•°æ®ï¼Œæ•°æ®çš„Labelsä¾æ¬¡æ˜¯ageã€prescriptã€astigmaticã€tearRateã€classï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€åˆ—æ˜¯å¹´é¾„ï¼Œç¬¬äºŒåˆ—æ˜¯ç—‡çŠ¶ï¼Œç¬¬ä¸‰åˆ—æ˜¯æ˜¯å¦æ•£å…‰ï¼Œç¬¬å››åˆ—æ˜¯çœ¼æ³ªæ•°é‡ï¼Œç¬¬äº”åˆ—æ˜¯æœ€ç»ˆçš„åˆ†ç±»æ ‡ç­¾ã€‚æ•°æ®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 2ã€ä½¿ç”¨Sklearnæ„å»ºå†³ç­–æ ‘ å®˜æ–¹è‹±æ–‡æ–‡æ¡£åœ°å€ï¼šhttp://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html sklearn.treeæ¨¡å—æä¾›äº†å†³ç­–æ ‘æ¨¡å‹ï¼Œç”¨äºè§£å†³åˆ†ç±»é—®é¢˜å’Œå›å½’é—®é¢˜ï¼š æœ¬æ¬¡å®æˆ˜å†…å®¹ä½¿ç”¨çš„æ˜¯DecisionTreeClassifierå’Œexport_graphvizï¼Œå‰è€…ç”¨äºå†³ç­–æ ‘æ„å»ºï¼Œåè€…ç”¨äºå†³ç­–æ ‘å¯è§†åŒ–ã€‚ DecisionTreeClassifieræ„å»ºå†³ç­–æ ‘ï¼š è®©æˆ‘ä»¬å…ˆçœ‹ä¸‹DecisionTreeClassifierè¿™ä¸ªå‡½æ•°ï¼Œä¸€å…±æœ‰12ä¸ªå‚æ•°ï¼š å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š **criterionï¼š**ç‰¹å¾é€‰æ‹©æ ‡å‡†ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯giniï¼Œå¯ä»¥è®¾ç½®ä¸ºentropyã€‚giniæ˜¯åŸºå°¼ä¸çº¯åº¦ï¼Œæ˜¯å°†æ¥è‡ªé›†åˆçš„æŸç§ç»“æœéšæœºåº”ç”¨äºæŸä¸€æ•°æ®é¡¹çš„é¢„æœŸè¯¯å·®ç‡ï¼Œæ˜¯ä¸€ç§åŸºäºç»Ÿè®¡çš„æ€æƒ³ã€‚entropyæ˜¯é¦™å†œç†µï¼Œä¹Ÿå°±æ˜¯ä¸Šç¯‡æ–‡ç« è®²è¿‡çš„å†…å®¹ï¼Œæ˜¯ä¸€ç§åŸºäºä¿¡æ¯è®ºçš„æ€æƒ³ã€‚SklearnæŠŠginiè®¾ä¸ºé»˜è®¤å‚æ•°ï¼Œåº”è¯¥ä¹Ÿæ˜¯åšäº†ç›¸åº”çš„æ–Ÿé…Œçš„ï¼Œç²¾åº¦ä¹Ÿè®¸æ›´é«˜äº›ï¼ŸID3ç®—æ³•ä½¿ç”¨çš„æ˜¯entropyï¼ŒCARTç®—æ³•ä½¿ç”¨çš„åˆ™æ˜¯giniã€‚ **splitterï¼š**ç‰¹å¾åˆ’åˆ†ç‚¹é€‰æ‹©æ ‡å‡†ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯bestï¼Œå¯ä»¥è®¾ç½®ä¸ºrandomã€‚æ¯ä¸ªç»“ç‚¹çš„é€‰æ‹©ç­–ç•¥ã€‚bestå‚æ•°æ˜¯æ ¹æ®ç®—æ³•é€‰æ‹©æœ€ä½³çš„åˆ‡åˆ†ç‰¹å¾ï¼Œä¾‹å¦‚giniã€entropyã€‚randoméšæœºçš„åœ¨éƒ¨åˆ†åˆ’åˆ†ç‚¹ä¸­æ‰¾å±€éƒ¨æœ€ä¼˜çš„åˆ’åˆ†ç‚¹ã€‚é»˜è®¤çš„&quot;best&quot;é€‚åˆæ ·æœ¬é‡ä¸å¤§çš„æ—¶å€™ï¼Œè€Œå¦‚æœæ ·æœ¬æ•°æ®é‡éå¸¸å¤§ï¼Œæ­¤æ—¶å†³ç­–æ ‘æ„å»ºæ¨è&quot;random&quot;ã€‚ max_featuresï¼š åˆ’åˆ†æ—¶è€ƒè™‘çš„æœ€å¤§ç‰¹å¾æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯Noneã€‚å¯»æ‰¾æœ€ä½³åˆ‡åˆ†æ—¶è€ƒè™‘çš„æœ€å¤§ç‰¹å¾æ•°(n_featuresä¸ºæ€»å…±çš„ç‰¹å¾æ•°)ï¼Œæœ‰å¦‚ä¸‹6ç§æƒ…å†µï¼š å¦‚æœmax_featuresæ˜¯æ•´å‹çš„æ•°ï¼Œåˆ™è€ƒè™‘max_featuresä¸ªç‰¹å¾ï¼› å¦‚æœmax_featuresæ˜¯æµ®ç‚¹å‹çš„æ•°ï¼Œåˆ™è€ƒè™‘int(max_features * n_features)ä¸ªç‰¹å¾ï¼› å¦‚æœmax_featuresè®¾ä¸ºautoï¼Œé‚£ä¹ˆmax_features = sqrt(n_features)ï¼› å¦‚æœmax_featuresè®¾ä¸ºsqrtï¼Œé‚£ä¹ˆmax_featrues = sqrt(n_features)ï¼Œè·Ÿautoä¸€æ ·ï¼› å¦‚æœmax_featuresè®¾ä¸ºlog2ï¼Œé‚£ä¹ˆmax_features = log2(n_features)ï¼› å¦‚æœmax_featuresè®¾ä¸ºNoneï¼Œé‚£ä¹ˆmax_features = n_featuresï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ç‰¹å¾éƒ½ç”¨ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ ·æœ¬ç‰¹å¾æ•°ä¸å¤šï¼Œæ¯”å¦‚å°äº50ï¼Œæˆ‘ä»¬ç”¨é»˜è®¤çš„&quot;None&quot;å°±å¯ä»¥äº†ï¼Œå¦‚æœç‰¹å¾æ•°éå¸¸å¤šï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»ä½¿ç”¨åˆšæ‰æè¿°çš„å…¶ä»–å–å€¼æ¥æ§åˆ¶åˆ’åˆ†æ—¶è€ƒè™‘çš„æœ€å¤§ç‰¹å¾æ•°ï¼Œä»¥æ§åˆ¶å†³ç­–æ ‘çš„ç”Ÿæˆæ—¶é—´ã€‚ **max_depthï¼š**å†³ç­–æ ‘æœ€å¤§æ·±ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯Noneã€‚è¿™ä¸ªå‚æ•°æ˜¯è¿™æ˜¯æ ‘çš„å±‚æ•°çš„ã€‚å±‚æ•°çš„æ¦‚å¿µå°±æ˜¯ï¼Œæ¯”å¦‚åœ¨è´·æ¬¾çš„ä¾‹å­ä¸­ï¼Œå†³ç­–æ ‘çš„å±‚æ•°æ˜¯2å±‚ã€‚å¦‚æœè¿™ä¸ªå‚æ•°è®¾ç½®ä¸ºNoneï¼Œé‚£ä¹ˆå†³ç­–æ ‘åœ¨å»ºç«‹å­æ ‘çš„æ—¶å€™ä¸ä¼šé™åˆ¶å­æ ‘çš„æ·±åº¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®å°‘æˆ–è€…ç‰¹å¾å°‘çš„æ—¶å€™å¯ä»¥ä¸ç®¡è¿™ä¸ªå€¼ã€‚æˆ–è€…å¦‚æœè®¾ç½®äº†min_samples_sliptå‚æ•°ï¼Œé‚£ä¹ˆç›´åˆ°å°‘äºmin_smaples_splitä¸ªæ ·æœ¬ä¸ºæ­¢ã€‚å¦‚æœæ¨¡å‹æ ·æœ¬é‡å¤šï¼Œç‰¹å¾ä¹Ÿå¤šçš„æƒ…å†µä¸‹ï¼Œæ¨èé™åˆ¶è¿™ä¸ªæœ€å¤§æ·±åº¦ï¼Œå…·ä½“çš„å–å€¼å–å†³äºæ•°æ®çš„åˆ†å¸ƒã€‚å¸¸ç”¨çš„å¯ä»¥å–å€¼10-100ä¹‹é—´ã€‚ **min_samples_splitï¼š**å†…éƒ¨èŠ‚ç‚¹å†åˆ’åˆ†æ‰€éœ€æœ€å°æ ·æœ¬æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯2ã€‚è¿™ä¸ªå€¼é™åˆ¶äº†å­æ ‘ç»§ç»­åˆ’åˆ†çš„æ¡ä»¶ã€‚å¦‚æœmin_samples_splitä¸ºæ•´æ•°ï¼Œé‚£ä¹ˆåœ¨åˆ‡åˆ†å†…éƒ¨ç»“ç‚¹çš„æ—¶å€™ï¼Œmin_samples_splitä½œä¸ºæœ€å°çš„æ ·æœ¬æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ ·æœ¬å·²ç»å°‘äºmin_samples_splitä¸ªæ ·æœ¬ï¼Œåˆ™åœæ­¢ç»§ç»­åˆ‡åˆ†ã€‚å¦‚æœmin_samples_splitä¸ºæµ®ç‚¹æ•°ï¼Œé‚£ä¹ˆmin_samples_splitå°±æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”ï¼Œceil(min_samples_split * n_samples)ï¼Œæ•°æ˜¯å‘ä¸Šå–æ•´çš„ã€‚å¦‚æœæ ·æœ¬é‡ä¸å¤§ï¼Œä¸éœ€è¦ç®¡è¿™ä¸ªå€¼ã€‚å¦‚æœæ ·æœ¬é‡æ•°é‡çº§éå¸¸å¤§ï¼Œåˆ™æ¨èå¢å¤§è¿™ä¸ªå€¼ã€‚ **min_samples_leafï¼š**å¶å­èŠ‚ç‚¹æœ€å°‘æ ·æœ¬æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯1ã€‚è¿™ä¸ªå€¼é™åˆ¶äº†å¶å­èŠ‚ç‚¹æœ€å°‘çš„æ ·æœ¬æ•°ï¼Œå¦‚æœæŸå¶å­èŠ‚ç‚¹æ•°ç›®å°äºæ ·æœ¬æ•°ï¼Œåˆ™ä¼šå’Œå…„å¼ŸèŠ‚ç‚¹ä¸€èµ·è¢«å‰ªæã€‚å¶ç»“ç‚¹éœ€è¦æœ€å°‘çš„æ ·æœ¬æ•°ï¼Œä¹Ÿå°±æ˜¯æœ€ååˆ°å¶ç»“ç‚¹ï¼Œéœ€è¦å¤šå°‘ä¸ªæ ·æœ¬æ‰èƒ½ç®—ä¸€ä¸ªå¶ç»“ç‚¹ã€‚å¦‚æœè®¾ç½®ä¸º1ï¼Œå“ªæ€•è¿™ä¸ªç±»åˆ«åªæœ‰1ä¸ªæ ·æœ¬ï¼Œå†³ç­–æ ‘ä¹Ÿä¼šæ„å»ºå‡ºæ¥ã€‚å¦‚æœmin_samples_leafæ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆmin_samples_leafä½œä¸ºæœ€å°çš„æ ·æœ¬æ•°ã€‚å¦‚æœæ˜¯æµ®ç‚¹æ•°ï¼Œé‚£ä¹ˆmin_samples_leafå°±æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”ï¼ŒåŒä¸Šï¼Œceli(min_samples_leaf * n_samples)ï¼Œæ•°æ˜¯å‘ä¸Šå–æ•´çš„ã€‚å¦‚æœæ ·æœ¬é‡ä¸å¤§ï¼Œä¸éœ€è¦ç®¡è¿™ä¸ªå€¼ã€‚å¦‚æœæ ·æœ¬é‡æ•°é‡çº§éå¸¸å¤§ï¼Œåˆ™æ¨èå¢å¤§è¿™ä¸ªå€¼ã€‚ **min_weight_fraction_leafï¼š**å¶å­èŠ‚ç‚¹æœ€å°çš„æ ·æœ¬æƒé‡å’Œï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯0ã€‚è¿™ä¸ªå€¼é™åˆ¶äº†å¶å­èŠ‚ç‚¹æ‰€æœ‰æ ·æœ¬æƒé‡å’Œçš„æœ€å°å€¼ï¼Œå¦‚æœå°äºè¿™ä¸ªå€¼ï¼Œåˆ™ä¼šå’Œå…„å¼ŸèŠ‚ç‚¹ä¸€èµ·è¢«å‰ªæã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰è¾ƒå¤šæ ·æœ¬æœ‰ç¼ºå¤±å€¼ï¼Œæˆ–è€…åˆ†ç±»æ ‘æ ·æœ¬çš„åˆ†å¸ƒç±»åˆ«åå·®å¾ˆå¤§ï¼Œå°±ä¼šå¼•å…¥æ ·æœ¬æƒé‡ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦æ³¨æ„è¿™ä¸ªå€¼äº†ã€‚ **max_leaf_nodesï¼š**æœ€å¤§å¶å­èŠ‚ç‚¹æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯Noneã€‚é€šè¿‡é™åˆ¶æœ€å¤§å¶å­èŠ‚ç‚¹æ•°ï¼Œå¯ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆã€‚å¦‚æœåŠ äº†é™åˆ¶ï¼Œç®—æ³•ä¼šå»ºç«‹åœ¨æœ€å¤§å¶å­èŠ‚ç‚¹æ•°å†…æœ€ä¼˜çš„å†³ç­–æ ‘ã€‚å¦‚æœç‰¹å¾ä¸å¤šï¼Œå¯ä»¥ä¸è€ƒè™‘è¿™ä¸ªå€¼ï¼Œä½†æ˜¯å¦‚æœç‰¹å¾åˆ†æˆå¤šçš„è¯ï¼Œå¯ä»¥åŠ ä»¥é™åˆ¶ï¼Œå…·ä½“çš„å€¼å¯ä»¥é€šè¿‡äº¤å‰éªŒè¯å¾—åˆ°ã€‚ **class_weightï¼š**ç±»åˆ«æƒé‡ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯Noneï¼Œä¹Ÿå¯ä»¥å­—å…¸ã€å­—å…¸åˆ—è¡¨ã€balancedã€‚æŒ‡å®šæ ·æœ¬å„ç±»åˆ«çš„çš„æƒé‡ï¼Œä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢è®­ç»ƒé›†æŸäº›ç±»åˆ«çš„æ ·æœ¬è¿‡å¤šï¼Œå¯¼è‡´è®­ç»ƒçš„å†³ç­–æ ‘è¿‡äºåå‘è¿™äº›ç±»åˆ«ã€‚ç±»åˆ«çš„æƒé‡å¯ä»¥é€šè¿‡{class_labelï¼šweight}è¿™æ ·çš„æ ¼å¼ç»™å‡ºï¼Œè¿™é‡Œå¯ä»¥è‡ªå·±æŒ‡å®šå„ä¸ªæ ·æœ¬çš„æƒé‡ï¼Œæˆ–è€…ç”¨balancedï¼Œå¦‚æœä½¿ç”¨balancedï¼Œåˆ™ç®—æ³•ä¼šè‡ªå·±è®¡ç®—æƒé‡ï¼Œæ ·æœ¬é‡å°‘çš„ç±»åˆ«æ‰€å¯¹åº”çš„æ ·æœ¬æƒé‡ä¼šé«˜ã€‚å½“ç„¶ï¼Œå¦‚æœä½ çš„æ ·æœ¬ç±»åˆ«åˆ†å¸ƒæ²¡æœ‰æ˜æ˜¾çš„åå€šï¼Œåˆ™å¯ä»¥ä¸ç®¡è¿™ä¸ªå‚æ•°ï¼Œé€‰æ‹©é»˜è®¤çš„Noneã€‚ **random_stateï¼š**å¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯Noneã€‚éšæœºæ•°ç§å­ã€‚å¦‚æœæ˜¯è¯ä¹¦ï¼Œé‚£ä¹ˆrandom_stateä¼šä½œä¸ºéšæœºæ•°ç”Ÿæˆå™¨çš„éšæœºæ•°ç§å­ã€‚éšæœºæ•°ç§å­ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®éšæœºæ•°ï¼Œéšæœºå‡ºæ¥çš„æ•°ä¸å½“å‰ç³»ç»Ÿæ—¶é—´æœ‰å…³ï¼Œæ¯ä¸ªæ—¶åˆ»éƒ½æ˜¯ä¸åŒçš„ã€‚å¦‚æœè®¾ç½®äº†éšæœºæ•°ç§å­ï¼Œé‚£ä¹ˆç›¸åŒéšæœºæ•°ç§å­ï¼Œä¸åŒæ—¶åˆ»äº§ç”Ÿçš„éšæœºæ•°ä¹Ÿæ˜¯ç›¸åŒçš„ã€‚å¦‚æœæ˜¯RandomState instanceï¼Œé‚£ä¹ˆrandom_stateæ˜¯éšæœºæ•°ç”Ÿæˆå™¨ã€‚å¦‚æœä¸ºNoneï¼Œåˆ™éšæœºæ•°ç”Ÿæˆå™¨ä½¿ç”¨np.randomã€‚ **min_impurity_splitï¼š**èŠ‚ç‚¹åˆ’åˆ†æœ€å°ä¸çº¯åº¦,å¯é€‰å‚æ•°ï¼Œé»˜è®¤æ˜¯1e-7ã€‚è¿™æ˜¯ä¸ªé˜ˆå€¼ï¼Œè¿™ä¸ªå€¼é™åˆ¶äº†å†³ç­–æ ‘çš„å¢é•¿ï¼Œå¦‚æœæŸèŠ‚ç‚¹çš„ä¸çº¯åº¦(åŸºå°¼ç³»æ•°ï¼Œä¿¡æ¯å¢ç›Šï¼Œå‡æ–¹å·®ï¼Œç»å¯¹å·®)å°äºè¿™ä¸ªé˜ˆå€¼ï¼Œåˆ™è¯¥èŠ‚ç‚¹ä¸å†ç”Ÿæˆå­èŠ‚ç‚¹ã€‚å³ä¸ºå¶å­èŠ‚ç‚¹ ã€‚ **presortï¼š**æ•°æ®æ˜¯å¦é¢„æ’åºï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸ºFalseï¼Œè¿™ä¸ªå€¼æ˜¯å¸ƒå°”å€¼ï¼Œé»˜è®¤æ˜¯Falseä¸æ’åºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ ·æœ¬é‡å°‘æˆ–è€…é™åˆ¶äº†ä¸€ä¸ªæ·±åº¦å¾ˆå°çš„å†³ç­–æ ‘ï¼Œè®¾ç½®ä¸ºtrueå¯ä»¥è®©åˆ’åˆ†ç‚¹é€‰æ‹©æ›´åŠ å¿«ï¼Œå†³ç­–æ ‘å»ºç«‹çš„æ›´åŠ å¿«ã€‚å¦‚æœæ ·æœ¬é‡å¤ªå¤§çš„è¯ï¼Œåè€Œæ²¡æœ‰ä»€ä¹ˆå¥½å¤„ã€‚é—®é¢˜æ˜¯æ ·æœ¬é‡å°‘çš„æ—¶å€™ï¼Œæˆ‘é€Ÿåº¦æœ¬æ¥å°±ä¸æ…¢ã€‚æ‰€ä»¥è¿™ä¸ªå€¼ä¸€èˆ¬æ‡’å¾—ç†å®ƒå°±å¯ä»¥äº†ã€‚ é™¤äº†è¿™äº›å‚æ•°è¦æ³¨æ„ä»¥å¤–ï¼Œå…¶ä»–åœ¨è°ƒå‚æ—¶çš„æ³¨æ„ç‚¹æœ‰ï¼š å½“æ ·æœ¬æ•°é‡å°‘ä½†æ˜¯æ ·æœ¬ç‰¹å¾éå¸¸å¤šçš„æ—¶å€™ï¼Œå†³ç­–æ ‘å¾ˆå®¹æ˜“è¿‡æ‹Ÿåˆï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ ·æœ¬æ•°æ¯”ç‰¹å¾æ•°å¤šä¸€äº›ä¼šæ¯”è¾ƒå®¹æ˜“å»ºç«‹å¥å£®çš„æ¨¡å‹ å¦‚æœæ ·æœ¬æ•°é‡å°‘ä½†æ˜¯æ ·æœ¬ç‰¹å¾éå¸¸å¤šï¼Œåœ¨æ‹Ÿåˆå†³ç­–æ ‘æ¨¡å‹å‰ï¼Œæ¨èå…ˆåšç»´åº¦è§„çº¦ï¼Œæ¯”å¦‚ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ï¼Œç‰¹å¾é€‰æ‹©ï¼ˆLossoï¼‰æˆ–è€…ç‹¬ç«‹æˆåˆ†åˆ†æï¼ˆICAï¼‰ã€‚è¿™æ ·ç‰¹å¾çš„ç»´åº¦ä¼šå¤§å¤§å‡å°ã€‚å†æ¥æ‹Ÿåˆå†³ç­–æ ‘æ¨¡å‹æ•ˆæœä¼šå¥½ã€‚ æ¨èå¤šç”¨å†³ç­–æ ‘çš„å¯è§†åŒ–ï¼ŒåŒæ—¶å…ˆé™åˆ¶å†³ç­–æ ‘çš„æ·±åº¦ï¼Œè¿™æ ·å¯ä»¥å…ˆè§‚å¯Ÿä¸‹ç”Ÿæˆçš„å†³ç­–æ ‘é‡Œæ•°æ®çš„åˆæ­¥æ‹Ÿåˆæƒ…å†µï¼Œç„¶åå†å†³å®šæ˜¯å¦è¦å¢åŠ æ·±åº¦ã€‚ åœ¨è®­ç»ƒæ¨¡å‹æ—¶ï¼Œæ³¨æ„è§‚å¯Ÿæ ·æœ¬çš„ç±»åˆ«æƒ…å†µï¼ˆä¸»è¦æŒ‡åˆ†ç±»æ ‘ï¼‰ï¼Œå¦‚æœç±»åˆ«åˆ†å¸ƒéå¸¸ä¸å‡åŒ€ï¼Œå°±è¦è€ƒè™‘ç”¨class_weightæ¥é™åˆ¶æ¨¡å‹è¿‡äºåå‘æ ·æœ¬å¤šçš„ç±»åˆ«ã€‚ å†³ç­–æ ‘çš„æ•°ç»„ä½¿ç”¨çš„æ˜¯numpyçš„float32ç±»å‹ï¼Œå¦‚æœè®­ç»ƒæ•°æ®ä¸æ˜¯è¿™æ ·çš„æ ¼å¼ï¼Œç®—æ³•ä¼šå…ˆåšcopyå†è¿è¡Œã€‚ å¦‚æœè¾“å…¥çš„æ ·æœ¬çŸ©é˜µæ˜¯ç¨€ç–çš„ï¼Œæ¨èåœ¨æ‹Ÿåˆå‰è°ƒç”¨csc_matrixç¨€ç–åŒ–ï¼Œåœ¨é¢„æµ‹å‰è°ƒç”¨csr_matrixç¨€ç–åŒ–ã€‚ sklearn.tree.DecisionTreeClassifier()æä¾›äº†ä¸€äº›æ–¹æ³•ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š Code1 12345678910# -*- coding: UTF-8 -*-from sklearn import treeif __name__ == '__main__': fr = open('lenses.txt') lenses = [inst.strip().split('/t') for inst in fr.readlines()] print(lenses) lensesLabels = ['age', 'prescript', 'astigmatic', 'tearRate'] clf = tree.DecisionTreeClassifier() lenses = clf.fit(lenses, lensesLabels) â–² æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¨‹åºæŠ¥é”™äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåœ¨fit()å‡½æ•°ä¸èƒ½æ¥æ”¶stringç±»å‹çš„æ•°æ®ï¼Œé€šè¿‡æ‰“å°çš„ä¿¡æ¯å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®éƒ½æ˜¯stringç±»å‹çš„ã€‚åœ¨ä½¿ç”¨fit()å‡½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®é›†è¿›è¡Œç¼–ç ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹æ³•ï¼š LabelEncoder ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¢é‡å€¼ OneHotEncoderï¼šä½¿ç”¨One-of-Kç®—æ³•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•° ä¸ºäº†å¯¹stringç±»å‹çš„æ•°æ®åºåˆ—åŒ–ï¼Œéœ€è¦å…ˆç”Ÿæˆpandasæ•°æ®ï¼Œè¿™æ ·æ–¹ä¾¿æˆ‘ä»¬çš„åºåˆ—åŒ–å·¥ä½œã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ–¹æ³•æ˜¯ï¼ŒåŸå§‹æ•°æ®-&gt;å­—å…¸-&gt;pandasæ•°æ®ï¼Œç¼–å†™ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122# -*- coding: UTF-8 -*-import pandas as pdif __name__ == '__main__': with open('lenses.txt', 'r') as fr: #åŠ è½½æ–‡ä»¶ lenses = [inst.strip().split('/t') for inst in fr.readlines()] #å¤„ç†æ–‡ä»¶ lenses_target = [] #æå–æ¯ç»„æ•°æ®çš„ç±»åˆ«ï¼Œä¿å­˜åœ¨åˆ—è¡¨é‡Œ for each in lenses: lenses_target.append(each[-1]) lensesLabels = ['age', 'prescript', 'astigmatic', 'tearRate'] #ç‰¹å¾æ ‡ç­¾ lenses_list = [] #ä¿å­˜lensesæ•°æ®çš„ä¸´æ—¶åˆ—è¡¨ lenses_dict = &#123;&#125; #ä¿å­˜lensesæ•°æ®çš„å­—å…¸ï¼Œç”¨äºç”Ÿæˆpandas for each_label in lensesLabels: #æå–ä¿¡æ¯ï¼Œç”Ÿæˆå­—å…¸ for each in lenses: lenses_list.append(each[lensesLabels.index(each_label)]) lenses_dict[each_label] = lenses_list lenses_list = [] print(lenses_dict) #æ‰“å°å­—å…¸ä¿¡æ¯ lenses_pd = pd.DataFrame(lenses_dict) #ç”Ÿæˆpandas.DataFrame print(lenses_pd) # é¡ºåˆ©ç”Ÿæˆpandasæ•°æ®ã€‚ æ¥ä¸‹æ¥ï¼Œå°†æ•°æ®åºåˆ—åŒ–ï¼Œç¼–å†™ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829# -*- coding: UTF-8 -*-import pandas as pdfrom sklearn.preprocessing import LabelEncoderimport pydotplusfrom sklearn.externals.six import StringIOif __name__ == '__main__': with open('lenses.txt', 'r') as fr: #åŠ è½½æ–‡ä»¶ lenses = [inst.strip().split('/t') for inst in fr.readlines()] #å¤„ç†æ–‡ä»¶ lenses_target = [] #æå–æ¯ç»„æ•°æ®çš„ç±»åˆ«ï¼Œä¿å­˜åœ¨åˆ—è¡¨é‡Œ for each in lenses: lenses_target.append(each[-1]) lensesLabels = ['age', 'prescript', 'astigmatic', 'tearRate'] #ç‰¹å¾æ ‡ç­¾ lenses_list = [] #ä¿å­˜lensesæ•°æ®çš„ä¸´æ—¶åˆ—è¡¨ lenses_dict = &#123;&#125; #ä¿å­˜lensesæ•°æ®çš„å­—å…¸ï¼Œç”¨äºç”Ÿæˆpandas for each_label in lensesLabels: #æå–ä¿¡æ¯ï¼Œç”Ÿæˆå­—å…¸ for each in lenses: lenses_list.append(each[lensesLabels.index(each_label)]) lenses_dict[each_label] = lenses_list lenses_list = [] # print(lenses_dict) #æ‰“å°å­—å…¸ä¿¡æ¯ lenses_pd = pd.DataFrame(lenses_dict) # ç”Ÿæˆpandas.DataFrame print(lenses_pd) #æ‰“å°pandas.DataFrame le = LabelEncoder() #åˆ›å»ºLabelEncoder()å¯¹è±¡ï¼Œç”¨äºåºåˆ—åŒ– for col in lenses_pd.columns: #ä¸ºæ¯ä¸€åˆ—åºåˆ—åŒ– lenses_pd[col] = le.fit_transform(lenses_pd[col]) print(lenses_pd) ä»æ‰“å°ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å·²ç»å°†æ•°æ®é¡ºåˆ©åºåˆ—åŒ–ï¼Œæ¥ä¸‹æ¥ã€‚æˆ‘ä»¬å°±å¯ä»¥fit()æ•°æ®ï¼Œæ„å»ºå†³ç­–æ ‘äº†ã€‚ 3ã€ä½¿ç”¨Graphvizå¯è§†åŒ–å†³ç­–æ ‘ Graphvizçš„æ˜¯AT&amp;T Labs Researchå¼€å‘çš„å›¾å½¢ç»˜åˆ¶å·¥å…·ï¼Œä»–å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨æ¥ç»˜åˆ¶ç»“æ„åŒ–çš„å›¾å½¢ç½‘ç»œï¼Œæ”¯æŒå¤šç§æ ¼å¼è¾“å‡ºï¼Œç”Ÿæˆå›¾ç‰‡çš„è´¨é‡å’Œé€Ÿåº¦éƒ½ä¸é”™ã€‚å®ƒçš„è¾“å…¥æ˜¯ä¸€ä¸ªç”¨dotè¯­è¨€ç¼–å†™çš„ç»˜å›¾è„šæœ¬ï¼Œé€šè¿‡å¯¹è¾“å…¥è„šæœ¬çš„è§£æï¼Œåˆ†æå‡ºå…¶ä¸­çš„ç‚¹ï¼Œè¾¹ä»¥åŠå­å›¾ï¼Œç„¶åæ ¹æ®å±æ€§è¿›è¡Œç»˜åˆ¶ã€‚æ˜¯ä½¿ç”¨Sklearnç”Ÿæˆçš„å†³ç­–æ ‘å°±æ˜¯dotæ ¼å¼çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ©ç”¨Graphvizå°†å†³ç­–æ ‘å¯è§†åŒ–ã€‚ åœ¨è®²è§£ç¼–å†™ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸¤æ ·ä¸œè¥¿ï¼Œå³pydotpluså’ŒGrphvizã€‚ ï¼ˆ1ï¼‰å®‰è£…Pydotplus pydotpluså¯ä»¥åœ¨CMDçª—å£ä¸­ï¼Œç›´æ¥ä½¿ç”¨æŒ‡ä»¤å®‰è£…ï¼špip3 install pydotplus ï¼ˆ2ï¼‰å®‰è£…Graphviz Graphvizä¸èƒ½ä½¿ç”¨pipè¿›è¡Œå®‰è£…ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œä¸‹è½½åœ°å€ï¼šhttps://www.graphviz.orgï¼Œå¯èƒ½ä¸‹è½½æ¯”è¾ƒæ…¢ã€‚ å®‰è£…ä»¥åï¼Œéœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¦‚å°†D:/graphviz-2.38/release/binåŠ å…¥åˆ°Pathä¸­ï¼Œç„¶åè¿è¡Œä¸‹ä¹‹åçš„ä»£ç çœ‹æ˜¯å¦èƒ½æ­£å¸¸ä½¿ç”¨ã€‚ ï¼ˆ3ï¼‰ç¼–å†™ä»£ç  Talk is Cheap, show me the code.(åºŸè¯å°‘è¯´ï¼Œæ”¾ç è¿‡æ¥)ã€‚å¯è§†åŒ–éƒ¨åˆ†çš„ä»£ç ä¸éš¾ï¼Œéƒ½æ˜¯æœ‰å¥—è·¯çš„ï¼Œç›´æ¥å¡«å‚æ•°å°±å¥½ï¼Œè¯¦ç»†å†…å®¹å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ•™ç¨‹ï¼šhttp://scikit-learn.org/stable/modules/tree.html#tree 123456789101112131415161718192021222324252627282930313233343536373839404142# -*- coding: UTF-8 -*-from sklearn.preprocessing import LabelEncoder, OneHotEncoderfrom sklearn.externals.six import StringIOfrom sklearn import treeimport pandas as pdimport numpy as npimport pydotplusif __name__ == '__main__': with open('lenses.txt', 'r') as fr: #åŠ è½½æ–‡ä»¶ lenses = [inst.strip().split('/t') for inst in fr.readlines()] #å¤„ç†æ–‡ä»¶ lenses_target = [] #æå–æ¯ç»„æ•°æ®çš„ç±»åˆ«ï¼Œä¿å­˜åœ¨åˆ—è¡¨é‡Œ for each in lenses: lenses_target.append(each[-1]) print(lenses_target) lensesLabels = ['age', 'prescript', 'astigmatic', 'tearRate'] #ç‰¹å¾æ ‡ç­¾ lenses_list = [] #ä¿å­˜lensesæ•°æ®çš„ä¸´æ—¶åˆ—è¡¨ lenses_dict = &#123;&#125; #ä¿å­˜lensesæ•°æ®çš„å­—å…¸ï¼Œç”¨äºç”Ÿæˆpandas for each_label in lensesLabels: #æå–ä¿¡æ¯ï¼Œç”Ÿæˆå­—å…¸ for each in lenses: lenses_list.append(each[lensesLabels.index(each_label)]) lenses_dict[each_label] = lenses_list lenses_list = [] # print(lenses_dict) #æ‰“å°å­—å…¸ä¿¡æ¯ lenses_pd = pd.DataFrame(lenses_dict) #ç”Ÿæˆpandas.DataFrame # print(lenses_pd) #æ‰“å°pandas.DataFrame le = LabelEncoder() #åˆ›å»ºLabelEncoder()å¯¹è±¡ï¼Œç”¨äºåºåˆ—åŒ– for col in lenses_pd.columns: #åºåˆ—åŒ– lenses_pd[col] = le.fit_transform(lenses_pd[col]) # print(lenses_pd) #æ‰“å°ç¼–ç ä¿¡æ¯ clf = tree.DecisionTreeClassifier(max_depth = 4) #åˆ›å»ºDecisionTreeClassifier()ç±» clf = clf.fit(lenses_pd.values.tolist(), lenses_target) #ä½¿ç”¨æ•°æ®ï¼Œæ„å»ºå†³ç­–æ ‘ dot_data = StringIO() tree.export_graphviz(clf, out_file = dot_data, #ç»˜åˆ¶å†³ç­–æ ‘ feature_names = lenses_pd.keys(), class_names = clf.classes_, filled=True, rounded=True, special_characters=True) graph = pydotplus.graph_from_dot_data(dot_data.getvalue()) graph.write_pdf(\"tree.pdf\") #ä¿å­˜ç»˜åˆ¶å¥½çš„å†³ç­–æ ‘ï¼Œä»¥PDFçš„å½¢å¼å­˜å‚¨ã€‚ è¿è¡Œä»£ç ï¼Œåœ¨è¯¥pythonæ–‡ä»¶ä¿å­˜çš„ç›¸åŒç›®å½•ä¸‹ï¼Œä¼šç”Ÿæˆä¸€ä¸ªåä¸ºtreeçš„PDFæ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°å†³ç­–æ ‘çš„å¯è§†åŒ–æ•ˆæœå›¾äº†ã€‚ ç¡®å®šå¥½å†³ç­–æ ‘ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åšé¢„æµ‹äº†ã€‚å¯ä»¥æ ¹æ®è‡ªå·±çš„çœ¼ç›æƒ…å†µå’Œå¹´é¾„ç­‰ç‰¹å¾ï¼Œçœ‹ä¸€çœ‹è‡ªå·±é€‚åˆä½•ç§æè´¨çš„éšå½¢çœ¼é•œã€‚ä½¿ç”¨å¦‚ä¸‹ä»£ç å°±å¯ä»¥çœ‹åˆ°é¢„æµ‹ç»“æœï¼šprint(clf.predict([[1,1,1,0]])) #é¢„æµ‹ æ€»ç»“ å†³ç­–æ ‘çš„ä¸€äº›ä¼˜ç‚¹ï¼š æ˜“äºç†è§£å’Œè§£é‡Šã€‚å†³ç­–æ ‘å¯ä»¥å¯è§†åŒ–ã€‚ å‡ ä¹ä¸éœ€è¦æ•°æ®é¢„å¤„ç†ã€‚å…¶ä»–æ–¹æ³•ç»å¸¸éœ€è¦æ•°æ®æ ‡å‡†åŒ–ï¼Œåˆ›å»ºè™šæ‹Ÿå˜é‡å’Œåˆ é™¤ç¼ºå¤±å€¼ã€‚å†³ç­–æ ‘è¿˜ä¸æ”¯æŒç¼ºå¤±å€¼ã€‚ ä½¿ç”¨æ ‘çš„èŠ±è´¹ï¼ˆä¾‹å¦‚é¢„æµ‹æ•°æ®ï¼‰æ˜¯è®­ç»ƒæ•°æ®ç‚¹(data points)æ•°é‡çš„å¯¹æ•°ã€‚ å¯ä»¥åŒæ—¶å¤„ç†æ•°å€¼å˜é‡å’Œåˆ†ç±»å˜é‡ã€‚å…¶ä»–æ–¹æ³•å¤§éƒ½é€‚ç”¨äºåˆ†æä¸€ç§å˜é‡çš„é›†åˆã€‚ å¯ä»¥å¤„ç†å¤šå€¼è¾“å‡ºå˜é‡é—®é¢˜ã€‚ ä½¿ç”¨ç™½ç›’æ¨¡å‹ã€‚å¦‚æœä¸€ä¸ªæƒ…å†µè¢«è§‚å¯Ÿåˆ°ï¼Œä½¿ç”¨é€»è¾‘åˆ¤æ–­å®¹æ˜“è¡¨ç¤ºè¿™ç§è§„åˆ™ã€‚ç›¸åï¼Œå¦‚æœæ˜¯é»‘ç›’æ¨¡å‹ï¼ˆä¾‹å¦‚äººå·¥ç¥ç»ç½‘ç»œï¼‰ï¼Œç»“æœä¼šéå¸¸éš¾è§£é‡Šã€‚ å³ä½¿å¯¹çœŸå®æ¨¡å‹æ¥è¯´ï¼Œå‡è®¾æ— æ•ˆçš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥è¾ƒå¥½çš„é€‚ç”¨ã€‚ å†³ç­–æ ‘çš„ä¸€äº›ç¼ºç‚¹ï¼š å†³ç­–æ ‘å­¦ä¹ å¯èƒ½åˆ›å»ºä¸€ä¸ªè¿‡äºå¤æ‚çš„æ ‘ï¼Œå¹¶ä¸èƒ½å¾ˆå¥½çš„é¢„æµ‹æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¿‡æ‹Ÿåˆã€‚ä¿®å‰ªæœºåˆ¶ï¼ˆç°åœ¨ä¸æ”¯æŒï¼‰ï¼Œè®¾ç½®ä¸€ä¸ªå¶å­èŠ‚ç‚¹éœ€è¦çš„æœ€å°æ ·æœ¬æ•°é‡ï¼Œæˆ–è€…æ•°çš„æœ€å¤§æ·±åº¦ï¼Œå¯ä»¥é¿å…è¿‡æ‹Ÿåˆã€‚ å†³ç­–æ ‘å¯èƒ½æ˜¯ä¸ç¨³å®šçš„ï¼Œå› ä¸ºå³ä½¿éå¸¸å°çš„å˜å¼‚ï¼Œå¯èƒ½ä¼šäº§ç”Ÿä¸€é¢—å®Œå…¨ä¸åŒçš„æ ‘ã€‚è¿™ä¸ªé—®é¢˜é€šè¿‡decision trees with an ensembleæ¥ç¼“è§£ã€‚ æ¦‚å¿µéš¾ä»¥å­¦ä¹ ï¼Œå› ä¸ºå†³ç­–æ ‘æ²¡æœ‰å¾ˆå¥½çš„è§£é‡Šä»–ä»¬ï¼Œä¾‹å¦‚ï¼ŒXOR, parity or multiplexer problemsã€‚ å¦‚æœæŸäº›åˆ†ç±»å ä¼˜åŠ¿ï¼Œå†³ç­–æ ‘å°†ä¼šåˆ›å»ºä¸€æ£µæœ‰åå·®çš„æ ‘ã€‚å› æ­¤ï¼Œå»ºè®®åœ¨è®­ç»ƒä¹‹å‰ï¼Œå…ˆæŠ½æ ·ä½¿æ ·æœ¬å‡è¡¡ã€‚","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"Pythton","slug":"Pythton","permalink":"https://nymrli.top/tags/Pythton/"}]},{"title":"ACM-åšå¼ˆè®º","slug":"ACM-åšå¼ˆè®º","date":"2019-08-30T13:41:28.000Z","updated":"2019-09-15T08:07:30.912Z","comments":true,"path":"2019/08/30/ACM-åšå¼ˆè®º/","link":"","permalink":"https://nymrli.top/2019/08/30/ACM-åšå¼ˆè®º/","excerpt":"","text":"ACM-åšå¼ˆè®ºï¼ˆgamblingï¼‰ åšå¼ˆè®ºï¼šæ˜¯äºŒäººæˆ–å¤šäººåœ¨å¹³ç­‰çš„å¯¹å±€ä¸­å„è‡ªåˆ©ç”¨å¯¹æ–¹çš„ç­–ç•¥å˜æ¢è‡ªå·±çš„å¯¹æŠ—ç­–ç•¥ï¼Œè¾¾åˆ°å–èƒœç›®æ ‡çš„ç†è®ºã€‚å‡è®¾ï¼ŒåŒæ–¹æ¯æ­¥éƒ½æ˜¯æœ€ä¼˜å†³ç­– åšå¼ˆè®ºæ˜¯ç ”ç©¶äº’åŠ¨å†³ç­–çš„ç†è®ºã€‚åšå¼ˆå¯ä»¥åˆ†æè‡ªå·±ä¸å¯¹æ‰‹çš„åˆ©å¼Šå…³ç³»ï¼Œä»è€Œç¡®ç«‹è‡ªå·±åœ¨åšå¼ˆä¸­çš„ä¼˜åŠ¿ï¼Œå› æ­¤æœ‰ä¸å°‘åšå¼ˆç†è®ºï¼Œå¯ä»¥å¸®åŠ©å¯¹å¼ˆè€…åˆ†æå±€åŠ¿ï¼Œä»è€Œé‡‡å–ç›¸åº”ç­–ç•¥ï¼Œæœ€ç»ˆè¾¾åˆ°å–èƒœçš„ç›®çš„ã€‚ å·´ä»€åšå¼ˆ åªæœ‰ä¸€å †nä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµä»è¿™å †ç‰©å“ä¸­å–ç‰©ï¼Œè§„å®šæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œæœ€å¤šå–mä¸ªã€‚æœ€åå–å…‰è€…å¾—èƒœã€‚ æ˜¾ç„¶ï¼Œå¦‚æœn=m+1ï¼Œ1é‚£ä¹ˆç”±äºä¸€æ¬¡æœ€å¤šåªèƒ½å–mä¸ªï¼Œæ‰€ä»¥ï¼Œæ— è®ºå…ˆå–è€…æ‹¿èµ°å¤šå°‘ä¸ªï¼Œåå–è€…éƒ½èƒ½å¤Ÿä¸€æ¬¡æ‹¿èµ°å‰©ä½™çš„ç‰©å“ï¼Œåè€…å–èƒœã€‚å› æ­¤æˆ‘ä»¬å‘ç°äº†å…ˆæ‰‹å¦‚ä½•å–èƒœçš„æ³•åˆ™ï¼šé™¤äº†å…ˆæ‰‹å–ä»¥å¤–ï¼Œä¹‹åæ¯ä¸ªåŒæ–¹å›åˆæ—¶ä¿è¯å–èµ°m+1ä¸ªç‰©å“åˆ™èƒ½ä¿è¯å…ˆæ‰‹èƒœã€‚ â–²å³å¦‚æœn=(m+1)*r+sï¼Œï¼ˆrä¸ºä»»æ„è‡ªç„¶æ•°ï¼Œ0&lt;s&lt;=mï¼‰ï¼Œé‚£ä¹ˆå…ˆå–è€…è¦æ‹¿èµ°sä¸ªç‰©å“ï¼Œå¦‚æœåå–è€…æ‹¿èµ°kï¼ˆ&lt;=mï¼‰ä¸ªï¼Œé‚£ä¹ˆå…ˆå–è€…å†æ‹¿èµ°m+1-kä¸ªï¼Œç»“æœå‰©ä¸‹ï¼ˆm+1ï¼‰ï¼ˆr-1ï¼‰ä¸ªï¼Œä»¥åä¿æŒè¿™æ ·çš„å–æ³•ï¼Œé‚£ä¹ˆå…ˆå–è€…è‚¯å®šè·èƒœã€‚æ€»ä¹‹ï¼Œè¦ä¿æŒç»™å¯¹æ‰‹ç•™ä¸‹ï¼ˆm+1ï¼‰çš„å€æ•°ï¼Œå°±èƒ½æœ€åè·èƒœã€‚ ç»“è®º ç¼–ç¨‹è§£é¢˜çš„æ–¹æ³•å°±æ˜¯åˆ¤æ–­næ˜¯å¦èƒ½è¡¨ç¤ºä¸º(m+1)*r+sï¼Œæ‰¾åˆ°è¿™ä¸ªmï¼Œå’Œå­˜åœ¨rï¼Œs sä¸ä¸º0ï¼Œæ‰€ä»¥å½“n=(m+1)*ræ—¶ï¼Œåæ‰‹å¿…èƒœ è¿™ä¸ªæ¸¸æˆè¿˜å¯ä»¥æœ‰ä¸€ç§å˜ç›¸çš„ç©æ³•ï¼šä¸¤ä¸ªäººè½®æµæŠ¥æ•°ï¼Œæ¯æ¬¡è‡³å°‘æŠ¥ä¸€ä¸ªï¼Œæœ€å¤šæŠ¥åä¸ªï¼Œè°èƒ½æŠ¥åˆ°100è€…èƒœã€‚ ä¾‹é¢˜HDU1846â€”â€”Brave Gameï¼Œè£¸é¢˜ nä¸ºæ€»ä»·ã€æ€»å’Œï¼Œmä¸ºæ¯æ¬¡èƒ½å–çš„å¤§å° 123456789101112131415#include &lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n, m; int t; cin &gt;&gt; t; while(t--)&#123; cin&gt;&gt;n &gt;&gt;m; int mod = n%(m+1); if (mod != 0) cout &lt;&lt; \"first\" &lt;&lt;endl; else cout &lt;&lt; \"second\" &lt;&lt; endl; &#125; return 0;&#125; Public Sale åŒºåˆ«åœ¨äºè¿˜å­˜åœ¨n&lt;mçš„æƒ…å†µï¼Œç”±äºé¢˜ç›®è¦æ±‚æ¯æ¬¡åŠ ä»·çš„å¹…åº¦è¦åœ¨1ï½Nä¹‹é—´ï¼Œå½“ä»·æ ¼å¤§äºæˆ–ç­‰äºç”°åœ°çš„æˆæœ¬ä»· M æ—¶ï¼Œä¸»åŠæ–¹å°±æŠŠè¿™å—ç”°åœ°å–ç»™è¿™æ¬¡å«ä»·çš„äººã€‚ï¼Œæ‰€ä»¥æ­¤æ—¶ï¼Œç¬¬ä¸€æ¬¡å‡ºä»·n+1~méƒ½å¯ä»¥ç›´æ¥å°†ç‰©å“ä¹°ä¸‹ï¼Œéœ€è¦å•ç‹¬è€ƒè™‘ 123456789101112131415161718#include &lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n, m; while (cin &gt;&gt; n&gt;&gt;m)&#123; if (n&lt;m) &#123; for(int i=n+1;i&lt;=m;i++) cout &lt;&lt; i &lt;&lt; \" \"; cout &lt;&lt; endl; &#125;else&#123; int mod = n%(m+1); if (mod == 0) cout &lt;&lt; \"none\"&lt;&lt;endl; //s=0ï¼Œåæ‰‹å¿…èƒœ else cout &lt;&lt; mod &lt;&lt; endl; //å­˜åœ¨sï¼Œå³å…ˆæ‰‹çš„Leleèƒ½ä¹°åˆ° &#125; &#125; return 0;&#125; æ–æ³¢é‚£å¥‘åšå¼ˆ æœ‰ä¸€å †ä¸ªæ•°ä¸ºnçš„çŸ³å­ï¼Œæ¸¸æˆåŒæ–¹è½®æµå–çŸ³å­ï¼Œæ»¡è¶³ï¼š 1ï¼‰å…ˆæ‰‹ä¸èƒ½åœ¨ç¬¬ä¸€æ¬¡æŠŠæ‰€æœ‰çš„çŸ³å­å–å®Œï¼› 2ï¼‰ä¹‹åæ¯æ¬¡å¯ä»¥å–çš„çŸ³å­æ•°ä»‹äº1åˆ°å¯¹æ‰‹åˆšå–çš„çŸ³å­æ•°çš„2å€ä¹‹é—´ï¼ˆåŒ…å«1å’Œå¯¹æ‰‹åˆšå–çš„çŸ³å­æ•°çš„2å€ï¼‰ã€‚ â–² æ¸¸æˆè§„åˆ™åŠ¨æ€åŒ– è¿™ä¸ªæ¸¸æˆå«åšFibonacci Nimï¼Œè‚¯å®šå’ŒFibonacciæ•°åˆ—ï¼šf[n]ï¼š1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ8ï¼Œ13ï¼Œ21ï¼Œ34ï¼Œ55ï¼Œ89â€¦æœ‰å¯†åˆ‡çš„å…³ç³»ã€‚å¦‚æœè¯•éªŒä¸€ç•ªä¹‹åï¼Œå¯ä»¥çŒœæµ‹ï¼šå…ˆæ‰‹èƒœå½“ä¸”ä»…å½“nä¸æ˜¯Fibonacciæ•°ã€‚æ¢å¥è¯è¯´ï¼Œå¿…è´¥æ€æ„æˆFibonacciæ•°åˆ—ã€‚ å°±åƒâ€œWythofåšå¼ˆâ€éœ€è¦â€œBeattyå®šç†â€æ¥å¸®å¿™ä¸€æ ·ï¼Œè¿™é‡Œéœ€è¦å€ŸåŠ©**â€œZeckendofå®šç†â€ï¼ˆé½è‚¯å¤šå¤«å®šç†ï¼‰**ï¼šä»»ä½•æ­£æ•´æ•°å¯ä»¥è¡¨ç¤ºä¸ºè‹¥å¹²ä¸ªä¸è¿ç»­çš„Fibonacciæ•°ä¹‹å’Œã€‚å®šç†çš„è¯æ˜å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼Œä¸è¿‡æˆ‘è§‰å¾—æ›´é‡è¦çš„æ˜¯è‡ªå·±åŠ¨æ‰‹åˆ†è§£ä¸€ä¸‹ã€‚ e.g.æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦åˆ†è§£83ï¼Œæ³¨æ„åˆ°83è¢«å¤¹åœ¨55å’Œ89ä¹‹é—´ï¼Œäºæ˜¯æŠŠ83å¯ä»¥å†™æˆ83=55+28ï¼›ç„¶åå†æƒ³åŠæ³•åˆ†è§£28ï¼Œ28è¢«å¤¹åœ¨21å’Œ34ä¹‹é—´ï¼Œäºæ˜¯28=21+7ï¼›ä¾æ­¤ç±»æ¨7=5+2ï¼Œæ•…ï¼› å¦‚æœn=83ï¼Œæˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªåˆ†è§£æœ‰ä»€ä¹ˆæŒ‡å¯¼æ„ä¹‰ï¼šå‡å¦‚å…ˆæ‰‹å–2é¢—ï¼Œé‚£ä¹ˆåæ‰‹æ— æ³•å–5é¢—æˆ–æ›´å¤šï¼Œè€Œ5æ˜¯ä¸€ä¸ªFibonacciæ•°ï¼Œå¦‚æœçŒœæµ‹æ­£ç¡®çš„è¯ï¼Œï¼ˆé¢ä¸´è¿™5é¢—çš„å…ˆæ‰‹å®é™…ä¸Šæ˜¯æ•´ä¸ªæ¸¸æˆçš„åæ‰‹ï¼‰å½’çº³å¾—å¦‚æœéœ€è¦å–èµ°æ–æ³¢é‚£å¥‘æ•°nï¼Œé‚£ä¹ˆåæ‰‹å¿…èƒœï¼Œå³é‚£ä¹ˆä¸€å®šæ˜¯æ¸¸æˆçš„å…ˆæ‰‹ï¼ˆæ­¤æ—¶ä¸ºå–5ä¸ªçš„åæ‰‹ï¼‰å–èµ°è¿™5é¢—çŸ³å­ä¸­çš„æœ€åä¸€é¢—ï¼Œè€Œè¿™ä¸ªæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¬¬äºŒç±»å½’çº³æ³•æ¥ç»•è¿‡ï¼ŒåŒæ ·çš„é“ç†ï¼Œæ¥ä¸‹å»å…ˆæ‰‹å–èµ°æ¥ä¸‹æ¥çš„å21é¢—ä¸­çš„æœ€åä¸€é¢—ï¼Œå†å–èµ°å55é¢—ä¸­çš„æœ€åä¸€é¢—ï¼Œé‚£ä¹ˆå…ˆæ‰‹èµ¢ã€‚éœ€è¦æ³¨æ„åˆ°çš„æ˜¯åˆ†è§£åä¸è¿ç»­çš„è‹¥å¹²ä¸ªæ•°å•ä¸ªçš„ä¸¤å€éƒ½å°äºåˆ†è§£çš„æœ€å¤§æ•°ï¼Œå³2n&lt;m â–²å¦‚æœnæ˜¯æ–æ³¢é‚£å¥‘æ•°ï¼Œåæ‰‹ä¸€å®šèµ¢ï¼Œå¦‚æœä¸æ˜¯ï¼Œå…ˆæ‰‹ä¸€å®šèµ¢ï¼ˆå…ˆæ‰‹èƒœå½“ä¸”ä»…å½“nä¸æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰ã€‚å› ä¸ºå¦‚æœnæ˜¯æ–æ³¢é‚£å¥‘æ•°ï¼Œé‚£ä¹ˆå…ˆæ‰‹å–èµ°æ•°ä¹‹åå‰©ä¸‹çš„ä¸€å®šä¸æ˜¯æ–æ³¢é‚£å¥‘æ•°ï¼Œåæ‰‹å¿…èƒœ ä¾‹é¢˜hdoj 2516 1234567891011121314151617181920#include &lt;bits/stdc++.h&gt;using namespace std;int arr[50];// feiboint main()&#123; int n; arr[0] = 2,arr[1] = 3; for(int i=2;i&lt;=50;i++) arr[i]=arr[i-1]+arr[i-2]; while (cin &gt;&gt; n &amp;&amp; n)&#123; int flag = 1; for(int i=0;i&lt;=50;i++)&#123; if (arr[i]==n) flag=0,cout&lt;&lt;\"Second win\"&lt;&lt;endl; if (arr[i]&gt;n) break; &#125; if (flag) cout &lt;&lt; \"First win\" &lt;&lt;endl; &#125; return 0;&#125; æ€»ç»“ï¼š ä¸éœ€è¦æ·±ç©¶åšå¼ˆè®ºæ•°å­¦åŸç†ï¼Œåªéœ€è¦çŸ¥é“ç»“è®ºï¼Œå°±å¯ä»¥å†™å‡ºä»£ç ã€‚å¦‚ï¼Œ å·´ä»€åšå¼ˆï¼šåˆ¤æ–­mod=n%(m+1)çš„ç»“æœs æ–æ³¢é‚£å¥‘åšå¼ˆï¼šåˆ¤æ–­næ˜¯å¦ä¸ºæ–æ³¢é‚£å¥‘æ•° å¨ä½å¤«åšå¼ˆ æœ‰ä¸¤ç»´å„è‹¥å¹²ä¸ªç‰©å“(ak, bk)ï¼Œä¸¤ä¸ªäººè½®æµä»æŸä¸€å †æˆ–åŒæ—¶ä»ä¸¤å †ä¸­å–åŒæ ·å¤šçš„ç‰©å“ï¼Œè§„å®šæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œå¤šè€…ä¸é™ï¼Œæœ€åå–å…‰è€…å¾—èƒœã€‚ è¿™ç§æƒ…å†µä¸‹æ˜¯é¢‡ä¸ºå¤æ‚çš„ã€‚æˆ‘ä»¬ç”¨ï¼ˆakï¼Œbkï¼‰ï¼ˆak&lt;=bkï¼Œk=0ï¼Œ1ï¼Œ2ï¼Œ.â€¦â€¦nï¼‰è¡¨ç¤ºä¸¤å †ç‰©å“çš„æ•°é‡å¹¶ç§°å…¶ä¸ºå±€åŠ¿ï¼Œå¦‚æœç”²é¢å¯¹ï¼ˆ0ï¼Œ0ï¼‰ï¼Œé‚£ä¹ˆç”²å·²ç»è¾“äº†ï¼Œè¿™ç§å±€åŠ¿æˆ‘ä»¬ç§°ä¸ºå¥‡å¼‚å±€åŠ¿ã€‚å‰å‡ ä¸ªå¥‡å¼‚å±€åŠ¿æ˜¯ï¼šï¼ˆ0ï¼Œ0ï¼‰ã€ï¼ˆ1ï¼Œ2ï¼‰ã€ï¼ˆ3ï¼Œ5ï¼‰ã€ï¼ˆ4ï¼Œ7ï¼‰ã€ï¼ˆ6ï¼Œ10ï¼‰ã€ï¼ˆ8ï¼Œ13ï¼‰ã€ï¼ˆ9ï¼Œ15ï¼‰ã€ï¼ˆ11ï¼Œ18ï¼‰ã€ï¼ˆ12ï¼Œ20ï¼‰ã€‚ å¯ä»¥çœ‹å‡ºï¼Œa0=b0=0ï¼Œakæ˜¯æœªåœ¨å‰é¢å‡ºç°è¿‡çš„æœ€å°è‡ªç„¶æ•°ï¼Œè€Œbk=ak+kï¼Œå¥‡å¼‚å±€åŠ¿æœ‰å¦‚ä¸‹ä¸‰æ¡æ€§è´¨ï¼š 1.ä»»ä½•è‡ªç„¶æ•°éƒ½åŒ…å«åœ¨ä¸€ä¸ªä¸”ä»…æœ‰ä¸€ä¸ªå¥‡å¼‚å±€åŠ¿ä¸­ã€‚ ç”±äºakæ˜¯æœªåœ¨å‰é¢å‡ºç°è¿‡çš„æœ€å°è‡ªç„¶æ•°ï¼Œæ‰€ä»¥æœ‰ak&gt;ak-1ï¼Œè€Œbk=ak+k&gt;ak-1+k-1=bk-1&gt;ak-1ã€‚æ‰€ä»¥æ€§è´¨1ã€‚æˆç«‹ã€‚ 2.ä»»æ„æ“ä½œéƒ½å¯å°†å¥‡å¼‚å±€åŠ¿å˜ä¸ºéå¥‡å¼‚å±€åŠ¿ã€‚ äº‹å®ä¸Šï¼Œè‹¥åªæ”¹å˜å¥‡å¼‚å±€åŠ¿ï¼ˆakï¼Œbkï¼‰çš„æŸä¸€ä¸ªåˆ†é‡ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªåˆ†é‡ä¸å¯èƒ½åœ¨å…¶ä»–å¥‡å¼‚å±€åŠ¿ä¸­ï¼Œæ‰€ä»¥å¿…ç„¶æ˜¯éå¥‡å¼‚å±€åŠ¿ã€‚å¦‚æœä½¿ï¼ˆakï¼Œbkï¼‰çš„ä¸¤ä¸ªåˆ†é‡åŒæ—¶å‡å°‘ï¼Œåˆ™ç”±äºå…¶å·®ä¸å˜ï¼Œä¸”ä¸å¯èƒ½æ˜¯å…¶ä»–å¥‡å¼‚å±€åŠ¿çš„å·®ï¼Œå› æ­¤ä¹Ÿæ˜¯éå¥‡å¼‚å±€åŠ¿ã€‚ 3.é‡‡ç”¨é€‚å½“çš„æ–¹æ³•ï¼Œå¯ä»¥å°†éå¥‡å¼‚å±€åŠ¿å˜ä¸ºå¥‡å¼‚å±€åŠ¿ã€‚ ä»å¦‚ä¸Šæ€§è´¨å¯çŸ¥ï¼Œä¸¤ä¸ªäººå¦‚æœéƒ½é‡‡ç”¨æ­£ç¡®æ“ä½œï¼Œé‚£ä¹ˆé¢å¯¹éå¥‡å¼‚å±€åŠ¿ï¼Œå…ˆæ‹¿è€…å¿…èƒœï¼›åä¹‹ï¼Œé¢å¯¹å¥‡å¼‚å±€åŠ¿ï¼Œåˆ™åæ‹¿è€…å–èƒœã€‚ Bettyå®šç†:â€¦ â–²é‚£ä¹ˆä»»ç»™ä¸€ä¸ªå±€åŠ¿ï¼ˆaï¼Œbï¼‰ï¼Œæ€æ ·åˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯å¥‡å¼‚å±€åŠ¿å‘¢ï¼Ÿæˆ‘ä»¬æœ‰å¦‚ä¸‹å…¬å¼ï¼š ak =[kï¼ˆ1+V5ï¼‰/2]ï¼Œbk=ak+kï¼ˆk=0ï¼Œ1ï¼Œ2ï¼Œ.â€¦â€¦næ–¹æ‹¬å·è¡¨ç¤ºå–æ•´å‡½æ•°ï¼‰å¥‡å¦™çš„æ˜¯å…¶ä¸­å‡ºç°äº†é»„é‡‘åˆ†å‰²æ•°ï¼ˆ1+V5ï¼‰/2=1.618â€¦ï¼Œå› æ­¤ï¼Œç”±akï¼Œbkç»„æˆçš„çŸ©å½¢è¿‘ä¼¼ä¸ºé»„é‡‘çŸ©å½¢ï¼Œç”±äº2/ï¼ˆ1+V5ï¼‰=ï¼ˆV5-1ï¼‰/2ï¼Œå¯ä»¥å…ˆæ±‚å‡ºj=[aï¼ˆV5-1ï¼‰/2]ï¼Œè‹¥a=[ï¼ˆ1+V5ï¼‰/2]ï¼Œé‚£ä¹ˆa=ajï¼Œbj=aj+jï¼Œè‹¥ä¸ç­‰äºï¼Œé‚£ä¹ˆa=aj+1ï¼Œbj+1=aj+1+j+1ï¼Œè‹¥éƒ½ä¸æ˜¯ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯å¥‡å¼‚å±€åŠ¿ã€‚ç„¶åå†æŒ‰ç…§ä¸Šè¿°æ³•åˆ™è¿›è¡Œï¼Œä¸€å®šä¼šé‡åˆ°å¥‡å¼‚å±€åŠ¿ã€‚===&gt; å¦‚æœ(b-a)*(sqrt(5.0)+1)/2 == açš„è¯å°±æ˜¯å¥‡å¼‚å±€åŠ¿ ä¾‹é¢˜poj 1067ï¼Œè£¸é¢˜ 1234567891011121314#include &lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int a, b, c; while(cin &gt;&gt; a &gt;&gt; b)&#123; if (a&gt;b) swap(a,b); int c = floor((b-a)*(sqrt(5.0)+1)/2); if (a==c) cout &lt;&lt; 0 &lt;&lt; endl; else cout &lt;&lt; 1 &lt;&lt; endl; &#125; return 0;&#125; å°¼å§†åšå¼ˆï¼ˆNimï¼‰ æœ‰nå †å„è‹¥å¹²ä¸ªç‰©å“ï¼Œä¸¤ä¸ªäººè½®æµä»æŸä¸€å †å–ä»»æ„å¤šçš„ç‰©å“ï¼Œè§„å®šæ¯æ¬¡è‡³å°‘å–ä¸€ä¸ªï¼Œå¤šè€…ä¸é™ï¼Œæœ€åå–å…‰è€…å¾—èƒœã€‚ ä»¥n=3ä¸ºä¾‹å­ï¼Œè¿™ç§æƒ…å†µæœ€æœ‰æ„æ€ï¼Œå®ƒä¸äºŒè¿›åˆ¶æœ‰å¯†åˆ‡å…³ç³»ï¼Œæˆ‘ä»¬ç”¨ï¼ˆaï¼Œbï¼Œcï¼‰è¡¨ç¤ºæŸç§å±€åŠ¿ï¼Œé¦–å…ˆï¼ˆ0ï¼Œ0ï¼Œ0ï¼‰æ˜¾ç„¶æ˜¯å¥‡å¼‚å±€åŠ¿ï¼Œæ— è®ºè°é¢å¯¹å¥‡å¼‚å±€åŠ¿ï¼Œéƒ½å¿…ç„¶å¤±è´¥ã€‚ç¬¬äºŒç§å¥‡å¼‚å±€åŠ¿æ˜¯ï¼ˆ0ï¼Œnï¼Œnï¼‰ï¼Œåªè¦ä¸å¯¹æ‰‹æ‹¿èµ°ä¸€æ ·å¤šçš„ç‰©å“ï¼Œæœ€åéƒ½å°†å¯¼è‡´ï¼ˆ0ï¼Œ0ï¼Œ0ï¼‰ã€‚ä»”ç»†åˆ†æä¸€ä¸‹ï¼Œï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰ä¹Ÿæ˜¯å¥‡å¼‚å±€åŠ¿ï¼Œæ— è®ºå¯¹æ‰‹å¦‚ä½•æ‹¿ï¼Œæ¥ä¸‹æ¥éƒ½å¯ä»¥å˜ä¸ºï¼ˆ0ï¼Œnï¼Œnï¼‰çš„æƒ…å½¢ã€‚ ç„¶è€Œè¿™å¹¶ä¸æ˜¯åšå¼ˆçš„é‡ç‚¹ï¼Œåšå¼ˆä¹‹ç‹é“ä¹ƒæ˜¯SGå€¼ï¼Œå½“sgå€¼ä¸º0çš„æ—¶å€™ï¼Œå°±æ˜¯è¾“ï¼Œä¸ä¸º0å°±æ˜¯èµ¢ï¼› SGå€¼ï¼šä¸€ä¸ªç‚¹çš„SGå€¼å°±æ˜¯ä¸€ä¸ªä¸ç­‰äºå®ƒçš„åç»§ç‚¹SGå€¼çš„ä¸”å¤§äºç­‰äºé›¶çš„æœ€å°æ•´æ•°ã€‚ ä¸å±äºå®ƒåç»§ç‚¹SGå€¼é›†çš„å€¼ å¤§æ¦‚çš„æ„æ€å°±æ˜¯ï¼šåœ¨æ­¥éª¤å…è®¸çš„æƒ…å†µä¸‹ï¼Œä¸å‰é¢ä¸€ä¸ªå¿…è´¥ç‚¹çš„å·®ï¼ˆä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå·®æ˜¯è§„å®šçš„ã€èƒ½èµ°çš„ã€å…¶ä¸­ä¸€ä¸ªæ­¥æ•°ï¼‰ï¼ åç»§ç‚¹ï¼šä¹Ÿå°±æ˜¯æŒ‰ç…§é¢˜ç›®è¦æ±‚çš„èµ°æ³•ï¼ˆæ¯”å¦‚å–çŸ³å­å¯ä»¥å–çš„æ•°é‡ï¼Œæ–¹æ³•ï¼‰èƒ½å¤Ÿèµ°ä¸€æ­¥è¾¾åˆ°çš„é‚£ä¸ªç‚¹ã€‚ï¼ˆsgå€¼çš„ç†è§£å¾ˆæŠ½è±¡ã€‚éœ€è¦å¤šç”»ç”»ï¼‰ ä¸¾ä¸ªæ —å­ï¼šæ¯”å¦‚ä¸€å †çŸ³å­ï¼Œæˆ‘ä»¬å¯ä»¥å–ä»»æ„ä¸ªï¼Œé‚£ä¹ˆxä¸ªçŸ³å­çš„çŸ³å­çš„sgå€¼æ˜¯å¤šå°‘å‘¢ï¼Ÿå¯ä»¥çŸ¥é“ï¼Œ0ä¸ªçŸ³å­sgä¸º0ï¼Œ1çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥å–ä¸€ä¸ªï¼Œå‰©ä¸‹0ï¼Œ0çš„sgæ˜¯0(SG(0)=0)ï¼Œé‚£ä¹ˆmex(0)å°±æ˜¯1ï¼Œæ‰€ä»¥1çš„sgä¸º1(SG(1)=1)ã€‚å³SG(1) = mex{SG(0)}=mex{0}=1 ä¾‹é¢˜hdoj 1847 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;bits/stdc++.h&gt;using namespace std;int arr[15],sg[1005];int mex(int x)&#123; if(sg[x] != -1) return sg[x]; // è®°å¿†åŒ–æœç´¢,å¦‚æœå­˜åœ¨ç›´æ¥è¿”å› bool vis[1005]; for(int i=0; i&lt;1005;i++) vis[i] = false; for (int i =0;i&lt;=10;i++) &#123; int temp = x - arr[i]; if (temp&lt;0) break; // SGå€¼ä¸ºéè´Ÿæ•´æ•° sg[temp] = mex(temp); // éœ€è¦é€’å½’è°ƒç”¨ï¼Œåˆ†æ²»æ±‚å‡ºå°çš„éƒ¨åˆ†çš„ç»“æœ vis[sg[temp]] = true; &#125; for (int i =0;;i++) if(!vis[i]) &#123; // æ‰¾åˆ°æœ€å°çš„æ•°ï¼Œmex&#123;0,1,2&#125;=3ï¼Œmex&#123;1,2,3&#125;=0ï¼Œmex&#123;0,1,3&#125;=2ï¼› sg[x]=i; break; &#125; return sg[x];&#125;int main()&#123; int n; arr[0] = 1; for (int i = 1; i&lt;=10; i++) arr[i] = arr[i-1]*2; while(cin &gt;&gt; n)&#123; memset(sg,-1,sizeof(sg)); if (mex(n)) cout &lt;&lt; \"Kiki\" &lt;&lt;endl; else cout &lt;&lt; \"Cici\" &lt;&lt; endl; &#125; return 0;&#125; ç»„åˆåšå¼ˆï¼šï¼ˆåšå¼ˆçš„ç²¾åï¼‰ ç»„åˆåšå¼ˆæ— ç–‘æ˜¯å¯¹sgå€¼çš„ç†Ÿç»ƒæ“ä½œä¾‹å¦‚ï¼šæœ‰nå †çŸ³å­ï¼Œæ¯æ¬¡å¯ä»¥ä»ç¬¬1å †çŸ³å­é‡Œå–1é¢—ã€2é¢—æˆ–3é¢—ï¼Œå¯ä»¥ä»ç¬¬2å †çŸ³å­é‡Œå–å¥‡æ•°é¢—ï¼Œå¯ä»¥ä»ç¬¬3å †åŠä»¥åçŸ³å­é‡Œå–ä»»æ„é¢—.â€¦â€¦æˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹ä½œ3ä¸ªå­æ¸¸æˆï¼Œç¬¬1ä¸ªå­æ¸¸æˆåªæœ‰ä¸€å †çŸ³å­ï¼Œæ¯æ¬¡å¯ä»¥å–1ã€2ã€3é¢—ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºxé¢—çŸ³å­çš„å±€é¢çš„SGå€¼æ˜¯Ã—%4ã€‚ç¬¬2ä¸ªå­æ¸¸æˆä¹Ÿæ˜¯åªæœ‰ä¸€å †çŸ³å­ï¼Œæ¯æ¬¡å¯ä»¥å–å¥‡æ•°é¢—ï¼Œç»è¿‡ç®€å•çš„ç”»å›¾å¯ä»¥çŸ¥é“è¿™ä¸ªæ¸¸æˆæœ‰xé¢—çŸ³å­æ—¶çš„SGå€¼æ˜¯Ã—%2ã€‚ç¬¬3ä¸ªæ¸¸æˆæœ‰n-2å †çŸ³å­ï¼Œå°±æ˜¯ä¸€ä¸ªNimæ¸¸æˆã€‚å¯¹äºåŸæ¸¸æˆçš„æ¯ä¸ªå±€é¢ï¼ŒæŠŠä¸‰ä¸ªå­æ¸¸æˆçš„SGå€¼å¼‚æˆ–ä¸€ä¸‹å°±å¾—åˆ°äº†æ•´ä¸ªæ¸¸æˆçš„SGå€¼ï¼Œç„¶åå°±å¯ä»¥æ ¹æ®è¿™ä¸ªSGå€¼åˆ¤æ–­æ˜¯å¦æœ‰å¿…èƒœç­–ç•¥ä»¥åŠåšå‡ºå†³ç­–äº†ã€‚å…¶å®çœ‹ä½œ3ä¸ªå­æ¸¸æˆè¿˜æ˜¯ä¿å®ˆäº†äº›ï¼Œå¹²è„†çœ‹ä½œnä¸ªå­æ¸¸æˆï¼Œå…¶ä¸­ç¬¬1ã€2ä¸ªå­æ¸¸æˆå¦‚ä¸Šæ‰€è¿°ï¼Œç¬¬3ä¸ªåŠä»¥åçš„å­æ¸¸æˆéƒ½æ˜¯â€œ1å †çŸ³å­ï¼Œæ¯æ¬¡å–å‡ é¢—éƒ½å¯ä»¥â€ï¼Œç§°ä¸ºâ€œä»»å–çŸ³å­æ¸¸æˆâ€ï¼Œè¿™ä¸ªè¶…ç®€å•çš„æ¸¸æˆæœ‰xé¢—çŸ³å­çš„SGå€¼æ˜¾ç„¶å°±æ˜¯xã€‚ SWPU-ACMæ¯å‘¨ç®—æ³•è®²å ‚-åšå¼ˆè®ºå…¥é—¨ è®¡ç®—æœºåšå¼ˆå¤§èµ› è’™ç‰¹å¡æ´›æ–¹æ³• ç”±å†¯Â·è¯ºä¾æ›¼ã€ä¹Œæ‹‰å§†ç­‰äººå‘æ˜ï¼Œå› è’™ç‰¹å¡æ´›èµŒåœºè€Œé—»åï¼Œä¸€ç§åŸºäºæ¦‚ç‡çš„æ–¹æ³•çš„ç»Ÿç§°ã€‚ ä¸€ç§è®©äººæ„Ÿè§‰â€œæˆ‘å»ï¼Œè¿™ä¹Ÿè¡Œâ€çš„æ–¹æ³•â€”â€”æ ¹æ®å¤§æ¦‚ç‡é€¼è¿‘çœŸå®ç»“æœçš„æ–¹æ³• æ‹‰æ–¯ç»´åŠ æ–¯ï¼ˆLas Vegasï¼‰æ–¹æ³•â€”â€”æ‰¾è€å©†ï¼ˆå¿…é¡»è¦ç²¾ç¡®æ‰¾åˆ°é‚£ä¸€ä¸ªç­”æ¡ˆï¼Œå…¶ä»–éƒ½ä¸è¡Œã€‚é‡‡æ ·è¶Šå¤šï¼Œè¶Šæœ‰æœºä¼šæ‰¾åˆ°æœ€ä¼˜è§£ï¼‰ æ‰¾1Wäººæ‰èƒ½å‡†ç¡®ç¡®å®š è’™ç‰¹å¡ç½—ï¼ˆMonte Carloï¼‰æ–¹æ³•â€”â€”æ°‘æ„è°ƒæŸ¥ï¼ˆä¸€ç›´åœ¨æ‰¾ï¼Œæ‰¾çš„æ˜¯é€æ¸è´´è¿‘äºæœ€ä¼˜è§£çš„ç»“æœã€‚å½“æ ·è¶Šå¤šï¼Œè¶Šè¿‘ä¼¼æœ€ä¼˜è§£ï¼‰ æ‰¾äº†2Käººå¤§è‡´èƒ½ç¡®å®šäº† ç›¸å…³æ–¹æ³•ï¼š è’™ç‰¹å¡ç½—ç®—æ³•ã€è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿã€è’™ç‰¹å¡ç½—è¿‡ç¨‹ è’™ç‰¹å¡ç½—æœç´¢æ ‘ä¸€â€”AlphaGo å·¥ä½œåŸç†ï¼š ä¸æ–­æŠ½æ ·ï¼ˆä¸­å¿ƒæé™å®šç†ï¼Œn-&gt;âˆï¼‰ é€æ¸é€¼è¿‘ï¼ˆä¾æ¦‚ç‡é€¼è¿‘ï¼‰ è’™ç‰¹å¡æ´›æ ‘æœç´¢ ï¼ˆMCTSï¼ŒMonte Carlo tree searchï¼‰ ä¸€ç§ç”¨äºæŸäº›å†³ç­–è¿‡ç¨‹çš„å¯å‘å¼æœç´¢ç®—æ³•ï¼Œæœ€å¼•äººæ³¨ç›®çš„æ˜¯åœ¨æ¸¸æˆä¸­çš„ä½¿ç”¨ åŒäººæœ‰é™é›¶å’Œé¡ºåºæ¸¸æˆ MCTSè¿è¡Œæ‰€åœ¨çš„æ¡†æ¶/ç¯å¢ƒæ˜¯ä¸€ä¸ªæ¸¸æˆï¼Œå®ƒæœ¬èº«æ˜¯ä¸€ä¸ªéå¸¸æŠ½è±¡å’Œå®½æ³›çš„æ¦‚å¿µï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬åªå…³æ³¨ä¸€ç§æ¸¸æˆç±»å‹ï¼šåŒäººæœ‰é™é›¶å’Œé¡ºåºæ¸¸æˆã€‚è¿™ä¸ªåè¯ä¸€å¼€å§‹å¬èµ·æ¥ä¼šæœ‰äº›å¤æ‚ï¼Œä½†æ˜¯å®é™…ä¸Šéå¸¸ç®€å•ï¼Œç°åœ¨æ¥è®©æˆ‘ä»¬å°†å®ƒåˆ†è§£ä¸€ä¸‹ï¼š æ¸¸æˆï¼šæ„å‘³ç€æˆ‘ä»¬åœ¨ä¸€ç§éœ€è¦äº¤äº’çš„æƒ…å¢ƒä¸­ï¼Œäº¤äº’é€šå¸¸ä¼šæ¶‰åŠä¸€ä¸ªæˆ–å¤šä¸ªè§’è‰² æœ‰é™ï¼šè¡¨æ˜åœ¨ä»»æ„æ—¶é—´ç‚¹ï¼Œè§’è‰²ä¹‹é—´å­˜åœ¨çš„äº¤äº’æ–¹å¼éƒ½æ˜¯æœ‰é™çš„ åŒäººï¼šæ¸¸æˆä¸­åªæœ‰ä¸¤ä¸ªè§’è‰² é¡ºåºï¼šç©å®¶ä¾æ¬¡äº¤æ›¿è¿›è¡Œä»–ä»¬çš„åŠ¨ä½œ é›¶å’Œï¼šå‚ä¸æ¸¸æˆçš„ä¸¤æ–¹æœ‰å®Œå…¨ç›¸åçš„ç›®æ ‡ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ï¼Œæ¸¸æˆçš„ä»»æ„ç»“æŸçŠ¶æ€åŒæ–¹çš„æ”¶ç›Šä¹‹å’Œç­‰äºé›¶ æˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„éªŒè¯ï¼Œå›´æ£‹ã€å›½é™…è±¡æ£‹å’Œäº•å­—æ£‹éƒ½æ˜¯åŒäººæœ‰é™é›¶å’Œé¡ºåºæ¸¸æˆï¼šæœ‰ä¸¤ä½ç©å®¶å‚ä¸ï¼Œç©å®¶èƒ½è¿›è¡Œçš„åŠ¨ä½œæ€»æ˜¯æœ‰é™çš„ï¼ŒåŒæ–¹çš„æ¸¸æˆç›®æ ‡æ˜¯å®Œå…¨ç›¸åçš„ï¼ˆæ‰€æœ‰æ¸¸æˆçš„ç»“æœä¹‹å’Œç­‰äº0ï¼‰ã€‚ å¦‚ä½•è¡¨ç¤ºä¸€ä¸ªæ¸¸æˆ ä»ç¨‹åºå‘˜çš„è§’åº¦æ¥çœ‹ï¼Œå¯ä»¥ç”¨ä¸€ç§å¸¸è§çš„æ•°æ®ç»“æ„ä»¥æ¥è¡¨ç¤ºæ¸¸æˆâ€”â€”æ¸¸æˆæ ‘ã€‚ æ¸¸æˆæ ‘æ˜¯ä¸€ä¸ªæ•°ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹ä»£è¡¨æ¸¸æˆçš„ä¸€ä¸ªç¡®å®šçŠ¶æ€ã€‚ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„ä¸€ä¸ªå­èŠ‚ç‚¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰æ˜¯ä¸€ä¸ªç§»åŠ¨ã€‚èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°ç›®ç§°ä¸ºåˆ†æ”¯å› å­ã€‚æ¸¸æˆæ ‘çš„æ ¹èŠ‚ç‚¹ä»£è¡¨æ¸¸æˆçš„åˆå§‹çŠ¶æ€ã€‚æ¸¸æˆæ ‘çš„ç»ˆç«¯èŠ‚ç‚¹æ˜¯æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œè‡³æ­¤æ¸¸æˆç»“æŸï¼Œæ— æ³•å†è¿›è¡Œç§»åŠ¨ã€‚ç»ˆç«¯èŠ‚ç‚¹çš„çŠ¶æ€ä¹Ÿå°±æ˜¯æ¸¸æˆçš„ç»“æœï¼ˆè¾“/èµ¢/å¹³å±€ï¼‰ã€‚ æ¸¸æˆæ ‘æ˜¯ä¸€ç§é€’å½’çš„æ•°æ®ç»“æ„ï¼Œæ¯æ¬¡é€‰æ‹©å®Œæœ€ä½³çš„ä¸‹ä¸€æ­¥æ—¶ï¼Œä¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè€Œè¿™ä¸ªå­èŠ‚ç‚¹åˆæ˜¯å®ƒå­æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠä¸€å±€æ¸¸æˆè§†ä¸ºâ€œæœ€ä½³ä¸‹ä¸€æ­¥â€çš„ä¸€ä¸ªé—®é¢˜åºåˆ—ï¼Œæ¯ä¸€æ¬¡éƒ½å¯ä»¥ç”±ä¸€ä¸ªä¸åŒæ ¹èŠ‚ç‚¹çš„æ¸¸æˆæ ‘è¡¨ç¤ºã€‚é€šå¸¸åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦è®°ä½åˆ°å½“å‰çŠ¶æ€çš„è·¯å¾„ï¼Œå› ä¸ºè¿™ä¸æ˜¯å½“å‰æ¸¸æˆçŠ¶æ€çš„å…³æ³¨ç‚¹ã€‚","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"}]},{"title":"Linuxä¸‰å‰‘å®¢","slug":"Linuxä¸‰å‰‘å®¢","date":"2019-08-30T13:37:36.000Z","updated":"2021-10-19T08:50:01.739Z","comments":true,"path":"2019/08/30/Linuxä¸‰å‰‘å®¢/","link":"","permalink":"https://nymrli.top/2019/08/30/Linuxä¸‰å‰‘å®¢/","excerpt":"","text":"Linuxä¸‰å‰‘å®¢ bashå‘½ä»¤æ‰§è¡Œé¡ºåº æŠŠå‘½ä»¤è¡Œåˆ†æˆå•ä¸ªå‘½ä»¤è¯ å±•å¼€åˆ«å å±•å¼€å¤§æ‹¬å·çš„å£°æ˜ï¼ˆ{}ï¼‰ å±•å¼€æ³¢æµªç¬¦å£°æ˜ï¼ˆ~ï¼‰ å‘½ä»¤æ›¿æ¢$0å’Œ&quot;) å†æ¬¡æŠŠå‘½ä»¤è¡Œåˆ†æˆå‘½ä»¤è¯ å±•å¼€æ–‡ä»¶é€šé…ï¼ˆ*ã€ï¼Ÿã€[abc]ç­‰ç­‰ï¼‰ å‡†å¤‡I/0é‡å¯¼å‘ï¼ˆ&lt;ã€&gt;ï¼‰ è¿è¡Œå‘½ä»¤ æ–‡ä»¶æŸ¥æ‰¾ éå®æ—¶æœç´¢locate é€Ÿåº¦å¿« æ›´æ–°updatabase å®æ—¶æœç´¢å·¥å…·find æœç´¢é€Ÿåº¦ç•¥æ…¢ ç²¾ç¡®æŸ¥æ‰¾ åªèƒ½æœç´¢ç”¨æˆ·å…·å¤‡è¯»å–å’Œæ‰§è¡Œæƒé™çš„ç›®å½• sed(Stream EDitor): sedåå­—ç¬¦ä½¿ç”¨å•å¼•å· è¯­æ³•ï¼šsed [-hnV][-e&lt;script&gt;][-f&lt;scriptæ–‡ä»¶&gt;][æ–‡æœ¬æ–‡ä»¶] demo: sed -n '22,$p' test æŒ‡ä»¤è§£é‡Š:å¸¸ç”¨é€‰é¡¹[-n]ï¼Œâ€˜åœ°å€å®šç•Œ[22,$],ç¼–è¾‘å‘½ä»¤[p]â€™ åœ°å€å®šç•Œ: ä¸ç»™åœ°å€: å…¨æ–‡å¤„ç† å•åœ°å€ #: æŒ‡å®šè¡Œ $: æœ€åä¸€è¡Œ /pattern: æ­£åˆ™åŒ¹é… åœ°å€èŒƒå›´ #,#,å¦‚1,20å³1-20è¡Œ e.g.sed -n '22,$p' test #,+#,å¦‚2,+20å³2-2+20 è¡Œ #;#å¦‚3;5å³ç¬¬3å’Œç¬¬5è¡Œ /pat1/,/pat2/ #,/pat1/ æ­¥è¿›~ 1~2 å¥‡æ•°è¡Œ sed -n &quot;1~2p&quot; f1 2~2 å¶æ•°è¡Œ æ­£åˆ™ sed â€˜/regex expression/[option] textâ€™ filename ^åŒ¹é…æ¯ä¸€è¡Œçš„å¼€å¤´ $åŒ¹é…è¡Œçš„ç»“å°¾ åŒ¹é…åŒ…å«2ã€3ã€æˆ–è€…4çš„è¡Œ sed -n '/[234]/p' employee.txt åˆ é™¤æ‰€æœ‰ä»¥#å¼€å¤´çš„è¡Œ **sed -e 's/^#./*// ; /^$/d' employee.txt** åˆ é™¤æ‰€æœ‰æ³¨é‡Šå’Œç©ºè¡Œ sed -e 's/#.*//;/^$/ d' /etc/profile åªåˆ é™¤æ³¨é‡Šè¡Œä¸åˆ é™¤ç©ºè¡Œ sed '/^#.*/d' /etc/profile å¸¸ç”¨é€‰é¡¹ -nä¸è‡ªåŠ¨æ‰“å° -f æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ç¼–è¾‘è„šæœ¬ script.txt 12~2p sed -n -f script.txt f1 -ræ”¯æŒä½¿ç”¨æ‹“å±•æ­£åˆ™è¡¨è¾¾å¼ sed -r 's/(GRUB_CMDLINE_LINUX.*)&quot;$//1 xyz&quot;/'/etc/default/grub echo&quot;/etc/sysconfig/network/&quot; | sed -r 's/(.*//)([^/]//?$)//1/' -i.bakç”Ÿæˆå¤‡ä»½æ–‡ä»¶bakå¹¶åŸå¤„ç¼–è¾‘ å¦‚æœæ²¡æœ‰-iè¡¨ç¤ºåªæ˜¯é¢„è§ˆ,ä¸ä¼šçœŸæ­£æ‰§è¡Œ -eå¤šç‚¹ç¼–è¾‘,å³å¤šæ¬¡å¤„ç†æ–‡ä»¶ -e &lt;script&gt;æˆ–--expression=&lt;script&gt; ä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚ -Eæ˜¯ä¸BSD sedå…¼å®¹çš„æœªè®°å½•çš„é€‰é¡¹ï¼Œåœ¨BSDä¸­sedç”¨äºæ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ ç¼–è¾‘åŠ¨ä½œå‘½ä»¤ dåˆ é™¤æœ«ä¸–ç©ºé—´åŒ¹é…çš„è¡Œ,å¹¶å¯ç”¨ä¸‹ä¸€è½®å¾ªç¯ sed -n 'd' testå…¨åˆ  sed -n '1d' teståªåˆ ç¬¬ä¸€è¡Œ pæ‰“å°å½“å‰æ¨¡å¼ç©ºé—´å†…å®¹,è¿½åŠ åˆ°é»˜è®¤è¾“å‡ºå a[/]test æŒ‡å®šè¡Œè¿½åŠ  i[/]test è¡Œå‰æ’å…¥ c[/]test æ›¿æ¢è¡Œä¸ºå•è¡Œæˆ–å¤šè¡Œ = ä¸ºæ¨¡å¼ç©ºé—´ä¸­çš„è¡Œæ‰“å°è¡Œå· sed -n â€˜3,5{=;p}â€™ test ! æ¨¡å¼ç©ºé—´ä¸­åŒ¹é…è¡Œå–å w/path/somefileï¼šä¿å­˜æ¨¡å¼åŒ¹é…çš„è¡Œè‡³æŒ‡å®šæ–‡ä»¶ r/path/somefileï¼šè¯»å–æŒ‡å®šæ–‡ä»¶çš„æ–‡æœ¬è‡³æ¨¡å¼ç©ºé—´ä¸­åŒ¹é…åˆ°çš„è¡Œå sed'/User/r sed.txt' .bashrc æœç´¢ä»£æ›¿ 123sed &apos;s/xxx/xxx/&apos; filename# sed &apos;s@xxx@xxx&apos; filename# sed &apos;s#xxx#xxx&apos; filename æ›¿æ¢æ ‡è®°ï¼š gï¼šè¡Œå†…å…¨å±€æ›¿æ¢ pï¼šæ˜¾ç¤ºæ›¿æ¢æˆåŠŸçš„è¡Œ W/PATH/TO/SOMEFILEï¼šå°†æ›¿æ¢æˆåŠŸçš„è¡Œä¿å­˜è‡³æ–‡ä»¶ä¸­ ä»¥ä¸‹å‘½ä»¤å¦‚æœéœ€è¦åœ¨æ–‡æœ¬ä¸­æ›´æ”¹ éœ€è¦åŠ  -i æˆ–è€… -riå‚æ•° ç”¨sedåœ¨aaaå‰åŠ #æ³¨é‡Š 1sed 's/^aaa/#&amp;/' zimu.txt # &amp;çš„æ„æ€æ˜¯åŒ¹é…ä»»æ„å­—ç¬¦ï¼ˆå°±æ˜¯è¯´æœªçŸ¥æ•°ï¼Œå•¥éƒ½è¡Œï¼‰ è¿™æ¡å‘½ä»¤æ˜¯ æ›¿æ¢ä»¥aaaå¼€å¤´çš„ ç”¨sedå–æ¶ˆbbbå‰é¢çš„æ³¨é‡Š 12sed 's/^#(bbb)//1/' zimu.txt #/1çš„æ„æ€ å°±ç±»ä¼¼äº å‰é¢çš„ (bbb/ï¼‰ /1å°±æ˜¯å¤åˆ¶è¿™ä¸ªä½ç½®çš„å†…å®¹ å¦‚æœæœ‰ ç¬¬äºŒä¸ª é‚£ä¹ˆä¹…/2å°±æ˜¯å¤åˆ¶ç¬¬äºŒä¸ªä½ç½®çš„å†…å®¹sed 's/^#bbb/bbb/' zimu.txt é™„å½•ï¼š &lt;&lt;&lt;: sed 's/g/dddd/' &lt;&lt;&lt; &quot;ghhhg&quot;-&gt;ddddhhhg var=hello, sed 's/e/dddd/' &lt;&lt;&lt; &quot;$var&quot; -&gt; hddddllo awk ä¼˜è‰¯çš„æ–‡æœ¬å¤„ç†å·¥å…·ï¼ŒLinuxåŠUnixç¯å¢ƒä¸­ç°æœ‰çš„åŠŸèƒ½æœ€å¼ºå¤§çš„æ•°æ®å¤„ç†å¼•æ“ä¹‹ä¸€ ifconfigè·å¾—ip_addrçš„å‘½ä»¤ 1.ifconfig | grep inet | awk '{print $2}' | awk -F 'addr:' '{print $2}' 2.ifconfig | grep addr:192.168.* | awk '{print$2}' | awk '{split($0,a,/&quot;:/&quot;);print(a[2])}' â–².å°½é‡ä½¿ç”¨å•å¼•å·'',è€Œä¸æ˜¯&quot;&quot; -Fåˆ†éš”ç¬¦ e.g.echo &quot;A|B|C|D&quot; | awk -F &quot;|&quot; '{print($1)}' NFåˆ—çš„ä¸ªæ•° awk -F: '$3&lt;10{print $1 &lt;====&gt; $NF}' /etc/passwd {}ä¸­çš„å†…å®¹ä¸ºè¦è¦æ‰§è¡Œçš„å†…å®¹ NRå½“å‰è¡Œå· linuxå•åŒå¼•å·åŒºåˆ« åŒå¼•å·ï¼šæŠŠåŒå¼•å·çš„å†…å®¹è¾“å‡ºå‡ºæ¥ï¼›å¦‚æœå†…å®¹ä¸­æœ‰å‘½ä»¤ï¼Œå˜é‡ç­‰ï¼Œä¼šå…ˆæŠŠå‘½ä»¤ï¼Œå˜é‡è§£æå‡ºç»“æœï¼Œç„¶åå†è¾“å‡ºæœ€ç»ˆå†…å®¹æ¥ã€‚åŒå¼•å·å†…å‘½ä»¤æˆ–å˜é‡çš„å†™æ³•ä¸ºå‘½ä»¤æˆ–å˜é‡æˆ–$ï¼ˆå‘½ä»¤æˆ–å˜é‡ï¼‰ å•å¼•å·ï¼šæ‰€è§å³æ‰€å¾—ï¼Œå°†å•å¼•å·å†…çš„å†…å®¹åŸæ ·è¾“å‡ºï¼Œé˜»æ­¢æ‰€æœ‰å­—ç¬¦çš„è½¬ä¹‰ ä¸åŠ å¼•å·ï¼šä¸ä¼šå°†å«æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²è§†ä¸ºä¸€ä¸ªæ•´ä½“è¾“å‡ºï¼Œå¦‚æœå†…å®¹ä¸­æœ‰å‘½ä»¤ï¼Œå˜é‡ç­‰ï¼Œä¼šå…ˆæŠŠå‘½ä»¤ï¼Œå˜é‡è§£æå‡ºç»“æœï¼Œç„¶åå†è¾“å‡ºæœ€ç»ˆå†…å®¹æ¥ï¼Œå¦‚æœå­—ç¬¦ä¸²å«æœ‰ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ™ä¸èƒ½å®Œæ•´è¾“å‡ºï¼Œåˆ™éœ€æ”¹åŠ åŒå¼•å·ã€‚ å€’å¼•å·ï¼ˆåå¼•å·Escé”®ä¸‹æ–¹ï¼‰ï¼šè¿›è¡Œå‘½ä»¤çš„æ›¿æ¢ï¼Œåœ¨å€’å¼•å·å†…éƒ¨çš„shellå‘½ä»¤å°†ä¼šè¢«æ‰§è¡Œï¼Œå…¶ç»“æœè¾“å‡ºä»£æ›¿ç”¨å€’å¼•å·æ‹¬èµ·æ¥çš„æ–‡æœ¬ã€‚ echo &quot;1111/n222&quot;ä¸ä¼šè½¬ç§»/n echo -e &quot;11111/n222&quot;ä¼šè½¬ä¹‰/n xargs -n1æ¯è¡Œ1ä¸ªå…ƒç´ ;xargs -n2 æ¯è¡Œ2ä¸ªå…ƒç´ ; grep(Globally search a Regular Expression and Print) ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨ç‰¹å®šæ¨¡å¼åŒ¹é…ï¼ˆåŒ…æ‹¬æ­£åˆ™è¡¨è¾¾å¼ï¼‰æœç´¢æ–‡æœ¬ï¼Œå¹¶é»˜è®¤è¾“å‡ºåŒ¹é…è¡Œ å¸¸è§å‘½ä»¤ps -aux | grep xxxx é€‰é¡¹ä¸å‚æ•°ï¼š -a ï¼šå°† binary æ–‡ä»¶ä»¥ text æ–‡ä»¶çš„æ–¹å¼æœå¯»æ•°æ® -c ï¼šè®¡ç®—æ‰¾åˆ° â€˜æœå¯»å­—ç¬¦ä¸²â€™ çš„æ¬¡æ•° -i ï¼šå¿½ç•¥å¤§å°å†™çš„ä¸åŒï¼Œæ‰€ä»¥å¤§å°å†™è§†ä¸ºç›¸åŒ -n ï¼šé¡ºä¾¿è¾“å‡ºè¡Œå· -v ï¼šåå‘é€‰æ‹©ï¼Œäº¦å³æ˜¾ç¤ºå‡ºæ²¡æœ‰ â€˜æœå¯»å­—ç¬¦ä¸²â€™ å†…å®¹çš„é‚£ä¸€è¡Œï¼ -x --line-regexp : åªæ˜¾ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ—ã€‚","categories":[],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://nymrli.top/tags/è¿ç»´/"},{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"2019_6æœˆç¼–ç¨‹ç¬”è®°","slug":"2019-6æœˆç¼–ç¨‹ç¬”è®°","date":"2019-08-30T13:26:03.000Z","updated":"2019-11-26T07:42:09.614Z","comments":true,"path":"2019/08/30/2019-6æœˆç¼–ç¨‹ç¬”è®°/","link":"","permalink":"https://nymrli.top/2019/08/30/2019-6æœˆç¼–ç¨‹ç¬”è®°/","excerpt":"","text":"2019_6æœˆç¼–ç¨‹ç¬”è®° æ³¨ï¼Œä¸å°‘å†…å®¹æ¯”è¾ƒå¤šï¼Œå·²å•ç‹¬åˆ†å‡ºå»æˆä¸ºç‹¬ç«‹çš„æ–‡ç« ï¼Œæ›´è¯¦ç»†çš„ä»‹ç»å¯è§è¿™äº›æ–‡ç«  ç¡¬ç›˜æ ¼å¼ fat32 å•æ–‡ä»¶4Gï¼Œ åšå¼•å¯¼åˆ†åŒº ç³»ç»Ÿå¼•å¯¼ç¨‹åºèƒ½è¯»fat32 åªèƒ½ä¸»å¼•å¯¼è®°å½•ï¼Œé€‰æ‹©èƒ½æ‰¾åˆ°efiç¨‹åº exfat æ”¯æŒæ›´å¤§ç©ºé—´ï¼Œå¼•å¯¼è¯†åˆ«ä¸äº†ï¼Œåšä¸äº†ç³»ç»Ÿç›˜ Python all __all__æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²listï¼› çº¦æŸä½œç”¨ï¼šç”¨æ¥å®šä¹‰æ¨¡å—ä¸­å¯¹äºfrom XXX import *æ—¶è¦å¯¹å¤–å¯¼å‡ºçš„ç¬¦å·ï¼Œå³è¦æš´éœ²çš„å€Ÿå£ï¼Œä½†å®ƒåªå¯¹import *èµ·ä½œç”¨ï¼Œå¯¹from XXX import XXXä¸èµ·ä½œç”¨ã€‚ from njupt.zhengfang import Zhengfangæ˜¯åœ¨__init__.pyé‡Œç”¨allæ ‡å‡ºååœ¨è¯¥ç›®å½•ä¸‹çš„å…¶ä»–æ¨¡å—èƒ½ç›´æ¥é€šè¿‡from njupt import Zhengfangæ¥è°ƒç”¨ã€‚ä¿®æ”¹äº†å¯¼å…¥çš„æ–¹å¼ eval å’Œ exec 1.execèƒ½æ‰§è¡Œå¤šæ®µPythonä»£ç ï¼Œevalåªèƒ½æ‰§è¡Œå½“è¡Œ 123456exec(\"\"\"print('hello')print('world')\"\"\")eval(\"print('hello')\") 2.è€ŒPythonä¸­çš„evalå‡½æ•°å¯ä»¥è®¡ç®—Pythonè¡¨è¾¾å¼ï¼Œå¹¶è¿”å›ç»“æœï¼›ï¼ˆexecä¸è¿”å›ç»“æœï¼Œprint(eval(&quot;â€¦&quot;))æ‰“å°Noneï¼‰ï¼› os.environ 12345678910111213# ä½¿ç”¨os.environæ¥è¯»å–å’Œä¿®æ”¹ç¯å¢ƒå˜é‡ï¼šimport osprint (os.environ[\"TEMP\"])mydir = \"c://mydir\"os.environ[\"MYDIR\"] = mydirprint (os.environ[\"MYDIR\"])pathV = os.environ[\"PATH\"]print (pathV)os.environ[\"PATH\"]= mydir + \";\" + os.environ[\"PATH\"]print (os.environ[\"PATH\"]) sys.pathçš„insertå’Œappend pythonç¨‹åºä¸­ä½¿ç”¨ import XXX æ—¶ï¼Œpythonè§£æå™¨ä¼šåœ¨å½“å‰ç›®å½•ã€å·²å®‰è£…å’Œç¬¬ä¸‰æ–¹æ¨¡å—ä¸­æœç´¢ xxxï¼Œå¦‚æœéƒ½æœç´¢ä¸åˆ°å°±ä¼šæŠ¥é”™ã€‚ ä½¿ç”¨sys.path.append()æ–¹æ³•å¯ä»¥ä¸´æ—¶æ·»åŠ æœç´¢è·¯å¾„ï¼Œæ–¹ä¾¿æ›´ç®€æ´çš„importå…¶ä»–åŒ…å’Œæ¨¡å—ã€‚è¿™ç§æ–¹æ³•å¯¼å…¥çš„è·¯å¾„ä¼šåœ¨pythonç¨‹åºé€€å‡ºåå¤±æ•ˆã€‚ 1.å¯¹äºæ¨¡å—å’Œè‡ªå·±å†™çš„è„šæœ¬ä¸åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œåœ¨è„šæœ¬å¼€å¤´åŠ  12import sys sys.path.append(â€™å¼•ç”¨æ¨¡å—çš„åœ°å€') 2.æŠŠè·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼Œæˆ–æŠŠè¯¥è·¯å¾„çš„æ–‡ä»¶å¤¹æ”¾è¿›å·²ç»æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡çš„è·¯å¾„å†…ã€‚ç¯å¢ƒå˜é‡çš„å†…å®¹ä¼šè‡ªåŠ¨æ·»åŠ åˆ°æ¨¡å—æœç´¢è·¯å¾„ä¸­ã€‚ insertï¼šå®šä¹‰æœç´¢ä¼˜å…ˆé¡ºåº 12import syssys.path.insert(1, \"./model\") sys.path.insert(1, &quot;./crnn&quot;)å®šä¹‰æœç´¢è·¯å¾„çš„ä¼˜å…ˆé¡ºåºï¼Œåºå·ä»0å¼€å§‹ï¼Œè¡¨ç¤ºæœ€å¤§ä¼˜å…ˆçº§ï¼Œsys.path.insert()åŠ å…¥çš„ä¹Ÿæ˜¯ä¸´æ—¶æœç´¢è·¯å¾„ï¼Œç¨‹åºé€€å‡ºåå¤±æ•ˆã€‚ sphinxä½¿ç”¨ pip install sphinx 1.æ–°å»ºdocsæ–‡ä»¶å¤¹ 2.sphinx-quickstart 3.é…ç½® æ•™ç¨‹è¯´æ˜ï¼š 12345678910111213141516171819202122&gt; Root path for the documentation [.]: doc # åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºdocæ–‡ä»¶å¤¹å­˜æ”¾sphinxç›¸å…³ä¿¡æ¯&gt; Separate source and build directories (y/n) [n]: # é»˜è®¤ï¼Œç›´æ¥å›è½¦&gt; Name prefix for templates and static dir [_]:&gt; Project name: python123 # è¾“å…¥é¡¹ç›®åç§°&gt; Author name(s): 123 # ä½œè€…&gt; Project version: 1.0 # é¡¹ç›®ç‰ˆæœ¬&gt; Project release [1.0]:&gt; Project language [en]: # é»˜è®¤ï¼Œå›è½¦&gt; Source file suffix [.rst]:&gt; Name of your master document (without suffix) [index]:&gt; Do you want to use the epub builder (y/n) [n]:&gt; autodoc: automatically insert docstrings from modules (y/n) [n]: y # è¿™ä¸ªå¾ˆé‡è¦ï¼Œè¾“å…¥y&gt; doctest: automatically test code snippets in doctest blocks (y/n) [n]:&gt; intersphinx: link between Sphinx documentation of different projects (y/n) [n]:&gt; todo: write \"todo\" entries that can be shown or hidden on build (y/n) [n]:&gt; coverage: checks for documentation coverage (y/n) [n]:&gt; pngmath: include math, rendered as PNG images (y/n) [n]:&gt; mathjax: include math, rendered in the browser by MathJax (y/n) [n]:&gt; ifconfig: conditional inclusion of content based on config values (y/n) [n]:&gt; viewcode: include links to the source code of documented Python objects (y/n) [n]: y # å¾ˆé‡è¦ï¼Œè¾“å…¥yï¼Œè¡¨ç¤ºå°†æºç ä¹Ÿæ”¾åˆ°æ–‡æ¡£ä¸­ï¼Œä½ çœ‹å¾ˆå¤špythonçš„æ¨¡å—çš„æ–‡æ¡£ï¼Œå…¶å®éƒ½æ˜¯åŒ…å«ä»£ç çš„ã€‚&gt; Create Makefile? (y/n) [y]:&gt; Create Windows command file? (y/n) [y]: windowså®æµ‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738(Python_web) E:/Python_web/Code/Quan&gt;sphinx-quickstartWelcome to the Sphinx 2.1.0 quickstart utility.Please enter values for the following settings (just press Enter toaccept a default value, if one is given in brackets).Selected root path: .You have two options for placing the build directory for Sphinx output.Either, you use a directory \"_build\" within the root path, or you separate\"source\" and \"build\" directories within the root path.&gt; Separate source and build directories (y/n) [n]: nThe project name will occur in several places in the built documentation.&gt; Project name: TaobaoQuan&gt; Author name(s): Mrli&gt; Project release []: 1.0If the documents are to be written in a language other than English,you can select a language here by its language code. Sphinx will thentranslate text that it generates into that language.For a list of supported codes, seehttp://sphinx-doc.org/config.html#confval-language.&gt; Project language [en]: enCreating file ./conf.py.Creating file ./index.rst.Creating file ./Makefile.Creating file ./make.bat.Finished: An initial directory structure has been created.You should now populate your master file ./index.rst and create other documentationsource files. Use the Makefile to build the docs, like so: make builderwhere \"builder\" is one of the supported builders, e.g. html, latex or linkcheck. ç¼–å†™å¥½ç›®å½•ä¸‹çš„æ‰€æœ‰.rstï¼ˆé»˜è®¤ç”Ÿæˆäº†æ¨¡æ¿index.rstï¼‰æ–‡ä»¶å./make.bat htmlå¯ä»¥ç”Ÿæˆç½‘é¡µç›®å½• conf.pyé»˜è®¤æ¨¡æ¿ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455# Configuration file for the Sphinx documentation builder.## This file only contains a selection of the most common options. For a full# list see the documentation:# http://www.sphinx-doc.org/en/master/config# -- Path setup --------------------------------------------------------------# If extensions (or modules to document with autodoc) are in another directory,# add these directories to sys.path here. If the directory is relative to the# documentation root, use os.path.abspath to make it absolute, like shown here.## import os# import sys# sys.path.insert(0, os.path.abspath('.'))# -- Project information -----------------------------------------------------project = 'TaobaoQuan'copyright = '2019, Mrli'author = 'Mrli'# The full version, including alpha/beta/rc tagsrelease = '1.0'# -- General configuration ---------------------------------------------------# Add any Sphinx extension module names here, as strings. They can be# extensions coming with Sphinx (named 'sphinx.ext.*') or your custom# ones.extensions = []# Add any paths that contain templates here, relative to this directory.templates_path = ['_templates']# List of patterns, relative to source directory, that match files and# directories to ignore when looking for source files.# This pattern also affects html_static_path and html_extra_path.exclude_patterns = ['_build', 'Thumbs.db', '.DS_Store']# -- Options for HTML output -------------------------------------------------# The theme to use for HTML and HTML Help pages. See the documentation for# a list of builtin themes.#html_theme = 'alabaster'# Add any paths that contain custom static files (such as style sheets) here,# relative to this directory. They are copied after the builtin static files,# so a file named \"default.css\" will overwrite the builtin \"default.css\".html_static_path = ['_static'] Gaoliangæ¨¡æ¿ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161# -*- coding: utf-8 -*-## Configuration file for the Sphinx documentation builder.## This file does only contain a selection of the most common options. For a# full list see the documentation:# http://www.sphinx-doc.org/en/master/config# -- Path setup --------------------------------------------------------------# If extensions (or modules to document with autodoc) are in another directory,# add these directories to sys.path here. If the directory is relative to the# documentation root, use os.path.abspath to make it absolute, like shown here.#import osimport sys# sys.path.insert(0, os.path.abspath('.'))# Insert NJUPT-API' path into the system.sys.path.insert(0, os.path.abspath('..'))# -- Project information -----------------------------------------------------project = '...'copyright = '...'author = '...'# The short X.Y versionversion = ''# The full version, including alpha/beta/rc tagsrelease = ''# -- General configuration ---------------------------------------------------# If your documentation needs a minimal Sphinx version, state it here.## needs_sphinx = '1.0'# Add any Sphinx extension module names here, as strings. They can be# extensions coming with Sphinx (named 'sphinx.ext.*') or your custom# ones.extensions = [ 'sphinx.ext.autodoc',]html_logo = \"_static/logo_tiny.png\"# Add any paths that contain templates here, relative to this directory.templates_path = ['_templates']# The suffix(es) of source filenames.# You can specify multiple suffix as a list of string:## source_suffix = ['.rst', '.md']source_suffix = '.rst'# The master toctree document.master_doc = 'index'# The language for content autogenerated by Sphinx. Refer to documentation# for a list of supported languages.## This is also used if you do content translation via gettext catalogs.# Usually you set \"language\" from the command line for these cases.language = 'zh_CN'# List of patterns, relative to source directory, that match files and# directories to ignore when looking for source files.# This pattern also affects html_static_path and html_extra_path .exclude_patterns = ['_build', 'Thumbs.db', '.DS_Store']# The name of the Pygments (syntax highlighting) style to use.pygments_style = 'sphinx'# -- Options for HTML output -------------------------------------------------# The theme to use for HTML and HTML Help pages. See the documentation for# a list of builtin themes.## html_theme = 'sphinx_rtd_theme'# html_theme = 'alabaster'# html_theme = 'flask'# Theme options are theme-specific and customize the look and feel of a theme# further. For a list of options available for each theme, see the# documentation.#html_theme_options = &#123; # 'show_powered_by': False,&#125;# Add any paths that contain custom static files (such as style sheets) here,# relative to this directory. They are copied after the builtin static files,# so a file named \"default.css\" will overwrite the builtin \"default.css\".html_static_path = ['_static']# Custom sidebar templates, must be a dictionary that maps document names# to template names.## The default sidebars (for documents that don't match any pattern) are# defined by theme itself. Builtin themes are using these templates by# default: ``['localtoc.html', 'relations.html', 'sourcelink.html',# 'searchbox.html']``.#html_show_sourcelink = False# -- Options for HTMLHelp output ---------------------------------------------# Output file base name for HTML help builder.htmlhelp_basename = 'NJUPT-APIdoc'# -- Options for LaTeX output ------------------------------------------------latex_elements = &#123; # The paper size ('letterpaper' or 'a4paper'). # # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # # 'preamble': '', # Latex figure (float) alignment # # 'figure_align': 'htbp',&#125;# Grouping the document tree into LaTeX files. List of tuples# (source start file, target name, title,# author, documentclass [howto, manual, or own class]).latex_documents = [ (master_doc, 'NJUPT-API.tex', 'NJUPT-API Documentation', 'gaoliang', 'manual'),]# -- Options for manual page output ------------------------------------------# One entry per manual page. List of tuples# (source start file, name, description, authors, manual section).man_pages = [ (master_doc, 'njupt-api', 'NJUPT-API Documentation', [author], 1)]# -- Options for Texinfo output ----------------------------------------------# Grouping the document tree into Texinfo files. List of tuples# (source start file, target name, title, author,# dir menu entry, description, category)texinfo_documents = [ (master_doc, 'NJUPT-API', 'NJUPT-API Documentation', author, 'NJUPT-API', 'One line description of project.', 'Miscellaneous'),]# -- Extension configuration ------------------------------------------------- pythonä»£ç docstringç”Ÿæˆæ–‡æ¡£ä¹‹sphinx Python éªŒè¯ç è¯†åˆ« é€šè¿‡pytesseracthttps://blog.csdn.net/weixin_42812527/article/details/81264189 windows10å®‰è£…ä½¿ç”¨pytesseractå‘ï¼šhttps://blog.csdn.net/weixin_42812527/article/details/81908674 123456789101112131415161718192021222324# coding=utf-8import requestsimport pytesseractfrom PIL import Imagefrom io import BytesIOcaptcha_url = 'http://182.92.169.64:8088/808gps/rand.action'captcha_content = requests.get(url=captcha_url)# è·å¾—å›¾ç‰‡çš„äºŒè¿›åˆ¶å†…å®¹captcha_content = captcha_content.content# ç”¨BytesIOè¯»å–å›¾ç‰‡image = Image.open(BytesIO(captcha_content))# è½¬åŒ–ä¸ºç°åº¦å›¾imgry = image.convert('L')# äºŒå€¼åŒ–å¤„ç†table = [0 if i &lt; 140 else 1 for i in range(256)]# ä½¿å­—ä½“æ›´åŠ çªå‡ºçš„æ˜¾ç¤ºout = imgry.point(table,'1')# out.show()captcha = pytesseract.image_to_string(out)captcha = captcha.strip()captcha = captcha.upper()print (captcha) Pythonå¼‚å¸¸ Pythonæ‰€æœ‰çš„é”™è¯¯éƒ½æ˜¯ä»BaseExceptionç±»æ´¾ç”Ÿçš„ï¼Œå¸¸è§çš„é”™è¯¯ç±»å‹å’Œç»§æ‰¿å…³ç³» 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950BaseException +-- SystemExit +-- KeyboardInterrupt +-- GeneratorExit +-- Exception +-- StopIteration +-- StandardError | +-- BufferError | +-- ArithmeticError | | +-- FloatingPointError | | +-- OverflowError | | +-- ZeroDivisionError | +-- AssertionError | +-- AttributeError | +-- EnvironmentError | | +-- IOError | | +-- OSError | | +-- WindowsError (Windows) | | +-- VMSError (VMS) | +-- EOFError | +-- ImportError | +-- LookupError | | +-- IndexError | | +-- KeyError | +-- MemoryError | +-- NameError | | +-- UnboundLocalError | +-- ReferenceError | +-- RuntimeError | | +-- NotImplementedError | +-- SyntaxError | | +-- IndentationError | | +-- TabError | +-- SystemError | +-- TypeError | +-- ValueError | +-- UnicodeError | +-- UnicodeDecodeError | +-- UnicodeEncodeError | +-- UnicodeTranslateError +-- Warning +-- DeprecationWarning +-- PendingDeprecationWarning +-- RuntimeWarning +-- SyntaxWarning +-- UserWarning +-- FutureWarning +-- ImportWarning +-- UnicodeWarning +-- BytesWarning javaå¼‚å¸¸ ç»§æ‰¿ã€Super super() å‡½æ•°æ˜¯ç”¨äºè°ƒç”¨çˆ¶ç±»(è¶…ç±»)çš„ä¸€ä¸ªæ–¹æ³•ï¼Œåªæœ‰åœ¨æ–°å¼ç±»ä¸­å¯ä»¥ä½¿ç”¨ super æ˜¯ç”¨æ¥è§£å†³å¤šé‡ç»§æ‰¿é—®é¢˜çš„ï¼Œç›´æ¥ç”¨ç±»åè°ƒç”¨çˆ¶ç±»æ–¹æ³•åœ¨ä½¿ç”¨å•ç»§æ‰¿çš„æ—¶å€™æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨å¤šç»§æ‰¿ï¼Œä¼šæ¶‰åŠåˆ°æŸ¥æ‰¾é¡ºåºï¼ˆMROï¼ŒMethod Resolution Orderï¼Œé‡‡ç”¨å¹¿åº¦ä¼˜å…ˆï¼ˆåŒºåˆ«äºæ·±åº¦ä¼˜å…ˆï¼‰çš„è§„åˆ™å®šä¹‰ï¼‰ã€é‡å¤è°ƒç”¨ï¼ˆé’»çŸ³ç»§æ‰¿ï¼‰ç­‰ç§ç§é—®é¢˜ã€‚ MRO å°±æ˜¯ç±»çš„æ–¹æ³•è§£æé¡ºåºè¡¨, å…¶å®ä¹Ÿå°±æ˜¯ç»§æ‰¿çˆ¶ç±»æ–¹æ³•æ—¶çš„é¡ºåºè¡¨ã€‚ è¯­æ³• ä»¥ä¸‹æ˜¯ super() æ–¹æ³•çš„è¯­æ³•: 1234# èœé¸Ÿæ•™ç¨‹super(type [, object-or-type])# ä¸ªäººç†è§£super( ThisClass [, object(self)]) å‚æ•° type â€“ ç±»ï¼ˆtypeï¼‰ï¼Œé€šå¸¸æ˜¯å½“å‰å­ç±»ã€‚ object-or-type â€“ ç±»å®ä¾‹ï¼Œä¸€èˆ¬æ˜¯ self å«ä¹‰ ç”¨selfè¿™ä¸ªå®ä¾‹å¯¹è±¡å»æŸ¥æ‰¾ThisClassç±»çš„çˆ¶ç±»æ‹¥æœ‰çš„å±æ€§ï¼ˆæˆå‘˜æ–¹æ³•ã€æ•°æ®æˆå‘˜ï¼‰ â–². Python3.x å’Œ Python2.x çš„ä¸€ä¸ªåŒºåˆ«æ˜¯: Python 3 å¯ä»¥ä½¿ç”¨ç›´æ¥ä½¿ç”¨ super().xxx ä»£æ›¿ super(Class, self).xxx : å³å¹³æ—¶å†™çš„ 1234567class TestClass(object): def __init__(self, *arg, **kwarg): super(TestClass, self).__init__() # æ­¤æ—¶inité‡Œä¸ç”¨self # ç­‰ä»·äº super().__init__() , å«ä¹‰æ˜¯ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°åˆå§‹åŒ–æŸäº›å˜é‡ # ç›¸å½“äºæ—§å¼ç±»çš„ object.__init__(self) # éœ€è¦ä¼ å‚self self.arg = arg self.kwarg = kwarg å®Œæ•´ä»£ç  12345678910111213141516class clsSuper(object): age = 18 def __init__(self, name): print(name)class clsSub(clsSuper): def __init__(self): print(super().age) # å½“åªæ˜¯å•ç»§æ‰¿çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨ print(clsSuper.age)ï¼Œif __name__ == '__main__': a = clsSuper('cl') b = clsSub() ç‰¹ç‚¹ super().func()æ˜¯ä¸ç”¨ä¼ å‚selfçš„ super(type, obj).func()å‡½æ•°è°ƒç”¨çš„æ˜¯objå®ä¾‹åœ¨MROä¸­ä¸‹ä¸€ä¸ªçˆ¶ç±»çš„å¯è°ƒç”¨func()ï¼Œè€Œä¸æ˜¯typeçš„çˆ¶ç±»ä¸­çš„func()ã€‚å³è°ƒç”¨æœ€è¿‘çš„å¯ç”¨func() ä½¿ç”¨super()ä¸ç”¨æŒ‡å®šçˆ¶ç±»çš„åç§°ï¼Œä¾¿äºä¿®æ”¹ç»´æŠ¤ï¼›åŒæ—¶å½“ç»§æ‰¿å¤šä¸ªç±»Aã€Bçš„æ—¶å€™ï¼Œç”¨super().__init__()ç›¸å½“äºè°ƒç”¨å¤šä¸ªç±»çš„A.__ini__(self)ã€B.__ini__(self) ä¸javaå¯¹æ¯” Pythonä¸­å­ç±»ä¸ä¼šé»˜è®¤è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå³ä¸‹é¢ä»£ç ã€‚å¹¶ä¸ä¼šè¦è¦æ±‚ç»™ä¼ nameã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç†è§£ä¸ºè·Ÿjavaä¸€æ ·è°ƒç”¨äº†ä¸€ä¸ªå…¨ç©ºã€æ²¡æœ‰ä»»ä½•å†…å®¹çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯åœ¨pythonä¸­ä¸éœ€è¦æ˜¾æ€§å†™å‡ºæ¥ï¼ŒåŸå› éƒ¨åˆ†æ˜¯ç‰¹ç‚¹2ï¼ˆjavaä¸­å­˜åœ¨æœ‰å‚æ•°çš„æ„é€ å‡½æ•°æ—¶ï¼Œå¿…é¡»å°†ç©ºå‚æ•°çš„æ„é€ å‡½æ•°æ˜¾å¼å†™å‡ºï¼Œä¸ç„¶å­ç±»é»˜è®¤éšå¼è°ƒç”¨ç©ºå‚æ•°çš„æ„é€ å‡½æ•°æ—¶ä¼šæŠ¥é”™è¯´ä¸å­˜åœ¨ï¼‰ã€‚ Pythonä¸­çš„æ„é€ å‡½æ•°åªæœ‰ä¸€ä¸ªã€‚ä½†ç”±äºå­˜åœ¨*arg,**kwargçš„å­˜åœ¨ï¼Œæ‰€ä»¥åªè¦æ‰§è¡Œç±»å‹æ£€æŸ¥æ‰§è¡Œä¸åŒçš„ä»£ç ï¼›å³å®ç°äº†å¤šä¸ªæ„é€ å‡½æ•° Pythonçš„ç±»å¯ä»¥å¤šç»§æ‰¿ï¼Œjavaåªèƒ½å•ç»§æ‰¿ã€‚ 123456789101112131415class clsSuper(object): age = 18 def __init__(self, name): self.name = name print(self.name)class clsSub(clsSuper): def __init__(self, age): print(age)if __name__ == '__main__': b = clsSub(18) Cmder Windows ä¸‹çš„ç»ˆç«¯ç¥å™¨ è§†é¢‘å­—å¹•åˆ¶ä½œ arctimeå›½äººè‡ªåˆ¶çš„å…è´¹è½¯ä»¶ã€‚è‡ªåŠ¨æ‰“è½´å’Œè¯­éŸ³è¯†åˆ«åŠŸèƒ½ç§¯åˆ†ä½¿ç”¨æ³¨å†Œç»‘å®šä»»åŠ¡ã€ç­¾åˆ°ç™½å«–èƒ½é¸½å¾ˆä¹…ã€‚ åˆ¶ä½œå®Œæˆåä¿å­˜å·¥ç¨‹æ–‡ä»¶ï¼Œassï¼Œè½¯ä»¶-&gt;å¯¼å‡ºï¼Œå¯ä»¥å¯¼å‡ºä¸€ä»½srtå­—æ¯æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥ä¸Šä¼ åˆ°Bç«™å½“CCå­—å¹•ä½¿ç”¨ Prè‡ªå¸¦å·¥å…·ä¸€å¥ä¸€å¥æ‰“===&gt;psæ‰¹é‡åˆ¶ä½œå­—å¹•å›¾å±‚===&gt;arctime mitmProxyæ‰‹æœºæŠ“åŒ…è½¯ä»¶ Q:ä¸ºä»€ä¹ˆå¥½å¤šåŠ å¯†ç®—æ³•éƒ½è¦ç”¨åˆ°å¼‚æˆ–ï¼Ÿ A:ä½æ“ä½œ cpuè¿è¡Œéå¸¸å¿« åŠ å¯†çš„æºæ˜¯å½¢å½¢è‰²è‰²çš„ï¼Œå…¶åŠ å¯†ç»“æœä¹Ÿè¦æ±‚æ˜¯å°½é‡å·®å¼‚åŒ–ã€‚åœ¨äºŒå…ƒçš„ä½è¿ç®—ç¬¦ä¸­ï¼Œä¹Ÿå°±åªæœ‰&quot;ä½ä¸&quot;ã€â€œä½æˆ–â€ã€&quot;å¼‚æˆ–&quot;ä¸‰ç§ã€‚ä¸€ä¸ªåŠ å¯†è¿‡ç¨‹å¾€å¾€éœ€è¦ç»è¿‡è‹¥å¹²æ¬¡è¿ç®—ï¼Œè‹¥é‡‡ç”¨&quot;ä½ä¸&quot;è¿ç®—ï¼Œç«Ÿå¤šæ¬¡è®¡ç®—çš„è¯ï¼Œå…¶ç»“æœå€¼å°†è¶‹å‘äºæ¯”ç‰¹ä½å…¨éƒ¨æ˜¯0ï¼›åŒæ ·ï¼Œé‡‡ç”¨&quot;ä½æˆ–&quot;çš„è¯ï¼Œå…¶ç»“æœå€¼å°†è¶‹å‘äºæ¯”ç‰¹ä½å…¨éƒ¨æ˜¯1ã€‚å‰©ä¸‹çš„åªæœ‰é‡‡ç”¨&quot;å¼‚æˆ–&quot;è¿ç®—äº† æµ‹è¯•æ³¨è§£çš„æ­£ç¡®æ€§ æ³¨è§£ä»…ä»…èµ·åˆ°äº†æ³¨é‡Šçš„ä½œç”¨ï¼Œä¸ä¼šå½±å“ä»£ç çš„æ‰§è¡Œï¼Œæ‰€ä»¥å³ä½¿ä½ ç±»å‹æ³¨è§£å†™é”™äº†ï¼Œç¨‹åºè¿è¡Œçš„æ—¶å€™è¿˜æ˜¯ä¼šæŒ‰ç…§æ­£ç¡®çš„ç±»å‹å»è¿è¡Œã€‚ Pythonæä¾›äº†ä¸€ä¸ªå·¥å…·æ–¹ä¾¿æˆ‘ä»¬æµ‹è¯•ä»£ç é‡Œçš„ç±»å‹æ³¨è§£æ­£ç¡®æ€§mypy é¦–å…ˆå®‰è£…ï¼špip install mypy ä½¿ç”¨æµ‹è¯•ï¼šmypy filename.py Python3.7æ–°ç‰¹æ€§dataclass å†™æ³•å¯¹æ¯” 1234567891011121314class student(object): \"\"\"docstring for student\"\"\" def __init__(self, name, age): super(student, self).__init__() self.name = name self.age = agefrom dataclasses import dataclass@dataclassclass student(object): \"\"\"docstring for ClassName\"\"\" name: str age: int åŠŸèƒ½å¯¹æ¯” ä¼ ç»Ÿçš„classå†™æ³•çš„__eq__å¹¶ä¸è®¤ä¸ºä¸¤ä¸ªå®ä¾‹ç›¸åŒï¼Œå³å­˜å‚¨æ•°æ®ä¸åŒ 12345678910111213141516171819202122232425262728293031class student(object): \"\"\"docstring for student\"\"\" def __init__(self, name, age): super(student, self).__init__() self.name = name self.age = age s1 = student('cl', 18)s2 = student('cl', 18)print(s1 == s2)# &gt;&gt;&gt; False#æ•°æ®çš„è§’åº¦æ¥è®²ï¼Œè¿™ä¸¤ä¸ªå®ä¾‹ä»£è¡¨çš„æ˜¯åŒä¸€ä¸ªStudentï¼Œç†åº”ç›¸ç­‰ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡å†™å†…ç½®çš„__eq__æ–¹æ³•å¦‚ä¸‹class student(object): \"\"\"docstring for student\"\"\" def __init__(self, name, age): super(student, self).__init__() self.name = name self.age = age def __eq__(self, other): if self.__class__ is not other.__class__: return False return (self.name, self.age) == (other.name, other.age)s1 = student('cl', 18)s2 = student('cl', 18)print(s1 == s2)# &gt;&gt;&gt; True æ³¨æ„: nameå’Œageå¹¶ä¸æ˜¯Class Attributeï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½é€šè¿‡NewStudent.nameå’ŒNewStudent.ageç›´æ¥è®¿é—®ï¼Œå¤§å®¶å¯ä»¥é€šè¿‡dir(NewStudent)éªŒè¯ä¸€ä¸‹ã€‚ nameå’Œageåé¢çš„ç±»å‹æŒ‡å®šå¹¶æ²¡æœ‰å®é™…çš„æ•ˆæœï¼Œä¹Ÿå°±æ˜¯å¦‚æœæˆ‘ä»¬å®ä¾‹åŒ–ä¼ å…¥é”™è¯¯çš„æ•°æ®ç±»å‹ï¼Œä¸ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚ s3 = NewStudent(â€˜Markâ€™, â€˜20â€™) æ›´å¤šåŠŸèƒ½ é€šè¿‡ä½¿ç”¨è£…é¥°å™¨çš„é€‰é¡¹ï¼Œå¯ä»¥ä¸ºç”¨ä¾‹è¿›ä¸€æ­¥å®šåˆ¶ data classï¼Œé»˜è®¤é€‰é¡¹æ˜¯ï¼š 1@dataclass(init=True, repr=True, eq=True, order=False, unsafe_hash=False, frozen=False) initå†³å®šæ˜¯å¦ç”Ÿæˆ__init__ dunder æ–¹æ³• reprå†³å®šæ˜¯å¦ç”Ÿæˆ__repr__ dunderæ–¹æ³• eqå¯¹__eq__ dunder æ–¹æ³•ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå®ƒå†³å®šç›¸ç­‰æ€§æ£€æŸ¥çš„è¡Œä¸ºï¼ˆyour_class_instance == another_instanceï¼‰ order å®é™…ä¸Šåˆ›å»ºäº†å››ç§ dunder æ–¹æ³•ï¼Œå®ƒä»¬ç¡®å®šæ‰€æœ‰æ£€æŸ¥å°äºï¼Œand/orï¼Œå¤§äºçš„è¡Œä¸ºï¼Œå¦‚æœå°†å…¶è®¾ç½®ä¸º trueï¼Œåˆ™å¯ä»¥å¯¹å¯¹è±¡åˆ—è¡¨è¿›è¡Œæ’åºã€‚ æœ€åä¸¤ä¸ªé€‰é¡¹ç¡®å®šå¯¹è±¡æ˜¯å¦å¯ä»¥è¢«å“ˆå¸ŒåŒ–ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨ä½ çš„ class çš„å¯¹è±¡ä½œä¸ºå­—å…¸é”®çš„è¯ï¼Œè¿™æ˜¯å¿…è¦çš„ã€‚ é“¾æ¥ï¼šhttps://www.jianshu.com/p/bea5c202cf85 åç¨‹ ä¸æ˜¯è¿›ç¨‹ï¼Œä¹Ÿä¸æ˜¯çº¿ç¨‹ï¼Œæ˜¯ç”¨æˆ·ç©ºé—´è°ƒåº¦çš„å®Œæˆå¹¶å‘å¤„ç†çš„æ–¹å¼ã€‚æ˜¯åœ¨ç”¨æˆ·ç©ºé—´å†…éƒ¨å®Œæˆçš„ã€‚çº¿ç¨‹å’Œè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿå†…å®Œæˆçš„ã€‚ Githubæ„Ÿè°¢è´¡çŒ®è€… 1&lt;a href=\"https://github.com/spencerwooo/dowww/graphs/contributors\"&gt;&lt;img src=\"https://opencollective.com/dowww/contributors.svg?button=false\" /&gt;&lt;/a&gt; java equals å’Œ == == : å®ƒçš„ä½œç”¨æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯ä¸æ˜¯ç›¸ç­‰ã€‚å³ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡(åŸºæœ¬æ•°æ®ç±»å‹æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œå¼•ç”¨æ•°æ®ç±»å‹æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€)ã€‚ equals() : å®ƒçš„ä½œç”¨ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†å®ƒä¸€èˆ¬æœ‰ä¸¤ç§ä½¿ç”¨æƒ…å†µï¼š æƒ…å†µ1ï¼šç±»æ²¡æœ‰è¦†ç›– equals() æ–¹æ³•ã€‚ å³é€šè¿‡ equals() æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ==â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚ æƒ…å†µ2ï¼šç±»è¦†ç›–äº† equals() æ–¹æ³•ã€‚ ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›– equals() æ–¹æ³•æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å› true (å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚ è¯´æ˜ï¼š String ä¸­çš„ equals æ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„ï¼Œå› ä¸º object çš„ equals æ–¹æ³•æ˜¯æ¯”è¾ƒçš„å¯¹è±¡çš„å†…å­˜åœ°å€(å³==)ï¼Œè€Œ String çš„ equals æ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚ å½“åˆ›å»º String ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨å¸¸é‡æ± ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨çš„å€¼å’Œè¦åˆ›å»ºçš„å€¼ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±æŠŠå®ƒèµ‹ç»™å½“å‰å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å°±åœ¨å¸¸é‡æ± ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ª String å¯¹è±¡ã€‚ hashCodeï¼ˆï¼‰ä»‹ç» hashCode() çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ªintæ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚hashCode() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ï¼Œè¿™å°±æ„å‘³ç€Javaä¸­çš„ä»»ä½•ç±»éƒ½åŒ…å«æœ‰hashCode() å‡½æ•°ã€‚ æ•£åˆ—è¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®â€œé”®â€å¿«é€Ÿçš„æ£€ç´¢å‡ºå¯¹åº”çš„â€œå€¼â€ã€‚è¿™å…¶ä¸­å°±åˆ©ç”¨åˆ°äº†æ•£åˆ—ç ï¼ï¼ˆå¯ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€è¦çš„å¯¹è±¡ï¼‰ ä¸ºä»€ä¹ˆè¦æœ‰ hashCode æˆ‘ä»¬å…ˆä»¥â€œHashSet å¦‚ä½•æ£€æŸ¥é‡å¤â€ä¸ºä¾‹å­æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¦æœ‰ hashCodeï¼š å½“ä½ æŠŠå¯¹è±¡åŠ å…¥ HashSet æ—¶ï¼ŒHashSet ä¼šå…ˆè®¡ç®—å¯¹è±¡çš„ hashcode å€¼æ¥åˆ¤æ–­å¯¹è±¡åŠ å…¥çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸å…¶ä»–å·²ç»åŠ å…¥çš„å¯¹è±¡çš„ hashcode å€¼ä½œæ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„hashcodeï¼ŒHashSetä¼šå‡è®¾å¯¹è±¡æ²¡æœ‰é‡å¤å‡ºç°ã€‚ä½†æ˜¯å¦‚æœå‘ç°æœ‰ç›¸åŒ hashcode å€¼çš„å¯¹è±¡ï¼Œè¿™æ—¶ä¼šè°ƒç”¨ equalsï¼ˆï¼‰æ–¹æ³•æ¥æ£€æŸ¥ hashcode ç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒã€‚å¦‚æœä¸¤è€…ç›¸åŒï¼ŒHashSet å°±ä¸ä¼šè®©å…¶åŠ å…¥æ“ä½œæˆåŠŸã€‚å¦‚æœä¸åŒçš„è¯ï¼Œå°±ä¼šé‡æ–°æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ã€‚ï¼ˆæ‘˜è‡ªæˆ‘çš„Javaå¯è’™ä¹¦ã€ŠHead first javaã€‹ç¬¬äºŒç‰ˆï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±å¤§å¤§å‡å°‘äº† equals çš„æ¬¡æ•°ï¼Œç›¸åº”å°±å¤§å¤§æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚ é€šè¿‡æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼šhashCode() çš„ä½œç”¨å°±æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ªintæ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚**hashCode()åœ¨æ•£åˆ—è¡¨ä¸­æ‰æœ‰ç”¨ï¼Œåœ¨å…¶å®ƒæƒ…å†µä¸‹æ²¡ç”¨ã€‚**åœ¨æ•£åˆ—è¡¨ä¸­hashCode() çš„ä½œç”¨æ˜¯è·å–å¯¹è±¡çš„æ•£åˆ—ç ï¼Œè¿›è€Œç¡®å®šè¯¥å¯¹è±¡åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ã€‚ hashCodeï¼ˆï¼‰ä¸equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™hashcodeä¸€å®šä¹Ÿæ˜¯ç›¸åŒçš„ ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰,å¯¹ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«è°ƒç”¨equalsæ–¹æ³•éƒ½è¿”å›true ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„hashcodeå€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ å› æ­¤ï¼Œequals æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ hashCode æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›– hashCode() çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§ç”Ÿç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™ hashCode()ï¼Œåˆ™è¯¥ class çš„ä¸¤ä¸ªå¯¹è±¡æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰==&gt;é€šè¿‡ç»Ÿä¸€å“ˆå¸Œå€¼ï¼Œä½¿ä¸¤ä¸ªå¯¹è±¡equalsæ—¶ç»“æœè¿”å›å“ˆå¸Œå€¼ä¸€è‡´ä¾¿è¾“å‡ºtrue static{}é™æ€ä»£ç å—ä¸{}éé™æ€ä»£ç å—ã€æ„é€ æ–¹æ³• ç±»çš„æ‰§è¡Œé¡ºåº: static{}é™æ€ä»£ç å—â€“&gt;{}é™æ€ä»£ç å—â€“&gt;æ„é€ æ–¹æ³• static{}é™æ€ä»£ç å—ä¸{}éé™æ€ä»£ç å—ä¸åŒç‚¹ï¼š é™æ€ä»£ç å—åªåœ¨ç¬¬ä¸€æ¬¡newæ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åä¸å†æ‰§è¡Œ ä¸€èˆ¬æƒ…å†µä¸‹,å¦‚æœæœ‰äº›ä»£ç æ¯”å¦‚ä¸€äº›é¡¹ç›®æœ€å¸¸ç”¨çš„å˜é‡æˆ–å¯¹è±¡å¿…é¡»åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™å°±æ‰§è¡Œçš„æ—¶å€™,éœ€è¦ä½¿ç”¨é™æ€ä»£ç å—,è¿™ç§ä»£ç æ˜¯ä¸»åŠ¨æ‰§è¡Œçš„ã€‚ è€Œéé™æ€ä»£ç å—åœ¨æ¯newä¸€æ¬¡å°±æ‰§è¡Œä¸€æ¬¡ã€‚ éé™æ€ä»£ç å—å¯åœ¨æ™®é€šæ–¹æ³•ä¸­å®šä¹‰(ä¸è¿‡ä½œç”¨ä¸å¤§)ï¼›è€Œé™æ€ä»£ç å—ä¸è¡Œã€‚ å¦‚æœæˆ‘ä»¬æƒ³è¦è®¾è®¡ä¸éœ€è¦åˆ›å»ºå¯¹è±¡å°±å¯ä»¥è°ƒç”¨ç±»ä¸­çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šArraysç±»ï¼ŒCharacterç±»ï¼ŒStringç±»ç­‰ï¼Œå°±éœ€è¦ä½¿ç”¨é™æ€æ–¹æ³• ä¸¤è€…çš„åŒºåˆ«æ˜¯ é™æ€ä»£ç å—æ˜¯è‡ªåŠ¨æ‰§è¡Œçš„è€Œé™æ€æ–¹æ³•æ˜¯è¢«è°ƒç”¨æ‰æ‰§è¡Œçš„. éé™æ€ä»£ç å—ä¸æ„é€ å‡½æ•°çš„åŒºåˆ«æ˜¯ï¼š éé™æ€ä»£ç å—æ˜¯ç»™æ‰€æœ‰å¯¹è±¡è¿›è¡Œç»Ÿä¸€åˆå§‹åŒ–ï¼Œè€Œæ„é€ å‡½æ•°æ˜¯ç»™å¯¹åº”çš„å¯¹è±¡åˆå§‹åŒ–å› ä¸ºæ„é€ å‡½æ•°æ˜¯å¯ä»¥å¤šä¸ªçš„ï¼Œè¿è¡Œå“ªä¸ªæ„é€ å‡½æ•°å°±ä¼šå»ºç«‹ä»€ä¹ˆæ ·çš„å¯¹è±¡ï¼Œä½†æ— è®ºå»ºç«‹å“ªä¸ªå¯¹è±¡ï¼Œéƒ½ä¼šå…ˆæ‰§è¡Œç›¸åŒçš„æ„é€ ä»£ç å—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ„é€ ä»£ç å—ä¸­å®šä¹‰çš„æ˜¯ä¸åŒå¯¹è±¡å…±æ€§çš„åˆå§‹åŒ–å†…å®¹ã€‚ 1234567891011121314151617181920212223242526272829303132package classtest;public class testClass &#123; public testClass() &#123; System.out.print(\"é»˜è®¤æ„é€ æ–¹æ³•ï¼--\"); &#125; //éé™æ€ä»£ç å— &#123; System.out.print(\"éé™æ€ä»£ç å—ï¼--\"); &#125; // é™æ€ä»£ç å—,æŒ‡æŒ¥æ‰§è¡Œä¸€æ¬¡ static &#123; System.out.print(\"é™æ€ä»£ç å—ï¼--\"); &#125; public static void test() &#123; System.out.print(\"é™æ€æ–¹æ³•ä¸­çš„å†…å®¹! --\"); &#123; System.out.print(\"é™æ€æ–¹æ³•ä¸­çš„ä»£ç å—ï¼--\"); &#125; &#125; public static void main(String[] args) &#123; testClass test = new testClass(); testClass.test();//é™æ€ä»£ç å—ï¼--éé™æ€ä»£ç å—ï¼--é»˜è®¤æ„é€ æ–¹æ³•ï¼--é™æ€æ–¹æ³•ä¸­çš„å†…å®¹! --é™æ€æ–¹æ³•ä¸­çš„ä»£ç å—ï¼-- System.out.println(); testClass test2 = new testClass(); &#125;&#125;/**é™æ€ä»£ç å—ï¼--éé™æ€ä»£ç å—ï¼--é»˜è®¤æ„é€ æ–¹æ³•ï¼--é™æ€æ–¹æ³•ä¸­çš„å†…å®¹! --é™æ€æ–¹æ³•ä¸­çš„ä»£ç å—ï¼--éé™æ€ä»£ç å—ï¼--é»˜è®¤æ„é€ æ–¹æ³•ï¼--*/ Ansible è¿ç»´è‡ªåŠ¨åŒ– ( é…ç½®ç®¡ç†å·¥å…· )","categories":[],"tags":[{"name":"ç¼–ç¨‹æ—¥è®°","slug":"ç¼–ç¨‹æ—¥è®°","permalink":"https://nymrli.top/tags/ç¼–ç¨‹æ—¥è®°/"}]},{"title":"Pythonçˆ¬è™«å¸¸è§„æµç¨‹","slug":"Pythonçˆ¬è™«å¸¸è§„æµç¨‹","date":"2019-08-30T13:07:05.000Z","updated":"2019-09-15T08:07:30.988Z","comments":true,"path":"2019/08/30/Pythonçˆ¬è™«å¸¸è§„æµç¨‹/","link":"","permalink":"https://nymrli.top/2019/08/30/Pythonçˆ¬è™«å¸¸è§„æµç¨‹/","excerpt":"","text":"Pythonçˆ¬è™«å¸¸è§„æµç¨‹ ä»¥çˆ¬å–æœ‰é“ç¿»è¯‘ä¸ºä¾‹å­ã€‚ æŒ–å–å¯è‡ªç”¨çš„API web ç«¯çš„æœ‰é“ç¿»è¯‘ï¼Œåœ¨ä¹‹å‰æ˜¯ç›´æ¥å¯ä»¥çˆ¬çš„ã€‚ä¹Ÿå°±æ˜¯è¯´åªè¦è·å–åˆ°äº†ä»–çš„æ¥å£ï¼Œä½ å°±å¯ä»¥è‚†æ— å¿Œæƒ®çš„ä½¿ç”¨ä»–çš„æ¥å£è¿›è¡Œç¿»è¯‘è€Œä¸éœ€è¦æ”¯ä»˜ä»»ä½•è´¹ç”¨ã€‚é‚£ä¹ˆè‡ªä»æœ‰é“ç¿»è¯‘æ¨å‡ºä»–çš„APIæœåŠ¡çš„æ—¶å€™ï¼Œå°±å¯¹è¿™ä¸ªæ¥å£åšä¸€ä¸ªåçˆ¬è™«æœºåˆ¶ï¼ˆå¦‚æœå¤§å®¶éƒ½èƒ½å…è´¹ä½¿ç”¨åˆ°ä»–çš„ç¿»è¯‘æ¥å£ï¼Œé‚£ä»–çš„APlæœåŠ¡æ€ä¹ˆèµšé’±ï¼‰ã€‚è¿™ä¸ªåçˆ¬è™«æœºåˆ¶åœ¨çˆ¬è™«é¢†åŸŸç®—æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„æŠ€æœ¯æ‰‹æ®µã€‚ 1.æŸ¥çœ‹è¦çˆ¬å–çš„å†…å®¹æ˜¯å¦æ˜¯é™æ€åŠ è½½çš„ã€‚ æ¯”å¦‚åœ¨ç¿»è¯‘è¾“å…¥æ¡†ä¸­è¾“å…¥appleï¼Œç¿»è¯‘è¾“å‡ºæ¡†ä¸­ä¼šå‡ºç°è‹¹æœï¼Œç„¶ååœ¨``é¡µé¢ä¸­å³é”®-&gt;æŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œç›´æ¥Ctrl+Fæœç´¢æ˜¯å¦å­˜åœ¨appleæˆ–è€…è‹¹æœ`ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œè¯æ˜ä¸æ˜¯é™æ€åŠ è½½çš„ã€‚ 2.æŸ¥çœ‹å†…å®¹å¦‚ä½•åŠ è½½çš„ é¡µé¢åˆå§‹åŒ–getã€postè¯·æ±‚ å±€éƒ¨åˆ·æ–°å‘é€ajaxè¯·æ±‚ å¦‚æœå­˜åœ¨å±€éƒ¨æ›´æ–°å†…å®¹äº§ç”Ÿå˜åŒ–çš„ï¼ˆUrlæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…æ²¡æœ‰é¡µé¢å‘ç”Ÿè·³è½¬ã€åˆ·æ–°çš„æ„Ÿè§‰ï¼‰ï¼Œä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨çš„AJAXæ›´æ–°æŠ€æœ¯ï¼Œå‘é€äº†POSTã€GETè¯·æ±‚è·å¾—å±€éƒ¨éœ€è¦æ›´æ–°çš„æ•°æ®ï¼Œå¯ä»¥ç›´æ¥åœ¨Networké¡¹çš„XHRé‡Œé¢æ‰¾åˆ°åŠ¨æ€åŠ è½½çš„æ–‡ä»¶ (å¯ä»¥çœ‹ä¸‹AjaxæŠ€æœ¯å®ç°äº†è§£ä¸‹ä¸ºä»€ä¹ˆå¯ä»¥åœ¨XHRä¸­æ‰¾åˆ°) è¿™è¾¹çš„è¯ï¼Œå¯ä»¥çœ‹åˆ°è¾“å…¥ä¸€ä¸ªè¦ç¿»è¯‘çš„å†…å®¹åï¼Œé¡µé¢æ²¡æœ‰äº§ç”Ÿå¤šå¤§çš„å˜åŒ–ï¼Œå› æ­¤çŒœæƒ³æ˜¯AJAXåŠ è½½çš„ã€‚åœ¨XHRé‡Œä¹Ÿæ‰¾åˆ°äº†ç›¸åº”çš„Responseæ–‡ä»¶ã€‚ ä½¿ç”¨Chromeè‡ªå¸¦çš„æŠ“åŒ…å·¥å…·ï¼ˆé¡µé¢ä¸­å³é”®-&gt;æ£€æŸ¥æˆ–è€…æŒ‰F12éƒ½å¯ä»¥æ‰“å¼€ï¼Œç„¶åé€‰æ‹©-&gt;Networké¡¹ï¼ˆç½‘ç»œç›‘å¬çª—å£ï¼‰å°±å¯ä»¥çœ‹åˆ°æŠ“åŒ…çš„æ•°æ®äº†ï¼‰ ç„¶ååŒæ ·åœ¨ç¿»è¯‘è¾“å…¥æ¡†ä¸­è¾“å…¥appleï¼Œç„¶åå¯ä»¥è§‚å¯Ÿåˆ°æŠ“åŒ…å·¥å…·ä¸­å‡ºç°äº†å¾ˆå¤šå†…å®¹ã€‚ä¸ºäº†ç¡®å®šappleçš„ç¿»è¯‘è‹¹æœæ˜¯åœ¨å“ªä¸ªæ–‡ä»¶ä¸­è¿”å›çš„ï¼Œå¯ä»¥ç›´æ¥Ctrl+Fæ‰“å¼€æœç´¢æ¡†åç›´æ¥æœç´¢ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ JSåŠ å¯†ç ´è§£ 1.ä½¿ç”¨Pythonè¿›è¡Œæ¨¡ä»¿JSåŠ å¯†è®¡ç®— 2.è¿è¡ŒJSä»£ç è·å¾—åŠ å¯†ç»“æœ ä½¿ç”¨python-js2pyæ¨¡å— å¦‚ä¸€ä¸ªå‚æ•°ç”Ÿæˆçš„ç»“æœæ˜¯è¿™æ ·çš„{&quot;LoginKey&quot;:&quot;46fd82c2-3108-b2a4-3056-0eaa426f975b&quot;,&quot;data&quot;:&quot;{/&quot;User_Oid/&quot;:/&quot;è´¦å·/&quot;,/&quot;User_Password/&quot;:/&quot;å¯†ç /&quot;}&quot;} æ‰¾åˆ°ç”ŸæˆLoginKeyå€¼çš„JSæ–‡ä»¶åŠ å¯†ç®—æ³•æ˜¯è¿™æ ·çš„ï¼š 123456function s4() &#123;return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);&#125;;function guid() &#123;return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();&#125; ç„¶åå®‰è£…pip install js2pyå 123456789101112#coding=utf-8import js2pyLoginKey = js2py.eval_js('''function s4() &#123;return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);&#125;;function guid() &#123;return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();&#125;var a = guid() // åœ¨è¿™é‡Œæ˜¯éœ€è¦è°ƒç”¨çš„''')print LoginKey å°±èƒ½è·å¾—ç»“æœäº†ã€‚ ä½¿ç”¨pyexeã€PyV8ã€js2pyæ¨¡å— 12345678910111213141516171819import execjsdef get_des_psswd(data, key): jsstr = get_js() ctx = execjs.compile(jsstr) #åŠ è½½JSæ–‡ä»¶ return (ctx.call('strEnc', data, key)) #è°ƒç”¨jsæ–¹æ³• ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯JSçš„æ–¹æ³•åï¼Œåé¢çš„dataå’Œkeyæ˜¯jsæ–¹æ³•çš„å‚æ•°def get_js(): f = open(\"./../lib/des.js\", 'r', encoding='utf-8') # æ‰“å¼€JSæ–‡ä»¶ line = f.readline() htmlstr = '' while line: htmlstr = htmlstr+line line = f.readline() return htmlstrif __name__ == '__main__': print(get_des_psswd('123456', 'RUY2OTdCRUFFRTg0OUQ0Q0E0ODNDRDMxN0YzOEEzREQudG9tY2F0OTQ=')) js2py 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849import js2pycontext = js2py.EvalJs()# - æ‹·è´ä½¿ç”¨åˆ°jsæ–‡ä»¶çš„å†…å®¹åˆ°æœ¬é¡¹ç›®ä¸­# - è¯»å–jsæ–‡ä»¶çš„å†…å®¹,ä½¿ç”¨contextæ¥æ‰§è¡Œå®ƒä»¬with open(\"BigInt.js\", 'r', encoding='utf8') as f: context.execute(f.read()) with open(\"RSA.js\", 'r', encoding='utf8') as f: context.execute(f.read())with open(\"Barrett.js\", 'r', encoding='utf8') as f: context.execute(f.read())# - å‘contextç¯å¢ƒä¸­æ·»åŠ éœ€è¦æ•°æ®context.t = &#123;'password': password&#125;context.n = n# - æ‰§è¡ŒåŠ å¯†å¯†ç çš„jså­—ç¬¦js = ''' t.password = t.password.split(\"\").reverse().join(\"\"), setMaxDigits(130); var o = new RSAKeyPair(n.e,\"\",n.n) , r = encryptedString(o, t.password); '''context.execute(js)# - é€šè¿‡contextè·å–åŠ å¯†åå¯†ç ä¿¡æ¯# print(context.r)password = context.r# - ä½¿ç”¨sessionå‘é€ç™»å½•è¯·æ±‚# - URL: http://activity.renren.com/livecell/ajax/clog# - è¯·æ±‚æ–¹æ³•: POST# - æ•°æ®:# - phoneNum: 15565280933# - password: (åŠ å¯†åç”Ÿäº§çš„)# - c1: 0# - rKey: rkeyè¯·æ±‚è·å–çš„data = &#123; 'phoneNum': '131....', 'password': password, 'c1':0, 'rKey':n['rkey']&#125; # print(session.headers)response = session.post(\"http://activity.renren.com/livecell/ajax/clog\", data=data)print(response.content.decode()) # è®¿é—®ç™»å½•çš„èµ„æºresponse = session.get(\"http://activity.renren.com/home#profile\")print(response.content.decode())# https://blog.csdn.net/guodejie/article/details/81436556 é€æ­¥ç¡®å®šJSå¯¹å¯†ç çš„åŠ å¯†é€»è¾‘ ==&gt; å®šä½åˆ°åŠ å¯†å‡½æ•° ä¸¤ç§æ€è·¯ å…¨å±€æœç´¢passwordå­—æ®µ å…¨å±€æœåŠ å¯†ç®—æ³•çš„åå­— åŠ å¯†ä¸€èˆ¬éƒ½æ˜¯JSåŠ å¯†ï¼ŒåŠ å¯†ç®—æ³•ä¸€èˆ¬æ¯”è¾ƒå‡ºåçš„å°±é‚£ä¹ˆå‡ ä¸ªï¼Œæ¯”å¦‚MD5ï¼Œbase64,aesï¼ˆå¯¹ç§°å¯†ç ï¼‰ï¼Œrsaï¼ˆéå¯¹ç§°åŠ å¯†ç®—æ³•ï¼‰éƒ½æ˜¯å¯ä»¥ç”¨æ¥åŠ å¯†çš„ï¼Œä½ å¯ä»¥å…¨å±€æœè¿™äº›åŠ å¯†ç®—æ³•çš„åå­— https://www.jianshu.com/p/055e1ddf7bb2 rsaåŠ å¯† å¯¹æå¤§æ•´æ•°åšå› æ•°åˆ†è§£çš„éš¾åº¦å†³å®šäº†RSAç®—æ³•çš„å¯é æ€§ã€‚æ¢è¨€ä¹‹ï¼Œå¯¹ä¸€æå¤§æ•´æ•°åšå› æ•°åˆ†è§£æ„ˆå›°éš¾ï¼ŒRSAç®—æ³•æ„ˆå¯é ã€‚å‡å¦‚æœ‰äººæ‰¾åˆ°ä¸€ç§å¿«é€Ÿå› æ•°åˆ†è§£çš„ç®—æ³•çš„è¯ï¼Œé‚£ä¹ˆç”¨RSAåŠ å¯†çš„ä¿¡æ¯çš„å¯é æ€§å°±è‚¯å®šä¼šæåº¦ä¸‹é™ã€‚ä½†æ‰¾åˆ°è¿™æ ·çš„ç®—æ³•çš„å¯èƒ½æ€§æ˜¯éå¸¸å°çš„ã€‚ä»Šå¤©åªæœ‰çŸ­çš„RSAé’¥åŒ™æ‰å¯èƒ½è¢«å¼ºåŠ›æ–¹å¼è§£ç ´==&gt;ä¸ºä»€ä¹ˆå¯†ç è¦å¤§äº6ä½ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸–ç•Œä¸Šè¿˜æ²¡æœ‰ä»»ä½•å¯é çš„æ”»å‡»RSAç®—æ³•çš„æ–¹å¼ã€‚åªè¦å…¶é’¥åŒ™çš„é•¿åº¦è¶³å¤Ÿé•¿ï¼Œç”¨RSAåŠ å¯†çš„ä¿¡æ¯å®é™…ä¸Šæ˜¯ä¸èƒ½è¢«è§£ç ´çš„ã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Word2016é…ç½®ä½¿ç”¨MathType","slug":"Word2016é…ç½®ä½¿ç”¨MathType","date":"2019-08-30T12:58:53.000Z","updated":"2021-01-03T06:02:31.302Z","comments":true,"path":"2019/08/30/Word2016é…ç½®ä½¿ç”¨MathType/","link":"","permalink":"https://nymrli.top/2019/08/30/Word2016é…ç½®ä½¿ç”¨MathType/","excerpt":"","text":"Word 2016 ä½¿ç”¨MathType æ®è¯´MathType 6.9båå°±èƒ½ä¸Word 2016å…¼å®¹äº†ï¼Œæ‰€ä»¥ä¸ç”¨ç‰¹åœ°å»æ‰¾7.0ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œæ®è¯´æ›´æ–°çš„åŠŸèƒ½å·®åˆ«ä¹Ÿä¸æ˜¯å¾ˆå¤§ã€‚åªä¸è¿‡æœ¬äººè¿˜æ˜¯ä½¿ç”¨çš„7+ç‰ˆæœ¬ï¼Œæ–°ä¸€ç‚¹åŠŸèƒ½ä¼šæ›´å…¨ç‚¹å˜›ã€‚ é—²è°ˆ è¿™è¾¹çš„æ–¹æ³•æ˜¯æˆ‘ä¸ªäººçš„æ“ä½œè¿‡ç¨‹ï¼Œä½†æ˜¯æ„Ÿè§‰åº”è¯¥ä¸æ˜¯è¿™ä¹ˆæå¾—ã€‚ å®‰è£…å¥½MathTypeåï¼Œæ‰“å¼€wordæŸ¥çœ‹å·¥å…·æ ä¸­æ˜¯å¦æœ‰MathTypeå·¥å…·ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œåˆ™æ‰‹åŠ¨é€‰æ‹©â€œæ’å…¥-&gt;è·å¾—åŠ è½½é¡¹-&gt;åº”ç”¨å•†åº—â€æœç´¢Mathtypeã€‚å¦‚æœè¿˜æ˜¯æ²¡æœ‰çš„è¯ï¼Œç„¶ååœ¨â€œé€‰é¡¹-&gt;åŠ è½½é¡¹-&gt;æ¨¡æ¿â€ç„¶åæŒ‡å®šMathType Commands 6 For Word2016.dotmçš„è·¯å¾„ï¼Œä¹‹åæ˜¯èƒ½åœ¨åº”ç”¨å•†åŸæœåˆ°Mathtypeäº†ï¼Œä½†æ˜¯æ¯æ¬¡æ‰“å¼€wordéƒ½ä¼šå¼¹å‡ºæ‰¾ä¸åˆ°MathPage.wllï¼Œè€Œä¸”æœ€éº»çƒ¦çš„æ˜¯è¿˜åˆ ä¸æ‰è¿™ä¸ªè·¯å¾„ï¼Œäºæ˜¯æ‰¾äº†å¾ˆå¤šèµ„æ–™åï¼Œå‘ç°äº†â€œä¿¡ä»»ä¸­å¿ƒâ€ï¼Œæ¯”è¾ƒåƒèƒ½è§£å†³é—®é¢˜ã€‚åªä¸è¿‡è¯•äº†åè¿˜æ˜¯ä¸è¡Œï¼Œæœ€åå‘ç°ï¼Œè‡ªå·±æ‹·è´çš„æ˜¯64ä½çš„æ–‡ä»¶ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæé†’åˆ°ï¼šå¦‚æœä½ å¤åˆ¶çš„æ˜¯64çš„MathPage.wllè¿˜å‡ºé”™æ¢æˆ32çš„å°±å¥½äº†ã€‚ç„¶åæŒ‰ç…§æç¤ºæ”¹äº†åå°±è¡Œäº†ï¼ŒåŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯æ ¹æ®è·¯å¾„æ˜¾ç¤ºéœ€è¦å°†Mathtypeå®‰è£…ç›®å½•ä¸­çš„å’ŒMathPage.wll å®‰è£…è¿‡ç¨‹ éœ€è¦å°†å®‰è£…å¥½çš„mathtypeç›®å½•ä¸‹æå–ä¸¤ä¸ªæ–‡ä»¶MathPage.wllå’ŒMathType Commands 6 For Word 2016.dotmå¤åˆ¶åˆ°æŒ‡å®šç›®å½• å¦‚æœä½¿ç”¨çš„Officeæ˜¯32ä½çš„è¯ã€‚åœ¨Mathtypeå®‰è£…åï¼Œå®‰è£…è·¯å¾„ï¼ˆå‡è®¾è£…åœ¨Cç›˜çš„è¯ï¼‰C:\\Program Files (x86)\\MathType\\MathPage\\32ä¸­æœ‰æ–‡ä»¶MathPage.wllï¼› å®‰è£…è·¯å¾„C:\\Program Files (x86)\\MathType\\Office Support\\32ä¸­æœ‰æ–‡ä»¶ MathType Commands 6 For Word.dotmï¼›å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°æ¡Œé¢ã€‚ ï¼ˆå½“ç„¶ï¼Œè¿™é‡Œéƒ½æ˜¯é’ˆå¯¹Windows 64ä½ç³»ç»Ÿè€Œè¨€çš„ï¼Œæ³¨windows10æ˜¯64ä½æ“ä½œç³»ç»Ÿã€‚å¦‚æœæ˜¯Windows 32ä½ç³»ç»Ÿï¼Œè·¯å¾„ä¸­å°±ä¸ä¼šåŒ…å«æœ‰ï¼ˆx86ï¼‰äº†ï¼Œè¯·æ³¨æ„ã€‚ï¼‰ å¦‚æœä½¿ç”¨çš„Officeæ˜¯64ä½çš„è¯ã€‚åœ¨Mathtypeå®‰è£…åï¼Œå®‰è£…è·¯å¾„ï¼ˆå‡è®¾è£…åœ¨Cç›˜çš„è¯ï¼‰C:\\Program Files (x86)\\MathType\\MathPage\\64ä¸­æœ‰æ–‡ä»¶MathPage.wllï¼› å®‰è£…è·¯å¾„C:\\Program Files (x86)\\MathType\\Office Support\\64ä¸­æœ‰æ–‡ä»¶ MathType Commands 6 For Word 2016.dotmï¼›å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°æ¡Œé¢ã€‚ **å¦‚æœä¸æ¸…æ¥šè‡ªå·±çš„Officeæ˜¯32ä½è¿˜æ˜¯64ä½ï¼Œå°±æŒ‰ç…§32ä½çš„æ¥ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå‘ä¸‹å…¼å®¹ï¼Œå®åœ¨ä¸è¡Œå°±éƒ½è¯•ä¸€è¯•ã€‚â–².===&gt;æˆ‘å°±æ˜¯ä»¥ä¸ºè‡ªå·±çš„æ˜¯64ä½ç»“æœæ˜¯32ä½è¢«å‘äº†å¾ˆä¹…éƒ½ç”¨ä¸æˆã€‚ æˆ–è€…åƒå¦‚ä¸‹æŸ¥çœ‹è‡ªå·±çš„wordç‰ˆæœ¬ï¼Œæ‰“å¼€wordç‚¹å‡»â€œè´¦å·â€ é€‰æ‹©â€œå…³äºwordâ€ å¯¹äºè‡ªå·±å®‰è£…Office 2016çš„ç”¨æˆ·ï¼Œéœ€è¦æ‰¾åˆ°Office 2016çš„å®‰è£…æ–‡ä»¶å¤¹ï¼ˆå‡è®¾è£…åœ¨Cç›˜çš„è¯ï¼‰C:\\Program Files\\Microsoft Office\\Office16\\STARTUPï¼ˆå¯¹äº****64ä½çš„Officeç”¨æˆ·ï¼‰ï¼›æˆ–C:\\Program Files (x86)\\Microsoft Office\\Office16\\STARTUPï¼ˆå¯¹äº****32ä½çš„Officeç”¨æˆ·ï¼‰ã€‚ç„¶åï¼Œç›´æ¥å°†æ¡Œé¢ä¸Šçš„é‚£ä¸¤ä¸ªæ–‡ä»¶å‰ªåˆ‡æ”¾è¿›å»å³å¯ï¼Œé‡æ–°å¯åŠ¨Wordåå°±ä¼šå‡ºç°Mathtypeæ’ä»¶æ ã€‚ å¯¹äºOfficeé¢„è£…çš„ç”¨æˆ·ï¼Œæƒ³æ‰¾åˆ°Officeçš„å®‰è£…è·¯å¾„å°±ä¸é‚£ä¹ˆå®¹æ˜“äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±åªèƒ½å‘æŒ¥ä¸€ä¸‹Windowsè‡ªèº«çš„æœç´¢åŠŸèƒ½ï¼ˆå®‰åˆ©Everythisngæœç´¢ï¼‰äº†ï¼Œä»å‰é¢æåˆ°çš„å¯ä»¥çœ‹å‡ºMathtypeå®‰è£…æ–‡ä»¶ä¸­æœ‰ä¸¤ä¸ªæ–‡ä»¶éœ€è¦æ‰‹åŠ¨ç§»æ¤åˆ°Officeå®‰è£…è·¯åŠ²ä¸‹çš„ä¸€ä¸ªSTARTUPæ–‡ä»¶å¤¹ä¸­ï¼Œå› æ­¤éœ€è¦æ‰¾åˆ°è¿™ä¸ªSTARTUPæ–‡ä»¶å¤¹ã€‚ åœ¨æœç´¢æ¡†ä¸­è¾“å…¥STARTUPã€‚ æ‰¾åˆ°æœ€åä¸º**~Microsoft\\Word\\STARTUP**çš„æ–‡ä»¶å¤¹å­ç›®å½•ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ªã€‚é€æ¬¡æ·»åŠ æ¡Œé¢ä¸Šçš„ä¸¤ä¸ªæ–‡ä»¶ã€å¦‚ä¸‹å›¾ã€‘åˆ°è¿™äº›æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶é‡æ–°å¯åŠ¨Wordè¿›è¡ŒæŸ¥è¯ã€‚ éœ€è¦å¤åˆ¶çš„æ–‡ä»¶ å¤åˆ¶åˆ°çš„ä½ç½® 1.STARTUPç›®å½•ï¼Œå¦‚æœæ²¡æœ‰çš„è¯è‡ªå·±æ–°å»ºC:\\Users\\10630\\AppData\\Local\\Packages\\Microsoft.LanguageExperiencePackzh-cn_8wekyb3d8bbwe\\LocalCache\\Roaming\\Microsoft\\Word\\STARTUP 2.è¿™ä¸ªè·¯å¾„æˆ‘å¿˜è®°äº†ï¼Œä½†æ˜¯æœç´¢çš„æ—¶å€™å‘ç°è‡ªå·±å¤åˆ¶äº†C:\\Users\\10630\\AppData\\Roaming\\Microsoft\\AddIns æ³¨æ„äº‹é¡¹ï¼šå¦‚æœåœ¨C:\\Program Files\\Microsoft Office\\Office16\\STARTUPä¸­ï¼Œå«æœ‰MathType Commands 6 For Word.dotï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°æ— æ³•ç²˜è´´çš„ç°è±¡ã€‚ï¼ˆå¤åˆ¶çš„è¯ï¼Œwordä¼šå…³é—­ï¼‰ ğŸ˜„æ€»ç®—å®‰å¥½äº†æŠŠï¼Œé…åˆMathpixï¼Œæ„Ÿè§‰åº”è¯¥æŒºé¦™çš„. å…¼å®¹æ¨¡å¼é—®é¢˜ å½“æ‹¿åˆ°ä½ç‰ˆæœ¬æ‰“å¼€åå‡ºç°ä¸€äº›æ ¼å¼æˆ–è€…å…¼å®¹æ€§ä¸å¯¹çš„æç¤ºï¼Œå…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¿å­˜æ—¶å€™ï¼Œå°±å¯ä»¥è®¾ç½®ä¸ºå…¼å®¹æ€§æ¨¡å¼ã€‚ å¦‚ä½•å…³é—­&quot;å…¼å®¹æ¨¡å¼&quot; å½“è‡ªå·±ä½¿ç”¨çš„Wordç‰ˆæœ¬è¾ƒé«˜ï¼Œæ‰“å¼€docçš„ç‰ˆæœ¬è¾ƒä½æ—¶(.doc)ï¼Œå°±ä¼šè¿›å…¥**â€œå…¼å®¹æ¨¡å¼â€**ï¼Œè¿™æ ·èƒ½ä¿è¯å¤§è‡´ä¸Šçš„æ’ç‰ˆæ ¼å¼æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯å›¾ç‰‡ã€å…¬å¼ä»€ä¹ˆçš„ä¿¡æ¯å¾ˆæœ‰å¯èƒ½å°±ä¼šä¸¢å¤±ï¼ˆå…¬å¼å˜æˆäº†å›¾ç‰‡ã€å›¾ç‰‡æ˜¾ç¤ºä¸å…¨ï¼‰ï¼Œè§£å†³çš„æ–¹æ¡ˆæ˜¯å…³é—­å…¼å®¹æ¨¡å¼ã€‚ å…¼å®¹æ¨¡å¼ï¼Œå¦‚å›¾ è§£å†³æ­¥éª¤1ï¼š è§£å†³æ­¥éª¤2ï¼š å¦‚ä½•ä¿å­˜ä¸º&quot;å…¼å®¹æ¨¡å¼&quot;ï¼Ÿ å®è´¨ä¸Šå°±æ˜¯ä¿å­˜ä¸º.docâ€“&gt;.docxçš„å˜åŒ–","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"ç”Ÿæ´»ç¦åˆ©","slug":"ç”Ÿæ´»ç¦åˆ©","permalink":"https://nymrli.top/tags/ç”Ÿæ´»ç¦åˆ©/"}]},{"title":"ç®—æ³•è®¾è®¡ä¸åˆ†æC_æ¦‚å¿µç‚¹åŒºåˆ†","slug":"ç®—æ³•è®¾è®¡ä¸åˆ†æC-æ¦‚å¿µç‚¹åŒºåˆ†","date":"2019-08-22T12:39:29.000Z","updated":"2019-09-15T08:07:31.090Z","comments":true,"path":"2019/08/22/ç®—æ³•è®¾è®¡ä¸åˆ†æC-æ¦‚å¿µç‚¹åŒºåˆ†/","link":"","permalink":"https://nymrli.top/2019/08/22/ç®—æ³•è®¾è®¡ä¸åˆ†æC-æ¦‚å¿µç‚¹åŒºåˆ†/","excerpt":"","text":"ç®—æ³•è®¾è®¡ä¸åˆ†æC ç®—æ³•5_åˆ†æ²»æ³• åˆ†æ²»æ³•â€”â€”å°†ä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°ã€ç›¸äº’ç‹¬ç«‹ï¼Œä½†ç±»å‹ç›¸åŒçš„å­é—®é¢˜æ±‚è§£ï¼›ç„¶åå†å°†å„å­é—®é¢˜çš„è§£ç»„åˆæˆåŸå§‹é—®é¢˜çš„ä¸€ä¸ªå®Œæ•´ç­”æ¡ˆï¼Œè¿™æ ·çš„é—®é¢˜æ±‚è§£ç­–ç•¥å°±å«åˆ†æ²»æ³•ã€‚ åˆ†æ²»æ³•æ‰€èƒ½è§£å†³çš„é—®é¢˜ä¸€èˆ¬å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š è¯¥é—®é¢˜çš„è§„æ¨¡ç¼©å°åˆ°ä¸€å®šçš„ç¨‹åº¦å°±å¯ä»¥å®¹æ˜“åœ°è§£å†³ï¼› è¯¥é—®é¢˜å¯ä»¥åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„ç›¸åŒé—®é¢˜ï¼› åˆ©ç”¨è¯¥é—®é¢˜åˆ†è§£å‡ºçš„å­é—®é¢˜çš„è§£å¯ä»¥åˆå¹¶ä¸ºè¯¥é—®é¢˜çš„è§£ï¼› è¯¥é—®é¢˜æ‰€åˆ†è§£å‡ºçš„å„ä¸ªå­é—®é¢˜æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå³å­é—®é¢˜ä¹‹é—´ä¸åŒ…å«å…¬å…±çš„å­é—®é¢˜ã€‚ åå¤åº”ç”¨åˆ†æ²»æ‰‹æ®µï¼Œå¯ä»¥ä½¿å­é—®é¢˜ä¸åŸé—®é¢˜ç±»å‹ä¸€è‡´è€Œå…¶è§„æ¨¡å´ä¸æ–­ç¼©å°ï¼Œæœ€ç»ˆä½¿å­é—®é¢˜ç¼©å°åˆ°å¾ˆå®¹æ˜“ç›´æ¥æ±‚å‡ºå…¶è§£ã€‚è¿™è‡ªç„¶å¯¼è‡´é€’å½’è¿‡ç¨‹çš„äº§ç”Ÿã€‚ ç”±åˆ†æ²»æ³•äº§ç”Ÿçš„å­é—®é¢˜å¾€å¾€æ˜¯åŸé—®é¢˜çš„è¾ƒå°æ¨¡å¼ã€‚ ç›´æ¥æˆ–é—´æ¥åœ°è°ƒç”¨è‡ªèº«çš„ç®—æ³•ç§°ä¸ºï¼šé€’å½’ç®—æ³•ã€‚ç”¨å‡½æ•°è‡ªèº«ç»™å‡ºå®šä¹‰çš„å‡½æ•°ç§°ä¸ºï¼šé€’å½’å‡½æ•°ã€‚ åˆ†æ²»ä¸é€’å½’åƒä¸€å¯¹å­ªç”Ÿå…„å¼Ÿï¼Œç»å¸¸åŒæ—¶åº”ç”¨åœ¨ç®—æ³•è®¾è®¡ä¹‹ä¸­ï¼Œå¹¶ç”±æ­¤äº§ç”Ÿè®¸å¤šé«˜æ•ˆç®—æ³•ã€‚ ç®—æ³•6_è´ªå¿ƒæ³• å¯è¡Œè§£ â€”â€”é—®é¢˜ç»™å®šæŸäº›çº¦æŸæ¡ä»¶ï¼Œæ»¡è¶³çº¦æŸæ¡ä»¶çš„é—®é¢˜è§£ï¼Œå³ç§°ä¸ºå¯è¡Œè§£ã€‚ æœ€ä¼˜è§£ â€”â€”é—®é¢˜ç»™å‡ºç›®æ ‡å‡½æ•°è¡¡é‡å¯è¡Œè§£çš„å¥½åï¼Œä½¿ç›®æ ‡å‡½æ•°å–æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å€¼çš„å¯è¡Œè§£ç§°ä¸ºæœ€ä¼˜è§£ã€‚ 1.æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼š ä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œåˆ™ç§°æ­¤é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ã€‚ é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨æ˜¯è¯¥é—®é¢˜å¯ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æˆ–è´ªå¿ƒç®—æ³•æ±‚è§£çš„å…³é”®ç‰¹å¾ã€‚ 2.è´ªå¿ƒé€‰æ‹©æ€§è´¨ æ‰€è°“è´ªå¿ƒé€‰æ‹©æ€§è´¨æ˜¯æŒ‡æ‰€æ±‚é—®é¢˜çš„æ•´ä½“æœ€ä¼˜è§£å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©ï¼Œå³è´ªå¿ƒé€‰æ‹©æ¥è¾¾åˆ°ã€‚ è¿™æ˜¯è´ªå¿ƒç®—æ³•å¯è¡Œçš„ç¬¬ä¸€ä¸ªåŸºæœ¬è¦ç´ ï¼Œä¹Ÿæ˜¯è´ªå¿ƒç®—æ³•ä¸åŠ¨æ€è§„åˆ’ç®—æ³•çš„ä¸»è¦åŒºåˆ«ã€‚ ç®—æ³•7_åŠ¨æ€è§„åˆ’æ³• ï¼ˆ1ï¼‰å­é—®é¢˜é‡å æ€§è´¨ ï¼ˆé€’å½’ç®—æ³•æ±‚è§£é—®é¢˜æ—¶ï¼‰æ¯æ¬¡äº§ç”Ÿçš„å­é—®é¢˜å¹¶ä¸æ€»æ˜¯æ–°é—®é¢˜ï¼Œæœ‰äº›å­é—®é¢˜è¢«åå¤è®¡ç®—å¤šæ¬¡ï¼Œè¿™ç§æ€§è´¨ç§°ä¸ºå­é—®é¢˜é‡å æ€§è´¨ã€‚ åŠ¨æ€è§„åˆ’ç®—æ³•å¯¹æ¯ä¸€ä¸ªå­é—®é¢˜åªè§£ä¸€æ¬¡ï¼Œè€Œåå°†å…¶è§£ä¿å­˜åœ¨ä¸€ä¸ªè¡¨æ ¼ï¼ˆé€šå¸¸ç”¨äºŒç»´æ•°ç»„ï¼‰ä¸­ï¼Œå½“å†æ¬¡éœ€è¦è§£æ­¤å­é—®é¢˜æ—¶ï¼Œåªæ˜¯ç®€å•åœ°ç”¨å¸¸æ•°æ—¶é—´æŸ¥çœ‹ä¸€ä¸‹ç»“æœã€‚ é€šå¸¸ä¸åŒçš„å­é—®é¢˜ä¸ªæ•°éšé—®é¢˜çš„å¤§å°å‘ˆå¤šé¡¹å¼å¢é•¿ã€‚å› æ­¤ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•åªéœ€è¦å¤šé¡¹å¼çº§æ—¶é—´ï¼Œä»è€Œè·å¾—è¾ƒé«˜çš„è§£é¢˜æ•ˆç‡ã€‚ ï¼ˆ2ï¼‰æœ€ä¼˜å­ç»“æ„æ€§è´¨â€”â€”ç”¨åŠ¨æ€è§„åˆ’æ³•æ±‚è§£çš„å‰æã€‚ å½“ä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«äº†å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£æ—¶ï¼Œç§°è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ã€‚ ä¸€ä¸ªé—®é¢˜çš„æ´»åŠ¨è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºè‹¥å¹²ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µå¯åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçŠ¶æ€ï¼Œä»åˆå§‹é˜¶æ®µçš„åˆå§‹çŠ¶æ€å‡ºå‘åšå‡ºæ¯ä¸ªé˜¶æ®µçš„å†³ç­–ï¼Œå½¢æˆä¸€ä¸ªå†³ç­–åºåˆ—ã€‚ åˆ©ç”¨é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œä»¥è‡ªåº•å‘ä¸Šçš„æ–¹å¼é€’å½’åœ°ä»å­é—®é¢˜çš„æœ€ä¼˜è§£é€æ­¥æ„é€ å‡ºæ•´ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£ã€‚ ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æ±‚è§£é—®é¢˜çš„æ­¥éª¤ï¼š 1ã€æ‰¾å‡ºæœ€ä¼˜è§£çš„æ€§è´¨ï¼Œå¹¶åˆ»åˆ’å…¶ç»“æ„ç‰¹å¾ï¼› 2ã€é€’å½’åœ°å®šä¹‰æœ€ä¼˜è§£å€¼ï¼› 3ã€è‡ªåº•å‘ä¸Šæ±‚æœ€ä¼˜è§£å€¼ï¼› 4ã€æ ¹æ®è®¡ç®—æœ€ä¼˜è§£å€¼æ—¶å¾—åˆ°çš„ä¿¡æ¯æ„é€ ä¸€ä¸ªæœ€ä¼˜è§£ï¼ˆæ­¤æ­¥åªåœ¨è¦æ±‚å¾—åˆ°æœ€ä¼˜è§£æ—¶æ‰éœ€è¦åšï¼‰ ã€‚ åŠ¨æ€è§„åˆ’æ³•æ˜¯ä¸€ç§æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜çš„é‡è¦ç®—æ³•ç­–ç•¥ã€‚ åˆ©ç”¨æœ€ä¼˜å­ç»“æ„æ€§è´¨åŠæ‰€è·å¾—çš„é€’æ¨å…³ç³»å¼ï¼ˆè¾ƒå°å­é—®é¢˜æœ€ä¼˜è§£ä¸è¾ƒå¤§å­é—®é¢˜æœ€ä¼˜è§£ä¹‹é—´å­˜åœ¨çš„æ•°å€¼å…³ç³»ï¼‰å»æ±‚å–æœ€ä¼˜è§£ï¼Œå¯ä»¥ä½¿è®¡ç®—é‡è¾ƒä¹‹ç©·ä¸¾æ³•æ€¥å‰§å‡å°‘ã€‚ å…±åŒç‚¹ï¼š å°†å¾…æ±‚è§£çš„é—®é¢˜åˆ†è§£æˆè‹¥å¹²å­é—®é¢˜ï¼Œå…ˆæ±‚è§£å­é—®é¢˜ï¼Œç„¶åå†ä»è¿™äº›å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚ ä¸åŒç‚¹ï¼š 1ã€é€‚åˆäºç”¨åŠ¨æ€è§„åˆ’æ³•æ±‚è§£çš„é—®é¢˜ï¼Œåˆ†è§£å¾—åˆ°çš„å„å­é—®é¢˜å¾€å¾€ä¸æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼›è€Œåˆ†æ²»æ³•ä¸­å­é—®é¢˜ç›¸äº’ç‹¬ç«‹ã€‚ 2ã€åŠ¨æ€è§„åˆ’æ³•ç”¨è¡¨ä¿å­˜å·²æ±‚è§£è¿‡çš„å­é—®é¢˜çš„è§£ï¼Œå†æ¬¡ç¢°åˆ°åŒæ ·çš„å­é—®é¢˜æ—¶ä¸å¿…é‡æ–°æ±‚è§£ï¼Œè€Œåªéœ€æŸ¥è¯¢ç­”æ¡ˆï¼Œæ•…å¯è·å¾—å¤šé¡¹å¼çº§æ—¶é—´å¤æ‚åº¦ï¼Œæ•ˆç‡è¾ƒé«˜ï¼›è€Œåˆ†æ²»æ³•ä¸­å¯¹äºæ¯æ¬¡å‡ºç°çš„å­é—®é¢˜å‡æ±‚è§£ï¼Œå¯¼è‡´åŒæ ·çš„å­é—®é¢˜è¢«åå¤æ±‚è§£ï¼Œæ•…äº§ç”ŸæŒ‡æ•°å¢é•¿çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ•ˆç‡è¾ƒä½ã€‚ å¤‡å¿˜å½•æ–¹æ³•ä¸åŠ¨æ€è§„åˆ’æ³•æ¯”è¾ƒ 1ã€ä¸åŠ¨æ€è§„åˆ’æ³•çš„å…±åŒç‚¹ï¼šç”¨ä¸€ä¸ªè¡¨æ ¼æ¥ä¿å­˜å·²æ±‚è§£çš„å­é—®é¢˜çš„ç­”æ¡ˆï¼Œä½¿ä¸‹æ¬¡éœ€è¦è§£æ­¤å­é—®é¢˜æ—¶ï¼Œåªç®€å•åœ°æŸ¥çœ‹ç­”æ¡ˆï¼Œä¸é‡æ–°è®¡ç®—ã€‚ 2ã€ä¸åŠ¨æ€è§„åˆ’æ³•çš„åŒºåˆ«ï¼šå¤‡å¿˜å½•çš„é€’å½’æ–¹å¼æ˜¯è‡ªé¡¶å‘ä¸‹ï¼Œè€ŒåŠ¨æ€è§„åˆ’æ³•çš„é€’å½’æ–¹å¼æ˜¯è‡ªåº•å‘ä¸Šã€‚ å¦‚ä½•é€‰æ‹©ä½¿ç”¨åŠ¨æ€è§„åˆ’æ³•æˆ–å¤‡å¿˜å½•æ³•ï¼Ÿ â˜…å½“ä¸€ä¸ªé—®é¢˜çš„æ‰€æœ‰å­é—®é¢˜éƒ½è‡³å°‘è¦è§£ä¸€æ¬¡æ—¶ï¼Œé€‰ç”¨åŠ¨æ€è§„åˆ’æ³•è¾ƒå¥½ï¼Œæ­¤æ—¶æ²¡æœ‰ä»»ä½•å¤šä½™çš„è®¡ç®—ï¼Œè¿˜å¯åˆ©ç”¨è§„åˆ™çš„è¡¨æ ¼å­˜å–æ–¹å¼ï¼Œå‡å°‘æ—¶é—´å’Œç©ºé—´éœ€æ±‚ã€‚ â˜…å½“ä¸€ä¸ªé—®é¢˜åªæœ‰éƒ¨åˆ†å­é—®é¢˜éœ€è¦æ±‚è§£æ—¶ï¼Œé€‰ç”¨å¤‡å¿˜å½•æ³•è¾ƒå¥½ï¼Œå®ƒåªè§£é‚£äº›ç¡®å®éœ€è¦æ±‚è§£çš„å­é—®é¢˜ã€‚ å¤‡å¿˜å½•æ–¹æ³•ä¸é€’å½’æ–¹æ³•æ¯”è¾ƒ 1ã€ä¸é€’å½’æ–¹æ³•çš„å…±åŒç‚¹ï¼šé€’å½’æ–¹å¼å‡ä¸ºè‡ªé¡¶å‘ä¸‹ 2ã€ä¸é€’å½’æ–¹æ³•çš„åŒºåˆ«ï¼šå¤‡å¿˜å½•æ–¹æ³•ç”¨ä¸€ä¸ªè¡¨æ ¼æ¥ä¿å­˜å·²æ±‚è§£çš„å­é—®é¢˜çš„ç­”æ¡ˆï¼Œä½¿ä¸‹æ¬¡éœ€è¦è§£æ­¤å­é—®é¢˜æ—¶ï¼Œåªç®€å•åœ°æŸ¥çœ‹ç­”æ¡ˆï¼Œä¸é‡æ–°è®¡ç®—ï¼›è€Œé€’å½’æ–¹æ³•åœ¨æ¯æ¬¡é‡åˆ°å­é—®é¢˜éƒ½è¦é‡æ–°è®¡ç®—ã€‚ å…±åŒç‚¹ï¼š éƒ½æ˜¯æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜ï¼›éƒ½å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ã€‚ ä¸åŒç‚¹ï¼š 1ã€æ±‚è§£æ–¹å¼ä¸åŒï¼š åŠ¨æ€è§„åˆ’æ³•ï¼šè‡ªåº•å‘ä¸Šï¼› è´ªå¿ƒæ³•ï¼šè‡ªé¡¶å‘ä¸‹ã€‚ä»¥è¿­ä»£çš„æ–¹å¼ä½œå‡ºç›¸ç»§çš„è´ªå¿ƒé€‰æ‹©ï¼Œæ¯ä½œä¸€æ¬¡è´ªå¿ƒé€‰æ‹©å°±å°†æ‰€æ±‚é—®é¢˜ç®€åŒ–ä¸ºä¸€ä¸ªè§„æ¨¡æ›´å°çš„å­é—®é¢˜ã€‚ 2ã€å¯¹å­é—®é¢˜çš„ä¾èµ–ä¸åŒï¼š åŠ¨æ€è§„åˆ’æ³•ï¼šä¾èµ–äºå„å­é—®é¢˜çš„è§£ã€‚åªæœ‰åœ¨è§£å‡ºç›¸å…³å­é—®é¢˜å,æ‰èƒ½ä½œå‡ºé€‰æ‹©ï¼›åº”ä½¿å„å­é—®é¢˜æœ€ä¼˜ï¼Œæ‰èƒ½ä¿è¯æ•´ä½“æœ€ä¼˜ï¼› è´ªå¿ƒæ³•ï¼šä¸ä¾èµ–äºå­é—®é¢˜çš„è§£ã€‚ä»…åœ¨å½“å‰çŠ¶æ€ä¸‹ä½œå‡ºæœ€å¥½é€‰æ‹©ï¼Œå³å±€éƒ¨æœ€ä¼˜é€‰æ‹©ã€‚ ç®—æ³•8_å›æº¯æ³• å›æº¯æ³•æ˜¯æ¯”è´ªå¿ƒæ³•å’ŒåŠ¨æ€è§„åˆ’æ³•æ›´ä¸€èˆ¬çš„æ–¹æ³•ã€‚ è§£ä¸ºn-å…ƒç»„(x0,x1,â€¦,xn-1)å½¢å¼ã€‚ é€šè¿‡æœç´¢çŠ¶æ€ç©ºé—´æ ‘æ¥æ±‚é—®é¢˜çš„å¯è¡Œè§£ï¼ˆæ»¡è¶³çº¦æŸæ¡ä»¶ï¼‰æˆ–æœ€ä¼˜è§£ï¼ˆä½¿ç›®æ ‡å‡½æ•°å–æœ€å¤§æˆ–æœ€å°å€¼ï¼‰ã€‚ ä½¿ç”¨çº¦æŸå‡½æ•°å’Œé™ç•Œå‡½æ•°æ¥å‹ç¼©éœ€è¦å®é™…ç”Ÿæˆçš„çŠ¶æ€ç©ºé—´æ ‘çš„ç»“ç‚¹æ•°ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œå›æº¯æ³•æ˜¯ä¸ºäº†æ‰¾å‡ºæ»¡è¶³çº¦æŸæ¡ä»¶çš„æ‰€æœ‰å¯è¡Œè§£ã€‚ æ˜¾å¼çº¦æŸï¼šè§„å®šæ¯ä¸ªxiå–å€¼çš„çº¦æŸæ¡ä»¶ã€‚ ï¼ˆæ˜¾å¼çº¦æŸè§„å®šäº†é—®é¢˜çš„å€™é€‰è§£é›†â€”â€”è§£ç©ºé—´ï¼‰ éšå¼çº¦æŸï¼šç»™å‡ºäº†åˆ¤å®šä¸€ä¸ªå€™é€‰è§£æ˜¯å¦ä¸ºå¯è¡Œè§£çš„æ¡ä»¶ã€‚ä¸ºæ»¡è¶³é—®é¢˜çš„è§£è€Œå¯¹ä¸åŒåˆ†é‡ä¹‹é—´æ–½åŠ çš„çº¦æŸã€‚ ç›®æ ‡å‡½æ•°ï¼ˆä»£ä»·å‡½æ•°ï¼‰ï¼šè¡¡é‡æ¯ä¸ªå¯è¡Œè§£çš„ä¼˜åŠ£ï¼Œä½¿ç›®æ ‡å‡½æ•°å–æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å€¼çš„å¯è¡Œè§£ä¸ºé—®é¢˜çš„æœ€ä¼˜è§£ã€‚ çŠ¶æ€ç©ºé—´æ ‘ï¼šæè¿°é—®é¢˜è§£ç©ºé—´çš„æ ‘å½¢ç»“æ„ã€‚ æ ‘ä¸­æ¯ä¸ªç»“ç‚¹ç§°ä¸ºä¸€ä¸ªé—®é¢˜çŠ¶æ€ï¼› è‹¥ä»æ ¹åˆ°æ ‘ä¸­æŸä¸ªçŠ¶æ€çš„è·¯å¾„ä»£è¡¨ä¸€ä¸ªå€™é€‰è§£å…ƒç»„ï¼Œåˆ™è¯¥çŠ¶æ€ä¸ºè§£çŠ¶æ€ï¼› è‹¥ä»æ ¹åˆ°æŸä¸ªè§£çŠ¶æ€çš„è·¯å¾„ä»£è¡¨ä¸€ä¸ªå¯è¡Œè§£å…ƒç»„ï¼Œåˆ™è¯¥è§£çŠ¶æ€ä¸ºç­”æ¡ˆçŠ¶æ€ï¼› å¦‚æœæ±‚è§£çš„æ˜¯æœ€ä¼˜åŒ–é—®é¢˜ï¼Œè¿˜è¦ç”¨ç›®æ ‡å‡½æ•°è¡¡é‡æ¯ä¸ªç­”æ¡ˆç»“ç‚¹ï¼Œæ‰¾å‡ºå…¶ä¸­ç›®æ ‡å‡½æ•°å–æœ€ä¼˜å€¼çš„æœ€ä¼˜ç­”æ¡ˆç»“ç‚¹ã€‚ å›æº¯æ³•ä¸ç©·ä¸¾æœç´¢ä¸åŒï¼šå›æº¯æ³•ä½¿ç”¨çº¦æŸå‡½æ•°ï¼Œå‰ªå»é‚£äº›å¯ä»¥æ–­å®šä¸å«ç­”æ¡ˆçŠ¶æ€çš„å­æ ‘ï¼Œä»è€Œæé«˜ç®—æ³•æ•ˆç‡ã€‚å›æº¯æ³•é€‚ç”¨äºè§£ä¸€äº›ç»„åˆæ•°ç›¸å½“å¤§çš„é—®é¢˜ã€‚ äº‹å®ä¸Šï¼ŒçŠ¶æ€ç©ºé—´æ ‘å¹¶ä¸éœ€è¦äº‹å…ˆç”Ÿæˆï¼Œè€Œåªéœ€åœ¨æ±‚è§£çš„è¿‡ç¨‹ä¸­ï¼Œéšç€æœç´¢ç®—æ³•çš„è¿›å±•ï¼Œé€ä¸ªç”ŸæˆçŠ¶æ€ç©ºé—´æ ‘çš„é—®é¢˜çŠ¶æ€ç»“ç‚¹ã€‚ å¸¸ç”¨çš„å‰ªæå‡½æ•°ï¼š ç”¨çº¦æŸå‡½æ•°å‰ªå»å·²çŸ¥ä¸å«ç­”æ¡ˆçŠ¶æ€ï¼ˆå¯è¡Œè§£ï¼‰çš„å­æ ‘ï¼› ç”¨é™ç•Œå‡½æ•°å‰ªå»å¾—ä¸åˆ°æœ€ä¼˜ç­”æ¡ˆç»“ç‚¹ï¼ˆæœ€ä¼˜è§£ï¼‰çš„å­æ ‘ã€‚ è’™ç‰¹å¡æ´›ä¼°è®¡ ç”¨è’™ç‰¹å¡ç½—ï¼ˆMonte Carloï¼‰æ–¹æ³•ä¼°è®¡å›æº¯æ³•å¤„ç†å®ä¾‹æ—¶ï¼Œå®é™…ç”Ÿæˆçš„ç»“ç‚¹æ•°ï¼š åœ¨çŠ¶æ€ç©ºé—´æ ‘ä¸­,ä»æ ¹å¼€å§‹éšæœºé€‰æ‹©ä¸€æ¡è·¯å¾„(x0,x1,â€¦,xn-1); å‡å®šæœç´¢æ ‘ä¸­è¿™æ¡éšæœºé€‰å‡ºçš„è·¯å¾„ä¸Šï¼Œä»£è¡¨éƒ¨åˆ†å‘é‡(x0,x1,â€¦,xk-1)çš„ç»“ç‚¹Xå¤„ä¸å—é™åˆ¶çš„å­©å­æ•°ç›®,å’Œå…¶ä»–è·¯å¾„ä¸Šä¸XåŒå±‚çš„çš„ç»“ç‚¹ä¸å—é™åˆ¶çš„å­©å­æ•°ç›®ä¸€æ ·ï¼Œéƒ½æ˜¯mk; åˆ™å¯ä»¥ä¼°è®¡æ•´ä¸ªçŠ¶æ€ç©ºé—´æ ‘ä¸Šå®é™…ç”Ÿæˆçš„ç»“ç‚¹æ•°ä¸º: m=1+m0+m0m1+m0m1m2+...... ç®—æ³•9_åˆ†æé™ç•Œæ³• é‡‡ç”¨å¹¿åº¦ä¼˜å…ˆäº§ç”ŸçŠ¶æ€ç©ºé—´æ ‘çš„ç»“ç‚¹ï¼Œå¹¶ä½¿ç”¨å‰ªæå‡½æ•°çš„æ–¹æ³•ç§°ä¸ºâ€”â€”åˆ†æé™ç•Œæ³•ã€‚ åˆ†æé™ç•Œæ³•çš„åŸºæœ¬åšæ³•æ˜¯ï¼š ä»¥å¹¿åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢é—®é¢˜çš„çŠ¶æ€ç©ºé—´æ ‘ã€‚æ¯ä¸€ä¸ªæ´»ç»“ç‚¹åªæœ‰ä¸€æ¬¡æœºä¼šæˆä¸ºæ‰©å±•ç»“ç‚¹ã€‚ æŒ‰ç…§å¹¿åº¦ä¼˜å…ˆçš„åŸåˆ™ï¼Œæ´»ç»“ç‚¹ä¸€æ—¦æˆä¸ºæ‰©å±•ç»“ç‚¹ï¼ˆEç»“ç‚¹ï¼‰Råï¼Œå°±ä¾æ¬¡ç”Ÿæˆå®ƒçš„æ‰€æœ‰å­©å­ç»“ç‚¹ã€‚åœ¨è¿™äº›å­©å­ç»“ç‚¹ä¸­ï¼Œå¯¼è‡´ä¸å¯è¡Œè§£æˆ–å¯¼è‡´éæœ€ä¼˜è§£çš„å­©å­ç»“ç‚¹è¢«èˆå¼ƒï¼Œå…¶ä½™å­©å­ç»“ç‚¹è¢«ä¸€ä¸€åŠ å…¥æ´»ç»“ç‚¹è¡¨ä¸­ã€‚ æ­¤åï¼ŒRè‡ªèº«æˆä¸ºæ­»ç»“ç‚¹ï¼Œä»æ´»ç»“ç‚¹è¡¨ä¸­å–ä¸‹ä¸€ç»“ç‚¹æˆä¸ºå½“å‰æ‰©å±•ç»“ç‚¹ï¼Œå¹¶é‡å¤ä¸Šè¿°ç»“ç‚¹æ‰©å±•è¿‡ç¨‹ã€‚ è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´æŒç»­åˆ°æ‰¾åˆ°æ‰€éœ€çš„è§£æˆ–æ´»ç»“ç‚¹è¡¨ä¸ºç©ºæ—¶ä¸ºæ­¢ã€‚ ä¸€ã€åˆ†æé™ç•Œæ³•ä¸å›æº¯æ³•çš„å…±åŒç‚¹ éƒ½æ˜¯åœ¨é—®é¢˜çš„çŠ¶æ€ç©ºé—´æ ‘ä¸Šæœç´¢é—®é¢˜è§£çš„ç®—æ³•,éƒ½é€šè¿‡æ´»ç»“ç‚¹è¡¨å®ç°ã€‚éƒ½ç”¨çº¦æŸå‡½æ•°å‰ªå»ä¸å«ç­”æ¡ˆç»“ç‚¹çš„åˆ†æ,ç”¨é™ç•Œå‡½æ•°å‰ªå»ä¸å«æœ€ä¼˜è§£çš„åˆ†æ. äºŒã€åˆ†æé™ç•Œæ³•ä¸å›æº¯æ³•çš„åŒºåˆ« ï¼ˆ1ï¼‰æ±‚è§£ç›®æ ‡ä¸åŒï¼šå›æº¯æ³•çš„æ±‚è§£ç›®æ ‡æ˜¯æ‰¾å‡ºè§£ç©ºé—´æ ‘ä¸­æ»¡è¶³çº¦æŸæ¡ä»¶çš„æ‰€æœ‰å¯è¡Œè§£ï¼›è€Œåˆ†æé™ç•Œæ³•çš„æ±‚è§£ç›®æ ‡åˆ™æ˜¯æ‰¾å‡ºæ»¡è¶³çº¦æŸæ¡ä»¶çš„ä¸€ä¸ªå¯è¡Œè§£ï¼Œæˆ–æŸç§æ„ä¹‰ä¸‹çš„æœ€ä¼˜è§£ã€‚ ï¼ˆ2ï¼‰æœç´¢æ–¹å¼ä¸åŒï¼šå›æº¯æ³•ä»¥æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´æ ‘ï¼Œè€Œåˆ†æé™ç•Œæ³•åˆ™ä»¥å¹¿åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´æ ‘ã€‚ ï¼ˆ3ï¼‰å¯¹å½“å‰æ‰©å±•ç»“ç‚¹çš„æ‰©å±•æ–¹å¼ä¸åŒï¼šå›æº¯æ³•ä¸­çš„æ¯ä¸ªæ´»ç»“ç‚¹å¯èƒ½å¤šæ¬¡æˆä¸ºå½“å‰æ‰©å±•ç»“ç‚¹ï¼Œçºµæ·±æ–¹å‘æ‰©å±•å…¶ä¸€ä¸ªå„¿å­ï¼Œç„¶åå†å›æº¯åæ‰©å±•å…¶ä»–å„¿å­ï¼›è€Œåˆ†æé™ç•Œæ³•ä¸­æ¯ä¸€ä¸ªæ´»ç»“ç‚¹åªæœ‰ä¸€æ¬¡æœºä¼šæˆä¸ºæ‰©å±•ç»“ç‚¹ï¼Œä¸€æ¬¡äº§ç”Ÿæ‰€æœ‰å­©å­ç»“ç‚¹ï¼Œè‡ªèº«æˆä¸ºæ­»ç»“ç‚¹ï¼Œä¹‹åæ— éœ€å†è¿”å›è¯¥ç»“ç‚¹å¤„ã€‚","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"},{"name":"å­¦ä¸š","slug":"å­¦ä¸š","permalink":"https://nymrli.top/tags/å­¦ä¸š/"}]},{"title":"é€šä¿¡ä¼ä¸šç®¡ç†_çº¿ä¸Šè€ƒè¯•","slug":"é€šä¿¡ä¼ä¸šç®¡ç†-çº¿ä¸Šè€ƒè¯•","date":"2019-08-22T12:37:49.000Z","updated":"2019-09-15T08:07:31.097Z","comments":true,"path":"2019/08/22/é€šä¿¡ä¼ä¸šç®¡ç†-çº¿ä¸Šè€ƒè¯•/","link":"","permalink":"https://nymrli.top/2019/08/22/é€šä¿¡ä¼ä¸šç®¡ç†-çº¿ä¸Šè€ƒè¯•/","excerpt":"","text":"é€šä¿¡ä¼ä¸šç®¡ç† çœ‹æ¸…é¢˜ç›®å’Œé€‰é¡¹ å•é€‰é¢˜ 1å•é€‰(2åˆ†) åœ¨æ€»å…¬å¸é¢†å¯¼ä¸‹è®¾ç«‹å¤šä¸ªåˆ†æ”¯ï¼Œå„åˆ†æ”¯æœ‰å„è‡ªç‹¬ç«‹çš„äº§å“å’Œå¸‚åœºï¼Œå®è¡Œç‹¬ç«‹æ ¸ç®—ï¼Œç»è¥ç®¡ç†ä¸Šæ‹¥æœ‰è‡ªä¸»æ€§å’Œç‹¬ç«‹æ€§ã€‚è¿™æ˜¯ï¼ˆ A ï¼‰ç»„ç»‡ç»“æ„ã€‚ A.äº‹ä¸šéƒ¨å‹ B.çŸ©é˜µå‹ C.èŒèƒ½å‹ D.ç›´çº¿å‹ 2å•é€‰(2åˆ†) æŒ‰ç…§æœ€æ–°ç‰ˆã€Šä¸­åäººæ°‘å…±å’Œå›½å…¬å¸æ³•ã€‹è§„å®šï¼Œè‚¡ä»½æœ‰é™å…¬å¸çš„å‘èµ·äººæœ€å¤šä¸è¶…è¿‡ï¼ˆ C ï¼‰ã€‚ A.100äºº B.50äºº C.200äºº D.150äºº 3å•é€‰(2åˆ†) å·¥ä½œæˆ–è¡ŒåŠ¨ä¹‹å‰é¢„å…ˆæ‹Ÿå®šå…·ä½“çš„å·¥ä½œå†…å®¹å’Œæ­¥éª¤æ˜¯ç®¡ç†çš„ï¼ˆ D ï¼‰èŒèƒ½ã€‚ A.ç»„ç»‡èŒèƒ½ B.æ§åˆ¶èŒèƒ½ C.é¢†å¯¼èŒèƒ½ D.è®¡åˆ’èŒèƒ½ 4å•é€‰(2åˆ†) æå‡ºâ€œ14é¡¹ç®¡ç†åŸåˆ™â€çš„æ˜¯ï¼ˆC ï¼‰ã€‚ A.å·´çº³å¾· B.æ¢…å¥¥ C.æ³•çº¦å°” D.æ³°å‹’ 5å•é€‰(2åˆ†) ä¼ä¸šæˆ˜ç•¥æ˜¯å…³äºä¼ä¸šåœ¨æ¿€çƒˆçš„ç«äº‰ä¸­å¦‚ä½•ä¸ç«äº‰å¯¹æ‰‹ç›¸æŠ—è¡¡ã€åŒæ—¶ä¹Ÿæ˜¯é’ˆå¯¹æ¥è‡ªå¤šæ–¹é¢çš„å†²å‡»ã€å‹åŠ›ã€å¨èƒå’Œå›°éš¾è¿å‡»è¿™äº›æŒ‘æˆ˜çš„è¡ŒåŠ¨æ–¹æ¡ˆã€‚è¿™ä½“ç°äº†ä¼ä¸šæˆ˜ç•¥çš„ï¼ˆ D ï¼‰ã€‚ A.é•¿è¿œæ€§ B.ååŒæ€§ C.å…¨å±€æ€§ D.æŠ—äº‰æ€§ 6å•é€‰(2åˆ†) åœ¨å¯¹ä¼ä¸šæ€»ä½“ç¯å¢ƒåˆ†æä¸­ï¼Œäººä»¬ç”Ÿæ´»æ–¹å¼çš„å˜åŒ–å±äºï¼ˆ B ï¼‰ã€‚ A.ç»æµç¯å¢ƒ B.ç¤¾ä¼šç¯å¢ƒ C.æ”¿æ²»ç¯å¢ƒ D.æŠ€æœ¯ç¯å¢ƒ 7å•é€‰(2åˆ†) ä¸ºäº†å¢å¼ºä¼ä¸šå®åŠ›è€Œä¸åŒè¡Œä¸šä¼ä¸šè¿›è¡Œè”åˆçš„ä¸€ç§æˆ˜ç•¥ç§°ä¸ºï¼ˆ C ï¼‰ã€‚ A.å¤åˆå¤šæ ·åŒ– B.çºµå‘ä¸€ä½“åŒ– C.æ¨ªå‘ä¸€ä½“åŒ– D.åŒå¿ƒå¤šæ ·åŒ– 8å•é€‰(2åˆ†) åœ¨æµç¨‹å‹ç”Ÿäº§è¿‡ç¨‹ä¸­ï¼Œç‰©æ–™æ˜¯å‡åŒ€ã€è¿ç»­åœ°æŒ‰ä¸€å®šå·¥è‰ºé¡ºåºè¿åŠ¨çš„ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯å·¥è‰ºè¿‡ç¨‹çš„ï¼ˆ A ï¼‰ã€‚ A.è¿ç»­æ€§ B.ç¨³å®šæ€§ C.ç¦»æ•£æ€§ D.æµåŠ¨æ€§ 9å•é€‰(2åˆ†) æœåŠ¡æ˜¯ä¸€ç§æ´»åŠ¨ï¼Œåœ¨æ¶ˆè´¹ä¹‹å‰é€šå¸¸æ— æ³•ä¸ºé¡¾å®¢æ„Ÿè§‰ã€ä½“éªŒå’Œè¯„ä»·ï¼Œè¿™ä½“ç°äº†æœåŠ¡çš„ï¼ˆ B ï¼‰ã€‚ A.åŠ³åŠ¨åŠ›å¯†é›†æ€§ B.æ— å½¢æ€§ C.å¼‚è´¨æ€§ D.æ˜“é€æ€§ 10å•é€‰(2åˆ†) å°½ç®¡ä¸åŒäº§å“å…·æœ‰ä¸åŒçš„å¤–éƒ¨è´¨é‡ç‰¹å¾ï¼Œä½†å¯ä»¥ç”¨ï¼ˆ B ï¼‰æ¥æ¦‚æ‹¬äº§å“è´¨é‡ã€‚ A.å®‰å…¨æ€§ B.é€‚ç”¨æ€§ C.ç»æµæ€§ D.å¯é æ€§ 11å•é€‰(2åˆ†) è´¨é‡ç®¡ç†ç»å†çš„ç¬¬å››é˜¶æ®µæ˜¯ï¼ˆ C ï¼‰ã€‚ A.ç»Ÿè®¡è´¨é‡æ§åˆ¶é˜¶æ®µ B.è´¨é‡æ£€éªŒé˜¶æ®µ C. ISO9000è´¨é‡ç®¡ç†ä½“ç³»è®¤è¯é˜¶æ®µ D.å…¨é¢è´¨é‡ç®¡ç†é˜¶æ®µ 12å•é€‰(2åˆ†) ä¸‹é¢ï¼ˆ A ï¼‰ä¸æ˜¯æœ±å…°ä¸‰éƒ¨æ›²ä¸­æ‰€è¦æ±‚çš„å†…å®¹ã€‚ A.è´¨é‡æ£€éªŒ B.è´¨é‡è®¡åˆ’ C.è´¨é‡æé«˜ D.è´¨é‡æ§åˆ¶ 13å•é€‰(2åˆ†) èŒä¸šç”Ÿæ¶¯è§„åˆ’å±äº äººåŠ›èµ„æºç®¡ç†çš„ï¼ˆ C ï¼‰æ–¹é¢çš„å†…å®¹ã€‚ A.ç”¨äºº B.è¿›äºº C.è‚²äºº D.ç•™äºº 14å•é€‰(2åˆ†) ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä»å·¥ä½œä¸šç»©ã€å·¥ä½œèƒ½åŠ›å’Œå·¥ä½œæ€åº¦3ä¸ªæ–¹é¢æ¥è¯„ä»·å‘˜å·¥çš„ç»©æ•ˆä½“ç°äº†ç»©æ•ˆçš„ï¼ˆ C ï¼‰ç‰¹å¾ã€‚ A.åŠ¨æ€æ€§ B.å¤šå› æ€§ C.å¤šç»´æ€§ D.ç¨³å®šæ€§ 15å•é€‰(2åˆ†) è–ªé…¬ä¸­å±äºé—´æ¥ç»æµæ€§æŠ¥é…¬çš„æ˜¯ï¼ˆ D ï¼‰ã€‚ A.æ´¥è´´ B.åŸºæœ¬å·¥èµ„ C.å¥–é‡‘ D.åŸºæœ¬ç¤¾ä¼šä¿é™© 16å•é€‰(2åˆ†) ä¼ä¸šè´¢åŠ¡ç®¡ç†çš„åŸºæœ¬å†…å®¹åŒ…æ‹¬ï¼šâ‘ èµ„é‡‘ç­¹é›†ç®¡ç†ï¼›â‘¡æˆæœ¬è´¹ç”¨ç®¡ç†ï¼›â‘¢æŠ•èµ„ç®¡ç†ï¼›â‘£åˆ©æ¶¦ï¼ˆæ”¶æ”¯å·®é¢ï¼‰åŠå…¶åˆ†é…ç®¡ç†ï¼›â‘¤ç‰©èµ„ç®¡ç†ï¼›ä¸­çš„ï¼ˆ A ï¼‰ã€‚ A.â‘ â‘¡â‘¢â‘£ B.â‘ â‘¢â‘£â‘¤ C.â‘ â‘¡â‘£â‘¤ D.â‘ â‘¡â‘¢â‘£â‘¤ 17å•é€‰(2åˆ†) ä»¥ä¸‹ä¸å±äºä¼ä¸šçš„ç­¹èµ„æ–¹å¼çš„æ˜¯ï¼ˆ D ï¼‰ã€‚ A.ä¹°æ–¹ä¿¡è´· B.å‘è¡Œè‚¡ç¥¨ C.é“¶è¡Œè´·æ¬¾ D.æ¥è‡ªä¸ªäººçš„é—²æ•£èµ„é‡‘ 18å•é€‰(2åˆ†) æŸå¤§å­¦ç”Ÿåœ¨4å¹´å­¦ä¹ æœŸé—´ï¼Œæ¯å¹´å¹´åˆä»é“¶è¡Œè´·æ¬¾3000å…ƒç”¨äºæ”¯ä»˜å­¦è´¹ï¼Œè‹¥æŒ‰å¹´åˆ©ç‡5%è®¡å¤åˆ©ï¼Œç¬¬4å¹´æœ«éœ€è¦ä¸€æ¬¡æ€§å½’è¿˜å…¨éƒ¨æœ¬æ¯ï¼ˆ D ï¼‰å…ƒã€‚ A.12000 B.12930.4 C.16576.9 D.13576.9 19å•é€‰(2åˆ†) ä¸ºäº†ä¿è¯äº§å“è¾¾åˆ°è§„å®šçš„åŠŸèƒ½å’ŒæŠ€æœ¯è¦æ±‚æ‰€å¿…éœ€çš„ææ–™æ¶ˆè€—æ˜¯ï¼ˆA ï¼‰ã€‚ A.æœ‰æ•ˆæ€§æ¶ˆè€— B.å·¥è‰ºæ€§æ¶ˆè€— C.éå·¥è‰ºæ€§æ¶ˆè€— D.ææ–™æ¶ˆè€— 20å•é€‰(2åˆ†) è®¾å¤‡åœ¨ä½¿ç”¨æˆ–é—²ç½®è¿‡ç¨‹ä¸­ï¼Œç”±äºæ–°æŠ€æœ¯å‡ºç°è€Œå¼•èµ·çš„è®¾å¤‡ä»·å€¼æŸå¤±ï¼Œç§°ä¸ºï¼ˆ A ï¼‰ã€‚ A.æ— å½¢ç£¨æŸ B.ä»·å€¼ç£¨æŸ C.æŠ€æœ¯ç£¨æŸ D.ä½¿ç”¨ç£¨æŸ 21å•é€‰(2åˆ†) ä¼ä¸šåœ¨ç›¸é‚»ä¸¤æ‰¹ç‰©èµ„è¿›å‚é—´éš”æœŸå†…ï¼Œä¸ºä¿è¯ç”Ÿäº§æ­£å¸¸è¿›è¡Œæ‰€å¿…éœ€çš„ã€ç»æµåˆç†çš„å‚¨å¤‡æ•°é‡æ˜¯ï¼ˆ D ï¼‰ã€‚ A.ä¿é™©å‚¨å¤‡å®šé¢ B.ç‰©èµ„å‚¨å¤‡å®šé¢ C.å­£èŠ‚æ€§å‚¨å¤‡å®šé¢ D.ç»å¸¸å‚¨å¤‡å®šé¢ 22å•é€‰(2åˆ†) å¿«é€Ÿæ¸—é€ç­–ç•¥æ˜¯æ¨å¹¿å¤„äºç”Ÿå‘½å‘¨æœŸï¼ˆC ï¼‰äº§å“çš„ä¼ä¸šï¼Œå¯ä»¥é‡‡ç”¨çš„å¸‚åœºè¥é”€ç­–ç•¥ã€‚ A.è¡°é€€æœŸ B.æˆé•¿æœŸ C.å¼•å…¥æœŸ D.æˆç†ŸæœŸ 23å•é€‰(2åˆ†) ä»¥ä¸‹ä¸å±äºä¿ƒé”€ç»„åˆä¸­çš„ä¿ƒé”€å·¥å…·çš„æ˜¯ï¼ˆ D ï¼‰ã€‚ A.é”€å”®ä¿ƒè¿› B.å…¬å…³å®£ä¼  C.å¹¿å‘Š D.å°¾æ•°å®šä»· 24å•é€‰(2åˆ†) è¥é”€äººå‘˜å¯ä»¥é€šè¿‡æ¥è¿‘å’Œå½±å“æ¶ˆè´¹è€…ç¾¤ä½“ä¸­çš„æ„è§é¢†è¢–çš„æ–¹å¼æ¥å¼€å±•è¥é”€æ´»åŠ¨ï¼Œè¿™ä½“ç°äº†å½±å“æ¶ˆè´¹è€…è´­ä¹°çš„ä¸»è¦å› ç´ ä¸­çš„ï¼ˆ D ï¼‰çš„ä½œç”¨ã€‚ A.ç»æµå› ç´  B.ä¸ªäººå› ç´  C.ç¤¾ä¼šæ–‡åŒ–å› ç´  D.å¿ƒç†å› ç´  25å•é€‰(2åˆ†) å“ç§ç¹å¤šï¼Œæ¯ç§ä»…ç”Ÿäº§ä¸€ä»¶ï¼Œç”Ÿäº§é‡å¤ç¨‹åº¦ä½æ˜¯ä»¥ä¸‹å“ªç§ç”Ÿäº§æ–¹å¼çš„ç‰¹ç‚¹ï¼ˆ B ï¼‰ã€‚ A.æ‰¹é‡ç”Ÿäº§ B.å•ä»¶ç”Ÿäº§ C.å¤§é‡ç”Ÿäº§ D.å¤‡è´§å‹ç”Ÿäº§ åˆ¤æ–­é¢˜ 26åˆ¤æ–­(2åˆ†) ä¸ªä½“ä¼ä¸šæ˜¯ä¸ªäººå‡ºèµ„å…´åŠçš„ä¼ä¸šï¼Œå…·æœ‰æ³•äººèµ„æ ¼ã€‚ é”™ 27åˆ¤æ–­(2åˆ†) åœ¨ç®¡ç†è¿‡ç¨‹ä¸­ï¼Œåªæœ‰æŠŠäººçš„è¦ç´ ä½œä¸ºæ ¹æœ¬ï¼Œæ‰èƒ½åè°ƒå¥½å…¶ä»–è¦ç´ ï¼Œå®ç°é«˜æ°´å¹³çš„ç®¡ç†ã€‚ å¯¹ 28åˆ¤æ–­(2åˆ†) ä¼ä¸šä¸ä»…æ˜¯ç»æµæ€§ç»„ç»‡ï¼Œä¹Ÿæ˜¯ç¤¾ä¼šæ€§ç»„ç»‡ã€‚ å¯¹ 29åˆ¤æ–­(2åˆ†) æ¢…å¥¥è®¤ä¸ºï¼Œå½±å“äººä»¬ç§¯ææ€§çš„å› ç´ é™¤äº†ç‰©è´¨æ–¹é¢å¤–ï¼Œè¿˜æœ‰ç¤¾ä¼šä¸å¿ƒç†æ–¹é¢ã€‚ å¯¹ 30åˆ¤æ–­(2åˆ†) ä¼ä¸šæä¾›çš„äº§å“æœåŠ¡æ ‡æ–°ç«‹å¼‚ï¼Œæ»¡è¶³é¡¾å®¢ç‰¹æ®Šçš„éœ€æ±‚ï¼Œå½¢æˆç«äº‰ä¼˜åŠ¿çš„æˆ˜ç•¥æ˜¯å·®å¼‚åŒ–æˆ˜ç•¥ã€‚ å¯¹ 31åˆ¤æ–­(2åˆ†) é«˜è´¨é‡çš„ç¤¾ä¼šç‰©æµç³»ç»Ÿå±äºæˆ˜ç•¥åˆ¶å®šä¸­ä¼ä¸šçš„å¤–éƒ¨èµ„æºã€‚ å¯¹ 32åˆ¤æ–­(2åˆ†) ä¼ä¸šä»·å€¼æ´»åŠ¨ä¸­ï¼ŒæŠ€æœ¯å¼€å‘å±äºåŸºæœ¬æ´»åŠ¨ã€‚ é”™ 33åˆ¤æ–­(2åˆ†) ä¼ä¸šç”Ÿäº§ç³»ç»Ÿæ˜¯ç”±è¾“å…¥ã€è½¬åŒ–ã€è¾“å‡ºã€åé¦ˆå››éƒ¨åˆ†æ„æˆï¼Œå…¶æ ¸å¿ƒæ˜¯è¾“å‡ºã€‚ é”™ 34åˆ¤æ–­(2åˆ†) è¾…åŠ©ç”Ÿäº§éƒ¨é—¨ä¸»è¦æ˜¯ä¸ºåŸºæœ¬ç”Ÿäº§å’Œè¾…åŠ©ç”Ÿäº§æœåŠ¡çš„å•ä½ï¼ˆå¦‚ä»“å‚¨ã€åå‹¤ï¼‰ã€‚ é”™ 35åˆ¤æ–­(2åˆ†) å¯¹äºé¡¾å®¢æ¥è¯´ï¼ŒæœåŠ¡æ˜¯å‘ç”Ÿåœ¨æœåŠ¡è®¾æ–½ç¯å¢ƒä¸­çš„ç»å†ï¼Œå¦‚æœæœåŠ¡è®¾æ–½çš„è®¾è®¡ç¬¦åˆæ¶ˆè´¹è€…çš„éœ€è¦ï¼Œå°±å¯ä»¥æé«˜æœåŠ¡è´¨é‡ã€‚ å¯¹ 36åˆ¤æ–­(2åˆ†) ISO9000æ—æ ‡å‡†æ˜¯è¿›è¡Œå›½é™…è´¸æ˜“æ—¶å¼ºåˆ¶è¦æ±‚å¿…é¡»è¿›è¡Œçš„æ ‡å‡†è®¤è¯ã€‚ é”™ 37åˆ¤æ–­(2åˆ†) è´¨é‡ä½“ç³»è®¤è¯ä¸­ä½¿ç”¨çš„åŸºæœ¬æ ‡å‡†æ˜¯äº§å“æŠ€æœ¯æ ‡å‡†ã€‚ é”™ 38åˆ¤æ–­(2åˆ†) è´¨é‡ç®¡ç†çš„ç›®æ ‡å°±æ˜¯æé«˜äº§å“è´¨é‡ï¼Œäº§å“è´¨é‡è¶Šé«˜è¶Šå¥½ã€‚ é”™ 39åˆ¤æ–­(2åˆ†) å¹¿ä¹‰çš„äººåŠ›èµ„æºæ¦‚å¿µæ˜¯æŒ‡èƒ½å¤Ÿæ¨åŠ¨å›½æ°‘ç»æµå’Œç¤¾ä¼šå‘å±•çš„å…·æœ‰æ™ºåŠ›åŠ³åŠ¨å’Œä½“åŠ›åŠ³åŠ¨èƒ½åŠ›çš„äººçš„æ€»å’Œï¼ŒåŒ…æ‹¬æ•°é‡å’Œè´¨é‡ä¸¤ä¸ªæ–¹é¢ã€‚ é”™ 40åˆ¤æ–­(2åˆ†) å·¥ä½œè¯´æ˜ä¹¦å…·ä½“è¯´æ˜äº†å·¥ä½œçš„ç›®çš„ä¸ä»»åŠ¡ã€å·¥ä½œå†…å®¹ä¸ç‰¹å¾ã€å·¥ä½œè´£ä»»ä¸æƒåŠ›ã€å·¥ä½œæ ‡å‡†ä¸è¦æ±‚ã€å·¥ä½œæ—¶é—´ä¸åœ°ç‚¹ç­‰é—®é¢˜ã€‚ é”™ 41åˆ¤æ–­(2åˆ†) è®¾å®šç»©æ•ˆç›®æ ‡æ—¶ï¼Œç®¡ç†è€…ä¸€èˆ¬æ ¹æ®ç»„ç»‡æ€»ä½“ç›®æ ‡æˆ–ä¸Šçº§éƒ¨é—¨çš„ç›®æ ‡ï¼Œå›´ç»•æœ¬éƒ¨é—¨ä¸šåŠ¡é‡ç‚¹æˆ–èŒè´£ï¼Œåˆ¶å®šæœ¬éƒ¨é—¨çš„å·¥ä½œç›®æ ‡è®¡åˆ’ï¼Œä¿è¯éƒ¨é—¨å·¥ä½œç›®æ ‡ä¸ç»„ç»‡çš„æ€»ä½“ç›®æ ‡ç›¸ä¸€è‡´ã€‚ å¯¹ 42åˆ¤æ–­(2åˆ†) ä¼ä¸šçš„è¿è¥èƒ½åŠ›åæ˜ äº†ä¼ä¸šèµ„é‡‘å‘¨è½¬çŠ¶å†µï¼Œå¯ä»¥ç”¨æˆæœ¬è´¹ç”¨å‡€åˆ©ç‡æ¥è¡¡é‡ã€‚ é”™ 43åˆ¤æ–­(2åˆ†) èµ„æœ¬å…¬ç§¯ã€ç›ˆä½™å…¬ç§¯éƒ½å±äºä¼ä¸šæƒç›Šèµ„æœ¬çš„èŒƒç•´ã€‚ å¯¹ 44åˆ¤æ–­(2åˆ†) ç›ˆäºå¹³è¡¡ç‚¹æ˜¯æŒ‡æŠ€æœ¯æ–¹æ¡ˆçš„ç›ˆåˆ©å’ŒäºæŸåœ¨äº§é‡ã€å•ä»·ã€æˆæœ¬ç­‰æ–¹é¢çš„ä¸´ç•Œå€¼ã€‚ å¯¹ 45åˆ¤æ–­(2åˆ†) åœ¨è®¾å¤‡çš„è‡ªç„¶å¯¿å‘½å‘¨æœŸä¸­ï¼Œè®¾å¤‡æ•…éšœç‡éšç€ä½¿ç”¨çš„æ—¶é—´çš„å»¶ä¼¸è€Œè¶Šæ¥è¶Šé«˜ã€‚ å¯¹ 46åˆ¤æ–­(2åˆ†) è®¾å¤‡æ›´æ–°æ”¹é€ æ—¶ï¼Œä¸ä»…è¦è€ƒè™‘è®¾å¤‡çš„è‡ªç„¶å¯¿å‘½ï¼Œè¿˜è¦è€ƒå¯ŸæŠ€æœ¯å¯¿å‘½å’Œç»æµå¯¿å‘½ã€‚ å¯¹ 47åˆ¤æ–­(2åˆ†) ä»ä»·å€¼å½¢æ€ä¸Šçœ‹ï¼Œæ— è®ºæ˜¯æœ‰å½¢ç£¨æŸè¿˜æ˜¯æ— å½¢ç£¨æŸéƒ½ä¼šå¼•èµ·è®¾å¤‡ä»·å€¼çš„é™ä½ï¼Œå› æ­¤æˆ‘ä»¬è¦é‡‡å–æªæ–½å°½é‡å‡å°‘å„ç§ç±»å‹çš„è®¾å¤‡ç£¨æŸã€‚ é”™ 48åˆ¤æ–­(2åˆ†) å…³ç³»è¥é”€å°±æ˜¯åˆ©ç”¨äº²å±å…³ç³»ä»¥åŠæœ‹å‹å…³ç³»æ¥å¼€å±•è¥é”€æ´»åŠ¨ã€‚ é”™ 49åˆ¤æ–­(2åˆ†) åœ¨ç›®æ ‡å¸‚åœºä¸­é‡‡ç”¨æ— å·®å¼‚çš„å¸‚åœºè¥é”€ç­–ç•¥å†æ¥éƒ½ä¸æ˜¯ä¸€ç§æ˜æ™ºçš„é€‰æ‹©ã€‚ é”™ 50åˆ¤æ–­(2åˆ†) æ‹›å¾•å®šä»·æ˜¯ä¸€ç§åˆ©ç”¨é¡¾å®¢å¿ƒç†å› ç´ æ¥è¿›è¡Œå®šä»·çš„ç­–ç•¥ã€‚ å¯¹ é™„ï¼š è®°ä¸ªæ­£åˆ™æ›¿æ¢ï¼Œæœ¬æ˜¯å¼ºå“¥æ¯é¢˜copyåˆ°wordé‡Œçš„ï¼Œåæ¥é€šè¿‡æ­£åˆ™è§„èŒƒäº†ä¸‹æ ¼å¼ å¤åˆ¶ç»“æœï¼š /1. int[][] a=new int[2][3]ï¼Œåˆ™è¯¥æ•°ç»„åŒ…å«ï¼ˆ ï¼‰ä¸ªæ•°ç»„å…ƒç´ ã€‚ A.2 B.3 C.6 D.ä¸ç¡®å®š æ­£ç¡®ç­”æ¡ˆæ˜¯: C /2. å·²çŸ¥ç±»personæ˜¯ç±»studentçš„çˆ¶ç±»ï¼Œä»¥ä¸‹æ•°ç»„å®šä¹‰å’Œèµ‹å€¼æ­£ç¡®çš„æ˜¯( )ã€‚ A.person p[]=new person[3]; p[1]=new student(); B.student s[]=new person[3]; s[1]=new person(); C.person p[]= new student[3];p[1]= new person(); D.student s[]=new student[3];s[1]=new person; æ­£ç¡®ç­”æ¡ˆæ˜¯: A æŸ¥æ‰¾(/d.)æ›¿æ¢ä¸º/n - /1 æ•ˆæœå¦‚ä¸‹: int[][] a=new int[2][3]ï¼Œåˆ™è¯¥æ•°ç»„åŒ…å«ï¼ˆ ï¼‰ä¸ªæ•°ç»„å…ƒç´ ã€‚ A.2 B.3 C.6 D.ä¸ç¡®å®š æ­£ç¡®ç­”æ¡ˆæ˜¯: C å·²çŸ¥ç±»personæ˜¯ç±»studentçš„çˆ¶ç±»ï¼Œä»¥ä¸‹æ•°ç»„å®šä¹‰å’Œèµ‹å€¼æ­£ç¡®çš„æ˜¯( )ã€‚ A.person p[]=new person[3]; p[1]=new student(); B.student s[]=new person[3]; s[1]=new person(); C.person p[]= new student[3];p[1]= new person(); D.student s[]=new student[3];s[1]=new person; æ­£ç¡®ç­”æ¡ˆæ˜¯: A","categories":[],"tags":[{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"},{"name":"å­¦ä¸š","slug":"å­¦ä¸š","permalink":"https://nymrli.top/tags/å­¦ä¸š/"}]},{"title":"Let's Encryptå®‰è£…é…ç½®nginxçš„SSLè¯ä¹¦æ•™ç¨‹","slug":"Let-s-Encryptå®‰è£…é…ç½®SSLè¯ä¹¦æ•™ç¨‹","date":"2019-08-22T12:34:04.000Z","updated":"2019-09-15T08:07:30.956Z","comments":true,"path":"2019/08/22/Let-s-Encryptå®‰è£…é…ç½®SSLè¯ä¹¦æ•™ç¨‹/","link":"","permalink":"https://nymrli.top/2019/08/22/Let-s-Encryptå®‰è£…é…ç½®SSLè¯ä¹¦æ•™ç¨‹/","excerpt":"","text":"Letâ€™s Encrypt å®‰è£…é…ç½®nginxçš„SSLè¯ä¹¦æ•™ç¨‹ ä½¿ç”¨cerbotç”Ÿæˆè¯ä¹¦ å®‰è£…Letâ€™s Encrypt å®‰è£…éå¸¸ç®€å•ç›´æ¥å…‹éš†å°±å¯ä»¥äº† 1git clone https://github.com/letsencrypt/letsencrypt å¦‚æœç½‘é€Ÿè¾ƒæ…¢ï¼ˆå›½å¤–æœåŠ¡å™¨åº”è¯¥å¿«ç‚¹ï¼‰ 1.å¯ä»¥ç™»å½•https://github.com/letsencrypt/letsencryptï¼Œä¸‹è½½åé€šè¿‡lrzszä¼ åˆ°äº‘æœåŠ¡å™¨ä¸Šï¼Œå†è§£å‹ 2.ä¿®æ”¹hosts æŸ¥æ‰¾åŸŸåå¯¹åº”çš„ipåœ°å€ï¼Œå¹¶ä¿®æ”¹hostsæ–‡ä»¶ 123456789101112131415linuxidc@linuxidc:~/linuxidc.com$ nslookup github.global.ssl.fastly.NetServer: 127.0.0.53Address: 127.0.0.53#53Non-authoritative answer:Name: github.global.ssl.fastly.NetAddress: 151.101.229.194linuxidc@linuxidc:~/linuxidc.com$ nslookup github.comServer: 127.0.0.53Address: 127.0.0.53#53Non-authoritative answer:Name: github.comAddress: 13.229.188.59 ç„¶åä¿®æ”¹hostsæ–‡ä»¶ sudo vim /etc/hosts åœ¨hostsæ–‡ä»¶æœ«å°¾æ·»åŠ ä¸¤è¡Œ 12github.com 13.229.188.59github.global.ssl.fastly.Net 151.101.229.194 åˆ·æ–°DNSç¼“å­˜ sudo /etc/init.d/networking restart ä½¿ç”¨cerbot: 123cd letsencrypt# æ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´ä»£ç ./certbot-auto certonly --standalone --email admin@example.com -d example.c æˆåŠŸæç¤º 12345678910IMPORTANT NOTES:Congratulations! Your certificate and chain have been saved at: /etc/letsencrypt/live/sast.nymrli.top/fullchain.pem Your key file has been saved at: /etc/letsencrypt/live/sast.nymrli.top/privkey.pem Your cert will expire on 2019-02-08. To obtain a new or tweaked version of this certificate in the future, simply run certbot-auto again. To non-interactively renew *all* of your certificates, run &quot;certbot-auto renew&quot; - If you like Certbot, please consider supporting our work by: é…ç½®Nginx: server ä¸å†ç›‘å¬80ç«¯å£ï¼Œå› ä¸ºTLSè¦ä½¿ç”¨çš„æ˜¯443ç«¯å£ï¼Œç„¶åå¼•å…¥è¯ä¹¦å’Œkey 123456789101112131415161718server &#123; listen 443 ssl; server_name 127.0.0.1; charset utf-8; client_max_body_size 75M; location /static&#123; alias /home/mrli/Python_project/QQoauth_remote/static; &#125; location / &#123; include uwsgi_params; uwsgi_pass 127.0.0.1:81; uwsgi_param UWSGI_SCRIPT app:app; # å¯åŠ¨flaskçš„æ–‡ä»¶:Flaskçš„å®ä¾‹ &#125; ssl_certificate /etc/letsencrypt/live/test.nymrli.top/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/test.nymrli.top/privkey.pem; #å‰é¢ç”Ÿæˆçš„è¯ä¹¦ï¼Œæ”¹ä¸€ä¸‹é‡Œé¢çš„åŸŸåå°±è¡Œï¼Œä¸å»ºè®®æ›´æ¢è·¯å¾„&#125; é‡å¯Nginxï¼š 1sudo service nginx restart ä½¿ç”¨acme.sh ä¸‹è½½acme 123git clone https://github.com/Neilpang/acme.sh.gitcd acme.sh./acme.sh --install æç¤ºä¿¡æ¯ 1234567891011[Thu Aug 22 19:58:00 CST 2019] It is recommended to install socat first.[Thu Aug 22 19:58:00 CST 2019] We use socat for standalone server if you use standalone mode.[Thu Aug 22 19:58:00 CST 2019] If you don&apos;t use standalone mode, just ignore this warning.[Thu Aug 22 19:58:00 CST 2019] Installing to /home/mrli/.acme.sh[Thu Aug 22 19:58:00 CST 2019] Installed to /home/mrli/.acme.sh/acme.sh[Thu Aug 22 19:58:00 CST 2019] Installing alias to &apos;/home/mrli/.bashrc&apos;[Thu Aug 22 19:58:00 CST 2019] OK, Close and reopen your terminal to start using acme.sh[Thu Aug 22 19:58:00 CST 2019] Installing cron job1 0 * * * &quot;/home/mrli/.acme.sh&quot;/acme.sh --cron --home &quot;/home/mrli/.acme.sh&quot; &gt; /dev/null[Thu Aug 22 19:58:00 CST 2019] Good, bash is found, so change the shebang to use bash as preferred.[Thu Aug 22 19:58:01 CST 2019] OK ç”Ÿæˆè¯ä¹¦ 123export Ali_Key=\"xxxx\"export Ali_Secret=\"yyyy\"acme.sh --issue --dns dns_ali -d nymrli.top -d *.nymrli.top æ³¨ï¼šè¿™è¾¹çš„Keyå’Œsecretéœ€è¦æ‰¾åˆ°ä½ çš„é˜¿é‡Œäº‘APIå¯†é’¥ï¼ŒAcesskey ![accesskeys](C:/Users/10630/Documents/Letâ€™s Encrypt å®‰è£…é…ç½® SSL è¯ä¹¦æ•™ç¨‹/accesskeys.png) è¾“å‡ºä¿¡æ¯** 12345678910111213141516171819202122232425262728293031323334353637383940[Thu Aug 22 20:01:53 CST 2019] Create account key ok.[Thu Aug 22 20:01:53 CST 2019] Registering account[Thu Aug 22 20:01:55 CST 2019] Registered[Thu Aug 22 20:01:55 CST 2019] ACCOUNT_THUMBPRINT='YljrV0ThIsQxXtfdxksrd91g1fWvM9Btn9Dazt8OWyo'[Thu Aug 22 20:01:55 CST 2019] Creating domain key[Thu Aug 22 20:01:55 CST 2019] The domain key is here: /home/mrli/.acme.sh/nymrli.top/nymrli.top.key[Thu Aug 22 20:01:55 CST 2019] Multi domain='DNS:nymrli.top,DNS:*.nymrli.top'[Thu Aug 22 20:01:55 CST 2019] Getting domain auth token for each domain[Thu Aug 22 20:01:56 CST 2019] Getting webroot for domain='nymrli.top'[Thu Aug 22 20:01:56 CST 2019] Getting webroot for domain='*.nymrli.top'[Thu Aug 22 20:01:57 CST 2019] Adding txt value: NyNt2AxJ3OmW8s_wVn2C3CNN9_yT1o_v2o0MhmdUoTs for domain: _acme-challenge.nymrli.top[Thu Aug 22 20:01:59 CST 2019] The txt record is added: Success.[Thu Aug 22 20:01:59 CST 2019] Adding txt value: ADqtxSTlQ0DH7jHZzlP9UZB0dT9U2oVYSk_zTabYN3w for domain: _acme-challenge.nymrli.top[Thu Aug 22 20:02:01 CST 2019] The txt record is added: Success.[Thu Aug 22 20:02:01 CST 2019] Let's check each dns records now. Sleep 20 seconds first.[Thu Aug 22 20:02:22 CST 2019] Checking nymrli.top for _acme-challenge.nymrli.top[Thu Aug 22 20:02:24 CST 2019] Domain nymrli.top '_acme-challenge.nymrli.top' success.[Thu Aug 22 20:02:24 CST 2019] Checking nymrli.top for _acme-challenge.nymrli.top[Thu Aug 22 20:02:25 CST 2019] Domain nymrli.top '_acme-challenge.nymrli.top' success.[Thu Aug 22 20:02:25 CST 2019] All success, let's return[Thu Aug 22 20:02:25 CST 2019] Verifying: nymrli.top[Thu Aug 22 20:02:28 CST 2019] Success[Thu Aug 22 20:02:28 CST 2019] Verifying: *.nymrli.top[Thu Aug 22 20:02:31 CST 2019] Success[Thu Aug 22 20:02:31 CST 2019] Removing DNS records.[Thu Aug 22 20:02:31 CST 2019] Removing txt: NyNt2AxJ3OmW8s_wVn2C3CNN9_yT1o_v2o0MhmdUoTs for domain: _acme-challenge.nymrli.top[Thu Aug 22 20:02:34 CST 2019] Removed: Success[Thu Aug 22 20:02:34 CST 2019] Removing txt: ADqtxSTlQ0DH7jHZzlP9UZB0dT9U2oVYSk_zTabYN3w for domain: _acme-challenge.nymrli.top[Thu Aug 22 20:02:38 CST 2019] Removed: Success[Thu Aug 22 20:02:38 CST 2019] Verify finished, start to sign.[Thu Aug 22 20:02:38 CST 2019] Lets finalize the order, Le_OrderFinalize: https://acme-v02.api.letsencrypt.org/acme/finalize/64001779/941369076[Thu Aug 22 20:02:40 CST 2019] Download cert, Le_LinkCert: https://acme-v02.api.letsencrypt.org/acme/cert/034f6880d75703381da6f5efedb159772580[Thu Aug 22 20:02:40 CST 2019] Cert success.-----BEGIN CERTIFICATE-----xxxxx-----END CERTIFICATE-----[Thu Aug 22 20:02:40 CST 2019] Your cert is in /home/mrli/.acme.sh/nymrli.top/nymrli.top.cer [Thu Aug 22 20:02:40 CST 2019] Your cert key is in /home/mrli/.acme.sh/nymrli.top/nymrli.top.key [Thu Aug 22 20:02:40 CST 2019] The intermediate CA cert is in /home/mrli/.acme.sh/nymrli.top/ca.cer [Thu Aug 22 20:02:40 CST 2019] And the full chain certs is there: /home/mrli/.acme.sh/nymrli.top/fullchain.cer nginxé…ç½®æ–‡ä»¶å†…å®¹ 123456789101112131415161718server &#123; listen 443 ssl; server_name 127.0.0.1; charset utf-8; client_max_body_size 75M; location /static&#123; alias /home/mrli/Python_project/QQoauth_remote/static; &#125; location / &#123; include uwsgi_params; uwsgi_pass 127.0.0.1:81; uwsgi_param UWSGI_SCRIPT app:app; # å¯åŠ¨flaskçš„æ–‡ä»¶:Flaskçš„å®ä¾‹ &#125; ssl_certificate /home/mrli/.acme.sh/nymrli.top/fullchain.cer; ssl_certificate_key /home/mrli/.acme.sh/nymrli.top/nymrli.top.key; #å‰é¢ç”Ÿæˆçš„è¯ä¹¦ï¼Œæ”¹ä¸€ä¸‹é‡Œé¢çš„åŸŸåå°±è¡Œï¼Œä¸å»ºè®®æ›´æ¢è·¯å¾„&#125; é˜¿é‡Œäº‘å…è´¹SSLè¯ä¹¦symantec ä»äº‘ç›¾è¯ä¹¦æœåŠ¡(åŒ…å¹´)ä¸­é€‰æ‹©å…è´¹çš„symantecç”Ÿæˆåï¼ŒæŒ‰ä¸‹è½½ï¼Œé€‰æ‹©nginxè¯ä¹¦ æ–‡ä»¶å†…å®¹å¦‚ä¸‹ æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶æ”¾åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸­ï¼Œå¦‚æœæ˜¯linuxç³»ç»Ÿï¼Œæ¨èæ”¾åˆ°/etc/ssl/ç›®å½•ä¸‹ ç¤ºä¾‹ï¼šnginxèŠ‚ç‚¹é…ç½® 1234567891011121314151617181920212223242526272829http&#123; #httpèŠ‚ç‚¹ä¸­å¯ä»¥æ·»åŠ å¤šä¸ªserverèŠ‚ç‚¹ server&#123; #ç›‘å¬443ç«¯å£ listen 443; #å¯¹åº”çš„åŸŸåï¼ŒæŠŠtest.nymrli.topæ”¹æˆä½ ä»¬è‡ªå·±çš„åŸŸåå°±å¯ä»¥äº† server_name test.nymrli.top; ssl on; #ä»è…¾è®¯äº‘è·å–åˆ°çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„å…¨è·¯å¾„ ssl_certificate /etc/ssl/1474527_www.nymrli.top.pem; #ä»è…¾è®¯äº‘è·å–åˆ°çš„ç¬¬äºŒä¸ªæ–‡ä»¶çš„å…¨è·¯å¾„ ssl_certificate_key /etc/ssl/1474527_www.nymrli.top.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; ssl_prefer_server_ciphers on; #è¿™æ˜¯æˆ‘çš„ä¸»é¡µè®¿é—®åœ°å€ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯é™æ€çš„htmlç½‘é¡µï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨locationå°±å¯ä»¥å®Œæˆäº†ã€‚ location / &#123; #æ–‡ä»¶å¤¹ root /usr/local/service/ROOT; #ä¸»é¡µæ–‡ä»¶ index index.html; &#125; &#125;&#125; â–².crtã€pemã€keyéƒ½æ˜¯è¯ä¹¦æ–‡ä»¶ é—®é¢˜è§£å†³: 1Problem binding to port 80: Could not bind to IPv4 or IPv6. åŸå› æ˜¯ nginx å ç”¨äº†80ç«¯å£ï¼Œè¾“å…¥service nginx stopã€‚ç„¶åå†æ¬¡æ‰§è¡Œè¯ä¹¦å®‰è£…å‘½ä»¤ï¼Œå³å¯é¡ºåˆ©å®‰è£…ã€‚å®‰è£…å®Œæ¯•åï¼Œè¾“å…¥service nginx startï¼Œé‡å¯ nginx æœåŠ¡ã€‚ 2.é‡å¯nginxå¤±è´¥=&gt;confé…ç½®æœ‰é—®é¢˜ 12See &quot;systemctl status nginx.service&quot; and &quot;journalctl -xe&quot; for details. failed! A:.confæ–‡ä»¶çš„æ³¨é‡Šæ˜¯#è€Œä¸æ˜¯//","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"}]},{"title":"æ—¶é—´åºåˆ—æ¦‚å¿µåŠä¸»è¦æ¨¡å‹","slug":"æ—¶é—´åºåˆ—æ¦‚å¿µåŠä¸»è¦æ¨¡å‹","date":"2019-07-29T11:05:18.000Z","updated":"2019-09-15T08:07:31.076Z","comments":true,"path":"2019/07/29/æ—¶é—´åºåˆ—æ¦‚å¿µåŠä¸»è¦æ¨¡å‹/","link":"","permalink":"https://nymrli.top/2019/07/29/æ—¶é—´åºåˆ—æ¦‚å¿µåŠä¸»è¦æ¨¡å‹/","excerpt":"","text":"æ—¶é—´åºåˆ—æ¦‚å¿µåŠä¸»è¦æ¨¡å‹ Q:ä»€ä¹ˆæ˜¯æ—¶é—´åºåˆ—åˆ†æ? A:æ—¶é—´åºåˆ—æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºï¼ŒæŒ‰ç…§ä¸€å®šæ—¶é—´é—´éš”å–å¾—çš„ä¸€ç³»åˆ—è§‚æµ‹å€¼ Q:æ€æ ·åšæ—¶é—´åºåˆ—åˆ†æ? A:æ—¶é—´åºåˆ—åˆ†æå°è¯•æ‰¾å‡ºåºåˆ—å€¼åœ¨è¿‡å»å‘ˆç°çš„ç‰¹å¾æ¨¡å¼ï¼Œå‡å®šè¿™ç§æ¨¡å¼åœ¨æœªæ¥èƒ½å¤ŸæŒç»­ï¼Œè¿›è€Œå¯¹æœªæ¥è¿›è¡Œé¢„æµ‹ æ—¶é—´åºåˆ—ä¸‰å¤§ç‰¹å¾ åºåˆ—ç›¸å…³æ€§ï¼šå½“æœŸçš„åºåˆ—å€¼å’Œå‰æœŸæŸä¸ªæˆ–æŸäº›åºåˆ—å€¼çº¿æ€§ç›¸å…³ âˆš è‡ªç›¸å…³ç³»æ•°ï¼ˆå…¨ç›¸å…³ç³»æ•°ï¼‰ï¼ˆACFï¼‰ï¼šç”¨æ¥åº¦é‡åŒä¸€äº‹ä»¶åœ¨ä¸åŒæ—¶æœŸä¹‹é—´çš„ç›¸å…³ç¨‹åº¦ã€‚Ïh=r(h)r(0)\\rho_{h}=\\frac{r(h)}{r(0)}Ïhâ€‹=r(0)r(h)â€‹ï¼Œå…¶ä¸­rï¼ˆhï¼‰ä¸ºhæœŸåæ–¹å·®å‡½æ•°ï¼Œrï¼ˆ0ï¼‰ä¸ºæ–¹å·® âˆš åè‡ªç›¸å…³ç³»æ•°ï¼ˆPACFï¼‰ï¼šåº¦é‡å»é™¤ä¸­é—´å˜é‡å½±å“åçš„ç›¸å…³ç¨‹åº¦ã€‚XtX_{t}Xtâ€‹å’ŒXtâˆ’2X_{t-2}Xtâˆ’2â€‹é€šè¿‡Xtâˆ’1X_{t-1}Xtâˆ’1â€‹äº§ç”Ÿå…³è”ï¼ŒPACFå³ä¸ºå»é™¤Xtâˆ’1X_{t- 1}Xtâˆ’1â€‹çš„å…³è”åä¸¤è€…çš„ç›¸å…³ç¨‹åº¦ è¶‹åŠ¿æ€§ï¼šåºåˆ—æ•´ä½“ä¸Šå‘ˆç°å•è°ƒæ€§ï¼Œå¦‚å¹³ç¨³ï¼Œä¸Šæ¶¨æˆ–ä¸‹è·Œ ARMAæ¨¡å‹æ˜¯å¹³ç¨³çš„æ—¶é—´åºåˆ—æ¨¡å‹ï¼Œåœ¨å»ºæ¨¡å‰å¿…é¡»å»é™¤è¶‹åŠ¿æ€§ éšæœºæ€§ï¼šåºåˆ—åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‘ˆç°ä¸ç¡®å®šæ€§ æ¨¡å‹å¹¶ä¸èƒ½å¤Ÿæ•æ‰åˆ°ç°å®ä¸–ç•Œä¸­çš„æ‰€æœ‰ç‰¹å¾ï¼Œæ€»æœ‰ä¸€äº›å™ªå£°çš„å­˜åœ¨ï¼Œè¿™äº›å™ªå£°å«åšç™½å™ªå£° æ—¶é—´åºåˆ—æ¨¡å‹é¢„æµ‹æ–¹æ³•ï¼š ç®—æœ¯å¹³å‡æ³•ï¼Œç§»åŠ¨å¹³å‡æ³•ï¼ŒåŠ æƒç§»åŠ¨å¹³å‡æ³•ï¼ŒæŒ‡æ•°å¹³æ»‘æ³•ï¼Œè‡ªå›å½’æ³•å’Œç§»åŠ¨å¹³å‡æ³•ï¼ˆARIMAï¼‰ ç®—æ•°å¹³å‡æ³•ï¼šå¯¹æ—¶é—´åºåˆ—çš„è¿‡å»æ•°æ®è¿›è¡Œç®€å•å¹³å‡æ¥è¿›è¡Œé¢„æµ‹ ç§»åŠ¨å¹³å‡æ³•(ARIMA)ï¼šä¸è€ƒè™‘è¿œæœŸçš„æ•°æ®ï¼Œä»…è€ƒè™‘è¿‘æœŸæ•°æ®äº§ç”Ÿçš„å½±å“ã€‚ åŠ æƒç§»åŠ¨å¹³å‡æ³•ï¼šç»™äºˆè¿‘æœŸæ•°æ®è¾ƒå¤§çš„æƒé‡ï¼Œè¿œæœŸæ•°æ®è¾ƒå°çš„æƒé‡ æŒ‡æ•°å¹³æ»‘æ³•ï¼šç»™äºˆè¿‘æœŸæ•°æ®è¾ƒå¤§çš„æƒé‡ï¼Œè¿œæœŸæ•°æ®è¾ƒå°çš„æƒé‡ï¼Œä½†æ˜¯æƒé‡ä»¥æŒ‡ æ•°çš„å½¢å¼é€‚å‡ è‡ªå›å½’æ³•å’Œç§»åŠ¨å¹³å‡æ³•ï¼ˆARIMAï¼‰:å…ˆå¯¹æ•°æ®åšäº†å·®åˆ†ï¼Œä¹‹åå†ä½¿ç”¨è‡ªå›å½’æ»‘åŠ¨å¹³å‡æ¨¡å‹[^ARMA]æ¨¡å‹ã€‚ä¼˜ç‚¹ä¿¡æ¯æµªè´¹æœ€å°‘ï¼Œé›†è¶‹åŠ¿æ€§ï¼Œç›¸å…³æ€§å’Œéšæœºæ€§äºä¸€èº« åŸºæœ¬æ¦‚å¿µ Tæ—¶åˆ»çš„æ—¶é—´åºåˆ—å€¼è¡¨ç¤ºä¸ºXtX_tXtâ€‹,T-1æ—¶åˆ»çš„åºåˆ—å€¼è¡¨è¿°ä¸ºXtâˆ’1X_{t-1}Xtâˆ’1â€‹æˆ–è€…X[tâˆ’1]X[t-1]X[tâˆ’1] ä¸€ä¸ªæ—¶é—´åºåˆ—å¯ä»¥è¡¨è¿°ä¸ºï¼š{Xtâˆ£t=1,2,3â€¦n}\\left\\{X_{t} | t=1,2,3 \\dots n\\right\\}{Xtâ€‹âˆ£t=1,2,3â€¦n} æ»åç®—å­BX,=Xtâˆ’1B X,=X_{t-1}BX,=Xtâˆ’1â€‹ æ—¶é—´åºåˆ—çš„å·®åˆ†:Xtâˆ’Xtâˆ’1X_{t}-X_{t-1}Xtâ€‹âˆ’Xtâˆ’1â€‹æˆ–è€…X[t]âˆ’X[tâˆ’1]X[t]-X[t-1]X[t]âˆ’X[tâˆ’1] ä¸€é˜¶å·®åˆ†ï¼šXtâˆ’Xtâˆ’1=Xtâˆ’BXt=(1âˆ’B)XtX_{t}-X_{t-1}=X_{t}-B X_{t}=(1-B) X_{t}Xtâ€‹âˆ’Xtâˆ’1â€‹=Xtâ€‹âˆ’BXtâ€‹=(1âˆ’B)Xtâ€‹ äºŒé˜¶å·®åˆ†ï¼šâˆ‡(âˆ‡Xt)=âˆ‡Xtâˆ’âˆ‡Xrâˆ’1=(Xtâˆ’Xtâˆ’1)âˆ’(Xtâˆ’1âˆ’Xtâˆ’2)=Xtâˆ’2Xtâˆ’1+Xtâˆ’2=(1âˆ’B)2Xt\\nabla\\left(\\nabla X_{t}\\right)=\\nabla X_{t}-\\nabla X_{r-1}=\\left(X_{t}-X_{t-1}\\right)-\\left(X_{t-1}-X_{t-2}\\right)=X_{t}-2 X_{t-1}+X_{t-2}=(1-B)^{2} X_{t}âˆ‡(âˆ‡Xtâ€‹)=âˆ‡Xtâ€‹âˆ’âˆ‡Xrâˆ’1â€‹=(Xtâ€‹âˆ’Xtâˆ’1â€‹)âˆ’(Xtâˆ’1â€‹âˆ’Xtâˆ’2â€‹)=Xtâ€‹âˆ’2Xtâˆ’1â€‹+Xtâˆ’2â€‹=(1âˆ’B)2Xtâ€‹ kæ­¥å·®åˆ†ï¼šXtâˆ’Xtâˆ’k=Xtâˆ’BkXt=(1âˆ’Bk)XtX_{t}-X_{t-k}=X_{t}-B^{k} X_{t}=\\left(1-B^{k}\\right) X_{t}Xtâ€‹âˆ’Xtâˆ’kâ€‹=Xtâ€‹âˆ’BkXtâ€‹=(1âˆ’Bk)Xtâ€‹ æ€è€ƒï¼š 1.ä¸‰é˜¶å·®åˆ†å¦‚ä½•è¡¨è¾¾ï¼Ÿ3æ­¥å·®åˆ†å¦‚ä½•è¡¨è¾¾ï¼Ÿ 2.ä¸ºä»€ä¹ˆè¦è¿›è¡Œä¸€é˜¶å·®åˆ†ï¼ŸäºŒé˜¶å·®åˆ†ï¼Ÿ 3.ä¸ºä»€ä¹ˆè¦è¿›è¡Œkæ­¥å·®åˆ†ï¼Ÿ 4.é˜¶æ¬¡å·®åˆ†ä¸æ­¥é•¿å·®åˆ†çš„åŒºåˆ«ï¼Ÿ æ—¶é—´åºåˆ—åˆ†ç±» Q:ä»€ä¹ˆæ˜¯åºåˆ—å¹³ç¨³ï¼Ÿ A: 1.E(Xt)=Î¼E\\left(X_{t}\\right)=\\muE(Xtâ€‹)=Î¼ï¼Œå¯¹äºæ‰€æœ‰tè€Œè¨€ï¼Œåºåˆ—çš„æœŸæœ›ä¸ºä¸€å¸¸æ•°ï¼Œè§å›¾ä¸€ 2.Varâ¡(Xt)=Ïƒ\\operatorname{Var}\\left(X_{t}\\right)=\\sigmaVar(Xtâ€‹)=Ïƒï¼Œå¯¹äºæ‰€æœ‰tï¼Œåºåˆ—æ–¹å·®ä¸ºä¸€å¸¸æ•°ï¼Œè§å›¾äºŒ 3.r(h)=Covâ¡(Xt,Xtâˆ’l)r(h)=\\operatorname{Cov}\\left(X_{t}, X_{t-l}\\right)r(h)=Cov(Xtâ€‹,Xtâˆ’lâ€‹)å¯¹äºæ‰€æœ‰tä»¥åŠhã€‰0ï¼Œåºåˆ—çš„åæ–¹å·®ä¸ºæ˜¯ç”±hå”¯ä¸€å†³å®šçš„å‡½æ•°ï¼Œå³hé˜¶çš„ç›¸å…³æ€§åªä¸hæœ‰å…³ï¼Œä¸æ—¶åˆ»tæ— å…³ï¼Œå¦‚ï¼š{Xn,Xn+1,Xn+2,â€¦,Xn},{X1,X2,X3,â€¦,Xn+1âˆ’n]\\left\\{X_{n}, X_{n+1}, X_{n+2}, \\ldots, X_{n}\\right\\},\\left\\{X_{1}, X_{2}, X_{3}, \\ldots, X_{n+1}-n\\right]{Xnâ€‹,Xn+1â€‹,Xn+2â€‹,â€¦,Xnâ€‹},{X1â€‹,X2â€‹,X3â€‹,â€¦,Xn+1â€‹âˆ’n]ä¸{Xh+5,Xh+6,Xh+7,â€¦,Xn+5},{X6,X7,X8,â€¦,Xn+6âˆ’h}\\left\\{X_{h+5}, X_{h+6}, X_{h+7}, \\ldots, X_{n+5}\\right\\},\\left\\{X_{6}, X_{7}, X_{8}, \\ldots, X_{n+6-h}\\right\\}{Xh+5â€‹,Xh+6â€‹,Xh+7â€‹,â€¦,Xn+5â€‹},{X6â€‹,X7â€‹,X8â€‹,â€¦,Xn+6âˆ’hâ€‹}çš„ç›¸å…³æ€§ä¸€è‡´ æ ¹æ®åºåˆ—æ˜¯å¦å¹³ç¨³ï¼Œæ—¶é—´åºåˆ—å¯ä»¥åˆ†ä¸ºï¼š å¹³ç¨³åºåˆ—ï¼šç™½å™ªå£°åºåˆ—ã€ARï¼ˆpï¼‰åºåˆ—ï¼ŒMAï¼ˆaï¼‰åºåˆ—ï¼ŒARWAï¼ˆp.gï¼‰åºåˆ— éå¹³ç¨³åºåˆ—ï¼šARlMAï¼ˆP.d.gï¼‰åºåˆ— å¹³ç¨³æ¡ä»¶: 1.E(xt)=Î¼E\\left(x_{t}\\right)=\\muE(xtâ€‹)=Î¼åºåˆ—çš„å‡å€¼åº”è¯¥æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œè€Œä¸æ˜¯éšæ—¶é—´å˜åŒ–çš„å‡½æ•°ã€‚ä¸‹å›¾ä¸­å·¦å›¾æ»¡è¶³è¦æ±‚ï¼Œè€Œå³å›¾çš„å‡å€¼æ˜¯éšæ—¶é—´è€Œå˜åŒ–çš„ã€‚ 2.Varâ¡(Xt)=Ïƒ\\operatorname{Var}\\left(X_{t}\\right)=\\sigmaVar(Xtâ€‹)=Ïƒ,åºåˆ—çš„æ–¹å·®ä¸ºä¸€ä¸ªå¸¸æ•°ï¼Œè€Œä¸éšæ—¶é—´çš„å˜åŒ– 3.Covâ¡(yt,yt+k)=y0\\operatorname{Cov}(y t, y t+k)=y 0Cov(yt,yt+k)=y0,k,åºåˆ—åæ–¹å·®çš„å€¼åªä¸æ—¶é—´é—´éš”kæœ‰å…³ï¼Œä¸æ—¶é—´tæ— å…³ ç™½å™ªå£°åºåˆ— (é«˜æ–¯)ç™½å™ªå£°æ¨¡å‹:Xt=etâˆ£etâˆ¼WN(0,Ïƒ2)X_{t}=\\mathrm{e}_{\\mathrm{t}} | \\mathrm{e}_{\\mathrm{t}} \\sim \\mathrm{WN}\\left(0, \\sigma^{2}\\right)Xtâ€‹=etâ€‹âˆ£etâ€‹âˆ¼WN(0,Ïƒ2) (é«˜æ–¯)ç™½å™ªå£°å°±æ˜¯ä¸€ç³»åˆ—ç‹¬ç«‹åˆ†å¸ƒçš„æ­£æ€åºåˆ—ï¼š åºåˆ—ç›¸å…³æ€§ï¼šæ—  è¶‹åŠ¿æ€§ï¼šæ—  éšæœºæ€§ï¼šæ˜¯ ç™½å™ªå£°çš„æ¯ä¸€ä¸ªæ—¶åºç‚¹éƒ½æ˜¯æœä»æ­£æ€åˆ†å¸ƒçš„ åºåˆ—æ— è§„å¾‹å¯å¾ªï¼Œåœ¨å‡å€¼å¤„åå¤éœ‡è¡ 1234567891011clear,clc;N=0:1000;fs=1024;t=N./fs;y=3*sin(2*pi*t);x=wgn(1,1001,2); % wgnäº§ç”Ÿé«˜æ–¯ç™½å™ªå£°i=y+x; % ç»™åŸæœ‰ä¿¡å·yå åŠ é«˜æ–¯ç™½å™ªå£°%i=awgn(y,2); % awgnåœ¨ä¿¡å·yä¸­åŠ å…¥é«˜æ–¯ç™½å™ªå£°ã€‚subplot(3,1,1),plot(x);subplot(3,1,2),plot(y);subplot(3,1,3),plot(i); è‡ªå›å½’æ¨¡å‹AR â–²ARÂ§: Xt=Î²1Xtâˆ’1+Î²2Xtâˆ’2+â€¦+Î²pXtâˆ’p+etetâˆ¼WN(0,Ïƒ2)X_{t} = \\beta_{1}X_{t-1}+\\beta_{2} X_{t-2}+\\ldots+\\beta_{p} X_{t-p}+\\mathrm{e}_{t} \\quad \\mathrm{e}_{t} \\sim \\mathrm{WN}\\left(0, \\sigma^{2}\\right)Xtâ€‹=Î²1â€‹Xtâˆ’1â€‹+Î²2â€‹Xtâˆ’2â€‹+â€¦+Î²pâ€‹Xtâˆ’pâ€‹+etâ€‹etâ€‹âˆ¼WN(0,Ïƒ2) å½“å‰æ—¶åˆ»çš„æ—¶åºå€¼å¯ç”±å…¶è¿‡å»å€¼çš„çº¿æ€§ç»„åˆåŠ ä¸Šä¸€ä¸ªç™½å™ªå£° å»ºæ¨¡çš„ç›®çš„å°±æ˜¯è¦ææ¸…è¿‡å»å‡ æœŸçš„å†å²å€¼ä¼šå½±å“å½“å‰å€¼ æ¨¡å‹ç‰¹å¾ï¼š è¶‹åŠ¿æ€§ï¼šæ—  ç›¸å…³æ€§ï¼šæœ‰ éšæœºæ€§ï¼šæœ‰ â–²ARï¼ˆ1ï¼‰æ¨¡å‹: Xt=Î²1Xtâˆ’1+etX_{t}=\\beta_{1} X_{t-1}+e_{t}Xtâ€‹=Î²1â€‹Xtâˆ’1â€‹+etâ€‹ ä¸€é˜¶è‡ªå›å½’æ¨¡å‹æ˜¯æœ€ç®€å•çš„è‡ªå›å½’æ¨¡å‹ è¯¥æ¨¡å‹åœ¨t+1æ—¶çš„æƒ…å½¢:Xt+1=Î²âŠ¥Xt+et+1X_{t+1}=\\beta_{\\perp} X_{t}+e_{t+1}Xt+1â€‹=Î²âŠ¥â€‹Xtâ€‹+et+1â€‹ è‡ªç›¸å…³ç³»æ•°ï¼šÏ1=Î²1,Ï2=Î²12,â€¦,Ïk=Î²1k,kâ‰¥3\\rho_{1}=\\beta_{1}, \\rho_{2}=\\beta_{1}^{2}, \\ldots, \\rho_{k}=\\beta_{1}^{k}, \\mathrm{k} \\geq 3Ï1â€‹=Î²1â€‹,Ï2â€‹=Î²12â€‹,â€¦,Ïkâ€‹=Î²1kâ€‹,kâ‰¥3 åè‡ªç›¸å…³ç³»æ•°ï¼šÏ†11=Ï1,Ï†kk=0,kâ©¾2\\varphi_{11}=\\rho_{1}, \\varphi_{k k}=0, k \\geqslant 2Ï†11â€‹=Ï1â€‹,Ï†kkâ€‹=0,kâ©¾2 ARï¼ˆ1ï¼‰çš„åºåˆ—ç›¸å…³æ€§ï¼š ACFæ˜Ÿç°æŒ‡æ•°ä¸‹é™è¶‹åŠ¿ PACFåœ¨ä¸€é˜¶å¤„å‡ºç°å³°å€¼ï¼Œä¹‹åæˆªæ–­ Q:å¦‚ä½•è¯†åˆ«è‡ªå›å½’é˜¶æ•° A: PACFæ˜¾ç¤ºå‡ºå‰§çƒˆåœ°ä¸‹é™ï¼Œå¹¶æˆªæ–­åœ¨Pé˜¶ï¼Œè€ŒACFå‘ˆæŒ‡æ•°ä¸‹é™è¶‹åŠ¿ PACFæˆªå°¾çš„é˜¶æ•°å³ä¸ºARæ¨¡å‹çš„é˜¶æ•° ç§»åŠ¨å¹³å‡æ¨¡å‹MA â–²MA(a): Xt=et+Î²Ë™1etâˆ’1+Î²2etâˆ’2+â€¦+Î²qetâˆ’qX_{t}=e_{t}+\\dot{\\beta}_{1} e_{t-1}+\\beta_{2} e_{t-2}+\\ldots+\\beta_{q} e_{t-q}Xtâ€‹=etâ€‹+Î²Ë™â€‹1â€‹etâˆ’1â€‹+Î²2â€‹etâˆ’2â€‹+â€¦+Î²qâ€‹etâˆ’qâ€‹ , etâˆ¼WN(0,Ïƒ2)e_{t} \\sim W N\\left(0, \\sigma^{2}\\right)etâ€‹âˆ¼WN(0,Ïƒ2) åºåˆ—å½“å‰æ—¶åˆ»çš„æ—¶åºå€¼æ˜¯è¿‡å»qé˜¶ç™½å™ªå£°çš„çº¿æ€§ç»„åˆ å»ºæ¨¡çš„ç›®çš„åœ¨äºï¼š æ‰¾å‡ºè¿‡å»å‡ æœŸçš„ç™½å™ªå£°å½±å“äº†å½“å‰å€¼ æ‰¾å‡ºè¿‡å»aæœŸå†²å‡»æ•ˆåº”å¯¹å½“å‰å€¼çš„å½±å“ æ¨¡å‹ç‰¹å¾ï¼š è¶‹åŠ¿æ€§ï¼šæ—  ç›¸å…³æ€§ï¼šæœ‰ éšæœºæ€§ï¼šæœ‰ â–²MAï¼ˆ1ï¼‰æ¨¡å‹: Xt=et+Î²1etâˆ’1X_{t}=e_{t}+\\beta_{1} e_{t-1}Xtâ€‹=etâ€‹+Î²1â€‹etâˆ’1â€‹ ä¸€é˜¶ç§»åŠ¨å¹³å‡æ¨¡å‹æ˜¯æœ€ç®€å•çš„ç§»åŠ¨å¹³å‡æ¨¡å‹ è¯¥æ¨¡å‹åœ¨t+1æ—¶çš„æƒ…å½¢ï¼ŸXt+1=et+1+Î²1etX_{t+1}=e_{t+1}+\\beta_{1} e_{t}Xt+1â€‹=et+1â€‹+Î²1â€‹etâ€‹ â€‹ MAï¼ˆ1ï¼‰æ¨¡å‹æ˜¯åˆ©ç”¨tæ—¶åˆ»çš„å†²å‡»å˜é‡å€¼æ¥é¢„æµ‹å°†æ¥ è‡ªç›¸å…³ç³»æ•°ï¼šÏk=Î³kÎ³0={Î²11+Î²12,k=10kâ‰¥2\\rho_{k}=\\frac{\\gamma_{k}}{\\gamma_{0}}=\\left\\{\\begin{array}{cc}{\\frac{\\beta_{1}}{1+\\beta_{1}^{2}},} &amp; {k=1} \\\\ {0} &amp; {k \\geq 2}\\end{array}\\right.Ïkâ€‹=Î³0â€‹Î³kâ€‹â€‹={1+Î²12â€‹Î²1â€‹â€‹,0â€‹k=1kâ‰¥2â€‹ åè‡ªç›¸å…³ç³»æ•°ï¼šÏ†kk={Ï1,k=1âˆ’Ï121âˆ’Ï12k=2âˆ’Ï†kâˆ’1,kâˆ’1Ï11âˆ’Ï†kâˆ’1,1Ï1kâ‰¥3\\varphi_{k k}=\\left\\{\\begin{array}{cc}{\\rho_{1},} &amp; {k=1} \\\\ {\\frac{-\\rho_{1}^{2}}{1-\\rho_{1}^{2}}} &amp; {k=2} \\\\ {\\frac{-\\varphi_{k-1, k-1} \\rho_{1}}{1-\\varphi_{k-1,1} \\rho_{1}}} &amp; {k \\geq 3}\\end{array}\\right.Ï†kkâ€‹=â©âªâ¨âªâ§â€‹Ï1â€‹,1âˆ’Ï12â€‹âˆ’Ï12â€‹â€‹1âˆ’Ï†kâˆ’1,1â€‹Ï1â€‹âˆ’Ï†kâˆ’1,kâˆ’1â€‹Ï1â€‹â€‹â€‹k=1k=2kâ‰¥3â€‹ è‡ªå›å½’æ»‘åŠ¨å¹³å‡æ¨¡å‹ARMA â–²ARMAï¼ˆp,qï¼‰:Xt=Î²1Xtâˆ’1+â€¦+Î²pXtâˆ’p+et+Î±1etâˆ’1+Î±2etâˆ’2+â€¦+Î±qetâˆ’qX_{t}=\\beta_{1} X_{t-1}+\\ldots+\\beta_{p} X_{t-p}+e_{t}+\\alpha_{1} e_{t-1}+\\alpha_{2} e_{t-2}+\\ldots+\\alpha_{q} e_{t-q}Xtâ€‹=Î²1â€‹Xtâˆ’1â€‹+â€¦+Î²pâ€‹Xtâˆ’pâ€‹+etâ€‹+Î±1â€‹etâˆ’1â€‹+Î±2â€‹etâˆ’2â€‹+â€¦+Î±qâ€‹etâˆ’qâ€‹ ARMAï¼ˆp,qï¼‰æ¨¡å‹å°±æ˜¯ARï¼ˆpï¼‰å’ŒMAï¼ˆqï¼‰æ¨¡å‹çš„ç»„åˆ ARMAæ¨¡å‹æ˜¯æ›´æ™®éçš„ä¸€ç±»æ¨¡å‹ æ¨¡å‹ç‰¹å¾ï¼š è¶‹åŠ¿æ€§ï¼šæ—  ç›¸å…³æ€§ï¼šæœ‰ éšæœºæ€§ï¼šæœ‰ â–²ARMA(1,1)ï¼š é€šè¿‡æŸ¥çœ‹è‡ªç›¸å…³å‡½æ•°ACFå’Œåè‡ªç›¸å…³å‡½æ•°PACFè¯†åˆ«ç›¸å…³æ€§ ACFå‘ˆæŒ‡æ•°ä¸‹é™è¶‹åŠ¿ PACFå‘ˆç°æŒ‡æ•°ä¸‹é™è¶‹åŠ¿ Q:å¦‚ä½•è¯†åˆ«ä¸€ä¸ªARMAçš„é˜¶æ•°på’Œq? A: 1.ç”±äºACFä¸PACFå‡å‘ˆç°æŒ‡æ•°ä¸‹é™ï¼Œåˆ¤æ–­é˜¶æ•°éœ€è¦é ä¸æ–­å°è¯• 2.åœ¨æ¨¡å‹çš„ä¸åŒå°è¯•ä¸­ï¼Œé€šè¿‡é€‰æ‹©AICè¾ƒå°çš„ä¸ºæœ€ä¼˜æ¨¡å‹ AIC=2k+nâˆ—lnâ¡(RSSn)A I C=2 k+n * \\ln (\\frac{R S S}{n})AIC=2k+nâˆ—ln(nRSSâ€‹)kä¸ºå‚æ•™æ•°é‡ï¼ŒRSSä¸ºæ®‹å·®å¹³æ–¹å’Œ ARï¼ŒMAï¼ŒARMAæ¨¡å‹è¯†åˆ« ARIMAæ¨¡å‹ ARIMAæ˜¯åœ¨ARMAåŸºç¡€ä¸Šå‘å±•è€Œæ¥çš„æ›´åŠ ç»¼åˆæ€§çš„æ¨¡å‹ï¼Œä½“ç°ä¸ºï¼š â–  è¶‹åŠ¿æ€§ â–  åºåˆ—ç›¸å…³æ€§ â–  éšæœºæ€§ ARIMAæ˜¯ä¸å¹³ç¨³çš„æ—¶é—´åºåˆ—ï¼Œä¸èƒ½ç›´æ¥ç”¨ARMAå»ºæ¨¡ã€‚ARIMAæ¨¡å‹æ˜¯åœ¨ARMAæ¨¡å‹æ¼”å˜å‡ºæ¥çš„ï¼Œå®ƒå®é™…ä¸Šæ˜¯å…ˆå¯¹æ•°æ®åšäº†å·®åˆ†ï¼Œä¹‹åå†ä½¿ç”¨ARMAæ¨¡å‹ï¼›æ¢å¥è¯è¯´ï¼ŒARIMAæ¨¡å‹æ˜¯å…ˆå°†éå¹³ç¨³æ•°æ®å˜å¾—å¹³ç¨³ï¼ˆç”¨å·®åˆ†ï¼‰ï¼Œä¹‹åå†ç”¨ARMAæ¨¡å‹å¤„ç†å¹³ç¨³æ•°æ® ARIMAï¼ˆ1ï¼Œ1ï¼Œ0ï¼‰çš„æ—¶é—´åºåˆ—ï¼š åºåˆ—æœ‰å¾ˆå¼ºçš„è¶‹åŠ¿æ€§ ARIMAï¼ˆ1ï¼Œ1ï¼Œ0ï¼‰çš„åºåˆ—ç›¸å…³æ€§ï¼š ACFä¸‹é™æå…¶ç¼“æ…¢ ARIMAï¼ˆ1ï¼Œ1ï¼Œ0ï¼‰çš„åºåˆ—å›¾å’ŒACFï¼š ARIMA(p,d,q) âˆ‡dXt=(1âˆ’B)dXt=Yt\\nabla_{d} X_{t}=(1-B)^{d} X_{t}=Y_{t}âˆ‡dâ€‹Xtâ€‹=(1âˆ’B)dXtâ€‹=Ytâ€‹ Yt=Î²1Ytâˆ’1+...+Î²pYtâˆ’p+et+Î±1etâˆ’1+Î±2etâˆ’2+â€¦+Î±qetâˆ’qY_{t}=\\beta_{1} Y_{t-1}+...+\\beta_{p} Y_{t-p}+e_{t}+\\alpha_{1} e_{t-1}+\\alpha_{2} e_{t-2}+\\ldots+\\alpha_{q} e_{t-q}Ytâ€‹=Î²1â€‹Ytâˆ’1â€‹+...+Î²pâ€‹Ytâˆ’pâ€‹+etâ€‹+Î±1â€‹etâˆ’1â€‹+Î±2â€‹etâˆ’2â€‹+â€¦+Î±qâ€‹etâˆ’qâ€‹ å·®åˆ†åçš„åºåˆ—ç¬¦åˆARMAï¼ˆpï¼Œgï¼‰ ç¬¦å·â–³ä¸ºå·®åˆ†ç®—å­ï¼Œâˆ‡dXt\\nabla_{d} X_{t}âˆ‡dâ€‹Xtâ€‹ä»£è¡¨dé˜¶å·®åˆ†åºåˆ— ä¸€é˜¶å·®åˆ†åºåˆ—Î”Xt=(1âˆ’B)âˆ—Xt=Xtâˆ’Xtâˆ’1\\Delta X_{t}=(1-B)^{*} X_{t}=X_{t}-X_{t-1}Î”Xtâ€‹=(1âˆ’B)âˆ—Xtâ€‹=Xtâ€‹âˆ’Xtâˆ’1â€‹ é¢„æµ‹çš„è¯„ä»·æŒ‡æ ‡ MEï¼ˆè¯¯å·®ï¼‰ï¼šMeanï¼ˆActual-Predictï¼‰ MAEï¼ˆç»å¯¹è¯¯å·®ï¼‰ï¼šMeanï¼ˆabsï¼ˆActual-Predictï¼‰ï¼‰ MAPEï¼ˆç™¾åˆ†æ¯”è¯¯å·®ï¼‰ï¼šMeanï¼ˆabsï¼ˆActual-Predict/Actualï¼‰ MSEï¼ˆå‡æ–¹è¯¯å·®å¹³æ–¹å’Œï¼‰ï¼šMeanï¼ˆï¼ˆActual-Predictï¼‰2ï¼‰ RMSEï¼ˆæ ‡å‡†å·®ï¼‰ï¼šSqrtï¼ˆMeanï¼ˆï¼ˆActual-Predictï¼‰A2ï¼‰ï¼‰ åœ¨æ¨¡å‹é€‰æ‹©æ–¹æ³•ä¸Šï¼Œé€šå¸¸ä¼šç»“åˆå®¢æˆ·çš„å»ºè®®ä»¥åŠå…¶ä»–çš„æ—¶é—´åºåˆ—æ¨¡å‹æ–¹æ³•ï¼Œé€‰æ‹©æŸä¸ªè¯„ä»·æŒ‡æ ‡ï¼Œè¿›è€Œé€‰æ‹©ä½¿è¯¥è¯„ä»·æŒ‡æ ‡æœ€å°çš„æ¨¡å‹æ–¹æ³• å‚è€ƒ:https://blog.csdn.net/weixin_41636030/article/details/89115370","categories":[],"tags":[{"name":"æ•°å­¦å»ºæ¨¡","slug":"æ•°å­¦å»ºæ¨¡","permalink":"https://nymrli.top/tags/æ•°å­¦å»ºæ¨¡/"}]},{"title":"åŸºç¡€çŸ¥è¯†è¡¥å……â€”â€”ç™½å™ªå£°ã€é«˜æ–¯ç™½å™ªå£°","slug":"åŸºç¡€çŸ¥è¯†è¡¥å……â€”â€”ç™½å™ªå£°ã€é«˜æ–¯ç™½å™ªå£°","date":"2019-07-29T10:47:04.000Z","updated":"2019-09-15T08:07:31.041Z","comments":true,"path":"2019/07/29/åŸºç¡€çŸ¥è¯†è¡¥å……â€”â€”ç™½å™ªå£°ã€é«˜æ–¯ç™½å™ªå£°/","link":"","permalink":"https://nymrli.top/2019/07/29/åŸºç¡€çŸ¥è¯†è¡¥å……â€”â€”ç™½å™ªå£°ã€é«˜æ–¯ç™½å™ªå£°/","excerpt":"","text":"ç™½å™ªå£°ã€é«˜æ–¯ç™½å™ªå£° ç™½å™ªå£°è¿‡ç¨‹: å¯¹äºä¸€ä¸ªéšæœºå˜é‡X(t)ï¼ˆt=1ï¼Œ2ï¼Œ3â€¦â€¦ï¼‰ï¼Œå¦‚æœæ˜¯ç”±ä¸€ä¸ªä¸ç›¸å…³çš„éšæœºå˜é‡çš„åºåˆ—æ„æˆçš„ï¼Œå³å¯¹äºæ‰€æœ‰sä¸ç­‰äºtï¼Œéšæœºå˜é‡X(t)å’ŒX(s)çš„åæ–¹å·®ä¸ºé›¶ï¼Œåˆ™ç§°å…¶ä¸ºçº¯éšæœºè¿‡ç¨‹ã€‚å¯¹äºä¸€ä¸ªçº¯éšæœºè¿‡ç¨‹æ¥è¯´ï¼Œè‹¥å…¶æœŸæœ›ä¸º0ï¼Œæ–¹å·®ä¸ºå¸¸æ•°ï¼Œåˆ™ç§°ä¹‹ä¸ºç™½å™ªå£°è¿‡ç¨‹ã€‚ ç™½å™ªå£°: ç™½å™ªå£°åºåˆ—ï¼Œæ˜¯æŒ‡ç™½å™ªå£°è¿‡ç¨‹çš„æ ·æœ¬å®ç§°ï¼Œç®€ç§°ç™½å™ªå£°[1]ã€‚ç™½å™ªå£°æ˜¯**åœ¨è¾ƒå®½çš„é¢‘ç‡èŒƒå›´å†…ï¼Œå„ç­‰å¸¦å®½çš„é¢‘å¸¦æ‰€å«çš„å™ªå£°èƒ½é‡ç›¸ç­‰çš„å™ªå£°**[2]ï¼Œæ˜¯ä¸€ç§åŠŸç‡é¢‘è°±å¯†åº¦ä¸ºå¸¸æ•°çš„éšæœºä¿¡å·æˆ–éšæœºè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤ä¿¡å·åœ¨å„ä¸ªé¢‘æ®µä¸Šçš„åŠŸç‡æ˜¯ä¸€æ ·çš„ã€‚ ç†æƒ³çš„ç™½å™ªå£°å…·æœ‰æ— é™çš„å¸¦å®½ï¼Œå› è€Œå…¶èƒ½é‡æ— é™å¤§ï¼Œä½†è¿™æ˜¯ä¸å¯èƒ½å®é™…å­˜åœ¨çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠæœ‰é™å¸¦å®½å†…çš„å¹³æ•´è®¯å·è§†ä¸ºç™½å™ªå£°[^3]ï¼Œä»¥ä¾¿æˆ‘ä»¬å®é™…åº”ç”¨å½“ä¸­çš„åˆ†æã€‚ è¿‘ä¼¼è®¡ç®—:ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè‹¥ä¸€ä¸ªå™ªå£°è¿‡ç¨‹æ‰€å…·æœ‰çš„é¢‘è°±å®½åº¦è¿œè¿œå¤§äºå®ƒæ‰€ä½œç”¨ç³»ç»Ÿçš„å¸¦å®½ï¼Œå¹¶ä¸”åœ¨è¯¥å¸¦å®½ä¸­å…¶åŠŸç‡è°±å¯†åº¦åŸºæœ¬ä¸ºä¸€å¸¸æ•°ï¼Œé‚£ä¹ˆå°±èƒ½å¤ŸæŠŠå…¶ä½œä¸ºç™½å™ªå£°æ¥å¯¹å¾…ã€‚ ç™½å™ªå£°çš„åŠŸç‡å¯†åº¦å‡½æ•°æ’å®šï¼Œä¸ºPn(t)=n02(âˆ’âˆ&lt;f&lt;+âˆ)(W/HZ)P_{n}(t)=\\frac{n_{0}}{2}(-\\infty&lt;f&lt;+\\infty)(\\mathrm{W} / \\mathrm{HZ})Pnâ€‹(t)=2n0â€‹â€‹(âˆ’âˆ&lt;f&lt;+âˆ)(W/HZ) Pn(t)=n0(0&lt;f&lt;+âˆ)(W/Hz)P_{n}(t)=n_{0}(0&lt;f&lt;+\\infty)(\\mathrm{W} / \\mathrm{Hz})Pnâ€‹(t)=n0â€‹(0&lt;f&lt;+âˆ)(W/Hz)ï¼Œå…¶ä¸­n0n_0n0â€‹æ˜¯å¸¸æ•°ã€‚ é«˜æ–¯ç™½å™ªå£° é«˜æ–¯å™ªå£°æŒ‡çš„æ˜¯å®ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°æœä»æ­£æ€åˆ†å¸ƒçš„å™ªå£°ã€‚ é«˜æ–¯åˆ†å¸ƒï¼Œè®°ä¸ºN (Î¼,Ïƒ2)ï¼Œå…¶ä¸­Î¼ä¸ºé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼ï¼ˆæ•°å­¦æœŸæœ›ï¼‰ï¼ŒÏƒ2ä¸ºé«˜æ–¯åˆ†å¸ƒçš„æ–¹å·®ï¼Œå½“Î¼=0ï¼ŒÏƒ2=1æ—¶ï¼Œè¯¥åˆ†å¸ƒç§°ä¸ºæ ‡å‡†æ­£æ€åˆ†å¸ƒã€‚é«˜æ–¯åˆ†å¸ƒçš„ä¸€ç»´æ¦‚ç‡å¯†åº¦å¯è¡¨ç¤ºä¸ºå¼ï¼šP(x)=12Ï€Ïƒexpâ¡(âˆ’(xâˆ’Î¼)22Ïƒ2)P(x)=\\frac{1}{\\sqrt{2 \\pi} \\sigma} \\exp \\left(-\\frac{(x-\\mu)^{2}}{2 \\sigma^{2}}\\right)P(x)=2Ï€â€‹Ïƒ1â€‹exp(âˆ’2Ïƒ2(xâˆ’Î¼)2â€‹) åœ¨é€šä¿¡ä¿¡é“ä¸­ï¼Œä¸€èˆ¬å™ªå£°çš„å‡å€¼Î¼=0ã€‚ï¼Œé‚£ä¹ˆå¯ä»¥å¾—çŸ¥å½“å™ªå£°çš„å‡å€¼æ˜¯é›¶çš„æ—¶å€™ï¼Œå™ªå£°çš„å¹³å‡åŠŸç‡ç­‰äºå…¶æ–¹å·®ã€‚ é«˜æ–¯ç™½å™ªå£°çš„é«˜æ–¯æŒ‡çš„æ˜¯æ¦‚ç‡åˆ†å¸ƒä¸ºæ­£æ€åˆ†å¸ƒï¼Œç™½å™ªå£°æŒ‡çš„æ˜¯å…¶äºŒé˜¶çŸ©ä¸ç›¸å…³ï¼Œä¸€é˜¶çŸ©ä¸ºå¸¸æ•°çš„å™ªå£°ã€‚æ•…æŠŠç¬æ—¶å€¼æ¦‚ç‡åˆ†å¸ƒæœä»é«˜æ–¯åˆ†å¸ƒï¼ŒåŠŸç‡è°±å¯†åº¦æœä»å‡åŒ€åˆ†å¸ƒçš„å™ªå£°ç§°ä¸ºé«˜æ–¯ç™½å™ªå£°[^1]ã€‚è¿™ä¸¤ä¸ªæ¡ä»¶æ˜¯åˆ¤æ–­é«˜æ–¯ç™½å™ªå£°æ€§èƒ½çš„æ ‡å‡†ã€‚ ç”±äºé«˜æ–¯ç™½å™ªå£°èƒ½å¤Ÿåæ˜ å®é™…é€šä¿¡ä¿¡é“ä¸­çš„å™ªå£°æƒ…å†µï¼Œèƒ½å¤Ÿæ¯”è¾ƒçœŸå®çš„åæ˜ ä¿¡é“å™ªå£°çš„ä¸€äº›ç‰¹æ€§ï¼Œå¹¶ä¸”å¯ä»¥ç”¨å…·ä½“çš„æ•°å­¦è¡¨è¾¾å¼è¡¨ç¤ºï¼Œé€‚åˆåˆ†æã€è®¡ç®—ç³»ç»Ÿçš„æŠ—å™ªå£°æ€§èƒ½ï¼Œæ‰€ä»¥å¹¿æ³›åº”ç”¨äºé€šä¿¡ç³»ç»Ÿçš„ç†è®ºåˆ†æã€‚ é«˜æ–¯ç™½å™ªå£°æ¨¡å‹:Xt=etâˆ£etâˆ¼WN(0,Ïƒ2)X_{t}=\\mathrm{e}_{\\mathrm{t}} | \\mathrm{e}_{\\mathrm{t}} \\sim \\mathrm{WN}\\left(0, \\sigma^{2}\\right)Xtâ€‹=etâ€‹âˆ£etâ€‹âˆ¼WN(0,Ïƒ2)","categories":[],"tags":[{"name":"ä¿¡å·å¤„ç†","slug":"ä¿¡å·å¤„ç†","permalink":"https://nymrli.top/tags/ä¿¡å·å¤„ç†/"}]},{"title":"å‚…é‡Œå¶å˜æ¢->å°æ³¢å˜åŒ–","slug":"å‚…é‡Œå¶å˜æ¢-å°æ³¢å˜åŒ–","date":"2019-07-29T01:51:32.000Z","updated":"2021-10-25T08:37:52.168Z","comments":true,"path":"2019/07/29/å‚…é‡Œå¶å˜æ¢-å°æ³¢å˜åŒ–/","link":"","permalink":"https://nymrli.top/2019/07/29/å‚…é‡Œå¶å˜æ¢-å°æ³¢å˜åŒ–/","excerpt":"","text":"å‚…é‡Œå¶å˜æ¢-&gt;å°æ³¢å˜åŒ– å£°æ˜:æ–‡ä¸­å¤§å¤šæ•°å†…å®¹æ¥è‡ª(çŸ¥ä¹1335)[https://www.zhihu.com/people/zhi-yuan-ya-77],matlabæºä»£ç :1368069096/From_FT_to_WT_examples-,éƒ¨åˆ†ä¸ºä¸ªäººç†è§£é˜æ˜ ä¸€.å‚…é‡Œå¶å˜æ¢FT åŸºç¡€çŸ¥è¯† ï¼ˆFOURIER TRANSFORMï¼Œç®€ç§°FTï¼‰ ä¸ºä»€ä¹ˆå‚…é‡Œå¶å˜æ¢å¯ä»¥æŠŠä¸€ä¸ªä¿¡å·ä»æ—¶åŸŸå˜æ¢åˆ°é¢‘åŸŸ? å…ˆç»™å‡ºå…¬å¼ï¼Œå‚…é‡Œå¶å˜æ¢çš„å½¢å¼ä¸ºï¼šX(w)=âˆ«âˆ’âˆ+âˆx(t)eâˆ’jwtdtX(w)=\\int_{-\\infty}^{+\\infty} x(t) e^{-j w t} d tX(w)=âˆ«âˆ’âˆ+âˆâ€‹x(t)eâˆ’jwtdt PSï¼šå‚…é‡Œå¶å˜æ¢è¿˜å­˜åœ¨ç³»æ•°ï¼Œæœ‰çš„æ–‡ç« å†™çš„æ˜¯ 12Ï€\\frac{1}{2 \\pi}2Ï€1â€‹ ï¼Œæœ‰çš„æ–‡ç« å†™çš„æ˜¯12Ï€\\sqrt\\frac{1}{2 \\pi}2Ï€1â€‹â€‹ ï¼Œä¸¤ä¸ªç³»æ•°åªè¦æ»¡è¶³æ­£å˜æ¢ç³»æ•°ä¹˜ä¸Šé€†å˜æ¢ç³»æ•°ç­‰äº12Ï€\\frac{1}{2 \\pi}2Ï€1â€‹ å³å¯ã€‚è¿™æ˜¯ä¸ºäº†ä¿è¯ç»è¿‡ä¸€æ¬¡æ­£å˜æ¢å’Œåå˜æ¢ä¹‹åï¼Œå¾—åˆ°çš„ä¿¡å·ä¸åŸä¿¡å·å¹…å€¼ç›¸åŒï¼Œä¸æˆ‘ä»¬æ¥ä¸‹æ¥çš„è®¨è®ºå…³ç³»ä¸å¤§ã€‚ 1.ç†è§£å˜æ¢å…¬å¼ æˆ‘ä»¬çŸ¥é“ï¼Œæ ¹æ®æ¬§æ‹‰å…¬å¼ï¼Œeâˆ’jwt=cosâ¡(wt)âˆ’jsinâ¡(wt)e^{-j w t}=\\cos (w t)-j \\sin (w t)eâˆ’jwt=cos(wt)âˆ’jsin(wt)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‚…é‡Œå¶å˜æ¢çš„æœ¬è´¨å°±æ˜¯ï¼šå°†åŸå§‹ä¿¡å·ä¹˜ä¸Šä¸€ç»„ä¸‰è§’å‡½æ•°ï¼ˆæ­£ä½™å¼¦ï¼‰ï¼Œä¹‹ååœ¨æ•´ä¸ªæ—¶é—´åŸŸä¸Šç§¯åˆ†ã€‚å°±è¿™ä¹ˆç®€å•ï¼ y=sin(3t)å›¾ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¿¡å·ï¼šy = sin(3t)ï¼Œå¦‚ä¸‹å›¾ï¼š å¾ˆå¥½çš„å‘¨æœŸæ€§è´¨ï¼Œä¸”æ¯ä¸ªå‘¨æœŸçš„ç§¯åˆ†å€¼éƒ½æ˜¯0ã€‚å¦‚æœå¯¹è¿™ä¸ªå‡½æ•°åœ¨(âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ)ç§¯åˆ†ï¼Œé‚£å°±æ˜¯åŸºæœ¬æ˜¯0ï¼Œå› ä¸º (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ)åŒ…å«äº†æ— æ•°ä¸ªå‘¨æœŸã€‚ PSï¼šè™½ç„¶è¿™ä¸ªç§¯åˆ†åœ¨é«˜æ•°ä¸Šä¸å¯ç§¯ï¼Œä½†æ˜¯ä½ åº”è¯¥æ˜ç™½è¿™é‡Œæˆ‘è¦è¡¨è¾¾çš„æ„æ€ï¼šå› ä¸ºè‰¯å¥½çš„å‘¨æœŸæ€§ï¼Œä¸”æ¯ä¸ªå‘¨æœŸç§¯åˆ†å€¼æ˜¯0ï¼Œé‚£ä¹ˆæœ€ååœ¨å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´åŒºé—´ä¸Šç§¯åˆ†ï¼Œå¾—åˆ°çš„è¿˜æ˜¯ä¸€ä¸ªå¾ˆå°çš„æ•°ï¼Œè¿‘ä¼¼ä¸º0ã€‚ æˆ‘ä»¬æ¥ç”¨ä¸€æ®µè¾ƒé•¿çš„æ—¶é—´åŒºé—´è®¡ç®—ä¸€ä¸‹ï¼Œâˆ«050sinâ¡(3t)dt=0.1002\\int_{0}^{50} \\sin (3 t) d t=0.1002âˆ«050â€‹sin(3t)dt=0.1002ï¼Œç»“æœç¬¦åˆæˆ‘ä»¬çš„é¢„è®¡ã€‚ y=sin(4t)sin(3t)å›¾ ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å°†è¿™ä¸ªä¿¡å·ä¹˜ä¸Šä¸€ä¸ªsin(4t) ï¼Œåˆ™ä¿¡å·å˜ä¸ºy1 = sin(3t)*sin(4t)ï¼Œå¦‚ä¸‹å›¾ï¼š å…·æœ‰ä¸€ä¸ªè¾ƒçŸ­çš„å°å¹…éœ‡åŠ¨çš„å‘¨æœŸå’Œä¸€ä¸ªè¾ƒé•¿çš„ä¸»ä½“å‘¨æœŸï¼Œå¯¹å§ï¼Ÿä¸”æ¯ä¸ªä¸»ä½“å‘¨æœŸçš„ç§¯åˆ†å€¼éƒ½æ˜¯0ã€‚åŒä»¥ä¸Šè®¨è®ºï¼Œå¦‚æœå¯¹è¿™ä¸ªå‡½æ•°åœ¨(âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ)ç§¯åˆ†ï¼ŒåŸºæœ¬è¿˜æ¥è¿‘äº0ï¼Œå› ä¸º (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ)åŒ…å«äº†æ— æ•°ä¸ªä¸»ä½“å‘¨æœŸã€‚ y=sin(3.1t)sin(3t)å›¾ ä¹‹åå‘¢ï¼Œæˆ‘ä»¬æ¥å°†è¿™ä¸ªä¿¡å·ä¹˜ä¸Šä¸€ä¸ªsin(3.1t) ï¼Œåˆ™ä¿¡å·å˜ä¸ºy2 = sin(3t)*sin(3.1t)ï¼Œå¦‚ä¸‹å›¾ï¼š åŒæ ·æ˜¯æœ‰ä¸€ä¸ªè¾ƒçŸ­çš„å°å¹…éœ‡åŠ¨çš„å‘¨æœŸå’Œä¸€ä¸ªè¾ƒé•¿çš„ä¸»ä½“å‘¨æœŸï¼Œå¯¹å§ï¼Ÿå¯ä»¥åˆ¤æ–­ï¼Œæ¯ä¸ªä¸»ä½“å‘¨æœŸçš„ç§¯åˆ†å€¼éƒ½æ˜¯0ï¼ˆè™½ç„¶ï¼ˆ0ï¼Œ50ï¼‰è¿™ä¸ªåŒºé—´æ²¡æœ‰å®Œæ•´åœ°å±•ç¤ºä¸»é¢˜å‘¨æœŸï¼‰ã€‚é‚£ä¹ˆï¼Œä¾ç„¶åŒä»¥ä¸Šè®¨è®ºï¼Œå¦‚æœå¯¹è¿™ä¸ªå‡½æ•°åœ¨(âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) ç§¯åˆ†ï¼ŒåŸºæœ¬è¿˜æ¥è¿‘äº0ï¼Œå› ä¸º(âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ)åŒ…å«äº†æ— æ•°ä¸ªä¸»ä½“å‘¨æœŸã€‚ æˆ‘ä»¬æ¥ç”¨ä¹‹å‰çš„æ—¶é—´åŒºé—´è®¡ç®—ä¸€ä¸‹ï¼Œ âˆ«050sinâ¡(3t)âˆ—sinâ¡(3.1t)dt=âˆ’4.7731\\int_{0}^{50} \\sin (3 t) * \\sin (3.1 t) d t=-4.7731âˆ«050â€‹sin(3t)âˆ—sin(3.1t)dt=âˆ’4.7731 ã€‚ å’¦ï¼Ÿè¿™ä¸€æ¬¡æ€ä¹ˆè·ç¦»0è¿™ä¹ˆè¿œäº†å‘¢ï¼Ÿ åŸå› å°±æ˜¯ï¼šå¯¹äºsin(3t)*sin(4t)ï¼Œå®ƒçš„ä¸»ä½“å‘¨æœŸè¾ƒçŸ­ï¼Œï¼ˆ0ï¼Œ50ï¼‰æ˜¯åŒ…å«äº†å¥½å‡ ä¸ªä¸»ä½“å‘¨æœŸçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ˆ0ï¼Œ50ï¼‰åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯ç±»ä¼¼äº (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) çš„ã€‚ä½†æ˜¯ï¼Œå¯¹äºsin(3t)*sin(3.1t)ï¼Œå®ƒçš„ä¸»ä½“å‘¨æœŸå¾ˆé•¿ï¼Œï¼ˆ0ï¼Œ50ï¼‰è¿å®ƒçš„ä¸€ä¸ªå®Œæ•´çš„ä¸»ä½“å‘¨æœŸéƒ½æ²¡æœ‰åŒ…å«ï¼Œé‚£ä¹ˆï¼ˆ0ï¼Œ50ï¼‰æ˜¯ä¸èƒ½ç±»ä¼¼äº (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) çš„ï¼Œç§¯åˆ†å€¼è‡ªç„¶å°±æ¯”è¾ƒå¤§ã€‚ æˆ‘ä»¬æ­¤æ—¶å¯ä»¥è¿™æ ·å°å°æ€»ç»“ä¸€ä¸‹ï¼Œå¯¹äºä¿¡å·y = sin(3t)ï¼Œå®ƒçš„é¢‘ç‡æ˜¯3rad/sï¼Œï¼ˆå¦‚æœä½ å–œæ¬¢ç”¨HZï¼Œé‚£å°±é™¤ä»¥2Ï€2\\pi2Ï€ ï¼Œå°±æ˜¯ 32Ï€\\frac{3}{2\\pi}2Ï€3â€‹HZï¼Œè¿™é‡Œä½¿ç”¨rad/sï¼Œæ˜¯ä¸ºäº†ä¸å‰é¢çš„å‚…é‡Œå¶å˜æ¢çš„å…¬å¼ä¸­çš„wä¸€è‡´ï¼‰ï¼Œè€Œsin(4t)çš„é¢‘ç‡æ˜¯4rad/sï¼Œsin(3.1t)çš„é¢‘ç‡æ˜¯3.1rad/sã€‚ å¦‚æœåœ¨ (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) ç§¯åˆ†ï¼Œé‚£ä¹ˆy1 = sin(3t)*sin(4t)ï¼Œy2 = sin(3t)*sin(3.1t)çš„ç§¯åˆ†å€¼éƒ½æ˜¯0ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œsin(4t)å’Œsin(3.1t)åœ¨è¿™é‡Œæ˜¯æ²¡å·®åˆ«çš„ã€‚ ä½†æ˜¯ï¼ï¼ï¼å¦‚æœåœ¨ä¸€ä¸ªæœ‰é™åŒºé—´å†…ç§¯åˆ†ï¼Œç”±äºsin(3.1t)çš„é¢‘ç‡3.1rad/sï¼Œè·ç¦»åŸä¿¡å·y = sin(3t)çš„é¢‘ç‡3rad/sæ›´è¿‘ï¼Œé‚£ä¹ˆsin(3.1t)å’Œsin(3t)çš„ä¹˜ç§¯ï¼Œä¹Ÿå°±æ˜¯y2 = sin(3t)*sin(3.1t)çš„ç§¯åˆ†çš„ç»å¯¹å€¼ä¼šæ›´å¤§ï¼Œä¹Ÿå°±æ˜¯ä¼šç¦»0æ›´è¿œã€‚è¿™é‡Œå·²ç»æ˜¾ç¤ºå‡ºä¸€å®šçš„é¢‘ç‡é€‰æ‹©æ€§äº†ã€‚ æœ€åï¼Œè®©æˆ‘ä»¬è¯·å‡ºæˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’ï¼Œå°†è¿™ä¸ªä¿¡å·ä¹˜ä¸Šä¸€ä¸ªè‡ªå·±åŒé¢‘ç‡çš„sin(3t) ï¼Œåˆ™ä¿¡å·å˜ä¸ºy3 = sin(3t)*sin(3t)ï¼Œå¦‚å›¾ï¼š Amazingï¼ï¼ï¼å‘ç°äº†ä»€ä¹ˆï¼Ÿè‰¯å¥½çš„å‘¨æœŸæ€§ï¼Ÿè¿˜æœ‰å‘¢ï¼Ÿ**ç”±äºä¹˜ä¸Šäº†è‡ªå·±ï¼Œä»»ä½•æ—¶é—´çš„å¹…å€¼éƒ½å¤§äºç­‰äº0äº†ï¼ä¸å†æ»¡è¶³å‘¨æœŸå†…ç§¯åˆ†å€¼ä¸º0è¿™ä¸ªæ¡ä»¶äº†ï¼**é‚£ä¹ˆï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªä¿¡å·åœ¨ (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) ç§¯åˆ†ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªéå¸¸éå¸¸å¤§çš„æ•°å­—ã€‚è¿™ä¸ªå¾ˆå¤§å¾ˆå¤§çš„æ•°å­—å°±å‘Šè¯‰ä½ ï¼Œè¿™ä¸ªä¿¡å·å’Œä½ ä¹˜çš„ä¿¡å·æ˜¯åŒé¢‘ç‡çš„ï¼è¿™å°±æ˜¯å¯ä»¥çŸ¥é“ä¿¡å·ä¸­å…·æœ‰å“ªäº›é¢‘ç‡éƒ¨åˆ†äº†ï¼Œä¸æ˜¯å—ï¼Ÿ æˆ‘ä»¬è¿˜æ˜¯æ¥ç”¨ä¹‹å‰çš„æ—¶é—´åŒºé—´è®¡ç®—ä¸€ä¸‹ï¼Œ âˆ«050sinâ¡(3t)âˆ—sinâ¡(3t)dt=25.0833\\int_{0}^{50} \\sin (3 t) * \\sin (3 t) d t=25.0833âˆ«050â€‹sin(3t)âˆ—sin(3t)dt=25.0833ã€‚æ˜¯ä¸æ˜¯æ¯”å…¶ä»–çš„ç§¯åˆ†å€¼éƒ½å¤§äº†å¥½å¤šï¼Ÿ å¥½äº†ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œâ–².å°†ä¸€ä¸ªä¿¡å·ä¹˜ä¸Šä¸€ä¸ªç‰¹å®šé¢‘ç‡çš„sinå‡½æ•°ï¼Œåœ¨ (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) ä¸Šç§¯åˆ†ï¼Œå¯ä»¥å°†ä¿¡å·ä¸­ä¸sinå‡½æ•°åŒé¢‘ç‡çš„éƒ¨åˆ†ç­›é€‰å‡ºæ¥ã€‚é‚£ä¹ˆï¼ŒåŸåˆ™ä¸Šè®²ï¼Œåªè¦ä¹˜ä¸Šæ‰€æœ‰é¢‘ç‡çš„sinå‡½æ•°ï¼Œå¹¶ç§¯åˆ†ï¼Œä¸å°±çŸ¥é“åŸå§‹ä¿¡å·ä¸­çš„æ‰€æœ‰é¢‘ç‡éƒ¨åˆ†äº†å—ï¼Ÿ **ä½†æ˜¯è¿™æ ·åšéœ€è¦æŠŠæ‰€æœ‰é¢‘ç‡ä¹˜è¿›å»ï¼Œåšæ— æ•°æ¬¡è®¡ç®—å“ˆï¼**ç®—ä¸å‡ºæ¥çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°†æ‰€ä¹˜çš„sinå‡½æ•°çš„é¢‘ç‡ä½œä¸ºç¬¦å·å˜é‡wï¼Œæ¥è¿›è¡Œç§¯åˆ†ï¼Œå³ï¼š X(w)=âˆ«âˆ’âˆ+âˆx(t)sinâ¡(wt)dtX(w)=\\int_{-\\infty}^{+\\infty} x(t) \\sin (w t) d tX(w)=âˆ«âˆ’âˆ+âˆâ€‹x(t)sin(wt)dt æ³¨æ„ï¼šè¿™é‡Œçš„wåªæ˜¯ä¸€ä¸ªç¬¦å·å˜é‡ï¼Œè¿™æ ·çš„è¯ï¼Œå°±åªéœ€è¦åšä¸€æ¬¡ç§¯åˆ†ï¼Œå¯ä»¥è®¡ç®—äº†ã€‚ è®¡ç®—å‡ºæ¥X(w)ä¹‹åï¼Œæƒ³çŸ¥é“ç‰¹å®šçš„é¢‘ç‡w0å¯¹åº”çš„ç§¯åˆ†å€¼ï¼Œç›´æ¥å°†w0å¸¦å…¥X(w)å°±ç«‹é©¬å¾—åˆ°ç§¯åˆ†å€¼ã€‚ï¼Œå¦‚æƒ³çŸ¥é“æ˜¯å¦å«æœ‰w0=3rad/såˆ†é‡,é‚£ä¹ˆä¹…è®¡ç®—X(3)çœ‹ç»“æœæ˜¯å¦ä¸º0ï¼Œè¿™æ ·å°±èƒ½çŸ¥é“åŸä¿¡å·ä¸­æ˜¯å¦å«æœ‰è¿™ä¸€é¢‘ç‡çš„éƒ¨åˆ†äº†ã€‚ å¥½äº†ï¼Œæˆ‘ä»¬æ¨å¯¼çš„è¿™ä¸ªå¼å­ï¼Œæ˜¯ä¸æ˜¯ä¸å‚…é‡Œå¶å˜æ¢çš„å¼å­ï¼š X(w)=âˆ«âˆ’âˆ+âˆx(t)eâˆ’jwtdt=âˆ«âˆ’âˆ+âˆx(t)(cosâ¡(wt)âˆ’jsinâ¡(wt))dtX(w)=\\int_{-\\infty}^{+\\infty} x(t) e^{-j w t} d t=\\int_{-\\infty}^{+\\infty} x(t)(\\cos (w t)-j \\sin (w t)) d tX(w)=âˆ«âˆ’âˆ+âˆâ€‹x(t)eâˆ’jwtdt=âˆ«âˆ’âˆ+âˆâ€‹x(t)(cos(wt)âˆ’jsin(wt))dt å¾ˆåƒäº†å‘¢ï¼Ÿ è¿™å°±æ˜¯å‚…é‡Œå¶å˜æ¢çš„åŸç†ï¼ä¹˜ä¸Šå¸¦æœ‰ç¬¦å·å˜é‡çš„sinã€coså‡½æ•°ï¼Œå¹¶ç§¯åˆ†ï¼Œå°±çŸ¥é“åŸå§‹ä¿¡å·ä¸­çš„æ‰€æœ‰é¢‘ç‡éƒ¨åˆ†å•¦ï¼ 2ã€å‚…é‡Œå¶å˜æ¢ï¼ˆFTï¼‰çš„æ­£äº¤æ€§ å‚…é‡Œå¶å˜æ¢æ˜¯ä¸€ç§å˜æ¢ã€‚åœ¨å˜æ¢ä¸­ï¼Œæˆ‘ä»¬å°†åŸå§‹ä¿¡å·ä¹˜ä¸Šçš„å˜åŒ–ä¿¡å·ç§°ä¸ºåŸºå‡½æ•°ã€‚ åœ¨å‚…é‡Œå¶å˜æ¢ä¸­ï¼Œä¸€ç³»åˆ—ä¸åŒé¢‘ç‡çš„sinã€cosç­‰å‡½æ•°ç§°ä¸ºè¿™ä¸ªå˜æ¢çš„åŸºå‡½æ•°ã€‚è‡³äºä¸ºä»€ä¹ˆéœ€è¦æ—¢ä½¿ç”¨sinï¼Œåˆä½¿ç”¨cosï¼Œè¿™æ¶‰åŠåˆ°ä¸€ç‚¹ç‚¹æ­£äº¤å‡½æ•°çš„æ¦‚å¿µã€‚å‚…é‡Œå¶å˜æ¢ä¸­çš„ä¸åŒé¢‘ç‡çš„sinã€cosç­‰å‡½æ•°æ˜¯æ­£äº¤å‡½æ•°ï¼Œä½¿ç”¨æ­£äº¤å‡½æ•°ç»„æˆçš„åŸºå‡½æ•°ä¼šå¸¦ç»™å˜æ¢ä¸€äº›æ–¹ä¾¿ã€‚ ä»€ä¹ˆæ˜¯æ­£äº¤æ€§? å‘é‡æ­£äº¤: æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå‘é‡a,ba,ba,bçš„å†…ç§¯ä¸ºaâ‹…ba Â· baâ‹…bã€‚æ­£äº¤çš„å®šä¹‰ä¸ºå†…ç§¯ä¸º0ï¼Œå³aâ‹…b=0a Â· b=0aâ‹…b=0ã€‚å¦‚a=(1,0)a=(1,0)a=(1,0) è¡¨ç¤ºxè½´ï¼Œ$b=(0,1) $è¡¨ç¤ºyè½´ï¼Œåˆ™ aâ‹…b=0a Â· b=0aâ‹…b=0å³æ„å‘³ç€xè½´ä¸yè½´æ­£äº¤ã€‚ å‡è®¾æœ‰ä¸€ä¸ªå‘é‡ v=(x0,y0)v=\\left(x_{0}, y_{0}\\right)v=(x0â€‹,y0â€‹)ï¼Œ x0x_0x0â€‹ åœ¨xè½´ä¸Šå®šä½vï¼Œy0y_0y0â€‹ åœ¨yè½´ä¸Šå®šä½vã€‚å½“xè½´ä¸yè½´æ­£äº¤æ—¶ï¼Œæ„å‘³ç€xåæ ‡å’Œyåæ ‡è¡¨ç¤ºçš„ä¿¡æ¯æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ï¼Œä¸¤åæ ‡å¯ä»¥å®Œå…¨å®šä½vã€‚ é‚£ä¹ˆï¼Œå½“æˆ‘ä»¬å·²çŸ¥å‘é‡vï¼Œå·²çŸ¥xè½´aä¸yè½´bï¼Œå¦‚æœçŸ¥é“vçš„åæ ‡å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ï¼ŒæŠ•å½±/å†…ç§¯ã€‚ å°†vå‘xè½´aåšæŠ•å½±/å†…ç§¯ï¼š x0=vâ‹…ax_0=vÂ·ax0â€‹=vâ‹…aï¼Œå¯ä»¥å¾—åˆ°x0x_0x0â€‹ï¼›å°†vå‘yè½´båšæŠ•å½±/å†…ç§¯ï¼šy0=vâ‹…by_0=vÂ·by0â€‹=vâ‹…bï¼Œå¯ä»¥å¾—åˆ°y0y_0y0â€‹ã€‚ æ­£äº¤åŸº ç±»ä¼¼çš„ï¼Œå‡½æ•°$ f_{1}(x), f_{2}(x) çš„å†…ç§¯å®šä¹‰å¦‚ä¸‹ï¼šçš„å†…ç§¯å®šä¹‰å¦‚ä¸‹ï¼šçš„å†…ç§¯å®šä¹‰å¦‚ä¸‹ï¼š\\int_{-\\infty}^{+\\infty} f_{1}(x) f_{2}(x) d x$ã€‚å‡½æ•°æ­£äº¤çš„å®šä¹‰åŒæ ·ä¸ºå†…ç§¯ä¸º0ï¼Œå³ âˆ«âˆ’âˆ+âˆf1(x)f2(x)dx=0\\int_{-\\infty}^{+\\infty} f_{1}(x) f_{2}(x) d x=0âˆ«âˆ’âˆ+âˆâ€‹f1â€‹(x)f2â€‹(x)dx=0 ã€‚PSï¼šå¯¹äºå‘¨æœŸå‡½æ•°ï¼Œå®šä¹‰ä¸­çš„ç§¯åˆ†åŒºé—´ä¸ºä¸€ä¸ªå‘¨æœŸTã€‚ æˆ‘ä»¬æ¥çœ‹ï¼Œ âˆ«0Tsinâ¡(w1x)cosâ¡(w2x)dx=0(1)\\int_{0}^{T} \\sin \\left(w_{1} x\\right) \\cos \\left(w_{2} x\\right) d x=0 (1)âˆ«0Tâ€‹sin(w1â€‹x)cos(w2â€‹x)dx=0(1) âˆ«0Tsinâ¡(w1x)sinâ¡(w2x)dx=0,w1â‰ w2(2)\\int_{0}^{T} \\sin \\left(w_{1} x\\right) \\sin \\left(w_{2} x\\right) d x=0, w_{1} \\neq w_{2}(2)âˆ«0Tâ€‹sin(w1â€‹x)sin(w2â€‹x)dx=0,w1â€‹î€ â€‹=w2â€‹(2) âˆ«0Tcosâ¡(w1x)cosâ¡(w2x)dx=0,w1â‰ w2(3)\\int_{0}^{T} \\cos \\left(w_{1} x\\right) \\cos \\left(w_{2} x\\right) d x=0, w_{1} \\neq w_{2}(3)âˆ«0Tâ€‹cos(w1â€‹x)cos(w2â€‹x)dx=0,w1â€‹î€ â€‹=w2â€‹(3) â–².å› æ­¤ï¼Œå‚…é‡Œå¶å˜æ¢ä¸­çš„ä¸åŒé¢‘ç‡çš„sinã€cosç­‰å‡½æ•°éƒ½æ˜¯æ­£äº¤å‡½æ•°ã€‚æˆ‘ä»¬å°†cosæƒ³è±¡ä¸ºä¸€ä¸ªè½´ï¼Œå°†sinæƒ³è±¡ä¸ºä¸€ä¸ªè½´ ï¼Œè¿™ä¸¤ä¸ªè½´ï¼Œå°±å¼ äº†ä¸€ä¸ªå‡½æ•°ç©ºé—´ã€‚ æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œx(t)çš„å‚…é‡Œå¶å˜æ¢ä¸ºï¼š X(w)=âˆ«âˆ’âˆ+âˆx(t)(cosâ¡(wt)âˆ’jsinâ¡(wt))dt=âˆ«âˆ’âˆ+âˆx(t)cosâ¡(wt)dtâˆ’jâˆ«âˆ’âˆ+âˆx(t)sinâ¡(wt)dtX(w)=\\int_{-\\infty}^{+\\infty} x(t)(\\cos (w t)-j \\sin (w t)) d t=\\int_{-\\infty}^{+\\infty} x(t) \\cos (w t) d t-j \\int_{-\\infty}^{+\\infty} x(t) \\sin (w t) d tX(w)=âˆ«âˆ’âˆ+âˆâ€‹x(t)(cos(wt)âˆ’jsin(wt))dt=âˆ«âˆ’âˆ+âˆâ€‹x(t)cos(wt)dtâˆ’jâˆ«âˆ’âˆ+âˆâ€‹x(t)sin(wt)dt æˆ‘ä»¬æ¥çœ‹ï¼Œå®éƒ¨ âˆ«âˆ’âˆ+âˆx(t)cosâ¡(wt)dt\\int_{-\\infty}^{+\\infty} x(t) \\cos (w t) d tâˆ«âˆ’âˆ+âˆâ€‹x(t)cos(wt)dt å³ç›¸å½“äºå°†x(t)ä¸cosåšå†…ç§¯ï¼Œå³å‘cosè½´æŠ•å½±ï¼Œå¾—åˆ°çš„æ˜¯åœ¨è¿™ä¸ªå‡½æ•°ç©ºé—´å†…çš„cosåæ ‡ï¼Œä¹Ÿå°±æ˜¯ä¸cosçš„ç›¸ä¼¼åº¦ï¼›è™šéƒ¨âˆ«âˆ’âˆ+âˆx(t)sinâ¡(wt)dt\\int_{-\\infty}^{+\\infty} x(t) \\sin (w t) d tâˆ«âˆ’âˆ+âˆâ€‹x(t)sin(wt)dt å³ç›¸å½“äºå°†x(t)ä¸sinåšå†…ç§¯ï¼Œå³å‘sinè½´æŠ•å½±ï¼Œå¾—åˆ°çš„æ˜¯åœ¨è¿™ä¸ªå‡½æ•°ç©ºé—´å†…çš„sinåæ ‡ï¼Œä¹Ÿå°±æ˜¯ä¸sinçš„ç›¸ä¼¼åº¦ã€‚cosåæ ‡å’Œsinåæ ‡éƒ½ç¡®å®šåï¼Œè¯¥ä¿¡å·å°±ç¡®å®šäº†ã€‚ å› æ­¤ï¼Œå‚…é‡Œå¶å˜æ¢ä¹‹åï¼Œå®éƒ¨æ˜¯ä¸cosçš„ç›¸ä¼¼åº¦ï¼Œè™šéƒ¨æ˜¯ä¸sinçš„ç›¸ä¼¼åº¦ï¼Œå‚…é‡Œå¶å˜æ¢ä¹Ÿå°±æ˜¯ä¸cosçš„ç›¸ä¼¼åº¦å’Œä¸sinçš„ç›¸ä¼¼åº¦çš„æ€»å’Œï¼Œä¹Ÿå°±è¡¨ç¤ºäº†ç›¸åº”çš„é¢‘ç‡ä¿¡æ¯ã€‚ ç›¸ä¼¼åº¦çš„ç†è§£ï¼šé€šè¿‡ç›¸ä¼¼åº¦ï¼Œå¯ä»¥å°†è·Ÿæœ¬èº«é¢‘ç‡ç›¸ä¼¼çš„é¢‘ç‡æŒ‘é€‰å‡ºæ¥ 3ã€å°ä¾‹å­ æœ€åï¼Œæˆ‘ä»¬å¯¹äºy=sin(3t)åšå‚…é‡Œå¶å˜æ¢ï¼ˆè¿™é‡Œç”»å›¾ç”¨çš„matlabçš„FFTï¼Œæ˜¯FTçš„ç¦»æ•£å¿«é€Ÿç®—æ³•ï¼Œä¸æ˜¯ç§¯åˆ†å‡ºæ¥çš„ï¼Œä½†æ˜¯åŸç†æ˜¯ç›¸åŒçš„ï¼Œä»…åšå±•ç¤ºä½¿ç”¨ï¼‰ï¼Œå˜æ¢åçš„å›¾åƒå¦‚ä¸‹ï¼š å¯ä»¥çœ‹åˆ°ï¼Œä¸æˆ‘ä»¬çš„é¢„æœŸç›¸åŒï¼Œå˜æ¢ä¹‹åï¼Œåœ¨ Ï‰=3rad/s\\omega=3 rad/ sÏ‰=3rad/s å¤„ï¼Œå‡ºç°äº†å³°å€¼ï¼Œå³è¡¨ç¤ºè¯¥ä¿¡å·ä¸­åŒ…å«äº† çš„ Ï‰=3rad/s\\omega=3 rad/ sÏ‰=3rad/s é¢‘ç‡æˆåˆ†ã€‚ è¿™é‡Œéœ€è¦è¯´æ˜ä¸‰ç‚¹ï¼š 1ã€è¿™è¾¹çš„ä½œå›¾ç»“æœä¸æ˜¯ç†æƒ³FTï¼Œå¦‚æœæ˜¯ç†æƒ³çš„FTï¼Œå³åœ¨ (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) ä¸Šç§¯åˆ†ï¼Œé‚£ä¹ˆé™¤äº† Ï‰=3rad/s\\omega=3 rad/ sÏ‰=3rad/s çš„ç§¯åˆ†å€¼å°†æ˜¯ +âˆ+\\infty+âˆ ä¹‹å¤–ï¼Œå…¶ä»–ä»»æ„é¢‘ç‡å¤„çš„å€¼éƒ½åº”è¯¥æ˜¯0ï¼Œå¾—åˆ°çš„å°†æ˜¯ä¸€ä¸ªå†²æ¿€å‡½æ•°ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæˆ‘ç”¨çš„æ˜¯ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆè¯¦è§æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ï¼‰ï¼Œå¯ä»¥æš‚æ—¶ç†è§£ä¸ºç±»ä¼¼äºæˆ‘ä»¬è®¨è®ºè¿‡çš„æœ‰é™åŒºé—´ï¼Œå½“é¢‘ç‡é è¿‘3rad/sæ—¶ï¼ˆå¦‚ä¹‹å‰æåˆ°çš„3.1rad/sçš„ä¾‹å­ï¼‰ï¼Œä¹Ÿä¼šç§¯åˆ†å‡ºæ¥ä¸€ä¸ªè¾ƒå¤§çš„æ•°å€¼ï¼Œæ‰€ä»¥è¿™é‡Œä¸æ˜¯ä¸€ä¸ªå†²å‡»å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªå±±å³°çŠ¶çš„å‡½æ•°ï¼› 2ã€å‚…é‡Œå¶å˜æ¢ä¹‹åæ˜¯å…·æœ‰å®éƒ¨å’Œè™šéƒ¨çš„ï¼Œå®éƒ¨æ˜¯ä¸cosçš„ç›¸ä¼¼åº¦ï¼Œè™šéƒ¨æ˜¯ä¸sinçš„ç›¸ä¼¼åº¦ã€‚æˆ‘ä»¬è¦é¢‘ç‡ä¿¡æ¯çš„æ—¶å€™ï¼Œä¸ç®¡æ˜¯ä¸æŸä¸€é¢‘ç‡wçš„cosçš„ç›¸ä¼¼è¿˜æ˜¯ä¸æŸä¸€é¢‘ç‡wçš„sinçš„ç›¸ä¼¼ï¼Œéƒ½æ˜¯è¿™ä¸€é¢‘ç‡wå˜›ï¼Œä¸éœ€è¦åŒºåˆ†ã€‚å› æ­¤ï¼Œè¿™é‡Œç”»å›¾å–äº†æ¨¡ï¼Œå°±ä¸å­˜åœ¨å®éƒ¨å’Œè™šéƒ¨äº†ã€‚ 3ã€åœ¨Ï‰=3rad/s\\omega=3 r a d / sÏ‰=3rad/så¤„ä¹‹æ‰€ä»¥æ²¡æœ‰å‡ºç°æˆ‘ä»¬è®¨è®ºçš„å¾ˆå¤§å¾ˆå¤§å¾ˆå¤§çš„å€¼ï¼Œæ˜¯å› ä¸ºç”»å›¾ä¹‹å‰å¯¹äºå˜æ¢ä¹‹åçš„å¹…å€¼ç»Ÿä¸€é™¤ä»¥äº†ä¿¡å·å–æ ·ç‚¹çš„ä¸ªæ•°ï¼Œç»Ÿä¸€å‹ç¼©äº†ä¸€å®šçš„å€æ•°ã€‚ æ€»ç»“ 1.ç”±äºsinå’Œcosæ˜¯ä¸€å¯¹æ­£äº¤åŸºï¼Œæ‰€ä»¥æ‰€æœ‰çš„ä¿¡å·éƒ½å¯ä»¥åˆ†è§£æˆæ­£å¼¦ä¿¡å·ä¸ä½™å¼¦ä¿¡å·çš„çº¿æ€§å åŠ ã€‚ 2.é™¤äº†ä¸ä¹˜ä»¥æœ¬èº«é¢‘ç‡wçš„æ­£ä½™å¼¦ç›¸åŒä¿¡å·å†åœ¨(âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ)èŒƒå›´ä¸Šç§¯åˆ†çš„ç»“æœä¼šæ˜¯é0ä»¥å¤–ï¼Œä¹˜ä»¥å…¶ä»–é¢‘ç‡ä¿¡å·çš„ç»“æœéƒ½æ˜¯0.é€šè¿‡è¿™ä¸ªç‰¹æ€§å¯ä»¥å°†æ˜¯å¦å«æœ‰wé¢‘ç‡ä¿¡å·é‰´åˆ«å‡º 2.å‚…é‡Œå¶å˜åŒ–çš„åŸºå‡½æ•°ejwte^{jwt}ejwtç”±æ¬§æ‹‰å…¬å¼å¯åˆ†è§£ä¸ºeâˆ’jwt=cosâ¡(wt)âˆ’jsinâ¡(wt)e^{-j w t}=\\cos (w t)-j \\sin (w t)eâˆ’jwt=cos(wt)âˆ’jsin(wt),æ‰€ä»¥æ ¹æ®å…¬å¼:X(w)=âˆ«âˆ’âˆ+âˆx(t)cosâ¡(wt)dtâˆ’jâˆ«âˆ’âˆ+âˆx(t)sinâ¡(wt)dtX(w)=\\int_{-\\infty}^{+\\infty} x(t) \\cos (w t) d t-j \\int_{-\\infty}^{+\\infty} x(t) \\sin (w t) d tX(w)=âˆ«âˆ’âˆ+âˆâ€‹x(t)cos(wt)dtâˆ’jâˆ«âˆ’âˆ+âˆâ€‹x(t)sin(wt)dtï¼Œå‰éƒ¨åˆ†ä¹˜ä»¥cos(wt)èƒ½æŒ‘å‡ºcosæˆåˆ†ä¸­çš„ä¿¡å·é¢‘ç‡ï¼Œåéƒ¨åˆ†ä¹˜ä»¥çš„sin(wt)èƒ½æŒ‘å‡ºsinæˆåˆ†ä¸­çš„ä¿¡å·é¢‘ç‡ã€‚å†å°†æŒ‘å‡ºçš„å„ä¿¡å·é¢‘ç‡çº¿æ€§å åŠ çš„ç»“æœå°±æ˜¯åˆ†è§£ä¿¡å·æ€»çš„å«æœ‰å„è°æ³¢åˆ†é‡çš„é¢‘ç‡ äºŒ.å‚…é‡Œå¶å˜æ¢ï¼ˆFTï¼‰çš„ç¼ºç‚¹ä¸çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰ ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆDFTï¼‰ åœ¨æœ¬æ–‡æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®ä¸€ä¸‹å®é™…ä¿¡å·è¿›è¡Œçš„FTçš„ä¸€äº›ç‰¹æ®Šä¹‹å¤„ã€‚å®é™…é‡‡é›†çš„ä¿¡å·å¾€å¾€æ˜¯è¿™æ ·çš„ï¼š å®é™…çš„ä¿¡å·å¾€å¾€å…·æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š 1ã€ç¦»æ•£æ€§ï¼Œå°±æ˜¯é‡‡é›†æ•°æ®ä¸è¿ç»­ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼Œé‡‡é›†ä¿¡å·è‚¯å®šæ˜¯ä¸€ä¸ªä¸€ä¸ªæ•°æ®é‡‡é›†çš„ï¼› 2ã€æœ‰é™æ€§ï¼Œè™½ç„¶ç†æƒ³çš„å‚…é‡Œå¶å˜æ¢æ˜¯ä» (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) è¿›è¡Œç§¯åˆ†ï¼Œä½†æ˜¯å®é™…ä¿¡å·å¾€å¾€å®åœ¨ä¸€ä¸ªåŒºé—´å†…(a,b)çš„ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆDISCRETE FOURIER TRANSFORMï¼Œç®€ç§°DFTï¼‰ï¼ŒDFTä¸FTç›¸æ¯”ï¼Œå°±æ˜¯å¤šäº†ä¸¤ä¸ªç‰¹å¾ï¼š1ã€ç¦»æ•£å‹ï¼Œ2ã€æœ‰é™æ€§ã€‚ æˆ‘ä»¬æ¥ä¸€èµ·è¯•ä¸€è¯•å¦‚ä½•æ¨å¯¼DFTå…¬å¼ã€‚é¦–å…ˆè®¾é‡‡é›†äº†Nä¸ªä¿¡å·ç‚¹ï¼Œå…¶æ—¶åˆ»ä¸º t0,t1,â€¦tNâˆ’1t_{0}, t_{1}, \\ldots t_{N-1}t0â€‹,t1â€‹,â€¦tNâˆ’1â€‹ï¼Œå¯¹åº”æ—¶åˆ»é‡‡é›†åˆ°çš„ä¿¡å·å€¼ä¸ºx(t0),x(t1),â€¦x(tNâˆ’1)x\\left(t_{0}\\right), x\\left(t_{1}\\right), \\ldots x\\left(t_{N-1}\\right)x(t0â€‹),x(t1â€‹),â€¦x(tNâˆ’1â€‹) ã€‚å¾ˆè‡ªç„¶çš„ï¼ŒåŸæ¥ä¿¡å·è¿ç»­ï¼Œæ˜¯ç§¯åˆ†ï¼Œç°åœ¨æ•°æ®ç¦»æ•£äº†ï¼Œé‚£å°±æ˜¯æŠŠç§¯åˆ†å˜æˆç´¯åŠ ã€‚äºæ˜¯æˆ‘ä»¬å¾—åˆ°ï¼š X(w)=âˆ‘i=0Nâˆ’1x(ti)eâˆ’jwtiX(w)=\\sum_{i=0}^{N-1} x\\left(t_{i}\\right) e^{-j w t_{i}}X(w)=âˆ‘i=0Nâˆ’1â€‹x(tiâ€‹)eâˆ’jwtiâ€‹ è¿™ä¹ˆä¸€æ¥ï¼Œæˆ‘ä»¬å‘ç°ï¼ŒåŸä¿¡å·æœ‰Nä¸ªæ•°æ®ç‚¹ï¼ŒDFTå˜æ¢åçš„ä¿¡å·å´å˜æˆè¿ç»­çš„äº†ï¼Œæˆ‘ä»¬å°†ä¹‹ç§°ä¸ºç¦»æ•£æ—¶é—´å‚…é‡Œå¶å˜æ¢ï¼ˆDISCRETE TIME FOURIER TRANSFORMï¼Œç®€ç§°DTFTï¼‰ã€‚ DTFTæœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼Œç¬¬ä¸€ï¼Œ ä¸”è¿ç»­ï¼Œéœ€è¦è¿›è¡Œæ— æ•°æ¬¡è®¡ç®—ï¼Œè®¡ç®—æœºæ— æ³•è®¡ç®—ï¼›ç¬¬äºŒï¼Œåœ¨è¿›è¡Œè®¡ç®—çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å·²çŸ¥ï¼št0,t1,/ldotstNâˆ’1t_{0}, t_{1}, /ldots t_{N-1}t0â€‹,t1â€‹,/ldotstNâˆ’1â€‹å’Œ x/left(t0/right),x/left(t1/right),/ldotsx/left(tNâˆ’1/right)x/left(t_{0}/right), x/left(t_{1}/right), /ldots x/left(t_{N-1}/right)x/left(t0â€‹/right),x/left(t1â€‹/right),/ldotsx/left(tNâˆ’1â€‹/right) ï¼Œä½†æ˜¯è°ƒç”¨è¿‡FFTå‡½æ•°çš„åŒå­¦éƒ½çŸ¥é“ï¼ŒFFTåªéœ€è¦å·²çŸ¥x/left(t0/right),x/left(t1/right),/ldotsx/left(tNâˆ’1/right)x/left(t_{0}/right), x/left(t_{1}/right), /ldots x/left(t_{N-1}/right)x/left(t0â€‹/right),x/left(t1â€‹/right),/ldotsx/left(tNâˆ’1â€‹/right)å°±å¯ä»¥è¿›è¡Œã€‚ è¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ é¦–å…ˆï¼Œæˆ‘ä»¬**ä½¿ç”¨ç›¸å¯¹é‡‡æ ·æ—¶é—´ ä»£æ›¿çœŸå®é‡‡æ ·æ—¶é—´ ï¼Œ**å¯ä»¥å¾—åˆ°ï¼š ã€‚ æ­¤æ—¶æˆ‘ä»¬å‘ç°ï¼Œ X(w)X(w)X(w) å˜æˆäº†ä»¥ 2/pi2/pi2/piä¸ºå‘¨æœŸçš„å‡½æ•°ï¼Œå³ é‚£ä¹ˆï¼Œæˆ‘ä»¬åªéœ€è¦è®¡ç®— w/in(0,2/pi)w /in(0,2 /pi)w/in(0,2/pi) åŒºé—´çš„ X(w)X(w)X(w) ï¼Œå°±å¯ä»¥å¾—åˆ° w/in(âˆ’/infty,+/infty)w /in(-/infty,+/infty)w/in(âˆ’/infty,+/infty) åŒºé—´çš„X(w)X(w)X(w)äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡ä½¿ç”¨ç›¸å¯¹é‡‡æ ·æ—¶é—´ ä»£æ›¿çœŸå®é‡‡æ ·æ—¶é—´t0,t1,/ldotstNâˆ’1t_{0}, t_{1}, /ldots t_{N-1}t0â€‹,t1â€‹,/ldotstNâˆ’1â€‹ï¼Œæˆ‘ä»¬å°† çš„èŒƒå›´ä» (âˆ’/infty,+/infty)(-/infty,+/infty)(âˆ’/infty,+/infty) ç¼©å°åˆ°äº†(0,2/pi2/pi2/pi). è‡ªç„¶åœ°ï¼Œæˆ‘ä»¬å¸Œæœ›å°†(0,2Ï€2\\pi2Ï€)ç¦»æ•£åŒ–ç§°ä¸ºNä¸ªç‚¹ï¼Œè¿™æ ·è®¡ç®—æœºå°±å¯ä»¥è®¡ç®—äº†ï¼åˆ™å–w=2Ï€kN,k=0,1,â€¦Nâˆ’1w=\\frac{2 \\pi k}{N}, k=0,1, \\ldots N-1w=N2Ï€kâ€‹,k=0,1,â€¦Nâˆ’1ï¼Œåˆ™æœ‰ï¼š X(k)=âˆ‘n=0Nâˆ’1x(n)eâˆ’j2Ï€kNn,k=0,1â€¦Nâˆ’1X(k)=\\sum_{n=0}^{N-1} x(n) e^{-j \\frac{2 \\pi k}{N} n}, k=0,1 \\ldots N-1X(k)=âˆ‘n=0Nâˆ’1â€‹x(n)eâˆ’jN2Ï€kâ€‹n,k=0,1â€¦Nâˆ’1 å¥½äº†ï¼Œè¿™å°±æ˜¯ç¦»æ•£å‚…é‡Œå¶å˜æ¢DFTäº†ï¼ æ¥ä¸‹æ¥ï¼Œæ¥çœ‹DFTçš„ä¸¤ä¸ªæ€§è´¨ï¼š ç¬¬ä¸€ï¼Œ ï¼Œå³ æ˜¯æ‰€æœ‰å…ƒç´ çš„å’Œï¼Œé€šå¸¸ä¼šæ¯”å…¶ä»–çš„å…ƒç´ å¤§å‡ ä¸ªæ•°é‡çº§ã€‚ ç¬¬äºŒï¼Œ ï¼Œ ï¼Œ ï¼Œå³ç¬¬äºŒä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ å…±è½­ï¼ŒåŒç†æœ‰ ç­‰ç­‰ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒDFTä¹‹åçš„N ä¸ªå…ƒç´ ä¸­ï¼Œç¬¬ä¸€ä¸ªä¸ºå‡å€¼ï¼›ä¹‹åçš„ N-1ä¸ªå…ƒç´ ï¼Œåªæœ‰ä¸€åŠå…ƒç´ æ˜¯ç‹¬ç«‹çš„ã€‚ éœ€è¦è¯´æ˜ï¼Œè¿™é‡Œ æ˜¯ä¸€ç§ç›¸å¯¹é¢‘ç‡ï¼Œç‹¬ç«‹å…ƒç´ ä¸­ï¼Œæœ€å°ç›¸å¯¹é¢‘åŸŸä¸º1ï¼Œæœ€å¤§ç›¸å¯¹é¢‘ç‡ä¸º /fracN2/frac{N}{2}/fracN2 ã€‚è¦æƒ³æŠŠ è¿˜åŸåˆ°çœŸå®çš„é¢‘ç‡ ï¼Œåªéœ€è¦ ï¼Œå°† æ˜ å°„åˆ° å³å¯ï¼Œ ä¸ºé‡‡æ ·é¢‘ç‡ã€‚ PSï¼šç®€å•è¯´ä¸€ä¸‹ï¼Œæ ¹æ®é¦™å†œé‡‡æ ·å®šç†ï¼Œå½“é‡‡æ ·é¢‘ç‡ä¸º æ—¶ï¼Œèƒ½é‡‡åˆ°çš„æœ€å¤§ä¿¡å·é¢‘ç‡ä¸ºã€‚å› æ­¤ï¼Œå°†ç›¸å¯¹é¢‘ç‡ é€šè¿‡å…¬å¼ ï¼Œå¾—åˆ°çš„ å°±åœ¨åŒºé—´å†…ï¼Œä¹Ÿå°±æ˜¯çœŸå®é¢‘ç‡çš„åŒºé—´äº†ã€‚ æ‰€ä»¥DFTå…¬å¼ä¸ºï¼š PSï¼šDFTå…¬å¼çš„å½¢å¼å¾ˆå¤šï¼Œæœ‰çš„æ˜¯ä»æ—¶åŸŸåˆ°é¢‘åŸŸï¼Œæœ‰çš„æ˜¯ä»ç©ºé—´åŸŸåˆ°é¢‘åŸŸï¼Œä½†æ˜¯æœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒæŠ“ä½ç¦»æ•£æ€§å’Œæœ‰é™æ€§ä¸¤ä¸ªç‰¹ç‚¹å³å¯ã€‚ç¦»æ•£æ€§æ˜¯æŒ‡ç§¯åˆ†å˜æˆäº†ç´¯åŠ ï¼Œæœ‰é™æ€§æ˜¯æŒ‡ç§¯åˆ†/ç´¯åŠ åŒºé—´ä¸æ˜¯ (âˆ’âˆ,+âˆ)(-\\infty,+\\infty)(âˆ’âˆ,+âˆ) äº†ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ‰é™åŒºé—´äº†ã€‚ å‚…é‡Œå¶å˜æ¢ï¼ˆFTï¼‰çš„ç¼ºç‚¹ åº”è¯¥è¯´æ˜ï¼Œè™½ç„¶æœ¬å°èŠ‚çš„é¢˜ç›®æ˜¯FTçš„ç¼ºç‚¹ï¼Œä½†æ˜¯FTå’ŒDFTçš„æœ¬è´¨æ˜¯ç›¸åŒçš„ã€‚ç”±äºä¿¡å·éƒ½æ˜¯æœ‰é™é•¿åº¦çš„ã€ç¦»æ•£çš„ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¿›è¡Œçš„éƒ½æ˜¯DFTï¼Œä¸è¿‡åœ¨æŸäº›éƒ¨åˆ†ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œè¿˜æ˜¯å†™äº†FTçš„å…¬å¼ã€‚åœ¨çœ‹æœ¬æ–‡çš„æ—¶å€™ï¼Œä½ ä¸éœ€è¦åˆ»æ„åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚ æˆ‘ä»¬ç°åœ¨æ¥çœ‹ä¸¤ä¸ªä¿¡å·ï¼Œå¦‚ä¸‹å›¾ï¼š y1=sinâ¡(5t)âˆ—(0&lt;t&lt;25)+sinâ¡(t)âˆ—(25&lt;t&lt;50)y 1=\\sin (5 t) *(0&lt;t&lt;25)+\\sin (t) *(25&lt;t&lt;50)y1=sin(5t)âˆ—(0&lt;t&lt;25)+sin(t)âˆ—(25&lt;t&lt;50) y2=sinâ¡(t)âˆ—(0&lt;t&lt;25)+sinâ¡(5t)âˆ—(25&lt;t&lt;50)y 2=\\sin (t) *(0&lt;t&lt;25)+\\sin (5 t) *(25&lt;t&lt;50)y2=sin(t)âˆ—(0&lt;t&lt;25)+sin(5t)âˆ—(25&lt;t&lt;50) è¿™ä¸¤ä¸ªä¿¡å·éƒ½æ˜¯ç”±sin(t)å’Œsin(5t)ç»„æˆçš„ï¼Œy1æ˜¯å…ˆå‡ºç°äº†sin(5t)ï¼Œå†å‡ºç°äº†sin(t)ï¼Œy2æ˜¯å…ˆå‡ºç°äº†sin(t)ï¼Œå†å‡ºç°äº†sin(5t)ã€‚ æˆ‘ä»¬å¯¹å®ƒä»¬è¿›è¡ŒFTï¼Œçœ‹çœ‹ä»–ä»¬åŒ…å«æ€ä¹ˆæ ·çš„é¢‘ç‡ï¼Œå¦‚ä¸‹å›¾ï¼š y1,FT y2,FT Amazingï¼å‘ç°äº†ä»€ä¹ˆï¼Ÿå˜æ¢åçš„ç»“æœæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œéƒ½åœ¨w=1rad/så’Œw=5rad/så‡ºç°äº†å³°å€¼ï¼è¿™å°±å¯ä»¥è¯´æ˜FTçš„ç¼ºç‚¹äº†â€”â€”FTåªèƒ½æä¾›é¢‘åŸŸä¿¡æ¯ï¼Œè€Œå®Œå…¨ä¸¢å¤±äº†æ—¶åŸŸä¿¡æ¯ï¼ï¼ï¼ ä¸ç®¡æŸä¸€é¢‘ç‡çš„ä¿¡å·å‡ºç°çš„æ—¶é—´æ˜¯æ—©è¿˜æ˜¯æ™šï¼ŒFTéƒ½æ˜¯å°†å®ƒä¸€è§†åŒä»åœ°ä¹˜ä¸Šsinå’Œcos(FTçš„å˜æ¢åŸºå‡½æ•°)ï¼Œç„¶ååœ¨æ•´ä¸ªæ—¶é—´åŒºé—´åŠ å’Œã€‚å› æ­¤ï¼Œå®ƒä¸èƒ½æä¾›æŸä¸€é¢‘ç‡ä¿¡å·å‡ºç°çš„æ—¶é—´ã€‚ æ¯”å¦‚ï¼Œå¯¹äºä¸Šé¢ä¸¤ä¸ªä¿¡å·ï¼ŒFTåªèƒ½å‘Šè¯‰æˆ‘ä»¬ï¼Œå®ƒä»¬éƒ½æœ‰1rad/så’Œ5rad/sçš„é¢‘ç‡ï¼Œè€Œä¸èƒ½å‘Šè¯‰æˆ‘ä»¬1rad/så’Œ5rad/såˆ†åˆ«å‡ºç°åœ¨å“ªä¸ªæ—¶é—´æ®µã€‚ æ‰€ä»¥ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿï¼Ÿï¼Ÿ é‚£å°±æ˜¯æŠŠä¿¡å·åˆ†æˆå·¦å³ä¸¤åŠå•Šï¼å·¦è¾¹è¿›è¡Œä¸€æ¬¡FTï¼Œå³è¾¹è¿›è¡Œä¸€æ¬¡FTï¼Œå¾ˆç®€å•å§ï¼å¥½äº†ï¼Œè¿™å°±æ˜¯çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰çš„åŸºæœ¬åŸç†ã€‚ æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦æ­£å¼å¼€å§‹æ­¥å…¥â€”â€”çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰ å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å°†ä¿¡å·ä»ä¸­é—´æˆªæ–­ï¼Œå·¦è¾¹è¿›è¡Œä¸€æ¬¡FTï¼Œå³è¾¹è¿›è¡Œä¸€æ¬¡FTï¼Œåˆ†åˆ«æ¥çœ‹çœ‹ã€‚ y1å·¦ y1å³ y2å·¦ y2å³ å¯ä»¥çœ‹å‡ºï¼Œy1çš„å·¦åŠéƒ¨åˆ†æ˜¯5rad/sï¼Œå³åŠéƒ¨åˆ†æ˜¯1rad/sï¼Œy2æ°å¥½ç›¸åã€‚è¿™å°±è¯´æ˜ï¼Œåœ¨y1ä¸­ï¼Œ(0, 25)çš„ä¿¡å·æ˜¯5rad/sçš„é¢‘ç‡ï¼Œ(25, 50)çš„ä¿¡å·æ˜¯5rad/sçš„é¢‘ç‡ï¼Œy2æ°å¥½ç›¸åã€‚è¿™å°±æ˜¯çŸ­æ—¶å‚…é‡Œå¶å˜æ¢çš„åŸºæœ¬åŸç†ã€‚ ä½†æ˜¯æ•°å­¦å˜›ï¼Œèƒ½ç”¨ä¸€ä¸ªå…¬å¼è¡¨è¾¾çš„ï¼Œå°±åˆ«ç”¨ä¸€æ®µè¯è¡¨è¾¾ï¼Œæˆªæ–­ã€åˆ‡å¼€è¿™äº›è¯­å¥å¤ªä¸ä¸“ä¸šäº†ã€‚æˆªæ–­ã€åˆ‡å¼€çš„æ“ä½œï¼Œæ›´ä¸“ä¸šçš„è®²å«ä½œåˆ†çª—ï¼Œå…¶å®æ˜¯å¯ä»¥é€šè¿‡æ•°å­¦ä¸Šçš„å¤„ç†å˜æˆDFTå˜æ¢çš„åŸºå‡½æ•°çš„ä¸€éƒ¨åˆ†çš„ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ã€‚ é¦–å…ˆï¼Œä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œæœ‰ä¸€ä¸ªçª—å­åœ¨è¿™ä¸ªä¿¡å·ä¸Šä»å·¦å‘å³æ»‘åŠ¨ï¼Œæ¯æ¬¡ä½ éƒ½åªèƒ½çœ‹åˆ°è¿™ä¸ªä¿¡å·çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠè¿™ä¸ªé•¿åº¦å«ä½œçª—é•¿widthã€‚ ç°åœ¨æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªæ–¹çª—å‡½æ•°ywindow=1âˆ—(âˆ’width/2&lt;t&lt;width/2)y_{\\text {window}}=1 *(-\\text {width} / 2&lt;t&lt;\\text {width} / 2)ywindowâ€‹=1âˆ—(âˆ’width/2&lt;t&lt;width/2) ï¼Œå¦‚ä¸‹å›¾ï¼Œå³æ˜¯width = 10 çš„ä¸€ä¸ªæ–¹çª—å‡½æ•°ï¼š å®šä¹‰äº†æ–¹çª—å‡½æ•°ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹æ–¹çª—å‡½æ•°è¿›è¡Œå¹³ç§»ï¼Œå†ä¸åŸä¿¡å·ä½œä¹˜ï¼Œå°±ç›¸å½“äºåŸæ¥çš„æˆªæ–­ã€åˆ‡å¼€çš„æ“ä½œï¼Œå› æ­¤è¿™ç§æ“ä½œæ›´ä¸“ä¸šåœ°å«ä½œåˆ†çª—ã€‚ é‚£ä¹ˆï¼Œå°†æ–¹çª—å‡½æ•°å‘å³å¹³ç§»äº† ï¼ˆså¯èƒ½æ˜¯slidingçš„æ„æ€å§ï¼‰ï¼Œå†ä¸åŸä¿¡å·ç›¸ä¹˜ï¼Œç”±äºæ–¹çª—å‡½æ•°é™¤äº†ä¸­å¿ƒçš„widthéƒ¨åˆ†æ˜¯1å¤–ï¼Œå…¶ä»–éƒ¨åˆ†éƒ½æ˜¯0ï¼Œè¿™å°±ç›¸å½“äºæå–å‡ºäº†åŸä¿¡å·åœ¨å¤„ï¼Œå®½åº¦ä¸ºwidthçš„éƒ¨åˆ†ï¼Œè¿™ä¸ªä¿¡å·åˆ†çª—è¿™ä¸ªæ“ä½œå°±å¯ä»¥å†™æˆï¼š ã€‚ å¦‚ä¸‹ä¸¤å›¾æ‰€ç¤ºï¼Œå°† ä¸ ç›¸ä¹˜ï¼Œå°±ç›¸å½“äºå–å‡ºæ¥äº† ä¸­çš„(20,30)ä¸­çš„ä¸€æ®µã€‚ é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯¹åŸä¿¡å·ä¸­è¢«æå–å‡ºæ¥çš„è¿™ä¸€éƒ¨åˆ†è¿›è¡ŒFTï¼Œå°±å¯ä»¥å†™æˆï¼š X(w,ts)=âˆ«âˆ’âˆ+âˆywindow(tâˆ’ts)y(t)eâˆ’jw(tâˆ’ts)dtX\\left(w, t_{s}\\right)=\\int_{-\\infty}^{+\\infty} y_{w i n d o w}\\left(t-t_{s}\\right) y(t) e^{-j w\\left(t-t_{s}\\right)} d tX(w,tsâ€‹)=âˆ«âˆ’âˆ+âˆâ€‹ywindowâ€‹(tâˆ’tsâ€‹)y(t)eâˆ’jw(tâˆ’tsâ€‹)dt PSï¼šè¿™é‡Œä¹‹æ‰€ä»¥ è¦å˜æˆ ï¼Œæ˜¯ä¸ºäº†ä¿è¯åšFTçš„æ—¶å€™ç›¸ä¹˜çš„åŸºå‡½æ•°å…·æœ‰ç»Ÿä¸€æ€§ã€‚ å¦‚æ­¤ï¼Œå˜æ¢åçš„ä»£è¡¨åŸä¿¡å·åœ¨å¤„ã€å®½åº¦ä¸ºwidthçš„éƒ¨åˆ†çš„å‚…é‡Œå¶å˜æ¢ï¼Œä¹Ÿå°±å¯ä»¥æå–å‡ºæ¥åŸä¿¡å·åœ¨å¤„ã€å®½åº¦ä¸ºwidthçš„éƒ¨åˆ†ï¼ŒåŒ…å«å„ä¸ªé¢‘ç‡éƒ¨åˆ†çš„å¤šå°‘ï¼å¸¦å…¥ä¸åŒçš„ ï¼Œä¹Ÿå°±æ˜¯éšç€çª—å­çš„æ»‘åŠ¨ï¼Œå°±å¯ä»¥çŸ¥é“ä¸åŒçš„æ—¶é—´æ®µå†…é¢‘ç‡çš„æˆåˆ†ã€‚ æˆ‘ä»¬é‡‡ç”¨widthä¸º10çš„æ–¹çª—å‡½æ•°å¯¹y3=sinâ¡(20t)âˆ—(0&lt;t&lt;25)+sinâ¡(t)âˆ—(25&lt;t&lt;50)y 3=\\sin (20 t) *(0&lt;t&lt;25)+\\sin (t) *(25&lt;t&lt;50)y3=sin(20t)âˆ—(0&lt;t&lt;25)+sin(t)âˆ—(25&lt;t&lt;50)è¿›è¡ŒSTFTï¼Œå¦‚ä¸‹ï¼š é¦–å…ˆï¼Œæ–¹çª—å‡½æ•°ä½äº å¤„ï¼Œä¸åŸå§‹ä¿¡å·ç›¸ä¹˜ï¼Œé€‰æ‹©å‡º(0,10)çš„ä¿¡å·ã€‚ å¯¹é€‰æ‹©å‡ºæ¥çš„ä¿¡å·è¿›è¡ŒFTã€‚å¯ä»¥çœ‹åˆ°ï¼Œå½“t=5sæ—¶ï¼Œé€‰æ‹©çš„æ—¶é—´åŒºé—´ä¸º(0,10)ï¼Œè¿™ä¸€éƒ¨åˆ†åªåŒ…å«äº† çš„é¢‘ç‡æˆåˆ†ã€‚ ä¹‹åï¼Œæ–¹çª—å‡½æ•°å‘å³ç§»åŠ¨ï¼Œä¸åŸå§‹ä¿¡å·ç›¸ä¹˜ï¼Œé€‰æ‹©å‡ºä¸åŒæ—¶é—´åŒºé—´çš„ä¿¡å·ï¼Œè¿›è¡ŒFTã€‚è¿™é‡Œé€‰æ‹©t=25sè¿›è¡Œå±•ç¤ºã€‚ å¯ä»¥çœ‹åˆ°ï¼Œå½“t=25sæ—¶ï¼Œé€‰æ‹©çš„æ—¶é—´åŒºé—´ä¸º(20,30)ï¼Œè¿™ä¸€éƒ¨åˆ†å³åŒ…å«äº† çš„é¢‘ç‡æˆåˆ†ï¼Œä¹ŸåŒ…å«äº† çš„é¢‘ç‡æˆåˆ†ã€‚ é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–¹çª—å‡½æ•°é€‰æ‹©çš„ä¸åŒæ—¶é—´åŒºé—´çš„ä¿¡å·çš„FTçš„ç»“æœæ‹¼åˆèµ·æ¥ï¼Œå½¢æˆä¸€å¼ ä¸‰ç»´å›¾ã€‚ç”±æ­¤ï¼Œæˆ‘ä»¬å³å¯çŸ¥é“ï¼Œåœ¨ çš„æ—¶é—´åŒºé—´å†…ï¼Œä¿¡å·å…·æœ‰æ€ä¹ˆæ ·çš„é¢‘ç‡æˆåˆ†ã€‚ é€šè¿‡width = 10çš„æ–¹çª—çš„STFTç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå¯¹äºä¿¡å·ï¼š ï¼Œåœ¨(0,10)ã€(10,20)æ—¶é—´åŒºé—´å†…ï¼Œå…·æœ‰20rad/sçš„é¢‘ç‡æˆåˆ†ï¼›åœ¨(20,30)æ—¶é—´åŒºé—´å†…ï¼Œå…·æœ‰1rad/så’Œ20rad/sçš„é¢‘ç‡æˆåˆ†ï¼›åœ¨(30,40)ã€(40,50)æ—¶é—´åŒºé—´å†…ï¼Œå…·æœ‰1rad/sçš„é¢‘ç‡æˆåˆ†ã€‚ æœ€åï¼Œè¿›è¡Œä¸‰ç‚¹é‡è¦çš„è®¨è®ºã€‚ ç¬¬ä¸€ç‚¹ï¼Œå˜æ¢ä¹‹åçš„ æ˜¯ä¸€ä¸ªä¸‰ç»´å‡½æ•°ï¼Œå®ƒæœ‰ä¸¤ä¸ªè‡ªå˜é‡ï¼Œ å’Œwã€‚ æŒ‡çš„æ˜¯åŸä¿¡å·åœ¨**å¤„ï¼Œ**wä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡äº†ï¼Œå°±æ˜¯é¢‘ç‡ã€‚æ‰€ä»¥ï¼ŒSTFTæå–å‡ºæ¥çš„ä¿¡æ¯å°±æ˜¯ï¼šåŸä¿¡å·åœ¨å¤„ã€å®½åº¦ä¸ºwidthçš„éƒ¨åˆ†ï¼ŒåŒ…å«çš„é¢‘ç‡ä¿¡æ¯ã€‚ åŸåˆ™ä¸Šè®²ï¼Œå¯ä»¥å¾—åˆ°ä»»ä¸€å¯¹åº”çš„é¢‘ç‡æˆåˆ†ï¼Œå¦‚ä¸‹å›¾ã€‚ ä½†æ˜¯ æ˜¯è¿ç»­çš„ï¼Œå¹¶ä¸æ„å‘³ç€ä½ çŸ¥é“äº†æ¯ä¸ªæ—¶åˆ»çš„é¢‘ç‡æˆåˆ†ï¼Œä½ çŸ¥é“çš„è¿˜åªæ˜¯ è¿™ä¸€æ®µåŒºé—´å†…çš„é¢‘ç‡ä¿¡æ¯ã€‚æ‰€ä»¥ä¸€èˆ¬ä¸éœ€è¦è®¡ç®—æ‰€æœ‰çš„ ï¼Œæ¯éš”widthè®¡ç®—ä¸€æ¬¡å³å¯ã€‚ ä½ æˆ–è®¸ä¼šæƒ³ï¼Œæˆ‘**æŠŠwidthç¼©å°ä¸€äº›ï¼Œä¸å°±å¯ä»¥çŸ¥é“æ›´ç²¾ç¡®çš„æ—¶é—´èŒƒå›´å†…çš„é¢‘ç‡äº†å—ï¼Ÿ**æ˜¯çš„ï¼Œä½ çš„çŒœæƒ³å¾ˆå¯¹ï¼ä½†æ˜¯ï¼Œ**å¦‚æ­¤åšä¹Ÿä¼šå¸¦æ¥ä¸€äº›é¢‘åŸŸåˆ†è¾¨ç‡çš„é—®é¢˜ã€‚**è¿™ä¸€ç‚¹æ¶‰åŠåˆ°ä¸€äº›æ—¶åŸŸåˆ†è¾¨ç‡å’Œé¢‘åŸŸåˆ†è¾¨ç‡çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« ä¼šç€é‡è®²ã€‚ æœ¬è´¨å˜åŒ–: ç¬¬äºŒç‚¹ï¼Œæ–¹çª—å‡½æ•°æ˜¯å¯ä»¥åŒ…å«å…¥å˜æ¢åŸºå‡½æ•°å†…éƒ¨çš„ï¼Œè¿™ç»„æˆäº†æ–°çš„åŸºå‡½æ•°ï¼ŒåŒæ—¶åæ˜ äº†STFTçš„æœ¬è´¨ã€‚ æˆ‘ä»¬æ¥çœ‹ï¼Œ å¦‚æœå®šä¹‰ ï¼Œé‚£ä¹ˆ é‚£ä¹ˆï¼ŒSTFTçš„å…¬å¼ï¼š å°±å¯ä»¥å†™æˆï¼š æˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡æ–‡ç« é‡Œè¯´è¿‡ï¼Œå˜æ¢å°±æ˜¯å°†åŸä¿¡å·ä¹˜ä¸Šä¸€ä¸ªåŸºå‡½æ•°ï¼Œå†ç§¯åˆ†çš„è¿‡ç¨‹ï¼Œé‚£ä¹ˆï¼ŒSDFTçš„åŸºå‡½æ•°å°±æ˜¯ ï¼ Amazingï¼æ‰€ä»¥ï¼ŒSTFTçš„æœ¬è´¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ **STFTçš„æœ¬è´¨å°±æ˜¯å°†FTçš„åŸºå‡½æ•° ä¹˜ä¸Šä¸€ä¸ªæ–¹çª—å‡½æ•°ï¼Œå½¢æˆäº†ä¸€ä¸ªæ–°çš„åŸºå‡½æ•° ï¼**å‰é¢è¯´çš„åˆ†çª—ã€æˆªæ–­ä¹‹ç±»çš„éƒ½æ˜¯è¡¨è±¡ï¼ŒSTFTçš„æœ¬è´¨æ˜¯åŸºå‡½æ•°çš„æ”¹å˜ï¼ é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆSTFTçš„åŸºå‡½æ•°å¯ä»¥ç”¨äºåˆ†çª—ï¼Œè€ŒFTçš„åŸºå‡½æ•°ä¸è¡Œå‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ï¼Œæˆ‘ç”¨æ­£å¼¦å‡½æ•°sin(5t)è¡¨ç¤ºåŸæ¥çš„åŸºå‡½æ•° ï¼Œé‚£ä¹ˆFTåŸºå‡½æ•°å’ŒSTFTåŸºå‡½æ•°å¦‚ä¸‹ï¼š åŸå› å°±æ˜¯ï¼šFTçš„åŸºå‡½æ•°æ˜¯åœ¨æ—¶åŸŸæ— é™å»¶ä¼¸çš„ï¼Œå› æ­¤ï¼Œæ— è®ºæ€ä¹ˆå¹³ç§»ï¼Œéƒ½æ˜¯ä»»åˆ†å¸ƒåœ¨æ•´ä¸ªæ—¶åŸŸçš„ï¼Œèµ·ä¸åˆ°åˆ†çª—çš„ä½œç”¨ã€‚è€ŒSTFTçš„åŸºå‡½æ•°åªåœ¨æ—¶åŸŸä¸€æ®µä¸ä¸º0ï¼Œåœ¨å‰©ä¸‹çš„æ—¶åŸŸéƒ½æ˜¯0ï¼Œå› æ­¤ï¼ŒSTFTçš„åŸºå‡½æ•°çš„å¹³ç§»ï¼Œå°±ç›¸å½“äºè‡ªåŠ¨åŠ äº†çª—å­å•¦ï¼ ç´§æ”¯æ’‘æ€§: è¿™ç§åªåœ¨æ—¶åŸŸä¸€æ®µä¸ä¸º0ï¼Œåœ¨å‰©ä¸‹çš„æ—¶åŸŸéƒ½æ˜¯0çš„æ€§è´¨è¢«ç§°ä¸ºâ€œç´§æ”¯æ’‘æ€§â€ï¼ˆcompactly supportedï¼‰ï¼Œå…·æœ‰è¿™ç§æ€§è´¨çš„å‡½æ•°ï¼Œå¹³ç§»ä¹‹åä¸ä¸€ä¸ªä¿¡å·ç›¸ä¹˜ï¼Œå°±ç›¸å½“äºåˆ†çª—æ“ä½œã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œæˆ‘ä»¬ä¹‹åè®²å°æ³¢å˜æ¢çš„åŸºå‡½æ•°çš„æ—¶å€™è¿˜ä¼šè®²ã€‚ ç¬¬ä¸‰ç‚¹ï¼Œæˆ‘ä»¬å‰é¢å¯¹äºåˆ†çª—æ“ä½œä½¿ç”¨çš„å‡½æ•°ä¸€ç›´ç§°ä¸ºâ€œæ–¹çª—å‡½æ•°â€ï¼Œè¿™æ˜¯ä¸€ç§æœ€ç†æƒ³çš„çª—å‡½æ•°ã€‚è¿˜æœ‰ä¸€äº›å…¶ä»–çš„çª—å‡½æ•°ï¼Œæ¯”å¦‚ï¼Œæ±‰å®çª—ã€æµ·æ˜çª—ã€é«˜æ–¯çª—ç­‰ã€‚çª—å‡½æ•°æœ¬è´¨éƒ½æ˜¯ä¸€ä¸ªçª—å­è€Œå·²ï¼ŒåŸç†æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œä¸Šé¢æ‰€æœ‰çš„è®¨è®ºä¹Ÿéƒ½æˆç«‹ï¼Œåªæ˜¯è¿™äº›çª—å­ä¼šè®©ä¿¡å·ç¨ç¨å˜å½¢ä¸€ä¸¢ä¸¢è€Œå·²ã€‚ä½ å°±æƒ³åƒæ–¹çª—å‡½æ•°å°±æ˜¯ä¸€é¢å¹³é¢é•œï¼Œå…¶ä»–çš„çª—å‡½æ•°å°±æ˜¯å“ˆå“ˆé•œå°±è¡Œäº†ã€‚ æ€»ç»“: Q:ä¸ºä»€ä¹ˆè¦ç”¨ç›¸å¯¹é‡‡æ ·æ—¶é—´ä»£æ›¿çœŸå®é‡‡æ ·æ—¶é—´? A:åŸæ¥åšå‚…ç«‹å¶å˜æ¢ï¼Œæ—¢éœ€è¦çŸ¥é“çœŸå®é‡‡æ ·æ—¶é—´ï¼Œä¹Ÿéœ€è¦çŸ¥é“é‡‡æ ·æ•°æ®ï¼Œç”¨ç›¸å¯¹é‡‡æ ·æ—¶é—´æ›¿ä»£çœŸå®é‡‡æ ·æ—¶é—´ä¹‹åï¼Œåªéœ€è¦çŸ¥é“é‡‡æ ·æ•°æ®ã€‚è¿™æå¤§åœ°æ‹“å±•äº†å‚…ç«‹å¶å˜æ¢çš„ä½¿ç”¨èŒƒå›´ã€‚æ¯”å¦‚ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å‚…ç«‹å¶å˜æ¢çš„å¯¹è±¡éƒ½å¯ä»¥å…·æœ‰çœŸå®é‡‡æ ·æ—¶é—´ã€‚ä¸€å‰¯å›¾åƒä¹Ÿæ˜¯å¯ä»¥å‚…ç«‹å¶å˜æ¢çš„ï¼Œä½†æ˜¯åœ¨å›¾åƒé‡Œï¼Œå¹¶æ²¡æœ‰é‡‡æ ·æ—¶é—´è¿™ä¸ªæ¦‚å¿µï¼Œåªæœ‰0123456è¿™äº›åƒç´ ç´¢å¼•å€¼ï¼Œå¯¹å›¾åƒåšå‚…ç«‹å¶å˜æ¢ï¼Œå°±æ˜¯æŠŠç´¢å¼•å€¼ä½œä¸ºç›¸å¯¹é‡‡æ ·æ—¶é—´ã€‚ ä¸‰.çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰çš„ç¼ºç‚¹ä¸è¿ç»­å°æ³¢å˜æ¢ï¼ˆCWTï¼‰ ä¸‰ã€çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰çš„ç¼ºç‚¹ä¸è¿ç»­å°æ³¢å˜æ¢ï¼ˆCWTï¼‰ 1ã€åˆ†è¾¨ç‡é—®é¢˜ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹æµ·å¾·å ¡æµ‹ä¸å‡†åŸç†ï¼š ï¼Œ ä¸ºä¿¡å·çš„æ—¶é—´ä¸ç¡®å®šåº¦ï¼Œ ä¸ºä¿¡å·çš„é¢‘ç‡ä¸ç¡®å®šåº¦ã€‚å³ï¼Œæˆ‘ä»¬æ°¸è¿œæ— æ³•åŒæ—¶ç¡®å®šä¸€ä¸ªä¿¡å·çš„ç¡®åˆ‡æ—¶é—´å’Œç¡®åˆ‡é¢‘ç‡ã€‚ åŸå› æ¯”è¾ƒç®€å•ï¼Œé¢‘ç‡å…¶å®å°±æ˜¯æ—¶åŸŸå‘¨æœŸæ€§ã€‚å¦‚æœæˆ‘åªç»™ä½ ä¸€ä¸ªæ•°æ®ç‚¹ï¼Œé—®ä½ è¿™ä¸ªæ•°æ®ç‚¹çš„é¢‘ç‡æ˜¯å¤šå°‘ï¼Œè¿™è‚¯å®šæ˜¯åšä¸åˆ°çš„ã€‚è¦ç¡®å®šé¢‘ç‡ï¼Œå°±éœ€è¦ä¸€ä¸ªæ—¶åŸŸåŒºé—´ï¼ˆåŒ…å«å‡ ä¸ªæ—¶åŸŸå‘¨æœŸï¼‰çš„ä¿¡å·ã€‚ æ—¶åŸŸåŒºé—´è¶Šå®½ï¼Œä¿¡å·çš„æ—¶é—´å®šä½è¶Šä¸å‡†ï¼Œæ—¶é—´ä¸ç¡®å®šåº¦ è¶Šå¤§ï¼Œä½†æ˜¯å¾—åˆ°çš„é¢‘ç‡è¶Šå‡†ï¼Œé¢‘ç‡ä¸ç¡®å®šåº¦ è¶Šå°ï¼›æˆ‘ä»¬ç§°ä¹‹ä¸ºï¼šä½çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œé«˜çš„é¢‘åŸŸåˆ†è¾¨ç‡ã€‚ æ—¶åŸŸåŒºé—´è¶Šçª„ï¼Œä¿¡å·çš„æ—¶é—´å®šä½è¶Šå‡†ï¼Œæ—¶é—´ä¸ç¡®å®šåº¦ è¶Šå°ï¼Œä½†æ˜¯å¾—åˆ°çš„é¢‘ç‡è¶Šä¸å‡†ï¼Œé¢‘ç‡ä¸ç¡®å®šåº¦ è¶Šå¤§ï¼›æˆ‘ä»¬ç§°ä¹‹ä¸ºï¼šé«˜çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œä½çš„é¢‘åŸŸåˆ†è¾¨ç‡ã€‚ å¦‚ä¸Šä¸¤å›¾ï¼Œå¯¹äºç¬¬ä¸€ä¸ªå›¾ä¸­ çš„ä¿¡å·ï¼Œè¦ç¡®å®šé¢‘ç‡ï¼Œå³ä½¿æŠŠ éƒ½æ‹¿æ¥ï¼Œè¿˜æ˜¯ä¸å¤ªå‡†ï¼Œå› ä¸ºåªåŒ…å«äº†ä¸€ä¸ªå‘¨æœŸï¼›å¯¹äºç¬¬äºŒä¸ªå›¾ä¸­ çš„ä¿¡å·ï¼Œè¦ç¡®å®šé¢‘ç‡ï¼Œå–ä¸ª å°±å·®ä¸å¤šäº†ï¼Œå› ä¸ºå·²ç»åŒ…å«äº†å¥½å‡ ä¸ªå‘¨æœŸäº†ã€‚ æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ã€‚ å¯¹äºä½é¢‘ä¿¡å·ï¼Œä¸ºäº†æ›´å¥½åœ°ç¡®å®šé¢‘ç‡ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼Œæ—¶åŸŸåŒºé—´å®½ä¸€äº›ï¼Œå³æ—¶é—´ä¸ç¡®å®šåº¦ å¤§ä¸€äº›ï¼Œæ ¹æ®æµ·å¾·å ¡æµ‹ä¸å‡†åŸç†ï¼Œé¢‘ç‡ä¸ç¡®å®šåº¦ è‡ªç„¶å°ä¸€äº›ï¼›å³ä½é¢‘ä¿¡å·ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼šå®½çª—å­ï¼Œä½çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œé«˜çš„é¢‘åŸŸåˆ†è¾¨ç‡ã€‚ å¯¹äºé«˜é¢‘ä¿¡å·ï¼Œä¸ºäº†æ›´å¥½åœ°åœ¨æ—¶åŸŸå®šä½ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼Œæ—¶åŸŸåŒºé—´çª„ä¸€äº›ï¼Œå³æ—¶é—´ä¸ç¡®å®šåº¦ å°ä¸€äº›ï¼Œæ ¹æ®æµ·å¾·å ¡æµ‹ä¸å‡†åŸç†ï¼Œé¢‘ç‡ä¸ç¡®å®šåº¦ è‡ªç„¶å¤§ä¸€äº›ï¼›å³é«˜é¢‘ä¿¡å·ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼šçª„çª—å­ï¼Œé«˜çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œä½çš„é¢‘åŸŸåˆ†è¾¨ç‡ã€‚ ä¸Šå›¾æ‰€ç¤ºæ˜¯æˆ‘ä»¬å¸Œæœ›çš„åŠ¨æ€åˆ†è¾¨ç‡ã€‚å›¾ä¸­æ¯ä¸ªå°çŸ©å½¢çš„ è½´æ–¹å‘çš„å®½åº¦æ˜¯æ—¶é—´åŒºé—´å¤§å°ï¼Œ è½´æ–¹å‘çš„å®½åº¦æ˜¯é¢‘ç‡åŒºé—´å¤§å°ã€‚æ³¨æ„ï¼Œæ¯ä¸ªå°çŸ©å½¢çš„é¢ç§¯æ˜¯ç›¸ç­‰çš„ï¼Œè¿™ä¿è¯äº†æ—¶åŸŸåˆ†è¾¨ç‡ä¹˜ä¸Šé¢‘åŸŸåˆ†è¾¨ç‡æ˜¯å®šå€¼ï¼Œæœ€å¤§ç¨‹åº¦æ»¡è¶³æµ·å¾·å ¡æµ‹ä¸å‡†åŸç†ã€‚é€šè¿‡å›¾å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å¸Œæœ›ï¼Œå¯¹äºä½é¢‘ä¿¡å·ï¼šä½çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œé«˜çš„é¢‘åŸŸåˆ†è¾¨ç‡ï¼›å¯¹äºé«˜é¢‘ä¿¡å·ï¼šé«˜çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œä½çš„é¢‘åŸŸåˆ†è¾¨ç‡ã€‚ å¯¹äºæ•´ä½“ä½é¢‘ã€å±€éƒ¨é«˜é¢‘çš„ä¿¡å·ï¼Œè¿™ç§åŠ¨æ€è°ƒæ•´åˆ†è¾¨ç‡çš„è§„åˆ™ç‰¹åˆ«æœ‰ç”¨ã€‚åœ¨å®é™…ä¿¡å·ä¸­ï¼Œé¢‘ç‡éå¸¸é«˜çš„é«˜é¢‘ä¿¡å·å¾€å¾€æ˜¯ä¸€ç§å™ªå£°ï¼Œåªåœ¨å±€éƒ¨å‡ºç°ï¼ŒåŸºæœ¬éƒ½æ»¡è¶³æ•´ä½“ä½é¢‘ã€å±€éƒ¨é«˜é¢‘è¿™ä¸€æ¡ä»¶ã€‚ æœ€åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸¤å¼ åˆ†è¾¨ç‡å›¾æ¥å¼ºåŒ–ä¸€ä¸‹å¯¹äºåˆ†è¾¨ç‡çš„ç†è§£ã€‚ ä¸Šå›¾æ˜¯ä¸€å¼ é‡‡é›†ä¿¡å·çš„åˆ†è¾¨ç‡å›¾ã€‚æ¯ä¸ªå°çŸ©å½¢çš„ è½´æ–¹å‘çš„å®½åº¦æ˜¯å¾ˆå°ï¼Œ è½´æ–¹å‘çš„å®½åº¦å¾ˆå¤§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶æ—¶åŸŸåˆ†è¾¨ç‡å¾ˆå¥½ï¼Œå¯ä»¥ç¡®åˆ‡åœ°ç¡®å®šæ¯ä¸ªä¿¡å·é‡‡æ ·ç‚¹çš„æ—¶é—´ï¼Œä½†æ˜¯å…¶é¢‘åŸŸåˆ†è¾¨ç‡å¾ˆå·®ï¼Œæˆ–è€…è¯´å®Œå…¨ä¸å…·æœ‰é¢‘åŸŸåˆ†è¾¨ç‡ã€‚ ä¸Šå›¾æ˜¯ä¸€å¼ å‚…é‡Œå¶å˜æ¢ï¼ˆFTï¼‰çš„åˆ†è¾¨ç‡å›¾ã€‚æ¯ä¸ªå°çŸ©å½¢çš„ è½´æ–¹å‘çš„å®½åº¦æ˜¯å¾ˆå¤§ï¼Œ è½´æ–¹å‘çš„å®½åº¦å¾ˆå°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶é¢‘åŸŸåˆ†è¾¨ç‡å¾ˆå¥½ï¼Œå¯ä»¥æ¯”è¾ƒç²¾ç¡®åœ°ç¡®å®šä¿¡å·ä¸­çš„é¢‘ç‡æˆåˆ†ï¼Œä½†æ˜¯å…¶æ—¶åŸŸåˆ†è¾¨ç‡å¾ˆå·®ï¼Œæˆ–è€…è¯´å®Œå…¨ä¸¢å¤±äº†æ—¶åŸŸåˆ†è¾¨ç‡ã€‚ å‚…é‡Œå¶å˜æ¢çš„è¿™ä¸€ç‰¹æ€§ï¼Œè¿™ä¸€ç‚¹æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ç« é‡Œè®²è¿‡ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬è½¬è€Œä½¿ç”¨çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰çš„åŸå› ã€‚ 2ã€çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰çš„ç¼ºç‚¹ æˆ‘ä»¬æ¥å›å¿†ä¸€ä¸‹STFTï¼ˆè¯¦è§ï¼š1335ï¼šä»å‚…é‡Œå¶å˜æ¢è¿›é˜¶åˆ°å°æ³¢å˜æ¢ï¼ˆäºŒï¼‰ï¼‰ï¼ŒSTFTçš„çª—é•¿æ˜¯å›ºå®šçš„ï¼Œå³æ—¶åŸŸåˆ†è¾¨ç‡æ˜¯å›ºå®šçš„ï¼Œæ ¹æ®æµ·å¾·å ¡æµ‹ä¸å‡†åŸç†ï¼Œå…¶é¢‘åŸŸåˆ†è¾¨ç‡ä¹Ÿæ˜¯å›ºå®šçš„ã€‚å…¶åˆ†è¾¨ç‡å›¾å¦‚ä¸‹ï¼š æ¯ä¸ªå°çŸ©å½¢çš„ è½´æ–¹å‘çš„å®½åº¦å’Œ è½´æ–¹å‘çš„å®½åº¦æ˜¯æ’å®šçš„ï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è®ºé«˜é¢‘ä½é¢‘ï¼Œå…¶æ—¶åŸŸå’Œé¢‘åŸŸåˆ†è¾¨ç‡éƒ½ä¸å¯è°ƒï¼Œè¿™ä¸æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„â€œå¯¹äºä½é¢‘ä¿¡å·ï¼šä½çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œé«˜çš„é¢‘åŸŸåˆ†è¾¨ç‡ï¼›å¯¹äºé«˜é¢‘ä¿¡å·ï¼šé«˜çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œä½çš„é¢‘åŸŸåˆ†è¾¨ç‡â€è¿™ä¸€åŸåˆ™ä¸ç¬¦åˆã€‚ è¿™ç§ä¸ç¬¦åˆä¼šå¸¦æ¥ä»€ä¹ˆåæœå‘¢ï¼Ÿ å¦‚å›¾æ‰€ç¤ºæ­£å¼¦ä¿¡å·ï¼Œ0250msï¼š300HZï¼Œ250500msï¼š200HZ ï¼Œ500~750msï¼š100HZ ï¼Œ 750~1000msï¼š50HZã€‚ ) é€‰æ‹©ä¸€ä¸ªè¾ƒçª„çš„çª—å­ åšSTFTï¼Œç»“æœå¦‚ä¸‹ï¼š å½“çª—å­è¾ƒçª„çš„æ—¶å€™ï¼ŒSTFTçš„æ—¶åŸŸåˆ†è¾¨ç‡è¿˜è¡Œï¼Œä½†æ˜¯é¢‘åŸŸåˆ†è¾¨ç‡ä¸ä½³ã€‚ æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªå®½ä¸€äº›çš„çª—å­ åšSTFTï¼Œç»“æœå¦‚ä¸‹ï¼š å½“çª—å­è¾ƒå®½çš„æ—¶å€™ï¼ŒSTFTçš„é¢‘åŸŸåˆ†è¾¨ç‡å¾ˆå¥½ï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šé¢‘ç‡ï¼Œä½†æ˜¯æ—¶é—´è½´ä¸Šå¼€å§‹å‡ºç°äº¤å äº†ï¼Œä¹Ÿå°±æ˜¯æ—¶åŸŸåˆ†è¾¨ç‡ä¸‹é™äº†ã€‚ æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªæ›´å®½çš„çª—å­ åšSTFTï¼Œç»“æœå¦‚ä¸‹ï¼š å½“çª—å­æ›´å®½çš„æ—¶å€™ï¼ŒSTFTçš„é¢‘åŸŸåˆ†è¾¨ç‡éå¸¸å¥½äº†ï¼Œä½†æ˜¯æ—¶åŸŸåˆ†è¾¨ç‡å·²ç»å¾ˆå·®äº†ï¼Œæ—¶é—´è½´ä¸Šå‡ºç°äº†å¤§è§„æ¨¡çš„äº¤å ç°è±¡ã€‚ æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼Œå¯¹äºSTFTï¼Œå¦‚æœçª—å­çš„å®½åº¦é€‰æ‹©åˆé€‚ï¼Œæ˜¯å¯ä»¥å¾—åˆ°æ—¶åŸŸå’Œé¢‘åŸŸåˆ†è¾¨ç‡éƒ½â€œè¿˜å¯ä»¥â€çš„ç»“æœçš„ï¼ˆç”±äºSTFTçš„åˆ†è¾¨ç‡å›ºå®šï¼Œåªèƒ½è¯´â€œè¿˜å¯ä»¥â€ï¼Œä¸èƒ½è¯´â€œæ»¡æ„â€ï¼Œå› ä¸ºæˆ‘ä»¬æœ€æƒ³è¦çš„æ˜¯åŠ¨æ€åˆ†è¾¨ç‡ï¼‰ã€‚ä½†æ˜¯ï¼Œåœ¨å˜æ¢ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹Ÿä¸çŸ¥é“é€‰æ‹©å¤šå®½çš„çª—å­æ˜¯åˆé€‚çš„ã€‚ è¿™å°±æ˜¯STFTçš„ç¼ºç‚¹ï¼š1ã€æ—¶é—´å’Œé¢‘ç‡åˆ†è¾¨ç‡éƒ½å›ºå®šï¼Œä¸èƒ½éšç€é¢‘ç‡çš„é«˜ä½å®ç°åŠ¨æ€å¯è°ƒï¼›2ã€é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„çª—å®½ååˆ†å›°éš¾ã€‚ 3ã€è¿ç»­å°æ³¢å˜æ¢ï¼ˆCWTï¼‰ ä¸ºäº†å®ç°åŠ¨æ€åˆ†è¾¨ç‡ï¼Œæˆ‘ä»¬å¼•å…¥äº†å°æ³¢æ¯å‡½æ•°ã€‚ éœ€è¦è¯´æ˜ï¼Œå°æ³¢æ¯å‡½æ•°å¹¶ä¸æ˜¯ä¸€ä¸ªç‰¹å®šçš„å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ç§å‡½æ•°çš„é›†åˆï¼Œæ»¡è¶³äº†ä¸€å®šæ¡ä»¶çš„å‡½æ•°å‡å¯ä»¥ä½œä¸ºå°æ³¢æ¯å‡½æ•°ã€‚å°æ³¢æ¯å‡½æ•° éœ€è¦æ»¡è¶³çš„æœ‰ï¼š æ¡ä»¶1ï¼Œç´§æ”¯æ’‘æ€§ï¼š ï¼Œå³ä»…åœ¨ä¸€å°éƒ¨åˆ†å®šä¹‰åŸŸé‡Œä¸ä¸º0ï¼Œå‰©ä¸‹éƒ¨åˆ†å‡ä¸º0ã€‚è¿™ä¸ªæ€§è´¨å¸¦æ¥çš„ä¾¿åˆ©æˆ‘ä»¬åœ¨å‰ä¸€ç¯‡æ–‡ç« è®²è¿‡äº†ï¼Œå°±æ˜¯å…·æœ‰ç´§æ”¯æ’‘æ€§çš„åŸºå‡½æ•°ï¼Œåœ¨åŸä¿¡å·çš„æ—¶é—´è½´ä¸Šå¹³ç§»ï¼Œå°±ç›¸å½“äºå¯¹äºåŸä¿¡å·å°±è¡Œäº†åŠ çª—æ“ä½œã€‚ æ¡ä»¶2ï¼Œæ³¢åŠ¨æ€§ï¼š ï¼Œå³åœ¨æ‰€æœ‰å®šä¹‰åŸŸå†…ç§¯åˆ†å€¼ä¸º0ï¼Œè¿™è¯´æ˜å°æ³¢æ¯å‡½æ•°æ˜¯ä¸€ä¸ªæ³¢ã€‚ æ¡ä»¶3ï¼Œå®¹è®¸æ¡ä»¶ï¼š ï¼Œè¿™ä¸ªæ¡ä»¶ä½¿å˜æ¢å¯é€†ã€‚å…¶ä¸­ï¼Œ æ˜¯å°æ³¢å‡½æ•°å‚…é‡Œå¶å˜æ¢çš„å…±è½­ã€‚ç”±3å¯çŸ¥ ï¼Œä¹Ÿå°±æ˜¯æ¡ä»¶2ã€‚ æ¡ä»¶4ï¼Œæ­£äº¤æ€§ï¼šè¿™ä¸ªæ¡ä»¶ä¹Ÿæ˜¯ä¸ºäº†ä½¿å˜æ¢å¯é€†ã€‚ PSï¼šæ¡ä»¶3ã€4çš„æ•°å­¦è¯æ˜æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥ä»…ä»…æäº†ä¸€ä¸‹ä»–ä»¬çš„ä½œç”¨ï¼Œå°±æ˜¯ä½¿å¾—å˜æ¢å¯é€†ã€‚ ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªå°æ³¢æ¯å‡½æ•°çš„ä¾‹å­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ï¼š 1ã€ç´§æ”¯æ’‘æ€§ï¼šä»…åœ¨ä¸€å°éƒ¨åˆ†å®šä¹‰åŸŸé‡Œä¸ä¸º0ï¼Œå‰©ä¸‹éƒ¨åˆ†å‡ä¸º0ï¼›2ã€æ³¢åŠ¨æ€§ï¼š åœ¨æ‰€æœ‰å®šä¹‰åŸŸå†…ç§¯åˆ†å€¼ä¸º0ã€‚è¿™ä¸¤ä¸ªæ¡ä»¶æ˜¯æ»¡è¶³çš„ã€‚ å°æ³¢æ¯å‡½æ•°æ—¢ç„¶æ˜¯ä¸€ä¸ªæ³¢ï¼Œé‚£ä¹ˆå°±å…·æœ‰é¢‘ç‡ã€‚æ ¹æ®æˆ‘ä»¬ç¬¬ä¸€ç¯‡æ–‡ç« è®²çš„å†…å®¹ï¼ˆ1335ï¼šä»å‚…é‡Œå¶å˜æ¢è¿›é˜¶åˆ°å°æ³¢å˜æ¢ï¼ˆä¸€ï¼‰ï¼‰ï¼Œå°†å°æ³¢æ¯å‡½æ•°ä½œä¸ºåŸºå‡½æ•°ï¼Œä¸é‡‡é›†åˆ°çš„ä¿¡å·ç›¸ä¹˜å¹¶ç§¯åˆ†ï¼Œå¯ä»¥ç­›é€‰å‡ºï¼šä¿¡å·åœ¨å°æ³¢æ¯å‡½æ•°é0éƒ¨åˆ†ï¼Œé¢‘ç‡ä¸å°æ³¢æ¯å‡½æ•°ç›¸è¿‘çš„æˆåˆ†ã€‚ éœ€è¦è¯´æ˜ï¼Œä¸åŒäºFTçš„åŸºå‡½æ•° sin,cossin, cossin,cosï¼Œå°æ³¢æ¯å‡½æ•°ä¸å…·æœ‰ç‰¹å®šçš„æŸä¸€é¢‘ç‡ï¼Œè€Œæ˜¯å…·æœ‰ä¸€ä¸ªèŒƒå›´å†…çš„é¢‘ç‡ï¼Œå› æ­¤ç­›é€‰çš„æ˜¯ä¸€å®šèŒƒå›´çš„é¢‘ç‡ï¼Œç±»ä¼¼äºä¸€ä¸ªå¸¦é€šæ»¤æ³¢å™¨ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬è®²ä¸€è®²ï¼Œå°æ³¢æ¯å‡½æ•°çš„å˜æ¢ï¼Œå˜æ¢å…¬å¼å¦‚ä¸‹ï¼š ä¸€æ˜¯å¹³ç§»ï¼Œç”¨ä¸Šå¼ä¸­çš„ æ§åˆ¶ï¼Œæ”¹å˜ï¼Œå°±ç›¸å½“äº åœ¨æ—¶é—´è½´ä¸Šä¸æ–­çš„å¹³ç§»ã€‚ äºŒæ˜¯ç¼©æ”¾ï¼Œç”¨ä¸Šå¼ä¸­çš„ sss æ§åˆ¶ã€‚ å˜æ¢åçš„å‡½æ•° ç§°ä¸ºå°æ³¢å‡½æ•°ã€‚ å¦‚ä¸‹å›¾ï¼Œä¸­é—´çš„å›¾ï¼Œsss è¾ƒå°ï¼Œç›¸å½“äºæŒ¤å‹ï¼›å³ä¾§çš„å›¾ï¼Œ sss **è¾ƒå¤§ï¼Œç›¸å½“äºæ‹‰ä¼¸ã€‚**å˜æ¢å…¬å¼å‰çš„æ˜¯ä¸ºäº†èƒ½é‡å®ˆæ’ï¼Œæ²¡æœ‰ç‰¹åˆ«ç›®çš„ã€‚ ![img](data:image/svg+xml;utf8,) æˆ‘ä»¬å†æ¥ä»”ç»†è§‚å¯Ÿä¸€ä¸‹ä¸Šå›¾ã€‚ä¸­é—´çš„å›¾ï¼Œsss è¾ƒå°ï¼Œç›¸å½“äºæŒ¤å‹ï¼Œæ˜¯ä¸æ˜¯é¢‘ç‡æé«˜äº†ï¼Ÿå³ä¾§çš„å›¾ï¼Œsss **è¾ƒå¤§ï¼Œç›¸å½“äºæ‹‰ä¼¸ï¼Œæ˜¯ä¸æ˜¯é¢‘ç‡é™ä½äº†ï¼Ÿ**å’¦ï¼Ÿæœ‰ç‚¹æ„æ€äº†å§ï¼Ÿç¼©æ”¾å°±æ˜¯æ”¹å˜é¢‘ç‡ï¼å¦å¤–ï¼Œä¸€å®šè®°ä½ï¼Œsss è¶Šå¤§ï¼Œé¢‘ç‡ fffè¶Šä½ï¼Œ æ˜¯å€’æ•°å…³ç³»ã€‚ æˆ‘ä»¬å†æ¥æ›´ä»”ç»†åœ°è§‚å¯Ÿä¸€ä¸‹ä¸Šå›¾ã€‚å›å¿†ä¸€ä¸‹ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œå…·æœ‰ç´§æ”¯æ’‘æ€§çš„åŸºå‡½æ•°ï¼Œæ»‘åŠ¨ç›¸å½“äºåˆ†çª—ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªçª—é•¿æœ‰å¤šå¤§å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å°±æ˜¯åŸºå‡½æ•°ä¸ä¸ºé›¶çš„é•¿åº¦å‘¢ï¼Ÿé‚£ä¹ˆï¼Œä¸­é—´çš„å›¾ï¼Œsss è¾ƒå°ï¼Œç›¸å½“äºæŒ¤å‹ï¼Œé¢‘ç‡æé«˜äº†ï¼Œçª—é•¿æ˜¯ä¸æ˜¯å˜å°äº†ï¼Ÿå³ä¾§çš„å›¾ï¼Œsss è¾ƒå¤§ï¼Œç›¸å½“äºæ‹‰ä¼¸ï¼Œé¢‘ç‡é™ä½äº†ï¼Œçª—é•¿æ˜¯ä¸æ˜¯å˜å¤§äº†ï¼Ÿ è¿™ä¸æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„**â€œä½é¢‘ï¼Œå®½çª—ï¼Œå·®çš„æ—¶é—´åˆ†è¾¨ç‡ï¼Œå¥½çš„é¢‘åŸŸåˆ†è¾¨ç‡ï¼›é«˜é¢‘ï¼Œçª„çª—ï¼Œå¥½çš„æ—¶é—´åˆ†è¾¨ç‡ï¼Œå·®çš„é¢‘åŸŸåˆ†è¾¨ç‡â€å—ï¼Ÿ** ![img](data:image/svg+xml;utf8,) å’Œä¸Šå›¾å¯¹ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯ä¸€æ¨¡ä¸€æ ·äº†å‘¢ï¼Ÿè¿™å°±æ˜¯åŠ¨æ€è°ƒåˆ†è¾¨ç‡ï¼Œå¾—æ¥å…¨ä¸è´¹å·¥å¤«å•Šï¼ æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ä¸€ä¸ªä¿¡å·å°±è¡Œä¸€æ¬¡è¿ç»­å°æ³¢å˜æ¢ï¼ˆCWTï¼‰ã€‚ä¸‹å›¾ä¸­è“è‰²éƒ¨åˆ†ä¸ºå°æ³¢å‡½æ•°ï¼ˆä½†åŸå›¾æ²¡ç”»æˆæ³¢çš„å½¢å¼ï¼Œåªæ˜¯è¡¨ç¤ºå°æ³¢å‡½æ•°çš„æ—¶é—´è½´ä½ç½®å’Œä¸ä¸º0çš„éƒ¨åˆ†çš„å®½åº¦ï¼‰ï¼Œé»„è‰²éƒ¨åˆ†ä¸ºä¿¡å·ã€‚ ![img](data:image/svg+xml;utf8,)å›¾æºï¼šTHE WAVELET TUTORIAL å¦‚ä¸Šå›¾ï¼Œé€‰æ‹©è¾ƒå°çš„ å¯¹å°æ³¢æ¯å‡½æ•°è¿›è¡Œç¼©æ”¾ï¼Œæ­¤æ—¶å°æ³¢å‡½æ•°é¢‘ç‡è¾ƒé«˜ï¼Œçª—å­è¾ƒçª„ï¼ˆå°æ³¢å‡½æ•°ä¸ä¸º0çš„éƒ¨åˆ†çª„ï¼‰ï¼Œç”¨æ¥ç­›é€‰é«˜é¢‘éƒ¨åˆ†ã€‚å°æ³¢å‡½æ•°åœ¨æ—¶é—´è½´ä¸Šå¹³ç§»ï¼Œæ¯ä¸€æ¬¡å¹³ç§»å°±å…ˆç›¸ä¹˜ï¼Œå†ç§¯åˆ†ï¼Œç­›é€‰å‡ºä¿¡å·ä¸­ä¸è‡ªå·±é¢‘ç‡ç›¸è¿‘çš„éƒ¨åˆ†ã€‚ æ­¤æ—¶ï¼Œçª—å­è¾ƒçª„ï¼ˆå°æ³¢å‡½æ•°ä¸ä¸º0çš„éƒ¨åˆ†çª„ï¼‰ï¼Œæ—¶é—´åˆ†è¾¨ç‡å¥½ï¼Œé¢‘ç‡åˆ†è¾¨ç‡å·®ã€‚ ![img](data:image/svg+xml;utf8,)å›¾æºï¼šTHE WAVELET TUTORIAL å¦‚ä¸Šå›¾ï¼Œå°†sss å¢å¤§ï¼Œå¯¹å°æ³¢æ¯å‡½æ•°è¿›è¡Œç¼©æ”¾ï¼Œæ­¤æ—¶å°æ³¢å‡½æ•°é¢‘ç‡é™ä½ï¼Œçª—å­å˜å®½ï¼ˆå°æ³¢å‡½æ•°ä¸ä¸º0çš„éƒ¨åˆ†å˜å®½ï¼‰ï¼Œç”¨æ¥ç­›é€‰ä¸­é¢‘éƒ¨åˆ†ã€‚å°æ³¢å‡½æ•°åœ¨æ—¶é—´è½´ä¸Šå¹³ç§»ï¼Œæ¯ä¸€æ¬¡å¹³ç§»å°±å…ˆç›¸ä¹˜ï¼Œå†ç§¯åˆ†ï¼Œç­›é€‰å‡ºä¿¡å·ä¸­ä¸è‡ªå·±é¢‘ç‡ç›¸è¿‘çš„éƒ¨åˆ†ã€‚ æ­¤æ—¶ï¼Œçª—å­å˜å®½äº†ï¼ˆå°æ³¢å‡½æ•°ä¸ä¸º0çš„éƒ¨åˆ†å˜å®½ï¼‰ï¼Œæ—¶é—´åˆ†è¾¨ç‡å˜å·®ï¼Œé¢‘ç‡åˆ†è¾¨ç‡å˜å¥½ã€‚ ![img](data:image/svg+xml;utf8,)å›¾æºï¼šTHE WAVELET TUTORIAL å¦‚ä¸Šå›¾ï¼Œå°†sss è¿›ä¸€æ­¥å¢å¤§ï¼Œå¯¹å°æ³¢æ¯å‡½æ•°è¿›è¡Œç¼©æ”¾ï¼Œæ­¤æ—¶å°æ³¢å‡½æ•°é¢‘ç‡å†æ¬¡é™ä½ï¼Œçª—å­æ›´å®½ï¼ˆå°æ³¢å‡½æ•°ä¸ä¸º0çš„éƒ¨åˆ†æ›´å®½ï¼‰ï¼Œç”¨æ¥ç­›é€‰ä½é¢‘éƒ¨åˆ†ã€‚å°æ³¢å‡½æ•°åœ¨æ—¶é—´è½´ä¸Šå¹³ç§»ï¼Œæ¯ä¸€æ¬¡å¹³ç§»å°±å…ˆç›¸ä¹˜ï¼Œå†ç§¯åˆ†ï¼Œç­›é€‰å‡ºä¿¡å·ä¸­ä¸è‡ªå·±é¢‘ç‡ç›¸è¿‘çš„éƒ¨åˆ†ã€‚ æ­¤æ—¶ï¼Œçª—å­å¾ˆå®½ï¼ˆå°æ³¢å‡½æ•°ä¸ä¸º0çš„éƒ¨åˆ†å¾ˆå®½ï¼‰ï¼Œæ—¶é—´åˆ†è¾¨ç‡å·®ï¼Œé¢‘ç‡åˆ†è¾¨ç‡å¾ˆå¥½ã€‚ è¿™å°±æ˜¯è¿ç»­å°æ³¢å˜æ¢CWTå•¦ï¼ å°†ä¸Šè¿°CWTçš„è¿‡ç¨‹å†™æˆå…¬å¼å°±æ˜¯ï¼š æ³¨æ„ï¼šä¸Šå›¾ä¸­æˆ‘ä»¬åªåˆ—ä¸¾äº†ä¸‰ç§ sss ï¼ˆå³ä¸‰æ¬¡ç¼©æ”¾ï¼‰å’Œ4ç§ ï¼ˆæ¯ç§ç¼©æ”¾å¯¹åº”å››ä¸ªæ—¶é—´ä½ç½®ï¼Œä½†æ˜¯äº‹å®ä¸Šï¼Œ æ˜¯è¿ç»­çš„ï¼Œæ— ç©·å¤šä¸ªçš„ã€‚ è¿˜æ˜¯è¿™ä¸ªæ­£å¼¦ä¿¡å·ï¼Œ0250msï¼š300HZï¼Œ250500msï¼š200HZ ï¼Œ500~750msï¼š100HZ ï¼Œ 750~1000msï¼š50HZã€‚ ![img](data:image/svg+xml;utf8,) å…¶å°æ³¢å˜æ¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆå¿½ç•¥å›¾ä¸­åæ ‡ï¼ŒåŸå›¾å¦‚æ­¤ï¼Œåæ ‡ä¸å¤ªå¯¹ï¼Œè¿˜å¾—æ˜ å°„ä¸€ä¸‹ï¼Œæœ‰ç©ºäº†æˆ‘è‡ªå·±å†ç”»ä¸€å¼ æ”¹ä¸€æ”¹ï¼‰ï¼š ![img](data:image/svg+xml;utf8,)å›¾æºï¼šTHE WAVELET TUTORIAL æˆ‘ä»¬æ¥çœ‹ï¼Œç»¿è‰²çš„å°å³°ï¼Œå¯¹åº”å°çš„ ï¼Œä¹Ÿå°±æ˜¯é«˜çš„é¢‘ç‡ã€‚ä»–ä»¬çš„æ—¶é—´åˆ†è¾¨ç‡å¾ˆå¥½ï¼Œ sss çš„åŒºé—´å¾ˆå°ï¼Œæ ¹æ® çš„å€’æ•°å…³ç³»ï¼Œå¯¹åº”çš„ çš„åŒºé—´å°±å¾ˆå¤§ï¼Œå› æ­¤é¢‘ç‡åˆ†è¾¨ç‡ä¸å¥½ã€‚ ç²‰è‰²çš„é«˜å³°ï¼Œå¯¹åº”é«˜çš„ ï¼Œä¹Ÿå°±æ˜¯ä½çš„é¢‘ç‡ï¼Œ sss çš„åŒºé—´å¾ˆå¤§ï¼Œæ ¹æ® çš„å€’æ•°å…³ç³»ï¼Œå¯¹åº”çš„ çš„åŒºé—´å°±å¾ˆå°ï¼Œå› æ­¤é¢‘ç‡åˆ†è¾¨ç‡å¾ˆå¥½ï¼Œæ—¶é—´åˆ†è¾¨ç‡ä¸å¥½ï¼ˆæœ‰æ··å )ã€‚ è¿™ä¹Ÿå°±å†ä¸€æ¬¡è¯´æ˜äº†CWTæ˜¯åŠ¨æ€åˆ†è¾¨ç‡çš„ï¼Œè¿™ä¹Ÿæ˜¯CWTç›¸å¯¹äºSTFTçš„ä¼˜åŠ¿æ‰€åœ¨ã€‚ 4ã€FTã€STFTã€CWTåŸºå‡½æ•°å¯¹æ¯” æœ€åï¼Œå†æ¥çœ‹çœ‹ï¼ŒFTã€STFTã€CWTçš„åŸºå‡½æ•°ä¹‹é—´çš„ä¸åŒï¼Œä»¥ä¾¿åŠ æ·±ç†è§£ã€‚ ![img](data:image/svg+xml;utf8,)å›¾æºï¼šç™¾åº¦å›¾ç‰‡ FTçš„åŸºå‡½æ•°ï¼Œæ˜¯åˆ†å¸ƒåœ¨ çš„ sin,cossin, cossin,cosï¼Œä¸å…·æœ‰ç´§æ”¯æ’‘æ€§ï¼Œåªèƒ½ç­›é€‰é¢‘ç‡ï¼Œä½¿å¾—FTå®Œå…¨ä¸§å¤±äº†æ—¶é—´ä¿¡æ¯ï¼Œä¸å…·æœ‰æ—¶é—´åˆ†è¾¨ç‡ã€‚ STFTçš„åŸºå‡½æ•°ï¼Œæ˜¯ç”¨çª—å‡½æ•°æˆªæ–­çš„sin,cossin, cossin,cos ï¼ˆå›¾ä¸­æ˜¯è¢«é«˜æ–¯çª—æˆªæ–­çš„ï¼‰ï¼Œå…·æœ‰äº†ç´§æ”¯æ’‘æ€§ï¼Œæ—¶åŸŸå¹³ç§»ç­‰åŒäºåˆ†çª—ï¼Œä½¿å¾—STFTæ—¢èƒ½ç­›é€‰é¢‘ç‡ï¼Œä¹Ÿèƒ½ç­›é€‰æ—¶é—´ã€‚ä½†æ˜¯STFTåŸºå‡½æ•°æ˜¯ï¼šå…ˆç¡®å®šé¢‘ç‡ï¼Œå†ä¸çª—å‡½æ•°ç›¸ä¹˜æ„æˆçš„ã€‚å› æ­¤ä¸åŒçš„é¢‘ç‡ï¼Œå…·æœ‰åŒæ ·çš„æ—¶é—´å’Œé¢‘ç‡åˆ†è¾¨ç‡ã€‚å¦å¤–ï¼Œçª—å‡½æ•°çš„é•¿çŸ­ä¹Ÿæ¯”è¾ƒéš¾ä»¥ç¡®å®šã€‚ CWTçš„åŸºå‡½æ•°ï¼Œæ˜¯å°æ³¢å‡½æ•°ï¼Œå…·æœ‰ç´§æ”¯æ’‘æ€§ï¼Œæ—¶åŸŸå¹³ç§»ç­‰åŒäºåˆ†çª—ï¼Œä½¿å¾—CWTæ—¢èƒ½ç­›é€‰é¢‘ç‡ï¼Œä¹Ÿèƒ½ç­›é€‰æ—¶é—´ã€‚å°æ³¢å‡½æ•°åœ¨æ”¹å˜é¢‘ç‡çš„æ—¶å€™ï¼Œæ˜¯é€šè¿‡**â€œç¼©æ”¾â€**å®ç°çš„ï¼Œ**è¿™ä½¿å¾—å°æ³¢å‡½æ•°åœ¨æ”¹å˜é¢‘ç‡çš„åŒæ—¶ï¼Œæ”¹å˜äº†çª—é•¿ã€‚**å› æ­¤ä¸åŒçš„é¢‘ç‡ï¼Œå…·æœ‰ä¸åŒçš„æ—¶é—´å’Œé¢‘ç‡åˆ†è¾¨ç‡ï¼Œå®ç°äº†åˆ†è¾¨ç‡åŠ¨æ€å¯è°ƒã€‚ æœ€åï¼Œå†è¯´ä¸€ä¸‹ï¼Œæœ‰å¾ˆå¤šç±»å‹çš„å°æ³¢æ¯å‡½æ•°ï¼Œæ¯”å¦‚haarå°æ³¢ï¼Œdbç³»åˆ—å°æ³¢ï¼Œsymç³»åˆ—å°æ³¢ï¼Œcoifç³»åˆ—å°æ³¢ç­‰ç­‰ç­‰ç­‰ã€‚å…·ä½“å“ªä¸€ä¸ªå°æ³¢é€‚åº”å“ªç§æƒ…å†µï¼Œä¼°è®¡éƒ½èƒ½å†™ä¸€æœ¬ä¹¦äº†ï¼Œæˆ‘ä¹Ÿæ²¡æ·±å…¥é’»ç ”è¿‡ã€‚æˆ‘åœ¨åˆ©ç”¨å°æ³¢å˜æ¢åšè‚Œç”µä¿¡å·è¯†åˆ«çš„æ—¶å€™å°±æ˜¯è¯»ä¸€è¯»æœ‰å…³è‚Œç”µä¿¡å·è¯†åˆ«çš„è®ºæ–‡ï¼Œçœ‹çœ‹åˆ«äººè¯•è¿‡å“ªäº›å°æ³¢ï¼Œæ˜¯ä¸€ç§ä¸Šæ‰‹æ¯”è¾ƒå¿«çš„æ–¹æ³•ã€‚ è¿ç»­å°æ³¢å˜æ¢ï¼ˆCWTï¼‰çš„ç¼ºç‚¹ä¸ç¦»æ•£å°æ³¢å˜æ¢ï¼ˆDWTï¼‰ å››ã€è¿ç»­å°æ³¢å˜æ¢ï¼ˆCWTï¼‰çš„ç¼ºç‚¹ä¸ç¦»æ•£å°æ³¢å˜æ¢ï¼ˆDWTï¼‰ 1ã€è¿ç»­å°æ³¢å˜æ¢ï¼ˆCWTï¼‰çš„ç¼ºç‚¹ åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ï¼ˆhttps://zhuanlan.zhihu.com/p/68323379ï¼‰ä¸­æˆ‘ä»¬è®²è§£äº† CWTå¯ä»¥å®ç°åŠ¨æ€åˆ†è¾¨ç‡çš„æ—¶é¢‘åˆ†æã€‚CWTå…¬å¼ä¸ºï¼šï¼Œ è¡¨ç¤ºåŸå§‹ä¿¡å·ã€‚ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œè¿™é‡Œçš„ æ˜¯ä¸€ä¸ªè¿ç»­å‡½æ•°ã€‚ ä½†æ˜¯åœ¨ç¬¬äºŒç¯‡æ–‡ç« ï¼ˆhttps://zhuanlan.zhihu.com/p/66246381ï¼‰ä¸­æˆ‘ä»¬è®²è¿‡ï¼Œå®é™…é‡‡æ ·ä¿¡å·å¾€å¾€å…·æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1ã€ç¦»æ•£æ€§ï¼Œå°±æ˜¯é‡‡é›†æ•°æ®ä¸è¿ç»­ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼Œé‡‡é›†ä¿¡å·è‚¯å®šæ˜¯ä¸€ä¸ªä¸€ä¸ªæ•°æ®é‡‡é›†çš„ï¼›2ã€æœ‰é™æ€§ï¼Œè™½ç„¶ç†æƒ³çš„CWTæ˜¯ä» è¿›è¡Œç§¯åˆ†çš„ï¼Œä½†æ˜¯å®é™…ä¿¡å·å¾€å¾€å®åœ¨ä¸€ä¸ªåŒºé—´å†… çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æ‰€ä»¥ï¼Œç”±äºCWTéœ€è¦ä¸€ä¸ªè¿ç»­ä¿¡å·ï¼Œä½†æ˜¯å®é™…é‡‡æ ·ä¿¡å·å¾€å¾€æ˜¯ç¦»æ•£çš„ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥å¯¹å®é™…ä¿¡å·è¿›è¡ŒCWTã€‚ æˆ–è®¸ä½ æƒ³ï¼Œæˆ‘ä»¬å¯¹å®é™…é‡‡æ ·ä¿¡å·è¿›è¡Œæ’å€¼è¿ç»­åŒ–ä¸å°±å¯ä»¥ä½¿å¾—å…¶è¿ç»­äº†å—ï¼Ÿ æ˜¯çš„ã€‚å°†å®é™…é‡‡æ ·ä¿¡å·æ’å€¼è¿ç»­åŒ–ä¹‹åï¼Œæˆ‘ä»¬â€”â€”äººï¼Œæ˜¯å¯å¯¹å®ƒè¿›è¡ŒCWTçš„ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿéƒ½çŸ¥é“ï¼Œæˆ‘ä»¬çš„å¸®æ‰‹â€”â€”è®¡ç®—æœºï¼Œæ˜¯æ— æ³•å¤„ç†è¿ç»­é—®é¢˜çš„ã€‚è®¡ç®—æœºåªèƒ½å¤„ç†ç¦»æ•£é—®é¢˜ã€‚å¦‚æœè®¡ç®—æœºè¦è¿›è¡ŒCWTï¼Œå°±æ„å‘³ç€éœ€è¦è®¡ç®—æœºåšæ— ç©·æ¬¡è¿ç®—ï¼Œè®¡ç®—æœºè®¡ç®—èƒ½åŠ›å†å¼ºä¹Ÿæ˜¯åšä¸åˆ°çš„ã€‚ å› æ­¤ï¼Œä¸ºäº†ä½¿å¾—è®¡ç®—æœºå¯ä»¥è¿›è¡Œå°æ³¢å˜æ¢ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ç¦»æ•£å°æ³¢å˜æ¢ï¼ˆDWTï¼‰ã€‚ 2ã€ç¦»æ•£å°æ³¢å˜æ¢ï¼ˆDWTï¼‰çš„Walletç®—æ³• DWTæœ‰å¾ˆå¤šç§å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä»‹ç»Walletç®—æ³•ï¼Œå®ƒæ˜¯DWTçš„ä»¥ä¸€ç§ç»å…¸çš„å¿«é€Ÿç®—æ³•ï¼Œä¹Ÿæ¯”è¾ƒæ˜“æ‡‚ã€‚ æˆ‘ä»¬é¦–å…ˆæ¥å›é¡¾ä¸€ä¸‹ä¸Šä¸€ç¯‡æ–‡ç« è®²è¿‡çš„åŠ¨æ€åˆ†è¾¨ç‡å›¾ï¼šé«˜é¢‘éƒ¨åˆ†ï¼Œçª„çª—ï¼Œé«˜çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œä½çš„é¢‘åŸŸåˆ†è¾¨ç‡ï¼›ä½é¢‘éƒ¨åˆ†ï¼Œå®½çª—ï¼Œä½çš„æ—¶åŸŸåˆ†è¾¨ç‡ï¼Œé«˜çš„é¢‘åŸŸåˆ†è¾¨ç‡ã€‚ æˆ‘ä»¬æ˜¯åˆ©ç”¨å°æ³¢æ¯å‡½æ•°çš„æŒ¤å‹å’Œæ‹‰ä¼¸æ¥å®ç°åŠ¨æ€åˆ†è¾¨ç‡çš„ï¼š å½“å°æ³¢æ¯å‡½æ•°è¢«æŒ¤å‹çš„æ—¶å€™ï¼Œé¢‘ç‡å°±é«˜ï¼Œæ­¤æ—¶çª—å­çª„ï¼Œæ—¶åŸŸåˆ†è¾¨ç‡å°±å¥½ï¼Œæ ¹æ®æµ·æ£®å ¡æµ‹ä¸å‡†åŸç†ï¼Œé¢‘åŸŸåˆ†è¾¨ç‡å°±å·®ï¼› å½“å°æ³¢æ¯å‡½æ•°è¢«æ‹‰ä¼¸çš„æ—¶å€™ï¼Œé¢‘ç‡å°±ä½ï¼Œæ­¤æ—¶çª—å­å®½ï¼Œæ—¶åŸŸåˆ†è¾¨ç‡å°±å·®ï¼Œæ ¹æ®æµ·æ£®å ¡æµ‹ä¸å‡†åŸç†ï¼Œé¢‘åŸŸåˆ†è¾¨ç‡å°±å¥½ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æ§åˆ¶çš„æ˜¯ä¸åŒé¢‘ç‡å¯¹åº”çš„çª—é•¿ï¼ˆå³æ—¶åŸŸåˆ†è¾¨ç‡ï¼‰ï¼Œé¢‘ç‡åˆ†è¾¨ç‡æ˜¯é€šè¿‡æµ·æ£®å ¡æµ‹ä¸å‡†åŸç†å¾—åˆ°çš„ï¼Œä»è€Œè¾¾åˆ°äº†åŠ¨æ€åˆ†è¾¨ç‡ã€‚ é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬è¿™æ¬¡ä¸æ§åˆ¶çª—é•¿ï¼ˆå³æ—¶åŸŸåˆ†è¾¨ç‡ï¼‰ï¼Œè½¬è€Œæ§åˆ¶é¢‘åŸŸåˆ†è¾¨ç‡ï¼Œèƒ½å¦è¾¾åˆ°åŠ¨æ€åˆ†è¾¨ç‡å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯å¯ä»¥ï¼Œè¿™å°±æ˜¯Walletç®—æ³•è¦è§£å†³çš„é—®é¢˜ã€‚ åŠå­å¸¦æ»¤æ³¢ æˆ‘ä»¬çŸ¥é“ï¼Œå°æ³¢æ¯å‡½æ•°æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¸¦é€šæ»¤æ³¢å™¨ã€‚é‚£ä¹ˆï¼Œå‡è®¾å¯ä»¥é€šè¿‡å°æ³¢æ¯å‡½æ•°æ„é€ å¾—åˆ°ä¸¤ä¸ªæ»¤æ³¢å™¨ï¼ˆè‡³äºæ€ä¹ˆå¾—åˆ°åç»­ä¼šä»‹ç»ä¸€ä¸‹ï¼‰ï¼ŒåŒ…æ‹¬ä¸€ä¸ªé«˜é€šæ»¤æ³¢å™¨å’Œä¸€ä¸ªä½é€šæ»¤æ³¢å™¨ã€‚ å‡è®¾ä¿¡å·ä¸­çš„æœ€é«˜é¢‘ç‡ä¸º ã€‚é‚£ä¹ˆï¼Œé«˜é€šæ»¤æ³¢å™¨çš„ä½œç”¨å°±æ˜¯å¾—åˆ° çš„éƒ¨åˆ†ï¼Œä½é€šæ»¤æ³¢å™¨çš„ä½œç”¨å°±æ˜¯å¾—åˆ° çš„éƒ¨åˆ†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æˆ‘ä»¬å°†è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºä¸€æ¬¡åŠå­å¸¦æ»¤æ³¢ã€‚ ä¸‹é‡‡æ ·ä¸ä¸Šé‡‡æ · æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªNå€ä¸‹é‡‡æ ·è¿‡ç¨‹ï¼šå°†é‡‡æ ·ç‚¹Nå€ç¨€é‡Šã€‚å¦‚ä¸‹ï¼Œå°±æ˜¯ä¸€ä¸ª2å€ä¸‹é‡‡æ ·è¿‡ç¨‹ï¼Œå°†é‡‡æ ·ç‚¹ç¨€é‡Š2å€ï¼Œå³ï¼šæ¯2ä¸ªç‚¹é‡‡æ ·æ•°æ®ç‚¹ï¼Œå°±å»é™¤ä¸€ä¸ªç‚¹ã€‚ Nå€ä¸Šé‡‡æ ·è¿‡ç¨‹ï¼šå°†é‡‡æ ·ç‚¹æ•°é‡å¢åŠ Nå€ã€‚ä¸€èˆ¬é€šè¿‡è¡¥0ï¼Œæˆ–è€…æ’å€¼çš„æ–¹æ³•å®ç°ä¸Šé‡‡æ ·ã€‚ ç¦»æ•£å°æ³¢åˆ†è§£ æˆ‘ä»¬å°†ä¸€æ¬¡åŠå­å¸¦æ»¤æ³¢+ä¸€æ¬¡2å€ä¸‹é‡‡æ ·ç§°ä¸ºä¸€å±‚å°æ³¢åˆ†è§£ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾ä¸­çš„â€œç®­å¤´+2â€è¡¨ç¤ºä¸€æ¬¡2å€ä¸‹é‡‡æ ·ã€‚ å‡è®¾åŸé‡‡æ ·ä¿¡å·æœ‰ N ä¸ªç‚¹ï¼Œä¿¡å·æœ€é«˜é¢‘ç‡ä¸º ï¼ˆæ ¹æ®é‡‡æ ·å®šå¾‹ï¼Œ ä¸ºé‡‡æ ·é¢‘ç‡çš„ä¸€åŠï¼‰ã€‚ ç»è¿‡ä¸€æ¬¡é«˜é€šæ»¤æ³¢åï¼Œå¾—åˆ°äº† çš„éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯ N ä¸ªç‚¹ï¼Œå†ç»è¿‡ä¸€æ¬¡2å€ä¸‹é‡‡æ ·ï¼Œå˜æˆäº† /fracN2/frac{N}{2}/fracN2 ä¸ªç‚¹ï¼Œæˆ‘ä»¬å°†è¿™/fracN2/frac{N}{2}/fracN2ä¸ªç‚¹ç§°ä¸ºå°æ³¢åˆ†è§£çš„é«˜é¢‘ç³»æ•°ï¼ˆä¸ºä»€ä¹ˆå«ä½œç³»æ•°ä¼šåœ¨åé¢è§£é‡Šï¼‰ã€‚ ç»è¿‡ä¸€æ¬¡ä½é€šæ»¤æ³¢åï¼Œå¾—åˆ°äº† çš„éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯ N ä¸ªç‚¹ï¼Œå†ç»è¿‡ä¸€æ¬¡2å€ä¸‹é‡‡æ ·ï¼Œå˜æˆäº† /fracN2/frac{N}{2}/fracN2 ä¸ªç‚¹ï¼Œæˆ‘ä»¬å°†è¿™/fracN2/frac{N}{2}/fracN2ä¸ªç‚¹ç§°ä¸ºå°æ³¢åˆ†è§£çš„ä½é¢‘ç³»æ•°ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œç»è¿‡ä¸€å±‚å°æ³¢åˆ†è§£çš„ä¿¡å·ï¼Œå®ƒçš„æ€»é•¿åº¦åŠ èµ·æ¥ï¼Œè¿˜æ˜¯ N ï¼Œæ˜¯ä¸å˜çš„ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å¯¹ ä¸ªç‚¹çš„åŸä¿¡å·è¿›è¡Œäº†ç¬¬ä¸€å±‚å°æ³¢åˆ†è§£ï¼Œå¾—åˆ°äº†ä¸ªç‚¹çš„é«˜é¢‘ç³»æ•°å’Œ ä¸ªç‚¹çš„ä½é¢‘ç³»æ•°ã€‚ é‚£ä¹ˆï¼Œæˆ‘ä»¬ä¿æŒ ä¸ªç‚¹çš„é«˜é¢‘ç³»æ•°ä¸å˜ï¼ŒæŠŠ ä¸ªç‚¹çš„ä½é¢‘ç³»æ•°ä½œä¸ºä¿¡å·ï¼Œå†è¿›è¡Œä¸€æ¬¡å°æ³¢åˆ†è§£ã€‚äºæ˜¯å¯ä»¥å¾—åˆ° ä¸ªç‚¹çš„é«˜é¢‘ç³»æ•°å’Œ ä¸ªç‚¹çš„ä½é¢‘ç³»æ•°ã€‚ è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º**ç¬¬2å±‚å°æ³¢åˆ†è§£ã€‚**æˆ‘ä»¬éªŒè¯ä¸€ä¸‹ï¼Œç»è¿‡2å±‚å°æ³¢åˆ†è§£çš„ä¿¡å·ï¼Œå®ƒçš„æ€»é•¿åº¦åŠ èµ·æ¥ï¼Œè¿˜æ˜¯N ï¼Œæ˜¯ä¸å˜çš„ã€‚ ä¾æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œç¬¬ä¸‰å±‚ï¼Œç¬¬å››å±‚å°æ³¢åˆ†è§£ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œç›´åˆ°ç¬¬ å±‚å°æ³¢åˆ†è§£ã€‚åœ¨ç¬¬ å±‚å°æ³¢åˆ†è§£ï¼Œç”±äºä¸æ–­çš„ä¸‹é‡‡æ ·ï¼Œä½é¢‘ç³»æ•°å’Œé«˜é¢‘ç³»æ•°éƒ½åªå‰©1ä¸ªæ•°äº†ï¼Œå°æ³¢åˆ†è§£æ— æ³•è¿›è¡Œä¸‹å»äº†ã€‚ å› æ­¤ï¼Œå°æ³¢åˆ†è§£çš„åŸå§‹ä¿¡å·ä¸ªæ•°ä¸€èˆ¬ä¹Ÿéœ€è¦æ˜¯2çš„å¹‚æ¬¡ã€‚ä¸è¿‡ï¼Œåœ¨å„ç§æ•°å­¦è®¡ç®—è½¯ä»¶é‡Œï¼Œå¦‚æœè¾“å…¥ä¸æ˜¯2çš„å¹‚æ¬¡ï¼Œå®ƒä¼šè‡ªåŠ¨å¸®ä½ è¡¥é›¶åˆ°2çš„å¹‚æ¬¡ã€‚ æˆ‘ä»¬å–4å±‚å°æ³¢åˆ†è§£çš„ç»“æœæ¥çœ‹ä¸€ä¸‹ã€‚ åœ¨é¢‘åŸŸä¸Šï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ˜¯ ï¼Œï¼Œï¼Œï¼Œé¢‘åŸŸåŒºé—´çš„ç³»æ•°ã€‚ åœ¨æ—¶åŸŸä¸Šï¼Œç”±äºä¸æ–­çš„2å€ä¸‹é‡‡æ ·ï¼Œä¸æ–­åœ°ä¸¢å¼ƒæ•°æ®ï¼Œæ‰€ä»¥æœ€åä¸€å±‚åˆ†è§£å¾—åˆ°çš„ï¼Œçš„æ—¶åŸŸåˆ†è¾¨ç‡æœ€å·®ï¼Œç¬¬ä¸€å±‚åˆ†è§£ä¿ç•™çš„ æ—¶åŸŸåˆ†è¾¨ç‡æœ€å¥½ã€‚ é‚£ä¹ˆï¼Œæˆ‘ä»¬å¾—åˆ°çš„åˆ†è¾¨ç‡å°±æ˜¯è¿™æ ·å­çš„ï¼š è¿™ï¼Œä¸å°±æ˜¯ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬è®²è¿‡çš„å°æ³¢å˜æ¢å¾—åˆ°çš„åŠ¨æ€åˆ†è¾¨ç‡å—ï¼Ÿ æ˜¯çš„ï¼è¿™å°±æ˜¯ç¦»æ•£å°æ³¢å˜æ¢çš„å¿«é€Ÿç®—æ³•ä¹‹ä¸€â€”â€”Walletç®—æ³•ï¼Œé€šè¿‡ä¸æ–­çš„åŠå­å¸¦æ»¤æ³¢å’Œä¸‹é‡‡æ ·ï¼Œæ§åˆ¶ä¸åŒé¢‘ç‡æˆåˆ†çš„é¢‘åŸŸåˆ†è¾¨ç‡ï¼Œè¿›è€Œè¾¾åˆ°åŠ¨æ€åˆ†è¾¨ç‡ã€‚ æœ€åï¼Œç”¨ä¸€å¼ æ¯”è¾ƒç»å…¸çš„å›¾ï¼Œå†æ¥æ¼”ç¤ºä¸€ä¸‹å°æ³¢åˆ†è§£çš„è¿‡ç¨‹ã€‚ ä¸ºé‡‡æ ·ä¿¡å·çš„æœ€é«˜é¢‘ç‡ã€‚ ä»£è¡¨é«˜é€šæ»¤æ³¢å™¨ï¼Œ ä»£è¡¨ä½é€šæ»¤æ³¢å™¨ï¼Œâ€œç®­å¤´+2â€è¡¨ç¤º2å€ä¸‹é‡‡æ ·ã€‚ å›¾æºï¼šTHE WAVELET TUTORIAL å†æ¥ä¸¾ä¸ªä¾‹å­å½¢è±¡åœ°è¯´æ˜ä¸€ä¸‹DWTçš„ä½¿ç”¨å§ã€‚ å¸Œæœ›å¯¹äºä¸€ä¸ªé‡‡æ ·ç‡ä¸º1000HZçš„éç¨³æ€ä¿¡å·è¿›è¡Œå°æ³¢åˆ†è§£ï¼Œä¸‹å›¾ä¸ºåŒ…å«äº†256ä¸ªé‡‡æ ·ç‚¹ï¼ˆå³256msï¼‰çš„åŸå§‹é‡‡æ ·ä¿¡å·ã€‚ 1ã€é¦–å…ˆï¼Œé€‰æ‹©å°æ³¢åˆ†è§£çš„å±‚æ¬¡ã€‚ å¯ä»¥æ ¹æ®å¯¹æœ€ä½é¢‘ç‡åŒºé—´çš„è¦æ±‚æ¥é€‰æ‹©å°æ³¢åˆ†è§£çš„å±‚æ•°ã€‚æ¯”å¦‚ï¼Œæˆ‘ä¹‹å‰åšé¡¹ç›®çš„æ—¶å€™ï¼Œé‡‡æ ·ç‡ä¸º1000HZï¼Œé‚£ä¹ˆä¿¡å·çš„æœ€é«˜é¢‘ç‡ä¸º ã€‚æˆ‘è®¤ä¸ºå¯¹äºé¢‘ç‡ä½äº20HZçš„æˆåˆ†ï¼Œä¸éœ€è¦å†è¿›ä¸€æ­¥åŒºåˆ†äº†ã€‚å› æ­¤ï¼Œæˆ‘é€‰æ‹©ï¼•å±‚å°æ³¢åˆ†è§£ï¼Œå¾—åˆ°çš„æœ€ä½ä¸€å±‚çš„é¢‘ç‡åŒºé—´ä¸º ï¼Œå³ä¸º ï¼Œè¿™å°±å¤Ÿç”¨äº†ã€‚ 2ã€æ¥ä¸‹æ¥ï¼Œè¿›è¡Œ5å±‚å°æ³¢åˆ†è§£ï¼Œå¾—åˆ°å°æ³¢åˆ†è§£ç³»æ•°ã€‚ å¦‚ä¸‹å›¾ä¸­ï¼Œå›¾1ä¾ç„¶æ˜¯åŸå§‹é‡‡æ ·ä¿¡å· ï¼Œå›¾2åˆ°å›¾6ä¸ºç¬¬1å±‚åˆ°ç¬¬5å±‚å°æ³¢åˆ†è§£çš„é«˜é¢‘ç³»æ•°ï¼Œå›¾7ä¸ºç¬¬5å±‚å°æ³¢åˆ†è§£çš„ä½é¢‘ç³»æ•°ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œè¿™äº›å°æ³¢åˆ†è§£ç³»æ•°å¯¹åº”ç€ä¸åŒçš„é¢‘ç‡åŒºé—´ã€‚ è¿™å°±æ˜¯DWTäº†ï¼Œåˆç§°ä¸ºå°æ³¢åˆ†è§£ã€‚ è¿™é‡Œæä¸€ä¸‹ï¼Œå°æ³¢åˆ†è§£æ˜¯å¯é€†çš„ï¼Œå³å¯ä»¥é€šè¿‡ä¸åŒé¢‘ç‡åŒºé—´çš„å°æ³¢åˆ†è§£ç³»æ•°è¿›è¡Œé‡æ„ï¼Œå¾—åˆ°ä¸åŒé¢‘ç‡åŒºé—´çš„é‡æ„ä¿¡å·ã€‚ 3ã€æ‰€ä»¥ï¼Œæœ€åï¼Œè¿›è¡Œå°æ³¢é‡æ„ï¼Œå¾—åˆ°é‡æ„ä¿¡å·ã€‚ å¦‚ä¸‹å›¾ä¸­ï¼Œå›¾1ä¾ç„¶æ˜¯åŸå§‹é‡‡æ ·ä¿¡å·ï¼Œå›¾2åˆ°å›¾7ä¸ºé€šè¿‡ä¸åŒé¢‘ç‡åŒºé—´çš„å°æ³¢ç³»æ•°è¿›è¡Œé‡æ„ï¼Œå¾—åˆ°çš„é‡æ„ä¿¡å·ã€‚å°†å›¾2åˆ°å›¾7åŠ èµ·æ¥å°±å¯ä»¥å¾—åˆ°é‡æ„åŸå§‹ä¿¡å·ï¼Œå…¶å’ŒåŸå§‹é‡‡æ ·ä¿¡å·çš„è¯¯å·®ç§°ä¸ºé‡æ„è¯¯å·®ã€‚ 3ã€Walletç®—æ³•èƒŒåçš„æ•°å­¦åŸç†ç®€ä»‹ è¿™ä¸€éƒ¨åˆ†ä¸»è¦æ˜¯ä¸ºäº†è§£ç­”ä¸Šä¸€éƒ¨åˆ†ä¸­çš„ä¸¤ä¸ªé—®é¢˜ã€‚ 1ã€åœ¨ä¸Šä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬â€œå‡è®¾å¯ä»¥é€šè¿‡å°æ³¢æ¯å‡½æ•°æ„é€ å¾—åˆ°ä¸¤ä¸ªæ»¤æ³¢å™¨â€ï¼Œé‚£ä¹ˆï¼Œæ€ä¹ˆå¾—åˆ°åˆšå¥½å¯ä»¥å…·æœ‰ä»¥ä¸Šç‰¹æ€§çš„æ»¤æ³¢å™¨å‘¢ï¼Ÿ 2ã€åœ¨ä¸Šä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å°æ³¢åˆ†è§£ä¹‹åçš„ç»“æœç§°ä¸ºâ€œç³»æ•°â€ï¼Œé‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆç§°ä¸ºç³»æ•°å‘¢ï¼Ÿ å…ˆè¯´ä¸€ä¸‹ï¼Œè¿™éƒ¨åˆ†æˆ‘ä¸æ˜¯å¼„å¾—éå¸¸æ‡‚ï¼Œæ¯•ç«Ÿæˆ‘åªæ˜¯ä¸ªåšå·¥ç¨‹çš„æœ¬ç§‘ç”Ÿï¼Œä¸æ˜¯åšæ•°å­¦çš„å¤§ä½¬ã€‚æˆ‘å‡­è‡ªå·±çš„ç†è§£å†™ä¸€å†™å¤§æ¦‚ï¼Œå¹¶æ¨èäº†ä¸¤ç¯‡ä¸ªäººè§‰å¾—è®²å¾—å¾ˆå¥½çš„å›ç­”ã€‚ æˆ‘ä»¬ç”¨Haarå°æ³¢åšä¾‹å­ã€‚ é¦–å…ˆï¼Œä»‹ç»ä¸€ä¸ªHaarå°ºåº¦å‡½æ•°ï¼ˆåˆç§°ä¸ºçˆ¶å°æ³¢ï¼‰ï¼Œè®°ä¸º ï¼Œ ï¼Œå¦‚ä¸‹å›¾ã€‚ é€šè¿‡Haarå°ºåº¦å‡½æ•° ï¼Œå¯ä»¥å¾—åˆ°Haaræ¯å°æ³¢ ï¼Œ ï¼Œå¦‚ä¸‹å›¾ã€‚ ç°åœ¨ï¼Œå¯¹äºä¸€ä¸ª N ç‚¹çš„åŸå§‹é‡‡æ ·ä¿¡å·ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥ç”¨ N ä¸ªåšäº†æ—¶åŸŸå¹³ç§»çš„Haarå°ºåº¦å‡½æ•°å’Œ N ä¸ªåšäº†æ—¶åŸŸå¹³ç§»çš„Haaræ¯å°æ³¢ï¼Œæ¥é€¼è¿‘åŸä¿¡å·ï¼Œå°±å¯ä»¥å¾—åˆ°ç”¨ N ä¸ªHaarå°ºåº¦å‡½æ•°çš„ç³»æ•°å’Œ N ä¸ªHaaræ¯å°æ³¢çš„ç³»æ•°ã€‚ ä»ç›´è§‚ä¸Šçœ‹ï¼ŒHaarå°ºåº¦å‡½æ•°åªæ˜¯ä¸€æ¡çº¿ï¼Œè€ŒHaaræ¯å°æ³¢åˆ™æ˜¯ä¸€ä¸ªæ³¢ã€‚æ‰€ä»¥ï¼ŒHaaræ¯å°æ³¢æ‰€èƒ½è¡¨ç¤ºå‡ºæ¥çš„ä¿¡æ¯åº”è¯¥æ›´åŠ ç»†è‡´ã€‚å› æ­¤ï¼ŒN ä¸ªHaaræ¯å°æ³¢ç»„åˆèµ·æ¥ï¼Œåº”è¯¥ä»£è¡¨çš„æ˜¯åŸå§‹ä¿¡å·çš„ç»†èŠ‚éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯é«˜é¢‘éƒ¨åˆ†ï¼›N ä¸ªHaarå°ºåº¦å‡½æ•°ç»„åˆèµ·æ¥ï¼Œä»£è¡¨çš„æ˜¯åŸå§‹ä¿¡å·çš„ç²—ç•¥éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ä½é¢‘éƒ¨åˆ†ã€‚ æˆ‘ä»¬å°†N ä¸ªHaaræ¯å°æ³¢çš„ç³»æ•°ç§°ä¸ºé«˜é¢‘ç³»æ•°ï¼Œå°†N ä¸ªHaarå°ºåº¦å‡½æ•°çš„ç³»æ•°ç§°ä¸ºä½é¢‘ç³»æ•°ã€‚ æ‰€ä»¥ï¼ŒDWTçš„æ»¤æ³¢åŠŸèƒ½ï¼Œæ˜¯é€šè¿‡åˆ©ç”¨å°ºåº¦å‡½æ•°å’Œæ¯å°æ³¢é‡æ„ä¿¡å·ï¼Œè·å–é‡æ„ç³»æ•°æ¥è·å¾—çš„ï¼Œè¿™å·²ç»å®šæ€§åœ°è§£å†³äº†æœ¬éƒ¨åˆ†æå‡ºçš„é—®é¢˜ã€‚ å…³äºDWTèƒŒåçš„æ•°å­¦åŸç†ï¼Œæ¨èä¸¤ç¯‡å›ç­”ï¼š https://zhuanlan.zhihu.com/p/28575472 https://zhuanlan.zhihu.com/p/44217268 æœ€åï¼Œç”±äºDWTåˆ†è§£å¾—åˆ°çš„æ˜¯é«˜é¢‘ç³»æ•°å’Œä½é¢‘ç³»æ•°ï¼Œä¹Ÿå°±æ˜¯ç”¨å°ºåº¦å‡½æ•°ä»¥åŠæ¯å°æ³¢è¡¨ç¤ºåŸä¿¡å·çš„æ—¶å€™çš„ä¸€äº›é‡æ„ç³»æ•°ï¼Œæ‰€ä»¥é€šè¿‡é‡æ„ç³»æ•°å¯ä»¥é‡æ„è¯¥ä¿¡å·ï¼Œè¿™è¢«ç§°ä¸º**å°æ³¢åˆ†è§£çš„é‡æ„ã€‚**è¿™ä¹Ÿè¯´æ˜äº†å°æ³¢åˆ†è§£æ˜¯å¯é€†çš„ã€‚ å°æ³¢å˜æ¢ å°æ³¢å˜æ¢çš„ä¸»æ—¨ï¼šå‚…é‡Œå¶å˜æ¢å°†ä¿¡å·åˆ†è§£æˆä¸ºæ­£å¼¦æ³¢çš„å åŠ ï¼Œå‚…é‡Œå¶å˜æ¢å°†ä¿¡å·åˆ†è§£æˆä¸ºæ­£å¼¦æ³¢çš„å åŠ ã€‚å› æ­¤ï¼Œå¦‚æœè¦å‡†ç¡®åˆ†æå¸¦çªå˜çš„ä¿¡å·æˆ–å›¾åƒï¼Œå¿…é¡»é‡‡ç”¨åœ¨æ—¶åŸŸå’Œé¢‘åŸŸéƒ½å«æœ‰å®šä½ä¿¡æ¯çš„æ–°æ–¹æ³• å°æ³¢æ˜¯ä¸€ç§å¿«é€Ÿè¡°å‡çš„ã€é›¶å‡å€¼çš„æ³¢å½¢éœ‡è¡,ä¸åƒæ°¸è¿œéœ‡è¡çš„æ­£å¼¦æ³¢ï¼Œå°æ³¢æŒç»­çš„æ—¶é—´æ˜¯æœ‰é™çš„ ä¸­å¿ƒé¢‘ç‡: å°ºåº¦ç³»æ•°å’Œé¢‘ç‡ä¹‹é—´æ˜¯å¸¸ç³»æ•°å€’æ•°å…³ç³» è¾ƒå¤§çš„å°ºåº¦ç³»æ•°ä¼šæ‹‰ä¼¸å°æ³¢ï¼Œå¯¹åº”çš„å¯è¡¨ç¤ºä½é¢‘ è¾ƒå°çš„å°ºåº¦ç³»æ•°ä¼šå‹ç¼©å°æ³¢ï¼Œå¯¹åº”çš„å¯è¡¨ç¤ºé«˜é¢‘ æ‹‰ä¼¸çš„å°æ³¢å¯ä»¥æ•æ‰ä¿¡å·ä¸­æ…¢å˜çš„æˆåˆ† è€Œå‹ç¼©çš„å°æ³¢å¯ä»¥æœ‰æ•ˆæ•æ‰çªå˜ è¿ç»­å°æ³¢ã€ç¦»æ•£å°æ³¢ ä»–ä»¬çš„åŒºåˆ«å°±æ˜¯å°ºåº¦ç¼©æ”¾æˆ–è€…ä½ç§»çš„æ–¹å¼ä¸åŒ","categories":[],"tags":[{"name":"ä¿¡å·å¤„ç†","slug":"ä¿¡å·å¤„ç†","permalink":"https://nymrli.top/tags/ä¿¡å·å¤„ç†/"}]},{"title":"Vimè®°å¿†","slug":"Vimè®°å¿†","date":"2019-07-26T02:34:34.000Z","updated":"2019-09-15T08:07:31.012Z","comments":true,"path":"2019/07/26/Vimè®°å¿†/","link":"","permalink":"https://nymrli.top/2019/07/26/Vimè®°å¿†/","excerpt":"","text":"VIMè®°å¿†æŠ€å·§ å¢ i(insert) Iæœ€å‰é¢insert a(append) Aæœ€åé¢append o(open a line)å¾€ä¸‹å¼€å¯ä¸€è¡Œ Oå¾€ä¸Šå¼€å¯ä¸€è¡Œ åˆ  dï¼ˆdeleteï¼‰ dwï¼ˆdelet wordï¼‰ ddï¼ˆåˆ é™¤ä¸€è¡Œï¼‰ xï¼ˆåˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼‰ æ‹“å±• diw(delete inner word) daw(delete around word) æ”¹ cï¼ˆchangeï¼‰ ciwï¼ˆchange inner wordï¼‰ ci&quot;(change inner &quot;) ctï¼‰ä¿®æ”¹åˆ°å³æ‹¬å· æŸ¥ fs(find s) è·³åˆ°æœ¬è¡Œç¬¬ä¸€ä¸ªså­—ç¬¦ /å¾€åæŸ¥æ‰¾,å¦‚/xxx å…¨æ–‡æœç´¢xxx ;æŸ¥æ‰¾ä¸‹ä¸€ä¸ª ?å¾€å‰æŸ¥æ‰¾ ç§»åŠ¨ hâ† jâ†“ kâ†‘ lâ†’ w(word)å¾€åè·³ä¸€ä¸ªå•è¯ b(back word)å¾€å‰è¿”å›ä¸€ä¸ªå•è¯ ä»¥ç©ºæ ¼ä¸ºç•ŒåŒºåˆ†å•è¯ è¡Œé—´è·³è½¬ :18 è·³è½¬åˆ°ç¬¬18è¡Œ 18G è·³è½¬åˆ°ç¬¬18è¡Œ è¡Œå†…è·³è½¬: 0è¡Œé¦– $è¡Œå°¾ ctrl+oè¿”å›ä¸Šä¸€ä¸ªä½ç½® Gæ–‡ä»¶ç»“å°¾ ggæ–‡ä»¶å¼€å¤´ ctrl+f(forward)å¾€åç¿»é¡µ ctrl+u(upward)å¾€å‰ç¿»é¡µ vimå®‰è£…æ’ä»¶ ä¿®æ”¹é…ç½® 123456789101112131415161718set numberset history=1000set background=darksyntax onset autoindentset smartindentset tabstop=4set shiftwidth=4set showmatchset guioptions-=Tset vb t_vb=set rulerset nohlsset incsearchcall plug#begin() Plug &apos;flazz/vim-colorschemes&apos;call plug#end() æœ€åè¿›å…¥vimæ‰§è¡Œ è¾“å…¥:PluginInstall ä¾¿å¯è‡ªåŠ¨å®‰è£… è¦å¸è½½æ’ä»¶ï¼Œå…ˆåœ¨.vimrcä¸­æ³¨é‡Šæˆ–åˆ é™¤å¯¹åº”æ’ä»¶é…ç½®ä¿¡æ¯ï¼Œç„¶ååœ¨vimä¸­æ‰§è¡Œ :PluginCleanä¾¿å¯å¸è½½å¯¹åº”æ’ä»¶ æ‰¹é‡æ›´æ–°ï¼Œåªéœ€æ‰§è¡Œ:PluginUpdate","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"Dockerä½¿ç”¨","slug":"Dockerä½¿ç”¨","date":"2019-07-25T02:58:19.000Z","updated":"2022-03-29T06:19:27.377Z","comments":true,"path":"2019/07/25/Dockerä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/07/25/Dockerä½¿ç”¨/","excerpt":"","text":"Dockerå­¦ä¹  è½»éƒ¨ç½²,çœæˆæœ¬,æ˜“è¿ç§» dockerå’Œè™šæ‹ŸæœºVMçš„åŒºåˆ« ä¸€ã€æœ¬è´¨ä¸Šçš„åŒºåˆ«ï¼š VM(VMware)åœ¨å®¿ä¸»æœºå™¨ã€å®¿ä¸»æœºå™¨æ“ä½œç³»ç»Ÿçš„åŸºç¡€ä¸Šåˆ›å»ºè™šæ‹Ÿå±‚ã€è™šæ‹ŸåŒ–çš„æ“ä½œç³»ç»Ÿã€è™šæ‹ŸåŒ–çš„ä»“åº“ï¼Œç„¶åå†å®‰è£…åº”ç”¨ï¼› Container(Dockerå®¹å™¨)ï¼Œåœ¨å®¿ä¸»æœºå™¨ã€å®¿ä¸»æœºå™¨æ“ä½œç³»ç»Ÿä¸Šåˆ›å»ºDockerå¼•æ“ï¼Œåœ¨å¼•æ“çš„åŸºç¡€ä¸Šå†å®‰è£…åº”ç”¨ã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ²¡æœ‰æ“ä½œç³»ç»Ÿï¼Œæ€ä¹ˆè¿è¡Œç¨‹åºï¼Ÿ å¯ä»¥åœ¨Dockerä¸­åˆ›å»ºä¸€ä¸ªubuntuçš„é•œåƒæ–‡ä»¶ï¼Œè¿™æ ·å°±èƒ½å°†ubuntuç³»ç»Ÿé›†æˆåˆ°Dockerä¸­ï¼Œè¿è¡Œçš„åº”ç”¨å°±éƒ½æ˜¯ubuntuçš„åº”ç”¨ã€‚ äºŒã€ä½¿ç”¨ä¸Šçš„åŒºåˆ«ï¼š Size: è™šæ‹Ÿæœºubuntuå¤§å°ä¸º:24.1GB Dockerä¸­é•œåƒæ–‡ä»¶å ç”¨å†…å­˜: 81.2MB Startupï¼š Dockeråœ¨å®¿ä¸»æœºå™¨çš„æ“ä½œç³»ç»Ÿä¸Šåˆ›å»ºDockerå¼•æ“ï¼Œç›´æ¥åœ¨å®¿ä¸»ä¸»æœºçš„æ“ä½œç³»ç»Ÿä¸Šè°ƒç”¨ç¡¬ä»¶èµ„æºï¼Œè€Œä¸æ˜¯è™šæ‹ŸåŒ–æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶èµ„æºï¼Œæ‰€ä»¥æ“ä½œé€Ÿåº¦å¿«ã€‚ è¿™ä¸ªå…¶å®å®‰è£…ä¸€ä¸ªubuntuçš„è™šæ‹Ÿæœºå’Œæ‹‰å–ä¸€ä¸ªDockerçš„ubuntué•œåƒæ–‡ä»¶ï¼Œè¿è¡Œä¸€ä¸‹å°±çŸ¥é“äº†ï¼ŒåŒºåˆ«å¾ˆæ˜æ˜¾ï¼Œè™šæ‹Ÿæœºå¼€ä¸€ä¸‹å¤§æ¦‚å¾—2åˆ†å¤šé’Ÿï¼Œè€ŒDockeråªéœ€è¦2ç§’é’Ÿã€‚ å®¿ä¸»æœºã€é•œåƒä¸å®¹å™¨ å®¿ä¸»æœºå™¨: è¿è¡Œdockerçš„æœºå™¨ é•œåƒ:ä¸å¯ä»¥ä¿®æ”¹å†…å®¹ å®¹å™¨:å¯ä»¥ä¿®æ”¹èƒ½å†…å®¹,ç›¸å½“äºè™šæ‹Ÿæœº,é»˜è®¤æƒ…å†µä¸‹å½¼æ­¤ç›¸äº’ç‹¬ç«‹ï¼ˆå®¹å™¨ä¹‹é—´å¯ä»¥é€šä¿¡ï¼‰ â–³.å¯ä»¥ä¾æ®é•œåƒæ¥åˆ›å»ºå®¹å™¨,ä¹Ÿå¯ä»¥å°è£…å®¹å™¨ä¸ºä¸€ä¸ªé•œåƒ,å³å®¹å™¨&lt;===&gt;é•œåƒ Dockerå‘½ä»¤ æœç´¢é•œåƒ: docker search python ä¸‹è½½é•œåƒ: docker pull NAME â–²æ³¨ï¼šlatestæ˜¯é»˜è®¤çš„æ ‡ç­¾ï¼Œå­—é¢ä¸Šç†è§£ä¸ºæœ€æ–°ç‰ˆæœ¬çš„é•œåƒï¼Œå®è´¨ä¸Šlateståªæ˜¯é•œåƒçš„æ ‡ç­¾åç§°ï¼Œè·Ÿå…·ä½“æŸä¸ªç‰ˆæœ¬å·åœ°ä½ä¸€æ ·ï¼Œæœ‰latestæ ‡ç­¾çš„é•œåƒä¸ä¸€å®šæ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œé•œåƒä½œè€…å¯ä»¥ä»»æ„æŒ‡å®šæ ‡ç­¾ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨latestä½œä¸ºæœ€æ–°é•œåƒçš„æ ‡è¯†ï¼Œè¿™æ˜¯çº¦å®šã€‚ä½†ï¼Œä¸€æ—¦è¯¥é•œåƒè¢«æ‹‰å–åˆ°æœ¬åœ°ï¼Œç‰ˆæœ¬å·å°±å·²ç»ç¡®å®šï¼Œä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚ï¼ˆ2021å¹´10æœˆ10æ—¥ webappé“¾æ¥mysqlæ—¶é•œåƒä¸€ç›´ç”¨çš„æ˜¯latestç‰ˆæœ¬çš„é•œåƒï¼Œå¯¼è‡´æµªè´¹äº†å¾ˆé•¿æ—¶é—´æ£é¼“ï¼‰===&gt;æ‰€ä»¥åœ¨æ¯æ¬¡éƒ½è¦ä»¥æœ€æ–°é•œåƒæ„å»ºå®¹å™¨æ—¶éƒ½åº”è¯¥æŠŠåŸæœ‰çš„latesté•œåƒåˆ é™¤åï¼Œå†æ‹‰å–æ ‡ç­¾ä¸ºlatestçš„æœ€æ–°é•œåƒã€‚ å‘å¸ƒè€…å¦‚æœdocker build -t &lt;username&gt;/&lt;repositoryName&gt; .ä¸­ä¸å¸¦tagæ ‡ç­¾ï¼Œåˆ™é»˜è®¤ä¸ºlatestï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ ·æ„å‘³ç€latestå…¶å®ä¹Ÿæ˜¯å‘å¸ƒè€…æŒ‡å®šçš„ï¼Œå¦‚æœå‘å¸ƒv5æ—¶å°†latestç»‘å®šä¸ºv5ï¼Œä½†å‘å¸ƒäº†æ–°çš„v6åå‘å¸ƒè€…å¹¶æ²¡æœ‰åŒæ­¥å¯¹å½“å‰çš„é•œåƒå‘å¸ƒlatestï¼Œé‚£ä¹ˆlatestæ ‡ç­¾ç»‘å®šçš„è¿˜æ˜¯v5ã€‚è¿™å°±äºæˆ‘ä»¬æ‰€ç†è§£çš„latestæœ‰åå·®äº†ï¼Œå®é™…ä¸Šä¹Ÿååº”äº†latestå…¶å®ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ ‡ç­¾åå­—è€Œå·²ï¼Œä»–å¹¶æ²¡ç‰¹æ®Šçš„å«ä¹‰ é€šè¿‡Dockerfileæ„å»ºæ–°é•œåƒï¼š docker build . --build-arg FRP_VERSION=v0.37.0 -t frp -t, --tag=[]: æŒ‡å®šé•œåƒtagæ ‡ç­¾ æ ¹æ®é•œåƒåˆ›æ–°å®¹å™¨: docker run -tid (--name xxx) IMAGE ID tiè¡¨ç¤ºä»¥äº¤äº’çš„å½¢å¼åˆ›å»ºå®¹å™¨ï¼Œdè¡¨ç¤ºä¸è¿›å…¥ -d, --detach=falseï¼Œ æŒ‡å®šå®¹å™¨è¿è¡Œäºå‰å°è¿˜æ˜¯åå°ï¼Œé»˜è®¤ä¸ºfalse -i, --interactive=falseï¼Œ æ‰“å¼€STDINï¼Œç”¨äºæ§åˆ¶å°äº¤äº’ -t, --tty=falseï¼Œ åˆ†é…ttyè®¾å¤‡ï¼Œè¯¥å¯ä»¥æ”¯æŒç»ˆç«¯ç™»å½•ï¼Œé»˜è®¤ä¸ºfalse -v, --volume=[host-src:]container-dest[:&lt;options&gt;] -p, --port=&lt;host_port&gt;:&lt;container_port&gt; æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£ Flagå‚æ•°æŸ¥è¯¢ï¼š https://appapi.w3cschool.cn/doc_docker_1_11/docker_1_11-engine-reference-commandline-run-index.html?lang=en å¯åŠ¨å®¹å™¨: docker start CONTAINER_ID è¿›å…¥å®¹å™¨ï¼š docker attach CONTAINER_ID ï¼ˆå·²è¢«å¼ƒç”¨ï¼‰ ==&gt; docker exec -ti CONTAINER_id /bin/bash è¿›å…¥å®¹å™¨å‰å¾—å‰è¿è¡Œå®¹å™¨ é€€å‡ºå®¹å™¨ï¼š ctrl + p + q , ä»¥ctrl + z ã€exitå°†ä¼šç»ˆæ­¢å®¹å™¨è¿è¡Œ åœ¨ä¸€ä¸ªå·²è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤: â€¢docker exec [OPTIONS] CONTAINER COMMAND [ARG...] å°è£…å®¹å™¨ä¸ºé•œåƒ: docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]] 1234-a :æäº¤çš„é•œåƒä½œè€…ï¼›-c :ä½¿ç”¨DockerfileæŒ‡ä»¤æ¥åˆ›å»ºé•œåƒï¼›-m :æäº¤æ—¶çš„è¯´æ˜æ–‡å­—ï¼›-p :åœ¨commitæ—¶ï¼Œå°†å®¹å™¨æš‚åœã€‚ å®¹å™¨é€šä¿¡-åˆ›å»ºå­èŠ‚ç‚¹é“¾æ¥ä¸­å¿ƒèŠ‚ç‚¹: docker run -tid (--name xxx) (--link CONTAINER_NAMES) IMAGE ID æŸ¥çœ‹å®¹å™¨ip: cat /ect/hosts 123456789root@b68943564e76:/# cat /etc/hosts 127.0.0.1 localhost::1 localhost ip6-localhost ip6-loopbackfe00::0 ip6-localnetff00::0 ip6-mcastprefixff02::1 ip6-allnodesff02::2 ip6-allrouters172.17.0.2 test 4e02c004539e172.17.0.3 b68943564e76 â–²åˆæ¬¡ä½¿ç”¨, ifconfigä½¿ç”¨æ— æ•ˆ,pingä¹Ÿæ— æ•ˆ,åŸå› å¦‚ä¸‹ æˆ‘åˆ›å»ºçš„å®¹å™¨æ˜¯æ‹‰å–çš„Baseé•œåƒï¼Œè€Œå› ä¸ºç”¨Dockeræ‹‰å–çš„Baseé•œåƒå¦‚Centoså’ŒUbuntuçš„è¯éƒ½æ˜¯æœ€ç®€ç‰ˆæœ¬ï¼Œä¸åŒ…å«Pingå·¥å…·ï¼Œè€Œå¯¹Dockerè¿›è¡ŒDocker networkå’ŒDockeré“¾æ¥æ“ä½œæ—¶å¾€å¾€è¦ç”¨åˆ°Pingå·¥å…·æµ‹è¯•ä¸¤ä¸ªå®¹å™¨é—´çš„ç½‘ç»œï¼Œæ­¤æ—¶å°±è¦ç”¨åˆ°Pingå·¥å…·äº†ï¼Œä¸‹é¢æ˜¯Ubuntuä¸‹å®‰è£…Pingå·¥å…·çš„å‘½ä»¤ï¼šapt-get update &amp;&amp; apt-get install iputils-pingã€å®‰è£…ifconfigå·¥å…·:apt install net-tools ä»å®¹å™¨é‡Œé¢æ‹·æ–‡ä»¶åˆ°å®¿ä¸»æœº docker cp å®¹å™¨åï¼šè¦æ‹·è´çš„æ–‡ä»¶åœ¨å®¹å™¨é‡Œé¢çš„è·¯å¾„ è¦æ‹·è´åˆ°å®¿ä¸»æœºçš„ç›¸åº”è·¯å¾„ å®¿ä¸»æœºä¸Šæ‰§è¡Œ:$ docker cp testtomcatï¼š/usr/local/tomcat/webapps/test/js/test.js /opt ä»å®¿ä¸»æœºæ‹·æ–‡ä»¶åˆ°dockerå®¹å™¨é‡Œé¢ docker cp è¦æ‹·è´çš„æ–‡ä»¶è·¯å¾„ å®¹å™¨åï¼šè¦æ‹·è´åˆ°å®¹å™¨é‡Œé¢å¯¹åº”çš„è·¯å¾„ å®¿ä¸»æœºä¸Šæ‰§è¡Œ$ docker cp requirements.txt apptest:/app â–²æ³¨:å®¹å™¨NAMEå¯ä»¥é€šè¿‡docker pså‘½ä»¤æŸ¥çœ‹ DockerfileæŒ‡ä»¤ Dockerfileæ–‡ä»¶Dä¸€å®šè¦å¤§å†™ $ docker build -t=&quot;dormanctpress/df_test2&quot; . .ä¸ºDockerfileçš„è·¯å¾„ 1.FROM &lt;image&gt;:&lt;tag&gt;: æŒ‡å®šæ‹‰å–baseé•œåƒ 2.MAINTAINERï¼š ä½œè€…ä¿¡æ¯ 3.RUN é•œåƒæ„å»ºä¸­è¿è¡Œçš„å‘½ä»¤ï¼Œä¸»è¦ç”¨äºå®‰è£…åº“ 4.EXPOSE å¦‚æœæ˜¯ç«¯å£çš„è¯ï¼Œåªæ˜¯å£°æ˜ä¼šä½¿ç”¨xxç«¯å£,ä½†æ˜¯å®é™…ä½¿ç”¨æ—¶è¿˜æ˜¯éœ€è¦run -p xx $ docker build -t=&quot;dormanctpress/df_test2&quot; . è®¾ç½®ç¯å¢ƒå˜é‡ CMD åœ¨å®¹å™¨è¿è¡Œæ—¶è¿è¡Œçš„é»˜è®¤å‘½ä»¤(å‘½ä»¤è¡Œä¸­æ·»åŠ çš„å‘½ä»¤å¯ä»¥ä»£æ›¿æ‰Dokcerfileä¸­å†™çš„CMDæŒ‡ä»¤) æ¯ä¸ªDockerfileåªèƒ½å¤ŸåŒ…å«ä¸€ä¸ªCMDï¼Œå¤šä¸ªCMD åªæœ‰æœ€åä¸€ä¸ªèƒ½æœ‰æ•ˆ å®šä¹‰çš„ä¸‰ç§æ–¹å¼ CMD &lt;cmd&gt;è¿™ä¸ªä¼šå½“åš/bin/sh-câ€œcmdâ€æ¥æ‰§è¡Œ CMD[â€œexecutable&quot;ï¼Œâ€œarg1â€ï¼Œâ€œarg2â€] ä¸€å®šè¦åŒå¼•å· CMD[â€œarg1&quot;ï¼Œâ€œarg2â€]ï¼Œè¿™ä¸ªæ—¶å€™CMDä½œä¸ºENTRYPOINTçš„å‚æ•° ENTRYPOINT æ¯ä¸ªDockerfileåªèƒ½å¤ŸåŒ…å«ä¸€ä¸ªENTRYPOINIï¼Œå¤šä¸ªENTRYPOINTåªæœ‰æœ€åä¸€ä¸ªèƒ½æœ‰æ•ˆ ä¸ä¼šåƒCMDå‘½ä»¤ä¸€æ ·è¢«è¦†ç›–,é™¤éä½¿ç”¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109 - å½“å®šä¹‰äº†ENTRYPOINTå,CMDå°†è¢«ä½œä¸ºå‚æ•°ä½¿ç”¨ã€‚å¦‚æœå®šä¹‰äº†CMDï¼Œé‚£ä¹ˆ`docker run -t test/osf2 xxxx`åé¢å³xxxxçš„å†…å®¹å…¨ä¼šè¢«å½“åšå‚æ•°ä¼ é€’ENTRYPOINTç»„åˆä½¿ç”¨ENTRYPOINTå’ŒCMD: ENTRYPOINTæŒ‡å®šå‘½ä»¤,CMDæŒ‡å®šé»˜è®¤å‚æ•°7. ADD&amp;COPYå…±åŒç‚¹- ADD&amp;COPYçš„æºå¿…é¡»åœ¨contextè·¯å¾„ä¸‹- å½“åœ¨æºä»£ç æ„å»ºçš„æ–¹å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡ADDå’ŒCOPYçš„æ–¹å¼ï¼ŒæŠŠHostä¸Šçš„æ–‡ä»¶æˆ–è€…ç›®å½•å¤åˆ¶åˆ°Imageä¸åŒç‚¹ï¼šADD- åŒ…å«ç±»ä¼¼tar**è§£å‹**çš„åŠŸèƒ½- å½“é‡åˆ°`&lt;scr&gt;`å‚æ•°ä¸ºURLæ—¶å€™ï¼Œå¯ä»¥é€šè¿‡URL**ä¸‹è½½**æ–‡ä»¶å¹¶ä¸”å¤åˆ¶åˆ°`&lt;dest&gt;`ï¼Œè¿™ä¸ªåœ¨ä»»ä½•buildçš„æ–¹å¼ä¸‹éƒ½å¯ä»¥WorkCOPY- COPYæ˜¯ADDçš„ä¸€ç§ç®€åŒ–ç‰ˆæœ¬ï¼Œç›®çš„åœ¨äºæ»¡è¶³å¤§å¤šæ•°äººâ€œå¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨â€çš„éœ€æ±‚ã€‚- Docker å›¢é˜Ÿçš„å»ºè®®æ˜¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨COPYã€‚æ‹·è´æ–‡ä»¶çš„åŸåˆ™ï¼šä½¿ç”¨COPYï¼ˆé™¤éä½ æ˜ç¡®ä½ éœ€è¦ADDï¼‰9. VOLUME[&apos;/data&apos;] - è®¾ç½®æ•°æ®å·ï¼Œæš´éœ²ç»™å¤–éƒ¨ä½¿ç”¨è€…æ˜ å°„10. WORKDIR /path/to/workdir - ä¸€èˆ¬ä½¿ç”¨ç»å¯¹è·¯å¾„11. EXPOSE - æš´éœ²ç«¯å£ç»™å¤–éƒ¨ä½¿ç”¨è€…æ˜ å°„12. `ENV &lt;key&gt; &lt;value&gt;` - ç”¨æ¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåç»­çš„RUNå¯ä»¥ä½¿ç”¨å®ƒæ‰€åˆ›å»ºçš„ç¯å¢ƒå˜é‡ã€‚ - å½“åˆ›å»ºåŸºäºè¯¥é•œåƒçš„Containerçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹¥æœ‰è®¾ç½®çš„ç¯å¢ƒå˜é‡13. USER daemon- æŒ‡å®šUIDæˆ–è€…usernameï¼Œæ¥å†³å®šè¿è¡ŒRUNæŒ‡ä»¤çš„ç”¨æˆ·- å¦‚æœä¸æŒ‡å®š,åˆ™é»˜è®¤root13. ONBUILD - è§¦å‘å™¨14. ARG - `ARG` æŒ‡ä»¤å®šä¹‰äº†ä¸€ä¸ªå˜é‡ï¼Œç”¨æˆ·å¯ä»¥åœ¨æ„å»ºæ—¶ä½¿ç”¨ `docker build` å‘½ä»¤ä½¿ç”¨`--build-arg &lt;varname&gt;=&lt;value&gt;` æ ‡å¿—å°†å…¶ä¼ é€’ç»™æ„å»ºå™¨ã€‚å¦‚æœç”¨æˆ·æŒ‡å®šäº†æœªåœ¨ Dockerfile ä¸­å®šä¹‰çš„æ„å»ºå‚æ•°ï¼Œåˆ™æ„å»ºä¼šè¾“å‡ºè­¦å‘Šã€‚### dockerfileæ„å»ºè¿‡ç¨‹1. ä»åŸºç¡€é•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨2. æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼Œå¯¹å®¹å™¨åšå‡ºä¿®æ”¹3. æ‰§è¡Œç±»ä¼¼docker commitçš„æ“ä½œï¼Œæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚4. å†åŸºäºåˆšæäº¤çš„é•œåƒè¿è¡Œä¸€ä¸ªæ–°å®¹å™¨5. æ‰§è¡ŒDockerfileä¸­çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œç›´è‡³æ‰€æœ‰æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•### ä½¿ç”¨ä¸­é—´å±‚é•œåƒè¿›è¡Œè°ƒè¯•æŸ¥æ‰¾é”™è¯¯### Dockerfile é•œåƒç¼“å­˜æ„å»ºç¼“å­˜ï¼šå°†ä¹‹å‰çš„é•œåƒç¼“å­˜ä¸ä½¿ç”¨ç¼“å­˜`docker build --no-cache`### æŸ¥çœ‹é•œåƒæ„å»ºçš„è¿‡ç¨‹æŸ¥çœ‹æ„å»ºè¿‡ç¨‹:`docker history xxx/yyy`## æ•°æ®å·`sudo docker run -v ~/container_data:/data -it ubuntu /bin/bash`å‚æ•°è¯´æ˜:ä½¿ç”¨-vé€‰é¡¹,ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå®¿ä¸»æœºç›®å½•,:åçš„ç›®å½•ä¸ºåœ¨å®¹å™¨ä¸­ä½¿ç”¨çš„ç›®å½•(æŒ‚è½½);ubuntuä¸ºé•œåƒ### æŸ¥çœ‹å®¹å™¨æ˜¯å¦æŒ‚è½½äº†æ•°æ®å·`docker inspect CONTAINER_ID`å¯ä»¥æŸ¥çœ‹å®¹å™¨æ˜¯å¦æŒ‚è½½äº†æ•°æ®å·### ç»™æ•°æ®å·å¢åŠ æƒé™`sudo docker run -v ~/datavolume:/data:ro -it ubuntu/bin/bash`roæ˜¯read-only## æ•°æ®å·å®¹å™¨&gt; å‘½åçš„å®¹å™¨æŒ‚è½½æ•°æ®å·ï¼Œå…¶ä»–å®¹å™¨é€šè¿‡æŒ‚è½½è¿™ä¸ªå®¹å™¨å®ç°æ•°æ®å…±äº«ï¼ŒæŒ‚è½½æ•°æ®å·çš„å®¹å™¨ï¼Œå°±å«åšæ•°æ®å·å®¹å™¨æŒ‚è½½æ•°æ®å·å®¹å™¨çš„æ–¹æ³•`docker run--volumes-from [CONTAINER NAME]`## MySQLé€šä¿¡```shell&gt;&gt;&gt; can&apos;t connect to MySQL server on &apos;172.17.0.8&apos;(111)$ vim /etc/mvsal/my.cnf # å°†bind-address=127.0.0.1æ³¨é‡Šæ‰&gt;&gt;&gt; Host &apos;2eaf92ef2ff6&apos;is not allowed to connect to this MySQL server$ create user &quot;weiwei&quot;@&quot;%&quot;identified by&quot;weijc7789&quot;# åˆ›å»ºç”¨æˆ·$ grant create, select, update, delete, insert on *.* to weiwei;# å¢æ·»æƒé™$ mysq1-h 172.17.0.8-u weiwei-p# é“¾æ¥ redisé€šä¿¡ 1234567$ redis-cli -h 172.17.0.8&gt;&gt;&gt; Could not connect to Redis at 172.17.0.8:6379:Connection refused$ vim /etc/redis /redis.conf# å°†bind-address=127.0.0.1æ³¨é‡Šæ‰# å¦‚æœä¿®æ”¹å/ect/init.d/redis-server restartåè¿˜æ˜¯é“¾æ¥ä¸äº†,é‡å¯è¿›å…¥å®¹å™¨$ redis-cli-h 172.17.0.8-p 6379 ä¸€æ¡å‘½ä»¤å®ç°åœç”¨å¹¶åˆ é™¤å®¹å™¨ï¼š 1docker stop $(docker ps -q) &amp; docker rm $(docker ps -aq) ä¸€æ¡å‘½ä»¤åˆ é™¤æ‰€æœ‰é•œåƒï¼š 1docker rmi `docker images -q` ä¸€æ¡å‘½ä»¤åˆ é™¤åˆ›å»ºå¤±è´¥çš„é•œåƒ: docker images | sed -n '2p' | awk '{print$3}' | xargs docker rmi https://www.jianshu.com/p/658911a8cff3) å‘ç‚¹è®°å½• dockerå®¹å™¨å¯åŠ¨åé©¬ä¸Šé€€å‡ºè§£å†³æ–¹æ¡ˆ dokcerfileä¸­çš„æœ€åä¸€ä¸ªå‘½ä»¤ä¸èƒ½åœ¨åå°æ‰§è¡Œ,ä¸ç„¶ä¼šå¯åŠ¨åé©¬ä¸Šé€€å‡º åŸå›  Dockerå®¹å™¨åŒæ—¶åªèƒ½ç®¡ç†ä¸€ä¸ªè¿›ç¨‹ï¼Œå¦‚æœè¿™ä¸ªè¿›ç¨‹é€€å‡ºé‚£ä¹ˆå®¹å™¨ä¹Ÿå°±é€€å‡ºäº†ï¼Œä½†è¿™ä¸è¡¨ç¤ºå®¹å™¨åªèƒ½è¿è¡Œä¸€ä¸ªè¿›ç¨‹(å…¶ä»–è¿›ç¨‹å¯åœ¨åå°è¿è¡Œ)ï¼Œä½†æ˜¯è¦ä½¿å®¹å™¨ä¸é€€å‡ºå¿…é¡»æœ‰ä¸€ä¸ªå‰å°æ‰§è¡Œçš„è¿›ç¨‹ã€‚ è§£å†³æ–¹æ³•ï¼š è„šæœ¬ä¸­æœ€åä¸€ä¸ªè¿›ç¨‹ä¸€å®šè¦ç”¨å‰å°è¿è¡Œæ–¹å¼å³åœ¨è¿›ç¨‹æœ€åä¸åŠ &amp;(&amp;è¡¨ç¤ºåå°è¿è¡Œ)ï¼Œå¦åˆ™å®¹å™¨ä¼šé€€å‡ºã€‚ å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨docker attach Q:ç”±äºæ‰§è¡Œç€uwsgi --ini uwsig.iniå‘½ä»¤,ç”¨æˆ·å°±æ— æ³•ç›´æ¥è¿›å…¥åˆ°å®¹å™¨ä¸­å»ï¼Œdocker attach CONTAINER_id å°±ä¼šä¸€ç›´å¡ç€ã€‚ A: attachæ—©å·²è¿‡æ—¶äº†ï¼Œå¯ç”¨: docker exec -it containerID /bin/bashï¼Œä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯/bin/shç„¶åè¿˜æ˜¯ä¸€ç›´å¡ä½.ä½†æ˜¯/bin/bashæ˜¯å¯ä»¥çš„ é™„Uuntuç‰ˆæœ¬ä»£å·: ç‰ˆæœ¬å· ä»£å· å‘å¸ƒæ—¶é—´ 18.04 Bionic Beaverï¼ˆä»¿ç”Ÿæµ·ç‹¸ï¼‰ å³å°†å‘å¸ƒ2018å¹´4æœˆ(LTS) 17.10 Artful Aardvark(æœºçµçš„åœŸè±š) 2017å¹´10æœˆ 16.04 LTS Xenial Xerus å¥½å®¢çš„éæ´²åœ°æ¾é¼  å³å°†å‘å¸ƒ 2016/4 15.10 Wily Werewolf ç‹¡è¯ˆçš„ç‹¼äºº 2015/10/22 15.04 Vivid Vervet æ´»æ³¼çš„å°çŒ´ 2015/04/23 14.10 Utopic Unicorn ä¹Œæ‰˜é‚¦ç‹¬è§’å…½ 2014/10/23 14.04 LTS Trusty Tahr å€¼å¾—ä¿¡èµ–çš„å¡”å°”ç¾Š 2014/04/18 13.10 Saucy Salamander æ´»æ³¼çš„è¾èˆ 2013/10/17 13.04 Raring Ringtail é“†åŠ²æµ£ç†Š 2013/04/25 12.10 Quantal Quetzal ç¼¤çº·çš„ç»¿å’¬é¹ƒ 2012/10/18 12.04 LTS Precise Pangolin ç²¾å‡†çš„ç©¿å±±ç”² 2012/04/26 11.10 Oneiric Ocelot æœ‰æ¢¦çš„è™çŒ« 2011/10/13 11.04 Unityæˆä¸ºé»˜è®¤æ¡Œé¢ç¯å¢ƒ Natty Narwhal æ•æ·çš„ç‹¬è§’é²¸ 2011/04/28 10.10 Maverick Meerkat æ ‡æ–°ç«‹å¼‚çš„çš„ç‹ç´ 2010/10/10 10.04 LTS Lucid Lynx æ¸…é†’çš„çŒçŒ 2010/04/29 9.10 Karmic Koala å¹¸è¿çš„æ— å°¾ç†Š 2009/10/29 9.04 Jaunty Jackalope æ´»æ³¼çš„å…”å­ 2009/04/23 8.10 Intrepid Ibex æ— ç•çš„é«˜åœ°å±±ç¾Š 2008/10/30 8.06 å®˜æ–¹æŸ¥ä¸åˆ°æ­¤ç‰ˆæœ¬å‘å¸ƒä¿¡æ¯ Haughty Husky éª„å‚²çš„å“ˆå£«å¥‡ 2008/06/07 8.04 LTS Hardy Heron åšå¼ºçš„è‹é¹­ 2008/04/24 7.10 Gutsy Gibbon å‹‡æ•¢çš„é•¿è‡‚çŒ¿ 2007/10/18 7.04 Feisty Fawn çƒ¦èºä¸å®‰çš„å°é¹¿ 2007/04/19 6.10 Edgy Eft å°–åˆ©çš„å°èœ¥èœ´ 2006/10/26 6.06 LTS Dapper Drake æ•´æ´çš„å…¬é¸­ 2006/06/01 5.10 Breezy Badger æ´»æ³¼çš„ç¾ 2005/10/13 5.04 Hoary Hedgehog ç™½å‘å¾—åˆºçŒ¬ 2005/04/08 **4.10 **åˆå§‹å‘å¸ƒç‰ˆæœ¬ Warty Warthog å¤šç–£çš„ç–£çŒª 2004/10/20 docker stop containerIDï¼Œä»¥åå†é‡æ–°å¯åŠ¨æ—¶æŠ¥é”™ 1Error response from daemon: driver failed programming external connectivity on endpoint app (3c0c01ac6b42b7a420644fc2b4debfbbcc0e1d2e74e6294155c28aca82f794c4): (iptables failed: iptables --wait -t nat -A DOCKER -p tcp -d 0/0 --dport 12345 -j DNAT --to-destination 172.17.0.2:80 ! -i docker0: iptables: No chain/target/match by that name. A: é‡å¯dockerå³å¯ï¼šsystemctl restart docker å†å¼€å¯ä½ çš„å®¹å™¨ï¼š docker run xxxxæˆ–docker start xxx æŸ¥çœ‹dockerå®¹å™¨çš„è¿è¡Œæ—¥å¿— docker logs containerID dockerç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºåå¤–ç½‘ä»æ— æ³•è®¿é—®å®¹å™¨çš„web Aï¼š 1234567891011121314# è§£å†³åŠæ³•ï¼š$ sudo vi /etc/sysctl.confæˆ–è€…$ sudo vi /usr/lib/sysctl.d/00-system.conf# æ·»åŠ å¦‚ä¸‹ä»£ç ï¼šnet.ipv4.ip_forward=1é‡å¯networkæœåŠ¡$ sudo systemctl restart networkæŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸ$ sudo sysctl net.ipv4.ip_forward#å¦‚æœè¿”å›ä¸ºâ€œnet.ipv4.ip_forward = 1â€åˆ™è¡¨ç¤ºæˆåŠŸäº† é™„å½• å®‰è£…docker ç”±äºubuntuç»´æŠ¤çš„dockerç‰ˆæœ¬æ¯”è¾ƒè€ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨dockerè‡ªå·±ç»´æŠ¤çš„ç‰ˆæœ¬ æ³•ä¸€ï¼š è¾ƒä¸ºéº»çƒ¦ 123456789sudo apt-get updatesudo apt-get install -y apt-transport-httpsecho deb https://get.docker.com/ubuntu docker main&gt;/etc/apt/sources.list.d/docker.list# æ·»åŠ ä»“åº“çš„keysudo apt-key adv--keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 36A1D7869245C8950F966E92D8576A8BA88D21E9#å®‰è£…sudo apt-get updatesudo apt-get install -y lxc-docker æ³•äºŒï¼š dockerç®€æ˜“å®‰è£…æ–¹æ³•-&gt;è„šæœ¬ 123456# å¦‚æœæ²¡æœ‰å®‰è£…curlï¼Œå…ˆå®‰è£…curl$ sudo apt-get install -y curl# æ·˜æ±°!$ curl -sSL https://get.docker.com/ubuntu/ | sudo sh# æ¨èç”¨wget ==&gt; 2021å¹´10æœˆ25æ—¥ æ·˜æ±°!$ wget -qO- https://get.docker.com/ | sh æ³•ä¸‰ï¼šhttps://docs.docker.com/engine/install/ubuntu/ æ¨èï¼š2021å¹´10æœˆ25æ—¥ Dockerå®¹å™¨äº’è®¿â€”â€”åˆ›å»ºbridgeç½‘ç»œå°è¯• åˆ›å»ºå®¹å™¨ 123docker run -itd --name network_test_mysql -p 11111:3306 --network testnet --network-alias mysqlhost -e MYSQL_ROOT_PASSWORD=\"aaa123123\" daocloud.io/library/mysql:5.7.5-m15docker run -it --name network_test_app6 --network testnet --network-alias mysql1 -e MYSQL_ROOT_PASSWORD=\"123456\" daocloud.io/library/mysql:5.7.5-m15 åœ¨ç¬¬äºŒä¸ªå®¹å™¨ä¸­æµ‹è¯•æ˜¯å¦èƒ½è¿æ¥åˆ°ç¬¬ä¸€ä¸ªå®¹å™¨çš„mysqlæœåŠ¡ 12345678910111213141516mysql -uroot -p123456# âœŒ: ä¼šé»˜è®¤è¿›å…¥localhost:3306 mysql -hmysql -uroot -p123456# ERROR 2005 (HY000): Unknown MySQL server host 'mysql' (110)mysql -hmysqlhost -uroot -p123456# ERROR 1045 (28000): Access denied for user 'root'@'network_test_app6.testnet' (using password: YES)# â–²é€šè¿‡ç½‘ç»œåˆ«åè¿›å…¥mysql -hmysqlhost -uroot -paaa123123# âœŒ: ä¼šè¿›å…¥ç¬¬ä¸€ä¸ªå®¹å™¨çš„mysqlæœåŠ¡, ä¸”è®¿é—®çš„ç›´æ¥æ˜¯å®¹å™¨ä¸­çš„3306ç«¯å£, æ‰€ä»¥å¯ä»¥ç›´æ¥è¿›å…¥(åŒºåˆ†å®¿ä¸»æœºæš´éœ²çš„11111ç«¯å£)# é€šè¿‡å®¹å™¨åè¿›å…¥mysql -hnetwork_test_mysql -uroot -p123456# æ³¨: æš´éœ²çš„11111æ˜¯éå®¹å™¨é—´è®¿é—®æ—¶æš´éœ²çš„ç«¯å£ï¼Œå¦‚æˆ‘çš„PCä¸Šæƒ³è¦è¿æ¥è¿™ä¸ªå®¹å™¨çš„è¯ï¼Œéœ€è¦å¦‚ä¸‹è¿æ¥mysql -h49.235.118.244 -uroot -paaa123123 -P11111# âœŒ dockerç½‘ç»œå®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.docker.com/network/network-tutorial-standalone/â€”â€”åœ¨ç”¨æˆ·å®šä¹‰çš„ç½‘ç»œä¸Šï¼Œå¦‚alpine-netï¼Œå®¹å™¨ä¸ä»…å¯ä»¥é€šè¿‡ IP åœ°å€è¿›è¡Œé€šä¿¡ï¼Œè¿˜å¯ä»¥å°†å®¹å™¨åç§°è§£æä¸º IP åœ°å€ã€‚æ­¤åŠŸèƒ½ç§°ä¸ºè‡ªåŠ¨æœåŠ¡å‘ç°ã€‚è®©æˆ‘ä»¬è¿æ¥alpine1å¹¶æµ‹è¯•ä¸€ä¸‹ã€‚alpine1åº”è¯¥èƒ½å¤Ÿè§£æ alpine2å’Œalpine4ï¼ˆå’Œalpine1ï¼Œæœ¬èº«ï¼‰åˆ° IP åœ°å€ã€‚ ä¸Šä¼ è‡ªå·±çš„é•œåƒ å…ˆç¼–å†™è‡ªå·±çš„é•œåƒæ–‡ä»¶ï¼šDockerfileï¼Œå¯ä»¥å¦‚ä¸‹ 1234567FROM python:3.7.4-alpine# MAINTAINER Mrli 1063052964@qq.comLABEL maintainer=\"Mrli 1063052964@qq.com\"ADD ./app /appWORKDIR /appRUN pip install -r requirements.txtENTRYPOINT [ \"python\", \"test.py\" ] ç„¶åè¿è¡Œdocker build -t userName/repositoryName:tagNameæ„å»ºé•œåƒï¼ŒuserName/repositoryNameæŒ‡å®šé•œåƒåï¼ŒtagNameæŒ‡å®šç‰ˆæœ¬ ç™»é™†dockeré•œåƒä»“åº“ï¼šdockerhubæˆ–è€…aliçš„ï¼Œ dockerhub:docker login ali:docker login --username=å—é‚®æœç²’æ©™ registry.cn-hangzhou.aliyuncs.com æ¨é€é•œåƒåˆ°é•œåƒä»“åº“ dockerhub: docker push nymrli/python:v1ï¼Œç”±äºdockerhubæˆ‘çš„ç”¨æˆ·åæ˜¯nymrliï¼ŒåŠ ä¸Šåˆ›å»ºçš„ä»“åº“åå«pythonï¼Œæ‰€ä»¥dockerhubç»™æˆ‘çš„é“¾æ¥nymrli/pythonï¼ˆä»“åº“åå¯èƒ½é‡åï¼Œä½†åŠ ä¸Šç”¨æˆ·åçš„é€‰é¡¹ååªè¦ç”¨æˆ·åä¸é‡åï¼Œé‚£ä¹ˆè¿™ä¸ªé•œåƒåå°±ä¸ä¼šé‡åï¼‰ï¼Œpushçš„å‚æ•°ä¸ºä¹Ÿä¸ºè¿™ä¸ª Ali: 1234$ docker login --username=å—é‚®æœç²’æ©™ registry.cn-hangzhou.aliyuncs.com$ docker tag [ImageId] registry.cn-hangzhou.aliyuncs.com/mrli_docker_images/backend:[é•œåƒç‰ˆæœ¬å·]# mrli_docker_images/backendä¸º&lt;å‘½åç©ºé—´&gt;/&lt;ä»“åº“å&gt;$ docker push registry.cn-hangzhou.aliyuncs.com/mrli_docker_images/backend:[é•œåƒç‰ˆæœ¬å·] æ³¨ï¼š FROMçš„é•œåƒåæ˜¯python:&lt;ç‰ˆæœ¬å·&gt;-&lt;é•œåƒç‰¹æ€§å&gt; é•œåƒæœ€åˆçš„å·¥ä½œè·¯å¾„ä¸º/æ ¹ç›®å½•ï¼Œæ ¹ç›®å½•ä¸‹ä»»ä½•ä¸œè¥¿éƒ½æ²¡æœ‰ï¼Œéœ€è¦è‡ªå·±æ‹·è´è¿‡å» Travis+Docker[+é˜¿é‡Œäº‘å®¹å™¨é•œåƒã€dockerhub] travisä¸»è¦æ˜¯å…³æ³¨åœ¨CIæŒç»­é›†æˆä¸Šï¼ŒåŒæ—¶èƒ½å®ŒæˆæŒç»­äº¤ä»˜(æŒç»­é›†æˆçš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ‰“åŒ…æ„å»ºå½¢æˆäº§ç‰©)çš„å·¥ä½œã€‚å› æ­¤æœ¬æ¬¡å°±ä»¥travis+dockeræ¥å®Œæˆè¿™ä¹ˆä¸€ä¸ªæŒç»­é›†æˆä¸æŒç»­äº¤ä»˜çš„æ­¥éª¤ï¼š æ­¥éª¤å¦‚ä¸‹ï¼š å»traviså®˜ç½‘ç»‘å®štraviså’Œgithub Dockerhubåˆ›å»ºé•œåƒä»“åº“ or é˜¿é‡Œäº‘å¼€é€šå®¹å™¨é•œåƒæœåŠ¡ é¡¹ç›®ä¸­æ·»åŠ .travis.ymlå’ŒDockerfileæ–‡ä»¶ 1234567FROM python:3.9.1-alpineMAINTAINER Mrli 1063052964qq.comRUN tar -zcf app.tar.gz .ADD app.tar.gz /appWORKDIR /appRUN pip install -r local_requiements.txtENTRYPOINT python app/main.py 123456789101112131415161718192021222324252627language: python# sudo: enabled or requiredpython: - \"3.9.1\"branches: only: - masterinstall: - pip install -r local_requirements.txtbefore_script: - flake8 app tests - docker login -u $DOCKERHUB_USERNAME -p $DOCKERHUB_PASSWORD # dockerfileä¸­éœ€è¦æ‹‰å– python-3.9.1:alipineçš„é•œåƒ, æ‰€ä»¥éœ€è¦å…ˆdocker loginscript: - python app/main.py - docker build -t nymrli/python:v2 .after_success: - docker login -u $username -p $password # è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥æ§åˆ¶ï¼Œé¿å…å†™æ­»ã€‚ç¯å¢ƒå˜é‡ï¼Œåœ¨travisçš„åå°settingsé‡Œé¢æ·»åŠ  - docker push - echo \"success\"services: # éœ€è¦æä¾›dockeræ‰èƒ½åœ¨é‡Œé¢ä½¿ç”¨dockerå‘½ä»¤ - docker git pushæäº¤ä»£ç ï¼Œtravisä¼šä¾¦å¬githubä»“åº“å˜åŒ–è§¦å‘githookä»è€Œæ‰§è¡Œä»»åŠ¡ ç™»å½•è¦è¿è¡Œappçš„æœåŠ¡å™¨ï¼Œdocker-compose upå°†é•œåƒå¯åŠ¨ 1234567891011121314151617181920212223242526272829303132333435version: '2'services: mysql: container_name: mysql1 image: mysql:5.7 environment: MYSQL_ROOT_PASSWORD: æ•°æ®åº“å¯†ç  ports: - \"3306:3306\" volumes: - /usr/local/docker/mysql/data:/var/lib/mysql - /usr/local/docker/mysql/conf:/etc/mysql - /usr/local/docker/mysql/logs:/var/log/mysql web: container_name: jafir_nginx1 image: registry.cn-hangzhou.aliyuncs.com/jafir_docker_images/web:latest ports: - 8080:80 restart: always depends_on: - java volumes: - /mydockerdata/nginx/etc/nginx.conf:/etc/nginx/nginx.conf - /mydockerdata/nginx/log/:/var/log/nginx java: container_name: jafir_gps1 image: registry.cn-hangzhou.aliyuncs.com/jafir_docker_images/jafir-images:latest restart: always depends_on: - mysql ports: - 9090:9090 volumes: - /mydockerdata/java/gps/upload:/Users/jafir/Downloads/upload - /mydockerdata/arme/out/*.nofoo.cn/*.nofoo.cn.pfx:/Users/jafir/Downloads/upload/cert/*.nofoo.cn.pfx æ³¨ï¼šå¦‚æœéœ€è¦travisçš„æ„å»ºè¿‡ç¨‹ä¸­åœ¨æœåŠ¡å™¨æ‰§è¡Œä¸€äº›å‘½ä»¤ï¼ˆå¦‚å°†ä»£ç éƒ¨ç½²å‘åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼‰ï¼Œè¿˜éœ€è¦é…ç½®ç”Ÿæˆå…¬é’¥å’Œç§åŒ™ï¼Œå‚çœ‹ï¼š https://juejin.cn/post/6931980888267816974 https://www.jianshu.com/p/ce648e120727 docker-composeä½¿ç”¨[è½¬] docker-composeå¸¸è§å‘½ä»¤ psï¼šåˆ—å‡ºæ‰€æœ‰è¿è¡Œå®¹å™¨ 1docker-compose ps logsï¼šæŸ¥çœ‹æœåŠ¡æ—¥å¿—è¾“å‡º 1docker-compose logs portï¼šæ‰“å°ç»‘å®šçš„å…¬å…±ç«¯å£ï¼Œä¸‹é¢å‘½ä»¤å¯ä»¥è¾“å‡º eureka æœåŠ¡ 8761 ç«¯å£æ‰€ç»‘å®šçš„å…¬å…±ç«¯å£ 1docker-compose port eureka 8761 buildï¼šæ„å»ºæˆ–è€…é‡æ–°æ„å»ºæœåŠ¡ 1docker-compose build startï¼šå¯åŠ¨æŒ‡å®šæœåŠ¡å·²å­˜åœ¨çš„å®¹å™¨ 1docker-compose start eureka stopï¼šåœæ­¢å·²è¿è¡Œçš„æœåŠ¡çš„å®¹å™¨ 1docker-compose stop eureka rmï¼šåˆ é™¤æŒ‡å®šæœåŠ¡çš„å®¹å™¨ 1docker-compose rm eureka upï¼šæ„å»ºã€å¯åŠ¨å®¹å™¨ 1docker-compose up killï¼šé€šè¿‡å‘é€ SIGKILL ä¿¡å·æ¥åœæ­¢æŒ‡å®šæœåŠ¡çš„å®¹å™¨ 1docker-compose kill eureka pullï¼šä¸‹è½½æœåŠ¡é•œåƒ scaleï¼šè®¾ç½®æŒ‡å®šæœåŠ¡è¿æ°”å®¹å™¨çš„ä¸ªæ•°ï¼Œä»¥ service=num å½¢å¼æŒ‡å®š 1docker-compose scale user=3 movie=3 runï¼šåœ¨ä¸€ä¸ªæœåŠ¡ä¸Šæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ 1docker-compose run web bash docker-compose.yml å­—æ®µå«ä¹‰ versionï¼šæŒ‡å®š docker-compose.yml æ–‡ä»¶çš„å†™æ³•æ ¼å¼ servicesï¼šå¤šä¸ªå®¹å™¨é›†åˆ buildï¼šé…ç½®æ„å»ºæ—¶ï¼ŒCompose ä¼šåˆ©ç”¨å®ƒè‡ªåŠ¨æ„å»ºé•œåƒï¼Œè¯¥å€¼å¯ä»¥æ˜¯ä¸€ä¸ªè·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºæŒ‡å®š Dockerfile å‚æ•° 1234567build: ./dir---------------build: context: ./dir dockerfile: Dockerfile args: buildno: 1 commandï¼šè¦†ç›–å®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ 123command: bundle exec thin -p 3000----------------------------------command: [bundle,exec,thin,-p,3000] dnsï¼šé…ç½® dns æœåŠ¡å™¨ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå€¼æˆ–åˆ—è¡¨ 12345dns: 8.8.8.8------------dns: - 8.8.8.8 - 9.9.9.9 dns_searchï¼šé…ç½® DNS æœç´¢åŸŸï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå€¼æˆ–åˆ—è¡¨ 12345dns_search: example.com------------------------dns_search: - dc1.example.com - dc2.example.com environmentï¼šç¯å¢ƒå˜é‡é…ç½®ï¼Œå¯ä»¥ç”¨æ•°ç»„æˆ–å­—å…¸ä¸¤ç§æ–¹å¼ 1234567environment: RACK_ENV: development SHOW: &apos;ture&apos;-------------------------environment: - RACK_ENV=development - SHOW=ture env_fileï¼šä»æ–‡ä»¶ä¸­è·å–ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶è·¯å¾„æˆ–è·¯å¾„åˆ—è¡¨ï¼Œå…¶ä¼˜å…ˆçº§ä½äº environment æŒ‡å®šçš„ç¯å¢ƒå˜é‡ 1234env_file: .env---------------env_file: - ./common.env exposeï¼šæš´éœ²ç«¯å£ï¼Œåªå°†ç«¯å£æš´éœ²ç»™è¿æ¥çš„æœåŠ¡ï¼Œè€Œä¸æš´éœ²ç»™ä¸»æœº 123expose: - &quot;3000&quot; - &quot;8000&quot; imageï¼šæŒ‡å®šæœåŠ¡æ‰€ä½¿ç”¨çš„é•œåƒ 1image: java network_modeï¼šè®¾ç½®ç½‘ç»œæ¨¡å¼ 12345network_mode: &quot;bridge&quot;network_mode: &quot;host&quot;network_mode: &quot;none&quot;network_mode: &quot;service:[service name]&quot;network_mode: &quot;container:[container name/id]&quot; portsï¼šå¯¹å¤–æš´éœ²çš„ç«¯å£å®šä¹‰ï¼Œå’Œ expose å¯¹åº” 123ports: # æš´éœ²ç«¯å£ä¿¡æ¯ - &quot;å®¿ä¸»æœºç«¯å£:å®¹å™¨æš´éœ²ç«¯å£&quot;- &quot;8763:8763&quot;- &quot;8763:8763&quot; linksï¼šå°†æŒ‡å®šå®¹å™¨è¿æ¥åˆ°å½“å‰è¿æ¥ï¼Œå¯ä»¥è®¾ç½®åˆ«åï¼Œé¿å…ipæ–¹å¼å¯¼è‡´çš„å®¹å™¨é‡å¯åŠ¨æ€æ”¹å˜çš„æ— æ³•è¿æ¥æƒ…å†µ 12links: # æŒ‡å®šæœåŠ¡åç§°:åˆ«å - docker-compose-eureka-server:compose-eureka volumesï¼šå·æŒ‚è½½è·¯å¾„ 123volumes: - /lib - /var logsï¼šæ—¥å¿—è¾“å‡ºä¿¡æ¯ 1234--no-color å•è‰²è¾“å‡ºï¼Œä¸æ˜¾ç¤ºå…¶ä»–é¢œ.-f, --follow è·Ÿè¸ªæ—¥å¿—è¾“å‡ºï¼Œå°±æ˜¯å¯ä»¥å®æ—¶æŸ¥çœ‹æ—¥å¿—-t, --timestamps æ˜¾ç¤ºæ—¶é—´æˆ³--tail ä»æ—¥å¿—çš„ç»“å°¾æ˜¾ç¤ºï¼Œ--tail=200 æ›´æ–°å®¹å™¨ å½“æœåŠ¡çš„é…ç½®å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œå¯ä½¿ç”¨ docker-compose up å‘½ä»¤æ›´æ–°é…ç½® æ­¤æ—¶ï¼ŒCompose ä¼šåˆ é™¤æ—§å®¹å™¨å¹¶åˆ›å»ºæ–°å®¹å™¨ï¼Œæ–°å®¹å™¨ä¼šä»¥ä¸åŒçš„ IP åœ°å€åŠ å…¥ç½‘ç»œï¼Œåç§°ä¿æŒä¸å˜ï¼Œä»»ä½•æŒ‡å‘æ—§å®¹èµ·çš„è¿æ¥éƒ½ä¼šè¢«å…³é—­ï¼Œé‡æ–°æ‰¾åˆ°æ–°å®¹å™¨å¹¶è¿æ¥ä¸Šå» links æœåŠ¡ä¹‹é—´å¯ä»¥ä½¿ç”¨æœåŠ¡åç§°ç›¸äº’è®¿é—®ï¼Œlinks å…è®¸å®šä¹‰ä¸€ä¸ªåˆ«åï¼Œä»è€Œä½¿ç”¨è¯¥åˆ«åè®¿é—®å…¶å®ƒæœåŠ¡ 12345678version: &apos;2&apos;services: web: build: . links: - &quot;db:database&quot; db: image: postgres è¿™æ · Web æœåŠ¡å°±å¯ä»¥ä½¿ç”¨ db æˆ– database ä½œä¸º hostname è®¿é—® db æœåŠ¡äº† Dockerfile RUNï¼ŒCMDï¼ŒENTRYPOINTå‘½ä»¤åŒºåˆ« RUNå‘½ä»¤æ‰§è¡Œå‘½ä»¤å¹¶åˆ›å»ºæ–°çš„é•œåƒå±‚ï¼Œé€šå¸¸ç”¨äºå®‰è£…è½¯ä»¶åŒ… CMDå‘½ä»¤è®¾ç½®å®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤åŠå…¶å‚æ•°ï¼Œä½†CMDè®¾ç½®çš„å‘½ä»¤èƒ½å¤Ÿè¢«docker runå‘½ä»¤åé¢çš„å‘½ä»¤è¡Œå‚æ•°æ›¿æ¢ ENTRYPOINTé…ç½®å®¹å™¨å¯åŠ¨æ—¶çš„æ‰§è¡Œå‘½ä»¤ï¼ˆä¸ä¼šè¢«å¿½ç•¥ï¼Œä¸€å®šä¼šè¢«æ‰§è¡Œï¼Œå³ä½¿è¿è¡Œ docker runæ—¶æŒ‡å®šäº†å…¶ä»–å‘½ä»¤ï¼‰ Shellæ ¼å¼å’ŒExecæ ¼å¼è¿è¡Œå‘½ä»¤ æˆ‘ä»¬å¯ç”¨ä¸¤ç§æ–¹å¼æŒ‡å®š RUNã€CMD å’Œ ENTRYPOINT è¦è¿è¡Œçš„å‘½ä»¤ï¼šShell æ ¼å¼å’Œ Exec æ ¼å¼ï¼š Shellæ ¼å¼ï¼š&lt;instruction&gt; &lt;command&gt;ã€‚ä¾‹å¦‚ï¼šapt-get install python3 å¤šæ¡å‘½ä»¤ç”¨&amp;&amp;é“¾æ¥ Execæ ¼å¼ï¼š&lt;instruction&gt; [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;, ...]ã€‚ä¾‹å¦‚ï¼š [&quot;apt-get&quot;, &quot;install&quot;, &quot;python3&quot;] CMD å’Œ ENTRYPOINT æ¨èä½¿ç”¨ Exec æ ¼å¼ï¼Œå› ä¸ºæŒ‡ä»¤å¯è¯»æ€§æ›´å¼ºï¼Œæ›´å®¹æ˜“ç†è§£ã€‚RUN åˆ™ä¸¤ç§æ ¼å¼éƒ½å¯ä»¥ã€‚ æ€»ç»“ ä½¿ç”¨ RUN æŒ‡ä»¤å®‰è£…åº”ç”¨å’Œè½¯ä»¶åŒ…ï¼Œæ„å»ºé•œåƒã€‚ å¦‚æœ Docker é•œåƒçš„ç”¨é€”æ˜¯è¿è¡Œåº”ç”¨ç¨‹åºæˆ–æœåŠ¡ï¼Œæ¯”å¦‚è¿è¡Œä¸€ä¸ª MySQLï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨ Exec æ ¼å¼çš„ ENTRYPOINT æŒ‡ä»¤ã€‚CMD å¯ä¸º ENTRYPOINT æä¾›é¢å¤–çš„é»˜è®¤å‚æ•°ï¼ŒåŒæ—¶å¯åˆ©ç”¨ docker run å‘½ä»¤è¡Œæ›¿æ¢é»˜è®¤å‚æ•°ã€‚ å¦‚æœæƒ³ä¸ºå®¹å™¨è®¾ç½®é»˜è®¤çš„å¯åŠ¨å‘½ä»¤ï¼Œå¯ä½¿ç”¨ CMD æŒ‡ä»¤ã€‚ç”¨æˆ·å¯åœ¨ docker run å‘½ä»¤è¡Œä¸­æ›¿æ¢æ­¤é»˜è®¤å‘½ä»¤ã€‚ Docker è¿è¡Œpython flaskçš„webç¨‹åº 1åˆ›å»ºé•œåƒ 1.1 ubuntu16.04+python3.6 18.04å¡åœ¨äº†PPAç¯èŠ‚,å¹¶ä¸”gitå®‰è£…ä¹Ÿæ²¡å®‰è£…ä¸Š,åæ¥ä½¿ç”¨äº†dockerHubä¸Šæœç´ åˆ°çš„githubä»“åº“ä¸­çš„16.04 Xenialå°±è§£å†³äº†ã€‚ æ³¨ï¼šé•œåƒTAGç‰ˆæœ¬éœ€è¦åˆ°dockerHubä¸Šæ‰èƒ½æŸ¥çœ‹ï¼Œæœ€åˆä¸‹è½½æˆ18.04å°±æ˜¯å› ä¸ºè¿™ä¸ªåŸå› è¢«å‘äº† 18.04PPAé—®é¢˜: aptsources.distro.NoDistroTemplateException: Error: could not find a distribution template for Ubuntu/bionicæ„æ€æ˜¯18.04è¯¥PPAæ²¡æœ‰èµ„æº.bionicæ˜¯ç‰ˆæœ¬ä»£å·,å¦‚16.04çš„ Xenial â‘´ä½¿ç”¨ä¸‹è½½å¥½çš„Xenialçš„Dockerfileè¿›è¡Œåˆ›å»ºé•œåƒdocker run 1604ubuntu . ä¸ºäº†ä½¿ç”¨å›½å†…æºç”¨é˜¿é‡Œäº‘ï¼Œå…ˆç¼–è¾‘ä¸€ä¸ªsources.listï¼Œæ”¾åœ¨dokcerfileåŒç›®å½•ä¸‹ï¼Œä½œä¸ºdockeråˆ›å»ºé•œåƒæ—¶çš„ä¸Šä¸‹æ–‡ã€‚ 1234567891011121314151617deb-src http://archive.ubuntu.com/ubuntu xenial main restricted #Added by software-propertiesdeb http://mirrors.aliyun.com/ubuntu/ xenial main restricteddeb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe #Added by software-propertiesdeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricteddeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-propertiesdeb http://mirrors.aliyun.com/ubuntu/ xenial universedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates universedeb http://mirrors.aliyun.com/ubuntu/ xenial multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-propertiesdeb http://archive.canonical.com/ubuntu xenial partnerdeb-src http://archive.canonical.com/ubuntu xenial partnerdeb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricteddeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe #Added by software-propertiesdeb http://mirrors.aliyun.com/ubuntu/ xenial-security universedeb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse â‘µæ ¹æ®å®˜æ–¹çš„é•œåƒæ¥ç¼–å†™è‡ªå·±çš„Dockerfileåˆ›å»ºå…·æœ‰å·¥å…·çš„Ubuntu1604 æ¶‰åŠäº¤äº’å¼é€‰æ‹©é¡¹ï¼ˆå¦‚ä¸‹ï¼‰ï¼Œdocker buildçš„æ—¶å€™ä¼šæŠ¥é”™ã€‚è®¾ç½® DEBIAN_FRONTEND=noninteractive 1234567891011121314151617181920212223242526272829303132333435FROM 1604ubuntuMAINTAINER mrli#ç”¨ubuntuå›½å†…æºæ›¿æ¢é»˜è®¤æºRUN rm /etc/apt/sources.listCOPY sources.list /etc/apt/sources.list#å®‰è£…python3.6å¿…è¦çš„åŒ…ã€‚æºé•œåƒå¤ªç²¾ç®€äº†ï¼Œip ifconfigä¹‹ç±»çš„éƒ½æ²¡æœ‰ã€‚åç»­å®‰è£…python pipä¹Ÿéœ€è¦ä¸€äº›ã€‚ä½†æ˜¯build_essentialä¼¼ä¹ä¸å¿…é¡»ï¼Œå…ˆå»äº†ã€‚å¦‚æœåé¢å®‰è£…numpyä¹‹ç±»éœ€è¦gccäº†ï¼Œå†åŠ ä¸ŠRUN apt update#RUN apt upgradeRUN apt install -y apt-utils apt-transport-https vim iproute2 net-tools ca-certificates curl build-essential wget python-software-properties software-properties-common psmisc#å®‰è£…python3.6 æ¥è‡ªç¬¬ä¸‰æ–¹RUN add-apt-repository ppa:jonathonf/python-3.6RUN apt updateRUN apt install -y python3.6RUN apt install -y python3.6-devRUN apt install -y python3.6-venv#ä¸º3.6å®‰è£…pipRUN wget https://bootstrap.pypa.io/get-pip.pyRUN python3.6 get-pip.py#è®¾ç½®é»˜è®¤pythonä¸ºpython3RUN update-alternatives --install /usr/bin/python python /usr/bin/python2 100RUN update-alternatives --install /usr/bin/python python /usr/bin/python3 150#å’Œè‡ªå¸¦çš„3.5å…±å­˜,è®¾ç½®python3é»˜è®¤ä¸º3.6#RUN update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.5 1RUN update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.6 2# æ›´æ–°é…ç½®RUN update-alternatives --config python3#print()æ—¶åœ¨æ§åˆ¶å°æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡ENV PYTHONIOENCODING=utf-8 åœ¨dockerfileæ‰€åœ¨è·¯å¾„ä¸‹æ‰§è¡Œï¼Œå»ºç«‹image 1docker build -t uos:1604 . å› ä¸ºå¼€å¤´å‡ æ­¥ç”¨äº†å›½å†…æºï¼Œæ‰€ä»¥éå¸¸å¿«ã€‚ 123# è®¾ç½®apkæºRUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories# è®¾ç½®æ—¶åŒº 1.2 å¼€å‘ç¯å¢ƒ å†å»ºä¸€ä¸ªdockerfileï¼Œå¼€å¤´ä½¿ç”¨åˆšæ‰å»ºç«‹çš„é•œåƒuos1604 123456789101112131415161718192021222324252627FROM uos:1604MAINTAINER mrli#ä»£ç å¤åˆ¶è¿‡æ¥åçš„è·¯å¾„RUN mkdir /app# æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤éƒ½åœ¨appç›®å½•ä¸‹æ‰§è¡ŒWORKDIR /app# å°†æœ¬åœ°appç›®å½•ä¸‹çš„å†…å®¹æ‹·è´åˆ°å®¹å™¨çš„appç›®å½•ä¸‹COPY ./app/ /app/# å®‰è£…nginxRUN apt -y install nginx mysql-server RUN /etc/init.d/nginx start# æ›¿æ¢nginxçš„é…ç½®RUN rm /etc/nginx/sites-enabled/defaultRUN cp nginx.conf /etc/nginx/sites-enabled/nginx.confRUN pip3 install uwsgi#å®‰è£…éœ€è¦çš„pythonåº“# å¯åŠ¨nginxå’Œuwsgi#ENTRYPOINT pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple some-package --no-cache-dir &amp;&amp; service nginx restart &amp;&amp; uwsgi --ini uwsgi.ini# ä¸ºäº†ä¿è¯èƒ½ä¹‹åè¿›å…¥æ‰€ä»¥æœ€åä¸€ä¸ªå‘½ä»¤ä¸º/bin/shENTRYPOINT pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple some-package --no-cache-dir &amp;&amp; service nginx restart &amp;&amp; uwsgi --ini uwsgi.ini &amp; &amp;&amp; /bin/sh åˆ›å»ºuflaské•œåƒ:docker build -t uflask . æ ¹æ®é•œåƒåˆ›å»ºè¿è¡Œå®¹å™¨:docker run -tid -p 12345:80 flaskdemo IMAGE_ID æ­¤æ—¶å°±å¯ä»¥é€šè¿‡VPSçš„IPåœ°å€:å®¿ä¸»æœºç«¯å£è®¿é—®è¿™ä¸ªåº”ç”¨ç¨‹åº æŸ¥çœ‹æ—¥å¿—:docker logs åº”ç”¨å(NAMES)å¦‚docker logs flaskdemo å…³äºmysqlçš„å»ºè®® mysqlå»ºè®®ä½œä¸ºå•ç‹¬å®¹å™¨æ¥è·‘æ•°æ®åº“,ç„¶åè¿œç¨‹è¿æ¥æ•°æ®åº“.æˆ–æ˜¯ä½¿ç”¨æ•°æ®å· 123456# æœç´¢# docker search mysql# æ‹‰å–# docker pull mysql:5.7#è¿è¡Œ# docker run --name mysql5.7 -e MYSQL_ROOT_PASSWORD=123456 -p 3307:3306 -d mysql:5.7 2å¯åŠ¨å®¹å™¨(è½¬) Docker ä¸€ç§å¼€æºå®¹å™¨åº”ç”¨ï¼Œä¾›å¼€å‘è€…æ‰“åŒ…è‡ªå·±çš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥ä»»æ„ç§»æ¤ docker-compose ä¸€ç§ç®¡ç†å¤šä¸ªDockerå®¹å™¨çš„å·¥å…·ï¼Œå¯ä»¥ç®€åŒ–æˆ‘ä»¬å¯åŠ¨å®¹å™¨çš„å„ç§å‘½ä»¤ 2.1æ‰‹åŠ¨æ•²dockerå‘½ä»¤ å…ˆè¯•è¯•ç”¨dockerå‘½ä»¤è¡Œå¯åŠ¨å®¹å™¨ï¼š 1docker run --name quotation_api -itd -p 5000:5000 -v /home/quotation:/code quotation_dev:latest ç”¨åˆ°çš„å‚æ•°åˆ†åˆ«æ˜¯ â€“nameä¸ºå®¹å™¨å‘½åï¼› -itd è¾“å…¥è¾“å‡ºç»ˆç«¯ï¼Œåå°è¿è¡Œ -p hostç«¯å£:å®¹å™¨ç«¯å£ å°†å®¿ä¸»æœº5000ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ°å®¹å™¨5000ç«¯å£,ç”¨5000æ˜¯flaské»˜è®¤ -v hostè·¯å¾„:å®¹å™¨å†…è·¯å¾„(æŒ‚è½½æ•°æ®å·) quotation_dev:latest æœ€åæ˜¯ä½¿ç”¨çš„é•œåƒåï¼ˆå‰é¢åˆšç”¨dockerfile buildå‡ºæ¥çš„ï¼‰ ç„¶åè¿›å…¥å®¹å™¨ 1docker attach quotation_api ç”¨python3 main.pyå¯åŠ¨flaskï¼ŒOKã€‚ è¿™æ ·flaskè¿è¡Œåœ¨dockeré‡Œäº†ã€‚ åœ¨hostæ”¹ä»£ç ï¼Œå¯ä»¥çœ‹è§dockerçš„æ§åˆ¶å°åœ¨æ›´æ–°ï¼Œå’Œåœ¨hostä¸€æ ·äº†ã€‚(ä½¿ç”¨æ•°æ®å·) 2.2ä½¿ç”¨dock-compose å¦‚æœæ²¡æœ‰å®‰è£…å…ˆè¿›è¡Œå®‰è£…apt install docker-compose dock-composeç”¨æ¥ç®¡ç†å¤šä¸ªcontainerçš„è¿è¡Œï¼Œç‰¹åˆ«é€‚åˆ1ä¸ªhostä¸Šè·‘å¤šä¸ªcontainerçš„æƒ…å†µã€‚ å¾—å¤©ç‹¬åšï¼Œdockerå®˜ç½‘ä¸Šdock-composeçš„gettingstartedæ–‡æ¡£å°±æ˜¯flaskçš„(è¯´æ˜flask+dockerä»£è¡¨äº†å…ˆè¿›ç”Ÿäº§åŠ›çš„å‰è¿›æ–¹å‘O Yeahï¼),çœ‹å®Œäº†åŸºæœ¬å°±èƒ½ç”¨äº†ã€‚ dock-composeé‡‡ç”¨yamlä½œä¸ºé…ç½®æ–‡ä»¶ã€‚æŸ¥äº†ä¸€ä¸‹ï¼Œyamlå‚è€ƒäº†xmlå’Œjsonï¼Œä»¥åŠpythonçš„è¯­æ³•ï¼Œé‡‡ç”¨äº†pythonä¹‹ç¼©è¿›ï¼Œæ— XMLä¹‹æ ‡è®°ï¼Œæ— jsonä¹‹æ‹¬å·ï¼Œæ— å­—ç¬¦ä¸²ä¹‹å¼•å·ã€‚ç‰¹åˆ«é€‚åˆä½œä¸ºé…ç½®æ–‡ä»¶ç”¨ã€‚ å»ºç«‹docker-compose.yamlæ–‡ä»¶(æ— é•œåƒ,ä½†æœ‰dockerfile)ï¼š 123456version: '2' # è¡¨ç¤ºè¯¥ Docker-Compose æ–‡ä»¶ä½¿ç”¨çš„æ˜¯ Version 2 fileservices: docker-demo: # æŒ‡å®šæœåŠ¡åç§° build: . # æŒ‡å®š Dockerfile æ‰€åœ¨è·¯å¾„ ports: # æŒ‡å®šç«¯å£æ˜ å°„ - \"9000:8761\" å»ºç«‹docker-compose.yamlæ–‡ä»¶(å·²æœ‰é•œåƒ)ï¼š 12345678910version: \"3\"services: quotation_api: # æŒ‡å®šæœåŠ¡åç§° image: quotation_dev:latest # æŒ‡å®šé•œåƒ volumes: # é€‰æ‹©æ•°æ®å· - /home/quotation:/code ports: # ç«¯å£æ˜ å°„ - \"5000:5000\" command: python3 main.py # æ‰§è¡Œå‘½ä»¤ åŸºæœ¬å¯¹åº”æ‰‹åŠ¨æ•²çš„dockerå‘½ä»¤ï¼Œæœ€åè¿˜çœäº†æ•²python3 main.pyã€‚ å½“ç„¶å¦‚æœæ˜¯éƒ¨ç½²ï¼Œè¿™å¥å¯ä»¥ç”¨CMD å†™è¿›Dockfileã€‚ä½†æ˜¯å¼€å‘è¿‡ç¨‹ï¼Œæ–‡ä»¶åä¹‹ç±»çš„ä¼šæ”¹å˜ï¼Œæ¯”å¦‚æœ€ç»ˆéƒ¨ç½²è¿è¡Œç”¨å¯èƒ½æ˜¯gunicorn+wsgi.pyï¼Œæ‰€ä»¥è¿˜æ˜¯å†™åœ¨dockerfileå¤–é¢æ¯”è¾ƒæ–¹ä¾¿ è¿è¡Œï¼Œåœ¨æ§åˆ¶å°æ‰§è¡Œï¼šdocker-compose upã€docker-compose up -d // åå°å¯åŠ¨å¹¶è¿è¡Œå®¹å™¨ docker-composeæ›´å¤šä»‹ç» å…³äºDockerfileä¸­docker-entrypoint.sh æ–‡ä»¶çš„ç”¨å¤„ å¾ˆå¤šè‘—ååº“çš„ Dockerfile æ–‡ä»¶ä¸­ï¼Œé€šå¸¸éƒ½æ˜¯ ENTRYPOINT å­—æ®µä¼šæ˜¯è¿™æ ·ï¼šENTRYPOINT [&quot;docker-entrypoint.sh] https://blog.csdn.net/u013272009/article/details/84073136: åœ¨å¯åŠ¨å®¹å™¨æ—¶ï¼Œå¯ä»¥é€šè¿‡docker-entrypoint.shçš„ shell è„šæœ¬æ‰§è¡Œäº›é¢„å¤„ç†é€»è¾‘(å¦‚è¿è¡Œå¤šä¸ªè„šæœ¬)ï¼Œ ç„¶åå†exec $@æŠŠå¯åŠ¨å®¹å™¨å…¥å£æ­£å¼äº¤ç»™ä½¿ç”¨è€…ï¼Œå³ï¼Œéœ€è¦å®¹å™¨å¯åŠ¨é¢„å¤„ç†çš„ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ docker-entrypoint.sh æœºåˆ¶ â˜…===&gt; é‡‡å‘è®°å½•ï¼šåŸå› æ˜¯dockerfileä¸­è™½ç„¶RUNå‘½ä»¤å¯ä»¥æœ‰å¤šä¸ªï¼Œä½†é‚£ä¸ªä¸»è¦æ˜¯åœ¨æ„å»ºè¿‡ç¨‹ä¸­çš„ï¼Œå› æ­¤å¦‚æœæ„å»ºå®Œæˆåå®¹å™¨è¿è¡Œæ—¶éœ€è¦æ‰§è¡Œè„šæœ¬ï¼ŒRUNå‘½ä»¤æ˜¯ä¸è¡Œï¼Œåªèƒ½ç”¨ENTRYPOINTï¼Œä½†ENTRYPOINTå‘½ä»¤ä¸ºäº†ç®€æ´å‘½ä»¤çœ‹æ¥ï¼Œå°±åªæ‰§è¡Œdocker-entrypoint.sh ï¼Œç„¶åå°†è¦è¿è¡Œè„šæœ¬çš„å‘½ä»¤å†™åœ¨docker-entrypoint.sh é‡Œå°±è¡Œäº† shellè„šæœ¬å˜é‡å®ï¼š $@æ‰€æœ‰å‚æ•°åˆ—è¡¨ã€‚å¦‚$@ç”¨ã€Œ&quot;ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥&quot;$1&quot;&quot;$2&quot;â€¦.&quot;$n&quot;çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚ $ $#: æ·»åŠ åˆ°shellçš„å‚æ•°ä¸ªæ•° $0: shellæœ¬èº«çš„æ–‡ä»¶å ç”¨æˆ·æƒé™ åœ¨æ‰§è¡Œmvn package docker:buildå‡ºç°com.spotify.docker.client.shaded.javax.ws.rs.ProcessingException: java.io.IOException: Permission deniedéœ€è¦æŸ¥çœ‹ä¸‹dockeræ˜¯å¦å®‰è£…æ­£å¸¸ï¼Œdockeræ˜¯å¦æ‰“å¼€ï¼Œå½“å‰ç”¨æˆ·æ˜¯å¦å…·æœ‰æ‰§è¡Œdockerå‘½ä»¤çš„æƒé™ï¼ˆæˆ‘çš„ä¸ªäººè´¦å·mrliå°±æ²¡æœ‰æƒé™ï¼Œéœ€è¦å°†å…¶åŠ å…¥dockerç”¨æˆ·ç»„ï¼Œå¦åˆ™å¾—åŠ sudoï¼‰ 123sudo groupadd docker #æ·»åŠ dockerç”¨æˆ·ç»„sudo gpasswd -a $USER docker #å°†ç™»é™†ç”¨æˆ·åŠ å…¥åˆ°dockerç”¨æˆ·ç»„ä¸­newgrp docker #æ›´æ–°ç”¨æˆ·ç»„ å‚è€ƒï¼šhttp://www.ityouknow.com/springboot/2018/03/19/spring-boot-docker.html è¸©å‘è®°å½• Alpineé•œåƒ Alpine Linux: å½“ä½ æƒ³ä¸ºä½ çš„Pythonå¼€å‘ç¯å¢ƒé€‰æ‹©ä¸€ä¸ªåŸºç¡€é•œåƒæ—¶ï¼Œå¤§å¤šæ•°äººéƒ½ä¼šé€‰æ‹©Alpineï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå®ƒå¤ªå°äº†ï¼Œä»…ä»…åªæœ‰ 5 MB å·¦å³ï¼ˆå¯¹æ¯” Ubuntu ç³»åˆ—é•œåƒæ¥è¿‘ 100 MBï¼‰ ç„¶è€Œé—®é¢˜æ˜¯ï¼Œå‡è®¾æˆ‘ä»¬çš„pythonåº”ç”¨éœ€è¦åšä¸€äº›ç§‘å­¦è®¡ç®—ï¼Œæ— æ³•ç›´æ¥pipå®‰è£…ï¼Œå› ä¸ºå¤§å¤šæ•°Linuxå‘è¡Œç‰ˆéƒ½ä½¿ç”¨GNUç‰ˆæœ¬çš„æ ‡å‡†Cåº“ï¼ˆglibcï¼‰ï¼Œè€ŒAlpine Linuxä½¿ç”¨çš„æ˜¯muslï¼Œé‚£äº›äºŒè¿›åˆ¶å®‰è£…åŒ…æ˜¯é’ˆå¯¹glibcç¼–è¯‘çš„ï¼Œå› æ­¤Alpineç¦ç”¨äº†Linuxå®‰è£…åŒ…æ”¯æŒã€‚ä»è€Œå¯¼è‡´äº†Alpineçš„è‡´å‘½é—®é¢˜ï¼šæ ‡å‡†çš„Linuxå®‰è£…åŒ…åœ¨Alpine Linuxä¸Šæ ¹æœ¬æ— æ³•ä½¿ç”¨ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ä½ éœ€è¦è‡ªå·±å¼„æ¸…æ¥šæ¯ä¸€ä¸ªç³»ç»Ÿåº“çš„ä¾èµ–æ€§ã€‚äº‹å…ˆç¼–è¯‘å¥½éœ€è¦çš„ä¾èµ–ï¼Œé‡æ–°æ”¹å†™Dockerfile.alpine: 123# alpine ä¸­ pip å®‰è£…Scipy ç­‰ç§‘å­¦ç›¸å…³çš„åŒ…æ—¶æŠ¥é”™, éœ€è¦é¢„å…ˆå®‰è£…çš„åº“RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositoriesRUN apk --update-cache --no-cache add tzdata gcc make freetype-dev gfortran musl-dev g++ libgcc libquadmath musl libgfortran lapack-dev ç„¶è€Œç»è¿‡æµ‹è¯•ï¼Œè¿™æ ·å®‰è£…ä¼šè€—æ—¶éå¸¸ä¹…ï¼Œå¹¶ä¸”å®‰è£…è¿‡åä½“ç§¯ä¹Ÿå¹¶ä¸å°äº†ï¼Œå› æ­¤ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸å¤ªé€‚åˆä½¿ç”¨alpineåšä¸ºé•œåƒã€‚å› ä¸ºalpineç³»ç»Ÿå¯¹å¾ˆå¤šåº“æ”¯æŒéƒ½ä¸å¤Ÿå‹å¥½ æ³¨ï¼špython-alpineæ˜¯ä¸€ä¸ªæç®€çš„é•œåƒï¼Œåªæœ‰6.5Må·¦å³ï¼Œä½†åœ¨é€‰æ‹©ä½¿ç”¨æ—¶ä¼šäº§ç”Ÿæ¯”è¾ƒå¤šçš„é—®é¢˜ï¼Œæ‰€ä»¥å¦‚æœç³»ç»Ÿå­˜å‚¨å¤Ÿç”¨æˆ–è€…å…¬å¸å¯¹é•œåƒå¤§å°æ²¡æœ‰é™åˆ¶çš„è¯ï¼Œè¿˜æ˜¯å»ºè®®ä½¿ç”¨æ¯”è¾ƒå®Œæ•´çš„é•œåƒæ¥è·‘ç¨‹åºï¼Œè¿™æ ·ä¼šçœäº‹å¾ˆå¤šã€‚ RUNå‘½ä»¤ RUNå‘½ä»¤åªä¼šåœ¨æ„å»ºæ—¶å€™æ‰§è¡Œï¼Œè¸©å‘è®°å½•RUN sh repeat.sh 1234567891011#!/bin/bashecho \"Start Record\"ENV_DIR=$(cd $(dirname $0);pwd)# source $ENV_DIR/env/bin/activate# pyenv activate py38nohup python -u checkRepeatSituation.py 1&gt; r1.log 2&gt;err.log &amp;nohup python -u checkRepeatSituation1.py 1&gt; r2.log 2&gt;err.log &amp;nohup python -u checkRepeatSituation3.py 1&gt; r3.log 2&gt;err.log &amp;nohup python -u checkRepeatSituation4.py 1&gt; r4.log 2&gt;err.log &amp;nohup python -m visdom.server &amp; docker exec -it xxx bashè¿›å…¥æ—¶ps auxå¹¶æ²¡æœ‰è¿™äº›pythonè¿›ç¨‹ï¼Œæ˜¯å› ä¸ºRUNåé¢çš„repeat.shè„šæœ¬åªåœ¨æ„å»ºè¿‡ç¨‹ä¸­æ‰§è¡Œ VOLUMNç‰¹æ€§ Volume, on the other hand, just lets a container run from your image have access to some path on whatever local machine the container is being run on. You cannot use files from your VOLUME directory in your Dockerfile. Anything in your volume directory will not be accessible at build-time but will be accessible at run-time. ç¿»è¯‘ï¼šå¦ä¸€æ–¹é¢ï¼Œ&quot;å· &quot;åªæ˜¯è®©ä»ä½ çš„é•œåƒä¸­è¿è¡Œçš„å®¹å™¨èƒ½å¤Ÿè®¿é—®è¯¥å®¹å™¨æ‰€è¿è¡Œçš„ä»»ä½•æœ¬åœ°æœºå™¨ä¸Šçš„ä¸€äº›è·¯å¾„ã€‚ä½ ä¸èƒ½åœ¨ä½ çš„Dockeræ–‡ä»¶ä¸­ä½¿ç”¨VOLUMEç›®å½•ä¸­çš„æ–‡ä»¶ã€‚åœ¨ä½ çš„volumeç›®å½•ä¸­çš„ä»»ä½•ä¸œè¥¿åœ¨æ„å»ºæ—¶ä¸èƒ½è®¿é—®ï¼Œä½†åœ¨è¿è¡Œæ—¶å¯ä»¥è®¿é—®ã€‚ â˜…===&gt;åœ¨æ„å»ºæ—¶åªè¦æŒ‡æ˜äº† VOLUMN /app/logsï¼Œå°±ä¸èƒ½å†å¾€é‡Œé¢æ”¾æ•°æ®COPY draw.sh /app/logsï¼Œå¦‚æœè¿˜æ˜¯è¦æ”¾å…¥ï¼Œåˆ™å¯ä»¥åœ¨entrypoint.shä¸­ä½¿ç”¨mvåœ¨è¿è¡Œæ—¶ç§»åŠ¨æ–‡ä»¶åˆ°/app/logsç›®å½•ä¸­ ä½œç”¨ï¼š å­˜æ”¾è¿è¡Œæ—¶ç”Ÿæˆçš„æŒä¹…åŒ–æ•°æ® å­˜æ”¾é…ç½®æ–‡ä»¶==&gt;å®¹å™¨å…³é—­åä»ç„¶å­˜åœ¨ï¼Œç»§ç»­è¿è¡Œæ—¶èƒ½å¤Ÿè¯»å– è·¨å®¹å™¨å…±äº«æ–‡ä»¶ æ³¨ï¼šä¸VOLUMNçš„åŒºåˆ«æ˜¯ï¼ŒADDçš„å†…å®¹ä½œä¸ºé•œåƒä¸€éƒ¨åˆ†ï¼Œæ˜¯æ„å»ºæ—¶çš„å†…å®¹ï¼›è€ŒVOLUMNçš„æ›´å¤šæ˜¯è¿è¡Œæ—¶çš„æ•°æ® Fromï¼šhttps://stackoverflow.com/questions/27735706/docker-add-vs-volume ADDä½¿ç”¨è¯´æ˜ï¼š å¦‚æœæºè·¯å¾„æ˜¯ä¸ªæ–‡ä»¶ï¼Œä¸”ç›®æ ‡è·¯å¾„æ˜¯ä»¥ / ç»“å°¾ï¼Œ åˆ™dockerä¼šæŠŠç›®æ ‡è·¯å¾„å½“ä½œä¸€ä¸ªç›®å½•ï¼Œä¼šæŠŠæºæ–‡ä»¶æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹ã€‚ å¦‚æœç›®æ ‡è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»ºç›®æ ‡è·¯å¾„ã€‚ å¦‚æœæºè·¯å¾„æ˜¯ä¸ªæ–‡ä»¶ï¼Œä¸”ç›®æ ‡è·¯å¾„æ˜¯ä¸æ˜¯ä»¥ / ç»“å°¾ï¼Œåˆ™dockerä¼šæŠŠç›®æ ‡è·¯å¾„å½“ä½œä¸€ä¸ªæ–‡ä»¶ã€‚ å¦‚æœç›®æ ‡è·¯å¾„ä¸å­˜åœ¨ï¼Œä¼šä»¥ç›®æ ‡è·¯å¾„ä¸ºååˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå†…å®¹åŒæºæ–‡ä»¶ï¼› å¦‚æœç›®æ ‡æ–‡ä»¶æ˜¯ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œä¼šç”¨æºæ–‡ä»¶è¦†ç›–å®ƒï¼Œå½“ç„¶åªæ˜¯å†…å®¹è¦†ç›–ï¼Œæ–‡ä»¶åè¿˜æ˜¯ç›®æ ‡æ–‡ä»¶åã€‚ å¦‚æœç›®æ ‡æ–‡ä»¶å®é™…æ˜¯ä¸ªå­˜åœ¨çš„ç›®å½•ï¼Œåˆ™ä¼šæºæ–‡ä»¶æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹ã€‚ æ³¨æ„ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½æ˜¾ç¤ºçš„ä»¥ / ç»“å°¾ï¼Œä»¥é¿å…æ··æ·†ã€‚ å¦‚æœæºè·¯å¾„æ˜¯ä¸ªç›®å½•ï¼Œä¸”ç›®æ ‡è·¯å¾„æ²¡æœ‰/ç»“å°¾ å¦‚æœç›®æ ‡è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™dockerä¼šè‡ªåŠ¨ä»¥ç›®æ ‡è·¯å¾„åˆ›å»ºä¸€ä¸ªç›®å½•ï¼ŒæŠŠæºè·¯å¾„ç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´è¿›æ¥ã€‚ å¦‚æœç›®æ ‡è·¯å¾„æ˜¯ä¸ªå·²ç»å­˜åœ¨çš„ç›®å½•ï¼Œåˆ™dockerä¼šæŠŠæºè·¯å¾„ç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹ã€‚å¦‚ADD log_utils/ /appå°±æ²¡æœ‰/app/log_utilsæ–‡ä»¶å¤¹ï¼Œä½†log_utilsä¸­çš„å†…å®¹å…¨åœ¨/appç›®å½•ä¸‹ å¦‚æœæºè·¯å¾„æ˜¯ä¸ªç›®å½•ï¼Œä¸”ç›®æ ‡è·¯å¾„ä»¥/ç»“å°¾ï¼Œé‚£ä¹ˆå°†ä¼šæŠŠåŸè·¯å¾„ç›®å½•æ•´ä¸ªæ–‡ä»¶å¤¹æ”¾åœ¨ç›®æ ‡è·¯å¾„ä¸‹æ¥ï¼Œå¦‚ADD log_utils/ /app/å°±ä¼šæœ‰/app/log_utilsæ–‡ä»¶å¤¹ å¦‚æœæºæ–‡ä»¶æ˜¯ä¸ªå½’æ¡£æ–‡ä»¶ï¼ˆå‹ç¼©æ–‡ä»¶ï¼‰ï¼Œåˆ™dockerä¼šè‡ªåŠ¨å¸®è§£å‹ã€‚ é™¤äº†æœ€åçš„å½’æ¡£è§£å‹ä¸€ç‚¹ä»¥å¤–ï¼Œåœ¨å…¶ä»–æ‹·è´ç‰¹æ€§ä¸Šï¼Œaddå’Œcopyä¸€è‡´ æµ‹è¯• 1234567891011FROM python:3.9MAINTAINER Mrli 1063052964@qq.comWORKDIR /app # ä¼šç”Ÿæˆ/app ç›®å½•VOLUME /cl_logs # ä¼šç”Ÿæˆ/cl_logsç›®å½•COPY test.txt /abc # å½“srcä¸ºæ–‡ä»¶æ—¶ï¼Œabcä¼šå½“åšæ˜¯æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶COPY test.txt /abcd/ # å½“destæŒ‡æ˜ä¸ºæ–‡ä»¶å¤¹æ—¶ï¼Œ ä¼šåˆ›å»º/abcdç›®å½•ï¼Œå¹¶å¤åˆ¶æ‹·è´åˆ°destç›®å½•ADD test.txt /ddd # å½“srcä¸ºæ–‡ä»¶æ—¶ï¼Œabcä¼šå½“åšæ˜¯æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ADD log_utils/ /app # åˆ°srcä¸ºæ–‡ä»¶å¤¹æ—¶ï¼Œ ä¼šæŠŠlog_utilsä¸­çš„å†…å®¹æ‹·è´åˆ°appä¸­ADD log_utils/ /app/ # åˆ°srcä¸ºæ–‡ä»¶å¤¹æ—¶ï¼Œ ä¼šæŠŠlog_utilsæ–‡ä»¶å¤¹æ‹·è´åˆ°appä¸­ Dockfileæ„å»ºè¿‡ç¨‹ä¸­è·¯å¾„é—®é¢˜ è·¯å¾„å¦‚ä¸‹ï¼š 1234projectPath/|-requirements.txt|-log_utils |-requirements.txt å…¶ä¸­ï¼Œå› ä¸ºæŠ¥è¿‡requirements.txtæ‰¾ä¸åˆ°çš„é”™è¯¯ï¼Œå› æ­¤å¯¹æ–‡ä»¶å­˜åœ¨çš„æ—¶æœºå’Œè·¯å¾„è¿›è¡Œäº†æ€è€ƒã€‚å¾—å‡ºç»“è®ºï¼šdockerfileæ–‡ä»¶åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œä¸èƒ½å¤Ÿè®¿é—®åˆ°è‡³å°‘åŒçº§ç›®å½•çš„æ–‡ä»¶ã€‚å®¿ä¸»æœºé‡Œé¡¹ç›®ä¸­çš„sourceFileåªæœ‰ADDå‘½ä»¤èƒ½æ¥è§¦åˆ°ã€‚dockfileæ„å»ºçš„è¿‡ç¨‹ä¸­æ˜¯è®¿é—®ä¸åˆ°dockerfileç›®å½•ä¸‹çš„æ–‡ä»¶çš„ï¼Œè¦ç”¨çš„è¯ï¼Œåªèƒ½addã€copyå¤åˆ¶è¿›æ¥åå†åœ¨å®¹å™¨ä¸­æ­£å¸¸ä½¿ç”¨ã€‚ å› æ­¤å¯¹äºæ•´ä¸ªå·¥ç¨‹æ–‡ä»¶éƒ½è¦å¯¼å…¥çš„è¯ï¼Œæ¯”è¾ƒä¸»æµçš„åšæ³•æ˜¯ï¼Œåœ¨buildæ„å»ºè¿‡ç¨‹ç§git cloneæˆ–è€…entry-poind.shé‡Œè¿›è¡Œclone entrypoint.sh ç”±äºè„šæœ¬éƒ½æ˜¯åœ¨Linuxä¸‹è¿è¡Œçš„ï¼Œå› æ­¤entrypoint.shè„šæœ¬æœ€å¥½æ˜¯åœ¨Linuxä¸‹ç¼–å†™ï¼Œå¦åˆ™\\r\\né—®é¢˜å±å®è®©äººå¤´ç–¼ è‡³äºbashå’Œshçš„ä½¿ç”¨ï¼Œæ›´æ¨èbashï¼Œç”¨æˆ·æ›´å‹å¥½ Dockerfilesè®°å½• docker-publishï¼š https://github.com/npo5tech/TechXueXi/blob/dev/.github/workflows/docker-publish.yml ä¸åŒçš„æ“ä½œç³»ç»Ÿ-pyinstallerç¼–è¯‘ä¸åŒå¹³å°å¯æ‰§è¡Œæ–‡ä»¶ï¼šhttps://github.com/yqchilde/JDMemberCloseAccount/blob/main/.github/workflows/build.yml æ‰¹é‡åˆ é™¤shellè„šæœ¬ åˆ é™¤æ‰€æœ‰Noneé•œåƒï¼šdocker rmi $(docker images | grep &quot;^&lt;none&gt;&quot; | awk '{print $3}') åˆ é™¤æ‰€æœ‰appå®¹å™¨ï¼šdocker rm $(docker ps -a | grep &quot;app&quot; | awk '{print $1}' ) åˆ é™¤6-8è¡Œçš„å®¹å™¨ï¼šdocker rm $(docker ps -a | grep &quot;Exited&quot; | awk '{print $1}' | sed -n '6, 8p')","categories":[],"tags":[{"name":"è‡ªåŠ¨åŒ–è¿ç»´","slug":"è‡ªåŠ¨åŒ–è¿ç»´","permalink":"https://nymrli.top/tags/è‡ªåŠ¨åŒ–è¿ç»´/"}]},{"title":"Pythonä¸­çš„æ­£åˆ™åŒ¹é…","slug":"Pythonä¸­çš„æ­£åˆ™åŒ¹é…","date":"2019-07-25T01:50:19.000Z","updated":"2022-03-18T13:39:13.041Z","comments":true,"path":"2019/07/25/Pythonä¸­çš„æ­£åˆ™åŒ¹é…/","link":"","permalink":"https://nymrli.top/2019/07/25/Pythonä¸­çš„æ­£åˆ™åŒ¹é…/","excerpt":"","text":"Pythonä¸­çš„æ­£åˆ™åŒ¹é… è™½ç„¶æ­£åˆ™æ—©å°±ä¼šç”¨äº†,ä½†æ˜¯æœ‰äº›ä½¿ç”¨æ–¹æ³•è€æ˜¯å¿˜è®°,å› æ­¤è¿˜æ˜¯å†™ç¯‡è®°å½•ä¸€ä¸‹ ç‰¹æ®Šå­—ç¬¦ ç‰¹åˆ«å­—ç¬¦ æè¿° $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œåˆ™ $ ä¹ŸåŒ¹é… â€˜\\nâ€™ æˆ– â€˜\\râ€™ã€‚è¦åŒ¹é… $ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ $ã€‚ ( ) æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥è·å–ä¾›ä»¥åä½¿ç”¨ã€‚è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ( å’Œ )ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… * å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ *ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… + å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ +ã€‚ . åŒ¹é…é™¤æ¢è¡Œç¬¦ \\n ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… . ï¼Œè¯·ä½¿ç”¨ . ã€‚ [ æ ‡è®°ä¸€ä¸ªä¸­æ‹¬å·è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… [ï¼Œè¯·ä½¿ç”¨ [ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œæˆ–æŒ‡æ˜ä¸€ä¸ªéè´ªå©ªé™å®šç¬¦ã€‚è¦åŒ¹é… ? å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ?ã€‚ \\ å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºæˆ–ç‰¹æ®Šå­—ç¬¦ã€æˆ–åŸä¹‰å­—ç¬¦ã€æˆ–å‘åå¼•ç”¨ã€æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜nâ€™ åŒ¹é…å­—ç¬¦ â€˜nâ€™ã€‚â€™\\nâ€™ åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\\â€™ åŒ¹é… â€œâ€ï¼Œè€Œ â€˜(â€™ åˆ™åŒ¹é… â€œ(â€ã€‚ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œé™¤éåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œæ­¤æ—¶å®ƒè¡¨ç¤ºä¸æ¥å—è¯¥å­—ç¬¦é›†åˆã€‚è¦åŒ¹é… ^ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ ^ã€‚ { æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… {ï¼Œè¯·ä½¿ç”¨ {ã€‚ | æŒ‡æ˜ä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚è¦åŒ¹é… |ï¼Œè¯·ä½¿ç”¨ |ã€‚ ç‰¹æ®Šå­—ç¬¦ æ‰€è°“ç‰¹æ®Šå­—ç¬¦ï¼Œå°±æ˜¯ä¸€äº›æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œå¦‚ä¸Šé¢è¯´çš„ runoo*b ä¸­çš„ *****ï¼Œç®€å•çš„è¯´å°±æ˜¯è¡¨ç¤ºä»»ä½•å­—ç¬¦ä¸²çš„æ„æ€ã€‚å¦‚æœè¦æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­çš„ ***** ç¬¦å·ï¼Œåˆ™éœ€è¦å¯¹ ***** è¿›è¡Œè½¬ä¹‰ï¼Œå³åœ¨å…¶å‰åŠ ä¸€ä¸ª ***: runo*ob åŒ¹é… runoobã€‚ è®¸å¤šå…ƒå­—ç¬¦è¦æ±‚åœ¨è¯•å›¾åŒ¹é…å®ƒä»¬æ—¶ç‰¹åˆ«å¯¹å¾…ã€‚è‹¥è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¿…é¡»é¦–å…ˆä½¿å­—ç¬¦&quot;è½¬ä¹‰&quot;ï¼Œå³ï¼Œå°†åæ–œæ å­—ç¬¦**** æ”¾åœ¨å®ƒä»¬å‰é¢ã€‚ä¸‹è¡¨åˆ—å‡ºäº†æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼š ç‰¹åˆ«å­—ç¬¦ æè¿° $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œåˆ™ $ ä¹ŸåŒ¹é… â€˜\\nâ€™ æˆ– â€˜\\râ€™ã€‚è¦åŒ¹é… $ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ $ã€‚ ( ) æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥è·å–ä¾›ä»¥åä½¿ç”¨ã€‚è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ( å’Œ )ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… * å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ *ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… + å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ +ã€‚ . åŒ¹é…é™¤æ¢è¡Œç¬¦ \\n ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… . ï¼Œè¯·ä½¿ç”¨ . ã€‚ [ æ ‡è®°ä¸€ä¸ªä¸­æ‹¬å·è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… [ï¼Œè¯·ä½¿ç”¨ [ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œæˆ–æŒ‡æ˜ä¸€ä¸ªéè´ªå©ªé™å®šç¬¦ã€‚è¦åŒ¹é… ? å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ?ã€‚ \\ å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºæˆ–ç‰¹æ®Šå­—ç¬¦ã€æˆ–åŸä¹‰å­—ç¬¦ã€æˆ–å‘åå¼•ç”¨ã€æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ â€˜nâ€™ åŒ¹é…å­—ç¬¦ â€˜nâ€™ã€‚â€™\\nâ€™ åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— â€˜\\â€™ åŒ¹é… â€œâ€ï¼Œè€Œ â€˜(â€™ åˆ™åŒ¹é… â€œ(â€ã€‚ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œé™¤éåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œæ­¤æ—¶å®ƒè¡¨ç¤ºä¸æ¥å—è¯¥å­—ç¬¦é›†åˆã€‚è¦åŒ¹é… ^ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ ^ã€‚ { æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… {ï¼Œè¯·ä½¿ç”¨ {ã€‚ | æŒ‡æ˜ä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚è¦åŒ¹é… |ï¼Œè¯·ä½¿ç”¨ |ã€‚ *ã€+é™å®šç¬¦éƒ½æ˜¯è´ªå©ªçš„ï¼Œå› ä¸ºå®ƒä»¬ä¼šå°½å¯èƒ½å¤šçš„åŒ¹é…æ–‡å­—ï¼Œåªæœ‰åœ¨å®ƒä»¬çš„åé¢åŠ ä¸Šä¸€ä¸ª?å°±å¯ä»¥å®ç°éè´ªå©ªæˆ–æœ€å°åŒ¹é…ã€‚ é™å®šç¬¦ é™å®šç¬¦ç”¨æ¥æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªç»™å®šç»„ä»¶å¿…é¡»è¦å‡ºç°å¤šå°‘æ¬¡æ‰èƒ½æ»¡è¶³åŒ¹é…ã€‚æœ‰ ***** æˆ– + æˆ– ? æˆ– {n} æˆ– {n,} æˆ– {n,m} å…±6ç§ã€‚ æ­£åˆ™è¡¨è¾¾å¼çš„é™å®šç¬¦æœ‰ï¼š å­—ç¬¦ æè¿° * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… â€œzâ€ ä»¥åŠ â€œzooâ€ã€‚* ç­‰ä»·äº{0,}ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€˜zo+â€™ èƒ½åŒ¹é… â€œzoâ€ ä»¥åŠ â€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é… â€œzâ€ã€‚+ ç­‰ä»·äº {1,}ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œdo(es)?â€ å¯ä»¥åŒ¹é… â€œdoâ€ ã€ â€œdoesâ€ ä¸­çš„ â€œdoesâ€ ã€ â€œdoxyâ€ ä¸­çš„ â€œdoâ€ ã€‚? ç­‰ä»·äº {0,1}ã€‚ {n} n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€˜o{2}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†æ˜¯èƒ½åŒ¹é… â€œfoodâ€ ä¸­çš„ä¸¤ä¸ª oã€‚ {n,} n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€˜o{2,}â€™ ä¸èƒ½åŒ¹é… â€œBobâ€ ä¸­çš„ â€˜oâ€™ï¼Œä½†èƒ½åŒ¹é… â€œfooooodâ€ ä¸­çš„æ‰€æœ‰ oã€‚â€˜o{1,}â€™ ç­‰ä»·äº â€˜o+â€™ã€‚â€˜o{0,}â€™ åˆ™ç­‰ä»·äº â€˜o*â€™ã€‚ {n,m} m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n &lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œo{1,3}â€ å°†åŒ¹é… â€œfoooooodâ€ ä¸­çš„å‰ä¸‰ä¸ª oã€‚â€˜o{0,1}â€™ ç­‰ä»·äº â€˜o?â€™ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚ å®šä½ç¬¦ å®šä½ç¬¦ä½¿æ‚¨èƒ½å¤Ÿå°†æ­£åˆ™è¡¨è¾¾å¼å›ºå®šåˆ°è¡Œé¦–æˆ–è¡Œå°¾ã€‚å®ƒä»¬è¿˜ä½¿æ‚¨èƒ½å¤Ÿåˆ›å»ºè¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™äº›æ­£åˆ™è¡¨è¾¾å¼å‡ºç°åœ¨ä¸€ä¸ªå•è¯å†…ã€åœ¨ä¸€ä¸ªå•è¯çš„å¼€å¤´æˆ–è€…ä¸€ä¸ªå•è¯çš„ç»“å°¾ã€‚ å®šä½ç¬¦ç”¨æ¥æè¿°å­—ç¬¦ä¸²æˆ–å•è¯çš„è¾¹ç•Œï¼Œ^ å’Œ $ åˆ†åˆ«æŒ‡å­—ç¬¦ä¸²çš„å¼€å§‹ä¸ç»“æŸï¼Œ\\b æè¿°å•è¯çš„å‰æˆ–åè¾¹ç•Œï¼Œ\\B è¡¨ç¤ºéå•è¯è¾¹ç•Œã€‚ æ­£åˆ™è¡¨è¾¾å¼çš„å®šä½ç¬¦æœ‰ï¼š å­—ç¬¦ æè¿° ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ è¿˜ä¼šä¸ \\n æˆ– \\r ä¹‹åçš„ä½ç½®åŒ¹é…ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ è¿˜ä¼šä¸ \\n æˆ– \\r ä¹‹å‰çš„ä½ç½®åŒ¹é…ã€‚ \\b åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œå³å­—ä¸ç©ºæ ¼é—´çš„ä½ç½®ã€‚ \\B éå•è¯è¾¹ç•ŒåŒ¹é…ã€‚ æ•è·ä¸éæ•è· ç”¨åœ†æ‹¬å·å°†æ‰€æœ‰é€‰æ‹©é¡¹æ‹¬èµ·æ¥ï¼Œç›¸é‚»çš„é€‰æ‹©é¡¹ä¹‹é—´ç”¨|åˆ†éš”ã€‚ä½†ç”¨åœ†æ‹¬å·ä¼šæœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œä½¿ç›¸å…³çš„åŒ¹é…ä¼šè¢«ç¼“å­˜ï¼Œæ­¤æ—¶å¯ç”¨?:æ”¾åœ¨ç¬¬ä¸€ä¸ªé€‰é¡¹å‰æ¥æ¶ˆé™¤è¿™ç§å‰¯ä½œç”¨ã€‚ å…¶ä¸­ ?: æ˜¯éæ•è·å…ƒä¹‹ä¸€ï¼Œè¿˜æœ‰ä¸¤ä¸ªéæ•è·å…ƒæ˜¯ ?= å’Œ ?!ï¼Œè¿™ä¸¤ä¸ªè¿˜æœ‰æ›´å¤šçš„å«ä¹‰ï¼Œå‰è€…ä¸ºæ­£å‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•å¼€å§‹åŒ¹é…åœ†æ‹¬å·å†…çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼çš„ä½ç½®æ¥åŒ¹é…æœç´¢å­—ç¬¦ä¸²ï¼Œåè€…ä¸ºè´Ÿå‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•å¼€å§‹ä¸åŒ¹é…è¯¥æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼çš„ä½ç½®æ¥åŒ¹é…æœç´¢å­—ç¬¦ä¸²ã€‚ é€‰æ‹© (?(id/name)yes|no)çš„è¯´æ˜ï¼šâ€œMatches yes pattern if the group with id/name matched,the (optional) no pattern otherwise.â€ï¼Œå³å¦‚æœå‰é¢çš„æ•è·ç»„æˆåŠŸåŒ¹é…ï¼Œåˆ™æ‰§è¡Œyesçš„åŒ¹é…ï¼Œå¦åˆ™æ‰§è¡Œnoçš„åŒ¹é… 1234567891011abcabc&gt;&gt;&gt;print(re.search(r&apos;(\\d)?abc(?(1)\\d|abc)&apos;,&apos;abcabc&apos;))&lt;_sre.SRE_Match object; span=(0, 6), match=&apos;abcabc&apos;&gt; #åŒ¹é…æˆåŠŸ&gt;&gt;&gt;print(re.search(r&apos;(\\d)+abc(?(1)\\d|abc)&apos;,&apos;abcabc&apos;))None #åŒ¹é…å¤±è´¥&gt;&gt;&gt;print(re.search(r&apos;(\\d)*abc(?(1)\\d|abc)&apos;,&apos;abcabc&apos;))&lt;_sre.SRE_Match object; span=(0, 6), match=&apos;abcabc&apos;&gt; #åŒ¹é…æˆåŠŸ (?(R)yes|no) 12If recursion of the whole pattern is successful, match the pattern before the | otherwise match the pattern after the |. (?(?=...)yes|no) If the lookahead succeeds, matches the pattern before the vertical bar. Otherwise, matches the pattern after the vertical bar. The lookaround can be negative also. Global flag breaks conditionals. 123/(?(?=is)(is delicious)|(disgusting))/Candy is delicious or disgusting.// æˆåŠŸåŒ¹é…is delicious (?(?&lt;=...)yes|no) If the lookbehind succeeds, match the pattern before the vertical bar. Otherwise, matches the pattern after the vertical bar. The lookaround can be negative. Global flag, â€˜gâ€™, breaks conditionals. 123/(?(?&lt;=\\s)(delish)|(ew))/Is candy delish or ew?// åŒ¹é…delish åå‘å¼•ç”¨ å¯¹ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼æˆ–éƒ¨åˆ†æ¨¡å¼ä¸¤è¾¹æ·»åŠ åœ†æ‹¬å·å°†å¯¼è‡´ç›¸å…³åŒ¹é…å­˜å‚¨åˆ°ä¸€ä¸ªä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œæ‰€æ•è·çš„æ¯ä¸ªå­åŒ¹é…éƒ½æŒ‰ç…§åœ¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­ä»å·¦åˆ°å³å‡ºç°çš„é¡ºåºå­˜å‚¨ã€‚ç¼“å†²åŒºç¼–å·ä» 1 å¼€å§‹ï¼Œæœ€å¤šå¯å­˜å‚¨ 99 ä¸ªæ•è·çš„å­è¡¨è¾¾å¼ã€‚æ¯ä¸ªç¼“å†²åŒºéƒ½å¯ä»¥ä½¿ç”¨ \\n è®¿é—®ï¼Œå…¶ä¸­ n ä¸ºä¸€ä¸ªæ ‡è¯†ç‰¹å®šç¼“å†²åŒºçš„ä¸€ä½æˆ–ä¸¤ä½åè¿›åˆ¶æ•°ã€‚ å¯ä»¥ä½¿ç”¨éæ•è·å…ƒå­—ç¬¦ ?:ã€?= æˆ– ?! æ¥é‡å†™æ•è·ï¼Œå¿½ç•¥å¯¹ç›¸å…³åŒ¹é…çš„ä¿å­˜ã€‚ åå‘å¼•ç”¨çš„æœ€ç®€å•çš„ã€æœ€æœ‰ç”¨çš„åº”ç”¨ä¹‹ä¸€ï¼Œæ˜¯æä¾›æŸ¥æ‰¾æ–‡æœ¬ä¸­ä¸¤ä¸ªç›¸åŒçš„ç›¸é‚»å•è¯çš„åŒ¹é…é¡¹çš„èƒ½åŠ›ã€‚ æ­£åˆ™ ?&lt;= å’Œ ?= ç”¨æ³•](https://www.cnblogs.com/whaozl/p/5462865.html) æ–¹æ³•1ï¼š åŒ¹é…ï¼Œæ•è·(å­˜å‚¨) æ­£åˆ™è¡¨è¾¾å¼ï¼š(?&lt;=(href=&quot;)).{1,200}(?=(&quot;&gt;)) è§£é‡Šï¼š (?&lt;=(href=&quot;)) è¡¨ç¤º åŒ¹é…ä»¥(href=&quot;)å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”**æ•è·(å­˜å‚¨)**åˆ°åˆ†ç»„ä¸­ (?=(&quot;&gt;)) è¡¨ç¤º åŒ¹é…ä»¥(&quot;&gt;)ç»“å°¾çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”**æ•è·(å­˜å‚¨)**åˆ°åˆ†ç»„ä¸­ æ–¹æ³•2ï¼š åŒ¹é…ï¼Œä¸æ•è·(ä¸å­˜å‚¨) æ­£åˆ™è¡¨è¾¾å¼ï¼š(?&lt;=(**?:**href=&quot;)).{1,200}(?=(**?:**&quot;&gt;)) â€‹ è§£é‡Šï¼š(?&lt;=(**?:href=&quot;)) è¡¨ç¤º åŒ¹é…ä»¥(href=&quot;)å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”ä¸æ•è·(ä¸å­˜å‚¨)**åˆ°åˆ†ç»„ä¸­ â€‹ (?=(?:&quot;&gt;)) è¡¨ç¤º åŒ¹é…ä»¥(&quot;&gt;)ç»“å°¾çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”**ä¸æ•è·(ä¸å­˜å‚¨)**åˆ°åˆ†ç»„ä¸­ (?:pattern) éè·å–åŒ¹é…ï¼ŒåŒ¹é…patternä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨æˆ–å­—ç¬¦â€œ(|)â€æ¥ç»„åˆä¸€ä¸ªæ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚â€œindustr(?:y|ies)â€å°±æ˜¯ä¸€ä¸ªæ¯”â€œindustry|industriesâ€æ›´ç®€ç•¥çš„è¡¨è¾¾å¼ã€‚ (?=pattern) éè·å–åŒ¹é…ï¼Œæ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€œWindows(?=95|98|NT|2000)â€èƒ½åŒ¹é…â€œWindows2000â€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œWindows3.1â€ä¸­çš„â€œWindowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹ã€‚ (?!pattern) éè·å–åŒ¹é…ï¼Œæ­£å‘å¦å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚â€œWindows(?!95|98|NT|2000)â€èƒ½åŒ¹é…â€œWindows3.1â€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œWindows2000â€ä¸­çš„â€œWindowsâ€ã€‚ (?&lt;=pattern) éè·å–åŒ¹é…ï¼Œåå‘è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œâ€œ(?&lt;=95|98|NT|2000)Windowsâ€èƒ½åŒ¹é…â€œ2000Windowsâ€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ3.1Windowsâ€ä¸­çš„â€œWindowsâ€ã€‚ (?&lt;!pattern) éè·å–åŒ¹é…ï¼Œåå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚â€œ(?&lt;!95|98|NT|2000)Windowsâ€èƒ½åŒ¹é…â€œ3.1Windowsâ€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ2000Windowsâ€ä¸­çš„â€œWindowsâ€ã€‚è¿™ä¸ªåœ°æ–¹ä¸æ­£ç¡®ï¼Œæœ‰é—®é¢˜ åˆ†ç»„è¯­æ³• æ•è· (exp) åŒ¹é…exp,å¹¶æ•è·æ–‡æœ¬åˆ°è‡ªåŠ¨å‘½åçš„ç»„é‡Œ (?&lt;name&gt;exp) åŒ¹é…exp,å¹¶æ•è·æ–‡æœ¬åˆ°åç§°ä¸ºnameçš„ç»„é‡Œï¼Œä¹Ÿå¯ä»¥å†™æˆ(?'nameâ€™exp) (?:exp) åŒ¹é…exp,ä¸æ•è·åŒ¹é…çš„æ–‡æœ¬ ä½ç½®æŒ‡å®š (?=exp) â€”â€” å‰å‘è‚¯å®šç•Œå®šç¬¦ï¼š åŒ¹é…expå‰é¢çš„ä½ç½® 123/foo(?=bar)/foobar foobazæˆåŠŸåŒ¹é…foo (?&lt;=exp) â€”â€” åå‘è‚¯å®šç•Œå®šç¬¦ï¼šåŒ¹é…expåé¢çš„ä½ç½® 123/(?&lt;=foo)bar/foobar fuubaræˆåŠŸåŒ¹é…bar (?!exp) â€”â€” å‰å‘å¦å®šç•Œå®šç¬¦ï¼šåŒ¹é…åé¢è·Ÿçš„ä¸æ˜¯expçš„ä½ç½® 123/foo(?!bar)/foobar foobazæˆåŠŸåŒ¹é…åé¢çš„foo (?&lt;!exp) â€”â€” åå‘å¦å®šç•Œå®šç¬¦ï¼šåŒ¹é…å‰é¢ä¸æ˜¯expçš„ä½ç½® 123/(?&lt;!not )foo/not foo but fooæˆåŠŸåŒ¹é…åé¢çš„foo æ³¨é‡Š (?#comment) è¿™ç§ç±»å‹çš„ç»„ä¸å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„å¤„ç†äº§ç”Ÿä»»ä½•å½±å“ï¼Œåªæ˜¯ä¸ºäº†æä¾›è®©äººé˜…è¯»æ³¨é‡Š æˆ‘ä»¬å·²ç»è®¨è®ºäº†å‰ä¸¤ç§è¯­æ³•ã€‚ç¬¬ä¸‰ä¸ª(?:exp)ä¸ä¼šæ”¹å˜æ­£åˆ™è¡¨è¾¾å¼çš„å¤„ç†æ–¹å¼ï¼Œåªæ˜¯è¿™æ ·çš„ç»„åŒ¹é…çš„å†…å®¹ä¸ä¼šåƒå‰ä¸¤ç§é‚£æ ·è¢«æ•è·åˆ°æŸä¸ªç»„é‡Œé¢ã€‚ ä½ç½®æŒ‡å®š æ¥ä¸‹æ¥çš„å››ä¸ªç”¨äºæŸ¥æ‰¾åœ¨æŸäº›å†…å®¹(ä½†å¹¶ä¸åŒ…æ‹¬è¿™äº›å†…å®¹)ä¹‹å‰æˆ–ä¹‹åçš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬ç”¨äºæŒ‡å®šä¸€ä¸ªä½ç½®ï¼Œå°±åƒ\\b,^,$é‚£æ ·ï¼Œå› æ­¤å®ƒä»¬ä¹Ÿè¢«ç§°ä¸ºé›¶å®½æ–­è¨€ã€‚æœ€å¥½è¿˜æ˜¯æ‹¿ä¾‹å­æ¥è¯´æ˜å§ï¼š (?=exp)ä¹Ÿå«é›¶å®½å…ˆè¡Œæ–­è¨€ï¼Œå®ƒåŒ¹é…æ–‡æœ¬ä¸­çš„æŸäº›ä½ç½®ï¼Œè¿™äº›ä½ç½®çš„åé¢èƒ½åŒ¹é…ç»™å®šçš„åç¼€expã€‚æ¯”å¦‚\\b\\w+(?=ing\\b)ï¼ŒåŒ¹é…ä»¥ingç»“å°¾çš„å•è¯çš„å‰é¢éƒ¨åˆ†(é™¤äº†ingä»¥å¤–çš„éƒ¨åˆ†)ï¼Œå¦‚æœåœ¨æŸ¥æ‰¾Iâ€™m singing while youâ€™re dancing.æ—¶ï¼Œå®ƒä¼šåŒ¹é…singå’Œdancã€‚ (?&lt;=exp)ä¹Ÿå«é›¶å®½åè¡Œæ–­è¨€ï¼Œå®ƒåŒ¹é…æ–‡æœ¬ä¸­çš„æŸäº›ä½ç½®ï¼Œè¿™äº›ä½ç½®çš„å‰é¢èƒ½ç»™å®šçš„å‰ç¼€åŒ¹é…expã€‚æ¯”å¦‚(?&lt;=\\bre)\\w+\\bä¼šåŒ¹é…ä»¥reå¼€å¤´çš„å•è¯çš„ååŠéƒ¨åˆ†(é™¤äº†reä»¥å¤–çš„éƒ¨åˆ†)ï¼Œä¾‹å¦‚åœ¨æŸ¥æ‰¾reading a bookæ—¶ï¼Œå®ƒåŒ¹é…adingã€‚ å‡å¦‚ä½ æƒ³è¦ç»™ä¸€ä¸ªå¾ˆé•¿çš„æ•°å­—ä¸­æ¯ä¸‰ä½é—´åŠ ä¸€ä¸ªé€—å·(å½“ç„¶æ˜¯ä»å³è¾¹åŠ èµ·äº†)ï¼Œä½ å¯ä»¥è¿™æ ·æŸ¥æ‰¾éœ€è¦åœ¨å‰é¢å’Œé‡Œé¢æ·»åŠ é€—å·çš„éƒ¨åˆ†ï¼š((?&lt;=\\d)\\d{3})*\\bã€‚è¯·ä»”ç»†åˆ†æè¿™ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒå¯èƒ½ä¸åƒä½ ç¬¬ä¸€çœ¼çœ‹å‡ºæ¥çš„é‚£ä¹ˆç®€å•ã€‚ ä¸‹é¢è¿™ä¸ªä¾‹å­åŒæ—¶ä½¿ç”¨äº†å‰ç¼€å’Œåç¼€ï¼š(?&lt;=\\s)\\d+(?=\\s)åŒ¹é…ä»¥ç©ºç™½ç¬¦é—´éš”çš„æ•°å­—(å†æ¬¡å¼ºè°ƒï¼Œä¸åŒ…æ‹¬è¿™äº›ç©ºç™½ç¬¦)ã€‚ é™„å½•: å¸¸è§æ­£åˆ™è¡¨è¾¾å¼ Emailåœ°å€ï¼š^\\w+([-+.]\\w+)@\\w+([-.]\\w+).\\w+([-.]\\w+)*$ åŸŸåï¼š[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.? InternetURLï¼š[a-zA-z]+://[^\\s]* æˆ– ^http://([\\w-]+.)+[\\w-]+(/[\\w-./?%&amp;=]*)?$ æ‰‹æœºå·ç ï¼š^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$ ç”µè¯å·ç (â€œXXX-XXXXXXXâ€ã€â€œXXXX-XXXXXXXXâ€ã€â€œXXX-XXXXXXXâ€ã€â€œXXX-XXXXXXXXâ€ã€&quot;XXXXXXX&quot;å’Œ&quot;XXXXXXXX)ï¼š^((\\d{3,4}-)|\\d{3.4}-)?\\d{7,8}$ èº«ä»½è¯å·(15ä½ã€18ä½æ•°å­—)ï¼š^\\d{15}|\\d{18}$ å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š[1][a-zA-Z0-9_]{4,15}$ å¯†ç (ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿)ï¼š[2]\\w{5,17}$ æ—¥æœŸæ ¼å¼ï¼š^\\d{4}-\\d{1,2}-\\d{1,2} ä¸€å¹´çš„12ä¸ªæœˆ(01ï½09å’Œ1ï½12)ï¼š^(0?[1-9]|1[0-2])$ ä¸€ä¸ªæœˆçš„31å¤©(01ï½09å’Œ1ï½31)ï¼š^((0?[1-9])|((1|2)[0-9])|30|31)$ åŒ¹é…{}ä¹‹å†…çš„å†…å®¹: \\{([^}]+)\\} ï¼ˆåŒ¹é…ä¸¤ä¸ªæ‹¬å·ä¸­æ²¡æœ‰}çš„åœ°æ–¹ï¼‰and \\{(?:.|\\s)+\\}ï¼ˆåŒ¹é…æ‹¬å·ä¸­æ‰€æœ‰å­—ç¬¦ï¼‰ é—®é¢˜ï¼š åŒ¹é…æ¢è¡Œç¬¦ä»¥å¤–çš„å…ƒç´ ï¼š var def = \\{([^\\n]+)\\}; å¤§æ‹¬å·ä»¥å†…çš„å…ƒç´ ï¼šnew_info_tmp = re.findall(r'def = (\\{.*?\\});', html, re.S)[0]ï¼Œé€šè¿‡re.S \\s:é»˜è®¤æƒ…å†µä¸‹çš„åœ†ç‚¹ . æ˜¯ åŒ¹é…é™¤æ¢è¡Œç¬¦ \\n ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼ŒåŠ ä¸Š s ä¿®é¥°ç¬¦ä¹‹å, . ä¸­åŒ…å«æ¢è¡Œç¬¦ \\nã€‚ æƒ³ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è·å–ä¸€æ®µæ–‡æœ¬ä¸­çš„ä»»æ„å­—ç¬¦,å†™å‡ºå¦‚ä¸‹åŒ¹é…è§„åˆ™ï¼š(.*)ï¼Œå› æ­¤ä¼šåœ¨æ¢è¡Œç¬¦å¤„æ–­å¼€ã€‚å¦‚æœæƒ³è¦æ»¡è¶³ä¹‹å‰çš„éœ€æ±‚å¯ä»¥å†™æˆ([\\s\\S]*)ï¼Œè¿™ä¸ªä¼šåŒ…å«\\n Pythonä¸­çš„re.S å¦‚æœä¸ä½¿ç”¨re.Så‚æ•°ï¼Œåˆ™åªåœ¨æ¯ä¸€è¡Œå†…è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœä¸€è¡Œæ²¡æœ‰ï¼Œå°±æ¢ä¸‹ä¸€è¡Œé‡æ–°å¼€å§‹ã€‚ è€Œä½¿ç”¨re.Så‚æ•°ä»¥åï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¼šå°†è¿™ä¸ªå­—ç¬¦ä¸²ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œåœ¨æ•´ä½“ä¸­è¿›è¡ŒåŒ¹é…ã€‚ subä»‹ç» Python çš„ re æ¨¡å—æä¾›äº†re.subç”¨äºæ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„åŒ¹é…é¡¹ï¼Œsubæ˜¯substituteè¡¨ç¤ºæ›¿æ¢ã€‚ patternï¼šè¯¥å‚æ•°è¡¨ç¤ºæ­£åˆ™ä¸­çš„æ¨¡å¼å­—ç¬¦ä¸²ï¼› replï¼šreplå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯è°ƒç”¨çš„å‡½æ•°å¯¹è±¡ï¼›å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å¤„ç†å…¶ä¸­çš„åæ–œæ è½¬ä¹‰ã€‚å¦‚æœå®ƒæ˜¯å¯è°ƒç”¨çš„å‡½æ•°å¯¹è±¡ï¼Œåˆ™ä¼ é€’matchå¯¹è±¡ï¼Œå¹¶ä¸”å¿…é¡»è¿”å›è¦ä½¿ç”¨çš„æ›¿æ¢å­—ç¬¦ä¸² stringï¼šè¯¥å‚æ•°è¡¨ç¤ºè¦è¢«å¤„ç†ï¼ˆæŸ¥æ‰¾æ›¿æ¢ï¼‰çš„åŸå§‹å­—ç¬¦ä¸²ï¼› countï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºæ˜¯è¦æ›¿æ¢çš„æœ€å¤§æ¬¡æ•°ï¼Œè€Œä¸”å¿…é¡»æ˜¯éè´Ÿæ•´æ•°ï¼Œè¯¥å‚æ•°é»˜è®¤ä¸º0ï¼Œå³æ‰€æœ‰çš„åŒ¹é…éƒ½ä¼šè¢«æ›¿æ¢ï¼› flagsï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºç¼–è¯‘æ—¶ç”¨çš„åŒ¹é…æ¨¡å¼ï¼ˆå¦‚å¿½ç•¥å¤§å°å†™ã€å¤šè¡Œæ¨¡å¼ç­‰ï¼‰ï¼Œæ•°å­—å½¢å¼ï¼Œé»˜è®¤ä¸º0ã€‚ replä¼ å‡½æ•°å¯¹è±¡ åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„æ•°å­—åŠ 2 123456789101112131415import re'''åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„æ•°å­—åŠ 2'''def addAge(match) -&gt;str: '''è¿”å›åŒ¹é…çš„å€¼åŠ 2''' age = match.group() return str(int(age)+2)s = 'my age is 20'# repl å¦‚æœå®ƒæ˜¯å¯è°ƒç”¨çš„å‡½æ•°å¯¹è±¡ï¼Œåˆ™ä¼ é€’matchå¯¹è±¡ï¼Œå¹¶ä¸”å¿…é¡»è¿”å›è¦ä½¿ç”¨çš„æ›¿æ¢å­—ç¬¦ä¸²x = re.sub(r'[\\d]+', addAge, s)print(x)# my age is 22 a-zA-Z â†©ï¸ a-zA-Z â†©ï¸","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"åˆ©ç”¨wiresharkæŠ“å–TCPçš„æ•´ä¸ªè¿‡ç¨‹åˆ†æ[è½¬]","slug":"åˆ©ç”¨wiresharkæŠ“å–TCPçš„æ•´ä¸ªè¿‡ç¨‹åˆ†æ","date":"2019-07-24T07:51:29.000Z","updated":"2019-09-15T08:07:31.030Z","comments":true,"path":"2019/07/24/åˆ©ç”¨wiresharkæŠ“å–TCPçš„æ•´ä¸ªè¿‡ç¨‹åˆ†æ/","link":"","permalink":"https://nymrli.top/2019/07/24/åˆ©ç”¨wiresharkæŠ“å–TCPçš„æ•´ä¸ªè¿‡ç¨‹åˆ†æ/","excerpt":"","text":"åŸæ–‡åœ°å€ï¼šhttps://www.cnblogs.com/NickQ/p/9226579.html æœ€è¿‘ï¼Œå·²ç»å¾ˆä¹…éƒ½æ²¡æœ‰æ›´æ–°åšå®¢äº†ã€‚çœ‹çœ‹æ—¶é—´ï¼Œæƒ³æƒ³è‡ªå·±åšäº†å“ªäº›äº‹æƒ…ï¼Œçªç„¶å‘ç°è‡ªå·±çœŸçš„æ˜¯å¤ªè´ªå¿ƒï¼Œåˆ°å¤´æ¥å´ä¸€ä¸ªéƒ½æ²¡æå¥½ã€‚æ‰‹å¤´çš„åµŒå…¥å¼éƒ½è¿˜æ²¡å­¦å‡ºåå ‚ï¼Œç«Ÿç„¶è¿˜æƒ³ç€å­¦FPGA,ç‰©è”ç½‘ï¼Œæœºå™¨å­¦ä¹ ã€‚ç„¶è€Œï¼Œé‡åˆ°æ–°å¥‡çš„äº‹ç‰©ï¼Œå°±ä¼šæ§åˆ¶ä¸ä½çš„å»æƒ³ï¼Œå»æ‰¾èµ„æ–™ï¼Œå®é™…ä¸Šåªæ˜¯é€ƒé¿é‡åˆ°çš„é—®é¢˜ï¼Œä¸æƒ³å»è§£å†³è€Œå·²ã€‚ã€‚æœ€åçš„ç»“æœå°±æ˜¯æ‰‹å¤´çš„æ´»å †èµ·æ¥äº†ï¼Œç„¶åèŠ±å¤§æŠŠæ•´å—çš„æ—¶é—´è§£å†³ã€‚çœŸçš„æ˜¯è®¨åŒç°åœ¨çš„è‡ªå·±ã€‚ ä»¥åè¿˜æ˜¯æ…¢æ…¢è®°å½•å§ï¼Œä¸ç®¡åšäº†ä»€ä¹ˆï¼Œéƒ½æ…¢æ…¢å°è¯•ç§¯ç´¯ã€‚ã€‚å…¶ä»–çš„ä¸œè¥¿ï¼ŒåƒFPGAï¼Œæœºå™¨å­¦ä¹ ä»€ä¹ˆçš„ï¼Œè®©ä»–éšé£å»å§ï¼Œç”¨åˆ°å•¥å­¦å•¥ã€‚å…¶ä»–çš„å½“çœ‹å®¢ï¼Œäº†è§£äº†è§£å°±å¥½ã€‚ è¿™æ˜¯è®¡ç®—æœºç½‘ç»œçš„ä¸€æ¬¡ä½œä¸šï¼Œå­¦ä¹ æŠ“å–TCP/IPå»ºç«‹è¿æ¥å’Œæ–­å¼€è¿æ¥çš„è¿‡ç¨‹ï¼Œä»¥ä¸‹æ˜¯æ­£æ–‡ï¼š æ­¥éª¤ï¼š é¦–å…ˆå°è¯•æŠ“ç™¾åº¦ï¼Œè…¾è®¯ç­‰ç½‘ç»œè¿æ¥ï¼Œå‘ç°ä¼šæœ‰è®¸å¤šé—®é¢˜éœ€è¦è€ƒè™‘ï¼Œæ–­å¼€è¿æ¥æ“ä½œä¸å¥½æ“ä½œï¼Œä¸”æ•°æ®å†—æ‚ä¸åˆ©äºå­¦ä¹ ã€‚ æ‰€ä»¥å€ŸåŠ©æ‰‹æœºå’Œç”µè„‘å®Œæˆæ­¤æ¬¡è¿‡ç¨‹ï¼Œæ“ä½œå¦‚ä¸‹ï¼š 1ã€åœ¨æ‰‹æœºç«¯ï¼Œå®‰è£…TCPæµ‹è¯•å·¥å…·ï¼Œå¼€å¯TCPç›‘å¬ï¼Œç«¯å£8088ï¼› 2ã€æ‰“å¼€wiresharkç›‘å¬WIFIç½‘å¡ã€‚ 3ã€æ‰“å¼€ç”µè„‘ç«¯TCPæµ‹è¯•å®¢æˆ·ç«¯ï¼Œè¿æ¥TCPæœåŠ¡å™¨ã€‚ æ­¤å¤„ï¼Œæˆ‘çš„æ‰‹æœºIPä¸º192.168.255.5ï¼Œç«¯å£8088ï¼›ç”µè„‘çš„IPåœ°å€ä¸º192.168.255.6ã€‚ 4ã€é€šè¿‡ç”µè„‘å®¢æˆ·ç«¯ï¼Œå‘é€ä¸¤æ¬¡ä¿¡æ¯åˆ°æ‰‹æœºã€‚ 5ã€é€šè¿‡æ‰‹æœºå®¢æˆ·ç«¯ï¼Œå‘é€ä¸¤æ¬¡ä¿¡æ¯åˆ°ç”µè„‘ã€‚ 6ã€æ–­å¼€è¿æ¥ã€‚ 7ã€é€šè¿‡ip.addr eq 192.168.255.5 and ip.addr eq 192.168.255.6 and tcpè¿‡æ»¤æ‰å…¶ä»–æŠ¥æ–‡ã€‚ è‡³äºwiresharkè¿‡æ»¤çš„è¯­æ³•ï¼Œå¯ä»¥å‚è€ƒå…¶ä»–çš„ä¸€äº›åšæ–‡ï¼šhttps://blog.csdn.net/wojiaopanpan/article/details/69944970 åè®®åŠè¿‡ç¨‹åˆ†æï¼š TCPä¸‰æ¬¡æ¡æ‰‹ï¼šå¦‚ä¸‹å›¾ä¸­è“è‰²æ–¹æ¡†æ‰€ç¤ºã€‚ TCPæ¡æ‰‹åè®®åœ¨TCP/IPåè®®ä¸­ï¼ŒTCPåè®®æä¾›å¯é çš„è¿æ¥æœåŠ¡ï¼Œé‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹ä¸€ä¸ªè¿æ¥ã€‚ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€synåŒ…(syn=j)åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›å¦‚ä¸‹å›¾ä¸­æŠ¥æ–‡No.7 ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·çš„SYNï¼ˆack=j+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆsyn=kï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›å¦‚ä¸‹å›¾ä¸­æŠ¥æ–‡No.8 ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYNï¼‹ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1)ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚å®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å¼€å§‹ä¼ é€æ•°æ®ã€‚å¦‚ä¸‹å›¾ä¸­æŠ¥æ–‡No.9 TCPå››æ¬¡æŒ¥æ‰‹ï¼šå¦‚ä¸Šå›¾ä¸­çº¢è‰²æ–¹æ¡†æ‰€ç¤ºã€‚ æ³¨ï¼šæ­¤å¤„ï¼Œç”±äºå…ˆæ–­å¼€çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥æ‰‹æœºæœåŠ¡å™¨æ˜¯å®¢æˆ·ç«¯Aã€‚ ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯Aå‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­å®¢æˆ·Aåˆ°æœåŠ¡å™¨Bçš„æ•°æ®ä¼ é€ã€‚ å¦‚å›¾ä¸­æŠ¥æ–‡No.255 ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šæœåŠ¡å™¨Bæ”¶åˆ°è¿™ä¸ªFINï¼Œå®ƒå‘å›ä¸€ä¸ªACKï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°çš„åºå·åŠ 1ã€‚å’ŒSYNä¸€æ ·ï¼Œä¸€ä¸ªFINå°†å ç”¨ä¸€ä¸ªåºå·ã€‚å¦‚å›¾ä¸­æŠ¥æ–‡No.256 ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šæœåŠ¡å™¨Bå…³é—­ä¸å®¢æˆ·ç«¯Açš„è¿æ¥ï¼Œå‘é€ä¸€ä¸ªFINç»™å®¢æˆ·ç«¯Aã€‚å¦‚å›¾ä¸­æŠ¥æ–‡No.257 ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯Aå‘å›ACKæŠ¥æ–‡ç¡®è®¤ï¼Œå¹¶å°†ç¡®è®¤åºå·è®¾ç½®ä¸ºæ”¶åˆ°åºå·åŠ 1ã€‚å¦‚å›¾ä¸­æŠ¥æ–‡No.258 å…¶ä»–: ä¸‹å›¾æ˜¯å…¶ä¸­ä¸€å¸§æ•°æ®è§£æï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®æ˜¯ç”±192.168.255.6:62643(ç”µè„‘å®¢æˆ·ç«¯)å‘é€ç»™192.168.255.5:8088(æ‰‹æœºæœåŠ¡ç«¯ï¼‰ã€‚ æ¶ˆæ¯å†…å®¹ä¸ºï¼š201521111083","categories":[],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"C++å­¦ä¹ ç¬”è®°","slug":"C-å­¦ä¹ ç¬”è®°","date":"2019-07-13T01:00:50.000Z","updated":"2019-09-15T08:07:30.924Z","comments":true,"path":"2019/07/13/C-å­¦ä¹ ç¬”è®°/","link":"","permalink":"https://nymrli.top/2019/07/13/C-å­¦ä¹ ç¬”è®°/","excerpt":"","text":"C++å­¦ä¹ ç¬”è®° systemï¼ˆï¼‰å°±æ˜¯è°ƒç”¨ï¼ˆDOSï¼‰ç³»ç»Ÿå‘½ä»¤ï¼ˆå’Œshellå‘½ä»¤ï¼‰ã€‚ pause ï¼Œå³DOSå‘½ä»¤é›†åˆä¸­çš„æš‚åœå‘½ä»¤ï¼› sprintf 123456789101112#include &lt;stdio.h&gt;int main( void )&#123; char buffer[200], s[] = &quot;computer&quot;, c = &apos;l&apos;; int i = 35, j; float fp = 1.7320534f; // æ ¼å¼åŒ–å¹¶æ‰“å°å„ç§æ•°æ®åˆ°buffer j = sprintf( buffer, &quot; String: %s\\n&quot;, s ); // C4996 j += sprintf( buffer + j,&quot; Character: %c\\n&quot;, c ); j += sprintf( buffer + j,&quot; Integer: %d\\n&quot;, i ); j += sprintf( buffer + j,&quot; Real: %f\\n&quot;, fp ); printf( &quot;Output:\\n%s\\ncharacter count = %d\\n&quot;, buffer, j );&#125; è¿”å›å†™å…¥buffer çš„å­—ç¬¦æ•°ï¼Œå‡ºé”™åˆ™è¿”å›-1. å¦‚æœ buffer æˆ– format æ˜¯ç©ºæŒ‡é’ˆï¼Œä¸”ä¸å‡ºé”™è€Œç»§ç»­ï¼Œå‡½æ•°å°†è¿”å›-1 sprintf è¿”å›ä»¥formatä¸ºæ ¼å¼argumentä¸ºå†…å®¹ç»„æˆçš„ç»“æœè¢«å†™å…¥buffer çš„å­—èŠ‚æ•°ï¼Œç»“æŸå­—ç¬¦â€˜\\0â€™ä¸è®¡å…¥å†…ã€‚å³ï¼Œå¦‚æœâ€œHelloâ€è¢«å†™å…¥ç©ºé—´è¶³å¤Ÿå¤§çš„bufferåï¼Œå‡½æ•°sprintf è¿”å›5ã€‚ å¼•ç”¨ å£°æ˜å¼•ç”¨ï¼š 12int a = 1;int &amp;c=a; //int &amp; c=a; â–³.å£°æ˜å¼•ç”¨æ—¶å¿…é¡»åˆå§‹åŒ– ä¼ å¼•ç”¨å‚æ•° 12void func(int&amp; a)&#123;&#125; //å‡½æ•°å(xxx)xxxå…¶å®æ˜¯åˆ›å»ºå½¢å‚å˜é‡çš„è¿‡ç¨‹func(b); ä¼ æŒ‡é’ˆ 1void func2(int *a)&#123;&#125; è¿”å›å¼•ç”¨ è¿”å›å€¼ä¸èƒ½æ˜¯å±€éƒ¨å˜é‡ï¼ˆå±€éƒ¨å˜é‡åœ¨ç”Ÿå‘½æœŸç»“æŸåä¼šè¢«é”€æ¯ï¼‰ â€‹ ï¼ˆcä¸­ç”Ÿå‘½å‘¨æœŸç»“æŸåï¼Œç«‹é©¬é”€æ¯ï¼Œè€Œåœ¨pythonä¸­åƒåœ¾å›æ”¶æœºåˆ¶ä¼šåœ¨åˆ¤æ–­ä¹‹åä¸ä½¿ç”¨çš„æƒ…å†µä¸‹å†é”€æ¯ï¼‰ func2(&amp;b); å¢å¼ºçš„forå¾ªç¯: åœ¨vc6.0ä¸­ for(int i=4;i&gt;0;iâ€“) içš„ä½œç”¨åŸŸä¸º æ•´ä¸ªå¤–éƒ¨ä½œç”¨åŸŸå¦‚ void main() { â€‹ for(int i=4;i&gt;0;iâ€“) //ä½œç”¨åŸŸä¸ºæ•´ä¸ªmainå‡½æ•° } è€Œåœ¨vsä¸­ for(int i=4;i&gt;0;iâ€“) içš„ä½œç”¨åŸŸä¸º è¯¥ä¸ªforå¾ªç¯å†… void main() { â€‹ for(int i=4;i&gt;0;iâ€“) //ä½œç”¨åŸŸä¸ºè¯¥ä¸ªforå¾ªç¯ } é»˜è®¤å‚æ•° ä»å³å¾€å·¦è¿ç»­ è¿”å›å€¼ä¸æ˜¯å‡½æ•°é‡è½½çš„æ¡ä»¶ mallocå’Œfree ä¸ä¼šè§¦å‘æ„é€ å‡½æ•°æˆ–æ˜¯ææ„å‡½æ•° newå’Œdelete å¯ä»¥ ç±» ä¸åšç‰¹åˆ«è¯´æ˜ï¼Œç±»çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°éƒ½è¢«è®¤ä¸ºæ˜¯private thisæŒ‡é’ˆ this æ˜¯ç±»æˆå‘˜å‡½æ•°çš„éšå«å‚æ•°ï¼Œä¸æ˜¯ç±»çš„æ•°æ®æˆå‘˜ é™æ€æˆå‘˜æ— thisæŒ‡é’ˆ å¸¸å‡½æ•° å¸¸å‡½æ•°ä¸èƒ½ä¿®æ”¹ç±»ä¸­çš„æ•°æ®æˆå‘˜çš„å€¼ ææ„å‡½æ•°å’Œæ„é€ å‡½æ•°ä¸èƒ½æ˜¯å¸¸å‡½æ•° å¸¸å˜é‡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°ï¼Œä¸èƒ½è°ƒç”¨æ™®é€šå‡½æ•° å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°ï¼Œä¸èƒ½è°ƒç”¨æ™®é€šå‡½æ•° é™æ€æˆå‘˜ æ˜¯ç±»æœ¬èº«çš„å±æ€§ï¼Œæ— å¯¹è±¡æ—¶ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨Cstu::sta é™æ€æˆå‘˜å‡½æ•°åªèƒ½è°ƒç”¨é™æ€æ•°æ®æˆå‘˜ ç±»å¤–åˆå§‹åŒ– ä¸éœ€è¦staticå…³é”®å­— å¦‚ï¼š int Cstu::sta = 12; åˆ›å»ºæ•°ç»„ 12a = new int[2];delete[] a; æµ…æ‹·è´å’Œæ·±æ‹·è´ ç³»ç»Ÿé»˜è®¤çš„ä¸ºæµ…æ‹·è´ æœ‰æŒ‡é’ˆæ‰¿è¿å•Šæ—¶å¾—å†…å­˜æ‹·è´ï¼Œæ‰€ä»¥ä½¿ç”¨æ·±æ‹·è´ï¼Œ ä¸ºäº†é¿å…æ‹·è´æ„é€ ï¼Œè¿ç®—ç¬¦é‡è½½åº”è¯¥ä¼ å¼•ç”¨ æ‹·è´æ„é€  ä½•æ—¶ä¼šè°ƒç”¨ 1.æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºåŒç±»ç°æœ‰å¯¹è±¡ 123456Cstu a;- Cstu a1(a);- Cstu a2 = a;- Cstu a3 = Cstu(a); //åˆ›å»ºäº†ä¸´æ—¶å¯¹è±¡- Cstu a4 = new Cstu(a);- â–³.èµ‹å€¼å¹¶ä¸ä¼šå‘ç”Ÿæ‹·è´æ„é€  2.å½“ç¨‹åºç”Ÿæˆå¯¹è±¡å‰¯æœ¬æ—¶ 12345678910111213141516171819202122232425262728293031- å‚æ•°æ˜¯æœ¬ç±»çš„å¸¸å¼•ç”¨Cstu(const Cstu&amp;)- æ™®é€šæ„é€ å‡½æ•°å¦‚æœç©ºçš„è¯æ˜¯ä¸æ‰§è¡Œå†…å®¹çš„ï¼Œæ‹·è´æ„é€ ç©ºçš„è¯æ˜¯æ‰§è¡Œå†…å®¹çš„- é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼Œé€ä¸ªå¤åˆ¶éé™æ€æˆå‘˜çš„å€¼ï¼Œ## å†…è”å‡½æ•°inline- å‡½æ•°ä»£ç å°‘ï¼Œæµç¨‹ç›´æ¥ï¼Œè°ƒç”¨é¢‘ç¹ï¼Œå¦‚å¾ªç¯- ç±»å†…å®šä¹‰çš„éƒ½æ˜¯å†…è”å‡½æ•°ï¼ˆéšå¼ï¼‰ï¼Œå†™inlineä¸ºæ˜¾æ€§- å†…è”å‡½æ•°çš„å®šä¹‰ä¸€èˆ¬å†™åœ¨å¤´æ–‡ä»¶å†…- åªåœ¨å£°æ˜ä½ç½®å†™inlineä¸ç®¡ç”¨ï¼Œå®šä¹‰ä¸å£°æ˜éƒ½è¦æœ‰inlineå…³é”®å­—- ç©ºé—´æ¢æ—¶é—´ï¼Œä½¿ç”¨é¢‘ç‡ä½æ—¶é€Ÿåº¦å¿«ï¼Œé¢‘ç‡é«˜æ—¶ï¼Œæ¯”è¾ƒå ç”¨å†…å­˜ï¼Œä¸»è¦çœ‹æ€§ä»·æ¯”- é€’å½’ä¸èƒ½æ˜¯å†…è”å‡½æ•°## æ“ä½œç¬¦é‡è½½------- ä¸ºäº†é¿å…æ‹·è´æ„é€ ï¼Œè¿ç®—ç¬¦é‡è½½åº”è¯¥ä¼ å¼•ç”¨æˆ–æ˜¯ä¼ åœ°å€- æ“ä½œç¬¦é‡è½½å¿…é¡»æœ‰ä¸€ä¸ªç±»ç±»å‹çš„å‚æ•°- =ã€[]ã€()ã€-&gt;å¿…é¡»æ˜¯è¯šé‚€- å¤åˆèµ‹å€¼è¿ç®—ç¬¦é€šå¸¸æ˜¯æˆå‘˜- æ”¹å˜å¯¹è±¡çŠ¶æ€çš„è¿ç®—ç¬¦ï¼Œé€’å¢ã€è§£å¼•ç”¨ï¼Œé€šå¸¸æ˜¯æˆå‘˜### è¾“å‡ºè¿ç®—ç¬¦é‡è½½:- å‚æ•°1æ˜¯ostreamå¼•ç”¨ï¼Œå‚æ•°2æ˜¯å¯¹è±¡çš„å¸¸å¼•ç”¨- å¿…é¡»æ˜¯ç±»å¤–é‡è½½ï¼ŒåŸå› ä¸º1- è¾“å‡ºç§æœ‰æˆå‘˜æ—¶ï¼Œè¦ç”¨å‹å…ƒ void operator &lt;&lt; (ostream&amp; os,const &amp;Csty)ï¼Œos &lt;&lt;st.nAge; ostream&amp; operator &lt;&lt; (ostream&amp; os,const &amp;Csty)ï¼Œos &lt;&lt;st.nAge; 12345### è¾“å…¥è¿ç®—ç¬¦é‡è½½:- å‚æ•°ä¸åŒ¹é…ç”¨ist.fail()æ£€æµ‹- è¾“å‡º=&gt; ist&gt;&gt;st.nAge &gt;&gt; st.dbHeight; istream&amp; operator &gt;&gt;(istream&amp; ist,CStu&amp; st) 1234------### å‰ç½®+ +ä¸åç½®+ +é‡è½½ int operator++(Cstu* st){} =&gt;å‰ç½®++ int operator++(Cstu* st,int n) =&gt;åç½®++ { int a =st.nage; st.nage +=1; return a; } 1234------ç±»å‹è½¬æ¢é‡è½½ operator int()const{} //æ— è¿”å›å€¼ï¼Œä½†æœ‰return 1234â–³.å¿…é¡»åœ¨ç±»å†…ã€‚â–².const## æ¨¡æ¿ template void func(Y a) cout &lt;&lt; a &lt;&lt; endl; 12æ¨¡æ¿çš„å…·ä½“åŒ–: temlpate &lt;&gt; void func(Node&amp; a){} 1234567891011121314151617181920212223242526&gt; æ¨¡æ¿å…·ä½“åŒ–çš„æ‰§è¡Œä¼˜å…ˆçº§é«˜äºé€šç”¨çš„ä¼˜å…ˆçº§ï¼Œâ—‡.æ³¨æ„ï¼ŒSTLå¤´æ–‡ä»¶æ²¡æœ‰æ‰©å±•å.h------# CPP```è¯¥ç±»æ¥å—2ä¸ªå‚æ•°åˆå§‹åŒ–åˆ—è¡¨class CStu&#123; int a; int arr[4]; float b;//æ„é€ å‡½æ•°ï¼š CStu(*float c,int d*):a(2),b(2.2f),arr() #æˆå‘˜åˆå§‹åŒ–é¡ºåºåªä¸å£°æ˜é¡ºåºæœ‰å…³ï¼Œä¸æ­¤å¤„ä¹¦å†™é¡ºåºæ— å…³ &#123; #æ–°å¢è¯­æ³•ï¼Œarræ•°ç»„å…¨åˆå§‹åŒ–ä¸º0 &#125;&#125; â–².ç±»å¿…é¡»å…ˆåˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚ â€‹ ã€‚float cå’Œint d ä¸¤ä¸ªå˜é‡çš„ä½œç”¨åŸŸä»…é™äºæ„é€ å‡½æ•°å†….æ‰€ä»¥è¦æƒ³åœ¨æ•´ä¸ªç±»ä¸­ä½¿ç”¨è¯¥å˜é‡ï¼Œå°±å¾—å°†ä¼ å…¥çš„å‚æ•°åˆå§‹åŒ–èµ‹å€¼ç»™ç±»ä¸­çš„å˜é‡ã€‚ â€‹ è‹¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œä¼šæ‰§è¡Œåˆå§‹åŒ–åˆ—è¡¨ç»‘å®šæ‰€åœ¨çš„æ„é€ å‡½æ•°ï¼ˆæ„é€ å‡½æ•°çš„é‡è½½ï¼‰ æ•°ç»„çš„èµ‹å€¼ï¼š åˆå§‹åŒ–åˆ—è¡¨arr() æ„é€ å‡½æ•°ä¸­forå¾ªç¯èµ‹å€¼ memset(&amp;arr[0],0,16) â–³.ææ„å‡½æ•°æ²¡æœ‰é‡è½½ï¼Œä¸”ä¸æ¥å—å‚æ•°ã€‚å¯¹è±¡å£°æ˜è°ƒç”¨å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ã€‚ â–²æ„é€ å‡½æ•°å’Œææ„å‡½æ•°éƒ½å¿…é¡»å†™åœ¨publicè®¿é—®æ§åˆ¶ç¬¦ä¸‹ mallocå’Œnewã€freeå’ŒdeleteåŒºåˆ« mallocä¸ä¼šè§¦å‘æ„é€ å‡½æ•°ï¼Œnewå¯ä»¥ freeä¸ä¼šè§¦å‘ææ„å‡½æ•°ï¼Œdeleteå¯ä»¥ ThisæŒ‡é’ˆ æŒ‡é’ˆç±»å‹ä¸ºç±»çš„ç±»å‹ã€‚ thisä¸æ˜¯ç±»çš„æˆå‘˜ã€‚ thisæŒ‡é’ˆä¸ºæˆå‘˜å‡½æ•°çš„éšå«å‚æ•°ï¼Œç›¸å½“äºpythonç±»ä¸­çš„selfâ€¦(æ‰€ä»¥thisæŒ‡é’ˆçš„ä½œç”¨åŸŸä¸ºç±»å†…éƒ¨) å¸¸å‡½æ•° CStu&#123;&#125;123456class CStu&#123; public: void show() const #åœ¨æ‹¬å·ä¹‹å &#123;&#125;&#125; â—†.ææ„å‡½æ•°ã€æ„é€ å‡½æ•°ä¸èƒ½æ˜¯å¸¸å‡½æ•° â—†.å¸¸å‡½æ•°ä¸èƒ½ä¿®æ”¹æ•°æ®æˆå‘˜ï¼ˆæ˜¯ç±»çš„ï¼‰ï¼Œä½†å¯ä»¥ä¿®æ”¹å¸¸å‡½æ•°å†…çš„å˜é‡ã€‚ â–²å¸¸å‡½æ•°çš„thisæŒ‡é’ˆçš„ç±»å‹ä¸ºconst CStu* â˜…å¸¸å¯¹è±¡(const CStu st)åªèƒ½è°ƒç”¨å¸¸å‡½æ•°ï¼Œä¸èƒ½è°ƒç”¨æ™®é€šå‡½æ•° é™æ€æˆå‘˜ 1234567class CStu&#123; static int b; public: void show() const #åœ¨æ‹¬å·ä¹‹å &#123;&#125;&#125; âˆ·ä¸èƒ½åœ¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆå§‹åŒ–ï¼Œä½†å¯ä»¥ç±»å¤–åˆå§‹åŒ– âˆ·ç±»å¤–åˆå§‹åŒ–ä¸ç”¨åŠ staticï¼Œè€Œæ˜¯int CStu::b = 12; â–²staticå—è®¿é—®æ§åˆ¶ç¬¦çº¦æŸã€‚ è°ƒç”¨æ–¹æ³•ï¼š 12ç±»åä½œç”¨åŸŸï¼šcout&lt;&lt; CStu::b &lt;&lt; endl;å¯¹è±¡ï¼š â—‹åªæœ‰é™æ€å¸¸é‡æ•´å‹æ•°æ®æ‰èƒ½ç›´æ¥åœ¨ç±»ä¸­åˆå§‹åŒ–ï¼Œå…¶ä»–å¾—åœ¨åˆå§‹åŒ–åˆ—è¡¨æˆ–è€…æ„é€ å‡½æ•°ä¸­èµ‹å€¼ï¼ˆé™æ€æ•°æ®æˆå‘˜å¯ä»¥ç±»å¤–èµ‹å€¼ï¼‰ï¼Œæ™®é€šæ•°æ®æˆå‘˜ä¸èƒ½ç±»å¤–åˆå§‹åŒ–ã€‚ â—é™æ€æˆå‘˜æ˜¯è·Ÿç±»ä¸€ä¸€å¯¹åº”çš„ï¼Œè·Ÿå¯¹è±¡æ— å…³ã€‚ é™æ€æˆå‘˜å‡½æ•° ä»–æ˜¯å±äºç±»çš„å±æ€§ï¼Œä¸æ˜¯å¯¹è±¡çš„ï¼Œå³åŒä¸€ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡å…±æœ‰ä¸€ä¸ªï¼ˆå¯ä»¥ä½œä¸ºæŒ‡æŒ¥ç±»æ‰€æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼‰ æ— thisæŒ‡é’ˆ ä¸èƒ½è°ƒç”¨æ™®é€šæˆå‘˜ï¼Œåªèƒ½è°ƒç”¨é™æ€æˆå‘˜ æ‹·è´æ„é€  public: â€‹ Cstu(const Cstu &amp;a){} å½¢å¼ã€‚å‚æ•°æ˜¯æœ¬ç±»çš„å¸¸å¼•ç”¨ ä½•æ—¶è°ƒç”¨ï¼š 1234567891.æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºåŒç±»æ—¶ï¼š- Cstu a1(a); #aä¸ºä¸€ä¸ªCstuå¯¹è±¡- Cstu a2 = a; å°†ä¸ä¼šå†è§¦å‘æ„é€ å‡½æ•°ã€‚- Cstu a3 = Cstu(a); ç”¨aæ¥æ‹·è´æ„é€ ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå†ç”¨è¿™ä¸ªä¸´æ—¶å¯¹è±¡ç»™a3- Cstu* a4 = new Cstu(a);2.å½“ç¨‹åºç”Ÿæˆå¯¹è±¡å‰¯æœ¬æ—¶ï¼š å‡½æ•°å‚æ•°ä¼ é€’å¯¹è±¡çš„å€¼void fun(Cstu a)&#123;&#125; ï¼ˆâˆµå½“è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ä¼šä¸ºè¿™ä¸ªå½¢å‚ç”Ÿæˆç©ºé—´ï¼‰ â–²æœ‰æ—¶ä¸ºäº†æ•ˆç‡è¦é¿å…è¿™ç§æ‹·è´æ„é€ çš„äº§ç”Ÿï¼Œè§£å†³ï¼šä¼ å¼•ç”¨ å‡½æ•°è¿”å›å€¼ Cstu fun()&#123; Cstu a; return a;&#125; è¿”å›å€¼ä¸ºåˆ›å»ºäº†ä¸´æ—¶å¯¹è±¡æ‰¿æ¥ï¼Œç„¶åå†æŠŠä¸´æ—¶å˜é‡è¿”å›ã€‚ èµ‹å€¼ä¸ä¼šè°ƒç”¨ï¼š Cstu s1; Cstu s2; s2 = s1; é»˜è®¤æ‹·è´æ„é€ ï¼ˆæµ…æ‹·è´ï¼‰ é€ä¸ªèµ‹å€¼éé™æ€æˆå‘˜ï¼Œï¼ˆå³é»˜è®¤æ‹·è´æ„é€ ä¸­æ˜¯æœ‰å†…å®¹çš„ï¼Œé»˜è®¤çš„æ„é€ å‡½æ•°æ˜¯æ²¡æœ‰å†…å®¹çš„ï¼‰ å†…å­˜æ’å¸ƒä¸€æ ·ï¼Œåœ°å€ä¸åŒ æ·±æ‹·è´(æ¶‰åŠç±»ä¸­æœ‰æŒ‡é’ˆ) å¦‚æœæ˜¯æµ…æ‹·è´ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„æŒ‡é’ˆéƒ½ä¼šæŒ‡å‘åŒä¸€ä¸ªç©ºé—´ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå¯¹è±¡è¢«æ¶ˆé™¤åï¼Œè¿™ä¸ªç©ºé—´å°±ä¼šè¢«deleteï¼ˆfreeæ‰ï¼‰ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªå¯¹è±¡è¢«åˆ é™¤æ—¶å†æ“ä½œï¼ˆfreeï¼‰è¿™ä¸ªè¢«é‡Šæ”¾æ‰çš„ç©ºé—´ï¼ˆå·²ç»è¿˜ç»™ç³»ç»Ÿï¼‰ï¼Œå°±ç›¸å½“äºæ§åˆ¶é‡æŒ‡é’ˆï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚ è§£å†³æ–¹æ³•1æ·±æ‹·è´ï¼š 123this-&gt;a = new int[2];memcpy(this-&gt;a,b.a,8);strcpy(...) è§£å†³æ–¹æ³•2ä¼ å¼•ç”¨ï¼ˆä¸ç»è¿‡æ‹·è´æ„é€ ï¼‰ï¼š 123Cstu&amp; fun(CStu&amp; a)&#123; return a; &#125;fun(a); è§£å†³æ–¹æ³•3ä¼ åœ°å€ï¼š 123Cstu* fun(CStu* a)&#123; return a; &#125;fun(&amp;a); inlineå†…è”å‡½æ•° å¸¸è§„å‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ï¼šè°ƒç”¨æ—¶ï¼Œæ ¹æ®å‡½æ•°åœ°å€ï¼Œè·³åˆ°å‡½æ•°ä»£ç ç©ºé—´ï¼Œæ‰§è¡ŒæŒ‡ä»¤ï¼Œæ‰§è¡Œå®Œå†è·³è½¬åˆ°è°ƒç”¨çš„ä½ç½®ã€‚ å†…è”å‡½æ•°ï¼šå°†å‡½æ•°ä»£ç ç›´æ¥å¤åˆ¶åˆ°æ‰§è¡Œéƒ¨åˆ†ï¼Œä¸è·³è½¬ã€‚ æ¯”å¸¸è§„å‡½æ•°ç¨å¿« å ç”¨æ›´å¤šå†…å­˜ï¼ˆå¢åŠ ä»£ç é•¿åº¦ï¼‰ â–²å£°æ˜å’Œå®šä¹‰éƒ½è¦åŠ inline å…³é”®å­— â–²é€’å½’ä¸èƒ½æ˜¯å†…è”å‡½æ•° â–³.å‡½æ•°ä»£ç å°‘æ—¶ã€è°ƒç”¨é¢‘ç¹ï¼ˆforå¾ªç¯é‡Œï¼‰å¤§å¤šç”¨å†…è”å‡½æ•°ï¼ˆå¸¸è§„å‡½æ•°çš„è¯ï¼Œè·³è½¬æ‰€è€—æ—¶é—´å æ¯”å°±å¤§ï¼‰ â–².ç±»å†…å®šä¹‰çš„å‡½æ•°éƒ½æ˜¯å†…è”å‡½æ•°ï¼Œä½†å¦‚æœå®šä¹‰åœ¨ç±»å¤–çš„è¯åŠ inlineä¸ºå†…è”å‡½æ•°ï¼Œä¸åŠ å°±ä¸æ˜¯å†…è”å‡½æ•°ã€‚ â–³.å†…è”å‡½æ•°é€šå¸¸å®šä¹‰åœ¨å¤´æ–‡ä»¶é‡Œã€‚ æ“ä½œç¬¦é‡è½½ operatorä¸ºå…³é”®å­— â€œoperator+â€å¿…é¡»æœ‰ä¸€ä¸ªç±»ç±»å‹çš„å½¢å‚ï¼› ç»§æ‰¿ï¼š ç»§æ‰¿æ§åˆ¶ç¬¦ï¼š public çˆ¶ç±»ï¼šçˆ¶ç±»ä¸ºä»€ä¹ˆè®¿é—®æ§åˆ¶ç¬¦ï¼Œå­ç±»å°±ç»§æ‰¿ä»€ä¹ˆæ ·çš„ã€‚ protected çˆ¶ç±»:ç»§æ‰¿ä¹‹åï¼Œçˆ¶ç±»çš„publicé™çº§ä¸ºprotectedï¼Œä½çº§æˆ–è€…åŒçº§çš„è®¿é—®æ§åˆ¶ç¬¦ä¸å˜ï¼ˆå³protectedhå’Œprivate) private çˆ¶ç±»ï¼šç»§æ‰¿ä¹‹åï¼Œçˆ¶ç±»å…¨å˜ä¸ºç§æœ‰ã€‚ å¤šæ€å’Œè™šå‡½æ•° å¤šæ€ï¼šåŒæ ·çš„è°ƒç”¨æœ‰å¤šç§ç»“æœ é€šè¿‡è™šå‡½æ•°è°ƒç”¨å­ç±»çš„æˆå‘˜å‡½æ•°ï¼Œå½¢å¼ä¸ºvirtual void Show(){} (å‡½æ•°åä¸å­ç±»ç›¸åŒ) å…·ä½“æ‰§è¡Œé‚£ä¸ªå­ç±»çš„å‡½æ•°ç”±çˆ¶ç±»æ‰€æŒ‡å‘çš„å­ç±»æ‰€å†³å®š. CFather* fa = new CSon1; C++ä¸­å£°æ˜ç»“æ„ä½“å˜é‡ä¸éœ€è¦â€˜structâ€™ï¼Œstructé»˜è®¤ä¸ºpublic,class é»˜è®¤ä¸ºprivate cé™æ€å˜é‡åœ¨é¢„å¤„ç†æ—¶å£°æ˜ã€‚ cppé™æ€æˆå‘˜åœ¨ç±»å£°æ˜æ—¶å£°æ˜ã€‚ STLåˆå§‹åŒ– (1): vector v; é»˜è®¤åˆå§‹åŒ–ï¼Œvectorä¸ºç©ºï¼Œ sizeä¸º0ï¼Œè¡¨æ˜å®¹å™¨ä¸­æ²¡æœ‰å…ƒç´ ï¼Œè€Œä¸” capacity ä¹Ÿè¿”å› 0ï¼Œæ„å‘³ç€è¿˜æ²¡æœ‰åˆ†é…å†…å­˜ç©ºé—´ã€‚ (2): vector v2(v); vector v2= v; ä¸¤ç§æ–¹å¼ç­‰ä»· ï¼Œilist2 åˆå§‹åŒ–ä¸ºilist çš„æ‹·è´ï¼Œilistå¿…é¡»ä¸ilist2 ç±»å‹ç›¸åŒï¼Œä¹Ÿå°±æ˜¯åŒä¸ºintçš„vectorç±»å‹ï¼Œilist2å°†å…·æœ‰å’Œilistç›¸åŒçš„å®¹é‡å’Œå…ƒç´  (3): vector ilist = {1,2,3.0,4,5,6,7}; vector ilist {1,2,3.0,4,5,6,7}; åˆå§‹åŒ–ä¸ºåˆ—è¡¨ä¸­å…ƒç´ çš„æ‹·è´ï¼Œåˆ—è¡¨ä¸­å…ƒç´ å¿…é¡»ä¸ilistçš„å…ƒç´ ç±»å‹ç›¸å®¹ (4): vector ilist3(ilist.begin()+2,ilist.end()-1); åˆå§‹åŒ–ä¸ºä¸¤ä¸ªè¿­ä»£å™¨æŒ‡å®šèŒƒå›´ä¸­å…ƒç´ çš„æ‹·è´ï¼ŒèŒƒå›´ä¸­çš„å…ƒç´ ç±»å‹å¿…é¡»ä¸ilist3 çš„å…ƒç´ ç±»å‹ç›¸å®¹ (5): vector ilist4(7); é»˜è®¤å€¼åˆå§‹åŒ–ï¼Œilist4ä¸­å°†åŒ…å«7ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ è¿›è¡Œç¼ºçœçš„å€¼åˆå§‹åŒ–ï¼Œå¯¹äºintï¼Œä¹Ÿå°±æ˜¯è¢«èµ‹å€¼ä¸º0ï¼Œ (6):vector ilist5(7,3); æŒ‡å®šå€¼åˆå§‹åŒ–ï¼Œilist5è¢«åˆå§‹åŒ–ä¸ºåŒ…å«7ä¸ªå€¼ä¸º3çš„int 12std::vector&lt;int&gt; idxsä¸­for(int i : idxs) ====&gt; for i in indx ..... i ä¸ºidxsä¸­å…ƒç´ ","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"é€šè¿‡XDRPå®ç°Windowsè¿œç¨‹è®¿é—®ubuntuæ¡Œé¢","slug":"é€šè¿‡XDRPå®ç°Windowsè¿œç¨‹è®¿é—®ubuntuæ¡Œé¢","date":"2019-07-13T00:57:05.000Z","updated":"2019-09-15T08:07:31.098Z","comments":true,"path":"2019/07/13/é€šè¿‡XDRPå®ç°Windowsè¿œç¨‹è®¿é—®ubuntuæ¡Œé¢/","link":"","permalink":"https://nymrli.top/2019/07/13/é€šè¿‡XDRPå®ç°Windowsè¿œç¨‹è®¿é—®ubuntuæ¡Œé¢/","excerpt":"","text":"é€šè¿‡XDRPå®ç°Windowsè¿œç¨‹è®¿é—® 1234567891011121314#å®‰è£…xrdp $ sudo apt-get install xrdp #å®‰è£…vnc4server $ sudo apt-get install vnc4server tightvncserver#å®‰è£…xubuntu-desktop $ sudo apt-get install xubuntu-desktop #å‘xsessionä¸­å†™å…¥xfce4-session $ echo â€œxfce4-sessionâ€ &gt;~/.xsession #å¼€å¯xrdpæœåŠ¡ $ sudo service xrdp restart ä¸Šé¢æ˜¯ç½‘ä¸Šå¤§å¤šæ•°ç¤ºä¾‹æ‰€å±•ç¤ºçš„ï¼Œéƒ½æ˜¯ä¾é ç¬¬ä¸‰æ–¹æ¡Œé¢ç³»ç»Ÿå®ç°è¿œç¨‹è®¿é—®ï¼Œä¸‹é¢è®²è§£çš„æ˜¯å¦‚ä½•ç›´æ¥è®¿é—®åŸç”Ÿç³»ç»Ÿã€‚ æ­¥éª¤ä¸€ã€ä¸‹è½½TigerVNC Serverè½¯ä»¶åŒ… ä¸‹è½½åœ°å€ï¼šTigervnc Debè½¯ä»¶åŒ…ï¼ˆé€‚ç”¨äºUbuntu 16.04.1 - 64ä½ï¼‰ æ­¥éª¤äºŒã€ å®‰è£…TigerVNC Serverè½¯ä»¶åŒ… 1ã€æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥åˆ°åˆšåˆšä½ ä½ ä¸‹è½½TigerVNC Serverçš„å­˜æ”¾ç›®å½•ï¼Œæˆ‘æ˜¯ç›´æ¥ä¸‹è½½åˆ°é»˜è®¤çš„DownLoadsä¸‹çš„ï¼Œå› ä¸ºä¸‹è½½çš„æ˜¯zipæ–‡ä»¶ï¼Œè®°å¾—è§£å‹å‡ºæ¥ï¼Œå¾—åˆ°debå®‰è£…æ–‡ä»¶ã€‚ 2ã€å†è¾“å…¥ä¸€ä¸‹å®‰è£…å‘½ä»¤è¿›è¡Œå®‰è£…ï¼ˆéœ€è¦suå¯†ç ï¼‰ 12$ sudo apt-get install -f$ sudo dpkg -i tigervncserver_1.6.80-4_amd64.deb æ­¥éª¤ä¸‰ã€å®‰è£…xrdp æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä¸€ä¸‹å‘½ä»¤ï¼ˆéœ€è¦suå¯†ç ï¼‰ 1sudo apt-get install xrdp -y æ­¥éª¤å››ã€é…ç½®xrdpè®¾ç½® éœ€è¦é€šè¿‡xrdpè¿æ¥åˆ°æ¡Œé¢ï¼Œéœ€è¦æ­£ç¡®é…ç½®ç›¸å…³ä¿¡æ¯å¹¶å¡«å……åˆ°.xsessionæ–‡ä»¶ï¼ˆé’ˆå¯¹æ¯ä¸ªç”¨æˆ·ï¼‰æˆ–/etc/startwm.shï¼ˆé’ˆå¯¹æ‰€æœ‰ç”¨æˆ·ï¼‰ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ 123$ echo unity&gt;~/.xsession# æˆ–è€…$ sudo sed -i.bak '/fi/a #xrdp multi-users \\n unity \\n' /etc/xrdp/startwm.sh æ­¥éª¤äº”ã€é‡å¯xrdp 1sudo service xrdp restart æ­¥éª¤å…­ã€å¼€å¯æ¡Œé¢å…±äº«åŠŸèƒ½ è¿›å…¥ç³»ç»Ÿ-ã€‹é¦–é€‰é¡¹-ã€‹æ¡Œé¢å…±äº«ï¼Œæˆ–è€…ç›´æ¥æœç´¢æ¡Œé¢å…±äº«ï¼Œå¦‚å›¾æ‰€ç¤º å°†ã€å…è®¸å…¶ä»–äººæŸ¥çœ‹æ‚¨çš„æ¡Œé¢ã€‘è¿™ä¸€é¡¹å‹¾ä¸Šï¼Œå¦‚å›¾æ‰€ç¤ºï¼š åˆ°è¿™ä¸€æ­¥åŸºæœ¬ä¸Šå·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ¥æµ‹è¯•æ˜¯å¦èƒ½æ­£å¸¸è¿æ¥åˆ°Ubuntuäº† ä¸‰ã€xrdpæµ‹è¯•è¿æ¥åˆ°Ubuntu 1ã€æŸ¥çœ‹UbuntuæœåŠ¡å™¨çš„IPåœ°å€ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š 2ã€å¯åŠ¨Windowsè¿œç¨‹æ¡Œé¢å·¥å…·(mstc)ï¼Œè¾“å…¥Ubuntuçš„IPåœ°å€ï¼ˆ192.168.226.131ï¼‰ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š 3ã€ç‚¹å‡»è¿æ¥ä¹‹åï¼Œæ­£å¸¸æƒ…å†µä¼šè‡ªåŠ¨è·³å‡ºxrdpçš„ç™»å½•ç•Œé¢ï¼Œéœ€è¦æˆ‘ä»¬è¾“å…¥ç”¨æˆ·åå’Œå¯†ç å³å¯ï¼Œæ¨¡å¼é€‰æ‹©é»˜è®¤å°±è¡Œï¼Œå¦‚å›¾æ‰€ç¤ºï¼š 4ã€æˆ‘ä»¬å¯ä»¥çœ‹åˆ°xrdpçš„å®æ—¶æ—¥å¿—ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š 5ã€æœ€ç»ˆæˆ‘ä»¬è¿æ¥åˆ°ä¸Šäº†Ubuntuï¼Œæ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„ç•Œé¢~~ï¼ˆãƒ¾(à¹‘â•¹â—¡â•¹)ï¾‰&quot;ï¼‰ è‡³æ­¤ï¼Œxrdpè¿æ¥Ubuntu 16.04çš„æ‰€æœ‰æ­¥éª¤å·²å®Œæˆ","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://nymrli.top/tags/Ubuntu/"}]},{"title":"è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·Ansible","slug":"è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·Ansible","date":"2019-07-08T06:45:45.000Z","updated":"2019-12-16T13:16:40.946Z","comments":true,"path":"2019/07/08/è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·Ansible/","link":"","permalink":"https://nymrli.top/2019/07/08/è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·Ansible/","excerpt":"","text":"ç®€ä»‹ â€‹ ansibleæ˜¯æ–°å‡ºç°çš„è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ï¼ŒåŸºäºPythonå¼€å‘ï¼Œé›†åˆäº†ä¼—å¤šè¿ç»´å·¥å…·ï¼ˆpuppetã€chefã€funcã€fabricï¼‰çš„ä¼˜ç‚¹ï¼Œå®ç°äº†æ‰¹é‡ç³»ç»Ÿé…ç½®ã€æ‰¹é‡ç¨‹åºéƒ¨ç½²ã€æ‰¹é‡è¿è¡Œå‘½ä»¤ç­‰åŠŸèƒ½ã€‚ ansibleæ˜¯åŸºäº paramiko å¼€å‘çš„,å¹¶ä¸”åŸºäºæ¨¡å—åŒ–å·¥ä½œï¼Œæœ¬èº«æ²¡æœ‰æ‰¹é‡éƒ¨ç½²çš„èƒ½åŠ›ã€‚çœŸæ­£å…·æœ‰æ‰¹é‡éƒ¨ç½²çš„æ˜¯ansibleæ‰€è¿è¡Œçš„æ¨¡å—ï¼Œansibleåªæ˜¯æä¾›ä¸€ç§æ¡†æ¶ã€‚ansibleä¸éœ€è¦åœ¨è¿œç¨‹ä¸»æœºä¸Šå®‰è£…client/agentsï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŸºäºsshæ¥å’Œè¿œç¨‹ä¸»æœºé€šè®¯çš„ã€‚ansibleç›®å‰å·²ç»å·²ç»è¢«çº¢å¸½å®˜æ–¹æ”¶è´­ï¼Œæ˜¯è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ä¸­å¤§å®¶è®¤å¯åº¦æœ€é«˜çš„ï¼Œå¹¶ä¸”ä¸Šæ‰‹å®¹æ˜“ï¼Œå­¦ä¹ ç®€å•ã€‚æ˜¯æ¯ä½è¿ç»´å·¥ç¨‹å¸ˆå¿…é¡»æŒæ¡çš„æŠ€èƒ½ä¹‹ä¸€ã€‚ ansible ç‰¹ç‚¹ éƒ¨ç½²ç®€å•ï¼Œåªéœ€åœ¨ä¸»æ§ç«¯éƒ¨ç½²Ansibleç¯å¢ƒï¼Œè¢«æ§ç«¯æ— éœ€åšä»»ä½•æ“ä½œï¼› é»˜è®¤ä½¿ç”¨SSHåè®®å¯¹è®¾å¤‡è¿›è¡Œç®¡ç†ï¼› æœ‰å¤§é‡å¸¸è§„è¿ç»´æ“ä½œæ¨¡å—ï¼Œå¯å®ç°æ—¥å¸¸ç»å¤§éƒ¨åˆ†æ“ä½œï¼› é…ç½®ç®€å•ã€åŠŸèƒ½å¼ºå¤§ã€æ‰©å±•æ€§å¼ºï¼› æ”¯æŒAPIåŠè‡ªå®šä¹‰æ¨¡å—ï¼Œå¯é€šè¿‡Pythonè½»æ¾æ‰©å±•ï¼› é€šè¿‡Playbooksæ¥å®šåˆ¶å¼ºå¤§çš„é…ç½®ã€çŠ¶æ€ç®¡ç†ï¼› è½»é‡çº§ï¼Œæ— éœ€åœ¨å®¢æˆ·ç«¯å®‰è£…agent(ä»£ç†)ï¼Œæ›´æ–°æ—¶ï¼Œåªéœ€åœ¨æ“ä½œæœºä¸Šè¿›è¡Œä¸€æ¬¡æ›´æ–°å³å¯ï¼› æä¾›ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€æ“ä½œæ€§å¼ºçš„Webç®¡ç†ç•Œé¢å’ŒREST APIæ¥å£â€”â€”AWXå¹³å°ã€‚ Ansibleé€‚ç”¨äºä¸­å°å‹åº”ç”¨ç¯å¢ƒï¼›SaltStacké€‚åˆå¤§å‹ï¼ˆAnsibleç”±äºä¸éœ€è¦ä»£ç†,åªæ˜¯é€šè¿‡ssh,å› æ­¤åªèƒ½æ€§èƒ½ä¸å¦‚Saltstacké«˜ï¼‰ Ansibleå®‰è£… æ³•1.åœ¨å·²æœ‰python-pipçš„æƒ…å†µä¸‹ 1$ pip install ansible æ³•2: 1234sudo apt-get install software-properties-commonsudo apt-add-repository ppa:ansible/ansiblesudo apt-get updatesudo apt-get install ansible å¦‚æœå®‰è£…å¤±è´¥è¯·æ¢æºsudo sed -i -re 's/\\w+\\.archive\\.ubuntu\\.com/archive.ubuntu.com/g' /etc/apt/sources.list,æ›´æ–°å®‰è£…åº“sudo apt-get update ansible æ¶æ„å›¾ ä¸Šå›¾ä¸­æˆ‘ä»¬çœ‹åˆ°çš„ä¸»è¦æ¨¡å—å¦‚ä¸‹ï¼š Ansibleï¼šAnsibleæ ¸å¿ƒç¨‹åºã€‚ HostInventoryï¼šä¸»æœºæ¸…å• , è®°å½•ç”±Ansibleç®¡ç†çš„ä¸»æœºä¿¡æ¯ï¼ŒåŒ…æ‹¬ç«¯å£ã€å¯†ç ã€ipç­‰ã€‚ Playbooksï¼šâ€œå‰§æœ¬â€YAMLæ ¼å¼æ–‡ä»¶ï¼Œå¤šä¸ªä»»åŠ¡å®šä¹‰åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå®šä¹‰ä¸»æœºéœ€è¦è°ƒç”¨å“ªäº›æ¨¡å—æ¥å®Œæˆçš„åŠŸèƒ½ã€‚ CoreModulesï¼šæ ¸å¿ƒæ¨¡å—ï¼Œä¸»è¦æ“ä½œæ˜¯é€šè¿‡è°ƒç”¨æ ¸å¿ƒæ¨¡å—æ¥å®Œæˆç®¡ç†ä»»åŠ¡ã€‚ CustomModulesï¼šè‡ªå®šä¹‰æ¨¡å—ï¼Œå®Œæˆæ ¸å¿ƒæ¨¡å—æ— æ³•å®Œæˆçš„åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§è¯­è¨€ã€‚ ConnectionPluginsï¼šè¿æ¥æ’ä»¶ï¼ŒAnsibleå’ŒHosté€šä¿¡ä½¿ç”¨ ansibleé…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåº æ£€æŸ¥ç¯å¢ƒå˜é‡ANSIBLE_CONFIGæŒ‡å‘çš„è·¯å¾„æ–‡ä»¶(export ANSIBLE_CONFIG=/etc/ansible.cfg)ï¼› HOMEç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶~/.ansible.cfg æ£€æŸ¥å½“å‰ç›®å½•ä¸‹çš„ansible.cfgé…ç½®æ–‡ä»¶ï¼› /etc/ansible.cfgæ£€æŸ¥etcç›®å½•çš„é…ç½®æ–‡ä»¶ã€‚ ä½¿ç”¨ç‰¹æ€§ æ¨¡å—åŒ–ï¼šè°ƒç”¨ç‰¹å®šçš„æ¨¡å—ï¼Œå®Œæˆç‰¹å®šä»»åŠ¡ æœ‰Paramikoï¼ŒPyYAMLï¼ŒJinja2ï¼ˆæ¨¡æ¿è¯­è¨€ï¼‰ä¸‰ä¸ªå…³é”®æ¨¡å—æ”¯æŒè‡ªå®šä¹‰æ¨¡å— åŸºäºPythonè¯­è¨€å®ç° éƒ¨ç½²ç®€å•ï¼ŒåŸºäºpythonå’ŒSSHï¼ˆé»˜è®¤å·²å®‰è£…ï¼‰ï¼Œagentlesså®‰å…¨ï¼ŒåŸºäºOpenSSHæ”¯æŒplaybookç¼–æ’ä»»åŠ¡ å¹‚ç­‰æ€§ï¼šä¸€ä¸ªä»»åŠ¡æ‰§è¡Œ1éå’Œæ‰§è¡Œnéæ•ˆæœä¸€æ ·ï¼Œä¸å› é‡å¤æ‰§è¡Œå¸¦æ¥æ„å¤–æƒ…å†µ æ— éœ€ä»£ç†ä¸ä¾èµ–PKIï¼ˆæ— éœ€sslï¼‰å¯ä½¿ç”¨ä»»ä½•ç¼–ç¨‹è¯­è¨€å†™æ¨¡å— YAMLæ ¼å¼ï¼Œç¼–æ’ä»»åŠ¡ï¼Œæ”¯æŒä¸°å¯Œçš„æ•°æ®ç»“æ„ è¾ƒå¼ºå¤§çš„å¤šå±‚è§£å†³æ–¹æ¡ˆ ç®¡ç†æ–¹å¼: Ad-Hocï¼ŒåŠAnsibleå‘½ä»¤ï¼Œä¸»è¦ç”¨äºä¸´æ—¶å‘½ä»¤ä½¿ç”¨åœºæ™¯ Ansible-Playbookï¼Œè„šæœ¬ï¼Œç”¨äºé•¿æœŸè§„åˆ’å¥½ï¼Œå¤§å‹é¡¹ç›®çš„åœºæ™¯ï¼Œéœ€è¦æœ‰æå‰çš„è§„åˆ’ Ansible-playbookï¼ˆå‰§æœ¬ï¼‰æ‰§è¡Œè¿‡ç¨‹ï¼š å°†å·²æœ‰ç¼–æ’å¥½çš„ä»»åŠ¡é›†å†™å…¥Ansible-Playbook é€šè¿‡ansible-playbookå‘½ä»¤åˆ†æ‹†ä»»åŠ¡é›†è‡³é€æ¡ansibleå‘½ä»¤ï¼ŒæŒ‰é¢„å®šè§„åˆ™é€æ¡æ‰§è¡Œ ç›¸å…³æ–‡ä»¶ é…ç½®æ–‡ä»¶ /etc/ansible/ansible.cfg ä¸»é…ç½®æ–‡ä»¶ï¼Œé…ç½®ansibleå·¥ä½œç‰¹æ€§ /etc/ansible/hosts ä¸»æœºæ¸…å• /etc/ansible/roles/å­˜æ”¾è§’è‰²çš„ç›®å½• ç¨‹åº /usr/bin/ansible ä¸»ç¨‹åºï¼Œä¸´æ—¶å‘½ä»¤æ‰§è¡Œå·¥å…· /usr/bin/ansible-doc æŸ¥çœ‹é…ç½®æ–‡æ¡£ï¼Œæ¨¡å—åŠŸèƒ½æŸ¥çœ‹å·¥å…· /usr/bin/ansible-galaxy ä¸‹è½½/ä¸Šä¼ ä¼˜ç§€ä»£ç æˆ–Rolesæ¨¡å—çš„å®˜ç½‘å¹³å° /usr/bin/ansible-playbookå®šåˆ¶è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œç¼–æ’å‰§æœ¬å·¥å…·/usr/bin/ansible-pullè¿œç¨‹æ‰§è¡Œå‘½ä»¤çš„å·¥å…· /usr/bin/ansible-vault æ–‡ä»¶åŠ å¯†å·¥å…· /usr/bin/ansible-console åŸºäºconsoleç•Œé¢ä¸ç”¨æˆ·äº¤äº’çš„æ‰§è¡Œå·¥å…· 1.è®¾ç½®è¢«ç®¡ç†çš„ä¸»æœºæ¸…å•vim /etc/ansible/hosts 2.1å£ä»¤éªŒè¯æ–¹å¼.ansible 192.168.30.101 -m ping -kç”¨è´¦å·å¯†ç å»ç¡®è®¤å—æ§ç«¯çš„èº«ä»½ â–²å¦‚æœå‡ºç°äº†è¿™æ ·çš„æƒ…å†µ,éœ€è¦å…ˆå®‰è£…sshpass , sudo apt install sshpass 1234192.168.100.180 | FAILED! =&gt; &#123; \"failed\": true, \"msg\": \"ERROR! to use the 'ssh' connection type with passwords, you must install the sshpass program\"&#125; 2.2åŸºäºkeyéªŒè¯ 123456789101112$ ssh-keygen$ ssh-copy-id 192.168.30.101Generating public/private rsa key pair.Enter file in which to save the key (/xxxxxx/): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in xxxxxxxxx.Your public key has been saved in xxxxx.The key fingerprint is:SHA256:xxxxxxxxxxxxxxThe key's randomart image is: å¦‚æœè®¾ç½®äº†passphrase,é‚£ä¹ˆé“¾æ¥æ—¶éœ€è¦è¾“å…¥passphrase,å¦‚æœæ˜¯ad-hocå°±ç›¸å½“éº»çƒ¦,è€Œplaybooksä¸­æœ‰è§£å†³æ–¹æ³• ad-hocä½¿ç”¨ å°†host_key_checkingå–æ¶ˆæ³¨é‡Š,å¦åˆ™é“¾æ¥å¯¹è±¡å¿…é¡»åœ¨known_hostsä¸­ 123$ sudo vim /etc/ansible/ansible.cfg uncomment this to disable SSH key host checking#host_key_checking = False æ˜¾ç¤ºæ—¥å¿—,å–æ¶ˆæ³¨é‡Šlog_path = /var/log/ansible.log â–³.ansibleä¸æ˜¯é•¿æœŸæ‰§è¡Œçš„æœåŠ¡,ä¸é•¿æœŸæ‰§è¡Œ,å› æ­¤ä¿®æ”¹é…ç½®åä¸éœ€è¦é‡å¯æœåŠ¡ 12345ansible &lt;host-pattern&gt;[-m module_name][-a args]ansible dbsrvs -m command -a 'ls /root'-u wang-k -b-K -u ä»¥wangçš„èº«ä»½ç™»å½•,-bå°†wangåˆ‡æ¢æˆroot,-K è¾“å…¥rootå¯†ç . -m æŒ‡å®šæ¨¡å—å,-aæŒ‡å®šæ¨¡å—å‚æ•° ansibleçš„Host-patternå³åŒ¹é…ä¸»æœºçš„åˆ—è¡¨ 123456789Allï¼šè¡¨ç¤ºæ‰€æœ‰Inventoryä¸­çš„æ‰€æœ‰ä¸»æœºansible all-m pingï¼šé€šé…ç¬¦ansible&quot;&quot;-m pingansible 192.168.1.-m pingansible&quot;srvs&quot;-m pingæˆ–å…³ç³»ansible&quot;websrvsiappsrvs&quot;-m pingansible&quot;192.168.1.10ï¼š192.168.1.20&quot;-m ping é€»è¾‘ä¸ ansible &quot;websrvs:&amp;dbsrvs&quot; -m pingåœ¨websrvsç»„å¹¶ä¸”åœ¨dbsrvsç»„ä¸­çš„ä¸»æœº,å•å¼•å·ã€åŒå¼•å·éƒ½è¡Œ é€»è¾‘é ansible 'websrvs:ldbsrvs'-m pingåœ¨websrvsç»„ï¼Œä½†ä¸åœ¨dbsrvsç»„ä¸­çš„ä¸»æœº æ³¨æ„ï¼šæ­¤å¤„ä¸ºå•å¼•å· ç»¼åˆé€»è¾‘ ansible 'websrvs:dbsrvs:&amp;appsrvs:lftpsrvs'-m ping æ­£åˆ™è¡¨è¾¾å¼ ansible &quot;websrvs:&amp;dbsrvs&quot; -m ping ansible &quot;~ï¼ˆwebldbï¼‰.*\\.magedu\\.com&quot; -m ping ansible command creates= å­˜åœ¨,ä¸æ‰§è¡Œ removes= ä¸å­˜åœ¨,ä¸æ‰§è¡Œ chdir= åˆ‡æ¢ç›®å½•åæ‰§è¡Œ å‘½ä»¤è¿”å›é¢œè‰²è¯´æ˜ ç»¿è‰²ï¼š è¡¨ç¤ºæŸ¥çœ‹ä¿¡æ¯ï¼Œå¯¹è¿œç¨‹ä¸»æœºæœªåšæ”¹åŠ¨çš„å‘½ä»¤ çº¢è‰²ï¼š æ‰¹é‡ç®¡ç†äº§ç”Ÿé”™è¯¯ä¿¡æ¯ é»„è‰²ï¼š å¯¹è¿œç¨‹ä¸»æœºåšäº†ç›¸åº”æ”¹åŠ¨ ç´«è‰²ï¼š å¯¹æ“ä½œæå‡ºå»ºè®®æˆ–å¿ å‘Š å¸¸ç”¨æ¨¡å— command shell : è¿œç¨‹èŠ‚ç‚¹æ‰§è¡Œæ¨¡å— ansible all -m shel1 -a 'getenforce' script: åœ¨è¿œç¨‹æ‰§è¡Œæœ¬åœ°çš„è„šæœ¬ ansible test -m script -a &quot;/sh/test.sh&quot; copy : å¤åˆ¶æ¨¡å— ansible all -m copy -a 'src=/root/ansible/selinux dest=/etc/selinux/config backup=yes' ansible all -m copy-a 'src=/etc/shadow dest=/data/mode=000 owner=wang' fetch : è¿œç¨‹è·å– ansible srv-m fetch -a 'src=/root/a. sh dest=/data/scripts' file : æ–‡ä»¶æ“ä½œ,åˆ é™¤ã€åˆ›å»º ansible test -m file -a &quot;dest=/tmp/hello state=touch&quot; unarchieveã€achieve : å‹ç¼©è§£å‹ ansible test -m unarchive -a 'src=/srv/tomcat8/apache-tomcat-8.0.29.tar.gz dest=/usr/local copy=no mode=0755' cron å¼€å¯ansible all-m cron -a 'minute=* weekday=1,3,5 jcb=&quot;/usr/bin/wall FBI warning&quot; name=warningcron' ç¦ç”¨ansible all -m cron -a 'disabled=true job=&quot;/usr/bin/wall FBI warning&quot;name=warningcron'ã€å¯ç”¨ansible all -m cron -a 'disabled=falsejob=&quot;/usr/bin/wall FBI warning&quot;name=warningcron' åˆ é™¤ansible all -m cron -a 'job=&quot;/usr/bin/wall FBI warning&quot;name=warningcron state=absent' aptã€yum ansible all -m apt 'name=vim update_cache=yes' user group service service:name=httpd state=started enabled=yes setup ansible websrvs -m setup -a 'filter=*address*' template(ä¸èƒ½æ”¾åœ¨ad-hoc)ä¸­,åªèƒ½åœ¨playbookä¸­ä½¿ç”¨ commandæ¨¡å—åœ¨é’ˆå¯¹ç®¡é“ã€*é‡å®šå‘æœ‰â€¦**æœ‰é—®é¢˜==&gt;ä½¿ç”¨shellæ¨¡å— å¸¸ç”¨æ¨¡å—ä»‹ç» â–²ä¸€èˆ¬ present è¡¨ç¤ºç”Ÿæˆã€ä¸‹è½½, absent è¡¨ç¤ºåˆ é™¤æˆ–å¸è½½ã€‚ ç³»åˆ—å‘½ä»¤ galaxy ansible-galaxy install geerlingguy.nginx å…¶ä¸­geerlingguyä¸ºè§’è‰²åœ¨./ansible/roles/ playbooks Yaml YAML Ainâ€™t Markup Languageï¼Œå³YAMLä¸æ˜¯XMLã€‚ä¸è¿‡ï¼Œåœ¨å¼€å‘çš„è¿™ç§è¯­è¨€æ—¶ï¼ŒYAMLçš„æ„æ€å…¶å®æ˜¯ï¼šâ€œYet Another Markup Languageâ€ï¼ˆä»æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼‰ æ ¸å¿ƒå…ƒç´  Hosts æ‰§è¡Œçš„è¿œç¨‹ä¸»æœºåˆ—è¡¨ Tasks ä»»åŠ¡é›† Varniables å†…ç½®å˜é‡æˆ–è‡ªå®šä¹‰å˜é‡åœ¨playbookä¸­è°ƒç”¨Templates æ¨¡æ¿ï¼Œå¯æ›¿æ¢æ¨¡æ¿æ–‡ä»¶ä¸­çš„å˜é‡å¹¶å®ç°ä¸€äº›ç®€å•é€»è¾‘çš„æ–‡ä»¶Handlers å’Œnotityç»“åˆä½¿ç”¨ï¼Œç”±ç‰¹å®šæ¡ä»¶è§¦å‘çš„æ“ä½œï¼Œæ»¡è¶³æ¡ä»¶æ–¹æ‰æ‰§è¡Œï¼Œå¦åˆ™ä¸æ‰§è¡Œ tags æ ‡ç­¾æŒ‡å®šæŸæ¡ä»»åŠ¡æ‰§è¡Œï¼Œç”¨äºé€‰æ‹©è¿è¡Œplaybookä¸­çš„éƒ¨åˆ†ä»£ç ã€‚ ansibleå…·æœ‰å¹‚ç­‰æ€§ï¼Œå› æ­¤ä¼šè‡ªåŠ¨è·³è¿‡æ²¡æœ‰å˜åŒ–çš„éƒ¨åˆ†ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œæœ‰äº›ä»£ç ä¸ºæµ‹è¯•å…¶ç¡®å®æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„æ—¶é—´ä¾ç„¶ä¼šéå¸¸åœ°é•¿ã€‚æ­¤æ—¶ï¼Œå¦‚æœç¡®ä¿¡å…¶æ²¡æœ‰å˜åŒ–ï¼Œå°±å¯ä»¥é€šè¿‡tagsè·³è¿‡æ­¤äº›ä»£ç ç‰‡æ–­ ansible-playbook-t tagsname useradd.yml åŠ å¯† åŠ å¯†ansible-vault encrypt hello.yml è§£å¯†æŸ¥çœ‹ansible-vault view hello.yml é‡æ–°åˆ¶å®šå£ä»¤ansible-vault rekey hello.yml åŸºç¡€ç»„ä»¶ å¦‚æœå‘½ä»¤æˆ–è„šæœ¬çš„é€€å‡ºç ä¸ä¸ºé›¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ›¿ä»£ 123tasks: - name:run this command and ignore the result shell: /usr/bin/somecommand || /bin/true æˆ–è€…ä½¿ç”¨ignore_errorsæ¥å¿½ç•¥é”™è¯¯ä¿¡æ¯ï¼š 1234tasksï¼š - name:run this command and ignore the result shell:/usr/bin/somecommandignore_errors:True è¿è¡Œplaybookçš„æ–¹å¼ ansible-playbook &lt;filename.yml&gt;..[options] å¸¸è§é€‰é¡¹ -check(-C)åªæ£€æµ‹å¯èƒ½ä¼šå‘ç”Ÿçš„æ”¹å˜ï¼Œä½†ä¸çœŸæ­£æ‰§è¡Œæ“ä½œ --list-hostsåˆ—å‡ºè¿è¡Œä»»åŠ¡çš„ä¸»æœº --limitä¸»æœºåˆ—è¡¨åªé’ˆå¯¹ä¸»æœºåˆ—è¡¨ä¸­çš„ä¸»æœºæ‰§è¡Œ -Væ˜¾ç¤ºè¿‡ç¨‹-vw-vwvæ›´è¯¦ç»† handlerså’Œnotify 12345678910tasks: - name: install httpd package yum: name=httpd - name: copy conf file copy:src=files/httpd.conf dest=/etc/httpd/conf/backup=yes notify: restart service - name: start service service: name=httpd state=started enabled=yes handlers: - name:restart service service:name=httpd state=restarted æ ‡ç­¾ æŒ‡å®šæ ‡ç­¾æ¥æ‰§è¡ŒæŒ‡å®šä»»åŠ¡ ansible-playbook -t rshttp,xxxx httpd.yml å˜é‡ä½¿ç”¨ jinjia2è¯­æ³• 1&#123;&#123; var &#125;&#125; æ³•ä¸€ï¼šansible setup facts è¿œç¨‹ä¸»æœºçš„æ‰€æœ‰å˜é‡éƒ½å¯ç›´æ¥è°ƒç”¨ æ³•äºŒï¼šåœ¨/etc/ansible/hostsä¸­å®šä¹‰æ™®é€šå˜é‡ï¼šä¸»æœºç»„ä¸­ä¸»æœºå•ç‹¬å®šä¹‰ï¼Œä¼˜å…ˆçº§é«˜äºå…¬å…±å˜é‡å…¬å…±ï¼ˆç»„ï¼‰å˜é‡ï¼šé’ˆå¯¹ä¸»æœºç»„ä¸­æ‰€æœ‰ä¸»æœºå®šä¹‰ç»Ÿä¸€å˜é‡ 123456[websrvs]192.168.30.101 http_port=81192.168.30.102 http_port=82[websrvs:vars]nodename=www domainname=magedu.com æ³•ä¸‰ï¼šansible-playbook -e 'var=xxx' app.htmlï¼Œä¼˜å…ˆçº§æ¯”æ³•äºŒé«˜ æ³•å››: 1234567- hosts: remote_user: root vars: - var: xxx tasks: - name: yum: ... è¿­ä»£æœºåˆ¶ 1234567tasks: - name: file: name=/data/&#123;&#123; item &#125;&#125; with_items: - file1 - file2 - file3 è¿­ä»£åµŒå¥—è‡ªå˜é‡ 123456789101112131415- hosts: websrvs remote_user: root tasks: - name: add some groups group: name=&#123;&#123; item ]&#125; state=present with_items: - group1 - group2 - group3 - name: add some users user: name=&#123;&#123; item. name ]&#125; group=&#123;&#123; item. group )&#125; state=present with items: - &#123; name: user1, group:' group1'&#125; - &#123; name: 'user2, group:' group2'&#125; - &#123; name: 'user3', group:' group3'&#125; 1234&#123;% for vhost in nginx_vhosts%&#125;server&#123;listen&#123;&#123; vhost &#125;&#125;&#123;% endfor %&#125; 12345678910- hosts: websrvs remote_user: root vars: ports: - listen_port: 81 - listen_port: 82 - listen_port: 83 tasks: - name: copy conf template: src=forl.conf.j2 dest=/data/for1.conf æ¡ä»¶åˆ¤æ–­ 1234567891011121314151617- hosts: all remote_user: root tasks:#å¦‚æœç³»ç»Ÿä¸­å­˜åœ¨ä¸»æœºåä¸ºnfsæˆ–è€…backupçš„ä¸»æœºï¼Œåˆ™åˆ›å»ºæ–‡ä»¶ - name: Create File file: path=/tmp/this_is_&#123;&#123; ansible_hostname &#125;&#125;_file state=touch when: (ansible_hostname == \"nfs\") or (ansible_hostname == \"backup\") #ç³»ç»Ÿä¸ºcentosçš„ä¸»æœºæ‰ä¼šæ‰§è¡Œ - name: Centos Install httpd yum: name=httpd state=present when: (ansible_distribution == \"CentOS\") #ç³»ç»Ÿä¸ºubuntuçš„ä¸»æœºæ‰ä¼šæ‰§è¡Œ - name: Ubuntu Install httpd yum: name=httpd2 state=present when: (ansible_distribution == \"Ubuntu\") 12345tasks: - name: run df -h sudo_user: test sudo: yes shell: name=df -h ansible sudo å³å°†å˜æ›´ä¸ºbecome 1234567[s21]#ä»£æ›¿åŸæ¥192.168.1.21 ansible_ssh_user=i ansible_ssh_pass=içš„å†™æ³•192.168.1.21 ansible_ssh_user=i ansible_ssh_private_key_file=/home/i/.ssh/id_rsa ansible_become=true ansible_become_user=root ansible_become_pass=&apos;i&apos; è·å–æ‰§è¡Œå‘½ä»¤çš„è¾“å‡º â€“Register[è½¬] 1234567- name: echo date command: date register: date_output - name: echo date_output command: echo \"30\" when: date_output.stdout.split(' ')[2] == \"30\" åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨[è½¬] 12345678910- name: judge a file or dir is exits shell: ls /home/sfy ignore_errors: True register: result- shell: echo \"file exit\" when: result|succeeded- shell: echo \"file not exit\" when: result|failed æƒé™é—®é¢˜ å…³äºæƒé™é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ansible -hæŸ¥çœ‹ 123456789101112131415161718192021222324Privilege Escalation Options: control how and which user you become as on target hosts -s, --sudo run operations with sudo (nopasswd) (deprecated, use become) -U SUDO_USER, --sudo-user=SUDO_USER desired sudo user (default=root) (deprecated, use become) -S, --su run operations with su (deprecated, use become) -R SU_USER, --su-user=SU_USER run operations with su as this user (default=None) (deprecated, use become) -b, --become run operations with become (does not imply password prompting) --become-method=BECOME_METHOD privilege escalation method to use (default=sudo), valid choices: [ sudo | su | pbrun | pfexec | doas | dzdo | ksu | runas | pmrun ] --become-user=BECOME_USER run operations as this user (default=root) --ask-sudo-pass ask for sudo password (deprecated, use become) --ask-su-pass ask for su password (deprecated, use become) -K, --ask-become-pass ask for privilege escalation password â–²å…¶ä¸­deprecatedè¡¨ç¤ºæ˜¯å°†è¢«å¼ƒç”¨çš„ï¼Œå°†å…¨éƒ¨è¢«becomeä»£æ›¿ï¼Œï¼ˆå³å‚æ•°-bï¼‰ å…³äº-bå’Œ-Kçš„ä½œç”¨ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæµ‹è¯• 12345$ ansible test -m shell -a \"whoami\" -K mrlièº«ä»½ä½¿ç”¨sudoæƒé™$ ansible test -m shell -a \"whoami\" -b åˆ‡æ¢åˆ°rootèº«ä»½$ ansible test -m shell -a \"whoami\" -b -K â–²è¿™ä¸ªæƒé™é—®é¢˜åœ¨ansibleæ‰§è¡Œshellè„šæœ¬çš„æ—¶å€™éœ€è¦ç‰¹åˆ«æ³¨æ„ ä¸ªäººå†™è¿‡çš„Playbook-demo 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071- hosts: 192.168.100.190 remote_user: apollo3d become: yes vars: spark: /home/apollo3d/SimSpark/spark/build rcssserver3d: /home/apollo3d/SimSpark/rcssserver3d/build tasks: - name: judge former platform directory Exsit shell: 'ls /home/apollo3d/simspark-0.3.0/build' ignore_errors: True register: formerDirExsit - name: uninstall command: 'chdir=&#123;&#123; item &#125;&#125; make uninstall' with_items: - /home/apollo3d/simspark-0.3.0/build - /home/apollo3d/rcssserver3d-0.7.1/build when: formerDirExsit|succeeded - name: remove file: dest: '&#123;&#123; item &#125;&#125;' state: absent with_items: - /home/apollo3d/simspark-0.3.0/ - /home/apollo3d/rcssserver3d-0.7.1/ when: formerDirExsit|succeeded - name: judge new zip shell: ls /home/apollo3d/SimSpark.tar.gz ignore_errors: True register: zipExsit - name: jieya unarchive: src: /home/apollo3d/SimSpark.tar.gz dest: /home/apollo3d/ copy: no mode: 0755 when: zipExsit|succeeded - name: mk dirs file: \"dest=&#123;&#123; item &#125;&#125; state=directory\" with_items: - /home/apollo3d/SimSpark/spark/build - /home/apollo3d/SimSpark/rcssserver3d/build when: zipExsit|succeeded - name: install1 command: 'chdir=&#123;&#123; spark &#125;&#125; &#123;&#123; item &#125;&#125;' with_items: - cmake .. - make -j4 - make install when: zipExsit|succeeded - name: install2 command: 'chdir=&#123;&#123; rcssserver3d &#125;&#125; &#123;&#123; item &#125;&#125;' with_items: - cmake .. - make -j4 - make install when: zipExsit|succeeded - name: config shell: '&#123;&#123; item &#125;&#125;' with_items: - echo '/usr/local/lib/simspark\\n/usr/local/lib/rcssserver3d' | sudo tee /etc/ld.so.conf.d/spark.conf - ldconfig when: zipExsit|succeeded roles ansilbeè‡ª1.2ç‰ˆæœ¬å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œç”¨äºå±‚æ¬¡æ€§ã€ç»“æ„åŒ–åœ°ç»„ç»‡playbookã€‚rolesèƒ½å¤Ÿæ ¹æ®å±‚æ¬¡å‹ç»“æ„è‡ªåŠ¨è£…è½½å˜é‡æ–‡ä»¶ã€tasksä»¥åŠhandlersç­‰ã€‚è¦ä½¿ç”¨rolesåªéœ€è¦åœ¨playbookä¸­ä½¿ç”¨includeæŒ‡ä»¤å³å¯ã€‚ç®€å•æ¥è®²ï¼Œroleså°±æ˜¯é€šè¿‡åˆ†åˆ«å°†å˜é‡ã€æ–‡ä»¶ã€ä»»åŠ¡ã€æ¨¡æ¿åŠå¤„ç†å™¨æ”¾ç½®äºå•ç‹¬çš„ç›®å½•ä¸­ï¼Œå¹¶å¯ä»¥ä¾¿æ·åœ°includeå®ƒä»¬çš„ä¸€ç§æœºåˆ¶ã€‚è§’è‰²ä¸€èˆ¬ç”¨äºåŸºäºä¸»æœºæ„å»ºæœåŠ¡çš„åœºæ™¯ä¸­ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯ç”¨äºæ„å»ºå®ˆæŠ¤è¿›ç¨‹ç­‰åœºæ™¯ä¸­ å¤æ‚åœºæ™¯ï¼šå»ºè®®ä½¿ç”¨rolesï¼Œä»£ç å¤ç”¨åº¦é«˜ å˜æ›´æŒ‡å®šä¸»æœºæˆ–ä¸»æœºç»„ å¦‚å‘½åä¸è§„èŒƒç»´æŠ¤å’Œä¼ æ‰¿æˆæœ¬å¤§ æŸäº›åŠŸèƒ½éœ€å¤šä¸ªPlaybookï¼Œé€šè¿‡Includeså³å¯å®ç° rolesç›®å½•ç»“æ„ï¼š playbook.yml roles/ project/ tasks/ files/ vars/ä¸å¸¸ç”¨ default/ä¸å¸¸ç”¨ templates/ handlers/ meta/ä¸å¸¸ç”¨ é™„å½• Ansible é…ç½®SSHå…¬é’¥è®¤è¯ å®‰è£…å¥½Ansibleä¹‹åï¼Œè¦å¼€å§‹å·¥ä½œï¼Œè¿˜éœ€è¦åˆ›å»ºä¸€ä¸ªè¢«æ§åˆ¶ä¸»æœºåˆ—è¡¨æ¸…å•.é»˜è®¤è¯»å–/etc/ansible/hosts,å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¦æ”¶åˆ°è¿›è¡Œåˆ›å»º. ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ ANSIBLE_INVENTORY æ¥è®¾ç½®é»˜è®¤æ¸…å•æ–‡ä»¶,1.9ç‰ˆæœ¬ä¹‹å‰ç”¨ ANSIBLE_HOSTSexport ANSIBLE_INVENTORY=~/ansible_hosts åˆ›å»ºSSHè®¤è¯æ–‡ä»¶ è¯¥æ“ä½œæ˜¯åœ¨æ§åˆ¶ä¸»æœºä¸­è¿›è¡Œã€‚ SSHè®¤è¯æ–‡ä»¶åˆ›å»ºæˆåŠŸä¹‹åï¼Œå°†æ§åˆ¶ä¸»æœºçš„å…¬é’¥æ–‡ä»¶ id_rsa.pub æ·»åŠ åˆ°è¢«æ§åˆ¶ä¸»æœºçš„~/.ssh/authorized_keysã€‚ \\ ~æŒ‡çš„æ˜¯æ§åˆ¶ä¸»æœºå’Œè¢«æ§åˆ¶ä¸»æœºé€šä¿¡çš„ç”¨æˆ·å®¶ç›®å½•ã€‚ \\ id_rsa æ˜¯æ§åˆ¶ä¸»æœºçš„ç§é’¥æ–‡ä»¶ï¼Œè¦ä¸¥æ ¼ä¿ç®¡ã€‚ \\ id_rsa.pubæ˜¯æ§åˆ¶ä¸»æœºçš„å…¬é’¥æ–‡ä»¶ï¼Œå¯éšæ„åˆ†å‘ã€‚ æ³•ä¸€:ansible all -m shell -a &quot;cat /tmp/authorized_keys &gt;&gt; /root/.ssh/authorized_keys&quot; -k â–²æ³¨æ„ å¦‚æœè¢«æ§åˆ¶ä¸»æœºä¸­ç”¨æˆ·å®¶ç›®å½•ä¸­ä¸å­˜åœ¨.sshç›®å½•ï¼Œå°±åˆ›å»ºã€‚ ç„¶åå°†ä¸Šä¼ çš„å…¬é’¥æ–‡ä»¶è¿½åŠ åˆ°ç”¨æˆ·çš„authorized_keysæ–‡ä»¶ä¸­ æ³•äºŒ: (äº²æµ‹) é€šè¿‡authorized_keyæ¨¡å—æ¥è¿›è¡Œæ·»åŠ  1ansible para -i /tmp/inventory.txt -m authorized_key -a \"user=root key='&#123;&#123; lookup('file','/root/.ssh/id_rsa.pub') &#125;&#125;'\" -k lookup('file','/root/.ssh/id_rsa.pub') æ˜¯è¯»å–/root/.ssh/id_rsa.pubçš„å†…å®¹ ä½¿ç”¨å…¬é’¥å¯†é’¥å¯¹éªŒè¯çš„æ–¹æ³•ç™»å½• 1. åœ¨æœ¬åœ°ä¹Ÿåˆ›å»ºä¸€ä¸ª apple ç”¨æˆ·,å¹¶åˆ›å»º /home/apple/.ssh/ ç›®å½• $ useradd apple -s /bin/bash -d /home/apple/ åˆ›å»º .ssh ç›®å½•mkdir /home/apple/.ssh ä¿®æ”¹ .ssh ç›®å½•çš„æƒé™chmod 700 /home/apple/.ssh åˆ›å»º /home/apple/.ssh/known_hosts æ–‡ä»¶ 2.æ”¶é›†æ‰€æœ‰è¿œç¨‹ä¸»æœºçš„å…¬é’¥ï¼Œä¿å­˜åœ¨ä¸Š /home/apple/.ssh/known_hosts æ–‡ä»¶ã€‚è¿™ä¸€æ­¥çš„ä½œç”¨ï¼Œæ˜¯ä¸ºäº†åœ¨åé¢ç¬¬ä¸€æ¬¡ssh è¿æ¥æ—¶ï¼Œä¸éœ€è¦å†è¾“å¯†ç ã€‚ æ”¶é›†æ‰€æœ‰è¿œç¨‹ä¸»æœºçš„ å…¬é’¥ï¼Œä¸»è¦æ˜¯åˆ©ç”¨ ssh-keyscan å‘½ä»¤ï¼šssh-keyscan -f ip.txt &gt;&gt; /home/apple/.ssh/known_hosts è¯´æ˜ï¼š ip.txt æ–‡ä»¶å­˜æ”¾æ‰€æœ‰çš„è¿œç¨‹ä¸»æœº ip åœ°å€ï¼Œä¸€è¡Œä»£è¡¨ä¸€å°ä¸»æœºã€‚ 3.åˆ›å»ºå…¬é’¥ç§é’¥å¯¹ï¼š ä¸€èˆ¬åœ¨å¯¹åº”ç”¨æˆ·çš„ /home/apple/.ssh/ ç›®å½•ä¸‹åˆ›å»ºã€‚è¿™ä¹Ÿä¸æ˜¯å¼ºåˆ¶çš„ï¼Œå› ä¸ºåœ¨ssh å‘èµ·è¿æ¥æ—¶ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨çš„ç§é’¥æ–‡ä»¶ã€‚ ssk-keygen -t rsa ä¸€ç›´æŒ‰å›è½¦é”®å°±å¯ä»¥äº†ã€‚ä½†è¦æ³¨æ„ç”Ÿæˆçš„ id_rsa å’Œ id_rsa.pub å­˜æ”¾çš„è·¯å¾„ã€‚ 4.å°†å…¬é’¥æ¨é€åˆ°æ‰€æœ‰çš„è¿œç¨‹ä¸»æœº æˆ‘ä»¬ç¼–å†™playbook æ–‡ä»¶ï¼Œåˆ©ç”¨authorized_key æ¨¡å—å°±å¯ä»¥å¿«é€Ÿå®Œæˆï¼š 12345678[root@centos_7 roles]$ cat ssh-addkey.yml ---- hosts: apps å¯¹apps ç»„é‡Œçš„æ‰€æœ‰è¿œç¨‹ä¸»æœº gather_facts: False tasks: - name: install sshkey authorized_key: user: apple key: \"&#123;&#123; lookup('file', '/home/apple/.ssh/id_rsa.pub') &#125;&#125;\" state: present è¯´æ˜ï¼š åœ¨å‰é¢1,2,3æ­¥ä¸­ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†å…¬ç§é’¥å¯¹äº†ã€‚æ¨é€åˆ°è¿œç¨‹ä¸»æœºï¼Œå¯ä»¥æ‰‹åŠ¨æ¨é€ï¼Œæˆ–è€…ä½¿ç”¨scp å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºã€‚ä½†æ˜¯åˆ©ç”¨scp å¤åˆ¶ä¹‹åï¼Œè¿˜éœ€è¦ä¿®æ”¹è¿œç¨‹ä¸»æœºä¸Šçš„ /home/apple/.ssh/authorize_keys æ–‡ä»¶çš„æƒé™ç­‰ç­‰ã€‚ ansible çš„ authorized_key æ¨¡å—å°±è‡ªåŠ¨å¸®æˆ‘ä»¬åšäº†è¿™äº›å·¥ä½œã€‚ æ‰§è¡Œï¼Œ ansible-playbook ssh-addkye.yml åœ¨å¤šå°è¿œç¨‹ä¸»æœºä¸­åˆ›å»ºç”¨æˆ· ä¸ç”¨ansibleï¼Œå•ä¸ªæ“ä½œ 1234567891011121314151617 åœ¨ root ç”¨æˆ·ä¸‹è¿è¡Œè¿™æ¡å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œyangxg æ˜¯ç”¨æˆ·å å› ä¸ºæˆ‘å«æ¨å­¦å…‰ï¼Œæ‰€ä»¥æˆ‘å–çš„ç”¨æˆ·åæ˜¯ yangxg é€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„ç”¨æˆ·åï¼Œä¸ä¸€å®šéå¾—å’Œæˆ‘çš„ç›¸åŒroot@localhost:~ useradd -m -s /bin/bash yangxg æŠŠæ–°åˆ›å»ºçš„ç”¨æˆ·åŠ å…¥è¶…çº§æƒé™ç»„root@localhost:~ usermod -a -G sudo yangxg ä¸ºæ–°ç”¨æˆ·è®¾ç½®å¯†ç  æ³¨æ„åœ¨è¾“å¯†ç çš„æ—¶å€™ä¸ä¼šæœ‰å­—ç¬¦æ˜¾ç¤ºï¼Œä¸è¦ä»¥ä¸ºé”®ç›˜åäº†ï¼Œæ­£å¸¸è¾“å…¥å³å¯root@localhost:~ passwd yangxg åˆ‡æ¢åˆ°åˆ›å»ºçš„æ–°ç”¨æˆ·root@localhost:~ su - yangxg åˆ‡æ¢æˆåŠŸï¼Œ@ç¬¦å·å‰é¢å·²ç»æ˜¯æ–°ç”¨æˆ·åè€Œä¸æ˜¯ root äº†yangxg@localhost:~$ ansible 1234567891011121314---- hosts: all vars: user: test password: \"$6$rounds=100000$O2BHfT2XIF6oDb9w$8Hhv4vOrLN6JF/nRVYDd8zZdnn9TNkQutyYYywIcPF2kRiHgkwAjqHIN7sDUkd1DcjLRABWT9ULHZPBOF2bZS/\" remote_user: root tasks: - name: Add user &#123;&#123; user &#125;&#125; user: name=&#123;&#123;user&#125;&#125; comment=\"ceph user\" password=&#123;&#123; password &#125;&#125; - name: Config /etc/sudoers lineinfile: dest=/etc/sudoers state=present line='&#123;&#123;item&#125;&#125;' validate='visudo -cf %s' with_items: - \"&#123;&#123; user&#125;&#125; ALL=(ALL) NOPASSWD: ALL\" - \"Defaults: &#123;&#123;user&#125;&#125; !requiretty\" 12345678$ python -c 'import crypt; print crypt.crypt(\"rescue\", \"hadoop\")' hadoopä¸ºsaltï¼Œå¯ä»¥æ”¹æˆå…¶ä»–çš„ã€‚rescueæ˜¯éœ€è¦åŠ å¯†çš„å†…å®¹$ ansible rescue -m user -a \"name=rescue shell=/bin/bash home=/home/rescue password= state=present\" -b -K$ ansible rescue -m shell -a \"usermod -a -G sudo rescue\" -b -K useræ¨¡å—å¢åŠ  update_password=alwaysæ—¶ï¼Œå¯ä»¥æ›´æ–°å¯†ç  ä¸€é”®æŒ‚è½½NFS: ansible full -m mount -a &quot;name=/data src=192.168.100.179:/data fstype=nfs state=mounted&quot; -b -K æŒ‚è½½éœ€è¦ç”¨SUDOæƒé™,æ‰€ä»¥-Kå¿…ä¸å¯å°‘.åŒæ—¶,åœ¨è¿™ä¹‹å‰å·²ç»ä½¿ç”¨è¿‡sshè¿›è¡Œäº†é…å¯¹å› æ­¤ä¸éœ€è¦è¾“å…¥ç™»å½•ç”¨æˆ·å¯†ç . å…¶ä»–å‘½ä»¤è®°å½• ss -ntl | grep 80 vim /etc/sysconfig/network-scripts/ifcfg-eth0å»ºè®®å¯ä»¥ä½¿ç”¨Alias service network restarté‡å¯ç½‘ç»œæœåŠ¡","categories":[],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://nymrli.top/tags/è¿ç»´/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"staticmethodå’ŒclassmethodåŒºåˆ«","slug":"staticmethodå’ŒclassmethodåŒºåˆ«","date":"2019-07-07T02:06:00.000Z","updated":"2019-09-15T08:07:31.006Z","comments":true,"path":"2019/07/07/staticmethodå’ŒclassmethodåŒºåˆ«/","link":"","permalink":"https://nymrli.top/2019/07/07/staticmethodå’ŒclassmethodåŒºåˆ«/","excerpt":"","text":"staticmethodå’Œclassmethod ç±»çš„å®ä¾‹åŒ–åŸºæœ¬éµå¾ªåˆ›å»ºå®ä¾‹å¯¹è±¡ã€åˆå§‹åŒ–å®ä¾‹å¯¹è±¡ã€æœ€åè¿”å›(äº§ç”Ÿ)å®ä¾‹å¯¹è±¡è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ 123456789101112131415161718class Test(object): data = 'world' # ç±»å¯¹è±¡çš„æ•°æ®æˆå‘˜ def __init__(self, arg): self.arg = arg @staticmethod # é™æ€æ–¹æ³•ï¼Œä¸èƒ½è®¿é—®ç±»æ•°æ®æˆå‘˜ def func(): print(\"hello\") @classmethod # ç±»æ–¹æ³•,èƒ½è®¿é—®ç±»æ•°æ®æˆå‘˜ def getData(cls): print(cls.data)if __name__ == '__main__': t = Test('A') Test.func() Test.getData() å…±åŒ: ä¸¤ä¸ªéƒ½æ˜¯è£…é¥°å™¨ï¼Œè£…é¥°çš„æˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ç±»å.æ–¹æ³•å(...)æ¥è°ƒç”¨ åŒºåˆ«: â–²æœ€æ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯classmethodéœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°clsï¼Œè€Œstaticmethodä¸éœ€è¦ã€‚å› æ­¤å¯ä»¥è®¿é—®ã€ä¿®æ”¹ç±»çš„å±æ€§ï¼Œç±»çš„æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡ç­‰ï¼Œé¿å…ç¡¬ç¼–ç ï¼›è€Œstaticmethodä¸è¡Œ classmethodå¯ä»¥åˆ¤æ–­å‡ºè‡ªå·±æ˜¯é€šè¿‡åŸºç±»è¢«è°ƒç”¨ï¼Œè¿˜æ˜¯é€šè¿‡æŸä¸ªå­ç±»è¢«è°ƒç”¨ ç”¨é€”ï¼š classmethodå¤šç”¨äºè®¾è®¡æ¨¡å¼ä¹‹å·¥å‚æ¨¡å¼ï¼Œå°†è§£æé€»è¾‘å°è£…åœ¨æ–¹æ³•æœ¬èº«å†…éƒ¨ã€‚ï¼ˆä¹Ÿå¯è®¤ä¸ºæ„é€ å‰äº¤äº’ï¼Œå³åœ¨è¿›è¡Œå®ä¾‹åŒ–ç±»å¯¹è±¡ä¹‹å‰å…ˆè¿›è¡ŒæŸäº›é€»è¾‘æ“ä½œï¼Œå³å¯çœ‹ä½œè¿›è¡Œä¸åŒçš„æ„é€ å‡½æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªç±»å®ä¾‹ï¼Œè§å…·ä½“ä»£ç ï¼‰,æ›´å¤šæ‹“å±•è§é™„å½•__new__å’Œ__init__ staticmethodç”¨æ³•å°±è·Ÿå…¶ä»–çš„è¯­è¨€ä¸­çš„é™æ€staticç”¨æ³•ç›¸åŒï¼ˆå¯çœ‹ä½œæ˜¯å±äºè¯¥ç±»çš„ä¸€ä¸ªå·¥å…·ã€è¾…åŠ©å‡½æ•°ï¼‰ å…·ä½“ä»£ç  12345678910111213141516171819202122232425# Python program to demonstrate # use of class method and static method. class time(object): def __init__(self, year): super(time, self).__init__() self.year = year print(self.year) # a class method to create a time that one day following the data 'year' @classmethod def tomorrow(cls,year): print(type(cls)) # &gt;&gt;&gt; â–² Pythonæ‰€æœ‰ç±»éƒ½ç»§æ‰¿è‡ª`&lt;class 'type'&gt;`ï¼ŒåŒ…æ‹¬æ–°å¼ç±»`object` return cls(year+1) # a static method to check whether the given data 'year' is after 2000. @staticmethod def twoThoundYear(year): return year&gt;2000if __name__ == '__main__': t1 = time(1999) t2 = time.tomorrow(1999) print( time.twoThoundYear(2001) ) å¯çœ‹ä¸‹è¿™ç¯‡class method vs static method in Python é™„å½•__new__å’Œ__init__ çŸ¥è¯†ç‚¹ â–²1. é¦–å…ˆè¦å¼„æ‡‚è°ƒç”¨é¡ºåº__new__â€“&gt;__init__ï¼š æ‰€ä»¥__init__å…¶å®ä¸æ˜¯å®ä¾‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨ çš„æ–¹æ³•ã€‚å½“ä½¿ç”¨ Persion(name, age) è¿™æ ·çš„è¡¨è¾¾å¼æ¥å®ä¾‹åŒ–ä¸€ä¸ªç±»æ—¶ï¼Œæœ€å…ˆè¢«è°ƒç”¨çš„æ–¹æ³• å…¶å®æ˜¯__new__æ–¹æ³•ã€‚ __new__è‡³å°‘è¦æœ‰ä¸€ä¸ªå‚æ•°clsï¼Œä»£è¡¨è¦å®ä¾‹åŒ–çš„ç±»ï¼Œæ­¤å‚æ•°åœ¨å®ä¾‹åŒ–æ—¶ç”±Pythonè§£é‡Šå™¨è‡ªåŠ¨æä¾›ï¼ˆå®ä¾‹åŒ–æ—¶åŠ çš„å‚æ•°ï¼Œä¹Ÿä¼šè¢«è®¤ä¸ºæ—¶clsçš„å±æ€§ï¼Œè§â‘ ï¼‰ã€‚å³ç³»ç»ŸçŸ¥é“__new__() æ–¹æ³•å§‹ç»ˆéƒ½æ˜¯ç±»çš„ç±»æ–¹æ³•ï¼Œå³ä½¿æ²¡æœ‰è¢«åŠ ä¸Šç±»æ–¹æ³•è£…é¥°å™¨ã€‚ __new__æ–¹æ³•æ¥å—çš„å‚æ•°è™½ç„¶ä¹Ÿæ˜¯å’Œ__init__ä¸€æ ·ï¼Œä½†__init__æ˜¯åœ¨ç±»å®ä¾‹åˆ›å»ºä¹‹åè°ƒç”¨ï¼Œè€Œ __new__æ–¹æ³•æ­£æ˜¯åˆ›å»ºè¿™ä¸ªç±»å®ä¾‹çš„æ–¹æ³•ã€‚ â–²2. __init__æœ‰ä¸€ä¸ªå‚æ•°selfï¼Œå°±æ˜¯è¿™ä¸ª__new__ä¸­returnçš„å®ä¾‹ï¼Œ__init__åœ¨__new__çš„åŸºç¡€ä¸Šå¯ä»¥å®Œæˆä¸€äº›å…¶å®ƒåˆå§‹åŒ–çš„åŠ¨ä½œï¼Œ__init__ä¸éœ€è¦è¿”å›å€¼ã€‚è€Œ__new__å¿…é¡»æœ‰ï¼ˆå¯ä»¥returnçˆ¶ç±»__new__å‡ºæ¥çš„å®ä¾‹ï¼Œæˆ–è€…ç›´æ¥æ˜¯objectçš„__new__å‡ºæ¥çš„å®ä¾‹ï¼‰ã€‚__new__æ–¹æ³•å†³å®šäº†åˆ›å»ºå“ªä¸ªç±»çš„å®ä¾‹ï¼ˆå¯ä»¥æ˜¯çˆ¶ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯å­ç±»ï¼‰ï¼Œå› æ­¤ä¸ä¸€å®šè°ƒç”¨å½“å‰ç±»çš„__init__ã€‚å³ï¼ˆè‹¥__new__æ²¡æœ‰æ­£ç¡®è¿”å›å½“å‰ç±»clsçš„å®ä¾‹ï¼Œé‚£__init__æ˜¯ä¸ä¼šè¢«è°ƒç”¨çš„ï¼Œå³ä½¿æ˜¯çˆ¶ç±»çš„å®ä¾‹ä¹Ÿä¸è¡Œï¼‰ 3.ç»§æ‰¿è‡ªobjectçš„æ–°å¼ç±»æ‰æœ‰__new__ï¼ŒåŒæ—¶ï¼Œåœ¨ä»»ä½•æ–°å¼ç±»çš„__new__()æ–¹æ³•ï¼Œä¸èƒ½è°ƒç”¨è‡ªèº«çš„__new__()æ¥åˆ¶é€ å®ä¾‹ï¼Œå› ä¸ºè¿™ä¼šé€ æˆæ­»å¾ªç¯ï¼Œå³class Foo(object)çš„__new__ä¸­ä¸èƒ½Foo.__new__(cls, *args, **kwargs)ã€‚ åŒºåˆ« 1.__init__ é€šå¸¸ç”¨äºåˆå§‹åŒ–ä¸€ä¸ªæ–°å®ä¾‹ï¼Œæ§åˆ¶è¿™ä¸ªåˆå§‹åŒ–çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚æ·»åŠ ä¸€äº›å±æ€§ï¼Œ åšä¸€äº›é¢å¤–çš„æ“ä½œï¼Œå‘ç”Ÿåœ¨ç±»å®ä¾‹è¢«åˆ›å»ºå®Œä»¥åã€‚å®ƒæ˜¯å®ä¾‹çº§åˆ«çš„æ–¹æ³•ã€‚ 2.__new__ é€šå¸¸ç”¨äºæ§åˆ¶ç”Ÿæˆä¸€ä¸ªæ–°å®ä¾‹çš„è¿‡ç¨‹ã€‚å®ƒæ˜¯ç±»çº§åˆ«çš„æ–¹æ³•ã€‚ ä¾ç…§Pythonå®˜æ–¹æ–‡æ¡£çš„è¯´æ³•ï¼Œ__new__æ–¹æ³•ä¸»è¦æ˜¯å½“ä½ ç»§æ‰¿ä¸€äº›ä¸å¯å˜çš„classæ—¶(æ¯”å¦‚int, str, tuple)ï¼Œ æä¾›ç»™ä½ ä¸€ä¸ªè‡ªå®šä¹‰è¿™äº›ç±»çš„å®ä¾‹åŒ–è¿‡ç¨‹çš„é€”å¾„ã€‚è¿˜æœ‰å°±æ˜¯å®ç°è‡ªå®šä¹‰çš„metaclassã€‚ 12345678910111213141516171819202122class A(object): # æ–°å¼ç±»:ç»§æ‰¿è‡ªobject def __init__(self,something): print('init') print(something) # def __new__(cls): ä¸è¡Œï¼Œå› ä¸ºA(\"...\")å‚æ•°ä¸åŒ¹é… # pass def __new__(cls, *args, **kwargs): print('new') self = object.__new__(cls) # â‘ clsä¸­åŒ…å«äº†*args, **kwargsä¿¡æ¯ self.x = '1' return self # è°ƒç”¨çˆ¶ç±»çš„`__new__`æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªAå¯¹è±¡ï¼Œinité‡Œçš„å‚æ•°selfè°ƒç”¨çš„å°±æ˜¯è¿™ä¸ªselfå®ä¾‹ # `__new__`å¿…é¡»å…·æœ‰è¿”å›å€¼ï¼Œå¦åˆ™æ— æ³•åˆ›å»ºå¯¹è±¡ï¼Œå› ä¸º`__init__`å‡½æ•°éœ€è¦è¿™ä¸ªè¿”å›å€¼ # è‡ªå·±åœ¨å®šä¹‰`__new__`çš„æ—¶å€™ï¼Œå‚æ•°è¦ä¸`__init__`å‡½æ•°çš„å‚æ•°åŒ¹é…ï¼Œæˆ‘å¯ä»¥ä¸ç”¨åˆ°è¿™äº›å‚æ•°ï¼Œä½†ä¸€å®šè¦åŒ¹é…ã€‚æˆ–è€…å¯ä»¥ä½¿ç”¨*argå’Œ**argsçš„å½¢å¼ã€‚if __name__ == '__main__': # a = A.__new__(A) #&gt;&gt;&gt; new a = A('do it') # &gt;&gt;&gt; new init print(a.__dict__) # &#123;'x': '1'&#125; # 2ã€newå®šä¹‰åœ¨typeå…ƒç±»ä¸­ï¼Œå¿…é¡»å…·æœ‰è¿”å›å€¼ï¼Œ # 3ã€newçš„ä½œç”¨å°±æ˜¯åˆ›å»ºå®ä¾‹ï¼Œç„¶åå°†åˆ›å»ºçš„å®ä¾‹ä¼ é€’ç»™initè¿›è¡Œåˆå§‹åŒ– æ€»ç»“ï¼š a = A() --&gt; __new__æ–¹æ³•ï¼Œreturnè°ƒç”¨çˆ¶ç±»__new__ç”Ÿæˆä¸€ä¸ªç±»å®ä¾‹å¯¹è±¡ --&gt;__init__(self,...)ä¸­çš„selfå®ä¾‹å°±æ˜¯è¿™ä¸ªçˆ¶ç±»__new__å‡ºæ¥çš„å®ä¾‹ __new__() æ˜¯åœ¨æ–°å¼ç±»ä¸­æ–°å‡ºç°çš„æ–¹æ³•ï¼Œå®ƒä½œç”¨åœ¨æ„é€ æ–¹æ³•å»ºé€ å®ä¾‹ä¹‹å‰ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œåœ¨ Python ä¸­å­˜åœ¨äºç±»é‡Œé¢çš„æ„é€ æ–¹æ³• __init__() è´Ÿè´£å°†ç±»çš„å®ä¾‹åŒ–ï¼Œè€Œåœ¨ __init__() å¯åŠ¨ä¹‹å‰ï¼Œ__new__() å†³å®šæ˜¯å¦è¦ä½¿ç”¨è¯¥ __init__() æ–¹æ³•ï¼Œå› ä¸º__new__() å¯ä»¥è°ƒç”¨å…¶ä»–ç±»çš„æ„é€ æ–¹æ³•æˆ–è€…ç›´æ¥è¿”å›åˆ«çš„å¯¹è±¡æ¥ä½œä¸ºæœ¬ç±»çš„å®ä¾‹ã€‚ ç”¨__new__æ¥å®ç°è®¾è®¡æ¨¡å¼ä¸­çš„â€“å•ä¾‹æ¨¡å¼ åªèƒ½å®ä¾‹åŒ–ä¸€ä¸ªç±»å¯¹è±¡ 12345class Singleton(object): def __new__(cls, *args, **kwargs): if not hasattr(cls, 'instance'): cls.instance = super(Singleton, cls).__new__(cls, *args, **kwargs) return cls.instance â–² Pythonæ‰€æœ‰ç±»éƒ½ç»§æ‰¿è‡ª&lt;class 'type'&gt;ï¼ŒåŒ…æ‹¬æ–°å¼ç±»object","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"yamlåŸºç¡€è¯­æ³•_spring_boot","slug":"yamlåŸºç¡€è¯­æ³•-spring-boot","date":"2019-07-07T02:04:35.000Z","updated":"2019-09-15T08:07:31.018Z","comments":true,"path":"2019/07/07/yamlåŸºç¡€è¯­æ³•-spring-boot/","link":"","permalink":"https://nymrli.top/2019/07/07/yamlåŸºç¡€è¯­æ³•-spring-boot/","excerpt":"","text":"yamlåŸºç¡€è¯­æ³•_spring_boot yaml arenâ€™t markup language å³yamlä¸æ˜¯æ ‡è¯­è¯­è¨€ï¼š xmlï¼ˆæ ‡è®°è¯­è¨€ï¼‰: 1234&gt; &lt;server&gt;&gt; &lt;port&gt;8888&lt;/port&gt;&gt; &lt;/server&gt;&gt; java spring booté»˜è®¤å…¨å±€é…ç½®æ–‡ä»¶: application.properties ä½¿ç”¨çš„æ—¶ key=value application.yaml: k:v é€šè¿‡ç¼©è¿›ï¼Œå‚ç›´å¯¹é½æŒ‡å®šå±‚æ¬¡å…³ç³» å­—ç¬¦ä¸²å¯ä»¥é»˜è®¤ä¸å†™å¼•å·ï¼Œå†™å¼•å·ä¸­çš„è½¬ä¹‰ç¬¦ä¼šè¢«ç¿»è¯‘ï¼še.g.&quot;å¤©\\næ´¥&quot; 12345678910111213141516171819202122server: port: 8888student: name: å¼ ä¸‰ age: 18 birthday: 2019/07/19 location: # &lt;==&gt; &#123;province: é™•è¥¿, city: è¥¿å®‰&#125; è¡Œå†…å†™æ³• province: é™•è¥¿ city: è¥¿å®‰ # å¯¹åº”javaé‡Œçš„å­—å…¸map hobbies: # &lt;==&gt; [è¶³çƒ,ç¯®çƒ] - è¶³çƒ - ç¯®çƒ # å¯¹åº”javaé‡Œçš„åˆ—è¡¨List skills: # &lt;==&gt;[ç¼–ç¨‹,é‡‘è] - ç¼–ç¨‹ - é‡‘è # å¯¹åº”javaé‡Œçš„é›†åˆset pet: # &lt;==&gt;&#123;name: wc, type: hsq&#125; name: wc type: hsq # entityçš„å¦ä¸€ä¸ªç±»pet.java [Set,List,æ•°ç»„\\Array]ã€{Mapã€å¯¹è±¡ç±»å‹çš„å±æ€§StudentPet}ï¼Œ[]å¯ä»¥çœç•¥ï¼Œ{}ä¸å¯ä»¥çœç•¥","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"Pythonç±»çš„ç»§æ‰¿-super()ä½¿ç”¨","slug":"Pythonç±»çš„ç»§æ‰¿-super-ä½¿ç”¨","date":"2019-07-07T02:03:49.000Z","updated":"2019-09-15T08:07:30.997Z","comments":true,"path":"2019/07/07/Pythonç±»çš„ç»§æ‰¿-super-ä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/07/07/Pythonç±»çš„ç»§æ‰¿-super-ä½¿ç”¨/","excerpt":"","text":"Pythonç±»çš„ç»§æ‰¿å³super()ä½¿ç”¨ Super super() å‡½æ•°æ˜¯ç”¨äºè°ƒç”¨çˆ¶ç±»(è¶…ç±»)çš„ä¸€ä¸ªæ–¹æ³•ï¼Œåªæœ‰åœ¨æ–°å¼ç±»ä¸­å¯ä»¥ä½¿ç”¨ super æ˜¯ç”¨æ¥è§£å†³å¤šé‡ç»§æ‰¿é—®é¢˜çš„ï¼Œç›´æ¥ç”¨ç±»åè°ƒç”¨çˆ¶ç±»æ–¹æ³•åœ¨ä½¿ç”¨å•ç»§æ‰¿çš„æ—¶å€™æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨å¤šç»§æ‰¿ï¼Œä¼šæ¶‰åŠåˆ°æŸ¥æ‰¾é¡ºåºï¼ˆMROï¼ŒMethod Resolution Orderï¼Œé‡‡ç”¨å¹¿åº¦ä¼˜å…ˆï¼ˆåŒºåˆ«äºæ·±åº¦ä¼˜å…ˆï¼‰çš„è§„åˆ™å®šä¹‰ï¼‰ã€é‡å¤è°ƒç”¨ï¼ˆé’»çŸ³ç»§æ‰¿ï¼‰ç­‰ç§ç§é—®é¢˜ã€‚ MRO å°±æ˜¯ç±»çš„æ–¹æ³•è§£æé¡ºåºè¡¨, å…¶å®ä¹Ÿå°±æ˜¯ç»§æ‰¿çˆ¶ç±»æ–¹æ³•æ—¶çš„é¡ºåºè¡¨ã€‚ è¯­æ³• ä»¥ä¸‹æ˜¯ super() æ–¹æ³•çš„è¯­æ³•: 1234# èœé¸Ÿæ•™ç¨‹super(type [, object-or-type])# ä¸ªäººç†è§£super( ThisClass [, object(self)]) å‚æ•° type â€“ ç±»ï¼ˆtypeï¼‰ï¼Œé€šå¸¸æ˜¯å½“å‰å­ç±»ã€‚ object-or-type â€“ ç±»å®ä¾‹ï¼Œä¸€èˆ¬æ˜¯ self å«ä¹‰ ç”¨selfè¿™ä¸ªå®ä¾‹å¯¹è±¡å»æŸ¥æ‰¾ThisClassç±»çš„çˆ¶ç±»æ‹¥æœ‰çš„å±æ€§ï¼ˆæˆå‘˜æ–¹æ³•ã€æ•°æ®æˆå‘˜ï¼‰ â–². Python3.x å’Œ Python2.x çš„ä¸€ä¸ªåŒºåˆ«æ˜¯: Python 3 å¯ä»¥ä½¿ç”¨ç›´æ¥ä½¿ç”¨ super().xxx ä»£æ›¿ super(Class, self).xxx : å³å¹³æ—¶å†™çš„ 1234567class TestClass(object): def __init__(self, *arg, **kwarg): super(TestClass, self).__init__() # æ­¤æ—¶inité‡Œä¸ç”¨self # ç­‰ä»·äº super().__init__() , å«ä¹‰æ˜¯ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°åˆå§‹åŒ–æŸäº›å˜é‡ # ç›¸å½“äºæ—§å¼ç±»çš„ object.__init__(self) # éœ€è¦ä¼ å‚self self.arg = arg self.kwarg = kwarg å®Œæ•´ä»£ç  12345678910111213141516class clsSuper(object): age = 18 def __init__(self, name): print(name)class clsSub(clsSuper): def __init__(self): print(super().age) # å½“åªæ˜¯å•ç»§æ‰¿çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨ print(clsSuper.age)ï¼Œif __name__ == '__main__': a = clsSuper('cl') b = clsSub() ç‰¹ç‚¹ super().func()æ˜¯ä¸ç”¨ä¼ å‚selfçš„ super(type, obj).func()å‡½æ•°è°ƒç”¨çš„æ˜¯objå®ä¾‹åœ¨MROä¸­ä¸‹ä¸€ä¸ªçˆ¶ç±»çš„å¯è°ƒç”¨func()ï¼Œè€Œä¸æ˜¯typeçš„çˆ¶ç±»ä¸­çš„func()ã€‚å³è°ƒç”¨æœ€è¿‘çš„å¯ç”¨func() ä½¿ç”¨super()ä¸ç”¨æŒ‡å®šçˆ¶ç±»çš„åç§°ï¼Œä¾¿äºä¿®æ”¹ç»´æŠ¤ï¼›åŒæ—¶å½“ç»§æ‰¿å¤šä¸ªç±»Aã€Bçš„æ—¶å€™ï¼Œç”¨super().__init__()ç›¸å½“äºè°ƒç”¨å¤šä¸ªç±»çš„A.__ini__(self)ã€B.__ini__(self) ä¸javaå¯¹æ¯” Pythonä¸­å­ç±»ä¸ä¼šé»˜è®¤è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå³ä¸‹é¢ä»£ç ã€‚å¹¶ä¸ä¼šè¦è¦æ±‚ç»™ä¼ nameã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç†è§£ä¸ºè·Ÿjavaä¸€æ ·è°ƒç”¨äº†ä¸€ä¸ªå…¨ç©ºã€æ²¡æœ‰ä»»ä½•å†…å®¹çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯åœ¨pythonä¸­ä¸éœ€è¦æ˜¾æ€§å†™å‡ºæ¥ï¼ŒåŸå› éƒ¨åˆ†æ˜¯ç‰¹ç‚¹2ï¼ˆjavaä¸­å­˜åœ¨æœ‰å‚æ•°çš„æ„é€ å‡½æ•°æ—¶ï¼Œå¿…é¡»å°†ç©ºå‚æ•°çš„æ„é€ å‡½æ•°æ˜¾å¼å†™å‡ºï¼Œä¸ç„¶å­ç±»é»˜è®¤éšå¼è°ƒç”¨ç©ºå‚æ•°çš„æ„é€ å‡½æ•°æ—¶ä¼šæŠ¥é”™è¯´ä¸å­˜åœ¨ï¼‰ã€‚ Pythonä¸­çš„æ„é€ å‡½æ•°åªæœ‰ä¸€ä¸ªã€‚ä½†ç”±äºå­˜åœ¨*arg,**kwargçš„å­˜åœ¨ï¼Œæ‰€ä»¥åªè¦æ‰§è¡Œç±»å‹æ£€æŸ¥æ‰§è¡Œä¸åŒçš„ä»£ç ï¼›å³å®ç°äº†å¤šä¸ªæ„é€ å‡½æ•° Pythonçš„ç±»å¯ä»¥å¤šç»§æ‰¿ï¼Œjavaåªèƒ½å•ç»§æ‰¿ã€‚ 123456789101112131415161718192021class clsSuper(object): age = 18 def __init__(self, name): self.name = name print(self.name)class clsSub(clsSuper): def __init__(self, age): print(age)'''class clsSub(clsSuper): def __init__(self, age): super().__init__() #è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•° print(age)''' if __name__ == '__main__': b = clsSub(18)","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Base64ç¼–ç åŸç†ä¸åº”ç”¨[è½¬]","slug":"Base64ç¼–ç åŸç†ä¸åº”ç”¨[è½¬]","date":"2019-06-15T04:08:53.000Z","updated":"2019-09-15T08:07:30.921Z","comments":true,"path":"2019/06/15/Base64ç¼–ç åŸç†ä¸åº”ç”¨[è½¬]/","link":"","permalink":"https://nymrli.top/2019/06/15/Base64ç¼–ç åŸç†ä¸åº”ç”¨[è½¬]/","excerpt":"","text":"Base64ç¼–ç åŸç†ä¸åº”ç”¨[è½¬] 2015å¹´ï¼Œæˆ‘ä»¬åœ¨é’äº‘å¹³å°ä¸Šå®ç°äº†â€œç™¾åº¦äº‘è§‚æµ‹â€åº”ç”¨ã€‚é’äº‘åº”ç”¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªiframeï¼Œåœ¨å‘iframeæœåŠ¡æ–¹å‘é€çš„è¯·æ±‚ä¸­ä¼šæºå¸¦ä¸€äº›æ•°æ®ï¼Œé’äº‘å¹³å°ä¼šä½¿ç”¨Base64 URLå¯¹è¿™äº›æ•°æ®è¿›è¡Œç¼–ç ï¼Œå…¶æä¾›çš„ç¼–ç è§£ç ç®—æ³•ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678// phpç‰ˆæœ¬function base64_URL_encode($data) &#123; return rtrim(strtr(base64_encode($data), '+/', '-_'), '=');&#125;function base64_URL_decode($data) &#123; return base64_decode(str_pad(strtr($data, '-_', '+/'), strlen($data) % 4, '=', STR_PAD_RIGHT));&#125; å¯ä»¥çœ‹å‡ºï¼ŒBase64 URL æ˜¯æ ‡å‡†Base64ç¼–ç çš„ä¸€ä¸ªå˜ç§ï¼Œåˆ†åˆ«ç”¨ -ã€_ æ›¿æ¢æ ‡å‡†Base64ç¼–ç ç»“æœä¸­çš„ + ã€ / ï¼Œå¹¶åˆ é™¤ç»“æœæœ€åçš„ = ã€‚ åœ¨å®ç° â€œç™¾åº¦äº‘è§‚æµ‹â€ é’äº‘åº”ç”¨æ—¶ï¼Œæˆ‘åœ¨æƒ³ï¼š ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Base64ç¼–ç ï¼Ÿ Base64ç¼–ç ç®—æ³•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ æœ¬æ–‡æ˜¯å›´ç»•è¿™ä¸¤ä¸ªé—®é¢˜æ€è€ƒå’Œå®è·µçš„ç»“æœã€‚ æˆ‘è®¤ä¸ºï¼Œç†è§£Base64æˆ–å…¶ä»–ç±»ä¼¼ç¼–ç çš„å…³é”®æœ‰ä¸¤ç‚¹ï¼š è®¡ç®—æœºæœ€ç»ˆå­˜å‚¨å’Œæ‰§è¡Œçš„æ˜¯01äºŒè¿›åˆ¶åºåˆ—ï¼Œè¿™ä¸ªäºŒè¿›åˆ¶åºåˆ—çš„å«ä¹‰åˆ™ç”±è§£ç ç¨‹åº/è§£é‡Šç¨‹åºå†³å®š å¾ˆå¤šåœºæ™¯ä¸‹çš„æ•°æ®ä¼ è¾“è¦æ±‚æ•°æ®åªèƒ½ç”±ç®€å•é€šç”¨çš„å­—ç¬¦ç»„æˆï¼Œæ¯”å¦‚HTTPåè®®è¦æ±‚è¯·æ±‚çš„é¦–è¡Œå’Œè¯·æ±‚å¤´éƒ½å¿…é¡»æ˜¯ASCIIç¼–ç  ä»¥é’äº‘åº”ç”¨ä¸ºä¾‹ï¼Œç®€å•è§£é‡Šè¿™ä¸¤ç‚¹ã€‚é’äº‘å¹³å°é€šè¿‡POSTä¸€ä¸ªè¡¨å•æ¥è·å–iframeï¼Œè¡¨å•æœ‰ payload å’Œ signature ä¸¤é¡¹ï¼Œ payload åŸæœ¬æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œå…¶ä¸­çš„é”®å€¼å¯èƒ½åŒ…å«ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚ &amp;ã€/ ç­‰ï¼Œç”±äºé’äº‘è®¾è®¡çš„ä¸€ç§é€šç”¨çš„è¯·æ±‚äº¤äº’æ–¹æ¡ˆï¼Œéœ€è¦è€ƒè™‘iframeæœåŠ¡æ–¹æœåŠ¡å™¨ç«¯çš„å„ç§å¯èƒ½å®ç°ï¼Œæœ‰äº›æœåŠ¡å™¨ç«¯å®ç°æ²¡æœ‰è€ƒè™‘è¡¨å•å€¼æœ‰è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œæˆ–è€…POSTè¯·æ±‚è¢«ä¸­é—´æœåŠ¡å™¨è½¬æ¢æˆGETè¯·æ±‚å†æ¬¡å‘å‡ºï¼Œå¯¹äºURLæ¥è¯´ï¼Œ&amp;ã€/éƒ½æ˜¯å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¯·æ±‚æ•°æ®è¿›è¡Œç‰¹æ®Šç¼–ç é¿å…è¿™äº›å­—ç¬¦å‡ºç° - æ•°æ®å‘é€æ–¹å¯¹æ•°æ®æŒ‰è§„åˆ™è¿›è¡Œç¼–ç ï¼Œæ¥æ”¶æ–¹å¯¹åº”åœ°æŒ‰è§„åˆ™è§£ç æ•°æ®ã€‚ Base64ç¼–ç åŸç† Base64ç¼–ç ä¹‹æ‰€ä»¥ç§°ä¸ºBase64ï¼Œæ˜¯å› ä¸ºå…¶ä½¿ç”¨64ä¸ªå­—ç¬¦æ¥å¯¹ä»»æ„æ•°æ®è¿›è¡Œç¼–ç ï¼ŒåŒç†æœ‰Base32ã€Base16ç¼–ç ã€‚æ ‡å‡†Base64ç¼–ç ä½¿ç”¨çš„64ä¸ªå­—ç¬¦ä¸ºï¼š è¿™64ä¸ªå­—ç¬¦æ˜¯å„ç§å­—ç¬¦ç¼–ç ï¼ˆæ¯”å¦‚ASCIIç¼–ç ï¼‰æ‰€ä½¿ç”¨å­—ç¬¦çš„å­é›†ï¼ŒåŸºæœ¬ï¼Œå¹¶ä¸”å¯æ‰“å°ã€‚å”¯ä¸€æœ‰ç‚¹ç‰¹æ®Šçš„æ˜¯æœ€åä¸¤ä¸ªå­—ç¬¦ï¼Œå› å¯¹æœ€åä¸¤ä¸ªå­—ç¬¦çš„é€‰æ‹©ä¸åŒï¼ŒBase64ç¼–ç åˆæœ‰å¾ˆå¤šå˜ç§ï¼Œæ¯”å¦‚Base64 URLç¼–ç ã€‚ Base64ç¼–ç æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å°†äºŒè¿›åˆ¶æ•°æ®è½¬æˆæ–‡æœ¬æ•°æ®çš„æ–¹æ¡ˆã€‚å¯¹äºéäºŒè¿›åˆ¶æ•°æ®ï¼Œæ˜¯å…ˆå°†å…¶è½¬æ¢æˆäºŒè¿›åˆ¶å½¢å¼ï¼Œç„¶åæ¯è¿ç»­6æ¯”ç‰¹ï¼ˆ2çš„6æ¬¡æ–¹=64ï¼‰è®¡ç®—å…¶åè¿›åˆ¶å€¼ï¼Œæ ¹æ®è¯¥å€¼åœ¨ä¸Šé¢çš„ç´¢å¼•è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ã€‚ å‡è®¾æˆ‘ä»¬è¦å¯¹ Hello! è¿›è¡ŒBase64ç¼–ç ï¼ŒæŒ‰ç…§ASCIIè¡¨ï¼Œå…¶è½¬æ¢è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å¯çŸ¥ Hello! çš„Base64ç¼–ç ç»“æœä¸º SGVsbG8h ï¼ŒåŸå§‹å­—ç¬¦ä¸²é•¿åº¦ä¸º6ä¸ªå­—ç¬¦ï¼Œç¼–ç åé•¿åº¦ä¸º8ä¸ªå­—ç¬¦ï¼Œæ¯3ä¸ªåŸå§‹å­—ç¬¦ç»Base64ç¼–ç æˆ4ä¸ªå­—ç¬¦ï¼Œç¼–ç å‰åé•¿åº¦æ¯”4/3ï¼Œè¿™ä¸ªé•¿åº¦æ¯”å¾ˆé‡è¦ - æ¯”åŸå§‹å­—ç¬¦ä¸²é•¿åº¦çŸ­ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ›´å¤§çš„ç¼–ç å­—ç¬¦é›†ï¼Œè¿™å¹¶ä¸æˆ‘ä»¬æƒ³è¦çš„ï¼›é•¿åº¦æ¯”è¶Šå¤§ï¼Œåˆ™éœ€è¦ä¼ è¾“è¶Šå¤šçš„å­—ç¬¦ï¼Œä¼ è¾“æ—¶é—´è¶Šé•¿ã€‚Base64åº”ç”¨å¹¿æ³›çš„åŸå› æ˜¯åœ¨å­—ç¬¦é›†å¤§å°ä¸é•¿åº¦æ¯”ä¹‹é—´å–å¾—ä¸€ä¸ªè¾ƒå¥½çš„å¹³è¡¡ï¼Œé€‚ç”¨äºå„ç§åœºæ™¯ã€‚ æ˜¯ä¸æ˜¯è§‰å¾—Base64ç¼–ç åŸç†å¾ˆç®€å•ï¼Ÿ ä½†è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸ªç‚¹ï¼šBase64ç¼–ç æ˜¯æ¯3ä¸ªåŸå§‹å­—ç¬¦ç¼–ç æˆ4ä¸ªå­—ç¬¦(å¦‚Helè¢«ç¼–æˆäº†SGVs)ï¼Œå¦‚æœåŸå§‹å­—ç¬¦ä¸²é•¿åº¦ä¸èƒ½è¢«3æ•´é™¤ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿä½¿ç”¨0å€¼æ¥è¡¥å……åŸå§‹å­—ç¬¦ä¸²ã€‚===&gt;Base64çš„ç¼–ç é•¿åº¦ä¸º4çš„å€æ•°ã€‚ ä»¥ Hello!! ä¸ºä¾‹ï¼Œå…¶è½¬æ¢è¿‡ç¨‹ä¸ºï¼š æ³¨ï¼šå›¾è¡¨ä¸­è“è‰²èƒŒæ™¯çš„äºŒè¿›åˆ¶0å€¼æ˜¯é¢å¤–è¡¥å……çš„ã€‚ Hello!! Base64ç¼–ç çš„ç»“æœä¸º SGVsbG8hIQAA ã€‚æœ€å2ä¸ªé›¶å€¼åªæ˜¯ä¸ºäº†Base64ç¼–ç è€Œè¡¥å……çš„ï¼Œåœ¨åŸå§‹å­—ç¬¦ä¸­å¹¶æ²¡æœ‰å¯¹åº”çš„å­—ç¬¦ï¼Œé‚£ä¹ˆBase64ç¼–ç ç»“æœä¸­çš„æœ€åä¸¤ä¸ªå­—ç¬¦ AA å®é™…ä¸å¸¦æœ‰æ•ˆä¿¡æ¯ï¼Œæ‰€ä»¥éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œä»¥å…è§£ç é”™è¯¯ã€‚ æ ‡å‡†Base64ç¼–ç é€šå¸¸ç”¨ = å­—ç¬¦æ¥æ›¿æ¢æœ€åçš„ Aï¼ˆå®Œå…¨ç”±è¡¥å……çš„0ç»„æˆçš„Aï¼Œè·Ÿb'H'çš„ç»“æœSA==åŒºåˆ«ä¸€ä¸‹ï¼‰ï¼Œå³ç¼–ç ç»“æœä¸º SGVsbG8hIQ==ã€‚å› ä¸º = å­—ç¬¦å¹¶ä¸åœ¨Base64ç¼–ç ç´¢å¼•è¡¨ä¸­ï¼Œå…¶æ„ä¹‰åœ¨äºç»“æŸç¬¦å·ï¼Œåœ¨Base64è§£ç æ—¶é‡åˆ° = æ—¶å³å¯çŸ¥é“ä¸€ä¸ªBase64ç¼–ç å­—ç¬¦ä¸²ç»“æŸã€‚ å¦‚æœBase64ç¼–ç å­—ç¬¦ä¸²ä¸ä¼šç›¸äº’æ‹¼æ¥å†ä¼ è¾“ï¼Œé‚£ä¹ˆæœ€åçš„ = ä¹Ÿå¯ä»¥çœç•¥ï¼Œè§£ç æ—¶å¦‚æœå‘ç°Base64ç¼–ç å­—ç¬¦ä¸²é•¿åº¦ä¸èƒ½è¢«4æ•´é™¤ï¼Œåˆ™å…ˆè¡¥å…… = å­—ç¬¦ï¼Œå†è§£ç å³å¯ã€‚ è§£ç æ˜¯å¯¹ç¼–ç çš„é€†å‘æ“ä½œï¼Œä½†æ³¨æ„ä¸€ç‚¹ï¼šå¯¹äºæœ€åçš„ä¸¤ä¸ª = å­—ç¬¦ï¼Œè½¬æ¢æˆä¸¤ä¸ª A å­—ç¬¦ï¼Œå†è½¬æˆå¯¹åº”çš„ä¸¤ä¸ª6æ¯”ç‰¹äºŒè¿›åˆ¶0å€¼ï¼Œæ¥ç€è½¬æˆåŸå§‹å­—ç¬¦ä¹‹å‰ï¼Œéœ€è¦å°†æœ€åçš„ä¸¤ä¸ª6æ¯”ç‰¹äºŒè¿›åˆ¶0å€¼ä¸¢å¼ƒï¼Œå› ä¸ºå®ƒä»¬å®é™…ä¸Šä¸æºå¸¦æœ‰æ•ˆä¿¡æ¯ã€‚ ä¸ºäº†ç†è§£Base64ç¼–ç è§£ç è¿‡ç¨‹ï¼Œä¸ªäººå®ç°äº†ä¸€ä¸ªéå¸¸ç®€é™‹çš„Base64ç¼–ç è§£ç ç¨‹åºï¼Œè§ï¼šyoungsterxyf/xiaBase64ã€‚ ç”±äºBase64åº”ç”¨å¹¿æ³›ï¼Œæ‰€ä»¥å¾ˆå¤šç¼–ç¨‹è¯­è¨€çš„æ ‡å‡†åº“éƒ½å†…ç½®Base64ç¼–ç è§£ç åŒ…ï¼Œå¦‚ï¼š PHPï¼šbase64_encodeã€base64_decode Pythonï¼šbase64åŒ… Goï¼šencoding/base64 â€¦ Base64ç¼–ç åº”ç”¨ æœ¬æ–‡å¼€å§‹æåˆ°çš„é’äº‘åº”ç”¨ä¾‹å­åªæ˜¯Base64ç¼–ç çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€ã€‚ç”±äºBase64ç¼–ç åœ¨å­—ç¬¦é›†å¤§å°ä¸ç¼–ç åæ•°æ®é•¿åº¦ä¹‹é—´åšäº†è¾ƒå¥½çš„å¹³è¡¡ï¼Œä»¥åŠBase64ç¼–ç å˜ç§å½¢å¼çš„å¤šæ ·ï¼Œä½¿å¾—Base64ç¼–ç çš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ã€‚ä¸‹é¢ä¸¾2ä¸ªå¸¸ç”¨å¸¸è§çš„ä¾‹å­ã€‚ HTMLå†…åµŒBase64ç¼–ç å›¾ç‰‡ å‰ç«¯åœ¨å®ç°é¡µé¢æ—¶ï¼Œå¯¹äºä¸€äº›ç®€å•å›¾ç‰‡ï¼Œé€šå¸¸ä¼šé€‰æ‹©å°†å›¾ç‰‡å†…å®¹ç›´æ¥å†…åµŒåœ¨é¡µé¢ä¸­ï¼Œé¿å…ä¸å¿…è¦çš„å¤–éƒ¨èµ„æºåŠ è½½ï¼Œå¢å¤§é¡µé¢åŠ è½½æ—¶é—´ï¼Œä½†æ˜¯å›¾ç‰‡æ•°æ®æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œè¯¥æ€ä¹ˆåµŒå…¥å‘¢ï¼Ÿ[ç»å¤§å¤šæ•°ç°ä»£æµè§ˆå™¨](http://caniuse.com/#search=Data URI)éƒ½æ”¯æŒä¸€ç§åä¸º Data URLs çš„ç‰¹æ€§ï¼Œå…è®¸ä½¿ç”¨Base64å¯¹å›¾ç‰‡æˆ–å…¶ä»–æ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œç¼–ç ï¼Œå°†å…¶ä½œä¸ºæ–‡æœ¬å­—ç¬¦ä¸²åµŒå…¥ç½‘é¡µä¸­ã€‚ä»¥ç™¾åº¦æœç´¢é¦–é¡µä¸ºä¾‹ï¼Œå…¶ä¸­è¯­éŸ³æœç´¢çš„å›¾æ ‡æ˜¯ä¸ªèƒŒæ™¯å›¾ç‰‡ï¼Œå…¶å†…å®¹ä»¥ Data URLs å½¢å¼ç›´æ¥å†™åœ¨cssä¸­ï¼Œè¿™ä¸ªcsså†…å®¹åˆç›´æ¥åµŒåœ¨HTMLé¡µé¢ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š Data URLs æ ¼å¼ä¸ºï¼šurl(data:æ–‡ä»¶ç±»å‹;ç¼–ç æ–¹å¼,ç¼–ç åçš„æ–‡ä»¶å†…å®¹)ã€‚ å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åŸºäºimageæ ‡ç­¾åµŒå…¥å›¾ç‰‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1&lt;img alt=&quot;Embedded Image&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIA...&quot; /&gt; ä½†è¯·æ³¨æ„ï¼šå¦‚æœå›¾ç‰‡è¾ƒå¤§ï¼Œå›¾ç‰‡çš„è‰²å½©å±‚æ¬¡æ¯”è¾ƒä¸°å¯Œï¼Œåˆ™ä¸é€‚åˆä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå› ä¸ºå…¶Base64ç¼–ç åçš„å­—ç¬¦ä¸²éå¸¸å¤§ï¼Œä¼šæ˜æ˜¾å¢å¤§HTMLé¡µé¢ï¼Œå½±å“åŠ è½½é€Ÿåº¦ã€‚ MIMEï¼ˆå¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ï¼‰ æˆ‘ä»¬çš„ç”µå­é‚®ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨SMTPï¼ˆç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰å°†é‚®ä»¶ä»å®¢æˆ·ç«¯å‘å¾€æœåŠ¡å™¨ç«¯ï¼Œé‚®ä»¶å®¢æˆ·ç«¯ä½¿ç”¨POP3ï¼ˆé‚®å±€åè®®ï¼Œç¬¬3ç‰ˆæœ¬ï¼‰æˆ–IMAPï¼ˆäº¤äº’é‚®ä»¶è®¿é—®åè®®ï¼‰ä»æœåŠ¡å™¨ç«¯è·å–é‚®ä»¶ã€‚ SMTPåè®®ä¸€å¼€å§‹æ˜¯åŸºäºçº¯ASCIIæ–‡æœ¬çš„ï¼Œå¯¹äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¯”å¦‚é‚®ä»¶é™„ä»¶ä¸­çš„å›¾åƒã€å£°éŸ³ç­‰ï¼‰çš„å¤„ç†å¹¶ä¸å¥½ï¼Œæ‰€ä»¥åæ¥æ–°å¢MIMEæ ‡å‡†æ¥ç¼–ç äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿé€šè¿‡SMTPåè®®ä¼ è¾“ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±å‘å°é‚®ä»¶ï¼Œæ­£æ–‡ä¸ºç©ºï¼Œå¸¦ä¸€ä¸ªåä¸ºhello.txtçš„é™„ä»¶ï¼Œå†…å®¹ä¸º æ‚¨å¥½ï¼ä¸–ç•Œï¼ã€‚å¯¼å‡ºé‚®ä»¶æºç ï¼Œå…¶å…³é”®éƒ¨åˆ†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š MIME-Version: 1.0ï¼šè¡¨ç¤ºå½“å‰ä½¿ç”¨MIMEæ ‡å‡†1.0ç‰ˆæœ¬ã€‚ Content-Type: text/plain; name=&quot;hello.txt&quot;ï¼šè¡¨ç¤ºé™„ä»¶æ–‡ä»¶åä¸º hello.txt ï¼Œæ ¼å¼ä¸ºçº¯æ–‡æœ¬ã€‚ Content-Transfer-Encoding: base64ï¼šè¡¨ç¤ºé™„ä»¶æ–‡ä»¶å†…å®¹ä½¿ç”¨base64ç¼–ç åä¼ è¾“ã€‚ 5oKo5aW977yM5LiW55WM77yBï¼šåˆ™æ˜¯æ–‡ä»¶å†…å®¹ æ‚¨å¥½ï¼Œä¸–ç•Œï¼ Base64ç¼–ç åçš„ç»“æœã€‚ ä¸è¿‡ï¼ŒMIMEä½¿ç”¨çš„ä¸æ˜¯æ ‡å‡†Base64ç¼–ç ã€‚ åˆ‡å¿Œè¯¯ç”¨ å¯èƒ½ä¼šæœ‰äººåœ¨ä¸ç†è§£Base64ç¼–ç çš„æƒ…å†µä¸‹ï¼Œå°†å…¶è¯¯ç”¨äºæ•°æ®åŠ å¯†æˆ–æ•°æ®æ ¡éªŒã€‚ Base64æ˜¯ä¸€ç§æ•°æ®ç¼–ç æ–¹å¼ï¼Œç›®çš„æ˜¯è®©æ•°æ®ç¬¦åˆä¼ è¾“åè®®çš„è¦æ±‚ã€‚æ ‡å‡†Base64ç¼–ç è§£ç æ— éœ€é¢å¤–ä¿¡æ¯å³å®Œå…¨å¯é€†ï¼Œå³ä½¿ä½ è‡ªå·±è‡ªå®šä¹‰å­—ç¬¦é›†è®¾è®¡ä¸€ç§ç±»Base64çš„ç¼–ç æ–¹å¼ç”¨äºæ•°æ®åŠ å¯†ï¼Œåœ¨å¤šæ•°åœºæ™¯ä¸‹ä¹Ÿè¾ƒå®¹æ˜“ç ´è§£ã€‚ å¯¹äºæ•°æ®åŠ å¯†åº”è¯¥ä½¿ç”¨ä¸“é—¨çš„ç›®å‰è¿˜æ²¡æœ‰æœ‰æ•ˆæ–¹å¼å¿«é€Ÿç ´è§£çš„åŠ å¯†ç®—æ³•ã€‚æ¯”å¦‚ï¼šå¯¹ç§°åŠ å¯†ç®—æ³•AES-128-CBCï¼Œå¯¹ç§°åŠ å¯†éœ€è¦å¯†é’¥ï¼Œåªè¦å¯†é’¥æ²¡æœ‰æ³„éœ²ï¼Œé€šå¸¸éš¾ä»¥ç ´è§£ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå¦‚ RSAï¼Œåˆ©ç”¨æå¤§æ•´æ•°å› æ•°åˆ†è§£çš„è®¡ç®—é‡æå¤§è¿™ä¸€ç‰¹ç‚¹ï¼Œä½¿å¾—ä½¿ç”¨å…¬é’¥åŠ å¯†çš„æ•°æ®ï¼Œåªæœ‰ä½¿ç”¨ç§é’¥æ‰èƒ½å¿«é€Ÿè§£å¯†ã€‚ å¯¹äºæ•°æ®æ ¡éªŒï¼Œä¹Ÿåº”è¯¥ä½¿ç”¨ä¸“é—¨çš„æ¶ˆæ¯è®¤è¯ç ç”Ÿæˆç®—æ³•ï¼Œå¦‚ HMAC - ä¸€ç§ä½¿ç”¨å•å‘æ•£åˆ—å‡½æ•°æ„é€ æ¶ˆæ¯è®¤è¯ç çš„æ–¹æ³•ï¼Œå…¶è¿‡ç¨‹æ˜¯ä¸å¯é€†çš„ã€å”¯ä¸€ç¡®å®šçš„ï¼Œå¹¶ä¸”ä½¿ç”¨å¯†é’¥æ¥ç”Ÿæˆè®¤è¯ç ï¼Œå…¶ç›®çš„æ˜¯é˜²æ­¢æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«ç¯¡æ”¹æˆ–ä¼ªé€ ã€‚å°†åŸå§‹æ•°æ®ä¸è®¤è¯ç ä¸€èµ·ä¼ è¾“ï¼Œæ•°æ®æ¥æ”¶ç«¯å°†åŸå§‹æ•°æ®ä½¿ç”¨ç›¸åŒå¯†é’¥å’Œç›¸åŒç®—æ³•å†æ¬¡ç”Ÿæˆè®¤è¯ç ï¼Œä¸åŸæœ‰è®¤è¯ç è¿›è¡Œæ¯”å¯¹ï¼Œæ ¡éªŒæ•°æ®çš„åˆæ³•æ€§ã€‚ é‚£ä¹ˆé’ˆå¯¹å„å¤§ç½‘ç«™è¢«è„±åº“çš„é—®é¢˜ï¼Œè¯·é—®åº”è¯¥æ€ä¹ˆå­˜å‚¨ç”¨æˆ·çš„ç™»å½•å¯†ç ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šåœ¨æ³¨å†Œæ—¶ï¼Œæ ¹æ®ç”¨æˆ·è®¾ç½®çš„ç™»å½•å¯†ç ï¼Œç”Ÿæˆå…¶æ¶ˆæ¯è®¤è¯ç ï¼Œç„¶åå­˜å‚¨ç”¨æˆ·åå’Œæ¶ˆæ¯è®¤è¯ç ï¼Œä¸å­˜å‚¨åŸå§‹å¯†ç ã€‚æ¯æ¬¡ç”¨æˆ·ç™»å½•æ—¶ï¼Œæ ¹æ®ç™»å½•å¯†ç ï¼Œç”Ÿæˆæ¶ˆæ¯è®¤è¯ç ï¼Œä¸æ•°æ®åº“ä¸­å­˜å‚¨çš„æ¶ˆæ¯è®¤è¯ç è¿›è¡Œæ¯”å¯¹ï¼Œä»¥ç¡®è®¤æ˜¯å¦ä¸ºæœ‰æ•ˆç”¨æˆ·ï¼Œè¿™æ ·å³ä½¿ç½‘ç«™è¢«è„±åº“ï¼Œç”¨æˆ·çš„åŸå§‹å¯†ç ä¹Ÿä¸ä¼šæ³„éœ²ï¼Œä¸ä¼šä¸ºç”¨æˆ·ä½¿ç”¨çš„å…¶ä»–ç½‘ç«™å¸¦æ¥è´¦å·é£é™©ã€‚ å½“ç„¶ï¼Œä½¿ç”¨çš„æ¶ˆæ¯è®¤è¯ç ç®—æ³•å…¶å“ˆå¸Œç¢°æ’çš„æ¦‚ç‡åº”è¯¥æä½æ‰è¡Œï¼Œç›®å‰ä¸€èˆ¬åœ¨HMACç®—æ³•ä¸­ä½¿ç”¨SHA256ã€‚å¯¹äºè¿™ç§æ–¹å¼éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼šé˜²æ­¢ç”¨æˆ·ä½¿ç”¨å¼±å¯†ç ï¼Œå¦åˆ™ä¹Ÿå¯èƒ½ä¼šè¢«æš´åŠ›ç ´è§£ã€‚ç°åœ¨çš„ç½‘ç«™ä¸€èˆ¬è¦æ±‚ç”¨æˆ·å¯†ç 6ä¸ªå­—ç¬¦ä»¥ä¸Šï¼Œå¹¶ä¸”åŒæ—¶æœ‰æ•°å­—å’Œå¤§å°å†™å­—æ¯ï¼Œç”šè‡³è¦æ±‚æœ‰ç‰¹æ®Šå­—ç¬¦ã€‚ å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŠ å…¥éšæœºsaltçš„å“ˆå¸Œç®—æ³•æ¥å­˜å‚¨æ ¡éªŒç”¨æˆ·å¯†ç ã€‚è¿™é‡Œæš‚ä¸ç»†è¿°ã€‚ æ€»ç»“ Base64å…¼é¡¾å­—ç¬¦é›†å¤§å°å’Œç¼–ç åæ•°æ®é•¿åº¦ï¼Œå¹¶ä¸”å¯ä»¥çµæ´»æ›¿æ¢å­—ç¬¦é›†çš„æœ€åä¸¤ä¸ªå­—ç¬¦ï¼Œä»¥åº”å¯¹å¤šæ ·çš„éœ€æ±‚ï¼Œä½¿å…¶é€‚ç”¨åœºæ™¯éå¸¸å¹¿æ³›ã€‚ å½“ç„¶ï¼Œå¾ˆå¤šåœºæ™¯ä¸‹æœ‰å¤šç§ç¼–ç æ–¹å¼å¯é€‰æ‹©ï¼Œå¹¶éBase64ç¼–ç ä¸å¯ï¼Œè§†éœ€æ±‚ï¼Œæƒè¡¡åˆ©å¼Šè€Œå®šã€‚ è¡¥å…… Base64ã€Base32ã€Base16åŒºåˆ« æ ‡å‡†Base64ï¼š åŒ…å«å¤§å†™å­—æ¯ï¼ˆA-Zï¼‰,å°å†™å­—æ¯ï¼ˆa-zï¼‰ï¼Œæ•°å­—ï¼ˆ0-9ï¼‰ä»¥åŠ+/; Base32: è€ŒBase32ä¸­åªæœ‰å¤§å†™å­—æ¯ï¼ˆA-Zï¼‰å’Œæ•°å­—234567ï¼› Base16: è€ŒBase16å°±æ˜¯16è¿›åˆ¶ï¼Œä»–çš„èŒƒå›´æ˜¯æ•°å­—(0-9)ï¼Œå­—æ¯ï¼ˆABCDEFï¼‰ï¼› é¡ºä¾¿è¯´ä¸€å¥ï¼Œå½“ASCllç”¨BaseåŠ å¯†è¾¾ä¸åˆ°æ‰€å¯¹åº”çš„ä½æ•°çš„æ—¶å€™ç”¨=å·è¡¥é½ï¼› åœ¨è¿™é‡Œé™„å¸¦ç”±ä¸‰ç§BaseåŠ å¯†çš„:I love youï¼ Base64:SSBsb3ZlIHlvde+8gQ== Base32:JEQGY33WMUQHS33V566IC=== Base16:49206c6f766520796f75efbc81 1.ç”±ä¸Šå¯çŸ¥ï¼ŒBase64ç¼–ç åå­—ç¬¦ä¸²é•¿åº¦ä¸º4çš„å€æ•° 2.æ ‡å‡†Base64ç¼–ç é€šå¸¸ç”¨ = å­—ç¬¦æ¥æ›¿æ¢æœ€åçš„ Aï¼ˆå®Œå…¨ç”±è¡¥å……çš„0ç»„æˆçš„Aï¼Œè·Ÿb'H'çš„ç»“æœSA==åŒºåˆ«ä¸€ä¸‹ï¼ŒSA==çš„Aå¹¶ä¸æ˜¯å…¨éƒ¨ç”±è¡¥å……çš„0ç»„æˆï¼‰","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"}]},{"title":"Pythonçš„æ„å»ºå·¥å…·setup.py","slug":"Pythonçš„æ„å»ºå·¥å…·setup-py","date":"2019-06-15T04:08:44.000Z","updated":"2019-09-15T08:07:30.996Z","comments":true,"path":"2019/06/15/Pythonçš„æ„å»ºå·¥å…·setup-py/","link":"","permalink":"https://nymrli.top/2019/06/15/Pythonçš„æ„å»ºå·¥å…·setup-py/","excerpt":"","text":"Pythonçš„æ„å»ºå·¥å…·setup.py setup.pyå„å‚æ•°ä»‹ç»ï¼š 12345678910111213141516171819202122232425--name åº“åç§°ï¼Œâ–²éœ€è¦æ³¨æ„çš„æ˜¯ä¸è¦å¤§å†™ï¼Œä¸ç„¶ä¼šæœ‰å‘--version (-V) åŒ…ç‰ˆæœ¬--author ç¨‹åºçš„ä½œè€…--author_email ç¨‹åºçš„ä½œè€…çš„é‚®ç®±åœ°å€--maintainer ç»´æŠ¤è€…--maintainer_email ç»´æŠ¤è€…çš„é‚®ç®±åœ°å€--url ç¨‹åºçš„å®˜ç½‘åœ°å€--license ç¨‹åºçš„æˆæƒä¿¡æ¯--description ç¨‹åºçš„ç®€å•æè¿°--long_description ç¨‹åºçš„è¯¦ç»†æè¿°--platforms ç¨‹åºé€‚ç”¨çš„è½¯ä»¶å¹³å°åˆ—è¡¨--classifiers ç¨‹åºçš„æ‰€å±åˆ†ç±»åˆ—è¡¨--keywords ç¨‹åºçš„å…³é”®å­—åˆ—è¡¨--packages éœ€è¦å¤„ç†çš„åŒ…ç›®å½•ï¼ˆåŒ…å«__init__.pyçš„æ–‡ä»¶å¤¹ï¼‰ --py_modules éœ€è¦æ‰“åŒ…çš„pythonæ–‡ä»¶åˆ—è¡¨--download_url ç¨‹åºçš„ä¸‹è½½åœ°å€--cmdclass --data_files æ‰“åŒ…æ—¶éœ€è¦æ‰“åŒ…çš„æ•°æ®æ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ï¼Œé…ç½®æ–‡ä»¶ç­‰--scripts å®‰è£…æ—¶éœ€è¦æ‰§è¡Œçš„è„šæ­¥åˆ—è¡¨--package_dir å‘Šè¯‰setuptoolså“ªäº›ç›®å½•ä¸‹çš„æ–‡ä»¶è¢«æ˜ å°„åˆ°å“ªä¸ªæºç åŒ…ã€‚ä¸€ä¸ªä¾‹å­ï¼špackage_dir = &#123;&apos;&apos;: &apos;lib&apos;&#125;ï¼Œè¡¨ç¤ºâ€œroot packageâ€ä¸­çš„æ¨¡å—éƒ½åœ¨lib ç›®å½•ä¸­ã€‚--requires å®šä¹‰ä¾èµ–å“ªäº›æ¨¡å— --provideså®šä¹‰å¯ä»¥ä¸ºå“ªäº›æ¨¡å—æä¾›ä¾èµ– --find_packages() å¯¹äºç®€å•å·¥ç¨‹æ¥è¯´ï¼Œæ‰‹åŠ¨å¢åŠ packageså‚æ•°å¾ˆå®¹æ˜“ï¼Œåˆšåˆšæˆ‘ä»¬ç”¨åˆ°äº†è¿™ä¸ªå‡½æ•°ï¼Œå®ƒé»˜è®¤åœ¨å’Œsetup.pyåŒä¸€ç›®å½•ä¸‹æœç´¢å„ä¸ªå«æœ‰ __init__.pyçš„åŒ…ã€‚--install_requires = [&quot;requests&quot;] éœ€è¦å®‰è£…çš„ä¾èµ–åŒ…--entry_points åŠ¨æ€å‘ç°æœåŠ¡å’Œæ’ä»¶ï¼Œä¸‹é¢è¯¦ç»†è®² find_packages()è¿˜å¯ä»¥å°†åŒ…ç»Ÿä¸€æ”¾åœ¨ä¸€ä¸ªsrcç›®å½•ä¸­ï¼Œå¦å¤–ï¼Œè¿™ä¸ªåŒ…å†…å¯èƒ½è¿˜æœ‰aaa.txtæ–‡ä»¶å’Œdataæ•°æ®æ–‡ä»¶å¤¹ã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥æ’é™¤ä¸€äº›ç‰¹å®šçš„åŒ… find_packages(exclude=[&quot;*.tests&quot;, &quot;*.tests.*&quot;, &quot;tests.*&quot;, &quot;tests&quot;]) å®æµ‹æ“ä½œ éœ€è¦äº‹å‰äº¤ä»£çš„å†…å®¹ æ¨¡æ¿setup.py 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124#!/usr/bin/env python# -*- coding: utf-8 -*-# Note: To use the 'upload' functionality of this file, you must:# $ pip install twineimport ioimport osimport sysfrom shutil import rmtreefrom setuptools import find_packages, setup, Command# Package meta-data.NAME = 'cltest'DESCRIPTION = 'know how to'URL = ''EMAIL = '10630529664@qq.com'AUTHOR = 'Gao Liang'REQUIRES_PYTHON = '&gt;=3.0.0'VERSION = '0.3.0'# What packages are required for this module to be executed?REQUIRED = [ 'requests &gt;= 2.20.0',]# The rest you shouldn't have to touch too much :)# ------------------------------------------------# Except, perhaps the License and Trove Classifiers!# If you do change the License, remember to change the Trove Classifier for that!here = os.path.abspath(os.path.dirname(__file__))# Import the README and use it as the long-description.# Note: this will only work if 'README.md' is present in your MANIFEST.in file!try: with io.open(os.path.join(here, 'README.md'), encoding='utf-8') as f: long_description = '\\n' + f.read()except FileNotFoundError: long_description = DESCRIPTION# Load the package's __version__.py module as a dictionary.about = &#123;&#125;if not VERSION: with open(os.path.join(here, NAME, '__version__.py')) as f: exec(f.read(), about)else: about['__version__'] = VERSIONclass UploadCommand(Command): \"\"\"Support setup.py upload.\"\"\" description = 'Build and publish the package.' user_options = [] @staticmethod def status(s): \"\"\"Prints things in bold.\"\"\" print('\\033[1m&#123;0&#125;\\033[0m'.format(s)) def initialize_options(self): pass def finalize_options(self): pass def run(self): try: self.status('Removing previous buildsâ€¦') rmtree(os.path.join(here, 'dist')) except OSError: pass self.status('Building Source and Wheel (universal) distributionâ€¦') os.system('&#123;0&#125; setup.py sdist bdist_wheel --universal'.format(sys.executable)) self.status('Uploading the package to PyPI via Twineâ€¦') os.system('twine upload dist/*') self.status('Pushing git tagsâ€¦') os.system('git tag v&#123;0&#125;'.format(about['__version__'])) os.system('git push --tags') sys.exit()# Where the magic happens:setup( name=NAME, version=about['__version__'], description=DESCRIPTION, long_description=long_description, long_description_content_type='text/markdown', author=AUTHOR, author_email=EMAIL, python_requires=REQUIRES_PYTHON, url=URL, packages=find_packages(exclude=('tests',)), # If your package is a single module, use this instead of 'packages': # py_modules=['mypackage'], # entry_points=&#123; # 'console_scripts': ['mycli=mymodule:cli'], # &#125;, install_requires=REQUIRED, include_package_data=True, license='MIT', classifiers=[ # Trove classifiers # Full list: https://pypi.python.org/pypi?%3Aaction=list_classifiers 'License :: OSI Approved :: MIT License', 'Programming Language :: Python', 'Programming Language :: Python :: 3', 'Programming Language :: Python :: 3.6', 'Programming Language :: Python :: Implementation :: CPython', 'Programming Language :: Python :: Implementation :: PyPy' ], # $ setup.py publish support. cmdclass=&#123; 'upload': UploadCommand, &#125;,) å¾…æ‰“åŒ…çš„ç›®å½•æ ‘ï¼š E:. â”‚ MANIFEST.in â”‚ out.json â”‚ README.md â”‚ setup.py â”‚ â””â”€files in.json txt.txt world.py __init__.py 12345678910ACCOUNT = 'mrli'def printHello(): print(\"hello &#123;&#125;\".format(ACCOUNT))def readTXT(): with open('txt.txt', 'r') as f: print(f.read()) # print( os.listdir() ) MANIFEST.inå†…å®¹ MANIFEST.inå†³å®šäº†é™¤äº†Pyæ–‡ä»¶å¤–çš„ä»€ä¹ˆè¯´æ˜ã€é…ç½®æ–‡ä»¶ä¼šè¢«æ‰“åŒ…è¿›å»(å¦‚.txtã€.json) 12345678# Include the READMEinclude *.md# Include the txt fileinclude */*.txt# Include the data files# recursive-include xxxx/utils */*.json æ³¨æ„æˆ‘æ“ä½œè¿™è¾¹æ—¶å¹¶æ²¡æœ‰include jsonæ–‡ä»¶ï¼Œæ‰€ä»¥ç”Ÿæˆçš„é¡¹ç›®æ ‘ä¸­ä¹Ÿæ²¡æœ‰ä»»ä½•çš„jsonæ–‡ä»¶ï¼ˆæ— è®ºæ˜¯in.jsonè¿˜æ˜¯out.jsonï¼‰ï¼Œè€Œtxt.txtæ˜¯åŒ…å«çš„ï¼Œå¹¶ä¸”ä¹‹åç”šè‡³èƒ½ç”¨readTXT()å‡½æ•°ï¼Œç›´æ¥è¯»å–æ‰“åŒ…çš„txt.txtçš„å†…å®¹ã€‚ å…³äºMANIFEST.in é¡¹ç›®é‡Œä¼šæœ‰ä¸€äº›épyæ–‡ä»¶ï¼Œæ¯”å¦‚htmlå’Œjsç­‰ï¼Œè¿™æ—¶å€™å°±è¦é include_package_data å’Œ package_dataåŠpackagesæ¥æŒ‡å®šäº†ã€‚package_dataä¸€èˆ¬å†™æˆ {'your_package_name': [&quot;files&quot;]}ã€‚keywordsä¾¿äºpypiç´¢å¼•ã€‚ â–².ç„¶è€Œåªè®¾ç½®äº†include_package_dataè¿˜æ²¡å®Œï¼Œè¿˜éœ€è¦ä¸€ä¸ªMANIFEST.inæ–‡ä»¶æ¥æ˜ç¡®æŒ‡å®šå“ªäº›æ–‡ä»¶éœ€è¦æ‰“åˆ°åŒ…ä¸­ã€‚===&gt;å¦‚æœinclude_package_data=Trueçš„è¯ï¼Œé‚£ä¹ˆè¿˜éœ€è¦å†™ä¸ªMANIFEST.inæ¥æ˜ç¡®ã€‚ python setup.py installå®‰è£… å®‰è£…åçš„ç›®å½•æ ‘ â”‚ MANIFEST.in â”‚ out.json(è¿™æ˜¯åŸæ¥å°±åœ¨çš„) â”‚ README.md â”‚ setup.py â”‚ â”œâ”€buildï¼ˆç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼‰ â”‚ â”œâ”€bdist.win-amd64 â”‚ â””â”€lib â”‚ â””â”€files â”‚ txt.txt â”‚ world.py â”‚ init.py â”‚ â”œâ”€cltest.egg-infoï¼ˆç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼‰ â”‚ dependency_links.txt â”‚ PKG-INFO â”‚ requires.txt â”‚ SOURCES.txt â”‚ top_level.txt â”‚ â”œâ”€distï¼ˆç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼‰ â”‚ cltest-0.3.0-py3.7.egg â”‚ â””â”€files in.json txt.txt world.py __init__.py ä¸€å…±ç”Ÿæˆäº†3ä¸ªæ–‡ä»¶å¤¹ä¸ºbuildã€distã€cltest.egg-infoï¼Œ build\\libä¸‹çš„å°±æ˜¯è‡ªå·±æƒ³è¦æ‰“åŒ…çš„åº“çš„å†…å®¹ï¼Œå³filesé‡Œçš„æ¨¡å—ã€‚ distæ˜¯åŠ å…¥åˆ°è™šæ‹Ÿç¯å¢ƒåº“ä¸‹çš„æ–‡ä»¶venv\\Lib\\site-packagesä¸­å¯ä»¥æ‰¾åˆ°cltest-0.3.0-py3.7.egg cltest.egg-infoä¸­æœ‰ç”Ÿæˆå¾ˆå¤šæ–‡ä»¶ dependency_links.txtç©ºçš„ PKG-INFOå†…å®¹æ˜¯setup.pyä¸­è®¾ç½®çš„ï¼Œå…³äºåº“çš„æè¿° 1234567891011121314151617181920212223Metadata-Version: 2.1Name: cltestVersion: 0.3.0Summary: know how toHome-page: UNKNOWNAuthor: Gao LiangAuthor-email: 10630529664@qq.comLicense: MITDescription: # æµ‹è¯•Setupå·¥å…· hhhh Platform: UNKNOWNClassifier: License :: OSI Approved :: MIT LicenseClassifier: Programming Language :: PythonClassifier: Programming Language :: Python :: 3Classifier: Programming Language :: Python :: 3.6Classifier: Programming Language :: Python :: Implementation :: CPythonClassifier: Programming Language :: Python :: Implementation :: PyPyRequires-Python: &gt;=3.0.0Description-Content-Type: text/markdown requires.txtï¼šå†…å®¹æ˜¯setup.pyä¸­install_requires=REQUIREDé‡Œè®¾ç½®çš„ä¾èµ–å†…å®¹ï¼Œå†™æ³•å‚çœ‹requirements.txt SOURCES.txtï¼šåˆ—å‡ºäº†æ‰€æœ‰è¢«æ‰“åŒ…çš„æ–‡ä»¶ 1234567891011MANIFEST.inREADME.mdsetup.pycltest.egg-info/PKG-INFOcltest.egg-info/SOURCES.txtcltest.egg-info/dependency_links.txtcltest.egg-info/requires.txtcltest.egg-info/top_level.txtfiles/__init__.pyfiles/txt.txtfiles/world.py top_level.txtï¼šåˆ—å‡ºäº†å¯ç”¨çš„æ¨¡å—ï¼Œåº”è¯¥æ˜¯ç”±packages=find_packages(exclude=('tests',)),å†³å®šçš„ï¼Œç”±äºæˆ‘åªå†™äº†ä¸€ä¸ªåŒ…filesï¼Œæ‰€ä»¥å†…å®¹ä¹Ÿåªæœ‰ 1files å¦‚ä½•ä½¿ç”¨ï¼Ÿ è¿™è¾¹éœ€è¦æ³¨æ„çš„æ˜¯åœ¨setup.pyä¸­è®¾ç½®name='cltest'æ˜¯æŒ‡çš„æ•´ä¸ªåº“çš„åå­—ï¼Œä½†çœŸæ­£ä½¿ç”¨çš„æ˜¯è¦çœ‹è¿™ä¸ªåº“ä¸‹æœ‰å“ªäº›å¯ç”¨çš„åŒ…ï¼ŒåŒ…ä¸‹æœ‰å“ªäº›æ¨¡å—ã€‚ åœ¨æˆ‘çš„è¿™ä¸ªä¾‹å­ä¸‹é¢ï¼Œå¯ä»¥é€šè¿‡åº“åcltestæ¥æ‰¾åˆ°ã€ä¸‹è½½æˆ‘è¿™ä¸ªåº“ã€‚åœ¨å®‰è£…å®Œä»¥åï¼Œå¯¼å…¥å°±å¾—çŸ¥é“åŒ…åäº†ï¼Œè¿™è¾¹æ˜¯filesï¼Œæ‰€ä»¥ä½¿ç”¨å¾—ä»£ç åº”è¯¥æ˜¯ 12from files import worldworld.readTXT() è¿™ä¸ªç°è±¡å…¶å®è¿˜æŒºå¸¸è§çš„ï¼Œæ¯”å¦‚beautifulSoup4åº“ï¼Œä½¿ç”¨çš„æ—¶å€™æ˜¯from bs4 import ..ï¼›ä»¥åŠpython-opencv2åº“ï¼Œéœ€è¦import cv2 as cvã€‚å…¶å®å°±æ˜¯è¿™è¾¹åº“åä¸åŒ…åçš„åŒºåˆ«ã€‚ å‘ç‚¹è®°å½•: 1234567from files import world'''def readTXT(): with open('txt.txt', 'r') as f: print(f.read())'''world.readTXT() ç”±äºâ€™txt.txtâ€™æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ‰€ä»¥åªæœ‰åœ¨è¿è¡Œè„šæœ¬ä½ç½®æœ‰txt.txtæ–‡ä»¶æ—¶æ‰ä¸ä¼šæŠ¥é”™ï¼Œä¸€å¼€å§‹from files import worldæ—¶æŠ¥é”™txt.txtä»¥ä¸ºæ—¶txt.txtæ²¡æœ‰è¢«æ‰“åŒ…è¿›å»ï¼ˆå…¶å®å¯ä»¥é€šè¿‡Sources.txtæ–‡ä»¶æŸ¥çœ‹åˆ°åº•æœ‰æ²¡æœ‰è¢«æ‰“åŒ…è¿›å»ï¼‰ï¼Œåæ¥æ‰æ˜ç™½æ˜¯ä½¿ç”¨readTXT()çš„å½“å‰ç›®å½•ä¸‹ä¸å­˜åœ¨è€Œå·²ã€‚","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Oauth2åŸç†ã€ä½¿ç”¨","slug":"Oauth2åŸç†ã€ä½¿ç”¨","date":"2019-06-03T13:22:30.000Z","updated":"2019-09-15T08:07:30.966Z","comments":true,"path":"2019/06/03/Oauth2åŸç†ã€ä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/06/03/Oauth2åŸç†ã€ä½¿ç”¨/","excerpt":"","text":"Oauth2åŸç†ã€ä½¿ç”¨ åŸç† å¿«é€’å‘˜â€“&gt;é—¨ç¦â€“&gt;å°åŒºâ€“&gt;æˆ‘å®¶ &lt;=====&gt; ç¬¬ä¸‰æ–¹åº”ç”¨ --&gt; å¾®ä¿¡å¢™ â€”&gt;è´¦å·â€“&gt;ä¸ªäººæ•°æ® ç®€å•è¯´ï¼ŒOAuth å°±æ˜¯ä¸€ç§æˆæƒæœºåˆ¶ã€‚æ•°æ®çš„æ‰€æœ‰è€…å‘Šè¯‰ç³»ç»Ÿï¼ŒåŒæ„æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨è¿›å…¥ç³»ç»Ÿï¼Œè·å–è¿™äº›æ•°æ®ã€‚ç³»ç»Ÿä»è€Œäº§ç”Ÿä¸€ä¸ªçŸ­æœŸçš„è¿›å…¥ä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œç”¨æ¥ä»£æ›¿å¯†ç ï¼Œä¾›ç¬¬ä¸‰æ–¹åº”ç”¨ä½¿ç”¨ã€‚ OAuth çš„æ ¸å¿ƒå°±æ˜¯å‘ç¬¬ä¸‰æ–¹åº”ç”¨é¢å‘ä»¤ç‰Œ ä»¤ç‰Œç‰¹ç‚¹ï¼š ï¼ˆ1ï¼‰ä»¤ç‰Œæ˜¯çŸ­æœŸçš„ï¼Œåˆ°æœŸä¼šè‡ªåŠ¨å¤±æ•ˆï¼Œç”¨æˆ·è‡ªå·±æ— æ³•ä¿®æ”¹ã€‚å¯†ç ä¸€èˆ¬é•¿æœŸæœ‰æ•ˆï¼Œç”¨æˆ·ä¸ä¿®æ”¹ï¼Œå°±ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚ ï¼ˆ2ï¼‰ä»¤ç‰Œå¯ä»¥è¢«æ•°æ®æ‰€æœ‰è€…æ’¤é”€ï¼Œä¼šç«‹å³å¤±æ•ˆã€‚ä»¥ä¸Šä¾‹è€Œè¨€ï¼Œå±‹ä¸»å¯ä»¥éšæ—¶å–æ¶ˆå¿«é€’å‘˜çš„ä»¤ç‰Œã€‚å¯†ç ä¸€èˆ¬ä¸å…è®¸è¢«ä»–äººæ’¤é”€ã€‚ ï¼ˆ3ï¼‰ä»¤ç‰Œæœ‰æƒé™èŒƒå›´ï¼ˆscopeï¼‰ï¼Œæ¯”å¦‚åªèƒ½è¿›å°åŒºçš„äºŒå·é—¨ã€‚å¯¹äºç½‘ç»œæœåŠ¡æ¥è¯´ï¼Œåªè¯»ä»¤ç‰Œå°±æ¯”è¯»å†™ä»¤ç‰Œæ›´å®‰å…¨ã€‚å¯†ç ä¸€èˆ¬æ˜¯å®Œæ•´æƒé™ã€‚ OAuthæ˜¯ä»€ä¹ˆï¼Ÿ å¼•å…¥äº†ä¸€ä¸ªæˆæƒå±‚ï¼Œç”¨æ¥åˆ†ç¦»ä¸¤ç§ä¸åŒçš„è§’è‰²ï¼šå®¢æˆ·ç«¯å’Œèµ„æºæ‰€æœ‰è€…ã€‚â€¦èµ„æºæ‰€æœ‰è€…åŒæ„ä»¥åï¼Œèµ„æºæœåŠ¡å™¨å¯ä»¥å‘å®¢æˆ·ç«¯é¢å‘ä»¤ç‰Œã€‚å®¢æˆ·ç«¯é€šè¿‡ä»¤ç‰Œï¼Œå»è¯·æ±‚æ•°æ®ã€‚ å››ç§è·å¾—ä»¤ç‰Œçš„æµç¨‹: æˆæƒç ï¼ˆauthorization-codeï¼‰ 1.å‘é€è¯·æ±‚A-&gt;B 12345https://b.com/oauth/authorize? response_type=code&amp; client_id=CLIENT_ID&amp; redirect_uri=CALLBACK_URL&amp; scope=read Aï¼ˆå®¢æˆ·ç«¯ï¼‰-&gt;Bï¼ˆï¼‰response_typeå‚æ•°è¡¨ç¤ºè¦æ±‚è¿”å›æˆæƒç ï¼ˆcodeï¼‰ï¼Œclient_idå‚æ•°è®© B çŸ¥é“æ˜¯è°åœ¨è¯·æ±‚ï¼Œredirect_uriå‚æ•°æ˜¯ B æ¥å—æˆ–æ‹’ç»è¯·æ±‚åçš„è·³è½¬ç½‘å€ï¼Œscopeå‚æ•°è¡¨ç¤ºè¦æ±‚çš„æˆæƒèŒƒå›´ï¼ˆè¿™é‡Œæ˜¯åªè¯»ï¼‰ã€‚ ç¬¬äºŒæ­¥ï¼Œç”¨æˆ·è·³è½¬åï¼ŒB ç½‘ç«™ä¼šè¦æ±‚ç”¨æˆ·ç™»å½•ï¼Œç„¶åè¯¢é—®æ˜¯å¦åŒæ„ç»™äºˆ A ç½‘ç«™æˆæƒã€‚ç”¨æˆ·è¡¨ç¤ºåŒæ„ï¼Œè¿™æ—¶ B ç½‘ç«™å°±ä¼šè·³å›redirect_uriå‚æ•°æŒ‡å®šçš„ç½‘å€ã€‚è·³è½¬æ—¶ï¼Œä¼šä¼ å›ä¸€ä¸ªæˆæƒç ï¼Œå°±åƒhttps://a.com/callback?code=AUTHORIZATION_CODE ç¬¬ä¸‰æ­¥ï¼ŒA ç½‘ç«™æ‹¿åˆ°æˆæƒç ä»¥åï¼Œå°±å¯ä»¥åœ¨åç«¯ï¼Œå‘ B ç½‘ç«™è¯·æ±‚ä»¤ç‰Œã€‚ 123456https://b.com/oauth/token? client_id=CLIENT_ID&amp; client_secret=CLIENT_SECRET&amp; grant_type=authorization_code&amp; code=AUTHORIZATION_CODE&amp; redirect_uri=CALLBACK_URL ä¸Šé¢ URL ä¸­ï¼Œclient_idå‚æ•°å’Œclient_secretå‚æ•°ç”¨æ¥è®© B ç¡®è®¤ A çš„èº«ä»½ï¼ˆclient_secretå‚æ•°æ˜¯ä¿å¯†çš„ï¼Œå› æ­¤åªèƒ½åœ¨åç«¯å‘è¯·æ±‚ï¼‰ï¼Œgrant_typeå‚æ•°çš„å€¼æ˜¯AUTHORIZATION_CODEï¼Œè¡¨ç¤ºé‡‡ç”¨çš„æˆæƒæ–¹å¼æ˜¯æˆæƒç ï¼Œcodeå‚æ•°æ˜¯ä¸Šä¸€æ­¥æ‹¿åˆ°çš„æˆæƒç ï¼Œredirect_uriå‚æ•°æ˜¯ä»¤ç‰Œé¢å‘åçš„å›è°ƒç½‘å€ã€‚ ç¬¬å››æ­¥ï¼ŒB ç½‘ç«™æ”¶åˆ°è¯·æ±‚ä»¥åï¼Œå°±ä¼šé¢å‘ä»¤ç‰Œã€‚å…·ä½“åšæ³•æ˜¯å‘redirect_uriæŒ‡å®šçš„ç½‘å€ï¼Œå‘é€ä¸€æ®µ JSON æ•°æ®ã€‚ 123456789&#123; \"access_token\":\"ACCESS_TOKEN\", \"token_type\":\"bearer\", \"expires_in\":2592000, \"refresh_token\":\"REFRESH_TOKEN\", \"scope\":\"read\", \"uid\":100101, \"info\":&#123;...&#125;&#125; ä¸Šé¢ JSON æ•°æ®ä¸­ï¼Œaccess_tokenå­—æ®µå°±æ˜¯ä»¤ç‰Œï¼ŒA ç½‘ç«™åœ¨åç«¯æ‹¿åˆ°äº†ã€‚ éšè—å¼ï¼ˆimplicitï¼‰ æœ‰äº› Web åº”ç”¨æ˜¯çº¯å‰ç«¯åº”ç”¨ï¼Œæ²¡æœ‰åç«¯ã€‚è¿™æ—¶å°±ä¸èƒ½ç”¨ä¸Šé¢çš„æ–¹å¼äº†ï¼Œå¿…é¡»å°†ä»¤ç‰Œå‚¨å­˜åœ¨å‰ç«¯ã€‚ 12345https://b.com/oauth/authorize? response_type=token&amp; client_id=CLIENT_ID&amp; redirect_uri=CALLBACK_URL&amp; scope=read response_typeå‚æ•°ä¸ºtokenï¼Œè¡¨ç¤ºè¦æ±‚ç›´æ¥è¿”å›ä»¤ç‰Œã€‚ https://a.com/callback#token=ACCESS_TOKEN``tokenå‚æ•°å°±æ˜¯ä»¤ç‰Œï¼ŒA ç½‘ç«™å› æ­¤ç›´æ¥åœ¨å‰ç«¯æ‹¿åˆ°ä»¤ç‰Œã€‚ â–²æ³¨æ„ï¼Œä»¤ç‰Œçš„ä½ç½®æ˜¯ URL é”šç‚¹ï¼ˆfragmentï¼‰ï¼Œè€Œä¸æ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆquerystringï¼‰ï¼Œè¿™æ˜¯å› ä¸º OAuth 2.0 å…è®¸è·³è½¬ç½‘å€æ˜¯ HTTP åè®®ï¼Œå› æ­¤å­˜åœ¨&quot;ä¸­é—´äººæ”»å‡»&quot;çš„é£é™©ï¼Œè€Œæµè§ˆå™¨è·³è½¬æ—¶ï¼Œé”šç‚¹ä¸ä¼šå‘åˆ°æœåŠ¡å™¨ï¼Œå°±å‡å°‘äº†æ³„æ¼ä»¤ç‰Œçš„é£é™©ã€‚ å¯†ç å¼ï¼ˆpasswordï¼‰ï¼š å¦‚æœä½ é«˜åº¦ä¿¡ä»»æŸä¸ªåº”ç”¨ï¼ŒRFC 6749 ä¹Ÿå…è®¸ç”¨æˆ·æŠŠç”¨æˆ·åå’Œå¯†ç ï¼Œç›´æ¥å‘Šè¯‰è¯¥åº”ç”¨ã€‚è¯¥åº”ç”¨å°±ä½¿ç”¨ä½ çš„å¯†ç ï¼Œç”³è¯·ä»¤ç‰Œï¼Œè¿™ç§æ–¹å¼ç§°ä¸º&quot;å¯†ç å¼&quot;ï¼ˆpasswordï¼‰ã€‚ å®¢æˆ·ç«¯å‡­è¯ï¼ˆclient credentialsï¼‰ é€‚ç”¨äºæ²¡æœ‰å‰ç«¯çš„å‘½ä»¤è¡Œåº”ç”¨ï¼Œå³åœ¨å‘½ä»¤è¡Œä¸‹è¯·æ±‚ä»¤ç‰Œã€‚ clientIDå’ŒClientSecretå‡æ˜¯Appéœ€è¦ç”³è¯·çš„APIå¯†é’¥ ä½¿ç”¨ Github Oauth QQ Oauth æœ¬åœ°æµ‹è¯•QQçš„å†™æ³• 12345678910111213141516171819202122232425262728293031323334353637383940414243# æ–¹æ³•ä¸€ï¼šåœ¨hostsä¸­å°†nymrli.topä¿®æ”¹åˆ°127.0.0.1@app.route('/login')def login(): params = &#123; 'response_type' : 'code', 'client_id' : '101568872', 'redirect_uri' : 'http://beta.nymrli.top/oauth/qq', 'state' : '1', &#125; url = 'https://graph.qq.com/oauth2.0/authorize?' urlParams = urlencode(params) # â–²éœ€è¦urlç¼–ç  comleteUrl = url + urlParams # return url_for( ) ''' â–²åº”è¯¥ç”¨redirectï¼Œè€Œä¸æ˜¯requests.getçš„textå†…å®¹æˆ–è€…æ˜¯url_for ''' return redirect( comleteUrl) @app.route('/oauth/qq')def getCode(): return request.args.get('code') # æ–¹æ³•äºŒï¼šéšä¾¿ç”³è¯·ä¸€ä¸ªåº”ç”¨@app.route('/login')def login(): params = &#123; 'response_type' : 'code', 'client_id' : '101584056', # 'redirect_uri' : 'http://beta.nymrli.top/oauth/qq', 'redirect_uri' : 'http://127.0.0.1:8000/oauth/redirect', 'state' : 'test' &#125; url = 'https://graph.qq.com/oauth2.0/authorize?' urlParams = urlencode(params) comleteUrl = url + urlParams return redirect( comleteUrl)@app.route('/oauth/redirect')def getCode(): print(request.args) return 'hello' å‘ç‚¹è®°å½•ï¼šéƒ¨ç½² ç»è¿‡è°ƒè¯•å‘ç°éƒ¨ç½²ä¸Šå»åï¼Œåœ¨http://beta.nymrli.top/infoé¡µé¢ä¸‹è·å¾—ä¸åˆ° access_token = session.get('access_token')äºæ˜¯çŒœæƒ³sessionè®¾ç½®æœ‰é—®é¢˜ã€‚æœç„¶linuxä¸‹os.urandom(24)æœ‰é—®é¢˜ï¼Œ ç»“æœæ˜¯æ— æ³•è·å¾—åˆ°ä¿¡æ¯ã€‚ç»ä¿®æ”¹åèƒ½æ­£å¸¸è·å¾—ç»“æœ 1SECRET_KEY= os.urandom(24) # è®¾ç½®ä¸º24ä½çš„å­—ç¬¦,æ¯æ¬¡è¿è¡ŒæœåŠ¡å™¨éƒ½æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥æœåŠ¡å™¨å¯åŠ¨ä¸€æ¬¡ä¸Šæ¬¡çš„sessionå°±æ¸…é™¤ã€‚ æ”¹æˆéšä¾¿çš„SECRET_KEYçš„å°±è¡Œäº†ï¼Œæ¯”å¦‚SECRET_KEY='asdzxcqwe'","categories":[],"tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"flask","slug":"flask","permalink":"https://nymrli.top/tags/flask/"},{"name":"Web","slug":"Web","permalink":"https://nymrli.top/tags/Web/"}]},{"title":"luaå­¦ä¹ ","slug":"luaå­¦ä¹ ","date":"2019-06-03T13:22:03.000Z","updated":"2019-09-15T08:07:30.962Z","comments":true,"path":"2019/06/03/luaå­¦ä¹ /","link":"","permalink":"https://nymrli.top/2019/06/03/luaå­¦ä¹ /","excerpt":"","text":"luaå­¦ä¹  åŠ¨æ€è„šæœ¬è¯­è¨€ï¼Œå¯åµŒå…¥Cå’ŒC++ï¼ŒLuaè´Ÿè´£é€»è¾‘ï¼ŒCã€C++è´Ÿè´£åŠŸèƒ½ Cç¼–è¯‘ï¼Œè·¨å¹³å°æ€§è‰¯å¥½ 12345678910111213141516-- å¾ªç¯ç»“æ„ [1,10]for i=1,10 do print(i)end-- å‡½æ•°function function_name( ... ) -- bodyend-- é€‰æ‹©ç»“æ„if elseend è¡¨{} &lt;==&gt;å­—å…¸ 12345678910Conftg=&#123; hello=\"Hello Lua\", world=\"World\"&#125;Config.words=\"Hello\"Config.num=180Config[\"name\"]=\"ZhangSan\"print(Config[\"words\"])print(Config. name)print(Config, hello)for key, var in pairs(Config) do print(key, var)end æ•°ç»„{} 12345678910arr = &#123;1,2,3,'hello'&#125;for k,v in pairs(arr) do print(k,v)end&gt;&gt;&gt; 1 12 2 3 3 4 hello â–²ç´¢å¼•ä»1å¼€å§‹ ä½¿ç”¨APItable 1234567891011-- æ•°ç»„æ’å…¥for i=1,10 do table.insert( arr , 1, i) -- ç»sxhå‘ç°ç»“æœæ˜¯é€†åºçš„,19-&gt;2,20-&gt;1 ï¼Œ åŸå› æ˜¯æ¯æ¬¡éƒ½ä»å¤´éƒ¨æ’å…¥ï¼Œç›¸å½“äºLIFO , æ­¤æ—¶æ„Ÿè§‰åƒæ˜¯æ•°ç»„ï¼ˆå¸¦ç´¢å¼•keyï¼‰...å¹¶ä¸”table.insert( arr , 2, i)ç»“æœåªæœ‰2--&gt;20 ï¼Œæ­¤æ—¶åƒå­—å…¸ï¼ˆåªæœ‰é”®2ï¼‰ -- æ­£åºçš„é¡ºå‡º table.insert( arr , i) -- é»˜è®¤åœ¨å°¾éƒ¨å¼€å§‹æ’å…¥ -- æˆ–è€…arr[i] = iend-- è·å¾—æ•°ç»„é•¿åº¦table.maxn(arr) é¢å‘å¯¹è±¡ æ²¡æœ‰classç±»å…³é”®å­—ï¼Œä½†å¯ä»¥è‡ªå·±å®ç°ç±»çš„åŠŸèƒ½ï¼š å¤åˆ¶è¡¨table å‡½æ•°é—­åŒ… å¤åˆ¶è¡¨table 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364people = &#123;&#125;-- æ³•ä¸€function people.sayHi() print('Hi')end-- æ³•äºŒpeople.sayHi = function () print('Hi') end-- æ‹·è´function clone( tab ) local arr = &#123;&#125; for k,v in pairs(tab) do arr[k] = tab[v] end return arrend-- ç›¸å½“äºæ˜¯æ„é€ æ–¹æ³•People.new = function (name) local self = clone(People) self.name = name return self end-- æˆå‘˜å‡½æ•°People.sayHi = function(self) -- selfæ˜¯ç±»ç¤ºä¾‹å˜é‡ -- ..æ˜¯å­—ç¬¦ä¸²è¿æ¥ print(\"People say hi:\".. self. name)end -- æµ‹è¯•å¯ä»¥å®ç°ç±»çš„åŠŸèƒ½--local p = clone(People)--p.sayHi()-- æµ‹è¯•æ„é€ å‡½æ•°local p = People.new(\"ZhangSan\")-- éœ€è¦ä¼ ç±»ç¤ºä¾‹p.sayHi(p)-- ä½¿ç”¨ï¼šå¯ä»¥ä¸ç”¨ä¼ ç±»ç¤ºä¾‹p:sayHi()Man=&#123;&#125;-- å®ç°ç±»çš„ç»§æ‰¿çš„åŠŸèƒ½Man.new = function (name) local self =People.new(name) copy(self, Man) return self end-- å¢æ·»æˆå‘˜å‡½æ•°Man.sayHello=function() print(\"Man say hello\")end -- é‡å†™æˆå‘˜å‡½æ•°Man.sayHi = function (self) print(\"Man sayHi\".. self.name)end å‡½æ•°é—­åŒ… 123456789101112131415161718192021222324function People() local self = &#123;&#125; function init( name ) self.name = name end function sayHello() print(\"Hello \"..self.name) end init() return selfend-- ç»§æ‰¿function Man(name) local self= People(name) -- local function init() -- end self.sayHello=function () print(\"hello\"..self.name) end return selfend å­¦ä¹ è‡ª https://www.bilibili.com/video/av46428956/?p=8 é€šè¿‡è¡¨çš„ç‰¹æ€§å®ç°switchå…³é”®å­—åŠŸèƒ½ 1234567891011121314local key = 1 local switch = &#123; [1] = function() print(\"switch:\"..1) end, [2] = function() print(\"switch:\"..2) end, [\"test\"] = function() print(\"switch:test\") end, &#125; switch[2]()-- &gt;&gt;&gt; 2 ä¼ªéšæœºæ•°çš„ç”Ÿæˆ 123456-- å› æ­¤â€œçŸ­æ—¶é—´å†…å¤šæ¬¡è¿è¡Œç¨‹åºâ€ è¿™æ ·çš„éœ€æ±‚ä¸‹ os.time è¿˜çœŸä¸å¤§å¥½ã€‚å¯æ˜¯åˆæ²¡æœ‰æ¯” time å‡½æ•°æ›´æ–¹ä¾¿çš„ç§å­ç”Ÿæˆå™¨ï¼Œ æ€ä¹ˆåŠå‘¢ï¼Ÿmath.randomseed(tostring(os.time()):reverse():sub(1, 6))for i=1, 5 do print(math.random(4))end-- å°±æ˜¯æŠŠ timeè¿”å›çš„æ•°å€¼å­—ä¸²å€’è¿‡æ¥ï¼ˆä½ä½å˜é«˜ä½ï¼‰ï¼Œ å†å–é«˜ä½6ä½ã€‚ è¿™æ ·ï¼Œ å³ä½¿ timeå˜åŒ–å¾ˆå°ï¼Œ ä½†æ˜¯å› ä¸ºä½ä½å˜äº†é«˜ä½ï¼Œ ç§å­æ•°å€¼å˜åŒ–å´å¾ˆå¤§ï¼Œå°±å¯ä»¥ä½¿ä¼ªéšæœºåºåˆ—ç”Ÿæˆçš„æ›´å¥½ä¸€äº›","categories":[],"tags":[{"name":"lua","slug":"lua","permalink":"https://nymrli.top/tags/lua/"}]},{"title":"Javaè¯¾ç¨‹ç¬¬ä¸‰æ¬¡å®éªŒæŠ¥å‘Š","slug":"Javaè¯¾ç¨‹ç¬¬ä¸‰æ¬¡å®éªŒæŠ¥å‘Š","date":"2019-06-03T13:21:19.000Z","updated":"2019-09-15T08:07:30.947Z","comments":true,"path":"2019/06/03/Javaè¯¾ç¨‹ç¬¬ä¸‰æ¬¡å®éªŒæŠ¥å‘Š/","link":"","permalink":"https://nymrli.top/2019/06/03/Javaè¯¾ç¨‹ç¬¬ä¸‰æ¬¡å®éªŒæŠ¥å‘Š/","excerpt":"","text":"Javaè¯¾ç¨‹ç¬¬ä¸‰æ¬¡å®éªŒæŠ¥å‘Š \\1. åœ¨å‰é¢å®éªŒäºŒå·²å®šä¹‰çš„å­¦ç”Ÿç±»Studentçš„åŸºç¡€ä¸Šï¼Œä»¥Studentç±»ä¸ºçˆ¶ç±»ï¼Œä¸ºå­¦ç”Ÿç±»æ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»ä¸ºå¤§å­¦ç”Ÿç±»ï¼ˆCollegeStudentï¼‰ã€‚ CollegeStudent ç±»åœ¨å­¦ç”Ÿç±»ä¸Šå¢åŠ ä¸€ä¸ªä¸“ä¸šï¼ˆprofessionï¼‰æ•°æ®å±æ€§ï¼›æ–¹æ³•ä¸Šå¢åŠ è·å¾—ä¸“ä¸šå’Œè®¾ç½®ä¸“ä¸šä¸¤ä¸ªæ–¹æ³•ã€‚å¹¶å¯¹è¶…ç±»ä¸­çš„toString( )æ–¹æ³•è¿›è¡Œé‡å†™ï¼Œä½¿å¾—CollegeStudentç±»ä¸­çš„toString( )æ–¹æ³•é™¤äº†æ˜¾ç¤ºå­¦ç”Ÿç±»çš„ä¿¡æ¯å¤–ï¼Œè¿˜è¦æ˜¾ç¤ºå®ƒçš„ä¸“ä¸šå±æ€§ã€‚ ç¼–å†™æµ‹è¯•ç¨‹åºçš„ä¸»ç±»ã€‚åœ¨ä¸»ç±»ä¸­åˆ›å»ºä¸€ä¸ªStudentå¯¹è±¡å’ŒCollegeStudentå¯¹è±¡ï¼Œå¹¶æ˜¾ç¤ºæˆ–ä¿®æ”¹è¿™ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§å€¼ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108//package homework; package student ; public class Student &#123; private int UID; private String name; private Boolean gender; // G- B- private int age; static int cnt ; public Student() &#123;&#125; public Student(int UID,String name,Boolean gender,int age) &#123; cnt ++ ; this.UID = UID; this.name = name; this.gender = gender; this.age = age; &#125; /** * @target è·å¾—ç§æœ‰å‚æ•° */ public int getAge() &#123; return age; &#125; public String getName() &#123; return name; &#125; public Boolean getGender() &#123; return gender; &#125; public int getUID() &#123; return UID; &#125; /** * @target ä¿®æ”¹ç§æœ‰å‚æ•° */ public void setAge(int age) &#123; this.age = age; &#125; public void setUID(int uID) &#123; UID = uID; &#125; public void setName(String name) &#123; this.name = name; &#125; public void setGender(Boolean gender) &#123; this.gender = gender; &#125; @Override protected void finalize() throws Throwable &#123; // TODO Auto-generated method stub System.out.println(\"å¯¹è±¡å·²è¢«é”€æ¯\");; &#125; @Override public String toString() &#123; // TODO Auto-generated method stub if (gender) return \"è¯¥åŒå­¦çš„å­¦å·ä¸ºï¼š\" + UID +\"ï¼Œå§“åå«ï¼š\" + name + \"ï¼Œæ€§åˆ«ï¼šç”·\" + \"ï¼Œå¹´é¾„ï¼š\" + age; return \"è¯¥åŒå­¦çš„å­¦å·ä¸ºï¼š\" + UID +\"ï¼Œå§“åå«ï¼š\" + name + \"ï¼Œæ€§åˆ«ï¼šå¥³\" + \"ï¼Œå¹´é¾„ï¼š\" + age; &#125; public static int getCnt() &#123; return cnt; &#125; &#125; //æ–°å»ºç«‹çš„CoolegeStudentå¯¹è±¡ class CollegeStudent extends Student&#123; private String profession; CollegeStudent(int studentID, String name, Boolean sex, int age, String profession) &#123; super( studentID, name, sex, age ); this.profession = profession; &#125; public String getProfession() &#123; return profession; &#125; public void setProfession(String profession) &#123; this.profession = profession; &#125; @Override public String toString() &#123; return \"CollegeStudent&#123;\" + \"profession='\" + profession + '\\'' + \"studentID='\" + super.getUID() + '\\'' + \", name='\" + super.getName() + '\\'' + \", sex='\" + super.getGender() + '\\'' + \", age=\" + super.getAge() + '&#125;'; &#125; &#125; è®¾è®¡ä¸€ä¸ªäººå‘˜ç±»ï¼ˆPersonï¼‰ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæ–¹æ³•payï¼Œä»£è¡¨äººå‘˜çš„å·¥èµ„æ”¯å‡ºã€‚å†ä»Personç±»æ´¾ç”Ÿå‡ºåŠ©æ•™ç±»ï¼ˆAssistantï¼‰ã€è®²å¸ˆç±»ï¼ˆInstructorï¼‰ã€å‰¯æ•™æˆç±»ï¼ˆAssistant Professorï¼‰å’Œæ•™æˆç±»ï¼ˆProfessorï¼‰ã€‚å…¶ä¸­ï¼šå·¥èµ„æ”¯å‡º=åŸºæœ¬å·¥èµ„+æˆè¯¾æ—¶æ•°*æ¯è¯¾æ—¶å…¼è¯¾é‡‘ã€‚ ä½†åŠ©æ•™åŸºæœ¬å·¥èµ„ä¸º800ï¼Œæ¯è¯¾æ—¶å…¼è¯¾é‡‘25ï¼Œè®²å¸ˆåŸºæœ¬å·¥èµ„ä¸º1000ï¼Œæ¯è¯¾æ—¶å…¼è¯¾é‡‘35ï¼Œ å‰¯æ•™æˆåŸºæœ¬å·¥èµ„ä¸º1200ï¼Œæ¯è¯¾æ—¶å…¼è¯¾é‡‘40ï¼Œæ•™æˆåŸºæœ¬å·¥èµ„ä¸º1400ï¼Œæ¯è¯¾æ—¶å…¼è¯¾é‡‘50ã€‚ 1.å°†Personå®šä¹‰ä¸ºæŠ½è±¡ç±»ï¼Œpayä¸ºæŠ½è±¡æ–¹æ³•ï¼Œè®¾è®¡ç¨‹åºå®ç°å¤šæ€æ€§ã€‚ 2.å°†Personå®šä¹‰ä¸ºæ¥å£ï¼Œè®¾è®¡ç¨‹åºå®ç°å¤šæ€æ€§ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118//Personå†™æˆç±»ï¼š class Person &#123; public int basic; public int hour; public int charge; public Person() &#123; &#125; public Person(int basic, int charge) &#123; this.basic = basic; this.charge = charge; &#125; public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (basic + hour * charge) ); &#125; &#125; class Assistant extends Person &#123; public Assistant() &#123; super( 800, 25 ); &#125; &#125; class Instructor extends Person &#123; public Instructor() &#123; super( 1000, 35 ); &#125; &#125; class AssistantProfessor extends Person &#123; public AssistantProfessor() &#123; super( 1200, 40 ); &#125; &#125; class Professor extends Person &#123; public Professor() &#123; super( 1400, 50 ); &#125; &#125; //Personå†™æˆæŠ½è±¡ç±» abstract class Person &#123; public int hour; public abstract void pay(int hour); class Assistant extends Person &#123; @Override public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (800 + hour * 25) ); &#125; &#125; class Instructor extends Person &#123; @Override public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (1000 + hour * 35) ); &#125; &#125; class AssistantProfessor extends Person &#123; @Override public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (1200 + hour * 40) ); &#125; &#125; class Professor extends Person &#123; @Override public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (1400 + hour * 50) ); &#125; &#125; /** * @author mrli * æ¥å£å†™æ³• */ interface Person &#123; void pay(int hour); &#125; class Assistant implements Person &#123; @Override public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (800 + hour * 25) ); &#125; &#125; class Instructor implements Person &#123; @Override public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (1000 + hour * 35) ); &#125; &#125; class AssistantProfessor implements Person &#123; @Override public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (1200 + hour * 40) ); &#125; &#125; class Professor implements Person &#123; @Override public void pay(int hour) &#123; System.out.println( hour + \"å°æ—¶åçš„å·¥èµ„ä¸º\" + (1400 + hour * 50) ); &#125; &#125; ä»é”®ç›˜è¾“å…¥ä¸¤ä¸ªæ•°ï¼Œè¿›è¡Œç›¸é™¤ï¼Œæ˜¾ç¤ºå•†ã€‚å½“è¾“å…¥ä¸²ä¸­å«æœ‰éæ•°å­—æ—¶æˆ–é™¤æ•°ä¸º0æ—¶ï¼Œé€šè¿‡å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä½¿ç¨‹åºèƒ½æ­£ç¡®è¿è¡Œã€‚ 1234567891011121314151617181920212223242526import java.util.InputMismatchException; import java.util.Scanner; public class yichang &#123; public static void main(String[] args) &#123; // TODO Auto-generated method stub try &#123; Scanner scanner = new Scanner(System.in); System.out.print( \"è¯·è¾“å…¥é™¤æ•°:\" ); int dividedNum = scanner.nextInt(); System.out.print( \"è¯·è¾“å…¥è¢«é™¤æ•°:\" ); int divNum = scanner.nextInt(); System.out.println( \"è®¡ç®—ç»“æœï¼š\" + dividedNum / divNum ); &#125; catch (InputMismatchException e1) &#123; // TODO: handle exception System.out.println(\"è¾“å…¥ä¸ä¸ºæ•°å­—!\"); &#125;catch (ArithmeticException e2) &#123; // TODO: handle exception System.out.println(\"ä¸èƒ½é™¤0!\"); &#125; &#125; &#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬å…«æ¬¡ä½œä¸š","slug":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬å…«æ¬¡ä½œä¸š","date":"2019-06-03T13:20:12.000Z","updated":"2019-09-15T08:07:31.037Z","comments":true,"path":"2019/06/03/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬å…«æ¬¡ä½œä¸š/","link":"","permalink":"https://nymrli.top/2019/06/03/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬å…«æ¬¡ä½œä¸š/","excerpt":"","text":"æ€»åˆ†ï¼š100 é€‰æ‹©é¢˜å¾—åˆ†ï¼š70 int[][] a=new int[2][3]ï¼Œåˆ™è¯¥æ•°ç»„åŒ…å«ï¼ˆ ï¼‰ä¸ªæ•°ç»„å…ƒç´ ã€‚ A.2 B.3 C.6 D.ä¸ç¡®å®š æ­£ç¡®ç­”æ¡ˆæ˜¯: C å·²çŸ¥ç±»personæ˜¯ç±»studentçš„çˆ¶ç±»ï¼Œä»¥ä¸‹æ•°ç»„å®šä¹‰å’Œèµ‹å€¼æ­£ç¡®çš„æ˜¯( )ã€‚ A.person p[]=new person[3]; p[1]=new student(); B.student s[]=new person[3]; s[1]=new person(); C.person p[]= new student[3];p[1]= new person(); D.student s[]=new student[3];s[1]=new person; æ­£ç¡®ç­”æ¡ˆæ˜¯: A ä¸‹é¢å…³äºjavaä¸­ç±»çš„è¯´æ³•ä¸æ­£ç¡®çš„æ˜¯( )ã€‚ A.ç±»ä½“ä¸­åŒ…å«äº†å˜é‡å®šä¹‰å’Œæˆå‘˜æ–¹æ³•çš„å®šä¹‰ B.æ„é€ å‡½æ•°æ˜¯ç±»ä¸­çš„ç‰¹æ®Šæ–¹æ³• C.ç±»ä¸€å®šè¦å£°æ˜ä¸ºpublicçš„ï¼Œæ‰å¯ä»¥æ‰§è¡Œ D.ä¸€ä¸ªjavaæ–‡ä»¶ä¸­å¯ä»¥æœ‰å¤šä¸ªclasså®šä¹‰ æ­£ç¡®ç­”æ¡ˆæ˜¯: C å…³äºæ¥å£ä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„( )ã€‚ A.å®ç°ä¸€ä¸ªæ¥å£å¿…é¡»å®ç°æ¥å£çš„æ‰€æœ‰æ–¹æ³• B.æ¥å£é—´ä¸èƒ½æœ‰ç»§æ‰¿å…³ç³» C.ä¸€ä¸ªç±»åªèƒ½å®ç°ä¸€ä¸ªæ¥å£ D.æ¥å£å’ŒæŠ½è±¡ç±»æ˜¯åŒä¸€å›äº‹ æ­£ç¡®ç­”æ¡ˆæ˜¯: A ä»¥ä¸‹æœ‰å…³æ„é€ æ–¹æ³•çš„è¯´æ³•ï¼Œæ­£ç¡®çš„æ˜¯( )ã€‚ A.ä¸€ä¸ªç±»çš„æ„é€ æ–¹æ³•å¯ä»¥æœ‰å¤šä¸ª B.æ„é€ æ–¹æ³•ä¸å¯ä»¥é‡è½½ C.æ„é€ æ–¹æ³•å¯ä»¥æœ‰è¿”å›å€¼ D.æ„é€ æ–¹æ³•å¯ä»¥å’Œç±»åŒåï¼Œä¹Ÿå¯ä»¥å’Œç±»åä¸åŒ æ­£ç¡®ç­”æ¡ˆæ˜¯: A ä¸‹åˆ—è®ºè¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰ã€‚ A.Javaæºä»£ç çš„åç¼€åæ˜¯.javaã€‚ B.Javaæºä»£ç ä¸­çš„æ¯ä¸ªç±»ç»è¿‡ç¼–è¯‘åéƒ½ä¼šç”Ÿæˆä¸€ä¸ª.classæ–‡ä»¶ã€‚ C.åœ¨ä¸€ä¸ªåä¸ºA.javaçš„æ–‡ä»¶ä¸­åªèƒ½å®šä¹‰ä¸€ä¸ªç±»ã€‚ D.Javaæºä»£ç ä¸­å¯ä»¥å®šä¹‰ç±»å’Œæ¥å£ã€‚ æ­£ç¡®ç­”æ¡ˆæ˜¯: C ä¸‹åˆ—è®ºè¿°ä¸­ï¼Œæ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ã€‚ A.æŠ½è±¡æ–¹æ³•æ˜¯æ²¡æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•ã€‚ B.æŠ½è±¡æ–¹æ³•ä¸€å®šå­˜åœ¨äºæŠ½è±¡ç±»ä¸­ã€‚ C.æŠ½è±¡ç±»ä¸­ä¸€å®šè¦åŒ…å«æŠ½è±¡æ–¹æ³•ã€‚ D.æŠ½è±¡ç±»å¯ä»¥åˆ›å»ºå¯¹è±¡ã€‚ æ­£ç¡®ç­”æ¡ˆæ˜¯: A MyClassç±»å®šä¹‰å¦‚ä¸‹ï¼š class MyClass{ public MyClass(int x){ } } å¦‚ä¸‹æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œï¼ˆ ï¼‰æ˜¯æ­£ç¡®çš„ A.MyClass myobj=new Myclass; B.MyClass myobj=new Myclass(); C.MyClass myobj=new Myclass(1); D.MyClass myobj=new Myclass(1,2); æ­£ç¡®ç­”æ¡ˆæ˜¯: C å…³äºæ–¹æ³•void fjv(int x,int y){}ï¼Œä¸‹é¢ï¼ˆ ï¼‰ä¸èƒ½æˆä¸ºå®ƒçš„é‡è½½ã€‚ A.void fjv(int x,float y){} B.void fjv(int x){} C.void fjv(float x,int y){} D.int fjv(int y,int x){} æ­£ç¡®ç­”æ¡ˆæ˜¯: D ä¸‹è¿°ï¼ˆ ï¼‰è¯´æ³•æ˜¯ä¸æ­£ç¡®çš„ A.å®ä¾‹å˜é‡æ˜¯ç”¨staticå…³é”®å­—å£°æ˜çš„ï¼› B.å®ä¾‹å˜é‡æ˜¯ç±»çš„æˆå‘˜å˜é‡ï¼› C.æ–¹æ³•å˜é‡å¯åœ¨æ–¹æ³•æ‰§è¡Œæ—¶åˆ›å»ºï¼› D.æ–¹æ³•å˜é‡åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»åˆå§‹åŒ–ï¼› æ­£ç¡®ç­”æ¡ˆæ˜¯: A å¦‚æœä¸€ä¸ªæ–¹æ³•è¢«ä¿®é¥°ä¸º________æ–¹æ³•ï¼Œåˆ™è¿™ä¸ªæ–¹æ³•ä¸èƒ½è¢«é‡å†™ã€‚ A.final B.static C.void D.protected æ­£ç¡®ç­”æ¡ˆæ˜¯: A åœ¨Javaä¸­ï¼Œä¸‹é¢è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ã€‚ A.ä¸€ä¸ªå­ç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œä¸€ä¸ªçˆ¶ç±»ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå­ç±» B.ä¸€ä¸ªå­ç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œä½†ä¸€ä¸ªçˆ¶ç±»åªå¯ä»¥æœ‰ä¸€ä¸ªå­ç±» C.ä¸€ä¸ªå­ç±»å¯ä»¥æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†ä¸€ä¸ªçˆ¶ç±»å¯ä»¥æœ‰å¤šä¸ªå­ç±» D.ä¸Šè¿°è¯´æ³•éƒ½ä¸å¯¹ æ­£ç¡®ç­”æ¡ˆæ˜¯: C ___________å˜é‡åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªæ‹·è´ï¼Œè¢«è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«ã€‚ A.æˆå‘˜ B.å±€éƒ¨ C.å…¨å±€ D.ç±» æ­£ç¡®ç­”æ¡ˆæ˜¯: D MAX_LENGTHæ˜¯intå‹publicæˆå‘˜å˜é‡, å˜é‡å€¼ä¿æŒä¸ºå¸¸é‡100ï¼Œä¸‹é¢å“ªå¥å®šä¹‰è¯­å¥æ˜¯æ­£ç¡®çš„ã€‚ A.public int MAX_LENGTH=100; B.final int MAX_LENGTH=100; C.final public int MAX_LENGTH=100; D.public final int MAX_LENGTH=100; æ­£ç¡®ç­”æ¡ˆæ˜¯: D 1234567891011121314151617181920212223242526272829303132333435363738394041// ç¼–å†™Mainç±»ï¼Œç”Ÿæˆè‹¥å¹²å®ä¾‹å¹¶éªŒè¯ç¨‹åºçš„åŠŸèƒ½ï¼Œè¯·å‹¿æ”¹åŠ¨Mainç±»çš„å®šä¹‰å†…å®¹ã€‚public class Main&#123; public static void main(String[] args) &#123; Pet pet=new Dog(\"WangCai\"); System.out.println(pet.getName()+\":\"+pet.shout()); pet=new Cat(\"XiaoHua\"); System.out.println(pet.getName()+\":\"+pet.shout()); &#125;&#125;// è¯·åœ¨æœ¬è¡Œä¹‹åæ·»åŠ ä½ çš„ä»£ç å†…å®¹abstract class Pet&#123; private String name; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; abstract String shout();&#125;class Dog extends Pet&#123; Dog(String name) &#123; setName( name ); &#125; @Override String shout() &#123; return \"Wang Wang Wang\"; &#125;&#125;class Cat extends Pet&#123; Cat(String name) &#123; setName( name ); &#125; @Override String shout() &#123; return \"Miao Miao Miao\"; &#125;&#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"Windowsä¸‹å‘½ä»¤è¡Œç¥å™¨cmder","slug":"Windowsä¸‹å‘½ä»¤è¡Œç¥å¥‡cmder","date":"2019-06-03T13:17:28.000Z","updated":"2019-09-15T08:07:31.014Z","comments":true,"path":"2019/06/03/Windowsä¸‹å‘½ä»¤è¡Œç¥å¥‡cmder/","link":"","permalink":"https://nymrli.top/2019/06/03/Windowsä¸‹å‘½ä»¤è¡Œç¥å¥‡cmder/","excerpt":"","text":"Cmder å®‰è£… http://cmder.net/ æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯miniä¸fullç‰ˆ mini æ²¡æœ‰å†…å»ºmsysgitå·¥å…·ï¼Œè¿™æ˜¯Git for Windowsçš„æ ‡å‡†é…å¤‡ï¼› å…¨å®‰è£…ç‰ˆ cmder è‡ªå¸¦äº† msysgit, å‹ç¼©åŒ… 108M é™¤äº† git æœ¬èº«è¿™ä¸ªå‘½ä»¤ä¹‹å¤–, é‡Œé¢å¯ä»¥ä½¿ç”¨å¤§é‡çš„ linux å‘½ä»¤ï¼›æ¯”å¦‚ grep, curl(æ²¡æœ‰ wget)ï¼› åƒvim, grep, tar, unzip, ssh, ls, bash, perl å¯ä»¥äº¤å‰ä½¿ç”¨ cygwin çš„éƒ¨åˆ†å¢å¼ºå‘½ä»¤ æŠŠ cmder åŠ åˆ°ç¯å¢ƒå˜é‡ å°†è§£å‹åçš„æ–‡ä»¶å¤¹è·¯å¾„åŠ å…¥åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡çš„Pathä¸­ æ·»åŠ  cmder åˆ°å³é”®èœå• é…ç½®ç¯å¢ƒå˜é‡åï¼Œåœ¨ç®¡ç†å‘˜æƒé™çš„ç»ˆç«¯è¾“å…¥ä»¥ä¸‹è¯­å¥ Win 8 æˆ–è€… Win10 å¯ä»¥ç›´æ¥ win+x å†æŒ‰ a é”®è¿›å…¥ æˆ–è€…åœ¨å¼€å§‹ä¸­è¾“å…¥å‘½ä»¤ï¼Œç„¶ååœ¨å¼¹å‡ºçš„æœ€ä½³åŒ¹é…ä¸­ï¼Œé€‰æ‹©å‘½ä»¤è¡Œå·¥å…·å³é”®-&gt;ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ 1Cmder.exe /REGISTER ALL ä¿®æ”¹å‘½ä»¤æç¤ºç¬¦å· 1.3 ä¹‹åç‰ˆæœ¬ ä¿®æ”¹æ–‡ä»¶ ${CMDER_HOME}\\vendor\\clink.lua 12345if env == nil then lambda = &quot;Î»&quot;else lambda = &quot;(&quot;..env..&quot;) Î»&quot;end æ”¹æˆ 12345if env == nil then lambda = &quot;$&quot;else lambda = &quot;(&quot;..env..&quot;) $&quot;end å…¶ä»–ç¬¦å·ä¹Ÿè¡Œï¼Œçœ‹ä½ è‡ªå·±çš„å–œå¥½ 1.3 ä»¥å‰ç‰ˆæœ¬ ç¼–è¾‘Cmderå®‰è£…ç›®å½•ä¸‹çš„ vendor\\init.bat æ‰¹å¤„ç†æ–‡ä»¶ 1@prompt $E[1;32;40m$P$S&#123;git&#125;&#123;hg&#125;$S$_$E[1;30;40m &#123;lamb&#125; $S$E[0m ä¿®æ”¹ä¸º 1@prompt $E[1;32;40m$P$S&#123;git&#125;&#123;hg&#125;$S$_$E[1;30;40m $$ $S$E[0m PowerShell.exe éœ€è¦å¦å¤–è®¾ç½® æ‰“å¼€æ–‡ä»¶ config/cmder.luaï¼ˆprompt.lua ä¹Ÿæœ‰ç‰ˆæœ¬æ˜¯è¿™ä¸ªï¼‰ï¼Œå°†ç¬¬äºŒè¡Œä¸­çš„Î»ä¿®æ”¹ä¸º**$** æ–°æ ‡ç­¾æ‰“å¼€ä¸ªç®¡ç†å‘˜æƒé™ç»ˆç«¯ å¿«æ·é”® Ctrl + t åå‹¾é€‰Run as administrator è®¾ç½®é»˜è®¤ç»ˆç«¯ å¦‚æœä½ æœ‰å…¶å®ƒçš„commandå¸Œæœ›é€šè¿‡ Cmder æ‰“å¼€ï¼Œå¯ä»¥åœ¨ Startup ä¸‹çš„ Tasks ä¸­æ·»åŠ ã€‚é‡Œé¢å·²ç»é»˜è®¤å¸®ä½ é…ç½®äº† Cmderã€PowerShellã€MinTTYã€Git Bashã€‚ é»˜è®¤å¯åŠ¨çš„æ˜¯ Cmder ï¼Œå¦‚æœä½ æƒ³é»˜è®¤å¯åŠ¨å…¶å®ƒçš„commandï¼Œä½ å¯ä»¥åœ¨ Startup è®¾ç½®ä¸ºå…¶å®ƒçš„command åŒæ—¶è¿˜å¯ä»¥å¿«é€Ÿçš„åˆ‡æ¢å½“å‰ä½¿ç”¨çš„ç»ˆç«¯ï¼Œå‡è®¾ä½ æ­£åœ¨ä½¿ç”¨çš„ cmd ï¼Œè¿™æ—¶è¾“å…¥ bash å›è½¦ä¸€ä¸‹ï¼Œä¾¿å¯ä»¥å°†å½“å‰æ ‡ç­¾é¡µçš„ç»ˆç«¯åˆ‡æ¢æˆ Git Bash ä¸­æ–‡å’Œå‘½ä»¤llæ”¯æŒ Cmder æ˜¯ä¸æ”¯æŒä¸­æ–‡ï¼Œè¿™éœ€è¦ä½ åœ¨ Startup ä¸‹çš„ Environment ä¸­è®¾ç½®ä¸€ä¸‹ã€‚å°† set LANG=zh_CN.UTF-8 cmderåŸç”Ÿæ²¡æœ‰ ll å‘½ä»¤ï¼Œä½†å¯ä»¥é€šè¿‡è®¾ç½®åˆ«åæ¥å®ç°ï¼šæ‰“å¼€cmderå®‰è£…ç›®å½•ä¸‹çš„\\config\\user-aliases.cmdæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹åˆ«åè®¾ç½®ï¼š Chocolateyè½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿ chocolatey æ˜¯windows ä¸‹é¢çš„ yum brew è¿™ç§åŒ…ç®¡ç†å™¨ è¿è¡Œå¦‚ä¸‹å‘½ä»¤(éœ€è¦ç®¡ç†å‘˜æƒé™) 1@powershell -NoProfile -ExecutionPolicy unrestricted -Command &quot;iex ((new-object net.webclient).DownloadString(&apos;https://chocolatey.org/install.ps1&apos;))&quot; &amp;&amp; SET PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin å®‰è£…è½¯ä»¶å‘½ä»¤ choco install softwareName, çŸ­å†™æ˜¯ cinst softwareName æŸ¥è¯¢å®‰è£…åŒ…æ˜¯å¦å­˜åœ¨ clist softwareName å¯å®‰è£…åŒ…åˆ—è¡¨ windowä¸‹å¸¸ç”¨çš„å¼€å‘ç¯å¢ƒåº”ç”¨ 123456789101112choco install autohotkey.portable #å®‰è£… AutoHotkey (Portable)choco install nodejs.install #å®‰è£… nodechoco install git.install #å®‰è£… gitchoco install python #å®‰è£… pythonchoco install ruby #å®‰è£… rubychoco install jdk8 #å®‰è£… JDK8choco install googlechrome #å®‰è£… Chromechoco install google-chrome-x64 #Google Chrome (64-bit only)choco install firefox #å®‰è£… firefoxchoco install notepadplusplus.install #å®‰è£… notepad++choco install Atom #å®‰è£… Atomchoco install SublimeText3 #å®‰è£… SublimeText3","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"å®‰åˆ©","slug":"å®‰åˆ©","permalink":"https://nymrli.top/tags/å®‰åˆ©/"}]},{"title":"å¾®ä¿¡å…¬ä¼—å·Pyhton","slug":"å¾®ä¿¡å…¬ä¼—å·Pyhton","date":"2019-05-27T14:01:10.000Z","updated":"2019-09-15T08:07:31.063Z","comments":true,"path":"2019/05/27/å¾®ä¿¡å…¬ä¼—å·Pyhton/","link":"","permalink":"https://nymrli.top/2019/05/27/å¾®ä¿¡å…¬ä¼—å·Pyhton/","excerpt":"","text":"å¾®ä¿¡å…¬ä¼—å·Pyhtonå¼€å‘ ç¼–å†™ä¸Šä¼ ä»£ç åˆ°SAE 1.ç”³è¯·SAEï¼ˆsina application enginerï¼‰ï¼Œåˆ›å»ºåº”ç”¨ï¼ŒSAEä½¿ç”¨æ–‡æ¡£ 2.ç¼–å†™ä¸Šä¼ ä»£ç  weixin.py 12345678910111213141516171819202122232425262728#-*-coding:utf-8-*-import web import os import hashlib import time class WeixinInterface: def __init__(self): self.app_root=os.path.dirname(__file__) self.templates_root=os.path.join(self.app_root,'templates') self.render=web.template.render(self.templates_root) def GET(self): data=web.input() signature=data.signature timestamp=data.timestamp nonce=data.nonce echostr=data.echostr token=\"wxpython\" l=[token,timestamp,nonce] l.sort() sha1=hashlib.sha1() map(sha1.update,l) hashcode=sha1.hexdigest() if hashcode == signature: return echostr index.wsgi 12345678910111213141516171819#-*-coding:utf-8-*-import os import saeimport web from weixin import WeixinInterface urls=(&apos;/weixin&apos;,&apos;WeixinInterface&apos;)app_root=os.path.dirname(__file__)templates_root=os.path.join(app_root,&apos;templates&apos;)render=web.template.render(templates_root)app=web.application(urls,globals()).wsgifunc()application=sae.create_wsgi_app(app) config.yaml 123456789101112name: wxpytest version: 1libraries:- name: webpy version: \"0.36\"- name: lxml version: \"2.3.4\"... â€‹ 3.å¾®ä¿¡å…¬ä¼—å·ä¿®æ”¹æœåŠ¡å™¨é…ç½® Tokenä¸ä»£ç ä¸­ç¼–å†™çš„ä¿æŒä¸€è‡´ï¼ŒURLä¹Ÿè¦ä¸æŒ‡å®šçš„ä¸€è‡´(å³...\\weixin)ã€‚ æ³¨æ„ç›´æ¥è®¿é—®&lt;http://vxquan.applinzi.com/weixin&gt;æ˜¯ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å¾®ä¿¡å…¬ä¼—å¹³å°çš„è®¤è¯ï¼ˆå› ä¸ºç›´æ¥è®¿é—®æ˜¯æ²¡æœ‰å‚æ•°çš„ï¼Œdata=web.inputæ²¡æœ‰å¼‚å¸¸å¤„ç†ï¼‰ å¤„ç†æ™®é€šæ–‡æœ¬ä¿¡æ¯ 12345678&lt;xml&gt; &lt;ToUserName&gt;&lt;![CDATA[toUser]]&gt;&lt;/ToUserName&gt; &lt;FromUserName&gt;&lt;![CDATA[fromUser]]&gt;&lt;/FromUserName&gt; &lt;CreateTime&gt;1348831860&lt;/CreateTime&gt; &lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;/MsgType&gt; &lt;Content&gt;&lt;![CDATA[this is a test]]&gt;&lt;/Content&gt; &lt;MsgId&gt;1234567890123456&lt;/MsgId&gt;&lt;/xml&gt; â–².æ³¨æ„è¿™è¾¹çš„OpenIDä¸æ˜¯çœŸæ­£çš„ç”¨æˆ·IDï¼Œä¸åŒå…¬ä¼—å·å¯¹ç›¸åŒç”¨æˆ·è·å¾—çš„OpenIDæ˜¯ä¸åŒçš„ï¼Œæ¢è¨€ä¹‹ï¼Œè¿™ä¸ªåªæ˜¯è¯¥å…¬ä¼—å·èƒ½è·å¾—è¯¥ç”¨æˆ·çš„ä¸€ä¸ªIDã€‚ 12345678910def POST(self): str_xml=web. data() xml=etree.fromstring(str_xml) msgType=xml.find(\"MsgType\").text fromuser=xml.find(\"FromUserName\").text touser=xml.find(\"ToUserName\").text if msgType==\"text\": content=xml. find(\"Content\").text return self.render.reply_text(fromuser,touser,int(time.time()),content) # æ³¨æ„è¿™è¾¹Toå’Œfromçš„æ”¹å˜ï¼ŒæœåŠ¡å™¨(å‘é€)--&gt;wxåå°--&gt;ç”¨æˆ·(æ¥æ”¶) è®°é‡åˆ°çš„å‘ï¼š 1.POSTå¥½åƒå¿…é¡»è¦æœ‰å¤„ç†ï¼Œè¿”å›ä¿¡æ¯ python2.7ä¸‹å­—ç¬¦ä¸²åŠ u","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"},{"name":"Web","slug":"Web","permalink":"https://nymrli.top/tags/Web/"}]},{"title":"DigitalOcean VPSæ³¨å†Œ","slug":"DigitalOcean-VPSæ³¨å†Œ","date":"2019-05-27T13:57:56.000Z","updated":"2020-02-15T11:57:13.124Z","comments":true,"path":"2019/05/27/DigitalOcean-VPSæ³¨å†Œ/","link":"","permalink":"https://nymrli.top/2019/05/27/DigitalOcean-VPSæ³¨å†Œ/","excerpt":"","text":"DigitalOcean VPSæ­æ¢¯å­ DigitalOcean VPSæ³¨å†Œ é¦–å…ˆé€šè¿‡ é‚€è¯·é“¾æ¥(https://m.do.co/c/e89da76f57f2)ç‚¹è¿›å»æ³¨å†Œï¼ŒåŒæ–¹éƒ½ä¼šè·å¾—$10å¥–åŠ±ï¼ˆæ³¨æ„æ˜¯æ³¨å†Œï¼Œæˆ‘å½“æ—¶å°±æ²¡æ³¨æ„åˆ°ï¼Œå°‘äº†10$ ç„¶ååœ¨Github Educationç”³è¯·å­¦ç”Ÿä¼˜æƒ ï¼Œæ³¨æ„è¿™è¾¹çš„å­¦ç”Ÿä¼˜æƒ é‚®ç®±æ˜¯æ ¡å›­é‚®ç®±(xxxx@njupt.edu.cn)é‚£ä¸ªã€‚æˆ‘å½“æ—¶æ˜¯å°†githubè´¦å·ä¸æ ¡å›­é‚®ç®±è¿›è¡Œé“¾æ¥çš„ã€‚ å­¦ç”Ÿä¼˜æƒ ç”³è¯·åˆ°åï¼Œpackç•Œé¢ä¼šå˜æˆè¿™æ · è¿›å…¥DOçš„é¡µé¢åï¼Œç”¨å­¦æ ¡é‚®ç®±æ³¨å†Œåï¼Œé€‰ç”¨Paypalæ”¯ä»˜ï¼ˆå…ˆæ³¨å†Œå¥½Paypalï¼‰ï¼Œç„¶åæ”¯ä»˜å³å¯ã€‚ â–²ç”±äºä¸€å¼€å§‹æˆ‘å¹¶æ²¡æœ‰ä½¿ç”¨å­¦æ ¡é‚®ç®±æ³¨å†Œï¼Œè€Œæ˜¯QQé‚®ç®±ï¼Œåæ¥åˆæ³¨å†Œäº†ä»¥åï¼Œå‘ç°è¿™ä¸ªè´¦å·è¢«é”äº†ï¼Œä»˜çš„$5ä¹Ÿé€€äº†å›æ¥ã€‚æŒ‰ç½‘ä¸Šçš„è¯´æ³•ï¼ŒDOä¼šç›´æ¥é”äº†æˆ‘çš„è´¦å·ï¼ŒåŸå› æ˜¯ä¸€ä¸ªäººæ³¨å†Œäº†å¤šä¸ªè´¦å·ã€‚äºæ˜¯æ‰¾è§£å†³æ–¹æ¡ˆã€‚ ç½‘ä¸Šè¯´è¦å‘é‚®ä»¶ï¼Œå…¶ä¸­æ¯”è¾ƒå…³é”®çš„æ˜¯Ticketï¼Œä¸€å¼€å§‹ä¸€ç›´æ²¡æ‰¾åˆ°ï¼Œåæ¥æ‰å‘ç°è¿™ä¸ªæ˜¯åœ¨supportä¸­é€‰å‡ºæ¥çš„. ç­‰äº†ä¸€å¤©æœ€ç»ˆæ”¶åˆ°çš„ç­”å¤å´æ˜¯ï¼š æˆ‘ä»¬æ£€æŸ¥äº†è¯¥å¸æˆ·ï¼Œå‘ç°å®ƒç¬¦åˆä¸è¿åæˆ‘ä»¬çš„æœåŠ¡æ¡æ¬¾å’Œå¯æ¥å—ä½¿ç”¨ç­–ç•¥ç›¸å…³çš„å¼‚å¸¸æ¨¡å¼ã€‚è™½ç„¶æˆ‘ä»¬æ— æ³•æä¾›æ‰€è§‚å¯Ÿåˆ°çš„ç‰¹å®šæ ‡å¿—çš„è¯¦ç»†ä¿¡æ¯ï¼Œä½†æˆ‘ä»¬å·²ç»ç¡®å®šï¼Œæ¢å¤å¯¹è¯¥å¸æˆ·çš„è®¿é—®æ˜¯ä¸å¯èƒ½çš„ã€‚ä¸ä¾¿ä¹‹å¤„ï¼Œæ•¬è¯·åŸè°…ã€‚ æœ€ç»ˆæ— å¥ˆä¹‹ä¸‹ï¼Œæƒ³èµ·äº†ä½¿ç”¨çš„è¯è·Ÿå­¦æ ¡é‚®ç®±æ²¡å…³ç³»ï¼Œé‚£ä¸ªåªæ˜¯æä¾›ä¼˜æƒ åˆ¸çš„ã€‚äºæ˜¯é‡æ–°å°è¯•äº†ä¸‹ç¬¬ä¸€ä¸ªæ³¨å†Œçš„è´¦å·payäº†$5ä»¥åå°±æˆåŠŸäº†ã€‚ åˆ›å»ºä¸»æœº SSR: [æ­å»ºSSRç§‘å­¦ä¸Šç½‘ï¼ˆåˆ©ç”¨DigitalOceanæœåŠ¡å™¨ï¼‰](https://blog.ooolg.com/index.php/20181125/131=131.html) V2Ray ä»é›¶å¼€å§‹ï¼šå²ä¸Šæœ€è¯¦å°½V2Rayæ­å»ºå›¾æ–‡æ•™ç¨‹ ä½¿ç”¨ä¼˜æƒ åˆ¸ DigitalOcean çš„å­¦ç”ŸåŒ…ä»£é‡‘åˆ¸ä½¿ç”¨æ•™ç¨‹ è¾“å…¥Github Educationä¸Šè·å¾—çš„ä¼˜æƒ åˆ¸Codeï¼Œå°±èƒ½æ‹¿åˆ°$50çš„ä¼˜æƒ åˆ¸äº† é™„å½• ubuntuä¸€é”®æ›´æ¢å†…æ ¸ å®‰è£…é”é€Ÿ - 16.04 14.04å¯ç”¨ PACå’Œå…¨å±€æ¨¡å¼ 1.åœ¨å…¨å±€æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„ç½‘ç«™éƒ½é»˜è®¤èµ°ä»£ç†ï¼ˆä½¿ä½ çš„æ‰€æœ‰http/socksæ•°æ®ç»è¿‡ä»£ç†æœåŠ¡å™¨çš„è½¬å‘é€å‡ºã€‚ï¼‰ 2.åœ¨PACæ¨¡å¼æ˜¯åªæœ‰è¢«å¢™äº†çš„ç½‘ç«™æ‰ä¼šèµ°ä»£ç†ï¼ˆè¿æ¥ç½‘ç«™çš„æ—¶å€™è¯»å–PACæ–‡ä»¶é‡Œçš„è§„åˆ™ï¼Œæ¥ç¡®å®šä½ è®¿é—®çš„ç½‘ç«™æœ‰æ²¡æœ‰è¢«å¢™ï¼Œå¦‚æœç¬¦åˆï¼Œé‚£å°±ä¼šä½¿ç”¨ä»£ç†æœåŠ¡å™¨è¿æ¥ç½‘ç«™ï¼‰ ä¼˜æƒ ç½‘ç«™ https://xianhuo.org/2016digitalocean-youhuima.html æœªæµ‹è¯•","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"ç”Ÿæ´»ç¦åˆ©","slug":"ç”Ÿæ´»ç¦åˆ©","permalink":"https://nymrli.top/tags/ç”Ÿæ´»ç¦åˆ©/"}]},{"title":"PyWinAutoä½¿ç”¨","slug":"PyWinAutoä½¿ç”¨","date":"2019-05-27T13:54:45.000Z","updated":"2020-11-07T03:45:50.734Z","comments":true,"path":"2019/05/27/PyWinAutoä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/05/27/PyWinAutoä½¿ç”¨/","excerpt":"","text":"PyWinAutoä½¿ç”¨ ç®€å•æ“ä½œç¤ºä¾‹ï¼š 12app = application.Application().start(r'C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe')# app = application.Application().start('notepad.exe') (ä¸€) åˆ¤æ–­ç¨‹åºçš„backend æ³¨æ„ï¼Œé¦–å…ˆéœ€è¦åˆ¤æ–­ä½ è¦è¿›è¡Œçš„ç¨‹åºæ˜¯ç”¨ä»€ä¹ˆè¯­è¨€å†™çš„ï¼Œåœ¨å®ä¾‹åŒ–çš„æ—¶å€™ä¼šæœ‰åŒºåˆ«ï¼Œä¸»è¦æ˜¯åˆ¤æ–­backendæ˜¯ä»€ä¹ˆã€‚ (äºŒ)ç¡®å®šè‡ªåŠ¨åŒ–å…¥å£ç‚¹ è¿™é‡Œä¸»è¦æ˜¯é™åˆ¶è‡ªåŠ¨åŒ–æ§åˆ¶è¿›ç¨‹çš„èŒƒå›´ã€‚å¦‚ä¸€ä¸ªç¨‹åºæœ‰å¤šä¸ªå®ä¾‹ï¼Œè‡ªåŠ¨åŒ–æ§åˆ¶ä¸€ä¸ªå®ä¾‹ï¼Œè€Œä¿è¯å…¶ä»–å®ä¾‹(è¿›ç¨‹)ä¸å—å½±å“ã€‚ ä¸»è¦æœ‰ä¸¤ç§å¯¹è±¡å¯ä»¥å»ºç«‹è¿™ç§å…¥å£ç‚¹â€”â€”Application() , Desktop(). Applicationçš„ä½œç”¨èŒƒå›´æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå¦‚ä¸€èˆ¬çš„æ¡Œé¢åº”ç”¨ç¨‹åºéƒ½ä¸ºæ­¤ç±»ã€‚ Desktopçš„ä½œç”¨èŒƒå›´å¯ä»¥è·¨è¿›ç¨‹ã€‚ä¸»è¦ç”¨äºåƒwin10çš„è®¡ç®—å™¨è¿™æ ·åŒ…å«å¤šä¸ªè¿›ç¨‹çš„ç¨‹åºã€‚è¿™ç§ç›®å‰æ¯”è¾ƒå°‘è§ã€‚ä½¿ç”¨æ–¹æ³•è§entry-points-for-automation (ä¸‰)è¿æ¥åˆ°è¿›ç¨‹ å»ºç«‹å¥½å…¥å£åï¼Œæˆ‘ä»¬éœ€è¦è¿æ¥åˆ°è¿›ç¨‹ä¸­ã€‚è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•: ä½¿ç”¨Applicationå¯¹è±¡çš„start()æ–¹æ³• app = Application().start(r&quot;D:\\Program Files (x86)\\tlxsoft\\å±å¹•å½•åƒä¸“å®¶ å…±äº«ç‰ˆ V2017\\å±å½•ä¸“å®¶.exe&quot;) è¿æ¥åˆ°å·²æœ‰çš„è¿›ç¨‹ã€‚ä½¿ç”¨Applicationå¯¹è±¡çš„connect()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å¯¹å·²æœ‰è¿›ç¨‹çš„ç»‘å®šéå¸¸çµæ´»ã€‚ app = Application().connect(process=19188) ä½¿ç”¨çª—å£å¥æŸ„ç»‘å®š app = Application().connect(handle=0x00230DB6) ä½¿ç”¨ç¨‹åºè·¯å¾„ç»‘å®šâ˜… app = Application().connect(path=r&quot;D:\\Program Files (x86)\\tlxsoft\\å±å¹•å½•åƒä¸“å®¶ å…±äº«ç‰ˆ V2017\\å±å½•ä¸“å®¶.exe&quot;) ä½¿ç”¨æ ‡é¢˜ã€ç±»å‹ç­‰åŒ¹é…â˜…â˜…ï¼ˆçµæ´»æ€§æ¯”è¾ƒé«˜ï¼‰ app = Application().connect(title_re=&quot;å±å¹•å½•åƒä¸“å®¶.*&quot;, class_name=&quot;TMainForm&quot;) èœå•æ“ä½œ 12dlg_spec = app.window(title='å±å¹•å½•åƒä¸“å®¶ V2017')dlg_spec.menu_select(r\"è½¬æ¢å·¥å…·-&gt;EXE/LXEè½¬æˆMP4\") å¿«æ·é”®æ“ä½œ 12dlg_spec = app.window(title='å±å¹•å½•åƒä¸“å®¶ V2017')dlg_spec.type_keys('%TP') 1234567891011121314151617181920212223242526272829303132333435SHIFT + CTRL ^ ALT %ç©ºæ ¼é”® &#123;SPACE&#125; BACKSPACE &#123;BACKSPACE&#125;ã€&#123;BS&#125; or &#123;BKSP&#125; BREAK &#123;BREAK&#125; CAPS LOCK &#123;CAPSLOCK&#125; DEL or DELETE &#123;DELETE&#125; or &#123;DEL&#125; DOWN ARROW &#123;DOWN&#125; END &#123;END&#125; ENTER &#123;ENTER&#125; or ~ ESC &#123;ESC&#125; HELP &#123;HELP&#125; HOME &#123;HOME&#125; INS or INSERT &#123;INSERT&#125; or &#123;INS&#125; LEFT ARROW &#123;LEFT&#125; NUM LOCK &#123;NUMLOCK&#125; PAGE DOWN &#123;PGDN&#125; PAGE UP &#123;PGUP&#125; PRINT SCREEN &#123;PRTSC&#125; RIGHT ARROW &#123;RIGHT&#125; SCROLL LOCK &#123;SCROLLLOCK&#125; TAB &#123;TAB&#125; UP ARROW &#123;UP&#125; + &#123;ADD&#125; - &#123;SUBTRACT&#125; * &#123;MULTIPLY&#125; / &#123;DIVIDE&#125;F1 &#123;F1&#125; F2 &#123;F2&#125; F3 &#123;F3&#125; .....F15 &#123;F15&#125; F16 &#123;F16&#125; å‚è€ƒ pywinauto ä½¿ç”¨ [pythonè‡ªåŠ¨åŒ–å·¥å…·ä¹‹pywinauto](https://www.cnblogs.com/mapu/p/9235587.html)","categories":[],"tags":[{"name":"è‡ªåŠ¨åŒ–è¿ç»´","slug":"è‡ªåŠ¨åŒ–è¿ç»´","permalink":"https://nymrli.top/tags/è‡ªåŠ¨åŒ–è¿ç»´/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Google Colabä½¿ç”¨","slug":"Google-Colabä½¿ç”¨","date":"2019-05-27T13:53:31.000Z","updated":"2019-09-15T14:02:20.372Z","comments":true,"path":"2019/05/27/Google-Colabä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/05/27/Google-Colabä½¿ç”¨/","excerpt":"","text":"Google Colabä½¿ç”¨ Google colab(Colaboratory)åœ¨ç¼–è¾‘æ—¶å€™å’Œjupyter notebookç±»ä¼¼ï¼Œå¹¶ä¸”æä¾›å…è´¹çš„GPUä»¥ä¾›ä½¿ç”¨ï¼Œè¿™å¯¹äºéœ€è¦å¤„ç†å¤§é‡æ•°æ®è¿ç®—çš„æœºå™¨é¡¹ç›®æ¥è¯´å†åˆé€‚ä¸è¿‡äº†ã€‚æŒºé¦™çš„ æ–°å»ºä¸€ä¸ªç¬”è®°æœ¬ï¼ˆ.ipynbï¼‰åï¼Œé€‰æ‹©&quot;ä¿®æ”¹-&gt;ç¬”è®°æœ¬è®¾ç½®-&gt;ç¡¬ä»¶åŠ é€Ÿå™¨-&gt;GPU&quot;å°±å¯ä»¥æƒ³è¦ç”¨è‹±ä¼Ÿè¾¾Tesla K80 GPUå•¦(2599ç¾å…ƒä¸€å—) colabä¸­æ–‡ä»¶äº¤äº’ æ–‡æ¡£é‡Œæä¾›äº†å››ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š ä»æœ¬åœ°ç›´æ¥ä¸Šä¼  è¿æ¥Google Drive è¿æ¥Google Sheet è¿æ¥Google Cloud Storage ä¸æœ¬åœ°æ–‡ä»¶äº¤äº’ æœ¬åœ°æ–‡ä»¶ä¸Šä¼  files.upload() è¿”å›ä¸€ä¸ªç”±æˆ‘ä»¬ä¸Šä¼ çš„æ‰€æœ‰æ–‡ä»¶æ„æˆçš„ä¸€ä¸ªå­—å…¸ã€‚ è¿™ä¸ªå­—å…¸çš„keyæ˜¯æ–‡ä»¶å, è¿™ä¸ªå­—å…¸çš„valueæ˜¯æˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶çš„dataã€‚ 123456from google.colab import filesuploaded = files.upload()for fn in uploaded.keys(): print(&apos;User uploaded file &quot;&#123;name&#125;&quot; with length &#123;length&#125; bytes&apos;.format(name=fn, length=len(uploaded[fn]))) ä»colabä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ° 1234from google.colab import fileswith open(&apos;example.txt&apos;, &apos;w&apos;) as f: f.write(&apos;some content&apos;)files.download(&apos;example.txt&apos;) è¿æ¥Google Drive PyDrive è¿™é‡Œå®˜æ–¹æœ‰æä¾›äº†è®¸å¤šç§æ–¹æ³•ã€‚è¿™é‡Œæˆ‘å°±æŒ‘ä¸€ç§ä»‹ç»äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ç‚¹è¿›è¿™ä¸ªColabå®˜æ–¹æ–‡æ¡£è¿›å»çœ‹ã€‚ è¿™é‡Œåªä»‹ç»ä½¿ç”¨PyDriveçš„æ–¹æ³•ã€‚PyDriveæ˜¯google-api-python-clientçš„åŒ…è£…åº“ï¼Œç®€åŒ–äº†è®¸å¤šå¸¸è§çš„Google Drive APIä»»åŠ¡ã€‚ 12345678910111213141516171819202122232425!pip install -U -q PyDrivefrom pydrive.auth import GoogleAuthfrom pydrive.drive import GoogleDrivefrom google.colab import authfrom oauth2client.client import GoogleCredentials# 1. éªŒè¯èº«ä»½å¹¶åˆ›å»ºpydriveå®¢æˆ·ç«¯.auth.authenticate_user()gauth = GoogleAuth()gauth.credentials = GoogleCredentials.get_application_default()drive = GoogleDrive(gauth)# PyDrive å‚è€ƒ:# https://gsuitedevs.github.io/PyDrive/docs/build/html/index.html# 2. åˆ›å»ºå¹¶ä¸Šä¼ ä¸€ä¸ªæ–‡æœ¬æ–‡æ¡£.uploaded = drive.CreateFile(&#123;'title': 'Sample upload.txt'&#125;)uploaded.SetContentString('Sample upload file content')uploaded.Upload()print('Uploaded file with ID &#123;&#125;'.format(uploaded.get('id')))# 3. é€šè¿‡idè®¿é—®æ–‡ä»¶å¹¶è¾“å‡ºå®ƒçš„å†…å®¹.downloaded = drive.CreateFile(&#123;'id': uploaded.get('id')&#125;)print('Downloaded content \"&#123;&#125;\"'.format(downloaded.GetContentString())) Mounting Google Drive locally é¦–å…ˆæŠŠæ•´ä¸ªé¡¹ç›®å·¥ç¨‹ä¸Šä¼ åˆ° Google Drive ä¸­ï¼Œç„¶ååœ¨è¯¥é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ï¼ˆæ‰§è¡Œçš„ä¸»å‡½æ•°æ–‡ä»¶åŒä¸€ç›®å½•ï¼‰æ–°å»ºä¸€ä¸ª run.ipynbã€‚æ–°å»ºæ–¹æ³•ä¸ä¹‹å‰ä¸€æ ·ï¼Œåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ å³é”®-æ›´å¤š-Colaboratoryã€‚ ç„¶åï¼Œåœ¨æ–°å»ºçš„ç¬”è®°æœ¬ä¸­æŒ‚è½½ Google Driveï¼š 12from google.colab import drivedrive.mount(&apos;/content/drive/&apos;) æ‰§è¡Œä»¥ä¸Šè¯­å¥åï¼Œä¼šå‡ºç°ä¸€ä¸ªé“¾æ¥ã€‚ç‚¹å‡»é“¾æ¥ï¼Œè·å–å¹¶é”®å…¥ authorization codeï¼Œå›è½¦ï¼Œç­‰å¾…åœˆåœˆè½¬å®Œå°±èƒ½åœ¨å·¦ä¾§åˆ·æ–°ï¼Œçœ‹åˆ°æŒ‚è½½çš„Drive æŒ‚è½½ Drive ç½‘ä¸Šè¿˜æœ‰å¦ä¸€ç§æ–¹æ³•ï¼Œè¯­å¥å¾ˆå¤šå¾ˆå¤æ‚ï¼Œä½†è¿™ä¸ªå¥½åƒæ²¡å•¥åŒºåˆ«ã€‚ã€‚ å¯¹äºè¿™ä¸ªæœåŠ¡å™¨è€Œè¨€ï¼Œæ•´ä½“ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š é¡¶çº§ç›®å½•ä¸º contentï¼Œæˆ‘ä»¬è¿›å…¥ç¬”è®°æœ¬åæ— è®ºç¬”è®°æœ¬åœ¨å“ªï¼Œå½“å‰å·¥ä½œç›®å½•éƒ½æ˜¯ /contentã€‚/contentä¸‹é»˜è®¤æœ‰ sample_data ç›®å½•ï¼Œå…¶ä¸­åŒ…æ‹¬è¿è¡Œç¤ºä¾‹ç¨‹åºçš„ä¸€äº›å¿…è¦æ•°æ®æ–‡ä»¶ã€‚æˆ‘ä»¬çš„ Google Drive ä½œä¸ºä¸€ä¸ª My Drive æ–‡ä»¶å¤¹æŒ‚è½½åœ¨ /content/drive æ–‡ä»¶å¤¹ä¸‹ã€‚æˆ‘çš„é¡¹ç›®æ˜¯â€œæˆ‘çš„äº‘ç«¯ç¡¬ç›˜â€é‡Œçš„ä¸€ä¸ªtiny-yoloæ–‡ä»¶å¤¹ï¼Œå› æ­¤æˆ‘çš„é¡¹ç›®çš„è·¯å¾„åº”è¯¥ä¸º /content/drive/My Drive/tiny-yoloã€‚è¿™é‡Œå¤§å®¶è¯•ä¸€è¯•å°±æ˜ç™½äº†ï¼Œæ¯”æˆ‘è¯´å•¥éƒ½å¿«ã€‚ æ³¨æ„äº‹é¡¹ ä¸ºäº†ä¿è¯èµ„æºçš„åˆç†åˆ†é…ï¼Œgoogle ä¼šæŒ‰ç…§ä¸€å®šæœºåˆ¶å°†æœåŠ¡å™¨å›æ”¶ï¼šå®ƒä¼šä¸€å®šæ—¶é—´åè‡ªåŠ¨å›æ”¶å·²è¿æ¥ä½†é—²ç½®çš„æœåŠ¡å™¨ï¼Œå’Œæœ‰è¿è¡Œä»£ç ä½†æœªè¿æ¥çš„æœåŠ¡å™¨ã€‚æ‰€ä»¥æƒ³æŒ‚æœºè·‘ä»£ç ï¼Œè¦ä¿è¯ä¸æœåŠ¡å™¨ä¿æŒè¿æ¥ï¼ˆä¸æ‰çº¿ï¼‰ï¼Œå¦åˆ™ä¸€æ—©èµ·æ¥å¯èƒ½å°±ä¼šå‘ç°å®ƒè¢«æ‚„æ‚„çš„å›æ”¶äº†ã€‚ç¨å¾®æ‰çº¿ä¸ªå‡ åˆ†é’Ÿå°±è¿å›å»æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ã€‚ åœ¨å›æ”¶æœåŠ¡å™¨åï¼Œå†™åˆ° My Drive ä»¥å¤–å…¶ä»–æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶éƒ½å°†è¢«åˆ é™¤ï¼Œä¸‹æ¬¡å†è¿æ¥å°±æ˜¯ä¸€å°å´­æ–°çš„æœåŠ¡å™¨äº†ã€‚ æŒ‚è½½ Drive åå†å‘ Google Driveä¸Šä¼ æ–‡ä»¶ï¼ŒåŒæ­¥åˆ° notebook é‚£è¾¹ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿï¼Œå¤§æ¦‚ç­‰ä¸ªå‡ ç§’é’Ÿåˆ°åŠåˆ†é’Ÿä¸ç­‰ï¼Œå¤šåˆ·æ–°å‡ ä¸‹å°±ä¼šå‡ºç°äº†ã€‚åˆ é™¤æ–‡ä»¶ä¹Ÿæ˜¯ã€‚ç„¶è€Œåœ¨åˆ é™¤ a.py åï¼Œå¦‚æœæ²¡ç­‰ notebook é‚£è¾¹ååº”è¿‡æ¥å°±é‡æ–°å†ä¼ ä¸€ä¸ª a.pyï¼Œnotebook é‚£è¾¹å¾ˆå¯èƒ½å°±å‡ºç°ä¸€ä¸ªè¢«é‡å‘½åçš„æ–‡ä»¶ a(1).pyã€‚ã€‚éš¾é“æ˜¯æˆ‘å§¿åŠ¿ä¸å¯¹ï¼Ÿï¼Ÿ æœ‰ä¸€æ¬¡æˆ‘ä¸Šä¼ è¿‘ 3000 å¼ å›¾ç‰‡ä½œä¸ºè®­ç»ƒé›†åˆ° Driveï¼Œä¸Šä¼ æˆåŠŸï¼Œä½†æ˜¯ notebook æ²¡è¯»å…¨ï¼Œ!ls â€œ/content/drive/My Drive/tiny-yolo/dataâ€ | wc -l çœ‹ä¸€çœ¼èŠ±å¼å°‘æ–‡ä»¶ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ã€‚ã€‚æ€»æ˜¯è¿·ä¹‹è¿‡ä¼š (hen) å„¿ (jiu) å°±å¥½äº†ã€‚ã€‚æå¾—æˆ‘ä¹Ÿæ˜¯å¾ˆé†‰ã€‚ å¦‚ä½•ä½¿ç”¨google driveçš„å…è´¹GPUè¿›è¡Œæ·±åº¦å­¦ä¹  è¿æ¥Google Sheet è¿æ¥Google Cloud Storage å‚è€ƒï¼šcolabè¯»å†™å¤–éƒ¨æ–‡ä»¶çš„å››ç§æ–¹å¼","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"å›¾åƒå¤„ç†","slug":"å›¾åƒå¤„ç†","permalink":"https://nymrli.top/tags/å›¾åƒå¤„ç†/"}]},{"title":"Kerasä½¿ç”¨â€”â€”å›¾åƒå¢å¼º","slug":"Kerasä½¿ç”¨â€”â€”å›¾åƒå¢å¼º","date":"2019-05-27T13:52:14.000Z","updated":"2019-09-15T08:07:30.952Z","comments":true,"path":"2019/05/27/Kerasä½¿ç”¨â€”â€”å›¾åƒå¢å¼º/","link":"","permalink":"https://nymrli.top/2019/05/27/Kerasä½¿ç”¨â€”â€”å›¾åƒå¢å¼º/","excerpt":"","text":"Kerasä½¿ç”¨â€”â€”å›¾åƒå¢å¼º ä½¿ç”¨Kerasè¿›è¡Œæ·±åº¦å­¦ä¹ çš„å›¾åƒå¢å¼ºï¼ˆImage Augmentationï¼‰ Kerasæ˜¯ä¸€ä¸ªé«˜å±‚ç¥ç»ç½‘ç»œAPIï¼ŒKerasç”±çº¯Pythonç¼–å†™è€Œæˆå¹¶åŸºTensorflowã€Theanoä»¥åŠCNTKåç«¯ã€‚ Kerasä¸ºæ”¯æŒå¿«é€Ÿå®éªŒè€Œç”Ÿï¼Œèƒ½å¤ŸæŠŠä½ çš„ideaè¿…é€Ÿè½¬æ¢ä¸ºç»“æœï¼Œå¦‚æœä½ æœ‰å¦‚ä¸‹éœ€æ±‚ï¼Œè¯·é€‰æ‹©Kerasï¼š ç®€æ˜“å’Œå¿«é€Ÿçš„åŸå‹è®¾è®¡ï¼ˆkeraså…·æœ‰é«˜åº¦æ¨¡å—åŒ–ï¼Œæç®€ï¼Œå’Œå¯æ‰©å……ç‰¹æ€§ï¼‰ æ”¯æŒCNNå’ŒRNNï¼Œæˆ–äºŒè€…çš„ç»“åˆ æ— ç¼CPUå’ŒGPUåˆ‡æ¢ ImageDataGenerator Kerasæä¾›äº†ImageDataGeneratorç±»ï¼Œå®šä¹‰å…³äºå›¾ç‰‡å‡†å¤‡å’Œå¢å¼ºçš„é…ç½®ã€‚åŒ…æ‹¬ä»¥ä¸‹åŠŸèƒ½ï¼šæ ·æœ¬çº§çš„æ ‡å‡†åŒ–ç‰¹å¾çº§çš„æ ‡å‡†åŒ–ZCAç™½åŒ–.éšæœºæ—‹è½¬ã€è½¬æ¢ã€å‰ªåˆ‡ã€ç¿»è½¬ç»´åº¦é‡æ’.å°†å¢å¼ºçš„å›¾ç‰‡ä¿å­˜åœ¨æœ¬åœ°. 1234567891011121314151617181920212223from keras.preprocessing.image import ImageDataGenerator, array_to_img, img_to_array, load_imgimport osDatagen = ImageDataGenerator(rotation_range=20, shear_range=0.2, zoom_range=0.2, horizontal_flip=True, vertical_flip = True, fill_mode='nearest')for file_name in os.listdir('.'): if file_name =='.config' or file_name == 'sample_data': continue img = load_img(file_name) x_img = img_to_array(img) x_img = x_img.reshape((1,)+ x_img.shape) i = 0 for img_batch in Datagen.flow(x_img, batch_size=32, save_to_dir='.', save_prefix='candy', save_format='jpg'): i +=1 if i &gt; 10: break ImageDataGeneratorå‚æ•°è¯¦è§£åŠç”¨æ³•å®ä¾‹ 12345678910111213141516171819keras.preprocessing.image.ImageDataGenerator(featurewise_center=False, samplewise_center=False, featurewise_std_normalization=False, samplewise_std_normalization=False, zca_whitening=False, zca_epsilon=1e-6, rotation_range=0., width_shift_range=0., height_shift_range=0., shear_range=0., zoom_range=0., channel_shift_range=0., fill_mode='nearest', cval=0., horizontal_flip=False, vertical_flip=False, rescale=None, preprocessing_function=None, data_format=K.image_data_format()) â–²ç”¨ä»¥ç”Ÿæˆä¸€ä¸ªbatchçš„å›¾åƒæ•°æ®ï¼Œæ”¯æŒå®æ—¶æ•°æ®æå‡ã€‚è®­ç»ƒæ—¶è¯¥å‡½æ•°ä¼šæ— é™ç”Ÿæˆæ•°æ®ï¼Œç›´åˆ°è¾¾åˆ°è§„å®šçš„epochæ¬¡æ•°ä¸ºæ­¢ã€‚ featurewise_centerï¼šå¸ƒå°”å€¼ï¼Œä½¿è¾“å…¥æ•°æ®é›†å»ä¸­å¿ƒåŒ–ï¼ˆå‡å€¼ä¸º0ï¼‰, æŒ‰featureæ‰§è¡Œ samplewise_centerï¼šå¸ƒå°”å€¼ï¼Œä½¿è¾“å…¥æ•°æ®çš„æ¯ä¸ªæ ·æœ¬å‡å€¼ä¸º0 featurewise_std_normalizationï¼šå¸ƒå°”å€¼ï¼Œå°†è¾“å…¥é™¤ä»¥æ•°æ®é›†çš„æ ‡å‡†å·®ä»¥å®Œæˆæ ‡å‡†åŒ–, æŒ‰featureæ‰§è¡Œ samplewise_std_normalizationï¼šå¸ƒå°”å€¼ï¼Œå°†è¾“å…¥çš„æ¯ä¸ªæ ·æœ¬é™¤ä»¥å…¶è‡ªèº«çš„æ ‡å‡†å·® zca_whiteningï¼šå¸ƒå°”å€¼ï¼Œå¯¹è¾“å…¥æ•°æ®æ–½åŠ ZCAç™½åŒ– zca_epsilon: ZCAä½¿ç”¨çš„eposilonï¼Œé»˜è®¤1e-6 rotation_rangeï¼šæ•´æ•°ï¼Œæ•°æ®æå‡æ—¶å›¾ç‰‡éšæœºè½¬åŠ¨çš„è§’åº¦ width_shift_rangeï¼šæµ®ç‚¹æ•°ï¼Œå›¾ç‰‡å®½åº¦çš„æŸä¸ªæ¯”ä¾‹ï¼Œæ•°æ®æå‡æ—¶å›¾ç‰‡æ°´å¹³åç§»çš„å¹…åº¦ height_shift_rangeï¼šæµ®ç‚¹æ•°ï¼Œå›¾ç‰‡é«˜åº¦çš„æŸä¸ªæ¯”ä¾‹ï¼Œæ•°æ®æå‡æ—¶å›¾ç‰‡ç«–ç›´åç§»çš„å¹…åº¦ shear_rangeï¼šæµ®ç‚¹æ•°ï¼Œå‰ªåˆ‡å¼ºåº¦ï¼ˆé€†æ—¶é’ˆæ–¹å‘çš„å‰ªåˆ‡å˜æ¢è§’åº¦ï¼‰ zoom_rangeï¼šæµ®ç‚¹æ•°æˆ–å½¢å¦‚[lower,upper]çš„åˆ—è¡¨ï¼Œéšæœºç¼©æ”¾çš„å¹…åº¦ï¼Œè‹¥ä¸ºæµ®ç‚¹æ•°ï¼Œåˆ™ç›¸å½“äº[lower,upper] = [1 - zoom_range, 1+zoom_range] channel_shift_rangeï¼šæµ®ç‚¹æ•°ï¼Œéšæœºé€šé“åç§»çš„å¹…åº¦ fill_modeï¼šï¼›â€˜constantâ€™ï¼Œâ€˜nearestâ€™ï¼Œâ€˜reflectâ€™æˆ–â€˜wrapâ€™ä¹‹ä¸€ï¼Œå½“è¿›è¡Œå˜æ¢æ—¶è¶…å‡ºè¾¹ç•Œçš„ç‚¹å°†æ ¹æ®æœ¬å‚æ•°ç»™å®šçš„æ–¹æ³•è¿›è¡Œå¤„ç† cvalï¼šæµ®ç‚¹æ•°æˆ–æ•´æ•°ï¼Œå½“fill_mode=constantæ—¶ï¼ŒæŒ‡å®šè¦å‘è¶…å‡ºè¾¹ç•Œçš„ç‚¹å¡«å……çš„å€¼ horizontal_flipï¼šå¸ƒå°”å€¼ï¼Œè¿›è¡Œéšæœºæ°´å¹³ç¿»è½¬ vertical_flipï¼šå¸ƒå°”å€¼ï¼Œè¿›è¡Œéšæœºç«–ç›´ç¿»è½¬ rescale: é‡æ”¾ç¼©å› å­,é»˜è®¤ä¸ºNone. å¦‚æœä¸ºNoneæˆ–0åˆ™ä¸è¿›è¡Œæ”¾ç¼©,å¦åˆ™ä¼šå°†è¯¥æ•°å€¼ä¹˜åˆ°æ•°æ®ä¸Š(åœ¨åº”ç”¨å…¶ä»–å˜æ¢ä¹‹å‰) preprocessing_function: å°†è¢«åº”ç”¨äºæ¯ä¸ªè¾“å…¥çš„å‡½æ•°ã€‚è¯¥å‡½æ•°å°†åœ¨å›¾ç‰‡ç¼©æ”¾å’Œæ•°æ®æå‡ä¹‹åè¿è¡Œã€‚è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œä¸ºä¸€å¼ å›¾ç‰‡ï¼ˆç§©ä¸º3çš„numpy arrayï¼‰ï¼Œå¹¶ä¸”è¾“å‡ºä¸€ä¸ªå…·æœ‰ç›¸åŒshapeçš„numpy array data_formatï¼šå­—ç¬¦ä¸²ï¼Œâ€œchannel_firstâ€æˆ–â€œchannel_lastâ€ä¹‹ä¸€ï¼Œä»£è¡¨å›¾åƒçš„é€šé“ç»´çš„ä½ç½®ã€‚è¯¥å‚æ•°æ˜¯Keras 1.xä¸­çš„image_dim_orderingï¼Œâ€œchannel_lastâ€å¯¹åº”åŸæœ¬çš„â€œtfâ€ï¼Œâ€œchannel_firstâ€å¯¹åº”åŸæœ¬çš„â€œthâ€ã€‚ä»¥128x128çš„RGBå›¾åƒä¸ºä¾‹ï¼Œâ€œchannel_firstâ€åº”å°†æ•°æ®ç»„ç»‡ä¸ºï¼ˆ3,128,128ï¼‰ï¼Œè€Œâ€œchannel_lastâ€åº”å°†æ•°æ®ç»„ç»‡ä¸ºï¼ˆ128,128,3ï¼‰ã€‚è¯¥å‚æ•°çš„é»˜è®¤å€¼æ˜¯~/.keras/keras.jsonä¸­è®¾ç½®çš„å€¼ï¼Œè‹¥ä»æœªè®¾ç½®è¿‡ï¼Œåˆ™ä¸ºâ€œchannel_lastâ€ 12345678910111213141516171819202122232425262728293031323334353637from keras.preprocessing.image import ImageDataGenerator, array_to_img, img_to_array, load_imgimport osDatagen = ImageDataGenerator( rotation_range=5,#å›¾ç‰‡éšæœºç¿»è½¬çš„è§’åº¦ width_shift_range=[0,0.15], height_shift_range=[0,0.2], zoom_range=[0.8,1.5], #éšæœºæ”¾å¤§ zca_whitening=True, brightness_range=[0.1, 1.5] , fill_mode='nearest')IMG_PATH = './images'OUT_PATH = './add'# for i in os.listdir(OUT_PATH):# if i.startswith('N'):# os.remove(os.path.join(OUT_PATH,i) )for file_name in os.listdir(IMG_PATH): img = load_img( os.path.join(IMG_PATH,file_name) ) x_img = img_to_array(img) x_img = x_img.reshape( (1,)+ x_img.shape ) i = 0 if( not os.path.exists( os.path.join( OUT_PATH,file_name ) ) ): os.mkdir( os.path.join( OUT_PATH,file_name )) for img_batch in Datagen.flow(x_img, batch_size=2, #batch_sizeä¸€æ¬¡å¢å¼ºçš„å›¾ç‰‡ä¸ªæ•° save_to_dir= os.path.join(OUT_PATH,file_name), save_prefix='N', save_format='jpg'): i +=1 if i == 80: breakprint('done') å‚è€ƒèµ„æ–™ï¼š å‚æ•°è¯´æ˜ kerasä¸­æ–‡æ‰‹å†Œ https://www.cnblogs.com/hutao722/p/10075150.html https://www.cnblogs.com/hutao722/p/10075150.html flow_from_directoryå®ç°ä»æ–‡ä»¶å¤¹ä¸­æå–å›¾ç‰‡å’Œè¿›è¡Œç®€å•å½’ä¸€åŒ–å¤„ç† 12345678flow_from_directory(self, directory, target_size=(256, 256), color_mode='rgb', classes=None, class_mode='categorical', batch_size=32, shuffle=True, seed=None, save_to_dir=None, save_prefix='', save_format='jpeg', follow_links=False) æœ€å€¼å¾—æ³¨æ„çš„æ˜¯directoryè¿™ä¸ªå‚æ•°ï¼š directory: path to the target directory. It should contain one subdirectory per class. Any PNG, JPG, BMP, PPM or TIF images inside each of the subdirectories directory tree will be included in the generator. è¿™æ˜¯å®˜æ–¹æ–‡æ¡£çš„å®šä¹‰ï¼Œå®ƒçš„ç›®å½•æ ¼å¼ä¸€å®šè¦æ³¨æ„æ˜¯åŒ…å«ä¸€ä¸ªå­ç›®å½•ä¸‹çš„æ‰€æœ‰å›¾ç‰‡è¿™ç§æ ¼å¼ï¼Œdriectotyè·¯å¾„åªè¦å†™åˆ°æ ‡ç­¾è·¯å¾„ä¸Šé¢çš„é‚£ä¸ªè·¯å¾„å³å¯ã€‚ target_sizeï¼šå¯æ˜¯å®ç°å¯¹å›¾ç‰‡çš„å°ºå¯¸è½¬æ¢ï¼Œæ˜¯é¢„å¤„ç†ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³• save_to_dir: å¯ä»¥è®¾ç½®ä¿å­˜å¤„ç†åå›¾ç‰‡çš„è·¯å¾„ã€‚ save_prefix: å¯ä»¥å¯¹å¤„ç†åå›¾ç‰‡è®¾ç½®å‰ç¼€ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839import matplotlib.pyplot as pltimport globfrom PIL import Imagefrom keras.preprocessing import image path = 'train/'gen_path = 'result/' def print_result(path): name_list = glob.glob(path) fig = plt.figure() for i in range(9): img = Image.open(name_list[i]) # add_subplot(331) å‚æ•°ä¸€ï¼šå­å›¾æ€»è¡Œæ•°ï¼Œå‚æ•°äºŒï¼šå­å›¾æ€»åˆ—æ•°ï¼Œå‚æ•°ä¸‰ï¼šå­å›¾ä½ç½® sub_img = fig.add_subplot(331 + i) sub_img.imshow(img) plt.show() return fig # æ‰“å°å›¾ç‰‡åˆ—è¡¨name_list = glob.glob(path + '*/*')print(name_list)# ['train\\\\00a366d4b4a9bbb6c8a63126697b7656.jpg', 'train\\\\00f34ac0a16ef43e6fd1de49a26081ce.jpg', 'train\\\\0a5f744c5077ad8f8d580081ba599ff5.jpg', 'train\\\\0a70f64352edfef4c82c22015f0e3a20.jpg', 'train\\\\0a783538d5f3aaf017b435ddf14cc5c2.jpg', 'train\\\\0a896d2b3af617df543787b571e439d8.jpg', 'train\\\\0abdda879bb143b19e3c480279541915.jpg', 'train\\\\0ac12f840df2b15d46622e244501a88c.jpg', 'train\\\\0b6c5bc46b7a0e29cddfa45b0b786d09.jpg'] # æ‰“å°å›¾ç‰‡fig = print_result(path + '*/*') # ä¿å­˜å›¾ç‰‡fig.savefig(gen_path + '/original_0.png', dpi=200, papertype='a5') # åŸå›¾datagen = image.ImageDataGenerator()gen_data = datagen.flow_from_directory(path, batch_size=1, shuffle=False, save_to_dir=gen_path , save_prefix='dog_gen', target_size=(224, 224))for i in range(9): gen_data.next() fig = print_result(gen_path + '/*')fig.savefig(gen_path + '/original_1.png', dpi=200, papertype='a5')","categories":[],"tags":[{"name":"å›¾åƒå¤„ç†","slug":"å›¾åƒå¤„ç†","permalink":"https://nymrli.top/tags/å›¾åƒå¤„ç†/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"https://nymrli.top/tags/æ·±åº¦å­¦ä¹ /"}]},{"title":"Pythonæœºå™¨å­¦ä¹ åŠå®è·µâ€”â€”ä»é›¶å¼€å§‹é€šå¾€Kaggleç«èµ›ä¹‹è·¯","slug":"Pythonæœºå™¨å­¦ä¹ åŠå®è·µâ€”â€”ä»é›¶å¼€å§‹é€šå¾€Kaggleç«èµ›ä¹‹è·¯","date":"2019-05-27T13:50:34.000Z","updated":"2019-09-15T08:07:30.987Z","comments":true,"path":"2019/05/27/Pythonæœºå™¨å­¦ä¹ åŠå®è·µâ€”â€”ä»é›¶å¼€å§‹é€šå¾€Kaggleç«èµ›ä¹‹è·¯/","link":"","permalink":"https://nymrli.top/2019/05/27/Pythonæœºå™¨å­¦ä¹ åŠå®è·µâ€”â€”ä»é›¶å¼€å§‹é€šå¾€Kaggleç«èµ›ä¹‹è·¯/","excerpt":"","text":"Pythonæœºå™¨å­¦ä¹ åŠå®è·µâ€”â€”ä»é›¶å¼€å§‹é€šå¾€Kaggleç«èµ›ä¹‹è·¯ ç›‘ç£å­¦ä¹ æ¨¡å‹ åˆ†ç±» çº¿æ€§æ¨¡å‹ Logistic é€»è¾‘å›å½’å‡½æ•° ï¼š $g(z)=\\frac {1}{1+_e^{-z}} $ é€»è¾‘å›å½’æ¨¡å‹hw,b(x)=g(f(w,x,b))=11+eâˆ’z=11+eâˆ’(wTx+b)h_{w,b}(x)=g(f(w,x,b)) = \\frac{1}{1+e^{-z}} = \\frac {1}{1+e^{-(w^{T}x+b)}}hw,bâ€‹(x)=g(f(w,x,b))=1+eâˆ’z1â€‹=1+eâˆ’(wTx+b)1â€‹ å¤„ç†ç¼ºçœå€¼çš„æ–¹æ³•ï¼š 1.ç¼ºçœå€¼è¾ƒå°‘æ—¶ç›´æ¥åˆ é™¤æ•°æ® 12data = data.replace(to_replace='? ' ,value = np.nan)data = data.dropna(how='any') åˆ†å‰²æ•°æ® 123from sklearn.cross_validation import train_test_splitX_train , Y_train , X_test , Y_test = train_test_split(data[names[1:10]],data[names[10]],test_size = 0.25,random_state = 33)# å‚æ•°è¯´æ˜ ï¼š $1Xï¼Œ$2Yï¼Œ$3åˆ†å‰²è§„æ¨¡ï¼Œ$4åˆ†å‰²ç§å­ æ ‡å‡†åŒ–æ•°æ® ä¿è¯æ¯ä¸ªç»´åº¦çš„ç‰¹å¾æ•°æ®æ–¹å·®ä¸º1ï¼Œå‡å€¼ä¸º0ï¼Œä½¿å¾—é¢„æµ‹ç»“æœä¸å›è¢«æŸäº›ç»´åº¦è¿‡å¤§çš„ç‰¹å¾å€¼ä¸»å¯¼ 1234from sklearn.preprocessing import StandardScalers = StandardScaler()X_train = s.fit_transform(X_train)X_test = s.transform(X_test) æ··æ·†çŸ©é˜µ â€¦ ğŸ¯é€»è¾‘å›å½’å¯¹å‚æ•°çš„è®¡ç®—é‡‡ç”¨ç²¾ç¡®è§£æçš„æ–¹å¼ï¼Œæ—¶é—´é•¿æ€§èƒ½é«˜ï¼›SGDï¼ˆéšæœºæ¢¯åº¦ä¸Šå‡ï¼‰åˆ†ç±»ä¼°è®¡æ¨¡å‹å‚æ•°ï¼Œæ—¶é—´çŸ­æ€§èƒ½ä½ã€‚æ•°æ®è§„æ¨¡åœ¨10Wé‡çº§æ—¶è€ƒè™‘å¯¹æ—¶é—´çš„æ¶ˆè€—ï¼Œæ›´æ¨èä½¿ç”¨éšæœºæ¢¯åº¦æ–¹æ³•å¯¹æ¨¡å‹å‚æ•°è¿›è¡Œä¼°è®¡ã€‚ ğŸ“è¯´æ˜ç”¨ä¾‹ï¼šè‰¯æ¶æ€§è‚¿ç˜¤ æ”¯æŒå‘é‡æœºï¼ˆâ€‹â€‹åˆ†ç±»ï¼‰ å†³å®šç›´çº¿ä½ç½®çš„å¹¶ä¸æ˜¯æ‰€æœ‰æ•°æ®ï¼Œè€Œæ˜¯å…¶ä¸­ ä¸¤ä¸ªç©ºé—´é—´éš”æœ€å° çš„ ä¸¤ä¸ªä¸åŒç±»åˆ« çš„æ•°æ®ç‚¹ï¼ŒæŠŠç€ä¸­å›½çœŸæ­£å¸®åŠ©å†³ç­–æœ€æœ‰çº¿æ€§åˆ†ç±»æ¨¡å‹çš„æ•°æ®ç‚¹å«åšâ€œæ”¯æŒå‘é‡â€ ã€‚åŒæ—¶è¦æŒ‡å‡ºçš„æ˜¯ï¼Œlogisticæ¨¡å‹è€ƒè™‘äº†æ‰€æœ‰æ•°æ®æ ·æœ¬å¯¹å‚æ•°çš„å½±å“ï¼Œæ‰€ä»¥ä¸ä¸€å®šèƒ½è·å¾—æœ€ä½³çš„åˆ†ç±»å™¨ã€‚ å¤šåˆ†ç±»çš„SVM å°†å…¶ä¸­ä¸€ç±»çœ‹ä½œæ˜¯é˜³æ€§ï¼ˆæ­£ï¼‰æ ·æœ¬ï¼Œå…¶ä½™çš„å…¨çœ‹æˆè´Ÿæ ·æœ¬ã€‚å¦‚æœ‰10ä¸ªç±»åˆ«ï¼Œåˆ™åˆ›é€ 10ä¸ªäºŒåˆ†ç±»ä»»åŠ¡ã€‚ ğŸ¯SVMå…·æœ‰ç²¾å¦™çš„æ¨¡å‹å‡è®¾ï¼Œå¯ä»¥åœ¨é«˜ç»´åº¦çš„æ•°æ®ä¸­ç­›é€‰å¯¹é¢„æµ‹ä»»åŠ¡æœ‰æ•ˆçš„å°‘æ•°è®­ç»ƒæ ·æœ¬ï¼Œä¸ä»…èŠ‚çœæ¨¡å‹å­¦ä¹ éœ€è¦çš„æ•°æ®å†…å­˜ï¼Œè¿˜æé«˜äº†æ¨¡å‹çš„é¢„æµ‹æ€§èƒ½ï¼Œä½†æ˜¯åŒæ—¶æ˜¯ä»¥CPUèµ„æºå’Œè®¡ç®—æ—¶é—´ä¸ºä»£ä»·çš„ã€‚ ğŸ“æ‰‹å†™ä½“æ•°æ®â€‹ï¼š éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œç»å…¸æ¨¡å‹æ²¡æœ‰å¯¹ç»“æ„æ€§ä¿¡æ¯å­¦ä¹ çš„èƒ½åŠ›ï¼Œæ‰€ä»¥è¿™è¾¹å¯¹å›¾ç‰‡çš„å¤„ç†å…¶å®æ˜¯å°†2Då›¾ç‰‡åƒç´ çŸ©é˜µï¼ˆscikit-learnæ•°æ®é›†é‡Œçš„æ˜¯8*8ï¼‰é€è¡Œé¦–å°¾æ‹¼æ¥ä¸º1Dçš„åƒç´ ç‰¹å¾å‘é‡ã€‚ éçº¿æ€§æ¨¡å‹ æœ´ç´ è´å¶æ–¯ å•ç‹¬è€ƒé‡æ¯ä¸€ä¸ªç»´åº¦ç‰¹å¾è¢«åˆ†ç±»çš„æ¡ä»¶æ¦‚è®ºï¼Œè¿›è€Œç»¼åˆè¿™äº›æ¦‚ç‡å¹¶å¯¹å…¶æ‰€åœ¨çš„ç‰¹å¾å‘é‡åšå‡ºåˆ†ç±»é¢„æµ‹ã€‚ æ•°å­¦å‡è®¾ï¼šå„ä¸ªç»´åº¦ä¸Šçš„ç‰¹å¾è¢«åˆ†ç±»çš„æ¡ä»¶æ¦‚ç‡ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ ğŸ¯å…·æœ‰è¾ƒå¼ºçš„ç‰¹å¾æ¡ä»¶ç‹¬ç«‹å‡è®¾ï¼Œä½¿å¾—æ¨¡å‹é¢„æµ‹æ‰€éœ€è¦ä¼°è®¡çš„å‚æ•°è§„æ¨¡ä»å¹‚æŒ‡æ•°é‡çº§å‘çº¿æ€§é‡çº§å‡å°‘ï¼Œæå¤§â€‹èŠ‚çº¦äº†å†…å­˜æ¶ˆè€—å’Œè®¡ç®—æ—¶é—´ã€‚ä½†ä¹Ÿå—é™ä¸è¿™ç§å¼ºå‡è®¾çš„é™åˆ¶ï¼Œè®­ç»ƒæ—¶æ— æ³•å°†å„ä¸ªç‰¹å¾ä¹‹é—´çš„è”ç³»è€ƒé‡åœ¨å†…ï¼Œä½¿å¾—è¯¥æ¨¡å‹å†å…¶ä»–æ•°æ®ç‰¹å¾å…³è”æ€§è¾ƒå¼ºçš„åˆ†ç±»ä»»åŠ¡ä¸Šçš„æ€§èƒ½è¡¨ç°ä¸ä½³ã€‚ ğŸ“æ–‡æœ¬åˆ†ç±»ï¼šäº’è”ç½‘æ–°é—»åˆ†ç±»ã€åƒåœ¾é‚®ä»¶ç­›é€‰ Kè¿‘é‚»ï¼ˆKNNï¼‰ è®¾æœ‰ä¸€ä¸ªæµ‹è¯•æ ·æœ¬ç‚¹ï¼Œä»¥åŠå·²ç»åˆ†å¥½ç±»ï¼ˆå¸¦æœ‰æ ‡ç­¾ï¼‰çš„è®­ç»ƒæ ·æœ¬ã€‚é‚£ä¹ˆè¯¥æ ·æœ¬ç‚¹çš„ç±»åˆ«åˆ¤å®šä¼šæ ¹æ®åœ¨ç‰¹å¾ç©ºé—´ä¸­æœ€è¿‘çš„Kä¸ªå·²æ ‡è®°æ ·æœ¬ä½œä¸ºå‚è€ƒã€‚å› æ­¤æ¨¡å‹çš„æ€§èƒ½å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºKå€¼çš„è®¾å®šï¼Œä½†æ˜¯Kå€¼ä¸å±äºè®­ç»ƒæ•°æ®åå­¦ä¹ çš„å‚æ•°ï¼Œè€Œæ˜¯æ¨¡å‹åˆå§‹åŒ–æ—¶éœ€è¦æå‰ç¡®å®šçš„ã€‚ ğŸ¯æ˜¯æ— å‚æ•°æ¨¡å‹ä¸­æœ€ç®€å•çš„ä¸€ç§ï¼Œç”±äºéœ€è¦å¯¹é¢„å…ˆåŠ è½½åœ¨å†…å­˜çš„è®­ç»ƒæ ·æœ¬è¿›è¡Œéå†ï¼Œé€ä¸€è®¡ç®—ç›¸ä¼¼åº¦ã€æ’åºä¸”é€‰æ‹©Kä¸ªæœ€è¿‘é‚»è®­ç»ƒæ ·æœ¬çš„æ ‡è®°ã€‚æ‰€ä»¥æ˜¯O(N2)çš„ç®—æ³•å¤æ‚åº¦ï¼Œä¸€æ—¦æ•°æ®é‡å¤§ï¼Œå¯èƒ½ä¼šèŠ±è´¹æ›´å¤šçš„æ—¶é—´ï¼ˆå¦ä¸€ç§ç†è§£ä¸ºç©ºé—´æ¢æ—¶é—´ï¼Œå¯æ¢è®¨ï¼‰ ğŸ“ irisé¸¢å°¾èŠ±æ•°æ®é›†â€‹ : â–²åœ¨å¯¹æ•°æ®è¿›è¡Œåˆ†å‰²æ—¶è¯·ä¿è¯éšæœºå–æ ·ï¼ ç”±äºscikit-learnè·å¾—çš„Irisæ•°æ®é›†æ˜¯æ ¹æ®ç±»åˆ«ä¾æ¬¡æ’åˆ—çš„ï¼Œæ‰€ä»¥å¦‚æœåªé‡‡æ ·å‰25%é‚£ä¹ˆæ‰€æœ‰é‡‡æ ·çš„æ ·æœ¬éƒ½æ˜¯åŒä¸€ä¸ªç±»åˆ«ï¼ŒåŒæ—¶ç”±äºè®­ç»ƒæ ·æœ¬æ˜¯ä¸å¹³è¡¡çš„(Unbalanced)ï¼Œè¿™æ ·å–å¾—çš„ç»“æœå­˜åœ¨åå·®ï¼Œä¸”å¯ä¿¡åº¦ä½ã€‚å› æ­¤éšæœºé‡‡æ ·train_test_split(data[names[1:10]],data[names[10]],test_size = 0.25,random_state = 33)è®¾ç½®éšæœºç§å­æ˜¯å¿…è¦çš„ã€‚ å†³ç­–æ ‘ æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥çœ‹ä½œæ˜¯äºŒåˆ†ç±»ä»»åŠ¡ï¼Œæ ¹æ®ä¸åŒç‰¹å¾ç»„åˆæ­å»ºå¤šå±‚å†³ç­–æ ‘ï¼Œåœ¨å­¦ä¹ æ—¶éœ€è¦è€ƒè™‘ç‰¹å¾èŠ‚ç‚¹çš„é€‰æ‹©é¡ºåºã€‚ï¼ˆåº¦é‡æ–¹å¼ï¼šä¿¡æ¯ç†µã€åŸºå°¼ä¸çº¯æ€§ï¼‰ æ•°æ®å¤„ç† ç¼ºçœå€¼ï¼š 1234X = titannic[['pclass','age','sex']]...# è¡¥å……ageé‡Œçš„æ•°æ®ï¼Œä½¿ç”¨å¹³å‡æ•°æˆ–è€…ä¸­ä½æ•°éƒ½æ˜¯å¯¹æ¨¡å‹åç¦»æˆéƒ½é€ æˆæœ€å°å½±å“çš„ç­–ç•¥X['age'].fillna(X['age'].mean(),inplace = True) ç‰¹å¾å€¼è½¬æ¢ ç±»åˆ«æ€§ç‰¹å¾å€¼è½¬æ¢ä¸ºæ•°å€¼ç‰¹å¾ï¼Œç”¨0/1ä»£æ›¿ 12345from sklearn.feature_extraction import DictVectorizervec = DictVectorizer(sparse = False)X_train = vec.fit_transform(X_train.to_dict(orient='record'))print(vec.feature_names)&gt;&gt;&gt; ['age','plcass=1st','pclass=2nd', 'sex=female','sex=male'] ğŸ¯å†³ç­–æ ‘åœ¨æ¨¡å‹æè¿°ä¸Šæœ‰å·¨å¤§çš„ä¼˜åŠ¿ï¼Œæ¨æ–­é€»è¾‘éå¸¸ç›´è§‚ï¼Œæœ‰æ¸…æ™°çš„å¯è§£é‡Šæ€§ï¼Œä¹Ÿæ–¹ä¾¿æ¨¡å‹çš„å¯è§†åŒ–ã€‚åŒæ—¶è¿™äº›ç‰¹æ€§ä¹Ÿä¿è¯äº†ä½¿ç”¨å†³ç­–æ ‘æ—¶ï¼Œæ— éœ€è€ƒè™‘å¯¹æ•°æ®é‡åŒ–ç”šè‡³æ ‡å‡†åŒ–ã€‚å†³ç­–æ ‘å±äºæœ‰å‚æ•°æ¨¡å‹ï¼Œéœ€è¦èŠ±è´¹æ›´å¤šæ—¶é—´åœ¨è®­ç»ƒæ•°æ®ä¸Šé¢ ğŸ“æ³°å¦å°¼å…‹å·æ²‰èˆ¹äº‹æ•… å›å½’ çº¿æ€§å›å½’å™¨ ğŸ¯ç¾å›½æ³¢å£«é¡¿åœ°åŒºæˆ¿ä»· KNN æ”¯æŒå‘é‡æœº å›å½’æ ‘ é›†æˆæ¨¡å‹ æ— ç›‘ç£å­¦ä¹ æ¨¡å‹ æ•°æ®èšç±» Kå‡å€¼ï¼ˆK-meansï¼‰ ç‰¹å¾é™ç»´ ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"ACM-å¼ºè¿é€šåˆ†é‡","slug":"ACM-å¼ºè¿é€šåˆ†é‡","date":"2019-04-25T01:27:03.000Z","updated":"2019-09-15T08:07:30.915Z","comments":true,"path":"2019/04/25/ACM-å¼ºè¿é€šåˆ†é‡/","link":"","permalink":"https://nymrli.top/2019/04/25/ACM-å¼ºè¿é€šåˆ†é‡/","excerpt":"","text":"Tarjan ç®—æ³•&amp;æ¨¡æ¿ Tarjan ç®—æ³•ä¸€ç§ç”±Robert Tarjanæå‡ºçš„æ±‚è§£æœ‰å‘å›¾å¼ºè¿é€šåˆ†é‡çš„ç®—æ³•ï¼Œå®ƒèƒ½åšåˆ°çº¿æ€§æ—¶é—´çš„å¤æ‚åº¦ã€‚ å¦‚æœä¸¤ä¸ªé¡¶ç‚¹å¯ä»¥ç›¸äº’é€šè¾¾ï¼Œåˆ™ç§°ä¸¤ä¸ªé¡¶ç‚¹å¼ºè¿é€š(strongly connected)ã€‚å¦‚æœæœ‰å‘å›¾Gçš„æ¯ä¸¤ä¸ªé¡¶ç‚¹éƒ½å¼ºè¿é€šï¼Œç§°Gæ˜¯ä¸€ä¸ªå¼ºè¿é€šå›¾ã€‚æœ‰å‘å›¾çš„æå¤§å¼ºè¿é€šå­å›¾ï¼Œç§°ä¸ºå¼ºè¿é€šåˆ†é‡(strongly connected components)ã€‚ 1234567891011121314151617181920212223void Tarjan ( int x ) &#123; dfn[ x ] = ++dfs_num ; low[ x ] = dfs_num ; vis [ x ] = true ;//æ˜¯å¦åœ¨æ ˆä¸­ stack [ ++top ] = x ; for ( int i=head[ x ] ; i!=0 ; i=e[i].next )&#123; int temp = e[ i ].to ; if ( !dfn[ temp ] )&#123; Tarjan ( temp ) ; low[ x ] = gmin ( low[ x ] , low[ temp ] ) ; &#125; else if ( vis[ temp ])low[ x ] = gmin ( low[ x ] , dfn[ temp ] ) ; &#125; if ( dfn[ x ]==low[ x ] ) &#123;//æ„æˆå¼ºè¿é€šåˆ†é‡ vis[ x ] = false ; color[ x ] = ++col_num ;//æŸ“è‰² while ( stack[ top ] != x ) &#123;//æ¸…ç©º color [stack[ top ]] = col_num ; vis [ stack[ top-- ] ] = false ; &#125; top -- ; &#125;&#125;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"}]},{"title":"ACM-å¹¶æŸ¥é›†","slug":"ACM-å¹¶æŸ¥é›†","date":"2019-04-25T01:21:30.000Z","updated":"2020-06-03T07:57:58.505Z","comments":true,"path":"2019/04/25/ACM-å¹¶æŸ¥é›†/","link":"","permalink":"https://nymrli.top/2019/04/25/ACM-å¹¶æŸ¥é›†/","excerpt":"","text":"å¹¶æŸ¥é›† ACMç«èµ›ä¸­ï¼Œå¹¶æŸ¥é›†ï¼ˆDisjointSetsï¼‰è¿™ä¸ªæ•°æ®ç»“æ„ç»å¸¸ä½¿ç”¨ã€‚é¡¾åæ€ä¹‰ï¼Œå¹¶æŸ¥é›†å³è¡¨ç¤ºé›†åˆï¼Œå¹¶ä¸”æ”¯æŒå¿«é€ŸæŸ¥æ‰¾ã€åˆå¹¶æ“ä½œã€‚ ç”¨äºé«˜æ•ˆçš„æŸ¥æ‰¾æŸä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆï¼› å¹¶æŸ¥é›†å¦‚ä½•è¡¨ç¤ºä¸€ä¸ªé›†åˆï¼Ÿå®ƒå€ŸåŠ©æ ‘çš„æ€æƒ³ï¼Œå°†ä¸€ä¸ªé›†åˆçœ‹æˆä¸€æ£µæœ‰æ ¹æ ‘ã€‚é‚£åˆå¦‚ä½•è¡¨ç¤ºä¸€æ£µæ ‘ï¼Ÿåˆå§‹çŠ¶æ€ä¸‹ï¼Œä¸€ä¸ªå…ƒç´ å³ä¸€æ£µæ ‘ï¼Œæ ¹å³æ˜¯å…ƒç´ æœ¬èº«ã€‚ åˆå¹¶ å¹¶æŸ¥é›†å¦‚ä½•æ”¯æŒåˆå¹¶æ“ä½œï¼Ÿä¸éš¾å‘ç°ï¼ŒæŒ‰ç…§æ ‘çš„æ€æƒ³ï¼Œåœ¨åŒä¸€æ£µæ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œæ ¹éƒ½æ˜¯ç›¸åŒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆå¹¶ä¸¤ä¸ªä¸åŒçš„é›†åˆï¼Œåªéœ€è¦å°†å…¶ä¸­ä¸€ä¸ªé›†åˆçš„æ ¹è®¾ç½®ä¸ºå¦ä¸€ä¸ªé›†åˆçš„æ ¹å³å¯ï¼Œè€Œéœ€è¦æ”¹å˜æ ¹çš„é‚£ä¸ªé›†åˆï¼Œå…¶å®åªéœ€è¦æ”¹å˜æ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å³å¯ã€‚ å¦‚ä½•æ”¯æŒå¿«é€ŸæŸ¥æ‰¾æ“ä½œ å¦‚æœå®Œå…¨æŒ‰ç…§ä¸Šé¢çš„åˆå¹¶æ–¹æ³•è¿›è¡Œåˆå¹¶æ“ä½œï¼Œæœ€åç”Ÿæˆçš„æ ‘ï¼Œå¯èƒ½æ˜¯å®Œå…¨çº¿æ€§çš„ï¼Œé‚£ä¹ˆæŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦å°±é€€åŒ–æˆäº†O(n)ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¨‹åºä¸å¾—ä¸éå†å®Œæ‰€æœ‰èŠ‚ç‚¹æ‰èƒ½æŸ¥è¯¢åˆ°å½“å‰å…ƒç´ æ‰€å±çš„æ ¹èŠ‚ç‚¹ã€‚ è·¯å¾„å‹ç¼©ç®—æ³•ä¼˜åŒ–å¹¶æŸ¥é›†æŸ¥è¯¢æ“ä½œã€‚æŒ‰ç…§é›†åˆåŸæ¥çš„å®šä¹‰ï¼Œé›†åˆä¸­çš„å…ƒç´ æ˜¯æ»¡è¶³æ— åºæ€§çš„ï¼Œå› æ­¤å¯ä»¥åœ¨æŸ¥è¯¢æ“ä½œè¿›è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå½“ç¨‹åºéå†åˆ°æ ¹èŠ‚ç‚¹ç„¶åè¿”å›çš„æ—¶å€™ï¼Œå°†æ‰€æœ‰å±äºå½“å‰æ ¹èŠ‚ç‚¹çš„å…ƒç´ çš„çˆ¶èŠ‚ç‚¹ç›´æ¥è®¾ç½®ä¸ºå½“å‰æ ¹èŠ‚ç‚¹ã€‚å¦‚æ­¤ä¸€æ¥ï¼ŒåŸæ¥çš„ä¸€æ¡é“¾å°±å˜æˆäº†ä¸€èˆ¬çš„æ ‘äº†ã€‚å½“ä¸‹ä¸€æ¬¡æŸ¥è¯¢çš„æ—¶å€™ï¼Œå°±å¯ä»¥å¾ˆå¿«çš„éå†åˆ°æ ¹èŠ‚ç‚¹äº†ï¼Œå¤æ‚åº¦ä¸‹é™ä¸ºO(1)ã€‚ è¿˜æœ‰ä¸€ç§ä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯åˆå¹¶ä¸¤ä¸ªé›†åˆçš„æ—¶å€™ï¼ŒæŒ‰ç§©è¿›è¡Œåˆå¹¶ï¼Œè¿™é‡Œçš„ç§©ä»£è¡¨çš„ä»¥å½“å‰å…ƒç´ ä¸ºæ ¹èŠ‚ç‚¹çš„å…ƒç´ ä¸ªæ•°ã€‚å¾ˆæ˜æ˜¾ï¼Œå°†ç§©è¾ƒå°çš„æ ‘åˆå¹¶åˆ°ç§©è¾ƒå¤§çš„æ ‘ä¸Šæ›´ä¼˜ã€‚ æœ€åï¼Œå°±æ˜¯å…·ä½“å¦‚ä½•ç”¨ä»£ç å®ç°å¹¶æŸ¥é›†ï¼Ÿå…¶å®ï¼Œå¹¶æŸ¥é›†ä¸­åªæ¶‰åŠåˆ°äº†ä¿å­˜å½“å‰å…ƒç´ çš„çˆ¶èŠ‚ç‚¹è¿™ä¸€ä¿¡æ¯ï¼Œæ‰€ä»¥åˆ©ç”¨ä¸€ä¸ªæ•°ç»„set[i]ä»£è¡¨èŠ‚ç‚¹içš„çˆ¶èŠ‚ç‚¹å³å¯ï¼Œå¦‚æœset[i]=ié‚£ä¹ˆä»£è¡¨å½“å‰é›†åˆçš„æ ¹å³ä¸ºiå…ƒç´ æœ¬èº«ã€‚ ä»¥ä¸€é“ä¾‹é¢˜ä¸ºä¾‹ï¼ŒHDOJï¼š1212ï¼Œæ—¶ç©ºè½¬ç§»ï¼ˆç‚¹å‡»æ‰“å¼€é“¾æ¥ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;cstdio&gt; const int NumSets = 1005;typedef int DisjSet[NumSets + 1];typedef int Rank[NumSets + 1];DisjSet S;Rank R; // Initialize the set and rankvoid Initialize()&#123; for(int i=0; i&lt;NumSets; ++i) &#123; S[i] = i; R[i] = 1; &#125;&#125; // Find father of the value, with the function of path compressionint Find(int value)&#123; if(S[value] != value) S[value] = Find(S[value]); return S[value];&#125; // Union the value1 and value2 by the rank of the set which them local invoid SetUnion(int value1, int value2)&#123; int fa1 = Find(value1); int fa2 = Find(value2); if(fa1 == fa2) return ; if(R[fa1] &gt;= R[fa2]) &#123; S[fa2] = fa1; R[fa1] += R[fa2]; &#125; else &#123; S[fa1] = fa2; R[fa2] += R[fa1]; &#125;&#125; int main()&#123;//freopen(\"sample.txt\", \"r\", stdin); int cas; scanf(\"%d\", &amp;cas); while(cas--) &#123; int n, m; Initialize(); scanf(\"%d%d\", &amp;n, &amp;m); for(int i=0; i&lt;m; ++i) &#123; int a, b; scanf(\"%d%d\", &amp;a, &amp;b); if(Find(a) != Find(b)) &#123; SetUnion(a, b); --n; &#125; &#125; printf(\"%d\\n\", n); &#125; return 0;&#125;ï¼ æ‘˜è‡ª(https://blog.csdn.net/u011787119/article/details/46834903) ä¾‹é¢˜ è§£å¯†çŠ¯ç½ªå›¢ä¼™ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;stdio.h&gt;int f[1001]=&#123;0&#125;,n,m,sum=0;//è¿™é‡Œæ˜¯åˆå§‹åŒ–ï¼Œéå¸¸åœ°é‡è¦ï¼Œæ•°ç»„é‡Œé¢å­˜çš„æ˜¯è‡ªå·±æ•°ç»„ä¸‹æ ‡çš„ç¼–å·å°±å¥½äº†ã€‚void init()&#123; int i; for(i=1;i&lt;=n;i++) f[i]=i; return; &#125;//è¿™æ˜¯æ‰¾çˆ¹çš„é€’å½’å‡½æ•°ï¼Œä¸åœåœ°å»æ‰¾çˆ¹ï¼Œç›´åˆ°æ‰¾åˆ°ç¥–å®—ä¸ºæ­¢ï¼Œå…¶å®å°±æ˜¯å»æ‰¾çŠ¯ç½ªå›¢ä¼™çš„æœ€é«˜é¢†å¯¼äººï¼Œ//â€œæ“’è´¼å…ˆæ“’ç‹â€åŸåˆ™ã€‚int getf(int v) &#123; if(f[v]==v) return v; else&#123; //è¿™é‡Œæ˜¯è·¯å¾„å‹ç¼©ï¼Œæ¯æ¬¡åœ¨å‡½æ•°è¿”å›çš„æ—¶å€™ï¼Œé¡ºå¸¦æŠŠè·¯ä¸Šé‡åˆ°çš„äººçš„â€œBOSSâ€æ”¹ä¸ºæœ€åæ‰¾ //åˆ°çš„ç¥–å®—ç¼–å·ï¼Œä¹Ÿå°±æ˜¯çŠ¯ç½ªå›¢ä¼™çš„æœ€é«˜é¢†å¯¼äººç¼–å·ã€‚è¿™æ ·å¯ä»¥æé«˜ä»Šåæ‰¾åˆ°çŠ¯ç½ªå›¢ä¼™çš„ //æœ€é«˜é¢†å¯¼äººï¼ˆå…¶å®å°±æ˜¯æ ‘çš„ç¥–å…ˆï¼‰çš„é€Ÿåº¦ã€‚ f[v]=getf(f[v]);//è¿™é‡Œè¿›è¡Œäº†è·¯å¾„å‹ç¼© return f[v]; &#125;&#125;// è¿­ä»£å†™æ³•// nodeä¸ºæŸæ¬¡å…·ä½“æ“ä½œèŠ‚ç‚¹, tmp_nodeä¸ºå…¶èƒ½æ‰¾åˆ°groupå¤´// å…³ç³»ç±»ä¼¼é“¾è¡¨ä¸­çš„pã€q, ä¸€ä¸ªå½“å‰, ä¸€ä¸ªè®°å½•ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªèŠ‚ç‚¹int findFather(int v)&#123; int node = v; while ( arr[v] != v ) &#123; v = arr[v]; &#125; // væ­¤æ—¶æŒ‡å‘çš„æ˜¯è¯¥groupçš„å¤´ // è·¯å¾„å‹ç¼©, æŠŠè¯¥groupä¸­æ‰€æœ‰æˆå‘˜éƒ½æŒ‡å‘ä¸€ä¸ªå¤´v while ( node != arr[node] )&#123; int tmp_node = node; node = arr[node]; arr[tmp_node] = v; &#125; return v;&#125;//è¿™é‡Œæ˜¯åˆå¹¶ä¸¤å­é›†åˆçš„å‡½æ•°void merge(int v,int u) &#123; int t1,t2;//t1ã€t2åˆ†åˆ«ä¸ºvå’Œuçš„å¤§BOSSï¼ˆé¦–é¢†ï¼‰ï¼Œæ¯æ¬¡åŒæ–¹çš„ä¼šè°ˆéƒ½å¿…é¡»æ˜¯å„è‡ªæœ€é«˜é¢†å¯¼äººæ‰è¡Œ t1=getf(v); t2=getf(u); if( t1!=t2 ) //åˆ¤æ–­ä¸¤ä¸ªç»“ç‚¹æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­ï¼Œå³æ˜¯å¦ä¸ºåŒä¸€ä¸ªç¥–å…ˆã€‚ f[t2]=t1; //â€œé å·¦â€åŸåˆ™ï¼Œå·¦è¾¹å˜æˆå³è¾¹çš„BOSSã€‚å³æŠŠå³è¾¹çš„é›†åˆï¼Œä½œä¸ºå·¦è¾¹é›†åˆçš„å­é›†åˆã€‚ return;&#125;//è¯·ä»æ­¤å¤„å¼€å§‹é˜…è¯»ç¨‹åºï¼Œä»ä¸»å‡½æ•°å¼€å§‹é˜…è¯»ç¨‹åºæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚int main()&#123; int i,x,y; scanf(\"%d %d\",&amp;n,&amp;m); init(); //åˆå§‹åŒ–æ˜¯å¿…é¡»çš„ for(i=1;i&lt;=m;i++)&#123; //å¼€å§‹åˆå¹¶çŠ¯ç½ªå›¢ä¼™ scanf(\"%d %d\",&amp;x,&amp;y); merge(x,y); &#125; //æœ€åæ‰«ææœ‰å¤šå°‘ä¸ªç‹¬ç«‹çš„çŠ¯ç½ªå›¢ä¼™ for(i=1;i&lt;=n;i++)&#123; if(f[i]==i) sum++; &#125; printf(\"%d\\n\",sum); getchar();getchar(); return 0;&#125; ç”¨å¹¶æŸ¥é›†åˆ¤æ–­æ— å‘å›¾çš„è¿é€šæ€§(æˆ–æ±‚è¿é€šåˆ†æ”¯ä¸ªæ•°)~ ç»™å®šä¸€ä¸ªæ— å‘å›¾å’Œå…¶ä¸­çš„æ‰€æœ‰è¾¹ï¼Œåˆ¤æ–­è¿™ä¸ªå›¾æ˜¯å¦æ‰€æœ‰é¡¶ç‚¹éƒ½æ˜¯è¿é€šçš„ã€‚ è¾“å…¥ï¼šæ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°n å’Œmï¼ˆ0&lt; n &lt;=1000ï¼‰ã€‚n è¡¨ç¤ºå›¾çš„é¡¶ç‚¹ æ•°ç›®ï¼Œm è¡¨ç¤ºå›¾ä¸­è¾¹çš„æ•°ç›®ã€‚å¦‚æœn ä¸º0 è¡¨ç¤ºè¾“å…¥ç»“æŸã€‚éšåæœ‰m è¡Œæ•°æ®ï¼Œæ¯ è¡Œæœ‰ä¸¤ä¸ªå€¼x å’Œyï¼ˆ0&lt;x, y &lt;=nï¼‰ï¼Œè¡¨ç¤ºé¡¶ç‚¹x å’Œy ç›¸è¿ï¼Œé¡¶ç‚¹çš„ç¼–å·ä»1 å¼€å§‹è®¡ ç®—ã€‚è¾“å…¥ä¸ä¿è¯è¿™äº›è¾¹æ˜¯å¦é‡å¤ã€‚ è¾“å‡ºï¼šå¯¹äºæ¯ç»„è¾“å…¥æ•°æ®ï¼Œå¦‚æœæ‰€æœ‰é¡¶ç‚¹éƒ½æ˜¯è¿é€šçš„ï¼Œè¾“å‡º â€™YESâ€™ ï¼Œå¦åˆ™è¾“ å‡º â€™NOâ€™ã€‚ 123456789101112===æ ·ä¾‹è¾“å…¥===4 31 22 33 23 21 22 30 0===æ ·ä¾‹è¾“å‡º===NOYES 1234567891011121314151617181920212223242526272829303132333435363738394041#include&lt;stdio.h&gt;int map[1005];int n,m;int find(int i)&#123; return map[i]==i?i:find(map[i]);&#125;void init()&#123; for(int i=0;i&lt;n;i++) map[i]=i;&#125;int main()&#123; while(scanf(\"%d%d\",&amp;n,&amp;m)==2) &#123; if(n==0) break; init(); int a,b; for(int i=0;i&lt;m;i++) &#123; scanf(\"%d%d\",&amp;a,&amp;b); a--;b--; map[find(a)]=map[find(b)]; &#125; int cnt=0; for(int i=0;i&lt;n;i++) &#123; if(map[i]==i) cnt++; &#125; if(cnt==1) printf(\"YES\\n\"); else printf(\"NO\\n\"); &#125; return 0;&#125; ä¾‹å­ é¢˜ç›®é“¾æ¥ï¼šhttp://poj.org/problem?id=1611 é¢˜ç›®å¤§æ„ï¼š ä¸­æ–‡å°±ä¸è§£é‡Šäº†ï¼› åšæ³•ï¼šæŠŠåŒä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ éƒ½æ”¾åˆ°åŒä¸€ä¸ªé›†åˆé‡Œï¼Œ å½“æ”¾å®Œä¹‹åï¼Œ æ£€æŸ¥ä¸€ä¸‹0å·åŒå­¦åœ¨å“ªä¸ªé›†åˆï¼Œ å†åˆ¤æ–­ä¸€ä¸‹å‰©ä¸‹çš„åŒå­¦æ˜¯å¦å’Œå®ƒåœ¨åŒä¸€ä¸ªé›†åˆé‡Œé¢ï¼› 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869//// Created by fkjs on 2015-09-17// Copyright (c) 2015 fkjs. All rights reserved.////#pragma comment(linker, \"/STACK:1024000000,1024000000\")#include &lt;algorithm&gt;#include &lt;cctype&gt;#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;iomanip&gt;#include &lt;iostream&gt;#include &lt;map&gt;#include &lt;queue&gt;#include &lt;string&gt;#include &lt;set&gt;#include &lt;sstream&gt;#include &lt;stack&gt;#include &lt;vector&gt;#define clr(x) memset(x, 0, sizeof(x))using namespace std;const int INF = 0x3f3f3f3f;const int maxm = 505;const int maxn = 30000 + 10;typedef long long int ll;int n, m;int pa[maxn];int find(int x)&#123;//å¹¶æŸ¥é›†çš„åŸºç¡€-&gt;findå‡½æ•°ï¼Œ å®ƒçš„ç‰¹ç‚¹å°±æ˜¯pa[x] = find(pa[x]), è¿™ä¸€è¯­å¥å¯ä»¥æŠŠè¯¥è·¯å¾„ä¸Šçš„æ‰€æœ‰ç‚¹çš„çˆ¶äº²éƒ½æ”¹æˆæ ¹èŠ‚ç‚¹ï¼› return x == pa[x] ? x : pa[x] = find(pa[x]);&#125;void connect(int x, int y)&#123;//é“¾æ¥ä¸¤ä¸ªå¹¶æŸ¥é›† int fa = find(x);//æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œ å½“ç„¶æ‰¾çš„è¿‡ç¨‹ä¸­ä¼šæ›´æ–°è·¯ä¸Šçš„ç‚¹ï¼› int fb = find(y);//åŒä¸Šï¼› pa[fa] = fb;//é“¾æ¥ä¸¤ä¸ªé›†åˆï¼›&#125;int main(void) &#123;#ifdef LOCAL //freopen(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\in.txt\", \"r\", stdin); //freopen(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\out.txt\", \"w\", stdout);#endif //ios_base::sync_with_stdio(0); while(scanf(\"%d%d\", &amp;n, &amp;m) == 2 &amp;&amp; (n || m))&#123; for(int i = 0; i &lt; n; i++) pa[i] = i; for(int i = 0; i &lt; m; i++)&#123; int len; scanf(\"%d\", &amp;len); int x; scanf(\"%d\", &amp;x); int tp = x; for(int i = 1; i &lt; len; i++)&#123; scanf(\"%d\", &amp;x); connect(x, tp); tp = x; &#125; &#125; int ans = 0; int p = find(0);//æ‰¾åˆ°æœ€åˆæ„ŸæŸ“è€…æ‰€åœ¨çš„é›†åˆï¼Œ å®ƒçš„æ ¹æ˜¯pï¼› for(int i = 0; i &lt; n; i++)//å‡¡æ˜¯æ ¹æ˜¯pçš„äººéƒ½è¢«æ„ŸæŸ“äº†ï¼› if(find(i) == p) ans++; printf(\"%d\\n\", ans); &#125; return 0;&#125; â€‹","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"}]},{"title":"Javaè¯¾ç¨‹ç¬¬äºŒæ¬¡å®éªŒæŠ¥å‘Š","slug":"Javaè¯¾ç¨‹ç¬¬äºŒæ¬¡å®éªŒæŠ¥å‘Š","date":"2019-04-25T00:58:21.000Z","updated":"2019-09-15T08:07:30.948Z","comments":true,"path":"2019/04/25/Javaè¯¾ç¨‹ç¬¬äºŒæ¬¡å®éªŒæŠ¥å‘Š/","link":"","permalink":"https://nymrli.top/2019/04/25/Javaè¯¾ç¨‹ç¬¬äºŒæ¬¡å®éªŒæŠ¥å‘Š/","excerpt":"","text":"Javaè¯¾ç¨‹ç¬¬äºŒæ¬¡å®éªŒæŠ¥å‘Š 1.å¯»æ‰¾å¹¶è¾“å‡º11~999ä¹‹é—´çš„æ•°mï¼Œå®ƒæ»¡è¶³mã€m2ã€m3å‡ä¸ºå›æ–‡æ•°ã€‚å›æ–‡æ•°æ˜¯å„ä½æ•°å­—å·¦å³å¯¹ç§°çš„æ•´æ•°ã€‚åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡è¦æ±‚é€šè¿‡ç¼–å†™æ–¹æ³•æ¥å®Œæˆã€‚ 123456789101112131415161718public class HelloWorld &#123; public static boolean isPalindrome(int s) &#123; String str = Integer.toString(s); if( str.charAt(0) == str.charAt(str.length() - 1) ) return true; else return false; &#125; public static void main(String []args) &#123; for (int s = 11; s &lt; 1000; s++) &#123; if (isPalindrome(s) &amp;&amp; isPalindrome(s*s) &amp;&amp; isPalindrome(s*s*s) ) System.out.println(s); &#125; &#125; &#125; 2.ç”±é”®ç›˜è¾“å…¥10ä¸ªæ•´æ•°ï¼Œæ¯”è¾ƒå¹¶è¾“å‡ºå…¶ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚ 12345678910111213141516import java.util.Scanner;public class HelloWorld &#123; public static void main(String []args) &#123; Scanner s = new Scanner(System.in); int []arr = new int[10]; int maxn = -1000000000; int minn = 1000000000; for (int i = 0; i &lt; 10; i++) &#123; arr[i] = s.nextInt(); if ( arr[i] &lt; minn ) minn = arr[i]; if ( arr[i] &gt; maxn) maxn = arr[i]; &#125; System.out.printf(\"æœ€å¤§å€¼:%d ï¼Œæœ€å°å€¼:%d \\n\",maxn,minn); &#125;&#125; 3.éšæœºäº§ç”Ÿ50ä¸ª1-100ä¹‹é—´çš„æ•´æ•°ï¼Œå­˜æ”¾äºä¸€ä¸ª10Â´5çš„äºŒç»´æ•°ç»„ä¸­ï¼Œè¦æ±‚æŒ‰ç…§10Â´5çš„æ ¼å¼æ‰“å°è¿™ä¸ªæ•°ç»„ï¼ˆå³å…±æ˜¾ç¤º10è¡Œï¼Œæ¯è¡Œ5ä¸ªæ•°ï¼Œæ•°ä¸æ•°ä¹‹é—´é—´éš”ä¸€ä¸ªç©ºæ ¼ï¼‰ï¼Œå¹¶æ±‚å‡ºè¯¥æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹å’Œã€‚ 1234567891011121314151617181920public class HelloWorld &#123; final static int row = 10; final static int col = 5; static int [][]arr = new int[row][col]; public static void main(String []args) &#123; int sum = 0; for (int i = 0; i &lt; row; i++) &#123; for (int j = 0; j &lt; col; j++) &#123; arr[i][j] = (int)(Math.random()*100 + 1); sum += arr[i][j]; System.out.printf(\"%d \",arr[i][j]); &#125; System.out.println(); &#125; System.out.println(\"SUM:\"+sum+\"\"); &#125;&#125; 4.å­¦ç”Ÿç±»çš„åˆ›å»ºå’Œä½¿ç”¨ â‘ åˆ›å»ºä¸€ä¸ªå­¦Studentç±»ï¼Œæˆå‘˜å˜é‡åŒ…æ‹¬ï¼šå­¦å·ã€ç­å·ã€å§“åã€æ€§åˆ«ã€å¹´é¾„ç­‰ï¼Œä¸”éƒ½æ˜¯privateç±»å‹ã€‚ â‘¡å£°æ˜ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œåˆå§‹åŒ–æ‰€æœ‰æˆå‘˜å˜é‡ã€‚ â‘¢åˆ†åˆ«å£°æ˜è·å¾—å„å±æ€§çš„publicç±»å‹çš„æˆå‘˜æ–¹æ³•ï¼Œæ–¹æ³•åè¦æ±‚ä»¥getå¼€å¤´ã€‚ â‘£åˆ†åˆ«å£°æ˜ä¿®æ”¹å„å±æ€§çš„publicç±»å‹çš„æˆå‘˜æ–¹æ³•ï¼Œæ–¹æ³•åè¦æ±‚ä»¥setå¼€å¤´ã€‚ â‘¤å£°æ˜ä¸€ä¸ªpublicç±»å‹çš„toStringï¼ˆï¼‰æ–¹æ³•ï¼ŒæŠŠè¯¥ç±»ä¸­çš„æ‰€æœ‰åŸŸä¿¡æ¯ç»„åˆæˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ â‘¥å£°æ˜ç»Ÿè®¡åˆ›å»ºStudentå¯¹è±¡çš„ä¸ªæ•°çš„ç§æœ‰åŸŸcountå’Œå¾—åˆ°Studentå¯¹è±¡çš„ä¸ªæ•°çš„publicæ–¹æ³•ã€‚ â‘¦å°†ç±»Studentæ”¾åœ¨å­åŒ…studentä¸­ã€‚ â‘§åœ¨å­åŒ…studentå¤–ï¼Œåˆ›å»ºæµ‹è¯•ç±»Studentçš„ä¸»ç±»ã€‚ åœ¨ä¸»ç±»ä¸­ï¼šåˆ›å»º2ä¸ªStudentå¯¹è±¡ï¼Œè¾“å‡ºå¯¹è±¡çš„æ‰€æœ‰åŸŸä¿¡æ¯ï¼›ä¿®æ”¹å¯¹è±¡çš„å§“åå’Œå¹´é¾„ï¼Œè¾“å‡ºä¿®æ”¹åçš„å§“åå’Œå¹´é¾„ï¼›æ¯”è¾ƒä¸¤ä¸ªStudentå¯¹è±¡çš„å¹´é¾„çš„å¤§å°ï¼Œè¾“å‡ºå¹´é¾„è¾ƒå¤§çš„Studentå¯¹è±¡ã€‚ Student.java 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172package student;public class Student &#123; private int uid; private int classNum; private String name; private String gender; private int age; private static int cnt = 0; public Student(int uid , int classNum , String name , String gender , int age) &#123; this.uid = uid; this.classNum =classNum; this.name = name; this.gender = gender; this.age = age; cnt += 1; // TODO Auto-generated constructor stub &#125; public void setUid(int uid) &#123; this.uid = uid; &#125; public int getUid() &#123; return uid; &#125; public void setClassNum(int classNum) &#123; this.classNum = classNum; &#125; public int getClassNum() &#123; return classNum; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getName() &#123; return name; &#125; public void setGender(String gender) &#123; this.gender = gender; &#125; public String getGender() &#123; return gender; &#125; public void setAge(int age) &#123; this.age = age; &#125; public int getAge() &#123; return age; &#125; public static int getCnt() &#123; return cnt; &#125; @Override public String toString() &#123; // TODO Auto-generated method stub return String.format(\"å­¦å·ä¸º%dçš„åŒå­¦ï¼Œåœ¨%dç­ï¼Œå§“åä¸º%sï¼Œæ€§åˆ«ä¸º%sï¼Œå¹´é¾„ä¸º%dï¼Œ\", uid,classNum,name,gender,age); &#125; &#125; HelloWorld.java 12345678910111213import student.*;public class HelloWorld &#123; public static void main(String []args) &#123; Student stu1 = new Student(1,1,\"cl\", \"male\", 20); Student stu2 = new Student(3,2,\"cjl\", \"female\", 20); System.out.println(stu1); System.out.println(stu2); stu1.setName(\"cl2\"); stu1.setAge(21); System.out.printf(\"ä¿®æ”¹ä¹‹åçš„å§“å:%s,ä¿®æ”¹åçš„å¹´é¾„:%d\\n\",stu1.getName(),stu1.getAge()); System.out.println( stu1.getAge() &gt; stu2.getAge() ?stu1 : stu2); &#125;&#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"ACM-å¤§æ•°å®šç†ï¼ˆé«˜ç²¾åº¦ï¼‰","slug":"ACM-å¤§æ•°å®šç†ï¼ˆé«˜ç²¾åº¦ï¼‰","date":"2019-04-25T00:53:27.000Z","updated":"2020-05-28T10:40:42.046Z","comments":true,"path":"2019/04/25/ACM-å¤§æ•°å®šç†ï¼ˆé«˜ç²¾åº¦ï¼‰/","link":"","permalink":"https://nymrli.top/2019/04/25/ACM-å¤§æ•°å®šç†ï¼ˆé«˜ç²¾åº¦ï¼‰/","excerpt":"","text":"ACM-å¤§æ•°å®šç†ï¼ˆé«˜ç²¾åº¦ï¼‰ ç”±äºc/c++ä¸­æ•°æ®ç±»å‹çš„èŒƒå›´æ¯”è¾ƒå›ºå®šï¼Œå› æ­¤æœ‰äº›é¢˜ç›®çš„æ•°æ®èŒƒå›´æ­£å¥½å¡åœ¨è¿™äº›æ­£å¸¸èŒƒå›´ä¹‹å¤–ï¼Œæ­¤æ—¶å°±éœ€è¦è‡ªå·±å®ç°å¤§æ•°åŠ å‡ä¹˜é™¤çš„è¿ç®—ã€‚ c/c++éœ€è¦è‡ªå·±æ‰‹å†™ javaä¸­æœ‰BigIntegerç±» C++ åŠ æ³•å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;algorithm&gt;using namespace std;typedef long long ll;string add(string a , string b)&#123; a = a.substr(a.find_first_not_of(\"0\")); // å»å‰å¯¼0 b = b.substr(b.find_first_not_of(\"0\")); ll lenA = a.length(); ll lenB = b.length(); ll len = max(lenA,lenB) + 10; reverse(a.begin(),a.end()); // ç¿»è½¬,æ–¹ä¾¿ç›¸åŠ  reverse(b.begin(),b.end());// cout &lt;&lt; \"a\" &lt;&lt; a &lt;&lt; endl;// cout &lt;&lt; \"b\" &lt;&lt; b &lt;&lt; endl; string ans(len,'0'); // anså…¨èµ‹å€¼ä¸º0 for(int i =0 ; i &lt; lenA ; i ++) ans[i] = a[i]; int tmp = 0; for(int i = 0 ; i &lt; len;i++)&#123; if ( i &lt; b.length() ) tmp += (ans[i] - '0') + (b[i] - '0'); else tmp += (ans[i] - '0') ; ans[i] = (tmp % 10) + '0'; tmp /= 10; &#125; reverse(ans.begin(),ans.end()); // å†å°†è¿ç®—ç»“æœåè½¬å›æ¥ return ans.substr(ans.find_first_not_of(\"0\")); // ä»ç„¶éœ€è¦å»å‰å¯¼0&#125;int main()&#123; string a = \"3\"; string b = \"2\"; cout &lt;&lt; add(a,b) &lt;&lt;endl; return 0 ;&#125; 1234567891011121314151617/**A/B/Céƒ½æ˜¯å€’åºçš„æ•°å­—, æ¯”å¦‚123, é‚£ä¹ˆvector&lt;int&gt; A = &#123;3, 2, 1&#125;*/vector&lt;int&gt; add(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B)&#123; vector&lt;int&gt; C; for (int i = 0, t = 0; i &lt; A.size() || i &lt; B.size() || t; i++) &#123; if (i &lt; A.size() ) t += A[i]; if (i &lt; B.size() ) t += B[i]; C.push_back(t % 10); t /= 10; &#125; // å»æœ«å°¾0ï¼ˆå‰ç½®ï¼‰ while (C.size() &gt; 1 &amp;&amp; C.back() == 0) C.pop_back(); return C;&#125; Java åŠ å‡ä¹˜é™¤ 1234567891011121314151617public class HelloWorld &#123; public static void main(String []args) &#123; BigInteger a = new BigInteger(\"100\"); BigInteger b = new BigInteger(\"2\"); System.out.println(a.add(b)); // 102 System.out.println(a.subtract(b)); // 98 System.out.println(a.multiply(b)); // 200 System.out.println(a.divide(b)); // 50 BigInteger []c = a.divideAndRemainder(b); System.out.printf(\"é™¤æ•°ä¸º:%d,ä½™æ•°ä¸º:%d\\n\", c[0],c[1] ); // é™¤æ•°ä¸º:50,ä½™æ•°ä¸º:0 &#125;&#125;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"}]},{"title":"ä½¿ç”¨gitå°†é¡¹ç›®ä¸Šä¼ åˆ°githubï¼ˆæœ€ç®€å•æ–¹æ³•ï¼‰","slug":"ä½¿ç”¨gitå°†é¡¹ç›®ä¸Šä¼ åˆ°githubï¼ˆæœ€ç®€å•æ–¹æ³•ï¼‰","date":"2019-03-28T11:39:36.000Z","updated":"2019-09-15T08:07:31.024Z","comments":true,"path":"2019/03/28/ä½¿ç”¨gitå°†é¡¹ç›®ä¸Šä¼ åˆ°githubï¼ˆæœ€ç®€å•æ–¹æ³•ï¼‰/","link":"","permalink":"https://nymrli.top/2019/03/28/ä½¿ç”¨gitå°†é¡¹ç›®ä¸Šä¼ åˆ°githubï¼ˆæœ€ç®€å•æ–¹æ³•ï¼‰/","excerpt":"","text":"ä½¿ç”¨gitå°†é¡¹ç›®ä¸Šä¼ åˆ°githubï¼ˆæœ€ç®€å•æ–¹æ³•ï¼‰ é¦–å…ˆä½ éœ€è¦ä¸€ä¸ªgithubè´¦å·ï¼Œæ‰€æœ‰è¿˜æ²¡æœ‰çš„è¯å…ˆå»æ³¨å†Œå§ï¼ Github **æˆ‘ä»¬ä½¿ç”¨gitéœ€è¦å…ˆå®‰è£…gitå·¥å…·ï¼Œè¿™é‡Œç»™å‡ºä¸‹è½½åœ°å€ï¼Œä¸‹è½½åä¸€è·¯ç›´æ¥å®‰è£…å³å¯ï¼š**https://git-for-windows.github.io/ 1.è¿›å…¥Githubé¦–é¡µï¼Œç‚¹å‡»New repositoryæ–°å»ºä¸€ä¸ªé¡¹ç›® 2.å¡«å†™ç›¸åº”ä¿¡æ¯åç‚¹å‡»createå³å¯ Repository name: ä»“åº“åç§° Description(å¯é€‰): ä»“åº“æè¿°ä»‹ç» Public, Private : ä»“åº“æƒé™ï¼ˆå…¬å¼€å…±äº«ï¼Œç§æœ‰æˆ–æŒ‡å®šåˆä½œè€…ï¼‰ Initialize this repository with a README: æ·»åŠ ä¸€ä¸ªREADME.md gitignore: ä¸éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„ä»“åº“ç±»å‹ï¼Œå¯¹åº”ç”Ÿæˆæ–‡ä»¶.gitignore license: è¯ä¹¦ç±»å‹ï¼Œå¯¹åº”ç”Ÿæˆæ–‡ä»¶LICENSE åˆ›å»ºå®Œæˆåä¼šå˜æˆï¼ˆæ·»åŠ äº†README.mdæˆ–è€…æœ‰license) 3.ç‚¹å‡»Clone or dowloadä¼šå‡ºç°ä¸€ä¸ªåœ°å€ï¼Œcopyè¿™ä¸ªåœ°å€å¤‡ç”¨ã€‚ 4.æ¥ä¸‹æ¥å°±åˆ°æœ¬åœ°æ“ä½œäº† é¦–å…ˆå³é”®ä½ çš„é¡¹ç›®ï¼Œå¦‚æœä½ ä¹‹å‰å®‰è£…gitæˆåŠŸçš„è¯ï¼Œå³é”®ä¼šå‡ºç°ä¸¤ä¸ªæ–°é€‰é¡¹ï¼Œåˆ†åˆ«ä¸ºGit Gui Here,Git Bash Here,è¿™é‡Œæˆ‘ä»¬é€‰æ‹©Git Bash Hereï¼Œè¿›å…¥å¦‚ä¸‹ç•Œé¢ï¼ŒTest_Bluetoothå³ä¸ºæˆ‘çš„é¡¹ç›®åã€‚ 5.æ¥ä¸‹æ¥è¾“å…¥å¦‚ä¸‹ä»£ç ï¼ˆå…³é”®æ­¥éª¤ï¼‰ï¼ŒæŠŠgithubä¸Šé¢çš„ä»“åº“å…‹éš†åˆ°æœ¬åœ° git clone https://github.com/CKTim/BlueTooth.gitï¼ˆhttps://github.com/CKTim/BlueTooth.gitæ›¿æ¢æˆä½ ä¹‹å‰å¤åˆ¶çš„åœ°å€ï¼‰ 6.å¤åˆ¶æ–‡ä»¶åˆ°åˆšå‡ºæ¥çš„æ–‡ä»¶å¤¹ä¸­ è¿™ä¸ªæ­¥éª¤ä»¥åä½ çš„æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹é¢å°±ä¼šå¤šå‡ºä¸ªæ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹åå³ä¸ºä½ githubä¸Šé¢çš„é¡¹ç›®åï¼Œå¦‚å›¾æˆ‘å¤šå‡ºäº†ä¸ªTestæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬æŠŠæœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº†æ–°å¤šå‡ºçš„é‚£ä¸ªæ–‡ä»¶å¤¹ä¸ç”¨ï¼‰ï¼Œå…¶ä½™éƒ½å¤åˆ¶åˆ°é‚£ä¸ªæ–°å¤šå‡ºçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œ 7.æ¥ç€ç»§ç»­è¾“å…¥å‘½ä»¤ cd Testï¼Œè¿›å…¥Testæ–‡ä»¶å¤¹ 8.æ¥ä¸‹æ¥ä¾æ¬¡è¾“å…¥ä»¥ä¸‹ä»£ç å³å¯å®Œæˆå…¶ä»–å‰©ä½™æ“ä½œï¼š 123git add . ï¼ˆæ³¨ï¼šåˆ«å¿˜è®°åé¢çš„.ï¼Œæ­¤æ“ä½œæ˜¯æŠŠTestæ–‡ä»¶å¤¹ä¸‹é¢çš„æ–‡ä»¶éƒ½æ·»åŠ è¿›æ¥ï¼‰git commit -m \"æäº¤ä¿¡æ¯\" ï¼ˆæ³¨ï¼šâ€œæäº¤ä¿¡æ¯â€é‡Œé¢æ¢æˆä½ éœ€è¦ï¼Œå¦‚â€œfirst commitâ€ï¼‰git push -u origin master ï¼ˆæ³¨ï¼šæ­¤æ“ä½œç›®çš„æ˜¯æŠŠæœ¬åœ°ä»“åº“pushåˆ°githubä¸Šé¢ï¼Œæ­¤æ­¥éª¤éœ€è¦ä½ è¾“å…¥å¸å·å’Œå¯†ç ï¼‰","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"}]},{"title":"å­¦ä¼šPull request","slug":"å­¦ä¼šPull-request","date":"2019-03-28T11:18:14.000Z","updated":"2019-09-15T08:07:31.046Z","comments":true,"path":"2019/03/28/å­¦ä¼šPull-request/","link":"","permalink":"https://nymrli.top/2019/03/28/å­¦ä¼šPull-request/","excerpt":"","text":"GitHubä¸­å‘èµ·PR(pull Request) PRæ˜¯ä¸ºäº†è´¡çŒ®ä»£ç : â€‹ è´¡çŒ®ä»£ç ï¼Œé€šä¿—çš„è¯´ï¼Œå°±æ˜¯è‡ªå·±ä¿®æ”¹äº†ä»£ç ï¼Œå¸Œæœ›åˆå¹¶åˆ°åˆ«äººçš„Repository(ä»“åº“)ä¸­ã€‚å°†è‡ªå·±çš„æ™ºæ…§è´¡çŒ®ç»™å¼€æºç¤¾åŒºã€‚ ä¸€.è´¡çŒ®ä»£ç : 1.ç¬¬ä¸€æ­¥:Fork åœ¨GitHubç¤¾åŒºé—²é€›æ—¶ï¼Œçœ‹ä¸­äº†æŸä¸ªé¡¹ç›®ä»£ç ï¼Œå¦‚ï¼šspring-projects/spring-frameworkï¼Œç‚¹å‡»é¡µé¢ForkæŒ‰é’®ï¼Œä¼šç”Ÿæˆä¸€ä¸ªè‡ªå·±çš„Repository(ä»“åº“ï¼šthinkingfioa/spring-framework),å¦‚ä¸‹å›¾ï¼š 2.ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ ForkæˆåŠŸåï¼Œé€šè¿‡git cloneã€ä¿®æ”¹ã€commitã€pushç­‰æ“ä½œåï¼Œå°†ä¿®æ”¹çš„å†…å®¹ï¼Œæäº¤åˆ°è‡ªå·±ä»“åº“(thinkingfioa/spring-framework)ä¸­ã€‚å¦‚æœå¯¹git cloneã€commitå’Œpushä¸çŸ¥é“çš„ï¼Œè‡ªè¡Œç™¾åº¦ã€‚å¦‚ä¸‹å›¾: 3 ç¬¬ä¸‰æ­¥ï¼šè¯·æ±‚åˆå¹¶ä»£ç (Pull Request) åœ¨2æ­¥éª¤æ—¶ï¼Œæˆ‘ä»¬ä¿®æ”¹äº†è‡ªå·±çš„ä»“åº“(thinkingfioa/spring-framework)ä»£ç ã€‚æˆ‘ä»¬å¸Œæœ›è´¡çŒ®è‡ªå·±çš„ä¸€ä»½åŠ›é‡ï¼Œå°†ä¿®æ”¹çš„Commitä¹Ÿæäº¤åˆ°åˆ«äººçš„ä»“åº“(spring-projects/spring-framework)ä¸­ã€‚åˆ™è¦è¿›è¡ŒPull Requestã€‚ 3.1 åˆ›å»ºPR 3.2 Create pull request è¯·ç‰¹åˆ«æ³¨æ„ä¸‹å›¾ä¸­æ ‡çº¢çš„éƒ¨åˆ†ï¼Œä¸èƒ½æåäº†ã€‚ç‚¹å‡»: Create pull request ç»¿è‰²æŒ‰é’®ï¼Œå®Œæˆæäº¤PRã€‚ 3.3 ç­‰å¾… æäº¤PRå®Œæˆåï¼Œç­‰å¾…å¯¹æ–¹ä»“åº“(spring-projects/spring-framework)çš„ç®¡ç†å‘˜å®¡æ ¸ï¼Œå¦‚æœä»–åŒæ„ï¼Œåˆ™è´¡çŒ®ä»£ç å®Œæˆäº†ã€‚ äºŒ.åŒæ­¥æœ€æ–°ä»£ç  PRé™¤äº†è´¡çŒ®ä»£ç å¤–ï¼Œè¿˜å¯ä»¥åŒæ­¥å¯¹æ–¹æœ€æ–°ä»£ç ã€‚é€šä¿—çš„è¯´ï¼ŒforkæŸä¸ªä»“åº“(å¦‚: spring-projects/spring-framework)ä»£ç ä¸€æ®µæ—¶é—´åï¼Œä¸ºäº†åŒæ­¥è‡ªå·±ä»“åº“(thinkingfioa/spring-framework)å’Œå¯¹æ–¹ä»“åº“(spring-projects/spring-framework)ä»£ç ï¼Œä¿è¯è‡ªå·±ä»“åº“ä»£ç æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚ 2.1.1 Create pull request è¿™ä¸€æ­¥å’Œä¸Šé¢3.2ä¸€æ ·çš„ï¼Œåªæ˜¯è¦æ³¨æ„ç®­å¤´ï¼Œå“ªä¸ªä»“åº“åˆå¹¶å“ªä¸ªä»“åº“ã€‚è¯·è‡ªä¹ æ³¨æ„ä¸‹å›¾æ ‡çº¢éƒ¨åˆ† 2.1.2 ç‚¹å‡»ç»¿è‰²æŒ‰é’®ï¼Œå®Œæˆä»£ç åŒæ­¥ æ‘˜è‡ª:https://blog.csdn.net/thinking_fioa/article/details/79516352?tdsourcetag=s_pctim_aiomsg GitHubä¹‹æ¥æ”¶ã€å¤„ç†Pull Request 1.åˆ›å»ºä¸€ä¸ªä»“åº“æ¥æ¼”ç¤ºä¸‹ã€‚ å‡è®¾åˆ›å»ºä»“åº“çš„äººç§°ä¸º:â€œè€å¤§â€ 2.æˆå‘˜Forkåä¿®æ”¹ æˆå‘˜x695 åœ¨è‡ªå·±çš„ç½‘é¡µä¸Šforkè¿™ä¸ªä»“åº“ï¼Œç„¶ågit cloneåˆ°æœ¬åœ°ï¼Œç„¶ååˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼ŒåŸºäºç‰¹æ€§åˆ†æ”¯ä¿®æ”¹å®Œæˆæäº¤ï¼Œpushåˆ°origin è¿œç¨‹ä»“åº“git push origin (master(æœ¬åœ°):master(è¿œç¨‹) ) 3.æˆå‘˜å‘PRåˆ°è€å¤§ 4.è€å¤§ç™»é™†è‡ªå·±çš„è´¦å·ï¼Œåˆ°PRé¡µç­¾ 5.è€å¤§åœ¨æœ¬åœ°çš„æ£€æŸ¥ ä¸ºäº†é˜²æ­¢è¿™ä¸ªæˆå‘˜ä¹±æ”¹ï¼Œå¦‚æœä¸æ£€æŸ¥å¯ä»¥ç›´æ¥è¿›è¡Œæ­¥éª¤6è€å¤§è¿˜è¦æ£€æŸ¥ä¸‹å‡å¦‚è¿˜è¦ç”¨äºæ¼”ç¤ºçš„è¯ï¼Œè€å¤§å°±è¦æŠŠä»£ç æ‹‰åˆ°æœ¬åœ°äº†ï¼Œçœ‹çœ‹ä¿®æ”¹åæœ‰å•¥åŒºåˆ« git clone è‡ªå·±åˆ›å»ºçš„é¡¹ç›® git remote add stream é¡¹ç›®æˆå‘˜çš„ä»“åº“/è·å–é¡¹ç›®æˆå‘˜ä»“åº“è®¾ç½®ä¸ºæœ¬åœ°ä»“åº“çš„è¿œç¨‹ä»“åº“ git fetch è·å–é¡¹ç›®æˆå‘˜çš„ä»“åº“æ•°æ® å°†æˆå‘˜çš„ä»“åº“å’Œåˆ†æ”¯æ•°æ®å…¨éƒ¨æ‹‰åˆ°è‡ªå·±æœ¬åœ°åï¼Œåˆ›å»ºä¸€ä¸ªç”¨æˆ·æ£€æŸ¥çš„åˆ†æ”¯ pr1ï¼Œå¹¶è¿›å…¥è¿™ä¸ªåˆ†æ”¯ å°†é¡¹ç›®æˆå‘˜çš„number1 åˆ†æ”¯å’Œè‡ªå·±çš„åˆ†æ”¯pr1è¿›è¡Œåˆå¹¶ git merge stream/number1 è¿™æ ·ä¸€æ¥åˆ†æ”¯pr1å°±å’Œé¡¹ç›®æˆå‘˜çš„åˆ†æ”¯number1ä¸€æ ·äº†ï¼Œæ£€æŸ¥å®Œæ¯•ï¼Œè¿›è¡Œåˆ é™¤ git branch -D pr1 6.è€å¤§åˆå¹¶æˆ–è¯„è®ºPR ç‚¹å‡» add number1 å¯ä»¥å›å¤è¯„è®ºï¼Œç„¶åä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡» merge pull request é€šè¿‡ è€å¤§å¦‚æœä¸æ„¿æ„ç™»é™†ç½‘é¡µï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œå¦‚ä¸‹æ“ä½œ åœ¨æ­¥éª¤5ä¸­å·²ç»å®Œæˆäº†ï¼Œå‰2æ­¥çš„å‰æä¸‹è¿›è¡Œä¸‹ä¸€æ­¥ git checkout master,åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ git merge stream/number1 å°†æˆå‘˜çš„åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯ pushå‰è¿›è¡Œæ£€æŸ¥ï¼Œgit diff oragin/master çœ‹çœ‹æœ¬åœ°åˆå¹¶åçš„ä»“åº“å’Œè¿œç«¯çš„æœ‰å•¥åŒºåˆ« å¦‚æœç¡®è®¤æ— è¯¯ç›´æ¥è¿›è¡Œgit push å°±å¯ä»¥äº† å®Œæˆä¸Šé¢çš„5æ­¥ä¹‹åï¼Œä»“åº“çš„Pull Request ä¼šè‡ªåŠ¨æˆOpençŠ¶æ€å˜æˆClose çŠ¶æ€ã€‚ æ‘˜è‡ª:https://blog.csdn.net/x6_9x/article/details/50902777 Githubå®˜æ–¹æ–‡æ¡£ About pull requests Merging a pull request Closing a pull request Checking out pull requests locally","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"}]},{"title":"è“æ¡¥æ¯çªå‡»è®­ç»ƒ","slug":"è“æ¡¥æ¯çªå‡»è®­ç»ƒ","date":"2019-03-28T02:35:12.000Z","updated":"2020-09-17T02:09:36.481Z","comments":true,"path":"2019/03/28/è“æ¡¥æ¯çªå‡»è®­ç»ƒ/","link":"","permalink":"https://nymrli.top/2019/03/28/è“æ¡¥æ¯çªå‡»è®­ç»ƒ/","excerpt":"","text":"ACM 3-20ç¬”è®° 3éƒ¨æ’åº å·¦æŒ‡é’ˆï¼Œå³æŒ‡é’ˆï¼Œ æ¢è·¯æŒ‡é’ˆâ€“&gt;é“¾è¡¨çš„pq é©¬è™çš„ç®—å¼ æšä¸¾ï¼ˆäº”é‡å¾ªç¯ï¼Œæ³¨æ„æ¡ä»¶ï¼‰ å†…å­˜1000mså¤§çº¦è¿è¡Œ10^8çš„æŒ‡ä»¤ å¤§æ•°é™¤æ³• å‡æ³• é™¤æ³• 39çº§é˜¶æ¢¯ æ–æ³¢é‚£å¥‘ ç®€åŒ–æ¨¡å‹åå†åŠ ä¸Šè€ƒè™‘æ¡ä»¶ é”™è¯¯ç¥¨æ® è·å¾—ä¸€è¡Œå†…å®¹ï¼šgetline()å‰è¦ç”¨getchar()åƒæ‰æ¢è¡Œç¬¦ åˆ†å‰²ä¸€è¡Œä»¥ç©ºæ ¼åˆ†éš”çš„å…ƒç´  12345string s;getline(cin,s);stringstream ss(s);string tmp;while( getline(ss,tmp,\" \") ) â–²ç¿»ç¡¬å¸ ACM 3-21ç¬”è®° ï¼ˆ2014å¹´ï¼‰ å¥‡æ€ªçš„åˆ†å¼ gcdè¾—è½¬ç›¸é™¤æ³• æšä¸¾ èš‚èšæ„Ÿå†’ æ—¥æœ¬ç™½ä¹¦çš„èš‚èšæ¨¡å‹ï¼šç©¿è¿‡èº«ä½“ â–²åœ°å®«å–å® æ·±æœ é€’å½’ å–æ¨¡ é¢å¯¹&amp;41004^{100}4100ä¼˜åŒ–æ€è€ƒæ–¹å‘ï¼š è´ªå¿ƒ ï¼š çŸ¥é“æœ‰ä¸€æ¡æœ€å¥½çš„è·¯ â€”X---&gt; è¿™é¢˜è¦æ±‚æ¯ç§æƒ…å†µéƒ½éå† é‡å¤å­é—®é¢˜ ï¼š è®°å¿†åŒ–æœç´¢ dfs(int x, int y , int max,int cnt)ï¼Œè™½ç„¶x,yéƒ½æ˜¯ä¸åŒçš„ï¼Œä½†max,cntå¯èƒ½ä¼šæœ‰ç›¸åŒçš„å€¼ï¼Œè¿™äº›æƒ…å†µæ˜¯é‡å¤çš„ åŠ¨æ€è§„åˆ’ ï¼ˆé€’æ¨æ–¹å¼ï¼‰ï¼š ACM 3-22ç¬”è®° (2015) T5-å…¨æ’åˆ— DFSæ¡†æ¶ é€’å½’ å›æº¯ T7-ç‰Œå‹ç§æ•° æ’åˆ—ç»„åˆ ä¸€èˆ¬éƒ½æ˜¯ç”¨é€’å½’è§£å†³ å›æº¯ï¼ˆæ¢å¤åˆå§‹çŠ¶æ€ï¼‰ï¼šè¢‹å­ç†è®º --&gt; æ¯æ¬¡éƒ½å¾—æŠŠè‡ªå·±çš„è¢‹å­æ¸…ç©ºå†è¿”å› ä¸¤ç§æ€è·¯ï¼š 13æ¬¡é€‰ç‰Œ(O(1313)O(13^{13})O(1313)) æ¯å¼ ç‰Œé€‰å‡ æ¬¡ï¼ˆæ›´ç®€å•O(513)O(5^{13})O(513)) T9-å’éª°å­ é€’å½’ åˆ†æ²»æ³• é€æ­¥ç”Ÿæˆ ACM 3-23 (2016) å‡‘æ•°å­— å¤šä¸ªä¸åŒçš„æ•°å­—----&gt;å…¨æ’åˆ—é—®é¢˜ é™„å½•ï¼šé€šç”¨çš„ä»£ç å·¥å…· void i2s(string &amp;s, int &amp;num) 12345void i2s(string &amp;s, int &amp;num)&#123; stringstream ss; ss &lt;&lt; num; ss &gt; s;&#125; stringå»å‰ç½®0 123void removePre0(string &amp;s)&#123; s = s.substr(s.find_first_not_of(\"0\"))&#125; stringå›æº¯å»æœ€åä¸€ä¸ªå…ƒç´  123path += pai[i];f(k-1,path);path.erase(path.end()-1) æ±‚æœ€å¤§å…¬å› æ•°(è¾—è½¬ç›¸é™¤æ³•)ï¼š 123456int gcd(int a,int b)&#123; if( a%b == 0) return b; //æç«¯æƒ…å†µæœ€å¤§çš„å…¬çº¦æ•°ä¸ºä¸¤ä¸ªä¸­æœ€å°çš„ä¸€ä¸ª return gcd(b,a%b); // è¢«é™¤æ•°ä¸ºå…¶ä¸­å°çš„é‚£ä¸ª&#125; æ¼«ç”»å›¾è§£ å…¨æ’åˆ— next_premutation 12345678910111213141516171819#include &lt;stdio.h&gt;#include &lt;algorithm&gt;using namespace std;int main()&#123; int n; while(scanf(\"%d\",&amp;n)&amp;&amp;n)&#123; int a[1000]; for(int i=0;i&lt;n;i++)&#123; scanf(\"%d\",&amp;a[i]); &#125; sort(a,a+n);//å¯ä»¥è‡ªè¡Œæµ‹è¯•ä¸€ä¸‹åˆ é™¤åçš„ç»“æœ do&#123; for(int i=0;i&lt;n;i++) printf(\"%d \",a[i]); printf(\"\\n\"); &#125;while(next_permutation(a,a+n)); &#125; return 0;&#125; å¦‚æœæœ‰sort()ï¼Œè¾“å‡ºä¸º 0 1 2 0 2 1 1 0 2 1 2 0 2 0 1 2 1 0 è‹¥æ— ï¼Œåˆ™è¾“å‡ºä¸º 1 0 2 1 2 0 2 0 1 2 1 0 å¯ä»¥å‘ç°å°‘äº†è®¸å¤šç§ç»„åˆæ–¹æ³•ã€‚ ä¸è¿‡ï¼Œä»”ç»†æ¯”è¾ƒå„ç§ç»„åˆæ–¹æ³•å’Œæœ‰æ— sort()çš„è¾“å‡ºï¼Œå¯ä»¥å‘ç°å‡½æ•°next_permutation()æ˜¯æŒ‰ç…§å­—å…¸åºäº§ç”Ÿæ’åˆ—çš„ï¼Œå¹¶ä¸”æ˜¯ä»æ•°ç»„ä¸­å½“å‰çš„å­—å…¸åºå¼€å§‹ä¾æ¬¡å¢å¤§ç›´è‡³åˆ°æœ€å¤§å­—å…¸åºã€‚ â–³.sort()é»˜è®¤æ’åºä»å°åˆ°å¤§ DFS+å›æº¯æ³• 123456789101112131415161718192021222324252627282930#include &lt;sstream&gt;#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 100+5;#define NUM 5int arr[] = &#123;1,2,3,4,5&#125;;void f(int k)&#123; if( k == NUM)&#123; for(int i = 0 ; i&lt; NUM; i++) cout &lt;&lt; arr[i]; cout &lt;&lt;endl; return ; &#125; for(int i=k ; i &lt;NUM ; i++)&#123; &#123; int t = arr[i]; arr[i] = arr[k]; arr[k] = t; &#125; f(k+1); // å›æº¯å¤åŸ &#123; int t = arr[i]; arr[i] = arr[k]; arr[k] = t; &#125; &#125;&#125; C++è¾“å…¥è¾“å‡ºæµè®¾ç½® 1234567#include &lt;bits/stdc++.h&gt; //ä¸‡èƒ½å¤´æ–‡ä»¶using namespace std; //å‘½åç©ºé—´int main() &#123; ios::sync_with_stdio(false); //å–æ¶ˆè¾“å…¥è¾“å‡ºæµç­‰å¾…åŒæ­¥ ... if (i != n) cout &lt;&lt; endl; //æ¯ä¸ªè¾“å‡ºæ ·ä¾‹é—´æœ‰æ¢è¡Œ,(å¯ç†è§£æ¯ä¸ªCASEååŠ ä¸ªæ¢è¡Œ,æœ€åä¸€è¡Œæ²¡æœ‰)&#125; Cè¯­è¨€é‡Œçš„è¾“å…¥è¾“å‡ºé—®é¢˜ 1234int d,float f,char str[20],scanf(\"%d%f%s\",d,f,str); scanf: ä½¿ç”¨ scanf è¾“å…¥ 42 scanf()ä¸­ä½¿ç”¨%cè¯´æ˜ç¬¦ï¼Œè¯¥å‡½æ•°å°†åªè¯»å–å­—ç¬¦4 å¹¶å°†å…¶å­˜å‚¨åœ¨ä¸€ä¸ªcharç±»å‹çš„å˜é‡ä¸­ å¦‚æœä½¿ç”¨%sè¯´æ˜ç¬¦ï¼Œè¯¥å‡½æ•°ä¼šè¯»å–ä¸¤ä¸ªå­—ç¬¦ï¼Œå³å­—ç¬¦4å’Œå­—ç¬¦2ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ å¦‚æœä½¿ç”¨%dè¯´æ˜ç¬¦ï¼Œåˆ™scanf è¯»å–åŒæ ·çš„ä¸¤ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯éšåå®ƒä¼šç»§ç»­è®¡ç®—ä¸å®ƒä»¬çš„ç›¸åº”çš„æ•´æ•°å€¼ä¸º4*10+2 å¾—åˆ° 42ï¼›ç„¶åå°†è¯¥æ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¿å­˜åœ¨ä¸€ä¸ªintå˜é‡ä¸­ï¼Œ å¦‚æœä½¿ç”¨%fè¯´æ˜ç¬¦ åˆ™scanfï¼ˆï¼‰è¯»å–è¿™ä¸¤ä¸ªå­—ç¬¦ è®¡ç®—å®ƒä»¬å¯¹åº”çš„æ•°å€¼ 42ï¼Œç„¶åä»¥å†…éƒ¨çš„æµ®ç‚¹è¡¨è¿°è¯¥å€¼ï¼Œå¹¶å°†ç»“æœä¿å­˜åœ¨ä¸€ä¸ªfloatå˜é‡ä¸­ 123456789101112/**0234500067103456050020456006710000000089é€šè¿‡æ§åˆ¶è¯»å…¥çš„ä½æ•°,è¯»å…¥çŸ©é˜µ*/for(c=1;c&lt;=m;c++)&#123; //å¾ªç¯å˜é‡ç¨å¾®æœ‰ç‚¹å¥‡æ€ª for(d=1;d&lt;=n;d++) scanf(\"%1d\",&amp;mapp[c][d]); &#125; getchar(): getchar()åªèƒ½è¾“å…¥å­—ç¬¦å‹,è¾“å…¥æ—¶é‡åˆ°å›è½¦é”®æ‰ä»ç¼“å†²åŒºä¾æ¬¡æå–å­—ç¬¦. è¯´æ˜ï¼šå½“ç¨‹åºè°ƒç”¨getchar()å‡½æ•°æ—¶ï¼Œç¨‹åºå°±ç­‰ç€ç”¨æˆ·æŒ‰é”®ï¼Œç”¨æˆ·è¾“å…¥çš„å­—ç¬¦è¢«å­˜æ”¾åœ¨é”®ç›˜ç¼“å†²åŒºä¸­ï¼Œç›´åˆ°ç”¨æˆ·æŒ‰å›è½¦ä¸ºæ­¢ï¼ˆå›è½¦å­—ç¬¦ä¹Ÿæ”¾åœ¨ç¼“å†²åŒºä¸­ï¼‰ã€‚å½“ç”¨æˆ·é”®å…¥å›è½¦ä¹‹åï¼Œgetchar()å‡½æ•°æ‰å¼€å§‹ä»é”®ç›˜ç¼“å†²åŒºä¸­æ¯æ¬¡è¯»å…¥ä¸€ä¸ªå­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåç»­çš„getchar()å‡½æ•°è°ƒç”¨ä¸ä¼šç­‰å¾…ç”¨æˆ·æŒ‰é”®ï¼Œè€Œç›´æ¥è¯»å–ç¼“å†²åŒºä¸­çš„å­—ç¬¦ï¼Œç›´åˆ°ç¼“å†²åŒºä¸­çš„å­—ç¬¦è¯»å®Œåï¼Œæ‰é‡æ–°ç­‰å¾…ç”¨æˆ·æŒ‰é”®ã€‚ åˆ†å‰²è¾“å…¥ 123456789101112131415161718192021222324252627282930313233/* è¿·å®«é¢˜ç›®010010001000000101110000*/for(int i=1 ; i &lt;= row ; i++)&#123; for(int j= 1; j &lt;= col ; j++) scanf(\"%c\",&amp;maze[i][j]); getchar();&#125;// ---é”™è¯¯ç¥¨æ®--int n ;cin &gt;&gt; n ;getchar();vector&lt;int&gt; v;while(n--)&#123; string s; getline(cin,s); stringstream ss(s); string tmp; while( getline(ss,tmp,' ') )&#123; v.push_back( s2i(tmp) ); &#125;&#125;// ****C++è¾“å…¥æµä¸åŒæ­¥è®¾ç½®****int main()&#123; ios::sync_with_stdio(false); ...&#125; å¾ªç¯ç§»ä½è¿ç®— 12345678910111213141516171819202122232425262728/*** é€’æ¨å¾—åˆ°å¹‚è¿ç®—* @param baseåŸºåº•ï¼Œnå¹‚æ¬¡*/int selfpow(int base,int n)&#123; int res = 1; while( n-- )&#123; res *= base; &#125; return res;&#125;/*** è‡ªå·±å®ç°xä½äºŒè¿›åˆ¶å¾ªç¯å·¦ç§»* e.g. 8=1000 ï¼Œ å·¦ç§»=&gt; 0001* @param nä¸ºlenä½ä¸­åªæœ‰ä¸€ä½ä¸º1çš„åè¿›åˆ¶æ•°*/int ROL(int n,int len,int dir = 1)&#123; if ( dir == 1) &#123; n &lt;&lt;= 1; if ( n % selfpow(2,len) == 0 ) n = 1; &#125;else&#123; n &gt;&gt;= 1; if( n == 0 ) n = selfpow(2,len-1); &#125; return n;&#125; å®å®šä¹‰å¾ªç¯ 123456789101112#define rep(i,n) for (int i = 0; i &lt; (n); ++i)#define Forneq(i,s,n) for (int i = (s); i &lt; (n); ++i)#define Foreq(i,s,n) for (int i = (s); i &lt;= (n); ++i)int main()&#123; rep(i,3)&#123; cout &lt;&lt; 1 &lt;&lt; endl; &#125; For(i,1,2)&#123; cout &lt;&lt; 2 &lt;&lt; endl; &#125; return 0;&#125;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"}]},{"title":"C++æœºå™¨å­¦ä¹ åº“MLPack","slug":"C++æœºå™¨å­¦ä¹ åº“MLPack","date":"2019-03-25T09:44:11.000Z","updated":"2019-09-15T08:07:30.922Z","comments":true,"path":"2019/03/25/C++æœºå™¨å­¦ä¹ åº“MLPack/","link":"","permalink":"https://nymrli.top/2019/03/25/C++æœºå™¨å­¦ä¹ åº“MLPack/","excerpt":"","text":"C++æœºå™¨å­¦ä¹ åº“MLPack mlpack: a scalable C++ machine learning library ç”±äºåœ¨ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹å‘ç°å®‰è£…è¿™ä¸ªåº“ç¢°åˆ°äº†ä¸å°‘é—®é¢˜ï¼Œæ‰€ä»¥è¿˜æ˜¯è®°å½•ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ã€‚ å®‰è£… åˆ—å‡ºä¸¤ç§å®‰è£…æ•™ç¨‹å§ï¼Œç¬¬ä¸€ç§å®æµ‹å¯ä»¥ã€‚ç¬¬äºŒç§åœ¨æµ‹è¯•Armadilloçš„æ—¶å€™æ²¡é€šè¿‡ï¼Œè¿˜æ˜¯ç¼ºåº“ï¼Œæœ‰å…´è¶£çš„äººå¯ä»¥é€šè¿‡ç»™çš„Armadilloå®˜ç½‘é“¾æ¥ä¸‹è½½å®‰è£…Armadilloå†è¯•è¯• å®‰è£…æ–¹æ³•ä¸€ï¼š Mlpack å®˜ç½‘ æä¾›äº†ä¸‹è½½çš„æ–¹æ³• ï¼š sudo apt-get install libmlpack-dev ï¼Œ ä½†è²Œä¼¼æœ‰åšå®¢æŒ‡å‡ºç›®å‰å›½å†…æºé‡Œæ˜¯æ²¡æœ‰è¿™ä¸ªé•œåƒçš„ï¼Œæ‰€ä»¥é‡‡å–çš„åŠæ³•æ˜¯ç›´æ¥ä»è§‚æœ›ä¸Šä¸‹è½½mlpack-3.0.0.tar.gzï¼ˆæ²¡æ•¢ä½¿ç”¨æœ€æ–°çš„ï¼Œæ€•å‡ºé”™ï¼‰ æ¥ç¼–è¯‘å®‰è£… 12345678$ tar -xvf mlpack-3.0.0.tar.gz $ cd mlpack-1.0.12 $ mkdir build $ sudo apt-get install libboost-math-dev libboost-program-options-dev libboost-random-dev libboost-test-dev libxml2-dev libarmadillo-dev $ cd build $ cmake ..$ make -j4$ sudo make install æ³¨æ„æ ¹æ®æŠ¥é”™ä¿¡æ¯ï¼šMaybe need administrative privileges.ï¼Œæ‰€ä»¥ make install å‰é¢è¦åŠ ä¸Šsudoæƒé™ 1234567[ 51%] Built target mlpack_sparse_coding[100%] Built target mlpack_testInstall the project...-- Install configuration: \"\"CMake Error at cmake_install.cmake:36 (file): file cannot create directory: /usr/local/lib/pkgconfig. Maybe need administrative privileges. ç„¶åå°±æ˜¯å¯é€‰çš„ç¼–è¯‘æ¡ä»¶ï¼Œå°±æ˜¯ä½ åªæƒ³å®‰è£…å…¶ä¸­ä¸€äº›åŒ…ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼š $ make pca allknn allkfn ,åªå®‰è£…pca allknn allkfnè¿™å‡ ä¸ªç®—æ³•åŒ…ã€‚ æ‘˜è‡ªï¼šhttp://www.linuxdiyf.com/linux/27052.html å®‰è£…æ–¹å¼äºŒï¼šï¼ˆä¸æ¨èï¼‰ å®‰è£…ä¾èµ–åº“ 1234Armadillo &gt;= 6.500.0Boost (program_options, math_c99, unit_test_framework, serialization, spirit)CMake &gt;= 2.8.5 Aramdillo å®‰è£… ï¼ˆUbuntuä¸ºä¾‹å­ï¼‰ é¦–å…ˆå®‰è£…Armadilloä¾èµ–çš„åº“ï¼šlapack, blas, boost 123$ sudo apt-get install liblapack-dev$ sudo apt-get install libblas-dev$ sudo apt-get install libboost-dev æ¥ä¸‹æ¥ å®‰è£…Armadilloï¼šsudo apt-get libarmadillo-dev ä¹‹åï¼Œå®‰è£…å®Œæˆï¼Œæµ‹è¯•æ˜¯å¦å®Œæˆï¼ä»¥ä¸Šæ­¥éª¤ï¼Œéƒ½æ˜¯åº”è¯¥å¯ä»¥ç›´æ¥å®Œæˆçš„ï¼Œéœ€è¦Cmakeå’Œg++æå‰å®‰è£…ã€‚ g++ test.cpp -o test -larmadillo 1234567891011#include &lt;iostream&gt;#include &lt;armadillo&gt;using namespace std;using namespace arma;//test.cppint main(int argc,char** argv) &#123; mat A=randu&lt;mat&gt;(4,5); mat B=randu&lt;mat&gt;(4,5); cout&lt;&lt;A*trans(B)&lt;&lt;endl; return 0;&#125; ç½‘ä¸Šè¿˜æœ‰è¯´Armadilloä¹Ÿæ— æ³•æ‰¾ä¸åˆ°é•œåƒï¼Œ äºæ˜¯è¿˜æ˜¯åˆ°å®˜ç½‘ä¸‹è½½ä¸‹æ¥ç¼–è¯‘å®‰è£…ï¼Œ[Armadillo C++ matrix library]( Booståº“çš„å®‰è£… apt-get install libboost-math-dev libboost-program-options-dev libboost-random-dev libboost-test-dev libxml2-dev mlpackå®‰è£… ä¹Ÿæ˜¯å»å®˜ç½‘ä¸‹è½½ç¼–è¯‘å®‰è£… 12345678910$ tar -xzf mlpack-2.0.1.tar.gz # tarè§£å‹$ cd mlpack-2.0.1 # è¿›å…¥è§£å‹åçš„ç›®å½•$ unzip mlpack-2.0.1.zip # zipè§£å‹$ cd mlpack-2.0.1 # è¿›å…¥è§£å‹åçš„ç›®å½•# ä¹‹åï¼Œå»ºç«‹buildç›®å½•ï¼Œcmakeï¼Œmakeå³å¯$ mkdir build$ cd build$ cmake ../$ make $ sudo make install ä½¿ç”¨mlpack æºæ–‡ä»¶ä¸­æœ‰å„ç§ç®—æ³•çš„ä¾‹å­ï¼Œå¯ä»¥å­¦ä¹ å…¶ä½¿ç”¨æ–¹æ³•ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œåœ¨ç¼–è¯‘å’Œé“¾æ¥æ—¶ï¼Œéƒ½è¦åŠ ä¸Š-lmlpack -larmadilloï¼Œæ¥åŒ…å«æ‰€éœ€åº“ã€‚ å¦‚ç¼–å†™ä¸‹åˆ—ä»£ç : 123456#include &lt;mlpack/core.hpp&gt;using namespace std;int main()&#123; cout &lt;&lt; mlpack::util::GetVersion() &lt;&lt; endl; return 0;&#125; â–².æ³¨æ„.ç¼–è¯‘çš„å‘½ä»¤ä¸ºg++ -std=c++11 testmlpack.cpp -o testlars -l mlpack -l armadilloï¼Œå…¶ä¸­è¦åŠ ä¸Š**-std=c++11**ï¼Œä¸ç„¶æ— æ³•ç¼–è¯‘é€šè¿‡ã€‚ [Armadillo C++ ML library]http://arma.sourceforge.net/download.html) å¦‚æœArmadilloå‡ºé”™ï¼Œå¯ä»¥å»å®˜ç½‘[Armadillo C++ ML library]http://arma.sourceforge.net/download.html)ä¸‹è½½ç¼–è¯‘å®‰è£…","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"}]},{"title":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬å…­æ¬¡ä½œä¸š","slug":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬å…­æ¬¡ä½œä¸š","date":"2019-03-17T05:29:36.000Z","updated":"2019-09-15T08:07:31.038Z","comments":true,"path":"2019/03/17/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬å…­æ¬¡ä½œä¸š/","link":"","permalink":"https://nymrli.top/2019/03/17/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬å…­æ¬¡ä½œä¸š/","excerpt":"","text":"æ€»åˆ†ï¼š100 é€‰æ‹©é¢˜å¾—åˆ†ï¼š40 1.ä¸‹åˆ—æ–¹æ³•å®šä¹‰ä¸­ï¼Œæ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ A.double meï¼ˆint aï¼Œint bï¼‰{int r; r = ab} B.double meï¼ˆaï¼Œbï¼‰{return b;} C.int meï¼ˆint aï¼Œint bï¼‰{returnï¼ˆa-bï¼‰;} D.int meï¼ˆintaï¼Œbï¼‰{returnï¼ˆa-bï¼‰;} æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šC 2.ä¸‹åˆ—æ–¹æ³•å®šä¹‰ä¸­ï¼Œä¸æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ A.float xï¼ˆint aï¼Œint bï¼‰{returnï¼ˆabï¼‰;} B.int xï¼ˆint aï¼Œint bï¼‰{return ab;} C.int xï¼ˆint aï¼Œint bï¼‰{return a * b;} D.int xï¼ˆint aï¼Œint bï¼‰{return 1.2 *ï¼ˆa + bï¼‰;} æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šD 3.ä¸‹é¢å“ªä¸ªæ•°æ®ç±»å‹å ç”¨çš„å†…å­˜æœ€å¤§ï¼Ÿï¼ˆï¼‰ A.int B.float C.double D.byte æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šC 4.ä¸‹é¢å“ªä¸ªä¸å±äºJavaçš„å…³é”®å­—ï¼Ÿï¼ˆï¼‰ A.static B.final C.super D.sub æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šD 5.ä¸‹é¢çš„æ ‡è¯†ç¬¦ä¸­å“ªä¸ªæ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦ï¼Ÿï¼ˆï¼‰ A.â€“a B.Test C.class D.ï¼ƒABC æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šB 6.ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåï¼Œcçš„å€¼æ˜¯ï¼ˆï¼‰int a = 3ï¼Œb = 4ï¼Œc = 0; ï¼ˆï¼ˆa ï¼‰&lt;ï¼ˆ - bï¼‰ï¼‰ c; A.0 B.1 C.2 D.3 æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šA 7.ä¸‹é¢å…³äºæ•°ç»„å®šä¹‰è¯­å¥ä¸æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ A.float f [] = new {2.4fï¼Œ3.5fï¼Œ5.7fï¼Œ7.9f}; B.int a [] = {1,2,3,4,5} C.double [] d = new double [10]; D.int [] a2; æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šA 8.ä¸‹é¢ï¼ˆï¼‰æ˜¯Javaæ•°æ®ç±»å‹ä¸­çš„intç±»å‹çš„å–å€¼èŒƒå›´ã€‚ A.$-2^ 7 $ã€œ27âˆ’12^ 7 -127âˆ’1 B.0 ã€œ 216âˆ’12 ^ {16} -1216âˆ’1 C.$-2 ^ {15} $^ ã€œ 215âˆ’12 ^{ 15} -1215âˆ’1 D.âˆ’231â€‹-2 ^ {31}â€‹âˆ’231â€‹ ã€œ231âˆ’1â€‹2 ^ {31} -1â€‹231âˆ’1â€‹ æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šD 9.åœ¨Javaè¯­è¨€ä¸­ï¼Œä¸‹é¢ï¼ˆï¼‰ç±»å‹å¯ä»¥è¡¨ç¤ºæ•´æ•°åŸºæœ¬æ•°æ®ç±»å‹ã€‚ A.single B.byte C.double D.char æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šB 10.å‡è®¾int a = -3; åˆ™è¡¨è¾¾å¼a&gt; 0ï¼Ÿaï¼š-açš„ç»“æœæ˜¯ï¼ˆï¼‰ A.true B.false C.-3 D.3 æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼šD ç¼–ç¨‹é¢˜å¾—åˆ†ï¼š60 è¾“å‡ºæ‰€æœ‰çš„3ä½æ•°å­—çš„è´¨æ•°å¾—åˆ†ï¼š10/10 12345678910111213141516171819202122232425262728293031323334353637383940import java.io.IOException;import java.util.Scanner;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123; public static void main(String []args) throws IOException&#123; int size = 1000; int prime[] = new int[1000]; int pos=0; boolean flag; for (int i = 100; i &lt; size; i++) &#123; flag = false; for(int j=2; j &lt;= Math.sqrt(i) ; j++) &#123; if (i%j == 0)&#123; flag = true; break; &#125; &#125; if ( !flag ) prime[pos++] = i; &#125; int pf=0; for (int i = 0; i &lt; prime.length; i++) &#123; if (prime[i] != 0) &#123; System.out.printf(\"%6d\",prime[i]); pf ++; if (pf == 5) &#123; pf = 0; System.out.println(); &#125; &#125; &#125; &#125;&#125; æ•°åˆ—æ±‚å’Œå¾—åˆ†ï¼š10/10 12345678910111213141516171819202122232425262728293031323334353637import java.io.IOException;import java.util.Scanner;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123; public static void main(String []args) throws IOException&#123; Scanner s = new Scanner(System.in); double x = s.nextDouble(); int cnt = 1; double sum = 0; double single ; do &#123; single = Math.pow(x, cnt)/fac(cnt); sum += Math.pow(-1, (cnt+1) % 2)*single; cnt ++; &#125; while ( Math.abs(single) &gt; 1e-4 ); System.out.printf(\"%.2f\\n\",sum); &#125; /** * @Target: é€’å½’æ±‚é˜¶ä¹˜ * @param a * @return a! */ public static int fac (int a) &#123; if (a == 0 || a == 1) return 1; return a*fac(a-1); &#125; &#125; æœ€å¤§å…¬çº¦æ•°å¾—åˆ†ï¼š10/10 12345678910111213141516171819202122import java.io.IOException;import java.util.Scanner;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123; public static void main(String []args) throws IOException&#123; Scanner s = new Scanner(System.in); int a = s.nextInt(); int b = s.nextInt(); System.out.printf(\"%d\",gcd(a,b)); &#125; public static int gcd(int a,int b) &#123; if ( b==0 ) return a; return gcd(b,a%b); &#125;&#125; è¾“å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‰10å¾—åˆ†ï¼š10/10 1234567891011121314151617181920212223import java.io.IOException;import java.util.Scanner;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123; public static void main(String []args) throws IOException&#123; int arr[] = new int[20]; int len = 10; arr[0] = 1; arr[1] = 1; for (int i = 2; i &lt;len; i++) arr[i] = arr[i-2] + arr[i-1]; for (int i = 0; i &lt;len; i++) &#123; System.out.printf(\"%d\",arr[i]); if( i != len - 1) System.out.print(\" \"); else System.out.println(); &#125; &#125; &#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬äº”æ¬¡ä½œä¸š","slug":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬äº”æ¬¡ä½œä¸š","date":"2019-03-17T03:44:36.000Z","updated":"2019-09-15T08:07:31.036Z","comments":true,"path":"2019/03/17/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬äº”æ¬¡ä½œä¸š/","link":"","permalink":"https://nymrli.top/2019/03/17/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬äº”æ¬¡ä½œä¸š/","excerpt":"","text":"æ€»åˆ†ï¼š100 é€‰æ‹©é¢˜å¾—åˆ†ï¼š50 ä»¥ä¸‹å“ªä¸€ä¸ªå·¥å…·æ˜¯Javaçš„ç¼–è¯‘å™¨ï¼Ÿ( ) A.javac.exe B.java.exe C.javap.exe D.javadoc.exe æ­£ç¡®ç­”æ¡ˆæ˜¯: A ä»¥ä¸‹å“ªä¸€ä¸ªæ•°æ®ç±»å‹ä¸å±äºJavaçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Ÿ( ) A.boolean B.char C.int D.String æ­£ç¡®ç­”æ¡ˆæ˜¯: D å‡è®¾æœ‰å¦‚ä¸‹ç±»çš„å®šä¹‰ï¼š public class test{ public static void main(String[] args){ int a= 3, b = 4; swap(a,b); System.out.println(â€œa=â€+a + &quot; b=&quot; + b); } public static void swap(int a,int b){ int tmp = a; a = b; b = tmp; } } ç¨‹åºè¿è¡Œåç»“æœä¸º( ) A.a=4 b=3 B.a=3 b=4 C.a=a b=b D.æ— ç»“æœè¾“å‡º æ­£ç¡®ç­”æ¡ˆæ˜¯: B æ‰§è¡Œå¦‚ä¸‹ä»£ç åï¼Œbçš„å€¼æ˜¯( ) int a=0, b=0; do{ --b; a = a-1; }while(a&gt;0); A.0 B.1 C.-1 D.æ­»å¾ªç¯ æ­£ç¡®ç­”æ¡ˆæ˜¯: C ä¸‹åˆ—å…³äºJavaä¸­çš„æ•°ç»„çš„è¯´æ³•ï¼Œé”™è¯¯çš„æ˜¯( )ã€‚ A.æ•°ç»„ä¸­çš„å…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒ B.æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯æœ‰é¡ºåºçš„ C.æ•°ç»„å¯¹è±¡ï¼Œå±äºå¼•ç”¨ç±»å‹ D.æ•°ç»„çš„å¤§å°å¯ä»¥ä»»æ„æ”¹å˜ æ­£ç¡®ç­”æ¡ˆæ˜¯: D åœ¨å¾ªç¯ä½“ä¸­ï¼Œå¦‚æœæƒ³ç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œå¯ä»¥ä½¿ç”¨å“ªä¸ªè¯­å¥ï¼Ÿï¼ˆ ï¼‰ã€‚ A.break B.continue C.final D.finally æ­£ç¡®ç­”æ¡ˆæ˜¯: B ä¸‹åˆ—æ ‡è¯†ç¬¦ä¸­ï¼Œå“ªä¸€ä¸ªæ˜¯éæ³•æ ‡è¯†ç¬¦ï¼Ÿï¼ˆ ï¼‰ A.statics B.static_10 C.10static D.$statics10 æ­£ç¡®ç­”æ¡ˆæ˜¯: C è®¾æœ‰æ•°ç»„çš„å®šä¹‰int[] a = new int[3]ï¼Œåˆ™ä¸‹é¢å¯¹æ•°ç»„å…ƒç´ çš„å¼•ç”¨é”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰ã€‚ A.a[0] B.a[a.length-1] C.int i=0;a[i] D.a[a.length]-1 æ­£ç¡®ç­”æ¡ˆæ˜¯: D int a=new int[2][3]ï¼Œåˆ™è¯¥æ•°ç»„åŒ…å«ï¼ˆ ï¼‰ä¸ªæ•°ç»„å…ƒç´ ã€‚ A.2 B.3 C.6 D.ä¸ç¡®å®š æ­£ç¡®ç­”æ¡ˆæ˜¯: C ä¸‹é¢çš„ä»£ç æ®µæ‰§è¡Œä¹‹åcountçš„å€¼æ˜¯ä»€ä¹ˆï¼ˆ ï¼‰ int count = 1; for (int i = 1; i &lt;= 5; i++) { count += i; } System.out.println(count); A.5 B.1 C.15 D.16 æ­£ç¡®ç­”æ¡ˆæ˜¯: D ç¼–ç¨‹é¢˜å¾—åˆ†ï¼š50 æ•°å­—åŠ å¯† å¾—åˆ†ï¼š10 / 10 1234567891011121314151617181920212223import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123;public static void main(String []args)throws IOException &#123; Scanner s = new Scanner(System.in); int n = s.nextInt(); int arr[] = new int[4]; int cnt = 3; while(n!=0) &#123; arr[cnt--] = (n%10 + 9)%10; n /= 10; &#125; System.out.printf(\"The encrypted number is %d%d%d%d\\n\",arr[2],arr[3],arr[0],arr[1]); &#125; &#125; æ•°åˆ—æ’åº å¾—åˆ†ï¼š10 / 10 123456789101112131415161718192021222324252627282930313233343536373839404142434445import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123; public static void main(String []args)throws IOException &#123; Scanner s = new Scanner(System.in); int arr[] = new int[20]; int len = arr.length; for(int i=0; i &lt; len; i++) arr[i] = s.nextInt(); bubble(arr); for(int i=0; i &lt; len; i++) &#123; System.out.printf(\"%4d\",arr[i]); if ( i == len-1) System.out.println(); //else System.out.print(\" \"); &#125; &#125; /** * @Target: å†’æ³¡æ’åº * @param arrå¾…æ’æ•°ç»„ */ public static void bubble(int arr[]) &#123; int start = 5; // ç¬¬6ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯5 int len = 14; // ç¬¬15ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯14 int tmp ; // äº¤æ¢çš„ä¸´æ—¶å˜é‡ for (int i = start; i &lt; len; i++) &#123; for (int j = start; j &lt; len-(i-start); j++) &#123; // ç±»æ¯”ä»0 å¼€å§‹çš„å†’æ³¡,è¿™è¾¹éœ€è¦æ”¹æˆlen-(i-start),å› ä¸ºjçš„èŒƒå›´åªèƒ½æ˜¯(start,len) if ( arr[j] &lt; arr[j+1]) &#123; tmp = arr[j+1]; arr[j+1] = arr[j]; arr[j] = tmp; &#125; &#125; &#125; &#125; &#125; æ‰“å°æ¨è¾‰ä¸‰è§’å½¢ å¾—åˆ†ï¼š10 / 10 12345678910111213141516171819202122232425262728293031import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123; public static void main(String []args)throws IOException &#123; Scanner s = new Scanner(System.in); int hang = s.nextInt(); int arr[][] = new int[hang][hang]; arr[0][0] = 1; for (int i = 1; i &lt; hang ; i++) &#123; arr[i][0] = 1; arr[i][i] = 1; for (int j = 1; j &lt; hang; j++) &#123; arr[i][j] = arr[i-1][j] + arr[i-1][j-1]; &#125; &#125; for (int i = 0; i &lt; hang ; i++) &#123; for (int j = 0; j &lt; hang; j++) &#123; if (arr[i][j] != 0 ) System.out.printf(\"%5d\",arr[i][j]); &#125; System.out.println(); &#125; &#125;&#125; æ„é€ æŒ‡å®šçš„æ•°åˆ— å¾—åˆ†ï¼š10 / 10 12345678910111213141516171819202122232425import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123; public static void main(String []args)throws IOException &#123; Scanner s = new Scanner(System.in); int a = s.nextInt(); int b = s.nextInt(); int cnt = 0 ; int arr[] = new int[1000]; for (int i = a; i &lt;= b; i++) &#123; if ( i % 7 == 0 || i % 11 == 0) &#123; if ( !(i % 7 == 0 &amp;&amp; i % 11 == 0) ) arr[cnt++] = i; &#125; &#125; for(int x : arr) if ( x!= 0) System.out.printf(\"%d \",x); &#125;&#125; æ±‚å¹³å‡å€¼ å¾—åˆ†ï¼š10 / 10 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748import java.io.IOException;import java.util.Arrays;import java.util.Scanner;/** * @author Mr.li * @Date 2019å¹´3æœˆ17æ—¥ */public class Main &#123; public static void main(String []args)throws IOException &#123; Scanner s = new Scanner(System.in); int num = s.nextInt(); int sum = 0; //å»é™¤æœ€å¤§æœ€å°å€¼çš„æ€»å’Œ int cnt = 0; //è¦å»æ‰çš„ä¸ªæ•° int arr[] = new int[num]; for (int i = 0; i &lt; num; i++) arr[i]= s.nextInt(); Arrays.sort(arr); // æ’åº,é»˜è®¤ä»å¤§åˆ°å° System.out.printf(\"max element:%d\\n\", arr[num-1]); // ç¬¬ä¸€ä¸ªæ˜¯æœ€å¤§çš„ System.out.printf(\"min element:%d\\n\", arr[0]); // æœ€åä¸€ä¸ªæ˜¯æœ€å°çš„ // å»æ‰æœ€å¤§å’Œæœ€å°é¡¹ for (int i = 1; i &lt; num-1; i++) &#123; if ( arr[i] == arr[0] || arr[i] == arr[num-1] ) &#123; arr[i] = 0 ; cnt ++ ; &#125; &#125; // æ˜¯å¦å…¨æ˜¯æœ€å°æœ€å¤§å€¼ boolean flag = false; for (int i = 1; i &lt; num-1; i++) &#123; if (arr[i] != 0) &#123; flag = true; sum += arr[i]; &#125; &#125; if (flag == true) System.out.printf(\"average is %5.2f\\n\", (double)sum/(num-(cnt+2))); else System.out.printf(\"no solution\\n\"); &#125;&#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"Linuxå‘½ä»¤æ‰‹å†Œ","slug":"Linuxå‘½ä»¤æ‰‹å†Œ","date":"2019-03-15T14:33:26.000Z","updated":"2021-11-08T02:37:55.977Z","comments":true,"path":"2019/03/15/Linuxå‘½ä»¤æ‰‹å†Œ/","link":"","permalink":"https://nymrli.top/2019/03/15/Linuxå‘½ä»¤æ‰‹å†Œ/","excerpt":"","text":"scp 1ã€ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ–‡ä»¶ 1scp username@servername:/path/filename /var/www/local_dirï¼ˆæœ¬åœ°ç›®å½•ï¼‰ ä¾‹å¦‚scp root@192.168.0.101:/var/www/test.txt æŠŠ192.168.0.101ä¸Šçš„/var/www/test.txt çš„æ–‡ä»¶ä¸‹è½½åˆ°/var/www/local_dirï¼ˆæœ¬åœ°ç›®å½•ï¼‰ 2ã€ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨ 1scp /path/filename username@servername:/path ä¾‹å¦‚scp /var/www/test.php root@192.168.0.101:/var/www/ æŠŠæœ¬æœº/var/www/ç›®å½•ä¸‹çš„test.phpæ–‡ä»¶ä¸Šä¼ åˆ°192.168.0.101è¿™å°æœåŠ¡å™¨ä¸Šçš„/var/www/ç›®å½•ä¸­ 3ã€ä»æœåŠ¡å™¨ä¸‹è½½æ•´ä¸ªç›®å½• 1scp -r username@servername:/var/www/remote_dir/ï¼ˆè¿œç¨‹ç›®å½•ï¼‰ /var/www/local_dirï¼ˆæœ¬åœ°ç›®å½•ï¼‰ ä¾‹å¦‚:scp -r root@192.168.0.101:/var/www/test /var/www/ 4ã€ä¸Šä¼ ç›®å½•åˆ°æœåŠ¡å™¨ 1scp -r local_dir username@servername:remote_dirä¾‹å¦‚ï¼šscp -r test root@192.168.0.101:/var/www/ æŠŠå½“å‰ç›®å½•ä¸‹çš„testç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„/var/www/ ç›®å½• 12345678910111213141516$ ssh root@47.98.233.15@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!Someone could be eavesdropping on you right now (man-in-the-middle attack)!It is also possible that a host key has just been changed.The fingerprint for the ECDSA key sent by the remote host isSHA256:8hgJ8jpcBr1tm6HS72FpXwMrjba8MQqlqYJQLPB/Qf4.Please contact your system administrator.Add correct host key in /Users/wangdong/.ssh/known_hosts to get rid of this message.Offending ECDSA key in /Users/wangdong/.ssh/known_hosts:26ECDSA host key for 47.98.233.15 has changed and you have requested strict checking.Host key verification failed.# ä»ç½‘ä¸Šæˆªçš„,è‡ªå·±ç”µè„‘æŠ¥é”™æ²¡æŠ¥é”™æŒ‰æŠ¥é”™çš„æç¤º,éœ€è¦å°†C:\\Users\\10630\\.sshä¸­çš„known_hostsä¸­çš„å†…å®¹åˆ æ‰,å› ä¸ºä»–é»˜è®¤å…ˆä»è¿™é‡Œè¾¹æ‰¾ç›¸åŒIPçš„,åˆ æ‰åå°±è¡Œäº† ssh SSHåˆ†å®¢æˆ·ç«¯openssh-clientå’ŒæœåŠ¡å™¨ç«¯openssh-serverï¼Œå¦‚æœä½ åªæ˜¯æƒ³ç™»é™†åˆ«çš„æœºå™¨çš„SSHåªéœ€è¦å®‰è£…openssh-clientï¼ˆubuntuæœ‰é»˜è®¤å®‰è£…ï¼Œå¦‚æœæ²¡æœ‰åˆ™sudo apt-get install openssh-clientï¼‰ï¼Œå¦‚æœè¦ä½¿æœ¬æœºå¼€æ”¾SSHæœåŠ¡å°±éœ€è¦å®‰è£…openssh-server ä¸‹é¢è®²è§£openssh-server é¦–å…ˆæ›´æ–°æº 1sudo apt-get update å®‰è£…sshæœåŠ¡ 1sudo apt-get install openssh-server æ£€æµ‹æ˜¯å¦å·²å¯åŠ¨ 1ps -e | grep ssh çœ‹åˆ°æœ‰sshå­—æ ·ï¼Œè¯´æ˜å·²å¯åŠ¨ï¼Œå¦‚æœæ²¡æœ‰å°±æ‰‹åŠ¨å¯åŠ¨ 1/etc/init.d/ssh start é…ç½®ssh-serverï¼Œé…ç½®æ–‡ä»¶ä½äº/etc/ssh/sshd_configï¼Œé»˜è®¤ç«¯å£ä¸º22ï¼Œä¸ºäº†å®‰å…¨ï¼Œä¸€èˆ¬è‡ªå®šä¹‰ä¸ºå…¶ä»–ç«¯å£ï¼Œç„¶åé‡å¯ 1sudo /etc/init.d/ssh resart å¢åŠ æ¡Œé¢å¿«æ·æ–¹å¼ Launcher : â€‹ åœ¨/usr/share/applications/ä¸­å†™å…¥Roboviz.desktopæ–‡ä»¶(sudo vim Roboviz.desktop) 123456789[Desktop Entry]Name=RobovizComment=RobovizExec=/home/apollo3d/RoboViz-dev/bin/linux-amd64/roboviz.shIcon=/home/apollo3d/RoboViz-dev/bin/linux-amd64/resources/images/icon.pngTerminal=trueStartupNotify=trueType=ApplicationCategories=Development;IDE; ps aux | grepè¿›ç¨‹å ps -A æ˜¾ç¤ºæ‰€æœ‰ç¨‹åºã€‚ ps e åˆ—å‡ºç¨‹åºæ—¶ï¼Œæ˜¾ç¤ºæ¯ä¸ªç¨‹åºæ‰€ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ã€‚ kill ï¼9 324 killall -9 NAME Linuxä¸‹è¿˜æä¾›äº†ä¸€ä¸ªkillallå‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¿›ç¨‹çš„åå­—è€Œä¸æ˜¯è¿›ç¨‹æ ‡è¯†å· chmod {u|g|o|a}{+|-|=}{r|w|x} filename ä¿®æ”¹æƒé™ find pathname [option] expression å¯»æ‰¾æ–‡ä»¶ grep [option] pattern filenames æœç´¢æ–‡ä»¶ä¸­åŒ¹é…ç¬¦ â€‹ grep -r äºŒè¿›åˆ¶ /home/apollo3d/Documents ./æ–‡ä»¶å è¿›å…¥åˆ°è¿›ç¨‹çš„æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œæ–‡ä»¶ https://www.cnblogs.com/lcword/p/6046261.html ç«¯å£æ“ä½œ ç«¯å£ç›‘å¬ä¿¡æ¯ netstat -plant ä¸€ã€æŸ¥çœ‹å“ªäº›ç«¯å£è¢«æ‰“å¼€ netstat -anp äºŒã€å…³é—­ç«¯å£å·:iptables -A OUTPUT -p tcp --dport ç«¯å£å· -j DROP ä¸‰ã€æ‰“å¼€ç«¯å£å·ï¼šiptables -A INPUT -p tcp --dport ç«¯å£å· -j ACCEPT å››ã€ä»¥ä¸‹æ˜¯linuxæ‰“å¼€ç«¯å£å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•ã€‚ nc -lp 23 &amp;(æ‰“å¼€23ç«¯å£ï¼Œå³telnet) netstat -an | grep 23 (æŸ¥çœ‹æ˜¯å¦æ‰“å¼€23ç«¯å£) æˆ–è€… lsof -i:80 äº”ã€linuxæ‰“å¼€ç«¯å£å‘½ä»¤æ¯ä¸€ä¸ªæ‰“å¼€çš„ç«¯å£ï¼Œéƒ½éœ€è¦æœ‰ç›¸åº”çš„ç›‘å¬ç¨‹åºæ‰å¯ä»¥ åˆ›å»ºæ–°ç”¨æˆ· åœ¨ root ç”¨æˆ·ä¸‹è¿è¡Œè¿™æ¡å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œyangxg æ˜¯ç”¨æˆ·å å› ä¸ºæˆ‘å«æ¨å­¦å…‰ï¼Œæ‰€ä»¥æˆ‘å–çš„ç”¨æˆ·åæ˜¯ yangxg é€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„ç”¨æˆ·åï¼Œä¸ä¸€å®šéå¾—å’Œæˆ‘çš„ç›¸åŒ root@localhost:~# useradd -m -s /bin/bash yangxg æŠŠæ–°åˆ›å»ºçš„ç”¨æˆ·åŠ å…¥è¶…çº§æƒé™ç»„ root@localhost:~# usermod -a -G sudo yangxg ä¸ºæ–°ç”¨æˆ·è®¾ç½®å¯†ç  æ³¨æ„åœ¨è¾“å¯†ç çš„æ—¶å€™ä¸ä¼šæœ‰å­—ç¬¦æ˜¾ç¤ºï¼Œä¸è¦ä»¥ä¸ºé”®ç›˜åäº†ï¼Œæ­£å¸¸è¾“å…¥å³å¯ root@localhost:~# passwd yangxg åˆ‡æ¢åˆ°åˆ›å»ºçš„æ–°ç”¨æˆ· root@localhost:~# su - yangxg åˆ‡æ¢æˆåŠŸï¼Œ@ç¬¦å·å‰é¢å·²ç»æ˜¯æ–°ç”¨æˆ·åè€Œä¸æ˜¯ root äº† yangxg@localhost:~$ ä¸ºrootç”¨æˆ·æä¾›åˆå§‹å¯†ç  sudo passwd root ä¿®æ”¹ä¸ºé˜¿é‡Œäº‘ DNS æ‚¨å¿…é¡»æ˜¯ç®¡ç†å‘˜rootæˆ–è€…å…·æœ‰ç®¡ç†å‘˜æƒé™ sudo vim /etc/resolv.conf åŠ å…¥: 12nameserver 223.5.5.5nameserver 223.6.6.6 ä¿å­˜é€€å‡ºï¼Œç„¶åä½¿ç”¨dig éªŒè¯: dig www.taobao.com +shortè‹¥å‡ºç°ç»“æœåˆ™è¡¨ç¤ºæ­£å¸¸ã€‚ æ¢æº(æ›´æ¢æ•°æ®æº) 12345rootdubuntu:/home/lusifer# curl -sSL https://get. daocloud. io/docker | shExecuting docker install script, commit:1d31602+sh-c apt-get update-qq&gt;/dev/null E: Could not get Lock /var/lib/apt/lists/lock-open (11: Resource temporarily unavailable)E: Unable to lock directory /var/lib/apt/lists/ åŸå› å¯èƒ½æ˜¯æ²¡æœ‰æ›´æ–°æ•°æ®æº 1.å¤‡ä»½é»˜è®¤çš„æºsudo cp /etc/apt/sources.list /etc/apt/sources_init.list 2.ç”¨ä½ ç†Ÿæ‚‰çš„ç¼–è¾‘å™¨æ‰“å¼€ï¼šå¦‚vim /etc/apt/sources.listæ›¿æ¢é»˜è®¤çš„http://archive.ubuntu.com/ä¸ºmirrors.aliyun.com 123456789101112131415deb http://mirrors.aliyun.com/ubuntu/ xenial maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial maindeb http://mirrors.aliyun.com/ubuntu/ xenial-updates maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates maindeb http://mirrors.aliyun.com/ubuntu/ xenial universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial universedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universedeb http://mirrors.aliyun.com/ubuntu/ xenial-security maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security maindeb http://mirrors.aliyun.com/ubuntu/ xenial-security universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe æœ€åè¾“å…¥sudo apt-get update Ubuntuæ— æ³•æ‰¾åˆ°add-apt-repositoryé—®é¢˜çš„è§£å†³æ–¹æ³• ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹èµ„æ–™ï¼ŒåŸæ¥æ˜¯éœ€è¦python-software-propertiduanjkes äºæ˜¯apt-get install python-software-properties é™¤æ­¤ä¹‹å¤–è¿˜è¦å®‰è£…software-properties-common äºæ˜¯apt-get install software-properties-common ç„¶åå°±èƒ½ç”¨add-apt-repositoryäº† ä»£ç† æœç´¢ä»£ç† env | grep proxyã€sudo grep -r -i http_proxy=ä»£ç†åœ°å€ é…ç½®ä»£ç† ä¸´æ—¶:export http_proxy=http://10.3.0.1:80 (1) éœ€è¦åœ¨/etc/apt/apt.confä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š (å¦‚æœæ‚¨å¸Œæœ›apt-get(è€Œä¸æ˜¯å…¶ä»–åº”ç”¨ç¨‹åº)ä¸€ç›´ä½¿ç”¨httpä»£ç†,æ‚¨å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚) Acquire::http::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; Acquire::ftp::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; Acquire::https::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; ä¿å­˜apt.confæ–‡ä»¶ã€‚ (2)æ–°å»ºä¸€ä¸ªä»£ç†é…ç½®æ–‡ä»¶,åœ¨apt-get æ—¶ä½¿ç”¨é…ç½®,15.10å¯ç”¨(é’ˆå¯¹éœ€è¦ä¸‹è½½çš„å•ä¸ªä¸åŒæ–‡ä»¶) å»ºç«‹æ–‡ä»¶ vim proxyfile Acquire::http::proxy &quot;http://10.3.0.1:80&quot;; Acquire::ftp::proxy &quot;http://10.3.0.1:80&quot;; Acquire::https::proxy &quot;http://10.3.0.1:80&quot;; ä½¿ç”¨æ—¶sudo apt-get install xxx -c proxyfile (2)åœ¨ä¸»ç›®å½•ä¸‹çš„.bashrcæ–‡ä»¶ä¸­æ·»åŠ ä¸¤è¡Œã€‚(å¦‚æœæ‚¨å¸Œæœ›apt-getå’Œå…¶ä»–åº”ç”¨ç¨‹åºå¦‚wgetç­‰éƒ½ä½¿ç”¨httpä»£ç†,æ‚¨å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚ ) åœ¨æ‚¨çš„.bashrcæ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ export http_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ export https_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ export ftp_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ ubuntu ä»£ç†é…ç½® PPA 1.vim /usr/lib/python3/dist-packages/softwareproperties/ppa.py åœ¨å‡½æ•°def _get_https_content_py3ï¼ˆlp_urlï¼‰çš„catchæ¡ˆä¾‹ä¸­æ·»åŠ äº†ä¸€ä¸ªprintï¼ˆeï¼‰æ˜¾ç¤ºäº†é”™è¯¯çš„çœŸæ­£åŸå› ã€‚ 2.ç³»ç»Ÿæ—¶é—´æ˜¯å¦æ­£ç¡® 3.é™¤äº†é…ç½®ä»£ç†ä¹‹å¤–ï¼Œè¯·å‘Šè¯‰sudoä½¿ç”¨-Eè¯¥æ ‡å¿—æ¥è€ƒè™‘ç¯å¢ƒ 123export http_proxy=http://&lt;proxy&gt;:&lt;port&gt;export https_proxy=http://&lt;proxy&gt;:&lt;port&gt;sudo -E apt-add-repository ppa:canonical-qt5-edgers/qt5-proper with username and password: 1export https_proxy=&lt;username&gt;:&lt;password&gt;@&lt;proxy&gt;:&lt;port&gt; Ubuntuä¸‹è®©ç»ˆç«¯èµ°SSä»£ç†çš„æ–¹æ³• Ubuntuä¸‹è®©ç»ˆç«¯èµ°SSä»£ç†éœ€è¦ç¬¬ä¸‰æ–¹è½¯ä»¶çš„å¸®åŠ©ï¼Œå³privoxyã€‚ privoxy æ˜¯éå¿«å–å¼ (non-caching) çš„ç½‘é¡µä»£ç†ä¼ºæœå™¨ï¼Œå…·æœ‰è¿›é˜¶çš„è¿‡æ»¤èƒ½åŠ›ï¼Œå¯å¼ºåŒ–éšç§æƒï¼Œè¿˜å¯ä»¥ä¿®æ”¹ç½‘é¡µèµ„æ–™ã€ç®¡ç† HTTP cookiesã€å»é™¤å¹¿å‘Šç­‰ã€‚ å®‰è£… privoxy sudo apt-get install privoxy å®‰è£…å®Œæˆååœ¨ /etc/privoxy ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°é…ç½®æ–‡ä»¶ configã€‚ é…ç½® privoxy ä¸€èˆ¬åœ°ï¼Œæ”¹é…ç½®å‰åº”è¯¥å¤‡ä»½é…ç½®ã€‚ mv /etc/privoxy/config /etc/privoxy/config.back ç„¶åæ‰“å¼€ config æ–‡ä»¶ï¼Œæ‰¾åˆ°listen-addressé‚£ä¸€è¡Œï¼Œä¿®æ”¹å€¼ä¸º privoxy ç›‘å¬çš„åœ°å€ï¼Œä¸€èˆ¬ä½¿ç”¨é»˜è®¤ã€‚ ç„¶åå†æ‰¾åˆ°forward-socks5é‚£ä¸€è¡Œï¼Œå»æ‰æ³¨é‡Šï¼Œå€¼ä¸ºSSä»£ç†ç›‘å¬çš„åœ°å€ã€‚ è®©ç»ˆç«¯èµ°SSä»£ç†,ä¿®æ”¹é…ç½®åï¼Œé‡å¯ privoxyã€‚ sudo /etc/init.d/privoxy restart ç„¶ååœ¨ç»ˆç«¯ä¸‹æ·»åŠ  http ä»£ç†ã€‚ export http_proxy=â€127.0.0.1:8118â€ export https_proxy=â€127.0.0.1:8118â€ ç„¶åå°±å¯ä»¥æ„‰å¿«çš„ç”¨ç»ˆç«¯ç¿»å¢™äº†ã€‚ åŸæ–‡ï¼šhttps://blog.csdn.net/tailgo/article/details/52075643 Lets Encrypt é…ç½®SSLé”™è¯¯ DNS problem: NXDOMAIN looking up A for xxx åˆšåˆšè§£æäº†Aè®°å½•ï¼Œè§£ææœåŠ¡å™¨è¿˜æ²¡æœ‰ç”Ÿæ•ˆ æœåŠ¡å™¨æœ¬åœ° DNSç¼“å­˜æœªæ›´æ–° 1. é¦–å…ˆç¡®å®šAè®°å½•æ˜¯å¦æˆæ•ˆ ç¡®å®šçš„æ–¹å¼å¾ˆç®€å•ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥è‡ªå·±çš„åŸŸåï¼ŒæŸ¥çœ‹èƒ½å¦è®¿é—®æˆåŠŸã€‚ 2. ç¡®å®šDNSæ˜¯å¦æœ‰é—®é¢˜ 1) pingä¸»æœº 12# pingä¸»æœºï¼Œå¦‚æœæ— æ³•å‘ç°hostï¼Œåˆ™ç¡®å®šæ˜¯dnsé—®é¢˜$ ping demo.ptbird.cn 2) æ›´æ–°DNSç¼“å­˜ ä¸å»ºè®®ç›´æ¥ network restart ä½¿ç”¨nscd å¦‚æœç³»ç»Ÿæ²¡è£…å¯ä»¥è£…ä¸€ä¸‹ï¼ŒnscdåšDNSç¼“å­˜åŠ é€Ÿå¾ˆæœ‰ç”¨ã€‚ centos : yum install nscdã€ubuntu ï¼šapt-get install nscd å¦‚æœå·²ç»è£…äº†ç›´æ¥æ›´æ–° 1234# ä¸»è¦æ˜¯hosts$ nscd -i passwd$ nscd -i group$ nscd -i hosts grepæŒ‡ä»¤å‚æ•°è¯´æ˜ https://www.cnblogs.com/forestwolf/p/6413916.html æŸ¥çœ‹æ–‡ä»¶æœ€åä¿®æ”¹æ—¥æœŸ,è¿”å›å€¼ä¸ºæ—¶é—´æˆ³stat -c %Y filename æŸ¥çœ‹ç³»ç»Ÿ(è½¯ä»¶)æ—¶é—´dateã€ç¡¬ä»¶æ—¶é—´clock -s,ç”¨ç¡¬ä»¶æ—¶é—´è¦†ç›–è½¯ä»¶æ—¶é—´ -w,ç”¨è½¯ä»¶æ—¶é—´è¦†ç›–ç¡¬ä»¶æ—¶é—´ ä¸è¿œç¨‹ä¸»æœºåŒæ­¥æ—¶é—´ntpdate ip å†…éƒ¨ã€å¤–éƒ¨å‘½ä»¤ enableæŸ¥çœ‹å†…éƒ¨å‘½ä»¤ å¤–éƒ¨å‘½ä»¤çš„æœç´¢ç›®å½•åœ¨$PATHä¸­æŒ‡å®š æœç´¢æ—¶çš„ä¼˜ç§€é¡ºåºæ ¹æ®hashç¼“å­˜æ¥å†³å®š,hash -d nameæ¸…ç©ºnameçš„ç¼“å­˜,hash -ræ¸…ç©ºæ‰€æœ‰ç¼“å­˜ ä½¿ç”¨å†…éƒ¨å‘½ä»¤è€Œä¸ä½¿ç”¨åˆ«å e.g. ls 12345678ls &lt;==&gt; /bin/ls --color=auto# å¦‚ä½•ä¸è°ƒç”¨åˆ«åå‘¢1. /bin/ls2. \\ls3. 'ls'4. \"ls\"5. command ls åˆ«åalias: ä¼˜å…ˆçº§: alias &gt; å†…éƒ¨å‘½ä»¤ &gt; å¤–éƒ¨å‘½ä»¤ è®¾ç½®åˆ«åalias xxx=yyy å–æ¶ˆæ‰€æœ‰åˆ«åunalias -a è®¾ç½®è¯­è¨€ 1.å…ˆä¿®æ”¹é…ç½®æ–‡ä»¶vim /etc/sysconfig/i18nä¸­å°†en_US.UTF-8æ”¹æˆzh_CN.UTF-8, 2.ç„¶å. /etc/sysconfig/i18nç«‹å³ç”Ÿæ•ˆ 3.æµ‹è¯•wall &quot;Hello&quot;ç»™ç™»å½•è¯¥æœåŠ¡å™¨çš„ç”¨æˆ·å‘é€ä¿¡æ¯ æŸ¥çœ‹å†å²å‘½ä»¤ history,æŸ¥çœ‹åˆ°idå,å¯ä»¥!idè¿›è¡Œå†è°ƒç”¨â€¦!!æ‰§è¡Œå‰ä¸€ä¸ªå‘½ä»¤ 123456!string é‡å¤å‰ä¸€ä¸ªä»¥â€œstring\"å¼€å¤´çš„å‘½ä»¤!?string é‡å¤å‰ä¸€ä¸ªåŒ…å«stringçš„å‘½ä»¤!string:pä»…æ‰“å°å‘½ä»¤å†å²ï¼Œè€Œä¸æ‰§è¡Œ!$ï¼špæ‰“å°è¾“å‡ºï¼$ï¼ˆä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°ï¼‰çš„å†…å®¹!*ï¼špæ‰“å°è¾“å‡ºï¼*ï¼ˆä¸Šä¸€æ¡å‘½ä»¤çš„æ‰€æœ‰å‚æ•°ï¼‰çš„å†…å®¹Astring åˆ é™¤ä¸Šä¸€æ¡å‘½ä»¤ä¸­çš„ç¬¬ä¸€ä¸ªstring Astring1Astring2å°†ä¸Šä¸€æ¡å‘½ä»¤ä¸­çš„ç¬¬ä¸€ä¸ªstring1æ›¿æ¢ä¸ºstring2!:gs/string1/string2å°†ä¸Šä¸€æ¡å‘½ä»¤ä¸­æ‰€æœ‰çš„string1éƒ½æ›¿æ¢ä¸ºstring2 $HISTSIZEè®°å½•äº†æœ€å¤§è®°å½•æ•° å‘½ä»¤è¡Œå†å²ä¿å­˜åœ¨å†å²ä¸­,ç›´åˆ°æ­£å¸¸é€€å‡ºåä¼šå†™å…¥~/.bash_historyé‡Œ VIMæ’ä»¶ç®¡ç† 1.å®‰è£… 1234# å¦‚æœæ²¡å®‰è£…curlçš„è¯,å…ˆå®‰è£…curl$ sudo apt install curl$ curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim 2.ä¿®æ”¹~/.vimrcæ–‡ä»¶ 123call plug#begin() Plug 'flazz/vim-colorschemes'call plug#end() 3.æ‰§è¡Œæ›´æ–° è¿™æ­¥è¦ç¡®ä¿å®‰è£…äº†git 12:PlugStatus # æŸ¥çœ‹æ’ä»¶ç±»å‹:PlugInstall # å®‰è£…æ’ä»¶ 4.ä½¿ç”¨æ’ä»¶ åˆ é™¤æ’ä»¶:PlugClean æŸ¥è¯¢å¸®åŠ© which: æŸ¥æ‰¾æ–‡ä»¶ï¼š ä¼šåœ¨ç¯å¢ƒå˜é‡$PATHè®¾ç½®çš„ç›®å½•é‡ŒæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ type: è¿”å›å‘½ä»¤çš„ç±»å‹ whatis: æŸ¥çœ‹å‘½ä»¤åŠŸèƒ½ æŸ¥è¯¢ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œä»€ä¹ˆåŠŸèƒ½,å¯ä»¥æŸ¥è¯¢åˆ°manéœ€è¦çš„ç« èŠ‚å· whereisï¼šæŸ¥æ‰¾æ–‡ä»¶ ä¼šåœ¨ç‰¹å®šç›®å½•ä¸­æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶åº”å±äºåŸå§‹ä»£ç ã€äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæˆ–æ˜¯å¸®åŠ©æ–‡ä»¶ åªèƒ½ç”¨äºæŸ¥æ‰¾äºŒè¿›åˆ¶æ–‡ä»¶ã€æºä»£ç æ–‡ä»¶å’Œmanæ‰‹å†Œé¡µï¼Œä¸€èˆ¬æ–‡ä»¶çš„å®šä½éœ€ä½¿ç”¨locateå‘½ä»¤ å†…éƒ¨å‘½ä»¤: help command ï¼Œå¦‚help type å¤–éƒ¨å‘½ä»¤: command --help man(manual),å¸®åŠ©æ‰‹å†Œæ”¾åœ¨/usr/share/man 123date -d \"yesterday\" +%Fdate -d \"-2 day\" +%Ftouch `date -d \"yesterday\" +%F`.log Linuxç™»é™†æ¬¢è¿æç¤ºä¿¡æ¯çš„è®¾ç½® Linuxå¯ä»¥è®¾ç½®ç™»å½•å‰åçš„æ¬¢è¿ä¿¡æ¯ï¼Œè™½ç„¶æ²¡å•¥æŠ€æœ¯å«é‡ï¼Œä½†å´æ˜¯éå¸¸å®ç”¨çš„ä¸€ä¸ªå°æŠ€å·§ã€‚ å®ç°ç™»å½•æ¶ˆæ¯çš„åŠŸèƒ½ï¼Œå¯ä»¥ä¿®æ”¹3ä¸ªæ–‡ä»¶ã€‚ 1ã€/etc/issue æœ¬åœ°ç™»é™†æ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œæœ¬åœ°ç™»å½•å‰ 2ã€/etc/issue.net ç½‘ç»œç™»é™†æ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œç™»å½•åæ˜¾ç¤ºï¼Œéœ€è¦ç”±sshdé…ç½® 3ã€/etc/motd å¸¸ç”¨äºé€šå‘Šä¿¡æ¯ï¼Œå¦‚è®¡åˆ’å…³æœºæ—¶é—´çš„è­¦å‘Šç­‰ï¼Œç™»é™†åçš„æç¤ºä¿¡æ¯ Linuxä¸‹å¦‚ä½•å¸è½½è½¯ä»¶ï¼ˆaptç³»ï¼‰ æ­¤æ–¹æ³•é€‚ç”¨äºDebianã€Ubuntuç­‰å¸¦aptå·¥å…·çš„æ“ä½œç³»ç»Ÿã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“å°†è¦å¸è½½çš„è½¯ä»¶åç§°ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨æ‰“ç®—å¸è½½tightvncserverï¼Œä½†æ˜¯å¦‚æœä½ ä¸ç¡®å®šåç§°ï¼Œæ²¡å…³ç³»ï¼Œå¯ä»¥ç”¨Tabé”®è‡ªåŠ¨è¡¥å…¨æ¥ç¡®å®šã€‚ 12345$ sudo apt-get autoremove --purge tigh[TAB]# sudoâ€”â€”è·å– root æƒé™ # apt-getâ€”â€”æ‰§è¡Œå®‰è£…å¸è½½åŠŸèƒ½çš„è½¯ä»¶ # autoremoveâ€”â€”å‘Šè¯‰ apt-get æˆ‘ä»¬æ‰€è¦åšçš„æ“ä½œæ˜¯ç§»é™¤è½¯ä»¶ # â€“purgeâ€”â€”æ³¨æ„è¿™å‰é¢æ˜¯ä¸¤ä¸ªçŸ­åˆ’çº¿ï¼Œè¿™ä¸ªå‚æ•°æ˜¯å‘Šè¯‰ä»–ä»¬è¦å®Œæ•´çš„å¹²å‡€çš„å½»åº•çš„ç§»é™¤ 1lsblkæŸ¥çœ‹ç¡¬ç›˜æŒ‚è½½ æ¢å¤rmåˆ é™¤çš„æ–‡ä»¶: æ³¨æ„ï¼šæŸ¥çœ‹ä¸€ä¸‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬å·ï¼ŒåŠæ–‡ä»¶ç³»ç»Ÿæ ¼å¼ df -T 12345678910111213# æŸ¥çœ‹å½“å‰ç¡¬ç›˜åˆ†åŒº$ df .# ä½¿ç”¨debugfs$ debugfs -w /dev/mapper/ubuntu--vg-root# åˆ—å‡ºå½“å‰ç›®å½•ä¸‹åˆ é™¤è¿‡çš„æ–‡ä»¶$ ls -d /home/apollo3d# æ‰¾åˆ°åˆ é™¤æ–‡ä»¶å‰çš„&lt;&gt;ä¸­çš„æ•°æ®,å³èŠ‚ç‚¹å·$ logdum -i &lt;num&gt;# é€€å‡ºdebugfsæ¨¡å¼$ quit# è¿›è¡Œæ¢å¤$ sudo dd if=/dev/mapper/ubuntu--vg-root of=/home/apollo3d/xxx.py bs=2944 count=1 skip=9438337# bsä¸ºoffseté‡, skipä¸ºblocké‡ apt-get updateå‡ºç°NO_PUBKEYé”™è¯¯çš„è§£å†³æ–¹æ³• åœ¨ä½¿ç”¨apt-get updateå‘½ä»¤æ—¶ï¼Œå‡ºç°äº†å¦‚ä¸‹çš„é”™è¯¯ï¼Œå½¢å¼å¦‚â€œW: GPG error: http://security.ubuntu.com trusty-security Release: The following signatures couldnâ€™t be verified because the public key is not available: NO_PUBKEY XXXXXâ€ 1234# æ‰§è¡Œæ›´æ–°,æŸ¥çœ‹ä»–ç¼ºå°‘ä»€ä¹ˆkey $ sudo apt-get update# å¤åˆ¶ä»–æç¤ºç¼ºå°‘çš„key:xxx,è¾“å…¥å³å¯$ sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-key xxxx","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"æ­å»ºGitlabæœåŠ¡å™¨","slug":"æ­å»ºGitlabæœåŠ¡å™¨","date":"2019-03-14T10:32:26.000Z","updated":"2019-12-12T12:29:24.682Z","comments":true,"path":"2019/03/14/æ­å»ºGitlabæœåŠ¡å™¨/","link":"","permalink":"https://nymrli.top/2019/03/14/æ­å»ºGitlabæœåŠ¡å™¨/","excerpt":"","text":"æ­å»ºGitlabæœåŠ¡å™¨ ä¸‹è½½å®‰è£…Gitlab ç”±äºç›´æ¥ä¸‹è½½Gitlabä¼šå¾ˆæ…¢(è¢«å¢™çš„ç¼˜æ•…) ï¼Œ äºæ˜¯é€‰æ‹©æ¸…åçš„é•œåƒå®‰è£…ï¼Œæ¸…åæº Ubuntu 16.04 ç”¨æˆ· Linuxå…¶ä»–ç‰ˆæœ¬æˆ–è€…ä¸æ˜¯Ubuntu 16.04 è§å®˜ç½‘ä¿®æ”¹æ–¹å¼ é¦–å…ˆä¿¡ä»» GitLab çš„ GPG å…¬é’¥: 1curl https://packages.gitlab.com/gpg.key 2&gt; /dev/null | sudo apt-key add - &amp;&gt;/dev/null â–²å¦‚æœè¿™æ­¥ä¸è¡Œï¼Œå…ˆè¿›è¡Œä¸‹ä¸€æ­¥ æ–‡æœ¬æ¡†ä¸­å†…å®¹å†™è¿› /etc/apt/sources.list.d/gitlab-ce.list 1deb https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/ubuntu xenial main å®‰è£… gitlab-ce: 12sudo apt-get updatesudo apt-get install gitlab-ce å®‰è£…æˆåŠŸåï¼Œä¼šæ˜¾ç¤ºâ€œç‹ç‹¸å¤´â€ã€‚ åˆæ¬¡é…ç½®æœåŠ¡ 1sudo gitlab-ctl reconfigure å¯åŠ¨æœåŠ¡ 1sudo gitlab-ctl start åˆå§‹åŒ–ç®¡ç†å‘˜rootè´¦å· æ±‰åŒ–(ç”¨ä¸äº†â€“&gt;å»ºè®®å¦æ‰¾) 1.ä¸‹è½½ç¤¾åŒºæä¾›çš„æ±‰åŒ–åŒ…ï¼Œåœ¨ https://gitlab.com/xhang/gitlab/ ä¸­æ‰¾åˆ°ç›¸åº”çš„æ±‰åŒ–åˆ†æ”¯ã€‚ 1sudo wget wget -cO gitlab-9.0_zh.tar.gz https://gitlab.com/xhang/gitlab/repository/archive.tar.gz?ref=9-0-stable-zh 2.è§£å‹åŒ… 1sudo tar zxvf gitlab-9.0_zh.tar.gz 3.åœæ­¢ GitLab æœåŠ¡ 1sudo gitlab-ctl stop 4.å¤‡ä»½ gitlab-rails ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹ä¸»è¦æ˜¯webåº”ç”¨éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯å½“å‰é¡¹ç›®ä»“åº“çš„èµ·å§‹ç‰ˆæœ¬ï¼Œä¹Ÿæ˜¯æ±‰åŒ–åŒ…è¦è¦†ç›–çš„ç›®å½•ã€‚ 1sudo tar zcvf /opt/gitlab/embedded/service/gitlab-rails-bak.tar.gz gitlab-rails 5.å°†è§£å‹åçš„æ±‰åŒ–è¡¥ä¸è¦†ç›–åŸæ¥çš„ 1sudo cp -rf gitlab-9-0-stable-zh/* gitlab-rails/ 6.å¯åŠ¨æœåŠ¡ 1sudo gitlab-ctl start 7.é‡æ–°æ‰§è¡Œé…ç½®å‘½ä»¤ 1sudo gitlab-ctl reconfigure æ³¨æ„gitlabçš„é…ç½®æ–‡ä»¶åœ¨/etc/gitlab/gitlab.rbä¸­,æˆ‘ä¸ªäººæ“ä½œæ˜¯è¦ç»è¿‡ä¸€æ¬¡reconfigureåï¼Œgitlab.rbæ‰æœ‰å†…å®¹çš„ã€‚ï¼ˆä½†/opt/gitlab/etcgitlab.rb.template ä¸­ä¸€ç›´æœ‰ï¼Œåº”è¯¥å°±æ˜¯å› ä¸ºæ˜¯æ¨¡æ¿çš„åŸå› å§ï¼‰ gitlabä¿®æ”¹é»˜è®¤ç«¯å£ gitlab.rbä¿®æ”¹ 123456789101112131415161718## Advanced settingsunicorn['listen'] = '127.0.0.1'unicorn['port'] = 8082...################################################################################## GitLab Web server# web_server['shell'] = '/bin/false'# web_server['home'] = '/var/opt/gitlab/nginx'################################################################################## GitLab NGINX##! Docs: https://docs.gitlab.com/omnibus/settings/nginx.html################################################################################nginx['listen_addresses'] = ['*']nginx['listen_port'] = 82 # override only if you use a reverse proxy: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#setting-the-nginx-listen-port gitlab-railsä¿®æ”¹ 1234# What ports/sockets to listen on, and what options for them.#listen \"127.0.0.1:8080\", :tcp_nopush =&gt; truelisten \"127.0.0.1:8082\", :tcp_nopush =&gt; truelisten \"/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket\", :backlog =&gt; 1024 gitlab nginx ä¿®æ”¹ 1234567server &#123; listen *:82; server_name gitlab.123.123.cn; server_tokens off; ## Don&apos;t show the nginx version number, a security best practice&#125; ä¿®æ”¹å®Œæˆåï¼Œé‡å¯ä¸‹sudo gitlab-ctl reconfigure,sudo gitlab-ctl restartï¼Œå°±å¯ä»¥æ”¾82ç«¯å£çš„gitlabäº†ã€‚ é™„å½•: å‚è€ƒé“¾æ¥: https://www.linuxidc.com/Linux/2018-01/150319.htm https://blog.csdn.net/hnmpf/article/details/80518460 (æœªçœ‹ï¼Œä½†è§‰å¾—åº”è¯¥è¿˜è¡Œ) ä¹‹å‰è®°å½•çš„,å…ˆæ”¾ç€ é…ç½®Gitlab 1.å®‰è£… 1ï¼‰æŸ¥çœ‹ç”µè„‘é…ç½® githubå¯¹å†…æ ¸æœ‰é™åˆ¶ 64ä½,å†…æ ¸3.0 uname -a ã€ uname --m 2ï¼‰å®‰è£… https://mirror.tuna.tsinghua.edu.cn/help/gitlab-ce/ 3ï¼‰ é…ç½®å¼€å¯GitLab 1sudo gitlab-ctl reconfigure 2.é…ç½® 1.æŸ¥çœ‹ä¸»æœºåç„¶åç™»é™† ä½ ç¬¬ä¸€æ¬¡è®¿é—®, ä½ ä¼šè¢«è‡ªåŠ¨å¯¼å‘åˆ°å¯†ç é‡ç½®ç•Œé¢ï¼Œé‡ç½®å®Œæˆå¯†ç å ä¼šé‡æ–°è¿”å›ç™»é™†ç•Œé¢ é»˜è®¤è´¦æˆ·çš„ username æ˜¯ root. æä¾›ç»™ä½ çš„å¯†ç å®¹æ˜“åˆ›å»ºå’Œç™»å½•. ç™»å½•åä½ å¯ä»¥å°† username æ”¹æˆä½ å¸Œæœ›çš„. 2. é…ç½®æœåŠ¡å™¨åŠè®¿é—®è·¯å¾„ 123$ vim /etc/gitlab~ external_url = \"http://gitlab.aaa.com\"$ Gitlab-ctl reconfigure 3.é…ç½®nginxåŠDNSåŸŸåè§£æ docker ä¸‹ Gitlabæ­å»º 1.é…ç½®vim docker-compose.yml 1234567891011121314151617181920212223version:3services: gitlab: image: twang2218/g1tlab-ce-zh:9.4 restart: always hostname:192,16875.129 # environmenté‡Œæ‰æ˜¯gitlabçš„è®¾ç½®,åŒ…å«nginxå’Œgitlab # gitlabçš„ç½‘é¡µè®¿é—®æ˜¯é€šè¿‡nginxçš„æ–¹å‘ä»£ç†è®¿é—®çš„ environment: TZ: Asia/Shanghei GITLAB_OMNIBUS_CONFIG: | external _url 'http://192 168.75.129:8080' gitlab_rails[' gitlab_shell_ssh_port']=2222 unicorn[' port']=8888 nginx[' listen_port']=8080 ports: # å·¦è¾¹æ˜¯å®¿ä¸»æœºçš„ç«¯å£, å³è¾¹æ˜¯å®¹å™¨çš„ç«¯å£ - '8080:8080' - '8443:443' - '2222:22' volumes: - /usr/local/docker/gitlab/config:/etc/gitlab - /usr/local/docker/gitlab/data:/var/opt/gitlab - /usr/local/docker/gitlab/logs:/var/log/gitlab é…ç½®å¥½åé€šè¿‡http://192 168.75.129:8080è¿›è¡Œè®¿é—® 2.é…ç½®rootç”¨æˆ·åˆå§‹å¯†ç ","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"},{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"ç¨‹åºè®¾è®¡å‘¨cppå­¦ä¹ ç¬”è®°","slug":"ç¨‹åºè®¾è®¡å‘¨cppå­¦ä¹ ç¬”è®°","date":"2019-03-07T11:56:14.000Z","updated":"2019-09-15T08:07:31.088Z","comments":true,"path":"2019/03/07/ç¨‹åºè®¾è®¡å‘¨cppå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://nymrli.top/2019/03/07/ç¨‹åºè®¾è®¡å‘¨cppå­¦ä¹ ç¬”è®°/","excerpt":"","text":"æ–‡ä»¶åä¼ å‚ 123456789101112131415using namespace std;#define FILENAME \"data.csv\"void readfile(string file)&#123; ifstream inFile; inFile.open(file.c_str(), ios::out); // æ‰“å¼€æ¨¡å¼å¯çœç•¥ string lineStr; while (getline(inFile, lineStr) ) // æ‰“å°æ•´è¡Œå­—ç¬¦ä¸² cout &lt;&lt; lineStr &lt;&lt; '-'&lt;&lt; endl; &#125; int main()&#123; readfile(FILENAME); return 0; &#125; è¾“å…¥Qé€€å‡º 123456789101112131415161718void studentMenu()&#123; string UID; string PWD; int confirmed = false; //åˆ¤æ–­æ˜¯å¦è®¤è¯æˆåŠŸ do&#123; cout &lt;&lt;\"è¯·è¾“å…¥æ™®é€šè´¦å·ID:\" &lt;&lt;endl; cin &gt;&gt; UID; cout &lt;&lt;\"è¯·è¾“å…¥å¯†ç :\" &lt;&lt;endl; cin &gt;&gt; PWD; confirmed = confirmStatus(UID,PWD); if( !confirmed ) cout &lt;&lt; \"è´¦å·æˆ–å¯†ç é”™è¯¯,è¯·å°è¯•.è´¦å·IDè¾“å…¥'Q'é€€å‡º\"; &#125;while( !confirmed &amp;&amp; UID != \"Q\"); if(confirmed) &#123; cout &lt;&lt; \"æˆåŠŸè®¤è¯\"; //è¿›å…¥å­¦ç”Ÿç•Œé¢ &#125;&#125; !!! æ ‡å‡†åº“æ–‡ä»¶æ˜¯åœ¨.hè¿˜æ˜¯.cppä¸­include? ç°æœ‰ä¸¤ä¸ªæ–‡ä»¶Test.h å’ŒTest.cpp#include &lt;iostream&gt;åœ¨Test.hä¸­åŒ…å« å’Œåœ¨Test.cppä¸­åŒ…å«æœ‰ä»€ä¹ˆåŒºåˆ«? 1ã€åœ¨cppæ–‡ä»¶ä¸­åŒ…å«.hæ–‡ä»¶ï¼Œè¦ä¹ˆä½ è¦ç”¨åˆ°è¿™ä¸ªå¤´æ–‡ä»¶ä¸­çš„å‡½æ•°æˆ–è€…ç±»ï¼Œè¦ä¹ˆå°±æ˜¯å®ç°è¿™ä¸ªå¤´æ–‡ä»¶ï¼› 2ã€.h â€”å°±æ˜¯ä¸ºäº†æ”¾ä¸€å †å£°æ˜æ‰€äº§ç”Ÿçš„ä¸œè¥¿ã€‚ å¦‚æœæ˜¯å®šä¹‰æ”¾åœ¨.hä¸­ã€‚ å¦‚æœ.hè¢«é‡å¤åŒ…å«å¤šæ¬¡ï¼Œé‚£ä¹ˆåˆ™ä¼šè¢«æŠ¥é‡å®šä¹‰ã€‚æ‰€ä»¥åœ¨.h ä¸­éƒ½è¦â€”å¦‚æœå‡½æ•°å°±è¦æ˜¯inline ,å¦‚æœæ˜¯å˜é‡å°±è¦ selectany (windows)æ‰ä¸ä¼šè¢«æŠ¥é”™ã€‚ 3ã€#includeå°½é‡å†™åˆ°cppæ–‡ä»¶é‡Œã€‚ä¸¤ä¸ªæ–‡ä»¶åœ¨.hæ–‡ä»¶é‡Œç›¸äº’include,å°±ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œè€Œä¸¤ä¸ªæ–‡ä»¶åœ¨.cæ–‡ä»¶äº’ç›¸includeï¼Œå°±ä¸ä¼šæœ‰è¯¥é—®é¢˜ï¼Œå› æ­¤åœ¨.hæ–‡ä»¶includeå°±è¦é¿å…äº’ç›¸åŒ…å«çš„é—®é¢˜ï¼Œè€Œ.cppæ–‡ä»¶å°±ä¸éœ€è¦è€ƒè™‘ 4ã€1ï¼‰åœ¨ .h é‡Œé¢ include çš„å¥½å¤„æ˜¯ï¼šå¦‚æœå¾ˆå¤š.c,.cppæ–‡ä»¶ï¼Œéƒ½åŒ…å«ä¸€æ‰¹å¤´æ–‡ä»¶,å¦‚æœå¤åˆ¶å¾ˆå®¹æ˜“é—æ¼ï¼Œå¦‚æœè¾“å…¥ï¼Œå¾ˆå®¹æ˜“å‡ºé”™ å¦‚æœå…¨éƒ¨åœ¨ä¸€ä¸ª.h, include é‚£ä¹ˆæ¯ä¸ª.c,.cppæ–‡ä»¶åªéœ€è¦ä¸€ä¸ª#include è¯­å¥è¿™æ ·ä¸ä»…è¾“å…¥é‡å‡å°‘ï¼Œè€Œä¸”ä»£ç ä¹Ÿç¾è§‚å¤šäº†ä»£ç ä¹Ÿä¸»æ¬¡åˆ†æ˜äº†æ¯•ç«Ÿï¼Œ.c.cpp, é‡Œé¢è¦å®ç°çš„å‡½æ•°ï¼Œæ‰æ˜¯ä¸»è¦ä»£ç  2ï¼‰ä¸»è¦ç¼ºé™·ï¼Œ å¯èƒ½ä¼šåŒ…å«å®Œå…¨ä¸éœ€è¦çš„å¤´æ–‡ä»¶ï¼Œ å¢åŠ ç¼–è¯‘å·¥ä½œé‡ 5ã€å¦‚æœä½ åœ¨a.hå¤´æ–‡ä»¶ä¸­includeäº†â€œstdio.hâ€ï¼Œâ€œiostreamâ€ï¼Œâ€¦â€¦ä¸€å¤§å † é‚£ä¹ˆä½ çš„a.cppæºæ–‡ä»¶åªè¦includeä½ çš„a.hï¼Œå°±ç›¸å½“äºincludeäº†â€œstdio.hâ€ï¼Œâ€œiostreamâ€ï¼Œâ€¦â€¦ä¸€å¤§å † ä½†æ˜¯å½“å…¶ä»–æ–‡ä»¶includeä½ çš„a.hçš„åŒæ—¶ä¹Ÿå°±åŒ…å«äº†â€œstdio.hâ€ï¼Œâ€œiostreamâ€ï¼Œâ€¦â€¦ä¸€å¤§å †è¿™ä¸ªè¦çœ‹ä½ ä¸ªäººéœ€è¦ï¼Œå¦‚æœä½ éœ€è¦è®©å…¶ä»–æ–‡ä»¶ä¹Ÿincludeä¸€å¤§å †ï¼Œé‚£ä¹ˆå†™åœ¨a.hä¸­å°±å¯ä»¥ï¼Œå…¶ä»–æ–‡ä»¶åŒ…å«a.cppç®€å•æ•´æ´æ— è„‘å¦‚æœåªæœ‰a.cppéœ€è¦includeä¸€å¤§å †ï¼Œé‚£ä¹ˆè¿˜æ˜¯å»ºè®®åœ¨a.cppä¸­includeä¸€å¤§å † 6ã€å¦‚æœa.cåŒ…å«äº†å¤´æ–‡ä»¶a.hï¼Œa.håŒ…å«äº†å¤´æ–‡ä»¶b.hï¼Œb.cä¹ŸåŒ…å«äº†b.hï¼Œé‚£ä¹ˆå½“b.hå‘ç”Ÿæ”¹å˜æ—¶ï¼Œa.cå’Œb.céƒ½ä¼šé‡æ–°ç¼–è¯‘ä¹Ÿå°±æ˜¯æ‰€æœ‰åŒ…å«äº†b.hçš„éƒ½ä¼šé‡æ–°ç¼–è¯‘ï¼Œæ— è®ºæ˜¯ç›´æ¥åŒ…å«ï¼Œè¿˜æ˜¯é—´æ¥åŒ…å« 7ã€2ç‚¹åŸåˆ™ï¼š ç¬¬ä¸€ä¸ªåŸåˆ™ï¼šå¦‚æœå¯ä»¥ä¸åŒ…å«å¤´æ–‡ä»¶ï¼Œé‚£å°±ä¸è¦åŒ…å«äº†ï¼Œè¿™æ—¶å€™å‰ç½®å£°æ˜å¯ä»¥è§£å†³é—®é¢˜ã€‚å¦‚æœä½¿ç”¨çš„ä»…ä»…æ˜¯ä¸€ä¸ªç±»çš„æŒ‡é’ˆï¼Œæ²¡æœ‰ä½¿ç”¨è¿™ä¸ªç±»çš„å…·ä½“å¯¹è±¡ï¼ˆéæŒ‡é’ˆï¼‰ï¼Œä¹Ÿæ²¡æœ‰è®¿é—®åˆ°ç±»çš„å…·ä½“æˆå‘˜ï¼Œé‚£ä¹ˆå‰ç½®å£°æ˜å°±å¯ä»¥äº†ã€‚å› ä¸ºæŒ‡é’ˆè¿™ä¸€æ•°æ®ç±»å‹çš„å¤§å°æ˜¯ç‰¹å®šçš„ï¼Œç¼–è¯‘å™¨å¯ä»¥è·çŸ¥ï¼ˆC++ç¼–è¯‘å™¨è‡ªä¸Šè€Œä¸‹ç¼–è¯‘æºæ–‡ä»¶çš„æ—¶å€™ï¼Œå¯¹æ¯ä¸€ä¸ªæ•°æ®çš„å®šä¹‰ï¼Œæ€»æ˜¯éœ€è¦çŸ¥é“å®šä¹‰çš„æ•°æ®çš„ç±»å‹çš„å¤§å°ï¼‰ ç¬¬äºŒä¸ªåŸåˆ™ï¼šå°½é‡åœ¨CPPæ–‡ä»¶ä¸­åŒ…å«å¤´æ–‡ä»¶ï¼Œè€Œéåœ¨å¤´æ–‡ä»¶ä¸­ã€‚å‡è®¾ç±»Açš„ä¸€ä¸ªæˆå‘˜æ˜¯æ˜¯ä¸€ä¸ªæŒ‡å‘ç±»Bçš„æŒ‡é’ˆï¼Œåœ¨ç±»Açš„å¤´æ–‡ä»¶ä¸­ä½¿ç”¨äº†ç±» Bçš„å‰ç½®å£°æ˜å¹¶ç¼–è¯‘æˆåŠŸï¼Œé‚£ä¹ˆåœ¨Açš„å®ç°ä¸­æˆ‘ä»¬éœ€è¦è®¿é—®Bçš„å…·ä½“æˆå‘˜ï¼Œå› æ­¤éœ€è¦åŒ…å«å¤´æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥åœ¨ç±»Açš„å®ç°éƒ¨åˆ†ï¼ˆCPPæ–‡ä»¶ï¼‰åŒ…å«ç±»Bçš„å¤´æ–‡ä»¶è€Œéå£°æ˜éƒ¨åˆ†(Hæ–‡ä»¶) æ‘˜è‡ª:https://www.cnblogs.com/fengzhengfly/p/8884581.html C++ æ„é€ å‡½æ•°çš„ä½¿ç”¨ 1234567891011121314151617#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;class CUser&#123; public: string UID; int status; void login(); CUser():UID(\"0\"),status(0)&#123;&#125; CUser(string id,int sts):UID(id),status(sts)&#123;&#125;&#125;;int main()&#123; CUser user(\"hello\",12); cout &lt;&lt; user.UID &lt;&lt; user.status; getchar(); return 0;&#125; stringè½¬int 1234567891011atoi(rstatus.c_str()) //atoi(&quot;04&quot;); ===&gt; 4 å¯ä»¥å¿½ç•¥0---ä½¿ç”¨stringstream:string s = &quot;17&quot;;stringstream ss;ss&lt;&lt;s;int i;ss&gt;&gt;i;cout&lt;&lt;i&lt;&lt;endl; // 17//stringstreamå¯ä»¥åä¸‹ä»»ä½•ç±»å‹ï¼Œæ ¹æ®å®é™…éœ€è¦åå‡ºä¸åŒçš„ç±»å‹ intè½¬string 123456int n = 0;std::stringstream ss;std::string str;ss&lt;&lt;n;ss&gt;&gt;str;//æˆ–è€…cout &lt;&lt; ss.str(); 1itoa(num, str, 10); stringè½¬int 12std::string str = &quot;123&quot;;int n = atoi(str.c_str()); int è½¬string 12345678910è¿™æ˜¯C++11æ–°å¢çš„ï¼Œä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼Œç®€å•æŸ¥äº†ä¸‹ï¼šC++11æ ‡å‡†å¢åŠ äº†å…¨å±€å‡½æ•°std::to_stringï¼Œstring to_string (int val);string to_string (long val);string to_string (long long val);string to_string (unsigned val);string to_string (unsigned long val);string to_string (unsigned long long val);string to_string (float val);string to_string (double val);string to_string (long double val) ä¸€.stringè½¬char * data() c_str() copy(); 1ã€stringè½¬char*ã€‚ 1234561 string str = &quot;hello&quot;;2 const char* p = str.data();//åŠ const æˆ–è€…ç”¨char * p=(char*)str.data();çš„å½¢å¼/* åŒæ—¶æœ‰ä¸€ç‚¹éœ€è¦è¯´æ˜ï¼Œè¿™é‡Œåœ¨devc++ä¸­ç¼–è¯‘éœ€è¦æ·»åŠ constï¼Œå¦åˆ™ä¼šæŠ¥é”™invalid conversion from const char* to char *ï¼Œè¿™é‡Œå¯ä»¥å†å‰é¢åŠ ä¸Šconstæˆ–è€…åœ¨ç­‰å·åé¢ç»™å¼ºåˆ¶è½¬åŒ–æˆchar*çš„ç±»å‹ã€‚ ä¸‹é¢è§£é‡Šä¸‹è¯¥é—®é¢˜ï¼Œconst char*æ˜¯ä¸èƒ½ç›´æ¥èµ‹å€¼åˆ°char*çš„,è¿™æ ·ç¼–è¯‘éƒ½ä¸èƒ½é€šè¿‡,ç†ç”±:å‡å¦‚å¯ä»¥çš„è¯,é‚£ä¹ˆé€šè¿‡char*å°±å¯ä»¥ä¿®æ”¹const charæŒ‡å‘çš„å†…å®¹äº†,è¿™æ˜¯ä¸å…è®¸çš„ã€‚æ‰€ä»¥char*è¦å¦å¤–å¼€è¾Ÿæ–°çš„ç©ºé—´ï¼Œå³ä¸Šé¢çš„å½¢å¼ã€‚ */ 2.c_str()æ–¹æ³•ï¼Œå¦‚ï¼š 121 string str=â€œworldâ€;2 const char *p = str.c_str();//åŒä¸Šï¼Œè¦åŠ constæˆ–è€…ç­‰å·å³è¾¹ç”¨char* 3.copy()æ–¹æ³•ï¼Œå¦‚ï¼š 12341 string str=&quot;hmmm&quot;;2 char p[50];3 str.copy(p, 5, 0);//è¿™é‡Œ5ä»£è¡¨å¤åˆ¶å‡ ä¸ªå­—ç¬¦ï¼Œ0ä»£è¡¨å¤åˆ¶çš„ä½ç½®ï¼Œ4 *(p+5)=â€˜\\0â€™;//æ³¨æ„æ‰‹åŠ¨åŠ ç»“æŸç¬¦ï¼ï¼ï¼ äºŒã€char * è½¬stringã€‚ 1231 string s;2 char *p = &quot;hello&quot;;//ç›´æ¥èµ‹å€¼3 s = p; è¿™é‡Œæœ‰ä¸€ç‚¹è¦è¯´æ˜ï¼Œå½“å£°æ˜äº†stringç±»å‹å˜é‡såï¼Œç”¨printf(&quot;%s&quot;,s);æ˜¯ä¼šå‡ºé”™çš„ï¼Œå› ä¸ºâ€œ%sâ€è¦æ±‚åé¢çš„å¯¹è±¡çš„é¦–åœ°å€ã€‚ä½†æ˜¯stringä¸æ˜¯è¿™æ ·çš„ä¸€ä¸ªç±»å‹ã€‚æ‰€ä»¥è‚¯å®šå‡ºé”™ã€‚ 1234567891011121314151617181920class A&#123;public: void co(); void bo();&#125;;void A::co()&#123; cout &lt;&lt; \"hello\"; A::bo();&#125;void A::bo()&#123; cout &lt;&lt; \"world\";&#125;#include &lt;cstdio&gt;int main()&#123; A a; a.co(); getchar();&#125; 1234567891011121314151617181920int main()&#123; ifstream inFile(&quot;data1.csv&quot;, ios::in); if (inFile.fail())&#123; cout &lt;&lt; &quot;Cannot open file&quot; &lt;&lt; endl; return -1; &#125; vector&lt;string&gt; line; string lineStr; while (getline(inFile, lineStr) )&#123; line.push_back(lineStr); &#125; for(vector&lt;string&gt;::iterator i=line.begin();i!=line.end();i++)&#123; // cout &lt;&lt; strArray.at(i)&lt;&lt;endl; cout &lt;&lt; (*i) &lt;&lt; endl; &#125; getchar(); return 0;&#125; 1234cout &lt;&lt; &quot;è¯·è¾“å…¥ä¹¦çš„æ•°é‡ï¼š&quot; &lt;&lt; endl; do&#123; cin &gt;&gt; tmp.TotalNumber;&#125;while( atoi( tmp.TotalNumber.c_str()) == 0 ) ; //éæ•°å­—æƒ…å†µ æ“ä½œäºŒç»´Vector 123456789101112131415string lineStr;vector&lt;vector&lt;string&gt;&gt; strArray;while (getline(inFile, lineStr) )&#123; stringstream ss(lineStr); string str; vector&lt;string&gt; lineArray;while (getline(ss, str, &apos;,&apos;)) lineArray.push_back(str); strArray.push_back(lineArray);for(vector&lt;vector&lt;string&gt;&gt;::iterator i=strArray.begin();i!=strArray.end();i++)&#123; for(vector&lt;string&gt;::iterator j=(*i).begin();j!=(*i).end();j++)&#123; cout &lt;&lt; &quot;*j &quot; ; &#125; cout &lt;&lt; endl; &#125;&#125; æ”¹å¥½çš„ 12345678910111213141516171819202122232425262728293031323334int main()&#123; ifstream inFile(\"data1.csv\", ios::in); vector&lt;vector&lt;string&gt;&gt; lineVec; if (inFile.fail())&#123; cout &lt;&lt; \"Cannot open file\" &lt;&lt; endl; return -1; &#125; string lineStr; vector&lt;vector&lt;string&gt;&gt; vecArray; vector&lt;string&gt; newvec; while (getline(inFile, lineStr) )&#123; stringstream ss(lineStr); string str; vector&lt;string&gt; lineVec; while (getline(ss, str, ',')) lineVec.push_back(str); vecArray.push_back(lineVec); for(vector&lt;vector&lt;string&gt;&gt;::iterator i=vecArray.begin();i!=vecArray.end();i++)&#123; vector&lt;string&gt;::iterator j=(*i).begin(); if( *j != \"100009/1\" ) &#123;newvec.push_back(lineStr); break; &#125; &#125; &#125; for (std::vector&lt;string&gt;::iterator i = newvec.begin(); i != newvec.end(); ++i) cout &lt;&lt; *i &lt;&lt; endl; system(\"pause\"); return 0;&#125; äºŒç»´Vector 1234567891011121314151617int main(int argc, char const *argv[])&#123; vector&lt;vector&lt;string&gt;&gt; row; vector&lt;string&gt; col1; vector&lt;string&gt; col2; col1.push_back(&quot;Q&quot;); col1.push_back(&quot;W&quot;); col2.push_back(&quot;A&quot;); col2.push_back(&quot;S&quot;); row.push_back(col1); row.push_back(col2); cout &lt;&lt; row.at(0).at(1); getchar(); return 0;&#125; æŸ¥çœ‹vectorä¸­æ˜¯å¦å«æŒ‡å®šçš„string 123456789101112131415161718#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;using namespace std;int main(int argc, char const *argv[])&#123; std::vector&lt;string&gt; v; v.push_back(&quot;hello&quot;); v.push_back(&quot;1ord&quot;); v.push_back(&quot;asd&quot;); if (std::find(v.begin(), v.end(), &quot;he&quot;) != v.end()) &#123; cout &lt;&lt; &quot;yes&quot;; &#125; getchar(); return 0;&#125; å¾ªç¯æ—¶åˆ é™¤æŸä¸ªå…ƒç´ ,ä¸å½±å“å¾ªç¯==&gt;æ¯ä¸ªå…ƒç´ ä»èƒ½è¢«éå† 1234567891011121314int main()&#123; vector&lt;string&gt; v; v.push_back(\"1\"); v.push_back(\"2\"); v.push_back(\"3\"); v.push_back(\"4\"); for (int i = 0; i &lt; v.size(); ++i)&#123; if (v.at(i) == \"2\") v.erase(v.begin()+i); &#125; for (int i = 0; i &lt; v.size(); ++i) cout &lt;&lt; v.at(i) &lt;&lt; endl; system(\"pause\"); return 0;&#125; è·³è¿‡ç´¢å¼•å€¼,åªè¾“å‡ºid 123456789101112131415161718192021int main(int argc, char const *argv[])&#123; ifstream inFile; inFile.open(&quot;data1.csv&quot;); string lineStr; vector&lt;vector&lt;string&gt; &gt; row; vector&lt;string&gt; newvec; while (getline(inFile, lineStr) )&#123; stringstream ss(lineStr); string str; vector&lt;string&gt; col; while (getline(ss, str, &apos;,&apos;)) col.push_back(str); row.push_back(col); &#125; for (int i = 1; i &lt; row.size(); ++i) cout &lt;&lt; row.at(i).at(0) &lt;&lt; endl; system(&quot;pause&quot;); return 0;&#125; é¿å…é”™è¯¯è¾“å…¥ 1while(getchar()!=&apos;\\n&apos;) ; åˆ†å‰²æ—¶é—´ 12345678910111213141516171819202122232425void CData(string &amp;timestr)&#123; stringstream ss(timestr); int year; int mon; int day; string str; getline(ss, str, &apos;/&apos;); year = atoi(str.c_str()); getline(ss, str, &apos;/&apos;); mon = atoi(str.c_str()); getline(ss, str, &apos;/&apos;); day = atoi(str.c_str()); cout &lt;&lt; year &lt;&lt; &quot;,&quot; &lt;&lt; mon &lt;&lt; &quot;,&quot; &lt;&lt; day &lt;&lt; endl;&#125;int main(int argc, char const *argv[])&#123; // string a =&quot;2017/04/02&quot;; // CData(a); stringstream ss; ss &lt;&lt; 1 &lt;&lt; &quot;/&quot; &lt;&lt; 2 &lt;&lt; &quot;/&quot; &lt;&lt; 3; cout &lt;&lt; ss.str(); getchar(); return 0;&#125; 12stringstream ss;ss &lt;&lt; 1 &lt;&lt; &quot;/&quot; &lt;&lt; 2 &lt;&lt; &quot;/&quot; &lt;&lt; 3; vectoræœ€å¤§å€¼ 1int maxn = *max_element(v.begin(),v.end()); æ‰¾åˆ°æœ€å¤§ID 123456789101112vector&lt;string&gt; idcol;string lineStr; while (getline(infile, lineStr) )&#123; //è·å–è¡Œ stringstream ss(lineStr); string bookid; //è®°å½•åˆ—æ•°æ®,å¿…é¡»å†™åœ¨è¿™ä¸ªå¾ªç¯é‡Œ getline(ss, bookid, &apos;,&apos;); idcol.push_back(bookid);&#125; int addid = vecMAX(idcol)+1; stringstream inttostring; inttostring &lt;&lt; addid; tmp.BookID = inttostring.str(); äºŒç»´VECæ’åº 12345678910111213141516171819int main()&#123; std::vector&lt;std::vector&lt;int&gt; &gt; s; vector&lt;int&gt; v1; vector&lt;int&gt; v2; v1.push_back(5); v1.push_back(13); s.push_back(v1); v2.push_back(7); v2.push_back(4); s.push_back(v2); sort(s.begin(), s.end()); for (int i = 0; i &lt; s.size(); ++i)&#123; for (int j = 0; j &lt; v1.size(); ++j) cout &lt;&lt; s.at(i).at(j); cout &lt;&lt; endl; &#125; system(&quot;pause&quot;); return 0;&#125; 123out.open(USERTMPFILE) å¯ä»¥æ‰“å¼€å®å®šä¹‰ios::in + ios::out ä»å¼€å¤´åŠ ios::app ä»ç»“å°¾åŠ  è·å¾—å€¼æœ€å¤§çš„é”® 12345678910111213141516bool cmp(const pair&lt;string, int&gt;&amp; lhs, const pair&lt;string, int&gt;&amp; rhs) &#123; return lhs.second &gt; rhs.second; &#125; int main(int argc, char const *argv[])&#123; map&lt;string,int&gt; a ; a.insert(pair&lt;string, int&gt;(&quot;ssd&quot;, 3)); a[&quot;hello&quot;]=3; a[&quot;world&quot;]=9; a[&quot;cl&quot;]=6; std::vector&lt; pair&lt;string, int&gt; &gt; v(a.begin(), a.end()); sort(v.begin(), v.end(),cmp); cout &lt;&lt; &quot;max&quot; &lt;&lt; v.at(0).first &lt;&lt; endl; getchar(); return 0;&#125;","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"ç¨‹åºè®¾è®¡","slug":"ç¨‹åºè®¾è®¡","permalink":"https://nymrli.top/tags/ç¨‹åºè®¾è®¡/"}]},{"title":"ACM-DFSã€BFS","slug":"ACM-DFSã€BFS","date":"2019-03-07T11:55:03.000Z","updated":"2020-11-05T13:01:51.466Z","comments":true,"path":"2019/03/07/ACM-DFSã€BFS/","link":"","permalink":"https://nymrli.top/2019/03/07/ACM-DFSã€BFS/","excerpt":"","text":"æ·±åº¦ä¼˜å…ˆæœç´¢(DFS) ä»æŸä¸ªçŠ¶æ€,ä¸æ–­è½¬ç§»çŠ¶æ€ç›´åˆ°æ— æ³•è½¬ç§»,ç„¶åå›é€€åˆ°å‰ä¸€æ­¥çš„çŠ¶æ€,ç»§ç»­è½¬ç§»åˆ°å…¶ä»–çŠ¶æ€,å¦‚æ­¤ä¸æ–­é‡å¤,ç›´åˆ°æ‰¾åˆ°æœ€ç»ˆè§£. ====&gt; é€’å½’å‡½æ•° éšå¼çš„ç”¨åˆ°äº†æ ˆ(stack) 123456789101112131415161718192021222324252627//[éƒ¨åˆ†å’Œé—®é¢˜]#include &lt;iostream&gt;#define MAXN 10000int n,k;int s[MAXN];using namespace std;bool dfs(int i,int sum)&#123; if( i == n ) return sum == k;//å¦‚æœå‰né¡¹è®¡ç®—è¿‡äº†ï¼Œè¿”å›sum=kæ˜¯å¦ç›¸ç­‰ if ( dfs(i+1 , sum) ) return true; //ä¸åŠ ä¸Šs[i]çš„æƒ…å†µï¼› if ( dfs(i+1, sum + s[i] )) return true; //åŠ ä¸Šs[i]çš„æƒ…å†µ return false; //æ— è®ºåŠ ä¸åŠ ä¸Šs[i]&#125;void input()&#123; cin &gt;&gt; n; for(int i=0;i&lt;n;i++) cin &gt;&gt; s[i]; cin &gt;&gt; k;&#125;int main()&#123; input(); if (dfs(0,0)) cout &lt;&lt; \"YES\"; else cout &lt;&lt;\"NO\"; return 0;&#125; laking countiing 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758//[laking countiing]#include &lt;iostream&gt;#include &lt;cstdio&gt;#define MAXN 10000using namespace std;int N,M;char field[MAXN][MAXN]=&#123;&#123;\"W........WW.\"&#125;,&#123;\".WWW.....WWW\"&#125;,&#123;\"....WW...WW.\"&#125;,&#123;\".........WW.\"&#125;,&#123;\".........W..\"&#125;,&#123;\"..W.......W.\"&#125;,&#123;\".W.W.....WW.\"&#125;,&#123;\"W.W.W.....W.\"&#125;,&#123;\".W.W......W.\"&#125;,&#123;\"..W.......W.\"&#125;&#125;;void dfs(int x,int y)&#123; field[x][y] = '.'; //å¾ªç¯éå†ç§»åŠ¨çš„8ä¸ªæ–¹å‘,æ£€æµ‹å…«è¿é€šä½ç½® for(int dx=-1;dx&lt;=1;dx++) for(int dy=-1;dy&lt;=1;dy++)&#123; int nx=x+dx; //ç§»åŠ¨åçš„ç»“æœä¸º(nx,ny) int ny=y+dy; if( (0 &lt;= nx &amp;&amp; nx&lt; N) &amp;&amp; (0 &lt;= ny &amp;&amp; ny &lt; M) &amp;&amp; field[nx][ny]=='W') dfs(nx,ny); //æ­¤å¤„ä¸ºåšé¢˜çš„å…³é”® : ä¸æ–­ &#125; return ;&#125;void solve()&#123; int res = 0; //æ°´å‘æ•°é‡ for(int i=0;i&lt;N;i++) for(int j=0;j&lt;M;j++)&#123; if(field[i][j] == 'W')&#123; dfs(i,j); res++; &#125; &#125; printf(\"%d\\n\",res);&#125;void printLake()&#123; N=10;M=12; for(int i=0;i&lt;N;i++)&#123; for(int j=0;j&lt;M;j++) cout &lt;&lt; field[i][j] ; cout &lt;&lt; endl; &#125;&#125;int main()&#123; N=10; M=12; solve(); return 0;&#125; å®½åº¦ä¼˜å…ˆæœç´¢(BFS) æ€»æ˜¯ä¼˜å…ˆæœç´¢è·ç¦»åˆå§‹çŠ¶æ€æœ€è¿‘çš„çŠ¶æ€,å¤æ‚åº¦ = O(çŠ¶æ€ä¹¦ * è½¬ç§»çš„æ–¹å¼) æ˜¾å¼åˆ©ç”¨é˜Ÿåˆ—(queue),æœç´¢æ—¶é¦–å…ˆå°†åˆå§‹çŠ¶æ€æ·»åŠ åˆ°é˜Ÿåˆ—é‡Œ,æ­¤åä»é˜Ÿåˆ—çš„æœ€å‰ç«¯ä¸æ–­å–å‡ºçŠ¶æ€,å§ä»è¯¥çŠ¶æ€å¯ä»¥è½¬ç§»åˆ°çš„çŠ¶æ€ä¸­å°šæœªè®¿é—®è¿‡çš„éƒ¨åˆ†åŠ å…¥é˜Ÿåˆ—,å¦‚æ­¤å¾€è¿”,ç›´è‡³é˜Ÿåˆ—è¢«å–ç©ºæˆ–æ˜¯æ‰¾åˆ°äº†é—®é¢˜çš„è§£ å¹¿åº¦ä¼˜å…ˆæœç´¢æ€æƒ³ è®¾å›¾Gçš„åˆæ€æ˜¯æ‰€æœ‰é¡¶ç‚¹å‡æœªè®¿é—®ï¼Œåœ¨G ä¸­ä»»é€‰ä¸€é¡¶ç‚¹iä½œä¸ºåˆå§‹ç‚¹ï¼Œåˆ™å¹¿åº¦ä¼˜å…ˆæœç´¢çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š ï¼ˆ1ï¼‰ä»å›¾ä¸­çš„æŸä¸ªé¡¶ç‚¹Vå‡ºå‘ï¼Œè®¿é—®ä¹‹ï¼›å¹¶å°†å…¶è®¿é—®æ ‡å¿—ç½®ä¸ºå·²è¢«è®¿é—®ï¼Œå³visited[i]=1ï¼› ï¼ˆ2ï¼‰ä¾æ¬¡è®¿é—®é¡¶ç‚¹Vçš„å„ä¸ªæœªè¢«è®¿é—®è¿‡çš„é‚»æ¥ ç‚¹ï¼Œå°†Vçš„å…¨éƒ¨é‚»æ¥ç‚¹éƒ½è®¿é—®åˆ°ï¼› ï¼ˆ3ï¼‰åˆ†åˆ«ä»è¿™äº›é‚»æ¥ç‚¹å‡ºå‘ï¼Œä¾æ¬¡è®¿é—®å®ƒä»¬çš„æœªè¢«è®¿é—®è¿‡çš„é‚»æ¥ç‚¹ï¼Œå¹¶ä½¿â€œå…ˆè¢«è®¿é—®çš„é¡¶ç‚¹çš„é‚»æ¥ç‚¹â€å…ˆäºâ€œåè¢«è®¿é—®çš„é¡¶ç‚¹çš„é‚»æ¥ ç‚¹â€è¢«è®¿é—®ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰å·²è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹çš„é‚»æ¥ç‚¹éƒ½è¢«è®¿é—®åˆ°ã€‚ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹éƒ½è¢«è®¿é—®å®Œä¸ºæ­¢ ã€‚ å¹¿åº¦ä¼˜å…ˆæœç´¢åœ¨æœç´¢è®¿é—®ä¸€å±‚æ—¶ï¼Œéœ€è¦è®°ä½å·²è¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œä»¥ä¾¿åœ¨è®¿é—®ä¸‹å±‚é¡¶ç‚¹æ—¶ï¼Œä»å·²è¢«è®¿é—®çš„é¡¶ç‚¹å‡ºå‘æœç´¢è®¿é—®å…¶é‚»æ¥ç‚¹ã€‚æ‰€ä»¥åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢ä¸­éœ€è¦è®¾ç½®ä¸€ä¸ªé˜Ÿåˆ—Queueï¼Œä½¿å·²è¢«è®¿é—®çš„é¡¶ç‚¹é¡ºåºç”±é˜Ÿå°¾è¿›å…¥é˜Ÿåˆ—ã€‚åœ¨æœç´¢è®¿é—®ä¸‹å±‚é¡¶ç‚¹æ—¶ï¼Œå…ˆä»é˜Ÿé¦–å–å‡ºä¸€ä¸ªå·²è¢«è®¿é—®çš„ä¸Šå±‚é¡¶ç‚¹ï¼Œå†ä»è¯¥é¡¶ç‚¹å‡ºå‘æœç´¢è®¿é—®å®ƒçš„å„ä¸ªé‚»æ¥ç‚¹ã€‚ 1234567891011W........WW..WWW.....WWW....WW...WW..........WW..........W...........WW...W.......W..W.W.....WW.W.W.W.....W..W.W......W...W.......W. 1234567891011&#123;W........WW.&#125;&#123;.WWW.....WWW&#125;&#123;....WW...WW.&#125;&#123;.........WW.&#125;&#123;.........W..&#125;&#123;.........WW.&#125;&#123;..W.......W.&#125;&#123;.W.W.....WW.&#125;&#123;W.W.W.....W.&#125;&#123;.W.W......W.&#125;&#123;..W.......W.&#125; 2019è“æ¡¥æ¯çœèµ›â€“maze 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#include &lt;bits/stdc++.h&gt;#include &lt;string&gt;#include &lt;queue&gt;/*010010001000000101110000è®¿é—®æ¬¡æ•°:9è®¿é—®æ¬¡åº:DRDRDRRR*/using namespace std;typedef pair&lt;int ,int&gt; State;const int maxn = 1000;const int row = 4;const int col = 6;//const int INF = 10000000;char maze[row+1][col+1];int visited[row+1][col+1]; //æ˜¯å¦è®¿é—®è¿‡ï¼Œè®°å½•æ¬¡æ•°string trace[row+1][col+1]; //è®°å½•æ¯æ¬¡ç§»åŠ¨çš„æ–¹å‘int X[] = &#123;-1,0,1,0&#125;; // è¿™è¾¹å¯èƒ½å®šä¹‰é”™äº†ï¼Œè¿™ä¸ªå¯¹åº”çš„æ˜¯è¡Œint Y[] = &#123;0,1,0,-1&#125;; // è¿™ä¸ªå¯¹åº”çš„æ˜¯åˆ—ï¼Œè€Œä¸æ˜¯X,Ystring sarr[] = &#123;\"U\",\"R\",\"D\",\"L\"&#125;;int x=1;int y=1;void bfs()&#123; queue&lt;State&gt; q; // èµ·ç‚¹ q.push(State(x,y)); while( !q.empty() )&#123; // å–çŠ¶æ€ State s = q.front(); q.pop(); if( x == row &amp;&amp; y == col ) break; // åˆ°è¾¾ç»ˆç‚¹ // ä¸€ä¸ªæ•°ç»„è®°å½•å››ä¸ªæ–¹å‘ for( int i = 0 ; i &lt; 4; i++)&#123; int nx = s.first + X[i]; int ny = s.second + Y[i]; if( nx &gt;= 1 &amp;&amp; nx &lt;= row &amp;&amp; ny &gt;= 1 &amp;&amp; ny &lt;= col &amp;&amp; maze[nx][ny] != '1'&amp;&amp; visited[nx][ny] == 0 ) &#123; //cout &lt;&lt; nx &lt;&lt; ny &lt;&lt; endl; visited[nx][ny] = 1; //cout &lt;&lt; maze[nx][ny] &lt;&lt; sarr[i] &lt;&lt; endl; //cout &lt;&lt; endl; visited[nx][ny] = visited[s.first][s.second] +1; trace[nx][ny] = trace[s.first][s.second] + sarr[i]; q.push(State(nx,ny)); &#125; &#125; &#125; cout &lt;&lt;\"times:\"&lt;&lt; visited[row][col] &lt;&lt;endl; cout &lt;&lt;\"order:\"&lt;&lt; trace[row][col] &lt;&lt;endl;&#125;int main()&#123; // åˆå§‹åŒ– for(int i=1 ; i &lt;= row ; i++) for(int j= 1; j &lt;= col ; j++) visited[i][j] = 0; // èµ·ç‚¹ä¸º(1,1) visited[1][1] = 1; //å¤„ç†è¾“å…¥ for(int i=1 ; i &lt;= row ; i++)&#123; for(int j= 1; j &lt;= col ; j++) scanf(\"%c\",&amp;maze[i][j]); getchar(); &#125; bfs(); return 0;&#125;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"}]},{"title":"ACM-å¿«é€Ÿå¹‚","slug":"ACM-å¿«é€Ÿå¹‚","date":"2019-03-07T11:54:05.000Z","updated":"2019-09-15T08:07:30.915Z","comments":true,"path":"2019/03/07/ACM-å¿«é€Ÿå¹‚/","link":"","permalink":"https://nymrli.top/2019/03/07/ACM-å¿«é€Ÿå¹‚/","excerpt":"","text":"ç®€å•ä½è¿ç®—å¿«é€Ÿå¹‚ å‡è®¾æˆ‘ä»¬è¦æ±‚abï¼Œé‚£ä¹ˆå…¶å®bæ˜¯å¯ä»¥æ‹†æˆäºŒè¿›åˆ¶çš„ï¼Œè¯¥äºŒè¿›åˆ¶æ•°ç¬¬iä½çš„æƒä¸º2(i-1)ï¼Œä¾‹å¦‚å½“b==11æ—¶ï¼Œa11=a(20+21+2^3) 123456789int poww(int a,int b)&#123; int ans=1,base=a; while(b!)&#123; if(b&amp;1) ans*=base; base*=base; b&gt;&gt;=1; &#125; return ans;&#125; 11çš„äºŒè¿›åˆ¶æ˜¯``1011ï¼Œ11 = 2Â³Ã—1 + 2Â²Ã—0 + 2Â¹Ã—1 + 2ÂºÃ—1ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°†aÂ¹Â¹è½¬åŒ–ä¸ºç®—a^(2^0)*a^(2^1)*a^(2^3) å…¶ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€æ­¥:base*=base,å³åŸºåº•ä¸æ–­å¢åŠ ,å¦‚æœäºŒè¿›åˆ¶æ˜¯1åˆ™*ä¸ŠåŸºåº•å¦åˆ™ä¸,ansä¸ºæ‰€æœ‰åŸºåº•ç›¸ä¹˜ 1234567base*base==base^2ä¸‹ä¸€æ­¥å†ä¹˜ï¼Œå°±æ˜¯base^2*base^2==base^4ç„¶ååŒç† base^4 * base4 = base^8 see?æ˜¯ä¸æ˜¯åšåˆ°äº†base--&gt;base^2--&gt;base^4--&gt;base^8--&gt;base^16--&gt;base^32.......æŒ‡æ•°æ­£æ˜¯ 2^i ï¼Œå†çœ‹ä¸Šé¢çš„ä¾‹å­ï¼ŒaÂ¹Â¹ = a^(2^0) * a^(2^1) * a^(2^3)ï¼Œè¿™ä¸‰é¡¹æ˜¯ä¸æ˜¯å®Œç¾è§£å†³äº†ï¼Œï¼Œå—¯ï¼Œå¿«é€Ÿå¹‚å°±æ˜¯è¿™æ ·ã€‚ â–².ç”±äºæŒ‡æ•°å‡½æ•°æ˜¯çˆ†ç‚¸å¢é•¿çš„å‡½æ•°ï¼Œæ‰€ä»¥å¾ˆæœ‰å¯èƒ½ä¼šçˆ†æ‰intçš„èŒƒå›´ï¼Œæ ¹æ®é¢˜æ„å†³å®šæ˜¯ç”¨ long longå•Šè¿˜æ˜¯unsigned intå•Šè¿˜æ˜¯modæŸä¸ªæ•°å•Šè‡ªå·±çœ‹ç€åŠã€‚ 12345678910typedef long long ll;ll mod_pow(ll base,ll n,ll mod)&#123; ll res=1; while(n&gt;0)&#123; if( n &amp; 1 ) res = res*base%mod; base = base*base%mod; n&gt;&gt;= 1; &#125; return res;&#125;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"}]},{"title":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬ä¸‰æ¬¡ä½œä¸š","slug":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬ä¸‰æ¬¡ä½œä¸š","date":"2019-03-07T11:12:47.000Z","updated":"2019-09-15T08:07:31.033Z","comments":true,"path":"2019/03/07/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬ä¸‰æ¬¡ä½œä¸š/","link":"","permalink":"https://nymrli.top/2019/03/07/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬ä¸‰æ¬¡ä½œä¸š/","excerpt":"","text":"é€‰æ‹©é¢˜å¾—åˆ†ï¼š60 \\1. è®¾æœ‰å¦‚ä¸‹å®šä¹‰è¯­å¥ï¼š String s1=â€My catâ€; int m=s1.compareTo(â€œMy a catâ€); è¯­å¥è¢«æ‰§è¡Œåmçš„å€¼ä¸ºï¼ˆ ï¼‰ A.2 B.1 C.0 D.-2 æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\2. è¯­å¥ String s1=new String(â€œHelloâ€); String s2=new String(â€œHelloâ€); System.out.println(s1==s2); System.out.printlv(s1.equals(s2)); æ‰§è¡Œåçš„è¾“å‡ºç»“æœæ˜¯ï¼ˆ ï¼‰ A.Hello false B.Hello true C.Hello Hello D.false true æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\3. æ‰§è¡Œä¸‹åˆ—è¯­å¥ int[] lx={2,3,4,5}; lx[3]=lx[3]==â€“lx[0]?++lx[1]:lx[2]â€“; åï¼Œæ•°ç»„lxçš„å…ƒç´ å€¼åˆ†åˆ«ä¸ºï¼ˆ ï¼‰ A.1,2,3,4 B.1,3,3,3 C.1,2,3,3 D.1,3,3,4 æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\4. åœ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­å®šä¹‰äº†æ•°ç»„aï¼šint[] a={1,2,3,4,5,6,7,8,9,10}ï¼Œä¸ºäº†æ‰“å°è¾“å‡ºæ•°ç»„açš„æœ€åä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œä¸‹é¢æ­£ç¡®çš„ä»£ç æ˜¯ï¼ˆ ï¼‰ A.System.out.println(a[10]); B.System.out.println(a[9]); C.System.out.println(a[8]); D.System.out.println(a[a.length]); æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\5. è®¾æœ‰å®šä¹‰è¯­å¥int a[]={36,72,99};åˆ™ä»¥ä¸‹å¯¹æ­¤è¯­å¥å™è¿°é”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰ A.è¯¥è¯­å¥å®šä¹‰äº†ä¸€ä¸ªåä¸ºaçš„ä¸€ç»´æ•°ç»„ï¼› B.aæ•°ç»„æœ‰3ä¸ªå…ƒç´ ï¼› C.æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯æ•´å‹ï¼› D.aæ•°ç»„çš„å…ƒç´ çš„ä¸‹æ ‡ä¸º1~3ï¼› æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\6. ä¸‹é¢å…³äºæ•°ç»„å®šä¹‰è¯­å¥ä¸æ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ A.float f[]=new{2.4f,3.5f,5.7f,7.9f}; B.int a[]={1,2,3,4,5} C.double[]d=new double[10]; D.int[]a2; æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\7. ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåï¼Œcçš„å€¼æ˜¯ï¼ˆ ï¼‰ int a=3,b=4,c=0; while ((a++)&lt;(â€“b))++c; A.0 B.1 C.2 D.3 æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\8. ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåï¼Œaçš„å€¼æ˜¯ï¼ˆ ï¼‰ int a=1; for(int i=5;i&gt;0;i-=2) a*=i; A.0 B.1 C.15 D.60 æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\9. ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåï¼Œcçš„å€¼æ˜¯ï¼ˆ ï¼‰ int a=10,b=18,c=30; switch(b-a){ case 8 : c++; case 9 : c+=2; case 10 : c+=3; default :c/=b; } A.31 B.32 C.2 D.33 æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\10. è®¾aã€bä¸ºintå‹å˜é‡ï¼Œcã€dä¸ºfloadç±»å‹å˜é‡ï¼Œchä¸ºcharç±»å‹å˜é‡ï¼Œä¸”æ‰€æœ‰å˜é‡å‡å·²èµ‹å€¼ï¼Œåˆ™ä¸‹åˆ—æ­£ç¡®çš„switchè¯­å¥æ˜¯ï¼ˆ ï¼‰ A.switch(a+b);{â€¦} B.switch(ch+1){â€¦} C.switch ch {â€¦} D.switch(c+d){â€¦} æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\11. ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåï¼Œcçš„å€¼æ˜¯ï¼ˆ ï¼‰ int a=4,b=5,c=9,d=6; if (a&gt;b||c&lt;d) câ€“; else c++; A.6 B.10 C.8 D.9 æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\12. ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåï¼Œcçš„å€¼æ˜¯ï¼ˆ ï¼‰ int a=6,b=3,c=5; if (a==b) c+=a;else c=++a*c; A.15 B.25 C.35 D.45 æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\13. ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåï¼Œcå˜é‡çš„å€¼ä¸ºï¼ˆ ï¼‰ int a=2,b=4,c=5; if (a&lt;â€“b) c*=a; A.5 B.20 C.15 D.10 æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\14. ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåï¼Œch1å˜é‡ä¸­çš„å€¼ä¸ºï¼ˆ ï¼‰ char ch1=â€™Aâ€™,ch2=â€™Bâ€™; if (ch1+2&lt;ch2)++ch1; A.â€˜Aâ€™ B.â€˜Bâ€™ C.A D.B æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\15. ä»¥ä¸‹é€‰é¡¹ä¸­ï¼Œåˆæ³•çš„èµ‹å€¼è¯­å¥æ˜¯ï¼ˆ ï¼‰ A.++m!=nâ€“; B.++m; C.m=m+1=5; D.m==1; æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\16. è®¾æœ‰å®šä¹‰â€œint a=22;long b=56;â€ï¼Œä¸‹é¢èµ‹å€¼ä¸æ­£ç¡®çš„è¯­å¥æ˜¯ï¼ˆ ï¼‰ A.a=b; B.b=(long)a; C.a=(int)b; D.b=a; æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\17. ä¸‹é¢é€‰é¡¹ä¸­ï¼Œï¼ˆ ï¼‰æ˜¯æ­£ç¡®çš„è¾“å‡ºç»“æœ int m=2,n=1; m+=m-=n; System.out.println(â€œm=â€+m); A.m=1 B.m=2 C.m=3 D.m=4 æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\18. ä¸‹åˆ—è¯­å¥åºåˆ—æ‰§è¡Œåçš„ç»“æœä¸ºï¼ˆ ï¼‰ int a=10,b=4,c=20,d=6; System.out.println(a++b+câ€“d); A.144 B.140 C.28 D.ä¸èƒ½æ‰§è¡Œ æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\19. å‡è®¾ä»¥ä¸‹é€‰é¡¹ä¸­çš„å˜é‡éƒ½å·²ç»æ­£ç¡®å®šä¹‰ï¼Œåˆ™ä¸åˆæ³•çš„è¡¨è¾¾å¼æ˜¯ï¼ˆ ï¼‰ A.a&gt;4==6&lt;1; B.â€™nâ€™-3; C.â€™aâ€™=8; D.â€™Aâ€™%6 æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\20. å‡è®¾aä¸ºå·²ç»å£°æ˜å¹¶ä»¥èµ‹åˆå€¼çš„intç±»å‹å˜é‡ï¼Œåˆ™å¯¹äºaçš„èµ‹å€¼è¯­å¥æ­£ç¡®çš„æ˜¯ï¼ˆ ï¼‰ A.int a=6; B.a==3; C.a=3.2f; D.a+=a*3; æ­£ç¡®ç­”æ¡ˆæ˜¯: D ç¼–ç¨‹é¢˜å¾—åˆ†ï¼š40 1.æ‰“å°æ¯æœˆæœ‰å‡ å¤© å¾—åˆ†ï¼š10 / 10 1234567891011121314151617181920212223242526272829import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ7æ—¥ */public class Main &#123; public static boolean isYeap(int year) &#123; if ( year%4==0 &amp;&amp; year%100 != 0 ) return true; if (year%400 == 0) return true; return false; &#125; public static void main(String []args) &#123; Scanner s = new Scanner(System.in); int a = s.nextInt(); int b = s.nextInt(); int yeap[] = &#123;31,29,31,30,31,30,31,31,30,31,30,31&#125;; int noyeap[] = &#123;31,28,31,30,31,30,31,31,30,31,30,31&#125;; if ( isYeap(a) ) System.out.println(\"\"+a+\"-\"+b+\"-\"+yeap[b-1]+\"\"); else System.out.println(\"\"+a+\"-\"+b+\"-\"+noyeap[b-1]+\"\"); &#125;&#125; 4-3-2 ç™¾åˆ†åˆ¶æˆç»©è½¬æ¢ç­‰çº§åˆ¶æˆç»© å¾—åˆ†ï¼š10 / 10 1234567891011121314151617181920212223242526272829303132333435import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ7æ—¥ */public class Main &#123;public static void main(String []args) &#123; Scanner s = new Scanner(System.in); int a = s.nextInt(); if ( a&lt;0 || a &gt; 100) System.out.printf(\"Error input\\n\"); else &#123; int REa = a/10; switch (REa) &#123; case 6: System.out.printf(\"%d -- %c\\n\",a,'D'); break; case 7: System.out.printf(\"%d -- %c\\n\",a,'C'); break; case 8: System.out.printf(\"%d -- %c\\n\",a,'B'); break; case 9: case 10: System.out.printf(\"%d -- %c\\n\",a,'A'); break; default: System.out.printf(\"%d -- %c\\n\",a,'E'); &#125; &#125; &#125; &#125; ç”¨ifè¯­å¥æ±‚è§£åˆ†æ®µå‡½æ•° å¾—åˆ†ï¼š10 / 10 1234567891011121314151617181920import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ7æ—¥ */public class Main &#123;public static void main(String []args) &#123; Scanner s = new Scanner(System.in); double a = s.nextDouble(); double b=0; if (a&lt;20) b=a+100; else if ( a&gt;100 ) b=a-100; else b=a; System.out.printf(\"x=%.2f,y=%.2f\\n\",a,b); &#125; &#125; 2-2 æ··åˆç±»å‹æ•°æ®æ ¼å¼åŒ–è¾“å…¥ å¾—åˆ†ï¼š10 / 10 12345678910111213141516171819import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ7æ—¥ */public class Main &#123;public static void main(String []args)throws IOException &#123; Scanner s = new Scanner(System.in); double d1 = s.nextDouble(); int i = s.nextInt(); String ss = s.next(); char ch = ss.charAt( 0 ); double d2 = s.nextDouble(); System.out.printf(\"%c %d %.2f %.2f\",ch,i,d1,d2); &#125; &#125; 3-4-1a è®¡ç®—ä¸‰ä½æ•°çš„ä½æ•°å’Œ å¾—åˆ†ï¼š10 / 10 12345678910111213141516171819202122import java.util.Scanner;import java.io.*;/** * @author Mr.li * @Date 2019å¹´3æœˆ7æ—¥ */public class Main &#123;public static void main(String []args)throws IOException &#123; Scanner s = new Scanner(System.in); int n = s.nextInt(); int sum = 0; if ( n &lt; 0) n = -n; // ä¿è¯ç»å¯¹å€¼ while(n!=0) &#123; int left = n%10; sum += left; n/= 10; &#125; System.out.printf(\"%d\\n\",sum); &#125; &#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"Linuxä¸‹å¼€æœºå¯åŠ¨Pythonè„šæœ¬","slug":"Linuxä¸‹å¼€æœºå¯åŠ¨Pythonè„šæœ¬","date":"2019-03-03T11:48:46.000Z","updated":"2021-10-22T07:04:58.682Z","comments":true,"path":"2019/03/03/Linuxä¸‹å¼€æœºå¯åŠ¨Pythonè„šæœ¬/","link":"","permalink":"https://nymrli.top/2019/03/03/Linuxä¸‹å¼€æœºå¯åŠ¨Pythonè„šæœ¬/","excerpt":"","text":"/etc/rc.local å°†è„šæœ¬å†™åœ¨/etc/rc.localæ–‡ä»¶ è¾“å…¥å‘½ä»¤ï¼šsudo vi /etc/rc.local åœ¨exit 0ä¸Šä¸€è¡Œè¾“å…¥ï¼špython /usr/bin/python /home/pi/test.py é‡å¯å°±å¯ä»¥çœ‹æ•ˆæœsudo reboot å½“ç„¶ï¼Œrc.local æ–‡ä»¶éœ€è¦æœ‰æ‰§è¡Œæƒé™ï¼ˆé»˜è®¤æ²¡æœ‰ï¼‰ $ sudo chmod +x /etc/rc.local å¯¹äºå‘½ä»¤ï¼Œæœ€å¥½æ˜¯å…ˆwhich pythonæŸ¥å‡ºå‘½ä»¤è·¯å¾„ï¼Œå†™å‘½ä»¤æ—¶å†™ç»å¯¹è·¯å¾„ /etc/init.d å†™ä¸€ä¸ªæœåŠ¡æ”¾åˆ°linuxçš„/etc/init.dç›®å½•ä¸­ å¹¶ä¸”æˆæƒbashè„šæœ¬chmod 755 /etc/init.d/mypython 1234567891011121314151617181920212223242526272829303132333435363738394041#!/bin/bash# chkconfig: 2345 66 36# /etc/rc.d/init.d/opt/python# description: spython#case \"$1\" in start) echo -n \"Starting python: \" echo \"---------------------------------------------------------------------------------\" &gt;&gt;/var/log/python date +\"! %T %a %D : Starting python .\" &gt;&gt;/var/log/python echo \"---------------------------------------------------------------------------------\" &gt;&gt;/var/log/python echo start cd /root/finmonAgent/bin ./finmonAgent.py &amp; #sh /root/finmonAgent/startpy echo \"Done.\" echo \"\" echo \"---------------------------------------------------------------------------------\" &gt;&gt;/var/log/python date +\"! %T %a %D : Finished.\" &gt;&gt;/var/log/python echo \"---------------------------------------------------------------------------------\" &gt;&gt;/var/log/python touch /var/lock/subsys/python ;; stop) echo -n \"Shutting Down python Listeners: \" echo \"---------------------------------------------------------------------------------\" &gt;&gt;/var/log/python date +\"! %T %a %D : Shutting Down python.\" &gt;&gt;/var/log/python echo \"---------------------------------------------------------------------------------\" &gt;&gt;/var/log/python echo \"python\" killall -9 finmonAgent.py echo \"Done.\" rm -f /var/lock/subsys/python echo \"Done.\" echo \"---------------------------------------------------------------------------------\" &gt;&gt;/var/log/python date +\"! %T %a %D : Finished.\" &gt;&gt;/var/log/python echo \"---------------------------------------------------------------------------------\" &gt;&gt;/var/log/python ;; *) echo \"Usage: python &#123; start | stop | restart &#125;\" exit 1esacexit 0 /ect/profile /ect/profile æ–‡ä»¶æ˜¯ç³»ç»Ÿé»˜è®¤çš„ä¸»å¯åŠ¨æ–‡ä»¶ï¼Œç³»ç»Ÿä¸Šæ¯ä¸ªç”¨æˆ·ç™»å½•æ—¶éƒ½ä¼šæ‰§è¡Œï¼› linux é…ç½®æ–‡ä»¶ï¼ˆå¯åŠ¨æ–‡ä»¶ã€ç¯å¢ƒæ–‡ä»¶ï¼‰å¯åŠ¨é¡ºåº 1ã€ç™»å½•shell ç™»å½•shellæ—¶ï¼Œlinuxä¼šæŒ‰ä¸€å®šè§„åˆ™è¯»å–å¯åŠ¨å‡ ä¸ªé…ç½®æ–‡ä»¶ï¼š /ect/profile $HOME/.bash_profile $HOME/.bashrc $HOME/.bash_login $HOME/.profile å…¶ä¸­ /ect/profile æ–‡ä»¶æ˜¯ç³»ç»Ÿé»˜è®¤çš„ä¸»å¯åŠ¨æ–‡ä»¶ï¼Œç³»ç»Ÿä¸Šæ¯ä¸ªç”¨æˆ·ç™»å½•æ—¶éƒ½ä¼šæ‰§è¡Œï¼› aã€å‘½ä»¤è¡Œç™»å½•å’Œsshç™»å½•ï¼Œshellä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºï¼Œè¿è¡Œç¬¬ä¸€ä¸ªè¢«æ‰¾åˆ°çš„æ–‡ä»¶ï¼Œä½™ä¸‹çš„ä¼šè¢«å¿½ç•¥ï¼š $HOME/.bash_profile $HOME/.bash_login $HOME/.profile ä¸Šé¢æ²¡æœ‰ $HOME/.bashrc ï¼Œå› ä¸ºè¯¥æ–‡ä»¶ä¸€èˆ¬é€šè¿‡å…¶ä»–æ–‡ä»¶è¿è¡Œã€‚ bã€å›¾å½¢ç•Œé¢ç™»å½•ï¼ŒåªåŠ è½½ /ect/profileå’Œ$HOME/.profileï¼Œå…¶ä»–çš„ä¼šè¢«å¿½ç•¥ã€‚ å¯¹äº no-login shellï¼Œå³å›¾å½¢ç•Œé¢æ‰“å¼€çš„shellï¼Œåªä¼šè¯»å…¥ $HOME/.bashrc æ–‡ä»¶ï¼Œä¸ä¼šæ£€æŸ¥ /etc/.profile ç­‰å…¶ä»–ç™»å½•shellæ–‡ä»¶ã€‚ 2ã€äº¤äº’å¼shell ä¸æ˜¯ç™»å½•ç³»ç»Ÿæ—¶å¯åŠ¨ï¼Œæä¾›å‘½ä»¤è¡Œæç¤ºç¬¦æ¥è¾“å…¥å‘½ä»¤ã€‚ï¼ˆä¸ä¼šè®¿é—® /etc/profile æ–‡ä»¶ï¼Œä¼šæ£€æŸ¥ $HOME/.bashrc æ–‡ä»¶ï¼‰ 3ã€éäº¤äº’å¼shell ç³»ç»Ÿæ‰§è¡Œè„šæœ¬æ—¶æ‰€ç”¨ï¼Œæ²¡æœ‰å‘½ä»¤è¡Œæç¤ºç¬¦ã€‚ 1. linuxå°†æŒ‡ä»¤åŠ å…¥ç¯å¢ƒå˜é‡ åœ¨profileä¸­æ·»åŠ PATHï¼Œè¿™ç§æ–¹æ³•å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯æ°¸ä¹…ç”Ÿæ•ˆã€‚ æ‰“å¼€profileæ–‡ä»¶ 1vim /etc/profile åœ¨profileæ–‡ä»¶çš„PATHä¸­æ·»åŠ mongoæŒ‡ä»¤ã€‚åœ¨PATHåé¢æ·»åŠ â€œ:/usr/local/webserver/mongo/binâ€ï¼Œï¼ ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ä»»ä½•ç©ºæ ¼ã€‚ 1PATH=``$PATH``:/usr/local/webserver/mongo/bin æ‰§è¡ŒæŒ‡ä»¤ï¼Œä½¿profileä¿®æ”¹ç«‹å³ç”Ÿæ•ˆã€‚ 1source profile åœ¨å½“å‰profileä¸­æ·»åŠ PATHï¼Œè¿™ç§æ–¹æ³•å¯¹å½“å‰ç”¨æˆ·æ°¸ä¹…ç”Ÿæ•ˆã€‚ä¸ç¬¬äºŒæ­¥ç±»ä¼¼ï¼Œå°†profileæ›¿æ¢ä¸ºbash_profileã€‚ 1$ vim ~/.bash_profile 1PATH=``$PATH``:/usr/local/webserver/mongo/bin 1$ source ~/.bash_profile 2. linuxå°†æŒ‡ä»¤åŠ å…¥å¼€æœºå¯åŠ¨ åœ¨/etc/rc.localä¸­æ·»åŠ æŒ‡ä»¤å³å¯ï¼Œåœ¨å¼€æœºæ‰§è¡Œé¡ºåºä¸­/etc/rc.localä¼˜å…ˆäº/etc/profileï¼Œrc.localå¼€æœºå°±ä¼šè¿è¡Œï¼Œ/etc/profileè¢«ç§°ä¸ºç™»å½•è„šæœ¬ï¼Œå†…å«è®¸å¤šçš„å…¨å±€å˜é‡ï¼Œä¸ºç”¨æˆ·ç™»å½•æ‰€ä½¿ç”¨ 1/usr/local/webserver/mongodb/bin/mongod --dbpath=/data0/mongodb/data --logpath=/data0/mongodb/logs --logappend --port=27017","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"}]},{"title":"codeblocksä¸­booståº“å®‰è£…","slug":"codeblocksä¸­booståº“å®‰è£…","date":"2019-03-03T11:04:59.000Z","updated":"2019-09-15T08:07:30.928Z","comments":true,"path":"2019/03/03/codeblocksä¸­booståº“å®‰è£…/","link":"","permalink":"https://nymrli.top/2019/03/03/codeblocksä¸­booståº“å®‰è£…/","excerpt":"","text":"é¦–å…ˆè¦æå‡ºçš„æ˜¯ï¼Œbooståœ¨VSä¸­æ˜¯å¯ä»¥ç›´æ¥å¯¼å…¥çš„ï¼Œä½†æ˜¯åœ¨CBä¸­æ˜¯ä¸è¡Œçš„ï¼Œæ‰€ä»¥å†™äº†ä¸‹è¿™ç¯‡æ–‡ç« ã€‚ å®‰è£…boost 1.é¦–å…ˆå…ˆå»boostå®˜ç½‘ä¸‹è½½boostçš„æºç  ï¼Œ é€‰æ‹©ä½ è¦ä¸‹è½½çš„ç‰ˆæœ¬ã€‚ 2.è§£å‹ï¼ˆå¯èƒ½ä¼šè€—è´¹ä¸€æ®µæ—¶é—´ï¼Œå°æ–‡ä»¶æ¯”è¾ƒå¤šï¼‰ 3.åŒå‡»è¿è¡Œè„šæœ¬æ–‡ä»¶bootstrap.batï¼ˆå¼•å¯¼ç¨‹åºï¼‰ï¼Œä¹‹åå°±ç”Ÿæˆè¿™ä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ æˆ‘ä»¬ä¸ºäº†èƒ½ç›´è§‚çš„çœ‹åˆ°ç¼–è¯‘boostçš„ç»†èŠ‚ä¿¡æ¯ï¼Œè¿›å…¥dos (win +ï½’å¿«æ·é”® è¾“å…¥cmd ) 4.cd åˆ°è§£å‹booståº“çš„ç›®å½•ä¸‹ 5.å‘½ä»¤æ‰§è¡Œbjam.exe 4-5æ˜¯æ²¡å¿…è¦çš„ï¼Œè¦æ˜¯ä¸æƒ³çœ‹è¾“å‡ºçš„ä¸œè¥¿çš„è¯ï¼Œå…¶å®åŒå‡»bjam.exeå³å¯ â–².ç¼–è¯‘çš„æ—¶é—´ç•¥ä¹…ï¼ˆä½ å¯ä»¥å¹²ä¸€ä¼šå…¶ä»–äº‹ï¼Œå–ä¸ªèŒ¶ï¼‰ æ³¨: å®‰è£…boostè²Œä¼¼éœ€è¦VSçš„æŸä¸ªæ¨¡å—ï¼Œä¸€å¼€å§‹åœ¨æ´»åŠ¨å®¤ç”µè„‘ä¸Šè£…ç”±äºæ²¡æœ‰VSï¼Œæ‰€ä»¥æ²¡è£…æˆï¼Œæœ€ååœ¨è‡ªå·±çš„ç”µè„‘ä¸Šè£…å¥½çš„ã€‚ codeblocksè®¾ç½® ç‚¹å‡»settingsï¼Œé€‰æ‹©ä¸‹æ‹‰èœå•ä¸­çš„ compileré€‰é¡¹ æ³¨æ„è¿™é‡Œé€‰æ‹©Search directoriesç¬¬ä¸‰é¡¹ æœ€ä¸‹é¢æœ‰ä¸€ä¸ªaddæŒ‰é’®ï¼Œç‚¹å‡»å°†boostè§£å‹è·¯å¾„æ·»åŠ å³å¯ã€‚ ä¹‹åä½ å¯ä»¥éšä¾¿å†™ä¸€ç‚¹ç¨‹åºè¿›è¡Œæµ‹è¯• 12345678910#include &lt;boost/lambda/lambda.hpp&gt;#include &lt;iostream&gt;#include &lt;iterator&gt;#include &lt;algorithm&gt;int main()&#123; using namespace boost::lambda; typedef std::istream_iterator&lt;int&gt; in; std::for_each( in(std::cin), in(), std::cout &lt;&lt; (_1 * 3) &lt;&lt; \" \" );&#125;","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"}]},{"title":"ACM_çº¿æ€§ç­›","slug":"ACM-çº¿æ€§ç­›","date":"2019-03-03T08:57:36.000Z","updated":"2019-10-29T12:31:18.223Z","comments":true,"path":"2019/03/03/ACM-çº¿æ€§ç­›/","link":"","permalink":"https://nymrli.top/2019/03/03/ACM-çº¿æ€§ç­›/","excerpt":"","text":"ä»€ä¹ˆæ˜¯çº¿æ€§ç­›? ç­›ç´ æ•°æ˜¯ä¸ºäº†æ±‚å¾—ä¸€ä¸ªåŒºé—´å†…çš„æ‰€æœ‰ç´ æ•°ï¼Œè€ŒæŠŠä¸æ˜¯ç´ æ•°çš„ç­›å»ã€‚ æœ€æ™®é€šçš„åŠæ³•â€”â€”åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯ç´ æ•° 123456789101112131415161718#define SIZE 1000000int main()&#123; int check[SIZE]; int prime[SIZE] = &#123;0&#125;; int pos; int flag; for (int i = 2 ; i &lt; SIZE ; i++)&#123; flag = 1; for (int j = 2 ; j &lt; sqrt(i) ; j++)&#123; if (i % j == 0) flag = 0; &#125; if (flag == 1) prime[pos++] = i; &#125; printf(\"%.2f\", (double)clock()/CLOCKS_PER_SEC); return 0;&#125; æ™®é€šç­›ç´ æ•°â€”â€”å°†ä¸æ˜¯ç´ æ•°çš„ç­›æ‰ 123456789101112131415161718192021222324#include &lt;bits/stdc++.h&gt;using namespace std;#define SIZE 1000int main()&#123; int checked[SIZE] = &#123;0&#125;; // å¦‚æœæ˜¯1çš„è¯å°±æ˜¯åˆæ•° int prime[SIZE] = &#123;0&#125;; int pos = 0; int i,j; for( i = 2;i &lt; SIZE ; i++)&#123; if ( ! checked[i] )&#123; prime[pos++] = i; &#125; for( j = 2*i; j &lt; SIZE ; j += i ) checked[j] = 1; &#125; for( i = 0;i&lt; SIZE ; i++) if (prime[i] == 0)&#123; cout &lt;&lt; i-1 &lt;&lt; endl; // ç´ æ•°çš„ä¸ªæ•° break; &#125; return 0;&#125;// output : 168 æ™®é€šç­›ç´ æ•° åŸºæœ¬æ€æƒ³ ä¸€æ¬¡å¾ªç¯ç­›æ‰å½“å‰ç´ æ•°çš„å€æ•° ç¼ºç‚¹ å­˜åœ¨é‡å¤ç­›é€‰ï¼Œæ¯”å¦‚6æ—¢å¯ä»¥è¢«2ç­›æ‰ï¼Œåˆå¯ä»¥è¢«3ç­›æ‰ã€‚ åŸå› ï¼šä»»æ„ä¸€ä¸ªæ•´æ•°å¯ä»¥å†™æˆä¸€äº›ç´ æ•°çš„ä¹˜ç§¯ n=p1aâˆ—p2bâˆ—p3cn=p_{1}^{a} * p_{2}^{b} * p_{3}^{c}n=p1aâ€‹âˆ—p2bâ€‹âˆ—p3câ€‹ï¼Œå…¶ä¸­p1&lt;p2&lt;p3p1&lt;p2&lt;p3p1&lt;p2&lt;p3ï¼Œè¿™æ ·è¿™ä¸ªæ•°nå°±èƒ½è¢«p1,p2å’Œp3ç­›æ‰ è§£å†³æ–¹æ³•ï¼šæŒ‰ç…§ä¸€ä¸ªæ•°çš„æœ€å°ç´ å› å­ç­›å»(ä¹Ÿå°±æ˜¯è¿™é‡Œçš„p1)å°±å¯ä»¥å•¦ï¼Œè¿™ä¹Ÿå°±æœ‰äº†çº¿æ€§ç­›ç´ æ•° çº¿æ€§ç­›ç´ æ•° 1234567891011121314151617181920212223242526272829303132#define SIZE 1000int main()&#123; int check[SIZE] = &#123;0&#125;;//å…ƒç´ å€¼ä¸º0ä»£è¡¨æ˜¯ç´ æ•° int prime[SIZE] = &#123;0&#125;; int pos=0; for (int i = 2 ; i &lt; SIZE ; i++)&#123; if (!check[i])//å¦‚æœæ˜¯ç´ æ•° prime[pos++] = i; // â˜….åŒºåˆ«åœ¨äºæ­¤ for (int j = 0 ; j &lt; pos &amp;&amp; i*prime[j] &lt; SIZE ; j++)&#123;/* clè§‰å¾—å¯ä»¥å†™æˆfor (int j = 0 ; i*prime[j] &lt; SIZE ; j++)j &lt; pos æ˜¯å¤šä½™çš„,å¦‚æœiæ˜¯ä¸ªç´ æ•°,æ¯”å¦‚7,é‚£ä¹ˆprime[x]=7,å½“j=xçš„æ—¶å€™å¿…ç„¶æœ‰if (i % prime[j] == 0), æ­¤æ—¶x=pos - 1å¦‚æœæ˜¯ä¸ªåˆæ•°,æ¯”å¦‚15,é‚£ä¹ˆè‚¯å®šæœ‰æœ€å°ç´ å› å­ä½¿å¾—(i % prime[j] == 0),æ­¤æ—¶j &lt; pos å¦‚æœiæ˜¯ä¸ªå¶æ•°,æ¯”å¦‚8,é‚£ä¹ˆif (i % prime[j] == 0) æ­¤æ—¶åœ¨2çš„æ—¶å€™å°±é€€å‡ºäº†ã€‚j=0 &lt; pos2019-4-26 j&lt;posä¸èƒ½åˆ ,è¿™ä¸ªæ˜¯ä¸»è¦æ§åˆ¶jå–å€¼çš„å¤§å°çš„å› ç´ ,æ§åˆ¶å–å‡ºçš„éƒ½æ˜¯å·²çŸ¥çš„ç´ æ•°*/ check[i*prime[j]] = 1;//ç­›æ‰ //æ ‡æ³¨ä¸€ // é€šè¿‡è¿™æ­¥å¯ä»¥æ‰¾åˆ°æœ€å°ç´ æ•°å› å­, // æ¯”å¦‚12,é‚£ä¹ˆ prime[j] æœ€å…ˆ== prime[0] == 2 , å³æ‰¾åˆ°äº†æœ€å°çš„å› å­2, // é‚£12å°±ä¸æ˜¯ä¸ªç´ æ•°,å°±ä¸ç”¨å†åˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯èƒ½è¢«3åˆæˆ if (i % prime[j] == 0) break; &#125; &#125; printf(\"%.2f\", (double)clock()/CLOCKS_PER_SEC); return 0;&#125; åŸºæœ¬æ€æƒ³ å½“å‰æ•°å­—æ˜¯n=p1aâˆ—p2bâˆ—p3cn=p_{1}^{a} * p_{2}^{b} * p_{3}^{c}n=p1aâ€‹âˆ—p2bâ€‹âˆ—p3câ€‹(p1&lt;p2&lt;p3ä¸”å‡ä¸ºç´ æ•°)ï¼Œä¸€æ¬¡å¾ªç¯ç­›é™¤å°äºç­‰äºp1çš„ç´ æ•°ä¹˜ä»¥nå¾—åˆ°çš„æ•°ã€‚æ¯”å¦‚p1ä¹‹å‰æœ‰pi,pjå’Œpkä¸‰ä¸ªç´ æ•°ï¼Œåˆ™æ­¤æ¬¡å¾ªç¯ç­›æ‰pi*n,pj*n,pk*nå’Œp1*n ï¼Œå®ç°è§ä»£ç çš„æ ‡æ³¨ä¸€ï¼Œprime é‡Œçš„ç´ æ•°éƒ½æ˜¯å‡åºæ’åˆ—çš„ï¼Œbreakæ—¶çš„prime[j] å°±æ˜¯è¿™é‡Œçš„p1ã€‚ ä¼˜ç‚¹ï¼šæ²¡æœ‰é‡å¤ç­›åŒä¸€ä¸ªæ•° åŸå› ï¼šæŒ‰ç…§ä¸€ä¸ªæ•°çš„æœ€å°ç´ å› å­ç­›é€‰ï¼Œæ¯”å¦‚6åªæŒ‰2ç­›å» ä»å›¾ä¸Šæˆ‘ä»¬çœ‹åˆ°ï¼Œç¬¬ä¸€åˆ—ç­›æ‰çš„æ˜¯æœ€å°ç´ å› å­æ˜¯2çš„æ•°ï¼Œç¬¬äºŒåˆ—ç­›æ‰çš„æ˜¯æœ€å°ç´ å› å­ä¸º3çš„æ•°ï¼Œç¬¬ä¸‰åˆ—æœ€å°ç´ å› å­æ˜¯prime[2]==5 ï¼Œä¾æ¬¡ç±»æ¨ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„åˆæ•°éƒ½ç­›æ‰ã€‚ ç”±äºæ¯åˆ—ç­›æ‰çš„åˆæ•°éƒ½æ˜¯ å®ƒè‡ªèº«çš„å¹³æ–¹ ï¼Œ å³ ä¸€ä¸ªç´ æ•°æœ€å°çš„å› å­é™¤äº†1å°±æ˜¯å®ƒæœ¬èº«ï¼Œ æ‰€ä»¥ ç´ æ•°çš„å¹³æ–¹çš„æœ€å°ç´ å› å­å°±æ˜¯ å®ƒæœ¬èº« ï¼Œ è€Œé€šè¿‡i % prime[j] == 0å°±å¯ä»¥æ§åˆ¶ä¸å¤šç­›ã€‚ å› ä¸ºæ˜¯æŒ‰ç…§æœ€å°ç´ å› å­ç­›é€‰ï¼Œæ‰€ä»¥å¯ä»¥ä¿è¯æ¯ä¸ªæ•°éƒ½åªä¼šè¢«ç­›ä¸€é ==&gt; 18--9x2 æ‘˜è‡ªï¼šè¿™åªèœé¸Ÿæ€»ç®—ææ‡‚äº†çº¿æ€§ç­›ç´ æ•° ç´ æ•°çš„åˆ¤åˆ«æŒºæœ‰æ„æ€çš„ï¼Œå‰ªæçš„æ–¹æ³•å¯ä»¥è§æˆ‘çš„å¦ä¸€ç¯‡åšå®¢ : ç´ æ•°åˆ¤åˆ«","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"çº¿æ€§ç­›","slug":"çº¿æ€§ç­›","permalink":"https://nymrli.top/tags/çº¿æ€§ç­›/"}]},{"title":"flask+nginxå¦‚ä½•è·å¾—çœŸå®IP","slug":"flask-nginxå¦‚ä½•è·å¾—çœŸå®IP","date":"2019-03-02T12:53:58.000Z","updated":"2019-09-15T08:07:30.933Z","comments":true,"path":"2019/03/02/flask-nginxå¦‚ä½•è·å¾—çœŸå®IP/","link":"","permalink":"https://nymrli.top/2019/03/02/flask-nginxå¦‚ä½•è·å¾—çœŸå®IP/","excerpt":"","text":"å¦‚æœæ˜¯é€šè¿‡ flask çš„ request.remote_addrè·å–çš„ ip éƒ½æ˜¯ 127.0.0.1 è§£å†³æ–¹æ¡ˆ: nginx.confä¸­æ·»åŠ  123# proxy_set_header Host $host:80; # proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; å…¨æ–‡ 12345678910111213141516server &#123; listen 8888; server_name 0.0.0.0; charset utf-8; client_max_body_size 75M; location /static&#123; alias /home/apollo3d/Documents/Cl/webenv/.../static; &#125;location / &#123; include uwsgi_params; uwsgi_pass 127.0.0.1:8889; uwsgi_param UWSGI_SCRIPT app:app; # å¯åŠ¨flaskçš„æ–‡ä»¶:Flaskçš„å®ä¾‹ proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; &#125;&#125; Pythonä»£ç  1234if request.headers.getlist(&quot;X-Forwarded-For&quot;): ip = request.headers.getlist(&quot;X-Forwarded-For&quot;)[0]else: ip = request.remote_addr æŸ¥è‡ª:V2EX æ‹“å±•: X-Forwarded-For å¯èƒ½ä¼šæœ‰å¤šä¸ª IP ï¼Œå¦‚æœæµè§ˆå™¨ä½¿ç”¨äº†ä»£ç†çš„è¯ æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯æŠ“ X-Real-IPï¼Œæˆ–è€…åˆ†éš” X-Forwarded-Forå–ç¬¬ 1 ä¸ªå€¼","categories":[],"tags":[{"name":"flask","slug":"flask","permalink":"https://nymrli.top/tags/flask/"},{"name":"nginx","slug":"nginx","permalink":"https://nymrli.top/tags/nginx/"}]},{"title":"frpç»“åˆnginxå®ç°å†…ç½‘webæœåŠ¡å’Œtcpçš„è½¬å‘","slug":"frpç»“åˆnginxå®ç°å†…ç½‘webæœåŠ¡å’Œtcpçš„è½¬å‘","date":"2019-03-02T10:48:23.000Z","updated":"2021-03-20T06:25:18.849Z","comments":true,"path":"2019/03/02/frpç»“åˆnginxå®ç°å†…ç½‘webæœåŠ¡å’Œtcpçš„è½¬å‘/","link":"","permalink":"https://nymrli.top/2019/03/02/frpç»“åˆnginxå®ç°å†…ç½‘webæœåŠ¡å’Œtcpçš„è½¬å‘/","excerpt":"","text":"æœåŠ¡ç«¯ - é˜¿é‡Œäº‘æœåŠ¡å™¨: Ubuntu 16.04 å®¢æˆ·ç«¯ - æ´»åŠ¨å®¤ç”µè„‘ : Ubuntu 16.04 é…ç½®serverç«¯ 1$ sudo vim frps.ini 1234[common] #å¿…é¡»æœ‰çš„é…ç½®æ®µï¼Œåœ¨frpc.iniå’Œfrps.iniä¸­éƒ½å¿…é¡»è¦æœ‰bind_port = 7000 #æœåŠ¡ç«¯æœåŠ¡çš„ç›‘å¬ç«¯å£vhost_http_port = 16666 #è‡ªå·±è®¾å®šçš„httpè®¿é—®ç«¯å£vhost_https_port = 17777 #è‡ªå·±è®¾å®šçš„httpsè®¿é—®ç«¯å£ ä¿å­˜å¹¶ä¸”é€€å‡ºï¼Œä½¿ç”¨å¦‚ä¸‹æœåŠ¡å‘½ä»¤å¯åŠ¨frpsæœåŠ¡ 1$ nohup ./frps -c ./frps.ini &amp; clientç«¯: 1$ sudo vim frpc.ini 1234567891011121314[common] #å¿…é¡»æœ‰çš„é…ç½®æ®µï¼Œåœ¨frpc.iniå’Œfrps.iniä¸­éƒ½å¿…é¡»è¦æœ‰server_addr = x.x.x.x #æœåŠ¡ç«¯çš„å…¬ç½‘IPï¼ˆå¤–ç½‘IPï¼‰server_port = 7000 #æœåŠ¡ç«¯æœåŠ¡çš„ç›‘å¬ç«¯å£[web] #è‡ªå·±å®šä¹‰çš„æœåŠ¡è½¬å‘æ ‡ç­¾ï¼ˆè‡ªå®šä¹‰ï¼Œéä¸¥æ ¼ï¼‰type = http #å®šä¹‰è½¬å‘ç±»å‹ä¸ºhttpï¼ˆä¸¥æ ¼ï¼‰local_port = 8800 #å®šä¹‰æ‰€éœ€è¦è½¬å‘çš„æœ¬åœ°webæœåŠ¡çš„ç«¯å£ä¸º8800,è·Ÿnginxè®¾ç½®çš„ä¸€è‡´custom_domains = node1.xxx.com #å®šä¹‰è®¿é—®è½¬å‘æœåŠ¡çš„åŸŸåï¼ˆç¡®ä¿ä½¿ç”¨è¯¥åŸŸåè®¿é—®å¯ä»¥è§£æåˆ°æœ‰å…¬ç½‘IPçš„æœåŠ¡ç«¯ï¼‰[ssh] #è‡ªå·±å®šä¹‰çš„æœåŠ¡è½¬å‘æ ‡ç­¾ï¼ˆè‡ªå®šä¹‰ï¼Œä¸¥æ ¼ï¼‰type = tcp #å®šä¹‰è½¬å‘ç±»å‹ä¸ºtcpï¼ˆä¸¥æ ¼ï¼‰local_ip = 127.0.0.1 #ç”±äºè½¬å‘ä»£ç†çš„sshæœåŠ¡åœ¨æœ¬åœ°ï¼Œå› æ­¤å¡«å†™æœ¬åœ°åœ°å€local_port = 22 #sshæœåŠ¡æœ¬åœ°çš„ç›‘å¬ç«¯å£remote_port = 6000 #å®é™…å¼€å¯sshæ—¶è¿æ¥æ—¶è®¿é—®çš„ç«¯å£ 1$ nohup ./frpc -c ./frpc.ini &amp; è§£é‡Šè¯´æ˜ 123456789#server[common] #å¿…é¡»æœ‰çš„é…ç½®æ®µï¼Œåœ¨frpc.iniå’Œfrps.iniä¸­éƒ½å¿…é¡»è¦æœ‰bind_port = 7000 #æœåŠ¡ç«¯æœåŠ¡çš„ç›‘å¬ç«¯å£vhost_http_port = 16666 #è‡ªå·±è®¾å®šçš„httpè®¿é—®ç«¯å£# client[web] #è‡ªå·±å®šä¹‰çš„æœåŠ¡è½¬å‘æ ‡ç­¾ï¼ˆè‡ªå®šä¹‰ï¼Œéä¸¥æ ¼ï¼‰type = http #å®šä¹‰è½¬å‘ç±»å‹ä¸ºhttpï¼ˆä¸¥æ ¼ï¼‰local_port = 8800 #å®šä¹‰æ‰€éœ€è¦è½¬å‘çš„æœ¬åœ°webæœåŠ¡çš„ç«¯å£ä¸º8800,è·Ÿnginxè®¾ç½®çš„ä¸€è‡´ â–³.å°†16666ç«¯å£çš„httpè¯·æ±‚è½¬å‘åˆ°å†…ç½‘è®¾å¤‡çš„8800ç«¯å£åº”ç”¨ä¸Šï¼ŒçœŸæ­£åšå¤„ç†çš„å…¶å®æ˜¯å†…ç½‘ä¸­çš„8800ç«¯å£çš„webåº”ç”¨ 1234[common]ä¸­çš„server_addrå¡«frpæœåŠ¡ç«¯çš„ipï¼ˆä¹Ÿå°±æ˜¯å¤–ç½‘ä¸»æœºçš„IPï¼‰ï¼Œserver_portå¡«frpæœåŠ¡ç«¯çš„bind_prot(så’Œcå¿…é¡»ä¸€è‡´)ã€‚[web]ä¸­ï¼Œtypeè½¬å‘ç±»å‹ä¸ºhttpï¼Œlocal_portå¡«è½¬å‘çš„webç«¯å£ï¼Œcustom_domains å¡« èƒ½å¤Ÿä½¿ç”¨çš„åŸŸå.è¯´åˆ°è¿™é‡Œï¼ŒåŸŸåè§£æï¼ŒæœåŠ¡ç«¯å»ºè®®ä½¿ç”¨é˜¿é‡Œäº‘ï¼Œç›´æ¥å¡«å†™Aè®°å½•ï¼Œä¸‰çº§å­åŸŸåä¸“é—¨ç”³è¯·å‡ ä¸ªï¼Œå¤‡ç”¨.ç±»ä¼¼ï¼šnode1.xxx.comã€node2.xxx.comã€node3.xxx.com é˜¿é‡Œäº‘è®¾ç½®Aè®°å½•: ä¸€å¼€å§‹ä»¥ä¸ºä¸€ä¸ªIPä¸èƒ½å†™å¤šä¸ªAè®°å½•ï¼Œåæ¥å‘ç°æ˜¯å¯ä»¥çš„ã€‚å¦‚ä¸‹ è¿™é‡Œè¿˜è¦æ³¨æ„å‡ ç‚¹ï¼š 1234[web]ä¸Šä¸‹æ–‡ä¸­ï¼Œå‡¡æ˜¯typeç±»å‹ä¸ºhttpæˆ–è€…åŒä¸€ä¸ªç±»å‹ï¼Œcustom_domainsä¸­å¡«å†™çš„åŸŸåå¿…é¡»ä¸ºä¸åŒçš„åŸŸåï¼Œç›¸åŒåŸŸåä¼šæŠ¥é”™ä¸åŒç±»å‹çš„typeï¼Œä¾‹å¦‚[test]ä¸­çš„typeç±»å‹ä¸ºtcpï¼Œåˆ™å¯ä»¥ä½¿ç”¨ç›¸åŒåŸŸåç®€å•æ¥è¯´typeç±»å‹ç›¸åŒï¼Œä¸èƒ½ä½¿ç”¨åŒä¸€ä¸ªåŸŸåtypeç±»å‹ä¸åŒï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„åŸŸåã€‚ æµ‹è¯•å’Œè®¿é—® webæœåŠ¡è®¿é—®æ ¼å¼ä¸ºï¼šåŸŸå+ç«¯å£,å…·ä½“å¦‚ä¸‹: 123http://node1.xxx.com:16666 é¡µé¢è½¬åˆ°å†…ç½‘å®¢æˆ·ç«¯ä½¿ç”¨nginxåå‘ä»£ç†çš„webæœåŠ¡8800http://node2.xxx.com:16666 é¡µé¢è½¬åˆ°å†…ç½‘å®¢æˆ·ç«¯ä½¿ç”¨nginxåå‘ä»£ç†çš„webæœåŠ¡8801http://node3.xxx.com:16666 é¡µé¢è½¬åˆ°å†…ç½‘å®¢æˆ·ç«¯æœ¬åœ°çš„webæœåŠ¡ç«¯å£8088 â–²å½“ç„¶è¦è®°å¾—å»é˜¿é‡Œäº‘çš„é˜²ç«å¢™å°†16666ç«¯å£æ‰“å¼€æ‰è¡Œï¼Œ ç„¶åæˆ‘æµ‹è¯•äº†ä¸€ä¸‹ï¼Œé€šè¿‡IPè®¿é—®å¥½åƒæ˜¯ä¸è¡Œçš„ï¼ŒåŸŸå:portæ˜¯å¯ä»¥çš„ sshæœåŠ¡è¿œç¨‹å’Œè¿æ¥ 12ssh -Port=6000 username@x.x.x.xæ³¨ï¼šx.x.x.xä¸ºæœåŠ¡ç«¯çš„å…¬ç½‘IP æ‘˜è‡ªï¼šhttps://www.jianshu.com/p/0c49556e8e15 é™„å½• ä¸€ä¸ªServer,å¤šä¸ªClienté…ç½® æœåŠ¡å™¨ç«¯çš„é…ç½®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªéœ€è¦åœ¨æ–°æ·»åŠ çš„å®¢æˆ·ç«¯ä¸Šä¿®æ”¹frpc.ini 1234567891011121314[common] #å¿…é¡»æœ‰çš„é…ç½®æ®µï¼Œåœ¨frpc.iniå’Œfrps.iniä¸­éƒ½å¿…é¡»è¦æœ‰server_addr = x.x.x.x #æœåŠ¡ç«¯çš„å…¬ç½‘IPï¼ˆå¤–ç½‘IPï¼‰server_port = 7000 #æœåŠ¡ç«¯æœåŠ¡çš„ç›‘å¬ç«¯å£[web_3] #â–²è‡ªå·±å®šä¹‰çš„æœåŠ¡è½¬å‘æ ‡ç­¾ï¼ˆè‡ªå®šä¹‰ï¼Œéä¸¥æ ¼ï¼‰type = http #å®šä¹‰è½¬å‘ç±»å‹ä¸ºhttpï¼ˆä¸¥æ ¼ï¼‰local_port = 8800 #å®šä¹‰æ‰€éœ€è¦è½¬å‘çš„æœ¬åœ°webæœåŠ¡çš„ç«¯å£ä¸º8800,è·Ÿnginxè®¾ç½®çš„ä¸€è‡´custom_domains = node2.xxx.com #â–²å®šä¹‰è®¿é—®è½¬å‘æœåŠ¡çš„åŸŸåï¼ˆç¡®ä¿ä½¿ç”¨è¯¥åŸŸåè®¿é—®å¯ä»¥è§£æåˆ°æœ‰å…¬ç½‘IPçš„æœåŠ¡ç«¯ï¼‰[ssh_3] #â–²è‡ªå·±å®šä¹‰çš„æœåŠ¡è½¬å‘æ ‡ç­¾ï¼ˆè‡ªå®šä¹‰ï¼Œä¸¥æ ¼ï¼‰type = tcp #å®šä¹‰è½¬å‘ç±»å‹ä¸ºtcpï¼ˆä¸¥æ ¼ï¼‰local_ip = 127.0.0.1 #ç”±äºè½¬å‘ä»£ç†çš„sshæœåŠ¡åœ¨æœ¬åœ°ï¼Œå› æ­¤å¡«å†™æœ¬åœ°åœ°å€local_port = 22 #sshæœåŠ¡æœ¬åœ°çš„ç›‘å¬ç«¯å£remote_port = 8000 #â–²å®é™…å¼€å¯sshæ—¶è¿æ¥æ—¶è®¿é—®çš„ç«¯å£ â–²1.æ³¨æ„ä¸Šè¿°æœ‰â–²çš„åœ°æ–¹ï¼Œå°±æ˜¯ä¿®æ”¹çš„åœ°æ–¹ï¼Œè¿™ä¸ªé…ç½®ä¿¡æ¯çš„å¤´æ¯ä¸ªå®¢æˆ·ç«¯å¿…é¡»ä¸ä¸€æ ·ã€‚å³[web_3]ä¸[web]ä¸ä¸€æ ·ã€‚ â–²2.SSHçš„è¯ï¼šæ¯ä¸ªå®¢æˆ·ç«¯è¦é…ç½®è¿›å…¥sshçš„ç«¯å£ , æ¯”å¦‚x.x.x.x:6000è¿›å…¥1å·,x.x.x.x:8000è¿›å…¥äºŒå· â–²3.WEBæœåŠ¡çš„è¯ï¼šæ¯ä¸ªå®¢æˆ·ç«¯è¦é…ç½®è¿›å…¥webçš„åŸŸå , æ¯”å¦‚a.nymrli.top:8888è¿›å…¥1å·,b.nymrli.top:8888è¿›å…¥äºŒå·","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"linux","slug":"linux","permalink":"https://nymrli.top/tags/linux/"}]},{"title":"æ„é€ ä¸€ä¸ªèƒ½å‘æ•°æ®çš„POSTè¯·æ±‚å¤´","slug":"æ„é€ ä¸€ä¸ªèƒ½å‘æ•°æ®çš„POSTè¯·æ±‚å¤´","date":"2019-03-01T14:23:52.000Z","updated":"2019-09-15T08:07:31.081Z","comments":true,"path":"2019/03/01/æ„é€ ä¸€ä¸ªèƒ½å‘æ•°æ®çš„POSTè¯·æ±‚å¤´/","link":"","permalink":"https://nymrli.top/2019/03/01/æ„é€ ä¸€ä¸ªèƒ½å‘æ•°æ®çš„POSTè¯·æ±‚å¤´/","excerpt":"","text":"ä¹‹å‰å­¦è¯·æ±‚ã€å“åº”çš„æ—¶å€™åªæ˜¯è¿‡äº†ä¸€è¾¹ï¼Œå¤§è‡´çŸ¥é“æœ‰è¿™äº›ä¸œè¥¿ã€‚ä½†è¿™æ¬¡çœŸæ­£è¦ç”¨çš„æ—¶å€™å´åˆå¿˜äº†åˆ°åº•è¯¥å¦‚ä½•å†™ï¼Œé”™è¯¯çš„è¯·æ±‚å¤´ã€è¯·æ±‚ä½“çš„æ ¼å¼å¯¼è‡´esp8266ä¸€ç›´å‘é€ä¸äº†æ•°æ®åˆ°æœåŠ¡å™¨ä¸Šï¼Œåˆé‡æ–°çœ‹äº†éè¯·æ±‚requestçš„çŸ¥è¯†ï¼Œæ‰ç»ˆäºææ˜ç™½ è¯·æ±‚ æœ€åˆçš„å†™æ³•: ç”±äºåœ¨esp8266ä¸Šå·²ç»é€‰æ‹©ã€è¿æ¥å¥½äº†äº†httpbin.orgçš„ç©¿é€ï¼Œå°±ä»¥ä¸ºHostå¯ä»¥ä¸ç”¨åŠ äº†ï¼Œäºæ˜¯äº§ç”Ÿäº† æœ€åˆçš„å†™æ³•ï¼š 1POST /post?= HTTP/1.1 â–²æ ¹æ®ç©å•ç‰‡æœºçš„å°ä¼™ä¼´è¯´å¿…é¡»å¤šå‡ºä¸€è¡Œ\\r\\nï¼Œæ‰€ä»¥è¿™è¾¹æ˜¯æœ‰ä¸€è¡Œç©ºè¡Œçš„ ç»“æœï¼š 400 BAD_REQUEST æœç´¢è¿‡åå¾—çŸ¥ : å¦‚æœä½¿ç”¨http 1.1åè®®çš„è¯ä¸»æœºåHOSTå­—æ®µæ˜¯å¿…é¡»çš„ ç¬¬äºŒæ¬¡å†™æ³•: 12POST /post?= HTTP/1.1 Host:httpbin.org å¯ä»¥æ³¨æ„åˆ°çš„æ˜¯Hostæ˜¯é¡¶å±‚åŸŸåï¼Œ/poståªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªè·¯ç”± ç»“æœ: æˆåŠŸï¼Œè¿™æ ·å°±ç®—å¯ä»¥æ­£å¸¸å‘é€postè¯·æ±‚äº† äºæ˜¯ä¸‹ä¸€æ­¥å°±æ˜¯ç ”ç©¶å¦‚ä½•ä¸Šä¼ æ•°æ® ç¬¬ä¸‰æ¬¡å†™æ³•ï¼š 123POST /post?= HTTP/1.1Host: httpbin.orgtempt=57 äºæ˜¯è¿™æ¬¡éƒ½æ²¡æœ‰è¿”å›å€¼äº†. æƒ³èµ·äº†è¡¨å•æ˜¯æœ‰å½¢å¼çš„ï¼Œäºæ˜¯æ·»åŠ äº† Content-Type: application/x-www-form-urlencoded è¿™ä¸ªå½¢å¼çš„å‚æ•°åº”è¯¥å†™æˆa=1&amp;b=..&amp;.. æ³¨.å¦‚æœè¯·æ±‚ç½‘é¡µçš„è¡¨å•ä¸­æ²¡è®¾ç½® enctype å±æ€§ï¼Œé‚£ä¹ˆæœ€ç»ˆå°±ä¼šé»˜è®¤ä»¥ application/x-www-form-urlencoded æ–¹å¼æäº¤æ•°æ®ã€‚ å¦‚æœæ˜¯Content-Type: application/json åˆ™æ”¹å†™æˆ{'a':1 , 'b'=.. , ...} multipart/form-dataï¼Œæˆ‘ä»¬ä½¿ç”¨è¡¨å•ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå¿…é¡»è®© form çš„ enctypedç­‰äºè¿™ä¸ªå€¼ï¼Œè¯·æ±‚ç¤ºä¾‹ 12345678910111213POST http://www.example.com HTTP/1.1 Content-Type:multipart/form-data; boundary=----WebKitFormBoundaryrGKCBY7qhFd3TrwA ------WebKitFormBoundaryrGKCBY7qhFd3TrwA Content-Disposition: form-data; name=&quot;text&quot; title ------WebKitFormBoundaryrGKCBY7qhFd3TrwA Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;chrome.png&quot; Content-Type: image/png PNG ... content of chrome.png ... ------WebKitFormBoundaryrGKCBY7qhFd3TrwA-- è¯´æ˜: é¦–å…ˆç”Ÿæˆäº†ä¸€ä¸ªboundary ç”¨äºåˆ†å‰²ä¸åŒçš„å­—æ®µï¼Œä¸ºäº†é¿å…ä¸æ­£æ–‡å†…å®¹é‡å¤ï¼Œboundary å¾ˆé•¿å¾ˆå¤æ‚ã€‚ç„¶å Content-Type é‡ŒæŒ‡æ˜äº†æ•°æ®æ˜¯ä»¥mutipart/form-data æ¥ç¼–ç ï¼Œæœ¬æ¬¡è¯·æ±‚çš„ boundary æ˜¯ä»€ä¹ˆå†…å®¹ã€‚æ¶ˆæ¯ä¸»ä½“é‡ŒæŒ‰ç…§å­—æ®µä¸ªæ•°åˆåˆ†ä¸ºå¤šä¸ªç»“æ„ç±»ä¼¼çš„éƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ†éƒ½æ˜¯ä»¥ --boundary å¼€å§‹ï¼Œç´§æ¥ç€å†…å®¹æè¿°ä¿¡æ¯ï¼Œç„¶åæ˜¯å›è½¦ï¼Œæœ€åæ˜¯å­—æ®µå…·ä½“å†…å®¹ï¼ˆæ–‡æœ¬æˆ–äºŒè¿›åˆ¶ï¼‰ã€‚å¦‚æœä¼ è¾“çš„æ˜¯æ–‡ä»¶ï¼Œè¿˜è¦åŒ…å«æ–‡ä»¶åå’Œæ–‡ä»¶ç±»å‹ä¿¡æ¯ã€‚æ¶ˆæ¯ä¸»ä½“æœ€åä»¥ --boundary-- æ ‡ç¤ºç»“æŸã€‚å…³äº mutipart/form-dataçš„è¯¦ç»†å®šä¹‰ï¼Œè¯·å‰å¾€ rfc1867 æŸ¥çœ‹ã€‚ text/xmlï¼ŒXML-RPC æ˜¯ä¸€ç§ä½¿ç”¨ HTTP ä½œä¸ºä¼ è¾“åè®®ï¼ŒXML ä½œä¸ºç¼–ç æ–¹å¼çš„è¿œç¨‹è°ƒç”¨è§„èŒƒã€‚å…¸å‹çš„ XML-RPC è¯·æ±‚æ˜¯è¿™æ ·çš„ï¼š 123456789101112POST http://www.example.com HTTP/1.1 Content-Type: text/xml &lt;!--?xml version=&quot;1.0&quot;?--&gt; &lt;methodcall&gt; &lt;methodname&gt;examples.getStateName&lt;/methodname&gt; &lt;params&gt; &lt;param&gt; &lt;value&gt;&lt;i4&gt;41&lt;/i4&gt;&lt;/value&gt; &lt;/params&gt; &lt;/methodcall&gt; ä½†æ˜¯è™½ç„¶èƒ½æ¥å—åˆ°è¿”å›çš„ç»“æœï¼Œä½†æ˜¯å“åº”æ•°æ®ä¸­å‘ç°formä¸€ç›´æ˜¯ç©ºçš„ï¼Œé‚£å°±æ˜¯å‚æ•°æ²¡ä¼ è¿‡å»ï¼Œäºæ˜¯æƒ³åˆ°æ˜¯ä¸æ˜¯æ ¼å¼çš„é”™è¯¯ ç¬¬å››æ¬¡å†™æ³• åæ¥ä¸Šç½‘æ‰¾å¯»äº†ä¸€ä¸‹ç»“æœå‘ç°æˆ‘é—æ¼äº†æ¨¡æ¿ä¸­çš„\\r\\n\\r\\nè¿™è¡Œï¼Œå³è¯·æ±‚å¤´ å’Œ è¯·æ±‚ä½“ ä¹‹é—´è‡³å°‘æœ‰ä¸€è¡Œæ¢è¡Œï¼ï¼ï¼ 12345POST /get HTTP/1.1Content-Type: application/x-www-form-urlencodedConnection:closea=23&amp;b=34 ä¸­é—´çš„ç©ºè¡Œä¸èƒ½çœç•¥ ï¼Œ è¿™æ ·httpbin.orgé‚£è¾¹æ‰ä¸è¿”å› ERRORæˆ–æ˜¯BAD_REQUEST ä½†æ˜¯æ•°æ®è¿˜æ˜¯å‘é€ä¸å‡º äºæ˜¯å’¨è¯¢äº†qkå¤§ä½¬ä»¥åï¼Œæ‰å‘ç°åŸæ¥è¯·æ±‚å¤´ä¹Ÿå¿…é¡»è¦åŠ ä¸ŠContent-Length:8â€¦ æœ€ç»ˆå®Œæˆç‰ˆ 123456POST /get HTTP/1.1Content-Type: application/x-www-form-urlencodedConnection:closeContent-Length:8a=23&amp;b=34 å“â€¦æœ¬æ¥å¾ˆç®€å•çš„äº‹ï¼Œç«Ÿç„¶å¼„äº†ä¸€ä¸ªå¤šå°æ—¶æ‰æå®šï¼ŒçœŸåªèƒ½æ€ªè‡ªå·±å­¦è‰ºä¸ç²¾äº†ã€‚å¹¸å¥½çš„æ˜¯ï¼Œè¿˜æ˜¯è°ƒå‡ºæ¥äº†ã€‚ é™„å½•: HTTPè¯·æ±‚æŠ¥æ–‡è§£å‰– : ç»„æˆ HTTPè¯·æ±‚æŠ¥æ–‡ç”±3éƒ¨åˆ†ç»„æˆï¼ˆè¯·æ±‚è¡Œ+è¯·æ±‚å¤´+è¯·æ±‚ä½“ï¼‰ï¼š å†…å®¹ æ ¼å¼ HttpWatch HttpWatchæ˜¯å¼ºå¤§çš„ç½‘é¡µæ•°æ®åˆ†æå·¥å…·ï¼Œå®‰è£…åå°†é›†æˆåˆ°Internet Explorerå·¥å…·æ ä¸­ã€‚å®ƒä¸ç”¨ä»£ç†æœåŠ¡å™¨æˆ–ä¸€äº›å¤æ‚çš„ç½‘ç»œç›‘æ§å·¥å…·ï¼Œå°±èƒ½æŠ“å–è¯·æ±‚åŠå“åº”çš„å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬Cookiesã€æ¶ˆæ¯å¤´ã€æŸ¥è¯¢å‚æ•°ã€å“åº”æŠ¥æ–‡ç­‰ï¼Œæ˜¯Webåº”ç”¨å¼€å‘äººå‘˜çš„å¿…å¤‡å·¥å…·ã€‚ æ‘˜è‡ªHTTPè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“è¯¦è§£","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"ä¸ºäº†ä¸è·‘æ“è€ŒExcelâ€”â€”Orz","slug":"ä¸ºäº†ä¸è·‘æ“è€ŒExcelâ€”â€”Orz","date":"2019-03-01T07:45:07.000Z","updated":"2019-09-15T08:07:31.021Z","comments":true,"path":"2019/03/01/ä¸ºäº†ä¸è·‘æ“è€ŒExcelâ€”â€”Orz/","link":"","permalink":"https://nymrli.top/2019/03/01/ä¸ºäº†ä¸è·‘æ“è€ŒExcelâ€”â€”Orz/","excerpt":"","text":"ä¸ºäº†ä¸è·‘æ“è€ŒExcelâ€”â€”Orz 3æœˆ1æ—¥ Excel 15ã€16ã€17ã€18çº§åˆ†ç±»â€”â€”ç­›é€‰ã€å¼€å¤´æ˜¯ï¼ˆ?15é€šé…ç¬¦ï¼‰ã€åˆ¶ä¸åŒè¡¨ è·å¾—50mã€800-1000mã€èº«é«˜ã€è‚ºæ´»é‡â€¦â€¦å„å¹´çº§æ•°æ®å’Œæ€»çš„å¹³å‡å€¼ æœ‰çš„å•å…ƒæ¡†å†…å®¹è™½ç„¶çœ‹ä¸Šå»åƒæ•°å­—(æ•°å€¼é å³)ï¼Œä½†å…¶å®æ˜¯æ–‡æœ¬(æ–‡æœ¬é å·¦)ï¼Œéœ€è¦åšå¤„ç†åæ‰èƒ½è¿›è¡Œå…¬ç¤ºè®¡ç®—â€”â€”åˆ†åˆ— å¤æ‚çš„é‡å¤å…¬ç¤ºæœ€å¥½è¿˜æ˜¯æŒ‡æ˜åœ°å€ ç¿»åˆ°ä¸‹ä¸€ä¸ªéç©ºå•å…ƒæ ¼â€”â€”Ctrl + â†“ æˆ– â†‘ 3æœˆ4æ—¥ æ–‡å­—æ’ç‰ˆä¸æ”¯æŒç«–ç‰ˆï¼Œæ‰€ä»¥å¼„æˆå›¾ç‰‡åå‘å¸ƒçš„ 4æœˆ28æ—¥ å›¾ç‰‡æ’ç‰ˆ,ä½“è‚²éƒ¨çš„ç½‘ç«™æ”¯æŒæºä»£ç ä¿®æ”¹,å› æ­¤å¯ä»¥ä¿®æ”¹htmlä»£ç . 123456789101112131415161718192021&lt;table cellspacing=\"100\" cellpadding=\"20\"&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt; &lt;img data-layer=\"photo\" src=\"/_upload/article/images/c4/cb/d351f4fa408e8414b718debf8b99/20a324aa-c891-4be2-9174-590277bff71d.jpg\" original-src=\"/_upload/article/images/c4/cb/d351f4fa408e8414b718debf8b99/20a324aa-c891-4be2-9174-590277bff71d_d.jpg\" sudyfile-attr=\"&#123;'title':'webwxgetmsgimg (1).jpg'&#125;\" width=\"600\" height=\"400\" border=\"0\" hspace=\"0\" vspace=\"0\" style=\"width:600px;height:400px;\" /&gt; &lt;/td&gt; &lt;td&gt; &lt;img data-layer=\"photo\" src=\"/_upload/article/images/c4/cb/d351f4fa408e8414b718debf8b99/c9fdcc12-a3e5-422e-b4cb-ac6c5ecd9e64.jpg\" original-src=\"/_upload/article/images/c4/cb/d351f4fa408e8414b718debf8b99/c9fdcc12-a3e5-422e-b4cb-ac6c5ecd9e64_d.jpg\" sudyfile-attr=\"&#123;'title':'webwxgetmsgimg (2).jpg'&#125;\" style=\"font-size:14px;width:600px;height:400px;\" width=\"600\" height=\"400\" border=\"0\" hspace=\"0\" vspace=\"0\" /&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; &lt;img data-layer=\"photo\" src=\"/_upload/article/images/c4/cb/d351f4fa408e8414b718debf8b99/67108b99-b0f6-42bf-aac4-a6e012e7e66d.jpg\" original-src=\"/_upload/article/images/c4/cb/d351f4fa408e8414b718debf8b99/67108b99-b0f6-42bf-aac4-a6e012e7e66d_d.jpg\" style=\"width:600px;height:400px;\" sudyfile-attr=\"&#123;'title':'webwxgetmsgimg (3).jpg'&#125;\" width=\"600\" height=\"400\" border=\"0\" hspace=\"0\" vspace=\"0\" /&gt; &lt;/td&gt; &lt;td&gt; &lt;img data-layer=\"photo\" src=\"/_upload/article/images/c4/cb/d351f4fa408e8414b718debf8b99/69659dd8-a9a2-424f-bdb7-324c1807af18.jpg\" original-src=\"/_upload/article/images/c4/cb/d351f4fa408e8414b718debf8b99/69659dd8-a9a2-424f-bdb7-324c1807af18_d.jpg\" sudyfile-attr=\"&#123;'title':'webwxgetmsgimg (4).jpg'&#125;\" width=\"600\" height=\"400\" border=\"0\" hspace=\"0\" vspace=\"0\" style=\"width:600px;height:400px;\" /&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;","categories":[],"tags":[{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"Flask æœ¬åœ°å±€åŸŸç½‘è¿æ¥","slug":"Flask-æœ¬åœ°å±€åŸŸç½‘è¿æ¥","date":"2019-02-28T10:43:55.000Z","updated":"2019-09-15T08:07:30.934Z","comments":true,"path":"2019/02/28/Flask-æœ¬åœ°å±€åŸŸç½‘è¿æ¥/","link":"","permalink":"https://nymrli.top/2019/02/28/Flask-æœ¬åœ°å±€åŸŸç½‘è¿æ¥/","excerpt":"","text":"Flask æœ¬åœ°å±€åŸŸç½‘è¿æ¥ ä¹‹å‰éƒ½æ˜¯åœ¨æ´»åŠ¨å®¤çš„ç”µè„‘ä¸Šé…å¥½webç¯å¢ƒï¼Œä½†å…¶å®å‘ç°å¾ˆå¤šæ¯”èµ›åªè¦æˆªå›¾å°±å¤Ÿäº†ã€‚æ‰€ä»¥è¿™æ¬¡çœ‹äº†ä¸‹èƒ½ä¸èƒ½ç”¨å±€åŸŸç½‘è®¿é—®ã€‚ä¸€æŸ¥æœç„¶flaskå¯ä»¥é€šè¿‡å±€åŸŸç½‘è¿›è¡Œè®¿é—® ä½¿ç”¨pycharmçš„æœ‹å‹è¦è¿™æ ·è®¾å®š 1.run-&gt;Edit Configurations 2.Additional options 3.è¿è¡Œrunï¼ˆCtrl+shift+F10ï¼‰å³å¯ æ³¨:å¦‚æœæ²¡æœ‰è¿™æ ·è®¾å®š pycharmå¯åŠ¨ æ˜¯ä¸ä¼šæœ‰ä½œç”¨çš„ï¼ˆå°±åƒè¿™æ ·ï¼‰åœ°å€ä¾æ—§ä¼šæ˜¯127.0.0.1 æŸ¥çœ‹è‡ªå·±çš„IPåœ°å€ 1.å‘½ä»¤è¡Œæ–¹å¼ cmd-&gt;ipconfig-&gt;IPv4 2.æŸ¥ç½‘ç»œä¸å…±äº«ä¸­å¿ƒ æ‰“å¼€ç«¯å£ å¦‚æœè¿˜ä¸è¡Œçš„è¯å°±å¯èƒ½æ˜¯ ç«¯å£æ²¡æœ‰æ‰“å¼€ è§£å†³æ–¹æ¡ˆ: å¼€å§‹ä¸­æœç´¢ windowsé˜²ç«å¢™ ï¼Œ è¿™æ ·å°±å¤§åŠŸå‘Šæˆäº†ï¼ ç„¶åé€šè¿‡ å±€åŸŸç½‘IPï¼šPORTå°±å¯ä»¥è®¿é—®åˆ°ç½‘é¡µå•¦","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"flask","slug":"flask","permalink":"https://nymrli.top/tags/flask/"}]},{"title":"eclipseä½¿ç”¨","slug":"eclipseä½¿ç”¨","date":"2019-02-26T05:18:25.000Z","updated":"2019-11-27T02:25:01.964Z","comments":true,"path":"2019/02/26/eclipseä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/02/26/eclipseä½¿ç”¨/","excerpt":"","text":"Eclipse é€‰æ‹©å·¥ä½œè·¯å¾„ æ–°å»ºå·¥ç¨‹ ä¸€.é€‰æ‹©File-&gt;New-&gt;Project äºŒ.Java-&gt;Java Project ä¸‰.å·¥ç¨‹é…ç½® è¿™æ­¥å¯ä»¥é€‰æ‹©åˆ›å»ºæˆ–è€…ä¸åˆ›å»ºï¼Œç›®å‰éƒ½æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚ï¼ˆJava 9æœ€å¤§çš„ç‰¹æ€§â€”â€”æ¨¡å—åŒ–ï¼‰ å››.æ˜¯å¦æ‰“å¼€å¯¼èˆªè§†å›¾çª—å£ æ­¤ç±»é¡¹ç›®ä¸Javaé€è§†å›¾ç›¸å…³è”ã€‚ æ­¤é€è§†å›¾æ—¨åœ¨æ”¯æŒJavaå¼€å‘ã€‚å®ƒæä¾›äº†åŒ…èµ„æºç®¡ç†å™¨ã€ç±»å‹å±‚æ¬¡ç»“æ„å’Œç‰¹å®šäºjavaçš„å¯¼èˆªæ“ä½œã€‚ æ‚¨ç°åœ¨æƒ³æ‰“å¼€è¿™ä¸ªé€è§†å›¾å—? å¦‚æœæŒ‰äº†createçš„è¯ï¼Œå°±ä¼šäº§ç”Ÿè¯¥æ–‡ä»¶ â–²æ³¨æ„ ä¸€ä¸ªå·¥ä½œç©ºé—´ä¸­åªèƒ½æœ‰ä¸€ä¸ªå·¥ç¨‹æœ‰main äº”.æ–°å»ºclass ç¼–å†™ç¬¬ä¸€ä¸ªç¨‹åº 123456// package java;public class hello &#123; public static void main(String []args) &#123; System.out.println(\"Hello World\"); &#125;&#125; å¦‚æœç¼–å†™å®Œæˆåï¼Œé€‰æ‹©å·¥å…·æ çš„è¿è¡Œã€‚å¦‚æœè¿è¡ŒæŒ‰é’®æ— æ³•æŒ‰ä¸‹ã€æˆ–æŒ‰ä¸‹æ— æ•ˆï¼Œè¯·æ£€æŸ¥ä»£ç ã€‚ ç±»åæ˜¯å¦å’Œæ–‡ä»¶åä¸€è‡´ï¼ˆåœ¨IDEä¸‹åº”è¯¥ä¸ä¼šäº§ç”Ÿè¿™æ ·çš„é—®é¢˜ï¼‰ mainæ˜¯å¦å†™å¯¹ String []argsè¦å†™ä¸Š,ä¸èƒ½ç¼ºçœ æ³¨æ„ . å¦‚æœå‘ç”Ÿé”™è¯¯ ï¼Œ ä¼šäº§ç”Ÿå¦‚ä¸‹å¼¹çª— ï¼Œ æ­¤æ—¶åº”è¯¥å†æ¬¡æ£€æŸ¥è¯­æ³• navigationå¯¼èˆªæ è¯´æ˜ é™„å½• è‡ªåŠ¨æ·»åŠ æ³¨é‡Š ä¸€ã€æ–°å»ºclassæ—¶è‡ªåŠ¨æ·»åŠ æ³¨é‡Š windowsâ€“&gt;preferenceè¿›å…¥é€‰é¡¹å¡ã€‚ ç„¶åé€‰æ‹©Javaâ€“&gt;Code Styleâ€“&gt;Code Templatesï¼Œå¦‚å›¾ï¼š æŒ‰ä¸‹Editï¼Œç„¶åæ·»åŠ ä¸€è¡Œ@(éšæ„) ${date}å³å¯ï¼Œ${date}ä¸ºå›ºå®šçš„å®ï¼Œå¤§å°å†™å†™é”™æ— æ•ˆ ä¿å­˜é…ç½®åï¼Œé€‰ä¸­ç±»ï¼Œä½¿ç”¨å¿«æ·é”®altï¼‹shift+jå¯ä»¥å¿«é€Ÿæ·»åŠ æ³¨é‡Šã€‚ æ–°å»ºç±»è‡ªåŠ¨æ·»åŠ æ³¨é‡Š é€‰æ‹©Code Templatesé€‰é¡¹å¡å†…çš„Codeâ€”&gt;New Java filesï¼Œç¼–è¾‘å®ƒã€‚ 123456789$&#123;filecomment&#125;$&#123;package_declaration&#125;/*** @author ä½œè€…* @version åˆ›å»ºæ—¶é—´ï¼š$&#123;date&#125; $&#123;time&#125;* ç±»è¯´æ˜*/$&#123;typecomment&#125;$&#123;type_declaration&#125; æ³¨é‡Šå†…å®¹æ‘˜è‡ªeclipseè‡ªåŠ¨æ·»åŠ ä½œè€…ã€æ—¥æœŸç­‰æ³¨é‡Š è®¾ç½®è¡¥å…¨ä»£ç  æ‰“å¼€eclipseä¾æ¬¡ç‚¹å‡»Window --&gt; Perferences --&gt; Java --&gt; Editor --&gt; Content Assist-&gt;åœ¨ã€Auto activation triggers for Javaï¼šã€‘é€‰é¡¹åçš„æ–‡æœ¬æ¡†ä¸­ä¼šçœ‹åˆ°ä¸€ä¸ª**&quot;.&quot;**ï¼Œå°†å…¶æ”¹æˆqwertyuiopasdfghjklzxcvbnmå³å¯ â–²åˆå§‹å®‰è£…å®Œeclipseåï¼Œé»˜è®¤æƒ…å†µä¸‹åªæœ‰åœ¨ä½ è¾“å…¥&quot;.&quot;ä¹‹åæ‰ä¼šæœ‰ä»£ç æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨ã€‚ ä¿®æ”¹è¡¥å…¨æç¤ºæ—¶é—´ Window --&gt; Perferences --&gt; Java --&gt; Editor --&gt; Content Assist-&gt;åœ¨ã€Auto activation delay(ms)ï¼šã€‘ å¿«æ·é”®ä»‹ç» Alt+ Shift + j , å¿«é€Ÿæ³¨é‡Š Alt + â†‘ å‘ä¸Šåˆ‡æ¢ ctrl +D åˆ é™¤è¯¥è¡Œ Alt+â†” åˆ‡å›ä¸Šä¸€å¤„ç¼–è¾‘ä½ç½® Shift+Alt+â†” é€‰ä¸­å•è¯ Ctrl + Enter åˆ‡æ¢åˆ°è¡Œå°¾ Shift + Enter ç›´æ¥åˆ‡æ¢ä¸‹ä¸€è¡Œ Ctrl+Alt+â†‘ï¼Œå³å¯ä»¥åœ¨ä¸Šé¢å¿«é€Ÿå¤åˆ¶ä¸€è¡Œã€‚ Ctrl+Shift+f: æ ¼å¼åŒ–ä»£ç  å¿«é€Ÿæ·»åŠ getå’Œsetæ–¹æ³•ï¼š é¦–å…ˆåˆ›å»ºå¥½è¯¥ç±»çš„field; é€‰ä¸­éœ€è¦ç”Ÿæˆçš„å˜é‡ï¼Œç„¶åshift+alt+sï¼Œé€‰æ‹©generate getters and getters,","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"IDE","slug":"IDE","permalink":"https://nymrli.top/tags/IDE/"}]},{"title":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬äºŒæ¬¡ä½œä¸š","slug":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬äºŒæ¬¡ä½œä¸š","date":"2019-02-26T04:52:41.000Z","updated":"2019-09-15T08:07:31.035Z","comments":true,"path":"2019/02/26/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬äºŒæ¬¡ä½œä¸š/","link":"","permalink":"https://nymrli.top/2019/02/26/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬äºŒæ¬¡ä½œä¸š/","excerpt":"","text":"æ€»åˆ†ï¼š100 é€‰æ‹©é¢˜å¾—åˆ†ï¼š60 \\1. è¡¨è¾¾å¼9==8&amp;&amp;3&lt;7çš„è¿ç®—ç»“æœæ˜¯ï¼ˆ ï¼‰ A.1 B.0 C.true D.false æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\2. è¡¨è¾¾å¼(3&gt;2)?8:9çš„è¿ç®—ç»“æœæ˜¯ï¼ˆ ï¼‰ A.3 B.2 C.8 D.9 æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\3. è¡¨è¾¾å¼9-7&lt;0||11&gt;8çš„è¿ç®—ç»“æœï¼ˆ ï¼‰ A.true B.false C.1 D.0 æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\4. è¡¨è¾¾å¼48%9+5*5-4çš„è¿ç®—ç»“æœï¼ˆ ï¼‰ A.24 B.26 C.-30 D.46 æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\5. è¡¨è¾¾å¼2&gt;=5çš„è¿ç®—ç»“æœæ˜¯ï¼ˆ ï¼‰ A.2 B.5 C.true D.false æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\6. è¡¨è¾¾å¼15+4*5-12çš„è¿ç®—ç»“æœæ˜¯ï¼ˆ ï¼‰ A.15 B.23 C.12 D.-133 æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\7. ä»¥ä¸‹ï¼ˆ ï¼‰ä¸å±äºå¤åˆç±»å‹çš„æ•°æ®ç±»å‹ A.ç±» B.å­—ç¬¦å‹ C.æ•°ç»„ D.æ¥å£ æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\8. åœ¨Javaä¸­ï¼Œä¸å±äºæ•´æ•°ç±»å‹çš„æ˜¯ï¼ˆ ï¼‰ A.double B.long C.int D.byte æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\9. ä¸‹åˆ—å˜é‡å®šä¹‰ä¸­ï¼Œï¼ˆ ï¼‰æ˜¯é”™è¯¯çš„ A.float x;y; B.float x,y=3.14f; C.public int i=100,j=2,k; D.int i=100;int j=200; æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\10. ä»¥ä¸‹é€‰é¡¹ä¸­ï¼Œï¼ˆ ï¼‰èƒ½æ­£ç¡®è¡¨ç¤ºJavaè¯­è¨€ä¸­çš„ä¸€ä¸ªæ•´å‹å¸¸é‡ã€‚ A.-8.0 B.1,000,000 C.-30 D.â€œ456â€ æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\11. ä¸‹é¢ç¨‹åºæ®µæ‰§è¡Œåçš„ç»“è®ºæ˜¯ï¼ˆ ï¼‰int m=2,n=2; m+=m-=m*m; n-=n*n; n=n+n; A.m=n B.m&gt;n C.m&lt;n D.mä¸nç±»å‹ä¸åŒï¼Œä¸èƒ½æ¯”è¾ƒ æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\12. æ‰§è¡Œä¸‹åˆ—ç¨‹åºæ®µï¼š int no; int a=19,b=8; no=(a%b&gt;5)?a+b:a-b; System.out.println(no);è¾“å‡ºç»“æœæ˜¯ï¼š A.2 B.9 C.11 D.27 æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\13. ä¸‹åˆ—è¯­å¥æ‰§è¡Œåçš„è¾“å‡ºç»“æœæ˜¯ï¼š( ) int e=Integer.parseInt(&quot;&quot;+3+3); System.out.println(e-2.5); A.30.5 B.3.5 C.332.5 D.8.5 æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\14. å®šä¹‰aä¸ºintç±»å‹çš„å˜é‡å¹¶ä¸”å·²è¢«èµ‹åˆå€¼ï¼Œåˆ™åˆæ³•çš„èµ‹å€¼è¯­å¥æ˜¯ï¼ˆ ï¼‰ A.a+1==4; B.a+=a*8; C.a=6.6f; D.int a=18; æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\15. è®¾mã€nã€xã€yä¸ºå·²èµ‹å€¼çš„intå˜é‡ï¼Œä¸‹åˆ—ï¼ˆ ï¼‰çš„è¿ç®—ç»“æœå±äºéé€»è¾‘å€¼ã€‚ A.m!=n&amp;x%y&lt;m B.m++==m+n+x+y C.++m*bâ€“+y D.m+n&gt;=x+y æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\16. ä»¥ä¸‹é€‰é¡¹ä¸­çš„å˜é‡éƒ½å·²ç»æ­£ç¡®å®šä¹‰å¹¶ä¸”èµ‹åˆå€¼ï¼Œä¸åˆæ³•çš„è¡¨è¾¾å¼æ˜¯ï¼ˆ ï¼‰ A.m &gt;= 6 == n &gt; 1 B.â€˜mâ€™ + 6 C.â€˜mâ€™ = 8 D.â€˜Mâ€™ % 8 æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\17. ä»¥ä¸‹æ ‡è¯†ç¬¦ä¸­ï¼Œï¼ˆ ï¼‰æ˜¯ä¸åˆæ³•çš„ A.inter_net B.i_nong C.Helo D.*member æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\18. ä»¥ä¸‹å­—ç¬¦å¸¸é‡ä¸­ä¸åˆæ³•çš„æ˜¯ï¼ˆ ï¼‰ A.â€™#â€™ B.â€™&amp;â€™ C.â€œPâ€ D.â€˜å›§â€™ æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\19. ä¸‹é¢ï¼ˆ ï¼‰æ˜¯Javaæ•°æ®ç±»å‹ä¸­intç±»å‹çš„å–å€¼èŒƒå›´ã€‚ A.-27~27-1 B.0~216-1 C.-215-215-1 D.-231~231-1 æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\20. åœ¨Javaè¯­è¨€ä¸­ï¼Œä¸‹é¢ï¼ˆ ï¼‰ç±»å‹å¯ä»¥è¡¨ç¤ºæ•´æ•°åŸºæœ¬æ•°æ®ç±»å‹ã€‚ A.single B.byte C.double D.char æ­£ç¡®ç­”æ¡ˆæ˜¯: B ç¼–ç¨‹é¢˜å¾—åˆ†ï¼š40 2-1 æ˜¯ä¸æ˜¯å¤ªèƒ–äº† å¾—åˆ†ï¼š10 / 10 12345678910import java.util.Scanner;public class Main &#123; public static void main(String []args) &#123; Scanner scanner = new Scanner(System.in); int height = scanner.nextInt(); double result = (height-100)*0.9*2; System.out.printf(\"%.1f\\n\" , result); &#125; &#125; 2-2 Say hello to integers å¾—åˆ†ï¼š10 / 10 1234567891011import java.util.Scanner;public class Main &#123; public static void main(String []args) &#123; Scanner scanner = new Scanner(System.in); int one = scanner.nextInt(); int two = scanner.nextInt(); System.out.printf(\"Hello, %d and %d!\\n\" ,one,two); //System.out.println( \"Hello, \"+one+\" and \"+two+\"!\"); &#125; &#125; 2-3 æ±‚æ•´æ•°çš„å¹³å‡å€¼ å¾—åˆ†ï¼š10 / 10 12345678910111213import java.util.Scanner;public class Main &#123; public static void main(String []args) &#123; Scanner scanner = new Scanner(System.in); int one = scanner.nextInt(); int two = scanner.nextInt(); int thr = scanner.nextInt(); int four = scanner.nextInt(); int sum = one+two+thr+four; System.out.printf(\"Sum=%d;Average=%.1f\\n\" ,sum,sum/4.0); &#125; &#125; 2-4 æ•´æ•°å››åˆ™è¿ç®— å¾—åˆ†ï¼š10 / 10 123456789101112131415161718import java.util.Scanner;public class Main &#123; /** * @author Mr.li * @param args */ public static void main(String []args) &#123; Scanner scanner = new Scanner(System.in); int a = scanner.nextInt(); int b = scanner.nextInt(); System.out.printf(\"%d+%d=%d\\n\" , a,b,a + b); System.out.printf(\"%d-%d=%d\\n\" , a,b,a - b); System.out.printf(\"%d*%d=%d\\n\" , a,b,a * b); System.out.printf(\"%d/%d=%d\\n\" , a,b,a / b); // System.out.println(a+\"+\"+b+\"=\"+(a+b)); &#125; &#125; 2-3 åæ°æ¸©åº¦è½¬æ¢æ‘„æ°æ¸©åº¦ å¾—åˆ†ï¼š10 / 10 123456789import java.util.Scanner;public class Main &#123; public static void main(String []args) &#123; Scanner scanner = new Scanner(System.in); int Ftem = scanner.nextInt(); int Ctem = 5*(Ftem-32)/9; System.out.printf(\"Celsius=\"+Ctem+\"\" ); &#125; &#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬ä¸€æ¬¡ä½œä¸š","slug":"å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬ä¸€æ¬¡ä½œä¸š","date":"2019-02-26T04:50:14.000Z","updated":"2019-09-15T08:07:31.032Z","comments":true,"path":"2019/02/26/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬ä¸€æ¬¡ä½œä¸š/","link":"","permalink":"https://nymrli.top/2019/02/26/å—äº¬é‚®ç”µå¤§å­¦javaç¨‹åºè®¾è®¡ä½œä¸šåœ¨çº¿ç¼–ç¨‹ç¬¬ä¸€æ¬¡ä½œä¸š/","excerpt":"","text":"æ€»åˆ†ï¼š100 é€‰æ‹©é¢˜å¾—åˆ†ï¼š40 \\1. Javaè¯­è¨€ä¸­ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¸€å…±æœ‰ï¼ˆ ï¼‰ç§ã€‚ A.16 B.2 C.4 D.8 æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\2. Javaè™šæ‹Ÿæœºçš„è‹±æ–‡ç¼©å†™æ˜¯ï¼ˆ ï¼‰ A.JRE B.ECLIPSE C.JVM D.JDK æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\3. Javaç¨‹åºä¸­ï¼Œæœ€å¸¸è§çš„å¯¹ä¸»æ–¹æ³•çš„å®šä¹‰æ˜¯ï¼ˆ ï¼‰ã€‚ A.private static int main(String args[ ]){ } B.public static void main(String args[ ]){ } C.public static int main(char args[ ]){ } D.private static void main(char args[ ]){ } æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\4. Javaæºç¨‹åºçš„æ–‡ä»¶åå¿…é¡»å’Œç¨‹åºä¸­ï¼ˆ ï¼‰çš„åå­—ç›¸åŒã€‚ A.å…¬å…±ç±» B.ä¸»å‡½æ•° C.ä¸»ç¨‹åº D.ä¸»æ–¹æ³• æ­£ç¡®ç­”æ¡ˆæ˜¯: A \\5. Javaè¯­è¨€å­—èŠ‚ç æ–‡ä»¶çš„åç¼€åä¸ºï¼ˆ ï¼‰ã€‚ Aâ€¦byte Bâ€¦bit Câ€¦class Dâ€¦java æ­£ç¡®ç­”æ¡ˆæ˜¯: C \\6. Javaè¯­è¨€æºç¨‹åºçš„æ–‡ä»¶åç¼€æ˜¯ï¼ˆ ï¼‰ã€‚ Aâ€¦j Bâ€¦ja Câ€¦jav Dâ€¦java æ­£ç¡®ç­”æ¡ˆæ˜¯: D \\7. Javaè¯­è¨€ä¸­å®ç°å°†æºä»£ç è½¬æ¢æˆå­—èŠ‚ç æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œè¢«ç§°ä¸ºï¼ˆ ï¼‰ã€‚ A.ç¿»è¯‘ B.ç¼–è¯‘ C.è§£é‡Š D.æ±‡ç¼– æ­£ç¡®ç­”æ¡ˆæ˜¯: B \\8. ä¸‹åˆ—å“ªä¸€ç§è¯­è¨€ä¸æ”¯æŒé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼Ÿ A.C B.C++ C.Java D.Python æ­£ç¡®ç­”æ¡ˆæ˜¯: A ç¼–ç¨‹é¢˜å¾—åˆ†ï¼š60 1-3 è¾“å‡ºWhat is a computer?å¾—åˆ†ï¼š10 / 10 12345public class Main &#123; public static void main(String[] args) &#123; System.out.println(\"What is a computer?\"); &#125;&#125; 1-2 è¾“å‡ºI Love Programming! å¾—åˆ†ï¼š10 / 10 12345public class Main &#123; public static void main(String[] args) &#123; System.out.println(\"I Love Programming!\"); &#125;&#125; 1-1 è¾“å‡ºHello World! å¾—åˆ†ï¼š10 / 10 123456import java.io.*;public class Main &#123; public static void main(String[] args) throws IOException&#123; System.out.println(\"Hello World!\"); &#125;&#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"https://nymrli.top/tags/java/"},{"name":"NJUPT","slug":"NJUPT","permalink":"https://nymrli.top/tags/NJUPT/"}]},{"title":"Pythonä»»åŠ¡è°ƒåº¦æ¨¡å—APScheduler","slug":"Pythonä»»åŠ¡è°ƒåº¦æ¨¡å—APScheduler","date":"2019-02-24T11:30:06.000Z","updated":"2019-09-15T08:07:30.985Z","comments":true,"path":"2019/02/24/Pythonä»»åŠ¡è°ƒåº¦æ¨¡å—APScheduler/","link":"","permalink":"https://nymrli.top/2019/02/24/Pythonä»»åŠ¡è°ƒåº¦æ¨¡å—APScheduler/","excerpt":"","text":"Pythonä»»åŠ¡è°ƒåº¦æ¨¡å—APScheduler APScheduleræ˜¯ä¸€ä¸ªpythonçš„ç¬¬ä¸‰æ–¹åº“ï¼Œç”¨æ¥æä¾›pythonçš„åå°ç¨‹åºã€‚åŒ…å«å››ä¸ªç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯ï¼š triggersï¼š ä»»åŠ¡è§¦å‘å™¨ç»„ä»¶ï¼Œæä¾›ä»»åŠ¡è§¦å‘æ–¹å¼ triggersï¼ˆè§¦å‘å™¨ï¼‰ä¸­åŒ…å«è°ƒåº¦é€»è¾‘ï¼Œæ¯ä¸ªä½œä¸šéƒ½ç”±è‡ªå·±çš„è§¦å‘å™¨æ¥å†³å®šä¸‹æ¬¡è¿è¡Œæ—¶é—´ã€‚é™¤äº†ä»–ä»¬è‡ªå·±åˆå§‹é…ç½®æ„å¤–ï¼Œè§¦å‘å™¨å®Œå…¨æ˜¯æ— çŠ¶æ€çš„ã€‚ job storesï¼š ä»»åŠ¡å•†åº—ç»„ä»¶ï¼Œæä¾›ä»»åŠ¡ä¿å­˜æ–¹å¼ job storesï¼ˆä½œä¸šå­˜å‚¨å™¨ï¼‰å­˜å‚¨è¢«è°ƒåº¦çš„ä½œä¸šï¼Œé»˜è®¤çš„ä½œä¸šå­˜å‚¨å™¨åªæ˜¯ç®€å•åœ°æŠŠä½œä¸šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå…¶ä»–çš„ä½œä¸šå­˜å‚¨å™¨åˆ™æ˜¯å°†ä½œä¸šä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚å½“ä½œä¸šè¢«ä¿å­˜åˆ°ä¸€ä¸ªæŒä¹…åŒ–çš„ä½œä¸šå­˜å‚¨å™¨ä¸­çš„æ—¶å€™ï¼Œè¯¥ä½œä¸šçš„æ•°æ®ä¼šè¢«åºåˆ—åŒ–ï¼Œå¹¶åœ¨åŠ è½½æ—¶è¢«ååºåˆ—åŒ–ã€‚ä½œä¸šå­˜å‚¨å™¨ä¸èƒ½å…±äº«è°ƒåº¦å™¨ã€‚ executorsï¼š ä»»åŠ¡è°ƒåº¦ç»„ä»¶ï¼Œæä¾›ä»»åŠ¡è°ƒåº¦æ–¹å¼ executorsï¼ˆæ‰§è¡Œå™¨ï¼‰å¤„ç†ä½œä¸šçš„è¿è¡Œï¼Œä»–ä»¬é€šå¸¸é€šè¿‡åœ¨ä½œä¸šä¸­æäº¤æŒ‡å®šçš„å¯è°ƒç”¨å¯¹è±¡åˆ°ä¸€ä¸ªçº¿ç¨‹æˆ–è€…è¿›åŸæ± æ¥è¿›è¡Œã€‚å½“ä½œä¸šå®Œæˆæ—¶ï¼Œæ‰§è¡Œå™¨å°†ä¼šé€šçŸ¥è°ƒåº¦å™¨ã€‚ schedulersï¼š ä»»åŠ¡è°ƒåº¦ç»„ä»¶ï¼Œæä¾›ä»»åŠ¡å·¥ä½œæ–¹å¼ schedulersï¼ˆè°ƒåº¦å™¨ï¼‰é…ç½®ä½œä¸šå­˜å‚¨å™¨å’Œæ‰§è¡Œå™¨å¯ä»¥åœ¨è°ƒåº¦å™¨ä¸­å®Œæˆï¼Œä¾‹å¦‚æ·»åŠ ã€ä¿®æ”¹å’Œç§»é™¤ä½œä¸šã€‚æ ¹æ®ä¸åŒçš„åº”ç”¨åœºæ™¯å¯ä»¥é€‰ç”¨ä¸åŒçš„è°ƒåº¦å™¨ï¼Œå¯é€‰çš„æœ‰BlockingScheduler,BackgroundScheduler,AsyncIOScheduler,GeventScheduler,TornadoScheduler,TwistedScheduler,QtScheduler 7ç§ã€‚ å…¶ä¸­BlockingSchedulerä¸BackgroundScheduleræ˜¯å…¶ä¸­æœ€å¸¸ç”¨çš„ä¸¤ç§è°ƒåº¦å™¨ã€‚é‚£ä»–ä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ BlockingScheduler: è°ƒç”¨startå‡½æ•°åä¼šé˜»å¡å½“å‰çº¿ç¨‹ã€‚å½“è°ƒåº¦å™¨æ˜¯ä½ åº”ç”¨ä¸­å”¯ä¸€è¦è¿è¡Œçš„ä¸œè¥¿æ—¶ BackgroundScheduler: è°ƒç”¨startåä¸»çº¿ç¨‹ä¸ä¼šé˜»å¡ã€‚å½“ä½ ä¸è¿è¡Œä»»ä½•å…¶ä»–æ¡†æ¶æ—¶ä½¿ç”¨ï¼Œå¹¶å¸Œæœ›è°ƒåº¦å™¨åœ¨ä½ åº”ç”¨çš„åå°æ‰§è¡Œã€‚ ä½¿ç”¨çš„ä¸€ä¸ªç®€å•å®ä¾‹ 1234567891011121314from apscheduler.schedulers.blocking import BlockingScheduler # é˜»å¡import time# å®ä¾‹åŒ–ä¸€ä¸ªè°ƒåº¦å™¨scheduler = BlockingScheduler() def job1(): print \"%s: æ‰§è¡Œä»»åŠ¡\" % time.asctime()# æ·»åŠ ä»»åŠ¡å¹¶è®¾ç½®è§¦å‘æ–¹å¼ä¸º3sä¸€æ¬¡scheduler.add_job(job1, 'interval', seconds=3)# å¼€å§‹è¿è¡Œè°ƒåº¦å™¨scheduler.start() è§¦å‘å™¨ date ä¸€æ¬¡æ€§æŒ‡å®šæ—¥æœŸ interval åœ¨æŸä¸ªæ—¶é—´èŒƒå›´å†…é—´éš”å¤šé•¿æ—¶é—´æ‰§è¡Œä¸€æ¬¡ cron å’ŒLinux crontabæ ¼å¼å…¼å®¹ï¼Œæœ€ä¸ºå¼ºå¤§ date æœ€åŸºæœ¬çš„ä¸€ç§è°ƒåº¦ï¼Œä½œä¸šåªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚å®ƒçš„å‚æ•°å¦‚ä¸‹ï¼š run_date (datetime|str) â€“ ä½œä¸šçš„è¿è¡Œæ—¥æœŸæˆ–æ—¶é—´ timezone (datetime.tzinfo|str) â€“ æŒ‡å®šæ—¶åŒº 1234# 2016-12-12è¿è¡Œä¸€æ¬¡job_functionsched.add_job(job_function, 'date', run_date=date(2016, 12, 12), args=['text'])# 2016-12-12 12:00:00è¿è¡Œä¸€æ¬¡job_functionsched.add_job(job_function, 'date', run_date=datetime(2016, 12, 12, 12, 0, 0), args=['text']) interval é—´éš”è°ƒåº¦ï¼Œå‚æ•°å¦‚ä¸‹ï¼š weeks (int) â€“ é—´éš”å‡ å‘¨ days (int) â€“ é—´éš”å‡ å¤© hours (int) â€“ é—´éš”å‡ å°æ—¶ minutes (int) â€“ é—´éš”å‡ åˆ†é’Ÿ seconds (int) â€“ é—´éš”å¤šå°‘ç§’ start_date (datetime|str) â€“ å¼€å§‹æ—¥æœŸ end_date (datetime|str) â€“ ç»“æŸæ—¥æœŸ 12# æ¯ä¸¤ä¸ªå°æ—¶è°ƒä¸€ä¸‹job_functionsched.add_job(job_function, 'interval', hours=2) cronå‚æ•°å¦‚ä¸‹ï¼š year (int|str) â€“ å¹´ï¼Œ4ä½æ•°å­— month (int|str) â€“ æœˆ (èŒƒå›´1-12) day (int|str) â€“ æ—¥ (èŒƒå›´1-31) week (int|str) â€“ å‘¨ (èŒƒå›´1-53) day_of_week (int|str) â€“ å‘¨å†…ç¬¬å‡ å¤©æˆ–è€…æ˜ŸæœŸå‡  (èŒƒå›´0-6 æˆ–è€… mon,tue,wed,thu,fri,sat,sun) hour (int|str) â€“ æ—¶ (èŒƒå›´0-23) minute (int|str) â€“ åˆ† (èŒƒå›´0-59) second (int|str) â€“ ç§’ (èŒƒå›´0-59) start_date (datetime|str) â€“ æœ€æ—©å¼€å§‹æ—¥æœŸ(åŒ…å«) end_date (datetime|str) â€“ æœ€æ™šç»“æŸæ—¶é—´(åŒ…å«) timezone (datetime.tzinfo|str) â€“ æŒ‡å®šæ—¶åŒº 1234# job_functionå°†ä¼šåœ¨6,7,8,11,12æœˆçš„ç¬¬3ä¸ªå‘¨äº”çš„1,2,3ç‚¹è¿è¡Œsched.add_job(job_function, 'cron', month='6-8,11-12', day='3rd fri', hour='0-3')# æˆªæ­¢åˆ°2016-12-30 00:00:00ï¼Œæ¯å‘¨ä¸€åˆ°å‘¨äº”æ—©ä¸Šäº”ç‚¹åŠè¿è¡Œjob_functionsched.add_job(job_function, 'cron', day_of_week='mon-fri', hour=5, minute=30, end_date='2016-12-31') æ·»åŠ ä»»åŠ¡ æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯ä½¿ç”¨add_job()å‡½æ•°ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡scheduled_job()è£…é¥°å™¨ã€‚ add_job()å‡½æ•°æ–¹å¼ 123456789101112131415from apscheduler.schedulers.blocking import BlockingSchedulerimport datetime def my_job1(): print 'my_job1 is running, Now is %s' % datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\") def my_job2(): print 'my_job2 is running, Now is %s' % datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\") sched = BlockingScheduler()# æ¯éš”5ç§’è¿è¡Œä¸€æ¬¡my_job1sched.add_job(my_job1, 'interval', seconds=5,id='my_job1')# æ¯éš”5ç§’è¿è¡Œä¸€æ¬¡my_job2sched.add_job(my_job2,'cron',second='*/5',id='my_job2')sched.start() scheduled_job()è£…é¥°å™¨æ–¹å¼ 1234567891011121314from apscheduler.schedulers.blocking import BlockingSchedulerimport datetime sched = BlockingScheduler()#æ¯éš”5ç§’è¿è¡Œä¸€æ¬¡my_job1@sched.scheduled_job('interval',seconds=5,id='my_job1')def my_job1(): print 'my_job1 is running, Now is %s' % datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\") #æ¯éš”5ç§’è¿è¡Œä¸€æ¬¡my_job2@sched.scheduled_job('cron',second='*/5',id='my_job2')def my_job2(): print 'my_job2 is running, Now is %s' % datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")sched.start() ä½¿ç”¨SQLAlchemyä½œä¸šå­˜å‚¨å™¨å­˜æ”¾ä½œä¸š 12345678910111213141516171819202122from apscheduler.schedulers.blocking import BlockingSchedulerfrom datetime import datetime,timedeltaimport logging sched = BlockingScheduler()def my_job(): print 'my_job is running, Now is %s' % datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")#ä½¿ç”¨sqlalchemyä½œä¸šå­˜å‚¨å™¨url='mysql+mysqldb://root:123456@localhost:3306/scrapy?charset=utf8'sched.add_jobstore('sqlalchemy',url=url)#æ·»åŠ ä½œä¸šsched.add_job(my_job,'interval',id='myjob',seconds=5) log = logging.getLogger('apscheduler.executors.default')log.setLevel(logging.INFO) # DEBUG#è®¾å®šæ—¥å¿—æ ¼å¼fmt = logging.Formatter('%(levelname)s:%(name)s:%(message)s')h = logging.StreamHandler()h.setFormatter(fmt)log.addHandler(h) sched.start() éƒ¨åˆ†æ‘˜è‡ª:APScheduleræµ…æ Flask-APScheduler å¤§è‡´ç”¨æ³•è·ŸAPSchedulerä¸€è‡´ï¼Œåªä¸è¿‡éœ€è¦ 1.åœ¨é…ç½®ä¸­è®¾ç½®SCHEDULER_API_ENABLED = True 2.appé…ç½® 12345from flask_apscheduler import APScheduler;scheduler = APScheduler();scheduler.init_app(app)scheduler.start() 3.æ·»åŠ ä»»åŠ¡ exts.py 12from flask_apscheduler import APSchedulersche = APScheduler() aap.py 123456789101112from exts import db,mail,schesche.init_app(app)...def refreshinfo(): passsche.add_job(func=refreshinfo, id='whetherInfo', trigger='interval', seconds=150)sche.start()","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"æ­å»ºfrpæœåŠ¡--é˜¿é‡Œäº‘æœåŠ¡å™¨","slug":"æ­å»ºfrpæœåŠ¡-é˜¿é‡Œäº‘æœåŠ¡å™¨","date":"2019-02-24T06:56:27.000Z","updated":"2021-11-24T15:11:04.152Z","comments":true,"path":"2019/02/24/æ­å»ºfrpæœåŠ¡-é˜¿é‡Œäº‘æœåŠ¡å™¨/","link":"","permalink":"https://nymrli.top/2019/02/24/æ­å»ºfrpæœåŠ¡-é˜¿é‡Œäº‘æœåŠ¡å™¨/","excerpt":"","text":"æ­å»ºfrpæœåŠ¡â€“é˜¿é‡Œäº‘æœåŠ¡å™¨ ä¸ºäº†å¯ä»¥è¿œç¨‹è®¿é—®æ´»åŠ¨å®¤çš„ç”µè„‘ï¼Œéœ€è¦è¿›è¡Œå†…ç½‘ç©¿é€ã€‚ä¹‹å‰9å—é’±ä¹°äº†èŠ±ç”Ÿå£³çš„æœåŠ¡ï¼Œå‹‰å¼ºç”¨ç”¨è¿˜è¡Œï¼Œå¸¦å®½å¾ˆæœ‰é™ã€‚å¬è¯´äº†frpå,æ‰“ç®—åœ¨é˜¿é‡Œäº‘ä¸Šå®‰ä¸ªfrpæœåŠ¡ï¼Œå……å½“ä¸­è½¬æœåŠ¡å™¨ã€‚ ä»€ä¹ˆæ˜¯frp frp æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œå¯ä»¥å¸®åŠ©æ‚¨è½»æ¾åœ°è¿›è¡Œå†…ç½‘ç©¿é€ï¼Œå¯¹å¤–ç½‘æä¾›æœåŠ¡ï¼Œæ”¯æŒ tcp, http, https ç­‰åè®®ç±»å‹ï¼Œå¹¶ä¸” web æœåŠ¡æ”¯æŒæ ¹æ®åŸŸåè¿›è¡Œè·¯ç”±è½¬å‘ã€‚ å¼€å§‹æ­å»º å¤–ç½‘ä¸»æœº SSHè¿æ¥ä¸Šå¤–ç½‘ä¸»æœºåï¼Œä½¿ç”¨wgetæŒ‡ä»¤ä¸‹è½½frpã€‚ wget https://github.com/fatedier/frp/releases/download/v0.20.0/frp_0.20.0_linux_amd64.tar.gz ä½¿ç”¨taræŒ‡ä»¤è§£å‹tar.gzæ–‡ä»¶ tar -zxvf frp_0.20.0_linux_amd64.tar.gz ä½¿ç”¨cdæŒ‡ä»¤è¿›å…¥è§£å‹å‡ºæ¥çš„æ–‡ä»¶å¤¹ 1cd frp_0.20.0_linux_amd64/ å¤–ç½‘ä¸»æœºä½œä¸ºæœåŠ¡ç«¯ï¼Œå¯ä»¥åˆ æ‰ä¸å¿…è¦çš„å®¢æˆ·ç«¯æ–‡ä»¶ï¼Œä½¿ç”¨rmæŒ‡ä»¤åˆ é™¤æ–‡ä»¶ã€‚ 12rm -f frpcrm -f frpc.ini æ¥ä¸‹æ¥è¦ä¿®æ”¹æœåŠ¡å™¨é…ç½®æ–‡ä»¶ï¼Œå³frps.iniæ–‡ä»¶ã€‚ä½¿ç”¨viæŒ‡ä»¤å¯¹ç›®æ ‡æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚ 1vi frps.ini æ‰“å¼€frps.iniåå¯ä»¥çœ‹åˆ°é»˜è®¤å·²ç»æœ‰å¾ˆå¤šè¯¦ç»†çš„é…ç½®å’Œç¤ºèŒƒæ ·ä¾‹ï¼Œè¯¥æ–‡ç« ä»…ä»¥è¾¾åˆ°å†…ç½‘ç©¿é€ä¸ºç›®çš„ï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©åˆ æ‰æˆ–æ³¨é‡Šæ‰é‡Œé¢çš„æ‰€æœ‰å†…å®¹ï¼Œç„¶åæ ¹æ®ç¾¤æ™–çš„æƒ…å†µï¼ŒæŒ‰ç…§å®˜æ–¹çš„ä¸­æ–‡æ–‡æ¡£æ·»åŠ ä»¥ä¸‹é…ç½®ã€‚ï¼ˆè¿™é‡Œçš„æ“ä½œéƒ½ä½¿ç”¨viå‘½ä»¤ï¼Œå…³äºviå‘½ä»¤çš„ä½¿ç”¨æ–¹å¼è¿™é‡Œä¸ä½œè¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥è‡ªè¡Œæœç´¢ç›¸å…³ä½¿ç”¨æ–¹æ³•ã€‚ï¼‰ 123[common]bind_port = 7000vhost_http_port = 8080 [common]éƒ¨åˆ†æ˜¯å¿…é¡»æœ‰çš„é…ç½®ï¼Œå…¶ä¸­bind_portæ˜¯è‡ªå·±è®¾å®šçš„frpæœåŠ¡ç«¯ç«¯å£ï¼Œvhost_http_portæ˜¯è‡ªå·±è®¾å®šçš„httpè®¿é—®ç«¯å£ã€‚ ä¿å­˜ä¸Šé¢çš„é…ç½®åï¼Œä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å¯åŠ¨frpæœåŠ¡ç«¯ã€‚ï¼ˆå¦‚æœéœ€è¦åœ¨åå°è¿è¡Œï¼Œè¯·å¾€ä¸‹ç¿»é˜…å…³äºåå°è¿è¡Œçš„éƒ¨åˆ†ã€‚ï¼‰ 1./frps -c ./frps.ini æœåŠ¡ç«¯çš„å·¥ä½œå°±åˆ°æ­¤ç»“æŸäº†ã€‚ å®¢æˆ·ç«¯ å®¢æˆ·ç«¯å‰é¢çš„æ“ä½œå’ŒæœåŠ¡ç«¯æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œè¿™é‡Œä¸ä¸€ä¸€è§£é‡Šã€‚ 123456wget https://github.com/fatedier/frp/releases/download/v0.20.0/frp_0.20.0_linux_amd64.tar.gztar -zxvf frp_0.20.0_linux_amd64.tar.gzcd frp_0.20.0_linux_amd64rm -f frpsrm -f frps.inivi frpc.ini å®¢æˆ·ç«¯çš„é…ç½®å¦‚ä¸‹ 12345678910111213141516171819[common]server_addr = x.x.x.xserver_port = 7000[ssh]type = tcplocal_ip = 127.0.0.1local_port = 22remote_port = 6000[nas]type = httplocal_port = 5000custom_domains = no1.sunnyrx.com[web]type = httplocal_port = 80custom_domains = no2.sunnyrx.com ä¸Šé¢çš„é…ç½®å’ŒæœåŠ¡ç«¯æ˜¯å¯¹åº”çš„ã€‚ [common]ä¸­çš„server_addrå¡«frpæœåŠ¡ç«¯çš„ipï¼ˆä¹Ÿå°±æ˜¯å¤–ç½‘ä¸»æœºçš„IPï¼‰ï¼Œserver_portå¡«frpæœåŠ¡ç«¯çš„bind_protã€‚ [ssh]ä¸­çš„local_portå¡«ç¾¤æ™–çš„sshç«¯å£ã€‚ [nas]ä¸­çš„typeå¯¹åº”æœåŠ¡ç«¯é…ç½®ã€‚local_portå¡«ç¾¤æ™–çš„DSMç«¯å£ã€‚custom_domainsä¸ºè¦æ˜ å°„çš„åŸŸåï¼Œè®°å¾—åŸŸåçš„Aè®°å½•è¦è§£æåˆ°å¤–ç½‘ä¸»æœºçš„IPã€‚ [web]åŒä¸Šï¼Œlocal_portå¡«ç¾¤æ™–çš„webç«¯å£ã€‚è¿™é‡Œåˆ›å»ºäº†ä¸¤ä¸ªhttpåå‘ä»£ç†æ˜¯ä¸ºäº†åˆ†åˆ«æ˜ å°„ç¾¤æ™–ä¸¤ä¸ªé‡è¦çš„ç«¯å£ï¼Œ5000å’Œ80ï¼Œå‰è€…ç”¨äºç™»å½•ç¾¤æ™–ç®¡ç†ï¼Œåè€…ç”¨äºç¾¤æ™–çš„Web Stationå’ŒDS Photoã€‚ ä¿å­˜é…ç½®ï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤è¿è¡Œfrpå®¢æˆ·ç«¯ã€‚ï¼ˆåŒæ ·å¦‚æœéœ€è¦åœ¨åå°è¿è¡Œï¼Œè¯·å¾€ä¸‹ç¿»é˜…å…³äºåå°è¿è¡Œçš„éƒ¨åˆ†ã€‚ï¼‰ 1./frpc -c ./frpc.ini æ­¤æ—¶åœ¨æœåŠ¡ç«¯ä¼šçœ‹åˆ°&quot;start proxy sucess&quot;å­—æ ·ï¼Œå³è¿æ¥æˆåŠŸã€‚ ç°åœ¨å¯ä»¥ç”¨SSHé€šè¿‡å¤–ç½‘ä¸»æœºIP:6000å’Œç¾¤æ™–å»ºç«‹SSHè¿æ¥ã€‚é€šè¿‡æµè§ˆå™¨è®¿é—®no1.sunnyrx.com:8080æ‰“å¼€ç¾¤æ™–nasçš„ç®¡ç†é¡µé¢ï¼Œè®¿é—®no2.sunnyrx.com:8080æ‰“å¼€ç¾¤æ™–Web Stationçš„ç½‘ç«™ï¼ŒDS Photo appå¯ä»¥è¿æ¥no2.sunnyrx.com:8080è¿›å…¥DS Photoç®¡ç†ã€‚ è®©frpåœ¨åå°è¿è¡Œ è™½ç„¶ç°åœ¨frpè¿ä½œèµ·æ¥äº†ï¼Œå†…ç½‘ç©¿é€ä¹Ÿå®ç°äº†ï¼Œä½†è¿™è¿˜æ˜¯ä¸å¤Ÿçš„ã€‚æ­¤æ—¶å¦‚æœæ–­å¼€ä¸æœåŠ¡ç«¯æˆ–è€…å®¢æˆ·ç«¯çš„SSHè¿æ¥ï¼ˆæ¯”å¦‚å…³æ‰äº†Xshellï¼‰ä¹Ÿå°±ä¸­æ­¢äº†frpçš„è¿è¡Œã€‚ ä¿æŒfrpè¿è¡Œæ˜¯å…³é”®æ˜¯è®©æœåŠ¡ç«¯çš„frpå’Œå®¢æˆ·ç«¯çš„frpåœ¨åå°è¿è¡Œï¼Œè¿™é‡Œæä¸¤ä¸ªæ–¹æ³•ä¾›å‚è€ƒï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨screenæŒ‡ä»¤ï¼Œå¦ä¸€ä¸ªæ˜¯ä½¿ç”¨nohupæŒ‡ä»¤ã€‚ç”±äºç¾¤æ™–çš„ç³»ç»Ÿé»˜è®¤æ˜¯æ²¡æœ‰screenæŒ‡ä»¤çš„ï¼Œè¿™é‡Œä¹Ÿä¸æä¾›å®‰è£…screençš„æ–¹æ³•ï¼Œæ‰€ä»¥æ¨èç¾¤æ™–ç›´æ¥ä½¿ç”¨nohupã€‚ å…¶å®æœåŠ¡ç«¯ä¹Ÿç›´æ¥ç”¨â€™nohupâ€™å°±å¥½äº†ã€‚ ä½¿ç”¨screenè®©frpåœ¨åå°è¿è¡Œ ä¸‹é¢çš„ç¤ºèŒƒæ˜¯è¿è¡ŒæœåŠ¡ç«¯çš„frpï¼Œå®¢æˆ·ç«¯å°±ä¸ç¤ºèŒƒäº†ï¼Œå‰é¢æè¿‡ç¾¤æ™–çš„ç³»ç»Ÿæ²¡æœ‰screenæŒ‡ä»¤ã€‚ é¦–å…ˆä½¿ç”¨screenæŒ‡ä»¤åˆ›å»ºä¸€ä¸ªä¼šè¯ã€‚ 1screen -dmS frp ç„¶åè¿›å…¥è¿™ä¸ªä¼šè¯ã€‚ 1screen -r frp æœ€åä½¿ç”¨è¿è¡Œfrpçš„æŒ‡ä»¤ï¼Œåœ¨åé¢åŠ ä¸Š&quot; &amp;&quot;ã€‚ï¼ˆå¦‚æœä¹‹å‰æ–­å¼€äº†SSHè¿æ¥ï¼Œè®°å¾—ç”¨cdæŒ‡ä»¤è¿›å…¥frpçš„ç›®å½•å…ˆã€‚ï¼‰ 1./frps -c ./frps.ini &amp; è¿™æ ·å°±è®©frpåœ¨åå°è¿è¡Œäº†ã€‚ ä½¿ç”¨nohupæŒ‡ä»¤ nohupæŒ‡ä»¤çš„ä½¿ç”¨æ–¹æ³•ç›¸å¯¹ç®€å•ï¼Œåªéœ€è¦åœ¨nohupåé¢åŠ ä¸Šfrpçš„è¿è¡ŒæŒ‡ä»¤å³å¯ã€‚ä¸‹é¢ç¤ºèŒƒçš„æŒ‡ä»¤æ˜¯è¿è¡Œfrpå®¢æˆ·ç«¯ã€‚ï¼ˆåŒæ ·ï¼Œå¦‚æœä¹‹å‰æ–­å¼€äº†SSHè¿æ¥ï¼Œè®°å¾—ç”¨cdæŒ‡ä»¤è¿›å…¥frpçš„ç›®å½•å…ˆã€‚ï¼‰ 1nohup ./frpc -c ./frpc.ini &amp; è¿™æ ·å°±æˆåŠŸè®©frpåœ¨åå°è¿è¡Œäº†ã€‚ â–² æ³¨æ„nohupåƒä¸‡ä¸è¦è¾¾æˆnohubï¼Œä¸ç„¶æ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œæœ‰çš„æ—¶å€™ä¼šæŠ¥é”™å‘Šè¯‰ä½  æ²¡æœ‰nohubè¿™ä¸ªå‘½ä»¤ï¼Œæœ‰çš„æ—¶å€™ç»ˆç«¯ï¼ˆterminalï¼‰ç›´æ¥ä¼šæ¶ˆå¤±è€Œæ²¡æœ‰ååº” æ‘˜è‡ªé“¾æ¥ï¼šhttps://www.jianshu.com/p/e8e26bcc6fe6 ç»è¿‡æ•™ç¨‹æ“ä½œåï¼Œå‘ç°å®¢æˆ·ç«¯ç”µè„‘èƒ½å¤Ÿè¿æ¥åˆ°å­¦é•¿å®¶é‡Œå·²ç»æ­å¥½çš„frpæœåŠ¡å™¨ï¼Œä½†æ˜¯å°±æ˜¯è¿æ¥ä¸ä¸Šé˜¿é‡Œäº‘ã€‚äºæ˜¯çŒœæµ‹æ˜¯é˜¿é‡Œäº‘æŸäº›ç«¯å£æ²¡æœ‰æ‰“å¼€ï¼Œä¸€æŸ¥æœç„¶å¦‚æ­¤ï¼Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ ä¸ºé˜¿é‡Œäº‘çš„å®‰å…¨æœåŠ¡é™åˆ¶ï¼Œåªæœ‰å‡ ä¸ªç«¯å£æ˜¯é»˜è®¤æ‰“å¼€çš„ï¼Œæ‰€ä»¥è¦è‡ªå·±ç™»é™†é˜¿é‡Œäº‘æœåŠ¡å™¨åå°æ›´æ”¹ç«¯å£é™åˆ¶ã€‚ ECSæœåŠ¡å™¨ä¿®æ”¹ç½‘ç»œå’Œå®‰å…¨ç»„ä¸­çš„å®‰å…¨ç»„é…ç½® è½»é‡çº§æœåŠ¡å™¨ä¿®æ”¹å®‰å…¨-é˜²ç«å¢™,å¦‚å›¾ æ·»åŠ å¥½ä»¥å,å‘ç°å®¢æˆ·ç«¯ä»ç„¶è¿ä¸ä¸Šå»ã€‚æ‹…å¿ƒæ˜¯éœ€è¦é‡å¯ï¼Œäºæ˜¯é‡å¯åè¿˜æ˜¯ä¸è¡Œã€‚åˆ°æœ€åæ‰å‘ç°åŸæ¥æ˜¯å®¢æˆ·ç«¯çš„frpc.iniä¸­server_addrå†™é”™äº†ä¸€ä½IPå­—æ®µï¼ŒQAQâ€¦ æœ€åè¿˜è¦è®°å¾—åœ¨é˜²ç«å¢™ä¸­æ‰“å¼€6000ç«¯å£ï¼Œåè®®è¿˜æ˜¯TCPï¼Œæœ€åå³å¯ä»¥é€šè¿‡IP:6000å°±å¯ä»¥è®¿é—®åˆ°å†…ç½‘ä¸»æœºäº† 12345[ssh]type = tcplocal_ip = 127.0.0.1local_port = 22remote_port = 6000 æœåŠ¡æš´éœ² â‘ .tcp æœåŠ¡ç«¯çš„vhost_http_porté…åˆå®¢æˆ·ç«¯çš„type=httpä½¿ç”¨ frps.ini 1234567[common]bind_port = 7000vhost_http_port = 34444dashboard_port = 31356dashboard_user = apollo3ddashboard_pwd = apollo3d frpc.ini 1234567891011121314151617181920212223242526272829303132333435363738394041[common]server_addr = 49.235.118.244server_port = 7000tls_enable = true####################æ­¤å¤„ä¸ºcommonçš„é»˜è®¤é…ç½®åŒºåŸŸæ— éœ€ä¿®æ”¹#################### æ—¥å¿—è®°å½•è·¯å¾„log_file = /home/apollo3d/frp_0.37.1_linux_amd64/common.log# æ—¥å¿—è®°å½•çº§åˆ«(trace, debug, info, warn, error)log_level = info# æ—¥å¿—è®°å½•æ»šåŠ¨å¤©æ•°# log_max_days = 3# frpcå®¢æˆ·ç«¯ç®¡ç†ç•Œé¢admin_addr = 127.0.0.1admin_port = 7400admin_user = apollo3dadmin_passwd = apollo3d# è¿æ¥æ± pool_count = 5# tcpæ•°æ®æµå¤šè·¯å¤ç”¨ï¼Œé»˜è®¤å¼€å¯ï¼ŒæœåŠ¡ç«¯å®¢æˆ·ç«¯éœ€è¦ä¿æŒä¸€è‡´tcp_mux = true# å¤±è´¥é‡è¿login_fail_exit = false# æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯é€šä¿¡åè®®ï¼Œæ”¯æŒtcp\\updprotocol = tcp# dnsæœåŠ¡é€‰ç”¨dns_server = 8.8.8.8#å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å¿ƒè·³æ£€æŸ¥é—´éš”ä¸è¶…æ—¶æ—¶é—´heartbeat_interval = 10heartbeat_timeout = 90##############ä»¥ä¸Šä¸ºå®¢æˆ·ç«¯æœåŠ¡çš„å…¬å…±ä¿¡æ¯é…ç½®åŒºåŸŸ############[ssh_193]type = tcplocal_ip = 127.0.0.1local_port = 22remote_port = 20009[visdom]type = httplocal_ip = 127.0.0.1local_port = 23333custom_domains = cplm.nymrli.top â‘¡.http æœåŠ¡ç«¯ä¸åšé…ç½®ï¼Œ å®¢æˆ·ç«¯frpcä¸­é‡‡ç”¨type=tcpï¼Œå¹¶é€šè¿‡remote_portæŒ‡å®šè¿œç¨‹ç«¯å£ frps.ini 123456[common]bind_port = 7000dashboard_port = 31356dashboard_user = apollo3ddashboard_pwd = apollo3d frpc.ini 1234567891011121314151617181920212223242526[common]server_addr = 159.75.90.252server_port = 7000tls_enable = true# æ—¥å¿—è®°å½•è·¯å¾„log_file = /home/apollo3d/frp_0.37.1_linux_amd64/common.log# æ—¥å¿—è®°å½•çº§åˆ«(trace, debug, info, warn, error)log_level = info# æ—¥å¿—è®°å½•æ»šåŠ¨å¤©æ•°log_max_days = 3[ssh_condor0]type = tcplocal_ip = 127.0.0.1local_port = 22remote_port = 10179[jupyter]type = tcplocal_ip = 127.0.0.1local_port = 9998custom_domains = tc.hanckh.topremote_port= 9999 é™„å½• å¼€æœºè‡ªåŠ¨å¯åŠ¨frpæœåŠ¡ ç”±äºè‡ªè¡Œæ­å»ºçš„æœåŠ¡å™¨å¯èƒ½ä¼šå‡ºæ•…éšœï¼Œå¦‚æœé‡å¯åéœ€è¦è‡ªè¡Œå¯åŠ¨å¾ˆå¤šåº”ç”¨çš„è¯å°±ä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥è¿™è¾¹æ¨èä¸€ä¸ªè‡ªåŠ¨å¯åŠ¨frpæœåŠ¡çš„æ–¹æ³• 1.frpx.sh å¦‚æœæ˜¯æœåŠ¡å™¨ç«¯å¯ä»¥ç¼–å†™frpServer.sh 123#!/bin/bashbasepath=$(cd `dirname $0`; pwd)nohup $basepath/frps -c $basepath/frps.ini &gt;/dev/null 2&gt;&amp;1 &amp; å¦‚æœæ˜¯å®¢æˆ·ç«¯ï¼Œåˆ™å¯ä»¥ç¼–å†™frpClient.sh 123#!/bin/bashbasepath=$(cd `dirname $0`; pwd)nohup $basepath/frps -c $basepath/frps.ini &gt;/dev/null 2&gt;&amp;1 &amp; rc.localè‡ªå¯åŠ¨ 123$ sudo vim /etc/rc.local# å°†ä¸‹è¿°å†…å®¹å†™åœ¨exit 0ä¹‹ä¸Š, æ³¨æ„è·¯å¾„è‡ªè¡Œç¡®è®¤ï¼Œè¿™åªæ˜¯ç»™äº†ä¸ªdemo/home/apollo3d/frp_0.21.0_linux_amd64/frpx.sh","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Linux","slug":"Linux","permalink":"https://nymrli.top/tags/Linux/"},{"name":"ç½‘ç»œçŸ¥è¯†","slug":"ç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/ç½‘ç»œçŸ¥è¯†/"}]},{"title":"Cmake å…¥é—¨","slug":"Cmake-å…¥é—¨","date":"2019-02-18T08:42:36.000Z","updated":"2019-09-15T08:07:30.927Z","comments":true,"path":"2019/02/18/Cmake-å…¥é—¨/","link":"","permalink":"https://nymrli.top/2019/02/18/Cmake-å…¥é—¨/","excerpt":"","text":"Cmake å…¥é—¨ å…¥é—¨æ¡ˆä¾‹ï¼šå•ä¸ªæºæ–‡ä»¶ ä¾‹å¦‚ï¼Œå‡è®¾ç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­åªæœ‰ä¸€ä¸ªæºæ–‡ä»¶ main.cc ï¼Œè¯¥ç¨‹åºçš„ç”¨é€”æ˜¯è®¡ç®—ä¸€ä¸ªæ•°çš„æŒ‡æ•°å¹‚ã€‚ 1.é¦–å…ˆç¼–å†™ CMakeLists.txt æ–‡ä»¶ï¼Œå¹¶ä¿å­˜åœ¨ä¸ main.cc æºæ–‡ä»¶åŒä¸ªç›®å½•ä¸‹ 123456# CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚cmake_minimum_required (VERSION 2.8)# é¡¹ç›®ä¿¡æ¯project (Demo1)# æŒ‡å®šç”Ÿæˆç›®æ ‡add_executable(Demo main.cc) è¯­æ³•: ç”±å‘½ä»¤ã€æ³¨é‡Šå’Œç©ºæ ¼ç»„æˆï¼Œå…¶ä¸­å‘½ä»¤æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚ ç¬¦å· # åé¢çš„å†…å®¹è¢«è®¤ä¸ºæ˜¯æ³¨é‡Š å‘½ä»¤ç”±å‘½ä»¤åç§°ã€å°æ‹¬å·å’Œå‚æ•°ç»„æˆ å‚æ•°ä¹‹é—´ä½¿ç”¨ç©ºæ ¼è¿›è¡Œé—´éš” 2.ç¼–è¯‘é¡¹ç›® ä¹‹åï¼Œåœ¨å½“å‰ç›®å½•æ‰§è¡Œ cmake . ï¼Œå¾—åˆ° Makefile åå†ä½¿ç”¨ make å‘½ä»¤ç¼–è¯‘å¾—åˆ° Demo1 å¯æ‰§è¡Œæ–‡ä»¶ã€‚ åŒä¸€ç›®å½•ï¼Œå¤šä¸ªæºæ–‡ä»¶ å¦‚æœå¤šæ–‡ä»¶ï¼Œç»“æ„å˜æˆ 1234567./Demo2 | +--- main.cc | +--- MathFunctions.cc | +--- MathFunctions.h cmakelist.txtéœ€è¦æ”¹æˆ 123456# CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚cmake_minimum_required (VERSION 2.8)# é¡¹ç›®ä¿¡æ¯project (Demo2)# æŒ‡å®šç”Ÿæˆç›®æ ‡add_executable(Demo main.cc MathFunctions.cc) åŒºåˆ«: å³åœ¨ add_executable å‘½ä»¤ä¸­å¢åŠ äº†ä¸€ä¸ª MathFunctions.cc æºæ–‡ä»¶ çœäº‹çš„æ–¹æ³•æ˜¯ä½¿ç”¨ aux_source_directory å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¼šæŸ¥æ‰¾æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶ï¼Œç„¶åå°†ç»“æœå­˜è¿›æŒ‡å®šå˜é‡åã€‚è¯­æ³•ä¸ºaux_source_directory(&lt;dir&gt; &lt;variable&gt;) 123456789# CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚cmake_minimum_required (VERSION 2.8)# é¡¹ç›®ä¿¡æ¯project (Demo2)# æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶# å¹¶å°†åç§°ä¿å­˜åˆ° DIR_SRCS å˜é‡aux_source_directory(. DIR_SRCS)# æŒ‡å®šç”Ÿæˆç›®æ ‡add_executable(Demo $&#123;DIR_SRCS&#125;) å¤šä¸ªç›®å½•ï¼Œå¤šä¸ªæºæ–‡ä»¶ æ–‡ä»¶ç»“æ„: 123456789./Demo3 | +--- main.cc | +--- math/ | +--- MathFunctions.cc | +--- MathFunctions.h å¯¹äºè¿™ç§æƒ…å†µï¼Œéœ€è¦åˆ†åˆ«åœ¨é¡¹ç›®æ ¹ç›®å½• Demo3 å’Œ math ç›®å½•é‡Œå„ç¼–å†™ä¸€ä¸ª CMakeLists.txt æ–‡ä»¶ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå°† math ç›®å½•é‡Œçš„æ–‡ä»¶ç¼–è¯‘æˆé™æ€åº“å†ç”± main å‡½æ•°è°ƒç”¨ã€‚ æ ¹ç›®å½•ä¸­çš„ CMakeLists.txt ï¼š 123456789101112131415# CMake æœ€ä½ç‰ˆæœ¬å·è¦æ±‚cmake_minimum_required (VERSION 2.8)# é¡¹ç›®ä¿¡æ¯project (Demo3)# æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶# å¹¶å°†åç§°ä¿å­˜åˆ° DIR_SRCS å˜é‡aux_source_directory(. DIR_SRCS)# â–²æ·»åŠ  math å­ç›®å½•add_subdirectory(math)# æŒ‡å®šç”Ÿæˆç›®æ ‡ add_executable(Demo main.cc)# æ·»åŠ é“¾æ¥åº“target_link_libraries(Demo MathFunctions) ä½¿ç”¨å‘½ä»¤ add_subdirectory æŒ‡æ˜æœ¬é¡¹ç›®åŒ…å«ä¸€ä¸ªå­ç›®å½• mathï¼Œè¿™æ · math ç›®å½•ä¸‹çš„ CMakeLists.txt æ–‡ä»¶å’Œæºä»£ç ä¹Ÿä¼šè¢«å¤„ç†. ä½¿ç”¨å‘½ä»¤ target_link_libraries æŒ‡æ˜å¯æ‰§è¡Œæ–‡ä»¶ main éœ€è¦è¿æ¥ä¸€ä¸ªåä¸º MathFunctions çš„é“¾æ¥åº“ å­ç›®å½•ä¸­çš„ CMakeLists.txtï¼š 12345# æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶# å¹¶å°†åç§°ä¿å­˜åˆ° DIR_LIB_SRCS å˜é‡aux_source_directory(. DIR_LIB_SRCS)# ç”Ÿæˆé“¾æ¥åº“add_library (MathFunctions $&#123;DIR_LIB_SRCS&#125;) åœ¨è¯¥æ–‡ä»¶ä¸­ä½¿ç”¨å‘½ä»¤ add_library å°† src ç›®å½•ä¸­çš„æºæ–‡ä»¶ç¼–è¯‘ä¸ºé™æ€é“¾æ¥åº“ æ‘˜è‡ªCMake å…¥é—¨å®æˆ˜ setæŒ‡ä»¤è¯¦è§£ è¯­æ³•ï¼š SET(VAR [VALUE] [CACHE TYPE DOCSTRING [FORCE]]) æŒ‡ä»¤åŠŸèƒ½: ç”¨æ¥æ˜¾å¼çš„å®šä¹‰å˜é‡ ä¾‹å­: SET (SRC_LST main.c other.c) è¯´æ˜: ç”¨å˜é‡ä»£æ›¿å€¼ï¼Œä¾‹å­ä¸­å®šä¹‰SRC_LSTä»£æ›¿åé¢çš„å­—ç¬¦ä¸²ã€‚ ä¾‹å­: ä¸€. CMAKE_SOURCE_DIR --&gt;CMakeLists.txtæ‰€åœ¨çš„ç›®å½• set(libs &quot;${CMAKE_SOURCE_DIR}/src/main/jnilibs&quot;)å®šä¹‰äº†ä¸€ä¸ªå˜é‡libsï¼Œå¹¶ä¸”å˜é‡çš„å€¼ä¸º${CMAKE_SOURCE_DIR}/src/main/jnilibsï¼Œå…¶ä¸­CMAKE_SOURCE_DIR æ˜¯ä¸€ä¸ªcmakeå†…ç½®å˜é‡ï¼ŒæŒ‡å®šäº†CMakeLists.txtæ‰€åœ¨çš„ç›®å½• äºŒ.CMAKE_LIBRARY_OUTPUT_DIRECTORYâ€“&gt;cmakeç¼–è¯‘è¾“å‡ºçš„ä¸œè¥¿åº”è¯¥æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹ set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/src/main/jnilibs/${ANDROID_ABI})è¿™ä¸ªå‘½ä»¤ç”¨äºç»™CMAKE_LIBRARY_OUTPUT_DIRECTORYå®èµ‹å€¼ï¼Œè¯¥å®æŒ‡å®šäº†cmakeç¼–è¯‘è¾“å‡ºçš„ä¸œè¥¿åº”è¯¥æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹ã€‚ è¿™ä¸ªä¾‹å­ä¸­çš„åœ°æ–¹æ˜¯${PROJECT_SOURCE_DIR}/src/main/jnilibs/${ANDROID_ABI}å…¶ä¸­PROJECT_SOURCE_DIR æ˜¯cmakeå†…ç½®å®ï¼ŒæŒ‡å‘æ„å»ºå·¥ç¨‹çš„å…¨è·¯å¾„ã€‚ includeåŒ…å«åº“ã€å¤´æ–‡ä»¶ æ·»åŠ å¤´æ–‡ä»¶è·¯å¾„ï¼Œå¯¹åº”çš„å‡½æ•°å«include_directories æ·»åŠ åº“è·¯å¾„ï¼Œå¯¹åº”çš„å‡½æ•°å«LINK_DIRECTORIES æ·»åŠ åº“ï¼Œå¯¹åº”çš„å‡½æ•°å«LINK_LIBRARIESï¼ŒæŠŠæ‰€æœ‰çš„åº“åŠ è¿›å»å³å¯ ç¯å¢ƒå˜é‡ ä½¿ç”¨$ENV{NAME}æŒ‡ä»¤å°±å¯ä»¥è°ƒç”¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡äº†ã€‚æ¯”å¦‚MESSAGE(STATUS â€œHOME dir: $ENV{HOME}â€) è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼æ˜¯:SET(ENV{å˜é‡å} å€¼) dlã€rt 1234567target_link_libraries(agentspark$&#123;RCSSNET3D_LIBRARY&#125;$&#123;Boost_SYSTEM_LIBRARY&#125;dl$&#123;CMAKE_THREAD_LIBS_INIT&#125;rt ) dlæ˜¯libdl.so,rtæ˜¯librt.soçš„ç¼©å†™Â·Â·Â·å…¶å®æ˜¯é™æ€åŠ è½½äº†è¿™ä¸¤ä¸ªåŠ¨æ€é“¾æ¥åº“ï¼ï¼ï¼","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"}]},{"title":"Python+adbæ“ä½œæ‰‹æœº","slug":"Python-adbæ“ä½œæ‰‹æœº","date":"2019-02-06T05:00:09.000Z","updated":"2019-09-15T08:07:30.977Z","comments":true,"path":"2019/02/06/Python-adbæ“ä½œæ‰‹æœº/","link":"","permalink":"https://nymrli.top/2019/02/06/Python-adbæ“ä½œæ‰‹æœº/","excerpt":"","text":"Adb wifiè¿æ¥è°ƒè¯• adb connect {ip} å¦‚æœä½ ä¸æƒ³ç”¨usbè¿æ¥è°ƒè¯•ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨adb è¿æ¥è°ƒè¯•ï¼Œå‘½ä»¤æ˜¯ adb connect {ip} ï¼Œéœ€è¦åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ã€‚è¿™ä¸ªåŠŸèƒ½ä¹Ÿæ¯”è¾ƒå®ç”¨ï¼Œä½†é¦–æ¬¡è¿æ¥æ—¶ï¼Œéœ€è¦å¦å¤–ä¸€äº›é…ç½®ï¼Œå»ºè®®å¯ä»¥ç½‘ä¸Šæœç´¢ä¸‹adb wifiè¿æ¥æ‰‹æœºç­‰å…³é”®å­—çœ‹çœ‹ã€‚ å±å¹•æˆªå± screencap -p {å›¾ç‰‡å­˜å‚¨åœ°å€} è¿™ä¸ªå…¶å®ç›´æ¥é€šè¿‡æ‰‹æœºæˆªå±å†å‘é€åˆ°ç”µè„‘å°±å¯ä»¥äº†ï¼Œä½†æˆ‘å¼€å‘çš„æ˜¯TVåº”ç”¨ï¼Œåœ¨ç›’å­ä¸Šæ²¡æ³•æˆªå±ï¼Œæ‰€ä»¥è¿™ä¸ªå‘½ä»¤å¯¹æˆ‘æ¥è¯´è¿˜æ˜¯è¾ƒå®ç”¨çš„ã€‚ è·å–æˆ–æ¨é€æ–‡ä»¶ adb pull/push è¿™ä¸ªä¹ŸæŒºå®ç”¨çš„ï¼Œè·å–æ‰‹æœºæŒ‡å®šä½ç½®çš„æ–‡ä»¶åˆ°ç”µè„‘ä¸Šï¼Œæˆ–è€…ä»ç”µè„‘å‘é€æ–‡ä»¶åˆ°æ‰‹æœºä¸Š æ¨¡æ‹ŸæŒ‰é”®äº‹ä»¶ //è¿™æ¡å‘½ä»¤ç›¸å½“äºæŒ‰äº†è®¾å¤‡çš„Back keyé”® adb shell input keyevent 4 //å¯ä»¥è§£é”å±å¹• adb shell input keyevent 82 //åœ¨å±å¹•ä¸Šåšåˆ’å±æ“ä½œï¼Œå‰å››ä¸ªæ•°ä¸ºåæ ‡ç‚¹ï¼Œåé¢æ˜¯æ»‘åŠ¨çš„æ—¶é—´ï¼ˆå•ä½æ¯«ç§’ï¼‰ adb shell input swipe 50 250 250 250 500 æ‰‹æœºåˆ†è¾¨ç‡ä¸€èˆ¬ä¸º1080*1920ï¼Œå…¶ä¸­å·¦ä¸Šè§’ä¸ºï¼ˆ0,0ï¼‰ï¼Œå³ä¸‹è§’ä¸ºï¼ˆ1080*1920ï¼‰,è¿˜å¯ä»¥å¢åŠ ä¸€ä¸ªå‚æ•°ä¸ºæŒç»­æ—¶é—´ //åœ¨å±å¹•ä¸Šç‚¹å‡»åæ ‡ç‚¹x=50 y=250çš„ä½ç½®ã€‚ adb shell input tap 50 250 //è¾“å…¥å­—ç¬¦abc adb shell input text abc è·³ä¸€è·³æ¸¸æˆadbæ•™ç¨‹ äº‹ä»¶ä»‹ç» ä»£ç æ¼”ç¤ºéƒ½æ˜¯åœ¨è¿›å…¥ adb shellæ¨¡å¼ä¸‹ input swipeæ¨¡æ‹Ÿçš„æ˜¯æ»‘åŠ¨äº‹ä»¶ , å¦‚å·¦æ»‘:input swipe 600 800 300 800 å¯ä»¥è¾“å…¥æ–‡æœ¬çš„æ–‡æœ¬æ¡†ä¹‹ç±»çš„æ§ä»¶ä¸Šè¾“å…¥å‡º OuyangPeng å­—ç¬¦ä¸²: input text OuyangPeng input tapå‘½ä»¤æ¨¡æ‹Ÿè§¦æ‘¸å±å¹•input tap 600 800 input keyeventç”¨æ³•: 12345678910input keyevent 3 // Homeinput keyevent 4 // Backinput keyevent 19 //Upinput keyevent 20 //Downinput keyevent 21 //Leftinput keyevent 22 //Rightinput keyevent 23 //Select/Okinput keyevent 24 //Volume+input keyevent 25 // Volume-input keyevent 82 // Menu èœå• åŠŸèƒ½ adb å¯åŠ¨åº”ç”¨: adb shell am start -n packgageå /.activityå¦‚ adb shell am start -n com.android.calculator2/.Calculator æé†’ç‚¹ï¼šä¸€å®šè¦æ‰¾åˆ°ã€æ‰¾å¯¹activityå’Œpackage é•¿æ—¶é—´æŒ‰æŸä¸ªå…ƒç´ ï¼šadb input shell â€¦ adb -s 4d0041be98b01f shell input touchscreen swipe 540 716 545 718 1000 è¯­ä¹‰ï¼š-s åè·Ÿè®¾å¤‡å·ï¼Œswipe å…ˆä¼ ç§»åŠ¨åæ ‡èŒƒå›´â€˜540 716 545 718â€™ï¼Œç„¶å1000æ˜¯é•¿æŒ‰æ—¶é—´ï¼Œå•ä½æ¯«ç§’ã€‚ Pythonè¯­å¥è°ƒç”¨: os.system(åªæœ‰æ‰§è¡Œå‘½ä»¤æ˜¯å¦æˆåŠŸçš„ç»“æœ) 123456import osCMD = r'.\\adb.exe version'res = os.system(CMD)print(res) # 0&gt;&gt; Android Debug Bridge version 1.0.32&gt;&gt; 0 os.popen(å¯è¯»å–æ‰§è¡Œè¯­å¥çš„ç»“æœ) 12345import osCMD = r'.\\adb.exe version'version = os.popen().read()print(version)&gt;&gt; Android Debug Bridge version 1.0.32 subprocess.call 123456import subprocessCMD = r'.\\adb.exe version'version = subprocess.call(CMD)print(version) # 0&gt;&gt; Android Debug Bridge version 1.0.32&gt;&gt; 0 subprocess.Popen(ä¹Ÿæ˜¯ä¸€ä¸ªæ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„å·¥å…·,ä½†è¿™è¾¹æ•ˆæœä¸å¤ªå¥½) 12345import subprocessCMD = r'.\\adb.exe version'version = subprocess.Popen(CMD)print(version) # è¿™è¾¹æ˜¯ä¸ªPopenå¯¹è±¡,&gt;&gt; &lt;subprocess.Popen object at 0x00000219392981D0&gt; é™„å½• eventå€¼è®°å½• https://blog.csdn.net/jlminghui/article/details/39268419","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"æ¨¡æ‹Ÿæ“ä½œ","slug":"æ¨¡æ‹Ÿæ“ä½œ","permalink":"https://nymrli.top/tags/æ¨¡æ‹Ÿæ“ä½œ/"}]},{"title":"ACM_åŠ¨æ€è§„åˆ’","slug":"ACM-åŠ¨æ€è§„åˆ’","date":"2019-02-03T07:49:10.000Z","updated":"2019-09-15T08:07:30.911Z","comments":true,"path":"2019/02/03/ACM-åŠ¨æ€è§„åˆ’/","link":"","permalink":"https://nymrli.top/2019/02/03/ACM-åŠ¨æ€è§„åˆ’/","excerpt":"","text":"å›¾è§£åŠ¨æ€è§„åˆ’ : http://www.sohu.com/a/153858619_466939 åŠ¨æ€è§„åˆ’ : æœ€ä¼˜å­ç»“æ„ è¾¹ç•Œ çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¼ é¢˜ç›®äºŒï¼š å›½ç‹å’Œé‡‘çŸ¿ æœ‰ä¸€ä¸ªå›½å®¶å‘ç°äº†5åº§é‡‘çŸ¿ï¼Œæ¯åº§é‡‘çŸ¿çš„é»„é‡‘å‚¨é‡ä¸åŒï¼Œéœ€è¦å‚ä¸æŒ–æ˜çš„å·¥äººæ•°ä¹Ÿä¸åŒã€‚å‚ä¸æŒ–çŸ¿å·¥äººçš„æ€»æ•°æ˜¯10äººã€‚æ¯åº§é‡‘çŸ¿è¦ä¹ˆå…¨æŒ–ï¼Œè¦ä¹ˆä¸æŒ–ï¼Œä¸èƒ½æ´¾å‡ºä¸€åŠäººæŒ–å–ä¸€åŠé‡‘çŸ¿ã€‚è¦æ±‚ç”¨ç¨‹åºæ±‚è§£å‡ºï¼Œè¦æƒ³å¾—åˆ°å°½å¯èƒ½å¤šçš„é»„é‡‘ï¼Œåº”è¯¥é€‰æ‹©æŒ–å–å“ªå‡ åº§é‡‘çŸ¿ï¼Ÿ è§£æ³•ä¸€: æ’åˆ—ç»„åˆ æ—¶é—´å¤æ‚åº¦ : O(2^N) è§£æ³•äºŒ : DP 1.æ‰¾åˆ°æœ€ä¼˜å­ç»“æ„ 10äºº4é‡‘çŸ¿(æœ‰ä¸€ä¸ªé‡‘çŸ¿æ²¡æŒ–) 10-3äºº4é‡‘çŸ¿(æŒ–äº†ä¸€ä¸ªé‡‘çŸ¿) 2.æœ€ä¼˜é€‰æ‹© 5ä¸ªé‡‘çŸ¿çš„æœ€ä¼˜é€‰æ‹©ï¼Œå°±æ˜¯*ï¼ˆå‰4åº§é‡‘çŸ¿10å·¥äººçš„æŒ–é‡‘æ•°é‡ï¼‰å’Œï¼ˆå‰4åº§é‡‘çŸ¿7å·¥äººçš„æŒ–é‡‘æ•°é‡+ç¬¬5åº§é‡‘çŸ¿çš„æŒ–é‡‘æ•°é‡ï¼‰*çš„æœ€å¤§å€¼ï¼ 3.è¾¹ç•Œ ç»è¿‡æ•´ç†å¯å¾— çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¼: è¾¹ç•Œ: F(n,w) = 0 (n&lt;=1, w&lt;p[0]); F(n,w) = g[0] (n==1, w&gt;=p[0]); æ¨å¯¼å¼ F(n,w) = F(n-1,w) (n&gt;1, w&lt;p[n-1]) F(n,w) = max(F(n-1,w), F(n-1,w-p[n-1])+g[n-1]) (n&gt;1, w&gt;=p[n-1]) å®ç°æ–¹æ³•: ç®€å•é€’å½’ è®°å¿†æœç´¢æ³• åŠ¨æ€è§„åˆ’(é€’æ¨å¼) 01èƒŒåŒ…é—®é¢˜ ç®€å•é€’å½’ 12345678910111213141516171819202122232425262728293031#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e4;/* 01èƒŒåŒ…é—®é¢˜ */pair&lt;int,int&gt; wv[maxn];int N; // ç‰©å“æ•°é‡int W; // èƒŒåŒ…é‡é‡int rec(int i,int j)&#123; int res = 0; if( i == N) res= 0; else if( j &lt; wv[i].first ) res = rec(i+1,j); else res = max(rec(i+1,j) , rec(i+1,j-wv[i].first) + wv[i].second); return res;&#125;void solve()&#123; ios::sync_with_stdio(false); cin &gt;&gt; N; for(int i=0 ; i &lt;N ; i++) cin &gt;&gt; wv[i].first &gt;&gt; wv[i].second; cin &gt;&gt; W; cout &lt;&lt; rec(0,W) &lt;&lt; endl;&#125;int main()&#123; solve(); return 0;&#125; è®°å¿†æœç´¢ 1234567891011121314151617181920212223242526272829303132333435#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e4;/* 01èƒŒåŒ…é—®é¢˜ */pair&lt;int,int&gt; wv[maxn];int N; // ç‰©å“æ•°é‡int W; // èƒŒåŒ…é‡é‡int dp[maxn][maxn]; //2.å¤šäº†ä¸ªè®°å¿†æ•°ç»„(ç§°ä¸ºDPæ•°ç»„)int rec(int i,int j)&#123; if ( dp[i][j] &gt; 0 ) return dp[i][j]; // å¦‚æœå·²ç»è®¡ç®—è¿‡,å°±ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„ç»“æœ int res = 0; if( i == N) res= 0; else if( j &lt; wv[i].first ) res = rec(i+1,j); else res = max(rec(i+1,j) , rec(i+1,j-wv[i].first) + wv[i].second); dp[i][j] =res; // 2.å°†ç»“æœè®°å½• return res;&#125;void solve()&#123; ios::sync_with_stdio(false); cin &gt;&gt; N; for(int i=0 ; i &lt;N ; i++) cin &gt;&gt; wv[i].first &gt;&gt; wv[i].second; cin &gt;&gt; W; cout &lt;&lt; rec(0,W) &lt;&lt; endl;&#125;int main()&#123; solve(); return 0;&#125; åŠ¨æ€è§„åˆ’è§£æ³• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e4;/* 01èƒŒåŒ…é—®é¢˜ */pair&lt;int,int&gt; wv[maxn];int N; // ç‰©å“æ•°é‡int W; // èƒŒåŒ…é‡é‡int dp[maxn][maxn]; //2.å¤šäº†ä¸ªè®°å¿†æ•°ç»„(ç§°ä¸ºDPæ•°ç»„)// é€†åºæ¨å¯¼void solve()&#123; ios::sync_with_stdio(false); cin &gt;&gt; N; for(int i=0 ; i &lt;N ; i++) cin &gt;&gt; wv[i].first &gt;&gt; wv[i].second; cin &gt;&gt; W; for( int i= N-1 ; i &gt;= 0 ; i--)&#123; for( int j=0;j&lt;= W ; j++)&#123; if( j &lt; wv[i].first ) dp[i][j] = dp[i+1][j]; else dp[i][j] = max( dp[i+1][j] , dp[i+1][j - wv[i].first] + wv[i].second); &#125; &#125; cout &lt;&lt; dp[0][W] &lt;&lt;endl;&#125;// é¡ºåºæ¨å¯¼void solve()&#123; ios::sync_with_stdio(false); cin &gt;&gt; N; for(int i=0 ; i &lt;N ; i++) cin &gt;&gt; wv[i].first &gt;&gt; wv[i].second; cin &gt;&gt; W; for( int i= 0 ; i &lt; N ; i++)&#123; for( int j=0;j&lt;= W ; j++)&#123; if( j &lt; wv[i].first ) dp[i+1][j] = dp[i][j]; else dp[i+1][j] = max( dp[i][j] , dp[i][j - wv[i].first] + wv[i].second); // æ¨å¯¼å¼ä¹Ÿå˜äº†,ä¸‹ä¸€è¡Œçš„ä¾æ®ä¸Šä¸€è¡Œå†™æˆdp[i+1][j] = ... &#125; &#125; cout &lt;&lt; dp[N][W] &lt;&lt;endl; // è¾“å‡ºçš„ç»“æœå˜äº†&#125;int main()&#123; solve(); return 0;&#125; â–²æ³¨æ„ï¼Œè¾¹ç•Œä¸€å®šè¦æ³¨æ„å¤„ç†ã€‚ è¿™é¢˜ç”±äºè¾¹ç•Œå…¨ä¸º0ï¼Œè€Œå…¨å±€æ•°ç»„åˆå§‹åŒ–é»˜è®¤æ˜¯0ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤„ç†ï¼Œå¦åˆ™å¾—åƒ å›½ç‹å’Œé‡‘çŸ¿æä¾›çš„é¢˜è§£ä¸€æ ·ä¹¦å†™ã€‚ æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜ 1234567891011121314151617181920212223242526#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e4;/* LCS */int dp[maxn+1][maxn+1];void solve()&#123; int m,n; cin &gt;&gt; n &gt;&gt; m; string sn,sm; cin &gt;&gt; sn &gt;&gt; sm; for(int i=0;i&lt;n;i++)&#123; for(int j=0;j&lt;m;j++)&#123; if( sn[i] == sm[j] ) dp[i+1][j+1] = dp[i][j] + 1; // p[i+1][j+1] = max(dp[i][j] + 1 , max(dp[i+1][j] , dp[i][j+1]));åŒ–ç®€è€Œæ¥ else dp[i+1][j+1] = max(dp[i][j+1] , dp[i+1][j] ); &#125; &#125; cout &lt;&lt; dp[n][m] &lt;&lt; endl;&#125;int main()&#123; solve(); return 0;&#125; å®Œå…¨èƒŒåŒ…é—®é¢˜ å¤šé‡éƒ¨åˆ†å’Œ","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"DP","slug":"DP","permalink":"https://nymrli.top/tags/DP/"}]},{"title":"ACM_è´ªå¿ƒä¸“é¢˜","slug":"ACM-è´ªå¿ƒä¸“é¢˜","date":"2019-02-01T12:17:50.000Z","updated":"2019-09-15T08:07:30.917Z","comments":true,"path":"2019/02/01/ACM-è´ªå¿ƒä¸“é¢˜/","link":"","permalink":"https://nymrli.top/2019/02/01/ACM-è´ªå¿ƒä¸“é¢˜/","excerpt":"","text":"è´ªå¿ƒä¸“é¢˜ 1.æ´»åŠ¨å®‰æ’ æœ‰è‹¥å¹²ä¸ªæ´»åŠ¨ï¼Œç¬¬iä¸ªå¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´æ˜¯[Si,fi)ï¼Œåªæœ‰ä¸€ä¸ªæ•™å®¤ï¼Œæ´»åŠ¨ä¹‹é—´ä¸èƒ½äº¤å ï¼Œæ±‚æœ€å¤šå®‰æ’å¤šå°‘ä¸ªæ´»åŠ¨ï¼Ÿ Input 123ç¬¬ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°n (n &lt;= 10000)ä»£è¡¨æ´»åŠ¨çš„ä¸ªæ•°ã€‚ç¬¬äºŒè¡Œåˆ°ç¬¬(n + 1)è¡ŒåŒ…å«nä¸ªå¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ã€‚å¼€å§‹æ—¶é—´ä¸¥æ ¼å°äºç»“æŸæ—¶é—´ï¼Œå¹¶ä¸”æ—¶é—´éƒ½æ˜¯éè´Ÿæ•´æ•°ï¼Œå°äº1000000000 Output 1ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæ´»åŠ¨ä¸ªæ•°ã€‚ Inputç¤ºä¾‹ 123431 23 42 9 Outputç¤ºä¾‹ 12 åšä¸»æä¾›: 1234567891011121314151617181920212223242526272829303132#include&lt;bits/stdc++.h&gt;using namespace std;const int maxn=1e4+5;struct node&#123; int s,e; //start , end &#125; a[maxn];//ç”±äºä½¿ç”¨ç»“æ„ä½“,æ‰€ä»¥éœ€è¦è‡ªå®šä¹‰cmpå‡½æ•°bool cmp(node x,node y)&#123; if(x.e&lt;y.e) return true; else if(x.e==y.e&amp;&amp;x.s&gt;y.s) return true; return false;&#125;int main()&#123; int n,i,j,ans,end; cin&gt;&gt;n; for(i = 0;i&lt;n;i++) cin&gt;&gt;a[i].s&gt;&gt;a[i].e; sort(a,a+n,cmp); ans = 0; end = -1e9-100; for(i =0;i&lt;n;i++)&#123; if(a[i].s&gt;=end)&#123; // ç»“æŸæœ€æ—©çš„ ans++; end=a[i].e; &#125; &#125; cout&lt;&lt;ans&lt;&lt;endl; return 0;&#125; ä¸ä½¿ç”¨ç»“æ„ä½“,ä½¿ç”¨map: 12345678910111213141516171819202122#include &lt;bits/stdc++.h&gt;#include &lt;cstdio&gt;using namespace std;const int maxn = 1e4 +5;int main()&#123; int N; while(scanf(\"%d\",&amp;N) == 1)&#123; pair&lt;int,int&gt; itv[maxn]; for(int i = 0 ; i&lt;N; i++) scanf(\"%d%d\",&amp;itv[i].second , &amp;itv[i].first); sort( itv , itv + N); int ans = 0 ; int t = 0; for( int i =0 ; i&lt; N ; i++)&#123; if ( t &lt; itv[i].second )&#123; ans ++; t = itv[i].first; &#125; &#125; printf(\"%d\",ans); &#125; return 0;&#125; HUD OJ 2037ä»Šå¹´æš‘å‡ä¸AC æ„Ÿè§‰åƒæ˜¯æ¿å­é¢˜ï¼Œéƒ½æ˜¯æ—¶é—´è§„åˆ’ç±»ï¼Œéœ€è¦æœ€å¤šç›®æ ‡çš„é¢˜ç›®ã€‚ä½†æ˜¯åœ¨ç¬¬15è¡Œæ—¶ï¼Œå¿…é¡»å†™&lt;=,å¦åˆ™WA. &lt;= çš„ç»“æœæ˜¯ 5 ; &lt; çš„ç»“æœæ˜¯ 3 ç»è¿‡ä¸ä¸Šé¢˜çš„å¯¹æ¯”å‘ç°ï¼Œä¸»è¦çš„åŒºåˆ«åœ¨äºè¿™å¥è¯ ï¼šä¸Šé¢˜è§„å®š å¼€å§‹æ—¶é—´ä¸¥æ ¼å°äºç»“æŸæ—¶é—´ï¼Œå¹¶ä¸”æ—¶é—´éƒ½æ˜¯éè´Ÿæ•´æ•°ï¼Œå°äº1000000000 ï¼Œè€Œè¿™é¢˜ å¼€å§‹æ—¶é—´æ˜¯å¯ä»¥ç­‰äºç»“æŸæ—¶é—´çš„ 12345678910111213141516171819202122#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;const int maxn = 1e4+ 5;pair&lt;int,int&gt; node[maxn];int main()&#123; int N; while( cin &gt;&gt; N)&#123; if ( !N ) break; for(int i=0;i&lt;N;i++) cin &gt;&gt; node[i].second &gt;&gt; node[i].first ; sort(node,node+N); int ans =0 , endt =0 ; for( int i=0 ;i&lt;N;i ++)&#123; if( endt &lt;= node[i].second )&#123; ans ++ ; endt = node[i].first; &#125; &#125; printf(\"%d\\n\",ans); &#125; return 0;&#125; å­—å…¸åºæ¯”è¾ƒ 123456789101112131415161718192021222324252627282930313233include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e4 + 5;char s[maxn];void solve(int n)&#123; int a = 0 , b = n-1; while( a &lt;= b)&#123; bool left = false; for(int i = 0 ; a+i &lt;=b ; i++)&#123; if( s[a+i] &lt; s[b-i] )&#123; left = true; break; &#125;else if (s[a+i] &gt; s[b-i])&#123; left = false; break; &#125;else continue; &#125; if( left ) putchar(s[a++]); else putchar(s[b--]); &#125; putchar('\\n');&#125;int main()&#123; int N; scanf(\"%d\",&amp;N); scanf(\"%s\",s); solve(N); return 0;&#125;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"https://nymrli.top/tags/è´ªå¿ƒ/"}]},{"title":"å­¦ä¹ nginxé…ç½®","slug":"å­¦ä¹ nginxé…ç½®","date":"2019-01-24T08:45:40.000Z","updated":"2022-02-27T06:40:03.538Z","comments":true,"path":"2019/01/24/å­¦ä¹ nginxé…ç½®/","link":"","permalink":"https://nymrli.top/2019/01/24/å­¦ä¹ nginxé…ç½®/","excerpt":"","text":"nginxé…ç½® å¤šå°è™šæ‹Ÿä¸»æœº: 1.åˆ†é…IPåœ°å€ 2.æ–°å»ºã€ç¼–å†™usr/local/nginxçš„confé…ç½®æ–‡ä»¶ 12345678910111213http&#123; sever&#123; listen 192.168.1.17:80; //ç›‘å¬ (IPåœ°å€:) ç«¯å£ server_name 192.168.1.17; // åŸŸåæˆ–è€…ip access_log logs/server1.access.log conbined;//æŒ‡å®šä½ç½®+ä½¿ç”¨æ—¥å¿—æ–‡ä»¶é»˜è®¤æ ¼å¼ location / &#123; index index.html index.htm; //indexè¡¨ç¤ºæ„ä¹‰(å…³é”®å­—),å·¦è¾¹ä¼˜å…ˆçº§é«˜.æŒ‡å®šçš„é¦–é¡µ root html/ss2; //è™šæ‹Ÿä¸»æœºç›®å½•(ç½‘ç«™ç›®å½•)==&gt;ss2ä¸‹çš„æ‰€ä»¥htmlæ–‡ä»¶éƒ½å¯ä»¥é€šè¿‡192.168.1.17/xxxè®¿é—® &#125; &#125;&#125; 3.ç¼–å†™ç›®å½•ä¸‹çš„é¦–é¡µindex.htmlæ–‡ä»¶ 4.è¿è¡Œnginx usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/xnzj.conf â–²åœ¨æ ¹ç›®å½•ä¸‹å¯ä»¥ç›´æ¥é€šè¿‡è·¯å¾„è®¿é—®,å¦‚æ ¹ç›®å½•ä¸‹åªæœ‰indexæ–‡ä»¶,è€Œé…ç½®ä¸­è®¾ç½®çš„æ˜¯index index.htmlæ­¤æ—¶æ²¡æœ‰æ‰¾åˆ°index.htmlåå°±ä¼šæ˜¾ç¤º403é”™è¯¯,ä½†æ˜¯å¯ä»¥é€šè¿‡192.168.1.17==&gt;192.168.1.17/indexæ·»åŠ è·¯å¾„çš„æ–¹æ³•æ¥åŠ è½½indexç•Œé¢ å…¶ä»–é…ç½® ç¼“å­˜ 12345678910server&#123; listen xxx; server_name yyy; location ~ .*\\.(jpg|png|)$&#123; expires 30d; &#125; location ~ .*\\.(css|js|)$&#123; expires 1h; &#125;&#125; è‡ªåŠ¨åˆ—ç›®å½• 12345678910[/ect/nginx/nginx.conf]server&#123; .. location / &#123; root html; index index.html index.hml; autoindex on; #â–² &#125; &#125; å‘½ä»¤è§£é‡Š server_name server_name ä¸ºè™šæ‹ŸæœåŠ¡å™¨çš„è¯†åˆ«è·¯å¾„ã€‚å› æ­¤ä¸åŒçš„åŸŸåä¼šé€šè¿‡å°†è¯·æ±‚å¤´ä¸­çš„HOSTå­—æ®µä¸è™šæ‹Ÿä¸»æœºè®¾ç½®çš„URIè¿›è¡ŒåŒ¹é…ï¼Œä»è€ŒåŒ¹é…åˆ°ç‰¹å®šçš„serverå—ï¼Œå°†è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„åº”ç”¨æœåŠ¡å™¨ä¸­å»ã€‚ from : https://blog.csdn.net/Cheng_Kohui/article/details/82930464 server_nameä¸hoståŒ¹é…ä¼˜å…ˆçº§å¦‚ä¸‹ï¼š å®Œå…¨åŒ¹é… é€šé…ç¬¦åœ¨å‰çš„ï¼Œå¦‚*.test.com é€šé…ç¬¦*åœ¨åçš„ï¼Œå¦‚www.test.* æ­£åˆ™åŒ¹é…ï¼Œå¦‚~^.www.test.com$ location locationæ˜¯Nginxä¸­çš„å—çº§æŒ‡ä»¤(block directive),ï¼ŒlocationæŒ‡ä»¤çš„åŠŸèƒ½æ˜¯ç”¨æ¥åŒ¹é…ä¸åŒçš„urlè¯·æ±‚ï¼Œè¿›è€Œå¯¹è¯·æ±‚åš å¼€å§‹ä¹‹å‰å…ˆæ˜ç¡®ä¸€äº›çº¦å®šï¼Œæˆ‘ä»¬è¾“å…¥çš„ç½‘å€å«åšè¯·æ±‚URIï¼Œnginxç”¨è¯·æ±‚URIä¸locationä¸­é…ç½®çš„URIåšåŒ¹é…ã€‚ä¸åŒçš„å¤„ç†å’Œå“åº”ã€‚ åŒ¹é…é¡ºåº = è¡¨ç¤ºç²¾ç¡®åŒ¹é…ã€‚åªæœ‰è¯·æ±‚çš„urlè·¯å¾„ä¸åé¢çš„å­—ç¬¦ä¸²å®Œå…¨ç›¸ç­‰æ—¶ï¼Œæ‰ä¼šå‘½ä¸­ã€‚ ^~ è¡¨ç¤ºå¦‚æœè¯¥ç¬¦å·åé¢çš„å­—ç¬¦æ˜¯æœ€ä½³åŒ¹é…ï¼Œé‡‡ç”¨è¯¥è§„åˆ™ï¼Œä¸å†è¿›è¡Œåç»­çš„æŸ¥æ‰¾ã€‚ ~ è¡¨ç¤ºè¯¥è§„åˆ™æ˜¯ä½¿ç”¨æ­£åˆ™å®šä¹‰çš„ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚ ~* è¡¨ç¤ºè¯¥è§„åˆ™æ˜¯ä½¿ç”¨æ­£åˆ™å®šä¹‰çš„ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚ æ³¨æ„çš„æ˜¯ï¼Œnginxçš„åŒ¹é…ä¼˜å…ˆé¡ºåºæŒ‰ç…§ä¸Šé¢çš„é¡ºåºè¿›è¡Œä¼˜å…ˆåŒ¹é…ï¼Œè€Œä¸”æ³¨æ„çš„æ˜¯ä¸€æ—¦æŸä¸€ä¸ªåŒ¹é…å‘½ä¸­ç›´æ¥é€€å‡ºï¼Œä¸å†è¿›è¡Œå¾€ä¸‹çš„åŒ¹é… å‰©ä¸‹çš„æ™®é€šåŒ¹é…ä¼šæŒ‰ç…§æœ€é•¿åŒ¹é…é•¿åº¦ä¼˜å…ˆçº§æ¥åŒ¹é…ï¼Œå°±æ˜¯è°åŒ¹é…çš„è¶Šå¤šå°±ç”¨è°ã€‚ try_filesè¯¦è§£ nginxä¸­http_coreæ ¸å¿ƒæ¨¡å—æ‰€å¸¦çš„æŒ‡ä»¤ï¼Œä¸»è¦æ˜¯èƒ½æ›¿ä»£ä¸€äº›rewriteçš„æŒ‡ä»¤ï¼Œæé«˜è§£ææ•ˆç‡ æ ¼å¼1ï¼štry_files file ... uri; æ ¼å¼2: try_files file ... file = ReturnCode; å…³é”®ç‚¹1ï¼šæŒ‰æŒ‡å®šçš„fileé¡ºåºæŸ¥æ‰¾å­˜åœ¨çš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„æ–‡ä»¶è¿›è¡Œè¯·æ±‚å¤„ç† å…³é”®ç‚¹2ï¼šæŸ¥æ‰¾è·¯å¾„æ˜¯æŒ‰ç…§ç»™å®šçš„rootæˆ–aliasä¸ºæ ¹è·¯å¾„æ¥æŸ¥æ‰¾çš„ å…³é”®ç‚¹3ï¼šå¦‚æœç»™å‡ºçš„fileéƒ½æ²¡æœ‰åŒ¹é…åˆ°ï¼Œåˆ™é‡æ–°è¯·æ±‚æœ€åä¸€ä¸ªå‚æ•°ç»™å®šçš„uriï¼Œå°±æ˜¯æ–°çš„locationåŒ¹é… å…³é”®ç‚¹4ï¼šå¦‚æœæ˜¯æ ¼å¼2ï¼Œå¦‚æœæœ€åä¸€ä¸ªå‚æ•°æ˜¯ = 404ï¼Œè‹¥ç»™å‡ºçš„fileéƒ½æ²¡æœ‰åŒ¹é…åˆ°ï¼Œåˆ™æœ€åè¿”å›ReturnCode(å¦‚404)çš„å“åº”ç  ä¸¾ä¾‹è¯´æ˜ 12345678location /images/ &#123; root /opt/html/; try_files $uri $uri/ /images/default.gif; &#125;# æ¯”å¦‚ è¯·æ±‚ 127.0.0.1/images/test.gif ä¼šä¾æ¬¡æŸ¥æ‰¾ 1.æ–‡ä»¶/opt/html/images/test.gif 2.æ–‡ä»¶å¤¹ /opt/html/images/test.gif/ä¸‹çš„indexæ–‡ä»¶ 3. è¯·æ±‚127.0.0.1/images/default.gif# 4.å…¶ä»–æ³¨æ„äº‹é¡¹#1.try-files å¦‚æœä¸å†™ä¸Š $uri/ï¼Œå½“ç›´æ¥è®¿é—®ä¸€ä¸ªç›®å½•è·¯å¾„æ—¶ï¼Œå¹¶ä¸ä¼šå»åŒ¹é…ç›®å½•ä¸‹çš„ç´¢å¼•é¡µ å³ è®¿é—®127.0.0.1/images/ ä¸ä¼šå»è®¿é—® 127.0.0.1/images/index.html fromï¼š https://www.cnblogs.com/jedi1995/p/10900224.html ä¾‹å­2ï¼š å› ä¸ºä¸å¯èƒ½æ¯ä¸€ä¸ªé¡¹ç›®å¼€å¯ä¸€ä¸ªåŸŸåï¼Œä»…ä»…æŒ‡å‘é€šè¿‡å¢åŠ è·¯å¾„æ¥åˆ’åˆ†å¤šä¸ªç½‘ç«™ï¼Œæ¯”å¦‚ï¼š www.taobao.com/tmall/loginè®¿é—®å¤©çŒ«çš„ç™»å½•é¡µé¢ www.taobao.com/alipay/loginè®¿é—®æ”¯ä»˜å®çš„ç™»å½•é¡µé¢ 123456789server &#123; listen 80; server_name taobao.com; index index.html index.htm; # é€šè¿‡æ­£åˆ™æ¥åŒ¹é…æ•è· [tmall|alipay]ä¸­é—´çš„è¿™ä¸ªè·¯å¾„ location ~ ^/([^\\/]+)/(.*)$ &#123; try_files $uri $uri/ /$1/dist/index.html =404; &#125;&#125; rewrite ç”¨æ³• ç”¨rewriteå»é™¤URLä¸­çš„ç‰¹å®šå‚æ•°ã€‚ æ—¥å¸¸æœåŠ¡ä¸­ç»å¸¸ä¼šç”¨Nginxåšä¸€å±‚ä»£ç†è½¬å‘ï¼ŒæŠŠNginxå½“åšå‰ç½®æœºï¼Œè¿™é‡Œçš„rewrite å°±æ˜¯ä¸ºäº†å»é™¤URLä¸­çš„/apis,å› ä¸ºå®é™…çš„åç«¯apiä¸­æ˜¯æ²¡æœ‰è¿™ä¸ªå‚æ•°çš„ï¼Œä½†æ˜¯ä¸ºäº†åšåˆ°åœ¨Nginxè½¬å‘è¯·æ±‚ï¼Œå‰ç«¯éœ€è¦åŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼Œä»¥ä¾¿äºåŒºåˆ«å¼€è¯·æ±‚å‰ç«¯é¡µé¢è¿˜æ˜¯åç«¯æ¥å£ 123456789101112131415161718192021server &#123; # å¯¹å¤–æš´éœ² 80 ç«¯å£ listen 80; server_name 192.168.10.231; # åç«¯APIåœ°å€æš´éœ²ä¸ºï¼šhttp://192.168.10.231/apis # åç«¯æœåŠ¡å®é™…è¿è¡Œçš„åœ°å€å’Œç«¯å£ä¸º: http://127.0.0.1:8000 location /apis &#123; proxy_pass http://127.0.0.1:8000/; proxy_pass_request_headers on; # é‡å†™URL å»é™¤apis rewrite \"^/apis/(.*)$\" /$1 break; # \"^/api/(.)$\": åŒ¹é…è·¯å¾„çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äº†åˆ†ç»„è¯­æ³•å°±æ˜¯*(.)**ï¼ŒæŠŠ/api/ä»¥åçš„æ‰€æœ‰éƒ¨åˆ†å½“åš1ç»„ï¼› # /$1ï¼šé‡å†™çš„ç›®æ ‡è·¯å¾„ï¼Œè¿™é‡Œç”¨$1å¼•ç”¨å‰é¢æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„åˆ†ç»„ï¼ˆç»„ç¼–å·ä»1å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯apiï¼‰ï¼Œå³/api/åé¢çš„æ‰€æœ‰ã€‚è¿™æ ·æ–°çš„è·¯å¾„å°±æ˜¯é™¤å»/api/ä»¥å¤–çš„æ‰€æœ‰ï¼Œå°±è¾¾åˆ°äº†å»é™¤/apiå‰ç¼€çš„ç›®çš„ # breakï¼šæŒ‡ä»¤ã€‚å¸¸ç”¨çš„æœ‰2ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼šlastã€breakï¼› # last: é‡å†™è·¯å¾„ç»“æŸåï¼Œå°†å¾—åˆ°çš„è·¯å¾„é‡æ–°è¿›è¡Œä¸€æ¬¡è·¯å¾„åŒ¹é…ï¼› # break: é‡å†™è·¯å¾„ç»“æŸåï¼Œä¸å†é‡æ–°åŒ¹é…è·¯å¾„ã€‚ &#125;&#125; æ¯”å¦‚å‰ç«¯çš„è¯·æ±‚åœ°å€æ˜¯ 1http://192.168.10.231/apis/user é‚£ä¹ˆå®é™…ä¸Šç»è¿‡Nginxè½¬å‘åè¯·æ±‚çš„åœ°å€æ˜¯ 1http://127.0.0.1:8000/user indexé…ç½® åœ¨å‰åç«¯åˆ†ç¦»çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡Nginxé…ç½®ï¼ŒæŒ‡å®šç½‘ç«™åˆå§‹é¡µã€‚ æ ¼å¼: index index.htm ... file3 /index.html å¦‚æœåŒ…æ‹¬å¤šä¸ªæ–‡ä»¶ï¼ŒNginxä¼šæ ¹æ®æ–‡ä»¶çš„æšä¸¾é¡ºåºæ¥æ£€æŸ¥ï¼Œç›´åˆ°æŸ¥æ‰¾çš„æ–‡ä»¶å­˜åœ¨ï¼› æ–‡ä»¶å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œç»å¯¹è·¯å¾„éœ€è¦æ”¾åœ¨æœ€åï¼› æ–‡ä»¶å¯ä»¥ä½¿ç”¨å˜é‡$æ¥å‘½åï¼›index index.$geo.html index.0.html /index.html; å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨æ–‡ä»¶ä½œä¸ºè·¯å¾„ï¼Œå‘èµ·å†…éƒ¨é‡å®šå‘ã€‚ç›´è§‚ä¸Šçœ‹ä¸Šå»å°±åƒå†ä¸€æ¬¡ä»å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒNginxå†ä¸€æ¬¡æœç´¢locationä¸€æ ·ã€‚ æ—¢ç„¶æ˜¯å†…éƒ¨é‡å®šå‘ï¼ŒåŸŸå+ç«¯å£ä¸å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥åªä¼šåœ¨åŒä¸€ä¸ªserverä¸‹æœç´¢ã€‚ åŒæ ·ï¼Œå¦‚æœå†…éƒ¨é‡å®šå‘å‘ç”Ÿåœ¨proxy_passåå‘ä»£ç†åï¼Œé‚£ä¹ˆé‡å®šå‘åªä¼šå‘ç”Ÿåœ¨ä»£ç†é…ç½®ä¸­çš„åŒä¸€ä¸ªserverã€‚ å®ä¾‹ 12345678910111213server &#123; listen 80; server_name example.org www.example.org; location / &#123; root /data/www; index index.html index.php; &#125; location ~ \\.php$ &#123; root /data/www/test; &#125;&#125; ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä½ ä½¿ç”¨example.orgæˆ–www.example.orgç›´æ¥å‘èµ·è¯·æ±‚ï¼Œé‚£ä¹ˆé¦–å…ˆä¼šè®¿é—®åˆ°â€œ/â€çš„locationï¼Œç»“åˆrootä¸indexæŒ‡ä»¤ï¼Œä¼šå…ˆåˆ¤æ–­/data/www/index.htmlæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸ï¼Œåˆ™æ¥ç€æŸ¥çœ‹ /data/www/index.php ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä½¿ç”¨/index.phpå‘èµ·å†…éƒ¨é‡å®šå‘ï¼Œå°±åƒä»å®¢æˆ·ç«¯å†ä¸€æ¬¡å‘èµ·è¯·æ±‚ä¸€æ ·ï¼ŒNginxä¼šå†ä¸€æ¬¡æœç´¢locationï¼Œæ¯«æ— ç–‘é—®åŒ¹é…åˆ°ç¬¬äºŒä¸ª~ .php$ï¼Œä»è€Œè®¿é—®åˆ°/data/www/test/index.phpã€‚ More: å‰ç«¯åˆ°åº•ç”¨nginxæ¥åšå•¥ uwsgiæ¨¡å—ä½¿ç”¨ å®‰è£… source activate# å¼€å¯è™šæ‹Ÿå¼€å‘ç¯å¢ƒæ¨¡å¼ pip install uwsgi # å®‰è£…uwsgi é…ç½® uwsgié…ç½®æ–‡ä»¶æ”¯æŒå¾ˆå¤šæ ¼å¼ï¼Œæˆ‘é‡‡ç”¨.iniæ ¼å¼ï¼Œå‘½åä¸ºuconfig.iniå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š å¯åŠ¨uwsgi , å‘½ä»¤è¾“å…¥uwsgi uconfig.ini å¤–éƒ¨è®¿é—®æµ‹è¯• æ­¤æ—¶åœ¨å¤–éƒ¨è®¿é—® å…¬ç½‘IPï¼š5000å°±å¯ä»¥è®¿é—®äº† 123456789101112131415[uwsgi]# å¤–éƒ¨è®¿é—®åœ°å€ï¼Œå¯ä»¥æŒ‡å®šå¤šç§åè®®ï¼Œç°åœ¨ç”¨httpä¾¿äºè°ƒè¯•ï¼Œä¹‹åç”¨sockethttp = 0.0.0.0:5000# æŒ‡å‘é¡¹ç›®ç›®å½•chdir = /home/pythonproject/my_flask/py3env/myblog/# flaskå¯åŠ¨ç¨‹åºæ–‡ä»¶wsgi-file = manage.py# flaskåœ¨manage.pyæ–‡ä»¶ä¸­çš„appåcallable = app #å¾ˆå¤šäººä¹ æƒ¯å°†Flaskåº”ç”¨å¯¹è±¡å–åä¸ºâ€appâ€ï¼Œä½†æ˜¯WSGIæ ‡å‡†æ˜¯â€applicationâ€ã€‚uWSGIæä¾›äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥æŒ‡å®šåº”ç”¨å¯¹è±¡ï¼Œæ–¹æ³•å°±æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Šâ€callableâ€é¡¹ï¼š# å¤„ç†å™¨æ•°processes = 4# çº¿ç¨‹æ•°threads = 2#çŠ¶æ€æ£€æµ‹åœ°å€stats = 127.0.0.1:9191 1234location / &#123; include uwsgi_params; uwsgi_pass 127.0.0.1:3031;&#125; è¿™æ®µé…ç½®è¡¨æ˜Nginxä¼šå°†æ”¶åˆ°çš„æ‰€æœ‰è¯·æ±‚éƒ½è½¬å‘åˆ°â€127.0.0.1:3031â€³ç«¯å£ä¸Šï¼Œå³uWSGIæœåŠ¡å™¨ä¸Šã€‚ç°åœ¨è®©æˆ‘ä»¬é‡å¯Nginxï¼Œ é™„ï¼šä½¿ç”¨è®°å½• å•serveråŸºæœ¬é…ç½® 123456789server&#123; listen 80; # ä¾¦å¬ç«¯å£ weight=1; server_name localhost; # æœåŠ¡å™¨åç§° weight=10; location / &#123; # ä¾¦å¬URLè·¯å¾„ root /usr/share/nginx/html; # å·¥ç¨‹æ ¹ç›®å½• index index-test.html index.htm; # å…¥å£æ–‡ä»¶ &#125;&#125; åå‘ä»£ç†ï¼š 1234567891011121314151617upstream group1&#123; server 49.235.118.244:7070; # è¿™è¾¹çš„IPåœ°å€ä¸èƒ½å†™127.0.0.1å®æµ‹ server 49.235.118.244:7069; # ä¸”äº‘æœåŠ¡å™¨éœ€è¦åœ¨é˜²ç«å¢™å°†è¿™ä¸ªç«¯å£å¼€æ”¾ï¼Œå¦åˆ™æ— æ³•åå‘ä»£ç†&#125;server &#123; listen 80; server_name localhost; location /demo1 &#123; # åœ¨è¯¥ä½ç½®é…ç½®åå‘ä»£ç†ï¼Œå°†ip/demo1è¯·æ±‚æ‹¦æˆªï¼Œå‘é€ç»™8080ç«¯å£ï¼Œå¦‚æœä¸æ˜¯æœ¬æœºè¯·ä½¿ç”¨å…¬ç½‘ip proxy_pass http://group1/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; index index.html index.htm; &#125;&#125;","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"nginx","slug":"nginx","permalink":"https://nymrli.top/tags/nginx/"}]},{"title":"C++æ—¥æœŸæ“ä½œ","slug":"C++æ—¥æœŸæ“ä½œ","date":"2019-01-24T07:00:56.000Z","updated":"2019-09-15T08:07:30.922Z","comments":true,"path":"2019/01/24/C++æ—¥æœŸæ“ä½œ/","link":"","permalink":"https://nymrli.top/2019/01/24/C++æ—¥æœŸæ“ä½œ/","excerpt":"","text":"C++æ—¥æœŸæ“ä½œ 12345678910111213int main( )&#123; time_t now = time(0); // åŸºäºå½“å‰ç³»ç»Ÿçš„å½“å‰æ—¥æœŸ/æ—¶é—´ çš„æ—¶é—´æˆ³ cout &lt;&lt; \"1970 åˆ°ç›®å‰ç»è¿‡ç§’æ•°:\" &lt;&lt; now &lt;&lt; endl; tm *ltm = localtime(&amp;now);// å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºç»“æ„ä½“,å†è¾“å‡º tm ç»“æ„çš„å„ä¸ªç»„æˆéƒ¨åˆ† cout &lt;&lt; \"å¹´: \"&lt;&lt; 1900 + ltm-&gt;tm_year &lt;&lt; endl; cout &lt;&lt; \"æœˆ: \"&lt;&lt; 1 + ltm-&gt;tm_mon&lt;&lt; endl; cout &lt;&lt; \"æ—¥: \"&lt;&lt; ltm-&gt;tm_mday &lt;&lt; endl; cout &lt;&lt; \"æ—¶é—´: \"&lt;&lt; ltm-&gt;tm_hour &lt;&lt; \":\"; cout &lt;&lt; ltm-&gt;tm_min &lt;&lt; \":\"; cout &lt;&lt; ltm-&gt;tm_sec &lt;&lt; endl; getchar();&#125; time_tç»“æ„ä½“ 12345678910111213141516171819202122232425262728#include &lt;time.h&gt; #include &lt;stdio.h&gt; int main( void ) &#123; time_t t = time(0); char tmp[64]; strftime( tmp, sizeof(tmp), \"%Y/%m/%d %X %A æœ¬å¹´ç¬¬%jå¤© %z\",localtime(&amp;t) ); puts( tmp ); return 0; &#125; // ---ç¬¬äºŒç§#include &lt;string&gt;#include &lt;time.h&gt;using namespace std;string getTime()&#123; time_t timep; time (&amp;timep); char tmp[64]; strftime(tmp, sizeof(tmp), \"%Y-%m-%d %H:%M:%S\",localtime(&amp;timep) ); return tmp;&#125;int main()&#123; string time = getTime(); cout &lt;&lt; time &lt;&lt; endl; return 0;&#125; size_t strftime(char *strDest, size_t maxsize, const char *format, const struct tm *timeptr); æ ¹æ®æ ¼å¼å­—ç¬¦ä¸²ç”Ÿæˆå­—ç¬¦ä¸²ã€‚ struct tm *localtime(const time_t *timer); å–å¾—å½“åœ°æ—¶é—´ï¼Œlocaltimeè·å–çš„ç»“æœç”±ç»“æ„tmè¿”å› è¿”å›çš„å­—ç¬¦ä¸²å¯ä»¥ä¾ä¸‹åˆ—çš„æ ¼å¼è€Œå®šï¼š %a æ˜ŸæœŸå‡ çš„ç¼©å†™ã€‚Eg:Tue %A æ˜ŸæœŸå‡ çš„å…¨åã€‚ Eg: Tuesday %b æœˆä»½åç§°çš„ç¼©å†™ã€‚ %B æœˆä»½åç§°çš„å…¨åã€‚ %c æœ¬åœ°ç«¯æ—¥æœŸæ—¶é—´è¾ƒä½³è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚ %d ç”¨æ•°å­—è¡¨ç¤ºæœ¬æœˆçš„ç¬¬å‡ å¤© (èŒƒå›´ä¸º 00 è‡³ 31)ã€‚æ—¥æœŸ %H ç”¨ 24 å°æ—¶åˆ¶æ•°å­—è¡¨ç¤ºå°æ—¶æ•° (èŒƒå›´ä¸º 00 è‡³ 23)ã€‚ %I ç”¨ 12 å°æ—¶åˆ¶æ•°å­—è¡¨ç¤ºå°æ—¶æ•° (èŒƒå›´ä¸º 01 è‡³ 12)ã€‚ %j ä»¥æ•°å­—è¡¨ç¤ºå½“å¹´åº¦çš„ç¬¬å‡ å¤© (èŒƒå›´ä¸º 001 è‡³ 366)ã€‚ %m æœˆä»½çš„æ•°å­— (èŒƒå›´ç”± 1 è‡³ 12)ã€‚ %M åˆ†é’Ÿã€‚ %p ä»¥ â€˜â€˜AMâ€™â€™ æˆ– â€˜â€˜PMâ€™â€™ è¡¨ç¤ºæœ¬åœ°ç«¯æ—¶é—´ã€‚ %S ç§’æ•°ã€‚ %U æ•°å­—è¡¨ç¤ºä¸ºæœ¬å¹´åº¦çš„ç¬¬å‡ å‘¨ï¼Œç¬¬ä¸€ä¸ªæ˜ŸæœŸç”±ç¬¬ä¸€ä¸ªå‘¨æ—¥å¼€å§‹ã€‚ %W æ•°å­—è¡¨ç¤ºä¸ºæœ¬å¹´åº¦çš„ç¬¬å‡ å‘¨ï¼Œç¬¬ä¸€ä¸ªæ˜ŸæœŸç”±ç¬¬ä¸€ä¸ªå‘¨ä¸€å¼€å§‹ã€‚ %w ç”¨æ•°å­—è¡¨ç¤ºæœ¬å‘¨çš„ç¬¬å‡ å¤© ( 0 ä¸ºå‘¨æ—¥)ã€‚ %x ä¸å«æ—¶é—´çš„æ—¥æœŸè¡¨ç¤ºæ³•ã€‚ %X ä¸å«æ—¥æœŸçš„æ—¶é—´è¡¨ç¤ºæ³•ã€‚ Eg: 15:26:30 %y äºŒä½æ•°å­—è¡¨ç¤ºå¹´ä»½ (èŒƒå›´ç”± 00 è‡³ 99)ã€‚ %Y å®Œæ•´çš„å¹´ä»½æ•°å­—è¡¨ç¤ºï¼Œå³å››ä½æ•°ã€‚ Eg:2008 %Z(%z) æ—¶åŒºæˆ–åç§°ç¼©å†™ã€‚Eg:ä¸­å›½æ ‡å‡†æ—¶é—´ %% % å­—ç¬¦ã€‚","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"ç¨‹åºå¼€å‘ç»éªŒ","slug":"ç¨‹åºå¼€å‘ç»éªŒ","permalink":"https://nymrli.top/tags/ç¨‹åºå¼€å‘ç»éªŒ/"}]},{"title":"Shellä»£ç ç¼–å†™è®°å½•","slug":"Shellä»£ç ç¼–å†™è®°å½•","date":"2019-01-23T05:48:59.000Z","updated":"2021-11-03T13:05:56.898Z","comments":true,"path":"2019/01/23/Shellä»£ç ç¼–å†™è®°å½•/","link":"","permalink":"https://nymrli.top/2019/01/23/Shellä»£ç ç¼–å†™è®°å½•/","excerpt":"","text":"éšæœºé€‰å–ç«¯å£ 12345# éšæœºè®¾ç½®ä»£ç†å’Œç›‘æ§ç«¯å£ï¼Œå…è®¸æ¯å°æœºå™¨æœ‰å¤šä¸ªä»£ç†# æ³¨æ„:$RANDOMè¿”å›ä¸€ä¸ªä»0åˆ°32767çš„å€¼ï¼Œç«¯å£&lt;= 1024ä¿ç•™ç»™rootç”¨æˆ·# TODO:ä¸æ˜¯éšæœºé€‰æ‹©ç«¯å£ï¼Œè€Œæ˜¯ç»‘å®šåˆ°å¯ç”¨ç«¯å£export SPARK_SERVERPORT=$[$RANDOM + 1025]export SPARK_AGENTPORT=$[$RANDOM + 1025] åå°æ‰§è¡Œ,è·å–å…¶PID 12345678rcssserver3d --agent-port $SPARK_AGENTPORT --server-port $SPARK_SERVERPORT &amp;# å°†rcssserver3dåå°è¿è¡Œåœ¨éšæœºè·å¾—çš„ç«¯å£ä¸ŠPID=$! # è·å¾—è¿›ç¨‹å·,æœ€åç”¨è¿›ç¨‹PIDå…³é—­rcssserver3d# ---ç±»æ¯”å­¦ä¹ ---python ./test1.py &amp;PID=$!echo $PID ç»„åˆå‘½ä»¤ 12345678910sleep 5 #å»¶è¿Ÿæ—¶é—´DIR_SCRIPT=\"$( cd \"$( dirname \"$0\" )\" &amp;&amp; pwd )\" # å…ˆè¿è¡Œ cdåˆ‡æ¢ç›®å½•,å†å°†å½“å‰å·¥ä½œç›®å½•èµ‹å€¼ç»™ DIR_SCRIPTTYPE=$1 #TYPEä¸ºè¯»å–ç¬¬äºŒä¸ªå‚æ•°DIR_PARAMS=\"$( cd \"$( dirname \"$2\" )\" &amp;&amp; pwd )\"DIR_OUTPUT=\"$( cd \"$( dirname \"$3\" )\" &amp;&amp; pwd )\"PARAMS_FILE=$DIR_PARAMS/$(basename $2)# basenameè¿”å›æ–‡ä»¶åOUTPUT_FILE=$DIR_OUTPUT/$(basename $3) è¾“å‡ºåˆ¤æ–­ 1234567891011121314while [ ! -f $OUTPUT_FILE ] &amp;&amp; [ $total_wait_time -lt $maxWaitTimeSecs ]do sleep 1 total_wait_time=`expr $total_wait_time + 1` # expr è¡¨ç¤ºåé¢æ˜¯è¿ç®—è¡¨è¾¾å¼done # -f æ˜¯æ­£å¸¸æ–‡ä»¶ # Shell ä¸­ ()ç”¨[]ä»£æ›¿if [ ! -f $OUTPUT_FILE ]then echo \"Timed out while waiting for script to complete, current wait time is $total_wait_time seconds.\"else echo \"Completed with a wait time of $total_wait_time seconds.\"fi å…³é—­è¿›ç¨‹ 12345echo \"Killing Simulator\"kill -s 2 $PID# kill -s ä¿¡å·å è¿›ç¨‹å·echo \"Killing Agent\"kill -s 2 $AGENTPID æ ¼å¼ï¼škill &lt;pid&gt; æ ¼å¼ï¼škill -TERM &lt;pid&gt; å‘é€SIGTERMæ—Œæ——ç¯å·åˆ°æŒ‡å®šè¿‡ç¨‹ï¼Œè‹¥æ˜¯è¿‡ç¨‹æ²¡æœ‰æ•è·è¯¥æ—Œæ——ç¯å·ï¼Œåˆ™è¿‡ç¨‹ç»ˆæ­¢ï¼ˆIf no signal is specifiedï¼Œ the TERM signal is sent. The TERM signal will kill processes which do not catch this signal.ï¼‰ æ ¼å¼ï¼škill -l åˆ—å‡ºæ‰€æœ‰æ—Œæ——ç¯å·åç§°ï¼ˆPrint a list of signal names. These are found in /usr/include/linux/signal.hï¼‰ã€‚åªæœ‰ç¬¬9ç§æ—Œæ——ç¯å·ï¼ˆSIGKILLï¼‰æ‰å¯ä»¥æ— å‰æç»ˆæ­¢è¿‡ç¨‹ï¼Œå…¶ä»–æ—Œæ——ç¯å·è¿‡ç¨‹éƒ½æœ‰æƒåŠ›å¿½è§†ã€‚ä¸‹é¢æ˜¯å¸¸ç”¨çš„æ—Œæ——ç¯å·ï¼š æ—Œæ——ç¯å·åç§° HUP 1 ç»ˆç«¯æ–­çº¿ INT 2 ä¸­æ–­ï¼ˆåŒ Ctrl + Cï¼‰ QUIT 3 é€€å‡ºï¼ˆåŒ Ctrl + ï¼‰ TERM 15 ç»ˆæ­¢ KILL 9 å¼ºè¿«ç»ˆæ­¢ CONT 18 æŒç»­ï¼ˆä¸STOPç›¸åï¼Œ fg/bgå·ä»¤ï¼‰ STOP 19 æš‚åœï¼ˆåŒ Ctrl + Zï¼‰ Bash Shell è„šæœ¬è·å–è¿›ç¨‹ pid ç¬¬ä¸€ç§æ–¹æ³•: ps -ef | grep &quot;Processname&quot; | grep -v grep | awk '{print $2}' ç¬¬äºŒç§ æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ pgrepï¼š pgrep -f name æ ¹æ®PIDå…³é—­è¿›ç¨‹ kill -9 PID æ ¹æ®è¿›ç¨‹åå…³é—­è¿›ç¨‹ æ³•ä¸€: 1kill -f name1 æ³•äºŒ: å¦‚æœæ˜¯å¯æ‰§è¡Œç¨‹åºçš„è¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ pidof 1pidof name å…³é—­Roboviz.shé‡Œjavaè¿›ç¨‹çš„æ–¹æ³•: grep -v ï¼šæ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œ(åå‘æŸ¥æ‰¾)ã€‚æ¯”å¦‚ grep -v grep å°±æ˜¯æŸ¥æ‰¾ä¸å«æœ‰ grep å­—æ®µçš„è¡Œ å†™æ³•ä¸€:kill -9 $(ps x | grep Roboviz.jar | grep -v grep | awk '{print $1}') å†™æ³•äºŒ: ps -ef | grep Roboviz.jar | grep -v grep | awk '{print $2}' | xargs kill -9 shellè„šæœ¬ä¸­çš„å†’å·ä½œç”¨ ä½œç”¨ä¸€: å ä½ç¬¦&lt;==&gt;pass 12345if egrep '.*vmlinuz-2.6.32-220.23.1.lvs.el6.*nohz=off' /boot/grub/grub.conf ;then :else sed -i -r 's/(.*vmlinuz-2.6.32-220.23.1.lvs.el6.*)/\\1 nohz=off/' /boot/grub/grub.conffi ä½œç”¨äºŒ: åˆ†éš”ç¬¦ å†’å·(:)å¸¸ç”¨æ¥åšè·¯å¾„çš„åˆ†éš”ç¬¦ï¼ˆPATHï¼‰ï¼Œæ•°æ®å­—æ®µçš„åˆ†éš”ç¬¦ï¼ˆ/etc/passwdï¼‰ å® ç‰¹æ®Šå˜é‡: å½“å‰è„šæœ¬PID å½“å‰è„šæœ¬PID å½“å‰è„šæœ¬PID $? ä¸Šå¥æ‰§è¡Œç»“æœ command -vç”¨æ³• åœ¨Linuxä¸­ï¼Œcommand -v å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå‘½ä»¤æ˜¯å¦æ”¯æŒï¼Œå¦‚æœä¸€ä¸ªè„šæœ¬éœ€è¦ï¼Œæˆ–è€…è¿˜è¦å®¶ifåˆ¤æ–­ï¼Œåˆ™ç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112# åˆ¤æ–­æ˜¯å¦å­˜åœ¨dockerif command -v docker &gt;/dev/null 2&gt;&amp;1;then echo \"yes\"else echo \"no\"fi# å®é™…è¿ç”¨ï¼šå¦‚æœä¸å­˜åœ¨unzipåˆ™æŠ¥é”™if ! command -v unzip &gt;/dev/null; then echo \"Error: unzip is required to install ipgw.\" 1&gt;&amp;2 exit 1fi","categories":[],"tags":[{"name":"Shell","slug":"Shell","permalink":"https://nymrli.top/tags/Shell/"}]},{"title":"MatlabåŸºç¡€æ•™ç¨‹","slug":"MatlabåŸºç¡€æ•™ç¨‹","date":"2019-01-23T05:43:34.000Z","updated":"2019-09-15T08:07:30.963Z","comments":true,"path":"2019/01/23/MatlabåŸºç¡€æ•™ç¨‹/","link":"","permalink":"https://nymrli.top/2019/01/23/MatlabåŸºç¡€æ•™ç¨‹/","excerpt":"","text":"Matlabå­¦ä¹  1234A = [1 3 5];max(A)ans = 5 å¦‚æœå­˜åœ¨å¤šä¸ªè¾“å…¥å‚æ•°ï¼Œè¯·ä½¿ç”¨é€—å·åŠ ä»¥åˆ†éš”ï¼š 12345B = [10 6 4];max(A,B)ans = 10 6 5%Aä¸­åˆ—å…ƒç´ ä¸Bä¸­åˆ—å…ƒç´ ä¸€ä¸€æ¯”è¾ƒ. clc å‡½æ•°æ¸…é™¤å‘½ä»¤è¡Œçª—å£ã€‚ å‡½æ•° 123disp(&apos;hello world&apos;)hello worldè¦è°ƒç”¨ä¸éœ€è¦ä»»ä½•è¾“å…¥ä¸”ä¸ä¼šè¿”å›ä»»ä½•è¾“å‡ºçš„å‡½æ•°ï¼Œè¯·åªé”®å…¥å‡½æ•°åç§°ï¼š äºŒç»´ç»˜å›¾ r--' å­—ç¬¦ä¸²ä¸ºçº¿æ¡è®¾å®šã€‚æ¯ä¸ªè®¾å®šå¯åŒ…å«è¡¨ç¤ºçº¿æ¡é¢œè‰²ã€æ ·å¼å’Œæ ‡è®°çš„å­—ç¬¦ã€‚æ ‡è®°æ˜¯åœ¨ç»˜åˆ¶çš„æ¯ä¸ªæ•°æ®ç‚¹ä¸Šæ˜¾ç¤ºçš„ç¬¦å·ï¼Œä¾‹å¦‚ï¼Œ+ã€o æˆ– *ã€‚ä¾‹å¦‚ï¼Œ'g:*' è¯·æ±‚ç»˜åˆ¶ä½¿ç”¨ * æ ‡è®°çš„ç»¿è‰²ç‚¹çº¿ã€‚ è¯·æ³¨æ„ï¼Œä¸ºç¬¬ä¸€å¹…ç»˜å›¾å®šä¹‰çš„æ ‡é¢˜å’Œæ ‡ç­¾ä¸å†è¢«ç”¨äºå½“å‰çš„å›¾çª—å£ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è°ƒç”¨ç»˜å›¾å‡½æ•°ã€é‡ç½®åæ ‡è½´åŠå…¶ä»–å…ƒç´ ä»¥å‡†å¤‡æ–°ç»˜å›¾æ—¶ï¼ŒMATLABÂ® éƒ½ä¼šæ¸…é™¤å›¾å½¢ã€‚ è¦å°†ç»˜å›¾æ·»åŠ åˆ°ç°æœ‰å›¾å½¢ä¸­ï¼Œè¯·ä½¿ç”¨ holdã€‚ 1234567x = 0:pi/100:2*pi;y = sin(x);plot(x,y)hold ony2 = cos(x);plot(x,y2,&apos;:&apos;)legend(&apos;sin&apos;,&apos;cos&apos;) ä¸‰ç»´ç»˜å›¾ 123[X,Y] = meshgrid(-2:.2:2);Z = X .* exp(-X.^2 - Y.^2);surf(X,Y,Z) surf å‡½æ•°åŠå…¶ä¼´éšå‡½æ•° mesh ä»¥ä¸‰ç»´å½¢å¼æ˜¾ç¤ºæ›²é¢å›¾ã€‚surf ä½¿ç”¨é¢œè‰²æ˜¾ç¤ºæ›²é¢å›¾çš„è¿æ¥çº¿å’Œé¢ã€‚mesh ç”Ÿæˆä»…ä»¥é¢œè‰²æ ‡è®°è¿æ¥å®šä¹‰ç‚¹çš„çº¿æ¡çš„çº¿æ¡†æ›²é¢å›¾ã€‚ï¼ˆsurfå¡«å……-srufaceï¼‰ Mæ–‡ä»¶ è„šæœ¬æ–‡ä»¶ å‡½æ•°æ–‡ä»¶ 1234567891011è„šæœ¬æ–‡ä»¶ 1.å¤šæ¡å‘½ä»¤çš„ç»¼åˆä½“ 2.æ²¡æœ‰è¾“å…¥ã€è¾“å‡ºå˜é‡ 3.ä½¿ç”¨MATLABåŸºæœ¬å·¥ä½œç©ºé—´ 4.æ²¡æœ‰å‡½æ•°å£°æ˜è¡Œ å‡½æ•°æ–‡ä»¶1.å¸¸ç”¨äºæ‰©å……MATLABå‡½æ•°åº“2.å¯ä»¥åŒ…å«è¾“å…¥ã€è¾“å‡ºå˜é‡3.è¿ç®—ä¸­ç”Ÿæˆçš„æ‰€æœ‰å˜é‡éƒ½å­˜æ”¾åœ¨å‡½æ•°å·¥ä½œç©ºé—´4.åŒ…å«å‡½æ•°å£°æ˜è¡Œ å‡½æ•°åä¸ºmymaxï¼Œæ–‡ä»¶åä¸ºmymax.mï¼ˆå¿…é¡»ç›¸åŒï¼‰ã€‚å®ƒéœ€è¦äº”ä¸ªæ•°å­—ä½œä¸ºå‚æ•°å¹¶è¿”å›æœ€å¤§çš„æ•°å­—ã€‚ 1234567891011121314151617åˆ›å»ºå‡½æ•°æ–‡ä»¶ï¼Œåä¸ºmymax.m å¹¶è¾“å…¥ä¸‹é¢çš„ä»£ç ï¼š function max = mymax(n1, n2, n3, n4, n5) %This function calculates the maximum of the % five numbers given as input max = n1; if(n2 &gt; max) max = n2; end if(n3 &gt; max) max = n3; end if(n4 &gt; max) max = n4; end if(n5 &gt; max) max = n5; end ç¬¦å·å˜é‡ä¸ç¬¦å·è¡¨è¾¾å¼ x y; %å®šä¹‰x,yä¸ºç¬¦å·å˜é‡>>z123456éœ€è¦ç”¨symsæˆ–symå®šä¹‰ï¼Œä¾‹å¦‚&gt;&gt;syms x y; %å®šä¹‰x,yä¸ºç¬¦å·å˜é‡&gt;&gt;z=x^2+y^2 ï¼…å®šä¹‰zä¸ºå«æœ‰xä¸yçš„ç¬¦å·è¡¨è¾¾å¼ä¹Ÿå¯ä»¥è¿™æ ·å®šä¹‰zï¼Œ &gt;&gt;z=sym(â€˜x^2+y^2â€™) %ä¸ä¸Šé¢ç­‰ä»· å…³äºç¬¦å·è¡¨è¾¾å¼çš„åŸºæœ¬å‘½ä»¤ å‘½ä»¤ å«ä¹‰ pretty(s) å°†sæ˜¾ç¤ºä¸ºæ•°å­¦ä¹¦å†™å½¢å¼ symsum(s,x,a,b) å¯¹sä¸­çš„xä»aåˆ°bæ±‚å’Œ findsym(s) ç»™å‡ºsä¸­æ‰€æœ‰çš„ç¬¦å·å˜é‡ findsym(s,n) ç»™å‡ºsä¸­ç¦»xæœ€è¿‘çš„nä¸ªç¬¦å·å˜é‡ï¼Œnå¤§äºsä¸­ç¬¦å·å˜é‡ä¸ªæ•°æ—¶åˆ™æŒ‰å­—æ¯è¡¨é¡ºåºè¿”å›ç¬¦å·å˜é‡ subs(s,a,b) å°†sä¸­çš„aç½®æ¢æˆb double(s) å°†sè½¬æ¢æˆæ•°å€¼å½¢å¼ str2num(s) å­—ç¬¦å˜é‡è½¬æ¢ä¸ºæ•°å€¼å˜é‡ num2str(s) æ•°å€¼å˜é‡è½¬æ¢ä¸ºå­—ç¬¦å˜é‡ sym(a) å°†aè½¬æ¢ä¸ºç¬¦å·å˜é‡ digits(d) ç»™å‡ºæœ‰æ•ˆæ•°å­—ä¸ªæ•°ä¸ºdçš„è¿‘ä¼¼å€¼ vpa(s,d) è®¡ç®—såœ¨ç²¾åº¦ä¸ºdä½æœ‰æ•ˆæ•°å­—çš„è§£ eval(s) æ‰§è¡Œç¬¦å·è¡¨è¾¾å¼s å‘½ ä»¤ å« ä¹‰ collect(s) åˆå¹¶sä¸­çš„åŒç±»é¡¹ compose(f,g,x,y) è®¡ç®—å¤åˆå‡½æ•°f(g(y)),x,yåˆ†åˆ«ä¸ºf,gçš„è‡ªå˜é‡ gï¼finverse(f) è®¡ç®—f(x)çš„åå‡½æ•°ï¼Œgçš„è‡ªå˜é‡ä»ä¸ºx expand(s) å±•å¼€è¡¨è¾¾å¼s factor(s) å› å¼åˆ†è§£s [N,D]=numden(s) é€šåˆ†sä¸­å„å¼ï¼Œå…¶å’Œçš„åˆ†å­ä¸ºNï¼Œåˆ†æ¯ä¸ºD simplify(s) å¯¹sè¿›è¡Œç»¼åˆåŒ–ç®€ simple(s) ç»™å‡ºsçš„æ‰€æœ‰æœ€ç®€å¼ å¾®ç§¯åˆ† å‘½ ä»¤ å« ä¹‰ limit(f,x,a) è®¡ç®—å‡½æ•°f(x)å½“x-&gt;aæ—¶çš„æé™ limit(f,x,a,â€™rightâ€™) è®¡ç®—å‡½æ•°f(x)å½“x-&gt;a+æ—¶çš„å³æé™ limit(f,x,a,â€™leftâ€™) è®¡ç®—å‡½æ•°f(x)å½“x-&gt;a-æ—¶çš„å·¦æé™ x=fminbnd(f,a,b) è®¡ç®—å‡½æ•°f(x)åœ¨åŒºé—´[a,b]ä¸Šçš„æœ€å°å€¼ç‚¹ [x,fmin]=fminbnd(f,a,b) è®¡ç®—å‡½æ•°f(x)åœ¨åŒºé—´[a,b]ä¸Šçš„æœ€å°å€¼ç‚¹åŠæœ€å°å€¼fmin diff(f,â€™xâ€™,n) è®¡ç®—å‡½æ•°f(x)å¯¹å˜é‡xçš„né˜¶å¯¼æ•°ï¼Œâ€™xâ€™å¯çœ int(f,x) è®¡ç®—å‡½æ•°f(x)çš„ä¸å®šç§¯åˆ†ï¼Œç§¯åˆ†å˜é‡ä¸ºx int(f,x,a,b) è®¡ç®—å‡½æ•°f(x)åœ¨[a,b]ä¸Šçš„å®šç§¯åˆ†(ç¬¦å·) quad(f,a,b) è®¡ç®—å‡½æ•°f(x)åœ¨[a,b]ä¸Šçš„å®šç§¯åˆ†å€¼ taylor(f) è®¡ç®—å‡½æ•°f(x)åœ¨x=0å¤„çš„5é˜¶æ³°å‹’å±•å¼€å¼ taylor(f,n,x,a) è®¡ç®—å‡½æ•°f(x)åœ¨x=aå¤„çš„n-1é˜¶æ³°å‹’å±•å¼€å¼ â–²éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿›è¡Œè¿™äº›è®¡ç®—å‰å¿…é¡»ç”³æ˜æ˜¯ç¬¦å·è®¡ç®—ï¼Œå³è¦åŠ ä¸Šsyms x y;ç­‰è¯­å¥ åŸºæœ¬çš„ç»˜å›¾æ­¥éª¤ æ­¥ éª¤ å…¸ å‹ ä»£ ç  1. å‡†å¤‡ç»˜å›¾æ•°æ® x = 0:0.2:12; y1 = bessel(1,x); 2. é€‰æ‹©ä¸€ä¸ªçª—å£å¹¶åœ¨çª—å£ä¸­ç»™å›¾å½¢å®šä½ figure(1) ï¼Œsubplot(2,2,1) 3. è°ƒç”¨åŸºæœ¬çš„ç»˜å›¾å‡½æ•° h = plot(x,y1,x,y2,x,y3); 4. é€‰æ‹©çº¿å‹å’Œæ ‡è®°ç‰¹æ€§ set(h,â€˜LineWidthâ€™,2,{â€˜LineStyleâ€™},{â€™â€“â€™;â€™:â€™;â€™-.â€™}) 5. è®¾ç½®åæ ‡è½´çš„æé™å€¼ã€æ ‡è®°ç¬¦å·å’Œç½‘æ ¼çº¿ axis([0 12 -0.5 1]) 6. ä½¿ç”¨åæ ‡è½´æ ‡ç­¾ã€å›¾ä¾‹å’Œæ–‡æœ¬å¯¹å›¾å½¢è¿›è¡Œæ³¨é‡Š xlabel(â€˜Timeâ€™)ylabel(â€˜Amplitudeâ€™) 7. è¾“å‡ºå›¾å½¢ print -depsc -tiff -r200 myplot # äºŒç»´æ›²çº¿å›¾ 1234ä¾‹ï¼š&gt;&gt; x= 0:0.01:10;&gt;&gt; y=sin(x);&gt;&gt; plot(x,y) # å‡½æ•°ç»˜å›¾ 1234fplot(â€˜functionâ€™,èŒƒå›´)ï¼Œä¾‹å¦‚ fplot(&apos;sin(x)&apos;,[0,2*pi],&apos;r&apos;)åé¢é€‰é¡¹ä¸plotä¸€è‡´ã€‚å†å¦‚ fplot(â€˜[sin(x),cos(x)]â€™,[0,2*pi])åŒæ—¶ç”»å‡ºä¸¤ä¸ªå‡½æ•°å›¾å½¢ #ç¬¦å·å‡½æ•°ç»˜å›¾ 1æ ¼å¼ezplot(f,[a,b]) ç”»å‡ºç¬¦å·å‡½æ•°fåœ¨[a,b]ä¸Šçš„å›¾å½¢ # æåæ ‡å›¾å½¢ 1234MATLABæä¾›äº†polarå‡½æ•°æ¥åœ¨æåæ ‡ä¸‹ç»˜åˆ¶å›¾å½¢ ï¼š&gt;&gt; x= 0:0.01:10;&gt;&gt; y=1+cos(x);&gt;&gt; polar(x,y,&apos;rs&apos;) å›¾å½¢æ§åˆ¶ä¸ä¿®é¥° å‘½ä»¤ å«ä¹‰ axis auto åæ ‡è½´ç¼ºçœè®¾ç½® axis equal çºµã€æ¨ªè½´é‡‡ç”¨ç›¸ç­‰å•ä½é•¿åº¦ axis image çºµã€æ¨ªè½´é‡‡ç”¨ç›¸ç­‰å•ä½é•¿åº¦ï¼Œä¸”åæ ‡æ¡†ç´§è´´æ•°æ®èŒƒå›´ axis([x1 x2 y1 y2]) è®¾å®šåæ ‡èŒƒå›´ grid on ç”»å‡ºç½‘æ ¼çº¿ grid off ä¸ç”»ç½‘æ ¼çº¿ hold on ä½¿ä»¥åå›¾å½¢ç”»åœ¨å½“å‰å›¾å½¢ä¸Š hold off ä½¿ä»¥åå›¾å½¢ä¸ç”»åœ¨å½“å‰å›¾å½¢ä¸Š å‘½ä»¤ å«ä¹‰ title(x,y,â€˜nameâ€™) åœ¨(x,y)å¤„æ ‡ç¤ºå›¾å xlabel(â€˜xtextâ€™) æ¨ªåæ ‡è½´å ylabel(â€˜ytextâ€™) çºµåæ ‡è½´å legend(â€˜firstâ€™,â€™secondâ€™,n) å¯¹ä¸€ä¸ªåæ ‡ç³»ä¸­çš„ä¸¤å¹…å›¾ä½œå‡ºå›¾ä¾‹æ³¨è§£ figure å¦å¼€å›¾å½¢çª—å£ subplot(m,n,k) mÃ—nå¹…å­å›¾çš„ç¬¬kå¹…ç§°ä¸ºå½“å‰å›¾ å¤šä¸ªå›¾å½¢çš„ç»˜åˆ¶æ–¹æ³• 1234subplotå‡½æ•° å¯ä»¥å®ç°å¤šä¸ªå›¾å½¢çš„ç»˜åˆ¶ï¼š&gt;&gt; x = 0:.1:20;&gt;&gt; subplot(2,2,1)&gt;&gt; plot(x,sin(x)); # ä¸‰ç»´ç½‘çº¿å›¾ 12345671.mesh(X,Y,Z) ï¼Œä¾‹ x=-5:0.2:5;y=x; [X Y]=meshgrid(x,y); %ç”Ÿæˆæ ¼ç‚¹çŸ©é˜µ Z=sin(sqrt(X.^2+Y.^2)); mesh(X,Y,Z) 2. ezmesh(â€˜fâ€™,â€˜gâ€™,â€˜hâ€™,[u1,u2,v1,v2] )ï¼Œä¾‹ ezmesh(&apos;cos(u)*cos(v)&apos;,&apos;sin(u)*cos(v)&apos;,&apos;sin(v)&apos;,[0,2*pi,-pi,pi]); axis equal æ•°å€¼å˜é‡ä¸ç¬¦å·å˜é‡ æ•°å€¼å˜é‡çš„å¸¸ç”¨å‡½æ•°ï¼Œä¸€èˆ¬éƒ½å¯ä»¥ç›´æ¥ç”¨åœ¨ç¬¦å·å˜é‡ä¸Šï¼Œæ¯”å¦‚ä¸‰è§’å‡½æ•°ï¼Œè¿™äº›éƒ½æ˜¯å¯ä»¥é€šç”¨çš„ï¼Œè€Œä¸”å‡½æ•°çš„å«ä¹‰ä¹Ÿå®Œå…¨ä¸€æ ·ã€‚ ä½†ååæœ‰äº›å‡½æ•°éå¸¸è›‹ç–¼ï¼Œå¯¹ç¬¦å·å˜é‡ä¸æ•°å€¼å˜é‡éƒ½å¯ä»¥è¿›è¡Œæ“ä½œï¼Œä½†æ“ä½œçš„å«ä¹‰å®Œå…¨ä¸åŒï¼Œæ¯”å¦‚diffï¼Œdiffå¯¹äºä¸€ä¸ªæ•°å€¼å˜é‡çš„è¿ç®—ç»“æœæ˜¯å·®åˆ†ï¼Œè€Œå¯¹äºä¸€ä¸ªç¬¦å·å˜é‡çš„è¿ç®—ç»“æœåˆ™æ˜¯æ±‚å¯¼ ã€‚ å¦å¤–ä¹Ÿå­˜åœ¨å¾ˆå¤šå‡½æ•°åªèƒ½å¯¹æ•°å€¼å˜é‡æ“ä½œï¼Œæ¯”å¦‚ç¦»æ•£å‚…é‡Œå¶å˜æ¢fftã€‚è¿˜æœ‰å¾ˆå¤šå‡½æ•°åªèƒ½å¯¹ç¬¦å·å˜é‡æ“ä½œï¼Œæ¯”å¦‚æ³°å‹’å±•å¼€taylorã€‚å› æ­¤åœ¨matlabä½¿ç”¨ä¸­ï¼Œä¸€å®šè¦åŒºåˆ†å˜é‡çš„ç±»å‹ï¼Œå…¶å®çœŸçš„ç”¨èµ·æ¥ä¹Ÿå¥½åŒºåˆ†ï¼Œå› ä¸ºå®Œæˆç‰¹å®šçš„è®¡ç®—ä»»åŠ¡ï¼Œè¦ä¹ˆå…¨éƒ¨ç”¨æ•°å€¼ï¼Œè¦ä¹ˆå…¨éƒ¨ç”¨ç¬¦å·ï¼Œè¿™ä¹Ÿç¬¦åˆä¸€èˆ¬å¤„ç†é—®é¢˜çš„åŸåˆ™ã€‚ 4.å­—ç¬¦ä¸²çš„å¸¸ç”¨å‡½æ•° matlabä¸­å­—ç¬¦ä¸²çš„å¸¸ç”¨ç®—ç¬¦å°±æ›´å°‘äº†ï¼Œä½†éƒ½éå¸¸æœ‰ç”¨ï¼Œè¿™é‡Œä»‹ç»å‡ ä¸ªï¼š 1ï¼‰num2strå’Œstr2numï¼šå¯ä»¥å®ç°æ•°å€¼å˜é‡å’Œå­—ç¬¦ä¸²å˜é‡çš„è½¬æ¢ï¼Œæ¯”å¦‚ a=1 b=num2str(1)å¤åˆ¶ä»£ç è¿ç®—ç»“æœæ˜¾ç¤ºaæ˜¯ä¸€ä¸ªæ•°å€¼å˜é‡ï¼Œbæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œå‡½æ•°åä¸­çš„2å°±æ˜¯è‹±æ–‡ä¸­toçš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯æŠŠnumæ•°å€¼ç±»å‹è½¬åŒ–æˆstrå­—ç¬¦ç±»å‹ã€‚str2numå°±æ˜¯è¿™ä¸ªå‡½æ•°çš„åå‡½æ•°ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤ç»“åˆï¼Œå¯ä»¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚æå–ä¸€ä¸ªæ•°å­—çš„æœ€é«˜ä½ï¼š a=123456 b=num2str(a) c=b(1) d=str2numÂ© 2.3forå¾ªç¯ â€‹ forå¾ªç¯çš„è¯­æ³•æ˜¯ï¼š 12345678910for æ•°å€¼å˜é‡=å‘é‡ æ‰§è¡Œè¯­å¥end---å…¶å«ä¹‰æ˜¯ï¼Œæ•°å€¼å˜é‡ä¼šå–å‘é‡ä¸­çš„æ¯ä¸€ä¸ªå€¼ï¼Œç„¶åæ‰§è¡Œè¯­å¥ï¼Œåœ¨æ‰§è¡Œè¯­å¥ä¸­ï¼Œæ•°å€¼å˜é‡æ˜¯ä¸€ä¸ª1*1çš„çŸ©é˜µã€‚æ¯”å¦‚for a=[0 1 3]---åˆ™ä¼šè®©a=0ï¼Œæ‰§è¡Œè¯­å¥ï¼Œç„¶åa=1ï¼Œæ‰§è¡Œè¯­å¥ï¼Œæœ€åa=3ï¼Œæ‰§è¡Œè¯­å¥ã€‚è¿™é‡Œå®¹æ˜“å’Œèµ‹å€¼è¯­å¥æ··æ·†ï¼Œå› ä¸ºa=[0 1 3]æ˜¯ä¸€ä¸ªæ•°å€¼å˜é‡èµ‹å€¼ï¼Œèµ‹å€¼åaæ˜¯ä¸ªå‘é‡ï¼Œä½†åŠ ä¸Šäº†foråï¼Œaæ˜¯1*1çŸ©é˜µã€‚å¦å¤–ï¼Œåœ¨æ•°å€¼å˜é‡èµ‹å€¼é‚£æ®µï¼Œæˆ‘ä»¬è¯´è¿‡æœ‰ä¸€ç§å¸¸ç”¨çš„èµ‹å€¼æ–¹æ³•æ˜¯&quot;a=åˆå§‹å€¼:æ­¥é•¿:ç»ˆå€¼&quot;ï¼Œå…¶ç»“æœæ˜¯æŠŠaèµ‹å€¼æˆä¸€ä¸ªå‘é‡ï¼Œå› æ­¤è¿™ä¹Ÿå¹¿æ³›ç”¨äºforè¯­å¥ä¸­ for a=åˆå§‹å€¼:æ­¥é•¿:ç»ˆå€¼ ---åˆ™åœ¨æ‰§è¡Œè¯­å¥ä¸­ï¼Œaæ˜¯ä¸€ä¸ªéå†åˆå€¼åˆ°ç»ˆå€¼çš„1*1çŸ©é˜µã€‚","categories":[],"tags":[{"name":"Matlab","slug":"Matlab","permalink":"https://nymrli.top/tags/Matlab/"}]},{"title":"ä¸­æ–‡Boisæ¨¡å¼ç•Œé¢","slug":"ä¸­æ–‡Boisæ¨¡å¼ç•Œé¢","date":"2019-01-23T05:40:19.000Z","updated":"2019-09-15T08:07:31.020Z","comments":true,"path":"2019/01/23/ä¸­æ–‡Boisæ¨¡å¼ç•Œé¢/","link":"","permalink":"https://nymrli.top/2019/01/23/ä¸­æ–‡Boisæ¨¡å¼ç•Œé¢/","excerpt":"","text":"æš—å¤œç²¾çµçš„Boisç•Œé¢ã€‚è§‰å¾—è¿˜æŒºå‹å¥½çš„ã€‚","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"Chromeå¼€å‘è€…å·¥å…·Network","slug":"Chromeå¼€å‘è€…å·¥å…·Network","date":"2019-01-23T05:38:12.000Z","updated":"2019-09-15T08:07:30.926Z","comments":true,"path":"2019/01/23/Chromeå¼€å‘è€…å·¥å…·Network/","link":"","permalink":"https://nymrli.top/2019/01/23/Chromeå¼€å‘è€…å·¥å…·Network/","excerpt":"","text":"Chromeå¼€å‘è€…å·¥å…·ä¸­NetworkåŠŸèƒ½ä»‹ç» ç¬¬ä¸€åˆ—Name:è¯·æ±‚çš„åç§°ï¼Œä¸€èˆ¬ä¼šå°†URLçš„æœ€åä¸€ éƒ¨åˆ†å†…å®¹å½“ä½œåç§°ã€‚ ç¬¬äºŒåˆ—Status: å“åº”çš„çŠ¶æ€ç ï¼Œè¿™é‡Œæ˜¾ç¤ºä¸º200ï¼Œä»£è¡¨å“åº”æ˜¯æ­£å¸¸çš„ã€‚é€šè¿‡çŠ¶æ€ç ï¼Œæˆ‘ä»¬å¯ ä»¥åˆ¤æ–­å‘é€äº†è¯·æ±‚ä¹‹åæ˜¯å¦å¾—åˆ°äº†æ­£å¸¸çš„å“åº”ã€‚ ç¬¬ä¸‰åˆ—Type: è¯·æ±‚çš„æ–‡æ¡£ç±»å‹ã€‚è¿™é‡Œä¸ºdocument, ä»£è¡¨æˆ‘ä»¬è¿™æ¬¡è¯·æ±‚çš„æ˜¯ä¸€ä¸ªHTMLæ–‡æ¡£,å†…å®¹å°±æ˜¯ä¸€äº›HTMLä»£ç ã€‚ ç¬¬å››åˆ—initiator: è¯·æ±‚æºã€‚ç”¨æ¥æ ‡è®°è¯·æ±‚æ˜¯ç”±å“ªä¸ªå¯¹è±¡æˆ–è¿›ç¨‹å‘èµ·çš„ã€‚ ç¬¬äº”åˆ—Size: ä»æœåŠ¡å™¨ä¸‹è½½çš„æ–‡ä»¶å’Œè¯·æ±‚çš„èµ„æºå¤§å°ã€‚å¦‚æœæ˜¯ä»ç¼“å­˜ä¸­å–å¾—çš„èµ„æºï¼Œåˆ™è¯¥åˆ—ä¼šæ˜¾ç¤ºfrom cacheã€‚ ç¬¬å…­åˆ—Time:å‘èµ·è¯·æ±‚åˆ°è·å–å“åº”æ‰€ç”¨çš„æ€»æ—¶é—´ã€‚ ç¬¬ä¸ƒåˆ—Waterfall:ç½‘ç»œè¯·æ±‚çš„å¯è§†åŒ–ç€‘å¸ƒæµã€‚ å“åº”ä¸­åˆ†Generaléƒ¨åˆ†ï¼Œè¯·æ±‚å¤´ã€å“åº”å¤´ï¼š å…¶ä¸­Generalå«ï¼š Request URLä¸ºè¯·æ±‚çš„URLï¼Œ Request Methodä¸ºè¯·æ±‚çš„æ–¹æ³• Status Codeä¸ºå“åº”çŠ¶æ€ç ï¼Œ Remote Addressä¸ºè¿œç¨‹æœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£ Referrer Policyä¸ºReferreråˆ¤åˆ«ç­–ç•¥ã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"Charlesé…ç½®","slug":"Charlesé…ç½®","date":"2019-01-23T05:32:21.000Z","updated":"2021-10-30T07:51:49.530Z","comments":true,"path":"2019/01/23/Charlesé…ç½®/","link":"","permalink":"https://nymrli.top/2019/01/23/Charlesé…ç½®/","excerpt":"","text":"Charlesé…ç½® ç”µè„‘å®‰è£… ä¸‹è½½SSLè¯ä¹¦ è®¾ç½®SSLç«¯å£ *ä¸ºé€šé…IPç½‘å€ï¼Œä¸€èˆ¬SSLçš„ç«¯å£éƒ½æ˜¯443 æ‰‹æœºæŠ“åŒ… æ‰“å¼€Charlesä»£ç† å…·ä½“é…ç½®ï¼Œç”µè„‘ç«¯ä¸ç”¨åšä»»ä½•é…ç½®ï¼Œä½†æ˜¯éœ€è¦æŠŠé˜²ç«å¢™å…³æ‰ï¼ˆè¿™ç‚¹å¾ˆé‡è¦ï¼‰ï¼ charleséœ€è¦è®¾ç½®ä¸‹ä»£ç†ç«¯å£ï¼šè¿›å…¥Proxyï¼Œç‚¹å‡»Proxy Setting, ç«¯å£è®¾ç½®ä¸º8888ï¼ˆä¸€èˆ¬é»˜è®¤ä¸ºè¿™ä¸ªï¼‰ é…ç½®æ‰‹æœºSSLè¯ä¹¦ ç„¶åæ‰‹æœºæ‰“å¼€æµè§ˆå™¨è¾“å…¥chls.pro/sslä¸‹è½½è¯ä¹¦ å°ç±³æ‰‹æœºå®‰è£…charlesè¯ä¹¦ 1.ä½¿ç”¨ç¬¬ä¸‰æ–¹æµè§ˆå™¨ä¸‹è½½.pem æ ¼å¼çš„æ–‡ä»¶ ï¼ˆæˆ‘ä½¿ç”¨çš„æ˜¯QQæµè§ˆå™¨ï¼‰ 2.å°†è¿™ä¸ªæ–‡ä»¶æ”¾å…¥å°ç±³çš„ DownLoad æ–‡ä»¶å¤¹ä¸‹ (è¿™æ­¥ä¹Ÿå¯ä»¥ä¸åšï¼Œåªè¦åœ¨4ä¸­çš„ä»å­˜å‚¨è®¾å¤‡å®‰è£…èƒ½æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶å°±è¡Œ) 3.å°†.pem æ–‡ä»¶ä¿®æ”¹ä¸º.crt æ ¼å¼ 4.è®¾ç½®â€”æ›´å¤šè®¾ç½®â€”ç³»ç»Ÿå®‰å…¨â€”åŠ å¯†ä¸å‡­æ®----ä»å­˜å‚¨è®¾å¤‡å®‰è£…â€“é€‰æ‹©æ–‡ä»¶ï¼Œé€‰å®šè¯¥æ–‡ä»¶ æ³¨ï¼šæœ¬äººç”¨çš„æ˜¯å°ç±³6ã€‚ æ‰‹æœºè®¾ç½®ä»£ç† å…¶ä¸­PACåœ°å€æ‰“å¼€Cmdï¼Œè¾“å…¥ipconfigæŸ¥çœ‹ å‚è€ƒåšå®¢: Charlesé…ç½® https://blog.csdn.net/liulanghk/article/details/46342205 https://www.jianshu.com/p/7a88617ce80b Charlesä½¿ç”¨ http://www.bubuko.com/infodetail-2252870.html FiddleræŠ“åŒ… æ‰“å¼€ Fiddlerï¼Œç‚¹å‡»å·¥å…·æ ä¸­çš„Toolsâ€”&gt;Optionsï¼Œç‚¹å‡»Actions,é€‰æ‹©æœ€åä¸€é¡¹ï¼ŒReset All certificates,ç„¶åå…³é—­ ç»§ç»­ç‚¹å‡»å·¥å…·æ ä¸­çš„Toolsâ€”&gt;Optionsï¼ŒæŠŠConectionså’Œhttpsèœå•é¡µä¸­çš„å¤šé€‰æ¡†éƒ½å‹¾ä¸Š ç‚¹å‡» Actions , ç‚¹å‡»ç¬¬äºŒé¡¹ï¼šExport Root Certificate to Desktopï¼Œè¿™æ—¶å€™ æ¡Œé¢ ä¸Šä¼šå‡ºç°è¯ä¹¦ FiddlerRoot.cer æ–‡ä»¶ï¼Œç‚¹å‡»OKè®¾ç½®æˆåŠŸï¼Œå…³é—­ Fiddlerã€‚ åˆ°æ¡Œé¢ä¸Šå»æ‰¾åˆ° FiddlerRoot.cer æ–‡ä»¶ï¼ŒåŒå‡»æ–‡ä»¶ï¼Œç‚¹ ä¸‹ä¸€æ­¥----&gt;ä¸‹ä¸€æ­¥ â€¦ä¸ç”¨ç®¡å…¶ä»–è®¾ç½® ï¼Œç›´åˆ°å®‰è£…å¥½ã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"}]},{"title":"Pythonä¸­å¯¹æ—¶é—´æˆ³ã€æ—¶é—´çš„å¤„ç†","slug":"Pythonä¸­å¯¹æ—¶é—´æˆ³ã€æ—¶é—´çš„å¤„ç†","date":"2019-01-23T02:17:34.000Z","updated":"2019-09-15T08:07:30.981Z","comments":true,"path":"2019/01/23/Pythonä¸­å¯¹æ—¶é—´æˆ³ã€æ—¶é—´çš„å¤„ç†/","link":"","permalink":"https://nymrli.top/2019/01/23/Pythonä¸­å¯¹æ—¶é—´æˆ³ã€æ—¶é—´çš„å¤„ç†/","excerpt":"","text":"Pythonä¸­å¯¹æ—¶é—´æˆ³ã€æ—¶é—´çš„å¤„ç† timeæ¨¡å— è·å¾—æ—¶é—´æˆ³ 123timestmamp = time.time()&gt;&gt;&gt; # 1548208280.4581678 å°†æ—¶é—´æˆ³è½¬æ¢æˆæ—¶é—´ 12345678import timetimestamp = 1462451334timeArr = time.localtime(timestamp) # è½¬æ¢æˆæ—¶é—´æ•°ç»„print(timeArr)# &gt;&gt;&gt;time.struct_time(tm_year=2016, tm_mon=5, tm_mday=5, tm_hour=20, tm_min=28, tm_sec=54, tm_wday=3, tm_yday=126, tm_isdst=0)dt = time.strftime(\"%Y-%m-%d %H:%M:%S\",timeArr) # æŒ‡å®šè½¬æ¢æˆæ—¶é—´æ ¼å¼print(dt) å°†æ—¶é—´è½¬æ¢æˆæ—¶é—´æˆ³ åˆ©ç”¨strptime()å‡½æ•°å°†æ—¶é—´è½¬æ¢æˆæ—¶é—´æ•°ç»„ åˆ©ç”¨mktime()å‡½æ•°å°†æ—¶é—´æ•°ç»„è½¬æ¢æˆæ—¶é—´æˆ³ 123456import timedt = \"2016-05-05 20:28:54\"timeArray = time.strptime(dt, \"%Y-%m-%d %H:%M:%S\") #è½¬æ¢æˆæ—¶é—´æ•°ç»„timestamp = time.mktime(timeArray) #è½¬æ¢æˆæ—¶é—´æˆ³print (timestamp)# &gt;&gt;&gt; 1462451334.0 é‡æ–°æ ¼å¼åŒ–æ—¶é—´ åˆ©ç”¨strptime()å‡½æ•°å°†æ—¶é—´è½¬æ¢æˆæ—¶é—´æ•°ç»„ åˆ©ç”¨strftime()å‡½æ•°é‡æ–°æ ¼å¼åŒ–æ—¶é—´ 1234567import timedt = \"2016-05-05 20:28:54\"timeArray = time.strptime(dt, \"%Y-%m-%d %H:%M:%S\") #è½¬æ¢æˆæ—¶é—´æ•°ç»„dt_new = time.strftime(\"%Y%m%d-%H:%M:%S\",timeArray) #è½¬æ¢æˆæ–°çš„æ—¶é—´æ ¼å¼(20160505-20:28:54)print (dt_new) æŒ‰æŒ‡å®šçš„æ ¼å¼è·å–å½“å‰æ—¶é—´ 12345678import time#è·å–å½“å‰æ—¶é—´time_now = int(time.time()) time_local = time.localtime(time_now)# è½¬æ¢æˆlocaltimedt = time.strftime(\"%Y-%m-%d %H:%M:%S\",time_local)# è½¬æ¢æˆæ–°çš„æ—¶é—´æ ¼å¼(2016-05-09 18:59:20)print(dt)","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"åŸºç¡€ç½‘ç»œçŸ¥è¯†","slug":"åŸºç¡€ç½‘ç»œçŸ¥è¯†","date":"2019-01-22T11:31:47.000Z","updated":"2019-09-15T08:07:31.042Z","comments":true,"path":"2019/01/22/åŸºç¡€ç½‘ç»œçŸ¥è¯†/","link":"","permalink":"https://nymrli.top/2019/01/22/åŸºç¡€ç½‘ç»œçŸ¥è¯†/","excerpt":"","text":"ä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç«¯? å®¢æˆ·ç«¯ : â€‹ å‘é€æ•°æ®ã€æ¥æ”¶è¿”å›æ•°æ®ç«¯ æœåŠ¡å™¨: â€‹ å¤„ç†æ•°æ®ç«¯ TCP : é¢å‘è¿æ¥â€”&gt; æ‰“ç”µè¯(ç›¸äº’å›å¤,ä¸€æ¥ä¸€å›) å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯ æ‹¨å· , ä¸‰æ¬¡æ¡æ‰‹ , UDP : é¢å‘æ— è¿æ¥ --&gt; å¯„å¿«é€’(å¯„å‡ºå»å°±ä¸ç®¡äº†). æ¯”å¦‚ : ç›´æ’­ UDPå››å±‚ç»“æ„ ç½‘ç»œè®¿é—®å±‚(é“¾è·¯å±‚): ç‰©ç†è¿æ¥è®¾å¤‡(ç½‘çº¿)ã€MACåœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰ äº’è”ç½‘å±‚ï¼š IPåœ°å€ï¼ˆå®šä½è®¾å¤‡ï¼‰ ä¼ è¾“å±‚ï¼š port (ç«¯å£å·) : è¡¨ç¤ºé€šä¿¡è¿›ç¨‹,å°†æ•°æ®äº¤ç»™å“ªä¸ªåº”ç”¨å¤„ç† åº”ç”¨å±‚ï¼š è‡ªå·±å®šä¹‰çš„åè®®ï¼ˆå¤„ç†å­—ç¬¦ä¸²æ¶ˆæ¯çš„æ–¹æ³•ï¼‰ port : çŸ¥åç«¯å£ : 0 - 1023ï¼Œæœ‰æŒ‡å®šçš„åº”ç”¨ç¨‹åº å¯è‡ªç”±ä½¿ç”¨çš„ç«¯å£ : 1024 - 65535 â–²å¹¿æ’­åªèƒ½ä½¿ç”¨UDPï¼ŒTCPæ²¡æœ‰å¹¿æ’­åŠŸèƒ½ã€‚ä¸€èˆ¬å¹¿æ’­åªç”¨åœ¨å±€åŸŸç½‘å†…ï¼ˆè·¯ç”±å™¨ä¸è½¬å‘å¹¿æ’­ï¼‰ã€‚ å¥—æ¥å­—(socket) ï¼š ç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶ ï¼Œ å†™ç½‘ç»œåº”ç”¨ç¨‹åºçš„æ¥å£ï¼Œå†™å…¥åå°±æ˜¯å‘é€ï¼Œæ¥æ”¶å°±æ˜¯è¯»å–ã€‚ åº”è¯¥ç±»ä¼¼äº esp8266å§â€¦ Pythonæ¼”ç¤ºç¨‹åº æœåŠ¡å™¨ç«¯ç¨‹åº 123456789101112import sockets = socket.socket(socket.AF_INET,socket.SOCK_DGRAM) '''å‚æ•°è¯´æ˜:AF_INET IPv4STREAM TCPSOCK_DGRAM UDP'''server_addr = ('127.0.0.1',8888) # æœ¬åœ°å›ç¯åœ°å€ , ç«¯å£s.bind(server_addr) # ç»‘å®šã€ä¼ å…¥ä¿¡æ¯data,cilent_addr = s.recvfrom(1024) # BUF_SIZEæŒ‡å®šæ¥æ”¶æ•°æ®é•¿åº¦ , (æ•°æ®å†…å®¹,å®¢æˆ·ç«¯åœ°å€)s.sendto(data,cilent_addr) # ç»™å®¢æˆ·ç«¯å‘é€æ•°æ® å®¢æˆ·ç«¯ç¨‹åº 1234import sockets = socket.socket(socket.AF_INET,socket.SOCK_DGRAM) server_addr = ('192.168.43.3',8888)s.sendto(b'hello',server_addr) å¹¿æ’­ç¨‹åº 255.255.255.255ä¸ºå¹¿æ’­åœ°å€ å¹¿æ’­ç«¯æ¥æ”¶ç¨‹åº 123456789101112import sockets = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)s.setsockopt(socket.SOL_SOCKET, socket.SO_BROADCAST, 1)PORT = 9999s.bind( ('', PORT) ) # è¿™è¾¹å¿…é¡»æ˜¯'',ä¸èƒ½ä¸ºè‡ªå·±çš„IP(å¦åˆ™åªæ¥å—è‡ªå·±IPçš„,ä¸æ¥å—255.255.255.2555çš„å¹¿æ’­)print('Listening for broadcast at ', s.getsockname())while True: data, address = s.recvfrom(65535) print('Server received from &#123;&#125;:&#123;&#125;'.format(address, data.decode('utf-8'))) å¹¿æ’­å‘é€ç¨‹åº 12345678import socket s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)s.setsockopt(socket.SOL_SOCKET,socket.SO_BROADCAST,1)# åˆ›å»ºå¥—æ¥å­—,UDPé»˜è®¤æ²¡æœ‰å¹¿æ’­æƒé™PORT = 9999network = '&lt;broadcast&gt;'# &lt;==&gt; network = '255.255.255.255's.sendto(b'hel',(network,PORT)) æ‹“å±• : å¤§ç«¯å’Œå°ç«¯æ¨¡å¼çš„æ¦‚å¿µ ç½‘ç»œé€šä¿¡æ—¶ é€šå¸¸ä½¿ç”¨å¤§ç«¯ Linxuä¸‹ifconfigå‘½ä»¤: eth0 ç½‘å¡ wlan0 æ— çº¿ç½‘å¡ å¶ç„¶å‘ç°å®‰å“å¼€çƒ­ç‚¹çš„å±€åŸŸç½‘åœ°å€æ˜¯192.18.x.xï¼Œè€Œè‹¹æœçš„çƒ­ç‚¹å±€åŸŸç½‘IPåœ°å€æ˜¯172.20.x.xï¼Œäºæ˜¯æœäº†äº†è§£ä¸‹ 192.168ç½‘æ®µæ˜¯ä¸€ç§ç§æœ‰IPåœ°å€ç½‘æ®µï¼Œä»»ä½•äººåœ¨ç§æœ‰ç½‘ç»œä¸­éƒ½å¯ä»¥ä»»æ„ä½¿ç”¨è¿™äº›IPåœ°å€ï¼Œä½†æ˜¯å¦‚æœè¦è¿æ¥å¤–ç½‘å°±è¦ä½¿ç”¨ç½‘ç»œåœ°å€è½¬æ¢NATæŠ€æœ¯è¿›è¡Œè½¬æ¢åæ‰èƒ½è¿æ¥å¤–ç½‘ï¼› åœ¨å®½å¸¦è·¯ç”±å™¨ä¸Šä¸€èˆ¬é»˜è®¤çš„å†…ç½‘IPåœ°å€ä¸º192.168.0æˆ–192.168.1ç½‘æ®µï¼Œå®ƒæ˜¯ç»è¿‡è·¯ç”±å™¨çš„NATæŠ€æœ¯è½¬æ¢ä¸ºWANæ¥å£çš„å…¬ç”¨IPåœ°å€è€Œè¿æ¥å¤–ç½‘çš„ï¼› è¿™æ ·çš„ç§æœ‰IPåœ°å€é™¤äº†è¿™ä¸ªç½‘æ®µå¤–ï¼Œè¿˜æœ‰Bç±»ç½‘ç»œçš„172.16-172.31åŠAç±»ç½‘ç»œçš„10ç½‘æ®µéƒ½æ˜¯ç§æœ‰IPåœ°å€ã€‚","categories":[],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"Jupyterä½¿ç”¨","slug":"Jupyterä½¿ç”¨","date":"2019-01-21T02:46:56.000Z","updated":"2019-09-15T08:07:30.950Z","comments":true,"path":"2019/01/21/Jupyterä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/01/21/Jupyterä½¿ç”¨/","excerpt":"","text":"Jupyterä½¿ç”¨ å‡†å¤‡ å®‰è£…pip install jupyter è¿è¡Œjupyter notebook åŸºç¡€æ¦‚å¿µä¸æ“ä½œ Jupyteræœ‰ä¸‰ç§ç±»å‹çš„cellsï¼š code cells markdown cells raw cells å¸¸ç”¨çš„æ˜¯code cellså’Œ markdown cellsç±»å‹ã€‚ CellsçŠ¶æ€åˆ†ä¸ºå‘½ä»¤æ¨¡å¼å’Œç¼–è¾‘æ¨¡å¼ï¼ŒEnterè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ŒESCè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œå‘½ä»¤æ¨¡å¼å’Œç¼–è¾‘æ¨¡å¼ä¸‹æ”¯æŒå¾ˆå¤šæ“ä½œå¿«æ·é”®ï¼Œéå¸¸å¥½ç”¨ã€‚ å¸¸ç”¨å‘½ä»¤æ¨¡å¼å¿«æ·é”®ï¼š y: å•å…ƒè¿›å…¥ä»£ç çŠ¶æ€ m: è½¬å…¥markdownçŠ¶æ€ rï¼šè½¬å…¥rawçŠ¶æ€ a: ä¸Šæ–¹æ’å…¥æ–°å•å…ƒ bï¼šä¸‹æ–¹æ’å…¥æ–°å•å…ƒ xï¼šå‰ªåˆ‡é€‰ä¸­å•å…ƒ c: å¤åˆ¶é€‰ä¸­å•å…ƒ shift-vï¼šç²˜è´´åˆ°ä¸Šæ–¹å•å…ƒ vï¼šç²˜è´´åˆ°ä¸‹æ–¹å•å…ƒ d,dï¼ˆè¿ç»­æŒ‰ä¸¤æ¬¡dï¼‰:åˆ é™¤é€‰ä¸­å•å…ƒ zï¼šæ¢å¤æœ€ååˆ é™¤å•å…ƒ ctrl+Enter:è¿è¡Œæœ¬å•å…ƒï¼Œä¸¤ç§æ¨¡å¼éƒ½é€‚ç”¨ shift+Enterï¼šè¿è¡Œæœ¬å•å…ƒï¼Œå¹¶è·³åˆ°ä¸‹ä¸ªå•å…ƒï¼Œä¸¤ç§æ¨¡å¼éƒ½é€‚ç”¨ alt+Enterï¼šè¿è¡Œæœ¬å•å…ƒï¼Œå¹¶åœ¨ä¸‹æ–¹æ’å…¥æ–°å•å…ƒï¼Œä¸¤ç§æ¨¡å¼éƒ½é€‚ç”¨ å¸¸ç”¨ç¼–è¾‘æ¨¡å¼å¿«æ·é”®ï¼š Tabï¼šä»£ç è¡¥é½æˆ–ç¼©è¿› Shift+Tabï¼šè°ƒç”¨æ–¹æ³•æç¤ºï¼Œéå¸¸æœ‰ç”¨ï¼Œåœ¨è°ƒç”¨åŒ…ä¸­å‡½æ•°æ—¶ï¼Œå¯¹äºå‡½æ•°ä¸­çš„ä½¿ç”¨è¯´æ˜å’Œç›¸å…³å‚æ•°é…ç½®ï¼ŒæŒ‰ä¸¤æ¬¡shift+Tabå¯è·å–è¯¦ç»†çš„æ–¹æ³•æç¤ºã€‚ Ctrl+]ï¼šç¼©è¿› Ctrl+[ : è§£é™¤ç¼©è¿› Ctrl+A: å…¨é€‰ Ctrl+Backspaceï¼šåˆ é™¤å…‰æ ‡å‰é¢æœ¬è¡Œæ‰€æœ‰çš„å†…å®¹ Ctrl+Delete:åˆ é™¤å…‰æ ‡åæœ¬è¡Œæ‰€æœ‰çš„å†…å®¹ Shift+Homeï¼šå¾€å‰é€‰å–æœ¬è¡Œæ‰€æœ‰å†…å®¹ Shift+Endï¼šå¾€åé€‰å–æœ¬è¡Œæ‰€æœ‰å†…å®¹ï¼› æ‰§è¡Œå½“å‰cellï¼Œå¹¶è‡ªåŠ¨è·³åˆ°ä¸‹ä¸€ä¸ªcellï¼šShift Enter æ‰§è¡Œå½“å‰cellï¼Œæ‰§è¡Œåä¸è‡ªåŠ¨è°ƒè½¬åˆ°ä¸‹ä¸€ä¸ªcellï¼šCtrl-Enter è½½å…¥ä»£ç  %load /Users/chenqionghe/test.py æ’ä»¶ jupyter notebook å†™ä»£ç è‡ªåŠ¨è¡¥å…¨ è¿›å…¥å‘½ä»¤è¡Œç¯å¢ƒï¼Œæœ‰ä¸¤ç§æ–¹å¼è¿›å…¥å‘½ä»¤è¡Œã€‚ æ–¹æ³•1ï¼šé€šè¿‡anconda navigatorç•Œé¢ï¼Œé€‰æ‹©environmentsï¼Œé€‰æ‹©å¯¹åº”ç¯å¢ƒåï¼Œé€‰æ‹©open terminal æ–¹æ³•2ï¼šç›´æ¥ä½¿ç”¨cmdæˆ–è€…terminalç­‰ç»ˆç«¯è¿›å…¥å‘½ä»¤è¡Œã€‚æ¿€æ´»ä½ æƒ³è¦é…ç½®ä»£ç è¡¥å…¨çš„ç¯å¢ƒï¼ˆå¦‚æœæ˜¯é»˜è®¤ç¯å¢ƒä¸ç”¨æ¿€æ´»ï¼‰ 1.å®‰è£…nbextensions 12$ pip install jupyter_contrib_nbextensions -i https://pypi.mirrors.ustc.edu.cn/simple$ jupyter contrib nbextension install --user 2.å®‰è£…nbextensions_configurator 12$ pip install --user jupyter_nbextensions_configurator $ jupyter nbextensions_configurator enable --user æ•ˆæœå¦‚å›¾ Jupyter Notebooksï¼šä¸€ä»½å…¨é¢çš„åˆå­¦è€…å®ç”¨æŒ‡å— Tableof Contents(ç›®å½•ç´¢å¼•) è¿™ä¸ªåŠŸèƒ½å¯ä»¥è‡ªåŠ¨æ‰¾åˆ°æ‰€æœ‰çš„æ ‡é¢˜ï¼Œç”Ÿæˆç›®å½•ã€‚ å¹¶ä¸”è¿™ä¸ªç›®å½•è¿˜æ˜¯ç§»åŠ¨çš„å‘¦ï¼Œä½ å¯ä»¥æ”¾åœ¨ä¾§è¾¹æ ï¼Œä¹Ÿå¯ä»¥æ‹–åŠ¨åˆ°ä»»ä½•ä½ å–œæ¬¢çš„åœ°æ–¹æ‚¬æµ®èµ·æ¥ã€‚ Hinterland(ä»£ç è¡¥å…¨) HinterlandåŠŸèƒ½å¯ä»¥è®©ä½ æ¯æ•²å®Œä¸€ä¸ªé”®ï¼Œå°±å‡ºç°ä¸‹æ‹‰èœå•ï¼Œå¯ä»¥ç›´æ¥é€‰ä¸­ä½ éœ€è¦çš„è¯æ±‡ã€‚ Snippets Snippetsåœ¨å·¥å…·æ é‡ŒåŠ äº†ä¸€ä¸ªä¸‹æ‹‰èœå•ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„ç›´æ¥æ’å…¥ä»£ç æ®µï¼Œå®Œå…¨ä¸ç”¨æ‰‹åŠ¨æ•²ã€‚ Autopep8 ä¸€é”®ç¾åŒ–ä»£ç ï¼Œå¼ºè¿«ç—‡çš„ç¦éŸ³ã€‚ Qgrid Qgridä¹Ÿæ˜¯ä¸€ä¸ªJupyterçš„å°éƒ¨ä»¶ï¼Œä¸è¿‡å®ƒä¸»è¦ç”¨äºæ•°æ®å¸§ï¼Œè£…ä¸Šä¹‹åï¼Œå°±å¯ä»¥åƒæ“ä½œExcelé‡Œçš„ç­›é€‰åŠŸèƒ½ä¸€æ ·ï¼Œæ–¹ä¾¿çš„å¤„ç†æ•°æ®ã€‚ 1234$ pip install qgrid$ jupyter nbextension enable --py --sys-prefix qgrid# only required if you have not enabled the ipywidgets nbextension yet$ jupyter nbextension enable --py --sys-prefix widgetsnbextension ä¸»é¢˜è®¾ç½® å®‰è£…ä¸»é¢˜åŒ…:pip install --upgrade jupyterthemes æŸ¥çœ‹å¯ç”¨ä¸»é¢˜ï¼šjt -l Available Themes: chesterish grade3 gruvboxd gruvboxl monokai oceans16 onedork solarizedd solarizedl æ¯”å¦‚Chesterishä¸»é¢˜ï¼š solarizedlä¸»é¢˜ï¼š ä¸Šè¿°å›¾ç‰‡æ¥è‡ªé‡å­ä½[1] consolamonoä¸»é¢˜: å‘½ä»¤å‚æ•°: ä¿®æ”¹ä¸»é¢˜å‘½ä»¤$ jt --lineh 140 -f consolamono -tf ptmono -t grade3 -ofs 14 -nfs 14 -tfs 14 -fs 14 -T -N é™„å½• ä»£ç è¡¥å…¨,ä¸ä½¿ç”¨é¢å¤–æ’ä»¶: ä½¿ç”¨jedi 1.æ‰“å¼€Anaconda Promptæˆ–è€…jupyterå®‰è£…çš„è™šæ‹Ÿç¯å¢ƒ è¾“å‡ºä¸‹è¡Œä»£ç ç”Ÿæˆ .ipython é…ç½®æ–‡ä»¶ 1ipython profile create åœ¨å½“å‰ç”¨æˆ· ~/.ipython/profile_default/ä¸‹æ‰“å¼€ç”Ÿæˆçš„æ–‡ä»¶,å¦‚æˆ‘çš„æ˜¯ C:/Users/mrli/.ipython/profile_default 2.ä¿®æ”¹ipython_config.pyä¸­çš„é…ç½® 123c.Completer.jedi_compute_type_timeout = 400c.Completer.greedy = Truec.Completer.use_jedi = True 3.é‡å¯jupyter http://www.eeworld.com.cn/mp/QbitAI/a58625.jspx â†©ï¸","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"æ²³æµ·å¤§å­¦AI+æœºå™¨äººå†¬ä»¤è¥(12-26)","slug":"æ²³æµ·å¤§å­¦AI-æœºå™¨äººå†¬ä»¤è¥","date":"2019-01-19T14:31:19.000Z","updated":"2019-09-15T08:07:31.086Z","comments":true,"path":"2019/01/19/æ²³æµ·å¤§å­¦AI-æœºå™¨äººå†¬ä»¤è¥/","link":"","permalink":"https://nymrli.top/2019/01/19/æ²³æµ·å¤§å­¦AI-æœºå™¨äººå†¬ä»¤è¥/","excerpt":"","text":"æ²³æµ·å¤§å­¦AI+æœºå™¨äººå†¬ä»¤è¥(19-26) The First Day~19 11:50å’ŒCXYä»å­¦æ ¡å‡ºå‘ï¼Œååœ°é“çš„é€”ä¸­æ„Ÿè§‰æ¯”æƒ³è±¡ä¸­èˆ’æœå¤šäº†ï¼Œæ²¡æœ‰å¾ˆå¤šæŒ¤ç€æ€¥ç€å›å®¶çš„å­¦ç”Ÿå…šã€‚ å®¾é¦†æ‰“å¡ 13:30åˆ°å°šå®¢ä¼˜å®¾é¦†ï¼Œç¯å¢ƒæŒºå¥½ã€‚è¿˜æœ‰ä¸ªåŠå…¬æ¡Œ,å¾ˆèˆ’æœã€‚ åœ¨æˆ¿é—´é‡Œå¾…åˆ°äº†å¤§æ¦‚3ç‚¹ï¼Œäººéƒ½å·®ä¸å¤šåˆ°é½äº†ä»¥åï¼Œæ²³æµ·çš„è´Ÿè´£äººå¼ è€å¸ˆå¸¦é¢†æˆ‘ä»¬å»äº†æ²³æµ·å¤§å­¦ã€‚ æ ¡é—¨å£æ‰“å¡ è®¡è½¯é™¢çš„å‰¯é™¢é•¿ã€è¯¥æ´»åŠ¨çš„è´Ÿè´£äººå¹½é»˜ã€è¯™è°åœ°ç»™æˆ‘è®²äº†è®²æ´»åŠ¨èƒŒæ™¯ã€åŠè¦æ±‚å’Œåˆä½œçš„æœºå™¨äººå…¬å¸ä¼˜å¿…é€‰ã€‚ ä¸‹é¢æ˜¯æœºå™¨äººè¡¨æ¼”èˆè¹ˆä¸²çƒ§çš„ç…§ç‰‡ã€‚å…³èŠ‚è‡ªç”±å¤šçœŸçš„å¾ˆå¤šå•Šâ€¦å¾ˆå¤šå¾ˆéš¾çš„åŠ¨ä½œ~ ä»‹ç»ç¯èŠ‚å¤§çº¦åœ¨4ç‚¹å°±ç»“æŸäº†ã€‚ä¹‹åæ˜¯åœ¨å›¾ä¹¦é¦†é—¨å£çš„ç­¾åå¢™ä¸ŠèŠ±è´¹äº†å·¨å¤§çš„æ—¶é—´ï¼Œæ¯ä¸ªäººéƒ½å•ç‹¬æ‹äº†ä¸¤æ¬¡ç…§ï¼Œè¯´æ˜¯è¦ç»™æˆ‘ä»¬ç•™åœ¨çºªå¿µå†Œä¸Šï¼Œå¾ˆæœŸå¾…å‘¢ã€‚ 100å·äººæ‹å®Œç…§å·²ç»æ˜¯5ï¼š30å·¦å³äº†ï¼Œæ‹¿åˆ°é¥­ç¥¨åï¼Œé™¢é•¿å°±å¸¦æˆ‘ä»¬å‰å¾€äº†é£Ÿå ‚ã€‚å¹³å¸¸çš„å­¦ç”Ÿé£Ÿå ‚ä¼¼ä¹å·²ç»å…³é—¨äº†ï¼Œæ¥å¾…æˆ‘ä»¬çš„æ˜¯ä¸€ä¸ªæ®è¯´è¿æ²³æµ·æœ¬æ ¡å­¦ç”Ÿä¹Ÿä¸çŸ¥é“çš„xxé£Ÿå ‚ã€‚ é£Ÿå ‚æ‰“å¡ å¤§å®¶å›´åœ¨åœ†æ¡Œä¸Šç­‰é¥­åƒï¼Œ_ é¥­ç»ˆäºä¸Šæ¥äº†O(âˆ©_âˆ©)Oï¼Œä¸¤è¤ä¸€å°è¤+ä¸¤ç´ ï¼Œæ°´æœ+é…¸å¥¶çš„ç»„åˆå·²ç»éå¸¸ä¸é”™äº†ï¼Œä¸‹åˆ3ç‚¹æ‰åƒåˆé¥­çš„æˆ‘ï¼Œè¡¨ç¤ºå¼ºè¡Œåƒå®Œè¿™äº›åæ’‘å¾—ä¸è¡Œã€‚ åƒå®Œåï¼Œè´Ÿè´£äººå‘Šè¯‰æˆ‘ä»¬å¯ä»¥å›å»äº†ã€‚æ‰¾åˆ°äº†å—é‚®çš„å…¶ä»–äººï¼Œæˆ‘ä»¬å°±æµ©æµ©è¡è¡åœ°å›å®¾é¦†äº†ï¼Œæ²³æµ·çš„æ–°æ ¡åŒºå¾ˆå¤§ï¼Œç»™æˆ‘çš„æ„Ÿè§‰è·Ÿå—ç†å·¥ä¸€æ ·ï¼Œä½†å—ç†å·¥ç”±äºå±…æ°‘åŒºçš„å­˜åœ¨å¯èƒ½æ˜¾å¾—æ›´çƒ­é—¹ç‚¹ï¼Œæ”¾å‡çš„æ²³æµ·é—²çš„æŒºå†·æ¸…çš„ã€‚å¤©é»‘çš„å¾ˆå¿«ï¼Œæˆ‘ä»¬å¼€ç€å¯¼èˆªï¼Œæœ€ç»ˆæˆåŠŸå›åˆ°äº†å®¾é¦†ã€‚ 19å·çš„æ´»åŠ¨å¤§è‡´å°±ç»“æŸäº†ã€‚ The Second Day~20 å†¬ä»¤è¥ä»Šå¤©ç®—æ­£å¼å¼€è¥ï¼Œ7:30è¦æ±‚åœ¨å®¾é¦†é›†åˆã€‚åºŠæŒºè½¯çš„ï¼Œç¡å¾—è¿˜è¡Œï¼Œæ—©ä¸Šå´è¢«ä¸€ä¸ªä¸å¤ªå¥½çš„æ¢¦åœ¨å¤§çº¦6:50åšå“Ÿä¸æƒŠé†’ï¼Œä½†è¿˜æ˜¯åœ¨åºŠä¸Šé»åˆ°äº†7ï¼š15çš„é—¹é’Ÿå“ã€‚èµ·äº†åä»¥ä¸ºåº”è¯¥ç®—æ—©çš„äº†ï¼Œä½†æœ€ååœ¨7ï¼š31çš„æ—¶å€™æ‰å¼„å¥½ï¼Œåˆ°äº†ä¸€æ¥¼å¤§å…ï¼Œå‘ç°å¾ˆå¤šäººéƒ½å·²ç»åˆ°äº†ï¼Œçœ‹æ¥å¤§å®¶çš„çƒ­æƒ…è¿˜å¾ˆé«˜æ¶¨ã€‚è€å¸ˆä¹Ÿå¾ˆå¹²è„†åˆ©è½ï¼Œ7:33å°±ç›´æ¥å‡ºå‘å»å­¦æ ¡äº†ã€‚ 7:33å‡ºå‘ï¼Œåˆ°æ²³æµ·çš„æ ¡é—¨å£å¤§çº¦åœ¨7:40å·¦å³ã€‚å†¬é’é£Ÿå ‚åœ¨å­¦æ ¡çš„è¥¿åŒ—è§’ï¼Œè¦èµ°è¿›å»å¾ˆå¤šï¼Œåˆ°çš„æ—¶å€™çº¦ä¸º7:50ã€‚æ¯”è§„å®šçš„æ—¶é—´8:10æ—©åˆ°äº†15åˆ†é’Ÿï¼Œç»“æœæˆ‘ä»¬100å·äººå°±åœ¨é£Ÿå ‚é—¨å£ç­‰äº†å¤§çº¦15åˆ†é’ŸQAQã€‚ äº‹å®è¯æ˜åº”è¯¥ä¸éœ€è¦è¿™ä¹ˆæ—©é›†åˆï¼ æ—©ä¸Šæ˜¯åŒ…å­+ç¨€é¥­ï¼Œé…ä¸Šå°‘è®¸çš„æ‹Œé¥­èœâ€“å’¸èœï¼Œæ—©é¤å°±ç®—å‹‰å¼ºåƒå®Œäº†ã€‚ æ•™å­¦æ¥¼æ‰“å¡ æ—©ä¸Š9:00ä¸Šè¯¾ï¼Œéå¸¸å‡†æ—¶ã€‚ ä¸Šåˆçš„ä»»åŠ¡æ˜¯ç»„è£…å¥½æœºå™¨äººï¼Œæ˜¯ä¸ªæŒºæœ‰é€¼æ ¼çš„æœºå™¨äººã€‚ä»å¼€ç®±åˆ°æ‹¼è£…ï¼Œéƒ½äº¤ç»™æˆ‘ä»¬å®Œæˆäº†ã€‚æ®è¯´è¿™ä¸ªæ˜¯å–2W+çš„æ•™è‚²ç±»æœºå™¨äººï¼Œé¡ºä¸°å¿«é€’å•ä¸Šè¡¨æ˜çš„ä»·æ ¼ä¼¼ä¹æ˜¯20Wï¼Œè¿è´¹éƒ½è¦110+ã€‚ å¼€ç®± ç»„æˆ ç»ˆäºæ‹¼å¥½äº† ä¸æœºå™¨äººäº¤äº’éœ€è¦è¿æ¥WIFIå’Œè“ç‰™ï¼ŒåˆæŠ˜è…¾äº†å¥½ä¹…æ‰ç»ˆäºè¿ä¸Šï¼ŒæœŸé—´æˆ‘çš„åŒä¼´è¿˜é”™è¿äº†ä¸€ä¸ªå¥³ç”Ÿçš„æœºå™¨äººï¼Œçå‡ æŠŠæŒ‰äº†å‡ ä¸ªå¥½ç©çš„ä¸œè¥¿ï¼Œå¼•å¾—å¥³ç”Ÿå¤§å¼ï¼šâ€œè°è¿äº†æˆ‘çš„æœºå™¨äººå•Šâ€ã€‚ ç©äº†ç©å‡ ä¸ªé«˜éš¾åº¦åŠ¨ä½œï¼šå•æ‰‹ä¿¯å§æ’‘ã€èˆè¹ˆä¸²çƒ§â€¦â€¦å°±11:30äº†ï¼Œä¸Šåˆçš„æˆè¯¾å°±ç®—ç»“æŸäº†ã€‚ ä»æ˜¯é£Ÿå ‚æ‰“å¡ æ°´æœæ¢æˆäº†å°æ©˜å­ï¼Œè‚¯å®šæ²¡æœ‰é¦™è•‰å¥½åƒå•¦ï¼ŒæœŸæœ›æ˜å¤©æ˜¯è‹¹æœ_ æ¡£æ¡ˆè¢‹èµ„æ–™,åœ¨ä¸Šåˆç»“æŸåå‘çš„ã€‚ä½†å¼€è¥å¼è¿˜è¦ç­‰æ²³æµ·çš„é¢†å¯¼åˆ°é½åæ‰èƒ½å¼€ï¼Œå¤§çº¦å®šåœ¨äº†æ˜å¤©21å·çš„ä¸‹åˆã€‚ æ¡£æ¡ˆè¢‹ å­¦å‘˜å¡ ä¸‹åˆè®²äº†å¾ˆä¹…çš„Linuxçš„åŸºç¡€çŸ¥è¯†ã€‚=.=å¾ˆæ— èŠå•Šï¼Œæˆ‘è¿ã€Šæœºå™¨å­¦ä¹ Pythonå®è·µã€‹ä¸€æœ¬ä¹¦éƒ½å¿«è¯»å®Œäº†ã€‚ ä¸‹åˆ5:30æŒºå‡†æ—¶ä¸‹è¯¾çš„ï¼Œ6:30å°±è¦ä¸Šè¯¾äº†ï¼Œæ‰€ä»¥åªå¥½ç›´æ¥å»é£Ÿå ‚å°±é¤äº†ã€‚ æ™šä¸Š6:30å¼€å§‹æ•™æˆçš„æ˜¯vimçš„åŸºæœ¬æ“ä½œï¼Œå°æµ‹æ˜¯è®©æˆ‘ä»¬ç”¨VIMå†™ä¸ªCç¨‹åºç¼–è¯‘ï¼Œç„¶ååœ¨æœ€åç»“æŸçš„æ—¶å€™è®©æˆ‘ä»¬10ä¸ªäººç»„ä¸ªç»„ï¼Œä¸€èµ·å­¦ä¹ ã€‚é˜Ÿåã€å£å·æƒ³äº†å¾ˆä¹…ï¼Œæœ€åå¾ˆé¸¡è´¼çš„é€‰äº†yeahå½“å£å·ï¼Œä¸å¦‚è·³èˆæ˜¯æˆ‘ä»¬çš„é˜Ÿåã€‚ è¡¨ä¸Šè¯´æ˜¯7:30ç»“æŸçš„ï¼Œåˆ°æœ€åï¼Œæˆ‘ä»¬ç»„æ˜¯æœ€åä¸€ä¸ªå®Œæˆçš„ï¼Œæ—¶é—´å·²ç»æ˜¯8:30äº†ã€‚åˆ°å®¾é¦†å‡ ä¹9ç‚¹ã€‚ è§£å†³äº†Markdownçš„æ¸²æŸ“é—®é¢˜TypeError: Cannot set property 'lastIndex' of undefined å†ç ç ä»£ç ä¹Ÿå°±ä¼‘æ¯äº†ï¼Œå¸Œæœ›ä»Šå¤©èƒ½ç¡ä¸ªå¥½è§‰~ The Third Day~21 æ—©ä¸Šè¿˜æ˜¯å¾ˆæ—©å°±é†’äº†ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆç¡ä¸æ·±ã€‚ èµ°çš„æ—¶å€™çœ‹äº†ä¸€ä¸‹æ¡£æ¡ˆè¢‹ï¼Œæƒ³åˆ°äº†ä¸‹åˆæœ‰å¼€å¹•å¼ï¼Œç»“æœè¿˜æ˜¯å¿˜è®°äº†å¸¦è¥å‘˜è¯ï¼Œç»“æœåªå¥½ä¸­åˆåƒé¥­åè·‘å›æ¥æ‹¿ã€‚ æ—©ä¸Šåƒçš„æ˜¯è¿˜æ˜¯è±†æµ†ã€ç²¥ï¼Œè‚‰åŒ…ï¼Œä¸æ˜¨å¤©ä¸åŒçš„æ˜¯ï¼ŒèœåŒ…å·²ç»æ²¡äº†ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯å¤§å®¶éƒ½ä¸çˆ±åƒï¼Œæœ€åå‰©ä¸‹äº†å¾ˆå¤šã€‚è™½ç„¶è‚‰åŒ…çš„çš®ä¹Ÿå¾ˆåšï¼Œä½†æ¯•ç«Ÿæ˜¯ä¸ªè‚‰å§2333ã€‚è¿˜å¤šäº†æ²¹æ¡ï¼Œè¾£æ¦¨èœï¼Œè¿™ä¸¤ä¸ªæ˜¯æˆ‘æ¯”è¾ƒå–œæ¬¢åƒçš„ï¼Œé…ç²¥å¾ˆä¸‹é¥­ã€‚ ä¸Šåˆï¼Œåœ¨è°ƒå‘¼å¸ç¯ï¼Œæ„Ÿè§‰è®°å¿†åŠ›é€€åŒ–çš„å¾ˆå‰å®³ï¼Œå½“åˆçš„PWMç°åœ¨å·²ç»éƒ½ä¸å¤ªä¼šäº†ã€‚è°ƒäº†æŒºä¹…ï¼Œåˆ°ä¸­åˆåƒé¥­çš„æ—¶å€™ï¼Œæ‰è°ƒå‡ºæ¥ã€‚ ä¸‹åˆï¼Œä¸»è¦åœ¨çœ‹MMDR_N4çš„ç®—æ³•ï¼Œæ€»ç®—å˜æ¸…äº†æ€è·¯ï¼Œå¯ä»¥ç›´æ¥ç”¨äº†ã€‚æˆè¯¾æ–¹é¢çš„è¯ä»‹ç»çš„æ˜¯èˆµæœºçš„ä½¿ç”¨ï¼Œåªä¸è¿‡ç”±äºæœºå™¨äººç”¨çš„æ˜¯æ•°å­—èˆµæœºï¼Œæ“ä½œæ¯”è¾ƒæ–¹ä¾¿ï¼Œå†åŠ ä¸ŠAPIå°è£…çš„æ¯”è¾ƒå¥½ï¼Œå®Œæˆçš„å°±å¾ˆè½»æ¾ï¼Œä¸éœ€è¦è‡ªå·±æ‰‹å†™PWMã€‚ åœ¨ä¸¤ç‚¹çš„æ—¶å€™ï¼Œå‡‘é½äº†å„æ–¹çš„é¢†å¯¼ï¼Œç»ˆäºåœ¨å›¾ä¹¦é¦†ä¸¾åŠäº†å¼€å¹•å¼ã€‚ ç»“æŸçš„è¿˜æŒºè¿…é€Ÿçš„ï¼Œç¨å¾®ç©äº†ä¸‹æ‰‹æœºå°±ç»“æŸäº†ã€‚ æ™šä¸Šçš„ä»»åŠ¡æ˜¯å®Œæˆå¸ƒç½®çš„ä½œä¸š: é‡‘é¸¡ç‹¬ç«‹ï¼š ä¿å­˜æœºå™¨äººåˆå§‹çš„èˆµæœºçŠ¶æ€ æ§åˆ¶èˆµæœºçš„æ–¹å¼å®ç°é‡‘é¸¡ç‹¬ç«‹ï¼ˆè…¿æŠ¬é«˜ï¼Œæ‰‹è‡‚åŠ¨ä½œï¼‰ ç«™ç¨³ æ¢å¤èˆµæœºçŠ¶æ€ ä½¿ç”¨APPä¸Šçš„å›è¯»ç¼–ç¨‹ï¼Œå®Œæˆä¸€ä¸ªåŠ¨ä½œåºåˆ—ï¼ˆå¯ä»¥åŠ éŸ³ä¹ï¼‰ ä¿å­˜åˆ°æœºå™¨äººä¸Šï¼Œé€šè¿‡ubtRobotStartActionæ¥å£è°ƒç”¨è‡ªå·±ç¼–æ’çš„åŠ¨ä½œ ç”±äºè„šæŒä½“ç§¯è¾ƒå¤§,æ‰€ä»¥å°†åŸæ¥å‘åçš„åŠ¨ä½œåŠ äº†ä¸ªå¾€å‰æŠ¬è…¿ï¼Œè½¬åŠ¨è„šè¸çš„åŠ¨ä½œï¼Œä½¿å¾—å¹³è¡¡å‡ºäº†å¾ˆå¤§çš„é—®é¢˜ï¼Œæœ€ç»ˆå¼„åˆ°9ç‚¹éƒ½è¿˜æ²¡å¼„å®Œï¼Œåªå¥½ç•™åˆ°ç¬¬äºŒå¤©å®Œæˆäº†ã€‚ å›åˆ°å®¾é¦†åï¼Œè·Ÿæ´»åŠ¨å®¤çš„å­¦é•¿ä»¬è§†é¢‘äº†ä¸€æ³¢ï¼Œæ±‡æŠ¥äº†ä¸€ä¸‹è¿›åº¦å’Œäº†è§£äº†ä¸‹ä»–ä»¬çš„æƒ…å†µï¼Œæœ€åå°†çœ‹çš„MMDR_N4æŠ½å‡ºï¼Œå†™äº†ä¸ªæ–‡æ¡£ï¼Œç¡è§‰çš„æ—¶å€™éƒ½å¿«11:30äº†ã€‚ä»Šå¤©ç¡å¾—æ¯”è¾ƒæ™šäº†ã€‚ The Fourth Day~22 æ—©ä¸Š7:15çš„é—¹é’Ÿ,é»äº†7åˆ†é’Ÿæ‰èµ·ã€‚éš”å¤©æ²¡Debugå‡ºæ¥ï¼Œç¡çš„ä¹Ÿæ¯”è¾ƒæ™šï¼Œå¯¼è‡´èµ·çš„æ—¶å€™éå¸¸çš„ç–²å€¦ã€‚æ‰€å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬åˆ°æ¥¼ä¸‹æ—¶å‘ç°è€å¸ˆè¿˜æ²¡æ¥ï¼Œå¤§éƒ¨é˜Ÿä¹Ÿè¿˜æ²¡èµ°ã€‚ç­‰äº†å¥½å‡ åˆ†é’Ÿï¼Œçœ‹è€å¸ˆè¿˜æ²¡æ¥ï¼Œå°±å¸¦å¤´ç›´æ¥å»é£Ÿå ‚äº†ã€‚æ—©é¤ä¸åŒçš„æ˜¯æ¡ƒé…¥é¥¼ï¼Œå’Œèåœä¸é¦…é¥¼ï¼Œåƒå®Œä¹‹åæ‰æ”¶åˆ°è€å¸ˆçš„æ¶ˆæ¯ï¼Œå¾—çŸ¥è€å¸ˆä¹Ÿæ²¡çˆ¬èµ·æ¥ã€‚ ä¸Šåˆä»‹ç»çš„æ˜¯æœºå™¨äººçš„äº”ä¸ªä¼ æ„Ÿå™¨çš„ä½¿ç”¨ï¼Œä¸»è¦æ˜¯ä½¿ç”¨å®ƒæä¾›çš„Apiã€‚ä¼ æ„Ÿå™¨æœ‰ï¼š å‹åŠ›ã€è§¦æ‘¸ã€è¶…å£°æ³¢ã€çº¢å¤–ã€æ°”æ¸©æ°”å‹ã€‚è¿™äº›éƒ½æ¯”è¾ƒåŸºç¡€ï¼Œå°±ä¸€ç›´åœ¨çœ‹optimizationé‡Œçš„ä¼˜åŒ–ç»†èŠ‚ã€‚WDDé—®äº†ä¸‹Andriodæ–¹é¢çš„éœ€æ±‚ï¼Œå°±èŠ±äº†æ—¶é—´æ•´ç†äº†ä¸‹æ€è·¯ï¼Œå®‰æ’äº†äººå‘˜ã€‚ ä¸‹åˆæ®è¯´æœ‰ç”µè§†å°é‡‡è®¿ï¼Œäºæ˜¯æ²¡æ€ä¹ˆçœ‹Apolloçš„èµ„æ–™ï¼Œè®¤çœŸè°ƒäº†ä¸‹æœºå™¨äººçš„ä»£ç ã€‚å°±åœ¨å‡†å¤‡å±•ç¤ºæˆ‘ä»¬çš„ä½œå“ï¼Œä¸Šç”µè§†çš„æ—¶å€™ï¼Œæœºå™¨äººçš„åŠ¨ä½œé”™äº†ï¼Œå¯¼è‡´æ²¡ç«™ç¨³ç›´æ¥æ‘”åˆ°äº†ã€‚æ‘„å½±å°å“¥ç­‰æˆ‘ä»¬è°ƒè¯•äº†å‡ åˆ†é’Ÿè¿˜æ²¡è°ƒå¥½åï¼Œå°±æ”¾å¼ƒæˆ‘ä»¬äº†ğŸ˜­ æ™šä¸Šè·Ÿå‰å‡ å¤©æ¯”ç»“æŸçš„å¾ˆæ—©ï¼Œè®²äº†ç‚¹TCP/UDPåŠç½‘ç»œçš„åŸºç¡€çŸ¥è¯†ï¼Œè®©æˆ‘ä»¬å†™äº†ä¸ªUDPæ¥æ”¶ä¿¡æ¯çš„ç¨‹åºå°±ç»“æŸäº†ã€‚è¿™æ–¹é¢æ„Ÿè§‰è€å¸ˆè®²çš„è¿˜æŒºå¥½çš„ï¼Œç»éªŒã€æ¶‰åŠé¢å¾ˆä¸°å¯Œã€‚ The Fifth Day~23 å›¾åƒå¤„ç†ï¼Œä»‹ç»äº†äººè„¸æ£€æµ‹ã€äººè„¸è¯†åˆ«ã€è¡¨æƒ…æ£€æµ‹çš„æ¥å£ã€‚ å…·ä½“çš„æˆ‘ä¹Ÿå¿˜è®°åšäº†å•¥äº†â€¦æˆ‘åº”è¯¥éƒ½åœ¨æ•²æœºå™¨å­¦ä¹ . The Fifth Day~24 ä¸‹åˆ1ç‚¹è¿˜æ˜¯2ç‚¹ï¼Œå…¬å¸ƒäº†é¡¹ç›®çš„è¦æ±‚ã€‚å¤§å®¶å°±éƒ½çƒ­ç«æœå¤©çš„å¼€å§‹å¹²èµ·æ¥äº†ï¼Œæˆ‘ä»¬è¿›åº¦ç®—å¾ˆå¿«äº†ï¼Œåƒé¥­å‰å°±å®Œæˆäº†æ‰€æœ‰åŸºç¡€åŠŸèƒ½ï¼Œæˆ‘æŠŠå›¾çµæœºå™¨äººå’Œå¤©æ°”çš„Apiéƒ½å·²ç»å†™å¥½äº†ã€‚ æ™šä¸Šå¤„ç†äº†äººè„¸è·Ÿè¸ªçš„åŠŸèƒ½ï¼Œä½†ç¢°åˆ°äº†python2ä¸­å­—ç¬¦ä¸²ä¸å¯å˜çš„é—®é¢˜ï¼Œç¡®å®å¾ˆæ£˜æ‰‹å¤„ç†äº†å¾ˆä¹…æ‰æå®šã€‚ ä¸»è¦å‘ç°çš„é—®é¢˜æ˜¯: å½“å­—ç¬¦ä¸²&lt;4æ—¶,å¦‚â€™123â€™ï¼Œé‚£ä¹ˆè¾“å‡ºçš„è¯æ˜¯â€™â€™. å½“èµ‹å€¼ä¸ºa='notfound'æ—¶,,æ€€ç–‘æ˜¯zhxåé¢è¿˜æ˜¯å¤šä½™çš„ç©ºæ ¼è€Œæ²¡æœ‰è¢«è¾“å‡ºå‡ºæ¥ å½“å†™æˆa='notfounda'çš„æ—¶å€™ï¼Œifåˆ¤æ–­å¾—å†™æˆ if a == 'notfound\\x00' The Sixth Day~25 å®Œæˆé¡¹ç›®çš„æ‹“å±•åŠŸèƒ½å’Œç­”è¾©ã€‚æˆ‘ä»¬æ˜¨å¤©å°±å®Œæˆäº†æ‰€æœ‰çš„åŸºç¡€åŠŸèƒ½ï¼Œç¬¬äºŒå¤©çš„ä»»åŠ¡å°±æ˜¯æ·»åŠ æ‹“å±•åŠŸèƒ½ã€‚æˆ‘ä»¬é€‰æ‹©äº†ä¸‰ä¸ªï¼šéšæœºæ’­æ”¾æˆ–ä¸­é€”æš‚åœéŸ³ä¹ã€è¯­éŸ³è¯†åˆ« ã€ äººè„¸è¯†åˆ«è·Ÿè¸ªè¡Œèµ°ã€‚ é™¤äº†è¯­éŸ³è¯†åˆ«åŠŸèƒ½ï¼Œå…¶å®æœ‰ä¸å°‘åœ¨æ˜¨å¤©æ™šä¸Šéƒ½å·²ç»æå®šäº†ï¼Œä½†æ˜¯å½“å¤©æ¼”ç¤ºæ—¶å´bugäº†ã€‚çœŸçš„æ˜¯å¾ˆæ‚²å‚¬ï¼Œå†åŠ ä¸ŠæŠ½ç­¾çš„è¿æ°”ä¸æ˜¯å¾ˆå¥½ï¼Œç¬¬äºŒä¸ªå°±ä¸Šåœºäº†ï¼Œå¯¼è‡´æœ€åçš„æ¼”ç¤ºæ•ˆæœå¾ˆå·®ã€‚ è®¡åˆ’2ç‚¹å¼€å§‹æ¼”ç¤ºï¼Œä½†çœŸæ­£çš„å¼€å§‹æ—¶é—´å´æ˜¯2:30ï¼Œæˆ‘ä»¬å¤§çº¦æ˜¯3ï¼š10åˆ†æ¼”ç¤ºçš„ï¼Œç”±äºæœºå™¨äººé‡‘é¸¡ç‹¬ç«‹æ—¶æ‘”å€’çš„ç¼˜æ•…ï¼Œå­˜å‚¨äººè„¸çš„æœºå™¨äººé‡å¯äº†ï¼Œå¯¼è‡´äººè„¸æ•°æ®ä¸¢å¤±è€Œæ— æ³•æ¼”ç¤ºäººè„¸è·Ÿè¸ªã€‚ åé¢å‡ ç»„æ¼”ç¤ºçš„å°±æ¯”è¾ƒå¹¸è¿ï¼Œç¬¬7ç»„éƒ½å·²ç»æ˜¯åƒå®Œæ™šé¥­6:30ä»¥åæ¼”ç¤ºçš„äº†â€¦çœŸçš„æŠ½ç­¾å¤ªçœ‹è¿æ°”äº†ã€‚ è™½ç„¶æ¼”ç¤ºåç»“æœä¸å¤ªä»¤äººæ»¡æ„å§ï¼Œä½†å¥½åœ¨å¤§å®¶ä¹Ÿæ²¡æœ‰å¤ªæ²®ä¸§ã€‚è¯´å®è¯ï¼Œæ¼”ç¤ºå®Œåå°±å·²ç»æ²¡ä»€ä¹ˆå¿ƒæ€çœ‹åˆ«äººçš„æ¼”ç¤ºäº†ã€‚äºæ˜¯æˆ‘å’Œå¼ å¿—å…´å­¦é•¿ä»¥åŠå—å¤§è®¡è½¯çš„ä¸€ä¸ªå¥³ç”Ÿäº¤æµäº†ä¸€ä¼šã€‚å‘å¼ å¿—å…´å­¦é•¿è®¨æ•™äº†ä¸å°‘å•ç‰‡æœºæ–¹é¢çš„çŸ¥è¯†ï¼Œå¼ å¿—å…´å­¦é•¿å¾ˆæ£’â€¦ è¯´å®è¯æˆ‘ä¸€ç›´ä»¥ä¸ºä»–æ˜¯å¤§äºŒçš„â€¦ The Seventh Day~26 å¿äº†å¾ˆä¹…æƒ³åƒé¢çš„æ¬²æœ›ï¼Œæœ€åä¸€å¤©ï¼Œå†³å®šä¸åƒé£Ÿå ‚ï¼Œæ‰¾äº†æ²³æµ·å¤–é¢çš„ä¸€å®¶æ—©é¤åº—åƒäº†é¢ã€‚ æœ€åä¸€å¤©æ˜¯é—­è¥å…¸ç¤¼ï¼Œä¸»è¦æ˜¯å‰¯é™¢é•¿è®²è¯ï¼Œç„¶åé¢å¥–ï¼Œæ˜¨å¤©çš„ç­”è¾©ç¯èŠ‚æ•ˆæœå¾ˆå·®ï¼Œæ³¨å®šäº†ä»Šå¤©æˆ‘ä»¬åªèƒ½å½“è§‚ä¼—ã€‚å¤§å®¶çš„å¿ƒæƒ…éƒ½ä¸æ˜¯å¾ˆå¥½å§ï¼Œæ¯•ç«Ÿéƒ½èŠ±äº†æŒºå¤šå¿ƒæ€ï¼Œä½†æ²¡æœ‰è·å¥–ï¼ŒçœŸçš„æŒºå¯æƒœçš„ã€‚ é¢å®Œå¥–ï¼Œæ‹å®Œç…§ï¼Œå°±è§£æ•£äº†ã€‚æˆ‘å’Œæˆ‘çš„å°ç»„æˆå‘˜ç•™äº†ä¸€ä¼šï¼Œæ€»ç»“äº†ä¸€ä¸‹è¿™æ¬¡å¾ˆå¤šåœ°æ–¹çš„é—®é¢˜ï¼Œä»¥åŠäº¤æµäº†ä¸€ä¸‹ï¼Œä¸»è¦æ˜¯æ„Ÿè§‰å¯¹ä¸èµ·å¤§å®¶ï¼Œæˆ‘ä»¬å®Œå…¨æ˜¯æœ‰èƒ½åŠ›è·å¥–çš„ï¼Œä½†ç”±äºç§ç§åŸå› è€Œå¤±è´¥äº†ï¼Œéå¸¸çš„é—æ†¾ã€‚æ€»ç»“çš„è¿‡ç¨‹è¢«å‰¯é™¢é•¿å¬åˆ°äº†ï¼Œå¾ˆå°´å°¬ï¼Œä»–è¦æˆ‘å†™ç¯‡æ„Ÿæƒ³23333ï¼Œä¸æ…æƒ¶æã€‚ æ€»ç»“ç»“æŸåï¼Œæˆ‘å¹¶ä¸æ˜¯å¾ˆæ€¥ç€å›å­¦æ ¡ï¼Œäºæ˜¯æ‰¾å¼ è€å¸ˆèŠäº†èŠå¤©ã€‚å¾—çŸ¥å¼ æ´ªæ¶›è€å¸ˆæ˜¯å†…è’™å¤äººï¼Œå¤§å­¦å°±è¯»äºæ­å·ï¼Œç°åœ¨å·¥ä½œäºæ·±åœ³ï¼ŒçœŸçš„æ˜¯æ¨ªè·¨äº†æ•´ä¸ªä¸­å›½ã€‚ä»–ä¹Ÿæ˜¯è‡ªåŠ¨åŒ–ä¸“ä¸šçš„ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šä¹Ÿæ˜¯å› ä¸ºå®¶åº­åŸå› ï¼Œç›´æ¥é€‰æ‹©äº†å·¥ä½œï¼Œæ®ä»–æ‰€è¯´å¤§å­¦æ˜¯ç©äº†4å¹´ï¼Œ91å¹´ç”Ÿçš„ï¼Œç›®å‰ä¹Ÿå·¥ä½œäº†6-7å¹´äº†ï¼Œä½†æˆ‘æ„Ÿè§‰ä»–çš„çŸ¥è¯†é¢è¿˜æ˜¯æŒºå¹¿çš„ï¼Œä»–è®²è§£çš„ç½‘ç»œæ–¹é¢çš„ä¸€ç‚¹ä¸œè¥¿å¯¹æˆ‘è¿˜æ˜¯æœ‰ä¸å°‘å¯å‘çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸çŸ¥ä»–è¯´çš„æ˜¯ä¸æ˜¯çœŸçš„ã€‚ è·Ÿä»–äº¤æµäº†å¤§æ¦‚ä¸¤ä¸ªå°æ—¶å§ï¼Œä¸»è¦æ˜¯è‡ªåŠ¨åŒ–çš„å­¦ç§‘æ–¹å‘ï¼Œä»¥åŠä¹‹åçš„å·¥ä½œæ–¹å‘ã€‚æ„Ÿè§‰æ‰¾å‰è¾ˆèŠå¤©çœŸçš„æ˜¯ä¸ªå¾ˆæ„‰å¿«çš„è¿‡ç¨‹ï¼Œä¸ç®¡ä»–çš„ç»éªŒæ˜¯å¦èƒ½å¤Ÿå€Ÿé‰´ï¼Œä½†æ¯ä¸ªäººçš„ç»å†éƒ½è€äººå¯»å‘³ï¼Œæƒ³äº†è§£æ›´å¤šäººçš„ç”Ÿæ´»ã€‚ 10ç‚¹åŠç»“æŸçš„ï¼Œå¤§çº¦12ç‚¹åŠæ‰ç¦»å¼€æ²³æµ·ï¼Œä¸Šåœ°é“å›å—é‚®ã€‚ ä¸‹é¢æ˜¯æˆ‘æäº¤çš„æ„Ÿæƒ³ï¼Œé™¢é•¿è¯´ä¼šå¸®æˆ‘æ¶¦è‰²ä¸€ä¸‹çš„ï¼Œä¹Ÿä¸çŸ¥é“ä»–åˆŠåœ¨å“ªé‡Œäº†ã€‚ å¤§å­¦å…¥å­¦ä»¥æ¥ï¼Œä¸€ç›´éƒ½åœ¨ä¸ºäº†ç«èµ›å’Œå­¦ä¸šè€Œç–²äºå¥”å‘½ã€‚ç»å¸¸ä¸ºç”Ÿæ´»åœˆå­æ—¥ç›Šç‹­çª„ï¼Œå‹åŠ›æ—¥ç›Šç¹é‡è€Œææ…Œã€‚äºæ˜¯ç»è¿‡ä¸€ç³»åˆ—æ€è€ƒåï¼Œæœ€ç»ˆåœ¨æ•°æ¨¡ç¾èµ›ã€ç”µèµ›åŸ¹è®­â€¦å¤šç§å¯’å‡æ´»åŠ¨ä¸­é€‰æ‹©å‚åŠ äº†ç”±æ±Ÿè‹çœæ•™è‚²éƒ¨å‘èµ·ï¼Œæ²³æµ·å¤§å­¦ç»„ç»‡çš„â€œAI+æœºå™¨äººâ€å†¬ä»¤è¥æ´»åŠ¨ã€‚é€‰æ‹©è¿™ä¸ªå†¬ä»¤è¥åŸå› ï¼Œä¸€æ˜¯å› ä¸ºæœºå™¨äººæ˜¯ä¸ªäº¤å‰çš„å­¦ç§‘ï¼Œåœ¨æ¥è§¦çš„è¿‡ç¨‹ä¸­ï¼Œå³å¯ä»¥äº†è§£ç¡¬ä»¶ï¼Œåˆä¼šæ¶‰åŠè½¯ä»¶å¼€å‘ï¼Œå¯¹ä¸ªäººèƒ½åŠ›éƒ½ä¼šæœ‰æ¯”è¾ƒé«˜çš„æé«˜ï¼›äºŒæ˜¯ï¼Œæƒ³æ‰¾ç‚¹çœŸæ­£æ„Ÿå…´è¶£çš„ä¸œè¥¿åšåšæ”¾æ¾ä¸‹èº«å¿ƒï¼Œè€Œä¸æ˜¯åƒåœ¨å­¦æ ¡é‚£æ ·å†ä¸ºäº†èƒ½åŠ›åˆ†å’Œç»©ç‚¹ç»ˆæ—¥åŠ³ç¥è´¹å¿ƒã€‚ å†¬ä»¤è¥èšé›†äº†æ±Ÿè‹çœå„æ‰€é«˜æ ¡é‡Œæœ‰èƒ½åŠ›å’Œæƒ³æ³•çš„å­¦ç”Ÿï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬èƒ½ç¢°åˆ°å¾ˆå¤šå¿—åŒé“åˆçš„æœ‹å‹ï¼Œåˆšæ¥åˆåˆ°çš„å‰å‡ å¤©ï¼Œæˆ‘è®¤è¯†äº†æˆ‘ä»¬å­¦æ ¡åŒæ‰¹å‚åŠ å†¬ä»¤è¥çš„åŒå­¦ã€‚åæ¥å‡ å¤©ç»è¿‡äº¤æµè®¤è¯†äº†å„ä¸ªå­¦æ ¡å‚åŠ å„ç§é¡¹ç›®çš„åŒå­¦ï¼Œæœ‰åšæœºç”²å¤§å¸ˆçš„ã€æœ‰å‚åŠ é£æ€å¡å°”çš„ï¼Œæœ‰å¼„Robocupçš„â€¦â€¦åœ¨ä¸ä¸Šè¯¾çš„æ—¶é—´é‡Œï¼Œå°±å¬ä»–ä»¬è®²è¯´äº†å„åœ°çš„è½¶äº‹ã€å„ä¸ªæ–¹é¢çš„ç»†èŠ‚â€¦â€¦ ä¸ºæ—¶ä¸€å…±ä¸ƒå¤©çš„å†¬ä»¤è¥ï¼Œå‰äº”å¤©ï¼Œå¼ æ´ªæ¶›è€å¸ˆéƒ½éå¸¸è€å¿ƒåœ°å¸¦ç€å¤§å®¶ä¸€ä¸ªä¸€ä¸ªæ¨¡å—å®Œæˆä»»åŠ¡ï¼Œæ¯ä¸€é˜¶æ®µçš„æˆåŠŸï¼Œéƒ½æå¤§åœ°è°ƒåŠ¨äº†æˆ‘ä»¬çš„ç§¯ææ€§å’Œæˆå°±æ„Ÿã€‚ä¹Ÿä¸ºæˆ‘ä»¬èƒ½å¤Ÿä»å®¹æ¥å—æœ€åçš„é¡¹ç›®å®æˆ˜åšäº†å¾ˆå¤§çš„é“ºå«ã€‚ æœ€åä¸¤å¤©æ˜¯å®Œæˆé¡¹ç›®ï¼Œè¦æ±‚åä¸ªäººç»„æˆä¸€åªé˜Ÿä¼ï¼Œåˆ†å¸ƒå¼åœ°æ“ä½œæœºå™¨äººã€‚åœ¨æå‡ºäº”ä¸ªåŸºæœ¬è¦æ±‚çš„åŸºç¡€ä¸Šï¼Œå¼ è€å¸ˆä¹Ÿç»™äº†æˆ‘ä»¬ä¸€ç‚¹å¯å‘æ€§çš„æ„è§ä½œä¸ºè¯„æ¯”çš„åŠ åˆ†é¡¹ã€‚24å·ä¸‹åˆé¡¹ç›®è¦æ±‚ä¸€å…¬å¸ƒå‡ºæ¥ï¼Œæˆ‘ä»¬å°±åœ¨ç»„å†…åˆ†é…å¥½äº†ä»»åŠ¡ã€‚ç”±äºåŸºç¡€å·¥ä½œæ¯”è¾ƒæ˜ç¡®ï¼Œæˆ‘ä»¬å¾ˆå¿«çš„å°±åˆ†é…å¥½äº†å„è‡ªçš„å·¥ä½œï¼Œç»è¿‡å¤§å®¶çš„å…¨èº«å¿ƒæŠ•å…¥ï¼Œæˆ‘ä»¬å¾ˆé¡ºåˆ©çš„åœ¨åƒæ™šé¥­ä¹‹å‰å°±å‡ ä¹æŠŠæ‰€æœ‰åŸºç¡€åŠŸèƒ½éƒ½åšå®Œäº†ï¼Œä½†æ˜¯å´æ²¡æœ‰è¿›è¡Œå³æ—¶é˜¶æ®µæ€§çš„æ±‡æ€»ï¼Œå¯¼è‡´ç¬¬äºŒå¤©å±•ç¤ºå‰è°ƒè¯•æ¯”è¾ƒåŒ†å¿™ï¼Œè¿™ä¹Ÿæ˜¯æ¯”è¾ƒå¯æƒœçš„åœ°æ–¹ã€‚ åƒå®Œæ™šé¥­åï¼Œå¤§å®¶éƒ½å¾ˆå¿«çš„å›åˆ°äº†æœºæˆ¿ï¼Œç»§ç»­ä¸ºæ›´å¥½çš„åŠŸèƒ½è€Œè°ƒè¯•ã€‚æ™šä¸Šè§„å®šåœ¨6:30-7:30çš„äº¤æµæ—¶é—´ä¹‹åå°±èƒ½å›å»äº†ï¼Œä½†ä¸ºäº†è°ƒè¯•ä»£ç ï¼Œæˆ‘ä»¬å…¨ç»„éƒ½é€‰æ‹©ç•™äº†ä¸‹æ¥ï¼Œç›´åˆ°9ç‚¹å·¦å³æ‰èµ°ã€‚å½“æ—¶æˆ‘ä»¬åœ¨æ”»å…‹çš„æ˜¯è·Ÿè¸ªäººè„¸è¡Œèµ°åŠŸèƒ½ï¼Œå›°æ‰°æˆ‘ä»¬çš„æ˜¯Python2ä¸Šçš„ç¼–ç é—®é¢˜ï¼Œæ— è®ºæ˜¯å¦æ£€æµ‹å¾—åˆ°äººè„¸éƒ½ä¼šå‘å‰è¡Œèµ°ã€‚æ‰€ä»¥è™½ç„¶æ•ˆæœèƒ½ç®—è¾¾åˆ°ï¼Œä½†å¹¶ä¸æ˜¯ä¸ºäº†å•çº¯æ¼”ç¤ºå°±è¡Œï¼Œæˆ‘ä»¬è¿˜æ˜¯å†³å®šä»åŸç†ä¸Šå½»åº•æŸ¥æ˜è¿™ä¸ªçš„åŸå› ã€‚ç”±äºè´Ÿè´£çš„åŒå­¦æ²¡æ€ä¹ˆæ¥è§¦è¿‡è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯æˆ‘ä»¬èŠ±äº†å¾ˆå¤§çš„åŠŸå¤«ï¼Œåœ¨è°ƒè¯•äº†Néä»¥åç»ˆäºæ‰¾äº†åŸå› å’Œè§£å†³æ–¹æ¡ˆã€‚äº‹å®ä¸Šä¹Ÿè¯æ˜äº†æˆ‘ä»¬çš„ä»˜å‡ºæ²¡æœ‰ç™½è´¹ï¼Œç¬¬äºŒå¤©æœ‰å…¶ä»–å°ç»„ä¹Ÿç¢°åˆ°äº†è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸ºä»–ä»¬è®²æ˜äº†åŸå› ï¼Œä»–ä»¬ä¹Ÿå¾ˆå¿«çš„å®ç°äº†è¿™ä¸ªåŠŸèƒ½ã€‚ æˆ‘ä»¬çš„æ‹“å±•åŠŸèƒ½è¿˜æœ‰éšæœºæ’­æ”¾æˆ–ä¸­é€”æš‚åœéŸ³ä¹åŠè¯­éŸ³è¯†åˆ«ï¼Œæˆ‘ä»¬ç¬¬äºŒå¤©çš„æ—¶é—´å…¨éƒ½åœ¨æµ‹è¯•è¿™äº›ã€‚ä½†ç”±äºè¯­éŸ³è¯†åˆ«çš„æ•ˆæœæ¯”è¾ƒå·®ï¼Œæœ€åæˆ‘ä»¬è¿˜æ˜¯åªèƒ½é€‰æ‹©æ”¾å¼ƒæ¼”ç¤ºã€‚è€Œæ’­æ”¾éŸ³ä¹çš„åŠŸèƒ½å…¨åœ¨æ¼”ç¤ºå‰çš„ä¸€æ®µæ—¶é—´è¢«è°ƒé”™è€Œæ— æ³•ä½¿ç”¨ã€‚æ‰€æœ‰æœ€ç»ˆæˆ‘ä»¬çš„æ¼”ç¤ºæ•ˆæœå¾ˆå·®ï¼Œæˆç»©ä¹Ÿä¸æ˜¯å¾ˆç†æƒ³ã€‚ ä½œä¸ºæˆ‘ä»¬é˜Ÿé•¿ï¼Œä»¥åŠåœ¨æ¥è§¦Pythonæ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰å¸¦é¢†å›¢é˜Ÿè·å¾—æ¯”è¾ƒå¥½çš„æˆç»©æˆ‘è¿˜æ˜¯æ¯”è¾ƒè‡ªè´£çš„ã€‚ä½†å›æƒ³æ•´ä¸ªå®Œæˆçš„è¿‡ç¨‹ï¼Œå…¶å®æ„Ÿæ…¨ã€æ”¶è·è¿˜æ˜¯é¢‡å¤šçš„ã€‚é¦–å…ˆæ˜¯å­¦é•¿å­¦å§å¯¹æˆ‘çš„æ”¯æŒï¼Œå¤§ä¸‰å­¦é•¿å¼ å¿—å…´ä¸ªäººèƒ½åŠ›å¾ˆå¼ºï¼Œä½†æœ‰æ—¶æˆ‘çš„é”™è¯¯æŒ‡æŒ¥ï¼Œä»–éƒ½ç»™äº†å¾ˆå¤§çš„å®½å®¹ã€‚å…¶æ¬¡æ˜¯å¤§å®¶å›¢é˜Ÿåˆä½œçš„çƒ­æƒ…å’Œæ€åº¦ï¼Œç¢°åˆ°BUGå¤§å®¶ç”šè‡³ä¼šä¸åƒé¥­é€‰æ‹©ä¸€èµ·è§£å†³ï¼›è¿˜æœ‰ç”±äºäººæ•°åŸå› è€Œåæ¥è¢«åˆ†é…åˆ°æˆ‘ä»¬å°ç»„çš„å‘¨è½¶å‡¡ï¼Œè™½ç„¶è·Ÿç»„ç¦»å¾—å¾ˆè¿œï¼Œé€æ¸è¾¹ç¼˜åŒ–ï¼Œæœ‰æ—¶æˆ‘ç”šè‡³éƒ½æ²¡æœ‰æƒ³èµ·ä»–æ¥ï¼Œä½†æ˜¯ä»–éƒ½ä¼šéå¸¸ç§¯æåœ°è¦æ±‚ä»»åŠ¡å’Œç§¯æå‚åŠ è®¨è®ºï¼Œè®©æˆ‘æ„Ÿå—åˆ°äº†å›¢é˜Ÿåˆä½œçš„æ„Ÿè§‰ï¼Œæ„Ÿå—åˆ°äº†we are a team!å†è€…æ˜¯å¾å¼˜æ¯…çš„çƒ­æƒ…ï¼Œä»–è·Ÿæˆ‘åŒæ˜¯å¤§äºŒçš„ï¼Œç”±äºæ²¡æ€ä¹ˆæ¥è§¦è¿‡pythonï¼Œè¿˜ç‰¹åœ°å¸¦äº†Pythonçš„ä¹¦ï¼Œç¢°åˆ°äº†é‚£ä¸ªç¼–ç é—®é¢˜ï¼Œä¹Ÿæ˜¯é’»ç ”äº†å¾ˆä¹…ï¼›è¿˜æœ‰çš„æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½ç©çš„äº‹ï¼Œå½“åˆåˆšå¼€å§‹åˆä½œå®Œæˆé¡¹ç›®çš„æ—¶å€™ï¼Œå¤§å®¶è¿äººåéƒ½ä¸çŸ¥é“ï¼Œå¶ç„¶å¬åˆ°ä¸€ä¸ªå¼ å¿—å…´çš„åå­—ï¼Œå°±ä¸€ç›´æŠŠå¾å¼˜æ¯…å«åšå¼ å¿—å…´ï¼Œå› ä¸ºæ¯æ¬¡è¿™ä¹ˆå«ä»–é˜Ÿå‹æ—¶ï¼Œå¾å¼˜æ¯…æ€»æ˜¯ç¬¬ä¸€ä¸ªå›å¤´çš„â€¦â€¦ ä½†åŒæ—¶æˆ‘ä»¬ç¡®å®ä¹Ÿå­˜åœ¨å¾ˆå¤šçš„é—®é¢˜ï¼šç­”è¾©å±•ç¤ºçš„é‡ç‚¹å¹¶ä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œæœ‰äº›åŸºç¡€åŠŸèƒ½è§‰å¾—å¤§å®¶éƒ½å±•ç¤ºè¿‡ï¼Œè‡ªå·±å°±å¤ªè½»è§†è€Œå¯èƒ½æ²¡æœ‰å±•ç¤ºï¼›æ‹“å±•åŠŸèƒ½å®Œæˆçš„å¤ªé¡ºåˆ©è€Œæ²¡æœ‰ä»‹ç»åˆ°â€¦â€¦éƒ½æ˜¯ä¸€äº›ç­”è¾©ä¸Šå®Œæˆçš„ä¸å¤Ÿå¥½çš„åœ°æ–¹ï¼Œä»¥åŠä¸´åœºåº”å˜è¿˜ä¸ç†Ÿç»ƒã€‚è¿˜æœ‰çš„æ˜¯ç¼ºå°‘å›¢é˜Ÿåˆä½œç»éªŒï¼Œå¯¼è‡´å¾ˆå¤šç¨‹åºæ¶æ„æ–¹é¢çš„äº‹éƒ½æ²¡æœ‰è¯´æ¸…æ¥šï¼Œæ¯”å¦‚Pythonåœ¨ç¼©è¿›ä¸Šè¦æ±‚å¾ˆä¸¥æ ¼ï¼Œè€Œæˆ‘åœ¨æˆ‘çš„ç¬”è®°æœ¬ä¸Šæ±‡æ€»æ€»ç¨‹åºéƒ½æ˜¯4ä¸ªç©ºæ ¼ä¸€å±‚ç¼©è¿›ï¼Œä»–ä»¬åœ¨æœºå™¨äººä¸Šçš„ä»£ç éƒ½æ˜¯8ä¸ªç©ºæ ¼ä¸€å±‚çš„ã€‚ä½†é˜Ÿå‹éƒ½æ¯”è¾ƒå¥½å¿ƒï¼Œæ²¡æœ‰æå‡ºé—®é¢˜ï¼Œè€Œæ˜¯é»˜é»˜çš„æ¯æ¬¡éƒ½å¸®æˆ‘æ”¹å¥½ï¼Œç›´åˆ°æœ€åæ¼”ç¤ºå‰åˆå‘äº†ä¸€éä»£ç åæ‰å‘ç°è¿™ä¸ªç”±äºæ²¡æœ‰æ²Ÿé€šè€Œå¯¼è‡´ä¸¥é‡çš„æ¶æ„é—®é¢˜ã€‚åŒæ—¶è¿˜æœ‰ï¼Œåˆ†å·¥ä¸Šä¹Ÿå¤ªç‰µå¼ºäº†ï¼Œè™½ç„¶åŸºç¡€åŠŸèƒ½åˆ†å·¥çš„æ¯”è¾ƒæ˜ç¡®ï¼Œéƒ½æŒºå¥½çš„å®ç°äº†ï¼Œä½†æ˜¯æ‹“å±•åŠŸèƒ½ï¼Œç”±äºæˆ‘åšè¯¥æ–¹é¢åšçš„æ¯”è¾ƒå¤šï¼Œæˆ‘æ²¡æœ‰åˆ†é…ä¸‹å»è€Œæ˜¯é€‰æ‹©äº†ä¸€äººæ‰¿æ‹…ï¼Œå¯¼è‡´æ±‡æ€»ä»¥åŠæ‹“å±•åŠŸèƒ½çš„è°ƒè¯•éƒ½è½åœ¨æˆ‘èº«ä¸Šï¼Œåœ¨å±•ç¤ºå‰ä¸€æ®µè°ƒè¯•çš„æ—¶é—´é‡Œï¼Œå“ªè¾¹å‡ºäº†é—®é¢˜éƒ½å¾—æˆ‘å»å¤„ç†ï¼Œæœ€åç¡®å®æœ‰ç‚¹æ— æš‡åˆ†èº«ã€å¼„å¾—å¾ˆä¹±â€¦â€¦ è¿™æ¬¡çš„é¡¹ç›®æœ‰å¾ˆå¤šå¥½å¥½ååï¼Œä½†è¿™æ¬¡çš„åˆä½œï¼Œè®©æˆ‘ä»¬ä»å…¨éƒ½ä¸è®¤è¯†ï¼Œåˆ°ç°åœ¨èƒ½ç›¸äº’å¼€ç©ç¬‘ï¼›ä¸èƒ½å†™Pythonä»£ç åˆ°èƒ½å†™Pythoné¡¹ç›®ï¼ŒçœŸçš„æˆé•¿äº†å¤ªå¤šã€‚è™½ç„¶æˆç»©æ¯”è¾ƒå¯æƒœï¼Œä½†æ˜¯æˆ‘ä¸ºè®¤è¯†ä»–ä»¬è€Œé«˜å…´ã€‚åœ¨æ­¤ï¼Œæˆ‘è¦å†æ¬¡æ„Ÿè°¢æˆ‘çš„é˜Ÿå‹ï¼šå¼ å¿—å…´ã€å¾å¼˜æ¯…ã€ç‹é’é›…ã€ä¾äºšä¸œã€æ—ä¸¹ä¸¹ã€é™ˆæ™“è°¦ã€é™ˆæ€€æ–°ã€‚å¤§å®¶åœ¨å„è‡ªçš„é¢†åŸŸå†…éƒ½æ˜¯å¤§æ‰‹å­ï¼Œè€Œè¿™æ¬¡æˆ‘èƒ½è£å¹¸çš„æ‹…ä»»ä»–ä»¬çš„é˜Ÿé•¿ï¼ŒçœŸçš„æ˜¯å¾ˆä¸å®¹æ˜“ï¼Œä»å¿ƒé‡Œæ„Ÿè°¢ä»–ä»¬çš„åŒ…å®¹å’Œç†è§£ã€é…åˆä¸æ”¯æŒã€‚ å› ä¸ºä½ ä»¬ï¼Œä¸è™šæ­¤è¡Œ~ é™„: å®‰æ’è¡¨ ä¸‰è§’åŒ…å­(å®å¿ƒ,æ²¡é¦…çš„!!! ä¸¤å¤§è¤ã€ä¸€å°è¤ã€ä¸¤ç´ çš„å¥—é¤ï¼Œå¤šå›¾è­¦å‘Š","categories":[],"tags":[{"name":"ç”Ÿæ´»å°è®°","slug":"ç”Ÿæ´»å°è®°","permalink":"https://nymrli.top/tags/ç”Ÿæ´»å°è®°/"}]},{"title":"DFSä¸“é¡¹ç»ƒä¹ ","slug":"DFSä¸“é¡¹ç»ƒä¹ ","date":"2019-01-19T12:53:03.000Z","updated":"2019-09-15T08:07:30.929Z","comments":true,"path":"2019/01/19/DFSä¸“é¡¹ç»ƒä¹ /","link":"","permalink":"https://nymrli.top/2019/01/19/DFSä¸“é¡¹ç»ƒä¹ /","excerpt":"","text":"DFSä¸“é¢˜ leetcode 104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ 123456789101112131415161718/** * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */#include&lt;algorithm&gt;class Solution &#123;public: int maxDepth(TreeNode* root) &#123; if(root==NULL)return 0; int l1=maxDepth(root-&gt;left); int l2=maxDepth(root-&gt;right); return max(l1,l2)+1; &#125; DFSæ¨¡æ¿æ€»ç»“ 1234567891011121314151617181920212223void dfs()//å‚æ•°ç”¨æ¥è¡¨ç¤ºçŠ¶æ€ &#123; if(åˆ°è¾¾ç»ˆç‚¹çŠ¶æ€) &#123; ...//æ ¹æ®é¢˜æ„æ·»åŠ  return; &#125; if(è¶Šç•Œæˆ–è€…æ˜¯ä¸åˆæ³•çŠ¶æ€) return; if(ç‰¹æ®ŠçŠ¶æ€)//å‰ªæ return ; for(æ‰©å±•æ–¹å¼) &#123; if(æ‰©å±•æ–¹å¼æ‰€è¾¾åˆ°çŠ¶æ€åˆæ³•) &#123; ä¿®æ”¹æ“ä½œ;//æ ¹æ®é¢˜æ„æ¥æ·»åŠ  æ ‡è®°ï¼› dfsï¼ˆï¼‰ï¼› (è¿˜åŸæ ‡è®°)ï¼› // visited[i] = 1; //æ˜¯å¦è¿˜åŸæ ‡è®°æ ¹æ®é¢˜æ„ //å¦‚æœåŠ ä¸Šï¼ˆè¿˜åŸæ ‡è®°ï¼‰å°±æ˜¯ å›æº¯æ³• // visited[i] = 0 &#125; &#125; &#125; å…¨æ’åˆ—é—®é¢˜ 1234567891011121314151617181920212223242526272829303132#include&lt;iostream&gt;#include&lt;cmath&gt;using namespace std; int p[10]=&#123;0&#125;;bool vis[10]=&#123;0&#125;;int n;void dfs(int x)&#123; if (x==n+1)&#123; for(int i=1;i&lt;=n;i++) cout&lt;&lt;p[i]&lt;&lt;\" \"; cout&lt;&lt;endl; return ; &#125; for (int i=1;i&lt;=n;i++)&#123; if (vis[i]==false ) &#123; p[x] = i; vis[i] = true; dfs(x+1); vis[i] = false; &#125; &#125;&#125; int main()&#123; n=4; dfs(1); return 0;&#125;","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"}]},{"title":"Typoraå¯é€‰é€‰é¡¹","slug":"Typoraå¯é€‰é€‰é¡¹","date":"2019-01-19T12:51:11.000Z","updated":"2019-09-15T08:07:31.008Z","comments":true,"path":"2019/01/19/Typoraå¯é€‰é€‰é¡¹/","link":"","permalink":"https://nymrli.top/2019/01/19/Typoraå¯é€‰é€‰é¡¹/","excerpt":"","text":"ç”¨äº†è¿™ä¹ˆä¹…markdownæ‰å‘ç°åŸæ¥æ”¯æŒLatexçš„ç¬¦å·å…¬å¼ï¼Œä½†æ˜¯åœ¨Typeraä¸­éœ€è¦è‡ªè¡Œè®¾ç½®å‡ºæ¥ï¼Œæ–‡ä»¶--&gt;åå¥½è®¾ç½®--&gt;markdownæ‹“å±•è¯­æ³•ï¼ˆå†…è”å…¬å¼ï¼‰ã€ä»£ç å—ï¼ˆæ˜¾ç¤ºè¡Œå·ï¼‰ Latex å…¬å¼ï¼š32â€‹\\frac{3}{2}â€‹23â€‹â€‹ å¸¦æœ‰è¡Œå·çš„ä»£ç å— 12345#include &lt;stdio.h&gt;int main()&#123; printf(\"hello world\"); return 0;&#125; å…¶ä»–åŠŸèƒ½è‡ªè¡Œå‘ç°å§ï¼_","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"Latexå­¦ä¹ ","slug":"Latexå­¦ä¹ ","date":"2019-01-19T12:49:31.000Z","updated":"2019-09-15T08:07:30.953Z","comments":true,"path":"2019/01/19/Latexå­¦ä¹ /","link":"","permalink":"https://nymrli.top/2019/01/19/Latexå­¦ä¹ /","excerpt":"","text":"åŸºæœ¬æ¦‚å¿µå’Œä½¿ç”¨ Hello, world! 12345\\documentclass&#123;article&#125;%è¿™é‡Œæ˜¯å¯¼è¨€åŒº\\begin&#123;document&#125;Hello, world!\\end&#123;document&#125; è¯·æ³¨æ„ï¼ŒTeX å¯¹æ§åˆ¶åºåˆ—çš„å¤§å°å†™æ˜¯æ•æ„Ÿçš„ éƒ¨åˆ†æ§åˆ¶åºåˆ—è¿˜æœ‰è¢«æ–¹æ‹¬å·[]åŒ…æ‹¬çš„å¯é€‰å‚æ•°ã€‚ å‡ºç°äº†æ§åˆ¶åºåˆ— beginï¼Œè¿™ä¸ªæ§åˆ¶åºåˆ—æ€»æ˜¯ä¸ end æˆå¯¹å‡ºç°ã€‚è¿™ä¸¤ä¸ªæ§åˆ¶åºåˆ—ä»¥åŠä»–ä»¬ä¸­é—´çš„å†…å®¹è¢«ç§°ä¸ºã€Œç¯å¢ƒã€ï¼›ä»–ä»¬ä¹‹åçš„ç¬¬ä¸€ä¸ªå¿…è¦å‚æ•°æ€»æ˜¯ä¸€è‡´çš„ï¼Œè¢«ç§°ä¸ºç¯å¢ƒåã€‚ åªæœ‰åœ¨ â€œdocumentâ€ ç¯å¢ƒä¸­çš„å†…å®¹ï¼Œæ‰ä¼šè¢«æ­£å¸¸è¾“å‡ºåˆ°æ–‡æ¡£ä¸­å»æˆ–æ˜¯ä½œä¸ºæ§åˆ¶åºåˆ—å¯¹æ–‡æ¡£äº§ç”Ÿå½±å“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ \\end{document} ä¹‹åæ’å…¥ä»»ä½•å†…å®¹éƒ½æ˜¯æ— æ•ˆçš„ã€‚ \\begin{document} ä¸ \\documentclass{article} ä¹‹é—´çš„éƒ¨åˆ†è¢«ç§°ä¸ºå¯¼è¨€åŒºã€‚å¯¼è¨€åŒºä¸­çš„æ§åˆ¶åºåˆ—ï¼Œé€šå¸¸ä¼šå½±å“åˆ°æ•´ä¸ªè¾“å‡ºæ–‡æ¡£ã€‚ è¾“å‡ºä¸­æ–‡ ä½¿ç”¨å‘½ä»¤è¡Œè¾“å…¥texworksæ‰“å¼€texç¼–è¾‘å™¨ 1234\\documentclass[UTF8]&#123;ctexart&#125;\\begin&#123;document&#125;ä½ å¥½ï¼Œworld!\\end&#123;document&#125; æ–‡æ¡£ç±»ä» article å˜ä¸º ctexartï¼› å¢åŠ äº†æ–‡æ¡£ç±»é€‰é¡¹ UTF8ã€‚ 12345678\\documentclass[UTF8]&#123;ctexart&#125;\\title&#123;ä½ å¥½ï¼Œworld!&#125;\\author&#123;Liam&#125;\\date&#123;\\today&#125;\\begin&#123;document&#125;\\maketitleä½ å¥½ï¼Œworld!\\end&#123;document&#125; ç¬”è®° ä¸­æ–‡é—®é¢˜ é¢å¯¹ä¸­æ–‡ç¼–ç é—®é¢˜ï¼ŒCJKè¢«æ·˜æ±°ï¼Œä½¿ç”¨ctexartç¼–è¯‘ä¸­æ–‡ â–²æ³¨æ„ï¼Œç¼–è¯‘æ–¹å¼å¿…é¡»æ”¹ä¸ºxeLaTexï¼Œåªæœ‰éƒ¨åˆ†ç¯å¢ƒä¸‹ pdfLaTex ä¹Ÿå¯ä»¥ç¼–è¯‘æˆåŠŸ 1234\\documentclass[UTF8]&#123;ctexart&#125;\\begin&#123;document&#125;æ‚¨å¯ä»¥çœ‹åˆ°ï¼Œè¯´æ˜ä½ ç¼–è¯‘æˆåŠŸäº†ï¼\\end&#123;document&#125; æ ‡å‡†æ–‡ç±» articleï¼šçŸ­æ–‡ï¼Œè¯„è®ºï¼Œå­¦æœ¯è®ºæ–‡ï¼›æ— å·¦å³é¡µåŒºåˆ†ï¼Œæ— ç« è®¾ç½®ã€‚å¯¹åº”ä¸­æ–‡ç±»ctexartã€‚ bookï¼šè‘—ä½œï¼Œå­¦ä½è®ºæ–‡ï¼›é»˜è®¤æœ‰å·¦å³é¡µåŒºåˆ†ï¼Œç« èµ·å³é¡µã€‚å¯¹åº”ä¸­æ–‡ç±»ctexbookã€‚ reportï¼šå•†ä¸šï¼Œç§‘æŠ€ï¼Œè¯•éªŒæŠ¥å‘Šï¼Œé»˜è®¤æ— å·¦å³é¡µåŒºåˆ†ï¼Œç« èµ·æ–°é¡µã€‚å¯¹åº”ä¸­æ–‡ç±»ï¼šctexrepã€‚ beamerï¼šè®ºæ–‡é™ˆè¿°å¹»ç¯ç‰‡ï¼›æä¾›å¤šç§ä¸»é¢˜å¼æ ·ï¼Œå¯æ–¹ä¾¿æ›´æ”¹å¹»ç¯ç‰‡çš„æ•´ä½“é£æ ¼ã€‚ å¸¸ç”¨å®åŒ… ä¸æ˜¯å¿…é¡»è®°ä½ï¼Œéœ€è¦ç”¨å“ªä¸ªç°æŸ¥å³å¯ï¼Œåˆ—å‡ºè¿™äº›æ˜¯ä¸ºäº†æµè§ˆåˆ«äººçš„æºæ–‡ä»¶æ—¶çŸ¥é“äººå®¶è°ƒç”¨äº†å“ªä¸ªå®åŒ…ã€‚ amsmath å…¬å¼ç¯å¢ƒå’Œæ•°å­¦å‘½ä»¤ amssymb æ•°å­¦ç¬¦å·ç”Ÿæˆå‘½ä»¤ array æ•°ç»„å’Œè¡¨æ ¼åˆ¶ä½œ calc å››åˆ™è¿ç®— caption æ’å›¾å’Œè¡¨æ ¼æ ‡é¢˜æ ¼å¼è®¾ç½® fancyhdr é¡µçœ‰é¡µè„šè®¾ç½® fancyvrb æŠ„å½•æ ¼å¼è®¾ç½® fontspec å­—ä½“é€‰æ‹© geometry ç‰ˆé¢å°ºå¯¸è®¾ç½® graphicx æ’å›¾å¤„ç† hyperref åˆ›å»ºè¶…æ–‡æœ¬é“¾æ¥å’ŒPDFä¹¦ç­¾ longtable åˆ¶ä½œè·¨é¡µè¡¨æ ¼ multicol å¤šæ æ’ç‰ˆ ntheorem å®šç†è®¾ç½® paralist å¤šç§åˆ—è¡¨ç¯å¢ƒ tabularx è‡ªåŠ¨è®¾ç½®è¡¨æ ¼åˆ—å®½ titlesec ç« èŠ‚æ ‡é¢˜æ ¼å¼è®¾ç½® titletoc ç›®å½•æ ¼å¼è®¾ç½® xcolor é¢œè‰²å¤„ç† xeCJK ä¸­æ—¥æœæ–‡å­—å¤„ç†å’Œå­—ä½“é€‰æ‹©","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"},{"name":"Latex","slug":"Latex","permalink":"https://nymrli.top/tags/Latex/"}]},{"title":"æ¯æ—¥codewars","slug":"æ¯æ—¥codewars","date":"2019-01-19T12:47:50.000Z","updated":"2019-09-15T08:07:31.084Z","comments":true,"path":"2019/01/19/æ¯æ—¥codewars/","link":"","permalink":"https://nymrli.top/2019/01/19/æ¯æ—¥codewars/","excerpt":"","text":"Codewars 12.17 Sum without highest and lowest number 1234567891011121314151617181920212223242526272829#include&lt;vector&gt;#include&lt;algorithm&gt;#include &lt;iostream&gt;using namespace std;int sum(vector&lt;int&gt; numbers)&#123; /* Sum without highest and lowest number &#123; 6, 2, 1, 8, 10 &#125; =&gt; 16 &#123; 1, 1, 11, 2, 3 &#125; =&gt; 6 */ if(numbers.empty()) return 0; if(numbers.size()==1) return 0; sort(numbers.begin(),numbers.end()); int sum=0; for( vector&lt;int&gt;::iterator it = numbers.begin()+1;it != numbers.end()-1;it++) sum += *it; return sum;&#125;int main()&#123; vector&lt;int&gt; n; n.push_back(1); n.push_back(3); n.push_back(5); cout &lt;&lt; sum(n); return 0;&#125; C++11æ”¯æŒçš„æ–°ç‰¹æ€§ 12345vector&lt;int&gt; a = &#123;1, 2, 3, 4, 5,7&#125;;// æ”¯æŒäº†vector &#123;&#125;çš„åˆå§‹åŒ–æ–¹å¼for(int i : a) cout &lt;&lt; i;//æ”¯æŒäº†for(:) 12.19 reverse Sum of positive 1234567891011121314151617181920#include &lt;cstdio&gt;#include &lt;algorithm&gt;/**Hex to Decimal**/int hexToDec(std::string hexString)&#123; reverse(hexString.begin(),hexString.end()); int base = 1; int sum =0 ; bool fu = 0; for(string::iterator it = hexString.begin() ; it != hexString.end() ; it++ )&#123; if( *it == '-') &#123;fu = 1; continue;&#125; int num = 0; if( *it &gt;= 'A' &amp;&amp; *it &lt;= 'F' ) num = *it - 'A' + 10; else if( *it &gt;= 'a' &amp;&amp; *it &lt;= 'f' ) num = *it - 'a' + 10; else num = *it - '1' + 1; sum += num * base; base *= 16; &#125; return fu?-sum:sum;&#125;//baseæ¥æ§åˆ¶ç›¸åº”ä½æ•°ï¼ŒAaéƒ½è¦è€ƒè™‘ï¼Œè´Ÿæ•° 12for(string::iterator it = hexString.begin() ; it != hexString.end() ; it++ )// *it æ˜¯ charç±»å‹çš„ 12.20 stoiã€istringstreamã€sscanf Hex to Decimal 12345#include &lt;string&gt;int hexToDec(const std::string&amp; hexString)&#123; return std::stoi(hexString, nullptr, 16); //return std::stoi(hexString, 0, 16);&#125; 123456#include &lt;ios&gt;int hexToDec(std::string hexString)&#123; int n; std::istringstream(hexString) &gt;&gt; std::hex &gt;&gt; n; return n;&#125; 123int hexToDec(std::string hexString)&#123; return (int)strtol(hexString.c_str(), 0, 16);&#125; 12345int hexToDec(std::string hex) &#123; int decValue; sscanf(hex.c_str(), \"%x\", &amp;decValue); return decValue;&#125; 12.21 å¢å¼ºçš„for(ch : vowels ) Vowel Count 123456789101112#include &lt;string&gt;using namespace std;int getCount(const string&amp; inputStr)&#123; int num_vowels = 0; vector&lt;char&gt; vowels = &#123;'a', 'e', 'i', 'o', 'u' &#125;; for(int it = 0; it != inputStr.size() ; it++ ) for(char ch : vowels ) if( ch == inputStr[it] ) num_vowels++; return num_vowels;&#125;/**const string&amp; inputStr**/for(string::const_iterator it = inputStr.begin() ; it != inputStr.end() ; it++) // è¿­ä»£å™¨ä¸ºconst_iteratorï¼Œè€Œä¸æ˜¯iterator ä¼˜ç§€è§£ç­”ï¼š count_if 12345678910111213141516171819202122232425int getCount(const string&amp; inputStr)&#123; return count_if(inputStr.begin(), inputStr.end(), [](const char ch) &#123; switch(ch) &#123; case 'a': case'e': case'i': case'o': case'u': return true; default: return false;&#125; &#125;);&#125;// &lt;=====&gt;#include &lt;string&gt;using namespace std;bool is_vowel(char c) &#123; return (c == 'a' || c == 'e' || c == 'i' || c == 'o' || c == 'u');&#125;int getCount(const string&amp; inputStr) &#123; return count_if(inputStr.begin(), inputStr.end(), is_vowel);&#125; 12.22 for_eachå’ŒC11çš„åŒ¿åå‡½æ•° Invert values 123456789/**Invert values**/#include &lt;vector&gt;std::vector&lt;int&gt; invert(std::vector&lt;int&gt; values)&#123; std::vector&lt;int&gt; v2; for_each(values.begin(),values.end(),[ &amp;v2](int c)&#123; v2.push_back(-c); &#125;); return v2;&#125;// å­¦ä¼šä½¿ç”¨äº† for_eachå’ŒC11çš„åŒ¿åå‡½æ•° åŒ¿åå‡½æ•° å‚æ•° 1234[](int x, int y) &#123; return x + y; &#125; // éšå¼è¿”å›ç±»å‹[](int&amp; x) &#123; ++x; &#125; // æ²¡æœ‰returnè¯­å¥ -&gt; lambda å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯'void'[]() &#123; ++global_x; &#125; // æ²¡æœ‰å‚æ•°,ä»…è®¿é—®æŸä¸ªå…¨å±€å˜é‡[]&#123; ++global_x; &#125; // ä¸ä¸Šä¸€ä¸ªç›¸åŒ,çœç•¥äº†() æŠ€å·§: æ²¡æœ‰return ï¼Œ åˆ™ lambdaçš„è¿”å›ç±»å‹æ˜¯void å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œåˆ™å¯ä»¥çœç•¥å‚æ•° æ•è· å€¼æ•è· å¼•ç”¨æ•è· 123456[] //æœªå®šä¹‰å˜é‡.è¯•å›¾åœ¨Lambdaå†…ä½¿ç”¨ä»»ä½•å¤–éƒ¨å˜é‡éƒ½æ˜¯é”™è¯¯çš„.[x, &amp;y] //x æŒ‰å€¼æ•è·, y æŒ‰å¼•ç”¨æ•è·.[&amp;] //ç”¨åˆ°çš„ä»»ä½•å¤–éƒ¨å˜é‡éƒ½éšå¼æŒ‰å¼•ç”¨æ•è·[=] //ç”¨åˆ°çš„ä»»ä½•å¤–éƒ¨å˜é‡éƒ½éšå¼æŒ‰å€¼æ•è·[&amp;, x] //xæ˜¾å¼åœ°æŒ‰å€¼æ•è·. å…¶å®ƒå˜é‡æŒ‰å¼•ç”¨æ•è·[=, &amp;z] //zæŒ‰å¼•ç”¨æ•è·. å…¶å®ƒå˜é‡æŒ‰å€¼æ•è· 12.23 â–²transform ç®—æ³•transform()æä¾›ä»¥ä¸‹ä¸¤ç§èƒ½åŠ›ï¼š 1.ç¬¬ä¸€å½¢å¼æœ‰4ä¸ªå‚æ•°ï¼ŒæŠŠæºåŒºé—´çš„å…ƒç´ è½¬æ¢åˆ°ç›®æ ‡åŒºé—´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤åˆ¶å’Œä¿®æ”¹å…ƒç´ ä¸€æ°”å‘µæˆï¼› transform(sourceBeg,sourceEnd,destBeg,op) (1)é’ˆå¯¹æºåŒºé—´[sourceBeg,sourceEnd)ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨ï¼šop(elem) å¹¶å°†ç»“æœå†™åˆ°ä»¥destBegèµ·å§‹çš„ç›®æ ‡åŒºé—´å†…ï¼› (2)è¿”å›ç›®æ ‡åŒºé—´å†…â€œæœ€åä¸€ä¸ªè¢«è½¬æ¢å…ƒç´ â€çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªæœªè¢«è¦†ç›–çš„å…ƒç´ ä½ç½®ï¼› (3)è°ƒç”¨è€…å¿…é¡»ç¡®ä¿ç›®æ ‡åŒºé—´æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œè¦ä¸å°±å¾—ä½¿ç”¨æ’å…¥å‹è¿­ä»£å™¨ï¼› (4)sourceBegäºdestBegå¯ä»¥ç›¸åŒï¼Œæ‰€ä»¥ï¼Œå’Œfor_each()ç®—æ³•ä¸€æ ·ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªç®—æ³•æ¥å˜åŠ¨æŸä¸€åºåˆ—å†…çš„å…ƒç´ ï¼› (5)å¦‚æœæƒ³ä»¥æŸå€¼æ›¿æ¢ç¬¦åˆæŸä¸€å‡†åˆ™çš„å…ƒç´ ï¼Œåº”ä½¿ç”¨replace()ç®—æ³•ï¼› (6)å¤æ‚åº¦ï¼šçº¿æ€§ï¼› 12345678910#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;int test()&#123; vector&lt;int&gt; coll1; for (int i=1;i&lt;9;i++) coll1.push_back(i); transform(coll1.begin(),coll1.end(),coll1.begin(),negate&lt;int&gt;()); for (int i=0;i&lt;8;i++) cout &lt;&lt; coll1.at(i) &lt;&lt;endl; //-1 -2 -3 -4 -5 .. -8&#125; 2.ç¬¬äºŒå½¢å¼æœ‰5ä¸ªå‚æ•°ï¼Œå°†å‰ä¸¤ä¸ªæºåºåˆ—ä¸­çš„å…ƒç´ åˆå¹¶ï¼Œå¹¶å°†ç»“æœå†™å…¥ç›®æ ‡åŒºé—´ã€‚ transform(source1Beg,source1End,source2Beg,destBeg,op) (1)é’ˆå¯¹ç¬¬ä¸€æºåŒºé—´[source1Beg,source1End)ä»¥åŠâ€œä»source2Begå¼€å§‹çš„ç¬¬äºŒæºåŒºé—´â€çš„å¯¹åº”å…ƒç´ ï¼Œè°ƒç”¨:op(source1Elem,source2Elem) å¹¶å°†ç»“æœå†™å…¥ä»¥destBegèµ·å§‹çš„ç›®æ ‡åŒºé—´å†…ï¼› (2)è¿”å›åŒºé—´å†…çš„â€œæœ€åä¸€ä¸ªè¢«è½¬æ¢å…ƒç´ â€çš„ä¸‹ä¸€ä½ç½®ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªæœªè¢«è¦†ç›–çš„å…ƒç´ çš„ä½ç½®ï¼› (3)è°ƒç”¨è€…å¿…é¡»ä¿è¯ç¬¬äºŒæºåŒºé—´æœ‰è¶³å¤Ÿç©ºé—´ï¼ˆè‡³å°‘æ‹¥æœ‰å’Œç¬¬ä¸€åŒºé—´ç›¸åŒçš„ç©ºé—´å¤§å°ï¼‰ï¼› (4)è°ƒç”¨è€…å¿…é¡»ç¡®ä¿ç›®æ ‡åŒºé—´æœ‰è¶³å¤Ÿç©ºé—´ï¼Œè¦ä¸å°±å¾—ä½¿ç”¨æ’å…¥å‹è¿­ä»£å™¨ï¼› (5)source1Begï¼Œsource2Begï¼ŒdestBegå¯ä»¥ç›¸åŒã€‚æ‰€ä»¥ï¼Œå¯ä»¥è®©å…ƒç´ è‡ªå·±å’Œè‡ªå·±ç»“åˆï¼Œç„¶åå°†ç»“æœè¦†ç›–è‡³æŸä¸ªåºåˆ—ï¼› (6)å¤æ‚åº¦:çº¿æ€§ï¼› 12345678910#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;int test()&#123; vector&lt;int&gt; coll1; for (int i=1;i&lt;9;i++) coll1.push_back(i); transform(coll1.begin(),coll1.end(),coll1.begin(),coll1.begin(),multiplies&lt;int&gt;()); for (int i=0;i&lt;8;i++) cout &lt;&lt; coll1.at(i) &lt;&lt;endl; // 1,4,16,25...81&#125; http://lib.csdn.net/article/cplusplus/32641 Remove exclamation marks 123456789101112131415161718#include &lt;queue&gt;#include &lt;string&gt;using namespace std;std::string removeExclamationMarks(std::string str)&#123; //your code here queue&lt;char&gt; st; for(string::iterator it = str.begin() ; it != str.end() ; it++) if( *it != '!') st.push(*it); string s; for(int i = st.size() ; i &gt;0 ; i--)&#123; s += st.front(); st.pop(); &#125; return s;&#125;// &gt;&gt;&gt; 2323!!asd ===&gt; 2323asd 12.24 Maximum Multiple 12345int maxMultiple(int divisor, int bound) &#123; // Your Code is Here ... Enjoy !!! if ( bound % divisor == 0) return bound; return divisor * ( bound / divisor);&#125; 12.25 nth_element()å‡½æ•° éƒ¨åˆ†æ’åº å¤´æ–‡ä»¶ï¼š#include&lt;algorithm&gt; ä½œç”¨ï¼šnth_element(a+l,a+k,a+r) å®ƒä¼šä½¿aè¿™ä¸ªæ•°ç»„ä¸­åŒºé—´[l,r)å†…çš„ç¬¬kå¤§çš„å…ƒç´ å¤„åœ¨ç¬¬kä¸ªä½ç½®ä¸Š(ç›¸å¯¹ä½ç½®)ï¼Œ**ä½†æ˜¯å®ƒå¹¶ä¸ä¿è¯å…¶ä»–å…ƒç´ æœ‰åºï¼**ä¸”ç¬¬ n ä¸ªå…ƒç´ ä¹‹å‰çš„å…ƒç´ éƒ½å°äºå®ƒï¼Œä½†ä¸å¿…æ˜¯æœ‰åºçš„ã€‚åŒæ ·ï¼Œç¬¬ n ä¸ªå…ƒç´ åçš„å…ƒç´ éƒ½å¤§äºå®ƒï¼Œä½†ä¹Ÿä¸å¿…æ˜¯æœ‰åºçš„ã€‚ æ’åºåa[n]å°±æ˜¯æ•°åˆ—ä¸­ç¬¬n+1å¤§çš„æ•° 12nth_element(intVect.begin(),intVect.begin()+3,intVect.end());cout &lt;&lt; intVect[2]&lt;&lt; endl; https://zhidao.baidu.com/question/1447317576049306340.html 12.26 Mumbling 1234567891011121314151617181920212223242526using namespace std;class Accumul&#123;public: static std::string accum(const std::string &amp;s) &#123; stringstream result; for (int i = 0; i &lt; s.length(); i++) result &lt;&lt; \"-\" &lt;&lt; string(1, toupper(s[i])) &lt;&lt; string(i, tolower(s[i])); return result.str().substr(1); &#125;&#125;;class Accumul&#123;public: static std::string accum(const std::string &amp;s) &#123; std::string result; for (int i = 0; i &lt; s.length(); i++) &#123; result.append(\"-\"); result.append(std::string(1,toupper(s[i]))); result.append(std::string(i,tolower(s[i]))); &#125; return result.substr(1,result.length()); &#125;&#125;; 12.27 Highest and Lowest 12345678910111213141516171819//[mySolution]#include &lt;string&gt;#include &lt;sstream&gt;using namespace std;string highAndLow(const string&amp; numbers)&#123; string single; //æ¯ä¸ªå­—ç¬¦ stringstream ss(numbers); //å­—ç¬¦æµ vector&lt;int&gt; s; //å­˜å‚¨æ¯ä¸ªæ•°å­—çš„vec while( getline(ss,single,' ') ) //æ ¹æ®ç©ºæ ¼åˆ†å‰² //while(ss &gt;&gt; s) s.push_back(stoi(single)); sort(s.begin(),s.end(),greater&lt;int&gt;()); //ä»å¤§åˆ°å°æ’åº //å°†æ•´æ•°æ‹¼åˆèµ·æ¥ stringstream sss; sss &lt;&lt; s.at(0) &lt;&lt; \" \" &lt;&lt; s.at(s.size() - 1) ; return sss.str();&#125; booståº“ 1234567891011#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;boost&gt;using namespace std;using namespace boost;int main() &#123; string s = \" hello boost!! \"; trim(s); cout &lt;&lt; s &lt;&lt; endl;&#125; è¿”å› ç¼–è¯‘å™¨å…è®¸çš„ int å‹æ•° æœ€å¤§å€¼std::numeric_limits&lt;int&gt;::max () 1.1 Minimize Sum Of Array (Array Series #1) 12345678910111213141516171819#include &lt;vector&gt;#include &lt;algorithm&gt;using namespace std;int minSum (vector&lt;int&gt;passed)&#123; sort(passed.begin(),passed.end()); int sum = 0 ; int n = passed.size(); for(int i=0;i&lt; n/2; i++)&#123; sum += passed.at(i) * passed.at(n-1-i); &#125; return sum ;&#125;int main()&#123; cout &lt;&lt; minSum(&#123;5,4,2,3&#125;); //æœ€è¿œçš„ä¸¤ä¸ªæ•°ç›¸ä¹˜ï¼Œå†…ç§¯ return 0;&#125; å‡½æ•°å½¢å‚ä¸ºvecæ—¶ï¼Œå¯ä»¥ç›´æ¥å°†{x1,x2,x3}å½“å‚æ•°ä¼ å…¥ã€‚ inner_product å®šä¹‰åœ¨ numeric å¤´æ–‡ä»¶ä¸­çš„ inner_product() ç®—æ³•å¯ä»¥è®¡ç®—ä¸¤ä¸ª vector çš„å†…ç§¯ã€‚è¿™ä¸ªå‡½æ•°æ¨¡æ¿æœ‰ 4 ä¸ªå‚æ•°ï¼šå‰ä¸¤ä¸ªå‚æ•°æ˜¯å®šä¹‰ç¬¬ 1 ä¸ª vector çš„è¾“å…¥è¿­ä»£å™¨ï¼Œç¬¬ 3 ä¸ªå‚æ•°æ˜¯ç¡®å®šç¬¬ 2 ä¸ª vector çš„å¼€å§‹è¾“å…¥è¿­ä»£å™¨ï¼Œç¬¬ 4 ä¸ªå‚æ•°æ˜¯å’Œçš„åˆå€¼ã€‚ç®—æ³•ä¼šè¿”å› vector çš„å†…ç§¯ã€‚ä¾‹å¦‚ï¼š cout &lt;&lt; inner_product(begin(passed),begin(passed)+n,passed.rbegin(),0) &lt;&lt; endl; 1.2 å…³äºåˆ é™¤å¯è¿­ä»£å¯¹è±¡ä¸­å…ƒç´  123456789101112131415161718//æ­£ç¡®å†™æ³•std::list&lt; int&gt; List;std::list&lt; int&gt;::iterator itList;for( itList = List.begin(); itList != List.end(); )&#123; if( WillDelete( *itList) ) itList = List.erase( itList); //æˆ–è€… List.erase( itList ); //åæ­£å°±æ˜¯ä¸èƒ½è®©ä¸‹æ ‡ä¸€ä¸‹è¿›ä¸¤ä¸ªï¼Œå¦‚æœå°†++å†™åœ¨foré‡Œé¢ï¼Œä¼šå¯¼è‡´åˆ é™¤åæ¼äº†ä¸€ä¸ªå…ƒç´ åˆ¤æ–­ else itList++;&#125;//é”™è¯¯å†™æ³•std::list&lt; int&gt; List;std::list&lt; int&gt;::iterator itList;for( itList = List.begin(); itList != List.end(); itList++)&#123; if( WillDelete( *itList) ) List.erase( itList);&#125; é”™è¯¯åŸå› ï¼šåœ¨è°ƒç”¨eraseæ–¹æ³•ä¹‹åä½¿ç”¨â€œ++â€æ¥è·å–ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œç”±äºåœ¨è°ƒç”¨eraseæ–¹æ³•ä»¥åï¼Œè¯¥å…ƒç´ çš„ä½ç½®å·²ç»è¢«åˆ é™¤ï¼Œå¦‚æœåœ¨æ ¹æ®è¿™ä¸ªæ—§çš„ä½ç½®æ¥è·å–ä¸‹ä¸€ä¸ªä½ç½®ï¼Œåˆ™ä¼šå‡ºç°å¼‚å¸¸ã€‚ åœ¨Pythoné‡Œé¢éå†åˆ é™¤å…ƒç´ æ—¶ï¼Œä¸‹æ ‡é—®é¢˜ï¼Œä¼šä½¿ç•¥è¿‡å…ƒç´ ==&gt; è§£å†³æ–¹æ³•ï¼š ifï¼Œelse Disemvowel Trolls 12345678910111213# include &lt;string&gt;std::string disemvowel(std::string str)&#123; for(std::string::iterator it = str.begin() ; it != str.end() ;)&#123; if ( *it == 'A' || *it == 'I' || *it == 'U' || *it == 'E' || *it == 'O' || *it == 'a' || *it == 'o' || *it == 'i' || *it == 'u' || *it == 'e' ) str.erase(it); else it++; &#125; return str;&#125; c++æ­£åˆ™ 123456# include &lt;string&gt;# include &lt;regex&gt;std::string disemvowel(std::string str)&#123; std::regex vowels(&quot;[aeiouAEIOU]&quot;); return std::regex_replace(str, vowels, &quot;&quot;);&#125; 1.3 åœ¨stringä¸­æŸ¥æ‰¾å­ä¸² string:: string::find(string &amp;); 123456789101112131415161718int main()&#123; string a=\"abcdefghigklmn\"; string b=\"def\"; string c=\"123\"; string::size_type idx; idx=a.find(b);//åœ¨aä¸­æŸ¥æ‰¾b. if(idx == string::npos )//ä¸å­˜åœ¨ã€‚ cout &lt;&lt; \"not found\\n\"; else//å­˜åœ¨ã€‚ cout &lt;&lt;\"found\\n\"; idx=a.find(c);//åœ¨aä¸­æŸ¥æ‰¾cã€‚ if(idx == string::npos )//ä¸å­˜åœ¨ã€‚ cout &lt;&lt; \"not found\\n\"; else//å­˜åœ¨ã€‚ cout &lt;&lt;\"found\\n\"; return 0;&#125; å½“æ²¡æœ‰æ‰¾åˆ°æ—¶è¿”å›string::npos 1.4 12345678910111213141516171819202122232425262728293031class CountDig&#123;public: static int nbDig(int n, int d);&#125;;using namespace std;//è®¡ç®—numä¸­å‡ºç°æ•°å­—dçš„æ¬¡æ•°int contain(int num,int d)&#123; int n =0 ; while( num &gt;= 1)&#123; int ge = num % 10; num = num / 10; if( ge == d) n++; &#125; return n;&#125;//è¦æ±‚çš„æˆå‘˜å‡½æ•°int CountDig::nbDig(int n, int d)&#123; vector&lt;int&gt; v; for(int i=0 ; i &lt;= n ; i++) v.push_back( i*i ); int cnt =0; for_each(v.begin(),v.end(),[d,&amp;cnt](int x)&#123; int appn = contain(x,d); cnt += appn ; &#125;); return d==0?++cnt:cnt ; //ç”±äºcontainå‡½æ•°ä¼šèˆå»0çš„æƒ…å†µï¼Œæ‰€ä»¥è¿™è¾¹è¡¥ä¸Š&#125; topow(int ,int) ä¸¢ç²¾åº¦ é—®é¢˜å°šæœªè§£å†³ 1.5 Compare Strings by Sum of Chars isalphaçš„ä½¿ç”¨ï¼Œsumä¸ºintç±»å‹ï¼Œå½“sum+= charç±»å‹çš„cæ—¶ï¼Œå®é™…åŠ çš„å°±æ˜¯cçš„ASCIIç å€¼ 12345678910111213// Calculate the char-value of the stringint charvalue(std::string s)&#123; int sum = 0; for(char &amp;c : s)&#123; if(!std::isalpha(c)) return 0; sum += std::toupper(c); &#125; return sum;&#125;bool compare(std::string s1, std::string s2)&#123; return charvalue(s1) == charvalue(s2);&#125; 1.6å·åå¼€å§‹è®¤çœŸå¤ä¹  è€ƒè¯•å‘¨å¿™ï¼Œç©ºäº†å¥½å¤šç»ƒä¹  1.24 ç¼ºå°‘mainå‡½æ•°æŠ¥é”™ 1.28 PTA æ±‚è‡ªå®šç±»å‹å…ƒç´ çš„å¹³å‡ 12345678910111213141516171819202122232425#include &lt;stdio.h&gt;#define MAXN 10typedef float ElementType;ElementType Average( ElementType S[], int N );int main ()&#123; ElementType S[MAXN]; int N, i; scanf(\"%d\", &amp;N); for ( i=0; i&lt;N; i++ ) scanf(\"%f\", &amp;S[i]); printf(\"%.2f\\n\", Average(S, N)); return 0;&#125;ElementType Average( ElementType S[], int N )&#123; int i; ElementType sum; for(i=0;i&lt;N;i++) sum += S[i]; return sum/(ElementType)(N);&#125; æ±‚å•é“¾è¡¨ç»“ç‚¹çš„é˜¶ä¹˜å’Œ é“¾è¡¨ + é˜¶ä¹˜ 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;typedef struct Node *PtrToNode;struct Node &#123; int Data; /* å­˜å‚¨ç»“ç‚¹æ•°æ® */ PtrToNode Next; /* æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆ */&#125;;typedef PtrToNode List; /* å®šä¹‰å•é“¾è¡¨ç±»å‹ */int FactorialSum( List L );int main()&#123; int N, i; List L, p; scanf(\"%d\", &amp;N); L = NULL; for ( i=0; i&lt;N; i++ ) &#123; p = (List)malloc(sizeof(struct Node)); scanf(\"%d\", &amp;p-&gt;Data); p-&gt;Next = L; L = p; &#125; printf(\"%d\\n\", FactorialSum(L)); return 0;&#125;// ----å®Œæˆéƒ¨åˆ†----int FactorialSum( List L )&#123; struct Node* p = L; int sum = 0; while( p )&#123; int fac=1; for(int i=1;i&lt;=p-&gt;Data ;i++) fac *= i; //è®¡ç®—Nçš„é˜¶ä¹˜ sum += fac; p = p-&gt;Next; &#125; return sum;&#125; ç»Ÿè®¡æŸç±»å®Œå…¨å¹³æ–¹æ•° å¹³æ–¹æ•°,å–å‡ºå„ä½ 1234567891011121314151617181920212223242526272829303132333435#include &lt;stdio.h&gt;#include &lt;math.h&gt;int IsTheNumber ( const int N );int main()&#123; int n1, n2, i, cnt; scanf(\"%d %d\", &amp;n1, &amp;n2); cnt = 0; for ( i=n1; i&lt;=n2; i++ ) &#123; if ( IsTheNumber(i) ) cnt++; &#125; printf(\"cnt = %d\\n\", cnt); return 0;&#125;int IsTheNumber ( const int N )&#123; int n = (int )sqrt(N); if( N == n*n ) &#123; int arr[10] = &#123;0&#125;; int m = N; while( m &gt; 0)&#123; int tmp = m%10; arr[tmp] += 1; for( int i = 0 ;i&lt;10;i++)&#123; if( arr[i] == 2)return 1; &#125; m /= 10; &#125; return 0; // æ³¨æ„è¿™è¾¹å¾—è€ƒè™‘ &#125;else return 0;&#125; 1.29 ç»Ÿè®¡ä¸ªä½æ•°å­— 1234567891011121314151617181920212223#include &lt;stdio.h&gt;int Count_Digit ( const int N, const int D );int main()&#123; int N, D; scanf(\"%d %d\", &amp;N, &amp;D); printf(\"%d\\n\", Count_Digit(N, D)); return 0;&#125; Count_Digit ( const int N, const int D )&#123; int cnt =0 ; if ( N == 0 ) return 1; //éœ€è¦è€ƒè™‘ N = 0çš„æƒ…å†µ int m =N&gt;0?N:-N; //ä»¥åŠè´Ÿæ•°æƒ…å†µ, è¿™è¾¹å–ç»å¯¹å€¼ while(m &gt; 0 )&#123; int tmp = m%10; if( tmp == D) cnt++; m /= 10; &#125; return cnt;&#125; 6-10 é˜¶ä¹˜è®¡ç®—å‡çº§ç‰ˆ ----é«˜ç²¾åº¦ é¢˜è§£ 123456789101112131415161718192021222324252627282930void Print_Factorial ( const int N )&#123; long i,s=1; if(N&gt;=0&amp;&amp;N&lt;=12)&#123; //å‰ªæ.å‡å°‘æ—¶é—´å¤æ‚åº¦ for(i=2 ;i&lt;=N ;i++)s *= i; printf(\"%ld\\n\",s); &#125;else if(N&gt;12&amp;&amp;N&lt;=1000)&#123; int num[3000] = &#123;0&#125;; num[0] = 1; int k=1; //ä½æ•° int n=0; //è¿›ä½ int temp; for(int i=2 ;i&lt;=N ;i++)&#123; for(int j=0;j&lt;k;j++)&#123; temp = num[j]*i+n; //æ¯ä¸€ä½ç›¸ä¹˜ å†+è¿›ä½ num[j] = temp%10; //æ›´æ–°æ¯ä¸€ä½çš„æ•°å­— n = temp/10; //åˆ¤æ–­èƒ½å¦è¿›ä½ &#125; while(n!=0)&#123; //å¦‚æœå¯ä»¥è¿›ä½ num[k] = n%10; //æ–°å¢ä¸€ä½ n /=10; //ç»§ç»­åˆ¤æ–­èƒ½å¦è¿›ä½ k++; &#125; &#125; for(int x=k-1;x&gt;=0;x--)printf(\"%d\",num[x]); //é€†åºè¾“å‡ºæ•°å­— &#125; else&#123; printf(\"%s\\n\",\"Invalid input\"); &#125;&#125; æˆ‘çš„åšæ³•(é”™è¯¯): 123456789101112131415161718192021222324252627282930int mutliply(int a[],int n,int b)&#123; for(int i = n - 1 ;i &gt;= 0 ; i--)&#123; //è®¡ç®—æœºè®¡ç®—æ—¶, 4*6 , å…ˆå°†åä½ç¡®å®š,å†ç¡®å®šä¸ªä½ int tmp = a[i] * b; while( tmp &gt;= 10 ) &#123; /*â–². è¿™æ ·çš„å†™æ³•,å­˜åœ¨124,æ— æ³•åœ¨ç™¾ä½è¿›ä½çš„ç¼ºé™· è¿˜æ˜¯æœ€å¥½ tmp %= 10; n /= 10; */ tmp -=10; a[i+1] += 1; &#125; a[i] = tmp; &#125;&#125;void Print_Factorial ( const int N )&#123; if( N &lt; 0 ) &#123; printf(\"Invalid input\"); return ; &#125; int a[10000]=&#123;0&#125;; a[0] = 1; int n =10000; for(int i=1;i&lt;=N;i++)&#123; mutliply(a,n,i); &#125; for(int i=n-1;i &gt;= 0; i--) printf(\"%d \",a[i]); &#125; æ€»ç»“ : å¦‚æœarr[0] = 1, åˆ™å¾—é€†åºè¾“å‡ºã€‚ ç”±äºè¦è€ƒè™‘å‰ç¼€0çš„åŸå› ï¼Œå¿…é¡»è€ƒè™‘ä½æ•°é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘çš„æ–¹æ³•ä¸€å¼€å§‹æ²¡æœ‰è€ƒè™‘ä½æ•°é—®é¢˜ï¼Œæœ€åå°±ç®—ä¸ä¸‹å»çš„åŸå› ã€ ä¿®æ”¹åé‡ç‰ˆ 123456789101112131415161718192021222324252627282930313233void mutliply(int a[],int *n,int b)&#123; int w = 0; //è¿›ä½ for(int j = 0 ;j &lt; *n; j++)&#123; // å¯¹ç›®å‰å­˜åœ¨æ¯ä¸€ä½ç›¸ä¹˜ int tmp = a[j] * b + w; //è¿™æ ·å†™ä¸ç”¨æ‹…å¿ƒ,ä¸ªä½å¤šäº†ååä½å…ˆè¿›äº†x,ç„¶ååä½åŸæœ‰y,ç»“æœä¸º(x+y)*bçš„æƒ…å†µ //å› ä¸ºè¿™æ ·å†™,åä½æ˜¯åŒæ—¶å¤„ç†çš„,è€Œä¸æ˜¯åƒa[j++]å…ˆåœ¨åä½åŠ ä¸Šwå,å†åœ¨åŠ ä¸Šwçš„åŸºç¡€ä¸Š*b a[j] = tmp %10; w = tmp / 10; &#125; while( w != 0)&#123; //æ¯”åŸæ¥nä½,è¿›ä½çš„æƒ…å†µ a[ *n ] = w %10; w /= 10; (*n) ++; //è¿™è¾¹å‡ºç°äº†ä¸ªè¿ç®—ä¼˜å…ˆçº§çš„é—®é¢˜ &#125;&#125;void Print_Factorial ( const int N )&#123; if( N &lt; 0 ) &#123; printf(\"Invalid input\"); return ; &#125; int a[10000]=&#123;0&#125;; a[0] = 1; int n = 1; //ä½æ•° for(int i=2; i &lt;= N;i++)&#123; //é˜¶ä¹˜çš„æ•°ç›® , ä»2å¼€å§‹,å¯ä»¥å°‘ç®—1ä¸ª1 , ç»“æœä¸€æ · mutliply(a,&amp;n,i); &#125; for(int i= n-1 ;i &gt;= 0; i--) printf(\"%d\",a[i]); // é€†åºè¾“å‡ºæ•°å­— &#125; å…³äº++ å’Œå–åœ°å€ç¬¦*çš„ä¼˜å…ˆçº§é¡ºåº 1.30 è›‡çš®å¡æ’åºé¢˜ 6-11 æ±‚è‡ªå®šç±»å‹å…ƒç´ åºåˆ—çš„ä¸­ä½æ•° å¼€å§‹ç”¨å†’æ³¡ç®—æ³•ï¼Œæœ€åä¸€ä¸ªæµ‹è¯•ç‚¹è¿‡ä¸å» ç”¨å¿«é€Ÿæ’åºï¼Œæœ€åä¸€ä¸ªæµ‹è¯•ç‚¹è¿‡ä¸å»ï¼Œæ•°æ®å¤ªå¤šæ•°ç›¸åŒï¼›æ•°æ®ç‰¹æ®Šå¯¼è‡´æ—¶é—´å¤æ‚åº¦é€€åŒ–ã€‚ ç”¨å¸Œå°”æ’åºï¼Œac æˆ‘çš„ä»£ç : é€‰æ‹©æ’åº 12345678910111213141516ElementType Median( ElementType A[], int N )&#123; for(int i= 0; i&lt; N-1 ; i++)&#123; int nmax = i; for( int j = i+1;j&lt;N;j++)&#123; if( A[nmax] &lt; A[j] ) nmax = j; &#125; if( nmax != i )&#123; int tmp = A[i]; A[i] = A[nmax]; A[nmax] = tmp; &#125; &#125; return A[ N /2 ];&#125; è¿è¡ŒåPEâ€¦ æœäº†é¢˜è§£,å‘ç°å…¨éƒ¨ç”¨çš„æ˜¯ å¸Œå°”æ’åº(shell_sort) å¸Œå°”æ’åºä¹Ÿæ˜¯ä¸€ç§æ’å…¥æ’åºï¼Œå®ƒæ˜¯ç®€å•æ’å…¥æ’åºç»è¿‡æ”¹è¿›ä¹‹åçš„ä¸€ä¸ªæ›´é«˜æ•ˆçš„ç‰ˆæœ¬ï¼Œä¹Ÿç§°ä¸ºç¼©å°å¢é‡æ’åº åŒæ—¶è¯¥ç®—æ³•æ˜¯å†²ç ´O(n2ï¼‰çš„ç¬¬ä¸€æ‰¹ç®—æ³•ä¹‹ä¸€ å…³äºå¸Œå°”æ’åºincrementï¼ˆå¢é‡ï¼‰çš„å–æ³• å¢é‡incrementçš„å–æ³•æœ‰å„ç§æ–¹æ¡ˆã€‚æœ€åˆshellæå‡ºå–increment=n/2å‘ä¸‹å–æ•´ï¼Œincrement=increment/2å‘ä¸‹å–æ•´ï¼Œç›´åˆ°increment=1ã€‚ä½†ç”±äºç›´åˆ°æœ€åä¸€æ­¥ï¼Œåœ¨å¥‡æ•°ä½ç½®çš„å…ƒç´ æ‰ä¼šä¸å¶æ•°ä½ç½®çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œè¿™æ ·ä½¿ç”¨è¿™ä¸ªåºåˆ—çš„æ•ˆç‡ä¼šå¾ˆä½ã€‚åæ¥Knuthæå‡ºå–increment=n/3å‘ä¸‹å–æ•´+1.è¿˜æœ‰äººæå‡ºéƒ½å–å¥‡æ•°ä¸ºå¥½ï¼Œä¹Ÿæœ‰äººæå‡ºincrementäº’è´¨ä¸ºå¥½ã€‚åº”ç”¨ä¸åŒçš„åºåˆ—ä¼šä½¿å¸Œå°”æ’åºç®—æ³•çš„æ€§èƒ½æœ‰å¾ˆå¤§çš„å·®å¼‚ã€‚ åŸæ–‡ï¼šhttps://blog.csdn.net/weixin_37818081/article/details/79202115 é¢˜è§£: 1234567891011121314151617181920212223242526272829303132333435363738394041424344// é¢˜è§£ä¸€ElementType Median( ElementType A[], int N)&#123; int i, j, Increment; ElementType Tmp; //å°†æ•°ç»„æ’åº for ( Increment = N / 2; Increment &gt; 0; Increment /= 2)&#123; for ( i = Increment; i &lt; N; i++)&#123; Tmp = A[ i ]; for (j = i;j &gt;= Increment ; j -= Increment )&#123; if ( Tmp &lt; A[ j - Increment ]) A[ j ] = A[ j - Increment ]; else break; &#125; A[ j ] = Tmp; &#125; &#125; return A[ N / 2 ];&#125;// é¢˜è§£äºŒ:void shell_sort(ElementType A[],int N);ElementType Median(ElementType A[],int N)&#123; if(N==1) return A[0]; shell_sort(A,N); return A[N/2];&#125;void shell_sort(ElementType A[],int N)&#123; int i,j,gap; // ä¸‰å±‚å¾ªç¯ for(gap=N/2;gap&gt;0;gap/=2) for(i=gap;i&lt;N;i++) for(j=i-gap; j&gt;=0 &amp;&amp; A[j]&gt;A[j+gap] ; j-=gap)&#123; // äº¤æ¢ä½ç½® ElementType temp=A[j]; A[j]=A[j+gap]; A[j+gap]=temp; &#125;&#125; åˆ¤æ–­å¥‡å¶æ€§ 1234int even( int n )&#123; return n%2==0; // ç”±äºä¼˜å…ˆçº§åŸå› , ä¸èƒ½å†™æˆ return !n%2;&#125; 6-13 æŠ˜åŠæŸ¥æ‰¾ é¢˜ç›®è¦æ±‚ 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;using namespace std;#define MAXSIZE 50typedef int KeyType;typedef struct&#123; KeyType key;&#125; ElemType;typedef struct&#123; ElemType *R; int length;&#125; SSTable;void Create(SSTable &amp;T)&#123; int i; T.R=new ElemType[MAXSIZE+1]; cin&gt;&gt;T.length; for(i=1;i&lt;=T.length;i++) // æ³¨æ„è¿™è¾¹æ„é€ çš„æ—¶å€™,ä¸‹æ ‡æ˜¯ä»1å¼€å§‹çš„, // æ‰€ä»¥ä¸‹é¢å†™äºŒåˆ†æœç´¢çš„LOW,HIGHä¹Ÿéœ€è¦ç›¸åº”çš„æ”¹ cin&gt;&gt;T.R[i].key;&#125;int Search_Bin(SSTable T, KeyType k);int main ()&#123; SSTable T; KeyType k; Create(T); cin&gt;&gt;k; int pos=Search_Bin(T,k); if(pos==0) cout&lt;&lt;\"NOT FOUND\"&lt;&lt;endl; else cout&lt;&lt;pos&lt;&lt;endl; return 0;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940// é¢˜è§£int Search_Bin(SSTable T, KeyType k)&#123; int low = 1 , high = T.length ; // ä¸‹æ ‡æ˜¯ 1, N int m; while( low &lt;= high)&#123; m = (low+high) / 2; if ( T.R[m].key == k ) return m ; else if (k&lt; T.R[m].key ) high = m-1; else low = m+1; &#125; return 0;&#125;// æ•°æ®ç»“æ„ä¹¦ä¸Š#include &lt;cstdio&gt;int binsearch(int a[],int N,int k)&#123; int low=0 ,high = N -1; // ä¸‹æ ‡æ˜¯ 0 , N-1 int m; while( low&lt;=high)&#123; m = (low +high ) /2 ; if( a[m] &lt; k) low = m+1; else if( a[m] &gt; k) high = m -1; else return m; &#125; return -1;&#125;int main()&#123; int a[10]; int N; scanf(\"%d\",&amp;N); for(int i= 0 ;i&lt;N ;i++) scanf(\"%d\",&amp;a[i]); int k; scanf(\"%d\",&amp;k); int pos = binsearch(a,N,k); if( pos == -1) printf(\"NOT FOUND\"); else printf(\" index is : %d\",pos); return 0;&#125; 1.31 ç¼–ç¨‹é¢˜ å˜ç±³æ¢ç®—è‹±å°ºè‹±å¯¸ 1234567891011#include&lt;cstdio&gt;int main()&#123; int N; while( scanf(\"%d\",&amp;N) == 1)&#123; int foot = N / 30.48; int inch = 12 * ( N / 30.48 - foot); // è¿™è¾¹çš„ N / 30.48 ç»“æœå¹¶ä¸æ˜¯æ•´æ•° , è€Œæ˜¯doubleç±»å‹çš„ printf(\"%d %d\\n\",foot, inch); &#125; return 0;&#125; 7-2 ç„¶åæ˜¯å‡ ç‚¹ é¢˜ç›®è€ƒå¯Ÿäº†å¯¹æå–ä¸åŒä½æ•°,å†ç»„åˆçš„èƒ½åŠ› 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;cstdio&gt;int main()&#123; int x,y; while( scanf(\"%d%d\",&amp;x,&amp;y) == 2)&#123; int hour_split = x/100; int reminderm = y % 60 + x%100; int moreh = reminderm / 60 ; int h = hour_split+ y / 60 + moreh; int leftm = reminderm % 60; printf(\"%d\\n\", h * 100 + leftm); &#125; return 0;&#125;// ç”±äºç¬¬ä¸€ç§æ²¡æœ‰è€ƒè™‘åˆ°è´Ÿæ•°çš„æƒ…å†µ,æ‰€ä»¥æ”¹è¿›å°±é¢å¤–åŠ äº†ä¸ªif#include &lt;cstdio&gt;int main()&#123; int x,y; int minush = 0; int h ; int moreh ; while( scanf(\"%d%d\",&amp;x,&amp;y) == 2)&#123; int hour_split = x/100; // æ ¹æ®xåˆ‡å‰²å‡ºåŸæ¥çš„å°æ—¶ int reminderm = y % 60 + x%100; // æ ¹æ®æä¾›çš„æµé€åˆ†é’Ÿæ•°,æ‰¾åˆ°ç»“åˆx,yåˆ†é’Ÿæ•°çš„ç»“æœ int leftm = reminderm % 60; // åŒºåˆ«ä¸»è¦æ˜¯è´Ÿæ•°æ—¶è¦é™åˆ¶ , é¢˜è§£ä¹Ÿæ˜¯å¦‚æ­¤æ€è·¯ //åˆ†é’Ÿåœ¨0-60ä¹‹å†…,å°æ—¶å‡å»ç›¸åº”çš„å€¼, ä½†æ˜¯å¾—è€ƒè™‘-20, y/60==0çš„æƒ…å†µ if( leftm &lt; 0 )&#123; moreh = reminderm / 60 - 1; int minusm = 60 + leftm ; // ç”±äºleftm &lt; 0 ä¸” åœ¨0-60ä¹‹å†…,æ‰€ä»¥minusmåœ¨0-60ä¹‹å†… h = hour_split+ y / 60 + moreh ; printf(\"%d\\n\", h * 100 + minusm ); &#125;else&#123; moreh = reminderm / 60 ; h = hour_split+ y / 60 + moreh; printf(\"%d\\n\", h * 100 + leftm ); &#125; &#125; return 0;&#125; é¢˜è§£ 1234567891011121314151617181920212223#include&lt;stdio.h&gt; int main()&#123; int basis, add; scanf(\"%d %d\", &amp;basis, &amp;add); if (add &gt;= 0)//æ³¨æ„é¢˜å¹²æŒ‡æ˜addå¯èƒ½ä¸ºè´Ÿçš„æƒ…å†µ &#123; int up = (basis % 100 + add) / 60; int min = (basis % 100 + add) % 60; int end = (basis / 100) * 100 + 100 * up + min; printf(\"%d\", end); &#125; else&#123; int down = (basis % 100 + add) / 60; int dmin = (basis % 100 + add) % 60; int end = (basis / 100) * 100 + 100 * down - 100 + 60 + dmin; // å¯¹å°æ—¶çš„æ“ä½œ (basis / 100) * 100 + 100 * down - 100 , å¤šäº†ä¸ªå‡100,å³-20/60==0çš„æƒ…å†µ // å¯¹åˆ†é’Ÿçš„æ“ä½œ 60 + dmin é™åˆ¶åœ¨ 0-60ä¹‹å†… printf(\"%d\", end); &#125; return 0;&#125;// ç›´æ¥åˆ†ä¸¤ä¸ªæƒ…å†µè®¨è®º,æ›´åŠ ç›´è§‚ 2.1 è´ªå¿ƒä¸“é¢˜ 2.2 7-3 é€†åºçš„ä¸‰ä½æ•° 123456789101112131415161718192021#include &lt;iostream&gt;using namespace std;int main()&#123; int N; while( cin &gt;&gt; N )&#123; int a = N/100; int b= N/10%10; int c= N%10; if( c == 0)&#123; if( b==0)&#123; cout &lt;&lt; a; &#125;else&#123; cout &lt;&lt; a + b*10; &#125; &#125;else&#123; cout &lt;&lt; 100 * c +10*b + a; &#125; &#125; return 0;&#125; 2.3 DPè®­ç»ƒ 2.4 é™¤å¤•è¿‡èŠ‚ 2.5 è¿‡å¹´ä¼‘æ¯ 2.6 å­—å…¸åºæ¯”è¾ƒâ€“&gt;è´ªå¿ƒ å¿«é€Ÿå¹‚ 123456789101112long long Mode(long long a, long long b, long long mode)&#123; long long sum = 1; a = a % mode; while (b &gt; 0) &#123; if (b % 2 == 1) sum = (sum * a) % mode; // åˆ¤æ–­æ˜¯å¦æ˜¯å¥‡æ•°ï¼Œæ˜¯å¥‡æ•°çš„è¯å°†å¤šå‡ºæ¥çš„æ•°äº‹å…ˆä¹˜å¦‚sum b /= 2; a = (a * a) % mode;// ä¸æ–­çš„ä¸¤ä¸¤åˆå¹¶å†å–æ¨¡ï¼Œå‡å°aå’Œbçš„è§„æ¨¡ &#125; return sum;&#125; å½“ç„¶æœ‰æ—¶å€™ä½ å¯èƒ½ä¼šç¢°åˆ°ç”¨&amp;çš„è¿ç®—ç¬¦çš„ä»£ç å®ç°ï¼Œå…¶å®å’Œè¿™ä¸ªå¤§è‡´ç›¸åŒï¼Œåªä¸è¿‡æ˜¯ç”¨&amp;æ“ä½œç¬¦å¯¹bçš„å¥‡å¶æ€§è¿›è¡Œåˆ¤æ–­è€Œå·² è¡¥å……:a=2 ,b=0 ,c=1 è¿™ç§å¾ˆç®€å•çš„æƒ…å†µå´ä¼šWA 123456789101112131415161718192021222324252627282930#include&lt;stdio.h&gt;#include&lt;iostream&gt;using namespace std;int main()&#123; int a,b,c; int ans=1; while(scanf(&quot;%d %d %d&quot;,&amp;a,&amp;b,&amp;c)!=EOF)&#123; //int ans = 1; if(b&gt;0)&#123; a=a%c; int h; h=b; while(h&gt;0) &#123; if(h%2==1) ans=(ans*a)%c; h=h/2; a=(a*a)%c; &#125;// if(b==0 &amp;&amp; c==1)// cout&lt;&lt;&quot;0&quot;&lt;&lt;endl; cout&lt;&lt;ans&lt;&lt;endl; &#125; else if(b==0 &amp;&amp; c==1) cout&lt;&lt;&quot;0&quot;&lt;&lt;endl; else if(b==0 &amp;&amp; c!=1) cout&lt;&lt;&quot;1&quot;&lt;&lt;endl; &#125; return 0; &#125; &amp;çš„æ“ä½œç¬¦ï¼š äºŒè¿›åˆ¶ä½ä¸­ï¼Œ1 &amp; 1 = 1ï¼Œå…¶ä½™ç»„åˆå‡ä¸º0 123456789101112long long Mode(long long a, long long b, long long mode)&#123; long long sum = 1; while (b) &#123; if (b &amp; 1) &#123; sum = (sum * a) % mode; b--; &#125; b /= 2; a = a * a % mode; &#125; return sum;&#125; 2.7 æ•°æ®è®°å½•: 65536 2162^{16}216 4 294 967 296 2322^{32}232 unsigned int 0ï½4294967295 int -2147483648ï½2147483647 ï¼ˆ10ä½ï¼‰ unsigned long 0ï½4294967295 long -2147483648ï½2147483647 long longçš„æœ€å¤§å€¼ 9223372036854775807 ï¼ˆ19ä½ï¼‰ long longçš„æœ€å°å€¼ï¼š -9223372036854775808 unsigned long longçš„æœ€å¤§å€¼ 1844674407370955161 __int64çš„æœ€å¤§å€¼ 9223372036854775807 __int64çš„æœ€å°å€¼ï¼š -9223372036854775808 unsigned __int64çš„æœ€å¤§å€¼ 18446744073709551615 ä¸€ä¸ªç”±C/C++ç¼–è¯‘çš„ç¨‹åºå ç”¨çš„å†…å­˜åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ† 1ã€æ ˆåŒºï¼ˆstackï¼‰â€” ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆã€‚ 2ã€å †åŒºï¼ˆheapï¼‰ â€” ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œ è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OSå›æ”¶ ã€‚æ³¨æ„å®ƒä¸æ•°æ®ç»“æ„ä¸­çš„å †æ˜¯ä¸¤å›äº‹ï¼Œåˆ†é…æ–¹å¼å€’æ˜¯ç±»ä¼¼äºé“¾è¡¨ï¼Œå‘µå‘µã€‚ 3ã€å…¨å±€åŒºï¼ˆé™æ€åŒºï¼‰ï¼ˆstaticï¼‰â€”ï¼Œå…¨å±€å˜é‡å’Œé™æ€å˜é‡çš„å­˜å‚¨æ˜¯æ”¾åœ¨ä¸€å—çš„ï¼Œåˆå§‹åŒ–çš„ å…¨å±€å˜é‡å’Œé™æ€å˜é‡åœ¨ä¸€å—åŒºåŸŸï¼Œ æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œæœªåˆå§‹åŒ–çš„é™æ€å˜é‡åœ¨ç›¸é‚»çš„å¦ ä¸€å—åŒºåŸŸã€‚ ç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ã€‚ 4ã€æ–‡å­—å¸¸é‡åŒº â€”å¸¸é‡å­—ç¬¦ä¸²å°± æ˜¯æ”¾åœ¨è¿™é‡Œçš„ã€‚ ç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ 5ã€ç¨‹åºä»£ç åŒºâ€”å­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ã€‚ 12345678910111213141516#include&lt;cstdio&gt;#include&lt;cstring&gt;#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;using namespace std;int c[20000][20000]; //åœ¨æœ¬äººç¯å¢ƒä¸­å…¨å±€æ•°ç»„èƒ½å¼€åˆ°20000*20000int main()&#123; int b[1024*505]; int b2[700*700]; char a[4*518028]; int b1[500000]; //5*10^5 å‡½æ•°ä¸­çš„charæ•°ç»„æœ€å¤§èƒ½å¼€4*518028ï¼Œintæœ€å¤§èƒ½å¼€åˆ°518028ã€‚ static int c[20000][20000]; //staticèƒ½å¼€åˆ°10^7*10^7ã€‚ æ³¨æ„ staticå’Œ å…¨å±€å¼€çš„æ˜¯åŒä¸€å—ç©ºé—´ printf(\"1\");&#125;; å››èˆäº”å…¥,å°æ•°ç‚¹ä½æ•° ä¿®æ”¹C++çš„è¾“å‡ºæµï¼Œ å¯¹å°æ•°ä¼šè¿›è¡Œå››èˆäº”å…¥ c++é»˜è®¤çš„æµè¾“å‡ºæ•°å€¼æœ‰æ•ˆä½æ˜¯6ï¼ŒåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼Œè‹¥æ•°å€¼è¶…å‡º6ä½ï¼Œåˆ™ç¬¬ä¸ƒä½å››èˆäº”å…¥åˆ°6ä½æ•° fixed ï¼šæµ®ç‚¹å€¼æ˜¾ç¤ºä¸ºå®šç‚¹åè¿›åˆ¶ã€‚ é»˜è®¤æ˜¯å°æ•°6ä½æ•°ï¼Œä¸åŒ…å«æ•´æ•°ï¼Œè‹¥å°æ•°ä½è¶…å‡º6ä½ï¼Œåˆ™å››èˆäº”å…¥åˆ°6ä½æ•° 123456789101112131415161718192021222324252627282930#include &lt;iomanip&gt;// éœ€è¦å¼•å…¥è¿™ä¸ªå¤´æ–‡ä»¶#include &lt;iostream&gt;using namespace std;int main()&#123; double PI = -3.14125001; cout &lt;&lt; setprecision(5); cout &lt;&lt; PI; return 0;&#125;// &gt;&gt;&gt; -3.1413int main()&#123; double PI = -3.14125001; cout&lt;&lt; setiosflags(ios::fixed); // â–² cout &lt;&lt; setprecision(5); cout &lt;&lt; PI; return 0;&#125;// &gt;&gt;&gt; -3.14125/*æ‹“å±•ï¼šå¦‚æœä¸setiosnags(ios::scientific)åˆç”¨ï¼Œ å¯ä»¥æ§åˆ¶æŒ‡æ•°è¡¨ç¤ºæ³•çš„å°æ•°ä½æ•°ã€‚setiosflags(ios::scientific)æ˜¯ç”¨æŒ‡æ•°æ–¹å¼è¡¨ç¤ºå®æ•°ã€‚cout &lt;&lt; setiosflags(ios::scientific) &lt;&lt; setprecision(3);&gt;&gt;&gt; -3.141e+000*/ 1.setprecision(n)æŒ‡å®šä¸€ä¸ªæµ®ç‚¹æ•°çš„ç²¾åº¦é»˜è®¤è®¾ç½®è¾“å‡ºçš„æ•°å­—çš„æ€»ä½æ•°ä¸ºnï¼ŒåŒ…å«æ•´æ•°å’Œå°æ•°éƒ¨åˆ†ï¼›å…¶ä¸­setprecisionï¼ˆ0ï¼‰æ•ˆæœæ˜¯è·Ÿc++é»˜è®¤çš„æµè¾“å‡ºæ•°å€¼ä¸€æ ·ï¼Œæœ‰æ•ˆä½æ˜¯6ä½ï¼ŒåŒ…æ‹¬æ•´æ•°å’Œå°æ•° 2.fixedï¼šå¿…é¡»ä¸setprecision(n)é…åˆä½¿ç”¨ï¼Œç”¨æ¥æ§åˆ¶å°æ•°ä½æ•°ï¼Œä¸å¤Ÿè¡¥0ï¼Œåªè¦å†™ä¸€æ¬¡fixedï¼Œåé¢çš„setprecisionï¼ˆnï¼‰å°±éƒ½æ˜¯æŒ‡å°æ•°äº†ã€‚ fixedä¸setprecisionè°å…ˆè°åæ²¡æœ‰å…³ç³»ï¼Œä½†é€šå¸¸æ˜¯fixedåœ¨å‰å…ˆå›ºå®š6ä½å°æ•°ï¼ˆè‹¥æ­¤æ—¶å°æ•°å·²ç»è¶…å‡º6ä½ï¼Œåˆ™å…ˆå››èˆäº”å…¥åˆ°6ä½ï¼‰å†precision(n)å–nä½å°æ•°ï¼ˆn&lt;6ï¼‰ 3.å¦‚æœä¸setiosnags(ios::scientific)åˆç”¨ï¼Œ å¯ä»¥æ§åˆ¶æŒ‡æ•°è¡¨ç¤ºæ³•çš„å°æ•°ä½æ•°ã€‚setiosflags(ios::scientific)æ˜¯ç”¨æŒ‡æ•°æ–¹å¼è¡¨ç¤ºå®æ•°ã€‚ 4.resetiosflags(ios::fixed)å–æ¶ˆç²¾åº¦çš„è®¾ç½®ã€‚ å››èˆäº”å…¥è¿›æ•´ 1234567#include &lt;iomanip&gt;int main()&#123; double PI = 3.51; cout &lt;&lt; setprecision(1); cout &lt;&lt; \"PI:\" &lt;&lt; PI; return 0;&#125;","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://nymrli.top/tags/Algorithm/"},{"name":"C","slug":"C","permalink":"https://nymrli.top/tags/C/"}]},{"title":"12-27 Team Leader","slug":"12-27-Team-Leader","date":"2019-01-19T12:40:37.000Z","updated":"2019-09-15T08:07:30.906Z","comments":true,"path":"2019/01/19/12-27-Team-Leader/","link":"","permalink":"https://nymrli.top/2019/01/19/12-27-Team-Leader/","excerpt":"","text":"How Is An Excellent Team Leader A couple of days ago, my friend and I took part in a science and technology competition which was completed by a team of four. Usually, The person who can come up with the best idea is the caption, leading or so-called principal. For the reason, I was the principal of the team which consists of the same teammates last time. And this time, someone came up with a better idea, so the principal changed and not me. Iâ€™m not saying that changing is bad, or that Iâ€™m unsatisfied with it that I didnâ€™t continue to play such an important role. At the beginning, everything is ok and everyone is full of fighting spirit. We have more than 30 days to finish this work, but actually the workload is only about 6 days at most. As a team that has completed several works together, we still keep the excellent habit of meeting and discussing regularly. Maybe it isnâ€™t as important as the last one, or maybe the division is so clear that nothing has to be discussed always. Everyone has his work, and takes responsibility to his own job, so it seems very easy to solve the project. In fact, we spent lots of time laughing and talking together and fussing around trifles, instead of really discussing the problem. There was nothing wrong at that time. The problem occurred three days before the start of the evaluation. Everyone had finished his own work and waited to consolidate the modules and summarize all the work. This is a good proposal, but if fact, two people are debugging the code, while the other two people are working at their own job, can this be called discussion or teamwork? Itâ€™s natural to do with their own things if they have finished what they should do. However, what makes me angry is that we are both up to my ears in work while the others who are free feel nothing to do with himself. We hoped they could come to our aid, but they even didnâ€™t understand what was wrong and not to mention what to do. To sum up, there was a communication problem which reflected in the form of failing to cope with workâ€™s distribution. I have said just now that the division is very clear and easy. There were four people in the competition team, but the work was divided into three modules: SCM, machine learning, and Web services. So itâ€™s enough for three people to do this and we felt easy and relaxed also. Nobody complained about there was somebody doing nothing. But maybe when it comes to the principal, the condition is different. First of all, as a team leader, he may be criticized if he doesnâ€™t do anything. This is still a small matter. The most important thing is efficiency. What really pissed me off that night was that the summary didnâ€™t end from 8:30 p.m. to 11:00 p.m., and the biggest reason was that no one knew exactly how to tackle it. And that lies about the principal. Although, he did a good job in the report which needs the structural diagram of the whole work and even designed the flow chart. The project needed supervision and urging, and he had completed it well. Every weekend, he tries to organize the gather everyone. Also, he gets on well with teammates and so on. It can be said he is basically qualified. However, I must pointed out that he is not a good leader by no means. First of all, he only did the things required by the competition, such as the system block diagram, but he did not manage the division of labor and summary of each of us in length. Whatâ€™s more, he only organized and attended each discussion symbolically. He neither discussed the project with any purpose nor proposed any better suggestion. He organized the discussion formally for several times and seemed quite responsible. But thatâ€™s a waste of time, in my view, the biggest difference between a responsible person and no responsible person is reflected in the organization. A good organization can improve the efficiency, while a poor organization is just dispensable or even wasteful. It wasnâ€™t as easy as I thought it would be that day. Eventually, it took us three more meetings before we actually assembled the work. During this period, I couldnâ€™t bear to give suggestions to principal that You can do nothing, but you have to know our progress and what we are doing. â€˜Of course,â€™ he replied. â€˜thatâ€™s why I come to every discussion, just to get a sense of where youâ€™re going,or I donâ€™t have to come.â€™ I was speechless, for there seemed to be nothing wrong with it. The biggest conflict occurred the night before the game, when a module that had been available suddenly broke down. After several previous quarrels, it was difficult for me and principal to discuss together. But this is a very serious question, how to make decisions now. Do it the same as before? Or abandon all the previous modules to implement the worst solution? After I put forward the proposal of starting again as soon as possible, he finally led the people to carry out the worst plan. And this is without my knowledge. They followed worked on worst plan all afternoon, and all looked very frustrated. I realized that they didnâ€™t follow my plan until they said they had a problem that was a little difficult to solve. I was so angry that I called them and asked them why they didnâ€™t do what I said. They were vague, and I called them names because I thought they could do it if they did what I told them. So, I immediately met with them, it was raining, the atmosphere was very depressed, the leader did not speak, the other two players looked very depressed. At that time, I tried not to shout at the wrong leader. and first I stressed that we could definitely make it if we continued to do it. After inspiring for a while, everyone seemed quite motivated, so I immediately lead them to try in this direction. Fortunately, we solved the problem again in less than two hours. What I want to say is that all teams will confront with difficulties, and then there must be a strong and confident person to lead the team to a good direction, rather than thinking about how not to lose his face and take a not smart solution. Later, the principal reflected it was tight at that time, and we had some conflicts before, so he did not want to prove that he could not solve the problem. Thatâ€™s the whole story, a very verbose story. Iâ€™m not talking about how good I am at what I do. I want to emphasize that as a good leader, one must think for the team and improve the efficiency of the team fundamentally, instead of wasting everyoneâ€™s time by being formalistic. And As a leader of a team itâ€™s important that the first thing that comes to mind is how to solve the problem better, instead of escaping from the trouble. I just want to save my face and make a bad but not wrong decision. Last but not least, full of confidence and fighting spirit, can actively lead the team to success. If you do not believe in yourself, how can you let others believe in yourself. Further, the ideal leader, in addition to giving a good direction of effort, but also can help members solve the actual problems encountered, of course, this is difficult and just the ideal situation. Because it is difficult for anyone to understand all aspects, I dare to make such a decision this time, and I am confident that I can succeed in doing so, largely because I known about the modules which everyone should be responsible for. This is what I learned from this competition, what I understand the responsible leader should behave like.Thanks.","categories":[],"tags":[{"name":"English Speaking","slug":"English-Speaking","permalink":"https://nymrli.top/tags/English-Speaking/"},{"name":"ç”Ÿæ´»å°è®°","slug":"ç”Ÿæ´»å°è®°","permalink":"https://nymrli.top/tags/ç”Ÿæ´»å°è®°/"}]},{"title":"é˜¿é‡Œäº‘nginx+wsgiéƒ¨ç½²flask","slug":"é˜¿é‡Œäº‘nginx-wsgiéƒ¨ç½²flask","date":"2019-01-17T13:33:14.000Z","updated":"2019-10-23T11:46:35.930Z","comments":true,"path":"2019/01/17/é˜¿é‡Œäº‘nginx-wsgiéƒ¨ç½²flask/","link":"","permalink":"https://nymrli.top/2019/01/17/é˜¿é‡Œäº‘nginx-wsgiéƒ¨ç½²flask/","excerpt":"","text":"äº‘æœåŠ¡å™¨nginx+wsgiéƒ¨ç½²flask æ›´æ–°æº 12sudo apt-get update -ysudo apt-get upgrade -y å®‰è£…nginx 123sudo apt-get install nginx -ysudo /etc/init.d/nginx start #(startå¯ä»¥æ”¹æˆrestart/stop)#æˆ–æ˜¯sudo service nginx start ç„¶åæµè§ˆå™¨è¾“å…¥æœåŠ¡å™¨IPæˆ–æ˜¯127.0.0.1,è§‚å¯Ÿæ˜¯å¦æœ‰welcom to nginx! å®‰è£…py3å’Œvirtualenv 12sudo apt-get install git python3 python3-pip -ysudo pip3 install virtualenv ä¿®æ”¹pythonç‰ˆæœ¬: æ³•ä¸€:(ä¸å»ºè®®) 123456789$ gedit ~/.bashrc #gedit .bash_aliasesåœ¨é¡¶éƒ¨åŠ å…¥ä¸€è¡Œalias python=python3$ source ~/.bashrc #æˆ–æ˜¯source ~/.bash_aliases o$ python --versionå°±ä¼šå‘ç°æ˜¯Python 3.5.2å•¦/*orOpen your .bashrc file nano ~/.bashrc. Type alias python=python3 on to a new line at the top of the file then save the file with ctrl+o and close the file with ctrl+x. Then, back at your command line type source ~/.bashrc. Now your alias should be permanent.*/ Ubuntu16.04åˆ‡æ¢python3å’Œpython2 â–².åˆ‡æ¢Python3ä¸ºé»˜è®¤ç‰ˆæœ¬ï¼š(å»ºè®®) 12sudo update-alternatives --install /usr/bin/python python /usr/bin/python2 100sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 150 åˆ‡æ¢Python2ä¸ºé»˜è®¤ç‰ˆæœ¬ï¼š 1$ sudo update-alternatives --config python å®‰è£…è™šæ‹Ÿç¯å¢ƒ virtualenv 123$ cd /var/www# æœ€å¥½æŒ‡å®šä¸‹pythonè§£é‡Šå™¨$ sudo virtualenv -p /usr/bin/python3 env35 pipenv 1$ pipenv install MySQL 123456789$ sudo apt install mysql-server mysql-client -y$ cd /etc/mysql/mysql.conf.d$ mysql -p -u root&gt; password for root:&gt; use mysql;&gt; GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;&gt; flush privileges; æœ€åæŒ‰Ctrl + z é€€å‡º å®‰è£…ã€æµ‹è¯•uwsgi 1$ sudo pip3 install uwsgi ç¼–è¾‘/var/wwwä¸‹çš„uwsgi.ini 123456789101112[uwsgi]chdir=/home/apollo3d/Documents/Beidou wsgi-file=wsgi.pyhome=/home/apollo3d/Documents/envcallable=app; master=Trueprocesses=10socket= :81chmod socket=666vacuum=Truemax-requests=5000#pythonpath=/var/www/env ç¼–è¾‘/var/wwwä¸‹çš„nginx.conf 1234567891011121314server &#123; listen 80; server_name 127.0.0.1; charset utf-8; client_max_body_size 75M; location /static&#123; alias /home/apollo3d/Documents/Beidou/static; &#125;location / &#123; include uwsgi_params; uwsgi_pass 127.0.0.1:81;# uwsgi_param UWSGI_PYHOME /home/apollo3d/Documents/Beidou/env; uwsgi_param UWSGI_SCRIPT app:app; # å¯åŠ¨flaskçš„æ–‡ä»¶:Flaskçš„å®ä¾‹&#125; 2004/10/20 | ç¼–è¾‘/var/wwwä¸‹çš„uwsgi_params 12345678910111213141516uwsgi_param QUERY_STRING $query_string;uwsgi_param REQUEST_METHOD $request_method;uwsgi_param CONTENT_TYPE $content_type;uwsgi_param CONTENT_LENGTH $content_length; uwsgi_param REQUEST_URI $request_uri; uwsgi_param PATH_INFO $document_uri; uwsgi_param DOCUMENT_ROOT $document_root; uwsgi_param SERVER_PROTOCOL $server_protocol; uwsgi_param REQUEST_SCHEME $scheme; uwsgi_param HTTPS $https if_not_empty; uwsgi_param REMOTE_ADDR $remote_addr; uwsgi_param REMOTE_PORT $remote_port; uwsgi_param SERVER_PORT $server_port; uwsgi_param SERVER_NAME $server_name; è½¯è¿æ¥ 1234$ rm /etc/nginx/sites-enabled/default$ cd /etc/nginx/sites-enabled$ sudo ln -s /var/www/nginx.conf Beidou$ ls é‡å¯nginx sudo /etc/init.d/nginx restart è¿è¡Œuwsgi 12cd /var/wwwuwsgi --ini uwsgi.ini è®©uwsgiè‡ªå¯åŠ¨ vim /etc/rc.local(æ³¨æ„éè™šæ‹Ÿç¯å¢ƒä¹Ÿå¾—å®‰è£…uwsgiæ¨¡å—) 123æ·»åŠ ä¸‹é¢ä»£ç :/usr/local/bin/uwsgi --ini /var/www/uwsgi.iniexit 0 uwsgiçš„çƒ­å¯åŠ¨ åœ¨uwsgi.iniä¸­åŠ å…¥ py-autoreload=1 é‡å¯ä¸€ä¸‹:killall -9 uwsgiã€/usr/local/bin/uwsgi --ini /var/www/uwsgi.ini æ€»ç»“ å…³äºetc/ linit. d å¦‚æœä½ ä½¿ç”¨è¿‡inuxç³»ç»Ÿ,é‚£ä¹ˆä½ ä¸€å®šå¬è¯´è¿‡ init. dç›®å½•,è¿™ä¸ªç›®å½•åˆ°åº•æ˜¯å¹²å˜›çš„å‘¢?å®ƒå½’æ ¹ç»“åº•åªåšäº†ä¸€ä»¶äº‹æƒ…,ä½†è¿™ä»¶äº‹æƒ…éåŒå°å¯,æ˜¯ä¸ºæ•´ä¸ªç³»ç»Ÿåšçš„,å› æ­¤å®ƒéå¸¸é‡è¦ã€‚init.dç›®å½•åŒ…å«è®¸å¤šç³»ç»Ÿå„ç§æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢è„šæœ¬ å…³äº /etc/rc.local rc.localä¹Ÿæ˜¯æˆ‘ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªè„šæœ¬,è¯¥è„šæœ¬æ˜¯åœ¨ç³»ç»Ÿåˆå§‹åŒ–çº§åˆ«è„šæœ¬è¿è¡Œä¹‹åå†æ‰§è¡Œçš„,å› æ­¤å¯ä»¥å®‰â€™, 'åœ°åœ¨é‡Œé¢æ·»åŠ ä½ æƒ³åœ¨ç³»ç»Ÿå¯åŠ¨ä¹‹åæ‰§è¡Œçš„è„šæœ¬. æ€»ç»“ Linuxæ˜¯çµæ´»çš„,æ­£å› ä¸ºå®ƒçš„çµæ´»æ€§,æˆ‘ä»¬æ€»æ˜¯å¯ä»¥æ‰¾åˆ°è®¸å¤šä¸åŒçš„åŠæ³•æ¥è§£å†³åŒä¸€ä¸ªé—®é¢˜ï¼ŒæœåŠ¡çš„ä¾‹å­å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½è¯,æœ‰äº† /etc/init.dç›®å½•ä¸‹çš„è„šæœ¬,å†åŠ ä¸Š /etc/rc. localè¿™ä¸ªåˆ©å™¨ï¼Œä½ å¯ä»¥æ”¾å¿ƒçš„ç¡®ä¿ä½ çš„æœåŠ¡å¯ä»¥å®Œç¾çš„å¯åŠ¨å’Œè¿è¡Œ /etc/nginx/sites-available/default 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586### You should look at the following URL&apos;s in order to grasp a solid understanding# of Nginx configuration files in order to fully unleash the power of Nginx.# http://wiki.nginx.org/Pitfalls# http://wiki.nginx.org/QuickStart# http://wiki.nginx.org/Configuration## Generally, you will want to move this file somewhere, and start with a clean# file but keep this around for reference. Or just disable in sites-enabled.## Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.### Default server configuration#server &#123; listen 80 default_server; listen [::]:80 default_server; # SSL configuration # # listen 443 ssl default_server; # listen [::]:443 ssl default_server; # # Note: You should disable gzip for SSL traffic. # See: https://bugs.debian.org/773332 # # Read up on ssl_ciphers to ensure a secure configuration. # See: https://bugs.debian.org/765782 # # Self signed certs generated by the ssl-cert package # Don&apos;t use them in a production server! # # include snippets/snakeoil.conf; root /var/www/html; # Add index.php to the list if you are using PHP index index.html index.htm index.nginx-debian.html; server_name _; location / &#123; # First attempt to serve request as file, then # as directory, then fall back to displaying a 404. try_files $uri $uri/ =404; &#125; # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ &#123; # include snippets/fastcgi-php.conf; # # # With php7.0-cgi alone: # fastcgi_pass 127.0.0.1:9000; # # With php7.0-fpm: # fastcgi_pass unix:/run/php/php7.0-fpm.sock; #&#125; # deny access to .htaccess files, if Apache&apos;s document root # concurs with nginx&apos;s one # #location ~ /\\.ht &#123; # deny all; #&#125;&#125;# Virtual Host configuration for example.com## You can move that to a different file under sites-available/ and symlink that# to sites-enabled/ to enable it.##server &#123;# listen 80;# listen [::]:80;## server_name example.com;## root /var/www/example.com;# index index.html;## location / &#123;# try_files $uri $uri/ =404;# &#125;#&#125;","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"flask","slug":"flask","permalink":"https://nymrli.top/tags/flask/"}]},{"title":"å‰ç«¯Vueæ¡†æ¶å­¦ä¹ ","slug":"å‰ç«¯Vueæ¡†æ¶å­¦ä¹ ","date":"2019-01-17T12:47:22.000Z","updated":"2022-02-24T12:33:14.145Z","comments":true,"path":"2019/01/17/å‰ç«¯Vueæ¡†æ¶å­¦ä¹ /","link":"","permalink":"https://nymrli.top/2019/01/17/å‰ç«¯Vueæ¡†æ¶å­¦ä¹ /","excerpt":"","text":"å‰ç«¯Vueæ¡†æ¶å­¦ä¹ (æœªå®Œ) MVVMæ¨¡å‹ vueifyä»‹ç» æ‰€è°“vueifyï¼Œå°±æ˜¯ä½¿ç”¨.vueæ ¼å¼çš„æ–‡ä»¶å®šä¹‰ç»„ä»¶ï¼Œä¸€ä¸ª.vueæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªç»„ä»¶ã€‚ åœ¨.vueæ–‡ä»¶å®šä¹‰çš„ç»„ä»¶å†…å®¹åŒ…æ‹¬3éƒ¨åˆ†ï¼š &lt;style&gt;&lt;/style&gt;æ ‡ç­¾ï¼šå®šä¹‰ç»„ä»¶æ ·å¼ &lt;template&gt;&lt;/template&gt;æ ‡ç­¾ï¼šå®šä¹‰ç»„ä»¶æ¨¡æ¿ &lt;script&gt;&lt;/script&gt;æ ‡ç­¾ï¼šå®šä¹‰ç»„ä»¶çš„å„ç§é€‰é¡¹ï¼Œæ¯”å¦‚data, methodsç­‰ã€‚ Vueç”Ÿå‘½å‘¨æœŸ ä½¿ç”¨Vueçš„åˆæ¬¡æ“ä½œ åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ 123456var c = new Vue(&#123; //åˆå§‹åŒ–ä¸€ä¸ªVueå¯¹è±¡ el: '#box', //å¯¹è±¡,åé¢è·Ÿçš„æ˜¯é€‰æ‹©å™¨ el(æ˜¯elementç¼©å†™, æŒ‡å®šæŒ‚è½½vueç¤ºä¾‹çš„å…ƒç´  data : &#123; //æ•°æ®æˆå‘˜,å¿…é¡»ç”¨å…³é”®å­—data msg:'welcome' &#125;&#125;) å®Œæ•´çš„htmlé¡µé¢ 1234567891011121314151617181920212223&lt;html&gt;&lt;head&gt; &lt;script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"&gt;&lt;/script&gt; &lt;script&gt; window.onload=function (ev) &#123; new Vue(&#123; el: '#box', data:&#123; msg:'hello' &#125; &#125;) &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=\"box\"&gt; &#123;&#123;msg&#125;&#125; &lt;!--&lt;li&gt;&lt;/li&gt;--&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; æ³¨ï¼štemplateå¿…é¡»æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªdiv å¸¸ç”¨æŒ‡ä»¤ v-modelä¸€èˆ¬æ˜¯æ”¾åœ¨è¡¨å•ä¸­,å®ç°äº†åŒå‘ç»‘å®š 123456//å¦‚ä¸Šåˆå§‹åŒ–ä¸€ä¸ªVueå®ä¾‹&lt;div id='box'&gt; &lt;input type='text' v-model=\"msg\" &gt; //\"åŒå‘ç»‘å®š\",ä¿®æ”¹è¾“å…¥æ¡†å†…å®¹,msgå†…å®¹ä¹Ÿä¼šæ”¹å˜ &lt;br&gt; &#123;&#123;msg&#125;&#125;&lt;/div&gt; v-model è¢«ç§°ä¸º Vue çš„æŒ‡ä»¤ï¼ŒæŒ‡ä»¤å¯ä»¥ç”¨æ¥åšå¾ˆå¤šäº‹ï¼Œæ¯”å¦‚ç”¨äº if æ¡ä»¶åˆ¤æ–­çš„ v-ifï¼Œç”¨äºç»‘å®šå€¼çš„ v-bindã€ç”¨äºç»‘å®šç›‘å¬äº‹ä»¶çš„ v-on ç­‰ç­‰ï¼Œè¿™åœ¨ä»¥åä¼šæ¥è§¦åˆ°ã€‚è€Œè¿™ä¸ª v-model æŒ‡ä»¤çš„ä½œç”¨æ˜¯å°† input å…ƒç´  value å±æ€§çš„å€¼å’Œæˆ‘ä»¬åˆ›å»ºçš„ Vue å¯¹è±¡ä¸­ value çš„å€¼è¿›è¡Œç»‘å®šï¼Œæˆ‘ä»¬çŸ¥é“ input æœ‰ä¸€ä¸ª value å±æ€§ï¼Œå®ƒçš„å€¼ä¼šåœ¨æµè§ˆå™¨æ˜¾ç¤ºï¼ˆä¾‹å¦‚åé¢é‚£ä¸ª button æŒ‰é’®çš„å‘é€ï¼‰ï¼ŒVue å°†è¿™ä¸ªå€¼ç»‘å®šåï¼Œåœ¨ input ä¸­å¼•èµ·çš„ value å€¼å˜åŒ–å°±ä¼šå®æ—¶åæ˜ åˆ°å…³è”çš„ Vue å¯¹è±¡ï¼Œæ‰€ä»¥ä¼šçœ‹åˆ°ä¸‹æ–¹å¼•ç”¨çš„ ä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚ v-repeat===&gt;v-for=&quot;å˜é‡å in æ•°ç»„&quot; ä½¿ç”¨å˜é‡çš„è¯,ä½¿ç”¨ç´¢å¼• 1234567/* data:&#123;msg:'hello',array:['he','bo','ce']&#125;*/&lt;li v-for=\"value in array\"&gt;&#123;&#123;value&#125;&#125;&lt;/li&gt; v-text è®¾ç½®æ ‡ç­¾çš„æ–‡æœ¬ 1234567891011&lt;div id=&quot;app&quot;&gt; &lt;h2 v-text=&quot;message&quot;&gt;&lt;/h2&gt; // ç¼ºç‚¹æ˜¯ä¼šå°†å…ƒç´ å†…çš„æ‰€æœ‰å†…å®¹éƒ½æ›¿æ¢æˆmessage &lt;h2&gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt; // æ’å€¼è¡¨è¾¾å¼ä¼˜ç‚¹æ˜¯å¯ä»¥æ‹¼æ¥åŠ è¡¨è¾¾å¼ï¼Œæ›´çµæ´»&lt;/div&gt;var app = new Vue(&#123; el: &quot;#app&quot;, data:&#123; message: &quot;Hello&quot; &#125;&#125;) v-html è®¾ç½®æ ‡ç­¾çš„innerHTMLï¼Œ å¦‚æœè®¾ç½®çš„æ˜¯æ™®é€šæ–‡æœ¬åˆ™æ•ˆæœè·Ÿv-textç›¸åŒï¼Œå¦‚æœæ˜¯htmlè¯­æ³•åˆ™ä¼šè¢«æ­£ç¡®è§£æ 1234567891011121314151617// vue3&lt;div id=&quot;example1&quot; class=&quot;demo&quot;&gt; &lt;p&gt;ä½¿ç”¨åŒå¤§æ‹¬å·çš„æ–‡æœ¬æ’å€¼: &#123;&#123; rawHtml &#125;&#125;&lt;/p&gt; &lt;p&gt;ä½¿ç”¨ v-html æŒ‡ä»¤: &lt;span v-html=&quot;rawHtml&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt; &lt;script&gt;const RenderHtmlApp = &#123; data() &#123; return &#123; rawHtml: &apos;&lt;span style=&quot;color: red&quot;&gt;è¿™é‡Œä¼šæ˜¾ç¤ºçº¢è‰²ï¼&lt;/span&gt;&apos; &#125; &#125;&#125; Vue.createApp(RenderHtmlApp).mount(&apos;#example1&apos;)&lt;/script&gt; v-onä¾¦å¬Domäº‹ä»¶ å› ä¸º Vue å¹¶ä¸çŸ¥é“æˆ‘ä»¬ç‚¹å‡»äº†æŒ‰é’®ï¼Œä¸ºäº†è®© Vue ç›‘å¬åˆ°æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®çš„äº‹ä»¶ï¼Œéœ€è¦åœ¨è¢«ç‚¹å‡»çš„å…ƒç´ ä¸Šç»‘å®šä¸€ä¸ª click äº‹ä»¶ï¼Œå‰é¢è¯´è¿‡ç»‘å®šäº‹ä»¶ç”¨ v-onã€‚ä»£ç å¦‚ä¸‹ 123456789101112131415161718window.onload=function () &#123; new Vue(&#123; el: &apos;#box&apos;, data:&#123; msg:&apos;hello&apos;, array:[&apos;he&apos;,&apos;bo&apos;,&apos;ce&apos;] &#125;, methods :&#123; //æ³¨æ„æ˜¯methods , è€Œä¸æ˜¯method show:function () &#123; alert(1); &#125; &#125; &#125;) &#125; &lt;body&gt; &lt;input type=&quot;button&quot; value=&quot;æŒ‰é’®&quot; v-on:click=&quot;show()&quot;&gt; &lt;/body&gt; é™¤äº†èƒ½ç»‘å®šclickä»¥å¤–ï¼Œv-onè¿˜èƒ½ç»‘å®šå¦‚ä¸‹äº‹ä»¶ï¼š click @click.stopï¼š é˜»æ­¢å†’æ³¡äº‹ä»¶ @click.prevent: é˜»æ­¢é»˜è®¤äº‹ä»¶ mousedown dblclick mouseover mouseout æ³¨ï¼šv-on:click=func()å¯ä»¥ç›´æ¥çœç•¥å†™æˆ@click=&quot;func()&quot; v-bind ç”¨äºç»‘å®šå±æ€§ï¼ˆå€¼ã€ç±»â€¦â€¦ï¼‰ï¼Œè·Ÿv-onä¸€æ ·æœ‰çœç•¥å†™æ³•ï¼Œ v-bind:classâ€“&gt;:class= 123456&lt;div id=&quot;app&quot;&gt; &lt;input type=&quot;text&quot; v-bind:class=&apos;&#123;empty: !count&#125;&apos; v-model=&quot;value&quot;&gt; ...&lt;/div&gt; Vue ä¼šæ ¹æ® empty åçš„è¡¨è¾¾å¼ !count çš„çœŸå‡æ¥åˆ¤æ–­ class çš„å€¼æ˜¯å¦ä¸º emptyï¼Œå¦‚æœä¸ºçœŸï¼ˆå³ count = 0 çš„æƒ…å†µï¼‰ï¼Œåˆ™ class çš„å€¼ä¸º emptyï¼Œå¦åˆ™ä¸ºç©ºã€‚ v-for ä¸€èˆ¬è¿ç”¨åœ¨&lt;ul&gt;, &lt;ol&gt;ä¸Šï¼Œ å¦‚&lt;ul v-for=&quot;(item, index) in todoList&quot; :key=&quot;index&quot; &gt; 123&lt;li v-for=&quot;item in arr&quot;&gt; &#123;&#123; item &#125;&#125;&lt;/li&gt; 123 &lt;li v-for=&quot;(item, index) in arr&quot;&gt; &#123;&#123; index, item &#125;&#125;&lt;/li&gt; æ³¨ï¼šåœ¨v-forä¸­å¿…é¡»è¦æœ‰:keyï¼Œè¿™ä¸ªæ˜¯liçš„æ ‡è¯†ç¬¦ä»¥åŒºåˆ«ï¼Œ ä¸€èˆ¬æ˜¯è®¾ç½®ä¸ºç´¢å¼•ã€‚ v-if å¯ä»¥è¿ç”¨åœ¨v-forçš„å•ä¸ªitemä¸‹ï¼Œ å¦‚&lt;li v-if=&quot;item.done === true&quot;&gt; 1234567&lt;ol class=&quot;demo-box&quot; v-for=&quot;(item, index) in todoList&quot; :key=&quot;index&quot;&gt; &lt;li v-if=&quot;item.done === false&quot;&gt; &lt;input type=&quot;checkbox&quot; @change=&quot;changeTodo(index, true)&quot;&gt; &lt;p&gt;&#123;&#123;item.todo&#125;&#125;&lt;/p&gt; &lt;a @click=&quot;deleteTodo(index, true)&quot;&gt;-&lt;/a&gt; &lt;/li&gt;&lt;/ol&gt; æ³¨ï¼š v-ifæ˜¯ç›´æ¥çš„åˆ‡æ¢ç»“æ„ï¼Œæ‰€ä»¥é€šè¿‡å˜é‡æ¥æ˜¾ç¤ºæ˜¾ç¤ºå’Œéšè— ==&gt;v-showæ˜¯ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼ˆåªèƒ½æ§åˆ¶ä¸€ä¸ªå…ƒç´ çš„æ˜¾ç¤ºï¼‰ v-slot slotçš„ä½œç”¨æ˜¯æŒ‡å®šå ä½ç¬¦ï¼Œç•™ä¸‹æ’æ§½è®©å…¶ä»–çš„å†…å®¹å¡«å……è¿›æ¥ 1234567891011&lt;div class=\"container\"&gt; &lt;header&gt; &lt;slot name=\"header\"&gt;&lt;/slot&gt; &lt;/header&gt; &lt;main&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/main&gt; &lt;footer&gt; &lt;slot name=\"footer\"&gt;&lt;/slot&gt; &lt;/footer&gt;&lt;/div&gt; åœ¨å‘å…·åæ’æ§½æä¾›å†…å®¹çš„æ—¶å€™ï¼Œæœ‰ä¸ªç­‰ä»·çš„å†™æ³•ï¼š æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª &lt;template&gt; å…ƒç´ ä¸Šä½¿ç”¨ v-slot æŒ‡ä»¤ï¼Œå¹¶ä»¥ v-slot çš„å‚æ•°çš„å½¢å¼æä¾›å…¶åç§°ï¼š Vue3ï¼ˆå…¶å®ä»2.6å¼€å§‹ï¼‰ä¸­å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æŒ‡ä»¤v-slotï¼Œç”¨æ¥è¡¨ç¤ºå…·åæ’æ§½å’Œé»˜è®¤æ’æ§½ 123456789101112131415161718&lt;!-- default slot --&gt;// slotå ä½, modal.vue&lt;slot&gt;&lt;/slot&gt;// slotæ¨¡æ¿, used.vue&lt;foo v-slot=\"&#123; msg &#125;\"&gt; &#123;&#123; msg &#125;&#125;&lt;/foo&gt;&lt;!-- named slot --&gt;// slotå ä½, modal.vue&lt;slot name=\"one\"&gt;&lt;/slot&gt;// slotæ¨¡æ¿, used.vue&lt;foo&gt; &lt;template v-slot:one=\"&#123;msg&#125;\"&gt; &#123;&#123; msg &#125;&#125; &lt;/template&gt; &lt;/foo&gt; æ’æ§½æŒ‡ä»¤çš„ç¼©å†™ï¼š å’Œ v-bind(:attr)å’Œv-on(@func)ç›¸ä¼¼ï¼Œç¼©å†™åªæœ‰åœ¨å­˜åœ¨å‚æ•°æ—¶æ‰ç”Ÿæ•ˆï¼Œè¿™å°±æ„å‘³ç€v-slotæ²¡æœ‰å‚æ•°æ—¶ä¸èƒ½ä½¿ç”¨#xx=yyã€‚å¯¹äºé»˜è®¤æ’æ§½ï¼Œå¯ä»¥ä½¿ç”¨#defaultæ¥ä»£æ›¿v-slot, å¦‚#header=&quot;{ msg }&quot;=&gt;v-slot:header=&quot;{ msg }&quot; æ³¨ï¼šæ³¨æ„ v-slot åªèƒ½æ·»åŠ åœ¨ &lt;template&gt; ä¸Š (åªæœ‰ä¸€ç§ä¾‹å¤–æƒ…å†µ)ï¼Œè¿™ä¸€ç‚¹å’Œå·²ç»åºŸå¼ƒçš„ slot attribute ä¸åŒã€‚ templateæ ‡ç­¾ templateçš„ä½œç”¨æ˜¯æ¨¡æ¿å ä½ç¬¦ï¼Œå¯å¸®åŠ©æˆ‘ä»¬åŒ…è£¹å…ƒç´ ï¼Œä½†åœ¨å¾ªç¯è¿‡ç¨‹å½“ä¸­ï¼Œtemplateä¸ä¼šè¢«æ¸²æŸ“åˆ°é¡µé¢ä¸Š 1234&lt;template v-for=\"(item, index) in list\" :key=\"item.id\"&gt; &lt;div&gt;&#123;&#123;item.text&#125;&#125;--&#123;&#123;index&#125;&#125;&lt;/div&gt; &lt;span&gt;&#123;&#123;item.text&#125;&#125;&lt;/span&gt;&lt;/template&gt; å¸¸è§ç”¨é€”æ˜¯ï¼š å°†forå†…å®¹æä¾›ç»™åŒ…å«çš„div ä¸ºå­ç»„ä»¶å ä½ çˆ¶å­ç»„ä»¶é—´é€šä¿¡æ•°æ® 1ã€ çˆ¶å‘å­ä¼ é€’: Props çˆ¶ç»„ä»¶æœ‰æ•°æ®ï¼Œéœ€è¦é€šè¿‡å­ç»„ä»¶æ¥å±•ç¤º 12345678910111213141516171819202122232425262728293031323334353637383940&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt; &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt; &lt;Test :list=&quot;list&quot;/&gt; &lt;Board/&gt; &lt;/div&gt;&lt;/template&gt;export default &#123; name: &apos;App&apos;, components: &#123; HelloWorld, Test &#125;, data()&#123; return &#123; list : [&quot;he&quot;,&quot;we&quot;,&quot;en&quot;] &#125; &#125;&#125;&lt;template&gt; &lt;ul v-for=&quot;l in list&quot; :key=&quot;l&quot;&gt; &lt;li&gt;&#123;&#123; l &#125;&#125;&lt;/li&gt; &lt;/ul&gt;&lt;/template&gt;export default (&#123; name: &quot;Test&quot;, data()&#123; return &#123; a: 1 &#125; &#125;, props:&#123; list: Array &#125;, ...&#125;) 2ã€å­å‘çˆ¶ä¼ é€’ï¼š $emit åœ¨å­ç»„ä»¶ä¸Šå¢æ·»äº†æ•°æ®ï¼Œéœ€è¦å›ä¼ ç»™çˆ¶ç»„ä»¶ Vueå®ä¾‹å±æ€§ data â–²æ³¨æ„åŒºåˆ«ï¼Œ new App{}ä¸­çš„dataæ˜¯å±æ€§ï¼Œ ä½†componentä¸­çš„æ˜¯å‡½æ•°ï¼Œ``dataproperty in component must be a function methods:{} computed:{} éœ€è¦é€šè¿‡è®¡ç®—å¾—åˆ°æ–°çš„å˜é‡ 12345678910111213141516computed: &#123; newName: function()&#123; // é»˜è®¤çš„è®¾ç½®æ˜¯getæ–¹æ³• return this.firstName + this.lastName &#125; // ç­‰ä»·äº newName: &#123; get: function()&#123; // é€šè¿‡åŸæœ‰æ•°æ®äº§ç”Ÿæ–°æ•°æ® return this.firstName + this.lastName &#125; set: function(value)&#123; // é€šè¿‡æ–°æ•°æ®ä¿®æ”¹åŸæœ‰æ•°æ® let arr = value.split(&quot; &quot;) this.firstName = arr[0] this.lastName = arr[1] &#125; &#125;&#125; watch 12345678910111213141516data()&#123; x: 15, y: &quot;T-shirt&quot;&#125;,watch: &#123; // è¢«ç›‘å¬çš„å¯¹è±¡å‘ç”Ÿå˜åŒ–åæ‰§è¡Œå‡½æ•° x: function()&#123; if (this.x &gt;26 ) &#123; this.y = &quot;åŠè¢–&quot; &#125;else if (this.x &lt;= 26 &amp;&amp; this.x &gt; 0)&#123; this.y = &quot;T-shirt&quot; &#125;else&#123; this.y = &quot;None&quot; &#125; &#125;&#125; computed ç›¸ watch åŒºåˆ« computedæ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶ä»–å±æ€§è®¡ç®—å€¼ï¼Œå¹¶ä¸”computedçš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å½“è®¡ç®—å€¼å˜åŒ–æ‰ä¼šè¿”å›å†…å®¹ã€‚ watchï¼Œç›‘å¬çš„å€¼å‘ç”Ÿå˜åŒ–å°±ä¼šæ‰§è¡Œå›è°ƒï¼Œåœ¨å›è°ƒä¸­å¯ä»¥è¿›è¡Œä¸€äº›é€»è¾‘æ“ä½œã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´éœ€è¦ä¾èµ–åˆ«çš„å±æ€§æ¥åŠ¨æ€è·å¾—å€¼çš„æ—¶å€™å¯ä»¥ä½¿ç”¨computedï¼Œå¯¹äºç›‘å¬åˆ°å€¼çš„å˜åŒ–éœ€è¦åšä¸€äº›å¤æ‚ä¸šåŠ¡é€»è¾‘çš„æƒ…å†µå¯ä»¥ä½¿ç”¨ â€“&gt;v-showåˆ‡æ¢ä¸Šæ€§èƒ½æ›´å¥½ï¼Œ v-ifåˆæ¬¡åŠ è½½æ€§èƒ½æ›´å¥½ ä¸€ä¸ªè¾ƒä¸ºå®Œæ•´çš„æ —å­ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132&lt;template&gt; &lt;div&gt; &lt;header&gt; &lt;section&gt; &lt;label for=&quot;title&quot;&gt;ToDoList&lt;/label&gt; &lt;input type=&quot;text&quot; v-model=&quot;todo&quot; @keyup.enter=&quot;addTodo&quot; placeholder=&quot;æ·»åŠ ToDo&quot; /&gt; &lt;/section&gt; &lt;/header&gt; &lt;section&gt; &lt;h2&gt;æ­£åœ¨è¿›è¡Œ &lt;span&gt;1&lt;/span&gt; &lt;/h2&gt; &lt;ol class=&quot;demo-box&quot; v-for=&quot;(item, index) in todoList&quot; :key=&quot;index&quot;&gt; &lt;li v-if=&quot;item.done === false&quot;&gt; &lt;input type=&quot;checkbox&quot; @change=&quot;changeTodo(index, true)&quot;&gt; &lt;p&gt;&#123;&#123;item.todo&#125;&#125;&lt;/p&gt; &lt;a @click=&quot;deleteTodo(index, true)&quot;&gt;-&lt;/a&gt; &lt;/li&gt; &lt;/ol&gt; &lt;h2&gt;å·²ç»å®Œæˆ &lt;span&gt;&#123;&#123;todoList.length - todoLen&#125;&#125;&lt;/span&gt; &lt;/h2&gt; &lt;ul v-for=&quot;(item, index) in todoList&quot; :key=&quot;index&quot; &gt; &lt;li v-if=&quot;item.done === true&quot;&gt; &lt;input type=&quot;checkbox&quot; @change=&quot;changeTodo(index,false)&quot; checked=&apos;checked&apos;&gt; &lt;p&gt;&#123;&#123;item.todo&#125;&#125;&lt;/p&gt; &lt;a @click=&quot;deleteTodo(index,false)&quot;&gt;-&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/section&gt;&lt;footer&gt;Copyright &amp;copy; 2014 todolist.cn&lt;a @click=&quot;clearData()&quot;&gt;clear&lt;/a&gt;&lt;/footer&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import * as Utils from &apos;@/utils/utils&apos;export default &#123; name: &apos;HelloWorld&apos;, props: &#123; msg: String &#125;, data () &#123; return &#123; todo: &apos;&apos;, todoList: [], todoLen: 0 &#125; &#125;, methods: &#123; addTodo () &#123; // ç­‰ä»·äº addTodo: function ()&#123; let todoObj = &#123; todo: this.todo, done: false &#125; var tempList = Utils.getItem(&apos;todoList&apos;) if (tempList) &#123; tempList.push(todoObj) Utils.setItem(&apos;todoList&apos;, tempList) &#125; else &#123; var tempData = [] tempData.push(todoObj) Utils.setItem(&apos;todoList&apos;, tempData) &#125; this.todoList.push(todoObj) this.todoLen++ this.todo = &apos;&apos; &#125;,deleteTodo (index, done) &#123; if(done)&#123; this.todoLen-- &#125; this.todoList.splice(index, 1) Utils.setItem(&apos;todoList&apos;, this.todoList) &#125;,changeTodo (index, done) &#123; if (done) &#123; this.todoLen-- this.todoList[index].done = true Utils.setItem(&apos;todoList&apos;, this.todoList) &#125; else &#123; this.todoLen++ this.todoList[index].done = false Utils.setItem(&apos;todoList&apos;, this.todoList) &#125;&#125;, initTodo () &#123; var todoArr = Utils.getItem(&apos;todoList&apos;) if (todoArr) &#123; for (let i = 0, len = todoArr.length; i &lt; len; i++) &#123; if (todoArr[i].done === false) &#123; this.todoLen++ &#125; &#125; this.todoList = todoArr &#125; &#125;, clearData () &#123; localStorage.clear() this.todoList = [] this.todoLen = 0 &#125; &#125;, mounted () &#123; this.initTodo() &#125;&#125;&lt;/script&gt;&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;&lt;style scoped&gt;h3 &#123; margin: 40px 0 0;&#125;ul &#123; list-style-type: none; padding: 0;&#125;li &#123; display: inline-block; margin: 0 10px;&#125;a &#123; color: #42b983;&#125;&lt;/style&gt; Bæ•™ç¨‹ï¼š https://www.bilibili.com/video/BV1b54y1J77i?p=10&amp;spm_id_from=pageDriverâ€”â€”åŸºç¡€æŒ‡ä»¤ https://www.bilibili.com/video/BV1EK4y1u7vk?p=31â€”â€”è¿›é˜¶ï¼šaxiosã€routerã€vuex ç½‘ç»œé€šä¿¡axios axiosï¼šå®˜æ–¹æ¨èä½¿ç”¨ æ•™ç¨‹ï¼šhttps://zhuanlan.zhihu.com/p/266977438 1234567891011121314 ppp()&#123; axios(&#123; url:&apos;http://123.207.32.32:8000/home/multidata&apos;, // paramsæ˜¯é’ˆå¯¹getè¯·æ±‚çš„å‚æ•°æ‹¼æ¥ params:&#123; type:&apos;pop&apos;, pageï¼š1 &#125; &#125;).then(res =&gt; &#123; console.log(res) &#125;)// æ³¨ï¼šaxiosæ–¹æ³•é»˜è®¤è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œæ‰€ä»¥åœ¨åé¢å¯ä»¥ç›´æ¥ç”¨thenå¤„ç†è¯·æ±‚å›æ¥çš„æ•°æ®// method:&apos;get&apos; è®¾ç½®è¯·æ±‚çš„ç±»å‹ï¼Œé»˜è®¤ä¸ºget&#125; GETæ–¹æ³•: 1234567891011axios.get( &apos;http://123.207.32.32:8000/home/multidata&apos;, // paramsæ˜¯é’ˆå¯¹getè¯·æ±‚çš„å‚æ•°æ‹¼æ¥ &#123; params:&#123; type:&apos;pop&apos;, page:1&#125; &#125; ).then(res =&gt; &#123; console.log(res)&#125;) POSTæ–¹æ³•ï¼š 12345678910axios.post(&apos;/user&apos;, &#123; firstName: &apos;Fred&apos;, // å‚æ•° firstName lastName: &apos;Flintstone&apos; // å‚æ•° lastName &#125;) .then(function (response) &#123; console.log(response); &#125;) .catch(function (error) &#123; console.log(error); &#125;); å¹¶å‘è¯·æ±‚ 1234567891011function getUserAccount() &#123; return axios.get(&apos;/user/12345&apos;);&#125;function getUserPermissions() &#123; return axios.get(&apos;/user/12345/permissions&apos;);&#125;axios.all([getUserAccount(), getUserPermissions()]) .then(axios.spread(function (acct, perms) &#123; // ä¸¤ä¸ªè¯·æ±‚ç°åœ¨éƒ½æ‰§è¡Œå®Œæˆ &#125;)); vueä¸­çš„hå‡½æ•°æ€»ç»“ å¤§å®¶éƒ½çŸ¥é“renderå‡½æ•°åœ¨vueä¸­éå¸¸é‡è¦ï¼Œä½†å…¶å®æœ¬è´¨ä¸Šæ‰§è¡Œæ¸²æŸ“å·¥ä½œçš„æ˜¯hå‡½æ•°ï¼Œæœ¬è´¨ä¸Šä¹Ÿå°±æ˜¯createElementå‡½æ•°ï¼ 1234567891011121314 const app = new Vue(&#123; Â·Â·Â· Â·Â·Â· render: h =&gt; h(App) &#125;) // ç­‰ä»·å†™æ³• const app = new Vue(&#123; Â·Â·Â· Â·Â·Â· render:function(createElement)&#123; return createElment(App) &#125; &#125;) //å‚æ•°1ï¼šè¦ä¼ é€’çš„ç»„ä»¶åå­—//å‚æ•°2ï¼šè¦ä¼ é€’ç»„ä»¶çš„propsï¼Œä¸”propsæ˜¯ä»€ä¹ˆæ ¼å¼ï¼Œè¿™é‡Œå°±å°½é‡ä»€ä¹ˆæ ¼å¼ï¼Œå¦‚å¯¹è±¡æ ¼å¼ï¼Œå°±åº”è¯¥å¯¹è±¡æ ¼å¼ hå‡½æ•°å°±æ˜¯vueä¸­çš„createElementæ–¹æ³•ï¼Œè¿™ä¸ªå‡½æ•°ä½œç”¨å°±æ˜¯åˆ›å»ºè™šæ‹Ÿdomï¼Œè¿½è¸ªdomå˜åŒ–çš„ã€‚ã€‚ã€‚ è™šæ‹Ÿdomç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„JavaScriptå¯¹è±¡ï¼ŒåŒ…å«tagï¼Œpropsï¼Œchildrenä¸‰ä¸ªå±æ€§ã€‚ã€‚ã€‚ 1234567891011121314151617181920212223&lt;div id=\"app\"&gt; &lt;p className=\"text\"&gt;lxc&lt;/p&gt;&lt;/div&gt;// ä¸Šè¾¹çš„HTMLä»£ç è½¬ä¸ºè™šæ‹ŸDOMå¦‚ä¸‹ï¼š&#123; tag:\"div\", props:&#123; id:\"app\" &#125;, children:[ &#123; tag:\"p\", props:&#123; className:\"text\" &#125;, children:[ \"lxc\" ] &#125; ]&#125;// è¯¥å¯¹è±¡å°±æ˜¯æ‰€è°“çš„è™šæ‹Ÿdomï¼Œå› ä¸ºdomå¯¹è±¡æ˜¯å±æ€§ç»“æ„ï¼Œæ‰€ä»¥ä½¿ç”¨JavaScriptå¯¹è±¡å°±å¯ä»¥ç®€å•è¡¨ç¤ºã€‚è€ŒåŸç”Ÿdomæœ‰è®¸å¤šå±æ€§ã€äº‹ä»¶ï¼Œå³ä½¿åˆ›å»ºä¸€ä¸ªç©ºdivä¹Ÿè¦ä»˜å‡ºæ˜‚è´µçš„ä»£ä»·ã€‚// è€Œè™šæ‹Ÿdomæå‡æ€§èƒ½çš„ç‚¹åœ¨äºDOMå‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œé€šè¿‡diffç®—æ³•å¯¹æ¯”ï¼Œè®¡ç®—å‡ºéœ€è¦æ›´æ”¹çš„DOMï¼Œåªå¯¹å˜åŒ–çš„DOMè¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯æ›´æ–°æ•´ä¸ªè§†å›¾ã€‚ã€‚ã€‚ Good: vue ä¸­çš„hå‡½æ•° Vue-router å®‰è£…vue-cliå’Œvue-router: ç¬¬ä¸€ä¸ªvueç¨‹åºï¼ˆhtmlé›†æˆvueï¼‰åªéœ€è¦scriptå¯¼å…¥vueçš„jså³å¯ï¼Œå¦‚æœæ˜¯vueå·¥ç¨‹åˆ™é€šè¿‡vue-cliæ¥å»ºç«‹ 1.æ–°å»ºvueå·¥ç¨‹ @vue/cli-init vue init æ˜¯vue-cli2.xçš„åˆå§‹åŒ–æ–¹å¼ vue init ï¼š éœ€è¦npm i -g @vue/cli-init vue init webpack [project-name], webpackä¸ºæ¨¡æ¿&lt;generate a project from a remote template&gt;ï¼Œç„¶åæŒ‰ç…§äº¤äº’ä¿¡æ¯æç¤ºè¾“å…¥å³å¯å®Œæˆå·¥ç¨‹åˆ›å»º initåˆ›å»ºå·¥ç¨‹æ—¶ï¼Œäº¤äº’ä¿¡æ¯ä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯é€‰æ‹©åŒ…ç®¡ç†å·¥å…·ï¼š npmã€yarnï¼Œä¸¤è€…è§ @vue/cli ä¼šè®©é€‰æ‹©Vue2è¿˜æ˜¯Vue3 vue create router_project: éœ€è¦npm install -g @vue/cli vue uié€šè¿‡UIåˆ›å»ºï¼š éœ€è¦npm install -g @vue/cli vue create [project-name] æ³¨ï¼šç»æµ‹è¯•ï¼ŒVue CLI v4.5.15ä¼šæç¤ºé€‰æ‹©yarnè¿˜æ˜¯npmï¼›@vue/cli 4.5.13æ²¡æç¤º==&gt;åæ¥å‘ç°è²Œä¼¼æ˜¯å¹³å°çš„åŒºåˆ«ï¼Œlinuxä¸Šä¼šæç¤ºé€‰æ‹©ï¼Œwinä¸Šé»˜è®¤æ˜¯yarn Vue CLI çš„åŒ…åç§°ç”±vue-cliå·²ç»æ”¹æˆäº†@vue/cliï¼Œå¦‚æœé€šè¿‡vue-cliæ¥æ„å»ºVue3é¡¹ç›®åˆ™éœ€è¦é€šè¿‡ npm uninstall vue-cli -g æˆ– yarn global remove vue-cli å¸è½½å®ƒï¼Œç„¶åå®‰è£…@vue/cliï¼Œå¹¶ä¸”@vue/cliå®‰è£…å¥½åï¼Œå¦‚æœä¸å®‰è£…yarnï¼Œé‚£ä¹ˆåœ¨vue createåˆ›å»ºçš„æ—¶å€™æŠ¥é”™ERROR Error: spawn yarn ENOENT npm init vite-app hello-vue Vue3åˆšå‘å¸ƒä¸ä¹…ï¼Œå®˜æ–¹æ–‡æ¡£ä¸­æ¨èçš„åˆ›å»ºæ–¹æ³•ä¹‹ä¸€å°±æ˜¯é€šè¿‡è„šæ‰‹æ¶Viteæ¥åˆ›å»ºä¸€ä¸ªvue3é¡¹ç›® éœ€è¦å®‰è£…create-vite-app 123456$ npm init vite-app vue3-vite Scaffolding project in F:\\Documents\\HBuilderProjects\\vue3-vite...Done. Now run:$ cd vue3-vite$ npm install (or `yarn`)$ npm run dev (or `yarn dev`) å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ—¶éœ€è¦è¿›å…¥é¡¹ç›®ç›®å½•åï¼Œé‡Œé¢æ²¡æœ‰package-lockæˆ–è€…yarn.locaï¼Œè€Œæ˜¯éœ€è¦è‡ªå·±ä¸»åŠ¨é€‰æ‹©åŒ…ç®¡ç†å·¥å…·è¿›è¡Œå®‰è£…ä¾èµ–çš„ï¼›vue createå’Œvue initçš„ä¸éœ€è¦å¯ä»¥ç›´æ¥è¿è¡Œ @vitejs/app npm init @vitejs/appç„¶åé€‰æ‹©projectçš„æ¡†æ¶ æ³¨ï¼š2æ—¢å¯ä»¥åˆ›å»ºVue2ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºvue3ï¼›3åªèƒ½åˆ›å»ºvue3ï¼›åœ¨åˆ›å»ºé€Ÿåº¦ä¸Šï¼Œæ³•3æ¯”æ³•2å¿«ä¸Šå¾ˆå¤š 2.ç¼–å†™vueç»„ä»¶ 1234567891011121314151617181920212223242526&lt;-- HelloWord.vue --&gt;&lt;template&gt; &lt;div&gt; ä½ å¥½ &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default (&#123; name: &quot;Content&quot;&#125;)&lt;/script&gt; &lt;-- Content.vue --&gt;&lt;template&gt; &lt;div&gt; ä½ å¥½ &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default (&#123; name: &quot;Content&quot;&#125;)&lt;/script&gt; 3. ç¼–å†™router åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºrouteræ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºindex.jsæ–‡ä»¶ï¼Œéœ€è¦è·¯ç”±çš„ç»„ä»¶å…¨åœ¨è¿™é‡Œé¢è§„å®šå¥½ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839/* * @Author: Mrli * @Date: 2021-07-29 16:19:37 * @LastEditTime: 2021-07-29 16:45:56 * @Description: */import Vue from \"vue\"import VueRouter from \"vue-router\"import Content from \"../components/Content.vue\"import HelloWorld from \"../components/HelloWorld.vue\"Vue.use(VueRouter)export default new VueRouter(&#123; mode: \"history\", routes:[ &#123; path: \"/hello\", name: \"Hello\", component: HelloWorld &#125;, &#123; path: \"/content\", name: \"Content\", component: Content, // è·¯ç”±åµŒå¥— children: [ &#123; path:'/user/profile', component: Profile &#125;, &#123; path:'/user/userlist', component: Userlist &#125; ] &#125; ]&#125;) 4. æŒ‚è½½router-view app.vueä¸­ä½¿ç”¨è·¯ç”± 12345678910111213141516171819202122232425&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt; &lt;router-link to=&quot;/hello&quot;&gt;hello&lt;/router-link&gt; &lt;router-link to=&quot;/content&quot;&gt;content&lt;/router-link&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: &apos;app&apos;,&#125;&lt;/script&gt;&lt;style&gt;#app &#123; font-family: Avenir, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-align: center; color: #2c3e50; margin-top: 60px;&#125;&lt;/style&gt; 5.æŒ‚è½½router å°†è·¯ç”±ä¿¡æ¯æš´éœ²ç»™Vueå®ä¾‹ä½¿ç”¨, main.js 123456789101112import Vue from 'vue';import App from './App.vue';// å¯¼å…¥å®šä¹‰å¥½çš„routeræ¨¡å—import router from './router';Vue.config.productionTip = falsenew Vue(&#123; el: \"#app\", router, render: h =&gt; h(App),&#125;).$mount('#app') æ³¨ï¼šæŒ‰é’®ç‚¹å‡»åè·³è½¬ï¼Œåœ¨methodçš„functionä¸­å¯ä»¥é€šè¿‡this.$router.push(&quot;/hello&quot;)è·³è½¬åˆ°æŒ‡å®šè·¯ç”±ã€‚ è·¯ç”±åµŒå¥— åœ¨çˆ¶ç»„ä»¶A.vueä¸­è¿›è¡Œè·¯ç”±è·³è½¬ A.vue 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162&lt;template&gt; &lt;div&gt; &lt;el-container&gt; &lt;el-aside width=&quot;200px&quot;&gt; &lt;el-menu :default-openeds=&quot;[&apos;1&apos;, &apos;3&apos;]&quot;&gt; &lt;el-submenu index=&quot;1&quot;&gt; &lt;template slot=&quot;title&quot;&gt;&lt;i class=&quot;el-icon-message&quot;&gt;&lt;/i&gt;ä¼šå‘˜ç®¡ç†&lt;/template&gt; &lt;el-menu-item-group&gt; &lt;el-menu-item index=&quot;1-1&quot;&gt; &lt;!-- è·¯å¾„åŒ¹é…ä¼ å‚ï¼šä¸¤ç§æ–¹å¼ --&gt; &lt;!-- &lt;router-link to=&quot;/member/level/2&quot;&gt;ä¼šå‘˜ç­‰çº§&lt;/router-link&gt; --&gt; &lt;router-link :to=&quot;&#123;name: &apos;MemberLevel&apos;, params: &#123;id:3&#125;&#125;&quot;&gt;ä¼šå‘˜ç­‰çº§&lt;/router-link&gt; &lt;/el-menu-item&gt; &lt;el-menu-item index=&quot;1-2&quot;&gt;ä¼šå‘˜ç§¯åˆ†&lt;/el-menu-item&gt; &lt;el-menu-item index=&quot;1-3&quot;&gt; &lt;router-link to=&quot;/member/list&quot;&gt;ä¼šå‘˜åˆ—è¡¨&lt;/router-link&gt; &lt;/el-menu-item&gt; &lt;/el-menu-item-group&gt; &lt;/el-submenu&gt; &lt;el-submenu index=&quot;2&quot;&gt; &lt;template slot=&quot;title&quot;&gt;&lt;i class=&quot;el-icon-menu&quot;&gt;&lt;/i&gt;å•†å“ç®¡ç†&lt;/template&gt; &lt;el-menu-item-group&gt; &lt;el-menu-item index=&quot;2-1&quot;&gt;é€‰é¡¹1&lt;/el-menu-item&gt; &lt;el-menu-item index=&quot;2-2&quot;&gt;é€‰é¡¹2&lt;/el-menu-item&gt; &lt;/el-menu-item-group&gt; &lt;/el-submenu&gt; &lt;/el-menu&gt; &lt;/el-aside&gt; &lt;el-container&gt; &lt;el-header style=&quot;text-align: right; font-size: 12px&quot;&gt; &lt;el-dropdown&gt; &lt;i class=&quot;el-icon-setting&quot; style=&quot;margin-right: 15px&quot;&gt;&lt;/i&gt; &lt;el-dropdown-menu slot=&quot;dropdown&quot;&gt; &lt;el-dropdown-item&gt;ç”¨æˆ·ä¸­å¿ƒ&lt;/el-dropdown-item&gt; &lt;/el-dropdown-menu&gt; &lt;/el-dropdown&gt; &lt;span&gt;ç‹å°è™&lt;/span&gt; &lt;/el-header&gt; &lt;!-- é‡ç‚¹æ˜¯è¿™è¡Œï¼Œ å±•ç¤ºå­ç»„ä»¶ --&gt; &lt;el-main&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/el-main&gt; &lt;/el-container&gt; &lt;/el-container&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default (&#123; name: &quot;Main&quot;&#125;)&lt;/script&gt; index.js 123456789101112131415161718192021222324252627282930import Vue from \"vue\"import VueRouter from \"vue-router\"import Main from \"../views/Main\"import MemberLevel from \"../views/Member/MemberLevel\"import MemberList from \"../views/Member/MemberList\"Vue.use(VueRouter)export default new VueRouter(&#123; mode: \"history\", routes: [ &#123; name: \"main\", path: \"/main\", component: Main, children: [ &#123; name: \"MemberList\", path: \"/member/list\", component: MemberList &#125;, &#123; name: \"MemberLevel\", path: \"/member/level/:id\", component: MemberLevel &#125;, ] &#125; ] &#125;) MemberLevel.vue 12345&lt;template&gt; &lt;div&gt; ä¼šå‘˜ç­‰çº§ ID: &#123;&#123; $route.params.id &#125;&#125; &lt;/div&gt;&lt;/template&gt; å¦‚æœindex.jså’ŒMemberLevel.vueé‡‡ç”¨propsï¼Œ åˆ™å¯ä»¥ç›´æ¥å†™ æ³¨ï¼š ä¸¤ç§æ–¹å¼è·³è½¬: &lt;route-link to=&quot;/member/level/3&quot;&gt;&lt;/route-link&gt; &lt;route-link :to=&quot;{name: 'MemberLevel', params: {id: 'xxx'}}&quot;&gt;&lt;/route-link&gt; --&gt;toåŠ äº†å†’å·åï¼Œåé¢å¯ä»¥è·Ÿå¯¹è±¡ ç»„ä»¶é‡å®šå‘ é‡å®šå‘çš„æ„æ€å¤§å®¶éƒ½æ˜ç™½ï¼Œä½†Vueä¸­çš„é‡å®šå‘æ˜¯ä½œç”¨åœ¨è·¯å¾„ä¸åŒä½†ç»„ä»¶ç›¸åŒçš„æƒ…å†µä¸‹ 1234567891011//index.js &#123; name: \"Main\", path: \"/main/:name\", component: Main, ...&#125;,&#123; path: \"/goMain/:name\", redirect: \"/main/:name\"&#125; è¯´æ˜ï¼šè¿™é‡Œå®šä¹‰äº†ä¸¤ä¸ªè·¯å¾„ï¼Œä¸€ä¸ªæ˜¯/mainï¼Œä¸€ä¸ªæ˜¯/goMainï¼Œå…¶ä¸­/goMainé‡å®šå‘åˆ°äº†/mainè·¯å¾„ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºé‡å®šå‘ä¸éœ€è¦å®šä¹‰ç»„ä»¶ï¼› Main.vue 12345&lt;el-menu-item index=&quot;1-3&quot;&gt; &lt;router-link to=&quot;/goMain/admin123&quot;&gt;å›åˆ°é¦–é¡µ&lt;/router-link&gt;&lt;/el-menu-item&gt;&lt;span&gt;&#123;&#123; $route.params.name &#125;&#125;&lt;/span&gt; æ•´åˆElementUI Vueåªå…³æ³¨è§†å›¾å±‚ï¼Œä½†æ²¡æœ‰UIç•Œé¢ï¼Œ ç±»ä¼¼Bootstrapï¼š Bootstrap æ˜¯ä¸ª cssæ¡†æ¶ï¼Œç±»ä¼¼jqueryMoblieä¸€æ ·,åªéœ€è¦ç»™æ ‡ç­¾åŠ classå°±è¡Œäº†ã€‚Bootstrap éœ€è¦ .css + .js ï¼Œç”±äºä¾èµ–jqery,æ‰€ä»¥éœ€è¦å°†jquery.jsä¹Ÿå¯¼å…¥ ElementUIæ•™ç¨‹ å®‰è£…ï¼š 1234567891011121314# åˆ›å»ºå¥½å·¥ç¨‹vue create &lt;projectName&gt;# å®‰è£…elementUInpm i element-ui -S# npm install vue-router --save-dev# ä»¥ä¸‹çš„åœ¨ä¸Šè¿°æ— æ³•æ¸²æŸ“çš„æƒ…å†µä¸‹æ·»åŠ # å®‰è£…SassåŠ è½½å™¨ï¼ˆwebpackåŠ è½½å™¨ï¼‰å’Œnode-sass(scss--&gt;css)npm install sass-loader node-sass --save-dev# æ³¨windowsä¸‹å®‰è£…sasså¦‚æœå¤±è´¥ï¼Œåˆ™å› ä¸ºåŸå› ç¼ºå°‘ç¼ºå°‘ç¼–è¯‘ç¯å¢ƒpython2ï¼Œéœ€è¦åšä»¥ä¸‹è®¾ç½®npm install -g node-gypnpm install --global --production windows-build-toolsnpm install node-sass --registry=http://registry.npm.taobao.org main.js 1234567891011121314import ElementUI from \"element-ui\";import 'element-ui/lib/theme-chalk/index.css'; // è¿™è¡Œimportå¾ˆé‡è¦ï¼Œ ä¸ç„¶æ¸²æŸ“ä¸å‡ºæ¥import Vue from 'vue';import App from './App.vue';import router from \"./router\";Vue.use(ElementUI)Vue.config.productionTip = falsenew Vue(&#123; el: \"#app\", router, render: h =&gt; h(App),&#125;).$mount('#app') App.vue 1234567891011121314&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt; &lt;router-link to=&quot;hello&quot;&gt;hello&lt;/router-link&gt; &lt;router-link to=&quot;login&quot;&gt;login&lt;/router-link&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: &apos;App&apos;,&#125;&lt;/script&gt; Login.vue 12345678910111213141516171819202122232425&lt;template&gt; &lt;div&gt; &lt;el-form ref=&quot;form&quot; :model=&quot;form&quot; label-width=&quot;80px&quot;&gt; &lt;el-form-item label=&quot;æ´»åŠ¨åç§°&quot;&gt; &lt;el-input v-model=&quot;form.name&quot;&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;æ´»åŠ¨åŒºåŸŸ&quot;&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: &quot;Login&quot;, data()&#123; return &#123; form: &#123; name: &quot;&quot; &#125; &#125; &#125;&#125;&lt;/script&gt; router.js 123456789101112131415161718192021import Vue from \"vue\"import VueRouter from \"vue-router\"import HelloWorld from \"../components/HelloWorld\"import Login from \"../views/Login\"Vue.use(VueRouter)export default new VueRouter(&#123; mode: \"history\", routes: [ &#123; name: \"login\", path: \"/login\", component: Login &#125;, &#123; name: \"Hello\", path: \"/hello\", component: HelloWorld &#125; ] &#125;) Vuex çŠ¶æ€ç®¡ç†åº“ï¼Œ å¯çœ‹ä½œæ˜¯ç®¡ç†ä¼šè¯çš„æ•°æ®åº“ é€šè¿‡åœ¨æ ¹å®ä¾‹Appä¸­æ³¨å†Œ store é€‰é¡¹ï¼Œè¯¥ store å®ä¾‹ä¼šæ³¨å…¥åˆ°æ ¹ç»„ä»¶ä¸‹çš„æ‰€æœ‰å­ç»„ä»¶ä¸­ï¼Œä¸”å­ç»„ä»¶èƒ½é€šè¿‡ this.$store è®¿é—®åˆ°ï¼ˆå¦‚æœåœ¨å‡½æ•°ä¸­è‡ªå¸¦thisæŒ‡é’ˆï¼Œåˆ™å¯ä»¥ç›´æ¥å†™æˆstore.state.xxxï¼‰ã€‚ 1.åˆ›å»ºstoreæ–‡ä»¶å¤¹ï¼Œ å®šä¹‰jsæ–‡ä»¶ åœ¨æ ¹ç›®å½•åˆ›å»ºstoreæ–‡ä»¶å¤¹ï¼Œ ç„¶ååˆ›å»ºindex.js å…³äºjså®šä¹‰æœ‰ä¸¤ç§ï¼š æ™®é€šï¼š 123456789101112131415161718192021222324252627282930313233343536// index.jsimport Vue from \"vue\"import Vuex from \"vuex\"Vue.use(Vuex)// å…¨å±€stateå¯¹è±¡ï¼Œ ç”¨äºä¿å­˜æ‰€æœ‰ç»„ä»¶çš„å…¬å…±æ•°æ®const state = &#123; user : &#123; name: \"\" &#125;&#125;// ç›‘å¬stateå¯¹è±¡çš„å€¼çš„æœ€æ–°çŠ¶æ€ï¼ˆè®¡ç®—å±æ€§ï¼‰const getters = &#123; getUser(state)&#123; return state.user &#125;&#125;// å”¯ä¸€å¯ä»¥ä¿®æ”¹stateå¯¹è±¡çš„å€¼çš„æœ€æ–°çŠ¶æ€(åŒæ­¥é˜»å¡æ–¹æ³•)const mutations = &#123; updateUser(state, user)&#123; state.user = user &#125;&#125;// å¼‚æ­¥æ‰§è¡Œmutationsæ–¹æ³•const actions = &#123; asyncUpdateUser(context, user)&#123; context.commit(\"updateUser\", user) &#125;&#125;export default new Vuex.Store(&#123; state, getters, mutations, actions&#125;) æ¨¡å—åŒ– å°†å¯¹æŸä¸ªå¯¹è±¡æ•°æ®çš„ç®¡ç†è§†ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œå› æ­¤åœ¨storeæ–‡ä»¶å¤¹ä¸‹è¿˜éœ€è¦åˆ›å»ºmodulesæ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºç›¸åº”çš„æ¨¡å—js 12345678910111213141516171819202122232425262728293031323334353637383940// index.jsimport Vue from \"vue\"import Vuex from \"vuex\"import user from \"./modules/user\"Vue.use(Vuex)export default new Vuex.Store(&#123; modules:&#123; user &#125;&#125;)// modules/user.jsconst user = &#123; // å…¨å±€stateå¯¹è±¡ï¼Œ ç”¨äºä¿å­˜æ‰€æœ‰ç»„ä»¶çš„å…¬å…±æ•°æ® state :&#123; user : &#123; name: \"\" &#125; &#125;, // ç›‘å¬stateå¯¹è±¡çš„å€¼çš„æœ€æ–°çŠ¶æ€ï¼ˆè®¡ç®—å±æ€§ï¼‰ getters :&#123; getUser(state)&#123; return state.user &#125; &#125;, // å”¯ä¸€å¯ä»¥ä¿®æ”¹stateå¯¹è±¡çš„å€¼çš„æœ€æ–°çŠ¶æ€(åŒæ­¥é˜»å¡æ–¹æ³•) mutations :&#123; updateUser(state, user)&#123; state.user = user &#125; &#125;, // å¼‚æ­¥æ‰§è¡Œmutationsæ–¹æ³• actions :&#123; asyncUpdateUser(context, user)&#123; context.commit(\"updateUser\", user) &#125; &#125;,&#125;export default user; 2. å¯¼å…¥main.jsä¸­ 3. ä½¿ç”¨vuex å·¥å…· è°ƒè¯•å·¥å…·ï¼šchromeåº”ç”¨å•†åŸæœç´¢vue-devtools å¼€å‘å·¥å…·ï¼šHBuilderXï¼šå·¥å…·ç¯‡ä¹‹HBuilderXä½¿ç”¨æ•™ç¨‹ é™„å½•ï¼š ä»€ä¹ˆæ˜¯Vue.use()? Vueå®ä¾‹é€šè¿‡Vue.use() æ¥è£…è½½æ’ä»¶ï¼Œä»è€Œç”¨æ¥ä¸º Vue æ·»åŠ å…¨å±€åŠŸèƒ½ã€‚æ’ä»¶çš„åŠŸèƒ½èŒƒå›´æ²¡æœ‰ä¸¥æ ¼çš„é™åˆ¶â€”â€”ä¸€èˆ¬æœ‰ä¸‹é¢å‡ ç§ï¼š æ·»åŠ å…¨å±€æ–¹æ³•æˆ–è€… propertyã€‚å¦‚ï¼švue-custom-element æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ã€‚å¦‚ vue-touch é€šè¿‡å…¨å±€æ··å…¥æ¥æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ã€‚å¦‚ vue-router æ·»åŠ  Vue å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç°ã€‚ ä¸€ä¸ªåº“ï¼Œæä¾›è‡ªå·±çš„ APIï¼ŒåŒæ—¶æä¾›ä¸Šé¢æåˆ°çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½ã€‚å¦‚ vue-router æ³¨ï¼šé€šè¿‡å…¨å±€æ–¹æ³• Vue.use() ä½¿ç”¨æ’ä»¶ã€‚å®ƒéœ€è¦åœ¨ä½ è°ƒç”¨ new Vue() å¯åŠ¨åº”ç”¨ä¹‹å‰å®Œæˆï¼š å¼€å‘æ’ä»¶ Vue.js çš„æ’ä»¶åº”è¯¥æš´éœ²ä¸€ä¸ª install æ–¹æ³•ï¼Œå³XxxxPlugin.install = function (Vue, options) {}ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡ï¼š 123456789101112131415161718192021222324252627MyPlugin.install = function (Vue, options) &#123; // 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ– property Vue.myGlobalMethod = function () &#123; // é€»è¾‘... &#125; // 2. æ·»åŠ å…¨å±€èµ„æº Vue.directive(&apos;my-directive&apos;, &#123; bind (el, binding, vnode, oldVnode) &#123; // é€»è¾‘... &#125; ... &#125;) // 3. æ³¨å…¥ç»„ä»¶é€‰é¡¹ Vue.mixin(&#123; created: function () &#123; // é€»è¾‘... &#125; ... &#125;) // 4. æ·»åŠ å®ä¾‹æ–¹æ³• Vue.prototype.$myMethod = function (methodOptions) &#123; // é€»è¾‘... &#125;&#125; Q: ä¸ºä»€ä¹ˆaxiosä¸ç”¨ï¼Ÿ Q:ç›¸ä¿¡å¾ˆå¤šäººåœ¨ç”¨Vueä½¿ç”¨åˆ«äººçš„ç»„ä»¶æ—¶ï¼Œä¼šç”¨åˆ° Vue.use() ã€‚ä¾‹å¦‚ï¼šVue.use(VueRouter)ã€Vue.use(MintUI)ã€‚ä½†æ˜¯ç”¨ axiosæ—¶ï¼Œå°±ä¸éœ€è¦ç”¨ Vue.use(axios)ï¼Œå°±èƒ½ç›´æ¥ä½¿ç”¨ã€‚é‚£è¿™æ˜¯ä¸ºä»€ä¹ˆå‘ï¼Ÿ A:å› ä¸º axios æ²¡æœ‰ å®ç°installæ–¹æ³•ï¼Œå³axioså¹¶ä¸æ˜¯Vueæ’ä»¶ï¼Œä»–å¹¶ä¸æ˜¯ç‰¹åœ°ä¸ºVueæœåŠ¡çš„ç½‘ç»œé€šä¿¡åº“ï¼Œè€Œæ˜¯é€šç”¨çš„åº“ã€‚ æ‰€ä»¥ä¸ºäº†Vueå®ä¾‹èƒ½å¤Ÿå…¨å±€ä½¿ç”¨axiosï¼Œé‡‡å–çš„æ–¹æ³•æ˜¯å°†axiosåŠ åˆ°Vueå®ä¾‹çš„åŸå‹ä¸­ï¼Œåªä¸è¿‡è¿™æ ·åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ—¶éœ€è¦é€šè¿‡this.$axios.funcæ¥è°ƒç”¨(æœ€åˆç†çš„è°ƒç”¨)ï¼ŒQ: this.$axioså’Œthis.axioså’Œaxiosæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å‚è€ƒï¼šhttps://www.jianshu.com/p/89a05706917aâ€”â€”å¦‚ä½•å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„Vueæ’ä»¶ vueä¸­ä»¥this.$xxçš„å±æ€§è¯¦è§£ Vueå®ä¾‹é‡Œthisçš„ä½¿ç”¨ è¿™æ˜¯vueæ–‡æ¡£é‡Œçš„åŸè¯ï¼šAll lifecycle hooks are called with their â€˜thisâ€™ context pointing to the Vue instance invoking it. æ„æ€æ˜¯ï¼šåœ¨Vueæ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­æ–¹æ³•ï¼ˆå¦‚createdï¼Œmountedï¼Œ updatedä»¥åŠdestroyedï¼‰é‡Œä½¿ç”¨thisï¼ŒthisæŒ‡å‘è°ƒç”¨å®ƒçš„Vueå®ä¾‹ã€‚ åœ¨Vueæ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­æ–¹æ³• methodsï¼ˆæ™®é€šæ–¹æ³•ï¼‰ä¸­ä½¿ç”¨çš„thisæŒ‡å‘ä¸ºåˆ›å»ºçš„vueç»„ä»¶å®ä¾‹ã€‚ vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­æ–¹æ³•é‡Œé¢è¿˜æœ‰æ–¹æ³•ä½¿ç”¨thisï¼š åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨thisæ—¶ï¼Œthisä¼šæŒ‡å‘windowï¼Œè€Œévueå®ä¾‹ vueç®­å¤´æ–¹æ³•ä¸­ä½¿ç”¨thisï¼š ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this, å®ƒçš„thisæ˜¯ç»§æ‰¿è€Œæ¥; é»˜è®¤æŒ‡å‘åœ¨å®šä¹‰å®ƒæ—¶æ‰€å¤„çš„å¯¹è±¡(å®¿ä¸»å¯¹è±¡),è€Œä¸æ˜¯æ‰§è¡Œæ—¶çš„å¯¹è±¡, å®šä¹‰å®ƒçš„æ—¶å€™,å¯èƒ½ç¯å¢ƒæ˜¯window; ç¤ºä¾‹ï¼švueä¸­çš„thisæŒ‡å‘é—®é¢˜ dataä¸­çš„thisæŒ‡å‘ä¸ºwindowsã€‚ å‚è€ƒï¼švueä¸­thisçš„æŒ‡å‘â€”â€”æ¯”è¾ƒå…¨ templateçš„ç»„ä»¶ä¸­refä½œç”¨ å¯ä»¥è·å¾—ç›¸åº”çš„htmlå…ƒç´ ï¼Œæ•ˆæœè·Ÿdocument.getElementByIdç›¸åŒï¼Œè·å¾—ä»¥åå°±å¯ä»¥è°ƒç”¨å…¶å…ƒç´ çš„ä¸€äº›åŠŸèƒ½ï¼Œå¦‚focuså•¥çš„ å¥½åº”ç”¨æ¡ˆä¾‹ ç”¨Vueæ„å»ºä¸€ä¸ªgithubâ€œå¯è§†åŒ–å¤§æ•°æ®å¹³å°â€-GitDataVï¼Œè®¾è®¡å¼€å‘åˆ†äº«, https://github.com/HongqingCao/GitDataV https://juejin.cn/post/6888604279679451143) JSå‡½æ•° æ™®é€šå‡½æ•° 12345var x = myFunction(7, 8); // è°ƒç”¨å‡½æ•°ï¼Œè¿”å›å€¼è¢«èµ‹å€¼ç»™ xfunction myFunction(a, b) &#123; return a * b; // å‡½æ•°è¿”å› a å’Œ b çš„ä¹˜ç§¯&#125; ç®­å¤´å‡½æ•° 123456789101112131415161718// å•å‚æ•°x =&gt; x * xfunction (x) &#123; return x * x;&#125;// å¤šå‚æ•°, éœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥(x, y) =&gt; x * x + y * y// æ— å‚æ•°ï¼Œ éœ€è¦ç”¨æ‹¬å·å£°æ˜() =&gt; 3.14// å¦‚æœè¦è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå°±è¦æ³¨æ„ï¼Œå¦‚æœæ˜¯å•è¡¨è¾¾å¼ï¼Œè¿™ä¹ˆå†™çš„è¯ä¼šæŠ¥é”™// SyntaxError:x =&gt; &#123; foo: x &#125;// å› ä¸ºå’Œå‡½æ•°ä½“çš„&#123; ... &#125;æœ‰è¯­æ³•å†²çªï¼Œæ‰€ä»¥è¦æ”¹ä¸º// ok:x =&gt; (&#123; foo: x &#125;) ç®­å¤´å‡½æ•°çœ‹ä¸Šå»æ˜¯åŒ¿åå‡½æ•°çš„ä¸€ç§ç®€å†™ï¼Œä½†å®é™…ä¸Šï¼Œç®­å¤´å‡½æ•°å’ŒåŒ¿åå‡½æ•°æœ‰ä¸ªæ˜æ˜¾çš„åŒºåˆ«ï¼šç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œç”±ä¸Šä¸‹æ–‡ç¡®å®šã€‚ 123456789101112131415161718192021var obj = &#123; birth: 1990, getAge: function () &#123; var b = this.birth; // 1990 var fn = function () &#123; return new Date().getFullYear() - this.birth; // thisæŒ‡å‘windowæˆ–undefined &#125;; return fn(); &#125;&#125;;// ---// ç°åœ¨ï¼Œç®­å¤´å‡½æ•°å®Œå…¨ä¿®å¤äº†thisçš„æŒ‡å‘ï¼Œthisæ€»æ˜¯æŒ‡å‘è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å¤–å±‚è°ƒç”¨è€…objï¼švar obj = &#123; birth: 1990, getAge: function () &#123; var b = this.birth; // 1990 var fn = () =&gt; new Date().getFullYear() - this.birth; // thisæŒ‡å‘objå¯¹è±¡ return fn(); &#125;&#125;;obj.getAge(); // 25 åŒ¿åå‡½æ•° åŒ¿åå‡½æ•°çš„ä½¿ç”¨åœºæ™¯æ¯”è¾ƒå¤šï¼Œæ˜¯ç®€åŒ–äº†ä»£ç ç¼–å†™çš„ä¸€ç§æ‰‹æ®µã€‚ 12345678910111213141516171819202122232425// å¯¹è±¡æ–¹æ³•var obj=&#123; name:\"å¼ åŸ¹è·ƒ\", age:18, fn:function()&#123; return \"æˆ‘å«\"+this.name+\"ä»Šå¹´\"+this.age+\"å²äº†ï¼\"; &#125;&#125;;// å‡½æ•°è¡¨è¾¾å¼var fn=function()&#123; return \"æˆ‘æ˜¯ä¸€åªå°å°å°å°ç•™ä¸‹ï¼Œæ€ä¹ˆé£ä¹Ÿé£ä¸é«˜ï¼\"&#125;// å›è°ƒå‡½æ•°setInterval(function()&#123; console.log(\"æˆ‘å…¶å®æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¯æ¬¡1ç§’é’Ÿä¼šè¢«æ‰§è¡Œä¸€æ¬¡\");&#125;,1000);// è¿”å›å€¼function fn()&#123; //è¿”å›åŒ¿åå‡½æ•° return function()&#123; return \"å¼ åŸ¹è·ƒ\"; &#125;&#125; åŒ¿åå‡½æ•°çš„ä½œç”¨ï¼š 1ã€é€šè¿‡åŒ¿åå‡½æ•°å¯ä»¥å®ç°é—­åŒ…ï¼Œå…³äºé—­åŒ…åœ¨åé¢çš„æ–‡ç« ä¸­ä¼šé‡ç‚¹è®²è§£ã€‚åœ¨è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼šé—­åŒ…æ˜¯å¯ä»¥è®¿é—®åœ¨å‡½æ•°ä½œç”¨åŸŸå†…å®šä¹‰çš„å˜é‡çš„å‡½æ•°ã€‚è‹¥è¦åˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œå¾€å¾€éƒ½éœ€è¦ç”¨åˆ°åŒ¿åå‡½æ•°ã€‚ 2ã€æ¨¡æ‹Ÿå—çº§ä½œç”¨åŸŸï¼Œå‡å°‘å…¨å±€å˜é‡ã€‚æ‰§è¡Œå®ŒåŒ¿åå‡½æ•°ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ç›¸å¯¹åº”çš„å˜é‡ä¼šè¢«é”€æ¯ï¼Œä»è€ŒèŠ‚çœå†…å­˜ã€‚å†è€…ï¼Œåœ¨å¤§å‹å¤šäººå¼€å‘çš„é¡¹ç›®ä¸­ï¼Œä½¿ç”¨å—çº§ä½œç”¨åŸŸï¼Œä¼šå¤§å¤§é™ä½å‘½åå†²çªçš„é—®é¢˜ï¼Œä»è€Œé¿å…äº§ç”Ÿç¾éš¾æ€§çš„åæœã€‚è‡ªæ­¤å¼€å‘è€…å†ä¹Ÿä¸å¿…æ‹…å¿ƒæä¹±å…¨å±€ä½œç”¨åŸŸäº†ã€‚ JSæˆå‘˜æ–¹æ³• å†™Vueçš„æ—¶å€™æ€»æ˜¯ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨xxx: {}ï¼Œ ä»€ä¹ˆæ—¶å€™ç”¨xxx(){}ã€‚æœ¬èº«è¿™ä¸ªé—®é¢˜å¹¶ä¸éš¾ï¼Œé—®é¢˜å°±åœ¨äºä¸€çŸ¥åŠè§£ï¼Œæ‰€ä»¥æœ¬å°èŠ‚å°±æ˜¯ä¸“é—¨è¿›è¡Œè¯´æ˜çš„ 12345678910// sayå’Œdataéƒ½æ˜¯vå¯¹è±¡çš„æˆå‘˜æ–¹æ³•, è€Œnameæ˜¯vçš„æˆå‘˜å±æ€§const v = &#123; name: \"cl\", data()&#123; console.log(\"data\") &#125;, say: function()&#123; console.log(\"say\") &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041 /* æ–¹å¼ä¸€ã€Objectå½¢å¼çš„è‡ªå®šä¹‰å¯¹è±¡ var å¯¹è±¡å = new Object(); //newä¸€ä¸ªç©ºçš„å¯¹è±¡ å¯¹è±¡å.å±æ€§å = å€¼; // ç»™å¯¹è±¡å®ä¾‹æ·»åŠ ä¸€ä¸ªå±æ€§ å¯¹è±¡å.å‡½æ•°å = function()&#123;&#125; //ç»™å¯¹è±¡å®ä¾‹æ·»åŠ ä¸€ä¸ªæ–¹æ³• jså¯¹è±¡çš„å±æ€§è®¿é—®ï¼š å¯¹è±¡.å±æ€§å */ var Student1=new Object(); Student1.name=\"æ–¹å¼ä¸€ çˆ±å°”å¾—å\"; Student1.age=23; //åˆ›å»ºå¯¹è±¡æ–¹æ³• å¦‚æœæ˜¯toString åˆ™è°ƒç”¨å¯¹è±¡ç›¸å¯¹äºè°ƒç”¨æ­¤æ–¹æ³• Student1.toString1=function()&#123; alert(\"æ–¹å¼ä¸€ hello my name is toString1()\"); &#125; Student1.toString=function()&#123; var result=\"æ–¹å¼ä¸€ åœ¨toStringæ–¹æ³•å†…è¾“å‡ºä¿¡æ¯ï¼šå¹´é¾„ï¼š\" + this.age + \",å§“åï¼š\" + this.name; alert(result); return result=\"æ–¹å¼ä¸€ è°è°ƒç”¨toStringæ–¹æ³•å°±è¿”å›ç»™è°è¾“å‡ºè¿™å¥è¯ é‡å†™æ–¹æ³•å†…å®¹\"; &#125; alert(Student1); Student1.toString1();/* æ–¹å¼äºŒã€&#123;&#125;èŠ±æ‹¬å·å½¢å¼çš„è‡ªå®šä¹‰å¯¹è±¡ èŠ±æ‹¬å·ä¸­ï¼Œå¤šç»„å±æ€§ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ï¼Œé€—å·è¿›è¡Œåˆ†éš”ã€‚ var å¯¹è±¡å = &#123; å±æ€§å: å€¼ï¼Œ // ç»™å¯¹è±¡æ·»åŠ å±æ€§ å±æ€§åï¼ˆå‡½æ•°åï¼‰: function()&#123;&#125; // ç»™å¯¹è±¡æ·»åŠ æ–¹æ³• &#125; å¯¹è±¡çš„è®¿é—®ï¼š å¯¹è±¡.å±æ€§å*/var Student2=&#123; name: \"æ–¹å¼äºŒ çˆ±å°”å¾—å2\", age: 29, toString1: function()&#123; alert(\"æ–¹å¼äºŒ my name is Student2 toString1()\"); &#125;&#125;, ç¼–å†™æ³¨æ„ç‚¹ï¼š å¦‚æœæ˜¯åœ¨å‡½æ•°ä½“å†…å†™çš„è¯­å¥æ˜¯ä¸éœ€è¦åˆ†å·åˆ†éš”çš„ï¼Œå¦‚ 12345678910setup()&#123; onMounted(()=&gt;&#123; &#125;) functipon xxx()&#123; &#125; return &#123;&#125;&#125; ä¸ä¹‹å¯¹åº”çš„æ˜¯åœ¨å¯¹è±¡ä½“å†…ï¼Œå¦‚ 1234567891011121314var app = &#123; data() &#123; // ç­‰ä»·äº data: ()=&gt;&#123;&#125; &#125;, methods:&#123; &#125;, props:&#123; &#125;, mounted()&#123; console.log(\"xxx\") &#125;&#125; é‡Œé¢ä¼šå‡ºç°é”®å€¼å¯¹å’Œå¿…é¡»è¦é€—å·åˆ†éš”å¼€ ã€Vueã€‘è¯¦è§£ SFC ä¸ vue-loader vue-loader æ˜¯ä¸€ä¸ªWebpackçš„ loaderï¼Œä½¿ç”¨ vue-loader å°±å¯ä»¥ç”¨ Vue Single-File Component (SFC) å³å•æ–‡ä»¶ç»„ä»¶çš„å½¢å¼ç¼–å†™ä¸€ä¸ªç»„ä»¶ï¼Œvue-loader ä¼šå°†.vueæ–‡ä»¶è½¬æ¢ä¸º JSæ¨¡å—ã€‚ .vue å•æ–‡ä»¶ç»„ä»¶ (SFC) è§„èŒƒ &lt;template&gt;æ¨¡æ¿å— ä¸€ä¸ªSFCä¸­æœ€å¤šä¸€ä¸ª&lt; template &gt;å—ï¼› å…¶å†…å®¹å°†è¢«æå–ä¸ºå­—ç¬¦ä¸²ä¼ é€’ç»™ vue-template-compiler ï¼Œç„¶åwebpackå°†å…¶ç¼–è¯‘ä¸ºjsæ¸²æŸ“å‡½æ•°ï¼Œå¹¶æœ€ç»ˆæ³¨å…¥åˆ°ä» &lt;script&gt;å¯¼å‡ºçš„ç»„ä»¶ä¸­ï¼› &lt;script&gt;è„šæœ¬å— ä¸€ä¸ªSFCæœ€å¤šä¸€ä¸ª&lt;script&gt;å—ï¼› å®ƒçš„é»˜è®¤å¯¼å‡ºåº”è¯¥æ˜¯ä¸€ä¸ª Vue.js çš„ç»„ä»¶é€‰é¡¹å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å¯¼å‡ºç”± Vue.extend() åˆ›å»ºçš„æ‰©å±•å¯¹è±¡ã€‚ æ€è€ƒï¼šVue.extend() ä¸­ data å¿…é¡»æ˜¯å‡½æ•°ï¼Œæ‰€ä»¥åœ¨.vue SFCçš„scriptä¸­ï¼Œexportä¸­çš„dataæ˜¯å‡½æ•° &lt;style&gt;æ ·å¼å— ä¸€ä¸ª .vue æ–‡ä»¶å¯ä»¥åŒ…å«å¤šä¸ª &lt;style&gt; æ ‡ç­¾ï¼› å¯ä»¥ä½¿ç”¨scopeå’Œmoduleè¿›è¡Œå°è£…ï¼› å…·æœ‰ä¸åŒå°è£…æ¨¡å¼çš„å¤šä¸ª&lt;style&gt; æ ‡ç­¾å¯ä»¥åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­æ··åˆä½¿ç”¨ï¼› .envé…ç½®æ–‡ä»¶ Vue-cliåˆ›å»ºçš„ ä½¿ç”¨vue-cli3æ„å»ºçš„é¡¹ç›®å°±ç®€å•å¤šäº†ï¼Œå› ä¸ºvue-cli3ä½¿ç”¨ä¸Šè¿°çš„DefinePluginæ–¹å¼å¸®ä½ æŠŠprocess.env.NODE_ENVé…ç½®å¥½äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†è‡ªå·±å»é…ç½®ã€‚å®ƒè‡ªå¸¦äº†ä¸‰ç§æ¨¡å¼ï¼š developmentï¼šåœ¨vue-cli-service serveä¸‹ï¼Œå³å¼€å‘ç¯å¢ƒä½¿ç”¨ productionï¼šåœ¨vue-cli-service buildå’Œvue-cli-service test:e2eä¸‹ï¼Œå³æ­£å¼ç¯å¢ƒä½¿ç”¨ testï¼š åœ¨vue-cli-service test:unitä¸‹ä½¿ç”¨ 1234567891011&#123; \"name\": \"\", \"version\": \"0.1.0\", \"private\": true, \"scripts\": &#123; \"dev\": \"vue-cli-service serve\", //æœ¬åœ°å¼€å‘è¿è¡Œï¼Œä¼šæŠŠprocess.env.NODE_ENVè®¾ç½®ä¸º'development' \"build\": \"vue-cli-service build\", //é»˜è®¤æ‰“åŒ…æ¨¡å¼ï¼Œä¼šæŠŠprocess.env.NODE_ENVè®¾ç½®ä¸º'production' &#125;, \"dependencies\": &#123; &#125;&#125; å¯¹åº”çš„.envå¦‚ä¸‹ï¼š .env.development .env.test .env.production å¦‚æœè‡ªå·±å†™package.jsonä¸­çš„scriptså‘½ä»¤çš„è¯åº”è¯¥å¦‚ä¸‹å†™ 1234567\"scripts\": &#123; // --mode åé¢ä¸èƒ½æ˜¯devå¿…é¡»ä¸ºdevelopmentæ‰èƒ½è¯†åˆ«æˆç”Ÿäº§æ¨¡å¼ \"dev\": \"vue-cli-service serve --mode development\", \"test\": \"vue-cli-service build --mode test\", // --mode åé¢ä¸èƒ½æ˜¯prodå¿…é¡»ä¸ºproductionæ‰èƒ½è¯†åˆ«æˆç”Ÿäº§æ¨¡å¼ \"prod\": \"vue-cli-service build --mode production\",&#125;, ç¨‹åºä¸­é€šè¿‡process.envæ¥è·å– 1234567// å¦‚console.log(process.env)const option = &#123; // baseURL: \"http://devops4.sucsoft.com:30383/api/v1\", // apiçš„base_url baseURL: process.env.NODE_ENV == \"development\" ? \"http://192.168.31.172:5501/api/v1\" : \"http://devops4.sucsoft.com:30383/api/v1\", timeout: 5000 // è¯·æ±‚è¶…æ—¶æ—¶é—´&#125; æ³¨ï¼š .envä¸­çš„æ–‡ä»¶éœ€è¦ä»¥VUE_APP_ä¸ºå‰ç¼€æ‰èƒ½è¢«æ£€æµ‹åˆ°ï¼Œ å¦‚.env.productionä¸­å¡«å†™VUE_APP_BASE_URL=&quot;hhh&quot;ï¼Œä¹‹åå¯ä»¥åœ¨é¡¹ç›®ä¸­é€šè¿‡process.env.VUE_APP_BASE_URLæ¥è·å– æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡æ·»åŠ --modeå‚æ•°è‡ªå®šä¹‰æŒ‡å®šè¦åŠ è½½çš„.envæ–‡ä»¶ 123\"scripts\": &#123;\"vvv\": \"vue-cli-service serve --mode vvv\"&#125;, æ­é….env.vvvçš„é…ç½®æ–‡ä»¶ Vite .envæ–‡ä»¶ 1234.env # æ‰€æœ‰æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½.env.local # æ‰€æœ‰æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½ï¼Œä½†ä¼šè¢« git å¿½ç•¥.env.[mode] # åªåœ¨æŒ‡å®šæ¨¡å¼ä¸‹åŠ è½½ï¼Œmodeå¯ä¸ºproductionï¼Œdevelopmentæˆ–å…¶ä»–è‡ªå®šä¹‰å€¼ã€‚.env.[mode].local # åªåœ¨æŒ‡å®šæ¨¡å¼ä¸‹åŠ è½½ï¼Œä½†ä¼šè¢« git å¿½ç•¥ åœ¨.env.prodä¸­å®šä¹‰ 1VITE_APP_WEB_URL=http://baidu.com æ³¨ï¼šå‰ç¼€å¿…é¡»ä¸ºVITE_APP_ï¼Œå¹¶ä¸”é€šè¿‡console.log(import.meta.env)æ¥è·å¾— åœ¨é¡µé¢ä¸­ä½¿ç”¨console.log(import.meta.env.VITE_APP_WEB_URL) åœ¨ package.jsonä¸­å®šä¹‰ 12345\"scripts\": &#123; \"dev\": \"vite\", \"build\": \"vite build\", \"prod\": \"vite --mode prod\"&#125;, è¯´æ˜ï¼šæ‰§è¡Œnpm run prodæ—¶, æ—¢å…ˆä¼šåŠ è½½.envçš„å†…å®¹ï¼Œç„¶ååŠ è½½.env.prodçš„å†…å®¹ src/viewså’Œsrc/components`åŒºåˆ« ä¸¤è€…çš„åŒºåˆ†æ›´å¤šçš„æ˜¯ä¸€ç§æƒ¯ä¾‹ï¼Œå®é™…ä¸Šä¸¤è€…å®šä¹‰çš„éƒ½æ˜¯è§†å›¾ç»„ä»¶ï¼›å¦‚æœè¦è¯´åŒºåˆ«çš„è¯ï¼Œæœ€å¤§çš„åŒºåˆ«åœ¨äºç”¨é€”å’Œé‡ç”¨ç¨‹åº¦ä¸Šï¼š å¯é‡ç”¨çš„ç»„ä»¶å†…å®¹å¯ä»¥ä¿å­˜åœ¨src / componentsæ–‡ä»¶å¤¹ä¸­ï¼ˆè¯¸å¦‚å¹¿å‘Šï¼Œç½‘æ ¼æˆ–ä»»ä½•è‡ªå®šä¹‰æ§ä»¶ä¹‹ç±»çš„ç¤ºä¾‹ï¼Œå¦‚æ ·å¼åŒ–çš„æ–‡æœ¬æ¡†æˆ–æŒ‰é’®ã€‚å†æ¯”å¦‚é¡µçœ‰ï¼Œé¡µè„šç­‰é¡µé¢ç»“æ„æ€§è´¨çš„å¯é‡ç”¨ç»„ä»¶ï¼Œè¿˜å¯ä»¥åˆ›å»ºsrc/layouts/æ–‡ä»¶å¤¹ï¼‰ ä¸è·¯ç”±å™¨ç»‘å®šçš„å†…å®¹ï¼Œå¯ä»¥ä¿å­˜åœ¨src / viewsä¸­ï¼ˆä½œé¡µé¢çš„ç»„ä»¶ï¼Œè·¯ç”±åˆ°ç±»ä¼¼é¡µé¢è¿›è¡Œå¯¼èˆªï¼‰ å³viewsçš„ç»„ä»¶å¤šä¸€å±‚å……å½“è·¯ç”±ç»„ä»¶çš„åŠŸèƒ½ï¼š åœ¨Vueä¸­ï¼ˆé€šå¸¸æ˜¯Vue Routerï¼‰å¤„ç†è·¯ç”±æ—¶ï¼Œå°†å®šä¹‰è·¯ç”±ä»¥åˆ‡æ¢ç»„ä»¶ä¸­ä½¿ç”¨çš„å½“å‰è§†å›¾&lt;router-view&gt;ã€‚è¿™äº›è·¯çº¿é€šå¸¸ä½äºsrc/router/routes.jsï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š 12345678910111213141516import Home from '@/views/Home.vue'import About from '@/views/About.vue'// å¯ä»¥çœ‹åˆ°router.jsä¸­å¯¼å…¥çš„ç»„ä»¶å…¨éƒ¨éƒ½æ˜¯viewsä¸‹çš„export default [ &#123; path: '/', name: 'home', component: Home, &#125;, &#123; path: '/about', name: 'about', component: About, &#125;,] ä½äºsrc/componentsä¸‹é‡Œçš„ç»„ä»¶ä¸å¤ªå¯èƒ½åœ¨ä¸€æ¡è·¯çº¿ä¸­ä½¿ç”¨ï¼Œè€Œä½äºsrc/viewså°†è¢«è‡³å°‘ä¸€æ¡routerè·¯çº¿ä½¿ç”¨ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970const routes = [&#123; path: '/', name: 'Index', key: 'Index', redirect: '/dashboard/index', hidden: true, label: \"é¦–é¡µ\", icon: renderIcon(BookIcon), &#125;, // é¦–é¡µ, è¿™ç§å½¢å¼å¯èƒ½ä¸å¤ªä¸€æ ·, å› ä¸ºè¿™è¾¹æ˜¯é‡‡ç”¨äº†ä¸€ä¸ªå¯é‡ç”¨çš„ç»„ä»¶å……å½“é¦–é¡µ, ä¹‹åçš„è·¯ç”±å±•ç¤ºåªæ˜¯å°†å…¶ä¸‹é¢çš„&lt;router-view&gt;è¿›è¡Œåˆ‡æ¢ &#123; path: '/dashboard', name: 'Dashboard', key: 'Dashboard', redirect: '/dashboard/index', component: Home, label: \"é¦–é¡µ\", icon: renderIcon(BookIcon), meta: &#123; label: \"é¦–é¡µ\", &#125;, children: [&#123; path: \"/dashboard/index\", name: 'DashboardIndex', key: 'DashboardIndex', component: () =&gt; import('../views/HelloWorld.vue'), label: \"Hello\", icon: renderIcon(BookIcon), meta: &#123; label: \"Hello\", &#125; &#125;, &#123; path: \"/dashboard/page1\", name: 'DashboardPage1', key: 'DashboardPage1', component: () =&gt; import('../views/Page1.vue'), label: \"ç¬¬ä¸€é¡µ\", icon: renderIcon(PersonIcon), meta: &#123; label: \"ç¬¬ä¸€é¡µ\", &#125; &#125;] &#125;, // ç¬¬äºŒé¡µ &#123; path: \"/users\", name: 'Users', key: 'Users', redirect: '/users/index', component: Home, label: \"è´¦æˆ·\", icon: renderIcon(WineIcon), meta: &#123; label: \"è´¦æˆ·\", &#125;, children: [&#123; path: '/users/index', name: 'UsersIndex', key: 'UsersIndex', component: () =&gt; import('../views/Page2.vue'), label: \"ç¬¬äºŒé¡µ\", icon: renderIcon(WineIcon), meta: &#123; label: \"ç¬¬äºŒé¡µ\", &#125;, &#125;], &#125;,] Vueéƒ¨ç½² 12345678910111213FROM node:10 AS build-envWORKDIR /appCOPY ./package.json . RUN npm install --registry=http://registry.npm.taobao.orgCOPY . .RUN npm run buildFROM nginxWORKDIR /usr/share/nginx/htmlENV TZ=Asia/ShanghaiRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezoneCOPY --from=build-env /app/dist /usr/share/nginx/html/EXPOSE 80 from : https://github.com/liguobao/58HouseSearch/blob/master/House-Map.UI/Dockerfile","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"Vue","slug":"Vue","permalink":"https://nymrli.top/tags/Vue/"}]},{"title":"gitåŸºç¡€çŸ¥è¯†","slug":"gitä½¿ç”¨","date":"2019-01-17T12:43:43.000Z","updated":"2019-12-23T13:59:44.740Z","comments":true,"path":"2019/01/17/gitä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2019/01/17/gitä½¿ç”¨/","excerpt":"","text":"æ¦‚å¿µ å·¥ä½œåŒº: å·¥ä½œç©ºé—´åˆ†ä¸ºä¸‰ä¸ªçŠ¶æ€åŒº: å·¥ä½œåŒº æš‚å­˜åŒº å†å²è®°å½•åŒº ä¸‰ä¸ªåŒºåŸŸå…³ç³»ï¼šå·¥ä½œåŒºæ˜¯æˆ‘ä»¬èƒ½çœ‹åˆ°çš„åŒºåŸŸï¼Œæˆ‘ä»¬åœ¨å·¥ä½œåŒºä¿®æ”¹å¢åŠ ä»£ç ï¼›å®Œæˆç¼–è¾‘åï¼Œæˆ‘ä»¬ç”¨git add å°†å·¥ä½œåŒºæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼›ç„¶ååˆ©ç”¨git commit æäº¤æ–‡ä»¶åˆ°æˆ‘ä»¬è‡ªå·±çš„åˆ†æ”¯ã€‚ HEADå¤´æŒ‡é’ˆ: HeadæŒ‡å‘çš„æ˜¯å½“å‰ç‰ˆæœ¬(æœ€æ–°çš„æäº¤) åŸºç¡€å‘½ä»¤ 123456$ git add æ–‡ä»¶å# å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºä¸­ (å…¶ä¸­git add.å¯ä»¥å°†å½“å‰ç›®å½•çš„å­ç›®å½•æ–‡ä»¶éƒ½æ·»åŠ åˆ°æš‚å­˜åŒºä¸­)$ git status # æ˜¾ç¤ºå·¥ä½œç›®å½•å’Œæš‚å­˜åŒºçš„çŠ¶æ€$ git diff ID1/ID2# æŸ¥çœ‹ç‰ˆæœ¬å·®å¼‚: åˆ†æ”¯æ“ä½œ 1234567891011121314$ git branch # åˆ†æ”¯ä¸€å±•è¡¨&gt;&gt;&gt; *(branch)æ˜¾ç¤ºå½“å‰åˆ†æ”¯$ git checkout -b åˆ†æ”¯å # åˆ›å»º,ä¸”åˆ‡æ¢åˆ°æ–°å»ºåˆ†æ”¯ &lt;==ç­‰ä»·äº==&gt; git branch åˆ†æ”¯å,git checkout åˆ†æ”¯å$ git branch -d [åˆ†æ”¯åç§°] # åˆ é™¤ä¸€ä¸ªåˆ†æ”¯, -dé€‰é¡¹åªèƒ½åˆ é™¤å·²ç»å‚ä¸è¿‡åˆå¹¶çš„åˆ†æ”¯ï¼Œå¯¹äºæœªå‚ä¸åˆå¹¶çš„åˆ†æ”¯æ˜¯æ— æ³•åˆ é™¤çš„ã€‚# å¦‚æœæƒ³å¼ºåˆ¶åˆ é™¤ä¸€ä¸ªåˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨-Dé€‰é¡¹$ git checkout æ–‡ä»¶å :åˆ‡æ¢åˆ†æ”¯ (git checkout - ä¸ºåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯)$ git merge --no-f åˆ†æ”¯å : åˆå¹¶åˆ†æ”¯$ git rebase -i # å‹ç¼©å†å²(å¦‚æœå‡ºç°æ‹¼å†™é”™è¯¯æ—¶éœ€è¦): git rebase -i HEAD~2pick xxxx...pick xxxx... åªè¦å°†è¿™ä¸ª(å‡ºç°æ‹¼å†™é”™è¯¯çš„é‚£ä¸ªæäº¤IDå‰çš„pickæ”¹æˆfixupå°±è¡Œäº†) è¿œç¨‹ä»“åº“ 123456789101112131415161718192021222324$ git remote add è¿œç¨‹ä»“åº“å # æ·»åŠ è¿œç¨‹ä»“åº“$ git@github.com:ç”¨æˆ·å/git-tutorial.git $ git push -u è¿œç¨‹ä»“åº“å æœ¬åœ°åˆ†æ”¯å# å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ä¸­:$ git checkout -b æ–°ä»“åº“å è¿œä»“åº“å/è¿œç¨‹åˆ†æ”¯å$ git pull [è¿œç¨‹ä»“åº“å] [æœ¬åœ°åˆ†æ”¯åç§°] # æ›´æ–°:æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç ,å¦‚æœä½ è¿œç¨‹åªæœ‰ä¸€ä¸ªåˆ†æ”¯,æœ¬åœ°åªæœ‰ä¸€ä¸ªåˆ†æ”¯,åé¢ä¸­æ‹¬å·å†…å®¹éƒ½å¯ä»¥çœç•¥$ git push [è¿œç¨‹ä»“åº“å] [æœ¬åœ°åˆ†æ”¯åç§°]# æ¨é€ä»£ç åˆ°è¿œç¨‹ä»“åº“$ git remote -v# æŸ¥çœ‹è¿œç¨‹ä»“åº“$ git remote rm [è¿œç¨‹ä»“åº“å]# æ¸…é™¤è¿œç¨‹ä»£ç ä»“åº“:$ git push origin æœ¬åœ°åˆ†æ”¯å:master # æäº¤æœ¬åœ°åˆ†æ”¯æäº¤åˆ°è¿œç¨‹çš„masteråˆ†æ”¯$ git push origin :heads/[åˆ†æ”¯åç§°] æˆ– $ git push origin :[åˆ†æ”¯åç§°] # åˆ é™¤è¿œç¨‹åˆ†æ”¯$ git branch -r# æŸ¥çœ‹è¿œç¨‹gitæœåŠ¡å™¨ä¸Šçš„åˆ†æ”¯: $ git fetch origin# è·å–è¿œç«¯åº“æœ€æ–°ä¿¡æ¯$ git diff master origin/master# æŸ¥çœ‹æœ¬åœ°ä¸è¿œç¨‹æœåŠ¡ç«¯çš„ä¸åŒ åˆ é™¤è¿œç¨‹åˆ†æ”¯git push origin --delete kickof git status å‘½ä»¤ è¡¨ç¤º æŸ¥çœ‹ä»“åº“å½“å‰çŠ¶æ€ï¼› git diff å‘½ä»¤ è¡¨ç¤º æŸ¥çœ‹ä¿®æ”¹å†…å®¹ï¼› git pushä»£ç åˆ°è¿œç¨‹æ–°åˆ†æ”¯ git push origin master:my_remote_new_branch remote: You are not allowed to push code to this project. fatal: unable to access â€˜http://lyl233.f3322.net:11111/apollo/Apollo_Open_Resources.git/â€™: The requested URL returned error: 403 git remote set-url origin http://lyl233.f3322.net:11111/Chenli/Apollo_Open_Resources.git æ—¥å¿— 1234$ git log# æäº¤æ—¥å¿—(å½“å‰çŠ¶æ€ä¸ºç»ˆç‚¹) ä¼šäº§ç”Ÿç‰ˆæœ¬åº“é‡Œä¸€ç³»åˆ—å•ç‹¬æäº¤çš„å†å²$ git log -p README.md$ git log -graph æ’¤é”€æ“ä½œ æ’¤é”€æ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒº 1$ git rm æ–‡ä»¶å æ’¤é”€ä¸Šä¸€æ¬¡æäº¤(commit),å¹¶é‡æ–°æäº¤ ä¿®æ”¹æäº¤ä¿¡æ¯ 12$ git commit --amend# å¯ä»¥é‡æ–°ä¿®æ”¹æäº¤ä¿¡æ¯,ä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ â–².å°†æš‚å­˜åŒºå†…çš„æ–‡ä»¶ä»£æ›¿å·¥ä½œåŒºçš„(å·¥ä½œåŒºå†…çš„æ–‡ä»¶å¤åŸ) 1git checkout -- . â–².å°†å°†æœ€è¿‘ä¸€æ¬¡ç‰ˆæœ¬åº“æ–‡ä»¶ä»£æ›¿æš‚å­˜åŒºçš„(æš‚å­˜åŒºå†…çš„æ–‡ä»¶å¤åŸ) 1234git reset HEAD .# å°†æš‚å­˜åŒºæ‹‰å›å·¥ä½œåŒºgit checkout -- .# å°†å·¥ä½œåŒºå¤åŸ ä»äº‘æœåŠ¡å™¨æ›´æ–°æ–‡ä»¶åˆ°ä»“åº“ 1.æŸ¥çœ‹git ç‰ˆæœ¬(æ˜¯å¦å®‰è£…,ä¸€èˆ¬éƒ½æ˜¯é»˜è®¤å®‰è£…å¥½äº†çš„) 2.è®¾ç½®githubè´¦å·å¯†ç : 12$ git config --global user.email \"you@example.com\"$ git config --global user.name \"Your Name\" 3.è®¾ç½®ä¸Šä¼ æ–¹å¼ 1git config --global push.default simple matchingï¼ˆåŒ¹é…æ‰€æœ‰åˆ†æ”¯ï¼‰ matching å‚æ•°æ˜¯ Git 1.x çš„é»˜è®¤å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è€çš„æ‰§è¡Œæ–¹å¼ã€‚å…¶æ„æ˜¯å¦‚æœä½ æ‰§è¡Œ git push ä½†æ²¡æœ‰æŒ‡å®šåˆ†æ”¯ï¼Œå®ƒå°† push æ‰€æœ‰ä½ æœ¬åœ°çš„åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ä¸­å¯¹åº”åŒ¹é…çš„åˆ†æ”¯ã€‚ simpleï¼ˆåŒ¹é…å•ä¸ªåˆ†æ”¯) simpleå‚æ•°æ˜¯ Git 2.x é»˜è®¤å‚æ•°ï¼Œæ„æ€æ˜¯æ‰§è¡Œ git push æ²¡æœ‰æŒ‡å®šåˆ†æ”¯æ—¶ï¼Œåªæœ‰å½“å‰åˆ†æ”¯ä¼šè¢« push åˆ°è¿œç¨‹ä»“åº“ã€‚ 4.ä¸Šä¼ éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ 1234#git init å¦‚æœæ²¡æœ‰åˆå§‹åŒ–ä»“åº“çš„è¯....(æ›´æ–°çš„è¯å°±ä¸éœ€è¦git add . git commit -m \"xxx\"git push ä¿®æ”¹.gitignoreç”Ÿæ•ˆæŒ‡ä»¤ 123git rm -r --cached . // åˆ é™¤æœ¬åœ°ç¼“å­˜git add . // æ·»åŠ è¦æäº¤çš„æ–‡ä»¶git commit -m &apos;update .gitignore&apos; // æ›´æ–°æœ¬åœ°çš„ç¼“å­˜ é™„å½•: Gitè¿œç¨‹æ“ä½œè¯¦è§£ ä½¿ç”¨gitå°†é¡¹ç›®ä¸Šä¼ åˆ°githubï¼ˆæœ€ç®€å•æ–¹æ³•ï¼‰","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://nymrli.top/tags/git/"}]},{"title":"æ•°æ®ç»“æ„å®éªŒ1â€”â€”çº¿æ€§è¡¨åŠå¤šé¡¹å¼çš„è¿ç®—","slug":"æ•°æ®ç»“æ„å®éªŒ1â€”â€”çº¿æ€§è¡¨åŠå¤šé¡¹å¼çš„è¿ç®—","date":"2018-12-28T11:42:11.000Z","updated":"2019-09-15T08:07:31.069Z","comments":true,"path":"2018/12/28/æ•°æ®ç»“æ„å®éªŒ1â€”â€”çº¿æ€§è¡¨åŠå¤šé¡¹å¼çš„è¿ç®—/","link":"","permalink":"https://nymrli.top/2018/12/28/æ•°æ®ç»“æ„å®éªŒ1â€”â€”çº¿æ€§è¡¨åŠå¤šé¡¹å¼çš„è¿ç®—/","excerpt":"","text":"é“¾è¡¨æ“ä½œ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define ERROR 0#define OK 1#define Overflow 2#define Underflow 3#define Notpresent 4#define Duplicate 5typedef int Status;typedef int ElemType;typedef struct Node&#123; ElemType elem; struct Node *link;&#125;Node;typedef struct &#123; struct Node* first; int n;&#125;SingleList;SingleList list; //å£°æ˜å…¨å±€çš„Status Init(SingleList *L)&#123; L-&gt;first = NULL; L-&gt;n = 0; return OK;&#125;Status Find(SingleList L,int i,ElemType *x)&#123; Node *p; int j; if (i&lt;0 || i&gt; L.n-1) return ERROR; p = L.first; for (j = 0; j &lt; i; ++i) p=p-&gt;link; *x = p-&gt;elem; return OK;&#125;Status Insert(SingleList *L,int j,ElemType x)&#123; Node *p,*q; int i; if(j&lt;-1 || j&gt; L-&gt;n) return ERROR; p = L-&gt;first; for(i=0;i&lt;j;i++) p=p-&gt;link; //p==&gt;a(i-1) q = (Node *)malloc(sizeof(Node)); q-&gt;elem = x; if (j&gt;-1) &#123; q-&gt;link = p-&gt;link; // a(i-1)==&gt;??? ===&gt; a(i)-&gt;??? p-&gt;link = q ; // a(i-1)-&gt;a(i) &#125;else &#123; q-&gt;link = L-&gt;first; L-&gt;first = q; &#125; L-&gt;n++; return OK;&#125;Status Delete(SingleList *L,int j)&#123; int i; Node *p,*q; if(!L-&gt;n) return ERROR; if ( j&lt;0 || j&gt;L-&gt;n) return ERROR; q = L-&gt;first; p = L-&gt;first; for(i=0;i&lt;j-1;i++) q = q-&gt;link; //qæŒ‡å‘ a(i-1) if (i==0) L-&gt;first = L-&gt;first-&gt;link; else&#123; p = q-&gt;link; //æ­¤æ—¶pæŒ‡å‘a(i) q-&gt;link = p-&gt;link; //å°†qæŒ‡å‘a(a+1) &#125; free(p); L-&gt;n -- ; return OK;&#125;Status Output(SingleList L)&#123; Node *p; if(!L.n) return ERROR; p = L.first; while(p)&#123; printf(\"%d \",p-&gt;elem ); p = p-&gt;link; &#125; return OK;&#125;void Destory(SingleList *L)&#123; Node *p; while(L-&gt;first)&#123; p = L-&gt;first-&gt;link; //ä¿å­˜åç»§èŠ‚ç‚¹åœ°å€,é˜²æ­¢æ–­é“¾ free(L-&gt;first); //é‡Šæ”¾firstèŠ‚ç‚¹æ‰€æŒ‡èŠ‚ç‚¹çš„å­˜å‚¨ç©ºé—´ ä»å‰å¾€åé‡Šæ”¾ L-&gt;first = p; &#125; &#125;int main()&#123; int i,x; Init(&amp;list); for (i = 0; i &lt; 9; ++i) Insert(&amp;list,i-1,i); printf(\"the linked list is :\"); Output(list); Delete(&amp;list,1); printf(\"\\nafter deleting the list is:\"); Output(list); Find(list,0,&amp;x); printf(\"\\nthe value is %d\\n\",x ); Destory(&amp;list); system(\"pause\"); return 0;&#125; å¸¦è¡¨å¤´èŠ‚ç‚¹çš„å•é“¾è¡¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define ERROR 0#define OK 1#define Overflow 2#define Underflow 3#define Notpresent 4#define Duplicate 5typedef int ElemType;typedef int Status;typedef struct Node&#123; ElemType elem; struct Node *link;&#125;Node;typedef struct &#123; struct Node* head; int n;&#125;Headlist;Status Init(Headlist *L)&#123; L-&gt;head = (Node*)malloc(sizeof(Node)); if(!L-&gt;head) return ERROR; L-&gt;head-&gt;link = NULL; //æ³¨æ„åˆ°è¿™è¾¹æ²¡æœ‰å¯¹L-&gt;head-&gt;elementä½œè®¾ç½®,å› ä¸ºä¸ä¼šç”¨åˆ° L-&gt;n = 0; return OK;&#125;Status Sort(Headlist *L)&#123; Node *p=L-&gt;head,*pre=NULL; Node *r=p-&gt;link; p-&gt;link = NULL; p=r; //rä¿å­˜åŸæ¥çš„ç»“ç‚¹é¡ºåº while(p != NULL)&#123; r = p-&gt;link; //rç»§ç»­å–ä¸‹ä¸€ä¸ªç»“ç‚¹ pre = L-&gt;head; //preé‡æ–°æ„é€ L,ä»å¤´å¼€å§‹å¾ªç¯ while(pre-&gt;link != NULL &amp;&amp; pre-&gt;link-&gt;elem &lt; p-&gt;elem) // å¦‚æœé“¾è¡¨éç©º ä¸” æ–°é“¾è¡¨ä¸å½“å‰ç»“ç‚¹æ•°å€¼æ¯”è¾ƒ pre = pre-&gt;link; //å¦‚æœå½“å‰è¦æ’å…¥çš„ç»“ç‚¹å€¼å¤§äºå¾ªç¯ä¸­å½“å‰å·²æ’åºç»“ç‚¹,åˆ™å–å·²æ’åºé“¾è¡¨ä¸‹ä¸€ä¸ªç»“ç‚¹ç»§ç»­æ¯”è¾ƒ p-&gt;link = pre-&gt;link; //æ‰¾åˆ°pè¦æ’å…¥çš„ä½ç½®å,æ’å…¥:è‹¥3&lt;pre=5&lt;bigger=7&lt;8,p=6,åˆ™ p=&gt;bigger pre-&gt;link = p; // pre=&gt;p,æ’å…¥å³å¯ p=r; // pç»§ç»­å–ä¸‹ä¸ªç»“ç‚¹ä¾æ¬¡æŒ‰åŸæ¥é¡ºåºå¾ªç¯éå†åŸæ¥é“¾è¡¨ &#125; return OK;&#125;Status deleleab(Headlist *L, int a,int b)&#123; Node *q = L-&gt;head,*p=L-&gt;head-&gt;link; // qä¸ºä¸Šä¸€ä¸ª,pä¸ºå½“å‰çš„ while( p ) if(p-&gt;elem &gt;= a &amp;&amp; p-&gt;elem &lt;= b) &#123; q-&gt;link = p-&gt;link; // 1 - 2 - 3 1==&gt;3,1çš„æŒ‡é’ˆåŸŸæŒ‡å‘3 free(p); //é‡Šæ”¾2 p = q-&gt;link; // å½“å‰çš„æŒ‡é’ˆå˜æˆ3 &#125;else&#123; p = p-&gt;link; q = p-&gt;link; &#125; return OK; &#125;/*****æ€è·¯ä¸º: å°†é¡ºåºéå†çš„ç»“ç‚¹ä¸æ–­æ’å…¥ä¸ºL-&gt;head-&gt;link******/Status Converse(Headlist *L)&#123; Node *p = NULL,*cur= NULL; Node *q = L-&gt;head-&gt;link; if(L-&gt;head &amp;&amp; L-&gt;head-&gt;link)&#123; //å¦‚æœè¡¨ä¸å­˜åœ¨æˆ–æ˜¯ä¸ºç©º,åˆ™return ERROR while( q != NULL ) //qæŒ‰ç…§åŸæ¥çš„é¡ºåºä¾æ¬¡éå†å„ç»“ç‚¹ &#123; cur = q; //curä¸ºå½“å‰ç»“ç‚¹ q = q-&gt;link; //qä¿å­˜ä¸‹ä¸€ä¸ªç»“ç‚¹ L-&gt;head-&gt;link = cur; //ä¸ºäº†ä¸åŠ¨å¤´ç»“ç‚¹,æ‰€ä»¥å¤´ç»“ç‚¹linkå§‹ç»ˆæŒ‡å‘å½“å‰è¦åŠ çš„ç»“ç‚¹ cur-&gt;link = p; //å½“å‰çš„linkæŒ‡å‘ä¸Šä¸€ä¸ªç»“ç‚¹ p = cur; //ä¿å­˜ä¸Šä¸€ä¸ªç»“ç‚¹ &#125; &#125;else return ERROR; return OK;&#125;Status Insert(Headlist *L,int j,ElemType x)&#123; int i; Node *p=NULL,*q=NULL; if(j&lt;-1 || j&gt; L-&gt; n-1) return ERROR; p = L-&gt;head; for(i=0;i&lt;=j;i++) p=p-&gt;link; // ä¸æ™®é€šé“¾è¡¨ä¸åŒ,è¿™è¾¹æ˜¯ &lt;= , å› ä¸ºè¦å¤šä¸€ä¸ªè¡¨å¤´Node q = (Node *)malloc(sizeof(Node)); q-&gt;elem = x; q-&gt;link = p-&gt;link; p-&gt;link = q; L-&gt;n++; return OK;&#125;Status Output(Headlist L)&#123; Node *p = L.head-&gt;link; if(!L.n) return ERROR; while(p)&#123; printf(\"%d \",p-&gt;elem ); p = p-&gt;link; &#125; return OK;&#125;Status Destory(Headlist *L)&#123; Node *p=NULL; while(L-&gt;head)&#123; p = L-&gt;head-&gt;link; free(L-&gt;head); L-&gt;head = p; &#125; return OK; &#125;Status Delete(Headlist *L,int j)&#123; //ä¸‹æ ‡j Node *p = L-&gt;head,*q = L-&gt;head; // q = tmp int i; if(!L-&gt;n) return ERROR; if ( j&lt;0 || j&gt;L-&gt;n) return ERROR; for(i = 0 ;i&lt;=j-1;i++) p = p-&gt;link; q = p; p = p-&gt;link; q-&gt;link = p-&gt;link; free(p); return OK;&#125;Status Find(Headlist *L,int j,ElemType *x)&#123; Node *p= L-&gt;head; int i; if ( j&lt;0 || j&gt;L-&gt;n) return ERROR; for(i = 0 ;i&lt;=j;i++) p = p-&gt;link; *x = p-&gt;elem; return OK;&#125;int main()&#123; int x; Headlist list; Init(&amp;list); Insert(&amp;list,-1,3); Insert(&amp;list,0,2); Insert(&amp;list,-1,5); Insert(&amp;list,2,7); Insert(&amp;list,-1,1); printf(\"the linked list is :\"); Output(list); printf(\"\\nAfter sorted:\"); Sort(&amp;list); Output(list); printf(\"\\nAfter Conversed:\"); Converse(&amp;list); Output(list); printf(\"\\nAfter delete index of 0,the list is:\"); Delete(&amp;list,0); Output(list); Find(&amp;list,2,&amp;x); printf(\"\\nthe index of 2:%d\\n\",x); Destory(&amp;list); system(\"pause\"); return 0;&#125; å¸¦è¡¨å¤´çš„é“¾è¡¨å’Œæ™®é€šé“¾è¡¨çš„åŒºåˆ«åœ¨äº: å¸¦è¡¨å¤´é“¾è¡¨çš„å¤´ç»“ç‚¹çš„æ•°æ®åŸŸæ˜¯ä¸è®¾ç½®çš„,çœŸæ­£æœ‰ç”¨çš„ç»“ç‚¹æ˜¯L-&gt;head-&gt;linkæŒ‡å‘çš„ç»“ç‚¹.è€Œæ™®é€šé“¾è¡¨L-&gt;firstæŒ‡å‘çš„ç»“ç‚¹ è¿™æ ·çš„å¥½å¤„æ˜¯ä¸ç”¨ç‰¹æ®Šè€ƒè™‘æ˜¯ä¸æ˜¯å¤´ç»“ç‚¹. ä»£ç å®ç°ç»†èŠ‚: 1.æ’å…¥çš„i,æ˜¯aia_{i}aiâ€‹åé¢å†æ·»åŠ ä¸€é¡¹,æ‰€ä»¥foræ¡ä»¶ä¸ºj=0;j&lt;i è¿›è¡Œjæ¬¡link 2.åˆ é™¤æ—¶,åˆ é™¤çš„æ˜¯aia_{i}aiâ€‹,for(j=0;j &lt; i - 1;j++),ä¸ºä»€ä¹ˆæ˜¯ i-1è·Ÿä»£ç å®ç°æœ‰å…³,å…ˆæŠŠqæŒ‡å‘è¦åˆ é™¤çš„å‰ä¸€ä¸ªç»“ç‚¹,p=q-&gt;link,q-&gt;link = p-&gt;linkä»è€Œå°†på³aia_{i}aiâ€‹å­¤ç«‹å‡ºæ¥ â–²å¸¦è¡¨å¤´çš„è¯,å°†&lt;å˜ä¸º&lt;=,å› ä¸ºè¦å¤šæ¨ä¸ªlink,è·³è¿‡headç»“ç‚¹ è®¾è®¡ä¸Šæœ€å¤§çš„åŒºåˆ«åœ¨äº â–²å¤šäº†ä¸ªè¡¨å¤´ä»¥å,å°±ä¸ç”¨å†è€ƒè™‘,åˆ é™¤å’Œæ’å…¥çš„æ—¶å€™å»åŠ¨List-&gt;firstæŒ‡é’ˆï¼Œå¸¦è¡¨å¤´åï¼Œä¿®æ”¹çš„éƒ½æ˜¯L-&gt;head-&gt;linkä¹‹åçš„ç»“ç‚¹Node å•é“¾è¡¨å®ç°å¤šé¡¹å¼åŠ å‡ã€ç›¸ä¹˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define ERROR 0#define OK 1#define Overflow 2#define Underflow 3#define Notpresent 4#define Duplicate 5typedef int ElemType;typedef int Status;typedef struct PNode&#123; ElemType ceof; ElemType exp; struct PNode *link;&#125;PNode;typedef struct &#123; struct PNode *head;&#125;polynominal;Status Init(polynominal *p)&#123; p-&gt;head = (PNode *)malloc(sizeof(PNode)); p-&gt;head-&gt;exp = -1; p-&gt;head-&gt;link = NULL; return OK;&#125;Status Create(polynominal *p)&#123; PNode *pn = NULL,*q=NULL,*pre=NULL; p-&gt;head = (PNode *)malloc(sizeof(PNode)); p-&gt;head-&gt;exp = -1; p-&gt;head-&gt;link = NULL; for (;;) &#123; pn = (PNode *)malloc(sizeof(PNode)); printf(\"ceof:\\n\"); scanf(\"%d\",&amp;pn-&gt;ceof); printf(\"exp:\\n\"); scanf(\"%d\",&amp;pn-&gt;exp); if (pn-&gt;exp &lt; 0) &#123;printf(\"End the input\\n\"); break;&#125; pre = p-&gt;head; //preä»é“¾è¡¨å¤´å¼€å§‹ q=p-&gt;head-&gt;link; while(q &amp;&amp; q-&gt;exp &gt; pn-&gt;exp)&#123; //pnä¸ºå½“å‰ç»“ç‚¹,qä¸ºé“¾è¡¨ä¸­ç»“ç‚¹ pre = q; // q = q-&gt;link; &#125; pn-&gt;link = q; // åœ¨preå’Œqä¹‹é—´æ’å…¥pn,(qä¸ºnullæ—¶,ç›¸å½“äºæœ«å°¾æ’å…¥pn) pre-&gt;link = pn; // pre =&gt; pn =&gt; q &#125; return OK;&#125;Status Sort(polynominal *L)&#123; //ä»å¤§åˆ°å° PNode *p=L-&gt;head,*pre=NULL; PNode *r=p-&gt;link; p-&gt;link = NULL; p=r; //rä¿å­˜åŸæ¥çš„ç»“ç‚¹é¡ºåº while(p != NULL)&#123; r = p-&gt;link; //rç»§ç»­å–ä¸‹ä¸€ä¸ªç»“ç‚¹ pre = L-&gt;head; //preé‡æ–°æ„é€ L,ä»å¤´å¼€å§‹å¾ªç¯ while(pre-&gt;link != NULL &amp;&amp; pre-&gt;link-&gt;exp &lt; p-&gt;exp) // å¦‚æœé“¾è¡¨éç©º ä¸” æ–°é“¾è¡¨ä¸å½“å‰ç»“ç‚¹æ•°å€¼æ¯”è¾ƒ pre = pre-&gt;link; //å¦‚æœå½“å‰è¦æ’å…¥çš„ç»“ç‚¹å€¼å¤§äºå¾ªç¯ä¸­å½“å‰å·²æ’åºç»“ç‚¹,åˆ™å–å·²æ’åºé“¾è¡¨ä¸‹ä¸€ä¸ªç»“ç‚¹ç»§ç»­æ¯”è¾ƒ p-&gt;link = pre-&gt;link; //æ‰¾åˆ°pè¦æ’å…¥çš„ä½ç½®å,æ’å…¥:è‹¥3&lt;pre=5&lt;bigger=7&lt;8,p=6,åˆ™ p=&gt;bigger pre-&gt;link = p; // pre=&gt;p,æ’å…¥å³å¯ p=r; // pç»§ç»­å–ä¸‹ä¸ªç»“ç‚¹ä¾æ¬¡æŒ‰åŸæ¥é¡ºåºå¾ªç¯éå†åŸæ¥é“¾è¡¨ &#125; return OK;&#125;Status Add(polynominal *px,polynominal *qx)&#123; //ç›®çš„:å°†qæ”¹æˆp+q PNode *q1=qx-&gt;head, *p=px-&gt;head-&gt;link; //q1æŒ‡å‘qxè¡¨å¤´ç»“ç‚¹ PNode *q=q1-&gt;link; //pæŒ‡å‘å¤šé¡¹å¼pxç¬¬ä¸€ä¸ªç»“ç‚¹,qæŒ‡å‘qxç¬¬ä¸€ä¸ª PNode *temp = NULL; //q1æ˜¯qå‰é©± while( q &amp;&amp; p)&#123; while( p-&gt;exp &lt; q-&gt;exp )&#123; //æ‰¾åˆ°qxä¸­ å¤§äºç­‰äºqæŒ‡æ•°é¡¹çš„é¡¹,qä¸æ–­å³ç§» q1 = q; q = q-&gt;link; &#125; if (p-&gt;exp == q-&gt;exp )&#123; q-&gt;ceof = q-&gt;ceof + p-&gt;ceof; if (q-&gt;ceof == 0)&#123; q1-&gt;link = q-&gt;link; //é‡Šæ”¾å½“å‰qçš„å†…å­˜ free(q); q = q1-&gt;link; p = p-&gt;link; &#125;else&#123; //p\\qéƒ½å³ç§» q1 = q; //q1 q = q-&gt;link; p = p-&gt;link; &#125; &#125;else&#123; //p-&gt;exp &gt; q-&gt;exp temp = (PNode * )malloc(sizeof(PNode)); temp-&gt;ceof = p-&gt;ceof; temp-&gt;exp = p-&gt;exp; temp-&gt;link = q1-&gt;link; q1-&gt;link = temp; p = p-&gt;link; &#125; &#125; return OK;&#125;void Output(polynominal *p)&#123; PNode *q = p-&gt;head-&gt;link; int last = 0; while( q!=NULL )&#123; if(q-&gt;link == NULL) last =1; printf(\"%dx^%d\", q-&gt;ceof,q-&gt;exp); if(!last) printf(\"+\"); q = q-&gt;link; &#125; printf(\"\\n\");&#125;void Destory(polynominal *p)&#123; PNode *q = NULL; while(p-&gt;head)&#123; q = p-&gt;head-&gt;link; free(p-&gt;head); p-&gt;head = q; &#125;&#125;/***********åˆå¹¶åŒç±»é¡¹*****************//***********åˆå¹¶å³free*****************/Status unify(polynominal *t)&#123; PNode *p=NULL; PNode *q=NULL; PNode *last=NULL; PNode *tmp; //while(p-&gt;link != NULL)&#123; for(p=t-&gt;head-&gt;link;p!=NULL;p=p-&gt;link)&#123; //é€‰æ‹© last = p; for(q=last-&gt;link; q!=NULL ; )&#123; //qæŒ‡é’ˆå‘åæ¨ç§»æŒ‡å‘ä¸‹ä¸€ç»“ç‚¹ if(q-&gt;exp == p-&gt;exp)&#123; //ç›¸ç­‰è®¡ç®— p-&gt;ceof += q-&gt;ceof; //qä¸º æ»‘åŠ¨é¡¹ tmp = q-&gt;link; last-&gt;link = q-&gt;link; //lastä¿å­˜ä¸Šä¸€ä¸ªq free(q); // å§qçš„ç©ºé—´é‡Šæ”¾æ‰ q= tmp; &#125;else&#123; last= q; q=q-&gt;link;&#125; //å¦‚æœä¸ç›¸ç­‰å°±åˆ¤æ–­ä¸‹ä¸€ä¸ª &#125; &#125; return OK;&#125;polynominal Multiply(polynominal *px,polynominal *qx)&#123; PNode *p = px-&gt;head; PNode *q = qx-&gt;head; PNode *x = NULL; PNode *tmp = NULL; polynominal newpoly; Init(&amp;newpoly); x = newpoly.head; for (p=px-&gt;head-&gt;link; p!=NULL; p=p-&gt;link)&#123; for (q=qx-&gt;head-&gt;link; q!=NULL; q=q-&gt;link)&#123; tmp = (PNode*)malloc(sizeof(PNode)); tmp-&gt;ceof = p-&gt;ceof * q-&gt;ceof; tmp-&gt;exp = p-&gt;exp + q-&gt;exp; tmp-&gt;link = x-&gt;link; //æ–°ç”Ÿæˆçš„ç»“ç‚¹æŒ‡å‘ä¸Šä¸€ä¸ªç”Ÿæˆçš„ç»“ç‚¹çš„åœ°å€ x-&gt;link = tmp; //ä½¿é“¾è¡¨è®°å½•å½“å‰tmpç»“ç‚¹ x = x-&gt;link; //å–ä¸‹ä¸€ä¸ªç»“ç‚¹ &#125; &#125; unify(&amp;newpoly); Sort(&amp;newpoly); return newpoly;&#125;int main()&#123; polynominal p,q; polynominal mul; Create(&amp;p); Output(&amp;p); // printf(\"After unify:\\n\"); Unify // unify(&amp;p); // Output(p); Create(&amp;q); Output(&amp;q); printf(\"After Multiplied:\\n\"); //Mul mul = Multiply(&amp;p,&amp;q); Output(&amp;mul); Add(&amp;p,&amp;q); //ADD printf(\"After added:\"); Output(&amp;q); printf(\"\\n\"); system(\"pause\"); return 0;&#125;","categories":[],"tags":[{"name":"C","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://nymrli.top/tags/æ•°æ®ç»“æ„/"}]},{"title":"æ•°æ®ç»“æ„å®éªŒ2â€”â€”äºŒå‰æ ‘çš„åŸºæœ¬æ“ä½œåŠå“ˆå¤«æ›¼ç¼–ç è¯‘ç ç³»ç»Ÿçš„å®ç°","slug":"æ•°æ®ç»“æ„å®éªŒ2â€”â€”äºŒå‰æ ‘çš„åŸºæœ¬æ“ä½œåŠå“ˆå¤«æ›¼ç¼–ç è¯‘ç ç³»ç»Ÿçš„å®ç°","date":"2018-12-28T11:35:38.000Z","updated":"2019-09-15T08:07:31.070Z","comments":true,"path":"2018/12/28/æ•°æ®ç»“æ„å®éªŒ2â€”â€”äºŒå‰æ ‘çš„åŸºæœ¬æ“ä½œåŠå“ˆå¤«æ›¼ç¼–ç è¯‘ç ç³»ç»Ÿçš„å®ç°/","link":"","permalink":"https://nymrli.top/2018/12/28/æ•°æ®ç»“æ„å®éªŒ2â€”â€”äºŒå‰æ ‘çš„åŸºæœ¬æ“ä½œåŠå“ˆå¤«æ›¼ç¼–ç è¯‘ç ç³»ç»Ÿçš„å®ç°/","excerpt":"","text":"äºŒå‰æ ‘çš„éå†åŠè®¡ç®— 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;typedef int T;typedef struct BTNode&#123; T Data; struct BTNode *LChild,*RChild;&#125;BTNode;typedef struct BTTree&#123; BTNode *root;&#125;BTTree;/*å…ˆåºå»ºæ ‘*/BTNode* PreCreateBt(BTNode *t)&#123; char ch; ch = getchar(); if( ch == '#' ) t = NULL; else&#123; t = (BTNode *)malloc(sizeof(BTNode)); t-&gt;Data = ch; t-&gt;LChild = PreCreateBt(t-&gt;LChild); t-&gt;RChild = PreCreateBt(t-&gt;RChild); &#125; return t;&#125;void PrebuildTree(BTTree *tree)&#123; tree-&gt;root = PreCreateBt(tree-&gt;root);&#125;/*å…ˆåºéå†*/void PreOrderTransverse(BTNode *t)&#123; if(t == NULL) return ; printf(\"%c\", t-&gt;Data); PreOrderTransverse(t-&gt;LChild); PreOrderTransverse(t-&gt;RChild);&#125;void TreePreOrder(BTTree *tree)&#123; if(tree) PreOrderTransverse(tree-&gt;root);&#125;/*ä¸­åºéå†*/void InOrderTransverse(BTNode *t)&#123; if(t == NULL) return ; InOrderTransverse(t-&gt;LChild); printf(\"%c\", t-&gt;Data); InOrderTransverse(t-&gt;RChild);&#125;void TreeInOrder(BTTree *tree)&#123; if(tree) InOrderTransverse(tree-&gt;root);&#125;/*ååºéå†*/void AfterOrderTransverse(BTNode *t)&#123; if(t == NULL) return ; AfterOrderTransverse(t-&gt;LChild); AfterOrderTransverse(t-&gt;RChild); printf(\"%c\", t-&gt;Data);&#125;void TreeAfterOrder(BTTree *tree)&#123; if(tree) AfterOrderTransverse(tree-&gt;root);&#125;/*ç»“ç‚¹æ•°ç›®*/int countNode(BTNode *t)&#123; if( t != NULL) return countNode(t-&gt;LChild)+countNode(t-&gt;RChild)+1; else return 0; //å¦‚æœtä¸ºç©º,åˆ™è¯¥tçš„çˆ¶äº²ç»“ç‚¹æ˜¯å­ç»“ç‚¹,è¯¥tç»“ç‚¹ä¸éœ€è¦è®¡æ•°&#125;int Nodenum(BTTree *tree)&#123; if(tree) return countNode(tree-&gt;root); else return -1;&#125;/*å¶å­ç»“ç‚¹æ•°ç›®*/int countLeafNode(BTNode *t)&#123; if( t != NULL)&#123; if( t-&gt;LChild == NULL &amp;&amp; t-&gt;RChild == NULL) return 1; else return countLeafNode(t-&gt;LChild)+countLeafNode(t-&gt;RChild); &#125; else return 0; //å¦‚æœtä¸ºç©º,åˆ™è¯¥tçš„çˆ¶äº²ç»“ç‚¹æ˜¯å­ç»“ç‚¹,è¯¥tç»“ç‚¹ä¸éœ€è¦è®¡æ•°&#125;int leafNodenum(BTTree *tree)&#123; if(tree) return countLeafNode(tree-&gt;root); else return -1;&#125;/*è®¡ç®—æ ‘çš„é«˜åº¦*/int coutTreeHeight(BTNode *t)&#123; if(t == NULL) return 0; else &#123; int l = coutTreeHeight(t-&gt;LChild); int r = coutTreeHeight(t-&gt;RChild); if ( l &gt; r) return l+1; else return r+1; // return max(r,l)+1; &#125;&#125;int TreeHeight(BTTree *tree)&#123; if(tree) return coutTreeHeight(tree-&gt;root); else return -1;&#125;/*ç¿»è½¬æ•´ä¸ªäºŒå‰æ ‘(å·¦å³å­æ ‘äº¤æ¢)*/BTNode* ReverseLeftRightChild(BTNode *t)&#123; //å…ˆåºéå† if(t!=NULL)&#123; if( t-&gt;LChild!=NULL || t-&gt;RChild!=NULL)&#123; BTNode *p,*q; p = ReverseLeftRightChild(t-&gt;LChild); q = ReverseLeftRightChild(t-&gt;RChild); t-&gt;LChild = q; t-&gt;RChild = p; &#125;&#125;return t;&#125;void ReverseBtree(BTTree *tree)&#123; if(tree) ReverseLeftRightChild(tree-&gt;root);&#125;int main(int argc, char const *argv[])&#123; BTTree tree; printf(\"å…ˆåºå»ºæ ‘:\"); PrebuildTree(&amp;tree); printf(\"\\nå…ˆåºéå†:\"); TreePreOrder(&amp;tree); printf(\"\\nä¸­åºéå†:\"); TreeInOrder(&amp;tree); printf(\"\\nååºéå†:\"); TreeAfterOrder(&amp;tree); printf(\"\\nç»“ç‚¹æ•°ç›®:%d\\n\",Nodenum(&amp;tree)); printf(\"\\nå¶å­ç»“ç‚¹æ•°ç›®:%d\\n\",leafNodenum(&amp;tree)); printf(\"\\næ ‘çš„é«˜åº¦:%d\\n\",TreeHeight(&amp;tree)); printf(\"ç¿»è½¬äºŒå‰æ ‘:\\n\"); ReverseBtree(&amp;tree); printf(\"\\nååºéå†:\"); TreeAfterOrder(&amp;tree); printf(\"\\n\"); return 0;&#125; å“ˆå¤«æ›¼æ ‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129#include&lt;stdio.h&gt;#define n 5 //å¶å­æ•°ç›®#define m (2*n-1) //ç»“ç‚¹æ€»æ•°#define maxval 10000.0#define maxsize 100 //å“ˆå¤«æ›¼ç¼–ç çš„æœ€å¤§ä½æ•°typedef struct&#123; char ch; float weight; int lchild,rchild,parent;&#125;hufmtree;typedef struct&#123; char bits[n]; //ä½ä¸² int start; //ç¼–ç åœ¨ä½ä¸²ä¸­çš„èµ·å§‹ä½ç½® char ch; //å­—ç¬¦&#125;codetype;//å»ºç«‹å“ˆå¤«æ›¼æ ‘void huffman(hufmtree tree[])&#123; int i,j,p1,p2;//p1,p2åˆ†åˆ«è®°ä½æ¯æ¬¡åˆå¹¶æ—¶ æƒå€¼æœ€å° å’Œ æ¬¡å° çš„ä¸¤ä¸ªæ ¹ç»“ç‚¹çš„ä¸‹æ ‡ float small1,small2,f; char c; for(i=0;i&lt;m;i++)&#123; //åˆå§‹åŒ– tree[i].parent=0; tree[i].lchild=-1; tree[i].rchild=-1; tree[i].weight=0.0; &#125; for(i=0;i&lt;n;i++)&#123; //è¯»å…¥å‰nä¸ªå¶å­ç»“ç‚¹çš„å­—ç¬¦åŠæƒå€¼ printf(\"è¾“å…¥ç¬¬%dä¸ªå­—ç¬¦ä¸ºå’Œæƒå€¼:\",i+1); scanf(\"%c %f\",&amp;c,&amp;f); getchar(); tree[i].ch=c; tree[i].weight=f; &#125; for(i=n;i&lt;m;i++)&#123; //è¿›è¡Œn-1æ¬¡åˆå¹¶ï¼Œäº§ç”Ÿn-1ä¸ªæ–°ç»“ç‚¹ p1=0;p2=0; small1=maxval;small2=maxval; //maxvalæ˜¯floatç±»å‹çš„æœ€å¤§å€¼ for(j=0;j&lt;i;j++) //é€‰å‡ºä¸¤ä¸ªæƒå€¼æœ€å°çš„æ ¹ç»“ç‚¹ if(tree[j].parent==0) if(tree[j].weight&lt;small1)&#123; small2=small1; //æ”¹å˜æœ€å°æƒã€æ¬¡å°æƒåŠå¯¹åº”çš„ä½ç½® small1=tree[j].weight; p2=p1; p1=j; &#125;else if(tree[j].weight&lt;small2)&#123; small2=tree[j].weight; //æ”¹å˜æ¬¡å°æƒåŠä½ç½® p2=j; &#125; tree[p1].parent=i; tree[p2].parent=i; tree[i].lchild=p1; //æœ€å°æƒæ ¹ç»“ç‚¹æ˜¯æ–°ç»“ç‚¹çš„å·¦å­©å­ tree[i].rchild=p2; //æ¬¡å°æƒæ ¹ç»“ç‚¹æ˜¯æ–°ç»“ç‚¹çš„å³å­©å­ tree[i].weight=tree[p1].weight+tree[p2].weight; &#125;&#125;//huffman//æ ¹æ®å“ˆå¤«æ›¼æ ‘æ±‚å‡ºå“ˆå¤«æ›¼ç¼–ç //codetype code[]ä¸ºæ±‚å‡ºçš„å“ˆå¤«æ›¼ç¼–ç //hufmtree tree[]ä¸ºå·²çŸ¥çš„å“ˆå¤«æ›¼æ ‘void huffmancode(codetype code[],hufmtree tree[])&#123; int i,c,p; codetype cd; //ç¼“å†²å˜é‡ for(i=0;i&lt;n;i++)&#123; cd.start=n; cd.ch=tree[i].ch; c=i; //ä»å¶ç»“ç‚¹å‡ºå‘å‘ä¸Šå›æº¯ p=tree[i].parent; //tree[p]æ˜¯tree[i]çš„åŒäº² while(p!=0)&#123; cd.start--; if(tree[p].lchild==c) cd.bits[cd.start]='0'; //tree[i]æ˜¯å·¦å­æ ‘ï¼Œç”Ÿæˆä»£ç '0' else cd.bits[cd.start]='1'; //tree[i]æ˜¯å³å­æ ‘ï¼Œç”Ÿæˆä»£ç '1' c=p; p=tree[p].parent; &#125; code[i]=cd; //ç¬¬i+1ä¸ªå­—ç¬¦çš„ç¼–ç å­˜å…¥code[i] &#125;&#125;//huffmancode//å“ˆå¤«æ›¼æ ‘è¯‘ç void decode(hufmtree tree[])&#123; int i,j; char b[maxsize]; i=m-1; //ä»æ ¹ç»“ç‚¹å¼€å§‹å¾€ä¸‹æœç´¢ printf(\"è¾“å…¥å‘é€çš„ç¼–ç (ä»¥'#'ä¸ºç»“æŸæ ‡å¿—)ï¼š\"); gets(b); printf(\"è¯‘ç åçš„å­—ç¬¦ä¸º\"); for(j=0;b[j]!='#';j++)&#123; if(b[j]=='0') i=tree[i].lchild; //èµ°å‘å·¦å­©å­ else i=tree[i].rchild; //èµ°å‘å³å­©å­ if(tree[i].lchild==-1) &#123; //tree[i]æ˜¯å¶ç»“ç‚¹ printf(\"%c\",tree[i].ch); i=m-1; //å›åˆ°æ ¹ç»“ç‚¹ &#125; &#125; if(tree[i].lchild!=-1 &amp;&amp; b[j]!= '#') //ç”µæ–‡è¯»å®Œï¼Œä½†å°šæœªåˆ°å¶å­ç»“ç‚¹ printf(\"\\nERROR\\n\"); //è¾“å…¥ç”µæ–‡æœ‰é”™&#125;void input(hufmtree tree[],codetype code[])&#123; int i,j;//å¾ªç¯å˜é‡ printf(\"ã€å“ˆå¤«æ›¼ç¼–ç ã€‘\\n\"); printf(\"æ€»å…±æœ‰%dä¸ªå­—ç¬¦\\n\",n); huffman(tree);//å»ºç«‹å“ˆå¤«æ›¼æ ‘ huffmancode(code,tree);//æ ¹æ®å“ˆå¤«æ›¼æ ‘æ±‚å‡ºå“ˆå¤«æ›¼ç¼–ç  printf(\"ã€è¾“å‡ºæ¯ä¸ªå­—ç¬¦çš„å“ˆå¤«æ›¼ç¼–ç ã€‘\\n\"); for(i=0;i&lt;n;i++)&#123; printf(\"%c: \",code[i].ch); for(j=code[i].start;j&lt;n;j++) printf(\"%c\",code[i].bits[j]); printf(\"\\n\"); &#125;&#125;int main()&#123; hufmtree tree[m]; codetype code[n]; input(tree,code); printf(\"ã€å“ˆå¤«æ›¼è¯‘ç ã€‘\\n\"); decode(tree);//ä¾æ¬¡è¯»å…¥ç”µæ–‡ï¼Œæ ¹æ®å“ˆå¤«æ›¼æ ‘è¯‘ç  return 0;&#125;","categories":[],"tags":[{"name":"C","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://nymrli.top/tags/æ•°æ®ç»“æ„/"}]},{"title":"æ•°æ®ç»“æ„å®éªŒ4â€”â€”å„ç§å†…æ’åºç®—æ³•çš„å®ç°åŠæ€§èƒ½æ¯”è¾ƒ","slug":"æ•°æ®ç»“æ„å®éªŒ4â€”â€”å„ç§å†…æ’åºç®—æ³•çš„å®ç°åŠæ€§èƒ½æ¯”è¾ƒ","date":"2018-12-28T11:20:19.000Z","updated":"2021-02-20T04:53:51.928Z","comments":true,"path":"2018/12/28/æ•°æ®ç»“æ„å®éªŒ4â€”â€”å„ç§å†…æ’åºç®—æ³•çš„å®ç°åŠæ€§èƒ½æ¯”è¾ƒ/","link":"","permalink":"https://nymrli.top/2018/12/28/æ•°æ®ç»“æ„å®éªŒ4â€”â€”å„ç§å†…æ’åºç®—æ³•çš„å®ç°åŠæ€§èƒ½æ¯”è¾ƒ/","excerpt":"","text":"éƒ¨åˆ†ä»£ç  è¾…åŠ©å‡½æ•° 1234567891011121314/**ç”Ÿæˆéšæœºæ•°**/void RandCreate(int *a)&#123; int i; for ( i = 0; i &lt; N; ++i) a[i] = 1 + (rand()%1000);&#125;/***äº¤æ¢æ•°ç»„ä¸­,ä¸¤ä¸ªä¸‹æ ‡çš„å€¼***/void Swap(int *a,int i,int j)&#123; int tmp; tmp = a[i]; a[i] = a[j]; a[j] = tmp;&#125; ç®€å•é€‰æ‹©æ’åº 123456789/**ç®€å•é€‰æ‹©æ’åº**/void SelectSort(int *l)&#123; int minx,i,j; for (i= 0; i &lt; N-1; ++i)&#123; minx = i; //é»˜è®¤æ ‡è®°ä¸ºæ¯æ¬¡ç¬¬ä¸€ä½å…ƒç´ ä¸‹æ ‡ for (j = i+1; j &lt; N; ++j) if( l[minx] &gt; l[j] ) minx = j; if( minx != i) Swap(l,minx,i); //åˆ¤æ–­èµ·å§‹ä½ç½®æ˜¯å¦ä¸ºæœ€å°å€¼ &#125;&#125; ç›´æ¥æ’å…¥æ’åº 12345678910111213/**ç›´æ¥æ’å…¥æ’åº**/void InsertSort(int *l)&#123; int i,j; //iæ ‡è¯†å¾…æ’å…¥å…ƒç´ ä¸‹æ ‡ for(i = 1;i &lt; N;i ++)&#123; int insertItem = l[i]; //æ ‡è®°æ¯æ¬¡ç¬¬ä¸€ä½å…ƒç´  for(j = i-1;j &gt;= 0;j --)&#123; //ä¸æ–­å°†æœ‰åºåºåˆ—ä¸­å…ƒç´ å‘åç§»åŠ¨,ä¸ºå¾…æ’å…¥å…ƒç´ ç©ºå‡ºä¸€ä¸ªä½ç½® if(insertItem &lt; l[j]) l[j+1] = l[j]; else break; &#125; l[j+1] = insertItem; //å¾…æ’å…¥å…ƒç´ æœ‰åºå­˜æ”¾è‡³æœ‰åºåºåˆ—ä¸­ &#125;&#125; å†’æ³¡æ’åº 12345678910111213141516//å†’æ³¡æ’åºvoid BubbleSort(int *l)&#123; int i,j; //iæ ‡è¯†æ¯è¶Ÿæ’åºèŒƒå›´æœ€åä¸€ä¸ªå…ƒç´ ä¸‹æ ‡,æ¯è¶Ÿæ’åºå…ƒç´ ä¸‹æ ‡èŒƒå›´æ˜¯0~i for(i = N-1;i &gt; 0;i --)&#123; int isSwap = 0; //æ•™æé”™è¯¯,åº”è¯¥æ”¾åˆ°ç¬¬äºŒå±‚å¾ªç¯å‰ for(j = 0; j&lt;i;j ++)&#123; if(l[j] &gt; l[j+1])&#123; Swap(l,j,j+1); isSwap = 1; &#125; &#125; if(!isSwap) break; //å¦‚æœæœ¬è¶Ÿæ’åºæ²¡æœ‰å‘ç”Ÿå…ƒç´ äº¤æ¢,åˆ™ç›´æ¥å¯ä»¥è®¤ä¸ºæ’åºå·²å®Œæˆ &#125;&#125; å¿«é€Ÿæ’åº 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include&lt;iostream&gt;using namespace std;void quickSort(int a[], int m,int n);int partion(int a[], int m, int n);int main()&#123; int a[] = &#123; 6,1,2,7,9,3,3,4,5,10,8 &#125;; int m = 0; int n = (sizeof(a) / 4)-1; quickSort(a, m,n); for (int i = 0; i &lt; 10; i++) &#123; cout &lt;&lt; a[i] &lt;&lt; \" \"; &#125;&#125;void quickSort(int a[], int m, int n)&#123; if (m &lt; n) &#123; int q = partion(a, m, n); quickSort(a, m, q-1); quickSort(a, q + 1, n); &#125;&#125;int partion(int a[], int m, int n)&#123; int key=m; // mä¸ºå·¦, nä¸ºå³è¾¹ç•Œ int j= n,i=m; int temp1, temp2; while (i != j) &#123; while (a[j] &gt;= a[key] &amp;&amp; i &lt; j) &#123; --j; &#125; while ((a[i] &lt;= a[key]) &amp;&amp; (i &lt; j)) &#123; ++i; &#125; if (i &lt; j) &#123; temp1 = a[j]; a[j] = a[i]; a[i] = temp1; &#125; &#125; temp2 = a[key]; a[key] = a[i]; a[i] = temp2; return i;&#125; ä¸¤è·¯åˆå¹¶æ’åº 123456789101112131415161718192021222324252627282930313233343536373839//Mergeå‡½æ•°,å‚è€ƒäº†é™ˆæ…§å—è€å¸ˆçš„ã€Šæ•°æ®ç»“æ„â€”â€”Cè¯­è¨€æè¿°ã€‹æ•™ævoid Merge(int *l,int Temp[],int i1,int j1,int i2,int j2,int *k)&#123; int i = i1,j = i2; while((i &lt;= j1)&amp;&amp;(j&lt;=j2))&#123; //è‹¥ä¸¤ä¸ªå­åºåˆ—éƒ½ä¸ç©º,åˆ™å¾ªç¯ if(l[i] &lt;= l[j])&#123; Temp[(*k)++] = l[i++]; //å°†è¾ƒå°å…ƒç´ å­˜å…¥Temp[*k] &#125; else Temp[(*k)++] = l[j++]; &#125; while(i &lt;= j1) Temp[(*k)++] = l[i++]; //å°†å­åºåˆ—1ä¸­å‰©ä½™å…ƒç´ å­˜å…¥Temp while(j &lt;= j2) Temp[(*k)++] = l[j++]; //å°†å­åºåˆ—2ä¸­å‰©ä½™å…ƒç´ å­˜å…¥Temp&#125;//MergeSortå‡½æ•°void MergeSort(int *l)&#123; int Temp[N]; int i1,j1,i2,j2,i,k,size = 1; //i1,j1å’Œi2,j2åˆ†åˆ«æ˜¯ä¸¤ä¸ªå­åºåˆ—çš„ä¸Š,ä¸‹ç•Œ while(size &lt; N)&#123; i1 = 0; k = 0; while(i1+size &lt; N)&#123; //è‹¥i1+size &lt; n,åˆ™è¯´æ˜å­˜åœ¨ä¸¤ä¸ªå­åºåˆ—,éœ€è¦å†ä¸¤ä¸¤åˆå¹¶ i2 = i1+size; //ç¡®å®šå­åºåˆ—2çš„ä¸‹ç•Œå’Œå­åºåˆ—1çš„ä¸Šç•Œ j1 = i2-1; if(i2+size-1 &gt; N-1)&#123; //è®¾ç½®å­åºåˆ—2çš„ä¸Šç•Œ j2 = N-1; &#125; else j2 = i2+size-1; Merge(l,Temp,i1,j1,i2,j2,&amp;k); //åˆå¹¶ç›¸é‚»ä¸¤ä¸ªå­åºåˆ— i1 = j2+1; //ç¡®å®šä¸‹ä¸€æ¬¡åˆå¹¶ç¬¬ä¸€ä¸ªå­åºåˆ—çš„ä¸‹ç•Œ &#125; for(i = 0;i &lt; k;i ++)&#123; l[i] = Temp[i]; &#125; size *= 2; //å­åºåˆ—é•¿åº¦æ‰©å¤§ä¸€å€ &#125;&#125; å †æ’åº 123456789101112131415161718192021222324252627282930313233343536373839404142typedef struct heap&#123; int n; int *data;&#125;heap;/**å‘ä¸‹è°ƒæ•´ä¸ºæœ€å¤§å †**/void AdjustHeap(int Heap[],int s,int m)&#123; int temp = Heap[s]; for(int j = 2*s+1;j &lt;= m; j *= 2)&#123; if(j &lt; m &amp;&amp;Heap[j] &lt; Heap[j+1]) j++; if(temp &gt; Heap[j]) break; Heap[s] = Heap[j]; s = j; &#125; Heap[s] = temp;&#125;/**å»ºå †**/void CreateHeap(int *heap,int n)&#123; int i; for(i = (n-2)/2;i &gt;= 0;i --) AdjustHeap(heap,i,n);&#125;/**å †åˆå§‹åŒ–**/void heapInit(heap *hp,int *a,int n)&#123; hp-&gt;n = n; hp-&gt;data = (int *)malloc( sizeof(int) *n); int i; for( i = 0;i &lt; n;i ++) hp-&gt;data[i] = a[i]; CreateHeap(hp-&gt;data ,N-1);&#125;/**å †æ’åº**/void HeapSort(heap *hp)&#123; int i; for( i=hp-&gt;n/2 ; i&gt;0 ;i--) AdjustHeap(hp-&gt;data,i,hp-&gt;n); for( i = hp-&gt; n-1 ;i&gt;0;i--)&#123; Swap( hp-&gt;data,0,i); AdjustHeap(hp-&gt;data,0,i-1); &#125;&#125; â–²å‘ä¸‹è°ƒæ•´æ³•====&gt; å»ºå † â€¦ ç»™ä¸€å †æ•°æ®,ä¸€æ¬¡æ€§å»ºå † â–²å‘ä¸Šè°ƒæ•´æ³•====&gt; åœ¨å·²ç»æ˜¯æœ€å°æˆ–æœ€å¤§å †çš„åŸºç¡€ä¸Š,å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹,ä»ä¿æŒä¸ºæœ€å¤§æˆ–æœ€å°å † æ€»ä½“ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;time.h&gt;#define N 100000void RandCreate(int *a)&#123; int i; for ( i = 0; i &lt; N; ++i) a[i] = 1 + (rand()%1000);&#125;/***äº¤æ¢æ•°ç»„ä¸­,ä¸¤ä¸ªä¸‹æ ‡çš„å€¼***/void Swap(int *a,int i,int j)&#123; int tmp; tmp = a[i]; a[i] = a[j]; a[j] = tmp;&#125;/**ç®€å•é€‰æ‹©æ’åº**/void SelectSort(int *l)&#123; int minx,i,j; for (i= 0; i &lt; N-1; ++i)&#123; minx = i; //é»˜è®¤æ ‡è®°ä¸ºæ¯æ¬¡ç¬¬ä¸€ä½å…ƒç´ ä¸‹æ ‡ for (j = i+1; j &lt; N; ++j) if( l[minx] &gt; l[j] ) minx = j; if( minx != i) Swap(l,minx,i); //åˆ¤æ–­èµ·å§‹ä½ç½®æ˜¯å¦ä¸ºæœ€å°å€¼ &#125;&#125;/**ç›´æ¥æ’å…¥æ’åº**/void InsertSort(int *l)&#123; int i,j; //iæ ‡è¯†å¾…æ’å…¥å…ƒç´ ä¸‹æ ‡ for(i = 1;i &lt; N;i ++)&#123; int insertItem = l[i]; //æ ‡è®°æ¯æ¬¡ç¬¬ä¸€ä½å…ƒç´  for(j = i-1;j &gt;= 0;j --)&#123; //ä¸æ–­å°†æœ‰åºåºåˆ—ä¸­å…ƒç´ å‘åç§»åŠ¨,ä¸ºå¾…æ’å…¥å…ƒç´ ç©ºå‡ºä¸€ä¸ªä½ç½® if(insertItem &lt; l[j]) l[j+1] = l[j]; else break; &#125; l[j+1] = insertItem; //å¾…æ’å…¥å…ƒç´ æœ‰åºå­˜æ”¾è‡³æœ‰åºåºåˆ—ä¸­ &#125;&#125;/**å†’æ³¡æ’åº**/void BubbleSort(int *l)&#123; int i,j; //iæ ‡è¯†æ¯è¶Ÿæ’åºèŒƒå›´æœ€åä¸€ä¸ªå…ƒç´ ä¸‹æ ‡,æ¯è¶Ÿæ’åºå…ƒç´ ä¸‹æ ‡èŒƒå›´æ˜¯0~i for(i = N-1;i &gt; 0;i --)&#123; int isSwap = 0; //æ•™æé”™è¯¯,åº”è¯¥æ”¾åˆ°ç¬¬äºŒå±‚å¾ªç¯å‰ for(j = 0; j&lt;i;j ++)&#123; if(l[j] &gt; l[j+1])&#123; Swap(l,j,j+1); isSwap = 1; &#125; &#125; if(!isSwap) break; //å¦‚æœæœ¬è¶Ÿæ’åºæ²¡æœ‰å‘ç”Ÿå…ƒç´ äº¤æ¢,åˆ™ç›´æ¥å¯ä»¥è®¤ä¸ºæ’åºå·²å®Œæˆ &#125;&#125;/**å¿«é€Ÿæ’åº**///åºåˆ—åˆ’åˆ†æ–¹æ³•int Partition(int *l,int low,int high)&#123; int i = low,j = high + 1; int pivot = l[low]; //pivotæ˜¯åˆ†å‰²å…ƒç´  do&#123; do i++; while(l[i] &lt; pivot); //iå‰è¿› do j--; while(l[j] &gt; pivot); //jå‰è¿› if(i &lt; j) Swap(l,i,j); &#125;while(i &lt; j); Swap(l,low,j); return j; //æ­¤æ—¶jæ˜¯åˆ†å‰²å…ƒç´ ä¸‹æ ‡&#125;//å¿«é€Ÿæ’åºvoid QuickSort(int *l,int low,int high)&#123; //å¿«é€Ÿæ’åºçš„é€’å½’å‡½æ•° int k; if(low &lt; high)&#123; //å½“å‰å¾…æ’åºåºåˆ—è‡³å°‘åŒ…å«2ä¸ªå…ƒç´  k = Partition(l,low,high); QuickSort(l,low,k-1); QuickSort(l,k+1,high); &#125;&#125;void QSort(int *l)&#123; //å¿«é€Ÿæ’åºç®—æ³•çš„ä¸»è°ƒç”¨å‡½æ•° QuickSort(l,0,N-1);&#125;/**å¿«é€Ÿæ’åº**//**ä¸¤è·¯åˆå¹¶æ’åº**///Mergeå‡½æ•°void Merge(int *l,int Temp[],int i1,int j1,int i2,int j2,int *k)&#123; int i = i1,j = i2; while((i &lt;= j1)&amp;&amp;(j&lt;=j2))&#123; //è‹¥ä¸¤ä¸ªå­åºåˆ—éƒ½ä¸ç©º,åˆ™å¾ªç¯ if(l[i] &lt;= l[j])&#123; Temp[(*k)++] = l[i++]; //å°†è¾ƒå°å…ƒç´ å­˜å…¥Temp[*k] &#125; else Temp[(*k)++] = l[j++]; &#125; while(i &lt;= j1) Temp[(*k)++] = l[i++]; //å°†å­åºåˆ—1ä¸­å‰©ä½™å…ƒç´ å­˜å…¥Temp while(j &lt;= j2) Temp[(*k)++] = l[j++]; //å°†å­åºåˆ—2ä¸­å‰©ä½™å…ƒç´ å­˜å…¥Temp&#125;//MergeSortå‡½æ•°void MergeSort(int *l)&#123; int Temp[N]; int i1,j1,i2,j2,i,k,size = 1; //i1,j1å’Œi2,j2åˆ†åˆ«æ˜¯ä¸¤ä¸ªå­åºåˆ—çš„ä¸Š,ä¸‹ç•Œ while(size &lt; N)&#123; i1 = 0; k = 0; while(i1+size &lt; N)&#123; //è‹¥i1+size &lt; n,åˆ™è¯´æ˜å­˜åœ¨ä¸¤ä¸ªå­åºåˆ—,éœ€è¦å†ä¸¤ä¸¤åˆå¹¶ i2 = i1+size; //ç¡®å®šå­åºåˆ—2çš„ä¸‹ç•Œå’Œå­åºåˆ—1çš„ä¸Šç•Œ j1 = i2-1; if(i2+size-1 &gt; N-1)&#123; //è®¾ç½®å­åºåˆ—2çš„ä¸Šç•Œ j2 = N-1; &#125; else j2 = i2+size-1; Merge(l,Temp,i1,j1,i2,j2,&amp;k); //åˆå¹¶ç›¸é‚»ä¸¤ä¸ªå­åºåˆ— i1 = j2+1; //ç¡®å®šä¸‹ä¸€æ¬¡åˆå¹¶ç¬¬ä¸€ä¸ªå­åºåˆ—çš„ä¸‹ç•Œ &#125; for(i = 0;i &lt; k;i ++)&#123; l[i] = Temp[i]; &#125; size *= 2; //å­åºåˆ—é•¿åº¦æ‰©å¤§ä¸€å€ &#125;&#125;/**ä¸¤è·¯åˆå¹¶æ’åº**//*****å †æ’åº*****/typedef struct heap&#123; int n; int *data;&#125;heap;/**å‘ä¸‹è°ƒæ•´ä¸ºæœ€å¤§å †**/void AdjustHeap(int Heap[],int s,int m)&#123; int temp = Heap[s]; for(int j = 2*s+1;j &lt;= m; j *= 2)&#123; if(j &lt; m &amp;&amp;Heap[j] &lt; Heap[j+1]) j++; if(temp &gt; Heap[j]) break; Heap[s] = Heap[j]; s = j; &#125; Heap[s] = temp;&#125;/**å»ºå †**/void CreateHeap(int *heap,int n)&#123; int i; for(i = (n-2)/2;i &gt;= 0;i --) AdjustHeap(heap,i,n);&#125;/**å †åˆå§‹åŒ–**/void heapInit(heap *hp,int *a,int n)&#123; hp-&gt;n = n; hp-&gt;data = (int *)malloc( sizeof(int) *n); int i; for( i = 0;i &lt; n;i ++) hp-&gt;data[i] = a[i]; CreateHeap(hp-&gt;data ,N-1);&#125;/**å †æ’åº**/void HeapSort(heap *hp)&#123; int i; for( i=hp-&gt;n/2 ; i&gt;0 ;i--) AdjustHeap(hp-&gt;data,i,hp-&gt;n); for( i = hp-&gt; n-1 ;i&gt;0;i--)&#123; Swap( hp-&gt;data,0,i); AdjustHeap(hp-&gt;data,0,i-1); &#125;&#125;/*****å †æ’åº*****/int main()&#123; srand(time( NULL )); int a[6][N]; int i,j; RandCreate(a[0]); for (int i = 1; i &lt; 6; ++i) for (int j = 0; j &lt; N; ++j) a[i][j] = a[0][j]; double start1 = (double) clock(); SelectSort(a[0]); double end1 = (double) clock(); double diff1 = difftime(end1,start1); printf(\"%18s%10lf\\n\",\"ç®€å•é€‰æ‹©æ’åºæ—¶é—´:\",diff1); double start2 = (double) clock(); InsertSort(a[1]); double end2 = (double) clock(); double diff2 = difftime(end2,start2); printf(\"%18s%10lf\\n\",\"ç›´æ¥æ’å…¥æ’åºæ—¶é—´:\",diff2); double start3 = (double) clock(); BubbleSort(a[2]); double end3 = (double) clock(); double diff3 = difftime(end3,start3); printf(\"%18s%10lf\\n\",\"å†’æ³¡æ’åºæ—¶é—´:\",diff3); double start5 = (double) clock(); MergeSort(a[4]); double end5 = (double) clock(); double diff5 = difftime(end5,start5); printf(\"%18s%10lf\\n\",\"ä¸¤è·¯æ’åºæ—¶é—´:\",diff5); double start4 = (double) clock(); QSort(a[3]); double end4 = (double) clock(); double diff4 = difftime(end4,start4); printf(\"%18s%10lf\\n\",\"å¿«é€Ÿæ’åºæ—¶é—´:\",diff4); heap hp; heapInit(&amp;hp,a[5],N); double start6 = (double) clock(); HeapSort(&amp;hp); double end6 = (double) clock(); double diff6 = difftime(end6,start6); printf(\"%18s%10lf\\n\",\"å †æ’åºæ—¶é—´:\",diff6); system(\"pause\"); return 0;&#125; å…³äºå †æ’åºçš„ç†è§£ é™é€‰è¯¾å¯¹å †æ’çš„æ²¡æœ‰è¦æ±‚,ä½†æ˜¯åœ¨å®éªŒä¸­æ¶‰åŠäº†ã€‚å¹³æ—¶ä¹Ÿæ²¡æ€ä¹ˆçœ‹è¿‡å †æ’åºï¼Œæ‰€ä»¥è¿™æ¬¡å†™çš„æ—¶å€™å‡ºç°äº†ç†è§£ä¸Šçš„é”™è¯¯ï¼Œåœ¨æ­¤è®°ä¸‹ï¼š å‘ä¸Šå’Œå‘ä¸‹è°ƒæ•´æ³•çš„åŒºåˆ«: åŒºåˆ«åœ¨äºç”¨é€”ä¸ä¸€æ ·ï¼Œè€Œä¸æ˜¯ ç”Ÿæˆæœ€å°å †å’Œæœ€å¤§å †çš„åŒºåˆ« å‘ä¸‹è°ƒæ•´æ³•====&gt; å»ºå † â€¦ ç»™ä¸€å †æ•°æ®,ä¸€æ¬¡æ€§å»ºå † å‘ä¸Šè°ƒæ•´æ³•====&gt; åœ¨å·²ç»æ˜¯æœ€å°æˆ–æœ€å¤§å †çš„åŸºç¡€ä¸Š,å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹,ä»ä¿æŒä¸ºæœ€å¤§æˆ–æœ€å°å † å…·ä½“è€Œè¨€ï¼š ç»™å®šä¸€ä¸ªä¹±åºçš„æ•°ç»„ï¼Œè¦æ„å»ºæœ€å°æˆ–æœ€å¤§å †==&gt; å‘ä¸‹è°ƒæ•´ å·²ç»æ˜¯ä¸ªæœ€å¤§æˆ–æœ€å°å †çš„æ•°ç»„,æ’å…¥æˆ–åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œä»è¦ä¿æŒæœ€å°å † ;ä¼˜å…ˆæƒé˜Ÿåˆ—===&gt; å‘ä¸Šè°ƒæ•´ 123456789101112131415//æœ€å¤§å †void AdjustHeap(int Heap[],int s,int m)&#123; int temp = Heap[s]; for(int j = 2*s+1;j &lt;= m; j *= 2)&#123; if(j &lt; m &amp;&amp;Heap[j] &lt; Heap[j+1])&#123; j++; &#125; if(temp &gt; Heap[j])&#123; break; &#125; Heap[s] = Heap[j]; s = j; &#125; Heap[s] = temp;&#125; åŒºåˆ«åœ¨äºç¬¬5è¡Œå’Œç¬¬8è¡Œ 123456789101112131415//æœ€å°å †void AdjustHeap(int Heap[],int s,int m)&#123; int temp = Heap[s]; for(int j = 2*s+1;j &lt;= m; j = j*2+1)&#123; if(j &lt; m &amp;&amp;Heap[j] &gt; Heap[j+1])&#123; j++; &#125; if(temp &lt; Heap[j])&#123; break; &#125; Heap[s] = Heap[j]; s = j; &#125; Heap[s] = temp;&#125; å»ºå †çš„æ‰§è¡Œè¿‡ç¨‹å¤§è‡´æ˜¯: CreateHeapå‡½æ•°ä»ä¸‹å¾€ä¸Šå»ºï¼Œå³ä»[s,m]==&gt;[s-1,m],åœ¨ä¿è¯ä»såˆ°mæ˜¯æœ€å°å †å,å†ç”¨å‘ä¸‹è°ƒæ•´æ³•ä½¿[s-1,m]ä¹Ÿæˆä¸ºå †ã€‚ å‘ä¸‹è°ƒæ•´çš„è¿‡ç¨‹ï¼š ä»sâ€“&gt;m,ä¾æ¬¡è°ƒæ•´ æ€»çš„é€»è¾‘æ˜¯ï¼Œç”±äºè¦ä½¿å·¦å­æ ‘å’Œå³å­æ ‘æ»¡è¶³è¦æ±‚ï¼Œæ‰€ä»¥éœ€è¦ä»ä¸‹å¾€ä¸Šè°ƒæ•´ã€‚","categories":[],"tags":[{"name":"C","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://nymrli.top/tags/æ•°æ®ç»“æ„/"}]},{"title":"å—é‚®ã€Šä¿¡å·ä¸ç³»ç»ŸBã€‹å¤ä¹ çŸ¥è¯†ç‚¹å¤§çº²","slug":"å—é‚®ã€Šä¿¡å·ä¸ç³»ç»ŸBã€‹å¤ä¹ çŸ¥è¯†ç‚¹å¤§çº²","date":"2018-12-26T14:15:36.000Z","updated":"2019-09-15T08:07:31.039Z","comments":true,"path":"2018/12/26/å—é‚®ã€Šä¿¡å·ä¸ç³»ç»ŸBã€‹å¤ä¹ çŸ¥è¯†ç‚¹å¤§çº²/","link":"","permalink":"https://nymrli.top/2018/12/26/å—é‚®ã€Šä¿¡å·ä¸ç³»ç»ŸBã€‹å¤ä¹ çŸ¥è¯†ç‚¹å¤§çº²/","excerpt":"","text":"å‹æƒ…æç¤º è¯·å°†å›¾ç‰‡å³é”®å¦å­˜ä¸ºï¼Œä¿å­˜åˆ°æœ¬åœ°æ”¾å¤§æŸ¥çœ‹ã€‚ ç¬¬ä¸€ç«  ç¬¬äºŒç« ","categories":[],"tags":[{"name":"å­¦ä¸š","slug":"å­¦ä¸š","permalink":"https://nymrli.top/tags/å­¦ä¸š/"}]},{"title":"ä¸è’œå­ç»Ÿè®¡é˜…è¯»æ¬¡æ•°å¤±æ•ˆâ€”â€”Cxoä¸»é¢˜","slug":"ä¸è’œå­ç»Ÿè®¡é˜…è¯»æ¬¡æ•°å¤±æ•ˆ","date":"2018-12-26T00:57:37.000Z","updated":"2019-09-15T08:07:31.020Z","comments":true,"path":"2018/12/26/ä¸è’œå­ç»Ÿè®¡é˜…è¯»æ¬¡æ•°å¤±æ•ˆ/","link":"","permalink":"https://nymrli.top/2018/12/26/ä¸è’œå­ç»Ÿè®¡é˜…è¯»æ¬¡æ•°å¤±æ•ˆ/","excerpt":"","text":"å®˜æ–¹é€šçŸ¥ 12&gt; ï¼ï¼ï¼ï¼2018å¹´9æœˆ - é‡è¦æç¤º ï¼ï¼ï¼ï¼å¤§å®¶å¥½ï¼Œå› ä¸ƒç‰›å¼ºåˆ¶è¿‡æœŸåŸæœ‰çš„ã€dn-lbstatics.qbox.meã€åŸŸåï¼ˆé¢„è®¡2018å¹´10æœˆåˆï¼‰ï¼Œä¸å®¢æœæ²Ÿé€šæ•°æ¬¡æ— æœï¼Œå³ä½¿æˆ‘æå‡ºä¸ºæ­¤ä»˜è´¹ä¹Ÿä¸è¡Œï¼Œåªèƒ½æ›´æ¢åŸŸååˆ°ã€busuanzi.ibruce.infoã€ï¼å› æˆ‘æ˜¯æœ€æ—©çš„ä¸€æ‰¹ä¸ƒç‰›ç”¨æˆ·ï¼Œä¸ºä¸ƒç‰›è‡³å°‘å¸¦æ¥äº†æ•°ç™¾ä¸ªé‚€è¯·ç”¨æˆ·ï¼Œå¾ˆç—›å¿ƒï¼Œå¾ˆæ— å¥ˆï¼å„ä½ç»§ç»­ä½¿ç”¨ä¸è’œå­æä¾›çš„æœåŠ¡ï¼Œåªéœ€æŠŠåŸæœ‰çš„ï¼š&lt;script async src=&quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;åŸŸåæ”¹ä¸€ä¸‹å³å¯ï¼š&lt;script async src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;åªéœ€è¦ä¿®æ”¹è¯¥jsåŸŸåï¼Œå…¶ä»–å‡æœªæ”¹å˜ã€‚è‹¥æœ‰ç–‘é—®ï¼Œå¯ä»¥åŠ å…¥ä¸è’œå­äº¤æµQQç¾¤ï¼š`419260983`ï¼Œå¯¹æ‚¨å¸¦æ¥çš„ä¸ä¾¿ï¼Œéå¸¸æŠ±æ­‰ï¼ï¼ï¼è¿˜æ˜¯é‚£å¥è¯ï¼Œä¸è’œå­ä¸ä¼šä¸­æ–­æœåŠ¡ï¼ï¼ï¼ï¼&gt; ä¸è’œå­ åŸå› åˆ†æ ç”±äºå®šä½åˆ°æ˜¯ä¸è’œå­ç»Ÿè®¡åŠŸèƒ½çªç„¶æœ‰é—®é¢˜äº†ï¼Œæ‰€ä»¥å‰å¾€ä¸è’œå­å®˜ç½‘è¿›è¡ŒæŸ¥çœ‹ï¼Œå‘ç°å®˜ç½‘æœ‰ä¸€æ®µå¾ˆé‡è¦çš„æç¤ºï¼š â€œå› ä¸ƒç‰›å¼ºåˆ¶è¿‡æœŸã€dn-lbstatics.qbox.meã€åŸŸåï¼Œä¸å®¢æœæ²Ÿé€šæ— æœï¼Œåªèƒ½æ›´æ¢åŸŸååˆ°ã€busuanzi.ibruce.infoã€ï¼â€ æ‰€ä»¥å®šä½åˆ°é—®é¢˜ï¼ŒåŸæ¥æ˜¯ä¸è’œå­ä½¿ç”¨çš„ä¸ƒç‰›çš„åŸŸåè¢«å¼ºåˆ¶è¿‡æœŸã€‚ éœ€è¦æŠŠ dn-lbstatics.qbox.me åŸŸåæ›´æ¢ä¸º busuanzi.ibruce.info å®é™…æ“ä½œ æ‰¾åˆ°å«busuanziæ’ä»¶è®¾ç½®çš„æ–‡ä»¶ ä¿®æ”¹æŒ‡å‘çš„ç½‘å€ ä¿®æ”¹å®Œå","categories":[],"tags":[]},{"title":"Ubuntuä¸‹Sublimeé…ç½®pythonç¼–è¯‘ç¯å¢ƒåŠæ–°æ‰‹ä½¿ç”¨æŒ‡å¯¼","slug":"Ubuntuä¸‹Sublimeé…ç½®pythonç¼–è¯‘ç¯å¢ƒåŠæ–°æ‰‹ä½¿ç”¨æŒ‡å¯¼","date":"2018-12-26T00:41:18.000Z","updated":"2021-12-27T13:49:48.697Z","comments":true,"path":"2018/12/26/Ubuntuä¸‹Sublimeé…ç½®pythonç¼–è¯‘ç¯å¢ƒåŠæ–°æ‰‹ä½¿ç”¨æŒ‡å¯¼/","link":"","permalink":"https://nymrli.top/2018/12/26/Ubuntuä¸‹Sublimeé…ç½®pythonç¼–è¯‘ç¯å¢ƒåŠæ–°æ‰‹ä½¿ç”¨æŒ‡å¯¼/","excerpt":"","text":"Sublimeä¸‹é…ç½®pythonç¼–è¯‘ç¯å¢ƒåŠæ­å»ºè™šæ‹Ÿç¯å¢ƒ:(windowsä¸‹å¤§è‡´ç›¸åŒ) 1.ç¼–è¯‘ç¯å¢ƒé…ç½® 2019-3-6æ›´æ–°æ•™ç¨‹ï¼Œå‘ç°å¥½åƒ å®˜æ–¹ç½‘å€æ‰“ä¸å¼€äº†ï¼Œè¦æ”¹ä¸€ä¸‹æºæ‰è¡Œã€‚ è§£å†³åŠæ³•ï¼š ç‚¹å‡» Preferences -&gt; Settings -&gt; Preferences.sublime-Settingsâ€”â€” User(ä¸€ä¸ªæ–°çª—å£) æ·»åŠ é…ç½®**(åœ¨åŸæœ‰å¤§æ‹¬å·{}é‡Œé¢æ·»åŠ **)ï¼š&quot;channels&quot;: [&quot;https://raw.githubusercontent.com/HBLong/channel_v3_daily/master/channel_v3.json&quot;], ä»£ç ä¸å˜ï¼Œä»ç„¶æ˜¯ä¸‹é¢çš„ä»£ç  æ„Ÿè°¢HBLongæä¾›çš„è§£å†³æ–¹æ¡ˆå’Œæº: åŸæœ‰é“¾æ¥ : è§£å†³ï¼šSublime Text3 packagecontrol.io æ— æ³•è®¿é—®çš„é—®é¢˜ 1import urllib.request,os,hashlib; h = &apos;6f4c264a24d933ce70df5dedcf1dcaee&apos; + &apos;ebe013ee18cced0ef93d5f746d80ef60&apos;; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( &apos;http://packagecontrol.io/&apos; + pf.replace(&apos; &apos;, &apos;%20&apos;)).read(); dh = hashlib.sha256(by).hexdigest(); print(&apos;Error validating download (got %s instead of %s), please try manual install&apos; % (dh, h)) if dh != h else open(os.path.join( ipp, pf), &apos;wb&apos; ).write(by) 1.ç‚¹å‡» å®˜æ–¹ç½‘å€ ä» Sublime Text 3 å®˜æ–¹è·å–ç”¨äºå®‰è£…çš„ä»£ç ã€‚ä»èœå•æ View --&gt;Show Consoleæˆ–è€…ä½¿ç”¨Ctrl+`(escé”®ä¸‹é¢çš„æŒ‰é”®)ï¼Œè°ƒå‡ºsublimeçš„æ§åˆ¶å°ï¼Œå°†å®˜ç½‘ä¸­çš„pythonä»£ç ç²˜è´´è¿›å»å¹¶æŒ‰Enteræ‰§è¡Œï¼Œæœ€ç»ˆå¯ä»¥å®‰è£…å®Œæˆã€‚åœ¨æ§åˆ¶å°ä¸­ç²˜è´´åˆšæ‰çš„ä»£ç ï¼Œç„¶åç‚¹å‡»å›è½¦ã€‚æœ€åé‡å¯ST3ã€‚ 2.ç°åœ¨ä½ å¯ä»¥é€šè¿‡å¿«æ·é”® cmd+shift+P æ‰“å¼€ Package Control æ¥å®‰è£…å…¶ä»–çš„æ’ä»¶äº†ã€‚è¾“å…¥ install ç„¶åä½ å°±èƒ½çœ‹è§å±å¹•ä¸Šå‡ºç°äº† Package Control: Install Packageï¼Œç‚¹å‡»å›è½¦,ç„¶åæœç´¢sublimeREPL å®‰è£…æˆåŠŸåï¼Œå¯ä»¥åœ¨èœå•æ çš„â€™TOOLâ€™ä¸­æ‰¾åˆ°SublimeREPLï¼Œå¦‚å›¾æ‰€ç¤º æ³¨ï¼š å®‰è£…SublimeREPLåå¤§å¤šæ•°çš„ç¼–è¯‘å·¥å…·éƒ½ä¼šèƒ½å¤Ÿæ‰§è¡Œï¼Œæ¯”å¦‚Pythonï¼Œg++ï¼Œåœ¨Tools-&gt;Build Systemä¸­éƒ½ä¼šæœ‰ï¼Œå¦‚æœè¿˜æ˜¯æ— æ³•ç¼–è¯‘ï¼Œå‡ºç°[WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶çš„é—®é¢˜ï¼Œåˆ™éœ€è¦è‡ªå·±æŒ‡å®šç¼–è¯‘è¯­å¥ï¼š æ‰“å¼€Sublime Text 3ï¼Œä¾æ¬¡è¿›å…¥Toolsâ€“&gt;Build Systemâ€“&gt;New Build Systemï¼› æ–‡æ¡£å†…å®¹å¡«å†™ä¸º 12345&#123; &quot;cmd&quot;: [&quot;D:\\\\Python39\\\\python.exe&quot;,&quot;-u&quot;,&quot;$file&quot;], # æ³¨æ„è¿™è¾¹çš„pythonå¾—æ ¹æ®è‡ªå·±çš„è·¯å¾„æ¥å¡«å†™ &quot;file_regex&quot;: &quot;^[ ]*File \\&quot;(...*?)\\&quot;, line ([0-9]*)&quot;, &quot;selector&quot;: &quot;source.python&quot;,&#125; æ–‡ä»¶ä¿å­˜åœ¨C:\\Users\\mrli\\AppData\\Roaming\\Sublime Text 3\\Packages\\Useræ³¨æ„å°†è¿™è¾¹çš„mrliæ”¹æˆä½ è‡ªå·±çš„username 2.å°†èœå•æ æ”¹ä¸ºä¸­æ–‡ è‹¥éœ€è¦å°†èœå•æ æ”¹æˆä¸­æ–‡å¯å¦‚ä¸Šæ“ä½œä¸‹è½½æ’ä»¶â€œConvertToUTF8â€æˆ–æ˜¯å®‰è£…æ’ä»¶â€œChineseLocalizationsâ€(æœ¬äººä½¿ç”¨çš„æ˜¯è¿™ä¸ªï¼Œæ²¡è¯•ConvertToUTF8çš„æ•ˆæœ) (å‚è€ƒåšå®¢:http://blog.51cto.com/11970781/2087971) 3.å®‰è£…Anacondaæ’ä»¶ 1.ç‚¹å‡»åˆšåˆšç”Ÿæˆçš„Package Control -&gt;è¾“å…¥install 2.è¿›å…¥å®‰è£…ç•Œé¢ï¼Œå®‰è£…å¥½åå†åœ¨æ–°çª—å£å‘½ä»¤è¡Œä¸­è¾“å…¥Anacondaå¹¶ç‚¹å‡»ç¬¬ä¸€ä¸ªå¤‡é€‰é¡¹è¿›è¡Œå®‰è£…ã€‚ å®‰è£…å®Œæˆåä¼šæ˜¾ç¤ºmessagesæ–‡æ¡£ã€‚ å®‰è£…Anacondaæ’ä»¶å®Œæˆä¹‹åï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹é€‰é¡¹æ ï¼Œè¯´æ˜Anacondaå®‰è£…æˆåŠŸã€‚ Goto Definitions èƒ½å¤Ÿåœ¨ä½ çš„æ•´ä¸ªå·¥ç¨‹ä¸­æŸ¥æ‰¾å¹¶ä¸”æ˜¾ç¤ºä»»æ„ä¸€ä¸ªå˜é‡ï¼Œå‡½æ•°æˆ–è€…ç±»çš„å®šä¹‰ã€‚ Find Usage èƒ½å¤Ÿå¿«é€Ÿçš„æŸ¥æ‰¾æŸä¸ªå˜é‡ï¼Œå‡½æ•°æˆ–è€…ç±»åœ¨æŸä¸ªç‰¹å®šæ–‡ä»¶ä¸­çš„ä»€ä¹ˆåœ°æ–¹è¢«ä½¿ç”¨äº†ã€‚ Show Documentationï¼š èƒ½å¤Ÿæ˜¾ç¤ºä¸€ä¸ªå‡½æ•°æˆ–è€…ç±»çš„è¯´æ˜æ€§å­—ç¬¦ä¸²(å½“ç„¶ï¼Œæ˜¯åœ¨å®šä¹‰äº†å­—ç¬¦ä¸²çš„æƒ…å†µä¸‹) Anacondaä¼šè‡ªåŠ¨è¡¥å…¨ä»£ç ï¼Œä¹‹å‰ç”¨æƒ¯äº†pycharmå‘ç°çªç„¶æ²¡äº†ä»£ç è¡¥å…¨åå¾ˆä¸ä¹ æƒ¯ï¼ŒAnacondaçš„è¡¥å…¨åŠŸèƒ½è™½ç„¶æ²¡æœ‰pycharmé‚£ä¹ˆå¥½ç”¨ï¼Œä½†è¿˜æ˜¯ä¸é”™çš„ è¿˜æœ‰éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®‰è£…Anacondaæ’ä»¶åï¼Œå¦‚æœpythonä»£ç æ²¡æœ‰éµå¾ªPEP8è§„èŒƒï¼Œä¼šå‡ºç°ç™½è‰²çš„æ¡†æ¡†ï¼Œæˆ–æ˜¯å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Alt+Rè¿›è¡Œè§„èŒƒä»£ç (è¿™ä¸ªå¯ä»¥å»é™¤ï¼Œæ­¥éª¤å¦‚ä¸‹) åœ¨Settings-Useré€‰é¡¹ä¸­æ·»åŠ é…ç½®:{&quot;anaconda_linting&quot;:false} 4.å®‰è£…è™šæ‹Ÿç¯å¢ƒ 1.é¦–å…ˆä½¿ç”¨ç»ˆç«¯å®‰è£…virtualenvï¼Œpip3 install virtualenv 2.åœ¨éœ€è¦åˆ›å»ºçš„åœ°æ–¹è¿›è¡Œè™šæ‹Ÿç¯å¢ƒçš„æ­å»ºï¼Œä»£ç å¦‚ä¸‹ï¼š 123mkdir pytest(æ–‡ä»¶å¤¹å)cd pytestvirtualenv venv 1.åœ¨ç»ˆç«¯è¿›å…¥è™šæ‹Ÿç¯å¢ƒçš„è¯æ˜¯åœ¨pytestæ–‡ä»¶å¤¹ä¸‹è¾“å…¥å‘½ä»¤source /bin/activate è€Œè¦åœ¨sublimeä¸­è¿›å…¥è™šæ‹Ÿç¯å¢ƒçš„è¯å°±å¾—æŒ‰ç…§å¦‚ä¸‹æ“ä½œï¼š é¦–å…ˆåœ¨sublimeä¸­å®‰è£…virtualenvæ’ä»¶ï¼ŒCtrl + Shift + Pï¼Œç„¶åè¾“å…¥install,å›è½¦ï¼Œç„¶åæœç´¢virtualenvã€‚ å¯èƒ½å‡ºç°çš„é—®é¢˜: ğŸ¯ç”±äº å®˜æ–¹ç½‘å€æ‰“ä¸å¼€çš„ç¼˜æ•…ï¼Œéœ€è¦æ¢æºï¼Œä½†æ˜¯æ ¹æ®#1.ç¼–è¯‘ç¯å¢ƒé…ç½®è®¾ç½®çš„channelè²Œä¼¼è¿˜æ˜¯ä¼šå‡ºé”™,å¦‚æœå‡ºé”™æŒ‰å¦‚ä¸‹æ–¹æ³•è§£å†³ 2.å®‰è£…å®Œæˆvirtualenvæ’ä»¶åï¼Œç›´æ¥æŒ‰Ctrl + Shift + Pï¼Œå†è¾“å…¥Activateï¼Œè‹¥æ²¡æœ‰è¯¥é€‰é¡¹åˆ™virtualenvå®‰è£…ä¸­å‡ºç°é—®é¢˜ï¼Œéœ€è¦é‡æ–°å®‰è£…ã€‚å¦‚æœæœ‰çš„ä¼šé€‰æ‹©Activateå°±èƒ½å‘ç°åˆšåˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒï¼Œé€‰ä¸­åå›è½¦å³å¯è¿›å…¥è™šæ‹Ÿç¯å¢ƒ 3.å¦‚æœActivateé€‰ä¸­åæ²¡æœ‰å‡ºç°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒï¼Œåˆ™éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ·»åŠ è·¯å¾„.Ctrl + Shift + Pï¼Œç„¶åè¾“å…¥Add directoryï¼Œå›è½¦ï¼Œå±å¹•ä¸‹é¢ä¼šå‡ºç°è¾“å…¥è¡Œï¼ˆDirectory pathï¼‰:å†å°†åˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒè·¯å¾„å¡«å…¥å³å¯ å¦å¤–ï¼Œæˆ‘æ›¾ç¢°åˆ°è¿‡Add directoryåä»ç„¶æ²¡ç”¨çš„æƒ…å†µã€‚é‚£æ—¶ï¼Œå¯é€‰æ‹©â€œâ€Projectâ€=&gt;&quot;Add folder to project&quot;é€‰æ‹©æ–‡ä»¶å=&gt;â€œSave Project asâ€==&gt;ä¿å­˜å¥½å³å¯ å·¥ç¨‹é…ç½®æ–‡ä»¶ä¸ºï¼š .sublime-workspaceã€.sublime-project å…¶ä¸­sublime-projectä¸º: 123456789101112131415161718&#123; \"build_systems\": [ &#123; \"file_regex\": \"^[ ]*File \\\"(...*?)\\\", line ([0-9]*)\", \"name\": \"Anaconda Python Builder\", \"selector\": \"source.python\", \"shell_cmd\": \"\\\"python\\\" -u \\\"$file\\\"\" &#125; ], \"folders\": [ &#123; \"path\": \"çˆ¬è™«\" &#125; ], \"virtualenv\": \"G:\\\\pachong\\\\venv\"&#125; è¿™æ ·ç¯å¢ƒå°±é…ç½®å¥½äº†ã€‚æŒ‰Ctrl+Bç¼–è¯‘æ—¶ï¼Œè§‚å¯Ÿ&quot;Tools&quot;-&gt;â€œBuild Systemâ€-&gt;æ˜¯å¦ä¸º&quot;Python+ Virtualenv&quot;ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™é€‰ç”¨è¿™ä¸ªå†Ctrl+Bå°±æ˜¯åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ç¼–è¯‘äº†! ubuntuä¸‹sublimeé»˜è®¤æƒ…å†µä¸‹å¥½åƒä¸èƒ½è¾“å…¥ä¸­æ–‡ï¼Œéœ€è¦ç”¨ä¸‹é¢å‘½ä»¤å°±å¯ä»¥å®Œç¾æ”¯æŒä¸­æ–‡è¾“å…¥ï¼š 1234$ sudo apt-get update &amp;&amp; sudo apt-get upgrade$ git clone https://github.com/lyfeyaj/sublime-text-imfix.git$ cd sublime-text-imfix$ ./sublime-imfix è½¬è‡ªåšå®¢ æˆªå›¾å¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œèœå•æ éƒ½æ²¡æœ‰æˆªåˆ°ï¼Œç”¨åˆ°çš„ä¸‰ä¸ªåˆ†åˆ«ä¸ºâ€œé¡¹ç›®(Project)â€ï¼Œâ€œé¦–é€‰é¡¹(Preferences)â€ï¼Œâ€œå¸®åŠ©(Help)â€ é™„å½• æ— è®ºæ˜¯Pythonæˆ–è€…C/C++ç¨‹åºæŒ‰Ctrl+båè¿è¡Œæ²¡æœ‰è¾“å‡ºã€‚å‘ç°æ˜¯ç¼–è¯‘é€‰é¡¹å‡ºäº†é—®é¢˜ã€‚ è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼šæŒ‰ä¸‹Ctrl +Shift + bé€‰æ‹©ç¼–è¯‘æ–¹æ³•ï¼Œå…‰æ ‡ç§»åˆ°æœ‰Runçš„é€‰é¡¹,å†æŒ‰Ctrl+bç¼–è¯‘ æˆåŠŸå¦‚å›¾~ ä¸ºSublime Textæ·»åŠ å‘½ä»¤è¡Œcmdå¹¶è®¾ç½®ä¸ºåº•éƒ¨é¢æ¿[è½¬] ä¾èµ–äºTerminusã€Origamiä¸¤ä¸ªæ’ä»¶ã€‚ç¬¬ä¸€ä¸ªæ˜¯ä¸»è¦çš„å‘½ä»¤è¡Œæ’ä»¶ï¼Œç¬¬äºŒä¸ªæ˜¯è®¾ç½®çª—å£ä½ç½®çš„ ctrl+Pç„¶åè¾“å…¥installï¼Œå†åˆ†åˆ«è¾“å…¥Terminusã€Origamiè¿›è¡Œå®‰è£… Preference -&gt; Key Bindingï¼Œæ·»åŠ ï¼š 1234567891011&#123; &quot;keys&quot;: [&quot;ctrl+alt+t&quot;], &quot;command&quot;: &quot;terminus_open&quot;, &quot;args&quot;: &#123; &quot;config_name&quot;: &quot;Default&quot;, &quot;cwd&quot;: &quot;$&#123;file_path:$&#123;folder&#125;&#125;&quot;, &quot;post_window_hooks&quot;: [ [&quot;carry_file_to_pane&quot;, &#123;&quot;direction&quot;: &quot;down&quot;&#125;] ] &#125;&#125; å¿«æ·é”®ctrl+alt+tï¼Œéšåç›´æ¥åœ¨ä¸‹é¢æ¿æ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼ˆæˆ‘æ‰“å¼€çš„æ—¶å€™æœ‰ç‚¹å»¶è¿Ÿï¼Œå¤§æ¦‚æ•°ç§’åä½¿ç”¨ï¼‰ã€‚ æ§åˆ¶å°ä¸­æ–‡ä¹±ç  ç”¨pythonæ‰§è¡Œäº†ç³»ç»Ÿå‘½ä»¤ipconfigï¼Œè¿è¡Œä¼šå‘ç°ä¸­æ–‡æ˜¾ç¤ºä¹±ç ã€‚ è§£å†³åŠæ³•æ˜¯ï¼š åœ¨sublime text3çš„èœå•æ é€‰æ‹© Tools-&gt;Build System-&gt;New Build Systemâ€¦ï¼Œç„¶ååœ¨æ‰“å¼€çš„æ–‡ä»¶ä¸­è¾“å…¥ä¸‹é¢çš„ä»£ç ï¼ŒæŠŠåŸæœ‰å†…å®¹æ›¿æ¢ã€‚e.g.æˆ‘ä¿å­˜åçš„æ–‡ä»¶ä¸ºPython39.sublime-build 1234567&#123; \"cmd\": [\"D:\\\\Python39\\\\python.exe\",\"-u\",\"$file\"], \"file_regex\": \"^[ ]*File \\\"(...*?)\\\", line ([0-9]*)\", \"selector\": \"source.python\", // éœ€è¦åŠ ä¸Šencoding, å¦åˆ™è¾“å‡ºæ§åˆ¶å°ä¼šä¸­æ–‡ä¹±ç  \"encoding\": \"cp936\"&#125; è¿™æ ·å°±å¯ä»¥é€šè¿‡build with Python39æ¥è¿è¡Œäº†ï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºå°±æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡äº† from : https://www.jianshu.com/p/a0c8e8f22467","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"Sublime Text","slug":"Sublime-Text","permalink":"https://nymrli.top/tags/Sublime-Text/"}]},{"title":"PythonWeb--flaskéƒ¨ç½²å†…ç½‘ç”µè„‘","slug":"PythonWeb-flaskéƒ¨ç½²å†…ç½‘ç”µè„‘","date":"2018-12-21T14:08:04.000Z","updated":"2020-05-15T03:12:43.618Z","comments":true,"path":"2018/12/21/PythonWeb-flaskéƒ¨ç½²å†…ç½‘ç”µè„‘/","link":"","permalink":"https://nymrli.top/2018/12/21/PythonWeb-flaskéƒ¨ç½²å†…ç½‘ç”µè„‘/","excerpt":"","text":"PythonWebâ€“flaskéƒ¨ç½²é—®é¢˜ ä»¥å‰åœ¨äº‘æœåŠ¡å™¨ä¸Šéƒ½æ˜¯ç”¨rootæƒé™éƒ¨ç½²çš„,å¾ˆæµç•…â€¦è¿™æ¬¡ç”¨äº†æ´»åŠ¨å®¤ç”µè„‘æ˜¯ç®¡ç†å‘˜æƒé™apollo3dâ€¦äºæ˜¯å‡ºç°äº†å¾ˆå¤§çš„é—®é¢˜â€¦ å†…ç½‘ç©¿é€ æ´»åŠ¨å®¤ç”µè„‘çš„IPæ˜¯é€šè¿‡è·¯ç”±å™¨åˆ†é…çš„IP,å¦‚192.168.1.145,è¿™æ˜¯ä¸€ä¸ªå±€åŸŸç½‘,åˆ«äººæ˜¯ä¸å¯èƒ½é€šè¿‡è¿™ä¸ªIPè®¿é—®åˆ°ä½ çš„æœåŠ¡å™¨çš„.ï¼ˆè®¿é—®éƒ½æ˜¯é€šè¿‡å…¬ç½‘çš„ã€‚é™¤éä¸¤å°ç”µè„‘åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ï¼‰ã€‚ äºæ˜¯æƒ³åˆ°ç›´æ¥è¿æ´»åŠ¨å®¤çš„ç½‘ä¸å°±è¡Œäº†å—ï¼ˆå¦‚æœæ´»åŠ¨å®¤çš„æ˜¯å…¬ç½‘IPï¼Œåªè¦å¯¹è·¯ç”±å™¨è®¾ç½®ä¸ªç«¯å£æ˜ å°„å°±è¡Œäº†ï¼‰ï¼Œä½†å‘ç°ï¼Œæ´»åŠ¨å®¤çš„IPä¹Ÿæ˜¯æ ¡å›­ç½‘åˆ†é…çš„ï¼Œå·²ç»ç»è¿‡äº†å¤šæ¬¡çš„NATï¼Œäºæ˜¯è¿™ä¸ªæ–¹æ³•ä¹Ÿæ²¡ç”¨ã€‚ æœäº†ä¸‹ç½‘ä¸Šå…³äºâ€œå†…ç½‘ä¸­çš„ç”µè„‘å½“åšæœåŠ¡å™¨â€ï¼Œæ‰¾åˆ°äº†æ–¹æ¡ˆå°±æ˜¯â€œå†…ç½‘ç©¿é€â€ï¼Œè€Œèƒ½å®ç°è¿™ä¸ªåŠŸèƒ½çš„è½¯ä»¶ä¸å°‘å¦‚èŠ±ç”Ÿå£³ã€frpâ€¦åœ¨æ­¤,æˆ‘ç”¨èŠ±ç”Ÿå£³è¾¾æˆäº†ç›®çš„,èŠ±äº†6å…ƒâ€¦ èŠ±ç”Ÿå£³ æ³¨å†Œè´¦å·åä¼šé€ç»™ä½ ä¸€ä¸ªåŸŸåï¼Œè€Œâ€œå†…ç½‘ç©¿é€â€çš„åŠŸèƒ½æ˜¯éœ€è¦ä¹°çš„ã€‚ä»–å®ç°çš„åŸç†å¤§è‡´æ˜¯å°†åŠ¨æ€å˜åŒ–çš„IPç»‘å®šåœ¨äº†è¿™ä¸ªåŸŸåä¸Šï¼Œæ¯æ¬¡IPå˜æ¢çš„æ—¶å€™å°±é‡æ–°DNSè§£æï¼Œæ‰€ä»¥è¾¾æˆäº†â€œIPè·Ÿéšâ€ è®¾ç½®å¥½åï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡åŸŸåè®¿é—®åˆ°å†…ç½‘ä¸‹çš„ç”µè„‘äº†ï¼ frp è§å¦å¤–ä¸€ç¯‡åšå®¢çš„é…ç½®æ–¹æ³•ã€Šfrpç»“åˆnginxå®ç°å†…ç½‘webæœåŠ¡å’Œtcpçš„è½¬å‘ã€‹ érootæƒé™â€”â€”ç®¡ç†å‘˜æƒé™ ä¹‹å‰éƒ½æ˜¯éƒ¨ç½²åœ¨/var/wwwç›®å½•ä¸‹çš„,è¿™æ¬¡ä¹Ÿæ²¡å¤šæƒ³,ä¹Ÿç…§æ ·â€¦ç»“æœè¸©äº†å‘,å¼„äº†å‡ å°æ—¶. å…ˆæ˜¯pip install virtualenvå®‰è£…äº†virtualenvåº“,ç„¶åç”¨virtualenv envæ–°å»ºäº†ä¸ªè™šæ‹Ÿç¯å¢ƒ ä½†é—®é¢˜æ¥äº†ï¼Œwindowsä¸‹çš„ç›®å½•ç»“æ„è·Ÿlinuxä¸‹çš„æœ‰äº›å°å°çš„ä¸åŒ,å¯¼è‡´è¿è¡ŒuwsgiæŠ¥é”™No module flaskæ—¶ä¸€ç›´æ²¡æ‰¾åˆ°åŸå›  linuxä¸‹ç»“æ„: 1234567891011--|env-----|lib-------|python---------|site-packagess---------|.....-----|includes--------|python3.5m-----|bin-------|python3.5-------|pip-------|activate æ­£å¸¸æƒ…å†µä¸‹åªè¦æ¿€æ´»äº†è™šæ‹Ÿç¯å¢ƒ,é‚£ä¹ˆpipå®‰è£…çš„åº“åº”è¯¥éƒ½æ˜¯åœ¨è¯¥è™šæ‹Ÿç¯å¢ƒä¸‹çš„,è¿™æ¬¡å‡ºäº†ä»€ä¹ˆé—®é¢˜å‘¢? 1.çŒœæµ‹æ²¡æœ‰site-packages å½“æ—¶å› ä¸ºlinuxç»ˆç«¯æ˜¾ç¤ºçš„åŸå› æ²¡çœ‹åˆ°site-packages,äºæ˜¯å°±ä»¥ä¸ºæ²¡æœ‰linuxä¸‹å»ºç«‹çš„è™šæ‹Ÿç¯å¢ƒæ²¡æœ‰site-packages,ä½†äº‹å®è¯æ˜è¿™ä¸ªæ˜¯æ²¡æœ‰å…³ç³»çš„â€¦ 2.uwsgi.iniæ²¡æœ‰æŒ‡å®šè™šæ‹Ÿç¯å¢ƒ ç½‘ä¸Šç»™å‡ºçš„éƒ½æ˜¯å› ä¸ºæ²¡æœ‰è¿›å…¥è™šæ‹Ÿç¯å¢ƒæ‰§è¡Œæˆ–è€…æ˜¯é…ç½®ä¸­æ²¡æœ‰æŒ‡å®šè™šæ‹Ÿç¯å¢ƒè·¯å¾„ 3.åŠ äº†sudo æ ¹æ®æŠ¥é”™æ˜¾ç¤ºçŸ¥é“ï¼Œsudo pip install -r requirements.txtçš„åº“éƒ½å®‰è£…åˆ°äº†é»˜è®¤pythonç›®å½•ä¸‹äº†â€¦åŸå› æ˜¯å› ä¸ºåŠ äº†sudo. â–²ä¸€å®šä¸è¦ä½¿ç”¨sudo pip â€¦ ,è¿™é‡Œæ˜¯åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…pythonåŒ…ï¼Œå¦‚æœä½¿ç”¨äº†sudoæƒé™ï¼ŒpythonåŒ…ä¼šè¢«å®‰è£…åœ¨ä¸»æœºéè™šæ‹Ÿç¯å¢ƒä¸‹ï¼Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸­æ‰¾ä¸åˆ°è¿™ä¸ªåŒ…ã€‚ æ°¸è¿œä¸è¦ä½¿ç”¨sudo pip install; ä½ å¯ä»¥åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¦†ç›–é‡è¦çš„ä¸œè¥¿ã€‚ä½¿ç”¨pip install --userä»£æ›¿ äºæ˜¯é‚£å°±ä¸åŠ å§,å‘½ä»¤æ”¹ä¸ºpip install -r requirements.txt,æ­¤æ—¶æœ‰æŠ¥é”™Could not install packages due to anEnvironmentError: [Error 13] Permission denied:...,consider using '--user' options,æ—¢ç„¶æç¤ºç”¨--userå‚æ•°é‚£å°±è¯•è¯•å§. ç»“æœè¿”å›çš„æ˜¯Can not perform a '--user' install. User site-packages are not visible in this virtualenv,è¿™æ˜¯ä¸ºä»€ä¹ˆè¿˜æ˜¯ä¸è¡Œå‘¢? å®˜æ–¹è§£é‡Š pip install --user éµå¾ªå››æ¡è§„åˆ™ï¼š å½“å…¨å±€å®‰è£…çš„è½¯ä»¶åŒ…ä½äºpythonè·¯å¾„ä¸Šï¼Œå¹¶ä¸”å®ƒä»¬ ä¸å®‰è£…è¦æ±‚å†²çªæ—¶ï¼Œå®ƒä»¬å°†è¢«å¿½ç•¥ï¼Œè€Œä¸ä¼šè¢« å¸è½½ã€‚ å½“å…¨å±€å®‰è£…çš„è½¯ä»¶åŒ…ä½äºpythonè·¯å¾„ä¸Šå¹¶ä¸”å®ƒä»¬æ»¡è¶³ å®‰è£…è¦æ±‚æ—¶ï¼Œpipä»€ä¹ˆéƒ½ä¸åšï¼Œå¹¶æŠ¥å‘Šæ»¡è¶³è¦æ±‚ï¼ˆç±»ä¼¼äºåœ¨--system-site-packages virtualenvä¸­å®‰è£…è½¯ä»¶åŒ…æ—¶å…¨å±€è½¯ä»¶åŒ…å¦‚ä½•æ»¡è¶³è¦æ±‚ï¼‰ã€‚ ç”±äºç”¨æˆ·ç«™ç‚¹ä¸åœ¨pythonè·¯å¾„ä¸Šï¼Œå› æ­¤pipä¸ä¼š--useråœ¨--no-site-packagesçš„virtualenvï¼ˆå³é»˜è®¤ç±»å‹çš„virtualenvï¼‰ä¸­æ‰§è¡Œå®‰è£…ã€‚å®‰è£…æ²¡æœ‰æ„ä¹‰ã€‚ 123import sysprint(sys.path)&gt;&gt;&gt; ['C:\\\\Users\\\\10630\\\\Desktop', 'D:\\\\python\\\\python36.zip', 'D:\\\\python\\\\DLLs', 'D:\\\\python\\\\lib', 'D:\\\\python', 'C:\\\\Users\\\\10630\\\\AppData\\\\Roaming\\\\Python\\\\Python36\\\\site-packages', 'D:\\\\python\\\\lib\\\\site-packages', 'D:\\\\python\\\\lib\\\\site-packages\\\\win32', 'D:\\\\python\\\\lib\\\\site-packages\\\\win32\\\\lib', 'D:\\\\python\\\\lib\\\\site-packages\\\\Pythonwin'] åœ¨--system-site-packagesvirtualenvä¸­ï¼Œpipä¸ä¼šå®‰è£…ä¸virtualenv site-packagesä¸­çš„åŒ…å†²çªçš„åŒ…ã€‚-userå®‰è£…ç¼ºå°‘sys.pathä¼˜å…ˆçº§å¹¶ä¸”æ¯«æ— æ„ä¹‰ã€‚ é‚£åº”è¯¥å°±æ˜¯3çš„åŸå› äº†â€¦éœ€è¦åœ¨å½“å‰çš„envè™šæ‹Ÿç¯å¢ƒä¸­å°†æƒé™å¼€æ”¾,æˆ‘çš„åšæ³•æ˜¯sudo chmod 777 -R * æœ€ç»ˆè§£å†³æ–¹å¼: äºæ˜¯æˆ‘å¹¶æ²¡æœ‰å†çº ç»“è¿™ä¸ª,è€Œæ˜¯é€‰æ‹©äº†ä¸åœ¨/var/wwwè¿™ä¸ªç›®å½•ä¸‹,å› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æƒé™å…³ç³»éå¸¸ä¸¥æ ¼,äºæ˜¯æˆ‘åœ¨~/Documents/envæ–°å»ºäº†ä¸ªè™šæ‹Ÿç¯å¢ƒ,ä¸€åˆ‡åˆå¦‚ä»¥å‰ä¸€æ ·è§£å†³äº†. Ubuntuä¸‹ä½¿ç”¨matplotlibåº“,éœ€è¦å®‰è£…python3-tk `&quot;raise ImportError(str(msg) + â€˜, please install the python3-tk packageâ€™) ImportError: No module named â€˜_tkinterâ€™, please install the python3-tk package&quot;çš„é”™è¯¯ è§£å†³æ–¹æ¡ˆ:sudo apt-get install python3-tk(å¦‚æœæ²¡æ›´æ–°æº,æœ€å¥½æ›´æ–°ä¸‹æº) é™„å½•: sudo-pip-install-vs-pip-install-user: å›ç­”1: sudo pip installå¯èƒ½æ„å‘³ç€æ‚¨è¦åœ¨ç³»ç»ŸèŒƒå›´å†…å®‰è£…è½¯ä»¶åŒ…ã€‚å¯¹äºæŸäº›è½¯ä»¶åŒ…ï¼Œä¾‹å¦‚virtualenvwrapperï¼Œè¿™å¯èƒ½æ˜¯æœ‰ç”¨çš„ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘å°†é¿å…å®‰è£…ç³»ç»ŸèŒƒå›´çš„è½¯ä»¶åŒ…å¹¶ä¸ºæ¯ä¸ªåº”ç”¨ç¨‹åºåˆ›å»ºvirtualenvå¹¶å°†pipå®‰è£…åˆ°è¯¥virtualenvï¼ˆå¯ä»¥åœ¨æ²¡æœ‰sudoçš„æƒ…å†µä¸‹å®Œæˆï¼‰ã€‚ å›ç­”2: 1$ sudo pip install åœ¨pythonå®‰è£…ä¸­å…¨å±€å®‰è£…åŒ…ï¼Œå³å¯¹æ‰€æœ‰ç”¨æˆ·å®‰è£…ã€‚ 1$ pip install --user å®‰è£…åˆ°æœ¬åœ°ç”¨æˆ·ç›®å½•ï¼Œå³ã€œ/ .local / lib / python - åªæ˜¯ä½ ã€‚ ä¾‹ï¼š 12$ sudo pip install jupyter$ jupyter notebook å°†è¿è¡Œjupyterï¼Œæ‰“å¼€Webæµè§ˆå™¨ï¼Œå…è®¸æ‚¨ä½¿ç”¨ç¬”è®°æœ¬ã€‚ 12$ pip install --user jupyter$ jupyter notebook åœ¨å°†æœ¬åœ°ç›®å½•æ·»åŠ åˆ°PATHä¹‹å‰ï¼Œå°†ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚ æœ€è¿‘pypiä¸­åŒ…å«äº†æ¶æ„ä»£ç ã€‚åˆ‡å‹¿ä½¿ç”¨sudoæ¥å®‰è£…pipã€‚è¿™ä¸ä»¥rootèº«ä»½è¿è¡Œç—…æ¯’ç›¸åŒã€‚å°†æœ¬åœ°æ–‡ä»¶å¤¹æ·»åŠ åˆ°PATHæˆ–ä½¿ç”¨virtualenvã€‚","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"flask","slug":"flask","permalink":"https://nymrli.top/tags/flask/"}]},{"title":"Pandasé€Ÿæˆ","slug":"Pandasé€Ÿæˆ","date":"2018-12-21T13:57:29.000Z","updated":"2020-12-02T06:57:00.819Z","comments":true,"path":"2018/12/21/Pandasé€Ÿæˆ/","link":"","permalink":"https://nymrli.top/2018/12/21/Pandasé€Ÿæˆ/","excerpt":"","text":"Pandasé€Ÿæˆ Series : ä¸€ä½æ•°ç»„, åªå…è®¸å­˜å‚¨ç›¸åŒçš„æ•°æ®ç±»å‹ Time-Series : ä»¥æ—¶é—´ä¸ºç´¢å¼•çš„Series DataFrame : äºŒç»´çš„è¡¨æ ¼å‹æ•°æ®ç»“æ„ , å¯ä»¥ç†è§£ä¸ºæ˜¯Series çš„å®¹å™¨ Panel : ä¸‰ç»´æ•°ç»„,å¯ä»¥ç†è§£ä¸ºDataFrame çš„å®¹å™¨ Series 1234567891011121314151617import matplotlib.pyplot as pltimport pandas as pdimport numpy as nparr = np.array([1,2,3])index = ['a','b','c']myseries = pd.Series(arr,index)print(myseries)print('Seriesä¸­ç¬¬ä¸€ä¸ªå…ƒç´ &#123;&#125;'.format(myseries[0]))print('Seriesä¸­ç´¢å¼•ä¸ºCçš„å…ƒç´ '.format(myseries['c']))&gt;&gt;&gt;a 1b 2c 3dtype: int32Seriesä¸­ç¬¬ä¸€ä¸ªå…ƒç´ 1Seriesä¸­ç´¢å¼•ä¸ºCçš„å…ƒç´  DataFrame 1234567891011121314arr= np.array([ [1,2,3], [2,3,4], [3,4,5]])rowindex = ['row1','row2','row3']colindex = ['col1','col2','col3']dataframe= pd.DataFrame(data=arr,index= rowindex,columns=colindex)print(dataframe)&gt;&gt;&gt; col1 col2 col3row1 1 2 3row2 2 3 4row3 3 4 5 1234567891011121314arr= np.array([ [1,2,3], [2,3,4], [3,4,5]])rowindex = ['row1','row2','row3']colindex = ['col1','col2','col3']dataframe= pd.DataFrame(data=arr,index = rowindex,columns=colindex)print(dataframe._ixs(0))&gt;&gt;&gt;col1 1col2 2col3 3Name: row1, dtype: int32 è·å–è¡Œåˆ— 1.ix[ ] å…ˆè¡Œååˆ— 12345print(dataframe.ix[[0]]) #è·å¾—ç¬¬ä¸€è¡Œå†…å®¹# print(dataframe.ix['row1']) #ä»¥ç´¢å¼•åç§°è·å¾—print(dataframe.ix[[0]]) #è·å¾—ç¬¬ä¸€åˆ—å†…å®¹print(dataframe.ix[:,'col1']) 2.loc[ ] loc,æ˜¯åŸºäºç´¢å¼•çš„åç§°é€‰å–æ•°æ®é›†ï¼Œè¿™é‡Œçš„ç´¢å¼•åç§°å¯ä»¥æ˜¯æ•°å­—,å…ˆè¡Œååˆ—ã€‚æ³¨æ„ï¼Œ[0:2]æ˜¯é€‰å–åç§°ä¸º0ï¼Œ 1ï¼Œ 2è¡Œçš„æ•°æ®ï¼Œä¸€å…±ä¸‰ï¼Œåªèƒ½å†™è¡Œå’Œåˆ—çš„åç§°ï¼Œä¸èƒ½å†™åºå·ã€‚ 123456789print(dataframe.loc['row1'])&gt;&gt;&gt; col1 1col2 2col3 3Name: row1, dtype: int32print(dataframe.loc[:,'col1']) #è·å¾—'col1'åˆ—çš„å€¼print(dataframe.loc['row1','col1']) #è·å¾—æŸè¡ŒæŸåˆ—çš„å€¼ 3.iloc[] ilocï¼Œå®ƒæ˜¯åŸºäºç´¢å¼•ä½æ¥é€‰å–æ•°æ®é›†ï¼Œä¹Ÿå°±æ˜¯æ•°å­—åºå·æ¥é€‰å–ï¼Œ0:2å°±æ˜¯é€‰å– 0ï¼Œ1è¿™ä¸¤è¡Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œæ˜¯å‰é—­åå¼€é›†åˆã€‚åªèƒ½å†™è¡Œå’Œåˆ—çš„åºå·ï¼Œä¸èƒ½å†™åç§°( iå¯ä»¥çœ‹ç€int,å› æ­¤ilocå°±æ˜¯ç”¨æ•°å­—(int)æ¥å–æ•°æ®çš„)ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 12345678910111213print(dataframe.iloc[2])&gt;&gt;&gt; col1 3col2 4col3 5Name: row3, dtype: int32# åˆ‡ç‰‡# ä¸‹é¢ä¸¤ç§æ–¹æ³•æœ‰åŒæ ·çš„æ•ˆæœ; è¡¨ç¤ºå–å‡ºdfä¸­1ï¼š5è¡Œ(ä¸åŒ…æ‹¬5)å’Œ3ï¼š6åˆ—df.iloc[1:5,3:6] df.iloc[[1,2,3,4],[3,4,5]] # å¦å¤– df.iloc[0]ã€df.iloc[1]ã€df.iloc[-1] åˆ†åˆ«è¡¨ç¤ºç¬¬ä¸€è¡Œã€ç¬¬äºŒè¡Œã€æœ€åä¸€è¡Œ# åŒç†df.iloc[:,0]ã€df.iloc[:,1]ã€df.iloc[:,-1] åˆ†åˆ«è¡¨ç¤ºç¬¬ä¸€åˆ—ã€ç¬¬äºŒåˆ—ã€æœ€åä¸€åˆ— æ€»ç»“ï¼š locä½¿ç”¨èŒƒå›´æ¯”ilocæ›´å¹¿æ›´å®ç”¨ï¼Œlocå¯ä»¥ä½¿ç”¨åˆ‡ç‰‡ã€åç§°(index,columns)ã€ä¹Ÿå¯ä»¥åˆ‡ç‰‡å’Œåç§°æ··åˆä½¿ç”¨ï¼›ä½†æ˜¯locä¸èƒ½ä½¿ç”¨ä¸å­˜åœ¨çš„ç´¢å¼•æ¥å……å½“åˆ‡ç‰‡å–å€¼,åƒ-1 ilocåªèƒ½ç”¨æ•´æ•°æ¥å–æ•° â–².æ¨èä½¿ç”¨loc","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"BaiduMap_API","slug":"BaiduMap-API","date":"2018-12-21T13:55:50.000Z","updated":"2019-09-15T08:07:30.920Z","comments":true,"path":"2018/12/21/BaiduMap-API/","link":"","permalink":"https://nymrli.top/2018/12/21/BaiduMap-API/","excerpt":"","text":"Baidu Map API æ ¸å¿ƒç±»Map æ„é€ å‡½æ•° æè¿° Map(container: String | HTMLElement, opts: MapOptions) åœ¨æŒ‡å®šçš„å®¹å™¨å†…åˆ›å»ºåœ°å›¾å®ä¾‹ï¼Œä¹‹åéœ€è¦è°ƒç”¨Map.centerAndZoom()æ–¹æ³•å¯¹åœ°å›¾è¿›è¡Œåˆå§‹åŒ–ã€‚æœªè¿›è¡Œåˆå§‹åŒ–çš„åœ°å›¾å°†ä¸èƒ½è¿›è¡Œä»»ä½•æ“ä½œ 12var map = new BMap.Map(\"MAP\");map.centerAndZoom(points[0], 15); æ–¹æ³• è¿”å›å€¼ æè¿° enableDragging() none å¯ç”¨åœ°å›¾æ‹–æ‹½ï¼Œé»˜è®¤å¯ç”¨ enableScrollWheelZoom() none å¯ç”¨æ»šè½®æ”¾å¤§ç¼©å°ï¼Œé»˜è®¤ç¦ç”¨ enableDoubleClickZoom() none å¯ç”¨åŒå‡»æ”¾å¤§ï¼Œé»˜è®¤å¯ç”¨ enableKeyboard() none å¯ç”¨é”®ç›˜æ“ä½œï¼Œé»˜è®¤ç¦ç”¨ã€‚ enablePinchToZoom() none å¯ç”¨åŒæŒ‡æ“ä½œç¼©æ”¾ï¼Œé»˜è®¤å¯ç”¨ enableAutoResize() none å¯ç”¨è‡ªåŠ¨é€‚åº”å®¹å™¨å°ºå¯¸å˜åŒ–ï¼Œé»˜è®¤å¯ç”¨ setMinZoom(zoom: Number) none è®¾ç½®åœ°å›¾å…è®¸çš„æœ€å°çº§åˆ«ã€‚å–å€¼ä¸å¾—å°äºåœ°å›¾ç±»å‹æ‰€å…è®¸çš„æœ€å°çº§åˆ« getCenter() Point è¿”å›åœ°å›¾å½“å‰ä¸­å¿ƒç‚¹ getDistance(start: Point, end: Point) Number è¿”å›ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œå•ä½æ˜¯ç±³ centerAndZoom(center: Point, zoom: Number) none è®¾åˆå§‹åŒ–åœ°å›¾ã€‚ å¦‚æœcenterç±»å‹ä¸ºPointæ—¶ï¼Œzoomå¿…é¡»èµ‹å€¼ï¼ŒèŒƒå›´3-19çº§ï¼Œè‹¥è°ƒç”¨é«˜æ¸…åº•å›¾ï¼ˆé’ˆå¯¹ç§»åŠ¨ç«¯å¼€å‘ï¼‰æ—¶ï¼Œzoomå¯èµ‹å€¼èŒƒå›´ä¸º3-18çº§ã€‚å¦‚æœcenterç±»å‹ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œæ¯”å¦‚â€œåŒ—äº¬â€ï¼Œzoomå¯ä»¥å¿½ç•¥ï¼Œåœ°å›¾å°†è‡ªåŠ¨æ ¹æ®centeré€‚é…æœ€ä½³zoomçº§åˆ« panTo(center: Point, opts: PanOptions) none å°†åœ°å›¾çš„ä¸­å¿ƒç‚¹æ›´æ”¹ä¸ºç»™å®šçš„ç‚¹ã€‚å¦‚æœè¯¥ç‚¹åœ¨å½“å‰çš„åœ°å›¾è§†å›¾ä¸­å·²ç»å¯è§ï¼Œåˆ™ä¼šä»¥å¹³æ»‘åŠ¨ç”»çš„æ–¹å¼ç§»åŠ¨åˆ°ä¸­å¿ƒç‚¹ä½ç½®ã€‚å¯ä»¥é€šè¿‡é…ç½®å¼ºåˆ¶ç§»åŠ¨è¿‡ç¨‹ä¸ä½¿ç”¨åŠ¨ç”»æ•ˆæœ setCenter(center: Point | String) none è®¾ç½®åœ°å›¾ä¸­å¿ƒç‚¹ã€‚centeré™¤äº†å¯ä»¥ä¸ºåæ ‡ç‚¹ä»¥å¤–ï¼Œè¿˜æ”¯æŒåŸå¸‚å getZoom() Number è¿”å›åœ°å›¾å½“å‰ç¼©æ”¾çº§åˆ« setZoom(zoom: Number) none å°†è§†å›¾åˆ‡æ¢åˆ°æŒ‡å®šçš„ç¼©æ”¾ç­‰çº§ï¼Œä¸­å¿ƒç‚¹åæ ‡ä¸å˜ã€‚æ³¨æ„ï¼šå½“æœ‰ä¿¡æ¯çª—å£åœ¨åœ°å›¾ä¸Šæ‰“å¼€æ—¶ï¼Œåœ°å›¾ç¼©æ”¾å°†ä¿è¯ä¿¡æ¯çª—å£æ‰€åœ¨çš„åæ ‡ä½ç½®ä¸åŠ¨ addOverlay(overlay: Overlay) none å°†è¦†ç›–ç‰©æ·»åŠ åˆ°åœ°å›¾ä¸­ï¼Œä¸€ä¸ªè¦†ç›–ç‰©å®ä¾‹åªèƒ½å‘åœ°å›¾ä¸­æ·»åŠ ä¸€æ¬¡ clearOverlays() none æ¸…é™¤åœ°å›¾ä¸Šæ‰€æœ‰è¦†ç›–ç‰© æ§ä»¶ç±» ControlåŸºç±» initialize(map: Map) HTMLElement æŠ½è±¡æ–¹æ³•ã€‚è°ƒç”¨Map.addControl()æ–¹æ³•æ·»åŠ æ§ä»¶æ—¶å°†è°ƒç”¨æ­¤æ–¹æ³•ï¼Œä»è€Œå®ç°è¯¥æ§ä»¶çš„åˆå§‹åŒ–ã€‚è‡ªå®šä¹‰æ§ä»¶æ—¶éœ€è¦å®ç°æ­¤æ–¹æ³•ï¼Œå¹¶å°†å…ƒç´ çš„DOMå…ƒç´ åœ¨è¯¥æ–¹æ³•ä¸­è¿”å›ã€‚DOMå…ƒç´ éœ€è¦æ·»åŠ åˆ°åœ°å›¾çš„å®¹å™¨ä¸­ï¼Œä½¿ç”¨map.getContainer()æ–¹æ³•å¯è·å¾—åœ°å›¾å®¹å™¨å…ƒç´  setAnchor(anchor: ControlAnchor) none è®¾ç½®æ§ä»¶åœé çš„ä½ç½® getAnchor() ControlAnchor è¿”å›æ§ä»¶åœé çš„ä½ç½® setOffset(offset: Size) none è®¾ç½®æ§ä»¶åœé çš„åç§»é‡ getOffset() Size è¿”å›æ§ä»¶åœé çš„åç§»é‡ show() none æ˜¾ç¤ºæ§ä»¶ hide() none éšè—æ§ä»¶ isVisible() Boolean åˆ¤æ–­æ§ä»¶çš„å¯è§æ€§ ControlAnchor: æ­¤å¸¸é‡è¡¨ç¤ºæ§ä»¶çš„å®šä½ã€‚ å¸¸é‡ æè¿° BMAP_ANCHOR_TOP_LEFT æ§ä»¶å°†å®šä½åˆ°åœ°å›¾çš„å·¦ä¸Šè§’ BMAP_ANCHOR_TOP_RIGHT æ§ä»¶å°†å®šä½åˆ°åœ°å›¾çš„å³ä¸Šè§’ BMAP_ANCHOR_BOTTOM_LEFT æ§ä»¶å°†å®šä½åˆ°åœ°å›¾çš„å·¦ä¸‹è§’ BMAP_ANCHOR_BOTTOM_RIGHT æ§ä»¶å°†å®šä½åˆ°åœ°å›¾çš„å³ä¸‹è§’ NavigationControl æ­¤ç±»è¡¨ç¤ºåœ°å›¾çš„å¹³ç§»ç¼©æ”¾æ§ä»¶ï¼Œå¯ä»¥å¯¹åœ°å›¾è¿›è¡Œä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘çš„å¹³ç§»å’Œç¼©æ”¾æ“ä½œã€‚ GeolocationControl æ­¤ç±»æ˜¯è´Ÿè´£è¿›è¡Œåœ°å›¾å®šä½çš„æ§ä»¶ï¼Œä½¿ç”¨html5æµè§ˆå™¨å®šä½åŠŸèƒ½ï¼Œæ­¤ç±»ç»§æ‰¿Controlæ‰€æœ‰åŠŸèƒ½ã€‚ OverviewMapControl æ­¤ç±»è¡¨ç¤ºç¼©ç•¥åœ°å›¾æ§ä»¶ã€‚ ScaleControl æ­¤ç±»è¡¨ç¤ºæ¯”ä¾‹å°ºæ§ä»¶ã€‚ CopyrightControl æ­¤ç±»è¡¨ç¤ºç‰ˆæƒæ§ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨åœ°å›¾ä¸Šæ·»åŠ è‡ªå·±çš„ç‰ˆæƒä¿¡æ¯ã€‚æ¯ä¸€ä¸ªç‰ˆæƒä¿¡æ¯éœ€è¦åŒ…å«å¦‚ä¸‹å†…å®¹ï¼šç‰ˆæƒçš„å”¯ä¸€æ ‡è¯†ã€ç‰ˆæƒå†…å®¹å’Œå…¶é€‚ç”¨çš„åŒºåŸŸèŒƒå›´ã€‚ è¦†ç›–ç‰©ç±» Marker:æ­¤ç±»è¡¨ç¤ºåœ°å›¾ä¸Šä¸€ä¸ªå›¾åƒæ ‡æ³¨ã€‚ æ„é€ å‡½æ•° æè¿° Marker(point: Point, opts: MarkerOptions) åˆ›å»ºä¸€ä¸ªå›¾åƒæ ‡æ³¨å®ä¾‹ã€‚pointå‚æ•°æŒ‡å®šäº†å›¾åƒæ ‡æ³¨æ‰€åœ¨çš„åœ°ç†ä½ç½® 1234markers = new BMap.Marker(new BMap.Point(118.93015,32.1091),&#123;\"title\":'Point'&#125;);label = new BMap.Label('label');markers.setLabel(l);map.addOverlay(markers); Iconæ­¤ç±»è¡¨ç¤ºæ ‡æ³¨è¦†ç›–ç‰©æ‰€ä½¿ç”¨çš„å›¾æ ‡ã€‚ æ„é€ å‡½æ•° æè¿° Icon(url: String, size: Size, opts: IconOptions) ä»¥ç»™å®šçš„å›¾åƒåœ°å€å’Œå¤§å°åˆ›å»ºå›¾æ ‡å¯¹è±¡å®ä¾‹ Labelæ­¤ç±»è¡¨ç¤ºåœ°å›¾ä¸Šçš„æ–‡æœ¬æ ‡æ³¨ã€‚ æ„é€ å‡½æ•° æè¿° Label(content: String, opts: LabelOptions) åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ ‡æ³¨å®ä¾‹ã€‚pointå‚æ•°æŒ‡å®šäº†æ–‡æœ¬æ ‡æ³¨æ‰€åœ¨çš„åœ°ç†ä½ç½® 1234label = new BMap.Label(\"\", &#123;offset: new BMap.Size(-20, -20)&#125;); car = new BMap.Marker(points[0]); car.setLabel(label); map.addOverlay(car);","categories":[],"tags":[{"name":"API","slug":"API","permalink":"https://nymrli.top/tags/API/"}]},{"title":"Postmanæ¨¡æ‹Ÿä¸Šä¼ æ–‡ä»¶","slug":"Postmanæ¨¡æ‹Ÿä¸Šä¼ æ–‡ä»¶","date":"2018-12-20T10:57:35.000Z","updated":"2019-09-15T08:07:30.970Z","comments":true,"path":"2018/12/20/Postmanæ¨¡æ‹Ÿä¸Šä¼ æ–‡ä»¶/","link":"","permalink":"https://nymrli.top/2018/12/20/Postmanæ¨¡æ‹Ÿä¸Šä¼ æ–‡ä»¶/","excerpt":"","text":"Postmanæ¨¡æ‹Ÿ 1.é¦–å…ˆå¾—çŸ¥é“å‰ç«¯çš„æ ·å­: 2.é’ˆå¯¹å‰ç«¯å­—æ®µè¿›è¡Œæ¨¡æ‹ŸPOST â–²è¿™è¾¹keyä¸º&lt;input&gt;ä¸­çš„nameå±æ€§ â–²â–²URLæœ€åçš„â€™/â€™: POSTè¯·æ±‚URLè¦å¯¹åº” 12345@app.route(&apos;/photo/&apos;,methods = [&apos;GET&apos;,&apos;POST&apos;] )http://127.0.0.1:5000/photo/@app.route(&apos;/photo&apos;,methods = [&apos;GET&apos;,&apos;POST&apos;] )http://127.0.0.1:5000/photo â€‹ å½“WebæœåŠ¡å™¨æ¥æ”¶åˆ°å¯¹æŸä¸ªæœ«å°¾ä¸å«æ–œæ çš„urlè¯·æ±‚æ—¶ï¼Œä¾‹å¦‚â€œhttp://www.abc.com/abcâ€ï¼Œè¿™æ—¶æœåŠ¡å™¨ä¼šæœç´¢ç½‘ç«™æ ¹ç›®å½•ä¸‹æœ‰æ²¡æœ‰åä¸ºâ€œabcâ€çš„æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å°±æŠŠabcå½“åšç›®å½•å¤„ç†ï¼Œç„¶åè¿”å›abcç›®å½•ä¸‹çš„é»˜è®¤é¦–é¡µã€‚å½“WebæœåŠ¡å™¨æ¥æ”¶åˆ°çš„æ˜¯æœ«å°¾å¸¦æ–œæ çš„è¯·æ±‚æ—¶å°±ä¼šç›´æ¥å½“åšç›®å½•å¤„ç†ã€‚ï¼Œå½“æµè§ˆå™¨è§£æ /ie è¿™æ ·çš„urlæ—¶ï¼ŒæœåŠ¡å™¨ä¼šæ‰§è¡Œ301è½¬å‘åˆ°/ie/ï¼Œä¸¤ä¸ªé“¾æ¥éƒ½æœ‰æ•ˆï¼Œä½†æ˜¯ç¬¬äºŒç§æ›´å¿«ã€‚ â€‹ å¯¹äºé™æ€èµ„æºæœåŠ¡å™¨æ¥è¯´ï¼Œè¯·æ±‚https://imgss.github.io/demo/è¿™æ ·çš„è·¯å¾„èƒ½è®¿é—®åˆ°é¡µé¢ï¼Œæ˜¯å› ä¸ºæœåŠ¡å™¨ä¼šè‡ªåŠ¨åœ¨demoè·¯å¾„ä¸‹å°è¯•æ‰¾index.htmlä¹‹ç±»çš„æ–‡ä»¶å¹¶å‘ç»™æµè§ˆå™¨ï¼Œæ‰€ä»¥htmlçš„å½“å‰è·¯å¾„ä¸€å®šæ˜¯demoä¸‹çš„ï¼Œä¹Ÿæ˜¯å› ä¸ºè¿™æ ·ï¼Œæµè§ˆå™¨æ‰ä¼šé€šè¿‡é‡å®šå‘è‡ªåŠ¨åŠ ä¸Š/ï¼Œé˜²æ­¢ç›¸å¯¹è·¯å¾„è§£æå‡ºé”™ï¼Œä¿è¯æµè§ˆå™¨èƒ½æ­£ç¡®çš„è¯·æ±‚åˆ°èµ„æºã€‚ requestsæ¨¡æ‹Ÿ 1234567url = 'http://127.0.0.1:5000/photo/'filename = &#123; 'src' : open(\"C:\\\\Users\\\\10630\\\\Desktop\\\\ä¸ºä»€ä¹ˆç”µæµè¢«ä¸€åˆ†ä¸º2.jpg\",'rb')&#125;html = requests.post(url,files=filename)print(html.text)# &#123;\"msg\":\"success\",\"status\":200&#125;","categories":[],"tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"Postman","slug":"Postman","permalink":"https://nymrli.top/tags/Postman/"}]},{"title":"flask-sqlalchemyè¸©å‘â€”â€”å¤–é”®","slug":"flask-sqlalchemyè¸©å‘","date":"2018-12-19T11:47:54.000Z","updated":"2019-09-15T08:07:30.933Z","comments":true,"path":"2018/12/19/flask-sqlalchemyè¸©å‘/","link":"","permalink":"https://nymrli.top/2018/12/19/flask-sqlalchemyè¸©å‘/","excerpt":"","text":"12.19ï¼šå¤–é”®ä½¿ç”¨ ä»Šå¤©è¦è®¾è®¡ä¸€ä¸ªå¦‚å›¾å…³ç³»çš„è¡¨å…³ç³»æ—¶,è¸©äº†å¥½å‡ ä¸ªå‘â€¦è®°å½•ä¸‹ ä»£ç : 123456789101112131415161718192021222324from exts import dbclass Account(db.Model): __tablename__ = 'account' id = db.Column(db.Integer,primary_key=True,autoincrement=True) Username = db.Column(db.String(30),nullable=True,unique=True) PWD = db.Column(db.String(20),nullable=True) email = db.Column(db.String(20),nullable=True,unique=True)class Info(db.Model): __tablename__ = 'info' id = db.Column(db.Integer,primary_key=True,autoincrement=True) email = db.Column(db.String(20),db.ForeignKey('account.email')) timestamp = db.Column(db.Float,nullable=True,unique=True)class Tmp(db.Model): __tablename__ = 'tmp' id = db.Column(db.Integer,primary_key=True,autoincrement=True) tmp = db.Column(db.Float,db.ForeignKey('info.timestamp')) # ä¸€ç»„çš„å¼€å§‹æ—¶é—´ nowtime = db.Column(db.FLOAT,nullable=True) # å½“å‰è®°å½•çš„æ—¶é—´ longitude = db.Column(db.FLOAT,nullable=True) latitude = db.Column(db.FLOAT,nullable=True) idçš„ç±»å‹æ˜¯int,æ²¡æœ‰idè¿™ç§ç±»å‹ â–².å¤–é”®å¿…é¡»æ˜¯ä¸»è¡¨çš„å”¯ä¸€é”®(unique)ï¼ˆå¦‚ä¸Šï¼Œå­¦ç”Ÿè¡¨ sid æ˜¯ä¸»é”®ï¼Œè€Œä¸»é”®æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥èƒ½å¤Ÿä½œä¸ºåˆ†æ•°è¡¨ stu çš„å¤–é”®ï¼‰ å¤–é”®ä¸ä¸€å®šé¡»è¦ä½œä¸ºä»è¡¨çš„ä¸»é”®ã€‚å¤–é”®ä¹Ÿä¸ä¸€å®šæ˜¯ä¸»è¡¨çš„ä¸»é”®ã€‚ä¸»è¡¨çš„å”¯ä¸€é”®å°±èƒ½å¤Ÿä½œä¸ºä»è¡¨çš„å¤–é”®ã€‚ å¤–é”®çš„ç±»å‹å¿…é¡»ä¸çˆ¶è¡¨çš„ä¸»é”®ç±»å‹å®Œå…¨ä¸€è‡´(ç±»å‹å’Œé•¿åº¦) æ€»ç»“ä¸‹æ¥ï¼š","categories":[],"tags":[{"name":"flask","slug":"flask","permalink":"https://nymrli.top/tags/flask/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://nymrli.top/tags/æ•°æ®åº“/"}]},{"title":"æ•°æ®ç»“æ„å®éªŒ3â€”â€”å›¾çš„åŸºæœ¬è¿ç®—åŠèŒèƒ½äº¤é€šä¸­çš„æœ€ä½³è·¯å¾„é€‰æ‹©é—®é¢˜","slug":"æ•°æ®ç»“æ„å®éªŒ3â€”â€”å›¾çš„åŸºæœ¬è¿ç®—åŠèŒèƒ½äº¤é€šä¸­çš„æœ€ä½³è·¯å¾„é€‰æ‹©é—®é¢˜","date":"2018-12-16T09:50:05.000Z","updated":"2019-09-15T08:07:31.073Z","comments":true,"path":"2018/12/16/æ•°æ®ç»“æ„å®éªŒ3â€”â€”å›¾çš„åŸºæœ¬è¿ç®—åŠèŒèƒ½äº¤é€šä¸­çš„æœ€ä½³è·¯å¾„é€‰æ‹©é—®é¢˜/","link":"","permalink":"https://nymrli.top/2018/12/16/æ•°æ®ç»“æ„å®éªŒ3â€”â€”å›¾çš„åŸºæœ¬è¿ç®—åŠèŒèƒ½äº¤é€šä¸­çš„æœ€ä½³è·¯å¾„é€‰æ‹©é—®é¢˜/","excerpt":"","text":"å®éªŒ3.å›¾çš„åŸºæœ¬è¿ç®—åŠèŒèƒ½äº¤é€šä¸­çš„æœ€ä½³è·¯å¾„é€‰æ‹©é—®é¢˜ 3.2-é‚»æ¥çŸ©é˜µçš„DFSå’ŒBFS 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;math.h&gt;#define ERROR 0#define OK 1#define Overflow 2 //è¡¨ç¤ºä¸Šæº¢#define Underflow 3 //è¡¨ç¤ºä¸‹æº¢#define NotPresent 4 //è¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨#define Duplicate 5 //è¡¨ç¤ºæœ‰é‡å¤å…ƒç´ #define FALSE 0#define TRUE 1typedef int ElemType;typedef int Status;typedef int BOOL;/************é˜Ÿåˆ—æ“ä½œ**************///å¾ªç¯é˜Ÿåˆ—çš„ç»“æ„ä½“å®šä¹‰typedef struct&#123; int front; int rear; int maxSize; //æœ€å¤§å®¹é‡ ElemType *element;&#125;Queue;//åˆ›å»ºä¸€ä¸ªèƒ½å®¹çº³mSizeä¸ªå•å…ƒçš„ç©ºé˜Ÿåˆ—void Create(Queue *Q,int mSize)&#123; Q-&gt;maxSize=mSize; Q-&gt;element=(ElemType*)malloc(sizeof(ElemType)*mSize); Q-&gt;front=Q-&gt;rear=0;&#125; //åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º,è‹¥æ˜¯,åˆ™è¿”å›TRUE;å¦åˆ™è¿”å›FALSEBOOL IsEmpty(Queue *Q)&#123; return Q-&gt;front==Q-&gt;rear;&#125; //åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡,è‹¥æ˜¯,åˆ™è¿”å›TRUE,å¦åˆ™è¿”å›FALSEBOOL IsFULL(Queue *Q)&#123; return (Q-&gt;rear+1)%Q-&gt;maxSize==Q-&gt;front;&#125; //è·å–é˜Ÿå¤´å…ƒç´ ,å¹¶é€šè¿‡xè¿”å›.è‹¥æ“ä½œæˆåŠŸ,åˆ™è¿”å›TRUE,å¦åˆ™è¿”å›FALSEBOOL Front(Queue *Q,ElemType *x)&#123; if(IsEmpty(Q)) //ç©ºé˜Ÿåˆ—å¤„ç† return FALSE; *x=Q-&gt;element[(Q-&gt;front+1)%Q-&gt;maxSize]; return TRUE;&#125; //å…¥é˜Ÿ.åœ¨é˜Ÿåˆ—Qçš„é˜Ÿå°¾æ’å…¥å…ƒç´ x(å…¥é˜Ÿæ“ä½œ)ã€‚æ“ä½œæˆåŠŸ,åˆ™è¿”å›TRUE,å¦åˆ™è¿”å›FALSEBOOL EnQueue(Queue *Q,ElemType x)&#123; if(IsFULL(Q)) //æº¢å‡ºå¤„ç† return FALSE; Q-&gt;rear=(Q-&gt;rear+1)%Q-&gt;maxSize; Q-&gt;element[Q-&gt;rear]=x; return TRUE;&#125; //å‡ºé˜Ÿ.ä»é˜Ÿåˆ—Qä¸­åˆ é™¤é˜Ÿå¤´å…ƒç´ (å‡ºé˜Ÿæ“ä½œ)ã€‚æ“ä½œæˆåŠŸ,åˆ™è¿”å›TRUE,å¦åˆ™è¿”å›FALSEBOOL DeQueue(Queue *Q)&#123; if(IsEmpty(Q))&#123; //ç©ºé˜Ÿåˆ—å¤„ç† return FALSE; &#125; Q-&gt;front=(Q-&gt;front+1)%Q-&gt;maxSize; return TRUE;&#125; /************é˜Ÿåˆ—æ“ä½œ**************///é‚»æ¥çŸ©é˜µçš„ç»“æ„ä½“å®šä¹‰typedef struct&#123; ElemType **a; //é‚»æ¥çŸ©é˜µ int n; //å›¾çš„å½“å‰é¡¶ç‚¹æ•° int e; //å›¾çš„å½“å‰è¾¹æ•° ElemType noEdge; //ä¸¤é¡¶ç‚¹é—´æ— è¾¹æ—¶çš„å€¼&#125;mGraph; //é‚»æ¥çŸ©é˜µçš„åˆå§‹åŒ–Status Init(mGraph *mg,int nSize,ElemType noEdgeValue)&#123; int i,j; mg-&gt;n = nSize; //åˆå§‹åŒ–é¡¶ç‚¹æ•° mg-&gt;e = 0; //åˆå§‹åŒ–æ—¶æ²¡æœ‰è¾¹ mg-&gt;noEdge = noEdgeValue; //åˆå§‹åŒ–æ²¡æœ‰è¾¹æ—¶çš„å–å€¼ mg-&gt;a = (ElemType**)malloc(nSize*sizeof(ElemType *)); //ç”Ÿæˆé•¿åº¦ä¸ºnçš„ä¸€ç»´æŒ‡é’ˆæ•°ç»„ if(!mg-&gt;a) return ERROR; for(i = 0;i &lt; mg-&gt;n;i ++)&#123; //åŠ¨æ€ç”ŸæˆäºŒç»´æ•°ç»„ mg-&gt;a[i] = (ElemType*)malloc(nSize*sizeof(ElemType)); for(j = 0;j &lt; mg-&gt;n;j ++)&#123; mg-&gt;a[i][j] = mg-&gt;noEdge; &#125; mg-&gt;a[i][i] = 0; //è‡ªå›è·¯è®¾ç½®ä¸º0 &#125; return OK;&#125; //é‚»æ¥çŸ©é˜µçš„æ’¤é”€(æ”¹æˆäº†intå‹ï¼Œæœ‰è¿”å›å€¼),å…ˆé‡Šæ”¾ä¸€ç»´æ•°ç»„,å†é‡Šæ”¾æŒ‡é’ˆæ•°ç»„int Destory(mGraph *mg)&#123; int i; for(i = 0;i &lt; mg-&gt;n;i ++)&#123; free(mg-&gt;a[i]); //é‡Šæ”¾nä¸ªä¸€ç»´æ•°ç»„çš„å­˜å‚¨ç©ºé—´ &#125; free(mg-&gt;a); //é‡Šæ”¾ä¸€ç»´æ•°ç»„çš„å­˜å‚¨ç©ºé—´ return 1;&#125; //é‚»æ¥çŸ©é˜µçš„è¾¹çš„æœç´¢Status Exist(mGraph *mg,int u,int v)&#123; if(u &lt; 0||v &lt; 0||u &gt; mg-&gt;n-1||v &gt; mg-&gt;n-1 ||u == v||mg-&gt;a[u][v] == mg-&gt;noEdge) return ERROR; return OK;&#125; //é‚»æ¥çŸ©é˜µçš„è¾¹çš„æ’å…¥Status Insert(mGraph *mg,int u,int v,ElemType w)&#123; if(u &lt; 0||v &lt; 0||u &gt; mg-&gt;n-1||v &gt; mg-&gt;n-1 ||u == v) return ERROR; if(mg-&gt;a[u][v] != mg-&gt;noEdge) return Duplicate; //è‹¥å¾…æ’å…¥è¾¹å·²å­˜åœ¨,åˆ™è¿”å›å‡ºé”™ä¿¡æ¯ mg-&gt;a[u][v] = w; //æ’å…¥æ–°è¾¹ mg-&gt;e ++; //å¢åŠ ä¸€æ¡è¾¹ return OK;&#125; //é‚»æ¥çŸ©é˜µçš„è¾¹çš„åˆ é™¤Status Remove(mGraph *mg,int u,int v)&#123; if(u &lt; 0||v &lt; 0||u &gt; mg-&gt;n-1||v &gt; mg-&gt;n-1 ||u == v) return ERROR; if(mg-&gt;a[u][v] == mg-&gt;noEdge) return NotPresent; //è‹¥å¾…åˆ é™¤è¾¹ä¸å­˜åœ¨,åˆ™è¿”å›å‡ºé”™ä¿¡æ¯ mg-&gt;a[u][v] = mg-&gt;noEdge; //åˆ é™¤è¾¹ mg-&gt;e --; return OK;&#125; void DFS(mGraph mg,int v,int visited[])&#123; int j; printf(\"%d\",v ); visited[v] = 1; for( j = 0; j &lt; mg.n; j++)&#123; //éå†vçš„é‚»æ¥ç‚¹ if(!visited[j] &amp;&amp; mg.a[v][j] &gt; 0)&#123; //å½“æœªè¢«è®¿é—®ä¸”æœ‰æƒå€¼ DFS(mg,j,visited); &#125; &#125;&#125;//DFSæœç´¢å…¨å›¾void DFSGraph(mGraph mg)&#123; int i; int *visited = (int *)malloc(mg.n * sizeof(int)); //è®¿é—®ä¸º1,æœªè®¿é—®ä¸º0 for(i=0; i&lt; mg.n;i++) visited[i] = 0; //vistedæ•°ç»„åˆå§‹åŒ– for(i=0;i&lt; mg.n; i++) if( !visited[i] ) DFS(mg,i,visited); free(visited); //æ•´ä¸ªå›¾çš„DFSéå†å,é‡Šæ”¾vistedæ•°ç»„&#125; void BFS(mGraph mg,int v,int visited[])&#123; Queue q; Create(&amp;q,mg.n); visited[v] = 1; printf(\"%d\",v); EnQueue(&amp;q,v); //å°†å½“å‰é¡¶ç‚¹væ”¾å…¥é˜Ÿåˆ— while( !IsEmpty(&amp;q) )&#123; Front(&amp;q,&amp;v); DeQueue(&amp;q); //é˜Ÿé¦–é¡¶ç‚¹å‡ºé˜Ÿåˆ— for(int i = 0;i &lt; mg.n;i ++)&#123; //éå†å›¾çš„æ¯ä¸€é¡¹ if( !visited[i] &amp;&amp; mg.a[v][i] &gt; 0)&#123; //è‹¥æœªè¢«è®¿é—®ä¸”æœ‰æƒå€¼,åˆ™å°†å…¶è®¿é—®å¹¶æ”¾å…¥é˜Ÿåˆ— visited[i] = 1; printf(\"%d\",i); EnQueue(&amp;q,i); &#125; &#125; &#125;&#125;//BFSæœç´¢å…¨å›¾void BFSGraph(mGraph mg)&#123; int i; int *visited = (int *)malloc(mg.n * sizeof(int)); //è®¿é—®ä¸º1,æœªè®¿é—®ä¸º0 for(i=0; i&lt; mg.n;i++) visited[i] = 0; //vistedæ•°ç»„åˆå§‹åŒ– for(i=0;i&lt; mg.n; i++) if( !visited[i] ) BFS(mg,i,visited); free(visited); //æ•´ä¸ªå›¾çš„BFSéå†å,é‡Šæ”¾vistedæ•°ç»„&#125; int main()&#123; mGraph g; int nSize,edge,u,v,i; ElemType w; printf(\"Enter the mgraph's Size:\"); scanf(\"%d\",&amp;nSize); Init(&amp;g,nSize,-1); printf(\"Enter the mgraph's Edge num:\"); scanf(\"%d\",&amp;edge); for(i = 0;i &lt; edge;i ++)&#123; printf(\"Please enter the edge(Pu,Pv,Weight):\"); scanf(\"%d%d%d\",&amp;u,&amp;v,&amp;w); Insert(&amp;g,u,v,w); &#125; printf(\"DFS:\"); DFSGraph(g); printf(\"\\nBFS:\"); BFSGraph(g); printf(\"\\n\"); system(\"pause\"); return 0;&#125; 3.4-é‚»æ¥è¡¨çš„BFSå’ŒDFS 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;math.h&gt;#define ERROR 0#define OK 1#define Overflow 2 //è¡¨ç¤ºä¸Šæº¢#define Underflow 3 //è¡¨ç¤ºä¸‹æº¢#define NotPresent 4 //è¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨#define Duplicate 5 //è¡¨ç¤ºæœ‰é‡å¤å…ƒç´ #define FALSE 0#define TRUE 1typedef int ElemType;typedef int Status;typedef int BOOL;/************é˜Ÿåˆ—æ“ä½œ**************///å¾ªç¯é˜Ÿåˆ—çš„ç»“æ„ä½“å®šä¹‰typedef struct&#123; int front; int rear; int maxSize; //æœ€å¤§å®¹é‡ ElemType *element;&#125;Queue;//åˆ›å»ºä¸€ä¸ªèƒ½å®¹çº³mSizeä¸ªå•å…ƒçš„ç©ºé˜Ÿåˆ—void Create(Queue *Q,int mSize)&#123; Q-&gt;maxSize=mSize; Q-&gt;element=(ElemType*)malloc(sizeof(ElemType)*mSize); Q-&gt;front=Q-&gt;rear=0;&#125; //åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º,è‹¥æ˜¯,åˆ™è¿”å›TRUE;å¦åˆ™è¿”å›FALSEBOOL IsEmpty(Queue *Q)&#123; return Q-&gt;front==Q-&gt;rear;&#125; //åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡,è‹¥æ˜¯,åˆ™è¿”å›TRUE,å¦åˆ™è¿”å›FALSEBOOL IsFULL(Queue *Q)&#123; return (Q-&gt;rear+1)%Q-&gt;maxSize==Q-&gt;front;&#125; //è·å–é˜Ÿå¤´å…ƒç´ ,å¹¶é€šè¿‡xè¿”å›.è‹¥æ“ä½œæˆåŠŸ,åˆ™è¿”å›TRUE,å¦åˆ™è¿”å›FALSEBOOL Front(Queue *Q,ElemType *x)&#123; if(IsEmpty(Q)) //ç©ºé˜Ÿåˆ—å¤„ç† return FALSE; *x=Q-&gt;element[(Q-&gt;front+1)%Q-&gt;maxSize]; return TRUE;&#125; //å…¥é˜Ÿ.åœ¨é˜Ÿåˆ—Qçš„é˜Ÿå°¾æ’å…¥å…ƒç´ x(å…¥é˜Ÿæ“ä½œ)ã€‚æ“ä½œæˆåŠŸ,åˆ™è¿”å›TRUE,å¦åˆ™è¿”å›FALSEBOOL EnQueue(Queue *Q,ElemType x)&#123; if(IsFULL(Q)) //æº¢å‡ºå¤„ç† return FALSE; Q-&gt;rear=(Q-&gt;rear+1)%Q-&gt;maxSize; Q-&gt;element[Q-&gt;rear]=x; return TRUE;&#125; //å‡ºé˜Ÿ.ä»é˜Ÿåˆ—Qä¸­åˆ é™¤é˜Ÿå¤´å…ƒç´ (å‡ºé˜Ÿæ“ä½œ)ã€‚æ“ä½œæˆåŠŸ,åˆ™è¿”å›TRUE,å¦åˆ™è¿”å›FALSEBOOL DeQueue(Queue *Q)&#123; if(IsEmpty(Q))&#123; //ç©ºé˜Ÿåˆ—å¤„ç† return FALSE; &#125; Q-&gt;front=(Q-&gt;front+1)%Q-&gt;maxSize; return TRUE;&#125; /************é˜Ÿåˆ—æ“ä½œ**************///é‚»æ¥è¡¨çš„ç»“æ„ä½“å®šä¹‰typedef struct ENode&#123; int adjVex; //ä»»æ„é¡¶ç‚¹uç›¸é‚»çš„é¡¶ç‚¹ ElemType w; //è¾¹çš„æƒå€¼ struct ENode *nextArc; //æŒ‡å‘ä¸‹ä¸€ä¸ªè¾¹ç»“ç‚¹&#125;ENode; typedef struct&#123; int n; //å›¾çš„å½“å‰é¡¶ç‚¹æ•° int e; //å›¾çš„å½“å‰è¾¹æ•° ENode **a; //æŒ‡å‘ä¸€ç»´æŒ‡é’ˆæ•°ç»„&#125;LGraph; //é‚»æ¥è¡¨çš„åˆå§‹åŒ–Status Init(LGraph *lg,int nSize)&#123; int i; lg-&gt;n = nSize; lg-&gt;e = 0; lg-&gt;a = (ENode**)malloc(nSize*sizeof(ENode*)); //åŠ¨æ€ç”Ÿæˆé•¿åº¦ä¸ºnçš„ä¸€ç»´æŒ‡é’ˆæ•°ç»„ if(!lg-&gt;a) return ERROR; for(i = 0;i &lt; lg-&gt;n;i ++) lg-&gt;a[i] = NULL; //å°†æŒ‡é’ˆæ•°ç»„aç½®ç©º return OK;&#125; //é‚»æ¥è¡¨çš„æ’¤é”€int Destory(LGraph *lg)&#123; int i; ENode *p,*q; for(i = 0;i &lt; lg-&gt;n;i ++)&#123; //é“¾è¡¨çš„æ’¤é”€æ“ä½œ p = lg-&gt;a[i]; //æŒ‡é’ˆpæŒ‡å‘é¡¶ç‚¹içš„å•é“¾è¡¨çš„ç¬¬ä¸€ä¸ªè¾¹ç»“ç‚¹ q = p; while(p)&#123; //é‡Šæ”¾é¡¶ç‚¹içš„å•é“¾è¡¨ä¸­æ‰€æœ‰è¾¹ç»“ç‚¹ p = p-&gt;nextArc; free(q); q = p; &#125; &#125; free(lg-&gt;a); //é‡Šæ”¾ä¸€ç»´æŒ‡é’ˆæ•°ç»„açš„å­˜å‚¨ç©ºé—´ return OK; //æ”¹ä¸ºintå‹å‡½æ•°,æœ‰è¿”å›å€¼&#125; //é‚»æ¥è¡¨çš„æœç´¢è¾¹Status Exist(LGraph *lg,int u,int v)&#123; ENode *p; if(u &lt; 0||v &lt; 0||u &gt; lg-&gt;n-1 ||v &gt; lg-&gt;n-1 ||u == v) return ERROR; p = lg-&gt;a[u]; //æŒ‡é’ˆpæŒ‡å‘é¡¶ç‚¹uçš„å•é“¾è¡¨çš„ç¬¬ä¸€ä¸ªè¾¹ç»“ç‚¹ while(p!=NULL &amp;&amp; p-&gt;adjVex != v)&#123; p = p-&gt;nextArc; &#125; if(!p) return ERROR; else return OK;&#125; //é‚»æ¥è¡¨çš„æ’å…¥è¾¹Status Insert(LGraph *lg,int u,int v,ElemType w)&#123; ENode *p; if(u &lt; 0||v &lt; 0||u &gt; lg-&gt;n-1||v &gt; lg-&gt;n-1 ||u == v) return ERROR; if(Exist(lg,u,v)) return Duplicate; //æ­¤è¾¹å·²å­˜åœ¨,è¿”å›é”™è¯¯ p = (ENode*)malloc(sizeof(ENode)); //ä¸ºæ–°çš„è¾¹ç»“ç‚¹åˆ†é…å­˜å‚¨ç©ºé—´ p-&gt;adjVex = v; p-&gt;w = w; p -&gt; nextArc = lg-&gt;a[u]; //å°†æ–°çš„è¾¹ç»“ç‚¹æ’å…¥å•é“¾è¡¨çš„æœ€å‰é¢ lg-&gt;a[u] = p; lg-&gt;e ++; return OK;&#125; //é‚»æ¥è¡¨çš„åˆ é™¤è¾¹Status Remove(LGraph *lg,int u,int v)&#123; ENode *p,*q; if(u &lt; 0 || v &lt; 0 || u &gt; lg-&gt;n-1 || v &gt; lg-&gt;n-1 || u == v) return ERROR; p = lg-&gt;a[u]; q = NULL; while(p &amp;&amp; p-&gt;adjVex != v)&#123; //æŸ¥æ‰¾å¾…åˆ é™¤è¾¹æ˜¯å¦å­˜åœ¨ q = p; p = p-&gt;nextArc; &#125; if(!p) return NotPresent; if(q) q-&gt;nextArc = p-&gt;nextArc; //ä»å•é“¾è¡¨åˆ é™¤æ­¤è¾¹ else lg-&gt;a[u] = p-&gt;nextArc; free(p); lg-&gt;e --; return OK;&#125; void BFS(LGraph lg,int v,int visited[])&#123; ENode *j; Queue q; Create(&amp;q,lg.n); visited[v] = 1; printf(\"%d\", v); EnQueue(&amp;q,v); //è®¿é—®çš„èŠ‚ç‚¹å…¥é˜Ÿ while( !IsEmpty(&amp;q) )&#123; //ä¸€ç›´åˆ°è¯¥å±‚æ²¡æœ‰èŠ‚ç‚¹ä¸ºæ­¢ Front(&amp;q,&amp;v); // å–å‡ºçˆ¶èŠ‚ç‚¹ DeQueue(&amp;q); for (j=lg.a[v]; j!= NULL;j=j-&gt;nextArc )&#123; if ( !visited[j-&gt;adjVex])&#123; visited[j-&gt;adjVex] = 1; printf(\"%d\", j-&gt;adjVex); EnQueue(&amp;q,j-&gt;adjVex); &#125; &#125; &#125;&#125;void BFSGraph(LGraph lg)&#123; int i; int *visited = (int *)malloc(sizeof(int)* lg.n); //è®°å½•nä¸ªèŠ‚ç‚¹çš„è®¿é—®æƒ…å†µ for(i=0; i&lt; lg.n;i++) visited[i] = 0; //vistedæ•°ç»„åˆå§‹åŒ– for (int i = 0; i &lt; lg.n; ++i) if( !visited[i] ) BFS(lg,i,visited); free(visited);&#125;void DFS(LGraph lg,int v,int visited[])&#123; ENode *j; printf(\"%d\",v ); visited[v] = 1; for (j = lg.a[v];j!=NULL;j= j-&gt;nextArc) //lg.aé“¾è¡¨çš„å¾ªç¯ if( !visited[j-&gt;adjVex] ) DFS(lg,j-&gt;adjVex,visited);&#125;void DFSGraph(LGraph lg)&#123; int i; int *visited = (int *)malloc(sizeof(int)* lg.n); //è®°å½•nä¸ªèŠ‚ç‚¹çš„è®¿é—®æƒ…å†µ for(i=0; i&lt; lg.n ; i++) visited[i] = 0; //vistedæ•°ç»„åˆå§‹åŒ– for (int i = 0; i &lt; lg.n; ++i) if( !visited[i] ) DFS(lg,i,visited); free(visited);&#125; int main()&#123; LGraph g; int i,u,v,enode,edge; ElemType w; printf(\"Enter the number of mgraph's Nodes:\"); scanf(\"%d\",&amp;enode); Init(&amp;g,enode); printf(\"Enter the mgraph's Edge num:\"); scanf(\"%d\",&amp;edge); for(i = 0;i &lt; edge;i ++)&#123; printf(\"Please enter the edge(Pu,Pv,Weight):\"); scanf(\"%d%d%d\",&amp;u,&amp;v,&amp;w); Insert(&amp;g,u,v,w); &#125; printf(\"DFS:\"); DFSGraph(g); printf(\"\\nBFS:\"); BFSGraph(g); printf(\"\\n\"); system(\"pause\"); return 0;&#125; ä»¥ä¸Šå¤§å¤šç›´æ¥ä»å­¦é•¿çš„åšå®¢æ¬è¿è¿‡æ¥. 3.5- é£æœºæ¢ä¹˜æœ€çŸ­è·ç¦»(Dijkstraå•æºæœ€çŸ­è·¯å¾„) ç¼–å†™ç¨‹åºï¼Œå®ç°æ™ºèƒ½äº¤é€šä¸­çš„æœ€ä½³è·¯å¾„é€‰æ‹©é—®é¢˜ï¼šè®¾æœ‰nä¸ªåœ°ç‚¹ï¼Œç¼–å·ä¸º0~n-1ï¼Œmæ¡è·¯å¾„çš„èµ·ç‚¹ã€ç»ˆç‚¹å’Œä»£ä»·ç”±ç”¨æˆ·è¾“å…¥æä¾›ï¼Œé‡‡ç”¨å®éªŒ3.1æ‰€ç¤ºé‚»æ¥çŸ©é˜µä¸ºå­˜å‚¨ç»“æ„ï¼Œå¯»æ‰¾æœ€ä½³è·¯å¾„æ–¹æ¡ˆ(å¦‚èŠ±è´¹æ—¶é—´æœ€å°‘ã€è·¯å¾„é•¿åº¦æœ€çŸ­ã€äº¤é€šè´¹ç”¨æœ€å°ç­‰ï¼Œä»»é€‰å…¶ä¸€å³å¯)ã€‚ å€Ÿäº†å­¦é•¿çš„æ•´ä½“æ¡†æ¶,å°†é‚»æ¥çŸ©é˜µæ”¹æˆäº†é‚»æ¥è¡¨,å¹¶å®Œæˆäº†é¢˜ç›®è¦æ±‚çš„ç»™å®šèµ·ç‚¹ã€ç»ˆç‚¹ï¼Œç®—æœ€çŸ­è·¯å¾„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;math.h&gt;#define ERROR 0#define OK 1#define Overflow 2 //è¡¨ç¤ºä¸Šæº¢#define Underflow 3 //è¡¨ç¤ºä¸‹æº¢#define NotPresent 4 //è¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨#define Duplicate 5 //è¡¨ç¤ºæœ‰é‡å¤å…ƒç´ #define INFTY 32657 //è¡¨ç¤ºæ­£æ— ç©·#define FALSE 0#define TRUE 1typedef int ElemType;typedef int Status;typedef int BOOL;//é‚»æ¥è¡¨çš„ç»“æ„ä½“å®šä¹‰typedef struct ENode&#123; int adjVex; //ä»»æ„é¡¶ç‚¹uç›¸é‚»çš„é¡¶ç‚¹ ElemType w; //è¾¹çš„æƒå€¼ struct ENode *nextArc; //æŒ‡å‘ä¸‹ä¸€ä¸ªè¾¹ç»“ç‚¹&#125;ENode; typedef struct&#123; int n; //å›¾çš„å½“å‰é¡¶ç‚¹æ•° int e; //å›¾çš„å½“å‰è¾¹æ•° ENode **a; //æŒ‡å‘ä¸€ç»´æŒ‡é’ˆæ•°ç»„&#125;LGraph; //é‚»æ¥è¡¨çš„åˆå§‹åŒ–Status Init(LGraph *lg,int nSize)&#123; int i; lg-&gt;n = nSize; lg-&gt;e = 0; lg-&gt;a = (ENode**)malloc(nSize*sizeof(ENode*)); //åŠ¨æ€ç”Ÿæˆé•¿åº¦ä¸ºnçš„ä¸€ç»´æŒ‡é’ˆæ•°ç»„ if(!lg-&gt;a) return ERROR; for(i = 0;i &lt; lg-&gt;n;i ++) lg-&gt;a[i] = NULL; //å°†æŒ‡é’ˆæ•°ç»„aç½®ç©º return OK;&#125; //é‚»æ¥è¡¨çš„æ’¤é”€int Destory(LGraph *lg)&#123; int i; ENode *p,*q; for(i = 0;i &lt; lg-&gt;n;i ++)&#123; //é“¾è¡¨çš„æ’¤é”€æ“ä½œ p = lg-&gt;a[i]; //æŒ‡é’ˆpæŒ‡å‘é¡¶ç‚¹içš„å•é“¾è¡¨çš„ç¬¬ä¸€ä¸ªè¾¹ç»“ç‚¹ q = p; while(p)&#123; //é‡Šæ”¾é¡¶ç‚¹içš„å•é“¾è¡¨ä¸­æ‰€æœ‰è¾¹ç»“ç‚¹ p = p-&gt;nextArc; free(q); q = p; &#125; &#125; free(lg-&gt;a); //é‡Šæ”¾ä¸€ç»´æŒ‡é’ˆæ•°ç»„açš„å­˜å‚¨ç©ºé—´ return OK; //æ”¹ä¸ºintå‹å‡½æ•°,æœ‰è¿”å›å€¼&#125; //é‚»æ¥è¡¨çš„æœç´¢è¾¹Status Exist(LGraph *lg,int u,int v)&#123; ENode *p; if(u &lt; 0||v &lt; 0||u &gt; lg-&gt;n-1 ||v &gt; lg-&gt;n-1 ||u == v) return ERROR; p = lg-&gt;a[u]; //æŒ‡é’ˆpæŒ‡å‘é¡¶ç‚¹uçš„å•é“¾è¡¨çš„ç¬¬ä¸€ä¸ªè¾¹ç»“ç‚¹ while(p!=NULL &amp;&amp; p-&gt;adjVex != v)&#123; p = p-&gt;nextArc; &#125; if(!p) return ERROR; else return OK;&#125; //é‚»æ¥è¡¨çš„æ’å…¥è¾¹Status Insert(LGraph *lg,int u,int v,ElemType w)&#123; ENode *p; if(u &lt; 0||v &lt; 0||u &gt; lg-&gt;n-1||v &gt; lg-&gt;n-1 ||u == v) return ERROR; if(Exist(lg,u,v)) return Duplicate; //æ­¤è¾¹å·²å­˜åœ¨,è¿”å›é”™è¯¯ p = (ENode*)malloc(sizeof(ENode)); //ä¸ºæ–°çš„è¾¹ç»“ç‚¹åˆ†é…å­˜å‚¨ç©ºé—´ p-&gt;adjVex = v; p-&gt;w = w; p -&gt; nextArc = lg-&gt;a[u]; //å°†æ–°çš„è¾¹ç»“ç‚¹æ’å…¥å•é“¾è¡¨çš„æœ€å‰é¢ lg-&gt;a[u] = p; lg-&gt;e ++; return OK;&#125; //é‚»æ¥è¡¨çš„åˆ é™¤è¾¹Status Remove(LGraph *lg,int u,int v)&#123; ENode *p,*q; if(u &lt; 0 || v &lt; 0 || u &gt; lg-&gt;n-1 || v &gt; lg-&gt;n-1 || u == v) return ERROR; p = lg-&gt;a[u]; q = NULL; while(p &amp;&amp; p-&gt;adjVex != v)&#123; //æŸ¥æ‰¾å¾…åˆ é™¤è¾¹æ˜¯å¦å­˜åœ¨ q = p; p = p-&gt;nextArc; &#125; if(!p) return NotPresent; if(q) q-&gt;nextArc = p-&gt;nextArc; //ä»å•é“¾è¡¨åˆ é™¤æ­¤è¾¹ else lg-&gt;a[u] = p-&gt;nextArc; free(p); lg-&gt;e --; return OK;&#125; //é€‰å‡ºæœ€å°çš„d[i],i âˆˆ V-Sint Choose(int d[],int n,int s[])&#123; int minpos; int i; ElemType min; min = INFTY; minpos = -1; for(i = 0;i &lt; n;i ++)&#123; //è¿™é‡Œiåˆå€¼æ”¹ä¸º0 if( d[i] &lt;= min &amp;&amp; !s[i])&#123; //&lt;æ”¹ä¸º&lt;= // printf(\"Choose: d[%d]:%d \",i, d[i]); //å¯ä»¥å°†è¿™æ®µæ³¨é‡Šæ‰“å¼€ç†è§£ min = d[i]; minpos = i; &#125; &#125; return minpos; //è¿”å›ä¸‹æ ‡ä½ç½®&#125; //Dijkstraç®—æ³•Status Dijkstra(LGraph g,int v,int d[],int path[])&#123; int i,k,w,distance = 0; //å¢åŠ äº†ä¸€ä¸ªdistanceè®°å½•æœ€çŸ­è·ç¦»ä¹‹å’Œ int *s; if(v &lt; 0 || v &gt; g.n-1) return ERROR; ENode *j; /*å¯¹è¾…åŠ©æ•°æ®ç»“æ„çš„åˆå§‹åŒ–*/ s = (int*)malloc(g.n*sizeof(int)); /*éæºç‚¹ç»“ç‚¹åˆå§‹åŒ–*/ for(i = 0;i &lt; g.n;i ++)&#123; s[i] = 0; //è¡¨ç¤ºé¡¶ç‚¹iæ˜¯å¦åœ¨sä¸­ for( j=g.a[v];j!=NULL; j=j-&gt;nextArc) if(j-&gt;adjVex == i ) d[i] = j-&gt;w; //våˆ°içš„è·ç¦» if(i != v &amp;&amp; d[i] &lt; INFTY) path[i] = v; //å¦‚æœä¸æºç‚¹æœ‰è¾¹ç›¸é€š,æ ‡è¯†æŒ‡å‘içš„æºç‚¹v else path[i] = -1; &#125; /*æºç‚¹åˆå§‹åŒ–*/ s[v] = 1; //é¡¶ç‚¹vä¸ºæºç‚¹,å°†åŸç‚¹våŠ å…¥é›†åˆS printf(\"The order:%d \",v); //è¾“å‡ºæºç‚¹0 d[v] = 0; /*å¯¹è¾…åŠ©æ•°æ®ç»“æ„çš„åˆå§‹åŒ–*/ for(i = 1;i &lt;= g.n-1;i ++)&#123; //æœ€å¤šäº§ç”Ÿn-1æ¡æœ€çŸ­è·¯å¾„,&lt;æ”¹ä¸º&lt;= k = Choose(d, g.n ,s); //æ±‚å½“å‰è·¯å¾„æœ€çŸ­è€…k s[k] = 1; //å°†kåŠ å…¥é›†åˆSä¸­ printf(\"%d \",k); for( j = g.a[k]; j!=NULL; j= j-&gt;nextArc)&#123; //æ›´æ–°då’Œpath if( !s[j-&gt;adjVex] &amp;&amp; d[k] + j-&gt;w &lt; d[ j-&gt;adjVex ])&#123; //æœªè¢«è®¿é—®è¿‡,ä¸” å½“å‰è¾¹+åˆ°å‰ä¸ªç»“ç‚¹çš„æƒå€¼ &lt; ç°åœ¨çš„è·¯å¾„é•¿åº¦ //j-&gt;adjVexä¸ºæ‰€æœ‰ä¸vç›¸é‚»æ¥çš„é¡¶ç‚¹ d[j-&gt;adjVex ] = d[k] + j-&gt;w; distance = d[j-&gt;adjVex ]; //è®¡ç®—æ‰€æœ‰è·¯å¾„ä¸­çš„minè·ç¦» path[j-&gt;adjVex ] = k; &#125; &#125; &#125; return OK;&#125; int main()&#123; LGraph g; int nSize,edge,u,v,i; int s,t; //èµ·ç‚¹,ç»ˆç‚¹ int d[100]; for(int i=0;i&lt;100;i++) d[i] = INFTY; int path[100]; ElemType w; printf(\"Enter the number of mgraph's Nodes:\"); scanf(\"%d\",&amp;nSize); Init(&amp;g,nSize); printf(\"Enter the mgraph's Edge num:\"); scanf(\"%d\",&amp;edge); for(i = 0;i &lt; edge;i ++)&#123; printf(\"Please enter the edge(Pu,Pv,Weight):\"); scanf(\"%d%d%d\",&amp;u,&amp;v,&amp;w); Insert(&amp;g,u,v,w); &#125; printf(\"Enter the Start Point :\"); scanf(\"%d\",&amp;s); printf(\"Enter the Destination Point :\"); scanf(\"%d\",&amp;t); Dijkstra(g,0,d,path); printf(\"\\nThe shortest distance from %d to Point %d:%d\\n\",s,t, d[t]); system(\"pause\"); return 0;&#125;","categories":[],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://nymrli.top/tags/æ•°æ®ç»“æ„/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://nymrli.top/tags/å›¾è®º/"},{"name":"å®éªŒä½œä¸š","slug":"å®éªŒä½œä¸š","permalink":"https://nymrli.top/tags/å®éªŒä½œä¸š/"}]},{"title":"æ•°æ®ç»“æ„â€”â€”å›¾","slug":"æ•°æ®ç»“æ„â€”â€”å›¾","date":"2018-12-16T03:41:46.000Z","updated":"2019-09-15T08:07:31.067Z","comments":true,"path":"2018/12/16/æ•°æ®ç»“æ„â€”â€”å›¾/","link":"","permalink":"https://nymrli.top/2018/12/16/æ•°æ®ç»“æ„â€”â€”å›¾/","excerpt":"","text":"æ•°æ®ç»“æ„â€”â€”å›¾ è¿é€šå›¾ æ— å‘å›¾ è¿é€šå›¾ : å›¾ä¸­ä»»æ„ä¸¤ç‚¹éƒ½è¿é€š è¿é€š:å¦‚æœä»våˆ°wå­˜åœ¨ä¸€æ¡(æ— å‘)è·¯å¾„,åˆ™ç§°vå’Œwæ˜¯è¿é€šçš„ **è·¯å¾„:**Våˆ°wçš„è·¯å¾„æ˜¯ä¸€ç³»åˆ—é¡¶ç‚¹{V,v1,V2ï¼Œvn,w}çš„é›†åˆ,å…¶ä¸­ä»»ä¸€å¯¹ç›¸é‚»çš„é¡¶ç‚¹é—´éƒ½æœ‰å›¾ä¸­çš„è¾¹ã€‚è·¯å¾„çš„é•¿åº¦æ˜¯è·¯å¾„ä¸­çš„è¾¹æ•°(å¦‚æœå¸¦æƒ,åˆ™æ˜¯æ‰€æœ‰è¾¹çš„æƒé‡å’Œ)ã€‚å¦‚æœvåˆ°wä¹‹é—´çš„æ‰€æœ‰é¡¶ç‚¹éƒ½ä¸åŒ,åˆ™ç§°ç®€å•è·¯å¾„ â–²è·¯å¾„æ˜¯è¾¹çš„è¶…é›†,ä¸€æ¡è·¯å¾„ä¸­å¯ä»¥æœ‰å¤šæ¡è¾¹ å›è·¯:èµ·ç‚¹ç­‰äºç»ˆç‚¹çš„è·¯å¾„ ==&gt; æœ‰å›è·¯çš„è·¯å¾„ä¸ºéç®€å•è·¯å¾„ æœ‰å‘å›¾: å¼ºè¿é€š : æœ‰å‘å›¾ä¸­é¡¶ç‚¹vå’ŒWä¹‹é—´å­˜åœ¨åŒå‘è·¯å¾„,åˆ™ç§°vå’Œwæ˜¯å¼ºè¿é€šçš„å¼ºè¿é€šå›¾ å¼ºè¿é€šå›¾ : æœ‰å‘å›¾ä¸­ä»»æ„ä¸¤é¡¶ç‚¹å‡å¼ºè¿é€šå¼ºè¿é€šåˆ†é‡:æœ‰å‘å›¾çš„æå¤§å¼ºè¿é€šå­å›¾ å¼±è¿é€šå›¾ : å°†æœ‰å‘å›¾ä¸­è¾¹çš„æ–¹å‘æ“¦å»,èƒ½å˜æˆè¿é€šå›¾çš„å›¾å« å¼±è¿é€šå›¾ å›¾ä¸è¿é€šå’‹åŠ? éè¿é€šå›¾ æ— å‘å›¾ è¿é€šåˆ†é‡: æ— å‘å›¾çš„æå¤§è¿é€šå­å›¾ æå¤§é¡¶ç‚¹æ•° : å†åŠ 1ä¸ªé¡¶ç‚¹å°±ä¸è¿é€šäº† æå¤§è¾¹æ•° : åŒ…å«å­å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹ç›¸è¿çš„æ‰€æœ‰è¾¹ å›¾çš„è¾¹å¯ä»¥æ˜¯å…·æœ‰æŸç§å±æ€§çš„å¯¹è±¡: 007æ¡ˆä¾‹ä¸­çš„å²¸è¾¹ æœ€å°ä»£ä»·ç”Ÿæˆæ ‘ åŸºç¡€æ¦‚å¿µ æœ€å°ç”Ÿæˆæ ‘é—®é¢˜ : æ‘æ‘é€šâ€”&gt; ä½¿å›¾è¿é€šçš„( æœ€å°‘çš„è¾¹ \\ èŠ±é”€æœ€å°çš„ ) æ ‘ è¿é€šçš„ æ— å›è·¯ Vä¸ªé¡¶ç‚¹ , v-1æ¡è¾¹ ç”Ÿæˆ åŒ…å«æ‰€æœ‰çš„é¡¶ç‚¹ V-1æ¡è¾¹éƒ½åœ¨å›¾é‡Œ ä»»æ„åŠ ä¸€æ¡è¾¹éƒ½ä¼šæ„æˆå›è·¯ æœ€å° è¾¹çš„æƒé‡å’Œæœ€å° â–² æœ€å°ä»£ä»·ç”Ÿæˆæ ‘ä¸å­˜åœ¨ &lt;----&gt; å›¾ä¸è¿é€š è´ªå¿ƒç®—æ³•: è´ª: æ¯ä¸€æ­¥æ˜¯æœ€å¥½çš„ å¥½: æƒé‡æ˜¯æœ€å°çš„ çº¦æŸ: åªèƒ½ç”¨å›¾é‡Œæœ‰çš„è¾¹ æ­£å¥½ç”¨æ‰ v-1æ¡è¾¹ ä¸èƒ½æœ‰å›è·¯ ç®—æ³•å®ç°: Primç®—æ³•â€”â€”è®©å°æ ‘æˆé•¿ï¼š kruskalâ€”â€”å°†æ£®æ—åˆå¹¶æˆæ ‘: æ›´è´ªå¿ƒ,ç›´æ¥å°†æƒé‡æœ€å°çš„è¾¹æ”¶è¿›æ¥ æ‹“è¡¥æ’åº AOV ä»¥é¡¶ç‚¹æ¥è¡¨ç¤ºæ´»åŠ¨ã€‚ ä¸€ä¸ªæ´»åŠ¨æ˜¯å¦ä¸€ä¸ªæ´»åŠ¨çš„å…ˆå†³æ¡ä»¶ ä¸æ–­æŠ¹å» æ²¡æœ‰å‰é©±é¡¶ç‚¹(å…¥åº¦ä¸º0) çš„é¡¶ç‚¹ æå€¡çš„åšæ³•: å°†å…¥åº¦ä¸º0çš„é¡¶ç‚¹æ”¾åˆ°å®¹å™¨ä¸­ â–².è¿™ç§æ–¹æ³•è¿˜å¯ä»¥ç”¨æ¥æ£€æµ‹æ˜¯ä¸æ˜¯æœ‰å‘æ— ç¯å›¾(DAG) å…³é”®è·¯å¾„ AOE: ä¸€èˆ¬ç”¨äºå®‰æ’é¡¹ç›®çš„å·¥åº ç”±ç»ä¸å…è®¸å»¶è¯¯çš„æ´»åŠ¨ç»„æˆçš„è·¯å¾„ å…³é”®è·¯å¾„é•¿åº¦: earliest(n) æ²¡æœ‰æœºåŠ¨æ—¶é—´çš„è·¯å¾„ä¸ºå…³é”®è·¯å¾„","categories":[],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://nymrli.top/tags/æ•°æ®ç»“æ„/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://nymrli.top/tags/å›¾è®º/"}]},{"title":"winè‡ªå¸¦é‚®ä»¶ä½¿ç”¨","slug":"winè‡ªå¸¦é‚®ä»¶ä½¿ç”¨","date":"2018-12-16T02:48:27.000Z","updated":"2019-09-15T08:07:31.015Z","comments":true,"path":"2018/12/16/winè‡ªå¸¦é‚®ä»¶ä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2018/12/16/winè‡ªå¸¦é‚®ä»¶ä½¿ç”¨/","excerpt":"","text":"Windows10 è‡ªå¸¦é‚®ç®± åˆ›æ„å¤§èµ›å¿˜è®°æäº¤é™„ä»¶çš„ç»å†ï¼Œè®©æˆ‘å†³å®šè¿™å‡ å¤©æŠŠé‚®ç®±çš„é—®é¢˜å½»åº•è§£å†³äº†ã€‚ ä¸€.æ‰“å¼€Windowsè‡ªå¸¦çš„é‚®ä»¶ 1.é™„ä»¶æ é‡Œ 2.ç›´æ¥æœç´¢&quot;é‚®ä»¶&quot; äºŒ.æ·»åŠ è´¦å· æ‰“å¼€åç•Œé¢æ˜¯è¿™æ ·çš„,å·¦è¾¹æ˜¯æˆ‘å·²ç»æ·»åŠ å¥½çš„è´¦å· 1.ç‚¹å‡»ä¸‹é¢çš„&quot;é½¿è½®&quot; 2.ç‚¹å‡»&quot;ç®¡ç†è´¦å·&quot; 3.ç‚¹å‡»&quot;æ·»åŠ è´¦æˆ·&quot; å°†ä¿¡æ¯æŒ‰è§„åˆ™å¡«å¥½å.éœ€è¦æ³¨æ„çš„æ˜¯â–².åœ¨æŒ‰ç™»å½•ä¹‹å‰éœ€è¦ç¿»å¢™,å¦åˆ™ä¼šå‡ºç°å¦‚å›¾&quot;æˆ‘ä»¬æ— æ³•æ‰¾åˆ°ä½ çš„è®¾ç½®&quot;. å…¶æ¬¡è¦æ³¨æ„çš„æ˜¯,å¯†ç ä¸ºIMAPæˆ–è€…POPã€SMTPçš„å¯†ç ï¼Œæˆæƒç æŸ¥è¯¢å¦‚ä¸‹ ç½‘æ˜“ï¼š å›¾ä¸€ å›¾äºŒï¼š å›¾ä¸‰ï¼š æ­¤æ­¥ä»–ä¼šè¦æ±‚ä½ è®¾ç½®è‡ªå·±çš„æˆæƒç  QQé‚®ç®±ï¼š å›¾ä¸€ï¼š å›¾äºŒï¼š æ­¤æ­¥ä»–ä¼šè¦æ±‚ä½ å‘é€â€œé…ç½®é‚®ç®±å®¢æˆ·ç«¯â€åˆ°æŸä¸ªå·ç ä¸Šï¼Œç„¶åä¼šç”Ÿæˆæˆæƒç ã€‚è¿™ä¸ªä¸æ˜¯è‡ªå·±è®¾ç½®çš„ ç¿»å¢™æˆåŠŸï¼Œåœ¨ç¡®ä¿å¯†ç ä¹Ÿæ­£ç¡®çš„æƒ…å†µä¸‹å°±å¯ä»¥æŒ‰â€œç™»å½•â€äº†ã€‚ é™„å½•ï¼š æ·»åŠ è´¦å·ï¼š ä»â€œå¼€å§‹â€œä¸­æ‰“å¼€ é™„ä»¶è‡ªåŠ¨ä¸‹è½½: ä¸‹è½½çš„é™„ä»¶ä¸€èˆ¬åœ¨C:\\Users\\è´¦æˆ·å\\AppData\\Local\\Packages\\microsoft.windowscommunicationsapps_é‚®ç®±ä»£ç \\LocalState\\Files\\S0\\1055ï¼ˆæˆ‘çš„åœ¨1055é‡Œï¼‰","categories":[],"tags":[{"name":"é‚®ä»¶","slug":"é‚®ä»¶","permalink":"https://nymrli.top/tags/é‚®ä»¶/"},{"name":"Window10","slug":"Window10","permalink":"https://nymrli.top/tags/Window10/"}]},{"title":"2018-12-15å°è®°","slug":"2018-12-15å°è®°","date":"2018-12-15T14:22:25.000Z","updated":"2019-09-15T08:07:30.907Z","comments":true,"path":"2018/12/15/2018-12-15å°è®°/","link":"","permalink":"https://nymrli.top/2018/12/15/2018-12-15å°è®°/","excerpt":"","text":"æ•°æ®ç»“æ„ä¸Šæœº,ç”±äºæœ€è¿‘çƒ¦å¿ƒäº‹ä¹Ÿæ¯”è¾ƒå¤š,æ²¡æœ‰ä»»ä½•å‡†å¤‡,åœ¨æœºæˆ¿æƒ³è¦è‡ªå·±æŠŠä»£ç æ•²å‡ºæ¥ä¹Ÿæ˜¯ä¸ç°å®çš„ã€‚äºæ˜¯ï¼Œå°±æœå§ã€‚æ— æ„ä¸­æœåˆ°äº†å­¦é•¿çš„åšå®¢,å¤§äºŒè½¬è®¡ç§‘ï¼Œçœ‹äº†ä»–åŠªåŠ›çš„ç‚¹æ»´ï¼Œä¹Ÿé¢‡æœ‰æ„Ÿè§¦ï¼Œäºæ˜¯ä¸‹ç¬”ï¼Œç•¥è¿°å·±è§ã€‚ ä¹‹å‰ä¸€ç›´åœ¨åšå®¢é‡Œéƒ½æ˜¯å‘çš„æŠ€æœ¯æ€§çš„æ–‡ç« ï¼Œæœ‰æ—¶æƒ³è¯´ç‚¹è¯ï¼Œä¹Ÿæ‰¾ä¸åˆ°åˆé€‚çš„äººã€‚å‘æ¡è¯´è¯´ï¼Œä¸æ‡‚çš„äººä¸çŸ¥æ‰€æªï¼Œæ‡‚çš„äººä¹Ÿæ— ä»å®‰æ…°ï¼Œäºæ˜¯ä¹Ÿåªå¥½ä½œç½¢ã€‚ä¹Ÿæ›¾æƒ³è¿‡åœ¨åšå®¢é‡Œå†™ï¼Œå¤ªåˆæ„Ÿè§‰æœªå…å¤ªè¿‡çŸ«æƒ…ï¼Œä»Šæ—¥æ‰€æ„Ÿï¼Œè¿˜æ˜¯å†³å®šè®°å½•äº›æƒ…æ„Ÿã€å›å¿†ã€‚ å¤§ä¸€ä¸ŠæŠ¥äº†é™¢ç§‘åä¸æ ¡ç§‘åï¼Œå…¥å¤§å­¦å‰å·²ç»ç•¥æœ‰ç¢ç£¨è¿‡Cè¯­è¨€å­¦ä¹ çš„æˆ‘è‡ªç„¶æ²¡æœ‰å†æ¥ç€å­¦Cï¼Œäºæ˜¯è¶ç€Pythonçš„å¤§çƒ­ï¼Œä¹Ÿæ­£æ˜¯å¬è¯´äº†Pythonçš„ç®€æ´ã€å¯ä»¥åšçˆ¬è™«ã€ç½‘ç«™ã€äººå·¥æ™ºèƒ½ç­‰æœ‰è¶£çš„æ—¶å°±å†³å®šå­¦äº†è¿™é—¨è¯­è¨€ã€‚äºæ˜¯åŠ å…¥äº†Pythonç»„ï¼Œç¢°åˆ°äº†ææ—ä¼Ÿä¸ç‹å®‡å­¦é•¿ï¼Œææ—ä¼Ÿå­¦é•¿å¾ˆè´Ÿè´£ï¼Œå¤§ä¸€çš„è¯¾å‡ ä¹éƒ½æ˜¯ç”±ä»–æˆçš„ï¼Œå½“åˆè¿˜æœ‰äº‹å«Œä»–è®²çš„ä¸å¤Ÿå¥½ï¼Œç°åœ¨è‡ªå·±å½“äº†è®²å¸ˆåæ‰å‘ç°æ ¹æœ¬æ— æš‡å‡†å¤‡ã€‚å¤§ä¸€çš„æ—¶å…‰å¾ˆå¤šéƒ½æ³¡åœ¨äº†å›¾ä¹¦é¦†ï¼Œä¸€ä¸ªå­¦æœŸä¸‹æ¥å·²ç»å€Ÿäº†20+æœ¬ä¹¦äº†ï¼Œæ•´ä¸ªå­¦å¹´ä¸‹æ¥ä¸€å…±å€Ÿäº†40+æœ¬ä¹¦ï¼Œè™½ç„¶æ²¡æœ‰å…¨éƒ¨çœ‹å®Œï¼Œéƒ½æ˜æ˜¾çš„æ„Ÿè§‰åˆ°è‡ªå·±çš„åŠªåŠ›ã€‚å¤§äºŒä¸€èˆ¬éƒ½æ˜¯åœ¨çœ‹è§†é¢‘ï¼Œå›¾ä¹¦é¦†å¾ˆå°‘å»äº†ï¼Œä¹¦ä¹Ÿå€Ÿçš„å°‘äº†ã€‚ å¤§ä¸€è¿˜å­¦äº†å•ç‰‡æœºï¼Œè¯´æ¥ä¹Ÿå¯æƒœï¼Œç¬¬ä¸€æ¬¡é™¢çº§æ¯”èµ›ä¼˜ä¹‹æ°åšäº†ä¸ªæ‰€æœ‰æˆè¯¾å†…å®¹å¦‚ èœ‚é¸£å™¨ã€LCD1602ã€è·‘é©¬ç¯ã€çŸ©é˜µæŒ‰é”® çš„ä½œå“å·²ç»å¾ˆäº†ä¸èµ·äº†ï¼Œå°±æ²¡æœ‰å†æ·±å…¥å­¦äº›ä»€ä¹ˆï¼Œä¸çŸ¥é‚£äº›æ›´ä¼˜ç§€çš„äººå·²ç»å¼€å§‹å‡†å¤‡ç”µèµ›ã€é£æ€å¡å°”äº†ã€‚å¾ˆé—æ†¾å§ï¼Œæœ€ç»ˆåœ¨ä¸‹å­¦æœŸçš„4æœˆä»½â€œæµ·å–„è¾¾æ¯â€ç»“æŸåå°±å†ä¹Ÿæ²¡ç¢°è¿‡å•ç‰‡æœºï¼Œæ‰€æœ‰å­¦è¿‡çš„å•ç‰‡æœºä»£ç ä¹Ÿé€æ¸å¿˜å´ã€‚ å¤§äºŒï¼Œä¸€ç›´å‘†åœ¨å­¦ç§‘æ¥¼220ï¼Œä½†æ²¡æœ‰æ€ä¹ˆå¿™Apolloçš„é¡¹ç›®ï¼Œè¯´æ¥ä¹Ÿæ¯”è¾ƒæƒ­æ„§ã€‚è¿™åŠä¸ªå­¦æœŸä¹Ÿå·²ç»è¿‡äº†ï¼Œæ„Ÿè§‰è‡ªå·±ä¸€ç›´åœ¨å¿™äº›å¥‡å¥‡æ€ªæ€ªçš„äº‹ï¼Œå­¦äº†å‰ç«¯HTMLã€CSSã€JSï¼›è¿˜å­¦äº†å¾®ä¿¡å°ç¨‹åºï¼Œä¸ºçš„å°±æ˜¯æƒ³å‚åŠ ä¸€äº›æ¯”èµ›ï¼Œä½†åˆ°å¦‚ä»Šå´éƒ½å‡‰äº†ã€‚ä¸ºäº†å¤©ç¿¼æ¯åšäº†ä¸ªç‰©è”ç½‘çš„çŒ«ç²®ï¼Œä½†æ˜¯å¤©ç¿¼æ¯åˆèµ›å°±è¢«åˆ·ï¼›å‚åŠ åˆ›æ„å¤§èµ›ï¼Œç»“æœè‡ªå·±å¿˜è®°æäº¤é™„ä»¶äº†ï¼›åŒæ—¶ï¼Œå­¦é•¿çš„ä¸çœ‹å¥½ï¼Œè®©æˆ‘ä¹Ÿå¯¹å®Œæˆç‚¹å­çš„ä½œå“äº§ç”Ÿäº†æ€€ç–‘ï¼šè¿™ç§æ²¡æŠ€æœ¯å«é‡çš„ä½œå“çœŸçš„èƒ½è·å¥–å—ï¼Ÿæ— è®ºå¦‚ä½•ï¼Œæœ€è¿‘ä¹Ÿå¾—ä¸åˆ°ç­”æ¡ˆäº†ã€‚è¿™è®©æˆ‘å¯¹å¼€å‘äº§ç”Ÿäº†ä¸€ç§åŒæ¶ä¸ç–²å€¦ï¼Œä¸‹å­¦æœŸæƒ³å¥½å¥½å¼„å¼„ç®—æ³•æˆ–æ˜¯æœºå™¨å­¦ä¹ äº†ï¼Œé™ä¸‹å¿ƒæ¥å¼„ç‚¹çœŸæŠ€æœ¯ã€‚ æœ‰çš„æ—¶å€™çœŸçš„ä¼šæ¯”è¾ƒè¿·èŒ«å§ï¼Ÿè€ƒç ”è¿˜æ˜¯å·¥ä½œçš„é—®é¢˜ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´éƒ½ä¼šæ€è€ƒã€‚æ˜¨å¤©çš„åˆ†å…‰è®¡æ— ç–‘è®©æˆ‘åˆä¸€æ¬¡å—æŒ«ã€‚å‡†å¤‡äº†3å¤©çš„ç‰©ç†å®éªŒï¼Œç»“æœæœ€åèªŠé”™æ•°æ®ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€åå‡ ä¸ªç¦»å¼€å®éªŒå®¤çš„ã€‚ç¡®å®ï¼Œåˆ†å…‰è®¡çœŸçš„å¾ˆç®€å•ï¼Œä½†æœ‰æ¨¡ç³Šçš„åœ°æ–¹ã€ä»¥åŠå¹³æ—¶æ²¡è§£å†³æ”¾è¿‡çš„åœ°æ–¹åœ¨ä½ æœ€è–„å¼±çš„æ—¶å€™å°±å¯èƒ½ä¸€ä¸‹å­è¦äº†ä½ çš„å‘½ã€‚æ— æ³•ç¡®å®šæ˜¯å¦è¦ä¿®æ­£ã€æ— æ³•ç¡®å®šæ˜¯å¦è¦ç®—Î¸0â€¦â€¦å¯¼è‡´æ²¡æœ‰ä¸€å¼€å§‹å°±ç”»è¡¨ï¼Œå¯¼è‡´äº†æœ€åçš„èªŠé”™ï¼Œæ„Ÿè§‰åƒæ˜¯å‘½ä¸­æ³¨å®šï¼Œå°±å¦‚åŒåˆ›æ„å¤§èµ›çš„æ²¡æœ‰æäº¤ã€‚æœ€è¿‘è¿‡çš„å¾ˆèƒŒï¼ŒæœŸæœ›èƒ½å¤Ÿæœ‰ä¸ªæ°´é€†é€€æ•£ã€æŸ³æš—èŠ±æ˜ã€‚","categories":[],"tags":[{"name":"ç”Ÿæ´»å°è®°","slug":"ç”Ÿæ´»å°è®°","permalink":"https://nymrli.top/tags/ç”Ÿæ´»å°è®°/"}]},{"title":"Pythonä¸­é‚®ä»¶çš„å‘é€","slug":"Pythonä¸­é‚®ä»¶çš„å‘é€","date":"2018-12-12T14:17:38.000Z","updated":"2020-11-12T08:15:50.837Z","comments":true,"path":"2018/12/12/Pythonä¸­é‚®ä»¶çš„å‘é€/","link":"","permalink":"https://nymrli.top/2018/12/12/Pythonä¸­é‚®ä»¶çš„å‘é€/","excerpt":"","text":"Pythonæ™®é€šçš„é‚®ä»¶å‘é€ éœ€è¦ä¸€ä¸ªå®‰å…¨çš„è¿æ¥ï¼Œä¾‹å¦‚SSLï¼Œå› æ­¤æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šä½¿ç”¨SSLçš„æ–¹å¼å»ç™»å½•ï¼Œä½†æ˜¯åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›å‡†å¤‡ï¼Œæ‰“å¼€qqé‚®ç®±ï¼Œç‚¹å‡»è®¾ç½®-&gt;è´¦æˆ·ï¼Œæ‰¾åˆ°POP3/IMAP/SMTP/Exchange/CardDAV/CalDAVæœåŠ¡ï¼Œå¼€å¯IMAP/SMTPæœåŠ¡ï¼Œç„¶åæ ¹æ®è¦æ±‚ä½¿ç”¨æ‰‹æœºå‘é€åˆ°æŒ‡å®šå·ç ï¼Œè·å–æˆæƒç ï¼Œè¿™ä¸ªæˆæƒç å°±æ˜¯ä½ æ¥ä¸‹æ¥ç™»å½•è¦ä½¿ç”¨çš„å¯†ç . 123456789101112131415161718from email.mime.text import MIMETextimport smtplib_user = '1063052964@qq.com'_pwd = 'pykhotuhghdjbeci'_to = '2035420834@qq.com'msg = MIMEText(mail_body) //MIMETextä¸­_subtypeé»˜è®¤ä¸ºplain,htmlæ ¼å¼,åªéœ€æ”¹è¿™ä¸ªå‚æ•°msg[\"Subject\"] = 'æ¥è‡ª[ä¸åä¸å¿«]ç½‘ç«™çš„ç½‘å‹æ„è§'msg[\"From\"] = _usermsg[\"To\"] = _totry: s = smtplib.SMTP_SSL(\"smtp.qq.com\", 465) # æˆ–æ˜¯ä½¿ç”¨s = smtplib.SMTP(\"smtp.qq.com\",25) s.login(_user, _pwd) s.sendmail(_user, _to, msg.as_string()) s.quit() message = 'æ„Ÿè°¢ä½ çš„æ¥ä¿¡'except: message = 'å‘é€å¤±è´¥' â–²smtplib.SMTP_SSL([host[, port[, local_hostname[, keyfile[, certfile[, timeout]]]]]]) è¿™æ˜¯ä¸€ä¸ªæ´¾ç”Ÿè‡ªSMTPçš„å­ç±»ï¼Œé€šè¿‡SSLåŠ å¯†çš„å¥—æ¥å­—è¿æ¥ï¼ˆä½¿ç”¨æ­¤ç±»ï¼Œæ‚¨éœ€è¦ä½¿ç”¨SSLæ”¯æŒç¼–è¯‘çš„å¥—æ¥å­—æ¨¡å—ï¼‰ã€‚å¦‚æœæœªæŒ‡å®šä¸»æœºï¼Œåˆ™ä½¿ç”¨â€œï¼ˆæœ¬åœ°ä¸»æœºï¼‰â€ã€‚å¦‚æœçœç•¥ç«¯å£ï¼Œåˆ™ä½¿ç”¨æ ‡å‡†çš„SMTP-over-SSLç«¯å£ï¼ˆ465ï¼‰ æœ¬æœºå·²å®‰è£…äº†æ”¯æŒ SMTP çš„æœåŠ¡ï¼Œå¦‚ï¼šsendmail: 12345import smtplibfrom email.mime.text import MIMETextfrom email.header import Headermessage[&apos;From&apos;] = Header(&quot;èœé¸Ÿæ•™ç¨‹&quot;, &apos;utf-8&apos;) ç¬¬ä¸‰æ–¹SMTPå‘é€é‚®ä»¶: 1234567import smtplibfrom email.mime.text import MIMETextfrom email.utils import formataddrmsg[&apos;From&apos;]=formataddr([&quot;FromRunoob&quot;,my_sender]) # æ‹¬å·é‡Œçš„å¯¹åº”å‘ä»¶äººé‚®ç®±æ˜µç§°ã€å‘ä»¶äººé‚®ç®±è´¦å·msg[&apos;To&apos;]=formataddr([&quot;FK&quot;,my_user]) # æ‹¬å·é‡Œçš„å¯¹åº”æ”¶ä»¶äººé‚®ç®±æ˜µç§°ã€æ”¶ä»¶äººé‚®ç®±è´¦å·*æ²¡æœ‰formataddrçš„æ˜µç§°é»˜è®¤ä¸ºè´¦å·* Python å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶: å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶ï¼Œé¦–å…ˆè¦åˆ›å»ºMIMEMultipart()å®ä¾‹ï¼Œç„¶åæ„é€ é™„ä»¶ï¼Œå¦‚æœæœ‰å¤šä¸ªé™„ä»¶ï¼Œå¯ä¾æ¬¡æ„é€ ï¼Œæœ€ååˆ©ç”¨smtplib.smtpå‘é€ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940#!/usr/bin/python# -*- coding: UTF-8 -*- import smtplibfrom email.mime.text import MIMETextfrom email.mime.multipart import MIMEMultipartfrom email.header import Header sender = 'from@runoob.com'receivers = ['429240967@qq.com'] # æ¥æ”¶é‚®ä»¶ï¼Œå¯è®¾ç½®ä¸ºä½ çš„QQé‚®ç®±æˆ–è€…å…¶ä»–é‚®ç®± #åˆ›å»ºä¸€ä¸ªå¸¦é™„ä»¶çš„å®ä¾‹message = MIMEMultipart()message['From'] = Header(\"èœé¸Ÿæ•™ç¨‹\", 'utf-8')message['To'] = Header(\"æµ‹è¯•\", 'utf-8')subject = 'Python SMTP é‚®ä»¶æµ‹è¯•'message['Subject'] = Header(subject, 'utf-8') #é‚®ä»¶æ­£æ–‡å†…å®¹message.attach(MIMEText('è¿™æ˜¯èœé¸Ÿæ•™ç¨‹Python é‚®ä»¶å‘é€æµ‹è¯•â€¦â€¦', 'plain', 'utf-8')) # æ„é€ é™„ä»¶1ï¼Œä¼ é€å½“å‰ç›®å½•ä¸‹çš„ test.txt æ–‡ä»¶att1 = MIMEText(open('test.txt', 'rb').read(), 'base64', 'utf-8')att1[\"Content-Type\"] = 'application/octet-stream'# è¿™é‡Œçš„filenameå¯ä»¥ä»»æ„å†™ï¼Œå†™ä»€ä¹ˆåå­—ï¼Œé‚®ä»¶ä¸­æ˜¾ç¤ºä»€ä¹ˆåå­—att1[\"Content-Disposition\"] = 'attachment; filename=\"test.txt\"'message.attach(att1) # æ„é€ é™„ä»¶2ï¼Œä¼ é€å½“å‰ç›®å½•ä¸‹çš„ runoob.txt æ–‡ä»¶att2 = MIMEText(open('runoob.txt', 'rb').read(), 'base64', 'utf-8')att2[\"Content-Type\"] = 'application/octet-stream'att2[\"Content-Disposition\"] = 'attachment; filename=\"runoob.txt\"'message.attach(att2) try: smtpObj = smtplib.SMTP('localhost') smtpObj.sendmail(sender, receivers, message.as_string()) print \"é‚®ä»¶å‘é€æˆåŠŸ\"except smtplib.SMTPException: print \"Error: æ— æ³•å‘é€é‚®ä»¶\" åœ¨ HTML æ–‡æœ¬ä¸­æ·»åŠ å›¾ç‰‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#!/usr/bin/python# -*- coding: UTF-8 -*- import smtplibfrom email.mime.image import MIMEImagefrom email.mime.multipart import MIMEMultipartfrom email.mime.text import MIMETextfrom email.header import Header sender = 'from@runoob.com'receivers = ['429240967@qq.com'] # æ¥æ”¶é‚®ä»¶ï¼Œå¯è®¾ç½®ä¸ºä½ çš„QQé‚®ç®±æˆ–è€…å…¶ä»–é‚®ç®± msgRoot = MIMEMultipart('related') //åˆ›å»ºMIMEMultipart()å®ä¾‹msgRoot['From'] = Header(\"èœé¸Ÿæ•™ç¨‹\", 'utf-8')msgRoot['To'] = Header(\"æµ‹è¯•\", 'utf-8')subject = 'Python SMTP é‚®ä»¶æµ‹è¯•'msgRoot['Subject'] = Header(subject, 'utf-8') msgAlternative = MIMEMultipart('alternative')msgRoot.attach(msgAlternative) mail_msg = \"\"\"&lt;p&gt;Python é‚®ä»¶å‘é€æµ‹è¯•...&lt;/p&gt;&lt;p&gt;&lt;a href=\"http://www.runoob.com\"&gt;èœé¸Ÿæ•™ç¨‹é“¾æ¥&lt;/a&gt;&lt;/p&gt;&lt;p&gt;å›¾ç‰‡æ¼”ç¤ºï¼š&lt;/p&gt;&lt;p&gt;&lt;img src=\"cid:image1\"&gt;&lt;/p&gt;\"\"\"msgAlternative.attach(MIMEText(mail_msg, 'html', 'utf-8')) //å†…å®¹ # æŒ‡å®šå›¾ç‰‡ä¸ºå½“å‰ç›®å½•fp = open('test.png', 'rb')msgImage = MIMEImage(fp.read())fp.close() # å®šä¹‰å›¾ç‰‡ IDï¼Œåœ¨ HTML æ–‡æœ¬ä¸­å¼•ç”¨msgImage.add_header('Content-ID', '&lt;image1&gt;')msgRoot.attach(msgImage) //é™„ä»¶ try: smtpObj = smtplib.SMTP('localhost') smtpObj.sendmail(sender, receivers, msgRoot.as_string()) print \"é‚®ä»¶å‘é€æˆåŠŸ\"except smtplib.SMTPException: print \"Error: æ— æ³•å‘é€é‚®ä»¶\" Python SMTPå‘é€é‚®ä»¶ flask-email å®˜æ–¹æ–‡æ¡£ é˜»å¡å‘é€ æœ€ç®€å•çš„è°ƒç”¨ 123456789101112131415161718from flask import Flaskfrom flask_mail import Mail,Messageapp = Flask(__name__)app.config['MAIL_SERVER'] = 'smtp.qq.com'app.config['MAIL_PORT'] = 587app.config['MAIL_USE_TLS'] = Trueapp.config['MAIL_USERNAME'] = '1063052964@qq.com'app.config['MAIL_PASSWORD'] = '#'mail = Mail(app)msg = Message('é‚®ä»¶ä¸»é¢˜', sender='1063052964@qq.com', recipients=['2035420834@qq.com'])msg.body = 'é‚®ä»¶å†…å®¹'msg.html = \"&lt;h1&gt;é‚®ä»¶çš„htmlæ¨¡æ¿&lt;h1&gt; body\"with app.app_context(): mail.send(msg) è¯»å–é…ç½®+è§†å›¾å‡½æ•°ä¸­è°ƒç”¨ [config.py] 123456789# é…ç½®é‚®ç®±ä¿¡æ¯MAIL_SERVER = 'smtp.qq.com'MAIL_PORT = 465MAIL_USE_TLS = FalseMAIL_USE_SSL = True# æ³¨æ„æ­¤å¤„ï¼Œå¾ˆå¤šäººé…ç½®å‘ä¸å‡ºå»å’Œè¿™ä¸ªæ˜¯æœ‰å…³ç³»çš„MAIL_PASSWORD = '**********'MAIL_USERNAME = '********@qq.com'# qqéƒµç®±é»˜èªèµ°sslï¼Œæ‰€ä»¥å‰µå»ºçš„smtpå°è±¡å¿…é ˆè¦æ”¯æŒåŠ å¯†å‚³è¼¸ï¼Œä¸”éœ€è¦æŒ‡å®šport=465 app.py 123456789101112131415161718192021222324252627from flask import Flaskfrom flask_mail import Message,Mailfrom threading import Threadimport configapp = Flask(__name__)app.config.from_object(config)mail = Mail(app)def sendMail(): msg = Message('test', sender = '1063052964@qq.com', recipients=[\"2035420834@qq.com\"]) # recipientsæ˜¯ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«æ‰€æœ‰æ”¶ä»¶äºº # æ­¤å¤„çš„testæ˜¯é‚®ç®±çš„ä¸»é¢˜ï¼Œsenderå’Œconfigä¸­çš„MAIL_USERNAMEè¦ä¸€è‡´å“¦ msg.body = '123' msg.html = '&lt;b&gt;test&lt;/b&gt;body' mail.send(msg)@app.route('/')def hello_world(): sendMail() return 'Hello World!'if __name__ == '__main__': app.run(debug=True) tips:tipï¼šå…·ä½“å·¥ç¨‹ä¸­ï¼Œé…ç½®å¯ä»¥å†™åœ¨å•ç‹¬ä¸€ä¸ªæ–‡ä»¶å¦‚â€.envâ€ï¼Œç„¶ååˆ©ç”¨python-envcfgæ¥è¯»å–é…ç½®ï¼Œå¦‚ï¼š app.config.from_object(â€˜envcfg.rawâ€™) å¼‚æ­¥å‘é€ 12345678910111213141516171819202122232425262728293031323334353637from flask import Flaskfrom flask_mail import Message,Mailfrom threading import Threadimport configapp = Flask(__name__)app.config.from_object(config)mail = Mail(app)def send_async_email(app,msg): with app.app_context(): mail.send(message=msg)def SendMail(): msg = Message('test',sender='106305964@qq.com',\\ recipients=[\"870545361@qq.com\"]) # recipientsæ˜¯ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«æ‰€æœ‰æ”¶ä»¶äºº # æ­¤å¤„çš„testæ˜¯é‚®ç®±çš„ä¸»é¢˜ï¼Œsenderå’Œconfigä¸­çš„MAIL_USERNAMEè¦ä¸€è‡´å“¦ msg.body = 'testbody' msg.html = '&lt;b&gt;test&lt;/b&gt;body' # é‚®ä»¶å‘é€ç»™ç›®æ ‡ï¼Œå¯ä»¥æœ‰æ–‡æœ¬ï¼Œä¸¤ç§æ–¹å¼å‘ˆç°ï¼Œä½ èƒ½çœ‹è§æ€æ ·çš„å–å†³äºä½ çš„å®¢æˆ·ç«¯ thr = Thread(target=send_async_email,args=[app,msg]) # ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œè‹¥æ˜¯ä¸ä½¿ç”¨å¼‚æ­¥ã€å¤šçº¿ç¨‹ç­‰æ–¹å¼ï¼Œç½‘é¡µä¼šå¡ä½ thr.start() return 'ok'@app.route('/')def hello_world(): return 'Hello World!'if __name__ == '__main__': app.run(debug=True) â–². è®¸å¤šFlaskçš„æ‰©å±•éƒ½æ˜¯å‡å®šè‡ªå·±è¿è¡Œåœ¨ä¸€ä¸ªæ´»åŠ¨çš„åº”ç”¨å’Œè¯·æ±‚ä¸Šä¸‹æ–‡ä¸­ï¼ŒFlask-Mailçš„sendå‡½æ•°ä½¿ç”¨åˆ°current_app è¿™ä¸ªä¸Šä¸‹æ–‡äº†ï¼Œæ‰€ä»¥å½“ mail.send()å‡½æ•°åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œçš„æ—¶å€™éœ€è¦äººä¸ºçš„åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚åœ¨ç¤ºä¾‹ send_async_email ä¸­ä½¿ç”¨äº† app.app_context() æ¥åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚ æ—¢ç„¶å¼‚æ­¥çš„é‚®ä»¶å‘é€åŠŸèƒ½å·²ç»å®ç°äº†ï¼Œå¦‚æœå°†æ¥æˆ‘ä»¬éœ€è¦å®ç°å…¶å®ƒå¼‚æ­¥çš„å‡½æ•°ï¼Œè¿˜æœ‰ä»€ä¹ˆéœ€è¦æ”¹è¿›çš„å—ï¼Ÿæˆ‘ä»¬éœ€è¦ä¸ºæ¯ä¸€ä¸ªå®ç°å¼‚æ­¥åŠŸèƒ½çš„å‡½æ•°æ‹·è´å¤šçº¿ç¨‹çš„ä»£ç å—ï¼Ÿè¿™å¹¶ä¸å¥½ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°ä¸€ä¸ª è£…é¥°å™¨ æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æœ‰äº†è£…é¥°å™¨ï¼Œä¸Šé¢çš„ä»£ç å¯ä»¥ä¿®æ”¹ä¸º: 123456789101112from .decorators import async@asyncdef send_async_email(app, msg): with app.app_context(): mail.send(msg)def send_email(subject, sender, recipients, text_body, html_body): msg = Message(subject, sender=sender, recipients=recipients) msg.body = text_body msg.html = html_body send_async_email(app, msg) å¥½çš„å¤šäº†å§ï¼Œå¯¹ä¸å¯¹ï¼Ÿ è¿™ä¸ªç¥å¥‡çš„ä»£ç å…¶å®å¾ˆç®€å•ã€‚æˆ‘ä»¬æŠŠå®ƒæ”¾å…¥ä¸€ä¸ªæ–°æ–‡ä»¶(æ–‡ä»¶ app/decorators.py): 1234567from threading import Threaddef async(f): def wrapper(*args, **kwargs): thr = Thread(target = f, args = args, kwargs = kwargs) thr.start() return wrapper ä½œä¸ºä¸€ä¸ªç»ƒä¹ ï¼Œå¤§å®¶å¯ä»¥è€ƒè™‘è€ƒè™‘å¦‚ä½•ç”¨ *multiprocessing* æ¨¡å—æ¥å®ç°ä¸Šé¢çš„åŠŸèƒ½ã€‚ æ‘˜è‡ªflaskæ–‡æ¡£ django.core.mailé‚®ä»¶ EmailMessage: æ ‡é¢˜. å†…å®¹.å‘ä»¶äºº.æ”¶ä»¶äºº 1234from django.core.mail import send_mailsend_mail(u&apos;é‚®ä»¶æ ‡é¢˜&apos;, u&apos;é‚®ä»¶å†…å®¹&apos;, &apos;from@example.com&apos;, [&apos;to@example.com&apos;], fail_silently=False) send_mail() subject, message, from_email and recipient_list è¿™å››ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„ã€‚ subject: å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºé‚®ä»¶æ ‡é¢˜ã€‚ message: å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºé‚®ä»¶å†…å®¹ã€‚ from_email: å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå‘ä»¶é‚®ç®±ã€‚ recipient_list: å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªé‚®ç®±åœ°å€ï¼Œè€Œä¸”æ¯ä¸ªæ”¶ä»¶äººéƒ½ä¼šåœ¨ â€œæ”¶ä»¶äºº/To:â€ æ çœ‹åˆ°å‡ºç°åœ¨ recipient_list ä¸­çš„å…¶ä»–æ”¶ä»¶äººã€‚ fail_silently: ï¼ˆå¯é€‰ï¼‰å¸ƒå°”å€¼ã€‚ä¸º False æ—¶ï¼Œ send_mail ä¼šæŠ›å‡º smtplib.SMTPException å¼‚å¸¸ã€‚ smtplib æ–‡æ¡£åˆ—å‡ºäº†æ‰€æœ‰å¯èƒ½çš„å¼‚å¸¸ã€‚ è¿™äº›å¼‚å¸¸éƒ½æ˜¯ SMTPException çš„å­ç±»ã€‚ auth_user: ï¼ˆå¯é€‰ï¼‰SMTPæœåŠ¡å™¨çš„è®¤è¯ç”¨æˆ·åã€‚æ²¡æä¾›è¯¥å‚æ•°çš„æƒ…å†µä¸‹ï¼ŒDjangoä¼šä½¿ç”¨ EMAIL_HOST_USER é…ç½®é¡¹çš„è®¾ç½®ã€‚ auth_password: ï¼ˆå¯é€‰ï¼‰SMTPæœåŠ¡å™¨çš„è®¤è¯å¯†ç ï¼Œæ²¡æä¾›è¯¥å‚æ•°çš„æƒ…å†µä¸‹ï¼ŒDjangoä¼šä½¿ç”¨ EMAIL_HOST_PASSWORDé…ç½®é¡¹çš„è®¾ç½®ã€‚ connection: ï¼ˆå¯é€‰ï¼‰å‘é€é‚®ä»¶çš„åç«¯ã€‚æ²¡æä¾›è¯¥å‚æ•°çš„æƒ…å†µä¸‹ï¼ŒDjangoä¼šä½¿ç”¨é»˜è®¤åç«¯çš„å®ä¾‹ã€‚å¯æŸ¥çœ‹ Email backends äº†è§£æ›´å¤šç»†èŠ‚ã€‚ send_mass_mail() å’Œ send_mail() çš„åŒºåˆ«åœ¨äºï¼š send_mail() æ¯å‘é€ä¸€å°é‚®ä»¶å°±ä¼šæ‰“å¼€ä¸€æ¬¡é‚®ä»¶æœåŠ¡å™¨é“¾æ¥ï¼Œè€Œsend_mass_mail() åˆ™æ˜¯æ‰“å¼€ä¸€æ¬¡é“¾æ¥ï¼Œå‘é€æ‰€æœ‰çš„é‚®ä»¶ã€‚ send_mass_mail() æ˜æ˜¾æ›´é«˜æ•ˆã€‚ main_admins() mail_admins(subject, message, fail_silently=False, connection=None, html_message=None) django.core.mail.mail_admins() æ˜¯ä¸€ä¸ªç»™ç½‘ç«™åå°ç®¡ç†å‘˜(admin)å‘é‚®ä»¶çš„å¿«æ·æ–¹æ³•ï¼Œç®¡ç†å‘˜è®¾ç½®æ”¾åœ¨ ADMINS é…ç½®é¡¹ã€‚ mail_admins() ä½¿ç”¨ EMAIL_SUBJECT_PREFIX é…ç½®é¡¹çš„å€¼åšä¸ºé‚®ä»¶æ ‡é¢˜çš„å‰ç¼€ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ &quot;[Django] &quot; ã€‚ mail_managers() mail_managers`(subject, message, fail_silently=False, connection=None, html_message=None) mail_managers(*subject*, *message*, *fail_silently=False*, *connection=None*, *html_message=None*)django.core.mail.mail_managers()is just likemail_admins()ï¼Œä¸åŒä¹‹å¤„åœ¨äºè¯¥æ–¹æ³•çš„é‚®ä»¶æ¥æ”¶äººæ˜¯ç½‘ç«™è´Ÿè´£äºº(manager)ï¼Œ å¯ä»¥åœ¨ [MANAGERS`]é…ç½®é¡¹è®¾ç½®ç½‘ç«™è´Ÿè´£äºº EmailMessage å¯¹è±¡ *class *EmailMessage EmailMessage ç±»ä½¿ç”¨ä¸‹åˆ—å‚æ•°åˆå§‹åŒ–ï¼ˆé™¤éä½¿ç”¨ä½ç½®å‚æ•°ï¼Œå¦åˆ™é»˜è®¤é¡ºåºå¦‚ä¸‹ï¼‰ã€‚æ‰€æœ‰å‚æ•°å‡å¯é€‰ï¼Œå‡å¯åœ¨è°ƒç”¨ send()æ–¹æ³•ä¹‹å‰çš„ä»»ä½•æ—¶é—´å¯¹å…¶èµ‹å€¼ã€‚ åŠ å…¥äº† cc å‚æ•°ï¼ˆccæ˜¯æŠ„é€ï¼‰ subject: é‚®ä»¶çš„æ ‡é¢˜è¡Œ body: é‚®ä»¶çš„ä¸»ä½“å†…å®¹æ–‡æœ¬ï¼Œé¡»æ˜¯çº¯æ–‡æœ¬ä¿¡æ¯ã€‚ from_email: å‘é€è€…çš„åœ°å€ã€‚ fred@example.com æˆ– Fred &lt;fred@example.com&gt; æ ¼å¼éƒ½æ˜¯åˆæ³•çš„ã€‚å¦‚æœå¿½ç•¥è¯¥å‚æ•°ï¼ŒDjangoå°±ä¼šä½¿ç”¨ DEFAULT_FROM_EMAIL é…ç½®é¡¹ã€‚ to: æ”¶ä»¶äººåœ°å€åˆ—è¡¨æˆ–å…ƒç»„ã€‚ bcc: å‘é€é‚®ä»¶æ—¶ç”¨äºâ€Bccâ€å¤´ä¿¡æ¯çš„ä¸€ç»„åˆ—è¡¨æˆ–å…ƒç»„ï¼Œä¹Ÿå°±æ˜¯æš—é€çš„æ”¶ä»¶äººã€‚ connection: ä¸€ä¸ªé‚®ä»¶åç«¯å®ä¾‹ã€‚ç”¨åŒä¸€ä¸ªé“¾æ¥å‘é€å¤šå°é‚®ä»¶å°±è¦ç”¨åˆ°è¯¥å‚æ•°ã€‚å¿½ç•¥è¯¥å‚æ•°æ—¶ï¼Œä¼šåœ¨è°ƒç”¨ send() æ—¶è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°é“¾æ¥ã€‚ attachments: ç½®äºé‚®ä»¶æŠ¥æ–‡å†…çš„é™„ä»¶åˆ—è¡¨ã€‚åˆ—è¡¨å…ƒç´ å¯ä»¥æ˜¯ email.MIMEBase.MIMEBase å®ä¾‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ (filename, content, mimetype) ä¸‰éƒ¨åˆ†æ„æˆçš„å…ƒç»„ã€‚ headers: ç½®äºé‚®ä»¶æŠ¥æ–‡å†…çš„å…¶ä»–å¤´ä¿¡æ¯(header)çš„å­—å…¸ã€‚å­—å…¸çš„keyæ˜¯å¤´ä¿¡æ¯çš„åç§°ï¼Œå­—å…¸çš„valueæ˜¯å¤´ä¿¡æ¯çš„å€¼ã€‚ è¿™æ ·åšèƒ½ç¡®ä¿å¤´ä¿¡æ¯çš„åç§°å’Œå¯¹åº”å€¼ä¼šä»¥æ­£ç¡®çš„æ ¼å¼ä¿å­˜äºé‚®ä»¶æŠ¥æ–‡ä¸­ã€‚ cc: å‘é€é‚®ä»¶æ—¶æ”¾äºâ€Ccâ€å¤´ä¿¡æ¯çš„ä¸€ç³»åˆ—åˆ—è¡¨æˆ–å…ƒç»„ã€‚ ä¾‹å¦‚: 123email = EmailMessage(&apos;Hello&apos;, &apos;Body goes here&apos;, &apos;from@example.com&apos;, [&apos;to1@example.com&apos;, &apos;to2@example.com&apos;], [&apos;bcc@example.com&apos;], headers = &#123;&apos;Reply-To&apos;: &apos;another@example.com&apos;&#125;) è¯¥ç±»æ–¹æ³•å¦‚ä¸‹: send(fail_silently=False) å‘é€é‚®ä»¶æŠ¥æ–‡ã€‚å¦‚æœåœ¨æ„é€ é‚®ä»¶æ—¶å¦‚æœæŒ‡å®šäº†æŸä¸ªé“¾æ¥(connection)ï¼Œå°±ä¼šä½¿ç”¨è¯¥é“¾æ¥å‘é‚®ä»¶ã€‚ å¦åˆ™ï¼Œå°±ä¼šä½¿ç”¨é»˜è®¤åç«¯çš„å®ä¾‹å‘é‚®ä»¶ã€‚å¦‚æœå…³é”®å­—å‚æ•° fail_silently ä¸º True ï¼Œå°±ä¼šå¿½ç•¥é‚®ä»¶å‘é€æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚ message() æ„é€ äº†ä¸€ä¸ª django.core.mail.SafeMIMEText å¯¹è±¡ (Pythonçš„ email.MIMEText.MIMEText ç±»çš„å­ç±») æˆ–æ˜¯ django.core.mail.SafeMIMEMultipart å¯¹è±¡ï¼ˆè¯¥å¯¹è±¡ä¿å­˜å³å°†å‘é€å‡ºå»é‚®ä»¶æŠ¥æ–‡ï¼‰ã€‚å¦‚éœ€æ‰©å±• EmailMessageç±»ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¦è¦†å†™è¯¥æ–¹æ³•ï¼Œå°†ä½ æ‰€éœ€çš„å†…å®¹æ·»åŠ åˆ°MIMEå¯¹è±¡ä¸­ã€‚ recipients() è¿”å›é‚®ä»¶ä¸­æ‰€æœ‰æ”¶ä»¶äººçš„åˆ—è¡¨ï¼Œä¸ç®¡æ”¶ä»¶äººæ˜¯åœ¨ to è¿˜æ˜¯ bcc å±æ€§ä¸­ã€‚è¿™æ˜¯å¦ä¸€ä¸ªç»å¸¸è¢«ç»§æ‰¿è¦†å†™çš„æ–¹æ³•ï¼Œ å› ä¸ºSMTPæœåŠ¡å™¨åœ¨å‘é€é‚®ä»¶æŠ¥æ–‡æ—¶ï¼Œè¦æ¥æ”¶å®Œæ•´çš„æ”¶ä»¶äººåˆ—è¡¨ã€‚å³ä½¿ä½ è‡ªå·±çš„ç±»ä½¿ç”¨å…¶ä»–æ–¹å¼æ¥æŒ‡å®šæ”¶ä»¶äººï¼Œä¹Ÿä»ç„¶éœ€è¦ä½¿ç”¨è¯¥æ–¹æ³•è¿”å›æ”¶ä»¶äººåˆ—è¡¨ã€‚ attach() åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶é™„ä»¶ï¼Œå¹¶æŠŠå®ƒæ·»åŠ åˆ°é‚®ä»¶æŠ¥æ–‡ä¸­ã€‚ æœ‰ä¸¤ç§æ–¹æ³•è°ƒç”¨ attach(): ä¼ é€’ä¸€ä¸ªå•ç‹¬çš„ email.MIMEBase.MIMEBase å®ä¾‹åšä¸ºå‚æ•°ã€‚è¯¥å®ä¾‹ä¼šç›´æ¥æ·»åŠ åˆ°æœ€ç»ˆçš„é‚®ä»¶æŠ¥æ–‡ä¸­ã€‚ æˆ–è€…ï¼Œç»™ attach() ä¼ é€’ä¸‰ä¸ªå‚æ•°: filename, content å’Œ mimetype. filename æ˜¯å‡ºç°åœ¨é‚®ä»¶ä¸­çš„é™„ä»¶æ–‡ä»¶çš„åç§°ï¼Œ content æ˜¯é™„ä»¶çš„å†…å®¹ï¼Œè€Œ mimetype æ˜¯é™„ä»¶æ‰€ä½¿ç”¨çš„MIMEç±»å‹ã€‚ å¦‚æœå¿½ç•¥ mimetype, Djangoä¼šè‡ªåŠ¨æ ¹æ®é™„ä»¶æ–‡ä»¶åæ¥æ¨æµ‹MIMEå†…å®¹ç±»å‹ã€‚ ä¾‹å¦‚: 1message.attach(&apos;design.png&apos;, img_data, &apos;image/png&apos;) attach_file() ä½¿ç”¨å½“å‰æ–‡ä»¶ç³»ç»Ÿä¸‹çš„æŸä¸ªæ–‡ä»¶åšä¸ºé™„ä»¶ã€‚è°ƒç”¨æ—¶ï¼Œä¼ å…¥æŸä¸ªæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼Œä»¥åŠè¯¥é™„ä»¶çš„MIMEç±»å‹(å¯é€‰çš„)ã€‚ å¿½ç•¥MIMEç±»å‹çš„è¯ï¼ŒDjangoä¼šè‡ªåŠ¨æ ¹æ®é™„ä»¶æ–‡ä»¶åæ¥æ¨æµ‹MIMEç±»å‹ã€‚æœ€ç®€å•çš„ç”¨æ³•å¦‚ä¸‹: 1message.attach_file(&apos;/images/weather_map.png&apos;) å‘é€å¤šç”¨é€”é‚®ä»¶ åœ¨åŒä¸€å°é‚®ä»¶ä¸­åŒ…å«å¤šç§ç‰ˆæœ¬çš„å†…å®¹æ˜¯éå¸¸æœ‰ç”¨çš„ï¼›å…¸å‹çš„ä¾‹å­å°±æ˜¯å‘é€æ—¢æœ‰çº¯æ–‡æœ¬ç‰ˆæœ¬å†…å®¹åˆæœ‰HTMLç‰ˆæœ¬å†…å®¹çš„é‚®ä»¶ã€‚ åœ¨Djangoçš„é‚®ä»¶åº“ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ EmailMultiAlternatives ç±»æ¥è¾¾åˆ°è¯¥ç›®çš„ã€‚ EmailMessage çš„å­ç±»æœ‰ä¸€ä¸ªattach_alternative() æ–¹æ³•ç”¨æ¥åŒ…å«å…¶ä»–ç‰ˆæœ¬çš„é‚®ä»¶ä¸»ä½“å†…å®¹ã€‚æ‰€æœ‰å…¶ä»–æ–¹æ³•(åŒ…æ‹¬ç±»çš„åˆå§‹åŒ–æ–¹æ³•)éƒ½ç›´æ¥ç»§æ‰¿è‡ª EmailMessage ã€‚ å‘é€ä¸€å°æ–‡æœ¬/HTMLæ··åˆé‚®ä»¶ï¼Œä»£ç å¦‚ä¸‹: 12345678from django.core.mail import EmailMultiAlternativessubject, from_email, to = &apos;hello&apos;, &apos;from@example.com&apos;, &apos;to@example.com&apos;text_content = &apos;This is an important message.&apos;html_content = &apos;&lt;p&gt;This is an &lt;strong&gt;important&lt;/strong&gt; message.&lt;/p&gt;&apos;msg = EmailMultiAlternatives(subject, text_content, from_email, [to])msg.attach_alternative(html_content, &quot;text/html&quot;)msg.send() é»˜è®¤æƒ…å†µä¸‹ï¼ŒEmailMessage ç±»ä¸­çš„ body å‚æ•°çš„MIMEç±»å‹æ˜¯ &quot;text/plain&quot; ã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ²¡å¿…è¦æ›´æ”¹è¯¥MIMEï¼Œå› ä¸ºè¿™æ ·èƒ½ä¿è¯æ¯ä¸ªæ”¶ä»¶äººèƒ½å¤Ÿé˜…è¯»è¯¥é‚®ä»¶ï¼Œè€Œä¸è®ºä»–ä»¬ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆé‚®ä»¶å®¢æˆ·ç«¯ã€‚ ä¸è¿‡ï¼Œåœ¨èƒ½ç¡®ä¿æ”¶ä»¶äººèƒ½å¤„ç†å¤šç”¨é€”é‚®ä»¶çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨:class:~django.core.mail.EmailMessage ç±»çš„ content_subtype å±æ€§ æ¥æ›´æ”¹é‚®ä»¶å†…å®¹ç±»å‹ã€‚ä¸»ç±»å‹æ€»æ˜¯ &quot;text&quot; ï¼Œå­ç±»å‹å¯ä»¥è®¾ç½®ä¸ºåˆ«çš„ç‰ˆæœ¬(æ¯”å¦‚html)ï¼Œä¾‹å¦‚: 123msg = EmailMessage(subject, html_content, from_email, [to])msg.content_subtype = &quot;html&quot; # ä¸»å†…ä½“ç°åœ¨å˜æˆ text/htmlmsg.send() è·å–é‚®ä»¶å‘é€åç«¯çš„å®ä¾‹ 123django.core.mail çš„ get_connection() å‡½å¼è¿”å›ä½ å½“å‰ä½¿ç”¨çš„é‚®ä»¶åç«¯çš„å®ä¾‹ã€‚get_connection(backend=None, fail_silently=False, *args, **kwargs) SMTP backend --é»˜è®¤çš„åç«¯ Console backend File backend --è¯¥åç«¯å¹¶ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨â€“å®ƒä»…ä»…æ˜¯ä¸ºå¼€å‘æä¾›æ–¹ä¾¿ In-memory backend(å†…å­˜åç«¯) Dummy backend(ç©ºåç«¯) éœ€è¦åœ¨ settings.pyä¸­è®¾ç½®çš„ä¸œè¥¿: 123456EMAIL_BACKEND = &apos;django.core.mail.backends.smtp.EmailBackend&apos;EMAIL_USE_SSL = TrueEMAIL_HOST = &apos;smtp.gmail.com&apos;EMAIL_PORT = 587EMAIL_HOST_USER = &apos;urusername@gmail.com&apos;EMAIL_HOST_PASSWORD = &apos;password&apos;","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"flask","slug":"flask","permalink":"https://nymrli.top/tags/flask/"}]},{"title":"ä½¿ç”¨Cerbotç”³è¯·å…è´¹è¯ä¹¦å‡çº§ httpåˆ°https","slug":"ä½¿ç”¨Cerbotç”³è¯·å…è´¹è¯ä¹¦å‡çº§-httpåˆ°https","date":"2018-12-08T08:10:03.000Z","updated":"2019-10-07T10:15:12.177Z","comments":true,"path":"2018/12/08/ä½¿ç”¨Cerbotç”³è¯·å…è´¹è¯ä¹¦å‡çº§-httpåˆ°https/","link":"","permalink":"https://nymrli.top/2018/12/08/ä½¿ç”¨Cerbotç”³è¯·å…è´¹è¯ä¹¦å‡çº§-httpåˆ°https/","excerpt":"","text":"ä½¿ç”¨ Cerbot å…è´¹è¯ä¹¦ ç®€å• å‡çº§ http åˆ° https 1ã€å®‰è£… cerbot: 12git clone https://github.com/letsencrypt/letsencryptcd letsencrypt è¦æ±‚ï¼š Python 2.7 Gitç¯å¢ƒ è¿æ¥å¤–ç½‘ 2ã€è¿è¡Œ: 12// æ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´ä»£ç ./certbot-auto certonly --standalone --email admin@example.com -d example.com -d www.example.com -d other.example.net æˆåŠŸæç¤º: 12345678910IMPORTANT NOTES:Congratulations! Your certificate and chain have been saved at: /etc/letsencrypt/live/sast.nymrli.top/fullchain.pem Your key file has been saved at: /etc/letsencrypt/live/sast.nymrli.top/privkey.pem Your cert will expire on 2019-02-08. To obtain a new or tweaked version of this certificate in the future, simply run certbot-auto again. To non-interactively renew *all* of your certificates, run &quot;certbot-auto renew&quot; - If you like Certbot, please consider supporting our work by: 3ã€é…ç½®Nginx: server ä¸å†ç›‘å¬80ç«¯å£ï¼Œå› ä¸ºTLSè¦ä½¿ç”¨çš„æ˜¯443ç«¯å£ï¼Œç„¶åå¼•å…¥è¯ä¹¦å’Œkey 123456789server&#123; listen 443 ssl; server_name sast.nymrli.top; //è¿™é‡Œæ˜¯ä½ çš„åŸŸå index index_page.html; root /var/www/homework_submission-master/; //ç½‘ç«™ç›®å½• ssl_certificate /etc/letsencrypt/live/sast.nymrli.top/fullchain.pem; //å‰é¢ç”Ÿæˆçš„è¯ä¹¦ï¼Œæ”¹ä¸€ä¸‹é‡Œé¢çš„åŸŸåå°±è¡Œï¼Œä¸å»ºè®®æ›´æ¢è·¯å¾„ ssl_certificate_key /etc/letsencrypt/live/sast.nymrli.top/privkey.pem; //å‰é¢ç”Ÿæˆçš„å¯†é’¥ï¼Œæ”¹ä¸€ä¸‹é‡Œé¢çš„åŸŸåå°±è¡Œï¼Œä¸å»ºè®®æ›´æ¢è·¯å¾„&#125; é‡å¯Nginxï¼š 1sudo service nginx restart OK! é—®é¢˜è§£å†³: 1Problem binding to port 80: Could not bind to IPv4 or IPv6. åŸå› æ˜¯ nginx å ç”¨äº†80ç«¯å£ï¼Œè¾“å…¥service nginx stopã€‚ç„¶åå†æ¬¡æ‰§è¡Œè¯ä¹¦å®‰è£…å‘½ä»¤ï¼Œå³å¯é¡ºåˆ©å®‰è£…ã€‚å®‰è£…å®Œæ¯•åï¼Œè¾“å…¥service nginx startï¼Œé‡å¯ nginx æœåŠ¡ã€‚","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"},{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"}]},{"title":"pipenv æ–°æ¬¾Pythonè™šæ‹Ÿç¯å¢ƒå·¥å…·è¯¦è§£[è½¬]","slug":"pipenv-æ–°æ¬¾Pythonè™šæ‹Ÿç¯å¢ƒå·¥å…·è¯¦è§£-è½¬","date":"2018-12-08T08:08:23.000Z","updated":"2019-09-15T08:07:30.969Z","comments":true,"path":"2018/12/08/pipenv-æ–°æ¬¾Pythonè™šæ‹Ÿç¯å¢ƒå·¥å…·è¯¦è§£-è½¬/","link":"","permalink":"https://nymrli.top/2018/12/08/pipenv-æ–°æ¬¾Pythonè™šæ‹Ÿç¯å¢ƒå·¥å…·è¯¦è§£-è½¬/","excerpt":"","text":"pipenv æ–°æ¬¾Pythonè™šæ‹Ÿç¯å¢ƒå·¥å…·è¯¦è§£[è½¬] pipenvæ˜¯requestsåº“ä½œè€…Kenneth Reitzç¼–å†™çš„ä¸€ä¸ªç”¨äºåˆ›å»ºå’Œç®¡ç†Pythonè™šæ‹Ÿç¯å¢ƒçš„å·¥å…·ã€‚ Pipenvæ˜¯Pythonå®˜æ–¹æœºæ„æ¨èçš„PythonåŒ…å·¥å…·ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œä¸ºäº†ç®¡ç†Pythonè™šæ‹Ÿç¯å¢ƒï¼Œé€šå¸¸ç”¨å¾—æ¯”è¾ƒå¤šçš„æ˜¯virtualenvå’Œpyenvã€‚ä½†æ˜¯æœ‰äººè§‰å¾—å®ƒä»¬è¿˜ä¸å¤Ÿå¥½ç”¨ï¼Œä¸å¤Ÿå·æ‡’ã€‚è¿™ä¸ªäººæ˜¯è°ï¼Œå°±æ˜¯ä¸Šé¢çš„é‚£ä½ã€‚äºæ˜¯ä»–å¼€å‘äº†ä¸€ä¸ªpipenvï¼Œç»“åˆäº†pipåŠvirtualenvçš„åŠŸèƒ½å’Œä¼˜ç‚¹ï¼Œé›†æˆå‡ºäº†pipenvè¿™ä¸ªå·¥å…·ã€‚å…¶ç›®çš„æ˜¯æ›¿ä»£virtualenvå’Œpyenvï¼Œå°†pipåŠvirtualenvçš„åŠŸèƒ½é›†äºä¸€èº«ã€‚ ä¸€ã€å®‰è£…pipenv windowsä¸‹å¾ˆç®€å•ï¼š 1pip install pipenv Linuxä¸‹ï¼š 1sudo pip install pipenv åœ¨è‹¹æœæ“ä½œç³»ç»Ÿä¸‹ï¼š 1$ brew install pipenv ä¹Ÿå°±æ˜¯è¯´ï¼Œæ— æ³•ç”¨pipç®¡ç†çš„åŒ…ï¼ŒpipenvåŒæ ·æ— æ³•ä½¿ç”¨ã€‚ pipenvä¾èµ–ï¼špsutil, virtualenv-clone, pew, certifi, urllib3, chardet, requests, mccabe, pyflakes, pycodestyle, flake8ç­‰ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚ pipenvæœ‰å¾ˆæ¼‚äº®çš„å½©è‰²ç»ˆç«¯ç•Œé¢ã€‚ äºŒã€ç®€å•ä½¿ç”¨ è¿›å…¥ä½ çš„Pythoné¡¹ç›®æ–‡ä»¶å¤¹ï¼š 12cd your_projectpipenv install windowsæ“ä½œç³»ç»Ÿä¸­ï¼Œè™šæ‹Ÿç¯å¢ƒåˆ›å»ºè¿‡ç¨‹å¦‚ä¸‹ï¼š 1234567891011121314151617D:\\test\\test_pipenv&gt;pipenv installCreating a virtualenv for this projectâ€¦Using base prefix &apos;c:\\\\python36&apos;New python executable in C:\\Users\\Administrator\\.virtualenvs\\test_pipenv-XHxuOsjn\\Scripts\\python.exeInstalling setuptools, pip, wheel...done.Virtualenv location: C:\\Users\\Administrator\\.virtualenvs\\test_pipenv-XHxuOsjnCreating a Pipfile for this projectâ€¦Pipfile.lock not found, creatingâ€¦Locking [dev-packages] dependenciesâ€¦Locking [packages] dependenciesâ€¦Updated Pipfile.lock (c23e27)!Installing dependencies from Pipfile.lock (c23e27)â€¦ ================================ 0/0 - 00:00:00To activate this project&apos;s virtualenv, run the following: $ pipenv shell å¦‚æœä½ ç»™å‘½ä»¤æ·»åŠ â€“twoæˆ–â€“threeå‚æ•°ï¼Œå®ƒå°†åˆ†åˆ«ä½¿ç”¨Python2æˆ–3æ¥åˆå§‹åŒ–ä½ çš„è™šæ‹Ÿç¯å¢ƒï¼Œå¦åˆ™å°†ä½¿ç”¨é»˜è®¤çš„Pythonç‰ˆæœ¬ã€‚ æ³¨æ„ï¼špipenvé»˜è®¤æŠŠè™šæ‹Ÿç¯å¢ƒçš„çœŸå®æ–‡ä»¶å…¨éƒ½æ”¾åœ¨äº†C:\\Users\\Administrator\\.virtualenvs\\test_pipenv-XHxuOsjn\\Scripts\\python.exeä¸­ï¼Œè€Œåœ¨å®é™…çš„é¡¹ç›®æ–‡ä»¶å¤¹å†…åªåˆ›å»ºäº†ä¸¤ä¸ªæ–°æ–‡ä»¶Pipfileå’ŒPipfile.lockã€‚è¿™å¯èƒ½é€ æˆCç›˜å­˜æœ‰å¤§é‡çš„æ–‡ä»¶ï¼Œä¸æ˜¯ä¸ªå¥½çš„åšæ³•ã€‚ï¼ˆä½†å¥½åƒæ— æ³•ä¿®æ”¹è¿™ä¸€è·¯å¾„â€¦ï¼‰ çœ‹ä¸€ä¸‹Pipfileä¸­çš„å†…å®¹ï¼š 1234567891011[[source]]url = &quot;https://pypi.python.org/simple&quot;verify_ssl = truename = &quot;pypi&quot;[packages][dev-packages] æœ€å…³é”®çš„æ˜¯å®šä¹‰äº†å®‰è£…ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨çš„æºï¼Œé»˜è®¤ä¸ºå®˜æ–¹çš„pypiã€‚ è€ŒPipfile.lockæ–‡ä»¶å†…å®¹å‘¢ï¼Ÿ 12345678910111213141516171819202122232425262728293031&#123; &quot;_meta&quot;: &#123; &quot;hash&quot;: &#123; &quot;sha256&quot;: &quot;5f0257fe8c7a73db1c8de519faa92c658282a01087eb2bfafba7962704c23e27&quot; &#125;, &quot;host-environment-markers&quot;: &#123; &quot;implementation_name&quot;: &quot;cpython&quot;, &quot;implementation_version&quot;: &quot;3.6.4&quot;, &quot;os_name&quot;: &quot;nt&quot;, &quot;platform_machine&quot;: &quot;AMD64&quot;, &quot;platform_python_implementation&quot;: &quot;CPython&quot;, &quot;platform_release&quot;: &quot;7&quot;, &quot;platform_system&quot;: &quot;Windows&quot;, &quot;platform_version&quot;: &quot;6.1.7601&quot;, &quot;python_full_version&quot;: &quot;3.6.4&quot;, &quot;python_version&quot;: &quot;3.6&quot;, &quot;sys_platform&quot;: &quot;win32&quot; &#125;, &quot;pipfile-spec&quot;: 6, &quot;requires&quot;: &#123;&#125;, &quot;sources&quot;: [ &#123; &quot;name&quot;: &quot;pypi&quot;, &quot;url&quot;: &quot;https://pypi.python.org/simple&quot;, &quot;verify_ssl&quot;: true &#125; ] &#125;, &quot;default&quot;: &#123;&#125;, &quot;develop&quot;: &#123;&#125;&#125; åˆå§‹æƒ…å†µä¸‹ï¼Œæ–‡ä»¶é‡ŒåªåŒ…å«ä¸€äº›æ“ä½œç³»ç»Ÿçš„åŸºæœ¬ä¿¡æ¯ã€‚ Pipfileå’ŒPipfile.lockä¸¤ä¸ªæ–‡ä»¶äº’ç›¸é…åˆï¼Œå®Œæˆè™šæ‹Ÿç¯å¢ƒçš„ç®¡ç†å·¥ä½œã€‚ ä¸‰ã€å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å— PipfileåŒ…å«å…³äºé¡¹ç›®çš„ä¾èµ–åŒ…çš„ä¿¡æ¯ï¼Œå¹¶å–ä»£é€šå¸¸åœ¨Pythoné¡¹ç›®ä¸­ä½¿ç”¨çš„requirements.txtæ–‡ä»¶ã€‚ å¦‚æœä½ åœ¨å…·æœ‰requirements.txtæ–‡ä»¶çš„é¡¹ç›®ä¸­å¯åŠ¨äº†Pipenvï¼Œåˆ™åœ¨æŠŠå®ƒä»é¡¹ç›®ä¸­åˆ é™¤ä¹‹å‰ï¼Œåº”è¯¥ä½¿ç”¨Pipenvå®‰è£…è¯¥requirementsä¸­åˆ—å‡ºçš„æ‰€æœ‰ä¾èµ–åŒ…ã€‚ ä½¿ç”¨pipenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒåï¼Œè¿›å…¥pipfileæ‰€åœ¨ç›®å½•ï¼Œä½¿ç”¨installå‘½ä»¤å®‰è£…ç¬¬ä¸‰æ–¹åº“ã€‚ ä¾‹å¦‚ï¼š 1pipenv install django è¿™ä¸ªæ—¶å€™ï¼Œä½ å…¶å®æŠŠpipenvå½“ä½œpipæ¥ä½¿ç”¨ã€‚æ— éœ€åƒvirtualenvé‚£æ ·éœ€è¦é¢å¤–çš„å…ˆå¯åŠ¨è™šæ‹Ÿç¯å¢ƒã€‚pipenvåŒºåˆ†ä½ æ˜¯åœ¨ç»™å“ªä¸ªè™šæ‹Ÿç¯å¢ƒå·¥ä½œï¼Œä¾èµ–çš„æ˜¯Pipfileæ–‡ä»¶çš„ä½ç½®ã€‚ è¦å¸è½½æŸä¸ªç¬¬ä¸‰æ–¹åº“ï¼š 1pipenv uninstall beautifulsoup4 å››ã€å†»ç»“Pipfile å†»ç»“å°±ç›¸å½“äºå°†é¡¹ç›®æ‰€ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“åˆ—è¡¨è¿›è¡Œæ‰“åŒ…è¾“å‡ºï¼Œç±»ä¼¼äºvirtualenvä¸­ç”Ÿæˆrequirements.txtæ–‡ä»¶ã€‚ é€šè¿‡æ›´æ–°Pipfile.lockæ¥å†»ç»“åº“åç§°åŠå…¶ç‰ˆæœ¬ï¼Œä»¥åŠå…¶ä¾èµ–å…³ç³»çš„åˆ—è¡¨ã€‚éœ€è¦ä½¿ç”¨lockå‚æ•°ï¼š 1pipenv lock å¦‚æœå¦ä¸€ä¸ªç”¨æˆ·æ‹·è´äº†ä½ çš„é¡¹ç›®ï¼Œä»–ä»¬åªéœ€è¦å®‰è£…Pipenvï¼Œç„¶åï¼š 1pipenv install Pipenvä¼šåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹è‡ªåŠ¨å¯»æ‰¾Pipfileå’ŒPipfile.lockæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…å¿…è¦çš„è½¯ä»¶åŒ…ã€‚ ä¹Ÿå°±æ˜¯è¯´pipenv installçš„æ—¶å€™æœ‰ä¸‰ç§é€»è¾‘ï¼š å¦‚æœç›®å½•ä¸‹æ²¡æœ‰Pipfileå’ŒPipfile.lockæ–‡ä»¶ï¼Œè¡¨ç¤ºåˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒï¼› å¦‚æœæœ‰ï¼Œè¡¨ç¤ºä½¿ç”¨å·²æœ‰çš„Pipfileå’ŒPipfile.lockæ–‡ä»¶ä¸­çš„é…ç½®åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼› å¦‚æœåé¢å¸¦è¯¸å¦‚djangoè¿™ä¸€ç±»åº“åï¼Œè¡¨ç¤ºä¸ºå½“å‰è™šæ‹Ÿç¯å¢ƒå®‰è£…ç¬¬ä¸‰æ–¹åº“ã€‚ äº”ã€ç®¡ç†å¼€å‘ç¯å¢ƒ é€šå¸¸æœ‰ä¸€äº›PythonåŒ…åªåœ¨ä½ çš„å¼€å‘ç¯å¢ƒä¸­éœ€è¦ï¼Œè€Œä¸æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¾‹å¦‚å•å…ƒæµ‹è¯•åŒ…ã€‚ Pipenvä½¿ç”¨â€“devæ ‡å¿—åŒºåˆ†ä¸¤ä¸ªç¯å¢ƒã€‚ 1pipenv install --dev django djangoåº“ç°åœ¨å°†åªåœ¨å¼€å‘è™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨ã€‚å¦‚æœä½ è¦åœ¨ä½ çš„ç”Ÿäº§ç¯å¢ƒä¸­å®‰è£…ä½ çš„é¡¹ç›®ï¼š 1pipenv install è¿™ä¸ä¼šå®‰è£…djangoåŒ…ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¼€å‘äººå‘˜å°†ä½ çš„é¡¹ç›®å…‹éš†åˆ°è‡ªå·±çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨â€“devæ ‡å¿—ï¼Œå°†djangoä¹Ÿå®‰è£…ï¼š 1pipenv install --dev ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªâ€“devå‚æ•°ï¼Œå¸®ä½ åœ¨åŒä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒä¸­åˆåŒºåˆ†å‡ºäº†å¼€å‘å’Œéå¼€å‘ç¯å¢ƒã€‚ å…­ã€åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œå‘½ä»¤ ä½¿ç”¨runå‚æ•°ï¼Œæä¾›è¦è¿è¡Œçš„å‘½ä»¤ï¼š 1pipenv run python manage.py runserver è¿™å°†ä½¿ç”¨å½“å‰è™šæ‹Ÿç¯å¢ƒå…³è”çš„Pythonè§£é‡Šå™¨ï¼Œæ‰§è¡Œå‘½ä»¤ã€‚ æˆ–è€…ç®€å•çš„æ‰§è¡Œè„šæœ¬ï¼š 1pipenv run python your_script.py å¦‚æœä½ ä¸æƒ³æ¯æ¬¡è¿è¡ŒPythonæ—¶éƒ½è¾“å…¥è¿™ä¹ˆå¤šå­—ç¬¦ï¼Œå¯ä»¥åœ¨shellä¸­è®¾ç½®ä¸€ä¸ªåˆ«åï¼Œä¾‹å¦‚ï¼Œ 1alias prp=&quot;pipenv run python&quot; ä¸ƒã€pipenvé€‰é¡¹è§£é‡Š pipenv å…·æœ‰ä¸‹åˆ—çš„é€‰é¡¹ï¼š 12345678910111213141516171819$ pipenvUsage: pipenv [OPTIONS] COMMAND [ARGS]...Options: --update æ›´æ–°Pipenv &amp; pip --where æ˜¾ç¤ºé¡¹ç›®æ–‡ä»¶æ‰€åœ¨è·¯å¾„ --venv æ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒå®é™…æ–‡ä»¶æ‰€åœ¨è·¯å¾„ --py æ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒPythonè§£é‡Šå™¨æ‰€åœ¨è·¯å¾„ --envs æ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒçš„é€‰é¡¹å˜é‡ --rm åˆ é™¤è™šæ‹Ÿç¯å¢ƒ --bare æœ€å°åŒ–è¾“å‡º --completion å®Œæ•´è¾“å‡º --man æ˜¾ç¤ºå¸®åŠ©é¡µé¢ --three / --two ä½¿ç”¨Python 3/2åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ³¨æ„æœ¬æœºå·²å®‰è£…çš„Pythonç‰ˆæœ¬ï¼‰ --python TEXT æŒ‡å®šæŸä¸ªPythonç‰ˆæœ¬ä½œä¸ºè™šæ‹Ÿç¯å¢ƒçš„å®‰è£…æº --site-packages é™„å¸¦å®‰è£…åŸPythonè§£é‡Šå™¨ä¸­çš„ç¬¬ä¸‰æ–¹åº“ --jumbotron ä¸çŸ¥é“å•¥ç©æ„.... --version ç‰ˆæœ¬ä¿¡æ¯ -h, --help å¸®åŠ©ä¿¡æ¯ pipenv å¯ä½¿ç”¨çš„å‘½ä»¤å‚æ•°ï¼š 12345678910Commands: check æ£€æŸ¥å®‰å…¨æ¼æ´ graph æ˜¾ç¤ºå½“å‰ä¾èµ–å…³ç³»å›¾ä¿¡æ¯ install å®‰è£…è™šæ‹Ÿç¯å¢ƒæˆ–è€…ç¬¬ä¸‰æ–¹åº“ lock é”å®šå¹¶ç”ŸæˆPipfile.lockæ–‡ä»¶ open åœ¨ç¼–è¾‘å™¨ä¸­æŸ¥çœ‹ä¸€ä¸ªåº“ run åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œå‘½ä»¤ shell è¿›å…¥è™šæ‹Ÿç¯å¢ƒ uninstall å¸è½½ä¸€ä¸ªåº“ update å¸è½½å½“å‰æ‰€æœ‰çš„åŒ…ï¼Œå¹¶å®‰è£…å®ƒä»¬çš„æœ€æ–°ç‰ˆæœ¬ ä¸€äº›ä½¿ç”¨ä¾‹å­ï¼š 123456789101112Usage Examples: ä½¿ç”¨Python 3.6åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ: $ pipenv --python 3.6 å®‰è£…åŒ…æ‹¬å¼€å‘ç¯å¢ƒä¸­çš„ç¬¬ä¸‰æ–¹åº“: $ pipenv install --dev é”å®špipfile: $ pipenv lock --pre Install a local setup.py into your virtual environment/Pipfile: $ pipenv install -e . å…«ã€ä¸€äº›ä½¿ç”¨è¿‡ç¨‹å±•ç¤º å®šä½é¡¹ç›®è·¯å¾„: 12$ pipenv --where/Users/kennethreitz/Library/Mobile Documents/com~apple~CloudDocs/repos/kr/pipenv/test å®šä½è™šæ‹Ÿç¯å¢ƒ 12$ pipenv --venv/Users/kennethreitz/.local/share/virtualenvs/test-Skyy4vre å®šä½Pythonè§£é‡Šå™¨ï¼š 12$ pipenv --py/Users/kennethreitz/.local/share/virtualenvs/test-Skyy4vre/bin/python å®‰è£…åŒ…ï¼š 12345678910$ pipenv installCreating a virtualenv for this project......No package provided, installing all dependencies.Virtualenv location: /Users/kennethreitz/.local/share/virtualenvs/test-EJkjoYtsInstalling dependencies from Pipfile.lock......To activate this project&apos;s virtualenv, run the following:$ pipenv shell å®‰è£…ä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸­æ‰ä½¿ç”¨çš„åŒ…ï¼š 1234$ pipenv install pytest --devInstalling pytest......Adding pytest to Pipfile&apos;s [dev-packages]... æ˜¾ç¤ºä¾èµ–å…³ç³»ï¼š 123456$ pipenv graphrequests==2.18.4 - certifi [required: &gt;=2017.4.17, installed: 2017.7.27.1] - chardet [required: &gt;=3.0.2,&lt;3.1.0, installed: 3.0.4] - idna [required: &gt;=2.5,&lt;2.7, installed: 2.6] - urllib3 [required: &lt;1.23,&gt;=1.21.1, installed: 1.22] ç”Ÿæˆlockæ–‡ä»¶: 123456$ pipenv lockAssuring all dependencies from Pipfile are installed...Locking [dev-packages] dependencies...Locking [packages] dependencies...Note: your project now has only default [packages] installed.To install [dev-packages], run: $ pipenv install --dev å®‰è£…å¼€å‘ç¯å¢ƒä¾èµ–ï¼š 123456$ pipenv install --devPipfile found at /Users/kennethreitz/repos/kr/pip2/test/Pipfile. Considering this to be the project home.Pipfile.lock out of date, updating...Assuring all dependencies from Pipfile are installed...Locking [dev-packages] dependencies...Locking [packages] dependencies... å¸è½½æ‰€æœ‰çš„åŒ…ï¼š 12345$ pipenv uninstall --allNo package provided, un-installing all dependencies.Found 25 installed package(s), purging......Environment now purged and fresh! ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒçš„shellã€‚exité€€å‡ºï¼š 123$ pipenv shellLoading .env environment variablesâ€¦Launching subshell in virtual environment. Type &apos;exit&apos; or &apos;Ctrl+D&apos; to return. æœ¬æ–‡æ¥è‡ªåˆ˜æ±Ÿçš„åšå®¢å’Œæ•™ç¨‹ç½‘ç«™http://www.liujiangblog.com/blog/","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"#ifdefã€#ifndefã€#endif","slug":"ifdefã€-ifndefã€-endif","date":"2018-12-08T08:07:37.000Z","updated":"2019-09-15T08:07:30.944Z","comments":true,"path":"2018/12/08/ifdefã€-ifndefã€-endif/","link":"","permalink":"https://nymrli.top/2018/12/08/ifdefã€-ifndefã€-endif/","excerpt":"","text":"#ifdefã€#ifndefã€#endifä½¿ç”¨è¯´æ˜ ç›®çš„:é˜²æ­¢å¤´æ–‡ä»¶é‡å¤include ç¤ºä¾‹è¯´æ˜: a.h 12#include &lt;stdio.h&gt;#include &quot;b.h&quot; b.h 1#include &quot;a.h&quot; c.c 12345#include &quot;a.h&quot;#include &quot;b.h&quot;int main()&#123; printf(&quot;Hello!&quot;);&#125; å¦‚æœä½ ç¨‹åºæ˜¯è¿™æ ·å†™çš„è¯ï¼Œç¼–è¯‘å™¨å°±ä¼šå‡ºç°Error #include nested too deeplyçš„é”™è¯¯ã€‚ å› ä¸ºè¿™é‡Œ b.h å’Œ a.h éƒ½äº’ç›¸includeï¼Œc.cæ–‡ä»¶åœ¨includeçš„æ—¶å€™é‡å¤includeäº†a.hï¼Œæˆ‘ä»¬å¸Œæœ›c.cæ–‡ä»¶ä¸­æ‰§è¡Œ#include &quot;b.h&quot;çš„æ—¶å€™ b.h èƒ½è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœæ²¡æœ‰#include &quot;a.h&quot;åˆ™includeï¼Œå¦‚æœå·²ç»includeäº†ï¼Œåˆ™ä¸å†é‡å¤å®šä¹‰ã€‚ å¯ä»¥å°†b.hä¿®æ”¹ä¸ºï¼š 1234#ifndef _A_H#define _A_H #include &quot;a.h&quot;#endif åŸå› æ˜¯: &gt; c.cä¸­å…ˆincludeäº†a.hæ–‡ä»¶ï¼Œå…¶ä¸­a.hä¸­åˆåŒ…æ‹¬äº†b.hï¼Œæ‰€ä»¥ä¼šå®šä¹‰å®_A_Hï¼Œå½“c,cä¸­åˆincludeb,hæ—¶åˆ¤æ–­_A_Hæ˜¯å¦å·²ç»è¢«å®šä¹‰äº†,å¦‚æœè¢«å®šä¹‰äº†,åˆ™ä¸å†includea.h","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"}]},{"title":"å°ç¨‹åºâ€”â€”é«˜å¾·åœ°å›¾APIè°ƒç”¨","slug":"å°ç¨‹åºâ€”â€”é«˜å¾·åœ°å›¾APIè°ƒç”¨","date":"2018-12-06T09:11:14.000Z","updated":"2019-09-15T08:07:31.048Z","comments":true,"path":"2018/12/06/å°ç¨‹åºâ€”â€”é«˜å¾·åœ°å›¾APIè°ƒç”¨/","link":"","permalink":"https://nymrli.top/2018/12/06/å°ç¨‹åºâ€”â€”é«˜å¾·åœ°å›¾APIè°ƒç”¨/","excerpt":"","text":"å°ç¨‹åºâ€”â€”é«˜å¾·åœ°å›¾APIè°ƒç”¨ é…ç½® å°†å‹ç¼©åŒ…è§£å‹è‡³ä½¿ç”¨çš„å°ç¨‹åºç›®å½•ä¸‹ï¼Œåˆ›å»ºlibsæ–‡ä»¶å¤¹ï¼ŒåŒ…å«amap-wx.js å¯¼å…¥ä½¿ç”¨ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950var amapFile = require('..Â­/../../../libs/amap-wx.js');Page(&#123; data: &#123; src: '' &#125;, onLoad: function () &#123; var that = this; var myAmapFun = new amapFile.AMapWX(&#123; key: \" dbb8be907441c2650218bdfd78848cf6\" &#125;); wx.getSystemInfo(&#123; success: function (data) &#123; //è·å¾—æ‰‹æœºå±å¹•çš„é«˜åº¦å®½åº¦ var height = data.windowHeight; var width = data.windowWidth; var size = width + \"*\" + height; myAmapFun.getStaticmap(&#123; location: \"118.9301,32.109\", //åœ°å›¾ä¸­å¿ƒ zoom: 15, //ç¼©æ”¾æ¯”ä¾‹ size: size, //å°ºå¯¸å¤§å° scale: 2, //åƒç´ ,æ™®é€šå›¾ã€é«˜æ¸…å›¾ markers: //æ ‡è®° \"large,0xFF0000,A:118.9301,32.109|mid,0xFF0000,B:118.9301,32.110\", success: function (data) &#123; that.setData(&#123; src: data.url &#125;) &#125;, fail: function (info) &#123; wx.showModal(&#123; title: info.errMsg &#125;) &#125; &#125;) &#125; &#125;) &#125;, onReady: function () &#123; &#125;, onShow: function () &#123; &#125;, onHide: function () &#123; &#125;, onUnload: function () &#123; &#125;, onPullDownRefresh: function () &#123; &#125;, onReachBottom: function () &#123; &#125;, onShareAppMessage: function () &#123; &#125;&#125;) APIä½¿ç”¨è¯´æ˜ å‚æ•°åç§° å«ä¹‰ è§„åˆ™è¯´æ˜ æ˜¯å¦å¿…å¡« é»˜è®¤å€¼ key ç”¨æˆ·å”¯ä¸€æ ‡è¯† ç”¨æˆ·åœ¨é«˜å¾·åœ°å›¾å®˜ç½‘ç”³è¯· å¿…å¡« æ—  location åœ°å›¾ä¸­å¿ƒç‚¹ ä¸­å¿ƒç‚¹åæ ‡ã€‚è§„åˆ™ï¼šç»åº¦å’Œçº¬åº¦ç”¨&quot;,&quot;åˆ†éš” ç»çº¬åº¦å°æ•°ç‚¹åä¸å¾—è¶…è¿‡6ä½ã€‚ éƒ¨åˆ†æ¡ä»¶å¿…å¡« æ—  zoom åœ°å›¾çº§åˆ« åœ°å›¾ç¼©æ”¾çº§åˆ«:[1,17] å¯é€‰ æ—  size åœ°å›¾å¤§å° å›¾ç‰‡å®½åº¦å›¾ç‰‡é«˜åº¦ã€‚æœ€å¤§å€¼ä¸º10241024 å¯é€‰ 400*400 scale æ™®é€š/é«˜æ¸… 1:è¿”å›æ™®é€šå›¾ï¼›2:è°ƒç”¨é«˜æ¸…å›¾ï¼Œå›¾ç‰‡é«˜åº¦å’Œå®½åº¦éƒ½å¢åŠ ä¸€å€ï¼Œzoomä¹Ÿå¢åŠ ä¸€å€ï¼ˆå½“zoomä¸ºæœ€å¤§å€¼æ—¶ï¼Œzoomä¸å†æ”¹å˜ï¼‰ã€‚ å¯é€‰ 1 markers æ ‡æ³¨ ä½¿ç”¨è§„åˆ™è§markersè¯¦ç»†è¯´æ˜ï¼Œæ ‡æ³¨æœ€å¤§æ•°10ä¸ª å¯é€‰ æ—  labels æ ‡ç­¾ ä½¿ç”¨è§„åˆ™è§labelsè¯¦ç»†è¯´æ˜ï¼Œæ ‡ç­¾æœ€å¤§æ•°10ä¸ª å¯é€‰ æ—  paths æŠ˜çº¿ ä½¿ç”¨è§„åˆ™è§pathsè¯¦ç»†è¯´æ˜ï¼ŒæŠ˜çº¿å’Œå¤šè¾¹å½¢æœ€å¤§æ•°4ä¸ª å¯é€‰ æ—  traffic äº¤é€šè·¯å†µæ ‡è¯† åº•å›¾æ˜¯å¦å±•ç°å®æ—¶è·¯å†µã€‚ å¯é€‰å€¼ï¼š 0ï¼Œä¸å±•ç°ï¼›1ï¼Œå±•ç°ã€‚ å¯é€‰ 0 sig æ•°å­—ç­¾å æ•°å­—ç­¾åè®¤è¯ç”¨æˆ·å¿…å¡« å¯é€‰ æ—  markers: 123markers:\"large,0xFF0000,A:118.9301,32.109|mid,0xFF0000,B:118.9301,32.110\",//ormarkers:\"large,0xFF0000,A:118.9301,32.109;B:118.9301,32.110\", å‚æ•°åç§° è¯´æ˜ é»˜è®¤å€¼ size å¯é€‰å€¼ï¼š small,mid,large small color é€‰å€¼èŒƒå›´ï¼š[0x000000, 0xffffff]ä¾‹å¦‚ï¼š0x000000 black,0x008000 green,0x800080 purple,0xFFFF00 yellow,0x0000FF blue,0x808080 gray,0xffa500 orange,0xFF0000 red,0xFFFFFF white 0xFC6054 label [0-9]ã€[A-Z]ã€[å•ä¸ªä¸­æ–‡å­—] å½“sizeä¸ºsmallæ—¶ï¼Œå›¾ç‰‡ä¸å±•ç°æ ‡æ³¨åã€‚ æ—  labelï¼Œfont ,bold, fontSizeï¼ŒfontColorï¼Œbackground è‡ªå®šä¹‰markersStyle: -1ï¼Œurlï¼Œ0ã€‚ -1è¡¨ç¤ºä¸ºè‡ªå®šä¹‰å›¾ç‰‡ï¼ŒURLä¸ºå›¾ç‰‡çš„ç½‘å€ã€‚è‡ªå®šä¹‰å›¾ç‰‡åªæ”¯æŒPNGæ ¼å¼ã€‚ https://restapi.amap.com/v3/staticmap?markers=-1,http://ico.ooopic.com/ajax/iconpng/?id=158688.png,0:116.37359,39.92437&amp;key=æ‚¨çš„key labels labels=labelsStyle1:location1;location2|labelsStyle2:location3;location4..|labelsStyleN:locationN;locationM labelsStyleï¼šlabel, font, bold, fontSize, fontColor, backgroundã€‚ å„å‚æ•°ä½¿ç”¨&quot;,&quot;åˆ†éš”ï¼Œå¦‚æœ‰é»˜è®¤å€¼åˆ™å¯ä¸ºç©ºã€‚ å‚æ•°åç§° è¯´æ˜ é»˜è®¤å€¼ content æ ‡ç­¾å†…å®¹ï¼Œå­—ç¬¦æœ€å¤§æ•°ç›®ä¸º15 æ—  font 0ï¼šå¾®è½¯é›…é»‘ï¼›1ï¼šå®‹ä½“ï¼›2ï¼šTimes New Roman;3ï¼šHelvetica 0 bold 0ï¼šéç²—ä½“ï¼›1ï¼šç²—ä½“ 0 fontSize å­—ä½“å¤§å°ï¼Œå¯é€‰å€¼[1,72] 10 fontColor å­—ä½“é¢œè‰²ï¼Œå–å€¼èŒƒå›´ï¼š[0x000000, 0xffffff] 0xFFFFFF background èƒŒæ™¯è‰²ï¼Œå–å€¼èŒƒå›´ï¼š[0x000000, 0xffffff] 0x5288d8 paths paths=pathsStyle1:location1;location2..|pathsStyle2:location3;location4..|pathsStyleN:locationN;locationM.. â–².LocationN : 118.9301,32.109å…ˆç»åº¦åç»´åº¦ pathsStyleï¼šweight, color, transparency, fillcolor, fillTransparency å‚æ•°åç§° è¯´æ˜ é»˜è®¤å€¼ weight çº¿æ¡ç²—ç»†ã€‚å¯é€‰å€¼ï¼š [2,15] 5 color æŠ˜çº¿é¢œè‰²ã€‚ é€‰å€¼èŒƒå›´ï¼š[0x000000, 0xffffff]ä¾‹å¦‚ï¼š0x000000 black,0x008000 green,0x800080 purple,0xFFFF00 yellow,0x0000FF blue,0x808080 gray,0xffa500 orange,0xFF0000 red,0xFFFFFF white 0x0000FF transparency é€æ˜åº¦ã€‚å¯é€‰å€¼[0,1]ï¼Œå°æ•°åæœ€å¤š2ä½ï¼Œ0è¡¨ç¤ºå®Œå…¨é€æ˜ï¼Œ1è¡¨ç¤ºå®Œå…¨ä¸é€æ˜ã€‚ 1 fillcolor å¤šè¾¹å½¢çš„å¡«å……é¢œè‰²ï¼Œæ­¤å€¼ä¸ä¸ºç©ºæ—¶æŠ˜çº¿å°é—­æˆå¤šè¾¹å½¢ã€‚å–å€¼è§„åˆ™åŒcolor æ—  fillTransparency å¡«å……é¢é€æ˜åº¦ã€‚å¯é€‰å€¼[0,1]ï¼Œå°æ•°åæœ€å¤š2ä½ï¼Œ0è¡¨ç¤ºå®Œå…¨é€æ˜ï¼Œ1è¡¨ç¤ºå®Œå…¨ä¸é€æ˜ã€‚ 0.5 æŠ˜çº¿ç¤ºä¾‹: 1paths: &apos;10,0x0000ff,1,,:116.31604,39.96491;116.320816,39.966606;116.321785,39.966827;116.32361,39.966957&apos;, åŒºåŸŸç¤ºä¾‹: 1paths: &quot;10,0x0000ff,0.1,0x0000ff,0.7:116.31604,39.96491;116.320816,39.966606;116.321785,39.966827;116.32361,39.966957;116.39361,39.966957;116.39361,39.936957&quot;,","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"https://nymrli.top/tags/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"HTMLå’ŒCSSå­¦ä¹ ","slug":"HTMLå’ŒCSSå­¦ä¹ ","date":"2018-12-06T02:57:32.000Z","updated":"2021-12-03T03:07:59.277Z","comments":true,"path":"2018/12/06/HTMLå’ŒCSSå­¦ä¹ /","link":"","permalink":"https://nymrli.top/2018/12/06/HTMLå’ŒCSSå­¦ä¹ /","excerpt":"","text":"HTMLå­¦ä¹  &lt;head&gt;ä¸­çš„&lt;meta&gt;æ ‡ç­¾ å±æ€§ å€¼ æè¿° http-equiv content-typeexpiresrefreshset-cookie æŠŠ content å±æ€§å…³è”åˆ° HTTP å¤´éƒ¨ã€‚ name authordescriptionkeywordsgeneratorrevisedothers æŠŠ content å±æ€§å…³è”åˆ°ä¸€ä¸ªåç§°ã€‚ scheme some_text å®šä¹‰ç”¨äºç¿»è¯‘ content å±æ€§å€¼çš„æ ¼å¼ã€‚ name å±æ€§ name å±æ€§æä¾›äº†åç§°/å€¼å¯¹ä¸­çš„åç§°ã€‚ â€œkeywordsâ€ æ˜¯ä¸€ä¸ªç»å¸¸è¢«ç”¨åˆ°çš„åç§°ã€‚å®ƒä¸ºæ–‡æ¡£å®šä¹‰äº†ä¸€ç»„å…³é”®å­—ã€‚æŸäº›æœç´¢å¼•æ“åœ¨é‡åˆ°è¿™äº›å…³é”®å­—æ—¶ï¼Œä¼šç”¨è¿™äº›å…³é”®å­—å¯¹æ–‡æ¡£è¿›è¡Œåˆ†ç±»ã€‚ 1&lt;meta name=&quot;keywords&quot; content=&quot;HTML,ASP,PHP,SQL&quot;&gt; â–²å¦‚æœæ²¡æœ‰æä¾› name å±æ€§ï¼Œé‚£ä¹ˆåç§°/å€¼å¯¹ä¸­çš„åç§°ä¼šé‡‡ç”¨ http-equiv å±æ€§çš„å€¼ã€‚ http-equiv å±æ€§ http-equiv å±æ€§ä¸ºåç§°/å€¼å¯¹æä¾›äº†åç§°ã€‚å¹¶æŒ‡ç¤ºæœåŠ¡å™¨åœ¨å‘é€å®é™…çš„æ–‡æ¡£ä¹‹å‰å…ˆåœ¨è¦ä¼ é€ç»™æµè§ˆå™¨çš„ MIME æ–‡æ¡£å¤´éƒ¨åŒ…å«åç§°/å€¼å¯¹ã€‚ ä½¿ç”¨å¸¦æœ‰ http-equiv å±æ€§çš„ æ ‡ç­¾æ—¶ï¼ŒæœåŠ¡å™¨å°†æŠŠåç§°/å€¼å¯¹æ·»åŠ åˆ°å‘é€ç»™æµè§ˆå™¨çš„å†…å®¹å¤´éƒ¨ã€‚ä¾‹å¦‚ï¼Œæ·»åŠ ï¼š 12&lt;meta http-equiv=&quot;charset&quot; content=&quot;iso-8859-1&quot;&gt;&lt;meta http-equiv=&quot;expires&quot; content=&quot;31 Dec 2008&quot;&gt; è¿™æ ·å‘é€åˆ°æµè§ˆå™¨çš„å¤´éƒ¨å°±åº”è¯¥åŒ…å«ï¼š 123content-type: text/htmlcharset:iso-8859-1expires:31 Dec 2008 content å±æ€§ content å±æ€§æä¾›äº†åç§°/å€¼å¯¹ä¸­çš„å€¼ã€‚è¯¥å€¼å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„å­—ç¬¦ä¸²ã€‚ content å±æ€§å§‹ç»ˆè¦å’Œ name å±æ€§æˆ– http-equiv å±æ€§ä¸€èµ·ä½¿ç”¨ã€‚ æ ‡ç­¾ &lt;em&gt;å’Œ&lt;strong&gt;æ ‡ç­¾æ˜¯ä¸ºäº†å¼ºè°ƒä¸€æ®µè¯ä¸­çš„å…³é”®å­—æ—¶ä½¿ç”¨ï¼Œå®ƒä»¬çš„è¯­ä¹‰æ˜¯å¼ºè°ƒã€‚ &lt;span&gt;æ ‡ç­¾æ˜¯æ²¡æœ‰è¯­ä¹‰çš„ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ä¸ºäº†è®¾ç½®å•ç‹¬çš„æ ·å¼ç”¨çš„ã€‚ &lt;q&gt;å¼•ç”¨æ–‡æœ¬&lt;/q&gt;,æ³¨æ„è¦å¼•ç”¨çš„æ–‡æœ¬ä¸ç”¨åŠ åŒå¼•å·ï¼Œæµè§ˆå™¨ä¼šå¯¹qæ ‡ç­¾è‡ªåŠ¨æ·»åŠ åŒå¼•å·ã€‚ &lt;blockquote&gt;å¼•ç”¨é•¿æ–‡æœ¬&lt;/blockquote&gt; ä½¿ç”¨&lt;br&gt;æ ‡ç­¾åˆ†è¡Œæ˜¾ç¤ºæ–‡æœ¬ ç©ºæ ¼&amp;nbsp; è®¤è¯†&lt;hr /&gt;æ ‡ç­¾ï¼Œæ·»åŠ æ°´å¹³æ¨ªçº¿ &lt;address&gt;æ ‡ç­¾ï¼Œä¸ºç½‘é¡µåŠ å…¥åœ°å€ä¿¡æ¯ &lt;code&gt;var i=i+300;&lt;/code&gt;ä¸€è¡Œä»£ç  &lt;pre&gt;è¯­è¨€ä»£ç æ®µ&lt;/pre&gt;å¤§æ®µä»£ç  ä½¿ç”¨&lt;ul&gt;ï¼Œæ·»åŠ æ–°é—»ä¿¡æ¯åˆ—è¡¨ åˆ›å»ºè¡¨æ ¼tableçš„å››ä¸ªå…ƒç´ ï¼š tbodyï¼šå¦‚æœä¸åŠ &lt;thead&gt;&lt;tbody&gt;&lt;tfooter&gt; , tableè¡¨æ ¼åŠ è½½å®Œåæ‰æ˜¾ç¤ºã€‚åŠ ä¸Šè¿™äº›è¡¨æ ¼ç»“æ„ï¼Œ tbodyåŒ…å«è¡Œçš„å†…å®¹ä¸‹è½½å®Œä¼˜å…ˆæ˜¾ç¤ºï¼Œä¸å¿…ç­‰å¾…è¡¨æ ¼ç»“æŸååœ¨æ˜¾ç¤ºï¼ŒåŒæ—¶å¦‚æœè¡¨æ ¼å¾ˆé•¿ï¼Œç”¨tbodyåˆ†æ®µï¼Œå¯ä»¥ä¸€éƒ¨åˆ†ä¸€éƒ¨åˆ†åœ°æ˜¾ç¤ºã€‚ trè¡¨æ ¼çš„ä¸€è¡Œï¼Œæ‰€ä»¥æœ‰å‡ å¯¹tr è¡¨æ ¼å°±æœ‰å‡ è¡Œã€‚ thè¡¨æ ¼è¡¨å¤´ã€‚ tdä¸€è¡Œä¸­æ•°æ®å•å…ƒæ ¼çš„ä¸ªæ•°ã€‚ &lt;caption&gt;æ ‡é¢˜æ–‡æœ¬&lt;/caption&gt; &lt;table summary=&quot;è¡¨æ ¼ç®€ä»‹æ–‡æœ¬&quot;&gt;æ‘˜è¦ CSSå­¦ä¹  Q:CSSæ ·å¼å¯ä»¥å†™åœ¨å“ªäº›åœ°æ–¹å‘¢ï¼Ÿ A: å†…è”å¼ : æŠŠcssä»£ç ç›´æ¥å†™åœ¨ç°æœ‰çš„HTMLæ ‡ç­¾ä¸­ &lt;p style=&quot;color:red&quot;&gt;è¿™é‡Œæ–‡å­—æ˜¯çº¢è‰²ã€‚&lt;/p&gt; åµŒå…¥å¼ : æŠŠcssæ ·å¼ä»£ç å†™åœ¨&lt;style type=&quot;text/css&quot;&gt;&lt;/styleæ ‡ç­¾ä¹‹é—´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åµŒå…¥å¼cssæ ·å¼å†™åœ¨&lt;head&gt;&lt;/head&gt;ä¹‹é—´ 12345&lt;style type=&quot;text/css&quot;&gt;span&#123;color:red;&#125;&lt;/style&gt; å¤–éƒ¨å¼ : æŠŠcssä»£ç å†™ä¸€ä¸ªå•ç‹¬çš„å¤–éƒ¨æ–‡ä»¶ä¸­,è¿™ä¸ªcssæ ·å¼æ–‡ä»¶ä»¥â€œ.cssâ€ä¸ºæ‰©å±•å &lt;link href=&quot;base.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt; â–².ä¸‰ç§æ–¹æ³•çš„ä¼˜å…ˆçº§ å†…è”å¼ &gt; åµŒå…¥å¼ &gt; å¤–éƒ¨å¼ åµŒå…¥å¼&gt;å¤–éƒ¨å¼æœ‰ä¸€ä¸ªå‰æï¼šåµŒå…¥å¼cssæ ·å¼çš„ä½ç½®ä¸€å®šåœ¨å¤–éƒ¨å¼çš„åé¢ ==&gt;å…¶å®æ€»ç»“æ¥è¯´ï¼Œå°±æ˜¯--å°±è¿‘åŸåˆ™ï¼ˆç¦»è¢«è®¾ç½®å…ƒç´ è¶Šè¿‘ä¼˜å…ˆçº§åˆ«è¶Šé«˜ï¼‰ã€‚ æƒå€¼: æ ‡ç­¾çš„æƒå€¼ä¸º1ï¼Œç±»é€‰æ‹©ç¬¦çš„æƒå€¼ä¸º10ï¼ŒIDé€‰æ‹©ç¬¦çš„æƒå€¼æœ€é«˜ä¸º100 12345p&#123;color:red;&#125; /*æƒå€¼ä¸º1*/p span&#123;color:green;&#125; /*æƒå€¼ä¸º1+1=2*/.warning&#123;color:white;&#125; /*æƒå€¼ä¸º10*/p span.warning&#123;color:purple;&#125; /*æƒå€¼ä¸º1+1+10=12*/#footer .note p&#123;color:yellow;&#125; /*æƒå€¼ä¸º100+10+1=111*/ è¿˜æœ‰ä¸€ä¸ªæƒå€¼æ¯”è¾ƒç‰¹æ®Šâ€“ç»§æ‰¿ä¹Ÿæœ‰æƒå€¼ä½†å¾ˆä½ï¼Œæœ‰çš„æ–‡çŒ®æå‡ºå®ƒåªæœ‰0.1ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºç»§æ‰¿çš„æƒå€¼æœ€ä½ã€‚ ==&gt;æ ¹æ®æƒå€¼å’Œå±‚å çš„æƒ³æ³•: å†…è”æ ·å¼è¡¨ï¼ˆæ ‡ç­¾å†…éƒ¨ï¼‰&gt; åµŒå…¥æ ·å¼è¡¨ï¼ˆå½“å‰æ–‡ä»¶ä¸­ï¼‰&gt; å¤–éƒ¨æ ·å¼è¡¨ï¼ˆå¤–éƒ¨æ–‡ä»¶ä¸­ï¼‰ã€‚ æé«˜æƒå€¼çš„æ–¹æ³•:é‡è¦æ€§ 12p&#123;color:red!important;&#125;p.first&#123;color:green;&#125; CSSæ ¼å¼åŒ–æ’ç‰ˆ å­—ä½“ font-family: å­—ä½“ body{font-family:&quot;å®‹ä½“&quot;;} font-size:å­—å· body{font-size:12px;color:#666} 1234p span&#123;font-weight:bold;&#125; //ç²—ä½“p a&#123;font-style:italic;&#125; //æ–œä½“p a&#123;text-decoration:underline;&#125; //ä¸‹åˆ’çº¿.oldPrice&#123;text-decoration:line-through;&#125; //åˆ é™¤çº¿ æ®µè½æ’ç‰ˆ text-indent:æ®µè½ç¼©è¿› p{ text-indent:2em;} è¡Œé—´è·ï¼ˆè¡Œé«˜ï¼‰ p{ line-height:1.5em;} ä¸­æ–‡å­—é—´è·ã€å­—æ¯é—´è· h1{ word-spacing:50px;} ä¸ºå—çŠ¶å…ƒç´ ä¸­çš„æ–‡æœ¬ã€å›¾ç‰‡è®¾ç½®å±…ä¸­æ ·å¼ h1{ text-align:center;} å…ƒç´ åˆ†ç±» å—çŠ¶å…ƒç´ (block) 1&lt;div&gt;ã€&lt;p&gt;ã€&lt;h1&gt;...&lt;h6&gt;ã€&lt;ol&gt;ã€&lt;ul&gt;ã€&lt;dl&gt;ã€&lt;table&gt;ã€&lt;address&gt;ã€&lt;blockquote&gt; ã€&lt;form&gt; 1ã€æ¯ä¸ªå—çº§å…ƒç´ éƒ½ä»æ–°çš„ä¸€è¡Œå¼€å§‹ï¼Œå¹¶ä¸”å…¶åçš„å…ƒç´ ä¹Ÿå¦èµ·ä¸€è¡Œã€‚ï¼ˆçœŸéœ¸é“ï¼Œä¸€ä¸ªå—çº§å…ƒç´ ç‹¬å ä¸€è¡Œï¼‰ 2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦ã€è¡Œé«˜ä»¥åŠé¡¶å’Œåº•è¾¹è·éƒ½å¯è®¾ç½®ã€‚ 3ã€å…ƒç´ å®½åº¦åœ¨ä¸è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œæ˜¯å®ƒæœ¬èº«çˆ¶å®¹å™¨çš„100%ï¼ˆå’Œçˆ¶å…ƒç´ çš„å®½åº¦ä¸€è‡´ï¼‰ï¼Œé™¤éè®¾å®šä¸€ä¸ªå®½åº¦ã€‚ å†…è”å…ƒç´ (åˆå«è¡Œå†…å…ƒç´ ):inline 1&lt;a&gt;ã€&lt;span&gt;ã€&lt;br&gt;ã€&lt;i&gt;ã€&lt;em&gt;ã€&lt;strong&gt;ã€&lt;label&gt;ã€&lt;q&gt;ã€&lt;var&gt;ã€&lt;cite&gt;ã€&lt;code&gt; 1ã€å’Œå…¶ä»–å…ƒç´ éƒ½åœ¨ä¸€è¡Œä¸Šï¼› 2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦åŠé¡¶éƒ¨å’Œåº•éƒ¨è¾¹è·ä¸å¯è®¾ç½®ï¼› 3ã€å…ƒç´ çš„å®½åº¦å°±æ˜¯å®ƒåŒ…å«çš„æ–‡å­—æˆ–å›¾ç‰‡çš„å®½åº¦ï¼Œä¸å¯æ”¹å˜ã€‚ å†…è”å—çŠ¶å…ƒç´ (inline-blockï¼‰ 1&lt;img&gt;ã€&lt;input&gt; 1ã€å’Œå…¶ä»–å…ƒç´ éƒ½åœ¨ä¸€è¡Œä¸Šï¼› 2ã€å…ƒç´ çš„é«˜åº¦ã€å®½åº¦ã€è¡Œé«˜ä»¥åŠé¡¶å’Œåº•è¾¹è·éƒ½å¯è®¾ç½®ã€‚ ç›’å­æ¨¡å‹ å—çº§å…ƒç´ éƒ½å…·æœ‰ç›’å­æ¨¡å‹çš„ç‰¹å¾ å¤–è¾¹è· : marigin å†…è¾¹è· : padding è¾¹æ¡† : border ç›’æ¨¡å‹â€“å®½åº¦å’Œé«˜åº¦ å…ƒç´ çš„å®é™…é«˜åº¦ä¸º : è‡ªèº«height+ padding-top +padding-bottom å…ƒç´ çš„å®é™…å®½åº¦ä¸º : è‡ªèº«width+ padding-left +padding-right â–² ä¸€ä¸ªå…ƒç´ å®é™…å®½åº¦ï¼ˆç›’å­çš„å®½åº¦ï¼‰=å·¦è¾¹ç•Œ+å·¦è¾¹æ¡†+å·¦å¡«å……+å†…å®¹å®½åº¦+å³å¡«å……+å³è¾¹æ¡†+å³è¾¹ç•Œã€‚ æ€»å®½åº¦è®¡ç®—: å¼€å‘å·¥å…·æŸ¥çœ‹: è¾¹æ¡†: border-styleï¼ˆè¾¹æ¡†æ ·å¼ï¼‰å¸¸è§æ ·å¼æœ‰ï¼š dashedï¼ˆè™šçº¿ï¼‰| dottedï¼ˆç‚¹çº¿ï¼‰| solidï¼ˆå®çº¿ï¼‰ border-colorï¼ˆè¾¹æ¡†é¢œè‰²ï¼‰ä¸­çš„é¢œè‰²å¯è®¾ç½®ä¸ºåå…­è¿›åˆ¶é¢œè‰²ï¼Œå¦‚: border-color:#888;//å‰é¢çš„äº•å·ä¸è¦å¿˜æ‰ã€‚ border-widthï¼ˆè¾¹æ¡†å®½åº¦ï¼‰ä¸­çš„å®½åº¦ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºï¼š thin | medium | thickï¼ˆä½†ä¸æ˜¯å¾ˆå¸¸ç”¨ï¼‰ï¼Œæœ€å¸¸è¿˜æ˜¯ç”¨åƒç´ ï¼ˆpxï¼‰ã€‚ csså¸ƒå±€æ¨¡å‹ 1ã€æµåŠ¨æ¨¡å‹ï¼ˆFlowï¼‰ 2ã€æµ®åŠ¨æ¨¡å‹ (Float) 3ã€å±‚æ¨¡å‹ï¼ˆLayerï¼‰ æµåŠ¨æ¨¡å‹ï¼ˆFlowï¼‰ æµåŠ¨ï¼ˆFlowï¼‰æ˜¯é»˜è®¤çš„ç½‘é¡µå¸ƒå±€æ¨¡å¼. 2ä¸ªæ¯”è¾ƒå…¸å‹çš„ç‰¹å¾ï¼š ç¬¬ä¸€ç‚¹ï¼Œå—çŠ¶å…ƒç´ éƒ½ä¼šåœ¨æ‰€å¤„çš„åŒ…å«å…ƒç´ å†…è‡ªä¸Šè€Œä¸‹æŒ‰é¡ºåºå‚ç›´å»¶ä¼¸åˆ†å¸ƒï¼Œå› ä¸ºåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œå—çŠ¶å…ƒç´ çš„å®½åº¦éƒ½ä¸º100%ã€‚å®é™…ä¸Šï¼Œå—çŠ¶å…ƒç´ éƒ½ä¼šä»¥è¡Œçš„å½¢å¼å æ®ä½ç½®ã€‚ ç¬¬äºŒç‚¹ï¼Œåœ¨æµåŠ¨æ¨¡å‹ä¸‹ï¼Œå†…è”å…ƒç´ éƒ½ä¼šåœ¨æ‰€å¤„çš„åŒ…å«å…ƒç´ å†…ä»å·¦åˆ°å³æ°´å¹³åˆ†å¸ƒæ˜¾ç¤ºã€‚ï¼ˆå†…è”å…ƒç´ å¯ä¸åƒå—çŠ¶å…ƒç´ è¿™ä¹ˆéœ¸é“ç‹¬å ä¸€è¡Œï¼‰ æµ®åŠ¨æ¨¡å‹ (Float) æƒ³è®©ä¸¤ä¸ªå—çŠ¶å…ƒç´ å¹¶æ’æ˜¾ç¤ºâ€¦ä»»ä½•å…ƒç´ åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸èƒ½æµ®åŠ¨çš„ï¼Œä½†å¯ä»¥ç”¨ CSS å®šä¹‰ä¸ºæµ®åŠ¨ï¼Œ 1234567/*å®ç°ä¸¤ä¸ª div å…ƒç´ ä¸€è¡Œæ˜¾ç¤ºã€‚*/div&#123; width:200px; height:200px; border:2px red solid; float:left;&#125; å±‚æ¨¡å‹ï¼ˆLayerï¼‰ å¦‚ä½•è®©htmlå…ƒç´ åœ¨ç½‘é¡µä¸­ç²¾ç¡®å®šä½ï¼Œå°±åƒå›¾åƒè½¯ä»¶PhotoShopä¸­çš„å›¾å±‚ä¸€æ ·å¯ä»¥å¯¹æ¯ä¸ªå›¾å±‚èƒ½å¤Ÿç²¾ç¡®å®šä½æ“ä½œ 1ã€ç»å¯¹å®šä½(position: absolute) å°†å…ƒç´ ä»æ–‡æ¡£æµä¸­æ‹–å‡ºæ¥ï¼Œç„¶åä½¿ç”¨left(è·ç¦»å·¦)ã€rightã€topã€bottomå±æ€§ç›¸å¯¹äºå…¶æœ€æ¥è¿‘çš„ä¸€ä¸ªå…·æœ‰å®šä½å±æ€§çš„çˆ¶åŒ…å«å—è¿›è¡Œç»å¯¹å®šä½ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åŒ…å«å—ï¼Œåˆ™ç›¸å¯¹äºbodyå…ƒç´ ï¼Œå³ç›¸å¯¹äºæµè§ˆå™¨çª—å£ 2ã€ç›¸å¯¹å®šä½(position: relative) ç›¸å¯¹å®šä½å®Œæˆçš„è¿‡ç¨‹æ˜¯é¦–å…ˆæŒ‰static(float)æ–¹å¼ç”Ÿæˆä¸€ä¸ªå…ƒç´ (å¹¶ä¸”å…ƒç´ åƒå±‚ä¸€æ ·æµ®åŠ¨äº†èµ·æ¥)ï¼Œç„¶åç›¸å¯¹äº**ä»¥å‰çš„ä½ç½®ç§»åŠ¨ï¼Œ**ç§»åŠ¨çš„æ–¹å‘å’Œå¹…åº¦ç”±leftã€rightã€topã€bottomå±æ€§ç¡®å®šï¼Œåç§»å‰çš„ä½ç½®ä¿ç•™ä¸åŠ¨ã€‚ Q:ä»€ä¹ˆå«åšâ€œåç§»å‰çš„ä½ç½®ä¿ç•™ä¸åŠ¨â€ A: è™½ç„¶divå…ƒç´ ç›¸å¯¹äºä»¥å‰çš„ä½ç½®äº§ç”Ÿäº†åç§»ï¼Œä½†æ˜¯divå…ƒç´ ä»¥å‰çš„ä½ç½®è¿˜æ˜¯ä¿ç•™ç€ï¼Œæ‰€ä»¥åé¢çš„spanå…ƒç´ æ˜¯æ˜¾ç¤ºåœ¨äº†divå…ƒç´ ä»¥å‰ä½ç½®çš„åé¢ã€‚ ===&gt; æ‰€å çš„ä½ç½®ä¸å˜,ä½†æ˜¯æ˜¾ç¤ºçš„ä½ç½®å‘ç”Ÿäº†å˜åŒ–. 3ã€å›ºå®šå®šä½(position: fixed) ä¸absoluteå®šä½ç±»å‹ç±»ä¼¼ï¼Œä½†å®ƒçš„ç›¸å¯¹ç§»åŠ¨çš„åæ ‡æ˜¯è§†å›¾ï¼ˆå±å¹•å†…çš„ç½‘é¡µçª—å£ï¼‰æœ¬èº«. ç”±äºè§†å›¾æœ¬èº«æ˜¯å›ºå®šçš„ï¼Œå®ƒä¸ä¼šéšæµè§ˆå™¨çª—å£çš„æ»šåŠ¨æ¡æ»šåŠ¨è€Œå˜åŒ–ï¼Œé™¤éä½ åœ¨å±å¹•ä¸­ç§»åŠ¨æµè§ˆå™¨çª—å£çš„å±å¹•ä½ç½®ï¼Œæˆ–æ”¹å˜æµè§ˆå™¨çª—å£çš„æ˜¾ç¤ºå¤§å°ï¼Œå› æ­¤å›ºå®šå®šä½çš„å…ƒç´ ä¼šå§‹ç»ˆä½äºæµè§ˆå™¨çª—å£å†…è§†å›¾çš„æŸä¸ªä½ç½®ï¼Œä¸ä¼šå—æ–‡æ¡£æµåŠ¨å½±å“ï¼Œ ç”¨é€” : å¯ä»¥å®ç°ç›¸å¯¹äºæµè§ˆå™¨è§†å›¾å‘å³ç§»åŠ¨100pxï¼Œå‘ä¸‹ç§»åŠ¨50pxã€‚å¹¶ä¸”æ‹–åŠ¨æ»šåŠ¨æ¡æ—¶ä½ç½®å›ºå®šä¸å˜ã€‚ æ°´å¹³å±…ä¸­è®¾ç½® è¡Œå†…å…ƒç´  å¦‚æœè¢«è®¾ç½®å…ƒç´ ä¸ºæ–‡æœ¬ã€å›¾ç‰‡ç­‰è¡Œå†…å…ƒç´ æ—¶ï¼Œæ°´å¹³å±…ä¸­æ˜¯é€šè¿‡ç»™çˆ¶å…ƒç´ è®¾ç½® text-align:center æ¥å®ç°çš„ å—çŠ¶å…ƒç´  å®šå®½~ : å®½åº¦widthä¸ºå›ºå®šå€¼ é€šè¿‡è®¾ç½®â€œå·¦å³marginâ€å€¼ä¸ºâ€œautoâ€æ¥å®ç°å±…ä¸­çš„ ä¸å®šå®½~ åŠ å…¥ table æ ‡ç­¾ tableé•¿åº¦è‡ªé€‚åº”æ€§,å…¶é•¿åº¦æ ¹æ®å…¶å†…æ–‡æœ¬é•¿åº¦å†³å®š 12345678910111213&lt;div&gt; &lt;table&gt; &lt;tbody&gt; &lt;tr&gt;&lt;td&gt; &lt;ul&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬ä¸€è¡Œæ–‡æœ¬&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬äºŒè¡Œæ–‡æœ¬&lt;/li&gt; &lt;li&gt;æˆ‘æ˜¯ç¬¬ä¸‰è¡Œæ–‡æœ¬&lt;/li&gt; &lt;/ul&gt; &lt;/td&gt;&lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;&lt;/div&gt; cssä»£ç ï¼š 123456&lt;style&gt;table&#123; border:1px solid; margin:0 auto;&#125;&lt;/style&gt; â–²è¡¥å……ä»£ç å®ç°å³ä¾§ä¸­çš„ class ä¸º wrap çš„ div æ°´å¹³å±…ä¸­æ˜¾ç¤ºï¼ˆè¦æ³¨æ„æ˜¯è¿™ä¸ª divå…ƒç´  å±…ä¸­ï¼Œè€Œä¸æ˜¯é‡Œé¢çš„æ–‡æœ¬å±…ä¸­å•Šï¼‰ã€‚ è®¾ç½® display: inline æ–¹æ³•ï¼šä¸ç¬¬ä¸€ç§ç±»ä¼¼ï¼Œæ˜¾ç¤ºç±»å‹è®¾ä¸º è¡Œå†…å…ƒç´ ï¼Œè¿›è¡Œä¸å®šå®½å…ƒç´ çš„å±æ€§è®¾ç½® æ”¹å˜å—çº§å…ƒç´ çš„ display ä¸º inline ç±»å‹ï¼ˆè®¾ç½®ä¸º è¡Œå†…å…ƒç´  æ˜¾ç¤ºï¼‰ï¼Œç„¶åä½¿ç”¨ text-align:center æ¥å®ç°å±…ä¸­æ•ˆæœã€‚å¦‚ä¸‹ä¾‹å­ï¼š htmlä»£ç ï¼š 123456789&lt;body&gt;&lt;div class=&quot;container&quot;&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/body&gt; cssä»£ç ï¼š 1234567891011121314151617&lt;style&gt;.container&#123; text-align:center;&#125;/* margin:0;padding:0ï¼ˆæ¶ˆé™¤æ–‡æœ¬ä¸divè¾¹æ¡†ä¹‹é—´çš„é—´éš™ï¼‰*/.container ul&#123; list-style:none; margin:0; padding:0; display:inline;&#125;/* margin-right:8pxï¼ˆè®¾ç½®liæ–‡æœ¬ä¹‹é—´çš„é—´éš”ï¼‰*/.container li&#123; margin-right:8px; display:inline;&#125;&lt;/style&gt; â–² æ”¹å˜å—çº§å…ƒç´ çš„ display ä¸º inline ç±»å‹ï¼ˆè®¾ç½®ä¸º è¡Œå†…å…ƒç´  æ˜¾ç¤ºï¼‰ï¼Œç„¶åä½¿ç”¨ text-align:center æ¥å®ç°å±…ä¸­æ•ˆæœã€‚å¦‚ä¸‹ä¾‹å­ï¼š çˆ¶å…ƒç´ è®¾ç½® position:relative å’Œ left:50%ï¼Œå­å…ƒç´ è®¾ç½® position:relative å’Œ left: -50% æ¥å®ç°æ°´å¹³å±…ä¸­ã€‚ï¼šåˆ©ç”¨ ç›¸å¯¹å®šä½ çš„æ–¹å¼ï¼Œå°†å…ƒç´ å‘å·¦åç§» 50% ï¼Œå³è¾¾åˆ°å±…ä¸­çš„ç›®çš„ ä»£ç å¦‚ä¸‹ï¼š 123456789&lt;body&gt;&lt;div class=&quot;container&quot;&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/body&gt; cssä»£ç ï¼š 1234567891011121314151617&lt;style&gt;.container&#123; float:left; position:relative; left:50%&#125;.container ul&#123; list-style:none; margin:0; padding:0; position:relative; left:-50%;&#125;.container li&#123;float:left;display:inline;margin-right:8px;&#125;&lt;/style&gt; å‚ç›´å±…ä¸­ çˆ¶å…ƒç´ é«˜åº¦ç¡®å®šçš„å•è¡Œæ–‡æœ¬ é€šè¿‡è®¾ç½®çˆ¶å…ƒç´ çš„ height å’Œ line-height é«˜åº¦ä¸€è‡´æ¥å®ç°çš„ã€‚ 1234567&lt;style&gt;.container&#123; height:100px; line-height:100px; background:#999;&#125;&lt;/style&gt; çˆ¶å…ƒç´ é«˜åº¦ç¡®å®šçš„å¤šè¡Œæ–‡æœ¬ã€å›¾ç‰‡ ä½¿ç”¨æ’å…¥ table (åŒ…æ‹¬tbodyã€trã€td)æ ‡ç­¾ï¼ŒåŒæ—¶è®¾ç½® vertical-alignï¼šmiddleã€‚ htmlä»£ç ï¼š 12345678910111213&lt;body&gt;&lt;table&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td class=\"wrap\"&gt; &lt;div&gt; &lt;p&gt;çœ‹æˆ‘æ˜¯å¦å¯ä»¥å±…ä¸­ã€‚&lt;/p&gt; &lt;/div&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/body&gt; cssä»£ç ï¼š 12345table td&#123; height:500px; background:#ccc&#125;/*å› ä¸º td æ ‡ç­¾é»˜è®¤æƒ…å†µä¸‹å°±é»˜è®¤è®¾ç½®äº† vertical-align ä¸º middleï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦æ˜¾å¼åœ°è®¾ç½®äº†ã€‚*/ åœ¨ chromeã€firefox åŠ IE8 ä»¥ä¸Šçš„æµè§ˆå™¨ä¸‹å¯ä»¥è®¾ç½®å—çº§å…ƒç´ çš„displayä¸º table-cellï¼ˆè®¾ç½®ä¸ºè¡¨æ ¼å•å…ƒæ˜¾ç¤ºï¼‰ï¼Œæ¿€æ´» vertical-align å±æ€§ htmlä»£ç ï¼š 1234567&lt;div class=\"container\"&gt; &lt;div&gt; &lt;p&gt;çœ‹æˆ‘æ˜¯å¦å¯ä»¥å±…ä¸­ã€‚&lt;/p&gt; &lt;p&gt;çœ‹æˆ‘æ˜¯å¦å¯ä»¥å±…ä¸­ã€‚&lt;/p&gt; &lt;p&gt;çœ‹æˆ‘æ˜¯å¦å¯ä»¥å±…ä¸­ã€‚&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; cssä»£ç ï¼š 12345678&lt;style&gt;.container&#123; height:300px; background:#ccc; display:table-cell;/*IE8ä»¥ä¸ŠåŠChromeã€Firefox*/ vertical-align:middle;/*IE8ä»¥ä¸ŠåŠChromeã€Firefox*/&#125;&lt;/style&gt; åª’ä½“æŸ¥è¯¢ ä»€ä¹ˆæ˜¯åª’ä½“æŸ¥è¯¢ï¼šåª’ä½“æŸ¥è¯¢æ˜¯å‘ä¸åŒè®¾å¤‡æä¾›ä¸åŒæ ·å¼çš„ä¸€ç§æ–¹å¼ï¼Œå®ƒä¸ºæ¯ç§ç±»å‹çš„ç”¨æˆ·æä¾›äº†æœ€ä½³çš„ä½“éªŒã€‚ css2: media type media type(åª’ä½“ç±»å‹)æ˜¯css 2ä¸­çš„ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å±æ€§ï¼Œé€šè¿‡media typeæˆ‘ä»¬å¯ä»¥å¯¹ä¸åŒçš„è®¾å¤‡æŒ‡å®šç‰¹å®šçš„æ ·å¼ï¼Œä»è€Œå®ç°æ›´ä¸°å¯Œçš„ç•Œé¢ã€‚ css3: media query media queryæ˜¯CSS3å¯¹media typeçš„å¢å¼ºï¼Œäº‹å®ä¸Šæˆ‘ä»¬å¯ä»¥å°†media queryçœ‹æˆæ˜¯media type+csså±æ€§(åª’ä½“ç‰¹æ€§Media features)åˆ¤æ–­ã€‚ CSS è¯­æ³• 12345678910111213141516@media *mediatype* and|not|only *(media feature)* &#123;* CSS-Code;*&#125;// å¦‚, å½“å±å¹•çš„æœ€å¤§å®½åº¦è¶…è¿‡300pxæ—¶, å°†bodyçš„é¢œè‰²æ”¹æˆlightblue@media screen and (max-width: 300px) &#123; body &#123; background-color:lightblue; &#125;&#125;@media (min-width: 100px)&#123; span &#123; display: none &#125; // https://www.bilibili.com/video/BV1qQ4y1i7mZ, å“åº”å¼å¯¼èˆªèœå•ã€CSSå°æŠ€å·§ã€‘&#125; éšæ€§æ”¹å˜displayç±»å‹ position : absolute float : left æˆ– float:right åªè¦htmlä»£ç ä¸­å‡ºç°ä»¥ä¸Šä¸¤å¥ä¹‹ä¸€ï¼Œå…ƒç´ çš„displayæ˜¾ç¤ºç±»å‹å°±ä¼šè‡ªåŠ¨å˜ä¸ºä»¥ display:inline-blockï¼ˆå—çŠ¶å…ƒç´ ï¼‰çš„æ–¹å¼æ˜¾ç¤ºï¼Œå½“ç„¶å°±å¯ä»¥è®¾ç½®å…ƒç´ çš„ width å’Œ height äº†ï¼Œä¸”é»˜è®¤å®½åº¦ä¸å æ»¡çˆ¶å…ƒç´ ã€‚","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"HTML","slug":"HTML","permalink":"https://nymrli.top/tags/HTML/"},{"name":"CSS","slug":"CSS","permalink":"https://nymrli.top/tags/CSS/"}]},{"title":"Pyinstallerä½¿ç”¨","slug":"Pyinstallerä½¿ç”¨","date":"2018-12-03T03:54:22.000Z","updated":"2021-10-18T10:21:16.331Z","comments":true,"path":"2018/12/03/Pyinstallerä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2018/12/03/Pyinstallerä½¿ç”¨/","excerpt":"","text":"pyinstallerä½¿ç”¨ PyInstalleræ˜¯ä¸€ä¸ªè·¨å¹³å°çš„Pythonåº”ç”¨æ‰“åŒ…å·¥å…·ï¼Œæ”¯æŒ Windows/Linux/MacOSä¸‰å¤§ä¸»æµå¹³å°ï¼Œèƒ½å¤ŸæŠŠ Python è„šæœ¬åŠå…¶æ‰€åœ¨çš„ Python è§£é‡Šå™¨æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä»è€Œå…è®¸æœ€ç»ˆç”¨æˆ·åœ¨æ— éœ€å®‰è£… Python çš„æƒ…å†µä¸‹æ‰§è¡Œåº”ç”¨ç¨‹åºã€‚ PyInstaller åˆ¶ä½œå‡ºæ¥çš„æ‰§è¡Œæ–‡ä»¶å¹¶ä¸æ˜¯è·¨å¹³å°çš„ï¼Œå¦‚æœéœ€è¦ä¸ºä¸åŒå¹³å°æ‰“åŒ…ï¼Œå°±è¦åœ¨ç›¸åº”å¹³å°ä¸Šè¿è¡ŒPyInstallerè¿›è¡Œæ‰“åŒ…ã€‚ PyInstalleræ‰“åŒ…çš„æµç¨‹ï¼šè¯»å–ç¼–å†™å¥½çš„Pythoné¡¹ç›®â€“&gt;åˆ†æå…¶ä¸­æ¡ç”¨çš„æ¨¡å—å’Œåº“ï¼Œå¹¶æ”¶é›†å…¶æ–‡ä»¶å‰¯æœ¬ï¼ˆåŒ…æ‹¬Pythonçš„è§£é‡Šå™¨ï¼‰â€“&gt;å°†å‰¯æœ¬å’ŒPythoné¡¹ç›®æ–‡ä»¶ï¼ˆæ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹//å°è£…åœ¨ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ä¸­ã€‚ å®‰è£… 1ã€å®‰è£…pywin32==&gt;pyinstallerä¾èµ–äº ä¸‹è½½å®‰è£…æ–‡ä»¶ï¼šæŸ¥æ‰¾åˆ°è·Ÿè‡ªå·±é€‚ç”¨çš„pythonç‰ˆæœ¬åŠwindowç³»ç»Ÿç‰ˆæœ¬åŒ¹é…çš„pywin32ï¼Œä¸‹è½½åå®‰è£… ä½¿ç”¨pipå‘½ä»¤å®‰è£…ï¼špip install pywin32 2ã€å®‰è£…Pyinstaller ä¸‹è½½å®‰è£…æ–‡ä»¶å®‰è£…ï¼šå®˜ç½‘ ä½¿ç”¨pipå‘½ä»¤å®‰è£…ï¼špip install PyInstaller ä½¿ç”¨Pycharmç›´æ¥æœç´¢pyinstallerä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–åº“pywin32 ä½¿ç”¨ 1ã€ä½¿ç”¨ä¸‹è½½å®‰è£…çš„æ–¹å¼å®‰è£…çš„Pyinstalleræ‰“åŒ…æ–¹å¼ å°†éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶æ”¾åœ¨è§£å‹å¾—åˆ°çš„Pyinstalleræ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€cmdçª—å£ï¼ŒæŠŠè·¯å¾„åˆ‡æ¢åˆ°å½“å‰è·¯å¾„æ‰“å¼€å‘½ä»¤æç¤ºè¡Œï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼ˆæœ€åçš„æ˜¯æ–‡ä»¶åï¼‰==&gt;è°ƒç”¨pyinstaller.pyæ–‡ä»¶æ‰“åŒ…ï¼š python pyinstaller.py -F myfile.py 2ã€ä½¿ç”¨pipæ–¹å¼å®‰è£…çš„Pyinstalleræ‰“åŒ…æ–¹å¼ æ‰“å¼€cmdçª—å£ï¼ŒæŠŠè·¯å¾„åˆ‡æ¢åˆ°æ–‡ä»¶æ‰€åœ¨è·¯å¾„(æ–‡ä»¶éšä¾¿æ”¾åœ¨å“ªé‡Œéƒ½è¡Œ)æ‰“å¼€å‘½ä»¤æç¤ºè¡Œï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼ˆæœ€åçš„æ˜¯æ–‡ä»¶åï¼‰ï¼š pyinstaller -F myfile.py ä½¿ç”¨å®ä¾‹ pyinstaller -F test.py -i src\\logo.ico -F è¡¨ç¤ºç”Ÿæˆå•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ -w è¡¨ç¤ºå»æ‰æ§åˆ¶å°çª—å£ï¼Œè¿™åœ¨GUIç•Œé¢æ—¶éå¸¸æœ‰ç”¨ã€‚ä¸è¿‡å¦‚æœæ˜¯å‘½ä»¤è¡Œç¨‹åºçš„è¯é‚£å°±æŠŠè¿™ä¸ªé€‰é¡¹åˆ é™¤å§ï¼ -p è¡¨ç¤ºä½ è‡ªå·±è‡ªå®šä¹‰éœ€è¦åŠ è½½çš„åº“è·¯å¾„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨ä¸åˆ° -i è¡¨ç¤ºå¯æ‰§è¡Œæ–‡ä»¶çš„å›¾æ ‡ â–². -içš„å‚æ•°ä¸º.icoæ ¼å¼,å…¶ä»–æ ¼å¼çš„å›¾ç‰‡ä¼šæŠ¥é”™ æ–‡ä»¶ä¸­ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹åº“çš„æ‰“åŒ…æ–¹å¼ åœ¨æ‰“åŒ…ä¹‹å‰åŠ¡å¿…æ‰¾åˆ°ç¬¬ä¸‰æ–¹åº“çš„åŒ…ï¼ŒæŠŠåŒ…å¤åˆ¶åˆ°åˆ°è·Ÿmyfile.pyåŒç›®å½•ä¸‹ï¼Œç„¶åå†ä½¿ç”¨ä»¥ä¸Š2ç§æ–¹å¼æ‰“åŒ…ï¼Œå¦åˆ™ä¼šæ‰“åŒ…å¤±è´¥æˆ–è€…å³ä½¿æ‰“åŒ…æˆåŠŸï¼Œç¨‹åºä¹Ÿä¼šé—ªé€€ã€‚ pyqt5æ‰“åŒ…å‡ºç°é”™è¯¯ ä¸€ ã€å½“å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œpyinstallerå®˜ç½‘ç‰ˆæœ¬å¯¹pyqt5æ‰“åŒ…å¯èƒ½ä¼šé‡åˆ°Could not find QtWebEngineProcess.exe.çš„é”™è¯¯ã€‚è§£å†³æ–¹æ³•ä¸ºï¼šå®‰è£…æœ€æ–°çš„pyinstaller 1.åœ¨githubä¸‹è½½æ–°ç‰ˆæœ¬çš„å¼€å‘åŒ…ã€‚ 2.æ‰“å¼€è§£å‹åçš„æ–‡ä»¶å¤¹ï¼Œshift+é¼ æ ‡å³é”®ï¼Œç‚¹å‡»â€œåœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£â€ã€‚ä¹‹åä¾æ¬¡è¿è¡Œå¦‚ä¸‹å‘½ä»¤: 123pip uninstall pyinstallerpython setup.py buildpython setup.py install äºŒ ã€å¦‚æœæœ‰æŠ¥é”™ï¼šâ€œcould not find or load the Qt platform plugin &quot;windows&quot; â€ã€‚åŸå› ä¹‹ä¸€å¯èƒ½æ˜¯ä½ æŠŠæ‰“åŒ…åçš„æ–‡ä»¶æ”¾åœ¨äº†ä¸­æ–‡ç›®å½•ä¸‹ã€‚åªéœ€è¦å°†æ‰“åŒ…åçš„æ–‡ä»¶æ”¾åœ¨è‹±æ–‡ç›®å½•ä¸‹ï¼Œå°±å¯ä»¥è§£å†³ã€‚ å¤šæ–‡ä»¶æ‰“åŒ… 1234pyinstaller [ä¸»æ–‡ä»¶] -p [å…¶ä»–æ–‡ä»¶1] -p [å…¶ä»–æ–‡ä»¶2] --hidden-import [è‡ªå»ºæ¨¡å—1] --hidden-import [è‡ªå»ºæ¨¡å—2]# ä»¥ä¸Šä¸ºä¸€æ•´æ¡å‘½ä»¤ 1pyinstaller main.py -p mysql.py -p other.py --hidden-import mysql --hidden-import other","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"pyqt5ä¸QT5","slug":"pyqtä¸QT5","date":"2018-11-26T04:11:52.000Z","updated":"2019-09-17T09:44:06.126Z","comments":true,"path":"2018/11/26/pyqtä¸QT5/","link":"","permalink":"https://nymrli.top/2018/11/26/pyqtä¸QT5/","excerpt":"","text":"Pyqt5å’ŒQT5 æ‹–æ‹½å¼å¸ƒå±€ æ·»åŠ QT Designerã€PyUIcã€Pyrcc 1.æ·»åŠ å¤–éƒ¨å·¥å…·(Extenal Tools) QT Designer Fileâ€“&gt;Settingsâ€“&gt;Toolsâ€“&gt;Extenal Tools --&gt; â€˜â€™+â€™â€™ &gt; æ·»åŠ å…·ä½“ç»†èŠ‚,å¦‚å›¾ä¸€å›¾äºŒ â€‹ å›¾ä¸€ â€‹ å›¾äºŒ ä¿®æ”¹Nameä¸ºQT Designer,Programä¸ºQTç›®å½•ä¸‹designer.exeæ–‡ä»¶,ä¸éœ€è¦å‚æ•°,Work directoryä¸ºD:\\QT\\{QT version}\\msvc2015_64\\bin æ·»åŠ åå°±å¯ä»¥åœ¨èœå•æ çš„Toolsä¸­æ‰¾åˆ°â€¦ç‚¹å‡»å,å°±å¯ä»¥ç›´æ¥æ‰“å¼€QT Designerè®¾è®¡çª—å£ QT Designer QT UIC 1.Programè®¾ç½®ä¸ºå½“å‰è™šæ‹Ÿç¯å¢ƒçš„pythonè§£é‡Šå™¨python.exe,(ä¸€æ—¦è®¾ç½®å¥½å,æ¯æ¬¡æ–°å»ºè™šæ‹Ÿç¯å¢ƒ,pycharmä¼šè‡ªåŠ¨å¸®ä½ ä¿®æ”¹é€‰æ‹©çš„è§£é‡Šå™¨) 2.â–².Argumentså‚æ•°è®¾ç½®ä¸º: 12345-mPyQt5.uic.pyuic$FileName$-o$FileNameWithoutExtension$.py è¿™ä¸ªå‚æ•°ä¸»è¦æ˜¯ç”¨uicè¿™ä¸ªå·¥å…·éœ€è¦æŒ‡å®šçš„å‚æ•° 3.working directoryè®¾ç½®ä¸º$FileDir$(å½“å‰æ–‡ä»¶ç›®å½•)===&gt;å«ä¹‰æ˜¯:æ ¹æ®.UIç”Ÿæˆçš„pyçª—å£æ–‡ä»¶çš„ä½ç½® å®Œæˆå,æ•ˆæœå¦‚å›¾â€¦ä¸€å¼€å§‹æ˜¯æ²¡æœ‰window.py å°†å…‰æ ‡é€‰æ‹©window.uiæ–‡ä»¶,ç„¶åé€‰æ‹©Toolsé‡Œé¢çš„PyUICå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªwindow.pyæ–‡ä»¶ç›´æ¥ä½¿ç”¨äº†. æ§åˆ¶å°è¾“å‡ºå†…å®¹: 123G:\\PyGui\\venv\\Scripts\\python.exe -m PyQt5.uic.pyuic window.ui -o window.py#ç‚¹å‡»PyUICå°±ç›¸å½“äºè¾“å‡ºäº†åœ¨settingé‡Œé¢å†™å¥½çš„ä»£ç ,$FileName$ä¸ºæˆ‘ä»¬å…‰æ ‡é€‰æ‹©çš„æ–‡ä»¶å,è¾“å‡ºçš„åå­—ä¸º$FileNameWithoutExtension$.py,è¾“å‡ºçš„è·¯å¾„ä¸ºå½“å‰æ–‡ä»¶ç›®å½•$FileDir$Process finished with exit code 0 QT Rcc 1.å°†programè®¾ç½®ä¸ºQTç›®å½•ä¸‹çš„rcc.exeæ–‡ä»¶ 2.è®¾ç½®Argumentsä¸º 123$FileName$-o$FileNameWithoutExtension$.py é“ç†åŒä¸Š-o æ˜¯è¾“å‡ºçš„æ„æ€ 3.work directoryè®¾ç½®ä¸º$FileDir$ 4.æ–°å»º.qrcèµ„æºæ–‡ä»¶ æ‰“å¼€QT Designeré€‰æ‹©ä¸‹é¢çš„èµ„æºç®¡ç†å™¨,å•å‡»é“…ç¬”,å¦‚å›¾æ“ä½œ å•å‡»å·¦è¾¹è“è‰²çš„å­˜å‚¨å,æ„æ€æ˜¯æŒ‡å®š.qrcæ–‡ä»¶å­˜å‚¨ä½ç½® é€‰æ‹©å¥½ä»¥å,å†æ“ä½œå³è¾¹çš„é€‰æ‹©å¡,å¡«å¥½å‰ç¼€,ç„¶åç‚¹å‡»è“è‰²çš„æŒ‰é”®,é€‰æ‹©è¦æ·»åŠ çš„èµ„æºæ–‡ä»¶(å¦‚å›¾ç‰‡ä»€ä¹ˆçš„) æ­¤æ—¶æ‰“å¼€.qrcæ–‡ä»¶å°±å¯ä»¥çœ‹åˆ°ä»–æŒ‡å®šäº†å“ªäº›èµ„æºæ–‡ä»¶ ä¸Šè¿°æ­¥éª¤å®Œæˆåå°±å¯ä»¥ä½¿ç”¨rccå·¥å…·å°†.qrcæ–‡ä»¶è½¬æ¢æˆ.pyçš„èµ„æºæ–‡ä»¶ä½¿ç”¨äº† å…‰æ ‡é€‰æ‹©.qrcèµ„æºå,é€‰æ‹©Pyrccåå°±ä¼šç”Ÿæˆç›¸åº”çš„pyæ–‡ä»¶ éœ€è¦ç”¨åˆ°å›¾ç‰‡æ—¶,ç›´æ¥å¯¼å…¥å›¾ç‰‡çš„.pyæ–‡ä»¶å³å¯ 12[mainwindow.py]import picture 12345678910111213[main.py]#æ˜¾ç¤ºåŠ è½½ç•Œé¢if __name__ == '__main__': app = QApplication(sys.argv) splash = QSplashScreen(QPixmap(':/load/loading.jpg')) splash.show() splash.showMessage('æ­£åœ¨åŠ è½½è¯·ç¨ç­‰..') time.sleep(0.5) app.processEvents() ui = caofunction.MyWindow() ui.show() splash.finish(ui) sys.exit(app.exec_()) Main.py 123456789import sysimport caofunctionfrom PyQt5.QtWidgets import QApplication, QMainWindowif __name__ == &apos;__main__&apos;: app = QApplication(sys.argv) ui = caofunction.MyWindow() ui.show() sys.exit(app.exec_()) 12345678å¯åŠ¨çª—å£çš„run()å‡½æ•°# if __name__ == &quot;__main__&quot;:# app = QtWidgets.QApplication(sys.argv)# Dialog = QtWidgets.QDialog()# ui = Ui_Dialog()# ui.setupUi(Dialog)# Dialog.show()# sys.exit(app.exec_()) æ§½å‡½æ•°.py 12345678910111213from PyQt5 import QtWidgetsfrom PyQt5.QtWidgets import QMessageBoximport helloclass MyWindow(QtWidgets.QMainWindow,hello.Ui_MainWindow): def __init__(self,parent=None): QtWidgets.QMainWindow.__init__(self,parent) # super(MyWindow,self).__init__() self.setupUi(self) self.pushButton_2.clicked.connect(self.pint) def pint(self): my_choice = QMessageBox.information(self,&apos;æç¤ºæ¡†&apos;,&apos;Maybe wrong&apos;) ä¸€ä¸ªbottomæœ€å¥½åªå¯¹åº”ä¸€ä¸ªæ§½å‡½æ•°ã€‚ ä¿¡å·ä¸æ§½è¿æ¥å‡½æ•°ï¼š 123456self.pushButton_2.clicked.connect(Ui_MainWindow.pint)*connect()æ‹¬å·ä¸­å¯ä»¥é€‰ä¸º/Ui_MainWindow/ï¼ˆçˆ¶ç±»ç±»åï¼‰,/MainWindow/ï¼ˆçˆ¶ç±»ä¸­å®ä¾‹çª—å£åï¼‰ï¼Œ/ç»§æ‰¿çˆ¶ç±»Ui_MainWindowçš„å­ç±»ç±»å/ï¼Œè¿˜æœ‰ä¸€ç§/self.pint/*â˜…/*Qt5ä¸­çš„æ§½å‡½æ•°ä¸åœ¨é™å®šå¿…é¡»æ˜¯slotï¼Œå¯ä»¥æ˜¯æ™®é€šçš„å‡½æ•°ã€ç±»çš„æ™®é€šæˆå‘˜å‡½æ•°ã€lambdaå‡½æ•°ç­‰*/â–²æ³¨æ„æ˜¯pintï¼Œè€Œä¸æ˜¯pint(),ä¼ å…¥çš„æ˜¯å‡½æ•°çš„åç§°ï¼ˆå‡½æ•°åœ°å€ï¼‰â–³å¦‚æœåœ¨å­ç±»å’Œçˆ¶ç±»ä¸­é‡å¤äº†connectï¼Œåˆ™ä¼šè¢«æ‰§è¡Œå¤šé QMessageBox: information question warning critial about aboutQT ç”¨æˆ·è¾“å…¥å¯¹è¯æ¡†ï¼š 12345678my_choice = QInputDialog.getText(self,&apos;å­—ç¬¦ä¸²&apos;,&apos;è¯·åœ¨æ­¤å¤„è¾“å…¥&apos;,QLineEdit.Normal,&apos;...&apos;)è¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç¥–(str,bool)my_choice = QInputDialog.getText(self,&apos;å­—ç¬¦ä¸²&apos;,&apos;è¯·åœ¨æ­¤å¤„è¾“å…¥&apos;,2ï¼Œ0,30)//æœ€å2ï¼šæœ€å°å’Œæœ€å¤§è¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç¥–(int,bool)---my = [&apos;apple&apos;,&apos;orange&apos;]my_choice = QtWidgets.QInputDialog.getItem(self,&apos;è¾“å…¥æ¡†&apos;,&apos;è¯·åœ¨æ­¤è¾“å…¥&apos;,my)â– .pyqt5ä¸­æ²¡æœ‰Qstringç±»å‹ï¼Œæ‰€ä»¥æ²¡æœ‰QString() åŠ è½½ç•Œé¢è®¾è®¡ï¼š 1234567891011if __name__ == &apos;__main__&apos;: app = QApplication(sys.argv) splash = QSplashScreen(QPixmap(&apos;:/test/3.jpg&apos;)) splash.show() splash.showMessage(&apos;æ­£åœ¨åŠ è½½è¯·ç¨ç­‰&apos;) time.sleep(0.5) app.processEvents() ui = caofunction.MyWindow() ui.show() splash.finish(ui) sys.exit(app.exec_()) è½¬åŒ–.qrcèµ„æºæ–‡ä»¶ä¸ºpyæ–‡ä»¶ï¼š -o ui_form.py form.ui1CMD: pyrcc5 -o picture.py picture.qrc èœå•æ  1234567class MyWindow(QtWidgets.QMainWindow,hello.Ui_MainWindow): def __init__(self,parent=None): QtWidgets.QMainWindow.__init__(self,parent) self.action_4.triggered.connect(self.exit) def exit(self): self.close() ç±»ä¸­å†å®šä¹‰å‡½æ•°æ—¶ï¼Œå®šä¹‰å’Œè°ƒç”¨åº”ä¸º: 123456789101112self.mostphoto(file_path)#è°ƒç”¨def mostphoto(self,filename): import re with open(filename, &apos;r&apos;, encoding=&apos;utf-8&apos;) as f: data = f.read() times = re.findall(re.compile(r&quot;(\\d\\d):\\d\\d:\\d\\d&quot;), data) phototimes = re.findall(re.compile(r&quot;[å›¾ç‰‡]&quot;), data) if (len(phototimes) &gt; (len(times) - len(phototimes))): QMessageBox.information(self,&apos;æç¤ºæ¡†&apos;,&apos;ä¸¤ä½æ–—å›¾é¬¼æ‰ç”¨è¡¨æƒ…åŒ…å¾æœäº†å½¼æ­¤&apos;) else: QMessageBox.information(self,&apos;æç¤ºæ¡†&apos;,&apos;æƒ…è¯ç»µç»µï¼Œçˆ±æƒ…å·²èå…¥ç”Ÿæ´»ä¸­çš„ç‚¹æ»´&apos;) å¼¹å‡ºå¯¹è¯æ¡†ï¼š 12my_info = Dialog()my_info.exec_() QApplicationç±»ä»£è¡¨åº”ç”¨ç¨‹åºï¼Œåœ¨æ¯ä¸ªç¨‹åºä¸­åªèƒ½æœ‰ä¸€ä¸ªå®ƒçš„å®ä¾‹ã€‚åœ¨æœ‰å›¾å½¢ç•Œé¢çš„ç¨‹åºä¸­å¿…é¡»æœ‰ä¸€ä¸ªQApplicationç±»çš„å®ä¾‹ï¼Œå¹¶ä¸”å¿…é¡»åœ¨æ‰€æœ‰çª—å£ç±»çš„å®ä¾‹ç”Ÿæˆä¹‹å‰ç”Ÿæˆã€‚å®ƒæœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯å®ç°ä¸»äº‹ä»¶å¾ªç¯ã€‚åœ¨ä¸»äº‹ä»¶å¾ªç¯å†…ï¼Œçª—å£æ‰å¯ä»¥ç›¸åº”æ¶ˆæ¯ï¼Œå¹¶å¯¹äº‹ä»¶åšå‡ºå¤„ç†ã€‚QApplicationç±»çš„execæ–¹æ³•ä»£è¡¨å¯åŠ¨ä¸»äº‹ä»¶å¾ªç¯.åœ¨ä¸»äº‹ä»¶å¾ªç¯å†…ï¼Œçª—å£æ‰å¯ä»¥å“åº”æ¶ˆæ¯ï¼Œå¹¶å¯¹äº‹ä»¶åšå‡ºå¤„ç†ã€‚QApplicationç±»çš„execæ–¹æ³•ä»£è¡¨å¯åŠ¨ä¸»äº‹ä»¶å¾ªç¯ï¼Œè¿™ä¸ªå‡½æ•°åœ¨æ­£å¸¸è¿è¡Œæ—¶ä¸ä¼šè¿”å›ï¼Œåªæœ‰å½“ä¸»äº‹ä»¶å¾ªç¯é€€å‡ºæ—¶æ‰è¿”å›ï¼Œé€šå¸¸è¿™ä¹Ÿå°±æ„å‘³ç€æ•´ä¸ªç¨‹åºè¦é€€å‡ºã€‚ â€‹ QApplicationç±»çš„æ„é€ å‡½æ•°æ¥å—ä¸mainå‡½æ•°ç›¸åŒçš„å‚æ•°ï¼Œå®ƒä¹Ÿèƒ½å¤Ÿå¤„ç†æ‰§è¡Œç¨‹åºæ—¶çš„å‘½ä»¤è¡Œå‚æ•°ã€‚è¿™é‡Œçš„å‚æ•°ä¼ é€’æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºåœ¨æ‰§è¡Œç¨‹åºæ—¶è¦ç”¨åˆ°QApplicationç±»æ‰èƒ½è¯†åˆ«çš„-qwså‚æ•°ã€‚ æœ¬æ–‡æ¥è‡ª Tyrion-Lannister çš„CSDN åšå®¢ ï¼Œå…¨æ–‡åœ°å€è¯·ç‚¹å‡»ï¼šhttps://blog.csdn.net/HMSIWTV/article/details/7533524?utm_source=copy pyQTä½¿ç”¨æ•™ç¨‹","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"},{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"æœºå™¨å­¦ä¹ â€”â€”æ•°å­¦æ¦‚å¿µ","slug":"æœºå™¨å­¦ä¹ â€”â€”æ•°å­¦æ¦‚å¿µ","date":"2018-11-24T05:00:34.000Z","updated":"2019-09-15T08:07:31.080Z","comments":true,"path":"2018/11/24/æœºå™¨å­¦ä¹ â€”â€”æ•°å­¦æ¦‚å¿µ/","link":"","permalink":"https://nymrli.top/2018/11/24/æœºå™¨å­¦ä¹ â€”â€”æ•°å­¦æ¦‚å¿µ/","excerpt":"","text":"ç®±çº¿å›¾ ç®±çº¿å›¾ï¼ˆBox plotï¼‰ä¹Ÿç§°ç®±é¡»å›¾ï¼ˆBox-whisker Plotï¼‰ã€ç®±çº¿å›¾ã€ç›’å›¾ï¼Œå¯ä»¥ç”¨æ¥åæ˜ ä¸€ç»„æˆ–å¤šç»„è¿ç»­å‹å®šé‡æ•°æ®åˆ†å¸ƒçš„ä¸­å¿ƒä½ç½®å’Œæ•£å¸ƒèŒƒå›´ï¼Œå› å½¢çŠ¶å¦‚ç®±å­è€Œå¾—åã€‚ - è¿ç»­å‹æ•°æ®ï¼šåœ¨ä¸€å®šåŒºé—´å†…å¯ä»¥ä»»æ„å–å€¼çš„å˜é‡å«è¿ç»­å˜é‡ï¼Œå…¶æ•°å€¼æ˜¯è¿ç»­ä¸æ–­çš„ã€‚ä¾‹å¦‚ï¼Œç”Ÿäº§é›¶ä»¶çš„è§„æ ¼å°ºå¯¸ï¼Œäººä½“æµ‹é‡çš„èº«é«˜ã€ä½“é‡ç­‰ï¼Œå…¶æ•°å€¼åªèƒ½ç”¨æµ‹é‡æˆ–è®¡é‡çš„æ–¹æ³•å–å¾—ã€‚å¯è§†åŒ–è¿™ç±»æ•°æ®çš„å›¾è¡¨ä¸»è¦æœ‰ç®±å½¢å›¾å’Œç›´æ–¹å›¾ã€‚ - ç¦»æ•£å‹æ•°æ®ï¼šæ•°å€¼åªèƒ½ç”¨è‡ªç„¶æ•°æˆ–æ•´æ•°å•ä½è®¡ç®—çš„åˆ™ä¸ºç¦»æ•£å˜é‡ã€‚ä¾‹å¦‚ï¼Œä¼ä¸šä¸ªæ•°ï¼ŒèŒå·¥äººæ•°ï¼Œè®¾å¤‡å°æ•°ç­‰ï¼Œåªèƒ½æŒ‰è®¡é‡å•ä½æ•°è®¡æ•°ï¼Œæ•°å€¼ä¸€èˆ¬ç”¨è®¡æ•°æ–¹æ³•å–å¾—ã€‚å¤§å¤šæ•°å›¾è¡¨å¯è§†åŒ–çš„éƒ½æ˜¯è¿™ç±»æ•°æ®ï¼Œæ¯”å¦‚æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ç­‰ã€‚ ä¼˜ç‚¹: ç®±å½¢å›¾æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ä¸å—å¼‚å¸¸å€¼çš„å½±å“ï¼Œèƒ½å¤Ÿå‡†ç¡®ç¨³å®šåœ°æç»˜å‡ºæ•°æ®çš„ç¦»æ•£åˆ†å¸ƒæƒ…å†µï¼ŒåŒæ—¶ä¹Ÿåˆ©äºæ•°æ®çš„æ¸…æ´—ã€‚ ç®±å­ä¸Šçš„çº¿ å››åˆ†ä½æ•° Q1:ç¬¬ä¸€å››åˆ†ä½æ•°(ä¸‹å››åˆ†ä½æ•°) Q2:ä¸­ä½æ•° Q3:ç¬¬ä¸‰å››åˆ†ä½æ•°(ä¸Šå››åˆ†ä½æ•°) ä¸€ç»„æ•°æ®æŒ‰ç…§ä»å°åˆ°å¤§é¡ºåºæ’åˆ—åï¼ŒæŠŠè¯¥ç»„æ•°æ®å››ç­‰åˆ†çš„æ•°ï¼Œç§°ä¸ºå››åˆ†ä½æ•°ã€‚ç¬¬ä¸€å››åˆ†ä½æ•° (Q1)ã€ç¬¬äºŒå››åˆ†ä½æ•° (Q2ï¼Œä¹Ÿå«â€œä¸­ä½æ•°â€)å’Œç¬¬ä¸‰å››åˆ†ä½æ•° (Q3)åˆ†åˆ«ç­‰äºè¯¥æ ·æœ¬ä¸­æ‰€æœ‰æ•°å€¼ç”±å°åˆ°å¤§æ’åˆ—åç¬¬25%ã€ç¬¬50%å’Œç¬¬75%çš„æ•°å­—ã€‚ç¬¬ä¸‰å››åˆ†ä½æ•°ä¸ç¬¬ä¸€å››åˆ†ä½æ•°çš„å·®è·åˆç§°å››åˆ†ä½è·ï¼ˆinterquartile range, IQRï¼‰ã€‚ **ç®±å­çš„é«˜åº¦åœ¨ä¸€å®šç¨‹åº¦ä¸Šåæ˜ äº†æ•°æ®çš„æ³¢åŠ¨ç¨‹åº¦ ä¸Šä¸‹çº¿ ä¸Šä¸‹è¾¹ç¼˜åˆ™ä»£è¡¨äº†è¯¥ç»„æ•°æ®çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ ä¸Šé™ :ä¸Šé™æ˜¯éå¼‚å¸¸èŒƒå›´å†…çš„æœ€å¤§å€¼ã€‚ ä¸‹é™:ä¸‹é™æ˜¯éå¼‚å¸¸èŒƒå›´å†…çš„æœ€å°å€¼ã€‚ æœ‰æ—¶å€™ç®±å­å¤–éƒ¨ä¼šæœ‰ä¸€äº›ç‚¹ï¼Œå¯ä»¥ç†è§£ä¸ºæ•°æ®ä¸­çš„â€œå¼‚å¸¸å€¼â€ã€‚ åæ€ ä¸æ­£æ€åˆ†å¸ƒç›¸å¯¹ï¼ŒæŒ‡çš„æ˜¯éå¯¹ç§°åˆ†å¸ƒçš„åæ–œçŠ¶æ€ã€‚åœ¨ç»Ÿè®¡å­¦ä¸Šï¼Œä¼—æ•°å’Œå¹³å‡æ•°ä¹‹å·®å¯ä½œä¸ºåˆ†é…åæ€çš„æŒ‡æ ‡ä¹‹ä¸€ï¼šå¦‚å¹³å‡æ•°å¤§äºä¼—æ•°ï¼Œç§°ä¸ºæ­£åæ€ï¼ˆæˆ–å³åæ€ï¼‰ï¼›ç›¸åï¼Œåˆ™ç§°ä¸ºè´Ÿåæ€ï¼ˆæˆ–å·¦åæ€ï¼‰ã€‚ åæ€è¡¨ç¤ºåç¦»ç¨‹åº¦ï¼Œå¼‚å¸¸å€¼é›†ä¸­åœ¨è¾ƒå°å€¼ä¸€ä¾§ï¼Œåˆ™åˆ†å¸ƒå‘ˆå·¦åæ€ï¼›å¼‚å¸¸å€¼é›†ä¸­åœ¨è¾ƒå¤§å€¼ä¸€ä¾§ï¼Œåˆ™åˆ†å¸ƒå‘ˆå³åæ€ã€‚ Confusion_martrix(æ··æ·†çŸ©é˜µ) æ··æ·†çŸ©é˜µ: ä¸€ç§ç‰¹å®šçš„çŸ©é˜µç”¨æ¥å‘ˆç°ç®—æ³•æ€§èƒ½çš„å¯è§†åŒ–æ•ˆæœï¼Œé€šå¸¸æ˜¯ç›‘ç£å­¦ä¹ ï¼ˆéç›‘ç£å­¦ä¹ ï¼Œé€šå¸¸ç”¨åŒ¹é…çŸ©é˜µï¼šmatching matrixï¼‰ å…¶æ¯ä¸€åˆ—ä»£è¡¨é¢„æµ‹å€¼ï¼Œæ¯ä¸€è¡Œä»£è¡¨çš„æ˜¯å®é™…çš„ç±»åˆ«ã€‚è¿™ä¸ªåå­—æ¥æºäºå®ƒå¯ä»¥éå¸¸å®¹æ˜“çš„è¡¨æ˜å¤šä¸ªç±»åˆ«æ˜¯å¦æœ‰æ··æ·†ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªclassè¢«é¢„æµ‹æˆå¦ä¸€ä¸ªclassï¼‰ã€‚ Exampleæ ·ä¾‹è¯´æ˜: å‡è®¾æœ‰ä¸€ä¸ªç”¨æ¥å¯¹çŒ«ï¼ˆcatsï¼‰ã€ç‹—ï¼ˆdogsï¼‰ã€å…”å­ï¼ˆrabbitsï¼‰è¿›è¡Œåˆ†ç±»çš„ç³»ç»Ÿï¼Œæ··æ·†çŸ©é˜µå°±æ˜¯ä¸ºäº†è¿›ä¸€æ­¥åˆ†ææ€§èƒ½è€Œå¯¹è¯¥ç®—æ³•æµ‹è¯•ç»“æœåšå‡ºçš„æ€»ç»“ã€‚å‡è®¾æ€»å…±æœ‰ 27 åªåŠ¨ç‰©ï¼š8åªçŒ«ï¼Œ 6æ¡ç‹—ï¼Œ 13åªå…”å­ã€‚ç»“æœçš„æ··æ·†çŸ©é˜µå¦‚ä¸‹å›¾ï¼š åœ¨è¿™ä¸ªæ··æ·†çŸ©é˜µä¸­ï¼Œå®é™…æœ‰ 8åªçŒ«ï¼Œä½†æ˜¯ç³»ç»Ÿå°†å…¶ä¸­3åªé¢„æµ‹æˆäº†ç‹—ï¼›å¯¹äº 6æ¡ç‹—ï¼Œå…¶ä¸­æœ‰ 1æ¡è¢«é¢„æµ‹æˆäº†å…”å­ï¼Œ2æ¡è¢«é¢„æµ‹æˆäº†çŒ«ã€‚ä»æ··æ·†çŸ©é˜µä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºç³»ç»Ÿå¯¹äºåŒºåˆ†çŒ«å’Œç‹—å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯åŒºåˆ†å…”å­å’Œå…¶ä»–åŠ¨ç‰©çš„æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚æ‰€æœ‰æ­£ç¡®çš„é¢„æµ‹ç»“æœéƒ½åœ¨å¯¹è§’çº¿ä¸Šï¼Œæ‰€ä»¥ä»æ··æ·†çŸ©é˜µä¸­å¯ä»¥å¾ˆæ–¹ä¾¿ç›´è§‚çš„çœ‹å‡ºå“ªé‡Œæœ‰é”™è¯¯ï¼Œå› ä¸ºä»–ä»¬å‘ˆç°åœ¨å¯¹è§’çº¿å¤–é¢ã€‚ Table of confusion(æ··æ·†è¡¨æ ¼) æœ‰æ—¶ä¹Ÿç§°æ··æ·†çŸ©é˜µ. ç”±false positivesï¼Œfalse negativesï¼Œtrue positiveså’Œtrue negativesç»„æˆçš„ä¸¤è¡Œä¸¤åˆ—çš„è¡¨æ ¼ã€‚å®ƒå…è®¸æˆ‘ä»¬åšå‡ºæ›´å¤šçš„åˆ†æï¼Œè€Œä¸ä»…ä»…æ˜¯å±€é™åœ¨æ­£ç¡®ç‡.ã€‚ å®ƒå…è®¸æˆ‘ä»¬åšå‡ºæ›´å¤šçš„åˆ†æï¼Œè€Œä¸ä»…ä»…æ˜¯å±€é™åœ¨æ­£ç¡®ç‡ã€‚å‡†ç¡®ç‡å¯¹äºåˆ†ç±»å™¨çš„æ€§èƒ½åˆ†ææ¥è¯´ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½åœ°è¡¡é‡æŒ‡æ ‡ï¼Œå› ä¸ºå¦‚æœæ•°æ®é›†ä¸å¹³è¡¡ï¼ˆæ¯ä¸€ç±»çš„æ•°æ®æ ·æœ¬æ•°é‡ç›¸å·®å¤ªå¤§ï¼‰ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°è¯¯å¯¼æ€§çš„ç»“æœã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ•°æ®é›†ä¸­æœ‰95åªçŒ«ï¼Œä½†æ˜¯åªæœ‰5æ¡ç‹—ï¼Œé‚£ä¹ˆæŸäº›åˆ†ç±»å™¨å¾ˆå¯èƒ½åå‘äºå°†æ‰€æœ‰çš„æ ·æœ¬é¢„æµ‹æˆçŒ«ã€‚æ•´ä½“å‡†ç¡®ç‡ä¸º95%ï¼Œä½†æ˜¯å®é™…ä¸Šè¯¥åˆ†ç±»å™¨å¯¹çŒ«çš„è¯†åˆ«ç‡æ˜¯100%ï¼Œè€Œå¯¹ç‹—çš„è¯†åˆ«ç‡æ˜¯0%ã€‚ å¯¹äºä¸Šé¢çš„è¯´æ˜æ ·ä¾‹ï¼Œå…¶å¯¹åº”çš„å¯¹çŒ«è¿™ä¸ªç±»åˆ«çš„æ··æ·†è¡¨æ ¼å¦‚ä¸‹ï¼š å‡å®šä¸€ä¸ªå®éªŒæœ‰ Pä¸ªpositiveå®ä¾‹ï¼Œåœ¨æŸäº›æ¡ä»¶ä¸‹æœ‰ N ä¸ªnegativeå®ä¾‹ã€‚é‚£ä¹ˆä¸Šé¢è¿™å››ä¸ªè¾“å‡ºå¯ä»¥ç”¨ä¸‹é¢çš„å¶ç„¶æ€§è¡¨æ ¼ï¼ˆæˆ–æ··æ·†çŸ©é˜µï¼‰æ¥è¡¨ç¤ºï¼š æ›´å¤šè¯¦æƒ…è§åšå®¢ æ‘˜è‡ªåšå®¢ : https://blog.csdn.net/vesper305/article/details/44927047","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"æ•°å­¦çŸ¥è¯†","slug":"æ•°å­¦çŸ¥è¯†","permalink":"https://nymrli.top/tags/æ•°å­¦çŸ¥è¯†/"}]},{"title":"æœºå™¨å­¦ä¹ â€”â€”pythonå®è·µ.ç¬”è®°","slug":"æœºå™¨å­¦ä¹ â€”â€”Pythonå®è·µ-ç¬”è®°","date":"2018-11-23T13:20:18.000Z","updated":"2019-09-15T08:07:31.078Z","comments":true,"path":"2018/11/23/æœºå™¨å­¦ä¹ â€”â€”Pythonå®è·µ-ç¬”è®°/","link":"","permalink":"https://nymrli.top/2018/11/23/æœºå™¨å­¦ä¹ â€”â€”Pythonå®è·µ-ç¬”è®°/","excerpt":"","text":"æœºå™¨å­¦ä¹ â€”â€”Pythonå®è·µ Numpy: pythonå¼€æºæ•°å€¼è®¡ç®—æ‹“å±•,ç”¨æ¥å­˜å‚¨å’Œå¤„ç†å¤§å‹çŸ©é˜µ,æä¾›äº†è®¸å¤šé«˜çº§çš„æ•°å€¼ç¼–ç¨‹å·¥å…·,å¦‚ çŸ©é˜µæ•°æ®ç±»å‹ã€çŸ¢é‡å¤„ç†ã€ç²¾å¯†çš„è¿ç®—åº“ åˆ©ç”¨Numpyæ•°ç»„æ¥å‡†å¤‡æœºå™¨å­¦ä¹ ç®—æ³•çš„æ•°æ® matplotlib: pythonä¸­æœ€è‘—åçš„2Dç»˜å›¾åº“,é€‚åˆäº¤äº’å¼çš„è¿›è¡Œåˆ¶å›¾;ä¹Ÿå¯ä½œä¸ºç»˜å›¾ç©ºé—´,åµŒå…¥GUIåº”ç”¨ç¨‹åºä¸­ åˆ›å»ºå›¾è¡¨,å±•ç¤ºæ•°æ® Pandas: åŸºäºNumpyçš„å·¥å…·,ä¸ºäº†è§£å†³æ•°æ®åˆ†æä»»åŠ¡è€Œåˆ›å»ºçš„.~çº³å…¥äº†å¤§é‡åº“å’Œæ ‡å‡†çš„æ•°æ®æ¨¡å‹,æä¾›äº†æ“ä½œå¤§å‹æ•°æ®é›†çš„å·¥å…·,å’Œå¿«é€Ÿä¾¿æ·å¤„ç†æ•°æ®çš„å‡½æ•°å’Œæ–¹æ³• å¯¼å…¥ã€å±•ç¤ºæ•°æ®ï¼Œä»¥ä¾¿æŒ£é’±å¯¹æ•°æ®çš„ç†è§£å’Œæ•°æ®æ¸…æ´—ã€è½¬æ¢ç­‰å·¥ä½œ é¢„æµ‹æ¨¡å‹æ‰€éœ€çš„å…­ä¸ªæ­¥éª¤: ç¬¬ä¸€ç« ï¼š é¸¢å°¾èŠ±(Iris Flower) æ‰€æœ‰ç‰¹å¾æ•°æ®éƒ½æ˜¯æ•°å­—,ä¸éœ€è¦è€ƒè™‘å¦‚ä½•å¯¼å…¥å’Œå¤„ç†æ•°æ®â€”&gt;æœ‰çš„å›¾è¡¨æœ‰æ ‡é¢˜ç­‰çš„,éœ€è¦å¤„ç†- åˆ†ç±»é—®é¢˜===&gt;ç›‘ç£å­¦ä¹ ç®—æ³• å¤šåˆ†ç±»é—®é¢˜,å¯èƒ½éœ€è¦ä¸€äº›ç‰¹æ®Šå¤„ç† æ‰€æœ‰ç‰¹å¾çš„æ•°å€¼é‡‡ç”¨ç›¸åŒå•ä½,ä¸éœ€è¦è¿›è¡Œå°ºåº¦è½¬æ¢ æ­¥éª¤: 1.å¯¼å…¥æ•°æ®é›† 123456789from pandas import read_csvfrom matplotlib import pyplotfrom sklearn.svm import SVCfilename = 'iris.data.csv'names = ['separ-length','separ-width','petal-length','petal-width','class']# èŠ±è¼é•¿åº¦+å®½åº¦ , èŠ±ç“£é•¿åº¦+å®½åº¦dataset = read_csv(filename,names = names)print(dataset) # 150 * 5 2.æ¦‚è¿°æ•°æ® ä»ä¸‹åˆ—è§’åº¦å®¡æŸ¥æ•°æ®: æ•°æ®çš„ç»´åº¦ æŸ¥çœ‹æ•°æ®çš„è‡ªèº« ç»Ÿè®¡æè¿°æ‰€æœ‰çš„æ•°æ®ç‰¹å¾ æ•°æ®åˆ†ç±»çš„åˆ†å¸ƒæƒ…å†µ 1.æ•°æ®çš„ç»´åº¦ äº†è§£æ•°æ®é›†ä¸­æœ‰å¤šå°‘è¡Œæ•°æ®,æ•°æ®æœ‰å‡ ä¸ªå±æ€§ 12print('æ•°æ®çš„ç»´åº¦: è¡Œ %s , åˆ— %s' % (dataset.shape))#&gt;&gt;&gt;æ•°æ®çš„ç»´åº¦: è¡Œ 150 , åˆ— 5 2.å‚çœ‹æ•°æ®æœ¬èº« ç›´è§‚çš„çœ‹åˆ°æ•°æ®çš„ç‰¹å¾,æ•°æ®çš„ç±»å‹,ä»¥åŠå¤§æ¦‚çš„æ•°æ®åˆ†å¸ƒèŒƒå›´ 12345678print(dataset.head(5))&gt;&gt;&gt; separ-length separ-width ... petal-width class0 5.1 3.5 ... 0.2 Iris-setosa1 4.9 3.0 ... 0.2 Iris-setosa2 4.7 3.2 ... 0.2 Iris-setosa3 4.6 3.1 ... 0.2 Iris-setosa4 5.0 3.6 ... 0.2 Iris-setosa 3.ç»Ÿè®¡æè¿°æ•°æ® æ•°æ®ç‰¹å¾çš„ç»Ÿè®¡æè¿°ä¿¡æ¯åŒ…æ‹¬æ•°æ®çš„è¡Œæ•°ã€ä¸­ä½å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ã€å‡å€¼ã€å››åˆ†ä½å€¼ç­‰ç»Ÿè®¡æ•°æ®ä¿¡æ¯ 1234567891011print(dataset.describe())&gt;&gt;&gt; separ-length separ-width petal-length petal-widthcount 150.000000 150.000000 150.000000 150.000000mean 5.843333 3.054000 3.758667 1.198667std 0.828066 0.433594 1.764420 0.763161min 4.300000 2.000000 1.000000 0.10000025% 5.100000 2.800000 1.600000 0.30000050% 5.800000 3.000000 4.350000 1.30000075% 6.400000 3.300000 5.100000 1.800000max 7.900000 4.400000 6.900000 2.500000 4.æ•°æ®åˆ†ç±»åˆ†å¸ƒ äº†è§£æ•°æ®åœ¨ä¸åŒåˆ†ç±»çš„åˆ†å¸ƒæƒ…å†µâ€¦==&gt;æ¯ä¸ªåˆ†ç±»æ•°æ®é‡çš„ç»å¯¹æ•°å€¼ 1234567print(dataset.groupby('class').size())&gt;&gt;&gt;classIris-setosa 50Iris-versicolor 50Iris-virginica 50dtype: int64 â–² å¦‚æœæ•°æ®åˆ†å¸ƒä¸å¹³è¡¡,å¯èƒ½ä¼šå½±å“åˆ°æ¨¡å‹çš„å‡†ç¡®æ€§,â€¦==&gt;ä¸å¹³è¡¡æ—¶,éœ€è¦å¯¹æ•°æ®è¿›è¡Œè°ƒæ•´,æ–¹æ³•æœ‰: æ‰©å¤§æ•°æ®æ ·æœ¬ é€šå¸¸å®¹æ˜“è¢«å¿½ç•¥çš„é€‰æ‹©â€¦ä½†å¾€å¾€æ‰¾åˆ°æ›´å¤§çš„æ•°æ®é›†å°±æœ‰å¯èƒ½æŒ–æ˜å‡ºæ›´å¹³è¡¡çš„æ–¹é¢æé«˜ç®—æ³•å‡†ç¡®åº¦ æ•°æ®çš„é‡æ–°æŠ½æ · è¿‡æŠ½æ ·(å¤åˆ¶å°‘æ•°ç±»æ ·æœ¬)â€¦æ•°æ®å°‘æ—¶è€ƒè™‘ æ¬ æŠ½æ ·(åˆ é™¤å¤šæ•°ç±»æ ·æœ¬)â€¦æ•°æ®å¤šæ—¶è€ƒè™‘ å°è¯•ç”Ÿæˆäººå·¥æ ·æœ¬ ä»å°‘æ•°ç±»çš„å®ä¾‹ä¸­éšæœºæŠ½æ ·ç‰¹å¾å±æ€§,ç”Ÿæˆæ›´å¤šæ•°æ® å¼‚å¸¸æ£€æµ‹å’Œå˜åŒ–æ£€æµ‹ å°è¯•ä»ä¸åŒè§‚ç‚¹æ€è€ƒ,å¼‚å¸¸æ£€æµ‹æ˜¯å¯¹ç½•è§äº‹ä»¶çš„æ£€æµ‹,å°†å°ç±»ä½œä¸ºå¼‚å¸¸å€¼ç±» 3.æ•°æ®å¯è§†åŒ– å•å˜é‡å›¾è¡¨: ç†è§£æ¯ä¸€ä¸ªç‰¹å¾å±æ€§ å¤šå˜é‡å›¾è¡¨: ç†è§£ä¸åŒç‰¹å¾å±æ€§ä¹‹é—´çš„å…³ç³» å•å˜é‡å›¾: ç®±çº¿å›¾: ä¸€ç§ç”¨ä½œæ˜¾ç¤ºä¸€ç»„æ•°æ®åˆ†æ•£æƒ…å†µèµ„æ–™çš„ç»Ÿè®¡å›¾ã€‚å› å½¢çŠ¶å¦‚ç®±å­è€Œå¾—åã€‚ ä¸»è¦ç”¨äºåæ˜ åŸå§‹æ•°æ®åˆ†å¸ƒçš„ç‰¹å¾ï¼Œè¿˜å¯ä»¥è¿›è¡Œå¤šç»„æ•°æ®åˆ†å¸ƒç‰¹å¾çš„æ¯” è¾ƒã€‚ç®±çº¿å›¾çš„ç»˜åˆ¶æ–¹æ³•æ˜¯ï¼šå…ˆæ‰¾å‡ºä¸€ç»„æ•°æ®çš„æœ€å¤§å€¼ã€æœ€å°å€¼ã€ä¸­ä½æ•°å’Œä¸¤ä¸ªå››åˆ†ä½æ•°ï¼›ç„¶åï¼Œ è¿æ¥ä¸¤ä¸ªå››åˆ†ä½æ•°ç”»å‡ºç®±å­ï¼›å†å°†æœ€å¤§å€¼å’Œæœ€å°å€¼ä¸ç®±å­ç›¸è¿æ¥ï¼Œä¸­ä½æ•°åœ¨ç®±å­ä¸­é—´ã€‚ 12345678#ç®±çº¿å›¾ , å› ä¸ºæ¯ä¸ªç‰¹å¾å±æ€§éƒ½æ˜¯æ•°å­— , æ‰€ä»¥ ç”¨ç®±çº¿å›¾å±•ç¤º å±æ€§ä¸ä¸­ä½å€¼çš„ç¦»æ•£ç¨‹åº¦dataset.plot(kind='box',subplots = True,layout = (2,2) , sharex = False , sharey = False)# å‚æ•°è¯´æ˜ : boxç®±çº¿ , subplots å…è®¸å¤šä¸ªå­å›¾, layout å¸ƒå±€ä¸º2*2 , sharex.sharey ä¸å…±äº«x,ypyplot.show()#---#ç›´æ–¹å›¾ , xè½´ä¸ºå€¼ , yè½´ä¸ºæ•°é‡dataset.hist()pyplot.show() å¤šå˜é‡å›¾: 12345from pandas.plotting import scatter_matrix#æ•£ç‚¹çŸ©é˜µå›¾scatter_matrix(dataset)pyplot.show()#pyplot.savefig(\"scatter_matrix.png\") 4.è¯„ä¼°ç®—æ³• åˆ†ç¦»å‡ºè¯„ä¼°æ•°æ®é›† é‡‡ç”¨10æŠ˜äº¤å‰éªŒè¯æ¥è¯„ä¼°ç®—æ³•æ¨¡å‹ ç”Ÿæˆ6ä¸ªä¸åŒçš„æ¨¡å‹æ¥é¢„æµ‹æ–°æ•°æ® é€‰æ‹©æœ€ä¼˜æ¨¡å‹ 1.åˆ†ç¦»å‡ºè¯„ä¼°æ•°æ®é›† â¤ï¸è¦æƒ³çŸ¥é“ç®—æ³•æ¨¡å‹å¯¹çœŸæ˜¯æ•°æ®çš„å‡†ç¡®åº¦,æ‰€ä»¥ä¿ç•™ä¸€éƒ¨åˆ†æ•°æ®æ¥è¯„ä¼°ç®—æ³•æ¨¡å‹. 12345678from sklearn.model_selection import train_test_splitarray = dataset.valuesX = array[:,0:4] #é™¤äº†æœ€åçš„classç±»åˆ«Y = array[:,4] #ç±»åˆ«,ç›®æ ‡validation_size = 0.2 #éªŒè¯æ¯”ä¾‹seed = 7 #éšæœºç§å­X_train , X_validation , Y_train , Y_validation = \\ train_test_split(X,Y,test_size=validation_size,random_state=seed) 2.è¯„ä¼°æ¨¡å¼ é‡‡ç”¨10æŠ˜äº¤å‰éªŒè¯æ¥åˆ†ç¦»è®­ç»ƒæ•°æ®é›† : éšæœºå°†æ•°æ®åˆ†æˆ10ä»½,9ä»½ç”¨æ¥è®­ç»ƒæ¨¡å‹,1ä»½ç”¨æ¥è¯„ä¼°ç®—æ³• 3.åˆ›å»ºæ¨¡å‹ çº¿æ€§ çº¿æ€§å›å½’(LR) çº¿æ€§åˆ¤åˆ«åˆ†æ(LDA) éçº¿æ€§ Kè¿‘é‚»(KNN) åˆ†ç±»ä¸å›å½’æ ‘(CART) è´å¶æ–¯åˆ†ç±»å™¨(NB) æ”¯æŒå‘é‡æœº(SVM) â–² åœ¨æ¯æ¬¡å¯¹ç®—æ³•è¿›è¡Œè¯„ä¼°å‰éƒ½ä¼šé‡æ–°è®¾ç½®éšæœºæ•°ç§å­,ä»¥ä¿è¯æ¯æ¬¡å¯¹ç®—æ³•çš„è¯„ä¼°éƒ½æ˜¯ç”¨ç›¸åŒçš„æ•°æ®é›† 12345678910111213141516171819202122from sklearn.linear_model import LogisticRegression,LinearRegression #LRfrom sklearn.tree import DecisionTreeClassifier #CARTfrom sklearn.discriminant_analysis import LinearDiscriminantAnalysis #LDAfrom sklearn.naive_bayes import GaussianNB #NBfrom sklearn.neighbors import KNeighborsClassifier #KNNfrom sklearn.svm import SVC #SVMfrom sklearn.model_selection import KFold,cross_val_scoremodels = &#123;&#125;models['LR'] = LogisticRegression()models['LDA'] = LinearDiscriminantAnalysis()models['CART'] = DecisionTreeClassifier()models['NB'] = GaussianNB()models['KNN'] = KNeighborsClassifier()models['SVM'] = SVC()#è¯„ä¼°ç®—æ³•resutls = []for key in models: kfold = KFold(n_splits=10,random_state=seed) cv_result = cross_val_score(models[key],X_train,Y_train,cv = kfold , scoring = 'accuracy') #cross_val_scoreå°†äº¤å‰éªŒè¯çš„æ•´ä¸ªè¿‡ç¨‹è¿æ¥èµ·æ¥ï¼Œä¸ç”¨å†è¿›è¡Œæ‰‹åŠ¨çš„åˆ†å‰²æ•°æ®, cvå‚æ•°ç”¨äºè§„å®šå°†åŸå§‹æ•°æ®åˆ†æˆå¤šå°‘ä»½ resutls.append(cv_result) print(\"%s: %f (%f)\" % (key,cv_result.mean(),cv_result.std())) #å‡å€¼,æ ‡å‡†å·® 4.é€‰æ‹©æœ€ä¼˜æ¨¡å‹ 1234567&gt;&gt;&gt;LR: 0.966667 (0.040825)LDA: 0.975000 (0.038188)CART: 0.966667 (0.040825)NB: 0.975000 (0.053359)KNN: 0.983333 (0.033333)SVM: 0.991667 (0.025000) ä¸ºä»€ä¹ˆä½¿ç”¨ 10æŠ˜äº¤å‰éªŒè¯? è¿›è¡Œæ¨¡å‹éªŒè¯çš„ä¸€ä¸ªé‡è¦ç›®çš„æ˜¯è¦é€‰å‡ºä¸€ä¸ªæœ€åˆé€‚çš„æ¨¡å‹ï¼Œå¯¹äºç›‘ç£å­¦ä¹ è€Œè¨€ï¼Œæˆ‘ä»¬å¸Œæœ›æ¨¡å‹å¯¹äºæœªçŸ¥æ•°æ®çš„æ³›åŒ–èƒ½åŠ›å¼ºï¼Œæ‰€ä»¥å°±éœ€è¦æ¨¡å‹éªŒè¯è¿™ä¸€è¿‡ç¨‹æ¥ä½“ç°ä¸åŒçš„æ¨¡å‹å¯¹äºæœªçŸ¥æ•°æ®çš„è¡¨ç°æ•ˆæœã€‚ è®­ç»ƒå‡†ç¡®åº¦==&gt;æµ‹è¯•å‡†ç¡®åº¦ æœ€å…ˆæˆ‘ä»¬ç”¨è®­ç»ƒå‡†ç¡®åº¦ï¼ˆç”¨å…¨éƒ¨æ•°æ®è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•ï¼‰æ¥è¡¡é‡æ¨¡å‹çš„è¡¨ç°ï¼Œè¿™ç§æ–¹æ³•ä¼šå¯¼è‡´æ¨¡å‹è¿‡æ‹Ÿåˆ(æ–¹å·®å¤§)ï¼›===&gt;&gt;ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰æ•°æ®åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸¤éƒ¨åˆ†ï¼Œæˆ‘ä»¬ç”¨è®­ç»ƒé›†è¿›è¡Œæ¨¡å‹è®­ç»ƒï¼Œå¾—åˆ°çš„æ¨¡å‹å†ç”¨æµ‹è¯•é›†æ¥è¡¡é‡æ¨¡å‹çš„é¢„æµ‹è¡¨ç°èƒ½åŠ›ï¼Œè¿™ç§åº¦é‡æ–¹å¼å«æµ‹è¯•å‡†ç¡®åº¦ï¼Œè¿™ç§æ–¹å¼å¯ä»¥æœ‰æ•ˆé¿å…è¿‡æ‹Ÿåˆã€‚ æµ‹è¯•å‡†ç¡®åº¦==&gt;10æŠ˜äº¤å‰éªŒè¯ æµ‹è¯•å‡†ç¡®åº¦çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯å…¶æ ·æœ¬å‡†ç¡®åº¦æ˜¯ä¸€ä¸ªé«˜æ–¹å·®ä¼°è®¡ï¼ˆhigh variance estimateï¼‰, æ‰€ä»¥è¯¥æ ·æœ¬å‡†ç¡®åº¦ä¼šä¾èµ–ä¸åŒçš„æµ‹è¯•é›†ï¼Œå…¶è¡¨ç°æ•ˆæœä¸å°½ç›¸åŒã€‚ 12345678910111213for i in xrange(1,5): print \"random_state is \", i,\", and accuracy score is:\" X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=i) knn = KNeighborsClassifier(n_neighbors=5) knn.fit(X_train, y_train) y_pred = knn.predict(X_test) print metrics.accuracy_score(y_test, y_pred)&gt;&gt;&gt;random_state is 1 , and accuracy score is:1.0random_state is 2 , and accuracy score is:1.0random_state is 3 , and accuracy score is:0.947368421053random_state is 4 , and accuracy score is:0.973684210526 ä¸Šé¢çš„æµ‹è¯•å‡†ç¡®ç‡å¯ä»¥çœ‹å‡ºï¼Œä¸åŒçš„è®­ç»ƒé›†ã€æµ‹è¯•é›†åˆ†å‰²çš„æ–¹æ³•å¯¼è‡´å…¶å‡†ç¡®ç‡ä¸åŒï¼Œè€Œäº¤å‰éªŒè¯çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š1.å°†æ•°æ®é›†è¿›è¡Œä¸€ç³»åˆ—åˆ†å‰²ï¼Œç”Ÿæˆä¸€ç»„ä¸åŒçš„è®­ç»ƒæµ‹è¯•é›†ï¼Œ2.ç„¶ååˆ†åˆ«è®­ç»ƒæ¨¡å‹å¹¶è®¡ç®—æµ‹è¯•å‡†ç¡®ç‡ï¼Œ3.æœ€åå¯¹ç»“æœè¿›è¡Œå¹³å‡å¤„ç†ã€‚è¿™æ ·æ¥æœ‰æ•ˆé™ä½æµ‹è¯•å‡†ç¡®ç‡çš„å·®å¼‚ã€‚ KæŠ˜äº¤å‰éªŒè¯: å°†æ•°æ®é›†å¹³å‡åˆ†å‰²æˆKä¸ªç­‰ä»½å­é›† ä½¿ç”¨1ä»½æ•°æ®(å­é›†)ä½œä¸ºæµ‹è¯•æ•°æ®ï¼Œå…¶ä½™(K-1)ä»½ä½œä¸ºè®­ç»ƒæ•°æ® è®¡ç®—æµ‹è¯•å‡†ç¡®ç‡ ä½¿ç”¨ä¸åŒçš„æµ‹è¯•é›†ï¼Œé‡å¤2ã€3æ­¥éª¤ å¯¹æµ‹è¯•å‡†ç¡®ç‡åšå¹³å‡ï¼Œä½œä¸ºå¯¹æœªçŸ¥æ•°æ®é¢„æµ‹å‡†ç¡®ç‡çš„ä¼°è®¡ ==&gt; cross_val_score.mean() ä¸åŒçš„è®­ç»ƒé›†ã€æµ‹è¯•é›†åˆ†å‰²çš„æ–¹æ³•å¯¼è‡´å…¶å‡†ç¡®ç‡ä¸åŒï¼Œè€Œäº¤å‰éªŒè¯çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå°†æ•°æ®é›†è¿›è¡Œä¸€ç³»åˆ—åˆ†å‰²ï¼Œç”Ÿæˆä¸€ç»„ä¸åŒçš„è®­ç»ƒæµ‹è¯•é›†ï¼Œç„¶ååˆ†åˆ«è®­ç»ƒæ¨¡å‹å¹¶è®¡ç®—æµ‹è¯•å‡†ç¡®ç‡ï¼Œæœ€åå¯¹ç»“æœè¿›è¡Œå¹³å‡å¤„ç†ã€‚è¿™æ ·æ¥æœ‰æ•ˆé™ä½æµ‹è¯•å‡†ç¡®ç‡çš„å·®å¼‚ã€‚ æ¥è‡ªå‘¨å¿—å&lt;&lt;æœºå™¨å­¦ä¹ &gt;&gt;: åˆ†å‰²æ–¹æ³• 1234# ä¸‹é¢ä»£ç æ¼”ç¤ºäº†K-foldäº¤å‰éªŒè¯æ˜¯å¦‚ä½•è¿›è¡Œæ•°æ®åˆ†å‰²çš„# simulate splitting a dataset of 25 observations into 5 foldsfrom sklearn.cross_validation import KFoldkf = KFold(25, n_folds=5, shuffle=False) 12cv_result = cross_val_score(models[key],X_train,Y_train,cv = 10 , scoring = 'accuracy')#cross_val_scoreå°†äº¤å‰éªŒè¯çš„æ•´ä¸ªè¿‡ç¨‹è¿æ¥èµ·æ¥ï¼Œä¸ç”¨å†è¿›è¡Œæ‰‹åŠ¨çš„åˆ†å‰²æ•°æ®, cvå‚æ•°ç”¨äºè§„å®šå°†åŸå§‹æ•°æ®åˆ†æˆå¤šå°‘ä»½ 5.å®æ–½é¢„æµ‹ 12345678910111213141516171819#ä½¿ç”¨è¯„ä¼°æ•°æ®é›†è¯„ä¼°ç®—æ³•svm = SVC()svm.fit(X = X_train ,y = Y_train) #å‚æ•°ä¸º X , ypredictions = svm.predict(X_validation)print(accuracy_score(Y_validation,predictions)) #æµ‹è¯•é›†ç»“æœ ä¸ é¢„æµ‹ç»“æœ ç›¸æ¯”print(confusion_matrix(Y_validation,predictions))print(classification_report(Y_validation,predictions))&gt;&gt;&gt;0.9333333333333333[[ 7 0 0] [ 0 10 2] #æ··æ·†çŸ©é˜µåªå‡ºç°äº†ä¸¤ä¸ªé”™è¯¯,2 [ 0 0 11]] precision(ç²¾ç¡®åº¦) recall(å¬å›ç‡) f1-score(F1å€¼) support(æ€»å’Œ) Iris-setosa 1.00 1.00 1.00 7Iris-versicolor 1.00 0.83 0.91 12 Iris-virginica 0.85 1.00 0.92 11 avg / total 0.94 0.93 0.93 30 å¬å›ç‡(Recall Rate,ä¹Ÿå«æŸ¥å…¨ç‡) æ˜¯æ£€ç´¢å‡ºçš„ç›¸å…³æ–‡æ¡£æ•°å’Œæ–‡æ¡£åº“ä¸­æ‰€æœ‰çš„ç›¸å…³æ–‡æ¡£æ•°çš„æ¯”ç‡ï¼Œè¡¡é‡çš„æ˜¯æ£€ç´¢ç³»ç»Ÿçš„æŸ¥å…¨ç‡ï¼› ç²¾åº¦(Precise) æ˜¯æ£€ç´¢å‡ºçš„ç›¸å…³æ–‡æ¡£æ•°ä¸æ£€ç´¢å‡ºçš„æ–‡æ¡£æ€»æ•°çš„æ¯”ç‡ï¼Œè¡¡é‡çš„æ˜¯æ£€ç´¢ç³»ç»Ÿçš„æŸ¥å‡†ç‡ã€‚ TP: é¢„æµ‹ä¸ºæ­£ï¼Œå®é™…ä¸ºæ­£ (ç¬¬ä¸€ä¸ªæ˜¯å®é™…Tæˆ–F,ç¬¬äºŒä¸ªæ˜¯é¢„æµ‹Pæˆ–N) FP: é¢„æµ‹ä¸ºæ­£ï¼Œå®é™…ä¸ºè´Ÿ TN:é¢„æµ‹ä¸ºè´Ÿï¼Œå®é™…ä¸ºè´Ÿ FN: é¢„æµ‹ä¸ºè´Ÿï¼Œå®é™…ä¸ºæ­£ ç²¾ç¡®ç‡ã€å‡†ç¡®ç‡ï¼šAccuracy=(TP+TN)/(TP+TN+FN+FP) //ç²¾å‡†ç‡ã€æŸ¥å‡†ç‡ï¼šP = TP/ (TP+FP) å¬å›ç‡ã€æŸ¥å…¨ç‡ï¼šR = TP/ (TP+FN) F1-score: 2*TP/(2*TP + FP + FN) â—†. ç²¾ç¡®åº¦æ˜¯â€œæœç´¢ç»“æœæœ‰å¤šå¤§ç”¨å¤„â€ï¼Œè€Œå¬å›æ˜¯â€œç»“æœå¦‚ä½•å®Œæ•´â€ã€‚ F1åˆ†æ•°: æ¦‚è¿° : ç»Ÿè®¡å­¦ä¸­ç”¨æ¥è¡¡é‡äºŒåˆ†ç±»æ¨¡å‹ç²¾ç¡®åº¦çš„ä¸€ç§æŒ‡æ ‡ã€‚å®ƒåŒæ—¶å…¼é¡¾äº†åˆ†ç±»æ¨¡å‹çš„å‡†ç¡®ç‡å’Œå¬å›ç‡ã€‚F1åˆ†æ•°å¯ä»¥çœ‹ä½œæ˜¯æ¨¡å‹å‡†ç¡®ç‡å’Œå¬å›ç‡çš„ä¸€ç§åŠ æƒå¹³å‡ï¼Œå®ƒçš„æœ€å¤§å€¼æ˜¯1ï¼Œæœ€å°å€¼æ˜¯0ã€‚ äººä»¬é€šå¸¸ä½¿ç”¨å‡†ç¡®ç‡å’Œå¬å›ç‡è¿™ä¸¤ä¸ªæŒ‡æ ‡ï¼Œæ¥è¯„ä»·äºŒåˆ†ç±»æ¨¡å‹çš„åˆ†ææ•ˆæœã€‚ ä½†æ˜¯å½“è¿™ä¸¤ä¸ªæŒ‡æ ‡å‘ç”Ÿå†²çªæ—¶ï¼Œæˆ‘ä»¬å¾ˆéš¾åœ¨æ¨¡å‹ä¹‹é—´è¿›è¡Œæ¯”è¾ƒã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹ä¸¤ä¸ªæ¨¡å‹Aã€Bï¼ŒAæ¨¡å‹çš„å¬å›ç‡é«˜äºBæ¨¡å‹ï¼Œä½†æ˜¯Bæ¨¡å‹çš„å‡†ç¡®ç‡é«˜äºAæ¨¡å‹ï¼ŒAå’ŒBè¿™ä¸¤ä¸ªæ¨¡å‹çš„ç»¼åˆæ€§èƒ½ï¼Œå“ªä¸€ä¸ªæ›´ä¼˜å‘¢ï¼Ÿ å‡†ç¡®ç‡ å¬å›ç‡ A 80% 90% B 90% 80% ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œäººä»¬æå‡ºäº†FÎ²F_{\\beta}FÎ²â€‹ åˆ†æ•°ã€‚FÎ²F_{\\beta}FÎ²â€‹çš„ç‰©ç†æ„ä¹‰å°±æ˜¯å°†å‡†ç¡®ç‡å’Œå¬å›ç‡è¿™ä¸¤ä¸ªåˆ†å€¼åˆå¹¶ä¸ºä¸€ä¸ªåˆ†å€¼ï¼Œåœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œå¬å›ç‡çš„æƒé‡æ˜¯å‡†ç¡®ç‡çš„ Î²\\betaÎ²å€ã€‚F1F_{1}F1â€‹åˆ†æ•°è®¤ä¸ºå¬å›ç‡å’Œå‡†ç¡®ç‡åŒç­‰é‡è¦ï¼Œ F2F_{2}F2â€‹ åˆ†æ•°è®¤ä¸ºå¬å›ç‡çš„é‡è¦ç¨‹åº¦æ˜¯å‡†ç¡®ç‡çš„2å€ï¼Œè€Œåˆ†F0.5F_{0.5}F0.5â€‹æ•°è®¤ä¸ºå¬å›ç‡çš„é‡è¦ç¨‹åº¦æ˜¯å‡†ç¡®ç‡çš„ä¸€åŠã€‚ FÎ²=(1+Î²2)â‹… precision recall(Î²2â‹… precision )+recallF _ { \\beta } = \\left( 1 + \\beta ^ { 2 } \\right) \\cdot \\frac { \\text { precision recall} } { \\left( \\beta ^ { 2 } \\cdot \\text { precision } \\right) + \\text {recall} }FÎ²â€‹=(1+Î²2)â‹…(Î²2â‹… precision )+recall precision recallâ€‹ Î²=recall rateaccuracy rate\\beta = \\frac { \\text {recall rate} } { \\text {accuracy rate} }Î²=accuracy raterecall rateâ€‹ â–² å¦‚ä½•è®¡ç®—Preciseã€Recallã€F1-scoreè§åšå®¢https://blog.csdn.net/akadiao/article/details/78788864 Confusion_martrix(æ··æ·†çŸ©é˜µ) æ··æ·†çŸ©é˜µ: ä¸€ç§ç‰¹å®šçš„çŸ©é˜µç”¨æ¥å‘ˆç°ç®—æ³•æ€§èƒ½çš„å¯è§†åŒ–æ•ˆæœï¼Œé€šå¸¸æ˜¯ç›‘ç£å­¦ä¹ ï¼ˆéç›‘ç£å­¦ä¹ ï¼Œé€šå¸¸ç”¨åŒ¹é…çŸ©é˜µï¼šmatching matrixï¼‰ å…¶æ¯ä¸€åˆ—ä»£è¡¨é¢„æµ‹å€¼ï¼Œæ¯ä¸€è¡Œä»£è¡¨çš„æ˜¯å®é™…çš„ç±»åˆ«ã€‚è¿™ä¸ªåå­—æ¥æºäºå®ƒå¯ä»¥éå¸¸å®¹æ˜“çš„è¡¨æ˜å¤šä¸ªç±»åˆ«æ˜¯å¦æœ‰æ··æ·†ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªclassè¢«é¢„æµ‹æˆå¦ä¸€ä¸ªclassï¼‰ã€‚ Exampleæ ·ä¾‹è¯´æ˜: å‡è®¾æœ‰ä¸€ä¸ªç”¨æ¥å¯¹çŒ«ï¼ˆcatsï¼‰ã€ç‹—ï¼ˆdogsï¼‰ã€å…”å­ï¼ˆrabbitsï¼‰è¿›è¡Œåˆ†ç±»çš„ç³»ç»Ÿï¼Œæ··æ·†çŸ©é˜µå°±æ˜¯ä¸ºäº†è¿›ä¸€æ­¥åˆ†ææ€§èƒ½è€Œå¯¹è¯¥ç®—æ³•æµ‹è¯•ç»“æœåšå‡ºçš„æ€»ç»“ã€‚å‡è®¾æ€»å…±æœ‰ 27 åªåŠ¨ç‰©ï¼š8åªçŒ«ï¼Œ 6æ¡ç‹—ï¼Œ 13åªå…”å­ã€‚ç»“æœçš„æ··æ·†çŸ©é˜µå¦‚ä¸‹å›¾ï¼š åœ¨è¿™ä¸ªæ··æ·†çŸ©é˜µä¸­ï¼Œå®é™…æœ‰ 8åªçŒ«ï¼Œä½†æ˜¯ç³»ç»Ÿå°†å…¶ä¸­3åªé¢„æµ‹æˆäº†ç‹—ï¼›å¯¹äº 6æ¡ç‹—ï¼Œå…¶ä¸­æœ‰ 1æ¡è¢«é¢„æµ‹æˆäº†å…”å­ï¼Œ2æ¡è¢«é¢„æµ‹æˆäº†çŒ«ã€‚ä»æ··æ·†çŸ©é˜µä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºç³»ç»Ÿå¯¹äºåŒºåˆ†çŒ«å’Œç‹—å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯åŒºåˆ†å…”å­å’Œå…¶ä»–åŠ¨ç‰©çš„æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚æ‰€æœ‰æ­£ç¡®çš„é¢„æµ‹ç»“æœéƒ½åœ¨å¯¹è§’çº¿ä¸Šï¼Œæ‰€ä»¥ä»æ··æ·†çŸ©é˜µä¸­å¯ä»¥å¾ˆæ–¹ä¾¿ç›´è§‚çš„çœ‹å‡ºå“ªé‡Œæœ‰é”™è¯¯ï¼Œå› ä¸ºä»–ä»¬å‘ˆç°åœ¨å¯¹è§’çº¿å¤–é¢ã€‚****","categories":[],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://nymrli.top/tags/æœºå™¨å­¦ä¹ /"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Pycharmé‡Œæ— æ³•æŸ¥çœ‹Sqliteæ•°æ®è¡¨","slug":"Pycharmé‡Œæ— æ³•æŸ¥çœ‹Sqliteæ•°æ®è¡¨","date":"2018-11-23T07:27:38.000Z","updated":"2019-09-15T08:07:30.971Z","comments":true,"path":"2018/11/23/Pycharmé‡Œæ— æ³•æŸ¥çœ‹Sqliteæ•°æ®è¡¨/","link":"","permalink":"https://nymrli.top/2018/11/23/Pycharmé‡Œæ— æ³•æŸ¥çœ‹Sqliteæ•°æ®è¡¨/","excerpt":"","text":"Pycharmé‡Œæ— æ³•æŸ¥çœ‹Sqliteæ•°æ®è¡¨ å¬è¯´Pycharmå¯ä»¥ç›´æ¥çœ‹æ•°æ®åº“,äºæ˜¯è¯•äº†è¯•,å‘ç°æ— æ³•è¯»å–sqliteæ•°æ®åº“çš„å†…å®¹â€¦äºæ˜¯å‘ç°ä¸‹è½½ç›¸åº”çš„é©±åŠ¨.å¦‚å›¾ è§£å†³æ–¹æ³•: ä¸€.æ‰“å¼€å³ä¾§çš„Databaseé€‰é¡¹å¡,é€‰æ‹©Data Sourceçš„Sqlite äºŒ.ç‚¹å‡»é»„è‰²ä¸‰è§’Downloadä¸‹è½½ç›¸åº”çš„é©±åŠ¨è½¯ä»¶ ä¸‰.å®‰è£…å®Œæˆ,æ­£å¸¸ä½¿ç”¨","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://nymrli.top/tags/æ•°æ®åº“/"}]},{"title":"flask-sqlalchemyä½¿ç”¨ä¸sqlalchemyå¯¹æ¯”","slug":"Â–flask-sqlalchemyä½¿ç”¨ä¸sqlalchemyå¯¹æ¯”","date":"2018-11-23T07:22:48.000Z","updated":"2022-03-19T02:49:15.508Z","comments":true,"path":"2018/11/23/Â–flask-sqlalchemyä½¿ç”¨ä¸sqlalchemyå¯¹æ¯”/","link":"","permalink":"https://nymrli.top/2018/11/23/Â–flask-sqlalchemyä½¿ç”¨ä¸sqlalchemyå¯¹æ¯”/","excerpt":"","text":"flask-sqlalchemyä½¿ç”¨ä¸sqlalchemyå¯¹æ¯” flask-sqlalchemy 12345678910111213141516171819202122232425from exts import dbclass MGroup(db.Model): __tablename__ = 'Group' id = db.Column(db.Integer, primary_key=True, autoincrement=True) name = db.Column(db.String(50),nullable=False,unique = True)class MUserinfo(db.Model): __tablename__ = 'Userinfo' id = db.Column(db.Integer,primary_key=True,autoincrement=True) stuid = db.Column(db.String(15),unique = True ,nullable=False) subject = db.Column(db.String(50), nullable=False) name = db.Column(db.String(10), nullable=False) qq = db.Column(db.Integer,nullable = False) dirction = db.Column(db.String(20),db.ForeignKey('Group.name'),default='3Dä»¿çœŸç»„')class Mmessage(db.Model): __tablename__ = 'Contact' id = db.Column(db.Integer,primary_key=True,autoincrement=True) name = db.Column(db.String(10), nullable=False) email = db.Column(db.String(20), nullable=False) subject = db.Column(db.String(20), nullable=False) message = db.Column(db.Text, nullable=False) sqlalchemy 123456789101112131415161718192021import sqlalchemyfrom sqlalchemy import create_enginefrom sqlalchemy.ext.declarative import declarative_base from sqlalchemy.orm import sessionmakerprint(sqlalchemy.__version__)engine = create_engine('sqlite:///test.db',echo = True) #å°†æ•°æ®åº“æ‰§è¡Œçš„è¯­å¥æ‰“å°å‡ºæ¥Base = declarative_base() #å£°æ˜ä¸€ä¸ªåŸºç±»å®ä¾‹class User(Base): __tablename__ = 'User' #è¡¨çš„åç§° #ç±»çš„å±æ€§,è€Œä¸æ˜¯åœ¨ææ„å‡½æ•°ä¸­å®šä¹‰çš„åŸå› æ˜¯,Baseç±»ä¸­æœ‰æ„é€ å‡½æ•° Uid = sqlalchemy.Column(sqlalchemy.Integer,autoincrement=True,primary_key=True) name = sqlalchemy.Column(sqlalchemy.String(20),nullable=False) def __str__(self): return \"&lt;Uid&gt;:&#123;&#125;,&lt;name&gt;:&#123;&#125;\".format(self.Uid,self.name)Base.metadata.create_all(engine) #åˆ›å»ºæ•°æ®åº“è¡¨,sqlalchemyä¼šè‡ªåŠ¨è¦†ç›–å·²å­˜åœ¨çš„è¡¨ flask-sqlalchemy sqlalchemy è¡¨ç»§æ‰¿çš„ç±» db = SQLAlchemy(app),db.Model Base = declarative_base() éƒ½æ˜¯ä»å·¥å‚å‡½æ•°ä¸­å£°æ˜çš„ä¸€ä¸ªå®ä¾‹ç±»,ä½œä¸ºå£°æ˜æ€§ç±»åŸºç±» é“¾æ¥æ•°æ®åº“å‡½æ•° create_engine() åˆ›å»ºè¡¨å‡½æ•° db.create_all() Base.metadata.create_all(engine) è¡¨å•å­—æ®µ db.Column() sqlalchemy.Column() å­—æ®µç±»å‹ db.Integer sqlalchemy.Integer æ’å…¥æ•°æ® msg = Mmessage(name=data.get(â€˜nameâ€™),email=data.get(â€˜emailâ€™), subject=data.get(â€˜subjectâ€™),message=data.get(â€˜messageâ€™)) db.session.add(msg) db.session.commit() user = User(name=â€˜mrliâ€™) Session = sessionmaker(bind=engine) session = Session() session.add(user) session.commit() æŸ¥è¯¢ Item.query.filter(Item.table == json_data.get('table')).first() user = session.query(User).filter_by(name='mrli').first() backref æ–‡æœ¬è¾“å‡º def __repr__(self): ï¼ˆä¸djangoçš„__str__ä¸åŒï¼‰ sqlalchemy: æŸ¥: 1234567891011121314151617181920212223242526272829user = session.query(User).all()user = session.query(User).filter_by(name='mrli').first()# æ’åºfor row in user = session.query(User).order_by(User.id): pass# in_for row in session.query(User).filter(User.name.in_(['nymrli','cl'])): pass&gt;&gt;&gt; &lt;Uid&gt;:1,&lt;name&gt;:mrli&gt;&gt;&gt;&gt; &lt;Uid&gt;:3,&lt;name&gt;:qsy for row in session.query(~User.name.in_(['nymrli','cl'])): print(row) &gt;&gt;&gt;(True,)&gt;&gt;&gt;(False,)&gt;&gt;&gt;(True,)# ~ in for row in session.query(User).filter(~User.name.in_(['nymrli','cl'])): pass#è®¡æ•°user = session.query(User).filter(User.name=='mrli').count()#â–².æ³¨æ„filter()çš„==ä¸filter_by()çš„=çš„ä½¿ç”¨åŒºåˆ«# and_ or_ sqlalchemy core (æ ¸å¿ƒå±‚,æ›´æ¥è¿‘SQLè¯­å¥) ä»£ç å¾ˆæ¥è¿‘ã€å½¢ä¼¼SQLåŸç”Ÿè¯­å¥,å¯ä»¥å†™sqlalchemyçš„SQLæ–¹è¨€(dialect) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162import sqlalchemyfrom sqlalchemy import create_enginefrom sqlalchemy import Table,MetaDataprint(sqlalchemy.__version__)engine = create_engine('sqlite:///test.db',echo = True) #å°†æ•°æ®åº“æ‰§è¡Œçš„è¯­å¥æ‰“å°å‡ºæ¥metadata = MetaData()users = Table( 'users',metadata, sqlalchemy.Column('id',sqlalchemy.Integer,primary_key=True), sqlalchemy.Column('name',sqlalchemy.String))addresses = Table( 'addresses' , metadata, sqlalchemy.Column('id', sqlalchemy.Integer, primary_key=True), sqlalchemy.Column('user_id', None,primary_key('users.isd')), sqlalchemy.Column('email_address', sqlalchemy.String, nullable=False))metadata.create_all(engine)users = Table( 'users',metadata, sqlalchemy.Column('id',sqlalchemy.Integer,primary_key=True), sqlalchemy.Column('name',sqlalchemy.String))addresses = Table( 'addresses' , metadata, sqlalchemy.Column('id', sqlalchemy.Integer, primary_key=True), sqlalchemy.Column('user_id', None,primary_key('users.id')), sqlalchemy.Column('email_address', sqlalchemy.String, nullable=False))metadata.create_all(engine)conn = engine.connect()conn.execute(users.insert(),[ dict(name='nymrli'), dict(name='cl')])conn.execute(users.insert(),[ dict(user_id=1,email_address='1063052964@qq.com'), dict(user_id=1,email_address='2042423232@qq.com'), dict(user_id=2, email_address='1063052923@qq.com'), dict(user_id=2, email_address='2042423232@qq.com'),])from sqlalchemy.sql import selects = select([users])result = conn.execute(s)for x in result: print(x)# s = select([users.addresses]).where(users.c.id == addresses.c.user_id)from sqlalchemy.sql import texts = text( \"SELECT user.name || ',' || addresses.email_address AS title \" \"FROM users.addresses \" \"WHERE users.id == addresses.user_id \" \"AND users.name BETWEEN :x AND :y \" \"AND (addresses.email_address LIKE :e1 \" \"OR addresses.email_address LIKE :e2)\")print(conn.execute(s,x='m',y='z',e1=\"%@aoq.com\",e2='@qwe.com').fetchall()) æ³¨æ„ä¸‹æœ€åtext()é‡Œé¢å†™çš„å†…å®¹&quot;&quot;å¼•å·æœ€åè¦æœ‰ç©ºæ ¼,ä¸ä¸‹é¢çš„è¯­å¥åˆ†å‰²å¼€ æ— ç©ºæ ¼çš„æ ·å­: æœ‰ç©ºæ ¼çš„æ ·å­ SQLalchemyå®æˆ˜ åˆ›å»ºåº“è¡¨ï¼š å»ºè®®é€šè¿‡SQLè¯­æ³•æ¥æ–°å»ºï¼Œ è€Œä¸æ˜¯ç”¨ä¸‹é¢çš„init_dbã€drop_dbï¼Œ å› ä¸ºåˆ›å»ºè¡¨éœ€è¦è®¾å®šutf8mb4ï¼Œè€Œç”¨init_dbçš„å­—ç¬¦ç¼–ç æ˜¯latin-1ï¼Œå½“ç„¶è¿™ä¸ªè·Ÿmysqlè®¾å®šä¹Ÿæœ‰å…³ç³» 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# engine = create_engine(\"mysql+pymysql://root:@127.0.0.1:3306/huaneng?charset=utf8mb4\", max_overflow=5, echo=True)engine = create_engine(\"mysql+pymysql://root:@127.0.0.1:3306/huaneng?charset=utf8mb4\", max_overflow=5)Base = declarative_base()# åˆ›å»ºå•è¡¨class QuotationInTime(Base): __tablename__ = 'quotation_intime' id = Column(Integer, primary_key=True) # ä¸»é”® autoincrement=True è‡ªå¢ title = Column(String(128)) date = Column(String(16)) content = Column(Text) proclamation_url = Column(String(2083)) def __repr__(self): return \"QuotationInTime&#123;&#125;: &#123;&#125;-&#123;&#125;\".format(self.id, self.title, self.date)# åˆ›å»ºå•è¡¨class QuotationNotInTime(Base): __tablename__ = 'quotation_notintime' id = Column(Integer, primary_key=True) # ä¸»é”® autoincrement=True è‡ªå¢ title = Column(String(128)) date = Column(String(16)) content = Column(Integer) proclamation_url = Column(String(2083)) def __repr__(self): return \"QuotationInTime&#123;&#125;: &#123;&#125;-&#123;&#125;\".format(self.id, self.title, self.date)# å®šä¹‰åˆå§‹åŒ–æ•°æ®åº“å‡½æ•°def init_db(): Base.metadata.create_all(engine)# é¡¶å›ºåˆ é™¤æ•°æ®åº“å‡½æ•°def drop_db(): Base.metadata.drop_all(engine)# drop_db()# init_db()Session = sessionmaker(bind=engine) # åˆ›å»ºsessionsession = Session() å»ºåº“å»ºè¡¨å¯¹åº”SQL 123456789101112131415161718192021222324252627282930313233343536373839404142434445SET NAMES utf8mb4;SET FOREIGN_KEY_CHECKS = 0;CREATE DATABASE if not EXISTS `huaneng` ;use `huaneng`;-- ------------------------------ Table structure for quotation_intime-- ----------------------------DROP TABLE IF EXISTS `quotation_intime`;CREATE TABLE `quotation_intime` ( `id` int(11) NOT NULL AUTO_INCREMENT, `title` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `date` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `content` LONGTEXT NULL DEFAULT NULL, `proclamation_url` VARCHAR(1024) NULL DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;-- ------------------------------ Records of quotation_intime-- ------------------------------ ------------------------------ Table structure for quotation_notintime-- ----------------------------DROP TABLE IF EXISTS `quotation_notintime`;CREATE TABLE `quotation_notintime` ( `id` int(11) NOT NULL AUTO_INCREMENT, `title` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `date` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `content` LONGTEXT NULL DEFAULT NULL, `proclamation_url` VARCHAR(1024) NULL DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;SET FOREIGN_KEY_CHECKS = 1; ä½¿ç”¨ 1234567891011121314151617181920212223242526272829class SqlUtil: @staticmethod def add(table_name, url, **kwargs): \"\"\" TODO: ç›®å‰åªç”¨äº†ä¸€ä¸ªsql connectionï¼Œ å¯ä»¥åˆ›å»ºå¤šä¸ªè¿æ¥pool :param table_name: è¡¨æ˜ :param url: æ–‡ç« é“¾æ¥ :param kwargs: è¡¨å‚æ•° :return: \"\"\" table_name = table_name.lower() obj = None if table_name == \"in\": obj = QuotationInTime elif table_name == \"notin\": obj = QuotationNotInTime lock.acquire() is_exist = sql_sess.query(obj).filter_by(proclamation_url=url).count() &gt; 0 if not is_exist: insert_obj = obj(**kwargs) sql_sess.add(insert_obj) sql_sess.commit() log.get_log().info(\"&#123;&#125;æ’å…¥æˆåŠŸ~\".format(insert_obj)) else: log.get_log().info(\"&#123;&#125;å·²æŒä¹…åŒ–è¿‡\".format(url)) lock.release()","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://nymrli.top/tags/æ•°æ®åº“/"}]},{"title":"Flaskç³»åˆ—â€“å°†åº”ç”¨éƒ¨ç½²åœ¨Herokuä¸Š","slug":"Flaskç³»åˆ—â€“å°†åº”ç”¨éƒ¨ç½²åœ¨Herokuä¸Š","date":"2018-11-21T07:54:01.000Z","updated":"2019-09-15T08:07:30.936Z","comments":true,"path":"2018/11/21/Flaskç³»åˆ—â€“å°†åº”ç”¨éƒ¨ç½²åœ¨Herokuä¸Š/","link":"","permalink":"https://nymrli.top/2018/11/21/Flaskç³»åˆ—â€“å°†åº”ç”¨éƒ¨ç½²åœ¨Herokuä¸Š/","excerpt":"","text":"Flaskè¡¥å……ç³»åˆ—â€“å°†åº”ç”¨éƒ¨ç½²åœ¨Herokuä¸Š ä¹‹å‰æ›¾ç»ä»‹ç»è¿‡å¦‚ä½•å°†Flaskåº”ç”¨éƒ¨ç½²åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œå¯¹äºæ‰‹å¤´å¹¶ä¸å®½è£•çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œè´­ç½®ä¸€å°æ‰˜ç®¡æœåŠ¡å™¨è¿˜æ˜¯ä¸€ç¬”ä¸å°çš„å¼€é”€ã€‚å³ä¾¿ç°åœ¨æœ‰å…¬æœ‰äº‘æœåŠ¡å™¨å¯ä»¥ä¹°ï¼Œä¸è¿‡å¦‚æœä½ åªæ˜¯ä»¥å­¦ä¹ ä¸ºç›®çš„ï¼Œè¿™ç¬”å¼€é”€è¿˜æ˜¯èƒ½çœåˆ™çœäº†ã€‚å¦å¤–ï¼Œå¦‚æœä½ çš„åº”ç”¨ä¸­éœ€è¦è®¿é—®å›½å¤–è¢«æ²³èŸ¹æ‰çš„èµ„æºï¼Œåœ¨æœåŠ¡å™¨ä¸Šç¿»å¢™ä¹Ÿæ˜¯ä»¶éº»çƒ¦äº‹ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¡¥å……ä¸€ç¯‡å¦‚ä½•å°†Flaskåº”ç”¨éƒ¨ç½²åœ¨Herokuä¸Šã€‚ ç¯å¢ƒå‡†å¤‡ Herokuæ˜¯ä¸€ä¸ªPaaSæœåŠ¡æä¾›å•†ï¼Œä½¿ç”¨å‰ï¼Œä½ éœ€è¦å…ˆæ³¨å†Œä¸€ä¸ªHerokuå¸å·ï¼Œæ³¨å†Œå¸å·æ˜¯å…è´¹çš„ã€‚ æ­¤å¤–ä½ æœ¬åœ°å¿…é¡»è¦æœ‰Python 2.7çš„å¼€å‘ç¯å¢ƒï¼Œå¹¶ä¸”è£…å¥½äº†Pip, Setuptools, Virtualenvç­‰å·¥å…·ã€‚å¯¹äºPythonå¼€å‘è€…æ¥è¯´ï¼Œè¿™äº›éƒ½æ˜¯å¿…å¤‡çš„å§ã€‚æ­¤å¤–Gitå®¢æˆ·ç«¯ä¹Ÿæ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºHerokuçš„ä»£ç ç®¡ç†ç”¨çš„æ˜¯Gitã€‚ Herokuæä¾›äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„Getting Startæ•™ç¨‹ï¼Œæ¯ç§å¼€å‘ç¯å¢ƒéƒ½æœ‰ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€Pythonçš„Getting Startï¼Œç„¶åå‚ç…§å…¶è¯´æ˜åˆ›å»ºä¸€ä¸ªPython Webåº”ç”¨ã€‚æ‡’å¾—çœ‹è‹±æ–‡çš„æœ‹å‹ä»¬ï¼Œå¯ä»¥çœ‹æˆ‘ä¸‹é¢å†™çš„æ­¥éª¤ã€‚ åœ¨å¼€å§‹åˆ›å»ºåº”ç”¨ä¹‹å‰ï¼Œä½ è¿˜éœ€è¦å®‰è£…Herokuçš„å®¢æˆ·ç«¯å·¥å…·ï¼Œä½ å¯ä»¥æ ¹æ®ä½ æœ¬åœ°çš„æ“ä½œç³»ç»Ÿé€‰æ‹©å®‰è£…åŒ…ä¸‹è½½ã€‚è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼ŒåŸºäºRubyå®ç°ï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥æ¯ä¸ªæ“ä½œç³»ç»Ÿéƒ½ä¸€æ ·ã€‚å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼š 1$ heroku --version å¦‚æœå®‰è£…æˆåŠŸï¼Œå°±åœ¨æœ¬åœ°å‘½ä»¤è¡Œé‡Œç™»å½•Herokuï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1$ heroku login å¹¶è¾“å…¥ä½ æ³¨å†Œå·çš„Herokuå¸å·åŠå¯†ç å³å¯ã€‚ åˆ›å»ºåº”ç”¨ ç½‘é¡µåˆ›å»ºåº”ç”¨ ç¯å¢ƒå‡†å¤‡å°±ç»ªäº†ï¼Œæˆ‘ä»¬å¼€å§‹åˆ›å»ºä¸€ä¸ªåº”ç”¨ã€‚æµè§ˆå™¨æ‰“å¼€Herokuåº”ç”¨æ§åˆ¶å°ï¼Œç‚¹å‡»å³ä¸Šè§’çš„â€+â€å·ï¼Œå¹¶é€‰æ‹©â€Create new appâ€ã€‚ åœ¨åˆ›å»ºé¡µé¢ä¸­ï¼Œè¾“å…¥ä½ çš„åº”ç”¨åç§°ï¼Œæ¯”å¦‚â€flask-bjheeâ€ï¼Œå¦‚æœåç§°æ²¡æœ‰è¢«å ç”¨ï¼Œåˆ™ä¼šè·³å‡ºç»¿è‰²æç¤ºâ€flask-bjhee is availableâ€ã€‚è¿è¡Œç¯å¢ƒé»˜è®¤åœ¨ç¾å›½ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ¬§æ´²ã€‚ä¿¡æ¯å¡«å®Œåï¼Œç‚¹å‡»ä¸‹æ–¹çš„â€Create Appâ€æŒ‰é’®ï¼Œåº”ç”¨å°±åˆ›å»ºå®Œæˆäº†ã€‚ æ¥ä¸‹æ¥æ‰“å¼€å‘½ä»¤è¡Œï¼Œæˆ‘ä»¬è¦åˆå§‹åŒ–æœ¬åœ°åŠè¿œç¨‹ä»£ç åº“ï¼š 1234$ mkdir /home/bjhee/flask-bjhee # åˆ›å»ºæœ¬åœ°ä»£ç å·¥ä½œç›®å½•$ cd /home/bjhee/flask-bjhee # åˆ‡æ¢åˆ°æœ¬åœ°ä»£ç å·¥ä½œç›®å½•$ git init # åˆ›å»ºæœ¬åœ°ä»£ç åº“$ heroku git:remote -a flask-bjhee # è¿æ¥è¿œç¨‹Herokuçš„flask-bjheeä»£ç åº“ ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¼–å†™åº”ç”¨ä»£ç ï¼Œå¹¶æäº¤åˆ°Herokuä¸Šå»äº†ã€‚ å‘½ä»¤è¡Œåˆ›å»ºåº”ç”¨ 1234$ heroku create (xxx) #çœç•¥ä¼šè‡ªåŠ¨é»˜è®¤$ git add .$ git commit -m &quot;yyy&quot;$ heroku git:remote -a flask-bjhee éƒ¨ç½²åº”ç”¨ æ—¢ç„¶ä¸»è¦æ˜¯åœ¨è®²éƒ¨ç½²ï¼Œé‚£ä»£ç é€»è¾‘å°±ç®€å•äº›ï¼ŒHello Worldå§ã€‚æˆ‘ä»¬å†™ä¸€ä¸ªFlask Webç¨‹åºâ€run.pyâ€ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123456789from flask import Flaskapp = Flask(__name__) @app.route(&apos;/&apos;)def index(): return &apos;Hello World!&apos; if __name__ == &apos;__main__&apos;: app.run(host=&apos;0.0.0.0&apos;, debug=True) ç„¶åï¼Œæˆ‘ä»¬å°±å†™ä¸ªâ€requirements.txtâ€æ–‡ä»¶ï¼Œåº”ç”¨éƒ¨ç½²æ—¶Herokuè¿œç¨‹ç¯å¢ƒä¼šè‡ªåŠ¨æ‰§è¡Œï¼š 1$ pip install -r requirements.txt æ¥å®‰è£…åº”ç”¨ä¾èµ–çš„åº“ã€‚æˆ‘ä»¬çš„â€requirements.txtâ€æ–‡ä»¶å¦‚ä¸‹ï¼š 12Flask==0.10.1gunicorn==19.4.5 é¡¹ç›®ä¾èµ–Flaskå¾ˆå¥½ç†è§£ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä¾èµ–gunicornå‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬ä¸èƒ½é Flaskè‡ªå¸¦çš„WebæœåŠ¡å™¨æ¥è¿è¡ŒFlaskç¨‹åºï¼Œæ‰€ä»¥gunicornæ˜¯ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚è¿˜è®°å¾—å¦‚ä½•é€šè¿‡Gunicornè¿è¡ŒFlaskåº”ç”¨å—ï¼Ÿå¯¹äºä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬åªéœ€æ‰§è¡Œâ€gunicorn run:appâ€å³å¯ã€‚ç°åœ¨æˆ‘ä»¬è¦å‘Šè¯‰Herokuï¼Œåº”è¯¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ¥è¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ã€‚æ€ä¹ˆåšå‘¢ï¼Œå°±æ˜¯åœ¨é¡¹ç›®æ ¹ç›®å½•é‡Œåˆ›å»ºä¸€ä¸ªâ€Procfileâ€æ–‡ä»¶ï¼Œç„¶åå†™ä¸Šï¼š 1web: gunicorn run:app --log-file - è¿™å°±å‘Šè¯‰Herokuï¼Œå¯åŠ¨Webæ—¶ï¼Œè¦æ‰§è¡Œâ€gunicorn run:app â€“log-file -â€œã€‚åé¢çš„â€â€“log-file -â€œå‚æ•°ï¼Œæ˜¯ä¸ºäº†è®©æ—¥å¿—åªæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºstdoutä¸Šï¼Œå› ä¸ºHerokuä¸æä¾›æˆ‘ä»¬å†™æœ¬åœ°ç£ç›˜çš„åŠŸèƒ½ã€‚ å†æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å†™ä¸€ä¸ªapp.jsonæ¥æè¿°é¡¹ç›®ä¿¡æ¯ï¼Œâ€app.jsonâ€å†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š 1234567&#123; &quot;name&quot;: &quot;Flask sample on Heroku&quot;, &quot;description&quot;: &quot;An example of deploying Flask web app to Heroku.&quot;, &quot;image&quot;: &quot;heroku/python&quot;, &quot;repository&quot;: &quot;https://git.heroku.com/flask-bjhee&quot;, &quot;keywords&quot;: [&quot;python&quot;, &quot;flask&quot; ]&#125; å¦å¤–æ ¹æ®ä¹ æƒ¯ï¼Œæˆ‘ä»¬åº”è¯¥å†™ä¸€ä¸ªâ€README.mdâ€æ¥ç»™ç”¨æˆ·çœ‹ï¼Œâ€.gitignoreâ€æè¿°å“ªäº›æ–‡ä»¶ç±»å‹ä¸éœ€è¦æäº¤åˆ°ä»£ç åº“ä¸­å»ã€‚å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š 1234567flask-bjhee/ â”œ .gitignore â”œ app.json â”œ Procfile â”œ README.md â”œ requirements.txt â”” run.py è®©æˆ‘ä»¬æ‰§è¡Œgitæäº¤å‘½ä»¤ï¼Œæ¥éƒ¨ç½²åˆ°è¿œç¨‹Herokuä¸Šå»å§ï¼š 123$ git add .$ git commit -m &quot;Initialize Project&quot;$ git push heroku master # æäº¤åˆ°è¿œç¨‹masteråˆ†æ”¯ æƒ³çœ‹çœ‹æ•ˆæœï¼Œå‘½ä»¤è¡Œé‡Œè¾“å…¥ï¼š 1$ heroku open å°±ä¼šå¯åŠ¨æµè§ˆå™¨ï¼Œå¹¶æ‰“å¼€åœ°å€â€https://flask-bjhee.herokuapp.com/â€ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥æµè§ˆå™¨è®¿é—®è¿™ä¸ªåœ°å€ã€‚æœ‰æ²¡æœ‰çœ‹åˆ°â€Hello World!â€ï¼Ÿ æœ¬ç¯‡çš„ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ã€‚ éƒ¨åˆ†è½¬è‡ª: æ€è¯šä¹‹é“ â–² æ³¨æ„éƒ¨ç½²çš„æ—¶å€™æœ‰ä¸¤ä¸ªæ–‡ä»¶ä¸èƒ½å°‘,åˆ†åˆ«æ˜¯Procfileå’Œrequestments.txt(åå­—å¿…é¡»å®Œå…¨ä¸€æ ·,æˆ‘å°±æ˜¯æ‹¼é”™äº†ä¸€æ¬¡å’Œå°‘äº†ä¸ªs),å¤±è´¥çš„æŠ¥é”™æƒ…å†µå¦‚å›¾ å®Œæˆåæ˜¯è¿™æ ·çš„.heorkuä¼šè‡ªåŠ¨æ ¹æ®ä½ æä¾›çš„requestments.txtå®‰è£…ç›¸åº”çš„ä¾èµ–åº“ é…ç½®æ•°æ®åº“ç¯å¢ƒã€è¿ç§»æ–‡ä»¶ã€è¡¨ herokuæä¾›äº†è‡ªå·±çš„æ§åˆ¶å°,æ‰“å¼€çš„å‘½ä»¤ä¸ºheroku run bash,ä¹‹åå°±å¯ä»¥åƒåœ¨linuxçš„ç»ˆç«¯ä¸‹ä¸€æ ·æ“ä½œäº† é™¤äº†è¿™ç§æ–¹æ³•è¿˜å¯ä»¥æŒ‡æ˜ä½¿ç”¨herokuå‘½ä»¤,éœ€è¦åšçš„æ˜¯åŠ ä¸Šå‰ç¼€heroku run,å¦‚heroku run python manage.py db init å®˜æ–¹ä»‹ç»ä¸º:(å¦‚å›¾ è‡ªå®šä¹‰åŸŸå 1$ heroku domains:add apollo.nymrli.top â–².æ³¨æ„éœ€è¦è®¤è¯è´¦æˆ·,å¦åˆ™ä¼šå‡ºç°ä¸‹å›¾ç»“æœ å¾…è®¤è¯å¥½å,è¿˜éœ€è¦ç”¨DNSè§£æ,æˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„ä¸‡ç½‘è§£æ,å°†heroku domains:add apollo.nymrli.topåherokuçš„å€¼ç”¨CHAMEè®°å½•è§£æ.ç­‰ä¸ªå‡ ç§’åå°±å¯ä»¥ç”¨apollo.nymrli.topè®¿é—®herokuä¸Šé¢çš„åº”ç”¨ç¨‹åºäº† è¿˜æœ‰ä¸€ä¸ªåšæ³•å‘¢,æ˜¯ç›´æ¥åœ¨herokuç›¸åº”appçš„è®¾ç½®é‡Œé¢è®¾ç½®è‡ªå®šä¹‰åŸŸå,ä½†æ˜¯ç”±äºæ˜¾ç¤ºé—®é¢˜,å®¹æ˜“å¤åˆ¶é”™,å¯¼è‡´æ— æ³•è¢«è§£æçš„é—®é¢˜â€¦å¦‚æœè®¾ç½®å¥½CHAMEè§£æ30ç§’åè¿˜æ˜¯æ— æ³•ç”¨è‡ªå®šä¹‰åŸŸåæ‰“å¼€çš„è¯,çœ‹çœ‹æ˜¯ä¸æ˜¯å€¼å¤åˆ¶é”™äº†. æ‰€ä»¥è¿˜æ˜¯æ¯”è¾ƒå»ºè®®ç”¨å‘½ä»¤heroku domains:add xxxæ¥ç»‘å®š","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"}]},{"title":"äºŒåˆ†æœç´¢é™ä½æ—¶é—´å¤æ‚åº¦","slug":"äºŒåˆ†æœç´¢é™ä½æ—¶é—´å¤æ‚åº¦","date":"2018-11-10T13:36:01.000Z","updated":"2019-09-15T08:07:31.022Z","comments":true,"path":"2018/11/10/äºŒåˆ†æœç´¢é™ä½æ—¶é—´å¤æ‚åº¦/","link":"","permalink":"https://nymrli.top/2018/11/10/äºŒåˆ†æœç´¢é™ä½æ—¶é—´å¤æ‚åº¦/","excerpt":"","text":"äºŒåˆ†æœç´¢é™ä½æ—¶é—´å¤æ‚åº¦ 123456int main()&#123; cin &gt;&gt; n &gt;&gt; m; for(int i=0;i&lt;n;i++) cin &gt;&gt; s[i]; canFit(); return 0;&#125; 1234567891011121314151617#include &lt;iostream&gt;#include &lt;algorithm&gt;#define MAXN 150using namespace std;int n,m,s[MAXN];int ss[MAXN];bool canFit()&#123; int flag = 0; for(int i=0;i&lt;n;i++) for(int j=0;j&lt;n;j++) for(int k=0;k&lt;n;k++) for(int l=0;l&lt;n;l++) if( s[i] + s[j] + s[l] + s[k] == m) flag = true; if(flag) cout &lt;&lt; \"YES\"; else cout &lt;&lt; \"NO\" ;&#125; æ—¶é—´å¤æ‚åº¦ä¸ºO(n^4),åªèƒ½åœ¨nè¾ƒå°çš„æƒ…å†µä¸‹,è‹¥nè¾ƒå¤§,åˆ™TLEâ€¦ æ—¶é—´å¤æ‚åº¦ä¸ºO(n^3log2(n))çš„åšæ³•:ä¸€å±‚äºŒåˆ†æœç´¢ 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;algorithm&gt;#define MAXN 150using namespace std;int n,m,s[MAXN];int ss[MAXN];bool binSearch(int k)&#123; int r=n,l=0; while(l &lt;= r)&#123; int i = (r+l)/2; if ( s[i] == k) return true; else if( s[i] &lt; k) l = i+1; else r= i-1; &#125; return false;&#125;bool canFit()&#123; int flag = 0; for(int i=0;i&lt;n;i++) for(int j=0;j&lt;n;j++) if( binSearch(m-s[i] - s[j] - s[k]) flag = true; if(flag) cout &lt;&lt; \"YES\"; else cout &lt;&lt; \"NO\" ;&#125; O(n^2log2(n))åšæ³•: æ’åºO(n^2log2(n)),å¾ªç¯O(n^2log2(n)),æ€»å…±ä¹Ÿæ˜¯O(n^2log2(n)) 1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;#include &lt;algorithm&gt;#define MAXN 150using namespace std;int n,m,s[MAXN];int ss[MAXN];bool binSearch(int k)&#123; int l=0,r=n*n; while(l &lt;= r)&#123; int i = (r+l)/2; if ( s[i] == k) return true; else if( s[i] &lt; k) l = i+1; else r= i-1; &#125; return false;&#125;void enumeration()&#123; for(int i=0;i&lt;n;i++) for(int j=0;j&lt;n;j++) ss[i*n+j] = s[i] + s[j];&#125;bool canFit()&#123; enumeration(); sort(ss,ss+n*n); //äºŒåˆ†æœç´¢çš„å‰ææ˜¯æœ‰åº int flag = 0; for(int i=0;i&lt;n;i++) for(int j=0;j&lt;n;j++) if( binSearch(m- s[i] - s[j] )) flag = true; if(flag) cout &lt;&lt; \"YES\"; else cout &lt;&lt; \"NO\" ;&#125; â–²éœ€è¦æ³¨æ„çš„æ˜¯,ss[n*n]çš„æ•°ç»„éœ€è¦å…ˆæ’åºæ‰èƒ½ä½¿ç”¨äºŒåˆ†æœç´¢ ----å‡ºè‡ª:&lt;&lt;æŒ‘æˆ˜ç¨‹åºè®¾è®¡ç«èµ›&gt;&gt;","categories":[],"tags":[{"name":"ACM","slug":"ACM","permalink":"https://nymrli.top/tags/ACM/"},{"name":"C++","slug":"C","permalink":"https://nymrli.top/tags/C/"}]},{"title":"matplotlib.pyplotä½¿ç”¨","slug":"matplotlib-pyplotä½¿ç”¨","date":"2018-11-10T04:58:51.000Z","updated":"2019-12-11T14:11:12.354Z","comments":true,"path":"2018/11/10/matplotlib-pyplotä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2018/11/10/matplotlib-pyplotä½¿ç”¨/","excerpt":"","text":"matplotlib.pyplotä½¿ç”¨ æ³¨é‡Š 1234567891011121314151617181920212223242526272829303132333435## æ–¹æ³•ä¸€####################for x_value,y_value in zip(x,y): plt.text(x_value,y_value,y_value,fontsize= 15) #æ–‡å­—æ ‡æ³¨(x,y,å€¼)###################### æ–¹æ³•äºŒ####################for xy in zip(x, y): plt.annotate(\"(%s,%s)\" % xy, xy=xy, xytext=(-20, 10), textcoords='offset points') x0 = 1y0 = 2* x0plt.annotate(r'$&#123;&#125;+&#123;&#125;=&#123;&#125;$'.format(x0,x0,y0),xy=(x0,y0),xycoords='data',xytext=(+30,-30),textcoords = 'offset points', fontsize=16,arrowprops=dict( arrowstyle='-&gt;', connectionstyle='arc3,rad=.2' ))##################### æ·»åŠ æ³¨é‡Š(annotate),å‚æ•°è¯´æ˜plt.annotate(r'$2x+1=&#123;&#125;$'.format(y),xy=(x,y),xycoords='data',xytext=(+30,-30),textcoords = 'offset points',fontsize=16, arrowprops=dict( arrowstyle='-&gt;', connectionstyle='arc3,rad=.2') )# ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ³¨é‡Šçš„å†…å®¹# xyè®¾ç½®ç®­å¤´å°–çš„åæ ‡# xytextè®¾ç½®æ³¨é‡Šå†…å®¹æ˜¾ç¤ºçš„èµ·å§‹ä½ç½®# arrowprops ç”¨æ¥è®¾ç½®ç®­å¤´# facecolor è®¾ç½®ç®­å¤´çš„é¢œè‰²# headlength ç®­å¤´çš„å¤´çš„é•¿åº¦# headwidth ç®­å¤´çš„å®½åº¦# width ç®­èº«çš„å®½åº¦ åæ ‡è½´è½¬ç§» 1234567ax = plt.gca()ax.spines[&apos;right&apos;].set_color(&apos;none&apos;)ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)ax.xaxis.set_ticks_position(&apos;bottom&apos;)ax.spines[&apos;bottom&apos;].set_position((&apos;data&apos;,0))ax.yaxis.set_ticks_position(&apos;left&apos;)ax.spines[&apos;left&apos;].set_position((&apos;data&apos;,0)) å›¾å½¢ç±»å‹ æ•£åˆ—å›¾ ax1.scatter(x,y,c = 'r',marker = 'o') æŠ˜çº¿å›¾plt.plot() ç›´æ–¹å›¾plt.hist() æ¡å½¢å›¾plt.bar(left=index,height=y,color='green',width=0.5) é¥¼çŠ¶å›¾:plt.pie(x=fracs,labels=labels,autopct='%.0f%%',explode=explode)#autopctæ˜¾ç¤ºç™¾åˆ†æ¯” ç®±å½¢å›¾plt.boxplot(data,labels=labels) ç­‰é«˜çº¿ plt.contourf(X,Y,f(X,Y),8,alpha = .75,cmap = plt.cm.hot) scatteråŸºæœ¬çš„ç”¨æ³• æ¡å½¢å›¾ 123456789fig = plt.figure(dpi=256, figsize=(10, 8))plt.plot(U,I,&apos;r*&apos;)plt.xlabel(&apos;U(V)&apos;,fontsize=10)plt.ylabel(&apos;I(10e-9A)&apos;,fontsize=10)plt.title(&apos;The line chart of the relation between U and I&apos;,fontsize=15)plt.ylim(0,max(I)+0.5)x = np.linspace(0,max(I)+0.5,40)plt.yticks(x,fontsize=6) çº¿æ¡é€‰é¡¹ 12plt.plot(x,y,&apos;r*&apos;) # é»˜è®¤ä¸ºè“è‰²# ç­‰ä»·äºplt.plot(x,y,color= &apos;r&apos;, marker =&apos;*&apos;) æ•£ç‚¹å›¾ 12345678n =100X = np.random.normal(0,10,n)Y = np.random.normal(0,10,n)T = np.arctan2(Y,X)plt.scatter(X,Y,c= T,s=6)plt.xticks(())plt.yticks(())plt.show() æŸ±çŠ¶å›¾ 1234567891011121314n=12X=np.arange(n)Y1=(1-X/float(n))*np.random.uniform(0.5,1.0,n)Y2=(1-X/float(n))*np.random.uniform(0.5,1.0,n)plt.bar(X,+Y1,facecolor='#9999ff',edgecolor='white')plt.bar(X,-Y2,facecolor='#ff9999',edgecolor='white')for x,y in zip(X,Y1): plt.text(x+0,y+0.05,\"%.2f\" %y,ha='center',va='bottom') # horizontal alignment , vertical alignmentplt.xlim(-.5,n)plt.xticks(())plt.ylim(-1.25,1.25)plt.yticks(())plt.show() ç­‰é«˜çº¿ 123456789101112def f(x,y): # return 1 + 1/x**3 + y**5 return (1-x/2+x**5+y**3)*np.exp(-x**2-y**2)n = 256x = np.linspace(-3,3,n)y = np.linspace(-3,3,n)X,Y = np.meshgrid(x,y)plt.contourf(X,Y,f(X,Y),8,alpha = .75 , cmap = plt.cm.hot)C = plt.contour(X,Y,f(X,Y),8,colors = &apos;black&apos;)plt.clabel(C,inline = True,fontsize = 10) å›¾ä¾‹ 123l1 , = plt.plot(x,y,linestyle= '--',color = 'red',linewidth=2.0)# è¿”å›å€¼ä¸ºä¸€ä¸ªå…ƒç»„plt.legend(handles=[l1],labels = ['les'],loc='best') 3Då›¾å½¢ 1234567891011121314from matplotlib import pyplot as pltimport numpy as npfrom mpl_toolkits.mplot3d import Axes3Dfig = plt.figure()ax = Axes3D(fig)x = np.linspace(-4,4,50)y = np.linspace(-4,4,50)X,Y = np.meshgrid(x,y)R = np.sqrt(X**2 + Y**2)Z = np.sin(R)ax.plot_surface(X,Y,Z,rstride=1,cstride=1,cmap = plt.get_cmap('rainbow'))ax.contour(X,Y,Z,zdir='x',offset = -5)#ç”»ç­‰é«˜çº¿å›¾,å¾€å“ªä¸ª(x)è½´å‹ç¼©,åˆ°x=-5ä½ç½®plt.show() åˆ†æ ¼ç”»å­å›¾ 123456789101112131415161718192021# method 1: subplot2grid##########################plt.figure()axl=plt. subplot2grid((3,3),(0,0), colspan=3, rowspan=1)# ä¸‰è¡Œä¸‰åˆ—, ä»æºç‚¹(0,0)å¼€å§‹ç”»,ç¬¬ä¸€å¼ å›¾å ä¸€è¡Œä¸‰åˆ—axl.plot([1,2],[1,2])ax1.set_title('xxx')# åŸæ¥plt.title()è®¾ç½®çš„æ–¹æ³•,ç°åœ¨éƒ½å˜æˆäº†ax?.set_xxx,å¤šäº†å‰ç¼€set_ax2=plt. subplot2grid((3,3),(1,0), colspan=2,)ax3=plt. subplot2grid((3,3),(1,2), rowspan=2)ax4=plt. subplot2grid((3,3),(2,0) #method 2 :gridspec import matplotlib.gridspec as gridspeccplt.figure()gs=gridspec.GridSpec(3,3)ax1=plt.subplot(gs[0, :])ax2=plt.subplot(gs[1, :2])ax3=plt.subplot(gs[1: ,2])ax4=plt.subplot(gs[-1,0])ax5=plt.subplot(gs[-1,-2]) é™„å½•: æ¸©ä¹ æºè‡ªWeiboSpider 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273class Cgraph(object): def __init__(self): self.db = db self.create_dir() self.Start_timestmp = time.mktime(time.strptime('2018-7-5 00:00','%Y-%m-%d %H:%M')) def judge_over(self, _time): # start_time is timestamp ''' åˆ¤æ–­æ—¶é—´æ˜¯å¦å·²ç»è¶…è¿‡é¢„è®¾æ—¶é—´ :param Start_timestmp: :param _time: :return: ''' timestamp = time.mktime(time.strptime(_time, '%Y-%m-%d %H:%M')) # Start_timestamp = time.mktime(time.strptime(Start_time,'%Y-%m-%d %H:%M')) if timestamp - self.Start_timestmp &lt; 0: return True else: return False def create_dir(self): if not os.path.isdir('.\\\\graph'): os.makedirs('.\\\\graph') def count(self,lists): exist_dict = OrderedDict() for x in lists: if x not in exist_dict: exist_dict[x] = 1 else: exist_dict[x] += 1 return dict(sorted(exist_dict.items(),key=lambda x:x[0])) def unify_time(self,_time): c = _time.split('-') _time = '-'.join(['0' + x if len(x.strip()) == 1 else x for x in c]) if _time[:4] == '2018': _time = _time[5:10] return _time[:10] def Draw(self): timelist = [] for alls in self.db.find(): if alls.get('time'): print(alls.get('time')) timelist.append(self.unify_time(alls.get('time'))) infodict = self.count(timelist[::-1]) plt.figure(figsize=(40, 18)) #è®¾ç½®å›¾ç‰‡å¤§å° # plt.rcParams['figure.figsize'] = (40.0, 12.0) è®¾ç½®å›¾ç‰‡å¤§å°çš„å¦å¤–ä¸€ç§æ–¹æ³• # plt.rcParams['figure.dpi'] = 400 x = list(infodict.keys()) y = list(infodict.values()) plt.plot(x,y,linewidth=2,color='r',marker='o',markersize=8) for x_value,y_value in zip(x,y): plt.text(x_value,y_value,y_value,fontsize= 15) #æ–‡å­—æ ‡æ³¨(x,y,å€¼) plt.ylim((0, max(y))) #çºµåæ ‡yçš„ä¸Šä¸‹é™ plt.yticks([x for x in range(0,max(y)+10,10)]) #yçš„æ¯”ä¾‹å°º plt.xlabel('Time') plt.ylabel('Keyword times') #yè½´çš„æ ‡ç­¾ plt.title('Weibo Keyword\\'s Trendency') #å›¾çš„æ ‡é¢˜ plt.savefig('.\\\\graph\\\\&#123;&#125;.jpg'.format(TABLE)) #ä¿å­˜å›¾ç‰‡ plt.clf()if __name__ == '__main__': graph = Cgraph() graph.Draw() print('å®Œæˆ') ä½¿ç”¨:å¤§ç‰©å®éªŒç”»æŠ˜çº¿å›¾ 12345678910111213141516171819202122232425262728293031323334import csvfrom matplotlib import pyplot as pltimport osimport numpy as npI = []U = []def extractFromCsv(filename): with open(filename,'r') as f: reader = csv.reader(f) for row in reader: if reader.line_num == 1: #è·³è¿‡è¡¨å¤´ continue U.append(float(row[0])) I.append((float(row[1])))def drawPic(filename): fig = plt.figure(dpi=256, figsize=(10, 8)) plt.plot(U,I,'r*') plt.xlabel('U(V)',fontsize=10) plt.ylabel('I(10e-9A)',fontsize=10) plt.title('The line chart of the relation between U and I',fontsize=15) plt.ylim(0,max(I)+0.5) x = np.linspace(0,max(I)+0.5,40) plt.yticks(x,fontsize=6) if not os.path.exists(\".\\\\graph\"): os.mkdir('.\\\\graph') plt.savefig('.\\\\graph\\\\&#123;&#125;.jpg'.format(filename))if __name__ == \"__main__\": filename='phy.csv' extractFromCsv(filename) drawPic(filename) å‚è€ƒ: matplotlib ç”»å›¾é¢œè‰²å‚æ•°å€¼åŠå¯¹åº”è‰²å¡ matplotlibç»˜å›¾æ€»ç»“â€”â€”å¯¹ç”»å›¾å¥æŸ„çš„æ“ä½œ matplotlibä¸­plt.scatter()å‚æ•°è¯¦è§£â€”â€”å¾ˆè¯¦ç»†","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"aptä»£ç†çš„è®¾ç½®","slug":"aptä»£ç†çš„è®¾ç½®","date":"2018-11-10T04:56:53.000Z","updated":"2019-09-15T08:07:30.919Z","comments":true,"path":"2018/11/10/aptä»£ç†çš„è®¾ç½®/","link":"","permalink":"https://nymrli.top/2018/11/10/aptä»£ç†çš„è®¾ç½®/","excerpt":"","text":"åŸå› æ˜¯åœ¨apt-get updateæ—¶é‡åˆ°äº†Unable to connect to ä»£ç†ï¼Œï¼ˆç”±äºapt-get updateä¸€ç›´æ˜¾ç¤ºæ— æ³•è¿æ¥172.17.18.141ç™¾åº¦åå‘ç°å¹¶ä¸æ˜¯ä¸ªç‰¹æ®Šçš„IP,ï¼‰äºæ˜¯æƒ³åˆ°æ˜¯å¦ä½¿ç”¨äº†ä»£ç†ã€‚ aptä»£ç†çš„è®¾ç½®ï¼š ä¸´æ—¶æ–¹æ³• export http_proxy=http://10.3.0.1:80 é•¿ä¹…æ–¹æ³• (1) éœ€è¦åœ¨/etc/apt/apt.confä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š (å¦‚æœæ‚¨å¸Œæœ›apt-get(è€Œä¸æ˜¯å…¶ä»–åº”ç”¨ç¨‹åº)ä¸€ç›´ä½¿ç”¨httpä»£ç†,æ‚¨å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚) Acquire::http::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; Acquire::ftp::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; Acquire::https::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; ä¿å­˜apt.confæ–‡ä»¶ã€‚ (2)æ–°å»ºä¸€ä¸ªä»£ç†é…ç½®æ–‡ä»¶,åœ¨apt-get æ—¶ä½¿ç”¨é…ç½®,15.10å¯ç”¨(é’ˆå¯¹éœ€è¦ä¸‹è½½çš„å•ä¸ªä¸åŒæ–‡ä»¶) å»ºç«‹æ–‡ä»¶ vim proxyfile Acquire::http::proxy &quot;http://10.3.0.1:80&quot;; Acquire::ftp::proxy &quot;http://10.3.0.1:80&quot;; Acquire::https::proxy &quot;http://10.3.0.1:80&quot;; ä½¿ç”¨æ—¶sudo apt-get install xxx -c proxyfile (2)åœ¨ä¸»ç›®å½•ä¸‹çš„.bashrcæ–‡ä»¶ä¸­æ·»åŠ ä¸¤è¡Œã€‚(å¦‚æœæ‚¨å¸Œæœ›apt-getå’Œå…¶ä»–åº”ç”¨ç¨‹åºå¦‚wgetç­‰éƒ½ä½¿ç”¨httpä»£ç†,æ‚¨å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚ ) åœ¨æ‚¨çš„.bashrcæ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ export http_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ export https_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ export ftp_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ https://blog.csdn.net/qq3399013670/article/details/81300497","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://nymrli.top/tags/Ubuntu/"}]},{"title":"Ubuntuæ›´æ”¹nginxé»˜è®¤ç«¯å£","slug":"Ubuntuæ›´æ”¹nginxé»˜è®¤ç«¯å£","date":"2018-11-10T04:55:13.000Z","updated":"2019-09-15T08:07:31.011Z","comments":true,"path":"2018/11/10/Ubuntuæ›´æ”¹nginxé»˜è®¤ç«¯å£/","link":"","permalink":"https://nymrli.top/2018/11/10/Ubuntuæ›´æ”¹nginxé»˜è®¤ç«¯å£/","excerpt":"","text":"Ubuntuæ›´æ”¹nginxé»˜è®¤ç«¯å£ nginx é»˜è®¤ä½¿ç”¨80ç«¯å£ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›nginxè¿è¡Œåœ¨å…¶ä»–ç«¯å£ï¼Œå°±éœ€è¦æ›´æ”¹nginxé…ç½® nginxé…ç½®æ–‡ä»¶åœ¨/etc/nginxç›®å½•ä¸‹çš„nginx.confã€‚(å¯ä»¥ä¿®æ”¹å¤„ç†å™¨æ•°é‡ã€æ—¥å¿—è·¯å¾„ã€pidæ–‡ä»¶è·¯å¾„ç­‰ï¼Œé»˜è®¤çš„æ—¥å¿—ã€‚) é”™è¯¯æ—¥å¿— /var/log/nginx/error.log è®¿é—®æ—¥å¿— /var/log/nginx/access.log åœ¨nginx.conf-&gt;httpé€‰é¡¹æœ«å°¾æœ‰å¼•å…¥ä¸¤ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åˆ†åˆ«ä¸ºï¼š 123456[/etc/nginx/nginx.conf]http &#123; # çœç•¥éƒ¨åˆ†å†…å®¹ include /etc/nginx/conf.d/*.conf; #æ„æ€æ˜¯æŠŠç”¨æˆ·è‡ªå·±çš„é…ç½®æ”¾åˆ°conf.d/* include /etc/nginx/sites-enabled/*;&#125; æŸ¥çœ‹/etc/nginx/sites-enabled/ç›®å½•ï¼Œä¼šæ‰¾åˆ°ä¸€ä¸ªdefaultæ–‡ä»¶ï¼Œåœ¨serveré€‰é¡¹ä¸‹å‰ä¸¤è¡Œå°±å¯ä»¥æ‰¾åˆ°ä½¿ç”¨çš„80ç«¯å£å·ï¼š 1234[/etc/nginx/sites-enabled/default]server &#123; listen 80 default_server; listen [::]:80 default_server; å°†80ç«¯å£å·æ”¹ä¸ºæƒ³ä½¿ç”¨çš„ç«¯å£å·ï¼Œä¿å­˜æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å¯åŠ¨nginxï¼Œå¯åŠ¨å³å¯ã€‚å¦‚æœnginxå·²ç»åœ¨è¿è¡Œï¼Œé‡æ–°åŠ è½½å³å¯ã€‚ 12sudo nginx start #è¿è¡Œnginxsudo nginx -s reload #é‡å¯nginx **å¦‚æœé‡åˆ°nginxæŠ¥ä»¥ä¸‹é”™è¯¯ï¼šnginx: [error] open() &quot;/run/nginx.pid&quot; failed (2: No such file or directory)åˆ™sudo nginx -c path/*.conf #æŒ‡å®šnginxé…ç½®*.confçš„ä½ç½®** **æŸ¥çœ‹nginxè¿è¡Œçš„ç«¯å£sudo netstat -anp | grep nginx** â–²å¦‚æœå¯ç”¨é˜²ç«å¢™ï¼Œåˆ™éœ€å¼€å¯å¯¹åº”ç«¯å£ï¼Œä½¿ç”¨AWSæœåŠ¡å™¨éœ€è¦æ›´æ”¹æœåŠ¡å™¨å®‰å…¨ç»„ï¼Œæ·»åŠ å“åº”å…¥ç«™è§„åˆ™ï¼Œå¼€å¯å¯¹åº”ç«¯å£ã€‚","categories":[],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://nymrli.top/tags/Ubuntu/"}]},{"title":"Pythonanywhereè§£å†³é“¾æ¥Mysqlé—®é¢˜(éƒ¨ç½²flask)","slug":"Pythonanywhereè§£å†³é“¾æ¥Mysqlé—®é¢˜-éƒ¨ç½²flask","date":"2018-11-10T04:54:14.000Z","updated":"2019-09-15T08:07:30.978Z","comments":true,"path":"2018/11/10/Pythonanywhereè§£å†³é“¾æ¥Mysqlé—®é¢˜-éƒ¨ç½²flask/","link":"","permalink":"https://nymrli.top/2018/11/10/Pythonanywhereè§£å†³é“¾æ¥Mysqlé—®é¢˜-éƒ¨ç½²flask/","excerpt":"","text":"Pythonanywhereè§£å†³é“¾æ¥Mysqlé—®é¢˜(éƒ¨ç½²flask) ç”±äºåœ¨bashæ§åˆ¶å°é‡Œé€šè¿‡å‘½ä»¤mysql -p(è¿™å…¶å®æ˜¯å› ä¸ºé”™è¯¯çš„è¿æ¥æ–¹å¼,ç”±äºä¸æ˜¯é»˜è®¤çš„ç«¯å£3306,è‡ªç„¶è¿æ¥ä¸åˆ°,å®˜æ–¹æ–‡æ¡£ä¸­æœ‰æ­£ç¡®çš„è¿æ¥æ–¹å¼)é“¾æ¥ä¸åˆ°Mysqlæ—¶,å†åŠ ä¸Šè¿›è™šæ‹Ÿç¯å¢ƒç”¨python manage db migrateä¹Ÿå¤±è´¥å,æˆ‘æ˜¯å¼‚å¸¸æ…Œå¼ çš„â€¦ç„¶åç«‹é©¬å‘ç°å…³äºpythonanywhereé“¾æ¥Mysqlçš„è§£å†³ä¸æ˜¯å¾ˆå¤š,è¦ä¹ˆå°±æ˜¯è¯´å…è´¹è´¦å·æ˜¯æ— æ³•ç”¨çš„â€¦å¿ƒé¡¿æ—¶æ‹”å‡‰,ä½†æœ€åè¿˜æ˜¯æ‰¾åˆ°äº†pythonanywhereå®˜æ–¹çš„æ–‡æ¡£,è§£å†³äº†è¿™ä¸ªé—®é¢˜,å‘ç°éƒ½æ˜¯é…ç½®çš„é—®é¢˜ ä¸€å¼€å§‹çš„æˆ‘æœ¬åœ°åŠé˜¿é‡Œäº‘é“¾æ¥mysqlæ•°æ®åº“é…ç½®æ–‡ä»¶æ˜¯è¿™æ ·å†™çš„: 1234567891011121314#[config.py]DIALECT = 'mysql'DRIVER = 'pymysql'USERNAME = 'root'PASSWORD = 'zxcqwe' #çå†™çš„HOST = '127.0.0.1'PORT = '3306'DATABASE = 'restaurant'DEBUG = TrueSQLALCHEMY_DATABASE_URI = \"&#123;&#125;+&#123;&#125;://&#123;&#125;:&#123;&#125;@&#123;&#125;:&#123;&#125;/&#123;&#125;?charset=utf8\".format( DIALECT,DRIVER,USERNAME,PASSWORD,HOST,PORT,DATABASE)SQLALCHEMY_TRACK_MODIFICATIONS = False åæ¥æ ¹æ®è¯´æ˜æ”¹æˆäº†å¦‚ä¸‹: 123456789101112#[config.py]DIALECT = 'mysql'DRIVER = 'pymysql'USERNAME = 'nymrli'PASSWORD = 'zxcqwe' #çå†™çš„HOST = 'nymrli.mysql.pythonanywhere-services.com'PORT = '3306'DATABASE = 'nymrli$restaurant'DEBUG = TrueSQLALCHEMY_DATABASE_URI = \"&#123;&#125;+&#123;&#125;://&#123;&#125;:&#123;&#125;@&#123;&#125;:&#123;&#125;/&#123;&#125;?charset=utf8\".format( DIALECT, DRIVER, USERNAME, PASSWORD, HOST, PORT, DATABASE)SQLALCHEMY_TRACK_MODIFICATIONS = False å…¶ä¸­ä¿®æ”¹çš„åœ°æ–¹ä¸º USERNAMEä¸ºpythonanywhereè´¦å· PASSWORDä¸ºDatabaseè¯¦æƒ…é¡µè®¾ç½®çš„æ•°æ®åº“å¯†ç  HOSTä¸ºDatabaseè¯¦æƒ…é¡µä¸Šçš„Database host address DATABASEä¸ºDatabaseè¯¦æƒ…é¡µä¸Š create a databaseçš„æ•°æ®åº“å,ä½†pythonanywhereä¼šè‡ªåŠ¨ç»™ä½ åŠ ä¸Šå‰ç¼€&lt;username&gt;$&lt;database_name&gt;,æ‰€ä»¥æˆ‘è¿™è¾¹å°±æ˜¯nymrli$restaurant PORTé»˜è®¤è¿˜æ˜¯3306 é™„ä¸Šå®˜æ–¹æ–‡æ¡£: é…ç½®è¯´æ˜: å¼€å§‹ä½¿ç”¨MySQL,æ‚¨éœ€è¦å»åœ¨ä»ªè¡¨æ¿çš„MySQLé€‰é¡¹å¡,å¹¶è®¾ç½®ä¸€ä¸ªå¯†ç ã€‚ä½ ä¹Ÿä¼šæ‰¾åˆ°è¿æ¥è®¾ç½®é€‰é¡¹å¡(ä¸»æœºåã€ç”¨æˆ·å),ä»¥åŠåˆ›å»ºæ–°çš„æ•°æ®åº“çš„èƒ½åŠ›ã€‚ ä½ å¯ä»¥å¼€å§‹ä¸€ä¸ªæ–°çš„MySQLæ§åˆ¶å°è®¿é—®æ•°æ®åº“ä»è¿™ä¸ªé€‰é¡¹å¡,æˆ–è€…æ‚¨å¯ä»¥æ‰“å¼€ä¸€ä¸ªMySQLä»bash shellä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ§åˆ¶å°æˆ–sshä¼šè¯: mysql -u USERNAME -h HOSTNAME -p 'USERNAME$DATABASENAME' [Using MySQL](https://help.pythonanywhere.com/pages/UsingMySQL/) é€šè¿‡SSHé“¾æ¥,æ®è¯´å…è´¹è´¦æˆ·ä¸æ”¯æŒ: 12345678910Setting ValueSSH Hostname: ssh.pythonanywhere.comSSH Username: your PythonAnywhere usernameSSH Password: the password you use to log in to the PythonAnywhere websiteSSH Key file: should not be necessary when you specify the passwordMySQL Hostname: your PythonAnywhere database hostname, eg. yourusername.mysql.pythonanywhere-services.comMySQL Server Port: 3306Username: your PythonAnywhere usernamePassword: your PythonAnywhere database passwordDefault Schema: your database name, eg yourusername$mydatabase Accessing your MySQL database from outside PythonAnywhere","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"MySQL","slug":"MySQL","permalink":"https://nymrli.top/tags/MySQL/"}]},{"title":"å†™çˆ¬è™«è¿‡ç¨‹ä¸­ç¢°åˆ°çš„ç¼–ç é—®é¢˜","slug":"å†™çˆ¬è™«è¿‡ç¨‹ä¸­ç¢°åˆ°çš„ç¼–ç é—®é¢˜","date":"2018-11-08T04:23:19.000Z","updated":"2019-09-15T08:07:31.030Z","comments":true,"path":"2018/11/08/å†™çˆ¬è™«è¿‡ç¨‹ä¸­ç¢°åˆ°çš„ç¼–ç é—®é¢˜/","link":"","permalink":"https://nymrli.top/2018/11/08/å†™çˆ¬è™«è¿‡ç¨‹ä¸­ç¢°åˆ°çš„ç¼–ç é—®é¢˜/","excerpt":"","text":"å†™çˆ¬è™«è¿‡ç¨‹ä¸­ç¢°åˆ°çš„ç¼–ç é—®é¢˜ é‡åˆ° â€™ \\uxxxx â€™ çš„16è¿›åˆ¶å­—ç¬¦ä¸²ç¼–è§£ç é—®é¢˜ï¼Œä½¿ç”¨unicode-escapeè§£å†³ä¹‹ã€‚ å®é™…ä¸Šï¼Œåœ¨å°†unicodeå­˜å‚¨åˆ°æ–‡æœ¬çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜æœ‰ä¸€ç§å­˜å‚¨æ–¹å¼ï¼Œä¸éœ€è¦å°†unicodeè½¬æ¢ä¸ºå®é™…çš„æ–‡æœ¬å­˜å‚¨å­—ç¬¦é›†ï¼Œè€Œæ˜¯å°†unicodeçš„å†…å­˜ç¼–ç å€¼è¿›è¡Œå­˜å‚¨ï¼Œè¯»å–æ–‡ä»¶çš„æ—¶å€™å†åå‘è½¬æ¢å›æ¥ï¼Œæ˜¯é‡‡ç”¨ï¼šunicode-escapeçš„è½¬æ¢æ–¹å¼ã€‚ å°†unicodeçš„å†…å­˜ç¼–ç å€¼è¿›è¡Œå­˜å‚¨ï¼Œè¯»å–æ–‡ä»¶æ—¶åœ¨åå‘è½¬æ¢å›æ¥ã€‚è¿™é‡Œå°±é‡‡ç”¨äº†unicode-escapeçš„æ–¹å¼ 12345678print(u&apos;ä¸­æ–‡æµ‹è¯•&apos;.encode(&apos;utf-8&apos;))print(&apos;ä¸­æ–‡æµ‹è¯•&apos;.encode(&apos;utf-8&apos;))print(u&apos;ä¸­æ–‡æµ‹è¯•&apos;.encode(&apos;unicode-escape&apos;))print(&apos;ä¸­æ–‡æµ‹è¯•&apos;.encode(&apos;unicode-escape&apos;))==&gt; b&apos;\\xe4\\xb8\\xad\\xe6\\x96\\x87\\xe6\\xb5\\x8b\\xe8\\xaf\\x95&apos;==&gt; b&apos;\\xe4\\xb8\\xad\\xe6\\x96\\x87\\xe6\\xb5\\x8b\\xe8\\xaf\\x95&apos;==&gt; b&apos;\\\\u4e2d\\\\u6587\\\\u6d4b\\\\u8bd5&apos;==&gt; b&apos;\\\\u4e2d\\\\u6587\\\\u6d4b\\\\u8bd5&apos; ASCIIç åªæœ‰128ä¸ªå­—ç¬¦ï¼Œç¬¦åˆè‹±æ–‡ï¼Œä¸€ä¸ªè‹±æ–‡å­—ç¬¦åªç”¨1ä¸ªå­—èŠ‚(æœ€é«˜ä½æ’ä¸º0) ANSIï¼šé¢å‘ä¸­æ–‡ç¼–ç çš„GBKã€GB2312æ˜¯ANSIç çš„ä¸€ç§ï¼ŒANSIç æ˜¯å¯¹ASCIIçš„æ‹“å±•ï¼Œæ‰€ä»¥ä¸€ä¸ªè‹±æ–‡åªç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œä¸­æ–‡éœ€è¦æ‹“å±•ASCIIï¼Œæ‰€ä»¥ç”¨åˆ°ä¸¤ä¸ªå­—èŠ‚ã€‚ 0x80~0xFFFF =&gt;2**16 Unicodeç¼–ç :ä¸ºäº†è§£å†³ä¸åŒå›½å®¶ANSIç¼–ç çš„å†²çªé—®é¢˜ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ ã€‚ä½†æ˜¯è¿™æ ·çš„è¯ï¼ŒåŸæœ¬å¯ä»¥ç”¨ä¸€ä¸ªå­—èŠ‚å­˜å‚¨çš„è‹±æ–‡å­—æ¯åœ¨Unicodeé‡Œé¢å¿…é¡»å­˜ä¸¤ä¸ªå­—èŠ‚ï¼Œè¿™å°±äº§ç”Ÿäº†æµªè´¹ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ—¢èƒ½æ¶ˆé™¤ä¹±ç ï¼Œåˆèƒ½é¿å…æµªè´¹çš„ç¼–ç æ–¹å¼å‘¢ï¼Ÿ===&gt;ç­”æ¡ˆå°±æ˜¯UTF-8 ã€‚000000 -10FFFF 12&gt; UNICODE çš„èŒƒå›´æ˜¯ 0x0000 - 0xFFFF å…±6ä¸‡å¤šä¸ªå­—ç¬¦ï¼Œå…¶ä¸­å…‰æ±‰å­—å°±å ç”¨äº†4ä¸‡å¤šä¸ª&gt; UTF-8ç¼–ç ï¼šå½“å­—ç¬¦åœ¨ASCIIç çš„èŒƒå›´æ—¶ï¼Œå°±ç”¨ä¸€ä¸ªå­—èŠ‚è¡¨ç¤º ï¼Œæ‰€ä»¥è‹±æ–‡å­—ç¬¦ä¹Ÿåªç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œâ–²å€¼å¾—æ³¨æ„çš„æ˜¯unicodeç¼–ç ä¸­ä¸€ä¸ªä¸­æ–‡å­—ç¬¦å 2ä¸ªå­—èŠ‚ï¼Œè€ŒUTF-8ä¸€ä¸ªä¸­æ–‡å­—ç¬¦å 3ä¸ªå­—èŠ‚ã€‚ä»unicodeåˆ°uft-8å¹¶ä¸æ˜¯ç›´æ¥çš„å¯¹åº”ï¼Œè€Œæ˜¯è¦è¿‡ä¸€äº›ç®—æ³•å’Œè§„åˆ™æ¥è½¬æ¢ã€‚utf-8é•¿åº¦æ˜¯1-6ä¸ªå­—èŠ‚ ï¼ˆå¯å˜çš„ï¼‰ Unicodeç¼–ç (åå…­è¿›åˆ¶) UTF-8 å­—èŠ‚æµ(äºŒè¿›åˆ¶) 000000-00007F 0xxxxxxx 000080-0007FF 110xxxxx 10xxxxxx 000800-00FFFF 1110xxxx 10xxxxxx 10xxxxxx 010000-10FFFF 11110xxx 10xxxxxx 10xxxxxx10xxxxxx è¶…å‡º10FFFFåï¼ŒUTF-8ä¸Unicodeä¸å†å¯¹åº” æ€»ç»“ï¼š UTF-8 vs GBKï¼š UTF-8ç‰ˆæœ¬è™½ç„¶å…·æœ‰è‰¯å¥½çš„å›½é™…å…¼å®¹æ€§ï¼Œä½†ä¸­æ–‡éœ€è¦æ¯”GBK/BIG5ç‰ˆæœ¬å¤šå ç”¨50%çš„æ•°æ®åº“å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤å¹¶éæ¨èä½¿ç”¨ï¼Œä»…ä¾›å¯¹å›½é™…å…¼å®¹æ€§æœ‰ç‰¹æ®Šè¦æ±‚çš„ç”¨æˆ·ä½¿ç”¨ã€‚ç®€å•åœ°è¯´ï¼šå¯¹äºä¸­æ–‡è¾ƒå¤šçš„ç½‘ç«™ï¼Œé€‚å®œç”¨GBKç¼–ç èŠ‚çœæ•°æ®åº“ç©ºé—´ã€‚å¯¹äºè‹±æ–‡è¾ƒå¤šçš„ç½‘ç«™ï¼Œé€‚å®œç”¨UTF-8èŠ‚çœæ•°æ®åº“ç©ºé—´ã€‚ å­—ç¬¦ç¼–ç ANSIå’ŒASCIIåŒºåˆ«ã€Unicodeå’ŒUTF-8åŒºåˆ« Pythonä¸­ç¼–ç é—®é¢˜ åœ¨pythonä¸­ï¼Œunicodeæ˜¯å†…å­˜ç¼–ç é›†ï¼Œä¸€èˆ¬æˆ‘ä»¬å°†æ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶æ—¶ï¼Œéœ€è¦å°†æ•°æ®å…ˆç¼–ç ä¸ºå…¶ä»–ç¼–ç é›†ï¼Œæ¯”å¦‚utf-8ã€gbkç­‰ã€‚ è¯»å–æ•°æ®çš„æ—¶å€™å†é€šè¿‡åŒæ ·çš„ç¼–ç é›†è¿›è¡Œè§£ç å³å¯ã€‚ ä½†æ˜¯å…¶å®è¿˜æœ‰ä¸€ç§unicode-escapeç¼–ç é›†ï¼Œä»–æ˜¯å°†unicodeå†…å­˜ç¼–ç å€¼ç›´æ¥å­˜å‚¨ï¼š åœ¨ä½¿ç”¨python3çš„requestsæ¨¡å—æ—¶ï¼Œå‘ç°è·å–å“åº”æœ‰ä¸¤ç§æ–¹å¼ å…¶ä¸€ï¼Œä¸ºæ–‡æœ¬å“åº”å†…å®¹, r.textæ˜¯Unicodeçš„å“åº”å†…å®¹ å…¶äºŒï¼Œä¸ºäºŒè¿›åˆ¶å“åº”å†…å®¹ï¼Œr.contentæ˜¯äºŒè¿›åˆ¶çš„å“åº”å†…å®¹ Python2 çš„ç¼–ç é—®é¢˜ä¸€ç›´éå¸¸è®©äººæ¼ç«ï¼Œä¸è¿‡ä½ çš„é—®é¢˜ç¨å¾®ç®€å•ä¸€äº›ã€‚ åœ¨äº¤äº’å¼å‘½ä»¤æ¨¡å¼(Interactive shell)ä¸‹ï¼Œå¯ä»¥è¿™æ ·æ¥æ˜ç™½ä½ é‡åˆ°çš„é—®é¢˜çš„æ ¹æºï¼š 1234567import sys sys.stdout.encoding åœ¨ Windows ä¸‹ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿæ˜¯ç®€ä½“ä¸­æ–‡ï¼Œä¸€èˆ¬è¾“å‡ºä¼šæ˜¯ cp936 import codecs codecs.lookup(&apos;cp936&apos;).name &apos;gbk&apos; è¿™å°±æ˜¯åœ¨ Windows ç»ˆç«¯é‡Œé¢ä½¿ç”¨çš„ç¼–ç ã€‚åœ¨ print çš„æ—¶å€™ï¼Œæ— è®ºå­—ç¬¦ä¸²æºé‡‡å–ä»€ä¹ˆæ ·çš„ç¼–ç ï¼Œæœ€ç»ˆè¾“å‡ºçš„å­—ç¬¦ä¸²çš„ç¼–ç å¿…é¡»è·Ÿ shell çš„ç¼–ç ä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯è¯´: print some_string Python ä¼šåšè¿™æ ·ä¸€ä¸ªåŠ¨ä½œï¼š codecs.encode(some_string, coding, errors=â€˜strictâ€™) åœ¨ä½ é‡åˆ°çš„æƒ…å†µä¸‹ï¼Œsome_string æ˜¯ä¸€ä¸ª unicode å­—ç¬¦ä¸²ï¼Œcoding æ˜¯ gbkã€‚ç”±äºä½ çš„ unicode å­—ç¬¦ä¸²é‡Œé¢åŒ…å« gbk å­—ç¬¦é›†é‡Œé¢æ²¡æœ‰çš„å­—ç¬¦ï¼ŒPython å°±ä¼šæŠ›å‡ºä¸€ä¸ª UnicodeEncodeError. å¯¹äºè¾“å‡ºåˆ°æ–‡ä»¶ä¸­æƒ…å†µæ˜¯ç±»ä¼¼çš„ï¼ŒPython2 çš„ open() å‡½æ•°ä¸ä¼šä¼ å…¥ encodingï¼Œä»¥ â€˜wâ€™ æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœå†™å…¥ unicode å­—ç¬¦ä¸²ï¼ŒPython ä¼šè·å–å½“å‰é»˜è®¤çš„ç¼–ç ï¼Œç„¶åä»¥æ­¤ç§ç¼–ç æŠŠå­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ã€‚å¯æƒœçš„æ˜¯ï¼Œâ€œé»˜è®¤ç¼–ç â€åªæ˜¯ Python è‡ªå·±é»˜è®¤çš„ï¼Œåœ¨ Objects/unicodeobject.c ä¸­ï¼Œç”¨ä¸€ä¸ªå…¨å±€å˜é‡ unicode_default_encoding æ¥è¡¨ç¤ºé»˜è®¤çš„ç¼–ç ï¼š /* Default encoding to use and assume when NULL is passed as encoding parameter; it is initialized by _PyUnicode_Init(). â€‹ Always use the PyUnicode_SetDefaultEncoding() and â€‹ PyUnicode_GetDefaultEncoding() APIs to access this global. static char unicode_default_encoding[100 + 1] = &quot;ascii&quot;; è¿™ä¸ªå€¼åœ¨ Python ä¸­æœ‰Cæ¥å£ï¼ˆPyUnicode_SetDefaultEncodingï¼‰å»æ”¹å˜ï¼Œä½†å¯æƒœçš„æ˜¯æ²¡æœ‰ Python å±‚çš„æ¥å£ã€‚ æ‰€ä»¥åœ¨è°ƒç”¨åˆ°ç±»ä¼¼ file.write(some_string) çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šæœ‰è¿™æ ·çš„ç¼–ç è¿‡ç¨‹: codecs.encode(some_string, coding, errors=â€˜restrictâ€™) å½“ä½ çš„ some_string æ˜¯ä¸€ä¸ª unicode å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”åŒ…å« ascii å­—ç¬¦ä¸²ä¸å­˜åœ¨çš„å­—ç¬¦æ—¶ï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ª UnicodeEncodeErrorã€‚ æ‰€ä»¥ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è¿™ä¹ˆå¤„ç†ï¼š (1) åœ¨ Windows shell ä¸‹é¢: &gt;&gt;&gt; print some_string.encode(â€˜gbkâ€™, errors=â€˜ignoreâ€™) # replace ä¹Ÿå¯ï¼Œåªè¦ä¸æ˜¯ restrict (2) åœ¨å†™å…¥æ–‡ä»¶æ—¶ï¼Œä¸¤ç§æ–¹æ³•ï¼š a. å¿½ç•¥ä¸å­˜åœ¨çš„å­—ç¬¦ï¼ŒåŒ(1) &gt;&gt;&gt; f = open(filename, â€˜wâ€™) &gt;&gt;&gt; f.write(some_string.encode(â€˜gbkâ€™, errors=â€˜ignoreâ€™) b. byte æ–¹å¼å†™å…¥ï¼š &gt;&gt;&gt; f = open(filename, â€˜wbâ€™) &gt;&gt;&gt; f.write(some_string.encode(â€˜utf-8â€™)) â€‹ a ä¼šæŸå¤±å­—ç¬¦ï¼Œb ä¸ä¼šã€‚ æ¥è‡ªhttp://www.newsmth.net/nForum/#!article/Python/124657 å¦‚æœCMDå‘½ä»¤è¡Œæ˜¯gbkç¼–ç çš„ï¼Œåˆ™è¾“å‡ºçš„utf-8å­—ç¬¦æœ‰äº›ä¹Ÿæ˜¾ç¤ºä¸äº† Win10 ä¸´æ—¶ä¿®æ”¹cmdå‘½ä»¤è¡Œçª—å£UTF-8ç¼–ç  åªä½œç”¨äºå½“å‰æ‰“å¼€çš„çª—å£ è¿›å…¥cmdçª—å£åï¼Œç›´æ¥æ‰§è¡Œâ€œchcp 65001â€ï¼Œæ‰§è¡Œå®Œåï¼Œcmdçš„ç¼–ç æ ¼å¼å°±æ˜¯UTF-8 æ°¸è¿œä¿®æ”¹ Windows æ§åˆ¶å°ä½¿ç”¨æ³¨å†Œè¡¨æ°¸ä¹…ä¿®æ”¹ç¼–ç é—®é¢˜ æ–¹æ³•ä¸€ï¼š 1.åœ¨cmdä¸­è¾“å…¥regeditè¿›å…¥æ³¨å†Œè¡¨ 2.æ‰¾åˆ°HKEY_CURRENT_USER\\Console\\%SystemRoot%_system32_cmd.exe 3.æ–°å»ºä¸€ä¸ª DWORDï¼ˆ32ä½å€¼ï¼‰,å‘½åä¸ºCodePageï¼Œå€¼è®¾ä¸º65001 4.å·²æœ‰CodePageçš„è¯ï¼Œä¿®æ”¹å®ƒï¼Œæ”¹ä¸ºåè¿›åˆ¶ï¼Œ65001 æ–¹æ³•äºŒï¼š(äº²æµ‹æœ‰æ•ˆ) 1.æ–°å»ºä¸€ä¸ªcmd.regæ³¨å†Œè¡¨æ–‡ä»¶: 2.å†…å®¹è¾“å…¥å¦‚ä¸‹ï¼š 123456789Windows Registry Editor Version 5.00[HKEY_CURRENT_USER\\Console\\%SystemRoot%_system32_cmd.exe]&quot;CodePage&quot;=dword:0000fde9&quot;FontFamily&quot;=dword:00000036&quot;FontWeight&quot;=dword:00000190&quot;FaceName&quot;=&quot;Consolas&quot;&quot;ScreenBufferSize&quot;=dword:232900d2&quot;WindowSize&quot;=dword:002b00d2 3.åŒå‡»è¿è¡Œ","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Shellè„šæœ¬åŸºç¡€","slug":"Shellè„šæœ¬åŸºç¡€","date":"2018-11-08T04:19:49.000Z","updated":"2020-09-04T07:48:47.590Z","comments":true,"path":"2018/11/08/Shellè„šæœ¬åŸºç¡€/","link":"","permalink":"https://nymrli.top/2018/11/08/Shellè„šæœ¬åŸºç¡€/","excerpt":"","text":"Shell ç¼–å†™ æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰©å±•åä¸ºshï¼ˆshä»£è¡¨shellï¼‰ï¼Œæ‰©å±•åå¹¶ä¸å½±å“è„šæœ¬æ‰§è¡Œï¼Œè§åçŸ¥æ„å°±å¥½ï¼Œå¦‚æœä½ ç”¨phpå†™shell è„šæœ¬ï¼Œæ‰©å±•åå°±ç”¨phpå¥½äº†ã€‚ 12#!/bin/bash#!/usr/bin/php â€œ#!â€æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œã€‚ ä½œä¸ºå¯æ‰§è¡Œç¨‹åº 12chmod +x test.sh./test.sh æ³¨æ„ï¼Œä¸€å®šè¦å†™æˆ./test.shï¼Œè€Œä¸æ˜¯test.shï¼Œè¿è¡Œå…¶å®ƒäºŒè¿›åˆ¶çš„ç¨‹åºä¹Ÿä¸€æ ·ï¼Œç›´æ¥å†™test.shï¼Œlinuxç³»ç»Ÿä¼šå»PATHé‡Œå¯»æ‰¾æœ‰æ²¡æœ‰å«test.shçš„ï¼Œè€Œåªæœ‰/bin, /sbin, /usr/binï¼Œ/usr/sbinç­‰åœ¨PATHé‡Œï¼Œä½ çš„å½“å‰ç›®å½•é€šå¸¸ä¸åœ¨PATHé‡Œï¼Œæ‰€ä»¥å†™æˆtest.shæ˜¯ä¼šæ‰¾ä¸åˆ°å‘½ä»¤çš„ï¼Œè¦ç”¨./test.shå‘Šè¯‰ç³»ç»Ÿè¯´ï¼Œå°±åœ¨å½“å‰ç›®å½•æ‰¾ã€‚ å˜é‡ å®šä¹‰å˜é‡ 12your_name=&quot;qinjx&quot;â–².å˜é‡åå’Œç­‰å·ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œè¿™å¯èƒ½å’Œä½ ç†Ÿæ‚‰çš„æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½ä¸ä¸€æ ·ã€‚ ä½¿ç”¨å˜é‡ ä½¿ç”¨ä¸€ä¸ªå®šä¹‰è¿‡çš„å˜é‡ï¼Œåªè¦åœ¨å˜é‡åå‰é¢åŠ ç¾å…ƒç¬¦å·å³å¯ï¼Œå¦‚ï¼š 123your_name=&quot;qinjx&quot;echo $your_nameecho $&#123;your_name&#125; å˜é‡åå¤–é¢çš„èŠ±æ‹¬å·æ˜¯å¯é€‰çš„ï¼ŒåŠ ä¸åŠ éƒ½è¡Œï¼ŒåŠ èŠ±æ‹¬å·æ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š 123for skill in Ada Coffe Action Java; do echo &quot;I am good at $&#123;skill&#125;Script&quot;done å­—ç¬¦ä¸² å­—ç¬¦ä¸²æ˜¯shellç¼–ç¨‹ä¸­æœ€å¸¸ç”¨æœ€æœ‰ç”¨çš„æ•°æ®ç±»å‹ï¼ˆé™¤äº†æ•°å­—å’Œå­—ç¬¦ä¸²ï¼Œä¹Ÿæ²¡å•¥å…¶å®ƒç±»å‹å¥½ç”¨äº†ï¼Œå“ˆå“ˆï¼‰ï¼Œå­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å·ï¼Œä¹Ÿå¯ä»¥ç”¨åŒå¼•å·ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å¼•å·ã€‚å•åŒå¼•å·çš„åŒºåˆ«è·ŸPHPç±»ä¼¼ã€‚ å•å¼•å· 1str=&apos;this is a string&apos; å•å¼•å·å­—ç¬¦ä¸²çš„é™åˆ¶ï¼š å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„ å•å¼•å·å­—ä¸²ä¸­ä¸èƒ½å‡ºç°å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰ åŒå¼•å· 12your_name=&apos;qinjx&apos;str=&quot;Hello, I know your are \\&quot;$your_name\\&quot;! \\n&quot; åŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡ åŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦ å­—ç¬¦ä¸²æ“ä½œ æ‹¼æ¥å­—ç¬¦ä¸² 12345your_name=&quot;qinjx&quot;greeting=&quot;hello, &quot;$your_name&quot; !&quot;greeting_1=&quot;hello, $&#123;your_name&#125; !&quot;echo $greeting $greeting_1 è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼š 12string=\"abcd\"echo $&#123;#string&#125; #è¾“å‡ºï¼š4 æå–å­å­—ç¬¦ä¸² 12string=&quot;alibaba is a great company&quot;echo $&#123;string:1:4&#125; #è¾“å‡ºï¼šliba æŸ¥æ‰¾å­å­—ç¬¦ä¸² 12string=&quot;alibaba is a great company&quot;echo `expr index &quot;$string&quot; is`#è¾“å‡ºï¼š3ï¼Œè¿™ä¸ªè¯­å¥çš„æ„æ€æ˜¯ï¼šæ‰¾å‡ºå­—æ¯iåœ¨è¿™åè¯ä¸­çš„ä½ç½®ï¼Œè¦åœ¨linuxä¸‹è¿è¡Œï¼Œmacä¸‹ä¼šæŠ¥é”™ æµç¨‹æ§åˆ¶ å’ŒJavaã€PHPç­‰è¯­è¨€ä¸ä¸€æ ·ï¼Œshçš„æµç¨‹æ§åˆ¶ä¸å¯ä¸ºç©ºï¼Œå¦‚ï¼š 1234567&lt;?phpif (isset($_GET[&quot;q&quot;])) &#123; search(q);&#125;else &#123; //do nothing&#125; åœ¨sh/bashé‡Œå¯ä¸èƒ½è¿™ä¹ˆå†™ï¼Œå¦‚æœelseåˆ†æ”¯æ²¡æœ‰è¯­å¥æ‰§è¡Œï¼Œå°±ä¸è¦å†™è¿™ä¸ªelseã€‚ è¿˜è¦æ³¨æ„ï¼Œshé‡Œçš„if [ $foo -eq 0 ]ï¼Œè¿™ä¸ªæ–¹æ‹¬å·è·ŸJava/PHPé‡Œifåé¢çš„åœ†æ‹¬å·å¤§ä¸ç›¸åŒï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼ˆå’Œls, grepä¸€æ ·ï¼‰ï¼Œæƒ³ä¸åˆ°å§ï¼Ÿåœ¨CentOSä¸Šï¼Œå®ƒåœ¨/usr/binç›®å½•ä¸‹ï¼š 12ll /usr/bin/[-rwxr-xr-x. 1 root root 33408 6æœˆ 22 2012 /usr/bin/[ æ­£å› ä¸ºæ–¹æ‹¬å·åœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œæ–¹æ‹¬å·åé¢å¿…é¡»åŠ ç©ºæ ¼ï¼Œä¸èƒ½å†™æˆif [$foo -eq 0] if else if 1234567if conditionthen command1 command2 ... commandN fi å†™æˆä¸€è¡Œï¼ˆé€‚ç”¨äºç»ˆç«¯å‘½ä»¤æç¤ºç¬¦ï¼‰ï¼š 1if `ps -ef | grep ssh`; then echo hello; fi æœ«å°¾çš„fiå°±æ˜¯ifå€’è¿‡æ¥æ‹¼å†™ï¼Œåé¢è¿˜ä¼šé‡åˆ°ç±»ä¼¼çš„ if else 123456789if conditionthen command1 command2 ... commandNelse commandfi if else-if else 12345678if condition1then command1elif condition2 command2else commandNfi for while for åœ¨å¼€ç¯‡çš„ç¤ºä¾‹é‡Œæ¼”ç¤ºè¿‡äº†ï¼š 1234567for var in item1 item2 ... itemNdo command1 command2 ... commandNdone å†™æˆä¸€è¡Œï¼š 1for var in item1 item2 ... itemN; do command1; command2â€¦ done; Cé£æ ¼çš„for 123456for (( EXP1; EXP2; EXP3 ))do command1 command2 command3done while 1234while conditiondo commanddone æ— é™å¾ªç¯ 1234while :do commanddone æˆ–è€… 1234while truedo commanddone æˆ–è€… 1for (( ; ; )) until 1234until conditiondo commanddone case 123456789101112131415161718192021222324252627case &quot;$&#123;opt&#125;&quot; in &quot;Install-Puppet-Server&quot; ) install_master $1 exit ;; &quot;Install-Puppet-Client&quot; ) install_client $1 exit ;; &quot;Config-Puppet-Server&quot; ) config_puppet_master exit ;; &quot;Config-Puppet-Client&quot; ) config_puppet_client exit ;; &quot;Exit&quot; ) exit ;; * ) echo &quot;Bad option, please choose again&quot;esac caseçš„è¯­æ³•å’ŒC familyè¯­è¨€å·®åˆ«å¾ˆå¤§ï¼Œå®ƒéœ€è¦ä¸€ä¸ªesacï¼ˆå°±æ˜¯caseåè¿‡æ¥ï¼‰ä½œä¸ºç»“æŸæ ‡è®°ï¼Œæ¯ä¸ªcaseåˆ†æ”¯ç”¨å³åœ†æ‹¬å·ï¼Œç”¨ä¸¤ä¸ªåˆ†å·è¡¨ç¤ºbreak å­¦ä¹ è‡ªï¼šShellè„šæœ¬ç¼–ç¨‹30åˆ†é’Ÿå…¥é—¨","categories":[],"tags":[{"name":"Shell","slug":"Shell","permalink":"https://nymrli.top/tags/Shell/"},{"name":"linux","slug":"linux","permalink":"https://nymrli.top/tags/linux/"}]},{"title":"å¤šåª’ä½“Auä½¿ç”¨","slug":"å¤šåª’ä½“Auä½¿ç”¨","date":"2018-11-08T04:18:47.000Z","updated":"2019-09-15T08:07:31.044Z","comments":true,"path":"2018/11/08/å¤šåª’ä½“Auä½¿ç”¨/","link":"","permalink":"https://nymrli.top/2018/11/08/å¤šåª’ä½“Auä½¿ç”¨/","excerpt":"","text":"AUä½¿ç”¨ã€‚ ç•™äººå£°ã€å»ä¼´å¥ First. â–²ä¾§è¾¹å£°é“ç”µå¹³æ§åˆ¶å¾®å¼±ï¼Œä¸­ç½®å£°é“ç”µå¹³æ§åˆ¶æ•ˆæœå¼ºã€‚ â–²äº¤å‰æ¸—é€ï¼Œè¶Šå¤§ä¼´å¥å£°éŸ³è¶Šä¸æ˜æ˜¾ Second. å‰é¢å‡ æ’è°ƒä½åˆ°æ»¡æ„ã€‚ï¼ˆç«¥å£°é«˜éŸ³é¢‘ç‡èŒƒå›´ä¸º260-880Hz,ä½éŸ³é¢‘ç‡èŒƒå›´ä¸º196-700Hz,å¥³å£°é«˜éŸ³é¢‘ç‡èŒƒå›´ä¸º220-1.1KHz,ä½éŸ³é¢‘ç‡èŒƒå›´ä¸º200-700KHz,ç”·å£°é«˜éŸ³é¢‘ç‡èŒƒå›´ä¸º160-523KHzä½éŸ³é¢‘ç‡èŒƒå›´ä¸º80-358Hz. å›½é™…é€šä¿¡æ ‡å‡†åˆ¶å®šä¸º300Hz-3400Hz! ï¼‰ ç•™ä¼´å¥ã€å»äººå£° Â·Â·Â·é€‰ä¸­æ‰€æœ‰ï¼Œèœå•æ -æ”¶è—å¤¹-ç§»é™¤äººå£°","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"},{"name":"Au","slug":"Au","permalink":"https://nymrli.top/tags/Au/"},{"name":"å¤šåª’ä½“","slug":"å¤šåª’ä½“","permalink":"https://nymrli.top/tags/å¤šåª’ä½“/"}]},{"title":"å®šæ—¶æ‰§è¡ŒPythonè„šæœ¬","slug":"å®šæ—¶æ‰§è¡ŒPythonè„šæœ¬","date":"2018-11-07T09:51:16.000Z","updated":"2020-03-29T14:22:33.660Z","comments":true,"path":"2018/11/07/å®šæ—¶æ‰§è¡ŒPythonè„šæœ¬/","link":"","permalink":"https://nymrli.top/2018/11/07/å®šæ—¶æ‰§è¡ŒPythonè„šæœ¬/","excerpt":"","text":"å®šæ—¶ä»»åŠ¡æ‰§è¡Œpythonè„šæœ¬ ä½¿ç”¨linuxçš„crontab 1.å¼€å¯crontabæ—¥å¿—ã€‚ crontabé»˜è®¤ä¸å¼€å¯æ—¥å¿—ï¼Œæ‰€ä»¥å…ˆå¼€å¯å®šæ—¶ä»»åŠ¡çš„æ—¥å¿—æ¥æŸ¥çœ‹ ä¿®æ”¹rsyslogæœåŠ¡ï¼Œå°†/etc/rsyslog.d/50-default.conf æ–‡ä»¶ä¸­çš„#cron.*å‰çš„ #åˆ æ‰ï¼›ç”¨service rsyslog restarté‡å¯rsyslogæœåŠ¡ï¼š 2.å†™å®šæ—¶ä»»åŠ¡ å¼€å¯æœ¬ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡,å³åˆ›å»ºä»¥æœ¬ç”¨æˆ·åä¸ºæ–‡ä»¶åçš„å®šæ—¶ä»»åŠ¡æ–‡ä»¶ï¼Œä½ç½®åœ¨/var/spool/cron/crontabs/ã€‚crontab -e å®šæ—¶ä»»åŠ¡è¯­å¥æ ¼å¼ä¸ºï¼šæ‰§è¡Œå‘¨æœŸ+å‘½ä»¤ï¼Œå‘¨æœŸæœ‰5ä¸ªåŸŸï¼Œåˆ†åˆ«æ˜¯ M: åˆ†ï¼ˆ0-59ï¼‰ Hï¼šæ—¶ï¼ˆ0-23ï¼‰ Dï¼šå¤©ï¼ˆ1-31ï¼‰ m: æœˆï¼ˆ1-12ï¼‰ d: å‘¨ï¼ˆ0-6ï¼‰ //0ä¸ºæ˜ŸæœŸæ—¥ â–²æ¯ä¸ªåŸŸä¸åŠ é™åˆ¶ä»»æ„çš„è¯ç”¨* æ‰€ä»¥å‘½ä»¤è¯­å¥å°±æ˜¯ 12*/5 * * * * cd /home/iris/; python aa.py#æ—¶é—´# #command ; commond å†™å®Œåéœ€è¦é‡å¯cronæœåŠ¡:service cron restart å¦‚æœå®šæ—¶è¿è¡Œçš„è„šæœ¬éœ€è¦rootæƒé™ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥æŠŠä»»åŠ¡å†™åœ¨rootç”¨æˆ·çš„cronä¸­ 1sudo crontab -u root -e æˆ–è€…åˆ‡æ¢åˆ°rootç”¨æˆ·ä¸‹å†è¿›è¡Œè®¾ç½®cron 12345678# å¯ä»¥ä»¥rootèº«ä»½æ‰§è¡Œcrontabï¼Œsudoé»˜è®¤æ˜¯éœ€è¦è¾“å…¥å¯†ç ã€‚ä¸‹é¢æ˜¯è¿ç”¨è¿™ä¸ªæ–¹æ³•çš„å…·ä½“æ“ä½œæ–¹æ³•ï¼Œå‘½ä»¤æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š# åˆ‡æ¢åˆ°rootç”¨æˆ·ä¸‹su - # æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›å…¥åˆ°rootç”¨æˆ·crontabé…ç½®ä¸­crontab -e# æœ€åï¼ŒåŠ å…¥ä½ çš„ä»»åŠ¡0 * * * * clear_img.sh &gt;&gt;clear_img.log â–²æœ€åå†™å®Œåéœ€è¦é‡å¯cronæœåŠ¡:service cron restart é™„å½• å¸¸ç”¨å‘¨æœŸæ ¼å¼: æ¯äº”åˆ†é’Ÿæ‰§è¡Œ */5 * * * * æ¯å°æ—¶æ‰§è¡Œ 0 * * * * æ¯å¤©æ‰§è¡Œ 0 0 * * * æ¯å‘¨æ‰§è¡Œ 0 0 * * 0 æ¯æœˆæ‰§è¡Œ 0 0 1 * * æ¯å¹´æ‰§è¡Œ 0 0 1 1 * 5 * * * * ls æŒ‡å®šæ¯å°æ—¶çš„ç¬¬5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡lså‘½ä»¤ 30 5 * * * ls æŒ‡å®šæ¯å¤©çš„ 5:30 æ‰§è¡Œlså‘½ä»¤ 30 7 8 * * ls æŒ‡å®šæ¯æœˆ8å·çš„7ï¼š30åˆ†æ‰§è¡Œlså‘½ä»¤ 30 5 8 6 * ls æŒ‡å®šæ¯å¹´çš„6æœˆ8æ—¥5ï¼š30æ‰§è¡Œlså‘½ä»¤ 30 5 8 6 * ls æŒ‡å®šæ¯å¹´çš„6æœˆ8æ—¥5ï¼š30æ‰§è¡Œlså‘½ä»¤ 30 6 * * 0 ls æŒ‡å®šæ¯æ˜ŸæœŸæ—¥çš„6:30æ‰§è¡Œlså‘½ä»¤ 30 3 10,20 * * ls æ¯æœˆ10å·åŠ20å·çš„3ï¼š30æ‰§è¡Œlså‘½ä»¤ 25 8-11 * * * ls æ¯å¤©8-11ç‚¹çš„ç¬¬25åˆ†é’Ÿæ‰§è¡Œlså‘½ä»¤ */15 * * * * ls æ¯15åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡lså‘½ä»¤ 30 6 */10 * * ls æ¯ä¸ªæœˆä¸­ï¼Œæ¯éš”10å¤©6:30æ‰§è¡Œä¸€æ¬¡lså‘½ä»¤ 22 4 * * * root run-parts /etc/cron.dailyæ¯å¤©4ï¼š22ä»¥rootèº«ä»½æ‰§è¡Œ/etc/cron.dailyç›®å½•ä¸­çš„æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶ï¼Œrun-partså‚æ•°è¡¨ç¤ºï¼Œæ‰§è¡Œåé¢ç›®å½•ä¸­çš„æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶ã€‚ ~/Python_project/SeverChan_Nyedu ä½¿ç”¨python crontabè®¾ç½®linuxå®šæ—¶ä»»åŠ¡ é€šè¿‡python æ¥å†™ crontabé…ç½® 123456789101112131415161718192021222324252627282930313233from crontab import CronTab# åˆ›å»ºå½“å‰ç”¨æˆ·çš„crontabï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åˆ›å»ºå…¶ä»–ç”¨æˆ·çš„ï¼Œä½†å¾—æœ‰è¶³å¤Ÿæƒé™my_user_cron = CronTab(user=True)# åˆ›å»ºä»»åŠ¡job = my_user_cron.new(command='echo date &gt;&gt; ~/time.log')# è®¾ç½®ä»»åŠ¡æ‰§è¡Œå‘¨æœŸï¼Œæ¯ä¸¤åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡job.setall('*/2 * * * *')# å½“ç„¶è¿˜æ”¯æŒå…¶ä»–æ›´äººæ€§åŒ–çš„è®¾ç½®æ–¹å¼ï¼Œç®€å•åˆ—ä¸¾ä¸€äº›job.minute.during(5,50).every(5)job.hour.every(4)job.day.on(4, 5, 6)job.dow.on('SUN')job.dow.on('SUN', 'FRI')job.month.during('APR', 'NOV')job.setall(time(10, 2))job.setall(date(2000, 4, 2))job.setall(datetime(2000, 4, 2, 10, 2))# åŒæ—¶å¯ä»¥ç»™ä»»åŠ¡è®¾ç½®commentï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®commentæŸ¥è¯¢ï¼Œå¾ˆæ–¹ä¾¿job.set_comment(\"time log job\")# æ ¹æ®commentæŸ¥è¯¢ï¼Œå½“æ—¶è¿”å›å€¼æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œä¸èƒ½ç›´æ¥æ ¹æ®è¿”å›å€¼åˆ¤æ–­ä»»åŠ¡æ˜¯å¦#å­˜åœ¨ï¼Œå¦‚æœåªæ˜¯åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å­˜åœ¨ï¼Œå¯ç›´æ¥éå†my_user_cron.cronsiter = my_user_cron.find_comment('time log job')# åŒæ—¶è¿˜æ”¯æŒæ ¹æ®commandå’Œæ‰§è¡Œå‘¨æœŸæŸ¥æ‰¾ï¼ŒåŸºæœ¬ç±»ä¼¼ï¼Œä¸å†åˆ—ä¸¾# ä»»åŠ¡çš„disableå’Œenableï¼Œ é»˜è®¤enablejob.enable(False)job.enable()# æœ€åå°†crontabå†™å…¥é…ç½®æ–‡ä»¶my_user_cron.write() pythonä¸­çš„è½»é‡çº§å®šæ—¶ä»»åŠ¡è°ƒåº¦åº“ï¼šschedule æä¾›åšå®¢pythonä¸­çš„è½»é‡çº§å®šæ—¶ä»»åŠ¡è°ƒåº¦åº“ï¼šschedule","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"linux","slug":"linux","permalink":"https://nymrli.top/tags/linux/"}]},{"title":"ServerChan+å—é‚®æ•™åŠ¡å¤„","slug":"ServerChan-å—é‚®æ•™åŠ¡å¤„","date":"2018-11-07T09:32:10.000Z","updated":"2019-09-15T08:07:31.000Z","comments":true,"path":"2018/11/07/ServerChan-å—é‚®æ•™åŠ¡å¤„/","link":"","permalink":"https://nymrli.top/2018/11/07/ServerChan-å—é‚®æ•™åŠ¡å¤„/","excerpt":"","text":"SeverChan_Nyedu Crawl the infomation about competitons, when new infos comes, remind people on Wechat by ServerChan: ğŸ˜è¯¥ç¨‹åºé€šè¿‡çˆ¬å–å—é‚®æ•™åŠ¡å¤„,å°†å½“å‰æ—¶é—´ä¸æœ€æ–°æ—¶é—´è¿›è¡ŒåŒ¹é…,å¦‚æœæ˜¯å½“æ—¥åˆ™é€šè¿‡ServerChanå‘é€åˆ°æœ¬äººçš„å¾®ä¿¡,æé†’æœ‰æ–°çš„ç«èµ›. å®Œæˆç¬”è®°: 1.å…³äºlxmlä¸­etree.xpath()å¯¹äºtbodyçš„å¤„ç† è¯¥ç½‘é¡µé€šè¿‡tableå¯¹é¡µé¢è¿›è¡Œåˆ†å¸ƒè®¾ç½®,å…¶ä¸­tableæ ‡ç­¾ä¼šè‡ªåŠ¨ç”Ÿæˆtbodyæ ‡ç­¾,å¦‚å›¾â€¦æ­¤æ—¶ç”¨xpathè¿›è¡ŒåŒ¹é…çš„æ—¶å€™å°±ä¸éœ€è¦å°†tbodyåŠ ä¸Š,å¦åˆ™åŒ¹é…ä¸åˆ° å¸ƒå±€&lt;Table&gt; è¡¨æ ¼&lt;table&gt; å¯ä»¥çœ‹åˆ°çš„æ˜¯åœ¨Chromeè°ƒè¯•åŠ©æ‰‹é‡Œé¢,&lt;table&gt;ä¸‹é¢éƒ½æ˜¯ä¼šè‡ªåŠ¨ç”Ÿæˆ&lt;tbody&gt;æ ‡ç­¾çš„(ä¸€èˆ¬tbodyæ˜¯æµè§ˆå™¨è‡ªåŠ¨äº§ç”Ÿçš„ï¼Œä¸€èˆ¬æƒ…å†µè¦å»æ‰),è€Œæˆ‘ä»¬å†é€šè¿‡ç½‘é¡µæºç çœ‹çœ‹â€¦==&gt;å¯ä»¥å‘ç°çš„æ˜¯: &lt;table&gt;å¸ƒå±€æ˜¯æ²¡æœ‰&lt;tbody&gt;çš„,åªæœ‰è¡¨æ ¼æ‰æœ‰,æ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç”¨xpath()è¡¨æ ¼é‡Œå¿…é¡»åŠ ä¸Štbodyæ‰èƒ½åŒ¹é…,è€Œtableå¸ƒå±€ä¸­ä¸èƒ½åŠ tbodyçš„åŸå›  123456789101112#å¸ƒå±€è·å¾—å†…å®¹for content in contentList: title = content.xpath('td/table/tr/td[1]/a/text()')[0] href = content.xpath('td/table/tr/td[1]/a/@href')[0] submittime = content.xpath('td/table/tr/td[2]/div/text()')[0]#è¡¨æ ¼if content.tag == 'table': tabletitle = content.xpath('tbody/tr[1]/td') # è¡¨æ ¼å¤´ tabletitleList = map(lambda x: x.xpath('string(.)'), tabletitle) tablehead = '|' + '|'.join(tabletitleList) + '|' tableover = '|' + ':---:|' * len(tabletitle) # å±…ä¸­æ˜¾ç¤º 2.requests.get()è·å¾—çš„responseçš„ç¼–ç é—®é¢˜ 123html = requests.get('http://jwc.njupt.edu.cn/1594/list.htm',headers = headers)html.encoding = 'utf-8'#Requestsåº“çš„è‡ªèº«ç¼–ç ä¸º: r.encoding = â€˜ISO-8859-1â€™ Githubåœ°å€:Freedomisgood/SeverChan_Nyedu","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"é«˜ç§‘GSWIFIæ±Ÿè‹ç ´è§£æ•™ç¨‹","slug":"é«˜ç§‘GSWIFIæ±Ÿè‹ç ´è§£æ•™ç¨‹","date":"2018-11-04T02:06:34.000Z","updated":"2019-09-15T08:07:31.102Z","comments":true,"path":"2018/11/04/é«˜ç§‘GSWIFIæ±Ÿè‹ç ´è§£æ•™ç¨‹/","link":"","permalink":"https://nymrli.top/2018/11/04/é«˜ç§‘GSWIFIæ±Ÿè‹ç ´è§£æ•™ç¨‹/","excerpt":"","text":"1.é‡ç½®è·¯ç”±å™¨è®¾ç½® ä¸ºäº†ä»¥é˜²ä¹‹å‰å…¶ä»–äººå·²ç»è®¾ç½®è¿‡æŸäº›ä¸œè¥¿,å¯èƒ½ä¼šå½±å“åˆ°ä¹‹åçš„ä½¿ç”¨ï¼Œæ‰€ä»¥å¹²è„†ç›´æ¥é‡ç½®ã€‚ 2.è¿æ¥è·¯ç”±å™¨ç”µæº,ä¸ç”¨æ’ä»»ä½•çš„wanå£æˆ–è€…lanå£ P.S.å¦‚æœç¬¬äºŒæ­¥,æ‰‹æœºå’Œç”µè„‘æ— æ³•ç›´æ¥é€šè¿‡IPåœ°å€è¿›å…¥ç®¡ç†ç•Œé¢çš„è¯,å¯ä»¥è€ƒè™‘å°† ç½‘çº¿ä¸€å¤´æ’å…¥2å·å£,ä¸€å¤´æ’å…¥ç”µè„‘çš„æ’å£ , ç„¶åå†é€šè¿‡IPåœ°å€è¿›å…¥ç®¡ç†ç•Œé¢ 3.ç™»å½•è·¯ç”±å™¨ç®¡ç†ç•Œé¢ â–²æ³¨æ„ï¼š å¤§å¤šæ•°è·¯ç”±å™¨çš„ç®¡ç†ç•Œé¢IPåœ°å€ä¸º 192.168.1.1æˆ–è€…192.168.100.1,è™½ç„¶é«˜ç§‘è·¯ç”±å™¨åé¢è´´çº¸ä¸Šè¯´æ˜çš„IPåœ°å€æ˜¯192.168.8.1,ä½†æ˜¯é‚£ä¸ªä¸æ˜¯åˆå§‹çš„IP,éœ€è¦è‡ªå·±è®¾ç½®åˆ°192.168.8.1. å¦‚ä¸‹æ˜¯æˆ‘å·²ç»ä¿®æ”¹å¥½çš„IPä¸º192.168.8.1çš„ç™»å½•ç•Œé¢,é»˜è®¤å¯†ç ä¸ºadmin,ç™»å½•åé€‰æ‹©ä¸ä¿å­˜å¯†ç  4.è¿›å…¥ç®¡ç†ç•Œé¢åå…ˆè§‚å¯Ÿ é¦–å…ˆæ˜¯è¦è§‚å¯Ÿè½¯ä»¶ç‰ˆæœ¬ä¸ GSWIFI å…¬ä¼—å·ä¸­çš„æœ€æ–°èƒ½ç”¨çš„ç‰ˆæœ¬è¿›è¡ŒåŒ¹é…,å¦‚æœæ˜¯ä¸€æ ·çš„è¯å°±ä¸éœ€è¦å‡çº§ç³»ç»Ÿå›ºä»¶,å¦‚æœå½“å‰è½¯ä»¶ç‰ˆæœ¬æ¯”è¾ƒä½å°±å¯èƒ½æ— æ³•ä½¿ç”¨. å…¶æ¬¡,ç”±äºæ²¡æ¥ç½‘çº¿,æ‰€ä»¥ç½‘çº¿çŠ¶æ€æ˜¯WANå£æœªè¿æ¥ 5.ä¿®æ”¹é…ç½® ä¿®æ”¹WANå£è®¾ç½® å¦‚ä½•æŸ¥çœ‹æ‰‹æœºMACåœ°å€è¯´æ˜: ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯è‹±æ–‡ç³»ç»Ÿâ€¦å¯èƒ½æ‰‹æœºç•Œé¢æœ‰ç‚¹ä¸åŒ 1**.è¿›å…¥WLAN** 2.è¿›å…¥æ›´å¤šè®¾ç½® æœ€ä¸‹é¢çš„MAC addresså°±æ˜¯ 6.WIFIè®¾ç½®2.4G 7.LANå£è®¾ç½® è¯¥æ­¥ä¹‹å,ç­‰30sé…ç½®å®Œæˆå,ä½ ä¼šæ— æ³•è¿›å…¥192.168.1.1,é¡µé¢ä¹Ÿä¼šæ— å“åº”,æ­¤æ—¶è®¿é—®192.168.8.1é‡è¿›ç®¡ç†ç•Œé¢ 8.å¼€å§‹è¿æ¥ç½‘çº¿(æŸ¥çœ‹ç½‘çº¿çŠ¶æ€) â–²â–².ç”±äºè¯¥è·¯ç”±å™¨çš„WANå£è¢«å•†å®¶è°ƒåˆ°äº†3å·LANå£,æˆ‘ä¹Ÿè¢«è¿™æ­¥å‘äº†æŒºä¹…â€¦æ‰€ä»¥ä¸Šè¿°æ­¥éª¤éƒ½å®Œæˆä»¥å,å°†ç½‘çº¿æ’å…¥è·¯ç”±å™¨çš„3å·LANå£,å†ç™»å½•ç®¡ç†ç•Œé¢,æ­¤æ—¶åº”è¯¥å°±èƒ½çœ‹åˆ°è¿™æ ·çš„ç•Œé¢äº†â€¦ (p.s.æˆ–è®¸ä½ çš„è·¯ç”±å™¨å°±æ˜¯WANå£æ²¡æ”¹ä¹Ÿè¯´ä¸å®š,åæ­£å¦‚æœæ²¡æœ‰æ•ˆæœçš„è¯,æ¯ä¸ªç«¯å£éƒ½è¯•ä¸€ä¸‹å°±æ˜¯äº†) èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºè¿™å‡ ä¸ª,åˆ™è·¯ç”±å™¨å·²è®¾ç½®å®Œæˆ. 9.ä½¿ç”¨GSWIFIå°åŠ©æ‰‹å¯¹è·¯ç”±å™¨å†æ¬¡è®¾ç½® â–²æ³¨æ„,ä½¿ç”¨å®¢æœæä¾›çš„APP,ç½‘ç›˜é“¾æ¥åœ¨é™„å½•ä¸­ æŒ‰ç…§æˆ‘ä»¬çš„æ•™ç¨‹æ¥,IPåœ°å€å¡«ä¸º192.168.8.1,ç„¶åæŒ‰ä¸‹&quot;å¼€å§‹è”ç½‘&quot;,ä¹‹åä¼šæœ‰4æ­¥,è¿™ä¸ªè¿‡ç¨‹ä¸­WIFIä¼šä¸æ–­çš„æ‰çº¿,éœ€è¦è‡ªå·±ä¸æ–­é‡è¿è‡ªå·±çš„WIFI(â€œHelloâ€),ç­‰åˆ°4æ­¥å®Œæˆåå°±å¯ä»¥å¼€å§‹ç”¨æŒä¸Šå¤§å­¦è¿ä¸ŠWIFIåä¸€é”®ä¸Šç½‘äº† å®Œæˆå›¾å¦‚ä¸‹ 10.ä½¿ç”¨æŒä¸Šå¤§å­¦ä¸€é”®ä¸Šç½‘ æ•™ç¨‹åˆ°æ­¤å°±ç»“æŸäº†,æŒ‰ç…§ä¸Šè¿°æ­¥éª¤åº”è¯¥å°±èƒ½å®Œæˆé«˜ç§‘GSWIFIè·¯ç”±å™¨çš„ç ´è§£ä¸Šç½‘äº†â€¦ é™„å½•: GSWIFIå°åŠ©æ‰‹æ±Ÿè‹ç‰ˆ: ç½‘ç›˜:https://pan.baidu.com/share/init?surl=vwza9BJd9kjjMKH6f3ek3g æå–ç :svdg æ›´æ–°ç³»ç»Ÿå›ºä»¶ æ‰¾åˆ°GSWIFIå…¬ä¼—å·: é€‰æ‹©ç³»ç»Ÿå‡çº§ ç„¶åæŸ¥çœ‹å‡çº§æ•™ç¨‹ å’Œ 1082æ­£å¼ç‰ˆç³»ç»Ÿ(ç›®å‰æœ€æ–°çš„ç³»ç»Ÿå›ºä»¶)ï¼Œç„¶åæ ¹æ®é‡Œé¢æä¾›çš„ç½‘ç›˜å°†æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ ä¸‹è½½å===&gt;è§£å‹===&gt;è¿›å…¥ç®¡ç†ç•Œé¢===&gt;ç³»ç»Ÿå‡çº§===&gt;é€‰æ‹©æ–‡ä»¶===&gt;åˆ·å†™å›ºä»¶===&gt;æ‰§è¡Œï¼ˆå…¶ä¸­è¿‡ç¨‹åƒä¸‡ä¸èƒ½å…³é—­ç”µæºæˆ–æ˜¯ä¹±åŠ¨ï¼Œå°±ç®—æŒ‰é”™äº†ï¼Œç­‰2-3åˆ†é’Ÿå¥½äº†ä»¥åå†é‡æ–°åˆ·å†™ä¹Ÿæ— å¦¨ï¼Œä½†æ˜¯åƒä¸‡ä¸èƒ½æ–­ç”µæºï¼‰","categories":[],"tags":[{"name":"ç”Ÿæ´»ç¦åˆ©","slug":"ç”Ÿæ´»ç¦åˆ©","permalink":"https://nymrli.top/tags/ç”Ÿæ´»ç¦åˆ©/"}]},{"title":"WSGI uWSGI uwsgiåŠnginxè¯´æ˜","slug":"WSGI-uWSGI-uwsgiåŠnginxè¯´æ˜","date":"2018-11-02T07:50:12.000Z","updated":"2019-09-15T08:07:31.016Z","comments":true,"path":"2018/11/02/WSGI-uWSGI-uwsgiåŠnginxè¯´æ˜/","link":"","permalink":"https://nymrli.top/2018/11/02/WSGI-uWSGI-uwsgiåŠnginxè¯´æ˜/","excerpt":"","text":"å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚==&gt;æœåŠ¡å™¨æ¥å—ã€å¤„ç†è¯·æ±‚ä¸å“åº” çš„è¿‡ç¨‹ç¤ºæ„å›¾ 1. WSGIï¼š å…¨ç§°æ˜¯Web Server Gateway Interface(æœåŠ¡å™¨ç½‘å…³æ¥å£)ã€‚WSGIä¸æ˜¯æœåŠ¡å™¨ï¼Œpythonæ¨¡å—ï¼Œæ¡†æ¶ï¼ŒAPIæˆ–è€…ä»»ä½•è½¯ä»¶ï¼Œåªæ˜¯ä¸€ç§è§„èŒƒ( æ˜¯ä¸€ä¸ª**WebæœåŠ¡å™¨ï¼ˆå¦‚nginxï¼‰ä¸åº”ç”¨æœåŠ¡å™¨ï¼ˆå¦‚uWSGIï¼‰**é€šä¿¡çš„ä¸€ç§è§„èŒƒï¼ˆåè®®ï¼‰==&gt; å¯ä»¥ç†è§£ä¸ºæœåŠ¡å™¨ä¸åº”ç”¨ç¨‹åºé€šä¿¡çš„æ¥å£è§„èŒƒè¦æ±‚)ï¼Œæè¿°web serverå¦‚ä½•ä¸web applicationé€šä¿¡çš„è§„èŒƒã€‚serverå’Œapplicationçš„è§„èŒƒåœ¨PEP 3333ä¸­æœ‰å…·ä½“æè¿°ã€‚å› ä¸ºWSGIæ²¡æœ‰å®˜æ–¹çš„å®ç°, æ‰€ä»¥WSGIæ›´åƒä¸€ä¸ªåè®®ï¼Œåªè¦éµç…§è¿™äº›åè®®ï¼Œéƒ½å¯ä»¥åœ¨ä»»ä½•æœåŠ¡å™¨(Server)ä¸Šè¿è¡Œ 2.uwsgiï¼š ä¸WSGIä¸€æ ·æ˜¯ä¸€ç§é€šä¿¡åè®®ï¼Œæ˜¯uWSGIæœåŠ¡å™¨çš„ç‹¬å åè®®ï¼Œç”¨äºå®šä¹‰ä¼ è¾“ä¿¡æ¯çš„ç±»å‹(type of information)ï¼Œæ¯ä¸€ä¸ªuwsgi packetå‰4byteä¸ºä¼ è¾“ä¿¡æ¯ç±»å‹çš„æè¿°ï¼Œä¸WSGIåè®®æ˜¯ä¸¤ç§ä¸åŒçš„åè®®ã€‚è¯¥åè®®æ®è¯´æ€§èƒ½éå¸¸é«˜ï¼Œæ˜¯fcgiåè®®çš„10å€å¿«;è€Œä¸”å†…å­˜å ç”¨ç‡ä½ï¼Œä¸ºmod_wsgiçš„ä¸€åŠå·¦å³ï¼ŒåŒæ—¶å®ƒè¿˜æ”¯æŒå¤šåº”ç”¨çš„ç®¡ç†åŠåº”ç”¨çš„æ€§èƒ½ç›‘æ§ 3.uWSGIï¼š æ˜¯ä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥å½“åšä¸­é—´ä»¶ã€‚å®ƒå®ç°äº†WSGIåè®®ã€uwsgiåè®®ã€httpåè®®ç­‰ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨uWSGIä½œä¸ºpython webçš„æœåŠ¡å™¨,å¯ä»¥ç”¨æ¥æ‰˜ç®¡ Python WSGIåº”ç”¨ã€‚å®ƒå…·æœ‰åº”ç”¨æœåŠ¡å™¨ï¼Œä»£ç†ï¼Œè¿›ç¨‹ç®¡ç†åŠåº”ç”¨ç›‘æ§ç­‰åŠŸèƒ½(ä½†å¯ä»¥æŠŠçœ‹ä½œæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå¸®åŠ©æˆ‘ä»¬å®ç°WSGIåè®®)ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ä¸å†å…³æ³¨ç½‘ç»œé€šä¿¡çš„åº•å±‚å®ç°ï¼Œå°†ç²¾åŠ›æ›´å¤šæ”¾åœ¨å¤„ç†HTTPè¯·æ±‚æ•°æ®ï¼Œè¿”å›HTMLã€‚ 4.uWSGI+nginx ç»¼ä¸Šæ‰€è¿°å¯ä»¥çœ‹å‡ºuWSGIå¯ä»¥ç›´æ¥å½“åšæœåŠ¡å™¨ï¼Œè€Œä¸ºäº†è¿›ä¸€æ­¥çš„å¹¶å‘æå‡å°±éœ€è¦åŠ ä¸Šnginx(æé«˜è´Ÿè½½å‡è¡¡) â–².å½“uWSGI+nginxä½¿ç”¨æ—¶ï¼Œnginxä½œä¸ºwebæœåŠ¡å™¨ï¼Œè€ŒuWSGIä½œä¸ºä¸­é—´ä»¶(è¿™è¾¹ä¸ä¸€å®šæ­£ç¡®,ä¸ªäººç†è§£) uWSGIä¸è¶³çš„åœ°æ–¹: uWIGSä¹Ÿå¯ä»¥è¿”å›é™æ€æ–‡ä»¶(css,js,imgâ€¦)ï¼Œä½†æ˜¯å¾ˆç¬¨æ‹™ï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯ç”¨åå‘ä»£ç†æœåŠ¡å™¨ï¼ˆæ¯”å¦‚Nginxï¼‰æ¥å¤„ç†æ­¤ç±»è¯·æ±‚ï¼Œå‡è½»åº”ç”¨æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œè·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚ åˆ©ç”¨uWIGSå¯ä»¥æ˜¯æˆ‘ä»¬çš„webåº”ç”¨å¾—åˆ°æ›´å¼ºçš„å¹¶å‘èƒ½åŠ›ï¼ŒuWIGSä¹Ÿå¯ä»¥è¿”å›é™æ€æ–‡ä»¶(css,js,imgâ€¦)ï¼Œä½†æ˜¯å¾ˆç¬¨æ‹™ï¼Œä¸€èˆ¬é™æ€æ–‡ä»¶éƒ½äº¤ç”±Nginxè¿›è¡Œä¼ è¾“ï¼Œæ‰€ä»¥é…ç½®ä¸­ä¸€èˆ¬ä¸é…ç½®static-map,å¦‚æœç›´æ¥ç”±uWIGSæ¥å—HTTPè¯·æ±‚åˆ™éœ€è¦è®¾ç½®http:xxxxï¼Œå¦‚æœåªéœ€è¦ä¸åå‘ä»£ç†æœåŠ¡å™¨è¿›è¡Œäº¤äº’åˆ™åªéœ€è¦æ¥å—socketï¼ŒuWIGSä¸Nginxäº¤äº’ç›¸å½“äºä¸¤ä¸ªè¿›ç¨‹é—´äº¤äº’ï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ˜¯.sockæ–‡ä»¶æˆ–è€…æŒ‡å®šç«¯å£æ¥å—socketã€‚æŒ‡å®šç«¯å£æ—¶å†ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç›¸åº”ç«¯å£ï¼ŒuWIGSä¼šæç¤ºskipï¼Œè·³è¿‡è¯¥HTTPè¯·æ±‚ã€‚ åŒæ—¶è¿˜æœ‰çš„æ˜¯uWSGIæœ¬èº«çš„è´Ÿè½½å‡è¡¡æ²¡æœ‰nginxç‰›é€¼ã€‚æ‰€ä»¥é˜‰å‰²æ‰ä¸ç”¨ã€‚ 5.Nginxæ˜¯ä¸€ä¸ªHttpå’Œåå‘ä»£ç†æœåŠ¡å™¨ ä»€ä¹ˆæ˜¯åå‘ä»£ç†æœåŠ¡å™¨å‘¢ï¼Ÿ â–²æ­£å‘çš„å°±æ˜¯ç”±æµè§ˆå™¨ä¸»åŠ¨çš„æƒ³ä»£ç†æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œç»ä»£ç†æœåŠ¡å™¨åšå‡ºå¤„ç†åå†è½¬ç»™ç›®æ ‡æœåŠ¡å™¨ â–²åå‘çš„å°±æ˜¯ä¸ç®¡æµè§ˆå™¨åŒä¸åŒæ„ï¼Œè¯·æ±‚éƒ½ä¼šç»è¿‡ä»£ç†æœåŠ¡å™¨å¤„ç†å†å‘ç»™ç›®æ ‡æœåŠ¡å™¨ è¿™å…¶ä¸­çš„åŒºåˆ«å°±æ˜¯å¿…é¡»ç»è¿‡Nginxåå‘ä»£ç†æœåŠ¡å™¨ï¼Œè¿™å°±æœ‰äº†ä½¿ç”¨Nginxçš„å‡ ä¸ªå¥½å¤„ï¼š å®‰å…¨ï¼šä¸ç®¡ä»€ä¹ˆè¯·æ±‚éƒ½è¦ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œè¿™æ ·å°±é¿å…äº†å¤–éƒ¨ç¨‹åºç›´æ¥æ”»å‡»webæœåŠ¡å™¨ è´Ÿè½½å‡è¡¡ï¼šæ ¹æ®è¯·æ±‚æƒ…å†µå’ŒæœåŠ¡å™¨è´Ÿè½½æƒ…å†µï¼Œå°†è¯·æ±‚åˆ†é…ç»™ä¸åŒçš„webæœåŠ¡å™¨ï¼Œä¿è¯æœåŠ¡å™¨æ€§èƒ½ æé«˜webæœåŠ¡å™¨çš„IOæ€§èƒ½ï¼šè¿™ä¸ªæˆ‘ä¹Ÿæ²¡çœ‹æ‡‚ï¼Œæ€»ç»“æ¥è¯´å°±æ˜¯è¯·æ±‚ä»å®¢æˆ·ç«¯ä¼ åˆ°webæœåŠ¡å™¨æ˜¯éœ€è¦æ—¶é—´çš„ï¼Œä¼ é€’å¤šé•¿æ—¶é—´å°±ä¼šè®©è¿™ä¸ªè¿›ç¨‹é˜»å¡å¤šé•¿æ—¶é—´ï¼Œè€Œé€šè¿‡åå‘ä»£ç†ï¼Œå°±å¯ä»¥åœ¨åå‘ä»£ç†è¿™å®Œæ•´æ¥å—è¯·æ±‚ï¼Œç„¶åå†ä¼ ç»™webæœåŠ¡å™¨ï¼Œä»è€Œä¿è¯æœåŠ¡å™¨æ€§èƒ½ï¼Œè€Œä¸”æœ‰çš„ä¸€äº›ç®€å•çš„äº‹æƒ…ï¼ˆæ¯”å¦‚é™æ€æ–‡ä»¶ï¼‰å¯ä»¥ç›´æ¥ç”±åå‘ä»£ç†å¤„ç†ï¼Œä¸ç»è¿‡webæœåŠ¡å™¨ æ€»ç»“","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"apt-get updateæ— æ³•è¿æ¥","slug":"apt-get-updateæ— æ³•è¿æ¥","date":"2018-11-02T05:21:45.000Z","updated":"2019-09-15T08:07:30.919Z","comments":true,"path":"2018/11/02/apt-get-updateæ— æ³•è¿æ¥/","link":"","permalink":"https://nymrli.top/2018/11/02/apt-get-updateæ— æ³•è¿æ¥/","excerpt":"","text":"å‡ºç°çš„é—®é¢˜ åŸå› æ˜¯åœ¨apt-get updateæ—¶é‡åˆ°äº†Unable to connect to ä»£ç†ï¼Œï¼ˆç”±äºapt-get updateä¸€ç›´æ˜¾ç¤ºæ— æ³•è¿æ¥172.17.18.141ç™¾åº¦åå‘ç°è¿™å¹¶ä¸æ˜¯ä¸ªç‰¹æ®Šçš„IP,è€Œä¸”ä¹Ÿå¯ä»¥pingåˆ°ç™¾åº¦ï¼‰äºæ˜¯æƒ³åˆ°æ˜¯å¦ä½¿ç”¨äº†ä»£ç†ã€‚ aptä»£ç†çš„è®¾ç½®ï¼š ä¸´æ—¶æ–¹æ³• export http_proxy=http://10.3.0.1:80 é•¿ä¹…æ–¹æ³• (1) éœ€è¦åœ¨/etc/apt/apt.confä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š (å¦‚æœæ‚¨å¸Œæœ›apt-get(è€Œä¸æ˜¯å…¶ä»–åº”ç”¨ç¨‹åº)ä¸€ç›´ä½¿ç”¨httpä»£ç†,æ‚¨å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚) Acquire::http::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; Acquire::ftp::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; Acquire::https::proxy &quot;http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£&quot;; ä¿å­˜apt.confæ–‡ä»¶ã€‚ (2)æ–°å»ºä¸€ä¸ªä»£ç†é…ç½®æ–‡ä»¶,åœ¨apt-get æ—¶ä½¿ç”¨é…ç½®,15.10å¯ç”¨(é’ˆå¯¹éœ€è¦ä¸‹è½½çš„å•ä¸ªä¸åŒæ–‡ä»¶) å»ºç«‹æ–‡ä»¶ vim proxyfile Acquire::http::proxy &quot;http://10.3.0.1:80&quot;; Acquire::ftp::proxy &quot;http://10.3.0.1:80&quot;; Acquire::https::proxy &quot;http://10.3.0.1:80&quot;; ä½¿ç”¨æ—¶sudo apt-get install xxx -c proxyfile (2)åœ¨ä¸»ç›®å½•ä¸‹çš„.bashrcæ–‡ä»¶ä¸­æ·»åŠ ä¸¤è¡Œã€‚(å¦‚æœæ‚¨å¸Œæœ›apt-getå’Œå…¶ä»–åº”ç”¨ç¨‹åºå¦‚wgetç­‰éƒ½ä½¿ç”¨httpä»£ç†,æ‚¨å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚ ) åœ¨æ‚¨çš„.bashrcæ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ export http_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ export https_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ export ftp_proxy=http://ç”¨æˆ·å:å¯†ç @åœ°å€:ç«¯å£/ é™„ä¸Šä¸€ç¯‡ubuntuè®¾ç½®ä»£ç†çš„æ–‡ç« :ubuntuè®¾ç½®ä»£ç† Ubuntuä¸‹è®©ç»ˆç«¯èµ°SSä»£ç†çš„æ–¹æ³• Ubuntuä¸‹è®©ç»ˆç«¯èµ°SSä»£ç†éœ€è¦ç¬¬ä¸‰æ–¹è½¯ä»¶çš„å¸®åŠ©ï¼Œå³privoxyã€‚ privoxy æ˜¯éå¿«å–å¼ (non-caching) çš„ç½‘é¡µä»£ç†ä¼ºæœå™¨ï¼Œå…·æœ‰è¿›é˜¶çš„è¿‡æ»¤èƒ½åŠ›ï¼Œå¯å¼ºåŒ–éšç§æƒï¼Œè¿˜å¯ä»¥ä¿®æ”¹ç½‘é¡µèµ„æ–™ã€ç®¡ç† HTTP cookiesã€å»é™¤å¹¿å‘Šç­‰ã€‚ å®‰è£… privoxy sudo apt-get install privoxy å®‰è£…å®Œæˆååœ¨ /etc/privoxy ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°é…ç½®æ–‡ä»¶ configã€‚ é…ç½® privoxy ä¸€èˆ¬åœ°ï¼Œæ”¹é…ç½®å‰åº”è¯¥å¤‡ä»½é…ç½®ã€‚ mv /etc/privoxy/config /etc/privoxy/config.back ç„¶åæ‰“å¼€ config æ–‡ä»¶ï¼Œæ‰¾åˆ°listen-addressé‚£ä¸€è¡Œï¼Œä¿®æ”¹å€¼ä¸º privoxy ç›‘å¬çš„åœ°å€ï¼Œä¸€èˆ¬ä½¿ç”¨é»˜è®¤ã€‚ ç„¶åå†æ‰¾åˆ°forward-socks5é‚£ä¸€è¡Œï¼Œå»æ‰æ³¨é‡Šï¼Œå€¼ä¸ºSSä»£ç†ç›‘å¬çš„åœ°å€ã€‚ è®©ç»ˆç«¯èµ°SSä»£ç†,ä¿®æ”¹é…ç½®åï¼Œé‡å¯ privoxyã€‚ sudo /etc/init.d/privoxy restart ç„¶ååœ¨ç»ˆç«¯ä¸‹æ·»åŠ  http ä»£ç†ã€‚ export http_proxy=â€127.0.0.1:8118â€ export https_proxy=â€127.0.0.1:8118â€ ç„¶åå°±å¯ä»¥æ„‰å¿«çš„ç”¨ç»ˆç«¯ç¿»å¢™äº†ã€‚ åŸæ–‡ï¼šhttps://blog.csdn.net/tailgo/article/details/52075643","categories":[],"tags":[{"name":"linux","slug":"linux","permalink":"https://nymrli.top/tags/linux/"}]},{"title":"Windowsæ§åˆ¶å°Cmdä¹±ç ï¼ˆåŠæ°¸ä¹…ä¿®æ”¹ç¼–ç ï¼‰è§£å†³æ–¹æ³•","slug":"Windows-æ§åˆ¶å°Cmdä¹±ç ï¼ˆåŠæ°¸ä¹…ä¿®æ”¹ç¼–ç ï¼‰è§£å†³æ–¹æ³•","date":"2018-10-28T08:42:20.000Z","updated":"2019-09-15T08:07:31.013Z","comments":true,"path":"2018/10/28/Windows-æ§åˆ¶å°Cmdä¹±ç ï¼ˆåŠæ°¸ä¹…ä¿®æ”¹ç¼–ç ï¼‰è§£å†³æ–¹æ³•/","link":"","permalink":"https://nymrli.top/2018/10/28/Windows-æ§åˆ¶å°Cmdä¹±ç ï¼ˆåŠæ°¸ä¹…ä¿®æ”¹ç¼–ç ï¼‰è§£å†³æ–¹æ³•/","excerpt":"","text":"æˆ‘æœ¬æœºçš„ç³»ç»Ÿç¯å¢ƒï¼š`OS Name: Microsoft Windows 10 å®¶åº­ä¸­æ–‡ç‰ˆ Windows æ§åˆ¶å°Cmdä¹±ç çš„è§£å†³åŠæ³•(ä¸€æ¬¡æ€§) åœ¨cmdä¸­è¾“å…¥ CHCP 65001 æ³¨ï¼šCHCPæ˜¯ä¸€ä¸ªè®¡ç®—æœºæŒ‡ä»¤ï¼Œèƒ½å¤Ÿæ˜¾ç¤ºæˆ–è®¾ç½®æ´»åŠ¨ä»£ç é¡µç¼–å·ã€‚ ä»£ç é¡µ æè¿° 65001 UTF-8ä»£ç é¡µ 950 ç¹ä½“ä¸­æ–‡ 936 ç®€ä½“ä¸­æ–‡é»˜è®¤çš„GBK 437 MS-DOS ç¾å›½è‹±è¯­ ä½†æ˜¯é€šè¿‡CHCPè®¾ç½®ç¼–ç æ˜¯æ²»æ ‡ä¸æ²»æœ¬çš„,æƒ³æ°¸ä¹…çš„æ›´æ”¹cmdç¼–ç å€¼éœ€è¦ä¿®æ”¹æ³¨å†Œè¡¨ Windows æ§åˆ¶å°Cmdä¹±ç çš„è§£å†³åŠæ³•(æ°¸ä¹…æ€§) æ–¹æ³•ä¸€ï¼š 1.åœ¨cmdä¸­è¾“å…¥regeditè¿›å…¥æ³¨å†Œè¡¨ 2.æ‰¾åˆ°HKEY_CURRENT_USER\\Console\\%SystemRoot%_system32_cmd.exe 3.æ–°å»ºä¸€ä¸ª DWORDï¼ˆ32ä½å€¼ï¼‰,å‘½åä¸ºCodePageï¼Œå€¼è®¾ä¸º65001 4.å·²æœ‰CodePageçš„è¯ï¼Œä¿®æ”¹å®ƒï¼Œæ”¹ä¸ºåè¿›åˆ¶ï¼Œ65001 æ–¹æ³•äºŒï¼š(äº²æµ‹æœ‰æ•ˆ) 1.æ–°å»ºä¸€ä¸ªcmd.regæ³¨å†Œè¡¨æ–‡ä»¶: 2.å†…å®¹è¾“å…¥å¦‚ä¸‹ï¼š 123456789Windows Registry Editor Version 5.00[HKEY_CURRENT_USER\\Console\\%SystemRoot%_system32_cmd.exe]&quot;CodePage&quot;=dword:0000fde9&quot;FontFamily&quot;=dword:00000036&quot;FontWeight&quot;=dword:00000190&quot;FaceName&quot;=&quot;Consolas&quot;&quot;ScreenBufferSize&quot;=dword:232900d2&quot;WindowSize&quot;=dword:002b00d2 3.åŒå‡»è¿è¡Œ","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"JSæ­£åˆ™åŠå¸¸ç”¨æ–¹æ³•å‡½æ•°æ€»ç»“","slug":"JSæ­£åˆ™åŠå¸¸ç”¨æ–¹æ³•å‡½æ•°æ€»ç»“","date":"2018-10-25T03:55:20.000Z","updated":"2019-09-15T08:07:30.949Z","comments":true,"path":"2018/10/25/JSæ­£åˆ™åŠå¸¸ç”¨æ–¹æ³•å‡½æ•°æ€»ç»“/","link":"","permalink":"https://nymrli.top/2018/10/25/JSæ­£åˆ™åŠå¸¸ç”¨æ–¹æ³•å‡½æ•°æ€»ç»“/","excerpt":"","text":"JSæ­£åˆ™åŠå¸¸ç”¨æ–¹æ³•å‡½æ•°æ€»ç»“ æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºä¸€ç§åŒ¹é…å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨åœ¨å¾ˆå¤šè¯­è¨€ä¸­éƒ½å¾—åˆ°äº†å¹¿æ³›å®ç°å’Œåº”ç”¨ï¼Œwebå¼€å‘æœ¬è´¨ä¸Šæ˜¯å¤„ç†å­—ç¬¦ä¸²ï¼ˆæœåŠ¡ç«¯æ¥å—è¯·æ±‚å¤„ç†åæ‹¼æ¥å­—ç¬¦ä¸²ä½œä¸ºå“åº”ï¼Œè¿™åœ¨æ—©æœŸçš„CGIç¼–ç¨‹ä¸­æœ€æ˜æ˜¾ï¼Œç„¶åå®¢æˆ·ç«¯è§£æå­—ç¬¦ä¸²è¿›è¡Œæ¸²æŸ“å’Œæ‰§è¡Œï¼‰ï¼Œæ‰€ä»¥è¯´ï¼ŒJSä½œä¸ºä¸€é—¨å¸¸ç”¨äºwebå¼€å‘çš„è¯­è¨€ï¼Œå¿…ç„¶è¦å…·å¤‡æ­£åˆ™è¿™ç§å¼ºå¤§çš„ç‰¹æ€§ï¼Œæœ¬æ–‡å°†å¯¹JSä¸­çš„æ­£åˆ™ç”¨æ³•åŠå¸¸ç”¨å‡½æ•°è¿›è¡Œä¸€ç•ªæ€»ç»“ã€‚ 1.æ­£åˆ™å¯¹è±¡åŠå…¶å±æ€§ é¦–å…ˆæ­£åˆ™å¯¹è±¡æ˜¯JSä¸­å†…ç½®çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¥½æ¯”Arrayä»¥åŠMathä¸€æ ·ï¼Œä¸éœ€è¦ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒï¼Œé€šå¸¸æˆ‘ä»¬é‡‡å–ä¸¤ç§æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªæ­£åˆ™å¯¹è±¡. 1ï¼‰æ„é€ å‡½æ•°æ–¹å¼ 12345var reg=new RegExp('abc','gi');/*è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™çš„å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¿®é¥°ç¬¦ï¼Œä¿®é¥°ç¬¦é€šå¸¸æœ‰ä¸‰ç§ï¼Œi,g,mï¼Œiè¡¨ç¤ºçš„å«ä¹‰æ˜¯å¿½ç•¥å¤§å°å†™è¿›è¡ŒåŒ¹é…ï¼Œgè¡¨ç¤ºå…¨å±€åŒ¹é…å³åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªä¹‹åä¸åœæ­¢ç»§ç»­åŒ¹é…ï¼Œmè¡¨ç¤ºå¤šè¡ŒåŒ¹é…å³é‡åˆ°æ¢è¡Œåä¸åœæ­¢åŒ¹é…ç»§ç»­ç›´åˆ°è¢«åŒ¹é…å­—ç¬¦ä¸²ç»“æŸã€‚*/ /i (å¿½ç•¥å¤§å°å†™) /g (å…¨æ–‡æŸ¥æ‰¾å‡ºç°çš„æ‰€æœ‰åŒ¹é…å­—ç¬¦,å¦åˆ™åªåŒ¹é…ç¬¬ä¸€ä¸ªå‡ºç°çš„) /m (å¤šè¡ŒæŸ¥æ‰¾) /gi(å…¨æ–‡æŸ¥æ‰¾ã€å¿½ç•¥å¤§å°å†™) /ig(å…¨æ–‡æŸ¥æ‰¾ã€å¿½ç•¥å¤§å°å†™) 2ï¼‰å­—é¢é‡æ–¹å¼ 123456var reg=/abc/gi;consolo.dir(reg);/**â–².ä¸¤ä¸ªæ–œæ ä¹‹é—´çš„æ˜¯å®šä¹‰çš„æ­£åˆ™å†…å®¹*ï¼Œæœ€åä¸€ä¸ªæ–œæ ä¹‹åçš„æ˜¯ä¿®é¥°ç¬¦ï¼Œè¿™ç§æ–¹å¼æ¯”ç¬¬ä¸€ç§ç®€å•é«˜æ•ˆï¼Œæ‰€ä»¥é€šå¸¸ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼æ¥å®šä¹‰æ­£åˆ™ã€‚*/ 2.å±æ€§ åœ¨æ§åˆ¶å°ä¸­æ‰“å°ä¸€ä¸ªæ­£åˆ™å¯¹è±¡å¦‚ä¸‹ï¼š globalå±æ€§ï¼Œè¯¥å±æ€§ä¸ºå¸ƒå°”ç±»å‹ï¼Œç”¨æ¥è¡¨ç¤ºè¯¥æ­£åˆ™æ˜¯å¦æ˜¯å…¨å±€åŒ¹é…ï¼Œ ignoreCaseå±æ€§ï¼Œå¸ƒå°”ç±»å‹ï¼Œç”¨æ¥æŒ‡ç¤ºæ˜¯å¦å¿½ç•¥å¤§å°å†™ï¼Œ lastIndexä¸ºnumberç±»å‹ï¼Œç”¨æ¥è¡¨ç¤ºä¸Šæ¬¡åŒ¹é…æˆåŠŸçš„ä½ç½®ï¼Œ multilineï¼Œå¸ƒå°”ç±»å‹ï¼Œç”¨æ¥è¡¨ç¤ºæ˜¯å¦æ˜¯å¤šè¡ŒåŒ¹é…ï¼Œsourceï¼Œstringç±»å‹ï¼Œç”¨æ¥è¡¨ç¤ºæ­£åˆ™çš„å†…å®¹ã€‚ lastIndex å±æ€§è¡¨ç¤ºçš„ç´¢å¼•å¤„ä¸ºç›®æ ‡å­—ç¬¦ä¸²åŒ¹é…ï¼ˆå¹¶ä¸”ä¸ä¼šå°è¯•ä»åç»­ç´¢å¼•åŒ¹é…ï¼‰,ä½ ä¸èƒ½ç›´æ¥æ›´æ”¹è¿™ä¸ªå±æ€§ï¼Œå®ƒæ˜¯åªè¯»çš„ã€‚å¯ä»¥é€šè¿‡^ unicodeæ ‡å¿—å¼€å¯äº†å¤šç§ Unicode ç›¸å…³çš„ç‰¹æ€§ã€‚ä½¿ç”¨ â€œuâ€ æ ‡å¿—ï¼Œä»»ä½• Unicode ä»£ç ç‚¹çš„è½¬ä¹‰éƒ½ä¼šè¢«è§£é‡Šã€‚ 3.æ–¹æ³• é€šå¸¸å¯¹äºä¸€ä¸ªæ­£åˆ™å¯¹è±¡æ¥è®²ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨çš„æ–¹æ³•åŸºæœ¬ä¸Šæœ‰ä¸‰ä¸ªï¼Œå³regObj.test,regObj.execåŠregObj.compile 1ï¼‰testæ–¹æ³• è¯¥æ–¹æ³•ç”¨æ¥æµ‹è¯•æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸æ­£åˆ™åŒ¹é…ï¼ŒåŒ¹é…å°±è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•° 123 var reg=/boy(s)?\\s+and\\s+girl(s)?/gi; console.log(reg.test('boy and girl'));//==&gt;true 2)compileæ–¹æ³• è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯èƒ½å¤Ÿå¯¹æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç¼–è¯‘ï¼Œè¢«ç¼–è¯‘è¿‡çš„æ­£åˆ™åœ¨ä½¿ç”¨çš„æ—¶å€™æ•ˆç‡ä¼šæ›´é«˜ï¼Œé€‚åˆäºå¯¹ä¸€ä¸ªæ­£åˆ™å¯¹è±¡(æ¨¡å¼)å¤šæ¬¡è°ƒç”¨çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå¯¹ä¸€ä¸ªæ­£åˆ™åªä½¿ç”¨ä¸€ä¸¤æ¬¡ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•æ²¡æœ‰ç‰¹åˆ«æ˜¾è‘—çš„æ•ˆåº”ã€‚ æ¥å—çš„å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªæ­£åˆ™ã€‚ 1234567var reg=/[abc]/gi; console.log(reg.test('a')); //==&gt;true reg=/[cde]/gi; console.log(reg.test('a')); //==&gt;false reg.compile(reg); console.log(reg.test('a')); //==&gt;false//è¢«ç¼–è¯‘çš„æ­£åˆ™å’Œæ²¡æœ‰ç¼–è¯‘çš„æ­£åˆ™åœ¨æµ‹è¯•ç»“æœä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œåªæ˜¯å¤šæ¬¡è°ƒç”¨çš„æ•ˆç‡ä¸Šä¼šæ›´é«˜ä¸€äº›ã€‚ 3ï¼‰execæ–¹æ³• è¯¥æ–¹æ³•å±äºä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­ç¬¬0ä¸ªå…ƒç´ æ˜¯åŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯æ­£åˆ™ä¸­çš„ç¬¬ä¸€ä¸ªå­åˆ†ç»„åŒ¹é…çš„ç»“æœï¼ˆå¦‚æœæœ‰å­åˆ†ç»„ï¼Œå³æ­£åˆ™ä¸­å­˜åœ¨ç”¨åœ†æ‹¬å·æ‹¬èµ·æ¥çš„åˆ†ç»„ï¼‰ï¼Œç¬¬ä¸‰ä¸ªæ˜¯æ­£åˆ™ä¸­ç¬¬äºŒä¸ªå­åˆ†ç»„åŒ¹é…çš„ç»“æœï¼ˆå¦‚æœæœ‰ç¬¬äºŒä¸ªå­åˆ†ç»„ï¼‰â€¦ä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœæ²¡æœ‰æ­£åˆ™å­åˆ†ç»„ï¼Œé‚£ä¹ˆè¯¥æ•°ç»„é•¿åº¦ä»…ä»…ä¸º1ï¼Œå°±æ˜¯åŒ¹é…åˆ°çš„é‚£ä¸ªå­å­—ç¬¦ä¸²ã€‚åŒæ—¶ï¼Œè¿”å›çš„è¿™ä¸ªæ•°ç»„åŒæ—¶è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæ‹¥æœ‰ä¸¤ä¸ªå±æ€§ï¼Œåˆ†åˆ«ä¸ºindexè¡¨ç¤ºå½“å‰åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ‰€å¤„çš„ä½ç½®ï¼Œinputå±æ€§è¡¨ç¤ºè¢«åŒ¹é…çš„åŸå§‹å­—ç¬¦ä¸²ã€‚æœ€åï¼Œè¯¥æ–¹æ³•ä¸­çš„æ­£åˆ™å¯¹è±¡å¦‚æœä¸æ˜¯å…¨å±€åŒ¹é…ï¼Œå³æ²¡æœ‰gä¿®é¥°ç¬¦ï¼Œåˆ™æ¯æ¬¡è°ƒç”¨åªä¼šä»å­—ç¬¦ä¸²å¼€å¤´å¤„åŒ¹é…ç¬¬ä¸€ä¸ªç»“æœï¼Œä¸”æ¯æ¬¡è°ƒç”¨ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚åªæœ‰æŒ‡å®šä¸ºå…¨å±€åŒ¹é…ï¼Œæ‰èƒ½å¤ŸæŒ‰ç…§ä»å·¦å¾€å³ä¾æ¬¡å»åŒ¹é…ï¼Œæ¯æ¬¡è°ƒç”¨åŒ¹é…ä¸€ä¸ªç»“æœï¼Œæ­£åˆ™å¯¹è±¡çš„lastIndexå±æ€§å‰è¿›åˆ°æœ¬æ¬¡åŒ¹é…çš„æœ«å°¾ä½ç½®ï¼Œä¸‹å›å†è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šä»lastIndexå¤„å¼€å§‹åŒ¹é…è€Œä¸æ˜¯ä»å¤´åŒ¹é…ã€‚ 12345678var reg=/(\\w)l(\\w)/g;var str=\"hello world hello 123 hello programmer hello test\";var arr=reg.exec(str); while(arr)&#123; console.dir(arr); console.log(\"lastIndex:\"+reg.lastIndex); arr=reg.exec(str); &#125; ç»“æœå¦‚ä¸‹ï¼š 12345678910111213141516//éå…¨å±€åŒ¹é…ä»£ç ï¼švar reg=/(\\w)l(\\w)/; var str=\"hello world hello 123 hello programmer hello test\"; var arr=reg.exec(str); var i=0; while(arr)&#123; i++; if(i&lt;=4)&#123; console.dir(arr); console.log(\"lastIndex:\"+reg.lastIndex); arr=reg.exec(str); &#125; else&#123; break; &#125; &#125; è¿™ä¸ªæ—¶å€™æ¯æ¬¡è°ƒç”¨çš„ç»“æœéƒ½ä¸€æ ·ï¼ŒlastIndexæ ¹æœ¬æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚ ä»¥ä¸Šå°±æ˜¯æ­£åˆ™å¯¹è±¡åŠå…¶æ–¹æ³•ï¼Œå…¶å®åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼ŒJSä¸­çš„Stringç±»å‹çš„å¯¹è±¡ä¹Ÿæ‹¥æœ‰ä¸€äº›å’Œæ­£åˆ™ç›¸å…³çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š Stringç±»å‹çš„å¯¹è±¡çš„æ­£åˆ™æ–¹æ³• 1ï¼‰searchæ–¹æ³• è¯¥æ–¹æ³•æ˜¯stringå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥æŸ¥æ‰¾ç¬¬ä¸€æ¬¡åŒ¹é…çš„å­å­—ç¬¦ä¸²çš„ä½ç½®ï¼Œå¦‚æœæ‰¾åˆ°å°±è¿”å›ä¸€ä¸ªnumberç±»å‹çš„indexå€¼ï¼Œå¦åˆ™è¿”å›-1,å®ƒè¿”å›çš„åªæ˜¯ç¬¬ä¸€æ¬¡åŒ¹é…çš„ä½ç½®ã€‚ å®ƒæ¥å—ä¸€ä¸ªæ­£åˆ™æˆ–è€…å­å­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬åªè®¨è®ºæ­£åˆ™çš„æƒ…å†µã€‚ 123var str=\"hello world\";console.log(str.search(/o/g));//è¾“å‡ºç»“æœä¸º4ï¼Œå¯ä»¥çœ‹åˆ°å°½ç®¡å…·æœ‰å¤šä¸ªåŒ¹é…ç»“æœè€Œä¸”ä¹Ÿå£°æ˜ä¸ºå…¨å±€åŒ¹é…ï¼Œä½†æ˜¯è¿˜æ˜¯è¿”å›çš„æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„å­ä¸²çš„ä½ç½®ï¼› 2ï¼‰replaceæ–¹æ³• è¯¥æ–¹æ³•ç”¨æ¥å°†å­—ç¬¦ä¸²ä¸­çš„æŸäº›å­ä¸²æ›¿æ¢ä¸ºéœ€è¦çš„å†…å®¹ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ä¸ºæ­£åˆ™æˆ–è€…å­å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºåŒ¹é…éœ€è¦è¢«æ›¿æ¢çš„å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè¢«æ›¿æ¢çš„æ–°çš„å­å­—ç¬¦ä¸²ã€‚å¦‚æœå£°æ˜ä¸ºå…¨å±€åŒ¹é…åˆ™ä¼šæ›¿æ¢æ‰€æœ‰ç»“æœï¼Œå¦åˆ™åªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„ç»“æœã€‚ 1234var str=&quot;hello world,hello test&quot;;console.log(str.replace(/hello/g,&apos;hi&apos;));//ç»“æœä¸ºhi world,hi test//å¦‚æœå°†ä¸Šé¢ä»£ç ä¸­çš„gä¿®é¥°ç¬¦å»æ‰ï¼Œåˆ™è¿”å›çš„ç»“æœæ˜¯hi world,hello test 3ï¼‰splitæ–¹æ³• è¯¥æ–¹æ³•ä¸»è¦ç”¨æ¥å°†ä¸€ä¸ªå­—ç¬¦ä¸²æ‹†åˆ†æˆä¸€ä¸ªæ•°ç»„ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ­£åˆ™æˆ–è€…å­å­—ç¬¦ï¼ˆä¸²ï¼‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç®€å•æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨æ­£åˆ™ï¼Œåªæœ‰åœ¨å­—ç¬¦ä¸²æ‹†åˆ†è§„åˆ™ä¸ç»Ÿä¸€çš„æƒ…å†µä¸‹æ‰éœ€è¦ä½¿ç”¨æ­£åˆ™ï¼Œå¦‚ä¸‹ï¼š 12345var str=\"how|old*are you\";var arr=str.split(/\\||\\*|\\s+/);// ä»¥|ã€*ã€å¤šé¡¹ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦// \\s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦,åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰console.log(arr); è¿™é‡Œéœ€è¦å°†stræ‹†åˆ†ä¸ºå•è¯æ•°ç»„ï¼Œç”±äºæ¯ä¸ªå•è¯ä¹‹é—´å­˜åœ¨ä¸ä¸€æ ·çš„åˆ†éš”ç¬¦ï¼Œæˆ‘ä»¬é‡‡å–æ­£åˆ™æ¥åŒ¹é…ï¼Œç»“æœå¦‚ä¸‹ï¼š 4ï¼‰matchæ–¹æ³• è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªæ­£åˆ™ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒçš„è¾“å‡ºç»“æœåœ¨ä¸æ˜¯å…¨å±€åŒ¹é…çš„æƒ…å†µä¸‹å’Œexecæ–¹æ³•çš„ç»“æœä¸€è‡´å³ä¸€ä¸ªæ•°ç»„å¹¶å¸¦æœ‰é¢å¤–çš„å±æ€§ï¼Œå¦‚æœé‡‡ç”¨å…¨å±€åŒ¹é…ï¼Œåˆ™ä¸è¿”å›ä»»ä½•å’Œå…¶è¢«åŒ¹é…å­—ç¬¦ä¸²ç›¸å…³çš„ä¿¡æ¯ï¼Œåªè¿”å›åŒ¹é…çš„ç»“æœã€‚ 12345678910111213141516//éå…¨å±€åŒ¹é…ä»£ç ï¼švar reg2=/(\\w)s(\\w)/;var str2=\"ws1esr\";var result=str2.match(reg2);var i=0; while(result)&#123; i++; if(i&lt;=4)&#123; console.dir(result); console.log(\"lastIndex:\"+reg2.lastIndex); &#125; else&#123; break; &#125; &#125;//éå…¨å±€åŒ¹é…ä¸‹ï¼Œç»“æœå’Œexecéå…¨å±€åŒ¹é…æ–¹æ³•è¿”å›çš„å®Œå…¨ä¸€è‡´ï¼Œ 12345//å…¨å±€åŒ¹é…ä»£ç ï¼švar reg3=/(\\w)s(\\w)/g;var str4=\"ws1estqsa\";console.dir(str4.match(reg3));//å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å…¨å±€åŒ¹é…ä¸‹çš„æ—¶å€™ï¼Œå®ƒä¸åŒäºexecæ–¹æ³•ï¼Œå®ƒä¼šä¸€æ¬¡æ€§å°†æ‰€æœ‰åŒ¹é…ç»“æœä»¥æ•°ç»„å½¢å¼è¿”å›ï¼Œä¸”è¿™ä¸ªæ•°ç»„æ²¡æœ‰å…¶ä»–å±æ€§ç”¨æ¥æŒ‡å‘è¢«åŒ¹é…å­—ç¬¦ä¸²çš„ä¿¡æ¯ï¼Œè€Œexecæ–¹æ³•åœ¨å…¨å±€åŒ¹é…ä¸‹æ¯æ¬¡è¿”å›çš„ä¾ç„¶æ˜¯æœ¬æ¬¡åŒ¹é…çš„ç»“æœæ•°ç»„ï¼Œä¸”è¿™ä¸ªæ•°ç»„ä¸­åªåŒ…å«æœ¬æ¬¡åŒ¹é…ä¿¡æ¯ï¼ŒåŒæ—¶åˆæ‹¥æœ‰æŒ‡å‘è¢«åŒ¹é…å­—ç¬¦ä¸²çš„ä¿¡æ¯ï¼Œå³matchæ–¹æ³•åœ¨å…¨å±€åŒ¹é…ä¸‹ä¸€æ¬¡æ€§è¿”å›äº†æ‰€æœ‰åŒ¹é…ç»“æœï¼Œè€Œexecåœ¨å…¨å±€åŒ¹é…ä¸‹è¿”å›çš„ä¾ç„¶æ˜¯å½“æ¬¡åŒ¹é…ç»“æœã€‚","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://nymrli.top/tags/JavaScript/"}]},{"title":"Sublime Text3 Pythonè™šæ‹Ÿç¯å¢ƒï¼ˆè¡¥å……ï¼‰â€”â€”è§£å†³æ§åˆ¶å°ä¸­æ–‡ä¹±ç æƒ…å†µ","slug":"Sublime-Text3-Pythonè™šæ‹Ÿç¯å¢ƒï¼ˆè¡¥å……ï¼‰â€”â€”è§£å†³æ§åˆ¶å°ä¸­æ–‡ä¹±ç æƒ…å†µ","date":"2018-10-24T10:52:35.000Z","updated":"2021-12-27T13:47:30.257Z","comments":true,"path":"2018/10/24/Sublime-Text3-Pythonè™šæ‹Ÿç¯å¢ƒï¼ˆè¡¥å……ï¼‰â€”â€”è§£å†³æ§åˆ¶å°ä¸­æ–‡ä¹±ç æƒ…å†µ/","link":"","permalink":"https://nymrli.top/2018/10/24/Sublime-Text3-Pythonè™šæ‹Ÿç¯å¢ƒï¼ˆè¡¥å……ï¼‰â€”â€”è§£å†³æ§åˆ¶å°ä¸­æ–‡ä¹±ç æƒ…å†µ/","excerpt":"","text":"è½¬è‡ªï¼šedwardguiçš„åšå®¢ æ­£å¸¸çš„ç”¨pythonç¼–è¯‘æ§åˆ¶å°æ˜¯ä¸ä¼šå‡ºç°ä¹±ç çš„ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒçš„æƒ…å†µä¸‹ä¸­æ–‡æ€»æ˜¯ä¹±ç ï¼Œä¸€å¼€å§‹ä»¥ä¸ºæ˜¯windowsæ§åˆ¶å°ç¼–ç çš„é—®é¢˜ã€‚æ‰¾äº†æŒºä¹…åå‘ç°æ˜¯python+virtualenvç¼–è¯‘ç³»ç»Ÿçš„é—®é¢˜ï¼Œç°åœ¨æˆ‘å°±å¸¦é¢†å¤§å®¶è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ â–²æ³¨ï¼šWindowsç¯å¢ƒä¸‹ é¦–å…ˆçœ‹ä¸‹æ˜¯å¦å·²ç»å®‰è£…äº†Virtualenv packageæ’ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™Ctrl+Shift+Pï¼Œinstall Package,è¾“å…¥Virtualenvå®‰è£…ã€‚ æ‰¾åˆ°æ’ä»¶å®‰è£…çš„åœ°æ–¹ï¼šC:\\Users{Username}\\AppData\\Roaming\\Sublime Text 3\\Installed Packages ==&gt;æ³¨æ„æ”¹å˜ä¸€ä¸‹Username è§£å‹Virtualenv.sublime-packageæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡å…ˆæ·»åŠ åç¼€.zipå˜ä¸ºVirtualenv.sublime-package.zipå†è§£å‹ åŒ…å«æ–‡ä»¶å¦‚ä¸‹ï¼š ä¿®æ”¹Python + Virtualenv.sublime-buildæ–‡ä»¶ï¼Œ å¢åŠ ä¸€è¡Œï¼š&quot;env&quot;: {&quot;PYTHONIOENCODING&quot;: &quot;utf8&quot;}, ä½¿å…¶å˜æˆ 123456789&#123;\"env\": &#123;\"PYTHONIOENCODING\": \"utf8\"&#125;,\"target\": \"virtualenv_exec\",\"shell_cmd\": \"python -u \\\"$file\\\"\",\"file_regex\": \"^[ ]*File \\\"(...*?)\\\", line ([0-9]*)\",\"selector\": \"source.python\"// éœ€è¦åŠ ä¸Šencoding, å¦åˆ™è¾“å‡ºæ§åˆ¶å°ä¼šä¸­æ–‡ä¹±ç \"encoding\": \"cp936\"&#125; ç„¶åä¿å­˜ï¼Œå†æŠŠè¯¥æ–‡ä»¶æ‰“åŒ…ä¸ºVirtualenv.sublime-package.zipå†å»æ‰åç¼€ï¼Œå°±å¤§åŠŸå‘Šæˆäº†ã€‚ æœ€åæ‰“å¼€Sublime Text3ä½¿ç”¨Python + Virtualenv ç¼–è¯‘ï¼Œå°±èƒ½çœ‹åˆ°ä¸­æ–‡æ­£å¸¸è¾“å‡ºå•¦ï¼","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Sublime Text","slug":"Sublime-Text","permalink":"https://nymrli.top/tags/Sublime-Text/"}]},{"title":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”å°†Cookieä¿å­˜åˆ°æœ¬åœ°çš„å¤šç§æ–¹æ³•ä»‹ç»","slug":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”å°†Cookieä¿å­˜åˆ°æœ¬åœ°çš„å¤šç§æ–¹æ³•ä»‹ç»","date":"2018-10-24T10:43:34.000Z","updated":"2019-09-15T08:07:30.994Z","comments":true,"path":"2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”å°†Cookieä¿å­˜åˆ°æœ¬åœ°çš„å¤šç§æ–¹æ³•ä»‹ç»/","link":"","permalink":"https://nymrli.top/2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”å°†Cookieä¿å­˜åˆ°æœ¬åœ°çš„å¤šç§æ–¹æ³•ä»‹ç»/","excerpt":"","text":"æ–¹æ³•ä¸€ï¼šurllib2 ç»“åˆcookielibåŠurllib2ï¼ŒPython2æ—¶æœŸæ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ï¼Œå¹´ä»£æ¯”è¾ƒä¹…è¿œäº†ã€‚ä¸ªäººè§‰å¾—å¤ªéº»çƒ¦ï¼Œæ”¹ç”¨requests. â–²éœ€è¦æ³¨æ„çš„æ˜¯cookielibåœ¨python3ä¸­å·²ç»æ”¹æˆäº†http.cookiejar 1234567891011121314151617181920212223242526272829303132333435#è¯¥æ–¹æ³•æœ¬äººæœªæµ‹è¯•import urllib2import cookielib#å°†cookieä¿å­˜åœ¨æ–‡ä»¶ä¸­def saveCookie(): #è®¾ç½®ä¿å­˜cookieçš„æ–‡ä»¶ filename = &apos;cookie.txt&apos; #å£°æ˜ä¸€ä¸ªMozillaCookieJarå¯¹è±¡æ¥ä¿å­˜cookieï¼Œä¹‹åå†™å…¥æ–‡ä»¶ cookie = cookielib.MozillaCookieJar(filename) #åˆ›å»ºcookieå¤„ç†å™¨ handler = urllib2.HTTPCookieProcessor(cookie) #æ„å»ºopener opener = urllib2.build_opener(handler) #åˆ›å»ºè¯·æ±‚ res = opener.open(&apos;http://www.baidu.com&apos;) #ä¿å­˜cookieåˆ°æ–‡ä»¶ #ignore_discardçš„æ„æ€æ˜¯å³ä½¿cookieså°†è¢«ä¸¢å¼ƒä¹Ÿå°†å®ƒä¿å­˜ä¸‹æ¥ #ignore_expiresçš„æ„æ€æ˜¯å¦‚æœåœ¨è¯¥æ–‡ä»¶ä¸­cookieså·²ç»å­˜åœ¨ï¼Œåˆ™è¦†ç›–åŸæ–‡ä»¶å†™å…¥ cookie.save(ignore_discard=True,ignore_expires=True)#ä»æ–‡ä»¶ä¸­è·å–cookieå¹¶ä¸”è®¿é—®(æˆ‘ä»¬é€šè¿‡è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥æ‰“å¼€ä¿å­˜åœ¨æœ¬åœ°çš„cookieæ¥æ¨¡æ‹Ÿç™»å½•)def getCookie(): #åˆ›å»ºä¸€ä¸ªMozillaCookieJarå¯¹è±¡ cookie = cookielib.MozillaCookieJar() #ä»æ–‡ä»¶ä¸­çš„è¯»å–cookieå†…å®¹åˆ°å˜é‡ cookie.load(&apos;cookie.txt&apos;,ignore_discard=True,ignore_expires=True) #æ‰“å°cookieå†…å®¹,è¯æ˜è·å–cookieæˆåŠŸ for item in cookie: print &apos;name:&apos; + item.name + &apos;-value:&apos; + item.value #åˆ©ç”¨è·å–åˆ°çš„cookieåˆ›å»ºä¸€ä¸ªopener handler = urllib2.HTTPCookieProcessor(cookie) opener = urllib2.build_opener(handler) res = opener.open(&apos;http://www.baidu.com&apos;) print res.read() æ–¹æ³•äºŒ: ä½¿ç”¨requests.cookie è¯»å–cookies åœ¨è¿™é‡Œæˆ‘ç”¨çš„æ˜¯LWPCookieJarä¿å­˜åœ¨txtæ–‡ä»¶ä¸­ï¼Œè¿˜æœ‰ä¸ªæ˜¯MozillaCookieJarï¼Œéƒ½æ˜¯ç”±FileCookieJar æ´¾ç”Ÿè€Œæ¥ï¼Œå®ç°äº†save()æ–¹æ³•ï¼Œè€ŒFileCookieJar æ²¡æœ‰å®ç°save() MozillaCookieJar (filename,delayload=None,policy=None)ï¼šä»FileCookieJaræ´¾ç”Ÿè€Œæ¥ï¼Œåˆ›å»ºä¸Mozillaæµè§ˆå™¨ cookies.txtå…¼å®¹çš„FileCookieJarå®ä¾‹ã€‚ LWPCookieJar (filename,delayload=None,policy=None)ï¼šä»FileCookieJaræ´¾ç”Ÿè€Œæ¥ï¼Œåˆ›å»ºä¸libwww-perlæ ‡å‡†çš„ Set-Cookie3 æ–‡ä»¶æ ¼å¼å…¼å®¹çš„FileCookieJarå®ä¾‹ã€‚ 123456789#å®ä¾‹åŒ–ä¸€ä¸ªLWPCookieJarå¯¹è±¡load_cookiejar = cookielib.LWPCookieJar()#ä»æ–‡ä»¶ä¸­åŠ è½½cookies(LWPæ ¼å¼)load_cookiejar.load(&apos;cookies.txt&apos;, ignore_discard=True, ignore_expires=True)#å·¥å…·æ–¹æ³•è½¬æ¢æˆå­—å…¸load_cookies = requests.utils.dict_from_cookiejar(load_cookiejar)#å·¥å…·æ–¹æ³•å°†å­—å…¸è½¬æ¢æˆRequestsCookieJarï¼Œèµ‹å€¼ç»™sessionçš„cookies.self.session.cookies = requests.utils.cookiejar_from_dict(load_cookies) å­˜å‚¨cookies å°†cookiesè½¬æ¢æˆLWPæ ¼å¼ç„¶åä¿å­˜ä¸ºæ–‡æœ¬æ ¼å¼ 123456789#å®ä¾‹åŒ–ä¸€ä¸ªLWPcookiejarå¯¹è±¡new_cookie_jar = cookielib.LWPCookieJar(&apos;cookie.txt&apos;)#å°†è½¬æ¢æˆå­—å…¸æ ¼å¼çš„RequestsCookieJarï¼ˆè¿™é‡Œæˆ‘ç”¨å­—å…¸æ¨å¯¼æ‰‹åŠ¨è½¬çš„ï¼‰ä¿å­˜åˆ°LWPcookiejarä¸­===&gt;RequestsCookieJaræ²¡æœ‰å®ç°save()æ–¹æ³•requests.utils.cookiejar_from_dict(&#123;c.name: c.value for c in self.session.cookies&#125;, new_cookie_jar)#ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶new_cookie_jar.save(&apos;cookies.txt&apos;, ignore_discard=True, ignore_expires=True) æ–¹æ³•ä¸‰: å°†cookieå­—å…¸å¼„æˆå­—å…¸å½¢å¼ç„¶åpickleæˆ–è€…jsonå†™å…¥æ–‡ä»¶ä¸­ å­˜å‚¨cookie 12345678import requests,json,pprints = requests.session()s.headers = &#123;...&#125;a = s.get(&quot;https://www.baidu.com&quot;)cookies = requests.utils.dict_from_cookiejar(s.cookies)with open(&quot;.\\\\cook.txt&quot;, &quot;w&quot;) as fp: json.dump(cookies, fp)pprint.pprint(cookies,width=5) è¯»å–cookie 123with open(&quot;.\\cook.txt&quot;, &quot;w&quot;) as fp: load_cookies=son.load(fp)session.cookie = requests.utils.cookiejar_from_dict(load_cookies) æ–¹æ³•å››: å°†requests.cookieè®¾ç½®ä¸ºLWPCookieJarã€æˆ–MozillaCookieJarä¿å­˜ 123456session = requests.Session()#åˆ›å»ºä¸ª LWPCookieJarå¯¹è±¡session.cookies = LWPCookieJar(filename=&apos;cook.txt&apos;)s.get(&apos;https://www.baidu.com/&apos;,headers=headers)session.cookies.save(ignore_discard=True, ignore_expires=True)#å¦‚æœsave()æ—¶æ²¡æœ‰å†™filenameå‚æ•°ï¼Œåˆ™é»˜è®¤ä¸ºå®ä¾‹åŒ–LWPCookieJaræ—¶ç»™çš„æ–‡ä»¶å save()æ–¹æ³•çš„ä¸¤ä¸ªé‡è¦å‚æ•° ignore_discard: save even cookies set to be discarded. ignore_expires: save even cookies that have expired.The file is overwritten if it already exists ignore_discardçš„æ„æ€æ˜¯å³ä½¿cookieså°†è¢«ä¸¢å¼ƒä¹Ÿå°†å®ƒä¿å­˜ä¸‹æ¥ï¼Œignore_expiresçš„æ„æ€æ˜¯å¦‚æœcookieså·²ç»è¿‡æœŸä¹Ÿå°†å®ƒä¿å­˜å¹¶ä¸”æ–‡ä»¶å·²å­˜åœ¨æ—¶å°†è¦†ç›– æ€»ç»“æ–¹æ³•äºŒå’Œæ–¹æ³•ä¸‰å¯ä»¥çœ‹å‡ºï¼Œå°±æ˜¯è¦å°†cookieè½¬æ¢æˆç„¶åsave() ç®€å•ä»‹ç»ä¸‹cookielibæ¨¡å—ä½œç”¨ï¼Œç§‘æ™®ä¸‹å®ç°cookieçŸ¥è¯† python3ä¸­å°†cookielibæ¨¡å—æ”¹ä¸ºäº†http.cookiejar 12345678910&gt; cookielibæ¨¡å—çš„ä¸»è¦ä½œç”¨æ˜¯æä¾›å¯å­˜å‚¨cookieçš„å¯¹è±¡ï¼Œä»¥ä¾¿äºä¸urllib2æ¨¡å—é…åˆä½¿ç”¨æ¥è®¿é—®Internetèµ„æºã€‚ä¾‹å¦‚å¯ä»¥åˆ©ç”¨æœ¬æ¨¡å— çš„CookieJarç±»çš„å¯¹è±¡æ¥æ•è·cookieå¹¶åœ¨åç»­è¿æ¥è¯·æ±‚æ—¶é‡æ–°å‘é€ã€‚coiokielibæ¨¡å—ç”¨åˆ°çš„å¯¹è±¡ä¸»è¦æœ‰ä¸‹é¢å‡ ä¸ªï¼šCookieJarã€ FileCookieJarã€MozillaCookieJarã€LWPCookieJarã€‚å…¶ä¸­ä»–ä»¬çš„å…³ç³»å¦‚ä¸‹ï¼š&gt; &gt; CookieJar &gt; &gt; | &gt; &gt; FileCookieJar &gt; &gt; / \\ &gt; MozillaCookieJar LWPCookieJar","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”Sessionä¸Cookie","slug":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”Sessionä¸Cookie","date":"2018-10-24T10:36:56.000Z","updated":"2019-09-15T08:07:30.990Z","comments":true,"path":"2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”Sessionä¸Cookie/","link":"","permalink":"https://nymrli.top/2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”Sessionä¸Cookie/","excerpt":"","text":"Sessionå’ŒCookieï¼š Cookieï¼šä¿æŒç™»å½•åçš„è®¤è¯çŠ¶æ€è€Œä¿å­˜åœ¨æœ¬åœ°çš„æ•°æ® session:ç”¨cookieæ¥æ ‡è®°ç”¨æˆ·ï¼Œcookieæºå¸¦äº†ä¼šè¯IDæ¶ˆæ¯ï¼Œé€šè¿‡æ£€æŸ¥cookieå°±èƒ½æ‰¾åˆ°ä¼šè¯(session) cookieä¸sessionç›¸äº’é…åˆï¼Œä¸€ä¸ªå¤„äºå®¢æˆ·ç«¯ï¼Œä¸€ä¸ªå¤„äºæœåŠ¡ç«¯ï¼Œä¸¤è€…ç›¸äº’åä½œã€‚ ä¼šè¯cookieå’ŒæŒä¹…cookie ä¼šè¯Cookieï¼šæŠŠcookieæ”¾åœ¨æµè§ˆå™¨å†…å­˜é‡Œï¼Œæµè§ˆå™¨å…³é—­åå¤±æ•ˆã€‚ æŒä¹…Cookieï¼šä¿å­˜cookieåˆ°å®¢æˆ·ç«¯çš„ç¡¬ç›˜ä¸­ï¼Œä¸‹æ¬¡ç»§ç»­ä½¿ç”¨ã€‚ ç”±Cookieçš„Max Ageå’ŒExpireså†³å®šäº†è¿‡æœŸçš„æ—¶é—´ã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”ä»£ç†","slug":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”ä»£ç†","date":"2018-10-24T10:36:28.000Z","updated":"2019-09-15T08:07:30.992Z","comments":true,"path":"2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”ä»£ç†/","link":"","permalink":"https://nymrli.top/2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”ä»£ç†/","excerpt":"","text":"ä»£ç† åŸºæœ¬åŸç† ä»£ç†å®é™…ä¸ŠæŒ‡ä»£ç†æœåŠ¡å™¨ã€‚åŠŸèƒ½æ˜¯ä»£ç† ç½‘ç»œç”¨æˆ·å»å–å¾—ç½‘ç»œä¿¡æ¯ï¼Œæ˜¯ç½‘ç»œä¿¡æ¯çš„ä¸­è½¬ç«™ã€‚ æ­£å¸¸çš„è¯·æ±‚è¿‡ç¨‹ä¸ºï¼šå‘é€è¯·æ±‚ç»™æœåŠ¡å™¨===&gt;webæœåŠ¡å™¨å§å“åº”ä¼ å› è®¾ç½®ä»£ç†æœåŠ¡å™¨åï¼š&gt;å‘ä»£ç†æœåŠ¡å™¨å‘é€è¯·æ±‚&gt;è¯·æ±‚å‘é€ç»™ä»£ç†æœåŠ¡å™¨==&gt;å†ç”±ä»£ç†æœåŠ¡å™¨å‘é€webæœåŠ¡å™¨==&gt;ç”±ä»£ç†æœåŠ¡å™¨æŠŠwebæœåŠ¡å™¨è¿”å›çš„å“åº”è½¬å‘ç»™æœ¬æœº ä½œç”¨ çªç ´è‡ªèº«IPè®¿é—®é™åˆ¶ï¼Œè®¿é—®äº›å¹³æ—¶ä¸èƒ½è®¿é—®çš„ç«™ç‚¹ã€‚ è®¿é—®ä¸€äº›å•ä½æˆ–å›¢ä½“å†…éƒ¨èµ„æº:æ¯”å¦‚ä½¿ç”¨æ•™è‚²ç½‘å†…åœ°å€æ®µå…è´¹ä»£ç†æœåŠ¡å™¨ï¼Œå°±å¯ä»¥ç”¨äºå¯¹æ•™è‚²ç½‘å¼€æ”¾çš„å„ç±»FTPä¸‹è½½ä¸Šä¼ ï¼Œä»¥åŠå„ç±»èµ„æ–™æŸ¥è¯¢å…±äº«ç­‰æœåŠ¡ã€‚ æé«˜è®¿é—®é€Ÿåº¦:é€šå¸¸ä»£ç†æœåŠ¡å™¨éƒ½è®¾ç½®-ä¸€ä¸ªè¾ƒå¤§çš„ç¡¬ç›˜ç¼“å†²åŒºï¼Œå½“æœ‰å¤–ç•Œçš„ä¿¡æ¯é€šè¿‡æ—¶ï¼ŒåŒæ—¶ä¹Ÿå°†å…¶ä¿å­˜åˆ°ç¼“å†²åŒºä¸­ï¼Œå½“å…¶ä»–ç”¨æˆ·å†è®¿é—®ç›¸åŒçš„ä¿¡æ¯æ—¶ï¼Œåˆ™ç›´æ¥ç”±ç¼“å†²åŒºä¸­å–å‡ºä¿¡æ¯ä¼ ç»™ç”¨æˆ·ï¼Œä»¥æé«˜è®¿é—®é€Ÿåº¦ã€‚ éšè—çœŸå®IP:ä¸Šç½‘è€…ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•éšè—è‡ªå·±çš„IPï¼Œå…å—æ”»å‡»ã€‚å¯¹äºçˆ¬è™«æ¥è¯´ï¼Œæˆ‘ä»¬ç”¨ä»£ç†å°±æ˜¯ä¸ºäº†éšè—è‡ªèº«IP,é˜²æ­¢è‡ªèº«çš„IPè¢«å°é”ã€‚ ä»£ç†åˆ†ç±» æ ¹æ®ä»£ç†çš„åè®®ï¼Œä»£ç†å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ç±»åˆ«ã€‚ FTPä»£ç†æœåŠ¡å™¨: ä¸»è¦ç”¨äºè®¿é—®FTPæœåŠ¡å™¨ï¼Œä¸€èˆ¬æœ‰ä¸Šä¼ ã€ ä¸‹è½½ä»¥åŠç¼“å­˜åŠŸèƒ½ï¼Œç«¯å£ä¸€èˆ¬ä¸º 21ã€2121ç­‰ã€‚ HTTPä»£ç†æœåŠ¡å™¨:ä¸»è¦ç”¨äºè®¿é—®ç½‘é¡µï¼Œä¸€èˆ¬æœ‰å†…å®¹è¿‡æ»¤å’Œç¼“å­˜åŠŸèƒ½ï¼Œç«¯å£ä¸€èˆ¬ä¸º808080ã€3128 ç­‰ã€‚ SSL/TLSä»£ç†:ä¸»è¦ç”¨äºè®¿åŒåŠ å¯†ç½‘ç«™ï¼Œèˆ¬æœ‰ SsL æˆ–TLS åŠ å¯†åŠŸèƒ½(æœ€é«˜æ”¯æŒ128ä½åŠ å¯†å¼ºåº¦)ï¼Œç«¯å£ä¸€èˆ¬ä¸º443ã€‚ RTSPä»£ç†:ä¸»è¦ç”¨äºè®¿é—®Realæµåª’ä½“æœåŠ¡å™¨ï¼Œä¸€èˆ¬æœ‰ç¼“å­˜åŠŸèƒ½ï¼Œ ç«¯å£èˆ¬ä¸º554ã€‚ Telnetä»£ç†: ä¸»è¦ç”¨äºteneiè¿œç¨‹æ§åˆ¶é»‘å®¢äººä¾µè®¡ç®—æœºæ—¶å¸¸ç”¨äºéšè—èº«ä»½)ï¼Œç«¯å£ä¸€èˆ¬ä¸º23 POP3/SMTPä»£ç†:ä¸»è¦ç”¨äºPOP3/SMTPæ–¹å¼æ”¶å‘é‚®ä»¶ï¼Œä¸€èˆ¬æœ‰ç¼“å­˜åŠŸèƒ½ï¼Œç«¯å£-èˆ¬ä¸º1025.å£SOCKSä»£ç†:åªæ˜¯å•çº¯ä¼ é€’æ•°æ®åŒ…ï¼Œä¸å…³å¿ƒå…·ä½“åè®®å’Œç”¨æ³•ï¼Œæ‰€ä»¥é€Ÿåº¦å¿«å¾ˆå¤šï¼Œä¸€èˆ¬ æœ‰ å­˜åŠŸèƒ½ï¼Œç«¯å£ä¸€èˆ¬ä¸º1080ã€‚SOCKSä»£ç†åè®®åˆåˆ†ä¸ºSOCKS4å’ŒSOCKS5,å‰è€…åªæ”¯æŒTCPè€Œåè€…æ”¯æŒTCPå’ŒUDPï¼Œè¿˜æ”¯æŒå„ç§èº«ä»½éªŒè¯æœºåˆ¶ã€æœåŠ¡å™¨ç«¯åŸŸåè§£æç­‰ã€‚ç®€å•æ¥è¯´SOCKS4èƒ½åšåˆ°çš„SOCKS5éƒ½å¯ä»¥åšåˆ°ï¼Œä½†SOCKSSèƒ½åšåˆ°çš„SOCKS4ä¸ä¸€å®šèƒ½åšåˆ°ã€‚ 2.æ ¹æ®åŒ¿åç¨‹åº¦åŒºåˆ† æ ¹æ®ä»£ç†çš„åŒ¿åç¨‹åº¦ï¼Œä»£ç†å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ç±»åˆ«ã€‚ é«˜åº¦åŒ¿åä»£ç†ï¼šä¼šå°†æ•°æ®åŒ…åŸå°ä¸åŠ¨åœ°è½¬å‘ï¼Œåœ¨æœåŠ¡ç«¯çœ‹æ¥å°±å¥½åƒçœŸçš„æ˜¯ä¸€ ä¸ªæ™®é€šå®¢æˆ·ç«¯è®¿é—®ï¼Œè€Œè®°å½•çš„IPæ˜¯ä»£ç†æœåŠ¡å™¨çš„IPã€‚ æ™®é€šåŒ¿åä»£ç†ï¼šä¼šåœ¨æ•°æ®åŒ…ä¸Šåšä¸€äº›æ”¹åŠ¨ï¼Œ æœåŠ¡ç«¯ä¸Šæœ‰å¯èƒ½å‘ç°è¿™æ˜¯ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿæœ‰ä¸€å®šå‡ ç‡è¿½æŸ¥åˆ°å®¢æˆ·ç«¯çš„çœŸå®IPã€‚ä»£ç†æœåŠ¡å™¨é€šå¸¸ä¼šåŠ äººçš„HTTPå¤´æœ‰HTTP_VIAå’ŒHTTP_X_FORWARDED_FOR. é€æ˜ä»£ç†ï¼šä¸ä½†æ”¹åŠ¨äº†æ•°æ®åŒ…ï¼Œè¿˜ä¼šå‘Šè¯‰æœåŠ¡å™¨å®¢æˆ·ç«¯çš„çœŸå®IPã€‚è¿™ç§ä»£ç†é™¤äº†èƒ½ç”¨ç¼“å­˜æŠ€æœ¯è°ƒé«˜æµè§ˆé€Ÿåº¦ï¼Œèƒ½ç”¨å†…å®¹è¿‡æ»¤æé«˜å®‰å…¨æ€§ä¹‹å¤–ï¼Œå¹¶æ— å…¶ä»–æ˜¾è‘—ä½œç”¨ï¼Œæœ€å¸¸è§çš„ä¾‹å­æ˜¯å†…ç½‘ä¸­çš„ç¡¬ä»¶é˜²ç«å¢™ã€‚ é—´è°ä»£ç†ï¼šæŒ‡ç»„ç»‡æˆ–ä¸ªäººåˆ›å»ºçš„ç”¨äºè®°å½•ç”¨æˆ·ä¼ è¾“çš„æ•°æ®ï¼Œ ç„¶åè¿›è¡Œç ”ç©¶ã€ç›‘æ§ç­‰ç›®çš„ä»£ç†æœåŠ¡å™¨ã€‚ å¸¸ç”¨ä»£ç†è®¾ç½® ç½‘ä¸Šçš„å…è´¹ä»£ç† ä»˜è´¹çš„ä»£ç†æœåŠ¡ ADSLæ‹¨å·","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”è¯·æ±‚","slug":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”è¯·æ±‚","date":"2018-10-24T10:36:21.000Z","updated":"2019-09-15T08:07:30.995Z","comments":true,"path":"2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”è¯·æ±‚/","link":"","permalink":"https://nymrli.top/2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”è¯·æ±‚/","excerpt":"","text":"è¯·æ±‚ :è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚ç½‘å€ã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ è¯·æ±‚æ–¹æ³•ï¼š å¸¸è§çš„ä¸º:GETã€POST GETä¸POSTä¸»è¦åŒºåˆ«ï¼š GETè¯·æ±‚å‚æ•°åŒ…å«åœ¨URLï¼Œå¯ä»URLä¸­çœ‹å‡ºã€‚POSTè¯·æ±‚çš„URLä¸åŒ…å«å‚æ•°ï¼Œéƒ½æ˜¯é€šè¿‡è¡¨å•çš„å½¢å¼ä¼ è¾“çš„ï¼ŒåŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ GETè¯·æ±‚æäº¤çš„æ•°æ®æœ€å¤šåªæœ‰1024å­—èŠ‚ï¼ŒPOSTæ— é™åˆ¶ å…¶ä»–è¿˜æœ‰HEADã€PUTã€DELETEã€CONNECTã€OPTIONSã€TRACE è¯·æ±‚çš„ç½‘å€ï¼š å³URLï¼Œæˆ‘ä»¬æƒ³è¦è¯·æ±‚çš„èµ„æº è¯·æ±‚å¤´ï¼š ç”¨æ¥è¯´æ˜æœåŠ¡å™¨è¦ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯ï¼Œæ¯”è¾ƒæ€»è¦çš„æœ‰Cookieã€Refererã€User-Agentç­‰ã€‚ Accept:è¯·æ±‚æŠ¥å¤´åŸŸï¼Œç”¨äºæŒ‡å®šå®¢æˆ·ç«¯å¯æ¥å—å“ªäº›ç±»å‹çš„ä¿¡æ¯ã€‚ Accept-Language:æŒ‡å®šå®¢æˆ·ç«¯å¯æ¥å—çš„è¯­è¨€ç±»å‹ã€‚ Accept-Encoding:æŒ‡å®šå®¢æˆ·ç«¯å¯æ¥å—çš„å†…å®¹ç¼–ç ã€‚ Host:ç”¨äºæŒ‡å®šè¯·æ±‚èµ„æºçš„ä¸»æœºIPå’Œç«¯å£å·ï¼Œå…¶å†…å®¹ä¸ºè¯·æ±‚URLçš„åŸå§‹æœåŠ¡å™¨æˆ–ç½‘å…³çš„ä½ ç½®ã€‚ä»HTTP1.1ç‰ˆæœ¬å¼€å§‹ï¼Œè¯·æ±‚å¿…é¡»åŒ…å«æ­¤å†…å®¹ã€‚ Cookie:ä¹Ÿå¸¸ç”¨å¤æ•°å½¢å¼Cookies, æ˜¯ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·è¿›è¡Œä¼šè¯è·Ÿè¸ªè€Œå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°çš„æ•°æ®ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯ç»´æŒå½“å‰è®¿é—®ä¼šè¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¾“äººç”¨æˆ·åå’Œå¯†ç æˆåŠŸç™»å½•æŸä¸ªç½‘ç«™åï¼ŒæœåŠ¡å™¨ä¼šç”¨ä¼šè¯ä¿å­˜ç™»å½•çŠ¶æ€ä¿¡æ¯ï¼Œåé¢æˆ‘ä»¬æ¯æ¬¡åˆ·æ–°æˆ–è¯·æ±‚è¯¥ç«™ç‚¹çš„å…¶ä»–é¡µé¢æ—¶ï¼Œä¼šå‘ç°éƒ½æ˜¯ç™»å½•çŠ¶æ€ï¼Œè¿™å°±æ˜¯Cookiesçš„åŠŸåŠ³ã€‚Cookiesé‡Œæœ‰ä¿¡æ¯æ ‡è¯†äº†æˆ‘ä»¬æ‰€å¯¹åº”çš„æœåŠ¡å™¨çš„ä¼šè¯ï¼Œæ¯æ¬¡æµè§ˆå™¨åœ¨è¯·æ±‚è¯¥ç«™ç‚¹çš„é¡µé¢æ—¶ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚å¤´ä¸­åŠ ä¸ŠCookies å¹¶å°†å…¶å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡Cookiesè¯†åˆ«å‡ºæ˜¯æˆ‘ä»¬è‡ªå·±ï¼Œå¹¶ä¸”æŸ¥å‡ºå½“å‰çŠ¶æ€æ˜¯ç™»å½•çŠ¶æ€ï¼Œæ‰€ä»¥è¿”å›ç»“æœå°±æ˜¯ç™»å½•ä¹‹åæ‰èƒ½çœ‹åˆ°çš„ç½‘é¡µå†…å®¹ã€‚ Referer:æ­¤å†…å®¹ç”¨æ¥æ ‡è¯†è¿™ä¸ªè¯·æ±‚æ˜¯ä»å“ªä¸ªé¡µé¢å‘è¿‡æ¥çš„ï¼ŒæœåŠ¡å™¨å¯ä»¥æ‹¿åˆ°è¿™ä¸€ä¿¡æ¯å¹¶åšç›¸åº”çš„å¤„ç†ï¼Œå¦‚åšæ¥æºç»Ÿè®¡ã€é˜²ç›—é“¾å¤„ç†ç­‰ã€‚ User-Agent: ç®€ç§°UAï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²å¤´ï¼Œå¯ä»¥ä½¿æœåŠ¡å™¨è¯†åˆ«å®¢æˆ·ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ã€æµè§ˆå™¨åŠç‰ˆæœ¬ç­‰æ¶ˆæ¯ã€‚åœ¨åšçˆ¬è™«æ—¶åŠ ä¸Šæ­¤ä¿¡æ¯ï¼Œå¯ä»¥ä¼ªè£…æˆæµè§ˆå™¨ï¼›å¦‚æœä¸åŠ ï¼Œå¾ˆå¯èƒ½è¢«è¯†åˆ«å‡ºä¸ºçˆ¬è™« Content-Type:ä¹Ÿå«äº’è”ç½‘åª’ä½“ç±»å‹( Intermet Media Type)æˆ–è€…MIMEç±»å‹ï¼Œåœ¨HTTPåè®®æ¶ˆæ¯å¤´ä¸­ï¼Œå®ƒç”¨æ¥è¡¨ç¤ºå…·ä½“è¯·æ±‚ä¸­çš„åª’ä½“ç±»å‹ä¿¡æ¯ã€‚æ›´å¤šå¯¹åº”å…³ç³»å¯ä»¥æŸ¥çœ‹æ­¤å¯¹è¡¨:http://tool.oschina.net/commons æ–‡ä»¶æ‰©å±•å Content-Type(Mime-Type) .htmlã€ .htx ã€ .htm text/html .gif image/gif .json application/json â€‹ Content-Typeä¸POSTæäº¤æ•°æ®æ–¹å¼çš„å…³ç³» Content-Type æäº¤æ•°æ®çš„æ–¹å¼ appication/x-www-urlencodeed è¡¨å•æ•°æ® multipart/form-data è¡¨å•æ–‡ä»¶ä¸Šä¼  applicatiobn/json åºåˆ—åŒ–jsonæ•°æ® text/html XMLæ•°æ® å¦‚æœæ„é€ POSTè¯·æ±‚ï¼Œéœ€è¦ä½¿ç”¨æ­£ç¡®çš„Content-Typeï¼Œä¸ç„¶å¯èƒ½å¯¼è‡´POSTæäº¤åæ— æ³•æ­£å¸¸å“åº” ==&gt;å› æ­¤ï¼Œè¯·æ±‚å¤´æ˜¯è¯·æ±‚çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œåœ¨å†™çˆ¬è™«æ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½éœ€è¦è®¾å®šè¯·æ±‚å¤´ã€‚ è¯·æ±‚ä½“ï¼š è¯·æ±‚ä½“ä¸€èˆ¬æ‰¿è½½çš„å†…å®¹æ˜¯POSTè¯·æ±‚ä¸­çš„è¡¨å•æ•°æ®ï¼Œè€Œå¯¹GETè¯·æ±‚ï¼Œè¯·æ±‚ä½“åˆ™ä¸ºç©ºã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”å“åº”","slug":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”å“åº”","date":"2018-10-24T10:36:17.000Z","updated":"2019-09-15T08:07:30.993Z","comments":true,"path":"2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”å“åº”/","link":"","permalink":"https://nymrli.top/2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”å“åº”/","excerpt":"","text":"å“åº”ï¼š å“åº”çŠ¶æ€ç ã€å“åº”å¤´ã€å“åº”ä½“ å“åº”çŠ¶æ€ç ï¼š è¡¨2-3å¸¸è§çš„é”™è¯¯ä»£ç åŠé”™è¯¯åŸå›  çŠ¶æ€ç  è¯´æ˜ è¯¦æƒ… 100 ç»§ç»­ è¯·æ±‚è€…åº”å½“ç»§ç»­æå‡ºè¯·æ±‚ã€‚æœåŠ¡å™¨è¿”å›æ­¤ä»£ç è¡¨ç¤ºå·²æ”¶åˆ°è¯·æ±‚çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œæ­£åœ¨ç­‰å¾…å…¶ä½™éƒ¨åˆ†ã€‚ 101 åˆ‡æ¢åè®® è¯·æ±‚è€…å·²è¦æ±‚æœåŠ¡å™¨åˆ‡æ¢åè®®ï¼ŒæœåŠ¡å™¨å·²ç¡®è®¤å¹¶å‡†å¤‡åˆ‡æ¢ã€‚ 200 æˆåŠŸ æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µã€‚ 201 å·²åˆ›å»º è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æºã€‚ 202 å·²æ¥å— æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚ 203 éæˆæƒä¿¡æ¯ æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›çš„ä¿¡æ¯å¯èƒ½æ¥è‡ªå¦ä¸€æ¥æºã€‚ 204 æ— å†…å®¹ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚ 205 é‡ç½®å†…å®¹ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚ 206 éƒ¨åˆ†å†…å®¹ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ† GET è¯·æ±‚ã€‚ 300 å¤šç§é€‰æ‹© é’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œã€‚æœåŠ¡å™¨å¯æ ¹æ®è¯·æ±‚è€… (user agent) é€‰æ‹©ä¸€é¡¹æ“ä½œï¼Œæˆ–æä¾›æ“ä½œåˆ—è¡¨ä¾›è¯·æ±‚è€…é€‰æ‹©ã€‚ 301 æ°¸ä¹…ç§»åŠ¨ è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚æœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼ˆå¯¹ GET æˆ– HEAD è¯·æ±‚çš„å“åº”ï¼‰æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯·æ±‚è€…è½¬åˆ°æ–°ä½ç½®ã€‚ 302 ä¸´æ—¶ç§»åŠ¨ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚ã€‚ 303 æŸ¥çœ‹å…¶ä»–ä½ç½® è¯·æ±‚è€…åº”å½“å¯¹ä¸åŒçš„ä½ç½®ä½¿ç”¨å•ç‹¬çš„ GET è¯·æ±‚æ¥æ£€ç´¢å“åº”æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤ä»£ç ã€‚ 304 æœªä¿®æ”¹ è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚æœåŠ¡å™¨è¿”å›æ­¤å“åº”æ—¶ï¼Œä¸ä¼šè¿”å›ç½‘é¡µå†…å®¹ã€‚ 305 ä½¿ç”¨ä»£ç† è¯·æ±‚è€…åªèƒ½ä½¿ç”¨ä»£ç†è®¿é—®è¯·æ±‚çš„ç½‘é¡µã€‚å¦‚æœæœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼Œè¿˜è¡¨ç¤ºè¯·æ±‚è€…åº”ä½¿ç”¨ä»£ç†ã€‚ 307 ä¸´æ—¶é‡å®šå‘ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚ã€‚ 400 é”™è¯¯è¯·æ±‚ æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚ 401 æœªæˆæƒ è¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ã€‚ å¯¹äºéœ€è¦ç™»å½•çš„ç½‘é¡µï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›æ­¤å“åº”ã€‚ 403 ç¦æ­¢ æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ã€‚ 404 æœªæ‰¾åˆ° æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚ 405 æ–¹æ³•ç¦ç”¨ ç¦ç”¨è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•ã€‚ 406 ä¸æ¥å— æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚çš„ç½‘é¡µã€‚ 407 éœ€è¦ä»£ç†æˆæƒ æ­¤çŠ¶æ€ä»£ç ä¸ 401ï¼ˆæœªæˆæƒï¼‰ç±»ä¼¼ï¼Œä½†æŒ‡å®šè¯·æ±‚è€…åº”å½“æˆæƒä½¿ç”¨ä»£ç†ã€‚ 408 è¯·æ±‚è¶…æ—¶ æœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶ã€‚ 409 å†²çª æœåŠ¡å™¨åœ¨å®Œæˆè¯·æ±‚æ—¶å‘ç”Ÿå†²çªã€‚æœåŠ¡å™¨å¿…é¡»åœ¨å“åº”ä¸­åŒ…å«æœ‰å…³å†²çªçš„ä¿¡æ¯ã€‚ 410 å·²åˆ é™¤ å¦‚æœè¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…åˆ é™¤ï¼ŒæœåŠ¡å™¨å°±ä¼šè¿”å›æ­¤å“åº”ã€‚ 411 éœ€è¦æœ‰æ•ˆé•¿åº¦ æœåŠ¡å™¨ä¸æ¥å—ä¸å«æœ‰æ•ˆå†…å®¹é•¿åº¦æ ‡å¤´å­—æ®µçš„è¯·æ±‚ã€‚ 412 æœªæ»¡è¶³å‰ææ¡ä»¶ æœåŠ¡å™¨æœªæ»¡è¶³è¯·æ±‚è€…åœ¨è¯·æ±‚ä¸­è®¾ç½®çš„å…¶ä¸­ä¸€ä¸ªå‰ææ¡ä»¶ã€‚ 413 è¯·æ±‚å®ä½“è¿‡å¤§ æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå› ä¸ºè¯·æ±‚å®ä½“è¿‡å¤§ï¼Œè¶…å‡ºæœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›ã€‚ 414 è¯·æ±‚çš„ URI è¿‡é•¿ è¯·æ±‚çš„ URIï¼ˆé€šå¸¸ä¸ºç½‘å€ï¼‰è¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ã€‚ 415 ä¸æ”¯æŒçš„åª’ä½“ç±»å‹ è¯·æ±‚çš„æ ¼å¼ä¸å—è¯·æ±‚é¡µé¢çš„æ”¯æŒã€‚ 416 è¯·æ±‚èŒƒå›´ä¸ç¬¦åˆè¦æ±‚ å¦‚æœé¡µé¢æ— æ³•æä¾›è¯·æ±‚çš„èŒƒå›´ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å›æ­¤çŠ¶æ€ä»£ç ã€‚ 417 æœªæ»¡è¶³æœŸæœ›å€¼ æœåŠ¡å™¨æœªæ»¡è¶³&quot;æœŸæœ›&quot;è¯·æ±‚æ ‡å¤´å­—æ®µçš„è¦æ±‚ã€‚ 500 æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚ 501 å°šæœªå®æ–½ æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›æ­¤ä»£ç ã€‚ 502 é”™è¯¯ç½‘å…³ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚ 503 æœåŠ¡ä¸å¯ç”¨ æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰ã€‚é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚ 504 ç½‘å…³è¶…æ—¶ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚ 505 HTTP ç‰ˆæœ¬ä¸å—æ”¯æŒ æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚ å“åº”å¤´ å“åº”å¤´åŒ…å«äº†æœåŠ¡å™¨å¯¹è¯·æ±‚çš„åº”ç­”ä¿¡æ¯ï¼Œå¦‚Cmene-Type. Serve. Set-cookieç­‰ã€‚ ä¸‹é¢ç®€è¦è¯´æœ‰ ä¸€äº›å¸¸ç”¨çš„å¤´ä¿¡æ¯ã€‚ Date:æ ‡è¯†å“åº”äº§ç”Ÿçš„æ—¶é—´ã€‚ Last-Modifed:æŒ‡å®šèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ã€‚ å…¬æœ‰åœ°ä¼š Content-Encoding:æŒ‡å®šå“åº”å†…å®¹çš„ç¼–ç ã€‚ Server:åŒ…å«æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œæ¯”å¦‚åç§°ã€ç‰ˆæœ¬å·ç­‰ã€‚ Content-Type:æ–‡æ¡£ç±»å‹ï¼ŒæŒ‡å®šè¿”å›çš„æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Œå¦‚texthtmIä»£è¡¨è¿”å›HTMLæ–‡æ¡£ï¼Œ application/x-javascriptåˆ™ä»£è¡¨è¿”å›JavaScriptæ–‡ä»¶ï¼Œimagefjpeg åˆ™ä»£è¡¨è¿”å›å›¾ç‰‡ã€‚ Set-Cookie:è®¾ç½®Cookiesã€‚ å“åº”å¤´ä¸­çš„Set-Cookie å‘Šè¯‰æµè§ˆå™¨éœ€è¦å°†æ­¤å†…å®¹æ”¾åœ¨Cooke ä¸­ï¼Œä¸‹æ¬¡è¯·æ±‚æºå¸¦Cookiesè¯·æ±‚ã€‚ Expires:æŒ‡å®šå“åº”çš„è¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥ä½¿ä»£ç†æœåŠ¡å™¨æˆ–æµè§ˆå™¨å°†åŠ è½½çš„å†…å®¹æ›´æ–°åˆ°ç¼“å­˜ä¸­ã€‚ç«‹ æœå†æ¬¡è®¿é—®æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­åŠ è½½ï¼Œé™ä½æœåŠ¡å™¨è´Ÿè½½ï¼Œç¼–çŸ­åŠ è½½æ—¶é—´ã€‚ å“åº”ä½“ æœ€é‡è¦çš„å½“å±å“åº”ä½“çš„å†…å®¹äº†ã€‚ å“åº”çš„æ­£æ–‡æ•°æ®éƒ½åœ¨å“åº”ä½“ä¸­ï¼Œæ¯”å¦‚è¯·æ±‚ç½‘é¡µæ—¶ï¼Œå®ƒçš„å“åº”ä½“å°± æ˜¯ç½‘é¡µçš„HTMLä»£ç :è¯·æ±‚ä¸€å¼ å›¾ç‰‡æ—¶ï¼Œ å®ƒçš„å“åº”ä½“å°±æ˜¯å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®ã€‚æˆ‘ä»¬åšçˆ¬è™«è¯·æ±‚åä¸» è¦è§£æçš„å†…å®¹å°±æ˜¯å“åº”ä½“ã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”çˆ¬è™«çš„åŸºæœ¬åŸç†","slug":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”çˆ¬è™«çš„åŸºæœ¬åŸç†","date":"2018-10-24T10:36:10.000Z","updated":"2019-09-15T08:07:30.994Z","comments":true,"path":"2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”çˆ¬è™«çš„åŸºæœ¬åŸç†/","link":"","permalink":"https://nymrli.top/2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”çˆ¬è™«çš„åŸºæœ¬åŸç†/","excerpt":"","text":"çˆ¬è™«çš„åŸºæœ¬åŸç† çˆ¬è™«å°±æ˜¯è·å–ç½‘é¡µå¹¶æå–å’Œä¿å­˜ä¿¡æ¯çš„è‡ªåŠ¨åŒ–ç¨‹åº è·å–ç½‘é¡µï¼š è·å–ç½‘é¡µå°±æ˜¯è·å–ç½‘é¡µçš„æºç ï¼Œåªè¦æŠŠæºç è·å–ä¸‹æ¥ï¼Œå°±å¯ä»¥ä»ä¸­æå–æƒ³è¦çš„æ¶ˆæ¯ çˆ¬è™«çš„æµç¨‹ï¼šæƒ³ç½‘ç«™çš„æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè¿”å›çš„å“åº”ä½“å°±æ˜¯ç½‘é¡µçš„æºä»£ç ã€‚ â€‹ &gt;1,æ„é€ è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨=&gt;2.æ¥å—å“åº”å¹¶è§£æ æå–ä¿¡æ¯ï¼š é€šè¿‡åˆ†æç½‘é¡µç»“æ„ï¼Œæå–ç½‘é¡µä¿¡æ¯ã€‚é€šå¸¸ä½¿ç”¨çš„è§£æåº“æœ‰:BeautifulSoupã€lxmlã€pyqueryï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™ï¼Œä½†æ˜¯æ„é€ æ­£åˆ™è¡¨è¾¾å¼æ¯”è¾ƒå¤æ‚ä¸”æ˜“é”™ ä¿å­˜æ•°æ®ï¼š å°†æå–çš„æ•°æ®ä¿å­˜åˆ°æŸå¤„ä»¥ä¾¿åç»­åˆ©ç”¨ã€‚ä¿å­˜å½¢å¼æœ‰ï¼šTXTã€Jsonã€æ•°æ®åº“ï¼šMySQLã€MongoDBã€æˆ–è¿œç¨‹æœåŠ¡å™¨SFTPâ€¦ è‡ªåŠ¨åŒ–ç¨‹åº æ›¿äººå®Œæˆå®Œæˆçˆ¬å–å·¥ä½œçš„è‡ªåŠ¨åŒ–ç¨‹åºï¼Œå¯ä»¥åœ¨æŠ“å–è¿‡ç¨‹ä¸­è¿›è¡Œå¼‚å¸¸å¤„ç†â€¦â€¦ä¿è¯çˆ¬å–çš„é«˜æ•ˆè¿è¡Œ","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”URLä¸URI","slug":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”URLä¸URI","date":"2018-10-24T10:35:53.000Z","updated":"2019-09-15T08:07:30.991Z","comments":true,"path":"2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”URLä¸URI/","link":"","permalink":"https://nymrli.top/2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”URLä¸URI/","excerpt":"","text":"URLä¸URI URLå…¨ç§°ï¼šUniform Resource Locator(ç»Ÿä¸€èµ„æºå®šä½ç¬¦) URIå…¨ç§°ï¼šUniform Resource Identifier(ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦) å¦‚https://github.com/favicon.icoä¸ºä¾‹ï¼Œå®ƒæ—¢æ˜¯ä¸€ä¸ªURLåˆæ˜¯ä¸€ä¸ªURIã€‚æˆ‘ä»¬é€šè¿‡URL/URIå”¯ä¸€æŒ‡å®šäº†å®ƒçš„è®¿é—®æ–¹å¼ã€‚å…¶ä¸­åŒ…æ‹¬è®¿é—®åè®®httpsã€è®¿é—®è·¯å¾„ã€èµ„æºåç§°favicon.icoã€‚é€šè¿‡è¿™ä¸ªé“¾æ¥æä¾›çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è®¿é—®åˆ°æ­¤èµ„æºæ‰€åœ¨çš„ä½ç½®ã€‚è¿™ä¾¿æ˜¯URLã€URIçš„ä½œç”¨ã€‚ URLæ˜¯URIçš„å­é›†ã€‚===&gt;æ¯ä¸ªURLéƒ½æ˜¯URIï¼Œä½†ä¸æ˜¯æ¯ä¸ªURIéƒ½æ˜¯URLã€‚ URIåŒ…æ‹¬ä¸¤ä¸ªå­ç±»:URNå’ŒURLã€‚å…¶ä¸­URNåªå‘½åèµ„æºä½†ä¸æŒ‡å®šå¦‚ä½•å®šä½èµ„æº(å¦‚urn:isbn:0451450523)æŒ‡å®šäº†ä¸€æœ¬ä¹¦çš„ISBNï¼Œå¯ä»¥å”¯ä¸€æ ‡è¯†ï¼Œä½†æœªå®šä½ã€‚ â–².ç›®å‰äº’è”ç½‘ä¸­URNç”¨å¾—å¾ˆå°‘ï¼Œå‡ ä¹æ‰€æœ‰çš„URIéƒ½æ˜¯URLã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","slug":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºç½‘ç»œçŸ¥è¯†/"}]},{"title":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”Chromeå¼€å‘è€…å·¥å…·Network","slug":"Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”Chromeå¼€å‘è€…å·¥å…·Network","date":"2018-10-24T10:35:31.000Z","updated":"2019-09-15T08:07:30.989Z","comments":true,"path":"2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”Chromeå¼€å‘è€…å·¥å…·Network/","link":"","permalink":"https://nymrli.top/2018/10/24/Pythonçˆ¬è™«çŸ¥è¯†ç‚¹â€”â€”Chromeå¼€å‘è€…å·¥å…·Network/","excerpt":"","text":"Chromeå¼€å‘è€…å·¥å…·ä¸­NetworkåŠŸèƒ½ä»‹ç» ç¬¬ä¸€åˆ—Name:è¯·æ±‚çš„åç§°ï¼Œä¸€èˆ¬ä¼šå°†URLçš„æœ€åä¸€ éƒ¨åˆ†å†…å®¹å½“ä½œåç§°ã€‚ ç¬¬äºŒåˆ—Status: å“åº”çš„çŠ¶æ€ç ï¼Œè¿™é‡Œæ˜¾ç¤ºä¸º200ï¼Œä»£è¡¨å“åº”æ˜¯æ­£å¸¸çš„ã€‚é€šè¿‡çŠ¶æ€ç ï¼Œæˆ‘ä»¬å¯ ä»¥åˆ¤æ–­å‘é€äº†è¯·æ±‚ä¹‹åæ˜¯å¦å¾—åˆ°äº†æ­£å¸¸çš„å“åº”ã€‚ ç¬¬ä¸‰åˆ—Type: è¯·æ±‚çš„æ–‡æ¡£ç±»å‹ã€‚è¿™é‡Œä¸ºdocument, ä»£è¡¨æˆ‘ä»¬è¿™æ¬¡è¯·æ±‚çš„æ˜¯ä¸€ä¸ªHTMLæ–‡æ¡£,å†…å®¹å°±æ˜¯ä¸€äº›HTMLä»£ç ã€‚ ç¬¬å››åˆ—initiator: è¯·æ±‚æºã€‚ç”¨æ¥æ ‡è®°è¯·æ±‚æ˜¯ç”±å“ªä¸ªå¯¹è±¡æˆ–è¿›ç¨‹å‘èµ·çš„ã€‚ ç¬¬äº”åˆ—Size: ä»æœåŠ¡å™¨ä¸‹è½½çš„æ–‡ä»¶å’Œè¯·æ±‚çš„èµ„æºå¤§å°ã€‚å¦‚æœæ˜¯ä»ç¼“å­˜ä¸­å–å¾—çš„èµ„æºï¼Œåˆ™è¯¥åˆ—ä¼šæ˜¾ç¤ºfrom cacheã€‚ ç¬¬å…­åˆ—Time:å‘èµ·è¯·æ±‚åˆ°è·å–å“åº”æ‰€ç”¨çš„æ€»æ—¶é—´ã€‚ ç¬¬ä¸ƒåˆ—Waterfall:ç½‘ç»œè¯·æ±‚çš„å¯è§†åŒ–ç€‘å¸ƒæµã€‚ å“åº”ä¸­åˆ†Generaléƒ¨åˆ†ï¼Œè¯·æ±‚å¤´ã€å“åº”å¤´ï¼š å…¶ä¸­Generalå«ï¼š Request URLä¸ºè¯·æ±‚çš„URLï¼Œ Request Methodä¸ºè¯·æ±‚çš„æ–¹æ³• Status Codeä¸ºå“åº”çŠ¶æ€ç ï¼Œ Remote Addressä¸ºè¿œç¨‹æœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£ Referrer Policyä¸ºReferreråˆ¤åˆ«ç­–ç•¥ã€‚","categories":[],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://nymrli.top/tags/çˆ¬è™«/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"XShellé€šè¿‡SSHè¿œç¨‹è¿æ¥äº‘æœåŠ¡å™¨é€šè¿‡SSHè¿œç¨‹è¿æ¥äº‘æœåŠ¡å™¨","slug":"XShellé€šè¿‡SSHè¿œç¨‹è¿æ¥äº‘æœåŠ¡å™¨","date":"2018-10-24T10:32:05.000Z","updated":"2019-09-15T08:07:31.017Z","comments":true,"path":"2018/10/24/XShellé€šè¿‡SSHè¿œç¨‹è¿æ¥äº‘æœåŠ¡å™¨/","link":"","permalink":"https://nymrli.top/2018/10/24/XShellé€šè¿‡SSHè¿œç¨‹è¿æ¥äº‘æœåŠ¡å™¨/","excerpt":"","text":"1.è´¦å·å¯†ç ç™»å½• æ³•ä¸€: æ³•äºŒ:","categories":[],"tags":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"https://nymrli.top/tags/æœåŠ¡å™¨/"}]},{"title":"å¤åˆ¶Djangoé¡¹ç›®æ—¶éœ€è¦æ³¨æ„ã€ä¿®æ”¹çš„åœ°æ–¹","slug":"å¤åˆ¶Djangoé¡¹ç›®æ—¶éœ€è¦æ³¨æ„ã€ä¿®æ”¹çš„åœ°æ–¹","date":"2018-10-24T10:25:37.000Z","updated":"2019-09-15T08:07:31.043Z","comments":true,"path":"2018/10/24/å¤åˆ¶Djangoé¡¹ç›®æ—¶éœ€è¦æ³¨æ„ã€ä¿®æ”¹çš„åœ°æ–¹/","link":"","permalink":"https://nymrli.top/2018/10/24/å¤åˆ¶Djangoé¡¹ç›®æ—¶éœ€è¦æ³¨æ„ã€ä¿®æ”¹çš„åœ°æ–¹/","excerpt":"","text":"å¤åˆ¶Djangoé¡¹ç›®: manage.pyä¸­éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ 1os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;window.settings&quot;) settings.pyä¸­éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ 12345&quot;&quot;&quot;Django settings for window project.&quot;&quot;&quot;ROOT_URLCONF = &apos;window.urls&apos;WSGI_APPLICATION = &apos;window.wsgi.application&apos; urls.pyä¸­éœ€è¦æ”¹åŠ¨çš„åœ°æ–¹ 1&quot;&quot;&quot;window URL Configuration wsgi.pyä¸­éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ 123&quot;&quot;&quot;WSGI config for window project.os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;window.settings&quot;) djangoå¯å¤ç”¨æ¨¡æ¿ åœ¨project_nameæ–‡ä»¶ä¸‹çš„*.py å†åœ¨ç»ˆç«¯é”®å…¥django-admin startproject xx --template=* (*ä¸ºæ–‡ä»¶å¤¹ä¸­pyæ–‡ä»¶å) 12345678910111213141516171819202122232425262728293031323334import osimport sysfrom django.conf import settingsDEBUG = os.environ.get(&apos;DEBUG&apos;,&apos;on&apos;)== &apos;on&apos;ALLOW_HOSTS = [&apos;*&apos;]SECRET_KEY = os.environ.get(&apos;SECRET&apos;,&apos;&#123;&#123; secret_key &#125;&#125;&apos;)settings.configure( DEBUG = DEBUG, ALLOW_HOSTS = ALLOW_HOSTS, SECRET_KEY = SECRET_KEY, ROOT_URLCONF = __name__, MIDDLEWARE_CLASSES = ( &apos;django.middleware.common.CommonMiddleware&apos;, &apos;django.middleware.csrf.CsrfViewMiddleware&apos;, &apos;django.middleware.clickjacking.XFrameOptionsMiddleware&apos;, ))from django.conf.urls import urlfrom django.core.wsgi import get_wsgi_applicationfrom django.http import HttpResponsedef index(request): return HttpResponse(&apos;Hello Word&apos;)urlpatterns = ( url(r&apos;$&apos;,index),)application = get_wsgi_application()if __name__ == &apos;__main__&apos;: from django.core.management import execute_from_command_line execute_from_command_line(sys.argv)","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"Django","slug":"Django","permalink":"https://nymrli.top/tags/Django/"}]},{"title":"Python Webâ€”â€”Djangoç¬”è®°(ä¸€)","slug":"Python Webâ€”â€”Djangoç¬”è®°(ä¸€)","date":"2018-10-24T10:23:40.000Z","updated":"2019-09-15T08:07:30.975Z","comments":true,"path":"2018/10/24/Python Webâ€”â€”Djangoç¬”è®°(ä¸€)/","link":"","permalink":"https://nymrli.top/2018/10/24/Python Webâ€”â€”Djangoç¬”è®°(ä¸€)/","excerpt":"","text":"Python Webâ€”â€”Djangoç¬”è®° æ–°å»ºé¡¹ç›®: django-admin startproject blog . åˆ›å»ºåº”ç”¨ç¨‹åº(APP):python manage.py startapp fsite æ·»åŠ app:INSTALLED_APPS=['...'] æ–°å»ºçš„ app å¦‚æœä¸åŠ åˆ° INSTALL_APPS ä¸­çš„è¯, django å°±ä¸èƒ½è‡ªåŠ¨æ‰¾åˆ°appä¸­çš„æ¨¡æ¿æ–‡ä»¶(app-name/templates/ä¸‹çš„æ–‡ä»¶)å’Œé™æ€æ–‡ä»¶(app-name/static/ä¸­çš„æ–‡ä»¶) .å°æç¤ºï¼ŒDEBUG=True çš„æ—¶å€™ï¼ŒDjango è¿˜å¯ä»¥è‡ªåŠ¨æ‰¾åˆ° å„ app ä¸‹ static æ–‡ä»¶å¤¹ä¸­çš„é™æ€æ–‡ä»¶ï¼ˆjsï¼Œcssï¼Œå›¾ç‰‡ç­‰èµ„æºï¼‰ åˆ›å»ºSQLiteæ•°æ®åº“:python manage.py migrate #åˆ›å»ºæ•°æ®è¡¨ ä½¿æ¨¡å‹ç”Ÿæ•ˆ:python manage.py makemigrations # Django åœ¨ blog åº”ç”¨çš„ migrations\\ ç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ª 0001_initial.py æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ Django ç”¨æ¥è®°å½•æˆ‘ä»¬å¯¹æ¨¡å‹åšäº†å“ªäº›ä¿®æ”¹çš„æ–‡ä»¶ åˆ›å»ºç®¡ç†å‘˜:python manage.py createsuperuser æ·»åŠ template: 'DIRS':[os.path.join(BASE_DIR,'templates')], æ¸…ç©ºæ•°æ®åº“:python manage.py flush BASE_DIR æ˜¯ settings.py åœ¨é…ç½®å¼€å¤´å‰é¢å®šä¹‰çš„å˜é‡ æ·»åŠ é™æ€æ–‡ä»¶: 123STATIC_URL = &apos;/static/&apos;STATICFILES_DIRS = [os.path.join(BASE_DIR,&apos;static&apos;)]STATIC_ROOT = &quot;/home/nymrli/mvote/staticfiles/&quot; urls.pyå¤´æ–‡ä»¶ 1234&gt; from django.contrib import admin&gt; from django.conf.urls import include,url&gt; from fsite.views import homepage,showpost&gt; views.pyå¤´æ–‡ä»¶ 12345&gt; from django.shortcuts import render,redirect&gt; from django.http import HttpResponse,request&gt; from .models import Post&gt; from django.template.loader import get_template&gt; ä½¿æ˜¾ç¤ºæ ‡é¢˜: 12def __str__(self): return self.title ä¹¦ä¸Šçš„__unicode__å’Œ__repr__éƒ½æ²¡æœ‰ç”¨ å¢åŠ æ˜¾ç¤ºå…¶ä»–æ—¶ 12class PostAdmin(admin.ModelAdmin): list_display = (&apos;title&apos;,&apos;slug&apos;,&apos;pub_date&apos;) è¦è®°å¾—åœ¨admin.site.register(Post,PostAdmin)ä¸­å¢åŠ PostAdmin åœ¨urls.pyä¸­çš„url()çš„åº“æ–‡ä»¶è¦ä¿®æ”¹ 12from django.contrib import adminfrom django.conf.urls import include,url åŒæ—¶è®°å¾—è¿™ç‚¹: 1234urlpatterns = [ url(&apos;^admin/&apos;, admin.site.urls), ## &apos;^admin/&apos;åœ¨/åé¢ä¸èƒ½åŠ $ url(r&apos;^$&apos;,homepage), ] views.pyè§†å›¾å‡½æ•°: 12def homepage(request): ##é¦–å…ˆè®°å¾—æ˜¯*def* posts = Post.objects.all() ##è™½ç„¶pycharmæ²¡æç¤ºPostæœ‰objectsä½†ä»æœ‰æ•ˆæœ count,post in enumerate(posts):1234for count,post in enumerate(posts): post_lists.append(&quot;NO.&#123;&#125;&quot;.format(str(count)) + str(post) + &quot;&lt;hr&gt;&quot;) post_lists.append(&quot;&lt;small&gt;&quot; + str(post.body.encode(&apos;utf-8&apos;)) + &quot;&lt;/small&gt;&lt;br&gt;&quot;) ### è¿™è¾¹çš„encodeæ²¡å¿…è¦åŠ  template æ­¥éª¤1: åœ¨settings.py ä¸­è®¾ç½®æ¨¡æ¿æ–‡ä»¶å¤¹çš„ä½ç½®. æ­¥éª¤2:åœ¨urls.pyä¸­åˆ›å»ºç½‘å€å’Œviews.pyä¸­å‡½æ•°çš„å¯¹åº”å…³ç³» æ­¥éª¤3:åˆ›å»º.htmlæ–‡ä»¶(ä¾‹å¦‚index.html)åšå¥½æ’ç‰ˆæ•°æ®è¦æ”¾çš„ä½ç½® æ­¥éª¤4:è¿è¡Œç¨‹åº,ä»¥objects.all()åœ¨views.pyä¸­å–å¾—æ•°æ®æˆ–èµ„æ–™ æ­¥éª¤5:ä»¥renderå‡½æ•°æŠŠæ•°æ®(posts)é€åˆ°æŒ‡å®šçš„æ¨¡æ¿æ–‡ä»¶(ä¾‹å¦‚index.html)ä¸­. ç½‘é¡µå¯¹åº”urls.py æ­¥éª¤1: åœ¨urls.pyä¸­è®¾ç½®,åªè¦æ˜¯/post/å¼€å¤´çš„ç½‘å€,å°±æŠŠåé¢æ¥ç€çš„æ–‡å­—å½“åšå‚æ•°ä¼ é€slugç»™post_detailæ˜¾ç¤ºå•ç¯‡æ–‡ç« çš„å‡½æ•° æ­¥éª¤2:åœ¨views.pyä¸­æ–°å¢ä¸€ä¸ªpost_detailå‡½æ•°.é™¤äº†æ¥å—requestå‚æ•°å¤–,ä¹Ÿæ¥å—slugå‚æ•°. æ­¥éª¤3:åœ¨templatesæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªç”¨æ¥æ˜¾ç¤ºå•ç¯‡æ–‡ç« çš„post.html æ­¥éª¤4:åœ¨post_detailå‡½æ•°ä¸­,ä»¥slugä¸ºå…³é”®å­—æœç´¢æ•°æ®é›†,æ‰¾å‡ºæ˜¯å¦æœ‰ç¬¦åˆçš„é¡¹ç›® æ­¥éª¤5:å¦‚æœæœ‰ç¬¦åˆçš„,å°±æŠŠæ‰¾åˆ°çš„æ•°æ®é¡¹ä¼ é€ç»™renderå‡½æ•°,æ‰¾å‡ºpost.htmlæ¨¡æ¿é¡µè¿›è¡Œæ¸²æŸ“(å³è¿›è¡Œé¡µé¢æ˜¾ç¤º),å†æŠŠç»“æœäº¤ç»™HttpResponseå›ä¼ ç»™æµè§ˆå™¨ æ­¥éª¤6:å¦‚æœæ²¡æœ‰ç¬¦åˆçš„é¡¹ç›®,å°±æŠŠç½‘é¡µè½¬å›é¦–é¡µ å…±äº«æ¨¡æ¿çš„ä½¿ç”¨: æ–‡ä»¶å ç”¨é€”è¯´æ˜ base.html ç½‘ç«™çš„åŸºç¡€æ¨¡æ¿ï¼Œæä¾›ç½‘ç«™çš„ä¸»è¦è®¾è®¡ã€å¤–è§‚é£æ ¼ header.html ç½‘ç«™ä¸­æ¯ä¸€ä¸ªç½‘é¡µå…±äº«çš„æ ‡é¢˜å…ƒç´ ï¼Œé€šå¸¸æ˜¯æ”¾ç½®ç½‘ç«™ Log çš„åœ°æ–¹ footer.html ç½‘ç«™ä¸­æ¯ä¸€ä¸ªç½‘é¡µçš„å…±äº«é¡µå°¾ï¼Œç”¨æ¥æ”¾ç½®ç‰ˆæƒå£°æ˜æˆ–å…¶ä»–å‚è€ƒä¿¡æ¯ index.html æ­¤èŒƒä¾‹ç½‘ç«™çš„é¦–é¡µ post.html æ­¤èŒƒä¾‹ç½‘ç«™ç”¨æ¥æ˜¾ç¤ºå•ç¯‡æ–‡ç« çš„ç½‘é¡µ æ˜¾ç¤ºå›¾ç‰‡ è¦ç”¨è¿‡æ»¤å™¨,ä¸ç„¶å°±æ˜¯ä¸²htmlä»£ç . Wampserveråˆå§‹: 12è´¦å·:rootå¯†ç :ç©º bootstrapçš„CDN: HTML.CSSæ”¾åœ¨ä¹‹å‰,JSçš„æ”¾åœ¨ä¹‹å‰ 12345678910111213&lt;head&gt;&lt;!-- Latest compiled and minified CSS --&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity= &quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;!-- Optional theme --&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css&quot; integrity=&quot;sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;!-- Latest compiled and minified JavaScript --&gt;&lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot; integrity=&quot;sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;&lt;/head&gt; 12345&lt;body&gt; &lt;script src=&quot;https://code.jquery.com/jquery-3.1.0.min.js&quot; integrity=&quot;sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;&lt;/body&gt; åå°ç®¡ç†çš„è‡ªå®šä¹‰admin.py æ˜¾ç¤ºæ›´å¤šçš„å°æ ‡é¢˜ 12345class ProductAdmin(admin.ModelAdmin): list_display = (&apos;pmodel&apos;,&apos;nickname&apos;,&apos;price&apos;,&apos;year&apos;) search_fields = (&apos;nickname&apos;,) ordering = (&apos;price&apos;,)admin.site.register(Product,ProductAdmin) è¦æ˜¾ç¤ºä¸­æ–‡çš„å°æ ‡é¢˜ 12345678class Product(models.Model): pmodel = models.ForeignKey(PModel,on_delete=models.CASCADE,verbose_name=&apos;å‹å·&apos;) nickname = models.CharField(max_length=15,default=&apos;è¶…å€¼äºŒæ‰‹æœº&apos;,verbose_name=&apos;æ‘˜è¦&apos;) description = models.TextField(default=&apos;æš‚æ— è¯´æ˜&apos;) year = models.PositiveIntegerField(default=2018,verbose_name=&apos;å‡ºå‚å¹´ä»½&apos;) price = models.PositiveIntegerField(default=0,verbose_name=&apos;ä»·æ ¼&apos;) def __str__(self): //python3.*ä¸­éƒ½ç”¨__str__,ä¸ç”¨__unicode__ return self.nickname æ³¨æ„:admin.py ä¸­çš„class ProductAdmin ä»éœ€è¦ 12345try: product = models.Product.objects.get(id=id) images = models.PPhoto.objects.filter(product=product)except: pass djangoä¸­çš„ORMä¸­å¦‚æœç”¨getæ‰¾ä¸åˆ°,å°±ä¼šäº§ç”Ÿä¸€ä¸ªDoseNotExistçš„å¼‚å¸¸ä¸­æ–­ç¨‹åº filterä½œç”¨:æˆ‘ä»¬å¾ˆå°‘ä¼šä¸€æ¬¡æ€§ä»æ•°æ®åº“ä¸­å–å‡ºæ‰€æœ‰çš„æ•°æ®ï¼›é€šå¸¸éƒ½åªé’ˆå¯¹ä¸€éƒ¨åˆ†æ•°æ®è¿›è¡Œæ“ä½œ æ‰€ä»¥è¦å°†productä¸­çš„æˆå‘˜å•ç‹¬ ***python ä¸­æ²¡æœ‰null *** ä¸Cä¸åŒçš„æ˜¯ï¼Œåœ¨pythonä¸­æ˜¯æ²¡æœ‰NULLçš„ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯Noneï¼Œå®ƒçš„å«ä¹‰æ˜¯ä¸ºç©º pythonæ˜¯æŠŠ0ï¼Œç©ºå­—ç¬¦ä¸²â€˜ â€™å’ŒNoneéƒ½çœ‹ä½œFalseï¼ŒæŠŠå…¶ä»–æ•°å€¼å’Œéç©ºå­—ç¬¦ä¸²éƒ½çœ‹ä½œTrue è¡¨ç¤ºè¯¥å€¼æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç©ºå€¼æ˜¯Pythoné‡Œä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œç”¨Noneè¡¨ç¤ºã€‚Noneä¸èƒ½ç†è§£ä¸º0ï¼Œå› ä¸º0æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè€ŒNoneæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç©ºå€¼ã€‚ 123456&lt;label for=&quot;byear&quot;&gt;ä½ çš„å¹´ä»½:&lt;/label&gt;&lt;select name=&apos;byear&apos;&gt; &#123;% for year in years %&#125; &lt;option value=&quot;&#123;&#123; year &#125;&#125;&quot;&gt;&#123;&#123; year &#125;&#125;&lt;/option&gt; &#123;% endfor %&#125;&lt;/select&gt;&lt;br&gt; è¿™ä¸ªä¹Ÿè¦æ”¾åˆ°ä¸­ å¯¹æ•°æ®çš„æå–: 12345try: urid = request.GET[&apos;user_id&apos;] urpass = request.GET[&apos;user_pass&apos;] urfcolor = request.GET.getlist(&apos;fcolor&apos;) #æ³¨æ„åŒºåˆ«()ä¸[] uryear = request.GET[&apos;byear&apos;]","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"Django","slug":"Django","permalink":"https://nymrli.top/tags/Django/"}]},{"title":"Python Webâ€”â€”Djangoç¬”è®°(äºŒ)","slug":"Python Webâ€”â€”Djangoç¬”è®°(äºŒ)","date":"2018-10-24T10:23:40.000Z","updated":"2019-09-15T08:07:30.976Z","comments":true,"path":"2018/10/24/Python Webâ€”â€”Djangoç¬”è®°(äºŒ)/","link":"","permalink":"https://nymrli.top/2018/10/24/Python Webâ€”â€”Djangoç¬”è®°(äºŒ)/","excerpt":"","text":"Method= POSTçš„æ“ä½œ åœ¨posting.htmlä¸­çš„&lt;form&gt;ä¸­åŠ å…¥æ ‡è¯†ç¬¦ 1234&gt; &#123;% csrf_token %&#125;&gt; &lt;form name=&apos;my form&apos; action=&apos;.&apos; method=&apos;POST&apos;&gt; &gt; &#123;% csrf_token %&#125;&gt; â–²æ³¨æ„action='???' 12345678910åœ¨views.postingå¤„ç†å‡½æ•°ä¸­æ”¹ç”¨RequestContextä½œä¸ºç½‘é¡µæ˜¾ç¤ºçš„å†…å®¹: from django.template import RequestContext def posting(request): template = get_template('posting.html') moods = models.Mood.objects.all() message = 'å¦‚æœ....' request_context = RequestContext(request) request_context.push(locals()) html = template.render(context=locals(), request=request) return HttpResponse(html) çª—ä½“Formä¸ModelFormåŒºåˆ« Form çš„æ‰€æœ‰é€‰é¡¹éƒ½æ˜¯è‡ªå·±åœ¨forms.py ä¸­classå®šä¹‰çš„ä¸€ä¸ªç±»,è€ŒModelFormåˆ™æ˜¯ç›´æ¥å¼•ç”¨å†™å¥½çš„models.pyä¸­çš„æ¨¡å‹. 123456789101112131415from django import formsclass ContactForm(forms.Form): CITY = [ ['TP', 'Taipei'], ['TY', 'Taoyuang'], ['TC', 'Taichung'], ['TN', 'Tainan'], ['KS', 'Kaohsiung'], ['NA', 'Others'], ] user_name = forms.CharField(label='ä½ çš„å§“å',max_length=50,initial='æå¤§ä»') user_city = forms.ChoiceField(label='å±…ä½çš„åŸå¸‚',choices=CITY) user_school = forms.BooleanField(label='æ˜¯å¦åœ¨å­¦',required=False) user_email = forms.EmailField(label='ç”µå­é‚®ä»¶') user_message = forms.CharField(label='ä½ çš„æ„è§',widget=forms.Textarea) 1234567891011121314151617181920212223242526-----------------------------------------------------------------------------------------&lt;!--posting.html--&gt;&#123;% extends &quot;base.html&quot; %&#125;&#123;% block title %&#125;æˆ‘æœ‰è¯è¦è¯´&#123;% endblock %&#125;&#123;% block content %&#125;&lt;div class=&apos;container&apos;&gt;&#123;% if message %&#125; &lt;div class=&apos;alert alert-warning&apos;&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;&#123;% endif %&#125;&lt;form name=&apos;my form&apos; action=&apos;/&apos; method=&apos;POST&apos;&gt; &#123;% csrf_token %&#125; ç°åœ¨çš„å¿ƒæƒ…ï¼š&lt;br/&gt; &#123;% for m in moods %&#125; &lt;input type=&apos;radio&apos; name=&apos;mood&apos; value=&apos;&#123;&#123; m.status &#125;&#125;&apos;&gt;&#123;&#123; m.status &#125;&#125; &#123;% endfor %&#125; &lt;br/&gt; å¿ƒæƒ…ç•™è¨€æ¿ï¼š&lt;br/&gt; &lt;textarea name=&apos;user_post&apos; rows=3 cols=70&gt;&lt;/textarea&gt;&lt;br/&gt; &lt;label for=&apos;user_id&apos;&gt;ä½ çš„æ˜µç§°ï¼š&lt;/label&gt; &lt;input id=&apos;user_id&apos; type=&apos;text&apos; name=&apos;user_id&apos;&gt; &lt;label for=&apos;user_pass&apos;&gt;å¼ è´´/åˆ é™¤å¯†ç ï¼š&lt;/label&gt; &lt;input id=&apos;user_pass&apos; type=&apos;password&apos; name=&apos;user_pass&apos;&gt;&lt;br/&gt; &lt;input type=&apos;submit&apos; value=&apos;å¼ è´´&apos;&gt; &lt;input type=&apos;reset&apos; value=&apos;æ¸…é™¤é‡å¡«&apos;&gt;&lt;/form&gt;&lt;/div&gt;&#123;% endblock %&#125; 1234567891011121314151617181920212223242526&lt;!-- index.html (ch08www project) --&gt; &#123;% extends &quot;base.html&quot; %&#125; &#123;% block title %&#125;æˆ‘æœ‰è¯è¦è¯´&#123;% endblock %&#125; &#123;% block content %&#125; &lt;div class=&apos;container&apos;&gt; &#123;% if message %&#125; &lt;div class=&apos;alert alert-warning&apos;&gt;&#123;&#123; message &#125;&#125; &lt;/div&gt; &#123;% endif %&#125; &lt;form name=&apos;my form&apos; action=&apos;/&apos; method=&apos;POST&apos;&gt; &#123;% csrf_token %&#125; ç°åœ¨çš„å¿ƒæƒ…ï¼š&lt;br/&gt; &#123;% for m in moods %&#125; &lt;input type=&apos;radio&apos; name=&apos;mood&apos; value=&apos;&#123;&#123; m.status &#125;&#125;&apos;&gt;&#123;&#123; m.status &#125;&#125; &#123;% endfor %&#125; &lt;br/&gt; å¿ƒæƒ…ç•™è¨€æ¿ï¼š&lt;br/&gt; &lt;textarea name=&apos;user_post&apos; rows=3 cols=70&gt;&lt;/textarea&gt;&lt;br/&gt; &lt;label for=&apos;user_id&apos;&gt;ä½ çš„æ˜µç§°ï¼š&lt;/label&gt; &lt;input id=&apos;user_id&apos; type=&apos;text&apos; name=&apos;user_id&apos;&gt; &lt;label for=&apos;user_pass&apos;&gt;å¼ è´´/åˆ é™¤å¯†ç ï¼š&lt;/label&gt; &lt;input id=&apos;user_pass&apos; type=&apos;password&apos; name=&apos;user_pass&apos;&gt;&lt;br/&gt; &lt;input type=&apos;submit&apos; value=&apos;å¼ è´´&apos;&gt; &lt;input type=&apos;reset&apos; value=&apos;æ¸…é™¤é‡å¡«&apos;&gt; &lt;/form&gt; &lt;/div&gt; &#123;% endblock %&#125; 12345678910111213from django import formsfrom . import modelsclass PostForm(forms.ModelForm): class Meta: model = models.Post //å‘Šè¯‰model ä¸é‚£ä¸ªæ¨¡å‹è€¦åˆ fields = ['mood','nickname','message','del_pass'] //éœ€è¦æ˜¾ç¤ºçš„data def __init__(self,*args,**kwargs): super().__init__(self,*args,**kwargs) self.fields['mood'].label = 'ç°åœ¨çš„å¿ƒæƒ…' self.fields['nickname'].label = 'æ‚¨çš„æ˜µç§°' self.fields['message'].label = 'å¿ƒæƒ…ç•™è¨€' self.fields['del_pass'].label = 'è®¾ç½®å¯†ç ' 12345678910111213141516171819-----------------------------------------------------------------------------------------&lt;!--post2db.html--&gt;&#123;% extends &quot;base.html&quot; %&#125;&#123;% block title %&#125;æˆ‘æœ‰è¯è¦è¯´&#123;% endblock %&#125;&#123;% block content %&#125;&lt;div class=&apos;container&apos;&gt;&#123;% if message %&#125; &lt;div class=&apos;alert alert-warning&apos;&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;&#123;% endif %&#125; &lt;form name=&apos;my form&apos; action=&apos;/&apos; method=&apos;POST&apos;&gt; &#123;% csrf_token %&#125; &lt;table&gt; &#123;&#123; post_form.as_table&#125;&#125; //çœå»äº†å‰ç«¯å¯¹è¡¨æ ¼çš„ä»£ç  &lt;/table&gt; &lt;input type=&quot;submit&quot; value=&quot;å¼ è´´&quot;&gt; &lt;input type=&quot;reset&quot; value=&quot;é‡å¡«&quot;&gt;&lt;/form&gt;&lt;/div&gt;&#123;% endblock %&#125; â–³åŒæ—¶ç”¨ModelForm çš„è¿˜æœ‰ä¸€å¥½å¤„ä¸º:å¹¶æ²¡æœ‰ç‰¹åˆ«å¤„ç†â€™â€˜ç°åœ¨çš„å¿ƒæƒ…â€™'é‚£éƒ¨åˆ†,ä½†ModelFormè‡ªåŠ¨å¸®æˆ‘ä»¬å¤„ç†å¥½äº†,å¤–é”®çš„å­—æ®µè‡ªåŠ¨è·å¾—æ•°æ®,å¹¶è‡ªåŠ¨æˆä¸ºä¸‹æ‹‰å¼èœå• æäº¤çš„æ•°æ®æ¥æ”¶: 12345678910111213141516åŸºæœ¬çª—ä½“: &lt;form method=&quot;GET&quot;&gt; # æ‰€ä»¥è·å–æ•°æ®ä¸º: user_id = request.GET[&apos;user_id&apos;] &lt;form method=&quot;POST&quot;&gt; # user_id = request.POST[&apos;user_id&apos;]è‡ªå®šä¹‰çª—ä½“:(Formç±») &lt;form method= &apos;POST&apos;&gt; # form(å®ä¾‹).cleaned_data[&apos;user_id&apos;] ModelForm : post_form.save() æ•°æ®çš„ä¿å­˜: åŸºæœ¬çª—ä½“: 123mood = models.Mood.objects.get(status=user_mood)post = models.Post.objects.create(mood=mood, nickname=user_id, message=user_post, del_pass=user_pass)post.save() ModelForm: 1post_form.save() éªŒè¯ç åŠŸèƒ½(Django-simple-captcha): å®‰è£…Django-simple-captcha INSTALL_APPSä¸­æ·»åŠ  python manage.py migrate url(r'^captcha/',include('captcha.urls')), å®‰è£…Pillow 1234class PostForm(forms.ModelForm): captcha = CaptchaField() def __init__(self,*args,**kwargs): self.fields[&apos;captcha&apos;].label = &apos;éªŒè¯ç &apos; 123456&gt; COLORS = [&gt; [&apos;é»„&apos;,&apos;é»„&apos;],&gt; [&apos;ç™½&apos;,&apos;ç™½&apos;],&gt; [&apos;çº¢&apos;,&apos;çº¢&apos;], //å‰é¢çš„æ˜¯å€¼,åé¢çš„æ˜¯æ˜¾ç¤ºçš„é€‰é¡¹&gt; ]&gt; 1234*render ä¸ render_to_responseçš„åŒºåˆ«* return render(request, &apos;blog_add.html&apos;, &#123;&apos;blog&apos;: blog, &apos;form&apos;: form, &apos;id&apos;: id, &apos;tag&apos;: tag&#125;)-----------------------------------------------------------------------------------------return render_to_response(&apos;blog_add.html&apos;, &#123;&apos;blog&apos;: blog, &apos;form&apos;: form, &apos;id&apos;: id, &apos;tag&apos;: tag&#125;) renderæ¯”render_to_responseå°‘å¡«ä¸€ä¸ªrequestå‚æ•° 12345request.session[&apos;username&apos;] = user.name //è®¾ç½®sessionif &apos;username&apos; in request.session: username = request.session[&apos;username&apos;] //å–å‡ºsession del request.session[&apos;username&apos;] //åˆ é™¤session 12345678if username: response.set_cookie(&apos;username&apos;,username) //è®¾ç½®Cookie //django1.11éœ€è¦åŠ encoding(&apos;utf-8&apos;),2.0ä¸éœ€è¦if &apos;username&apos; in request.COOKIES and &apos;usercolor&apos; in request.COOKIES: username = request.COOKIES[&apos;username&apos;] //å–å‡ºCOOKIEdef logout(request): response = HttpResponseRedirect(&apos;/&apos;) response.delete_cookie(&apos;username&apos;) //åˆ é™¤cookie Djangoçš„ä¿¡æ¯æ˜¾ç¤ºæ¡†æ¶:messages framework 123from django.contrib import messagesä¸»è¦æä¾›ä¸¤ä¸ªå‡½æ•°: messages.add_message(request,messages.SUCCESS,&apos;æˆåŠŸç™»é™†äº†!&apos;) messages.get_messages(request) â–²æ³¨æ„messageåé¢æœ‰æ²¡æœ‰s add_message()ä¿¡æ¯çš„å†…å®¹ç±»å‹é»˜è®¤åˆ†æˆä»¥ä¸‹å‡ ä¸ªç­‰çº§: DEBUG è°ƒè¯•ä¿¡æ¯å­—ç¬¦ä¸² INFO ä¿¡æ¯å­—ç¬¦ä¸² SUCCESS æˆåŠŸä¿¡æ¯å­—ç¬¦ä¸² WARNING è­¦å‘Šä¿¡æ¯å­—ç¬¦ä¸² ERROR é”™è¯¯ä¿¡æ¯å­—ç¬¦ä¸² Django authç”¨æˆ·éªŒè¯ from django.contrib.auth.models import User ä¸»è¦æä¾›ä¸‰ä¸ªå‡½æ•°: authenticate(yz = input ,[]) //éªŒè¯ login(request,user) //å°†æ•°æ®å­˜å…¥Session,userä¸ºauthenticateçš„è¿”å›å€¼ logout(request) if user.is_active //æ£€æŸ¥è´¦å·æ˜¯å¦æœ‰æ•ˆ,ä¹Ÿæ²¡æœ‰æ‹¬å· 1234from django.contrib.auth.models import Userfrom django.contrib.auth import authenticatefrom django.contrib import auth //ä¸ºäº†é¿å…å’Œè‡ªå®šä¹‰çš„ login.logouté‡åfrom django.contrib.auth.decorators import login_required éªŒè¯sessionæ˜¯å¦å­˜åœ¨: 12if request.user.is_authenticated: #â–²1.11ä¸åŠ (),2.0å¯åŠ å¯ä¸åŠ  éœ€è¦ç™»å½•æ‰èƒ½æµè§ˆ 1@login_required(login_url=&apos;/login/&apos;) å¢åŠ authçš„Userå­—æ®µ 123456789101112models.pyä¸­from django.contrib.auth.models import Userclass Profile(models.Model): user = models.OneToOneField(User,on_delete=models.CASCADE) height = models.PositiveIntegerField(default=60) male = models.BooleanField(default=False) website = models.URLField(null=True) admin.pyä¸­admin.site.register(models.Profile)terminal: python mange.py migrate\\makemigrations æ˜¾ç¤ºå¢åŠ çš„Userå­—æ®µ 123456789101112@login_required(login_url=&apos;/login/&apos;)def userinfo(request): if request.user.is_authenticated: username = request.user.username try: user = User.objects.get(username = username) userinfo = models.Profile.objects.get(user = user) except: pass template = get_template(&apos;userinfo.html&apos;) html = template.render(locals()) return HttpResponse(html) ç‚¹å‡»çš„æ–¹å¼è¾“å…¥æ—¥æœŸ: 1234567891011121314151617class DateInput(forms.DateInput): //ä¸æ˜¯forms.DateField input_type = &apos;date&apos;class DiaryForm(forms.ModelForm): class Meta: model = models.Diary fields = [&apos;budget&apos;,&apos;weight&apos;,&apos;note&apos;,&apos;ddate&apos;] #æ²¡æœ‰æŒ‡å‡ºuserå­—æ®µ...é€šè¿‡ORMå–å‡º widgets = &#123; &apos;ddate&apos;:DateInput(), &#125; def __init__(self,*args,**kwargs): super(DiaryForm,self).__init__(*args,**kwargs) self.fields[&apos;budget&apos;].label = &apos;ä»Šæ—¥è¯è´¹(å…ƒ)&apos; self.fields[&apos;weight&apos;].label = &apos;ä»Šæ—¥ä½“é‡(KG)&apos; self.fields[&apos;note&apos;].label = &apos;å¿ƒæƒ…ç•™è¨€&apos; self.fields[&apos;ddate&apos;].label = &apos;æ—¥æœŸ&apos; 123456789class Diary(models.Model): user = models.ForeignKey(User,on_delete=models.CASCADE) budget = models.FloatField(default=0) weight = models.FloatField(default=0) note = models.TextField() ddate = models.DateField() def __str__(self): return &apos;&#123;&#125;&#123;&#125;&apos;.format(self.ddate,self.user) 123user = User.objects.get(username = username) //DiaryFromä¸­æ²¡æœ‰user,é€šè¿‡Djangoçš„ORMå–å‡ºdiary= models.Diary(user=user)post_form = forms.DiaryForm(request.POST,instance=diary) //æŠŠæ‰€æœ‰ä¿¡æ¯åˆå¹¶ å»ºç«‹django-registrationæ‰€éœ€çš„æ¨¡æ¿: æ¨¡æ¿æˆ–æ–‡ä»¶å ç”¨é€”è¯´æ˜ registration_form.html æ˜¾ç¤ºæ³¨å†Œçª—ä½“çš„é¡µé¢,é»˜è®¤ä½¿ç”¨formå˜é‡ä½œä¸ºçª—ä½“å„å­—æ®µçš„å†…å®¹ registration_complete.html å¡«å†™å®Œæ³¨å†Œçª—ä½“,å•å‡»â€™æäº¤â€™æŒ‰é’®åæ˜¾ç¤ºçš„ä¿¡æ¯é¡µé¢ activation_complete.html å½“è´¦å·é¡ºåˆ©å®Œæˆå¯ç”¨æ—¶ä¼šæ˜¾ç¤ºçš„é¡µé¢ activate.html å½“è´¦å·é¡ºåˆ©å¯ç”¨å¤±è´¥æ—¶ä¼šæ˜¾ç¤ºçš„é¡µé¢ activation_email.txt åœ¨å‘é€å¯ç”¨é‚®ä»¶æ—¶ä½¿ç”¨çš„é‚®ä»¶å†…å®¹ activation_email_subject.txt åœ¨å‘é€å¯ç”¨é‚®ä»¶æ—¶ä½¿ç”¨çš„é‚®ä»¶ä¸»é¢˜ Markdown ä½¿ç”¨å‘½ä»¤ pip install markdown å®‰è£… å°† Markdown æ ¼å¼çš„æ–‡æœ¬æ¸²æŸ“æˆ HTML æ–‡æœ¬: 12345678910111213blog/views.pyimport markdownfrom django.shortcuts import render, get_object_or_404from .models import Postdef detail(request, pk): post = get_object_or_404(Post, pk=pk) # è®°å¾—åœ¨é¡¶éƒ¨å¼•å…¥ markdown æ¨¡å— post.body = markdown.markdown(post.body, extensions=[ &apos;markdown.extensions.extra&apos;, &apos;markdown.extensions.codehilite&apos;,#è¯­æ³•é«˜äº®æ‹“å±• &apos;markdown.extensions.toc&apos;, #è‡ªåŠ¨ç”Ÿæˆç›®å½• ]) return render(request, &apos;blog/detail.html&apos;, context=&#123;&apos;post&apos;: post&#125;) â€‹ Django å‡ºäºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œä»»ä½•çš„ HTML ä»£ç åœ¨ Django çš„æ¨¡æ¿ä¸­éƒ½ä¼šè¢«è½¬ä¹‰ï¼ˆå³æ˜¾ç¤ºåŸå§‹çš„ HTML ä»£ç ï¼Œè€Œä¸æ˜¯ç»æµè§ˆå™¨æ¸²æŸ“åçš„æ ¼å¼ï¼‰ã€‚ä¸ºäº†è§£é™¤è½¬ä¹‰ï¼Œåªéœ€åœ¨æ¨¡æ¿æ ‡ç­¾ä½¿ç”¨ safe è¿‡æ»¤å™¨å³å¯ï¼Œå‘Šè¯‰ Djangoï¼Œè¿™æ®µæ–‡æœ¬æ˜¯å®‰å…¨çš„ï¼Œä½ ä»€ä¹ˆä¹Ÿä¸ç”¨åšã€‚ ä»£ç é«˜äº® pip install Pygments å®‰è£… Pygments çš„å·¥ä½œåŸç†æ˜¯æŠŠä»£ç åˆ‡åˆ†æˆä¸€ä¸ªä¸ªå•è¯ï¼Œç„¶åä¸ºè¿™äº›å•è¯æ·»åŠ  css æ ·å¼ï¼Œä¸åŒçš„è¯åº”ç”¨ä¸åŒçš„æ ·å¼ï¼Œè¿™æ ·å°±å®ç°äº†ä»£ç é¢œè‰²çš„åŒºåˆ†ï¼Œå³é«˜äº®äº†è¯­æ³•ã€‚","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"åç«¯","slug":"åç«¯","permalink":"https://nymrli.top/tags/åç«¯/"},{"name":"Django","slug":"Django","permalink":"https://nymrli.top/tags/Django/"}]},{"title":"ç½‘ç»œå®½å¸¦å’Œç½‘ç»œå»¶è¿Ÿ","slug":"ç½‘ç»œå®½å¸¦å’Œç½‘ç»œå»¶è¿Ÿ","date":"2018-10-24T08:42:27.000Z","updated":"2020-11-28T13:41:22.813Z","comments":true,"path":"2018/10/24/ç½‘ç»œå®½å¸¦å’Œç½‘ç»œå»¶è¿Ÿ/","link":"","permalink":"https://nymrli.top/2018/10/24/ç½‘ç»œå®½å¸¦å’Œç½‘ç»œå»¶è¿Ÿ/","excerpt":"","text":"ç½‘ç»œå®½å¸¦å’Œç½‘ç»œå»¶è¿Ÿ ç½‘ç»œå¸¦å®½ï¼Œç½‘ç»œå»¶è¿Ÿæ˜¯2ä¸ªæ¦‚å¿µï¼ˆç½‘ç»œå»¶è¿Ÿå¾€å¾€æ›´å®¹æ˜“è¢«å¿½ç•¥ï¼ï¼‰ å›½å†…å¤§é™† å»ºç«‹åœ¨äº’è”ç½‘åŸºç¡€ä¸Š å¾ˆå¤šå¯¹å»¶è¿Ÿæ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åº”ç”¨ï¼Œä½“éªŒæ•ˆæœéƒ½ä¸å¦‚äººæ„ã€‚æ¯”å¦‚é«˜æ¸…æ™°åº¦ç½‘ç»œç”µè§†ã€åœ¨çº¿è§†é¢‘è¯­éŸ³å®æ—¶ä¸šåŠ¡ï¼ˆqqã€skypeï¼‰ æŸäº›åœ¨çº¿æ¸¸æˆ ç­‰ç­‰ã€‚ æœ€ç®€å•çš„ä¾‹å­ï¼šå¦‚æœpingæŸä¸ªç½‘ç«™ï¼Œé«˜äº50msçš„ç½‘ç«™ï¼Œæ‰“å¼€å°±æ…¢ã€‚10-30msçš„ç½‘ç«™ï¼Œæ‰“å¼€å°±æ¯”è¾ƒå¿«ã€‚ å¦‚æœéƒ½æ˜¯åŒä¸€ä¸ªå®½å¸¦æœåŠ¡å•†ï¼Œå³ä½¿å‡çº§åˆ°10M 20M 100Mçš„å®½å¸¦ï¼Œè¿™ç§ç½‘ç»œå»¶è¿Ÿæƒ…å†µï¼ŒçŸ­æ—¶é—´å†…åº”è¯¥ä¹Ÿä¸ä¼šæœ‰æ”¹å–„ 1ã€â€œä¸‹è½½ç”µå½±è¿™ç§æ´»å„¿å°±çœ‹å¸¦å®½ï¼Œä¸åœ¨ä¹æœåŠ¡å™¨å‘å‡ºæ•°æ®åæ™šå‡ ç§’é’Ÿæ”¶åˆ°ï¼Œä¼ è¾“å±‚æœ‰â€œçª—å£åè®®â€ï¼Œä¸å¿…ç­‰åˆ°ä¸Šä¸€æ®µæ•°æ®çš„åº”ç­”å†ä¼ ä¸‹ä¸€æ®µæ•°æ®ï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸€ç§â€œå¼‚æ­¥åº”ç”¨â€ã€‚ä¸€èˆ¬è¯´ï¼Œäº¤äº’æ€§çš„åº”ç”¨æ¯”è¾ƒè®²ç©¶ä½å»¶è¿Ÿï¼Œæˆ‘ç”¨â€œåŒæ­¥åº”ç”¨â€æ¥æè¿°ä¹‹ã€‚åŒæ­¥åº”ç”¨åˆ«è¯´æ™šå‡ ç§’é’Ÿï¼Œå°±æ˜¯æ™š0.1ç§’æ”¶åˆ°æ•°æ®ï¼Œå½±å“ä¹Ÿå¾ˆå¤§,å¦‚ aã€æ¯”å¦‚fpsæ¸¸æˆä¼šè§‰å¾—å¾ˆä¸çˆ½ï¼Œæ˜æ˜ç„å‡†äº†æ€ä¹ˆæ‰“ä¸åˆ°ã€‚ bã€è‡³äºè§†é¢‘è¯­éŸ³ç­‰ï¼Œå¯¹å¸¦å®½ã€å»¶è¿Ÿéƒ½æœ‰ä¸€å®šè¦æ±‚ï¼Œå¸¦å®½å¤ªå°æ— æ³•ä¼ è¾“æ¸…æ™°çš„å›¾åƒå’Œå£°éŸ³ï¼Œå»¶è¿Ÿå¤ªå¤§ä½ ä¸€å¥è¯â€œæˆ‘çˆ±ä½ â€ï¼Œå¯¹æ–¹çš„mmæ²¡æœ‰ä»»ä½•ååº”â€¦â€¦ å¦å¤–è¿˜æœ‰ä¸€ä¸ªæŒ‡æ ‡æ˜¯æŠ–åŠ¨ï¼Œé€šä¿—è¯´æ˜¯æ•°æ®èƒ½ä¸èƒ½å¹³ç¨³ä¼ è¾“ï¼Œè¿˜æ˜¯ä¸€ä¼šå„¿å¿«ä¸€ä¼šå„¿æ…¢ä¸€ä¼šå„¿å µå¡ã€‚â€ 2ã€ç†è®ºä¸Šè¯´ï¼Œå¸¦å®½è¶Šå¤§ï¼Œåœ¨ç½‘ç»œæ‹“æ‰‘ä¸­çš„ä¼˜å…ˆçº§å°±è¶Šé«˜ï¼Œæ‰€å¯¹åº”çš„å“åº”é€Ÿåº¦å°±è¶Šå¿«ï¼Œå¯¹äºç”¨æˆ·å’ŒISPä¹‹é—´æ¥è¯´å¸¦å®½è¶Šé«˜ï¼Œæ¯ç§’ä¼ è¾“çš„æ•°æ®è¶Šå¤šï¼Œå»¶è¿Ÿå°±è¶Šå°ã€‚ä½†æ˜¯å»¶è¿Ÿé«˜ä½æ˜¯ç”±å¾ˆå¤šä¸ªå› ç´ å†³å®šçš„ï¼Œç½‘ç»œä¸Šçš„æ¯ä¸€ä¸ªæœåŠ¡å™¨ï¼ˆè·¯ç”±å™¨ï¼‰éƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹åŠ åœ¨ä¸€èµ·çš„å“åº”é€Ÿåº¦ï¼Œæ‰æ˜¯ä½ çš„ç½‘ç»œå»¶è¿Ÿï¼Œå¦‚æœæŸä¸€ä¸­é—´èŠ‚ç‚¹å‡ºç°å‡ºé¢˜ï¼Œæ— æ³•æä¾›æœåŠ¡ï¼Œå…¶å®ƒèŠ‚ç‚¹å°±ä¼šé‡æ–°è®¡ç®—è·¯ç”±ï¼Œä½†æ˜¯é‡æ–°è®¡ç®—è·¯ç”±ä¹‹å‰ä¼šæœ‰ä¸€ä¸ªè¶…æ—¶è®°æ—¶å™¨ï¼Œåªæœ‰ç›®çš„èŠ‚ç‚¹çš„å“åº”æ—¶é—´è¶…å‡ºè®°æ—¶å™¨æ—¶æ‰ä¼šé‡æ–°è¿›è¡Œè·¯ç”±è®¡ç®—ã€‚è¿˜æœ‰DNSæœåŠ¡å™¨çš„å½±å“ç­‰ç­‰ï¼Œ æ‰€ä»¥æŠŠç½‘ç»œå¸¦å®½å’Œç½‘ç»œå»¶è¿Ÿæ‰¯åœ¨ä¸€èµ·è°ˆæ˜¯æ²¡ç”¨çš„ï¼ŒISPåªèƒ½ä¿è¯ä½ çš„æ¥å…¥ç½‘ç»œå¸¦å®½å’Œç½‘ç»œå»¶è¿Ÿæ— é—®é¢˜ï¼Œä¸å…¶å®ƒèŠ‚ç‚¹çš„æœåŠ¡å°±æ²¡æ³•ä¿è¯äº†ã€‚ï¼ˆä¸–ç•Œä¸Šæœ€è¿œçš„è·ç¦»ä¸æ˜¯å¤©æ¶¯å’Œæµ·è§’ï¼Œè€Œæ˜¯ç”µä¿¡å’Œç½‘é€šï¼‰â€ 3ã€â€œä»»ä½•FPSæ¸¸æˆï¼Œç½‘ç»œæ¡ä»¶æ˜¯æœ€å…³é”®çš„â€”â€”åˆ°æœåŠ¡å™¨çš„pingç¨³å®šæ€§å’Œå»¶è¿Ÿæ—¶é—´ï¼Œå¯¹æˆ˜ç»©çš„å½±å“æœ€å¤§ã€‚ æ¯”å¦‚pingæœåŠ¡å™¨5åˆ†é’Ÿï¼Œå»¶è¿Ÿmsæ•°ä¸€ç›´ä¸å˜ï¼Œæˆ–è€…è¯¯å·®ä¸è¶…è¿‡5%ï¼Œéšä¾¿ä»€ä¹ˆFPSï¼Œå“ªæ€•ä½ ä»æ²¡ç©è¿‡æ²¡æœ‰ç»éªŒä¸ç†Ÿæ‚‰åœ°å›¾å’Œæ­¦å™¨ï¼Œä½ çš„æˆç»©ä¹Ÿå·®ä¸äº†ã€‚ å¦‚æœè¿™msæ•°æ¯”å¤šæ•°äººè¿˜å°‘ï¼Œé‚£ä½ æ›´å±Œäº†ã€‚ ADSLçº¿è·¯åˆ†äº¤ç»‡æ¨¡å¼interleaveå’Œå¿«é€Ÿæ¨¡å¼fast,åŒºåˆ«åœ¨äºäº¤ç»‡æ¨¡å¼åœ¨æœ¬åœ°ä¼šå¯¹æ•°æ®åŒ…è¿›è¡Œçº é”™åŠ å¯†ï¼Œå› æ­¤å¯ä¿è¯çº¿è·¯çš„ç¨³å®šï¼Œå½“ç„¶ç›¸åº”çš„å»¶è¿Ÿå°±ä¼šä¸Šå‡ï¼Œç”µä¿¡æä¾›çš„çº¿è·¯é»˜è®¤ä¹Ÿéƒ½æ˜¯äº¤ç»‡æ¨¡å¼ï¼Œäºæ˜¯æœ‰ç§å‡ä½å»¶è¿Ÿçš„æ–¹æ³•å°±æ˜¯è®©ç”µä¿¡å¸®ä½ çº¿è·¯æ”¹æˆFAST,å½“ç„¶éšä¹‹è€Œæ¥çš„é—®é¢˜æ˜¯å¯èƒ½å¯¼è‡´çº¿è·¯çš„ä¸ç¨³å®šï¼Œå°¤å…¶æ˜¯å®¶é‡Œç¦»æ¥å…¥ç½‘æœºæˆ¿æ¯”è¾ƒè¿œçš„æƒ…å†µã€‚ å»¶è¿Ÿè¿™ä¸ªé—®é¢˜åªè¦æ˜¯ç½‘ç»œéƒ½ä¼šå­˜åœ¨,å·®åˆ«åœ¨äºå¤§å°,æ ‡å¿—ç€æ•´ä¸ªæ¶æ„çš„åˆç†æ€§å’Œå®Œå–„æ€§ã€‚å¯ä»¥ç®€å•çš„è®¤ä¸ºå¸¦å®½ç›¸å½“äºé©¬è·¯ä¸Šçš„è½¦é“æ•°é‡ï¼Œå»¶è¿Ÿå°±ç›¸å½“äºå µå¡çš„ç¨‹åº¦ã€‚å› æ­¤ï¼Œè¥è¿å•†å³ä½¿æ˜¯ç›¸åŒå¸¦å®½çš„æƒ…å†µä¸‹å¯¹å»¶è¿Ÿä¸åŒçš„çº¿è·¯æ”¶è´¹ä¹Ÿæ˜¯ä¸åŒçš„ã€‚å½“ç„¶ä¸€èˆ¬å®¶åº­ç”¨æˆ·æ˜¯ä¸ä¼šäº«å—è¿™ä¸ªçš„ã€‚ ADSL ADSLï¼ˆAsymmetric Digital Subscriber Loopï¼‰æŠ€æœ¯æ˜¯ä¸€ç§ä¸å¯¹ç§°æ•°å­—ç”¨æˆ·çº¿å®ç°å®½å¸¦æ¥å…¥äº’è¿ç½‘çš„æŠ€æœ¯ã€‚ å®é™…ä¼ è¾“é€Ÿåº¦ä¹Ÿè¦åˆ†ä¸Šè¡Œå’Œä¸‹è¡Œï¼Œä¸Šè¡Œé€Ÿç‡å°±æ˜¯å‘é€å‡ºå»æ•°æ®çš„é€Ÿåº¦(ä¸Šä¼ é€Ÿåº¦)ï¼Œä¸‹è¡Œå°±æ˜¯æ”¶åˆ°æ•°æ®çš„é€Ÿåº¦(ä¸‹è½½é€Ÿåº¦). æ€»ç»“ å¸¦å®½ä»£è¡¨ä¸€å®šæ—¶é—´å†…èƒ½è¿å¤šå°‘è´§ã€‚ å»¶è¿Ÿä»£è¡¨è´§ç‰©è¿è¾“æ—¶é—´ã€‚ æ¯”å¦‚ä¸‡å¨è½®å°±æ˜¯å±äºå¤§å¸¦å®½ï¼Œé«˜å»¶è¿Ÿã€‚ ç§äººé£æœºå±äºä½å»¶è¿Ÿï¼Œå°å¸¦å®½ã€‚ æ¯”å¦‚éƒ½ç»™ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œä¸‡å¨è½®æ‹‰çš„ä¸œè¥¿è‚¯å®šæ¯”ç§äººé£æœºå¤š,å¦‚æœåœŸè±ªåšç”Ÿæ„ï¼Œè¡€æ±—å·¥å‚tæ¤è¿å»å»ç¾å›½ï¼Œè‚¯å®šç”¨è½®èˆ¹ï¼Œå¯¹å¸¦å®½æ•æ„Ÿï¼Œå¯¹å»¶è¿Ÿä¸æ•æ„Ÿçš„ä¸šåŠ¡ã€‚ ä½†æ˜¯å¦‚æœåœŸè±ªè¦ç§»æ¤è‚¾äº†ï¼Œè¿™ç©æ„è·¯ä¸Šæ”¾ä¹…ä¼šè‡­ï¼Œå°±å±äºå¯¹å»¶è¿Ÿæ¯”è¾ƒæ•æ„Ÿçš„åº”ç”¨ï¼Œè¿˜æ˜¯ç”¨ç§äººé£æœºè¿æ¯”è¾ƒå¥½ã€‚","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"linuxä¸‹apt-getä»‹ç»","slug":"linuxä¸‹apt-getä»‹ç»","date":"2018-10-24T08:42:20.000Z","updated":"2019-09-15T08:07:30.958Z","comments":true,"path":"2018/10/24/linuxä¸‹apt-getä»‹ç»/","link":"","permalink":"https://nymrli.top/2018/10/24/linuxä¸‹apt-getä»‹ç»/","excerpt":"","text":"apt-get Advanced Package Toolåˆåapt-getï¼Œæ˜¯ä¸€æ¡linuxå‘½ä»¤ï¼Œé€‚ç”¨äºdebåŒ…ç®¡ç†å¼çš„æ“ä½œç³»ç»Ÿå¦‚Unixå’ŒLinuxç³»ç»Ÿçš„åº”ç”¨ç¨‹åºç®¡ç†å™¨ï¼Œä¸»è¦ç”¨äºè‡ªåŠ¨ä»äº’è”ç½‘çš„è½¯ä»¶ä»“åº“ä¸­æœç´¢ã€å®‰è£…ã€å‡çº§ã€å¸è½½è½¯ä»¶æˆ–æ“ä½œç³»ç»Ÿã€‚ rpmåŒ…å’ŒdebåŒ…æ˜¯ä¸¤ç§Linuxç³»ç»Ÿä¸‹æœ€å¸¸è§çš„å®‰è£…åŒ…æ ¼å¼ï¼Œåœ¨å®‰è£…ä¸€äº›è½¯ä»¶æˆ–æœåŠ¡çš„æ—¶å€™å…ä¸äº†è¦å’Œå®ƒä»¬æ‰“äº¤é“ã€‚rpmåŒ…ä¸»è¦åº”ç”¨åœ¨RedHatç³»åˆ—åŒ…æ‹¬ Fedoraç­‰å‘è¡Œç‰ˆçš„Linuxç³»ç»Ÿä¸Šï¼ŒdebåŒ…ä¸»è¦åº”ç”¨äºDebianç³»åˆ—åŒ…æ‹¬ç°åœ¨æ¯”è¾ƒæµè¡Œçš„Ubuntuç­‰å‘è¡Œç‰ˆä¸Šã€‚ æˆ‘ä»¬çŸ¥é“å¦‚æœè¦å®‰è£…ç°æˆçš„è¿™ä¸¤ç§åŒ…çš„è¯ï¼Œå®‰è£…rpmåŒ…çš„å‘½ä»¤æ˜¯â€œrpm -å‚æ•°â€ï¼Œå®‰è£…debåŒ…çš„å‘½ä»¤æ˜¯â€œdpkg -å‚æ•°â€ã€‚è€ŒLinuxç³»ç»Ÿå¾ˆæ–¹ä¾¿å’Œäººæ€§åŒ–çš„ä¸€ç‚¹å°±æ˜¯å¾ˆå¤šè½¯ä»¶æˆ–æœåŠ¡æ ¹æœ¬å°±ä¸ç”¨æˆ‘ä»¬å»ä¸‹è½½ï¼Œç›´æ¥ä½¿ç”¨ç›¸åº”çš„å‘½ä»¤å°±å¯ä»¥ç®¡ç†äº†ï¼Œå¯èƒ½è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„ â€œäº‘â€çš„æ¦‚å¿µã€‚ yumå¯ä»¥ç”¨äºè¿ä½œrpmåŒ…ï¼Œä¾‹å¦‚åœ¨Fedoraç³»ç»Ÿä¸Šå¯¹æŸä¸ªè½¯ä»¶çš„ç®¡ç†ï¼š å®‰è£…ï¼šyum install &lt;package_name&gt; å¸è½½ï¼šyum remove &lt;package_name&gt; æ›´æ–°ï¼šyum update &lt;package_name&gt; apt-getå¯ä»¥ç”¨äºè¿ä½œdebåŒ…ï¼Œä¾‹å¦‚åœ¨Ubuntuç³»ç»Ÿä¸Šå¯¹æŸä¸ªè½¯ä»¶çš„ç®¡ç†ï¼š å®‰è£…ï¼šapt-get install &lt;package_name&gt; å¸è½½ï¼šapt-get remove &lt;package_name&gt; æ›´æ–°ï¼šapt-get update &lt;package_name&gt; â–².apt-getå‘½ä»¤ä¸€èˆ¬éœ€è¦rootæƒé™æ‰§è¡Œï¼Œæ‰€ä»¥ä¸€èˆ¬è·Ÿç€sudoå‘½ä»¤ã€‚ 12345678910111213apt-get update#1ã€apt-get updateæ˜¯åŒæ­¥ /etc/apt/sources.list å’Œ /etc/apt/sources.list.d ä¸­åˆ—å‡ºçš„æºçš„ç´¢å¼•ï¼Œè¿™æ ·æ‰èƒ½è·å–åˆ°æœ€æ–°çš„è½¯ä»¶åŒ…ã€‚#2ã€apt-get updateåªæ˜¯æ›´æ–°äº†aptçš„èµ„æºåˆ—è¡¨ï¼Œæ²¡æœ‰çœŸæ­£çš„å¯¹ç³»ç»Ÿæ‰§è¡Œæ›´æ–°ã€‚å¦‚æœéœ€è¦ï¼Œè¦ä½¿ç”¨apt-get upgradeæ¥æ›´æ–°ã€‚apt-get upgrade#å¯ä»¥ä½¿ç”¨è¿™æ¡å‘½ä»¤æ›´æ–°è½¯ä»¶åŒ…ï¼Œapt-get upgradeä¸ä»…å¯ä»¥ä»ç›¸åŒç‰ˆæœ¬å·çš„å‘å¸ƒç‰ˆä¸­æ›´æ–°è½¯ä»¶åŒ…ï¼Œä¹Ÿå¯ä»¥ä»æ–°ç‰ˆæœ¬å·çš„å‘å¸ƒç‰ˆä¸­æ›´æ–°è½¯ä»¶åŒ…ï¼Œå°½ç®¡å®ç°åä¸€ç§æ›´æ–°çš„æ¨èå‘½ä»¤ä¸ºapt-get dist-upgrade(å°†ç³»ç»Ÿå‡çº§åˆ°æ–°ç‰ˆæœ¬)ã€‚#æ€»ç»“:â–² apt-get update æ˜¯æ›´æ–°æœ¬åœ°è½¯ä»¶åˆ—è¡¨ï¼Œåœ¨çº¿å®‰è£…çš„æ—¶å€™å¯ä»¥åœ¨è½¯ä»¶åˆ—è¡¨æ‰¾åˆ°è½¯ä»¶ï¼› apt-get upgrade æ˜¯æ›´æ–°æœ¬åœ°å·²å®‰è£…çš„è½¯ä»¶ï¼Œè¦è°¨æ…æ‰§è¡Œã€‚ #dpkg -l#åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„è½¯ä»¶åŒ…ã€‚ åœ¨Ubuntuä¸­ï¼Œæœ‰æ—¶å€™è¿ç”¨sudo apt-get install å®‰è£…è½¯ä»¶æ—¶ï¼Œä¼šå‡ºç°ä¸€ä¸‹çš„æƒ…å†µ E: Could not get lock /var/lib/dpkg/lock - open (11: Resource temporarily unavailable) E: Unable to lock the administration directory (/var/lib/dpkg/), is another process using it? ä¸»è¦æ˜¯å› ä¸ºaptè¿˜åœ¨è¿è¡Œ,è§£å†³æ–¹æ¡ˆæ˜¯ 1.æ‰¾åˆ°å¹¶ä¸”æ€æ‰æ‰€æœ‰çš„apt-get å’Œaptè¿›ç¨‹ 123456ps -A | grep aptæ‰¾å‡ºæ‰€æœ‰çš„ apt ä»¥åŠ apt-get è¿›ç¨‹$ sudo kill -9 processnumber æˆ–è€…$ sudo kill -SIGKILL processnumberæ¯”å¦‚ï¼Œä¸‹é¢å‘½ä»¤ä¸­çš„9æ˜¯ SIGKILL çš„ä¿¡å·æ•°ï¼Œå®ƒä¼šæ€æ‰ç¬¬ä¸€ä¸ª apt è¿›ç¨‹$ sudo kill -9 è¿›ç¨‹ID æˆ–è€…$ sudo kill -SIGKILL è¿›ç¨‹ID 2ã€åˆ é™¤é”å®šæ–‡ä»¶ é”å®šçš„æ–‡ä»¶ä¼šé˜»æ­¢ Linux ç³»ç»Ÿä¸­æŸäº›æ–‡ä»¶æˆ–è€…æ•°æ®çš„è®¿é—®ï¼Œè¿™ä¸ªæ¦‚å¿µä¹Ÿå­˜åœ¨äº Windows æˆ–è€…å…¶ä»–çš„æ“ä½œç³»ç»Ÿä¸­ã€‚ ä¸€æ—¦ä½ è¿è¡Œäº† apt-get æˆ–è€… apt å‘½ä»¤ï¼Œé”å®šæ–‡ä»¶å°†ä¼šåˆ›å»ºäº /var/lib/apt/lists/ã€/var/lib/dpkg/ã€/var/cache/apt/archives/ ä¸­ã€‚ è¿™æœ‰åŠ©äºè¿è¡Œä¸­çš„ apt-getæˆ–è€… apt è¿›ç¨‹èƒ½å¤Ÿé¿å…è¢«å…¶å®ƒéœ€è¦ä½¿ç”¨ç›¸åŒæ–‡ä»¶çš„ç”¨æˆ·æˆ–è€…ç³»ç»Ÿè¿›ç¨‹æ‰€æ‰“æ–­ã€‚å½“è¯¥è¿›ç¨‹æ‰§è¡Œå®Œæ¯•åï¼Œé”å®šæ–‡ä»¶å°†ä¼šåˆ é™¤ã€‚ å½“ä½ æ²¡æœ‰çœ‹åˆ° apt-getæˆ–è€… apt è¿›ç¨‹çš„æƒ…å†µä¸‹åœ¨ä¸Šé¢ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶å¤¹ä¸­çœ‹åˆ°äº†é”å®šæ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºè¿›ç¨‹ç”±äºæŸä¸ªåŸå› è¢«æ€æ‰äº†ï¼Œå› æ­¤ä½ éœ€è¦åˆ é™¤é”å®šæ–‡ä»¶æ¥é¿å…è¯¥é”™è¯¯ã€‚ 123456789101112#é¦–å…ˆè¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥ç§»é™¤ /var/lib/dpkg/ æ–‡ä»¶å¤¹ä¸‹çš„é”å®šæ–‡ä»¶ï¼š$ sudo rm /var/lib/dpkg/lock#ä¹‹ååƒä¸‹é¢è¿™æ ·å¼ºåˆ¶é‡æ–°é…ç½®è½¯ä»¶åŒ…ï¼š$ sudo dpkg --configure -a#ä¹Ÿå¯ä»¥åˆ é™¤ /var/lib/apt/lists/ ä»¥åŠç¼“å­˜æ–‡ä»¶å¤¹ä¸‹çš„é”å®šæ–‡ä»¶ï¼š$ sudo rm /var/lib/apt/lists/lock$ sudo rm /var/cache/apt/archives/lock#æ¥ä¸‹æ¥ï¼Œæ›´æ–°ä½ çš„è½¯ä»¶åŒ…æºåˆ—è¡¨ï¼š$ sudo apt update æˆ–è€… $ sudo apt-get update","categories":[],"tags":[{"name":"linux","slug":"linux","permalink":"https://nymrli.top/tags/linux/"}]},{"title":"pythonä¸­å…³äºroundå‡½æ•°çš„æ³¨æ„äº‹é¡¹","slug":"pythonä¸­å…³äºroundå‡½æ•°çš„æ³¨æ„äº‹é¡¹","date":"2018-10-18T03:37:00.000Z","updated":"2019-09-15T08:07:30.980Z","comments":true,"path":"2018/10/18/pythonä¸­å…³äºroundå‡½æ•°çš„æ³¨æ„äº‹é¡¹/","link":"","permalink":"https://nymrli.top/2018/10/18/pythonä¸­å…³äºroundå‡½æ•°çš„æ³¨æ„äº‹é¡¹/","excerpt":"","text":"pythonä¸­å…³äºroundå‡½æ•°çš„æ³¨æ„äº‹é¡¹ roundå‡½æ•°å¾ˆç®€å•ï¼Œå¯¹æµ®ç‚¹æ•°è¿›è¡Œè¿‘ä¼¼å–å€¼ï¼Œä¿ç•™å‡ ä½å°æ•°ã€‚ æ¯”å¦‚: 12345&gt;&gt;&gt; round(10.0/3, 2)3.33&gt;&gt;&gt; round(20/7)3#ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¿ç•™çš„å°æ•°ä½æ•°ï¼Œå¯é€‰ï¼Œå¦‚æœä¸å†™çš„è¯é»˜è®¤ä¿ç•™åˆ°æ•´æ•°ã€‚ 12345678910#[round]å‡½æ•°æ–‡æ¡£-py3def round(number, ndigits=None): # real signature unknown; restored from __doc__ \"\"\" round(number[, ndigits]) -&gt; number Round a number to a given precision in decimal digits (default 0 digits). This returns an int when called with one argument, otherwise the same type as the number. ndigits may be negative. \"\"\" return 0 ç¿»è¯‘ä¸€ä¸‹ä»€ä¹ˆæ„æ€å‘¢?: å°†æ•°å­—å››èˆäº”å…¥åˆ°ç»™å®šç²¾åº¦,å¦‚æœä¸ç»™ç¬¬äºŒä¸ªç²¾åº¦å‚æ•°çš„è¯å°±é»˜è®¤ä¿ç•™åˆ°0ä½(å³æ•´æ•°) è¿™ä¹ˆç®€å•çš„å‡½æ•°ï¼Œèƒ½æœ‰ä»€ä¹ˆå‘å‘¢ï¼Ÿ 1ã€roundçš„ç»“æœè·Ÿpythonç‰ˆæœ¬æœ‰å…³ 1234567#-------python2---------&gt;&gt;&gt; round(0.5)1.0#======python3==========&gt;&gt;&gt; round(0.5)0 åŸå› åœ¨äº: åœ¨python2.7çš„docä¸­ï¼Œround()çš„æœ€åå†™ç€ï¼Œâ€œValues are rounded to the closest multiple of 10 to the power minus ndigits; if two multiples are equally close, rounding is done away from 0.â€ ä¿ç•™å€¼å°†ä¿ç•™åˆ°ç¦»ä¸Šä¸€ä½æ›´è¿‘çš„ä¸€ç«¯ï¼ˆå››èˆå…­å…¥ï¼‰ï¼Œå¦‚æœè·ç¦»ä¸¤ç«¯ä¸€æ ·è¿œï¼Œåˆ™ä¿ç•™åˆ°ç¦»0è¿œçš„ä¸€è¾¹ã€‚æ‰€ä»¥round(0.5)ä¼šè¿‘ä¼¼åˆ°1ï¼Œè€Œround(-0.5)ä¼šè¿‘ä¼¼åˆ°-1ã€‚ ä½†æ˜¯åˆ°äº†python3.5çš„docä¸­ï¼Œæ–‡æ¡£å˜æˆäº†â€œvalues are rounded to the closest multiple of 10 to the power minus ndigits; if two multiples are equally close, rounding is done toward the even choice.â€ å¦‚æœè·ç¦»ä¸¤è¾¹ä¸€æ ·è¿œï¼Œä¼šä¿ç•™åˆ°å¶æ•°çš„ä¸€è¾¹ã€‚æ¯”å¦‚round(0.5)å’Œround(-0.5)éƒ½ä¼šä¿ç•™åˆ°0ï¼Œè€Œround(1.5)ä¼šä¿ç•™åˆ°2ã€‚ ç„¶è€Œéœ€è¦æ³¨æ„çš„æ˜¯ 2ã€ç‰¹æ®Šæ•°å­—roundå‡ºæ¥çš„ç»“æœå¯èƒ½æœªå¿…æ˜¯æƒ³è¦çš„ã€‚ 12&gt;&gt;&gt; round(2.675, 2)2.67 å®˜æ–¹ä¸¾ä¾‹:python2å’Œpython3çš„doc 123NoteThe behavior of round() for floats can be surprising: for example, round(2.675, 2) gives 2.67 instead of the expected 2.68. This is not a bug: itâ€™s a result of the fact that most decimal fractions canâ€™t be represented exactly as a float. See Floating Point Arithmetic: Issues and Limitations for more information. ç®€å•çš„è¯´å°±æ˜¯ï¼Œround(2.675, 2) çš„ç»“æœï¼Œä¸è®ºæˆ‘ä»¬ä»python2è¿˜æ˜¯3æ¥çœ‹ï¼Œç»“æœéƒ½åº”è¯¥æ˜¯2.68çš„ï¼Œç»“æœå®ƒååæ˜¯2.67ï¼Œä¸ºä»€ä¹ˆï¼Ÿè¿™è·Ÿæµ®ç‚¹æ•°çš„ç²¾åº¦æœ‰å…³ã€‚æˆ‘ä»¬çŸ¥é“åœ¨æœºå™¨ä¸­æµ®ç‚¹æ•°ä¸ä¸€å®šèƒ½ç²¾ç¡®è¡¨è¾¾ï¼Œå› ä¸ºæ¢ç®—æˆä¸€ä¸²1å’Œ0åå¯èƒ½æ˜¯æ— é™ä½æ•°çš„ï¼Œæœºå™¨å·²ç»åšå‡ºäº†æˆªæ–­å¤„ç†)ã€‚é‚£ä¹ˆåœ¨æœºå™¨ä¸­ä¿å­˜çš„2.675è¿™ä¸ªæ•°å­—å°±æ¯”å®é™…æ•°å­—è¦å°é‚£ä¹ˆä¸€ç‚¹ç‚¹ã€‚è¿™ä¸€ç‚¹ç‚¹å°±å¯¼è‡´äº†å®ƒç¦»2.67è¦æ›´è¿‘ä¸€ç‚¹ç‚¹ï¼Œæ‰€ä»¥ä¿ç•™ä¸¤ä½å°æ•°æ—¶å°±è¿‘ä¼¼åˆ°äº†2.67ã€‚ ä¾‹å­2: 12&gt;&gt;&gt; round(123.45, 1)123.5 æ„æ€å°±æ˜¯è¯´è®¡ç®—æœºéœ€è¦å…ˆå°†åè¿›åˆ¶123.45è½¬æ¢ä¸ºäºŒè¿›åˆ¶,è¿™ä¸ªè¿‡ç¨‹ä¼šå¯¼è‡´äºŒè¿›åˆ¶çš„å€¼æ¯”123.45ç•¥å¤§(æ¯”å¦‚123.45000001ä¹‹ç±»çš„),é‚£ä¹ˆè‡ªç„¶å°±å¾—åˆ°123.5è¿™ä¸ªå€¼äº†. ä»¥ä¸Šã€‚é™¤éå¯¹ç²¾ç¡®åº¦æ²¡ä»€ä¹ˆè¦æ±‚ï¼Œå¦åˆ™å°½é‡é¿å¼€ç”¨round()å‡½æ•°ã€‚è¿‘ä¼¼è®¡ç®—æˆ‘ä»¬è¿˜æœ‰å…¶ä»–çš„é€‰æ‹©ï¼š ä½¿ç”¨mathæ¨¡å—ä¸­çš„ä¸€äº›å‡½æ•°ï¼Œæ¯”å¦‚math.ceilingï¼ˆå¤©èŠ±æ¿é™¤æ³•ï¼‰ã€‚ pythonè‡ªå¸¦æ•´é™¤ï¼Œpython2ä¸­æ˜¯/ï¼Œ3ä¸­æ˜¯//ï¼Œè¿˜æœ‰divå‡½æ•°ã€‚ å­—ç¬¦ä¸²æ ¼å¼åŒ–å¯ä»¥åšæˆªæ–­ä½¿ç”¨ï¼Œä¾‹å¦‚ â€œ%.2fâ€ % valueï¼ˆä¿ç•™ä¸¤ä½å°æ•°å¹¶å˜æˆå­—ç¬¦ä¸²â€¦â€¦å¦‚æœè¿˜æƒ³ç”¨æµ®ç‚¹æ•°è¯·æŠ«ä¸Šfloat()çš„å¤–è¡£ï¼‰ã€‚ å½“ç„¶ï¼Œå¯¹æµ®ç‚¹æ•°ç²¾åº¦è¦æ±‚å¦‚æœå¾ˆé«˜çš„è¯ï¼Œè¯·ç”¨å˜šç‘Ÿé¦ï¼Œä¸å¯¹ä¸å¯¹ï¼Œè¯·ç”¨decimalæ¨¡å—ã€‚","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"HDOJ Problem 1002 - A + B Problem II","slug":"HDOJ-Problem-1002-A-B-Problem-II","date":"2018-10-18T03:36:23.000Z","updated":"2019-09-15T08:07:30.941Z","comments":true,"path":"2018/10/18/HDOJ-Problem-1002-A-B-Problem-II/","link":"","permalink":"https://nymrli.top/2018/10/18/HDOJ-Problem-1002-A-B-Problem-II/","excerpt":"","text":"HDOJ Problem 1002 - A + B Problem II: å¤§æ•°å®šç† Problem Description I have a very simple problem for you. Given two integers A and B, your job is to calculate the Sum of A + B. Input The first line of the input contains an integer T(1&lt;=T&lt;=20) which means the number of test cases. Then T lines follow, each line consists of two positive integers, A and B. Notice that the integers are very large, that means you should not process them by using 32-bit integer. You may assume the length of each integer will not exceed 1000. Output For each test case, you should output two lines. The first line is â€œCase #:â€, # means the number of the test case. The second line is the an equation â€œA + B = Sumâ€, Sum means the result of A + B. Note there are some spaces int the equation. Output a blank line between two test cases. Sample Input 12321 2112233445566778899 998877665544332211 Sample Output 12345Case 1:1 + 2 = 3Case 2:112233445566778899 + 998877665544332211 = 1111111111111111110 è§£æ³•ä¸€: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172#include &lt;iostream&gt;#include &lt;string.h&gt;using namespace std;char a[1000],b[1000];int aar[1001],bar[1001];int main()&#123; int alen,blen,maxlen; int time; cin &gt;&gt; time; for (int i=1;i&lt;=time;i++) &#123; cin &gt;&gt; a &gt;&gt; b; alen = strlen(a); blen = strlen(b); int tmp = 0; for (int j=alen-1;j&gt;=0;j--) aar[tmp++] = a[j]-'0'; tmp = 0; for (int j=blen-1;j&gt;=0;j--) bar[tmp++] = b[j]-'0'; //123 ==&gt; 321 ä¸ºäº†ä¿è¯ä¹‹åä¾¿äºè®¡ç®— if ( alen &gt; blen)&#123; maxlen = alen; for(int j=blen;j&lt;alen;j++)&#123; //é•¿åº¦ä¸åŒæ—¶,çŸ­çš„é‚£ä¸ªéœ€è¦è¡¥é›¶ bar[j] = 0; &#125; aar[alen] = 0; &#125; else if ( alen &lt; blen)&#123; maxlen = blen; for(int j=alen;j&lt;blen;j++) &#123; aar[j] = 0; &#125; bar[blen] = 0; &#125; else&#123; maxlen = alen; aar[maxlen]=0; bar[maxlen]=0; &#125; for (int j=0;j&lt;maxlen;j++)&#123; cout &lt;&lt; aar[j] &lt;&lt; '\\t'; cout &lt;&lt; bar[j] &lt;&lt;endl; aar[j] += bar[j]; if(aar[j] &gt;= 10)&#123;//å¦‚æœå½“å‰ä½å¤§äº10åˆ™è¿›ä¸€ä½ aar[j] -=10; aar[j+1] += 1; &#125; &#125;//å°†a+bçš„å’Œä¿å­˜åœ¨aaræ•°ç»„é‡Œ cout &lt;&lt; \"Case:\" &lt;&lt; i&lt;&lt; endl; cout &lt;&lt; a &lt;&lt; \" + \" &lt;&lt; b &lt;&lt; \" = \" ; if (aar[maxlen] == 0 ) //åˆ¤æ–­ç¬¬ä¸€ä½æ˜¯å¦ä¸º0,å¦‚æœæ˜¯çš„è¯å°±ä»ç¬¬äºŒä½å¼€å§‹è¯»,è¿™ä¸ªæ˜¯é€†åº for (int j=maxlen-1;j&gt;=0;j--) cout &lt;&lt; aar[j]; else for (int j=maxlen;j&gt;=0;j--) cout &lt;&lt; aar[j]; if(i != time) //æ³¨æ„è¦æ±‚çš„è¾“å‡ºæ ¼å¼ cout &lt;&lt; endl&lt;&lt; endl; else cout &lt;&lt; endl; &#125; return 0;&#125; è§£æ³•äºŒ: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include&lt;iostream&gt;#include&lt;string&gt;#include&lt;cstdio&gt;using namespace std;int i,j,y,n,k,h,p,lena,lenb;int a[1000],b[1000],sum[1000],f[1000];int main()&#123; string a1,b1; cin&gt;&gt;n; for(y=1;y&lt;=n;y++) &#123; cin&gt;&gt;a1&gt;&gt;b1; lena=a1.length(); lenb=b1.length(); for(i=0;i&lt;1000;i++)&#123; a[i]=0;b[i]=0;f[i]=0;//fæ•°ç»„æ˜¯è®°å½•a+bå’Œ //è¿™ä¸ªè¡¥é›¶æ˜¯å…ˆå…¨éƒ½è®¾ä¸º0,å†æŠŠä¸ä¸º0çš„å¡«å…¥ &#125; for(i=lena-1;i&gt;=0;i--) /*1234 ==&gt; 4321*/ a[lena-1-i]=a1[i]-'0'; //å­—ç¬¦'9' - '0' æ‰æ˜¯æ•°å­—9 for(i=lenb-1;i&gt;=0;i--) b[lenb-1-i]=b1[i]-'0'; k=0; for(i=0;i&lt;lenb || i&lt;lena;i++)&#123; //i--&gt; max( lena , lenb ) h=a[i]+b[i]+k; //kæ˜¯ä¸‹ä¸€ä½æ˜¯å¦è¿›ä¸€ f[i]=h%10; //f[i]å¿…ç„¶æ˜¯0-9 k=h/10; //å¦‚æœhå¤§äº10,åˆ™k=1,å¦‚æœhå°äº10,åˆ™k=0 &#125; if(k!=0) //å¦‚æœk=1,åˆ™æœ€é«˜ä½åŠ ä¸€ f[i++]=k; cout&lt;&lt;\"Case \"&lt;&lt;y&lt;&lt;\":\"&lt;&lt;endl&lt;&lt; a1 &lt;&lt;\" + \"&lt;&lt; b1 &lt;&lt;\" = \"; p=0; for(j=i-1;j&gt;=0;j--)&#123; //å°†ä¹‹å‰ä¸ºäº†è®¡ç®—æ—¶çš„å€’åº,å†åæ­£è¿‡æ¥ if(p==0 &amp;&amp; f[j]==0)&#123; //ç›®çš„æ˜¯å»å‰å¯¼0,å®åˆ™è¿™æ­¥å¤šä½™äº† continue; //å¦‚æœæœ€é«˜ä½æ˜¯0çš„è¯iå°±ä¸ä¼š++,å¦‚æœæ˜¯1çš„è¯,é‚£ä¹ˆf[j]å°±ä¸ä¼šæ˜¯0,æ‰€ä»¥è¿™æ­¥å¿…ç„¶æ˜¯è¿›å…¥else &#125; else&#123; p=1; cout&lt;&lt;f[j]; &#125; &#125; cout&lt;&lt;endl; &#125; return 0;&#125; â–²æ€»ç»“: 1.ä¸ºä»€ä¹ˆç”¨å­—ç¬¦æ•°ç»„==&gt;å› ä¸ºæ•°å­—å¤ªå¤§,long longä¹Ÿå­˜å‚¨ä¸ä¸‹ 2.ç”¨intæ•°ç»„è®°å½•æ¯ä¸€ä½çš„æ•°å­—,ç„¶åæ¨¡æ‹Ÿæ‰‹ç®— 3.ä¸ºä»€ä¹ˆå€’ç½®==&gt;å› ä¸ºä¸ºäº†è®©æœ«å°¾å¯¹é½,æ–¹ä¾¿è®¡ç®—&quot;ä¸ªä½å¯¹ä¸ªä½,åä½å¯¹åä½â€¦â€¦&quot;","categories":[],"tags":[{"name":"ACMç«èµ›å…¥é—¨","slug":"ACMç«èµ›å…¥é—¨","permalink":"https://nymrli.top/tags/ACMç«èµ›å…¥é—¨/"}]},{"title":"LeetCode 26. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹","slug":"LeetCode-26-åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹","date":"2018-10-18T03:35:36.000Z","updated":"2019-09-15T08:07:30.954Z","comments":true,"path":"2018/10/18/LeetCode-26-åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹/","link":"","permalink":"https://nymrli.top/2018/10/18/LeetCode-26-åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹/","excerpt":"","text":"LeetCode 26. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚ ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚ ç¤ºä¾‹ 1: 12345ç»™å®šæ•°ç»„ nums = [1,1,2], å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2: 12345ç»™å®š nums = [0,0,1,1,1,2,2,3,3,4],å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ è¯´æ˜: ä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢? è¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥**â€œå¼•ç”¨â€**æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚ ä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹: 12345678// nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚åšä»»ä½•æ‹·è´int len = removeDuplicates(nums);// åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚// æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­è¯¥é•¿åº¦èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ ã€‚for (int i = 0; i &lt; len; i++) &#123; print(nums[i]);&#125; æ–¹æ³•ï¼šåŒæŒ‡é’ˆæ³• ç®—æ³• æ•°ç»„å®Œæˆæ’åºåï¼Œæˆ‘ä»¬å¯ä»¥æ”¾ç½®ä¸¤ä¸ªæŒ‡é’ˆ iå’Œ jï¼Œå…¶ä¸­ i æ˜¯æ…¢æŒ‡é’ˆï¼Œè€Œ j æ˜¯å¿«æŒ‡é’ˆã€‚åªè¦ nums[i] = nums[j]ï¼Œæˆ‘ä»¬å°±å¢åŠ  j ä»¥è·³è¿‡é‡å¤é¡¹ã€‚ å½“æˆ‘ä»¬é‡åˆ° nums[j] != nums[i] æ—¶ï¼Œè·³è¿‡é‡å¤é¡¹çš„è¿è¡Œå·²ç»ç»“æŸï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»æŠŠå®ƒï¼ˆnums[j]ï¼‰çš„å€¼å¤åˆ¶åˆ° nums[i + 1]ã€‚ç„¶åé€’å¢ iï¼Œæ¥ç€æˆ‘ä»¬å°†å†æ¬¡é‡å¤ç›¸åŒçš„è¿‡ç¨‹ï¼Œç›´åˆ° j åˆ°è¾¾æ•°ç»„çš„æœ«å°¾ä¸ºæ­¢ã€‚ 1234567891011public int removeDuplicates(int[] nums) &#123; if (nums.length == 0) return 0; int i = 0; for (int j = 1; j &lt; nums.length; j++) &#123; if (nums[j] != nums[i]) &#123; i++; nums[i] = nums[j]; &#125; &#125; return i + 1;&#125; å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œ å‡è®¾æ•°ç»„çš„é•¿åº¦æ˜¯ nï¼Œé‚£ä¹ˆ i å’Œ j åˆ†åˆ«æœ€å¤šéå† n æ­¥ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚ Pythonå®ç°: 1234567891011121314class Solution: def removeDuplicates(self, nums): \"\"\" :type nums: List[int] :rtype: int \"\"\" if len(nums) &lt;= 1: return len(nums) s = 0 for f in range(1, len(nums)): if nums[s] != nums[f]: s += 1 nums[s] = nums[f] return s + 1","categories":[],"tags":[{"name":"ACMç«èµ›å…¥é—¨","slug":"ACMç«èµ›å…¥é—¨","permalink":"https://nymrli.top/tags/ACMç«èµ›å…¥é—¨/"}]},{"title":"ç´ æ•°åˆ¤åˆ«","slug":"ç´ æ•°åˆ¤åˆ«","date":"2018-10-15T14:30:55.000Z","updated":"2019-12-04T13:13:27.198Z","comments":true,"path":"2018/10/15/ç´ æ•°åˆ¤åˆ«/","link":"","permalink":"https://nymrli.top/2018/10/15/ç´ æ•°åˆ¤åˆ«/","excerpt":"","text":"ç´ æ•°åˆ¤åˆ« ç”±äº1æ—¢ä¸æ˜¯ç´ æ•°ä¹Ÿä¸æ˜¯åˆæ•°ï¼Œæ‰€ä»¥ä¸‹é¢æš‚æœªåˆ¤æ–­ã€‚å¦‚æœéœ€è¦åˆ™éœ€ç‰¹åˆ¤å¦‚if (num == 1) return false; æ–¹æ³•ä¸€ 123456789bool isPrime_2( int num )&#123; int tmp =sqrt( num); for(int i= 2;i &lt;=tmp; i++) if(num %i== 0) return 0 ; return 1 ;&#125;//ä¸€ä¸ªæ•°è‹¥å¯ä»¥è¿›è¡Œå› æ•°åˆ†è§£ï¼Œé‚£ä¹ˆåˆ†è§£æ—¶å¾—åˆ°çš„ä¸¤ä¸ªæ•°ä¸€å®šæ˜¯ä¸€ä¸ªå°äºç­‰äºsqrt(n)ï¼Œä¸€ä¸ªå¤§äºç­‰äºsqrt(n)ã€‚è‹¥sqrt(n)å·¦ä¾§æ‰¾ä¸åˆ°çº¦æ•°ï¼Œé‚£ä¹ˆå³ä¾§ä¹Ÿä¸€å®šæ‰¾ä¸åˆ°çº¦æ•° æ–¹æ³•äºŒ(ç­›é€‰æ³•) 123456789101112131415161718192021222324252627282930#include\"cstdio\"#include\"cstring\"using namespace std;#define MAX 100000//æ±‚MAXèŒƒå›´å†…çš„ç´ æ•°long long su[MAX],cnt;bool isprime[MAX];void prime()&#123; cnt=1; memset(isprime,1,sizeof(isprime));//åˆå§‹åŒ–è®¤ä¸ºæ‰€æœ‰æ•°éƒ½ä¸ºç´ æ•° isprime[0]=isprime[1]=0;//0å’Œ1ä¸æ˜¯ç´ æ•° for(long long i=2;i&lt;=MAX;i++) &#123; if(isprime[i])//ä¿å­˜ç´ æ•° &#123; su[cnt++]=i; &#125; for(long long j=i*2;j&lt;=MAX;j+=i)//ç´ æ•°çš„å€æ•°éƒ½ä¸ºåˆæ•° &#123; isprime[j]=0; &#125; &#125;&#125;int main()&#123; prime(); for(long long i=1;i&lt;cnt;i++) printf(\"%d \",su[i]); return 0;&#125; æ–¹æ³•ä¸‰(å‰ªæ) è¯æ˜ï¼šä»¤xâ‰¥1ï¼Œå°†å¤§äºç­‰äº5çš„è‡ªç„¶æ•°è¡¨ç¤ºå¦‚ä¸‹ï¼š Â·Â·Â·Â·Â·Â· 6x-1ï¼Œ6xï¼Œ6x+1ï¼Œ6x+2ï¼Œ6x+3ï¼Œ6x+4 | 6x+5ï¼Œ6(x+1ï¼‰ï¼Œ6(x+1)+1 Â·Â·Â·Â·Â·Â· å¯ä»¥çœ‹åˆ°ï¼Œä¸åœ¨6çš„å€æ•°ä¸¤ä¾§ï¼Œå³6xä¸¤ä¾§çš„æ•°ä¸º6x+2ï¼Œ6x+3ï¼Œ6x+4ï¼Œç”±äº2(3x+1)ï¼Œ3(2x+1)ï¼Œ2(3x+2)ï¼Œæ‰€ä»¥å®ƒä»¬ä¸€å®šä¸æ˜¯ç´ æ•°ï¼Œå†é™¤å»6xæœ¬èº«ï¼Œæ˜¾ç„¶ï¼Œç´ æ•°è¦å‡ºç°åªå¯èƒ½å‡ºç°åœ¨6xçš„ç›¸é‚»ä¸¤ä¾§ã€‚è¿™é‡Œæœ‰ä¸ªé¢˜å¤–è¯ï¼Œå…³äºå­ªç”Ÿç´ æ•°ï¼Œæœ‰å…´è¶£çš„é“å‹å¯ä»¥å†å¦è¡Œäº†è§£ä¸€ä¸‹ï¼Œç”±äºä¸æˆ‘ä»¬ä¸»é¢˜æ— å…³ï¼Œæš‚ä¸”è·³è¿‡ã€‚è¿™é‡Œè¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨6çš„å€æ•°ç›¸é‚»ä¸¤ä¾§å¹¶ä¸æ˜¯ä¸€å®šå°±æ˜¯è´¨æ•°ã€‚===&gt;åªéœ€åˆ¤æ–­6ä¸¤ä¾§çš„æ˜¯ä¸æ˜¯è´¨æ•°(6x-1ã€6x+1) æ­¤æ—¶åˆ¤æ–­è´¨æ•°å¯ä»¥6ä¸ªä¸ºå•å…ƒå¿«è¿›ï¼Œå³å°†æ–¹æ³•ï¼ˆ2ï¼‰å¾ªç¯ä¸­i++æ­¥é•¿åŠ å¤§ä¸º6ï¼ŒåŠ å¿«åˆ¤æ–­é€Ÿåº¦ï¼ŒåŸå› æ˜¯ï¼Œå‡å¦‚è¦åˆ¤å®šçš„æ•°ä¸ºnï¼Œåˆ™nå¿…å®šæ˜¯6x-1æˆ–6x+1çš„å½¢å¼ï¼Œå¯¹äºå¾ªç¯ä¸­6i-1ï¼Œ6iï¼Œ6i+1,6i+2ï¼Œ6i+3ï¼Œ6i+4ï¼Œå…¶ä¸­å¦‚æœnèƒ½è¢«6iï¼Œ6i+2ï¼Œ6i+4æ•´é™¤ï¼Œåˆ™nè‡³å°‘å¾—æ˜¯ä¸€ä¸ªå¶æ•°ï¼Œä½†æ˜¯6x-1æˆ–6x+1çš„å½¢å¼æ˜æ˜¾æ˜¯ä¸€ä¸ªå¥‡æ•°ï¼Œæ•…ä¸æˆç«‹ï¼›å¦å¤–ï¼Œå¦‚æœnèƒ½è¢«6i+3æ•´é™¤ï¼Œåˆ™nè‡³å°‘èƒ½è¢«3æ•´é™¤ï¼Œä½†æ˜¯6xèƒ½è¢«3æ•´é™¤ï¼Œæ•…6x-1æˆ–6x+1ï¼ˆå³nï¼‰ä¸å¯èƒ½è¢«3æ•´é™¤ï¼Œæ•…ä¸æˆç«‹ã€‚===&gt;ç»¼ä¸Šï¼Œå¾ªç¯ä¸­åªéœ€è¦è€ƒè™‘6i-1å’Œ6i+1çš„æƒ…å†µ(è¢«æœ¬èº«æ›´å°çš„å› æ•°æ‰€é™¤å¦‚22/11)ï¼Œå³å¾ªç¯çš„æ­¥é•¿å¯ä»¥å®šä¸º6ï¼Œæ¯æ¬¡åˆ¤æ–­å¾ªç¯å˜é‡kå’Œk+2çš„æƒ…å†µå³å¯ï¼Œç†è®ºä¸Šè®²æ•´ä½“é€Ÿåº¦åº”è¯¥ä¼šæ˜¯æ–¹æ³•ï¼ˆ2ï¼‰çš„3å€ã€‚ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516bool isPrime_3( int num )&#123; //ä¸¤ä¸ªè¾ƒå°æ•°å¦å¤–å¤„ç† if(num ==2|| num==3 ) return 1 ; //ä¸åœ¨6çš„å€æ•°ä¸¤ä¾§çš„ä¸€å®šä¸æ˜¯è´¨æ•° if(num %6!= 1&amp;&amp;num %6!= 5) return 0 ; int tmp =sqrt( num); //åœ¨6çš„å€æ•°ä¸¤ä¾§çš„ä¹Ÿå¯èƒ½ä¸æ˜¯è´¨æ•° for(int i= 5;i &lt;=tmp; i+=6 ) if(num %i== 0||num %(i+ 2)==0 ) return 0 ; //æ’é™¤æ‰€æœ‰ï¼Œå‰©ä½™çš„æ˜¯è´¨æ•° return 1 ;&#125; forå¾ªç¯iä»5å¼€å§‹è€Œä¸æ˜¯ä»7å¼€å§‹çš„åŸå› : ä»5ã€7å¼€å§‹çš„åŒºåˆ«åœ¨äºi &lt;= sqrt(num)â€¦å¦‚æœæ˜¯5çš„è¯ï¼Œåˆ¤æ–­æ¡ä»¶ä¸º25ï¼›å¦‚æœæ˜¯7çš„è¯ï¼Œåˆ¤æ–­çš„æ¡ä»¶å°±ä¸º49ã€‚ è€Œä»”ç»†è§‚å¯Ÿ49å†…çš„æ‰€æœ‰è´¨æ•°ï¼Œå‘ç°25ä¹‹å‰çš„è´¨æ•°éƒ½æ˜¯6kå·¦å³çš„æ•°(6k-1,6k+1)ï¼Œè€Œ25ä»¥åï¼Œå°±ä¸å®šéƒ½æœ‰äº†ã€‚å¦‚26åˆ™ä¸ä¸ºè´¨æ•°ã€‚ æ‰€ä»¥å¦‚æœä»5å¼€å§‹çš„è¯ï¼Œé‚£ä¹ˆ25ä»¥å†…çš„æ•° éƒ½ä¸ä¼šè¿›å…¥forå¾ªç¯ï¼Œç»è¿‡if(num %6!= 1&amp;&amp;num %6!= 5)çš„ç­›é€‰åï¼Œå°±éƒ½æ˜¯ç´ æ•°äº†ã€‚ è€Œå¦‚æœæ˜¯ä»7å¼€å§‹ï¼Œé‚£ä¹ˆ25-49ä¹‹å†…çš„æ•°ä¸ç¬¦åˆæ¡ä»¶å´ä¸ä¼šè¿›å…¥forå¾ªç¯ï¼Œæ‰€ä»¥26ç¼ºå°‘è¿™ä¸ªforçš„å¾ªç¯åˆ¤æ–­åå°±è¢«è¯¯åˆ¤ä¸ºç´ æ•°äº†ã€‚ ==&gt;ä»¥æˆ‘æµ…è–„çš„æ•°å­¦è§è¯†ç†è§£ï¼Œ25ä»¥å†…ç´ æ•°è§„å¾‹çš„å·§åˆæ€§ä½¿å¾— è¿™äº›æ•°ä¸éœ€è¦è¿›å…¥forå¾ªç¯åˆ¤æ–­ï¼Œæ‰€ä»¥ç›¸æ¯”äºä»7å¼€å§‹çš„é”™è¯¯ï¼Œ5å¼€å§‹æ˜¯æ­£ç¡®çš„ ç»™å‡ºPyä»£ç  12345678910import mathdef prime_num(num): if num == 2 or num == 3: return 1 if num%6 != 1 and num%6!=5: return 0 for i in range(5,math.ceil(math.sqrt(num))+1,6): #å°±å‰©6k-1 å’Œ 6k+1 if num%i == 0 or num%(i-2)==0: return 0 return 1 å‚è€ƒ:https://blog.csdn.net/huang_miao_xin/article/details/51331710","categories":[],"tags":[{"name":"ACMç«èµ›å…¥é—¨","slug":"ACMç«èµ›å…¥é—¨","permalink":"https://nymrli.top/tags/ACMç«èµ›å…¥é—¨/"}]},{"title":"\\r - \\n - \\r\\nçš„åŒºåˆ«","slug":"å›è½¦å’Œæ¢è¡ŒåŒºåˆ«","date":"2018-10-13T12:33:33.000Z","updated":"2019-09-15T08:07:31.041Z","comments":true,"path":"2018/10/13/å›è½¦å’Œæ¢è¡ŒåŒºåˆ«/","link":"","permalink":"https://nymrli.top/2018/10/13/å›è½¦å’Œæ¢è¡ŒåŒºåˆ«/","excerpt":"","text":"\\r - \\n - \\r\\n çš„åŒºåˆ« ä»£ç æ¼”ç¤º: 123456781: string s1 = \"å·²ç»ä¹ æƒ¯äº†å›è½¦å’Œæ¢è¡Œä¸€æ¬¡æå®š\\nï¼Œæ•²ä¸€ä¸ªå›è½¦é”®ï¼Œå³æ˜¯å›\";2: 3: Console.WriteLine(s1);4: s1 = \"å·²ç»ä¹ æƒ¯äº†å›è½¦å’Œæ¢è¡Œä¸€æ¬¡æå®š\\rï¼Œæ•²ä¸€ä¸ªå›è½¦é”®ï¼Œå³æ˜¯å›\";5: Console.WriteLine(s1);6: s1 = \"å·²ç»ä¹ æƒ¯äº†å›è½¦å’Œæ¢è¡Œä¸€æ¬¡æå®š\\r\\nï¼Œæ•²ä¸€ä¸ªå›è½¦é”®ï¼Œå³æ˜¯å›\";7: Console.WriteLine(s1);8: Console.ReadLine(); Result:==&gt; å›è½¦ã€æ¢è¡Œçš„åŒºåˆ«: \\r , \\n, \\r\\nçš„åŒºåˆ«å…¶å®æ˜¯å›è½¦ä¸æ¢è¡Œçš„åŒºåˆ« ç¬¦å· ASCIIç  æ„ä¹‰ \\n 10 æ¢è¡Œ \\r 13 å›è½¦CR å…ˆæ¥æ®µå†å² å›è½¦â€ï¼ˆCarriage Returnï¼‰å’Œâ€œæ¢è¡Œâ€ï¼ˆLine Feedï¼‰è¿™ä¸¤ä¸ªæ¦‚å¿µçš„æ¥å†å’ŒåŒºåˆ«ã€‚ åœ¨è®¡ç®—æœºè¿˜æ²¡æœ‰å‡ºç°ä¹‹å‰ï¼Œæœ‰ä¸€ç§å«åšç”µä¼ æ‰“å­—æœºï¼ˆTeletype Model 33ï¼ŒLinux/Unixä¸‹çš„ttyæ¦‚å¿µä¹Ÿæ¥è‡ªäºæ­¤ï¼‰çš„ç©æ„ï¼Œæ¯ç§’é’Ÿå¯ä»¥æ‰“10ä¸ªå­—ç¬¦ã€‚ä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ‰“å®Œä¸€è¡Œæ¢è¡Œçš„æ—¶å€™ï¼Œè¦ç”¨å»0.2ç§’ï¼Œæ­£å¥½å¯ä»¥æ‰“ä¸¤ä¸ªå­—ç¬¦ã€‚è¦æ˜¯åœ¨è¿™0.2ç§’é‡Œé¢ï¼Œåˆæœ‰æ–°çš„å­—ç¬¦ä¼ è¿‡æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦å°†ä¸¢å¤±ã€‚ äºæ˜¯ï¼Œç ”åˆ¶äººå‘˜æƒ³äº†ä¸ªåŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨æ¯è¡Œåé¢åŠ ä¸¤ä¸ªè¡¨ç¤ºç»“æŸçš„å­—ç¬¦ã€‚ä¸€ä¸ªå«åšâ€œå›è½¦â€ï¼Œå‘Šè¯‰æ‰“å­—æœºæŠŠæ‰“å°å¤´å®šä½åœ¨å·¦è¾¹ç•Œï¼›å¦ä¸€ä¸ªå«åšâ€œæ¢è¡Œâ€ï¼Œå‘Šè¯‰æ‰“å­—æœºæŠŠçº¸å‘ä¸‹ç§»ä¸€è¡Œã€‚è¿™å°±æ˜¯â€œæ¢è¡Œâ€å’Œâ€œå›è½¦â€çš„æ¥å†ï¼Œä»å®ƒä»¬çš„è‹±è¯­åå­—ä¸Šä¹Ÿå¯ä»¥çœ‹å‡ºä¸€äºŒã€‚ åæ¥ï¼Œè®¡ç®—æœºå‘æ˜äº†ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µä¹Ÿå°±è¢«èˆ¬åˆ°äº†è®¡ç®—æœºä¸Šã€‚é‚£æ—¶ï¼Œå­˜å‚¨å™¨å¾ˆè´µï¼Œä¸€äº›ç§‘å­¦å®¶è®¤ä¸ºåœ¨æ¯è¡Œç»“å°¾åŠ ä¸¤ä¸ªå­—ç¬¦å¤ªæµªè´¹äº†ï¼ŒåŠ ä¸€ä¸ªå°±å¯ä»¥ã€‚äºæ˜¯ï¼Œå°±å‡ºç°äº†åˆ†æ­§ã€‚ åœ¨Windowsä¸­ï¼š â€˜\\râ€™ å›è½¦ï¼Œå›åˆ°å½“å‰è¡Œçš„è¡Œé¦–ï¼Œè€Œä¸ä¼šæ¢åˆ°ä¸‹ä¸€è¡Œï¼Œå¦‚æœæ¥ç€è¾“å‡ºçš„è¯ï¼Œæœ¬è¡Œä»¥å‰çš„å†…å®¹ä¼šè¢«é€ä¸€è¦†ç›–ï¼› â€˜\\nâ€™ æ¢è¡Œï¼Œæ¢åˆ°å½“å‰ä½ç½®çš„ä¸‹ä¸€è¡Œï¼Œè€Œä¸ä¼šå›åˆ°è¡Œé¦–ï¼› Unixç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾åªæœ‰â€œ&lt;æ¢è¡Œ&gt;â€ï¼Œå³&quot;\\n&quot;ï¼›Windowsç³»ç»Ÿé‡Œé¢ï¼Œæ¯è¡Œç»“å°¾æ˜¯â€œ&lt;å›è½¦&gt;&lt;æ¢è¡Œ&gt;â€ï¼Œå³â€œ\\r\\nâ€ï¼›Macç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾æ˜¯â€œ&lt;å›è½¦&gt;â€ï¼Œå³&quot;\\r&quot;ï¼›ã€‚ä¸€ä¸ªç›´æ¥åæœæ˜¯ï¼ŒUnix/Macç³»ç»Ÿä¸‹çš„æ–‡ä»¶åœ¨Windowsé‡Œæ‰“å¼€çš„è¯ï¼Œæ‰€æœ‰æ–‡å­—ä¼šå˜æˆä¸€è¡Œï¼›è€ŒWindowsé‡Œçš„æ–‡ä»¶åœ¨Unix/Macä¸‹æ‰“å¼€çš„è¯ï¼Œåœ¨æ¯è¡Œçš„ç»“å°¾å¯èƒ½ä¼šå¤šå‡ºä¸€ä¸ª^Mç¬¦å·ã€‚ ä¾‹ $ echo -en '12\\n34\\r56\\n\\r78\\r\\n' &gt; tmp.txt ==&gt;Linuxä¸­é‡åˆ°æ¢è¡Œç¬¦(&quot;\\n&quot;)ä¼šè¿›è¡Œå›è½¦+æ¢è¡Œçš„æ“ä½œï¼Œå›è½¦ç¬¦åè€Œåªä¼šä½œä¸ºæ§åˆ¶å­—ç¬¦(&quot;^M&quot;)æ˜¾ç¤ºï¼Œä¸å‘ç”Ÿå›è½¦çš„æ“ä½œã€‚è€Œwindowsä¸­è¦å›è½¦ç¬¦+æ¢è¡Œç¬¦(&quot;\\r\\n&quot;)æ‰ä¼šå›è½¦+æ¢è¡Œï¼Œç¼ºå°‘ä¸€ä¸ªæ§åˆ¶ç¬¦æˆ–è€…é¡ºåºä¸å¯¹éƒ½ä¸èƒ½æ­£ç¡®çš„å¦èµ·ä¸€è¡Œã€‚ â–²æ³¨æ„ç‚¹ï¼š åœ¨è§£ææ–‡æœ¬æˆ–å…¶ä»–æ ¼å¼çš„æ–‡ä»¶å†…å®¹æ—¶ï¼Œå¸¸å¸¸è¦ç¢°åˆ°åˆ¤å®šå›è½¦æ¢è¡Œçš„åœ°æ–¹ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦æ³¨æ„æ—¢è¦åˆ¤å®š&quot;*r*\\n&quot;åˆè¦åˆ¤å®š&quot;\\n&quot;ã€‚ å†™ç¨‹åºæ—¶å¯èƒ½å¾—åˆ°ä¸€è¡Œ,å°†å…¶è¿›è¡Œtrimæ‰â€™*r*â€™,è¿™æ ·èƒ½å¾—åˆ°ä½ æ‰€éœ€è¦çš„stringäº†ã€‚ æ‹“å±•ç¨‹åºæµ‹è¯• 123456789101112131415161718192021222324252627282930/*==========================ç¨‹åºäºŒ===============================*/#include &lt;stdio.h&gt;int main(void)&#123; int i; FILE *fp; if((fp=fopen(\"test.txt\",\"w\")) == NULL) &#123; fprintf(stderr,\"open file error\\n\"); return 1; &#125; for(i=0;i&lt;100;i++) fprintf(fp,\"test\\n\"); fclose(fp); return 0;&#125;/*==========================ç¨‹åºäºŒ===============================*/#include &lt;stdio.h&gt;int main(void)&#123; int i; FILE *fp; if((fp=fopen(\"test.bin\",\"wb\")) == NULL) &#123; fprintf(stderr,\"open file error\\n\"); return 1; &#125; for(i=0;i&lt;100;i++) fprintf(fp,\"test\\n\"); fclose(fp); return 0;&#125; â€‹ ç¨‹åºä¸€è¾“å‡ºæ–‡ä»¶å¤§å°æ˜¯600å­—èŠ‚ï¼Œç¨‹åºäºŒè¾“å‡ºæ–‡ä»¶å¤§å°æ˜¯500å­—èŠ‚ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€ç¨‹åºä¸€çš„è¾“å‡ºæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ¯è¡Œä¸€ä¸ªtestï¼Œæ‰“å¼€ç¨‹åºäºŒçš„è¾“å‡ºå‘ç°æ‰€æœ‰çš„testè¿æˆä¸€è¡Œï¼Œtestä¹‹é—´æ˜¯ä¸€ä¸ªé»‘è‰²æ–¹æ¡†ç¬¦å·åˆ†éš”ã€‚ç”¨UltraEdit-32ä»¥16è¿›åˆ¶ç¼–è¾‘æ¨¡å¼æ‰“å¼€test.binå¯ä»¥æŸ¥çœ‹åˆ°é»‘è‰²æ–¹æ¡†ç¬¦å·å°±æ˜¯0Aä¹Ÿå°±æ˜¯\\nï¼Œæ‰“å¼€test.txtåˆ™ä¼šå‘ç°æ¢è¡Œæ˜¯\\r\\nï¼Œè¿™å°±æ˜¯ä¸¤ä¸ªæ–‡ä»¶å¤§å°ç›¸å·®100å­—èŠ‚çš„åŸå› ã€‚Unixç±»ç³»ç»Ÿç”¨æˆ·æ‰“å¼€windowsä¸­çš„æ–‡ä»¶å°±ä¼šé‡åˆ°è¿™ç§è‹¦æ¼ã€‚ ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§åŒºåˆ«å‘¢ï¼Ÿ â€‹ æ¯•ç«Ÿæ˜¯æºè‡ªUnixç³»ç»Ÿï¼ŒCè¯­è¨€ä¸­ä½¿ç”¨\\nè¡¨ç¤ºæ¢è¡Œï¼Œè€Œåœ¨å®é™…çš„æ–‡ä»¶ä¸­æ¢è¡Œç¬¦å·éœ€è¦åŒæ“ä½œç³»ç»Ÿä¸€è‡´ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åœ¨Cä¸­ä½¿ç”¨fopenæ‰“å¼€ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æ—¶æµå®ç°äº†å®é™…æ¢è¡Œç¬¦ä¸Cä¸­\\nä¹‹é—´çš„è½¬æ¢ã€‚åœ¨windowsä¸­å½“æˆ‘ä»¬ç”¨fopenæ‰“å¼€æ–‡æœ¬æ–‡ä»¶ï¼Œç„¶åä»ä¸­è¯»åˆ°\\r\\næ—¶æµä¼šè½¬æ¢ä¸º\\nï¼Œè€Œå½“æˆ‘ä»¬å¾€æ–‡ä»¶ä¸­å†™å…¥\\næ—¶æµä¼šè½¬æ¢ä¸º\\r\\nã€‚ç¨‹åºä¸€æ˜¯æ‰“å¼€æ–‡æœ¬æ–‡ä»¶ï¼Œç¨‹åºäºŒæ‰“å¼€çš„æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› ä¸ºæµåªå¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œæ¢è¡Œè¡¨ç¤ºçš„è½¬æ¢ï¼Œä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€æµä¸ä¼šåšä»»ä½•å¤„ç†ã€‚æ‰€ä»¥å½“ä½ ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æ—¶å°†äº§ç”Ÿé”™ä¹±ï¼Œä½ å¿…é¡»äº²è‡ªå°†\\r\\nè§£é‡Šä¸º\\n,åŒæ ·çš„é—®é¢˜ä¹Ÿä¼šå‡ºç°åœ¨ä»¥æ–‡æœ¬æ¨¡å¼æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶çš„æƒ…å†µ.è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆUnixç±»ç³»ç»Ÿä¸­çš„æ–‡ä»¶ä¸åŒºåˆ†æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„åŸå› ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨æ ‡å‡†è¾“å…¥è¾“å‡ºå‡½æ•°æ—¶æœ‰è¿™ç§æƒ…å†µå—ï¼Ÿ å†å›åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„æ ‡å‡†è¾“å…¥è¾“å‡ºstdin,stdout â€‹ Cçš„æ§åˆ¶å°ç¨‹åºåœ¨åŠ è½½è¿›å†…å­˜æˆä¸ºè¿›ç¨‹è¿è¡Œå‰Cè¿è¡Œæ—¶åº“è‡ªåŠ¨æ‰“å¼€ä¸‰ä¸ªè®¾å¤‡å¹¶å…³è”åˆ°ä¸‰ä¸ªæµï¼šæ ‡å‡†è¾“å…¥æµstdinï¼Œæ ‡å‡†è¾“å‡ºæµstdoutï¼Œæ ‡å‡†å‡ºé”™æµstderr â€‹ é€šå¸¸åœ¨é€šç”¨è®¡ç®—æœºä¸­ï¼Œæ²¡æœ‰é‡å®šå‘å‰è¿™ä¸‰ä¸ªæµå¯¹åº”çš„è®¾å¤‡æ˜¯ï¼šé”®ç›˜ï¼Œæ˜¾ç¤ºå™¨ï¼Œæ˜¾ç¤ºå™¨ã€‚è¿™ä¸‰ä¸ªéƒ½æ˜¯å­—ç¬¦è®¾å¤‡ï¼Œæ‰€ä»¥æ˜¯ä»¥æ–‡æœ¬æ–‡ä»¶çš„æ¨¡å¼æ‰“å¼€çš„ï¼Œåœ¨windowsä¸‹å½“æˆ‘ä»¬åœ¨é”®ç›˜ä¸Šæ•²å…¥å›è½¦é”®æ—¶äº§ç”Ÿå­—ç¬¦\\r\\nï¼Œä½†æ˜¯åœ¨OSå†…æ ¸æŠŠé”®ç›˜é©±åŠ¨ä¸­è¯»åˆ°çš„å­—ç¬¦å‘é€ç»™æµçš„ç¼“å†²åŒºæ—¶æµä¼šå°†ä¹‹è½¬æ¢ä¸º\\nï¼Œå½“æˆ‘ä»¬å‘æ§åˆ¶å°è¾“å‡º\\næ—¶æµå°†ä¹‹è½¬æ¢ä¸º\\r\\nå†ä¼ é€’è‡³å†…æ ¸ï¼Œå½“æˆ‘ä»¬ç»•è¿‡æ ‡å‡†è¾“å…¥è¾“å‡ºç›´æ¥è°ƒç”¨windowsä¸­coredll.libè¿›è¡Œæ§åˆ¶å°è¾“å…¥è¾“å‡ºæ—¶å°±å¿…é¡»é¢å¯¹è¿™ä¸€ç°å®ï¼Œç¨‹åºå‘˜è´Ÿè´£å®ç°è¿™ä¸€è½¬æ¢ã€‚ æ‘˜è‡ª:https://www.cnblogs.com/xiaotiannet/p/3510586.html","categories":[],"tags":[{"name":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","slug":"è®¡ç®—æœºåŸºç¡€çŸ¥è¯†","permalink":"https://nymrli.top/tags/è®¡ç®—æœºåŸºç¡€çŸ¥è¯†/"}]},{"title":"äº‘æœåŠ¡å™¨Ubuntuæ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬","slug":"äº‘æœåŠ¡å™¨Ubuntuæ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬","date":"2018-10-12T05:07:48.000Z","updated":"2019-09-15T08:07:31.023Z","comments":true,"path":"2018/10/12/äº‘æœåŠ¡å™¨Ubuntuæ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬/","link":"","permalink":"https://nymrli.top/2018/10/12/äº‘æœåŠ¡å™¨Ubuntuæ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬/","excerpt":"","text":"äº‘æœåŠ¡å™¨Ubuntuæ›´æ”¹é»˜è®¤pythonç‰ˆæœ¬ 1ã€åŸºäºç”¨æˆ·ä¿®æ”¹ Python ç‰ˆæœ¬ï¼š æƒ³è¦ä¸ºæŸä¸ªç‰¹å®šç”¨æˆ·ä¿®æ”¹ Python ç‰ˆæœ¬ï¼Œåªéœ€è¦åœ¨å…¶ home ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª alias(åˆ«å) å³å¯ã€‚æ‰“å¼€è¯¥ç”¨æˆ·çš„ ~/.bashrcæ–‡ä»¶ï¼Œæ·»åŠ æ–°çš„åˆ«åä¿¡æ¯æ¥ä¿®æ”¹é»˜è®¤ä½¿ç”¨çš„ Python ç‰ˆæœ¬ã€‚ vim ~/.bashrc å¢åŠ ä¸€è¡Œalias python=python3å’Œä¿®æ”¹pipç‰ˆæœ¬alias pip=pip3 source ~/.bashrc å†è¾“å…¥python --version,å°±èƒ½å‘ç°æ˜¾ç¤ºçš„æ˜¯Python 3.xå•¦ 2ã€ åœ¨ç³»ç»Ÿçº§ä¿®æ”¹ Python ç‰ˆæœ¬(å»ºè®®) 12# update-alternatives --list pythonupdate-alternatives: error: no alternatives for python å¦‚æœå‡ºç°ä»¥ä¸Šæ‰€ç¤ºçš„é”™è¯¯ä¿¡æ¯ï¼Œåˆ™è¡¨ç¤º Python çš„æ›¿ä»£ç‰ˆæœ¬å°šæœªè¢« update-alternatives å‘½ä»¤è¯†åˆ«ã€‚æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°ä¸€ä¸‹æ›¿ä»£åˆ—è¡¨ï¼Œå°† python2.7 å’Œ python3.4 æ”¾å…¥å…¶ä¸­ã€‚ 12345$ update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1# update-alternatives: using /usr/bin/python2.7 to provide /usr/bin/python (python) in auto mode$ update-alternatives --install /usr/bin/python python /usr/bin/python3.4 2# update-alternatives: using /usr/bin/python3.4 to provide /usr/bin/python (python) in auto mode â€“install é€‰é¡¹ä½¿ç”¨äº†å¤šä¸ªå‚æ•°ç”¨äºåˆ›å»ºç¬¦å·é“¾æ¥ã€‚æœ€åä¸€ä¸ªå‚æ•°æŒ‡å®šäº†æ­¤é€‰é¡¹çš„ä¼˜å…ˆçº§ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ‰‹åŠ¨æ¥è®¾ç½®æ›¿ä»£é€‰é¡¹ï¼Œé‚£ä¹ˆå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„é€‰é¡¹å°±ä¼šè¢«é€‰ä¸­ã€‚è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸º /usr/bin/python3.4 è®¾ç½®çš„ä¼˜å…ˆçº§ä¸º2ï¼Œæ‰€ä»¥update-alternatives å‘½ä»¤ä¼šè‡ªåŠ¨å°†å®ƒè®¾ç½®ä¸ºé»˜è®¤ Python ç‰ˆæœ¬ã€‚ 1234# æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¬¡åˆ—å‡ºå¯ç”¨çš„ Python æ›¿ä»£ç‰ˆæœ¬ã€‚# update-alternatives --list python/usr/bin/python2.7/usr/bin/python3.4","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"https://nymrli.top/tags/æœåŠ¡å™¨/"}]},{"title":"nginx+uwsiæ­å»ºdjangoç¯å¢ƒæœåŠ¡å™¨","slug":"nginx+uwsiæ­å»ºdjangoç¯å¢ƒæœåŠ¡å™¨","date":"2018-10-12T04:44:09.000Z","updated":"2021-11-25T15:30:50.707Z","comments":true,"path":"2018/10/12/nginx+uwsiæ­å»ºdjangoç¯å¢ƒæœåŠ¡å™¨/","link":"","permalink":"https://nymrli.top/2018/10/12/nginx+uwsiæ­å»ºdjangoç¯å¢ƒæœåŠ¡å™¨/","excerpt":"","text":"é˜¿é‡Œäº‘æ­å»ºæœåŠ¡å™¨ æ›´æ–°æº 12sudo apt-get updatesudo apt-get upgrade å®‰è£…nginx 1234sudo apt-get install nginxsudo /etc/init.d/nginx start # (startå¯ä»¥æ”¹æˆrestart/stop)# æˆ–æ˜¯sudo service nginx start# ç„¶åæµè§ˆå™¨è¾“å…¥æœåŠ¡å™¨IP,è§‚å¯Ÿæ˜¯å¦æœ‰welcom to nginx! å®‰è£…py3å’Œvirtualenv 12sudo apt-get install git python3 python3-pipsudo pip3 install virtualenv ä¿®æ”¹pythonç‰ˆæœ¬: æ³•ä¸€:(ä¸å»ºè®®) 123456789$ gedit ~/.bashrc #gedit .bash_aliasesåœ¨é¡¶éƒ¨åŠ å…¥ä¸€è¡Œalias python=python3$ source ~/.bashrc #æˆ–æ˜¯source ~/.bash_aliases o$ python --versionå°±ä¼šå‘ç°æ˜¯Python 3.5.2å•¦/*orOpen your .bashrc file nano ~/.bashrc. Type alias python=python3 on to a new line at the top of the file then save the file with ctrl+o and close the file with ctrl+x. Then, back at your command line type source ~/.bashrc. Now your alias should be permanent.*/ Ubuntu16.04åˆ‡æ¢python3å’Œpython2 â–².åˆ‡æ¢Python3ä¸ºé»˜è®¤ç‰ˆæœ¬ï¼š(å»ºè®®) 12sudo update-alternatives --install /usr/bin/python python /usr/bin/python2 100sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 150 åˆ‡æ¢Python2ä¸ºé»˜è®¤ç‰ˆæœ¬ï¼š 1sudo update-alternatives --config python å®‰è£…è™šæ‹Ÿç¯å¢ƒ 12$ cd /var/www$ sudo virtualenv env35 ä¸‹è½½å’Œé…ç½®ç½‘ç«™ 1234$ sudo git clone https://github.com/KyrieWang233/homework_submission-master.git$ source env35/bin/activate$ cd home...$ sudo pip3 install -r requirements.txt 123456$ sudo python manage.py collectstatic$ sudo python manage.py migrate$ python manage.py createsuperuser$ sudo vim settings.pyå°†å…¶ä¸­çš„ALLOWED_HOST=[*]æ”¹ä¸ºè‡ªå·±çš„IPç„¶åè¾“å…¥ python manage.py runserver 0.0.0.0:8000 å®‰è£…ã€æµ‹è¯•uwsgi 12$ sudo pip3 install uwsgi$ uwsgi --http :8000 --module homework_submission.wsgi ç¼–è¾‘/var/wwwä¸‹çš„uwsgi.ini 12345678910[uwsgi]chdir=/var/www/homework_submission-mastermodule=homework_submission.wsgihome=/var/www/env35master=Trueprocesses=10socket= :8001chmod socket=666vacuum=Truemax-requests=5000 ç¼–è¾‘/var/wwwä¸‹çš„nginx.conf 12345678910111213141516upstream django&#123;server 127.0.0.1:8001;&#125;server &#123;listen 80;server_name sast.nymrli.top;charset utf-8;client_max_body_size 75M;location /static&#123;alias /var/www/homework_submission-master/static; &#125;location /&#123;uwsgi_pass django;include /var/www/uwsgi_params;&#125;&#125; ç¼–è¾‘/var/wwwä¸‹çš„uwsgi_params 12345678910111213141516uwsgi_param QUERY_STRING $query_string;uwsgi_param REQUEST_METHOD $request_method;uwsgi_param CONTENT_TYPE $content_type;uwsgi_param CONTENT_LENGTH $content_length; uwsgi_param REQUEST_URI $request_uri; uwsgi_param PATH_INFO $document_uri; uwsgi_param DOCUMENT_ROOT $document_root; uwsgi_param SERVER_PROTOCOL $server_protocol; uwsgi_param REQUEST_SCHEME $scheme; uwsgi_param HTTPS $https if_not_empty; uwsgi_param REMOTE_ADDR $remote_addr; uwsgi_param REMOTE_PORT $remote_port; uwsgi_param SERVER_PORT $server_port; uwsgi_param SERVER_NAME $server_name; è½¯è¿æ¥ 12345cd /etc/nginxcd sites-enabledrm defaultln -s /var/www/nginx.conf homework_submissionls é‡å¯nginx /etc/init.d/nginx restart è¿è¡Œuwsgi 12cd /var/wwwuwsgi --ini uwsgi.ini è®©uwsgiè‡ªå¯åŠ¨ vim /etc/rc.local(æ³¨æ„éè™šæ‹Ÿç¯å¢ƒä¹Ÿå¾—å®‰è£…uwsgiæ¨¡å—) 1234æ·»åŠ ä¸‹é¢ä»£ç :/usr/local/bin/uwsgi --ini /var/www/uwsgi.iniexit 0 uwsgiçš„çƒ­å¯åŠ¨ åœ¨uwsgi.iniä¸­åŠ å…¥ py-autoreload=1 é‡å¯ä¸€ä¸‹:killall -9 uwsgiã€/usr/local/bin/uwsgi --ini /var/www/uwsgi.ini æ€»ç»“ å…³äºetc/ linit. d å¦‚æœä½ ä½¿ç”¨è¿‡inuxç³»ç»Ÿ,é‚£ä¹ˆä½ ä¸€å®šå¬è¯´è¿‡ init. dç›®å½•,è¿™ä¸ªç›®å½•åˆ°åº•æ˜¯å¹²å˜›çš„å‘¢?å®ƒå½’æ ¹ç»“åº•åªåšäº†ä¸€ä»¶äº‹æƒ…,ä½†è¿™ä»¶äº‹æƒ…éåŒå°å¯,æ˜¯ä¸ºæ•´ä¸ªç³»ç»Ÿåšçš„,å› æ­¤å®ƒéå¸¸é‡è¦ã€‚init.dç›®å½•åŒ…å«è®¸å¤šç³»ç»Ÿå„ç§æœåŠ¡çš„å¯åŠ¨å’Œåœæ­¢è„šæœ¬ å…³äº /etc/rc.local rc.localä¹Ÿæ˜¯æˆ‘ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªè„šæœ¬,è¯¥è„šæœ¬æ˜¯åœ¨ç³»ç»Ÿåˆå§‹åŒ–çº§åˆ«è„šæœ¬è¿è¡Œä¹‹åå†æ‰§è¡Œçš„,å› æ­¤å¯ä»¥å®‰â€™, 'åœ°åœ¨é‡Œé¢æ·»åŠ ä½ æƒ³åœ¨ç³»ç»Ÿå¯åŠ¨ä¹‹åæ‰§è¡Œçš„è„šæœ¬. æ€»ç»“ Linuxæ˜¯çµæ´»çš„,æ­£å› ä¸ºå®ƒçš„çµæ´»æ€§,æˆ‘ä»¬æ€»æ˜¯å¯ä»¥æ‰¾åˆ°è®¸å¤šä¸åŒçš„åŠæ³•æ¥è§£å†³åŒä¸€ä¸ªé—®é¢˜ï¼ŒæœåŠ¡çš„ä¾‹å­å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä½è¯,æœ‰äº† /etc/init.dç›®å½•ä¸‹çš„è„šæœ¬,å†åŠ ä¸Š /etc/rc. localè¿™ä¸ªåˆ©å™¨ï¼Œä½ å¯ä»¥æ”¾å¿ƒçš„ç¡®ä¿ä½ çš„æœåŠ¡å¯ä»¥å®Œç¾çš„å¯åŠ¨å’Œè¿è¡Œ","categories":[],"tags":[{"name":"ç¯å¢ƒéƒ¨ç½²","slug":"ç¯å¢ƒéƒ¨ç½²","permalink":"https://nymrli.top/tags/ç¯å¢ƒéƒ¨ç½²/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"},{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"https://nymrli.top/tags/æœåŠ¡å™¨/"}]},{"title":"å°ç¨‹åºå¼€å‘é‡åˆ°çš„å‘","slug":"å°ç¨‹åºå¼€å‘é‡åˆ°çš„å‘","date":"2018-10-04T12:26:58.000Z","updated":"2019-09-15T08:07:31.050Z","comments":true,"path":"2018/10/04/å°ç¨‹åºå¼€å‘é‡åˆ°çš„å‘/","link":"","permalink":"https://nymrli.top/2018/10/04/å°ç¨‹åºå¼€å‘é‡åˆ°çš„å‘/","excerpt":"","text":"å°ç¨‹åºå¼€å‘é‡åˆ°çš„å‘ function ä¸ =&gt; çš„åŒºåˆ« åœ¨JSä¸­ï¼Œç®­å¤´å‡½æ•°å¹¶ä¸æ˜¯ç®€å•çš„function(){}åŒ¿åå‡½æ•°çš„ç®€å†™è¯­æ³•ç³–ï¼Œå®é™…ä¸Šï¼Œç®­å¤´å‡½æ•°å’ŒåŒ¿åå‡½æ•°æœ‰ä¸ªæ˜æ˜¾çš„åŒºåˆ«ï¼š**ç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œåœ¨ç¼–å†™å‡½æ•°æ—¶å°±å·²ç»ç¡®å®šäº†ã€‚**è€ŒåŒ¿åå‡½æ•°çš„thisæŒ‡å‘è¿è¡Œæ—¶å®é™…è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ï¼Œæ— æ³•åœ¨ç¼–å†™å‡½æ•°æ—¶ç¡®å®šã€‚ ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ« ä¸å¯ä»¥å½“åšæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨ new å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯ã€‚ thisã€argumentsã€callerç­‰å¯¹è±¡åœ¨å‡½æ•°ä½“å†…éƒ½ä¸å­˜åœ¨ã€‚ ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚ ==&gt;ç®­å¤´å‡½æ•°é™¤äº†ä¼ å…¥çš„å‚æ•°ä¹‹å¤–ï¼Œå…¶å®ƒçš„å¯¹è±¡éƒ½æ²¡æœ‰ï¼åœ¨ç®­å¤´å‡½æ•°å¼•ç”¨äº†thisã€argumentsæˆ–è€…å‚æ•°ä¹‹å¤–çš„å˜é‡ï¼Œé‚£å®ƒä»¬ä¸€å®šä¸æ˜¯ç®­å¤´å‡½æ•°æœ¬èº«åŒ…å«çš„ï¼Œè€Œæ˜¯ä»çˆ¶çº§ä½œç”¨åŸŸç»§æ‰¿çš„ã€‚ ä»£ç å®ä¾‹: 123456789101112function Test() &#123; this.num = 100; this.func = function()&#123; console.log(this.num); // 100 setTimeout(function()&#123; console.log(this.num); // undefined &#125;, 500); &#125;;&#125;var obj = new Test();obj.func();//è¿™é‡Œçš„æ–¹æ³•é‡Œè°ƒç”¨äº†setTimeoutå‡½æ•°ï¼Œè¯¥å‡½æ•°500æ¯«ç§’åè°ƒç”¨æˆ‘ä»¬å®šä¹‰çš„å‡½æ•°æ—¶ï¼Œå®é™…ä¸Šæ˜¯windowå¯¹è±¡è°ƒç”¨çš„ï¼Œæ‰€ä»¥è¿™æ—¶åŒ¿åå‡½æ•°çš„thisæ˜¯æŒ‡å‘windowè€Œä¸æ˜¯æŒ‡å‘objäº†ã€‚ åœ¨ç®­å¤´å‡½æ•°å‡ºç°ä¹‹å‰ä¸€èˆ¬éƒ½æ˜¯è¿™ä¹ˆå†™çš„ï¼š 12345678910111213141516171819202122232425function Test() &#123; this.num = 100; this.func = function()&#123; console.log(this.num); // 100 var that = this; //ä¿å­˜ä¸€ä»½å½“å‰çš„thiså¯¹è±¡ setTimeout(function()&#123; console.log(that.num); // 100 &#125;, 500); &#125;;&#125;var obj = new Test();obj.func();//è¿™æ˜¯åˆ©ç”¨äº†é—­åŒ…çš„æ¦‚å¿µã€‚ç®­å¤´å‡½æ•°å¯ä»¥çœ‹åšè¿™ç§æ–¹å¼çš„è¯­æ³•ç³–ã€‚//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - //function Test() &#123; this.num = 100; this.func = function()&#123; console.log(this.num); // 100 setTimeout(() =&gt; &#123; console.log(this.num); // 100 //ç®­å¤´å‡½æ•°æ²¡æœ‰this,æ‰€ä»¥ä»ä¸Šå±‚çˆ¶çº§ç»§æ‰¿ &#125;, 500); &#125;;&#125;var obj = new Test();obj.func(); â–²åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯:thisæ˜¯æŒ‡å‘å½“å‰çš„å¯¹è±¡ï¼Œéšç€ä¸Šä¸‹æ–‡ä½œç”¨åŸŸçš„åˆ‡æ¢thisçš„æ‰§è¡Œthisçš„æŒ‡å‘ä¼šå‘ç”Ÿæ”¹å˜ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä¿å­˜ä¸€ä»½thisçš„å€¼ç„¶åå†ä½¿ç”¨ï¼švar that = this ç”Ÿæˆå¸¦å‚æ•°çš„äºŒç»´ç  123456789101112131415161718192021222324 onShow:function()&#123; var that = this; function get_code() &#123; wx.request(&#123; url: 'https://api.weixin.qq.com/cgi- bin/token?grant_type=client_credential&amp;appid=' + that.data.APP_ID + '&amp;secret=' + that.data.APP_SECRET, method: 'GET', success: function (res) &#123; // console.log(res.data.access_token); wx.request(&#123; data: &#123; 'path': \"pages/index\" &#125;, url: 'https://api.weixin.qq.com/wxa/getwxacode?access_token=' + res.data.access_token, method: 'POST', success: function (res) &#123; console.log(res.data);//2jin zhi &#125; &#125;) &#125; &#125;) &#125; get_code();&#125;//å®˜æ–¹æ¥å£å¾—åˆ°çš„æ˜¯å›¾ç‰‡çš„äºŒè¿›åˆ¶æµ é€šè¿‡è‰æ–™å¾®ä¿¡å°ç¨‹åºç”ŸæˆäºŒç»´ç : 12345678910111213141516171819202122232425262728293031const app = getApp()Page(&#123; data: &#123; APP_ID: 'wx05818046869e4078', APP_SECRET: '5d4429375e84d6ab9476b643f8733af9', path: 'pages/index', photo:null, &#125;, onShow:function()&#123; var that = this; console.log(that.data.APP_ID + ' ' + that.data.APP_SECRET + ' ' + that.data.path) wx.request(&#123; url: 'https://cli.im/home/weapp/create', method:'POST', data:&#123; 'weapp_id': that.data.APP_ID,'weapp_secret': that.data.APP_SECRET,'weapp_url': that.data.path &#125;, header:&#123; 'content- type': 'application/x- www- form- urlencoded' &#125;, success:(res)=&gt;&#123; console.log(res.data.data) that.setData(&#123; photo: res.data.data &#125;) &#125; &#125;) &#125;&#125;) ç»„ä»¶çš„è‡ªå®šä¹‰æ•°æ®å±æ€§: 123&lt;view bindtap=&quot;f0&quot; data- xxx- yyy=&apos;blabla&apos;&gt;&lt;/view&gt;//åœ¨ç‚¹å‡»è§¦å‘äº‹ä»¶f0çš„å‚æ•°eventä¸­,datasetä¸ºè‡ªå®šä¹‰å‚æ•°çš„å­—å…¸,å…¶ä¸­,é”®å€¼ä¸ºé©¼å³°å‘½åæ³•.xxxYyy â–².bindäº‹ä»¶ç»‘å®šä¸ä¼šé˜»æ­¢å†’æ³¡äº‹ä»¶å‘ä¸Šå†’æ³¡ï¼Œcatchäº‹ä»¶ç»‘å®šå¯ä»¥é˜»æ­¢å†’æ³¡äº‹ä»¶å‘ä¸Šå†’æ³¡ wx.requestsæ˜¯å¼‚æ­¥è°ƒç”¨çš„ wx.requestsè¿™ä¸ªapiæ˜¯ä¸ä¼šé˜»å¡çš„,ä»€ä¹ˆæ—¶å€™æ”¶åˆ°responseå°±ä»€ä¹ˆæ—¶å€™è°ƒç”¨å›è°ƒå‡½æ•°(successâ€¦),å¦‚æœåœ¨wx.requestsæ–¹æ³•è°ƒç”¨åè¿˜æœ‰è¿è¡Œä»£ç (1),åˆ™(1)æ¯”å›è°ƒå‡½æ•°æ—©æ‰§è¡Œ ç»„ä»¶: ä»¥æŸç§æ–¹å¼å¯¹ ä¸šåŠ¡é€»è¾‘å’Œ* *åŠŸèƒ½**çš„å°è£… ç‰¹ç‚¹:é«˜å†…èš,å¯å¤ç”¨ è§†å›¾ç»„ä»¶ è¡¨å•ç»„ä»¶ åª’ä½“ç»„ä»¶ ç”»å¸ƒç»„ä»¶ åŸºç¡€å†…å®¹ç»„ä»¶ å¯¼èˆªç»„ä»¶ åœ°å›¾ç»„ä»¶ å¼€æ”¾èƒ½åŠ›ç»„ä»¶ è‡ªå®šä¹‰ç»„ä»¶: â€‹ å†…å®¹ç•¥ ES6æ–°ç‰¹æ€§: jsä¸­letå’Œvarå®šä¹‰å˜é‡çš„åŒºåˆ« å£°æ˜åæœªèµ‹å€¼ï¼Œè¡¨ç°ç›¸åŒ: å¦‚æœæœªåœ¨ let ã€var è¯­å¥ä¸­åˆå§‹åŒ–æ‚¨çš„å˜é‡ï¼Œåˆ™å°†è‡ªåŠ¨ä¸ºå…¶åˆ†é… JavaScript å€¼ undefined ä½¿ç”¨æœªå£°æ˜çš„å˜é‡ï¼Œè¡¨ç°ä¸åŒ: varæœ‰å˜é‡æå‡ï¼Œletæ— å˜é‡æå‡ é‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œè¡¨ç°ä¸åŒï¼š varé‡å¤å£°æ˜æ—¶è¦†ç›–ï¼Œleté‡å¤å£°æ˜æ—¶æŠ¥é”™ å˜é‡ä½œç”¨èŒƒå›´ï¼Œè¡¨ç°ä¸åŒï¼š ä½¿ç”¨ let è¯­å¥å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œè¯¥å˜é‡çš„èŒƒå›´é™äºå£°æ˜å®ƒçš„å—ä¸­ã€‚ ==&gt;ä»£ç æ¼”ç¤º: 123456789101112(function() &#123; var varTest = 'test var OK.'; let letTest = 'test let OK.'; &#123; var varTest = 'varTest changed.'; let letTest = 'letTest changed.'; &#125; console.log(varTest); //è¾“å‡º\"varTest changed.\"ï¼Œå†…éƒ¨\"&#123;&#125;\"ä¸­å£°æ˜çš„varTestå˜é‡è¦†ç›–å¤–éƒ¨çš„letTestå£°æ˜ console.log(letTest); //è¾“å‡º\"test let OK.\"ï¼Œå†…éƒ¨\"&#123;&#125;\"ä¸­å£°æ˜çš„letTestå’Œå¤–éƒ¨çš„letTestä¸æ˜¯åŒä¸€ä¸ªå˜é‡&#125;());","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"https://nymrli.top/tags/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"å¸¦è¡¨å¤´çš„å•é“¾è¡¨çš„åŸºæœ¬æ“ä½œ","slug":"å¸¦è¡¨å¤´çš„å•é“¾è¡¨çš„åŸºæœ¬æ“ä½œ","date":"2018-09-27T14:12:17.000Z","updated":"2019-09-15T08:07:31.057Z","comments":true,"path":"2018/09/27/å¸¦è¡¨å¤´çš„å•é“¾è¡¨çš„åŸºæœ¬æ“ä½œ/","link":"","permalink":"https://nymrli.top/2018/09/27/å¸¦è¡¨å¤´çš„å•é“¾è¡¨çš„åŸºæœ¬æ“ä½œ/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define ERROR 0#define OK 1#define Overflow 2#define Underflow 3#define Notpresent 4#define Duplicate 5typedef int ElemType;typedef int Status;typedef struct Node&#123; ElemType elem; struct Node *link;&#125;Node;typedef struct &#123; struct Node* head; int n;&#125;Headlist;Status Init(Headlist *L)&#123; L-&gt;head = (Node*)malloc(sizeof(Node)); if(!L-&gt;head) return ERROR; L-&gt;head-&gt;link = NULL; L-&gt;n = 0; return OK;&#125;void Sort(Headlist *L)&#123; Node *p=L-&gt;head,*pre=NULL; Node *r=p-&gt;link; p-&gt;link = NULL; p=r; //rä¿å­˜åŸæ¥çš„ç»“ç‚¹é¡ºåº while(p != NULL)&#123; r = p-&gt;link; //rç»§ç»­å–ä¸‹ä¸€ä¸ªç»“ç‚¹ pre = L-&gt;head; //preé‡æ–°æ„é€ L,ä»å¤´å¼€å§‹å¾ªç¯ while(pre-&gt;link != NULL &amp;&amp; pre-&gt;link-&gt;elem &lt; p-&gt;elem) // å¦‚æœé“¾è¡¨éç©º ä¸” æ–°é“¾è¡¨ä¸å½“å‰ç»“ç‚¹æ•°å€¼æ¯”è¾ƒ pre = pre-&gt;link; //å¦‚æœå½“å‰è¦æ’å…¥çš„ç»“ç‚¹å€¼å¤§äºå¾ªç¯ä¸­å½“å‰å·²æ’åºç»“ç‚¹,åˆ™å–å·²æ’åºé“¾è¡¨ä¸‹ä¸€ä¸ªç»“ç‚¹ç»§ç»­æ¯”è¾ƒ p-&gt;link = pre-&gt;link; //æ‰¾åˆ°pè¦æ’å…¥çš„ä½ç½®å,æ’å…¥:è‹¥3&lt;pre=5&lt;bigger=7&lt;8,p=6,åˆ™ p=&gt;bigger pre-&gt;link = p; // pre=&gt;p,æ’å…¥å³å¯ p=r; // pç»§ç»­å–ä¸‹ä¸ªç»“ç‚¹ä¾æ¬¡æŒ‰åŸæ¥é¡ºåºå¾ªç¯éå†åŸæ¥é“¾è¡¨ &#125;&#125;void deleleab(Headlist *L, int a,int b)&#123; Node *q = L-&gt;head,*p=L-&gt;head-&gt;link; // qä¸ºä¸Šä¸€ä¸ª,pä¸ºå½“å‰çš„ while( p ) if(p-&gt;elem &gt;= a &amp;&amp; p-&gt;elem &lt;= b) &#123; q-&gt;link = p-&gt;link; // 1 - 2 - 3 1==&gt;3,1çš„æŒ‡é’ˆåŸŸæŒ‡å‘3 free(p); //é‡Šæ”¾2 p = q-&gt;link; // å½“å‰çš„æŒ‡é’ˆå˜æˆ3 &#125;else&#123; p = p-&gt;link; q = p-&gt;link; &#125; &#125;Status Converse(Headlist *L)&#123; Node *p = NULL,*cur= NULL; Node *q = L-&gt;head-&gt;link; if(L-&gt;head &amp;&amp; L-&gt;head-&gt;link)&#123; //å¦‚æœè¡¨ä¸å­˜åœ¨æˆ–æ˜¯ä¸ºç©º,åˆ™return ERROR while( q != NULL ) //qæŒ‰ç…§åŸæ¥çš„é¡ºåºä¾æ¬¡éå†å„ç»“ç‚¹ &#123; cur = q; //curä¸ºå½“å‰ç»“ç‚¹ q = q-&gt;link; //qä¿å­˜ä¸‹ä¸€ä¸ªç»“ç‚¹ L-&gt;head-&gt;link = cur; //ä¸ºäº†ä¸åŠ¨å¤´ç»“ç‚¹,æ‰€ä»¥å¤´ç»“ç‚¹linkå§‹ç»ˆæŒ‡å‘å½“å‰è¦åŠ çš„ç»“ç‚¹ cur-&gt;link = p; //å½“å‰çš„linkæŒ‡å‘ä¸Šä¸€ä¸ªç»“ç‚¹ p = cur; //ä¿å­˜ä¸Šä¸€ä¸ªç»“ç‚¹ &#125; &#125;else return ERROR; return OK;&#125;Status Insert(Headlist *L,int j,ElemType x)&#123; Node *p=NULL,*q=NULL; int i; if(j&lt;-1 || j&gt; L-&gt; n-1) return ERROR; p = L-&gt;head; for(i=0;i&lt;=j;i++) p=p-&gt;link; q = (Node *)malloc(sizeof(Node)); q-&gt;elem = x; q-&gt;link = p-&gt;link; p-&gt;link = q; L-&gt;n++; return OK;&#125;Status Output(Headlist L)&#123; Node *p = L.head-&gt;link; if(!L.n) return ERROR; while(p)&#123; printf(\"%d \",p-&gt;elem ); p = p-&gt;link; &#125; return OK;&#125;Status Destory(Headlist *L)&#123; Node *p=NULL; while(L-&gt;head)&#123; //ä¸æ–­åˆ é™¤headæ‰€æŒ‡å‘çš„å†…å­˜,ç›´åˆ°headè¢«é‡Šæ”¾ p = L-&gt;head-&gt;link; free(L-&gt;head); L-&gt;head = p; &#125; return OK; &#125;Status Delete(Headlist *L,int j)&#123; //ä¸‹æ ‡j Node *p = L-&gt;head,*q = L-&gt;head; // q = tmp int i; if(!L-&gt;n) return ERROR; if ( j&lt;0 || j&gt;L-&gt;n) return ERROR; for(i = 0 ;i&lt;=j-1;i++) p = p-&gt;link; q = p; p = p-&gt;link; q-&gt;link = p-&gt;link; free(p); return OK;&#125;Status Find(Headlist *L,int j,ElemType *x)&#123; Node *p= L-&gt;head; int i; if ( j&lt;0 || j&gt;L-&gt;n) return ERROR; for(i = 0 ;i&lt;=j;i++) p = p-&gt;link; *x = p-&gt;elem; return OK;&#125;int main()&#123; int x; Headlist list; Init(&amp;list); Insert(&amp;list,-1,3); Insert(&amp;list,0,2); Insert(&amp;list,-1,5); Insert(&amp;list,2,7); Insert(&amp;list,-1,1); printf(\"the linked list is :\"); Output(list); printf(\"\\nAfter sorted:\"); Sort(&amp;list); Output(list); printf(\"\\nAfter Conversed:\"); Converse(&amp;list); Output(list); printf(\"\\nAfter delete index of 0,the list is:\"); Delete(&amp;list,0); Output(list); Find(&amp;list,2,&amp;x); printf(\"\\nthe index of 2:%d\\n\",x); Destory(&amp;list); system(\"pause\"); return 0;&#125;//æ— è®ºæ˜¯ä»€ä¹ˆéƒ½è¦ç•¥è¿‡headè¡¨å¤´ç»“ç‚¹,è¡¨å¤´ç»“ç‚¹çš„elemæ˜¯ä»»æ„çš„. (ä¸€)å®éªŒä¸­é‡åˆ°çš„ä¸»è¦é—®é¢˜åŠè§£å†³æ–¹æ³• 1.é¢˜ç›®äºŒï¼Œå¸¦è¡¨å¤´çš„å•é“¾è¡¨åœ¨æ’å…¥æ—¶å‡ºç°äº†ç‚¹é—®é¢˜ï¼Œä¹¦ä¸Šç»™å‡ºçš„æ–¹æ³•æ˜¯é”™çš„ï¼Œä¸”æ˜¯C++ä»£ç ã€‚äºæ˜¯åœ¨å°è¯•ç†è§£ä»–çš„æƒ³æ³•åŠæ¯æ­¥Debugä¸­ç»ˆäºå†™å‡ºäº†æ­£ç¡®çš„ä»£ç ã€‚ï¼ˆL-&gt;head-&gt;link = NULL,å…¶ä¸­L-&gt;head-&gt;data ä¸å¡«ï¼‰ 2.é¢˜ç›®äºŒä¸­å¸¦è¡¨å¤´èŠ‚ç‚¹çš„å•é“¾è¡¨ä¸­æ’å…¥æ—¶for( j=0;j&lt;=i; j++) å’Œä¹‹å‰j&lt;iä»¥åŠåˆ é™¤æ—¶for( j=0;j&lt;=i-1; j++) å’Œä¹‹å‰j&lt;i-1æœ‰å¾ˆå¤§ä¸åŒ,é€šè¿‡debugçŸ¥é“äº†æ˜¯ä¸ºäº†ç•¥è¿‡ç¬¬ä¸€ä¸ªè¡¨å¤´èŠ‚ç‚¹ã€‚ 3.é€†ç½®è¿‡ç¨‹ä¸­,ä¸ºäº†ä¸åŠ¨è¡¨å¤´,ç•¥è¿‡ç¬¬ä¸€ä¸ªè¡¨å¤´ç»“ç‚¹æ—¶å‡ºç°äº†ç‚¹éº»çƒ¦.å¹¶ä¸”åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ é€†ç½®åæŒ‡å‘NULL,ç¬¬äºŒä¸ªç»“ç‚¹æŒ‡å‘ç¬¬ä¸€ä¸ªç»“ç‚¹æ—¶æ²¡æœ‰æƒ³æ˜ç™½,åæ¥æ‰æƒ³åˆ°äº†å…ˆè®©P=NULL,ç„¶åè®°å½•ä¸Šä¸€ä¸ªç»“ç‚¹å°±èƒ½è¾¾åˆ°æ•ˆæœäº†.åŒæ—¶è¿˜æœ‰ä¸ªé—®é¢˜æ˜¯ä¸€ç›´æ²¡æœ‰ä¿å­˜åŸæ¥é“¾è¡¨çš„é¡ºåº,å†å› ä¸ºP=NULLå¯¼è‡´ä¼šè®¿é—®åˆ°éæ³•å†…å­˜è€Œç¨‹åºå´©æºƒ ï¼ˆäºŒï¼‰å®éªŒå¿ƒå¾— 2.é¢˜ç›®äºŒä¸­,å¸¦è¡¨å¤´å•é“¾è¡¨å’Œä¸å¸¦è¡¨å¤´å•é“¾è¡¨,åœ¨åˆ é™¤å’Œæ’å…¥æ—¶çš„å¾ªç¯æ¡ä»¶ä¸åŒè¦æ³¨æ„.åŠåˆå§‹åŒ–æ—¶å¸¦è¡¨å¤´çš„L-&gt;head-&gt;link= NULL; ä¸ æ— è¡¨å¤´çš„ L-&gt;first = NULL;","categories":[],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://nymrli.top/tags/æ•°æ®ç»“æ„/"}]},{"title":"å¸¦è¡¨å¤´çš„å•é“¾è¡¨åº”ç”¨â€”â€”å¤šé¡¹å¼","slug":"å¸¦è¡¨å¤´çš„å•é“¾è¡¨åº”ç”¨â€”â€”å¤šé¡¹å¼","date":"2018-09-27T14:04:31.000Z","updated":"2019-09-15T08:07:31.054Z","comments":true,"path":"2018/09/27/å¸¦è¡¨å¤´çš„å•é“¾è¡¨åº”ç”¨â€”â€”å¤šé¡¹å¼/","link":"","permalink":"https://nymrli.top/2018/09/27/å¸¦è¡¨å¤´çš„å•é“¾è¡¨åº”ç”¨â€”â€”å¤šé¡¹å¼/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define ERROR 0#define OK 1#define Overflow 2#define Underflow 3#define Notpresent 4#define Duplicate 5typedef int ElemType;typedef int Status;typedef struct PNode&#123; ElemType ceof; ElemType exp; struct PNode *link;&#125;PNode;typedef struct &#123; struct PNode *head;&#125;polynominal;Status Init(polynominal *p)&#123; p-&gt;head = (PNode *)malloc(sizeof(PNode)); p-&gt;head-&gt;exp = -1; p-&gt;head-&gt;link = NULL; return OK;&#125;Status Create(polynominal *p)&#123; PNode *pn = NULL,*q=NULL,*pre=NULL; Init(p); //p-&gt;head = (PNode *)malloc(sizeof(PNode)); //p-&gt;head-&gt;exp = -1; //p-&gt;head-&gt;link = NULL; for (;;) // &lt;==&gt;while(1) &#123; pn = (PNode *)malloc(sizeof(PNode)); printf(\"ceof:\\n\"); scanf(\"%d\",&amp;pn-&gt;ceof); printf(\"exp:\\n\"); scanf(\"%d\",&amp;pn-&gt;exp); if (pn-&gt;exp &lt; 0) &#123;printf(\"End the input\\n\"); break;&#125; pre = p-&gt;head; //preä»é“¾è¡¨å¤´å¼€å§‹ q=p-&gt;head-&gt;link; while(q &amp;&amp; q-&gt;exp &gt; pn-&gt;exp)&#123; //pnä¸ºå½“å‰ç»“ç‚¹,qä¸ºé“¾è¡¨ä¸­ç»“ç‚¹ pre = q; // q = q-&gt;link; &#125; pn-&gt;link = q; // åœ¨preå’Œqä¹‹é—´æ’å…¥pn,(qä¸ºnullæ—¶,ç›¸å½“äºæœ«å°¾æ’å…¥pn) pre-&gt;link = pn; // pre =&gt; pn =&gt; q &#125; return OK;&#125;Status Sort(polynominal *L)&#123; //ä»å¤§åˆ°å° PNode *p=L-&gt;head,*pre=NULL; PNode *r=p-&gt;link; p-&gt;link = NULL; p=r; //rä¿å­˜åŸæ¥çš„ç»“ç‚¹é¡ºåº while(p != NULL)&#123; r = p-&gt;link; //rç»§ç»­å–ä¸‹ä¸€ä¸ªç»“ç‚¹ pre = L-&gt;head; //preé‡æ–°æ„é€ L,ä»å¤´å¼€å§‹å¾ªç¯ while(pre-&gt;link != NULL &amp;&amp; pre-&gt;link-&gt;exp &lt; p-&gt;exp) // å¦‚æœé“¾è¡¨éç©º ä¸” æ–°é“¾è¡¨ä¸å½“å‰ç»“ç‚¹æ•°å€¼æ¯”è¾ƒ pre = pre-&gt;link; //å¦‚æœå½“å‰è¦æ’å…¥çš„ç»“ç‚¹å€¼å¤§äºå¾ªç¯ä¸­å½“å‰å·²æ’åºç»“ç‚¹,åˆ™å–å·²æ’åºé“¾è¡¨ä¸‹ä¸€ä¸ªç»“ç‚¹ç»§ç»­æ¯”è¾ƒ p-&gt;link = pre-&gt;link; //æ‰¾åˆ°pè¦æ’å…¥çš„ä½ç½®å,æ’å…¥:è‹¥3&lt;pre=5&lt;bigger=7&lt;8,p=6,åˆ™ p=&gt;bigger pre-&gt;link = p; // pre=&gt;p,æ’å…¥å³å¯ p=r; // pç»§ç»­å–ä¸‹ä¸ªç»“ç‚¹ä¾æ¬¡æŒ‰åŸæ¥é¡ºåºå¾ªç¯éå†åŸæ¥é“¾è¡¨ &#125; return OK;&#125;Status Add(polynominal *px,polynominal *qx)&#123; //ç›®çš„:å°†qæ”¹æˆp+q PNode *q1=qx-&gt;head, *p=px-&gt;head-&gt;link; //q1æŒ‡å‘qxè¡¨å¤´ç»“ç‚¹ PNode *q=q1-&gt;link; //pæŒ‡å‘å¤šé¡¹å¼pxç¬¬ä¸€ä¸ªç»“ç‚¹,qæŒ‡å‘qxç¬¬ä¸€ä¸ª PNode *temp = NULL; //q1æ˜¯qå‰é©± while( q &amp;&amp; p)&#123; while( p-&gt;exp &lt; q-&gt;exp )&#123; //æ‰¾åˆ°qxä¸­ å¤§äºç­‰äºqæŒ‡æ•°é¡¹çš„é¡¹,qä¸æ–­å³ç§» q1 = q; q = q-&gt;link; &#125; if (p-&gt;exp == q-&gt;exp )&#123; q-&gt;ceof = q-&gt;ceof + p-&gt;ceof; if (q-&gt;ceof == 0)&#123; q1-&gt;link = q-&gt;link; //é‡Šæ”¾å½“å‰qçš„å†…å­˜ free(q); q = q1-&gt;link; p = p-&gt;link; &#125;else&#123; //p\\qéƒ½å³ç§» q1 = q; //q1 q = q-&gt;link; p = p-&gt;link; &#125; &#125;else&#123; //p-&gt;exp &gt; q-&gt;exp temp = (PNode * )malloc(sizeof(PNode)); temp-&gt;ceof = p-&gt;ceof; temp-&gt;exp = p-&gt;exp; temp-&gt;link = q1-&gt;link; q1-&gt;link = temp; p = p-&gt;link; &#125; &#125; return OK;&#125;void Output(polynominal *p)&#123; PNode *q = p-&gt;head-&gt;link; int last = 0; while( q!=NULL )&#123; if(q-&gt;link == NULL) last =1; printf(\"%dx^%d\", q-&gt;ceof,q-&gt;exp); if(!last) printf(\"+\"); //æ­¤å¤„æ³¨æ„ä¸ª+çš„å°ç»†èŠ‚ q = q-&gt;link; &#125; printf(\"\\n\");&#125;void Destory(polynominal *p)&#123; PNode *q = NULL; while(p-&gt;head)&#123; //ä¸æ–­åˆ é™¤headæ‰€æŒ‡å‘çš„å†…å­˜,ç›´åˆ°headè¢«é‡Šæ”¾ q = p-&gt;head-&gt;link; free(p-&gt;head); p-&gt;head = q; &#125;&#125;/***********åˆå¹¶åŒç±»é¡¹*****************//***********åˆå¹¶å³free*****************/Status unify(polynominal *t)&#123; PNode *p=NULL; PNode *q=NULL; PNode *last=NULL; PNode *tmp; //while(p-&gt;link != NULL)&#123; for(p=t-&gt;head-&gt;link;p!=NULL;p=p-&gt;link)&#123; //é€‰æ‹© last = p; for(q=last-&gt;link; q!=NULL ; )&#123; //qæŒ‡é’ˆå‘åæ¨ç§»æŒ‡å‘ä¸‹ä¸€ç»“ç‚¹ if(q-&gt;exp == p-&gt;exp)&#123; //ç›¸ç­‰è®¡ç®— p-&gt;ceof += q-&gt;ceof; //qä¸º æ»‘åŠ¨é¡¹ tmp = q-&gt;link; last-&gt;link = q-&gt;link; //lastä¿å­˜ä¸Šä¸€ä¸ªq free(q); // å§qçš„ç©ºé—´é‡Šæ”¾æ‰ q= tmp; &#125;else&#123; last= q; q=q-&gt;link;&#125; //å¦‚æœä¸ç›¸ç­‰å°±åˆ¤æ–­ä¸‹ä¸€ä¸ª &#125; &#125; return OK;&#125;polynominal Multiply(polynominal *px,polynominal *qx)&#123; PNode *p = px-&gt;head; PNode *q = qx-&gt;head; PNode *x = NULL; PNode *tmp = NULL; polynominal newpoly; Init(&amp;newpoly); x = newpoly.head; for (p=px-&gt;head-&gt;link; p!=NULL; p=p-&gt;link)&#123; for (q=qx-&gt;head-&gt;link; q!=NULL; q=q-&gt;link)&#123; tmp = (PNode*)malloc(sizeof(PNode)); tmp-&gt;ceof = p-&gt;ceof * q-&gt;ceof; tmp-&gt;exp = p-&gt;exp + q-&gt;exp; tmp-&gt;link = x-&gt;link; //æ–°ç”Ÿæˆçš„ç»“ç‚¹æŒ‡å‘ä¸Šä¸€ä¸ªç”Ÿæˆçš„ç»“ç‚¹çš„åœ°å€ x-&gt;link = tmp; //ä½¿é“¾è¡¨è®°å½•å½“å‰tmpç»“ç‚¹ x = x-&gt;link; //å–ä¸‹ä¸€ä¸ªç»“ç‚¹ &#125; &#125; unify(&amp;newpoly); Sort(&amp;newpoly); return newpoly;&#125;int main()&#123; polynominal p,q; polynominal mul; Create(&amp;p); Output(&amp;p); // printf(\"After unify:\\n\"); Unify // unify(&amp;p); // Output(p); Create(&amp;q); Output(&amp;q); // Add(&amp;p,&amp;q); ADD // printf(\"q:\"); // Output(q); printf(\"After Multiplied:\\n\"); mul = Multiply(&amp;p,&amp;q); Output(&amp;mul); system(\"pause\"); return 0;&#125;//å…¶ä¸­Sort,unify,add,multiply,éœ€è¦æ‰æ‘¸ä¸€ä¸‹ (ä¸€)å®éªŒä¸­é‡åˆ°çš„ä¸»è¦é—®é¢˜åŠè§£å†³æ–¹æ³• 1.é¢˜ç›®äºŒï¼Œå¸¦è¡¨å¤´çš„å•é“¾è¡¨åœ¨æ’å…¥æ—¶å‡ºç°äº†ç‚¹é—®é¢˜ï¼Œä¹¦ä¸Šç»™å‡ºçš„æ–¹æ³•æ˜¯é”™çš„ï¼Œä¸”æ˜¯C++ä»£ç ã€‚äºæ˜¯åœ¨å°è¯•ç†è§£ä»–çš„æƒ³æ³•åŠæ¯æ­¥Debugä¸­ç»ˆäºå†™å‡ºäº†æ­£ç¡®çš„ä»£ç ã€‚ï¼ˆL-&gt;head-&gt;link = NULL,å…¶ä¸­L-&gt;head-&gt;data ä¸å¡«ï¼‰ 2.é¢˜ç›®äºŒä¸­å¸¦è¡¨å¤´èŠ‚ç‚¹çš„å•é“¾è¡¨ä¸­æ’å…¥æ—¶for( j=0;j&lt;=i; j++) å’Œä¹‹å‰j&lt;iä»¥åŠåˆ é™¤æ—¶for( j=0;j&lt;=i-1; j++) å’Œä¹‹å‰j&lt;i-1æœ‰å¾ˆå¤§ä¸åŒ,é€šè¿‡debugçŸ¥é“äº†æ˜¯ä¸ºäº†ç•¥è¿‡ç¬¬ä¸€ä¸ªè¡¨å¤´èŠ‚ç‚¹ã€‚ 3.é€†ç½®è¿‡ç¨‹ä¸­,ä¸ºäº†ä¸åŠ¨è¡¨å¤´,ç•¥è¿‡ç¬¬ä¸€ä¸ªè¡¨å¤´ç»“ç‚¹æ—¶å‡ºç°äº†ç‚¹éº»çƒ¦.å¹¶ä¸”åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ é€†ç½®åæŒ‡å‘NULL,ç¬¬äºŒä¸ªç»“ç‚¹æŒ‡å‘ç¬¬ä¸€ä¸ªç»“ç‚¹æ—¶æ²¡æœ‰æƒ³æ˜ç™½,åæ¥æ‰æƒ³åˆ°äº†å…ˆè®©P=NULL,ç„¶åè®°å½•ä¸Šä¸€ä¸ªç»“ç‚¹å°±èƒ½è¾¾åˆ°æ•ˆæœäº†.åŒæ—¶è¿˜æœ‰ä¸ªé—®é¢˜æ˜¯ä¸€ç›´æ²¡æœ‰ä¿å­˜åŸæ¥é“¾è¡¨çš„é¡ºåº,å†å› ä¸ºP=NULLå¯¼è‡´ä¼šè®¿é—®åˆ°éæ³•å†…å­˜è€Œç¨‹åºå´©æºƒ 4.åˆå¹¶åŒç±»é¡¹çš„è¿‡ç¨‹ä¸­,ä½¿ç”¨äº†é€‰æ‹©æ’åºç±»ä¼¼çš„æ€æƒ³,ä½†æ˜¯åœ¨é‡Œå±‚for(q=last-&gt;link; q!=NULL ; )å‡ºäº†é—®é¢˜,ä¸€å¼€å§‹å†™æˆ for(q=last-&gt;link; q!=NULL ; q=q-&gt;link)ä½†æ˜¯å¦‚æœæŒ‡æ•°ç›¸ç­‰,qå°±ä¼šè¢«freeæ‰,æ­¤æ—¶q=q-&gt;linkå°±ä¼šå‡ºé—®é¢˜ ï¼ˆäºŒï¼‰å®éªŒå¿ƒå¾— 1.é¢˜ç›®ä¸€ä¸­ï¼Œé¡ºåºè¡¨æ˜¯mallocåŠ¨æ€ç”³è¯·çš„ç©ºé—´ï¼Œæ˜¯è¿ç»­çš„ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ä¸‹æ ‡è®¿é—®ã€‚ 2.é¢˜ç›®äºŒä¸­,å¸¦è¡¨å¤´å•é“¾è¡¨å’Œä¸å¸¦è¡¨å¤´å•é“¾è¡¨,åœ¨åˆ é™¤å’Œæ’å…¥æ—¶çš„å¾ªç¯æ¡ä»¶ä¸åŒè¦æ³¨æ„.åŠåˆå§‹åŒ–æ—¶å¸¦è¡¨å¤´çš„L-&gt;head-&gt;link = NULL; ä¸ æ— è¡¨å¤´çš„ L-&gt;first = NULL; 3.Debugè¿‡ç¨‹ä¸­F10å’ŒF11çš„åŒºåˆ«,åœ¨mallocå’Œfreeå¤„æŒ‰F11ä¼šè¿›å…¥mallocå‡½æ•°ã€freeå‡½æ•°çš„æ±‡ç¼–çš„è¿è¡Œè¿‡ç¨‹ 4.æ’åºå’Œé€†ç½®æ—¶éƒ½è¦æœ‰ä¸ªæŒ‡é’ˆè®°ä½åŸæ¥é“¾è¡¨çš„é¡ºåº,ç„¶åæ‰èƒ½å†ä¾æ¬¡æŒ‰é¡ºåºè¿›è¡Œ. 5.ç†æ¸…è¦åšçš„äº‹,å†ä¸‹æ‰‹å†™ä»£ç ,ç”»å›¾æœ‰æ—¶å¾ˆé‡è¦.","categories":[],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://nymrli.top/tags/æ•°æ®ç»“æ„/"}]},{"title":"å°ç¨‹åºè“ç‰™","slug":"å°ç¨‹åºè“ç‰™API","date":"2018-09-20T02:57:01.000Z","updated":"2019-09-15T08:07:31.053Z","comments":true,"path":"2018/09/20/å°ç¨‹åºè“ç‰™API/","link":"","permalink":"https://nymrli.top/2018/09/20/å°ç¨‹åºè“ç‰™API/","excerpt":"","text":"æä¾›è“ç‰™æ¨¡å—API wx.openBluetoothAdapter(OBJECT) â€‹ åˆå§‹åŒ–å°ç¨‹åºè“ç‰™æ¨¡å— wx.closeBluetoothAdapter(OBJECT) â€‹ å…³é—­è“ç‰™æ¨¡å—ï¼Œä½¿å…¶è¿›å…¥æœªåˆå§‹åŒ–çŠ¶æ€ã€‚ wx.getBluetoothAdapterState(OBJECT) â€‹ è·å–æœ¬æœºè“ç‰™é€‚é…å™¨çŠ¶æ€ wx.onBluetoothAdapterStateChange(CALLBACK) â€‹ ç›‘å¬è“ç‰™é€‚é…å™¨çŠ¶æ€å˜åŒ–äº‹ä»¶ wx.startBluetoothDevicesDiscovery(OBJECT) â€‹ å¼€å§‹æœå¯»é™„è¿‘çš„è“ç‰™å¤–å›´è®¾å¤‡ã€‚æ³¨æ„ï¼Œè¯¥æ“ä½œæ¯”è¾ƒè€—è´¹ç³»ç»Ÿèµ„æºï¼Œè¯·åœ¨æœç´¢å¹¶è¿æ¥åˆ°è®¾å¤‡åè°ƒç”¨ stop æ–¹æ³•åœæ­¢æœç´¢ã€‚ wx.stopBluetoothDevicesDiscovery(OBJECT) â€‹ åœæ­¢æœå¯»é™„è¿‘çš„è“ç‰™å¤–å›´è®¾å¤‡ã€‚è‹¥å·²ç»æ‰¾åˆ°éœ€è¦çš„è“ç‰™è®¾å¤‡å¹¶ä¸éœ€è¦ç»§ç»­æœç´¢æ—¶ï¼Œå»ºè®®è°ƒç”¨è¯¥æ¥å£åœæ­¢è“ç‰™æœç´¢ã€‚ wx.getBluetoothDevices(OBJECT) â€‹ è·å–åœ¨å°ç¨‹åºè“ç‰™æ¨¡å—ç”Ÿæ•ˆæœŸé—´æ‰€æœ‰å·²å‘ç°çš„è“ç‰™è®¾å¤‡ï¼ŒåŒ…æ‹¬å·²ç»å’Œæœ¬æœºå¤„äºè¿æ¥çŠ¶æ€çš„è®¾å¤‡ã€‚ wx.onBluetoothDeviceFound(CALLBACK) â€‹ ç›‘å¬å¯»æ‰¾åˆ°æ–°è®¾å¤‡çš„äº‹ä»¶ wx.createBLEConnection(OBJECT) â€‹ è¿æ¥ä½åŠŸè€—è“ç‰™è®¾å¤‡ã€‚ wx.closeBLEConnection(OBJECT) â€‹ æ–­å¼€ä¸ä½åŠŸè€—è“ç‰™è®¾å¤‡çš„è¿æ¥ wx.getBLEDeviceServices(OBJECT) â€‹ è·å–è“ç‰™è®¾å¤‡æ‰€æœ‰ serviceï¼ˆæœåŠ¡ï¼‰ wx.getBLEDeviceCharacteristics(OBJECT) â€‹ è·å–è“ç‰™è®¾å¤‡æŸä¸ªæœåŠ¡ä¸­çš„æ‰€æœ‰ characteristicï¼ˆç‰¹å¾å€¼ï¼‰ wx.readBLECharacteristicValue(OBJECT) â€‹ è¯»å–ä½åŠŸè€—è“ç‰™è®¾å¤‡çš„ç‰¹å¾å€¼çš„äºŒè¿›åˆ¶æ•°æ®å€¼ã€‚æ³¨æ„ï¼šå¿…é¡»è®¾å¤‡çš„ç‰¹å¾å€¼æ”¯æŒreadæ‰å¯ä»¥æˆåŠŸè°ƒç”¨ï¼Œå…·ä½“å‚ç…§ characteristic çš„ properties å±æ€§ wx.writeBLECharacteristicValue(OBJECT) â€‹ å‘ä½åŠŸè€—è“ç‰™è®¾å¤‡ç‰¹å¾å€¼ä¸­å†™å…¥äºŒè¿›åˆ¶æ•°æ®ã€‚æ³¨æ„ï¼šå¿…é¡»è®¾å¤‡çš„ç‰¹å¾å€¼æ”¯æŒwriteæ‰å¯ä»¥æˆåŠŸè°ƒç”¨ï¼Œå…·ä½“å‚ç…§ characteristic çš„ properties å±æ€§ tips: å¹¶è¡Œè°ƒç”¨å¤šæ¬¡è¯»å†™æ¥å£å­˜åœ¨è¯»å†™å¤±è´¥çš„å¯èƒ½æ€§* wx.notifyBLECharacteristicValueChange(OBJECT) â€‹ å¯ç”¨ä½åŠŸè€—è“ç‰™è®¾å¤‡ç‰¹å¾å€¼å˜åŒ–æ—¶çš„ notify åŠŸèƒ½ï¼Œè®¢é˜…ç‰¹å¾å€¼ã€‚æ³¨æ„ï¼šå¿…é¡»è®¾å¤‡çš„ç‰¹å¾å€¼æ”¯æŒnotifyæˆ–è€…indicateæ‰å¯ä»¥æˆåŠŸè°ƒç”¨ï¼Œå…·ä½“å‚ç…§ characteristic çš„ properties å±æ€§ â€‹ å¦å¤–ï¼Œå¿…é¡»å…ˆå¯ç”¨notifyæ‰èƒ½ç›‘å¬åˆ°è®¾å¤‡ characteristicValueChange äº‹ä»¶ wx.onBLEConnectionStateChange(CALLBACK) â€‹ ç›‘å¬ä½åŠŸè€—è“ç‰™è¿æ¥çŠ¶æ€çš„æ”¹å˜äº‹ä»¶ï¼ŒåŒ…æ‹¬å¼€å‘è€…ä¸»åŠ¨è¿æ¥æˆ–æ–­å¼€è¿æ¥ï¼Œè®¾å¤‡ä¸¢å¤±ï¼Œè¿æ¥å¼‚å¸¸æ–­å¼€ç­‰ç­‰ wx.onBLECharacteristicValueChange(CALLBACK) â€‹ ç›‘å¬ä½åŠŸè€—è“ç‰™è®¾å¤‡çš„ç‰¹å¾å€¼å˜åŒ–ã€‚å¿…é¡»å…ˆå¯ç”¨notifyæ¥å£æ‰èƒ½æ¥æ”¶åˆ°è®¾å¤‡æ¨é€çš„notificationã€‚ ç¤ºä¾‹ä»£ç å¦‚ä¸‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150// pages/bluetooth/bluetooth.jsPage(&#123; data:&#123;&#125;, onLoad:function(options)&#123; // é¡µé¢åˆå§‹åŒ– optionsä¸ºé¡µé¢è·³è½¬æ‰€å¸¦æ¥çš„å‚æ•° &#125;, //åˆå§‹åŒ–è“ç‰™é€‚é…å™¨ openBluetooth:function()&#123; wx.openBluetoothAdapter(&#123; success: function(res)&#123; console.log(res.errMsg) // success wx.showToast(&#123; title:\"åˆå§‹åŒ–è“ç‰™é€‚é…å™¨æˆåŠŸ\", duration:2000 &#125;) &#125;, &#125;) &#125;,//å…³é—­è“ç‰™æ¨¡å—closeBluetooth:function()&#123; wx.openBluetoothAdapter() wx.closeBluetoothAdapter(&#123; success: function(res)&#123; // success console.log(\"success\"+res) &#125; &#125;)&#125;,//è·å–æœ¬æœºè“ç‰™é€‚é…å™¨çŠ¶æ€getBluetoothAdapterState:function()&#123;wx.getBluetoothAdapterState(&#123; success: function(res)&#123; // success console.log(\"res:\"+res) console.log(\"errMsg:\"+res.errMsg) &#125;&#125;)&#125;,//ç›‘å¬è“ç‰™é€‚é…å™¨çŠ¶æ€å˜åŒ–äº‹ä»¶ onBluetoothAdapterStateChange:function()&#123; wx.onBluetoothAdapterStateChange(function(res) &#123; console.log(`adapterState changed, now is`, res) &#125;)&#125;, // å¼€å§‹æœå¯»é™„è¿‘çš„è“ç‰™å¤–å›´è®¾å¤‡ startBluetoothDevicesDiscovery:function()&#123; wx.startBluetoothDevicesDiscovery(&#123; success: function (res) &#123; console.log(res) &#125; &#125;)&#125;, // åœæ­¢æœå¯»é™„è¿‘çš„è“ç‰™å¤–å›´è®¾å¤‡ stopBluetoothDevicesDiscovery:function()&#123; wx.stopBluetoothDevicesDiscovery(&#123; success: function (res) &#123; console.log(res) &#125; &#125;)&#125;, //è·å–æ‰€æœ‰å·²å‘ç°çš„è“ç‰™è®¾å¤‡ getBluetoothDevices:function()&#123; wx.getBluetoothDevices(&#123; success: function(res)&#123; // success console.log(res) &#125;, &#125;) &#125;, //ç›‘å¬å¯»æ‰¾åˆ°æ–°è®¾å¤‡çš„äº‹ä»¶ onBluetoothDeviceFound:function()&#123; wx.onBluetoothDeviceFound(function(res) &#123; // callback console.log(res) &#125;) &#125;, //æ ¹æ® uuid è·å–å¤„äºå·²è¿æ¥çŠ¶æ€çš„è®¾å¤‡ getConnectedBluetoothDevices:function()&#123; wx.getConnectedBluetoothDevices(&#123; success: function (res) &#123; console.log(res) &#125;&#125;)&#125;,//è¿æ¥ä½åŠŸè€—è“ç‰™è®¾å¤‡createBLEConnection:function()&#123; wx.createBLEConnection(&#123; deviceId: 'AC:BC:32:C1:47:80', success: function(res)&#123; // success console.log(res) &#125;, fail: function(res) &#123; // fail &#125;, complete: function(res) &#123; // complete &#125; &#125;)&#125;,//æ–­å¼€ä¸ä½åŠŸè€—è“ç‰™è®¾å¤‡çš„è¿æ¥closeBLEConnection:function()&#123; wx.closeBLEConnection(&#123; deviceId: 'AC:BC:32:C1:47:80', success: function (res) &#123; console.log(res) &#125;&#125;)&#125;,//ç›‘å¬ä½åŠŸè€—è“ç‰™è¿æ¥çš„é”™è¯¯äº‹ä»¶ï¼ŒåŒ…æ‹¬è®¾å¤‡ä¸¢å¤±ï¼Œè¿æ¥å¼‚å¸¸æ–­å¼€ç­‰ç­‰onBLEConnectionStateChanged:function()&#123; wx.onBLEConnectionStateChanged(function(res) &#123; console.log(`device $&#123;res.deviceId&#125; state has changed, connected: $&#123;res.connected&#125;`)&#125;)&#125;,//è·å–è“ç‰™è®¾å¤‡æ‰€æœ‰ serviceï¼ˆæœåŠ¡ï¼‰getBLEDeviceServices:function()&#123; wx.getBLEDeviceServices(&#123; deviceId: '48:3B:38:88:E3:83', success: function(res)&#123; // success console.log('device services:', res.services.serviceId) &#125;, fail: function(res) &#123; // fail &#125;, complete: function(res) &#123; // complete &#125; &#125;)&#125;,//è·å–è“ç‰™è®¾å¤‡æ‰€æœ‰ characteristicï¼ˆç‰¹å¾å€¼ï¼‰getBLEDeviceCharacteristics:function()&#123; wx.getBLEDeviceCharacteristics(&#123; deviceId: '48:3B:38:88:E3:83', serviceId: 'serviceId', success: function(res)&#123; // success &#125;, fail: function(res) &#123; // fail &#125;, complete: function(res) &#123; // complete &#125; &#125;)&#125;&#125;)","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"https://nymrli.top/tags/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"ç”µä¿¡è·¯ç”±å™¨ä¸Šç½‘","slug":"ç”µä¿¡è·¯ç”±å™¨ä¸Šç½‘","date":"2018-09-20T02:01:16.000Z","updated":"2019-09-15T08:07:31.086Z","comments":true,"path":"2018/09/20/ç”µä¿¡è·¯ç”±å™¨ä¸Šç½‘/","link":"","permalink":"https://nymrli.top/2018/09/20/ç”µä¿¡è·¯ç”±å™¨ä¸Šç½‘/","excerpt":"","text":"é“¾æ¥: https://pan.baidu.com/s/1QaW7DMhjb2YHd0ZVWterSw å¯†ç ï¼šè”ç³»QQ1063052964,æˆ–æ˜¯åœ¨ä¸‹æ–¹è¯„è®ºå¤„ç•™è¨€QQ","categories":[],"tags":[{"name":"ç”Ÿæ´»ç¦åˆ©","slug":"ç”Ÿæ´»ç¦åˆ©","permalink":"https://nymrli.top/tags/ç”Ÿæ´»ç¦åˆ©/"}]},{"title":"å°ç¨‹åºå…¥é—¨å­¦ä¹ ","slug":"å°ç¨‹åºå…¥é—¨å­¦ä¹ ","date":"2018-09-20T01:57:01.000Z","updated":"2019-09-15T08:07:31.049Z","comments":true,"path":"2018/09/20/å°ç¨‹åºå…¥é—¨å­¦ä¹ /","link":"","permalink":"https://nymrli.top/2018/09/20/å°ç¨‹åºå…¥é—¨å­¦ä¹ /","excerpt":"","text":"IDEæ­å»º: ä¸‹è½½:å¾®ä¿¡å…¬ä¼—å¹³å°å®˜ç½‘ é¢„å¤‡çŸ¥è¯†: ä¸ªäººè®¤ä¸ºå…¥é—¨å°ç¨‹åºç›¸å¯¹æ¯”è¾ƒç®€å•,éœ€è¦äº†è§£HTML+CSS å¤§æ¦‚çŸ¥é“æ˜¯å¹²å•¥çš„å°±è¡Œ,JavaScripè¿˜æ˜¯è¦çœ‹çœ‹çš„ï¼Œæ¨èæ•™ç¨‹ å»–é›ªå³°çš„åšå®¢ä»¥åŠW3Cschoolçš„JSæ•™ç¨‹ é¡¹ç›®ç›®å½•ç»“æ„ä»‹ç»: å°ç¨‹åºä¸­ä¸€å…±æœ‰å››ç§ç±»å‹çš„æ–‡ä»¶: js ---------- JavaScripæ–‡ä»¶ json -------- é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œè´Ÿè´£çª—å£é¢œè‰²ç­‰ç­‰ wxml ------- ç±»ä¼¼HTMLæ–‡ä»¶ wxss ------- ç±»ä¼¼CSSæ–‡ä»¶ é‡è¦æ–‡ä»¶-APPè®²è§£: app.json(å¿…éœ€) :ç›‘å¬å¹¶å¤„ç†å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€å£°æ˜å…¨å±€å˜é‡ã€‚ app.js(å»ºè®®ä¿å­˜) : *ä½œä¸ºé…ç½®æ•´ä¸ªAPPçš„å…¥å£,å¯ä»¥ä»€ä¹ˆéƒ½ä¸å†™åªè¾“å…¥{}.å¯¹æ•´ä¸ªå°ç¨‹åºçš„å…¨å±€é…ç½®ã€‚è®°å½•äº†é¡µé¢ç»„æˆ(å®šä¹‰äº†æ¯ä¸ªé¡µé¢)ï¼Œé…ç½®å°ç¨‹åºçš„çª—å£ èƒŒæ™¯è‰²ï¼Œé…ç½®å¯¼èˆªæ¡æ ·å¼ï¼Œé…ç½®é»˜è®¤æ ‡é¢˜ã€‚* â€‹ ==&gt;æ²¡æœ‰æœ€ç®€å•çš„å°ç¨‹åºä¹Ÿèƒ½è¿è¡Œ. app.wxml app.wxss ===&gt; æ‰€ä»¥åªæœ‰app.jså’Œapp.jsonçš„é¡¹ç›®æ˜¯æœ€ç®€å•çš„å°ç¨‹åº å…·ä½“é¡µé¢ä¸‹çš„ jsæ–‡ä»¶é…ç½®é¡µé¢å…¥å£ wxmlé…ç½®å¸ƒå±€ ä¸€èµ·å®Œæˆå¯¹é¡µé¢çš„æ¸²æŸ“ wxssæ ·å¼æ–‡ä»¶ jsoné…ç½®æ–‡ä»¶ ä¼šè¦†ç›–app.jsonå’Œapp.wxsså…¨å±€è®¾ç½®çš„å†…å®¹,å®ç°å•ä¸ªç½‘é¡µçš„ä¸ªæ€§åŒ– app.js 12345678910111213141516171819202122232425262728293031323334353637Page(&#123; //* é¡µé¢çš„åˆå§‹æ•°æ® data: &#123; &#125;, // * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½ onLoad: function (options) &#123; &#125;, //* ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ onReady: function () &#123; &#125;, //* ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢æ˜¾ç¤º onShow: function () &#123; &#125;, //* ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢éšè— onHide: function () &#123; &#125;, //* ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢å¸è½½ onUnload: function () &#123; &#125;, //* é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°--ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ onPullDownRefresh: function () &#123; &#125;, //* é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•° onReachBottom: function () &#123; &#125;, //* ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº« onShareAppMessage: function () &#123; &#125;&#125;) app.json 1234&quot;pages&quot;:[ &quot;pages/index/index&quot; //pages é‡Œé¢çš„è·¯å¾„å…¶å®æ˜¯æŒ‡å‘jsæ–‡ä»¶çš„,å…¶ä¸­ç¬¬ä¸€ä¸ªå°±æ˜¯ç™»é™†é¦–é¡µ] å®ç°è·¯ç”±é…ç½®,åŠå…¨å±€çš„æŸäº›è®¾ç½® app.js** å®šä¹‰äº†æ¯ä¸ªé¡µé¢,æ¯ä¸ªé¡µé¢çš„.jsåˆè°ƒç”¨äº†Page()æ–¹æ³•å®ç°è¯¥é¡µé¢çš„é…ç½®ä¿¡æ¯ å°ç¨‹åºäº‹ä»¶ äº‹ä»¶ == äº‹ä»¶ç±»å‹+å…·ä½“äº‹ä»¶ å…·ä½“äº‹ä»¶ tap longtap toustartã€touchendã€touchmoveã€touchcancel(ç”µè¯ä¸­æ–­) submintã€inputâ€¦â€¦ äº‹ä»¶ç±»å‹ bind å†’æ³¡äº‹ä»¶ catch éå†’æ³¡äº‹ä»¶ currentTarget è¢«ç»‘å®šçš„ç»„ä»¶ dataset æ§ä»¶ç›¸åº”çš„å±æ€§ target å‘ç”Ÿäº‹ä»¶çš„ç»„ä»¶ é¡µé¢è·³è½¬ navigateTo({ url :'xxx' }) &lt;navigator url=&quot;../logs/logs?id=1&amp;title='as'&quot; &gt; &lt;/navigator&gt; Flexå®¹å™¨å’Œå…ƒç´  å®¹å™¨å±æ€§ flex-direction : å†³å®šä¸»è½´æ–¹å‘ flex-wrap : å¤„ç†å¦‚ä½•æ¢è¡Œ flex-flow : flex-dirctionå’Œflex-wrapåˆå¹¶ç®€å†™ justify-content: å…ƒç´ åœ¨ä¸»è½´çš„å¯¹é½æ–¹å¼ space-bewteen ä¸¤ç«¯å¯¹é½ center å±…ä¸­å¯¹é½ flex-start å·¦ä¾§å¯¹é½ flex-end å³ä¾§å¯¹é½ align-items : å…ƒç´ åœ¨äº¤å‰è½´çš„å¯¹é½æ–¹å¼ stretch æ‹‰ä¼¸,å½“æ²¡è®¾ç½®itemé«˜åº¦æ—¶,å æ»¡æ•´ä¸ªå®¹å™¨ baseline :ä»¥æ–‡å­—ä¸ºåº•çº¿å¯¹é½ å…ƒç´ å±æ€§ flex-grow (é»˜è®¤0): å½“æœ‰å¤šä½™ç©ºé—´æ—¶,å…ƒç´ çš„æ”¾å¤§æ¯”ä¾‹ flex-shrink(é»˜è®¤1) : å½“ç©ºé—´ä¸è¶³æ—¶,å…ƒç´ çš„æ”¾å¤§æ¯”ä¾‹ flex-basis: å…ƒç´ åœ¨ä¸»è½´ä¸Šå æ®çš„ç©ºé—´ flex : flex-growã€flex-shrinkã€flex-basisçš„åˆå¹¶ç®€å†™ order : å®šä¹‰å…ƒç´ çš„æ’åˆ—é¡ºåº align-self : å®šä¹‰å…ƒç´ è‡ªèº«çš„å¯¹é½æ–¹å¼ å®šä½ ç›¸å¯¹å®šä½: ç›¸å¯¹å®šä½çš„å…ƒç´ æ˜¯ç›¸å¯¹è‡ªèº«è¿›è¡Œå®šä½,å‚ç…§ç‰©æ˜¯è‡ªå·± ç»å¯¹å®šä½ : ç»å¯¹å®šä½çš„å…ƒç´ æ˜¯ç›¸å¯¹ç¦»å®ƒæœ€è¿‘çš„ä¸€ä¸ªå·²å®šä½çš„çˆ¶çº§å…ƒç´ è¿›è¡Œå®šä½,å¦‚æœæ²¡æœ‰,åˆ™ä»¥æ•´ä¸ªé¡µé¢è¿›è¡Œå®šä½ marginå’Œpaddingçš„åŒºåˆ« marginæ˜¯æŒ‡ä» è‡ªèº«è¾¹æ¡† åˆ° å¦ä¸€ä¸ªå®¹å™¨è¾¹æ¡† ä¹‹é—´çš„è·ç¦»ï¼Œå°±æ˜¯å®¹å™¨å¤–è·ç¦»ã€‚ï¼ˆå¤–è¾¹è·ï¼‰ paddingæ˜¯æŒ‡ è‡ªèº«è¾¹æ¡† åˆ° è‡ªèº«å†…éƒ¨å¦ä¸€ä¸ªå®¹å™¨è¾¹æ¡† ä¹‹é—´çš„è·ç¦»ï¼Œå°±æ˜¯å®¹å™¨å†…è·ç¦»ã€‚ï¼ˆå†…è¾¹è·ï¼‰ rpx åŠ¨æ€å•ä½ csså¸ƒå±€å®ä¾‹ 123456789101112wxml: &lt;view class='list-item' wx:for=\"&#123;&#123;listItem&#125;&#125;\"&gt; &lt;view class='list-item-images'&gt; &lt;image src='../../images/img2.png' class='list-item-images-img' /&gt; &lt;!-- &lt;image class='avatar' src='../../images/avatar.png'/&gt; --&gt; &lt;/view&gt; &lt;view class=\"list-item-text\"&gt; &lt;text&gt;è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜&lt;/text&gt; &lt;/view&gt;&lt;/view&gt; 123456789101112131415wxss:.list-item&#123; height:500rpx; //æ•´ä¸ª å›¾ç‰‡+æ–‡å­— ä¸€å…±é«˜ä¸º500rpx width: 100%;&#125; .list-item-images&#123; height: 300rpx; // å…¶ä¸­å›¾ç‰‡çš„é«˜åº¦ä¸º300rpx width: 100%;&#125;.list-item-images image&#123; //å›¾ç‰‡é«˜ã€å®½å…¨éƒ¨ä¼¸å±• height: 100%; width: 100%;&#125;","categories":[],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://nymrli.top/tags/å‰ç«¯/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","permalink":"https://nymrli.top/tags/å¾®ä¿¡å°ç¨‹åº/"}]},{"title":"Spy++ä½¿ç”¨ä»‹ç»","slug":"Spy-ä½¿ç”¨ä»‹ç»","date":"2018-09-02T11:39:45.000Z","updated":"2019-09-15T08:07:31.005Z","comments":true,"path":"2018/09/02/Spy-ä½¿ç”¨ä»‹ç»/","link":"","permalink":"https://nymrli.top/2018/09/02/Spy-ä½¿ç”¨ä»‹ç»/","excerpt":"","text":"Spy++ (SPYXX.EXE) æ˜¯ä¸€ä¸ªåŸºäº Win32 çš„å®ç”¨å·¥å…·ï¼Œå®ƒæä¾›ç³»ç»Ÿçš„è¿›ç¨‹ã€çº¿ç¨‹ã€çª—å£å’Œçª—å£æ¶ˆæ¯çš„å›¾å½¢è§†å›¾ã€‚ä½¿ç”¨ Spy++ å¯ä»¥æ‰§è¡Œä¸‹åˆ—æ“ä½œï¼š æ˜¾ç¤ºç³»ç»Ÿå¯¹è±¡ï¼ˆåŒ…æ‹¬è¿›ç¨‹ã€çº¿ç¨‹å’Œçª—å£ï¼‰ä¹‹é—´å…³ç³»çš„å›¾å½¢æ ‘ã€‚ æœç´¢æŒ‡å®šçš„çª—å£ã€çº¿ç¨‹ã€è¿›ç¨‹æˆ–æ¶ˆæ¯ã€‚ æŸ¥çœ‹é€‰å®šçš„çª—å£ã€çº¿ç¨‹ã€è¿›ç¨‹æˆ–æ¶ˆæ¯çš„å±æ€§ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¾®è½¯çš„Spy++æ¥æŸ¥çœ‹çª—å£ç±»åç­‰ä¿¡æ¯ï¼Œç„¶åå†ç»“åˆpywin32å®ç°ã€‚ åŠ è½½åˆå§‹ç•Œé¢: ç„¶åç‚¹å‡»å·¥å…·æ çš„æœ›è¿œé•œã€‚å¦‚å›¾æ‰€ç¤º: å‡ºç°æœç´¢çª—å£ï¼Œç„¶åé€šè¿‡ç§»åŠ¨é¶å¿ƒåˆ°æƒ³è¦æŸ¥æ‰¾å¥æŸ„çš„çª—å£åå•å‡»å°±è¡Œäº†ã€‚==&gt;å®ƒçš„å¥æŸ„ã€æ ‡é¢˜ã€ç±»éƒ½ä¼šæ˜¾ç¤º å†ç‚¹å‡»ç¡®å®šã€‚ æ­¤æ—¶ä¼šæœ‰ä¸¤ç§æƒ…å†µã€‚ æˆåŠŸæœç´¢åˆ° æœç´¢ä¸åˆ° åŸå› æ˜¯ä½ æŸ¥æ‰¾çš„çª—å£æ˜¯åœ¨æ‰“å¼€spy++åæ‰“å¼€çš„ï¼Œè§£å†³çš„åŠæ³•å°±æ˜¯æŒ‰F5è¿›è¡Œåˆ·æ–°ï¼Œç„¶åå°±è¡Œäº† æˆåŠŸåéƒ½ä¼šå‡ºç°å¦‚ä¸‹ï¼š å³é”®ï¼Œç‚¹å‡»â€œå±æ€§â€èƒ½çœ‹åˆ°æ›´å¤šè¯¦ç»†å†…å®¹ã€‚","categories":[],"tags":[{"name":"è‡ªåŠ¨åŒ–è¿ç»´","slug":"è‡ªåŠ¨åŒ–è¿ç»´","permalink":"https://nymrli.top/tags/è‡ªåŠ¨åŒ–è¿ç»´/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"è§£å†³å®‰è£…PyUserInputã€pyHooké‡åˆ°çš„é—®é¢˜â€”â€”AttributeError: 'HookManager' object has no attribute 'keyboard_hook","slug":"è§£å†³å®‰è£…PyUserInputã€pyHooké‡åˆ°çš„é—®é¢˜â€”â€”AttributeError-HookManager-object-has-no-attribute-keyboard-hook","date":"2018-09-02T11:33:32.000Z","updated":"2019-09-15T08:07:31.096Z","comments":true,"path":"2018/09/02/è§£å†³å®‰è£…PyUserInputã€pyHooké‡åˆ°çš„é—®é¢˜â€”â€”AttributeError-HookManager-object-has-no-attribute-keyboard-hook/","link":"","permalink":"https://nymrli.top/2018/09/02/è§£å†³å®‰è£…PyUserInputã€pyHooké‡åˆ°çš„é—®é¢˜â€”â€”AttributeError-HookManager-object-has-no-attribute-keyboard-hook/","excerpt":"","text":"å®‰è£…PyUserInputå¤±è´¥ã€‚ ç»æŸ¥çœ‹å‘ç°æ˜¯pyHookï¼ˆpyHookæ˜¯ä¸€ä¸ªç”¨æ¥è¿›è¡Œé”®ç›˜ã€é¼ æ ‡ç­‰å±‚é¢äº‹ä»¶ç›‘æ§çš„åº“ã€‚è¿™ä¸ªåº“çš„æ­£å¸¸å·¥ä½œéœ€è¦pythoncomç­‰æ“ä½œç³»ç»Ÿçš„APIçš„æ”¯æŒã€‚ï¼‰æ— æ³•å®‰è£…ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºè¿™ä¸ªåº“å¯ä»¥è¢«ç”¨äºä¸€äº›æ¯”è¾ƒé‚ªæ¶çš„ç›®çš„ã€‚ç»æœç´¢å‘ç°ç›´æ¥pip install pyHookæ˜¯æ‰¾ä¸åˆ°ç›¸å…³åŒ…çš„ï¼Œä½†å¯ä»¥ä¸‹æºç ç¼–è¯‘å®‰è£…ï¼Œå¯ä»¥åœ¨ https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyhook è¿™é‡Œå¯ä»¥ç›´æ¥ä¸‹è½½åˆ°.whlæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥ä½œä¸ºpip install çš„å‚æ•°æ¥è¿›è¡Œå®‰è£…ã€‚ ç›´æ¥è¾“å…¥pip install pyHook-1.5.1-cp36-cp36m-win_amd64.whlå¥½åƒè¿˜æ˜¯ä¸è¡Œï¼Œç»æç¤ºä½¿ç”¨G:\\Py_opencv\\venv\\Scripts\\python.exe -m pip install pyHook-1.5.1-cp36-cp36m-win_amd64.whlç¬¬ä¸€ä¸ªå‚æ•°æ˜¯pythonè§£é‡Šå™¨ï¼Œ-mé€‰é¡¹å¯ä»¥è®©pythonä»¥è„šæœ¬çš„æ–¹å¼è¿è¡Œä¸€ä¸ªæ¨¡å—ï¼Œpip installåé¢å°±æ˜¯è¦å®‰è£…çš„åŒ…åã€‚ pyHook-1.5.1-cp36-cp36m-win_amd64.whl pyHook:åº“å 1.5.1ï¼šç‰ˆæœ¬å· cp3.6mï¼šCpython3.6ç‰ˆæœ¬,ç¼–ç æ˜¯ucs2,UCS2è®¤ä¸ºæ¯ä¸ªå­—ç¬¦å ç”¨2ä¸ªå­—èŠ‚ï¼ŒUCS4è®¤ä¸ºæ¯ä¸ªå­—èŠ‚å ç”¨4ä¸ªå­—ç¬¦ï¼Œéƒ½æ˜¯UNICODEçš„ç¼–ç å½¢å¼ã€‚ win_amd64:windows64ä½ç¯å¢ƒ whl:å‹ç¼©åŒ…ï¼Œåœ¨å…¶ä¸­åŒ…å«äº†pyæ–‡ä»¶ï¼Œä»¥åŠç»è¿‡ç¼–è¯‘çš„pydæ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨pipå®‰è£… ç”µè„‘ç³»ç»Ÿç¯å¢ƒæŸ¥çœ‹ï¼Œå¯ä»¥å³é”®â€œæˆ‘çš„ç”µè„‘â€-&gt;â€œå±æ€§â€æŸ¥çœ‹ ç„¶åå†ç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥pip install pyuserinputæˆ–æ˜¯åœ¨pycharmä¸‹è½½å®‰è£…éƒ½å¯ä»¥äº†ã€‚ï¼ˆéœ€è¦å…ˆå®‰è£…pywin32ï¼‰ ä¸Šè¿°ä¸‹è½½çš„pyHookæ˜¯åŸºäºPython2çš„,åœ¨python3ä¸‹ä¼šæŠ¥é”™: TypeError: MouseSwitch() missing 8 required positional arguments: 'msg', 'x', 'y', 'data', 'flags', 'time', 'hwnd', and 'window_name' æˆ–è€…AttributeError: 'HookManager' object has no attribute 'keyboard_hook' æ„Ÿè°¢:python3.5å®‰è£…pyHook,è§£å†³ã€TypeError: MouseSwitch() missing 8 required positional arguments: â€˜msgâ€™, â€˜xâ€™, â€˜yâ€™, â€˜dataâ€™, â€˜timeâ€™, â€˜hwndâ€™, and â€˜window_nameâ€™ã€‘è¿™ä¸ªé”™è¯¯ï¼ã€[ä½¿ç”¨Python 3.5/3.6ç›‘å¬æœ¬æœºä»»æ„çª—å£ä¸­çš„æŒ‰é”®æ“ä½œ](ä½¿ç”¨Python 3.5/3.6ç›‘å¬æœ¬æœºä»»æ„çª—å£ä¸­çš„æŒ‰é”®æ“ä½œ)æä¾›çš„è§£å†³æ–¹æ³• éœ€è¦çš„æ¨¡å—ï¼šæ‰©å±•åº“pyhook_py3kï¼ˆæ³¨æ„ï¼Œä¸è¦ä½¿ç”¨pyhookï¼‰ï¼Œpywin32ã€‚ ç¬¬ä¸€æ­¥ï¼Œå®‰è£…pywin32ï¼Œåœ°å€ï¼šhttp://www.lfd.uci.edu/~gohlke/pythonlibs/#pywin32 ç¬¬äºŒæ­¥ï¼Œä¸‹è½½pyhook_py3kï¼Œåœ°å€ï¼šhttps://github.com/Answeror/pyhook_py3k ç¬¬ä¸‰æ­¥ï¼Œä¸‹è½½swig.exeï¼Œåœ°å€ï¼šhttp://www.swig.org/download.html ==&gt;.zipæ ¼å¼è§£å‹ ç¬¬å››æ­¥ï¼Œè§£å‹ç¼©pyhook_py3kï¼Œå¹¶è¿›è¡Œç¼–è¯‘ï¼Œå‘½ä»¤ï¼špython setup.py build_ext --swig=â€¦\\swigwin-3.0.12\\swig.exeï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹swig.exeçš„è·¯å¾„ï¼Œå¦å¤–æœ¬æœºæœ€å¥½å·²å®‰è£…VC2008 ç¬¬äº”æ­¥ï¼Œå®‰è£…ç¼–è¯‘å¥½çš„pyhook_py3kï¼Œå‘½ä»¤ï¼špip install . ç„¶åå°±å¯ä»¥æ­£å¸¸æ“ä½œäº†!!~","categories":[],"tags":[{"name":"è‡ªåŠ¨åŒ–è¿ç»´","slug":"è‡ªåŠ¨åŒ–è¿ç»´","permalink":"https://nymrli.top/tags/è‡ªåŠ¨åŒ–è¿ç»´/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"å¼€å­¦å°è“è½¦180å¤©å…è´¹å¡","slug":"å¼€å­¦å°è“è½¦180å¤©å…è´¹å¡","date":"2018-09-02T08:44:54.000Z","updated":"2019-09-15T08:07:31.058Z","comments":true,"path":"2018/09/02/å¼€å­¦å°è“è½¦180å¤©å…è´¹å¡/","link":"","permalink":"https://nymrli.top/2018/09/02/å¼€å­¦å°è“è½¦180å¤©å…è´¹å¡/","excerpt":"å„ä½çœ‹å®¢è€çˆ·,å¯ä»¥åŠ ä¸‹æˆ‘çš„å…¬ä¼—å·å“¦!è™½ç„¶æ²¡å•¥ä¸œä¸œâ€¦å¾®ä¿¡æœç´¢å…¬ä¼—å·&quot;æˆ‘åªè¦ç“¶æœç²’æ©™å°±å¥½&quot; åŸæ¥æ˜¯180å¤©çš„,ç°åœ¨å¥½åƒåªæœ‰30è¿˜æ˜¯60å¤©äº†â€¦","text":"å„ä½çœ‹å®¢è€çˆ·,å¯ä»¥åŠ ä¸‹æˆ‘çš„å…¬ä¼—å·å“¦!è™½ç„¶æ²¡å•¥ä¸œä¸œâ€¦å¾®ä¿¡æœç´¢å…¬ä¼—å·&quot;æˆ‘åªè¦ç“¶æœç²’æ©™å°±å¥½&quot; åŸæ¥æ˜¯180å¤©çš„,ç°åœ¨å¥½åƒåªæœ‰30è¿˜æ˜¯60å¤©äº†â€¦","categories":[],"tags":[{"name":"ç”Ÿæ´»ç¦åˆ©","slug":"ç”Ÿæ´»ç¦åˆ©","permalink":"https://nymrli.top/tags/ç”Ÿæ´»ç¦åˆ©/"}]},{"title":"ä¾‹é¢˜4:1-3 å¤è€çš„å¯†ç ã€åˆ½å­æ‰‹çš„æ¸¸æˆï¼Œæ•‘æµé‡‘å‘æ”¾","slug":"ä¾‹é¢˜4-1-3-å¤è€çš„å¯†ç ã€åˆ½å­æ‰‹çš„æ¸¸æˆï¼Œæ•‘æµé‡‘å‘æ”¾","date":"2018-09-01T10:46:59.000Z","updated":"2019-09-15T08:07:31.026Z","comments":true,"path":"2018/09/01/ä¾‹é¢˜4-1-3-å¤è€çš„å¯†ç ã€åˆ½å­æ‰‹çš„æ¸¸æˆï¼Œæ•‘æµé‡‘å‘æ”¾/","link":"","permalink":"https://nymrli.top/2018/09/01/ä¾‹é¢˜4-1-3-å¤è€çš„å¯†ç ã€åˆ½å­æ‰‹çš„æ¸¸æˆï¼Œæ•‘æµé‡‘å‘æ”¾/","excerpt":"","text":"ä¾‹é¢˜4-1 å¤è€çš„å¯†ç  å› ä¸ºå­—æ¯å¯ä»¥é‡æ’,æ‰€ä»¥é¡ºåºä¸é‡è¦,è€ŒåˆåŒæ—¶å› ä¸ºå¯ä»¥æ˜ å°„,æ‰€ä»¥å­—æ¯å…·ä½“æ˜¯ä»€ä¹ˆä¸é‡è¦==&gt;åªè¦ç»Ÿè®¡æ’åºåçš„ç»“æœç›¸åŒå°±è¡Œäº† RE(Runtime error)é”™æ³•åŠ ä¸€: é¢˜å·æäº¤é”™è¯¯ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;stdio.h&gt;#include &lt;string.h&gt;void Bubblesort(int *cnt)//å†’æ³¡æ’åº,ä»å¤§åˆ°å°é¡ºåº&#123; int i,j; int min=cnt[0]; for (i = 0; i &lt;26; ++i) &#123; for ( j = i+1; j &lt; 26; ++j) &#123; if (cnt[i] &lt; cnt[j]) &#123; min = cnt[i]; cnt[i]=cnt[j]; cnt[j] = min; &#125; &#125; &#125;&#125;int main()&#123; char s[2][105]; //å­˜æ”¾çŒœæµ‹å­—ç¬¦ä¸²çš„ int cnt[2][27]; //å­˜æ”¾å­—æ¯å‡ºç°æ¬¡æ•° int nlen[2]; //å­—ç¬¦ä¸²çš„é•¿åº¦ while(scanf(\"%s%s\",s[0],s[1])!= EOF) &#123; memset(cnt,0,sizeof(cnt)); int i; for ( i = 0; i &lt; 2; ++i) &#123; nlen[i]= strlen(s[i]); int j; for ( j = 0; j &lt; nlen[i]; ++j) cnt[i][s[i][j]-'A'] ++; Bubblesort(cnt[i]); &#125; int k; for ( k = 0; k &lt; 26; ++k) &#123; if (cnt[0][k] != cnt[1][k]) &#123; printf(\"NO\\n\"); break; &#125; &#125; if (k==26) printf(\"YES\\n\" ); //å¦‚æœ26ä¸ªå­—æ¯å‡ºç°æ¬¡æ•°æ¯”å®Œå…¨ç›¸ç­‰,åˆ™å¯ä»¥è¯´ç›¸åŒ. &#125; return 0;&#125; ä¾‹é¢˜4-2 åˆ½å­æ‰‹çš„æ¸¸æˆ æ³¨æ„å…¨å±€å˜é‡æ˜¯å¦ä½¿ç”¨çš„é—®é¢˜,å…¨å±€å˜é‡å°½é‡å°‘ç”¨â€¦ä½†ç»´æŠ¤å†…å®¹è¾ƒå¤šçš„æƒ…å†µä¸‹,å¯ä»¥è€ƒè™‘ é‡‡ç”¨&quot;è‡ªé¡¶å‘ä¸‹&quot;çš„é¡ºåº 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;stdio.h&gt;#include &lt;string.h&gt;#define maxn 100char ans[maxn],gue[maxn];int left,chance;int win,lose;void guess(char ch)&#123; int bad=1; int i; for ( i = 0; i &lt; strlen(ans); ++i) //åˆ¤æ–­chå­—æ¯æ˜¯å¦åœ¨å­—ç¬¦ä¸²ä¸­ &#123; if (ans[i]==ch) &#123; ans[i] = ' '; bad =0; left--; //å¦‚æœåœ¨çš„è¯,è¿˜å‰©æœªçŒœä¸­å­—æ¯æ•°-1,æœºä¼šä¸å˜ &#125; &#125; if (bad) chance--; //å¦‚æœä¸åœ¨çš„è¯æœºä¼š-1 if(!chance) lose=1; if(!left) win=1;&#125;int main()&#123; int rnd; while(scanf(\"%d%s%s\",&amp;rnd,ans,gue)==3 &amp;&amp; rnd !=-1) &#123; printf(\"Round %d\\n\",rnd); win = lose =0; left= strlen(ans); chance = 7; int i; int anslen=strlen(gue); for( i=0;i&lt; anslen;i++) &#123; guess(gue[i]); if(win || lose) break;&#125; if(win) printf(\"You win.\\n\"); else if(lose) printf(\"You lose.\\n\"); else printf(\"You chickened out.\\n\"); &#125; return 0;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;stdio.h&gt;#include &lt;string.h&gt;char a[1000],g[1000];//å‚¨å­˜å­—ç¬¦ä¸² int abook[26],gbook[26];//æ ‡è®°26ä¸ªå­—æ¯å‡ºç°é¢‘ç‡ int main()&#123; int k; int alen,glen; int i; int j; int suc,fau; int acount; while(scanf(\"%d\",&amp;k)==1&amp;&amp;k!=-1)&#123; scanf(\"%s%s\",a,g); memset(abook,0,sizeof(abook)); memset(gbook,0,sizeof(gbook)); alen=strlen(a); glen=strlen(g); for(i=0;i&lt;alen;i++)//ç»Ÿè®¡ç­”æ¡ˆå­—æ¯é¢‘ç‡ abook[a[i]-'a']++; acount=0; for(i=0;i&lt;26;i++) if(abook[i])//ç»Ÿè®¡ç­”æ¡ˆçš„å­—æ¯ç»„æˆä¸ªæ•°ï¼ˆæ‰£é™¤é›·åŒå­—æ¯ï¼‰ acount++; suc=0;//çŒœå¯¹æ¬¡æ•° fau=0;//çŒœé”™æ¬¡æ•° for(i=0;i&lt;glen;i++)&#123;//ä»¥çŒœæµ‹å­—æ¯ä¸ºåŸºå‡†è¿›è¡Œæ‰«æ j=g[i]-'a'; if(abook[j]==0)&#123;//ç­”æ¡ˆæ— æ­¤å­—æ¯ï¼ŒçŒœæµ‹é”™è¯¯ fau++; if(fau==7)//å½»åº•å¤±è´¥ break; &#125;else if(abook[j]!=0)&#123;//çŒœä¸­å­—æ¯ suc++; abook[j]=0;//å°†æ­¤å­—æ¯ä»ç­”æ¡ˆä¸­å‰”é™¤å‡ºå»ï¼Œæ­¤å¥æ¯”è¾ƒå…³é”®!(å†çŒœæ— æ•ˆ) if(suc==acount)//æˆåŠŸ break; &#125; &#125; printf(\"Round %d\\n\",k); if(fau&gt;=7)//çŒœé”™7æ¬¡åŠä»¥ä¸Š printf(\"You lose.\\n\"); else if(suc==acount)//å…¨éƒ¨çŒœå¯¹ printf(\"You win.\\n\"); else printf(\"You chickened out.\\n\"); &#125; return 0;&#125; ä¾‹é¢˜4-3 æ•‘æµé‡‘å‘æ”¾ åœ†åœˆå¦‚ä½•è½®å›==&gt;æœ¬è´¨ä¸Šæ˜¯è¦æ±‚,å¤§äºnå˜æˆ1,å°äº1å˜æˆnâ€¦å®ç°1.è¶Šç•Œåå½’æ­£ã€‚2.(xxx)%n, é¢†è¿‡è®¾ä¸º1,æ²¡é¢†è¿‡(åˆå§‹)è®¾ä¸º1 è¾ƒä¸ºç®€æ´ã€æ¸…æ™°çš„åšæ³• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;stdio.h&gt;#include &lt;string.h&gt;int book[100];//é¢†è¿‡çš„æ ‡è®°1ï¼Œæ²¡é¢†è¿‡çš„æ ‡è®°0 int main()&#123; int n,k,m; int kcount,mcount; int ki,mi; int kout,mout; int first; int ncount; while(scanf(\"%d%d%d\",&amp;n,&amp;k,&amp;m)==3&amp;&amp;n&amp;&amp;k&amp;&amp;m)&#123; memset(book,0,sizeof(book)); ncount=0; ki=0; mi=n+1; first=1; while(ncount!=n)&#123;//nä¸ªäººå…¨è¢«å¤„ç†å®Œæ¯•//å¤„ç†æ‰‹æ³•æœ‰äº›ç±»ä¼¼å¿«é€Ÿæ’åº kcount=0; mcount=0; //æ¯æ•°ä¸€ä¸ªäºº,éƒ½è¦åˆ¤æ–­æ˜¯ä¸æ˜¯è¯¥è¶Šè¿‡ä»–.åªæœ‰0(æœªé¢†è¿‡,æ‰è®¡æ•°) while(kcount!=k)&#123;//kç³»åˆ—å¤„ç† ki++; if(ki&gt;n)//kiè¶Šç•Œå¤„ç† ki=1; if(book[ki]==0)//æœªè¢«é€‰ä¸­è®¡æ•° kiä¸ºå½“å‰å€¼ kcount++; &#125; while(mcount!=m)&#123;//mç³»åˆ—å¤„ç† mi--; if(mi&lt;1)//miè¶Šç•Œå¤„ç† mi=n; if(book[mi]==0)//æœªè¢«é€‰ä¸­è®¡æ•° miä¸ºå½“å‰å€¼ mcount++; &#125; book[ki]=1;//ä¸ç”¨æ‹…å¿ƒki==mi(é‡å¤è®¾ç½®ä¸º1ä¸å½±å“) book[mi]=1; if(first)&#123;//æ‰“å°å¤„ç† first=0; if(ki!=mi)&#123; printf(\"%3d%3d\",ki,mi); ncount+=2; &#125; else&#123; printf(\"%3d\",ki); ncount++; &#125; &#125;else&#123; if(ki!=mi)&#123; printf(\",%3d%3d\",ki,mi); ncount+=2; &#125; else&#123; printf(\",%3d\",ki); ncount++; &#125; &#125; &#125; printf(\"\\n\"); &#125; return 0;&#125; ä¹¦ä¸Šåšæ³• 123456789101112131415161718192021222324252627282930313233343536#include &lt;stdio.h&gt;#include &lt;string.h&gt;#define maxn 25int n,k,m,a[maxn];int go(int p,int d,int t)&#123; while(t--) //æ¯æ•°ä¸€ä¸ªäººéƒ½è¦åˆ¤æ–­ä»–æ˜¯å¦å·²ç»é¢†è¿‡ do&#123; p = (n+p+d)%n; &#125;while(!a[p]); //==0,é¢†è¿‡ return p;&#125;int main()&#123; while(scanf(\"%d,%d,%d\",&amp;n,&amp;k,&amp;m)==3 &amp;&amp; n) &#123; for (int i = 0; i &lt; n; ++i) a[i]=i; int left =n; int p1 =n,p2=1; while(left) &#123; p1= go(p1,-1,k); p2= go(p2,1,m); printf(\"%d\",p1);left--; if(p1!=p2) printf(\" %d\",p2); a[p1]=a[p2]=0; //é¢†äº†è®¾ç½®ä¸º0 if(left) printf(\",\"); //æ³¨æ„è¾“å‡ºæ ¼å¼ &#125; printf(\"\\n\"); &#125; return 0;&#125;","categories":[],"tags":[{"name":"ACMç«èµ›å…¥é—¨","slug":"ACMç«èµ›å…¥é—¨","permalink":"https://nymrli.top/tags/ACMç«èµ›å…¥é—¨/"},{"name":"C","slug":"C","permalink":"https://nymrli.top/tags/C/"}]},{"title":"WampSeveré…ç½®æœ¬åœ°ç¯å¢ƒï¼Œè§£å†³æ‰“å¼€æ‰“å¼€æœ¬åœ°ç½‘ç«™é—®é¢˜","slug":"WampSeveré…ç½®æœ¬åœ°ç¯å¢ƒï¼Œè§£å†³æ‰“å¼€æ‰“å¼€æœ¬åœ°ç½‘ç«™é—®é¢˜","date":"2018-09-01T06:19:39.000Z","updated":"2019-09-15T08:07:31.013Z","comments":true,"path":"2018/09/01/WampSeveré…ç½®æœ¬åœ°ç¯å¢ƒï¼Œè§£å†³æ‰“å¼€æ‰“å¼€æœ¬åœ°ç½‘ç«™é—®é¢˜/","link":"","permalink":"https://nymrli.top/2018/09/01/WampSeveré…ç½®æœ¬åœ°ç¯å¢ƒï¼Œè§£å†³æ‰“å¼€æ‰“å¼€æœ¬åœ°ç½‘ç«™é—®é¢˜/","excerpt":"","text":"WampServeræ˜¯ä¸€æ¬¾ç”±æ³•å›½äººå¼€å‘çš„Apache WebæœåŠ¡å™¨ã€PHPè§£é‡Šå™¨ä»¥åŠMySQLæ•°æ®åº“çš„æ•´åˆè½¯ä»¶åŒ…ã€‚å…å»äº†å¼€å‘äººå‘˜å°†æ—¶é—´èŠ±è´¹åœ¨ç¹ççš„é…ç½®ç¯å¢ƒè¿‡ç¨‹ï¼Œä»è€Œè…¾å‡ºæ›´å¤šç²¾åŠ›å»åšå¼€å‘ã€‚ ç›´æ¥ç‚¹å‡»æœ¬åœ°çš„.htmlæ˜¯é™æ€åŠ è½½çš„ï¼Œéœ€è¦åŠ¨æ€åŠ è½½çš„æ–‡ä»¶æ˜¯æ— æ³•è¢«åŠ è½½çš„ã€‚ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µã€‚ äºæ˜¯é€‰ç”¨äº†Wampæ­æœ¬åœ°æœåŠ¡å™¨æµè§ˆç½‘ç«™ï¼Œè¿™æ ·å°±èƒ½æˆåŠŸåŠ è½½åŠ¨æ€æ–‡ä»¶äº†ã€‚ åœ¨æ­¤åˆ†äº«ä¸‹é…ç½®WampSeveræ—¶ç¢°åˆ°çš„é—®é¢˜å’Œè§£å†³çš„æ–¹æ³•ï¼š æœåŠ¡å™¨æ˜¯å¦å·²æ­£å¸¸è¿è¡Œ å¦‚æœèƒ½ç™»ä¸Šåˆ™è¡¨ç¤ºæœåŠ¡å™¨èƒ½å¤Ÿæ­£å¸¸è¿è¡Œã€‚(åœ¨åœ°å€æ ä¸­è¾“å…¥localhost:ç«¯å£(æˆ–æ˜¯127.0.0.1:ç«¯å£) æˆ–æ˜¯å·¦é”®å›¾æ ‡é€‰æ‹©â€™localhostâ€™) localhost æŒ‡ä½ æ‰€åœ¨çš„è®¡ç®—æœºæœ¬èº«ã€‚ åœ¨windowsç³»ç»Ÿå®ƒæˆäº†127.0.0.1çš„åˆ«å ï¼Œåœ¨Unixç³»ç»Ÿä¸‹ï¼ŒæŸ¥çœ‹ç½‘å¡é…ç½®ä¼šå‘ç°ä½œä¸ºæœ¬åœ°å›ç¯çš„æ–¹å¼ï¼Œä¸€å®šç¨‹åº¦ä¸Šä½¿ç”¨localhostæ¯”127.0.0.1è¦å¿«ä¸€äº›ã€‚ åœ¨Hostsæ–‡ä»¶ä¸­ï¼ŒlocalhostæŒ‡å‘çš„IPæ˜¯127.0.0.1è¿™ä¸ªå…³ç³»æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚ æŸ¥çœ‹ã€ä¿®æ”¹ç«¯å£ é…ç½®æœ¬åœ°ç¯å¢ƒã€æ·»åŠ é¡¹ç›®ã€æ‰“å¼€æœ¬åœ°ç½‘ç«™ 1é¡¹ç›®ä¸­æ˜¯ç©ºçš„,éœ€è¦æ‰‹åŠ¨å°†è¦æ‰“å¼€çš„ç½‘ç«™æ”¾åˆ°&apos;www&apos;ç›®å½•ä¸­ 1å¯ä»¥é€‰æ‹©è¾“å…¥è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å·¦é”®é€‰æ‹©&apos;wwwç›®å½•&apos;æ‰“å¼€ 1å°†è¦æ‰“å¼€ç½‘ç«™çš„æ–‡ä»¶å¤¹å¤åˆ¶åˆ°&apos;wwwç›®å½•ä¸‹&apos;ï¼Œä¼šå‘ç°åˆšæ·»åŠ çš„æ–‡ä»¶å¤¹å‡ºç°åœ¨äº†é¡¹ç›®ä¸­ã€‚ å‹¾é€‰â€™Add localhost in urlâ€™ 1çœ‹ä¼¼åˆ°æ­¤å·²ç»å¤§åŠŸå‘Šæˆï¼Œç„¶è€Œå†ç‚¹å‡»è¿›å»è¿™äº›æ–‡ä»¶å¤¹æ—¶ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µï¼š 1å¯ä»¥çœ‹åˆ°çš„æ˜¯URLå¹¶ä¸å¯¹ï¼Œæˆ‘ä»¬æ˜¯æƒ³è¦å®ç°é€šè¿‡webæœåŠ¡å™¨çš„æ–¹å¼è®¿é—®è¿™äº›ç½‘ç«™ï¼Œç„¶è€Œè¿™ä¸ªæ˜æ˜¾æ²¡è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œæ ¹æ®æç¤ºï¼Œæˆ‘æ‰¾åˆ°äº†åŸå› ã€‚ 1å³é”®é€‰æ‹©&apos;Wamp Settings&apos;ä¸­å°†&apos;Add localhost in url&apos;é€‰é¡¹å‹¾ä¸Šåå†æ¬¡å¦‚ä¸Šæ‰“å¼€é¡¹ç›®å³å¯ã€‚ï¼ˆè®°å¾—é‡æ–°æ‰“å¼€ä¸€æ¬¡localhosté¡µé¢æˆ–æ˜¯åˆ·æ–°ä¸€ä¸‹ï¼‰ 1å¯ä»¥çœ‹åˆ°ç½‘ç«™æˆåŠŸåœ°é€šè¿‡webæœåŠ¡å™¨æ‰“å¼€äº†ï¼Œé‚£äº›ä¹‹å‰æç¤ºéœ€è¦åŠ¨æ€åŠ è½½çš„æ–‡ä»¶ä¹ŸæˆåŠŸåŠ è½½äº†ã€‚ æ’’èŠ±å®Œç»“ï¼~200æˆåŠŸï¼ â–².çœ‹åˆ°è¿™ï¼Œæˆ‘ç›¸ä¿¡ä½ ä¹Ÿæ˜ç™½äº†ä¸ºä»€ä¹ˆå¿…é¡»è¦æœ‰â€™Add localhost in urlâ€™è¿™æ­¥äº†ã€‚åŒæ—¶ä¹ŸçŒœåˆ°äº†ï¼Œå…¶å®ç›´æ¥åœ¨ç½‘å€é‡Œé¢è¾“å…¥æ­£ç¡®çš„ç½‘å€ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¦‚http://localhost:8080/data-visualize-chain-master/,ç»“æœä¹Ÿæ˜¯èƒ½æ‰“å¼€çš„ã€‚ å¸Œæœ›èƒ½å¯¹ä½ ä»¬æœ‰æ‰€å¸®åŠ©ã€‚","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"WAMP","slug":"WAMP","permalink":"https://nymrli.top/tags/WAMP/"}]},{"title":"Ubuntuä¸‹Sublimeé…ç½®Pythonç¯å¢ƒä½¿ç”¨æŒ‡å¯¼:","slug":"Ubuntuä¸‹Sublimeé…ç½®Pythonç¯å¢ƒä½¿ç”¨æŒ‡å¯¼","date":"2018-09-01T06:04:47.000Z","updated":"2019-09-15T08:07:31.009Z","comments":true,"path":"2018/09/01/Ubuntuä¸‹Sublimeé…ç½®Pythonç¯å¢ƒä½¿ç”¨æŒ‡å¯¼/","link":"","permalink":"https://nymrli.top/2018/09/01/Ubuntuä¸‹Sublimeé…ç½®Pythonç¯å¢ƒä½¿ç”¨æŒ‡å¯¼/","excerpt":"","text":"Sublimeé…ç½®pythonç¼–è¯‘ç¯å¢ƒåŠæ­å»ºè™šæ‹Ÿç¯å¢ƒ:(windowsä¸‹å¤§è‡´ç›¸åŒ) 1.ç¼–è¯‘ç¯å¢ƒé…ç½® 2019-3-6æ›´æ–°æ•™ç¨‹ï¼Œå‘ç°å¥½åƒ å®˜æ–¹ç½‘å€æ‰“ä¸å¼€äº†ï¼Œè¦æ”¹ä¸€ä¸‹æºæ‰è¡Œã€‚ è§£å†³åŠæ³•ï¼š ç‚¹å‡» Preferences -&gt; Settings -&gt; Preferences.sublime-Settingsâ€”â€” User(ä¸€ä¸ªæ–°çª—å£) æ·»åŠ é…ç½®**(åœ¨åŸæœ‰å¤§æ‹¬å·{}é‡Œé¢æ·»åŠ **)ï¼š&quot;channels&quot;: [&quot;https://raw.githubusercontent.com/HBLong/channel_v3_daily/master/channel_v3.json&quot;], ä»£ç ä¸å˜ï¼Œä»ç„¶æ˜¯ä¸‹é¢çš„ä»£ç  æ„Ÿè°¢HBLongæä¾›çš„è§£å†³æ–¹æ¡ˆå’Œæº: åŸæœ‰é“¾æ¥ : è§£å†³ï¼šSublime Text3 packagecontrol.io æ— æ³•è®¿é—®çš„é—®é¢˜ 1import urllib.request,os,hashlib; h = &apos;6f4c264a24d933ce70df5dedcf1dcaee&apos; + &apos;ebe013ee18cced0ef93d5f746d80ef60&apos;; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( &apos;http://packagecontrol.io/&apos; + pf.replace(&apos; &apos;, &apos;%20&apos;)).read(); dh = hashlib.sha256(by).hexdigest(); print(&apos;Error validating download (got %s instead of %s), please try manual install&apos; % (dh, h)) if dh != h else open(os.path.join( ipp, pf), &apos;wb&apos; ).write(by) 1.ç‚¹å‡» å®˜æ–¹ç½‘å€ ä» Sublime Text 3 å®˜æ–¹è·å–ç”¨äºå®‰è£…çš„ä»£ç (å³ä¸Šé¢çš„ä»£ç )ã€‚ä»èœå•æ View --&gt;Show Consoleæˆ–è€…ä½¿ç”¨Ctrl+`(escé”®ä¸‹é¢çš„æŒ‰é”®)ï¼Œè°ƒå‡ºsublimeçš„æ§åˆ¶å°ï¼Œå°†å®˜ç½‘ä¸­çš„pythonä»£ç ç²˜è´´è¿›å»å¹¶æŒ‰Enteræ‰§è¡Œï¼Œæœ€ç»ˆå¯ä»¥å®‰è£…å®Œæˆã€‚åœ¨æ§åˆ¶å°ä¸­ç²˜è´´åˆšæ‰çš„ä»£ç ï¼Œç„¶åç‚¹å‡»å›è½¦ã€‚æœ€åé‡å¯ST3ã€‚ 2.ç°åœ¨ä½ å¯ä»¥é€šè¿‡å¿«æ·é”® cmd+shift+P æ‰“å¼€ Package Control æ¥å®‰è£…å…¶ä»–çš„æ’ä»¶äº†ã€‚è¾“å…¥ install ç„¶åä½ å°±èƒ½çœ‹è§å±å¹•ä¸Šå‡ºç°äº† Package Control: Install Packageï¼Œç‚¹å‡»å›è½¦,ç„¶åæœç´¢sublimeREPL å®‰è£…æˆåŠŸåï¼Œå¯ä»¥åœ¨èœå•æ çš„â€™TOOLâ€™ä¸­æ‰¾åˆ°SublimeREPLï¼Œå¦‚å›¾æ‰€ç¤º 2.å°†èœå•æ æ”¹ä¸ºä¸­æ–‡ è‹¥éœ€è¦å°†èœå•æ æ”¹æˆä¸­æ–‡å¯å¦‚ä¸Šæ“ä½œä¸‹è½½æ’ä»¶â€œConvertToUTF8â€æˆ–æ˜¯å®‰è£…æ’ä»¶â€œChineseLocalizationsâ€(æœ¬äººä½¿ç”¨çš„æ˜¯è¿™ä¸ªï¼Œæ²¡è¯•ConvertToUTF8çš„æ•ˆæœ) (å‚è€ƒåšå®¢:http://blog.51cto.com/11970781/2087971) 3.å®‰è£…Anacondaæ’ä»¶ 1.ç‚¹å‡»åˆšåˆšç”Ÿæˆçš„Package Control -&gt;è¾“å…¥install 2.è¿›å…¥å®‰è£…ç•Œé¢ï¼Œå®‰è£…å¥½åå†åœ¨æ–°çª—å£å‘½ä»¤è¡Œä¸­è¾“å…¥Anacondaå¹¶ç‚¹å‡»ç¬¬ä¸€ä¸ªå¤‡é€‰é¡¹è¿›è¡Œå®‰è£…ã€‚ å®‰è£…å®Œæˆåä¼šæ˜¾ç¤ºmessagesæ–‡æ¡£ã€‚ å®‰è£…Anacondaæ’ä»¶å®Œæˆä¹‹åï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹é€‰é¡¹æ ï¼Œè¯´æ˜Anacondaå®‰è£…æˆåŠŸã€‚ - Goto Definitions èƒ½å¤Ÿåœ¨ä½ çš„æ•´ä¸ªå·¥ç¨‹ä¸­æŸ¥æ‰¾å¹¶ä¸”æ˜¾ç¤ºä»»æ„ä¸€ä¸ªå˜é‡ï¼Œå‡½æ•°æˆ–è€…ç±»çš„å®šä¹‰ã€‚ - Find Usage èƒ½å¤Ÿå¿«é€Ÿçš„æŸ¥æ‰¾æŸä¸ªå˜é‡ï¼Œå‡½æ•°æˆ–è€…ç±»åœ¨æŸä¸ªç‰¹å®šæ–‡ä»¶ä¸­çš„ä»€ä¹ˆåœ°æ–¹è¢«ä½¿ç”¨äº†ã€‚ - Show Documentationï¼š èƒ½å¤Ÿæ˜¾ç¤ºä¸€ä¸ªå‡½æ•°æˆ–è€…ç±»çš„è¯´æ˜æ€§å­—ç¬¦ä¸²(å½“ç„¶ï¼Œæ˜¯åœ¨å®šä¹‰äº†å­—ç¬¦ä¸²çš„æƒ…å†µä¸‹) Anacondaä¼šè‡ªåŠ¨è¡¥å…¨ä»£ç ï¼Œä¹‹å‰ç”¨æƒ¯äº†pycharmå‘ç°çªç„¶æ²¡äº†ä»£ç è¡¥å…¨åå¾ˆä¸ä¹ æƒ¯ï¼ŒAnacondaçš„è¡¥å…¨åŠŸèƒ½è™½ç„¶æ²¡æœ‰pycharmé‚£ä¹ˆå¥½ç”¨ï¼Œä½†è¿˜æ˜¯ä¸é”™çš„ è¿˜æœ‰éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®‰è£…Anacondaæ’ä»¶åï¼Œå¦‚æœpythonä»£ç æ²¡æœ‰éµå¾ªPEP8è§„èŒƒï¼Œä¼šå‡ºç°ç™½è‰²çš„æ¡†æ¡†ï¼Œæˆ–æ˜¯å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Alt+Rè¿›è¡Œè§„èŒƒä»£ç (è¿™ä¸ªå¯ä»¥å»é™¤ï¼Œæ­¥éª¤å¦‚ä¸‹) åœ¨Settings-Useré€‰é¡¹ä¸­æ·»åŠ é…ç½®:{â€œanaconda_lintingâ€:false} 4.å®‰è£…è™šæ‹Ÿç¯å¢ƒ 1.é¦–å…ˆä½¿ç”¨ç»ˆç«¯å®‰è£…virtualenvï¼Œpip3 install virtualenv2.åœ¨éœ€è¦åˆ›å»ºçš„åœ°æ–¹è¿›è¡Œè™šæ‹Ÿç¯å¢ƒçš„æ­å»ºï¼Œä»£ç å¦‚ä¸‹ï¼š 123mkdir pytest(æ–‡ä»¶å¤¹å)cd pytestvirtualenv venv åœ¨ç»ˆç«¯è¿›å…¥è™šæ‹Ÿç¯å¢ƒçš„è¯æ˜¯åœ¨pytestæ–‡ä»¶å¤¹ä¸‹è¾“å…¥å‘½ä»¤source /bin/activateè€Œè¦åœ¨sublimeä¸­è¿›å…¥è™šæ‹Ÿç¯å¢ƒçš„è¯å°±å¾—æŒ‰ç…§å¦‚ä¸‹æ“ä½œï¼š ï¼‘ï¼é¦–å…ˆåœ¨sublimeä¸­å®‰è£…virtualenvæ’ä»¶ï¼ŒCtrl + Shift + Pï¼Œç„¶åè¾“å…¥install,å›è½¦ï¼Œç„¶åæœç´¢virtualenvã€‚ 2. å®‰è£…å®Œæˆåï¼Œç›´æ¥æŒ‰Ctrl + Shift + Pï¼Œå†è¾“å…¥Activateï¼Œè‹¥æ²¡æœ‰è¯¥é€‰é¡¹åˆ™virtualenvå®‰è£…ä¸­å‡ºç°é—®é¢˜ï¼Œéœ€è¦é‡æ–°å®‰è£…ã€‚å¦‚æœæœ‰çš„ä¼šé€‰æ‹©Activateå°±èƒ½å‘ç°åˆšåˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒï¼Œé€‰ä¸­åå›è½¦å³å¯è¿›å…¥è™šæ‹Ÿç¯å¢ƒ 3. å¦‚æœActivateé€‰ä¸­åæ²¡æœ‰å‡ºç°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒï¼Œåˆ™éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ·»åŠ è·¯å¾„.Ctrl + Shift + Pï¼Œç„¶åè¾“å…¥Add directoryï¼Œå›è½¦ï¼Œå±å¹•ä¸‹é¢ä¼šå‡ºç°è¾“å…¥è¡Œï¼ˆDirectory pathï¼‰:å†å°†åˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒè·¯å¾„å¡«å…¥å³å¯ å¦å¤–ï¼Œæˆ‘æ›¾ç¢°åˆ°è¿‡Add directoryåä»ç„¶æ²¡ç”¨çš„æƒ…å†µã€‚é‚£æ—¶ï¼Œå¯é€‰æ‹©â€œâ€Projectâ€=&gt;&quot;Add folder to project&quot;é€‰æ‹©æ–‡ä»¶å=&gt;â€œSave Project asâ€==&gt;ä¿å­˜å¥½å³å¯ å·¥ç¨‹é…ç½®æ–‡ä»¶ä¸ºï¼š .sublime-workspaceã€.sublime-project å…¶ä¸­sublime-projectä¸º: 123456789101112131415161718&#123; &quot;build_systems&quot;: [ &#123; &quot;file_regex&quot;: &quot;^[ ]File &quot;(...?)&quot;, line ([0-9]*)&quot;, &quot;name&quot;: &quot;Anaconda Python Builder&quot;, &quot;selector&quot;: &quot;source.python&quot;, &quot;shell_cmd&quot;: &quot;&quot;python&quot; -u &quot;$file&quot;&quot; &#125; ], &quot;folders&quot;: [ &#123; &quot;path&quot;: &quot;çˆ¬è™«&quot; &#125; ], &quot;virtualenv&quot;: &quot;G:\\pachong\\venv&quot;&#125; è¿™æ ·ç¯å¢ƒå°±é…ç½®å¥½äº†ã€‚æŒ‰Ctrl+Bç¼–è¯‘æ—¶ï¼Œè§‚å¯Ÿ&quot;Tools&quot;-&gt;â€œBuild Systemâ€-&gt;æ˜¯å¦ä¸º&quot;Python+ Virtualenv&quot;ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™é€‰ç”¨è¿™ä¸ªå†Ctrl+Bå°±æ˜¯åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ç¼–è¯‘äº†! ubuntuä¸‹sublimeé»˜è®¤æƒ…å†µä¸‹å¥½åƒä¸èƒ½è¾“å…¥ä¸­æ–‡ï¼Œéœ€è¦ç”¨ä¸‹é¢å‘½ä»¤å°±å¯ä»¥å®Œç¾æ”¯æŒä¸­æ–‡è¾“å…¥ï¼š 1234sudo apt-get update &amp;&amp; sudo apt-get upgradegit clone https://github.com/lyfeyaj/sublime-text-imfix.gitcd sublime-text-imfix./sublime-imfix è½¬è‡ªCV_YOUçš„åšå®¢ å®Œç¾è§£å†³Sublimeæ— æ³•è¾“å…¥ä¸­æ–‡é—®é¢˜ æˆªå›¾å¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œèœå•æ éƒ½æ²¡æœ‰æˆªåˆ°ï¼Œç”¨åˆ°çš„ä¸‰ä¸ªåˆ†åˆ«ä¸ºâ€œé¡¹ç›®(Project)â€ï¼Œâ€œé¦–é€‰é¡¹(Preferences)â€ï¼Œâ€œå¸®åŠ©(Help)â€","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"Sublime Text","slug":"Sublime-Text","permalink":"https://nymrli.top/tags/Sublime-Text/"}]},{"title":"python pywin32 PyUserInputå®ç°è‡ªåŠ¨åŒ–è„šæœ¬","slug":"python-win32api-win32gui-win32con-PyUserInputå®ç°è‡ªåŠ¨åŒ–è„šæœ¬","date":"2018-08-31T11:43:00.000Z","updated":"2020-11-07T03:39:42.948Z","comments":true,"path":"2018/08/31/python-win32api-win32gui-win32con-PyUserInputå®ç°è‡ªåŠ¨åŒ–è„šæœ¬/","link":"","permalink":"https://nymrli.top/2018/08/31/python-win32api-win32gui-win32con-PyUserInputå®ç°è‡ªåŠ¨åŒ–è„šæœ¬/","excerpt":"","text":"python pywin32 PyUserInputå®ç°è‡ªåŠ¨åŒ–è„šæœ¬ pywin32ç”¨spy++å·¥å…·æŸ¥æ‰¾åˆ°å¥æŸ„ï¼Œå†ç»“åˆPyUserInputå°±èƒ½å¾ˆå¥½åœ°å®ç°è‡ªåŠ¨åŒ–è„šæœ¬ã€‚ å¥æŸ„æ˜¯ä¸€ä¸ª32ä½æ•´æ•°ï¼Œåœ¨windowsä¸­æ ‡è®°å¯¹è±¡ç”¨ï¼Œç±»ä¼¼ä¸€ä¸ªdictä¸­çš„keyï¼Œè¯¦æƒ…å‚çœ‹è¿™ç¯‡æ–‡ç« ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152import win32guiimport win32conimport win32api# ä»é¡¶å±‚çª—å£å‘ä¸‹æœç´¢ä¸»çª—å£ï¼Œæ— æ³•æœç´¢å­çª—å£# FindWindow(lpClassName=None, lpWindowName=None) çª—å£ç±»å çª—å£æ ‡é¢˜åhandle = win32gui.FindWindow(\"Notepad\", None) # è·å–çª—å£ä½ç½®left, top, right, bottom = win32gui.GetWindowRect(handle)#è·å–æŸä¸ªå¥æŸ„çš„ç±»åå’Œæ ‡é¢˜title = win32gui.GetWindowText(handle) clsname = win32gui.GetClassName(handle)# æ‰“å°å¥æŸ„# åè¿›åˆ¶print(handle)# åå…­è¿›åˆ¶print(\"%x\" %(handle) )# æœç´¢å­çª—å£# æšä¸¾å­çª—å£hwndChildList = [] win32gui.EnumChildWindows(handle, lambda hwnd, param: param.append(hwnd), hwndChildList)# FindWindowEx(hwndParent=0, hwndChildAfter=0, lpszClass=None, lpszWindow=None) # çˆ¶çª—å£å¥æŸ„ è‹¥ä¸ä¸º0ï¼Œåˆ™æŒ‰ç…§z-indexçš„é¡ºåºä»hwndChildAfterå‘åå¼€å§‹æœç´¢å­çª—ä½“ï¼Œå¦åˆ™ä»ç¬¬ä¸€ä¸ªå­çª—ä½“å¼€å§‹æœç´¢ã€‚ å­çª—å£ç±»å å­çª—å£æ ‡é¢˜subHandle = win32gui.FindWindowEx(handle, 0, \"EDIT\", None)# è·å¾—çª—å£çš„èœå•å¥æŸ„menuHandle = win32gui.GetMenu(subHandle)# è·å¾—å­èœå•æˆ–ä¸‹æ‹‰èœå•å¥æŸ„ # å‚æ•°ï¼šèœå•å¥æŸ„ å­èœå•ç´¢å¼•å·subMenuHandle = win32gui.GetSubMenu(menuHandle, 0)# è·å¾—èœå•é¡¹ä¸­çš„çš„æ ‡å¿—ç¬¦ï¼Œæ³¨æ„ï¼Œåˆ†éš”ç¬¦æ˜¯è¢«ç¼–å…¥ç´¢å¼•çš„ # å‚æ•°ï¼šå­èœå•å¥æŸ„ é¡¹ç›®ç´¢å¼•å· menuItemHandle = win32gui.GetMenuItemID(subMenuHandle, 0)# å‘é€æ¶ˆæ¯ï¼ŒåŠ å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ— è¿”å› # å‚æ•°ï¼šå¥æŸ„ æ¶ˆæ¯ç±»å‹ WParam IParamwin32gui.postMessage(subHandle, win32con.WM_COMMAND, menuItemHandle, 0)# wParamçš„å®šä¹‰æ˜¯32ä½æ•´å‹ï¼Œhigh wordå°±æ˜¯ä»–çš„31è‡³16ä½ï¼Œlow wordæ˜¯å®ƒçš„15è‡³0ä½ã€‚# å½“å‚æ•°è¶…è¿‡ä¸¤ä¸ªï¼ŒwParamå’ŒlParamä¸å¤Ÿç”¨æ—¶ï¼Œå¯ä»¥å°†wParamå°±ç»™æ‹†æˆä¸¤ä¸ªint16æ¥ä½¿ç”¨ã€‚# è¿™ç§æ—¶å€™åœ¨pythoné‡Œè®°å¾—ç”¨æŠŠHIWORDçš„å¸¸æ•°å‘å·¦ç§»16ä½ï¼Œå†åŠ LOWORDï¼Œå³wParam = HIWORD&lt;&lt;16+LOWORDã€‚# ä¸‹é€‰æ¡†å†…å®¹æ›´æ”¹# å‚æ•°ï¼šä¸‹é€‰æ¡†å¥æŸ„ï¼› æ¶ˆæ¯å†…å®¹ï¼› #å‚æ•°ä¸‹é€‰æ¡†çš„å“ªä¸€ä¸ªitemï¼Œä»¥0èµ·å§‹çš„å¾…é€‰é€‰é¡¹çš„ç´¢å¼•ï¼›å¦‚æœè¯¥å€¼ä¸º-1ï¼Œå°†ä»ç»„åˆæ¡†åˆ—è¡¨ä¸­åˆ é™¤å½“å‰é€‰é¡¹ï¼Œå¹¶ä½¿å½“å‰é€‰é¡¹ä¸ºç©ºï¼›# å‚æ•°CB_Handleä¸ºä¸‹é€‰æ¡†å¥æŸ„ï¼ŒPCB_handleä¸‹é€‰æ¡†çˆ¶çª—å£å¥æŸ„if win32api.SendMessage(CB_handle, win32con.CB_SETCURSEL, 1, 0) == 1:# ä¸‹é€‰æ¡†çš„çˆ¶çª—å£å‘½ä»¤# å‚æ•°ï¼šçˆ¶çª—å£å¥æŸ„ï¼› å‘½ä»¤ï¼› # å‚æ•°ï¼šWParamï¼šé«˜ä½è¡¨ç¤ºç±»å‹ï¼Œä½ä½è¡¨ç¤ºå†…å®¹ï¼›å‚æ•°IParamï¼Œä¸‹é€‰æ¡†å¥æŸ„# CBN_SELENDOKå½“ç”¨æˆ·é€‰æ‹©äº†æœ‰æ•ˆçš„åˆ—è¡¨é¡¹æ—¶å‘é€ï¼Œæç¤ºçˆ¶çª—ä½“å¤„ç†ç”¨æˆ·çš„é€‰æ‹©ã€‚ LOWORDä¸ºç»„åˆæ¡†çš„ID. HIWORDä¸ºCBN_SELENDOKçš„å€¼ã€‚ win32api.SendMessage(PCB_handle, win32con.WM_COMMAND, 0x90000, CB_handle) # CBN_SELCHANGEå½“ç”¨æˆ·æ›´æ”¹äº†åˆ—è¡¨é¡¹çš„é€‰æ‹©æ—¶å‘é€ï¼Œä¸è®ºç”¨æˆ·æ˜¯é€šè¿‡é¼ æ ‡é€‰æ‹©æˆ–æ˜¯é€šè¿‡æ–¹å‘é”®é€‰æ‹©éƒ½ä¼šå‘é€æ­¤é€šçŸ¥ã€‚LOWORDä¸ºç»„åˆæ¡†çš„ID. HIWORDä¸ºCBN_SELCHANGEçš„å€¼ã€‚ win32api.SendMessage(PCB_handle, win32con.WM_COMMAND, 0x10000, CB_handle) # è®¾ç½®æ–‡æœ¬æ¡†å†…å®¹ï¼Œç­‰çª—å£å¤„ç†å®Œæ¯•åè¿”å›trueã€‚ä¸­æ–‡éœ€ç¼–ç æˆgbk # å‚æ•°ï¼šå¥æŸ„ï¼›æ¶ˆæ¯ç±»å‹ï¼›# å‚æ•°WParamï¼Œæ— éœ€ä½¿ç”¨ï¼› # å‚æ•°IParamï¼Œè¦è®¾ç½®çš„å†…å®¹ï¼Œå­—ç¬¦ä¸²win32api.SendMessage(handle, win32con.WM_SETTEXT, 0, os.path.abspath(fgFilePath).encode('gbk'))# æ§ä»¶ç‚¹å‡»ç¡®å®š,å¤„ç†æ¶ˆæ¯åè¿”å›0# å‚æ•°:çª—å£å¥æŸ„; æ¶ˆæ¯ç±»å‹; å‚æ•°WParam HIWORDä¸º0ï¼ˆæœªä½¿ç”¨ï¼‰ï¼ŒLOWORDä¸ºæ§ä»¶çš„ID; å‚æ•°IParam 0ï¼ˆæœªä½¿ç”¨ï¼‰,ç¡®å®šæ§ä»¶çš„å¥æŸ„win32api.SendMessage(Mhandle, win32con.WM_COMMAND, 1, confirmBTN_handle)# è·å–çª—å£æ–‡æœ¬ä¸å«æˆªå°¾ç©ºå­—ç¬¦çš„é•¿åº¦# å‚æ•°ï¼šçª—å£å¥æŸ„ï¼› æ¶ˆæ¯ç±»å‹ï¼› å‚æ•°WParamï¼› å‚æ•°IParambufSize = win32api.SendMessage(subHandle, win32con.WM_GETTEXTLENGTH, 0, 0) +1# åˆ©ç”¨apiç”ŸæˆBufferstrBuf = win32gui.PyMakeBuffer(bufSize)print(strBuf)# å‘é€æ¶ˆæ¯è·å–æ–‡æœ¬å†…å®¹# å‚æ•°ï¼šçª—å£å¥æŸ„ï¼› æ¶ˆæ¯ç±»å‹ï¼›æ–‡æœ¬å¤§å°ï¼› å­˜å‚¨ä½ç½®length = win32gui.SendMessage(subHandle, win32con.WM_GETTEXT, bufSize, strBuf)# åå‘å†…å®¹ï¼Œè½¬ä¸ºå­—ç¬¦ä¸²# text = str(strBuf[:-1])address, length = win32gui.PyGetBufferAddressAndLen(strBuf) text = win32gui.PyGetString(address, length) # print('text: ', text)# é¼ æ ‡å•å‡»äº‹ä»¶#é¼ æ ‡å®šä½åˆ°(30,50)win32api.SetCursorPos([30,150])#æ‰§è¡Œå·¦å•é”®å‡»ï¼Œè‹¥éœ€è¦åŒå‡»åˆ™å»¶æ—¶å‡ æ¯«ç§’å†ç‚¹å‡»ä¸€æ¬¡å³å¯win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP | win32con.MOUSEEVENTF_LEFTDOWN, 0, 0, 0, 0)#å³é”®å•å‡»win32api.mouse_event(win32con.MOUSEEVENTF_RIGHTUP | win32con.MOUSEEVENTF_RIGHTDOWN, 0, 0, 0, 0)def click1(x,y): #ç¬¬ä¸€ç§ win32api.SetCursorPos((x,y)) win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN,x,y,0,0) win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP,x,y,0,0)def click2(x,y): #ç¬¬äºŒç§ ctypes.windll.user32.SetCursorPos(x,y) ctypes.windll.user32.mouse_event(2,0,0,0,0) ctypes.windll.user32.mouse_event(4,0,0,0,0)def click_it(pos): #ç¬¬ä¸‰ç§ handle= win32gui.WindowFromPoint(pos) client_pos =win32gui.ScreenToClient(handle,pos) tmp=win32api.MAKELONG(client_pos[0],client_pos[1]) win32gui.SendMessage(handle, win32con.WM_ACTIVATE,win32con.WA_ACTIVE,0) win32gui.SendMessage(handle, win32con.WM_LBUTTONDOWN,win32con.MK_LBUTTON,tmp) win32gui.SendMessage(handle, win32con.WM_LBUTTONUP,win32con.MK_LBUTTON,tmp)# å‘é€å›è½¦win32api.keybd_event(13,0,0,0)win32api.keybd_event(13,0,win32con.KEYEVENTF_KEYUP,0)# å…³é—­çª—å£win32gui.PostMessage(win32lib.findWindow(classname, titlename), win32con.WM_CLOSE, 0, 0)# æ£€æŸ¥çª—å£æ˜¯å¦æœ€å°åŒ–ï¼Œå¦‚æœæ˜¯æœ€å¤§åŒ–if(win32gui.IsIconic(hwnd)):# win32gui.ShowWindow(hwnd, win32con.SW_SHOWNORMAL) win32gui.ShowWindow(hwnd, 8) sleep(0.5)# SW_HIDEï¼šéšè—çª—å£å¹¶æ¿€æ´»å…¶ä»–çª—å£ã€‚nCmdShow=0ã€‚# SW_MAXIMIZEï¼šæœ€å¤§åŒ–æŒ‡å®šçš„çª—å£ã€‚nCmdShow=3ã€‚# SW_MINIMIZEï¼šæœ€å°åŒ–æŒ‡å®šçš„çª—å£å¹¶ä¸”æ¿€æ´»åœ¨Zåºä¸­çš„ä¸‹ä¸€ä¸ªé¡¶å±‚çª—å£ã€‚nCmdShow=6ã€‚# SW_RESTOREï¼šæ¿€æ´»å¹¶æ˜¾ç¤ºçª—å£ã€‚å¦‚æœçª—å£æœ€å°åŒ–æˆ–æœ€å¤§åŒ–ï¼Œåˆ™ç³»ç»Ÿå°†çª—å£æ¢å¤åˆ°åŸæ¥çš„å°ºå¯¸å’Œä½ç½®ã€‚åœ¨æ¢å¤æœ€å°åŒ–çª—å£æ—¶ï¼Œåº”ç”¨ç¨‹åºåº”è¯¥æŒ‡å®šè¿™ä¸ªæ ‡å¿—ã€‚nCmdShow=9ã€‚# SW_SHOWï¼šåœ¨çª—å£åŸæ¥çš„ä½ç½®ä»¥åŸæ¥çš„å°ºå¯¸æ¿€æ´»å’Œæ˜¾ç¤ºçª—å£ã€‚nCmdShow=5ã€‚# SW_SHOWDEFAULTï¼šä¾æ®åœ¨STARTUPINFOç»“æ„ä¸­æŒ‡å®šçš„SW_FLAGæ ‡å¿—è®¾å®šæ˜¾ç¤ºçŠ¶æ€ï¼ŒSTARTUPINFO ç»“æ„æ˜¯ç”±å¯åŠ¨åº”ç”¨ç¨‹åºçš„ç¨‹åºä¼ é€’ç»™CreateProcesså‡½æ•°çš„ã€‚nCmdShow=10ã€‚# SW_SHOWMAXIMIZEDï¼šæ¿€æ´»çª—å£å¹¶å°†å…¶æœ€å¤§åŒ–ã€‚nCmdShow=3ã€‚# SW_SHOWMINIMIZEDï¼šæ¿€æ´»çª—å£å¹¶å°†å…¶æœ€å°åŒ–ã€‚nCmdShow=2ã€‚# SW_SHOWMINNOACTIVEï¼šçª—å£æœ€å°åŒ–ï¼Œæ¿€æ´»çª—å£ä»ç„¶ç»´æŒæ¿€æ´»çŠ¶æ€ã€‚nCmdShow=7ã€‚# SW_SHOWNAï¼šä»¥çª—å£åŸæ¥çš„çŠ¶æ€æ˜¾ç¤ºçª—å£ã€‚æ¿€æ´»çª—å£ä»ç„¶ç»´æŒæ¿€æ´»çŠ¶æ€ã€‚nCmdShow=8ã€‚# SW_SHOWNOACTIVATEï¼šä»¥çª—å£æœ€è¿‘ä¸€æ¬¡çš„å¤§å°å’ŒçŠ¶æ€æ˜¾ç¤ºçª—å£ã€‚æ¿€æ´»çª—å£ä»ç„¶ç»´æŒæ¿€æ´»çŠ¶æ€ã€‚nCmdShow=4ã€‚# SW_SHOWNORMALï¼šæ¿€æ´»å¹¶æ˜¾ç¤ºä¸€ä¸ªçª—å£ã€‚å¦‚æœçª—å£è¢«æœ€å°åŒ–æˆ–æœ€å¤§åŒ–ï¼Œç³»ç»Ÿå°†å…¶æ¢å¤åˆ°åŸæ¥çš„å°ºå¯¸å’Œå¤§å°ã€‚åº”ç”¨ç¨‹åºåœ¨ç¬¬ä¸€æ¬¡æ˜¾ç¤ºçª—å£çš„æ—¶å€™åº”è¯¥æŒ‡å®šæ­¤æ ‡å¿—ã€‚nCmdShow=1ã€‚ æ„Ÿè°¢python win32api win32gui win32con çª—å£å¥æŸ„ å‘é€æ¶ˆæ¯ å¸¸ç”¨æ–¹æ³• é”®ç›˜è¾“å…¥ï¼Œä»£ç ä¸»è¦æ¥è‡ªäºä»– â–².éœ€è¦æ³¨æ„åœ¨windowså’Œmacä¸‹æ¥å£å‚æ•°å¯èƒ½æœ‰æ‰€ä¸åŒã€‚ win32è™½ç„¶ä¹Ÿå¯æ§åˆ¶é”®ç›˜ï¼Œä½†ä¸å¦‚ä½¿ç”¨PyUserInputçš„æ–¹ä¾¿ã€‚å®‰è£…PyUserInputæ•™ç¨‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364from pymouse import PyMousefrom pykeyboard import PyKeyboard#å®ä¾‹åŒ–m = PyMouse() k = PyKeyboard()x_dim, y_dim = m.screen_size()# é¼ æ ‡ç‚¹å‡» å‚æ•°:x,y,button=1(å·¦é”®)ã€2(å³é”®)ã€3(ä¸­é—´),æ¬¡æ•°m.click(x_dim, y_dim, button=1,n=1) # é”®ç›˜è¾“å…¥ å‚æ•°:str,é—´éš”k.type_string('Hello, World!',interval=0)# æŒ‰ä½ä¸€ä¸ªé”®k.press_key('H')# æ¾å¼€ä¸€ä¸ªé”®k.release_key('H')# ç›¸å½“äº===&gt;æŒ‰ä½å¹¶æ¾å¼€ï¼Œtapä¸€ä¸ªé”®k.tap_key('e')# tapæ”¯æŒé‡å¤çš„é—´æ­‡ç‚¹å‡»é”®,å‚æ•°:str,æ¬¡æ•°,é—´éš”k.tap_key('l',n=2,interval=5) #åˆ›å»ºç»„åˆé”®===&gt;press_keyå’Œrelease_keyç»“åˆä½¿ç”¨k.press_key(k.alt_key)k.tap_key(k.tab_key)k.release_key(k.alt_key)# ç‰¹æ®ŠåŠŸèƒ½é”®k.tap_key(k.function_keys[5]) # Tap F5k.tap_key(k.numpad_keys['Home']) # Tap 'Home' on the numpadk.tap_key(k.numpad_keys[5], n=3) # Tap 5 on the numpad, thrice# Macç³»ç»ŸæŒ‰é”®k.press_keys(['Command','shift','3'])# Windowsç³»ç»ŸæŒ‰é”®k.press_keys([k.windows_l_key,'d'])å…¶ä¸­pymouseçš„PyMouseEventå’Œpykeyboardçš„PyKeyboardEventè¿˜å¯ç”¨äºç›‘å¬é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶çš„è¾“å…¥class Clickonacci(PyMouseEvent): def __init__(self): PyMouseEvent.__init__(self) self.fibo = fibo() def click(self, x, y, button, press): '''Print Fibonacci numbers when the left click is pressed.''' if button == 1: if press: print('Press times:%d'.format(press)) else: # Exit if any other mouse button used self.stop()C = Clickonacci()C.run()class TapRecord(PyKeyboardEvent): def __init__(self): PyKeyboardEvent.__init__(self) def tap(self, keycode, character, press): print(time.time(), keycode, character, press)t = TapRecord()t.run()#è¿™äº›å¯¹è±¡æ˜¯ä¸€ä¸ªæ¶æ„ç”¨äºç›‘å¬é¼ æ ‡å’Œé”®ç›˜çš„è¾“å…¥ï¼›ä»–ä»¬é™¤äº†ç›‘å¬ä¹‹å¤–ä¸ä¼šåšä»»ä½•äº‹ï¼Œéœ€è¦ç»§æ‰¿é‡æ„ä»–ä»¬#PyKeyboardEventä¸ºç¼–å†™å®Œæˆï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä¸€ä¸ªç»§æ‰¿PyMouseEventçš„ä¾‹å­ï¼š é™„å½• æŸ¥æ‰¾çª—ä½“å¥æŸ„ è²Œä¼¼åœ¨win32ç¼–ç¨‹çš„ä¸–ç•Œé‡Œï¼ŒåŒ…æ‹¬çª—å£åˆ°æ–‡æœ¬æ¡†çš„æ‰€æœ‰æ§ä»¶å°±æ˜¯çª—ä½“ï¼Œæ‰€æœ‰çš„çª—ä½“éƒ½æœ‰ç‹¬ç«‹çš„å¥æŸ„ã€‚è¦æ“ä½œä»»æ„ä¸€ä¸ªçª—ä½“ï¼Œä½ éƒ½éœ€è¦æ‰¾åˆ°è¿™ä¸ªçª—ä½“çš„å¥æŸ„ 123456FindWindow(lpClassName=None, lpWindowName=None):è‡ªé¡¶å±‚çª—å£ï¼ˆä¹Ÿå°±æ˜¯æ¡Œé¢ï¼‰å¼€å§‹æœç´¢æ¡ä»¶åŒ¹é…çš„çª—ä½“ï¼Œå¹¶è¿”å›è¿™ä¸ªçª—ä½“çš„å¥æŸ„ã€‚ä¸æœç´¢å­çª—å£ã€ä¸åŒºåˆ†å¤§å°å†™ã€‚æ‰¾ä¸åˆ°å°±è¿”å›0å‚æ•°ï¼šlpClassNameï¼šå­—ç¬¦å‹ï¼Œæ˜¯çª—ä½“çš„ç±»åï¼Œè¿™ä¸ªå¯ä»¥åœ¨Spy++é‡Œæ‰¾åˆ°ã€‚lpWindowNameï¼šå­—ç¬¦å‹ï¼Œæ˜¯çª—å£åï¼Œä¹Ÿå°±æ˜¯æ ‡é¢˜æ ä¸Šä½ èƒ½çœ‹è§çš„é‚£ä¸ªæ ‡é¢˜ã€‚è¯´æ˜ï¼šè¿™ä¸ªå‡½æ•°æˆ‘ä»¬ä»…èƒ½ç”¨æ¥æ‰¾ä¸»çª—å£ã€‚ 12345678FindWindowEx(hwndParent=0, hwndChildAfter=0, lpszClass=None, lpszWindow=None);æè¿°ï¼šæœç´¢ç±»åå’Œçª—ä½“ååŒ¹é…çš„çª—ä½“ï¼Œå¹¶è¿”å›è¿™ä¸ªçª—ä½“çš„å¥æŸ„ã€‚ä¸åŒºåˆ†å¤§å°å†™ï¼Œæ‰¾ä¸åˆ°å°±è¿”å›0ã€‚å‚æ•°ï¼šhwndParentï¼šè‹¥ä¸ä¸º0ï¼Œåˆ™æœç´¢å¥æŸ„ä¸ºhwndParentçª—ä½“çš„å­çª—ä½“ã€‚hwndChildAfterï¼šè‹¥ä¸ä¸º0ï¼Œåˆ™æŒ‰ç…§z-indexçš„é¡ºåºä»hwndChildAfterå‘åå¼€å§‹æœç´¢å­çª—ä½“ï¼Œå¦åˆ™ä»ç¬¬ä¸€ä¸ªå­çª—ä½“å¼€å§‹æœç´¢ã€‚lpClassNameï¼šå­—ç¬¦å‹ï¼Œæ˜¯çª—ä½“çš„ç±»åï¼Œè¿™ä¸ªå¯ä»¥åœ¨Spy++é‡Œæ‰¾åˆ°ã€‚lpWindowNameï¼šå­—ç¬¦å‹ï¼Œæ˜¯çª—å£åï¼Œä¹Ÿå°±æ˜¯æ ‡é¢˜æ ä¸Šä½ èƒ½çœ‹è§çš„é‚£ä¸ªæ ‡é¢˜ã€‚è¯´æ˜ï¼šæ‰¾åˆ°äº†ä¸»çª—å£ä»¥åå°±é å®ƒæ¥å®šä½å­çª—ä½“å•¦ å¦å¤–ï¼Œpythonä¸­æ‰¾å›æ¥çš„å¥æŸ„éƒ½æ˜¯åè¿›åˆ¶æ•´å‹ï¼ŒSpy++é‡Œæ˜¾ç¤ºçš„éƒ½æ˜¯åå…­è¿›åˆ¶æ•´å‹ï¼Œè¿™ä¸ªè¦æ³¨æ„ä¸‹ï¼Œè°ƒè¯•çš„æ—¶å€™ç”¨åå…­è¿›åˆ¶è¾“å‡ºå¥æŸ„ï¼Œå¦‚ä¸‹ï¼šprint &quot;%x&quot; % (handle) 1234567891011121314151617GetMenu(hwnd) æè¿°ï¼šè·å–çª—å£çš„èœå•å¥æŸ„ã€‚ å‚æ•°ï¼š hwndï¼šæ•´å‹ï¼Œéœ€è¦è·å–èœå•çš„çª—å£çš„å¥æŸ„ã€‚ è¯´æ˜ï¼šè·å–çš„æ˜¯æ’å›¾ä¸­é»„è‰²çš„éƒ¨åˆ†ã€‚GetSubMenu(hMenu, nPos) æè¿°ï¼šè·å–èœå•çš„ä¸‹æ‹‰èœå•æˆ–è€…å­èœå•ã€‚ å‚æ•°ï¼š hMenuï¼šæ•´å‹ï¼Œèœå•çš„å¥æŸ„ï¼Œä»GetMenuè·å¾—ã€‚ nPosï¼šæ•´å‹ï¼Œä¸‹æ‹‰èœå•æˆ–å­èœå•çš„çš„ç´¢å¼•ï¼Œä»0ç®—èµ·ã€‚ è¯´æ˜ï¼šè¿™ä¸ªå¯ä»¥è·å–æ’å›¾ä¸­è“è‰²çš„éƒ¨åˆ†ï¼›å¦‚æè¿°æ‰€è¿°ï¼Œè¿™ä¸ªä¸ä»…å¯ä»¥è·å–æœ¬ä¾‹ä¸­çš„ä¸‹æ‹‰èœå•ï¼Œè¿˜å¯ä»¥è·å–å­èœå•ã€‚GetMenuItemID(hMenu, nPos) æè¿°ï¼šè·å–èœå•ä¸­ç‰¹å®šé¡¹ç›®çš„æ ‡è¯†ç¬¦ã€‚ å‚æ•°ï¼š hMenuï¼šæ•´å‹ï¼ŒåŒ…å«æ‰€éœ€èœå•é¡¹çš„èœå•å¥æŸ„ï¼Œä»GetSubMenuè·å¾—ã€‚ nPosï¼šæ•´å‹ï¼Œèœå•é¡¹çš„ç´¢å¼•ï¼Œä»0ç®—èµ·ã€‚ è¯´æ˜ï¼šè¿™ä¸ªè·å–çš„å°±æ˜¯çº¢è‰²åŒºåŸŸä¸­çš„é¡¹ç›®å•¦ï¼Œæ³¨æ„ï¼Œåˆ†éš”ç¬¦æ˜¯è¢«ç¼–å…¥ç´¢å¼•çš„ï¼Œæ‰€ä»¥Opençš„ç´¢å¼•æ˜¯2è€Œé1ï¼Œè€ŒExitçš„ç´¢å¼•æ˜¯9è€Œé6ã€‚ 12345678PostMessage(hWnd, Msg, wParam, lParam) æè¿°ï¼šåœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­åŠ å…¥ä¸ºæŒ‡å®šçš„çª—ä½“åŠ å…¥ä¸€æ¡æ¶ˆæ¯ï¼Œå¹¶é©¬ä¸Šè¿”å›ï¼Œä¸ç­‰å¾…çº¿ç¨‹å¯¹æ¶ˆæ¯çš„å¤„ç†ã€‚ å‚æ•°ï¼š hWndï¼šæ•´å‹ï¼Œæ¥æ”¶æ¶ˆæ¯çš„çª—ä½“å¥æŸ„ Msgï¼šæ•´å‹ï¼Œè¦å‘é€çš„æ¶ˆæ¯ï¼Œè¿™äº›æ¶ˆæ¯éƒ½æ˜¯windowsé¢„å…ˆå®šä¹‰å¥½çš„ï¼Œå¯ä»¥å‚è§ç³»ç»Ÿå®šä¹‰æ¶ˆæ¯ï¼ˆSystem-Defined Messagesï¼‰ wParamï¼šæ•´å‹ï¼Œæ¶ˆæ¯çš„wParamå‚æ•° lParamï¼šæ•´å‹ï¼Œæ¶ˆæ¯çš„lParamå‚æ•° è¯´æ˜ï¼šç®€å•è¯´ï¼Œå°±æ˜¯ç»™æŒ‡å®šç¨‹åºå‘ä¸€ä¸ªæ¶ˆæ¯ï¼Œè¿™äº›æ¶ˆæ¯éƒ½ç”¨æ•´å‹ç¼–å¥½å·ï¼Œä½œä¸ºwindowsçš„å¸¸é‡å¯ä»¥æŸ¥è¯¢çš„ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç”¨çš„å°±æ˜¯win32conè¿™ä¸ªåº“é‡Œå®šä¹‰çš„WM_COMMANDè¿™ä¸ªæ¶ˆæ¯ï¼Œå…·ä½“çš„wParamå’ŒlParamæ˜¯æ ¹æ®æ¶ˆæ¯çš„ä¸åŒè€Œä¸åŒçš„ã€‚å…·ä½“è¯·æ ¹æ®MSDNæŸ¥é˜…ã€‚ æŸ¥é˜…MSDNçš„æ¶ˆæ¯æ—¶ï¼Œä¼šå‘ç°æœ‰çš„wParamå®šä¹‰äº†low wordå’Œhigh wordï¼Œè¿™æ˜¯ä»€ä¹ˆå‘¢ï¼ŸwParamçš„å®šä¹‰æ˜¯32ä½æ•´å‹ï¼Œhigh wordå°±æ˜¯ä»–çš„31è‡³16ä½ï¼Œlow wordæ˜¯å®ƒçš„15è‡³0ä½ï¼Œå¦‚å›¾ã€‚æœ‰æ—¶ï¼Œä¸€ä¸ªæ¶ˆæ¯åªéœ€è¦ä¸è¶…è¿‡ä¸¤ä¸ªå‚æ•°ï¼Œé‚£wParamå°±å¯ä»¥å½“ä¸€ä¸ªå‚æ•°ç”¨ã€‚ä¸‡ä¸€å‚æ•°å¤šäº†ï¼ŒwParamå°±ç»™æ‹†æˆäº†ä¸¤ä¸ªint16æ¥ä½¿ç”¨ã€‚è¿™ç§æ—¶å€™åœ¨pythoné‡Œè®°å¾—ç”¨16è¿›åˆ¶æŠŠæ•´å½¢è¡¨ç¤ºå‡ºæ¥å°±æ¯”è¾ƒæ¸…çˆ½å•¦ã€‚ ç”¨äº†SendMessageè€Œä¸æ˜¯PostMessageï¼Œå…¶åŒºåˆ«å°±åœ¨äºæˆ‘ä»¬å¯ä»¥é€šè¿‡SendMessageå–å¾—æ¶ˆæ¯çš„è¿”å›ä¿¡æ¯ã€‚å› ä¸ºå¯¹äºæˆ‘ä»¬è¦è®¾ç½®æ–‡æœ¬æ¡†ä¿¡æ¯çš„WM_SETTEXTä¿¡æ¯æ¥è¯´ï¼Œè®¾ç½®æˆåŠŸå°†è¿”å›Trueã€‚ 123456789101112131415161718SendMessage(hWnd, Msg, wParam, lParam) æè¿°ï¼šåœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­åŠ å…¥ä¸ºæŒ‡å®šçš„çª—ä½“åŠ å…¥ä¸€æ¡æ¶ˆæ¯ï¼Œç›´åˆ°çª—ä½“å¤„ç†å®Œä¿¡æ¯æ‰è¿”å›ã€‚ å‚æ•°ï¼š hWndï¼šæ•´å‹ï¼Œæ¥æ”¶æ¶ˆæ¯çš„çª—ä½“å¥æŸ„ Msgï¼šæ•´å‹ï¼Œè¦å‘é€çš„æ¶ˆæ¯ï¼Œè¿™äº›æ¶ˆæ¯éƒ½æ˜¯windowsé¢„å…ˆå®šä¹‰å¥½çš„ï¼Œå¯ä»¥å‚è§ç³»ç»Ÿå®šä¹‰æ¶ˆæ¯ï¼ˆSystem-Defined Messagesï¼‰ wParamï¼šæ•´å‹ï¼Œæ¶ˆæ¯çš„wParamå‚æ•° lParamï¼šæ•´å‹ï¼Œæ¶ˆæ¯çš„lParamå‚æ•° è¯´æ˜ï¼šwParamå’ŒIParamæ ¹æ®å…·ä½“çš„æ¶ˆæ¯ä¸åŒè€Œæœ‰ä¸åŒçš„å®šä¹‰ï¼Œè¯¦æƒ…å‚é˜…Part 2. WM_SETTEXT æ¶ˆæ¯ æè¿°ï¼šè®¾ç½®çª—ä½“çš„æ–‡æœ¬ å‚æ•°ï¼š wParamï¼šæœªä½¿ç”¨ lParamï¼šä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä»¥nullç»“å°¾çš„å­—ç¬¦ä¸²ã€‚çª—ä½“æ–‡æœ¬å°†è¢«è®¾ç½®ä¸ºè¯¥å­—ç¬¦ä¸²ã€‚ è¿”å›å€¼ï¼š å¦‚æœæˆåŠŸè®¾ç½®ï¼Œåˆ™è¿”å›1ï¼ˆMSDNåŸæ–‡æ˜¯è¿”å›Trueï¼‰ è¯´æ˜ï¼š ä¸Šé¢çš„å®šä¹‰æ˜¯ç›´æ¥ä»MSDNä¸Šç¿»è¯‘è¿‡æ¥çš„ï¼Œåœ¨Pythonçš„è¯­å¢ƒé‡Œé¢æ²¡æœ‰æŒ‡é’ˆï¼Œä½ åªéœ€è¦æŠŠå˜é‡åä½œä¸ºlParamä¼ å…¥å°±å¥½äº†ã€‚ å¦å¤–ï¼Œè¯·æ³¨æ„ç¼–ç ï¼ŒåŒ…å«ä¸­æ–‡è¯·ç”¨gbkç¼–ç ï¼Œå¦åˆ™ä¹±ç ã€‚ 123456WM_COMMAND æ¶ˆæ¯æè¿°ï¼šå½“ç”¨æˆ·é€‰æ‹©äº†èœå•ï¼ˆæˆ–æŒ‰é’®ç­‰æ§ä»¶çš„ï¼‰å‘½ä»¤ï¼Œæˆ–æ§ä»¶å‘é€é€šçŸ¥åˆ°çˆ¶çª—å£ï¼Œæˆ–åŠ é€Ÿé”®å‡»ï¼ˆaccelerator keystroke is translatedï¼‰æ—¶å‘é€ã€‚å‚æ•°ï¼šæ ¹æ®æƒ…æ™¯ä¸åŒè€Œä¸åŒï¼Œåœ¨è¿™é‡Œå±äºç”¨æˆ·å‘½ä»¤ï¼Œå‚æ•°é…ç½®å¦‚ä¸‹wParamï¼šHIWORDä¸º0ï¼ˆæœªä½¿ç”¨ï¼‰ï¼ŒLOWORDä¸ºæ§ä»¶çš„IDlParamï¼š0ï¼ˆæœªä½¿ç”¨ï¼‰è¿”å›å€¼ï¼šå¦‚æœçª—ä½“å¤„ç†äº†æ¶ˆæ¯ï¼Œåº”è¿”å›0 1234567891011121314é¡ºä¾¿ï¼Œå¦‚æœè¦è·å–ç›®æ ‡æ–‡æœ¬æ¡†çš„å†…å®¹å‘¢ï¼Œå¯ä»¥ä½¿ç”¨WM_GETTEXTï¼Œå¦‚ä¸‹ï¼šWM_GETTEXTæ¶ˆæ¯ï¼šæè¿°ï¼šå°†çª—ä½“çš„æ–‡æœ¬å†…å®¹å¤åˆ¶åˆ°æŒ‡å®šçš„bufferå¯¹è±¡ä¸­å‚æ•°ï¼šwParamï¼šè¦å¤åˆ¶å­—ç¬¦çš„æœ€å¤§é•¿åº¦ï¼ŒåŒ…æ‹¬æˆªå°¾çš„ç©ºå­—èŠ‚lParamï¼šç”¨æ¥ä¿å­˜å­—ç¬¦ä¸²çš„bufferçš„æŒ‡é’ˆè¿”å›å€¼ï¼šè¿”å›å¤åˆ¶å­—ç¬¦çš„æ•°é‡ï¼Œä¸åŒ…æ‹¬æˆªå°¾çš„ç©ºå­—èŠ‚åˆ©ç”¨win32gui.PyMakeBuffer(len, addr)å¯ä»¥é€ ä¸€ä¸ªbufferå¯¹è±¡ï¼Œç±»ä¼¼python3ä¸­çš„bytearrayï¼ŒlParamçš„è¿”å›å€¼ã€‚è€Œåˆ©ç”¨WM_GETTEXTLENGTHå¯ä»¥è·å–ä¸å«æˆªå°¾ç©ºå­—èŠ‚çš„æ–‡æœ¬é•¿åº¦çš„é•¿åº¦ï¼Œå¯ä»¥ç”¨æ¥è®¾ç½®Bufferçš„é•¿åº¦ã€‚å®Œæ•´çš„ç¤ºä¾‹å¦‚ä¸‹ï¼šbuf_size = win32gui.SendMessage(hwnd, win32con.WM_GETTEXTLENGTH, 0, 0) + 1 # è¦åŠ ä¸Šæˆªå°¾çš„å­—èŠ‚str_buffer = win32gui.PyMakeBuffer(buf_size) # ç”Ÿæˆbufferå¯¹è±¡win32api.SendMessage(hwnd, win32con.WM_GETTEXT, buf_size, str_buffer) # è·å–bufferstr = str(str_buffer[:-1]) # è½¬ä¸ºå­—ç¬¦ä¸² 1234567891011121314151617181920212223242526272829303132333435363738Part 4ï¼šæ§ä»¶æ“ä½œBâ€”â€”ä¸‹æ‹‰è‡³äºå¦å­˜ä¸ºå›¾ç‰‡ï¼Œæƒ…å†µè¦ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œå› ä¸ºå¦å­˜ä¸ºå›¾ç‰‡çš„é»˜è®¤é€‰é¡¹æ˜¯BMPï¼Œç‰¹åˆ«ä¸å·§ï¼Œæˆ‘ä½¿ç”¨çš„FaceGenç‰ˆæœ¬ä¿å­˜ä¸ºBMPæœ‰BUGï¼Œä¸èƒ½æˆåŠŸä¿å­˜ï¼Œæ‰€ä»¥æˆ‘ä»¬é™¤äº†å®šä½ä¿å­˜æ–‡ä»¶çš„è·¯å¾„ä»¥å¤–ï¼Œè¿˜éœ€è¦å¯¹æ–‡ä»¶ç±»å‹çš„ä¸‹æ‹‰ç»„åˆæ¡†(ComboBoxè¿›)è¡Œæ“ä½œï¼šæˆ‘ä»¬å‡è®¾æˆ‘ä»¬æ‰¾åˆ°äº†ç»„åˆæ¡†çš„å¥æŸ„ä¸ºCB_handleï¼Œæˆ‘ä»¬å¯ä»¥ç”¨CB_SETCURSELæ¶ˆæ¯æ¥æ›´æ”¹å½“å‰çš„é€‰é¡¹ï¼šCB_SETCURSEL æ¶ˆæ¯æè¿°ï¼šå‚æ•°ï¼šwParamï¼šä»¥0èµ·å§‹çš„å¾…é€‰é€‰é¡¹çš„ç´¢å¼•ï¼›å¦‚æœè¯¥å€¼ä¸º-1ï¼Œå°†ä»ç»„åˆæ¡†åˆ—è¡¨ä¸­åˆ é™¤å½“å‰é€‰é¡¹ï¼Œå¹¶ä½¿å½“å‰é€‰é¡¹ä¸ºç©ºlParamï¼šæœªä½¿ç”¨ã€‚è¿”å›å€¼ï¼šæ›´æ”¹é€‰æ‹©æˆåŠŸå°†è¿”å›æ‰€è®¾ç½®é€‰é¡¹çš„ç´¢å¼•å·ã€‚åªè¦ç»™ç»„åˆæ¡†å‘ä¸€ä¸ªCB_SETCURSELæ¶ˆæ¯ï¼Œä½ å°±ä¼šå‘ç°ä¸‹æ‹‰åˆ—è¡¨çš„é€‰é¡¹å·²ç»æ”¹å˜äº†ã€‚è¿™æ—¶ç‚¹ä¿å­˜ï¼Œä½ å°±ä¼šå‘ç°ï¼Œè¿™ä¿å­˜çš„è·Ÿä¹‹å‰çš„ä¸€æ ·å•Šï¼æ ¹æœ¬æ²¡æœ‰å˜ï¼é—®é¢˜åœ¨å“ªé‡Œï¼Ÿæˆ‘ä»¬ç”¨é¼ æ ‡æˆ–è€…é”®ç›˜æ“ä½œä¸€ä¸‹ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä¸€æ—¦æ›´ä¿å­˜ç±»å‹ï¼Œä¿å­˜çª—å£é‡Œçš„é¢„è§ˆä¹Ÿä¼šéšä¹‹å˜åŒ–ã€‚æ‰€ä»¥ï¼Œé™¤äº†CB_SETCURSELä»¥å¤–ï¼Œä¸€å®šè¿˜ç¼ºäº†ç‚¹å„¿ä»€ä¹ˆã€‚è°ƒç”¨Spy++çš„æ¶ˆæ¯æœºåˆ¶æŸ¥çœ‹æ‰‹åŠ¨æ“ä½œï¼Œæˆ‘ä»¬çš„ä¸‹æ‹‰ç»„åˆæ¡†é™¤äº†æ¸²æŸ“å’Œç‚¹å‡»ï¼Œå¥½åƒæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å€¼å¾—æ³¨æ„çš„ã€‚é‚£å†çœ‹çœ‹çˆ¶çª—ä½“å‘¢ï¼Ÿå¥½åƒæœ‰ç‚¹å„¿ä¸å¤ªä¸€æ ·çš„ä¸œè¥¿ï¼šCBN_SELENDOK é€šçŸ¥ï¼ˆnotification codeï¼‰æè¿°ï¼šå½“ç”¨æˆ·é€‰æ‹©äº†æœ‰æ•ˆçš„åˆ—è¡¨é¡¹æ—¶å‘é€ï¼Œæç¤ºçˆ¶çª—ä½“å¤„ç†ç”¨æˆ·çš„é€‰æ‹©ã€‚çˆ¶çª—ä½“é€šè¿‡WM_COMMANDæ¶ˆæ¯æ¥æ”¶è¿™ä¸ªé€šçŸ¥ã€‚å‚æ•°ï¼šï¼ˆä½œä¸ºWM_COMMANDçš„å‚æ•°ï¼‰wParamï¼šLOWORDä¸ºç»„åˆæ¡†çš„ID. HIWORDä¸ºCBN_SELENDOKçš„å€¼ã€‚lParamï¼šç»„åˆæ¡†çš„å¥æŸ„ã€‚CBN_SELCHANGE é€šçŸ¥ï¼ˆnotification codeï¼‰æè¿°ï¼šå½“ç”¨æˆ·æ›´æ”¹äº†åˆ—è¡¨é¡¹çš„é€‰æ‹©æ—¶å‘é€ï¼Œä¸è®ºç”¨æˆ·æ˜¯é€šè¿‡é¼ æ ‡é€‰æ‹©æˆ–æ˜¯é€šè¿‡æ–¹å‘é”®é€‰æ‹©éƒ½ä¼šå‘é€æ­¤é€šçŸ¥ã€‚çˆ¶çª—ä½“é€šè¿‡WM_COMMANDæ¶ˆæ¯æ¥æ”¶è¿™ä¸ªé€šçŸ¥ã€‚å‚æ•°ï¼šï¼ˆä½œä¸ºWM_COMMANDçš„å‚æ•°ï¼‰wParamï¼šLOWORDä¸ºç»„åˆæ¡†çš„ID. HIWORDä¸ºCBN_SELCHANGEçš„å€¼ã€‚lParamï¼šç»„åˆæ¡†çš„å¥æŸ„ã€‚è¯´æ˜ï¼šä»–ä»¬æ˜¯WM_COMMANDæ¶ˆæ¯wParamçš„high wordï¼ˆwParamçš„16-31ä½ï¼Œè¯¦æƒ…å‚è§Part 2ï¼‰çš„å¸¸æ•°ä¹‹ä¸€ï¼Œåœ¨Pythonä¸­å¯ä»¥ç”¨ä½ç§»æ“ä½œå°†å…¶ç§»åŠ¨åˆ°é«˜ä½ä¸Šï¼ˆa&lt;&lt;16ï¼‰ï¼Œå†ç”¨åŠ æ³•åŠ ä¸Šä½ä½çš„å†…å®¹ã€‚ç»§ç»­æŸ¥MSDNçš„èµ„æ–™ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå¯¹äºä¸€ä¸ªæœ‰æ•ˆçš„é€‰æ‹©ï¼Œä¸€å®šä¼šå‘é€è¿™ä¸¤ä¸ªé€šçŸ¥ï¼Œå‘é€å®ŒCBN_SELENDOKä»¥åé©¬ä¸Šå‘é€CBN_SELCHANGEã€‚è€Œä¸”ï¼Œä½¿ç”¨CB_SETCURSELæ¶ˆæ¯æ—¶ï¼ŒCBN_SELCHANGEé€šçŸ¥æ˜¯ä¸ä¼šè¢«é€è¾¾çš„ï¼é—®é¢˜å°±åœ¨è¿™é‡Œï¼ŒåŠ ä¸Šè¿™ä¸¤ä¸ªæ¶ˆæ¯ä¹‹åï¼Œå°±èƒ½æ­£å¸¸æ“ä½œä¸‹æ‹‰èœå•äº†ã€‚ 12345if win32api.SendMessage(CB_handle, win32con.CB_SETCURSEL, format_dict[format], 0) == format_dict[format]:win32api.SendMessage(PCB_handle, win32con.WM_COMMAND, win32con.CBN_SELENDOK&lt;&lt;16+0, CB_handle) # æ§ä»¶çš„IDæ˜¯0ï¼Œæ‰€ä»¥ä½ä½ç›´æ¥åŠ 0win32api.SendMessage(PCB_handle, win32con.WM_COMMAND, win32con.CBN_SELCHANGE&lt;&lt;16+0, CB_handle)else:raise Exception(\"Change saving type failed\")","categories":[],"tags":[{"name":"è‡ªåŠ¨åŒ–è¿ç»´","slug":"è‡ªåŠ¨åŒ–è¿ç»´","permalink":"https://nymrli.top/tags/è‡ªåŠ¨åŒ–è¿ç»´/"},{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Pythonå­—å…¸åŸºæœ¬æ“ä½œä»‹ç»","slug":"Pythonå­—å…¸åŸºæœ¬æ“ä½œä»‹ç»","date":"2018-08-30T13:14:27.000Z","updated":"2019-09-15T08:07:30.986Z","comments":true,"path":"2018/08/30/Pythonå­—å…¸åŸºæœ¬æ“ä½œä»‹ç»/","link":"","permalink":"https://nymrli.top/2018/08/30/Pythonå­—å…¸åŸºæœ¬æ“ä½œä»‹ç»/","excerpt":"","text":"åˆ›å»ºå­—å…¸ info={} info=dict() åˆå§‹åŒ–å­—å…¸ æ³•ä¸€ 123key = &apos;name&apos;info = &#123; key :&apos;cold&apos;&#125;==&#123;&apos;name&apos;:&apos;cold&apos;&#125; æ³•äºŒ 12info = dict(key = &apos;cold&apos;)==&#123;&apos;key&apos;:&apos;cold&apos;&#125; æ³•ä¸‰ 1#è¿˜æœ‰å¯ä»¥ä½¿ç”¨dict(zip(a,b))å…¶ä¸­a,béƒ½æ˜¯åˆ—è¡¨,ä¼šç”Ÿæˆä»¥Aä¸­å…ƒç´ ä¸ºé”®,Bä¸­å…ƒç´ ä¸ºå€¼çš„å­—å…¸ æ’å…¥æ–°çš„é”®å€¼å¯¹(æ›´æ–°) info.update(name=â€˜coldâ€™, blog=â€˜www.linuxzen.comâ€™) åœ¨å­—å…¸æœ‰æ²¡æœ‰kè¿™ä¸ªé”®æ—¶å¯ä»¥ä½¿ç”¨dict.setdefault(key,value) è¿˜å¯ä»¥ä½¿ç”¨dict(var = value)å…¶ä¸­varå¯ä»¥æ˜¯å˜é‡,ä¹Ÿå¯ä»¥ä¸æ˜¯,æ³¨æ„ä¸ç”¨åŠ  æˆ–æ˜¯_dict[â€˜xxxâ€™]=â€˜yyyâ€™ è·å¾—é”®å€¼ ç¡®å®šå­˜åœ¨çš„æƒ…å†µä¸‹- info.get(â€˜xxxâ€™) info[â€˜xxxâ€™] ä¸ç¡®å®šæ˜¯å¦å­˜åœ¨ info.get(â€˜xxxâ€™) éå†å­—å…¸ è·å¾—key,å†é€šè¿‡keyæ¥è·å¾—valuefor key in dicprint(%d,%d%(key,_dict[key])) ä½¿ç”¨dict.items()for key,value in dic.items()print â€˜key is %s,value is %sâ€™%(key,value) å­—å…¸åˆ é™¤ del(info['xxx']) or del info['xxx']","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://nymrli.top/tags/Python/"}]},{"title":"Hello~æ­å»ºHexoåšå®¢","slug":"hello-hexo","date":"2018-08-30T13:14:27.000Z","updated":"2022-03-29T15:46:19.744Z","comments":true,"path":"2018/08/30/hello-hexo/","link":"","permalink":"https://nymrli.top/2018/08/30/hello-hexo/","excerpt":"","text":"ç”µè„‘ç¯å¢ƒæ˜¯Windowsï¼Œå®‰è£…å¥½gitåï¼Œæ‰€æœ‰æ­å»ºæ“ä½œå‡åœ¨git bashå†…å®Œæˆ 1.éœ€è¦å®‰è£…git, node.js, npm æ³¨:ç¬¬ä¸€æ¬¡å®‰è£…Gitä¼šè®©é…ç½®userä¿¡æ¯ 123&gt; $git config --global user.name \"yourname\" #ï¼ˆyournameæ˜¯gitçš„ç”¨æˆ·åï¼‰&gt; $git config --global user.email \"youremail\"ï¼‰&gt; 2.ä½¿ç”¨npmå®‰è£…hexoï¼š npm install -g hexo 3.åˆ›å»ºhexoæ–‡ä»¶å¤¹ï¼Œå¹¶å•å‡»é¼ æ ‡å³é”®é€‰æ‹© Git bashï¼š(æˆ‘çš„åˆ›å»ºè·¯å¾„æ˜¯ï¼šE:\\hexoï¼‰ 4.åœ¨åˆšåˆšæ‰“å¼€çš„git bashå‘½ä»¤æ¡†ä¸­æ“ä½œï¼š 1234$hexo init #hexo ä¼šè‡ªåŠ¨åœ¨ç›®å½•ä¸‹åˆ›å»ºç½‘ç«™æ‰€éœ€è¦çš„æ–‡ä»¶$npm install #å®‰è£…ä¾èµ–åŒ…$hexo generate # ç­‰ä»·äºhexo g$hexo server #ç°åœ¨å¯ä»¥ç”¨127.0.0.1:4000è®¿é—®hexoé»˜è®¤çš„hello worldç•Œé¢,ç­‰ä»·äºhexo s 5.éƒ¨ç½²åˆ°github (https://github.com/)ï¼Œ é¦–å…ˆæ³¨å†Œç™»å½•,ç„¶ååˆ›å»ºé¡µé¢ä»“åº“ï¼ŒRepository name å‘½åå¿…é¡»æ˜¯ youname.github.io ï¼Œï¼ˆyouname å°±æ˜¯ä½ æ³¨å†Œæ—¶å€™ç”¨çš„nameï¼‰ ssh-keygen -t rsa -C &quot;email&quot; #ç”Ÿæˆsshå¯†é’¥ï¼ŒæŒ‰ä¸‰æ¬¡å›è½¦é”®ï¼Œå¯†ç ä¸ºç©º,è¿™è¾¹ä¼šç”Ÿæˆid_rsaå’Œ_rsa.pubæ–‡ä»¶ï¼Œæ‰“å¼€id_rsa.pubï¼Œå¤åˆ¶å…¨æ–‡æ·»åŠ åˆ°GitHub çš„Add SSH keyä¸­ã€‚ æœ€åå¯ä»¥éªŒè¯ä¸€ä¸‹ssh -T git@github.com,çœ‹å‡ºç°çš„æ˜¯ä¸æ˜¯Hi &quot;Yourname&quot;å¦‚æœå‡ºç°äº†ä½ çš„githubç”¨æˆ·å,åˆ™æˆåŠŸäº† 6.ä¸‹è½½Hexoä¸»é¢˜ $git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia #ä¸‹è½½hexoçš„yilia æ¨¡æ¿åˆ°è‡ªå·±çš„æ–‡ä»¶ç›®å½•ä¸‹ æ‰“å¼€é¡¹ç›®ç›®å½•ä¸‹çš„**_config.yml**æ–‡ä»¶ï¼Œæ›´æ”¹themeï¼šyilia â–²æ³¨æ„: _config.ymlæ–‡ä»¶ä¸­é…ç½®æ—¶:åé¢éƒ½è¦åŠ ç©ºæ ¼,ä¸:éš”å¼€ 7.å¼€å¯è¯„è®ºåŠŸèƒ½ï¼šä½¿ç”¨gitment $npm install gitment --save #å®‰è£…gitment ç„¶ååœ¨ https://github.com/settings/applications/new è¿›è¡Œæ³¨å†Œï¼Œè·å–Client IDå’ŒClient Secret â–²æ³¨æ„:å…¶ä¸­Authorization callback URLæ˜¯ä¸ªå‘: è¿™ä¸€é¡¹ä¸èƒ½ä¹±å¡«,ä¸è®©å°±ä¸èƒ½&quot;åˆå§‹åŒ–è¯„è®º&quot;â€¦ åº”è¯¥æ€ä¹ˆå¡«å‘¢? å¦‚æœä½ ç»‘å®šäº†è‡ªå·±çš„åŸŸåå°±ç›´æ¥å†™è‡ªå·±çš„åŸŸå: https://nymrli.top/ å¦‚æœæ²¡æœ‰çš„è¯æ‰å¡«å†™http://Freedomisgood.github.io,å¦åˆ™ä¼šä¸€ç›´å¼¹å›åšå®¢é¦–é¡µ,è€Œä¸èƒ½&quot;åˆå§‹åŒ–è¯„è®º&quot;æˆ–è€…&quot;å‘è¡¨è¯„è®º&quot; å…¶ä¸­çš„åŸå› å°±åœ¨äº,æ—¢å¯ä»¥é€šè¿‡www.nymrli.topè§£æï¼Œä¹Ÿå¯é€šè¿‡nymrli.topè§£æ,è¿˜å¯ä»¥é€šhttp://Freedomisgood.github.ioè§£æ,è€ŒAuthorization callback URLåªèƒ½å†™ä¸€ä¸ª.(æœ€ç»ˆè§£æåˆ°çš„ç½‘ç«™)â€¦===&gt;å°±æ˜¯nymrli.top â–³.æ„Ÿè°¢IsResultXaLæä¾›çš„æ€è·¯ æ‰“å¼€themes/yiliaç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶è¿›è¡Œä¿®æ”¹å¹¶ä¿å­˜ï¼š å†æ¬¡ç”Ÿæˆç½‘ç«™,æäº¤ç½‘ç«™:hexo d -gå°±å¯ä»¥è¾“å…¥ç½‘å€:https://yourname.github.ioæ‰“å¼€ä½ çš„åšå®¢äº† 8.æ˜¾ç¤ºæ–‡ç« æ‘˜è¦å›¾ç‰‡ 1 æŠŠä¸»é¡µé…ç½®æ–‡ä»¶_config.yml é‡Œçš„post_asset_folder:è¿™ä¸ªé€‰é¡¹è®¾ç½®ä¸ºtrue åœ¨hexoç›®å½•ä¸‹æ‰“å¼€git Bshæˆ–è€…power Shell,npm install hexo-asset-image --saveå®‰è£…æ’ä»¶ å†è¿è¡Œhexo n &quot;xxxx&quot;æ¥ç”Ÿæˆmdåšæ–‡æ—¶ï¼Œ/source/_postsæ–‡ä»¶å¤¹å†…é™¤äº†xxxx.mdæ–‡ä»¶è¿˜æœ‰ä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ 4 æœ€ååœ¨xxxx.mdä¸­æƒ³å¼•å…¥å›¾ç‰‡æ—¶ï¼Œå…ˆæŠŠå›¾ç‰‡å¤åˆ¶åˆ°xxxxè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶ååªéœ€è¦åœ¨xxxx.mdä¸­æŒ‰ç…§markdownçš„æ ¼å¼å¼•å…¥å›¾ç‰‡ï¼š 1![ä½ æƒ³è¾“å…¥çš„æ›¿ä»£æ–‡å­—](xxxx/å›¾ç‰‡å.jpg) â–² .ä¹‹å‰ä¸€ç›´å¤±è´¥,åŸå› åœ¨äº,æˆ‘å†™å›¾ç‰‡é“¾æ¥çš„æ—¶å€™æ˜¯ç›´æ¥æ‹–åŠ¨å›¾ç‰‡åˆ°ç¼–è¾‘å™¨ä¸­çš„,è·¯å¾„ä¸º![v2-ä»£æ›¿æ–‡å­—](E:/hexo/source/_posts/xxxx/å›¾ç‰‡å.jpg),åæ¥ä¸€ç›´é”™è¯¯,æ— æ³•æ­£å¸¸æ˜¾ç¤ºåï¼Œå‘ç°åªéœ€è¦å†™æˆ![ä»£æ›¿æ–‡å­—](xxxx/å›¾ç‰‡å.jpg)å³å¯â€¦ æ–‡ç« æ€»ä½“æ¡†æ¶: 12345678910---layout: phototitle: Hello Hexodate: 2018-08-30 21:14:27tags: - hexo---![ä»£æ›¿æ–‡å­—](xxxx/å›¾ç‰‡å.jpg)&lt;!--more--&gt;æ­£æ–‡ â†’æ¨ä¸€ä¸ªä¸é”™çš„æ–‡ç« Hexo+Coding+Githubéƒ¨ç½²ä¸ªäººåšå®¢Errorå…¨é›†,å¦‚æœå‡ºç°æœªèƒ½è§£å†³çš„é—®é¢˜,å¸Œæœ›èƒ½ä»è¿™ç¯‡æ–‡ç« ç•¥å¾®å¾—åˆ°å¯å‘. å¼‚å¸¸ï¼š Nunjucks Error expected variable endè§£å†³åŠæ³• ç”¨{ { } }æˆ–{ ï¼… ï¼… }åŒ…è£…çš„å†…å®¹å°†è¢«è§£æï¼Œå¹¶å¯èƒ½å¯¼è‡´é—®é¢˜ã€‚æ‚¨å¯ä»¥ä½¿ç”¨åŸå§‹æ ‡ç­¾æ’ä»¶åŒ…è£…æ•æ„Ÿå†…å®¹ã€‚ æ‰¾åˆ°æ­£æ–‡é‡Œé¢{ {ã€} }ã€{ %ã€% }è¿™æ ·çš„è¯­å¥ï¼Œä½œå¦‚ä¸‹ä¿®æ”¹ï¼š 12345```&#123;% row %&#125;Hello &#123;&#123; sensitive &#125;&#125;&#123;% endrow %&#125;``` å…¶ä»–æ–¹æ³• { {å’Œ} }ä¹‹é—´åŠ ä¸Šç©ºæ ¼å˜æˆ{ {å’Œ} } ï¼ˆè¿™é‡Œçœ‹ä¸å‡ºåŒºåˆ«ï¼ŒçŸ¥é“è¿™ä¸ªæ„æ€å°±è¡Œâ€¦ï¼‰ { %å’Œ% }ä¹‹é—´åŠ ä¸Šç©ºæ ¼å˜æˆ{ %å’Œ% }","categories":[],"tags":[{"name":"ç¯å¢ƒé…ç½®","slug":"ç¯å¢ƒé…ç½®","permalink":"https://nymrli.top/tags/ç¯å¢ƒé…ç½®/"},{"name":"hexo","slug":"hexo","permalink":"https://nymrli.top/tags/hexo/"}]}]}